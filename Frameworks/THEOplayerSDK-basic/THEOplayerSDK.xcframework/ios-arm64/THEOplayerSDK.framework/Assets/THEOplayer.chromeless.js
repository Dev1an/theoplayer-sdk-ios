/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.1 (3.4.0)
 Created: 2022-05-05T14:53:56.352Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,w=t.parseInt,g=t.parseFloat,y=t.isNaN,m=t.Uint8Array,p=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),l.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.C="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=E.match(/Firefox\/([0-9\.]+)/i),P=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),B=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=D?g(D[1]):0,this.H=/Android/i.test(E),this.V=N?g(N[1]):0,this.G=/windows phone (8|8\.1)/i.test(E),this.Y=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Z=this.M&&this.B&&!this.j,this.J=/iPod/i.test(E),this.K=/Mobile Safari/i.test(E),this.nt=/EOSSTB/i.test(E),this.it=(this.Y||this.j||this.Z||this.J)&&!this.G,this.et=this.G||this.it||this.H||this.K,this.st=/CriOS/i.test(E),this.ut=Boolean(t.chrome&&/google/i.test(o.vendor))||this.st,this.ot=this.ut&&/Edg\//i.test(o.userAgent),this.ht=R?w(R[1],10):0,this.ct=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.ft=I?w(I[1],10):0,this.vt=/SMART-TV.*Tizen/i.test(E),this.dt=O?g(O[1]):0,this._t=/webos|web0s/i.test(E),this.wt=/Edge\/\d+/i.test(E),this.yt=/Trident/i.test(E),this.pt=this.yt&&!t.ActiveXObject&&"ActiveXObject"in t,this.kt=/Vivaldi/i.test(E),this.bt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.At=x?g(x[1]):0,this.Tt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.G&&!this.vt,this.St=C?g(C[2]):0,this.Et=Boolean(P),this.It=P?g(P[1]):0,this.Rt=/CrKey/.test(E),this.Nt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Dt="ios"===e.I,this.Ct="ios"===e.g,this.xt=this.Ct||this.Dt,this.Pt="ios"===e.R,this.Ot="ios"===e.N,this.Bt="ios"===e.C}return A(n,[{key:"Lt",get:function(){return this.B}},{key:"Mt",get:function(){return this.M}},{key:"Ut",get:function(){return this.U}},{key:"Ft",get:function(){return this.F}},{key:"Ht",get:function(){return this.H}},{key:"zt",get:function(){return this.V}},{key:"Vt",get:function(){return this.G}},{key:"Wt",get:function(){return this.Y}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Z}},{key:"Gt",get:function(){return this.J}},{key:"Qt",get:function(){return this.it}},{key:"Yt",get:function(){return this.nt}},{key:"jt",get:function(){return this.K}},{key:"Zt",get:function(){return this.et}},{key:"Jt",get:function(){return this.st}},{key:"$t",get:function(){return this.ut}},{key:"Kt",get:function(){return this.ft}},{key:"tn",get:function(){return this.ot}},{key:"nn",get:function(){return this.ht}},{key:"in",get:function(){return this.vt}},{key:"rn",get:function(){return this.dt}},{key:"sn",get:function(){return this._t}},{key:"un",get:function(){return this.wt}},{key:"hn",get:function(){return this.yt}},{key:"an",get:function(){return this.pt}},{key:"cn",get:function(){return this.kt}},{key:"fn",get:function(){return this.bt}},{key:"vn",get:function(){return this.At}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"_n",get:function(){return this.Et}},{key:"wn",get:function(){return this.It}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.Nt}},{key:"mn",get:function(){if(!(this.sn||this.in))return!1;var t=this.Kt;return void 0===t||Number(t)<56}},{key:"pn",get:function(){return this.Dt}},{key:"kn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.xt}},{key:"An",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.Ot}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.ct}}]),n}();B.In=new B;var L=B.In,M={}.hasOwnProperty,U={}.toString;function F(t){return null!=t}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function z(t){return V(t)&&M.call(t,"length")&&Y(t.length)}function V(t){return"object"==typeof t&&null!==t}function W(t){return V(t)&&t.constructor&&t.constructor===l}function X(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function G(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Y(t){return"number"==typeof t}var j=function(){},Z=function(t){return t};function J(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var h=this,a=e&&!r;void 0!==r&&i.Rn(r),r=i.Nn(function(){r=void 0,e||t.apply(h,u)},n),a&&t.apply(h,u)}}var $=!(L.hn&&!L.an),K=t.console;function tt(t){if(V(t))try{return JSON.stringify(t)}catch(t){}return t}function nt(t){return t.map(tt).join(" ")}function it(t){var n=K&&K[t];return n?n.bind&&$?n.bind(K):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];K[t](nt(i))}:void 0}var et,rt=it("log")||j,st=it("warn")||rt.bind(void 0,"WARNING:"),ut=it("error")||rt.bind(void 0,"ERROR:"),ot=(et=K&&K.assert)?et.bind&&$?et.bind(K):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];K.assert(t,nt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ut.apply(void 0,["Assertion failed:"].concat(i))}};function ht(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var at=ht(function(t,n){var i=function(t){l.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function i(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function e(t){return!0===(t&&t.Dn)}function r(t){var n=_.clz32(t&-t);return t?31-n:n}i.prototype.Dn,l.defineProperty(i.prototype,"Dn",{value:!0}),i.isLong=e;var s={},u={};function o(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=u[t])?e:(i=a(t,0,!0),r&&(u[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=s[t])?e:(i=a(t,t<0?-1:0,!1),r&&(s[t]=i),i)}function h(t,n){if(y(t))return n?T:A;if(n){if(t<0)return T;if(t>=p)return N}else{if(t<=-k)return D;if(t+1>=k)return R}return t<0?h(-t,n).neg():a(t%g|0,t/g|0,n)}function a(t,n,e){return new i(t,n,e)}i.fromInt=o,i.fromNumber=h,i.fromBits=a;var c=_.pow;function f(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?T:A;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return f(t.substring(1),n,i).neg();for(var r=h(c(i,8)),s=A,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),a=w(t.substring(u,u+o),i);if(o<8){var d=h(c(i,o));s=s.mul(d).add(h(a))}else s=(s=s.mul(r)).add(h(a))}return s.unsigned=n,s}function d(t,n){return"number"==typeof t?h(t,n):"string"==typeof t?f(t,n):a(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}i.fromString=f,i.fromValue=d;var g=4294967296,p=g*g,k=p/2,b=o(1<<24),A=o(0);i.ZERO=A;var T=o(0,!0);i.UZERO=T;var S=o(1);i.ONE=S;var E=o(1,!0);i.UONE=E;var I=o(-1);i.NEG_ONE=I;var R=a(-1,2147483647,!1);i.MAX_VALUE=R;var N=a(-1,-1,!0);i.MAX_UNSIGNED_VALUE=N;var D=a(0,-2147483648,!1);i.MIN_VALUE=D;var C=i.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(D)){var n=h(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=h(c(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(D)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return e(t)||(t=d(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(e(t)||(t=d(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(D)?D:this.not().add(S)},C.neg=C.negate,C.add=function(t){e(t)||(t=d(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,s=65535&this.low,u=t.high>>>16,o=65535&t.high,h=t.low>>>16,c=0,f=0,v=0,l=0;return v+=(l+=s+(65535&t.low))>>>16,f+=(v+=r+h)>>>16,c+=(f+=i+o)>>>16,c+=n+u,a((v&=65535)<<16|(l&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(t){return e(t)||(t=d(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return this;if(e(t)||(t=d(t)),n)return a(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return this.unsigned?T:A;if(this.eq(D))return t.isOdd()?D:A;if(t.eq(D))return this.isOdd()?D:A;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(b)&&t.lt(b))return h(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,s=this.low>>>16,u=65535&this.low,o=t.high>>>16,c=65535&t.high,f=t.low>>>16,v=65535&t.low,l=0,_=0,w=0,g=0;return w+=(g+=u*v)>>>16,_+=(w+=s*v)>>>16,w&=65535,_+=(w+=u*f)>>>16,l+=(_+=r*v)>>>16,_&=65535,l+=(_+=s*f)>>>16,_&=65535,l+=(_+=u*c)>>>16,l+=i*v+r*f+s*c+u*o,a((w&=65535)<<16|(g&=65535),(l&=65535)<<16|(_&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(e(t)||(t=d(t)),t.isZero())throw v("division by zero");var i,r,s;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?a((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?T:A;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return T;if(t.gt(this.shru(1)))return E;s=T}else{if(this.eq(D))return t.eq(S)||t.eq(I)?D:t.eq(D)?S:(i=this.shr(1).div(t).shl(1)).eq(A)?t.isNegative()?S:I:(r=this.sub(t.mul(i)),s=i.add(r.div(t)));if(t.eq(D))return this.unsigned?T:A;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=A}for(r=this;r.gte(t);){i=_.max(1,_.floor(r.toNumber()/t.toNumber()));for(var u=_.ceil(_.log(i)/_.LN2),o=u<=48?1:c(2,u-48),f=h(i),l=f.mul(t);l.isNegative()||l.gt(r);)l=(f=h(i-=o,this.unsigned)).mul(t);f.isZero()&&(f=S),s=s.add(f),r=r.sub(l)}return s},C.div=C.divide,C.modulo=function(t){return e(t)||(t=d(t)),n?a((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return a(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?_.clz32(this.high):_.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(t){return e(t)||(t=d(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return e(t)||(t=d(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return e(t)||(t=d(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):a(32===t?this.high:this.high>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),a(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),a(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},i.fromBytes=function(t,n,e){return e?i.fromBytesLE(t,n):i.fromBytesBE(t,n)},i.fromBytesLE=function(t,n){return new i(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},i.fromBytesBE=function(t,n){return new i(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var x=i;return t.default=x,"default"in t?t.default:t}({});t.exports=i}),ct=_.pow(2,-52);function ft(t,n,i){return _.min(_.max(t,n),i)}function vt(t,n,i){return t===n||_.abs(t-n)<=i}function dt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<ct||i<_.max(_.abs(t),_.abs(n))*ct}function lt(t){return t!=t}function _t(t,n){return t===n||lt(t)&&lt(n)}function wt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function gt(){return Date.now()||(new Date).getTime()}function yt(t){return t/1e3}var mt,pt=at.fromNumber(9007199254740991);function kt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(pt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function bt(t){return t.Cn===mt.xn}function At(t){return t.Cn===mt.Pn}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.xn=1]="xn",t[t.On=2]="On",t[t.Pn=3]="Pn",t[t.Bn=4]="Bn",t[t.Ln=9]="Ln"}(mt||(mt={}));var St=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(St.prototype=l.create(v.prototype)).constructor=St;var Et=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Tt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(St),It=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Et),Rt=function(){function t(){}return t.prototype.Mn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new It(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new It;return new Bt(n)},t}(),Nt=function(){function t(t){this.Un=void 0,this.Un=t}var n=t.prototype;return n.Fn=function(t){return this.Un.isEqualNode(t.Un)},n.Hn=function(n){return new t(this.Un.cloneNode(n))},A(t,[{key:"Cn",get:function(){return mt.On}},{key:"zn",get:function(){var t;return null!=(t=this.Un.localName)?t:Ut(this.Un.nodeName)}},{key:"Vn",get:function(){return this.Un.nodeName}},{key:"Wn",get:function(){var t;return null!=(t=this.Un.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Un.prefix)?t:void 0}},{key:"qn",get:function(){return this.Un.nodeValue}}]),t}(),Dt=function(){function t(t){this.Gn=void 0,this.Qn=void 0,this.Gn=t}var n=t.prototype;return n.Yn=function(t){return this.jn.filter(function(n){return Lt(n)&&n.Zn===t})},n.Jn=function(t,n){return this.jn.filter(function(i){return Lt(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Gn.appendChild(t.Kn),this.Qn&&this.Qn.push(t)},n.Fn=function(t){return this.Gn.isEqualNode(t.Kn)},A(t,[{key:"jn",get:function(){return void 0===this.Qn&&(this.Qn=function(t){for(var n=[],i=0;i<t.length;i++){var e=Mt(t.item(i));e&&n.push(e)}return n}(this.Gn.childNodes)),this.Qn}},{key:"ti",get:function(){return this.jn.filter(Lt)}},{key:"Kn",get:function(){return this.Gn}}]),t}(),Ct=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ni=function(t){if(this.Gn.hasAttribute(t))return this.Gn.getAttribute(t)},i.ii=function(t,n){if(this.Gn.hasAttributeNS(t,n))return this.Gn.getAttributeNS(t,n)},i.ei=function(t){this.Gn.removeAttribute(t)},i.ri=function(t,n){this.Gn.removeAttributeNS(t,n)},i.si=function(t,n){this.Gn.setAttribute(t,n)},i.ui=function(t,n,i){this.Gn.setAttributeNS(t,n,i)},i.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return mt.xn}},{key:"zn",get:function(){var t;return null!=(t=this.Gn.localName)?t:Ut(this.Gn.nodeName)}},{key:"Wn",get:function(){var t;return null!=(t=this.Gn.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Gn.prefix)?t:void 0}},{key:"Zn",get:function(){return this.Gn.nodeName}},{key:"oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Nt(t.item(i)));return n}(this.Gn.attributes)}},{key:"hi",get:function(){return this.Gn.textContent}}]),n}(Dt),xt=function(){function t(t){this.Gn=void 0,this.Gn=t}return t.prototype.Fn=function(t){return this.ai===t.ai},A(t,[{key:"ai",get:function(){return this.Gn.nodeValue}},{key:"Kn",get:function(){return this.Gn}}]),t}(),Pt=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return mt.Pn}}]),n}(xt),Ot=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return mt.Bn}}]),n}(xt),Bt=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return mt.Ln}},{key:"ci",get:function(){return new Ct(this.Gn.documentElement)}}]),n}(Dt);function Lt(t){return bt(t)}function Mt(t){switch(t.nodeType){case mt.xn:return new Ct(t);case mt.Pn:return new Pt(t);case mt.Bn:return new Ot(t)}}function Ut(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Ft(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function Ht(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){zt(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&zt(i,null,t.length,t),t}function zt(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var Vt=/[a-zA-Z]/,Wt=/[0-9]/,Xt=/[0-9a-fA-F]/,qt=/^0x/i,Gt=/^[0-9]+$/,Qt=/^[0-9a-fA-F]+$/,Yt=/^[0-7]+$/,jt=l.prototype.toString,Zt=Array.isArray||function(t){return"[object Array]"===jt.call(t)},Jt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function $t(t){return Zt(t)?t:Array.from(t)}function Kt(t){return t>=65&&t<=90}function tn(t){return Kt(t)||function(t){return t>=97&&t<=122}(t)}function nn(t){return t>=48&&t<=57}function en(t){return nn(t)||tn(t)}function rn(t){return nn(t)||t>=65&&t<=70||t>=97&&t<=102}function sn(t){return Kt(t)?t+32:t}function un(t){return nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function on(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var hn=_.min,an=String.fromCharCode,cn=16384;function fn(t){for(var n=t.length,i=[],e=0;e<n;e+=cn){var r=hn(e+cn,n);i.push(an.apply(null,t.slice(e,r)))}return i.join("")}var vn=/[^\0-\x7E]/,dn=/[\x2E\u3002\uFF0E\uFF61]/g,ln={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_n=_.floor,wn=String.fromCharCode;function gn(t){throw new RangeError(ln[t])}function yn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var mn,pn,kn,bn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},An=function(t,n,i){var e=0;for(t=i?_n(t/700):t>>1,t+=_n(t/n);t>455;e+=36)t=_n(t/35);return _n(e+36*t/(t+38))},Tn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(dn,".")).split("."),n).join(".");return e+r}(t,function(t){return vn.test(t)?"xn--"+function(t){for(var n=[],i=(t=yn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(wn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>_n((2147483647-r)/_)&&gn("overflow"),r+=(f-e)*_,e=f;for(var w=0,g=t;w<g.length;w++){var y=g[w];if(y<e&&++r>2147483647&&gn("overflow"),y==e){for(var m=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(m<k)break;var b=m-k,A=36-k;n.push(wn(bn(k+b%A,0))),m=_n(b/A)}n.push(wn(bn(m,0))),s=An(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Sn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return fn(n)}function En(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function In(t,n){return t>>n&63|128}function Rn(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(En(t),n.push(t>>12&15|224),n.push(In(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(In(t,12)),n.push(In(t,6))),n.push(63&t|128)):n.push(t)}function Nn(t){for(var n=[],i=0;i<t.length;i++){Rn(t[i],n)}return n}function Dn(){if(kn>=pn)throw new v("Invalid byte index");var t=255&mn[kn];if(kn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Cn(){var t,n;if(kn>pn)throw new v("Invalid byte index");if(kn===pn)return!1;if(t=255&mn[kn],kn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Dn())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Dn()<<6|Dn())>=2048)return En(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Dn()<<12|Dn()<<6|Dn())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function xn(t){return[37,on(t>>4),on(15&t)]}function Pn(t){return function(t){return t>=0&&t<=31}(t)||t>126}function On(t){return Pn(t)||32===t||34===t||60===t||62===t||96===t}function Bn(t){return On(t)||35===t||63===t||123===t||125===t}function Ln(t){return Bn(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Mn(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Un(t){return Mn(t)||39===t}function Fn(t,n){if(!n(t))return[t];for(var i=Nn([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,xn(s))}return e}function Hn(t,n){for(var i=[],e=0,r=yn(t);e<r.length;e++){var s=r[e];i.push.apply(i,Fn(s,n))}return Sn(i)}function zn(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&rn(t[e+1])&&rn(t[e+2])){var s=un(t[e+1])<<4|un(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(Nn(t))}function Vn(t){return Sn(function(t){mn=t.slice(),pn=mn.length,kn=0;for(var n,i=[];!1!==(n=Cn());)i.push(n);return i}(zn(yn(t))))}function Wn(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Xt.test(t[a]);)c=c<<4|w(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Wt.test(t[a]))throw new d;for(;a<s&&Wt.test(t[a]);){var _=w(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var g=o-h;for(o=7;0!==o&&g>0;)e=h+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new d;return u}function Xn(t){var n=10,i=Gt;return qt.test(t)?(t=t.slice(2),n=16,i=Qt):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Yt),""===t?0:i.test(t)?w(t,n):void 0}var qn={fi:4},Gn=/[\0\t\n\r #%/:?@\[\\\]]/,Qn=/[\0\t\n\r #/:?@\[\\\]]/;function Yn(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{fi:2,vi:Wn(t.slice(1,-1))}}if(!n)return function(t){if(Qn.test(t))throw new d("Invalid code point in opaque host");var n=Hn(t,Pn);return""===n?qn:{fi:3,di:n}}(t);var i=function(t){return function(t){return Tn(t.toLowerCase())}(t)}(Vn(t));if(Gn.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=Xn(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==e?{fi:1,vi:e}:""===i?qn:{fi:0,li:i}}function jn(t){switch(t.fi){case 0:return t.li;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.vi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.vi)+"]";case 3:return t.di;case 4:return""}}var Zn=/\+/g;function Jn(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Zn," "),o=o.replace(Zn," ");var h=Vn(u),a=Vn(o);i.push([h,a])}}return i}function $n(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Kn(Nn(yn(e[0])))+"="+Kn(Nn(yn(e[1])))}return n}function Kn(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||en(n)?i.push(r):i.push.apply(i,xn(r))}return fn(i)}var ti=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ni(t){var n=""+t,i=ti.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(ei(s))if(ri(s)||r===i-1)e.push(ii);else{var u=t.charCodeAt(r+1);ri(u)?(e.push(s,u),r++):e.push(ii)}else e.push(s)}return t.slice(0,n)+fn(e)}(n,i.index):n}var ii=65533,ei=function(t){return 55296==(63488&t)},ri=function(t){return 0!=(1024&t)};function si(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function ui(t){t._i.length=0}function oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t._i,Jn(n))}function hi(t){if(t.wi){var n=$n(t._i);""===n&&(n=null),t.wi.wi.gi=n}}var ai=function(){function t(t){if(void 0===t&&(t=void 0),this.wi=null,null==t)this._i=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ai&&Zt(s._i)&&(!Jt||s[Symbol.iterator]===ci))this._i=t._i.slice();else if(function(t){return null!=t&&(!!Zt(t)||!!Jt&&"function"==typeof t[Symbol.iterator])}(t)){this._i=[];for(var n=0,i=$t(t);n<i.length;n++){var e=$t(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this._i.push([ni(e[0]),ni(e[1])])}}else for(var r in this._i=[],t)l.prototype.hasOwnProperty.call(t,r)&&this._i.push([ni(r),ni(t[r])]);else(t=ni(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this._i=Jn(t);var s}var n=t.prototype;return n.append=function(t,n){t=ni(t),n=ni(n),this._i.push([t,n]),hi(this)},n.delete=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}hi(this)},n.get=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ni(t);for(var n=this._i,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ni(t),n=ni(n);for(var i=this._i,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),hi(this)},n.sort=function(){Ht(this._i,si),hi(this)},n.toString=function(){return $n(this._i)},n.entries=function(){return new li(this._i,fi)},n.keys=function(){return new li(this._i,vi)},n.values=function(){return new li(this._i,di)},n.forEach=function(t){var n=this;this._i.forEach(function(i){return t(i[1],i[0],n)})},t}(),ci=ai.prototype.entries;Jt&&(ai.prototype[Symbol.iterator]=ci);var fi=function(t){return[t[0],t[1]]},vi=function(t){return t[0]},di=function(t){return t[1]},li=function(){function t(t,n){this.yi=0,this._i=t,this.mi=n}return t.prototype.next=function(){return this.yi<this._i.length?{done:!1,value:this.mi(this._i[this.yi++])}:{done:!0,value:void 0}},t}(),_i="null";var wi=l.create(null);wi.ftp=21,wi.file=0,wi.gopher=70,wi.http=80,wi.https=443,wi.ws=80,wi.wss=443;var gi=/^(?:\.|%2e)$/i,yi=/^(?:\.|%2e){2}$/i;function mi(t){return gi.test(t)}function pi(t){return yi.test(t)}function ki(t){return void 0!==wi[t]}function bi(t){return ki(t.pi)}function Ai(t){return""!==t.ki||""!==t.bi}function Ti(t){var n=t.length;if(!(n>=2))return!1;if(!Ei(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Si(t){return 2===t.length&&Vt.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ei(t){return 2===t.length&&Si(fn(t))}function Ii(t){return Si(t)&&":"===t[1]}function Ri(t){var n=t.Ai;0!==n.length&&("file"===t.pi&&1===n.length&&Ii(n[0])||n.pop())}function Ni(t){return null===t.Ti||qn===t.Ti||t.Si||"file"===t.pi}var Di=-1,Ci=/\t|\n|\r/g,xi=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Pi(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Bi,t=t.replace(xi,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=yn(t=t.replace(Ci,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:Di;switch(r){case 0:if(!tn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(sn(v)),r=1;break;case 1:if(en(v)||43===v||45===v||46===v)s.push(sn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=Sn(s);if(null!==e){if(ki(i.pi)&&!ki(l))return;if(!ki(i.pi)&&ki(l))return;if((Ai(i)||null!==i.Ei)&&"file"===l)return;if("file"===i.pi&&(i.Ti===qn||null===i.Ti))return}if(i.pi=l,null!==e)return void(bi(i)&&i.Ei===wi[i.pi]&&(i.Ei=null));s.length=0,"file"===i.pi?r=13:bi(i)&&n&&n.pi===i.pi?r=3:bi(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.Si=!0,i.Ai.push(""),r=18)}break;case 2:if(!n||n.Si&&35!==v)throw new d("Invalid scheme");n.Si&&35===v?(i.pi=n.pi,i.Ai=n.Ai.slice(),i.gi=n.gi,i.Ii="",i.Si=!0,r=20):"file"!==n.pi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.pi=n.pi,Di===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.gi=n.gi):47===v?r=6:63===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.gi="",r=19):35===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.gi=n.gi,i.Ii="",r=20):92===v&&bi(i)?r=6:(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.Ai.pop(),r=17,f-=1);break;case 6:!bi(i)||47!==v&&92!==v?47===v?r=9:(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var g=s[_];if(58!==g||h){var y=Sn(Fn(g,Ln));h?i.bi+=y:i.ki+=y}else h=!0}s.length=0}else if(Di===v||47===v||63===v||35===v||bi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.pi)f-=1,r=15;else if(58!==v||o)if(Di===v||47===v||63===v||35===v||bi(i)&&92===v){if(f-=1,bi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Ai(i)||null!==i.Ei))return;var m=Yn(Sn(s),bi(i));if(i.Ti=m,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var p=Yn(Sn(s),bi(i));if(i.Ti=p,s.length=0,r=12,11===e)return}break;case 12:if(nn(v))s.push(v);else{if(!(Di===v||47===v||63===v||35===v||bi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var k=w(Sn(s),10);if(k>65535)throw new d("Invalid port");i.Ei=k===wi[i.pi]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.pi="file",47===v||92===v?r=14:n&&"file"===n.pi?Di===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.gi=n.gi):63===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.gi="",r=19):35===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.gi=n.gi,i.Ii="",r=20):(Ti(a.slice(f))||(i.Ti=n.Ti,i.Ai=n.Ai.slice(),Ri(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.pi&&!Ti(a.slice(f))&&(Ii(n.Ai[0])?i.Ai.push(n.Ai[0]):i.Ti=n.Ti),r=17,f-=1);break;case 15:if(Di===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Ei(s))r=17;else if(0===s.length){if(i.Ti=qn,null!==e)return;r=16}else{var b=Yn(Sn(s),bi(i));if(0===b.fi&&"localhost"===b.li&&(b=qn),i.Ti=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:bi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.gi="",r=19):null===e&&35===v?(i.Ii="",r=20):Di!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(Di===v||47===v||bi(i)&&92===v||null===e&&(63===v||35===v)){var A=Sn(s);if(pi(A)?(Ri(i),47===v||bi(i)&&92===v||i.Ai.push("")):!mi(A)||47===v||bi(i)&&92===v?mi(A)||("file"===i.pi&&0===i.Ai.length&&Ei(s)&&(qn!==i.Ti&&null!==i.Ti&&(i.Ti=qn),s[1]=58,A=Sn(s)),i.Ai.push(A)):i.Ai.push(""),s.length=0,"file"===i.pi&&(Di===v||63===v||35===v))for(;i.Ai.length>1&&""===i.Ai[0];)i.Ai.shift();63===v?(i.gi="",r=19):35===v&&(i.Ii="",r=20)}else s.push.apply(s,Fn(v,Bn));break;case 18:63===v?(i.gi="",r=19):35===v?(i.Ii="",r=20):Di!==v&&(i.Ai[0]+=Sn(Fn(v,Pn)));break;case 19:null===e&&35===v?(i.Ii="",r=20):Di!==v&&(i.gi+=Sn(Fn(v,bi(i)?Un:Mn)));break;case 20:Di===v||0===v||(i.Ii+=Sn(Fn(v,On)))}f++}return i}function Oi(t,n,i,e){try{Pi(t,n,i,e)}catch(t){}}var Bi=function(){this.pi="",this.ki="",this.bi="",this.Ti=null,this.Ei=null,this.Ai=[],this.gi=null,this.Ii=null,this.Si=!1};function Li(t){switch(t.pi){case"blob":var n;try{n=Pi(t.Ai[0],null)}catch(t){return _i}return Li(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.pi,e=t.Ti,r=t.Ei,i+"://"+jn(e)+(null===r?"":":"+r);case"file":default:return _i}var i,e,r}var Mi,Ui,Fi,Hi,zi,Vi,Wi=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof Wi&&"object"==typeof i.wi)r=n.wi;else try{r=Pi(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=Pi(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.gi;this.wi=e,this.gi=function(t){var n=new ai;return null!==t&&oi(n,t),n}(s),this.gi.wi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.pi+":";if(null!==t.Ti?(i+="//",Ai(t)&&(i+=t.ki,""!==t.bi&&(i+=":"+t.bi),i+="@"),i+=jn(t.Ti),null!==t.Ei&&(i+=":"+t.Ei)):null===t.Ti&&"file"===t.pi&&(i+="//"),t.Si)i+=t.Ai[0];else for(var e=0,r=t.Ai;e<r.length;e++)i+="/"+r[e];return null!==t.gi&&(i+="?"+t.gi),n||null===t.Ii||(i+="#"+t.Ii),i}(this.wi)},set:function(t){var n;try{n=Pi(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.wi=n,ui(this.gi);var i=this.wi.gi;null!==i&&oi(this.gi,i)}},{key:"origin",get:function(){return Li(this.wi)}},{key:"protocol",get:function(){return this.wi.pi+":"},set:function(t){Oi(t+":",null,this.wi,0)}},{key:"username",get:function(){return this.wi.ki},set:function(t){Ni(this.wi)||(this.wi.ki=Hn(t,Ln))}},{key:"password",get:function(){return this.wi.bi},set:function(t){Ni(this.wi)||(this.wi.bi=Hn(t,Ln))}},{key:"host",get:function(){var t=this.wi,n=t.Ti;if(null===n)return"";var i=t.Ei,e=jn(n);return null!==i&&(e+=":"+i),e},set:function(t){this.wi.Si||Oi(t,null,this.wi,10)}},{key:"hostname",get:function(){var t=this.wi.Ti;return null===t?"":jn(t)},set:function(t){this.wi.Si||Oi(t,null,this.wi,11)}},{key:"port",get:function(){var t=this.wi.Ei;return null===t?"":""+t},set:function(t){Ni(this.wi)||(""===t?this.wi.Ei=null:Oi(t,null,this.wi,12))}},{key:"pathname",get:function(){var t=this.wi.Ai;return this.wi.Si?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.wi.Si||(this.wi.Ai.length=0,Oi(t,null,this.wi,16))}},{key:"search",get:function(){var t=this.wi.gi;return null===t||""===t?"":"?"+t},set:function(t){t=ni(t);var n=this.wi;if(""===t)return n.gi=null,void ui(this.gi);"?"===t[0]&&(t=t.slice(1)),n.gi="",Oi(t,null,n,19),oi(this.gi,t)}},{key:"searchParams",get:function(){return this.gi}},{key:"hash",get:function(){var t=this.wi.Ii;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.wi.Ii="",Oi(t,null,this.wi,20)):this.wi.Ii=null}}])&&Ft(n.prototype,i),e&&Ft(n,e),t}();function Xi(t){return t.document&&t.document.baseURI||t.location.href||""}var qi=h;function Gi(t){return Boolean(t&&void 0!==t.length)}function Qi(){}function Yi(t){if(!(this instanceof Yi))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.Ri=0,this.Ni=!1,this.Di=void 0,this.Ci=[],te(t,this)}function ji(t,n){for(;3===t.Ri;)t=t.Di;0!==t.Ri?(t.Ni=!0,Yi.xi(function(){var i=1===t.Ri?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.Di)}catch(t){return void Ji(n.promise,t)}Zi(n.promise,e)}else(1===t.Ri?Zi:Ji)(n.promise,t.Di)})):t.Ci.push(n)}function Zi(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Yi)return t.Ri=3,t.Di=n,void $i(t);if("function"==typeof i)return void te((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Ri=1,t.Di=n,$i(t)}catch(n){Ji(t,n)}var e,r}function Ji(t,n){t.Ri=2,t.Di=n,$i(t)}function $i(t){2===t.Ri&&0===t.Ci.length&&Yi.xi(function(){t.Ni||Yi.Pi(t.Di)});for(var n=0,i=t.Ci.length;n<i;n++)ji(t,t.Ci[n]);t.Ci=null}function Ki(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function te(t,n){var i=!1;try{t(function(t){i||(i=!0,Zi(n,t))},function(t){i||(i=!0,Ji(n,t))})}catch(t){if(i)return;i=!0,Ji(n,t)}}Yi.prototype.catch=function(t){return this.then(null,t)},Yi.prototype.then=function(t,n){var i=new this.constructor(Qi);return ji(this,new Ki(t,n,i)),i},Yi.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Yi.all=function(t){return new Yi(function(n,i){if(!Gi(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Yi.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Yi.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Yi?t:new Yi(function(n){n(t)})},Yi.reject=function(t){return new Yi(function(n,i){i(t)})},Yi.race=function(t){return new Yi(function(n,i){if(!Gi(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Yi.resolve(t[e]).then(n,i)})},Yi.xi="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){qi(t,0)},Yi.Pi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var ne=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),ie=o?o.userAgent:"",ee=ie.match(/Firefox\/([0-9]+)/i),re=null!=ee,se=ee?Number(ee[1]):0,ue=ie.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),oe=null!=ue,he=ue?Number(ue[3]):0,ae=function(){function t(t){this.Oi=0,this.Bi=0,this.di=[],this.Li=t}return t.prototype.Mi=function(t){var n=this.length();this.Ui(n+1);var i=this.Bi+n&this.Li-1;this.di[i]=t,this.Oi=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Li<n)this.Mi(t);else{var i=this.Bi+n-1,e=this.Li-1;this.di[i&e]=t,this.Oi=n}},t.prototype.shift=function(){var t=this.Bi,n=this.di[t];return this.di[t]=void 0,this.Bi=t+1&this.Li-1,this.Oi--,n},t.prototype.length=function(){return this.Oi},t.prototype.Ui=function(t){this.Li<t&&this.Fi(this.Li<<1)},t.prototype.Fi=function(t){var n=this.Li;this.Li=t;var i=this.Bi+this.Oi&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.di,0,n,i)},t}();var ce="unhandledrejection",fe=t.PromiseRejectionEvent,ve=t.CustomEvent;function de(t){return new fe(ce,{reason:t,promise:ne.reject(t).catch(function(){}),cancelable:!0})}function le(t){var n=new ve(ce,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function _e(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(ce,!1,!0,{reason:t}),n}var we,ge,ye,me,pe,ke,be,Ae=function(t){return(Ae=function(){try{var t=ne.resolve(),n=new fe(ce,{reason:"error",promise:t});return ce===n.type&&"error"===n.reason}catch(t){}return!1}()?de:function(){try{var t=new ve(ce,{detail:{reason:"error"}});return ce===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?le:_e)(t)};if(ne&&!(re&&se<60||oe&&he<15))ge=ne,function(){};else{ge=Yi;var Te=null!==(we=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=ne;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==we?we:Yi.xi,Se=(ye=Te,me=new ae(16),pe=!1,{Hi:function(t){me.push(t),pe||(pe=!0,ye(ke))},zi:ke=function(){for(;me.length()>0;)me.shift()();pe=!1}});Se.zi,Yi.xi=Se.Hi,Yi.Pi=function(n){try{var i=Ae(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}h(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Re(t,n){L.in&&L.rn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ne(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function De(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ce(t){t.removeAttribute("title")}function xe(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Pe(t){t.src&&(t.removeAttribute("src"),t.load())}function Oe(){return void 0!==s?s.createElement("video"):void 0}function Be(){return be||(be=Oe()),be}var Le=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Me=Be(),Ue=!(!Me||!Me.webkitShowPlaybackTargetPicker),Fe=function(){function t(){this.Vi=void 0,this.Wi=!1,this.Lt=Le,this.Zt=!1,this.Xi=!0,this.qi=!0}var n=t.prototype;return n.Gi=function(){return 0},n.Qi=function(t,n){return!0},n.Yi=function(t){return t>=1/6*2},A(t,[{key:"ji",get:function(){return void 0===this.Vi&&(this.Vi=this.Gi()),this.Vi}},{key:"Zi",get:function(){return r.devicePixelRatio||1}},{key:"Ji",get:function(){return Ue}},{key:"$i",get:function(){return!1}},{key:"Ki",get:function(){return!0}},{key:"te",get:function(){return L.Mt||L.Qt}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return!0}},{key:"re",get:function(){}},{key:"se",get:function(){return!0}},{key:"ue",get:function(){return!1}}]),t}(),He=function(){var t=Oe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.qt)return!1;var t=Oe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ze=function(t){function n(n){var i;return(i=t.call(this)||this).oe=void 0,i.oe=n,i.oe&&(i.Wi=i.oe.Wi,i.Lt=i.oe.Lt,i.Xi=He&&i.oe.Xi),i}S(n,t);var i=n.prototype;return i.Gi=function(){return this.oe?this.oe.ji:t.prototype.Gi.call(this)},i.Qi=function(n,i){return this.oe?this.oe.Qi(n,i):t.prototype.Qi.call(this,n,i)},i.Yi=function(n){return this.oe?this.oe.Yi(n):t.prototype.Yi.call(this,n)},A(n,[{key:"re",get:function(){var t;return null==(t=this.oe)?void 0:t.re}},{key:"se",get:function(){var t,n;return null==(t=null==(n=this.oe)?void 0:n.se)||t}}]),n}(Fe),Ve=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wi=!0,i.Zt=!0,i}return S(n,t),n}(ze),We=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gi=function(){return Hi.MediaSource?t.prototype.Gi.call(this):1},n}(Ve),Xe=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(n,i){return t.prototype.Qi.call(this,n,i)},A(n,[{key:"$i",get:function(){return L.rn<3}},{key:"Ki",get:function(){return L.rn>=3}},{key:"ue",get:function(){return L.rn<3}}]),n}(ze),qe=function(t){function n(){return t.call(this)||this}return S(n,t),n}(Fe),Ge=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(t,n){if(t&&t.he&&n&&n.he){var i=Qe(t.he,"mp4a.40.2")&&Qe(n.he,"mp4a.40.5"),e=Qe(t.he,"mp4a.40.5")&&Qe(n.he,"mp4a.40.2"),r=Qe(t.he,"mp4a.40.2")&&Qe(n.he,"mp4a.40.34"),s=Qe(t.he,"mp4a.40.34")&&Qe(n.he,"mp4a.40.2"),u=Qe(t.he,"mp4a.40.5")&&Qe(n.he,"mp4a.40.34"),o=Qe(t.he,"mp4a.40.34")&&Qe(n.he,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"re",get:function(){if(L.Mt)return 4096}}]),n}(qe);function Qe(t,n){return t.indexOf(n)>-1}var Ye=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Yi=function(t){return t>=2},n}(qe),je=function(t){function n(){var n;return(n=t.call(this)||this).Wi=L.ln>=11,n.Xi=L.dn&&!(L.Qt&&L.ln<10),n}return S(n,t),n}(qe),Ze=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ie",get:function(){return!1}}]),n}(ze),Je=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"se",get:function(){return!L.Ut||!!L.tn&&92!==L.nn}}]),n}(qe),$e=function(){function n(){var n;this.ae=void 0,this.ce=new Rt,this.fe=new Ke,this.ve=(n=function(){if(L.fn)return new Ge;if(L.un||L.hn)return new Ye;if(L.dn)return new je;if(L.$t)return new Je;return new qe}(),L.Qt?new We(n):L.Zt?new Ve(n):L.in?new Xe(n):L.sn?new Ze(n):new ze(n)),this.de=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ae=function(){return t.performance.now()}:this.ae=gt}var i=n.prototype;return i._e=function(){rt.apply(void 0,arguments)},i.we=function(){st.apply(void 0,arguments)},i.ye=function(){ut.apply(void 0,arguments)},i.me=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,[t].concat(i))},i.Nn=function(t,n){return h(t,n)},i.pe=function(t,n){return c(t,n)},i.Rn=function(t){a(t)},i.ke=function(t){f(t)},i.Mn=function(t){return this.ce.Mn(t)},i.be=function(){return this.Ae.be()},i.Te=function(){return this.Ae.Te()},i.Se=function(){return this.Ae.Se()},i.Ee=function(){return this.Ae.Ee()},i.Ie=function(){return this.Ae.Ie()},i.Re=function(t,n){return this.Ae.Re(t,n)},i.Ne=function(t){return this.Ae.Ne(t)},i.De=function(t,n){var i;return void 0===n&&(n=Xi(Hi)),i="object"!=typeof n||n instanceof Wi?n:n.href,new Wi(t,i)},i.Ce=function(n,i){if(void 0===i&&(i=Xi(Hi)),this.de){var e=X(i)?i:i.toString();return new t.URL(n,e).href}return this.De(n,i).href},A(n,[{key:"xe",get:function(){return this.fe}},{key:"Pe",get:function(){return this.ve}},{key:"Oe",get:function(){return{Be:o&&o.userAgent.match(/Android /i)?"Android":"other",Le:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Me",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Ue",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ke=function(){function t(){}return A(t,[{key:"Fe",get:function(){return o.oscpu}},{key:"Pe",get:function(){return o.platform}},{key:"He",get:function(){return o.vendor}},{key:"ze",get:function(){return o.vendorSub}}]),t}();var tr=ht(function(t){!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,s=l.create(r.prototype),u=new C(e||[]);return s.Ve=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new v("Generator is already running");if(e===w){if("throw"===r)throw s;return P()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.We=i.arg;else if("throw"===i.method){if(e===c)throw e=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?w:f,h.arg===g)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=w,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",w="completed",g={};function m(){}function p(){}function k(){}var b={};b[s]=function(){return this};var A=l.getPrototypeOf,T=A&&A(A(x([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=k.prototype=m.prototype=l.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ve(n,t)}})}function I(t){var n;this.Ve=function(i,r){function s(){return new ge(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"Xe")?ge.resolve(c.Xe).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):ge.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{Xe:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.We=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:x(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function nr(){return(nr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function ir(){var t=l.create(null);return t.qe=void 0,delete t.qe,t}function er(){return new hr}function rr(){return new cr}function sr(t){var n=er();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}var ur,or="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,hr=or||(ur=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ir(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ir(),this.size=0},n.keys=function(){return new ur(this.data,function(t,n){return n})},n.values=function(){return new ur(this.data,function(t,n){return t[n]})},n.entries=function(){return new ur(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ar,cr=or||(ar=function(){function t(t,n){this.Ge=void 0,this.Qe=void 0,this.Ge=t,this.Qe=n}var n=t.prototype;return n.next=function(){var t=this.Ge.next();return t.done?t:{value:this.Qe(t.value),done:!1}},t}(),function(){function t(){this.Ye=er()}var n=t.prototype;return n.get=function(t){return this.Ye.get(""+t)},n.set=function(t,n){return this.Ye.set(""+t,n),this},n.has=function(t){return this.Ye.has(""+t)},n.delete=function(t){return this.Ye.delete(""+t)},n.clear=function(){this.Ye.clear()},n.keys=function(){return new ar(this.Ye.keys(),function(t){return Number(t)})},n.values=function(){return this.Ye.values()},n.entries=function(){return new ar(this.Ye.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Ye.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Ye.size}}]),t}());var fr,vr="urn:mpeg:dash:mp4protection:2011",dr="cenc",lr="sinf",_r="skd",wr="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",gr="com.microsoft.playready",yr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",mr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",pr="urn:uuid:"+mr,kr="com.apple.fps.1_0";!function(t){t.je="playready",t.Ze="widevine",t.Je="fairplay",t.$e="clearkey",t.Ke="aes128"}(fr||(fr={}));var br={tr:fr.je,nr:gr,ir:"cenc",er:"9a04f079-9840-4286-ab92-e65be0885f95",rr:wr,sr:"PlayReady"},Ar={tr:fr.Ze,nr:"com.widevine.alpha",ir:"cenc",er:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",rr:yr,sr:"Widevine"},Tr={tr:fr.Je,nr:kr,ir:"skd",er:mr,rr:pr,sr:"FairPlay"},Sr=(fr.Je,{tr:fr.$e,nr:"org.w3.clearkey",ir:"cenc",er:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",rr:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",sr:"ClearKey"}),Er=[br,Ar,Tr,Sr];function Ir(t){return Er.filter(function(n){return n.rr===t.toLowerCase()})}function Rr(t,n,i){return t.split(n).join(i)}function Nr(t,n){return null!=t&&-1!==t.indexOf(n)}function Dr(t,n){return null!=t&&t.substr(0,n.length)===n}function Cr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Pr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Or(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Pr(e,r/e.length)),e.slice(0,r)+t)}function Br(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Mr(n)}var Lr=16384;function Mr(t){var n=t.length;if(n<=Lr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Lr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Lr)));return i.join("")}var Ur=L.$t&&L.Kt>=42||L.fn&&L.vn>=38||L.un||L.an||L._n&&L.wn>=29;function Fr(t,n){return Nr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Hr(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function zr(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Vr,Wr=function(){function t(t){this.ur=void 0,this.hr=er(),this.ar=void 0,this.ur=t}var n=t.prototype;return n.Ie=function(){return this.Ne(Ar)},n.Te=function(){return this.Ne(Sr)},n.Ee=function(){return this.Ne(br)},n.Se=function(){return this.Ne(Tr)},n.Ne=function(t){var n=t.rr,i=this.hr.get(n);if(i)return i;var e=this.Re(t,'video/mp4; codecs="avc1.42000a"');return this.hr.set(n,e),e},n.Re=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr.awrap(this.ur.cr(t.nr,[Fr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,tr.awrap(this.ur.cr(t.nr,[Fr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],ge)},n.be=function(){return this.ar||(this.ar=this.dr()),this.ar},n.dr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==zi.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ur){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,tr.awrap(this.Te());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,ge)},t}();function Xr(t,n){return Gr(t.slice(),n)}function qr(t,n){var i=Gr(t,n);return i!==t&&Qr(i,void 0,t.length,t),t}function Gr(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Qr(i,n,s,r);var u=i;i=r,r=u}return i}function Qr(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t._r=0]="_r",t[t.wr=1]="wr",t[t.gr=-1]="gr"}(Vr||(Vr={}));var Yr=function(t,n){return(0|t)-(0|n)},jr=function(t,n){return t===n?Vr._r:t<n?Vr.gr:t>n?Vr.wr:y(t)?y(n)?Vr._r:Vr.wr:Vr.gr};function Zr(t,n,i){return vt(t,n,i)?Vr._r:jr(t,n)}var Jr=function(t,n){return dt(t,n)?Vr._r:jr(t,n)};function $r(t,n,i){var e=Kr(t,n,i);return-1===e?void 0:t[e]}function Kr(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function ts(t,n){var i=t.indexOf(n);return-1!==i&&(ns(t,i),!0)}function ns(t,n){t.splice(n,1)}function is(t,n){return-1!==t.indexOf(n)}function es(t){t.length=0}function rs(t){var n;return(n=[]).concat.apply(n,t)}function ss(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function us(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,tr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,ge)}function os(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var hs=function(){function t(){this.yr=!1,this.mr=!1,this.pr=[],this.kr=[]}var n=t.prototype;return n.Ar=function(){if(!this.yr&&!this.mr){this.yr=!0;for(var t=0,n=this.pr.slice();t<n.length;t++){(0,n[t])()}this.Tr()}},n.Tr=function(){if(!this.mr){this.mr=!0;for(var t=0,n=this.kr.slice();t<n.length;t++){(0,n[t])()}es(this.pr),es(this.kr)}},n.Sr=function(t){this.mr||this.pr.push(t)},n.Er=function(t){this.mr||ts(this.pr,t)},n.Ir=function(t){this.mr||this.kr.push(t)},n.Rr=function(t){this.mr||ts(this.kr,t)},t}(),as=function(){function t(){this.Nr=new hs}var n=t.prototype;return n.Dr=function(){this.Nr.Ar()},n.Tr=function(){this.Nr.Tr()},n.Cr=function(t){var n=this.Nr;if(!n.yr)if(t.yr)n.Ar();else if(!n.mr&&!t.mr){var i=function(){e(),n.Ar()},e=function e(){t.Er(i),t.Rr(e),n.Er(i),n.Rr(e)};t.Sr(i),t.Ir(e),n.Sr(i),n.Ir(e)}},n.xr=function(){var n=new t,i=new t,e=n.Pr,r=i.Pr,s=this.Nr,u=function(){e.yr&&r.mr||r.yr&&e.mr?s.Ar():e.mr&&r.mr&&s.Tr()};e.Sr(u),r.Sr(u),e.Ir(u),r.Ir(u),n.Cr(s),i.Cr(s);return s.Ir(function(){e.Er(u),r.Er(u),e.Rr(u),r.Rr(u)}),[n,i]},A(t,[{key:"Pr",get:function(){return this.Nr}}]),t}(),cs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Et);function fs(t){return t instanceof v&&"AbortError"===t.name}function vs(t){if(t&&t.yr)throw new cs}function ds(t){if(fs(t))throw t}function ls(t){if(!fs(t))throw t}function _s(t,n){return n?new ge(function(i,e){if(n.yr)return t.catch(j),e(new cs);var r=function t(){n.Er(t),e(new cs)};n.Sr(r),t.then(function(t){n.Er(r),i(t)},function(t){n.Er(r),e(t)})}):t}function ws(t,n){return t.then(function(t){return n.Tr(),t},function(t){throw n.Tr(),t})}function gs(t,n){var i=new as;return n&&i.Cr(n),t(i.Pr).then(function(t){return i.Dr(),t},function(t){throw i.Dr(),t})}var ys=ge.resolve();function ms(t){ys.then(t)}function ps(t){t.then(j,j)}function ks(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tr.awrap(ge.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,tr.awrap(ge.all(t.map(function(t){return t.catch(j)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],ge)}function bs(t,n){return new ge(function(e,r){if(void 0!==n&&n.yr)r(new cs);else{var s=i.Nn(function(){void 0!==n&&n.Er(u),e()},t),u=function(){i.Rn(s),r(new cs)};void 0!==n&&n.Sr(u)}})}function As(t){return t&&"function"!=typeof t?t.slice():t}function Ts(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Ss,Es=function(){function t(t){var n=this;this.Or=ir(),this.Br=void 0,this.Lr=void 0,this.Mr=function(t){n.Ur(t)},this.Lr=t||this}var n=t.prototype;return n.Fr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Hr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Hr(e,n)}},n.Hr=function(t,n){var i=this.Or[t];i?"function"==typeof i?this.Or[t]=[i,n]:i.push(n):this.Or[t]=n},n.zr=function(t){if("function"==typeof t){var n=this.Br;n?"function"==typeof n?this.Br=[n,t]:n.push(t):this.Br=t}},n.Vr=function(){this.Or=ir(),this.Br=void 0},n.Ur=function(t){var n=As(this.Or[t.type]),i=As(this.Br);Ts(this.Lr,t,n),Ts(this.Lr,t,i)},n.Wr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Xr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Xr(e,n)}},n.Xr=function(t,n){var i=this.Or[t];i&&("function"==typeof i?i===n&&(this.Or[t]=void 0):ts(i,n))},n.qr=function(t){if("string"==typeof t)this.Or[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Or[i]=void 0}},n.Gr=function(t){var n=this.Br;n&&("function"==typeof n?n===t&&(this.Br=void 0):ts(n,t))},n.Qr=function(t,n){var i=this;return new ge(function(e,r){if(n&&n.yr)return r(new cs);var s=function(t){o(),e(t)},u=function(){o(),r(new cs)},o=function(){i.Wr(t,s),n&&n.Er(u)};i.Fr(t,s),n&&n.Sr(u)})},t}(),Is=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ur=function(n){var i=this;ms(function(){t.prototype.Ur.call(i,n)})},n}(Es),Rs=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ns=["cenc"],Ds=["cbcs","cbcs-1-9"],Cs=function(t){function n(n){var i;return(i=t.call(this,"jr")||this).Yr=n,i}return S(n,t),n}(Rs),xs=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Zr")||this).Yr=n,s.Jr=i,s.Zr=e,s.$r=r,s}return S(n,t),n}(Rs),Ps=function(t){function n(){return t.call(this,"Kr")||this}return S(n,t),n}(Rs);!function(t){t.ts="es",t.rs="ss"}(Ss||(Ss={}));var Os=function(t){function n(n,i){var e;return(e=t.call(this,Ss.ts)||this).ir=n,e.us=i,e}return S(n,t),n}(Rs),Bs=function(t){function n(){return t.call(this,Ss.rs)||this}return S(n,t),n}(Rs),Ls=new m([0]).buffer,Ms=function(){function t(){this.os=void 0,this.os=[]}var n=t.prototype;return n.hs=function(t){for(var n=0,i=this.os;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.as=function(t){for(var n=0,i=this.os;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.cs=function(t,n){this.os.forEach(function(n){return t(n[1],n[0])},n)},n.fs=function(t,n){this.os.push([t,n])},n.vs=function(){es(this.os)},A(t,[{key:"ds",get:function(){return this.os.length}}]),t}(),Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fs=16383,Hs=/[\t\n\f\r ]/g;function zs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Vs()}function Vs(){throw new v("Invalid base64 input")}function Ws(t){var n=t;Hs.test(n)&&(n=n.replace(Hs,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Vs();for(var r,s=0===e?0:4-e,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=zs(n.charCodeAt(h))<<18|zs(n.charCodeAt(h+1))<<12|zs(n.charCodeAt(h+2))<<6|zs(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=zs(n.charCodeAt(h))<<2|zs(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=zs(n.charCodeAt(h))<<10|zs(n.charCodeAt(h+1))<<4|zs(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function Xs(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Us[e>>2]+Us[(3&e)<<4|r>>4]+Us[(15&r)<<2|s>>6]+Us[63&s]));return u.join("")}function qs(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Fs)e.push(Xs(t,s,_.min(r,s+Fs)));if(1===i){var u=t[n-1];e.push(Us[u>>2]+Us[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(Us[o>>2]+Us[(3&o)<<4|h>>4]+Us[(15&h)<<2]+"=")}return e.join("")}var Gs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Qs=ArrayBuffer.isView||function(t){return t&&is(Gs,U.call(t))};function Ys(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function js(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Zs(t,n)}function Zs(t,n){for(var i=new m(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Js(t){return Ws(t).buffer}function $s(t){return qs(new m(t))}function Ks(t){return qs(Ou(t))}var tu=function(){function t(t){void 0===t&&(t=0),this.ls=t}var n=t.prototype;return n._s=function(t){this.ls+=t},n.gs=function(t){this.ls=t},n.ys=function(){return new t(this.ps)},A(t,[{key:"ps",get:function(){return this.ls}}]),t}();function nu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function iu(t,n){return t>>n&63|128}function eu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(nu(t),n.push(t>>12&15|224),n.push(iu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(iu(t,12)),n.push(iu(t,6))),n.push(63&t|128)):n.push(t)}function ru(t,n){if(n.ps>=t.length)throw new v("Invalid byte index");var i=255&t[n.ps];if(n._s(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function su(t,n){var i=n.ps;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n._s(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|ru(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|ru(t,n)<<6|ru(t,n);if(s>=2048)return nu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|ru(t,n)<<12|ru(t,n)<<6|ru(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var uu=65279;var ou=[128,64,32,16,8,4,2,1],hu=function(){function t(t){this.ks=t}return t.prototype.bs=function(t){return au(this.ks,t)},t}();function au(t,n){return(t&n)===n}function cu(t,n){return au(t,ou[n])}function fu(t,n){var i=t.getUint8(n.ps);return n._s(1),i}function vu(t,n,i){t.setUint8(n.ps,i),n._s(1)}function du(t,n,i){var e=Hu(Wu(t),n.ps,n.ps+i);return n._s(e.byteLength),e}function lu(t,n,i){Wu(t).set(Wu(i),n.ps),n._s(i.byteLength)}function _u(t,n,i){return n.ps+i<=t.byteLength}function wu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=fu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+fu(t,n);return e}(t,n,i)}function gu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.ps,i);return n._s(2),e}function yu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.ps,i,e),n._s(2)}function mu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.ps,i);return n._s(4),e}function pu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.ps,i,e),n._s(4)}function ku(t,n,i){void 0===i&&(i=!1);var e=mu(t,n,i),r=mu(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!0)}function bu(t,n){var i=fu(t,n);if(i)return String.fromCharCode(i)}function Au(t,n){return Eu(t,n)}function Tu(t,n,i){for(var e="",r=0;r<i;r++)e+=bu(t,n);return e}function Su(t,n){var i,e=fu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&fu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&fu(t,n))+(63&fu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&fu(t,n))+64*(63&fu(t,n))+(63&fu(t,n))),i}function Eu(t,n){return Iu(t,n,!0)}function Iu(t,n,i){for(var e=[];n.ps<t.byteLength;){var r=fu(t,n);if(i&&!r)break;e.push(r)}return Mr(e)}function Ru(t,n){if(n.ps+2<=t.byteLength){var i=t.getUint8(n.ps),e=t.getUint8(n.ps+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Nu(t,n){var i=Ru(t,n);return void 0!==i&&n._s(2),Du(t,n,!0===i)}function Du(t,n,i){return void 0===i&&(i=!1),Cu(t,n,i,!0)}function Cu(t,n,i,e){for(var r=[];n.ps+2<=t.byteLength;){var s=gu(t,n,i);if(e&&!s)break;r.push(s)}return Mr(r)}function xu(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){yu(t,n,i.charCodeAt(s),e)}}function Pu(t){return Iu(Vu(t),new Yu,!1)}function Ou(t){var n=new m(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)vu(t,n,i.charCodeAt(r))}(Vu(n),new Yu,t),n}function Bu(t,n){return void 0===n&&(n=!1),Cu(Vu(t),new Yu,n,!1)}function Lu(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return xu(Vu(i),new Yu,t,n),i}function Mu(t,n){return function(t,n,i){var e=[];(function(t,n){return n.ps+3<=t.byteLength&&239===t.getUint8(n.ps)&&187===t.getUint8(n.ps+1)&&191===t.getUint8(n.ps+2)})(t,n)&&n._s(3);for(;n.ps<t.byteLength;){var r=Su(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Br(e)}(t,n,!0)}function Uu(t){return Br(function(t,n){var i,e=[],r=new Yu;if(!n){if(!1===(i=su(t,r)))return e;i===uu||e.push(i)}for(;!1!==(i=su(t,r));)e.push(i);return e}(Wu(t)))}function Fu(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)eu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Hu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function zu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Vu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wu(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Xu(t){return t instanceof ArrayBuffer||Qs(t)}function qu(t){return t instanceof ArrayBuffer?new m(t):Wu(t)}function Gu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Qu(Hu(t,n,i))}function Qu(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var Yu=function(){function t(t){void 0===t&&(t=0),this.ls=t}var n=t.prototype;return n._s=function(t){this.ls+=t},n.gs=function(t){this.ls=t},n.ys=function(){return new t(this.ps)},n.As=function(){return new tu(this.ps<<3)},A(t,[{key:"ps",get:function(){return this.ls}}]),t}();function ju(t){var n=t,i=0,e=0;Dr(n,"0x")&&(n=n.substring(2));var r=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=w(n[0],16));i<n.length;i+=2)r[e++]=w(n.substr(i,2),16);return r}var Zu=function(){function t(){var t=this;this.Ts=void 0,this.Ss=void 0,this.Es=void 0,this.Ts=new ge(function(n,i){t.Ss=n,t.Es=i})}var n=t.prototype;return n.Is=function(t){this.Ss&&(this.Ss(t),this.Tr())},n.Rs=function(t){this.Es&&(this.Es(t),this.Tr())},n.Dr=function(){this.Ts.catch(j),this.Rs(new cs)},n.Tr=function(){this.Ss=void 0,this.Es=void 0},t}();function Ju(){return new m([8,4]).buffer}function $u(t){return Ys(t,Ju())}function Ku(t,n){return t===gr?function(t){if(t.byteLength<2*to.length)return t;if(Bu(new DataView(t,0,2*to.length),!0)===to)return t;return n=t,Lu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+$s(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var to="<PlayReady";var no=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ns=void 0,s.Ds=void 0,s.Ns=i,s.Ds=e,s}return S(n,t),n}(Et),io=function(t,n){return(io=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function eo(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}io(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function ro(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.Cs=t,this.xs=n}t.prototype.get=function(t){var n=this.Cs.get(t);if(0===this.xs||void 0===n)return n;var i=this.Cs.get(t+1)||0,e=n&(1<<8-this.xs)-1,r=i>>8-this.xs;return(e<<this.xs)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Cs.get(_.floor((t+this.xs)/8));if(void 0!==n)return(n&1<<7-this.xs-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.Cs.bitLength-this.xs},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.Cs.length},enumerable:!1,configurable:!0})}();function so(t,n,i){return _.min(_.max(t,n),i)}function uo(t,n){return t>>8-n}function oo(t,n){return t&(1<<n)-1}var ho=function(){function t(t){this.Ps=t,this.Os=0,this.Bs=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Os+this.Bs},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.Os===this.Ps.length&&0===this.Bs},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Os,bit:this.Bs}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ps);return n.seek(this.Os,this.Bs),n},t.prototype.canReadBits=function(t){return 8*this.Os+t+this.Bs<=8*this.Ps.length},t.prototype.canReadBytes=function(t){return 0===this.Bs?this.Os+t<=this.Ps.length:this.Os+t<this.Ps.length},t.prototype.incBit=function(){this.Bs++,this.Bs>7&&(this.Os++,this.Bs=0)},t.prototype.seek=function(t,n){this.Os=t,this.Bs=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ps.get(this.Os)>>7-this.Bs&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Bs)return this.Ps.get(this.Os++);var t=oo(this.Ps.get(this.Os),8-this.Bs),n=uo(this.Ps.get(this.Os+1),this.Bs);return this.Os++,t<<this.Bs|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Bs&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-_.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Bs+t;this.Os+=n>>3,this.Bs=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ao=function(t,n){return t===n?0:t<n?-1:t>n?1:y(t)?y(n)?0:1:-1},co=function(){function t(){this.Ls=[],this.Ms=[],this.Oi=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.Ms.length)this.Ms.push(0);else{var e=this.Ms[this.Ms.length-1]+this.Ls[this.Ls.length-1].length;this.Ms.push(e)}this.Ls.push(t.subarray(n,n+i)),this.Oi+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ls;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ls=[],this.Ms=[],this.Oi=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Ms[n];return this.Ls[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ls.length<1)return-1;if(this.Ls.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ls[0];return"number"==typeof t?ro(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ro(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=_.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.Ms,t,ao)},t.prototype.join=function(){if(1===this.Ls.length)return this.Ls[0];var t=new m(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.Oi},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*_.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=so(n,0,this.length),r=so(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ls[u],h=e,a=h-this.Ms[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.Ms[u],o=this.Ls[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ls.length-1,e=this.Ls[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ls[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),fo=function(){function t(n){this.Us=n||t.BUFFER_CHUNK_SIZE,this.Fs=!1,this.Hs=new co,this.Ps=new m(this.Us),this.zs=0,this.Vs=0,this.Bs=7}return t.prototype.closeByte=function(){this.Ps[this.zs++]=this.Vs,this.zs>=this.Us&&this.closeBuffer(),this.Vs=0,this.Bs=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.zs&&(this.Hs.pushRange(this.Ps,0,this.zs),t&&(this.Ps=new m(this.Us)),this.zs=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Bs},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Fs)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Fs=!0,this.Hs},t.prototype.writeBit=function(t){if(this.Fs)throw new v("Cannot write to a closed BitWriter.");this.Vs|=t<<this.Bs,0===this.Bs?this.closeByte():this.Bs--},t.prototype.writeByte=function(t){if(this.Fs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Vs=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Bs;this.Vs|=uo(t,n+1),this.closeByte(),this.Vs=oo(t,8-n)<<n+1,this.Bs=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Fs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.zs+t.length<=this.Us?(this.Ps.set(t,this.zs),this.zs+=t.length,this.zs===this.Us&&this.closeBuffer()):(this.closeBuffer(),this.Hs.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Bs;this.Vs|=uo(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=oo(t[i-1],8-n),r=uo(t[i],n+1);this.Vs=e<<n+1|r,this.closeByte()}this.Vs=oo(t[t.length-1],8-n)<<n+1,this.Bs=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=_.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(_.abs(t)>=_.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+_.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=_.floor(_.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new m(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),vo=function(){function t(t){this.rb=new co,this.Ws=t}return t.prototype.closeWriter=function(){void 0!==this.Ws&&(this.rb=this.rb.concat(this.Ws.close()),this.Ws=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Ws&&(this.Ws=new fo),this.Ws},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),lo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(_.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new vo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=_.pow(2,32),t}();function _o(t,n){return t instanceof at?64===n:t<_.pow(2,n)}function wo(t,n){return _.round(t*_.pow(2,n))}function go(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function yo(t,n){return t/_.pow(2,n)}var mo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!_o(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return eo(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.Xs},set:function(t){this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(lo),po=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return eo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(co.from(this.data))},n}(lo),ko=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function bo(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ao)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ao)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ao)));return i.join("")}(n)}var Ao=16384;var To=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function So(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Eo(t,n,i){return n.offset+i<=t.byteLength}function Io(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Ro(t,n,i){void 0===i&&(i=!1);var e=Io(t,n,i),r=Io(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!0)}function No(t,n){var i=So(t,n);if(i)return String.fromCharCode(i)}function Do(t,n,i){for(var e="",r=0;r<i;r++)e+=No(t,n);return e}function Co(t,n){var i,e=So(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&So(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&So(t,n))+(63&So(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&So(t,n))+64*(63&So(t,n))+(63&So(t,n))),i}function xo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Co(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return bo(e)}(t,n,!0)}function Po(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Oo(t){return new m(t.buffer,t.byteOffset,t.byteLength)}var Bo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new ko(this.offset<<3)},t}(),Lo=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return So(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Io(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Io(t,n,i),r=Io(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Ro(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=Po(Oo(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Io(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Do(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return xo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Mo(t,n){return t.type===n}var Uo=8;function Fo(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Ho(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Ho(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Eo(t,n,Uo)){var e=n.offset+Uo;return{complete:!1,neededOffset:e}}var r=Io(t,n),s=Do(t,n,4);if(1===r){if(!Eo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Ro(t,n).toNumber()}if("uuid"===s){if(!Eo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Do(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new Lo((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new Bo(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function zo(t){return{version:t>>24,flags:new To(16777215&t)}}function Vo(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Wo(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Xo(t){var n=t.nextUint32Array(9);return{a:yo(n[0],16),b:yo(n[1],16),u:yo(n[2],30),c:yo(n[3],16),d:yo(n[4],16),v:yo(n[5],30),x:yo(n[6],16),y:yo(n[7],16),w:yo(n[8],30)}}function qo(t){return new po(t.type,Po(Oo(t.data.data),t.data.cursor.offset))}var Go=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return eo(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(mo);function Qo(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Go(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}eo(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Go);var Yo=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Gs},set:function(t){if(!_o(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Gs=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),jo=(function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}eo(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Qs},set:function(t){if(!_o(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Qs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.Ys},set:function(t){if(!_o(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Ys=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.js},set:function(t){if(!_o(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Zs},set:function(t){if(!_o(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.Js},set:function(t){if(!_o(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Yo),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}eo(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(co.from(this.data))}}(Yo),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return eo(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Yo)),Zo=(function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new jo(r.fixed28BitMode),s}eo(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.$s},set:function(t){if(!_o(t,16))throw new v("Provided esId does not fit in 16 bits.");this.$s=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Ks},set:function(t){if(!_o(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Ks=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.tu},set:function(t){if(t&&!_o(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.nu},set:function(t){if(t&&!_o(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.nu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Yo),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return eo(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(lo)),Jo=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return eo(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Zo),$o=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return eo(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.iu},set:function(t){if(!_o(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Jo),Ko=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return eo(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.eu},set:function(t){if(!_o(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.eu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.ru},set:function(t){if(!_o(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.su},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.su=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(wo(this.sampleRate,16),32),this.extra&&go(n.writer,this.extra)},n}($o),th=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}eo(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_o(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}eo(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.ou},set:function(t){if(!_o(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.hu},set:function(t){if(!_o(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.au},set:function(t){if(!_o(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.cu},set:function(t){if(!_o(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.fu},set:function(t){if(!_o(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.vu},set:function(t){if(!_o(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.du},set:function(t){if(!_o(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this.lu},set:function(t){if(!_o(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.lu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(lo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}eo(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_o(t.sampleCount,32)||!_o(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(mo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}eo(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this._u},set:function(t){this.flags=void 0===t?1:0,this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}eo(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this._u},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(mo),function(t){function n(){return t.call(this,"dinf")||this}eo(n,t)}(Jo),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!_o(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return eo(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.Xs},set:function(t){this.Xs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Zo)),nh=(function(t){function n(){return t.call(this,"dref",0,0)||this}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(th),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!_o(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!_o(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!_o(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!_o(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(mo)),ih=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return eo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(nh),eh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return eo(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(nh);function rh(t){for(var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new ih(u,r.raw):new eh(u,r.raw)}var sh=function(t){function n(){return t.call(this,"edts")||this}return eo(n,t),n}(Jo);function uh(t){for(var n=new sh,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"elst")?n.boxes.push(rh(r)):n.boxes.push(qo(r))}return n}var oh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return eo(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.wu},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.gu},set:function(t){if(!_o(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.gu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.yu},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(lo),hh=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}eo(n,t)}(oh),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}eo(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(co.from(this.data))}}(lo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return eo(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.mu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ku},set:function(t){if(!_o(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Au},set:function(t){if(!vh(t))throw new v("Expected an ISO-639-2/T language code");this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(mo)),ah=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return eo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(hh),ch=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return eo(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(hh);function fh(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags,s=Vo(n,e),u=new ho(co.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return vh(a)||(a="und"),n.skip(2),0===e?new ah(s,a,r.raw):new ch(s,a,r.raw)}function vh(t){return/^[a-z]{3}$/.test(t)}var dh=function(t){function n(){return t.call(this,"mdia")||this}return eo(n,t),n}(Jo);function lh(t){for(var n=new dh,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"mdhd")?n.boxes.push(fh(r)):Mo(r,"hdlr")?n.boxes.push(Qo(r)):n.boxes.push(qo(r))}return n}var _h;(function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new co,n}eo(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}})(lo),function(t){function n(){return t.call(this,"minf")||this}eo(n,t)}(Jo),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(th);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(_h||(_h={}));var wh,gh,yh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mh(t,n){n.writer.writeUInt(wo(t.a,16),32),n.writer.writeUInt(wo(t.b,16),32),n.writer.writeUInt(wo(0,30),32),n.writer.writeUInt(wo(t.c,16),32),n.writer.writeUInt(wo(t.d,16),32),n.writer.writeUInt(wo(0,30),32),n.writer.writeUInt(wo(t.x,16),32),n.writer.writeUInt(wo(t.y,16),32),n.writer.writeUInt(wo(1,30),32)}function ph(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:gh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:gh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:gh.UNKNOWN,2)}function kh(t,n){var i,e,r;n.writer.writeUInt(0,4),ph(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wh||(wh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(gh||(gh={}));var bh=function(){return function(){}}(),Ah=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return eo(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Tu},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.di},set:function(t){if(!_o(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.di=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(co.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(co.from(this.data))},n}(mo),Th=function(t){function n(n,i){return t.call(this,0,n,i)||this}return eo(n,t),n}(Ah),Sh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return eo(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Su},set:function(t){if(!_o(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Su=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(co.from(e))}},n}(Ah);function Eh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Sh(i,o,e):new Th(i,o)}var Ih=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Eu},set:function(t){if(!_o(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mo),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return eo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ih),Nh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return eo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ih);function Dh(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Rh(n.nextUint32(),r.raw):new Nh(n.nextUint64(),r.raw)}var Ch=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,h=this;return(h=t.call(this,"trex",e,r)||this).trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return eo(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!_o(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ru},set:function(t){if(!_o(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Nu},set:function(t){if(!_o(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Du},set:function(t){if(!_o(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Cu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!_o(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_o(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Cu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),kh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(mo);function xh(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=Wo(new ho(co.from(n.nextUint8Array(4))));return new Ch(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var Ph=function(t){function n(){return t.call(this,"mvex")||this}return eo(n,t),n}(Jo);function Oh(t){for(var n=new Ph,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"mehd")?n.boxes.push(Dh(r)):Mo(r,"trex")?n.boxes.push(xh(r)):n.boxes.push(qo(r))}return n}var Bh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,h,a,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:yh,c.xu=e,c}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.mu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ku},set:function(t){if(!_o(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Pu},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Ou},set:function(t){if(!_o(wo(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Bu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.xu},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!_o(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(wo(this.rate,16),32),n.writer.writeUInt(wo(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(mo),Lh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return eo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Bh),Mh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return eo(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Bh);function Uh(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags,s=Vo(n,e),u=yo(n.nextUint32(),16),o=yo(n.nextUint16(),8);n.skip(2),n.skip(8);var h=Xo(n);n.skip(24);var a=n.nextUint32();return 0===e?new Lh(s,a,{rate:u,volume:o,matrix:h},r.raw):new Mh(s,a,{rate:u,volume:o,matrix:h},r.raw)}var Fh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h,a,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:yh,f}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.mu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!_o(t,32))throw new v("trackId cannot exceed 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Ou},set:function(t){if(!_o(wo(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Lu},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Mu},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Uu},set:function(t){if(!_o(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Fu},set:function(t){if(!_o(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Bu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Bu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(wo(this.volume,8),16),n.writer.writeUInt(0,16),mh(this.matrix,n),n.writer.writeUInt(wo(this.width,16),32),n.writer.writeUInt(wo(this.height,16),32)},n}(mo),Hh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return eo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Fh),zh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return eo(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Fh);function Vh(t){var n,i,e,r,s=t.data,u=zo(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=yo(s.nextInt16(),8);s.skip(2);var w=Xo(s),g=yo(s.nextUint32(),16),y=yo(s.nextUint32(),16);return 0===o?new Hh({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new zh({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Wh=function(t){function n(){return t.call(this,"trak")||this}return eo(n,t),n}(Jo);function Xh(t){for(var n=new Wh,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"tkhd")?n.boxes.push(Vh(r)):Mo(r,"mdia")?n.boxes.push(lh(r)):Mo(r,"edts")?n.boxes.push(uh(r)):n.boxes.push(qo(r))}return n}var qh=function(t){function n(){return t.call(this,"moov")||this}return eo(n,t),n}(Jo);var Gh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Hu},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Hu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(mo),Qh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return eo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Gh),Yh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return eo(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Gh);function jh(t){var n=t.data,i=zo(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Qh(n.nextUint32(),r.raw):new Yh(n.nextUint64(),r.raw)}var Zh=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return eo(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!_o(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.zu},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!_o(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.zu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Vu},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!_o(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Nu},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!_o(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Du},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!_o(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Cu},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!_o(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_o(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Cu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&kh(this.defaultSampleFlags,n)},n}(mo);function Jh(t){var n=t.data,i=n.nextUint8(),e=new ho(co.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,w=u?Wo(new ho(co.from(n.nextUint8Array(4)))):void 0;return new Zh({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:w},i)}var $h=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return eo(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Wu},set:function(t){if(t&&!_o(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Xu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!_o(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!_o(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.qu},set:function(t){var n,i;if(!_o(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!_o(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!_o(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!_o(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!_o(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!_o(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.qu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&kh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&kh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(mo);function Kh(t){var n=t.data,i=n.nextUint8(),e=new ho(co.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=Wo(new ho(co.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=Wo(new ho(co.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new $h(i,f,v)}var ta=function(t){function n(){return t.call(this,"traf")||this}return eo(n,t),n}(Jo);function na(t){for(var n=new ta,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"tfhd")?n.boxes.push(Jh(r)):Mo(r,"tfdt")?n.boxes.push(jh(r)):Mo(r,"trun")?n.boxes.push(Kh(r)):n.boxes.push(qo(r))}return n}var ia=function(t){function n(){return t.call(this,"moof")||this}return eo(n,t),n}(Jo);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}eo(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Gu},set:function(t){if(!_o(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(mo);var ea=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return eo(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Qu},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(lo),ra=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}eo(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Yu},set:function(t){if(!_o(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Yu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.ju},set:function(t){if(!_o(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(lo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}eo(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Jo),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new ea(n),r}eo(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(lo),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){var n=this;if(!_o(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!_o(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Zu},set:function(t){if(void 0===t)this.flags=0;else{if(!_o(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!_o(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(mo)),sa=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}eo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(ra),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}eo(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(ra),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}eo(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ju},set:function(t){if(!_o(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ju=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.$u},set:function(t){if(!_o(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!_o(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.$u=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Zu},set:function(t){if(void 0===t)this.flags=0;else{if(!_o(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!_o(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(mo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){ph(e[i],n)}}}(mo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(th),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return eo(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ku},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Ku=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(mo)),ua=(function(t){function n(n,i){return t.call(this,0,n,i)||this}eo(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(sa),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}eo(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.to},set:function(t){if(!_o(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(sa),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}eo(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Ru},set:function(t){if(!_o(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(sa),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}eo(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.io},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!_o(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}eo(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Du},set:function(t){if(!_o(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.qu},set:function(t){if(!_o(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(mo),function(t){function n(){return t.call(this,"stbl")||this}eo(n,t)}(Jo),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}eo(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_o(t.firstChunk,32)||!_o(t.sampleDescriptionIndex,32)||!_o(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(mo),function(t){function n(){return t.call(this,"schi")||this}eo(n,t)}(Jo),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}eo(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.eo},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.eo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.ro},set:function(t){if(!_o(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.so},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.so=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(mo),function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return eo(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.uo},set:function(t){if(!_o(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.uo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ku},set:function(t){if(!_o(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.oo},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ho},set:function(t){if(!_o(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ho=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.ao},set:function(t){if(!_o(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!_o(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!_o(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!_o(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!_o(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.ao=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(mo)),oa=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return eo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(ua),ha=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return eo(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(ua);(function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}eo(n,t)})(oh),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}eo(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.co},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!_o(wo(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(wo(this.balance,8),16),n.writer.writeUInt(0,16)}}(mo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}eo(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_o(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(mo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}eo(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.uu},set:function(t){if(!_o(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!_o(t.sampleCount,32)||!_o(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(mo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}eo(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!_o(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(th),function(t){function n(){return t.call(this,"udta")||this}eo(n,t)}(Jo);var aa={red:0,green:0,blue:0},ca=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=aa);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}eo(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.fo},set:function(t){if(!_o(t.red,16)||!_o(t.green,16)||!_o(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(mo),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,h,a,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return eo(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Lu},set:function(t){if(!_o(t,16))throw new v("Provided width does not fit in 16 bits.");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Mu},set:function(t){if(!_o(t,16))throw new v("Provided height does not fit in 16 bits.");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.vo},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.vo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.do},set:function(t){if(!_o(wo(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this.lo},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this._o},set:function(t){if(!_o(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this._o=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.wo},set:function(t){if(!_o(t,16))throw new v("Provided depth does not fit in 16 bits.");this.wo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(wo(this.horizontalResolution,16),32),n.writer.writeUInt(wo(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&go(n.writer,this.extra)},n}($o)),fa=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof m?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof m?n.concat(co.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(mo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Ko),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(ca),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}eo(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}($o),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}eo(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(lo),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this.yo},set:function(t){if(!_o(t,8))throw new v("Provided version does not fit in 8 bits.");this.yo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.mo},set:function(t){if(!_o(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.mo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.po},set:function(t){if(!_o(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.ko},set:function(t){if(!_o(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.ko=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.bo},set:function(t){if(!_o(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.bo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.Ao},set:function(t){if(!_o(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.Ao=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(co.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(co.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}eo(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(ca),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}eo(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.js},set:function(t){if(!_o(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.To},set:function(t){if(!_o(t,32))throw new v("Provided max does not fit in 32 bits.");this.To=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.So},set:function(t){if(!_o(t,32))throw new v("Provided avg does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(lo),function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new m(0),o}return eo(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Eo},set:function(t){if(!_o(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Eo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Io},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Io=t,this.Ro=new m(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.No},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.No=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ro},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ro=t,this.Io=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),go(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),go(t.writer,this.constantIv))},n}(mo)),va=(function(t){function n(n){return t.call(this,0,n)||this}eo(n,t)}(fa),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return eo(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Do},set:function(t){if(!_o(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Co},set:function(t){if(!_o(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Co=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(fa));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new va(n),i}eo(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(bh);function da(t){return void 0!==t.iv}function la(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}eo(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.qu},set:function(t){var n;if(!_o(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(da(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=la(r)),!0===n&&!la(r)||!1===n&&la(r))throw new v("Mix of samples with and without subsamples detected.");if(la(r)){if(!_o(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!_o(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!_o(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];da(r)&&(n+=r.iv.length),la(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(da(r)&&go(n.writer,r.iv),la(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(mo),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}eo(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.ku},set:function(t){if(!_o(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.xo},set:function(t){if(!_o(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Po},set:function(t){if(!_o(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Oo},set:function(t){if(!_o(t,32))throw new v("The provided id does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(co.from(this.data))}}(mo);function _a(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Ho(i,e);if(!r.complete)return;if(Mo(r.box,n))return r.box}}(new Lo((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new Bo),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}var wa=_a("moov",function(t){for(var n=new qh,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"mvhd")?n.boxes.push(Uh(r)):Mo(r,"trak")?n.boxes.push(Xh(r)):Mo(r,"mvex")?n.boxes.push(Oh(r)):Mo(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(qo(r))}return n}),ga=_a("sidx",function(t){var n,i,e=t.data,r=zo(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new ho(co.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),w=Boolean(v.readBit()),g=v.readUInt(3),y=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:w,sapType:g,sapDeltaTime:y})}return 0===s?new oa(o,h,n,i,c,u.raw):new ha(o,h,n,i,c,u.raw)}),ya=_a("moof",function(t){for(var n=new ia,i=0,e=Fo(t.data);i<e.length;i++){var r=e[i];Mo(r,"traf")?n.boxes.push(na(r)):Mo(r,"pssh")?n.boxes.push(Eh(r)):n.boxes.push(qo(r))}return n}),ma=_a("pssh",Eh),pa=function(t){function n(n,i){var e;(e=t.call(this)||this).Bo=void 0,e.Lo=!1,e.Mo=void 0,e.Uo=void 0,e.Fo=function(){e.Ho()},e.zo=function(t){e.Ur(new xs(Tt(e),t.messageType,Ku(e.Vo,t.message)))},e.Wo=function(){e.Lo=!0,e.Bo.ds>0&&(e.Bo.vs(),e.Ur(new Cs(Tt(e)))),e.Xo.removeEventListener("keystatuseschange",e.Fo),e.Xo.removeEventListener("message",e.zo)},e.Xo=n,e.Vo=i,e.Xo.addEventListener("keystatuseschange",e.Fo),e.Xo.addEventListener("message",e.zo),e.Bo=new Ms;var r=[];return e.Xo.closed&&r.push(ge.resolve(e.Xo.closed)),e.Uo=new Zu,r.push(e.Uo.Ts),e.Mo=ge.race(r).then(e.Wo,e.Wo),e.Ho(),e}S(n,t);var i=n.prototype;return i.qo=function(){if(this.Lo)return this.Mo;var t=[];return t.push(ge.resolve(this.Xo.close())),t.push(bs(1e3)),this.Uo.Is(ge.race(t).catch(ka)),this.Lo=!0,this.Mo},i.Go=function(t,n,i){if(L.Yt){var e=ma(qu(n));if(1===e.version)n=new Th(e.systemId,e.data).serialize().join()}return ge.resolve(this.Xo.generateRequest(t,n)).catch(ka)},i.Qo=function(t){return ge.resolve(this.Xo.load(t)).catch(ka)},i.Yo=function(){return ge.resolve(this.Xo.remove()).catch(ka)},i.jo=function(t){return ge.resolve(this.Xo.update(t)).catch(ka)},i.Ho=function(){var t=this;this.Bo.vs(),this.Xo.keyStatuses.forEach(function(n,i){t.Zo(i,n)}),this.Ur(new Cs(this))},i.Zo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=qu(t);if(this.Vo===gr&&16===e.byteLength){var r=Vu(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Vo===gr&&"status-pending"===n&&(n="usable"),this.Bo.fs(e,n)},A(n,[{key:"Jo",get:function(){return this.Mo}},{key:"$o",get:function(){return this.Xo.expiration}},{key:"Ko",get:function(){return this.Bo}},{key:"th",get:function(){return this.Xo.sessionId}}]),n}(Es);function ka(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new no(t.message,void 0,n,t)}var ba=function(){function t(t,n,i){this.nh=t,this.ih=n,this.eh=i}var n=t.prototype;return n.rh=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new pa(this.nh.createSession(t),this.ih));case 1:case"end":return n.stop()}},null,this,null,ge)},n.sh=function(t){return ge.resolve(this.nh.setServerCertificate(t))},n.uh=function(t){return ge.resolve(t.setMediaKeys(this.nh))},n.oh=function(t){return ge.resolve(t.setMediaKeys(null))},t}(),Aa=function(){function t(t,n,i){this.hh=t,this.Vo=n,this.ah=i}var n=t.prototype;return n.fh=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.hh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new ba(t,this.Vo,this.ah));case 4:case"end":return n.stop()}},null,this,null,ge)},n.vh=function(){return this.ah},A(t,[{key:"ih",get:function(){return this.hh.keySystem}}]),t}(),Ta={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Sa(t){return Nr(t,Ta.APPLICATION_MP4)||Nr(t,Ta.VIDEO_MP4)||Nr(t,Ta.AUDIO_MP4)}var Ea=function(){function t(t,n){this.tr=void 0,this.dh=void 0,this.tr=t,this.dh=n}return t.prototype.lh=function(t){for(var n=0,i=this.dh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Ia(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ea(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=Ra(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=Ra(r.substr(u));f&&s.push(f)}return new Ea(e,s)}function Ra(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Na(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Da(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,_h:e._h},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Ca(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return Ca(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Ca(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!is(n,e.encryptionScheme))&&(!e.robustness&&t(i,Na(e.contentType))))}function xa(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Pa(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Oa(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Ba))||!(!t.videoCapabilities||!t.videoCapabilities.some(Ba))}function Ba(t){return!t.robustness}function La(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(nr({},r,{robustness:n}))}return i}var Ma=function(){function t(){}return t.prototype.cr=function(t,n){var i,e,r,s,u,h,a,c;return tr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t._h}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Pa(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Pa(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Oa)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",nr({},n=t,{videoCapabilities:n.videoCapabilities?La(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?La(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,tr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,h=u.getConfiguration(),f.abrupt("return",new Aa(u,t,h));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,tr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,c=a.getConfiguration(),f.abrupt("return",new Aa(a,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],ge)},t.wh=function(){return Hr()},t}(),Ua=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lo=!1,e.gh=void 0,e.yh=void 0,e.mh=void 0,e.ph=void 0,e.kh=void 0,e.Wo=function(){e.Lo=!0,e.gh.Is(void 0),e.kh&&(e.kh.removeEventListener("mskeyclose",e.Wo),e.kh.removeEventListener("mskeymessage",e.bh),e.kh.removeEventListener("mskeyerror",e.Ah),e.kh.removeEventListener("mskeyadded",e.Th))},e.bh=function(t){e.mh&&(e.mh.Is(void 0),e.mh=void 0),e.Ur(new xs(Tt(e),"license-request",Qu(t.message).buffer,t.destinationURL||void 0))},e.Ah=function(){var t=e.kh&&e.kh.error;if(t){var n=new no("Unknown CDM error",t.code,t.systemCode);if(e.mh)e.mh.Rs(n),e.mh=void 0;else if(e.yh)e.yh.Rs(n),e.yh=void 0;else switch(n.Ns){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Sh("output-not-allowed");break;default:e.Sh("internal-error")}}},e.Th=function(){e.mh&&(e.Sh("usable"),e.mh.Is(void 0),e.mh=void 0),e.yh&&(e.Sh("usable"),e.yh.Is(void 0),e.yh=void 0)},e.Eh=n,e.Ih=i,e.gh=new Zu,e.ph=new Ms,e}S(n,t);var i=n.prototype;return i.Go=function(t,n,i){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),this.mh=new Zu,this.rh(qu(n),i),t.next=5,tr.awrap(this.mh.Ts);case 5:case"end":return t.stop()}},null,this,null,ge)},i.rh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Nh;return(i=n?this.Eh.createSession(this.Ih,t,e):this.Eh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Wo),i.addEventListener("mskeymessage",this.bh),i.addEventListener("mskeyerror",this.Ah),i.addEventListener("mskeyadded",this.Th),this.kh=i,this.Sh("status-pending"),i},i.Qo=function(t){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,ge)},i.jo=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.yh=new Zu,this.Rh(),this.kh){i.next=4;break}return i.abrupt("return",ge.resolve());case 4:if(0!==(n=qu(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.kh.update(n),i.next=10,tr.awrap(this.yh.Ts);case 10:case"end":return i.stop()}},null,this,null,ge)},i.qo=function(){return!this.Lo&&this.kh&&(this.Lo=!0,this.kh.close()),this.gh.Ts},i.Yo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Rh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,ge)},i.Rh=function(){if(this.Lo)throw new d("Already closing or closed.")},i.Sh=function(t){this.ph.vs(),this.ph.fs(Ls,t),this.Ur(new Cs(this))},A(n,[{key:"th",get:function(){return this.kh&&this.kh.sessionId||""}},{key:"$o",get:function(){return NaN}},{key:"Jo",get:function(){return this.gh.Ts}},{key:"Ko",get:function(){return this.ph}}]),n}(Es),Fa=function(){function t(t,n,i){this.Ih=void 0,this.Eh=t,this.ih=n,this.eh=i;var e=xa(i)||"video/mp4";this.Ih=Na(e)}var n=t.prototype;return n.rh=function(t){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ua(this.Eh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,ge)},n.sh=function(t){return ge.resolve(!1)},n.uh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Eh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Eh),t.removeEventListener("loadedmetadata",i)}),ge.resolve()},n.oh=function(t){return ge.resolve()},t}(),Ha=function(){function t(t,n){this.Vo=t,this.Dh=n}var n=t.prototype;return n.vh=function(){return this.Dh},n.fh=function(){var t=new Hi.MSMediaKeys(this.Vo);return ge.resolve(new Fa(t,this.Vo,this.Dh))},A(t,[{key:"ih",get:function(){return this.Vo}}]),t}(),za=function(){function t(){}return t.prototype.cr=function(t,n){try{return ge.resolve(function(t,n){if(!Va())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Da(Wa,Ns,t,e);if(r)return new Ha(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ge.reject(t)}},t.wh=function(){return Va()},t}();function Va(){return void 0!==Hi.MSMediaKeys&&"function"==typeof Hi.MSMediaKeys.isTypeSupported}function Wa(t,n){return Hi.MSMediaKeys.isTypeSupported(t,n)}var Xa,qa,Ga=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).gh=new Zu,r.Ch=void 0,r.ph=new Ms,r.xh=void 0,r.Ph=new Zu,r.Ah=function(){var t=r.xh&&r.xh.error;if(t){var n=new no("Unknown CDM error",t.code,t.systemCode);r.Ch?(r.Ch.Rs(n),r.Ch=void 0):n.Ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Sh("output-not-allowed"):r.Sh("internal-error"),r.Ur(new Ps)}},r.bh=function(t){r.Ch&&(r.Ch.Is(void 0),r.Ch=void 0),r.Ur(new xs(Tt(r),"license-request",Qu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Oh=n,r.Ih=i,r.Bh=e,r}S(n,t);var i=n.prototype;return i.Go=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Lh;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=Qa(qu(n),e,this.Bh);return this.xh=this.Oh.createSession(this.Ih,r),this.xh.addEventListener("webkitkeymessage",this.bh,!1),this.xh.addEventListener("webkitkeyerror",this.Ah,!1),this.Sh("usable"),this.Ph.Is(this.xh),this.Ph=new Zu,ge.resolve()},i.Qo=function(t){return ge.resolve(!0)},i.jo=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=qu(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Ch=new Zu,i.t0=this.xh,i.t0){i.next=9;break}return i.next=8,tr.awrap(this.Ph.Ts);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,tr.awrap(this.Ch.Ts);case 13:case"end":return i.stop()}},null,this,null,ge)},i.qo=function(){var t=this.xh;return t&&(t.removeEventListener("webkitkeymessage",this.bh,!1),t.removeEventListener("webkitkeyerror",this.Ah,!1),t.close()),this.Ph.Dr(),this.gh.Is(void 0),this.gh.Ts},i.Yo=function(){return ge.resolve(void 0)},i.Sh=function(t){this.ph.vs(),this.ph.fs(Ls,t),this.Ur(new Cs(this))},A(n,[{key:"th",get:function(){return this.xh?this.xh.sessionId:""}},{key:"$o",get:function(){return NaN}},{key:"Jo",get:function(){return this.gh.Ts}},{key:"Ko",get:function(){return this.ph}}]),n}(Es);function Qa(t,n,i){var e=Uu(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new Yu;return pu(o,h,r,!0),xu(o,h,e,!0),pu(o,h,s,!0),xu(o,h,n,!0),pu(o,h,i.byteLength,!0),lu(o,h,i),new m(u)}(Xa=n.ErrorCode||(n.ErrorCode={}))[Xa.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Xa[Xa.LICENSE_ERROR=2e3]="LICENSE_ERROR",Xa[Xa.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Xa[Xa.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Xa[Xa.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Xa[Xa.SOURCE_INVALID=3e3]="SOURCE_INVALID",Xa[Xa.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Xa[Xa.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Xa[Xa.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Xa[Xa.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Xa[Xa.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Xa[Xa.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Xa[Xa.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Xa[Xa.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Xa[Xa.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Xa[Xa.NETWORK_ERROR=6e3]="NETWORK_ERROR",Xa[Xa.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Xa[Xa.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Xa[Xa.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Xa[Xa.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Xa[Xa.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Xa[Xa.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Xa[Xa.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Xa[Xa.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Xa[Xa.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Xa[Xa.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Xa[Xa.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Xa[Xa.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Xa[Xa.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Xa[Xa.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Xa[Xa.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Xa[Xa.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Xa[Xa.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Xa[Xa.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Xa[Xa.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Xa[Xa.AD_ERROR=1e4]="AD_ERROR",Xa[Xa.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Xa[Xa.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(qa=n.ErrorCategory||(n.ErrorCategory={}))[qa.CONFIGURATION=1]="CONFIGURATION",qa[qa.LICENSE=2]="LICENSE",qa[qa.SOURCE=3]="SOURCE",qa[qa.MANIFEST=4]="MANIFEST",qa[qa.MEDIA=5]="MEDIA",qa[qa.NETWORK=6]="NETWORK",qa[qa.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",qa[qa.SUBTITLE=8]="SUBTITLE",qa[qa.VR=9]="VR",qa[qa.AD=10]="AD",qa[qa.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Ya=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Et),ja=function(){function t(t,n,i){this.Ih=void 0,this.Bh=void 0,this.Oh=t,this.ih=n,this.eh=i;var e=xa(i)||"video/mp4";this.Ih=Na(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Oh},i.rh=function(t){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new Ya(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ga(this.Oh,this.Ih,this.Bh));case 3:case"end":return t.stop()}},null,this,null,ge)},i.sh=function(t){return this.Bh=qu(t),ge.resolve(!0)},i.uh=function(t){return t.webkitSetMediaKeys(this.Oh),ge.resolve()},i.oh=function(t){return t.webkitSetMediaKeys(null),ge.resolve()},t}(),Za=function(){function t(t,n){this.Vo=t,this.Dh=n}var n=t.prototype;return n.vh=function(){return this.Dh},n.fh=function(){var t=new Hi.WebKitMediaKeys(this.Vo);return ge.resolve(new ja(t,this.Vo,this.Dh))},A(t,[{key:"ih",get:function(){return this.Vo}}]),t}(),Ja=function(){function t(){}return t.prototype.cr=function(t,n){try{return ge.resolve(function(t,n){if(t!==kr)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!$a())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Da(Ka,Ds,t,e);if(r)return new Za(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ge.reject(t)}},t.wh=function(){return $a()},t}();function $a(){return void 0!==Hi.WebKitMediaKeys&&"function"==typeof Hi.WebKitMediaKeys.isTypeSupported}function Ka(t,n){return Hi.WebKitMediaKeys.isTypeSupported(t,n)}var tc,nc=function(){function t(t){this.Mh=t}return t.prototype.cr=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Mh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,tr.awrap(r.cr(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],ge)},t}(),ic=function(t){function n(n){var i;return(i=t.call(this)||this).mh=void 0,i.Ch=void 0,i.gh=void 0,i.Fs=!1,i.Uh=void 0,i.Fh=void 0,i.Hh=void 0,i.zh=void 0,i.Vh=void 0,i.Vo=n,i.gh=new Zu,i.Fh="",i.Vh=new Zu,i.Hh=new Ms,i}S(n,t);var i=n.prototype;return i.Wh=function(){this.Ch&&(this.Sh("usable"),this.Ch.Is(void 0),this.Ch=void 0)},i.Xh=function(t){var n=new no("Unknown CDM error",t.errorCode,t.systemCode);this.Ch?(this.Ch.Rs(n),this.Ch=void 0):this.mh?(this.mh.Rs(n),this.mh=void 0):n.Ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Sh("output-restricted"):1===n.Ds?this.Sh("expired"):this.Sh("internal-error")},i.qh=function(t){0!==t.message.byteLength&&(this.mh&&(this.mh.Is(void 0),this.mh=void 0),this.Ur(new xs(this,"license-request",Ku(this.Vo,Qu(t.message).buffer),t.defaultURL||void 0)))},i.Gh=function(t){this.zh||(this.zh=t,this.Vh.Is(t))},i.qo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Fs=!0,this.gh.Is(void 0);case 3:case"end":return t.stop()}},null,this,null,ge)},i.Go=function(t,n){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.mh=new Zu,this.Uh=qu(n),t.t0=this.zh,t.t0){t.next=8;break}return t.next=7,tr.awrap(this.Vh.Ts);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Vo,this.Uh),t.next=12,tr.awrap(this.mh.Ts);case 12:case"end":return t.stop()}},null,this,null,ge)},i.Qo=function(t){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,ge)},i.Yo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,ge)},i.jo=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Ch=new Zu,n.t0=this.zh,n.t0){n.next=7;break}return n.next=6,tr.awrap(this.Vh.Ts);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Vo,qu(t),this.Uh,this.th),n.next=11,tr.awrap(this.Ch.Ts);case 11:case"end":return n.stop()}},null,this,null,ge)},i.throwIfClosed=function(){if(this.Fs)throw new d("Already closing or closed.")},i.Sh=function(t){this.Hh.vs(),this.Hh.fs(Ls,t),this.Ur(new Cs(this))},A(n,[{key:"Ko",get:function(){return this.Hh}},{key:"th",get:function(){return this.Fh},set:function(t){this.Fh=t}},{key:"Jo",get:function(){return this.gh.Ts}},{key:"$o",get:function(){return NaN}}]),n}(Es),ec=function(){function t(t,n){var i=this;this.zh=void 0,this.Qh=er(),this.Yh=[],this.Th=function(t){var n=i.jh(t.sessionId);n&&n.Wh()},this.Zh=function(t){var n=i.jh(t.sessionId);n&&n.Xh(t)},this.Jh=function(t){var n=i.jh(t.sessionId);n&&n.qh(t)},this.ih=t,this.eh=n}var n=t.prototype;return n.uh=function(t){return this.zh=t,this.zh.addEventListener("webkitkeyadded",this.Th),this.zh.addEventListener("webkitkeyerror",this.Zh),this.zh.addEventListener("webkitkeymessage",this.Jh),this.Qh.forEach(function(n,i){return n.Gh(t)}),this.Yh.forEach(function(n){return n.Gh(t)}),ge.resolve()},n.oh=function(t){return t.removeEventListener("webkitkeyadded",this.Th),t.removeEventListener("webkitkeyerror",this.Zh),t.removeEventListener("webkitkeymessage",this.Jh),this.zh=void 0,ge.resolve()},n.rh=function(t,n,i){var e;return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new ic(this.ih),this.zh&&e.Gh(this.zh),this.Yh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,ge)},n.sh=function(t){return ge.resolve(!1)},n.jh=function(t){if(t){var n=this.Qh.get(t);return n||((n=this.Yh.shift())?(n.th=t,this.Qh.set(t,n),n):void 0)}},t}(),rc=function(){function t(t,n){this.ih=t,this.$h=n}var n=t.prototype;return n.fh=function(){return ge.resolve(new ec(this.ih,this.$h))},n.vh=function(){return this.$h},t}(),sc=function(){function t(){}return t.prototype.cr=function(t,n){try{return ge.resolve(uc(t,n))}catch(t){return ge.reject(t)}},t.wh=function(){return zr()},t}();function uc(t,n){if(!sc.wh())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Da(oc,Ns,t,e);if(r)return new rc(t,r)}throw new d("Unsupported key system configuration for "+t)}function oc(t,n){var i=Be();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function hc(){return tc||(tc=function(){var t=[];Ja.wh()&&t.push(new Ja);Ma.wh()&&t.push(new Ma);za.wh()&&t.push(new za);sc.wh()&&t.push(new sc);return new nc(t)}()),tc}var ac=function(){function t(){this.Kh=er()}var n=t.prototype;return n.vs=function(t){this.Kh.delete(t)},n.ta=function(){this.Kh.clear()},n.as=function(t){return this.Kh.get(t)},n.na=function(t,n){this.Kh.set(t,n)},t}(),cc=function(){function t(){}return t.ia=function(){return t.In||(t.In=fc.wh()?new fc:new ac),t.In},t.vs=function(n){t.ia().vs(n)},t.ta=function(){t.ia().ta()},t.as=function(n){return t.ia().as(n)},t.na=function(n,i){t.ia().na(n,i)},t}();cc.In=void 0;var fc=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.vs=function(n){t.sessionStorage.removeItem(n)},e.ta=function(){t.sessionStorage.clear()},e.as=function(n){return t.sessionStorage[n]},e.na=function(n,i){t.sessionStorage[n]=i},i}(cc);var vc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function dc(t,n,i){var e=vc([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var lc,_c;!function(t){t.ea="ra",t.sa="ua",t.oa="contentprotectionerror",t.ha="contentprotectionsuccess",t.aa="currentsourcechange",t.ca="destroy",t.fa="durationchange",t.va="emptied",t.ts="encrypted",t.da="ended",t.la="_a",t.wa="loadstart",t.ga="manifestupdate",t.ya="nosupportedrepresentationfound",t.ma="offline",t.pa="online",t.ka="pause",t.ba="play",t.Aa="progress",t.Ta="ratechange",t.Sa="representationchange",t.Ea="resize",t.Ia="seeked",t.Ra="seeking",t.Na="segmentnotfound",t.Da="Ca",t.xa="Pa",t.Oa="sourcechange",t.Ba="timeupdate",t.La="volumechange",t.Ma="Ua",t.Fa="metricschange"}(lc||(lc={})),function(t){t.Ha="arraybuffer",t.za="json",t.Va="stream",t.Pn="text"}(_c||(_c={}));var wc=function(){function t(n){var i=this;this.Ye=void 0,this.Ye={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=gc(i),e=yc(e);var r=i.toLowerCase();if(this.Ye.hasOwnProperty(r)){var s=this.Ye[r],u=s[1];s[1]=u?u+", "+e:e}else this.Ye[r]=[i,e]},n.delete=function(t){var n=gc(t).toLowerCase();delete this.Ye[n]},n.get=function(t){var n=gc(t).toLowerCase();return this.Ye.hasOwnProperty(n)?this.Ye[n][1]:null},n.has=function(t){var n=gc(t).toLowerCase();return this.Ye.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=gc(i)).toLowerCase();this.Ye[e]=[i,yc(n)]},n.forEach=function(t,n){for(var i in this.Ye)this.Ye.hasOwnProperty(i)&&t.call(n,this.Ye[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Ye)if(this.Ye.hasOwnProperty(n)){var i=this.Ye[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Wa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Xa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.qa=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function gc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function yc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function pc(){}var kc=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function bc(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Ac=pc,Tc=ge,Sc=ge.prototype.then,Ec=ge.resolve.bind(Tc),Ic=ge.reject.bind(Tc);function Rc(t){return new Tc(t)}function Nc(t){return Ec(t)}function Dc(t){return Ic(t)}function Cc(t,n,i){return Sc.call(t,n,i)}function xc(t,n,i){Cc(Cc(t,n,i),void 0,Ac)}function Pc(t,n){xc(t,n)}function Oc(t,n){xc(t,void 0,n)}function Bc(t,n,i){return Cc(t,n,i)}function Lc(t){Cc(t,void 0,Ac)}var Mc=function(){var t=kc&&kc.queueMicrotask;if("function"==typeof t)return t;var n=Nc(void 0);return function(t){return Cc(n,t)}}();function Uc(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Fc(t,n,i){try{return Nc(Uc(t,n,i))}catch(t){return Dc(t)}}var Hc=function(){function t(){this.Ga=0,this.Qa=0,this.Bi={Ya:[],ja:void 0},this.Za=this.Bi,this.Ga=0,this.Qa=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Qa},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.Za,i=n;16383===n.Ya.length&&(i={Ya:[],ja:void 0}),n.Ya.push(t),i!==n&&(this.Za=i,n.ja=i),++this.Qa},t.prototype.shift=function(){var t=this.Bi,n=t,i=this.Ga,e=i+1,r=t.Ya,s=r[i];return 16384===e&&(n=t.ja,e=0),--this.Qa,this.Ga=e,t!==n&&(this.Bi=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Ga,i=this.Bi,e=i.Ya;!(n===e.length&&void 0===i.ja||n===e.length&&(n=0,0===(e=(i=i.ja).Ya).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Bi,n=this.Ga;return t.Ya[n]},t}();function zc(t,n){t.Ja=n,n.$a=t,"readable"===n.Ri?qc(t):"closed"===n.Ri?function(t){qc(t),Yc(t)}(t):Gc(t,n.Ka)}function Vc(t,n){return Xd(t.Ja,n)}function Wc(t){"readable"===t.Ja.Ri?Qc(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Gc(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Ja.$a=void 0,t.Ja=void 0}function Xc(t){return new d("Cannot "+t+" a stream using a released reader")}function qc(t){t.Mo=Rc(function(n,i){t.tc=n,t.nc=i})}function Gc(t,n){qc(t),Qc(t,n)}function Qc(t,n){void 0!==t.nc&&(Lc(t.Mo),t.nc(n),t.tc=void 0,t.nc=void 0)}function Yc(t){void 0!==t.tc&&(t.tc(void 0),t.tc=void 0,t.nc=void 0)}var jc=mc("[[AbortSteps]]"),Zc=mc("[[ErrorSteps]]"),Jc=mc("[[CancelSteps]]"),$c=mc("[[PullSteps]]"),Kc=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},tf=_.trunc||function(t){return t<0?_.ceil(t):_.floor(t)};function nf(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new d(n+" is not an object.");var i}function ef(t,n){if("function"!=typeof t)throw new d(n+" is not a function.")}function rf(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new d(n+" is not an object.")}function sf(t,n,i){if(void 0===t)throw new d("Parameter "+n+" is required in '"+i+"'.")}function uf(t,n,i){if(void 0===t)throw new d(n+" is required in '"+i+"'.")}function of(t){return Number(t)}function hf(t){return 0===t?0:t}function af(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=hf(e),!Kc(e))throw new d(n+" is not a finite number");if((e=function(t){return hf(tf(t))}(e))<0||e>i)throw new d(n+" is outside the accepted range of 0 to "+i+", inclusive");return Kc(e)&&0!==e?e:0}function cf(t,n){if(!Vd(t))throw new d(n+" is not a ReadableStream.")}function ff(t){return new yf(t)}function vf(t,n){t.$a.ic.push(n)}function df(t,n,i){var e=t.$a.ic.shift();i?e.ec():e.rc(n)}function lf(t){return t.$a.ic.length}function _f(t){var n=t.$a;return void 0!==n&&!!mf(n)}var wf,gf,yf=function(){function t(t){if(sf(t,1,"ReadableStreamDefaultReader"),cf(t,"First parameter"),Wd(t))throw new d("This stream has already been locked for exclusive reading by another reader");zc(this,t),this.ic=new Hc}return l.defineProperty(t.prototype,"closed",{get:function(){return mf(this)?this.Mo:Dc(kf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),mf(this)?void 0===this.Ja?Dc(Xc("cancel")):Vc(this,t):Dc(kf("cancel"))},t.prototype.read=function(){if(!mf(this))return Dc(kf("read"));if(void 0===this.Ja)return Dc(Xc("read from"));var t,n,i=Rc(function(i,e){t=i,n=e});return pf(this,{rc:function(n){return t({value:n,done:!1})},ec:function(){return t({value:void 0,done:!0})},sc:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!mf(this))throw kf("releaseLock");if(void 0!==this.Ja){if(this.ic.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Wc(this)}},t}();function mf(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"ic")&&t instanceof yf)}function pf(t,n){var i=t.Ja;i.uc=!0,"closed"===i.Ri?n.ec():"errored"===i.Ri?n.sc(i.Ka):i.oc[$c](n)}function kf(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}l.defineProperties(yf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(yf.prototype,mc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof mc.asyncIterator&&((wf={})[mc.asyncIterator]=function(){return this},gf=wf,l.defineProperty(gf,mc.asyncIterator,{enumerable:!1}));var bf=function(){function t(t,n){this.hc=void 0,this.ac=!1,this.$a=t,this.cc=n}return t.prototype.next=function(){var t=this,n=function(){return t.fc()};return this.hc=this.hc?Bc(this.hc,n,n):n(),this.hc},t.prototype.return=function(t){var n=this,i=function(){return n.vc(t)};return this.hc?Bc(this.hc,i,i):i()},t.prototype.fc=function(){var t=this;if(this.ac)return ge.resolve({value:void 0,done:!0});var n,i,e=this.$a;if(void 0===e.Ja)return Dc(Xc("iterate"));var r=Rc(function(t,e){n=t,i=e});return pf(e,{rc:function(i){t.hc=void 0,Mc(function(){return n({value:i,done:!1})})},ec:function(){t.hc=void 0,t.ac=!0,Wc(e),n({value:void 0,done:!0})},sc:function(n){t.hc=void 0,t.ac=!0,Wc(e),i(n)}}),r},t.prototype.vc=function(t){if(this.ac)return ge.resolve({value:t,done:!0});this.ac=!0;var n=this.$a;if(void 0===n.Ja)return Dc(Xc("finish iterating"));if(!this.cc){var i=Vc(n,t);return Wc(n),Bc(i,function(){return{value:t,done:!0}})}return Wc(n),Nc({value:t,done:!0})},t}(),Af={next:function(){return Tf(this)?this.dc.next():Dc(Sf("next"))},return:function(t){return Tf(this)?this.dc.return(t):Dc(Sf("return"))}};function Tf(t){if(!bc(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"dc"))return!1;try{return t.dc instanceof bf}catch(t){return!1}}function Sf(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==gf&&l.setPrototypeOf(Af,gf);var Ef=Number.isNaN||function(t){return t!=t};function If(t){return t.slice()}function Rf(t,n,i,e,r){new m(t).set(new m(i,e,r),n)}function Nf(t){return t}function Df(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Rf(r,0,t,n,e),r}function Cf(t){var n=Df(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new m(n)}function xf(t){var n=t.lc.shift();return t._c-=n.size,t._c<0&&(t._c=0),n.value}function Pf(t,n,i){if("number"!=typeof(e=i)||Ef(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.lc.push({value:n,size:i}),t._c+=i}function Of(t){t.lc=new Hc,t._c=0}var Bf=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"view",{get:function(){if(!Uf(this))throw uv("view");return this.wc},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Uf(this))throw uv("respond");if(sf(t,1,"respond"),t=af(t,"First parameter"),void 0===this.gc)throw new d("This BYOB request has been invalidated");this.wc.buffer,ev(this.gc,t)},t.prototype.respondWithNewView=function(t){if(!Uf(this))throw uv("respondWithNewView");if(sf(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");if(void 0===this.gc)throw new d("This BYOB request has been invalidated");t.buffer,rv(this.gc,t)},t}();l.defineProperties(Bf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Bf.prototype,mc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Lf=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Mf(this))throw ov("byobRequest");return nv(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Mf(this))throw ov("desiredSize");return iv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Mf(this))throw ov("close");if(this.yc)throw new d("The stream has already been closed; do not close it again!");var t=this.mc.Ri;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");$f(this)},t.prototype.enqueue=function(t){if(!Mf(this))throw ov("enqueue");if(sf(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new d("chunk must be an array buffer view");if(0===t.byteLength)throw new d("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new d("chunk's buffer must have non-zero byteLength");if(this.yc)throw new d("stream is closed or draining");var n=this.mc.Ri;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Kf(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Mf(this))throw ov("error");tv(this,t)},t.prototype[Jc]=function(t){Hf(this),Of(this);var n=this.pc(t);return Jf(this),n},t.prototype[$c]=function(t){var n=this.mc;if(this._c>0){var i=this.lc.shift();this._c-=i.byteLength,Gf(this);var e=new m(i.buffer,i.byteOffset,i.byteLength);t.rc(e)}else{var r=this.kc;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.sc(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:m,readerType:"default"};this.bc.push(u)}vf(n,t),Ff(this)}},t}();function Mf(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"mc")&&t instanceof Lf)}function Uf(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"gc")&&t instanceof Bf)}function Ff(t){(function(t){var n=t.mc;if("readable"!==n.Ri)return!1;if(t.yc)return!1;if(!t.Ac)return!1;if(_f(n)&&lf(n)>0)return!0;if(fv(n)&&cv(n)>0)return!0;if(iv(t)>0)return!0;return!1})(t)&&(t.Tc?t.Sc=!0:(t.Tc=!0,xc(t.Ec(),function(){t.Tc=!1,t.Sc&&(t.Sc=!1,Ff(t))},function(n){tv(t,n)})))}function Hf(t){Qf(t),t.bc=new Hc}function zf(t,n){var i=!1;"closed"===t.Ri&&(i=!0);var e=Vf(n);"default"===n.readerType?df(t,e,i):function(t,n,i){var e=t.$a.Ic.shift();i?e.ec(n):e.rc(n)}(t,e,i)}function Vf(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Wf(t,n,i,e){t.lc.push({buffer:n,byteOffset:i,byteLength:e}),t._c+=e}function Xf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=_.min(t._c,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a=t.lc;o>0;){var c=a.peek(),f=_.min(o,c.byteLength),v=n.byteOffset+n.bytesFilled;Rf(n.buffer,v,c.buffer,c.byteOffset,f),c.byteLength===f?a.shift():(c.byteOffset+=f,c.byteLength-=f),t._c-=f,qf(t,f,n),o-=f}return h}function qf(t,n,i){i.bytesFilled+=n}function Gf(t){0===t._c&&t.yc?(Jf(t),qd(t.mc)):Ff(t)}function Qf(t){null!==t.Rc&&(t.Rc.gc=void 0,t.Rc.wc=null,t.Rc=null)}function Yf(t){for(;t.bc.length>0;){if(0===t._c)return;var n=t.bc.peek();Xf(t,n)&&(Zf(t),zf(t.mc,n))}}function jf(t,n){var i=t.bc.peek();Qf(t),"closed"===t.mc.Ri?function(t,n){var i=t.mc;if(fv(i))for(;cv(i)>0;)zf(i,Zf(t))}(t):function(t,n,i){if(qf(0,n,i),!(i.bytesFilled<i.elementSize)){Zf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Df(i.buffer,r-e,r);Wf(t,s,0,s.byteLength)}i.bytesFilled-=e,zf(t.mc,i),Yf(t)}}(t,n,i),Ff(t)}function Zf(t){return t.bc.shift()}function Jf(t){t.Ec=void 0,t.pc=void 0}function $f(t){var n=t.mc;if(!t.yc&&"readable"===n.Ri)if(t._c>0)t.yc=!0;else{if(t.bc.length>0)if(t.bc.peek().bytesFilled>0){var i=new d("Insufficient bytes to fill elements in the given buffer");throw tv(t,i),i}Jf(t),qd(n)}}function Kf(t,n){var i=t.mc;if(!t.yc&&"readable"===i.Ri){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=Nf(e);if(t.bc.length>0){var o=t.bc.peek();o.buffer,0,o.buffer=Nf(o.buffer)}if(Qf(t),_f(i))if(0===lf(i))Wf(t,u,r,s);else t.bc.length>0&&Zf(t),df(i,new m(u,r,s),!1);else fv(i)?(Wf(t,u,r,s),Yf(t)):Wf(t,u,r,s);Ff(t)}}function tv(t,n){var i=t.mc;"readable"===i.Ri&&(Hf(t),Of(t),Jf(t),Gd(i,n))}function nv(t){if(null===t.Rc&&t.bc.length>0){var n=t.bc.peek(),i=new m(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=l.create(Bf.prototype);!function(t,n,i){t.gc=n,t.wc=i}(e,t,i),t.Rc=e}return t.Rc}function iv(t){var n=t.mc.Ri;return"errored"===n?null:"closed"===n?0:t.Nc-t._c}function ev(t,n){var i=t.bc.peek();if("closed"===t.mc.Ri){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new d("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=Nf(i.buffer),jf(t,n)}function rv(t,n){var i=t.bc.peek();if("closed"===t.mc.Ri){if(0!==n.byteLength)throw new d("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new d("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=Nf(n.buffer),jf(t,e)}function sv(t,n,i,e,r,s,u){n.mc=t,n.Sc=!1,n.Tc=!1,n.Rc=null,n.lc=n._c=void 0,Of(n),n.yc=!1,n.Ac=!1,n.Nc=s,n.Ec=e,n.pc=r,n.kc=u,n.bc=new Hc,t.oc=n,xc(Nc(i()),function(){n.Ac=!0,Ff(n)},function(t){tv(n,t)})}function uv(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ov(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function hv(t){return new vv(t)}function av(t,n){t.$a.Ic.push(n)}function cv(t){return t.$a.Ic.length}function fv(t){var n=t.$a;return void 0!==n&&!!dv(n)}l.defineProperties(Lf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Lf.prototype,mc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var vv=function(){function t(t){if(sf(t,1,"ReadableStreamBYOBReader"),cf(t,"First parameter"),Wd(t))throw new d("This stream has already been locked for exclusive reading by another reader");if(!Mf(t.oc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");zc(this,t),this.Ic=new Hc}return l.defineProperty(t.prototype,"closed",{get:function(){return dv(this)?this.Mo:Dc(_v("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),dv(this)?void 0===this.Ja?Dc(Xc("cancel")):Vc(this,t):Dc(_v("cancel"))},t.prototype.read=function(t){if(!dv(this))return Dc(_v("read"));if(!ArrayBuffer.isView(t))return Dc(new d("view must be an array buffer view"));if(0===t.byteLength)return Dc(new d("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Dc(new d("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.Ja)return Dc(Xc("read from"));var n,i,e=Rc(function(t,e){n=t,i=e});return lv(this,t,{rc:function(t){return n({value:t,done:!1})},ec:function(t){return n({value:t,done:!0})},sc:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!dv(this))throw _v("releaseLock");if(void 0!==this.Ja){if(this.Ic.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Wc(this)}},t}();function dv(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Ic")&&t instanceof vv)}function lv(t,n,i){var e=t.Ja;e.uc=!0,"errored"===e.Ri?i.sc(e.Ka):function(t,n,i){var e=t.mc,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=Nf(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.bc.length>0)return t.bc.push(o),void av(e,i);if("closed"!==e.Ri){if(t._c>0){if(Xf(t,o)){var h=Vf(o);return Gf(t),void i.rc(h)}if(t.yc){var a=new d("Insufficient bytes to fill elements in the given buffer");return tv(t,a),void i.sc(a)}}t.bc.push(o),av(e,i),Ff(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.ec(c)}}(e.oc,n,i)}function _v(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function wv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Ef(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function gv(t){var n=t.size;return n||function(){return 1}}function yv(t,n){nf(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:of(i),size:void 0===e?void 0:mv(e,n+" has member 'size' that")}}function mv(t,n){return ef(t,n),function(n){return of(t(n))}}function pv(t,n,i){return ef(t,i),function(i){return Fc(t,n,[i])}}function kv(t,n,i){return ef(t,i),function(){return Fc(t,n,[])}}function bv(t,n,i){return ef(t,i),function(i){return Uc(t,n,[i])}}function Av(t,n,i){return ef(t,i),function(i,e){return Fc(t,n,[i,e])}}function Tv(t,n){if(!Nv(t))throw new d(n+" is not a WritableStream.")}l.defineProperties(vv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(vv.prototype,mc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Sv="function"==typeof AbortController;var Ev=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:rf(t,"First parameter");var i=yv(n,"Second parameter"),e=function(t,n){nf(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:pv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:kv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:bv(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Av(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Rv(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=gv(i);!function(t,n,i,e){var r=l.create(Qv.prototype),s=function(){},u=function(){return Nc(void 0)},o=function(){return Nc(void 0)},h=function(){return Nc(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(h=function(t){return n.abort(t)});jv(t,r,s,u,o,h,i,e)}(this,e,wv(i,1),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!Nv(this))throw id("locked");return Dv(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Nv(this)?Dv(this)?Dc(new d("Cannot abort a stream that already has a writer")):Cv(this,t):Dc(id("abort"))},t.prototype.close=function(){return Nv(this)?Dv(this)?Dc(new d("Cannot close a stream that already has a writer")):Lv(this)?Dc(new d("Cannot close an already-closing stream")):xv(this):Dc(id("close"))},t.prototype.getWriter=function(){if(!Nv(this))throw id("getWriter");return Iv(this)},t}();function Iv(t){return new Fv(t)}function Rv(t){t.Ri="writable",t.Ka=void 0,t.Ws=void 0,t.Dc=void 0,t.Cc=new Hc,t.xc=void 0,t.Pc=void 0,t.Oc=void 0,t.Bc=void 0,t.Lc=!1}function Nv(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Dc")&&t instanceof Ev)}function Dv(t){return void 0!==t.Ws}function Cv(t,n){var i;if("closed"===t.Ri||"errored"===t.Ri)return Nc(void 0);t.Dc.Mc=n,null===(i=t.Dc.Uc)||void 0===i||i.abort();var e=t.Ri;if("closed"===e||"errored"===e)return Nc(void 0);if(void 0!==t.Bc)return t.Bc.Fc;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=Rc(function(i,e){t.Bc={Fc:void 0,Ss:i,Es:e,Hc:n,zc:r}});return t.Bc.Fc=s,r||Ov(t,n),s}function xv(t){var n=t.Ri;if("closed"===n||"errored"===n)return Dc(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Rc(function(n,i){var e={Ss:n,Es:i};t.Pc=e}),r=t.Ws;return void 0!==r&&t.Lc&&"writable"===n&&ld(r),Pf(i=t.Dc,Gv,0),$v(i),e}function Pv(t,n){"writable"!==t.Ri?Bv(t):Ov(t,n)}function Ov(t,n){var i=t.Dc;t.Ri="erroring",t.Ka=n;var e=t.Ws;void 0!==e&&Wv(e,n),!function(t){if(void 0===t.xc&&void 0===t.Oc)return!1;return!0}(t)&&i.Ac&&Bv(t)}function Bv(t){t.Ri="errored",t.Dc[Zc]();var n=t.Ka;if(t.Cc.forEach(function(t){t.Es(n)}),t.Cc=new Hc,void 0!==t.Bc){var i=t.Bc;if(t.Bc=void 0,i.zc)return i.Es(n),void Mv(t);xc(t.Dc[jc](i.Hc),function(){i.Ss(),Mv(t)},function(n){i.Es(n),Mv(t)})}else Mv(t)}function Lv(t){return void 0!==t.Pc||void 0!==t.Oc}function Mv(t){void 0!==t.Pc&&(t.Pc.Es(t.Ka),t.Pc=void 0);var n=t.Ws;void 0!==n&&hd(n,t.Ka)}function Uv(t,n){var i=t.Ws;void 0!==i&&n!==t.Lc&&(n?function(t){cd(t)}(i):ld(i)),t.Lc=n}l.defineProperties(Ev.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Ev.prototype,mc.toStringTag,{value:"WritableStream",configurable:!0});var Fv=function(){function t(t){if(sf(t,1,"WritableStreamDefaultWriter"),Tv(t,"First parameter"),Dv(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Vc=t,t.Ws=this;var n,i=t.Ri;if("writable"===i)!Lv(t)&&t.Lc?cd(this):vd(this),ud(this);else if("erroring"===i)fd(this,t.Ka),ud(this);else if("closed"===i)vd(this),ud(n=this),ad(n);else{var e=t.Ka;fd(this,e),od(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return Hv(this)?this.Mo:Dc(rd("closed"))},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Hv(this))throw rd("desiredSize");if(void 0===this.Vc)throw sd("desiredSize");return function(t){var n=t.Vc,i=n.Ri;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Jv(n.Dc)}(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return Hv(this)?this.Wc:Dc(rd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),Hv(this)?void 0===this.Vc?Dc(sd("abort")):function(t,n){return Cv(t.Vc,n)}(this,t):Dc(rd("abort"))},t.prototype.close=function(){if(!Hv(this))return Dc(rd("close"));var t=this.Vc;return void 0===t?Dc(sd("close")):Lv(t)?Dc(new d("Cannot close an already-closing stream")):zv(this)},t.prototype.releaseLock=function(){if(!Hv(this))throw rd("releaseLock");void 0!==this.Vc&&Xv(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),Hv(this)?void 0===this.Vc?Dc(sd("write to")):qv(this,t):Dc(rd("write"))},t}();function Hv(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Vc")&&t instanceof Fv)}function zv(t){return xv(t.Vc)}function Vv(t,n){"pending"===t.Xc?hd(t,n):function(t,n){od(t,n)}(t,n)}function Wv(t,n){"pending"===t.qc?dd(t,n):function(t,n){fd(t,n)}(t,n)}function Xv(t){var n=t.Vc,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Wv(t,i),Vv(t,i),n.Ws=void 0,t.Vc=void 0}function qv(t,n){var i=t.Vc,e=i.Dc,r=function(t,n){try{return t.Gc(n)}catch(n){return Kv(t,n),1}}(e,n);if(i!==t.Vc)return Dc(sd("write to"));var s=i.Ri;if("errored"===s)return Dc(i.Ka);if(Lv(i)||"closed"===s)return Dc(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Dc(i.Ka);var u=function(t){return Rc(function(n,i){var e={Ss:n,Es:i};t.Cc.push(e)})}(i);return function(t,n,i){try{Pf(t,n,i)}catch(n){return void Kv(t,n)}var e=t.Qc;if(!Lv(e)&&"writable"===e.Ri){var r=td(t);Uv(e,r)}$v(t)}(e,n,r),u}l.defineProperties(Fv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Fv.prototype,mc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Gv={},Qv=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"abortReason",{get:function(){if(!Yv(this))throw ed("abortReason");return this.Mc},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"signal",{get:function(){if(!Yv(this))throw ed("signal");if(void 0===this.Uc)throw new d("WritableStreamDefaultController.prototype.signal is not supported");return this.Uc.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Yv(this))throw ed("error");"writable"===this.Qc.Ri&&nd(this,t)},t.prototype[jc]=function(t){var n=this.Yc(t);return Zv(this),n},t.prototype[Zc]=function(){Of(this)},t}();function Yv(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Qc")&&t instanceof Qv)}function jv(t,n,i,e,r,s,u,o){n.Qc=t,t.Dc=n,n.lc=void 0,n._c=void 0,Of(n),n.Mc=void 0,n.Uc=function(){if(Sv)return new AbortController}(),n.Ac=!1,n.Gc=o,n.Nc=u,n.jc=e,n.Zc=r,n.Yc=s;var h=td(n);Uv(t,h),xc(Nc(i()),function(){n.Ac=!0,$v(n)},function(i){n.Ac=!0,Pv(t,i)})}function Zv(t){t.jc=void 0,t.Zc=void 0,t.Yc=void 0,t.Gc=void 0}function Jv(t){return t.Nc-t._c}function $v(t){var n=t.Qc;if(t.Ac&&void 0===n.xc)if("erroring"!==n.Ri){if(0!==t.lc.length){var i=t.lc.peek().value;i===Gv?function(t){var n=t.Qc;(function(t){t.Oc=t.Pc,t.Pc=void 0})(n),xf(t);var i=t.Zc();Zv(t),xc(i,function(){!function(t){t.Oc.Ss(void 0),t.Oc=void 0,"erroring"===t.Ri&&(t.Ka=void 0,void 0!==t.Bc&&(t.Bc.Ss(),t.Bc=void 0)),t.Ri="closed";var n=t.Ws;void 0!==n&&ad(n)}(n)},function(t){!function(t,n){t.Oc.Es(n),t.Oc=void 0,void 0!==t.Bc&&(t.Bc.Es(n),t.Bc=void 0),Pv(t,n)}(n,t)})}(t):function(t,n){var i=t.Qc;(function(t){t.xc=t.Cc.shift()})(i),xc(t.jc(n),function(){!function(t){t.xc.Ss(void 0),t.xc=void 0}(i);var n=i.Ri;if(xf(t),!Lv(i)&&"writable"===n){var e=td(t);Uv(i,e)}$v(t)},function(n){"writable"===i.Ri&&Zv(t),function(t,n){t.xc.Es(n),t.xc=void 0,Pv(t,n)}(i,n)})}(t,i)}}else Bv(n)}function Kv(t,n){"writable"===t.Qc.Ri&&nd(t,n)}function td(t){return Jv(t)<=0}function nd(t,n){var i=t.Qc;Zv(t),Ov(i,n)}function id(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function ed(t){return new d("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function rd(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function sd(t){return new d("Cannot "+t+" a stream using a released writer")}function ud(t){t.Mo=Rc(function(n,i){t.tc=n,t.nc=i,t.Xc="pending"})}function od(t,n){ud(t),hd(t,n)}function hd(t,n){void 0!==t.nc&&(Lc(t.Mo),t.nc(n),t.tc=void 0,t.nc=void 0,t.Xc="rejected")}function ad(t){void 0!==t.tc&&(t.tc(void 0),t.tc=void 0,t.nc=void 0,t.Xc="resolved")}function cd(t){t.Wc=Rc(function(n,i){t.Jc=n,t.$c=i}),t.qc="pending"}function fd(t,n){cd(t),dd(t,n)}function vd(t){cd(t),ld(t)}function dd(t,n){void 0!==t.$c&&(Lc(t.Wc),t.$c(n),t.Jc=void 0,t.$c=void 0,t.qc="rejected")}function ld(t){void 0!==t.Jc&&(t.Jc(void 0),t.Jc=void 0,t.$c=void 0,t.qc="fulfilled")}l.defineProperties(Qv.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Qv.prototype,mc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var _d="undefined"!=typeof DOMException?DOMException:void 0;var wd,gd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(_d)?_d:((wd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(wd.prototype,"constructor",{value:wd,writable:!0,configurable:!0}),wd);function yd(t,n,i,e,r,s){var u=ff(t),o=Iv(n);t.uc=!0;var h=!1,a=Nc(void 0);return Rc(function(c,f){var v,l,_,w;if(void 0!==s){if(v=function(){var i=new gd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.Ri?Cv(n,i):Nc(void 0)}),r||s.push(function(){return"readable"===t.Ri?Xd(t,i):Nc(void 0)}),p(function(){return ge.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Mo,function(t){e?k(!0,t):p(function(){return Cv(n,t)},!0,t)}),m(n,o.Mo,function(n){r?k(!0,n):p(function(){return Xd(t,n)},!0,n)}),l=t,_=u.Mo,w=function(){i?k():p(function(){return function(t){var n=t.Vc,i=n.Ri;return Lv(n)||"closed"===i?Nc(void 0):"errored"===i?Dc(n.Ka):zv(t)}(o)})},"closed"===l.Ri?w():Pc(_,w),Lv(n)||"closed"===n.Ri){var g=new d("the destination writable stream closed before all data could be piped to it");r?k(!0,g):p(function(){return Xd(t,g)},!0,g)}function y(){var t=a;return Cc(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Ri?i(t.Ka):Oc(n,i)}function p(t,i,e){function r(){xc(t(),function(){return b(i,e)},function(t){return b(!0,t)})}h||(h=!0,"writable"!==n.Ri||Lv(n)?r():Pc(y(),r))}function k(t,i){h||(h=!0,"writable"!==n.Ri||Lv(n)?b(t,i):Pc(y(),function(){return b(t,i)}))}function b(t,n){Xv(o),Wc(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}Lc(Rc(function(t,n){!function i(e){e?t():Cc(h?Nc(!0):Cc(o.Wc,function(){return Rc(function(t,n){pf(u,{rc:function(n){a=Cc(qv(o,n),void 0,pc),t(!1)},ec:function(){return t(!0)},sc:n})})}),i,n)}(!1)}))})}var md=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!pd(this))throw Dd("desiredSize");return Id(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!pd(this))throw Dd("close");if(!Rd(this))throw new d("The stream is not in a state that permits close");Td(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!pd(this))throw Dd("enqueue");if(!Rd(this))throw new d("The stream is not in a state that permits enqueue");return Sd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!pd(this))throw Dd("error");Ed(this,t)},t.prototype[Jc]=function(t){Of(this);var n=this.pc(t);return Ad(this),n},t.prototype[$c]=function(t){var n=this.Kc;if(this.lc.length>0){var i=xf(this);this.yc&&0===this.lc.length?(Ad(this),qd(n)):kd(this),t.rc(i)}else vf(n,t),kd(this)},t}();function pd(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Kc")&&t instanceof md)}function kd(t){bd(t)&&(t.Tc?t.Sc=!0:(t.Tc=!0,xc(t.Ec(),function(){t.Tc=!1,t.Sc&&(t.Sc=!1,kd(t))},function(n){Ed(t,n)})))}function bd(t){var n=t.Kc;return!!Rd(t)&&(!!t.Ac&&(!!(Wd(n)&&lf(n)>0)||Id(t)>0))}function Ad(t){t.Ec=void 0,t.pc=void 0,t.Gc=void 0}function Td(t){if(Rd(t)){var n=t.Kc;t.yc=!0,0===t.lc.length&&(Ad(t),qd(n))}}function Sd(t,n){if(Rd(t)){var i=t.Kc;if(Wd(i)&&lf(i)>0)df(i,n,!1);else{var e=void 0;try{e=t.Gc(n)}catch(n){throw Ed(t,n),n}try{Pf(t,n,e)}catch(n){throw Ed(t,n),n}}kd(t)}}function Ed(t,n){var i=t.Kc;"readable"===i.Ri&&(Of(t),Ad(t),Gd(i,n))}function Id(t){var n=t.Kc.Ri;return"errored"===n?null:"closed"===n?0:t.Nc-t._c}function Rd(t){var n=t.Kc.Ri;return!t.yc&&"readable"===n}function Nd(t,n,i,e,r,s,u){n.Kc=t,n.lc=void 0,n._c=void 0,Of(n),n.Ac=!1,n.yc=!1,n.Sc=!1,n.Tc=!1,n.Gc=u,n.Nc=s,n.Ec=e,n.pc=r,t.oc=n,xc(Nc(i()),function(){n.Ac=!0,kd(n)},function(t){Ed(n,t)})}function Dd(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Cd(t,n){return Mf(t.oc)?function(t){var n,i,e,r,s,u=ff(t),o=!1,h=!1,a=!1,c=!1,f=!1,v=Rc(function(t){s=t});function d(t){Oc(t.Mo,function(n){t===u&&(tv(e.oc,n),tv(r.oc,n),c&&f||s(void 0))})}function l(){dv(u)&&(Wc(u),d(u=ff(t)));var n={rc:function(n){Mc(function(){h=!1,a=!1;var i=n,u=n;if(!c&&!f)try{u=Cf(n)}catch(n){return tv(e.oc,n),tv(r.oc,n),void s(Xd(t,n))}c||Kf(e.oc,i),f||Kf(r.oc,u),o=!1,h?w():a&&g()})},ec:function(){o=!1,c||$f(e.oc),f||$f(r.oc),e.oc.bc.length>0&&ev(e.oc,0),r.oc.bc.length>0&&ev(r.oc,0),c&&f||s(void 0)},sc:function(){o=!1}};pf(u,n)}function _(n,i){mf(u)&&(Wc(u),d(u=hv(t)));var v=i?r:e,l=i?e:r,_={rc:function(n){Mc(function(){h=!1,a=!1;var e=i?f:c,r=i?c:f;if(r)e||rv(v.oc,n);else{var u=void 0;try{u=Cf(n)}catch(n){return tv(v.oc,n),tv(l.oc,n),void s(Xd(t,n))}e||rv(v.oc,n),Kf(l.oc,u)}o=!1,h?w():a&&g()})},ec:function(t){o=!1;var n=i?f:c,e=i?c:f;n||$f(v.oc),e||$f(l.oc),void 0!==t&&(n||rv(v.oc,t),!e&&l.oc.bc.length>0&&ev(l.oc,0)),n&&e||s(void 0)},sc:function(){o=!1}};lv(u,n,_)}function w(){if(o)return h=!0,Nc(void 0);o=!0;var t=nv(e.oc);return null===t?l():_(t.wc,!1),Nc(void 0)}function g(){if(o)return a=!0,Nc(void 0);o=!0;var t=nv(r.oc);return null===t?l():_(t.wc,!0),Nc(void 0)}function y(){}return e=Hd(y,w,function(e){if(c=!0,n=e,f){var r=If([n,i]),u=Xd(t,r);s(u)}return v}),r=Hd(y,g,function(e){if(f=!0,i=e,c){var r=If([n,i]),u=Xd(t,r);s(u)}return v}),d(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=ff(t),h=!1,a=!1,c=!1,f=!1,v=Rc(function(t){u=t});function d(){if(h)return a=!0,Nc(void 0);h=!0;var t={rc:function(t){Mc(function(){a=!1;var n=t,i=t;c||Sd(r.oc,n),f||Sd(s.oc,i),h=!1,a&&d()})},ec:function(){h=!1,c||Td(r.oc),f||Td(s.oc),c&&f||u(void 0)},sc:function(){h=!1}};return pf(o,t),Nc(void 0)}function l(){}return r=Fd(l,d,function(n){if(c=!0,i=n,f){var r=If([i,e]),s=Xd(t,r);u(s)}return v}),s=Fd(l,d,function(n){if(f=!0,e=n,c){var r=If([i,e]),s=Xd(t,r);u(s)}return v}),Oc(o.Mo,function(t){Ed(r.oc,t),Ed(s.oc,t),c&&f||u(void 0)}),[r,s]}(t)}function xd(t,n,i){return ef(t,i),function(i){return Fc(t,n,[i])}}function Pd(t,n,i){return ef(t,i),function(i){return Fc(t,n,[i])}}function Od(t,n,i){return ef(t,i),function(i){return Uc(t,n,[i])}}function Bd(t,n){if("bytes"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function Ld(t,n){if("byob"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Md(t,n){nf(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new d(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}l.defineProperties(md.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(md.prototype,mc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Ud=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:rf(t,"First parameter");var i=yv(n,"Second parameter"),e=function(t,n){nf(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:af(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:xd(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Pd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Od(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Bd(o,n+" has member 'type' that")}}(t,"First parameter");if(zd(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=l.create(Lf.prototype),r=function(){},s=function(){return Nc(void 0)},u=function(){return Nc(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new d("autoAllocateChunkSize must be greater than 0");sv(t,e,r,s,u,i,o)}(this,e,wv(i,0))}else{var r=gv(i);!function(t,n,i,e){var r=l.create(md.prototype),s=function(){},u=function(){return Nc(void 0)},o=function(){return Nc(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),Nd(t,r,s,u,o,i,e)}(this,e,wv(i,1),r)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!Vd(this))throw Qd("locked");return Wd(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Vd(this)?Wd(this)?Dc(new d("Cannot cancel a stream that already has a reader")):Xd(this,t):Dc(Qd("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Vd(this))throw Qd("getReader");return void 0===function(t,n){nf(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:Ld(i,n+" has member 'mode' that")}}(t,"First parameter").mode?ff(this):hv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Vd(this))throw Qd("pipeThrough");sf(t,1,"pipeThrough");var i=function(t,n){nf(t,n);var i=null==t?void 0:t.readable;uf(i,"readable","ReadableWritablePair"),cf(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return uf(e,"writable","ReadableWritablePair"),Tv(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Md(n,"Second parameter");if(Wd(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Dv(i.writable))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Lc(yd(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Vd(this))return Dc(Qd("pipeTo"));if(void 0===t)return Dc("Parameter 1 is required in 'pipeTo'.");if(!Nv(t))return Dc(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Md(n,"Second parameter")}catch(t){return Dc(t)}return Wd(this)?Dc(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Dv(t)?Dc(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):yd(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Vd(this))throw Qd("tee");return If(Cd(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Vd(this))throw Qd("values");var n,i,e,r,s,u=function(t,n){nf(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=ff(n),r=new bf(e,i),(s=l.create(Af)).dc=r,s},t}();function Fd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(Ud.prototype);return zd(s),Nd(s,l.create(md.prototype),t,n,i,e,r),s}function Hd(t,n,i){var e=l.create(Ud.prototype);return zd(e),sv(e,l.create(Lf.prototype),t,n,i,0,void 0),e}function zd(t){t.Ri="readable",t.$a=void 0,t.Ka=void 0,t.uc=!1}function Vd(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"oc")&&t instanceof Ud)}function Wd(t){return void 0!==t.$a}function Xd(t,n){if(t.uc=!0,"closed"===t.Ri)return Nc(void 0);if("errored"===t.Ri)return Dc(t.Ka);qd(t);var i=t.$a;return void 0!==i&&dv(i)&&(i.Ic.forEach(function(t){t.ec(void 0)}),i.Ic=new Hc),Bc(t.oc[Jc](n),pc)}function qd(t){t.Ri="closed";var n=t.$a;void 0!==n&&(Yc(n),mf(n)&&(n.ic.forEach(function(t){t.ec()}),n.ic=new Hc))}function Gd(t,n){t.Ri="errored",t.Ka=n;var i=t.$a;void 0!==i&&(Qc(i,n),mf(i)?(i.ic.forEach(function(t){t.sc(n)}),i.ic=new Hc):(i.Ic.forEach(function(t){t.sc(n)}),i.Ic=new Hc))}function Qd(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Yd(t,n){nf(t,n);var i=null==t?void 0:t.highWaterMark;return uf(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:of(i)}}l.defineProperties(Ud.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Ud.prototype,mc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof mc.asyncIterator&&l.defineProperty(Ud.prototype,mc.asyncIterator,{value:Ud.prototype.values,writable:!0,configurable:!0});var jd=function(t){return t.byteLength};try{l.defineProperty(jd,"name",{value:"size",configurable:!0})}catch(we){}var Zd=function(){function t(t){sf(t,1,"ByteLengthQueuingStrategy"),t=Yd(t,"First parameter"),this.tf=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!$d(this))throw Jd("highWaterMark");return this.tf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!$d(this))throw Jd("size");return jd},enumerable:!1,configurable:!0}),t}();function Jd(t){return new d("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function $d(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"tf")&&t instanceof Zd)}l.defineProperties(Zd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(Zd.prototype,mc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Kd=function(){return 1};try{l.defineProperty(Kd,"name",{value:"size",configurable:!0})}catch(we){}var tl=function(){function t(t){sf(t,1,"CountQueuingStrategy"),t=Yd(t,"First parameter"),this.nf=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!il(this))throw nl("highWaterMark");return this.nf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!il(this))throw nl("size");return Kd},enumerable:!1,configurable:!0}),t}();function nl(t){return new d("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function il(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"nf")&&t instanceof tl)}function el(t,n,i){return ef(t,i),function(i){return Fc(t,n,[i])}}function rl(t,n,i){return ef(t,i),function(i){return Uc(t,n,[i])}}function sl(t,n,i){return ef(t,i),function(i,e){return Fc(t,n,[i,e])}}l.defineProperties(tl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(tl.prototype,mc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var ul=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=yv(n,"Second parameter"),r=yv(i,"Third parameter"),s=function(t,n){nf(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:el(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:rl(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:sl(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=wv(r,0),h=gv(r),a=wv(e,1),c=gv(e);!function(t,n,i,e,r,s){function u(){return n}t.if=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(Ev.prototype);return Rv(u),jv(u,l.create(Qv.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.ef;if(t.Lc){var e=t.rf;return Bc(e,function(){var e=t.if,r=e.Ri;if("erroring"===r)throw e.Ka;return _l(i,n)})}return _l(i,n)}(t,n)},function(){return function(t){var n=t.sf,i=t.ef,e=i.uf();return dl(i),Bc(e,function(){if("errored"===n.Ri)throw n.Ka;Td(n.oc)},function(i){throw hl(t,i),n.Ka})}(t)},function(n){return function(t,n){return hl(t,n),Nc(void 0)}(t,n)},i,e),t.sf=Fd(u,function(){return function(t){return cl(t,!1),t.rf}(t)},function(n){return al(t,n),Nc(void 0)},r,s),t.Lc=void 0,t.rf=void 0,t.hf=void 0,cl(t,!0),t.ef=void 0}(this,Rc(function(t){u=t}),a,c,o,h),function(t,n){var i=l.create(fl.prototype),e=function(t){try{return ll(i,t),Nc(void 0)}catch(t){return Dc(t)}},r=function(){return Nc(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.af=t,t.ef=n,n.cf=i,n.uf=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.ef)):u(void 0)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!ol(this))throw gl("readable");return this.sf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!ol(this))throw gl("writable");return this.if},enumerable:!1,configurable:!0}),t}();function ol(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"ef")&&t instanceof ul)}function hl(t,n){Ed(t.sf.oc,n),al(t,n)}function al(t,n){dl(t.ef),Kv(t.if.Dc,n),t.Lc&&cl(t,!1)}function cl(t,n){void 0!==t.rf&&t.hf(),t.rf=Rc(function(n){t.hf=n}),t.Lc=n}l.defineProperties(ul.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(ul.prototype,mc.toStringTag,{value:"TransformStream",configurable:!0});var fl=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!vl(this))throw wl("desiredSize");return Id(this.af.sf.oc)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!vl(this))throw wl("enqueue");ll(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!vl(this))throw wl("error");var n;n=t,hl(this.af,n)},t.prototype.terminate=function(){if(!vl(this))throw wl("terminate");!function(t){var n=t.af;Td(n.sf.oc);var i=new d("TransformStream terminated");al(n,i)}(this)},t}();function vl(t){return!!bc(t)&&(!!l.prototype.hasOwnProperty.call(t,"af")&&t instanceof fl)}function dl(t){t.cf=void 0,t.uf=void 0}function ll(t,n){var i=t.af,e=i.sf.oc;if(!Rd(e))throw new d("Readable side is not in a state that permits enqueue");try{Sd(e,n)}catch(t){throw al(i,t),i.sf.Ka}(function(t){return!bd(t)})(e)!==i.Lc&&cl(i,!0)}function _l(t,n){return Bc(t.cf(n),void 0,function(n){throw hl(t.af,n),n})}function wl(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function gl(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}l.defineProperties(fl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof mc.toStringTag&&l.defineProperty(fl.prototype,mc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var yl,ml=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Et);function pl(t){return n=[t],new Ud({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function kl(t){return pl(new m(t))}function bl(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Zu,s=function(){u();var t=new cs;e.cancel(t).catch(j),r.Rs(t)},u=function(){i&&(i.Er(s),i=void 0)};i&&(i.yr?s():i.Sr(s));var o=[];return ge.resolve(e.read()).then(function t(n){return n.done?(u(),ge.resolve(o)):(o.push(n.value),ge.resolve(e.read()).then(t))}).then(function(t){u(),r.Is(t)},function(t){u(),r.Rs(t)}),r.Ts}(t,n).then(function(t){return js(t).buffer})}function Al(t,n){var i=n,e=new ul,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Dr()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(j)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(j)}),r}function Tl(t){return Uu(new m(t))}function Sl(t){return Fu(t).buffer}!function(t){t[t.Va=0]="Va",t[t.ff=1]="ff"}(yl||(yl={}));var El="content-type",Il="text/plain;charset=UTF-8",Rl=function(){function t(){}var n=t.prototype;return n.vf=function(t){return this.df(t).then(JSON.parse)},n.lf=function(t,n){switch(t){case _c.Ha:return this._f(n);case _c.za:return this.vf(n);case _c.Va:return this.wf();case _c.Pn:return this.df(n);default:throw new d}},t}();function Nl(t,n,i){if(t instanceof Rl)return t;if(t instanceof Ud)return function(t,n){return new Cl({tr:yl.Va,wf:t,gf:Dl(n)})}(t,i);var e=Dl(i),r=ge.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{tr:_c.Pn,yf:t,gf:n||Il};if(t instanceof ArrayBuffer||Qs(t))return{tr:_c.Ha,yf:Ul(t),gf:n};if(W(t)||H(t))return{tr:_c.za,yf:t,gf:n};throw new d("Unsupported BodyInit type")}return{tr:_c.Pn,yf:null,gf:n}}(t,e)});return new Cl({tr:yl.ff,Ts:r,mf:n})}function Dl(t){return(t.get(El)||"").toLowerCase()}var Cl=function(t){function n(n){var i;return(i=t.call(this)||this).pf=!1,i.kf=void 0,i.bf=new Zu,i.bf.Ts.catch(j),i.Af(n),i}S(n,t);var i=n.prototype;return i.Tf=function(){return this.bf.Ts},i.df=function(t){return this.Sf(xl,t)},i.vf=function(t){return this.Sf(Ol,t)},i._f=function(t){return this.Sf(Ll,t)},i.wf=function(){return this.Ef((t=this.kf).tr===yl.Va?t.wf:Al(t.Ts.then(Ml).then(kl),t.mf));var t},i.Sf=function(t,n){if(this.pf)return ge.reject(new d("Already used"));this.pf=!0;var i=t(this.kf,n);return this.bf.Is(i.then(j)),i},i.Ef=function(t){if(this.pf)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.pf=!0;var n=new ul,i=ge.resolve(t.pipeTo(n.writable));return this.bf.Is(i),n.readable},i.Af=function(t){this.kf=t,t.tr===yl.ff&&t.Ts.catch(j)},i.If=function(){if(this.pf)throw new d("Already used");var t=function(t){if(t.tr===yl.Va){var n=t.wf.tee(),i=n[0],e=n[1];return[{tr:t.tr,wf:i,gf:t.gf},{tr:t.tr,wf:e,gf:t.gf}]}var r=t.mf.xr(),s=r[0],u=r[1];return[{tr:t.tr,Ts:t.Ts,mf:s},{tr:t.tr,Ts:t.Ts,mf:u}]}(this.kf),i=t[0],e=t[1];return this.Af(i),new n(e)},A(n,[{key:"Rf",get:function(){return this.pf}}]),n}(Rl);function xl(t,n){return t.tr===yl.Va?bl(t.wf,n).then(Tl):(n&&t.mf.Cr(n),ws(t.Ts.then(Pl),t.mf))}function Pl(t){switch(t.tr){case _c.Pn:return ge.resolve(t.yf||"");case _c.Ha:return ge.resolve(t.yf).then(Tl);case _c.za:return ge.resolve(t.yf).then(JSON.stringify)}}function Ol(t,n){return t.tr===yl.Va?xl(t,n).then(JSON.parse):(n&&t.mf.Cr(n),ws(t.Ts.then(Bl),t.mf))}function Bl(t){return t.tr===_c.za?ge.resolve(t.yf):Pl(t).then(JSON.parse)}function Ll(t,n){return t.tr===yl.Va?bl(t.wf,n):(n&&t.mf.Cr(n),ws(t.Ts.then(Ml),t.mf))}function Ml(t){switch(t.tr){case _c.Ha:return ge.resolve(t.yf);case _c.Pn:case _c.za:return Pl(t).then(Sl)}}function Ul(t){return t instanceof ArrayBuffer?t:Qu(Wu(t)).buffer}function Fl(t){return t.Nf>=200&&t.Nf<=299||304===t.Nf}var Hl,zl,Vl,Wl,Xl=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.Df,s=i.Cf,u=i.Nf,o=i.xf,h=i.Pf):(r=[],s=_c.Pn,u=200,o="OK",h=!1);var a=n.Of,c=new wc(n.Df||r),f=n.Cf||s,v=n.Bf||(i&&i.Of===a?i.Bf:a.Lf),d=i?i.Mf:null,l=Nl(void 0!==n.ai?n.ai:d,n.mf||new as,c);return(e=t.call(this,l)||this).Df=void 0,e.Of=void 0,e.Bf=void 0,e.Cf=void 0,e.Nf=void 0,e.xf=void 0,e.Pf=void 0,e.Df=c,e.Of=a,e.Bf=v,e.Cf=f,e.Nf=void 0!==n.Nf?n.Nf:u,e.xf=void 0!==n.xf?String(n.xf):o,e.Pf=n.Pf||h,e}S(n,t);var i=n.prototype;return i.ai=function(t){return this.lf(this.Cf,t)},i.ys=function(){return new n({ai:this.If(),Of:this.Of},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Mf=void 0,i.Mf=n,i}S(n,t);var i=n.prototype;return i.Tf=function(){return this.Mf.Tf()},i.df=function(t){return this.Mf.df(t)},i.vf=function(t){return this.Mf.vf(t)},i._f=function(t){return this.Mf._f(t)},i.wf=function(){return this.Mf.wf()},i.If=function(){return this.Mf.If()},A(n,[{key:"Rf",get:function(){return this.Mf.Rf}}]),n}(Rl));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Hl||(Hl={})),function(t){t.Uf="",t.Ff="manifest",t.Hf="segment",t.zf="content-protection"}(zl||(zl={})),function(t){t.Uf="",t.Vf="initialization-segment",t.Wf="fairplay-license",t.Xf="fairplay-certificate",t.qf="widevine-license",t.Gf="widevine-certificate",t.Qf="playready-license",t.Yf="clearkey-license",t.jf="aes128-key"}(Vl||(Vl={})),function(t){t.Uf="",t.Zf="audio",t.Jf="video",t.Pn="text",t.$f="image"}(Wl||(Wl={}));var ql=function(t,n){this.yf=void 0,this.Df=void 0,this.Kf=void 0,this.Cf=void 0,this.tv=void 0,this.Pr=void 0,this.tr=void 0,this.nv=void 0,this.ev=void 0,this.Lf=void 0,this.rv=void 0,this.sv=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.Lf;n?(i=n.yf,e=n.Df,r=n.Kf,s=n.Cf,u=n.tv,o=n.Pr,h=n.tr,a=n.nv,c=n.ev,f=n.rv,v=n.sv):(i=null,e={},r=Hl.GET,s=_c.Pn,u=0,h=zl.Uf,a=Vl.Uf,c=Wl.Uf,f=!1),this.Lf=d,this.yf=t.yf||i,this.Df=new wc(t.Df||e),this.Kf=t.Kf||r,this.Cf=t.Cf||s,this.tv=void 0!==t.tv?Number(t.tv)||0:u,this.Pr=t.Pr||o||(new as).Pr,this.tr=t.tr||h,this.nv=t.nv||a,this.ev=t.ev||c,this.rv=void 0!==t.rv?Boolean(t.rv):f,this.sv=t.sv||v},Gl=function(){function t(){}var n=t.prototype;return n.Of=function(t){var n=function(t){return new Xl({ai:null,Df:{},Of:t,Bf:t.Lf,Cf:t.Cf,Nf:0,xf:lc.ma})}(new ql(t));return ge.resolve(n)},n.uv=function(t){},n.ov=function(){},t}();var Ql=function(){function t(t,n){void 0===n&&(n=!0),this.hv=void 0,this.av=void 0,this.hv=t,this.av=n}var n=t.prototype;return n.Of=function(t){var n=this.cv(t);return this.hv.Of(n)},n.uv=function(t){return this.hv.uv(this.fv(t))},n.cv=function(n){var i=new ql(n);if(!this.av){var e=t.vv(i.Lf);i=new ql({Lf:e},i)}return i},n.fv=function(n){var i=n.Lf;return this.av||(i=t.vv(i)),{Lf:i,yf:n.yf}},t.vv=function(t){return i.Me&&Dr(t,"http://")?t.replace(":","s:"):t},n.ov=function(){this.hv.ov()},A(t,null,[{key:"dv",get:function(){return t.lv||(t.lv=new t(new Gl)),t.lv}}]),t}();function Yl(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function jl(t,n){var e=i.Ce(t);return n&&!Cr(e,"/")&&(e+="/"),e}Ql.lv=void 0;var Zl,Jl=/cache:(.+)?(?=&|$)/,$l="http://webcache.googleusercontent.com/search?q=cache:";function Kl(t){if(!Dr(t,$l))return"";var n=i.De(t).search.match(Jl);return n&&n.length>1?n[1]:""}!function(t){t._v="HttpOpenError",t.wv="HttpResponseError",t.gv="HttpTimeoutError"}(Zl||(Zl={}));var t_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).yv=void 0,r.yv=n,r}return S(n,t),A(n,[{key:"Of",get:function(){return this.yv}}]),n}(Et);var n_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Lf+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return Zl._v}}]),n}(t_);var i_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Of,null!=e?e:function(t){return"Error while loading "+t.Of.Lf+", status code "+t.Nf}(n),i)||this).mv=void 0,r.mv=n,r}return S(n,t),A(n,[{key:"name",get:function(){return Zl.wv}},{key:"pv",get:function(){return this.mv}}]),n}(t_);var e_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Lf+" timed out after "+t.tv+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return Zl.gv}}]),n}(t_),r_=function(t,n){return(r_=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function s_(t,n){function i(){this.constructor=t}r_(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var u_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var o_=function(){var t=u_.Blob;if(t)try{return new t,function(t,n){return new u_.Blob(t,n)}}catch(t){}var n,i=u_.BlobBuilder||u_.WebKitBlobBuilder||u_.MozBlobBuilder||u_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),h_="function"==typeof Ud?Ud:void 0;function a_(t){return t&&"function"==typeof t.getReader}function c_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&a_(i)}catch(t){return!1}}var f_=function(){function t(t,n){this.$a=t,this.kv=n}return t.prototype.pull=function(t){var n=this;return this.$a.read().then(function(i){n.kv&&n.kv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.$a.cancel(t)},t}();function v_(t,n){return n.constructor===t?n:new t(new f_(n.getReader()),{highWaterMark:0})}var d_=function(){function t(t,n){this.bv=t,this.Av=n}return t.prototype.pull=function(t){return this.bv().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.Av&&this.Av(t)},t}();function l_(t,n,i){return new t(new d_(n,i),{highWaterMark:0})}var __={searchParams:"URLSearchParams"in u_,iterable:"Symbol"in u_&&"iterator"in Symbol,blob:"FileReader"in u_&&!!o_,formData:"FormData"in u_,arrayBuffer:"ArrayBuffer"in u_,stream:c_(h_),streamRequest:"Request"in u_&&"body"in u_.Request.prototype,streamResponse:"Response"in u_&&"body"in u_.Response.prototype,abort:"AbortController"in u_&&"Request"in u_&&"signal"in u_.Request.prototype,encoding:"TextEncoder"in u_&&"TextDecoder"in u_,url:"URL"in u_&&function(t){try{return new u_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in u_&&/Firefox\//.test(u_.navigator.userAgent)};function w_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function g_(t){return"string"!=typeof t&&(t=String(t)),t}function y_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return __.iterable&&(n[Symbol.iterator]=function(){return n}),n}var m_=function(){function t(t){var n=this;this.Ye={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return __.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=w_(t),n=g_(n);var i=t.toLowerCase();if(this.Ye.hasOwnProperty(i)){var e=this.Ye[i],r=e[1];e[1]=r?r+", "+n:n}else this.Ye[i]=[t,n]},t.prototype.delete=function(t){var n=w_(t).toLowerCase();delete this.Ye[n]},t.prototype.get=function(t){var n=w_(t).toLowerCase();return this.Ye.hasOwnProperty(n)?this.Ye[n][1]:null},t.prototype.has=function(t){var n=w_(t).toLowerCase();return this.Ye.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=w_(t)).toLowerCase();this.Ye[i]=[t,g_(n)]},t.prototype.forEach=function(t,n){for(var i in this.Ye)this.Ye.hasOwnProperty(i)&&t.call(n,this.Ye[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),y_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),y_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),y_(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ye)if(this.Ye.hasOwnProperty(n)){var i=this.Ye[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function p_(){}__.iterable&&(m_.prototype[Symbol.iterator]=m_.prototype.entries);var k_,b_,A_,T_=_.min,S_=String.fromCharCode,E_=16384;function I_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=E_){var r=T_(e+E_,n);i.push(S_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function R_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function N_(t,n){return t>>n&63|128}function D_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(R_(t),n.push(t>>12&15|224),n.push(N_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(N_(t,12)),n.push(N_(t,6))),n.push(63&t|128)):n.push(t)}function C_(){if(A_>=b_)throw new v("Invalid byte index");var t=255&k_[A_];if(A_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function x_(){var t,n;if(A_>b_)throw new v("Invalid byte index");if(A_===b_)return!1;if(t=255&k_[A_],A_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|C_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|C_()<<6|C_())>=2048)return R_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|C_()<<12|C_()<<6|C_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var P_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function O_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function B_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function L_(t){return t&&DataView.prototype.isPrototypeOf(t)}var M_,U_=ArrayBuffer.isView||function(t){return t&&(P_.indexOf(l.prototype.toString.call(t))>-1||L_(t))};function F_(t){if(t.bodyUsed)return ge.reject(new d("Already used"));t.bodyUsed=!0}function H_(t){return new ge(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function z_(t){return __.encoding?new u_.TextDecoder("utf-8").decode(new m(t)):I_(function(t){b_=(k_=t).length,A_=0;for(var n,i=[];!1!==(n=x_());)i.push(n);return i}(new m(t)))}function V_(t){return __.encoding?(new u_.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,e=t;i<e.length;i++)D_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function W_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?ge.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function X_(t){return W_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function q_(t){return t.slice?t.slice(0):G_(new m(t))}function G_(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Q_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Y_(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.Tv===M_.Sv){if(!n.Ev.tee)throw new v("could not clone ReadableStream body");var i=n.Ev.tee(),e=i[0],r=i[1];return n.body=e,n.Ev=e,n.Iv=e,r}return n.Tv===M_.Ha?q_(n.Ev):n.Tv===M_.ff?n.Ev.then(Y_):n.Iv}!function(t){t[t.Pn=0]="Pn",t[t.Rv=1]="Rv",t[t.Nv=2]="Nv",t[t.Ha=3]="Ha",t[t.Sv=4]="Sv",t[t.ff=5]="ff"}(M_||(M_={}));var j_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Iv=n||null,n)if("string"==typeof n)this.Tv=M_.Pn,this.Ev=n;else if((s=n)&&"function"==typeof s.then)this.Tv=M_.ff,this.Ev=ge.resolve(n).then(function(n){return new t(n,i)}),this.Ev.catch(p_);else if(__.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Tv=M_.Rv,this.Ev=n;else if(__.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Tv=M_.Nv,this.Ev=n;else if(__.searchParams&&O_(n))this.Tv=M_.Pn,this.Ev=n.toString();else if(__.arrayBuffer&&(B_(n)||U_(n)))L_(n)&&(this.Iv=new m((r=n).buffer,r.byteOffset,r.byteLength)),this.Tv=M_.Ha,this.Ev=B_(e=n)?q_(e):G_(e);else{if(!__.stream||!a_(n))throw new v("unsupported BodyInit type");n=v_(h_,n),this.Tv=M_.Sv,this.Ev=n,this.Iv=n}else this.Tv=M_.Pn,this.Ev="";this.Dv="",i.has("content-type")?this.Dv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Dv="text/plain;charset=UTF-8":u.Tv===M_.Rv&&u.Ev.type?this.Dv=u.Ev.type:__.searchParams&&O_(n)&&(this.Dv="application/x-www-form-urlencoded;charset=UTF-8"),this.Dv&&i.set("content-type",this.Dv)),__.stream&&(null==n?this.body=null:u.Tv===M_.Sv?this.body=u.Ev:this.body=l_(h_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=F_(this);return e||(this.Tv===M_.Rv?(t=this.Ev,n=new FileReader,i=H_(n),n.readAsText(t),i):this.Tv===M_.Ha?ge.resolve(this.Ev).then(z_):this.Tv===M_.Sv?X_(this.Ev).then(z_):this.Tv===M_.ff?this.Ev.then(function(t){return t.text()}):this.Tv===M_.Nv?ge.reject(new v("could not read FormData body as text")):ge.resolve(this.Ev))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();__.blob&&(j_.prototype.blob=function(){var t,n,i=F_(this);return i||(this.Tv===M_.Rv?ge.resolve(this.Ev):this.Tv===M_.Ha?ge.resolve(o_([this.Ev],{type:this.Dv})):this.Tv===M_.Sv?(t=this.Ev,n=this.Dv,W_(t).then(function(t){return o_(t,{type:n||""})})):this.Tv===M_.ff?this.Ev.then(function(t){return t.blob()}):this.Tv===M_.Nv?ge.reject(new v("could not read FormData body as Blob")):ge.resolve(o_([this.Ev],{type:this.Dv})))}),__.arrayBuffer&&(j_.prototype.arrayBuffer=function(){var t,n,i;return this.Tv===M_.Ha?F_(this)||ge.resolve(this.Ev):this.Tv===M_.Rv?F_(this)||(t=this.Ev,n=new FileReader,i=H_(n),n.readAsArrayBuffer(t),i):this.Tv===M_.Sv?X_(this.Ev):this.Tv===M_.ff?F_(this)||this.Ev.then(function(t){return t.arrayBuffer()}):this.Tv===M_.Nv?ge.reject(new v("could not read FormData body as ArrayBuffer")):ge.resolve(this.Ev).then(V_)}),__.formData&&(j_.prototype.formData=function(){return this.Tv===M_.Nv?F_(this)||ge.resolve(this.Ev):this.text().then(Q_)});var Z_=[301,302,303,307,308],J_=function(t){function n(n,i){var e=this,r=new m_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return s_(n,t),n.prototype.clone=function(){return new n(Y_(this),{status:this.status,statusText:this.statusText,headers:new m_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Z_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(j_);var $_,K_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});($_=K_)&&$_.__esModule&&l.prototype.hasOwnProperty.call($_,"default")&&$_.default;K_.AbortSignal;var tw=K_.AbortController,nw=u_.DOMException;try{new nw}catch(t){(nw=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),nw.prototype.constructor=nw}var iw=tw;function ew(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function rw(t,n,i){return new ge(function(e,r){if(n.signal.aborted)return t.catch(p_),r(sw());var s=function(){n.signal.removeEventListener("abort",s),r(sw())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function sw(){return new nw("Aborted","AbortError")}var uw,ow="moz-chunked-arraybuffer";function hw(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(uw||(uw={}));var aw=function(){function t(t,n){var i=this;this.Cv=!1,this.yv=t,this.xv=n,this.Pv=new k,this.Ov=new ge(function(t,n){i.Bv=t,i.Lv=n})}return t.prototype.send=function(){var t=this;return this.Mv().then(function(n){return t.Uv(n,t.xv),t.Ov})},t.prototype.Mv=function(){var t=this.yv;return t.Tv===M_.Sv?t.arrayBuffer():ge.resolve(t.Iv)},t.prototype.Fv=function(t){this.yv.onprogress&&this.yv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Hv=function(t){this.Lv(t)},t.prototype.zv=function(){this.Hv(new d("Network request failed"))},t.prototype.Vv=function(){this.Hv(new d("Network request failed"))},t.prototype.Wv=function(){this.Hv(sw())},t.prototype.Uv=function(t,n){var i=this,e=this.yv,r=this.Pv,s=function(){return i.Xv()};if(e.signal.aborted)return this.Wv();r.onreadystatechange=function(){if(r.readyState>=uw.HEADERS_RECEIVED&&!i.Cv){var t=function(t){var n=new m_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Cv=!0,i.qv(n)}},r.onprogress=function(t){return i.Fv(t)},r.onload=function(){return i.Gv()},r.onerror=function(){return i.zv()},r.ontimeout=function(){return i.Vv()},r.onabort=function(){return i.Wv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Xv=function(){this.Wv(),this.Pv.abort()},t}(),cw=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Qv=void 0,e.Yv=void 0,e}return s_(n,t),n.prototype.qv=function(t){var n=this;this.Qv=new ge(function(t,i){n.Yv=t,n.jv=i}),this.Bv(new J_(this.Qv,t))},n.prototype.Gv=function(){var t=this.Pv.response;if(null==t){var n=this.xv;""===n||"text"===n?t=this.Pv.responseText:"document"===n?t=this.Pv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=o_([]))}this.Yv(t)},n.prototype.Hv=function(n){t.prototype.Hv.call(this,n),this.jv&&this.jv(n)},n}(aw),fw=function(t){function n(n){var i=t.call(this,n,ow)||this;return i.Zv=void 0,i.Jv=void 0,i.$v=!1,i}return s_(n,t),n.prototype.qv=function(t){var n=this;this.Zv=new h_({start:function(t){n.Jv=t},cancel:function(){n.$v=!0,n.Xv()}}),this.Bv(new J_(this.Zv,t))},n.prototype.Fv=function(n){this.$v||this.Jv.enqueue(new m(this.Pv.response)),t.prototype.Fv.call(this,n)},n.prototype.Gv=function(){this.Jv.close()},n.prototype.Hv=function(n){t.prototype.Hv.call(this,n),this.Jv&&!this.$v&&(this.$v=!0,this.Jv.error(n))},n}(aw),vw=function(){var t=__.firefox&&hw(ow);return vw=function(){return t},t},dw=function(){var t;return t=__.arrayBuffer&&hw("arraybuffer")?"arraybuffer":__.blob&&hw("blob")?"blob":"",dw=function(){return t},t};function lw(t){return(__.stream&&vw()?new fw(t):new cw(t,dw())).send()}var _w=u_.fetch,ww=u_.Request,gw=(u_.Response,u_.AbortController);var yw=["http:","https:"];var mw=function(){try{if(__.streamRequest){var t=new ww("about:blank",{body:"",method:"POST"}).body;if(t&&c_(t.constructor))return t.constructor}}catch(t){}}();function pw(t,n,i){var e;if(__.stream){var r=void 0;if(__.streamResponse){var s=t.body;r=s&&v_(h_,s)}else r=l_(h_,function(){return rw(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new f_(n.getReader(),i),{highWaterMark:0})}(h_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,kw(t.headers))),e=r}else{var u=rw(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return ge.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,kw(t.headers))),e=u}return new J_(e,t)}function kw(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function bw(t){var n=new iw;return t.signal&&ew(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Tv===M_.Sv?__.streamRequest&&mw?ge.resolve(v_(mw,r.Ev)):rw(t.arrayBuffer(),n,!1):rw(ge.resolve(t.Iv),n,!1),__.abort){var s=new gw;ew(s,n.signal),e=s.signal}return i.then(function(n){return new ww(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof m_?i:new m_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return _w(i).then(function(i){return pw(i,n,t.onprogress)})})}var Aw=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Tw=function(t){function n(i,e){var r,s,u,o,h,a,c,f,v,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new m_(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.Iv||(_=i.Iv,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new m_(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return Aw.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new iw).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return s_(n,t),n.prototype.clone=function(){return new n(this,{body:Y_(this)})},n}(j_),Sw="function"==typeof _w&&__.stream&&__.streamResponse&&__.url;function Ew(t,n){return new ge(function(i){var e=new Tw(t,n);i((Sw&&function(t){try{return yw.indexOf(new u_.URL(t,u_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?bw:lw)(e))})}Ew.polyfill=!0;var Iw=function(){function t(t){this.pv=void 0,this.yv=void 0,this.Uc=new as,this.mv=void 0,this.Kv=!1,this.yv=t,this.Uc.Cr(t.Pr),this.pv=this.td()}var n=t.prototype;return n.td=function(){var t,n,e,r,s,u,o,a,c=this;return tr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.yv).tv&&h(function(){c.Kv=!0,c.Uc.Dr()},t.tv),f.prev=2,n=Ew(t.Lf,{method:t.Kf,headers:t.Df.Wa(),body:t.yf,credentials:t.rv?"include":"same-origin",signal:Dw(this.Uc.Pr),onprogress:t.sv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new n_(t,f.t0);case 9:return f.prev=9,f.next=12,tr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),fs(r=this.nd(f.t1))&&this.Uc.Dr(),r;case 20:if(s=e.url||t.Lf,u=0===e.status&&"file:"===(v=s,i.De(v).protocol)?200:e.status,o=new Rw(this,e,this.Uc),a=new Xl({ai:o,Of:t,Cf:t.Cf,Df:new wc(e.headers.asList()),Nf:u,xf:e.statusText,Bf:s}),this.mv=a,!Fl(a)){f.next=29;break}return f.abrupt("return",a);case 29:throw new i_(a);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],ge)},n.nd=function(t){return fs(t)?this.Kv?new e_(this.yv):new cs(t.message,t):this.mv?new i_(this.mv,t):new n_(this.yv,t)},t}(),Rw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ed=void 0,r.rd=void 0,r.Uc=void 0,r.bf=new Zu,r.ed=n,r.rd=i,r.Uc=e,r.bf.Ts.catch(j),r}S(n,t);var i=n.prototype;return i.Tf=function(){return this.bf.Ts},i.df=function(t){return this.Sf(this.rd.text(),t)},i._f=function(t){return this.Sf(this.rd.arrayBuffer(),t)},i.wf=function(){var t=this.rd.body;return t?this.Ef(t):Al(this._f().then(kl),this.Uc)},i.If=function(){var t=this.rd.clone(),i=this.Uc.xr(),e=i[0],r=i[1];return this.Uc=e,new n(this.ed,t,r)},i.Sf=function(t,n){var i=this;n&&this.Uc.Cr(n);var e=ge.resolve(t).catch(function(t){throw i.ed.nd(t)});return e=ws(e,this.Uc),this.bf.Is(e.then(j)),e},i.Ef=function(t){var n=this,i=new ul,e=ge.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.ed.nd(t);throw i.writable.abort(e).catch(j),e});return e=ws(e,this.Uc),this.bf.Is(e.then(j)),i.readable},A(n,[{key:"Rf",get:function(){return this.rd.bodyUsed}}]),n}(Rl),Nw="abort";function Dw(t){var n=new iw;if(t.yr)n.abort();else if(!t.mr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Nw,i),t.Er(i),t.Rr(e)};n.signal.addEventListener(Nw,i),t.Sr(i),t.Ir(e)}return n.signal}function Cw(t,n,i){return new ge(function(e,r){if(i&&i.yr)return r(new cs);var s=function(t){o(),e(t)},u=function(){o(),r(new cs)},o=function(){t.removeEventListener(n,s),i&&i.Er(u)};t.addEventListener(n,s),i&&i.Sr(u)})}var xw,Pw,Ow=function(){function t(){}var n=t.prototype;return n.Of=function(t){return new Iw(t).pv},n.uv=function(t){if(Vi&&Vi.sendBeacon)Vi.sendBeacon(t.Lf,vc([t.yf],{type:t.gf}));else{var n=t.gf?{"Content-type":t.gf}:void 0;ps(this.Of(new ql({Kf:Hl.POST,Lf:t.Lf,yf:t.yf,Df:n})))}},n.ov=function(){},t}();xw=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).sd=void 0,i.ud=function(){if(L.Yt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.od=L.mn,i.hd=void 0,i}return S(i,n),A(i,[{key:"Ae",get:function(){return this.sd||(this.sd=new Wr(hc())),this.sd}},{key:"fd",get:function(){return this.ud}},{key:"vd",get:function(){return this.od}},{key:"dd",get:function(){return!1}},{key:"ld",get:function(){return cc.ia()}},{key:"_d",get:function(){return{wd:dc}}},{key:"gd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"yd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"md",get:function(){return this.hd||(this.hd=new Ql(new Ow)),this.hd}}]),i}($e)),i=xw,function(t){t.pd="kd",t.bd="Ad"}(Pw||(Pw={}));Pw.pd,Pw.bd;var Bw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Td=void 0,e}return S(n,t),A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}}]),n}(Rs);function Lw(t){return Boolean(t&&t.Sd)}var Mw,Uw=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Bw),Fw=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Rs),Hw=function(t){function n(n){var i;return(i=t.call(this,Pw.pd)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new zw(this.Id.Sd)},n}(Uw),zw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(Fw),Vw=function(t){function n(n){var i;return(i=t.call(this,Pw.bd)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new Ww(this.Id.Sd)},n}(Uw),Ww=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(Fw);!function(t){t.Rd="Nd",t.Dd="Cd",t.xd="Pd",t.Od="Bd",t.Ld="Md",t.Ud="Fd",t.Hd="zd",t.Vd="Wd",t.Xd="jo",t.qd="Gd",t.Qd="Yd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Mw||(Mw={}));var Xw=function(t){function n(){var n;return(n=t.call(this)||this).jd=[],n.Td=void 0,n}S(n,t);var i=n.prototype;return i.Zd=function(t){return this.jd[t]},i.Jd=function(t){return!(!t||is(this.jd,t))&&(this.jd.push(t),this.Td&&this.Td.push(t.Sd),t.Fr(Mw.Ud,this.Mr),this.Ur(new Hw(t)),!0)},i.$d=function(t){if(!t)return!1;var n=this.jd.indexOf(t);return!(n<0)&&(ns(this.jd,n),this.Td&&ns(this.Td,n),t.Wr(Mw.Ud,this.Mr),this.Ur(new Vw(t)),!0)},i.Kd=function(t){return is(this.jd,t)},i.tl=function(){for(var t=this.jd,n=t.length-1;n>=0;n-=1)this.$d(t[n])},i.ov=function(){this.tl(),this.Vr()},A(n,[{key:"nl",get:function(){return this.jd}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"il",get:function(){return this.jd.length}}]),n}(Es),qw=function(t){function n(n){var i;return(i=t.call(this,Mw.Ud)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new Gw(this.Id.Sd)},n}(Uw),Gw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(Fw),Qw=function(t){function n(){var n;return(n=t.call(this)||this).sl=void 0,n.ul=function(t){var i=t.Id;n.Jd(i)},n.ol=function(t){var i=t.Id;n.$d(i)},n}S(n,t);var i=n.prototype;return i.hl=function(t){t.Fr(Pw.pd,this.ul),t.Fr(Pw.bd,this.ol)},i.al=function(t){t.Wr(Pw.pd,this.ul),t.Wr(Pw.bd,this.ol)},i.ov=function(){this.sl&&this.sl.ov(),t.prototype.ov.call(this)},A(n,[{key:"cl",get:function(){return this.sl},set:function(t){var n=this.sl;if(t!==n){if(n){this.al(n);for(var i=0,e=n.nl;i<e.length;i++){var r=e[i];t&&t.Kd(r)||this.$d(r)}}if(this.sl=t,t){for(var s=[],u=0,o=t.nl;u<o.length;u++){var h=o[u];this.Jd(h),this.fl(h)&&s.push(h)}this.hl(t);for(var a=0;a<s.length;a++){var c=s[a];c.Ur(new qw(c))}}}}}]),n}(Xw),Yw=l.freeze||Z;function jw(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Zw(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function Jw(t){if(W(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=Jw(t[i]));return n}if(H(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Jw(t[r]));return e}return t}function $w(t,n){return t===n||!(!t||!n)&&(!(!V(t)||!V(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!$w(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!$w(t[s],n[s]))return!1}return!0}(t,n)))}function Kw(t,n){return t.constructor===n.constructor}function tg(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function ng(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function ig(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function eg(t){var n=ig(t);if(y(n))throw new v("Expected a valid number.");return n}function rg(t){return"string"==typeof t?t:""}function sg(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function ug(t,n){return z(t)?sg(t,n):n(t)}var og=[Pw.pd,Pw.bd,Mw.Ud];function hg(t){var n,i=t.nl.map(function(t){return t.Sd});return i.item=function(n){var i=0|n,e=t.Zd(i);return e&&e.Sd||void 0},i.addEventListener=function(t,i){n.Fr(t,i)},i.removeEventListener=function(t,i){n.Wr(t,i)},n=new Is(i),t.Fr(og,function(t){return n.Ur(t.Sd)}),i}function ag(){}function cg(t){var n,i=[Mw.Xd,Mw.Ud,Mw.qd,Mw.Qd,Mw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.vl&&t.vl.Sd},get enabled(){return t.dl},set enabled(n){t.dl=ng(n)},get id(){return t.ll},get uid(){return t._l},get kind(){return t.wl},get label(){return t.gl},set label(n){t.gl=rg(n)},get language(){return t.yl},get qualities(){return t.ml.Sd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.ml.nl;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Sd===o&&i.push(s)}return i}(t,H(n)?n:[n]):[]).length>0?t.pl=i:t.pl=void 0},get targetQuality(){if(t.pl)return 1===t.pl.length?t.pl[0].Sd:t.pl.map(function(t){return t.Sd})},addEventListener:function(t,i){var e=ug(t,rg);n.Fr(e,i)},removeEventListener:function(t,i){var e=ug(t,rg);n.Wr(e,i)}};return n=new Is(e),t.Fr(i,function(t){return n.Ur(t.Sd)}),l.defineProperty(e,"constructor",{value:ag}),e}function fg(){}function vg(t){var n=hg(t);return l.defineProperty(n,"constructor",{value:fg}),n}var dg,lg,_g=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Ed=function(){return vg(this)},i.fl=function(t){return t.dl},n}(Qw);function wg(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case dg.kl:case dg.bl:case dg.Al:return n}}else if("number"==typeof t)switch(t){case 0:return dg.kl;case 1:return dg.bl;case 2:return dg.Al}return dg.kl}function gg(){}function yg(t){var n,i=[Mw.Ud,Mw.Xd,Mw.Rd,Mw.Dd,Mw.xd,Mw.Od,Mw.Ld,Mw.Hd,Mw.Vd],e=[lg.Tl],r={get kind(){return t.wl},get label(){return t.gl},set label(n){t.gl=rg(n)},get language(){return t.yl},get id(){return t.ll},get uid(){return t._l},get inBandMetadataTrackDispatchType(){return t.Sl},get mode(){return t.El},set mode(n){n!==dg.Al&&n!==dg.bl&&n!==dg.kl||t.Il(n)},get forced(){return Boolean(t.Rl)},get type(){return t.tr},get readyState(){return kg(t.Nl)},get cues(){return t.El===dg.kl?null:t.Dl.Sd},get activeCues(){return t.El===dg.kl?null:t.Cl.Sd},get src(){return t.xl||""},addEventListener:function(t,i){var e=ug(t,rg);n.Fr(e,i)},removeEventListener:function(t,i){var e=ug(t,rg);n.Wr(e,i)}};return n=new Is(t),t.Fr(i,function(t){return n.Ur(t.Sd)}),t.Fr(e,function(t){return n.Ur(t)}),l.defineProperty(r,"constructor",{value:gg}),r}function mg(){}function pg(t){var n=hg(t);return l.defineProperty(n,"constructor",{value:mg}),n}function kg(t){return t}!function(t){t.kl="disabled",t.bl="hidden",t.Al="showing"}(dg||(dg={})),function(t){t.Tl="error"}(lg||(lg={}));var bg=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Ed=function(){return pg(this)},i.fl=function(t){return t.El===dg.Al},n}(Qw),Ag=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.zr=function(n){t.prototype.zr.call(this,n)},i.Gr=function(n){t.prototype.Gr.call(this,n)},n}(Es),Tg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Ag),Sg=function(t){function n(){return t.call(this,lc.la)||this}return S(n,t),n}(Rs),Eg=function(t){function n(n){var i;return(i=t.call(this,lc.aa)||this).currentSource=n,i}return S(n,t),n}(Rs),Ig=function(){function t(){}return t.Pl=function(n,i){var e=t.Ol(n,i);return e?t.Bl(e):0},t.Ll=function(){return i.gd||"default"},t.Ml=function(){return i.yd||"unknown"},t.Ol=function(n,e){var r,s=null==(r=i.ld)?void 0:r.as(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Ul(u,n,e)},t.Bl=function(t){var n=t.availableBandwidth;return n||0},t.Ul=function(n,i,e){if(!t.Fl(n,i))return n[i];t.Hl(n,i,e)},t.Hl=function(t,n,e){var r;delete t[n],null==(r=i.ld)||r.na(e,JSON.stringify(t))},t.Fl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.zl=function(t,n,i,e){var r;return nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Vl=function(n){var i=t.Ll();t.Wl(i,"theoplayer-stored-network-info",n,gt())},t.Wl=function(n,e,r,s){var u,o,h=null==(u=i.ld)?void 0:u.as(e),a=h?JSON.parse(h):void 0,c=t.zl(a,n,r,s);null==(o=i.ld)||o.na(e,JSON.stringify(c))},t.Xl=function(){var n=t.Ll();return t.Pl(n,"theoplayer-stored-network-info")},t}();var Rg,Ng,Dg,Cg,xg,Pg,Og="1ADD53F3";function Bg(t){return{chromecast:function(t){return{appID:t&&t.appID?rg(t.appID):Og}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Rg.AUTO;case"manual":return Rg.MANUAL;case"disabled":return Rg.DISABLED;default:return Rg.MANUAL}}(t?t.strategy:void 0)}}function Lg(t){var n,i=Dg.ql;return(n=t)&&Nr(n,"mpd")&&(i=Dg.Gl),function(t){return!!t&&Nr(t,"m3u8")}(t)&&(i=Dg.Ql),i}function Mg(t){return!!t&&Dr(t.toLowerCase(),Dg.Gl)}function Ug(t){if(!t)return!1;var n=t.toLowerCase();return Dr(n,Dg.Ql)||Dr(n,Dg.Yl)}function Fg(t){return V(t)&&V(t.ssai)&&"google-dai"===t.ssai.integration}function Hg(t){return V(t)&&X(t.integration)&&"verizon-media"===t.integration}function zg(t){if(X(t))return!t;if(Hg(t))return!t.id;if(Fg(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Vg(t){return Boolean(V(t)&&X(t.src))}function Wg(t){return X(t)||Vg(t)||Fg(t)||Hg(t)}function Xg(t){if(t){if(Wg(t))return zg(t);for(var n=0;n<t.length;n++){if(!zg(t[n]))return!1}return!0}return!0}function qg(){return{crossOrigin:Ng.jl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Gg(){return nr({},qg(),{src:void 0,type:Dg.ql,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Qg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Cg.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return xg.NONE;case"midroll-and-postroll":default:return xg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=ng(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Cg.INSECURE;case"disabled":return Cg.DISABLED;case"enabled":default:return Cg.ENABLED}}(t.vpaidMode)),H(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:ng(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Yg(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function jg(t){return X(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Rg||(Rg={})),function(t){t.jl="",t.Zl="anonymous",t.Jl="use-credentials"}(Ng||(Ng={})),function(t){t.Gl="application/dash+xml",t.Ql="application/vnd.apple.mpegurl",t.Yl="application/x-mpegurl",t.ql="video/mp4",t.$l="application/vnd.theoplayer.hesp+json",t.Kl="application/vnd.theo.hesp+json"}(Dg||(Dg={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Cg||(Cg={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(xg||(xg={})),function(t){t[t.t_=0]="t_",t[t.n_=1]="n_",t[t.i_=2]="i_",t[t.e_=3]="e_",t[t.r_=4]="r_"}(Pg||(Pg={}));var Zg,Jg=function(t){function n(n,i){var e;return void 0===i&&(i=Pg.t_),(e=t.call(this,lc.va)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),$g=function(t){function n(n){var i;return(i=t.call(this,lc.ka)||this).currentTime=n,i}return S(n,t),n}(Rs),Kg=function(t){function n(n){var i;return(i=t.call(this,lc.ba)||this).currentTime=n,i}return S(n,t),n}(Rs);!function(t){t.s_="canplay",t.u_="canplaythrough",t.o_="loadeddata",t.h_="loadedmetadata",t.Hd="readystatechange",t.a_="waiting",t.c_="playing"}(Zg||(Zg={}));var ty,ny,iy=[Zg.s_,Zg.u_,Zg.o_,Zg.h_,Zg.Hd,Zg.a_,Zg.c_],ey=function(t){function n(n,i){var e;return void 0===i&&(i=Pg.n_),(e=t.call(this,Zg.h_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),ry=function(t){function n(n){var i;return(i=t.call(this,lc.fa)||this).duration=n,i}return S(n,t),n}(Rs),sy=function(t){function n(n,i){var e;return(e=t.call(this,lc.Ta)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(Rs),uy=function(t){function n(n,i){var e;return(e=t.call(this,lc.Ba)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(Rs),oy=function(t){function n(n){var i;return(i=t.call(this,lc.da)||this).currentTime=n,i}return S(n,t),n}(Rs),hy=function(t){function n(n,i){var e;return void 0===i&&(i=Pg.i_),(e=t.call(this,Zg.o_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),ay=function(t){function n(n){var i;return(i=t.call(this,lc.Ra)||this).currentTime=n,i}return S(n,t),n}(Rs),cy=function(t){function n(n){var i;return(i=t.call(this,lc.Ia)||this).currentTime=n,i}return S(n,t),n}(Rs),fy=function(t){function n(n,i){var e;return(e=t.call(this,lc.La)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(Rs),vy=function(t){function n(n,i){var e;return void 0===i&&(i=Pg.e_),(e=t.call(this,Zg.s_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),dy=function(t){function n(n,i){var e;return void 0===i&&(i=Pg.r_),(e=t.call(this,Zg.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),ly=function(t){function n(n,i){var e;return(e=t.call(this,Zg.Hd)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Rs),_y=function(t){function n(n){var i;return(i=t.call(this,lg.Tl)||this).errorObject=n,i}return S(n,t),n.prototype.Ed=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Bw);function wy(t){switch(t){case ty.ALL:case ty.CONTENT:return t;default:return ty.NONE}}function gy(t){var n,e,r,s=Jw(t||{});return s.libraryLocation&&(s.libraryLocation=jl(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Bg(s.cast),s.ads=Qg(s.ads),s.analytics=Yg(s.analytics),s.mutedAutoplay=wy(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=X(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return jl(t)}catch(t){return void i.we("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function yy(t){return{f_:t.f_,v_:t.v_,d_:t.d_,Kr:t.Kr,l_:t.l_,__:t.__,w_:t.w_,g_:t.g_,Nl:t.Nl,y_:t.y_,m_:t.m_,p_:t.p_,k_:t.k_}}function my(t,n,i){if(n!==i){var e=n.f_,r=n.v_,s=n.__,u=n.w_,o=n.g_,h=n.Nl,a=n.y_,c=(n.p_,n.m_,n.k_),f=i.f_,v=i.v_,d=i.d_,l=i.l_,_=i.__,w=i.w_,g=i.g_,m=i.Nl,p=i.y_,k=(i.p_,i.m_,i.k_);h!==Pg.t_&&t.Ur(new Jg(f,m)),w&&!u?t.Ur(new $g(f)):!w&&u&&t.Ur(new Kg(f)),m>=Pg.n_&&t.Ur(new ey(f,m)),v===r||y(v)&&y(r)||t.Ur(new ry(v)),g!==o&&t.Ur(new sy(f,g)),f!==e&&t.Ur(new uy(f,void 0)),d&&t.Ur(new oy(f)),m>=Pg.i_&&t.Ur(new hy(f,m)),p&&!a?t.Ur(new ay(f)):!p&&a&&t.Ur(new cy(f)),k===c&&_===s||t.Ur(new fy(f,k)),m>=Pg.e_&&t.Ur(new vy(f,m)),m>=Pg.r_&&t.Ur(new dy(f,m)),m!==h&&t.Ur(new ly(f,m)),l&&t.Ur(new _y(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ty||(ty={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(ny||(ny={}));var py,ky=400,by=.25,Ay={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},Ty={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},Sy={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},Ey={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function Iy(){var t;return t=i.Pe.te?Sy:i.Pe.ee?"Android"===i.Oe.Be?Ty:Ay:Ey,i.Oe.Le?function(t){if(i.Oe.Le){var n=(ky+250)/1e3,e=_.max(n,t.windowStart),r=_.max(e+by,t.target),s=_.max(r+by,t.windowEnd);return{windowStart:e,target:r,windowEnd:s,maxOffset:_.max(s+by,t.maxOffset)}}return t}(t):t}function Ry(t){return{goLive:function(){return t.b_()},get isLive(){return t.A_},get currentServerLiveTime(){return t.T_},get currentLatency(){return t.S_},get latency(){return t.E_},set latency(n){if(!function(t){if(!V(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.E_=n},get manifest(){return t.I_},get metrics(){return t.R_},addEventListener:function(n,i){t.Fr(Dy(n),i)},removeEventListener:function(n,i){t.Wr(Dy(n),i)}}}!function(t){t[t.kl=0]="kl",t[t.N_=1]="N_",t[t.D_=2]="D_"}(py||(py={}));var Ny=["analytic","golive","nogolive","bufferedchange"];function Dy(t){var n=ug(t,rg);return(X(n)?[n]:n).filter(function(t){return is(Ny,t)})}var Cy,xy=function(t){function n(){var n;return(n=t.call(this)||this).sl=void 0,n.Td=void 0,n.C_=Iy(),n.sl=void 0,n}S(n,t);var i=n.prototype;return i.hl=function(t){t.Fr(Ny,this.Mr)},i.al=function(t){t.Wr(Ny,this.Mr)},i.b_=function(){var t;null==(t=this.sl)||t.b_()},i.ov=function(){this.Vr(),this.sl&&this.al(this.sl),this.sl=void 0},A(n,[{key:"cl",get:function(){return this.sl},set:function(t){var n=this.sl;t!==n&&(n&&this.al(n),t&&this.hl(t),this.sl=t,this.sl&&(this.sl.E_=this.C_))}},{key:"Sd",get:function(){return this.Td||(this.Td=Ry(this)),this.Td}},{key:"T_",get:function(){var t;return null==(t=this.sl)?void 0:t.T_}},{key:"S_",get:function(){var t;return null==(t=this.sl)?void 0:t.S_}},{key:"A_",get:function(){return!!this.sl&&this.sl.A_}},{key:"E_",get:function(){return this.C_},set:function(t){this.sl&&(this.sl.E_=t),this.C_=t}},{key:"I_",get:function(){var t;return null==(t=this.sl)?void 0:t.I_}},{key:"R_",get:function(){var t;return null==(t=this.sl)?void 0:t.R_}}]),n}(Es),Py=function(t){function n(n){var i;return(i=t.call(this)||this).sl=void 0,i.x_=[],i.P_=!1,i.O_=new _g,i.B_=new _g,i.L_=new bg,i.M_=new xy,i.U_=!1,i.F_(n),n.zr(i.Mr),i.sl=n,i.O_.cl=n.H_,i.B_.cl=n.z_,i.L_.cl=n.V_,i.M_.cl=n.W_,i}S(n,t);var i=n.prototype;return i.X_=function(){this.sl.X_()},i.q_=function(){this.sl.q_()},i.G_=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ks(this.x_.map(function(t){return t.G_()})).then(j));case 1:case"end":return t.stop()}},null,this,null,ge)},i.Q_=function(){return this.sl.Q_()},i.Y_=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return vs(n),i.next=3,tr.awrap(this.sl.Y_(t,n));case 3:case"end":return i.stop()}},null,this,null,ge)},i.j_=function(){return this.cl.j_()},i.Z_=function(){this.cl.Z_()},i.J_=function(){this.cl.J_()},i.K_=function(){if(!this.P_){for(var t=0,n=this.x_;t<n.length;t++){n[t].K_()}this.P_=!0}},i.tw=function(t){this.sl.tw(t)},i.nw=function(){this.sl.nw()},i.iw=function(){this.sl.iw()},i.ew=function(){this.sl.ew()},i.rw=function(){return this.sl.rw()},i.sw=function(){return this.sl.sw()},i.uw=function(){for(var t=[],n=0,i=this.x_;n<i.length;n++){var e=i[n];t.push.apply(t,e.uw())}return t},i.ow=function(t){for(var n=!1,i=0,e=this.x_;i<e.length;i++){n=e[i].ow(t)||n}return n},i.Ur=function(n){this.ow(n)||t.prototype.Ur.call(this,n)},i.F_=function(t){this.x_.push(t)},i.hw=function(t){ts(this.x_,t)},i.aw=function(t){if(t!==this.sl){var n=this.sl;n.nw(),n.Gr(this.Mr);var i=yy(this),e=this.cw,r=this.sw();this.sl=t,this.O_.cl=t.H_,this.B_.cl=t.z_,this.L_.cl=t.V_,this.M_.cl=t.W_,my(this,i,this);var s=this.cw;s!==e&&this.Ur(new Eg(s)),this.sw()!==r&&this.Ur(new Sg),t.zr(this.Mr),t.tw(n)}},i.fw=function(){},i.ov=function(){var t,n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Vr(),this.sl.nw(),t=0,n=this.x_;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,tr.awrap(i.ov());case 7:t++,e.next=3;break;case 10:this.O_.ov(),this.B_.ov(),this.L_.ov(),this.M_.ov();case 14:case"end":return e.stop()}},null,this,null,ge)},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ks(this.x_.map(function(t){return t.tl()})).then(j));case 1:case"end":return t.stop()}},null,this,null,ge)},A(n,[{key:"H_",get:function(){return this.O_}},{key:"V_",get:function(){return this.L_}},{key:"z_",get:function(){return this.B_}},{key:"vw",get:function(){return this.sl.vw}},{key:"dw",get:function(){return this.sl.dw},set:function(t){this.sl.dw=t}},{key:"cw",get:function(){return this.sl.cw}},{key:"f_",get:function(){return this.sl.f_},set:function(t){this.sl.f_=t}},{key:"v_",get:function(){return this.sl.v_}},{key:"lw",get:function(){return this.sl.lw}},{key:"d_",get:function(){return this.sl.d_}},{key:"Kr",get:function(){return this.sl.Kr}},{key:"l_",get:function(){return this.sl.l_}},{key:"W_",get:function(){return this.M_}},{key:"_w",get:function(){return this.sl._w}},{key:"R_",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.ww,i+=h.gw,e+=h.yw,r+=h.mw,s+=h.pw,u.amountOfBufferedAudioSegments+=h.kw.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.kw.amountOfBufferedVideoSegments}return{ww:n,gw:i,yw:e,mw:r,pw:s,kw:u}}(this.x_.map(function(t){return t.R_}))}},{key:"__",get:function(){return this.sl.__},set:function(t){this.sl.__=t}},{key:"bw",get:function(){return this.sl.bw}},{key:"w_",get:function(){return this.sl.w_}},{key:"g_",get:function(){return this.sl.g_},set:function(t){this.sl.g_=t}},{key:"Aw",get:function(){return this.sl.Aw}},{key:"Tw",get:function(){return this.sl.Tw},set:function(t){this.sl.Tw=t}},{key:"Nl",get:function(){return this.sl.Nl}},{key:"Sw",get:function(){return this.sl.Sw}},{key:"y_",get:function(){return this.sl.y_}},{key:"m_",get:function(){return this.sl.m_}},{key:"p_",get:function(){return this.sl.p_}},{key:"k_",get:function(){return this.sl.k_},set:function(t){this.sl.k_=t}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"cl",get:function(){return this.sl},set:function(t){this.aw(t)}}]),n}(Tg),Oy=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ya);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Cy||(Cy={}));var By=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Tt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(St);function Ly(t){jw(t,"MEDIA_ERR_ABORTED",Cy.ABORTED),jw(t,"MEDIA_ERR_NETWORK",Cy.NETWORK),jw(t,"MEDIA_ERR_DECODE",Cy.DECODE),jw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Cy.SRC_NOT_SUPPORTED),jw(t,"MEDIA_ERR_ENCRYPTED",Cy.ENCRYPTED)}function My(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new By(Cy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new By(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Cy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Cy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Cy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Cy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Cy.NETWORK;if(i===n.ErrorCategory.SOURCE)return Cy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Cy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Cy.ENCRYPTED;if(i===n.ErrorCategory.AD)return Cy.ADVERTISEMENT_ERROR;return Cy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function Uy(t){switch(t){case Cy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Cy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Cy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Cy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Cy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Cy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Cy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}Ly(By),Ly(By.prototype);var Fy,Hy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Jd=function(n){return t.prototype.Jd.call(this,n)},i.Ed=function(){return vg(this)},n}(Xw);!function(t){t.Zf="audio",t.Jf="video",t.Pn="text",t.$f="image",t.Uf="unknown"}(Fy||(Fy={}));var zy=function(){function t(){this.Iw=[],this.Td=void 0}var n=t.prototype;return n.Rw=function(t){this.Iw.push(t),this.Td&&this.Td.push(t.Sd)},n.Zd=function(t){return this.Iw[t]},n.Nw=function(t){return H(t)?function(t,n){for(var i=0;i<n.length;i++)if(!is(t,n[i]))return!1;return!0}(this.Iw,t):is(this.Iw,t)},A(t,[{key:"nl",get:function(){return this.Iw}},{key:"il",get:function(){return this.Iw.length}},{key:"Sd",get:function(){var t,n;return this.Td||(this.Td=((n=(t=this).nl.map(function(t){return t.Sd})).item=function(n){var i=0|n,e=t.Zd(i);return e&&e.Sd||void 0},n)),this.Td}}]),t}(),Vy=function(t){function n(n){var i;return(i=t.call(this,Mw.Xd)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new Wy(this.Id.Sd)},n}(Uw),Wy=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(Fw),Xy=0;function qy(){return Xy++}var Gy=0;var Qy=0;var Yy=0;function jy(){return Yy++}var Zy=0;var Jy=function(t){function n(n){var i;return(i=t.call(this)||this).tr=Fy.Zf,i.Dw=void 0,i.Oo=void 0,i.Cw=void 0,i.xw=void 0,i.Pw=!1,i.Iw=void 0,i.Td=void 0,i.Dw=n,i.xw=qy(),i.Oo=Zy+++"",i.Cw=n.label,i.Iw=new zy,i.Ow(),i}S(n,t);var i=n.prototype;return i.Bw=function(t){this.dl=t},i.Ow=function(){this.dl=this.Lw},A(n,[{key:"vl",get:function(){}},{key:"dl",get:function(){return this.Pw},set:function(t){this.Pw!==t&&(this.Pw=t,this.Lw=t,this.Ur(new qw(this)))}},{key:"Lw",get:function(){return!!this.Dw.enabled},set:function(t){this.Dw.enabled=t}},{key:"Sd",get:function(){return this.Td||(this.Td=cg(this)),this.Td}},{key:"ll",get:function(){return this.Oo}},{key:"_l",get:function(){return this.xw}},{key:"wl",get:function(){return this.Dw.kind}},{key:"gl",get:function(){return this.Cw},set:function(t){t!==this.Cw&&(this.Cw=t,this.Ur(new Vy(this)))}},{key:"yl",get:function(){return this.Dw.language}},{key:"El",get:function(){return this.dl?"enabled":"disabled"}},{key:"Mw",get:function(){return this.Dw}},{key:"ml",get:function(){return this.Iw}},{key:"pl",get:function(){},set:function(t){}}]),n}(Es),$y=0;var Ky,tm,nm,im=function(t){function n(n){var i;return(i=t.call(this)||this).tr=Fy.Jf,i.Dw=void 0,i.Oo=void 0,i.xw=void 0,i.Pw=!1,i.Iw=void 0,i.Cw=void 0,i.Td=void 0,i.Dw=n,i.xw=qy(),i.Oo=$y+++"",i.Iw=new zy,i.Cw=n.label,i.Ow(),i}S(n,t);var i=n.prototype;return i.Ow=function(){this.dl=this.Lw},i.Bw=function(t){this.dl=t},A(n,[{key:"vl",get:function(){}},{key:"dl",get:function(){return this.Pw},set:function(t){this.Pw!==t&&(this.Pw=t,this.Lw=t,this.Ur(new qw(this)))}},{key:"Lw",get:function(){return!!this.Dw.selected},set:function(t){this.Dw.selected=t}},{key:"Sd",get:function(){return this.Td||(this.Td=cg(this)),this.Td}},{key:"ll",get:function(){return this.Oo}},{key:"_l",get:function(){return this.xw}},{key:"wl",get:function(){return"main"}},{key:"gl",get:function(){return this.Cw},set:function(t){t!==this.Cw&&(this.Cw=t,this.Ur(new Vy(this)))}},{key:"yl",get:function(){return this.Dw.language}},{key:"El",get:function(){return this.dl?"enabled":"disabled"}},{key:"Mw",get:function(){return this.Dw}},{key:"ml",get:function(){return this.Iw}},{key:"pl",get:function(){},set:function(t){}}]),n}(Es),em=function(t){function n(n){var i;return(i=t.call(this,lc.ea)||this)._w=n,i}return S(n,t),n}(Rs);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ky||(Ky={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(tm||(tm={})),function(t){t.Uw="cue",t.Fw="region",t.Hw="stylesheet"}(nm||(nm={}));var rm,sm,um={"line-left":"start",center:"middle","line-right":"end"},om={start:"line-left",middle:"center",end:"line-right"};function hm(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function am(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),y(r)?e:r;var i,e,r}!function(t){t.zw="Vw",t.Ww="Xw",t.Xd="jo"}(rm||(rm={})),function(t){t.zw="enter",t.Ww="exit",t.Xd="update"}(sm||(sm={}));var cm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).qw=i,e}return S(n,t),n}(Uw),fm=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(Fw);function vm(t){var n,i=[rm.zw,rm.Ww,rm.Xd],e={get track(){return t.Id.Sd},get id(){return t.ll},get uid(){return t._l},get startTime(){return t.Gw},get endTime(){return t.Qw},get content(){return t.Yw},addEventListener:function(t,i){var e=ug(t,rg);n.Fr(e,i)},removeEventListener:function(t,i){var e=ug(t,rg);n.Wr(e,i)}};return n=new Is(e),t.Fr(i,function(t){return n.Ur(t.Sd)}),e}function dm(){}function lm(t){return Zw(vm(t),{get align(){return t.jw},get line(){return t.Zw},get lineAlign(){return t.Jw},get position(){return t.$w},get positionAlign(){return t.Kw},get region(){return t.tg?t.tg.Sd:null},get size(){return t.ds},get snapToLines(){return t.ng},get text(){return t.Yw},get vertical(){return t.ig}})}var _m=function(t){function n(n){return t.call(this,rm.Xd,n)||this}return S(n,t),n.prototype.Ed=function(){return new wm(this.qw.Sd)},n}(cm),wm=function(t){function n(n){return t.call(this,sm.Xd,n)||this}return S(n,t),n}(fm),gm=.02;function ym(t,n){return vt(t.Gw,n.Gw,gm)&&vt(t.Qw,n.Qw,gm)&&t.ll===n.ll}var mm=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).xw=void 0,u.Oo=void 0,u.eg=void 0,u.rg=void 0,u.Td=void 0,u.sg=void 0,u.ug=!1,u.og=void 0,u.hg=void 0,u.ag=-1,u.xw=jy(),u.eg=n,u.rg=i,u.og=e,u.hg=Boolean(r),u.Oo=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.Ed=function(){return vm(this)},i.cg=function(t){return this===t||Kw(this,t)&&ym(this,t)},i.ov=function(){this.Vr()},A(n,[{key:"Gw",get:function(){return this.eg},set:function(t){this.eg!==t&&(this.eg=t,this.Ur(new _m(this)))}},{key:"Qw",get:function(){return this.rg},set:function(t){this.rg!==t&&(this.rg=t,this.Ur(new _m(this)))}},{key:"ll",get:function(){return this.Oo}},{key:"_l",get:function(){return this.xw}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"fg",get:function(){return this.ug},set:function(t){this.ug=t}},{key:"Id",get:function(){return this.sg},set:function(t){this.sg=t}},{key:"Yw",get:function(){return this.og},set:function(t){this.og!==t&&(this.og=t,this.Ur(new _m(this)))}},{key:"vg",get:function(){return this.hg},set:function(t){this.hg=t}}]),n}(Es);function pm(t,n){return t.Yw===n.Yw&&t.Zw===n.Zw&&t.Jw===n.Jw&&t.$w===n.$w&&t.Kw===n.Kw&&t.tg===n.tg&&t.ng===n.ng&&t.ds===n.ds&&t.jw===n.jw&&t.ig===n.ig}var km=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Zw="auto",u.Jw="start",u.$w="auto",u.Kw="auto",u.tg=void 0,u.ng=!0,u.ds=100,u.jw="center",u.ig="",u}return S(n,t),n.prototype.cg=function(n){return this===n||Kw(this,n)&&t.prototype.cg.call(this,n)&&pm(this,n)},A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=lm(this)),this.Td}},{key:"tr",get:function(){return nm.Uw}}]),n}(mm);function bm(t){var n=Y(t.Zw)?t.Zw:g(t.Zw);return y(n)||t.ng||!(n<0||n>100)?y(n)?t.ng?-1:100:n:100}function Am(t){return am(t.$w,t.jw)}function Tm(t){return hm(t.Kw,t.jw)}function Sm(t){var n,i=Tm(t),e=Am(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return _.min(t.ds,n)}function Em(t){return{get id(){return t.ll},get identifier(){return t.ll},get lines(){return t.dg},get regionAnchorX(){return t.lg},get regionAnchorY(){return t._g},get scrollValue(){return t.wg},get viewportAnchorX(){return t.gg},get viewportAnchorY(){return t.yg},get width(){return t.mg}}}var Im=function(){function t(t,n,i,e,r,s,u,o){this.Td=void 0,this.ll=t,this.mg=n,this.dg=i,this.lg=e,this._g=r,this.gg=s,this.yg=u,this.wg=o}return A(t,[{key:"Sd",get:function(){return this.Td||(this.Td=Em(this)),this.Td}},{key:"tr",get:function(){return nm.Fw}}]),t}(),Rm=function(){function t(){}var n=t.prototype;return n.pg=function(t){return this.kg()*t},n.bg=function(t){return this.Ag(t)>0},n.Tg=function(t){return this.Ag(t)>=0},n.Sg=function(t,n){return this.Ig(t).Eg(n)},n.cg=function(t){return 0===this.Ag(t)},n.Rg=function(t){return this.Ag(t)<0},n.Eg=function(t){return this.Ag(t)<=0},n.Ng=function(){return this.Dg()?this.Cg():this},n.xg=function(t){return this.Rw(t.Cg())},n.Ig=function(t){return this.xg(t).Ng()},t}();function Nm(t,n){return t.Pg()?n.Pg()?Vr._r:Vr.wr:n.Pg()?Vr.gr:t.Og()?n.Og()&&t.Dg()===n.Dg()?Vr._r:t.Dg()?Vr.gr:Vr.wr:n.Dg()?Vr.wr:Vr.gr}var Dm=function(){function t(t,n){this.Bg=void 0,this.Lg=void 0,this.Bg=t,this.Lg=n}t.Mg=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Ug=function(n){return n.unsigned?new t(n,at.UZERO):new t(n,n.isNegative()?at.NEG_ONE:at.ZERO)},t.Fg=function(n,i){if(y(n))return i?t.Hg:t.zg;if(i){if(n<0)return t.Hg;if(n>=3.402823669209385e38)return t.Vg}else{if(n<=-1.7014118346046923e38)return t.Wg;if(n+1>=1.7014118346046923e38)return t.Xg}return n<0?t.Fg(-n,i).Cg():t.Mg(at.fromNumber(n%0x10000000000000000),at.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.qg=function(){return this.Lg.unsigned},n.Gg=function(){return this.Bg.isZero()&&this.Lg.isZero()},n.Dg=function(){return this.Lg.isNegative()},n.Qg=function(){return this.qg()?t.Mg(this.Bg,this.Lg,!1):this},n.Yg=function(){return this.qg()?this:t.Mg(this.Bg,this.Lg,!0)},n.jg=function(){return this.Bg},n.kg=function(){return this.Dg()?-this.Cg().kg():0x10000000000000000*this.Lg.toNumber()+this.Bg.toUnsigned().toNumber()},n.Zg=function(){return this.Bg.toInt()},n.cg=function(t){return(this.qg()===t.qg()||this.Lg.getHighBits()>>>31!=1||t.Lg.getHighBits()>>>31!=1)&&(this.Lg.toUnsigned().eq(t.Lg.toUnsigned())&&this.Bg.toUnsigned().eq(t.Bg.toUnsigned()))},n.Ag=function(t){if(this.cg(t))return Vr._r;var n=this.Dg(),i=t.Dg();if(n&&!i)return Vr.gr;if(!n&&i)return Vr.wr;if(!this.qg())return this.xg(t).Dg()?Vr.gr:Vr.wr;var e=this.Yg(),r=t.Yg(),s=r.Lg.comp(e.Lg);return s>0||0===s&&r.Bg.gt(e.Bg)?Vr.gr:Vr.wr},n.Rg=function(t){return this.Ag(t)<0},n.Eg=function(t){return this.Ag(t)<=0},n.Jg=function(t){return this.Ag(t)>0},n.$g=function(t){return this.Ag(t)>=0},n.Kg=function(){return new t(this.Bg.not(),this.Lg.not())},n.ty=function(n){return new t(this.Bg.and(n.Bg),this.Lg.and(n.Lg))},n.ny=function(n){return new t(this.Bg.or(n.Bg),this.Lg.or(n.Lg))},n.iy=function(n){var i=127&n;return 0===i?this:i<64?t.Mg(this.Bg.shl(i),this.Lg.shl(i).or(this.Bg.shru(64-i)),this.qg()):t.Mg(at.ZERO,this.Bg.shl(i-64),this.qg())},n.ey=function(n){var i=127&n;return 0===i?this:i<64?t.Mg(this.Bg.shru(i).or(this.Lg.shl(64-i)),this.Lg.shr(i),this.qg()):t.Mg(this.Lg.shr(i-64),this.Lg.isNegative()?at.NEG_ONE:at.ZERO,this.qg())},n.sy=function(n){var i=127&n;return 0===i?this:i<64?t.Mg(this.Bg.shru(i).or(this.Lg.shl(64-i)),this.Lg.shru(i),this.qg()):64===i?t.Mg(this.Lg,at.ZERO,this.qg()):t.Mg(this.Lg.shru(i-64),at.ZERO,this.qg())},n.Rw=function(n){var i=this.Lg.high>>>16,e=65535&this.Lg.high,r=this.Lg.low>>>16,s=65535&this.Lg.low,u=this.Bg.high>>>16,o=65535&this.Bg.high,h=this.Bg.low>>>16,a=65535&this.Bg.low,c=n.Lg.high>>>16,f=65535&n.Lg.high,v=n.Lg.low>>>16,d=65535&n.Lg.low,l=n.Bg.high>>>16,_=65535&n.Bg.high,w=n.Bg.low>>>16,g=0,y=0,m=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=a+(65535&n.Bg.low))>>>16,T&=65535,b+=(A+=h+w)>>>16,A&=65535,k+=(b+=o+_)>>>16,b&=65535,p+=(k+=u+l)>>>16,k&=65535,m+=(p+=s+d)>>>16,p&=65535,y+=(m+=r+v)>>>16,m&=65535,g+=(y+=e+f)>>>16,y&=65535,g+=i+c,g&=65535;var S=this.qg(),E=at.fromBits(m<<16|p,g<<16|y,S),I=at.fromBits(A<<16|T,k<<16|b,S);return t.Mg(I,E,S)},n.xg=function(t){return this.Rw(t.Cg())},n.Cg=function(){return this.Kg().Rw(t.uy)},n.oy=function(n){if(this.Gg()||n.Gg())return this.qg()?t.Hg:t.zg;if(this.Dg())return n.Dg()?this.Cg().oy(n.Cg()):this.Cg().oy(n).Cg();if(n.Dg())return this.oy(n.Cg()).Cg();if(this.Lg.isZero()&&0===this.Bg.high&&n.Lg.isZero()&&0===n.Bg.high)return t.Ug(this.Bg.multiply(n.Bg));var i=at.fromBits(4294967295,0,!0),e=this.Bg.and(i),r=this.Bg.shru(32),s=this.Lg.and(i),u=this.Lg.shru(32),o=n.Bg.and(i),h=n.Bg.shru(32),a=n.Lg.and(i),c=n.Lg.shru(32),f=at.UZERO,v=at.UZERO,d=at.UZERO,l=at.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=at.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=at.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Mg(_,w,this.qg())},n.hy=function(n){var i,e,r=n;if(r.Gg())throw new RangeError("division by zero");if(this.Gg())return this.qg()?[t.Hg,t.Hg]:[t.zg,t.zg];if(this.qg()){if(r.qg()||(r=r.Yg()),r.Jg(this))return[t.Hg,this];if(r.Jg(this.sy(1)))return[e=t.ay,i=this.xg(r)];e=t.Hg}else{if(this.cg(t.Wg)){if(r.cg(t.uy)||r.cg(t.vy))return[t.Wg,t.zg];if(r.cg(t.Wg))return[t.uy,t.zg];var s=this.ey(1).ly(r).iy(1);return s.cg(t.zg)?e=r.Dg()?t.uy:t.vy:(i=this.xg(r.oy(s)),e=s.Rw(i.ly(r))),[e,i=this.xg(r.oy(e))]}if(r.cg(t.Wg))return this.qg()?[t.Hg,this]:[t.zg,this];if(this.Dg()){if(r.Dg())return this.Cg().hy(r.Cg());var u=this.Cg().hy(r);return e=u[0],i=u[1],[e.Cg(),i.Cg()]}if(r.Dg()){var o=this.hy(r.Cg());return e=o[0],i=o[1],[e.Cg(),i.Cg()]}e=t.zg}for(i=this;i.$g(r);){for(var h=_.max(1,_.floor(i.kg()/r.kg())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Fg(h),v=f.oy(r);v.Dg()||v.Jg(i);)h-=c,v=(f=t.Fg(h,this.qg())).oy(r);f.Gg()&&(f=t.uy),e=e.Rw(f),i=i.xg(v)}return[e,i]},n.ly=function(t){return this.hy(t)[0]},n._y=function(t){return this.hy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Gg())return"0";if(this.Dg()){if(this.cg(t.Wg)){var e=t.Fg(i),r=this.ly(e),s=r.oy(e).xg(this);return r.toString(i)+s.Zg().toString(i)}return"-"+this.Cg().toString(i)}for(var u=t.Fg(_.pow(i,6),this.qg()),o=this,h="";;){var a=o.ly(u),c=(o.xg(a.oy(u)).Zg()>>>0).toString(i);if((o=a).Gg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();Dm.zg=Dm.Ug(at.ZERO),Dm.Hg=Dm.Ug(at.UZERO),Dm.uy=Dm.Ug(at.ONE),Dm.ay=Dm.Ug(at.UONE),Dm.vy=Dm.Ug(at.NEG_ONE),Dm.Xg=Dm.Mg(at.NEG_ONE,at.MAX_VALUE,!1),Dm.Vg=Dm.Mg(at.MAX_UNSIGNED_VALUE,at.MAX_UNSIGNED_VALUE,!0),Dm.Wg=Dm.Mg(at.ZERO,at.MIN_VALUE,!1);var Cm=function(){function t(t,n){void 0===n&&(n=1),this.wy=void 0,this.gy=void 0,this.wy=t,this.gy=n}t.yy=function(n){return new t(_.ceil(n.wy),n.gy)},t.my=function(n){return new t(_.floor(n.wy),n.gy)},t.py=function(t,n){return t.Tg(n)?t:n},t.ky=function(t,n){return t.Eg(n)?t:n};var n=t.prototype;return n.Rw=function(n){return this.gy>=n.gy?new t(this.wy+n.by(this.gy).wy,this.gy):new t(this.by(n.gy).wy+n.wy,n.gy)},n.bg=function(t){return t.Rg(this)},n.Tg=function(t){return t.Eg(this)},n.Ig=function(n){return this.gy>=n.gy?new t(_.abs(this.wy-n.by(this.gy).wy),this.gy):n.Ig(this)},n.Sg=function(t,n){return this.Ig(t).Eg(n)},n.Ag=function(t){return i=t,(n=this).gy>=i.gy?Jr(n.wy,i.by(n.gy).wy):Jr(n.by(i.gy).wy,i.wy);var n,i},n.cg=function(t){return 0===this.Ag(t)},n.Rg=function(t){return this.Ag(t)<0},n.Eg=function(t){return this.Ag(t)<=0},n.by=function(n){return new t(this.wy*(n/this.gy),n)},n.xg=function(n){return this.gy>=n.gy?new t(this.wy-n.by(this.gy).wy,this.gy):new t(this.by(n.gy).wy-n.wy,n.gy)},n.Ay=function(n){return new t(this.wy*n,this.gy)},A(t,[{key:"Og",get:function(){return!isFinite(this.wy)}},{key:"Ty",get:function(){return this.wy/this.gy}}]),t}();Cm.Sy=new Cm(1/6,1),Cm.zg=new Cm(0),Cm.Ey=new Cm(1/0),Cm.Iy=1e6;var xm=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.gy=void 0,e.qn=n.toSigned(),e.gy=i>>>0,e}S(n,t),n.Ry=function(t,i){return void 0===i&&(i=1e6),n.Fg(t*i,i)},n.Fg=function(t,i){return y(t)?n.Ny:t===1/0?n.Dy:t===-1/0?n.Cy:new n(at.fromNumber(t),i)},n.Ug=function(t,i){return new n(t,i)},n.xy=function(t){return n.Ry(t.Ty,1e6)},n.Py=function(t){return new n(at.fromNumber(t.getTime()),1e3)},n.py=function(t,n){return t.Tg(n)?t:n},n.ky=function(t,n){return t.Eg(n)?t:n},n.Oy=function(t,i,e){return n.py(i,n.ky(e,t))};var i=n.prototype;return i.Dg=function(){return this.qn.isNegative()},i.Gg=function(){return 0!==this.gy&&this.qn.isZero()},i.Og=function(){return 0===this.gy&&!this.qn.isZero()},i.Pg=function(){return 0===this.gy&&this.qn.isZero()},i.kg=function(){if(0===this.gy)return this.qn.isZero()?NaN:this.qn.isNegative()?-1/0:1/0;var t=this.qn.divide(this.gy),n=this.qn.subtract(t.multiply(this.gy));return t.toNumber()+n.toNumber()/this.gy},i.jg=function(){if(0===this.gy)throw new v("Failed to convert timestamp");return this.qn},i.By=function(){return new Date(0===this.gy?NaN:this.by(1e3).qn.toNumber())},i.Ly=function(){return new Cm(0===this.gy?this.kg():this.qn.toNumber(),this.gy)},i.by=function(t,i){void 0===i&&(i=Bm.My);var e=this.gy;if(e===t)return this;if(0===e)return this;var r=wt(e,t);return new n(function(t,n,i){var e=t.hy(n),r=e[0],s=e[1];if(s.Gg())return r;if(i===Bm.My)return s.Dg()?r.xg(Dm.uy):r;if(i===Bm.Uy)return s.Dg()?r:r.Rw(Dm.uy);var u=s.oy(Dm.Fg(2));return u.Dg()?u.Cg().Rg(n)?r:r.xg(Dm.uy):u.Rg(n)?r:r.Rw(Dm.uy)}(Dm.Ug(this.qn).oy(Dm.Fg(t/r)),Dm.Fg(e/r),i).jg(),t)},i.Ag=function(t){if(this===t)return Vr._r;if(0===this.gy||0===t.gy)return Nm(this,t);if(this.Gg())return t.Gg()?Vr._r:t.Dg()?Vr.wr:Vr.gr;if(t.Gg())return this.Dg()?Vr.gr:Vr.wr;var n=_.min(this.gy,t.gy),i=this.by(n,Bm.Fy).qn,e=t.by(n,Bm.Fy).qn;return i.compare(e)},i.Cg=function(){return 0===this.gy?Pm(this):new n(this.qn.negate(),this.gy)},i.Rw=function(t){if(0===this.gy||0===t.gy)return Om(this,t);if(this.Gg())return t;if(t.Gg())return this;var i=_.max(this.gy,t.gy),e=this.by(i,Bm.Fy),r=t.by(i,Bm.Fy);return new n(e.qn.add(r.qn),i)},i.oy=function(t){if(this.Pg()||y(t))return n.Ny;if(this.Og()||!isFinite(t)){if(this.Gg()||0===t)return n.Ny;var i=this.Dg()?n.Cy:n.Dy;return t<0?i.Cg():i}return this.Gg()?this:new n(0===t?at.ZERO:this.qn.multiply(t),this.gy)},i.ly=function(t){if(this.Pg()||y(t))return n.Ny;if(this.Og())return isFinite(t)?0===t?1/t<0?this.Cg():this:t<0?this.Cg():this:n.Ny;if(!isFinite(t))return new n(at.ZERO,this.gy);if(this.Gg())return 0===t?n.Ny:new n(at.ZERO,this.gy);if(0===t){var i=this.Dg()?n.Cy:n.Dy;return 1/t<0?i.Cg():i}return new n(this.qn.divide(t),this.gy)},i.Hy=function(){return[this.qn.low,this.qn.high,this.gy]},n}(Rm);function Pm(t){return t.Pg()?t:t.Dg()?xm.Dy:xm.Cy}function Om(t,n){return t.Pg()||n.Pg()?xm.Ny:t.Og()&&n.Og()?t.Dg()===n.Dg()?t:xm.Ny:t.Og()?t:n}xm.zg=new xm(at.ZERO,1e6),xm.Ny=new xm(at.ZERO,0),xm.Dy=new xm(at.ONE,0),xm.Cy=new xm(at.NEG_ONE,0);var Bm,Lm=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.gy=void 0,e.qn=BigInt.asIntN(64,n),e.gy=i>>>0,e}S(n,t),n.Ry=function(t,i){return void 0===i&&(i=1e6),n.Fg(t*i,i)},n.Fg=function(t,i){return y(t)?n.Ny:t===1/0?n.Dy:t===-1/0?n.Cy:new n(BigInt(_.floor(t)),i)},n.Ug=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.xy=function(t){return n.Ry(t.Ty,1e6)},n.Py=function(t){return n.Fg(t.getTime(),1e3)},n.py=function(t,n){return t.Tg(n)?t:n},n.ky=function(t,n){return t.Eg(n)?t:n},n.Oy=function(t,i,e){return n.py(i,n.ky(e,t))};var i=n.prototype;return i.Dg=function(){return this.qn<BigInt(0)},i.Gg=function(){return 0!==this.gy&&this.qn===BigInt(0)},i.Og=function(){return 0===this.gy&&this.qn!==BigInt(0)},i.Pg=function(){return 0===this.gy&&this.qn===BigInt(0)},i.kg=function(){if(0===this.gy)return this.qn===BigInt(0)?NaN:this.qn<BigInt(0)?-1/0:1/0;var t=this.qn/BigInt(this.gy),n=this.qn-t*BigInt(this.gy);return Number(t)+Number(n)/this.gy},i.jg=function(){if(0===this.gy)throw new v("Failed to convert timestamp");return this.zy()},i.zy=function(){var t=this.qn&BigInt(4294967295),n=this.qn>>BigInt(32)&BigInt(4294967295);return at.fromBits(Number(t),Number(n))},i.By=function(){return new Date(0===this.gy?NaN:Number(this.by(1e3).qn))},i.Ly=function(){return new Cm(0===this.gy?this.kg():Number(this.qn),this.gy)},i.by=function(t,i){void 0===i&&(i=Bm.My);var e=this.gy;if(e===t)return this;if(0===e)return this;var r=wt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Bm.My)return r<BigInt(0)?e-BigInt(1):e;if(i===Bm.Uy)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.qn*BigInt(t/r),BigInt(e/r),i),t)},i.Ag=function(t){if(this===t)return Vr._r;if(0===this.gy||0===t.gy)return Nm(this,t);if(this.Gg())return t.Gg()?Vr._r:t.Dg()?Vr.wr:Vr.gr;if(t.Gg())return this.Dg()?Vr.gr:Vr.wr;var n=_.min(this.gy,t.gy),i=this.by(n,Bm.Fy).qn,e=t.by(n,Bm.Fy).qn;return i>e?Vr.wr:i<e?Vr.gr:Vr._r},i.Cg=function(){return 0===this.gy?Mm(this):new n(-this.qn,this.gy)},i.Rw=function(t){if(0===this.gy||0===t.gy)return Um(this,t);if(this.Gg())return t;if(t.Gg())return this;var i=_.max(this.gy,t.gy),e=this.by(i,Bm.Fy),r=t.by(i,Bm.Fy);return new n(e.qn+r.qn,i)},i.oy=function(t){if(this.Pg()||y(t))return n.Ny;if(this.Og()||!isFinite(t)){if(this.Gg()||0===t)return n.Ny;var i=this.Dg()?n.Cy:n.Dy;return t<0?i.Cg():i}return this.Gg()?this:new n(0===t?BigInt(0):this.qn*BigInt(t),this.gy)},i.ly=function(t){if(this.Pg()||y(t))return n.Ny;if(this.Og())return isFinite(t)?0===t?1/t<0?this.Cg():this:t<0?this.Cg():this:n.Ny;if(!isFinite(t))return new n(BigInt(0),this.gy);if(this.Gg())return 0===t?n.Ny:new n(BigInt(0),this.gy);if(0===t){var i=this.Dg()?n.Cy:n.Dy;return 1/t<0?i.Cg():i}return new n(this.qn/BigInt(t),this.gy)},i.Hy=function(){var t=this.zy();return[t.low,t.high,this.gy]},A(n,null,[{key:"zg",get:function(){return n.Vy||(n.Vy=new n(BigInt(0),1e6)),n.Vy}},{key:"Ny",get:function(){return n.Wy||(n.Wy=new n(BigInt(0),0)),n.Wy}},{key:"Dy",get:function(){return n.Xy||(n.Xy=new n(BigInt(1),0)),n.Xy}},{key:"Cy",get:function(){return n.qy||(n.qy=new n(BigInt(-1),0)),n.qy}}]),n}(Rm);function Mm(t){return t.Pg()?t:t.Dg()?Lm.Dy:Lm.Cy}function Um(t,n){return t.Pg()||n.Pg()?Lm.Ny:t.Og()&&n.Og()?t.Dg()===n.Dg()?t:Lm.Ny:t.Og()?t:n}Lm.Vy=void 0,Lm.Wy=void 0,Lm.Xy=void 0,Lm.qy=void 0,function(t){t[t.My=0]="My",t[t.Uy=1]="Uy",t[t.Fy=2]="Fy"}(Bm||(Bm={}));var Fm=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Lm:xm;function Hm(t,n){return t.Ag(n)}function zm(t){return Fm.Ug(at.fromBits(t[0],t[1],!1),t[2])}var Vm=9e4,Wm=_.pow(2,33),Xm=Fm.Fg(Wm,Vm),qm=Xm.ly(2);function Gm(t){return null!=t&&!t.Pg()}function Qm(t,n){return t.Og()||n.Og()?Fm.py(t,n):Zm(t,n).bg(Fm.zg)?t:n}function Ym(t,n){var i=t.xg(n);return i.Rg(Fm.zg)&&(i=i.Rw(Xm)),i}function jm(t,n){var i=t.Rw(n);return i.Tg(Xm)&&(i=i.xg(Xm)),i}function Zm(t,n){var i=t.xg(n);return t.Og()||n.Og()?i:(i.Tg(qm)?i=i.xg(Xm):i.Rg(qm.Cg())&&(i=i.Rw(Xm)),i)}function Jm(t,n){if(t||n)return t?n?Fm.ky(t,n):t:n}function $m(t,n){if(t||n)return t?n?Fm.py(t,n):t:n}var Km,tp,np,ip,ep={Gy:0,Qy:1/0,Yy:0},rp=6,sp=["WEBVTT ","WEBVTT\t","WEBVTT\n"],up=[" ","\t","\n","\f","\r"],op=/^\d*$/,hp=/.*[0-9]+.*/,ap=/^[\d.-]+$/,cp=/(^\.|\.$)/,fp=/(\D\.|\.\D)/;function vp(t,n){void 0===n&&(n=ep);var i={Dl:[],jy:[],Zy:[]},e=dp(t),r=new Yu;if(Ap(e),lp(e,function(t){return"\n"!==t},r),r.ps>=e.length)return i;(r._s(1),"\n"!==e.charAt(r.ps))?yp(_p(e,r,!1,!0,i,n),i):r._s(1);for(lp(e,function(t){return"\n"===t},r);r.ps<e.length;){yp(_p(e,r,!1,!1,i,n),i),lp(e,function(t){return"\n"===t},r)}return i}function dp(t){var n=Rr(t,"\0"," "),i=Rr(n,"\r\n","\n");return Rr(i,"\r","\n")}function lp(t,n,i){for(var e=i.ps;i.ps<t.length&&n(t.charAt(i.ps));)i._s(1);return t.substring(e,i.ps)}function _p(t,n,e,r,s,u){for(var o,h=0,a=n.ps,c="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=lp(t,function(t){return"\n"!==t},n),h++,n.ps>=t.length?f=!0:n._s(1),Nr(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.gs(a);break}v=!0,a=n.ps,d=new km(0,0,"",!1,c);try{mp(o,s.jy,d,u),c=""}catch(t){i.we(t),d=null}}else{if(""===o)break;r&&Dr(o,"X-TIMESTAMP-MAP")&&(s.Jy=wp(o)),r||2!==h||e||(xr("STYLE",c.replace(/ /g,""))?(l={tr:nm.Hw},c=""):xr("REGION",c.replace(/ /g,""))&&(_=new Im("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.ps}if(d)return d.Yw=c,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Nr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Op(o,n);break;case"WIDTH":Mp(o,n);break;case"LINES":Lp(o,n);break;case"REGIONANCHOR":var h=Pp(o);h&&(n.lg=h[0],n._g=h[1]);break;case"VIEWPORTANCHOR":var a=Pp(o);a&&(n.gg=a[0],n.yg=a[1]);break;case"SCROLL":Bp(o,n)}}}}(c,_),_;return null}function wp(t){var n,i,e=t.split("=")[1].trim().split(","),r=gp(e[0].trim(),"MPEGTS")?e[0]:e[1],s=gp(e[0].trim(),"LOCAL")?e[0]:e[1];return{$y:(i=Number(r.split(/:(.*)/)[1].trim())||0,Fm.Fg(i,Vm)),Ky:Fm.Ry(null!=(n=bp(s.split(/:(.*)/)[1].trim(),new Yu))?n:0)}}function gp(t,n){return Dr(t,n)}function yp(t,n){t&&function(t){return t.tr===nm.Uw}(t)?n.Dl.push(t):t&&function(t){return t.tr===nm.Fw}(t)?n.jy.push(t):t&&function(t){return t.tr===nm.Hw}(t)&&n.Zy.push(t)}function mp(t,n,i,e){var r=new Yu;if(Tp(t,r),i.Gw=pp(bp(t,r),e),Tp(t,r),"--\x3e"!==t.substring(r.ps,r.ps+3))throw v("Something went wrong with parsing a WebVTT Cue");r._s(3),Tp(t,r),i.Qw=pp(bp(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&Nr(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Np(h,n,i);break;case"VERTICAL":Cp(h,n);break;case"D":xp(h,n);break;case"LINE":case"L":Ip(h,n);break;case"POSITION":case"T":Rp(h,n);break;case"SIZE":case"S":Dp(h,n);break;case"ALIGN":case"A":Ep(h,n)}}}}(t.substring(r.ps,t.length),i,n)}function pp(t,n){return t+n.Gy}function kp(t){return/^[0-9]$/.test(t)}function bp(t,n){var i,e,r,s=Rr(t,",","."),u=!1;if(n.ps>=s.length||!kp(s.charAt(n.ps)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=lp(s,kp,n),h=w(o,10);if((o.length>2||h>59)&&(u=!0),n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n._s(1);var a=lp(s,kp,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=w(a,10);if(u||n.ps<s.length&&":"===s.charAt(n.ps)){if(n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n._s(1);var f=lp(s,kp,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=w(f,10)}else i=0,e=h,r=c;if(n.ps>=s.length||"."!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n._s(1);var d=lp(s,kp,n),l=w(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Ap(t){if(t.length<rp)return!1;for(var n=0;n<sp.length;n++){if(Dr(t,sp[n]))return!0}return!1}function Tp(t,n){for(;n.ps<t.length&&(i=t.charAt(n.ps),is(up,i));)n._s(1);var i}function Sp(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function Ep(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.jw=i;break;case"middle":n.jw="center"}}function Ip(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),hp.test(i)){var s,u;if(Cr(i,"%")){var o=Sp(i);if(null===o)return;s=o,u=!1}else{if(!ap.test(i)||i.lastIndexOf("-")>0)return;var h=i.indexOf(".");if(h>=0&&(h!==i.lastIndexOf(".")||!fp.test(i)||cp.test(i)))return;if(s=g(i),y(s))return;u=!0}switch(n.Zw=s,n.ng=u,e=e.toLowerCase()){case"start":case"center":case"end":n.Jw=e;break;case"middle":n.Jw="center"}}}function Rp(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Sp(i);if(null!==s)switch(n.$w=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Kw=e;break;case"start":n.Kw="line-left";break;case"middle":n.Kw="center";break;case"end":n.Kw="line-right"}}function Np(t,n,i){var e,r,s,u=-1===(s=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n.ll===t},r))?void 0:e[s];void 0!==u&&(n.tg=u)}function Dp(t,n){var i=Sp(t);null!==i&&(n.ds=i)}function Cp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.ig="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.ig="lr";break;default:n.ig=""}}function xp(t,n){"VERTICAL"===t.toUpperCase()?n.ig="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.ig="lr")}function Pp(t){if(t.indexOf(",")>=0){var n=Sp(t.substring(0,t.indexOf(","))),i=Sp(t.substring(t.indexOf(",")+1,t.length));return[ft(n||0,0,100),ft(i||100,0,100)]}return null}function Op(t,n){n.ll=t}function Bp(t,n){"up"===t.toLowerCase()&&(n.wg="up")}function Lp(t,n){op.test(t)&&(n.dg=w(t))}function Mp(t,n){var i=Sp(t);null!==i&&(n.mg=i)}!function(t){t.tm="moov",t.nm="mvhd",t.im="trak",t.rm="tkhd",t.sm="mdia",t.um="mdhd",t.om="hdlr",t.hm="minf",t.am="stbl",t.cm="stsd",t.fm="stsc",t.vm="mvex",t.dm="trex",t.lm="avc1",t._m="avcC",t.wm="hev1",t.gm="hvc1",t.ym="hvcC",t.mm="pasp",t.pm="mp4a",t.km="esds",t.bm="wvtt",t.Am="vttC",t.Tm="vlab",t.Sm="enca",t.Em="encv",t.Im="moof",t.Rm="mfhd",t.Nm="traf",t.Dm="tfhd",t.Cm="trun",t.xm="tfdt",t.Pm="mdat",t.Om="pssh",t.Bm="emsg",t.Lm="sidx",t.Mm="styp",t.Um="ftyp",t.Fm="sinf",t.Hm="frma"}(Km||(Km={})),function(t){t.Jf="vide",t.Zf="soun",t.zm="subt",t.Vm="hint",t.Wm="meta",t.Xm="auxv"}(tp||(tp={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(np||(np={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ip||(ip={}));var Up=function(){function t(t,n){this.ai=void 0,this.qm=void 0,this.ai=t,this.qm=n}var n=t.prototype;return n.Gm=function(){return fu(this.ai,this.qm)},n.Qm=function(){return gu(this.ai,this.qm)},n.Ym=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.ps,i);return n._s(2),e}(this.ai,this.qm)},n.jm=function(){return mu(this.ai,this.qm)},n.Zm=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.ps,i);return n._s(4),e}(this.ai,this.qm)},n.Jm=function(){return ku(this.ai,this.qm)},n.$m=function(t){return du(this.ai,this.qm,t)},n.Km=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(mu(t,n));return e}(this.ai,this.qm,t)},n.tp=function(t){return Tu(this.ai,this.qm,t)},n.np=function(){return Mu(this.ai,this.qm)},n.ip=function(t){this.qm._s(t)},n.ys=function(){return new t(this.ai,this.qm.ys())},t}();function Fp(t,n){return t.tr===n}function Hp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Fp(e,n))return e}}function zp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Fp(r,n)&&i.push(r)}return i}var Vp=function(t){function n(n,i){var e;return(e=t.call(this)||this).ep=n,e.rp=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Et),Wp=function(){function t(){}return t.sp=function(n){var i=n.ai,e=n.qm,r=t.op(i,e,!1);if(!r.hp)throw new Vp(e.ps,r.ti);return r.ti},t.op=function(n,i,e){for(var r=[];i.ps<n.byteLength;){var s=t.ap(n,i,e);if(!s.hp)return{hp:!1,ti:r};r.push(s.cp)}return{hp:!0,ti:r}},t.fp=function(n,i){var e=t.ap(n,i,!1);if(!e.hp)throw new Vp(i.ps);return e.cp},t.vp=function(n,i){for(var e=n.ai,r=n.qm;r.ps<e.byteLength;){var s=t.ap(e,r,!1);if(!s.hp)return;if(s.cp.tr===i)return s.cp}},t.ap=function(n,i,e){var r=i.ps,s=t.dp(n,i);if(!s.hp)return s;var u=s.lp,o=u.ds;if(0===o){if(e)return i.gs(r),{hp:!1,_p:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.gs(r),{hp:!1,_p:a}}var c={tr:u.tr,ps:r,ai:new Up(zu(n,r,h),new Yu(u.wp))};return i.gs(h),{hp:!0,cp:c}},t.dp=function(t,n){var i=n.ps;if(!_u(t,n,8))return{hp:!1,_p:n.ps+8};var e=mu(t,n),r=Tu(t,n,4);if(1===e){if(!_u(t,n,8)){var s=n.ps+8;return n.gs(i),{hp:!1,_p:s}}e=ku(t,n).toNumber()}if("uuid"===r){if(!_u(t,n,16)){var u=n.ps+16;return n.gs(i),{hp:!1,_p:u}}r=Tu(t,n,16)}return{hp:!0,lp:{tr:r,ds:e,wp:n.ps-i}}},t.gp=function(t,n,i){var e=t.ai,r=t.qm,s=Hu(Wu(e),r.ps,e.byteLength);return i&&(s=Qu(s)),r._s(s.byteLength),{tr:n,ai:s}},t.yp=function(n,i,e){var r=Qp(n.jm());return{tr:i,mp:r.version,pp:r.flags,ai:t.gp(n,i,e).ai}},t}();function Xp(t,n){var i=qp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function qp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.tr===n)return e.ai}}function Gp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.tr===n&&i.push(r.ai)}return i}function Qp(t){return{version:t>>24,flags:new hu(16777215&t)}}var Yp=function(){function t(){}return t.kp=function(n){for(var i=[],e=Wp.sp(new Up(n,new Yu)),r=0;r<e.length;r++){var s=e[r],u=t.bp(s);u&&i.push(u)}return i},t.Ap=function(t){return Wp.op(t,new Yu,!1).ti.some(function(t){return t.tr===Km.Im||t.tr===Km.Mm})},t.Tp=function(n){return Gp(Wp.sp(new Up(n,new Yu)),Km.Om).map(t.Sp)},t.Ep=function(n){return Gp(Wp.sp(n.ai),Km.Om).map(t.Sp)},t.bp=function(n){switch(n.tr){case Km.tm:return t.Ip(n.ai);case Km.Im:return t.Rp(n.ai,n.ps);case Km.Pm:return t.Np(n.ai);case Km.Lm:return t.Dp(n.ai);case Km.Bm:return t.Cp(n.ai)}},t.Ip=function(n){var i=Wp.sp(n),e=Xp(i,Km.nm),r=Gp(i,Km.im),s=qp(i,Km.vm),u=t.xp(e),o=r.map(t.Pp),h=s?t.Op(s):void 0;return{tr:Km.tm,lp:u,Bp:o,Lp:h}},t.xp=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=1===i?t.Jm():t.jm(),s=1===i?t.Jm():t.jm(),u=t.jm(),o=1===i?t.Jm():t.jm(),h=t.jm(),a=t.Qm()>>8;t.ip(2),t.ip(8);var c=t.Km(9);t.ip(24);var f=t.jm();return{tr:Km.nm,mp:i,pp:e,Mp:r,Up:s,gy:u,v_:o,Fp:h,k_:a,Hp:c,zp:f}},t.Pp=function(n){var i=Wp.sp(n),e=Xp(i,Km.rm),r=Xp(i,Km.sm),s=t.Vp(e),u=t.Wp(r);return{tr:Km.im,lp:s,Xp:u}},t.Vp=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=1===i?t.Jm():t.jm(),s=1===i?t.Jm():t.jm(),u=t.jm();t.ip(4);var o=1===i?t.Jm():t.jm();t.ip(8);var h=t.Ym(),a=t.Ym(),c=t.Ym()/_.pow(2,8);t.ip(2);var f=t.Km(9),v=t.jm()/_.pow(2,16),d=t.jm()/_.pow(2,16);return{tr:Km.rm,qp:e.bs(1),Gp:e.bs(2),Qp:e.bs(4),Mp:r,Up:s,Yp:u,v_:o,jp:h,Zp:a,k_:c,Hp:f,mg:v,Jp:d}},t.Wp=function(n){var i=Wp.sp(n),e=Xp(i,Km.um),r=Xp(i,Km.om),s=Xp(i,Km.hm),u=t.$p(e),o=t.Kp(r),h=t.tk(s);return{tr:Km.sm,lp:u,nk:o,ik:h}},t.$p=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=1===i?t.Jm():t.jm(),s=1===i?t.Jm():t.jm(),u=t.jm(),o=1===i?t.Jm():t.jm();t.Qm();return t.ip(2),{tr:Km.um,mp:i,pp:e,Mp:r,Up:s,gy:u,v_:o}},t.Kp=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags;t.ip(4);var r=t.tp(4);t.ip(12);var s=t.np();return{tr:Km.om,mp:i,pp:e,ek:r,Vn:s}},t.tk=function(n){var i=Xp(Wp.sp(n),Km.am),e=t.rk(i);return{tr:Km.hm,sk:e}},t.rk=function(n){var i=Xp(Wp.sp(n),Km.cm),e=t.uk(i);return{tr:Km.am,hk:e}},t.uk=function(n){for(var i=Qp(n.jm()),e=i.version,r=i.flags,s=(n.jm(),[]),u=Wp.sp(n),o=0;o<u.length;o++){var h=u[o],a=t.ak(h.ai,h.tr);a&&s.push(a)}return{tr:Km.cm,mp:e,pp:r,ck:s}},t.ak=function(n,i){var e=t.fk(n,i);return e||((e=t.vk(n,i))||(i===Km.bm?t.dk(n):void 0))},t.fk=function(n,i){return i===Km.pm?t.lk(n):i===Km.Sm?t._k(n):void 0},t.vk=function(n,i){return i===Km.lm?t.wk(n):i===Km.wm||i===Km.gm?t.gk(n,i):i===Km.Em?t.yk(n):void 0},t.mk=function(t,n){return t.ip(6),{tr:n,pk:t.Qm()}},t.kk=function(n,i){var e=t.mk(n,i);n.ip(8);var r=n.Qm(),s=n.Qm();return n.ip(2),n.ip(2),nr({},e,{bk:r,Ak:s,Tk:n.jm()>>>16})},t.Sk=function(n,i){var e=t.mk(n,i);n.ip(2),n.ip(2),n.ip(12);var r=n.Qm(),s=n.Qm(),u=n.jm(),o=n.jm();n.ip(4);var h=n.Qm();n.ip(32);var a=n.Qm();return n.ip(2),nr({},e,{mg:r,Jp:s,Ek:u,Ik:o,Rk:h,Nk:a})},t.lk=function(n){var i=t.kk(n,Km.pm),e=Xp(Wp.sp(n),Km.km);return nr({},i,{Dk:t.Ck(e)})},t.dk=function(n){var i=t.mk(n,Km.bm),e=Wp.sp(n),r=Xp(e,Km.Am),s=t.xk(r),u=qp(e,Km.Tm);return nr({},i,{Pk:s,Ok:u?t.Bk(u):u})},t.xk=function(t){return{tr:Km.Am,eh:t.np()}},t.Bk=function(t){return{tr:Km.Tm,gl:t.np()}},t.Ck=function(t){return Wp.yp(t,Km.km,!0)},t.wk=function(n){var i=t.Sk(n,Km.lm),e=Wp.sp(n),r=Xp(e,Km._m),s=qp(e,Km.mm);return nr({},i,{Lk:t.Mk(r),Uk:s?t.Fk(s):void 0})},t.gk=function(n,i){var e=t.Sk(n,i),r=Xp(Wp.sp(n),Km.ym);return nr({},e,{Hk:t.zk(r)})},t.yk=function(n){var i=n.ys(),e=t.Sk(n,Km.Em),r=Xp(Wp.sp(n),Km.Fm),s=t.Vk(r);return nr({},e,{Wk:t.vk(i,s.qk.Xk),Gk:s})},t._k=function(n){var i=n.ys(),e=t.kk(n,Km.Sm),r=Xp(Wp.sp(n),Km.Fm),s=t.Vk(r);return nr({},e,{Wk:t.fk(i,s.qk.Xk),Gk:s})},t.Vk=function(n){var i=Xp(Wp.sp(n),Km.Hm),e=t.Qk(i);return{tr:Km.Fm,qk:e}},t.Qk=function(t){var n=t.tp(4);return{tr:Km.Hm,Xk:n}},t.Mk=function(t){return Wp.gp(t,Km._m,!0)},t.zk=function(t){return Wp.gp(t,Km.ym,!0)},t.Fk=function(t){var n=t.jm(),i=t.jm();return{tr:Km.mm,Yk:n,jk:i}},t.Op=function(n){var i=Gp(Wp.sp(n),Km.dm).map(t.Zk);return{tr:Km.vm,Bp:i}},t.Zk=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=t.jm(),s=t.jm(),u=t.jm(),o=t.jm(),h=t.jm();return{tr:Km.dm,mp:i,pp:e,Yp:r,Jk:s,$k:u,Kk:o,nb:h}},t.Rp=function(n,i){var e=Wp.sp(n),r=Xp(e,Km.Rm),s=Gp(e,Km.Nm),u=t.ib(r),o=s.map(t.eb);return{tr:Km.Im,sb:i,lp:u,Bp:o}},t.ib=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=t.jm();return{tr:Km.Rm,mp:i,pp:e,ub:r}},t.eb=function(n){var i=Wp.sp(n),e=Xp(i,Km.Dm),r=Gp(i,Km.Cm),s=qp(i,Km.xm),u=t.ob(e),o=r.map(function(n){return t.hb(n,u)}),h=s?t.ab(s):void 0;return{tr:Km.Nm,lp:u,cb:o,fb:h}},t.ob=function(t){var n=Qp(t.jm()),i=n.version,e=n.flags,r=t.jm(),s=e.bs(np.BASE_DATA_OFFSET_PRESENT)?t.Jm():void 0,u=e.bs(np.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.jm():void 0,o=e.bs(np.DEFAULT_SAMPLE_DURATION_PRESENT)?t.jm():void 0,h=e.bs(np.DEFAULT_SAMPLE_SIZE_PRESENT)?t.jm():void 0,a=e.bs(np.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.jm():void 0;return{tr:Km.Dm,mp:i,pp:e,Yp:r,vb:s,lb:u,$k:o,Kk:h,nb:a}},t.hb=function(n,i){for(var e=Qp(n.jm()),r=e.version,s=e.flags,u=n.jm(),o=s.bs(ip.DATA_OFFSET_PRESENT)?n.Zm():void 0,h=s.bs(ip.FIRST_SAMPLE_FLAGS_PRESENT)?n.jm():void 0,a=[],c=0;c<u;c++){var f=t._b(n,s,r,i);0===c&&void 0!==h&&(f.pp=h),a.push(f)}return{tr:Km.Cm,mp:r,pp:s,wb:u,sb:o,gb:h,yb:a}},t._b=function(t,n,i,e){return{v_:n.bs(ip.SAMPLE_DURATION_PRESENT)?t.jm():e.$k,ds:n.bs(ip.SAMPLE_SIZE_PRESENT)?t.jm():e.Kk,pp:n.bs(ip.SAMPLE_FLAGS_PRESENT)?t.jm():e.nb,mb:n.bs(ip.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.jm():t.Zm():void 0}},t.Cp=function(t){var n=t.ai,i=t.qm,e=Qp(mu(n,i)),r=e.version,s=e.flags;if(1===r){var u=mu(n,i),o=ku(n,i),h=mu(n,i),a=mu(n,i),c=Au(n,i),f=Au(n,i),v=Gu(Wu(n),i.ps,n.byteLength);return i._s(v.byteLength),{tr:Km.Bm,mp:r,pp:s,pb:c,qn:f,gy:u,kb:o,bb:h,ll:a,Ab:v}}var d=Au(n,i),l=Au(n,i),_=mu(n,i),w=mu(n,i),g=mu(n,i),y=mu(n,i),m=Gu(Wu(n),i.ps,n.byteLength);return i._s(m.byteLength),{tr:Km.Bm,pp:s,mp:r,pb:d,qn:l,gy:_,Tb:w,bb:g,ll:y,Ab:m}},t.Np=function(t){return Wp.gp(t,Km.Pm,!1)},t.Sp=function(n){var i=n.ai,e=n.qm,r=Qu(Wu(i)).buffer,s=Qp(mu(i,e)),u=s.version,o=s.flags,h=t.Sb(i,e),a=[];if(u>0)for(var c=mu(i,e),f=0;f<c;f++){var v=du(i,e,16);a.push(v)}var d=mu(i,e),l=new m(r,e.ps,d);return e._s(i.byteLength),{tr:Km.Om,mp:u,pp:o,Eb:h,Ib:a,Rb:d,ai:l,Nb:r}},t.Sb=function(t,n){for(var i="",e=0;e<4;e++){var r=fu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=fu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=fu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=fu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=fu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Dp=function(t){var n,i,e=t.ai,r=t.qm,s=Qp(mu(e,r)),u=s.version,o=s.flags,h=mu(e,r),a=mu(e,r);0===u?(n=at.fromBits(mu(e,r),0,!0),i=at.fromBits(mu(e,r),0,!0)):(n=ku(e,r),i=ku(e,r)),r._s(2);for(var c=gu(e,r),f=[],v=0;v<c;v+=1){var d=mu(e,r),l=d>>31&1,_=2147483647&d,w=mu(e,r),g=mu(e,r),y=g>>31&1,m=g>>28&7,p=268435455&g;f.push({Db:l,Cb:_,v_:w,xb:y,Pb:m,Ob:p})}return{tr:Km.Lm,mp:u,pp:o,Bb:h,gy:a,Lb:n,Mb:i,Ub:c,Fb:f}},t.ab=function(t){var n,i=t.ai,e=t.qm,r=Qp(mu(i,e)),s=r.version,u=r.flags;return n=0===s?at.fromBits(mu(i,e),0,!0):ku(i,e),{tr:Km.xm,mp:s,pp:u,fb:n}},t}();function jp(t){return t&&"Kn"in t?t.Kn:t}var Zp=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).Hb=void 0,h.zb=void 0,h.Vb=void 0,h.Hb=s,h.zb=u,h.Vb=o||void 0,h}return S(n,t),n.prototype.cg=function(n){return this===n||!!Kw(this,n)&&(!!t.prototype.cg.call(this,n)&&(!!$w(this.Wb,n.Wb)&&(!!$w(this.jy,n.jy)&&(this.Xb&&n.Xb?!!this.Xb.Fn(n.Xb)&&(this.Yw&&n.Yw?this.Yw.Fn(n.Yw):this.Yw===n.Yw):this.Xb===n.Xb))))},A(n,[{key:"Wb",get:function(){return this.Hb}},{key:"jy",get:function(){return this.zb}},{key:"Xb",get:function(){return this.Vb}},{key:"Sd",get:function(){var t;return this.Td||(this.Td=Zw(vm(t=this),{get styles(){return t.Wb},get regions(){return t.jy},get metadata(){return jp(t.Xb)},get content(){return jp(t.Yw)}})),this.Td}}]),n}(mm),Jp=function(){function t(t,n,i){this.wc=void 0,this.qb=void 0,this.Gb=void 0,this.qb=t,this.Gb=n,bt(i)?this.wc=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.ei(s)}return i}(0,0,i):this.wc=i}return A(t,[{key:"Qb",get:function(){return this.wc.Hn(!0)}},{key:"Gw",get:function(){return this.qb}},{key:"Qw",get:function(){return this.Gb}}]),t}();var $p="http://www.w3.org/XML/1998/namespace";function Kp(t,n,i,e){var r=t.Jn(i,n);return 0===r.length&&(r=t.Yn(e+":"+n)),r}function tk(t,n){return function(t,n){var i=t.ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.ti)}return e}(t,function(t){return t.Zn===n})}function nk(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ik(t,n){for(var i=t.oi,e={},r=0;r<i.length;r++)e[nk(i[r].Vn,n)]=i[r].qn;return e}var ek=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,rk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,sk="http://www.w3.org/ns/ttml";function uk(t,n,e){return void 0===e&&(e=ep),function(t,n,e){var r,s=[];try{r=i.Mn(t)}catch(t){return s}var u=r.ci;if("tt"!==u.zn)return s;var o=u&&u.Jn(sk,"head")[0],h=u&&u.Jn(sk,"body")[0],a=["ebutts","tts","xml"];if(!h||!o)return s;for(var c=function(t,n){for(var i={},e=t.Jn(sk,"styling")[0],r=e&&e.Jn(sk,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii($p,"id");i[o]=ik(u,n)}return i}(o,a),f=function(t,n){var i=Jw(t),e=ck(n.ni("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=ck(i[u].extent);if(o){var h=hk(o[0],e[0]),a=hk(o[1],e[1]);i[u].extent=h+" "+a}var c=ck(i[u].origin);if(c){var f=hk(c[0],e[0]),v=hk(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Jn(sk,"layout")[0],r=e&&e.Jn(sk,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii($p,"id");if(o){i[o]=ik(u,n);var h=dk(u,n);for(var a in h)M.call(h,a)&&(i[o][a]=h[a])}}return i}(o,a),u),v=o.Jn(sk,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(bt(n)){var c,f;s=null!=(c=vk(n.ni("begin"),r))?c:s,u=vk(n.ni("dur"),0),o=null!=(f=vk(n.ni("end"),r))?f:void 0!==u?s+u:o;for(var v=n.jn,d=0;d<v.length;d++)("body"===n.zn||"div"===n.zn)&&v[d].Cn>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Gw,s.Qw)}e.sort(jr);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(ns(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var w=fk(l[_],l[_+1],h);if(w.length<=0&&lk(n)){var g=n.Hn(!1);a.push(new Jp(l[_],l[_+1],g))}else w.length>0&&function(){var t=n.Hn(!1);w.forEach(function(n){return t.$n(n.Qb)}),a.push(new Jp(l[_],l[_+1],t))}()}return a}(h,e.Gy,e.Qy,e.Yy),_=0;_<d.length;_++){var w=d[_],g=ok(f,w);s.push(new Zp(w.Gw,w.Qw,w.Qb,!1,c,g,v))}return s}(t,0,e)}function ok(t,n){for(var i=function t(n){var i=[];var e;if(bt(n)){(e=n.ni("region"))&&i.push(e);for(var r=n.jn,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.Qb),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function hk(t,n){var i=ak(t),e=ak(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return y(r)||y(s)?t:r/s*100+"%"}return t}function ak(t){return Cr(t,"px")?"px":Cr(t,"em")?"em":Cr(t,"c")?"c":Cr(t,"%")?"%":void 0}function ck(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function fk(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Gw,u=i[r].Qw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function vk(t,n){if(t){if(ek.test(t)){var i=ek.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(rk.test(t)){var o=rk.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function dk(t,n){for(var i={},e=t.Yn("style")||[],r=0;r<e.length;r++){var s=ik(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function lk(t){if(bt(t)){var n=t.zn.toUpperCase(),i=Boolean(t.ni("smpte:backgroundImage"));return"BR"===n||i}return t.Cn===mt.Pn}function _k(t){var n=function(t){try{return i.Mn(t).ci}catch(t){}}(t);return"tt"===(null==n?void 0:n.zn)}var wk,gk=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Jd=function(n){return t.prototype.Jd.call(this,n)},i.$d=function(n){var i=t.prototype.$d.call(this,n);return i&&(n.El=dg.kl),i},i.Ed=function(){return pg(this)},n}(Xw),yk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Bp=new gk,n.Yb=function(t){var i=t.Id;n.jb(i)},n}S(n,t);var i=n.prototype;return i.Jd=function(t){t.Fr(Mw.Ud,this.Yb),this.Bp.Jd(t),this.jb(t)},i.$d=function(t){t.Wr(Mw.Ud,this.Yb),t.El=dg.kl,this.Bp.$d(t)},i.Zb=function(t){},i.Jb=function(t){},i.jb=function(t){t.El!==dg.kl?this.Zb(t):this.Jb(t)},i.$b=function(){for(var t=0,n=this.Bp.nl;t<n.length;t++){var i=n[t];i.Wr(Mw.Ud,this.Yb),i.ov()}},i.tl=function(){return this.$b(),this.Bp.tl(),ge.resolve()},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),t.next=3,tr.awrap(this.tl());case 3:this.Bp.ov();case 4:case"end":return t.stop()}},null,this,null,ge)},n}(Es);!function(t){t.zm="subtitles",t.Kb="captions",t.tA="descriptions",t.nA="chapters",t.Wm="metadata",t.iA="thumbnails"}(wk||(wk={}));var mk=[wk.zm,wk.Kb,wk.tA,wk.nA,wk.Wm,wk.iA];function pk(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&is(mk,t)}(n)?n:n?wk.Wm:wk.zm}var kk,bk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(Ya);function Ak(t){return t instanceof t_}function Tk(t){return Nr(t,kk.eA)}function Sk(t){return t.some(Ek)}function Ek(t){return Nr(t,kk.rA)||Nr(t,kk.bm)}function Ik(t,n){return Sa(t)&&Sk(n)}function Rk(t,n){return!!t&&(Sa(t)?function(t){return t.some(Tk)}(n)||Sk(n):Nr(t,Ta.APPLICATION_TTML_XML)||Nr(t,Ta.TEXT_VTT)||Nr(t,Ta.IMAGE_JPEG))}function Nk(t,n){return t===wk.iA||t===wk.Wm&&n===wk.iA}function Dk(t,n,i,e){for(var r=0,s=t.Dl.nl;r<s.length;r++){var u=s[r];if(u.Gw>i)break;n<=u.Qw&&e.push(u)}}function Ck(t,n){return Yr(t._l,n._l)}function xk(t,i){var e=i,r=0;if(Ak(t)&&t.name===Zl._v)e=t.Of.Lf;else if(t instanceof i_){var s=t.pv;if(e=s.Bf,0===(r=s.Nf))return new bk(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new bk(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Pk(t,i,e,r){var s=function(t){switch(t){case tm.WEBVTT:return"WebVTT";case tm.SRT:return"SRT";case tm.TTML:return"TTML";default:return""}}(t);return new bk(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Ok(t){return Ap(dp(t))?tm.WEBVTT:_k(t)?tm.TTML:tm.SRT}!function(t){t.rA="vtt",t.bm="wvtt",t.eA="stpp"}(kk||(kk={}));var Bk=function(t){function n(n){var i;return(i=t.call(this,lg.Tl)||this).errorObject=n,i}return S(n,t),n.prototype.Ed=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Bw),Lk=function(t){function n(n,i){var e;return(e=t.call(this)||this).sA=void 0,e.uA=void 0,e.oA=new as,e.sA=n,e.uA=i,e}S(n,t);var i=n.prototype;return i.hA=function(t){if(t.src){var n=t.kind||wk.zm,i=this.sA.aA(n,t.id,t.label,t.srclang,t.default);return i.xl=jl(t.src),this.Jd(i),i}},i.cA=function(t,n){var i,e,r,s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Nl=Ky.LOADING,i=new ql({Lf:t.xl,Cf:_c.Pn,Kf:Hl.GET,Pr:n}),v.prev=2,v.next=5,tr.awrap(this.uA.Of(i));case 5:return s=v.sent,r=s.Nf,v.next=9,tr.awrap(s.df());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),ds(v.t0),t.Nl=Ky.ERROR,t.Ur(new Bk(xk(v.t0,t.xl))),v.abrupt("return");case 18:for(v.prev=18,u=Ok(e),t.tr=u,o=[],u===tm.WEBVTT||u===tm.SRT?(h=vp(e),o=h.Dl):u===tm.TTML&&(o=uk(e)),a=0,c=o;a<c.length;a++)f=c[a],t.fA(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),ds(v.t1),t.Nl=Ky.ERROR,t.Ur(new Bk(Pk(t.tr,t.xl,r,v.t1))),v.abrupt("return");case 32:t.Nl=Ky.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],ge)},i.Zb=function(t){is(this.Bp.nl,t)&&t.Nl===Ky.NONE&&this.cA(t,this.oA.Pr).catch(ls)},i.Qo=function(){},i.tl=function(){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.oA.Dr(),this.oA=new as,n=0,i=this.Bp.nl;n<i.length;n++)e=i[n],this.sA.vA(e);return r.next=5,tr.awrap(t.prototype.tl.call(this));case 5:case"end":return r.stop()}},null,this,null,ge)},n}(yk);function Mk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n&&e.dA)return e}}function Uk(t,n){Fk(Mk(t.nl,n))}function Fk(t){void 0!==t&&(t.El=dg.Al)}function Hk(t,n){Fk(Mk(t.nl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n)return e}}(t.nl,n))}function zk(t){for(var n=0;n<mk.length;n++){var i=mk[n];i===wk.nA?Hk(t,i):Uk(t,i)}}var Vk,Wk=function(t){function n(){return t.call(this,lc.Ea)||this}return S(n,t),n}(Rs);!function(t){t[t.lA=0]="lA",t[t._A=1]="_A"}(Vk||(Vk={}));var Xk=t,qk=Xk.MediaSource,Gk=Xk.WebKitMediaSource,Qk=Xk.TextTrack,Yk=s&&s.createElement("video"),jk=(s&&s.documentElement.style,L.Mt&&L._n&&L.wn<=26),Zk=(L.Zt,!!p),Jk=!(!qk&&!Gk),$k=!!Qk,Kk=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.Qt,L.fn&&L.vn,Yk&&Yk.canPlayType&&(""!==Yk.canPlayType("application/vnd.apple.mpegURL")||L.Ht&&!L.fn&&L.zt>=4)),tb=Yk&&Yk.canPlayType&&""!==Yk.canPlayType("video/mp4")&&!jk,nb=Jk&&!L.dn&&!L.hn&&!L.un&&((qk||Gk).isTypeSupported?(qk||Gk).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Yk&&Yk.canPlayType&&""!==Yk.canPlayType('audio/mp4; codecs="mp4a.40.34"')),ib=Jk&&!L.dn&&(nb||((qk||Gk).isTypeSupported?(qk||Gk).isTypeSupported("audio/mpeg"):Yk&&Yk.canPlayType&&""!==Yk.canPlayType("audio/mpeg"))),eb=Jk&&!(L.cn&&L.Mt)&&((qk||Gk).isTypeSupported?(qk||Gk).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):tb),rb=(L.dn||L.hn||L.un,L.an),sb=rb&&!1,ub=!L.dn,ob=L.hn&&L.Ut&&L.Ft<=6.1,hb=Yk&&"onresize"in Yk;try{r&&r.top!==r.self}catch(t){!0}var ab=.001,cb=1e4,fb=3,vb=function(t){function n(n){var i;return(i=t.call(this,Zg.a_)||this).currentTime=n,i}return S(n,t),n}(Rs),db=function(t){function n(n){var i;return(i=t.call(this,Zg.c_)||this).currentTime=n,i}return S(n,t),n}(Rs),lb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).wA=Pg.t_,e.gA=!0,e.yA=!1,e.mA=!1,e.pA=function(t){var n=t.readyState;n!==e.wA&&e.Ur(t),n===Pg.t_&&(e.yA=!1,e.mA=!1),e.kA(n),e.bA(n),e.AA(n),e.maybeDispatchCanPlayThroughEvent(n),e.TA(n),e.SA(n),e.wA=n},e.EA=function(){e.SA(e.wA),e.TA(e.wA),e.gA=e.IA.w_},e.RA=function(){e.gA=e.IA.w_},e.IA=n,e.NA=i,e.IA.Fr(Zg.Hd,e.pA),e.IA.Fr(lc.ba,e.EA),e.IA.Fr(lc.ka,e.RA),e.NA&&e.IA.Fr(Zg.c_,e.Mr),e}S(n,t);var i=n.prototype;return i.kA=function(t){!this.mA&&t>=Pg.n_&&(this.mA=!0,this.Ur(new ey(this.IA.f_,t)))},i.bA=function(t){!this.yA&&t>=Pg.i_&&(this.yA=!0,this.Ur(new hy(this.IA.f_,t)))},i.TA=function(t){this.NA||(t>=Pg.e_&&this.wA<Pg.e_&&!this.IA.w_||this.DA&&t>=Pg.e_)&&this.Ur(new db(this.IA.f_))},i.SA=function(t){!this.CA(t)||this.IA.d_||this.IA.Kr||this.Ur(new vb(this.IA.f_))},i.AA=function(t){this.wA<=Pg.i_&&t>=Pg.e_&&this.Ur(new vy(this.IA.f_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Pg.r_&&this.Ur(new dy(this.IA.f_,t))},i.CA=function(t){var n=!this.IA.w_&&t<=Pg.i_,i=!this.gA&&this.wA<=Pg.i_;return n&&!i},i.tl=function(){this.wA=Pg.t_,this.gA=!0,this.yA=!1,this.mA=!1},i.ov=function(){this.Vr(),this.NA&&this.IA.Wr(Zg.c_,this.Mr),this.IA.Wr(lc.ba,this.EA),this.IA.Wr(lc.ka,this.RA),this.IA.Wr(Zg.Hd,this.pA)},A(n,[{key:"DA",get:function(){return!this.IA.w_&&this.gA}}]),n}(Es),_b="titanium",wb="conax",gb="ezdrm",yb="irdeto",mb="vudrm",pb="verimatrix",kb="keyos",bb="drmtoday",Ab="expressplay",Tb="azure",Sb="xstream",Eb="vimond",Ib="axinom",Rb="uplynk",Nb="comcast",Db="custom",Cb=function(){function t(t,n,i,e,r){this.ih=void 0,this.xA=void 0,this.PA=void 0,this.OA=void 0,this.uA=void 0,this.BA=void 0,this.LA=void 0,this.ih=t,this.xA=n,this.PA=i,this.uA=e,this.LA=r,this.OA=this.MA(n)}var e=t.prototype;return e.UA=function(){return this.BA},e.FA=function(t){this.BA=t},e.HA=function(){return this.OA.licenseAcquisitionURL||this.UA()},e.zA=function(t){return ge.resolve()},e.VA=function(t,n){return ge.resolve(void 0)},e.WA=function(t,i,e,r){var s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.XA(t,i,e,r)).Lf){o.next=3;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,tr.awrap(this.md.Of(s));case 6:return u=o.sent,o.next=9,tr.awrap(u.lf(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),ds(o.t0),o.next=17,tr.awrap(this.qA(o.t0,s.Lf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],ge)},e.XA=function(t,n,i,e){var r=this.GA().Wa(),s=this.rv,u={Lf:this.QA(),Cf:n,Df:r,yf:t,rv:s,Kf:Hl.POST,tv:0,Pr:e,tr:zl.zf,nv:i};return new ql(u)},e.YA=function(t,n){return ge.resolve(t)},e.jA=function(t,n,i,e){return ge.resolve(t)},e.GA=function(){return new wc(this.OA.headers||{})},e.qA=function(t,i,e){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,ge)},e.QA=function(t,n){var e=n,r=this.OA.queryParameters;if(!e){var s=this.HA();if(!s)return"";e=s}if(r||t){var u=i.De(e);t&&Yl(u,t),r&&Yl(u,r),e=u.href}return e},e.ZA=function(t){return function(t,n){var i=n.licenseResponseProcessor;return ge.resolve(new m(xb(t,i)))}(t,this.OA)},e.JA=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,tr.awrap(this.$A(t,i));case 2:return e=u.sent,u.next=5,tr.awrap(this.WA(e,this.LA,n,i));case 5:return r=u.sent,u.next=8,tr.awrap(this.ZA(r));case 8:return s=u.sent,u.abrupt("return",s);case 10:case"end":return u.stop()}},null,this,null,ge)},e.ov=function(){},A(t,[{key:"md",get:function(){return this.uA}},{key:"KA",get:function(){return!1}},{key:"tT",get:function(){var t=this.OA.certificate;if(t)return X(t)?Ws(t):qu(t)}},{key:"nT",get:function(){return!1}},{key:"rv",get:function(){return Boolean(this.OA.useCredentials)}}]),t}();function xb(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Pb(t,n){var i=Qu(t).buffer,e=n.licenseRequestProcessor;return ge.resolve(xb(i,e))}var Ob,Bb,Lb=function(t){function n(n,i,e,r){return t.call(this,Ar,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.MA=function(t){return t.widevine||{}},i.iT=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.tT){i.next=2;break}return i.abrupt("return",this.tT);case 2:return i.abrupt("return",this.eT(new m(t),n));case 3:case"end":return i.stop()}},null,this,null,ge)},i.eT=function(n,i){return t.prototype.JA.call(this,n,Vl.qf,i)},n}(Cb);function Mb(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Ub(t){return F(t.token&&t.deviceId)}function Fb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function Hb(t){var n=t;return Ub(n)&&""!==n.token&&""!==n.deviceId&&!Fb(n)}(Bb=Ob||(Ob={})).rT=!1,Bb.sT=!1,Bb.uT=!1,Bb.oT=!1,Bb.LOG_ADS_DETAILS=!1,Bb.LOG_CHROMECAST_DETAILS=!1,Bb.LOG_CUSTOM_DRM=!1,Bb.LOG_BUFFERING_VIDEO_MAIN=!1,Bb.LOG_BUFFERING_VIDEO_SELECTION=!1,Bb.LOG_BUFFERING_AUDIO_MAIN=!1,Bb.LOG_BUFFERING_AUDIO_SELECTION=!1,Bb.hT=!1,Bb.aT=!1;var zb,Vb=function(){function t(t,n,i){this.cT=t,this.Vo=n,this.fT=i}return t.prototype.vT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.fT.build(t))},A(t,[{key:"dT",get:function(){return this.cT}},{key:"ih",get:function(){return this.Vo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(zb||(zb={}));var Wb=function(){function t(){this.lT=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this._T(t,e,r)){case zb.FAILED:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case zb.OVERRIDDEN:var s=hA(e);i.we("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case zb.SUCCEEDED:hA(e);0}},e._T=function(t,n,i){var e=hA(n);if(!e)return zb.FAILED;for(var r=zb.SUCCEEDED,s=0,u=this.lT.slice();s<u.length;s++){var o=u[s];o.dT===t&&o.ih===e&&(r=zb.OVERRIDDEN,ts(this.lT,o))}return this.lT.push(new Vb(t,e,i)),r},e.wT=function(t,n){return void 0!==this.gT(t,n)},e.yT=function(t,n,i){var e=this.gT(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.vT(i)},e.gT=function(t,n){for(var i=0,e=this.lT;i<e.length;i++){var r=e[i];if(r.dT===t&&(!n||r.ih===n))return r}},t}();Wb.mT=new Wb;var Xb=["customdata"],qb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Gb(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function Qb(t){return t&&void 0!==t.licenseAcquisitionURL}var Yb,jb=Qb,Zb=Qb;function Jb(t){if(!t)return!0;if(nA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return Gb(n)&&Gb(i)&&Gb(e)&&Gb(r)&&Gb(s)}function $b(t){var n=Hb(t),i=function(t){var n,i=t;return Fb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Ub(i)}(t);return(!n||!i)&&(n||i)}function Kb(t){return t.integration===yb}function tA(t){var n=t;if(!n)return!1;if(Jb(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(nA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!jb(e))return!1;if(r&&!Zb(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Wb.mT.wT(n.integration))return!0;switch(n.integration){case _b:if(!function(t){return t.integration===_b&&(iA(t)||eA(t))}(t))return!1;break;case mb:if(!rA(t))return!1;break;case pb:if(!function(t){return t.integration===pb}(t))return!1;break;case yb:if(!Kb(t))return!1;break;case wb:if(!$b(t))return!1;break;case gb:if(!function(t){return t.integration===gb}(t))return!1;break;case kb:if(!nA(t))return!1;break;case bb:if(!function(t){var n=t;return n.integration===bb&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ab:if(!function(t){return t.integration===Ab}(t))return!1;break;case Sb:if(!sA(t))return!1;break;case Eb:if(!function(t){return t.integration===Eb}(t))return!1;break;case Ib:if(!uA(t))return!1;break;case Tb:if(!function(t){var n=t;return n.integration===Tb&&void 0!==n.token}(t))return!1;break;case Rb:if(!function(t){return t.integration===Rb}(t))return!1;break;case Nb:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case Db:return!0;default:return!1}}return!0}function nA(t){return t.integration===kb}function iA(t){return void 0!==t.authToken}function eA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function rA(t){var n=t;return n.integration===mb&&void 0!==n.token}function sA(t){var n=t;return n&&n.integration===Sb&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function uA(t){var n=t;return n.integration===Ib&&void 0!==n.token}function oA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:qb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=nr({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};c.customdata;return nr({},Mb(c,Xb),{licenseAcquisitionURL:u,headers:a})}function hA(t){switch(t.toLowerCase()){case"widevine":case yr:return yr;case"playready":case wr:return wr;case"fairplay":case pr:return pr}}function aA(t,i){switch(t){case dr:return function(t){for(var n={},i=Yp.Tp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Eb]=r.Nb}return n}(i);case lr:case _r:return function(t){var n;return(n={})[mr]=t,n}(i);default:throw new Ya(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ze="Widevine",t.je="PlayreadyV2",t.pT="PlayreadyV2",t.kT="PlayreadyV3",t.Je="Fairplay"}(Yb||(Yb={}));var cA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function fA(t,n){var e,r,s,u,o=cA[n],h=t.accountName;return{CustomerName:t.customerName,AccountName:h,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.xe)?void 0:e.Pe,OSVersion:null==(r=i.xe)?void 0:r.Fe,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.xe)?void 0:s.He,DeviceModel:null==(u=i.xe)?void 0:u.ze}}}function vA(t,i){if(!t.accountName)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function dA(t,n,i){var e;if(iA(t))e={AuthToken:t.authToken,Payload:n};else{if(!eA(t))throw vA(t,i);e={LatensRegistration:fA(t,i),Payload:n}}return Ks(JSON.stringify(e))}function lA(t,i,e){var r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=t.pv){h.next=3;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,h.prev=4,h.next=7,tr.awrap(s.vf(e));case 7:u=h.sent,o=_A(u),h.next=14;break;case 11:h.prev=11,h.t0=h.catch(4),o="";case 14:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Of.Lf,s.Nf,s.xf,o);case 15:case"end":return h.stop()}},null,null,[[4,11]],ge)}function _A(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var wA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,_c.za)||this).bT=void 0,r}S(e,t),e.AT=function(){return i.Pe.ie?"required":"optional"};var r=e.prototype;return r.qA=function(t,n,i){return lA(t,n,i)},r.zA=function(t){return this.bT?_s(this.bT.Ts,t):(this.bT=new Zu,ge.resolve())},r.$A=function(t,i){var e,r;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.xA){i.next=3;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=qs(t),i.abrupt("return",dA(e,r,Yb.Ze));case 5:case"end":return i.stop()}},null,this,null,ge)},r.ZA=function(t){var i;if(!t.license)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Ws(t.license),ge.resolve(i)},r.TT=function(t){return ge.resolve(new m(t))},r.iT=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.ST(),r.next=3,tr.awrap(this.$A(t,n));case 3:return i=r.sent,r.next=6,tr.awrap(this.WA(i,_c.Ha,Vl.Gf,n));case 6:return e=r.sent,r.next=9,tr.awrap(this.TT(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ge)},r.eT=function(n,i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(t.prototype.eT.call(this,n,i));case 2:return e=r.sent,this.ST(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,ge)},r.ST=function(){this.bT||(this.bT=new Zu),this.bT.Is()},r.ov=function(){this.bT&&this.bT.Dr(),t.prototype.ov.call(this)},e}(Lb),gA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,_c.Ha)||this).FA("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.$A=function(t,i){var e,r,s,u;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(Pb(t,this.OA));case 2:if(e=i.sent,r=this.PA,o=new m(e),s=[].slice.call(o),u=this.ET){i.next=8;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,ge)},A(i,[{key:"ET",get:function(){if(rA(this.xA))return this.xA.token}}]),i}(Lb);function yA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var mA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.Ha)||this).FA("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}S(n,t);var i=n.prototype;return i.$A=function(t,n){return Pb(t,this.OA)},i.QA=function(n,i){var e=n;return Kb(this.xA)&&(e=yA(this.xA,e)),t.prototype.QA.call(this,e,i)},n}(Lb),pA="Conax-Custom-Data";function kA(t,n,i){var e=t&&$b(t)&&t;if(e&&!i.has(pA)){var r=Hb(e)?e.token:void 0,s=Hb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(pA,u)}return i}var bA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.Ha)||this).FA("https://connect.conax.com:8094/license"),r}S(n,t);var i=n.prototype;return i.$A=function(t,n){return Pb(t,this.OA)},i.GA=function(){var n=t.prototype.GA.call(this);return kA(this.xA,"Widevine",n)},n}(Lb);function AA(t){var n=Pu(new m(t));return Ws(JSON.parse(n).license)}function TA(t){return"string"==typeof t.token?t.token:Ks(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function SA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var EA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,_c.Ha)||this).FA("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.$A=function(t,n){return Pb(t,this.OA)},i.ZA=function(t){return ge.resolve(AA(t))},i.GA=function(){return SA(t.prototype.GA.call(this),this.ET,this.xA)},A(n,[{key:"ET",get:function(){return TA(this.xA)}}]),n}(Lb),IA=function(t){function n(n,i,e){return t.call(this,n,i,e,_c.Ha)||this}S(n,t);var i=n.prototype;return i.$A=function(t,n){return Pb(t,this.OA)},i.GA=function(){var n=t.prototype.GA.call(this),i=this.xA.token;return n.set("Authorization","Bearer "+i),n},n}(Lb);function RA(t,i,e,r){var s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(sA(t)){v.next=2;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new wc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,h=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:h,streamId:o},c={Lf:t.ticketAcquisitionURL,Cf:_c.za,Df:s,Kf:Hl.POST,yf:JSON.stringify(a),Pr:r},v.next=13,tr.awrap(e.Of(c));case 13:return f=v.sent,v.next=16,tr.awrap(f.vf());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,ge)}var NA=function(t){function n(n,i,e){return t.call(this,n,i,e,_c.za)||this}S(n,t);var i=n.prototype;return i.GA=function(){var n=t.prototype.GA.call(this);return n.set("Content-Type","application/json"),n},i.$A=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=$s(t.buffer),e=this.xA,u.next=4,tr.awrap(RA(e,"widevine_modular",this.md,n));case 4:return r=u.sent,this.FA(r.licenseServerUrl),s=Ou(JSON.stringify({payload:i,ticket:r.ticket})),u.abrupt("return",Pb(s,this.OA));case 8:case"end":return u.stop()}},null,this,null,ge)},i.ZA=function(t){var n=t;return ge.resolve(Ws(n.license))},n}(Lb),DA=function(t){function i(n,i,e){return t.call(this,n,i,e,_c.Ha)||this}S(i,t);var e=i.prototype;return e.$A=function(t,n){return Pb(t,this.OA)},e.GA=function(){if(!uA(this.xA))throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.GA.call(this);return i.set("X-AxDRM-Message",this.xA.token),i},i}(Lb);function CA(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var xA=function(t){function n(n,i,e){var r;return(r=t.call(this,br,n,i,e,_c.Ha)||this).IT=void 0,r}S(n,t);var e=n.prototype;return e.MA=function(t){return t.playready||{}},e.GA=function(){var n=new wc(this.IT);return n.qa(t.prototype.GA.call(this)),n},e.RT=function(t){return t.length>=1&&t[0].jn.length>0},e.VA=function(n){var i=this.xA.playready.customData;if(i){var e=CA(i),r=CA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+qs(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ge.resolve({playready:{Nh:r}})}return t.prototype.VA.call(this,n)},e.$A=function(t,n){var i;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(Pb(t,this.OA));case 2:return i=n.sent,n.abrupt("return",this.NT(i));case 4:case"end":return n.stop()}},null,this,null,ge)},e.NT=function(t){var n,e,r,s,u,o,h,a,c,f,v,d,l,_,w,g;return tr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),h=Du(o,new Yu,!0),y.prev=3,a=i.Mn(h),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=a.Yn("PlayReadyKeyMessage")[0])?void 0:n.Yn("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Yn("Challenge"))?e:[],this.RT(f)&&(u=Js(f[0].hi)),v=new wc,d=null!=(r=null==c?void 0:null==(s=c.Yn("HttpHeaders")[0])?void 0:s.Yn("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],w=_.Yn("name")[0].hi,g=_.Yn("value")[0].hi,v.append(w,g);return this.IT=v,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],ge)},e.iT=function(t,n){return ge.resolve(t)},e.eT=function(n,i){return t.prototype.JA.call(this,n,Vl.Qf,i)},n}(Cb),PA=function(){function t(n){this.yo=void 0,this.DT=n,this.yo=t.CT(n)}return t.CT=function(t){return"3"===t.version?Yb.kT:Yb.pT},t.prototype.xT=function(){var t={};if(this.yo===Yb.kT){var n={LatensRegistration:fA(this.DT,Yb.kT)};t["X-TITANIUM-DRM-CDATA"]=Ks(JSON.stringify(n))}return t},A(t,[{key:"PT",get:function(){return this.yo}},{key:"_h",get:function(){return this.yo===Yb.pT}}]),t}();var OA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).OT=void 0,r.OT=new PA(r.xA),r}S(e,t);var r=e.prototype;return r.VA=function(t){var i=this.xA;if(!this.xA)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(eA(i)){var e={};return e.playready={Nh:BA(i,this.OT.PT)},ge.resolve(e)}return ge.reject(vA(i,Yb.je))},r.GA=function(){var n=new wc(this.OT.xT());return n.qa(t.prototype.GA.call(this)),n},r.qA=function(t,e,r){var s,u,o,h,a,c,f,v;return tr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.pv){d.next=3;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,tr.awrap(s._f(r));case 6:h=d.sent,a=Pu(new m(h)),(c=i.Mn(a))&&(f=tk(c,"CustomData")).length>0&&(u=JSON.parse(f[0].hi),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Nf,s.xf,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],ge)},r.RT=function(t){if(1!==t.length)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(xA);function BA(t,n){var i=fA(t,n),e=i.DeviceInfo.FormatVersion,r=Ks('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Lu(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Lu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+qs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var LA,MA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).FA("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.RT=function(t){if(1!==t.length)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.QA=function(n,i){var e=nr({},n||{},{token:this.ET});return t.prototype.QA.call(this,e,i)},A(i,[{key:"ET",get:function(){if(rA(this.xA))return this.xA.token}}]),i}(xA),UA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).FA("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.QA=function(n,i){var e=n;return Kb(this.xA)&&(e=yA(this.xA,e)),t.prototype.QA.call(this,e,i)},n}(xA),FA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).FA("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.GA=function(){var n=t.prototype.GA.call(this);return kA(this.xA,"PlayReady",n)},n}(xA),HA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).FA("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.ZA=function(n){return(Dr(Pu(new m(n)),"<?xml")?LA.BT:LA.vf)===LA.vf?ge.resolve(AA(n)):ge.resolve(t.prototype.ZA.call(this,new m(n)))},i.GA=function(){return SA(t.prototype.GA.call(this),this.ET,this.xA)},A(n,[{key:"ET",get:function(){return TA(this.xA)}}]),n}(xA);!function(t){t[t.BT=0]="BT",t[t.vf=1]="vf"}(LA||(LA={}));var zA,VA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).LT=void 0,r}S(n,t);var i=n.prototype;return i.GA=function(){var n=t.prototype.GA.call(this);return this.LT&&n.set("Ticket",this.LT),n.set("Content-Type","text/xml"),n},i.$A=function(n,i){var e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.xA,s.next=3,tr.awrap(RA(e,"playready",this.md,i));case 3:return r=s.sent,this.FA(r.licenseServerUrl),this.LT=r.ticket,s.abrupt("return",t.prototype.$A.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,ge)},n}(xA),WA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.GA=function(){if(!uA(this.xA))throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.GA.call(this);return i.set("X-AxDRM-Message",this.xA.token),i},i}(xA);!function(t){t.za="application/json",t.MT="application/x-www-form-urlencoded",t.UT="application/octet-stream",t.Pn="text/plain;charset=UTF-8"}(zA||(zA={}));var XA=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ih,i,e,r,s)||this).FT="",u.HT=void 0,u.zT=void 0,u.zT=n.VT,u}S(n,t);var i=n.prototype;return i.WT=function(){return this.OA.certificateURL||this.HT},i.XT=function(t){this.HT=t},i.$A=function(t){return ge.resolve(this.qT(t,this.FT))},i.qT=function(t,n){return"spc="+encodeURIComponent(qs(t))+"&assetId="+encodeURIComponent(n)},i.MA=function(t){return t.fairplay||{}},i.GT=function(t){var n=t.indexOf("?");if(n>=0)return ge.resolve(t.substr(n+1));var i=t.split("/");return ge.resolve(i[i.length-1])},i.VA=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.zT)?n:Uu(new m(t)),s.next=3,tr.awrap(this.GT(i));case 3:return e=s.sent,this.FT=e,(r={}).fairplay={Lh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,ge)},i.GA=function(){var n=t.prototype.GA.call(this);return n.set("Content-Type",this.QT),n},i.iT=function(t,n){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tT){t.next=2;break}return t.abrupt("return",this.tT);case 2:return t.next=4,tr.awrap(this.YT(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,ge)},i.eT=function(n,i){return t.prototype.JA.call(this,n,Vl.Wf,i)},i.jT=function(t){var n=this.WT(),i=this.GA(),e={Lf:n,Cf:_c.Ha,Df:i,Kf:Hl.GET,rv:!1,yf:null,tv:0,Pr:t,tr:zl.zf,nv:Vl.Xf};return new ql(e)},i.YT=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.jT(t),r.next=3,tr.awrap(this.md.Of(n));case 3:return i=r.sent,r.next=6,tr.awrap(i._f());case 6:return e=r.sent,r.abrupt("return",new m(e));case 8:case"end":return r.stop()}},null,this,null,ge)},i.ZA=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ws(i)}else n=new m(t);return ge.resolve(n)},i.QA=function(n,i){var e=t.prototype.QA.call(this,n,i);return Dr(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"nT",get:function(){return!0}},{key:"QT",get:function(){return zA.MT}}]),n}(Cb),qA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.Ha)||this}S(n,t);var i=n.prototype;return i.GT=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return ge.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return ge.resolve(i)},i.$A=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ge)},i.ZA=function(t){return ge.resolve(new m(t))},i.QA=function(n,i){var e=n||{};return e.p1=gt(),t.prototype.QA.call(this,e,i)},A(n,[{key:"QT",get:function(){return zA.UT}}]),n}(XA),GA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.Ha)||this).FA("https://fairplay-license.drm.technology/license"),s.XT("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.qT=function(t,n){var i={token:this.ET,contentId:n,payload:qs(t)};return JSON.stringify(i)},e.ZA=function(t){return ge.resolve(new m(t))},e.GA=function(){var n=t.prototype.GA.call(this);return n.set("x-vudrm-token",this.ET),n},A(i,[{key:"QT",get:function(){return zA.za}},{key:"ET",get:function(){if(!rA(this.xA))throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.xA.token}}]),i}(XA),QA="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",YA="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",jA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.Ha)||this}return S(i,t),i.prototype.ZA=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,QA)}if(!i)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,YA);return i}(Pu(new DataView(i)));return t.prototype.ZA.call(this,e)},i}(XA);var ZA=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.za)||this}S(i,t);var e=i.prototype;return e.$A=function(t){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.xA){r.next=3;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=qs(t),r.abrupt("return",dA(i,e,Yb.Je));case 5:case"end":return r.stop()}},null,this,null,ge)},e.ZA=function(t){try{var i;if(X(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Js(i.license);return ge.resolve(new m(r))}return ge.reject(new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return ge.reject(new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.qA=function(t,n,i){return lA(t,n,i)},A(i,[{key:"QT",get:function(){return zA.za}}]),i}(XA),JA=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.Ha)||this).FA("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.XT("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.WT=function(){var n=t.prototype.WT.call(this);if(!n)return n;var e=i.De(n),r=this.xA;return Kb(r)&&Yl(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.GT=function(n){return Kb(this.xA)?ge.resolve(this.xA.contentId):t.prototype.GT.call(this,n)},e.$A=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ge)},e.ZA=function(t){return ge.resolve(new m(t))},e.QA=function(n,i){var e=n;return Kb(this.xA)&&(e=function(t,n){return nr({},yA(t,n),{KeyId:t.keyId})}(this.xA,e)),t.prototype.QA.call(this,e,i)},A(n,[{key:"QT",get:function(){return zA.UT}}]),n}(XA),$A=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,_c.Pn)||this,!$b(e))throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.FA("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.GA=function(){var n=t.prototype.GA.call(this);return kA(this.xA,"FairPlay",n)},e.YT=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.WT(),i={Lf:n,Cf:_c.Ha,Df:{},Kf:Hl.GET,rv:!1,yf:null,tv:0,Pr:t,tr:zl.zf,nv:Vl.Xf},s.next=4,tr.awrap(this.md.Of(i));case 4:return e=s.sent,s.next=7,tr.awrap(e._f());case 7:return r=s.sent,s.abrupt("return",new m(r));case 9:case"end":return s.stop()}},null,this,null,ge)},e.$A=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ge)},e.GT=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),ge.resolve(Pu(Ws(n)))):ge.resolve("unknown")},e.ZA=function(t){try{var n=JSON.parse(t);return ge.resolve(new m(Js(n.CkcMessage)))}catch(t){return ge.reject("CFLRW-66")}},i}(XA),KA=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.Pn)||this).FA(qb[fr.Je]),s}S(i,t);var e=i.prototype;return e.GT=function(t){return Dr(t,"skd://")?ge.resolve(t.substring("skd://".length,40)):ge.reject(new Oy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.qT=function(t,n){return"spc="+qs(t)+"&assetId="+n},i}(XA),tT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.Pn)||this).FA("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.qT=function(t,n){var i="spc="+encodeURIComponent(qs(t))+"&"+encodeURI(n);return"persistent"===this.OA.licenseType?i+"&offline=true":i},i.GA=function(){return SA(t.prototype.GA.call(this),this.ET,this.xA)},A(n,[{key:"ET",get:function(){return TA(this.xA)}}]),n}(XA),nT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.Ha)||this}S(n,t);var e=n.prototype;return e.GT=function(t){var n=t;return Dr(n,"skd:")&&(n="http:"+n.substring(4)),Dr(n,"http:")||Dr(n,"https:")?ge.resolve(i.De(n).hostname):ge.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.$A=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ge)},e.ZA=function(t){return ge.resolve(new m(t))},A(n,[{key:"QT",get:function(){return zA.UT}}]),n}(XA),iT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,_c.Pn)||this}return S(n,t),n.prototype.GA=function(){var n=t.prototype.GA.call(this),i=this.xA.token;return n.set("Authorization","Bearer "+i),n},n}(XA),eT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,_c.za)||this,!sA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.YT=function(t){var n,i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.WT(),i=this.GA(),e={Lf:n,Cf:_c.za,Df:i,Kf:Hl.POST,Pr:t,tr:zl.zf,nv:Vl.Xf},u.next=5,tr.awrap(this.md.Of(e));case 5:return r=u.sent,u.next=8,tr.awrap(r.vf());case 8:return s=u.sent,u.abrupt("return",new m(Ws(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,ge)},i.eT=function(t,n,i){var e,r,s,u,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return void 0===i&&(i=_c.Pn),e=qs(t),r=this.xA,c.next=5,tr.awrap(RA(r,"fairplay",this.md,n));case 5:return s=c.sent,u=Ou(JSON.stringify({spc:e,ticket:s.ticket})),o={Lf:this.HA(),Cf:_c.za,Df:this.GA(),Kf:Hl.POST,yf:u,tv:0,Pr:n,tr:zl.zf,nv:Vl.Wf},c.next=10,tr.awrap(this.md.Of(o));case 10:return h=c.sent,c.next=13,tr.awrap(h.vf());case 13:return a=c.sent,c.abrupt("return",Ws(a.licence));case 15:case"end":return c.stop()}},null,this,null,ge)},A(n,[{key:"QT",get:function(){return zA.za}}]),n}(XA),rT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.Pn)||this}S(i,t);var e=i.prototype;return e.qT=function(t,n){return qs(t)},e.ZA=function(i){if(0===i.length)throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.ZA.call(this,i)},e.GA=function(){var n=t.prototype.GA.call(this);return n.set("Content-Type","text/plain"),n},i}(XA),sT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,_c.Ha)||this}S(i,t);var e=i.prototype;return e.qT=function(t,n){return t},e.ZA=function(t){return ge.resolve(new m(t))},e.GA=function(){if(!uA(this.xA))throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.GA.call(this);return i.set("X-AxDRM-Message",this.xA.token),i},A(i,[{key:"QT",get:function(){return zA.za}}]),i}(XA),uT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.za)||this).ZT=void 0,s}S(e,t);var r=e.prototype;return r.qT=function(t,n){var i={spc:qs(t)};return JSON.stringify(i)},r.GT=function(t){var e=i.De(t);return this.ZT=t,e.searchParams.has("b")?ge.resolve(e.searchParams.get("b")):ge.reject(new Oy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.QA=function(n,i){var e=this.HA();return!e&&this.ZT&&(e=this.ZT),e&&(e=e.replace("skd://","https://")),t.prototype.QA.call(this,n,i||e)},r.ZA=function(t){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=X(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",Ws(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],ge)},A(e,[{key:"QT",get:function(){return zA.Pn}}]),e}(XA),oT=function(){function t(t,n){this.JT=t,this.$T=n}var n=t.prototype;return n.KT=function(t){return this.JT(t)},n.tS=function(t,n){throw new d(n+" must be "+this.$T+". (Received: "+t+")")},t}(),hT=new oT(Y,"a number"),aT=new oT(X,"a string"),cT=new oT(q,"a boolean");var fT,vT=(fT={responseCode:hT,isException:cT,description:aT,title:aT,correlationId:aT},{KT:function(t){if(!V(t))return!1;for(var n=0,i=l.keys(fT);n<i.length;n++){var e=i[n];if(!fT[e].KT(t[e]))return!1}return!0},tS:function(t,n){if(!V(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(fT);i<e.length;i++){var r=e[i],s=fT[r];if(!s.KT(t[r]))return s.tS(t[r],n+"."+r)}throw new d}});function dT(t,n,i,e,r){var s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=lT(t,n,i,r),u.next=3,tr.awrap(_T(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,ge)}function lT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.De(t);return Yl(e,n),e.toString()}(e,s)),o=new wc({});o.append("Content-Type","application/json");var h=qs(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:h}};return{Lf:u,Cf:_c.Pn,Df:o,Kf:Hl.POST,yf:JSON.stringify(a),Pr:r,tr:zl.zf,nv:Vl.Wf}}function _T(t,i){var e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,tr.awrap(i.Of(t));case 2:return e=s.sent,s.next=5,tr.awrap(e.vf());case 5:if(r=s.sent,!vT.KT(r)){s.next=8;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Lf,r.responseCode);case 8:return s.abrupt("return",Ws(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,ge)}var wT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,_c.Ha)||this).nS=void 0,s.nS=i,s}S(n,t);var i=n.prototype;return i.GT=function(n){var i=n.replace("FairPlay",this.nS.releasePid);return t.prototype.GT.call(this,i)},i.eT=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(dT(t,this.nS,this.HA(),this.md,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,ge)},n}(XA),gT=function(t){function i(n,i,e){return t.call(this,Sr,n,i,e,_c.Ha)||this}S(i,t);var e=i.prototype;return e.MA=function(t){return t.clearkey||{}},e.$A=function(t,n){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Pb(t,this.OA));case 1:case"end":return n.stop()}},null,this,null,ge)},e.WA=function(i,e,r,s){var u,o;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.OA,!this.HA()){e.next=5;break}return e.abrupt("return",t.prototype.WA.call(this,i,this.LA,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Ou(JSON.stringify(o)).buffer);case 10:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,ge)},e.iT=function(t,n){return ge.resolve(new m(0))},e.eT=function(n,i){return t.prototype.JA.call(this,n,Vl.Yf,i)},i}(Cb),yT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.$A=function(t,n){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Pb(t,this.OA));case 1:case"end":return n.stop()}},null,this,null,ge)},n}(Lb),mT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function pT(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=NT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",ge.resolve(n));case 5:return u.next=8,tr.awrap(_s(ge.resolve(r.call(t,e)),i));case 8:if(!Xu(s=u.sent)){u.next=11;break}return u.abrupt("return",qu(s));case 11:return u.abrupt("return",RT(nr({},mT,s)));case 12:case"end":return u.stop()}},null,null,null,ge)}function kT(t,n,i,e,r){var s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=t.onCertificateResponse,u=IT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ge.resolve(n));case 5:return h.next=8,tr.awrap(_s(ge.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",qu(o));case 10:case"end":return h.stop()}},null,null,null,ge)}function bT(t,n,i,e){var r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,tr.awrap(TT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",RT(r));case 6:case"end":return s.stop()}},null,null,null,ge)}function AT(t,n,i,e,r,s){var u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return u=ET(i,r),h.next=3,tr.awrap(ST(t,new m(n),u,e,s));case 3:return o=h.sent,h.abrupt("return",qu(o).buffer);case 5:case"end":return h.stop()}},null,null,null,ge)}function TT(t,n,i,e){var r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=ET(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",ge.resolve(s));case 5:return o.next=8,tr.awrap(_s(ge.resolve(r.call(t,s)),e));case 8:if(!Xu(u=o.sent)){o.next=11;break}return o.abrupt("return",qu(u).buffer);case 11:return o.abrupt("return",nr({fairplaySkdUrl:void 0},mT,u));case 12:case"end":return o.stop()}},null,null,null,ge)}function ST(t,n,i,e,r){var s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=IT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ge.resolve(n));case 5:return h.next=8,tr.awrap(_s(ge.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",qu(o));case 10:case"end":return h.stop()}},null,null,null,ge)}function ET(t,n){return nr({},NT(t),{fairplaySkdUrl:n})}function IT(t,n,i){return{url:i.Bf,status:i.Nf,statusText:i.xf,headers:i.Df.Wa(),body:t,request:n}}function RT(t){return new ql({Lf:t.url,Kf:t.method,Df:t.headers,yf:t.body,rv:t.useCredentials})}function NT(t){var n;return{url:t.Lf,body:null!=(n=DT(t.yf))?n:null,headers:t.Df.Wa(),method:t.Kf,useCredentials:t.rv}}function DT(t){if(t)return"string"==typeof t?Ou(t):t instanceof ArrayBuffer?new m(t):Qs(t)?Wu(t):void 0}var CT,xT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).iS=void 0,s.iS=r,s}S(i,t);var e=i.prototype;return e.iT=function(t,n){return ge.resolve(t)},e.eT=function(t,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,tr.awrap(this.NT(Qu(t).buffer));case 2:return e=h.sent,r=this.XA(e,_c.Ha,Vl.Qf,i),h.next=6,tr.awrap(bT(this.iS,r,void 0,i));case 6:if(!((s=h.sent)instanceof ArrayBuffer)){h.next=10;break}return h.abrupt("return",new m(s));case 10:if(""!==s.Lf){h.next=12;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return h.prev=12,h.next=15,tr.awrap(this.md.Of(s));case 15:return u=h.sent,h.next=18,tr.awrap(u._f(i));case 18:return o=h.sent,h.t0=m,h.next=22,tr.awrap(AT(this.iS,o,r,u,void 0,i));case 22:return h.t1=h.sent,h.abrupt("return",new h.t0(h.t1));case 26:throw h.prev=26,h.t2=h.catch(12),ds(h.t2),new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",h.t2);case 30:case"end":return h.stop()}},null,this,[[12,26]],ge)},i}(xA),PT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,_c.Ha)||this).iS=void 0,s.iS=r,s}S(i,t);var e=i.prototype;return e.iT=function(t,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.tT){h.next=2;break}return h.abrupt("return",this.tT);case 2:return e=this.XA(t,_c.Ha,Vl.Gf,i),h.next=5,tr.awrap(pT(this.iS,e,i));case 5:if(!((r=h.sent)instanceof m)){h.next=9;break}return h.abrupt("return",r);case 9:if(""!==r.Lf){h.next=11;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return h.prev=11,h.next=14,tr.awrap(this.md.Of(r));case 14:return s=h.sent,h.next=17,tr.awrap(s._f(i));case 17:u=h.sent,h.next=24;break;case 20:throw h.prev=20,h.t0=h.catch(11),ds(h.t0),new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",h.t0);case 24:return o=ET(e,void 0),h.next=27,tr.awrap(kT(this.iS,new m(u),o,s,i));case 27:return h.abrupt("return",h.sent);case 28:case"end":return h.stop()}},null,this,[[11,20]],ge)},e.eT=function(t,i){var e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.XA(t,_c.Ha,Vl.qf,i),o.next=3,tr.awrap(bT(this.iS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.Lf){o.next=9;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,tr.awrap(this.md.Of(r));case 12:return s=o.sent,o.next=15,tr.awrap(s._f(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),ds(o.t0),new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=m,o.next=25,tr.awrap(AT(this.iS,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],ge)},i}(yT),OT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,_c.Ha)||this).iS=void 0,u.eS=void 0,u.iS=s,u}S(i,t);var e=i.prototype;return e.iT=function(t,i){var e,r,s,u,o;return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.tT){t.next=2;break}return t.abrupt("return",this.tT);case 2:return e=this.jT(i),t.next=5,tr.awrap(pT(this.iS,e,i));case 5:if(r=t.sent,!Qs(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,tr.awrap(this.md.Of(r));case 11:return s=t.sent,t.next=14,tr.awrap(s._f());case 14:return u=t.sent,o=ET(e,void 0),t.next=18,tr.awrap(kT(this.iS,new m(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ds(t.t0),new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],ge)},e.eT=function(t,i){var e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.XA(t,_c.Ha,Vl.Wf,i),o.next=3,tr.awrap(bT(this.iS,e,this.eS,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.Lf){o.next=9;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,tr.awrap(this.md.Of(r));case 12:return s=o.sent,o.next=15,tr.awrap(s._f(i));case 15:return u=o.sent,o.t0=m,o.next=19,tr.awrap(AT(this.iS,u,e,s,this.eS,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),ds(o.t2),new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],ge)},e.GT=function(n){var i;return this.eS=n,null!=(i=this.iS)&&i.extractFairplayContentId?ge.resolve(this.iS.extractFairplayContentId(n)):t.prototype.GT.call(this,n)},i}(XA),BT=function(){function t(){}var n=t.prototype;return n.rS=function(t,n,i,e){switch(t.ih.tr){case fr.Ze:return this.sS(n,i,e);case fr.je:return this.uS(n,i,e);case fr.Je:return this.oS(t,n,i,e);case fr.$e:default:return this.hS(n,i,e)}},n.sS=function(t,n,i){var e,r=(e=t).integration===Db&&X(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Wb.mT.wT(r,yr)){var s=Wb.mT.yT(r,yr,t);return new PT(t,n,i,s)}switch(r){case _b:return new wA(t,n,i);case mb:return new gA(t,n,i);case yb:return new mA(t,n,i);case wb:return new bA(t,n,i);case bb:return new EA(t,n,i);case Tb:return new IA(t,n,i);case Sb:return new NA(t,n,i);case Ib:return new DA(t,n,i);case kb:default:return new yT(t,n,i,_c.Ha)}},n.uS=function(t,n,i){var e=t.integration;if(e&&Wb.mT.wT(e,wr)){var r=Wb.mT.yT(e,wr,t);return new xT(t,n,i,r)}switch(e){case _b:return new OA(t,n,i);case mb:return new MA(t,n,i);case yb:return new UA(t,n,i);case wb:return new FA(t,n,i);case bb:return new HA(t,n,i);case Sb:return new VA(t,n,i);case Ib:return new WA(t,n,i);case kb:default:return new xA(t,n,i)}},n.oS=function(t,n,i,e){var r=n.integration;if(r&&Wb.mT.wT(r,pr)){var s=Wb.mT.yT(r,pr,n);return new OT(t,n,i,e,s)}switch(r){case gb:return new qA(t,n,i,e);case mb:return new GA(t,n,i,e);case pb:return new jA(t,n,i,e);case _b:return new ZA(t,n,i,e);case yb:return new JA(t,n,i,e);case wb:return new $A(t,n,i,e);case kb:return new KA(t,n,i,e);case bb:return new tT(t,n,i,e);case Ab:return new nT(t,n,i,e);case Tb:return new iT(t,n,i,e);case Sb:return new eT(t,n,i,e);case Eb:return new rT(t,n,i,e);case Ib:return new sT(t,n,i,e);case Rb:return new uT(t,n,i,e);case Nb:return new wT(t,n,i,e);default:return new XA(t,n,i,e,_c.Pn)}},n.hS=function(t,n,i){return new gT(t,n,i)},n.aS=function(t){return t.tr===fr.je||t.tr===fr.Ze||t.tr===fr.Je||t.tr===fr.$e},n._h=function(t,n){var i;if(t.tr!==fr.je)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Wb.mT.wT(e,pr))&&(e===_b&&new PA(n)._h)},n.AT=function(t,n){if(t.tr===fr.Ze){var i=n.integration;if(!i||!Wb.mT.wT(i,pr))return i===_b?wA.AT():void 0}},t}();!function(t){t[t.cS=0]="cS",t[t.fS=1]="fS",t[t.vS=2]="vS",t[t.dS=3]="dS",t[t.Ql=4]="Ql",t[t.lS=5]="lS",t[t.Kl=6]="Kl",t[t._S=7]="_S",t[t.wS=8]="wS"}(CT||(CT={}));var LT,MT=function(){function t(){}return t.prototype.gS=function(t){},A(t,[{key:"yS",get:function(){return 0}},{key:"mS",get:function(){return 0}}]),t}(),UT=function(){function t(t,n){void 0===n&&(n=new BT),this.uA=void 0,this.pS=void 0,this.DT=void 0,this.uA=t,this.pS=n}var n=t.prototype;return n.kS=function(t){this.DT=t},n.AT=function(t){var n=this.DT;if(void 0!==n)return this.pS.AT(t,n)},n._h=function(t){var n=this.DT;return void 0!==n&&this.pS._h(t,n)},n.bS=function(t){var n={ih:t.ih,AS:t.AS||[],VT:t.VT},i=this.pS.rS(n,this.DT||{},t.PA,this.uA);return new FT(i)},t}(),FT=function(){function t(t){this.TS=void 0,this.TS=t}var n=t.prototype;return n.zA=function(t){return this.TS.zA(t)},n.VA=function(t,n,i){return this.TS.VA(n,i)},n.nT=function(){return this.TS.nT||void 0!==this.TS.tT},n.iT=function(t,n){return this.TS.iT(t,n)},n.eT=function(t,n,i){return n&&this.TS.FA(n),this.TS.eT(t,i)},n.Tr=function(){this.TS.ov()},t}(),HT=function(t){function n(n){var i;(i=t.call(this)||this).SS=[],i.ES=function(t){i.Jd(t.Id)},i.IS=function(t){var n=t.Id;i.RS(n)||i.$d(n)};for(var e=0;e<n.length;e++){var r=n[e];i.NS(r)}return i}S(n,t);var i=n.prototype;return i.NS=function(t){this.SS.push(t);for(var n=0,i=t.nl;n<i.length;n++){var e=i[n];this.Jd(e)}this.DS(t)},i.CS=function(t){ts(this.SS,t),this.xS(t);for(var n=0,i=t.nl;n<i.length;n++){var e=i[n];this.RS(e)||this.$d(e)}},i.RS=function(t){for(var n=0,i=this.SS;n<i.length;n++){if(i[n].Kd(t))return!0}return!1},i.DS=function(t){t.Fr(Pw.pd,this.ES),t.Fr(Pw.bd,this.IS)},i.xS=function(t){t.Wr(Pw.pd,this.ES),t.Wr(Pw.bd,this.IS)},i.ov=function(){for(;this.SS.length>0;)this.CS(this.SS[0]);t.prototype.ov.call(this)},i.Ed=function(){return pg(this)},n}(Xw);function zT(){return LT||(LT=Hi&&Hi.document&&Hi.document.createElement("video")),LT}var VT=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new BT),void 0===o&&(o=hc()),(h=t.call(this)||this).PS=void 0,h.OS=void 0,h.LS=void 0,h.O_=void 0,h.B_=void 0,h.L_=void 0,h.MS=void 0,h.US=void 0,h.FS=void 0,h.HS=void 0,h.zS=void 0,h.uA=void 0,h.ur=void 0,h.VS=void 0,h.WS=void 0,h.XS=new MT,h.qS=function(t){var n=t.Kr,i=n.code,e=new Ya(Uy(i),"Something went wrong during native playback.",n),r=new By(i,e.message,n.message);h.GS(e,r)},h.QS=function(){h.Ur(new uy(h.f_,h.dw))},h.YS=function(t){h.w_||(h.WS=void 0),h.Ur(t)},h.jS=function(t){h.WS=void 0,h.Ur(t)},h.ZS=function(){h.Ur(new em(h._w))},h.JS=function(){h.p_>0&&h.m_>0&&h.Ur(new Wk)},h.$S=function(t){h.O_.Jd(new Jy(t.track))},h.KS=function(t){var n=XT(h.O_,t.track);n&&h.O_.$d(n)},h.tE=function(){h.nE(h.O_)},h.iE=function(t){h.B_.Jd(new im(t.track))},h.eE=function(t){var n=XT(h.B_,t.track);n&&h.B_.$d(n)},h.rE=function(){h.nE(h.B_)},h.sE=function(t){h.Ur(t),h.GS(t.errorObject,My(t.errorObject))},h.PS=i,h.uA=e,h.ur=o,h.OS=h.PS.uE(Fy.Jf),h.FS=h.OS.oE.preload,h.HS=new lb(h.OS,!0),h.HS.Fr(iy,h.Mr),h.VS=new UT(e,u),h.OS.hE=h.VS,h.aE(),h.O_=new Hy,h.B_=new Hy,h.cE(),h.zS=new Lk(h.OS,h.uA),h.L_=new HT([h.OS.V_]),h.iw(),h}S(n,t);var i=n.prototype;return i.ew=function(){this.OS.ew()},i.iw=function(){this.OS.iw()},i.Y_=function(t,n,i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return vs(i),e={tr:Vk.lA,xl:t.src,gf:t.type,fE:this.vE(t),Tw:this.FS,dE:t.crossOrigin,lE:n.metadata&&n.metadata.title},this.VS.kS(t.contentProtection),r.next=5,tr.awrap(this.OS.Qo(e));case 5:this.LS=r.sent,vs(i),n.textTracks&&this._E(n.textTracks),zk(this.V_);case 9:case"end":return r.stop()}},null,this,null,ge)},i._E=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.OS.wE()&&L.Qt&&$k&&!Nk(i.kind,i.label)&&this.gE(i)){var e,r=null!=(e=i.kind)?e:wk.zm;this.OS.yE(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.zS.hA(i)}}},i.gE=function(t){return!t.format||"webvtt"===t.format},i.X_=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tr.awrap(this.OS.X_());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.mE){t.next=12;break}return t.next=10,tr.awrap(this.OS.Qr(lc.Aa));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],ge)},i.q_=function(){this.OS.q_()},i.j_=function(){return void 0!==this.OS.oE.webkitShowPlaybackTargetPicker},i.Z_=function(){this.OS.oE.webkitShowPlaybackTargetPicker&&this.OS.oE.webkitShowPlaybackTargetPicker()},i.J_=function(){this.OS.oE.webkitShowPlaybackTargetPicker&&this.OS.oE.webkitShowPlaybackTargetPicker()},i.rw=function(){return this.OS.oE},i.sw=function(){return this.OS.pE},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.MS=void 0,this.US=void 0,this.LS=void 0,t.next=5,tr.awrap(this.zS.tl());case 5:return this.OS.kE(),t.next=8,tr.awrap(this.OS.tl());case 8:this.HS.tl(),this.Tw=this.FS,this.H_.tl(),this.z_.tl(),this.WS=void 0;case 13:case"end":return t.stop()}},null,this,null,ge)},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.tl());case 2:return this.Vr(),this.bE(),this.AE(),this.HS.ov(),this.OS.hE=void 0,t.next=9,tr.awrap(this.PS.TE(this.OS));case 9:return this.O_.ov(),this.B_.ov(),this.L_.ov(),t.next=14,tr.awrap(this.zS.ov());case 14:case"end":return t.stop()}},null,this,null,ge)},i.aE=function(){this.OS.Fr(lc.ba,this.Mr),this.OS.Fr(lc.ka,this.Mr),this.OS.Fr(lc.Ba,this.QS),this.OS.Fr(lc.Aa,this.Mr),this.OS.Fr(lc.wa,this.Mr),this.OS.Fr(lc.Ra,this.Mr),this.OS.Fr(lc.Ia,this.YS),this.OS.Fr(lc.da,this.Mr),this.OS.Fr(lc.Ta,this.Mr),this.OS.Fr(lc.La,this.Mr),this.OS.Fr(lc.fa,this.Mr),this.OS.Fr(lc.Ea,this.JS),this.OS.Fr(Zg.c_,this.jS),this.OS.Fr(lg.Tl,this.qS),this.OS.Fr(lc.ha,this.Mr),this.OS.Fr(lc.oa,this.sE),this.OS.oE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ZS)},i.bE=function(){this.OS.Wr(lc.ba,this.Mr),this.OS.Wr(lc.ka,this.Mr),this.OS.Wr(lc.Ba,this.QS),this.OS.Wr(lc.Aa,this.Mr),this.OS.Wr(lc.wa,this.Mr),this.OS.Wr(lc.Ra,this.Mr),this.OS.Wr(lc.Ia,this.YS),this.OS.Wr(lc.da,this.Mr),this.OS.Wr(lc.Ta,this.Mr),this.OS.Wr(lc.La,this.Mr),this.OS.Wr(lc.fa,this.Mr),this.OS.Wr(lc.Ea,this.JS),this.OS.Wr(Zg.c_,this.jS),this.OS.Wr(lg.Tl,this.qS),this.OS.Wr(lc.ha,this.Mr),this.OS.Wr(lc.oa,this.sE),this.OS.oE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ZS)},i.vE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ih:Tr,SE:[{initDataTypes:[Tr.ir],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.cE=function(){var t=this.OS.oE.audioTracks,n=this.OS.oE.videoTracks;t&&(t.addEventListener("addtrack",this.$S),t.addEventListener("removetrack",this.KS),t.addEventListener("change",this.tE)),n&&(n.addEventListener("addtrack",this.iE),n.addEventListener("removetrack",this.eE),n.addEventListener("change",this.rE))},i.AE=function(){var t=this.OS.oE.audioTracks,n=this.OS.oE.videoTracks;t&&(t.removeEventListener("addtrack",this.$S),t.removeEventListener("removetrack",this.KS),t.removeEventListener("change",this.tE)),n&&(n.removeEventListener("addtrack",this.iE),n.removeEventListener("removetrack",this.eE),n.removeEventListener("change",this.rE))},i.nE=function(t){for(var n=0;n<t.il;n++){t.Zd(n).Ow()}},i.fw=function(){this.OS.fw()},i.GS=function(t,n){this.MS||(this.MS=n,this.US=t,this.Ur(new _y(t)))},A(n,[{key:"mE",get:function(){var t=this.OS.vw,n=this.f_;return t.EE(n,.01)}},{key:"H_",get:function(){return this.O_}},{key:"vw",get:function(){return this.OS.vw.IE()}},{key:"dw",get:function(){return this.OS.dw},set:function(t){t&&this.OS.RE(t)}},{key:"f_",get:function(){return void 0!==this.WS?this.WS:this.OS.f_},set:function(t){this._w&&(this.WS=t),this.OS.gs(t)}},{key:"v_",get:function(){return this.OS.v_}},{key:"d_",get:function(){return this.OS.d_}},{key:"Kr",get:function(){return this.MS}},{key:"l_",get:function(){return this.US}},{key:"W_",get:function(){}},{key:"_w",get:function(){return this.OS._w}},{key:"R_",get:function(){return nr({},{ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.OS.NE())}},{key:"__",get:function(){return this.OS.__},set:function(t){this.OS.__=t}},{key:"bw",get:function(){return!0}},{key:"w_",get:function(){return this.OS.w_}},{key:"g_",get:function(){return this.OS.g_},set:function(t){this.OS.g_=t}},{key:"Aw",get:function(){return this.OS.oE.played}},{key:"Tw",get:function(){return this.FS},set:function(t){this.FS=t,this.LS&&(this.LS.Tw=t)}},{key:"Nl",get:function(){return this.OS.Nl}},{key:"Sw",get:function(){return this.OS.Sw.IE()}},{key:"y_",get:function(){return this.OS.y_}},{key:"DE",get:function(){return this.OS.DE}},{key:"V_",get:function(){return this.L_}},{key:"z_",get:function(){return this.B_}},{key:"m_",get:function(){return this.OS.m_}},{key:"p_",get:function(){return this.OS.p_}},{key:"k_",get:function(){return this.OS.k_},set:function(t){this.OS.k_=t}},{key:"Ew",get:function(){return this.OS.Ew},set:function(t){this.OS.Ew=t}},{key:"CE",get:function(){return this.XS}}]),n}(Ag);var WT=function(){function t(){this.xE=CT.wS}var n=t.prototype;return n.vT=function(t,n,i,e,r,s){return new VT(t,n,i,e,r)},n.PE=function(t,n){return function(t){return!t.type||!(!zT().canPlayType||!zT().canPlayType(t.type))}(t)},n.OE=function(){return!1},t}();function XT(t,n){for(var i=0,e=t.nl;i<e.length;i++){var r=e[i];if(r.Mw===n)return r}}var qT=function(){function t(){this.BE=new WT,this.LE=[]}t.ME=function(){return this.In};var n=t.prototype;return n.UE=function(t){this.LE.push(t)},n.vT=function(t,n,i,e,r,s){for(var u=this.BE.vT(t,n,i,e,r,s),o=0,h=this.LE;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.PE=function(t,n){return this.BE.PE(t,n)},n.OE=function(){return!1},A(t,[{key:"xE",get:function(){return this.BE.xE}}]),t}();function GT(t,n){return Yr(t.xE,n.xE)}function QT(t){YT.In.FE(t)}qT.In=new qT;var YT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).HE=qT.ME(),n}S(n,t);var i=n.prototype;return i.zE=function(t){this.HE=t},i.VE=function(){return this.HE},i.WE=function(t,n){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=0;case 1:if(!(i<t.length)){h.next=11;break}return e=t[i],h.next=5,tr.awrap(this.XE(e,n));case 5:if(!(r=h.sent)){h.next=8;break}return h.abrupt("return",{qE:e,GE:r});case 8:i++,h.next=1;break;case 11:s=this.HE,u=0;case 13:if(!(u<t.length)){h.next=20;break}if(o=t[u],!s.PE(o,n)){h.next=17;break}return h.abrupt("return",{qE:o,GE:s});case 17:u++,h.next=13;break;case 20:return h.abrupt("return",{qE:t[0],GE:s});case 21:case"end":return h.stop()}},null,this,null,ge)},n}(function(){function t(){this.QE=[]}var n=t.prototype;return n.FE=function(t){this.QE.push(t),this.QE.sort(GT)},n.XE=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.QE;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!G(s=r.PE(t,n))){u.next=10;break}return u.next=7,tr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,ge)},t}());YT.In=new YT;var jT,ZT=function(){function t(t){this.YE=void 0,this.YE=Hi&&Hi.document&&Hi.document.createElement("div"),De(this.YE),t.appendChild(this.YE)}return t.prototype.ov=function(){Ee(this.YE)},t}();function JT(t){switch(t){case jT.jE:case"":return jT.jE;case jT.Wm:return jT.Wm;case jT.ZE:default:return jT.ZE}}!function(t){t.wS="",t.ZE="none",t.Wm="metadata",t.jE="auto"}(jT||(jT={}));var $T=[lg.Tl,lc.va,lc.ts,lc.Fa,lc.ea,lc.la,lc.ma,lc.pa,lc.Da,lc.xa,Zg.s_,Zg.u_,Zg.o_,Zg.h_,Zg.Hd,Zg.a_,Zg.c_,lc.oa,lc.ha,lc.fa,lc.da,lc.wa,lc.ga,lc.ba,lc.Aa,lc.ka,lc.Ta,lc.Ea,lc.Ra,lc.Ia,lc.Ba,lc.La,lc.Sa,lc.ya,lc.Na],KT=function(t){function n(n,i){var e;return(e=t.call(this)||this).JE=void 0,e.$E=void 0,e.KE=void 0,e.tI=void 0,e.FS=jT.ZE,e.nI=void 0,e.iI=!0,e.O_=new _g,e.B_=new _g,e.L_=new bg,e.M_=new xy,e.JE=n,e.KE=i,e.KE.Tw=e.Tw,e.eI(),e}S(n,t);var i=n.prototype;return i.q_=function(){this.KE.q_()},i.X_=function(){var t=this.KE.X_();G(t)&&ps(t)},i.G_=function(){return this.Y_(void 0)},i.K_=function(){},i.ow=function(t){return!1},i.eI=function(){this.O_.cl=this.KE.H_,this.B_.cl=this.KE.z_,this.L_.cl=this.KE.V_,this.M_.cl=this.KE.W_,this.KE.Fr($T,this.Mr)},i.rI=function(){this.KE.Wr($T,this.Mr),this.O_.cl=void 0,this.B_.cl=void 0,this.L_.cl=void 0,this.M_.cl=void 0},i.Q_=function(){return this.nI},i.Y_=function(t,n){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(vs(n),this.nI=t,t){h.next=4;break}return h.abrupt("return");case 4:if(!Xg(i=t.sources.filter(jg))){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,tr.awrap(this.JE.WE(i,t));case 9:if(e=h.sent,vs(n),r=e.qE,s=e.GE,u=this.sw(),o=yy(this),this.$E===s&&!this.Kr){h.next=25;break}return this.rI(),h.next=19,tr.awrap(this.KE.ov());case 19:vs(n),this.$E=s,this.KE=this.sI(s),tS(this.KE,o),my(this,o,this),this.eI();case 25:return this.KE.Tw=this.Tw,this.iI?this.KE.iw():this.KE.ew(),h.next=29,tr.awrap(this.KE.Y_(r,t,n));case 29:vs(n),this.uI(r),this.sw()!==u&&this.Ur(new Sg);case 32:case"end":return h.stop()}},null,this,null,ge)},i.uI=function(t){this.tI!==t&&(this.tI=t,this.Ur(new Eg(t)))},i.j_=function(){return this.KE.j_()},i.Z_=function(){this.KE.Z_()},i.J_=function(){this.KE.J_()},i.sw=function(){return this.KE.sw()},i.fw=function(){this.KE.fw()},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nI=void 0,this.uI(void 0),t.next=4,tr.awrap(this.KE.tl());case 4:case"end":return t.stop()}},null,this,null,ge)},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),t.next=3,tr.awrap(this.tl());case 3:return t.next=5,tr.awrap(this.KE.ov());case 5:this.O_.ov(),this.B_.ov(),this.L_.ov(),this.M_.ov();case 9:case"end":return t.stop()}},null,this,null,ge)},i.iw=function(){this.iI=!0,this.KE.iw()},i.ew=function(){this.iI=!1,this.KE.ew()},A(n,[{key:"H_",get:function(){return this.O_}},{key:"vw",get:function(){return this.KE.vw}},{key:"Kr",get:function(){return this.KE.Kr}},{key:"l_",get:function(){return this.KE.l_}},{key:"dw",get:function(){return this.KE.dw},set:function(t){this.KE.dw=t}},{key:"cw",get:function(){return this.tI}},{key:"f_",get:function(){return this.KE.f_},set:function(t){this.KE.f_=t}},{key:"v_",get:function(){return this.KE.v_}},{key:"d_",get:function(){return this.KE.d_}},{key:"W_",get:function(){return this.M_}},{key:"_w",get:function(){return this.KE._w}},{key:"R_",get:function(){return this.KE.R_}},{key:"__",get:function(){return this.KE.__},set:function(t){this.KE.__=t}},{key:"bw",get:function(){return this.KE.bw}},{key:"w_",get:function(){return this.KE.w_}},{key:"g_",get:function(){return this.KE.g_},set:function(t){this.KE.g_=t}},{key:"Aw",get:function(){return this.KE.Aw}},{key:"Tw",get:function(){return this.FS},set:function(t){this.FS=t,this.KE&&(this.KE.Tw=this.FS)}},{key:"Nl",get:function(){return this.KE.Nl}},{key:"Sw",get:function(){return this.KE.Sw}},{key:"y_",get:function(){return this.KE.y_}},{key:"V_",get:function(){return this.L_}},{key:"m_",get:function(){return this.KE.m_}},{key:"z_",get:function(){return this.B_}},{key:"p_",get:function(){return this.KE.p_}},{key:"k_",get:function(){return this.KE.k_},set:function(t){this.KE.k_=t}},{key:"CE",get:function(){return this.KE.CE}}]),n}(Es);function tS(t,n){t.__!==n.__&&(t.__=n.__),t.k_!==n.k_&&(t.k_=n.k_),t.g_!==n.g_&&(t.g_=n.g_)}var nS,iS=function(t){function n(n,i){var e;return(e=t.call(this)||this).il=void 0,e.oI=void 0,e.hI=void 0,e.il=n.length>>1,e.oI=n,e.hI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.il),e}S(n,t);var i=n.prototype;return i.aI=function(t){return this.oI[2*t]},i.cI=function(t){return this.hI[2*t]},i.fI=function(t){return this.oI[2*t+1]},i.vI=function(t){return this.hI[2*t+1]},A(n,[{key:"dI",get:function(){return this.oI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.cg=function(t,n){return 0===this.Ag(t,n)},n.Jg=function(t,n){return this.Ag(t,n)>0},n.$g=function(t,n){return this.Ag(t,n)>=0},n.Rg=function(t,n){return this.Ag(t,n)<0},n.Eg=function(t,n){return this.Ag(t,n)<=0},n.ky=function(t,n){return this.Rg(t,n)?t:n},n.py=function(t,n){return this.Jg(t,n)?t:n},n.lI=function(t,n,i){return i?this.Eg(t,n):this.Rg(t,n)},n.IE=function(){var t=this;return{get length(){return t.il},start:function(n){var i=0|n;return t._I(i),t.wI(t.aI(i))},end:function(n){var i=0|n;return t._I(i),t.wI(t.fI(i))}}},n.gI=function(){for(var t=new Array(2*this.il),n=new Array(2*this.il),i=0;i<this.il;i++)t[2*i]=this.aI(i),t[2*i+1]=this.fI(i),n[2*i]=!0,n[2*i+1]=!0;return this.yI(t,n)},n._I=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.il)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.il+")")},n.mI=function(t){if(0===this.il)return this.pI();if(this.EE(t))return t;if(this.Eg(t,this.aI(0)))return this.aI(0);if(this.$g(t,this.fI(this.il-1)))return this.fI(this.il-1);for(var n,i=this.kI(),e=0;e<this.il;e++){var r=this.aI(e),s=this.Ig(r,t);this.Rg(s,i)&&(n=r,i=s);var u=this.fI(e),o=this.Ig(this.fI(e),t);this.Rg(o,i)&&(n=u,i=o)}return n},n.bI=function(t){for(var n=0,i=0,e=[],r=[];n<this.il&&i<t.il;){var s=this.aI(n),u=this.fI(n),o=this.cI(n),h=this.vI(n),a=t.aI(i),c=t.fI(i),f=t.cI(i),v=t.vI(i),d=this.py(s,a),l=this.ky(u,c),_=void 0;_=this.cg(s,a)?o&&f:this.cg(d,s)?o:f;var w=void 0;w=this.cg(u,c)?h&&v:this.cg(l,u)?h:v,(this.Rg(d,l)||_&&w&&this.cg(d,l))&&(e.push(d,l),r.push(_,w));var g=this.Ag(this.fI(n),t.fI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.yI(e,r)},n.AI=function(){var t=this.TI(),n=t.il;if(0===n)return this.yI([t.SI(),t.kI()],[!1,!1]);var i=[],e=[],r=t.aI(0);t.cg(r,t.SI())||(i.push(t.SI(),r),e.push(!1,!t.cI(0)));for(var s=0;s<n-1;s++)i.push(t.fI(s),t.aI(s+1)),e.push(!t.vI(s),!t.cI(s+1));var u=t.fI(n-1);return t.cg(u,t.kI())||(i.push(u,t.kI()),e.push(!t.vI(n-1),!1)),t.yI(i,e)},n.EI=function(t){for(var n=0,i=0,e=this.il,r=t.il,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.aI(n),a=this.fI(n),c=t.aI(i),f=t.fI(i);this.Rg(h,c)||this.cg(h,c)&&this.Rg(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.cI(n),u[o+1]=this.vI(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.cI(i),u[o+1]=t.vI(i),i++),o+=2}for(;n<e;)s[o]=this.aI(n),s[o+1]=this.fI(n),u[o]=this.cI(n),u[o+1]=this.vI(n),n++,o+=2;for(;i<r;)s[o]=t.aI(i),s[o+1]=t.fI(i),u[o]=t.cI(i),u[o+1]=t.vI(i),i++,o+=2;return this.yI(s,u)},n.II=function(t){void 0===t&&(t=this.pI());var n=this.il;if(n<2)return this;for(var i=[],e=[],r=this.aI(0),s=this.fI(0),u=this.cI(0),o=this.vI(0),h=1;h<n;h++){var a=this.aI(h),c=this.fI(h),f=this.cI(h),v=this.vI(h);this.Rg(r,a)&&this.Jg(s,c)||(this.cg(r,a)&&(u=f=u||f),this.cg(s,c)&&(o=v=o||v),this.lI(a,this.Rw(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.yI(i,e).TI()},n.TI=function(){for(var t=[],n=[],i=0;i<this.il;i++){var e=this.aI(i),r=this.fI(i),s=this.cI(i),u=this.vI(i);this.cg(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.yI(t,n)},n.RI=function(t){return this.il?t.il?this.EI(t).II():this:t},n.NI=function(t){var n=this.TI(),i=t.TI(),e=n.AI(),r=i.AI(),s=e.bI(i),u=r.bI(n);return s.RI(u)},n._s=function(t){if(this.cg(t,this.pI()))return this;for(var n=[],i=[],e=0;e<this.il;e++){var r=this.Rw(this.aI(e),t),s=this.Rw(this.fI(e),t);n.push(r,s),i.push(this.cI(e),this.vI(e))}return this.yI(n,i)},n.DI=function(t){return 0===this.il||0===t.il?this:this.TI().bI(t.TI().AI())},n.EE=function(t,n){return this.CI(t,n)>=0},n.xI=function(t,n,i,e,r){return this.OI(t,n,i,e,r)>=0},n.BI=function(t,n,i,e,r){return this.LI(t,n,i,e,r)>=0},n.MI=function(t){if(t.il!==this.il)return!1;for(var n=0;n<this.il;n++)if(!this.cg(this.aI(n),t.aI(n))||!this.cg(this.fI(n),t.fI(n))||this.cI(n)!==t.cI(n)||this.vI(n)!==t.vI(n))return!1;return!0},n.UI=function(t){for(var n=[],i=[],e=0;e<this.il;e++){var r=this.aI(e),s=this.fI(e),u=this.cI(e),o=this.vI(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.yI(n,i)},n.LI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.pI());for(var s=this.xg(t,r),u=this.Rw(n,r),o=0;o<this.il;o+=1)if(this.lI(this.aI(o),u,!e||this.cI(o))&&this.lI(s,this.fI(o),!i||this.vI(o)))return o;return-1},n.OI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.pI());for(var s=this.Rw(t,r),u=this.xg(n,r),o=0;o<this.il;o+=1)if(this.lI(this.aI(o),s,!i||this.cI(o))&&this.lI(u,this.fI(o),!e||this.vI(o)))return o;return-1},n.CI=function(t,n){return this.OI(t,t,!0,!0,n)},n.FI=function(t,n){void 0===n&&(n=this.pI());for(var i=this.Rw(t,n),e=this.il-1;e>=0;e-=1)if(this.lI(this.aI(e),i,this.cI(e)))return e;return-1},n.HI=function(t,n){void 0===n&&(n=this.pI());for(var i=this.xg(t,n),e=0;e<this.il;e+=1)if(this.lI(i,this.fI(e),this.vI(e)))return e;return-1},n.zI=function(t){return this._I(t),this.yI([this.aI(t),this.fI(t)],[this.cI(t),this.vI(t)])},n.VI=function(t,n){var i=this.CI(t,n);return i<0?void 0:this.zI(i)},A(t,[{key:"WI",get:function(){for(var t=this.pI(),n=0;n<this.il;n++){var i=this.xg(this.fI(n),this.aI(n));t=this.Rw(t,i)}return t}}]),t}()),eS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Ag=function(t,n){return t<n?Vr.gr:t===n?Vr._r:Vr.wr},i.Rw=function(t,n){return t+n},i.xg=function(t,n){return t-n},i.Ig=function(t,n){return _.abs(t-n)},i.pI=function(){return 0},i.kI=function(){return 1/0},i.SI=function(){return-1/0},n.XI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.qI=function(t){for(var i=[],e=[],r=0;r<t.il;r++)i.push(t.aI(r).Ty),i.push(t.fI(r).Ty),e.push(t.cI(r)),e.push(t.vI(r));return new n(i,e)},n.GI=function(t){return new n([t,t],[!0,!0])},i.yI=function(t,i){return new n(t,i)},i.wI=function(t){return t},n.QI=function(){return rS},n}(iS),rS=new eS([]);!function(t){t.Ud="fullscreenchange",t.YI="fullscreensupportchange",t.Tl="fullscreenerror"}(nS||(nS={}));var sS=function(t){function n(){return t.call(this,nS.Tl)||this}return S(n,t),n}(Rs),uS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vw=function(){this.Ur(new sS)},i.Xw=function(){},i.ov=function(){this.Vr()},A(n,[{key:"jI",get:function(){return!1}},{key:"ZI",get:function(){return!1}}]),n}(Es)),oS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).PS=void 0,n.OS=void 0,n}S(n,t);var i=n.prototype;return i.rw=function(){var t;return null==(t=this.OS)?void 0:t.oE},i.ov=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(t.prototype.ov.call(this));case 2:if(!this.OS){n.next=6;break}return n.next=5,tr.awrap(this.PS.TE(this.OS));case 5:this.OS=void 0;case 6:case"end":return n.stop()}},null,this,null,ge)},A(n,[{key:"JI",set:function(t){this.PS=t,this.OS=t.uE(Fy.Jf)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$I=0,n.KI=!1,n.tR=!0,n.nR=1,n.iR=!1,n.Ou=1,n.H_=new Hy,n.vw=eS.QI().IE(),n.v_=NaN,n.d_=!1,n.Kr=void 0,n.l_=void 0,n.W_=void 0,n._w=!1,n.bw=!0,n.Aw=eS.QI().IE(),n.Tw=jT.ZE,n.Nl=Pg.t_,n.Sw=eS.QI().IE(),n.DE=void 0,n.V_=new gk,n.m_=0,n.z_=new Hy,n.p_=0,n.XS=new MT,n}S(n,t);var i=n.prototype;return i.iw=function(){},i.ew=function(){},i.X_=function(){this.tR&&(this.tR=!1,this.Ur(new Kg(this.f_)),this.Ur(new vb(this.f_)))},i.q_=function(){this.tR||(this.tR=!0,this.Ur(new uy(this.f_,this.dw)),this.Ur(new $g(this.f_)))},i.Y_=function(t,n){return ge.resolve()},i.j_=function(){return!1},i.Z_=function(){},i.J_=function(){},i.sw=function(){return uS},i.fw=function(){},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.$I=0,this.iR=!1,this.q_(),this.Ur(new Jg(this.$I));case 4:case"end":return t.stop()}},null,this,null,ge)},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Vr(),this.H_.ov(),this.V_.ov(),this.z_.ov();case 4:case"end":return t.stop()}},null,this,null,ge)},A(n,[{key:"dw",get:function(){},set:function(t){}},{key:"f_",get:function(){return this.$I},set:function(t){this.$I!==t&&(this.$I=t,this.iR=!0,this.Ur(new ay(this.f_)))}},{key:"R_",get:function(){return{ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"__",get:function(){return this.KI},set:function(t){this.KI!==t&&(this.KI=t,this.Ur(new fy(this.f_,this.k_)))}},{key:"w_",get:function(){return this.tR}},{key:"g_",get:function(){return this.nR},set:function(t){this.nR!==t&&(this.nR=t,this.Ur(new sy(this.f_,this.g_)))}},{key:"y_",get:function(){return this.iR}},{key:"k_",get:function(){return this.Ou},set:function(t){this.Ou!==t&&(this.Ou=t,this.Ur(new fy(this.f_,this.k_)))}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"CE",get:function(){return this.XS}}]),n}(Es)),hS=function(t){function n(n,i,e,r,s,u){var o,h=new oS;return(o=t.call(this,YT.In,h)||this).Dh=void 0,o.eR=void 0,o.rR=void 0,o.sR=void 0,o.uA=void 0,o.uR=void 0,o.oR=void 0,o.rR=n,o.Dh=i,o.uA=e,o.uR=r,o.sR=u,o.eR=new Mi(s,o.sR),o.eR.hR(o.rR),h.JI=o.eR,o.oR=new ZT(o.rR),o}S(n,t);var i=n.prototype;return i.K_=function(){t.prototype.K_.call(this),this.eR.aR()},i.tw=function(t){var n,i,e,r;n=this,e=(i=t).k_,r=i.__,n.k_=e,n.__=r},i.nw=function(){},i.sI=function(t){return t.vT(this.rR,this.eR,this.uA,this.Dh,this.uR,this.sR)},i.rw=function(){return this.KE.rw()},i.uw=function(){return this.eR.cR.map(function(t){return t.oE})},i.zr=function(n){t.prototype.zr.call(this,n)},i.Gr=function(n){t.prototype.Gr.call(this,n)},i.ov=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(t.prototype.ov.call(this));case 2:this.eR.ov(),this.oR.ov();case 4:case"end":return n.stop()}},null,this,null,ge)},A(n,[{key:"lw",get:function(){return this.rR}},{key:"Ew",get:function(){return this.KE.Ew},set:function(t){this.KE.Ew=t}}]),n}(KT),aS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rR=void 0,r.fR=void 0,r.vR=void 0,r.dR=void 0,r.lR=void 0,r.rR=n,r.fR=i,r.dR=new Hy,r.lR=new gk,r.vR=e,r}S(n,t);var i=n.prototype;return i.ow=function(t){return!0},i.ew=function(){},i.X_=function(){throw this.Ur(new _y(this.vR)),this.fR},i.q_=function(){},i.Q_=function(){},i.Y_=function(t,n){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw vs(n),this.Ur(new _y(this.vR)),this.fR;case 3:case"end":return t.stop()}},null,this,null,ge)},i.iw=function(){},i.G_=function(){return ge.resolve()},i.rw=function(){},i.sw=function(){return uS},i.uw=function(){return[]},i.K_=function(){},i.tw=function(t){},i.nw=function(){},i.j_=function(){return!1},i.Z_=function(){},i.J_=function(){},i.fw=function(){},i.tl=function(){return ge.resolve()},i.ov=function(){return this.Vr(),this.dR.ov(),this.lR.ov(),ge.resolve()},A(n,[{key:"H_",get:function(){return this.dR}},{key:"vw",get:function(){return eS.QI().IE()}},{key:"dw",get:function(){return new Date(NaN)},set:function(t){}},{key:"cw",get:function(){}},{key:"f_",get:function(){return 0},set:function(t){}},{key:"v_",get:function(){return 0}},{key:"lw",get:function(){return this.rR}},{key:"d_",get:function(){return!0}},{key:"Kr",get:function(){return this.fR}},{key:"l_",get:function(){return this.vR}},{key:"W_",get:function(){}},{key:"R_",get:function(){return{ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"__",get:function(){return!1},set:function(t){}},{key:"bw",get:function(){return!0}},{key:"w_",get:function(){return!0}},{key:"g_",get:function(){return 0},set:function(t){}},{key:"Aw",get:function(){return eS.QI().IE()}},{key:"Tw",get:function(){return jT.ZE},set:function(t){}},{key:"Nl",get:function(){return Pg.t_}},{key:"Sw",get:function(){return eS.QI().IE()}},{key:"y_",get:function(){return!1}},{key:"V_",get:function(){return this.lR}},{key:"m_",get:function(){return 0}},{key:"z_",get:function(){return this.dR}},{key:"p_",get:function(){return 0}},{key:"k_",get:function(){return 1},set:function(t){}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"_w",get:function(){return!1}}]),n}(Tg);function cS(t){if(t&&V(t))return nr({},t,{integration:fS(t.integration),fairplay:yS(t.fairplay),widevine:vS(t.widevine),playready:dS(t.playready),clearkey:mS(t.clearkey),aes128:pS(t.aes128),integrationParameters:kS(t.integrationParameters),preferredKeySystems:bS(t.preferredKeySystems)})}function fS(t){if(X(t))return t}function vS(t){if(t&&V(t))return{persistentState:lS(t.persistentState),distinctiveIdentifier:lS(t.distinctiveIdentifier),audioRobustness:_S(t.audioRobustness),videoRobustness:_S(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:wS(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||Xu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:gS(t.certificateRequestProcessor),certificateResponseProcessor:gS(t.certificateResponseProcessor),licenseRequestProcessor:gS(t.licenseRequestProcessor),licenseResponseProcessor:gS(t.licenseResponseProcessor)}}function dS(t){if(t){var n=vS(t);if(n)return nr({},n,{customData:X(t.customData)?t.customData:void 0})}}function lS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function _S(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function wS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function gS(t){if("function"==typeof t)return t}function yS(t){if(t){var n=vS(t);if(n)return nr({},n,{certificateURL:X(t.certificateURL)?t.certificateURL:void 0})}}function mS(t){if(t){var n=vS(t);if(n)return nr({},n,{keys:H(t.keys)?t.keys.map(function(t){return function(t){if(!t||!V(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function pS(t){if(V(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function kS(t){if(V(t))return t}function bS(t){return t&&H(t)?t.map(function(t){return hA(t)}).filter(F):[yr,wr,pr]}var AS,TS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(Rs),SS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this)._R=[],e.wR=void 0,e.gR=function(t){ms(function(){e.Mr(t)})},e.wR=i?e.gR:e.Mr,e}S(n,t);var i=n.prototype;return i.yR=function(t){t.zr(this.wR),this._R.push(t)},i.mR=function(t){t.Gr(this.wR),ts(this._R,t)},i.ov=function(){this.Vr();for(var t=0,n=this._R;t<n.length;t++){n[t].Gr(this.wR)}es(this._R)},n}(Ag),ES=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(SS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(AS||(AS={}));var IS,RS=function(t){function i(n){var i;return(i=t.call(this)||this).pR=void 0,i.kR=void 0,i.bR=!1,i.AR=!1,i.SR=void 0,i.ER=void 0,i.IR=void 0,i.Td=void 0,i.RR=function(){return i.NR()},i.DR=function(){return i.xR()},i.IR=n,i.pR=i.kR=i.SR=i.ER=AS.INLINE,i.IR.Fr(nS.Ud,i.RR),i.IR.Fr(nS.Tl,i.DR),i.PR(),i}S(i,t);var e=i.prototype;return e.Ed=function(){return t=this,i={get currentMode(){return t.OR()},requestMode:function(n){var i=DS(n);i&&t.LR(i)},supportsMode:function(n){var i=DS(n);return!!i&&t.MR(i)},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)}},(n=new SS(i,!0)).yR(t),i;var t,n,i},e.LR=function(t){this.UR(t,t)},e.UR=function(t,n){this.kR!==n&&(this.bR=!0,this.pR=t,this.FR(n,this.kR),t!==AS.FULLSCREEN&&(this.SR=t),this.bR=!1,this.PR())},e.OR=function(){return this.AR?AS.FULLSCREEN:AS.INLINE},e.MR=function(t){switch(t){case AS.FULLSCREEN:return this.IR.ZI;case AS.INLINE:return!0}return!1},e.PR=function(){if(!this.bR){var t=this.kR,n=this.OR();this.kR=n,n!==AS.FULLSCREEN&&(this.ER=n),t!==n&&this.Ur(new TS(n))}},e.FR=function(t,n){var i=t===AS.FULLSCREEN;this.AR=i,i!==this.IR.jI&&(i?this.IR.Vw():this.IR.Xw())},e.NR=function(){if(!this.bR){var t=this.IR.jI;this.AR=t,t?this.UR(AS.FULLSCREEN,AS.FULLSCREEN):t||this.pR!==AS.FULLSCREEN?this.PR():this.UR(this.SR,this.ER)}},e.xR=function(){this.NR(),this.Ur(new _y(new Ya(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.ov=function(){this.IR.ov(),this.Vr()},A(i,[{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}}]),i}(Ag),NS={f_:0,v_:NaN,d_:!1,Kr:void 0,l_:void 0,__:!1,w_:!0,g_:1,Nl:Pg.t_,y_:!1,m_:0,p_:0,k_:1};function DS(t){switch(t){case AS.INLINE:case AS.FULLSCREEN:case AS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(IS||(IS={}));var CS,xS,PS,OS,BS,LS,MS,US,FS=function(){function t(){this.HR=[]}var n=t.prototype;return n.zR=function(t){var n=this.WR.filter(function(n){return n.XR(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.qR=function(t){this.HR.push(t)},A(t,[{key:"WR",get:function(){return this.HR}}]),t}();FS.In=new FS,function(t){t.c_="PLAYING",t.D_="PAUSED",t.GR="SEEK",t.QR="STALLED",t.YR="FAILED",t.jR="INITIAL_BUFFERING",t.ZR="NO_ACCESS"}(CS||(CS={})),function(t){t.JR="HTTP_REQUEST_STATUS_CODE_1XX",t.$R="HTTP_REQUEST_STATUS_CODE_2XX",t.KR="HTTP_REQUEST_STATUS_CODE_3XX",t.tN="HTTP_REQUEST_STATUS_CODE_4XX",t.nN="HTTP_REQUEST_STATUS_CODE_5XX",t.iN="BUFFER_LENGTH",t.eN="BYTES_RECEIVED",t.rN="SEGMENT_READ_BITRATE",t.sN="SEGMENT_PROFILE_BITRATE",t.uN="NUMBER_OF_FRAMES_DROPPED",t.oN="PLAYBACK_POSITION",t.hN="NUMBER_OF_FRAMES_DECODED",t.aN="PLAYBACK_DELTA_TO_ORIGIN",t.cN="STREAM_DELTA_TO_ORIGIN",t.fN="ORIGIN_TIMESTAMP"}(xS||(xS={})),function(t){t.vN="MANIFEST_URI",t.dN="ASSET_DURATION",t.lN="NUMBER_OF_CONTENT_PROFILES",t._N="CDN",t.wN="CONTENT_TITLE",t.gN="SERVICE_NAME",t.yN="CONTENT_TYPE",t.mN="CONTENT_DESCRIPTION"}(PS||(PS={})),function(t){t.pN="shutdown_normal_shutdown"}(OS||(OS={})),function(t){t.kN="session/",t.bN="internalError/",t.AN="drmError/",t.TN="caError/",t.SN="networkError/"}(BS||(BS={})),function(t){t.EN="userAction",t.IN="endOfStreamReached"}(LS||(LS={})),function(t){t.PAUSE="RN",t.RESUME="NN"}(MS||(MS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(US||(US={}));var HS,zS,VS,WS,XS,qS="agama";function GS(t){return function(t){switch(t){case HS.NONE:case HS.HORIZONTAL:case HS.VERTICAL:return!0;default:return!1}}(t)?t:HS.NONE}function QS(t){switch(t){case"":return HS.NONE;case"horizontal":return HS.HORIZONTAL;case"vertical":return HS.VERTICAL;default:throw new d}}function YS(t){if(!t||!X(t))return zS.jE;switch(t){case"always":return zS.DN;case"never":return zS.CN;default:return zS.jE}}function jS(t){if(!t||!X(t))return VS.jE;switch(t){case"playlist":return VS.xN;case"media":return VS.PN;default:return VS.jE}}function ZS(t,n){return t.length>0?t:n.length>0?n:void 0}function JS(t){if(null!==t)return t}function $S(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:JS(t.streamActivityMonitorID),adTagParameters:V(t.adTagParameters)?t.adTagParameters:{},authToken:JS(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.we("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.we("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?nr({},e,{availabilityType:"live",assetKey:u}):void i.we("A Live DAI configuration was provided without valid assetKey which is required.")}i.we("A DAI configuration was provided without a valid availabilityType which is required.")}function KS(t){if(!tA(t)||!t.integration)return t;switch(t.integration){case kb:return n=t,i=oA(fr.Ze,n),e=oA(fr.je,n),r=n[fr.Je]&&oA(fr.Je,n),nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(HS||(HS={})),function(t){t.jE="auto",t.DN="always",t.CN="never"}(zS||(zS={})),function(t){t.jE="auto",t.xN="playlist",t.PN="media"}(VS||(VS={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(WS||(WS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(XS||(XS={}));var tE="https://content.uplynk.com";function nE(t){if(!t)return!0;var n,i,e=!(Wg(n=t.sources)||z(n)&&Wg(n[0]))||Xg(t.sources),r=!t.ads||(!(i=t.ads)||H(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function iE(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(Vg(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function eE(t,n,i){return Hg(t)?function(t,n,i){var e=nr({},qg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:WS.VERIZON_MEDIA,id:"",prefix:tE,preplayParameters:{},playbackUrlParameters:{},assetType:XS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,X(r)?r:z(r)&&X(r[0])?r:V(s=r)&&X(s.userId)&&(z(s.externalId)||X(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return XS.CHANNEL;case"event":return XS.EVENT;case"asset":default:return XS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=ng(t.contentProtected));t.assetInfo?e.assetInfo=ng(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=rg(t.prefix)||tE);return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!q(o.adImpressions)&&o.adImpressions,a=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=q(o.linearAdData)?o.linearAdData:u!==XS.ASSET):u!==XS.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=sE(e=uE(e=rE(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=Gg(),r=n&&(n.contentProtection||n.drm);if(X(t)){if(e.src=t,e.type=Lg(t),r){var s=cS(r);e.contentProtection=KS(s)}}else if(Vg(t)||Fg(t)){e.src=t.src,e.type=t.type||Lg(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Dg.$l||t.type===Dg.Kl}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=V(c=t)&&X(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var h=t.contentProtection||t.drm||r,a=cS(h);e.contentProtection=KS(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return $S(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=rE(e,t)}var c;return e=sE(e=uE(e,n,i),t,i)}(t,n,i)}function rE(t,n){var i;n.useCredentials?t.crossOrigin=Ng.Jl:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Ng.Zl:case Ng.Jl:return t;default:return Ng.jl}}(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=ng(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=ng(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:YS(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:jS(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?ng(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?ng(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function sE(t,n,i){return t.abr=function(t,n){var i=sg(null==t?void 0:t.preferredAudioCodecs,rg),e=sg(null==t?void 0:t.preferredVideoCodecs,rg),r=sg(null==n?void 0:n.preferredAudioCodecs,rg),s=sg(null==n?void 0:n.preferredVideoCodecs,rg),u=ZS(i,r),o=ZS(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(X(n)?void 0:n.abr,null==i?void 0:i.abr),t}function uE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Ng.jl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Ng.Zl),t.useCredentials=t.crossOrigin===Ng.Jl,X(r)&&!t.timeServer&&(t.timeServer=r),t}function oE(t){var n={src:""};if(t&&t.src){if(n.src=rg(t.src),"default"in t&&(n.default=ng(t.default)),n.kind=pk(t.kind),function(t){switch(t){case tm.DEFAULT:case tm.SRT:case tm.TTML:case tm.WEBVTT:case tm.EMSG:case tm.EVENT_STREAM:case tm.ID3:case tm.CEA608:case tm.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function hE(t,n){if(W(t))try{return n.zR(t).ON(t)}catch(t){return}}function aE(t){return X(t.sources)&&""!==t.sources||V(t.sources)&&X(t.sources.src)}function cE(t){return t.integration===IS.SPOTX&&!y(t.id)}function fE(t){return"freewheel"===t.integration}function vE(t,n,i){if(void 0===i&&(i=FS.In),nE(t))return{sources:[Gg()]};var e=Jw(t);if(e.sources=function(t,n,i){if(Wg(t))return[eE(t,n,i)];if(z(t)&&Wg(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(eE(s,n,i))}return e}return[Gg()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=hE(s,n))&&(aE(s)||cE(s)||fE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!Xg(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=oE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=rg(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=GS(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?QS(u.stereoMode):HS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Yg(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Jw(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==qS&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=wy(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=ig(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var dE=function(){function t(t){this.BN=t}return t.prototype.LN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.BN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.BN.indexOf(t.charAt(n))<<18|this.BN.indexOf(t.charAt(n+1))<<12|(s=this.BN.indexOf(t.charAt(n+2)))<<6|(u=this.BN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.MN=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.BN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.BN.charAt(e)+this.BN.charAt(r)+this.BN.charAt(s)+this.BN.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Ky=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.UN=new t(t.Ky.LN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function lE(t){return"string"==typeof t}function _E(t){return"number"==typeof t}var wE={}.toString;var gE,yE=Array.isArray||function(t){return"[object Array]"===wE.call(t)};function mE(t,n){return yE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(gE||(gE={}));var pE,kE=l.keys(gE).map(function(t){return gE[t]});function bE(t){return-1!==kE.indexOf(t)}function AE(t){try{var n=dE.UN.LN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=lE(t.key),e=lE(t.customer_id),r=_E(t.generation_date),s=_E(t.expiration_date),u=mE(t.domains_page,lE),o=mE(t.domains_source,lE),h=mE(t.sdks,bE),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function TE(){return pE||(pE={Lf:zi.href,FN:Hi.parent&&Hi.parent!==r,HN:IE()}),pE}var SE,EE=["http:","https:","ftp:","ws:","wss:"];function IE(){try{return Hi.top.location.href}catch(t){return Hi&&Hi.document&&Hi.document.referrer}}!function(t){t[t.zN=0]="zN",t[t.VN=1]="VN",t[t.WN=2]="WN"}(SE||(SE={}));var RE,NE=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.XN=t,this.qN=n,this.GN=i,this.QN=e,this.YN=r,this.jN=s,this.ZN=u,this.JN=o};!function(t){t.VN="expired",t.$N="invaliddomain",t.KN="invalidsource",t.Tl="error"}(RE||(RE={}));var DE=function(){function t(t,n,i){this.tD=void 0,this.nD=t,this.iD=n,this._u=i,this.tD=LE(this._u)}var n=t.prototype;return n.eD=function(t,n){var i=this;if(!nE(t)&&0!==n.GN.length&&!PE(n.GN)){var e=[];if(Wg(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.rD(t,n)})){var r=RE.KN,s=UE.sD(r);throw new Ya(CE(r),s)}}},n.uD=function(n){return this.oD(n.ZN)&&this.hD(n)?t.aD(n.QN)?SE.zN:SE.VN:SE.WN},n.oD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.cD(t)})},n.cD=function(t){return"ios"===function(t){switch(t){case gE.ANDROID:return e.g;case gE.ANDROIDTV:case gE.FIRETV:return e.I;case gE.IOS:return e.R;case gE.TVOS:return e.N;case gE.CHROMECAST:case gE.CHROMECASTCAF:return e.C;default:return e.l}}(t)},t.aD=function(t){var n=Number(new Date);return!!t&&n<=t},n.hD=function(t){return!(this.tD&&0!==t.qN.length&&!PE(t.qN))||!!(this.tD&&this.fD(t.qN)&&this.vD(t.qN))},n.fD=function(t){return OE(this._u.Lf,t)},n.vD=function(t){if(!this._u.FN)return!0;if(this.nD)return!0;var n=this.dD();return!!n&&OE(n,t)},n.dD=function(){if(this._u.FN){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this._u.HN?this._u.HN:void 0}},n.rD=function(n,i){return!!t.lD(n,i.GN)},t.lD=function(t,n){return OE(this._D(t),n)},t._D=function(t){return X(t)?t:Vg(t)&&t.src||""},t}();function CE(t){switch(t){case RE.$N:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case RE.KN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case RE.VN:return n.ErrorCode.LICENSE_EXPIRED;case RE.Tl:return n.ErrorCode.LICENSE_ERROR}}function xE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function PE(t){return t.some(function(t){return"*"===t})}function OE(t,n){var e=i.De(t);if(!BE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(xE(e.hostname,s))return!0;if(xE(Kl(t),s))return!0}return!1}function BE(t){return-1!==EE.indexOf(t.protocol)}function LE(t){var n=i.De(t.Lf);return BE(n)&&!xE(n.hostname,"localhost")&&!function(t){return xE(t.hostname,"theoplayer.doubleclick.net")}(n)}var ME,UE=function(){function t(){}return t.sD=function(t){return t===RE.$N?this.wD:t===RE.KN?this.gD:t===RE.VN?this.yD:this.mD},t}();function FE(t){var n=[t.ub,t.pD,t.kD];switch(t.pD){case ME.bD:n.push(t.xl);break;case ME.TD:n.push(t.f_),n.push(t.Kr);break;case ME.SD:n.push(t.Kr)}return n}UE.mD="The license for this player is invalid.",UE.yD="The usage license for this video player has expired.",UE.wD="The current domain is incompatible with the license for this player.",UE.gD="The provided video source is incompatible with the license for this player.",function(t){t[t.bD=1]="bD",t[t.TD=4]="TD",t[t.SD=5]="SD"}(ME||(ME={}));for(var HE=new Array(256),zE=0;zE<256;zE+=1)HE[zE]=(zE<16?"0":"")+zE.toString(16);function VE(){var t=gt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,e=(4294967296*_.random()|0)+t&1130486254,r=(4294967296*_.random()|0)+t&1284287105;return HE[255&n]+HE[n>>>8&255]+HE[n>>>16&255]+HE[n>>>24&255]+"-"+HE[255&i]+HE[i>>>8&255]+"-"+HE[i>>>16&15|64]+HE[i>>>24&255]+"-"+HE[63&e|128]+HE[e>>>8&255]+"-"+HE[e>>>16&255]+HE[e>>>24&255]+HE[255&r]+HE[r>>>8&255]+HE[r>>>16&255]+HE[r>>>24&255]}var WE=function(){function t(t){this.BN=void 0,this.BN=t}var n=t.prototype;return n.LN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.BN.indexOf(t.charAt(n))<<18|this.BN.indexOf(t.charAt(n+1))<<12|(s=this.BN.indexOf(t.charAt(n+2)))<<6|(u=this.BN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.MN=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.BN.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.BN.charAt(i)+this.BN.charAt(e)+this.BN.charAt(r)+this.BN.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function XE(){return i.ae()}WE.Ky=new WE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),WE.UN=new WE(WE.Ky.LN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var qE,GE="theoplayer-session-id";function QE(){if(!qE){var t=cc.as(GE);t?qE=t:(qE=VE(),cc.na(GE,qE))}return qE}var YE=/[^\x00-\x7E]/g;function jE(t){return"\\u"+Or(t.charCodeAt(0).toString(16),4,"0")}var ZE=0,JE=1,$E=6e4;function KE(t){var n,i,e,r,s,u=(n=function(t){return[t.ED,t.th,t.XN,t.mp,t.RD,t.ND,t.DD.map(FE)]}(t),i=[],e=n,r=function(t,n){if(V(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(YE,jE));return WE.UN.MN(u)}var tI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=WE.Ky),void 0===r&&(r=ZE),void 0===s&&(s=JE),this.CD=[],this.xD=null,this.PD=0,this.OD="unknown",this.Gu=0,this.BD=function(){XE()-u.PD>$E&&u.zi()},this.LD=function(){u.zi(!0)},this.yo=t,this.uA=n,this.MD=i,this.UD=e,this.FD=r,this.HD=s,Fi.zD(this.LD),c(this.BD,$E)}var n=t.prototype;return n.VD=function(){return Boolean(this.RD)},n.WD=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.MD.XD());case 2:if(i.sent.JN){i.next=5;break}return i.abrupt("return");case 5:return n={pD:ME.bD,kD:gt(),xl:t},i.next=8,tr.awrap(this.qD(n));case 8:case"end":return i.stop()}},null,this,null,ge)},n.GD=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={pD:ME.TD,kD:gt(),f_:n,Kr:t},e.next=3,tr.awrap(this.qD(i));case 3:case"end":return e.stop()}},null,this,null,ge)},n.QD=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={pD:ME.SD,kD:gt(),Kr:t},i.next=3,tr.awrap(this.qD(n));case 3:case"end":return i.stop()}},null,this,null,ge)},n.qD=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.MD.XD());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.UD.MN(n.XN)){i.next=6;break}if(t.pD===ME.SD){i.next=6;break}return i.abrupt("return");case 6:if(t.pD===ME.bD?this.YD():this.VD()||this.YD(),t.ub=this.Gu++,this.CD.push(t),(e=t.pD)!==ME.bD&&e!==ME.SD){i.next=14;break}return i.next=12,tr.awrap(this.zi());case 12:i.next=19;break;case 14:if(!(this.CD.length>this.FD)){i.next=19;break}return i.next=17,tr.awrap(this.jD());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,ge)},n.zi=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.CD.length>0)){n.next=6;break}return n.next=4,tr.awrap(this.jD(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,ge)},n.ZD=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.MD.XD());case 2:return n=i.sent,i.abrupt("return",{ED:gt(),th:QE(),XN:this.UD.MN(n.XN)||"dev",mp:this.yo,RD:this.xD,ND:this.OD,DD:t});case 4:case"end":return i.stop()}},null,this,null,ge)},n.jD=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.CD.splice(0,this.HD),e.next=4,tr.awrap(this.ZD(n));case 4:i=e.sent,t?this.uv(i):this.JD(i),this.PD=XE();case 7:case"end":return e.stop()}},null,this,null,ge)},n.JD=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=KE(t),i=new ql({Lf:"https://license.theoplayer.com",yf:n,rv:!1,Cf:_c.Pn,Df:{"Content-Type":zA.MT},tv:4e3,Kf:Hl.POST}),r.prev=2,r.next=5,tr.awrap(this.uA.Of(i));case 5:return e=r.sent,r.next=8,tr.awrap(e._f());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],ge)},n.uv=function(t){var n=KE(t);this.uA.uv({Lf:"https://license.theoplayer.com",yf:n,gf:zA.MT})},n.YD=function(){this.VD()&&this.zi(),this.xD=VE(),this.Gu=0},n.ov=function(){Fi.$D(this.LD),this.zi()},A(t,[{key:"DD",get:function(){return this.CD}},{key:"RD",get:function(){return this.xD}}]),t}();var nI=L.hn||L.Qt&&L.ln<13;function iI(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var eI=function(){function t(t){this.GE=void 0,this.Td=void 0,this.KD=void 0,this.GE=t}var n=t.prototype;return n.tC=function(t){if(!t||!t.drawImage)return!1;var n=this.GE.rw();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.nC=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.GE,h=o.rw();if(!h)return!1;if(nI){this.KD||(this.KD=s.createElement("canvas"));var a=this.KD,c=a.getContext("2d"),f=o.p_,d=o.m_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var w=!1;f>0&&iI(c,f-1,0)&&(a.width=l,w=!0),d>0&&iI(c,0,d-1)&&(a.height=_,w=!0),w&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,e,r,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Sd",get:function(){return this.Td||(this.Td=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.tC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.nC(n,i,e,r,s,u)}}));var t}}]),t}(),rI=function(t){function n(n,i){var e;return(e=t.call(this,"iC")||this).mg=n,e.Jp=i,e}return S(n,t),n.prototype.Ed=function(){return new sI(this.mg,this.Jp)},n}(Bw),sI=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(Rs),uI=function(t,n){this.lw=void 0,this.eC=void 0,this.lw=t,this.eC=n},oI=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).rC=void 0,e.sC=0,e.uC=0,e.oC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.uC=n.width,e.sC=n.height,e.eC(e.uC,e.sC)}},e.rC=new Hi.ResizeObserver(e.oC),e.rC.observe(e.lw),e}return S(n,t),n.prototype.ov=function(){this.rC.disconnect()},A(n,[{key:"hC",get:function(){return this.sC}},{key:"aC",get:function(){return this.uC}}]),n}(uI),hI=0;function aI(t){var n=XE(),i=_.max(0,16-(n-hI)),e=h(function(){return t(n+i)},i);return hI=n+i,e}var cI,fI=a,vI=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,dI=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function lI(){return cI||(cI=Hi&&Hi.document&&Hi.document.createElement("span")),cI}vI&&dI||(vI=aI,dI=fI),vI=vI.bind(t),dI=dI.bind(t);var _I=["Webkit","Moz","O","ms"],wI=(function(){var t=!1;try{if(void 0!==Hi&&"function"==typeof Hi.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});Hi.addEventListener("testPassiveEventSupport",j,n),Hi.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),er());function gI(t){return wI.has(t)||wI.set(t,function(t){var n=lI();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<_I.length;e++){var r=_I[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),wI.get(t)}function yI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[gI("transition")]="0s"}var pI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).cC=void 0,u.fC=0,u.uC=NaN,u.sC=NaN,u.vC=void 0,u.dC=void 0,u.lC=void 0,u._C=void 0,u.wC=void 0,u.tl=function(){u.dC.style.width=1e5+"px",u.dC.style.height=1e5+"px",u.vC.scrollLeft=1e5,u.vC.scrollTop=1e5,u.lC.scrollLeft=1e5,u.lC.scrollTop=1e5,0===u.lC.scrollTop&&vI(u.tl)},u.gC=function(){var t=u.aC,n=u.hC;u.eC(t,n),u.uC=t,u.sC=n,u.tl(),u.fC=0},u.yC=function(){if(!u.fC){var t=u.aC,n=u.hC;t===u.uC&&n===u.sC||(u.fC=vI(u.gC))}},u.mC=function(){u.wC||(u.wC=h(u.pC,66))},u.pC=function(){u.wC=void 0,u.kC()},u.kC=function(){u.yC()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.cC=c,u.vC=s.createElement("div"),u.dC=s.createElement("div"),u.lC=s.createElement("div"),u._C=s.createElement("div"),yI(u.vC),yI(u.lC),mI(u.dC),mI(a=u._C),a.style.width="200%",a.style.height="200%",c.appendChild(u.vC),c.appendChild(u.lC),u.vC.appendChild(u.dC),u.lC.appendChild(u._C),n.appendChild(c),u.vC.addEventListener("scroll",u.yC),u.lC.addEventListener("scroll",u.yC),r&&r.addEventListener("resize",u.mC),u.yC(),u}return S(n,t),n.prototype.ov=function(){dI(this.fC),this.fC=0,this.vC.removeEventListener("scroll",this.yC),this.lC.removeEventListener("scroll",this.yC),Ee(this.cC),r&&r.removeEventListener("resize",this.mC)},A(n,[{key:"hC",get:function(){return this.lw.getBoundingClientRect().height||this.sC||0}},{key:"aC",get:function(){return this.lw.getBoundingClientRect().width||this.uC||0}}]),n}(uI),kI=function(t){function n(n){var i;return(i=t.call(this)||this).lw=void 0,i.rC=void 0,i.oC=function(t,n){i.Ur(new rI(t,n))},i.lw=n,i}S(n,t);var i=n.prototype;return i.uh=function(t){this.rC||("function"==typeof Hi.ResizeObserver?this.rC=new oI(this.lw,this.oC):this.rC=new pI(this.lw,this.oC,t))},i.ov=function(){this.Vr(),this.rC&&(this.rC.ov(),this.rC=void 0)},A(n,[{key:"hC",get:function(){return this.rC?this.rC.hC:0}},{key:"aC",get:function(){return this.rC?this.rC.aC:0}}]),n}(Es),bI=function(t){function n(){return t.call(this,nS.Ud)||this}return S(n,t),n}(Rs);var AI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{bC:i[0],AC:i[1],TC:i[2],SC:i[3],EC:i[4],IC:i[5]}}}(),TI=function(t){function n(){return t.call(this,nS.YI)||this}return S(n,t),n}(Rs),SI=function(t){function n(i){var e;return(e=t.call(this)||this).lw=void 0,e.ZI=void 0,e.jI=!1,e.RC=function(){return e.RR()},e.NC=function(){return e.DR()},e.lw=i,e.ZI=n.DC(i),s.addEventListener(AI.EC,e.RC),e.RR(),e}S(n,t),n.DC=function(t){return Boolean(AI&&s[AI.SC]&&AI.bC in t)};var i=n.prototype;return i.Vw=function(){var t=this.lw[AI.bC]();t&&t.then?t.then(this.RC,this.NC):(s.removeEventListener(AI.IC,this.NC),s.addEventListener(AI.IC,this.NC))},i.Xw=function(){var t=s[AI.AC]();t&&t.then?t.then(this.RC,this.NC):(s.removeEventListener(AI.IC,this.NC),s.addEventListener(AI.IC,this.NC))},i.RR=function(){var t=this.jI,n=this.lw===s[AI.TC];this.jI=n,t!==n&&this.Ur(new bI)},i.DR=function(){this.Ur(new sS)},i.ov=function(){this.Vr(),s.removeEventListener(AI.EC,this.RC),s.removeEventListener(AI.IC,this.NC)},n}(Es),EI=function(t){function n(i){var e;return(e=t.call(this)||this).lw=void 0,e.ZI=void 0,e.jI=!1,e.RC=function(){return e.RR()},e.lw=i,e.ZI=n.DC(i),e.lw.addEventListener("webkitbeginfullscreen",e.RC),e.lw.addEventListener("webkitendfullscreen",e.RC),e.lw.addEventListener("webkitpresentationmodechanged",e.RC),e.RR(),e}S(n,t),n.DC=function(t){return L.Qt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Vw=function(){var t=this;this.lw.webkitSupportsPresentationMode&&this.lw.webkitSupportsPresentationMode("fullscreen")?L.Qt?requestAnimationFrame(function(){return t.lw.webkitSetPresentationMode("fullscreen")}):this.lw.webkitSetPresentationMode("fullscreen"):this.lw.webkitEnterFullscreen()},i.Xw=function(){this.lw.webkitSupportsPresentationMode&&this.lw.webkitSupportsPresentationMode("inline")?this.lw.webkitSetPresentationMode("inline"):this.lw.webkitExitFullscreen()},i.RR=function(){var t,n=this.jI;t=this.lw.webkitPresentationMode?"fullscreen"===this.lw.webkitPresentationMode:!!this.lw.webkitDisplayingFullscreen,this.jI=t,n!==t&&this.Ur(new bI)},i.ov=function(){this.Vr(),this.lw.removeEventListener("webkitbeginfullscreen",this.RC),this.lw.removeEventListener("webkitendfullscreen",this.RC),this.lw.removeEventListener("webkitpresentationmodechanged",this.RC)},n}(Es),II=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).xC=[],n.OC=void 0,n.AR=!1,n.RR=function(){var t=n.AR,i=n.BC();t!==i&&(n.AR=i,n.Ur(new bI))},n}S(n,t);var i=n.prototype;return i.Vw=function(){this.OC?this.OC.Vw():this.Ur(new sS)},i.Xw=function(){for(var t=0,n=this.xC;t<n.length;t++){var i=n[t];i.jI&&i.Xw()}},i.LC=function(t){this.OC=t},i.MC=function(t){this.xC.push(t),t.Fr(nS.Ud,this.RR),t.Fr(nS.Tl,this.Mr),this.RR()},i.UC=function(t){ts(this.xC,t),t.Wr(nS.Ud,this.RR),t.Wr(nS.Tl,this.Mr)},i.BC=function(){for(var t=0,n=this.xC;t<n.length;t++){if(n[t].jI)return!0}return!1},i.tl=function(){this.OC=void 0,this.AR=!1;for(var t=this.xC.slice(),n=0;n<t.length;n++){var i=t[n];this.UC(i),i.ov()}this.RR()},i.ov=function(){this.Vr(),this.tl()},A(n,[{key:"ZI",get:function(){return!!this.OC&&this.OC.ZI}},{key:"jI",get:function(){return this.AR}}]),n}(Es),RI=function(t){function n(n,i){var e;return(e=t.call(this)||this).GE=void 0,e.FC=void 0,e.HC=void 0,e.zC=!1,e.VC=function(){return e.jo()},e.RR=function(t){e.zC||e.Ur(t)},e.GE=n,e.FC=i,e.HC=uS,e.WC(),e.GE.Fr(lc.la,e.VC),e.jo(),e}S(n,t);var i=n.prototype;return i.Vw=function(){this.FC&&this.HC.Vw()},i.Xw=function(){this.HC.Xw()},i.WC=function(){this.HC.Fr(nS.Ud,this.RR),this.HC.Fr(nS.Tl,this.Mr)},i.XC=function(){this.HC.Wr(nS.Ud,this.RR),this.HC.Wr(nS.Tl,this.Mr)},i.jo=function(){var t=this.HC,n=this.GE.sw();if(t!==n){this.zC=!0;var i=this.jI,e=this.ZI;i&&this.Xw(),this.XC(),this.HC=n,this.WC(),i&&!this.jI&&this.ZI?this.Vw():this.Xw(),this.zC=!1,e!==this.ZI&&this.Ur(new TI),i!==this.jI&&this.Ur(new bI)}},i.ov=function(){this.Vr(),this.XC(),this.GE.Wr(lc.la,this.VC)},A(n,[{key:"ZI",get:function(){return!!this.FC&&this.HC.ZI}},{key:"jI",get:function(){return this.HC.jI}}]),n}(Es);function NI(t){var n;return{get url(){return t.Lf},get method(){return t.Kf},get headers(){return n||(n=t.Df.Wa()),n},get body(){return t.yf},get useCredentials(){return t.rv},get type(){return OI(t.tr)},get subType(){return LI(t.nv)},get mediaType(){return UI(t.ev)},get responseType(){return CI(t.Cf)}}}function DI(t){switch(t.toLowerCase()){case"arraybuffer":return _c.Ha;case"json":return _c.za;case"stream":return _c.Va;case"text":default:return _c.Pn}}function CI(t){return t}function xI(t){switch(t.toUpperCase()){case"POST":return Hl.POST;case"PUT":return Hl.PUT;case"DELETE":return Hl.DELETE;case"HEAD":return Hl.HEAD;case"OPTIONS":return Hl.OPTIONS;case"GET":default:return Hl.GET}}function PI(t){switch(t.toLowerCase()){case"manifest":return zl.Ff;case"segment":return zl.Hf;case"content-protection":return zl.zf;default:return zl.Uf}}function OI(t){return t}function BI(t){switch(t.toLowerCase()){case"initialization-segment":return Vl.Vf;case"fairplay-license":return Vl.Wf;case"fairplay-certificate":return Vl.Xf;case"widevine-license":return Vl.qf;case"widevine-certificate":return Vl.Gf;case"playready-license":return Vl.Qf;case"clearkey-license":return Vl.Yf;case"aes128-key":return Vl.jf;default:return Vl.Uf}}function LI(t){return t}function MI(t){switch(t.toLowerCase()){case"audio":return Wl.Zf;case"video":return Wl.Jf;case"text":return Wl.Pn;case"image":return Wl.$f;case"":default:return Wl.Uf}}function UI(t){return t}var FI=function(){function t(t,n){this.qC=new Zu,this.GC=[],this.Td=void 0,this.QC=!1,this.mv=void 0,this.YC=0,this.jC=t,this.ZC=n}var n=t.prototype;return n.hp=function(){this.QC=!0,this.qC.Is(null)},n.JC=function(){this.qC.Rs(new ml(this.GC))},n.$C=function(t){if(!this.KC)throw new d("Cannot respond more than once");if(!V(t))throw new d("Expected valid response");this.mv=this.tx(t),this.hp()},n.nx=function(){try{var t=this.ZC(this.Sd);t?this.ix(t):this.ex||this.sx||this.hp()}catch(t){this.GC.push(t),this.JC()}},n.ix=function(t){if(this.sx)throw new v("Request has been redirected or a response already exists");if(G(t))this.ux(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Zu;try{var i=t(function(t){t?n.Rs(t):n.Is(void 0)});G(i)&&n.Is(i)}catch(t){n.Rs(t)}this.ux(n.Ts)}},n.ux=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.YC++,n.next=4,tr.awrap(t);case 4:this.YC--,this.ex||this.sx||(this.GC.length?this.JC():this.hp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.YC--,this.GC.push(n.t0),this.ex||this.sx||this.JC();case 13:case"end":return n.stop()}},null,this,[[0,8]],ge)},A(t,[{key:"ox",get:function(){return this.qC.Ts}},{key:"Sd",get:function(){return this.Td||(this.Td=this.hx()),this.Td}},{key:"sx",get:function(){return this.QC}},{key:"KC",get:function(){return!this.QC}},{key:"ex",get:function(){return this.YC>0}},{key:"pv",get:function(){return this.mv}}]),t}(),HI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).ax=void 0,r.ax=e,r.nx(),r}S(n,t),n.vx=function(t,n,i){var e=void 0===t.body?i:t.body;return new Xl({ai:e,Of:n.Of,Cf:n.Of.Cf,Df:t.headers,Nf:t.status,xf:t.statusText,Bf:t.url,Pf:!0},n)};var i=n.prototype;return i.hx=function(){return i=NI((t=this).Of),{get closed(){return!t.KC},get request(){return i},get url(){return t.Lf},get status(){return t.Nf},get statusText(){return t.xf},get headers(){return n||(n=t.Df.Wa()),n},get body(){return t.yf},respondWith:function(n){return t.$C(n)},waitUntil:function(n){return t.ix(n)}};var t,n,i},i.tx=function(t){return n.vx(t,this.jC,this.ax)},A(n,[{key:"yf",get:function(){return this.ax}},{key:"Df",get:function(){return this.jC.Df}},{key:"Of",get:function(){return this.jC.Of}},{key:"pv",get:function(){return this.mv}},{key:"Nf",get:function(){return this.jC.Nf}},{key:"xf",get:function(){return this.jC.xf}},{key:"Lf",get:function(){return this.jC.Bf}}]),n}(FI),zI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).lx=void 0,r._x=void 0,r._x=e,r.nx(),r}S(n,t);var i=n.prototype;return i.hx=function(){return t=this,{get url(){return t.Lf},get method(){return t.Kf},get headers(){return n||(n=t.Df.Wa()),n},get body(){return t.yf},get closed(){return!t.KC},get useCredentials(){return t.rv},get type(){return OI(t.tr)},get subType(){return LI(t.nv)},get mediaType(){return UI(t.ev)},get responseType(){return CI(t.Cf)},redirect:function(n){return t.wx(n)},respondWith:function(n){return t.$C(n)},waitUntil:function(n){return t.ix(n)}};var t,n},i.tx=function(t){var n=this.jC.yf,i=new Xl({ai:n,Df:{},Of:this.jC,Bf:this.jC.Lf,Cf:this.jC.Cf,Nf:200,xf:"OK"});return HI.vx(t,i,n)},i.wx=function(t){if(!this.KC)throw new d("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.lx=function(t,n){return new ql({Lf:void 0===t.url?n.Lf:t.url,Kf:void 0!==t.method?xI(t.method):void 0,Df:t.headers,yf:t.body,rv:t.useCredentials,tr:void 0!==t.type?PI(t.type):void 0,nv:void 0!==t.subType?BI(t.subType):void 0,ev:void 0!==t.mediaType?MI(t.mediaType):void 0,Cf:void 0!==t.responseType?DI(t.responseType):void 0},n)}(n,this.jC),this.hp()},A(n,[{key:"yf",get:function(){return this.jC.yf}},{key:"KC",get:function(){return this._x&&!this.QC}},{key:"Df",get:function(){return this.jC.Df}},{key:"Kf",get:function(){return this.jC.Kf}},{key:"gx",get:function(){return this.lx}},{key:"pv",get:function(){return this.mv}},{key:"Cf",get:function(){return this.jC.Cf}},{key:"tv",get:function(){return this.jC.tv}},{key:"Pr",get:function(){return this.jC.Pr}},{key:"tr",get:function(){return this.jC.tr}},{key:"nv",get:function(){return this.jC.nv}},{key:"ev",get:function(){return this.jC.ev}},{key:"Lf",get:function(){return this.jC.Lf}},{key:"rv",get:function(){return this.jC.rv}},{key:"sv",get:function(){return this.jC.sv}}]),n}(FI);var VI,WI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new XI(n);return(e=t.call(this,r,i)||this).yx=void 0,e.yx=r,e}S(n,t);var i=n.prototype;return i.mx=function(t){this.yx.mx(t)},i.kx=function(t){this.yx.kx(t)},i.bx=function(t){this.yx.bx(t)},i.Ax=function(t){this.yx.Ax(t)},i.Tx=function(t){this.yx.Tx(t)},n}(Ql),XI=function(){function t(t){this.hv=void 0,this.Sx=[],this.Ex=[],this.hv=t}var n=t.prototype;return n.Of=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr.awrap(this.Ix(t,t.Pr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof t_)){i.next=12;break}return i.next=11,tr.awrap(this.Rx(i.t0,t.Pr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,tr.awrap(this.Nx(n,t.Pr));case 15:if(!Fl(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new i_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],ge)},n.uv=function(t){return this.hv.uv(t)},n.Ix=function(t,n){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:vs(n),i=t,r=0,s=this.Sx.slice();case 3:if(!(r<s.length)){h.next=21;break}if(u=s[r],vs(n),(o=new zI(i,u,!e)).sx){h.next=17;break}return h.prev=8,h.next=11,tr.awrap(o.ox);case 11:h.next=17;break;case 13:return h.prev=13,h.t0=h.catch(8),h.abrupt("continue",18);case 17:o.gx&&!e?i=o.gx:o.pv&&!e&&(e=o.pv);case 18:r++,h.next=3;break;case 21:if(!e){h.next=23;break}return h.abrupt("return",e);case 23:return h.abrupt("return",this.hv.Of(i));case 24:case"end":return h.stop()}},null,this,[[8,13]],ge)},n.Rx=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof i_?t.pv:new Xl({ai:null,Of:t.Of,Nf:0,xf:""}),r.next=3,tr.awrap(this.Nx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Fl(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new i_(e);case 13:case"end":return r.stop()}},null,this,null,ge)},n.Nx=function(t,n){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=t,e=0,r=this.Ex.slice();case 2:if(!(e<r.length)){h.next=23;break}return s=r[e],vs(n),h.next=7,tr.awrap(ge.resolve(i.ys().ai(n)));case 7:if(u=h.sent,(o=new HI(i,s,u)).sx){h.next=19;break}return h.prev=10,h.next=13,tr.awrap(o.ox);case 13:h.next=19;break;case 15:return h.prev=15,h.t0=h.catch(10),h.abrupt("continue",20);case 19:i=o.pv||i;case 20:e++,h.next=2;break;case 23:return h.abrupt("return",i);case 24:case"end":return h.stop()}},null,this,[[10,15]],ge)},n.mx=function(t){this.Sx.unshift(t)},n.kx=function(t){this.Sx.push(t)},n.bx=function(t){ts(this.Sx,t)},n.Ax=function(t){this.Ex.unshift(t)},n.Tx=function(t){ts(this.Ex,t)},n.ov=function(){this.hv.ov(),es(this.Sx),es(this.Ex)},t}(),qI=function(){function t(t){this.Td=void 0,this.uA=t}var n=t.prototype;return n.mx=function(t){this.uA.mx(t)},n.bx=function(t){this.uA.bx(t)},n.Ax=function(t){this.uA.Ax(t)},n.Tx=function(t){this.uA.Tx(t)},A(t,[{key:"Sd",get:function(){var t;return this.Td||(this.Td=(t=this,{addRequestInterceptor:function(n){t.mx(n)},removeRequestInterceptor:function(n){t.bx(n)},addResponseInterceptor:function(n){t.Ax(n)},removeResponseInterceptor:function(n){t.Tx(n)}})),this.Td}}]),t}(),GI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Td=void 0,r.Dx=function(t){r.Ur(t)},r.Cx=function(t){r.Ur(t)},r.xx=n,r.uA=i,r.uR=e,r.xx.Fr(lc.pa,r.Dx),r.xx.Fr(lc.ma,r.Cx),r}S(n,t);var i=n.prototype;return i.Px=function(t){this.uR.Px(t)},i.mx=function(t){this.uA.mx(t)},i.bx=function(t){this.uA.bx(t)},i.Ax=function(t){this.uA.Ax(t)},i.Tx=function(t){this.uA.Tx(t)},i.ov=function(){this.Vr(),this.xx.Wr(lc.pa,this.Dx),this.xx.Wr(lc.ma,this.Cx)},A(n,[{key:"Sd",get:function(){var t;return this.Td||(this.Td=(t=this,{get online(){return t.bw},get estimator(){return n=t.Ox,{get bandwidth(){return n.yS},get roundTripTime(){return n.mS}};var n},setEstimator:function(n){t.Px(function(t){if(t)return{get yS(){return eg(t.bandwidth)},get mS(){return eg(t.roundTripTime)},gS:function(n){return function(t){if(t)return{Bx:function(n){t.markRequestStart(n)},Lx:function(n){t.markResponseStart(n)},Mx:function(n,i){t.markResponseData(n,i)},Ux:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(NI(n)))}}}(n))},addRequestInterceptor:function(n){t.mx(n)},removeRequestInterceptor:function(n){t.bx(n)},addResponseInterceptor:function(n){t.Ax(n)},removeResponseInterceptor:function(n){t.Tx(n)},addEventListener:function(n,i){t.Fr(n,i)},removeEventListener:function(n,i){t.Wr(n,i)}})),this.Td}},{key:"bw",get:function(){return this.xx.bw}},{key:"Ox",get:function(){return this.uR.Ox}}]),n}(Es);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(VI||(VI={}));var QI=30,YI={type:VI.BANDWIDTH},jI=20,ZI=60;function JI(t){var n,i,e,r=Jw(YI);return X(t)?r.type=$I(t):V(t)&&function(t){switch(t){case VI.PERFORMANCE:case VI.QUALITY:case VI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=$I(t.type)),V(t)&&V(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=ig(n.bitrate),y(e)||(i.bitrate=e),i)),r}function $I(t){switch(t){case"bandwidth":return VI.BANDWIDTH;case"performance":return VI.PERFORMANCE;case"quality":return VI.QUALITY}}var KI=function(t){function n(n){var i;return(i=t.call(this,"Hx")||this).Fx=n,i}return S(n,t),n}(Rs),tR=function(t){function n(n){var i;return(i=t.call(this,"Vx")||this).zx=n,i}return S(n,t),n}(Rs),nR=function(t){function n(n){var i;return(i=t.call(this,"Xx")||this).Wx=n,i}return S(n,t),n}(Rs),iR=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Td=(i=Tt(n),{get strategy(){return{metadata:(t=i.zx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.zx=JI(t)},get targetBuffer(){return i.Fx},set targetBuffer(t){var n=ig(t);y(n)||(i.Fx=n>ZI?ZI:n)},get bufferLookbackWindow(){return i.Wx},set bufferLookbackWindow(t){var n=ig(t);y(n)||(i.Wx=n<=0?QI:n)}}),n.qx=YI,n.Gx=jI,n.Qx=QI,n.Yx=void 0,n.jx=void 0,n}S(n,t);var i=n.prototype;return i.Zx=function(t){this.jx=t},i.Px=function(t){this.Yx=t},A(n,[{key:"Jx",get:function(){switch(this.qx.type){case VI.PERFORMANCE:return 0;case VI.QUALITY:return 1/0;case VI.BANDWIDTH:return this.qx.metadata&&void 0!==this.qx.metadata.bitrate?this.qx.metadata.bitrate:8*Ig.Xl();default:return 8*Ig.Xl()}}},{key:"Sd",get:function(){return this.Td}},{key:"zx",get:function(){return this.qx},set:function(t){this.qx=t,this.Ur(new tR(t))}},{key:"Fx",get:function(){return this.Gx},set:function(t){this.Gx=t,this.Ur(new KI(t))}},{key:"Wx",get:function(){return this.Qx},set:function(t){this.Qx=t,this.Ur(new nR(t))}},{key:"Ox",get:function(){var t;return null!=(t=this.Yx)?t:this.jx.CE}}]),n}(Es),eR=function(t){function n(){return t.call(this,"Fd")||this}return S(n,t),n.prototype.Ed=function(){return new rR},n}(Bw),rR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Rs),sR=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).$x=void 0,r.CD=void 0,r.Kx=function(t){Lw(t)&&ms(function(){r.Ur(t.Sd)})},r.$x=n,r.CD=i;for(var s=0,u=r.CD;s<u.length;s++){var o=u[s];r.$x.Fr(o,r.Kx)}return r}return S(n,t),n.prototype.ov=function(){this.Vr();for(var t=0,n=this.CD;t<n.length;t++){var i=n[t];this.$x.Wr(i,this.Kx)}},n}(Es),uR=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).$x=void 0,e.Kx=function(t){Lw(t)&&ms(function(){e.Ur(t.Sd)})},e.$x=n,e.$x.zr(e.Kx),e}return S(n,t),n.prototype.ov=function(){this.Vr(),this.$x.Gr(this.Kx)},n}(Ag),oR=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(uR);var hR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eg=0,n.rg=1/0,n.Td=void 0,n}S(n,t);var i=n.prototype;return i.tl=function(){0===this.eg&&this.rg===1/0||(this.eg=0,this.rg=1/0,this.Ur(new eR))},i.tP=function(){return new eS([this.Gw,this.Qw],[!0,!0])},A(n,[{key:"Gw",get:function(){return this.eg},set:function(t){if(this.Qw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.eg!==t&&(this.eg=t,this.Ur(new eR))}},{key:"Qw",get:function(){return this.rg},set:function(t){if(t<=this.Gw)throw new v("End time of a clip should be larger than the start time.");this.rg!==t&&(this.rg=t,this.Ur(new eR))}},{key:"Sd",get:function(){var t,n,i;return this.Td||(this.Td=(i={get startTime(){return t.Gw},set startTime(n){t.Gw=n},get endTime(){return t.Qw},set endTime(n){t.Qw=n},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)}},n=new uR(t=this,i),i)),this.Td}}]),n}(Ag),aR=function(t){function n(n){var i;return(i=t.call(this)||this).nP=function(t){i.iP(t)||i.Ur(t)},i.eP=n,i.eP.zr(i.nP),i}S(n,t);var i=n.prototype;return i.rP=function(){return this.eP.H_},i.uw=function(){return this.eP.uw()},i.sP=function(){return this.eP.vw},i.uP=function(){return this.eP.cw},i.oP=function(){return this.eP.dw},i.hP=function(t){this.eP.dw=t},i.aP=function(){return this.eP.f_},i.cP=function(t){this.eP.f_=t},i.fP=function(){return this.eP.v_},i.vP=function(){return this.eP.lw},i.dP=function(){return this.eP.d_},i.lP=function(){return this.eP.Kr},i._P=function(){return this.eP.l_},i.wP=function(){return this.eP._w},i.gP=function(){return this.eP.__},i.yP=function(t){this.eP.__=t},i.mP=function(){return this.eP.bw},i.pP=function(){return this.eP.w_},i.kP=function(){return this.eP.g_},i.bP=function(t){this.eP.g_=t},i.AP=function(){return this.eP.Aw},i.TP=function(){return this.eP.Tw},i.SP=function(t){this.eP.Tw=t},i.EP=function(){return this.eP.Nl},i.IP=function(){return this.eP.Sw},i.RP=function(){return this.eP.y_},i.Q_=function(){return this.eP.Q_()},i.Y_=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return vs(n),i.next=3,tr.awrap(this.eP.Y_(t,n));case 3:case"end":return i.stop()}},null,this,null,ge)},i.NP=function(){return this.eP.V_},i.DP=function(){return this.eP.m_},i.CP=function(){return this.eP.z_},i.xP=function(){return this.eP.p_},i.PP=function(){return this.eP.k_},i.OP=function(t){this.eP.k_=t},i.sw=function(){return this.eP.sw()},i.rw=function(){return this.eP.rw()},i.tw=function(t){this.eP.tw(t)},i.nw=function(){this.eP.nw()},i.ew=function(){this.eP.ew()},i.K_=function(){this.eP.K_()},i.q_=function(){this.eP.q_()},i.X_=function(){this.eP.X_()},i.iw=function(){this.eP.iw()},i.G_=function(){return this.eP.G_()},i.j_=function(){return this.eP.j_()},i.Z_=function(){this.eP.Z_()},i.J_=function(){this.eP.J_()},i.tl=function(){return this.eP.tl()},i.ov=function(){return this.eP.ov()},i.fw=function(){this.eP.fw()},i.ow=function(t){return this.eP.ow(t)},i.iP=function(t){return!1},A(n,[{key:"H_",get:function(){return this.rP()}},{key:"vw",get:function(){return this.sP()}},{key:"dw",get:function(){return this.oP()},set:function(t){this.hP(t)}},{key:"cw",get:function(){return this.uP()}},{key:"f_",get:function(){return this.aP()},set:function(t){this.cP(t)}},{key:"v_",get:function(){return this.fP()}},{key:"lw",get:function(){return this.vP()}},{key:"d_",get:function(){return this.dP()}},{key:"Kr",get:function(){return this.lP()}},{key:"l_",get:function(){return this._P()}},{key:"W_",get:function(){return this.eP.W_}},{key:"_w",get:function(){return this.wP()}},{key:"R_",get:function(){return this.eP.R_}},{key:"__",get:function(){return this.gP()},set:function(t){this.yP(t)}},{key:"bw",get:function(){return this.mP()}},{key:"w_",get:function(){return this.pP()}},{key:"g_",get:function(){return this.kP()},set:function(t){this.bP(t)}},{key:"Aw",get:function(){return this.AP()}},{key:"Tw",get:function(){return this.TP()},set:function(t){this.SP(t)}},{key:"Nl",get:function(){return this.EP()}},{key:"Sw",get:function(){return this.IP()}},{key:"y_",get:function(){return this.RP()}},{key:"V_",get:function(){return this.NP()}},{key:"m_",get:function(){return this.DP()}},{key:"z_",get:function(){return this.CP()}},{key:"p_",get:function(){return this.xP()}},{key:"k_",get:function(){return this.PP()},set:function(t){this.OP(t)}},{key:"Ew",get:function(){return this.eP.Ew},set:function(t){this.eP.Ew=t}}]),n}(Tg),cR=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).BP=void 0,r.LP=!1,r.MP=void 0,r.UP=!1,r.FP=function(){r.HP(),r.zP()},r.QS=function(){r.VP(),r.zP(),r.WP&&r.f_>=r.BP.Qw-n.XP&&!r.d_&&(r.MP=vI(r.QS))},r.qP=function(){r.UP=!0},r.GP=function(){r.UP&&(r.UP=!1,r.zP())},r.BP=e,r.BP.Fr("Fd",r.FP),r.eP.Fr("timeupdate",r.QS),r}S(n,t);var i=n.prototype;return i.cP=function(n){var i=this.BP.tP().mI(n);t.prototype.cP.call(this,i),this.zP()},i.dP=function(){return t.prototype.dP.call(this)||this.LP},i.IP=function(){return eS.XI(t.prototype.IP.call(this)).bI(this.BP.tP()).IE()},i.X_=function(){this.dP()?this.cP(this.QP.start(0)):this.HP(),t.prototype.X_.call(this),this.zP()},i.Y_=function(n,i){return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return vs(i),this.LP=!1,this.BP.tl(),e.next=5,tr.awrap(t.prototype.Y_.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,ge)},i.ov=function(){return this.BP.Wr("Fd",this.FP),this.eP.Wr("timeupdate",this.QS),this.VP(),t.prototype.ov.call(this)},i.iP=function(n){switch(n.type){case"seeking":return this.Ur(n),this.qP(),!0;case"seeked":case"emptied":return this.Ur(n),this.GP(),!0;case"ended":if(this.WP)return!0}return t.prototype.iP.call(this,n)},i.VP=function(){this.MP&&(dI(this.MP),this.MP=void 0)},i.zP=function(){var t=this.f_,i=this.WP&&t>=this.BP.Qw-n.Sy;this.LP&&!i?(this.LP=!1,this.w_&&this.X_()):this.LP||!i||this.y_||this.UP||(this.LP=!0,this.Ur(new oy(t)),this.q_())},i.HP=function(){if(this.v_!==1/0){var t=this.QP,i=eS.XI(t).mI(this.f_);vt(this.f_,i,n.Sy)||this.cP(i)}},A(n,[{key:"QP",get:function(){return this.IP().length?this.IP():this.BP.tP().IE()}},{key:"WP",get:function(){return this.BP.Qw<this.v_}}]),n}(aR);cR.XP=1,cR.Sy=.001;var fR=function(){function t(){this.YP=void 0,this.YP=!1}return A(t,[{key:"jP",get:function(){return this.YP},set:function(t){this.YP=t}}]),t}(),vR=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).YP=void 0,e.ZP=!1,e.JP=!1,e.YP=i,e}S(n,t);var i=n.prototype;return i.dP=function(){return!this.YP.jP&&t.prototype.dP.call(this)},i.q_=function(){this.JP=!0,t.prototype.q_.call(this)},i.X_=function(){this.JP=!1,t.prototype.X_.call(this)},i.iP=function(n){if(this.YP.jP)switch(n.type){case"ended":return this.f_=0,this.JP||(this.y_?this.ZP=!0:this.X_()),!0;case"seeked":this.ZP&&(this.ZP=!1,this.X_());break;case"pause":if(this.ZP||t.prototype.dP.call(this))return!0}return t.prototype.iP.call(this,n)},n}(aR);var dR=function(){function t(t){var n;this.Td=(n=this,{get currentBandwidthEstimate(){return n.mw},get corruptedVideoFrames(){return n.gw},get droppedVideoFrames(){return n.ww},get totalBytesLoaded(){return n.pw},get bufferedSegments(){return n.kw}}),this.KE=t}return A(t,[{key:"Sd",get:function(){return this.Td}},{key:"gw",get:function(){return this.KE.$P.R_.gw}},{key:"mw",get:function(){return this.KE.$P.R_.mw}},{key:"ww",get:function(){return this.KE.$P.R_.ww}},{key:"KP",get:function(){throw new v("Not implemented")}},{key:"tO",get:function(){throw new v("Not implemented")}},{key:"pw",get:function(){return this.KE.$P.R_.pw}},{key:"yw",get:function(){return this.KE.$P.R_.yw}},{key:"kw",get:function(){return this.KE.$P.R_.kw}}]),t}();function lR(t){if(!t||!xe(t))return{ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{ww:n.droppedVideoFrames,gw:n.corruptedVideoFrames||0,yw:n.totalVideoFrames}}return{ww:t.webkitDroppedFrameCount||0,gw:0,yw:t.webkitDecodedFrameCount||0}}var _R=function(t){function n(){return t.call(this,"nO")||this}return S(n,t),n.prototype.Ed=function(){return new wR},n}(Bw),wR=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(Rs);var gR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iO=[],n.Td=void 0,n.eO=function(){return n.Ur(new _R)},n}S(n,t);var i=n.prototype;return i.rO=function(t){this.iO.push(t),t.Fr("statechange",this.eO)},i.ov=function(){var t=this;this.iO.forEach(function(n){n.Wr("statechange",t.eO)}),es(this.iO)},A(n,[{key:"sO",get:function(){return this.iO.some(function(t){return t.sO})}},{key:"Sd",get:function(){var t,n,i;return this.Td||(this.Td=(i={get casting(){return t.sO},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)}},n=new oR(t=this,i),i)),this.Td}}]),n}(Tg),yR=function(){function t(){}return t.uO=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new ql({Lf:t,Cf:_c.Pn,Kf:Hl.GET}),r.next=4,tr.awrap(n.Of(i));case 4:return e=r.sent,r.next=7,tr.awrap(e.ai());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),fs(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],ge)},t.oO=function(t){try{var i=AE(t);return new NE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ya(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.hO=function(t){void 0===t&&(t=WE.Ky),i.we("The baked-in license is used. Please update the configuration with your license.");var n=t.LN(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.LN(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.LN(n)}),s=Number(new Date(Number(t.LN("COD|aHpHa:p3Ceo3Co\"\""))));return new NE(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new NE(t.XN,t.qN,t.GN,864e13,t.YN,Date.now(),t.ZN,t.JN)},t}(),mR=function(){function t(){}return t.ia=function(){return t.In||(t.In=pR.wh()?new pR:new ac),t.In},t.vs=function(n){t.ia().vs(n)},t.ta=function(){t.ia().ta()},t.as=function(n){return t.ia().as(n)},t.na=function(n,i){t.ia().na(n,i)},t.aO=function(n){var i=t.as(n);if(void 0!==i)return g(i)},t.cO=function(n){return"true"===t.as(n)},t}();mR.In=void 0;var pR=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.vs=function(n){t.localStorage.removeItem(n)},e.ta=function(){t.localStorage.clear()},e.as=function(n){return t.localStorage[n]},e.na=function(n,i){t.localStorage[n]=i},i}(mR),kR=_.floor(14399999*_.random()-72e5),bR=function(){function t(t,n,i,e,r,s){this.tD=void 0,this.uA=t,this.fO=n,this.vO=i,this.MD=e,this.dO=r,this._u=s,this.tD=LE(s)}var i=t.prototype;return i.lO=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this._O(this.dO.license,this.dO.licenseUrl));case 2:t=n.sent,this.MD.wO(t);case 4:case"end":return n.stop()}},null,this,null,ge)},i._O=function(t,i){var e,r,s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=yR.oO(t):e||(r=yR.hO()),e||(e="https://validate.theoplayer.com/1/"+r.XN),s=this.gO(),!r){v.next=14;break}if((u=this.fO.uD(r))!==SE.zN){v.next=14;break}if(!this.yO(r.QN)||!this.yO(null==s?void 0:s.QN)){v.next=13;break}return v.next=10,tr.awrap(this.mO(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.fO.uD(s)!==SE.zN){v.next=24;break}if(!this.yO(null==s?void 0:s.QN)){v.next=23;break}return v.next=20,tr.awrap(this.mO(e));case 20:if(!(h=v.sent)){v.next=23;break}return v.abrupt("return",h);case 23:return v.abrupt("return",s);case 24:mR.vs("THEOplayer.license");case 25:return v.next=27,tr.awrap(yR.uO(e,this.uA));case 27:if(!(a=v.sent)){v.next=37;break}if(c=yR.oO(a),this.fO.uD(c)!==SE.zN){v.next=34;break}return mR.na("THEOplayer.license",a),v.abrupt("return",c);case 34:mR.vs("THEOplayer.license"),v.next=39;break;case 37:if(this.tD||!r||u!==SE.VN||e!=="https://validate.theoplayer.com/1/"+r.XN){v.next=39;break}return v.abrupt("return",yR.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.pO(null!=(f=r)?f:c,new Ya(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Ya(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,ge)},i.eD=function(t){var n,i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,tr.awrap(this.MD.XD());case 2:if(n=h.sent,!this.yO(n.QN)){h.next=9;break}return e=null!=(i=this.dO.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.XN,h.next=7,tr.awrap(this.mO(e));case 7:(r=h.sent)&&(this.MD.wO(r),n=r);case 9:if(h.prev=9,(s=this.fO.uD(n))!==SE.WN){h.next=16;break}throw u=RE.$N,new Ya(CE(u),UE.sD(u));case 16:if(s!==SE.VN){h.next=19;break}throw o=RE.VN,new Ya(CE(o),UE.sD(o));case 19:this.fO.eD(t,n),h.next=25;break;case 22:h.prev=22,h.t0=h.catch(9),this.kO(h.t0);case 25:case"end":return h.stop()}},null,this,[[9,22]],ge)},i.mO=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr.awrap(yR.uO(t,this.uA));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=yR.oO(n),this.fO.uD(i)!==SE.zN){e.next=11;break}return mR.na("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],ge)},i.yO=function(t){return!t||Number(new Date)+2592e5+kR>=t},i.gO=function(){var t=mR.as("THEOplayer.license");if(t)return yR.oO(t)},i.pO=function(t,n){this.MD.wO(t),this.kO(n)},i.kO=function(t){throw ut(t.message),this.vO.QD(t.message),t},t}(),AR=function(){function t(){this.bO=void 0,this.AO=new Zu}var n=t.prototype;return n.wO=function(t){this.bO=t,this.AO.Is()},n.XD=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.bO){t.next=2;break}return t.abrupt("return",ge.resolve(this.bO));case 2:return t.next=4,tr.awrap(this.AO.Ts);case 4:return t.abrupt("return",this.bO);case 5:case"end":return t.stop()}},null,this,null,ge)},A(t,[{key:"TO",get:function(){return this.bO}}]),t}(),TR=function(t){function n(){return t.call(this,"Fd")||this}return S(n,t),n.prototype.Ed=function(){return new SR},n}(Bw),SR=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Rs);function ER(t){var n,i={get fontFamily(){return t.SO},set fontFamily(n){t.SO=n},get fontColor(){return t.EO},set fontColor(n){t.EO=n},get fontSize(){return t.IO},set fontSize(n){t.IO=n},get backgroundColor(){return t.RO},set backgroundColor(n){t.RO=n},get windowColor(){return t.DO},set windowColor(n){t.DO=n},get edgeStyle(){return t.CO},set edgeStyle(n){t.CO=n},addEventListener:function(t,i){var e=ug(t,rg);n.Fr(e,i)},removeEventListener:function(t,i){var e=ug(t,rg);n.Wr(e,i)}};return n=new Is(i),t.Fr(["Fd"],function(t){return n.Ur(t.Sd)}),i}var IR,RR,NR={SO:void 0,EO:void 0,IO:void 0,RO:void 0,DO:void 0,CO:void 0,xO:void 0},DR="THEOplayer.textTrackStyle.",CR=function(t){function n(){var i;return(i=t.call(this)||this).PO=void 0,i.Td=void 0,i.PO=n.OO(),i}return S(n,t),n.prototype.jo=function(t){this.PO=nr({},this.PO,t),n.BO(this.PO),this.Ur(new TR)},n.OO=function(){var t=nr({},NR);return t.SO=mR.as(DR+"fontFamily")||t.SO,t.EO=mR.as(DR+"fontColor")||t.EO,t.IO=mR.as(DR+"fontSize")||t.IO,t.RO=mR.as(DR+"backgroundColor")||t.RO,t.DO=mR.as(DR+"windowColor")||t.DO,t.CO=mR.as(DR+"edgeStyle")||t.CO,t},n.BO=function(t){mR.na(DR+"fontFamily",t.SO||""),mR.na(DR+"fontColor",t.EO||""),mR.na(DR+"fontSize",t.IO||""),mR.na(DR+"backgroundColor",t.RO||""),mR.na(DR+"windowColor",t.DO||""),mR.na(DR+"edgeStyle",t.CO||"")},A(n,[{key:"LO",get:function(){return this.PO}},{key:"SO",get:function(){return this.PO.SO},set:function(t){this.jo({SO:t})}},{key:"EO",get:function(){return this.PO.EO},set:function(t){this.jo({EO:t})}},{key:"IO",get:function(){return this.PO.IO},set:function(t){this.jo({IO:t})}},{key:"RO",get:function(){return this.PO.RO},set:function(t){this.jo({RO:t})}},{key:"DO",get:function(){return this.PO.DO},set:function(t){this.jo({DO:t})}},{key:"CO",get:function(){return this.PO.CO},set:function(t){this.jo({CO:t})}},{key:"xO",get:function(){return this.PO.xO}},{key:"Sd",get:function(){return this.Td||(this.Td=ER(this)),this.Td}}]),n}(Es),xR=function(t){function n(n,e){var r;(r=t.call(this)||this).MO=void 0,r.eh=void 0,r.$P=void 0,r.UO=void 0,r.md=void 0,r.BP=void 0,r.YP=void 0,r.FO=void 0,r.HO=void 0,r.uR=void 0,r.fO=void 0,r.zO=void 0,r.VO=void 0,r.sR=void 0,r.WO=!1,r.P_=!1,r.xw=void 0,r.XO=!1,r.qO=void 0,r.GO=void 0,r.QO=void 0,r.YO=void 0,r.jO=void 0,r.ZO=function(t){if(!r.XO){r.XO=!0;var n=r.MO,i=My(t);r.$P.cl=new aS(r.lw,i,t),ps(n.ov())}},r.JO=function(t){r.Ur(t.Sd)},r.$O=function(t){t.type!==lc.pa&&t.type!==lc.ma&&r.Ur(t)};var s=ig(e.uid);y(s)?r.xw=Gy++:r.xw=s,r.eh=e;var u=i.md,o=new AR;r.UO=new tI("3.4.0",u,o),r.md=new WI(u,e.allowMixedContent),r.uR=new iR,r.fO=new DE(e.isEmbeddable,"3.4.0",TE()),r.jO=new bR(u,r.fO,r.UO,o,e,TE()),r.jO.lO().catch(r.ZO),r.zO=new kI(n),r.zO.Fr("iC",r.JO),r.sR=new CR,r.BP=new hR,r.YP=new fR;var h=new hS(n,e,r.md,r.uR,r.zO,r.sR);r.uR.Zx(h);var a=h;a=new cR(a,r.KO),a=new vR(a,r.jP),r.MO=a,r.$P=new Py(r.MO),r.$P.zr(r.$O),r.YO=new dR(Tt(r)),r.GO=new GI(r.$P,r.md,r.uR),r.FO=new eI(Tt(r)),r.VO=new RI(r.$P,e.allowNativeFullscreen),r.HO=new RS(r.VO),r.zO.uh();var c=new Mi(r.zO,r.sR,1,[Fy.Jf]);return r.qO=new Ui(c),r.QO=new gR,r}S(n,t);var e=n.prototype;return e.yP=function(t){this.$P.__=t,t||this.w_||this.K_()},e.OP=function(t){this.$P.k_=t},e.tB=function(){my(this,NS,this)},e.X_=function(){this.$P.X_()},e.q_=function(){this.$P.q_()},e.Y_=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.jO.eD(t).catch(this.ZO),i=PR(t),e.next=5,tr.awrap(this.$P.Y_(i,n));case 5:case"end":return e.stop()}},null,this,null,ge)},e.K_=function(){this.P_||(this.$P.K_(),this.qO.K_(),this.P_=!0)},e.jI=function(){return this.HO.OR()===AS.FULLSCREEN},e.iw=function(){this.$P.iw()},e.ew=function(){this.$P.ew()},e.rw=function(){return this.$P.rw()},e.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.$P.G_());case 2:return t.next=4,tr.awrap(this.$P.tl());case 4:case"end":return t.stop()}},null,this,null,ge)},e.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),this.QO.ov(),this.md.ov(),this.GO.ov(),this.VO.ov(),this.HO.ov(),this.zO.ov(),this.UO.ov(),this.qO.ov(),t.next=11,tr.awrap(this.$P.ov());case 11:case"end":return t.stop()}},null,this,null,ge)},A(n,[{key:"nB",get:function(){return this.uR}},{key:"U_",get:function(){return this.WO},set:function(t){this.WO=t,this.$P.U_=t}},{key:"iB",get:function(){return this.qO}},{key:"H_",get:function(){return this.$P.H_}},{key:"eB",get:function(){return this.QO}},{key:"rB",get:function(){return this.zO}},{key:"W_",get:function(){return this.$P.W_}},{key:"R_",get:function(){return this.YO}},{key:"sB",get:function(){return this.GO}},{key:"V_",get:function(){return this.$P.V_}},{key:"uB",get:function(){return this.sR}},{key:"z_",get:function(){return this.$P.z_}},{key:"vw",get:function(){return this.$P.vw}},{key:"KO",get:function(){return this.BP}},{key:"jP",get:function(){return this.YP}},{key:"f_",get:function(){return this.$P.f_},set:function(t){this.$P.f_=t}},{key:"dw",get:function(){return this.$P.dw},set:function(t){this.$P.dw=t}},{key:"cw",get:function(){return this.$P.cw}},{key:"v_",get:function(){return this.$P.v_}},{key:"lw",get:function(){return this.$P.lw}},{key:"d_",get:function(){return this.$P.d_}},{key:"Kr",get:function(){return this.$P.Kr}},{key:"l_",get:function(){return this.$P.l_}},{key:"__",get:function(){return this.$P.__},set:function(t){var n=Boolean(t);this.yP(n)}},{key:"w_",get:function(){return this.$P.w_}},{key:"g_",get:function(){return this.$P.g_},set:function(t){this.$P.g_=t}},{key:"Aw",get:function(){return this.$P.Aw}},{key:"Tw",get:function(){return this.$P.Tw},set:function(t){this.$P.Tw=JT(t)}},{key:"Nl",get:function(){return this.$P.Nl}},{key:"Sw",get:function(){return this.$P.Sw}},{key:"y_",get:function(){return this.$P.y_}},{key:"_l",get:function(){return this.xw}},{key:"m_",get:function(){return this.$P.m_}},{key:"p_",get:function(){return this.$P.p_}},{key:"k_",get:function(){return this.$P.k_},set:function(t){var n=ft(Number(t),0,1)||0;this.OP(n)}}]),n}(Tg);function PR(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.oB=0]="oB",t[t.hB=1]="hB"}(IR||(IR={})),function(t){t[t.aB=0]="aB"}(RR||(RR={}));var OR={};function BR(t,n){(OR[n]||(OR[n]=[])).push(t)}function LR(t,n){var i=t;if(OR[n])for(var e=0,r=OR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var MR=[];function UR(t){MR.push(t)}var FR=t.CustomEvent;var HR=function(){try{var t=new FR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},zR=function(){function t(t,n){var i=this;this.KE=void 0,this.cB=void 0,this.fB=!1,this.vB=function(t){i.cB.GD(t.error,i.f_)},this.dB=function(){i.cB.WD(i.lB),i.KE.removeEventListener("playing",i.dB),i.fB=!1},this._B=function(){i.fB||(i.KE.addEventListener("playing",i.dB),i.fB=!0)},this.cB=n,this.KE=t,this.KE.addEventListener("error",this.vB),this.KE.addEventListener("sourcechange",this._B),this._B()}return t.prototype.tl=function(){},A(t,[{key:"f_",get:function(){var t=this.KE.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"lB",get:function(){return this.KE.src||""}}]),t}();UR(function(t){new zR(t.Sd,t.UO)});var VR="theoplayer-stored-volume",WR="theoplayer-stored-mutedstate";BR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=mR.aO(VR);(void 0===r||y(r))&&(r=1);var s=mR.cO(WR)||!1;e.k_=r,e.__=s}return e}S(n,t);var i=n.prototype;return i.yP=function(n){this.eh.persistVolume&&mR.na(WR,""+Boolean(n)),t.prototype.yP.call(this,n)},i.OP=function(n){this.eh.persistVolume&&mR.na(VR,""+Number(n)),t.prototype.OP.call(this,n)},n}(t)},IR.hB);var XR=new(function(){function t(){this.wB=[],this.Td=void 0}var n=t.prototype;return n.Zd=function(t){return this.wB[t]},n.gB=function(t){this.wB.push(t),this.Sd.push(t.Sd)},n.Yo=function(t){var n=this.wB.indexOf(t);n<0||(ns(this.wB,n),this.Td&&ns(this.Td,n))},n.yB=function(t){for(var n=0,i=this.wB;n<i.length;n++){var e=i[n];if(e._l===t)return e}},A(t,[{key:"il",get:function(){return this.wB.length}},{key:"Sd",get:function(){return this.Td||(this.Td=function(t){for(var n=[],i=0;i<t.il;i++)n[i]=t.Zd(i).Sd;return n.getPlayerByUID=function(n){var i=t.yB(n);return i&&i.Sd},n}(this)),this.Td}}]),t}()),qR=function(){function t(t){var n=this;this.mB=[],this.pB=void 0,this.Uc=new as,this.kB=void 0,this.bB=function(){return 0===n.mB.length?n.kB?GR(n.kB,n.Uc.Pr).then(n.AB,n.AB):n.AB():n.mB.shift()().then(n.bB)},this.AB=function(){if(0!==n.mB.length)return n.bB();n.pB=void 0},this.kB=t}var n=t.prototype;return n.TB=function(t,n){var i=this;return new ge(function(e){var r=new as;r.Cr(i.Uc.Pr),n&&r.Cr(n);var s=function(){r.Tr()};i.mB.push(function(){var n=GR(t,r.Pr);return e(n),n.then(s,s)}),i.pB||(i.pB=i.bB())})},n.Dr=function(){return this.SB(!0)},n.ov=function(){return this.kB=void 0,this.SB(!1)},n.SB=function(t){var n=this.pB;return this.Uc.Dr(),t&&(this.Uc=new as),ge.resolve(n)},t}();function GR(t,n){return new ge(function(i){return i(t(n))})}var QR,YR=function(t){function n(n){var i;return(i=t.call(this,lc.Oa)||this).source=n,i}return S(n,t),n}(Rs),jR=function(t){function n(){var n;return(n=t.call(this)||this).$I=void 0,n.tR=void 0,n.iR=void 0,n.nR=void 0,n.$I=0,n.tR=!0,n.iR=!1,n.nR=1,n}S(n,t);var i=n.prototype;return i.X_=function(){this.tR&&(this.tR=!1,this.Ur(new Kg(this.f_)),this.Ur(new vb(this.f_)))},i.q_=function(){this.tR||(this.tR=!0,this.Ur(new uy(this.f_,this.dw)),this.Ur(new $g(this.f_)))},i.tl=function(){this.$I=0,this.iR=!1,this.nR=1,this.q_(),this.Ur(new Jg(this.$I))},i.ov=function(){this.Vr()},i.ew=function(){},i.iw=function(){},A(n,[{key:"dw",get:function(){},set:function(t){}},{key:"f_",get:function(){return this.$I},set:function(t){this.iR&&this.$I===t||(this.$I=t,this.iR=!0,this.Ur(new ay(this.f_)))}},{key:"w_",get:function(){return this.tR}},{key:"g_",get:function(){return this.nR},set:function(t){this.nR!==t&&(this.nR=t,this.Ur(new sy(this.f_,this.g_)))}},{key:"Nl",get:function(){return Pg.t_}},{key:"y_",get:function(){return this.iR}}]),n}(Ag),ZR=function(t){function n(){return t.call(this,lc.ca)||this}return S(n,t),n}(Rs),JR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},$R={visibility:"hidden"},KR={visibility:"visible"},tN=function(){function t(t){var n,i=this;this.YE=void 0,this.KE=void 0,this.EB=!1,this.IB=void 0,this.RB=void 0,this.NB=function(t){var n;i.EB=!1,i.IB=null==(n=t.source)?void 0:n.poster,i.jo()},this.EA=function(){i.EB=!0,i.ew()},this.KE=t,this.eI(),this.YE=((n=Hi&&Hi.document&&Hi.document.createElement("div")).className="theoplayer-poster",Ne(JR,n),n),t.lw.appendChild(this.YE)}var n=t.prototype;return n.jo=function(){var t=this.KE.w_,n=this.EB;this.Lf?this.YE.style.backgroundImage='url("'+this.Lf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.YE.style.backgroundImage="",t&&this.Lf&&!n?this.iw():this.ew()},n.iw=function(){Ne($R,this.KE.lw),Ne(KR,this.YE)},n.ew=function(){Ne($R,this.YE),Ne(KR,this.KE.lw)},n.eI=function(){this.KE.Fr("sourcechange",this.NB),this.KE.Fr("play",this.EA)},n.ov=function(){this.KE.Wr("sourcechange",this.NB),this.KE.Wr("play",this.EA),Ee(this.YE)},A(t,[{key:"Lf",get:function(){return void 0!==this.IB?this.IB:void 0!==this.RB?this.RB:void 0}},{key:"DB",set:function(t){this.RB=t,this.jo()}}]),t}();function nN(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).KE=void 0,r.CB=void 0,r.xB=void 0,r.PB=void 0,r.OB=void 0,r.BB=void 0,r.LB=void 0,r.MB=void 0,r.iI=void 0,r.nI=void 0,r.Td=void 0,r.UB=function(t){t.type!==lc.Ta&&r.MB.push(t)},r.CB=new t(i,e),r.xB=new jR,r.KE=r.CB,r.PB=new tN(Tt(r)),r.BB=new qR,r.LB=!1,r.MB=[],r.iI=!0,r.nI=void 0,r.eI(),r}S(i,n);var e=i.prototype;return e.TB=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.BB.TB(t,n).catch(ls));case 1:case"end":return i.stop()}},null,this,null,ge)},e.FB=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return vs(n),this.CB.zr(this.UB),i.next=4,tr.awrap(this.CB.Y_(t,n));case 4:this.CB.Gr(this.UB);case 5:case"end":return i.stop()}},null,this,null,ge)},e.HB=function(){var t,n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.Q_())&&!nE(t)&&this.U_&&this.w_){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.eh.mutedAutoplay,e.next=6,tr.awrap(this.iB.zB());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.VB(),e.abrupt("break",14);case 12:return(this.__||n===ty.ALL)&&(this.__=!0,this.X_()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,ge)},e.Y_=function(t){var n=this,i=this.nI;i&&!nE(i)&&this.Ur(new Jg(0,0)),this.tl(),this.nI=t,ps(this.TB(function(i){return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return vs(i),e.prev=1,e.next=4,tr.awrap(n.FB(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.nI=void 0,e.t0;case 10:return e.next=12,tr.awrap(n.WB());case 12:case"end":return e.stop()}},null,null,[[1,6]],ge)}))},e.WB=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XB(this.CB),this.Ur(new YR(this.Q_())),t.next=4,tr.awrap(this.HB());case 4:case"end":return t.stop()}},null,this,null,ge)},e.cP=function(t){this.KE.f_=t},e.lP=function(){return this.CB.Kr},e._P=function(){return this.CB.l_},e.X_=function(){this.KE.X_()},e.VB=function(){this.__||this.K_(),this.X_()},e.K_=function(){this.CB.K_()},e.q_=function(){this.KE.q_()},e.G_=function(){this.Y_(void 0)},e.iw=function(){this.iI=!0,this.KE.iw()},e.ew=function(){this.iI=!1,this.KE.ew()},e.tB=function(){this.CB.tB()},e.OP=function(t){this.CB.OP(t)},e.yP=function(t){this.CB.yP(t)},e.qB=function(t){this.OB=t,t.gB(this)},e.jI=function(){return this.CB.jI()},e.Q_=function(){return this.nI},e.rw=function(){return this.CB.rw()},e.aP=function(){return this.CB.f_},e.fP=function(){return this.CB.v_},e.sP=function(){return this.CB.vw},e.AP=function(){return this.CB.Aw},e.IP=function(){return this.CB.Sw},e.tl=function(){var t=this;this.nI=void 0,es(this.MB),this.xB.tl(),this.XB(this.xB),this.BB.Dr(),ps(this.BB.TB(function(n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return vs(n),i.next=3,tr.awrap(t.CB.tl());case 3:case"end":return i.stop()}},null,null,null,ge)}))},e.ov=function(){var t=this;this.Ur(new ZR),this.PB.ov(),this.rI(),this.tl(),ps(this.TB(function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(t.CB.ov());case 2:t.OB&&(t.OB.Yo(t),t.OB=void 0),t.BB.ov();case 4:case"end":return n.stop()}},null,null,null,ge)})),this.Vr()},e.XB=function(t){if(this.KE!==t){var n=this.KE.w_,i=this.KE.f_,e=this.KE.g_,r=this.KE.y_;this.rI(),t===this.CB?((r||t.f_!==i)&&(t.f_=i),t.g_!==e&&(t.g_=e),n?t.q_():t.X_()):this.eh.retainPlaybackRateOnSourceChange?t.g_=e:1!==e&&this.Ur(new sy(this.aP(),1)),this.KE=t,this.eI();for(var s=0,u=this.MB;s<u.length;s++){var o=u[s];this.Ur(o)}es(this.MB),this.iI?t.iw():t.ew()}},e.eI=function(){this.KE.zr(this.Mr)},e.rI=function(){this.KE.Gr(this.Mr)},e.Ed=function(){return t=this,e=function(n){i=n;var e=vE(n,t.eh);t.Y_(e)},r={get abr(){return t.nB.Sd},get audioTracks(){return t.H_.Sd},get autoplay(){return t.U_},set autoplay(n){t.U_=Boolean(n)},get buffered(){return t.sP()},get canvas(){return t.FO.Sd},get clip(){return t.KO.Sd},get currentProgramDateTime(){var n;return null!=(n=t.dw)?n:null},set currentProgramDateTime(n){t.dw=null!=n?n:void 0},get currentTime(){return t.aP()},set currentTime(n){t.cP(Number(n))},get duration(){return t.fP()},get element(){return t.lw},get ended(){return t.d_},get error(){return t.lP()},get errorObject(){return t._P()},get loop(){return t.jP.jP},set loop(n){t.jP.jP=Boolean(n)},get metrics(){return t.R_.Sd},get muted(){return t.__},set muted(n){t.yP(n)},get network(){return t.sB.Sd},get paused(){return t.w_},get playbackRate(){return t.g_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.g_=i},get played(){return t.AP()},get poster(){return t.GB},set poster(n){t.GB=rg(n)},get preload(){return t.Tw},set preload(n){t.Tw=n},get presentation(){return t.HO.Sd},get readyState(){return t.Nl},get seekable(){return t.IP()},get seeking(){return t.y_},get source(){return i},set source(t){e(t)},get src(){return iE(t.Q_())},set src(t){e({sources:t})},get textTracks(){return t.V_.Sd},get textTrackStyle(){return t.uB.Sd},get uid(){return t._l},get videoHeight(){return t.m_},get videoTracks(){return t.z_.Sd},get videoWidth(){return t.p_},get volume(){return t.k_},set volume(n){t.OP(Number(n))},destroy:function(){t.ov(),t=null,i=void 0},play:function(){t.VB()},pause:function(){t.q_()},stop:function(){i=void 0,t.G_()},prepareWithUserAction:function(){t.K_()},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)},setSource:function(t){e(t)}},(n=new ES(r,!0)).yR(t),r;var t,n,i,e,r},A(i,[{key:"UO",get:function(){return this.CB.UO}},{key:"FO",get:function(){return this.CB.FO}},{key:"eh",get:function(){return this.CB.eh}},{key:"MO",get:function(){return this.CB.MO}},{key:"md",get:function(){return this.CB.md}},{key:"pE",get:function(){return this.CB.VO}},{key:"HO",get:function(){return this.CB.HO}},{key:"zO",get:function(){return this.CB.zO}},{key:"$P",get:function(){return this.CB.$P}},{key:"nB",get:function(){return this.CB.nB}},{key:"U_",get:function(){return this.CB.U_},set:function(t){this.CB.U_=t,this.HB()}},{key:"iB",get:function(){return this.CB.iB}},{key:"H_",get:function(){return this.CB.H_}},{key:"eB",get:function(){return this.CB.eB}},{key:"rB",get:function(){return this.CB.zO}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"W_",get:function(){return this.CB.W_}},{key:"R_",get:function(){return this.CB.R_}},{key:"sB",get:function(){return this.CB.sB}},{key:"V_",get:function(){return this.CB.V_}},{key:"uB",get:function(){return this.CB.uB}},{key:"z_",get:function(){return this.CB.z_}},{key:"KO",get:function(){return this.CB.KO}},{key:"jP",get:function(){return this.CB.jP}},{key:"dw",get:function(){return this.KE.dw},set:function(t){this.KE.dw=t}},{key:"cw",get:function(){return this.CB.cw}},{key:"lw",get:function(){return this.CB.lw}},{key:"d_",get:function(){return this.CB.d_}},{key:"__",get:function(){return this.CB.__},set:function(t){this.CB.__=t}},{key:"w_",get:function(){return this.KE.w_}},{key:"GB",get:function(){return this.PB.Lf||""},set:function(t){this.PB.DB=t}},{key:"g_",get:function(){return this.CB.g_},set:function(t){this.KE.g_=t}},{key:"Tw",get:function(){return this.CB.Tw},set:function(t){this.CB.Tw=JT(t)}},{key:"Nl",get:function(){return this.KE.Nl}},{key:"y_",get:function(){return this.KE.y_}},{key:"_l",get:function(){return this.CB._l}},{key:"m_",get:function(){return this.CB.m_}},{key:"p_",get:function(){return this.CB.p_}},{key:"k_",get:function(){return this.CB.k_},set:function(t){this.CB.k_=t}}]),i}(Tg)}function iN(t,n){var i=gy(n),e=new(QR||(QR=LR(QR=nN(xR),IR.oB),QR=LR(QR,IR.hB)),QR)(t,i),r=e.Sd;return e.tB(),e.qB(XR),l.defineProperty(r,"constructor",{value:iN}),r=Yw(r),function(t){for(var n=0;n<MR.length;n++)(0,MR[n])(t)}(e),r}ms(function(){t.dispatchEvent&&t.dispatchEvent(HR("theoplayerready"))});var eN,rN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return qs(t)},n.decode=function(t){return Ws(t)},t}())},sN=XR.Sd,uN=Wb.mT.registerContentProtectionIntegration.bind(Wb.mT),oN=(lc.ba,lc.ka,Zg.c_,lc.Ba,lc.Aa,lc.wa,lc.Ra,lc.Ia,lc.da,lc.Ta,lc.La,lc.fa,Zg.Hd,lc.Ea,lg.Tl,Ss.ts,Ss.rs,lc.ha,lc.oa,lc.Ma,{QB:!1,YB:50}),hN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.IN="jB"}(eN||(eN={}));var aN,cN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Dh=void 0,s.OS=void 0,s.zh=void 0,s.ZB=!1,s.JB=new Zu,s.$B=!1,s.BB=new qR,s.KB=void 0,s.ur=void 0,s.nh=void 0,s.tL=function(){s.$B=!0},s.nL=function(){s.iL(!0)},s.Dh=n,s.OS=i,s.zh=i.oE,s.KB=e,s.ur=r,s.zh.addEventListener("loadedmetadata",s.tL);for(var u=0;u<hN.length;u++){var o=hN[u];s.zh.addEventListener(o,s.nL)}return s}S(i,t);var e=i.prototype;return e.eL=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(this.ur.cr(t.nr,n));case 2:return i=r.sent,r.next=5,tr.awrap(i.fh());case 5:return e=r.sent,r.next=8,tr.awrap(this.rL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ge)},e.sL=function(t){var n=this.nh;return n?0!==t.fE.length&&t.fE.some(function(t){return t.ih.nr===n.ih}):0===t.fE.length||!this.$B},e.uL=function(t){return this.KB.uL(t),this.Dh=t,ge.resolve()},e.Tr=function(){var t,n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Vr(),this.zh.removeEventListener("loadedmetadata",this.tL),t=0;t<hN.length;t++)n=hN[t],this.zh.removeEventListener(n,this.nL);return i.next=5,tr.awrap(this.BB.ov());case 5:return i.next=7,tr.awrap(this.oL());case 7:return i.next=9,tr.awrap(this.KB.tl());case 9:return i.next=11,tr.awrap(this.rL(void 0));case 11:case"end":return i.stop()}},null,this,null,ge)},e.iL=function(t){t!==this.ZB&&(this.ZB=t,t?this.JB.Is(void 0):this.JB=new Zu)},e.rL=function(t){var n=this;return this.BB.TB(function(){return n.hL(t)})},e.hL=function(t){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.zh.src){e.next=4;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.zh.src){e.next=6;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.ZB){e.next=9;break}return e.next=9,tr.awrap(this.JB.Ts);case 9:if(!(i=this.nh)){e.next=14;break}return e.next=13,tr.awrap(i.oh(this.zh));case 13:this.nh=void 0;case 14:if(!t){e.next=18;break}return e.next=17,tr.awrap(t.uh(this.zh));case 17:this.nh=t;case 18:case"end":return e.stop()}},null,this,null,ge)},e.Y_=function(t){var n=this;return this.BB.TB(function(){return n.aL(t)})},e.aL=function(t){this.iL(!1);var n=this.OS.g_;this.zh.src=t,this.OS.g_=n},e.cL=function(t){var n=this;return this.BB.TB(function(){return n.fL(t)})},e.fL=function(t){this.aL(t),this.zh.load()},e.oL=function(){var t=this;return this.BB.TB(function(){return t.vL()})},e.vL=function(){this.iL(!1),Pe(this.zh)},A(i,[{key:"H_",get:function(){throw new v("Not implemented")}},{key:"eh",get:function(){return this.Dh}},{key:"oE",get:function(){return this.zh}},{key:"z_",get:function(){throw new v("Not implemented")}}]),i}(Es),fN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zx=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.eh,n.t0=t.dE,n.next=n.t0===Ng.Zl?4:n.t0===Ng.Jl?4:(n.t0,Ng.jl,6);break;case 4:return this.zh.setAttribute("crossorigin",t.dE),n.abrupt("break",8);case 6:return this.zh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Tw?this.zh.preload=t.Tw:this.zh.preload=jT.wS,void 0!==t.lE?this.zh.title=t.lE:Ce(this.zh),n.next=12,tr.awrap(this.Y_(t.xl));case 12:this.KB.Qo(this,t);case 13:case"end":return n.stop()}},null,this,null,ge)},i.sL=function(t){return!1},i.uL=function(t){return ge.resolve(void 0)},i.Tr=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce(this.zh),n.next=3,tr.awrap(t.prototype.Tr.call(this));case 3:case"end":return n.stop()}},null,this,null,ge)},n.dL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.gf))},A(n,[{key:"vw",get:function(){return eS.XI(this.zh.buffered)}},{key:"v_",get:function(){return this.zh.duration}},{key:"lL",get:function(){var t=this.v_;if(!isFinite(t))return!1;var n=this.vw;return 0!==n.il&&t-n.fI(n.il-1)<1/6}},{key:"Tw",get:function(){return this.zh.preload},set:function(t){this.zh.preload=t}},{key:"Sw",get:function(){return eS.XI(this.zh.seekable)}},{key:"_L",get:function(){return this.vw}},{key:"wL",get:function(){if(xe(this.zh)&&(this.zh.videoWidth>0||this.zh.videoHeight>0))return this.vw}}]),n}(cN),vN=function(t){function n(n){var i;return(i=t.call(this,lc.Aa)||this).currentTime=n,i}return S(n,t),n}(Rs),dN=function(t){function n(){return t.call(this,lc.wa)||this}return S(n,t),n}(Rs);!function(t){t.gL="yL"}(aN||(aN={}));var lN,_N;aN.gL;!function(t){t[t.mL=0]="mL",t[t.Va=1]="Va",t[t.pL=2]="pL"}(lN||(lN={})),function(t){t.kL="bL"}(_N||(_N={}));var wN=function(t){function n(n){var i;return(i=t.call(this,_N.kL)||this).AL=n,i}return S(n,t),n}(Rs),gN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).TL=eS.QI(),n}S(n,t);var i=n.prototype;return i.SL=function(t,n){var i=new eS([t,n]);this.TL=this.TL.RI(i),this.Ur(new wN(i))},i.EL=function(t,n){this.TL=this.TL.DI(new eS([t,n]))},i.tl=function(){this.TL=eS.QI()},i.ov=function(){this.Vr()},A(n,[{key:"IL",get:function(){return this.TL}}]),n}(Es);function yN(t,n){return void 0===n&&(n=new tl({highWaterMark:1/0})),new Ud(new pN(t,n),{highWaterMark:0})}var mN,pN=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.$a=void 0,this.RL=void 0,this.NL=void 0,this.lc=[],this._c=0,this.AO=void 0,this.DL=!1,this.CL=void 0,this.xL=function(t){return t.done?(i.PL(),void i.AO.close()):(i.lc.push(t.value),i._c+=i.RL(t.value),i.DL&&i.PL(),i.OL()?i.$a.read().then(i.xL):void 0)},this.zv=function(t){i.PL(),i.AO.error(t)},this.$a=t.getReader(),this.RL=r,this.NL=u}var n=t.prototype;return n.start=function(t){this.AO=t,this.OL()&&this.BL()},n.pull=function(){this.lc.length>0?this.PL():this.DL=!0,this.OL()&&this.BL()},n.cancel=function(t){return es(this.lc),this._c=0,this.DL=!1,this.$a.cancel(t)},n.PL=function(){if(0!==this.lc.length){var t=this.lc;this.lc=[],this._c=0,this.DL=!1,this.AO.enqueue(t)}},n.OL=function(){return!!this.DL||this.NL-this._c>0},n.BL=function(){var t=this;if(!this.CL){var n=this.$a.read().then(this.xL).catch(this.zv);this.CL=n;var i=function(){t.CL===n&&(t.CL=void 0)};n.then(i,i)}},t}(),kN=function(){function t(){this.LL=[],this.ds=0}var n=t.prototype;return n.gB=function(t){this.LL.push(t),this.ds+=t.byteLength},n.ML=function(t){if(this.ds<=t)return this.UL();for(var n=this.LL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Hu(n[e],0,s)),i+=s}return{LL:r,ds:i}},n.FL=function(t){var n=this.ML(t);return 1===n.LL.length?n.LL[0]:Zs(n.LL,n.ds)},n.UL=function(){return{LL:this.LL,ds:this.ds}},n.HL=function(t){if(this.ds<=t)return this.zL();for(var n=this.LL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Hu(n[0],0,s)),n[0]=Hu(n[0],s),i+=s}return this.ds-=i,{LL:r,ds:i}},n.VL=function(t){var n=this.HL(t);return 1===n.LL.length?n.LL[0]:Zs(n.LL,n.ds)},n.zL=function(){var t=this.UL();return this.LL=[],this.ds=0,t},n.WL=function(){var t=1===this.LL.length?this.LL[0]:Zs(this.LL,this.ds);return this.LL=[],this.ds=0,t},t}();!function(t){t[t.XL=0]="XL",t[t.qL=1]="qL",t[t.GL=2]="GL"}(mN||(mN={}));var bN=function(t){function n(n){var i;return(i=t.call(this)||this).AO=void 0,i.QL=void 0,i.YL=void 0,i.jL=void 0,i.QL=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.AO=t},i.transform=function(t){this.ZL(t)},i.flush=function(){this.JL()},i.$L=function(t){return t===Km.tm||t===Km.Im||t===Km.Lm},i.KL=function(t){var n=this.tM(t);this.AO.enqueue(n)},i.nM=function(t){this.AO.enqueue(t)},i.tM=function(t){var n=Wu(t.ai.ai);switch(t.tr){case"moov":return this.iM(n);case"sidx":return this.eM(n);case"moof":return this.rM(n)}return n},i.iM=function(t){for(var n=wa(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof Lh?n.boxes[i]=this.sM(e):e instanceof Mh?n.boxes[i]=this.uM(e):e instanceof Wh&&this.oM(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Ph&&this.hM(u)}return n.serialize().join()},i.sM=function(t){this.YL=t.timescale;var n=TN(at.fromNumber(t.duration,!0),this.aM,this.QL);return 0!==n.getHighBits()?this.uM(function(t){return new Mh({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:at.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.QL,t.duration=n.toInt(),t)},i.uM=function(t){return this.YL=t.timescale,t.timescale=this.QL,t.duration=TN(t.duration,this.aM,this.QL),t},i.oM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Hh?t.boxes[n]=this.cM(i):i instanceof zh?t.boxes[n]=this.fM(i):i instanceof dh?this.vM(i):i instanceof sh&&this.dM(i)}},i.cM=function(t){var n=TN(at.fromNumber(t.duration,!0),this.aM,this.QL);return 0!==n.getHighBits()?this.fM(function(t){return new zh({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),duration:at.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.fM=function(t){return t.duration=TN(t.duration,this.aM,this.QL),t},i.vM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof ah?t.boxes[n]=this.lM(i):i instanceof ch&&(t.boxes[n]=this._M(i))}},i.lM=function(t){this.jL=t.timescale;var n=TN(at.fromNumber(t.duration,!0),this.wM,this.QL);return 0!==n.getHighBits()?this._M(function(t){return new ch({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:at.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.QL,t.duration=n.toInt(),t)},i._M=function(t){return this.jL=t.timescale,t.timescale=this.QL,t.duration=TN(t.duration,this.wM,this.QL),t},i.dM=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof ih?this.gM(e):e instanceof eh&&this.yM(e)}},i.gM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=AN(e.mediaTime,this.aM,this.QL),e.segmentDuration=AN(e.segmentDuration,this.aM,this.QL)}},i.yM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=TN(e.mediaTime,this.aM,this.QL),e.segmentDuration=TN(e.segmentDuration,this.aM,this.QL)}},i.hM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ch?this.mM(i):i instanceof Rh?t.boxes[n]=this.pM(i):i instanceof Nh&&(t.boxes[n]=this.kM(i))}},i.mM=function(t){t.defaultSampleDuration=AN(t.defaultSampleDuration,this.wM,this.QL)},i.pM=function(t){var n=TN(at.fromNumber(t.fragmentDuration,!0),this.aM,this.QL);return 0!==n.getHighBits()?this.kM(function(t){return new Nh(at.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.kM=function(t){return t.fragmentDuration=TN(t.fragmentDuration,this.aM,this.QL),t},i.eM=function(t){var n=ga(t);return(n=n instanceof oa?this.bM(n):this.AM(n)).serialize().join()},i.bM=function(t){var n=t.timescale,i=TN(at.fromNumber(t.earliestPresentationTime,!0),n,this.QL);if(0!==i.getHighBits())return this.AM(function(t){return new ha(t.referenceId,t.timescale,at.fromNumber(t.earliestPresentationTime,!0),at.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.QL,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=AN(s.subsegmentDuration,n,this.QL)}return t},i.AM=function(t){var n=t.timescale;t.timescale=this.QL,t.earliestPresentationTime=TN(t.earliestPresentationTime,n,this.QL);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=AN(r.subsegmentDuration,n,this.QL)}return t},i.rM=function(t){for(var n=ya(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof ta&&this.TM(s)}var u=n.getSize();if(u!==i)for(var o=u-i,h=0,a=n.boxes;h<a.length;h++){var c=a[h];c instanceof ta&&this.SM(c,o)}return n.serialize().join()},i.TM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Zh?this.EM(i):i instanceof Qh?t.boxes[n]=this.IM(i):i instanceof Yh?t.boxes[n]=this.RM(i):i instanceof $h&&this.NM(i)}},i.EM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=AN(t.defaultSampleDuration,this.wM,this.QL))},i.IM=function(t){var n=TN(at.fromNumber(t.baseMediaDecodeTime,!0),this.wM,this.QL);return 0!==n.getHighBits()?this.RM(function(t){return new Yh(at.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.RM=function(t){return t.baseMediaDecodeTime=TN(t.baseMediaDecodeTime,this.wM,this.QL),t},i.NM=function(t){for(var n=0,i=0,e=0,r=t.samples;e<r.length;e++){var s=r[e];if(void 0!==s.duration){var u=AN(i+=s.duration,this.wM,this.QL);s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=AN(s.compositionTimeOffset,this.wM,this.QL))}},i.SM=function(t,n){var i=$r(t.boxes,SN);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof $h&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"aM",get:function(){if(void 0===this.YL)throw new v("Expected to have found a movie header timescale.");return this.YL}},{key:"wM",get:function(){if(void 0===this.jL)throw new v("Expected to have found a media header timescale.");return this.jL}}]),n}(function(){var t=n.prototype;function n(){this.lc=new kN,this.Ri=mN.XL,this.DM=0,this.CM=0,this.xM()}return t.PM=function(t,n){},t.OM=function(){},t.ZL=function(t){this.lc.gB(t),this.BM(!1)},t.JL=function(){this.BM(!0)},t.LM=function(){return this.Ri!==mN.XL||0!==this.lc.ds},t.BM=function(t){for(;0!==this.lc.ds;){if(!t&&this.DM>this.lc.ds)return;switch(this.Ri){case mN.XL:this.MM(t);break;case mN.qL:this.UM(t);break;case mN.GL:this.FM(t)}}},t.xM=function(){this.Ri=mN.XL,this.DM=8},t.MM=function(t){var n=Vu(this.lc.FL(this.DM)),i=new Yu,e=Wp.dp(n,i);if(!e.hp)return this.DM=e._p,void(t&&this.DM>this.lc.ds&&this.HM(this.lc.ds));var r=e.lp.tr,s=e.lp.ds;0===s&&(s=1/0),this.PM(r,s),this.$L(r)?this.zM(s):this.HM(s)},t.zM=function(t){this.Ri=mN.qL,this.DM=t},t.UM=function(t){var n=Vu(this.lc.VL(this.DM)),i=new Yu,e=Wp.ap(n,i,!t);if(!e.hp)throw new Vp(i.ps);this.OM(),this.KL(e.cp),this.xM()},t.HM=function(t){this.Ri=mN.GL,this.DM=0,this.CM=t},t.FM=function(t){var n=this.lc.HL(this.CM);this.CM-=n.ds;for(var i=0,e=n.LL;i<e.length;i++){var r=e[i];this.nM(r)}(0===this.CM||t&&this.CM===1/0)&&(this.OM(),this.xM())},n}());function AN(t,n,i){return at.fromInt(t,!0).multiply(i).divide(n).toNumber()}function TN(t,n,i){return Dm.Ug(t).oy(Dm.Fg(i,!0)).ly(Dm.Fg(n,!0)).jg()}function SN(t){return t instanceof Zh}var EN=1e5,IN=function(){function t(t){this.VM=void 0,this.VM=new bN(t)}return t.prototype.WM=function(t){return t.pipeThrough(new ul(this.VM))},t}(),RN=20,NN=L.dn,DN=function(t){function n(n,e,r){var s;return(s=t.call(this)||this).XM=void 0,s.qM=void 0,s.GM=void 0,s.Gx=RN,s.Qx=QI,s.QM=!1,s.YM=!1,s.jM=void 0,s.ZM=new as,s.JM=void 0,s.$M=!1,s.KM=void 0,s.tU=function(){s.QM=!1},s.XM=e,s.qM=n,s.GM=r,s.GM.addEventListener("updateend",s.tU),i.Pe.ue&&(s.JM=new IN(EN)),s}S(n,t);var e=n.prototype;return e.nU=function(t,n,i){var e=this;switch(t.tr){case lN.mL:case lN.Va:return this.iU(function(i){return e.eU(t,n,i)},i);case lN.pL:throw new v("Opaque segments are not supported on web.")}},e.rU=function(t,n){var i=this;switch(t.tr){case lN.mL:return this.iU(function(n){return i.sU(t,n)},n);case lN.Va:throw new v("Streaming initialization segments are not supported on web.");case lN.pL:throw new v("Opaque initialization segments are not supported on web.")}},e.sU=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.uU(t,void 0,n));case 2:NN&&(this.$M=!1,this.KM=t);case 3:case"end":return i.stop()}},null,this,null,ge)},e.eU=function(t,n,i){return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(NN&&this.$M&&this.KM)){e.next=3;break}return e.next=3,tr.awrap(this.sU(this.KM,i));case 3:return e.prev=3,vs(i),e.next=7,tr.awrap(this.uU(t,n,i));case 7:this.Ur(new Rs(aN.gL));case 8:return e.prev=8,t.tr===lN.Va&&t.ai.cancel(new cs).catch(j),e.finish(8);case 11:case"end":return e.stop()}},null,this,[[3,,8,11]],ge)},e.uU=function(t,n,e){var r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:vs(e),n&&this.oU(n),u.t0=t.tr,u.next=u.t0===lN.mL?5:u.t0===lN.Va?13:21;break;case 5:if(!i.Pe.ue){u.next=10;break}return r=this.JM.WM(pl(t.ai)),u.next=9,tr.awrap(this.hU(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,tr.awrap(this.aU(t.ai));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Pe.ue){u.next=18;break}return s=this.JM.WM(t.ai),u.next=17,tr.awrap(this.hU(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,tr.awrap(this.hU(t.ai,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,ge)},e.hU=function(t,n){var i,e,r,s,u,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.qM.vw,e=yN(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,tr.awrap(_s(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return vs(n),o=js(u.value),s=!0,c.next=17,tr.awrap(this.aU(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(j),!s){c.next=35;break}return c.next=27,tr.awrap(this.cU());case 27:h=this.qM.vw.bI(i.AI()),a=0;case 29:if(!(a<h.il)){c.next=35;break}return c.next=32,tr.awrap(this.fU(h.aI(a),h.fI(a)));case 32:a++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],ge)},e.vU=function(t,n){var i=this;return this.iU(function(){return i.dU(t,n)})},e.dU=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.GM.appendWindowStart===t&&this.GM.appendWindowEnd===n){i.next=6;break}return i.next=3,tr.awrap(this.cU());case 3:this.GM.appendWindowStart=0,this.GM.appendWindowEnd=n,this.GM.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,ge)},e.oU=function(t){this.GM.timestampOffset!==t.Yy&&(this.GM.timestampOffset=t.Yy)},e.aU=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.GM.appendBuffer(t),this.YM=!0,n.next=4,tr.awrap(this.lU());case 4:case"end":return n.stop()}},null,this,null,ge)},e._U=function(t,n,i){var e=this;return this.iU(function(i){return e.fU(t,n,i)},i)},e.fU=function(t,n,i){return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return vs(i),this.GM.remove(t,n),e.next=4,tr.awrap(this.lU());case 4:case"end":return e.stop()}},null,this,null,ge)},e.lU=function(){var t=this,n=this.qM.vw;return new ge(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.MI(t.qM.vw)||t.Ur(new Rs(aN.gL)),i()):e(new v(r))},c=function(){t.GM.removeEventListener("update",u),t.GM.removeEventListener("error",o),t.GM.removeEventListener("abort",h),t.GM.removeEventListener("updateend",a)};t.GM.addEventListener("update",u),t.GM.addEventListener("error",o),t.GM.addEventListener("abort",h),t.GM.addEventListener("updateend",a)})},e.wU=function(){var t=this;return this.iU(function(){return t.cU()})},e.cU=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.XM.Nl===QN._v){t.next=2;break}return t.abrupt("return");case 2:NN&&(this.$M=!0),this.GM.updating&&(this.QM=!0);try{this.GM.abort()}catch(t){0,this.QM=!1}if(!this.zC){t.next=8;break}return t.next=8,tr.awrap(this.lU().catch(j));case 8:case"end":return t.stop()}},null,this,null,ge)},e.gU=function(){return"function"==typeof this.GM.changeType},e.yU=function(t){this.mU(),this.XM.Nl!==QN.pU&&this.GM.changeType(t)},e.kU=function(){this.XM.Nl!==QN.da||this.jM||this.zC||(this.GM.timestampOffset=this.GM.timestampOffset,this.XM.bU())},e.iU=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.mU(),(i=new as).Cr(this.ZM.Pr),n&&i.Cr(n),e.prev=4,this.jM=t(i.Pr),e.next=8,tr.awrap(this.jM);case 8:if(this.XM.bU(),!this.zC){e.next=12;break}return e.next=12,tr.awrap(this.lU());case 12:return e.prev=12,this.jM=void 0,i.Tr(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],ge)},e.mU=function(){if(this.jM)throw new v("Internal error")},e.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Vr(),this.ZM.Dr(),!this.jM){t.next=6;break}return t.next=5,tr.awrap(this.jM.catch(j));case 5:this.jM=void 0;case 6:this.GM.removeEventListener("updateend",this.tU);case 7:case"end":return t.stop()}},null,this,null,ge)},A(n,[{key:"Fx",get:function(){return this.Gx},set:function(t){this.Gx=t}},{key:"Wx",get:function(){return this.Qx},set:function(t){this.Qx=t}},{key:"zC",get:function(){return this.QM||this.GM.updating}}]),n}(Es),CN=function(){function t(t,n){this.AU=void 0,this.GM=void 0,this.TU=void 0,this.AU=n,this.GM=t}var n=t.prototype;return n.lL=function(){return!!this.TU&&this.vw.gI().EE(this.TU)},n.SU=function(){var t=this.vw;this.TU=t.il>0?t.fI(t.il-1):0,this.AU.EU()},n.kU=function(){this.TU=void 0},A(t,[{key:"vw",get:function(){if(this.AU.Nl===QN.pU)return eS.QI();var t=eS.XI(this.GM.buffered).bI(new eS([0,1/0])),n=this.TU;return void 0!==n&&t.il>0&&t.fI(t.il-1)===n&&(t=t.RI(eS.GI(n))),t}}]),t}();function xN(t){var n=t.lh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function PN(t,n){var i=ON(t)||BN(t),e=ON(n)||BN(n);return!i&&!e||t===n}function ON(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function BN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function LN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function MN(t,n,i,e,r,s){var u=new CN(r,t),o=new DN(u,t,r);return new UN(t,n,i,e,u,o,s)}var UN=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).XM=void 0,h.Dh=void 0,h.IU=void 0,h.OS=void 0,h.Ih=void 0,h.RU=void 0,h.qM=void 0,h.NU=void 0,h.DU=er(),h.XM=n,h.Dh=e,h.Ih=e.gf,h.IU=r,h.OS=i,h.qM=s,h.NU=u,h.RU=o,h.NU.Fr(aN.gL,h.Mr),h}S(n,t);var i=n.prototype;return i.lL=function(){return this.qM.lL()},i.SU=function(){this.qM.SU()},i.kU=function(){this.qM.kU(),this.NU.kU()},i.CU=function(t,n){this.RU.SL(t,n)},i.xU=function(t,n){this.RU.EL(t,n)},i.PU=function(){return this.NU.wU()},i.nU=function(t,n,i){return this.NU.nU(t,n,i)},i.rU=function(t,n){return this.NU.rU(t,n)},i.vU=function(t,n){return this.NU.vU(t,n)},i.Yo=function(t,n,i){var e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.xU(t,n),e=this.vw,s.next=4,tr.awrap(this.NU._U(t,n,i));case 4:r=0!==e.il&&0===this.vw.il,(L.gn||L.sn)&&r&&this.OS.gs(this.OS.f_);case 6:case"end":return s.stop()}},null,this,null,ge)},i.sL=function(t){var n=t.gf;if(this.Ih===n)return!0;var i=this.DU.get(n);if(void 0!==i)return i;var e=this.OU(t);return this.DU.set(n,e),e},i.OU=function(t){var n=t.gf;if(!MediaSource.isTypeSupported(n))return!1;var i=Ia(this.Ih),e=Ia(n),r=xN(i),s=xN(e);if(this.NU.gU()){if(!function(t,n){return os(t,n,PN)}(r,s))return!1}else{if(i.tr!==e.tr)return!1;if(!function(t,n){return os(t,n,LN)}(r,s))return!1}return!0},i.uL=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.gf,this.Ih!==n&&(this.DU.clear(),this.NU.gU()&&this.NU.yU(n),this.Ih=n),this.Dh=t,this.XM.BU();case 4:case"end":return i.stop()}},null,this,null,ge)},i.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DU.clear(),this.Vr(),this.RU.ov(),t.prev=3,this.NU.Wr(aN.gL,this.Mr),t.next=7,tr.awrap(this.NU.Tr());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],ge)},A(n,[{key:"vw",get:function(){return this.qM.vw}},{key:"eh",get:function(){return this.Dh}},{key:"gf",get:function(){return this.Ih}},{key:"LU",get:function(){return this.RU.IL}},{key:"Fx",get:function(){return this.NU.Fx},set:function(t){this.NU.Fx=t}},{key:"Wx",get:function(){return this.NU.Wx},set:function(t){this.NU.Wx=t}},{key:"zC",get:function(){return this.NU.zC}}]),n}(Es),FN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.MU=void 0,this.aI=t,this.fI=n,this.UU=i,this.FU=e,this.MU=XE()}return t.prototype.HU=function(){var t=this.aI,n=this.fI;if(this.UU||this.FU){var i=.001*(XE()-this.MU);this.UU&&(t+=i),this.FU&&(n+=i)}return t>=n?eS.QI():new eS([t,n])},t}(),HN=100,zN=1e3,VN=1e4,WN=.01,XN=[lc.ba,lc.ka,lc.Ra,lc.Ia,lc.da,lc.Ta,Zg.Hd,lg.Tl],qN=function(){function t(t,n){var e=this;this.wA=Pg.t_,this.zU=!1,this.VU=[],this.WU=void 0,this.XU=0,this.qU=0,this.GU=0,this.QU=0,this.YU=0,this.jU=zN,this.ZU=function(t){var n=e.OS.f_;t.AL.EE(n)&&e.JU(n)},this.$U=J(function(){e.KU(Zg.Hd)},HN),this.tF=J(function(){e.KU(lc.Aa)},HN),this.nF=function(){e.iF()?e.eF():e.rF()},this.sF=function(){var t=e.XU,n=e.GU,r=e.OS.f_,s=i.ae(),u=t!==r;if(u||!e.iF())return e.XU=r,e.GU=s,void(u&&(e.YU=0,e.jU=zN));if(n>0&&s>n+e.jU){var o=r+e.YU*WN,h=e.qM.vw;h.EE(o)||(o=e.uF(r,h)),e.XU=o,e.GU=s,e.YU++,e.jU=_.min(2*e.jU,VN),e.OS.gs(o)}},this.qM=t,this.OS=n,this.OS.Fr(Zg.Hd,this.$U),this.OS.Fr(lc.Aa,this.tF),this.OS.Fr(XN,this.nF)}var n=t.prototype;return n.oF=function(t){this.VU.push(t),t.Fr(_N.kL,this.ZU)},n.ov=function(){var t=this;this.rF(),this.wA=Pg.t_,this.OS.Wr(Zg.Hd,this.$U),this.OS.Wr(lc.Aa,this.tF),this.OS.Wr(XN,this.nF),this.VU.forEach(function(n){return n.Wr(_N.kL,t.ZU)}),void 0!==this.WU&&(i.Rn(this.WU),this.WU=void 0),this.zU=!0},n.KU=function(t){if(!this.zU){var n=this.OS.Nl;if(n<=Pg.i_){var i=this.OS.f_,e=this.qM.vw,r=e.CI(i),s=e.fI(r);-1!==r&&(t===Zg.Hd&&n<this.wA||t===lc.Aa&&n===this.wA)&&s<i+.5&&(i=s),this.JU(i)}t===Zg.Hd&&(this.wA=n)}},n.JU=function(t){var n=this;if(!this.OS.d_){var e=this.IL.DI(this.qM.vw).gI(),r=e.CI(t);if(-1!==r)if(!(_.abs(e.aI(r)-e.fI(r))<=.001))if(i.vd){if(void 0!==this.WU)return;this.qU=this.OS.f_,this.WU=i.Nn(function(){n.qU===n.OS.f_&&n.OS.gs(e.fI(r)),n.WU=void 0},1500)}else this.OS.gs(e.fI(r))}},n.eF=function(){0===this.QU&&(this.QU=i.pe(this.sF,250))},n.rF=function(){0!==this.QU&&(i.ke(this.QU),this.QU=0),this.OS.y_||(this.GU=0)},n.iF=function(){return!this.OS.w_&&!this.OS.y_&&0!==this.OS.g_&&!this.OS.d_&&!this.OS.Kr&&this.OS.Nl>=Pg.e_},n.uF=function(t,n){var i=n.CI(t);return i>-1?n.fI(i):t},A(t,[{key:"IL",get:function(){return this.VU.reduce(function(t,n){return t.RI(n.IL)},eS.QI())}}]),t}();function GN(t){var n=[];if(t.hF&&n.push(t.hF.vw),t.aF&&n.push(t.aF.vw),0===n.length)return eS.QI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.il>0&&(i=_.max(i,r.fI(r.il-1)))}for(var s=t.lL,u=new eS([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.il>0&&(h=h.RI(new eS([h.fI(h.il-1),i],[!0,!0]))),u=u.bI(h)}return u}var QN,YN=L.un||L.hn;!function(t){t.pU="closed",t._v="open",t.da="ended"}(QN||(QN={}));var jN=function(){function t(){}return t.prototype.cF=function(){return new MediaSource},t}(),ZN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new jN),(u=t.call(this,n,i,e,r)||this).fF=void 0,u.vF=void 0,u.dF=void 0,u.lF=new FN(0,1/0),u.LS=void 0,u._F=void 0,u.wF=void 0,u.gF=!1,u.yF=function(){u.mF()},u.pF=function(){u.OS.pF()},u.fF=s,u.LS=u.fF.cF(),u.OS.Fr(lc.Ra,u.yF),u.wF=new qN(Tt(u),u.OS),u}S(n,t);var i=n.prototype;return i.kF=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.bF()?this.AF(t):this._F=t},i.AF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.LS.setLiveSeekableRange){var e=_.pow(2,39);this.LS.setLiveSeekableRange(0,e)}this.LS.duration=i,this._F=void 0},i.TF=function(t,n,i,e){this.lF=new FN(t,n,!!i,!!e)},i.Zx=function(){var t,n,i,e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.Dh,n=$r(t.SF,function(t){return Dr(t.gf,"audio")}),i=$r(t.SF,function(t){return Dr(t.gf,"video")}),o.next=5,tr.awrap(this.EF());case 5:n&&(e=new gN,this.wF.oF(e),r=this.LS.addSourceBuffer(n.gf),this.vF=MN(this,this.OS,n,Fy.Zf,r,e),this.vF.Fr(aN.gL,this.pF)),i&&(s=new gN,this.wF.oF(s),u=this.LS.addSourceBuffer(i.gf),this.dF=MN(this,this.OS,i,Fy.Jf,u,s),this.dF.Fr(aN.gL,this.pF)),this.KB.Qo(this,t);case 8:case"end":return o.stop()}},null,this,null,ge)},i.EF=function(){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.LS),i.next=3,tr.awrap(t.prototype.cL.call(this,n));case 3:if(this.Nl===QN._v){i.next=6;break}return i.next=6,tr.awrap(Cw(this.LS,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,ge)},i.bF=function(){if(this.Nl!==QN._v)return!1;var t=this.vF&&this.vF.zC,n=this.dF&&this.dF.zC;return!(t||n)},i.SU=function(){this.gF=!0,this.vF&&this.vF.SU(),this.dF&&this.dF.SU(),this.gF=!1,this.mF()},i.kU=function(){this.vF&&this.vF.kU(),this.dF&&this.dF.kU()},i.sL=function(n){var i=$r(n.SF,function(t){return Dr(t.gf,"audio")}),e=$r(n.SF,function(t){return Dr(t.gf,"video")});if(this.vF){if(!i)return!1;if(!this.vF.sL(i))return!1}else if(i)return!1;if(this.dF){if(!e)return!1;if(!this.dF.sL(e))return!1}else if(e)return!1;return!!t.prototype.sL.call(this,n)},i.uL=function(n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=$r(n.SF,function(t){return Dr(t.gf,"audio")}),e=$r(n.SF,function(t){return Dr(t.gf,"video")}),r=[],this.vF&&r.push(this.vF.uL(i)),this.dF&&r.push(this.dF.uL(e)),s.next=7,tr.awrap(ge.all(r));case 7:return s.next=9,tr.awrap(t.prototype.uL.call(this,n));case 9:case"end":return s.stop()}},null,this,null,ge)},i.Tr=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.vF){n.next=4;break}return n.next=3,tr.awrap(this.vF.Tr());case 3:this.vF=void 0;case 4:if(!this.dF){n.next=8;break}return n.next=7,tr.awrap(this.dF.Tr());case 7:this.dF=void 0;case 8:return this.zh.src&&URL.revokeObjectURL(this.zh.src),this.OS.Wr(lc.Ra,this.yF),this.wF.ov(),n.next=13,tr.awrap(t.prototype.Tr.call(this));case 13:case"end":return n.stop()}},null,this,null,ge)},i.BU=function(){var t=this,n=this.Dh,i=n.SF.map(function(n){return Dr(n.gf,"audio")&&t.vF?t.vF.eh:Dr(n.gf,"video")&&t.dF?t.dF.eh:n});this.Dh=nr({},n,{SF:i})},i.EU=function(){this.gF||this.mF()},i.mF=function(){this.IF&&this.bF()&&(this.LS.endOfStream(),this._F=void 0,this.Ur(new Rs(eN.IN)),this.OS.pF())},i.bU=function(){this.bF()&&(this.lL?this.mF():void 0!==this._F&&this.AF(this._F))},n.dL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.SF;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.gf))return!1}return!0},A(n,[{key:"hF",get:function(){return this.vF}},{key:"aF",get:function(){return this.dF}},{key:"v_",get:function(){if(this._F)return this._F;var t=this.LS.duration;return 9007199254740991===t?1/0:t}},{key:"vw",get:function(){return YN?GN(this):(t=this,n=eS.XI(this.zh.buffered),(i=n).il>0&&t.lL&&(i=i.RI(eS.GI(i.fI(i.il-1)))),i);var t,n,i}},{key:"_L",get:function(){var t;return null==(t=this.vF)?void 0:t.vw}},{key:"wL",get:function(){var t;return null==(t=this.dF)?void 0:t.vw}},{key:"Sw",get:function(){return this.lF.HU().bI(new eS([0,this.v_],[!0,!0]))}},{key:"lL",get:function(){return(!this.vF||this.vF.lL())&&(!this.dF||this.dF.lL())}},{key:"Nl",get:function(){return this.LS.readyState}},{key:"IF",get:function(){if(!this.lL)return!1;var t=this.vw;return 0!==t.il&&t.aI(t.il-1)<=this.OS.f_}}]),n}(cN),JN=[lc.La,lc.Ta,lc.Ra,lc.ba,lc.ka],$N=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).$I=n,c.bu=i,c.RF=e,c.tR=r,c.iR=s,c.KI=u,c.nR=o,c.Ou=h,c.NF=a,c}S(n,t);var i=n.prototype;return i.q_=function(){this.tR||(this.tR=!0,this.Ur(new $g(this.f_)))},i.X_=function(){this.tR&&(this.tR=!1,this.Ur(new Kg(this.f_)))},i.Tr=function(){this.Vr()},A(n,[{key:"f_",get:function(){return this.$I},set:function(t){this.f_!==t&&(this.$I=t,this.iR=!0,this.Ur(new ay(this.f_)))}},{key:"v_",get:function(){return this.bu}},{key:"d_",get:function(){return this.RF}},{key:"w_",get:function(){return this.tR}},{key:"Nl",get:function(){return this.NF}},{key:"y_",get:function(){return this.iR}},{key:"__",get:function(){return this.KI},set:function(t){this.__!==t&&(this.KI=t,this.Ur(new fy(this.f_,this.k_)))}},{key:"g_",get:function(){return this.nR},set:function(t){this.g_!==t&&(this.nR=t,this.Ur(new sy(this.f_,this.g_)))}},{key:"k_",get:function(){return this.Ou},set:function(t){this.k_!==t&&(this.Ou=t,this.Ur(new fy(this.f_,this.k_)))}}]),n}(Es);var KN=function(t){function n(n){var i;return(i=t.call(this)||this).OS=void 0,i.wA=Pg.t_,i.DF=function(){i.CF()},i.OS=n,i}S(n,t);var i=n.prototype;return i.xF=function(t){this.wA!==t&&(this.wA=t,this.Ur(new ly(this.OS.f_,t)))},i.CF=function(){this.xF(this.EP())},i.tl=function(){this.xF(Pg.t_)},i.Tr=function(){this.Vr()},A(n,[{key:"Nl",get:function(){return this.EP()}}]),n}(Es),tD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],nD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<tD.length;e++){var r=tD[e];i.OS.oE.addEventListener(r,i.DF)}return i}S(n,t);var i=n.prototype;return i.EP=function(){var t=this.OS.oE.readyState;return t>Pg.i_&&this.OS.PF?Pg.i_:(this.OS.oE.seeking&&t>Pg.n_&&(t=Pg.n_),t)},i.Tr=function(){for(var n=0;n<tD.length;n++){var i=tD[n];this.OS.oE.removeEventListener(i,this.DF)}t.prototype.Tr.call(this)},n}(KN),iD=function(t){function n(n){var i;(i=t.call(this,n)||this).OS.Fr(lc.Ra,i.DF);for(var e=0;e<tD.length;e++){var r=tD[e];i.OS.oE.addEventListener(r,i.DF)}return i}S(n,t);var i=n.prototype;return i.EP=function(){if(this.OS.oE.readyState===Pg.t_)return Pg.t_;var t=this.OF(),n=t?t.fI-t.aI:0;if(!t)return Pg.n_;var i=this.OS.g_;return this.BF()||n>=3*i?Pg.r_:n>=3?Pg.e_:Pg.i_},i.OF=function(){var t=this.OS.f_,n=this.OS.vw.II(.04),i=n.CI(t);if(!(i<0))return{aI:t,fI:n.fI(i)}},i.BF=function(){if(this.OS.d_)return!0;var t=this.OS.v_,n=this.OF();return!!n&&t-n.fI<=1/6},i.Tr=function(){this.OS.Wr(lc.Ra,this.DF);for(var n=0;n<tD.length;n++){var i=tD[n];this.OS.oE.removeEventListener(i,this.DF)}t.prototype.Tr.call(this)},n}(KN),eD=[Zg.Hd,lc.ba,lc.ka,lc.Ra,lc.Ia,lc.da,lg.Tl],rD=function(t){function n(n){var i;return(i=t.call(this,n)||this).zh=void 0,i.LF=!1,i.MF=function(){i.LF=!0,i.jo()},i.zh=n.oE,i.zh.addEventListener(Zg.c_,i.MF),i}S(n,t);var i=n.prototype;return i.UF=function(){return this.LF&&t.prototype.UF.call(this)},i.jo=function(){this.LF&&(this.zh.paused||this.zh.ended||this.zh.error)&&(this.LF=!1),t.prototype.jo.call(this)},i.tl=function(){t.prototype.tl.call(this),this.LF=!1},i.Tr=function(){this.zh.removeEventListener(Zg.c_,this.MF),t.prototype.Tr.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).IA=void 0,i.FF=!1,i.VC=function(){i.jo()},i.IA=n,i.IA.Fr(eD,i.VC),i}S(n,t);var i=n.prototype;return i.HF=function(){return this.IA.Nl<Pg.e_},i.UF=function(){return!this.IA.y_&&!(this.IA.w_||this.IA.d_||this.IA.Kr||this.HF())},i.jo=function(){var t=this.FF;this.FF=this.UF(),!t&&this.FF&&this.Ur(new db(this.IA.f_))},i.tl=function(){this.FF=!1},i.Tr=function(){this.Vr(),this.IA.Wr(eD,this.VC)},n}(Es)),sD=function(t){function n(n){var i;return(i=t.call(this,lg.Tl)||this).Kr=void 0,i.Kr=n,i}return S(n,t),n}(Rs);function uD(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function oD(t,n){return t.Gw<=n&&t.Qw>n}function hD(t,n){return function(t,n){return Zr(t.Gw,n.Gw,gm)}(t,n)||function(t,n){return Zr(t.Qw,n.Qw,gm)}(t,n)}function aD(t,n){var i=uD(t,n,Z,hD,!0);if(i<0)return i;for(;i<t.length&&hD(n,t[i])===Vr._r;i++)if(t[i].cg(n))return i;return-(i+1)}function cD(t){var n=t.Id;if(!n)return-1;if(t instanceof mm)return n.zF(t);var i=n.Dl;if(!i)return-1;var e=aD(i.nl,t);return e>=0?e:-1}function fD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{VF:o,WF:h}}(t,n,hD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var vD=function(){function t(t){this.XF=void 0,this.Td=void 0,this.XF=t}var n=t.prototype;return n.Ed=function(){return function(t){for(var n=[],i=0;i<t.il;i++)n[i]=t.as(i).Sd;return n.item=function(n){var i=0|n,e=t.as(i);return e&&e.Sd||void 0},l.defineProperty(n,"constructor",{value:dm}),n}(this)},n.Nw=function(t){for(var n=this.XF,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.cg(e))return!0}return!1},n.as=function(t){return this.XF[t]},A(t,[{key:"nl",get:function(){return this.XF}},{key:"il",get:function(){return this.XF.length}},{key:"Sd",get:function(){if(this.Td){var t=this.XF;this.Td.length=t.length;for(var n=0;n<t.length;n++)this.Td[n]=t[n].Sd}else this.Td=this.Ed();return this.Td}}]),t}(),dD=function(t){function n(n,i){var e;return(e=t.call(this,Mw.Hd)||this).Id=n,e.Nl=i,e}return S(n,t),n.prototype.Ed=function(){return new lD(this.Id.Sd,kg(this.Nl))},n}(Uw),lD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(Fw),_D=function(t){function n(n){var i;return(i=t.call(this,Mw.Vd)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new wD(this.Id.Sd)},n}(Uw),wD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(Fw),gD=function(t){function n(n){var i;return(i=t.call(this,Mw.Rd)||this).qw=n,i}return S(n,t),n.prototype.Ed=function(){return new yD(this.qw.Sd)},n}(Uw),yD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(Fw),mD=function(t){function n(n){var i;return(i=t.call(this,Mw.Dd)||this).qw=n,i}return S(n,t),n.prototype.Ed=function(){return new pD(this.qw.Sd)},n}(Uw),pD=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(Fw),kD=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Td=void 0,a.Oo=void 0,a.xw=qy(),a.qF=!1,a.GF=void 0,a.QF=void 0,a.Cw=void 0,a.Au=void 0,a.pR=dg.kl,a.NF=Ky.NONE,a.YF=void 0,a.fi=void 0,a.jF=void 0,a.XF=[],a.ZF=[],a.JF=void 0,a.KF=void 0,a.tH=0,a.nH=0,a.Oo=i||"",a.GF=h||"",a.QF=n,a.Au=r||"",a.qF=Boolean(s),a.jF=Boolean(o),a.fi=u||tm.DEFAULT,a.Cw=e||"",a.JF=new vD(a.XF),a.KF=new vD(a.ZF),a}S(n,t);var i=n.prototype;return i.iH=function(t){return $r(this.JF.nl,function(n){return n.ll===t})},i.Ed=function(){return yg(this)},i.UR=function(t){var n=wg(t);n!==this.El&&(this.pR=n,n===dg.kl&&(this.ZF.forEach(function(t){t.fg=!1}),es(this.ZF),this.nH=0),this.Ur(new qw(this)))},i.fA=function(t){if(t&&!t.Id){var n=aD(this.Dl.nl,t);if(!(n>=0)){t.Id=this;var i=-(n+1);this.XF.splice(i,0,t),this.eH(i),t.ag=i,i<this.nH&&(this.nH=i),this.Ur(new gD(t))}}},i.rH=function(t){if(t&&t.Id===this){var n=this.zF(t);if(!(n<0)){t.fg=!1;var i=this.ZF,e=aD(i,t);e>=0&&ns(i,e),ns(this.XF,n),this.eH(n),t.ag=-1,this.nH>n&&--this.nH,this.Ur(new mD(t))}}},i.sH=function(t,n){var i=this.ZF,e=this.XF,r=this.nH,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){oD(i[u],t)||(s=!0,ns(i,u))}for(;r<e.length&&e[r].Gw<=t;){var o=e[r];if(0===t)break;oD(o,t)&&!is(i,o)&&(s=!0,i.push(o)),r++}s&&qr(i,hD),this.nH=r},i.zF=function(t){return(-1===t.ag||t.ag>=this.tH)&&this.uH(),t.ag},i.uH=function(){for(var t=this.XF,n=this.tH;n<t.length;n++)t[n].ag=n;this.tH=t.length},i.eH=function(t){t<this.tH&&(this.tH=t)},i.Il=function(t){this.Rl||(this.El=t)},i.ov=function(){this.Vr();for(var t=this.XF.slice(),n=0;n<t.length;n++){t[n].ov()}es(this.XF),es(this.ZF)},A(n,[{key:"Cl",get:function(){return this.KF}},{key:"Dl",get:function(){return this.JF}},{key:"dA",get:function(){return this.qF},set:function(t){this.qF=t}},{key:"Rl",get:function(){return this.jF}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"ll",get:function(){return this.Oo}},{key:"_l",get:function(){return this.xw}},{key:"Sl",get:function(){return this.GF},set:function(t){this.GF=t}},{key:"wl",get:function(){return this.QF}},{key:"gl",get:function(){return this.Cw},set:function(t){t!==this.Cw&&(this.Cw=t,this.Ur(new Vy(this)))}},{key:"yl",get:function(){return this.Au}},{key:"El",get:function(){return this.pR},set:function(t){this.UR(t)}},{key:"Nl",get:function(){return this.NF},set:function(t){this.NF!==t&&(this.NF=t,this.Ur(new dD(this,this.NF)))}},{key:"xl",get:function(){return this.YF},set:function(t){this.YF=t}},{key:"tr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Ur(new _D(this)))}}]),n}(Es),bD=function(t){function n(n,i){var e;return(e=t.call(this,rm.zw,n)||this).wy=i,e}return S(n,t),n.prototype.Ed=function(){return new AD(this.qw.Sd)},n}(cm),AD=function(t){function n(n){return t.call(this,sm.zw,n)||this}return S(n,t),n}(fm),TD=function(t){function n(n,i){var e;return(e=t.call(this,rm.Ww,n)||this).wy=i,e}return S(n,t),n.prototype.Ed=function(){return new SD(this.qw.Sd)},n}(cm),SD=function(t){function n(n){return t.call(this,sm.Ww,n)||this}return S(n,t),n}(fm),ED=function(t){function n(n){var i;return(i=t.call(this,Mw.xd)||this).qw=n,i}return S(n,t),n.prototype.Ed=function(){return new ID(this.qw.Sd)},n}(Uw),ID=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(Fw),RD=function(t){function n(n){var i;return(i=t.call(this,Mw.Od)||this).qw=n,i}return S(n,t),n.prototype.Ed=function(){return new ND(this.qw.Sd)},n}(Uw),ND=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(Fw),DD=function(t){function n(n){var i;return(i=t.call(this)||this).oH=void 0,i.og=void 0,i.xw=void 0,i.sg=void 0,i.Td=void 0,i.ug=!1,i.hH=function(){i.fg=!0},i.aH=function(){i.fg=!1},i.xw=jy(),i.oH=n,i.oH.addEventListener("enter",i.hH),i.oH.addEventListener("exit",i.aH),i}S(n,t);var i=n.prototype;return i.Ed=function(){return vm(this)},i.cg=function(t){return this===t||Kw(this,t)&&ym(this,t)},i.ov=function(){this.Vr(),this.oH.removeEventListener("enter",this.hH),this.oH.removeEventListener("exit",this.aH)},A(n,[{key:"_l",get:function(){return this.xw}},{key:"Gw",get:function(){return this.oH.startTime},set:function(t){this.oH.startTime=t}},{key:"Qw",get:function(){return this.oH.endTime},set:function(t){this.oH.endTime=t}},{key:"Yw",get:function(){return this.og},set:function(t){this.og=t}},{key:"vg",get:function(){return!!this.oH.pauseOnExit},set:function(t){this.oH.pauseOnExit=!!t}},{key:"Id",get:function(){return this.sg},set:function(t){this.sg=t}},{key:"ll",get:function(){return this.oH.id||""}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"fg",get:function(){return this.ug},set:function(t){this.fg!==t&&(this.ug=t,t?(this.Ur(new bD(this,this.Gw)),this.sg&&this.sg.Ur(new ED(this))):(this.Ur(new TD(this,this.Qw)),this.sg&&this.sg.Ur(new RD(this))))}}]),n}(Ag),CD=function(t){function n(n){var i;return(i=t.call(this,Mw.Ld)||this).Id=n,i}return S(n,t),n.prototype.Ed=function(){return new xD(this.Id.Sd)},n}(Uw),xD=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(Fw);function PD(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new OD(t),t.THEOplayerVTTRegion=n),n}}var OD=function(){function t(t){this.cH=void 0,this.Td=void 0,this.cH=t}return A(t,[{key:"fH",get:function(){return this.cH}},{key:"ll",get:function(){return this.cH.id||""}},{key:"mg",get:function(){return+this.cH.width||0},set:function(t){this.cH.width=t||0}},{key:"dg",get:function(){return+this.cH.lines||0},set:function(t){this.cH.lines=t||0}},{key:"lg",get:function(){return+this.cH.regionAnchorX||0},set:function(t){this.cH.regionAnchorX=t||0}},{key:"_g",get:function(){return+this.cH.regionAnchorY||0},set:function(t){this.cH.regionAnchorY=t||0}},{key:"gg",get:function(){return+this.cH.viewportAnchorX||0},set:function(t){this.cH.viewportAnchorX=t||0}},{key:"yg",get:function(){return+this.cH.viewportAnchorY||0},set:function(t){this.cH.viewportAnchorY=t||0}},{key:"wg",get:function(){return this.cH.scroll||""}},{key:"Sd",get:function(){return this.Td||(this.Td=Em(this)),this.Td}}]),t}();var BD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"Yw",get:function(){return this.oH.text},set:function(t){this.oH.text=t}},{key:"ig",get:function(){return this.oH.vertical||""},set:function(t){this.oH.vertical=t||""}},{key:"ng",get:function(){return!!this.oH.snapToLines},set:function(t){this.oH.snapToLines=!!t}},{key:"Zw",get:function(){return this.oH.line},set:function(t){this.oH.line=t}},{key:"ds",get:function(){return+this.oH.size},set:function(t){this.oH.size=ft(t,0,100)}}]),n}(DD),LD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.cg=function(n){return this===n||Kw(this,n)&&t.prototype.cg.call(this,n)&&pm(this,n)},A(n,[{key:"tg",get:function(){return PD(this.oH.region)}},{key:"Jw",get:function(){return this.oH.lineAlign||"start"},set:function(t){this.oH.lineAlign=t||"start"}},{key:"$w",get:function(){return this.oH.position},set:function(t){this.oH.position=t}},{key:"Kw",get:function(){return this.oH.positionAlign||"auto"},set:function(t){this.oH.positionAlign=t||"auto"}},{key:"jw",get:function(){return this.oH.align||"center"},set:function(t){this.oH.align=t||"center"}},{key:"Sd",get:function(){return this.Td||(this.Td=lm(this)),this.Td}}]),n}(BD),MD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.cg=function(n){return this===n||Kw(this,n)&&t.prototype.cg.call(this,n)&&pm(this,n)},A(n,[{key:"tg",get:function(){return PD(this.fH)}},{key:"fH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.oH.track,this.oH.regionId)}},{key:"Jw",get:function(){return"middle"===(t=this.oH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.oH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"$w",get:function(){return this.oH.position},set:function(t){var n,i;this.oH.position=(n=t,i=this.jw,am(n,i))}},{key:"Kw",get:function(){return t=this.oH.positionAlign||"middle",om[t];var t},set:function(t){var n,i;this.oH.positionAlign=(n=t||"center",i=this.jw,um[hm(n,i)])}},{key:"jw",get:function(){return"middle"===(t=this.oH.align||"middle")?"center":t;var t},set:function(t){var n;this.oH.align="center"===(n=t||"center")?"middle":n}},{key:"Sd",get:function(){return this.Td||(this.Td=lm(this)),this.Td}}]),n}(BD);function UD(t,n){return t.Yw===n.Yw}function FD(t,n,i){for(var e=t[n].Gw,r=n;r>=0&&t[r].Gw===e;r--)t[r].Qw=i}function HD(t){return vm(t)}var zD,VD,WD=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).vH=void 0,e.vH=i,e}return S(n,t),n.prototype.cg=function(n){return this===n||Kw(this,n)&&t.prototype.cg.call(this,n)&&UD(this,n)},A(n,[{key:"Yw",get:function(){return this.vH}},{key:"Sd",get:function(){return this.Td||(this.Td=HD(this)),this.Td}}]),n}(DD);function XD(t){switch(t){case zD.ISO_8859_1:case zD.UTF16_BOM:case zD.UTF16:case zD.UTF8:return!0}return!1}function qD(t){switch(t){case zD.ISO_8859_1:return Eu;case zD.UTF16_BOM:return Nu;case zD.UTF16:return Du;case zD.UTF8:return Mu}}function GD(t,n){var i=n.ps,e=t.byteLength,r=Wu(t);return n._s(e-i),Gu(r,i,e).buffer}function QD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function YD(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e);return{id:i,language:Tu(t,n,3),description:r(t,n),text:r(t,n)}}}function jD(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e);return{id:i,mimeType:Eu(t,n),fileName:r(t,n),description:r(t,n),data:GD(t,n)}}}function ZD(t,n,i){var e=fu(t,n);if(XD(e)){for(var r=qD(e),s=[];n.ps<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function JD(t,n,i){var e=fu(t,n);if(XD(e)){for(var r=qD(e),s=Tu(t,n,3),u=fu(t,n),o=fu(t,n),h=r(t,n),a=!1,c=[];n.ps<t.byteLength;){var f=void 0;if(e===zD.UTF16_BOM){var v=Ru(t,n);void 0===v?v=a:a=v,f=Du(t,n,v)}else f=r(t,n);if(!f||n.ps+4>t.byteLength)break;c.push({text:f,timestamp:mu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function $D(t,n,i){return{id:i,ownerIdentifier:Eu(t,n),identifier:GD(t,n)}}function KD(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e);return{id:i,language:Tu(t,n,3),description:r(t,n),text:r(t,n)}}}function tC(t,n,i){var e=fu(t,n);if(XD(e))return{id:i,text:qD(e)(t,n)}}function nC(t,n,i){return{id:i,url:Eu(t,n)}}function iC(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e);return{id:i,description:r(t,n),text:r(t,n)}}}function eC(t,n,i){var e=fu(t,n);if(XD(e))return{id:i,description:qD(e)(t,n),url:Eu(t,n)}}function rC(t,n,i){switch(i){case"COM":return YD(t,n,i);case"GEO":return jD(t,n,i);case"IPL":return ZD(t,n,i);case"PIC":return function(t,n,i){var e=fu(t,n);if(XD(e)){var r,s,u=qD(e),o=Tu(t,n,3),h=fu(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=Eu(t,n)):(r="image/"+o.toLowerCase(),s=GD(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return JD(t,n,i);case"TXX":return iC(t,n,i);case"UFI":return $D(t,n,i);case"ULT":return KD(t,n,i);case"WXX":return eC(t,n,i);default:if("T"===i.charAt(0))return tC(t,n,i);if("W"===i.charAt(0))return nC(t,n,i)}}function sC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e),s=Eu(t,n);return{id:i,mimeType:s,pictureType:fu(t,n),description:r(t,n),data:"--\x3e"===s?Eu(t,n):GD(t,n)}}}(t,n,i);case"COMM":return YD(t,n,i);case"COMR":return function(t,n,i){var e=fu(t,n);if(XD(e)){var r,s,u=qD(e),o=Eu(t,n),h=Tu(t,n,8),a=Eu(t,n),c=fu(t,n),f=u(t,n),v=u(t,n);return n.ps<t.byteLength&&(r=Eu(t,n)||"image/",s=GD(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return jD(t,n,i);case"IPLS":return ZD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Eu(t,n),data:GD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:fu(t,n),position:mu(t,n)}}(t,n,i);case"SYLT":return JD(t,n,i);case"TXXX":return iC(t,n,i);case"UFID":return $D(t,n,i);case"USER":return function(t,n,i){var e=fu(t,n);if(XD(e)){var r=qD(e);return{id:i,language:Tu(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return KD(t,n,i);case"WXXX":return eC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return tC(t,n,i);default:var e=i.charAt(0);if("T"===e)return tC(t,n,i);if("W"===e)return nC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(zD||(zD={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(VD||(VD={}));var uC=10;function oC(t,n){return(127&fu(t,n))<<21|(127&fu(t,n))<<14|(127&fu(t,n))<<7|127&fu(t,n)}function hC(t,n){switch(t){case VD.V24:return{dH:cu(n,0),lH:cu(n,1),_H:cu(n,2),wH:cu(n,3)};case VD.V23:return{dH:cu(n,0),lH:cu(n,1),_H:cu(n,2)};case VD.V22:return{dH:cu(n,0),gH:cu(n,1)}}}function aC(t,n,i){switch(i.mp){case VD.V23:i.pp.lH&&function(t,n){var i=n.ps,e=mu(t,n)+4,r=32768&gu(t,n);n.gs(i+e),r&&mu(t,n)}(t,n);break;case VD.V24:i.pp.lH&&function(t,n){var i=n.ps,e=oC(t,n);n.gs(i+e)}(t,n)}}function cC(t,n){if(t.byteLength-n.ps<uC)return null;if(73!==fu(t,n)||68!==fu(t,n)||51!==fu(t,n))return null;var i=fu(t,n),e=fu(t,n);if(!function(t){switch(t){case VD.V22:case VD.V23:case VD.V24:return!0}return!1}(i))return null;var r=fu(t,n),s=oC(t,n);return{mp:i,yH:e,pp:hC(i,r),mH:s}}function fC(t,n,i){switch(i.mp){case VD.V22:return function(t,n,i){return{ll:Tu(t,n,3),ds:wu(t,n,3)}}(t,n);case VD.V23:return function(t,n,i){var e=Tu(t,n,4),r=mu(t,n);fu(t,n);var s=fu(t,n);return{ll:e,ds:r,pp:{gH:cu(s,0),pH:cu(s,1),groupingIdentity:cu(s,2)}}}(t,n);case VD.V24:return function(t,n,i){var e=Tu(t,n,4),r=oC(t,n);fu(t,n);var s=fu(t,n);return{ll:e,ds:r,pp:{groupingIdentity:cu(s,1),gH:cu(s,4),pH:cu(s,5),dH:cu(s,6),kH:cu(s,7)}}}(t,n)}}function vC(t){for(var n=new m(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function dC(t,n){var i=n||new Yu,e=cC(t,i);return e?{lp:e,bH:function(t,n,i){var e=[],r=n.ps,s=zu(t,r,r+i.mH),u=new Yu;switch(n._s(i.mH),i.mp){case VD.V22:case VD.V23:i.pp.dH&&(s=vC(s))}aC(t,n,i);for(;u.ps<s.byteLength;)e.push(lC(s,u,i));return e}(t,i,e)}:null}function lC(t,n,i){var e,r,s=fC(t,n,i),u=n.ps,o=zu(t,u,u+s.ds);switch(n._s(s.ds),i.mp){case VD.V22:var h=s;e=rC(r=o,new Yu,h.ll);break;case VD.V23:var a=s,c=new Yu;!function(t,n,i){var e,r,s,u=i.pp;u.gH&&(e=mu(t,n)),u.pH&&(r=fu(t,n)),u.groupingIdentity&&(s=fu(t,n))}(o,c,a),e=sC(r=zu(o,c.ps,o.byteLength),new Yu,a.ll);break;case VD.V24:var f=s,v=new Yu;f.pp.dH&&(o=vC(o)),function(t,n,i){var e,r,s,u,o=i.pp;o.groupingIdentity&&(e=fu(t,n)),o.gH&&(r=mu(t,n)),o.pH&&(s=fu(t,n)),o.kH&&(u=oC(t,n))}(o,v,f),e=sC(r=zu(o,v.ps,o.byteLength),new Yu,f.ll)}if(!e){var d=Qu(Wu(r));e=QD(s.ll,d.buffer)}return e}function _C(t){return function(t,n,i){return tC(t,n,i)}(new DataView(t.data),new Yu,t.key)}function wC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return _C(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return QD(t.key,t.data)}(t)}var gC="org.id3";var yC=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Dw=void 0,r.AH=void 0,r.XF=[],r.ZF=[],r.JF=void 0,r.KF=void 0,r.xw=void 0,r.Cw=void 0,r.pR=dg.kl,r.NF=Ky.NONE,r.Td=void 0,r.YF=void 0,r.fi=tm.DEFAULT,r.TH=void 0,r.SH=function(){r.EH(),r.Dw.removeEventListener("cuechange",r.SH)},r.IH=function(){r.El!==dg.kl&&(r.RH(),r.sH(),r.XF.length&&r.NH(Ky.LOADING))},r.DH=function(){r.NH(Ky.LOADED)},r.CH=function(){r.NH(Ky.ERROR)},r.Dw=n,r.TH=e,r.Dw.addEventListener("cuechange",r.SH),r.Dw.addEventListener("cuechange",r.IH),r.AH=i,r.AH&&(r.YF=jl(r.AH.src),r.AH.addEventListener("load",r.DH),r.AH.addEventListener("error",r.CH)),r.xw=qy(),r.Cw=n.label||"",r.JF=new vD(r.XF),r.KF=new vD(r.ZF),r.El=r.xH,ms(function(){r.IH(),r.NH(Ky.NONE)}),r}S(n,t);var i=n.prototype;return i.Ed=function(){return yg(this)},i.EH=function(){var t=this.El;this.PH||t!==dg.Al?this.xH=t:this.xH=dg.bl},i.OH=function(){var t=this.El,n=this.xH;t!==n&&(this.PH||t!==dg.Al||n!==dg.bl)&&("metadata"===this.wl&&n===dg.kl?this.El=t:this.El=n)},i.CF=function(t){this.NF!==t&&(this.NF=t,this.Ur(new dD(this,t)))},i.NH=function(t){var n=_.max(this.NF,this.BH,t);this.CF(n)},i.LH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.MH=function(t){var n=this.LH(t);if(n)return n;if(z(n=this.UH(t)))for(var i=0,e=n;i<e.length;i++){e[i].Id=this}else n.Id=this;return t.THEOplayerTextTrackCue=n,n},i.UH=function(t){return(n=t)&&n.type===gC&&n.value?(this.tr=tm.ID3,function(t){var n;try{n=wC(t.value)}catch(t){n=QD("")}return new WD(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.tr=tm.ID3,function(t){var n=[];try{var i=dC(new DataView(t.data));if(i)for(var e=0,r=i.bH;e<r.length;e++){var s=r[e];n.push(new WD(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.tr=tm.WEBVTT,function(t){return"regionId"in t}(t)?new MD(t):new LD(t)):new DD(t);var n},i.FH=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.MH(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.RH=function(){for(var t=this.FH(this.Dw.cues),n=fD(this.XF,t),i=0,e=n.WF;i<e.length;i++){var r=e[i];this.Ur(new mD(r))}for(var s=0,u=n.VF;s<u.length;s++){var o=u[s];this.Ur(new gD(o))}},i.sH=function(){for(var t=this.FH(this.Dw.activeCues),n=fD(this.ZF,t),i=0,e=n.WF;i<e.length;i++){e[i].fg=!1}for(var r=0,s=n.VF;r<s.length;r++){s[r].fg=!0}(n.VF.length||n.WF.length)&&this.Ur(new CD(this))},i.Il=function(t){this.El=t},i.ov=function(){this.Vr();for(var t=this.XF.slice(),n=0;n<t.length;n++){t[n].ov()}es(this.XF),es(this.ZF),this.Dw.removeEventListener("cuechange",this.IH),this.AH&&(this.Dw.removeEventListener("load",this.DH),this.Dw.removeEventListener("error",this.CH)),this.AH&&Ee(this.AH)},A(n,[{key:"Cl",get:function(){return this.KF}},{key:"dA",get:function(){return this.AH?this.AH.default:void 0}},{key:"Dl",get:function(){return this.JF}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"ll",get:function(){return this.Dw.id||this.AH&&this.AH.id||""}},{key:"_l",get:function(){return this.xw}},{key:"Sl",get:function(){return this.Dw.inBandMetadataTrackDispatchType||""}},{key:"wl",get:function(){return this.Dw.kind||wk.zm}},{key:"gl",get:function(){return this.Cw},set:function(t){t!==this.gl&&(this.Cw=t,this.Ur(new Vy(this)))}},{key:"yl",get:function(){return this.Dw.language||""}},{key:"El",get:function(){return this.pR},set:function(t){var n=this.El;this.pR=wg(t),this.EH();var i=this.El;n!==i&&this.Ur(new qw(this)),i!==dg.kl&&this.NH(Ky.LOADING)}},{key:"xH",get:function(){return wg(this.Dw.mode)},set:function(t){this.Dw.mode=t}},{key:"Mw",get:function(){return this.Dw}},{key:"Nl",get:function(){return this.NF}},{key:"BH",get:function(){return this.AH?+this.AH.readyState||Ky.NONE:Ky.LOADED}},{key:"xl",get:function(){return this.YF}},{key:"tr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Ur(new _D(this)))}},{key:"PH",get:function(){return this.TH},set:function(t){this.TH=t,this.EH()}}]),n}(Es);function mC(t){return t instanceof yC}function pC(t,n){return jr(t.wy,n.wy)||function(t,n){return t.Id===n.Id?Yr(cD(t),cD(n)):Ck(t.Id,n.Id)}(t.qw,n.qw)||function(t,n){return t===n?Vr._r:t===rm.zw?Vr.gr:Vr.wr}(t.type,n.type)}var kC=function(){function t(t,n){var i=this;this.KE=void 0,this.HH=void 0,this.L_=[],this.zH=0,this.VH=0,this.WH=[],this.XH=!1,this.qH=!1,this.GH=void 0,this.QH=function(){i.zH=0,i.YH(),i.jH()},this.ZH=function(){i.YH(),i.jH()},this.JH=function(){i.qH=!0,i.GH=i.KE.f_,i.$H()},this.KH=function(){i.YH(),i.jH()},this.tz=function(){i.nz(),i.YH(),i.jH()},this.iz=function(){i.ez()},this.rz=function(t){ts(i.WH,t.qw),i.ez()},this.HH=n,this.KE=t,t.Fr(lc.Ba,this.ZH),t.Fr(lc.ba,this.ZH),t.Fr(Zg.c_,this.ZH),t.Fr(lc.ka,this.ZH),t.Fr(lc.Ra,this.JH),t.Fr(lc.Ia,this.KH),this.ez()}var n=t.prototype;return n.tl=function(){es(this.WH);for(var t=0,n=this.L_.slice();t<n.length;t++){var i=n[t];this.$d(i)}this.$H(),this.zH=0,this.VH=0,this.XH=!1,this.qH=!1,this.GH=void 0},n.Jd=function(t){is(this.L_,t)||(this.L_.push(t),t.Fr(Mw.Rd,this.iz),t.Fr(Mw.Dd,this.rz),t.Fr(Mw.Ud,this.tz),t.Dl.il&&this.ez(),this.nz())},n.$d=function(t){if(ts(this.L_,t)){if(t.Wr(Mw.Rd,this.iz),t.Wr(Mw.Dd,this.rz),t.Wr(Mw.Ud,this.tz),t.Dl.il){for(var n=0,i=t.Dl.nl;n<i.length;n++){var e=i[n];ts(this.WH,e)}this.ez()}this.nz()}},n.nz=function(){this.XH=this.L_.some(function(t){return t.El!==dg.kl})},n.jH=function(){this.KE.y_||this.KE.w_?this.$H():this.ez()},n.ez=function(){this.XH&&(this.zH||(this.zH=this.HH.Hi(this.QH)))},n.$H=function(){this.zH&&(this.HH.sz(this.zH),this.zH=0)},n.YH=function(){var t;if(this.XH&&!this.KE.y_){var n=this.L_,i=this.VH,e=null!=(t=this.GH)?t:this.KE.f_,r=e-i<-.1,s=this.qH||r;s&&e>i&&e-i<.1&&(s=!1),this.qH=!1,this.GH=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.El!==dg.kl){a.sH(e,s);for(var c=0,f=a.Cl.nl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.WH;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.El!==dg.kl&&Dk(l,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)is(o,u[w])&&ns(u,w);var g=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Gw>=i&&m.Qw<=e&&(g.push(m),ns(u,y))}for(var p=[],k=[],b=0;b<g.length;b++){var A=g[b];A.fg||p.push(new bD(A,A.Gw)),p.push(new TD(A,_.max(A.Gw,A.Qw)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.fg&&(p.push(new TD(E,_.max(E.Gw,E.Qw))),E.fg=!1)}for(var I=0;I<o.length;I++){var R=o[I];R.fg||(p.push(new bD(R,R.Gw)),R.fg=!0)}p.sort(pC);for(var N=0;N<p.length;N++){var D=p[N],C=D.qw;C.Ur(D);var x=C.Id;x&&(D.type===rm.zw?x.Ur(new ED(C)):x.Ur(new RD(C)),is(k,x)||k.push(x))}k.sort(Ck);for(var P=0;P<k.length;P++){var O=k[P];O.Ur(new CD(O))}this.VH=e,this.WH=o}},n.ov=function(){this.tl(),this.KE.Wr(lc.Ba,this.ZH),this.KE.Wr(lc.ba,this.ZH),this.KE.Wr(Zg.c_,this.ZH),this.KE.Wr(lc.ka,this.ZH),this.KE.Wr(lc.Ra,this.JH),this.KE.Wr(lc.Ia,this.KH)},t}(),bC=function(){function t(){}var n=t.prototype;return n.Hi=function(t){return vI(t)},n.sz=function(t){dI(t)},t}(),AC=new bC,TC=function(t){function n(n,i){return void 0===i&&(i=AC),t.call(this,n,i)||this}return S(n,t),n}(kC),SC=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).uz=void 0,r}return S(n,t),n.prototype.cg=function(n){return this===n||Kw(this,n)&&t.prototype.cg.call(this,n)&&UD(this,n)},A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=HD(this)),this.Td}}]),n}(mm),EC=function(t){function n(n,i,e){return void 0===e&&(e=tm.DEFAULT),t.call(this,wk.Wm,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(kD),IC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).tr=tm.ID3,e.uz=void 0,e}S(n,t);var i=n.prototype;return i.fA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Gw<t.Gw)FD(n,i,t.Gw);else{var e=n[0];if(e.Gw>t.Gw)t.Qw=e.Gw;else{var r=aD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].Gw<t.Gw&&FD(n,u,t.Gw),s<n.length){var o=n[s];t.Qw=o.Gw}}}}}}(n,this.XF),t.prototype.fA.call(this,n)},i.Ed=function(){return yg(this)},n}(EC);function RC(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=wC(t.value);return t.THEOplayerTextTrackCue=new SC(i,e),t.THEOplayerTextTrackCue}var NC=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Dw=void 0,i.IH=function(){i.El!==dg.kl&&(i.RH(),i.NH(Ky.LOADED))},i.Dw=n,i.Dw.addEventListener("cuechange",i.IH),i.El=i.xH,ms(function(){i.IH()}),i}S(n,t);var i=n.prototype;return i.UR=function(n){t.prototype.UR.call(this,n),this.xH=this.El},i.NH=function(t){this.Nl=_.max(this.Nl,t)},i.RH=function(){for(var t=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(RC(t[e]||t.item(e)));return qr(i,hD),i}(this.Dw.cues),n=fD(this.Dl.nl.slice(),t),i=0,e=n.WF;i<e.length;i++){var r=e[i];this.rH(r)}for(var s=0,u=n.VF;s<u.length;s++){var o=u[s];this.fA(o)}},i.ov=function(){this.Dw.removeEventListener("cuechange",this.IH),t.prototype.ov.call(this)},A(n,[{key:"ll",get:function(){return this.Dw.id||""}},{key:"Sl",get:function(){return this.Dw.inBandMetadataTrackDispatchType||""}},{key:"yl",get:function(){return this.Dw.language||""}},{key:"xH",get:function(){return wg(this.Dw.mode)},set:function(t){this.Dw.mode=t}},{key:"Mw",get:function(){return this.Dw}}]),n}(IC),DC=function(t){function n(n){var i;return(i=t.call(this,0,n.Yw)||this).oz=void 0,i.oz=n,i.Qw=i.oz.Gw,i}return S(n,t),A(n,[{key:"ll",get:function(){return this.oz.ll}},{key:"vg",get:function(){return this.oz.vg},set:function(t){this.oz.vg=t}}]),n}(SC);function CC(t){return void 0===t.uz&&(t.uz=new DC(t)),t.uz}var xC=function(t){function n(n,i){var e;(e=t.call(this,n.Sl,n.gl)||this).hz=void 0,e.az=void 0,e.cz=void 0,e.tr=tm.ID3,e.fz=function(t){e.vz(t.qw)},e.dz=function(t){var n=t.qw;if(void 0!==n.uz){var i=n.uz;n.uz=void 0,e.rH(i),i.ov()}},e.lz=function(t){var n=CC(t.qw);n.fg||e._z(n),e.wz(n)},e.gz=function(t){var n=t.qw,i=CC(n);e.az.f_<n.Gw&&e._z(i)},e.yz=function(){var t=e.cz,n=e.El;if(e.cz=n,n===dg.kl)e.ZF.forEach(function(t){return t.fg=!1}),es(e.ZF);else if(t===dg.kl)for(var i=e.az.f_,r=0,s=e.XF;r<s.length;r++){var u=s[r];i<u.Qw&&e._z(u)}},e.az=i,e.hz=n,e.cz=n.El,n.Fr(Mw.Rd,e.fz),n.Fr(Mw.Dd,e.dz),n.Fr(Mw.xd,e.lz),n.Fr(Mw.Od,e.gz),n.Fr(Mw.Ud,e.yz);for(var r=0,s=e.hz.Dl.nl;r<s.length;r++){var u=s[r];e.vz(u)}return e}S(n,t);var i=n.prototype;return i._z=function(t){var n=aD(this.ZF,t);if(!(n>=0)){var i=-(n+1);this.ZF.splice(i,0,t),t.fg=!0,t.Ur(new bD(t,this.az.f_)),this.Ur(new ED(t)),this.Ur(new CD(this))}},i.wz=function(t){var n=aD(this.ZF,t);n>=0&&ns(this.ZF,n),t.fg=!1,t.Ur(new TD(t,this.az.f_)),this.Ur(new RD(t)),this.Ur(new CD(this))},i.ov=function(){this.hz.Wr(Mw.Rd,this.fz),this.hz.Wr(Mw.Dd,this.dz),this.hz.Wr(Mw.xd,this.lz),this.hz.Wr(Mw.Od,this.gz),this.hz.Wr(Mw.Ud,this.yz),t.prototype.ov.call(this)},i.vz=function(t){var n=CC(t);(this.fA(n),this.El!==dg.kl)&&(this.az.f_<n.Qw&&this._z(n))},A(n,[{key:"wl",get:function(){return this.hz.wl}},{key:"gl",get:function(){return this.hz.gl},set:function(t){this.hz.gl=t}},{key:"yl",get:function(){return this.hz.yl}},{key:"ll",get:function(){return this.hz.ll}},{key:"_l",get:function(){return this.hz._l}},{key:"Sl",get:function(){return this.hz.Sl}},{key:"El",get:function(){return this.hz.El},set:function(t){this.hz.El=t}},{key:"Nl",get:function(){return this.hz.Nl}},{key:"xl",get:function(){return this.hz.xl}}]),n}(EC),PC=function(t){function n(n){var i;return(i=t.call(this)||this).az=void 0,i.az=n,i}S(n,t);var i=n.prototype;return i.Jd=function(n){if(n.tr===tm.ID3){var i=n;return i.uz||(i.uz=new xC(i,this.az)),t.prototype.Jd.call(this,i.uz)}return t.prototype.Jd.call(this,n)},i.$d=function(n){if(n.tr===tm.ID3){var i=n;return!!i.uz&&t.prototype.$d.call(this,i.uz)}return t.prototype.$d.call(this,n)},n}(bg),OC=function(t){function n(n,i){var e;return(e=t.call(this)||this).mz=rr(),e.ES=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Id).tr){i.next=4;break}return i.next=4,tr.awrap(n.Qr(Mw.Vd));case 4:if(n.tr===tm.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Dl.il){i.next=11;break}return i.next=9,tr.awrap(n.Qr(Mw.Rd));case 9:i.next=6;break;case 11:e.pz(n);case 12:case"end":return i.stop()}},null,null,null,ge)},e.IS=function(t){var n=t.Id;if(n.tr===tm.ID3&&e.mz.has(n._l)){var i=e.mz.get(n._l);e.$d(i),e.sA.vA(i),n.Wr(Mw.Rd,e.vz)}},e.vz=function(t){BC(t.qw)&&e.kz(t.qw)},e.sA=n,e.bz=i,e.Az(),e}S(n,t);var i=n.prototype;return i.Az=function(){this.bz.Fr(Pw.pd,this.ES),this.bz.Fr(Pw.bd,this.IS)},i.Tz=function(){this.bz.Wr(Pw.pd,this.ES),this.bz.Wr(Pw.bd,this.IS)},i.pz=function(t){var n=t.Dl.nl[0];if(BC(n)){var i=function(t){var n=t.match(LC);if(!n)return;return{Id:n[1],yl:n[2]}}(n.Yw.description),e=i.Id,r=i.yl;if(!this.Sz(e,r)){var s=this.sA.aA(wk.zm,t.ll,e,r,!1,tm.TTML);this.Jd(s),this.mz.set(t._l,s);for(var u=0,o=t.Dl.nl;u<o.length;u++){var h=o[u];BC(h)&&this.kz(h)}t.Fr(Mw.Rd,this.vz)}}},i.Sz=function(t,n){return!!$r(this.Bp.nl,function(i){return i.gl===t&&i.yl===n})},i.kz=function(t){if(t.Id)for(var n=this.mz.get(t.Id._l),i=uk(t.Yw.text,0,{Gy:0,Qy:1/0,Yy:-t.Qw}),e=0;e<i.length;e++){var r=i[e];n.fA(r)}},i.tl=function(){var n,i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.bz.nl;n<i.length;n++)i[n].Wr(Mw.Rd,this.vz);for(e=0,r=this.Bp.nl;e<r.length;e++)s=r[e],this.sA.vA(s);return this.mz.clear(),u.next=5,tr.awrap(t.prototype.tl.call(this));case 5:case"end":return u.stop()}},null,this,null,ge)},i.ov=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Tz(),n.next=3,tr.awrap(t.prototype.ov.call(this));case 3:case"end":return n.stop()}},null,this,null,ge)},n}(yk);function BC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Yw)&&LC.test(n.description);var n}var LC=/^Track:(.+),Lang:(.+)$/;var MC=function(t){function n(n){var i;return(i=t.call(this,lc.oa)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Rs),UC=function(t){function n(){return t.call(this,lc.ha)||this}return S(n,t),n}(Rs),FC=function(t){function n(n){var i;return(i=t.call(this,"Ua")||this).Ez=n,i}return S(n,t),n}(Rs),HC=new qR,zC=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).Jo=void 0,u.Iz=!1,u.Rz=!1,u.Uc=new as,u.zo=function(t){switch(t.Jr){case"license-request":u.YA(t.Zr,t.$r).catch(function(t){return u.Ah(t)});break;default:u.Ah(new Oy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Jr))}},u.Nz=function(t){u.Dz.Ko.cs(function(t,n){switch(t){case"usable":i.Nn(function(){u.Rz=!0,u.Ur(new UC)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ur(new FC(n))}})},u.Cz=function(t){u.Ah(new Oy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.Dz=e,u.xz=r,u.Pz=s,e.Fr("Zr",u.zo),e.Fr("jr",u.Nz),e.Fr("Kr",u.Cz),u.Jo=e.Jo.then(function(){return u.Oz()}),u}S(e,t);var r=e.prototype;return r.Go=function(){var t=this;return this.Iz=!0,HC.TB(function(n){return t.Bz(n)},this.Uc.Pr)},r.Bz=function(t){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,vs(t),s.next=4,tr.awrap(this.xz.zA(t));case 4:return s.next=6,tr.awrap(this.xz.VA(this.Pz.ir,this.Pz.us,t));case 6:return i=s.sent,s.next=9,tr.awrap(this.Dz.Go(this.Pz.ir,this.Pz.us,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),ds(s.t0),e=s.t0 instanceof no?s.t0.Ds:void 0,r=new Oy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Ah(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],ge)},r.YA=function(t,i){var e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!$u(t)){s.next=7;break}return s.next=4,tr.awrap(this.xz.iT(new m(t),this.Uc.Pr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,tr.awrap(this.xz.eT(new m(t),i,this.Uc.Pr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!fs(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,tr.awrap(this.Dz.jo(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof no?s.t1.Ds:void 0,new Oy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],ge)},r.Ah=function(t){var i=t instanceof Oy?t:new Oy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ur(new MC(i)),this.qo()},r.Oz=function(){this.Dz.Wr("Zr",this.zo),this.Dz.Wr("jr",this.Nz),this.Dz.Wr("Kr",this.Cz),this.Rz=!1,this.Uc.Dr()},r.qo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),this.Oz(),t.next=4,tr.awrap(this.Dz.qo().catch(j));case 4:case"end":return t.stop()}},null,this,null,ge)},e}(Es),VC=[lc.ha,lc.oa,lc.Ma],WC=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Vo=void 0,r.nh=void 0,r.Lz=void 0,r.Mz=[],r.Uz=void 0,r.Fz=[],r.Vo=n,r.nh=i,r.Lz=e,r}S(n,t);var i=n.prototype;return i.nT=function(){return this.Lz.nT()},i.Hz=function(t){return this.Uz||(this.Uz=this.zz(t)),this.Uz},i.zz=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return vs(t),i.next=3,tr.awrap(this.Lz.iT(new m(Ju()),t));case 3:return n=i.sent,vs(t),i.next=7,tr.awrap(this.nh.sh(n.buffer));case 7:case"end":return i.stop()}},null,this,null,ge)},i.Vz=function(t){var n,i,e=this;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.Fz.push(t),r.next=4,tr.awrap(this.nh.rh("temporary"));case 4:return n=r.sent,i=new zC(n,this.Lz,t),this.Mz.push(i),i.Fr(VC,this.Mr),i.Jo.then(function(){return e.Wz(i)}),r.abrupt("return",i);case 10:return r.prev=10,ts(this.Fz,t),r.finish(10);case 13:case"end":return r.stop()}},null,this,[[0,,10,13]],ge)},i.Xz=function(t){if(t.qz)return!1;for(var n=0,i=this.Mz;n<i.length;n++){if(XC(i[n].Pz,t))return!0}for(var e=0,r=this.Fz;e<r.length;e++){if(XC(r[e],t))return!0}return!1},i.Wz=function(t){t.Wr(VC,this.Mr),ts(this.Mz,t)},i.ov=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Vr(),t=this.Mz.slice(),es(this.Mz),n.next=5,tr.awrap(ge.all(t.map(function(t){return t.qo()})));case 5:this.Lz.Tr();case 6:case"end":return n.stop()}},null,this,null,ge)},A(n,[{key:"ih",get:function(){return this.Vo}}]),n}(Es);function XC(t,n){return!t.qz&&t.ir===n.ir&&Ys(t.us,n.us)}var qC=function(t){function e(n){var i;return(i=t.call(this)||this).OS=void 0,i.Uc=new as,i.BB=new qR,i.Dh=void 0,i.Lz=void 0,i.LS=void 0,i.Vo=void 0,i.Gz=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tr.awrap(i.Qz(t.ir,t.us,i.Uc.Pr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),fs(n.t0)||i.Ah(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],ge)},i.OS=n,i.OS.Fr(Ss.ts,i.Gz),i}S(e,t);var r=e.prototype;return r.Qo=function(t,n){this.LS=t,this.uL(n)},r.uL=function(t){this.Dh=t,this.Yz(this.Uc.Pr).catch(ls)},r.Yz=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Pe.Ki){n.next=5;break}return n.next=3,tr.awrap(this.jz(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Dh||!this.Dh.Zz){n.next=9;break}return n.next=8,tr.awrap(this.Jz(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,ge)},r.jz=function(t){var n,i,e,r,s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Dh)?void 0:n.fE){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Dh)?void 0:u.fE)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],h=0,a=null!=(c=o.AS)?c:[];case 8:if(!(h<a.length)){v.next=22;break}return f=a[h],v.prev=10,v.next=13,tr.awrap(this.Qz(o.ih.ir,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),ds(v.t0);case 19:h++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],ge)},r.Qz=function(t,e,r){var s,u,o,h,a,c,f,v,d,l;return tr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(vs(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Dh&&this.Dh.fE.length){_.next=5;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===dr||t===_r||t===lr){_.next=8;break}return _.abrupt("return");case 8:s=aA(t,e),u=this.Dh.fE,h=0;case 11:if(!(h<u.length)){_.next=42;break}if(a=u[h],vs(r),(c=s[a.ih.er])&&a.ih.ir===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,tr.awrap(this.$z(a,r));case 20:if(!(f=_.sent).nT()){_.next=24;break}return _.next=24,tr.awrap(f.Hz());case 24:if(v=this.OS._w,d={ir:a.ih.ir,us:c,qz:v},!this.Kz(f,d)){_.next=32;break}return _.next=29,tr.awrap(f.Vz(d));case 29:return l=_.sent,_.next=32,tr.awrap(l.Go());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),ds(_.t0),o=_.t0;case 39:h++,_.next=11;break;case 42:return _.next=44,tr.awrap(i.be());case 44:if(!_.sent){_.next=48;break}throw new Oy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],ge)},r.Jz=function(t){var n,i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Dh)?void 0:n.fE){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],vs(t),u.prev=7,u.next=10,tr.awrap(this.$z(r,t));case 10:if(!(s=u.sent).nT()){u.next=14;break}return u.next=14,tr.awrap(s.Hz());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),ds(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],ge)},r.Kz=function(t,n){return i.Pe.$i||!t.Xz(n)},r.$z=function(t,n){var i=this;return this.BB.TB(function(n){return i.tV(t,n)},n)},r.tV=function(t,n){var i,e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(vs(n),this.Dh&&this.Lz&&this.LS){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Vo){o.next=7;break}if(this.Vo.ih===t.ih){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Vo);case 7:return i=this.Lz,e=nr({},t,{SE:t.SE.map(function(n){var e;return nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.AT(t.ih),_h:n._h||i._h(t.ih)})})}),o.next=11,tr.awrap(this.LS.eL(e.ih,e.SE));case 11:return r=o.sent,s=i.bS(e),(u=new WC(e.ih,r,s)).Fr([lc.ha,lc.oa,lc.Ma],this.Mr),this.Vo=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,ge)},r.Ah=function(t){var i=t instanceof Oy?t:new Oy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ur(new MC(i))},r.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LS=void 0,this.Dh=void 0,this.Uc.Dr(),this.Uc=new as,t.next=6,tr.awrap(this.nV());case 6:case"end":return t.stop()}},null,this,null,ge)},r.nV=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.BB.Dr());case 2:if(!(t=this.Vo)){n.next=8;break}return t.Wr(lc.Ma,this.Mr),this.Vo=void 0,n.next=8,tr.awrap(t.ov());case 8:case"end":return n.stop()}},null,this,null,ge)},r.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),this.OS.Wr(Ss.ts,this.Gz),t.next=4,tr.awrap(this.tl());case 4:return t.next=6,tr.awrap(this.BB.ov());case 6:case"end":return t.stop()}},null,this,null,ge)},A(e,[{key:"iV",get:function(){var t;return null==(t=this.Vo)?void 0:t.ih}},{key:"hE",get:function(){return this.Lz},set:function(t){this.Lz=t}}]),e}(Es),GC=L.un||L.hn,QC=L.En,YC=.5,jC=5,ZC=L.dn,JC=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).zh=void 0,s.eV=void 0,s.MS=void 0,s.iI=!0,s.LS=void 0,s.rV=new qR,s.sV=void 0,s.uV=void 0,s.oV=void 0,s.KB=void 0,s.L_=void 0,s.sR=void 0,s.hV=[],s.aV=void 0,s.cV=void 0,s.fV=void 0,s.vV=void 0,s.dV=void 0,s.lV=void 0,s._V=void 0,s.wV=NaN,s.gV=void 0,s.yV=void 0,s.iR=!1,s.mV=ge.resolve(),s.pV=new as,s.kV=[],s.bV=eS.QI(),s.AV=void 0,s.TV=1,s.SV=!1,s.EV=!1,s.IV=!1,s.RV=!1,s.ur=void 0,s.NV=!1,s.DV=!1,s.CV=!1,s.xV=!1,s.PV=0,s.OV=function(t){var n=t.track,i=s.BV(n);s.LV(n,i)},s.MV=function(t){var n=nx(s.aV,t.track);n&&s.aV.$d(n)},s.UV=function(){for(var t=0;t<s.L_.il;t++){var n=s.L_.Zd(t);n instanceof yC&&n.OH()}},s.FV=function(){s.aV.tl()},s.HV=function(){var t=s.LS,n=t.hF,i=t.aF;if(n&&i)if(t.lL)s.zV();else if(t.Nl!==QN.pU){var e=n.vw,r=i.vw;if(0!==e.il&&0!==r.il){var u=s.f_;if(u<e.aI(0)||u<r.aI(0))s.zV();else if(e.EE(u)!==r.EE(u))s.VV();else if(s.zV(),!s.PV&&s.oV.UF())e.NI(r).BI(u,u+YC)&&(s.PV=vI(s.WV))}else s.zV()}},s.WV=function(){s.PV=0,s.HV()},s.XV=function(){if(!(s.y_||s.Nl>=Pg.e_)){0;var t=s.LS,n=t.hF,i=t.aF;if(n&&i){var e=s.f_,r=n.vw,u=i.vw;if(r.EE(e)&&u.EE(e))r.NI(u).BI(e-jC,e)&&s.gs(e)}}},s.qV=function(){s.Ur(new Kg(s.f_))},s.GV=function(){s.QV(new cs),s.Ur(new $g(s.f_))},s.YV=function(){s.jV(),s.Ur(new db(s.f_))},s.ZV=function(){s.JV(s.g_)},s.$V=function(){s.Ur(new ry(s.v_))},s.KV=function(){s.Ur(new vN(s.f_))},s.tW=function(){s.Ur(new dN)},s.nW=function(){var t=s.f_,n=s.y_,i=s.Nl<Pg.e_&&!s.d_,e=void 0!==s.yV,r=e&&s.yV!==t;(n||!e||r&&!i)&&(s.Ur(new uy(s.f_,void 0)),s.yV=t)},s.iW=function(){!s.SV&&s.d_&&(s.SV=!0,s.Ur(new oy(s.f_)))},s.eW=function(){if(null!==s.zh.error){var t,n=s.zh.error;s.GS(new By(null!=(t=n.code)?t:Cy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.rW=function(){s.EV&&(s.sW(),s.IV=!0)},s.uW=function(){s.Ur(new fy(s.f_,s.k_))},s.oW=function(){s.p_>0&&s.m_>0&&s.Ur(new Wk)},s.hW=function(t){s.Ur(new Os(t.initDataType,t.initData||new ArrayBuffer(0)))},s.aW=function(){s.Ur(new Bs)},s.cW=function(t){var n=t.initData,i=n?Qu(n).buffer:new ArrayBuffer(0);s.Ur(new Os(dr,i))},s.fW=function(t){if(t.initData){var n=$C(t.initData);if(!n)return;s.Ur(new Os(_r,n))}else s.Ur(new Os(_r,new ArrayBuffer(0)))},s.vW=function(t){var n=t.initData,i=n?Qu(n).buffer:new ArrayBuffer(0);s.Ur(new Os(dr,i))},s.dW=function(){s.jV()},s.lW=function(t){s.QV(t)},s._W=function(t){s.Ur(t),t.type===lc.oa&&s.GS(My(t.errorObject))},s.zh=n,s.ur=i,s.eV=e,s.sR=r,s.uV=new nD(Tt(s)),s.uV.Fr(Zg.Hd,s.Mr),s.oV=new rD(Tt(s)),s.oV.Fr(Zg.c_,s.YV),s.KB=new qC(Tt(s)),s.KB.Fr([lc.ha,lc.oa,lc.Ma],s._W),s.L_=new gk,s.aV=new gk,s.cV=new HT([s.L_,s.aV]),s.fV=new PC(Tt(s)),s.fV.cl=s.cV,s.vV=new OC(Tt(s),s.fV),s.dV=new HT([s.cV,s.vV.Bp]),s.lV=new TC(Tt(s)),s.wW(),s.cE(),s}S(n,t);var e=n.prototype;return e.gW=function(){this.oE.ended||this.f_===this.v_||(this.SV=!1)},e.yW=function(){return void 0!==this._V&&this.v_===this._V},e.JV=function(t){this.TV!==t&&(this.TV=t,this.Ur(new sy(this.f_,t)))},e.NE=function(){return lR(this.zh)},e.X_=function(){var t=this.mW();return this.pW(),t},e.pW=function(){this.NV?this.DV&&(this.DV=!1,this.Ur(new Kg(this.f_))):this.kW()},e.kW=function(){if(this.sV)this.sV.X_();else{L.dn&&!L.Qt&&this.zh.preload===jT.ZE&&(this.zh.preload=jT.Wm);var t=this.g_,n=this.zh.play();t!==this.oE.playbackRate&&(this.g_=t),G(n)?n.then(this.dW,this.lW):this.oV.UF()&&this.jV()}},e.q_=function(){this.NV?this.DV||(this.DV=!0,this.Ur(new $g(this.f_))):this.bW()},e.bW=function(){this.sV?this.sV.q_():(this.zh.pause(),this.oV.jo()),this.AW(new cs)},e.mW=function(){var t=new Zu;return this.kV.push(t),t.Ts},e.TW=function(){for(var t=0,n=this.kV;t<n.length;t++){n[t].Is(void 0)}es(this.kV)},e.AW=function(t){for(var n=0,i=this.kV;n<i.length;n++){i[n].Rs(t)}es(this.kV)},e.jV=function(){this.NV||this.sV||this.TW()},e.QV=function(t){this.NV||this.sV||this.AW(t)},e.gs=function(t,n){this.sV?this.sV.f_=t:(this.pV.Dr(),this.pV=new as,this.mV=this.SW(t,this.mV,this.pV.Pr).catch(j))},e.RE=function(t){var n=this.DE;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.gs(i)}},e.SW=function(t,n,i){var e,r,s,u,o,h,a,c,f=this;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this._V=t,this.wV=t,this.iR=!0,this.SV&&!this.yW()&&(this.SV=!1),this.Ur(new ay(t)),v.next=8,tr.awrap(n.catch(j));case 8:if(vs(i),this.RV&&this.EW(),this.Nl!==Pg.t_){v.next=13;break}return v.next=13,tr.awrap(this.Qr(Zg.Hd,i));case 13:if(0!==this.zh.seekable.length){v.next=19;break}return v.next=16,tr.awrap(ge.race([Cw(this.zh,"timeupdate",i),bs(100,i)]));case 16:vs(i),v.next=13;break;case 19:e=this.IW(t),r=this.Sw,s=!0,u=!1;case 23:if((r=this.Sw).il>0&&!r.EE(e)&&(e=r.mI(e),s=!0),ZC&&void 0!==(o=this.RW())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(h=this.NW())&&e>h)){v.next=37;break}return u=!0,v.next=33,tr.awrap(this.DW(h,i));case 33:return v.next=35,tr.awrap(Cw(this.zh,"seeked",i));case 35:vs(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,tr.awrap(this.DW(e,i));case 41:vs(i),a=this.f_,r=this.Sw,e=r.mI(e),c=1;case 46:if(!(_.abs(e-a)>=1/6)){v.next=56;break}return r=this.Sw,e=tx(e,r,c),v.next=51,tr.awrap(this.DW(e,i));case 51:vs(i),a=this.f_,c++,v.next=46;break;case 56:if(this.zh.seeking||this.Nl<Pg.i_){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,tr.awrap(gs(function(t){var n;return ge.race([Cw(f.zh,"seeked",t),f.Qr([lc.Aa,lc.fa,Zg.Hd],t),null==(n=f.LS)?void 0:n.Qr(eN.IN,t)].filter(F))},i));case 60:vs(i),v.next=23;break;case 63:this.xW(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!fs(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],ge)},e.DW=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(vs(n),i=this.Sw,t=i.mI(t),!this.RV){s.next=18;break}e=!0;case 5:if(!(e||this.Nl<Pg.e_)){s.next=17;break}if((i=this.Sw).EE(t)||(t=i.mI(t),e=!0),!e){s.next=13;break}return e=!1,this._V=t,this.PW(this.f_),s.abrupt("continue",5);case 13:return s.next=15,tr.awrap(this.Qr([Zg.Hd,lc.fa],n));case 15:s.next=5;break;case 17:vs(n);case 18:if(r=Cw(this.zh,"seeking",n),this.zh.currentTime=t,this._V=void 0,this.PW(this.f_),!this.zh.seeking){s.next=25;break}return s.next=25,tr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,ge)},e.IW=function(t){var n=this.vw;if(n&&!n.EE(t)){var i=n.CI(t,.05);if(i>-1){var e=n.aI(i);if(t<e)return e}}return t},e.RW=function(){if(this.LS&&this.LS.lL){var t=this.LS._L,n=this.LS.wL,i=t&&n?t.bI(n):t||n;if(i&&0!==i.il){var e=i.aI(i.il-1),r=i.fI(i.il-1);return _.max(e,r-.001)}}},e.NW=function(){if(this.LS&&this.LS.lL){var t=this.LS.wL;if(t&&0!==t.il){var n=t.aI(t.il-1),i=t.fI(t.il-1)-.02;return i-=.001,_.max(n,i)}}},e.PW=function(t){this.wV!==t&&(this.wV=t,this.Ur(new ay(t)))},e.xW=function(){this.iR=!1,this.wV=NaN,this.RV&&this.OW(),this.Ur(new cy(this.f_))},e.EW=function(){this.NV||(this.DV=this.w_,this.NV=!0,this.bW())},e.OW=function(){this.NV&&(this.NV=!1,this.DV||this.pW())},e.dL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.tr===Vk.lA&&fN.dL(i,this.zh))return i;if(i.tr===Vk._A&&ZN.dL(i))return i}},e.ew=function(){this.iI=!1,xe(this.zh)&&(this.zh.style.display="none")},e.iw=function(){this.iI=!0,xe(this.zh)&&(this.zh.style.display="block")},e.aA=function(t,n,i,e,r,s,u,o){var h=new kD(t,n,i,e,r,s,u,o);return this.L_.Jd(h),this.lV.Jd(h),h},e.wE=function(){return!0},e.yE=function(t,n,i,e){var r=s.createElement("track");r.src=jl(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=VE(),this.zh.appendChild(r);var u=this.zh.textTracks.getTrackById(r.id),o=new yC(u,r);return this.aV.Jd(o),this.hV.push(o),o},e.vA=function(t){this.L_.$d(t),this.lV.$d(t)},e.kE=function(){for(var t=0,n=this.L_.nl.slice();t<n.length;t++){n[t].ov()}this.L_.tl();for(var i=0,e=this.hV.slice();i<e.length;i++){var r=e[i];this.aV.$d(r),r.ov()}es(this.hV)},e.cE=function(){var t=this.zh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.OV),t.addEventListener("removetrack",this.MV),t.addEventListener("change",this.UV)),this.zh.addEventListener("emptied",this.FV)},e.AE=function(){var t=this.zh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.OV),t.removeEventListener("removetrack",this.MV),t.removeEventListener("change",this.UV)),this.zh.removeEventListener("emptied",this.FV)},e.LV=function(t,n){if(L.dn){if(t.kind===wk.Wm)return void this.BW(t);if(t.kind===wk.Kb&&""===t.label&&""===t.language&&!ix(t))return void this.LW(t,n)}nx(this.aV,t)||this.aV.Jd(new yC(t,n))},e.BW=function(t){t.mode=dg.bl;var n=new NC(t);this.aV.Jd(n),this.lV.Jd(n)},e.LW=function(t,n){var i=this;t.addEventListener("cuechange",function e(){ix(t)&&(t.removeEventListener("cuechange",e),i.aV.Jd(new yC(t,n)))}),t.mode=dg.bl},e.BV=function(t){for(var n=this.zh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Qo=function(t){var n=this;return this.rV.TB(function(i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(vs(i),!n.LS){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.tr!==Vk.lA){r.next=9;break}e=new fN(t,n,n.KB,n.ur),n.RV=!1,n.MW(new nD(n)),r.next=17;break;case 9:if(t.tr!==Vk._A){r.next=16;break}e=new ZN(t,n,n.KB,n.ur),n.RV=GC,n.MW(n.RV?new iD(n):new nD(n)),QC&&(n.Fr(lc.Ba,n.HV),n.Fr(Zg.Hd,n.XV)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.LS=e,r.next=20,tr.awrap(e.Zx());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,ge)})},e.VV=function(){if(!this.CV){var t=this.g_;this.CV=!0,this.g_=t,this.zh.playbackRate=0,this.uV&&this.uV.CF()}},e.zV=function(){if(this.CV){var t=this.g_;this.CV=!1,this.g_=t,this.zh.currentTime=this.zh.currentTime,this.uV&&this.uV.CF()}},e.MW=function(t){var n=this.Nl;this.uV.Tr(),this.uV=t,this.uV.Fr(Zg.Hd,this.Mr);var i=this.Nl;n!==i&&this.Ur(new ly(this.f_,i))},e.tl=function(){var t=this;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.iR=!1,this.bV=eS.QI(),this.pV.Dr(),this._V=void 0,this.wV=NaN,this.gV=void 0,this.RV=!1,this.NV=!1,this.MS=void 0,this.SV=!1,this.yV=void 0,this.EV=!1,this.IV&&(this.wW(),this.IV=!1),this.AW(new cs),this.MW(new nD(this)),this.oV.tl(),this.zV(),QC&&(dI(this.PV),this.PV=0,this.Wr(lc.Ba,this.HV),this.Wr(Zg.Hd,this.XV)),n.next=20,tr.awrap(this.rV.Dr());case 20:return n.next=22,tr.awrap(this.rV.TB(function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.LS){n.next=4;break}return n.next=3,tr.awrap(t.LS.Tr());case 3:t.LS=void 0;case 4:case"end":return n.stop()}},null,null,null,ge)}));case 22:case"end":return n.stop()}},null,this,null,ge)},e.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IV=!1,this.sW(),this.AE(),t.next=5,tr.awrap(this.tl());case 5:return t.next=7,tr.awrap(this.rV.ov());case 7:return this.oV.Tr(),this.uV.Tr(),t.next=11,tr.awrap(this.KB.Tr());case 11:return this.kE(),this.L_.ov(),this.fV.ov(),this.aV.ov(),t.next=17,tr.awrap(this.vV.ov());case 17:this.cV.ov(),this.dV.ov(),this.Vr();case 20:case"end":return t.stop()}},null,this,null,ge)},e.wW=function(){this.oE.addEventListener("play",this.qV),this.oE.addEventListener("pause",this.GV),this.oE.addEventListener("timeupdate",this.nW),this.oE.addEventListener("progress",this.KV),this.oE.addEventListener("loadstart",this.tW),this.oE.addEventListener("ended",this.iW),this.oE.addEventListener("ratechange",this.ZV),this.oE.addEventListener("volumechange",this.uW),this.oE.addEventListener("durationchange",this.$V),this.oE.addEventListener("resize",this.oW),this.oE.addEventListener("loadedmetadata",this.oW),this.oE.addEventListener("error",this.eW),this.oE.addEventListener("emptied",this.rW),Hr()?(this.zh.addEventListener("encrypted",this.hW),this.zh.addEventListener("waitingforkey",this.aW)):void 0!==Hi.WebKitMediaKeys&&"function"==typeof Hi.WebKitMediaKeys.isTypeSupported?this.zh.addEventListener("webkitneedkey",this.fW):zr()?this.zh.addEventListener("webkitneedkey",this.vW):void 0!==Hi.MSMediaKeys&&"function"==typeof Hi.MSMediaKeys.isTypeSupported&&this.zh.addEventListener("msneedkey",this.cW)},e.sW=function(){this.oE.removeEventListener("play",this.qV),this.oE.removeEventListener("pause",this.GV),this.oE.removeEventListener("timeupdate",this.nW),this.oE.removeEventListener("progress",this.KV),this.oE.removeEventListener("loadstart",this.tW),this.oE.removeEventListener("ended",this.iW),this.oE.removeEventListener("ratechange",this.ZV),this.oE.removeEventListener("volumechange",this.uW),this.oE.removeEventListener("durationchange",this.$V),this.oE.removeEventListener("resize",this.oW),this.oE.removeEventListener("loadedmetadata",this.oW),this.oE.removeEventListener("error",this.eW),this.oE.removeEventListener("encrypted",this.hW),this.oE.removeEventListener("waitingforkey",this.aW),this.oE.removeEventListener("webkitneedkey",this.fW),this.oE.removeEventListener("webkitneedkey",this.vW),this.oE.removeEventListener("msneedkey",this.cW),this.oE.removeEventListener("emptied",this.rW)},e.UW=function(){var t;this.sV||(this.bV=this.Aw,this.sV=new $N((t=this).f_,t.v_,t.d_,t.w_,t.y_,t.__,t.g_,t.k_,t.Nl),this.sW(),this.sV.Fr(JN,this.Mr))},e.FW=function(){if(this.sV){var t,n,i=this.sV;this.sV=void 0,this.uV.CF(),t=this,(n=i).v_===t.v_||y(n.v_)&&y(t.v_)||t.Ur(new ry(t.v_)),t.__=n.__,t.k_=n.k_,t.g_=n.g_,n.w_?t.q_():t.X_().catch(j),n.f_!==t.f_||n.Nl>Pg.t_&&t.Nl===Pg.t_?t.gs(n.f_):!n.y_&&t.y_?t.Ur(new ay(t.f_)):n.y_&&!t.y_&&t.Nl>=Pg.i_&&t.Ur(new cy(t.f_)),!n.d_&&t.d_&&t.Ur(new oy(t.f_)),i.Tr(),this.wW()}},e.GS=function(t){this.MS=t,this.AW(this.MS),this.Ur(new sD(this.MS))},e.HW=function(){this.zW||(VP(this.zh,i.Pe),this.xV=!0)},e.VW=function(t){t.appendChild(this.zh)},e.pF=function(){QC&&this.HV(),this.uV.CF()},e.fw=function(){this.KB.nV().catch(j)},A(n,[{key:"PF",get:function(){return this.CV}},{key:"vw",get:function(){return this.LS?this.LS.vw:eS.QI()}},{key:"dw",get:function(){var t=this.DE;if(t&&!y(t.getTime())){var n=1e3*this.f_;return new Date(t.getTime()+n)}}},{key:"DE",get:function(){if(this.oE.getStartDate)return this.iR&&this.gV||(this.gV=this.oE.getStartDate()),this.gV}},{key:"f_",get:function(){return this.sV?this.sV.f_:void 0!==this._V?this._V:this.zh.currentTime}},{key:"rB",get:function(){return this.eV}},{key:"v_",get:function(){return this.sV?this.sV.v_:this.LS?this.LS.v_:this.zh.duration}},{key:"d_",get:function(){return this.y_?this.yW():this.sV?this.sV.d_:this.zh.ended||this.SV}},{key:"Kr",get:function(){return this.MS}},{key:"oE",get:function(){return this.zh}},{key:"w_",get:function(){return this.NV?this.DV:this.sV?this.sV.w_:this.zh.paused}},{key:"Aw",get:function(){return this.bV.RI(eS.XI(this.zh.played))}},{key:"Jp",get:function(){return this.zh.offsetHeight*i.Pe.Zi}},{key:"mg",get:function(){return this.zh.offsetWidth*i.Pe.Zi}},{key:"pE",get:function(){return uS}},{key:"Nl",get:function(){return this.uV.Nl}},{key:"Sw",get:function(){return this.LS?this.LS.Sw:eS.QI()}},{key:"y_",get:function(){return this.sV?this.sV.y_:this.iR}},{key:"__",get:function(){return this.sV?this.sV.__:this.zh.muted},set:function(t){this.sV?this.sV.__=t:this.zh.muted=t}},{key:"g_",get:function(){return this.sV?this.sV.g_:void 0!==this.AV?this.AV:this.zh.playbackRate},set:function(t){this.sV?this.sV.g_=t:this.w_||this.CV?(this.AV=t,this.JV(t)):(this.AV=void 0,this.zh.playbackRate=t)}},{key:"WW",get:function(){return this.iI}},{key:"k_",get:function(){return this.sV?this.sV.k_:this.zh.volume},set:function(t){this.sV?this.sV.k_=t:this.zh.volume=t}},{key:"V_",get:function(){return this.dV}},{key:"uB",get:function(){return this.sR}},{key:"_w",get:function(){return!!this.zh.webkitCurrentPlaybackTargetIsWireless}},{key:"zW",get:function(){return this.xV}},{key:"XW",get:function(){return nr({},oN)}},{key:"hE",get:function(){return this.KB.hE},set:function(t){this.KB.hE=t}},{key:"iV",get:function(){return this.KB.iV}},{key:"Ew",get:function(){return this.EV},set:function(t){this.EV=t,this.IV&&!this.EV&&(this.IV=!1,this.wW())}}]),n}(Es);function $C(t){try{var n=Vu(t),i=new Yu;return Ou(Bu(du(n,i,mu(n,i,!0)),!0))}catch(t){return}}var KC=.01;function tx(t,n,i){if(void 0===i&&(i=0),!n.il)return 0;var e=n.mI(t),r=KC*i;return e===n.aI(0)?e+=r:e===n.fI(n.il-1)&&(e-=r),e}function nx(t,n){for(var i=0,e=t.nl;i<e.length;i++){var r=e[i];if(r.Mw===n)return r}}function ix(t){return!!t.cues&&t.cues.length>0}var ex={SO:void 0,EO:void 0,IO:void 0,RO:void 0,DO:void 0,CO:void 0,xO:void 0},rx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Td=void 0,n}return S(n,t),A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=ER(this)),this.Td}},{key:"SO",get:function(){}},{key:"EO",get:function(){}},{key:"IO",get:function(){}},{key:"RO",get:function(){}},{key:"DO",get:function(){}},{key:"CO",get:function(){}},{key:"xO",get:function(){}}]),n}(Es),sx=(new rx,function(t){function n(n,i,e){return t.call(this,n,i,e,new rx)||this}return S(n,t),n.prototype.rw=function(){},A(n,[{key:"m_",get:function(){return 0}},{key:"p_",get:function(){return 0}}]),n}(JC)),ux="theoplayer-texttracks",ox=function(){function t(t){void 0===t&&(t=5),this.qW=void 0;var n=Hi.document.createElement("div");n.className=ux,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.qW=n,this.iw()}var n=t.prototype;return n.ew=function(){this.qW.style.display="none"},n.iw=function(){this.qW.style.display="block"},n.VW=function(t){t.appendChild(this.qW)},n.ov=function(){Ee(this.qW)},A(t,[{key:"lw",get:function(){return this.qW}}]),t}();function hx(t,n){return t?nr({},n,tg({RO:t.RO,IO:t.IO,EO:t.EO,SO:t.SO,DO:t.DO,CO:t.CO,xO:t.xO})):n}function ax(t){return t.IO&&Cr(t.IO,"%")?Number(t.IO.replace("%",""))/100:t.IO&&Cr(t.IO,"em")?Number(t.IO.replace("em","")):1}var cx,fx,vx=function(){function t(t,n,i,e,r){var s=this;this.GW=rr(),this.QW=!0,this.YW=void 0,this.jW=nr({},ex),this.ZW=[],this.sg=void 0,this.zh=void 0,this.eV=void 0,this.JW=void 0,this.$W=function(t){return s.fA(t.qw)},this.KW=function(t){return s.removeCue(t.qw)},this.tX=function(){return s.nX()},this.iX=function(t){return s.eX(t.qw)},this.rX=function(t){return s.sX(t.qw)},this.uX=function(t){return s.oX(t.qw)},this.hX=function(t){s.aX(t.mg,t.Jp)},this.sg=t,this.JW=this.YW=r,this.zh=this.cX(i),this.eV=e,n.appendChild(this.zh)}var n=t.prototype;return n.fX=function(t){var n=this.vX(t);if(!n)return!1;for(var i=0;i<n.length;i++){Ee(n[i])}return this.dX(t),!0},n.Zx=function(){var t=this;this.lX(),this.sg.Dl.nl.forEach(function(n){return t.fA(n)}),this.rB.Fr("iC",this.hX),this.aX(this.rB.aC,this.rB.hC)},n._X=function(t){this.jW=t,this.YW=hx(this.jW,this.JW),this.YW.SO&&(this.oE.style.fontFamily=this.YW.SO),this.YW.xO&&(this.oE.style.visibility=this.YW.xO),this.aX(this.rB.aC,this.rB.hC),this.wX(!0)},n.gX=function(){return this.YW},n.yX=function(t){return this.GW.has(t._l)},n.lX=function(){this.sg.Fr(Mw.Rd,this.$W),this.sg.Fr(Mw.Dd,this.KW),this.sg.Fr(Mw.Ud,this.tX)},n.mX=function(){this.sg.Wr(Mw.Rd,this.$W),this.sg.Wr(Mw.Dd,this.KW),this.sg.Wr(Mw.Ud,this.tX)},n.pX=function(t){t.Fr(rm.zw,this.iX),t.Fr(rm.Ww,this.rX),t.Fr(rm.Xd,this.uX)},n.kX=function(t){t.Wr(rm.zw,this.iX),t.Wr(rm.Ww,this.rX),t.Wr(rm.Xd,this.uX)},n.fA=function(t){this.pX(t),t.fg&&this.eX(t)},n.removeCue=function(t){this.kX(t),this.sX(t)},n.nX=function(){this.sg.El===dg.Al?this.bX():this.AX()},n.bX=function(){if(this.QW){this.QW=!1;var t=this.rB.aC,n=this.rB.hC;this.aX(t,n),this.wX(!1)}},n.AX=function(){this.QW||(this.QW=!0,this.wX(!1))},n.eX=function(t){this.QW||t.fg&&!this.yX(t)&&this.wX(!1)},n.sX=function(t){this.yX(t)&&this.wX(!1)},n.oX=function(t){(t.fg||this.yX(t))&&this.wX(!0)},n.wX=function(t){var n=this.ZW,i=this.QW?[]:this.sg.Cl.nl.slice();this.TX(i,n,t),this.ZW=i},n.vX=function(t){var n;return null==(n=this.GW.get(t._l))?void 0:n.SX},n.EX=function(t,n){this.GW.set(t._l,{qw:t,SX:n})},n.dX=function(t){this.GW.delete(t._l)},n.IX=function(){return this.ZW.slice()},n.ov=function(){var t=this;Ee(this.oE),this.GW.clear(),this.mX(),this.sg.Dl.nl.forEach(function(n){return t.kX(n)}),this.rB.Wr("iC",this.hX)},A(t,[{key:"Id",get:function(){return this.sg}},{key:"oE",get:function(){return this.zh}},{key:"rB",get:function(){return this.eV}},{key:"RX",get:function(){return this.YW}},{key:"NX",get:function(){return this.jW}}]),t}();function dx(t){return lx[t||"none"]}!function(t){t.DX='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.CX='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.xX='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.PX='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(cx||(cx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(fx||(fx={}));var lx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function _x(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var wx=sr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),gx=sr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),yx={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=wx.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Cr(t,"px")?t=w(t)/24+"em":Cr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=gx.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Cr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},mx={EO:fx.WHITE,SO:"Arial, Helvetica, Sans-Serif",IO:"100%",RO:fx.TRANSPARENT,DO:fx.TRANSPARENT,CO:"none",xO:"visible"},px=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,mx)||this}S(n,t);var i=n.prototype;return i.cX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",Re(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.aX=function(t,n){var i=_.min(t,n)/15;this.oE.style.fontSize=i+"px"},i.TX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.fg||this.fX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.OX(u)}},i.OX=function(t){var n=this.vX(t);n||(n=this.BX(t),this.EX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.oE.appendChild(r)}},i.BX=function(t){var n,i=[],e=t.Wb,r=t.jy,u=t.Yw;if(0===l.keys(r).length){Ix(n=s.createElement("div"));for(var o=kx(u,e,t.Xb,void 0,this.oE),h=0;h<o.length;h++){var a=o[h];n.appendChild(a)}i.push(n)}else for(var c=0,f=l.keys(r);c<f.length;c++){var v=f[c],d=s.createElement("div");d.id=v;var _=kx(u,e,t.Xb,d,this.oE);if(_){Ix(d),Tx(d,r[v],e,this.oE);for(var w=0;w<_.length;w++){var g=_[w];d.appendChild(g)}i.push(d)}i.push(d)}return i},i._X=function(t){},n}(vx);function kx(t,n,i,e,r){var s,u;if(bt(t)&&("SPAN"===(u=t).zn.toUpperCase()||"P"===u.zn.toUpperCase()||"BR"===u.zn.toUpperCase()||"DIV"===u.zn.toUpperCase()||"BODY"===u.zn.toUpperCase())){var o=function t(n){var i=n.ni("region");if("p"===n.zn.toLowerCase())return i;var e=[];for(var r=0,s=n.ti;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||e.id===o){(function(t,n,i,e){var r=n.ni("style");Ex(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.oi).forEach(function(n){var e=nk(n.Vn,["ebutts","tts","xml"]);yx[e]&&yx[e](n.qn,t,i)})}(t,n,e)})(s="BODY"===t.zn.toUpperCase()?e:bx(t),t,n,r),function(t,n,i){var e=null==n?void 0:n.ni("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.ti)for(var r=0,s=null==n?void 0:n.ti;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.oi.some(function(t){return"id"===t.zn&&t.qn===e})});r&&Sx(t,r,n,!0)}!function(t,n){var i=n.ti[0];if(!i||"metadata"!==i.zn.toLowerCase())return;var e=i.ti[0];Sx(t,e,n)}(t,n)}(s,t,i);for(var h=[],a=t.jn,c=0;c<a.length;c++){var f=kx(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.zn.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else At(t)&&(s=bx(t));if(s)return[s]}function bx(t){var n,i;if(At(t))_x(n=s.createElement("text"),t.ai);else if(bt(t))switch(t.zn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",Ax(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),Ax(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",Ax(n,t)}return n}function Ax(t,n){var i=n.ii($p,"id");i&&(t.id=i)}function Tx(t,n,i,e){Ex(t,n.style,i,e),l.keys(n).forEach(function(i){yx[i]&&yx[i](n[i],t)})}function Sx(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.jn.length>0?t.jn[0]:null;return n&&At(n)?"data:image/png;base64,"+n.ai:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){Re(t.style,"flex");var i=n.ni("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.ni("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function Ex(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(r){var s=nk(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?Ex(t,i[n][r],i,e):yx[s]&&yx[s](i[n][r],t,e)})})}function Ix(t){Re(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var Rx,Nx,Dx=void 0;function Cx(t,n){for(var i,e=Rx.LX,r="",s=[],u=t.charAt(n.ps),o="",h={tr:Nx.MX,Zn:"",UX:[]};n.ps<t.length+1;){switch(u=n.ps<t.length?t.charAt(n.ps):"EOF",e){case Rx.LX:switch(u){case"&":var a=t.substr(n.ps).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],Dx||(Dx=Hi.document.createElement("textarea")),Dx.innerHTML=i,Dx.value),n._s(a[0].length-1)):r+="&";break;case"<":if(r)return{tr:Nx.FX,Yw:r};e=Rx.HX;break;case"EOF":return{tr:Nx.FX,Yw:r};default:r+=u}break;case Rx.HX:switch(u){case"\t":case"\n":case"\f":case" ":e=Rx.zX;break;case".":e=Rx.VX;break;case"/":e=Rx.WX;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=Rx.XX;break;case">":return n._s(1),h;case"EOF":return h;default:r=u,e=Rx.qX}break;case Rx.qX:switch(u){case"\t":case"\f":case" ":e=Rx.zX;break;case"\n":o=u,e=Rx.zX;break;case".":e=Rx.VX;break;case">":return n._s(1),{tr:Nx.MX,Zn:r,UX:[]};case"EOF":return{tr:Nx.MX,Zn:r,UX:[]};default:r+=u}break;case Rx.VX:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=Rx.zX;break;case"\n":s.push(o),o=u,e=Rx.zX;break;case".":s.push(o),o="";break;case">":return n._s(1),s.push(o),{tr:Nx.MX,Zn:r,UX:s};case"EOF":return s.push(o),{tr:Nx.MX,Zn:r,UX:s};default:o+=u}break;case Rx.zX:switch(u){case"&":e=Rx.GX;break;case">":n._s(1);var c=o.trim();return c=c.replace(/\s/," "),{tr:Nx.MX,Zn:r,UX:s,QX:c};default:o+=u}break;case Rx.GX:for(var f="",v=n.ps;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=Rx.zX;break;case Rx.WX:switch(u){case">":return n._s(1),{tr:Nx.YX,Zn:r};case"EOF":return{tr:Nx.YX,Zn:r};default:r+=u}break;case Rx.XX:switch(u){case">":return n._s(1),{tr:Nx.jX,ZX:r};case"EOF":return{tr:Nx.jX,ZX:r};default:r+=u}}n._s(1)}}!function(t){t.LX="Data",t.HX="Tag",t.qX="StartTag",t.VX="StartTagClass",t.zX="StartTagAnnotation",t.GX="CharRefInAnnotation",t.WX="EndTag",t.XX="TimestampTag"}(Rx||(Rx={})),function(t){t.FX="string",t.MX="starttag",t.YX="endtag",t.jX="timestamp"}(Nx||(Nx={}));var xx,Px,Ox=function(){function t(t,n,i,e){this.JX=void 0,this.$X=void 0,this.mg=void 0,this.Jp=void 0,this.JX=t,this.$X=n,this.mg=i,this.Jp=e}var n=t.prototype;return n.KX=function(t){return this.JX<t.tq&&this.tq>t.JX&&this.$X<t.nq&&this.nq>t.$X},n.Nw=function(t){return this.JX<=t.JX&&t.tq<=this.tq&&this.$X<=t.$X&&t.nq<=this.nq},n.ys=function(){return new t(this.JX,this.$X,this.mg,this.Jp)},A(t,[{key:"tq",get:function(){return this.JX+this.mg},set:function(t){this.JX=t-this.mg}},{key:"nq",get:function(){return this.$X+this.Jp},set:function(t){this.$X=t-this.Jp}}]),t}(),Bx={EO:fx.WHITE,SO:"sans-serif",IO:"100%",RO:"rgba(0,0,0,0.8)",DO:fx.TRANSPARENT,CO:"none",xO:"visible"},Lx="theoplayer-webvtt-region-",Mx="theoplayer-webvtt-styling-",Ux="theoplayer-webvtt-voice-",Fx=5.23,Hx=1.14,zx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Bx)||this).iq=er(),s.rq=Gx(3),s}S(n,t);var i=n.prototype;return i.cX=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,De(n),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.RX.SO,n.style.whiteSpace="pre-line",n},i.Zx=function(){this.oE.appendChild(this.rq),t.prototype.Zx.call(this)},i.aX=function(t,n){var i=this,e=_.min(t/100,n/100),r=ax(this.RX);this.iq.forEach(function(t){var n=t.tg,s=t.sq;i.uq(s,e,r,n)}),this.uq(this.rq,e,r),this.oq()},i.oq=function(){var t=ax(this.RX);this.rq.style.margin=t>=1.5?"0":1/t+"em"},i.TX=function(t,n,i){for(var e=this,r=this.oE,s=this.rB.hC/100,u=[],o=0;o<t.length;o++){var h=t[o];void 0!==h.tg&&(is(u,h.tg)||u.push(h.tg))}this.iq.forEach(function(t,n){var r=t.tg,s=t.sq;!i&&is(u,r)||(Ee(s),e.iq.delete(n))});for(var a=0;a<n.length;a++){var c=n[a];!i&&c.fg||this.fX(c)}for(var f=[],v=0;v<u.length;v++){var d=u[v],l=void 0;this.iq.has(d.ll)?l=this.iq.get(d.ll).sq:(l=Qx(d,s),r.appendChild(l),this.iq.set(d.ll,{tg:d,sq:l})),f.push(Zx(l.getBoundingClientRect()))}for(var _=Zx(this.rq.getBoundingClientRect()),w=0;w<t.length;w++){var g=t[w],y=this.OX(g,f,_);void 0!==y&&f.push(y)}},i.OX=function(t,n,i){var e,r;t.tg?(r=this.iq.get(t.tg.ll).sq,"up"===t.tg.wg&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.rq;var s=null==(e=this.vX(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.hq(t),r.appendChild(s),t.tg||(t.ng?function(t,n,i,e){var r=Yx(t),s=r?i.Jp:i.mg,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=Zx(n.getBoundingClientRect()),h=_.round(bm(t));"rl"===t.ig&&(h=-(h+1));var a=u*h;"rl"===t.ig&&(a=a-o.mg+u);h<0&&(a+=s,u=-u);r?o.$X+=a:o.JX+=a;var c=o.ys(),f=!1;for(;!i.Nw(o)||jx(o,e);)if(r)if(u<0&&o.$X<i.$X||u>0&&o.nq>i.nq){if(o.$X=c.$X,f)break;u=-u,f=!0}else o.$X+=u;else if(u<0&&o.JX<i.JX||u>0&&o.tq>i.tq){if(o.JX=c.JX,f)break;u=-u,f=!0}else o.JX+=u;r?n.style.top=(o.$X-i.$X)/i.Jp*100+"%":n.style.left=(o.JX-i.JX)/i.mg*100+"%"}(t,s,i,n):function(t,n){if("start"===t.Jw)return;var i,e=n.getBoundingClientRect();if(0===e.width||0===e.height)return;i=Yx(t)?"center"===t.Jw?"translateY(-100%)":"translateY(-50%)":(t.Jw,"translateX(-50%)");n.style[gI("transform")]=i}(t,s)),this.EX(t,[s])),!t.tg)return Zx(s.getBoundingClientRect())},i.hq=function(t){for(var n=new Yu,i=t.Yw,e=this.aq(t),r={cq:void 0,lw:e},u=r,o="",h="",a=[r],c=[],f=[];n.ps<i.length;){var v=Cx(i,n);if(v.tr===Nx.FX){var d=s.createElement("span");_x(d,v.Yw),Vx(d,a),""!==o&&(d.lang=o),this.fq(d,h),u.lw.appendChild(d)}else if(v.tr===Nx.MX){var l=v.Zn.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var _=s.createElement(l);u.lw.appendChild(_),u={cq:v,lw:_},a.push(u);break;case"rt":var w;if("ruby"===(null==(w=u.cq)?void 0:w.Zn.toLowerCase())){var g=s.createElement("rt");u.lw.appendChild(g),u={cq:v,lw:g},a.push(u)}break;case"c":case"v":u={cq:v,lw:u.lw},a.push(u);break;case"font":var y,m=null==(y=v.QX)?void 0:y.match(/(?:^| )color=["']([^"']+)/i);m&&(h=m[1],f.push(h),u={cq:v,lw:u.lw},a.push(u));break;case"lang":var p;o=null!=(p=v.QX)?p:"",c.push(o)}}else if(v.tr===Nx.YX){var k,b=v.Zn.toLowerCase(),A=null==(k=u.cq)?void 0:k.Zn.toLowerCase();A===b?(a.pop(),u=a[a.length-1],"font"===b&&(f.pop(),h=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.tr===Nx.jX){var T=v.ZX,S=new Yu;try{bp(T,S)}catch(t){ut("ERROR collecting timestamp",t)}}}return e},i.fq=function(t,n){var i=this.RX,e=this.NX;i.RO&&(t.style.background=i.RO);var r=e.EO||n||i.EO;r&&(t.style.color=r)},i.uq=function(t,n,i,e){if(e){var r=Wx(e,n);t.style.height=r*i+"px",t.style.left=Xx(e)+"%",t.style.top=qx(e,n)+"px"}t.style.fontSize=Fx*n*i+"px"},i.aq=function(t){var n=s.createElement("div");return n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.jw,function(t,n){"rl"===n.ig?t.style.writingMode="vertical-rl":"lr"===n.ig?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Sm(n);Yx(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Tm(n),s=Am(n),u=Sm(n);if(Yx(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.ng?0:bm(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.ng?0:bm(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t),n.style.background=this.RX.DO,n.style.color=this.RX.EO,n.style.textShadow=dx(this.RX.CO),n},n}(vx);function Vx(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.cq){for(var r=0,s=e.cq.UX;r<s.length;r++){var u=s[r];Ie(t,Mx+u)}"v"===e.cq.Zn.toLowerCase()&&e.cq.QX&&Ie(t,Ux+e.cq.QX)}}}function Wx(t,n){return t.dg*(Fx*n)*Hx}function Xx(t){return t.gg-t.lg*t.mg/100}function qx(t,n){var i=t.yg,e=t._g*Wx(t,n)/100;return _.max(0,i-e)}function Gx(t){var n=s.createElement("div");return n.className=Lx+"default",De(n),n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=Fx*t+"px",n.style.lineHeight=Hx+"em",n}function Qx(t,n){var i=Gx(n);i.className=Lx+t.ll;var e=t.mg,r=Wx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=Xx(t)+"%",i.style.right="",i.style.top=qx(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function Yx(t){return""===t.ig}function jx(t,n){return n.some(function(n){return t.KX(n)})}function Zx(t){return new Ox(t.left,t.top,t.width,t.height)}!function(t){t[t.vq=0]="vq",t[t.dq=1]="dq",t[t.lq=2]="lq",t[t._q=3]="_q",t[t.wq=4]="wq",t[t.gq=5]="gq"}(xx||(xx={})),function(t){t[t.yq=0]="yq",t[t.mq=1]="mq",t[t.pq=2]="pq",t[t.kq=3]="kq"}(Px||(Px={}));var Jx=15,$x=32,Kx=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),tP=function(){function t(){this.bq=[],this.Aq=0,this.Tq=void 0;for(var t=0;t<$x;t++)this.bq.push(null);this.Tq=!1}var n=t.prototype;return n.Sq=function(t){for(var n=0;n<$x;n++)t&&(this.bq[n]=t.bq[n])},n.cg=function(t){for(var n=0;n<$x;n++)if(this.bq[n]!==t.bq[n])return!1;return!0},n.Eq=function(){for(var t=0;t<$x;t++)if(null!==this.bq[t])return!1;return!0},n.Iq=function(t){this.Aq!==t&&(this.Aq=t),this.Aq<0?this.Aq=0:this.Aq>$x&&(this.Aq=$x-1)},n.Rq=function(t){var n=this.Aq+t;this.Iq(n)},n.Nq=function(){this.Rq(-1),this.bq[this.Aq]=null},n.Dq=function(t){t>=144&&this.Nq();var n,i=Kx[n=t]?String.fromCharCode(Kx[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Aq>=$x||(32===Number(t)?(this.bq[this.Aq]=this.Tq?"</i>":"<i>",this.Tq=!this.Tq):this.bq[this.Aq]=t,this.Rq(1))},n.Cq=function(t){for(var n=t;n<$x;n++)this.bq[n]=null},n.vs=function(){this.Cq(0),this.Aq=0},n.xq=function(){this.Cq(this.Aq)},n.Pq=function(t,n){for(var i=this.bq,e=null,r=0;r<$x;r++){var s=i[r];null===s?e=null:(e||(e={Oq:r,Bq:t,mg:0,Jp:1,bq:[[]]},n.push(e)),e.bq[0].push(s),e.mg++)}},n.Hy=function(t,n){return t.Lq(this.bq,n)},t}();var nP=function(){function t(){this.Mq=void 0,this.Uq=void 0,this.Fq=null,this.Mq=[];for(var t=0;t<Jx;t++)this.Mq.push(new tP);this.Uq=Jx-1,this.tl()}var n=t.prototype;return n.Sq=function(t){for(var n=0;n<Jx;n++)this.Mq[n].Sq(t.Mq[n])},n.cg=function(t){for(var n=!0,i=0;i<Jx;i++)if(!this.Mq[i].cg(t.Mq[i])){n=!1;break}return n},n.Eq=function(){for(var t=!0,n=0;n<Jx;n++)if(!this.Mq[n].Eq()){t=!1;break}return t},n.tl=function(){for(var t=0;t<Jx;t++)this.Mq[t].vs();this.Uq=Jx-1},n.Dq=function(t){this.Mq[this.Uq].Dq(t)},n.Hq=function(){this.Mq[this.Uq].Nq()},n.xq=function(){this.Mq[this.Uq].xq()},n.zq=function(){if(null!==this.Fq){var t=this.Uq+1-this.Fq,n=this.Mq[t];n&&(ns(this.Mq,t),n.vs(),this.Mq.splice(this.Uq,0,n))}},n.Rq=function(t){this.Mq[this.Uq].Rq(t)},n.Vq=function(t){this.Fq=t},n.Wq=function(t){var n=t.Xq;this.Fq&&n<this.Fq-1&&(n=this.Fq-1),this.Uq=n;var i=this.Mq[this.Uq];null!==t.qq&&i.Iq(t.qq)},n.Gq=function(){for(var t=this.Mq,n=[],i=0;i<t.length;i++){t[i].Pq(i,n)}for(var e=0;e<n.length;e++){for(var r=!1,s=n[e],u=n.length-1;u>e;){var o=n[u];eP(s,o)&&(s=iP(s,o),ns(n,u),r=!0),u--}r&&(n[e]=s,e--)}return n.map(rP)},n.Hy=function(t){return t.Qq(this.Mq)},t}();function iP(t,n){for(var i=_.min(t.Oq,n.Oq),e=_.min(t.Bq,n.Bq),r=_.max(t.Oq+t.mg,n.Oq+n.mg)-i,s=_.max(t.Bq+t.Jp,n.Bq+n.Jp)-e,u=new Array(s),o=0;o<s;o++){var h=new Array(r),a=t.bq[o+e-t.Bq];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.Oq]=a[c]);var f=n.bq[o+e-n.Bq];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.Oq]=f[v]);u[o]=h}return{Oq:i,Bq:e,mg:r,Jp:s,bq:u}}function eP(t,n){return t.Oq<=n.Oq+n.mg&&n.Oq<=t.Oq+t.mg&&t.Bq<=n.Bq+n.Jp&&n.Bq<=t.Bq+t.Jp}function rP(t){for(var n=new Array(t.Jp),i=t.bq,e=0;e<i.length;e++){for(var r=i[e],s=[],u=!1,o=0;o<r.length;o++){var h=r[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[e]=s.join("")}var a=n.join("\n");return{Oq:t.Oq,Bq:t.Bq,mg:t.mg,Jp:t.Jp,Yw:a}}var sP=function(){function t(t,n){this.Xq=t,this.qq=n}return t.prototype.cg=function(t){return this.Xq===t.Xq&&this.qq===t.qq},t}(),uP=function(){function t(t){this.Yq=void 0,this.jq=void 0,this.Zq=t,this.Yq=this.Jq(),this.jq=this.$q()}var n=t.prototype;return n.Jq=function(){for(var t=new sP(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.Kq;n<i.length;n++){var e=i[n],r=_.min(t.Xq,e.tG.Xq),s=_.min(t.qq,e.tG.qq);t=new sP(r,s)}return t},n.$q=function(){for(var t=new sP(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.Kq;n<i.length;n++){var e=i[n],r=_.max(t.Xq,e.nG.Xq),s=_.max(t.qq,e.nG.qq);t=new sP(r,s)}return t},A(t,[{key:"tG",get:function(){return this.Yq}},{key:"nG",get:function(){return this.jq}},{key:"Kq",get:function(){return rs(this.Zq.map(function(t){return t.Kq}))}}]),t}(),oP=function(){function t(t,n){this.iG="",this.PO=t,this.Yq=n}var n=t.prototype;return n.Dq=function(t){this.iG+=t},n.eG=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Dq(i)}},A(t,[{key:"rG",get:function(){return this.iG}},{key:"Kq",get:function(){return[this]}},{key:"sG",get:function(){return this.PO}},{key:"tG",get:function(){return this.Yq}},{key:"nG",get:function(){return new sP(this.tG.Xq,this.tG.qq+this.rG.length-1)}}]),t}(),hP=function(){function t(){}var n=t.prototype;return n.uG=function(t){return t.Hy(this)},n.Qq=function(t){var n=this;return rs(t.map(function(t,i){return t.Hy(n,i)}))},n.Lq=function(t,n){return new aP(t,n).oG()},t}(),aP=function(){function t(t,n){this.hG=[],this.aG=null,this.Xq=t,this.cG=n}var n=t.prototype;return n.oG=function(){if(this.fG)return[];for(var t=0;t<this.Xq.length;t++)this.vG(t);return this.dG(),this.hG},n.lG=function(t){this.aG=new oP(gP,new sP(this.cG,t))},n.dG=function(){this.aG&&(this.hG.push(this.aG),this.aG=null)},n.vG=function(t){var n=this.Xq[t];cP(n)?this.aG&&this.dG():(this.aG||this.lG(t),this.aG.Dq(n))},A(t,[{key:"fG",get:function(){return this.Xq.every(cP)}}]),t}();function cP(t){return null==t}var fP,vP=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(mm),dP=function(t){function n(n,i){var e;return(e=t.call(this,"wG")||this)._G=n,e.qw=i,e}return S(n,t),n}(Rs);!function(t){t[t.ZE=0]="ZE",t[t.gG=1]="gG",t[t.yG=2]="yG",t[t.mG=3]="mG",t[t.Pn=4]="Pn"}(fP||(fP={}));var lP,_P=function(t){function n(){var n;return(n=t.call(this)||this).wy=0,n.Gw=0,n.pG=void 0,n.kG=void 0,n.bG=void 0,n.AG=void 0,n.El=fP.ZE,n.pG=new nP,n.kG=new nP,n.bG=new nP,n.AG=n.pG,n}S(n,t);var i=n.prototype;return i.Dq=function(t){this.AG.Dq(t),this.El!==fP.gG&&this.El!==fP.yG||this.TG()},i.UR=function(t){t!==this.El&&(this.El=t,this.El===fP.mG?this.AG=this.kG:(this.AG=this.pG,this.AG.tl()),this.El!==fP.yG&&(this.pG.Vq(null),this.kG.Vq(null)))},i.Wq=function(t){this.AG.Wq(t)},i.SG=function(){this.UR(fP.mG)},i.EG=function(){this.El!==fP.Pn&&(this.AG.Hq(),this.AG===this.pG&&this.TG())},i.IG=function(){},i.RG=function(){},i.NG=function(){this.AG.xq(),this.TG()},i.DG=function(t){this.AG=this.pG,this.UR(fP.yG),this.AG.Vq(t)},i.CG=function(){},i.xG=function(){this.UR(fP.gG)},i.PG=function(){this.UR(fP.Pn)},i.OG=function(){this.UR(fP.Pn)},i.BG=function(){this.pG.tl(),this.TG()},i.LG=function(){this.AG.zq(),this.TG()},i.MG=function(){this.kG.tl()},i.UG=function(){if(this.El===fP.mG){var t=this.pG;this.pG=this.kG,this.kG=t,this.AG=this.kG}this.TG()},i.FG=function(t){this.AG.Rq(t)},i.TG=function(){if(null!==this.wy){if((null===this.Gw||0===this.Gw)&&!this.pG.Eq())this.Gw=this.wy;else if(!this.pG.cg(this.bG)){var t=this.HG();if(this.wy>this.Gw){var n=new vP(this.Gw,this.wy,t);this.Ur(new dP(1,n))}this.Gw=this.pG.Eq()?null:this.wy}this.bG.Sq(this.pG)}},i.HG=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var e=i.pop(),r=void 0;do{r=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t.nG.qq-n.tG.qq)<=1||_.abs(n.nG.qq-t.tG.qq)<=1||_.abs(t.nG.Xq-n.tG.Xq)<=1||_.abs(n.nG.Xq-t.tG.Xq)<=1}(o=e,h=u)||function(t,n){return wP(t.tG.Xq,t.nG.Xq,n.tG.Xq,n.nG.Xq)&&wP(t.tG.qq,t.nG.qq,n.tG.qq,n.nG.qq)}(o,h))&&(e=new uP([].concat(e.Kq,u.Kq)),ts(i,u),r=!0)}}while(r&&i.length>0);n.push(e)}var o,h;return n}((new hP).uG(this.bG))},i.tl=function(){this.wy=0,this.Gw=0,this.pG.tl(),this.pG.Vq(null),this.kG.tl(),this.kG.Vq(null),this.bG.tl(),this.bG.Vq(null),this.AG=this.pG,this.El=fP.ZE},n}(Es);function wP(t,n,i,e){return n>=i&&e>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(lP||(lP={}));var gP={EO:fx.WHITE,SO:cx.xX,IO:"100%",RO:fx.BLACK,DO:"transparent",CO:"none",zG:lP.FONT_REGULAR,xO:"visible"},yP=[{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:0},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.GREEN,zG:lP.FONT_REGULAR,qq:0},{VG:fx.GREEN,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.BLUE,zG:lP.FONT_REGULAR,qq:0},{VG:fx.BLUE,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.CYAN,zG:lP.FONT_REGULAR,qq:0},{VG:fx.CYAN,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.RED,zG:lP.FONT_REGULAR,qq:0},{VG:fx.RED,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.YELLOW,zG:lP.FONT_REGULAR,qq:0},{VG:fx.YELLOW,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.MAGENTA,zG:lP.FONT_REGULAR,qq:0},{VG:fx.MAGENTA,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.WHITE,zG:lP.FONT_ITALICS,qq:0},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE_ITALICS,qq:0},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:0},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:0},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:4},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:4},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:8},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:8},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:12},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:12},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:16},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:16},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:20},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:20},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:24},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:24},{VG:fx.WHITE,zG:lP.FONT_REGULAR,qq:28},{VG:fx.WHITE,zG:lP.FONT_UNDERLINE,qq:28}],mP=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],pP=function(t){function n(){var n;(n=t.call(this)||this).WG=void 0,n.XG=null,n.qG=null,n.GG=0;var i=new _P;return n.WG=[i,new _P],i.Fr("wG",n.Mr),n}S(n,t);var i=n.prototype;return i.tl=function(){for(var t=0,n=this.WG;t<n.length;t++){n[t].tl()}},i.QG=function(t,n){if(n.tr===Px.yq&&n.YG){n.jG&&(this.GG=0),this.WG[this.GG].wy=t;var i=127&n.ZG,e=127&n.JG;if(i+e!==0){switch(i){case 17:e>=32&&e<=47&&this.$G(),e>=48&&e<=63&&this.KG(i,e);break;case 18:case 19:e>=32&&e<=63&&this.KG(i,e);break;case 20:case 21:e>=32&&e<=47&&this.tQ(i,e);break;case 23:e>=33&&e<=35&&this.tQ(i,e),e>=46&&e<=47&&this.$G()}16===i&&e>=64&&e<=95?this.nQ(i,e):i>=17&&i<=23&&e>=64&&e<=127&&this.nQ(i,e),i>=32&&this.KG(i,e)}}},i.tQ=function(t,n){var i=null;if(t===this.XG&&n===this.qG)return this.XG=null,this.qG=null,!0;i=20===t||23===t?0:1;var e=this.WG[i];return 20===t||28===t?32===n?e.SG():33===n?e.EG():34===n?e.IG():35===n?e.RG():36===n?e.NG():37===n?e.DG(2):38===n?e.DG(3):39===n?e.DG(4):40===n?e.CG():41===n?e.xG():42===n?e.PG():43===n?e.OG():44===n?e.BG():45===n?e.LG():46===n?e.MG():47===n&&e.UG():e.FG(n-32),this.XG=t,this.qG=n,this.GG=i,!0},i.nQ=function(t,i){t===this.XG&&i===this.qG&&(this.XG=null,this.qG=null);var e=t<=23?0:1,r=mP[t<<1&14|i>>5&1]-1;if(!(r<0)){var s=n.iQ(r,i);this.WG[e].Wq(s),this.XG=t,this.qG=i,this.GG=e}},n.iQ=function(t,n){var i=n>95?n-96:n-64;return{VG:yP[i].VG,zG:yP[i].zG,qq:yP[i].qq,Xq:t}},i.KG=function(t,n){var i=t>=25?t-8:t,e=this.WG[this.GG],r=!1;switch(i){case 17:e.Dq(n+80),r=!0;break;case 18:e.Dq(n+112),r=!0;break;case 19:e.Dq(n+144),r=!0;break;default:t>=32&&(e.Dq(t),n>=32&&e.Dq(n),r=!0)}r&&(this.XG=null,this.qG=null)},i.$G=function(){this.WG[this.GG].AG.Rq(1)},i.ov=function(){this.Vr()},A(n,[{key:"bk",get:function(){return this.WG.length}}]),n}(Es),kP=function(){function t(t,n,i){this.eQ=void 0,this.rQ=t,this.sQ=n,this.YW=i}var n=t.prototype;return n.uQ=function(){return this.eQ=this.oQ(),this.hQ(),this.aQ(),this.eQ},n.oQ=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.cQ/$x*this.sQ.fQ*100+"%",t.style.height=1.2*this.vQ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.sQ.dQ?"calc(1em - 1ch)":"",t.style.fontFamily=this.YW.SO,t.style.backgroundColor=this.YW.DO,t},n.hQ=function(){var t=this.lQ.Xq/Jx*100,n=this.lQ.qq/$x*100,i=($x-this._Q.qq-1)/$x*100,e=(Jx-this._Q.Xq-1)/Jx*100;this.sQ.wQ||(n=i=1,this.eQ.style.width="98%"),e<t?this.eQ.style.bottom=e*this.sQ.fQ+"%":this.eQ.style.top=t*this.sQ.fQ+"%",i<n?this.eQ.style.right=i+"%":this.eQ.style.left=n+"%"},n.aQ=function(){for(var t=this.rQ.Kq.sort(bP),n=0;n<t.length;n++)this.gQ(t[n-1],t[n]),this.yQ(t[n]);this.gQ(t[t.length-1],null)},n.yQ=function(n){var i=hx(this.YW,n.sG),e=t.mQ(i);_x(e,n.rG),this.eQ.appendChild(e)},t.mQ=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.zG!==lP.FONT_ITALICS&&t.zG!==lP.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.zG!==lP.FONT_UNDERLINE&&t.zG!==lP.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.EO,n.style.backgroundColor=t.RO,n.style.textShadow=dx(t.CO),n.style.height="1.2em",n},n.gQ=function(t,n){var i=t?t.nG.Xq:this.rQ.tG.Xq,e=n?n.tG.Xq:this.rQ.nG.Xq,r=t?t.nG.qq:this.rQ.tG.qq,s=n?n.tG.qq:this.rQ.nG.qq;i<e&&(!n||t&&t.tG.Xq!==n.tG.Xq?this.pQ():this.kQ(this.rQ.nG.qq-r),r=this.rQ.tG.qq),r<s&&(n?this.kQ(s-r):this.pQ())},n.pQ=function(){var t=s.createElement("br");this.eQ.appendChild(t)},n.kQ=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",_x(n,Pr(" ",t)),this.eQ.appendChild(n)}},A(t,[{key:"lQ",get:function(){return this.rQ.tG}},{key:"_Q",get:function(){return this.rQ.nG}},{key:"cQ",get:function(){return this.rQ.nG.qq-this.rQ.tG.qq+1}},{key:"vQ",get:function(){return this.rQ.nG.Xq-this.rQ.tG.Xq+1}}]),t}();function bP(t,n){return function(t,n){if(t.Xq!==n.Xq)return t.Xq-n.Xq;return t.qq-n.qq}(t.tG,n.tG)}var AP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,gP)||this).bQ=void 0,s.AQ=void 0,s}S(n,t);var i=n.prototype;return i.cX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.RX.SO&&(n.style.fontFamily=this.RX.SO),n},i.aX=function(t,n){this.TQ()},i.TQ=function(){var t,n=ax(this.RX);this.AQ={fQ:(t=100*n)/100,dQ:t<=100,wQ:t<=150};var i=this.SQ/$x;this.bQ=i*n,this.oE.style.fontSize=this.bQ+"px"},i.TX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.fg||this.fX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.OX(u)}},i.OX=function(t){this.AQ&&this.AQ.wQ?this.EQ(80):this.EQ(100),this.TQ();var n=this.vX(t);n||(n=this.BX(t),this.EX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.oE.appendChild(r)}},i.BX=function(t){var n=this;return t.Yw.map(function(t){return new kP(t,n.AQ,n.RX).uQ()})},i.EQ=function(t){var n=(100-t)/2;this.oE.style.left=n+"%",this.oE.style.width=t+"%"},A(n,[{key:"SQ",get:function(){var t=this.oE.offsetWidth;return this.AQ&&this.AQ.wQ||(t*=.8),t}}]),n}(vx),TP=function(){function t(t,n,i,e,r){var s=this;this.IQ=void 0,this.eV=void 0,this.L_=void 0,this.RQ=void 0,this.NQ=[],this.sR=void 0,this.DQ=function(t){var n=t.Id;n.Fr(Mw.Hd,s.CQ),n.Fr(Mw.Vd,s.CQ),n instanceof yC&&(n.PH=s.PH),s.xQ(n)},this.CQ=function(t){var n=t.Id;s.xQ(n)},this.PQ=function(t){var n=t.Id;n.Wr(Mw.Hd,s.CQ),n.Wr(Mw.Vd,s.CQ),s.OQ(n)},this.BQ=function(){for(var t=s.PH,n=0,i=s.L_.nl;n<i.length;n++){var e=i[n];e instanceof yC&&(e.PH=t)}},this.LQ=function(){for(var t=0,n=s.NQ;t<n.length;t++){n[t]._X(s.sR)}},this.MQ=function(){for(var t=0,n=s.NQ;t<n.length;t++){var i=n[t];i._X(nr({},i.gX(),{xO:"hidden"}))}},this.UQ=function(){for(var t=0,n=s.NQ;t<n.length;t++){var i=n[t];i._X(nr({},i.gX(),{xO:"visible"}))}},this.IQ=t,this.eV=n,this.L_=i,this.RQ=r,this.sR=e,this.L_.Fr(Pw.pd,this.DQ),this.L_.Fr(Pw.bd,this.PQ),this.L_.Fr("Fd",this.CQ),this.RQ.Fr(nS.Ud,this.BQ),this.sR.Fr("Fd",this.LQ),this.BQ()}var n=t.prototype;return n.FQ=function(t){for(var n=0,i=this.NQ;n<i.length;n++){var e=i[n];if(e.Id===t)return e}},n.HQ=function(t){switch(t.tr){case tm.TTML:case tm.SRT:case tm.WEBVTT:case tm.CEA608:return!0}return!1},n.zQ=function(t){switch(t.tr){case tm.TTML:return new px(t,this.IQ,t.gl,this.eV);case tm.SRT:case tm.WEBVTT:return new zx(t,this.IQ,t.gl,this.eV);case tm.CEA608:return new AP(t,this.IQ,t.gl,this.eV)}},n.VQ=function(t){var n=this.FQ(t);n||((n=this.zQ(t)).Zx(),n._X(this.sR),this.NQ.push(n),t.El===dg.Al&&n.bX())},n.OQ=function(t){for(var n=this.NQ,i=n.length-1;i>=0;i-=1){var e=n[i];e.Id===t&&(e.ov(),ns(n,i))}},n.xQ=function(t){var n;(n=t.wl)!==wk.zm&&n!==wk.Kb||!this.HQ(t)||(t.Nl===Ky.ERROR?this.OQ(t):this.VQ(t))},n.tl=function(){for(var t=0,n=this.NQ;t<n.length;t++){var i=n[t];i.Id.Wr(Mw.Hd,this.CQ),i.Id.Wr(Mw.Vd,this.CQ),i.ov()}es(this.NQ)},n.ov=function(){this.tl();for(var t=0,n=this.NQ;t<n.length;t++){n[t].ov()}this.L_.Wr(Pw.pd,this.DQ),this.L_.Wr(Pw.bd,this.PQ),this.L_.Wr("Fd",this.CQ),this.RQ.Wr(nS.Ud,this.BQ),this.sR.Wr("Fd",this.LQ)},A(t,[{key:"PH",get:function(){return this.RQ.jI}}]),t}();function SP(t){var n=new II,i=function(t){var n=[];return SI.DC(t)&&n.push(new SI(t)),EI.DC(t)&&n.push(new EI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.MC(r)}n.LC(i[0])}return n}var EP,IP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).WQ=void 0,s.XQ=void 0,s.qQ=void 0,s.qQ=SP(n),s.WQ=new ox,s.XQ=new TP(s.WQ.lw,s.rB,s.V_,s.uB,s.pE),s}S(n,t);var i=n.prototype;return i.rw=function(){return this.zh},i.Tr=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.qQ.ov(),this.WQ.ov(),this.XQ.ov(),n.next=5,tr.awrap(t.prototype.Tr.call(this));case 5:case"end":return n.stop()}},null,this,null,ge)},i.ew=function(){t.prototype.ew.call(this),this.WQ.ew()},i.iw=function(){t.prototype.iw.call(this),this.WQ.iw()},i.VW=function(n){t.prototype.VW.call(this,n),this.WQ.VW(n)},A(n,[{key:"oE",get:function(){return this.zh}},{key:"m_",get:function(){return this.zh.videoHeight}},{key:"p_",get:function(){return this.zh.videoWidth}},{key:"pE",get:function(){return this.qQ}}]),n}(JC);!function(t){t.GQ="HELLO",t.QQ="HI_THERE",t.YQ="INITIALIZE",t.jQ="APPEND_INIT",t.ZQ="APPEND_DATA",t.JQ="ACK",t.$Q="REMOVE",t.KQ="DESTROY_SESSION"}(EP||(EP={}));var RP=function(){function t(){this.Ei=void 0,this.Fh=void 0,this.BB=new qR}var n=t.prototype;return n.tY=function(t){var n=this;return this.BB.TB(function(t){var i,e,r,s,u,h;return tr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(vs(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){a.next=7;break}return a.next=7,tr.awrap(Cw(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){a.next=10;break}return a.next=10,tr.awrap(Cw(o.serviceWorker.controller,"activate",t));case 10:return s={kind:EP.GQ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.Ei=e,a.prev=15,a.next=18,tr.awrap(Cw(e,"message",t));case 18:if(u=a.sent,(h=u.data).kind===EP.QQ){a.next=23;break}throw new v("Could not set up message channel");case 23:n.Fh=h.sessionId,a.next=30;break;case 26:throw a.prev=26,a.t0=a.catch(15),fs(a.t0)&&n.nY(),a.t0;case 30:case"end":return a.stop()}},null,null,[[15,26]],ge)},t)},n.iY=function(t,n){var i=this;return this.Ei,this.BB.TB(function(){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ei){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ei.postMessage(t,n),r.next=7,tr.awrap(Cw(i.Ei,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,ge)})},n.eY=function(){var t=this;return this.BB.TB(function(){return t.nY()})},n.nY=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Ei){var t={kind:EP.KQ};this.Ei.postMessage(t),this.Ei.close(),this.Ei=void 0}},t}(),NP=function(){function t(){this.rY=Cm.Ey}var n=t.prototype;return n.sY=function(t,n){var i=t.xg(n);this.rY=i.bg(this.uY)?this.rY:i},n.oY=function(t){this.rY=t},A(t,[{key:"uY",get:function(){return this.rY}}]),t}(),DP=function(t){function n(n,i){var e;return(e=t.call(this)||this).hY=void 0,e.aY=void 0,e.ku=void 0,e.BB=new qR,e.cY=!1,e.fY=!1,e.OD=n,e.vY=i,e}S(n,t);var i=n.prototype;return i.CU=function(t,n){},i.xU=function(t,n){},i.lL=function(){return this.fY},i.PU=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ge)},i.vU=function(t,n){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ge)},i.nU=function(t,i,e){var r,s,u=this;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.tr===lN.mL){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.ai,s=function(){var t,i,e,s,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=Yp.kp(new DataView(r.buffer)),(i=zp(t,Km.Im)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.ku,s=n.dY(i,e),o=u.lY(i,e),h=r.buffer,a={kind:EP.ZQ,mimeType:u.OD,segment:r,startPts:Fm.xy(s).Hy(),totalDuration:Fm.xy(o).Hy()},c.next=11,tr.awrap(u.vY.iY(a,[h]));case 11:void 0===u.hY&&(u.hY=s),void 0===u.aY&&(u.aY=s),u.aY=u.aY.Rw(o),u.Ur(new Rs(aN.gL));case 15:case"end":return c.stop()}},null,null,null,ge)},i.abrupt("return",this.BB.TB(function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return vs(t),n.prev=1,u.cY=!0,n.next=5,tr.awrap(s());case 5:return n.prev=5,u.cY=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ge)},e));case 5:case"end":return i.stop()}},null,this,null,ge)},i.rU=function(t,n){var i,e,r=this;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.tr===lN.mL){s.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return i=t.ai,e=function(){var t,n,e,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Yp.kp(new DataView(i.buffer)),n=Hp(t,Km.tm)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.Bp.length){u.next=6;break}throw new v("Tracks not found");case 6:return r.ku=n.Bp[0].Xp.lp.gy,e=i.buffer,s={kind:EP.jQ,mimeType:r.OD,segment:i},u.next=11,tr.awrap(r.vY.iY(s,[e]));case 11:r.Ur(new Rs(aN.gL));case 12:case"end":return u.stop()}},null,null,null,ge)},s.abrupt("return",this.BB.TB(function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return vs(t),n.prev=1,r.cY=!0,n.next=5,tr.awrap(e());case 5:return n.prev=5,r.cY=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ge)},n));case 5:case"end":return s.stop()}},null,this,null,ge)},i.SU=function(){this.fY=!0},i.kU=function(){this.fY=!1},i.Yo=function(t,n,i){var e,r=this;return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:EP.$Q,mimeType:r.OD,endTime:Fm.Ry(n).Hy()},i.next=3,tr.awrap(r.vY.iY(t));case 3:r.hY=void 0,r.aY=void 0,r.Ur(new Rs(aN.gL));case 6:case"end":return i.stop()}},null,null,null,ge)},t.abrupt("return",this.BB.TB(function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return vs(t),n.prev=1,r.cY=!0,n.next=5,tr.awrap(e());case 5:return n.prev=5,r.cY=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ge)},i));case 2:case"end":return t.stop()}},null,this,null,ge)},i.sL=function(t){return this.OD===t.gf},i.uL=function(t){return this.OD=t.gf,ge.resolve()},n.dY=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.Bp.length)throw new v("No tracks");if(!i.Bp[0].fb)throw new v("No decode time");return new Cm(i.Bp[0].fb.fb.toNumber(),n)},i.lY=function(t,n){var i=0;return t.forEach(function(t){t.Bp.forEach(function(t){t.cb.forEach(function(t){t.yb.forEach(function(t){var n;i+=null!=(n=t.v_)?n:0})})})}),new Cm(i,n)},i.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Vr(),t.next=3,tr.awrap(this.BB.ov());case 3:case"end":return t.stop()}},null,this,null,ge)},A(n,[{key:"vw",get:function(){return void 0===this.hY||void 0===this.aY?eS.QI():new eS([this.hY.Ty,this.aY.Ty])}},{key:"eh",get:function(){return{gf:this.OD}}},{key:"ND",get:function(){return this.OD}},{key:"LU",get:function(){return eS.QI()}},{key:"Fx",get:function(){return 30},set:function(t){}},{key:"Wx",get:function(){return 30},set:function(t){}},{key:"zC",get:function(){return this.cY}},{key:"_Y",get:function(){return this.hY}},{key:"Qw",get:function(){return this.aY}}]),n}(Es),CP=function(){function t(t,n){this.Dh=void 0,this.vF=void 0,this.dF=void 0,this.Dh=t,this.dF=$r(n,function(t){return Boolean(t.ND.match(/video/))}),this.vF=$r(n,function(t){return Boolean(t.ND.match(/audio/))}),this.wY()}t.gY=function(n,i){for(var e=[],r=0;r<n.SF.length;r++){var s=n.SF[r].gf;e.push(new DP(s,i))}return new t(n,e)};var n=t.prototype;return n.wY=function(){},n.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(ge.all([this.vF,this.dF].filter(F).map(function(t){return t.Tr()})));case 2:case"end":return t.stop()}},null,this,null,ge)},n.kF=function(t){},n.TF=function(t,n,i,e){},n.SU=function(){var t,n;null==(t=this.vF)||t.SU(),null==(n=this.dF)||n.SU()},n.kU=function(){var t,n;null==(t=this.vF)||t.kU(),null==(n=this.dF)||n.kU()},n.sL=function(t){return t===this.Dh},n.uL=function(t){return this.Dh=t,ge.resolve()},A(t,[{key:"yY",get:function(){return[this.vF,this.dF].filter(F)}},{key:"hF",get:function(){return this.vF}},{key:"vw",get:function(){return GN(this)}},{key:"eh",get:function(){return this.Dh}},{key:"v_",get:function(){return 0}},{key:"lL",get:function(){var t,n,i,e,r=null==(t=null==(n=this.vF)?void 0:n.lL())||t,s=null==(i=null==(e=this.dF)?void 0:e.lL())||i;return r&&s}},{key:"Sw",get:function(){return new eS([0,1/0])}},{key:"aF",get:function(){return this.dF}},{key:"z_",get:function(){throw new v("Not implemented")}}]),t}(),xP=Cm.zg,PP=new Cm(-1/0),OP=Cm.Ey,BP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Ag=function(t,n){return t.Rg(n)?Vr.gr:t.cg(n)?Vr._r:Vr.wr},i.Rw=function(t,n){return t.Rw(n)},i.xg=function(t,n){return t.xg(n)},i.Ig=function(t,n){return t.Ig(n)},i.pI=function(){return xP},i.kI=function(){return OP},i.SI=function(){return PP},n.XI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Cm(t.start(e)),new Cm(t.end(e)));return new n(i)},n.mY=function(t){for(var i=[],e=[],r=0;r<t.il;r++)i.push(new Cm(t.aI(r))),i.push(new Cm(t.fI(r))),e.push(t.cI(r)),e.push(t.vI(r));return new n(i,e)},n.GI=function(t){return new n([t,t],[!0,!0])},i.yI=function(t,i){return new n(t,i)},i.wI=function(t){return t.Ty},n.QI=function(){return LP},n}(iS),LP=new BP([]),MP=function(t){function n(n){var i;return(i=t.call(this)||this).pY=!0,i.vY=new RP,i.kY=new NP,i.LS=void 0,i.uV=void 0,i.bY=!0,i.AY=new Zu,i.iR=!1,i.mV=ge.resolve(),i.pV=new as,i.TY=!0,i.bV=eS.QI(),i.qQ=void 0,i.SY=void 0,i.xV=!1,i.VS=void 0,i.EY=function(){i.w_||i.IY.il<=0||i.vw.il<=0||i.kY.sY(new Cm(i.vw.fI(i.vw.il-1)),i.IY.fI(i.IY.il-1))},i.RY=function(){i.Ur(new oy(i.f_))},i.NY=function(){i.Ur(new uy(i.f_,i.dw))},i.DY=function(){i.Ur(new sy(i.f_,i.g_))},i.CY=function(){i.Ur(new fy(i.f_,i.k_))},i.xY=function(){i.Ur(new ry(i.v_))},i.PY=function(){i.Ur(new db(i.f_))},i.OY=function(){i.gs(i.f_)},i.BY=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.TY&&i.Ur(new Kg(i.f_)),i.bY=!1,i.TY=!0;case 3:case"end":return t.stop()}},null,null,null,ge)},i.LY=function(){i.bY=!0,i.Ur(new $g(i.f_))},i.SY=n,i.uV=new nD(Tt(i)),i.SY.setAttribute("id","player_video"),i.SY.setAttribute("x-webkit-airplay","deny"),i.SY.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.SY.playsInline=!0,i.SY.style.width="100%",i.SY.style.height="100%",i.MY(),i.UY(),i.qQ=SP(i.SY),i}S(n,t);var e=n.prototype;return e.MY=function(){this.SY.addEventListener("timeupdate",this.EY),this.SY.addEventListener("ended",this.RY),this.SY.addEventListener("timeupdate",this.NY),this.SY.addEventListener("ratechange",this.DY),this.SY.addEventListener("volumechange",this.CY),this.SY.addEventListener("durationchange",this.xY),this.SY.addEventListener("playing",this.PY),this.SY.addEventListener("seeking",this.OY),this.SY.addEventListener("play",this.BY),this.SY.addEventListener("pause",this.LY)},e.FY=function(){this.SY.removeEventListener("timeupdate",this.EY),this.SY.removeEventListener("ended",this.RY),this.SY.removeEventListener("timeupdate",this.NY),this.SY.removeEventListener("ratechange",this.DY),this.SY.removeEventListener("volumechange",this.CY),this.SY.removeEventListener("durationchange",this.xY),this.SY.removeEventListener("playing",this.PY),this.SY.removeEventListener("seeking",this.OY),this.SY.removeEventListener("play",this.BY),this.SY.removeEventListener("pause",this.LY)},e.UY=function(){this.uV.Fr(Zg.Hd,this.Mr)},e.HY=function(){this.uV.Wr(Zg.Hd,this.Mr)},e.gs=function(t,n){this.pV.Dr(),this.pV=new as,this.mV=this.SW(t,this.mV,this.pV.Pr).catch(j)},e.SW=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.bV=this.Aw,r=null==(e=this.LS)?void 0:e.yY){u.next=4;break}return u.abrupt("return");case 4:return s=_.max.apply(_,r.map(function(t){return t._Y?t._Y.Ty:1/0})),this.iR=!0,this.Ur(new ay(t)),u.next=9,tr.awrap(n.catch(j));case 9:if(vs(i),u.prev=10,this.pY||this.zY(),this.SY.load(),this.bY){u.next=17;break}return this.TY=!1,u.next=17,tr.awrap(_s(this.SY.play(),i));case 17:if(!(this.Nl<Pg.i_)){u.next=22;break}return u.next=20,tr.awrap(this.uV.Qr(Zg.Hd,i));case 20:u.next=17;break;case 22:this.AY.Is(),this.pY=!1,this.iR=!1,this.Ur(new cy(this.f_)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.AY.Rs(u.t0),u.t0;case 32:return u.prev=32,this.VY(),this.kY.oY(new Cm(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],ge)},e.q_=function(){this.bY=!0,this.SY.pause()},e.X_=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.bY){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.SY.src){t.next=9;break}return this.HW(),t.next=7,tr.awrap(this.AY.Ts);case 7:t.next=11;break;case 9:return t.next=11,tr.awrap(this.SY.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.bY=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],ge)},e.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.vY&&this.vY.eY().catch(j),this.pV.Dr(),this.FY(),this.HY(),this.uV.Tr(),this.Vr();case 6:case"end":return t.stop()}},null,this,null,ge)},e.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.vY&&this.vY.eY().catch(j),this.pV.Dr(),this.SY.removeAttribute("src"),this.SY.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.SY.removeAttribute("x-airplay-deny"),this.SY.load(),this.uV.tl(),this.bV=eS.QI();case 8:case"end":return t.stop()}},null,this,null,ge)},e.HW=function(){this.zW||(VP(this.SY,i.Pe),this.xV=!0)},e.zY=function(){var t,n=this.SY.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.SY.videoWidth/this.SY.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.SY.style.width=i+"px",this.SY.style.height=e+"px",this.SY.style.marginLeft=(r-i)/2+"px",this.SY.style.marginTop=(u-e)/2+"px",this.SY.style.backgroundColor="black"}},e.VY=function(){this.SY.style.width="100%",this.SY.style.height="100%",this.SY.style.marginLeft="",this.SY.style.marginTop="",this.SY.style.backgroundColor=""},e.yE=function(t,n,i,e){},e.aA=function(t,n,i,e,r,s){},e.dL=function(t){},e.NE=function(){return lR(this.SY)},e.iw=function(){this.SY.style.display="block"},e.ew=function(){this.SY.style.display="none"},e.UW=function(){},e.Qo=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.tr!==Vk.lA){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,tr.awrap(this.vY.tY());case 4:return n={kind:EP.YQ,mediaBufferConfigs:t.SF.map(function(t){return t.gf})},i.next=7,tr.awrap(this.vY.iY(n));case 7:return this.LS=CP.gY(t,this.vY),this.SY.preload="none",this.SY.src="https://theo.proxy/"+this.vY.Fh+"/master.m3u8",i.abrupt("return",this.LS);case 11:case"end":return i.stop()}},null,this,null,ge)},e.FW=function(){},e.vA=function(t){},e.kE=function(){},e.RE=function(t){},e.wE=function(){return!1},e.VW=function(t){t.appendChild(this.SY)},e.rw=function(){return this.SY},e.gW=function(){},e.fw=function(){},A(n,[{key:"oE",get:function(){return this.SY}},{key:"PF",get:function(){return!1}},{key:"f_",get:function(){return this.SY.currentTime+this.kY.uY.Ty}},{key:"w_",get:function(){return this.SY.paused}},{key:"k_",get:function(){return this.SY.volume},set:function(t){this.SY.volume=t}},{key:"g_",get:function(){return this.SY.playbackRate},set:function(t){this.SY.playbackRate=t}},{key:"WY",get:function(){return this.SY.defaultPlaybackRate}},{key:"vw",get:function(){var t,n;return null!=(t=null==(n=this.LS)?void 0:n.vw)?t:eS.QI()}},{key:"IY",get:function(){return BP.XI(this.SY.buffered)}},{key:"Aw",get:function(){var t=eS.qI(this.XY);return this.bV.RI(t._s(this.kY.uY.Ty))}},{key:"XY",get:function(){return BP.XI(this.SY.played)}},{key:"y_",get:function(){return this.iR}},{key:"v_",get:function(){return this.SY.duration}},{key:"__",get:function(){return this.SY.muted},set:function(t){this.SY.muted=t}},{key:"sG",get:function(){return this.SY.style}},{key:"XW",get:function(){return nr({},oN,{QB:!0,YB:300})}},{key:"Nl",get:function(){return this.uV.Nl}},{key:"m_",get:function(){return this.SY.videoHeight}},{key:"p_",get:function(){return this.SY.videoWidth}},{key:"d_",get:function(){return this.SY.ended}},{key:"Jp",get:function(){return 0}},{key:"mg",get:function(){return 0}},{key:"_w",get:function(){return!1}},{key:"zW",get:function(){return this.xV}},{key:"dw",get:function(){}},{key:"rB",get:function(){}},{key:"Kr",get:function(){}},{key:"pE",get:function(){return this.qQ}},{key:"Sw",get:function(){return this.LS?this.LS.Sw:eS.QI()}},{key:"DE",get:function(){}},{key:"V_",get:function(){}},{key:"uB",get:function(){}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"WW",get:function(){return"block"===this.SY.style.display}},{key:"hE",get:function(){return this.VS},set:function(t){this.VS=t}},{key:"iV",get:function(){}}]),n}(Es),UP=2,FP=[Fy.Zf,Fy.Jf];function HP(t){var n=s.createElement(t);return xe(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),zP(n),n}function zP(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Pe(t),t.pause(),t.playbackRate=1,t.preload=jT.jE,t.controls=!1,t.style.display="none",xe(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function VP(t,n){if(n.Xi){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();G(e)&&ps(e),t.pause()}}var WP;Mi=(WP={qY:function(){function t(t,n,i,e,r){void 0===i&&(i=UP),void 0===e&&(e=FP),void 0===r&&(r=hc()),this.GY=void 0,this.QY=void 0,this.ur=void 0,this.YY=void 0,this.eV=void 0,this.sR=void 0,this.jY=void 0,this.GY=i,this.QY=[].concat(e),this.ur=r,this.eV=t,this.sR=n,this.YY=er(),this.ZY()}var n=t.prototype;return n.hR=function(t){for(var n=0,i=this.cR;n<i.length;n++){i[n].VW(t)}},n.uE=function(t){var n=$r(this.YY.get(t),function(t){return t.JY});if(n)return n.JY=!1,n.$Y},n.KY=function(t){if(!this.jY)throw new v("Error creating iOS Safari MediaController");return this.jY},n.TE=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.oE,i=n.tagName.toLowerCase(),r.next=4,tr.awrap(t.tl());case 4:zP(n),(e=$r(this.YY.get(i)||[],function(n){return t===n.$Y}))&&(e.JY=!0);case 7:case"end":return r.stop()}},null,this,null,ge)},n.aR=function(){for(var t=0,n=this.cR;t<n.length;t++){n[t].HW()}},n.ov=function(){for(var t=0,n=this.cR;t<n.length;t++){var i=n[t],e=i.oE;i.Tr(),zP(e),Ee(e)}},n.ZY=function(){for(var t=0,n=this.QY;t<n.length;t++){var i=n[t],e=[];this.YY.set(i,e);for(var r=0;r<this.GY;r++){var s=HP(i),u=i===Fy.Zf?new sx(s,this.ur,this.eV):new IP(s,this.ur,this.eV,this.sR);e.push({$Y:u,JY:!0})}}if(L.dn&&L.Qt){var o=HP(Fy.Jf);this.jY=new MP(o)}},A(t,[{key:"cR",get:function(){for(var t=[],n=0,i=this.QY;n<i.length;n++){var e=i[n],r=this.YY.get(e).map(function(t){return t.$Y});t.push.apply(t,r)}return this.jY&&t.push(this.jY),t}}]),t}(),tj:function(){function t(n){var i=this;this.nj=new qR,this.ij=function(){var n,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.eR.uE(Fy.Jf),e=n.oE,s.next=4,tr.awrap(t.ej(e));case 4:return r=s.sent,s.next=7,tr.awrap(i.eR.TE(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,ge)},this.eR=n}var n=t.prototype;return n.zB=function(){return this.nj.TB(this.ij)},n.K_=function(){this.eR.aR()},t.ej=function(n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.sn&&!L.in){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,tr.awrap(t.rj());case 5:return i.next=7,tr.awrap(t.sj(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,tr.awrap(t.uj(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,ge)},t.sj=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,G(n)){e.next=4;break}return e.abrupt("return",!L.Zt);case 4:return i=bs(100),e.next=7,tr.awrap(ge.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],ge)},t.uj=function(n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,tr.awrap(t.sj(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,ge)},t.rj=function(){return new ge(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.ov=function(){this.nj.ov()},t}(),oj:{zD:function(t){Hi.addEventListener("beforeunload",t)},$D:function(t){Hi.removeEventListener("beforeunload",t)}},hj:r}).qY,Ui=WP.tj,Fi=WP.oj,Hi=WP.hj,zi=Hi&&Hi.location,Vi=Hi&&Hi.navigator;var XP=[];function qP(){XP.shift()()}function GP(t){XP.push(t),h(qP,0)}var QP=function(){function t(t){this.aj=void 0,this.cj=void 0,this.fj=void 0,this.fj=t}var n=t.prototype;return n.vj=function(t){return this.aj=this.aj||{},void 0===this.aj[t]&&(this.aj[t]=[]),this.aj[t]},n.addEventListener=function(t,n){var i=this.vj(t);-1===i.indexOf(n)&&i.push(n)},n.zr=function(t){(this.cj||(this.cj=[])).push(t)},n.removeEventListener=function(t,n){var i=this.vj(t);n?ts(i,n):i.length=0},n.Gr=function(t){var n=this.cj;n&&ts(n,t)},n.Vr=function(){this.aj=void 0},n.dispatchEvent=function(t,n){if(n)return GP(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.vj(t.type).slice(),e=this.cj&&this.cj.slice(),r=0;r<i.length;r++){i[r].call(this.fj||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.fj||this,t)}},n.dj=function(t){return Boolean(this.aj&&this.aj[t]&&this.aj[t].length)},n.lj=function(){return this.aj?l.keys(this.aj):[]},t}(),YP=function(){function t(){this._j=[]}var n=t.prototype;return n.gY=function(t,n){var i=this._j[t];return i?new i(n):null},n.qB=function(t,n){this._j[t]=n},t}();YP.In=new YP;var jP,ZP=function(t){function n(n,i){var e,r=$P[n];return(e=t.call(this,r?r.Zr:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.wj,e.helpLinkText=r&&r.gj,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Et);!function(t){t.yj="LICENSE_INVALID",t.mj="MANIFEST_NOT_FOUND",t.pj="MANIFEST_CORS_ERROR",t.kj="INVALID_HLS_MANIFEST",t.bj="PLAYBACK_ISSUE",t.Aj="AUDIO_ISSUE",t.Tj="BROWSER_SUPPORT_ISSUE",t.Sj="INVALID_KEY",t.Ej="DECRYPTION_ERROR",t.Ij="AD_BLOCK_DETECTED",t.Rj="THEOPLAYER_NOT_INITIALIZED",t.Tl="ERROR",t.Nj="MANIFEST_SEQUENCE_RESET_ERROR",t.Dj="PLAYER_INCORRECTLY_CONFIGURED",t.Cj="UNSUPPORTED"}(jP||(jP={}));for(var JP=[{Ns:jP.yj,Zr:"The license for this player is invalid. Please contact your service provider for additional information."},{Ns:jP.mj,Zr:"Could not load the manifest file."},{Ns:jP.pj,Zr:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",wj:"https://www.theoplayer.com/documentation/cors.html",xj:!1},{Ns:jP.kj,Zr:"The source of the player is an invalid HLS manifest.",wj:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ns:jP.bj,Zr:"There appears to be a playback issue."},{Ns:jP.Aj,Zr:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ns:jP.Tj,Zr:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ns:jP.Sj,Zr:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ns:jP.Ej,Zr:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ns:jP.Ij,Zr:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ns:jP.Rj,Zr:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ns:jP.Tl,Zr:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ns:jP.Nj,Zr:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ns:jP.Dj,Zr:"The player is incorrectly configured.",wj:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ns:jP.Cj,Zr:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],$P={},KP=0;KP<JP.length;KP++){var tO=JP[KP];$P[tO.Ns]=tO}function nO(t){return t.Pj}var iO=function(){function t(){this.Ya=[],this.Oj={},this.Bj=0}var n=t.prototype;return n.Lj=function(t){var n=this.Oj[t];return void 0===n?-1:n-this.Bj},n.Mj=function(t){return this.Ya[t]},n.Uj=function(t){return this.Mj(this.Lj(t))},n.Fj=function(t){return!!this.Mj(t)},n.Hj=function(t){return!!this.Uj(t)},n.zj=function(){return this.Ya},n.Rw=function(t){var n,i=this.Ya,e=i.length?i[i.length-1]:null;if(this.Lj(t.Pj)>=0)return!1;if(e&&t.Pj>e.Pj)n=i.length;else{var r=uD(this.Ya,t.Pj,nO,Yr);if(r>=0)return!1;n=-(r+1)}return this.Vj(t,n),!0},n.Yo=function(t){var n=this.Ya,i=this.Oj,e=this.Lj(t.Pj);return!(e<0)&&(n.splice(e,0,t),delete i[t.Pj],this.Wj(e),!0)},n.Xj=function(t){var n=this.Ya,i=this.Oj;t=_.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].Pj];n.splice(0,t),this.Bj+=t},n.Vj=function(t,n){var i=this.Ya;n>=i.length?i.push(t):i.splice(n,0,t),this.Wj(n)},n.Wj=function(t){for(var n=this.Ya,i=this.Oj,e=this.Bj,r=n.length,s=t;s<r;s++)i[n[s].Pj]=s+e},A(t,[{key:"il",get:function(){return this.Ya.length}}]),t}(),eO=function(){function t(t,n,i){this.qj=void 0,this.Gj=void 0,this.Qj=void 0,this.qj=t,this.Gj=n,this.Qj=i}var n=t.prototype;return n.compute=function(){return this.qj.live?this.qj.Yj?this.qj.jj:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.Qj&&(t+=this.Zj()),this.Jj()&&(t+=this.$j(t)),t},n.Jj=function(){return void 0!==this.Gj.Kj.Uj(this.qj.fragments[0].Pj)},n.$j=function(t){var n=this.qj.fragments[0];return this.Gj.Kj.Uj(n.Pj).tZ-(n.tZ+t)||0},n.Zj=function(){var t=rO(this.qj),n=rO(this.Qj.nZ),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.Qj)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=_.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.nZ.fragments.length?this.Qj.iZ(t.nZ.fragments[0].Pj).tZ:0},t}();function rO(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.eZ&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var sO=function(t){function n(n,i){var e,r=uO(i,n.v_,n.DE,n.rZ);return(e=t.call(this,i,r,void 0,!1,n.ll)||this).sZ=void 0,e.uZ=void 0,e.oZ=void 0,e.bu=void 0,e.hZ=void 0,e.aZ=void 0,e.cZ=void 0,e.fZ=void 0,e.vZ=void 0,e.dZ=void 0,e.sZ=n.lZ,e.uZ=n.DE,e.oZ=n.rZ,e.bu=n.v_,e.hZ=n._Z,e.aZ=Boolean(n.wZ),e.cZ=n.gZ||{},e.fZ=n.yZ,e.vZ=n.mZ,e.dZ=n.pZ,e.kZ(),e.bZ(),e}S(n,t);var i=n.prototype;return i.jo=function(t){var n=!1;void 0===this.sZ&&void 0!==t.lZ&&(n=!0,this.sZ=t.lZ),void 0===this.oZ&&void 0!==t.rZ&&(n=!0,this.oZ=t.rZ),void 0===this.bu&&void 0!==t.v_&&(n=!0,this.bu=t.v_),void 0===this.hZ&&void 0!==t._Z&&(n=!0,this.hZ=t._Z),!this.aZ&&t.wZ&&(n=!0,this.aZ=t.wZ),n=this.updateCustomAttributes(t,n),void 0===this.fZ&&void 0!==t.yZ&&(n=!0,this.fZ=t.yZ),void 0===this.vZ&&void 0!==t.mZ&&(n=!0,this.vZ=t.mZ),void 0===this.dZ&&void 0!==t.pZ&&(n=!0,this.dZ=t.pZ),this.kZ(),this.bZ(),this.AZ(),n&&this.Ur(new _m(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.gZ)for(var e=0,r=l.keys(t.gZ);e<r.length;e++){var s=r[e];void 0===this.cZ[s]&&(i=!0,this.cZ[s]=t.gZ[s])}return i},i.kZ=function(){this.bu&&!this.oZ&&(this.oZ=new Date(this.uZ.getTime()+1e3*this.bu))},i.bZ=function(){this.oZ&&!this.bu&&(this.bu=yt(this.oZ.getTime()-this.uZ.getTime()))},i.AZ=function(){this.rg===1/0&&(this.oZ||this.bu)&&(this.rg=uO(this.eg,this.bu,this.uZ,this.oZ))},A(n,[{key:"Sd",get:function(){var t;return this.Td||(this.Td=Zw(vm(t=this),{get content(){return t.Yw},get class(){return t.lZ},get startDate(){return t.DE},get endDate(){return t.rZ},get duration(){return t.v_},get plannedDuration(){return t._Z},get endOnNext(){return t.wZ},get scte35Cmd(){return t.yZ},get scte35Out(){return t.mZ},get scte35In(){return t.pZ},get customAttributes(){return t.gZ}})),this.Td}},{key:"lZ",get:function(){return this.sZ}},{key:"DE",get:function(){return this.uZ}},{key:"rZ",get:function(){return this.oZ}},{key:"v_",get:function(){return this.bu}},{key:"_Z",get:function(){return this.hZ}},{key:"wZ",get:function(){return this.aZ}},{key:"yZ",get:function(){return this.fZ}},{key:"mZ",get:function(){return this.vZ}},{key:"pZ",get:function(){return this.dZ}},{key:"gZ",get:function(){return this.cZ}}]),n}(mm);function uO(t,n,i,e){return F(n)?t+n:e?t+(yt(e.getTime())-yt(i.getTime())):1/0}var oO,hO,aO,cO,fO,vO=function(t){function n(){return t.call(this,void 0,void 0,tm.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.jo=function(t,n){for(var i=this,e=function(t){for(var n=er(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.ll)){var s=n.get(r.ll),u=nr({},s,tg(r),{gZ:nr({},s.gZ,r.gZ)});n.set(r.ll,u)}else n.set(r.ll,r),i.push(r.ll)}return i.map(function(t){return n.get(t)})}(t),r=this.Dl.nl,s=function(t){var n=r[t],s=$r(e,function(t){return t.ll===n.ll});s?n.jo(s):i.rH(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.DE;if(void 0!==a&&!this.iH(h.ll)){var c=n(a);this.fA(new sO(h,c))}}},i.fA=function(n){this.TZ(n),t.prototype.fA.call(this,n)},i.TZ=function(t){var n=this.XF.filter(function(n){return n.lZ===t.lZ}).pop();n&&n.wZ&&n.jo({ll:n.ll,rZ:t.DE})},n}(EC);function dO(t){return lO(t)?{Lf:t.SZ,EZ:[t.EZ.aI,t.EZ.fI],rv:!0}:{Lf:t.toString(),rv:!0}}function lO(t){return void 0!==t.EZ}function _O(t){return t&&t.IZ&&Gm(t.IZ)||!1}function wO(t){if(!t)return Fm.zg;if(!_O(t))return Fm.Ry(t.duration);var n=t.RZ||Fm.zg,i=t.NZ||Fm.zg,e=Fm.Ry(t.duration);return n.Gg()||i.Gg()?n.Gg()?i.Gg()?e.Gg()?Fm.zg:e:i:n:Fm.ky(n,i)}function gO(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.dA)return i}return null}function yO(t){return gO(t)||function(t){return t.filter(function(t){return t.DZ})}(t)[0]||t[0]}function mO(t,n){for(var i=0;i<n.length;i++){var e=n[i];is(t,e)||t.push(e)}return t}function pO(t){switch(t){case cO.Jf:case cO.CZ:return Fy.Jf;case cO.Zf:return Fy.Zf}}function kO(t){switch(t){case cO.Jf:case cO.CZ:return Wl.Jf;case cO.Zf:return Wl.Zf;default:return Wl.Uf}}!function(t){t.xZ="alternative",t.PZ="main",t.OZ="commentary",t.BZ="",t.tA="descriptions",t.LZ="main-desc",t.MZ="translation"}(oO||(oO={})),function(t){t.xZ="alternative",t.PZ="main",t.OZ="commentary",t.BZ="",t.Kb="captions",t.UZ="sign",t.zm="subtitles"}(hO||(hO={})),function(t){t.Jf="video",t.Zf="audio",t.FZ="closedCaption",t.HZ="variant"}(aO||(aO={})),function(t){t[t.Uf=-1]="Uf",t[t.Zf=0]="Zf",t[t.Jf=1]="Jf",t[t.CZ=2]="CZ"}(cO||(cO={})),function(t){t[t.Uf=-1]="Uf",t[t.zZ=1]="zZ",t[t.VZ=2]="VZ",t[t.WZ=3]="WZ",t[t.XZ=4]="XZ"}(fO||(fO={})),function(t){t.A_=function(t){return t>=fO.VZ},t.qZ=function(t){return t===fO.VZ||t===fO.WZ}}(fO||(fO={}));var bO=function(t){function n(){var n;return(n=t.call(this)||this).GZ=[],n.QZ=function(){return n.dispatchEvent("YZ")},n.jZ=function(){return n.dispatchEvent("ZZ")},n}S(n,t);var i=n.prototype;return i.Rw=function(t){this.GZ.push(t),t.addEventListener("ZZ",this.jZ),t.addEventListener("JZ",this.QZ),this.dispatchEvent("$Z"),t.disabled||this.dispatchEvent("YZ")},i.Yo=function(t){var n=this.GZ.indexOf(t);n<0||(ns(this.GZ,n),t.removeEventListener("ZZ",this.jZ),t.removeEventListener("JZ",this.QZ),this.dispatchEvent("$Z"),t.disabled||this.dispatchEvent("YZ"))},i.vs=function(){for(var t=!!this.KZ.length,n=!!this.tJ.length,i=0,e=this.GZ;i<e.length;i++){e[i].removeEventListener("JZ",this.QZ)}this.GZ.length=0,t&&this.dispatchEvent("$Z"),n&&this.dispatchEvent("YZ")},i.ov=function(){this.Vr(),this.vs()},A(n,[{key:"KZ",get:function(){return this.GZ}},{key:"tJ",get:function(){return this.GZ.filter(function(t){return!t.disabled})}}]),n}(QP);function AO(t){if(!t)return null;for(var n={nJ:"",iJ:"",eJ:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.nJ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.nJ="mp4a.40.2":"mp4a.40.29"===s?n.nJ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.nJ=s:"ec-3"===s?n.nJ=s:0===s.indexOf("avc")?n.iJ=r:n.eJ+=","+s}return n}var TO=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).rJ=void 0,h.$T=void 0,h.Oo=void 0,h.sJ=new iO,h.uJ=NaN,h.oJ=void 0,h.hJ=void 0,h.Au=void 0,h.aJ=void 0,h.cJ=void 0,h.fJ=!0,h.vJ=!0,h.dJ=!0,h.lJ=!1,h._J=null,h.wJ=!1,h.rJ=n,h.$T=i,h.Oo=e||0===e?e:-1,h.hJ=r,h.aJ=Boolean(s),h.cJ=Boolean(u),h.Au=o,h}S(n,t);var i=n.prototype;return i.gJ=function(t,n){var i=XE(),e=new eO(t,this,n).compute(),r=this.yJ(t.fragments),s=r.oldFragments,u=r.newFragments;this.mJ(s,i),this.pJ(u,i,e),this.oJ!==t&&this.kJ(!0),this.oJ=t,this.dispatchEvent({type:"bJ",AJ:this}),this.dispatchEvent("renditionUpdated")},i.iZ=function(t){return this.sJ.Uj(t)},i.TJ=function(){var t=this.fJ;this.fJ=this.vJ&&this.dJ,t!==this.fJ&&this.dispatchEvent("ZZ")},i.kJ=function(t){this.vJ=t,this.TJ()},i.SJ=function(t){this.dJ=t,this.TJ()},i.EJ=function(t){this.$T=t,this.dispatchEvent("renditionUpdated")},i.IJ=function(){null!==this._J&&a(this._J),this.dispatchEvent("JZ"),this.dispatchEvent("renditionUpdated")},i.RJ=function(t){this.wJ=t,this.IJ()},i.NJ=function(){this.DJ(3e4)},i.DJ=function(t){var n=this;this.lJ=!0,this.IJ(),this._J=h(function(){n.lJ=!1,n.IJ()},t)},i.yJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.sJ.Hj(s.Pj)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.mJ=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.sJ.Uj(e.Pj);r.CJ=mO(r.CJ,e.CJ),r.xJ=e.xJ||r.xJ,r.PJ=n}},i.pJ=function(t,n,i){var e=this.OJ(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Mp=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.tZ+=n}}(e,i),this.BJ(e)},i.OJ=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.AJ=this;var r=nr({},e);n.push(r)}return n},i.BJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sJ.Rw(i),y(this.uJ)&&(this.uJ=i.Pj)}},i.ov=function(){this.Vr(),null!==this._J&&a(this._J)},A(n,[{key:"disabled",get:function(){return this.lJ||this.wJ},set:function(t){this.lJ=t,this.IJ()}},{key:"ll",get:function(){return this.Oo}},{key:"bw",get:function(){return this.fJ}},{key:"uri",get:function(){return this.hJ||this.oJ&&this.oJ.uri},set:function(t){this.hJ=t,this.dispatchEvent("renditionUpdated")}},{key:"nZ",get:function(){return this.oJ}},{key:"Kj",get:function(){return this.sJ}},{key:"LJ",get:function(){return this.oJ?this.oJ.live?this.oJ.duration<-60?fO.WZ:fO.XZ:fO.zZ:fO.Uf}},{key:"Vn",get:function(){return this.$T},set:function(t){this.EJ(t)}},{key:"yl",get:function(){return this.Au}},{key:"dA",get:function(){return this.aJ}},{key:"DZ",get:function(){return this.cJ||this.aJ}},{key:"MJ",get:function(){return this.uJ}},{key:"UJ",get:function(){return!!this.nZ}},{key:"wf",get:function(){return this.rJ}}]),n}(QP),SO=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,w){var g;return void 0===_&&(_=oO.PZ),(g=t.call(this,n,i,e,s,u,o,d)||this).FJ=void 0,g.HJ=void 0,g.zJ=void 0,g.VJ=void 0,g.WJ=void 0,g.XJ=void 0,g.qJ=void 0,g.GJ=void 0,g.QJ=void 0,g.QF=void 0,g.YJ=void 0,g.jJ=void 0,g.ZJ=void 0,g.JJ=void 0,g.$J=void 0,g.KJ=void 0,g.t$=null,g.n$=void 0,g.FJ=Boolean(l),g.WJ=r,g.HJ=AO(h),g.zJ=w,g.qJ=a,g.GJ=c,g.XJ=f,g.VJ=v,g.QF=_,g}S(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.Pj,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.i$[0]?t.i$[0].wl:oO.PZ)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Nr(t.characteristics,"public.accessibility.describes-video")?oO.LZ:oO.PZ;if(t.characteristics&&Nr(t.characteristics,"public.accessibility.describes-video"))return oO.tA;return oO.xZ}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.e$=function(t){this.HJ="string"==typeof t?AO(t):t,this.dispatchEvent("renditionUpdated")},i.r$=function(t,n){return t?!n&&t.nJ&&t.iJ?cO.CZ:t.iJ?cO.Jf:t.nJ?cO.Zf:cO.Uf:cO.Uf},A(n,[{key:"s$",set:function(t){this.FJ=t}},{key:"u$",get:function(){return this.HJ}},{key:"bandwidth",get:function(){return this.VJ},set:function(t){this.VJ=t,this.dispatchEvent("renditionUpdated")}},{key:"wl",get:function(){return this.QF}},{key:"resolution",get:function(){return this.XJ},set:function(t){this.XJ=t,this.dispatchEvent("renditionUpdated")}},{key:"o$",get:function(){return void 0!==this.zJ?this.zJ:this.r$(this.HJ,this.FJ)}},{key:"Pj",get:function(){return this.qJ}},{key:"nJ",get:function(){return this.GJ}},{key:"h$",get:function(){return this.WJ}},{key:"a$",get:function(){return this.QJ},set:function(t){var n=this.QJ;this.QJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(TO);var EO=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).fi=void 0,c.c$=null,c.f$=void 0,c.v$=function(){return c.d$()},c.fi=h,c.f$=new kD(a,String(e),c.Vn,c.yl,void 0,tm.WEBVTT),c.dA&&(c.f$.El=dg.Al),c}S(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Nr(t.characteristics,"public.accessibility.describes-music-and-sound"))return wk.Kb;return wk.zm}(i))};var i=n.prototype;return i.gJ=function(n){t.prototype.gJ.call(this,n),this.d$()},i.ov=function(){t.prototype.ov.call(this),this.Fb=null},i.EJ=function(n){t.prototype.EJ.call(this,n),this.f$.gl=n},i.d$=function(){this.c$&&this.c$.l$(this,this.Kj)},A(n,[{key:"_$",get:function(){return this.f$}},{key:"Fb",get:function(){return this.c$},set:function(t){this.c$&&this.c$.removeEventListener("w$",this.v$),this.c$=t,this.d$(),this.c$&&this.c$.addEventListener("w$",this.v$)}},{key:"SZ",get:function(){return this.uri}},{key:"tr",get:function(){return this.fi}}]),n}(TO),IO=function(t){function n(n,i){var e;(e=t.call(this)||this).Dh=void 0,e.g$=void 0,e.y$=["renditionUpdated","bJ","m$"],e.p$=null,e.k$=null,e.b$=null,e.A$=null,e.T$=new bO,e.S$=new bO,e.E$=new bO,e.L_={},e.I$=void 0,e.R$=void 0,e.N$=null,e.bu=NaN,e.D$=void 0,e.C$=void 0,e.Mr=function(t){return e.dispatchEvent(t)},e.Dh=n,e.g$=i;var r=Tt(e);return e.D$=function(){r.AF(this)},e.C$=function(t){r.x$(this,t)},e}S(n,t);var i=n.prototype;return i.P$=function(t,n){var i=new IC(n);return i.El=dg.bl,this.L_[i.ll]=i,this.dispatchEvent({type:"O$",Id:i}),i},i.B$=function(t,n,i){var e=new EC(i,"manifest");return e.El=dg.bl,this.L_[e.ll]=e,this.dispatchEvent({type:"O$",Id:e}),e},i.L$=function(t,n){if(t){var i=t.Dl,e=t.M$,r=t&&this.L_[e];r||(r=new IC(t.Sl),this.L_[e]=r,r.El=dg.bl,this.dispatchEvent({type:"O$",Id:r}));for(var s=0;s<i.length;s++){var u=i[s];r.fA(u)}}},i.U$=function(t){t&&(this.I$||(this.I$=new kD(wk.Kb,void 0,"CC1","en",!0,tm.CEA608),this.L_.CC1=this.I$,this.dispatchEvent({type:"O$",Id:this.I$})),this.I$.fA(t))},i.F$=function(t,n,i){var e=this.L_[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Dl.nl;r<s.length;r++){var u=s[r];if(u.Gw>=i)break;n<u.Qw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.rH(u)}}},i.H$=function(t,n){return this.z$(t,n)},i.V$=function(t){var n;return(n=this.W$(t,this.T$))?n:(n=this.W$(t,this.S$))?n:n=this.W$(t,this.E$)},i.ov=function(){this.qr(this.T$),this.T$.ov(),this.qr(this.S$),this.S$.ov(),this.qr(this.E$),this.E$.ov(),this.L_={},this.I$=void 0,this.R$&&(this.R$.ov(),this.R$=void 0),this.N$=null,this.bu=NaN,this.p$=null,this.k$=null,this.b$=null,this.A$=null,this.dispatchEvent("ov")},i.X$=function(t){var n=SO.createFromUri(this,t.uri);this.qr(this.S$),this.S$.Rw(n),n.addEventListener("renditionUpdated",this.D$)},i.AF=function(t){var n=t.nZ,i=t.LJ;if(y(this.bu)||fO.A_(i)){if(fO.Uf===i)return;if(!n)return;this.bu=n.duration,this.dispatchEvent("q$")}y(this.bu)||fO.zZ!==i||t.removeEventListener("renditionUpdated",this.D$)},i.G$=function(t){var n=this;this.qr(this.T$),this.T$.vs(),this.qr(this.S$),this.S$.vs(),this.E$.vs(),this.N$=t;for(var i=t.streams.map(function(t){return SO.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.nJ&&!Nr(t.nJ,"mp4a")&&!Nr(t.nJ,"mp3"))return!1;if(t.iJ&&!Nr(t.iJ,"avc1"))return!1;return!0}(t.u$)}),e=i.some(function(t){return t.u$&&t.u$.nJ}),r=i.some(function(t){return t.u$&&t.u$.iJ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.u$&&u.u$.nJ),h=Boolean(u.u$&&u.u$.iJ);e&&!o||r&&!h||(this.S$.Rw(u),u.addEventListener("renditionUpdated",this.D$))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.g$){var r=EO.createFromPlaylistMedia(n,e);n.E$.Rw(r),n.dispatchEvent({type:"O$",Id:r._$})}break;case"closed-captions":break;case"audio":var s=n.S$.KZ.filter(function(t){return t.nJ===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.s$=!0});var u=e.uri?cO.Zf:cO.CZ,o=SO.createFromPlaylistMedia(n,e,!1,u);n.T$.Rw(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.Q$=yO(this.i$.tJ)||null,this.dispatchEvent("Y$")},i.W$=function(t,n){for(var i=0,e=n.KZ;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.x$=function(t,n){this.dispatchEvent(nr({},n,{AJ:t}))},i.j$=function(t){for(var n=0,i=t.KZ;n<i.length;n++)for(var e=i[n],r=0,s=this.y$;r<s.length;r++){var u=s[r];e.addEventListener(u,this.C$)}},i.qr=function(t){for(var n=0,i=t.KZ;n<i.length;n++){i[n].ov()}},i.Z$=function(t,n){0!==t.length&&this.Dh.hlsDateRange&&(this.R$||(this.R$=new vO,this.dispatchEvent({type:"O$",Id:this.R$})),this.R$.jo(t,n))},i.J$=function(t,n){if(this.k$!==t){var i=this.k$;this.k$=t,this.dispatchEvent({type:"K$",o$:"nJ",AJ:this.k$,tK:i,nK:n})}},i.z$=function(t,n){if(this.b$!==t){var i=this.b$;this.b$=t,t&&this.dispatchEvent({type:"K$",o$:"iJ",AJ:this.b$,tK:i,nK:n})}},i.iK=function(t){for(var n=0,i=t.KZ;n<i.length;n++){var e=i[n];if(e.LJ!==fO.Uf)return e.LJ}return null},A(n,[{key:"I_",get:function(){return this.p$},set:function(t){t&&(0===t.streams.length?this.X$(t):this.G$(t),this.p$=t,this.j$(this.S$),this.j$(this.T$),this.dispatchEvent("eK"))}},{key:"rK",get:function(){return this.N$}},{key:"v_",get:function(){return this.bu}},{key:"V_",get:function(){var t=this,n=this.E$.KZ.map(function(t){return t._$}),i=l.keys(this.L_).map(function(n){return t.L_[n]});return this.I$&&i.push(this.I$),this.R$&&i.push(this.R$),n.concat(i)}},{key:"Q$",get:function(){return this.k$},set:function(t){this.J$(t,!0)}},{key:"sK",get:function(){return this.b$},set:function(t){this.z$(t,!1)}},{key:"i$",get:function(){return this.T$}},{key:"uK",get:function(){return this.S$}},{key:"oK",get:function(){return this.E$.KZ}},{key:"LJ",get:function(){var t;return null!==(t=this.k$&&this.k$.LJ)&&t!==fO.Uf?t:null!==(t=this.b$&&this.b$.LJ)&&t!==fO.Uf?t:null!==(t=this.iK(this.T$))?t:null!==(t=this.iK(this.S$))?t:fO.Uf}}]),n}(QP);var RO=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).Bp=[],r.hK={},r.aK=void 0,r.cK=void 0,r.fK=void 0,r.Sd=void 0,r.Mr=function(t){return r.dispatchEvent(t)},r.vK=function(t){r.dK(t)},r.lK=function(t){r.handleRenditionUpdated(t)},r._K=function(t){for(var n=0,i=r.Bp;n<i.length;n++){i[n].wK._K(t)}},r.aK=n,r.cK=i,r.fK=e,r.cK&&r.cK.addEventListener("K$",r.vK),r.fK&&(r.fK.addEventListener("renditionUpdated",r.lK),r.fK.addEventListener("gK",r._K)),r.Sd=(s=Tt(r),u=new QP,o={get length(){return s.Bp.length},enable:function(t){s.Zb(s.yK(t&&t.id)||t)},disable:function(t){s.Jb(s.yK(t&&t.id)||t)},item:function(t){return s.Bp[t]&&s.Bp[t].Sd},getTrackByID:function(t){var n=s.yK(t);return n&&n.Sd},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}S(n,t);var i=n.prototype;return i.yK=function(t){return this.hK[t]},i.Jd=function(t){for(var n=0,i=t.wK.ml;n<i.length;n++){var e=i[n];e.ll===this.mK()&&(e.fg=!0)}t.addEventListener("enabledtrack",this.Mr),t.addEventListener("disabledtrack",this.Mr),this.Bp.push(t),this.hK[t.ll]=t,this.dispatchEvent({type:"addtrack",track:t.Sd})},i.Zb=function(t){if(t){var n=this.hK[t.ll];if(n&&!n.dl){for(var i=this.Bp.length-1;i>=0;i--)this.Bp[i].nw();n.tw()}}},i.Jb=function(t){},A(n,[{key:"pK",get:function(){return this.mK()}}]),n}(QP);var NO=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).kK=void 0,r.kK=NaN,r}S(n,t);var i=n.prototype;return i.mK=function(){return this.kK},i.dK=function(t){t.bK?this.AK(t.TK):t.SK&&this.AK(t.SK)},i.AK=function(t){t&&(this.kK=t.ll),this.Bp.forEach(function(n){return n.EK(t)})},i.handleRenditionUpdated=function(t){if(t.AJ&&t.AJ.o$===cO.Zf)for(var n=0,i=this.Bp;n<i.length;n++){i[n].IK(t)}},i.Zb=function(n){var i=n;if(!i){var e=this.Bp.filter(function(t){return t.dA});e.length>0&&(i=e[0])}t.prototype.Zb.call(this,i)},A(n,[{key:"tr",get:function(){return"audio"}}]),n}(RO),DO=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RK=void 0,r.RK=NaN,r}S(n,t);var i=n.prototype;return i.mK=function(){return this.RK},i.dK=function(t){(t.NK||t.TK)&&(t.TK&&(this.RK=t.TK.ll),this.Bp.forEach(function(n){return n.EK(t.TK)}))},i.handleRenditionUpdated=function(t){if(t.AJ&&(t.AJ.o$===cO.Jf||t.AJ.o$===cO.CZ))for(var n=0,i=this.Bp;n<i.length;n++){i[n].IK(t)}},A(n,[{key:"tr",get:function(){return"video"}}]),n}(RO);function CO(t,n){for(var i,e=n-(i=t?z(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function xO(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var PO=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).AJ=void 0,i.fg=!1,i.DK=!0,i.Sd=void 0,i.AJ=n,i.fg=!1,i.Sd=(e=Tt(i),r=new QP,s={get bandwidth(){return e.AJ&&e.AJ.bandwidth},get averageBandwidth(){return e.AJ&&e.AJ.averageBandwidth},get codecs(){return e.u$},get resolution(){return e.CK},get frameRate(){return xO(e.xK,2)},get id(){return e.ll},get uri(){return e.AJ&&e.AJ.uri},get name(){return e.Vn},set name(t){e.Vn=t},get enabled(){return e.dl},set enabled(t){e.dl=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}S(n,t);var i=n.prototype;return i.PK=function(t){var n=!!t&&this.ll===t.ll;this.fg!==n&&(this.fg=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Sd}))},i.IK=function(t){return this.AJ.ll===t.AJ.ll&&(this.AJ=t.AJ,this.dispatchEvent({type:"qualityupdated",quality:this.Sd}),!0)},A(n,[{key:"dl",get:function(){return this.DK},set:function(t){this.DK=t,this.AJ.RJ(!t)}},{key:"wl",get:function(){return this.AJ.wl}},{key:"CK",get:function(){return this.AJ.resolution?{width:this.AJ.resolution.width,height:this.AJ.resolution.height}:{width:NaN,height:NaN}}},{key:"Vn",get:function(){return this.AJ.Vn},set:function(t){this.AJ.Vn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Sd})}},{key:"ll",get:function(){return this.AJ.ll}}]),n}(QP);var OO=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"u$",get:function(){return this.AJ.u$&&this.AJ.u$.iJ||""}},{key:"xK",get:function(){return xO(Number(this.AJ.a$),2)}}]),n}(PO),BO=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"u$",get:function(){return this.AJ.u$&&this.AJ.u$.nJ||""}},{key:"xK",get:function(){return xO(Number(this.AJ.n$),2)}}]),n}(PO),LO=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).ml=void 0,e.BK=null,e.LK={},e.fK=void 0,e.Sd=void 0,e.Mr=function(t){return e.dispatchEvent(t)},e.ml=n,e.fK=i;for(var h=e.ml.length-1;h>=0;h--){var a=e.ml[h];e.LK[a.ll]=a}return e.ml.forEach(function(t){return t.addEventListener("activequalitychanged",e.Mr)}),e.Sd=(r=Tt(e),s=new QP,u={item:function(t){var n=r.Zd(t);return n&&n.Sd},getQualitiesByIDs:function(t){return r.MK(t).map(function(t){return t.Sd})},get length(){return r.ml.length},get activeQuality(){return r.vl&&r.vl.Sd},get targetQuality(){return r.pl?1===r.pl.length?r.pl[0].Sd:r.pl.map(function(t){return t.Sd}):null},set targetQuality(t){if(t){var n=H(t)?t:[t];r.pl=r.MK(n.map(function(t){return t.id}))}else r.pl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}S(n,t);var i=n.prototype;return i.UK=function(t){return!!t&&this.ml.some(function(n){return n.ll===t.ll})},i.FK=function(t,n){for(var i=0,e=this.ml;i<e.length;i++){e[i].PK(t)}},i.MK=function(t){var n=this;return t&&t.map(function(t){return n.LK[t]}).filter(function(t){return t})},i.HK=function(){for(var t=this.ml.length-1;t>=0;t--)this.ml[t].fg=!1},i._K=function(t){var n=this.fK.zK,i=this.MK(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Sd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Zd=function(t){return this.ml[t]},A(n,[{key:"vl",get:function(){for(var t=0,n=this.ml;t<n.length;t++){var i=n[t];if(i.fg)return i}return null}},{key:"pl",get:function(){return this.BK},set:function(t){this.BK=this.VK(t)}}]),n}(QP);var MO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.tw=function(){this.fK&&(this.fK.kK=this.ml[0].ll)},i.nw=function(t){this.fK&&(this.fK.kK=null)},i.VK=function(t){},n}(LO),UO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.tw=function(){if(this.VK(this.pl),this.fK){var t=this.fK.aK;if(!t)return;var n=$r(t.WK.i$.KZ,function(t){return!t.uri});this.fK.kK=n?n.ll:null}},i.FK=function(n,i){"video"===i&&t.prototype.FK.call(this,n,i)},i.nw=function(t){"video"===t&&this.HK()},i.VK=function(t){if(!this.fK)return this.pl;var n=t?this.MK(t.map(function(t){return t.ll})):null;if(n&&n.length>0){var i=n.map(function(t){return t.ll});return this.fK.zK=i,n}return t?this.pl:(this.fK.zK=null,null)},n}(LO),FO=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).tr=void 0,e.wK=void 0,e.ll=void 0,e.Pw=void 0,e.Vn=void 0,e.Sd=void 0,e.tr=n,e.wK=i,e.ll=i.Zd(0).ll,e.Pw=e.wK.ml.some(function(t){return t.fg}),e.Vn=i.Zd(0).AJ.Vn,e.Sd=(r=Tt(e),s=new QP,{get id(){return r.ll},get enabled(){return r.dl},get qualities(){return r.wK&&r.wK.Sd},get language(){return r.yl},get default(){return r.dA},get name(){return r.Vn},set name(t){r.Vn=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}S(n,t);var i=n.prototype;return i.EK=function(t){var n=this.wK.UK(t);this.Bw(n),this.wK.FK(t,this.tr)},i.Bw=function(t){this.Pw!==t&&(t?(this.Pw=!0,this.dispatchEvent({type:"enabledtrack",track:this.Sd})):(this.Pw=!1,this.dispatchEvent({type:"disabledtrack",track:this.Sd})))},i.tw=function(){this.Pw||this.wK.tw()},i.nw=function(){this.Pw&&this.wK.nw(this.tr)},i.IK=function(t){t.AJ.ll===this.ll&&(this.Vn=t.AJ.Vn);for(var n=0,i=this.wK.ml;n<i.length;n++){i[n].IK(t)}},A(n,[{key:"dl",get:function(){return this.Pw}},{key:"yl",get:function(){return this.XK()}},{key:"wl",get:function(){return this.qK()}},{key:"dA",get:function(){var t="video"===this.tr,n=this.wK.ml&&this.wK.ml[0].AJ.dA;return t||n}}]),n}(QP);var HO=function(t){function n(n){return t.call(this,"video",n)||this}S(n,t);var i=n.prototype;return i.qK=function(){return hO.PZ},i.XK=function(){return""},n}(FO),zO=function(t){function n(n){return t.call(this,"audio",n)||this}S(n,t);var i=n.prototype;return i.qK=function(){return this.wK.ml[0].AJ.wl},i.XK=function(){return this.wK.ml[0].AJ.yl||""},n}(FO),VO=function(){function t(t,n,i){var e=this;this.GK=void 0,this.QK=void 0,this.YK=void 0,this.jK=void 0,this.ZK=function(){var t=e.GK;t.removeEventListener("JK",e.ZK);var n=t.WK.uK.KZ,i=t.WK.i$.KZ,r=n.map(function(t){return new OO(t)});if(r.length>0){var s=new UO(r,e.QK);e.jK.Jd(new HO(s));var u=$r(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new zO(s);u&&(h.Vn=u.Vn),e.YK.Jd(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new BO(c),v=new MO([f],e.QK);e.YK.Jd(new zO(v))}}},this.GK=t,this.QK=i,this.YK=new NO(t,n,i),this.jK=new DO(t,n,i),t&&(t.JK?this.ZK():t.addEventListener("JK",this.ZK))}return A(t,[{key:"H_",get:function(){return this.YK}},{key:"z_",get:function(){return this.jK}}]),t}(),WO=["loadedmetadata","durationchange","Kr","dv","bw","$K"],XO=["KK","K$","n0","Kr"],qO=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).i0=null,h.qE=void 0,h.e0=void 0,h.r0=void 0,h.s0=void 0,h.cK=void 0,h.u0=void 0,h.aK=void 0,h.z_=void 0,h.H_=void 0,h.o0=[],h.h0=[],h.a0=function(t){return h.dispatchEvent(t)},h.c0=function(t){return h.f0(t)},h.v0=function(t){return h.d0(t)},h.qE=n.src,h.e0=n.type,h.r0=i,h.s0=e,h.u0=r,h.aK=s,h.cK=u,h.aK&&(h.aK.addEventListener("l0",h.a0),h.aK.addEventListener("_0",h.a0));var a=new VO(h.aK,h.cK,o);return h.z_=a.z_,h.H_=a.H_,h.GE=null,h.qE&&(h.cK&&h.cK.tl(),h.aK&&(h.aK.w0=h.qE)),h}S(n,t);var i=n.prototype;return i.g0=function(t){this.cK&&this.cK.Qo(t),this.aK&&this.aK.y0(),this.GE&&this.m0()},i.p0=function(){this.cK&&this.cK.p0(),this.aK&&this.aK.k0()},i.b0=function(){if(this.aK)for(var t=0;t<WO.length;t++){var n=WO[t];this.aK.addEventListener(n,this.c0)}if(this.cK)for(var i=0;i<XO.length;i++){var e=XO[i];this.cK.addEventListener(e,this.v0)}},i.A0=function(){if(this.aK)for(var t=0;t<WO.length;t++){var n=WO[t];this.aK.removeEventListener(n,this.c0)}if(this.cK)for(var i=0;i<XO.length;i++){var e=XO[i];this.cK.removeEventListener(e,this.v0)}},i.m0=function(){if(this.aK&&this.o0.length){var t=this.o0.slice();es(this.o0);for(var n=0;n<t.length;n++){var i=t[n];this.aK.dispatchEvent(i)}}if(this.cK&&this.h0.length){var e=this.h0.slice();es(this.h0);for(var r=0;r<e.length;r++){var s=e[r];this.cK.dispatchEvent(s)}}},i.f0=function(t){this.o0.push(t)},i.d0=function(t){this.h0.push(t)},i.ov=function(){this.dispatchEvent("ov"),this.Vr(),this.cK&&this.cK.ov(),this.u0&&this.u0.ov(),this.aK&&this.aK.ov(),this.i0=null,es(this.o0),es(this.h0)},A(n,[{key:"GE",get:function(){return this.i0},set:function(t){this.A0(),this.i0=t,this.GE?this.dispatchEvent("uh"):this.b0()}}]),n}(QP),GO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).GK=null,n.Mr=function(t){n.dispatchEvent(t,!0)},n}return S(n,t),A(n,[{key:"kK",get:function(){var t=this.GK&&this.GK.WK.Q$;return t?t.ll:null},set:function(t){var n;this.GK&&(n=null===t?yO(this.GK.WK.i$.KZ):this.GK.WK.i$.KZ.filter(function(n){return t===n.ll}).shift(),this.GK.WK.Q$=n||null)}},{key:"zK",get:function(){return this.GK&&this.GK.T0||null},set:function(t){this.GK&&(this.GK.S0(t),this.dispatchEvent("gK"))}},{key:"aK",get:function(){return this.GK},set:function(t){this.GK&&(this.GK.WK.removeEventListener("eK",this.Mr),this.GK.WK.removeEventListener("renditionUpdated",this.Mr),this.GK.WK.removeEventListener("Y$",this.Mr)),this.GK=t,this.GK&&(this.GK.WK.addEventListener("eK",this.Mr),this.GK.WK.addEventListener("renditionUpdated",this.Mr),this.GK.WK.addEventListener("Y$",this.Mr))}}]),n}(QP),QO=function(){function t(){}var n=t.prototype;return n.E0=function(t){return ge.resolve(!1)},n.I0=function(t){return ge.reject(YO)},n.R0=function(t){return ge.reject(YO)},n.hs=function(t){return ge.resolve(!1)},n.as=function(t){return ge.resolve(void 0)},n.Mj=function(t,n){return ge.resolve(void 0)},n.N0=function(t){return ge.resolve([])},n.D0=function(){return ge.resolve([])},n.C0=function(t){return ge.resolve([])},n.x0=function(t,n){return ge.resolve([])},n.Yo=function(t){return ge.reject(YO)},n.P0=function(t){return ge.reject(YO)},n.O0=function(){return ge.reject(YO)},t}(),YO="Storage disabled",jO=function(){function t(){this.B0=void 0,this.L0=void 0,this.M0=void 0,this.U0=void 0,this.F0=void 0,this.B0=new QO,this.L0=new QO,this.M0=new QO,this.U0=new QO,this.F0=new QO}return t.gY=function(){return ge.resolve(new t)},t.prototype.H0=function(t){return ge.reject(ZO)},t}(),ZO="Storage disabled",JO=function(){function t(t){var n=this;this.Nr=new Zu,this.z0=void 0,this.Nr.Is(t),this.Nr.Ts.then(function(t){n.z0=t})}var n=t.prototype;return n.E0=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.E0(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.I0=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.z0,e.t0){e.next=5;break}return e.next=4,tr.awrap(this.V0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.I0(t,n));case 7:case"end":return e.stop()}},null,this,null,ge)},n.R0=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.z0,e.t0){e.next=5;break}return e.next=4,tr.awrap(this.V0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.R0(t,n));case 7:case"end":return e.stop()}},null,this,null,ge)},n.hs=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.hs(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.as=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.as(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.Mj=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.z0,e.t0){e.next=5;break}return e.next=4,tr.awrap(this.V0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.Mj(t,n));case 7:case"end":return e.stop()}},null,this,null,ge)},n.N0=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.N0(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.D0=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.z0,n.t0){n.next=5;break}return n.next=4,tr.awrap(this.V0);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.D0());case 7:case"end":return n.stop()}},null,this,null,ge)},n.C0=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.C0(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.x0=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.z0,e.t0){e.next=5;break}return e.next=4,tr.awrap(this.V0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.x0(t,n));case 7:case"end":return e.stop()}},null,this,null,ge)},n.Yo=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Yo(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.P0=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.z0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.V0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.P0(t));case 7:case"end":return i.stop()}},null,this,null,ge)},n.O0=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.z0,n.t0){n.next=5;break}return n.next=4,tr.awrap(this.V0);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.O0());case 7:case"end":return n.stop()}},null,this,null,ge)},A(t,[{key:"V0",get:function(){return this.Nr.Ts}}]),t}(),$O=function(){function t(t){var n=this;this.Nr=new Zu,this.W0=void 0,this.L0=void 0,this.B0=void 0,this.M0=void 0,this.U0=void 0,this.F0=void 0,this.Nr.Is(t);var i=this.Nr.Ts;i.then(function(t){n.W0=t}),this.L0=new JO(i.then(function(t){return t.L0})),this.B0=new JO(i.then(function(t){return t.B0})),this.M0=new JO(i.then(function(t){return t.M0})),this.U0=new JO(i.then(function(t){return t.U0})),this.F0=new JO(i.then(function(t){return t.F0}))}return t.prototype.H0=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.W0,i.t0){i.next=5;break}return i.next=4,tr.awrap(this.X0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,tr.awrap(n.H0(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,ge)},A(t,[{key:"X0",get:function(){return this.Nr.Ts}}]),t}(),KO=function(){function t(){this.uu=[]}var n=t.prototype;return n.E0=function(t){return ge.resolve("temporary"===t)},n.I0=function(t){return this.q0(t.key),this.uu.push(t),ge.resolve()},n.R0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.q0(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.uu.push(r)}return ge.resolve()},n.hs=function(t){return ge.resolve(Boolean(this.G0(t)))},n.as=function(t){return ge.resolve(this.G0(t))},n.Mj=function(t,n){return ge.resolve(this.Q0(t,n))},n.N0=function(t){var n=this,i=t?t.map(function(t){return n.G0(t)}):this.uu;return ge.resolve(i.filter(F))},n.D0=function(){return ge.resolve([].concat(this.uu))},n.C0=function(t){return this.x0(t,"key")},n.x0=function(t,n){var i=this.uu.filter(function(i){return i[n]===t});return ge.resolve(i)},n.Yo=function(t){return this.q0(t),ge.resolve()},n.P0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.q0(i)}return ge.resolve()},n.O0=function(){return es(this.uu),ge.resolve()},n.G0=function(t){return this.Q0(t,"key")},n.Q0=function(t,n){for(var i=0,e=this.uu;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.q0=function(t){var n=this.G0(t);n&&ts(this.uu,n)},t}(),tB=function(){function t(){this.B0=void 0,this.L0=void 0,this.M0=void 0,this.U0=void 0,this.F0=void 0,this.B0=new KO,this.L0=new KO,this.M0=new KO,this.U0=new KO,this.F0=new KO}return t.gY=function(){return ge.resolve(new t)},t.prototype.H0=function(t){return t(this)},t}(),nB=function(){function t(t){this.Y0=t}var n=t.prototype;return n.E0=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Y0;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,tr.awrap(e.E0(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ge)},n.I0=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Y0;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,tr.awrap(r.E0(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.I0(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ge)},n.R0=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Y0;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,tr.awrap(r.E0(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.R0(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ge)},n.hs=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Y0;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,tr.awrap(e.hs(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ge)},n.as=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Y0;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,tr.awrap(e.as(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,ge)},n.Mj=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Y0;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,tr.awrap(r.Mj(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,ge)},n.N0=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Y0;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,tr.awrap(r.N0(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ge)},n.D0=function(){var t,n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Y0;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,tr.awrap(e.D0());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,ge)},n.C0=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Y0;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,tr.awrap(r.C0(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ge)},n.x0=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Y0;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,tr.awrap(s.x0(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,ge)},n.Yo=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Y0;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,tr.awrap(e.Yo(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ge)},n.P0=function(t){var n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Y0;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,tr.awrap(e.P0(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ge)},n.O0=function(){var t,n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Y0;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,tr.awrap(i.O0());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,ge)},t}();function iB(t){return function(){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(ge.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",eB.gY(n));case 4:case"end":return i.stop()}},null,null,null,ge)}}var eB=function(){function t(t){this.j0=void 0,this.Z0=void 0,this.J0=void 0,this.$0=void 0,this.K0=void 0,this.n1=void 0,this.j0=t,this.Z0=new nB(t.map(function(t){return t.U0})),this.J0=new nB(t.map(function(t){return t.F0})),this.$0=new nB(t.map(function(t){return t.M0})),this.K0=new nB(t.map(function(t){return t.B0})),this.n1=new nB(t.map(function(t){return t.L0}))}return t.gY=function(n){return ge.resolve(new t(n))},t.prototype.H0=function(n){var i=this;if(0===this.j0.length)return n(this);var e=[],r=0;return this.j0[r].H0(function s(u){return e.push(u),++r<i.j0.length?i.j0[r].H0(s):n(new t(e))})},A(t,[{key:"U0",get:function(){return this.Z0}},{key:"F0",get:function(){return this.J0}},{key:"M0",get:function(){return this.$0}},{key:"B0",get:function(){return this.K0}},{key:"L0",get:function(){return this.n1}}]),t}(),rB=function(){function t(t){this.i1=void 0,this.e1=[],this.s1=!0,this.i1=t}var n=t.prototype;return n.gY=function(){return new $O(this.u1())},n.u1=function(){var t,n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.s1){e.next=4;break}return e.next=3,tr.awrap(ge.resolve());case 3:this.s1=!1;case 4:t=0,n=this.e1;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,tr.awrap(iB([tB.gY,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,tr.awrap(iB([tB.gY,this.i1])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],ge)},n.qB=function(t){if(!this.s1)throw new v("Registration overdue");this.e1.push(t)},t}(),sB=function(){function t(){}return t.qB=function(n){t.pS.qB(n)},A(t,null,[{key:"In",get:function(){return t.o1||(t.o1=t.pS.gY()),t.o1}}]),t}();function uB(t){return jl(t)}function oB(t,n){var i=jl(t);return n?""+i+n:""+i}function hB(t,n,i,e,r,s,u,o){var h=new wc;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new ql({Lf:t,Cf:i,Df:h,rv:s,Kf:Hl.GET,tr:zl.Hf,nv:e,ev:r,Pr:u,sv:o})}sB.pS=new rB(jO.gY),sB.o1=void 0;var aB=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Yp=void 0,a.SZ=void 0,a.Cf=void 0,a.nv=void 0,a.ev=void 0,a.h1=void 0,a.uA=void 0,a.a1=void 0,a.c1=void 0,a.eC=void 0,a.f1=void 0,a.pv=null,a.v1=void 0,a.mf=new as,a.d1=function(t,n){return a.sv(t,n)},a.Yp=n,a.SZ=i,a.Cf=e,a.nv=r,a.ev=s,a.h1=u,a.eC=o,a.f1=new fB,a.uA=h,a.a1=sB.In.B0,a.c1=sB.In.L0,a}S(n,t);var i=n.prototype;return i.aI=function(){return this.l1(this.mf.Pr)},i.l1=function(t){var n,i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return lO(n=this.SZ)?(i=n.SZ,e=[n.EZ.aI,n.EZ.fI]):(i=n,e=void 0),this.f1._1(),h.prev=3,h.next=6,tr.awrap(this.w1(i,e));case 6:if(r=h.sent,vs(t),r){h.next=12;break}return h.next=11,tr.awrap(this.g1(i,e,t));case 11:r=h.sent;case 12:return h.next=14,tr.awrap(r.ai());case 14:s=h.sent,vs(t),this.m1(s,r.Nf),h.next=28;break;case 19:if(h.prev=19,h.t0=h.catch(3),!fs(h.t0)){h.next=25;break}return h.abrupt("return");case 25:o=h.t0 instanceof i_?h.t0.pv.Nf:0,u=new v('Could not load fragment: "'+this.SZ+'", HTTP status '+o);case 27:return h.abrupt("return",this.b1(u));case 28:case"end":return h.stop()}},null,this,[[3,19]],ge)},i.w1=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=oB(t,n),u.next=4,tr.awrap(this.a1.hs(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,tr.awrap(this.c1.as(i));case 7:return e=u.sent,r=hB(t,n,this.Cf,this.nv,this.ev,this.h1),s=e.data.buffer,u.abrupt("return",new Xl({ai:s,Df:{},Of:r,Bf:t,Cf:this.Cf,Nf:200,xf:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],ge)},i.g1=function(t,n,i){var e=hB(t,n,this.Cf,this.nv,this.ev,this.h1,i,this.d1);return this.uA.Of(e)},i.sv=function(t,n){var i={type:"$K",Of:this,A1:t,T1:n=void 0===n?NaN:n};this.f1.S1(t,n),this.dispatchEvent(i)},i.m1=function(t,n){var i=this.Cf===_c.Ha?t.byteLength:0;this.f1.E1(i),this.Cf===_c.Pn?this.pv=t:this.pv=new m(t),this.v1=n,t=null,this.b1(),this.pv=null},i.Dr=function(t){return this.mf.Dr(),t||((t=new v('Aborted fragment load: "'+this.SZ+'"')).aborted=!0),this.b1(t)},i.b1=function(t){this.f1.I1();var n={type:"G_",Of:this};return this.dispatchEvent(n),this.eC(t||null,this)},n}(QP);function cB(){return XE()/1e3}var fB=function(t){function n(){var n;return(n=t.call(this)||this).R1=NaN,n.N1=NaN,n.D1=NaN,n.C1=NaN,n.P1=0,n.O1=NaN,n.R1=cB(),n}S(n,t);var i=n.prototype;return i._1=function(){this.R1=cB(),this.dispatchEvent("jo")},i.S1=function(t,n){this.D1=cB(),this.l0||(this.N1=this.D1),this.P1=t,this.O1=n||this.O1||NaN,this.dispatchEvent("jo")},i.E1=function(t){this.S1(t,t)},i.I1=function(){this.C1=cB(),this.dispatchEvent("jo")},A(n,[{key:"l0",get:function(){return!y(this.N1)}},{key:"B1",get:function(){return!y(this.C1)}},{key:"E_",get:function(){return(this.N1||cB())-this.R1}},{key:"L1",get:function(){return(this.C1||this.D1)-this.N1}},{key:"M1",get:function(){return(this.C1||this.D1)-this.R1}}]),n}(QP),vB=function(t){function n(n,i){var e;return(e=t.call(this)||this).h1=void 0,e.U1=[],e.F1=null,e.H1=function(t){return e.z1(t)},e.uA=void 0,e.h1=!(!i||i.crossOrigin!==Ng.Jl),e.uA=n,e}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i,e,r,s){var u=new aB(t,n,i,e,r,this.h1,s,this.uA);return u.addEventListener("G_",this.H1),this.U1.push(u),this.V1(),u},i.W1=function(t,n,i,e,r){var s=this;return new ge(function(u,o){s.Qo(t,n,i,e,r,function(t,n){t?o(t):u(n.pv)})})},i.vs=function(t,n){var i=function(t){return!n||t.Yp===n},e=this.U1.filter(i);!t&&this.F1&&i(this.F1)&&e.push(this.F1);for(var r=0;r<e.length;r++){e[r].Dr()}return e},i.V1=function(){if(!this.F1){var t=this.U1.shift();t&&(this.F1=t,t.aI())}},i.z1=function(t){var n=t.Of,i=this.U1.indexOf(n);-1!==i&&ns(this.U1,i),this.F1===n&&(this.F1=null,this.V1())},n}(QP);function dB(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function lB(t){return{get length(){return t.length},start:function(n){return dB(t,n|=0),t.start(n)},end:function(n){return dB(t,n|=0),t.end(n)}}}function _B(t,n){return t.aI-n.aI}var wB=function(){function t(t){this.X1=void 0,this.X1=t}var n=t.prototype;return n.start=function(t){return this.X1[t].aI},n.end=function(t){return this.X1[t].fI},n.q1=function(){return this.X1},A(t,[{key:"length",get:function(){return this.X1.length}}]),t}(),gB=new wB([]),yB=new wB([{aI:-1/0,fI:1/0}]);function mB(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({aI:r,fI:s}),r=o,s=h))}return e.push({aI:r,fI:s}),new wB(e)}(function(t){var n=TB(t);return n.sort(_B),new wB(n)}(t),n)}function pB(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=_.max(t.start(e),n.start(r)),u=_.min(t.end(e),n.end(r));s<u&&i.push({aI:s,fI:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new wB(i)}function kB(t){var n=t.length;if(!n)return yB;var i=[],e=t.start(0);e!==-1/0&&i.push({aI:-1/0,fI:e});for(var r=0;r<n-1;r+=1)i.push({aI:t.end(r),fI:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({aI:s,fI:1/0}),new wB(i)}function bB(t,n){return-1!==AB(t,n)}function AB(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function TB(t){if(t instanceof wB)return t.q1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({aI:t.start(i),fI:t.end(i)});return n}function SB(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(TB)),mB(new wB(r));var i,e,r}var EB=.001;function IB(t,n,i){return i=+i||0,t.aI-i<=n.fI&&n.aI<=t.fI+i}function RB(t){var n={aI:NaN,fI:NaN,Kj:t};return NB(n),n}function NB(t){var n=t.Kj;n.length?(n.sort(_B),t.aI=n[0].aI,t.fI=n[n.length-1].fI):(t.aI=NaN,t.fI=NaN)}function DB(t){return void 0!==t.Kj}function CB(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=_.max(s.aI,n),o=_.min(s.fI,i);if(u<o){var h=void 0;h=s.aI===u&&s.fI===o?s:{aI:u,fI:o,ik:s.ik},e.push(h)}}return e}function xB(t,n){var i=_.min(t.aI,n.aI),e=_.max(t.fI,n.fI),r=t.Kj,s=n.Kj,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.ik===h.ik&&IB(o,h,EB)&&u.splice(r.length-1,2,function(t,n){var i=t.ik||n.ik;return{aI:_.min(t.aI,n.aI),fI:_.max(t.fI,n.fI),ik:i}}(o,h)),RB(u=CB(u,i,e))}var PB,OB,BB,LB=function(){function t(t,n){this.X1=void 0,this.X1=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;DB(e)?NB(r=e):r=RB([e]),r.Kj.length&&r.aI<r.fI&&n.push(r)}return n}(t),n||this.G1()}var n=t.prototype;return n.start=function(t){return this.X1[t]&&this.X1[t].aI},n.end=function(t){return this.X1[t]&&this.X1[t].fI},n.Kj=function(t){return this.X1[t]&&this.X1[t].Kj},n.Q1=function(t,n){return this.Y1(t,t,n)},n.Y1=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.j1=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.Z1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.J1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Nw=function(t){return-1!==this.Q1(t)},n.xI=function(t,n,i){return-1!==this.Y1(t,n,i)},n.BI=function(t,n,i){return-1!==this.j1(t,n,i)},n.bI=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=_.max(this.start(i),t.start(e)),s=_.min(this.end(i),t.end(e));if(r<s){var u=CB(this.Kj(i),r,s);n.push(RB(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.gY(n,!0)},n.xg=function(t){return this.length&&t.length?this.bI(kB(t)):this},n.RI=function(t){return this.length?t.length?this.gY(this.X1.concat(t.X1)):this:t},n.K1=function(t){for(var n=[],i=0,e=this.X1;i<e.length;i++)for(var r=0,s=e[i].Kj;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.gY(n)},n.UI=function(t){return this.K1(function(n){return t(n)?n:null})},n.n2=function(){if(!this.length)return this;for(var t=this.X1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.i2(i,e)&&(t.splice(n,2,xB(i,e)),n-=1)}return this.gY(t,!0)},n.i2=function(t,n){var i=t.Kj,e=n.Kj,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.e2(r,s)},n.G1=function(){var t=this.X1;t.sort(_B);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&IB(i,e,EB)&&(t.splice(n,2,xB(i,e)),n-=1)}},A(t,[{key:"length",get:function(){return this.X1.length}}]),t}(),MB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.gY=function(t,i){return new n(t,i)},i.e2=function(t,n){return n.ik.AJ===t.ik.AJ&&n.ik.Pj===t.ik.Pj+1},n}(LB);function UB(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.s2(r),u=t.u2(r,s);i.push({aI:s.kg(),fI:u.kg(),ik:r})}return new MB(i).n2()}function FB(t){return t.o2!==PB.h2}function HB(t){return 0===t.o2}function zB(t){return t.o2>=0}function VB(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.Kj(e);s<u.length;s++){var o=u[s];if(!r){var h=o.ik;if(_O(h)&&FB(h)){if((r=zB(h))&&!HB(h)){var a=t.a2(h,h.c2).kg();o={aI:_.max(o.aI,a),fI:o.fI,ik:h}}}else r=!0;0}r&&i.push(o)}return new MB(i)}(OB=PB||(PB={})).h2=-1,OB.f2=-2,function(t){t.v2="h.264",t.d2="mp3",t.l2="aac-lc",t._2="he-aac"}(BB||(BB={}));var WB,XB,qB,GB,QB=function(){function t(){this.w2=0,this.X1=[],this.Xb={}}var n=t.prototype;return n.g2=function(t){this.X1=this.X1.concat(t.X1),this.w2+=t.il},n.m2=function(t,n,i){var e=this.w2,r=i-n;r>0&&(this.X1.push({b2:n,A2:i,T2:r,S2:e,E2:t}),this.w2+=r)},n.as=function(t){for(var n=0,i=this.X1;n<i.length;n++){var e=i[n];if(e.S2<=t&&t<e.S2+e.T2)return e.E2[t+e.b2-e.S2]}},n.I2=function(t,n){for(var i=n,e=0,r=this.X1;e<r.length;e++)for(var s=r[e],u=s.A2,o=s.b2;o<u;o+=1,i+=1)t[i]=s.E2[o];return i},n.R2=function(){for(var t=new m(this.w2),n=0,i=0,e=this.X1;i<e.length;i++)for(var r=e[i],s=r.A2,u=r.b2;u<s;u+=1,n+=1)t[n]=r.E2[u];return t},n.ys=function(n){for(var i=new t,e=0,r=this.X1;e<r.length;e++){var s=r[e];i.m2(s.E2,s.b2,s.A2)}return i.Xb=n||nr({},this.Xb),i},A(t,[{key:"il",get:function(){return this.w2},set:function(t){var n=this.X1,i=this.w2-t;if(!(t>=this.w2))if(this.w2=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.T2)return r.A2-=i,r.T2-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.T2}else n.length=0}},{key:"ai",get:function(){for(var t=new Array(this.w2),n=0,i=0,e=this.X1;i<e.length;i++)for(var r=e[i],s=r.A2,u=r.b2;u<s;u+=1,n+=1)t[n]=r.E2[u];return t}}]),t}();function YB(t,n){return{audio:t.audio?nL(t.audio,n):void 0,video:t.video?oL(t.video,n):void 0,N2:t.N2?(i=t.N2,{D2:i.D2,M$:i.M$,Sl:i.Sl,C2:i.C2,P2:i.P2,O2:i.O2,B2:i.B2.map(jB),Dl:[]}):void 0,L2:t.L2?t.L2.map(JB):t.L2,M2:t.M2.Hy()};var i}function jB(t){return{lp:t.lp,Xb:{U2:t.Xb.U2,F2:t.Xb.H2.Hy()},bH:t.bH}}function ZB(t){return{lp:t.lp,Xb:{U2:t.Xb.U2,H2:zm(t.Xb.F2)},bH:t.bH}}function JB(t){return{H2:t.H2.Hy(),ub:t.ub,jG:t.jG,YG:t.YG,tr:t.tr,SX:t.SX,ZG:t.ZG,JG:t.JG}}function $B(t){return{H2:zm(t.H2),ub:t.ub,jG:t.jG,YG:t.YG,tr:t.tr,SX:t.SX,ZG:t.ZG,JG:t.JG}}function KB(t){return{D2:t.D2,bH:[],z2:t.z2,V2:t.V2,duration:t.duration,W2:t.W2,X2:t.X2.Hy(),q2:t.q2,G2:t.G2.Hy(),Q2:t.Q2,Y2:t.Y2.Hy(),j2:t.j2.Hy(),Z2:t.Z2.Hy(),J2:t.J2.Hy(),K2:t.K2.Hy(),n3:t.n3.Hy(),i3:t.i3.Hy()}}function tL(t){return{D2:t.D2,bH:[],z2:t.z2,V2:t.V2,duration:t.duration,W2:t.W2,X2:zm(t.X2),q2:t.q2,G2:zm(t.G2),Q2:t.Q2,Y2:zm(t.Y2),j2:zm(t.j2),Z2:zm(t.Z2),J2:zm(t.J2),K2:zm(t.K2),n3:zm(t.n3),i3:zm(t.i3)}}function nL(t,n){switch(t.z2){case BB.l2:case BB._2:return function(t,n){return nr({},eL(t),{z2:t.z2,bH:t.bH.map(function(t){return function(t,n){var i=(e=t.Xb,nr({},cL(e),{e3:e.e3,r3:e.r3,s3:e.s3}));var e;return sL(t.ys(i),n)}(t,n)}),t$:t.t$,u3:t.u3})}(t,n);case BB.d2:return function(t,n){return nr({},eL(t),{z2:t.z2,bH:t.bH.map(function(t){return function(t,n){var i=(e=t.Xb,nr({},cL(e),{mp:e.mp,jp:e.jp,o3:e.o3,h3:e.h3,a3:e.a3}));var e;return sL(t.ys(i),n)}(t,n)})})}(t,n)}}function iL(t){switch(t.z2){case BB.l2:case BB._2:return function(t){return nr({},rL(t),{z2:t.z2,bH:t.bH.map(function(t){return function(t){var n=uL(t),i=(e=n.Xb,nr({},fL(e),{e3:e.e3,r3:e.r3,s3:e.s3}));var e;return n.ys(i)}(t)}),t$:t.t$,u3:t.u3})}(t);case BB.d2:return function(t){return nr({},rL(t),{z2:t.z2,bH:t.bH.map(function(t){return function(t){var n=uL(t),i=(e=n.Xb,nr({},fL(e),{mp:e.mp,jp:e.jp,o3:e.o3,h3:e.h3,a3:e.a3}));var e;return n.ys(i)}(t)})})}(t)}}function eL(t){return nr({},KB(t),{bH:[],z2:t.z2,c3:t.c3,f3:t.f3,v3:t.v3,d3:t.d3})}function rL(t){return nr({},tL(t),{bH:[],z2:t.z2,c3:t.c3,f3:t.f3,v3:t.v3,d3:t.d3})}function sL(t,n){var i=t.R2();return n.push(i.buffer),{l3:i,_3:t.il,w3:t.Xb}}function uL(t){var n=new QB;return n.m2(t.l3,0,t._3),n.Xb=t.w3,n}function oL(t,n){return nr({},KB(t),{z2:t.z2,bH:t.bH.map(function(t){return function(t,n){var i=(e=t.Xb,nr({},hL(e),{v_:e.v_,g3:e.g3.Hy(),y3:e.y3,m3:e.m3,b3:e.b3&&e.b3.Hy(),A3:e.A3&&e.A3.Hy(),T3:e.T3,S3:e.S3,L2:e.L2,E3:e.E3}));var e;return sL(t.ys(i),n)}(t,n)}),I3:t.I3,R3:t.R3,Lk:t.Lk,width:t.width,height:t.height,N3:t.N3,D3:t.D3,C3:t.C3,YJ:t.YJ,jJ:t.jJ,Yk:t.Yk,jk:t.jk})}function hL(t){var n;return nr({},{U2:(n=t).U2,F2:n.F2.Hy()},{x3:t.x3.Hy(),P3:t.P3.Hy()})}function aL(t){var n;return nr({},{U2:(n=t).U2,F2:zm(n.F2)},{x3:zm(t.x3),P3:zm(t.P3)})}function cL(t){return nr({},hL(t))}function fL(t){return nr({},aL(t))}!function(t){t.O3="B3",t.L3="M3"}(WB||(WB={})),function(t){t.U3="F3",t.Ej="H3"}(XB||(XB={})),function(t){t.z3="V3",t.L3="M3"}(qB||(qB={})),function(t){t.W3="X3",t.q3="G3"}(GB||(GB={}));var vL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(Rs),dL=["message","messageerror","error"],lL=function(t){function n(n){var i;return(i=t.call(this,lg.Tl)||this).error=n,i}return S(n,t),n}(Rs),_L=function(t){function n(n){var i;return(i=t.call(this)||this).Q3=void 0,i.Y3=void 0,i.j3=[],i.Z3=function(t){if(i.J3)t.K3();else{i.Q3=t,i.Q3.Fr(dL,i.Mr);for(var n=0,e=i.j3;n<e.length;n++){var r=e[n];t.t4(r.Zr,r.n4)}es(i.j3)}},i.i4=function(t){if(!i.J3){var n=t instanceof v?t:new v("Could not create Worker.");i.Ur(new lL(n)),i.K3()}},i.Y3=new as,n(i.Y3.Pr).then(i.Z3,i.i4),i}S(n,t);var i=n.prototype;return i.t4=function(t,n){this.J3||(void 0!==this.Q3?this.Q3.t4(t,n):this.j3.push({Zr:t,n4:n}))},i.K3=function(){this.J3||(this.Y3.Dr(),es(this.j3),void 0!==this.Q3&&this.Q3.K3())},A(n,[{key:"J3",get:function(){return this.Y3.Pr.yr}}]),n}(Es);var wL=function(t){function n(n){var i;return(i=t.call(this)||this).Q3=void 0,i.e4=function(t){i.Ur(new vL("message",t.data))},i.r4=function(t){i.Ur(new vL("messageerror",t.data))},i.eW=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Ur(new lL(n)),i.K3()},i.Q3=new p(n),i.Q3.addEventListener("message",i.e4),i.Q3.addEventListener("messageerror",i.r4),i.Q3.addEventListener("error",i.eW),i}S(n,t);var i=n.prototype;return i.t4=function(t,n){n?this.Q3.postMessage(t,n):this.Q3.postMessage(t)},i.K3=function(){this.Vr(),this.Q3.removeEventListener("message",this.e4),this.Q3.removeEventListener("messageerror",this.r4),this.Q3.removeEventListener("error",this.eW),this.Q3.terminate()},n}(Es),gL=0,yL="iframe.html",mL=function(n){function e(e,r){var u;(u=n.call(this)||this).Oo=void 0,u.s4=void 0,u.u4=void 0,u.o4=void 0,u.h4=function(){u.u4.removeEventListener("load",u.h4),u.u4.contentWindow.postMessage({type:"initialize",id:u.Oo,script:u.s4},"*")},u.a4=function(t){t.origin===u.o4&&t.data.id===u.Oo&&("initialized"===t.data.type||("error"===t.data.type?(u.Ur(new lL(new v(t.data.data.message))),u.K3()):u.Ur(new vL("message",t.data.data))))},u.Oo=gL++,u.s4=e;var o,h,a=i.De(yL,r);return u.u4=(o=a.href,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.o4=a.origin,u.u4.addEventListener("load",u.h4),t.addEventListener("message",u.a4),u}S(e,n);var r=e.prototype;return r.t4=function(t,n){n?this.u4.contentWindow.postMessage({type:"message",data:t},"*",n):this.u4.contentWindow.postMessage({type:"message",data:t},"*")},r.K3=function(){var n;this.u4.removeEventListener("load",this.h4),t.removeEventListener("message",this.a4),null==(n=this.u4.contentWindow)||n.postMessage({type:"terminate"},"*"),Ee(this.u4)},e}(Es);function pL(t,n){return t=i.Ce(t,n),new _L(function(e){return function(t,n,e){var r,s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new wL(t),v.next=4,tr.awrap(bL(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.K3(),ds(v.t0);case 11:if(!kL||!vc){v.next=42;break}return v.prev=12,v.next=15,tr.awrap(i.md.Of({Lf:t,Kf:Hl.GET,Cf:_c.Pn,Pr:e}));case 15:return o=v.sent,v.next=18,tr.awrap(o.df(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),ds(v.t1),AL(v.t1);case 25:return v.prev=25,a=vc([u],{type:"application/javascript"}),h=URL.createObjectURL(a),r=new wL(h),v.next=31,tr.awrap(bL(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.K3(),ds(v.t2),kL=!1;case 39:return v.prev=39,h&&URL.revokeObjectURL(h),v.finish(39);case 42:return v.prev=42,r=new mL(t,n),v.next=46,tr.awrap(bL(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.K3(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],ge)}(t,n,e)})}var kL=!0;function bL(t,i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(t.Qr(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw AL(e.error);case 5:if(W(s=e.data)&&"3.4.0"===s.c4){r.next=7;break}throw new Ya(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (3.4.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,ge)}function AL(t){return new Ya(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}function TL(t){var n=t.video,i=n&&n.bH;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].Xb.T3)return e}return NaN}function SL(t){var n=t.f4.video,i=n&&n.bH;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].Xb.T3)return e}return NaN}function EL(t){if(!t)return null;switch(t.z2){case BB.v2:return function(t){return t.Lk?"avc1."+(t.N3<16?"0":"")+((t.N3<<16)+(t.D3<<8)+t.C3).toString(16):null}(t);case BB.d2:return"mp4a.40.34";case BB.l2:return t.u3?"mp4a.40.5":"mp4a.40.2";case BB._2:return"mp4a.40.5";default:return null}}function IL(t,n){var i=t.info,e=i.AJ,r=t.f4,s=e.iZ(t.info.Pj-1),u=r.audio||void 0,o=r.video||void 0,h=u&&EL(u),a=o&&EL(o),c=(!u||h)&&(!o||a)?{nJ:h,iJ:a}:null,f=u&&!y(u.Q2)?u.Q2:null,v=o&&!y(o.Q2)?o.Q2:null,d=Jm(u&&u.j2,o&&o.j2),l=Jm(u&&u.Z2,o&&o.Z2),w=$m(u&&u.n3,o&&o.n3),g=$m(u&&u.i3,o&&o.i3),m=o&&o.X2.Rw(Fm.Ry(o.duration)),p=u&&u.X2.Rw(Fm.Ry(u.duration)),k=_O(s),b=k&&s.width||e.resolution&&e.resolution.width,A=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),v4:i,duration:m&&p?Fm.ky(m,p).kg():(m||p||Fm.zg).kg(),d4:d,l4:l,_4:w,w4:g,audio:{start:_.max(0,f||0),duration:u&&u.W2||0,z2:h,xK:u&&u.q2,d4:u&&u.j2,l4:u&&u.Z2,_4:u&&u.n3,w4:u&&u.i3},video:{start:_.max(0,v||0),duration:o&&o.W2||0,z2:a,xK:o&&o.q2,d4:o&&o.j2,l4:o&&o.Z2,_4:o&&o.n3,w4:o&&o.i3},rB:o?{width:o.width||b,height:o.height||A}:null,Pj:i.Pj,size:n,quality:e,u$:c,g4:i.g4,y4:i.y4}}function RL(t,n){var i,e,r,s,u={start:0,duration:0,z2:null,xK:null,d4:null,l4:null,_4:null,w4:null};return"nJ"===n?(e=u,r=i=nr({},u,t.video),s=t.rB):(e=i=nr({},u,t.audio),r=u,s=null),{start:i.start,v4:t.v4,duration:i.duration,d4:i.d4,l4:i.l4,_4:i._4,w4:i.w4,audio:e,video:r,rB:s,Pj:t.Pj,size:t.size,quality:t.quality,u$:t.u$,g4:t.g4,y4:t.y4}}function NL(t,n){return t+"m4"+n.Pj+"b4"+n.uri}var DL=function(t){function i(i){var e;return(e=t.call(this)||this).Dh=void 0,e.A4=er(),e.T4=void 0,e.S4=void 0,e.E4=function(t){var n=t.data,i=n.I4;if(e.A4.get(i))switch(n.R4){case XB.U3:0;var r=n.N4;e.D4(i,r);break;case XB.Ej:var s=n.C4;e.x4(i,new ZP(jP.bj,{code:s}));default:0}},e.P4=function(t){var n,i,r,s,u=t.data,o=u.O4;if(e.A4.get(o))switch(u.B4){case GB.W3:0;var h=u.L4;e.M4(o,{audio:(n=h).audio?iL(n.audio):void 0,video:n.video?(r=n.video,s=tL(r),nr({},s,{z2:r.z2,bH:r.bH.map(function(t){return function(t){var n,i=uL(t),e=nr({},aL(n=i.Xb),{v_:n.v_,g3:zm(n.g3),y3:n.y3,m3:n.m3,b3:n.b3&&zm(n.b3),A3:n.A3&&zm(n.A3),T3:n.T3,S3:n.S3,L2:n.L2,E3:n.E3});return i.ys(e)}(t)}),I3:r.I3,R3:r.R3,Lk:r.Lk,width:r.width,height:r.height,N3:r.N3,D3:r.D3,C3:r.C3,YJ:r.YJ,jJ:r.jJ,Yk:r.Yk,jk:r.jk})):void 0,N2:n.N2?(i=n.N2,{D2:i.D2,M$:i.M$,Sl:i.Sl,C2:i.C2,P2:i.P2,O2:i.O2,B2:i.B2.map(ZB),Dl:[]}):void 0,L2:n.L2?n.L2.map($B):n.L2,M2:zm(n.M2)});break;case GB.q3:var a=u.U4;e.x4(o,new ZP(jP.bj,{code:a}));default:0}},e.F4=function(t){if(t.error instanceof Ya&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"Kr",Kr:new ZP(jP.Dj,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ut(i.Kr.info.code),e.dispatchEvent(i)}else 0},e.Dh=i,e.S4=e.H4(),e}S(i,t);var e=i.prototype;return e.Dr=function(t){var n=[];this.A4.forEach(function(i,e){t&&i.Yp!==t||n.push(e)}),this.z4(n)},e.z4=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.A4.delete(i)}if(t.length){if(this.T4){var e={V4:WB.L3,W4:t};this.T4.t4(e)}if(this.S4){var r={X4:qB.L3,q4:t};this.S4.t4(r)}}},e.x4=function(t,n){var i=this.A4.get(t);if(i){var e=i.eC;this.A4.delete(t),e(n)}},e.G4=function(t,n,i,e){this.T4||(this.T4=this.Q4());var r={V4:WB.O3,Y4:t,j4:n,Z4:i,J4:e};this.T4.t4(r)},e.K4=function(t,n){this.S4||(this.S4=this.H4());var i={X4:qB.z3,t6:t,n6:n,i6:this.A4.get(t).e6};this.S4.t4(i)},e.D4=function(t,n){this.K4(t,n)},e.Q4=function(){var t=pL("theoplayer.d.js",this.Dh.libraryLocation);return t.Fr("message",this.E4),t.Fr("error",this.F4),t},e.r6=function(t){var n=t.f4.video,i=n&&n.bH&&n.bH[0];i&&i.Xb.T3},e.M4=function(t,n){var i=this.A4.get(t),e=i.eC,r=i.s6,s={f4:n,info:i.u6,metadata:null};this.r6(s),function(t){var n=t.info.AJ.iZ(t.info.Pj-1),i=t.f4;t.info.y4=t.info.eZ,n&&(i.audio||i.video?i.video&&!i.video.R3&&!i.video.I3&&i.video.q2&&n.a$&&i.video.q2!==n.a$?t.info.y4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.y4=!0):t.info.y4=!0)}(s),IL(s,r),function(t){var n=t.info,i=n.AJ,e=t.metadata,r=t.f4;if(n.o6=Fm.Ry(e.duration),n.RZ=r.audio&&r.audio.X2.Rw(Fm.Ry(r.audio.duration))||Fm.zg,n.NZ=r.video&&r.video.X2.Rw(Fm.Ry(r.video.duration))||Fm.zg,n.h6=r.audio&&r.audio.X2||Fm.zg,n.a6=r.video&&r.video.X2||Fm.zg,n.c6=e.audio.d4,n.f6=e.audio.l4,n.v6=e.video.d4,n.d6=e.video.l4,n.IZ=e.d4,n.l6=e.l4,n._6=e.audio._4,n.w6=e.audio.w4,n.g6=e.video._4,n.y6=e.video.w4,n._4=e._4,n.w4=e.w4,r.video){var s=TL(t.f4),u=r.video.bH&&r.video.bH[s];u?(n.o2=s,n.c2=u.Xb.x3,n.m6=u.Xb.P3):n.o2=PB.f2}else n.o2=PB.h2;n.a$=r.video&&r.video.q2||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"m$",u6:t.info}),!i.resolution&&e.rB&&(i.resolution=e.rB),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.u$||i.u$&&!i.u$.nJ==!e.u$.nJ&&!i.u$.iJ==!e.u$.iJ||i.e$(e.u$),r.audio&&void 0!==r.audio.t$&&(i.t$=r.audio.t$),i.YJ=r.video&&r.video.YJ||i.YJ,i.jJ=r.video&&r.video.jJ||i.jJ,i.ZJ=r.audio&&r.audio.D2||void 0,i.JJ=r.video&&r.video.D2||void 0,i.$J=r.audio&&r.audio.z2||void 0,i.KJ=r.video&&r.video.z2||void 0,i.n$=r.audio&&r.audio.q2||void 0,i.a$=r.video&&r.video.q2||void 0}(s),this.A4.delete(t),e(null,s)},e.H4=function(){var t=pL("theoplayer.e.js",this.Dh.libraryLocation);return t.Fr("message",this.P4),t.Fr("error",this.F4),t},e.p6=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.A4.has(n)&&r.G4(n,s,t,e.iv)}).catch(function(t){i=void 0,r.A4.has(n)&&r.x4(n,t)})},e.k6=function(t,n,i,e,r,s){var u=NL(t,e),o=e.AJ;this.A4.set(u,{Yp:t,u6:e,e6:{b6:e.duration,u$:o.u$,YJ:o.YJ,jJ:o.jJ,ZJ:o.ZJ,JJ:o.JJ,$J:o.$J,KJ:o.KJ,t$:!this.Dh.skipImplicitHEAACDetection&&o.t$,A6:r},s6:i.length,eC:s}),e.key?this.p6(n,u,i,e.key):this.K4(u,i)},e.T6=function(t){var n=[];return this.A4.forEach(function(i){i.Yp===t&&n.push(i.u6)}),n},e.S6=function(t,n){var i=NL(t,n);return this.A4.has(i)},e.ov=function(){this.Dr(),this.T4&&(this.T4.K3(),this.T4=void 0),this.S4&&(this.S4.K3(),this.S4=void 0)},i}(QP);function CL(t,n){return t+"E6"+n}function xL(t){return CL(t.AJ.ll,t.Pj)}function PL(t){return!(!t||!t.f4)}var OL=function(){function t(t,n,i){this.I6=void 0,this.Fb=void 0,this.R6=[],this.N6=er(),this.D6=1,this.C6=void 0,this.Fb=t,this.I6=n,this.C6=i}var n=t.prototype;return n.x6=function(t){var n=xL(t.info);if(this.N6.has(n))this.P6(t.info,t);else{this.R6.push(n),this.N6.set(n,t);for(var i=this.I6.O6+10;this.R6.length>8*this.B6&&this.L6>i*this.B6;){var e=this.N6.get(this.R6[0]),r=this.C6.M6,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new eS([u,o]),a=r,c=a+this.I6.O6;if(new eS([a,c]).bI(h).il>0)break}this.N6.delete(this.R6.shift())}}},n.U6=function(t,n){var i=CL(t,n),e=this.N6.get(i),r=this.R6.indexOf(i);return!(!e||-1===r)&&(ns(this.R6,r),this.N6.delete(i),!0)},n.vs=function(){this.R6.length=0,this.N6.clear()},n.F6=function(){for(var t={},n=0,i=this.R6;n<i.length;n++){var e=i[n],r=this.N6.get(e);PL(r)&&(t[r.info.AJ.ll]=(t[r.info.AJ.ll]||0)+1)}return t},n.H6=function(t,n){var i=[],e=this.z6(t,n);if(!PL(e))return i;do{i.push(e),n+=1,e=this.z6(t,n)}while(PL(e));return i},n.V6=function(t,n){return!!this.z6(t,n)},n.W6=function(t,n){return PL(this.z6(t,n))},n.z6=function(t,n){return this.N6.get(CL(t,n))},n.P6=function(t,n){var i=xL(t),e=this.R6.indexOf(i);return-1!==e&&(ns(this.R6,e),this.R6.push(i),n&&this.N6.set(i,n),!0)},n.X6=function(){for(var t=[],n=0,i=this.R6;n<i.length;n++){var e=i[n],r=this.N6.get(e);t.push(r.info)}return t},n.q6=function(){for(var t=[],n=0,i=this.R6;n<i.length;n++){var e=i[n],r=this.N6.get(e);r&&PL(r)&&t.push(r.info)}return t},A(t,[{key:"L6",get:function(){for(var t=UB(this.Fb,this.X6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"B6",get:function(){return this.D6},set:function(t){t>0&&(this.D6=_.max(t,1))}}]),t}();var BL=L.dn?function(t,n){return Zm(t.x3,n.x3)}:function(t,n){return Zm(t.P3,n.P3)};function LL(t,n,i,e){if(!t)return i;if(!i)return t;if(t.z2===i.z2){var r,s,u=t.I3||i.I3;if(u)s=1/(r=t.G2.Rw(i.G2).ly(2)).kg();else{if(t.q2!==i.q2)return;if(!t.G2.cg(i.G2))return;r=t.G2,s=t.q2}if(t.width===i.width&&t.height===i.height){var o,h=t.R3||i.R3||!t.G2.cg(i.G2);if(t.bH)if(i.bH)if(e)o=t.bH.concat(i.bH),ML(t.bH,i.bH,FL);else{!function(t,n,i){var e=t.length,r=Fm.zg;t=Xr(t,function(t,n){return BL(t.Xb,n.Xb).Ag(Fm.zg)});for(var s=1;s<e;s+=1){var u=t[s-1].Xb,o=t[s].Xb,h=BL(o,u);h.Eg(Fm.zg)&&(h=n),r=r.Rw(h),u.g3=h,u.v_=h.kg()}if(e>0){var a=t[e-1].Xb,c=Fm.py(Fm.Ry(_.round(i-r.kg())),n);a.g3=c,a.v_=c.kg()}}(n.bH.concat(i.bH),r,n.duration+i.duration),o=t.bH.concat(i.bH),ML(t.bH,i.bH,FL)}else o=t.bH;else o=i.bH;return{z2:t.z2,N3:t.N3,C3:t.C3,D3:t.D3,q2:s,G2:r,I3:u,R3:h,width:t.width,height:t.height,YJ:t.YJ,jJ:t.jJ,Lk:t.Lk,duration:t.duration+i.duration,W2:t.W2+i.W2,X2:t.X2,Q2:t.Q2,Y2:t.Y2,j2:t.j2,Z2:t.Z2,J2:zL(i.J2,t.J2),K2:zL(i.K2,t.K2),n3:zL(i.n3,t.n3),i3:zL(i.i3,t.i3),bH:o,V2:t.V2||i.V2,Yk:t.Yk,jk:t.jk}}}}function ML(t,n,i){var e=n[0].Xb.F2,r=t[t.length-1].Xb.F2,s=e.xg(r),u=Zm(e,r).xg(s);if(!u.Gg())for(var o=0;o<n.length;o++){i(n[o].Xb,u)}}function UL(t,n){t.P3=t.P3.Rw(n),t.x3=t.x3.Rw(n),t.F2=t.F2.Rw(n)}function FL(t,n){UL(t,n),t.g3=t.g3.Rw(n),t.A3=HL(t.A3,n),t.b3=HL(t.b3,n)}function HL(t,n){if(t)return t.Rw(n)}function zL(t,n){return n.Rw(Zm(t,n))}function VL(t,n){var i={audio:void 0,video:void 0,M2:t.M2};if("video"===n){if(!t.audio)return i;i.audio={z2:t.audio.z2,q2:t.audio.q2,G2:t.audio.G2,duration:t.audio.duration,W2:t.audio.W2,X2:Fm.zg,Q2:t.audio.Q2,Y2:t.audio.Y2,j2:t.audio.j2,Z2:t.audio.Z2,J2:t.audio.J2,K2:t.audio.K2,n3:t.audio.n3,i3:t.audio.i3,bH:t.audio.bH,d3:t.audio.d3,v3:t.audio.v3,V2:t.audio.V2,c3:t.audio.c3,f3:t.audio.f3}}if("audio"===n){if(!t.video)return i;i.video={z2:t.video.z2,N3:t.video.N3,C3:t.video.C3,D3:t.video.D3,q2:t.video.q2,G2:t.video.G2,I3:t.video.I3,R3:t.video.R3,width:t.video.width,height:t.video.height,YJ:t.video.YJ,jJ:t.video.jJ,Yk:t.video.Yk,jk:t.video.jk,Lk:t.video.Lk,duration:t.video.duration,W2:t.video.W2,X2:Fm.zg,Q2:t.video.Q2,Y2:t.video.Y2,j2:t.video.j2,Z2:t.video.Z2,J2:t.video.J2,K2:t.video.K2,n3:t.video.n3,i3:t.video.i3,bH:t.video.bH,V2:t.video.V2}}return i}function WL(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.z2===n.z2||!t.z2||!n.z2)&&t.q2===n.q2&&t.G2.cg(n.G2)&&t.v3===n.v3)return t.bH?n.bH?(i=t.bH.concat(n.bH),ML(t.bH,n.bH,UL)):i=t.bH:i=n.bH,{z2:t.z2,q2:t.q2,G2:t.G2,duration:t.duration+n.duration,W2:t.W2+n.W2,X2:t.X2,Q2:t.Q2,Y2:t.Y2,j2:t.j2,Z2:t.Z2,J2:zL(n.J2,t.J2),K2:zL(n.K2,t.K2),n3:zL(n.n3,t.n3),i3:zL(n.i3,t.i3),bH:i,v3:t.v3,d3:t.d3,V2:t.V2||n.V2,c3:t.c3,f3:t.f3}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=LL(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,M2:t.M2}}}function XL(t){return VL(t,"audio")}function qL(t){return VL(t,"video")}var GL,QL,YL,jL=function(){function t(t){this.G6=void 0,this.sY=0,this.Q6=0,this.G6=_.exp(_.log(.5)/t)}var n=t.prototype;return n.Y6=function(t,n){var i=_.pow(this.G6,t),e=n*(1-i)+i*this.sY;y(e)||(this.sY=e,this.Q6+=t)},n.j6=function(){var t=1-_.pow(this.G6,this.Q6);return this.sY/t},t}(),ZL=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.Z6=void 0,this.J6=void 0,this.K6=0,this.t5=void 0,this.n5=5e5,this.Z6=new jL(t),this.J6=new jL(n),this.t5=i}var n=t.prototype;return n.Y6=function(t,n){var i=8e3*n/t,e=t/1e3;this.K6+=n,this.Z6.Y6(e,i),this.J6.Y6(e,i)},n.j6=function(){return this.i5()?_.min(this.Z6.j6(),this.J6.j6()):this.n5},n.i5=function(){return this.K6>=this.t5},t}(),JL=function(){function t(){this.Z6=new jL(2),this.J6=new jL(5),this.e5=0,this.r5=1,this.n5=100}var n=t.prototype;return n.Y6=function(t){this.e5+=1,this.Z6.Y6(1,t),this.J6.Y6(1,t)},n.j6=function(){return this.i5()?_.min(this.Z6.j6(),this.J6.j6()):this.n5},n.i5=function(){return this.e5>=this.r5},t}(),$L=function(){function t(t,n){var i=this;this.s5=void 0,this.Of=void 0,this.f1=void 0,this.u5=!1,this.o5=0,this.h5=0,this.a5=function(){return i.c5()},this.s5=t,this.Of=n,this.f1=n.f1,this.f1.addEventListener("jo",this.a5)}return t.prototype.c5=function(){var t=this.f1.P1,n=1e3*this.f1.L1,i=1e3*this.f1.E_;this.f1.l0&&(this.u5||(this.s5.f5(i),this.u5=!0),n>this.h5&&(this.s5.v5(n-this.h5,t-this.o5),this.o5=t,this.h5=n))},t}(),KL=function(){function t(){this.d5=void 0,this.l5=void 0,this.d5=new ZL,this.l5=new JL}var n=t.prototype;return n._5=function(t){new $L(this,t)},n.v5=function(t,n){this.d5.Y6(t,n)},n.f5=function(t){this.l5.Y6(t)},n.ov=function(){},A(t,[{key:"w5",get:function(){return this.l5.j6()/1e3}},{key:"g5",get:function(){return this.d5.j6()}}]),t}(),tM=function(){function t(){this.y5=er()}var n=t.prototype;return n.m5=function(t,n){var i,e,r=this.y5.get(t);return void 0!==r&&(i=r.SZ,e=n,X(i)?i===e:function(t,n){return t.SZ===n.SZ&&t.EZ.aI===n.EZ.aI&&t.EZ.fI===n.EZ.fI}(i,e))},n.p5=function(t,n){if(this.m5(t,n))return this.y5.get(t).ai},n.k5=function(t,n,i){this.y5.set(t,{SZ:n,ai:i})},n.vs=function(){this.y5.clear()},t}();!function(t){t[t.b5=0]="b5",t[t.A5=5]="A5",t[t.T5=13]="T5",t[t.S5=14]="S5",t[t.E5=15]="E5"}(GL||(GL={})),function(t){t[t.I5=0]="I5",t[t.R5=1]="R5",t[t.N5=2]="N5",t[t.D5=11]="D5",t[t.C5=13]="C5",t[t.x5=14]="x5"}(QL||(QL={})),function(t){t[t.P5=0]="P5",t[t.O5=1]="O5",t[t.B5=2]="B5",t[t.L5=3]="L5",t[t.M5=4]="M5",t[t.U5=5]="U5",t[t.F5=6]="F5",t[t.H5=7]="H5"}(YL||(YL={}));var nM=5,iM=5,eM=.5;function rM(t){if(!t.f4.video)return[];for(var n=[],i=0;i<t.f4.video.bH.length;i++){var e=t.f4.video.bH[i].Xb;e.T3&&n.push({z5:i,V5:e.x3})}return n}var sM=Fm.Ry(.04),uM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).I6=void 0,s.Dh=void 0,s.W5=void 0,s.uA=void 0,s.X5=void 0,s.q5=void 0,s.G5=void 0,s.Q5=er(),s.Y5=void 0,s.j5=er(),s.Z5=1,s.Dh=n,s.W5=i,s.uA=e,s.X5=new tM,s.I6=r,s.q5=new vB(e,n),s.G5=new KL,s.Y5=new DL(n),s.Y5.addEventListener("Kr",function(t){s.dispatchEvent(t)}),s}S(n,t);var i=n.prototype;return i.J5=function(t){this.Y5.Dr(t),this.q5.vs(!1,t)},i.vs=function(t){this.J5(t),t?this.Q5.get(t).vs():this.Q5.forEach(function(t){return t.vs()})},i.ov=function(){this.Vr(),this.q5.vs(),this.Q5.forEach(function(t){return t.vs()}),this.Q5.clear(),this.Y5.ov()},i.Jd=function(t,n,i){if(!this.Q5.has(t)){var e=new OL(n,this.I6,i);e.B6=this.B6,this.Q5.set(t,e)}},i.K5=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n.ll),!this.X5.m5(e,i)){u.next=3;break}return u.abrupt("return",this.X5.p5(e,i));case 3:return r=kO(n.o$),u.t0=m,u.next=7,tr.awrap(this.q5.W1(t,i,_c.Ha,Vl.Vf,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.X5.k5(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,ge)},i.t8=function(t,n,i,e){var r=this.Q5.get(t),s=r.z6(n.AJ.ll,n.Pj);if(r.W6(n.AJ.ll,n.Pj))r.P6(n),this.dispatchEvent({type:"n8",Yp:t,i8:s});else{if(!s)return this.e8(t,n,i,e);r.P6(n),this.r8(t,n,i,s.s8)}return e&&e(),null},i.e8=function(t,n,i,e){var r=this,s=this.Q5.get(t),u=function(t,n){return t+"u8"+n.Pj+"b4"+n.uri}(t,n);if(this.j5.has(u))return null;this.j5.set(u,!0);var o=kO(n.AJ.o$),h=this.q5.Qo(t,n.uri,_c.Ha,Vl.Uf,o,function(o,a){return r.j5.delete(u),o?e&&e(o):(r.dispatchEvent({type:"o8",Yp:t}),s.W6(n.AJ.ll,n.Pj)||s.x6({info:n,s8:h.pv}),r.t8(t,n,i),e&&e(o,a))});return this.G5._5(h),h},i.r8=function(t,n,i,e){var r=this,s=this.Q5.get(t);this.Y5.S6(t,n)||(n&&n.key&&this.W5.getKey(n.key).catch(j),this.Y5.k6(t,this.W5,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"Kr",Kr:n});s.x6(i),r.dispatchEvent({type:"n8",Yp:t,i8:i})}))},i.h8=function(t,n,i){var e=i.length,r="nJ"===t?hM:aM;if(!oM(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.y4){if("a8"===this.Dh.c8||r(u,o)){var h=i.splice(0,s);return oM(n,h)?h:this.h8(t,n,i)}0}}return i},i.f8=function(t,n,i,e){for(var r=this.Q5.get(t).q6(),s=e.v8,u=function(t){var e=i[t],u=r.filter(function(t){return t.AJ===e}),o=UB(n,u),h=o.Q1(s.kg(),sM.kg());if(h>=0&&Fm.Ry(o.end(h)).xg(s).Tg(sM))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.d8=function(t,n,i,e,r){if(!L.an)return!0;if(r.l8||this.f8(t,n,i,r))return!0;var s=Fm.py(e,r._8);return r.v8.xg(s).Tg(Fm.Ry(2))},i.w8=function(t,n,i,e,r,s,u,o){var h=n.H6(r.ll,s),a=this.h8(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.s2(f.info),d=bM(t,e,f);if("iJ"!==t||function(t,n,i){return!!t&&t.ik.AJ===n&&i.Tg(Fm.Ry(t.fI))&&i.Eg(Fm.Ry(t.fI).Rw(sM))}(i,r,d))return{Kj:a,g8:Fm.ky(v,d)};f.f4.video&&(f=(a=_M(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=rM(o),a=0;a<h.length;a++){var c=h[a];if(n.a2(o.info,c.V5).bg(i.xg(e)))return{y8:r,m8:s};r=u,s=c.z5}return{y8:r,m8:s}}(a,e,u,o)))[0]);if(d=bM(t,e,f),function(t){var n=t.f4.video,i=n&&n.bH,e=i&&i[0],r=e&&e.Xb.T3;if(!n)return!0;return!!r}(f))return{Kj:a,g8:Fm.ky(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=TL(t[n].f4);if(!y(i))return{y8:n,m8:i}}return null}(a),_=Fm.py(u,mM(t,e,r.iZ(s)));if(f.info.Pj===s){if(l&&(d=bM(t,e,(c=_M(a,l))[0]),_.xg(d).Tg(o)))return{Kj:c,g8:Fm.ky(v,d)};for(var w=s-1;n.W6(r.ll,w);){var g=n.H6(r.ll,w);if((f=(c=this.h8(t,s,g))&&c[0]&&lM(c[0],SL(c[0])))&&(d=bM(t,e,f),_.xg(d).Tg(o)))return c[0]=f,{Kj:c,g8:Fm.ky(v,d)};w-=1}}return function(t){if(t.eZ)return!1;var n=t.AJ;if(n.nZ&&n.nZ.live)return!1;if(!n.iZ(t.Pj-1))return!1;return!0}(a[0].info)?null:l?{Kj:a=_M(a,l),g8:v}:null},i.p8=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.k8(o,h,n),v=f&&f.ik;if(!v)return null;var d=v.Pj;do{var l=d,_=o.iZ(l),w=mM(n,s,_);if(!pM(n,s,_).Rg(h)||_.g4){if(w.Rw(sM).bg(a))break;if(Fm.py(Fm.zg,h.xg(w)).Rg(c)&&i.W6(o.ll,l-1)&&i.W6(o.ll,l))i.z6(o.ll,l).metadata.y4||(l-=1);var g=this.b8(t,n,i,e,r,s,u,o,l,h,c);if(g&&(dM(g,h,a)||g.l8))return g}}while(i.W6(o.ll,++d));return null},i.b8=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.iZ(h),v=this.w8(n,i,e,s,o,h,a,c),d=v&&v.Kj,l=v&&v.g8,w=d&&d[d.length-1],g=w&&w.metadata.g4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="nJ"===t?cM:fM;return n.map(i).filter(vM)}(n,d))||!d.length){if(g){var y=[],m=s.s2(w.info);return y.A8=m,y.T8=m,y._8=m,y.S8=m,y.v8=m,y.l8=g,y}return null}var p=d="iJ"===n?function(t,n,i){var e=i[0].f4.video;return i[0].info.eZ?function(t,n,i,e){var r=Kr(e.bH,function(t){return t.Xb.T3});if(r<0)return i;var s=e.bH[r].Xb,u=n.a2(i[0].info,s.x3),o=AM(t,u);if(o.Pg())return i;var h=u.xg(o).by(Vm,Bm.Fy);if(h.Eg(Fm.zg))return i;var a=EM(e.bH.slice(r),h);return i[0]=gM(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.G2.oy(nM),s=e.bH[0].Xb,u=n.a2(i[0].info,s.P3),o=TM(t,u,r);if(o.Pg())return i;var h=u.xg(o).by(Vm,Bm.Fy);if(h.Eg(Fm.zg)||h.bg(r))return i;var a=EM(e.bH,h);return i[0]=gM(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].f4.audio)?void 0:e.z2)===BB.d2)return i;var r=i[0].f4.audio,s=r.bH[0].Xb;return i[0].info.eZ?function(t,n,i,e,r){var s=n.a2(i[0].info,r.x3),u=AM(t,s);if(u.Pg())return i;var o=s.xg(u).kg(),h=_.floor(o/e.G2.kg());if(h<=0)return i;var a=SM(e,h);return i[0]=wM(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.a2(i[0].info,r.P3),u=TM(t,s,e.G2.oy(iM));if(u.Pg())return i;var o=s.xg(u).kg(),h=_.round(o/e.G2.kg());if(0===h||_.abs(h)>iM)return i;var a=SM(e,h);return i[0]=wM(i[0],a),i}(t,n,i,r,s)}(r,s,d),k=p[0];if(f.Pj<k.info.Pj&&(l=s.s2(f)),p.A8=l,p.T8=function(t,n,i){return n.a2(i.info,kM(t,i).l4)}(n,s,k),p._8=bM(n,s,k),p.S8=function(t,n,i){return n.a2(i.info,kM(t,i).w4)}(n,s,p[p.length-1]),p.v8=function(t,n,i){return n.a2(i.info,kM(t,i)._4)}(n,s,p[p.length-1]),p.l8=g,!this.d8(t,s,u,a,p))return null;var b=k.f4.video;return!b||(b.YJ=b.YJ||o.YJ,b.jJ=b.jJ||o.jJ,b.YJ&&b.jJ)?p:null},i.E8=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.p8(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d._8.Rg(c._8)||(c=d))}return c},i.I8=function(t,n,i,e,r,s,u,o,h){for(var a=Fm.Ry(u),c=Fm.Ry(o),f=Fm.Ry(h),v=this.Q5.get(t),d=new wB([{aI:a.kg(),fI:a.Rw(c).kg()}]),l=r.bI(d),_=function(t){if(0===t.length)return null;var n=t.Kj(t.length-1),i=n[n.length-1];if(!i.ik.R8)return null;return i}(r),w=pB(kB(l),d),g=0;g<w.length;g++){var y=Fm.Ry(w.start(g)),m=Fm.Ry(w.end(g)),p=IM(l,y,m),k=y.Rw(p).by(Vm,Bm.Fy),b=m.by(Vm,Bm.Fy);if(k.Rg(b)){if(_&&k.Tg(Fm.Ry(_.fI)))continue;var A=this.E8(t,n,v,s,r,i,e,k,b,f);if(A)return A}}return null},i.q6=function(t){return this.Q5.get(t).q6()},i.T6=function(t){return this.Y5.T6(t)},A(n,[{key:"B6",get:function(){return this.Z5},set:function(t){t>0&&(this.Z5=t,this.Q5.forEach(function(n){return n.B6=t}))}},{key:"w5",get:function(){return this.G5.w5}},{key:"g5",get:function(){return this.G5.g5}}]),n}(QP);function oM(t,n){for(var i=0;i<n.length;i++){if(n[i].info.Pj===t)return!0}return!1}function hM(t,n){return t.metadata.audio.z2!==n.metadata.audio.z2||(t.metadata.audio.xK!==n.metadata.audio.xK||(!(!t.f4.audio||!n.f4.audio||t.f4.audio.v3===n.f4.audio.v3)||!Ym(t.metadata.audio.d4,t.metadata.audio.l4).cg(Ym(n.metadata.audio._4,n.metadata.audio.w4))))}function aM(t,n){return t.metadata.video.z2!==n.metadata.video.z2||(!(!t.metadata.rB||!n.metadata.rB||t.metadata.rB.height===n.metadata.rB.height&&t.metadata.rB.width===n.metadata.rB.width)||(!(!n.f4.video||n.f4.video.R3||t.metadata.video.xK===n.metadata.video.xK)||Ym(t.metadata.video.d4,t.metadata.video.l4)!==Ym(n.metadata.video._4,n.metadata.video.w4)))}function cM(t){return t.f4.video&&(t={f4:qL(t.f4),info:t.info,metadata:RL(t.metadata,"iJ")}),t}function fM(t){return t.f4.audio&&(t={f4:XL(t.f4),info:t.info,metadata:RL(t.metadata,"nJ")}),t}function vM(t){return Boolean(t&&(t.f4.audio||t.f4.video))}function dM(t,n,i){var e=Fm.py(n,t._8),r=Fm.ky(i,t.v8),s=sM;return L.$t&&(e.Eg(t._8)?s=s.Rw(t._8).xg(t.T8):r.Tg(t.v8)&&(s=s.Rw(t.v8).xg(t.S8))),r.xg(e).Tg(s)}function lM(t,n){return y(n)?null:0===n?t:gM(t,t.f4.video.bH.slice(n))}function _M(t,n){return(t=t.slice(n.y8))[0]=lM(t[0],n.m8),t}function wM(t,n){var i={info:t.info,f4:{audio:qL(t.f4).audio,video:null,M2:t.f4.M2},metadata:null},e=i.f4.audio;e.bH=n;var r=n[0].Xb;return e.Y2=r.F2,e.Q2=e.Y2.kg(),yM(e,i.f4.M2,e.G2),IL(i,t.metadata.size),i.metadata=RL(i.metadata,"iJ"),i}function gM(t,n){var i={info:t.info,f4:{audio:null,video:XL(t.f4).video,M2:t.f4.M2},metadata:null},e=i.f4.video;e.bH=n;var r=n[0].Xb;e.Y2=r.F2,e.Q2=e.Y2.kg();var s=n[n.length-1].Xb.g3;return yM(e,i.f4.M2,s),IL(i,t.metadata.size),i.metadata=RL(i.metadata,"nJ"),i}function yM(t,n,i){for(var e=Fm.Dy,r=Fm.Dy,s=Fm.Cy,u=Fm.Cy,o=0,h=t.bH;o<h.length;o++){var a=h[o].Xb;e=Fm.ky(a.P3,e),r=Fm.ky(a.x3,r),s=Fm.py(a.P3,s),u=Fm.py(a.x3,u)}t.j2=r,t.Z2=e,t.J2=u,t.K2=s,t.X2=Fm.py(Zm(t.Y2,n),Fm.zg),t.n3=jm(t.J2,i),t.i3=jm(t.K2,i),t.W2=Ym(t.n3,t.j2).kg(),t.duration=t.W2}function mM(t,n,i){if(_O(i)){var e="nJ"===t?i.c6:i.v6;return Gm(e)||(e=i.IZ),n.a2(i,e)}return i&&n.s2(i)}function pM(t,n,i){if(_O(i)){var e="nJ"===t?i._6:i.g6;return Gm(e)||(e=i.IZ),n.a2(i,e)}return i&&n.s2(i).Rw("nJ"===t?function(t){return _O(t)?t.RZ||Fm.zg:t&&Fm.Ry(t.duration)||Fm.zg}(i):function(t){return _O(t)?t.NZ||Fm.zg:t&&Fm.Ry(t.duration)||Fm.zg}(i))}function kM(t,n){return"nJ"===t?n.metadata.audio:n.metadata.video}function bM(t,n,i){return n.a2(i.info,kM(t,i).d4)}function AM(t,n){var i=t.Z1(n.kg());if(-1!==i){var e=Fm.Ry(t.end(i));if(n.xg(e).Eg(Fm.Ry(eM)))return e}return Fm.Ny}function TM(t,n,i){var e=t.Q1(n.kg(),i.kg());if(-1!==e)for(var r=t.Kj(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.ik.Kj.length-1;o>=0;o--){var h=u.ik.Kj[o];if(n.xg(Fm.Ry(h.fI)).Ng().Eg(i))return Fm.Ry(h.fI);if(n.xg(Fm.Ry(h.aI)).Ng().Eg(i))return Fm.Ry(h.aI)}return Fm.Ny}function SM(t,n){var i;if(n<0)i=t.bH.slice(-n);else{0;var e=new QB,r=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.u3,t.v3);e.m2(r,0,r.length),i=t.bH.slice();for(var s=0;s<n;s++){var u=i[0].Xb,o=e.ys(nr({},e.Xb,{F2:u.F2.xg(t.G2),U2:u.U2-t.G2.kg(),P3:u.P3.xg(t.G2),x3:u.x3.xg(t.G2)}));i.unshift(o)}}return i}function EM(t,n){var i=t[0].Xb,e=t.slice();return e[0]=t[0].ys(nr({},i,{F2:Fm.py(Fm.zg,i.F2.xg(n)),U2:_.max(i.U2-n.kg(),0),P3:Fm.py(Fm.zg,i.P3.xg(n)),m3:_.max(i.m3-n.kg(),0),x3:Fm.py(Fm.zg,i.x3.xg(n)),y3:_.max(i.y3-n.kg(),0),g3:Fm.py(Fm.zg,i.g3.Rw(n)),v_:_.max(0,i.v_+n.kg())})),e}function IM(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.Kj(e),s=t.Kj(e+1);if(r.length&&s.length&&Fm.Ry(r[0].aI).Eg(n)&&Fm.Ry(s[s.length-1].fI).Tg(i)&&s[0].ik.Kj[0].ks.v4.eZ)return sM.oy(5)}return t.Nw(n.kg())?sM:Fm.zg}function RM(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function NM(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function DM(t){return new MM(t.gf,t.ai)}var CM,xM,PM,OM,BM,LM,MM=function(){function t(t,n){this.gf=void 0,this.N8=void 0,this.N8=n,this.gf=t}return t.prototype.D8=function(t){NM(t)},A(t,[{key:"ai",get:function(){return this.N8}},{key:"C8",get:function(){var t,n;return RM((t=this.N8,n=this.gf,vc([t],{type:n})))}}]),t}(),UM=function(){function t(t,n,i){this.SZ=void 0,this.SZ="data:"+t+";"+n+","+i}return t.prototype.D8=function(t){},A(t,[{key:"C8",get:function(){return this.SZ}}]),t}();!function(t){t.d2="x8",t.ql="P8",t.O8="B8",t.L8="M8",t.U8="F8"}(CM||(CM={})),function(t){t.H8="z8",t.V8="W8"}(xM||(xM={})),function(t){t.X8="audio/mp4",t.q8="audio/mpeg",t.G8="video/mp4"}(PM||(PM={})),function(t){t[t.Q8=0]="Q8",t[t.Y8=1]="Y8",t[t.Tl=2]="Tl",t[t.j8=3]="j8"}(OM||(OM={})),function(t){t.Z8="J8",t.K8="t9"}(BM||(BM={})),function(t){t.n9="a8",t.K8="i9"}(LM||(LM={}));var FM=function(){function t(t,n,i,e,r,s,u,o,h,a){this.e9=void 0,this.r9=void 0,this.Yp=void 0,this.gf=void 0,this.i8=void 0,this.s9=void 0,this.Lb=void 0,this.u9=void 0,this.o9=void 0,this.eC=void 0,this.h9=OM.Q8,this.r9=t,this.e9=n,this.Yp=i,this.gf=e,this.i8=r,this.s9=s,this.Lb=u,this.u9=o,this.o9=h,this.eC=a}return t.a9=function(t,n,i,e,r,s,u,o,h,a){switch(n){case BM.Z8:return new HM(t,i,e,r,s,u,o,h,a);case BM.K8:return new zM(t,i,e,r,s,u,o,h,a)}},t}(),HM=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,BM.Z8,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.c9=function(){return{f9:"v9",d9:this.e9,l9:CM.U8,_9:xM.H8,w9:this.gf,g9:YB(this.i8,[]),y9:this.o9,m9:this.u9.Hy(),p9:this.s9.Hy(),k9:this.Lb.Hy()}},n}(FM),zM=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,BM.K8,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.c9=function(){return{f9:"v9",d9:this.e9,l9:this.gf===PM.q8?CM.d2:CM.ql,_9:sb?xM.V8:xM.H8,w9:this.gf,g9:YB(this.i8,[])}},n}(FM),VM=function(){function t(){this.b9=void 0,this.A9=void 0,this.b9=er(),this.A9=1}var n=t.prototype;return n.T9=function(){return(this.A9++).toString()},n.a9=function(t,n,i,e,r,s,u,o,h){var a=this.T9(),c=FM.a9(a,n,t,i,e,r,s,u,o,h);return this.S9(c),c},n.E9=function(t){return this.b9.get(t)},n.S9=function(t){this.b9.set(t.e9,t)},n.I9=function(t){this.b9.delete(t)},n.R9=function(t){this.E9(t).h9=OM.Y8,this.I9(t)},n.N9=function(t,n){var i=this.E9(t).eC;this.E9(t).h9=OM.Tl,this.I9(t),i(n)},n.D9=function(t,n){var i=this.E9(t).eC;this.E9(t).h9=OM.j8,this.I9(t),i(null,n)},n.vs=function(t){var n=[];this.b9.forEach(function(i,e){t&&i.Yp!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.R9(e)}},t}();var WM,XM=function(){function t(n){var i=this;this.b9=void 0,this.C9=void 0,this.Dh=void 0,this.x9=void 0,this.P9=function(t){var n=t.data.O9,e=t.data.B9,r=t.data.L9,s=t.data.M9,u=i.b9.E9(e);if(u&&u.h9!==OM.Y8)switch(n){case"U9":i.F9(u,r);break;case"H9":i.b9.N9(e,new ZP(jP.bj,{code:s}));break;default:0}},this.z9=function(t){0},this.b9=new VM,this.Dh=n,this.x9=t.V9(n.c8),this.W9()}t.V9=function(t){switch(t){case LM.n9:return BM.Z8;case LM.K8:return BM.K8}};var n=t.prototype;return n.v9=function(t,n,i,e,r,s,u){var o={metadata:null,nJ:null,iJ:null,Kr:null};i&&i.length||u(new ZP(jP.bj,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.Pj+1,f=h.info.AJ,v=h.metadata,d=v.audio.z2?v.audio:void 0,l=v.video.z2?v.video:void 0,_=a.metadata,w=_.audio.z2?_.audio:void 0,g=_.video.z2?_.video:void 0,m=e.Rw(Zm(v.l4,v.d4)),p=e.Rw(Zm(v.d4,v.d4)),k=e.Rw(d?Zm(d.l4,v.d4):Fm.zg),b=e.Rw(d?Zm(d.d4,v.d4):Fm.zg),A=e.Rw(l?Zm(l.l4,v.d4):Fm.zg),T=e.Rw(l?Zm(l.d4,v.d4):Fm.zg),S=e.Rw(Zm(_.w4,v.d4)),E=e.Rw(Zm(_._4,v.d4)),I=e.Rw(w?Zm(w.w4,v.d4):Fm.zg),R=e.Rw(w?Zm(w._4,v.d4):Fm.zg),N=e.Rw(g?Zm(g.w4,v.d4):Fm.zg),D=e.Rw(g?Zm(g._4,v.d4):Fm.zg);k=Fm.py(Fm.zg,k),A=Fm.py(Fm.zg,A);var C,x,P,O,B,L=fO.A_(n.LJ)?Fm.Ry(100079991719):Fm.Ry(n.v_),M=function(t){for(var n=t[0].f4,i=n,e=1;e<t.length;e++){if(!(n=WL(i,t[e-1].f4,t[e].f4,t[e].info.y4)))return i;i=n}return i}(i);if(M.audio){x=(C=qL(M)).audio.duration;P=this.b9.a9(t,this.x9,"mp3"===C.audio.z2?PM.q8:PM.X8,C,k,b,L,c,function(t,n){if(o.Kr=o.Kr||t,o.nJ=n,C=!0,O)return u(o.Kr,o)}),this.X9(P),C=null}else C=!0;if(M.video){B=(O=XL(M)).video.duration;P=this.b9.a9(t,this.x9,PM.G8,O,A,T,L,c,function(t,n){if(o.Kr=o.Kr||t,o.iJ=n,O=!0,C)return u(o.Kr,o)}),this.X9(P),O=null}else O=!0;var U,F,H,z=i.map(function(t){return t.metadata}),V=Fm.Ry(x),W=Fm.Ry(B),X=h.f4.audio&&h.f4.video?Fm.ky(h.f4.audio.X2.Rw(V),h.f4.video.X2.Rw(W)):h.f4.audio?h.f4.audio.X2.Rw(V):h.f4.video?h.f4.video.X2.Rw(W):Fm.zg;if(X.Gg()&&st("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=TL(M);if(y(q))st("Segment without keyframes detected",h.info.uri),U=Fm.Ny,F=Fm.Ny,H=X.oy(1.5);else{var G=M.video.bH[q].Xb;U=e.Rw(Zm(G.P3,v.d4)),F=e.Rw(Zm(G.x3,v.d4)),H=Fm.Ry(G.y3-h.metadata.start)}}else U=k,F=b,H=Fm.zg;var Q=Fm.py(H,Fm.py(h.f4.audio&&h.f4.audio.X2||Fm.zg,h.f4.video&&h.f4.video.X2||Fm.zg));o.metadata={Pj:c,aI:e.kg(),q9:m.kg(),A8:p.kg(),S8:S.kg(),v8:E.kg(),m6:U.kg(),c2:F.kg(),g8:Fm.ky(e,r).kg(),v_:X.kg(),Kj:z,ps:Q.kg(),nJ:d&&{aI:b.kg(),q9:k.kg(),fI:R.kg(),S8:I.kg(),v_:x,z2:d.z2},iJ:l&&{aI:T.kg(),q9:A.kg(),fI:D.kg(),S8:N.kg(),v_:B,z2:l.z2,mg:v.rB.width,Jp:v.rB.height},u$:v.u$,y4:v.y4,AJ:f,g4:s},i=null,M=null},n.ov=function(){this.b9.vs(),this.C9&&(this.C9.K3(),this.C9=null)},n.Dr=function(t){this.b9.vs(t)},n.F9=function(t,n){switch(t.r9){case BM.Z8:var i=n;this.b9.D9(t.e9,{initializer:DM(i.G9),m4s:DM(i.Q9)});break;case BM.K8:var e=n;this.b9.D9(t.e9,(r=e,sb?new UM(r.gf,"base64",r.ai):new MM(r.gf,r.ai)));break;default:0}var r},n.W9=function(){this.C9||(this.C9=pL("theoplayer.p.js",this.Dh.libraryLocation),this.C9.Fr("message",this.P9),this.C9.Fr("error",this.z9))},n.X9=function(t){this.C9||this.W9(),this.C9.t4(t.c9())},t}();function qM(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function GM(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function QM(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function YM(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ju(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var jM,ZM="x-";function JM(t,n,i,e){var r=t.split("@"),s=qM(n,i),u=w(r[0],10),o=r[1]?w(r[1],10):e;return{SZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},EZ:{aI:o,fI:o+u-1}}}function $M(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,p=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new ZP(jP.kj,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<k.length;A+=1){var T=k[A].trim();if(l.push(T+""),GM(T,"#EXT")){if(GM(T,"#EXTINF"))c=(c=g(QM(T)))||.5;else if(GM(T,"#EXT-X-BYTERANGE"))f=QM(T);else if(GM(T,"#EXT-X-KEY"))(s=YM(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=qM(s.uri,i);else if(GM(T,"#EXT-X-DISCONTINUITY")&&!GM(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(GM(T,"#EXT-X-STREAM-INF"))(r=YM(T)).Pj=a++,(A+=1)<k.length&&(r.uri=qM(k[A].trim(),i),b.streams.push(r));else if(GM(T,"#EXT-X-MEDIA")&&!GM(T,"#EXT-X-MEDIA-"))(u=YM(T)).uri&&(u.uri=qM(u.uri,i)),b.media.push(u);else if(GM(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(QM(T));else if(GM(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.Yj=!0,b.jj=w(QM(T),10);else if(GM(T,"#EXT-X-MEDIA-SEQUENCE"))h=w(QM(T),10),b.Y9=!0,b.j9=h;else if(GM(T,"#EXT-X-TARGETDURATION"))b.targetDuration=w(QM(T),10),b.hasTargetDuration=!0;else if(GM(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(GM(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(GM(T,"#EXT-X-MAP")){var S=YM(T),E=S.uri,I=S.byterange;o=I?JM(I,E,i,0):qM(E,i)}else if(GM(T,"#EXT-X-VERSION"))b.version=w(QM(T),10);else if(GM(T,"#EXT-X-DATERANGE")){var R=KM(T);b.dateRanges.push(R)}}else if(GM(T,"#"));else if(0!==T.length){f?p=(e=JM(f,T,i,p)).EZ.fI+1:e=qM(T,i);var N,D=s&&nr({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,Pj:h,eZ:d,tZ:v,key:D,xJ:y,CJ:l,g4:!1,Z9:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].g4=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=_.min(i,o.duration),e=_.max(e,o.duration)}return{J9:i,K9:e,t7:n?t.fragments[n-1].duration:0,n7:r/n,i7:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.Pj-n.Pj})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||ns(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function KM(t){var n=YM(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];Dr(r,ZM)&&(n[r.substr(ZM.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{ll:n.id,lZ:n.class,DE:e,rZ:r,v_:n.duration,_Z:n["planned-duration"],wZ:s,gZ:i,yZ:u,mZ:o,pZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(jM||(jM={}));(WM={})[jM.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",WM[jM.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",WM[jM.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",WM[jM.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",WM[jM.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",WM[jM.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",WM[jM.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var tU=function(){function t(){}return t.prototype.kp=function(t,n,i){return $M(t,n,i)},t}(),nU=3,iU=function(){function t(t,n,i){void 0===i&&(i=nU),this.uA=t,this.e7=n,this.r7=i}var n=t.prototype;return n.s7=function(t,n,i){return this.u7(t,n,!0,i)},n.o7=function(t,n,i){return this.u7(t,n,!1,i)},n.u7=function(t,n,i,e){var r,s,u,o,h,a,c,f;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.r7)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,tr.awrap(bs(s,e));case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return h=t[o],i.prev=10,a=new ql({Lf:h,Cf:_c.Pn,Df:n,rv:this.e7,Kf:Hl.GET,tr:zl.Ff,nv:Vl.Uf,Pr:e}),i.next=14,tr.awrap(this.uA.Of(a));case 14:return c=i.sent,i.next=17,tr.awrap(c.df(e));case 17:return f=i.sent,i.abrupt("return",{h7:f,a7:h,Bf:c.Bf});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],ge)},t}(),eU=function(){function t(t,n,i,e){this.c7=t,this.f7=n,this.v7=i,this.d7=e}var n=t.prototype;return n.l7=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.c7.N0(t.map(uB)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,ge)},n._7=function(t,n){var i=oB(t,n);return this.f7.hs(i)},n.w7=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=oB(t,n),r.next=3,tr.awrap(this.v7.as(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,ge)},n.gO=function(t){return this.d7.as(t)},t}(),rU=function(){function t(t){this.g7=void 0,this.g7=t}return t.prototype.y7=function(t,n,i,e){var r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:void 0===e&&(e=!1),s=0,u=this.g7;case 2:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=4,h.next=7,tr.awrap(o.y7(t,n,i,e));case 7:return h.abrupt("return",h.sent);case 10:h.prev=10,h.t0=h.catch(4),ds(h.t0),r=h.t0;case 14:s++,h.next=2;break;case 17:throw r;case 18:case"end":return h.stop()}},null,this,[[4,10]],ge)},t}(),sU=function(){function t(t){this.m7=t}return t.prototype.y7=function(t,n,i,e){var r;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.m7.l7(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{h7:r.data,a7:r.locationURL,Bf:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,ge)},t}(),uU=function(){function t(t){this.p7=t}return t.prototype.y7=function(t,n,i,e){return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,tr.awrap(this.p7.s7(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,tr.awrap(this.p7.o7(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ge)},t}();function oU(t,n){return new rU([new sU(n),new uU(t)])}var hU=function(){function t(t,n,i){this.k7=t,this.b7=n,this.A7=i}var n=t.prototype;return n.y7=function(t,n,i,e){var r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,tr.awrap(this.k7.y7(t,n,i,e));case 3:return r=s.sent,s.next=6,tr.awrap(this.T7(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,ge)},n.T7=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.b7.I0({key:uB(t.a7),locationURL:jl(t.a7),responseURL:jl(t.Bf),data:t.h7,references:[this.A7.ll]}));case 2:case"end":return n.stop()}},null,this,null,ge)},t}();function aU(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var cU=function(){function t(t,n,i){this.Dh=void 0,this.uA=void 0,this.k7=void 0,this.S7=void 0,this.S7=new tU,this.Dh=t,this.uA=i;var e=this.Dh&&this.Dh.crossOrigin===Ng.Jl,r=new iU(i,e,1);this.k7=oU(r,new eU(sB.In.M0,sB.In.B0,sB.In.L0,sB.In.F0))}var n=t.prototype;return n.Qo=function(t,n,i){var e=this.td(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.td=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,tr.awrap(this.k7.y7([t],n));case 3:return i=r.sent,t=i.Bf,e=this.S7.kp(i.h7,t,aU(t)),r.abrupt("return",{I_:e,E7:i.h7});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof n_)){r.next=16;break}throw new ZP(jP.mj,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof i_)){r.next=24;break}if(0!==r.t0.pv.Nf){r.next=21;break}throw new ZP(jP.pj,{code:"MFL3900",uri:t,status:r.t0.pv.Nf});case 21:throw new ZP(jP.mj,{code:"MFL4100",uri:t,status:r.t0.pv.Nf});case 22:r.next=25;break;case 24:throw new ZP(jP.Tl,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],ge)},t}(),fU=function(t){function n(n,i){var e;return(e=t.call(this)||this).I7=void 0,e.R7=void 0,e.N7=void 0,e.D7=void 0,e.C7=void 0,e.N$=void 0,e.p$=void 0,e.MS=void 0,e.I7=new cU(i||{},sB.In.M0,n),e}S(n,t);var i=n.prototype;return i.G_=function(){void 0!==this.D7&&(a(this.D7),this.D7=void 0),this.N7&&this.N7.Of&&(this.N7=void 0)},i.x7=function(t){if(this.p$)for(var n=0,i=this.p$.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.P7=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.i7<3*s)?1e3*u.J9:s?1e3*s:1e4,i===n&&(r/=2),r=_.max(r-e,1e3)},i.O7=function(t){if(t.fragments.length>0)for(var n=this.x7(t.fragments[0].uri),i=n&&n.Pj||0,e=0,r=t.fragments;e<r.length;e++){r[e].Pj+=i}},i.B7=function(t,i,e,r,s,u){var o=this;if(this.N7&&e===this.N7.Of){var a=XE()-i;if(r){this.N7=void 0,this.MS=r;var c={type:"Kr",Kr:r};return this.dispatchEvent(c),s&&s(r)}this.N7=void 0;var f=u.I_,v=u.E7;f.Y9||this.O7(f),t===this.R7&&(this.N$=f),this.p$=f;var d=n.P7(f,v,this.C7,a);f.live?f.isMasterPlaylist||(this.D7=h(function(){return o.td(t)},d)):this.G_(),s&&s(r,u);var l={type:"L7",manifest:f,manifestText:v};this.dispatchEvent(l),this.C7=v}},i.td=function(t,n){var i=this,e=XE(),r=t;a(this.D7),this.D7=void 0;var s=this.I7.Qo(r,{},function(r,u){return i.B7(t,e,s,r,n,u)});this.N7={Of:s,Lf:t}},i.aI=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.p$?this.p$.uri:this.R7))&&(this.N7&&this.N7.Lf===t?n&&(i=function(t){s.removeEventListener("Kr",e),s.removeEventListener("L7",i);var r=t;n(null,{I_:r.manifest,E7:r.manifestText})},e=function(t){s.removeEventListener("Kr",e),s.removeEventListener("L7",i),n(t.Kr)},this.addEventListener("Kr",e),this.addEventListener("L7",i)):(this.G_(),this.td(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.M7=function(t){t&&(this.C7=void 0,this.N$&&this.N$.isMasterPlaylist?this.aI(t.uri):this.p$&&!this.U7()&&this.aI(this.p$.uri))},i.ov=function(){this.G_(),this.Vr()},i.U7=function(){return!!this.N7||!!this.D7||!(!this.p$||this.p$.live)},A(n,[{key:"I_",get:function(){return this.p$}},{key:"rK",get:function(){return this.N$}},{key:"w0",get:function(){return this.R7},set:function(t){this.G_(),this.C7=void 0,this.N$=void 0,this.p$=void 0,this.R7=t}}]),n}(QP),vU=function(t){function n(n,i){var e;return(e=t.call(this)||this).Dh=void 0,e.jd=void 0,e.R7=void 0,e.F7=void 0,e.uA=void 0,e.Dh=i,e.jd=er(),e.R7=null,e.F7=null,e.uA=n,e}S(n,t);var i=n.prototype;return i.aI=function(){var t=this,n=this.w0;if(n&&!this.F7){var i=new fU(this.uA,this.Dh);i.addEventListener("Kr",function(i){var e=i.Kr;t.dispatchEvent({type:"H7",Kr:e}),t.jd.has(n)&&t.dispatchEvent({type:"Kr",Kr:e,z7:n})}),i.addEventListener("L7",function n(e){i.removeEventListener("L7",n),i===t.F7&&t.dispatchEvent({type:"V7",I_:e.manifest})}),i.addEventListener("L7",function(i){t.jd.has(n)&&t.dispatchEvent({type:n,I_:i.manifest})}),this.F7=i,i.aI(n)}},i.W7=function(t,n){this.X7(t),this.q7(n)},i.q7=function(t){var n,i=this;this.jd.has(t)||(t===this.w0?(this.aI(),(n=this.F7).I_&&this.dispatchEvent({type:t,I_:n.I_},!0)):((n=new fU(this.uA,this.Dh)).addEventListener("Kr",function(n){i.dispatchEvent({type:n.type,Kr:n.Kr,z7:t})}),n.addEventListener("L7",function(n){i.dispatchEvent({type:t,I_:n.manifest})})),this.jd.set(t,n))},i.X7=function(t){if(this.jd.has(t)){var n=this.jd.get(t);n!==this.F7&&n.ov(),this.jd.delete(t),this.removeEventListener(t)}},i.G7=function(t){if(this.jd.has(t)){var n=this.jd.get(t);n.U7()||n.aI(t)}},i.Q7=function(){var t=this;this.jd.forEach(function(n,i){return t.G7(i)})},i.tl=function(){this.jd.forEach(function(t){return t.ov()}),this.jd.clear(),this.F7&&(this.F7.ov(),this.F7=null),this.R7=null},A(n,[{key:"w0",get:function(){return this.F7&&this.F7.I_?this.F7.I_.uri:this.R7},set:function(t){this.tl(),this.R7=t}}]),n}(QP),dU=function(t){function n(){var n;return(n=t.call(this)||this).Y7=NaN,n}S(n,t);var i=n.prototype;return i.j7=function(t,n){for(var i=t.length?_.min.apply(_,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].ps=Fm.Ry(t[r]||0)}var s=t.length?_.max.apply(_,t):0;this.Y7=s,this.dispatchEvent({type:"Z7",J7:s})},i.K7=function(t,n){var i=[];if(n.length<2)return this.j7(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.ttt(t))return!1;i[r]=s.ps.Rw(s.ntt(e,t)).kg()}return this.j7(i,n),!0},i.itt=function(t,n){return this.K7(t.tZ,n)},i.ett=function(t,n){if(n.length<2)return this.j7([],n),!0;var i=n[0].rtt(t);if(y(i))return!1;for(var e=0;e<n.length;e++){if(n[e].rtt(t)!==i)return!1}return this.K7(i,n)},i.tl=function(){this.Y7=NaN},i.ov=function(){this.Vr()},A(n,[{key:"J7",get:function(){return this.Y7}}]),n}(QP),lU=.001;function _U(t){return t.metadata.AJ.ll+"stt"+t.metadata.Pj+"utt"+t.metadata.aI+"ott"+t.metadata.v_}var wU=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.gY=function(t,i){return new n(t,i)},i.e2=function(t,n){return!1},n}(LB);function gU(t,n){var i=new wU([n]);return t.xg(i).RI(i)}function yU(t,n){var i=function(t,n){var i=t.A8,e=t.c2;if(!y(e)&&e===i)return!0;return!t.y4&&!!n&&n.ik.AJ===t.AJ&&i>=n.fI&&i<=n.fI+lU}(t,n);return i||!y(t.c2)?{aI:i?t.A8:t.c2,fI:t.v8,ik:t}:null}var mU=function(t){function n(n,i){var e;return(e=t.call(this)||this).htt=void 0,e.Fb=void 0,e.att=null,e.ctt=function(){return e.ftt()},e.dtt=[],e.vw=[],e.ltt=new wU([]),e._tt=null,e.htt=n,e.Fb=i,e}S(n,t);var i=n.prototype;return i.wtt=function(t){var n=t.metadata,i=n&&n.Kj;if(!i||!i.length)return ge.resolve();for(var e=[],r=n.aI,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({aI:r,v_:u.duration,fI:o,Pj:u.Pj,ks:u}),r=o}var h={ll:_U(t),aI:t.metadata.aI,q9:n.q9,A8:n.A8,gtt:i[0].v4.xJ?new Date(i[0].v4.xJ.getTime()):null,v_:t.metadata.v_,fI:t.metadata.aI+t.metadata.v_,S8:n.S8,v8:n.v8,m6:n.m6,c2:n.c2,Kj:e,AJ:t.metadata.AJ,R8:t.metadata.g4,y4:n.y4};return this.dtt.push(h),this.ytt(this.htt.wtt(t),h)},i.ytt=function(t,n){var i=this;return t.then(function(){if(ts(i.dtt,n)){i.vw.push(n);var t=i._tt,e=yU(n,t);e&&(i.ltt=gU(i.ltt,e)),i._tt=e}i.ftt(),i.mtt(n)}).catch(function(){ts(i.dtt,n)})},i.mtt=function(t){var n=t.Kj[0],i=t.Kj[t.Kj.length-1],e=t.AJ,r=e.iZ(n.Pj-1),s=fO.A_(e.LJ);if(!r||s){var u=e.iZ(n.Pj),o=this.Fb.s2(u).kg(),h=t.q9,a=_.min(o,h);a<n.aI&&this.htt.CU(a,n.aI)}for(var c=0,f=this.vw;c<f.length;c++){var v=f[c];if(v.AJ===t.AJ){var d=v.Kj[0],l=v.Kj[v.Kj.length-1];l.Pj+1===n.Pj&&l.fI!==n.aI?this.htt.CU(l.fI,n.aI):d.Pj-1===i.Pj&&i.fI!==d.aI&&this.htt.CU(i.fI,d.aI)}}},i.vs=function(){this.dtt.length=0,this.vw.length=0,this.ltt=new wU([]),this._tt=null},i.ftt=function(){if(this.ptt&&!this.ptt.zC){var t=this.ptt.vw||gB;t=function(t,n){for(var i=TB(t),e=0;e<i.length;e++){var r=i[e],s=n.Z1(r.fI,lU);if(s>=0){var u=n.Kj(s),o=u[u.length-1],h=o.ik.S8,a=o.ik.v8;h-lU<r.fI&&r.fI<a&&(r.fI=a)}}return new wB(i)}(t,this.ltt),this.vw=this.vw.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.aI,n.fI)>=0}),this.ltt=this.ltt.bI(t)}},i.ov=function(){this.Vr(),this.vs(),this.ptt=null},i.ktt=function(t){var n=this.btt(t);if(n)for(var i=0,e=n.Kj;i<e.length;i++){var r=e[i];if(r.aI<=t&&r.fI>t)return r}return null},i.btt=function(t){for(var n=0,i=this.vw;n<i.length;n++){var e=i[n];if(e.aI<=t&&e.fI>t)return e}return null},i.Att=function(t){for(var n=0,i=this.vw;n<i.length;n++){var e=i[n];if(e.AJ.ll===t.AJ.ll)for(var r=0,s=e.Kj;r<s.length;r++){if(s[r].Pj===t.Pj)return!0}}return!1},i.Ttt=function(){return this.Stt()[0]},i.Stt=function(){for(var t=this.ltt,n=this._tt,i=0,e=this.dtt;i<e.length;i++){var r=yU(e[i],n);r&&(t=gU(t,r)),n=r}return[t,n]},A(n,[{key:"il",get:function(){return this.dtt.length+this.vw.length}},{key:"ptt",get:function(){return this.att},set:function(t){this.att&&this.att.removeEventListener("updateend",this.ctt),this.att=t,this.att&&(this.att.addEventListener("updateend",this.ctt),this.ftt())}}]),n}(QP);function pU(t,n,i){!function(t,n,i){for(var e=i.B2,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.a2(t,u.Xb.H2).kg(),h=0,a=u.bH;h<a.length;h++){var c=a[h];r.push(new SC(o,c))}i.Dl=r}(t,n,i)}function kU(t,n){return t&&n?_.abs(t.Pj-n.Pj)<=1?Fm.zg:Fm.Fg(n.Mp-t.Mp,1e3):Fm.zg}var bU=function(){function t(t,n,i,e,r){this.eZ=void 0,this.y8=void 0,this.Ett=void 0,this.Itt=void 0,this.tr=void 0,this.z5=void 0,this.ps=Fm.zg,this.Rtt=!1,this.Ntt=null,this.eZ=t,this.y8=t.AJ.Kj.Lj(n.Pj),this.z5=this.y8,this.Ett=i,this.Itt=e,this.tr=r||null}var n=t.prototype;return n.Dtt=function(){if(this.Ntt)return this.Ntt;var t=this.Ctt();return(t.xtt||t.Kr)&&(this.Ntt=t),t},n.Ptt=function(){return{xtt:!1,Kr:!1,Rtt:this.Rtt,Gw:Fm.Ny}},n.xtt=function(t){return t.Pg()?{xtt:!1,Kr:!0,Rtt:this.Rtt,Gw:Fm.Ny}:{xtt:!0,Kr:!1,Rtt:this.Rtt,Gw:t}},t}();function AU(t,n){switch(n){case"nJ":return Gm(t.c6)?t.c6:t.IZ;case"iJ":return Gm(t.v6)?t.v6:t.IZ;default:return t.IZ}}var TU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ctt=function(){var t=this.eZ,n=t.AJ,i=n.Kj,e=i.Mj(this.z5);if(t.Nw(e)){if(this.Itt&&t.Ott&&_O(e)){var r=AU(e,this.tr),s=t.Btt(r,e.Ltt);return this.xtt(s.xg(this.ps))}if(this.Ett&&e===t.Mtt){var u=t.Qw.xg(wO(e));return this.xtt(u.xg(this.ps))}this.z5+=1;var o=kU(e,i.Mj(this.z5));return this.Rtt=this.Rtt||o.bg(Fm.zg),this.ps=this.ps.Rw(o).Rw(wO(e)),this.Ptt()}return this.xtt(Fm.Ny)},n}(bU),SU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ctt=function(){var t=this.eZ,n=t.AJ,i=n.Kj,e=i.Mj(this.z5);if(t.Nw(e)){if(this.Itt&&t.Ott&&_O(e)){var r=AU(e,this.tr),s=t.Btt(r,e.Ltt);return this.xtt(s.Rw(this.ps))}if(this.Ett&&e===t.Utt){var u=t.Gw;return this.xtt(u.Rw(this.ps))}this.z5-=1;var o=i.Mj(this.z5),h=kU(o,e);return this.Rtt=this.Rtt||h.bg(Fm.zg),this.ps=this.ps.Rw(h).Rw(wO(o)),this.Ptt()}return this.xtt(Fm.Ny)},n}(bU);var EU=function(){function t(t,n,i){this.Pj=void 0,this.AJ=void 0,this.Gw=Fm.zg,this.Qw=Fm.zg,this.Utt=null,this.Mtt=null,this.Ftt=!1,this.Htt=Fm.Ny,this.ztt=Fm.Ny,this.Vtt=!1,this.Wtt=void 0,this.Pj=t,this.AJ=n,this.Wtt=i}var n=t.prototype;return n.Nw=function(t){return t&&t.tZ===this.Pj},n.Btt=function(t,n){var i=t.xg(this.Htt).Rw(this.ztt);if(void 0!==n){var e=i.xg(n);if(e.Ng().bg(qm)){var r=_.round(e.kg()/Xm.kg());i=i.xg(Xm.oy(r))}}return i},n.Xtt=function(t,n){var i=this.qtt(t);this.Gtt(n);var e=this.Qtt();return i||e||t===this.Mtt&&this.Ytt()},n.qtt=function(t){if(this.Ott&&Hm(t.l6,this.Htt)>=0)return!1;var n;if(n=this.Ott?this.jtt(t,!0,!1):this.Ztt(t,!0,!1),this.Htt.Pg())this.Htt=t.l6;else{var i=Zm(t.l6,this.Htt);this.Htt=this.Htt.Rw(i)}return this.ztt=n,!0},n.Gtt=function(t){if(!t)return!1;if(this.Wtt)return!1;if(!this.Jtt())return!1;var n=this.AJ.Kj,i=this.Utt,e=n.Uj(i.Pj-1);if(_O(i)&&_O(e)){var r=function(t,n,i){var e=t.a2(n,n._4);if(!Gm(i.d6)||!Gm(i.v6))return e;var r,s=Gm(i.c6),u=Ym(i.v6,i.d6);if(s){var o=Qm(Ym(i.v6,i.c6),Fm.zg);r=Qm(Ym(u,o),Fm.zg)}else r=u;return Ym(e,r)}(t,e,i);return this.Vtt=!0,this.$tt(r)}return!1},n.$tt=function(t){if(t.cg(this.Gw))return!1;var n=t.xg(this.Gw);return this.Gw=t,this.Qw=this.Qw.Rw(n),this.ztt=this.ztt.Rw(n),!0},n.Qtt=function(){if(this.Wtt)return!1;var t=this.Mtt;if(!t)return!1;var n,i=new SU(this,t,!1,!0);do{n=i.Dtt()}while(!n.xtt&&!n.Kr&&!n.Rtt);if(n.xtt&&!n.Rtt){var e=n.Gw.Rw(wO(t));if(!e.cg(this.Qw))return this.Qw=e,!0}return!1},n.Ktt=function(t){var n=!1;return n=this.Gtt(t)||n,n=this.tnt(t)||n},n.tnt=function(t){if(!t)return!1;if(this.Vtt)return!1;var n=t.Qw.Rw(kU(t.Mtt,this.Utt));return this.$tt(n)},n.nnt=function(t){var n=!1;return(!this.Utt||this.Utt.Pj>t.Pj)&&(this.Gw=this.Gw.xg(kU(t,this.Utt)),this.Utt=t,n=!0),(!this.Mtt||this.Mtt.Pj<t.Pj)&&(this.Qw=this.Qw.Rw(kU(this.Mtt,t)).Rw(wO(t)),this.Mtt=t,n=!0),n},n.int=function(t){if(!this.Ott||!t.Ott)return Fm.Ny;if(this.Htt.Eg(t.Htt)){var n=this.Btt(t.Htt,t.ztt);return t.ztt.xg(n)}return t.Btt(this.Htt,this.ztt).xg(this.ztt)},n.Jtt=function(){var t=this.Utt;return!!t&&function(t,n){return n.tZ===t&&n.eZ}(this.Pj,t)},n.Ytt=function(){var t=this.Mtt;if(!t)return!1;var n=this.AJ.Kj.Uj(t.Pj+1);return function(t,n,i){return n.tZ===t&&(!i||i.eZ)}(this.Pj,t,n)},n.ent=function(t,n){return this.jtt(t,!0,!0,n)},n.Ztt=function(t,n,i){if(!this.Nw(t))return Fm.Ny;var e,r=new SU(this,t,n,i);do{e=r.Dtt()}while(!e.xtt&&!e.Kr);if(!e.xtt)return Fm.Ny;var s=e.Gw;return s.Rg(this.Gw)?this.Gw:s},n.jtt=function(t,n,i,e){if(!this.Nw(t))return Fm.Ny;var r,s,u,o,h,a=new TU(this,t,n,i,e),c=new SU(this,t,n,i,e);do{r=a.Dtt(),s=c.Dtt()}while(!(r.xtt||s.xtt||r.Kr&&s.Kr));if(s.xtt)u=s,o=r,h=a;else{if(!r.xtt)return Fm.Ny;u=r,o=s,h=c}if(u.Gw.Rg(this.Gw)){for(;!o.xtt&&!o.Kr;)o=h.Dtt();return o.xtt?Fm.py(this.Gw,o.Gw):this.Gw}if(u.Rtt){for(;!o.Rtt&&!o.xtt&&!o.Kr;)o=h.Dtt();if(o.xtt&&!o.Rtt&&this.Gw.Eg(o.Gw))return o.Gw}return u.Gw},n.a2=function(t,n){return this.Nw(t)&&this.Ott?this.Btt(n,t.Ltt):Fm.Ny},n.Stt=function(){0},A(t,[{key:"Ott",get:function(){return!this.Htt.Pg()}}]),t}();function IU(t,n){return n.Rg(t.Gw)?Vr.wr:n.Tg(t.Qw)?Vr.gr:Vr._r}var RU=function(){function t(){this.rnt=new iO}var n=t.prototype;return n.Uj=function(t){return this.rnt.Uj(t)},n.Mj=function(t){return this.rnt.Mj(t)},n.snt=function(t){var n=this.rnt.Lj(t);return n<0?null:this.rnt.Mj(n-1)},n.Dtt=function(t){var n=this.rnt.Lj(t);return n<0?null:this.rnt.Mj(n+1)},n.unt=function(){return this.rnt.Mj(0)},n.ont=function(){var t=this.rnt.il;return 0===t?null:this.rnt.Mj(t-1)},n.hnt=function(t){var n=this.rnt,i=this.ont();if(i&&function(t,n){return t.Gw.Eg(n)&&n.Rg(t.Qw)}(i,t))return i;var e=uD(this.rnt.zj(),t,Z,IU);return n.Mj(e)},n.Rw=function(t){var n=this.rnt.Rw(t);if(n&&!this.Dtt(t.Pj)){t.Ftt=!0;var i=this.snt(t.Pj);i&&(i.Ftt=!1)}return n},n.Yo=function(t){var n=this.rnt.Yo(t);if(n&&t.Ftt){t.Ftt=!1;var i=this.snt(t.Pj);i&&(i.Ftt=!0)}return n},n.Xj=function(t){this.rnt.Xj(t)},n.Stt=function(){},A(t,[{key:"il",get:function(){return this.rnt.il}}]),t}();var NU=Fm.Ry(10),DU=function(){function t(t,n,i){this.AJ=void 0,this.ant=!1,this.cnt=!1,this.fnt=new RU,this.vnt=Fm.zg,this.dnt=void 0,this.lnt=null,this._nt=null,this.Wtt=void 0,this.AJ=t,this.dnt=n.liveOffset,this.Wtt=i}var n=t.prototype;return n.wnt=function(t){var n=this.AJ,i=t?t.fragments:null,e=n.Kj;if(!t||!i||!i.length)return!1;this.ant=!0;var r,s=!1;if(!this.fnt.il){var u=e.Uj(i[0].Pj).tZ,o=new EU(u,n,this.Wtt);o.$tt(this.ps),this.fnt.Rw(o),s=!0}if(this._nt){var h=e.Lj(this._nt.Pj);r=h<0?0:h+1}else r=0;for(var a=r,c=e.Mj(a),f=null,v=!1;c;){var d=c.tZ;if(f&&f.Pj===d||(f&&v&&this.gnt(f),f=this.fnt.Uj(d),s=s||v,v=!1),!f){f=new EU(d,n,this.Wtt),this.fnt.Rw(f);var l=this.fnt.snt(d);f.Ktt(l||void 0)}v=f.nnt(c)||v,c=e.Mj(++a)}return f&&v&&this.gnt(f),(s=s||v)&&this.ynt(),this.fnt.ont()&&this.l$(n.Kj),this.lnt=e.Uj(i[0].Pj),this._nt=e.Uj(i[i.length-1].Pj),s},n.Xtt=function(t){var n=this.fnt.Uj(t.tZ);if(!n)return!1;this.cnt=!0;var i=this.fnt.snt(n.Pj),e=n.Xtt(t,i);return e&&this.gnt(n),e},n.gnt=function(t){for(var n=t,i=this.fnt.Dtt(t.Pj),e=!0;e&&i;)e=i.Ktt(n),n=i,i=this.fnt.Dtt(i.Pj)},n.ynt=function(){for(var t=!1,n=this.fnt.unt(),i=n&&this.fnt.Dtt(n.Pj);n&&i;)n.Qw.bg(i.Gw)&&(i.$tt(n.Qw),t=!0),n=i,i=this.fnt.Dtt(n.Pj);return t},n.mnt=function(t){var n=this.fnt.ont(),i=t.fnt.ont();if(!this.Wtt){if(n&&this.pnt(t,n.Pj))return!0;if(i&&this.pnt(t,i.Pj))return!0}return this.knt?!(!n||!this.bnt(t,n.Pj))||(!(!i||!this.bnt(t,i.Pj))||(!(!n||!this.Ant(t,n.Pj))||(!(!i||!this.Ant(t,i.Pj))||this.Tnt(t)))):this.Snt(t)},n.Snt=function(t){var n=this.fnt.unt(),i=t.fnt.unt();return!(!n||!i)&&(this._s(i.Gw.xg(n.Gw)),!0)},n.pnt=function(t,n){var i=this.fnt.Uj(n);if(!i||!i.Ott)return!1;var e=t.fnt.Uj(n);return!(!e||!e.Ott)&&(this._s(i.int(e)),!0)},n.bnt=function(t,n){var i=this.fnt.Uj(n);if(!i||!i.Jtt())return!1;var e=t.fnt.Uj(n);return!(!e||!e.Jtt())&&(this._s(e.Gw.xg(i.Gw)),!0)},n.Ant=function(t,n){var i=this.fnt.Uj(n);if(!i)return!1;var e=this.Ent(i.Mtt.Pj);if(!e)return!1;var r=t.fnt.Uj(n);if(!r)return!1;var s=t.Ent(r.Mtt.Pj);if(!s)return!1;var u=i.ent(i.Mtt),o=r.ent(r.Mtt),h=Fm.Py(e).xg(Fm.Py(s)),a=u.xg(o);return this._s(h.xg(a)),!0},n.Tnt=function(t){if(!this.cnt&&!t.cnt)return!1;var n=this.fnt.ont(),i=t.fnt.ont();if(n&&n.Mtt&&i&&i.Mtt){var e=Fm.Fg(n.Mtt.Mp-i.Mtt.Mp,1e3),r=n.Qw.xg(i.Qw);return this._s(e.xg(r)),!0}return!1},n.l$=function(t){var n=this.fnt.ont();if(n)for(var i=n.Qw,e=t.il-1;e>=0;e--){var r=t.Mj(e);if(i=i.xg(Fm.Ry(r.duration)),void 0!==r.Ltt){0;break}r.Ltt=i}},n.rtt=function(t){var n=this.fnt.hnt(t);return n?n.Pj:NaN},n.s2=function(t,n){var i=this.fnt.Uj(t.tZ);return i?i.ent(t,n):Fm.Ny},n.u2=function(t,n){var i=this.AJ.Kj.Uj(t.Pj+1);if(i){var e=this.s2(i);return e}return n.Rw(function(t){if(!t)return Fm.zg;if(!_O(t))return Fm.Ry(t.duration);var n=t.RZ||Fm.zg,i=t.NZ||Fm.zg,e=Fm.Ry(t.duration);return n.Gg()||i.Gg()?n.Gg()?i.Gg()?e.Gg()?e:Fm.zg:i:n:Fm.py(n,i)}(t))},n.a2=function(t,n){var i=this.fnt.Uj(t.tZ);return i&&i.Ott?i.a2(t,n):Fm.Ny},n.k8=function(t,n){var i=this.AJ.Kj;return i.il?function(t,n,i,e,r){var s,u,o=t.AJ.Kj,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.s2(o.Mj(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Rg(f))return{ik:s=o.Mj(c),Int:f};if(n.Tg(d)&&(s=o.Mj(v)).g4)return{ik:s,Int:d};for(;f.Eg(n)&&n.Eg(d);){var l=void 0,w=void 0,g=void 0;if(c===v?(l=c,w=f):(l=c+_.round(n.xg(f).kg()*(v-c)/d.xg(f).kg())||0,w=a(l)),w.bg(n))d=a(v=l-1);else{if(s=o.Mj(l),!(g=(u=l)===e?a(u).Rw(wO(o.Mj(u))):a(u+1)).Eg(n))return s&&n.Eg(w.Rw(wO(s)))?{ik:s,Int:w}:(s=o.Mj(l+1))&&{ik:s,Int:g};c=l+1,f=g}}if(d.Eg(n)){if((s=o.Mj(v))&&n.Eg(d.Rw(wO(s))))return{ik:s,Int:d};if(v<e&&(s=o.Mj(v+1),d=a(v+1),s&&n.Rg(d)))return{ik:s,Int:d}}return null}(this,t,0,i.il-1,n):null},n.Ent=function(t){var n=this.AJ.Kj,i=n.Lj(t),e=n.Mj(i),r=e,s=Fm.zg;if(e.xJ)return e.xJ;for(var u=i-1;u>=0;u--){var o=n.Mj(u);if(s=s.Rw(wO(o)).Rw(kU(o,r)),o.xJ)return new Date(o.xJ.getTime()+1e3*s.kg());r=o}return null},n.Rnt=function(t){for(var n=this.AJ.Kj,i=void 0,e=0;e<n.il;e++){var r=n.Mj(e);if(r.xJ){if(!(r.xJ.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return Fm.Ny;var s=Fm.Py(t).xg(Fm.Py(i.xJ));return this.s2(i).Rw(s)},n._s=function(t){if(!t.cg(Fm.zg))for(var n=this.fnt.il,i=0;i<n;i++){var e=this.fnt.Mj(i);e.$tt(e.Gw.Rw(t))}},n.ttt=function(t){var n=this.fnt.Uj(t);return n&&n.Ott},n.ntt=function(t,n){if(this===t)return Fm.zg;var i=this.fnt.Uj(n),e=t.fnt.Uj(n);return i&&e?i.int(e):Fm.Ny},n.Stt=function(){0},A(t,[{key:"knt",get:function(){var t=this.AJ.nZ;return!!t&&t.live}},{key:"Nnt",get:function(){var t=this.AJ.nZ;return!!t&&t.isEvent}},{key:"Dnt",get:function(){var t=this.lnt;return t?this.s2(t):Fm.zg}},{key:"Cnt",get:function(){var t=this.fnt.ont();return t?t.Qw:Fm.zg}},{key:"xnt",get:function(){if(!this.knt)return Fm.zg;var t=this.Cnt.xg(this.Pnt);return Fm.py(this.Dnt,t)}},{key:"Pnt",get:function(){return this.dnt&&Fm.Ry(this.dnt)||this.Ont.oy(3)}},{key:"Bnt",get:function(){return this.knt&&this._nt?Fm.Fg(XE()-this._nt.Mp,1e3):Fm.zg}},{key:"Ont",get:function(){var t=this.AJ.nZ;return t&&t.targetDuration?Fm.Ry(t.targetDuration):NU}},{key:"ps",get:function(){return this.vnt},set:function(t){var n=t.xg(this.vnt);this.vnt=t,this._s(n)}}]),t}(),CU=function(t){function n(n){var i;return(i=t.call(this)||this).Lnt=[],i.Mnt={},i.Unt=null,i.Fnt=null,i.vnt=Fm.zg,i.Wtt=void 0,i.Hnt=void 0,i.Hnt=n,i}S(n,t);var i=n.prototype;return i.znt=function(t){return t&&this.Mnt[t.ll]||null},i.Vnt=function(t){var n=this.znt(t);return n||((n=new DU(t,this.Hnt,!!this.Wtt)).ps=this.vnt,this.Lnt.push(n),this.Mnt[t.ll]=n),n},i.Wnt=function(t){var n;switch(null==(n=this.Hnt.hls)?void 0:n.discontinuityAlignment){case VS.xN:return!0;case VS.PN:return!1;default:return t.isEvent||t.hasEnd}},i.wnt=function(t,n){void 0===this.Wtt&&(this.Wtt=this.Wnt(n));var i=this.znt(this.Unt),e=i?i.Dnt:Fm.zg,r=i?i.Cnt:Fm.zg,s=this.Vnt(t),u=s.ant,o=s.wnt(n);if(!u&&s.ant&&(s._s(this.Xnt(t)),o=!0),o=this.qnt(s)||o,this.Gnt(s,e,r)){var h=new ZP(jP.Nj,{code:"MFU0166"});this.dispatchEvent({type:"Kr",Kr:h})}else this.Unt=t,o&&this.dispatchEvent("w$")},i.Xtt=function(t,n){if(_O(n)){0;var i=this.Vnt(t),e=i.Xtt(n);e=this.qnt(i)||e,this.Fnt=t,e&&this.dispatchEvent("w$")}},i.qnt=function(t){var n=!1,i=!1,e=this.znt(this.Fnt);e&&(e===t?n=!0:i=(n=t.mnt(e))||i);var r=this.znt(this.Unt);return r&&r!==t&&(i=n?r.mnt(t)||i:t.mnt(r)||i),i},i.Xnt=function(t){var n=this.znt(t),i=!n.knt,e=t.nZ&&t.nZ.isEvent;return i||e?Fm.zg:n.Ont.oy(3)},i.Gnt=function(t,n,i){if(!t.knt)return!1;var e=t.Dnt,r=t.Cnt,s=Fm.ky(r,i).xg(Fm.py(e,n)),u=Fm.py(t.Ont.oy(3),s.ly(2));return e.Rw(u).Rg(n)},i.l$=function(t,n){var i=this.znt(t)||this.znt(this.Unt);return i&&i.l$(n)},i.rtt=function(t){var n=this.Unt&&this.znt(this.Unt);return n?n.rtt(t):NaN},i.Qnt=function(t,n){var i=t.iZ(n);return this.s2(i)},i.s2=function(t){if(!t)return Fm.Ny;var n=this.znt(t.AJ)||this.znt(this.Unt);return n?n.s2(t):Fm.Ny},i.u2=function(t,n){if(!t)return Fm.Ny;var i=this.znt(t.AJ)||this.znt(this.Unt);return i?i.u2(t,n):Fm.Ny},i.a2=function(t,n){if(!t||!n)return Fm.Ny;var i=this.znt(t.AJ)||this.znt(this.Unt);return i?i.a2(t,n):Fm.Ny},i.k8=function(t,n,i){var e=this.znt(t);if(!e)return null;var r=e.k8(n,i);return r?{ik:r.ik,Int:r.Int}:null},i.Ent=function(t,n){var i=this.znt(t)||this.znt(this.Unt);return i?i.Ent(n):null},i.Rnt=function(t,n){var i=this.znt(t)||this.znt(this.Unt);return i?i.Rnt(n):Fm.Ny},i.ttt=function(t){return void 0!==this.Ynt(t)},i.ntt=function(t,n){if(this===t)return Fm.zg;var i=this.Ynt(n),e=t.Ynt(n);return i&&e?i.ntt(e,n):Fm.Ny},i.Ynt=function(t){return $r(this.Lnt,function(n){return n.ttt(t)})},i.ov=function(){this.Vr(),this.Lnt.length=0,this.Mnt={},this.Unt=null,this.Fnt=null,this.vnt=Fm.zg},i.Stt=function(){0},A(n,[{key:"jnt",get:function(){return this.Dnt.xg(this.Ont.oy(3))}},{key:"Pnt",get:function(){var t=this.Hnt.liveOffset;return Fm.Ry(t||3*this.Ont.kg())}},{key:"knt",get:function(){var t=this.znt(this.Unt);return!!t&&t.knt}},{key:"Sw",get:function(){return this.Unt?new wB([{aI:this.Dnt.kg(),fI:this.Cnt.kg()}]):gB}},{key:"Dnt",get:function(){if(!this.Unt)return Fm.zg;var t=this.znt(this.Unt);return t.Nnt?t.Dnt:t.Dnt.Rw(t.Bnt)}},{key:"Cnt",get:function(){if(!this.Unt)return Fm.zg;var t=this.znt(this.Unt);return t.Cnt.Rw(t.Bnt)}},{key:"xnt",get:function(){if(!this.Unt)return Fm.zg;var t=this.znt(this.Unt);return t.xnt.Rw(t.Bnt)}},{key:"Ont",get:function(){return this.Unt?this.znt(this.Unt).Ont:NU}},{key:"ps",get:function(){return this.vnt},set:function(t){if(!this.vnt.cg(t)){this.vnt=t;for(var n=0,i=this.Lnt;n<i.length;n++){i[n].ps=t}this.dispatchEvent("w$")}}}]),n}(QP),xU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Xnt=function(t){return Fm.zg},n}(CU),PU=.25,OU=1/60;function BU(t,n){return Zr(t,n,OU)}var LU,MU=function(t,n,i){this.AJ=void 0,this.Gw=void 0,this.v_=void 0,this.Qw=void 0,this.ik=void 0,this.Znt=NaN,this.Jnt=NaN,this.$nt=0,this.AJ=t.AJ,this.Gw=n,this.Qw=i,this.v_=i-n,this.ik=t},UU=function(t,n,i){this.AJ=void 0,this.Gw=void 0,this.v_=void 0,this.Qw=void 0,this.Znt=NaN,this.Jnt=NaN,this.$nt=0,this.AJ=t,this.Gw=n,this.Qw=i,this.v_=i-n};function FU(t){return!(!t||!t.ik)}function HU(t,n,i){return e=n,r=i,s=t.Gw,u=t.Qw,BU(e,u)<=0&&BU(s,r)<=0;var e,r,s,u}function zU(t,n){return BU(t.Gw,n)<=0?t.Qw:t.Gw}function VU(t,n,i){return(t-n)/i-PU}function WU(t,n){return n.xg(t).RI(t)}function XU(t,n){var i=_.min(OU,t.v_/2);return n.xI(t.Gw,t.Qw,i)}function qU(t,n){var i=n.Q1(t);return-1===i?t:n.end(i)}function GU(t){return t.Jnt<=t.Znt}function QU(t,n){if(!GU(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.$nt+n.Jnt>e.Znt)return!1}return!0}function YU(t,n){for(var i=0;i<t.length;i++){t[i].$nt+=n.Jnt}n.$nt=n.Jnt,t.push(n)}!function(t){t[t.Knt=0]="Knt",t[t.tit=1]="tit",t[t.nit=2]="nit",t[t.j8=3]="j8"}(LU||(LU={}));var jU=function(){function t(t,n,i,e){this.Yp=void 0,this.Fb=void 0,this.iit=void 0,this.eit=void 0,this.rit=void 0,this.c1=void 0,this.Yp=t,this.Fb=n,this.iit=i,this.eit=e,this.rit=sB.In.M0,this.c1=sB.In.L0}var n=t.prototype;return n.sit=function(){return this.iit.KZ.reduce(function(t,n){return _.max(t,n.nZ&&n.nZ.targetDuration||0)},0)},n.uit=function(t,n){void 0===n&&(n=this.Fb.s2(t).kg());var i=this.Fb.u2(t,Fm.Ry(n));return new MU(t,n,i.kg())},n.oit=function(t,n){var i=t.Kj.Mj(n);return i&&this.uit(i)||null},n.hit=function(t){var n=t.AJ,i=n.Kj.Lj(t.Pj);return i>=0&&this.oit(n,i-1)||null},n.ait=function(t){var n=t.AJ,i=n.Kj.Lj(t.Pj);return i>=0&&this.oit(n,i+1)||null},n.cit=function(t,n){var i=this.Fb.k8(t,Fm.Ry(n));return i&&this.uit(i.ik,i.Int.kg())||null},n.fit=function(t){var n=t.Kj.il-1;return n>=0&&this.oit(t,n)||null},n.vit=function(t,n,i){var e=t.nZ&&t.nZ.targetDuration||this.sit()||10,r=_.max(0,n-e),s=r+e;return i&&HU(i,r,s)&&(s=(r=i.Qw)+e),new UU(t,r,s)},n.dit=function(t,n,i){var e=this.eit.w5,r=.8*this.eit.g5,s=(n.bandwidth||0)*t.v_;return i&&i.l0?((s=8*i.O1||s)-8*i.P1)/r:e+s/r},n.lit=function(){for(var t=this.eit.q6(this.Yp),n=this.eit.T6(this.Yp),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n._it=function(t,n){var i=n.filter(function(n){return n.AJ===t});return UB(this.Fb,i).n2()},n.wit=function(t){return"audio"===this.Yp&&t?[t]:this.iit.KZ},n.git=function(t){for(var n=new MB([]),i=new MB([]),e=this.lit(),r={yit:{},mit:{},pit:{},kit:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this._it(u,e),h=VB(this.Fb,o);r.yit[u.ll]=o,r.mit[u.ll]=h,r.pit[u.ll]=n=WU(n,o),r.kit[u.ll]=i=WU(i,h)}return r},n.Ait=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c].ll],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({aI:d,fI:l})}return 0===(s=pB(s=mB(new wB(a)),new wB([{aI:t,fI:n}]))).length||BU(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,BU(u,t)<=0&&BU(h,o)<=0)?NaN:s.end(0)},n.Tit=function(t,n,i){var e=null,r=i.yit[t.ll],s=i.pit[t.ll],u=i.kit[t.ll],o=s.Q1(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new wB([{aI:h,fI:a}]),f=s.bI(c).xg(u),v=0;v<f.length;v++){var d=f.start(v),l=f.Kj(v)[0];if(l.ik.AJ===t){if(e=this.hit(l.ik))return e}else{for(e=this.cit(t,d);e&&XU(e,r);)e=this.hit(e.ik);if(e)return e}}var w=s.Kj(o),g=w[w.length-1];if(g.ik.AJ===t&&(e=this.ait(g.ik)))return e}var y=this.fit(t);if(!y||BU(y.Qw,n)<=0){if(!y||!y.ik.g4)return e=this.vit(t,n,y);e=y}for(e||(e=this.cit(t,n));e&&XU(e,s);)e=this.ait(e.ik);return e},n.Sit=function(t,n){var i=this.fit(t);return i&&i.ik.g4&&BU(i.Qw,n)<=0?i:this.cit(t,n)},n.Eit=function(t,n,i,e,r,s,u,o){var h=t.AJ,a=u.pit[h.ll],c=!XU(t,a),f=c?n:zU(t,e);t.Znt=VU(f,e,s),t.Jnt=this.dit(t,h);var v=o&&this.uit(o);if(v&&!XU(v,a)){var d=zU(v,e);if(v.Znt=VU(d,e,s),v.Jnt=this.dit(v,h,i&&i.f1),GU(v)&&(!c||function(t,n){var i=[];return!!QU(i,n)&&(YU(i,n),!(!FU(t)||!FU(n)||t.ik!==n.ik)||!!QU(i,t))}(t,v)))return v}if(c&&!GU(t))return null;var l=this.Iit(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.Iit=function(t,n,i,e,r){for(var s=[],u=t.AJ,o=t;o&&n<o.Qw&&i<=o.Gw;){if(!XU(o,r)){if(y(o.Znt)){var h=zU(o,n);o.Znt=VU(h,n,e),o.Jnt=this.dit(o,u)}QU(s,o)&&YU(s,o)}o=FU(o)&&this.hit(o.ik)}return s},n.Rit=function(t,n){return t.Gw<n?{wl:LU.nit}:FU(t)?{wl:LU.Knt,ik:t.ik,Gw:t.Gw}:{wl:LU.tit,AJ:t.AJ}},n.V6=function(t){if(lO(t.uri)){var n=t.uri,i=oB(n.SZ,[n.EZ.aI,n.EZ.fI]);return this.c1.hs(i)}var e=oB(t.uri);return this.c1.hs(e)},n.Nit=function(t){return this.rit.hs(t.uri)},n.Dit=function(t,n,i,e,r,s,u,o,h){var a,c,f,v,d,l,_,w,g,m,p,k,b;return tr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=this.wit(e),c=this.git(a),f=this.Fb.jnt.kg(),v=this.Ait(t,n,r,a,c.mit),_=null,g=!1,!y(v)){A.next=3;break}return A.abrupt("return",{wl:LU.j8});case 3:if(!(v<f)){A.next=5;break}return A.abrupt("return",{wl:LU.nit});case 5:m=o.length-1;case 6:if(!(m>=0)){A.next=27;break}if(d=o[m],l=qU(v,c.mit[d.ll]),!(_=this.Tit(d,l,c))){A.next=24;break}if(p=!1,!FU(_)){A.next=18;break}return A.next=15,tr.awrap(this.V6(_.ik));case 15:p=A.sent,A.next=22;break;case 18:if(d.UJ){A.next=22;break}return A.next=21,tr.awrap(this.Nit(d));case 21:p=A.sent;case 22:if(!p){A.next=24;break}return A.abrupt("return",this.Rit(_,f));case 24:m-=1,A.next=6;break;case 27:if(!(v<=t+PU&&h.length)){A.next=33;break}if(d=h[0],l=qU(v,c.mit[d.ll]),!(_=this.Tit(d,l,c))){A.next=33;break}return A.abrupt("return",this.Rit(_,f));case 33:k=h.length-1;case 34:if(!(k>=0)){A.next=48;break}if(d=h[k],l=qU(v,c.mit[d.ll]),(_=this.Tit(d,l,c))?w=_:(g=!0,w=this.Sit(d,l)),!w){A.next=45;break}if(!(b=this.Eit(w,l,s,t,f,i,c,u))){A.next=45;break}return A.abrupt("return",this.Rit(b,f));case 45:k-=1,A.next=34;break;case 48:if(!g){A.next=50;break}return A.abrupt("return",{wl:LU.j8});case 50:if(!_){A.next=52;break}return A.abrupt("return",this.Rit(_,f));case 52:if(o.length){A.next=54;break}return A.abrupt("return",{wl:LU.j8});case 54:if(d=o[0],l=qU(v,c.mit[d.ll]),!(_=this.Tit(d,l,c))){A.next=61;break}return A.abrupt("return",this.Rit(_,f));case 61:return A.abrupt("return",{wl:LU.j8});case 62:case"end":return A.stop()}},null,this,null,ge)},t}(),ZU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).Cit=i,o.xit=e,o.ub=r,o.Yp=s,o.ev=u,o}return S(n,t),n}(Rs),JU=function(t){function n(n,i,e,r,s){return t.call(this,lc.Da,n,i,e,r,s)||this}return S(n,t),n}(ZU),$U=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,lc.xa,n,i,e,r,s)||this).Pit=u,h.pw=o,h}return S(n,t),n}(ZU),KU=Fm.Ry(.1);function tF(t,n){return(t.i8===n.i8?Hm(t.H2,n.H2):Hm(t.Oit,n.Oit))||Yr(t.ub,n.ub)}var nF,iF=function(){function t(){}return t.Bit=function(t,n,i){if(!(n>=i)){var e=ss(t,function(t,n){return new aP(t.map(function(t){return t?t.Lit():null}),n).oG()});if(0!==e.length)return new vP(n,i,e)}},t}(),eF="black",rF="white",sF=function(){function t(t,n){this.Mit=void 0,this.Uit=void 0,this.Fit=void 0,this.Hit=void 0,this.zit=void 0,this.Vit=void 0,this.Wit=void 0,this.Xit=void 0,this.qit=void 0,this.Mit=new Array(uF+1);for(var i=0;i<=uF;i++)this.Mit[i]=new tP;this.Uit=1,this.Fit=0,this.Hit=t,this.zit=n,this.Vit=!1,this.Wit=!1,this.Xit=rF,this.qit=eF,this.tl()}var n=t.prototype;return n.Git=function(t,n){var i="CC"+(this.Hit<<1|this.zit+1);if(t>=n)return null;var e=(new hP).Qq(this.Mit.slice(1));return 0===e.length?null:{qw:new vP(t,n,e),wf:i,_G:this.Hit<<1|this.zit+1}},n.tl=function(){this.Qit(),this.Uit=1},n.Yit=function(){return this.Uit},n.jit=function(t){this.Uit=t},n.Iq=function(t){this.Mit[this.Uit].Iq(t)},n.Rq=function(t){this.Mit[this.Uit].Rq(t)},n.Zit=function(){return this.Fit},n.Jit=function(t){this.Fit=t},n.Dq=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case nF.$it:i=void 0!==hF[n]?hF[n]:String.fromCharCode(n);break;case nF.Kit:i=aF[n];break;case nF.tet:this.net(),i=cF[n];break;case nF.iet:this.net(),i=fF[n]}i&&this.Mit[this.Uit].addParsedChar(i)}},n.net=function(){this.Mit[this.Uit].Nq()},n.eet=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Mit[t+e]=this.Mit[n+e];else for(var r=0;r<i;r++)this.Mit[t+r]=this.Mit[n+r]},n.ret=function(t,n){for(var i=0;i<=n;i++)this.Mit[t+i]=new tP},n.Qit=function(){this.ret(0,uF)},n.uet=function(){this.Uit=this.Fit>0?this.Fit:0,this.Qit()},n.oet=function(t){this.Vit=t},n.het=function(t){this.Wit=t},n.aet=function(t){this.Xit=t},n.cet=function(t){this.qit=t},t}(),uF=15;!function(t){t[t.$it=0]="$it",t[t.Kit=1]="Kit",t[t.tet=2]="tet",t[t.iet=3]="iet"}(nF||(nF={}));var oF,hF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},aF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},cF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},fF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},vF=function(){function t(t,n){this.fi=void 0,this.fet=void 0,this.vet=void 0,this.det=void 0,this.let=void 0,this._et=void 0,this.wet=void 0,this.yet=void 0,this.fi=oF.ZE,this.fet=new sF(t,n),this.vet=new sF(t,n),this.det=new sF(t,n),this.let=this.vet,this._et=0,this.wet=void 0,this.yet=!1}var n=t.prototype;return n.tl=function(){this.yet=!0,this._et=0,this.fi=oF.ZE,this.let=this.vet,this.wet=void 0,this.vet.tl(),this.det.tl(),this.fet.tl()},n.met=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.pet=function(t,n){var i=this.met(t,n),e=(30&n)>>1,r=rF,s=!1;e<7?r=wF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.fi!==oF.Pn){var o=this.let;if(this.fi===oF.ket&&i!==o.Yit()){var h=1+o.Yit()-o.Zit(),a=1+i-o.Zit();o.eet(a,h,o.Zit()),o.ret(0,a-1),o.ret(i+1,uF-i)}o.jit(i);var c=mP[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=pP.iQ(c,n);o.Iq(f.qq),this.let.oet(u),this.let.het(s),this.let.aet(r),this.let.cet(eF)}}},n.bet=function(t,n){this.let.oet(!1),this.let.het(!1),this.let.aet(rF);var i=this.Aet(t,nF.$it," ".charCodeAt(0)),e=rF,r=!1,s=1==(1&n);return"white_italics"===(e=wF[(14&n)>>1])&&(e="white",r=!0),this.let.oet(s),this.let.het(r),this.let.aet(e),i},n.Aet=function(t,n,i){if(this.let.Dq(n,i),this.fi===oF.Tet||this.fi===oF.ket){var e=this.Eet(this.let,this._et,t);return this._et=t,e}return null},n.Eet=function(t,n,i){return this.yet?null:t.Git(n,i)},n.Iet=function(t,n){var i=eF;0==(7&t)&&(i=_F[(14&n)>>1]),this.let.cet(i)},n.Ret=function(t){var n=dF,i=t.Net,e=t.V5,r=null;switch(i){case n.RCL:this.Det();break;case n.BS:this.Cet();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.xet(2,e);break;case n.RU3:r=this.xet(3,e);break;case n.RU4:r=this.xet(4,e);break;case n.FON:r=this.Pet(e);break;case n.RDC:this.Oet(e);break;case n.TR:this.Bet();break;case n.RTD:this.Let();break;case n.EDM:r=this.Met(e);break;case n.CR:r=this.Uet(e);break;case n.ENM:this.Fet();break;case n.EOC:r=this.Het(e)}return r},n.Uet=function(t){var n=this.let;if(this.fi!==oF.ket)return null;var i=this.Eet(n,this._et,t),e=n.Yit()-n.Zit()+1;return n.eet(e-1,e,n.Zit()),n.ret(0,e-1),n.ret(n.Yit(),uF-n.Yit()),this._et=t,i},n.xet=function(t,n){this.let=this.vet;var i=this.let,e=null;return this.fi!==oF.ket&&this.fi!==oF.Pn&&(e=this.Eet(i,this._et,n),this.vet.uet(),this.det.uet(),this.yet=!1,i.jit(uF)),this.fi=oF.ket,i.Jit(t),e},n.Pet=function(t){return this.Aet(t,nF.$it," ".charCodeAt(0))},n.Met=function(t){var n=this.vet,i=null;return this.fi!==oF.Pn&&(i=this.Eet(n,this._et,t)),n.Qit(),this.yet=!1,i},n.Oet=function(t){this.fi=oF.Tet,this.let=this.vet,this.let.Jit(0),this._et=t},n.Fet=function(){this.det.Qit()},n.Het=function(t){var n=null;this.fi!==oF.Pn&&(n=this.Eet(this.vet,this._et,t));var i=this.det;return this.det=this.vet,this.vet=i,this.Det(),this._et=t,n},n.Det=function(){this.fi=oF.zet,this.let=this.det,this.let.Jit(0)},n.Cet=function(){this.let.net()},n.Bet=function(){this.fet.tl(),this.yet=!1,this.Let()},n.Let=function(){this.let=this.fet,this.fi=oF.Pn},n.Vet=function(t,n,i){return this.let.Dq(nF.$it,n),this.Aet(t,nF.$it,i)},n.Wet=function(t,n,i){var e=1&n?nF.iet:nF.tet;return this.Aet(t,e,i)},n.Xet=function(t){var n=t.qet,i=t.Net,e=t.V5;if(this.wet===(n<<8|i))return this.wet=void 0,null;if(this.wet=n<<8|i,this.Get(n,i))this.pet(n,i);else{if(this.Qet(n,i))return this.bet(e,i);if(this.Yet(n,i))this.Iet(n,i);else{if(this.jet(n,i))return this.Aet(e,nF.Kit,i);if(this.Zet(n,i))return this.Wet(e,n,i);if(this.Jet(n,i))return this.Ret(t);this.isTabOffset(n)&&this.let.Rq(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Jet=function(t,n){return 20==(246&t)&&32==(240&n)},n.Get=function(t,n){return 16==(240&t)&&64==(192&n)},n.Qet=function(t,n){return 17==(247&t)&&32==(240&n)},n.Yet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.jet=function(t,n){return 17==(247&t)&&48==(240&n)},n.Zet=function(t,n){return 18==(246&t)&&32==(224&n)},t.$et=function(t){return 16==(112&t)},t}(),dF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.ZE=0]="ZE",t[t.zet=1]="zet",t[t.Tet=2]="Tet",t[t.ket=3]="ket",t[t.Pn=4]="Pn"}(oF||(oF={}));var lF,_F=["black","green","blue","cyan","red","yellow","magenta","black"],wF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],gF=function(){function t(t,n,i,e,r){this.Ket=void 0,this.Vit=void 0,this.Wit=void 0,this.qit=void 0,this.Xit=void 0,this.Ket=t,this.Vit=n,this.Wit=i,this.qit=e,this.Xit=r}var n=t.prototype;return n.Lit=function(){return this.Ket},n.trt=function(){return this.Vit},n.nrt=function(){return this.Wit},n.irt=function(){return this.qit},n.ert=function(){return this.Xit},t}(),yF=function(){function t(t){this.rrt=void 0,this.iI=void 0,this.urt=void 0,this.ort=void 0,this.hrt=void 0,this.art=void 0,this.crt=void 0,this.frt=void 0,this.vrt=void 0,this.drt=void 0,this.eg=void 0,this.Uit=void 0,this.lrt=void 0,this.Wit=void 0,this.Vit=void 0,this.Xit=void 0,this.qit=void 0,this.rrt=t,this.iI=!1,this.urt=!1,this.ort=0,this.hrt=0,this.art=0,this.crt=0,this.frt=0,this.vrt=lF._rt,this.drt=[],this.eg=0,this.Uit=0,this.lrt=0,this.Wit=!1,this.Vit=!1,this.Xit=rF,this.qit=eF,this.wrt()}var n=t.prototype;return n.grt=function(t,n,i,e,r,s,u){this.iI=t,this.hrt=n,this.ort=i,this.art=e,this.urt=r,this.crt=s,this.frt=u},n.wrt=function(){this.drt=[];for(var t=0;t<pF;t++)this.drt.push(this.yrt())},n.yrt=function(){for(var t=[],n=0;n<mF;n++)t.push(null);return t},n.mrt=function(t){this.prt()&&(this.drt[this.Uit][this.lrt]=new gF(t,this.Vit,this.Wit,this.qit,this.Xit),this.lrt++)},n.Hq=function(){this.prt()&&(this.lrt<=0&&this.Uit<=0||(this.lrt<=0?(this.lrt=this.frt-1,this.Uit--):this.lrt--,this.drt[this.Uit][this.lrt]=null))},n.prt=function(){var t=this.Uit<this.crt&&this.Uit>=0,n=this.lrt<this.frt&&this.lrt>=0;return t&&n},n.krt=function(){return this.iI},n.brt=function(t){for(var n=0,i=t;i<pF;i++,n++)this.drt[n]=this.drt[i];for(var e=0;e<t;e++,n++)this.drt[n]=this.yrt()},n.Art=function(){if(this.Uit+1>=this.crt)return this.brt(1),void(this.lrt=0);this.Uit++,this.lrt=0},n.Trt=function(){this.drt[this.Uit]=this.yrt(),this.lrt=0},n.Git=function(t,n){if(this.eg>=t)return null;var i=iF.Bit(this.drt,this.eg,t);return i?(this.$tt(t),{qw:i,wf:"svc"+n,_G:n}):null},n.Srt=function(t,n){this.Uit=t,this.lrt=n},n.Ert=function(t){this.qit=t},n.Irt=function(t){this.Xit=t},n.Rrt=function(t){this.Vit=t},n.Nrt=function(t){this.Wit=t},n.Drt=function(){this.Uit=0,this.lrt=0,this.Vit=!1,this.Wit=!1,this.Xit=rF,this.qit=eF},n.Crt=function(t){this.vrt=t},n.xrt=function(){this.iI=!0},n.ew=function(){this.iI=!1},n.Prt=function(){this.iI=!this.iI},n.$tt=function(t){this.eg=t},t}();!function(t){t[t.Ort=0]="Ort",t[t.Brt=1]="Brt",t[t._rt=2]="_rt",t[t.Lrt=3]="Lrt"}(lF||(lF={}));var mF=42,pF=15,kF=function(){function t(t){this.Mrt=void 0,this.Urt=void 0,this.Frt=void 0,this.Mrt=t,this.Urt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Frt=void 0}var n=t.prototype;return n.Hrt=function(t){var n=t.zrt(),i=n.qn,e=n.V5;i===EF&&(i=i<<16|t.zrt().qn);return i>=0&&i<=31?this.Vrt(i,e):i>=128&&i<=159?this.Wrt(t,i,e):(i>=4096&&i<=4127?this.Xrt(t,255&i):i>=4224&&i<=4255?this.qrt(t,255&i):i>=32&&i<=127?this.Grt(i):i>=160&&i<=255?this.Qrt(i):i>=4128&&i<=4223?this.Yrt(255&i):i>=4256&&i<=4351&&this.jrt(255&i),null)},n.Grt=function(t){this.Frt&&(127!==t?this.Frt.mrt(String.fromCharCode(t)):this.Frt.mrt("\u266a"))},n.Qrt=function(t){this.Frt&&this.Frt.mrt(String.fromCharCode(t))},n.Yrt=function(t){if(this.Frt)if(void 0!==IF[t]){var n=IF[t];this.Frt.mrt(n)}else this.Frt.mrt("_")},n.jrt=function(t){this.Frt&&(160===t?this.Frt.mrt("[CC]"):this.Frt.mrt("_"))},n.Vrt=function(t,n){if(!this.Frt)return null;var i=this.Frt,e=null;switch(t){case bF:i.Hq();break;case TF:i.krt()&&(e=i.Git(n,this.Mrt)),i.Art();break;case SF:i.krt()&&(e=i.Git(n,this.Mrt)),i.Trt();break;case AF:i.krt()&&(e=i.Git(n,this.Mrt)),i.wrt(),i.Srt(0,0)}return e},n.Wrt=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Zrt(e)}else{if(136===n){var r=t.zrt().qn;return this.Jrt(r,i)}if(137===n){var s=t.zrt().qn;this.$rt(s,i)}else{if(138===n){var u=t.zrt().qn;return this.Krt(u,i)}if(139===n){var o=t.zrt().qn;return this.tst(o,i)}if(140===n){var h=t.zrt().qn;return this.nst(h,i)}if(143===n)return this.tl(i);if(144===n)this.ist(t);else if(145===n)this.est(t);else if(146===n)this.Srt(t);else if(151===n)this.rst(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.grt(t,a,i)}}}return null},n.Xrt=function(t,n){n>=8&&n<=15?t.ip(1):n>=16&&n<=23?t.ip(2):n>=24&&n<=31&&t.ip(3)},n.qrt=function(t,n){n>=128&&n<=135?t.ip(4):n>=136&&n<=143&&t.ip(5)},n.Zrt=function(t){this.Urt[t]&&(this.Frt=this.Urt[t])},n.sst=tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Urt[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Jrt=function(t,n){for(var i=null,e=0,r=this.sst(t);e<r.length;e++){var s=r[e],u=this.Urt[s];u.krt()&&(i=u.Git(n,this.Mrt)),u.wrt()}return i},n.$rt=function(t,n){for(var i=0,e=this.sst(t);i<e.length;i++){var r=e[i],s=this.Urt[r];s.krt()||s.$tt(n),s.xrt()}},n.Krt=function(t,n){for(var i=null,e=0,r=this.sst(t);e<r.length;e++){var s=r[e],u=this.Urt[s];u.krt()&&(i=u.Git(n,this.Mrt)),u.ew()}return i},n.tst=function(t,n){for(var i=null,e=0,r=this.sst(t);e<r.length;e++){var s=r[e],u=this.Urt[s];u.krt()?i=u.Git(n,this.Mrt):u.$tt(n),u.Prt()}return i},n.nst=function(t,n){for(var i=null,e=0,r=this.sst(t);e<r.length;e++){var s=r[e],u=this.Urt[s];u.krt()&&(i=u.Git(n,this.Mrt)),this.Urt[s]=void 0}return i},n.tl=function(t){var n=this.nst(255,t);return this.vs(),n},n.vs=function(){this.Frt=void 0,this.Urt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.ist=function(t){t.ip(1);var n=t.zrt().qn;if(this.Frt){var i=(128&n)>0,e=(64&n)>0;this.Frt.Nrt(i),this.Frt.Rrt(e)}},n.est=function(t){var n=t.zrt().qn,i=t.zrt().qn;if(t.ip(1),this.Frt){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.ust(s,r,e),c=this.ust(h,o,u);this.Frt.Irt(a),this.Frt.Ert(c)}},n.Srt=function(t){var n=t.zrt().qn,i=t.zrt().qn;if(this.Frt){var e=15&n,r=63&i;this.Frt.Srt(e,r)}},n.rst=function(t){t.ip(1),t.ip(1);var n=t.zrt().qn;if(t.ip(1),this.Frt){var i=3&n;this.Frt.Crt(i)}},n.grt=function(t,n,i){var e=void 0!==this.Urt[n];if(!e){var r=new yF(n);r.$tt(i),this.Urt[n]=r}var s=t.zrt().qn,u=t.zrt().qn,o=t.zrt().qn,h=t.zrt().qn,a=t.zrt().qn,c=t.zrt().qn,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),w=(240&h)>>4,g=1+(63&a);e&&0===(7&c)||this.Urt[n].Drt(),this.Urt[n].grt(f,v,l,w,d,_,g),this.Frt=this.Urt[n]},n.ust=function(t,n,i){var e={0:0,1:0,2:1,3:1};return RF[e[t]<<2|e[n]<<1|e[i]]},t}(),bF=8,AF=12,TF=13,SF=14,EF=16,IF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},RF=["black","blue","green","cyan","red","magenta","yellow","white"],NF=function(){function t(){this.ost=void 0,this.hst=void 0,this.ast=void 0,this.ost=[],this.hst=null,this.ast=0}var n=t.prototype;return n.cst=function(t){if(t.tr===Px.kq){var n=63&t.qn;return this.ast=2*n-1,void(this.hst=[])}if(this.hst&&(this.ast>0&&(this.hst.push(t),this.ast--),0===this.ast)){var i=new DF(this.hst);this.ost.push(i),this.hst=null,this.ast=0}},n.fst=function(){return this.ost},n.vst=function(){this.ost=[]},n.vs=function(){this.ost=[],this.hst=[],this.ast=0},t}(),DF=function(){function t(t){this.dst=void 0,this.lst=void 0,this.dst=0,this.lst=t}var i=t.prototype;return i._st=function(){return this.dst<this.lst.length},i.wst=function(){return this.dst},i.zrt=function(){if(!this._st())throw new Ya(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.lst[this.dst++]},i.ip=function(t){if(this.dst+t>this.lst.length)throw new Ya(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.dst+=t},t}(),CF=function(){function t(){this.gst=void 0,this.yst=void 0,this.mst=void 0,this.pst=void 0,this.kst=void 0,this.bst=void 0,this.Ast=void 0,this.Tst=void 0,this.Sst=!1,this.gst=[],this.yst=[],this.mst=new NF,this.pst=0,this.kst=sr({CC1:new vF(0,0),CC2:new vF(0,1),CC3:new vF(1,0),CC4:new vF(1,1)}),this.bst=0,this.Ast=0,this.Tst=rr(),this.tl()}var i=t.prototype;return i.vs=function(){this.pst=0,this.gst=[],this.yst=[],this.mst.vs(),this.tl(),this.Tst.forEach(function(t){t.vs()})},i.tl=function(){this.bst=0,this.Ast=0,this.kst.forEach(function(t){t.tl()})},i.V3=function(t,n){if(t.YG){var i=t.ZG,e=t.JG,r=t.tr;r===Px.yq||r===Px.mq?this.gst.push({V5:n,tr:r,qet:i,Net:e,Est:this.gst.length}):this.Sst&&(this.yst.push({V5:n,tr:r,qn:i,Est:this.yst.length}),this.yst.push({V5:n,tr:Px.pq,qn:e,Est:this.yst.length}))}},i.LN=function(){var t=[];Xr(this.gst,function(t,n){return t.V5-n.V5||t.Est-n.Est}),Xr(this.yst,function(t,n){return t.V5-n.V5||t.Est-n.Est});for(var n=0,i=this.gst;n<i.length;n++){var e=i[n],r=this.Ist(e);r&&t.push(r)}for(var s=0,u=this.yst;s<u.length;s++){var o=u[s];this.mst.cst(o)}for(var h=this.mst.fst(),a=0;a<h.length;a++){var c=h[a],f=this.Rst(c);t.push.apply(t,f)}return this.mst.vst(),this.gst=[],this.yst=[],t},i.Ist=function(t){var n=t.tr;if(vF.$et(t.qet)){var i=t.qet>>3&1;0===n?this.bst=i:this.Ast=i}var e="CC"+(n<<1|(n?this.Ast:this.bst)+1),r=this.kst.get(e);return 255===t.qet&&255===t.Net||!t.qet&&!t.Net||!this.Nst(t.qet)||!this.Nst(t.Net)?(++this.pst>=45&&this.tl(),null):(this.pst=0,t.qet&=127,t.Net&=127,t.qet||t.Net?vF.$et(t.qet)?r.Xet(t):r.Vet(t.V5,t.qet,t.Net):null)},i.Rst=function(t){var i=[];try{for(;t._st();){var e=t.zrt().qn,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.zrt().qn;if(0!==r){if(!this.Tst.has(r)){var u=new kF(r);this.Tst.set(r,u)}for(var o=this.Tst.get(r),h=t.wst();t.wst()-h<s;){var a=o.Hrt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Ya&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Nst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),xF=function(t){function n(n){var i;return(i=t.call(this)||this).c$=void 0,i.Dst=[],i.c$=n,i}S(n,t);var i=n.prototype;return i.Cst=function(t,n,i){var e=this.xst(t),r=this.Pst(e);this.Ost(r,n,i),this.LN()},i.xst=function(t){if(0===t.length)return[];for(var n=t[0].i8,i=this.Bst(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.i8&&(n=s.i8,i=this.Bst(s)),e.push(nr({},s,{Oit:s.H2.Rw(i)}))}return e},i.Bst=function(t){var n=this.c$.a2(t.i8,t.H2),i=n.xg(t.H2);return Zm(n,t.H2).xg(i)},i.Pst=function(t){var n,i,e,r,s,u=t.slice().sort(tF),o=this.Dst;if(o.length)if(u.length){var h=1/u[0].i8.a$,a=u[0].Oit,c=o[0].Oit,f=o[o.length-1].Oit,v=(r=o[0].i8,s=u[0].i8,r.AJ===s.AJ);if(f.xg(a).Rg(Fm.Ry(2.5*h))&&v)n=o.concat(u).sort(tF);else if(a.Tg(c)){for(var d=0;d<o.length&&o[d].Oit.Rg(a);)d++;for(var l=!1,_=!1,w=d,g=0;w<o.length&&g<u.length;w++,g++)i=o[w],e=u[g],i.H2.cg(e.H2)&&i.tr===e.tr&&i.ZG===e.JG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(tF):y?n=o.slice(0,d).concat(u):(n=u,m&&this.tl())}else n=u,this.tl()}else n=o;else n=u;return n},i.Ost=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.xg(e.Oit),s=Zm(n,e.Oit).xg(r),u=n.Rw(s),o=KU.by(u.gy),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.xg(a.Oit).Rg(o))return void(this.Dst=t.slice(h));var c=this.c$.a2(a.i8,a.H2);this.QG(a,c.kg())}this.Dst=[]}},A(n,[{key:"bk",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).Lst=void 0,n.Lst=new CF,n}S(n,t);var i=n.prototype;return i.QG=function(t,n){this.Lst.V3(t,n)},i.LN=function(){for(var t=this.Lst.LN(),n=0;n<t.length;n++){var i=t[n];this.Ur(new dP(i._G,i.qw))}},i.tl=function(){this.Lst.vs()},i.ov=function(){this.Vr(),this.Lst.vs()},n}(Es)),PF=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).Mst=!1,f.Ust=!1,f.I6=void 0,f.WK=void 0,f.Fst=void 0,f.eit=void 0,f.Hst=void 0,f.htt=void 0,f.eh=void 0,f.Fb=void 0,f.zst=void 0,f.Vst=!1,f.Wst=void 0,f.Xst=void 0,f.qst=!1,f.Gst=!1,f.Qst=null,f.uR=void 0,f.k$=void 0,f.Yst=void 0,f.jst=null,f.Qw=-1,f.Zst=null,f.Jst=!1,f.$st=!1,f.Kst=1/0,f.tut=void 0,f.nut=null,f.iut=0,f.eut=void 0,f.Mr=function(t){f.dispatchEvent(t)},f.rut=function(){!f.Vst&&!f.qst&&f.sut&&f.Mst&&(f.qst=f.uut("nJ",f.Wst,function(){f.qst=!1}))},f.out=function(){!f.Vst&&!f.Gst&&f.hut&&f.Ust&&(f.Gst=f.uut("iJ",f.Xst,function(){f.Gst=!1}))},f.aut=function(t){return f.cut()},f.fut=function(t){if(t.Yp===f.Yp){var n=t.i8,i=n.f4;i.N2&&f.vut(i.N2,n.info),i.L2&&f.dut(i.L2,n.info),f.cut(f.I6.O6,!0)}},f.vK=function(t){var n=t;f.lut(n.o$,n.AJ)},f._ut=function(t){if(1===t._G){if(f.jst)for(var n=0;n<f.jst.bk;n++){var i="CC"+(n+1);f.WK.F$(i,t.qw.Gw,t.qw.Qw)}f.WK.U$(t.qw)}},f.uR=a,f.WK=i,f.Fst=e,f.eit=r,f.Hst=s,f.htt=u,f.eh=o,f.I6=c,f.Fb=new CU(o),f.zst=f.wut(i),r.Jd(n,f.Fb,f.htt),f.Wst=new mU(u,f.Fb),f.Xst=new mU(u,f.Fb),f.jst=f.gut(f.Fb),f.eut=new jU(n,f.Fb,f.zst,r),r.addEventListener("n8",f.fut),f.Fb.addEventListener("Kr",f.Mr),i.addEventListener("K$",f.vK),f}S(n,t);var i=n.prototype;return i.uut=function(t,n,i){var e=this,r=this.htt.M6,s=5*this.htt.g_,u=this.yut(),o="audio"===this.Yp?[this.mut]:this.zst.KZ,h=n.Stt(),a=h[0],c=h[1],f=this.eit.I8(this.Yp,t,this.Fb,o,a,c||void 0,r,s,u);return f&&!f.length&&f.l8?(this.htt.kut("nJ"===t,"iJ"===t),!1):!(!f||!f.length)&&(this.Hst.v9(this.Yp,this.WK,f,f._8,f.A8,f.l8,function(t,r){if(i(),t)e.dispatchEvent({type:"Kr",Kr:t});else{var s=r;n.wtt(s).then(function(){return e.dispatchEvent("$K")}).catch(function(t){0})}}),!0)},i.but=function(){this.Hst.Dr(this.Yp),this.qst=!1,this.Gst=!1},i.Aut=function(){var t=this.htt.M6,n=this.Wst.ktt(t)||this.Xst.ktt(t);!n||this.Qst&&this.Qst.Pj===n.Pj||(this.cut(this.I6.O6),this.Qst=n,this.dispatchEvent({type:"Tut",Xb:this.Qst.ks.v4}))},i.Sut=function(){this.Eut()},i.Iut=function(){this.Sut()},i.Rut=function(){this.cut(this.I6.O6)},i.Nut=function(t,n){this.Wst.ktt(t)||this.Xst.ktt(t)||(this.Qst=null)},i.Dut=function(t){var n=!1;this.Wst.Ttt().Nw(t)||(this.rut(),n=!0),this.Xst.Ttt().Nw(t)||(this.out(),n=!0),n&&this.cut(this.I6.O6,!0)},i.Cut=function(){this.Wst.vs()},i.xut=function(){this.Xst.vs()},i.yut=function(){return 0===this.Wst.il+this.Xst.il?0:"a8"===this.eh.c8?0:1*this.eit.B6},i.Eut=function(){this.rut(),this.out()},i.UK=function(t){return-1!==this.zst.KZ.indexOf(t)},i.Put=function(t){t&&this.UK(t)&&(this.d$(t),this.Z$(t))},i.d$=function(t){this.Fb.wnt(t,t.nZ)},i.Z$=function(t){var n=this;if(t&&t.nZ&&this.eh.hlsDateRange){this.WK.Z$(t.nZ.dateRanges,function(i){return n.Fb.Rnt(t,i).kg()})}},i.Out=function(t){this.UK(t.AJ)&&this.Fb.Xtt(t.AJ,t)},i.But=function(t){var n,i,e,r=t,s=this.Wst.ktt(r)||this.Xst.ktt(r);if(s)i=s.ks.quality,e=s.Pj,n=s.aI;else{var u=this.mut;if(!u)return null;var o=this.Fb.k8(u,Fm.Ry(r));if(!o)return null;i=u,e=o.ik.Pj,n=o.Int.kg()}var h=this.Fb.Ent(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i.Rnt=function(t){var n=this.mut;return this.Fb.Rnt(n,t).kg()},i.cut=function(t,n){var i=this,e=this.Lut(),r=this.htt.M6;t&&(this.Qw=r+t,n&&(this.nut=null,this.iut=0)),this.Lut()||r>=this.Qw?this.Mut(e):this.Zst||this.Jst||!this.dl||(this.Uut(),this.Fut(function(t){return i.Hut(r,i.htt.g_,t)}))},i.zut=function(t){t&&this.Fst.removeEventListener(t.uri,this.aut)},i.Vut=function(t){t&&this.Fst.addEventListener(t.uri,this.aut)},i.Lut=function(){return-1===this.Qw},n.Wut=function(t){return fO.A_(t.AJ.LJ)&&XE()-t.Mp>2e3*t.AJ.nZ.metadata.i7},i.Fut=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.Zst=new as,i=this.Zst,e.prev=3,e.next=6,tr.awrap(t(i.Pr));case 6:n=e.sent,vs(i.Pr),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),ls(e.t0);case 13:return e.prev=13,this.Zst===i&&(this.Zst=null),e.finish(13);case 16:n&&this.cut();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],ge)},i.Uut=function(){this.Zst&&(this.Zst.Dr(),this.Zst=null)},i.Xut=function(t,n){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ge)},i.qut=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!FF.Wut(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("Gut"));case 2:if(n=_.min(16e3,1e3*_.pow(2,this.iut)),this.iut+=1,this.Uut(),!(this.iut>2)){i.next=8;break}return t.AJ.SJ(!1),i.abrupt("return",t.AJ.NJ());case 8:this.Fut(function(t){return bs(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,ge)},i.vut=function(t,n){var i,e;e=CO((i=t).D2,4),i.M$="0000.0000.0000."+e,function(t){var n=CO(t.C2,4),i=CO(t.P2,3),e=CO(t.O2,2*t.P2);t.Sl=(n+i+e).toUpperCase()}(t),pU(n,this.Fb,t),this.WK.L$(t,this.Fb)},i.dut=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(nr({},r,{i8:n}))}this.jst&&this.jst.Cst(i,n.g6,n.g4)},i.Qut=function(t){this.tut&&this.tut.i8===t&&this.cut()},i.Yut=function(t,n){if(n){if(n.aborted)return;if(this.nut===t)return this.qut(t)}else t.AJ.SJ(!0);return this.cut()},i.jut=function(t){var n=pO(t.AJ.o$);n&&this.dispatchEvent(new JU(dO(t.uri),t.AJ.bandwidth||0,t.Pj,t.AJ.Pj,n))},i.Zut=function(t,n){var i=this.tut&&this.tut.Of.v1||200,e=pO(t.AJ.o$);e&&this.dispatchEvent(new $U(dO(t.uri),t.AJ.bandwidth||0,t.Pj,t.AJ.Pj,e,i,n&&n.f1.P1||0))},i.Mut=function(t){this.Qw=-1,t||this.dispatchEvent("Jut")},i.$ut=function(t){this.$st=!0,this.Mut(t),this.dispatchEvent("_0")},i.Hut=function(t,n,i){var e,r,s,u,o,h,a=this;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(vs(i),e=this.mut,r=this.Lut(),this.zut(e||void 0),!(t>=this.Qw)){c.next=7;break}return this.Mut(r),c.abrupt("return",!1);case 7:return c.next=9,tr.awrap(this.eut.Dit(t,this.Qw,n,e||void 0,this.yut(),this.tut&&this.tut.Of,this.tut&&this.tut.i8,this.Kut,this.tot));case 9:if(s=c.sent,Ig.Vl(this.eit.g5/8),vs(i),s.wl!==LU.nit){c.next=18;break}return this.Uut(),this.dispatchEvent("Gut"),c.abrupt("return",!1);case 18:if(s.wl!==LU.tit){c.next=29;break}if(s.AJ!==e){c.next=24;break}return this.Vut(e),c.abrupt("return",!1);case 24:return c.next=26,tr.awrap(this.Xut(s.AJ,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.wl!==LU.j8){c.next=33;break}return this.Vut(e||void 0),!fO.A_(e.LJ)&&e.nZ&&this.$ut(r),c.abrupt("return",!1);case 33:if(u=s.ik,!this.tut||this.tut.i8!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.AJ===e){c.next=40;break}return c.next=39,tr.awrap(this.Xut(u.AJ,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.tut&&(this.tut.Of.Dr(),this.tut=void 0),!(s.Gw>this.Kst)){c.next=46;break}return this.$ut(r),c.abrupt("return",!1);case 46:if(!(s.Gw>this.Qw)){c.next=49;break}return this.Mut(r),c.abrupt("return",!1);case 49:if(this.$st=!1,this.tut=void 0,u!==this.nut&&(this.iut=0),this.nut=u,this.dispatchEvent("l0"),this.jut(u),!u.Z9){c.next=59;break}return c.next=58,tr.awrap(this.eit.K5(this.Yp,u.AJ,u.Z9));case 58:o=c.sent;case 59:return(h=this.eit.t8(this.Yp,u,o,function(t,n){a.Uut(),a.Zut(u,n),a.tut=void 0,i&&i.yr||a.Yut(u,t)}))&&(this.tut={i8:u,Of:h},h.addEventListener("$K",function(){i&&i.yr||a.Qut(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,ge)},i.iot=function(t){this.cut(t||this.I6.O6,!0)},i.eot=function(){var t=this.Lut();this.Qw=-1,this.tut&&this.tut.Of.Dr(),this.tut=void 0,this.zut(),this.$st=!1,this.nut=null,this.iut=0,this.Uut(),this.Mut(t),this.jst=this.gut(this.Fb)},i.rot=function(){this.Jst=!0,this.zut(),this.Uut()},i.sot=function(){this.Jst=!1,this.cut()},i.uot=function(){this.Vst=!0},i.oot=function(){this.Vst=!1,this.Eut()},i.ov=function(){this.Vr(),this.eot(),this.but(),this.sut=null,this.hut=null,this.Wst.ov(),this.Xst.ov(),this.Hst.Dr(this.Yp),this.Fb.ov(),this.WK.removeEventListener("K$",this.vK),this.eit.removeEventListener("n8",this.fut),this.zst=null,this.hot()},i.tl=function(){this.Qst=null,this.k$=void 0,this.Yst=void 0,this.hot(),this.jst=this.gut(this.Fb)},i.gut=function(t){var n=new xF(t);return n.Fr("wG",this._ut),n},i.hot=function(){this.jst&&(this.jst.Wr("wG",this._ut),this.jst.ov(),this.jst=null)},A(n,[{key:"f_",get:function(){return this.htt.M6}},{key:"aot",get:function(){return this.Mst}},{key:"Yp",get:function(){return this.cot()}},{key:"UJ",get:function(){return this.fot()}},{key:"Kut",get:function(){return this.vot()}},{key:"tot",get:function(){return this.dot()}},{key:"sut",get:function(){return this.Wst.ptt},set:function(t){var n=this.Wst.ptt;n&&n.removeEventListener("updateend",this.rut),this.Wst.ptt=t,t&&(t.addEventListener("updateend",this.rut),this.rut())}},{key:"hut",get:function(){return this.Xst.ptt},set:function(t){var n=this.Xst.ptt;n&&n.removeEventListener("updateend",this.out),this.Xst.ptt=t,t&&(t.addEventListener("updateend",this.out),this.out())}},{key:"Jut",get:function(){return this.Lut()}},{key:"_0",get:function(){return this.$st}},{key:"lot",get:function(){return this.Kst},set:function(t){this.Kst=t}},{key:"mut",get:function(){return this._ot()}},{key:"wot",get:function(){return this.got()},set:function(t){this.yot(t)}},{key:"dl",get:function(){return this.mot()}},{key:"bw",get:function(){return this.pot()}}]),n}(QP);function OF(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function BF(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){OF(e,n[s])&&(r=!0)}r||n.push(e)}return n}function LF(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var MF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).WK=void 0,o.Fb=void 0,o.eit=void 0,o.eh=void 0,o.kot=void 0,o.bot=void 0,o.Aot=null,o.Tot=null,o.Sot=null,o.Eot=null,o.Iot=null,o.Rot=null,o.Not=null,o.Dot=!1,o.Pw=!0,o.fJ=!0,o.Cot=null,o.uR=void 0,o.xot=function(){o.Cot&&o.Cot.disabled&&o.Pot(o.eh.initialRendition||"default"),o.Oot(!0)},o.Bot=function(){var t=o.WK.uK.tJ.some(function(t){return t.bw});o.Lot(t)},o.Mot=function(t){"variant"===t.Yp&&(o.eit.removeEventListener("o8",o.Mot),o.Cot&&(o.Cot=null,o.Oot(!1)))},o.uR=u,o.WK=n,o.Fb=i,o.eit=e,o.eh=r,o.kot=r.Uot||[],o.bot=new cU(r,sB.In.M0,s),o.Aot=null,o.eit.addEventListener("o8",o.Mot),o.Fot(),o.Hot(),o.Pot(r.initialRendition||"default"),o}S(n,t);var i=n.prototype;return i.zot=function(t,n){var i=gO(t);if(i&&!i.disabled)return i;var e=this.Vot(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.Pj<=n.Pj?t:n});case"high":var r=BF(e);return r[r.length-1];case"low":default:return BF(t)[0]}},i.Wot=function(t,n){var i=this.Xot||this.Cot&&[this.Cot],e=i&&i.filter(function(n){return is(t,n)});return e&&e.length>0?BF(e):BF(this.Vot(t,n))},i.Vot=function(t,n){var i=this.eh,e=this.kot,r=this.qot();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].Got(t,n,r,i))return!1}return!0})},i.Qot=function(t,n){var i=this.Wot(t,n);return i.length?i[i.length-1]:t[0]},i.Yot=function(t,n){var i=this.Xot;return i&&i.length>0?i.filter(function(n){return is(t,n)}):t},i.jot=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.Eot,e=this.Iot,!i||t!==this.Rot||n!==this.Not){u.next=4;break}return u.abrupt("return",i);case 4:return r=new as,s=this.Zot(t,n,r.Pr),i&&e&&e.Dr(),this.Eot=s,this.Iot=r,this.Not=n,u.prev=10,u.next=13,tr.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.Eot&&(this.Eot=null,this.Iot=null,this.Not=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],ge)},i.Zot=function(t,n,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return e=this.WK,r=this.Fb,s=e.sK,h.next=5,tr.awrap(this.Jot(t,i));case 5:if(h.sent){h.next=8;break}return h.abrupt("return",!1);case 8:if(!n){h.next=14;break}if(u=r.Qnt(s,n.Pj),o=r.k8(t,u),fO.A_(s.LJ)||o){h.next=14;break}return t.disabled="isUnsynced",h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this,null,ge)},i.Jot=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.Tot,e=this.Sot,!i||t!==this.Rot){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new as).Cr(n),s=this.$ot(t,r.Pr),i&&e&&e.Dr(),this.Tot=s,this.Sot=r,this.Rot=t,u.prev=11,u.next=14,tr.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.Tot&&(this.Tot=null,this.Sot=null,this.Rot=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],ge)},i.$ot=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.WK,e=i.sK,!this.dl||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.Kot(t)){u.next=8;break}r=t.nZ,u.next=22;break;case 8:return u.prev=8,u.next=11,tr.awrap(this.bot.Qo(t.uri,{}));case 11:s=u.sent,vs(n),r=s.I_,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.kJ(!1),t.NJ(),u.abrupt("return",!1);case 21:t.gJ(r,e);case 22:if(!LF(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],ge)},i.Kot=function(t){var n=t.nZ;return!n||!!n.live&&(!t.Kj.il||t.Kj.Mj(t.Kj.il-1).Mp+1e3*n.targetDuration<XE())},i.Bw=function(t){t?this.Pw||(this.Pw=!0,this.dispatchEvent("dl")):this.Pw&&(this.Pw=!1)},i.Lot=function(t){t&&!this.fJ?(this.fJ=!0,this.dispatchEvent("bw")):!t&&this.fJ&&(this.fJ=!1,this.dispatchEvent("dv"))},i.Oot=function(t){var n=this,i=this.WK,e=i.sK,r=i.uK.tJ,s=this.Yot(r,e),u=this.Qot(s,e);u?this.jot(u,null).then(function(e){e&&(i.H$(u,t),n.Bw(!0))}):this.Bw(!1)},i.tht=function(){this.Cot=null,this.Oot(!0)},i.Hot=function(){this.WK.uK.addEventListener("ZZ",this.Bot)},i.nht=function(){this.WK.uK.removeEventListener("ZZ",this.Bot)},i.Fot=function(){this.WK.uK.addEventListener("YZ",this.xot)},i.iht=function(){this.WK.uK.removeEventListener("YZ",this.xot)},i.Pot=function(t){var n=this.WK,i=n.uK.tJ;if(Boolean(n.sK&&!n.sK.disabled))this.Cot=null;else{if(i&&i.length){var e;switch(this.uR.zx.type){case VI.PERFORMANCE:e="low";break;case VI.QUALITY:e="high";break;case VI.BANDWIDTH:e=t}this.Cot=this.zot(i,e),this.Dot=!0}var r=this.Yot(i,null),s=this.Qot(r,null);s&&(n.sK=s)}},i.qot=function(){return this.Dot?{g5:this.eit.g5}:{g5:this.uR.Jx}},i.Dr=function(){this.Eot&&this.Iot&&(this.Iot.Dr(),this.Eot=null,this.Iot=null,this.Not=null),this.Tot&&this.Sot&&(this.Sot.Dr(),this.Tot=null,this.Sot=null,this.Rot=null)},i.ov=function(){this.eit.removeEventListener("o8",this.Mot),this.iht(),this.nht(),this.Dr(),this.Aot=null,this.Cot=null},i.eht=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.WK,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,tr.awrap(this.jot(t,n));case 5:return(e=r.sent)&&(i.sK=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,ge)},A(n,[{key:"dl",get:function(){return this.Pw}},{key:"bw",get:function(){return this.fJ}},{key:"tot",get:function(){var t=this.WK,n=t.sK,i=this.Yot(t.uK.tJ,n);return this.Wot(i,n)}},{key:"Kut",get:function(){return this.Yot(this.WK.uK.tJ,this.WK.sK)}},{key:"Xot",get:function(){return this.Aot},set:function(t){this.Aot=t,this.tht()}}]),n}(QP),UF=function(){function t(t,n){this.Id=void 0,this.Fb=void 0,this.rht=-1,this.Id=t,this.Fb=n}return t.prototype.jo=function(t){for(var n=t.Kj,i=n.Lj(this.rht),e=i<0?0:i+1;e<n.il;e++){var r=n.Mj(e);if(r.Pj>this.rht){var s=this.Fb.s2(r),u=this.Fb.u2(r,s),o=new mm(s.kg(),u.kg(),[].concat(r.CJ),!1,r.Pj.toString());this.Id.fA(o),this.rht=r.Pj}}},t}(),FF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,aO.HZ,n,i,e,r,s,u,o,h,a)||this).sht=void 0,c.uht=null,c.oht=null,c.sht=new MF(n,c.Fb,e,u,o,h),c.sht.addEventListener("dl",c.Mr),c.sht.addEventListener("bw",c.Mr),c.sht.addEventListener("dv",c.Mr),u.manifestMetadataTrack&&(c.uht=n.B$("",c.Fb,""),c.oht=new UF(c.uht,c.Fb)),c.Mst=!c.WK.Q$||!c.WK.Q$.uri,c.Ust=Boolean(c.WK.sK),c}S(n,t);var i=n.prototype;return i.lut=function(t,n){if("nJ"===t){var i=n?n.uri:void 0;this.Mst=!i}},i.cot=function(){return aO.HZ},i.fot=function(){return this.mut&&this.mut.UJ||!1},i._ot=function(){return this.WK.sK},i.vot=function(){return this.sht.Kut},i.dot=function(){return this.sht.tot},i.got=function(){var t=this.sht.Xot;return t&&t.map(function(t){return t.ll})},i.yot=function(t){if(t&&t.length>0){var n=this.zst.KZ.filter(function(n){return-1!==t.indexOf(n.ll)});if(!(n.length>0))return void 0;this.sht.Xot=n}else this.sht.Xot=null},i.mot=function(){return this.sht.dl},i.pot=function(){return this.sht.bw},i.Xut=function(n,i){return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.awrap(this.sht.eht(n,i));case 2:return e.abrupt("return",t.prototype.Xut.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,ge)},i.eot=function(){t.prototype.eot.call(this),this.sht.Dr()},i.d$=function(n){t.prototype.d$.call(this,n),this.oht&&this.oht.jo(n)},i.ov=function(){t.prototype.ov.call(this),this.sht.ov(),this.sht.removeEventListener("bw",this.Mr),this.sht.removeEventListener("dv",this.Mr)},i.wut=function(t){return t.uK},i.hht=function(){var t=this.f_,n=this.aot?this.Wst.btt(t):void 0,i=n?n.AJ:void 0,e=this.Xst.btt(t),r=e?e.AJ:void 0,s=this.k$;this.k$=i;var u=this.Yst;return this.Yst=r,!s&&i?{tK:s,aht:i}:!u&&r?{tK:u,aht:r}:u&&r&&u.ll!==r.ll?{tK:u,aht:r}:void 0},n}(PF),HF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,aO.Zf,n,i,e,r,s,u,o,h,a)||this).Mst=!!c.WK.Q$&&!!c.WK.Q$.uri,c.Ust=!1,c}S(n,t);var i=n.prototype;return i.lut=function(t,n){if("nJ"===t){var i=n?n.uri:void 0;this.Mst=!!i}},i.cot=function(){return aO.Zf},i.fot=function(){return this.mut&&this.mut.UJ||!1},i._ot=function(){return this.WK.Q$},i.vot=function(){var t=this._ot();return t?[t]:[]},i.dot=function(){return this.vot()},i.wut=function(t){return t.i$},i.got=function(){return null},i.yot=function(t){},i.mot=function(){return!0},i.pot=function(){return!0},i.hht=function(){var t=this.aot?this.Wst.btt(this.f_):void 0,n=t?t.AJ:void 0,i=this.k$;return this.k$=n||void 0,!i&&n?{tK:i,aht:n}:i&&n&&i.ll!==n.ll?{tK:i,aht:n}:void 0},n}(PF),zF=function(){function t(t,i,e,r,s,u){var o=this;this.cht=!1,this.Gj=void 0,this.fht=void 0,this.C6=void 0,this.vht=void 0,this.I6=void 0,this.Ps=eS.QI(),this.dht=[],this._ht=void 0,this.wht=[],this.v$=function(){return o.ght()},this.yht=function(t){t.I_.live||o.fht.removeEventListener(o.Gj.SZ,o.yht),o.Gj.gJ(t.I_)},this.mht=function(){o.Gj._$.El===dg.kl?o.cht&&o.pht():o.cht||o.kht()},this.Ah=function(t){if(!fs(t)){var i=t instanceof bk?t:new bk(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.Gj.SZ,0,t);o.Gj._$.Nl=Ky.ERROR,o.Gj._$.Ur(new Bk(i))}},this.Gj=t,this.fht=i,this.C6=e,this.I6=u,this.vht=new vB(r,s),this._ht=new as,t._$.Fr(Mw.Ud,this.mht),t.Fb&&t.Fb.addEventListener("w$",this.v$),this.mht()}var i=t.prototype;return i.kht=function(){this.cht||this.Gj._$.El===dg.kl||(this.fht.removeEventListener(this.Gj.SZ,this.yht),this.fht.addEventListener(this.Gj.SZ,this.yht),this.fht.q7(this.Gj.SZ),this.fht.G7(this.Gj.SZ),this.cht=!0,this.bht(this._ht.Pr).catch(this.Ah))},i.bht=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return vs(t),n.next=4,tr.awrap(this.Aht(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,ge)},i.Aht=function(t){var n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,w;return tr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(n=this.C6.M6,i=this.I6.O6,e=new eS([n,n+i]),(r=e.bI(this.Ps.AI())).il){g.next=9;break}return g.next=8,tr.awrap(bs(1e3,t));case 8:return g.abrupt("return");case 9:if(s=r.aI(0),u=this.Tht(s)){g.next=15;break}return g.next=14,tr.awrap(Cw(this.Gj,"bJ",t));case 14:return g.abrupt("return");case 15:return o=u.ik,h=u.Int.kg(),a=h+o.duration,g.prev=18,g.next=21,tr.awrap(this.vht.W1("_$",o.uri,_c.Pn,Vl.Uf,Wl.Pn));case 21:c=g.sent,g.next=30;break;case 24:return g.prev=24,g.t0=g.catch(18),ds(g.t0),g.next=29,tr.awrap(bs(1e3,t));case 29:return g.abrupt("return");case 30:g.prev=30,f=vp(c),g.next=37;break;case 34:throw g.prev=34,g.t1=g.catch(30),Pk(tm.WEBVTT,o.uri.toString(),0,g.t1);case 37:for(v=f.Jy||{$y:Fm.zg,Ky:Fm.zg},d=this.Gj.Kj.Uj(o.Pj),this.Ps=this.Ps.RI(new eS([h,a])),this.dht.push(o.Pj),l=0,_=f.Dl;l<_.length;l++)w=_[l],this.wht.push({i8:d,Int:VF(Fm.Ry(w.Gw),v.Ky,v.$y),Sht:VF(Fm.Ry(w.Qw),v.Ky,v.$y),qw:w});this.ght();case 43:case"end":return g.stop()}},null,this,[[18,24],[30,34]],ge)},i.ght=function(){var t=this.Gj.Fb;if(this.wht.length&&t){for(var n=[],i=0,e=this.wht;i<e.length;i++){var r=e[i],s=t.a2(r.i8,r.Int);if(s.Pg())n.push(r);else{var u=t.a2(r.i8,r.Sht),o=new km(s.kg(),u.kg(),r.qw.Yw,!1,r.qw.ll);this.Gj._$.fA(o)}}this.wht=n,this.Gj._$.sH(this.C6.M6,!0)}},i.Tht=function(t){var n=this.Gj.Fb,i=this.Gj.Kj;if(n.knt)for(var e=n.Cnt.kg(),r=i.il-1;r>=0;r-=1){var s=i.Mj(r),u=e-s.duration;if(new eS([u,e]).EE(t,.5)){var o={ik:s,Int:Fm.Ry(u)};return this.Eht(i,o,r)}e=u}else for(var h=0,a=0;a<i.il;a+=1){var c=i.Mj(a),f=h+c.duration;if(new eS([h,f]).EE(t,.5)){var v={ik:c,Int:Fm.Ry(h)};return this.Eht(i,v,a)}h=f}},i.Eht=function(t,n,i){var e=n.ik;if(-1===this.dht.indexOf(e.Pj))return n;for(var r=n.Int.kg()+e.duration,s=i+1;s<t.il;s+=1){var u=t.Mj(s);if(-1===this.dht.indexOf(u.Pj))return{ik:u,Int:Fm.Ry(r)};r+=u.duration}},i.pht=function(){this.cht=!1,this.fht.X7(this.Gj.SZ),this._ht.Dr(),this._ht=new as},i.tl=function(){this.pht(),this.Ps=eS.QI(),this.dht.length=0,this.Gj._$.Wr(Mw.Ud,this.mht),this.Gj.Fb&&this.Gj.Fb.removeEventListener("w$",this.v$),this.fht.removeEventListener(this.Gj.SZ,this.yht)},t}();function VF(t,n,i){return jm(i,t.xg(n))}var WF=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).eh=void 0,s.u0=void 0,s.eit=void 0,s.Hst=void 0,s.WK=void 0,s.Fst=void 0,s.Iht=void 0,s.Rht=NaN,s.Nht=!1,s.Dht=1/0,s.Cht=1/0,s.xht=null,s.Pht=!0,s.Oht=!0,s.htt=null,s.uA=void 0,s.uR=void 0,s.Bht=void 0,s.Lht=void 0,s.Mht=[],s.AF=function(){var t=s.WK.v_;y(t)||s.Rht===t||(s.Rht=t,s.dispatchEvent("durationchange"))},s.Uht=function(){s.JK&&(s.WK.removeEventListener("renditionUpdated",s.Uht),s.dispatchEvent("JK"))},s.Fht=function(){s.Jut&&s.dispatchEvent("Jut")},s.Hht=function(){s._0&&s.dispatchEvent("_0")},s.Mr=function(t){s.dispatchEvent(t)},s.zht=function(t){var n=s.WK.V$(t.z7);n?n instanceof SO&&(n.kJ(!1),n.NJ()):s.dispatchEvent(t)},s.Vht=function(t){s.WK.I_||(t.Kr.code===jP.mj?(s.xht||(s.xht=h(s.Wht,cb)),s.Oht=!1,s.TJ()):s.dispatchEvent({type:"Kr",Kr:t.Kr}))},s.Xht=function(t){s.qht(),s.Ght(t.I_),s.Qht(),s.WK.removeEventListener("q$",s.AF),s.WK.addEventListener("q$",s.AF),s.AF(),s.Nht||(s.Nht=!0,s.dispatchEvent("loadedmetadata")),s.Uht(),s.Oht=!0,s.TJ()},s.Wht=function(){s.qht();var t=s.w0;t&&(s.Fst.tl(),s.Fst.w0=t,s.Fst.aI())},s.Yht=function(){s.Fst.Q7()},s.jht=function(){s.Zht.forEach(function(t){return t.oot()})},s.Jht=function(t){s.$ht.forEach(function(n){return n.Put(t.AJ)})},s.Kht=function(t){s.Zht.forEach(function(n){return n.Out(t.u6)}),s.Iht.itt(t.u6,s.Zht.map(function(t){return t.Fb}))},s.TJ=function(){var t=s.Pht,n=s.pot();s.Pht=n,n&&!t?s.dispatchEvent("bw"):!n&&t&&s.dispatchEvent("dv")},s.uR=r,s.eh=n,s.u0=i,s.uA=e,s.eit=new uM(n,i,e,Tt(s)),s.Hst=new XM(n),s.WK=new IO(n),s.Fst=new vU(e,n),s.Iht=new dU,s.Fst.addEventListener("Kr",s.zht),s.Fst.addEventListener("H7",s.Vht),s.Fst.addEventListener("V7",s.Xht),s.eit.addEventListener("n8",s.Mr),s.eit.addEventListener("Kr",s.Mr),s.WK.addEventListener("K$",s.Mr),s.WK.addEventListener("bJ",s.Jht),s.WK.addEventListener("m$",s.Kht),s.WK.addEventListener("nK",s.Mr),s.Iht.addEventListener("Z7",s.Mr),s.Iht.addEventListener("Z7",s.jht),s.addEventListener("bw",s.Yht),s}S(n,t);var i=n.prototype;return i.tat=function(t){t.lot=this.lot,t.addEventListener("Tut",this.Mr),t.addEventListener("nat",this.Mr),t.addEventListener("Kr",this.Mr),t.addEventListener("Gut",this.Mr),t.addEventListener("l0",this.Mr),t.addEventListener("Jut",this.Fht),t.addEventListener("_0",this.Hht),t.addEventListener("dv",this.TJ),t.addEventListener("bw",this.TJ),t.addEventListener("dl",this.Mr),t.addEventListener("$K",this.Mr),t.addEventListener(lc.Da,this.Mr),t.addEventListener(lc.xa,this.Mr)},i.Qht=function(){this.iat();this.WK.uK.KZ;var t=this.WK.i$.KZ;this.Bht=new FF(this.WK,this.Fst,this.eit,this.Hst,this.htt,this.eh,this.uA,this.uR,this),this.tat(this.Bht),t.length&&(this.Lht=new HF(this.WK,this.Fst,this.eit,this.Hst,this.htt,this.eh,this.uA,this.uR,this),this.tat(this.Lht));for(var n=this.WK.oK,i=this.Bht.Fb,e=0;e<n.length;e++){var r=n[e];r.Fb=i,this.Mht.push(new zF(r,this.Fst,this.htt,this.uA,this.eh,this))}},i.iat=function(){this.Bht&&(this.Bht.ov(),this.Bht=void 0),this.Lht&&(this.Lht.ov(),this.Lht=void 0),this.Mht.forEach(function(t){return t.tl()}),this.Mht.length=0,this.Iht.tl()},i.eat=function(t){this.Zht.forEach(function(n){return n.iot(t)})},i.Ght=function(t){this.WK.I_=t},i.rat=function(){this.Fst.aI()},i.sat=function(t){this.Iht.ett(t,this.Zht.map(function(t){return t.Fb}))||this.Zht.forEach(function(t){t.but(),t.uot()})},i.pht=function(){this.eit.J5(),this.Zht.forEach(function(t){return t.eot()})},i.k0=function(){this.eit.J5(),this.Zht.forEach(function(t){return t.rot()})},i.y0=function(){this.Zht.forEach(function(t){return t.sot()})},i.ov=function(){this.Vr(),this.qht(),this.iat(),this.eit.ov(),this.Hst.ov(),this.WK.ov(),this.Fst.tl(),this.Iht.ov()},i.uat=function(t,n,i,e){var r=this.Bht,s=this.Lht;t&&(r.eot(),this.eit.vs(r.Yp),r.iot(e)),n&&s&&(s.eot(),this.eit.vs(s.Yp),i&&s.iot(e))},i.oat=function(){if(!this.Bht)return gB;var t=this.Bht;return UB(t.Fb,this.eit.q6(t.Yp))},i.W7=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.I_.live||e.Fst.removeEventListener(s,t),i&&i.gJ(n.I_)};s&&(this.Fst.removeEventListener(s,u),this.Fst.addEventListener(s,u)),this.Fst.W7(r,s),this.Fst.G7(s)},i.qht=function(){null!==this.xht&&a(this.xht),this.xht=null},i.pot=function(){return!!this.Oht&&(!this.Bht||this.Bht.bw)},i.S0=function(t){this.Bht&&(this.Bht.wot=t)},i.tl=function(){this.$ht.forEach(function(t){return t.tl()}),this.Mht.forEach(function(t){return t.tl()})},A(n,[{key:"hat",get:function(){return this.Bht}},{key:"aat",get:function(){return this.Lht}},{key:"Zht",get:function(){var t=[];return this.Bht&&t.push(this.Bht),this.Lht&&this.Lht.aot&&t.push(this.Lht),t}},{key:"$ht",get:function(){return[this.Bht,this.Lht].filter(F)}},{key:"O6",get:function(){return ft(this.uR.Fx*this.eit.B6,1,this.fat)}},{key:"w0",get:function(){return this.Fst.w0},set:function(t){this.Rht=NaN,this.Dht=1/0,this.Nht=!1,this.Pht=!0,this.Oht=!0,this.WK.removeEventListener("renditionUpdated",this.Uht),this.WK.removeEventListener("q$",this.AF),this.qht(),this.iat(),this.eit.vs(),this.Hst.Dr(),this.WK.ov(),this.WK.addEventListener("renditionUpdated",this.Uht),this.Fst.w0=t,this.TJ()}},{key:"v_",get:function(){return this.Rht}},{key:"knt",get:function(){return this.WK&&fO.A_(this.WK.LJ)}},{key:"bw",get:function(){return this.Pht}},{key:"JK",get:function(){var t=this.Zht;return t.length>0&&t.every(function(t){return t.UJ})}},{key:"B6",get:function(){return this.eit.B6},set:function(t){t>0&&(this.eit.B6=t)}},{key:"Jut",get:function(){return this.Zht.every(function(t){return t.Jut})}},{key:"_0",get:function(){return this.Zht.length>0&&this.Zht.every(function(t){return t._0})}},{key:"fat",get:function(){return this.Cht},set:function(t){this.Cht=t}},{key:"lot",get:function(){return this.Dht},set:function(t){var n=this;this.Dht=t,this.$ht.forEach(function(t){return t.lot=n.Dht})}},{key:"Sw",get:function(){return this.JK?new wB([{aI:this.Dnt,fI:this.Cnt}]):gB}},{key:"Dnt",get:function(){if(!this.JK)return 0;for(var t=-1/0,n=0,i=this.Zht;n<i.length;n++){var e=i[n];t=_.max(t,e.Fb.Dnt.kg())}return t}},{key:"Cnt",get:function(){if(!this.JK)return 0;for(var t=1/0,n=0,i=this.Zht;n<i.length;n++){var e=i[n];t=_.min(t,e.Fb.Cnt.kg())}return t}},{key:"xnt",get:function(){if(!this.JK)return 0;for(var t=1/0,n=0,i=this.Zht;n<i.length;n++){var e=i[n];t=_.min(t,e.Fb.xnt.kg())}return _.max(t,this.Dnt)}},{key:"T0",get:function(){return this.Bht&&this.Bht.wot||void 0}}]),n}(QP),XF=function(t){function n(n,i){var e;return(e=t.call(this)||this).eh=void 0,e.Rht=NaN,e.Nht=!1,e.WK=void 0,e.Fb=void 0,e.vat=void 0,e.xht=null,e.Pht=!0,e.uht=null,e.oht=null,e.Mr=function(t){e.dispatchEvent(t)},e.Ght=function(t){if(e.WK.I_||(e.WK.I_=e.vat.rK||null),!e.WK.sK){var n=e.WK.uK.KZ[0];n&&(e.WK.sK=n,e.vat.M7(n),e.dispatchEvent({type:"dat",AJ:n}))}t.manifest.isMasterPlaylist||e.WK.sK.gJ(t.manifest),void 0!==t.manifest.duration&&e.Rht!==t.manifest.duration&&(e.Rht=t.manifest.duration,e.dispatchEvent("durationchange")),e.Nht||(e.Nht=!0,e.dispatchEvent("loadedmetadata")),e.Lot(!0),e.dispatchEvent({type:"L7",manifest:t.manifest})},e.Vht=function(t){t.Kr.code===jP.mj?(e.xht||(e.xht=h(e.Wht,cb)),e.Lot(!1)):e.dispatchEvent({type:"Kr",Kr:t.Kr})},e.Wht=function(){e.qht();var t=e.w0;t&&e.vat.aI(t)},e.qht=function(){a(e.xht),e.xht=null},e.Jht=function(t){var n=t.AJ;e.Fb.wnt(n,n.nZ),e.eh.manifestMetadataTrack&&(e.oht||(e.uht=e.WK.B$("",e.Fb,""),e.oht=new UF(e.uht,e.Fb)),e.oht.jo(n))},e.eh=n,e.WK=new IO(n,!0),e.Fb=new xU(n),e.vat=new fU(i,e.eh),e.Fb.addEventListener("Kr",e.Mr),e.vat.addEventListener("L7",e.Ght),e.vat.addEventListener("Kr",function(t){e.WK.I_?(e.xht||(e.xht=h(e.Wht,cb)),e.Lot(!1)):e.Vht(t)}),e.WK.addEventListener("bJ",e.Jht),e}S(n,t);var i=n.prototype;return i.rat=function(){this.WK.I_||this.vat.aI()},i.oat=function(){return gB},i.Lot=function(t){var n=this.Pht;this.Pht=t,t&&!n?this.dispatchEvent("bw"):!t&&n&&this.dispatchEvent("dv")},i.ov=function(){this.Vr(),this.qht(),this.WK.ov(),this.vat.ov(),this.oht=null,this.Fb.ov()},i.k0=function(){},i.y0=function(){},i.eat=function(t){},i.S0=function(t){},A(n,[{key:"w0",get:function(){return this.vat.w0},set:function(t){this.Rht=NaN,this.Nht=!1,this.qht(),this.WK.ov(),this.oht=null,this.vat.w0=t,this.Lot(!0)}},{key:"v_",get:function(){return this.Rht}},{key:"knt",get:function(){return this.WK&&fO.A_(this.WK.LJ)}},{key:"bw",get:function(){return this.Pht}},{key:"_0",get:function(){return!1}},{key:"Jut",get:function(){return!1}},{key:"T0",get:function(){return[]}}]),n}(QP),qF=1e3,GF="VEE3",QF=function(t){function n(n){var i;return(i=t.call(this,"lat")||this).ptsOffset=n,i}return S(n,t),n}(Rs),YF=function(t){function n(n){var i;return(i=t.call(this)||this).aK=void 0,i._at=null,i.wat=0,i.gat="start",i.yat=1,i.mat=!1,i.pat=!1,i.kat=0,i.bat=null,i.Aat=null,i.Tat=null,i.Sat=null,i.J7=0,i.Eat=0,i.Iat=new as,i.Rat=new Zu,i.Nat=void 0,i.Dat={},i.Cat=!1,i.xat=null,i.Pat=NaN,i.Aut=function(){i.aK.Zht.map(function(t){t.Aut()})},i.hht=function(){for(var t,n,e,r=0,s=i.aK.$ht;r<s.length;r++){var u=s[r],o=u.hht();if(o){var h=o.aht;h&&h.o$!==cO.Zf&&(i.xat=h)}u.Yp===aO.Zf?t=o:u.Yp===aO.HZ&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"K$",Oat:t&&t.tK,SK:t&&t.aht,NK:n&&n.tK,TK:n&&n.aht,bK:!!e&&e.aot})},i.Sut=function(){null!==i.bat&&a(i.bat),i.bat=h(i.Sut,qF),i.aK.Zht.forEach(function(t){return t.Sut()})},i.Rut=function(){null!==i.Aat&&a(i.Aat),i.mat&&(i.Aat=h(i.Rut,qF),i.aK.Zht.forEach(function(t){return t.Rut()}))},i.Iut=function(){i.aK.Zht.forEach(function(t){return t.Iut()})},i.Bat=function(){if(i.aK.knt&&i.g_>1){var t=i.aK.xnt;i.Lat>t&&(i.g_=1,i.Lat>=t+1&&(i.Lat="start"))}},i.Mat=function(){i._at&&(0===i._at.Uat()?i.Lat="start":i.Lat=i.Fat(i.M6))},i.Hat=function(){i.kat=i.M6},i.zat=function(t){i.Vat(),i._at.error&&(t.error.info.code===GF&&i.Eat<fb?(i.Eat+=1,i.Wat()):i.dispatchEvent({type:"Kr",error:t.error}))},i.Xat=function(){i.Eat=0},i.qat=function(){i.removeEventListener("Gat",i.Qat),i.mat?i.Qat():i.addEventListener("Gat",i.Qat)},i.Qat=function(){var t=i.M6;i.aK.removeEventListener("JK",i.qat),i.aK.JK?i.aK.Zht.forEach(function(n){return n.Dut(t)}):(i.aK.addEventListener("JK",i.qat),i.aK.rat())},i.Yat=function(){var t=i.M6;i.aK.$ht.forEach(function(n){return n.Nut(t,i.aK.knt)})},i.jat=function(){null!==i.bat&&a(i.bat),i.bat=null,null!==i.Aat&&a(i.Aat),i.Aat=null},i.Zat=function(){i.Jat(),i.aK.JK?i.g0():(i.aK.addEventListener("JK",i.Zat),i.aK.rat())},i.Jat=function(){i.aK.removeEventListener("JK",i.Zat)},i.dK=function(t){i.aK.W7(t.o$,t.tK||void 0,t.AJ||void 0),t.nK&&i.$at(t.o$,t.tK,t.AJ)},i.Kat=function(t){var n=t.J7-i.J7;_.abs(n)>ab&&(i.J7=t.J7,i.M6=i.M6+n)},i.tct=function(t){var n=t.i8.metadata;n.u$&&(i.Dat[t.Yp]=n.u$,i.nct())},i.nct=function(){if(i.aK.JK){var t=l.keys(i.Dat).length===i.aK.Zht.length;i._at&&!i._at.ict&&!i.Nat&&t&&i.ect(),i._at&&i.J7&&(i._at.J7=i.J7)}},i.rct=function(){if(y(i.sct))if(i.aK.knt)i.sct=0;else{var t=i.xat,n=t&&t.MJ,e=t&&F(n)&&!y(n)&&t.iZ(n)||void 0;i.sct=_O(e)?e.a6.kg():NaN}i.KK&&(i.removeEventListener("K$",i.rct),i.aK.removeEventListener("n8",i.rct),i.dispatchEvent("KK",!0))},i.aK=n,n.htt=Tt(i),i}S(n,t);var i=n.prototype;return i.Wat=function(){this.aK.knt?this.Lat="start":(this.kat+=.5,this.aK.Zht.map(function(t){t.but(),t.Cut(),t.xut()}),this.Lat=this.kat),this.nct(),this._at.play()},i.uct=function(t){var n=this;this.Tat&&(this.aK.removeEventListener("JK",this.Tat),this.Tat=null),this.aK.JK?(this.pat=!0,this.Cat=!0,this.aK.sat(t),this.Cat=!1):(this.Tat=function(){return n.uct(t)},this.aK.rat())},i.hct=function(t){this.act(),this.aK.knt&&(t="none"),"auto"===t&&this.Zat()},i.cct=function(t){var n=this;this.act(),"none"!==t&&(this.aK.JK?this.hct(t):(this.Sat=function(){return n.hct(t)},this.aK.addEventListener("JK",this.Sat),this.aK.rat()))},i.act=function(){this.Jat(),this.Sat&&(this.aK.removeEventListener("JK",this.Sat),this.Sat=null)},i.g0=function(){this.pat?this.aK.eat():(this.Lat=this.gat,this.aK.eat(22)),this.mat||(this.mat=!0,this.dispatchEvent("Gat"))},i.fct=function(){this._at&&(this._at.addEventListener("vct",this.Yat),this._at.addEventListener("seeking",this.qat),this._at.addEventListener("error",this.zat),this._at.addEventListener("playing",this.Xat)),this.aK.addEventListener("K$",this.dK),this.aK.addEventListener("Gut",this.Mat),this.aK.addEventListener("JK",this.nct),this.aK.addEventListener("Z7",this.Kat),this.aK.addEventListener("dl",this.qat),this.b0()},i.dct=function(){this._at&&(this._at.removeEventListener("vct",this.Yat),this._at.removeEventListener("seeking",this.qat),this._at.removeEventListener("error",this.zat),this._at.removeEventListener("playing",this.Xat)),this.aK.removeEventListener("K$",this.dK),this.aK.removeEventListener("Gut",this.Mat),this.aK.removeEventListener("JK",this.nct),this.aK.removeEventListener("Z7",this.Kat),this.aK.removeEventListener("dl",this.qat),this.A0()},i.b0=function(){this._at&&(this._at.addEventListener("loadstart",this.Zat),this._at.addEventListener("timeupdate",this.Aut),this._at.addEventListener("playing",this.hht),this._at.addEventListener("timeupdate",this.hht),this._at.addEventListener("timeupdate",this.Rut),this._at.addEventListener("timeupdate",this.Sut),this._at.addEventListener("timeupdate",this.Hat),this._at.addEventListener("timeupdate",this.Bat),this._at.addEventListener("ended",this.jat)),this.aK.addEventListener("n8",this.tct),this.aK.addEventListener("n8",this.Iut)},i.A0=function(){null!==this.bat&&a(this.bat),null!==this.Aat&&a(this.Aat),this._at&&(this._at.removeEventListener("loadstart",this.Zat),this._at.removeEventListener("timeupdate",this.Aut),this._at.removeEventListener("playing",this.hht),this._at.removeEventListener("timeupdate",this.hht),this._at.removeEventListener("timeupdate",this.Rut),this._at.removeEventListener("timeupdate",this.Sut),this._at.removeEventListener("timeupdate",this.Hat),this._at.removeEventListener("timeupdate",this.Bat),this._at.removeEventListener("ended",this.jat)),this.aK.removeEventListener("n8",this.tct),this.aK.removeEventListener("n8",this.Iut)},i.wtt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.Rat.Ts);case 2:return n=this._at.wtt(t),this._at.loading&&(this._at.loaded=!0,this._at.loading=!1),i.next=6,tr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,ge)},i.CU=function(t,n){this.lct.CU(t,n)},i.kut=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr.awrap(this.Rat.Ts);case 3:return i.next=5,tr.awrap(this._at.kut(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),fs(i.t0)||this.dispatchEvent({type:"Kr",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],ge)},i.ect=function(){var t=this,n=this.Rat,i=this._ct(this.Nat,this.Iat.Pr);this.Nat=i,i.then(function(){t.Nat===i&&(t.Nat=void 0,n.Is())},function(e){t.Nat===i&&(t.Nat=void 0,n.Rs(e))})},i._ct=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,tr.awrap(t.catch(j));case 3:return vs(n),u.next=6,tr.awrap(this._at.ect(this.Dat,this.aK.v_,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.aK.$ht;e<r.length;e++)s=r[e],i.nJ&&(s.sut=i.nJ),i.iJ&&(s.hut=i.iJ);case 10:case"end":return u.stop()}},null,this,null,ge)},i.Vat=function(){this.Iat.Dr(),this.Iat=new as,this.Nat=void 0,this.Rat=new Zu},i.Fat=function(t){var n=this.Sw;return n.length?ft(t,n.start(0),n.end(n.length-1)):0},i.But=function(t){var n=this.aK.hat;return n?n.But(t):null},i.Rnt=function(t){var n=this.aK.hat;return n?n.Rnt(t):NaN},i.Qo=function(t){var n=t||"none";this.dct(),this.fct(),this.cct(n)},i.p0=function(){this.act()},i.ov=function(){this.Vr(),this.Dat={},this.lct=null},i.tl=function(){this.Vat(),this.wct(),this.Dat={},this.wat=0,this.kat=0,this.gat="start",this.J7=0,this.yat=1,this.mat=!1,this.pat=!1,this.xat=null,this.aK.tl()},i.$at=function(t,n,i){if(n){this.dispatchEvent("n0"),this.A0();var e=!1,r=!1,s=!1;if("iJ"===t){r=!0;var u=this.aK.hat;u&&u.aot&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this._at.nK("audio"),r&&this._at.nK("video"),this.aK.$ht.forEach(function(t){t.but(),e&&t.Cut(),r&&t.xut()}),this.aK.uat(r,e,s,22),this.aK.$ht.forEach(function(t){return t.Eut()}),this.b0()}},i.X_=function(){this.A0(),this.b0(),this.aK.y0()},i.gct=function(t){var n=this.sct||0;return this.a$?t-n<0?0:_.round((t-n)*this.a$-.5)||0:NaN},i.yct=function(t){var n=this.sct||0;return this.a$?n+(t+.5)/this.a$:NaN},i.wct=function(){this.sct=NaN,this.removeEventListener("K$",this.rct),this.addEventListener("K$",this.rct),this.aK.removeEventListener("n8",this.rct),this.aK.addEventListener("n8",this.rct)},A(n,[{key:"lct",get:function(){return this._at},set:function(t){this.dct(),this.Vat(),this.Xat(),this._at=t,this.nct()}},{key:"M6",get:function(){return this._at&&!this.Cat?this._at.Uat():this.wat},set:function(t){t=this.Fat(t),this.kat=this.wat=t,this._at?this._at.mct(t):(this.Yat(),this.qat())}},{key:"Lat",get:function(){return this._at&&!this.Cat?this.M6:this.gat},set:function(t){"start"===t&&(t=this.aK.knt?1/0:0),t=this.Fat(t),this.gat=t,this.kat=this.wat=t,this.uct(Fm.Ry(this.wat)),this.M6=t}},{key:"Qw",get:function(){return this.aK.lot},set:function(t){this.aK.lot=t}},{key:"g_",get:function(){return this._at?this._at.g_:this.yat},set:function(t){var n=this.yat;t>0&&(this.yat=t,this._at&&(this._at.g_=t),this.aK.B6=t,this.yat!==n&&this.dispatchEvent("pct"))}},{key:"Sw",get:function(){var t=this.aK.Sw;if(!t.length||!this.aK.knt)return t;var n=t.start(0),i=this.aK.xnt;return i=_.max(this.M6,i),new wB([{aI:n,fI:i}])}},{key:"dw",get:function(){return this.But(this.M6)}},{key:"a$",get:function(){var t=this.xat;return t&&t.a$||NaN}},{key:"sct",get:function(){return this.Pat},set:function(t){this.Pat!==t&&(this.dispatchEvent(new QF(t)),this.Pat=t)}},{key:"KK",get:function(){return Boolean(this.a$)&&!y(this.sct)}}]),n}(QP),jF=function(t){function n(n){var i;return(i=t.call(this)||this).kct=null,i.WK=void 0,i.bct=[],i.Act=function(t){return i.Tct(t)},i.Sct=function(){return i.Ect()},i.WK=n,i.bct=[],i}S(n,t);var i=n.prototype;return i.aA=function(t){var n,i;"metadata"===t.kind&&(t.mode=dg.bl,n=this.WK.P$(t.id,t.inBandMetadataTrackDispatchType),i=this.Ict.bind(this,n),this.bct.push({Rct:t,Nct:i,_$:n}),t.addEventListener("cuechange",i))},i.Zx=function(){for(var t=this.kct.V_,n=t&&t.length,i=0;i<n;i+=1)this.aA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Act),t.addEventListener("change",this.Sct))},i.Ict=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=wC(i[s].value),o=new SC(r,u);t.fA(o)}},i.Ect=function(){for(var t=0,n=this.bct;t<n.length;t++){var i=n[t].Rct;i.mode!==dg.bl&&(i.mode=dg.bl)}},i.Tct=function(t){this.aA(t.track)},i.Dct=function(){for(var t=this.kct,n=t&&t.V_,i=0,e=this.bct;i<e.length;i++){var r=e[i];r.Rct.removeEventListener("cuechange",r.Nct)}this.bct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Act),n.removeEventListener("change",this.Sct))},i.ov=function(){this.Dct(),this.kct=null,this.WK=null,this.Act=null,this.Sct=null},i.tl=function(){this.Dct(),this.kct&&this.Zx()},n}(QP),ZF=function(t){function n(n){var i;return(i=t.call(this)||this).aK=void 0,i.Cct=void 0,i._at=null,i.gat="start",i.yat=1,i.dv=!1,i.xct=null,i.Pct=null,i.Oct=NaN,i.Bct=NaN,i.Lct=null,i.Mct=function(){i._at.removeEventListener("loadstart",i.Mct),i._at.removeEventListener("play",i.Mct),i.aK.rat()},i.Aut=function(){var t=i.aK.WK.sK;if(t&&(!i.xct||i.xct.aI>i.M6||i.xct.fI<i.M6)){var n=i.aK.Fb.k8(t,Fm.Ry(i.M6));if(!n)return void i._at.addEventListener("timeupdate",i.Aut);i.xct={aI:n.Int.kg(),fI:n.Int.Rw(Fm.Ry(n.ik.duration)).kg(),Pj:n.ik.Pj,xJ:null},i.dispatchEvent({type:"Tut",Xb:n.ik})}},i.hht=function(){var t=i.aK.WK,n=t.uK.KZ.length?t.uK.KZ:t.i$.KZ,e=i._at.p_,r=i._at.m_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.Pct&&(i.Pct=u,i.dispatchEvent({type:"K$",AJ:u}))},i.Uct=function(t){i.dispatchEvent({type:"K$",AJ:t.AJ})},i.Fct=function(){if(i._at){var t=i._at.Sw,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Bct&&(i.Bct=n,i.Oct=XE())}},i.Hct=function(){i.dv=!0},i.zct=function(){i.dv&&(i.dv=!1,i.Vct())},i.aK=n,i.Cct=new jF(n.WK),n.addEventListener("dv",i.Hct),n.addEventListener("bw",i.zct),i}S(n,t);var i=n.prototype;return i.Fat=function(t){var n=this._at.Sw;return n.length?ft(t,n.start(0),n.end(n.length-1)):0},i.Vct=function(){if(this._at){var t=this._at.currentTime,n=this._at.paused;this._at.load(),this._at.currentTime=t,n||this._at.play()}},i.Wct=function(){this._at&&(this._at.addEventListener("loadstart",this.Mct),this._at.addEventListener("play",this.Mct),this._at.addEventListener("timeupdate",this.Aut),this._at.addEventListener("timeupdate",this.hht),f(this.Lct),this.Lct=c(this.Fct,250))},i.Xct=function(){f(this.Lct),this._at&&(this._at.removeEventListener("loadstart",this.Mct),this._at.removeEventListener("play",this.Mct),this._at.removeEventListener("timeupdate",this.Aut),this._at.removeEventListener("timeupdate",this.hht))},i.Qo=function(t){t=t||"none",this.Xct(),this.Wct(),this.aK.removeEventListener("dat",this.Uct),this.aK.addEventListener("dat",this.Uct),"none"!==t&&this.Mct()},i.ov=function(){this.Vr(),this.Cct.ov(),this.lct=null,this.aK.removeEventListener("dat",this.Uct)},i.tl=function(){this.gat="start",this.yat=1,this.dv=!1,this.xct=null,this.Pct=null,this.Oct=NaN,this.Bct=NaN,f(this.Lct),this.Cct.tl()},i.X_=function(){},i.p0=function(){},i.$at=function(){},i.Rnt=function(t){var n=this.aK.WK.sK;return this.aK.Fb.Rnt(n,t).kg()},i.But=function(t){var n,i,e=this.aK.WK.sK,r=this.aK.Fb,s=t,u=this.xct;if(u)u.xJ||(u.xJ=r.Ent(e,u.Pj)),n=u.aI,i=u.xJ;else{var o=r.k8(e,Fm.Ry(s));if(!o)return null;n=o.Int.kg(),i=r.Ent(e,o.ik.Pj)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.gct=function(t){return NaN},i.yct=function(t){return NaN},A(n,[{key:"qct",get:function(){return null}},{key:"dw",get:function(){return this.But(this.M6)}},{key:"lct",get:function(){return this._at},set:function(t){this.Xct(),this._at=t,this._at&&(this.Cct.kct=this._at,this.Cct.Zx())}},{key:"Lat",get:function(){return this._at?this._at.Uat():this.gat},set:function(t){"start"===t&&(t=this.aK.knt?1/0:0),t=this.Fat(t),this.gat=t,this._at&&this._at.mct(t)}},{key:"M6",get:function(){return this.Lat},set:function(t){t=this.Fat(t),this.Lat=t}},{key:"Qw",get:function(){return 1/0},set:function(t){}},{key:"g_",get:function(){return this._at?this._at.g_:this.yat},set:function(t){t>0&&(this.yat=t,this._at&&(this._at.g_=t))}},{key:"Sw",get:function(){var t,n,i,e=this._at?this._at.Sw:null,r=this.aK.Fb.Sw;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.Bct||e.end(e.length-1))+this.aK.Fb.Pnt.kg(),isFinite(this.Oct)&&(i+=(XE()-this.Oct)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.aK.Fb.xnt.kg()}return i=_.min(n,i),i=_.max(this.M6,i),new wB([{aI:t,fI:i}])}},{key:"a$",get:function(){return NaN}},{key:"sct",get:function(){return NaN}},{key:"KK",get:function(){return!1}}]),n}(QP),JF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).Gct=new as,o.Qct=void 0,o.uA=void 0,o.Yct=function(){return o.jct()},o.tr=tm.WEBVTT,o.Nl=Ky.NONE,o.xl=jl(s),o.Fr(Mw.Ud,o.Yct),o.uA=u,o}S(n,t);var i=n.prototype;return i.Qo=function(){this.xl&&!this.Qct&&(this.Qct=this.td(this.Gct.Pr),this.Qct.catch(ls))},i.td=function(t){var n,i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.xl,s.prev=1,this.Nl=Ky.LOADING,i=new ql({Lf:n,Kf:Hl.GET,Cf:_c.Pn,Pr:t}),s.next=6,tr.awrap(this.uA.Of(i));case 6:return e=s.sent,s.next=9,tr.awrap(e.ai());case 9:r=s.sent,this.E1(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),ds(s.t0),this.GS(xk(s.t0,this.xl));case 17:case"end":return s.stop()}},null,this,[[1,13]],ge)},i.p0=function(){this.Nl!==Ky.LOADED&&(this.Nl=Ky.NONE,this.Gct.Dr(),this.Gct=new as,this.Qct=void 0)},i.GS=function(t){this.Nl=Ky.ERROR,this.Ur(new _y(t))},i.ov=function(){this.p0(),this.Gct.Tr(),t.prototype.ov.call(this)},i.jct=function(){switch(this.El){case dg.Al:case dg.bl:this.Qo();break;case dg.kl:this.p0()}},i.E1=function(t,n){try{for(var i=vp(n).Dl,e=0;e<i.length;e++){var r=i[e];this.fA(r)}this.Nl=Ky.LOADED}catch(n){this.GS(Pk(this.tr,this.xl,t.Nf,n))}},n}(kD);function $F(t){return pk(t.kind)}var KF=function(){function t(t,n,i,e){this.Zct=void 0,this.V_=void 0,this.Jct=void 0,this.uA=void 0,this.Zct=t,this.V_=i,this.Jct=n,this.uA=e,this.tl()}var n=t.prototype;return n.$ct=function(t){if(this.Kct(),t)if(this.Jct)for(var n=0;n<t.length;n++){var i=t[n];this.yE(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.tft(r)}},n.yE=function(t){var n=$F(t);if(Nk(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Zct.appendChild(i)}},n.tft=function(t){var n=$F(t),i=new JF(n,t.id,t.label,t.srclang,t.src,this.uA);t.default&&(i.El=dg.Al),this.V_.Jd(i)},n.Kct=function(){for(var t=this.V_.nl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.nft&&this.V_.$d(i)}},n.ift=function(){this.Kct()},n.tl=function(){this.Kct()},t}(),tH=function(){function t(t){this.r0=void 0,this.r0=t}var n=t.prototype;return n.Fr=function(t,n){this.r0.addEventListener(t,n)},n.Wr=function(t,n){this.r0.removeEventListener(t,n)},A(t,[{key:"f_",get:function(){return this.r0.currentTime}},{key:"w_",get:function(){return this.r0.paused}},{key:"y_",get:function(){return this.r0.seeking}}]),t}(),nH=function(t){function n(n,i){var e;(e=t.call(this)||this).eft=void 0,e.V_=void 0,e.rft=void 0,e.sft=void 0,e._at=void 0,e.uft=!0,e.oft=function(t){return e.hft(t)},e.aft=function(){return e.cft()},e.fft=function(){return e.vft()},e.dft=function(){return e.lft()},e.Act=function(t){return e.Tct(t.Id)},e._ft=function(t){return e.wft(t.Id)},e.gft=function(){return e.yft()},e.eft=n,e.V_=i,e.eft.addEventListener("seeking",e.gft),e.eft.addEventListener("seeked",e.gft),e.rft=new TC(new tH(n));for(var r=0,s=e.V_.nl;r<s.length;r++){var u=s[r];e.Tct(u)}return e.V_.Fr(Pw.pd,e.Act),e.V_.Fr(Pw.bd,e._ft),e}S(n,t);var i=n.prototype;return i.hft=function(t){this.V_.Jd(t.Id)},i.cft=function(){for(var t=this.V_.nl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.nft&&this.V_.$d(i)}},i.vft=function(){var t=this.lct,n=[],i=t&&t.V_;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.BV(r);s=new yC(r,u,this.PH),r.THEOplayerTextTrack=s,this.V_.Jd(s)}n.push(s)}}for(var o=0,h=this.V_.nl;o<h.length;o++){var a=h[o];mC(a)&&-1===n.indexOf(a)&&this.V_.$d(a)}},i.BV=function(t){for(var n=this.lct.lw.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.lft=function(){for(var t=0,n=this.V_.nl;t<n.length;t++){var i=n[t];mC(i)&&i.OH()}},i.yft=function(){this.mft()},i.Tct=function(t){t instanceof kD&&this.rft.Jd(t)},i.wft=function(t){t instanceof kD&&this.rft.$d(t)},i.mft=function(){var t=this.V_.nl;if(t.length)for(var n=this.eft.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof kD){for(var s=[],u=0,o=r.Dl.nl;u<o.length;u++){var h=o[u];if(!(h.Qw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.rH(c)}}}},i.ov=function(){this.eft.removeEventListener("seeking",this.gft),this.eft.removeEventListener("seeked",this.gft);for(var t=0,n=this.V_.nl;t<n.length;t++){var i=n[t];this.wft(i)}this.V_.Wr(Pw.pd,this.Act),this.V_.Wr(Pw.bd,this._ft),this.rft.ov(),this.WK=null,this.lct=null},A(n,[{key:"WK",get:function(){return this.sft},set:function(t){var n=this.sft;if(n){for(var i=0,e=n.V_;i<e.length;i++){var r=e[i];this.V_.$d(r)}n.removeEventListener("O$",this.oft),n.removeEventListener("ov",this.aft)}if(this.sft=t,t){for(var s=0,u=t.V_;s<u.length;s++){var o=u[s];this.V_.Jd(o)}t.addEventListener("O$",this.oft),t.addEventListener("ov",this.aft)}}},{key:"lct",get:function(){return this._at},set:function(t){var n=this._at;n&&n.V_&&n.V_.removeEventListener&&(n.V_.removeEventListener("addtrack",this.fft),n.V_.removeEventListener("removetrack",this.fft),n.V_.removeEventListener("change",this.dft)),this._at=t,t&&t.V_&&t.V_.addEventListener&&(t.V_.addEventListener("addtrack",this.fft),t.V_.addEventListener("removetrack",this.fft),t.V_.addEventListener("change",this.dft)),this.vft(),this.lft()}},{key:"PH",get:function(){return this.uft},set:function(t){if(this.uft!==t){this.uft=t;for(var n=0,i=this.V_.nl;n<i.length;n++){var e=i[n];mC(e)&&(e.PH=t)}}}}]),n}(QP),iH=function(){function t(t,n){this.rv=void 0,this.md=void 0,this.pft=[],this.kft=new wc,this.bft=er(),this.Aft=new as,this.rv=!(!t||t.crossOrigin!==Ng.Jl&&!t.Tft),this.md=n}var n=t.prototype;return n.Sft=function(t,n){var e,r,s,u,o,h,a,c,f;return tr.async(function(d){for(;;)switch(d.prev=d.next){case 0:for(e=i.De(t),r=0,s=this.pft;r<s.length;r++)null===(u=s[r]).qn||void 0===u.qn?e.searchParams.delete(u.Eft):e.searchParams.set(u.Eft,u.qn);return d.prev=2,o=new ql({Lf:e.href,Cf:_c.Ha,Df:this.kft,rv:this.rv,Kf:Hl.GET,Pr:n,tr:zl.zf,nv:Vl.jf}),d.next=6,tr.awrap(this.md.Of(o));case 6:return h=d.sent,d.next=9,tr.awrap(h.ai());case 9:return a=d.sent,c=new m(a),f=new m(16),16!==c.length&&st("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Gu(c,0,16)),f.set(c,16-c.length),d.abrupt("return",f);case 19:throw d.prev=19,d.t0=d.catch(2),ds(d.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return d.stop()}},null,this,[[2,19]],ge)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return ge.reject(new ZP(jP.Sj,{code:"CAD1603"}));var i=this.bft.get(n);return i||(i=this.Sft(n,this.Aft.Pr),this.bft.set(n,i)),i},n.ov=function(){this.Aft.Dr(),this.bft.clear()},n.Ift=function(t,n){this.pft.push({Eft:t,qn:n})},n.Rft=function(t,n){this.kft.append(t,n)},t}(),eH=function(t){this.eft=void 0,this.eft=t},rH=s.createElement("video");var sH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Got=function(t){return!!function(t){return rH.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(eH);YP.In.qB("AvoidUnsupportedCodecsRule",sH);var uH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Got=function(t,n,i,e){return!("i9"===e.c8)||t.bandwidth<2e6},n}(eH);YP.In.qB("AvoidHighBitrateStreamsRule",uH);var oH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.Nft=function(t){if(!t.resolution)return!0;var n=this.eft.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=_.max(0,_.min(n.right,e)-_.max(0,n.left)),h=_.max(0,_.min(n.bottom,u)-_.max(0,n.top)),a=i.Pe.Zi;return t.resolution.width<=o*a&&t.resolution.height<=h*a},e.Got=function(t){return this.Nft(t)},n}(eH);YP.In.qB("AvoidVideoResolutionGreaterThanDisplaySizeRule",oH);var hH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Got=function(t,n,i){if(i.g5<=0)return!1;var e=i&&.8*i.g5;return!(e&&!y(e)&&t.bandwidth)||e>t.bandwidth*this.eft.playbackRate},n}(eH);YP.In.qB("DownloadMetricRule",hH);var aH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Got=function(t){return!0},n}(eH);YP.In.qB("LimitVideoQualityToDisplaySizeRule",aH);var cH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Got=function(t,n){return!n||(n.o$===cO.Uf||t.o$===cO.Uf||(n.o$===cO.CZ||t.o$===cO.CZ||n.o$===t.o$))},n}(eH);function fH(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function vH(t,n){var i=n;for(var e in t)W(t[e])?(i[e]=i[e]||{},vH(t[e],i[e])):M.call(i,e)||(i[e]=t[e]);return i}function dH(t,n){var i=vH(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case Ng.Zl:case Ng.Jl:break;default:n=Ng.jl}return t&&t.withCredentials&&(n=Ng.Jl),t&&t.vr&&t.vr[360]&&n===Ng.jl&&(n=Ng.Zl),n}(i),i}function lH(t){G(t)&&t.then(j,j)}YP.In.qB("OnlyAllowSameTrackTypeRenditionsRule",cH);var _H,wH=500,gH=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],yH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Dft=void 0,e.OS=void 0,e.Cft=void 0,e.MS=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.Cz=function(){var t=e.OS.oE.error&&e.OS.oE.error.code;t&&e.GS(new ZP(jP.bj,{code:"VEE"+t}))},e.xft=function(t){e.dispatchEvent({type:t.type,error:e.OS.oE.error})},e.Pft=function(){a(e.Cft),e.Cft=void 0,e.OS.oE.removeEventListener("timeupdate",e.Pft),e.OS.Wr(Zg.c_,e.Pft)},e.Oft=function(){void 0!==e.Cft&&e.Pft(),e.Cft=h(function(){e.OS.oE.currentTime+=.1,e.Pft()},wH),e.OS.oE.addEventListener("timeupdate",e.Pft),e.OS.Fr(Zg.c_,e.Pft)},e.Bft=function(){switch(e.OS.oE.readyState){case Pg.i_:case Pg.e_:case Pg.r_:e.Oft();break;case Pg.n_:case Pg.t_:}},e.Dft=n,e.OS=i,e}S(n,t);var i=n.prototype;return i.setup=function(){this.x$(),this.OS.oE.parentNode!==this.Dft&&this.Dft.appendChild(this.OS.oE),this.loaded=!1,this.OS.oE.preload="metadata",this.OS.oE.addEventListener("play",this.Bft),this.OS.oE.addEventListener("loadeddata",this.Bft),this.dispatchEvent("Lft")},i.x$=function(){for(var t=0;t<gH.length;t++){var n=gH[t];this.OS.oE.addEventListener(n,this.xft,!0)}this.OS.oE.addEventListener("error",this.Cz,!0),this.OS.Fr(Zg.Hd,this.xft),this.OS.Fr(Zg.c_,this.xft)},i.Mft=function(){for(var t=0;t<gH.length;t++){var n=gH[t];this.OS.oE.removeEventListener(n,this.xft,!0)}this.OS.oE.removeEventListener("error",this.Cz,!0),this.OS.Wr(Zg.Hd,this.xft),this.OS.Wr(Zg.c_,this.xft)},i.GS=function(t){this.MS=t,this.dispatchEvent({type:"error",error:t})},i.wtt=function(){return ge.resolve()},i.load=function(){this.OS.oE.load(),this.loaded=!0},i.unload=function(){return this.Pft(),this.Vr(),this.Mft(),this.OS.oE.removeEventListener("play",this.Bft),this.OS.oE.removeEventListener("loadeddata",this.Bft),Pe(this.OS.oE),this.OS.oE},i.play=function(){var t=this.g_;lH(this.OS.oE.play()),this.g_=t},i.pause=function(){this.OS.oE.pause()},i.G_=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.mct(0)}catch(t){}this.dispatchEvent("reset")},i.rw=function(){return this.OS.oE},i.Uat=function(){return this.OS.oE.currentTime},i.mct=function(t){this.OS.oE.currentTime=t},i.canPlayCodecs=function(t){return this.OS.oE.canPlayType('video/mp4; codecs="'+t+'"')},A(n,[{key:"ict",get:function(){return!0}},{key:"lw",get:function(){return this.OS.oE}},{key:"vw",get:function(){return this.OS.oE.buffered}},{key:"k_",get:function(){return this.OS.oE.volume},set:function(t){this.OS.oE.volume=t}},{key:"duration",get:function(){return this.OS.oE.duration}},{key:"muted",get:function(){return this.OS.oE.muted},set:function(t){this.OS.oE.muted=t}},{key:"paused",get:function(){return this.OS.oE.paused}},{key:"played",get:function(){return this.OS.oE.played}},{key:"poster",get:function(){return this.OS.oE.poster},set:function(t){t?this.OS.oE.poster=t:this.OS.oE.removeAttribute("poster")}},{key:"controls",get:function(){return this.OS.oE.controls},set:function(t){t?this.OS.oE.controls=t:this.OS.oE.removeAttribute("controls")}},{key:"ended",get:function(){return this.OS.oE.ended}},{key:"seeking",get:function(){return this.OS.oE.seeking}},{key:"error",get:function(){return this.OS.oE.error}},{key:"width",get:function(){return this.OS.oE.offsetWidth}},{key:"height",get:function(){return this.OS.oE.offsetHeight}},{key:"src",get:function(){return this.OS.oE.src},set:function(t){this.OS.oE.src=t}},{key:"p_",get:function(){return this.OS.oE.videoWidth}},{key:"m_",get:function(){return this.OS.oE.videoHeight}},{key:"V_",get:function(){return this.OS.oE.textTracks}},{key:"knt",get:function(){return this.OS.oE.duration===1/0}},{key:"Sw",get:function(){var t=this.OS.oE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Uat()||0),new wB([{aI:n,fI:i}])}},{key:"g_",get:function(){return this.OS.oE.playbackRate},set:function(t){t>0&&(this.OS.oE.playbackRate=t)}},{key:"Nl",get:function(){return this.OS.Nl}},{key:"Uft",get:function(){return void 0!==this.OS.oE.webkitSupportsPresentationMode&&this.OS.oE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Fft",get:function(){return"picture-in-picture"===this.OS.oE.webkitPresentationMode}},{key:"Hft",get:function(){return this.OS.oE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.OS.oE.webkitSetPresentationMode(t)}}]),n}(QP);!function(t){t[t.zft=0]="zft",t[t.Vft=1]="Vft",t[t.$Q=2]="$Q",t[t.Wft=3]="Wft",t[t.Xft=4]="Xft"}(_H||(_H={}));var mH=function(){function t(){this.qft=!1,this.Gft=null,this.Qft=null,this.Yft=null,this.TB=[],this.jft=null}var n=t.prototype;return n.Zft=function(){if(!this.qft)return!1;for(var t=this.Gft,n=this.Qft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Jft=function(t){switch(t.tr){case _H.zft:return this.$ft(t.ai,t.Int,t.eC);case _H.Vft:return this.Kft(t.tvt);case _H.$Q:return this.nvt(t.ivt,t.evt);case _H.Wft:return this.SB();case _H.Xft:return this.rvt(t.eC)}},n.$ft=function(t,n,i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.Qft,y(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,tr.awrap(this.svt());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],ge)},n.Kft=function(t){var n,i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.Qft,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=_.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,tr.awrap(this.svt());case 11:case"end":return u.stop()}},null,this,null,ge)},n.nvt=function(t,n){var i,e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.Gft,i=this.Qft,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=_.max(e.start(0),t),u=_.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,tr.awrap(this.svt());case 12:case"end":return o.stop()}},null,this,null,ge)},n.SB=function(){var t,n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Gft,n=this.Qft,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,tr.awrap(Cw(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],ge)},n.rvt=function(t){return ge.resolve(t())},n.uvt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.mF(t)){n.next=5;break}return n.next=3,tr.awrap(bs(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,ge)},n.mF=function(t){var n=this.Gft;if(!n.open||"open"!==n.readyState||!this.Zft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.svt=function(){var t=this;return new ge(function(n,i){var e,r=t.Qft,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.ovt=function(){var t=this;this.Yft||(0!==this.TB.length||this.jft)&&this.Zft()&&(this.Yft=this.avt().then(function(){t.Yft=null}))},n.avt=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.TB.length>0)){n.next=9;break}if(this.Zft()){n.next=4;break}return n.abrupt("return");case 4:return t=this.TB.shift(),n.next=7,tr.awrap(this.Jft(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,tr.awrap(this.uvt("decode").catch(j));case 16:if(!this.jft){n.next=26;break}return n.prev=17,n.next=20,tr.awrap(this.uvt(this.jft.Kr));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.jft=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],ge)},n.Zx=function(t,n){this.qft||(this.qft=!0,this.Gft=t,this.Qft=n,this.ovt())},n.Rw=function(t,n,i){this.TB.push({tr:_H.zft,ai:t,Int:n,eC:i}),this.ovt()},n.cvt=function(t,n){this.TB.push({tr:_H.$Q,ivt:t,evt:n}),this.ovt()},n.fvt=function(t){this.TB.push({tr:_H.Vft,tvt:t}),this.ovt()},n.Dr=function(){this.TB.push({tr:_H.Wft}),this.ovt()},n.vvt=function(t){this.TB.push({tr:_H.Xft,eC:t}),this.ovt()},n.kut=function(t){this.jft={Kr:t},this.ovt()},n.vs=function(){this.TB.length=0,this.jft=null},t}();var pH=function(t){function n(n){var i;return(i=t.call(this)||this).Gft=void 0,i.Qft=null,i.dvt=new mH,i.Qw=NaN,i.lvt=null,i.Mr=function(t){return i.dispatchEvent(t)},i._vt=function(){return i.J5()},i.Gft=n,i.tl(),i}S(n,t);var i=n.prototype;return i.wvt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.wtt=function(t,n,i,e){var r=this;if(!this.Qft||!n)return ge.resolve();var s=n.initializer.ai,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.lvt,s);if(e&&(L.dn||this.dvt.Dr()),e)if(L.dn);else{var o=t&&t.aI,h=t&&t.aI+t.v_-.5;this.dvt.cvt(o,h)}return u&&(this.dvt.Rw(s,i,this.wvt.bind(this)),this.lvt=s),new ge(function(t,e){r.dvt.Rw(n.m4s.ai,i,function(n){n?e(n):t()})})},i.SU=function(){var t=this;return new ge(function(n){t.dvt.vvt(function(){var i=t.vw;i&&i.length&&(t.Qw=i.end(i.length-1)),n()})})},i.gvt=function(t){if(!this.Qft){try{this.Qft=this.Gft.addSourceBuffer(t),this.Qft.addEventListener("updatestart",this.Mr),this.Qft.addEventListener("updateend",this.Mr)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.Gft.addEventListener("sourceclose",this._vt),this.dvt.Zx(this.Gft,this.Qft)}return!0},i.Zft=function(){for(var t=0;t<this.Gft.sourceBuffers.length;t++)if(this.Gft.sourceBuffers[t]===this.Qft)return!0;return!1},i.Yo=function(t){var n=this,i=this.vw;if(!(this.Qft&&i&&i.length))return t&&t();this.Qft.remove(0,i.end(i.length-1)),t&&this.Qft.addEventListener("updateend",function i(e){n.Qft.removeEventListener("updateend",i),t()})},i.tl=function(t){this.lvt=null,this.Qw=NaN,this.J5(),this.Yo(t)},i.fvt=function(t){this.Qft&&this.dvt.fvt(t)},i.kut=function(t){this.Qft&&this.dvt.kut(t)},i.J5=function(){this.dvt.vs(),"open"===this.Gft.readyState&&this.Qft&&this.Qft.updating&&this.Qft.abort()},A(n,[{key:"vw",get:function(){return this.Qft&&this.Zft()?new wB(TB(this.Qft.buffered)):null}},{key:"zC",get:function(){return this.Qft&&this.Qft.updating}},{key:"d_",get:function(){var t=this.vw;return!t||!y(this.Qw)&&bB(t,this.Qw)}}]),n}(QP),kH="mp4a.40.34";var bH=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.yvt=!1,i.PR=function(){var t=i.yvt;i.yvt=i.zC,!t&&i.yvt?i.dispatchEvent("updatestart"):t&&!i.yvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new pH(n),i.videoTrackBuffer=new pH(n),i.audioTrackBuffer.addEventListener("updatestart",i.PR),i.videoTrackBuffer.addEventListener("updatestart",i.PR),i.audioTrackBuffer.addEventListener("updateend",i.PR),i.videoTrackBuffer.addEventListener("updateend",i.PR),i.tl(),i}S(n,t);var i=n.prototype;return i.wtt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.nJ&&n.push(this.audioTrackBuffer.wtt(t.metadata.nJ,t.nJ,t.metadata.nJ&&t.metadata.nJ.z2===kH?t.metadata.nJ.aI:NaN,t.metadata.y4)),t.iJ&&n.push(this.videoTrackBuffer.wtt(t.metadata.iJ,t.iJ,NaN,t.metadata.y4)),i.next=7,tr.awrap(ge.all(n));case 7:this.d_&&(this.audioTrackBuffer.kut(),this.videoTrackBuffer.kut());case 8:case"end":return i.stop()}},null,this,null,ge)},i.kut=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer.SU()),n&&i.push(this.videoTrackBuffer.SU()),e.next=5,tr.awrap(ge.all(i));case 5:this.d_&&(this.audioTrackBuffer.kut(),this.videoTrackBuffer.kut());case 6:case"end":return e.stop()}},null,this,null,ge)},i.Zx=function(t){var n,i={};for(var e in t)if(M.call(t,e)){var r=t[e];if(r.iJ){var s='video/mp4; codecs="'+r.iJ+'"';this.videoTrackBuffer.gvt(s),i.iJ=this.videoTrackBuffer}if(r.nJ){var u=(n=r.nJ)!==kH||nb?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.gvt(u),i.nJ=this.audioTrackBuffer}0}return i},i.tl=function(t){var n=!1,i=!1;this.yvt=!1,this.audioTrackBuffer.tl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.tl(function(){if(i=!0,n&&t)return t()})},i.fvt=function(t){this.audioTrackBuffer.fvt(t),this.videoTrackBuffer.fvt(t)},i.J5=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.J5(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.J5()},A(n,[{key:"vw",get:function(){var t=this.audioTrackBuffer.vw,n=this.videoTrackBuffer.vw;return t&&n?pB(t,n):t||n||gB}},{key:"_L",get:function(){return this.audioTrackBuffer.vw||gB}},{key:"wL",get:function(){return this.videoTrackBuffer.vw||gB}},{key:"zC",get:function(){return this.audioTrackBuffer.zC||this.videoTrackBuffer.zC}},{key:"d_",get:function(){return this.audioTrackBuffer.d_&&this.videoTrackBuffer.d_}}]),n}(QP),AH=1,TH=.05,SH=.01;function EH(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function IH(t,n,i,e){var r=AB(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-TH)){var u,o;do{if((u=EH(t,n))<0)return;t=(o=n.start(u)+SH)+TH}while(n.end(u)-o<TH);for(var h=o-s,a=pB(new wB([{aI:s,fI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<AH?o:void 0}}var RH=100,NH=1e-4,DH=500,CH=ub,xH=L.$t,PH=5,OH=["resize","volumechange"],BH=function(n){function i(t,i){var e;return(e=n.call(this)||this).mvt=void 0,e.OS=void 0,e.pvt=!0,e.d_=!1,e.kvt=!1,e.bvt=!1,e.Avt=null,e.Kr=!1,e.Gft=null,e.Qft=null,e.Tvt=null,e.qft=!1,e.Svt=0,e.Evt=eS.QI(),e.yat=1,e.Ivt=!1,e.PF=!1,e.y_=!1,e.Rvt=new as,e.Nvt=!1,e.Dvt=!1,e.Cvt=void 0,e.xvt=null,e.Pvt=null,e.Ovt=Pg.t_,e.Bvt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.Lvt=function(){e.Bvt=!1,e.Mvt(),e.Uvt(),e.Fvt()},e.Hvt=function(){e.zvt(),e.Fvt(),e.Vvt()},e.jS=function(){e.Wvt(),e.zvt(),e.UF()?e.dispatchEvent("playing"):e.Bvt=!0},e.Xvt=function(){e.Bvt=!1,e.Mvt(),e.G_()},e.yF=function(){e.qvt()},e.YS=function(){e.Gvt(),e.Vvt()},e.$U=function(){var t=e.Ovt,n=e.Nl;t!==n&&(e.Ovt=n,e.dispatchEvent(new ly(e.Uat(),n))),e.Vvt()},e.Uvt=function(){e.Svt&&(f(e.Svt),e.Svt=0,xH&&(e.OS.oE.removeEventListener("timeupdate",e.HV),e.removeEventListener(Zg.Hd,e.XV)))},e.Qvt=function(){e.Svt||(e.Svt=c(e.Yvt,DH)),xH&&(e.OS.oE.addEventListener("timeupdate",e.HV),e.addEventListener(Zg.Hd,e.XV),e.HV()),e.Yvt()},e.jvt=function(){var t=e.Uat(),n=bB(e.Zvt,t);e.OS.w_||e.y_&&!n||e.Jvt()||e.Qvt()},e.Yvt=function(t){if(!(e.xvt||void 0===t&&e.Dvt)){var n,i=e.Uat(),r=e.vw;if(void 0===t){if(void 0===(n=IH(i,r,e.Zvt,e.kvt)))return}else{if(!bB(r,t))return;n=t}var s=function(){e.OS.oE.currentTime=n,e.$vt(n),e.Uvt(),e.Dvt=!0};dt(n,i)?e.xvt=h(function(){e.xvt=null,i=e.Uat(),dt(n,i)&&(n+=1e3*DH,s())},DH):s()}},e.SW=function(){var t=e.Tvt;if(e.Kvt(),e.OS.oE.readyState===Pg.t_)return e.Tvt=t,void e.OS.oE.addEventListener("loadedmetadata",e.SW);_.abs(e.OS.oE.currentTime-t)<NH?e.YS():(e.OS.oE.currentTime=t,e.Dvt=!1,e.yF()),e.Tvt=null,e.bP(e.yat),e.OS.gW(),e.tdt(t)&&e.G_()},e.ndt=function(){if(!e.kvt){var t=e.OS.oE,n=e.vw,i=t.currentTime;e.idt(n,i)&&(e.kvt=!0,e.zvt(),i=t.currentTime,e.idt(n,i)?e.kvt=!0:e.kvt=!1,e.$U()),e.Pvt=i}},e.Wvt=function(){e.Mvt(),e.Avt=c(e.ndt,RH)},e.Mvt=function(){e.kvt=!1,f(e.Avt)},e.edt=function(){e.kvt&&(e.kvt=!1,e.$U())},e.HV=function(){var t=e.Qft;if(t)if(t.d_)e.zV();else{var n=t._L,i=t.wL;if(0!==n.length&&0!==i.length){var r=e.Uat();if(r<n.start(0)||r<i.start(0))e.zV();else bB(n,r)!==bB(i,r)?e.VV():e.zV()}else e.zV()}},e.XV=function(){if(!(e.y_||e.Dvt||e.OS.oE.seeking||e.Nl>=Pg.e_)){var t=e.Qft;if(t){var n=e.Uat(),i=eS.XI(t._L),r=eS.XI(t.wL);if(i.EE(n)&&r.EE(n))i.NI(r).BI(n-PH,n)&&(e.OS.oE.currentTime=n,e.Dvt=!0)}}},e.rdt=function(){e.Gft.open=!0,e.Gft.removeEventListener("sourceopen",e.rdt),e.Gft.removeEventListener("webkitsourceopen",e.rdt)},e.Cz=function(t){var n=e.OS.oE.error&&e.OS.oE.error.code;n&&e.GS(new ZP(jP.bj,{code:"VEE"+n}))},e.Mr=function(t){e.dispatchEvent({type:t.type})},e.sdt=function(){e.Qft&&e.Qft.d_&&e.dispatchEvent("durationchange")},e.udt=function(){e.removeEventListener("odt",e.udt),e.Nvt=!1,e.hdt(e.yat)},e.mvt=t,e.OS=i,e}S(i,n);var e=i.prototype;return e.hdt=function(t){this.PF&&(t=0),this.OS.g_=t,0!==t||CH?this.Ivt&&(this.Ivt=!1,lH(this.OS.X_())):(this.Ivt=!this.OS.w_||this.Ivt,this.OS.q_()),this.Fvt()},e.bP=function(t){this.yat=t,this.Nvt||this.hdt(t)},e.adt=function(t){var n=AB(this.Zvt,t);return-1===n?null:this.Zvt.end(n)},e.qvt=function(){this.Dvt||this.y_||(this.y_=!0,this.dispatchEvent("seeking"))},e.Gvt=function(){this.Dvt=!1,this.cdt(),this.y_&&(this.y_=!1,this.dispatchEvent("seeked")),this.jvt()},e.zvt=function(){this.Dvt||this.jvt()},e.cdt=function(){this.Cvt&&(a(this.Cvt),this.Cvt=void 0)},e.$vt=function(t){var n=this;this.Cvt=h(function(){n.Yvt(t+2)},750)},e.Vvt=function(){this.Bvt&&this.UF()&&(this.Bvt=!1,this.dispatchEvent("playing"))},e.Fvt=function(){var t=this.pvt,n=this.paused;this.pvt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.CU=function(t,n){if(!(t+.001>n)){var i=new eS([t,n]);this.Evt=this.Evt.RI(i).DI(eS.XI(this.vw)),this.Evt.EE(this.Uat())&&this.jvt()}},e.tdt=function(t){return t>=this.OS.oE.duration-(this.paused?0:.5)},e.fdt=function(t){return y(this.OS.oE.duration)||(t=_.min(t,this.OS.oE.duration)),_.max(0,t)},e.Kvt=function(){this.Tvt=null,this.OS.oE.removeEventListener("loadedmetadata",this.SW)},e.HF=function(){return this.Nl<Pg.e_},e.UF=function(){return!(this.paused||this.ended||this.error||this.HF())},e.idt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-TH)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.Pvt&&this.Pvt===n){if(this.tdt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.VV=function(){this.PF||(this.PF=!0,this.hdt(0),this.$U())},e.zV=function(){this.PF&&(this.PF=!1,this.bP(this.yat),this.OS.oE.currentTime=this.OS.oE.currentTime,this.$U())},e.vdt=function(){var t=this.OS.oE;t.addEventListener("timeupdate",this.edt),this.OS.Fr(lc.ka,this.Lvt),this.OS.Fr(lc.ba,this.Hvt),this.OS.Fr(lc.da,this.Xvt),t.addEventListener("seeking",this.yF),t.addEventListener("seeked",this.YS);for(var n=0;n<OH.length;n++){var i=OH[n];t.addEventListener(i,this.Mr)}t.addEventListener("error",this.Cz),t.addEventListener("durationchange",this.sdt),this.OS.Fr(lc.Ba,this.Mr),this.OS.Fr(Zg.Hd,this.$U),this.OS.Fr(Zg.c_,this.jS)},e.ddt=function(){var t=this.OS.oE;t.removeEventListener("timeupdate",this.edt),this.OS.Wr(lc.ka,this.Lvt),this.OS.Wr(lc.ba,this.Hvt),this.OS.Wr(lc.da,this.Xvt),t.removeEventListener("seeking",this.yF),t.removeEventListener("seeked",this.YS);for(var n=0;n<OH.length;n++){var i=OH[n];t.removeEventListener(i,this.Mr)}t.removeEventListener("error",this.Cz),t.removeEventListener("durationchange",this.sdt),this.OS.Wr(lc.Ba,this.Mr),this.OS.Wr(Zg.Hd,this.$U),this.OS.Wr(Zg.c_,this.jS)},e.ldt=function(){var n=this.OS.oE,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this._dt(),this.Gft=new i,this.Gft.addEventListener("sourceopen",this.rdt),this.Gft.addEventListener("webkitsourceopen",this.rdt),n.src=RM(this.Gft),n.load()):this.GS(new ZP(jP.Tj,{code:"MVE2720"})):this.GS(new ZP(jP.Tj,{code:"MVE2650"}))},e._dt=function(){if(this.qft=!1,this.Qft&&(this.Qft.tl(),this.Qft=null),this.Gft){this.Rvt.Dr();var t=this.OS.oE;t.src&&(NM(t.src),Pe(t)),this.Gft=null}},e.setup=function(){this.ldt(),this.vdt(),this.OS.oE.parentNode!==this.mvt&&this.mvt.appendChild(this.OS.oE)},e.GS=function(t){this.Kr=t,this.dispatchEvent({type:"error",error:t})},e.Jvt=function(){return this.Qft&&this.Qft.zC},e.wdt=function(t){var n=this.Uat()-_.max(30,3*t.AJ.nZ.targetDuration);this.dispatchEvent("odt"),this.Qft&&!t.g4&&this.Qft.fvt(n),this.jvt()},e.wtt=function(t){if(!this.Gft.open||"closed"===this.Gft.readyState)return ge.reject("gdt");if(!this.Qft)return ge.reject("ydt");var n=this.mdt(t);return this.bvt||(this.bvt=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.mdt=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.Qft.wtt(t)),n.g4&&i.push(this.kut(!!t.nJ,!!t.iJ)),t=null,e.next=7,tr.awrap(ge.all(i));case 7:this.wdt(n);case 8:case"end":return e.stop()}},null,this,null,ge)},e.kut=function(t,n){return this.Gft.open&&"closed"!==this.Gft.readyState?this.Qft?this.Qft.kut(t,n):ge.reject("ydt"):ge.reject("gdt")},e.play=function(){var t=this.OS.g_;this.d_=!1,0!==this.OS.g_||CH?(lH(this.OS.X_()),this.OS.gW(),this.OS.g_=t):this.Ivt=!0,this.Fvt()},e.pause=function(){0!==this.OS.g_||CH?this.OS.q_():this.Ivt=!1,this.Fvt()},e.G_=function(){this.d_||(this.d_=!0,this.OS.q_(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.Avt),this.Avt=null,this.Uvt(),this.Kvt(),this._dt(),this.ddt(),this.Vr(),this.OS.oE},e.reset=function(){f(this.Avt),this.Avt=null,this.Uvt(),this.Kvt(),this.pvt=!0,this.d_=!1,this.kvt=!1,this.bvt=!1,this.Kr=!1,this.y_=!1,this.Bvt=!1,this.zV(),this.ldt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.rw=function(){return this.OS.oE},e.Uat=function(){return null===this.Tvt?this.OS.oE.currentTime:this.Tvt},e.mct=function(t){var n=this.adt(t);t=this.fdt(t),this.kvt=!1,this.OS.oE.error&&(this.bvt=!1,this.Kr=!1,this.ldt()),this.d_&&(this.d_=this.tdt(t)),this.Uvt(),null!==n&&(t=n),this.Kvt(),this.Tvt=t,this.y_=!0,this.dispatchEvent("vct"),this.dispatchEvent("seeking"),this.SW()},e.pdt=function(t){return this.Gft.open?ge.resolve(null):Cw(this.Gft,"sourceopen",t)},e.kdt=function(t,n,i){vs(i),n>0&&(this.Gft.duration=n),this.Qft=new bH(this.Gft);var e=this.Qft.Zx(t);return this.dispatchEvent("Lft"),this.Qft.addEventListener("updatestart",this.Uvt),this.Qft.addEventListener("updateend",this.jvt),this.qft=!0,this.dispatchEvent("qft"),e},e.ect=function(t,n,i){var e=this;this.Rvt.Dr();var r=new as;return r.Cr(i),this.Rvt=r,this.Qft?ge.resolve(null):this.pdt(r.Pr).then(function(){return e.kdt(t,n,i)})},e.nK=function(t){L.dn&&(this.Nvt=!0,this.hdt(0),this.removeEventListener("odt",this.udt),this.addEventListener("odt",this.udt),this.Qft&&this.Qft.J5(t))},e.canPlayCodecs=function(t){return this.OS.oE.canPlayType('video/mp4; codecs="'+t+'"')},A(i,[{key:"Zvt",get:function(){return this.Evt.IE()}},{key:"Nl",get:function(){var t=this.OS.Nl;return t>Pg.i_&&(this.kvt||this.PF)?Pg.i_:t}},{key:"lw",get:function(){return this.OS.oE}},{key:"vw",get:function(){return this.Qft?this.Qft.vw:this.OS.oE.buffered}},{key:"_L",get:function(){return this.Qft?this.Qft._L:gB}},{key:"wL",get:function(){return this.Qft?this.Qft.wL:gB}},{key:"volume",get:function(){return this.OS.oE.volume},set:function(t){this.OS.oE.volume=t}},{key:"duration",get:function(){return this.OS.oE.duration}},{key:"muted",get:function(){return this.OS.oE.muted},set:function(t){this.OS.oE.muted=t}},{key:"paused",get:function(){return this.OS.w_&&!this.Ivt}},{key:"played",get:function(){return this.OS.oE.played}},{key:"poster",get:function(){return this.OS.oE.poster},set:function(t){t?this.OS.oE.poster=t:this.OS.oE.removeAttribute("poster")}},{key:"controls",get:function(){return this.OS.oE.controls},set:function(t){t?this.OS.oE.controls=t:this.OS.oE.removeAttribute("controls")}},{key:"ended",get:function(){return this.d_}},{key:"seeking",get:function(){return this.y_}},{key:"error",get:function(){return this.Kr||this.OS.oE.error}},{key:"width",get:function(){return this.OS.oE.offsetWidth||this.OS.oE.parentNode.offsetWidth}},{key:"height",get:function(){return this.OS.oE.offsetHeight||this.OS.oE.parentNode.offsetHeight}},{key:"g_",get:function(){return this.yat},set:function(t){var n=this.yat;t>0&&(this.bP(t),this.yat!==n&&this.dispatchEvent("ratechange"))}},{key:"p_",get:function(){return this.OS.oE.videoWidth||0}},{key:"m_",get:function(){return this.OS.oE.videoHeight||0}},{key:"ict",get:function(){return this.qft}}]),i}(QP),LH=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","bdt","nK",Zg.Hd],MH=.04,UH=.25,FH=4,HH=.75,zH=1.5,VH=.25,WH=function(t){function n(){var n;return(n=t.call(this)||this).Adt=null,n.Tdt=null,n.KI=!1,n.Ou=1,n.nR=1,n.Sdt=null,n.Edt=void 0,n.xft=function(t){n.dispatchEvent(t)},n.Idt=function(t){n.Tdt||n.dispatchEvent(t)},n.Rdt=function(t){var i=t.error||n.Tdt.error;n.audioStream=null,n.Sdt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Sdt})},n.Ndt=function(){n.Tdt&&!n.Tdt.loaded||n.Adt&&!n.Adt.loaded||(n.Tdt&&(n.Tdt.removeEventListener("loaded",n.Ndt),n.Tdt.play()),n.Adt&&(n.Adt.removeEventListener("loaded",n.Ndt),n.Adt.play()))},n.Ddt=function(){n.Cdt(),n.Tdt&&n.Adt&&(n.Tdt.addEventListener("timeupdate",n.xdt),n.Adt.addEventListener("timeupdate",n.xdt))},n.Cdt=function(){a(n.Edt),n.Tdt&&n.Tdt.removeEventListener("timeupdate",n.xdt),n.Adt&&(n.Adt.g_=n.nR,n.Adt.removeEventListener("timeupdate",n.xdt))},n.Pdt=function(){n.Nl<Pg.e_&&n.Cdt()},n.xdt=function(){if(a(n.Edt),n.Tdt&&n.Adt){var t=n.Tdt.g_,i=n.Tdt.Uat()-n.Adt.Uat(),e=_.max(FH,zH*t),r=_.min(UH,HH*t);if(_.abs(i)<MH)n.Adt.g_!==t&&(n.Adt.g_=t);else{var s=VH,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.Adt.g_=u,n.Edt=h(n.xdt,1e3*s)}}else n.Cdt()},n.addEventListener("playing",n.Ddt),n.addEventListener("ended",n.Cdt),n.addEventListener(Zg.Hd,n.Pdt),n}S(n,t);var i=n.prototype;return i.j$=function(t,n){n?(t.addEventListener("timeupdate",this.xft),t.addEventListener("error",this.Rdt)):(t.addEventListener("timeupdate",this.Idt),t.addEventListener("error",this.xft));for(var i=0;i<LH.length;i++){var e=LH[i];t.addEventListener(e,this.xft)}},i.qr=function(t){t.removeEventListener("timeupdate",this.xft),t.removeEventListener("timeupdate",this.Idt),t.removeEventListener("timeupdate",this.xdt),t.removeEventListener("error",this.xft),t.removeEventListener("error",this.Rdt),t.removeEventListener("loaded",this.Ndt);for(var n=0;n<LH.length;n++){var i=LH[n];t.removeEventListener(i,this.xft)}},i.Odt=function(t){this.Tdt&&this.Tdt.Odt(t),this.Adt&&this.Adt.Odt(t)},i.play=function(){if(this.Tdt&&!this.Tdt.loaded||this.Adt&&!this.Adt.loaded)return this.Tdt&&this.Tdt.addEventListener("loaded",this.Ndt),void(this.Adt&&this.Adt.addEventListener("loaded",this.Ndt));this.Ndt()},i.pause=function(){this.Tdt&&(this.Tdt.removeEventListener("loaded",this.Ndt),this.Tdt.pause()),this.Adt&&(this.Adt.removeEventListener("loaded",this.Ndt),this.Adt.pause()),this.Cdt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Tdt&&this.Tdt.load(),-1!==t.indexOf("video")&&this.Adt&&this.Adt.load()):(this.Tdt&&this.Tdt.load(),this.Adt&&this.Adt.load())},i.ov=function(t){this.Vr(),this.Sdt=null,t?(-1!==t.indexOf("audio")&&this.Tdt&&(this.Tdt.ov(),this.Tdt=null),-1!==t.indexOf("video")&&this.Adt&&(this.Adt.ov(),this.Adt=null)):(this.Tdt&&(this.Tdt.ov(),this.Tdt=null),this.Adt&&(this.Adt.ov(),this.Adt=null))},i.nK=function(t){this.Tdt&&this.Tdt.pause(),this.Adt&&this.Adt.pause(),this.Cdt(),t&&-1===t.indexOf("audio")||!this.Tdt||this.Tdt.nK(),t&&-1===t.indexOf("video")||!this.Adt||this.Adt.nK()},i.wtt=function(t){this.Tdt&&t.nJ&&this.Tdt.wtt(t),this.Adt&&t.iJ&&this.Adt.wtt(t)},i.Bdt=function(t){return this.Adt?this.Adt.Bdt(t):""},i.Ldt=function(){return this.Adt?this.Adt.Ldt():0},i.Mdt=function(){return this.Adt?this.Adt.Mdt():0},i.rw=function(){return this.Adt&&this.Adt.rw()},i.Uat=function(){return this.Tdt?this.Tdt.Uat():this.Adt?this.Adt.Uat():NaN},i.mct=function(t,n){this.Tdt&&this.Tdt.mct(t,n),this.Adt&&this.Adt.mct(t,n)},A(n,[{key:"vw",get:function(){return this.Tdt&&this.Adt?pB(this.Tdt.vw,this.Adt.vw):this.Tdt?this.Tdt.vw:this.Adt?this.Adt.vw:gB}},{key:"volume",get:function(){return this.Ou},set:function(t){this.Ou!==t&&(this.Ou=t,this.Tdt&&(this.Tdt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Tdt&&this.Tdt.duration||this.Adt&&this.Adt.duration||NaN}},{key:"muted",get:function(){return this.KI},set:function(t){this.KI!==t&&(this.KI=t,this.Tdt&&(this.Tdt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Tdt&&!this.Adt)&&(!(this.Tdt&&!this.Tdt.loaded)&&!(this.Adt&&!this.Adt.loaded))}},{key:"paused",get:function(){return!this.Tdt&&!this.Adt||(this.Tdt&&this.Tdt.paused||this.Adt&&this.Adt.paused||!1)}},{key:"ended",get:function(){return this.Tdt&&this.Tdt.ended||this.Adt&&this.Adt.ended||!1}},{key:"seeking",get:function(){return this.Tdt&&this.Tdt.seeking||this.Adt&&this.Adt.seeking||!1}},{key:"error",get:function(){return this.Tdt&&this.Tdt.error||this.Adt&&this.Adt.error}},{key:"warning",get:function(){return this.Sdt||this.Tdt&&this.Tdt.warning||this.Adt&&this.Adt.warning}},{key:"audioStream",get:function(){return this.Tdt},set:function(t){this.Tdt&&(this.qr(this.Tdt),this.Tdt.ov()),this.Tdt=t,this.Tdt&&(this.Tdt.volume=this.Ou,this.Tdt.muted=this.KI,this.Tdt.g_=this.nR,this.j$(this.Tdt,!0))}},{key:"videoStream",get:function(){return this.Adt},set:function(t){this.Adt&&(this.qr(this.Adt),this.Adt.ov()),this.Adt=t,this.Adt&&(this.Adt.g_=this.nR,this.j$(this.Adt,!1))}},{key:"g_",get:function(){return this.nR},set:function(t){this.nR!==t&&(t<0||(this.nR=t,this.Tdt&&(this.Tdt.g_=t),this.Adt&&(this.Adt.g_=t),this.dispatchEvent("ratechange")))}},{key:"Nl",get:function(){return this.Tdt&&this.Adt?_.min(this.Tdt.Nl,this.Adt.Nl):this.Tdt?this.Tdt.Nl:this.Adt?this.Adt.Nl:Pg.t_}},{key:"p_",get:function(){return this.Adt?this.Adt.p_:0}},{key:"m_",get:function(){return this.Adt?this.Adt.m_:0}}]),n}(QP),XH=function(){function t(t,n,i,e){var r=this;this.Udt=void 0,this.Fdt=void 0,this.v_=void 0,this.eC=void 0,this.Hdt=void 0,this.zdt=void 0,this.Gw=void 0,this.Of=0,this.tv=0,this.running=!1,this.Vdt=function(t){return r.jo(t)},this.Udt=t,this.Fdt=n,this.v_=i,this.eC=e,this.Hdt=t.as(),this.zdt=(n-this.Hdt)/(i||1)}var n=t.prototype;return n.Wdt=function(){return this.Udt.na(this.Fdt),this.running=!1,this.Xdt(),this.eC()},n.aI=function(){var t=this;this.running=!0,this.v_?this.qdt():GP(function(){t.running&&t.Wdt()})},n.jo=function(t){if(this.Xdt(),this.running){void 0===this.Gw&&(this.Gw=t);var n=this.Hdt,i=this.zdt,e=this.Fdt,r=this.Udt,s=n+_.max(0,t-this.Gw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.Wdt();if(r.na(s))return this.Wdt();this.qdt()}},n.qdt=function(){this.Of=vI(this.Vdt),this.tv=aI(this.Vdt)},n.Xdt=function(){dI(this.Of),fI(this.tv)},t}();var qH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Gdt=void 0,e.fi=void 0,e.Qdt=null,e.Ydt=null,e.jdt=NaN,e.Zdt=!1,e.Jdt=!1,e.$dt=1,e.Kdt=void 0,e.tlt=void 0,e.nlt=function(t){e.ilt(t)||e.dispatchEvent(t)},e.Gdt=n,e.fi=i,e}S(n,t);var i=n.prototype;return i.pause=function(){this.Gdt.pause()},i.play=function(){lH(this.Gdt.play()),this.elt()},i.rlt=function(t){if(!(this.Nl<Pg.e_))return this.J5(),this.Zdt=!0,this.nlt({type:"canplay"}),t&&t();this.Kdt=h(this.tlt,100)},i.Qo=function(t){this.Jdt=!0,this.Zdt=!1,this.Gdt.removeEventListener("canplay",this.tlt),this.tlt=this.rlt.bind(this,t),this.Gdt.addEventListener("canplay",this.tlt),this.Gdt.load(),this.Kdt=h(this.tlt,100)},i.J5=function(){this.Jdt=!1,this.Gdt.removeEventListener("canplay",this.tlt),void 0!==this.Kdt&&(a(this.Kdt),this.Kdt=void 0)},i.slt=function(t){if(this.pause(),this.J5(),null===t)return this.Qdt=null,void(this.Zdt=!1);this.Zdt=!1,this.Ydt&&this.Ydt.D8(this.Gdt.src),this.Ydt=t[this.fi],this.Gdt.src=this.Ydt.C8,this.Qdt=t},i.rw=function(){return this.Gdt},i.ult=function(t){this.jdt=_.max(t||0,0),this.Gdt.currentTime=this.jdt},i.olt=function(){return this.Gdt.currentTime},i.hlt=function(t){var n=this.Qdt&&this.Qdt.metadata,i=n&&n.aI,e=n&&n[this.fi].aI,r=n&&n[this.fi].v_;return!!this.A1&&(!(t<i)&&t<e+_.min(r,this.Gdt.duration))},i.elt=function(){this.$dt!==this.Gdt.playbackRate&&(this.Gdt.playbackRate=this.$dt,ob&&this.$dt>0&&this.Nl!==Pg.t_&&(this.Gdt.currentTime=this.Gdt.currentTime))},i.ilt=function(t){return!!(ob&&"seeked"===t.type&&_.abs(this.Gdt.currentTime-this.jdt)>.04)},i.addEventListener=function(n,i){this.dj(n)||this.Gdt.addEventListener(n,this.nlt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.dj(n)||this.Gdt.removeEventListener(n,this.nlt)},i.Vr=function(){for(var n=0,i=this.lj();n<i.length;n++){var e=i[n];this.Gdt.removeEventListener(e,this.nlt)}t.prototype.Vr.call(this)},i.unload=function(){this.Ydt&&this.Ydt.D8(this.Gdt.src),this.Vr()},A(n,[{key:"volume",get:function(){return this.Gdt.volume},set:function(t){this.Gdt.volume=t}},{key:"muted",get:function(){return this.Gdt.muted},set:function(t){this.Gdt.muted=t}},{key:"style",get:function(){return this.Gdt.style}},{key:"aI",get:function(){return this.Qdt?this.Qdt.metadata[this.fi].aI:NaN}},{key:"fI",get:function(){return this.Qdt?this.aI+this.Qdt.metadata[this.fi].v_:NaN}},{key:"clt",get:function(){return this.Qdt?this.aI+this.flt:NaN},set:function(t){this.Qdt?this.flt=t-this.aI:this.flt=0}},{key:"flt",get:function(){return this.olt()},set:function(t){this.ult(t)}},{key:"vlt",get:function(){return this.Qdt},set:function(t){this.slt(t)}},{key:"R8",get:function(){return this.Qdt&&this.Qdt.metadata.g4}},{key:"A1",get:function(){return!(!this.Zdt||!this.Qdt)}},{key:"dlt",get:function(){return!(!this.Jdt||!this.Qdt)}},{key:"g_",get:function(){return this.$dt},set:function(t){t>=0&&this.$dt!==t&&(this.$dt=t,this.elt())}},{key:"w_",get:function(){return this.Gdt.paused}},{key:"d_",get:function(){return this.Gdt.ended}},{key:"Kr",get:function(){return this.Gdt.error}},{key:"p_",get:function(){return this.Gdt.videoWidth}},{key:"m_",get:function(){return this.Gdt.videoHeight}},{key:"Nl",get:function(){return this.Gdt.readyState}}]),n}(QP);function GH(t,n){return i=t.vlt.metadata.AJ,e=n.vlt.metadata.AJ,i.bandwidth&&e.bandwidth&&jr(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&jr(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||Yr(i.Pj,e.Pj)||jr(t.fI,n.fI);var i,e}function QH(t){return{aI:t.aI,fI:t.fI}}function YH(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.aI<=n&&n<e.fI)return i}return-1}function jH(t,n,i){return{aI:n?i.metadata.g8:i.metadata[t].aI,fI:i.metadata[t].aI+i.metadata[t].v_}}function ZH(t,n,i){return new wB([jH(t,n,i)])}function JH(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(jH(t,n,s))}return mB(new wB(e))}function $H(t,n,i){if(!n)return!1;var e=n.metadata[t].aI,r=e+n.metadata[t].v_;return e<=i&&i<=r}function KH(t,n){var i=AB(t,n);return i<0?n:t.end(i)}var tz=function(){function t(t){this.tr=void 0,this.X1=[],this.llt=gB,this._lt=gB,this.tr=t}var n=t.prototype;return n.wtt=function(t){var n,i;this.X1=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.vlt===t?r.fI=e:i.push({vlt:t,aI:n,fI:e})},r=0;r<t.length;r++){var s=t[r];if(s.fI<=n.aI)e(s.vlt,s.aI,s.fI);else if(s.aI>=n.fI)n.aI<n.fI&&(e(n.vlt,n.aI,n.fI),n.aI=n.fI),e(s.vlt,s.aI,s.fI);else{var u=void 0,o=void 0;GH(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.aI,a=o.aI,c=_.min(o.fI,s.fI),f=_.min(u.fI,s.fI);h<a&&e(u.vlt,h,a),a<c&&e(o.vlt,a,c),c<f&&e(u.vlt,c,f),n.aI=_.max(n.aI,s.fI)}}return n.aI<n.fI&&e(n.vlt,n.aI,n.fI),i}(this.X1,function(t,n){var i=n.metadata[t].aI;return{vlt:n,aI:i,fI:i+n.metadata[t].v_}}(this.tr,t)),this.llt=SB(this.llt,ZH(this.tr,!1,t)),this._lt=SB(this._lt,ZH(this.tr,!0,t)),this._lt=(n=this._lt,i=this.llt,pB(n,kB(i)))},n.wlt=function(t){t=this.glt(t);var n=YH(this.X1,t);return n>=0?this.X1[n].vlt:null},n.ylt=function(t,n,i,e){t=this.glt(t);var r=this.X1,s=YH(r,t);if(s<0)return null;var u=r[s];if(!i||!$H(this.tr,i,t))return e&&$H(this.tr,e,t)?null:u.vlt;if(i!==u.vlt){if(e&&e===u.vlt)return null;if(u.fI-t>n)return u.vlt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.vlt)return null;if(h.fI-t>n)return h.vlt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].vlt);var f=JH(this.tr,!1,a);a.push(h.vlt);var v=JH(this.tr,!1,a);if(KH(f,t)<KH(v,t))return h.vlt}return null},n.mlt=function(t,n){for(var i=this.X1,e=i.length-1;e>=0;e--){var r=i[e];(r.fI<=t||r.aI>=n)&&ns(i,e)}},n.tl=function(){this.X1.length=0,this.llt=gB,this._lt=gB},n.glt=function(t){var n=IH(t,this.vw,this._lt,!1);return void 0===n?t:n},A(t,[{key:"vw",get:function(){var t=this.X1.map(QH);return mB(new wB(t))}}]),t}(),nz=5,iz=30,ez=function(t){function n(n,i){var e,r;(e=t.call(this)||this).plt=void 0,e.fi=void 0,e.klt=void 0,e.blt=void 0,e.Alt=void 0,e.Dh={nJ:{Tlt:100,Slt:100,Elt:100},iJ:{Tlt:500,Slt:100,Elt:200}},e.Ou=void 0,e.MS=null,e.Sdt=null,e.Ilt=null,e.Rlt=void 0,e.Nlt=void 0,e.Dlt=void 0,e.Clt=void 0,e.xlt=null,e.Plt=void 0,e.Olt=void 0,e.Blt=0,e.Llt=null,e.Mlt=!1,e.cY=!1,e.Ult=0,e.Flt=0,e.Hlt=Pg.t_,e.fvt=function(){var t=e.Uat();e.Alt.mlt(t-nz,t+iz)},e.zlt={Vlt:(r=Tt(e),{Qo:function(){r.Dlt.addEventListener("ended",this.Wlt),r.Clt.addEventListener("ended",this.Xlt)},ov:function(){r.Dlt.removeEventListener("ended",this.Wlt),r.Clt.removeEventListener("ended",this.Xlt)},qlt:function(){},Wlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.Dlt})},Xlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.Clt})}}),dA:{Vn:"dA",Qo:function(){},ov:function(){},qlt:function(){}},Glt:function(){var t=Tt(e),n=function n(){t.Dlt.removeEventListener("play",n),t.Dlt.removeEventListener("timeupdate",i),t.Dlt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.Dlt.w_||(!t.seeking&&t.Dlt.vlt?(i=t.Dlt,(e=t.Clt).A1&&rz(i,e)>=0&&t.Qlt(t.zlt.Ylt)):t.Dlt.removeEventListener("timeupdate",n))};return{Vn:"Glt",Qo:function(){t.zlt.Vlt.Qo.call(this),this.jlt(),this.qlt()},ov:function(){t.zlt.Vlt.ov.call(this),t.Dlt.removeEventListener("play",n),t.Dlt.removeEventListener("timeupdate",i)},qlt:function(){t.Dlt.vlt?t.qlt(t.Clt,t.Zlt):t.qlt(t.Dlt,t.Zlt)},Wlt:function(){var n=t.Clt.vlt;if(n&&n.metadata.y4)return t.Clt.hlt(t.Dlt.clt)&&(t.Clt.clt=t.Dlt.clt),t.Jlt(),void t.Dlt.play();t.zlt.Vlt.Wlt.call(this)},Xlt:function(){0},jlt:function(){t.Dlt.removeEventListener("play",n),t.Dlt.w_?t.Dlt.addEventListener("play",n):n.call(t.Dlt)}}}(),Ylt:function(){var t=Tt(e),n=function(){e.Qlt(e.zlt.$lt)};return{Vn:"Ylt",Qo:function(){t.zlt.Vlt.Qo.call(this),t.Clt.addEventListener("seeked",n);var i=rz(t.Dlt,t.Clt),e=t.Dh[t.fi].Tlt/1e3,r=_.min(i+e,t.Clt.fI);try{t.Clt.flt=r}catch(n){t.Qlt(t.zlt.Glt),t.Klt(n.message)}},ov:function(){t.zlt.Vlt.ov.call(this),t.Clt.removeEventListener("seeked",n)},qlt:function(){},Wlt:function(){t.zlt.Vlt.Wlt.call(this)},Xlt:function(){}}}(),$lt:function(){var t,n=Tt(e),i=function(){s()},r=function(){s()},s=function(){dI(t),e.Clt.clt-e.Dlt.clt-1/60>0?t=vI(i):e.Qlt(e.zlt.t_t)};return{Vn:"$lt",Qo:function(){n.zlt.Vlt.Qo.call(this),n.Dlt.addEventListener("timeupdate",r),s()},ov:function(){n.zlt.Vlt.ov.call(this),dI(t),n.Dlt.removeEventListener("timeupdate",r)},qlt:function(){},Wlt:function(){n.zlt.Vlt.Wlt.call(this)},Xlt:function(){n.zlt.Vlt.Xlt.call(this)}}}(),t_t:function(){var t,n=Tt(e),i=function(){var t=e.n_t(e.Clt),n=e.Dh[e.fi].Slt/_.max(1,e.Dlt.g_);return function(t,n,i,e){return new XH(t,n,i,e)}(t,t.i_t,n,function(){e.Qlt(e.zlt.e_t),e.zlt.e_t.r_t()})},r=function(){e.Ilt.aI(),e.Qlt(e.zlt.e_t)};return{Vn:"t_t",Qo:function(){n.zlt.Vlt.Qo.call(this);var e=n.Dh[n.fi].Elt/_.max(1,n.Dlt.g_);n.Ilt=i(),t=h(r,e),n.Clt.play()},ov:function(){n.zlt.Vlt.ov.call(this),a(t),t=0},qlt:function(){},Wlt:function(){n.zlt.Vlt.Wlt.call(this)},Xlt:function(){n.zlt.Vlt.Xlt.call(this)}}}(),e_t:function(){var t=Tt(e);return{Vn:"e_t",Qo:function(){t.zlt.Vlt.Qo.call(this)},ov:function(){t.zlt.Vlt.ov.call(this),t.Ilt&&t.Ilt.Wdt()},qlt:function(){},Wlt:function(){t.zlt.Vlt.Wlt.call(this)},Xlt:function(){t.zlt.Vlt.Xlt.call(this)},r_t:function(){t.Ilt=null,t.Jlt()}}}()},e.s_t={u_t:function(){var t=Tt(e);return{Qo:function(){},ov:function(){},qlt:function(){t.Plt.qlt()},mct:function(n,i,e,r){t.Blt=n,t.Llt=r,t.Qlt(t.zlt.dA);var s=t.Dlt===t.Rlt?i:e,u=t.Clt===t.Rlt?i:e;s&&t.Dlt.hlt(n)?t.o_t(t.s_t.h_t):u&&t.Clt.hlt(n)?t.o_t(t.s_t.a_t):t.o_t(t.s_t.c_t)}}}(),c_t:function(){var t=Tt(e),n=function(){e.Zlt(),e.Clt.A1?(e.Clt.hlt(e.Blt)||(e.f_t('Could not seek to exact timestamp "'+e.Blt+'", seeking instead to: "'+e.Clt.aI+'"'),e.Blt=e.Clt.aI),e.o_t(e.s_t.a_t)):e.o_t(e.s_t.u_t)};return{Qo:function(){t.v_t(),t.Dlt.vlt=null,t.Clt.vlt=null,t.Clt.style.display="none",t.Zlt(),this.qlt()},ov:function(){t.Clt.J5(),t.Clt.style.display=""},qlt:function(){t.Clt.vlt||t.qlt(t.Clt,n)},mct:function(n,i,e,r){t.d_t(),t.Olt.mct(n,i,e,r)}}}(),h_t:function(){var t=Tt(e),n=function(){e.o_t(e.s_t.u_t),e.Qlt(e.zlt.Glt),e.CF(),e.Llt&&(e.Llt.call(t),e.Llt=null)};return{Qo:function(){t.Dlt.addEventListener("seeked",n);try{t.Dlt.clt=t.Blt,t.CF()}catch(n){t.Klt(n.message)}},ov:function(){t.Dlt.removeEventListener("seeked",n)},qlt:function(){},mct:function(n,i,e,r){t.d_t(),t.Olt.mct(n,i,e,r)}}}(),a_t:function(){var t=Tt(e),n=function(){e.o_t(e.s_t.u_t),e.Jlt(),e.Llt&&(e.Llt.call(t),e.Llt=null)};return{Qo:function(){t.Clt.style.display="none",t.Clt.addEventListener("seeked",n);try{t.Clt.clt=t.Blt,t.CF()}catch(n){t.Klt(n.message)}},ov:function(){t.Clt.style.display="",t.Clt.removeEventListener("seeked",n)},qlt:function(){},mct:function(n,i,e,r){t.d_t(),t.Olt.mct(n,i,e,r)}}}()},e.Zlt=function(){var t=e.cY;e.cY=e.Rlt.dlt||e.Nlt.dlt,t&&!e.cY&&e.dispatchEvent("updateend"),e.l_t(),e.CF(),e.__t()},e.CF=function(){var t=e.Nl;t!==e.Hlt&&(e.Hlt=t,e.dispatchEvent(Zg.Hd))},e.plt=n,e.fi=i,e.Alt=new tz(i),e.Ou="iJ"===i?0:1;var s=function(t){switch(t){case"nJ":return"audio";case"iJ":return"video"}}(i);return e.klt=sz(s),e.blt=sz(s),n.appendChild(e.klt),n.appendChild(e.blt),e.Rlt=new qH(e.klt,e.fi),e.Nlt=new qH(e.blt,e.fi),e.Dlt=e.Rlt,e.Clt=e.Nlt,e.Plt=e.zlt.Glt,e.Olt=e.s_t.u_t,e.Plt.Qo(),e.Olt.Qo(),e.x$(),e.hl(),e}S(n,t);var i=n.prototype;return i.w_t=function(t){return t===this.Rlt?this.Nlt:this.Rlt},i.f_t=function(t){this.Sdt=t,this.dispatchEvent({type:"warning",warning:this.Sdt})},i.Klt=function(t){this.MS=t,this.dispatchEvent({type:"error",error:t})},i.n_t=function(t){var n,i=this,e=this.w_t(t);return n="iJ"===this.fi?{as:function(){if(i.xlt!==t)return 0;var n=g(t.style.opacity);return y(n)?1:n},na:function(n){n=ft(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.xlt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},i_t:1,g_t:function(){if(n.as()!==n.i_t)return n.na(n.i_t)}}:{as:function(){return t.volume},na:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.i_t-i}catch(t){r=t}return r},i_t:this.Ou,g_t:function(){if(n.as()!==n.i_t)return n.na(n.i_t)}}},i.qlt=function(t,n){var i=this.Alt.ylt(this.Uat(),1,this.Dlt.vlt,this.Clt.vlt);return!!i&&(this.v_t(),t.vlt=i,t.Qo(n),t.R8&&this.dispatchEvent("durationchange"),!0)},i.y_t=function(){this.v_t(),this.Alt.tl(),this.Rlt.J5(),this.Nlt.J5(),this.Zlt()},i.rw=function(){return this.Dlt.rw()},i.Uat=function(){return this.seeking?this.Blt:this.Dlt.clt},i.mct=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.Olt.mct(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Jlt=function(){var t=this.Dlt;this.Qlt(this.zlt.dA),this.Dlt=this.Clt,this.Clt=t,this.n_t(this.Dlt).g_t(),this.v_t(),this.Clt.pause(),this.Clt.vlt=null,this.Zlt(),this.Qlt(this.zlt.Glt)},i.x$=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Klt(new ZP(jP.bj,{code:"VEE"+i.error})):t.Klt(new ZP(jP.bj,{code:"VEE"+n.Kr.code}));n===t.Dlt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.Rlt),r=i.bind(null,this.Nlt),s=0;s<n.length;s++){var u=n[s];this.Rlt.addEventListener(u,e),this.Nlt.addEventListener(u,r)}this.Rlt.addEventListener("error",e),this.Nlt.addEventListener("error",r);for(var o=0;o<tD.length;o++){var h=tD[o];this.Rlt.addEventListener(h,this.CF),this.Nlt.addEventListener(h,this.CF)}},i.hl=function(){this.addEventListener("seeking",this.fvt),this.addEventListener("timeupdate",this.fvt)},i.Qlt=function(t){var n;if(this.Plt!==t){do{(n=this.Plt).ov()}while(n!==this.Plt);this.Plt=t,t.Qo()}},i.o_t=function(t){var n;if(this.Olt!==t){do{(n=this.Olt).ov()}while(n!==this.Olt);this.Olt=t,t.Qo()}},i.d_t=function(){this.Llt=null,this.o_t(this.s_t.u_t)},i.load=function(){this.pause(),this.d_t(),this.Dlt.vlt=null,this.Clt.vlt=null,this.Qlt(this.zlt.Glt)},i.ov=function(){this.d_t(),this.Qlt(this.zlt.dA),this.y_t(),this.Rlt.unload(),this.Nlt.unload(),this.plt.removeChild(this.klt),this.plt.removeChild(this.blt),this.MS=null,this.Sdt=null},i.nK=function(){var t=this,n=this.Uat();this.y_t(),this.Olt.mct(n,!1,!1,function(){t.dispatchEvent("nK",!0)})},i.play=function(){this.n_t(this.Dlt).g_t(),this.Dlt.A1&&this.Dlt.play()},i.pause=function(){this.Rlt.pause(),this.Nlt.pause()},i.Odt=function(t){var n=this,i=function(){n.dispatchEvent("bdt",!0)};this.pause(),this.Dlt.d_?this.Olt.mct(t,this.Clt===this.Rlt,this.Clt===this.Nlt,i):this.Clt.d_?this.Olt.mct(t,!1,!1,i):this.Clt.hlt(t)?this.Olt.mct(t,this.Clt===this.Rlt,this.Clt===this.Nlt,i):i()},i.wtt=function(t){this.v_t(),this.Alt.wtt(t),this.Zlt(),this.Olt.qlt()},i.Bdt=function(t){return this.klt.canPlayType('video/mp4; codecs="'+t+'"')},i.Ldt=function(){return _.max(this.klt.offsetWidth,this.blt.offsetWidth)},i.Mdt=function(){return _.max(this.klt.offsetHeight,this.blt.offsetHeight)},i.l_t=function(){!this.Mlt&&this.loaded&&(this.Mlt=!0,this.dispatchEvent("loaded"))},i.__t=function(){if("iJ"===this.fi){var t=this.p_,n=this.m_;t>0&&n>0&&(this.Ult!==t||this.Flt!==n)&&(this.Ult=t,this.Flt=n,this.dispatchEvent("resize"))}},i.v_t=function(){var t=this.cY;this.cY=!0,t||this.dispatchEvent("updatestart")},A(n,[{key:"vw",get:function(){var t=[];return y(this.Rlt.aI)||t.push({aI:this.Rlt.aI,fI:this.Rlt.fI}),y(this.Nlt.aI)||t.push({aI:this.Nlt.aI,fI:this.Nlt.fI}),SB(mB(new wB(t)),this.Alt.vw)}},{key:"duration",get:function(){return this.Dlt.R8?this.Dlt.fI:this.Clt.R8?this.Clt.fI:NaN}},{key:"paused",get:function(){return this.Dlt.w_}},{key:"ended",get:function(){return this.Dlt.d_}},{key:"muted",get:function(){return this.Dlt.muted&&this.Clt.muted},set:function(t){this.Dlt.muted=t,this.Clt.muted=t}},{key:"volume",get:function(){return this.Ou},set:function(t){this.Ou=t,this.Ilt&&this.Ilt.Wdt(),this.Clt.volume=0,this.Dlt.volume=this.Ou}},{key:"error",get:function(){return this.MS}},{key:"warning",get:function(){return this.Sdt}},{key:"seeking",get:function(){return this.Olt!==this.s_t.u_t}},{key:"loaded",get:function(){return this.Dlt.A1}},{key:"g_",get:function(){return this.Dlt.g_},set:function(t){t>=0&&(this.Dlt.g_=t,this.Clt.g_=t)}},{key:"p_",get:function(){return this.Dlt.p_}},{key:"m_",get:function(){return this.Dlt.m_}},{key:"zC",get:function(){return this.cY}},{key:"Nl",get:function(){var t;if(this.Olt===this.s_t.c_t||this.Olt===this.s_t.a_t)t=Pg.n_;else{var n=this.Dlt.Nl;if(n<=Pg.i_)t=n;else{var i=eS.XI(this.vw).gI(),e=this.duration,r=this.Uat();y(e)||(r=_.min(r,e));var s=i.VI(r);if(s){var u=s.fI(0);t=u-r>=3*this.g_||!y(e)&&u>=e?Pg.r_:Pg.e_}else t=Pg.i_}}return t===Pg.t_&&this.Mlt?Pg.n_:t}}]),n}(QP);function rz(t,n){return t.clt-n.aI}function sz(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),De(n),n.controls=!1,n}var uz,oz=function(){function t(t){var n=this;this.GE=void 0,this.Aw=void 0,this.m_t=void 0,this.p_t=void 0,this.k_t=void 0,this.b_t=function(){(y(n.p_t)||n.k_t)&&(n.p_t=n.aP()),n.m_t=n.p_t,n.k_t=!1},this.A_t=function(){var t=n.aP();n.T_t(t),n.p_t=t},this.S_t=function(){n.GE.Nl<=Pg.i_&&n.A_t()},this.E_t=function(){n.T_t(n.p_t),n.k_t=!0},this.I_t=function(){n.p_t=n.aP()},this.GE=t,this.Aw=eS.QI(),this.m_t=NaN,this.p_t=NaN,this.k_t=!1,t.addEventListener("playing",this.b_t),t.addEventListener("pause",this.A_t),t.addEventListener("seeking",this.E_t),t.addEventListener("timeupdate",this.I_t),t.addEventListener(Zg.Hd,this.S_t)}var n=t.prototype;return n.HU=function(){var t=this.Aw,n=this.m_t;if(!y(n)){var i=this.aP();n<i&&(t=t.RI(new eS([n,i])))}return t.IE()},n.aP=function(){return this.GE.Uat()},n.T_t=function(t){var n=this.m_t;n<t&&(this.Aw=this.Aw.RI(new eS([n,t]))),this.m_t=NaN},n.vct=function(){var t=this.aP();this.T_t(t),this.k_t=!0},n.tl=function(){this.Aw=eS.QI(),this.m_t=NaN,this.p_t=NaN,this.k_t=!1},n.Tr=function(){var t=this.GE;t.removeEventListener("playing",this.b_t),t.removeEventListener("pause",this.A_t),t.removeEventListener("seeking",this.E_t),t.removeEventListener("timeupdate",this.I_t),t.removeEventListener(Zg.Hd,this.S_t),this.GE=null},t}(),hz=function(t){function n(n,i){var e;return(e=t.call(this)||this).R_t=void 0,e.OS=void 0,e.Iz=!1,e.bu=NaN,e.N_t=void 0,e.Ri=void 0,e.plt=void 0,e.D_t=void 0,e.MS=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.Hlt=Pg.t_,e.C_t=function(){e.D_t.seeking||(e.D_t.removeEventListener("seeked",e.C_t),e.dispatchEvent("seeked"),e.x_t.paused?e.Ri=e.P_t:e.O_t(),e.CF())},e.B_t=function(){e.D_t.paused||(e.D_t.removeEventListener("playing",e.B_t),e.dispatchEvent("playing"))},e.L_t=function(t){e.Ri=e.M_t,e.MS=t,e.dispatchEvent({type:"error",error:e.MS})},e.U_t={paused:!0,play:function(){e.removeEventListener("qft",e.U_t.F_t),e.Iz?(e.Ri=e.H_t,e.D_t.removeEventListener("playing",e.B_t),e.D_t.addEventListener("playing",e.B_t),e.D_t.play(),e.dispatchEvent("play")):e.addEventListener("qft",e.U_t.F_t)},F_t:function(){e.removeEventListener("qft",e.U_t.F_t),e.Ri.play()},stall:function(){},pause:function(){e.U_t.F_t&&e.removeEventListener("qft",e.U_t.F_t),e.D_t.pause(),e.dispatchEvent("pause"),e.Ri=e.P_t},load:function(t){},Uat:function(){return e.Iz?e.D_t.Uat():0},mct:function(t,n){var i=bB(e.vw,t);n=n||!i,e.D_t.removeEventListener("seeked",e.C_t),e.D_t.addEventListener("seeked",e.C_t),e.x_t.seekTime=t,e.Ri=e.x_t,e.dispatchEvent("vct"),e.D_t.mct(t,n),e.dispatchEvent("seeking")},EP:function(){return e.D_t.Nl},nK:function(t){e.x_t.seekTime=e.Uat(),e.Ri=e.z_t,e.D_t.removeEventListener("nK",e.z_t.V_t),e.D_t.addEventListener("nK",e.z_t.V_t),e.D_t.nK(t),e.CF()},forwardEvent:function(t){"pause"===t.type&&e.D_t.ended||e.dispatchEvent(t)}},e.P_t=nr({},e.U_t,{pause:function(){e.removeEventListener("qft",e.U_t.F_t)},mct:function(t){e.x_t.paused=!0,e.U_t.mct(t)},nK:function(t){e.x_t.paused=!0,e.U_t.nK(t)}}),e.W_t=nr({},e.P_t),e.X_t=nr({},e.P_t,{load:function(t,n){e.removeEventListener("qft",e.X_t.q_t),n||e.dispatchEvent("loadstart"),e.Iz?e.D_t.load(t):(e.X_t.G_t=t,e.addEventListener("qft",e.X_t.q_t))},q_t:function(){e.removeEventListener("qft",e.X_t.q_t),e.Ri.load(e.X_t.G_t,!0)},G_t:null,Uat:function(){return e.Iz?e.D_t.Uat():e.X_t.Q_t},mct:function(t){e.removeEventListener("qft",e.X_t.Y_t),e.Iz?(e.Ri=e.P_t,e.Ri.mct(t)):(e.X_t.Q_t=t,e.addEventListener("qft",e.X_t.Y_t),e.dispatchEvent("seeking"))},Y_t:function(){e.removeEventListener("qft",e.X_t.Y_t),e.Ri.mct(e.X_t.Q_t)},Q_t:0,nK:function(t){}}),e.H_t=nr({},e.U_t,{mct:function(t){e.x_t.paused=!1,e.U_t.mct(t)},play:function(){},stall:function(){e.Ri=e.j_t,e.j_t.Z_t=e.D_t.Uat(),e.j_t.paused=!1,e.D_t.addEventListener("bdt",e.j_t.J_t),e.D_t.Odt(e.j_t.Z_t),e.CF()},nK:function(t){e.x_t.paused=!1,e.U_t.nK(t)}}),e.j_t=nr({},e.H_t,{paused:!1,Z_t:0,mct:function(t){e.D_t.removeEventListener("bdt",e.j_t.J_t),e.j_t.paused?e.Ri=e.P_t:e.Ri=e.H_t,e.Ri.mct(t),e.CF()},Uat:function(){return e.j_t.Z_t},EP:function(){return _.min(e.D_t.Nl,Pg.i_)},forwardEvent:function(){},play:function(){e.j_t.paused=!1,e.dispatchEvent("play")},pause:function(){e.j_t.paused=!0,e.dispatchEvent("pause")},stall:function(){},J_t:function(){e.D_t.seeking||(e.D_t.removeEventListener("bdt",e.j_t.J_t),e.j_t.paused?e.Ri=e.P_t:e.U_t.play(),e.CF())}}),e.x_t=nr({},e.U_t,{paused:!1,seekTime:0,Uat:function(){return e.x_t.seekTime},play:function(){e.x_t.paused=!1},pause:function(){e.x_t.paused=!0,e.D_t.pause(),e.dispatchEvent("pause")}}),e.z_t=nr({},e.x_t,{mct:function(t){e.D_t.removeEventListener("nK",e.z_t.V_t),e.x_t.paused?e.Ri=e.P_t:e.Ri=e.H_t,e.Ri.mct(t)},EP:function(){return _.min(e.D_t.Nl,Pg.i_)},forwardEvent:function(){},stall:function(){},V_t:function(){e.D_t.seeking||(e.D_t.removeEventListener("nK",e.z_t.V_t),e.x_t.paused?e.Ri=e.P_t:e.U_t.play(),e.CF())}}),e.M_t=nr({},e.U_t,{play:function(){},pause:function(){},load:function(){},Uat:function(){return NaN},EP:function(){return Pg.t_},mct:function(t){e.U_t.mct(t,!0)},nK:function(t){}}),e.Mr=function(t){e.dispatchEvent(t)},e.$_t=function(t){e.Ri.forwardEvent(t)},e.K_t=function(t){e.L_t(t.error)},e.twt=function(t){if(t.origin&&t.origin.R8)return e.G_();e.Ri.stall()},e.sdt=function(){var t=e.D_t.duration;t&&e.bu!==t&&(e.bu=t,e.dispatchEvent("durationchange"))},e.nwt=function(){e.D_t.loaded&&(e.loaded=!0)},e.CF=function(){var t=e.Nl;t!==e.Hlt&&(e.Hlt=t,e.dispatchEvent(Zg.Hd))},e.R_t=n,e.OS=i,e.N_t=new oz(Tt(e)),e.D_t=new WH,e.Ri=e.X_t,e.plt=s.createElement("div"),e.plt.style.position="absolute",e.plt.style.width="100%",e.plt.style.height="100%",e.iwt(),e}S(n,t);var i=n.prototype;return i.O_t=function(){this.U_t.play()},i.iwt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.D_t.addEventListener(e,this.Mr)}for(var r=0;r<n.length;r++){var s=n[r];this.D_t.addEventListener(s,this.$_t)}this.D_t.addEventListener("ended",this.twt),this.D_t.addEventListener("error",this.K_t),this.D_t.addEventListener("durationchange",this.sdt),this.D_t.addEventListener("loaded",this.nwt),this.D_t.addEventListener(Zg.Hd,this.CF)},i.setup=function(){this.OS.oE.parentNode===this.R_t?this.R_t.replaceChild(this.plt,this.OS.oE):(this.OS.oE.parentNode&&this.OS.oE.parentNode.removeChild(this.OS.oE),this.R_t.appendChild(this.plt))},i.play=function(){this.Ri.play()},i.pause=function(){this.Ri.pause()},i.ewt=function(t){this.D_t&&this.D_t.ov(t),this.Iz=!1},i.G_=function(){this.pause(),this.Ri=this.W_t,this.MS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Ri.load(t)},i.unload=function(){return this.D_t.ov(),this.N_t.Tr(),this.plt.parentNode===this.R_t?this.R_t.replaceChild(this.OS.oE,this.plt):(this.plt.parentNode&&this.plt.parentNode.removeChild(this.plt),this.R_t.appendChild(this.OS.oE)),this.Vr(),this.OS.oE},i.reset=function(t){this.Iz=!1,this.Ri=this.X_t,this.MS=void 0,this.bu=NaN,this.Hlt=Pg.t_,this.N_t.tl(),this.ewt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.nK=function(t){this.Ri.nK(t)},i.wtt=function(t){return this.D_t.wtt(t),ge.resolve()},i.rw=function(){return this.D_t.rw()},i.Uat=function(){return this.Ri.Uat()},i.mct=function(t){this.N_t.vct(),this.Ri.mct(t)},i.kut=function(t,n){return ge.resolve()},i.canPlayCodecs=function(t){return this.D_t.Bdt('video/mp4; codecs="'+t+'"')},i.ect=function(t,n,i){var e={};for(var r in t)if(M.call(t,r)){var s=t[r];!this.D_t.videoStream&&s.iJ&&(this.D_t.videoStream=new ez(this.plt,"iJ"),e.iJ=this.D_t.videoStream),!this.D_t.audioStream&&s.nJ&&(this.D_t.audioStream=new ez(this.plt,"nJ"),e.nJ=this.D_t.audioStream,this.dispatchEvent("Lft"))}return this.Iz=!0,this.dispatchEvent("qft"),ge.resolve(e)},A(n,[{key:"ict",get:function(){return this.Iz}},{key:"lw",get:function(){return this.plt}},{key:"vw",get:function(){return this.D_t.vw}},{key:"volume",get:function(){return this.D_t.volume},set:function(t){this.D_t.volume=t}},{key:"duration",get:function(){return this.bu}},{key:"muted",get:function(){return this.D_t.muted},set:function(t){this.D_t.muted=t}},{key:"paused",get:function(){return this.Ri.paused&&this.D_t.paused}},{key:"played",get:function(){return this.N_t.HU()}},{key:"ended",get:function(){return this.Ri===this.W_t}},{key:"seeking",get:function(){return this.Ri===this.x_t}},{key:"error",get:function(){return this.MS||this.D_t.error}},{key:"warning",get:function(){return this.D_t.warning}},{key:"width",get:function(){return this.D_t.Ldt()}},{key:"height",get:function(){return this.D_t.Mdt()}},{key:"g_",get:function(){return this.D_t.g_},set:function(t){this.D_t.g_=t}},{key:"Nl",get:function(){return this.Ri.EP()}},{key:"p_",get:function(){return this.D_t.p_}},{key:"m_",get:function(){return this.D_t.m_}}]),n}(QP);!function(t){t.Cj="unsupported",t.rwt="native",t.swt="hls-native",t.uwt="hls-mse",t.owt="hls-switching-video"}(uz||(uz={}));var az=function(){function t(){this.hwt={},this.awt(uz.rwt,yH),this.awt(uz.swt,yH),this.awt(uz.uwt,BH),this.awt(uz.owt,hz)}return t.prototype.awt=function(t,n){this.hwt[t]=n},t.awt=function(n,i){t.o1.awt(n,i)},t.cwt=function(n,i,e){var r=t.o1.hwt[n];return r?new r(i,e):void 0},t}();az.o1=new az;var cz=function(t){function n(n){var i;return(i=t.call(this)||this).fwt=void 0,i.vwt=function(t){i.Ur(t)},i.fwt=n,i.dwt(),i}S(n,t);var i=n.prototype;return i.dwt=function(){this.fwt.Fr("iC",this.vwt)},i.lwt=function(){this.fwt.Wr("iC",this.vwt)},i.ov=function(){this.lwt()},A(n,[{key:"hC",get:function(){return this.fwt.hC}},{key:"aC",get:function(){return this.fwt.aC}},{key:"_wt",set:function(t){if(this.fwt!==t){var n=this.aC,i=this.hC;this.lwt(),this.fwt=t,this.dwt();var e=this.aC,r=this.hC;n===e&&i===r||this.Ur(new rI(e,r))}}}]),n}(Es);function fz(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function vz(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function dz(t,n){var i=t.type;return i?Zk?vz(i)?!eb||n.useSwitchOverMSE||L.dn&&n.vr&&n.vr[360]?!Kk||L.un||L.fn&&L.Ht?tb?uz.owt:uz.Cj:uz.swt:uz.uwt:uz.rwt:uz.Cj:uz.rwt}var lz=function(t,n,i,e,r){var s,u,o,c,f,d,w=this,m=null,p=null,k=null,b=!0,A=null,T=null,S=!1,E=null,I=null,R=null,N=uS,D=uS,C=!0,x=null,P={U2:0,Fdt:0},O=null,B=null,M=null,U=1,F=!1,H="none",V=!0,W=!0,X=!1,q=null,G=!0,Q=!1,Y=Pg.t_,j=!1,Z=!1,J=NaN,$=null,K=null,tt=L.Qt&&$k,nt=!1,it="",et=uz.Cj,rt=null,st=function(){var t=new ZP(jP.Cj,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});w.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.uE(Fy.Zf)).oE:(e=n.uE(Fy.Jf)).oE).preload="none",De(t),e},ot=function(t){return t===I?R:I},ht=function(){A.style.zIndex="1",T.style.zIndex="0",A.style.display=b?"":"none",T.style.display=b&&S?"":"none"},at=function(t){gt(t.aK),wt(t.cK),u&&(u.aK=o),pt()},ct=function(t,n){mt(t.aK,n),yt(t.cK),u&&(u.aK=o)},vt=function(){zt(),Rt(),w.dispatchEvent("timeupdate"),w.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);w.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)p.addEventListener(t[i],n,!0)};switch(p.addEventListener("Lft",function(){p.volume=U,p.muted=F}),p.addEventListener("loadedmetadata",function(t){et===uz.rwt&&(Q=!0,w.dispatchEvent(t))}),p.addEventListener("durationchange",function(){var t=p.duration;t&&t!==1/0&&J!==t&&(J=t,w.dispatchEvent("durationchange"))}),p.addEventListener("seeking",Ht),p.addEventListener("seeked",zt),p.addEventListener("ended",vt),p.addEventListener(Zg.Hd,Kt),p.setup(),d.lct=p,n(["timeupdate","playing","ratechange","resize"],t),et){case uz.rwt:case uz.swt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case uz.uwt:n(["play","pause"],St)}p.addEventListener("warning",function(t){w.warning=t.warning,w.dispatchEvent(t)}),w.dispatchEvent("volumechange")},lt=function(t){m&&m.ift(),p&&(m=new KF(t,tt,f,e))},_t=function(t){var n=Ct(t.sources),e=t.textTracks||[],r=dH(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.Tft=!0),{sources:[n],textTracks:e,configuration:r}},wt=function(t){yt(t)},gt=function(t){o&&(o.ov(),o=null,w.initialized=!1),(o=t)&&(w.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener("durationchange",function(){J=o.v_,w.dispatchEvent("durationchange")}),o.addEventListener("Kr",function(t){Yt(t.Kr)}),o.addEventListener("dv",kt),o.addEventListener("bw",kt),o.WK.addEventListener("renditionUpdated",function(){Xt()}),d.WK=o.WK)},yt=function(t){var n;c&&(c.ov(),c=null),p&&(c=t)&&(n=c.Lat,c.addEventListener("K$",function(t){var n=w.videoWidth,i=w.videoHeight;$=t.AJ,w.dispatchEvent(t),hb&&n===w.videoWidth&&i===w.videoHeight||w.dispatchEvent("resize")}),c.addEventListener("Kr",function(t){Yt(t.error)}),c.addEventListener("lat",function(t){w.dispatchEvent(t)}),c.lct=p,y(n)||Ft(n))},mt=function(t,n){o&&(o.ov(),o=null,w.initialized=!1),(o=t)&&(w.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener(lc.Da,function(t){w.dispatchEvent(t)}),o.addEventListener(lc.xa,function(t){w.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.v_,w.dispatchEvent("durationchange")}),o.addEventListener("Kr",function(t){Yt(t.Kr)}),o.addEventListener("dv",kt),o.addEventListener("bw",kt),o.addEventListener("$K",function(){w.dispatchEvent("progress")}),o.WK.addEventListener("renditionUpdated",function(){Xt()}),o.WK.addEventListener("renditionUpdated",function(t){var i,e=t.AJ.u$&&t.AJ.u$.nJ;e&&-1!==e.indexOf("mp4a.40.3")&&("a8"!==n.c8||ib||(i=O,GP(function(){n.useSwitchOverMSE=!0;var t=W;O=null,tn({sources:i,configuration:n}),t||It()})))}),d.WK=o.WK)},pt=function(){p.addEventListener("play",function(){w.play({fromNative:!0})}),p.addEventListener("pause",function(){w.pause({fromNative:!0})}),p.addEventListener("volumechange",function(){w.volume=p.volume,w.muted=p.muted}),p.addEventListener("webkitpresentationmodechanged",Bt)},kt=function(){var t=G,n=!o||o.bw;G=n,n&&!t?w.dispatchEvent(lc.pa):!n&&t&&w.dispatchEvent(lc.ma)},bt=function(){V=!1,W=!1,j=!0,p.configuration.useNativeVideoPlayback||p.loaded||Et(),Xt()},At=function t(){w.removeEventListener("initialized",t),w.removeEventListener("initialized",Tt),V&&(bt(),w.ended?Ft(0):qt(),p.play(),c&&c.X_())},Tt=function t(){w.removeEventListener("initialized",At),w.removeEventListener("initialized",t),V&&(bt(),qt())},St=function(t){var n=W;W="pause"===t.type,n&&!W?w.play({fromNative:!0}):!n&&W&&w.pause({fromNative:!0})},Et=function(){j=!0,p.configuration.useNativeVideoPlayback?(p.load(),P.Fdt="start"):p.loading||(p.load(),p.loading=!0),Xt()},It=function(t){if(t=t||{},W=!1,C&&(C=!1,n.aR()),P.wwt=!1,!w.initialized||!p){if(t.onlyWhenInitialized){var i=new ZP(jP.Rj,{code:"MGB6720"});throw Yt(i),i}return w.removeEventListener("initialized",At),w.removeEventListener("initialized",Tt),w.addEventListener("initialized",t.fromNative?Tt:At),w.dispatchEvent("play",!0),void w.dispatchEvent("waiting",!0)}if(V){if(X&&w.ended)return Rt(),void w.dispatchEvent("timeupdate",!0);w.dispatchEvent("play",!0),t.fromNative?Tt():At()}},Rt=function(t){W=!0,(t=t||{}).fromNative||w.removeEventListener("initialized",At),w.removeEventListener("initialized",Tt),!V&&p&&(V=!0,t.fromNative||p.pause(),w.dispatchEvent("pause",!0))},Nt=function(t){return{type:fz(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ct=function(t){if(fH(t))return t.type?t:Nt(t.src);if(Dt(t))return Nt(t);if(z(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(fz(i))return Nt(i)}return Nt(t[0])}if(z(t)&&fH(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(vz(r.type)||!r.type&&fz(r.src))return r.type?r:Nt(r.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,s=dz(n,i);!function(t,n){switch(t){case uz.rwt:case uz.swt:n.c8=!1,n.gwt=!1;break;case uz.uwt:n.c8="a8",n.gwt=!0;break;case uz.owt:n.c8="i9",n.gwt=L.Mt}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case uz.rwt:h=s=o=null;break;case uz.swt:h=null;var c=new XF(a,e);s=c,o=new ZF(c);break;case uz.uwt:case uz.owt:h=new iH(a,e);var f=new WF(a,h,e,r);s=f,o=new YF(f);break;default:return null}return new qO(n,t,i,h,s,o,u)}(s,n,t);return o?(o.cK&&(o.cK.g_=w.playbackRate),o):null},Pt=function(t){tn({sources:t})},Ot=function(n,i){var e=E,r=e.oE,u=!1,o=!w.paused,h=et,a=w.playbackRate,c=w.ywt;K&&(K.ov(),K=null),nn();var f=n&&n.s0||null;n&&n.e0||null,B=n&&n.qE||null,M=f&&f.configuration||null,et=n&&n.r0||uz.Cj,jt();var v={type:"mwt",pwt:n,eh:M,kwt:i};if(w.dispatchEvent(v),et!==uz.Cj){if(p){w.pause();var d=h===et||h===uz.swt&&et===uz.rwt||h===uz.rwt&&et===uz.swt,l=i&&!L.Qt;if(d&&!l)p.reset(),m.tl();else{if(l?(k=p,r=(e=ot(e)).oE):r=p.unload(),!(u=az.cwt(et,t,e)))return void st();p=u,dt(),lt(r)}zt(),Q=!1,Y=Pg.t_,j=!1,Z=!1,J=NaN,x=null,w.dispatchEvent("durationchange"),P.Fdt=0,P.U2=0,P.wwt=!0,w.dispatchEvent("timeupdate")}else{if(!(u=az.cwt(et,t,e)))return void st();p=u,e.oE.removeAttribute("poster"),dt(),lt(e.oE)}switch(E=e,s._wt=E.rB,A=p.lw,k?(T=k.lw,S=!0):(T=ot(e).oE,S=!1),ht(),M.crossOrigin){case Ng.Zl:case Ng.Jl:E.oE.setAttribute("crossorigin",M.crossOrigin);break;default:E.oE.removeAttribute("crossorigin")}if(c!==w.ywt&&w.dispatchEvent(lc.la),Bt(),Lt(),!B)return O=null,void(w.initialized=!1);!function(t,n){switch(et){case uz.rwt:case uz.swt:at(t);break;case uz.uwt:case uz.owt:ct(t,n);break;default:return}t.GE=w,t.g0(H)}(K=n,M),p.src=B,m.$ct(f&&f.textTracks),w.playbackRate=a,O=B;var _={type:"bwt",pwt:n,eh:M,kwt:i};w.dispatchEvent(_),w.initialized=!0,w.dispatchEvent("initialized"),kt(),Ft("start"),p.configuration.useNativeVideoPlayback&&L.Qt&&o&&Qt()&&(w.play(),w.pause()),f&&w.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Bt=function(){var t=it;(it=w.Hft)!==t&&w.dispatchEvent("Awt")},Lt=function(){d&&(d.PH=tt&&nt)},Mt=function(){return p&&p.ict?p.volume:U},Ut=function(){if(!Z)return"start"===x?0:x||0;if(!p||P.wwt)return P.Fdt;if(c){var t=c.Lat;return"start"===t?0:t}return p.Uat()},Ft=function(t){if(!Z){var n=Ut();return x=t,void(n!==Ut()&&Ht())}if(x=null,"start"===t&&(t=w.live?1/0:0),t=g(t)||0,t=Jt(t),p){if(_.abs(P.Fdt-t)<.001&&XE()-P.U2<50)return;Ht(),c?c.Lat=t:p.mct(t),p.seeking||zt(),P={Fdt:t,U2:XE()}}},Ht=function(){X=!0,Wt(),rt=h(Vt,100)},zt=function(){X&&(X=!1,rt&&Vt(),w.dispatchEvent("seeked"))},Vt=function(){Wt(),w.dispatchEvent("seeking")},Wt=function(){rt&&(a(rt),rt=null)},Xt=function(){Z||(Z=!y(J)&&Zt().length>0&&(j||!w.live))&&w.dispatchEvent("hlt")},qt=function t(){w.removeEventListener("hlt",t),null!==x&&(Z?Ft(x):w.addEventListener("hlt",t))},Gt=function(){return p&&p.ict?p.muted:F},Qt=function(){return W},Yt=function(t){if(t&&t.code===jP.Nj)return n=!W,Pt(K.qE),void(n&&It());var n;Qt()||Rt(),q=t,w.dispatchEvent({type:"error",error:q})},jt=function(){q=null},Zt=function(){return lB(c?c.Sw:J>0?new wB([{aI:0,fI:J}]):gB)},Jt=function(t){var n=Zt();return n.length?ft(t,n.start(0),n.end(n.length-1)):0},$t=function(){var t=p?p.Nl:Pg.t_;return Q&&(t=_.max(Pg.n_,t)),t},Kt=function(){var t=$t();t!==Y&&(Y=t,w.dispatchEvent(Zg.Hd))},tn=function(t){var n=xt(t);Ot(n,!1)},nn=function(){if(k){var t=k.unload();k=null,S=!1,T=t||ot(E).oE,ht()}};w.initialized=!1,w.warning=null,w.play=It,w.pause=Rt,w.load=function(){if(!w.initialized||!p){var t=new ZP(jP.Rj,{code:"MGB7330"});throw Yt(t),t}Et(),Ft("start")},w.Twt=xt,w.Swt=Ot,w.Tr=function(){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(w.mr=!0,w.Vr(),O&&Pt(null),d&&(d.ov(),d=null),f&&(f.tl(),f=null),nn(),p&&(p.unload(),p=null),!I.oE){i.next=11;break}return i.next=10,tr.awrap(n.TE(I));case 10:I=null;case 11:if(!R.oE){i.next=15;break}return i.next=14,tr.awrap(n.TE(R));case 14:R=null;case 15:s.ov(),t=null;case 17:case"end":return i.stop()}},null,null,null,ge)},w.Y_=tn,w.iw=function(){b=!0,ht()},w.ew=function(){b=!1,ht()},w.rw=function(){return p&&p.rw()},w.R_=function(){return nr({},{ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},p?lR(p.lct):{ww:0,gw:0,yw:0},{mw:8*Ig.Xl()})},l.defineProperty(w,"buffered",{get:function(){return lB(p?p.vw:gB)}}),l.defineProperty(w,"played",{get:function(){return p?lB(p.played):gB}}),l.defineProperty(w,"seekable",{get:Zt}),l.defineProperty(w,"live",{get:function(){return!(!o||!fO.A_(o.WK.LJ))}}),l.defineProperty(w,"volume",{get:Mt,set:function(t){(t=g(t))!==Mt()&&(p&&(p.volume=t),U=t,w.dispatchEvent("volumechange"))}}),l.defineProperty(w,"currentTime",{get:Ut,set:Ft}),l.defineProperty(w,"dimensions",{get:function(){return s}}),l.defineProperty(w,"currentProgramDateTime",{get:function(){return c?c.dw:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.Rnt(t),y(n)||null===n||Ft(n))}}),l.defineProperty(w,"duration",{get:function(){return J}}),l.defineProperty(w,"muted",{get:Gt,set:function(t){t!==Gt()&&(F=t,p&&(p.muted=t),F=t,w.dispatchEvent("volumechange"))}}),l.defineProperty(w,"paused",{get:Qt,set:function(t){t?Rt():It()}}),l.defineProperty(w,"preload",{get:function(){return H},set:function(t){H=JT((t||"none").toLowerCase())}}),l.defineProperty(w,"ended",{get:function(){return p&&p.ended||!1}}),l.defineProperty(w,"seeking",{get:function(){return X}}),l.defineProperty(w,"error",{get:function(){return q||p&&p.error}}),l.defineProperty(w,"element",{get:function(){return t}}),l.defineProperty(w,"ywt",{get:function(){return M&&M.vr&&M.vr[360]?uS:E===I?N:D}}),l.defineProperty(w,"videoWidth",{get:function(){return p?p.p_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(w,"videoHeight",{get:function(){return p?p.m_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(w,"frameRate",{get:function(){return c&&c.a$}}),l.defineProperty(w,"frameAccurateSeekEnabled",{get:function(){return!w.live&&p&&p.paused&&w.frameRate}}),l.defineProperty(w,"currentFrame",{get:function(){return c?c.gct(Ut()):NaN},set:function(t){w.frameAccurateSeekEnabled&&(t=g(t),Ft(c.yct(t)))}}),l.defineProperty(w,"playbackRate",{get:function(){return c&&c.g_||p&&p.g_||1},set:function(t){(t=g(t))>0&&(c?c.g_=t:p&&(p.g_=t))}}),l.defineProperty(w,"videoTracks",{get:function(){return K&&K.z_.Sd||null}}),l.defineProperty(w,"audioTracks",{get:function(){return K&&K.H_.Sd||null}}),l.defineProperty(w,"V_",{get:function(){return f}}),l.defineProperty(w,"online",{get:function(){return G}}),l.defineProperty(w,"Uft",{get:function(){return p&&p.Uft}}),l.defineProperty(w,"Fft",{get:function(){return p&&p.Fft}}),l.defineProperty(w,"Hft",{get:function(){return p&&p.Hft||"inline"},set:function(t){p&&(p.Hft=t)}}),l.defineProperty(w,"Ewt",{get:function(){return nt},set:function(t){nt=!!t,Lt()}}),l.defineProperty(w,"Nl",{get:$t}),function(){if(!t)throw new v("Invalid element.");var n;w.addEventListener(lc.pa,function(){w.live&&Ft("start")}),w.addEventListener("playing",nn),f=new gk,d=new nH(w,f),w.addEventListener("fullscreenchange",Lt),Lt(),i.allowManualQualitySwitch&&(u=new GO),n=function(t){if("string"==typeof t)try{return YP.In.gY(t,w)}catch(n){throw new v("Unknown rule: "+t)}return t},i.Uot=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),w.addEventListener("durationchange",Xt),I=ut(),R=ut(),E=I,A=I.oE,T=R.oE,s=new cz(E.rB),N=I.pE,D=R.pE,ht(),Pt(null)}()};lz.prototype=new QP,lz.prototype.constructor=lz;var _z,wz=((_z={useSwitchOverMSE:!1,ManifestParser:"Iwt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),_z.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),rb&&_z.abrRules.push("AvoidHighBitrateStreamsRule"),L.Zt&&_z.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),_z);var gz=function(t){function n(n,i,e){var r;return(r=t.call(this,Mw.qd)||this).Rwt=n,r.Nwt=i,r.Dwt=e,r}return S(n,t),n.prototype.Ed=function(){return new yz(this.Rwt&&this.Rwt.Sd)},n}(Bw),yz=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(Rs),mz=function(t){function n(n,i){var e;return(e=t.call(this,Mw.Qd)||this).ml=void 0,e.Id=void 0,e.ml=n||[],e.Id=i,e}return S(n,t),n.prototype.Ed=function(){return new pz(this.ml.map(function(t){return t.Sd}))},n}(Bw),pz=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(Rs),kz=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(Rs);function bz(t){return{get bandwidth(){return t.yS},get codecs(){return t.u$},get id(){return t.ll},get uid(){return t._l},get name(){return t.gl},get averageBandwidth(){return t.h$},get label(){return t.gl},set label(n){t.gl=rg(n)},get height(){return t.Jp},get width(){return t.mg},get frameRate(){return t.xK},get firstFrame(){return t.Cwt},get available(){return t.JY},addEventListener:function(n,i){t.Fr(n,i)},removeEventListener:function(n,i){t.Wr(n,i)}}}function Az(t){return{get bandwidth(){return t.yS},get codecs(){return t.u$},get id(){return t.ll},get uid(){return t._l},get name(){return t.gl},get averageBandwidth(){return t.h$},get label(){return t.gl},set label(n){if(!X(n))throw new v("Unexpected - The provided label is not a string");t.gl=n},get audioSamplingRate(){return t.xwt},get available(){return t.JY},addEventListener:function(n,i){t.Fr(n,i)},removeEventListener:function(n,i){t.Wr(n,i)}}}function Tz(t){return{yS:t.yS,he:t.u$,Jp:Sz(t)?t.Jp:0,tr:Sz(t)?Fy.Jf:Fy.Zf,mg:Sz(t)?t.mg:0}}function Sz(t){var n=t;return void 0!==n.Jp&&void 0!==n.mg}var Ez=function(t){function n(n,i){var e;(e=t.call(this)||this).Pwt=void 0,e.Owt=void 0,e.xw=void 0,e.Iw=void 0,e.Td=void 0,e.Bwt=void 0,e.BK=void 0,e.Lwt=function(){return e.Mwt()},e.Uwt=function(){return e.Fwt()},e.Hwt=function(){return e.Ur(new Vy(Tt(e)))},e.xw=qy(),e.Pwt=n,e.Owt=i,e.Iw=new zy;for(var r=e.Pwt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.zwt(u);o.Fr("update",e.Hwt),e.Iw.Rw(o)}return e.Pwt.qualities.addEventListener("activequalitychanged",e.Lwt),e.Pwt.qualities.addEventListener("targetqualitychanged",e.Uwt),e.Mwt(),e.Fwt(),e}S(n,t);var e=n.prototype;return e.Vwt=function(t){t!==this.Bwt&&(this.Bwt=t,t&&this.Ur(new gz(t)))},e.Wwt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!is(n,t[i]))return!1;return!0}(t,n)},e.Xwt=function(t){for(var n=0,i=this.Iw.nl;n<i.length;n++){var e=i[n];if(e.qwt===t)return e}},e.Gwt=function(t){for(var n=[],i=0,e=this.Iw.nl;i<e.length;i++){var r=e[i];is(t,r.qwt)&&n.push(r)}return n},e.Mwt=function(){var t=this.dl?this.Pwt.qualities.activeQuality:void 0,n=t&&this.Xwt(t)||void 0;this.Vwt(n)},e.Fwt=function(){var t=this.Pwt.qualities.targetQuality;t?H(t)?this.pl=this.Gwt(t)||void 0:this.pl=this.Gwt([t])||void 0:this.pl=void 0},e.Bw=function(t){this.dl=t},e.ov=function(){this.Pwt.qualities.removeEventListener("activequalitychanged",this.Lwt),this.Pwt.qualities.removeEventListener("targetqualitychanged",this.Uwt);for(var t=0,n=this.Iw.nl;t<n.length;t++){var i=n[t];i.Wr("update",this.Hwt),i.ov()}},A(n,[{key:"vl",get:function(){return this.Bwt}},{key:"dl",get:function(){return this.Pwt.enabled},set:function(t){t?this.Owt.enable(this.Pwt):this.Owt.disable(this.Pwt)}},{key:"Sd",get:function(){return this.Td||(this.Td=cg(this)),this.Td}},{key:"ll",get:function(){return this.Pwt.id+""}},{key:"_l",get:function(){return this.xw}},{key:"wl",get:function(){return this.Pwt.kind}},{key:"gl",get:function(){var t;return null!=(t=this.Pwt.name)?t:""},set:function(t){t!==this.gl&&(this.Pwt.name=t,this.Ur(new Vy(this)))}},{key:"yl",get:function(){return this.Pwt.language}},{key:"El",get:function(){return this.dl?"enabled":"disabled"}},{key:"ml",get:function(){return this.Iw}},{key:"pl",get:function(){return this.BK},set:function(t){var n=this.BK,e=void 0!==this.vl?Tz(this.vl):void 0,r=t?t.filter(function(t){return i.Pe.Qi(e,Tz(t))}):void 0;r&&0===r.length||this.Wwt(r,n)||(this.BK=r,this.Pwt.qualities.targetQuality=r?r.map(function(t){return t.qwt}):null,this.Ur(new mz(r,this)))}}]),n}(Es),Iz=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).qwt=void 0,r.Td=void 0,r.PR=function(){return r.jo()},r.ll=void 0,r._l=void 0,r.yS=void 0,r.h$=void 0,r.u$=void 0,r.SZ=void 0,r.qwt=n,r.qwt.addEventListener("qualityupdated",r.PR),r.ll=String(n.id),r._l=null!=(i=n.uid)?i:Qy++,r.yS=null!=(e=n.bandwidth)?e:NaN,r.h$=n.averageBandwidth,r.u$=n.codecs,r.SZ=n.uri,r}S(n,t);var i=n.prototype;return i.jo=function(){this.Qwt()&&this.Ur(new kz(this.Sd))},i.Qwt=function(){var t,n,i=this.qwt,e=null!=(t=i.uid)?t:this._l,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this._l!==e||!_t(this.yS,r)||this.u$!==s||this.SZ!==u;return this._l=e,this.yS=r,this.u$=s,this.SZ=u,o},i.ov=function(){this.qwt.removeEventListener("qualityupdated",this.PR)},i.Jb=function(){},A(n,[{key:"gl",get:function(){return this.qwt.name||""},set:function(t){this.gl!==t&&(this.qwt.name=t,this.Ur(new kz(this.Sd)))}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}},{key:"JY",get:function(){return!0}}]),n}(Es),Rz=function(t){function n(n){var i;return(i=t.call(this,n)||this).xwt=void 0,i.xwt=NaN,i}return S(n,t),n.prototype.Ed=function(){return Az(this)},n}(Iz),Nz=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).xK=void 0,e.mg=void 0,e.Jp=void 0,e.Ywt=void 0,e.xK=n.frameRate,e.mg=n.resolution?n.resolution.width:NaN,e.Jp=n.resolution?n.resolution.height:NaN,e.Ywt=i,e}S(n,t);var i=n.prototype;return i.Qwt=function(){var n=t.prototype.Qwt.call(this),i=this.qwt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!_t(this.xK,e)||!_t(this.mg,r)||!_t(this.Jp,s),this.xK=e,this.mg=r,this.Jp=s,n},i.Ed=function(){return bz(this)},A(n,[{key:"Cwt",get:function(){return this.Ywt},set:function(t){this.Ywt!==t&&(this.Ywt=t,this.Ur(new kz(this.Sd)))}}]),n}(Iz),Dz=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.zwt=function(t){return new Rz(t)},n}(Ez),Cz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jwt=void 0,n}S(n,t);var i=n.prototype;return i.zwt=function(t){return new Nz(t,this.jwt)},i.Zwt=function(t){this.jwt=t;for(var n=0,i=this.ml.nl;n<i.length;n++){var e=i[n];void 0!==e.Cwt&&(e.Cwt=t)}},n}(Ez),xz=function(t){function n(){return t.call(this,lc.pa)||this}return S(n,t),n}(Rs),Pz=function(t){function n(){return t.call(this,lc.ma)||this}return S(n,t),n}(Rs),Oz=function(){function t(t,n){this.L_=void 0,this.lV=void 0,this.L_=new gk,this.lV=new kC(t,n)}var n=t.prototype;return n.aA=function(t,n,i,e,r,s,u){var o=new kD(t,n,i,e,r,s,u);return this.L_.Jd(o),this.lV.Jd(o),o},n.vA=function(t){this.L_.$d(t),this.lV.$d(t),t.ov()},n.tl=function(){for(var t=0,n=this.L_.nl.slice();t<n.length;t++){n[t].ov()}this.L_.tl(),this.lV.tl()},n.ov=function(){this.tl(),this.L_.ov(),this.lV.ov()},A(t,[{key:"V_",get:function(){return this.L_}}]),t}();function Bz(t,n){for(var i=0;i<t.il;i++){var e=t.Zd(i);if(e.Pwt===n)return e}}var Lz=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).eR=void 0,o.IQ=void 0,o.Jwt=void 0,o.$wt=void 0,o.Kwt=void 0,o.O_=void 0,o.B_=void 0,o.fV=void 0,o.vV=void 0,o.L_=void 0,o.sA=void 0,o.WQ=void 0,o.XQ=void 0,o.tgt=void 0,o.MS=void 0,o.US=void 0,o.ngt=NaN,o.igt=0,o.XS=new MT,o.egt=function(){o.Ur(new Kg(o.f_))},o.rgt=function(){o.Ur(new $g(o.f_))},o.sgt=function(){o.Ur(new ay(o.f_))},o.ugt=function(){o.Ur(new cy(o.f_))},o.ogt=function(){o.Ur(new sy(o.f_,o.g_))},o.hgt=function(){o.Ur(new fy(o.f_,o.k_))},o.agt=function(){o.Ur(new vN(o.f_))},o.cgt=function(){o.Ur(new oy(o.f_))},o.fgt=function(){o.Ur(new dN)},o.vgt=function(){o.Ur(new xz)},o.dgt=function(){o.Ur(new Pz)},o.lgt=function(){o._gt(),o.Kwt.tl(),o.wgt(),o.AE()},o._B=function(){o.wgt(),o.AE(),o.cE()},o._gt=function(){var t=o.ngt,n=o.v_;o.ngt=n,t===n||y(t)&&y(n)||o.Ur(new ry(n))},o.ggt=function(t){var n=t.error||o.Jwt.error;if(n){var i,e=Cy.DECODE;n.code===jP.bj&&Dr(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.MS=new By(e,n.message,i),o.Ur(new _y(function(t){return new Ya(Uy(t.code),t.message,t)}(o.MS)))}},o.QS=function(){o.Ur(new uy(o.f_,o.dw))},o.ygt=function(){o.p_>0&&o.m_>0&&o.Ur(new Wk)},o.mgt=function(){o.Ur(new Sg)},o.pgt=function(t){o.B_.nl.forEach(function(n){return n.Zwt(t.ptsOffset)})},o.kgt=function(t){o.igt+=t.pw,o.Ur(t)},o.bgt=function(t){return o.Agt(t.track)},o.Tgt=function(t){return o.Sgt(t.track)},o.Egt=function(t){var n=Bz(o.O_,t.track);n&&n.Ur(new qw(n))},o.Igt=function(t){var n=Bz(o.B_,t.track);n&&n.Ur(new qw(n))},o.IQ=n,o.eR=i,r=function(t){var n,i={};return i=vH(t,i),(i=vH(wz,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!L.Vt&&i.allowManualQualitySwitch,i.libraryLocation=jl(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return M.call(n,t)?n[t]:t}),i}(r),o.Jwt=new lz(o.IQ,o.eR,r,e,s),o.Rgt(),o.$wt=new Mz(o.Jwt),o.Kwt=new lb(o.$wt,!0),o.Kwt.Fr(iy,o.Mr),o.O_=new Hy,o.B_=new Hy,o.sA=new Oz(Tt(o),new bC),o.fV=new PC(Tt(o)),o.fV.cl=o.Jwt.V_,o.vV=new OC(o.sA,o.fV),o.L_=new HT([o.Jwt.V_,o.vV.Bp]),o.WQ=new ox,o.WQ.VW(n),o.XQ=new TP(o.WQ.lw,o.Jwt.dimensions,o.V_,u,o.Jwt.ywt),o.cE(),o}S(n,t);var i=n.prototype;return i.ew=function(){this.Jwt.ew(),this.WQ.ew()},i.iw=function(){this.Jwt.iw(),this.WQ.iw()},i.Y_=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.tgt=t,this.Jwt.Y_({sources:{src:t.src,type:Dg.Ql,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:nr({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,ge)},i.X_=function(){this.Jwt.play()},i.q_=function(){this.Jwt.pause()},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.tgt=void 0,this.MS=void 0,this.US=void 0,this.igt=0,this.Jwt.Y_({sources:null}),this.Kwt.tl(),this.sA.tl(),this.wgt();case 8:case"end":return t.stop()}},null,this,null,ge)},i.j_=function(){return!1},i.Z_=function(){},i.J_=function(){},i.rw=function(){return this.Jwt.rw()||void 0},i.sw=function(){return this.Jwt.ywt},i.fw=function(){},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.tl());case 2:return this.Vr(),this.Kwt.ov(),this.$wt.ov(),this.Ngt(),t.next=8,tr.awrap(this.Jwt.Tr());case 8:return this.O_.ov(),this.B_.ov(),this.fV.ov(),t.next=13,tr.awrap(this.vV.ov());case 13:this.sA.ov(),this.L_.ov(),this.XQ.ov(),this.WQ.ov();case 17:case"end":return t.stop()}},null,this,null,ge)},i.Rgt=function(){this.Jwt.addEventListener("mwt",this.lgt),this.Jwt.addEventListener("bwt",this._B),this.Jwt.addEventListener("durationchange",this._gt),this.Jwt.addEventListener("error",this.ggt),this.Jwt.addEventListener("timeupdate",this.QS),this.Jwt.addEventListener("resize",this.ygt),this.Jwt.addEventListener(lc.la,this.mgt),this.Jwt.addEventListener("lat",this.pgt),this.Jwt.addEventListener(lc.xa,this.kgt),this.Jwt.addEventListener("play",this.egt),this.Jwt.addEventListener("pause",this.rgt),this.Jwt.addEventListener("seeking",this.sgt),this.Jwt.addEventListener("seeked",this.ugt),this.Jwt.addEventListener("ratechange",this.ogt),this.Jwt.addEventListener("volumechange",this.hgt),this.Jwt.addEventListener("progress",this.agt),this.Jwt.addEventListener("ended",this.cgt),this.Jwt.addEventListener("loadstart",this.fgt),this.Jwt.addEventListener(lc.pa,this.vgt),this.Jwt.addEventListener(lc.ma,this.dgt),this.Jwt.addEventListener(lc.Da,this.Mr)},i.Ngt=function(){this.Jwt.removeEventListener("mwt",this.lgt),this.Jwt.removeEventListener("bwt",this._B),this.Jwt.removeEventListener("durationchange",this._gt),this.Jwt.removeEventListener("error",this.ggt),this.Jwt.removeEventListener("timeupdate",this.QS),this.Jwt.removeEventListener("resize",this.ygt),this.Jwt.removeEventListener(lc.la,this.mgt),this.Jwt.removeEventListener("play",this.egt),this.Jwt.removeEventListener("pause",this.rgt),this.Jwt.removeEventListener("seeking",this.sgt),this.Jwt.removeEventListener("seeked",this.ugt),this.Jwt.removeEventListener("ratechange",this.ogt),this.Jwt.removeEventListener("volumechange",this.hgt),this.Jwt.removeEventListener("progress",this.agt),this.Jwt.removeEventListener("ended",this.cgt),this.Jwt.removeEventListener("loadstart",this.fgt),this.Jwt.removeEventListener(lc.pa,this.vgt),this.Jwt.removeEventListener(lc.ma,this.dgt),this.Jwt.removeEventListener(lc.Da,this.Mr),this.Jwt.removeEventListener(lc.xa,this.kgt)},i.cE=function(){var t=this.Jwt.audioTracks,n=this.Jwt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Agt(t.item(i));t.addEventListener("addtrack",this.bgt),t.addEventListener("enabledtrack",this.Egt),t.addEventListener("disabledtrack",this.Egt)}if(n){for(var e=0;e<n.length;e++)this.Sgt(n.item(e));n.addEventListener("addtrack",this.Tgt),n.addEventListener("enabledtrack",this.Igt),n.addEventListener("disabledtrack",this.Igt)}},i.AE=function(){var t=this.Jwt.audioTracks,n=this.Jwt.videoTracks;t&&(t.removeEventListener("addtrack",this.bgt),t.removeEventListener("enabledtrack",this.Egt),t.removeEventListener("disabledtrack",this.Egt)),n&&(n.removeEventListener("addtrack",this.Tgt),n.removeEventListener("enabledtrack",this.Igt),n.removeEventListener("disabledtrack",this.Igt))},i.wgt=function(){for(var t=0,n=this.O_.nl;t<n.length;t++){n[t].ov()}for(var i=0,e=this.B_.nl;i<e.length;i++){e[i].ov()}this.O_.tl(),this.B_.tl()},i.Agt=function(t){Bz(this.O_,t)||this.O_.Jd(new Dz(t,this.Jwt.audioTracks))},i.Sgt=function(t){Bz(this.B_,t)||this.B_.Jd(new Cz(t,this.Jwt.videoTracks))},A(n,[{key:"H_",get:function(){return this.O_}},{key:"vw",get:function(){return this.Jwt.buffered}},{key:"dw",get:function(){var t;return null!=(t=this.Jwt.currentProgramDateTime)?t:void 0},set:function(t){this.Jwt.currentProgramDateTime=null!=t?t:null}},{key:"f_",get:function(){var t=this.Jwt.currentTime;return t===1/0&&y(this.Jwt.duration)&&(t=0),t},set:function(t){this.Jwt.currentTime=t}},{key:"v_",get:function(){var t=this.Jwt.duration;return t<0?1/0:t}},{key:"d_",get:function(){return this.Jwt.ended}},{key:"Kr",get:function(){return this.MS}},{key:"l_",get:function(){return this.US}},{key:"W_",get:function(){}},{key:"_w",get:function(){return!1}},{key:"R_",get:function(){return nr({},this.Jwt.R_(),{pw:this.igt})}},{key:"__",get:function(){return this.Jwt.muted},set:function(t){this.Jwt.muted=t}},{key:"bw",get:function(){return this.Jwt.online}},{key:"w_",get:function(){return this.Jwt.paused}},{key:"g_",get:function(){return this.Jwt.playbackRate},set:function(t){this.Jwt.playbackRate=t}},{key:"Aw",get:function(){return this.Jwt.played}},{key:"Tw",get:function(){return this.Jwt.preload||jT.ZE},set:function(t){this.Jwt.preload=t}},{key:"Nl",get:function(){return this.Jwt.Nl}},{key:"Sw",get:function(){return this.Jwt.seekable}},{key:"y_",get:function(){return this.Jwt.seeking}},{key:"DE",get:function(){}},{key:"V_",get:function(){return this.L_}},{key:"z_",get:function(){return this.B_}},{key:"m_",get:function(){return this.Jwt.videoHeight}},{key:"p_",get:function(){return this.Jwt.videoWidth}},{key:"k_",get:function(){return this.Jwt.volume},set:function(t){this.Jwt.volume=t}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"CE",get:function(){return this.XS}}]),n}(Ag),Mz=function(t){function n(n){var i;return(i=t.call(this)||this).Jwt=void 0,i.Dgt=function(){i.Ur(new ly(i.f_,i.Jwt.Nl))},i.Cgt=function(){i.Ur(new db(i.f_))},i.egt=function(){i.Ur(new Kg(i.f_))},i.rgt=function(){i.Ur(new $g(i.f_))},i.Jwt=n,i.Jwt.addEventListener(Zg.Hd,i.Dgt),i.Jwt.addEventListener(Zg.c_,i.Cgt),i.Jwt.addEventListener(lc.ba,i.egt),i.Jwt.addEventListener(lc.ka,i.rgt),i}return S(n,t),n.prototype.ov=function(){this.Vr(),this.Jwt.removeEventListener(Zg.Hd,this.Dgt),this.Jwt.removeEventListener(Zg.c_,this.Cgt),this.Jwt.removeEventListener(lc.ba,this.egt),this.Jwt.removeEventListener(lc.ka,this.rgt)},A(n,[{key:"f_",get:function(){var t=this.Jwt.currentTime;return t===1/0&&y(this.Jwt.duration)&&(t=0),t}},{key:"d_",get:function(){return this.Jwt.ended}},{key:"Kr",get:function(){return this.Jwt.error||void 0}},{key:"w_",get:function(){return this.Jwt.paused}}]),n}(Es);function Uz(t,n,i,e,r){var s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,tr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),ds(o.t0),!(s<i)){o.next=20;break}return u=_.min(e*_.pow(2,s),r),s++,o.next=19,tr.awrap(bs(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],ge)}QT(new(function(){function t(){this.xE=CT.Ql}var n=t.prototype;return n.vT=function(t,n,i,e,r,s){return new Lz(t,n,i,e,r,s)},n.PE=function(n,i){if((L.Qt||L.An)&&!i.manifestMetadataTrack)return!1;if(!Ug(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!Jb(e)&&!t.xgt(e))&&!!function(t){return dz(t,{})!==uz.Cj}(n)},t.xgt=function(t){return!!t.aes128},n.OE=function(){return!0},t}()));var Fz,Hz=function(t){function n(){return t.call(this,"Pgt")||this}return S(n,t),n}(Rs),zz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ogt=void 0,r.Bgt=void 0,r.Lgt=void 0,r.tgt=void 0,r.Mgt=void 0,r.uA=void 0,r.Iz=void 0,r.Ugt=void 0,r.Fgt=function(){r.Ur(new Hz)},r.tgt=n,r.Mgt=nr({},i,{crossOrigin:r.tgt.crossOrigin,withCredentials:r.tgt.useCredentials,liveOffset:r.tgt.liveOffset,hlsDateRange:r.tgt.hlsDateRange}),r.uA=e,r.Bgt=[],r.Iz=!1,r}S(n,t);var i=n.prototype;return i.Hgt=function(){if(this.Lgt)return this.Lgt.I_},i.aI=function(t){var n=this;ps(Uz(function(){return n.g0()},t))},i.g0=function(){var t,n,i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,tr.awrap(this.zgt());case 2:if((t=u.sent).isMasterPlaylist)for(this.Ogt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new fU(this.uA,this.Mgt),this.Bgt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new fU(this.uA,this.Mgt),this.Bgt.push({stream:{uri:t.uri},updater:s});this.Ugt&&(this.Vgt(this.Ugt.width,this.Ugt.height),this.Ugt=void 0),this.Iz=!0;case 6:case"end":return u.stop()}},null,this,null,ge)},i.Wgt=function(t,n){this.Iz?this.Vgt(t,n):this.Ugt={width:t,height:n}},i.Vgt=function(t,n){this.Xgt();var i=this.qgt(t,n);i&&(this.Lgt=i.updater,this.Lgt.addEventListener("L7",this.Fgt),i.updater.aI(i.stream.uri))},i.Xgt=function(){this.Lgt&&(this.Lgt.G_(),this.Lgt.removeEventListener("L7",this.Fgt),this.Lgt=void 0)},i.qgt=function(t,n){return 1===this.Bgt.length?this.Bgt[0]:$r(this.Bgt,function(i){return i.stream.width===t&&i.stream.height===n})},i.zgt=function(){var t,n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new cU(this.Mgt,sB.In.M0,this.uA),i.next=3,tr.awrap(t.Qo(this.tgt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.I_);case 5:case"end":return i.stop()}},null,this,null,ge)},i.ov=function(){this.Xgt();for(var t=0,n=this.Bgt;t<n.length;t++){n[t].updater.ov()}es(this.Bgt)},n}(Es),Vz=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Ggt=void 0,r.Qgt=void 0,r.dO=void 0,r.Ygt=!1,r.R$=void 0,r.lV=void 0,r.handleManifestUpdate=function(){var t=r.Ggt.Hgt();if(t){var n=r.DE;if(n){var i=n.getTime(),e=r.R$;e||(e=new vO,r.R$=e),e.jo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Ygt&&e.Dl.il>0&&(r.V_.Jd(e),r.lV.Jd(e),r.Ygt=!0)}}},r.ygt=function(){r.Ggt&&r.Ggt.Wgt(r.p_,r.m_)},r.Qgt=i,r.dO=e,r.lV=new TC(Tt(r)),r.Fr(lc.Ea,r.ygt),r}S(n,t);var i=n.prototype;return i.Y_=function(n,i,e){return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(t.prototype.Y_.call(this,n,i,e));case 2:n.hlsDateRange&&this.jgt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,ge)},i.jgt=function(t,n,i){this.Ggt&&(this.Ggt.Wr("Pgt",this.handleManifestUpdate),this.Ggt.ov()),this.Ggt=new zz(t,n,this.Qgt),this.Ggt.Fr("Pgt",this.handleManifestUpdate),this.Ggt.aI(i)},i.tl=function(){return this.R$&&(this.V_.$d(this.R$),this.lV.$d(this.R$),this.R$.ov(),this.R$=void 0,this.Ygt=!1),this.lV.tl(),t.prototype.tl.call(this)},i.ov=function(){return this.Wr(lc.Ea,this.ygt),this.Ggt&&(this.Ggt.Wr("Pgt",this.handleManifestUpdate),this.Ggt.ov()),this.lV.ov(),t.prototype.ov.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Zgt=void 0,i.Zgt=n;for(var e=0;e<$T.length;e++){var r=$T[e];i.Zgt.Fr(r,i.Mr)}return i}S(n,t);var i=n.prototype;return i.j_=function(){return this.Zgt.j_()},i.sw=function(){return this.Zgt.sw()},i.rw=function(){return this.Zgt.rw()},i.ew=function(){return this.Zgt.ew()},i.fw=function(){return this.Zgt.fw()},i.q_=function(){return this.Zgt.q_()},i.X_=function(){return this.Zgt.X_()},i.tl=function(){return this.Zgt.tl()},i.Y_=function(t,n,i){return this.Zgt.Y_(t,n,i)},i.iw=function(){return this.Zgt.iw()},i.Z_=function(){return this.Zgt.Z_()},i.J_=function(){return this.Zgt.J_()},i.ov=function(){this.Vr();for(var t=0;t<$T.length;t++){var n=$T[t];this.Zgt.Wr(n,this.Mr)}return this.Zgt.ov()},A(n,[{key:"H_",get:function(){return this.Zgt.H_}},{key:"vw",get:function(){return this.Zgt.vw}},{key:"dw",get:function(){return this.Zgt.dw},set:function(t){this.Zgt.dw=t}},{key:"f_",get:function(){return this.Zgt.f_},set:function(t){this.Zgt.f_=t}},{key:"v_",get:function(){return this.Zgt.v_}},{key:"d_",get:function(){return this.Zgt.d_}},{key:"l_",get:function(){return this.Zgt.l_}},{key:"W_",get:function(){return this.Zgt.W_}},{key:"Kr",get:function(){return this.Zgt.Kr}},{key:"_w",get:function(){return this.Zgt._w}},{key:"R_",get:function(){return this.Zgt.R_}},{key:"__",get:function(){return this.Zgt.__},set:function(t){this.Zgt.__=t}},{key:"bw",get:function(){return this.Zgt.bw}},{key:"w_",get:function(){return this.Zgt.w_}},{key:"g_",get:function(){return this.Zgt.g_},set:function(t){this.Zgt.g_=t}},{key:"Aw",get:function(){return this.Zgt.Aw}},{key:"Tw",get:function(){return this.Zgt.Tw},set:function(t){this.Zgt.Tw=t}},{key:"Nl",get:function(){return this.Zgt.Nl}},{key:"Sw",get:function(){return this.Zgt.Sw}},{key:"y_",get:function(){return this.Zgt.y_}},{key:"DE",get:function(){return this.Zgt.DE}},{key:"V_",get:function(){return this.Zgt.V_}},{key:"m_",get:function(){return this.Zgt.m_}},{key:"z_",get:function(){return this.Zgt.z_}},{key:"p_",get:function(){return this.Zgt.p_}},{key:"k_",get:function(){return this.Zgt.k_},set:function(t){this.Zgt.k_=t}},{key:"Ew",get:function(){return this.Zgt.Ew},set:function(t){this.Zgt.Ew=t}},{key:"CE",get:function(){return this.Zgt.CE}}]),n}(Ag));Fz=function(t,n,i){return new Vz(t,n,i)},qT.ME().UE(Fz);var Wz=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},Xz=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),qz=ht(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function Gz(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function Qz(t){return JSON.stringify(t,qz.getSerialize(Gz))}var Yz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=s&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),jz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),Zz=ht(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),Jz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=Yz.isS,e=Yz.isChar,r=Yz.isNameStartChar,s=Yz.isNameChar,u=Yz.S_LIST,o=Yz.NAME_RE,h=jz.isChar,a=Zz.isNCNameStartChar,c=Zz.isNCNameChar,f=Zz.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,p=-2,k=0,b=1,A=2,T=3,S=4,E=5,I=6,R=7,N=8,D=9,C=10,x=11,P=12,O=13,B=14,L=15,M=16,U=17,F=18,H=19,z=20,V=21,W=22,X=23,q=24,G=25,Q=26,Y=27,j=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,et=36,rt=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,wt=33,gt=38,yt=45,mt=47,pt=59,kt=60,bt=61,At=62,Tt=63,St=91,Et=93,It=133,Rt=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,St,At],xt=[...Dt,kt,Et],Pt=[bt,Tt,...u],Ot=[...u,At,gt,kt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const zt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Fs}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?O:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Fs=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[zt[t]]=n}off(t){this[zt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Rt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Rt:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,s=r?dt:e;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case m:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=O,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case At:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=A)}sDTD(){const t=this.captureTo(xt);t!==m&&(this.text+=String.fromCodePoint(t),t===Et?this.state=A:t===kt?this.state=I:Nt(t)&&(this.state=E,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case wt:this.state=R,this.openWakaBang="";break;case Tt:this.state=x;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===At?this.state=S:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===At&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===O&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case wt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=X;break;default:this.fail("disallowed character in tag name"),this.state=O,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=z,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=A,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==At?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=O}sCData(){this.captureToChar(Et)&&(this.state=V)}sCDataEnding(){const t=this.getCodeNorm();t===Et?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=z)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case At:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O;break;case Et:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=z}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=q):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?Q:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=q)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===Tt;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:Y):this.state=r?Q:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=Q:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=Q)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===At){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=O}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=j,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Y):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===At?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=O):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const e=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case At:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===At?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==m&&(r(t)?(this.unget(),this.state=rt):t===At?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ut:i(t)?this.state=st:t===At?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case bt:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===At?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case gt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===At?this.openTag():t===mt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Ot);switch(t){case gt:this.state=B,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===At?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===At?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case At:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=L,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ut;break t;case gt:this.state=B,this.entityReturnState=O,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case Et:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case At:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const s=this.getCode();switch(s){case kt:if(this.state=L,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case gt:this.state=B,this.entityReturnState=O,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==e&&(this.text+=n.slice(t));break t;default:i(s)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Bt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==O&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Fs=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=O,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=O,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=O,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),$z=function(){function t(){}return t.prototype.Mn=function(t){var n=new Jz.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new sV,e=[i];function r(t){e[e.length-1].$n(t)}return n.on("text",function(t){e.length>1&&r(new eV(t))}),n.on("cdata",function(t){r(new rV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new nV({zn:n,Wn:""===i?void 0:i,Jgt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,w=new Kz({zn:v,qn:_,Wn:""===d?void 0:d,Jgt:""===f?void 0:f});u.$gt(w)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new It(t)}),n.write(t).close(),i},t}(),Kz=function(){function t(t){this.Kgt=void 0,this.tyt=void 0,this.nyt=void 0,this.Di=void 0,this.Kgt=t.zn,this.Di=t.qn,this.tyt=t.Wn,this.nyt=t.Jgt}var n=t.prototype;return n.Fn=function(t){return this===t||!!oV(this,t)&&(this.Kgt===t.Kgt&&this.tyt===t.tyt&&this.nyt===t.nyt&&this.Di===t.Di)},n.Hn=function(){return new t({zn:this.zn,qn:this.qn,Wn:this.Wn,Jgt:this.Xn})},A(t,[{key:"Cn",get:function(){return mt.On}},{key:"zn",get:function(){return this.Kgt}},{key:"Vn",get:function(){return void 0===this.nyt?this.Kgt:this.nyt+":"+this.Kgt}},{key:"Wn",get:function(){return this.tyt}},{key:"Xn",get:function(){return this.nyt}},{key:"qn",get:function(){return this.Di}}]),t}(),tV=function(){function t(){this.Qn=[]}var n=t.prototype;return n.Yn=function(t){return this.Qn.filter(function(n){return uV(n)&&n.Zn===t})},n.Jn=function(t,n){return this.Qn.filter(function(i){return uV(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Qn.push(t)},A(t,[{key:"jn",get:function(){return this.Qn}},{key:"ti",get:function(){return this.Qn.filter(uV)}}]),t}(),nV=function(t){function n(n){var i;return(i=t.call(this)||this).Kgt=void 0,i.tyt=void 0,i.nyt=void 0,i.iyt=[],i.Kgt=n.zn,i.tyt=n.Wn,i.nyt=n.Jgt,i}S(n,t);var i=n.prototype;return i.eyt=function(t){for(var n=0,i=this.jn;n<i.length;n++){var e=i[n];uV(e)?e.eyt(t):t.push(e.ai)}},i.ii=function(t,n){for(var i=0,e=this.iyt;i<e.length;i++){var r=e[i];if(r.zn===n&&r.Wn===t)return r.qn}},i.ni=function(t){for(var n=0,i=this.iyt;n<i.length;n++){var e=i[n];if(e.Vn===t)return e.qn}},i.$gt=function(t){this.iyt.push(t)},i.ei=function(t){for(var n=0;n<this.iyt.length;n++)if(this.iyt[n].Vn===t)return void this.iyt.splice(n,1)},i.ri=function(t,n){for(var i=0;i<this.iyt.length;i++)if(this.iyt[i].zn===n&&this.iyt[i].Wn===t)return void this.iyt.splice(i,1)},i.si=function(t,n){this.ei(t),this.$gt(new Kz({zn:t,qn:n}))},i.ui=function(t,n,i){this.ei(n);var e=n.split(":");this.$gt(new Kz({zn:e[e.length-1],qn:i,Wn:t,Jgt:e.length>1?e[0]:void 0}))},i.Hn=function(t){var i=new n({zn:this.zn,Wn:this.Wn,Jgt:this.Xn});return this.oi.forEach(function(t){return i.$gt(t.Hn())}),t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!oV(this,t)&&(this.Kgt===t.Kgt&&this.nyt===t.nyt&&this.tyt===t.tyt&&(hV(this.oi,t.oi)&&hV(this.jn,t.jn)))},A(n,[{key:"Cn",get:function(){return mt.xn}},{key:"oi",get:function(){return this.iyt}},{key:"zn",get:function(){return this.Kgt}},{key:"Wn",get:function(){return this.tyt}},{key:"Xn",get:function(){return this.nyt}},{key:"Zn",get:function(){return void 0===this.nyt?this.Kgt:this.nyt+":"+this.Kgt}},{key:"hi",get:function(){var t=[];return this.eyt(t),t.join("")}}]),n}(tV),iV=function(){function t(t){this.di=void 0,this.di=t}return A(t,[{key:"ai",get:function(){return this.di}}]),t}(),eV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!oV(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return mt.Pn}}]),n}(iV),rV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!oV(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return mt.Bn}}]),n}(iV),sV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Hn=function(t){var i=new n;return t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!oV(this,t)&&hV(this.jn,t.jn)},A(n,[{key:"Cn",get:function(){return mt.Ln}},{key:"ci",get:function(){return this.ti[0]}}]),n}(tV);function uV(t){return bt(t)}function oV(t,n){return t.Cn===n.Cn}function hV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Fn(n[i]))return!1;return!0}var aV,cV=["adBreak"],fV=["adBreak"];function vV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:nr({},t,{adBreak:nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Mb(t,cV)})})})}function dV(t){return void 0===t.ads?t:nr({},t,{ads:t.ads.map(function(t){t.adBreak;return Mb(t,fV)})})}function lV(t){return"string"==typeof t.date?new Date(t.date):t.date}function _V(t){var n;return t.cue.track?(n=gV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=gV(t.cue,""),n}function wV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function gV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new $z).Mn(e.firstChild.outerHTML).ci.oi.forEach(function(t){r[t.zn]=t.qn}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=yV(o);s[u]={type:aV.ryt,value:h}}else pV(o)?s[u]={type:aV.syt,value:o}:s[u]={type:aV.FX,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=yV(t.scte35Cmd),i.scte35Out=yV(t.scte35Out),i.scte35In=yV(t.scte35In),i.customAttributes=s}var a}(),i}function yV(t){if(void 0!==t)return qs(t)}function mV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(gV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(gV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function pV(t){return"number"==typeof t}!function(t){t.FX="daterange-ca-type_string",t.syt="daterange-ca-type_number",t.ryt="daterange-ca-type_arraybuffer"}(aV||(aV={}));var kV={cue:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=_V(t)}return n},textTrack:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=SV().register(t.cue));var i=TV()[EV()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=_V(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var s=t.track.activeCues[r];e.push(gV(s,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=SV().register(t)}),n.track=mV(t.track);case"removetrack":case"change":n.track=mV(t.track)}return n},default:function(t){var n={};switch(n.date=lV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case lc.La:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=mV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=dV(t.ad);break;case"adloaded":case"adimpression":n.ad=vV(t.ad);break;case"aderror":t.uyt&&(n.uyt=t.uyt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=vV(t.ad)}return wV(n)},minimizeCueHelper:function(t){var n={};return n.date=lV(t),n.type=t.type,n.cue=_V(t),n.track={uid:t.cue.track.uid},n},adReplacer:vV,adBreakReplacer:dV,removeCircularReferences:wV},bV=function(){this.stringify=Qz,this.minimize=kV};function AV(){return Hi.self}function TV(){return AV().THEOplayerBridge}function SV(){return AV().THEOCueMirrorMap}function EV(){return AV().THEOplayerGlobalID}function IV(){var t=AV();if(t.THEOplayerBridge){var n=new Wz;t.THEOplayerBridge=Zw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new Wz;t.THEOplayerUtils||(t.THEOplayerUtils=new bV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new Xz)}IV();var RV,NV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(Rs),DV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ur(new NV(t,n))},i.addEventListener=function(t,n){this.Fr(t,n)},i.removeEventListener=function(t,n){this.Wr(t,n)},n}(Tg),CV=function(t){function n(n,i){var e;return(e=t.call(this)||this).oyt=void 0,e.hyt=void 0,e.ayt=function(t){e.oyt.iY("THEOplayerABRSetTargetBuffer",t.Fx),e.Ur(t)},e.cyt=function(t){e.oyt.iY("THEOplayerABRSetStrategy",t.zx),e.Ur(t)},e.oyt=n,e.hyt=i,e.hyt.Fr("Hx",e.ayt),e.hyt.Fr("Vx",e.cyt),e}return S(n,t),A(n,[{key:"Jx",get:function(){var t;switch(this.zx.type){case VI.PERFORMANCE:return 1;case VI.QUALITY:return 0;case VI.BANDWIDTH:return null!=(t=this.zx.metadata)&&t.bitrate&&!y(this.zx.metadata.bitrate)?this.zx.metadata.bitrate:0;default:return 0}}},{key:"Sd",get:function(){return this.hyt.Sd}},{key:"zx",get:function(){return this.hyt.zx},set:function(t){this.hyt.zx=t}},{key:"Fx",get:function(){return this.hyt.Fx},set:function(t){this.hyt.Fx=t}},{key:"Wx",get:function(){return this.hyt.Wx},set:function(t){this.hyt.Wx=t}}]),n}(Es),xV=function(){function t(t,n,i){this.Dh=void 0,this.ur=void 0,this.zh=void 0,this.nh=void 0,this.Dh=t,this.ur=i,this.zh=n}var n=t.prototype;return n.vA=function(t){throw new v("Not implemented yet.")},n.eL=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(this.ur.cr(t.nr,n));case 2:return i=r.sent,r.next=5,tr.awrap(i.fh());case 5:return e=r.sent,r.next=8,tr.awrap(this.rL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ge)},n.sL=function(t){return!1},n.uL=function(t){return ge.resolve(void 0)},n.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.rL(void 0));case 2:case"end":return t.stop()}},null,this,null,ge)},n.rL=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.hL(t),i.next=3,tr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,ge)},n.hL=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.nh)){i.next=5;break}return i.next=4,tr.awrap(n.oh(this.zh));case 4:this.nh=void 0;case 5:if(!t){i.next=9;break}return i.next=8,tr.awrap(t.uh(this.zh));case 8:this.nh=t;case 9:case"end":return i.stop()}},null,this,null,ge)},n.aA=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"eh",get:function(){return this.Dh}},{key:"Tw",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Sw",get:function(){return new eS([0,1/0])}},{key:"V_",get:function(){throw new v("Not implemented yet.")}},{key:"fyt",get:function(){throw new v("Not implemented yet")}},{key:"z_",get:function(){throw new v("Not implemented yet.")}},{key:"vyt",get:function(){throw new v("Not implemented yet")}},{key:"dyt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.lyt="webkitneedkey",t._yt="webkitkeymessage",t.wyt="webkitkeyerror"}(RV||(RV={}));var PV=function(t){function n(n,i){var e;return(e=t.call(this,RV.lyt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(Rs),OV=function(t){function n(n,i){var e;return(e=t.call(this,RV._yt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(Rs),BV=function(t){function n(){return t.call(this,RV.wyt)||this}return S(n,t),n}(Rs),LV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).gh=new Zu,u.Ch=void 0,u.ph=new Ms,u.Ph=new Zu,u.gyt=function(t){u.Ch?(u.Ch.Rs(void 0),u.Ch=void 0):u.Sh("internal-error"),u.Ur(new Ps)},u.yyt=function(t){u.Ch&&(u.Ch.Is(void 0),u.Ch=void 0),u.Ur(new xs(Tt(u),"license-request",Qu(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Vo=i,u.myt=e,u.Fh=r,u.Bh=s,u}S(n,t);var i=n.prototype;return i.Go=function(t,n,i){var e;return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Lh){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,tr.awrap(this.pyt(qu(n),e));case 5:this.Sh("usable"),this.Ph.Is(),this.Ph=new Zu;case 8:case"end":return t.stop()}},null,this,null,ge)},i.Qo=function(t){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ge)},i.jo=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=qu(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Ch=new Zu,this.myt.jo(this.Fh,n),i.next=7,tr.awrap(this.Ch.Ts);case 7:case"end":return i.stop()}},null,this,null,ge)},i.qo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.Ph);case 2:return this.myt.Wr(RV._yt,this.yyt),this.myt.Wr(RV.wyt,this.gyt),this.Ph.Dr(),this.gh.Is(void 0),t.abrupt("return",this.gh.Ts);case 7:case"end":return t.stop()}},null,this,null,ge)},i.Yo=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,ge)},i.pyt=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Qa(t,n,this.Bh),this.myt.Fr(RV._yt,this.yyt),this.myt.Fr(RV.wyt,this.gyt),this.myt.Vz(this.Fh,i);case 4:case"end":return e.stop()}},null,this,null,ge)},i.Sh=function(t){this.ph.vs(),this.ph.fs(Ls,t),this.Ur(new Cs(this))},A(n,[{key:"th",get:function(){return this.Fh}},{key:"$o",get:function(){return NaN}},{key:"Jo",get:function(){return this.gh.Ts}},{key:"Ko",get:function(){return this.ph}}]),n}(Es),MV=function(){function t(t,n,i){this.kyt=void 0,this.Fh=void 0,this.Bh=void 0,this.myt=void 0,this.Vo=void 0,this.Dh=void 0,this.Ih=void 0,this.myt=t,this.Vo=n,this.Dh=i;var e=xa(i)||"video/mp4";this.Ih=Na(e)}var i=t.prototype;return i.rh=function(t){var i;return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new Ya(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new LV(this.Ih,this.Vo,this.myt,this.Fh,this.Bh),this.kyt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,ge)},i.sh=function(t){return this.Bh=qu(t),ge.resolve(!0)},i.uh=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,ge)},i.oh=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,ge)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"ih",get:function(){return this.Vo}},{key:"eh",get:function(){return this.Dh}},{key:"sessionId",set:function(t){this.Fh=t}}]),t}(),UV=function(){function t(t,n,i){this.byt=t,this.Vo=n,this.Dh=i}var n=t.prototype;return n.vh=function(){return this.Dh},n.fh=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new MV(this.byt,this.Vo,this.Dh));case 1:case"end":return t.stop()}},null,this,null,ge)},A(t,[{key:"ih",get:function(){return this.Vo}}]),t}(),FV=function(){function t(t){this.byt=void 0,this.byt=t}return t.prototype.cr=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Da(HV,Ds,t,e))){s.next=6;break}return s.abrupt("return",new UV(this.byt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,ge)},t}();function HV(t,n){return t===kr}var zV,VV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Kz=function(t,n){return!0},n}(qC),WV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new FV(i)),(r=t.call(this)||this).LS=void 0,r.ur=void 0,r.KB=void 0,r.rV=new qR,r.Ayt=void 0,r.byt=void 0,r.Tyt=!1,r.Fh=void 0,r.Oh=null,r.Syt={ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.Eyt=function(t){"boolean"==typeof t.detail.casting&&(r.Tyt=t.detail.casting,r.Ur(new em(r.Tyt)))},r.Iyt=function(t){r.Fh=t.sessionId,r.Oh&&(r.Oh.sessionId=r.Fh);var n=t.initData;if(n){var i=$C(n);if(!i)return;r.Ur(new Os(_r,i))}else r.Ur(new Os(_r,new ArrayBuffer(0)))},r.Ayt=n,r.byt=i,r.byt.Fr(RV.lyt,r.Iyt),r.ur=e,r.KB=new VV(Tt(r)),r.Ryt(),r}S(n,t);var i=n.prototype;return i.dL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.tr===Vk.lA)return i}},i.Tr=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.tl());case 2:return this.Vr(),this.Nyt(),this.byt.Wr(RV.lyt,this.Iyt),t.next=7,tr.awrap(this.KB.Tr());case 7:case"end":return t.stop()}},null,this,null,ge)},i.ew=function(){throw new v("Not implemented yet")},i.aA=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.wE=function(){return!1},i.yE=function(t,n,i,e){throw new v("Not implemented yet")},i.vA=function(t){throw new v("Not implemented yet")},i.kE=function(){throw new v("Not implemented yet")},i.Qo=function(t){var n=this;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.rV.TB(function(i){var e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.tr!==Vk.lA){r.next=8;break}return vs(i),e=new xV(t,n,n.ur),n.LS=e,n.KB.Qo(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,ge)}));case 1:case"end":return i.stop()}},null,this,null,ge)},i.q_=function(){throw new v("Not implemented yet")},i.X_=function(){throw new v("Not implemented yet")},i.tl=function(){var t=this;return this.rV.Dr(),this.rV.TB(function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.LS){n.next=4;break}return n.next=3,tr.awrap(t.LS.Tr());case 3:t.LS=void 0;case 4:return n.next=6,tr.awrap(t.KB.tl());case 6:case"end":return n.stop()}},null,null,null,ge)})},i.gs=function(t,n){throw new v("Not implemented yet")},i.RE=function(t){throw new v("Not implemented yet")},i.iw=function(){throw new v("Not implemented yet")},i.NE=function(){return this.Syt},i.Ryt=function(){this.Ayt.addEventListener("airPlayIsCasting",this.Eyt)},i.Nyt=function(){this.Ayt.removeEventListener("airPlayIsCasting",this.Eyt)},i.webkitSetMediaKeys=function(t){this.Oh=t||null,this.Oh&&(this.Oh.sessionId=this.Fh)},i.HW=function(){},i.UW=function(){throw new v("Not implemented yet")},i.FW=function(){throw new v("Not implemented yet")},A(n,[{key:"dw",get:function(){throw new v("Not implemented yet")}},{key:"vw",get:function(){throw new v("Not implemented yet")}},{key:"f_",get:function(){throw new v("Not implemented yet")}},{key:"rB",get:function(){throw new v("Not implemented yet")}},{key:"v_",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")}},{key:"Kr",get:function(){throw new v("Not implemented yet")}},{key:"Jp",get:function(){throw new v("Not implemented yet")}},{key:"_w",get:function(){return this.Tyt}},{key:"__",get:function(){throw new v("Not implemented yet")}},{key:"w_",get:function(){throw new v("Not implemented yet")}},{key:"g_",get:function(){throw new v("Not implemented yet")}},{key:"Aw",get:function(){throw new v("Not implemented yet")}},{key:"Nl",get:function(){throw new v("Not implemented yet")}},{key:"Sw",get:function(){throw new v("Not implemented yet")}},{key:"y_",get:function(){throw new v("Not implemented yet")}},{key:"WW",get:function(){throw new v("Not implemented yet")}},{key:"k_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"mg",get:function(){throw new v("Not implemented yet")}},{key:"pE",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Oh}},{key:"XW",get:function(){return oN}},{key:"V_",get:function(){throw new v("Not implemented yet")}},{key:"uB",get:function(){throw new v("Not implemented yet")}},{key:"DE",get:function(){throw new v("Not implemented yet")}},{key:"zW",get:function(){return!0}},{key:"hE",get:function(){return this.KB.hE},set:function(t){this.KB.hE=t}},{key:"iV",get:function(){return this.KB.iV}}]),n}(Ag),XV=function(t){function n(n){var i;return(i=t.call(this,lc.Fa)||this).Syt=n,i}return S(n,t),n}(Rs);function qV(t){switch(t.type){case zV.FX:return t.value;case zV.syt:return ig(t.value);case zV.ryt:return Ws(t.value);default:return}}function GV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.FX="daterange-ca-type_string",t.syt="daterange-ca-type_number",t.ryt="daterange-ca-type_arraybuffer"}(zV||(zV={}));var QV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).$T=void 0,u.Dyt=void 0,u.$T=n,u.Dyt=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.$T}},{key:"timestamp",get:function(){return this.Dyt}}]),n}(Ya),YV=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return S(n,t),n}(QV),jV=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).$I=0,u.RF=!1,u.MS=void 0,u.US=void 0,u.Cyt=void 0,u.tR=!0,u.nR=1,u.O_=void 0,u.B_=void 0,u.aV=void 0,u.fV=void 0,u.vV=void 0,u.L_=void 0,u.sA=void 0,u.bu=void 0,u.xyt=eS.QI(),u.lF=eS.QI(),u.KI=!1,u.bV=eS.QI(),u.iR=void 0,u.Pyt=void 0,u.Oyt=void 0,u.NF=Pg.t_,u.wA=Pg.t_,u.Ayt=void 0,u.lV=void 0,u.zS=void 0,u.oyt=void 0,u.tgt=void 0,u.uR=void 0,u.OS=void 0,u.VS=void 0,u.byt=void 0,u.Syt={ww:0,gw:0,yw:0,mw:0,pw:0,kw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.LS=void 0,u.Byt=void 0,u.XS=new MT,u.setCurrentTime=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Sw.length){n.next=4;break}return u.$I=t,n.next=4,tr.awrap(u.Ayt.Qr("seekablechange"));case 4:u.$I=u.updateCurrentTime(t),u.oyt.iY("THEOplayerSetCurrentTime",u.$I),u.iR=!0,u.Ur(new ay(u.$I));case 8:case"end":return n.stop()}},null,null,null,ge)},u.Lyt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.xyt=new eS(i),u.Ur(new vN(u.f_))}},u.Myt=function(t){u.NF=t.detail.readyState,u.Ur(new vy(+t.detail.currentTime,u.Nl)),u.Uyt()},u.Fyt=function(t){u.NF=t.detail.readyState,u.Ur(new dy(+t.detail.currentTime,u.Nl)),u.Uyt()},u.Hyt=function(t){if(t.detail){var n=+t.detail.duration;u.bu=n,u.Ur(new ry(u.v_))}},u.cgt=function(t){t.detail&&(u.RF=!0,u.Ur(new oy(+t.detail.currentTime)))},u.qS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);GV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.US=new YV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.MS=My(u.US),u.Ur(new _y(u.US))):GV(i)&&(u.US=new QV(i.name,i.message,void 0,i.code,i.timestamp),u.MS=My(u.US),u.Ur(new _y(u.US)))}},u.fgt=function(t){u.Ur(new dN)},u.zyt=function(t){u.NF=t.detail.readyState,u.Ur(new hy(+t.detail.currentTime,u.Nl)),u.Uyt()},u.Vyt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Sw.length){n.next=3;break}return n.next=3,tr.awrap(u.Ayt.Qr("seekablechange"));case 3:u.NF=t.detail.readyState,u.Ur(new ey(+t.detail.currentTime,u.Nl)),u.Uyt();case 6:case"end":return n.stop()}},null,null,null,ge)},u.egt=function(t){t.detail&&u.tR&&(u.tR=!1,u.Ur(new Kg(+t.detail.currentTime)))},u.rgt=function(t){t.detail&&(u.tR||(u.tR=!0,u.Ur(new $g(+t.detail.currentTime))))},u.Wyt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.bV=new eS(i)}},u.Cgt=function(t){t.detail&&u.Ur(new db(+t.detail.currentTime))},u.ogt=function(t){t.detail&&(u.nR=t.detail.playbackRate,u.Ur(new sy(+t.detail.currentTime,u.nR)))},u.Xyt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.lF=new eS(i)}},u.ugt=function(t){t.detail&&(u.$I=+t.detail.currentTime,u.iR=!1,u.Ur(new uy(u.$I,u.Cyt)),u.Ur(new cy(u.$I)))},u.sgt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.bu&&(u.RF=!1),u.iR=!0,u.Ur(new ay(n))}},u.qyt=function(t){t.detail&&(t.detail.currentDate&&(u.Cyt=new Date(1e3*t.detail.currentDate)),u.$I=+t.detail.currentTime,u.Ur(new uy(u.$I,u.Cyt)))},u.Gyt=function(t){u.Pyt=t.detail.height,u.Oyt=t.detail.width},u.Qyt=function(t){t.detail&&u.Ur(new vb(+t.detail.currentTime))},u.bgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.H_.Jd(new Jy(n))},u.Yyt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.O_.il;s++){var o=u.H_.Zd(s);o.yl==e&&o.gl==r?i=u.O_.Zd(s):1==o.dl&&(n=u.O_.Zd(s))}i&&n&&(i.dl=!0,n.dl=!1)},u.Tgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.z_.Jd(new im(n))},u.DQ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===wk.Wm&&e===tm.ID3?(n=new IC("",t.detail.label)).El=dg.bl:i===wk.Wm&&e===tm.DATE_RANGE?(n=new vO,u.Byt=n):n=new kD(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.aV.Jd(n),u.lV.Jd(n)},u.jyt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new SC(ig(e.startTime),s,e.uid),h=u.Zyt();h&&h.fA(o)}},u.Jyt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new km(ig(r.startTime),ig(r.endTime),r.content,!1),o=null!=(e=u.$yt(wk.zm))?e:u.$yt(wk.Kb);o&&(o.tr=tm.WEBVTT,o.fA(s))}},u._W=function(t){t.type===lc.oa&&(u.MS=My(t.errorObject)),u.Mr(t)},u.Kyt=function(t){t.detail&&(u.Syt.gw=t.detail.corruptedVideoFrames,u.Syt.ww=t.detail.droppedVideoFrames,u.Ur(new XV(u.R_)))},u.tmt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={ll:t.id};if(void 0!==t.startDate&&(n.DE=new Date(t.startDate)),void 0!==t.endDate&&(n.rZ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=qV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.gZ=e}void 0!==t.scte35Cmd&&(n.yZ=Ws(t.scte35Cmd)),void 0!==t.scte35In&&(n.pZ=Ws(t.scte35In)),void 0!==t.scte35Out&&(n.mZ=Ws(t.scte35Out)),void 0!==t.startTime&&(n.Gw=t.startTime),n.lZ=t.class,n.v_=ig(t.duration),n._Z=ig(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Gw?t.Gw:(new Date).getTime(),e=new sO(t,i);u.Byt.fA(e),u.Byt.jo(n,i)})};var o=r.uid;u.oyt=u.getSdkBridge(o),u.Ayt=new DV,TV()[o].sdkEventBus=u.Ayt,u.O_=new Hy,u.B_=new Hy;var h=u.nmt(e);return u.sA=new Oz(Tt(u),new bC),u.lV=new TC(Tt(u)),u.zS=new Lk(u.sA,h),u.aV=new gk,u.fV=new PC(Tt(u)),u.fV.cl=u.aV,u.vV=new OC(u.sA,u.fV),u.L_=new HT([u.aV,u.zS.Bp,u.vV.Bp]),u.byt=u.getFairPlayControllerBridge(u.oyt),u.OS=new WV(u.Ayt,u.byt),u.VS=new UT(h),u.OS.hE=u.VS,u.observeMediaElement(),u.cE(),u.uR=new CV(u.oyt,s),u.uR.Fr("Hx",function(){u.oyt.iY("THEOplayerSetPreferredForwardBufferDuration",u.uR.Fx)}),u}S(n,t);var i=n.prototype;return i.sw=function(){return uS},i.iw=function(){this.oyt.iY("THEOplayerShow",{})},i.ew=function(){this.oyt.iY("THEOplayerHide",{})},i.imt=function(){var t=this;this.oyt.iY("THEOplayerSetInitialPreferredPeakBitRate",this.uR.Jx);this.Fr("playing",function n(){t.oyt.iY("THEOplayerSetInitialPreferredPeakBitRate",0),t.Wr("playing",n)})},i.Y_=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.tgt=t,i=nr({},n,{sources:{src:t.src,type:Dg.Ql,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.oyt.iY("THEOplayerSourceChange",i),e={tr:Vk.lA,xl:t.src,gf:t.type,fE:this.vE(t),dE:t.crossOrigin,lE:n.metadata&&n.metadata.title},this.VS.kS(t.contentProtection),s.next=7,tr.awrap(this.OS.Qo(e));case 7:this.LS=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==tm.WEBVTT})).length>0&&this._E(r),zk(this.V_),this.imt();case 11:case"end":return s.stop()}},null,this,null,ge)},i.vE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ih:Tr,SE:[{initDataTypes:[Tr.ir],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.X_=function(){this.tR=!1,this.Ur(new Kg(this.f_)),this.oyt.iY("THEOplayerPlay",{})},i.q_=function(){this.tR=!0,this.Ur(new $g(this.f_)),this.oyt.iY("THEOplayerPause",{})},i.rw=function(){},i.tl=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$I=0,this.RF=!1,this.MS=void 0,this.US=void 0,this.tR=!0,this.nR=1,this.bu=void 0,this.lF=eS.QI(),this.xyt=eS.QI(),this.Pyt=void 0,this.Oyt=void 0,this.NF=Pg.t_,this.wA=Pg.t_,this.O_.tl(),this.B_.tl(),this.aV.tl(),this.L_.tl(),t.next=19,tr.awrap(this.vV.tl());case 19:return this.fV.tl(),t.next=22,tr.awrap(this.zS.tl());case 22:return this.sA.tl(),this.lV.tl(),this.tgt=void 0,t.next=27,tr.awrap(this.OS.tl());case 27:case"end":return t.stop()}},null,this,null,ge)},i.Z_=function(){this.oyt.iY("THEOplayerShowAirPlayPicker",{})},i.J_=function(){this.oyt.iY("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.R_.gw=t.gw,this.R_.ww=t.ww},i.ov=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.tl());case 2:return this.Vr(),this.unobserveMediaElement(),this.AE(),this.OS.hE=void 0,t.next=8,tr.awrap(this.OS.Tr());case 8:return this.O_.ov(),this.B_.ov(),this.aV.ov(),this.L_.ov(),this.fV.ov(),t.next=15,tr.awrap(this.vV.ov());case 15:return t.next=17,tr.awrap(this.zS.ov());case 17:this.sA.ov(),this.lV.ov();case 19:case"end":return t.stop()}},null,this,null,ge)},i._E=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.zS.hA(i)}},i.Uyt=function(){var t=this.wA,n=this.NF;t!==n&&(this.wA=n,this.Ur(new ly(this.f_,n)))},i.observeMediaElement=function(){this.OS.Fr(lc.ea,this.Mr),this.OS.Fr([lc.ha,lc.oa],this._W),this.Ayt.addEventListener("play",this.egt),this.Ayt.addEventListener("pause",this.rgt),this.Ayt.addEventListener("seeking",this.sgt),this.Ayt.addEventListener("seeked",this.ugt),this.Ayt.addEventListener("ratechange",this.ogt),this.Ayt.addEventListener("durationchange",this.Hyt),this.Ayt.addEventListener("timeupdate",this.qyt),this.Ayt.addEventListener("waiting",this.Qyt),this.Ayt.addEventListener("playing",this.Cgt),this.Ayt.addEventListener("ended",this.cgt),this.Ayt.addEventListener("loadedmetadata",this.Vyt),this.Ayt.addEventListener("loadeddata",this.zyt),this.Ayt.addEventListener("loadstart",this.fgt),this.Ayt.addEventListener("canplay",this.Myt),this.Ayt.addEventListener("canplaythrough",this.Fyt),this.Ayt.addEventListener("error",this.qS),this.Ayt.addEventListener("seekablechange",this.Xyt),this.Ayt.addEventListener("videosizechange",this.Gyt),this.Ayt.addEventListener("bufferedchange",this.Lyt),this.Ayt.addEventListener("playedchange",this.Wyt),this.Ayt.addEventListener("metricschange",this.Kyt),this.Ayt.addEventListener("addDateRangeCues",this.tmt)},i.unobserveMediaElement=function(){this.OS.Wr(lc.ea,this.Mr),this.OS.Wr([lc.ha,lc.oa],this._W),this.Ayt.removeEventListener("play",this.egt),this.Ayt.removeEventListener("pause",this.rgt),this.Ayt.removeEventListener("seeking",this.sgt),this.Ayt.removeEventListener("seeked",this.ugt),this.Ayt.removeEventListener("ratechange",this.ogt),this.Ayt.removeEventListener("durationchange",this.Hyt),this.Ayt.removeEventListener("timeupdate",this.qyt),this.Ayt.removeEventListener("waiting",this.Qyt),this.Ayt.removeEventListener("playing",this.Cgt),this.Ayt.removeEventListener("ended",this.cgt),this.Ayt.removeEventListener("loadedmetadata",this.Vyt),this.Ayt.removeEventListener("loadeddata",this.zyt),this.Ayt.removeEventListener("loadstart",this.fgt),this.Ayt.removeEventListener("canplay",this.Myt),this.Ayt.removeEventListener("canplaythrough",this.Fyt),this.Ayt.removeEventListener("error",this.qS),this.Ayt.removeEventListener("seekablechange",this.Xyt),this.Ayt.removeEventListener("videosizechange",this.Gyt),this.Ayt.removeEventListener("bufferedchange",this.Lyt),this.Ayt.removeEventListener("playedchange",this.Wyt),this.Ayt.removeEventListener("metricschange",this.Kyt),this.Ayt.removeEventListener("addDateRangeCues",this.tmt)},i.updateCurrentTime=function(t){var n=this.Sw.start(0),i=this.Sw.end(0);return _.min(_.max(t,n),i)},i.Zyt=function(){for(var t=0,n=this.L_.nl;t<n.length;t++){var i=n[t];if(i.wl===wk.Wm&&i.tr===tm.ID3)return i}},i.$yt=function(t){for(var n=0,i=this.L_.nl;n<i.length;n++){var e=i[n],r=e.El===dg.Al,s=e.wl===t;if(r&&s)return e}},i.cE=function(){this.Ayt.addEventListener("addaudiotrack",this.bgt),this.Ayt.addEventListener("enableaudiotrack",this.Yyt),this.Ayt.addEventListener("addvideotrack",this.Tgt),this.Ayt.addEventListener("addtexttrack",this.DQ),this.Ayt.addEventListener("addtexttrackid3cues",this.jyt),this.Ayt.addEventListener("addtexttrackcues",this.Jyt)},i.AE=function(){this.Ayt.removeEventListener("addaudiotrack",this.bgt),this.Ayt.removeEventListener("enableaudiotrack",this.Yyt),this.Ayt.removeEventListener("addvideotrack",this.Tgt),this.Ayt.removeEventListener("addtexttrack",this.DQ),this.Ayt.removeEventListener("addtexttrackid3cues",this.jyt),this.Ayt.removeEventListener("addtexttrackcues",this.Jyt)},i.fw=function(){},A(n,[{key:"H_",get:function(){return this.O_}},{key:"vw",get:function(){return this.xyt.IE()}},{key:"dw",get:function(){return this.Cyt?this.Cyt:null},set:function(t){this.oyt.iY("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.Cyt=t}},{key:"f_",get:function(){return this.$I},set:function(t){this.setCurrentTime(t)}},{key:"v_",get:function(){return this.bu}},{key:"d_",get:function(){return this.RF}},{key:"Kr",get:function(){return this.MS}},{key:"l_",get:function(){return this.US}},{key:"W_",get:function(){}},{key:"_w",get:function(){return this.OS._w}},{key:"R_",get:function(){return this.Syt}},{key:"__",get:function(){return this.KI},set:function(t){this.KI!==t&&(this.oyt.iY("THEOplayerSetMuted",t),this.KI=t,this.Ur(new fy(this.f_,t?0:1)))}},{key:"w_",get:function(){return this.tR}},{key:"g_",get:function(){return this.nR},set:function(t){this.oyt.iY("THEOplayerSetPlaybackRate",t),this.nR=t}},{key:"Aw",get:function(){return this.bV.IE()}},{key:"Tw",get:function(){return jT.ZE},set:function(t){}},{key:"Nl",get:function(){return this.NF}},{key:"Sw",get:function(){return this.lF.IE()}},{key:"y_",get:function(){return this.iR}},{key:"DE",get:function(){}},{key:"V_",get:function(){return this.L_}},{key:"m_",get:function(){return this.Pyt}},{key:"p_",get:function(){return this.Oyt}},{key:"k_",get:function(){return 1},set:function(t){}},{key:"z_",get:function(){return this.B_}},{key:"CE",get:function(){return this.XS}},{key:"Ew",get:function(){return!1},set:function(t){}},{key:"bw",get:function(){return!0}}]),n}(Ag),ZV=function(){function t(){this.xE=CT.lS}var n=t.prototype;return n.PE=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Mg(n.type))return!1;var e=n.contentProtection;if(e&&!Jb(e)){if(!tA(e))return!1;if(!t.xgt(e))return!1}return!0},t.xgt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.OE=function(){return!1},t}(),JV=function(){function t(){this.emt=r.webkit}return t.prototype.iY=function(t,n){this.emt.messageHandlers[t]&&this.emt.messageHandlers[t].postMessage(n)},t}(),$V=function(t){function n(n){var i;return(i=t.call(this)||this).oyt=void 0,i.Ayt=void 0,i.rmt=function(t){var n=Ws(t.detail.initData),e=t.detail.sessionId;i.Ur(new PV(n,e))},i.smt=function(t){var n=new m(Js(t.detail.message)),e=t.detail.destinationURL;i.Ur(new OV(n,e))},i.umt=function(t){i.Ur(new BV)},i.oyt=n,i.Ayt=new DV,TV().fairplayController={sdkEventBus:i.Ayt},i.j$(),i}S(n,t);var i=n.prototype;return i.j$=function(){this.Ayt.addEventListener(RV.lyt,this.rmt),this.Ayt.addEventListener(RV._yt,this.smt),this.Ayt.addEventListener(RV.wyt,this.umt)},i.Vz=function(t,n){var i={playerId:EV(),data:$s(n.buffer),sessionId:t};this.oyt.iY("THEOplayerCreateKeySession",i)},i.jo=function(t,n){var i={playerId:EV(),data:$s(n.buffer),sessionId:t};this.oyt.iY("THEOplayerUpdateKey",i)},n}(Ag),KV=function(t){var n=this;this.Ayt=void 0,this.omt=void 0,this.hmt=function(){n.omt.UQ()},this.amt=function(){n.omt.MQ()},this.Ayt=new DV,this.omt=t,this.Ayt.addEventListener("showTracks",this.hmt),this.Ayt.addEventListener("hideTracks",this.amt),TV().texttracks={sdkEventBus:this.Ayt}},tW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).WQ=void 0,o.XQ=void 0,o.cmt=void 0;var h=i.uE(Fy.Jf);return o.WQ=new ox,o.WQ.VW(n),o.XQ=new TP(o.WQ.lw,h.rB,o.V_,u,h.pE),o.cmt=new KV(o.XQ),i.TE(h),Hi.document.querySelector(".vjs-tech")?Hi.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Hi.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.iw=function(){t.prototype.iw.call(this),this.WQ.iw()},i.ew=function(){t.prototype.ew.call(this),this.WQ.ew()},i.j_=function(){return!0},i.getSdkBridge=function(){return new JV},i.getFairPlayControllerBridge=function(){return iW},i.nmt=function(t){return t},i.ov=function(){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Hi.document.querySelector(".vjs-tech")?Hi.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Hi.document.querySelector(".player-div").style.background="#000000",n.next=3,tr.awrap(t.prototype.ov.call(this));case 3:this.XQ.ov(),this.WQ.ov();case 5:case"end":return n.stop()}},null,this,null,ge)},n}(jV);QT(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.vT=function(t,n,i,e,r,s){return new tW(t,n,i,e,r,s)},i.PE=function(n,i){if(n.type){var e=Be();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.PE.call(this,n,i)},n}(ZV)));var nW,iW=new $V(new JV),eW=function(t){function n(){return t.call(this,"fmt")||this}return S(n,t),n.prototype.Ed=function(){return new rW},n}(Bw),rW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(Rs);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(nW||(nW={}));var sW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).vmt=new Ag,n.Mr=function(t){n.Ur(t)},n}S(n,t);var i=n.prototype;return i.Ed=function(){return n=function(t){var n=t.dmt.map(function(t){return t.Sd});return n.item=function(n){n|=0;var i=t.Zd(n);return i&&i.Sd||void 0},n}(t=this),i=new uR(t,n),n.addEventListener=function(t,n){i.Fr(t,n)},n.removeEventListener=function(t,n){i.Wr(t,n)},n;var t,n,i},i.Fr=function(t,n){this.vmt.Fr(t,n)},i.zr=function(t){this.vmt.zr(t)},i.Vr=function(){this.vmt.Vr()},i.Ur=function(t){this.vmt.Ur(t)},i.Wr=function(t,n){this.vmt.Wr(t,n)},i.qr=function(t){this.vmt.qr(t)},i.Gr=function(t){this.vmt.Gr(t)},i.Qr=function(t,n){return this.vmt.Qr(t,n)},n}(function(){function t(){this.os=[],this.Td=void 0}var n=t.prototype;return n.Zd=function(t){return this.os[t]},n.Rw=function(t){this.os.push(t),this.Td&&this.Td.push(t.Sd),this.lmt(t)},n._mt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Rw(i)}},n.wmt=function(t,n){n>=0&&n<=this.os.length&&(this.os.splice(n,0,t),this.Td&&this.Td.splice(n,0,t.Sd),this.lmt(t))},n.Nw=function(t){return is(this.os,t)},n.Yo=function(t){this.gmt(this.os.indexOf(t))},n.gmt=function(t){if(t>=0&&t<this.os.length){var n=this.os[t];ns(this.os,t),this.Td&&ns(this.Td,t),this.ymt(n)}},n.vs=function(){var t=this.os.slice();es(this.os),this.Td&&es(this.Td);for(var n=0;n<t.length;n++){var i=t[n];this.ymt(i)}},A(t,[{key:"dmt",get:function(){return this.os}},{key:"il",get:function(){return this.os.length}},{key:"Sd",get:function(){return this.Td||(this.Td=this.Ed()),this.Td}}]),t}());var uW,oW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(Rs),hW=function(t){function n(n){var i;return(i=t.call(this,"pmt")||this).mmt=n,i}return S(n,t),n.prototype.Ed=function(){return new oW(this.mmt.Sd)},n}(Bw),aW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(Rs),cW=function(t){function n(n){var i;return(i=t.call(this,"kmt")||this).task=n,i}return S(n,t),n.prototype.Ed=function(){return new aW(this.task.Sd)},n}(Bw),fW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.lmt=function(t){this.Ur(new hW(t))},i.ymt=function(t){this.Ur(new cW(t))},n}(sW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(uW||(uW={}));var vW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).bmt=uW.UNINITIALISED,r.mB=new fW,r.b7=void 0,r.Amt=void 0,r.Tmt=void 0,r.Tmt=i,r.Amt=e,r.b7=n,r.K_(),r}S(n,t);var i=n.prototype;return i.K_=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.Smt());case 2:this.Emt(uW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,ge)},i.Smt=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tr.awrap(this.Imt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],ge)},i.Imt=function(){var t,n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(this.b7.D0());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.Tmt.Rmt(i.id,i.sourceDescription,i.parameters,this.Amt),this.Nmt(e),this.mB.Rw(e);case 4:case"end":return r.stop()}},null,this,null,ge)},i.Emt=function(t){this.bmt=t,this.Ur(new eW)},i.Rmt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Tmt.Dmt(t,n,i);return this.Cmt(e,i),this.mB.Rw(e),this.Nmt(e),e},i.Cmt=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr.awrap(this.xmt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],ge)},i.xmt=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.b7.I0({key:t.ll,id:t.ll,sourceDescription:t.qE,parameters:t.dh},n));case 2:case"end":return i.stop()}},null,this,null,ge)},i.Nmt=function(t){var n=this;t.Fr("fmt",function(){t.Nf===nW.EVICTED&&n.mB.Yo(t)})},A(n,[{key:"Nf",get:function(){return this.bmt}},{key:"Pmt",get:function(){return this.mB}}]),n}(Es);function dW(t,n){return function(t,n){var i=t.mg&&n.mg,e=t.Jp&&n.Jp;return i||e?i&&e?t.mg*t.Jp-n.mg*n.Jp:i?t.mg-n.mg:e?t.Jp-n.Jp:(t.mg||1)*(t.Jp||1)-(n.mg||1)*(n.Jp||1):0}(t,n)||function(t,n){return t.yS-n.yS}(t,n)}var lW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(Rs),_W=function(t){function n(){return t.call(this,"$K")||this}return S(n,t),n.prototype.Ed=function(){return new lW},n}(Bw),wW=function(){function t(t,n,i){if(this.Omt=void 0,this.Bmt=t,this.Iw=n,this.Lmt=i,0===this.Iw.size)this.Omt=eS.QI();else{var e=new eS([-1/0,1/0]);this.Iw.forEach(function(t){e=e.bI(t.timeRanges)}),this.Omt=e}}return t.prototype.cg=function(t){return!!$w(this.Iw,t.Iw)&&(!!_t(this.Bmt,t.Bmt)&&(!!_t(this.WI,t.WI)&&(!!_t(this.Mmt,t.Mmt)&&this.Umt.MI(t.Umt))))},t.Fmt=function(){return yW},A(t,[{key:"WI",get:function(){return this.Lmt}},{key:"Hmt",get:function(){return this.Bmt}},{key:"Mmt",get:function(){return this.Umt.WI}},{key:"zmt",get:function(){var t=0,n=0;return this.Iw.forEach(function(i){t+=i.timeRanges.WI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"Umt",get:function(){return this.Omt}}]),t}(),gW=er(),yW=new wW(0,gW,NaN);function mW(t,n){if(X(t)){if(Nr(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var pW,kW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Vmt"}}]),n}(Et);function bW(t,n,i,e){var r=[],s=$r(i,function(t){return t.Wmt===vr});if(void 0!==s){var u=s.qn?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.qn.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.Wmt!==vr)for(var a=0,c=Ir(h.Wmt);a<c.length;a++){var f=c[a];r.push({ih:f,AS:h.Xmt?[h.Xmt]:[],VT:void 0})}}if(r.length)return{xA:t,qmt:{Gmt:u,PA:s.PA},Qmt:r,Ymt:n===Fy.Zf?e.slice():[],jmt:n===Fy.Jf?e.slice():[],Zz:!1}}}}function AW(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=er();return TW(e,r,t.Qmt),TW(e,r,n.Qmt),{xA:t.xA,qmt:{Gmt:t.qmt.Gmt,PA:null!=(i=t.qmt.PA)?i:n.qmt.PA},Qmt:e,Ymt:SW(t.Ymt,n.Ymt,is),jmt:SW(t.jmt,n.jmt,is),Zz:t.Zz||n.Zz||!1}}function TW(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ih.rr,u=void 0;n.has(s)?(u=n.get(s)).AS=SW(u.AS,r.AS,EW):(u=nr({},r),t.push(u),n.set(s,u))}}function SW(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function EW(t,n){for(var i=0;i<t.length;i++){if(Ys(t[i],n))return!0}return!1}function IW(t,n){var i,e=t.Zmt;if(e){for(var r=t.ND,s=[],u=0,o=t.u$;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=bW(n||{},t.tr,e,s)}for(var a=0,c=t.Jmt;a<c.length;a++){i=AW(i,RW(c[a],n))}return i}function RW(t,n){return bW(n||{},t.tr,t.Zmt||[],[t.gf])}function NW(t,n,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.$mt;r<s.length;r++)u=s[r],e.push(DW(u,n,i));return h.next=4,tr.awrap(ge.all(e));case 4:return o=h.sent,h.abrupt("return",{v_:t.tpt.Kmt(),npt:[t.ipt],$mt:o});case 6:case"end":return h.stop()}},null,null,null,ge)}function DW(t,n,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.ept;r<s.length;r++)u=s[r],e.push(CW(u,n,i));return h.next=4,tr.awrap(ge.all(e));case 4:return o=h.sent,h.abrupt("return",{rpt:o});case 6:case"end":return h.stop()}},null,null,null,ge)}function CW(t,n,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.spt;r<s.length;r++)xW(u=s[r])||e.push(BW(u,n,i));return h.next=4,tr.awrap(ge.all(e));case 4:return o=h.sent,h.abrupt("return",{Bp:o,tr:t.tr});case 6:case"end":return h.stop()}},null,null,null,ge)}function xW(t){return t.Jmt.every(OW)}!function(t){t[t.Gl=0]="Gl",t[t.Ql=1]="Ql"}(pW||(pW={}));var PW=1;function OW(t){return t.upt!==PW&&Boolean(t.upt)}function BW(t,n,i){var e,r,s,u,o,h,a,c,f;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.Jmt;r<s.length;r++)OW(u=s[r])||e.push(MW(u,i));return v.next=4,tr.awrap(ge.all(e));case 4:return o=v.sent,h=t.u$[0],a=t.Zmt,c=a?LW(h,a):void 0,f=IW(t,n),v.abrupt("return",{ml:o,yl:t.hpt,tr:t.tr,fE:c,apt:f});case 10:case"end":return v.stop()}},null,null,null,ge)}function LW(t,n){for(var i=[],e=function(t){return t?Nr(t,"avc")?Ta.VIDEO_H264:Nr(t,"hev")||Nr(t,"hvc")||Nr(t,"hvt")||Nr(t,"lhv")||Nr(t,"lhe")||Nr(t,"lht")?Ta.VIDEO_H265:Nr(t,"mp4")?Ta.VIDEO_MP4:Nr(t,"mpeg2")?Ta.VIDEO_MPEG2:Nr(t,"mpeg")?Ta.VIDEO_MPEG:Ta.VIDEO_UNKNOWN:Ta.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.Wmt.split(":").pop(),o=s.Xmt;i.push({mimeType:e,uuid:u,data:o})}return{type:pW.Gl,schemeType:dr,schemeDatas:i}}function MW(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,tr.awrap(UW(t,n));case 2:r=u.sent,s={ll:HW(t),Fb:r,G9:t.Z9,yS:t.yS,he:t.he,Jp:t.Jp,tr:t.tr,mg:t.mg},u.t0=t.tr,u.next=u.t0===Fy.Pn?7:u.t0===Fy.Jf?8:u.t0===Fy.Zf?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.xK=null!=(i=null==(e=t.xK)?void 0:e.kg())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.xwt,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,ge)}function UW(t,n){var i,e,r,s,u,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.cpt,r=e.fpt(),s=r;case 4:if(!s){c.next=16;break}if(!t.vpt(s)){c.next=12;break}return c.next=8,tr.awrap(t.dpt(s,n,(new as).Pr));case 8:for(u=c.sent,o=0;o<u.il;o++)i.push(FW(u.lpt(o),t));c.next=13;break;case 12:i.push(FW(s,t));case 13:s=e.ylt(s),c.next=4;break;case 16:return h=e._pt(),a=h.Qw-r.Gw,c.abrupt("return",{v_:a,L0:i});case 19:case"end":return c.stop()}},null,null,null,ge)}function FW(t,n){return{Gw:t.Gw,v_:t.v_,wpt:n.gpt(t)}}function HW(t){return t.ypt.aI+"-"+(""+t.ll)}function zW(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=VW(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={tr:e.type,Xp:[]}),n[e["group-id"]].Xp.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.Xp;s<u.length;s++){var o=u[s];i[r.tr]||(i[r.tr]={}),i[r.tr][o.name]||(i[r.tr][o.name]=[]),i[r.tr][o.name].push(o)}return i}(t),n)}function VW(t,n,i){for(var e=t["group-id"],r={AJ:t,uK:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.uK.push(u)}return r}var WW,XW="und";function qW(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(n.y7([t],{}));case 2:return i=r.sent,e=new tU,r.abrupt("return",e.kp(i.h7,i.Bf,aU(i.Bf)));case 5:case"end":return r.stop()}},null,null,null,ge)}function GW(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isMasterPlaylist){i.next=4;break}return i.abrupt("return",QW(t,n));case 4:return i.abrupt("return",(r=void 0,r=iX(e=t),{v_:e.duration,npt:[e.uri],$mt:[{rpt:[{tr:Fy.Uf,Bp:[{tr:Fy.Uf,yl:XW,ml:[{ll:e.uri,Fb:r,yS:0,he:"",Jp:0,tr:Fy.Uf,mg:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,ge)}function QW(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=zW(t.media,t.streams),s.next=3,tr.awrap(ZW(i,n));case 3:return e=s.sent,s.next=6,tr.awrap(jW(t.streams,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{v_:YW(e),npt:[t.uri],$mt:[{rpt:e}]});case 9:case"end":return s.stop()}},null,null,null,ge)}function YW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].Bp;e<r.length;e++){var s=r[e];n=_.max.apply(_,[n].concat(s.ml.map(function(t){return t.Fb.v_})))}return n}function jW(t,n){var i,e,r,s,u,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return h=t[e],c.next=6,tr.awrap(nX(h.uri,n));case 6:(a=c.sent).yS=h.bandwidth,a.he=h.codecs,a.Jp=null!=(r=null==(s=h.resolution)?void 0:s.height)?r:0,a.mg=null!=(u=null==(o=h.resolution)?void 0:o.width)?u:0,i.push(a);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{tr:Fy.Uf,Bp:[{yl:XW,tr:Fy.Uf,ml:i}]});case 16:case"end":return c.stop()}},null,null,null,ge)}function ZW(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],u.t0=tr.keys(t);case 2:if((u.t1=u.t0()).done){u.next=11;break}return e=u.t1.value,r=t[e],u.next=7,tr.awrap(JW(r,e,n));case 7:s=u.sent,i.push(s),u.next=2;break;case 11:return u.abrupt("return",i);case 12:case"end":return u.stop()}},null,null,null,ge)}function JW(t,n,i){var e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=tr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,tr.awrap($W(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{tr:KW(n),Bp:e});case 12:case"end":return o.stop()}},null,null,null,ge)}function $W(t,n){var i,e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].AJ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,tr.awrap(tX(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{yl:e.language||XW,tr:KW(e.type),ml:i});case 13:case"end":return o.stop()}},null,null,null,ge)}function KW(t){switch(t.toUpperCase()){case"AUDIO":return Fy.Zf;case"VIDEO":return Fy.Jf;case"SUBTITLES":case"CLOSED-CAPTIONS":return Fy.Pn;default:return Fy.Uf}}function tX(t,n){var i,e,r;return nX((e=(i=t).AJ.uri,r=i.uK.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function nX(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,tr.awrap(qW(t,n));case 3:e=r.sent,i=iX(e),r.next=8;break;case 7:i={v_:0,L0:[]};case 8:return r.abrupt("return",{ll:t||"default",mpt:t,Fb:i,yS:0,he:"",Jp:0,tr:Fy.Uf,mg:0});case 9:case"end":return r.stop()}},null,null,null,ge)}function iX(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(eX(r))}return{v_:t.duration,L0:n}}function eX(t){return{Gw:t.start,v_:t.duration,wpt:rX(t.uri)}}function rX(t){return lO(t)?{Lf:t.SZ,EZ:[t.EZ.aI,t.EZ.fI],rv:!1}:{Lf:t.toString(),rv:!1}}!function(t){t.lA="static",t._A="dynamic"}(WW||(WW={}));var sX,uX=31536e3,oX=2592e3,hX=86400,aX=3600,cX=60,fX=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,vX=function(){function t(t){this.ppt=void 0;var n=t.match(fX);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.ppt=i*uX+e*oX+r*hX+s*aX+u*cX+o}var n=t.prototype;return n.Kmt=function(){return this.ppt},n.kpt=function(){return 1e3*this.ppt},A(t,[{key:"U2",get:function(){return Fm.Ry(this.ppt,1e3)}}]),t}();!function(t){t.bpt="progressive",t.Apt="interlaced",t.Uf="unknown"}(sX||(sX={}));var dX=function(){function t(t,n){this.Tpt=t,this.Spt=n}return t.prototype.kg=function(){return this.Tpt/this.Spt},t}(),lX=/^(?:true|false)$/i,_X=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function wX(t){if(void 0!==t)return new vX(t)}function gX(t){if(void 0!==t){var n=t.match(_X);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),w=Number(r)-1,g=Number(s),m=Number(u),p=Number(o),k=Number(h),b=Number("0."+(a||"")),A=_.round(1e3*b);if(c)p-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,w,g,m,p,k,A));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function yX(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[pX(n[1]),pX(n[2])]}}function mX(t){if(void 0!==t){if(!y(Number(t)))try{return at.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function pX(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function kX(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!y(i)&&!y(e))return new dX(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function bX(t){if(void 0!==t){if(lX.test(t))return"true"===t.toLowerCase();if(!y(w(t)))return Boolean(w(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function AX(t){return{Lf:t.hi,Ept:bX(t.ni("availabilityTimeComplete")),Ipt:pX(t.ni("availabilityTimeOffset"))}}function TX(t){return t.map(AX)}function SX(t){var n,i,e,r,s,u,o=LX(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).ii(e,i))&&(s=n.ni(r+":"+i)),s),a=Kp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Js(a.hi)),!u){var c=Kp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Ws(t.hi),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new m(s),o=new DataView(s),h=new Yu;pu(o,h,r),pu(o,h,1886614376),pu(o,h,0),lu(o,h,i),pu(o,h,e),lu(o,h,n),0;return u.buffer}(c))}return{PA:h,Xmt:u,Wmt:o.Wmt,qn:o.qn}}function EX(t){return{Rpt:t.ni("sourceURL"),EZ:yX(t.ni("range"))}}function IX(t,n){var i=t.ni("d"),e=t.ni("t"),r=pX(t.ni("r"));n.push({v_:i,Gw:e,Npt:r})}function RX(t){return{z5:t.ni("index"),Dpt:yX(t.ni("indexRange")),Xp:t.ni("media"),Cpt:yX(t.ni("mediaRange"))}}function NX(t){var n,i;return nr({},xX(t),{xpt:(n=t.Yn("SegmentURL"),(i=n.map(RX)).length>0?i:void 0),Ppt:t.ni("xlink:href"),Opt:t.ni("xlink:actuate")})}function DX(t){var n=t.map(NX);return n.length>0?n:void 0}function CX(t){var n=bX(t.ni("availabilityTimeComplete")),i=pX(t.ni("availabilityTimeOffset")),e=yX(t.ni("indexRange")),r=bX(t.ni("indexRangeExact")),s=t.Yn("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one Initialization element.");var u=1===s.length?EX(s[0]):void 0,o=mX(t.ni("presentationTimeOffset")),h=t.Yn("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one RepresentationIndex element.");return{Ept:n,Ipt:i,Dpt:e,Bpt:r,Lpt:u,Mpt:o,Upt:1===h.length?EX(h[0]):void 0,Fpt:wX(t.ni("timeShiftBufferDepth")),gy:pX(t.ni("timescale"))}}function xX(t){var n=CX(t),i=t.Yn("BitstreamSwitching"),e=i.length>0?EX(i[0]):void 0,r=pX(t.ni("duration")),s=t.Yn("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one SegmentTimeline element.");return nr({},n,{Hpt:e,v_:r,cpt:1===s.length?function(t){for(var n=[],i=t.Yn("S"),e=0;e<i.length;e++)IX(i[e],n);return n}(s[0]):void 0,zpt:pX(t.ni("startNumber")),Vpt:pX(t.ni("endNumber"))})}function PX(t){return nr({},xX(t),{Wpt:t.ni("bitstreamSwitching"),Xpt:t.ni("index"),qpt:t.ni("initialization"),Gpt:t.ni("media")})}function OX(t){return{xwt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(pX)):1===n.length?n.map(pX)[0]:void 0}}(t.ni("audioSamplingRate")),u$:t.ni("codecs"),Qpt:bX(t.ni("codingDependency")),Zmt:function(t){if(0!==t.length)return t.map(SX)}(t.Yn("ContentProtection")),Ypt:t.Yn("EssentialProperty").map(MX),xK:kX(t.ni("frameRate")),Jp:pX(t.ni("height")),upt:pX(t.ni("maxPlayoutRate")),jpt:pX(t.ni("maximumSAPPeriod")),ND:t.ni("mimeType"),Zpt:t.ni("profiles"),Jpt:t.ni("sar"),$pt:function(t){switch(t){case sX.bpt:case sX.Apt:case sX.Uf:return t;default:return}}(t.ni("scanType")),Kpt:t.ni("segmentProfiles"),tkt:pX(t.ni("startWithSAP")),mg:pX(t.ni("width"))}}function BX(t){var n=OX(t),i=pX(t.ni("bandwidth")),e=TX(t.Yn("BaseURL")),r=t.ni("dependencyId"),s=t.ni("id"),u=t.ni("mediaStreamStructureId"),o=pX(t.ni("qualityRanking")),h=t.Yn("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?CX(h[0]):void 0,c=DX(t.Yn("SegmentList")),f=t.Yn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return nr({},n,{yS:i,nkt:e,ikt:r,ll:s,ekt:u,rkt:o,skt:a,ukt:c,okt:1===f.length?PX(f[0]):void 0})}function LX(t){return{Wmt:t.ni("schemeIdUri"),qn:t.ni("value")}}function MX(t){return LX(t)}function UX(t){return LX(t)}function FX(t){return LX(t)}function HX(t){var n,i=OX(t),e=function(t){return t.map(FX)}(t.Yn("Accessibility")),r=TX(t.Yn("BaseURL")),s=bX(t.ni("bitstreamSwitching")),u=t.ni("contentType"),o=pX(t.ni("group")),h=pX(t.ni("id")),a=(null==(n=t.Yn("Label")[0])?void 0:n.hi)||"",c=t.ni("lang"),f=pX(t.ni("maxBandwidth")),d=kX(t.ni("maxFrameRate")),l=pX(t.ni("maxHeight")),_=pX(t.ni("maxWidth")),w=pX(t.ni("minBandwidth")),g=kX(t.ni("minFrameRate")),y=pX(t.ni("minHeight")),m=pX(t.ni("minWidth")),p=t.ni("par"),k=t.Yn("Representation").map(BX);if(0===k.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(UX)}(t.Yn("Role")),A=bX(t.ni("segmentAlignment"))||!1,T=t.Yn("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?CX(T[0]):void 0,E=DX(t.Yn("SegmentList")),I=t.Yn("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R=1===I.length?PX(I[0]):void 0,N=pX(t.ni("selectionPriority"));return nr({},i,{hkt:e,nkt:r,Hpt:s,gf:u,akt:o,ll:h,gl:a,yl:c,ckt:f,fkt:d,vkt:l,dkt:_,lkt:w,_kt:g,wkt:y,gkt:m,ykt:p,Jmt:k,mkt:b,pkt:A,skt:S,ukt:E,okt:R,xE:N||1,kkt:bX(t.ni("subsegmentAlignment"))||!1,bkt:pX(t.ni("subsegmentStartsWithSAP")),Akt:t.ni("xlink:actuate")||"onRequest",Tkt:t.ni("xlink:href")})}function zX(t){var n=mX(t.ni("presentationTime"))||at.ZERO,i=mX(t.ni("duration")),e=pX(t.ni("id")),r=function(t){for(var n=t.oi,i={},e=0;e<n.length;e++)i[n[e].Vn]=n[e].qn;return i}(t),s=t.hi;return{kb:n,v_:i,ll:e,oi:r,ai:""!==s.trim()?s:t.ni("messageData")||""}}function VX(t){return{Tkt:t.ni("xlink:href"),Akt:t.ni("xlink:actuate"),Wmt:t.ni("schemeIdUri"),qn:t.ni("value"),gy:pX(t.ni("timescale")),Mpt:mX(t.ni("presentationTimeOffset")),DD:t.Yn("Event").map(zX)}}function WX(t,n){var i=t.Yn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?LX(i[0]):void 0,r=t.Yn("AdaptationSet").map(HX),s=TX(t.Yn("BaseURL")),u=bX(t.ni("bitstreamSwitching")),o=wX(t.ni("duration")),h=t.Yn("EventStream").map(VX),a=t.ni("id"),c=n&&wX(n.ni("start")),f=t.Yn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?CX(f[0]):void 0,l=DX(t.Yn("SegmentBase")),_=t.Yn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var w=1===_.length?PX(_[0]):void 0,g=wX(t.ni("start")),y=(t.Yn("Subset"),t.ni("xlink:href"));return{spt:r,Skt:e,nkt:s,Hpt:u,v_:o,Ekt:h,ll:a,Ikt:c,skt:d,ukt:l,okt:w,aI:g,Akt:t.ni("xlink:actuate"),Tkt:y}}function XX(t){var n=t.ni("schemeIdUri");if(n)return{Wmt:n,qn:t.ni("value")}}function qX(t,n){var i=gX(t.ni("availabilityEndTime")),e=gX(t.ni("availabilityStartTime")),r=TX(t.Yn("BaseURL")),s=t.ni("id"),u=t.Yn("Location").map(function(t){return""+t.hi}),o=wX(t.ni("maxSegmentDuration")),h=wX(t.ni("maxSubsegmentDuration")),a=wX(t.ni("mediaPresentationDuration")),c=(t.Yn("Metrics"),wX(t.ni("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=wX(t.ni("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(WX(t[i],t[i+1]));return n}(t.Yn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.ni("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Rkt:i,Nkt:e,nkt:r,ll:s,Dkt:u,Ckt:n,xkt:o,Pkt:h,tpt:a,Okt:c,Bkt:f,$mt:d,Zpt:l,Lkt:gX(t.ni("publishTime")),Mkt:wX(t.ni("suggestedPresentationDelay")),Fpt:wX(t.ni("timeShiftBufferDepth")),tr:function(t){switch(t){case WW.lA:case WW._A:return t;default:return}}(t.ni("type")),Ukt:function(t){for(var n=[],i=0;i<t.length;i++){var e=XX(t[i]);e&&n.push(e)}return n}(t.Yn("UTCTiming"))}}var GX,QX=function(){function t(){}return t.prototype.jgt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return qX(t,n)}(i.Mn(t).ci,n)},t}(),YX=0,jX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this)._l=void 0,u.Cw=void 0,u.Fkt=void 0,u.ll=n,u.yS=i,u.u$=e,u.SZ=s,u._l=YX++,u.Cw=r||"",u.Fkt=!0,u}return S(n,t),n.prototype.Jb=function(){this.Fkt=!1,this.Ur(new kz(this.Sd))},A(n,[{key:"gl",get:function(){return this.Cw},set:function(t){this.Cw!==t&&(this.Cw=t,this.Ur(new kz(this.Sd)))}},{key:"h$",get:function(){}},{key:"JY",get:function(){return this.Fkt}}]),n}(Es),ZX=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).Td=void 0,c.xK=u,c.mg=o,c.Jp=h,c.Cwt=a,c}return S(n,t),A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=bz(this)),this.Td}}]),n}(jX),JX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Td=void 0,o.xwt=u,o}return S(n,t),A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=Az(this)),this.Td}}]),n}(jX);!function(t){t.Hkt="zkt",t.Vkt="Wkt"}(GX||(GX={}));var $X=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Xkt=function(t){n.Ur(t)},n}return S(n,t),A(n,[{key:"qkt",get:function(){var t=this.Gkt();return null==t?void 0:t.aI}},{key:"Qkt",get:function(){var t=this.Gkt();return null==t?void 0:t.fI}}]),n}(Es);function KX(t){return Y(t.Ykt)}var tq=function(t){function n(n,i){var e;if((e=t.call(this)||this).jkt=void 0,e.Td=void 0,e.Zkt=void 0,e.Jkt=void 0,e.$kt=void 0,e.jkt=n,e.Zkt=i,e.Zkt.Fr(GX.Hkt,e.Xkt),e.tr===Fy.Jf){var r,s,u=null!=(r=null==(s=e.xK)?void 0:s.kg())?r:NaN;e.Jkt=new ZX(e.ll,e.yS,e.he,"","",u,e.mg,e.Jp)}else e.tr===Fy.Zf?e.Jkt=new JX(e.ll,e.yS,e.he,"","",e.xwt):e.Jkt=void 0;return e}S(n,t);var i=n.prototype;return i.gpt=function(t){var n=KX(t)?this.Zkt.Kkt(t):this.Zkt.gpt(t);return{Lf:n.Lf,EZ:n.EZ,rv:this.tbt.rv}},i.nbt=function(){return this.Zkt.nbt()},i.Gkt=function(){return this.Zkt.Gkt()},i.ibt=function(){return this.Zkt.ibt()},i.vpt=function(t){return this.Zkt.vpt(t)},i.dpt=function(t,n,i){return this.Zkt.dpt(t,this.tbt.rv,n,i)},i.ebt=function(t){return KX(t)?this.cpt.rbt(t):this.cpt.ebt(t)},i.R8=function(t){return KX(t)?this.cpt.sbt(t):this.cpt.R8(t)},i.ov=function(){this.Zkt.Wr(GX.Hkt,this.Xkt)},A(n,[{key:"ubt",get:function(){return this.jkt}},{key:"xwt",get:function(){var t;return null!=(t=this.Zkt.ai.xwt)?t:this.ubt.xwt}},{key:"yS",get:function(){return this.Zkt.ai.yS||0}},{key:"u$",get:function(){var t=this.Zkt.ai;return t.u$?[t.u$]:this.ubt.u$}},{key:"obt",get:function(){var t=this.Zkt.ai;return t.u$?[t.u$]:[]}},{key:"he",get:function(){return this.Zkt.ai.u$||this.ubt.he}},{key:"Qpt",get:function(){return this.Zkt.ai.Qpt||this.ubt.Qpt}},{key:"Zmt",get:function(){return this.Zkt.ai.Zmt||this.ubt.Zmt}},{key:"gf",get:function(){return this.ND+'; codecs="'+this.he+'"'}},{key:"Ypt",get:function(){var t=this.Zkt.ai;return t.Ypt.length?t.Ypt:this.ubt.Ypt}},{key:"Sd",get:function(){return this.Td||(this.Td=(t=this,{get id(){return t.ll},get type(){return t.tr},get bandwidth(){return t.yS},get width(){return t.mg},get height(){return t.Jp},get frameRate(){var n,i;return null!=(n=null==(i=t.xK)?void 0:i.kg())?n:NaN},get audioSamplingRate(){return t.xwt}}));var t}},{key:"xK",get:function(){var t;return null!=(t=this.Zkt.ai.xK)?t:this.ubt.xK}},{key:"Jp",get:function(){return this.Zkt.ai.Jp||this.ubt.Jp}},{key:"ll",get:function(){return this.Zkt.ai.ll||""}},{key:"A6",get:function(){return this.$kt},set:function(t){this.$kt=t}},{key:"Z9",get:function(){var t=this.Zkt.hbt();if(t)return{Lf:t.Lf,EZ:t.EZ,rv:this.tbt.rv}}},{key:"upt",get:function(){return this.Zkt.ai.upt||this.ubt.upt||1}},{key:"jpt",get:function(){return this.Zkt.ai.jpt||this.ubt.jpt}},{key:"tbt",get:function(){return this.ypt.tbt}},{key:"ND",get:function(){return this.Zkt.ai.ND||this.ubt.ND}},{key:"ypt",get:function(){return this.ubt.ypt}},{key:"Zpt",get:function(){return this.Zkt.ai.Zpt||this.ubt.Zpt}},{key:"Rwt",get:function(){return this.Jkt}},{key:"Jpt",get:function(){return this.Zkt.ai.Jpt||this.ubt.Jpt}},{key:"$pt",get:function(){return this.Zkt.ai.$pt||this.ubt.$pt}},{key:"abt",get:function(){return this.Zkt.abt}},{key:"Kpt",get:function(){return this.Zkt.ai.Kpt||this.ubt.Kpt}},{key:"cpt",get:function(){return this.Zkt.cpt}},{key:"tkt",get:function(){return this.Zkt.ai.tkt||this.ubt.tkt}},{key:"tr",get:function(){var t=this.ND.split("/")[0];return"application"===t||"text"===t||Ik(this.ND,this.u$)?Fy.Pn:"video"===t?Fy.Jf:"audio"===t?Fy.Zf:"image"===t?Fy.$f:Fy.Uf}},{key:"mg",get:function(){return this.Zkt.ai.mg||this.ubt.mg}}]),n}($X),nq=function(t){function n(n,i){var e;return(e=t.call(this)||this).cbt=[],e.Zkt=void 0,e.fbt=void 0,e.vbt=[],e.fbt=n,e.Zkt=i,e.Zkt.Fr(GX.Hkt,e.Xkt),e}S(n,t);var i=n.prototype;return i.jo=function(t,n){var i,e=this;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.vbt.length){r.next=6;break}return this.vbt=[],i=this.Zkt.Jmt.map(function(i){return e.dbt(i,t,n)}),r.next=5,tr.awrap(ge.all(i));case 5:this.vbt=r.sent.filter(F);case 6:this.lbt();case 7:case"end":return r.stop()}},null,this,null,ge)},i.dbt=function(t,n,i){var e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new tq(this,t),s.next=3,tr.awrap(n(e));case 3:if(r=s.sent,vs(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,ge)},i.lbt=function(){if(!this.vbt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Gkt=function(){return this.Zkt.Gkt()},i.ibt=function(){return this.Zkt.ibt()},i.ov=function(){this.Zkt.Wr(GX.Hkt,this.Xkt);for(var t=0,n=this.vbt;t<n.length;t++){n[t].ov()}es(this.vbt)},A(n,[{key:"hkt",get:function(){return this.Zkt.ai.hkt}},{key:"xwt",get:function(){var t;return null!=(t=this.Zkt.ai.xwt)?t:-1}},{key:"u$",get:function(){if(this.Zkt.ai.u$)return[this.Zkt.ai.u$];for(var t=[],n=0,i=this.Jmt;n<i.length;n++){var e=i[n];e.obt.length&&-1===t.indexOf(e.he)&&t.push(e.he)}return t}},{key:"he",get:function(){return this.u$.join()}},{key:"Qpt",get:function(){return this.Zkt.ai.Qpt}},{key:"Zmt",get:function(){return this.Zkt.ai.Zmt}},{key:"gf",get:function(){return this.ND+'; codecs="'+this.he+'"'}},{key:"Ypt",get:function(){return this.cbt}},{key:"xK",get:function(){return this.Zkt.ai.xK}},{key:"akt",get:function(){return this.Zkt.ai.akt}},{key:"Jp",get:function(){return this.Zkt.ai.Jp||0}},{key:"ll",get:function(){return this.Zkt.ai.ll}},{key:"gl",get:function(){return this.Zkt.ai.gl||""}},{key:"upt",get:function(){return this.Zkt.ai.upt}},{key:"jpt",get:function(){return this.Zkt.ai.jpt}},{key:"tbt",get:function(){return this.ypt.tbt}},{key:"ND",get:function(){return this.Zkt.ai.ND||this.vbt[0].ND}},{key:"ypt",get:function(){return this.fbt}},{key:"Zpt",get:function(){return this.Zkt.ai.Zpt}},{key:"Jmt",get:function(){return this.vbt}},{key:"mkt",get:function(){return this.Zkt.ai.mkt||[]}},{key:"Jpt",get:function(){return this.Zkt.ai.Jpt}},{key:"$pt",get:function(){return this.Zkt.ai.$pt}},{key:"Kpt",get:function(){return this.Zkt.ai.Kpt}},{key:"xE",get:function(){return this.Zkt.ai.xE}},{key:"tkt",get:function(){return this.Zkt.ai.tkt}},{key:"tr",get:function(){var t=(this.Zkt.ai.gf||this.ND).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Ik(this.ND,this.u$)?Fy.Pn:"video"===t?Fy.Jf:"audio"===t?Fy.Zf:"image"===t?Fy.$f:Fy.Uf}},{key:"mg",get:function(){return this.Zkt.ai.mg||0}},{key:"hpt",get:function(){return this.Zkt.ai.yl||""}},{key:"_bt",get:function(){return this.qkt}},{key:"wbt",get:function(){var t=this._bt,n=this.Qkt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.tbt.gbt);return _.max(t,i)}}}]),n}($X);function iq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.De(o,s))}return e}var eq=function(){function t(t,n){this.fbt=void 0,this.ybt=void 0,this.ku=void 0,this.mbt=void 0,this.pbt=void 0,this.fbt=t,this.ybt=n,this.ku=n.gy,this.mbt=n.Ipt,this.pbt=n.Mpt}var n=t.prototype;return n.kbt=function(t){var n=t-this.fbt.aI;if(!(n<0||n>=this.fbt.v_)){var i=this.bbt();return void 0!==i&&vt(i,n,1e-5)?this.fpt():this.Abt(n)}},n.Tbt=function(t){var n=t-this.fbt.aI;if(!(n<0))return this.Sbt(_.min(n,this.fbt.v_))},n.fpt=function(){return this.Ebt(0)},n._pt=function(){var t=this.fbt.v_;if(isFinite(t))return this.Sbt(t)},n.nbt=function(t){if(this.fbt.Ibt.tr===WW._A){var n=this.Rbt(t);if(!n)return;return{Nbt:t,Dbt:this.Cbt(t),xbt:n}}var i=this.fpt();if(i)return{Nbt:t,Dbt:i,xbt:this._pt()}},n.ibt=function(t,n){if(n){var i=this.Pbt(n.Dbt),e=this.ylt(n.xbt);if(e){var r=this.Obt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.fpt();if(s){var u=this.Obt(s);if(t.getTime()<u.getTime())return u}var o=this.fbt.Ibt.Nkt;return t.getTime()<o.getTime()?o:void 0},n.Rbt=function(t){var n=(t.getTime()-this.fbt.Ibt.Nkt.getTime())/1e3-this.fbt.aI+this.mbt,i=this.Sbt(ft(n,0,this.fbt.v_));if(i&&(i=this.Bbt(i,t))){for(var e=this.ylt(i);e&&this.Lbt(e,t);)i=e,e=this.ylt(i);return i}},n.Cbt=function(t){var n,i=this.ybt.Fpt;if(i){var e=(t.getTime()-this.fbt.Ibt.Nkt.getTime())/1e3-this.fbt.aI-i.Kmt();(n=this.Sbt(ft(e,0,this.fbt.v_)))||(n=this.fpt())}else n=this.fpt();if(n&&(n=this.Bbt(n,t))){for(var r=this.Mbt(n);r&&this.Lbt(r,t);)n=r,r=this.Mbt(n);return n}},n.Bbt=function(t,n){for(var i=t;i&&this.Obt(i).getTime()>n.getTime();)i=this.Mbt(i);if(i){var e=this.Pbt(i);if(e&&e.getTime()<=n.getTime()){var r=this.Mbt(i);for(r&&this.Lbt(r,n)&&(i=r);i;){if(this.Obt(i).getTime()>n.getTime())return;if(this.Lbt(i,n))break;i=this.ylt(i)}if(!i)return}return i}},n.Lbt=function(t,n){if(this.Obt(t).getTime()>n.getTime())return!1;var i=this.Pbt(t);return!(i&&n.getTime()>=i.getTime())},n.Ubt=function(t,n){if(this.Fbt(t).getTime()>n.getTime())return!1;var i=this.Pbt(t);return!(i&&n.getTime()>=i.getTime())},n.Hbt=function(t,n,i){var e=kt(n,this.ku)+this.fbt.aI;return{z5:t,zbt:n,Gw:e,v_:i,Qw:e+i}},n.Fbt=function(t){return this.fbt.Ibt.tr===WW._A?new Date(this.fbt.Ibt.Nkt.getTime()+1e3*(t.Gw+t.v_)):this.fbt.Ibt.Nkt},n.Obt=function(t){var n=this.Fbt(t);return this.fbt.Ibt.tr===WW._A?new Date(n.getTime()-1e3*this.mbt):n},n.Pbt=function(t){var n=1/0;if(this.fbt.Ibt.tr===WW._A){var i=this.ybt.Fpt;i&&(n=this.Fbt(t).getTime()+1e3*t.v_+i.kpt())}var e=this.fbt.Ibt.Rkt;return e&&(n=_.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Vbt=function(t,n){return t.z5+n},n.vpt=function(t){return!1},n.dpt=function(t,n,i,e,r){var s=this.Wbt(t);if(!s)return ge.reject(new v("Invalid segment"));var u=this.Xbt(s.z5);return u?ge.resolve(u):this.qbt(s.z5,n,i,e,r)},n.Xbt=function(t){},n.qbt=function(t,n,i,e,r){return ge.reject(new v("Not supported"))},n.Mbt=function(t){var n=this.Wbt(t);if(n)return this.Ebt(n.z5-1)},n.ylt=function(t){var n=this.Wbt(t);if(n)return this.Ebt(n.z5+1)},n.Wbt=function(t){var n=this.Ebt(t.z5);if(n&&n.Gw===t.Gw)return n;var i=this.kbt(t.Gw);return i&&i.Gw===t.Gw?i:void 0},n.Gbt=function(t){var n=this.Qbt(t);if(n&&this.vpt(n.z5)){var i=this.Xbt(n.z5);if(i)return i.Gbt(t)}},n.Qbt=function(t){return this.Ebt(t.Ybt)},n.ebt=function(t){var n=this.Wbt(t);return!!n&&0===n.z5},n.rbt=function(t){var n=this.Gbt(t);return!!n&&0===n.Ykt},n.R8=function(t){var n=this.Wbt(t);if(!n)return!1;var i=this._pt();return!!i&&n.z5===i.z5},n.sbt=function(t){var n=this.Gbt(t);if(!n)return!1;var i=this._pt();if(!i||n.Ybt!==i.z5)return!1;var e=this.Xbt(n.Ybt);return n.Ykt+1===e.il},A(t,[{key:"Yy",get:function(){return kt(this.pbt,this.ku)-this.fbt.aI}},{key:"Mpt",get:function(){return kt(this.pbt,this.ku)}}]),t}(),rq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).jbt=void 0,e.Zbt=void 0;var r=n.Jbt,s=n.v_;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Zbt=r,e.jbt=s,e}S(n,t);var i=n.prototype;return i.Ebt=function(t){if(!(t<0)){var n=this.Zbt.multiply(t),i=kt(n,this.ku),e=this.fbt.v_;if(!(i>=e)){var r=this.$bt();if(void 0!==r){if(t>r)return;if(t===r)return this.Hbt(t,n,e-i)}return isFinite(e)&&i+this.jbt>e?this.Hbt(t,n,e-i):this.Hbt(t,n,this.jbt)}}},i.bbt=function(){return 0},i.Abt=function(t){var n=_.floor(t/this.jbt),i=this.$bt();return void 0!==i&&n>=i?this.Ebt(i):this.Ebt(n)},i.Sbt=function(t){if(t>=this.fbt.v_){var n=_.ceil(this.fbt.v_/this.jbt)-1,i=this.$bt();return void 0!==i&&n>=i?this.Ebt(i):this.Ebt(n)}return this.Abt(t)},i.$bt=function(){var t,n=this.ybt.Vpt;if(void 0!==n)return n-(null!=(t=this.ybt.zpt)?t:1);if(isFinite(this.fbt.v_)){var i=this.ybt.Kbt;if(void 0!==i&&i>0)return i-1}},i.tAt=function(){if(isFinite(this.fbt.v_))return this._pt()},i.nAt=function(t,n){return this.Zbt.multiply(t.z5+(n-1))},i.jo=function(){},n}(eq);function sq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Gw,u=t[r].Qw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.Gw,c=o+1<i?t[o+1].Gw:h.Qw;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var uq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).iAt=[],e.eAt=void 0,e.rAt=at.ZERO,e.jo(),e}S(n,t);var i=n.prototype;return i.Ebt=function(t){if(!(t<0))return t<this.iAt.length?this.iAt[t].vlt:this.sAt(t-this.iAt.length)},i.bbt=function(){if(this.iAt.length>0)return kt(this.iAt[0].Gw,this.ku)},i.Abt=function(t){if(this.eAt&&kt(this.eAt.Gw,this.ku)<=t){var n=kt(this.eAt.Gw,this.ku),i=kt(this.eAt.v_,this.ku),e=_.floor((t-n)/i);return this.sAt(e)}if(this.iAt.length>0&&vt(t,kt(this.iAt[0].Gw,this.ku),1e-5))return this.iAt[0].vlt;var r=sq(this.iAt,at.fromNumber(t*this.ku));return r<0?void 0:this.iAt[r].vlt},i.Sbt=function(t){if(!this.eAt&&this.iAt.length>0){var n=this.iAt[this.iAt.length-1];if(i=t,e=kt(n.Qw,this.ku),Zr(i,e,1e-5)>=0)return n.vlt}var i,e,r=this.bbt();return r&&t<r?this.iAt[0].vlt:this.Abt(t)},i.tAt=function(){return isFinite(this.fbt.v_)?this._pt():this.Ebt(this.iAt.length-1)},i.nAt=function(t){return this.uAt(t)},i.sAt=function(t){if(this.eAt){var n=this.eAt.Gw,i=this.eAt.v_,e=n.add(i.multiply(t)),r=kt(e,this.ku),s=this.fbt.v_;if(!(r>=s)){var u=this.iAt.length+t,o=_.min(kt(i,this.ku),r+s);return this.Hbt(u,e,o)}}},i.uAt=function(t){return t.zbt.add(this.pbt)},i.jo=function(){var t=this.ybt.ai.cpt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.oAt(t)},i.oAt=function(t){var n=this.pbt;this.hAt(t,n);var i=this.aAt(t);this.cAt(t,n,i.fAt,i.Ybt)},i.hAt=function(t,n){var i=this.iAt;if(0===t.length)es(i);else{for(var e=t[0],r=e.Gw?at.fromString(e.Gw,!1).subtract(n):at.ZERO,s=0;s<i.length&&i[s].Gw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.aAt=function(t){for(var n=this.iAt,i=this.rAt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].Npt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Gw.greaterThanOrEqual(i))break;if(n[r].vlt.z5===r)r=u+1;else for(;r<=u;)n[r].vlt.z5=r,r++;0,e++}return{fAt:e,Ybt:r}},i.cAt=function(t,n,i,e){for(var r,s=this.iAt,u=i,o=e;u<t.length;){var h=t[u],a=at.fromString(h.v_,!1),c=h.Npt||0,f=void 0;if(h.Gw){if(f=at.fromString(h.Gw,!1).subtract(n),o>0){var v=s[o-1];v.Qw.greaterThan(f)&&(v.v_=f.subtract(v.Gw),v.Qw=v.Gw.add(v.v_))}}else f=o>0?s[o-1].Qw:at.ZERO;if(c<0){if(u+1===t.length){r={Gw:f,v_:a};break}for(var d=at.fromString(t[u+1].Gw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.vAt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var w=f.add(a);this.vAt(s,o,f,a,w),f=w,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.rAt=s[s.length-1].Gw),this.eAt=r},i.vAt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.v_.equals(e)?s.vlt.z5=n:t[n]={Gw:i,v_:e,Qw:r,vlt:this.Hbt(n,i,kt(e,this.ku))}}else t.push({Gw:i,v_:e,Qw:r,vlt:this.Hbt(n,i,kt(e,this.ku))})},n}(eq),oq=function(){function t(t,n,i){this.ypt=void 0,this.dAt=void 0,this.di=void 0,this.lAt=void 0,this._At=void 0,this.ypt=t,this.dAt=n,this.di=i}var n=t.prototype;return n.wAt=function(){if(this._At=this.gAt(),this._At)return this._At;if(this.dAt)return this.dAt.cpt;throw new v("Missing media segment information.")},n.hbt=function(t){var n=this.Lpt;if(n)return{Lf:(void 0!==n.Rpt?i.De(n.Rpt,t.nkt[0]):t.nkt[0]).href,EZ:n.EZ};var e=this.Dpt;return e?{Lf:t.nkt[0].href,EZ:[0,e[0]-1]}:void 0},n.jo=function(t){this.di=t,this._At&&this._At.jo()},A(t,[{key:"ai",get:function(){return this.di}},{key:"Ipt",get:function(){return this.di&&void 0!==this.di.Ipt?this.di.Ipt:this.dAt?this.dAt.Ipt:0}},{key:"Mpt",get:function(){return this.di&&void 0!==this.di.Mpt?this.di.Mpt:this.dAt?this.dAt.Mpt:at.ZERO}},{key:"Fpt",get:function(){return this.di&&void 0!==this.di.Fpt?this.di.Fpt:this.dAt?this.dAt.Fpt:this.ypt.Ibt.Fpt}},{key:"gy",get:function(){return this.di&&void 0!==this.di.gy?this.di.gy:this.dAt&&this.dAt.gy?this.dAt.gy:1}},{key:"Dpt",get:function(){return this.di&&void 0!==this.di.Dpt?this.di.Dpt:this.dAt?this.dAt.Dpt:void 0}},{key:"Lpt",get:function(){return this.di&&void 0!==this.di.Lpt?this.di.Lpt:this.dAt?this.dAt.Lpt:void 0}},{key:"cpt",get:function(){return this.lAt||(this.lAt=this.wAt()),this.lAt}}]),t}(),hq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.gAt=function(){return this.di.cpt?new uq(this,this.ypt):void 0!==this.di.v_?new rq(this,this.ypt):void 0},A(n,[{key:"v_",get:function(){return void 0!==this.di.v_?this.di.v_/this.gy:this.dAt&&this.dAt instanceof n?this.dAt.v_:void 0}},{key:"Jbt",get:function(){return void 0!==this.di.v_?at.fromNumber(this.di.v_):this.dAt&&this.dAt instanceof n?this.dAt.Jbt:void 0}},{key:"zpt",get:function(){return void 0!==this.di.zpt?this.di.zpt:this.dAt&&this.dAt instanceof n?this.dAt.zpt:void 0}},{key:"Vpt",get:function(){return void 0!==this.di.Vpt?this.di.Vpt:this.dAt&&this.dAt instanceof n?this.dAt.Vpt:void 0}}]),n}(oq),aq=function(){function t(t){this.yAt=void 0,this.yAt=t}return t.prototype.Is=function(t){return this.yAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Or(u,Number(e),"0")})},t}();var cq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).mAt=void 0,r.pAt=void 0,r.mAt=e.qpt?new aq(e.qpt):void 0,r.pAt=e.Gpt?new aq(e.Gpt):void 0,r}S(n,t);var e=n.prototype;return e.hbt=function(n){var e=this.qpt;if(!e)return t.prototype.hbt.call(this,n);var r=e.Is({Bandwidth:n.ai.yS,RepresentationID:n.ai.ll});return{Lf:i.Ce(r,n.nkt[0])}},e.gpt=function(t,n){var e,r=null!=(e=n.abt.zpt)?e:1,s=this.Gpt.Is({Bandwidth:n.ai.yS,Number:n.cpt.Vbt(t,r),RepresentationID:n.ai.ll,Time:n.cpt.nAt(t,r)});return{Lf:i.Ce(s,n.nkt[0])}},e.Kkt=function(t,n){},A(n,[{key:"qpt",get:function(){return this.mAt?this.mAt:this.dAt&&this.dAt instanceof n?this.dAt.qpt:void 0}},{key:"Gpt",get:function(){return this.pAt?this.pAt:this.dAt&&this.dAt instanceof n?this.dAt.Gpt:void 0}},{key:"Kbt",get:function(){}}]),n}(hq),fq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.gpt=function(t,n){var e=this.di.xpt[t.z5],r=n.nkt[0];return{Lf:(e.Xp?i.De(e.Xp,r):r).href,EZ:e.Cpt}},e.Kkt=function(t,n){},A(n,[{key:"Kbt",get:function(){return void 0!==this.di.xpt?this.di.xpt.length:this.dAt&&this.dAt instanceof hq?this.dAt.Kbt:void 0}}]),n}(hq),vq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Ybt=void 0,u.kAt=void 0,u.gy=void 0,u.bAt=void 0,u.Mpt=void 0,u.AAt=void 0,u.Ybt=n,u.kAt=i,u.gy=e.gy,u.bAt=r,u.Mpt=s,u.AAt=u.TAt(e),u}S(n,t);var i=n.prototype;return i.lpt=function(t){if(t>=0&&t<this.il)return this.SAt(this.AAt[t])},i.EAt=function(t){var n=this.IAt(t);if(this.AAt.length>0){var i=this.AAt[0];if(n<=kt(i.Gw,this.gy))return this.SAt(i)}var e=sq(this.AAt,at.fromNumber(n*this.gy));if(!(e<0))return this.SAt(this.AAt[e])},i.RAt=function(t){var n=this.IAt(t);if(this.AAt.length>0){var i=this.AAt[this.AAt.length-1];if(n>=kt(i.Qw,this.gy))return this.SAt(i)}return this.EAt(t)},i.SAt=function(t){var n=kt(t.Gw,this.gy)-this.Mpt,i=n+this.bAt,e=kt(t.v_,this.gy);return{Ybt:this.Ybt,Ykt:t.z5,Gw:i,zbt:at.fromNumber(n*this.gy),v_:e,Qw:i+e,NAt:[this.kAt+t.kAt,this.kAt+t.DAt]}},i.TAt=function(t){for(var n=[],i=t.Lb,e=t.Mb.toNumber(),r=0,s=0,u=t.Fb;s<u.length;s++){var o=u[s],h=o.Cb,a=at.fromNumber(o.v_),c=i.add(a);0===o.Db&&n.push({z5:r++,Gw:i,v_:a,Qw:c,kAt:e,DAt:e+h-1}),e+=h,i=c}return n},i.IAt=function(t){return t-this.bAt+this.Mpt},A(n,[{key:"il",get:function(){return this.AAt.length}}]),n}(function(){function t(){}return t.prototype.Gbt=function(t){var n=this.lpt(t.Ykt);if(n&&n.Gw===t.Gw)return n;var i=this.EAt(t.Gw);return i&&i.Gw===t.Gw?i:void 0},t}()),dq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).CAt=void 0,e.Qdt=void 0,e.xAt=void 0,e.CAt=n.Dpt,e.Qdt=e.Hbt(0,at.ZERO,e.fbt.v_),e}S(n,t);var i=n.prototype;return i.Ebt=function(t){if(0===t)return this.Qdt},i.bbt=function(){return 0},i.Abt=function(t){return this.Qdt},i.Sbt=function(t){return this.Abt(t)},i.tAt=function(){return this.Qdt},i.nAt=function(t,n){return at.ZERO},i.nbt=function(t){var n=this.PAt(t);return n&&{Nbt:t,Dbt:n,xbt:n}},i.PAt=function(t){var n=this.Qdt;return this.Lbt(n,t)?n:void 0},i.Rbt=function(t){return this.PAt(t)},i.Cbt=function(t){return this.PAt(t)},i.jo=function(){},i.vpt=function(t){return 0===t&&void 0!==this.CAt},i.Xbt=function(t){return this.xAt},i.qbt=function(t,n,i,e,r){var s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.nkt[0].href,u=this.CAt,h.next=4,tr.awrap(e.OAt(s,u,i,r));case 4:return o=h.sent,this.xAt=this.BAt(t,o),h.abrupt("return",this.xAt);case 7:case"end":return h.stop()}},null,this,null,ge)},i.BAt=function(t,n){var i=this.CAt,e=Wp.fp(new DataView(n),new Yu);if(e.tr!==Km.Lm)throw new v("Invalid segment index");var r=Yp.Dp(e.ai),s=i[1]+1;return new vq(t,s,r,this.fbt.aI,kt(this.pbt,this.ku))},n}(eq),lq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.gpt=function(t,n){return{Lf:n.nkt[0].href}},i.Kkt=function(t,n){return{Lf:n.nkt[0].href,EZ:t.NAt}},i.gAt=function(){return new dq(this,this.ypt)},A(n,[{key:"zpt",get:function(){}}]),n}(oq),_q=function(t){function n(){return t.call(this,GX.Hkt)||this}return S(n,t),n}(Rs);var wq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ed=void 0,r.di=void 0,r.LAt=void 0,r.ybt=void 0,r.MAt=1/0,r.UAt=void 0,r.ed=i,r.FAt(n,e),r}S(n,t);var i=n.prototype;return i.HAt=function(){return this.ybt||this.ed&&this.ed.HAt()},i.zAt=function(t){var n=this.ypt,i=this.ed&&this.ed.HAt();this.di.okt?this.ybt=new cq(n,i,this.di.okt):this.di.ukt?this.ybt=new fq(n,i,this.di.ukt[0]):this.di.skt?this.ybt=new lq(n,i,this.di.skt):t&&!i&&(this.ybt=new lq(n,i,void 0))},i.FAt=function(t,n){this.di=t,this.LAt=t.nkt&&t.nkt.length>0?iq(t.nkt.map(function(t){return t.Lf}),n):n.slice(),this.ybt&&(t.okt?this.ybt.jo(t.okt):t.ukt?this.ybt.jo(t.ukt[0]):t.skt&&this.ybt.jo(t.skt))},i.Gkt=function(){var t;return null==(t=this.UAt)?void 0:t.VAt},i.ibt=function(){var t;return null==(t=this.UAt)?void 0:t.WAt},i.XAt=function(t){var n=this.MAt,i=this.ypt.v_,e=this.UAt,r=this.qAt(t);e&&vt(i,n,1e-5)&&pq(e,r)||(this.MAt=i,this.UAt=r,this.Ur(new _q))},i.Tr=function(){this.Vr()},A(n,[{key:"ai",get:function(){return this.di}},{key:"nkt",get:function(){return this.LAt}}]),n}(Es);function gq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Gkt();if(e){n=e.aI;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Gkt();if(u){r=u.fI;break}}if(void 0!==r)return{aI:n,fI:r}}}function yq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Gkt();if(!r)return;if((n=_.max(n,r.aI))>=(i=_.min(i,r.fI)))return}return{aI:n,fI:i}}}function mq(t){for(var n,i=0;i<t.length;i++){var e=t[i].ibt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function pq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.WAt,n.WAt)&&function(t,n){return t&&n?vt(t.aI,n.aI,1e-5)&&vt(t.fI,n.fI,1e-5):t===n}(t.VAt,n.VAt)}var kq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).fbt=void 0,r.Oo=void 0,r.GAt=void 0,r.fbt=n,r.Oo=i,r.GAt=e.slice();for(var s=0;s<e.length;s++){e[s].Fr(GX.Hkt,r.Xkt)}return r}S(n,t);var i=n.prototype;return i.Gkt=function(){return yq(this.GAt)},i.ibt=function(){for(var t,n=0,i=this.GAt;n<i.length;n++){var e=i[n].ibt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.ov=function(){this.Vr();for(var t=0,n=this.GAt;t<n.length;t++){n[t].Wr(GX.Hkt,this.Xkt)}},A(n,[{key:"spt",get:function(){return this.GAt}},{key:"u$",get:function(){return this.spt.reduce(function(t,n){for(var i=0,e=n.u$;i<e.length;i++){var r=e[i];is(t,r)||t.push(r)}return t},[])}},{key:"he",get:function(){return this.u$.length>0?this.u$[0]:""}},{key:"tr",get:function(){return this.GAt[0].tr}},{key:"ll",get:function(){return this.Oo}},{key:"tbt",get:function(){return this.fbt.tbt}},{key:"ND",get:function(){return this.GAt[0].ND}},{key:"ypt",get:function(){return this.fbt}},{key:"Jmt",get:function(){return ss(this.spt,function(t){return t.Jmt})}}]),n}($X),bq=function(t){function n(){return t.call(this,GX.Vkt)||this}return S(n,t),n}(Rs);function Aq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.akt;void 0===s||(r=$r(n,function(t){return t.ll===s})),r||(r={ll:s,spt:[]},n.push(r)),r.spt.push(e)},e=0;e<t.length;e++)i(e);return n}var Tq,Sq=function(t){function n(n,i){var e;return(e=t.call(this)||this).Zkt=void 0,e.GAt=[],e.QAt=[],e.YAt=void 0,e.jAt=!1,e.YAt=n,e.Zkt=i,e.Zkt.Fr(GX.Hkt,e.Xkt),e}S(n,t);var i=n.prototype;return i.ZAt=function(t,n){if(0!==this.QAt.length){for(var i=t,e=0,r=this.QAt;e<r.length;e++){var s=r[e],u=s.tr;if(u===Fy.Zf||u===Fy.Jf){var o=s.Qkt;if(void 0===o)return;i=n(i,o)}}return i}},i.JAt=function(){this.jAt||(this.jAt=!0,this.Ur(new bq),this.ov())},i.jo=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.GAt.length){i.next=7;break}return i.next=3,tr.awrap(this.$At(this.Zkt.spt,t,n));case 3:this.KAt(this.GAt),vs(n),i.next=9;break;case 7:return i.next=9,tr.awrap(this.tTt(t,n));case 9:case"end":return i.stop()}},null,this,null,ge)},i.$At=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new nq(this,r),u.prev=4,u.next=7,tr.awrap(s.jo(n,i));case 7:this.GAt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),ds(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],ge)},i.KAt=function(t){for(var n=Aq(t),i=0;i<n.length;i++){var e=n[i],r=new kq(this,e.ll,e.spt);this.QAt.push(r)}},i.tTt=function(t,n){var i,e,r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.GAt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,tr.awrap(r.jo(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,ge)},i.Gkt=function(){return this.Zkt.Gkt()},i.ibt=function(){return this.Zkt.ibt()},i.ov=function(){this.Vr(),this.Zkt.Wr(GX.Hkt,this.Xkt);for(var t=0,n=this.QAt;t<n.length;t++){n[t].ov()}for(var i=0,e=this.GAt;i<e.length;i++){e[i].ov()}es(this.GAt),es(this.QAt)},A(n,[{key:"spt",get:function(){return this.GAt}},{key:"ept",get:function(){return this.QAt}},{key:"Skt",get:function(){return this.Zkt.ai.Skt}},{key:"v_",get:function(){return this.Zkt.v_}},{key:"fI",get:function(){return this.aI+this.v_}},{key:"Ekt",get:function(){return this.Zkt.ai.Ekt||[]}},{key:"ll",get:function(){return this.Zkt.ll}},{key:"Wkt",get:function(){return this.jAt}},{key:"tbt",get:function(){return this.YAt}},{key:"nTt",get:function(){return this.YAt.iTt(this)}},{key:"ypt",get:function(){return this}},{key:"eTt",get:function(){return this.YAt.rTt(this)}},{key:"sTt",get:function(){return this.ZAt(1/0,_.min)}},{key:"uTt",get:function(){return this.ZAt(0,_.max)}},{key:"aI",get:function(){return this.Zkt.aI}},{key:"rv",get:function(){return this.tbt.rv}}]),n}($X),Eq=function(t){function n(){return t.call(this,lc.ga)||this}return S(n,t),n}(Rs);!function(t){t.oTt="hTt"}(Tq||(Tq={}));var Iq=function(t){function n(){return t.call(this,Tq.oTt)||this}return S(n,t),n}(Rs),Rq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.nkt)||this).jkt=void 0,e.aTt=void 0,e.jkt=i,e.zAt(!0),e}S(n,t);var i=n.prototype;return i.vpt=function(t){return!!Sa(this.ND)&&this.cpt.vpt(t.z5)},i.dpt=function(t,n,i,e){return this.cpt.dpt(t,this,n,i,e)},i.hbt=function(){return this.abt.hbt(this)},i.gpt=function(t){return this.abt.gpt(t,this)},i.Kkt=function(t){return this.abt.Kkt(t,this)},i.nbt=function(){return this.aTt},i.qAt=function(t){var n=this.cpt,i=n.nbt(t),e=i&&function(t,n){var i,e=t.Dbt,r=t.xbt,s=t.Nbt,u=e.Gw,o=n.Fbt(r);if(o.getTime()<=s.getTime())i=r.Qw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(r.v_-h,0);i=r.Gw+a}return{aI:u,fI:i}}(i,n),r=this.cpt.ibt(t,i);return this.aTt=i,{Nbt:t,VAt:e,WAt:r}},i.jo=function(t){this.FAt(t,this.jkt.nkt)},A(n,[{key:"ubt",get:function(){return this.jkt}},{key:"ypt",get:function(){return this.jkt.ypt}},{key:"Ibt",get:function(){return this.jkt.Ibt}},{key:"ND",get:function(){return this.di.ND||this.jkt.ND}},{key:"abt",get:function(){return this.HAt()}},{key:"cpt",get:function(){return this.abt.cpt}}]),n}(wq),Nq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.nkt)||this).fbt=void 0,e.vbt=void 0,e.fbt=i,e.zAt(!1),e.vbt=n.Jmt.map(function(t){return new Rq(t,Tt(e))}),e}S(n,t);var i=n.prototype;return i.jo=function(t){this.FAt(t,this.fbt.nkt);var n=t.Jmt||[];if(this.vbt.length!==n.length)throw new v("Expected "+this.vbt.length+' representations in adaptation set "'+t.ll+'", found '+n.length);for(var i=0;i<n.length;i++)this.vbt[i].jo(n[i])},i.XAt=function(n){for(var i=0,e=this.vbt;i<e.length;i++){e[i].XAt(n)}t.prototype.XAt.call(this,n)},i.qAt=function(t){return{Nbt:t,VAt:yq(this.vbt),WAt:mq(this.vbt)}},i.Tr=function(){for(var n=0,i=this.vbt;n<i.length;n++){i[n].Tr()}t.prototype.Tr.call(this)},A(n,[{key:"Jmt",get:function(){return this.vbt}},{key:"ypt",get:function(){return this.fbt}},{key:"Ibt",get:function(){return this.fbt.Ibt}},{key:"akt",get:function(){return this.di.akt}},{key:"ND",get:function(){var t;return this.di.ND||(null==(t=this.vbt[0])?void 0:t.ai.ND)||""}}]),n}(wq),Dq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.nkt)||this).cTt=void 0,s.qb=void 0,s.bu=void 0,s.GAt=void 0,s.QAt=[],s.cTt=n,s.qb=e,s.bu=r,s.zAt(!1),s.GAt=(i.spt||[]).map(function(t){return new Nq(t,Tt(s))}),s.QAt=Aq(s.GAt),s}S(n,t);var i=n.prototype;return i.jo=function(t,n){this.FAt(t,this.cTt.nkt),this.bu=n;var i=t.spt||[];if(this.GAt.length!==i.length)throw new v("Expected "+this.GAt.length+' adaptation sets in period "'+t.ll+'", found '+i.length);for(var e=0;e<i.length;e++)this.GAt[e].jo(i[e])},i.XAt=function(n){for(var i=0,e=this.GAt;i<e.length;i++){e[i].XAt(n)}t.prototype.XAt.call(this,n)},i.qAt=function(t){return{Nbt:t,VAt:yq(this.GAt),WAt:mq(this.GAt)}},i.Tr=function(){for(var n=0,i=this.GAt;n<i.length;n++){i[n].Tr()}t.prototype.Tr.call(this)},A(n,[{key:"spt",get:function(){return this.GAt}},{key:"ept",get:function(){return this.QAt}},{key:"ypt",get:function(){return this}},{key:"Ibt",get:function(){return this.cTt}},{key:"ll",get:function(){return this.di.ll}},{key:"aI",get:function(){return this.qb}},{key:"v_",get:function(){return this.bu}}]),n}(wq),Cq=new Date("2000-01-01"),xq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).di=void 0,s.fTt=void 0,s.vTt=void 0,s.VH=void 0,s.dTt=void 0,s.UAt=void 0,s.LAt=void 0,s.lTt=void 0,s._Tt=void 0,s.wTt=void 0,s.gTt=[],s.fTt=i,s.jo(n,e,r),n.tr===WW._A){var u=s.tAt();u&&u.Rkt&&u.Rkt.getTime()<Cq.getTime()&&(s.wTt=new Date(s.Lkt.getTime()-1e3*(u.vlt.Gw+u.vlt.v_)),s.XAt(r))}return s}S(n,t);var e=n.prototype;return e.Gkt=function(){var t;return null==(t=this.UAt)?void 0:t.VAt},e.ibt=function(){var t;return null==(t=this.UAt)?void 0:t.WAt},e.jo=function(t,n,e,r){var s;this.di=t,this.vTt=n,this.dTt=null!=r?r:e,this.VH=e;var u,o=[(u=n,i.De(".",u))];this.LAt=t.nkt&&t.nkt.length>0?iq(t.nkt.map(function(t){return t.Lf}),o):o,this.lTt=t.Dkt&&t.Dkt.length>0?iq(t.Dkt,this.LAt):[];var h=this.lTt.map(function(t){return t.href}),a=n.href;is(h,a)||(this.lTt.push(n),h.push(a));var c=this.fTt.href;is(h,c)||(this.lTt.push(this.fTt),h.push(c)),this._Tt=null==(s=t.tpt)?void 0:s.Kmt();var f=t.tr===WW._A,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.aI)u=s.aI.Kmt();else if(r>0&&t[r-1].v_){var o=e[r-1],h=t[r-1].v_.Kmt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({ai:t[c],aI:e[c],v_:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.v_?v.v_.Kmt():i-d),a.push({ai:v,aI:d,v_:l})}return a}(t.$mt,f,this._Tt);this.yTt(v),this.XAt(e)},e.yTt=function(t){var n=this.gTt;if(0!==t.length){for(var i=t[0].ai.ll,e=0;e<n.length&&n[e].ll!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Tr()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.jo(o.ai,o.v_)}else n.push(new Dq(this,o.ai,o.aI,o.v_))}}else es(n)},e.XAt=function(t){for(var n=0,i=this.gTt;n<i.length;n++){i[n].XAt(t)}var e=this.UAt,r=this.qAt(t);e&&pq(e,r)||(this.UAt=r,this.Ur(new _q))},e.qAt=function(t){return{Nbt:t,VAt:gq(this.gTt),WAt:mq(this.gTt)}},e.tAt=function(){if(0!==this.gTt.length){var t=this.gTt[this.gTt.length-1];if(!isFinite(t.v_)&&0!==t.spt.length){var n=t.spt[0];if(0!==n.Jmt.length){var i=n.Jmt[0].cpt,e=i.tAt();if(e)return{vlt:e,Rkt:i.Pbt(e)}}}}},e.Tr=function(){this.Vr();for(var t=0,n=this.gTt;t<n.length;t++){n[t].Tr()}},A(n,[{key:"ai",get:function(){return this.di}},{key:"tr",get:function(){return this.di.tr||WW.lA}},{key:"Nkt",get:function(){return this.wTt||this.di.Nkt||this.Lkt}},{key:"Rkt",get:function(){return this.di.Rkt}},{key:"tpt",get:function(){return this._Tt}},{key:"nkt",get:function(){return this.LAt}},{key:"Dkt",get:function(){return this.lTt}},{key:"$mt",get:function(){return this.gTt}},{key:"Lkt",get:function(){return this.di.Lkt||this.VH}},{key:"Fpt",get:function(){return this.di.Fpt}},{key:"mTt",get:function(){return this.dTt}},{key:"pTt",get:function(){return this.VH}}]),n}(Es);var Pq=function(){function t(t,n,i){this.kTt=0,this.uA=t,this.bTt=n,this.ATt=i}var n=t.prototype;return n.Zx=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.TTt(t,this.uA,this.bTt,this.ATt).catch(ls));case 2:case"end":return n.stop()}},null,this,null,ge)},n.STt=function(){return new Date(gt()+this.kTt)},n.TTt=function(t,n,i,e){var r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,tr.awrap(this.ETt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}vs(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,tr.awrap(this.ITt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.kTt=void 0===r?0:r-gt();case 18:case"end":return o.stop()}},null,this,null,ge)},n.ITt=function(t,n,i){var e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.Wmt,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.qn)){o.next=9;break}return o.next=8,tr.awrap(this.ETt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.qn)){o.next=15;break}if(u=new Date(s).getTime(),y(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,ge)},n.ETt=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,tr.awrap(t.Of({Lf:n,Kf:Hl.GET,Cf:_c.Pn,Pr:i}));case 3:return e=u.sent,u.next=6,tr.awrap(e.df());case 6:if(r=u.sent,s=new Date(r).getTime(),y(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),ds(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],ge)},t}(),Oq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).RTt=void 0,s.Zkt=void 0,s.NTt=void 0,s.fJ=!0,s.gTt=[],s.DTt=void 0,s.CTt=void 0,s.xTt=void 0,s.uA=void 0,s.PTt=void 0,s.DTt=n,s.NTt=n.xl,s.CTt=i,s.uA=e,s.RTt=r,s.PTt=new Pq(s.uA,s.RTt,s.DTt.OTt),s}S(n,t);var e=n.prototype;return e.Lot=function(t){var n=this.bw;this.fJ=t,n!==this.bw&&this.Ur(new Iq)},e.jo=function(t,n,e){var r,s,u,o,h,a,c,f,v,d,l,_,w;return tr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.Ckt?i.De(t.Ckt,this.NTt):this.NTt,void 0!==this.Zkt){g.next=10;break}return g.next=6,tr.awrap(this.PTt.Zx(t.Ukt));case 6:this.Zkt=new xq(t,this.NTt,o,this.STt()),this.Zkt.Fr(GX.Hkt,this.Mr),g.next=11;break;case 10:this.Zkt.jo(t,o,this.STt(),n);case 11:if(0===(h=this.Zkt.$mt).length)a=this.gTt.slice(),es(this.gTt);else{for(c=h[0].ll,f=0;f<this.gTt.length&&this.gTt[f].ll!==c;)f++;for(a=this.gTt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.gTt.length?l=this.gTt[v]:(l=new Sq(this,d),s.push(l)),u.push(l.jo(this.CTt,e))}return g.next=15,tr.awrap(ge.all(u));case 15:for((r=this.gTt).push.apply(r,s),_=0,w=a;_<w.length;_++)w[_].JAt();this.Ur(new Eq);case 18:case"end":return g.stop()}},null,this,null,ge)},e.STt=function(){return this.PTt.STt()},e.rTt=function(t){var n=this.gTt.indexOf(t);if(n>0)return this.gTt[n-1]},e.iTt=function(t){var n=this.gTt.indexOf(t);if(n>=0&&n+1<this.gTt.length)return this.gTt[n+1]},e.Gkt=function(){return this.Zkt?this.Zkt.Gkt():void 0},e.ibt=function(){return this.Zkt&&this.Zkt.ibt()},e.XAt=function(t){this.Zkt&&this.Zkt.XAt(t)},e.ov=function(){this.Vr(),this.xTt=void 0,this.Lot(!1);for(var t=0,n=this.gTt;t<n.length;t++){n[t].ov()}es(this.gTt),this.Zkt&&this.Zkt.Tr()},A(n,[{key:"Rkt",get:function(){return this.Zkt&&this.Zkt.Rkt}},{key:"Nkt",get:function(){return this.Zkt&&this.Zkt.Nkt}},{key:"ll",get:function(){return this.Zkt&&this.Zkt.ai.ll}},{key:"mTt",get:function(){var t;return null==(t=this.Zkt)?void 0:t.mTt}},{key:"BTt",get:function(){var t;return null==(t=this.Zkt)?void 0:t.pTt}},{key:"Dkt",get:function(){return this.Zkt?this.Zkt.Dkt.map(function(t){return t.href}):[this.ipt]}},{key:"ipt",get:function(){return this.NTt.href}},{key:"xkt",get:function(){return this.Zkt&&this.Zkt.ai.xkt}},{key:"Pkt",get:function(){return this.Zkt&&this.Zkt.ai.Pkt}},{key:"tpt",get:function(){return this.Zkt&&this.Zkt.ai.tpt}},{key:"Okt",get:function(){return this.Zkt&&this.Zkt.ai.Okt}},{key:"Bkt",get:function(){var t,n,i=(null==(t=this.Zkt)?void 0:null==(n=t.ai.Bkt)?void 0:n.kpt())||0;return _.max(i,Lq)}},{key:"bw",get:function(){return this.fJ}},{key:"$mt",get:function(){return this.gTt}},{key:"LTt",get:function(){return this.tr===WW._A?this.gbt:this.MTt}},{key:"UTt",get:function(){var t=this.LTt;if(void 0!==t)for(var n=0,i=this.$mt;n<i.length;n++){var e=i[n];if(e.aI<=t&&e.fI>t)return e}}},{key:"Zpt",get:function(){return this.Zkt&&this.Zkt.ai.Zpt}},{key:"Lkt",get:function(){return this.Zkt&&this.Zkt.Lkt}},{key:"sTt",get:function(){for(var t=this.gTt.length-1;t>=0;t-=1){var n=this.gTt[t].sTt;if(n)return n}}},{key:"gbt",get:function(){var t=this.sTt;if(void 0!==t){var n=t-this.FTt;return _.max(n,this.MTt)}}},{key:"MTt",get:function(){for(var t=0,n=this.gTt;t<n.length;t++){var i=n[t].qkt;if(void 0!==i)return i}}},{key:"rv",get:function(){return Boolean(this.DTt.rv)}},{key:"FTt",get:function(){var t=this.Zkt&&this.Zkt.ai.Mkt;return t?t.Kmt():this.tr===WW._A?this.Pnt:0}},{key:"Pnt",get:function(){return this.DTt.Pnt?this.DTt.Pnt:1.5*this.Okt.Kmt()}},{key:"Fpt",get:function(){return this.Zkt&&this.Zkt.Fpt}},{key:"tr",get:function(){return this.Zkt?this.Zkt.tr:void 0}}]),n}(Es),Bq=function(){function t(t,n,i,e){this.YAt=void 0,this.YAt=new Oq(t,n,i,e)}return A(t,[{key:"tbt",get:function(){return this.YAt}}]),t}(),Lq=1e3,Mq=_.pow(2,31)-1,Uq=function(){function t(t,n,i,e){var r=this;this.k7=void 0,this.Zkt=void 0,this.HTt=void 0,this.zTt=void 0,this.VTt=void 0,this.WTt=new as,this.XTt=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.Zkt.tbt.STt(),e.next=4,tr.awrap(r.qTt(r.Zkt.tbt.Dkt,t));case 4:return i=e.sent,e.next=7,tr.awrap(r.Zkt.tbt.jo(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Ak(e.t0)&&r.Zkt.tbt.Lot(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],ge)},this.k7=e,this.Zkt=new Bq(t,n,i,this.WTt.Pr)}var n=t.prototype;return n.td=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Zkt.tbt.Ur(new dN),n.prev=1,n.next=4,tr.awrap(Uz(this.XTt,t));case 4:this.Zkt.tbt.Lot(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),ds(n.t0),this.zTt=void 0,this.Zkt.tbt.Lot(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.HTt=this.GTt(this.WTt.Pr);case 14:case"end":return n.stop()}},null,this,[[1,7]],ge)},n.GTt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.Zkt.tbt.tr!==WW._A){n.next=6;break}return n.next=4,tr.awrap(_s(this.QTt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],ge)},n.YTt=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(vs(t),!((n=this.jTt())>0)){e.next=6;break}return i=_.min(n,Mq),e.next=6,tr.awrap(bs(i,t));case 6:return e.prev=6,e.next=9,tr.awrap(Uz(this.XTt,t,1/0,Lq,3e4));case 9:this.Zkt.tbt.Lot(!0);case 10:return e.prev=10,this.VTt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],ge)},n.jTt=function(){var t=this.Zkt.tbt.STt().getTime()-this.Zkt.tbt.mTt.getTime();return this.Zkt.tbt.Bkt-t},n.ZTt=function(t){var n=this.Zkt.tbt.ibt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Zkt.tbt.XAt(t);var e=this.Zkt.tbt.ibt();return e?e.getTime()-t.getTime():NaN},n.JTt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.VTt||(this.VTt=this.YTt(t)),(n=new as).Cr(t),i.prev=3,i.next=6,tr.awrap(ge.race([this.VTt,this.$Tt(n.Pr)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),ls(i.t0);case 11:return i.prev=11,n.Dr(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],ge)},n.$Tt=function(t){var n=this.Zkt.tbt.STt(),i=this.ZTt(n);if(!y(i))return this.KTt(i,t)},n.KTt=function(t,n){var i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr.awrap(bs(t,n));case 2:i=this.Zkt.tbt.STt(),this.Zkt.tbt.XAt(i);case 4:case"end":return e.stop()}},null,this,null,ge)},n.qTt=function(t,n){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(this.k7.y7(t,{},n,!1));case 2:return i=r.sent,e=new QX,r.abrupt("return",e.jgt(i.h7,i.Bf));case 5:case"end":return r.stop()}},null,this,null,ge)},n.ov=function(){return this.WTt.Dr(),this.HTt=void 0,this.zTt=void 0,this.VTt=void 0,this.Zkt.tbt.ov(),ge.resolve()},A(t,[{key:"tSt",get:function(){return this.Zkt}},{key:"A1",get:function(){return this.zTt||(this.zTt=this.td(this.WTt.Pr),ps(this.zTt)),this.zTt}},{key:"QTt",get:function(){return this.Zkt.tbt.BTt&&this.Zkt.tbt.tr===WW._A?this.JTt(this.WTt.Pr):this.A1}}]),t}(),Fq=function(){function t(t,n,i){this.k7=t,this.nSt=n,this.iSt=i}var n=t.prototype;return n.eSt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Ug(n=t.type)){i.next=9;break}return i.next=6,tr.awrap(this.rSt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Mg(n)){i.next=15;break}return i.next=12,tr.awrap(this.sSt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,ge)},n.rSt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tr.awrap(qW(t.src,this.k7));case 3:return n=i.sent,i.next=6,tr.awrap(GW(n,this.k7));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],ge)},n.sSt=function(t){var n;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Uq({xl:i.De(t.src),Pnt:t.liveOffset,OTt:t.timeServer,rv:t.useCredentials},this.iSt,Ql.dv,this.k7),e.next=4,tr.awrap(n.A1);case 4:return e.next=6,tr.awrap(NW(n.tSt.tbt,t.contentProtection,this.nSt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],ge)},t}();var Hq=function(){function t(t){this.uSt=void 0,this.oSt=[],this.hSt=0,this.uSt=t}var n=t.prototype;return n.aSt=function(){var t=new Zu;return this.oSt.push(t),this.cSt(),t.Ts},n.fSt=function(t,n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(t);case 2:this.hSt-=1,this.cSt(),0===this.oSt.length&&0===this.hSt&&n.Is(!0);case 5:case"end":return i.stop()}},null,this,null,ge)},n.cSt=function(){this.oSt.length>0&&this.hSt<this.uSt&&(this.oSt.shift().Is(),this.hSt+=1)},t}();function zq(t,n){for(var i=0,e=0,r=t.Fb.L0.map(function(t){return t.v_});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Vq=function(t){function n(n,e,r,s,u,o,h,a){var c,f,v,d,l;void 0===a&&(v=L.sn||L.in,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,a=function(t){var n,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.gf,MediaSource.isTypeSupported(e)||Rk(t.ND,t.u$)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.he)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.Zmt){u.next=13;break}return r=t.Zmt,s=ss(r,function(t){return Ir(t.Wmt)}).filter(F),u.next=10,tr.awrap(us(s,function(t){return i.Re(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,ge)}),(c=t.call(this)||this).A7=void 0,c.vSt=void 0,c.dSt=new Zu,c.lSt=void 0,c.p$=void 0,c._St=wW.Fmt(),c.Lmt=void 0,c.wSt=void 0,c.P_=void 0,c.gSt=void 0,c.W0=void 0,c.k7=void 0,c.ySt=void 0,c.nSt=void 0,c.iSt=void 0,c.Amt=void 0,c.A7=n,c.W0=e,c.k7=r,c.gSt=s,c.ySt=u,c.nSt=o,c.iSt=a,c.Amt=h,c.wSt=-1;var _=c.A7.qE.sources[0];return c.lSt=_,c.P_=c.K_(),c.vSt=new Hq(c.A7.dh.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.K_=function(){var t,n,i,e,r,s,u,o,h,a,c,f,v,d,l,w,g,y,m,p,k,b,A,T,S,E,I,R=this;return tr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new Fq(this.k7,this.nSt,this.iSt),N.next=3,tr.awrap(t.eSt(this.lSt));case 3:return this.p$=N.sent,n=this.A7.dh.amount,i=this.p$.v_,e=mW(n,i),this.Lmt=e,s=uB(this.p$.npt[0]),N.next=11,tr.awrap(this.W0.B0.x0(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return is(t.references,R.A7.ll)}),o=[],h=this.A7.dh.bandwidth,a=0,c=this.p$.$mt;a<c.length;a++)for(f=c[a],v=0,d=f.rpt;v<d.length;v++)for(l=d[v],w=0,g=Xq(l.Bp);w<g.length;w++)for(y=g[w],m=0,p=qq(y.ml,h);m<p.length;m++)k=p[m],o.push(k);if(this.wSt=_.ceil(o.map(function(t){return t.yS*zq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=er(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new eS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.RI(e).II(5e-4);else{var r,s=$r(o,function(t){return t.ll===i}),h=_.min(R.Lmt,null!=(r=null==s?void 0:s.Fb.v_)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:h})}},S=0;S<u.length;S++)T(S);r=new wW(A,b,this.Lmt)}else{for(E=0;E<o.length;E++)I=o[E],b.set(I.ll,{timeRanges:eS.QI(),totalQualityDurationToCache:_.min(I.Fb.v_,this.Lmt)});r=new wW(0,b,this.Lmt)}this.mSt=r;case 19:case"end":return N.stop()}},null,this,null,ge)},e.pSt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.P_);case 2:return n.next=4,tr.awrap(this.kSt(this.p$,t));case 4:return n.next=6,tr.awrap(this.dSt.Ts);case 6:case"end":return n.stop()}},null,this,null,ge)},e.kSt=function(t,n){var i,e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.npt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,tr.awrap(this.bSt());case 4:for(i=[],e=0,r=t.$mt;e<r.length;e++)s=r[e],i.push(this.ASt(s,t.npt[0],n));return u.abrupt("return",ge.all(i));case 7:case"end":return u.stop()}},null,this,null,ge)},e.bSt=function(){var t,n,i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,tr.awrap(this.gSt.D0());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,tr.awrap(this.W0.M0.as(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,tr.awrap(Wq(e,this.A7.ll,this.W0.M0,this.Amt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,tr.awrap(this.W0.M0.I0(i,this.Amt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new kW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,tr.awrap(this.gSt.O0());case 27:case"end":return r.stop()}},null,this,[[14,19]],ge)},e.ASt=function(t,n,i){var e,r,s,u,o,h,a;return tr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.rpt;r<s.length;r++)for(u=s[r],o=Xq(u.Bp),h=0;h<o.length;h++)a=o[h],e.push(this.TSt(a,n,i));return c.abrupt("return",ge.all(e));case 3:case"end":return c.stop()}},null,this,null,ge)},e.TSt=function(t,n,i){var e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=this.A7.dh.bandwidth,r=qq(t.ml,e),t.tr!==Fy.Jf||!t.apt||!t.apt.xA.widevine||"persistent"!==t.apt.xA.widevine.licenseType){h.next=6;break}return h.next=5,tr.awrap(this.SSt(t.apt));case 5:vs(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.ESt(o,n,i));return h.abrupt("return",ge.all(s));case 9:case"end":return h.stop()}},null,this,null,ge)},e.ESt=function(t,n,i){var e,r,s,u,o,h;return tr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(vs(i),!t.G9){a.next=7;break}return e={Gw:0,v_:0,wpt:t.G9},a.next=5,tr.awrap(this.vSt.aSt());case 5:vs(i),ps(this.vSt.fSt(this.ISt(e,t,n),this.dSt));case 7:r=t.Fb.L0[0].Gw,s=r+this.Lmt,u=0,o=t.Fb.L0;case 10:if(!(u<o.length)){a.next=22;break}if(!((h=o[u]).Gw>=s)){a.next=14;break}return a.abrupt("break",22);case 14:return a.next=16,tr.awrap(this.RSt(i));case 16:return a.next=18,tr.awrap(this.vSt.aSt());case 18:ps(this.vSt.fSt(this.ISt(h,t,n),this.dSt));case 19:u++,a.next=10;break;case 22:case"end":return a.stop()}},null,this,null,ge)},e.RSt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.yr){n.next=4;break}return n.next=3,tr.awrap(this.dSt.Ts);case 3:throw new cs;case 4:case"end":return n.stop()}},null,this,null,ge)},e.NSt=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tr.awrap(this.P_);case 2:return t.abrupt("return",this.p$);case 3:case"end":return t.stop()}},null,this,null,ge)},e.SSt=function(t){return ge.resolve()},e.DSt=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return st("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,ge)},e.ISt=function(t,n,i){var e,r,s,u,o,h,a,c=this;return tr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.W0.B0,r=oB(t.wpt.Lf,t.wpt.EZ),f.next=4,tr.awrap(e.as(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,tr.awrap(Wq(s,this.A7.ll,e,this.Amt));case 8:this.CSt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,tr.awrap(this.xSt(t.wpt));case 14:return u=f.sent,o=this.PSt(t,n,i,u),h=o.segmentMetadataEntry,a=o.segmentEntry,f.next=18,tr.awrap(this.W0.H0(function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(t.B0.I0(h,c.Amt));case 2:return n.next=4,tr.awrap(t.L0.I0(a,c.Amt));case 4:case"end":return n.stop()}},null,null,null,ge)}));case 18:this.CSt(h,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new kW("Unable to store segment with url: "+t.wpt.Lf,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],ge)},e.xSt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.ySt.OSt(t,!1));case 2:return n=i.sent,i.next=5,tr.awrap(this.BSt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,ge)},e.BSt=function(t){var n;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(t._f());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,ge)},e.PSt=function(t,n,i,e){var r=oB(t.wpt.Lf,t.wpt.EZ),s=t.Gw,u=t.v_,o=this.LSt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:uB(i),qualityId:n.ll,byteSize:o,startsAndEnds:new eS([s,s+u]).dI,references:[this.A7.ll]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:uB(i),data:e}}},e.LSt=function(t){return t.buffer.byteLength},e.CSt=function(t,n){var i=t.qualityId,e=this._St,r=e.Iw;r.get(i).timeRanges=r.get(i).timeRanges.RI(new eS(t.startsAndEnds)).II(5e-4),this.mSt=new wW(n?e.Hmt+t.byteSize:e.Hmt,r,this.Lmt)},A(n,[{key:"MSt",get:function(){return this.wSt}},{key:"mSt",get:function(){return this._St},set:function(t){this._St.cg(t)||(this._St=t,t.cg(wW.Fmt())||this.Ur(new _W))}}]),n}(Es);function Wq(t,n,i,e){return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(is(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,tr.awrap(i.I0(t,e));case 4:case"end":return r.stop()}},null,null,null,ge)}function Xq(t){return t.length?[t[0]]:[]}function qq(t,n){if(!t.length)return[];var i=[].concat(t).sort(dW),e=i.filter(function(t){return t.yS<=n});return e.length>0?[e.pop()]:[i.shift()]}var Gq=function(){function t(t){this.uA=void 0,this.BB=new qR,this.uA=t}var n=t.prototype;return n.Of=function(t){var n=this,i=new Zu;return this.BB.TB(function(e){return n.USt(i,t,e)},t.Pr).catch(j),i.Ts},n.uv=function(t){return this.uA.uv(t)},n.USt=function(t,n,i){var e,r,s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return vs(i),e=new ql({Lf:n.Lf,Pr:i},n),r=this.uA.Of(e),t.Is(r),u.next=6,tr.awrap(r);case 6:return s=u.sent,u.next=9,tr.awrap(s.Tf());case 9:case"end":return u.stop()}},null,this,null,ge)},n.ov=function(){this.BB.ov()},t}(),Qq=function(){function t(t,n){this.uA=void 0,this.FSt=void 0,this.HSt=void 0,this.uA=t,this.FSt=new Gq(t),this.HSt=n}var n=t.prototype;return n.OSt=function(t,n,i){return this.uut(t,n,!0,!1,void 0,i)},n.zSt=function(t,n,i,e){return this.uut(t,n,!1,!1,i,e)},n.VSt=function(t,n,i,e){return this.uut(t,n,!1,!0,i,e)},n.uut=function(n,i,e,r,s,u){var o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return vs(u),h.next=3,tr.awrap(this.WSt(n,e,r,s,u));case 3:if(o=h.sent,!i){h.next=8;break}return h.abrupt("return",t.XSt(o));case 8:return h.abrupt("return",this.qSt(o));case 9:case"end":return h.stop()}},null,this,null,ge)},n.qSt=function(t){return t},t.XSt=function(t){return t},n.WSt=function(t,n,i,e,r){var s=new ql({Lf:t.Lf,Cf:_c.Ha,Df:t.EZ?{Range:"bytes="+t.EZ[0]+"-"+t.EZ[1]}:void 0,rv:t.rv,Kf:Hl.GET,tr:zl.Hf,nv:i?Vl.Vf:Vl.Uf,ev:this.HSt,tv:e,Pr:r});return n?this.FSt.Of(s):this.uA.Of(s)},t}(),Yq=function(){function t(t){this.uA=void 0,this.uA=t}return t.prototype.OAt=function(t,n,i,e){var r;return tr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,tr.awrap(this.uA.Of({Lf:t,Cf:_c.Ha,Df:{Range:"bytes="+n[0]+"-"+n[1]},rv:i,Kf:Hl.GET,tr:zl.Uf,Pr:e}));case 2:return r=s.sent,s.next=5,tr.awrap(r._f());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,ge)},t}(),jq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).vlt=void 0,r.vlt=n,r}return S(n,t),n}(Et),Zq=function(){function t(t){this.m7=void 0,this.m7=t}return t.prototype.OAt=function(t,n,i,e){var r,s;return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(this.m7.w7(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,tr.awrap(this.m7.w7(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Gu(new m(s.buffer),n[0],n[1]));case 10:throw new jq({Lf:t,EZ:n,rv:!1});case 11:case"end":return i.stop()}},null,this,null,ge)},t}(),Jq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new eS([0,0]).dI,references:[]},$q={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},Kq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).GSt=void 0,u.QSt=void 0,u.W0=void 0,u.Amt=void 0,u.GSt=new Yq(i),u.W0=e,u.QSt=r,u.Amt=s,u}S(n,t);var i=n.prototype;return i.OAt=function(n,i,e,r){var s;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,tr.awrap(t.prototype.OAt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),ds(u.t0);case 9:return u.next=11,tr.awrap(this.GSt.OAt(n,i,e,r));case 11:return s=u.sent,u.next=14,tr.awrap(this.YSt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],ge)},i.YSt=function(t,i,e){var r,s,u,o,h,a,c,f=this;return tr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.QSt){v.next=2;break}return v.abrupt("return");case 2:return r=this.W0.B0,s=oB(t,i),v.next=6,tr.awrap(r.as(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,tr.awrap(Wq(u,this.QSt,r));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},h=n.PSt(s,o,this.QSt),a=h.segmentMetadataEntry,c=h.segmentEntry,v.next=17,tr.awrap(this.W0.H0(function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(t.B0.I0(a,f.Amt));case 2:return n.next=4,tr.awrap(t.L0.I0(c,f.Amt));case 4:case"end":return n.stop()}},null,null,null,ge)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new kW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],ge)},n.PSt=function(t,n,i){return{segmentMetadataEntry:nr({},Jq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:nr({},$q,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Zq);var tG=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.jSt=function(t,n,i,e,r,s,u){return new Vq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.uA=t}return t.prototype.gY=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.qE.sources[0].useCredentials),r=new Qq(this.uA,Wl.Uf),s=new iU(this.uA,e),u=new eU(n.M0,n.B0,n.L0,n.F0),o=function(t,n,i,e,r){return new Kq(n,t,i,e,r)}(this.uA,u,n,t.ll,i),h=new KO,a=new hU(oU(s,u),h,t);return this.jSt(t,n,a,h,r,o,i)},t}());function nG(t){var n,i={get id(){return t.ll},get status(){return t.Nf},get source(){return t.qE},get parameters(){return t.dh},get duration(){return t.v_},get cached(){return t.ZSt.IE()},get secondsCached(){return t.JSt},get percentageCached(){return t.$St},get bytes(){return t.KSt},get bytesCached(){return t.tEt},get license(){return t.XD.Sd},start:function(){t.aI()},pause:function(){t.q_()},remove:function(){t.Yo()},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)}};return n=new sR(t,["$K","fmt"],i),i}var iG=function(){function t(t,n,i){this.A7=t,this.W0=n,this.p$=i}var n=t.prototype;return n.nEt=function(){var t=this;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.W0.H0(function(n){return tr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,tr.awrap(t.iEt(n));case 2:return i.next=4,tr.awrap(t.eEt(n));case 4:return i.next=6,tr.awrap(t.rEt(n));case 6:return i.next=8,tr.awrap(t.sEt(n));case 8:case"end":return i.stop()}},null,null,null,ge)}));case 2:case"end":return n.stop()}},null,this,null,ge)},n.iEt=function(t){var n,i;return tr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.U0,i=this.A7.ll,e.next=4,tr.awrap(n.Yo(i));case 4:case"end":return e.stop()}},null,this,null,ge)},n.eEt=function(t){var n,i,e,r,s,u,o,h=this;return tr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.B0,i=t.L0,Vg(e=this.A7.qE.sources[0])){a.next=5;break}return a.abrupt("return");case 5:return r=uB(e.src),a.next=8,tr.awrap(n.x0(r,"manifestURL"));case 8:s=a.sent.filter(function(t){return is(t.references,h.A7.ll)}),u=0;case 10:if(!(u<s.length)){a.next=25;break}if(ts((o=s[u]).references,this.A7.ll),0!==o.references.length){a.next=20;break}return a.next=16,tr.awrap(n.Yo(o.key));case 16:return a.next=18,tr.awrap(i.Yo(o.key));case 18:a.next=22;break;case 20:return a.next=22,tr.awrap(n.I0(o));case 22:u++,a.next=10;break;case 25:case"end":return a.stop()}},null,this,null,ge)},n.rEt=function(t){var n,i,e,r,s,u=this;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.M0,i=this.uEt(),o.next=4,tr.awrap(n.N0(i));case 4:e=o.sent.filter(function(t){return is(t.references,u.A7.ll)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(ts((s=e[r]).references,this.A7.ll),0!==s.references.length){o.next=14;break}return o.next=12,tr.awrap(n.Yo(s.key));case 12:o.next=16;break;case 14:return o.next=16,tr.awrap(n.I0(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,ge)},n.uEt=function(){if(!this.p$)return[];var t=this.A7.qE.sources[0];if(!Vg(t))return[];var n=uB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.$mt;i<e.length;i++)for(var r=0,s=e[i].rpt;r<s.length;r++)for(var u=0,o=s[r].Bp;u<o.length;u++)for(var h=0,a=o[u].ml;h<a.length;h++){var c=a[h];c.mpt&&n.push(c.mpt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.p$).map(function(t){return{src:t}}).map(function(t){return uB(t.src)});return[n].concat(i)},n.sEt=function(t){var n,i,e,r,s=this;return tr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.F0,u.next=3,tr.awrap(n.D0());case 3:i=u.sent.filter(function(t){return is(t.references,s.A7.ll)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(ts((r=i[e]).references,this.A7.ll),0!==r.references.length){u.next=14;break}return u.next=11,tr.awrap(n.Yo(r.key));case 11:this.oEt(r),u.next=16;break;case 14:return u.next=16,tr.awrap(n.I0(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,ge)},n.oEt=function(t){},t}(),eG=new(function(){function t(){}return t.prototype.gY=function(t,n,i){return new iG(t,n,i)},t}());var rG=function(){function t(t,n){this.Td=void 0,this.ed=t,this.hEt=n}var n=t.prototype;return n.P6=function(t){this.aEt(t)},n.aEt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tr.awrap(this.hEt.DSt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.ed.Emt(nW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],ge)},A(t,[{key:"Sd",get:function(){var t;return this.Td||(this.Td=(t=this,{renew:function(n){t.P6(n)}})),this.Td}}]),t}(),sG=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Oo=void 0,o.bmt=void 0,o.Td=void 0,o.tgt=void 0,o.cEt=void 0,o.W0=void 0,o.hEt=void 0,o.fEt=new as,o.vEt=void 0,o.evictOnLoading=function(){o.Wr("fmt",o.evictOnLoading),o.dEt()},o.Oo=n,o.tgt=i,o.cEt=e,o.W0=r,o.hEt=s.gY(Tt(o),o.W0,u),o.vEt=new rG(Tt(o),o.hEt),o.bmt=1===o.hEt.mSt.zmt?nW.DONE:nW.IDLE,o.hEt.Fr("$K",function(t){o.Mr(t),1===o.$St&&o.Emt(nW.DONE)});var a=new Date,c=o.cEt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.dEt()},c),o}S(n,t);var i=n.prototype;return i.Emt=function(t){this.bmt!==t&&(this.bmt=t,this.Ur(new eW))},i.aI=function(){this.bmt===nW.EVICTED||this.bmt===nW.DONE||this.lEt()},i.lEt=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.Emt(nW.LOADING),t=new as,this.fEt=t,n.next=6,tr.awrap(this.hEt.pSt(t.Pr));case 6:this.Emt(nW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),fs(n.t0)?this.Emt(nW.IDLE):this.Emt(nW.ERROR);case 12:return n.prev=12,this.fEt.Tr(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],ge)},i.q_=function(){this.fEt.Dr()},i.Yo=function(){this.Nf===nW.LOADING?(this.Fr("fmt",this.evictOnLoading),this.q_()):this.dEt()},i.dEt=function(){var t;return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tr.awrap(this.hEt.NSt());case 3:return t=n.sent,n.next=6,tr.awrap(eG.gY(this,this.W0,t).nEt());case 6:this.hEt.mSt=wW.Fmt(),this.Emt(nW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.Emt(nW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],ge)},A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=nG(this)),this.Td}},{key:"ll",get:function(){return this.Oo}},{key:"XD",get:function(){return this.vEt}},{key:"Nf",get:function(){return this.bmt}},{key:"qE",get:function(){return this.tgt}},{key:"dh",get:function(){return this.cEt}},{key:"v_",get:function(){return this.hEt.mSt.WI}},{key:"ZSt",get:function(){return this.hEt.mSt.Umt}},{key:"JSt",get:function(){return this.hEt.mSt.Mmt}},{key:"$St",get:function(){return this.hEt.mSt.zmt}},{key:"KSt",get:function(){return this.hEt.MSt}},{key:"tEt",get:function(){return this.hEt.mSt.Hmt}}]),n}(Ag);var uG=function(){function t(t,n){this.W0=t,this._Et=n}var n=t.prototype;return n.Dmt=function(t,n,i){var e=VE();return this.Rmt(e,t,n,i)},n.Rmt=function(t,n,i,e){return new sG(t,n,i,this.W0,this._Et,e)},t}(),oG=30,hG=5;function aG(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!Nr(t,"%"))return w(t);return t}(t.amount);!function(t){if(i=t,X(i)&&Nr(i,"%")){var n=g(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+oG),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return hG;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var cG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Td=void 0,e.wEt=n,e.GO=i,e.wEt.Fr("fmt",e.Mr),e}return S(n,t),n.prototype.gEt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=vE(t),r=aG(n),nE(e))throw new v("Invalid source description");return this.wEt.Rmt(e,r).Sd},A(n,[{key:"Sd",get:function(){var t,n,i;return this.Td||(this.Td=(i={get status(){return t.Nf},get tasks(){return t.Pmt},get network(){return t.sB.Sd},createTask:function(n,i){return t.gEt(n,i)},addEventListener:function(t,i){n.Fr(t,i)},removeEventListener:function(t,i){n.Wr(t,i)}},n=new uR(t=this,i),i)),this.Td}},{key:"Nf",get:function(){return this.wEt.Nf}},{key:"Pmt",get:function(){return this.wEt.Pmt.Sd}},{key:"sB",get:function(){return this.GO}}]),n}(Ag);(fG=new WI(i.md,!1),vG=sB.In,dG=new tG(fG),lG=new uG(vG,dG),_G=new qI(fG),wG=new vW(vG.U0,lG,"persistent"),new cG(wG,_G)).Sd;var fG,vG,dG,lG,_G,wG,gG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Oo=void 0,s.bmt=void 0,s.Td=void 0,s.tgt=void 0,s.cEt=void 0,s.bu=0,s.yEt=eS.QI(),s.mEt=0,s.pEt=0,s.wEt=void 0,s.Oo=n,s.bmt=nW.IDLE,s.tgt=i,s.cEt=e,s.wEt=r,s}S(n,t);var i=n.prototype;return i.aI=function(){this.wEt.startCachingTask(this)},i.Yo=function(){this.wEt.removeCachingTask(this)},A(n,[{key:"Sd",get:function(){return this.Td||(this.Td=nG(this)),this.Td}},{key:"ll",get:function(){return this.Oo}},{key:"Nf",get:function(){return this.bmt},set:function(t){this.bmt!==t&&(this.bmt=t,this.Ur(new eW))}},{key:"qE",get:function(){return this.tgt}},{key:"dh",get:function(){return this.cEt}},{key:"v_",get:function(){return this.bu},set:function(t){this.bu=t}},{key:"ZSt",get:function(){return this.yEt},set:function(t){this.yEt=t}},{key:"JSt",get:function(){return this.mEt},set:function(t){this.mEt=t}},{key:"$St",get:function(){return this.pEt},set:function(t){this.pEt=t,this.Ur(new _W)}}]),n}(Tg),yG=30;function mG(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+yG),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var pG=function(t){function n(){var n;return(n=t.call(this)||this).bmt=uW.UNINITIALISED,n.mB=new fW,n.oyt=void 0,n.Ayt=void 0,n.kEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Nf=nW.EVICTED,i.$St=0,i.JSt=0,i.v_=0,i.ZSt=eS.QI(),n.mB.Yo(i))}},n.bEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Nf=e);var r=t.detail.percentage;r&&(i.$St=r);var s=t.detail.duration;s&&(i.v_=s);var u=t.detail.seconds;u&&(i.JSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.ZSt=new eS(h)}}}},n.AEt=function(t){if(t.detail){var i=vE(JSON.parse(t.detail.source));if(!n.TEt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.Rmt(i,mG(e),s)}}},n.SEt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.Rmt(vE(r),mG(i),s);u.Nf=t.detail.status,u.$St=t.detail.percentage,u.v_=t.detail.duration,u.JSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.ZSt=new eS(h)}},n.EEt=function(t){t.detail&&n.Emt(t.detail.status)},n.oyt=new JV,n.Ayt=new DV,TV().cache={sdkEventBus:n.Ayt},n.j$(),n}S(n,t);var i=n.prototype;return i.Emt=function(t){this.bmt!==t&&(this.bmt=t,this.Ur(new eW))},i.Rmt=function(t,n,i){void 0===i&&(i=void 0);var e=new gG(i||VE(),t,n,this);return this.mB.Rw(e),i||this.oyt.iY("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.ll}),e},i.findTaskWithId=function(t){for(var n=0,i=this.mB.dmt;n<i.length;n++){var e=i[n];if(e.ll===t)return e}},i.TEt=function(t){for(var n=bG(t.sources),i=0,e=this.mB.dmt;i<e.length;i++){if(bG(e[i].qE.sources).src===n.src)return!0}return!1},i.j$=function(){this.Ayt.addEventListener("deleteTask",this.kEt),this.Ayt.addEventListener("updateValues",this.bEt),this.Ayt.addEventListener("newTask",this.AEt),this.Ayt.addEventListener("restoreTask",this.SEt),this.Ayt.addEventListener("setCacheStatus",this.EEt)},i.startCachingTask=function(t){this.oyt.iY("THEOplayerCacheStartCachingTask",{id:t.ll})},i.removeCachingTask=function(t){this.oyt.iY("THEOplayerCacheRemoveCachingTask",{id:t.ll})},A(n,[{key:"Nf",get:function(){return this.bmt}},{key:"Pmt",get:function(){return this.mB}}]),n}(Es),kG=function(t){function n(n){var i;return(i=t.call(this,n)||this).IEt=n,i.IEt.Fr("fmt",i.Mr),i}return S(n,t),n.prototype.gEt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=vE(t),e=mG(n),nE(i))throw new v("Invalid source description");if(!bG(i.sources))throw new v("The provided sources can't be cached");return this.IEt.Rmt(i,e).Sd},n}(cG);function bG(t){for(var n=0;n<t.length;n++){var i=t[n];if(Ug(i.type))return i}}var AG,TG,SG=function(){var t=new pG;return new kG(t)}().Sd;!function(t){t.REt="any",t.NEt="natural",t.DEt="landscape",t.CEt="portrait",t.xEt="portrait-primary",t.PEt="portrait-secondary",t.OEt="landscape-primary",t.BEt="landscape-secondary"}(AG||(AG={})),function(t){t.xEt="portrait-primary",t.PEt="portrait-secondary",t.OEt="landscape-primary",t.BEt="landscape-secondary"}(TG||(TG={}));var EG,IG,RG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).oyt=new JV,n.LEt=AG.NEt,n.MEt=TG.xEt,n.UEt=TG.xEt,n.FEt=TG.xEt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.LEt=t,n.oyt.iY("THEOplayerOrientationLock",t),n.HEt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.LEt=AG.NEt,t.oyt.iY("THEOplayerOrientationUnlock"),t.type=t.UEt,t.HEt(),n()})},i.HEt=function(){var t=this.FEt,n=this.type;t!==n&&(this.FEt=n,this.Ur(new Rs("change")))},i.addEventListener=function(t,n){this.Fr(t,n)},i.removeEventListener=function(t,n){this.Wr(t,n)},n.zEt=function(t){switch(t){case AG.xEt:return[TG.xEt];case AG.PEt:return[TG.PEt];case AG.CEt:return[TG.xEt,TG.PEt];case AG.OEt:return[TG.OEt];case AG.BEt:return[TG.BEt];case AG.DEt:return[TG.OEt,TG.BEt];case AG.NEt:return[TG.xEt,TG.OEt,TG.BEt];case AG.REt:return[TG.xEt,TG.PEt,TG.OEt,TG.BEt]}},n.VEt=function(t,i){return n.zEt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.MEt},set:function(t){this.UEt=t,n.VEt(t,this.LEt)?(this.MEt=t,this.HEt()):(t===TG.OEt&&this.LEt===AG.BEt&&(this.MEt=TG.BEt,this.HEt()),t===TG.BEt&&this.LEt===AG.OEt&&(this.MEt=TG.OEt,this.HEt()))}},{key:"angle",get:function(){switch(this.type){case TG.OEt:return-90;case TG.BEt:return 90;case TG.xEt:return 0;case TG.PEt:return 180;default:return 0}}}]),n}(Tg);RG.In=new RG,r.screen.orientation=RG.In,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.WEt="unavailable",t.XEt="available",t.qEt="presenting"}(EG||(EG={})),BR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Y_=function(n){t.prototype.Y_.call(this,n);var i=this.Sd;this.Sd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===EG.qEt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(AG.BEt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},IR.hB),function(t){t.pd="addtrack",t.bd="removetrack",t.Ud="change",t.Xd="update"}(IG||(IG={}));var NG=function(t,n,i){this.type=IG.Ud,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},DG=function(t,n){this.type=IG.pd,this.mediaType=t,this.mediaTrack=n},CG=function(t,n){this.type=IG.bd,this.mediaType=t,this.mediaTrack=n},xG=function(t,n){this.type=IG.Xd,this.mediaType=t,this.mediaTrack=n},PG=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.GEt=function(t){var n=new NG(e.type,t.track,e.mediaTracks);e.messageDispatcher.QEt(n)},this.YEt=function(t){var n=new DG(e.type,t.track);e.messageDispatcher.QEt(n),t.track.addEventListener("update",e.jEt)},this.ZEt=function(t){var n=new CG(e.type,t.track);e.messageDispatcher.QEt(n)},this.jEt=function(t){var n=new xG(e.type,t.track);e.messageDispatcher.QEt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.j$()}return t.prototype.j$=function(){this.mediaTracks.addEventListener("change",this.GEt),this.mediaTracks.addEventListener("addtrack",this.YEt),this.mediaTracks.addEventListener("removetrack",this.ZEt)},t}(),OG=function(){function t(){this.JEt=void 0,this.JEt=new JV}return t.prototype.QEt=function(t){this.JEt.iY(t.type,Qz(t))},t}();UR(function(t){if(t.Sd.audioTracks){var n=new OG;new PG("audio",t.Sd.audioTracks,n)}if(t.Sd.videoTracks){var i=new OG;new PG("video",t.Sd.videoTracks,i)}});var BG,LG,MG=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case BG.$Et:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ur(new UG(i));break;default:0}},n}(DV),UG=function(t){function n(n){var i;return(i=t.call(this,BG.$Et)||this).detail=n,i}return S(n,t),n}(Rs);!function(t){t.$Et="registerContentProtectionIntegration"}(BG||(BG={})),function(t){t.KEt="certifiateRequest",t.tIt="certifiateResponse",t.nIt="licenseRequest",t.iIt="licenseResponse",t.eIt="extractFairplayContentId",t.rIt="buildContentProtection",t.sIt="registerContentProtectionCallback"}(LG||(LG={}));var FG,HG=function(t,n){this.type=LG.sIt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(FG||(FG={}));var zG,VG=function(t,n){this.type=LG.rIt,this.value=t,this.integrationId=n},WG=function(t,n){this.type=LG.KEt,this.value=t,this.integrationId=n},XG=function(t,n){this.type=LG.tIt,this.value=t,this.integrationId=n},qG=function(t,n){this.type=LG.eIt,this.value=t,this.integrationId=n},GG=function(t,n){this.type=LG.nIt,this.value=t,this.integrationId=n},QG=function(t,n){this.type=LG.iIt,this.value=t,this.integrationId=n},YG=function(){function t(t,n){this.uIt=void 0,this.dT=void 0,this.uIt=t,this.dT=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e=new WG(i,this.dT),h.prev=2,h.next=5,tr.awrap(this.uIt.oIt(e));case 5:if(!(r=h.sent)){h.next=16;break}if(s=JSON.parse(r),!this.hIt(s)){h.next=13;break}return u=nr({},s),h.abrupt("return",u);case 13:if(!this.aIt(s)){h.next=16;break}return o=new m(s),h.abrupt("return",o);case 16:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw h.prev=19,h.t0=h.catch(2),new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 22:case"end":return h.stop()}},null,this,[[2,19]],ge)},i.onCertificateResponse=function(t){var i,e,r,s,u;return tr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new XG(e,this.dT),o.next=5,tr.awrap(this.uIt.oIt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new m(u));case 11:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,ge)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,h;return tr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new GG(e,this.dT),a.prev=3,a.next=6,tr.awrap(this.uIt.oIt(r));case 6:if(!(s=a.sent)){a.next=17;break}if(u=JSON.parse(s),!this.hIt(u)){a.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new m(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.aIt(u)){a.next=17;break}return h=new m(u),a.abrupt("return",h);case 17:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new Oy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],ge)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return tr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new QG(r,this.dT),h.next=6,tr.awrap(this.uIt.oIt(s));case 6:if(!(u=h.sent)){h.next=12;break}return o=JSON.parse(u),h.abrupt("return",new m(o));case 12:throw new Oy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return h.stop()}},null,this,null,ge)},i.extractFairplayContentId=function(t){var i,e;return tr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new qG(t,this.dT),r.next=3,tr.awrap(this.uIt.oIt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",ge.reject(new Oy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,ge)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.hIt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.aIt=function(t){return!!new m(t)},t}(),jG=function(){function t(t){this.uIt=void 0,this.uIt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new YG(this.uIt,t.integration),i=new VG({drmConfiguration:t},t.integration);return this.uIt.oIt(i),n},t}(),ZG=function(){var t=this;this.Ayt=void 0,this.cIt=function(n){var i=new jG(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Wb.mT._T(r,s,i)};t.messageDispatcher.oIt(new HG(u,r))},this.Ayt=new MG,TV().contentProtectionIntegration={sdkEventBus:this.Ayt},this.Ayt.addEventListener(BG.$Et,this.cIt)},JG="nativePromiseCallback",$G=function(t){function n(n){var i;return(i=t.call(this,JG)||this).detail=n,i}return S(n,t),n}(Rs);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(zG||(zG={}));var KG=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ur(new $G(n))},i.addEventListener=function(t,n){this.Fr(t,n)},i.removeEventListener=function(t,n){this.Wr(t,n)},n}(DV),tQ=function(){function t(){var t=this;this.JEt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case zG.RESOLVE:i.Is(n.detail.data);break;case zG.REJECT:i.Rs(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new KG;TV().nativePromise={sdkEventBus:n},n.addEventListener(JG,this.handleNativePromiseEvent)}return t.prototype.oIt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=nr({},n,{promiseId:e}),s=new Zu;return this.promisesMap[e]=s,null==(i=this.JEt)||i.iY(n.type,qz(r)),s.Ts},t}();tQ.messageIdTracker=-1;var nQ=function(t){function n(){var n;return(n=t.call(this)||this).JEt=new JV,n}return S(n,t),n}(tQ),iQ=function(t){function n(){var n;return(n=t.call(this)||this).uIt=new nQ,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.uIt}}]),n}(ZG);UR(function(t){new iQ});var eQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(Rs);var rQ,sQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).fIt=function(){},e.vIt(),e}S(n,t);var e=n.prototype;return e.dIt=function(){this.KE&&this.KE.Wr(lc.ea,this.handleAirplayChangedEvent),this.KE=this.xx,this.KE.Fr(lc.ea,this.handleAirplayChangedEvent)},e.lIt=function(){return tr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.KE){t.next=2;break}return t.abrupt("return");case 2:this._It(US.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,ge)},e.wIt=function(){this._It(US.AVAILABLE)},e.Z_=function(){i.Pe.Ji&&(this.gIt.K_(),this.yIt.Dr(),this.yIt=new as,ps(this.mIt(this.yIt.Pr)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Td=void 0,e.gIt=void 0,e.KE=void 0,e.xx=void 0,e.Ri=US.UNAVAILABLE,e.yIt=new as,e.fIt=void 0,e.handleAirplayChangedEvent=function(){e.KE&&e.KE._w?e.lIt():e.SX===US.CONNECTED&&e.wIt()},e.gIt=n,e.xx=i,e}S(n,t);var e=n.prototype;return e.vIt=function(){this.dIt(),this.gIt.Fr("sourcechange",this.fIt),i.Pe.Ji&&this._It(US.AVAILABLE)},e.preloadPlayer=function(t){if(vs(t),this.KE.Nl<Pg.n_){var n=this.KE.Qr("loadedmetadata",t);return this.KE.Tw=jT.Wm,n}return ge.resolve()},e._It=function(t){t!==this.Ri&&(this.Ri=t,this.Ur(new eQ(this.Ri)))},e.mIt=function(t){return tr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tr.awrap(this.preloadPlayer(t));case 2:this.xx.Z_();case 3:case"end":return n.stop()}},null,this,null,ge)},e.J_=function(){i.Pe.Ji&&this.KE.J_()},e.ov=function(){this.Vr(),this.gIt.Wr("sourcechange",this.fIt),this.yIt.Dr()},A(n,[{key:"sO",get:function(){return this.SX===US.CONNECTED}},{key:"SX",get:function(){return this.Ri}},{key:"Sd",get:function(){var t;return this.Td||(this.Td=(t=this,{get casting(){return t.sO},get state(){return t.SX},start:function(){t.Z_()},stop:function(){t.J_()},addEventListener:function(n,i){var e=ug(n,rg);t.Fr(e,i)},removeEventListener:function(n,i){var e=ug(n,rg);t.Wr(e,i)}})),this.Td}}]),n}(Es));BR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ed=function(){var n=this.eB.Sd;return Zw(t.prototype.Ed.call(this),{get cast(){return n}})},n}(t)},IR.oB),BR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pIt=void 0,e.pIt=new sQ(Tt(e),e.$P),e.eB.rO(e.pIt),e.Fr("currentsourcechange",function(){e.pIt.dIt()}),e}S(n,t);var i=n.prototype;return i.Ed=function(){var n=this,i=t.prototype.Ed.call(this);return Zw(i.cast,{get airplay(){return n.pIt.Sd}}),i},i.ov=function(){this.pIt.ov(),t.prototype.ov.call(this)},n}(t)},IR.oB),function(t){t.kIt="airplaystatechange"}(rQ||(rQ={}));var uQ=function(t){this.type=rQ.kIt,this.state=t},oQ=function(t){function n(n){var i;return(i=t.call(this)||this).bIt=void 0,i.AIt=function(t){var n=new uQ(t.state);i.QEt(n)},i.bIt=n,i.j$(n),i}return S(n,t),n.prototype.j$=function(t){t.addEventListener("statechange",this.AIt)},n}(OG);UR(function(t){var n;null!=(n=t.Sd.cast)&&n.airplay&&new oQ(t.Sd.cast.airplay)}),n.ChromelessPlayer=iN,n.Player=iN,n.cache=SG,n.createGlobals=IV,n.features=["hls","airplay"],n.getCueMirrorMap=SV,n.getGlobalId=EV,n.getSdkEventBridge=TV,n.playerSuiteVersion="2022.2.1",n.players=sN,n.registerContentProtectionIntegration=uN,n.utils=rN,n.version="3.4.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
