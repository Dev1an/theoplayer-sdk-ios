/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.0 (3.6.1)
 Created: 2022-07-13T11:45:30.342Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),l.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.R="android-tv",t.I="ios",t.N="tvos",t.C="chromecast"}(e||(e={}));var E=o?o.userAgent:"",R=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),I=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=E.match(/Firefox\/([0-9\.]+)/i),O=E.match(/OPR\/(\d+\.\d+)/i),P=E.match(/Tizen ([0-9\.]+)/i),B=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=D?w(D[1]):0,this.H=/Android/i.test(E),this.V=N?w(N[1]):0,this.G=/windows phone (8|8\.1)/i.test(E),this.Y=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Z=this.M&&this.B&&!this.j,this.J=/iPod/i.test(E),this.K=/Mobile Safari/i.test(E),this.nt=/EOSSTB/i.test(E),this.it=(this.Y||this.j||this.Z||this.J)&&!this.G,this.et=this.G||this.it||this.H||this.K,this.st=/CriOS/i.test(E),this.ut=Boolean(t.chrome&&/google/i.test(o.vendor))||this.st,this.ot=this.ut&&/Edg\//i.test(o.userAgent),this.ht=I?g(I[1],10):0,this.ct=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.ft=R?g(R[1],10):0,this.vt=/SMART-TV.*Tizen/i.test(E),this.dt=P?w(P[1]):0,this._t=/webos|web0s/i.test(E),this.wt=/Edge\/\d+/i.test(E),this.yt=/Trident/i.test(E),this.kt=this.yt&&!t.ActiveXObject&&"ActiveXObject"in t,this.pt=/Vivaldi/i.test(E),this.bt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.At=x?w(x[1]):0,this.Tt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.G&&!this.vt,this.St=C?w(C[2]):0,this.Et=Boolean(O),this.Rt=O?w(O[1]):0,this.It=/CrKey/.test(E),this.Nt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Dt="ios"===e.R,this.Ct="ios"===e.g,this.xt=this.Ct||this.Dt,this.Ot="ios"===e.I,this.Pt="ios"===e.N,this.Bt="ios"===e.C}return A(n,[{key:"Lt",get:function(){return this.B}},{key:"Mt",get:function(){return this.M}},{key:"Ut",get:function(){return this.U}},{key:"Ft",get:function(){return this.F}},{key:"Ht",get:function(){return this.H}},{key:"zt",get:function(){return this.V}},{key:"Vt",get:function(){return this.G}},{key:"Wt",get:function(){return this.Y}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Z}},{key:"Gt",get:function(){return this.J}},{key:"Qt",get:function(){return this.it}},{key:"Yt",get:function(){return this.nt}},{key:"jt",get:function(){return this.K}},{key:"Zt",get:function(){return this.et}},{key:"Jt",get:function(){return this.st}},{key:"$t",get:function(){return this.ut}},{key:"Kt",get:function(){return this.ft}},{key:"tn",get:function(){return this.ot}},{key:"nn",get:function(){return this.ht}},{key:"in",get:function(){return this.vt}},{key:"rn",get:function(){return this.dt}},{key:"sn",get:function(){return this._t}},{key:"un",get:function(){return this.wt}},{key:"hn",get:function(){return this.yt}},{key:"an",get:function(){return this.kt}},{key:"cn",get:function(){return this.pt}},{key:"fn",get:function(){return this.bt}},{key:"vn",get:function(){return this.At}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"_n",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"wn",get:function(){return this.It}},{key:"mn",get:function(){return this.Nt}},{key:"yn",get:function(){if(!(this.sn||this.in))return!1;var t=this.Kt;return void 0===t||Number(t)<56}},{key:"kn",get:function(){return this.Dt}},{key:"pn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.xt}},{key:"An",get:function(){return this.Ot}},{key:"Tn",get:function(){return this.Pt}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.ct}}]),n}();B.Rn=new B;var L=B.Rn,M={}.hasOwnProperty,U={}.toString;function F(t){return null!=t}function H(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return W(t)&&M.call(t,"length")&&j(t.length)}function W(t){return"object"==typeof t&&null!==t}function X(t){return W(t)&&t.constructor&&t.constructor===l}function q(t){return"string"==typeof t}function G(t){return"boolean"==typeof t}function Q(t){return Boolean(t)&&"function"==typeof t.then}function Y(t){return"[object Date]"===U.call(t)}function j(t){return"number"==typeof t}var Z=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var h=this,a=e&&!r;void 0!==r&&i.In(r),r=i.Nn(function(){r=void 0,e||t.apply(h,u)},n),a&&t.apply(h,u)}}var K=!(L.hn&&!L.an),tt=t.console;function nt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function it(t){return t.map(nt).join(" ")}function et(t){var n=tt&&tt[t];return n?n.bind&&K?n.bind(tt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];tt[t](it(i))}:void 0}var rt,st=et("log")||Z,ut=et("warn")||st.bind(void 0,"WARNING:"),ot=et("error")||st.bind(void 0,"ERROR:"),ht=(rt=tt&&tt.assert)?rt.bind&&K?rt.bind(tt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];tt.assert(t,it(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,["Assertion failed:"].concat(i))}},at=null;try{at=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ct(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ft(t){return!0===(t&&t.Dn)}function vt(t){var n=_.clz32(t&-t);return t?31-n:n}ct.prototype.Dn,l.defineProperty(ct.prototype,"Dn",{value:!0}),ct.isLong=ft;var dt={},lt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=lt[t])?e:(i=wt(t,0,!0),r&&(lt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=wt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?Et:St;if(n){if(t<0)return Et;if(t>=bt)return Ct}else{if(t<=-At)return xt;if(t+1>=At)return Dt}return t<0?gt(-t,n).neg():wt(t%pt|0,t/pt|0,n)}function wt(t,n,i){return new ct(t,n,i)}ct.fromInt=_t,ct.fromNumber=gt,ct.fromBits=wt;var mt=_.pow;function yt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Et:St;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return yt(t.substring(1),n,i).neg();for(var r=gt(mt(i,8)),s=St,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=gt(mt(i,o));s=s.mul(a).add(gt(h))}else s=(s=s.mul(r)).add(gt(h))}return s.unsigned=n,s}function kt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?yt(t,n):wt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ct.fromString=yt,ct.fromValue=kt;var pt=4294967296,bt=pt*pt,At=bt/2,Tt=_t(1<<24),St=_t(0);ct.ZERO=St;var Et=_t(0,!0);ct.UZERO=Et;var Rt=_t(1);ct.ONE=Rt;var It=_t(1,!0);ct.UONE=It;var Nt=_t(-1);ct.NEG_ONE=Nt;var Dt=wt(-1,2147483647,!1);ct.MAX_VALUE=Dt;var Ct=wt(-1,-1,!0);ct.MAX_UNSIGNED_VALUE=Ct;var xt=wt(0,-2147483648,!1);ct.MIN_VALUE=xt;var Ot=ct.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*pt+(this.low>>>0):this.high*pt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(mt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),h=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return ft(t)||(t=kt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(ft(t)||(t=kt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(xt)?xt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){ft(t)||(t=kt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,a+=(c+=e+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,wt((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Ot.subtract=function(t){return ft(t)||(t=kt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(ft(t)||(t=kt(t)),at)return wt(at.mul(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Et:St;if(this.eq(xt))return t.isOdd()?xt:St;if(t.eq(xt))return this.isOdd()?xt:St;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Tt)&&t.lt(Tt))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=r*h)>>>16,c+=(f+=e*h)>>>16,f&=65535,c+=(f+=r*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=e*o)>>>16,c&=65535,a+=(c+=r*u)>>>16,a+=n*h+i*o+e*u+r*s,wt((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(ft(t)||(t=kt(t)),t.isZero())throw v("division by zero");var n,i,e;if(at)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?wt((this.unsigned?at.div_u:at.div_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Et:St;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Et;if(t.gt(this.shru(1)))return It;e=Et}else{if(this.eq(xt))return t.eq(Rt)||t.eq(Nt)?xt:t.eq(xt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(St)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(xt))return this.unsigned?Et:St;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=St}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var r=_.ceil(_.log(n)/_.LN2),s=r<=48?1:mt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return ft(t)||(t=kt(t)),at?wt((this.unsigned?at.rem_u:at.rem_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return wt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?_.clz32(this.high):_.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?vt(this.low):vt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return ft(t)||(t=kt(t)),wt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return ft(t)||(t=kt(t)),wt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return ft(t)||(t=kt(t)),wt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):wt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):wt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):wt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?wt(this.high,this.low,this.unsigned):t<32?(n=32-t,wt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),wt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?wt(this.high,this.low,this.unsigned):t<32?(n=32-t,wt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),wt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?wt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:wt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ct.fromBytes=function(t,n,i){return i?ct.fromBytesLE(t,n):ct.fromBytesBE(t,n)},ct.fromBytesLE=function(t,n){return new ct(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ct.fromBytesBE=function(t,n){return new ct(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Pt=_.pow(2,-52);function Bt(t,n,i){return _.min(_.max(t,n),i)}function Lt(t,n,i){return t===n||_.abs(t-n)<=i}function Mt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<Pt||i<_.max(_.abs(t),_.abs(n))*Pt}function Ut(t){return t!=t}function Ft(t,n){return t===n||Ut(t)&&Ut(n)}function Ht(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(){return Date.now()||(new Date).getTime()}function Vt(t){return t/1e3}var Wt,Xt=ct.fromNumber(9007199254740991);function qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Xt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Gt(t){return t.Cn===Wt.xn}function Qt(t){return t.Cn===Wt.On}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.xn=1]="xn",t[t.Pn=2]="Pn",t[t.On=3]="On",t[t.Bn=4]="Bn",t[t.Ln=9]="Ln"}(Wt||(Wt={}));var jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(jt.prototype=l.create(v.prototype)).constructor=jt;var Zt=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Yt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(jt),Jt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Zt),$t=function(){function t(){}return t.prototype.Mn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Jt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Jt;return new un(n)},t}(),Kt=function(){function t(t){this.Un=void 0,this.Un=t}var n=t.prototype;return n.Fn=function(t){return this.Un.isEqualNode(t.Un)},n.Hn=function(n){return new t(this.Un.cloneNode(n))},A(t,[{key:"Cn",get:function(){return Wt.Pn}},{key:"zn",get:function(){var t;return null!=(t=this.Un.localName)?t:an(this.Un.nodeName)}},{key:"Vn",get:function(){return this.Un.nodeName}},{key:"Wn",get:function(){var t;return null!=(t=this.Un.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Un.prefix)?t:void 0}},{key:"qn",get:function(){return this.Un.nodeValue}}]),t}(),tn=function(){function t(t){this.Gn=void 0,this.Qn=void 0,this.Gn=t}var n=t.prototype;return n.Yn=function(t){return this.jn.filter(function(n){return on(n)&&n.Zn===t})},n.Jn=function(t,n){return this.jn.filter(function(i){return on(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Gn.appendChild(t.Kn),this.Qn&&this.Qn.push(t)},n.Fn=function(t){return this.Gn.isEqualNode(t.Kn)},A(t,[{key:"jn",get:function(){return void 0===this.Qn&&(this.Qn=function(t){for(var n=[],i=0;i<t.length;i++){var e=hn(t.item(i));e&&n.push(e)}return n}(this.Gn.childNodes)),this.Qn}},{key:"ti",get:function(){return this.jn.filter(on)}},{key:"Kn",get:function(){return this.Gn}}]),t}(),nn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ni=function(t){if(this.Gn.hasAttribute(t))return this.Gn.getAttribute(t)},i.ii=function(t,n){if(this.Gn.hasAttributeNS(t,n))return this.Gn.getAttributeNS(t,n)},i.ei=function(t){this.Gn.removeAttribute(t)},i.ri=function(t,n){this.Gn.removeAttributeNS(t,n)},i.si=function(t,n){this.Gn.setAttribute(t,n)},i.ui=function(t,n,i){this.Gn.setAttributeNS(t,n,i)},i.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.xn}},{key:"zn",get:function(){var t;return null!=(t=this.Gn.localName)?t:an(this.Gn.nodeName)}},{key:"Wn",get:function(){var t;return null!=(t=this.Gn.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Gn.prefix)?t:void 0}},{key:"Zn",get:function(){return this.Gn.nodeName}},{key:"oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Kt(t.item(i)));return n}(this.Gn.attributes)}},{key:"hi",get:function(){return this.Gn.textContent}}]),n}(tn),en=function(){function t(t){this.Gn=void 0,this.Gn=t}return t.prototype.Fn=function(t){return this.ai===t.ai},A(t,[{key:"ai",get:function(){return this.Gn.nodeValue}},{key:"Kn",get:function(){return this.Gn}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.On}}]),n}(en),sn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.Bn}}]),n}(en),un=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.Ln}},{key:"ci",get:function(){return new nn(this.Gn.documentElement)}}]),n}(tn);function on(t){return Gt(t)}function hn(t){switch(t.nodeType){case Wt.xn:return new nn(t);case Wt.On:return new rn(t);case Wt.Bn:return new sn(t)}}function an(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function cn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function fn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){vn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&vn(i,null,t.length,t),t}function vn(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var dn=/[a-zA-Z]/,ln=/[0-9]/,_n=/[0-9a-fA-F]/,gn=/^0x/i,wn=/^[0-9]+$/,mn=/^[0-9a-fA-F]+$/,yn=/^[0-7]+$/,kn=l.prototype.toString,pn=Array.isArray||function(t){return"[object Array]"===kn.call(t)},bn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function An(t){return pn(t)?t:Array.from(t)}function Tn(t){return t>=65&&t<=90}function Sn(t){return Tn(t)||function(t){return t>=97&&t<=122}(t)}function En(t){return t>=48&&t<=57}function Rn(t){return En(t)||Sn(t)}function In(t){return En(t)||t>=65&&t<=70||t>=97&&t<=102}function Nn(t){return Tn(t)?t+32:t}function Dn(t){return En(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Cn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=_.min,On=String.fromCharCode,Pn=16384;function Bn(t){for(var n=t.length,i=[],e=0;e<n;e+=Pn){var r=xn(e+Pn,n);i.push(On.apply(null,t.slice(e,r)))}return i.join("")}var Ln=/[^\0-\x7E]/,Mn=/[\x2E\u3002\uFF0E\uFF61]/g,Un={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fn=_.floor,Hn=String.fromCharCode;function zn(t){throw new RangeError(Un[t])}function Vn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Wn,Xn,qn,Gn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qn=function(t,n,i){var e=0;for(t=i?Fn(t/700):t>>1,t+=Fn(t/n);t>455;e+=36)t=Fn(t/35);return Fn(e+36*t/(t+38))},Yn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Mn,".")).split("."),n).join(".");return e+r}(t,function(t){return Ln.test(t)?"xn--"+function(t){for(var n=[],i=(t=Vn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Hn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>Fn((2147483647-r)/_)&&zn("overflow"),r+=(f-e)*_,e=f;for(var g=0,w=t;g<w.length;g++){var m=w[g];if(m<e&&++r>2147483647&&zn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Hn(Gn(p+b%A,0))),y=Fn(b/A)}n.push(Hn(Gn(y,0))),s=Qn(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Bn(n)}function Zn(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Jn(t,n){return t>>n&63|128}function $n(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zn(t),n.push(t>>12&15|224),n.push(Jn(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Jn(t,12)),n.push(Jn(t,6))),n.push(63&t|128)):n.push(t)}function Kn(t){for(var n=[],i=0;i<t.length;i++){$n(t[i],n)}return n}function ti(){if(qn>=Xn)throw new v("Invalid byte index");var t=255&Wn[qn];if(qn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ni(){var t,n;if(qn>Xn)throw new v("Invalid byte index");if(qn===Xn)return!1;if(t=255&Wn[qn],qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ti())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ti()<<6|ti())>=2048)return Zn(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ti()<<12|ti()<<6|ti())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ii(t){return[37,Cn(t>>4),Cn(15&t)]}function ei(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ri(t){return ei(t)||32===t||34===t||60===t||62===t||96===t}function si(t){return ri(t)||35===t||63===t||123===t||125===t}function ui(t){return si(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function oi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hi(t){return oi(t)||39===t}function ai(t,n){if(!n(t))return[t];for(var i=Kn([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ii(s))}return e}function ci(t,n){for(var i=[],e=0,r=Vn(t);e<r.length;e++){var s=r[e];i.push.apply(i,ai(s,n))}return jn(i)}function fi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&In(t[e+1])&&In(t[e+2])){var s=Dn(t[e+1])<<4|Dn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(Kn(t))}function vi(t){return jn(function(t){Wn=t.slice(),Xn=Wn.length,qn=0;for(var n,i=[];!1!==(n=ni());)i.push(n);return i}(fi(Vn(t))))}function di(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&_n.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!ln.test(t[a]))throw new d;for(;a<s&&ln.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)e=h+w-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,w-=1}else if(8!==o)throw new d;return u}function li(t){var n=10,i=wn;return gn.test(t)?(t=t.slice(2),n=16,i=mn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=yn),""===t?0:i.test(t)?g(t,n):void 0}var _i={fi:4},gi=/[\0\t\n\r #%/:?@\[\\\]]/,wi=/[\0\t\n\r #/:?@\[\\\]]/;function mi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{fi:2,vi:di(t.slice(1,-1))}}if(!n)return function(t){if(wi.test(t))throw new d("Invalid code point in opaque host");var n=ci(t,ei);return""===n?_i:{fi:3,di:n}}(t);var i=function(t){return function(t){return Yn(t.toLowerCase())}(t)}(vi(t));if(gi.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=li(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==e?{fi:1,vi:e}:""===i?_i:{fi:0,li:i}}function yi(t){switch(t.fi){case 0:return t.li;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.vi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.vi)+"]";case 3:return t.di;case 4:return""}}var ki=/\+/g;function pi(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(ki," "),o=o.replace(ki," ");var h=vi(u),a=vi(o);i.push([h,a])}}return i}function bi(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ai(Kn(Vn(e[0])))+"="+Ai(Kn(Vn(e[1])))}return n}function Ai(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Rn(n)?i.push(r):i.push.apply(i,ii(r))}return Bn(i)}var Ti=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Si(t){var n=""+t,i=Ti.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ri(s))if(Ii(s)||r===i-1)e.push(Ei);else{var u=t.charCodeAt(r+1);Ii(u)?(e.push(s,u),r++):e.push(Ei)}else e.push(s)}return t.slice(0,n)+Bn(e)}(n,i.index):n}var Ei=65533,Ri=function(t){return 55296==(63488&t)},Ii=function(t){return 0!=(1024&t)};function Ni(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Di(t){t._i.length=0}function Ci(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t._i,pi(n))}function xi(t){if(t.gi){var n=bi(t._i);""===n&&(n=null),t.gi.gi.wi=n}}var Oi=function(){function t(t){if(void 0===t&&(t=void 0),this.gi=null,null==t)this._i=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Oi&&pn(s._i)&&(!bn||s[Symbol.iterator]===Pi))this._i=t._i.slice();else if(function(t){return null!=t&&(!!pn(t)||!!bn&&"function"==typeof t[Symbol.iterator])}(t)){this._i=[];for(var n=0,i=An(t);n<i.length;n++){var e=An(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this._i.push([Si(e[0]),Si(e[1])])}}else for(var r in this._i=[],t)l.prototype.hasOwnProperty.call(t,r)&&this._i.push([Si(r),Si(t[r])]);else(t=Si(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this._i=pi(t);var s}var n=t.prototype;return n.append=function(t,n){t=Si(t),n=Si(n),this._i.push([t,n]),xi(this)},n.delete=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Si(t);for(var n=this._i,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Si(t),n=Si(n);for(var i=this._i,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){fn(this._i,Ni),xi(this)},n.toString=function(){return bi(this._i)},n.entries=function(){return new Ui(this._i,Bi)},n.keys=function(){return new Ui(this._i,Li)},n.values=function(){return new Ui(this._i,Mi)},n.forEach=function(t){var n=this;this._i.forEach(function(i){return t(i[1],i[0],n)})},t}(),Pi=Oi.prototype.entries;bn&&(Oi.prototype[Symbol.iterator]=Pi);var Bi=function(t){return[t[0],t[1]]},Li=function(t){return t[0]},Mi=function(t){return t[1]},Ui=function(){function t(t,n){this.mi=0,this._i=t,this.yi=n}return t.prototype.next=function(){return this.mi<this._i.length?{done:!1,value:this.yi(this._i[this.mi++])}:{done:!0,value:void 0}},t}(),Fi="null";var Hi=l.create(null);Hi.ftp=21,Hi.file=0,Hi.gopher=70,Hi.http=80,Hi.https=443,Hi.ws=80,Hi.wss=443;var zi=/^(?:\.|%2e)$/i,Vi=/^(?:\.|%2e){2}$/i;function Wi(t){return zi.test(t)}function Xi(t){return Vi.test(t)}function qi(t){return void 0!==Hi[t]}function Gi(t){return qi(t.ki)}function Qi(t){return""!==t.pi||""!==t.bi}function Yi(t){var n=t.length;if(!(n>=2))return!1;if(!Zi(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ji(t){return 2===t.length&&dn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Zi(t){return 2===t.length&&ji(Bn(t))}function Ji(t){return ji(t)&&":"===t[1]}function $i(t){var n=t.Ai;0!==n.length&&("file"===t.ki&&1===n.length&&Ji(n[0])||n.pop())}function Ki(t){return null===t.Ti||_i===t.Ti||t.Si||"file"===t.ki}var te=-1,ne=/\t|\n|\r/g,ie=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ee(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new se,t=t.replace(ie,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=Vn(t=t.replace(ne,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:te;switch(r){case 0:if(!Sn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(Nn(v)),r=1;break;case 1:if(Rn(v)||43===v||45===v||46===v)s.push(Nn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=jn(s);if(null!==e){if(qi(i.ki)&&!qi(l))return;if(!qi(i.ki)&&qi(l))return;if((Qi(i)||null!==i.Ei)&&"file"===l)return;if("file"===i.ki&&(i.Ti===_i||null===i.Ti))return}if(i.ki=l,null!==e)return void(Gi(i)&&i.Ei===Hi[i.ki]&&(i.Ei=null));s.length=0,"file"===i.ki?r=13:Gi(i)&&n&&n.ki===i.ki?r=3:Gi(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.Si=!0,i.Ai.push(""),r=18)}break;case 2:if(!n||n.Si&&35!==v)throw new d("Invalid scheme");n.Si&&35===v?(i.ki=n.ki,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",i.Si=!0,r=20):"file"!==n.ki?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.ki=n.ki,te===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi):47===v?r=6:63===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):92===v&&Gi(i)?r=6:(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.Ai.pop(),r=17,f-=1);break;case 6:!Gi(i)||47!==v&&92!==v?47===v?r=9:(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var m=jn(ai(w,ui));h?i.bi+=m:i.pi+=m}else h=!0}s.length=0}else if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.ki)f-=1,r=15;else if(58!==v||o)if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(f-=1,Gi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Qi(i)||null!==i.Ei))return;var y=mi(jn(s),Gi(i));if(i.Ti=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=mi(jn(s),Gi(i));if(i.Ti=k,s.length=0,r=12,11===e)return}break;case 12:if(En(v))s.push(v);else{if(!(te===v||47===v||63===v||35===v||Gi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var p=g(jn(s),10);if(p>65535)throw new d("Invalid port");i.Ei=p===Hi[i.ki]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.ki="file",47===v||92===v?r=14:n&&"file"===n.ki?te===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi):63===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):(Yi(a.slice(f))||(i.Ti=n.Ti,i.Ai=n.Ai.slice(),$i(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.ki&&!Yi(a.slice(f))&&(Ji(n.Ai[0])?i.Ai.push(n.Ai[0]):i.Ti=n.Ti),r=17,f-=1);break;case 15:if(te===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Zi(s))r=17;else if(0===s.length){if(i.Ti=_i,null!==e)return;r=16}else{var b=mi(jn(s),Gi(i));if(0===b.fi&&"localhost"===b.li&&(b=_i),i.Ti=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Gi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.wi="",r=19):null===e&&35===v?(i.Ri="",r=20):te!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(te===v||47===v||Gi(i)&&92===v||null===e&&(63===v||35===v)){var A=jn(s);if(Xi(A)?($i(i),47===v||Gi(i)&&92===v||i.Ai.push("")):!Wi(A)||47===v||Gi(i)&&92===v?Wi(A)||("file"===i.ki&&0===i.Ai.length&&Zi(s)&&(_i!==i.Ti&&null!==i.Ti&&(i.Ti=_i),s[1]=58,A=jn(s)),i.Ai.push(A)):i.Ai.push(""),s.length=0,"file"===i.ki&&(te===v||63===v||35===v))for(;i.Ai.length>1&&""===i.Ai[0];)i.Ai.shift();63===v?(i.wi="",r=19):35===v&&(i.Ri="",r=20)}else s.push.apply(s,ai(v,si));break;case 18:63===v?(i.wi="",r=19):35===v?(i.Ri="",r=20):te!==v&&(i.Ai[0]+=jn(ai(v,ei)));break;case 19:null===e&&35===v?(i.Ri="",r=20):te!==v&&(i.wi+=jn(ai(v,Gi(i)?hi:oi)));break;case 20:te===v||0===v||(i.Ri+=jn(ai(v,ri)))}f++}return i}function re(t,n,i,e){try{ee(t,n,i,e)}catch(t){}}var se=function(){this.ki="",this.pi="",this.bi="",this.Ti=null,this.Ei=null,this.Ai=[],this.wi=null,this.Ri=null,this.Si=!1};function ue(t){switch(t.ki){case"blob":var n;try{n=ee(t.Ai[0],null)}catch(t){return Fi}return ue(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ki,e=t.Ti,r=t.Ei,i+"://"+yi(e)+(null===r?"":":"+r);case"file":default:return Fi}var i,e,r}var oe,he,ae,ce,fe,ve,de=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof de&&"object"==typeof i.gi)r=n.gi;else try{r=ee(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=ee(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.wi;this.gi=e,this.wi=function(t){var n=new Oi;return null!==t&&Ci(n,t),n}(s),this.wi.gi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ki+":";if(null!==t.Ti?(i+="//",Qi(t)&&(i+=t.pi,""!==t.bi&&(i+=":"+t.bi),i+="@"),i+=yi(t.Ti),null!==t.Ei&&(i+=":"+t.Ei)):null===t.Ti&&"file"===t.ki&&(i+="//"),t.Si)i+=t.Ai[0];else for(var e=0,r=t.Ai;e<r.length;e++)i+="/"+r[e];return null!==t.wi&&(i+="?"+t.wi),n||null===t.Ri||(i+="#"+t.Ri),i}(this.gi)},set:function(t){var n;try{n=ee(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.gi=n,Di(this.wi);var i=this.gi.wi;null!==i&&Ci(this.wi,i)}},{key:"origin",get:function(){return ue(this.gi)}},{key:"protocol",get:function(){return this.gi.ki+":"},set:function(t){re(t+":",null,this.gi,0)}},{key:"username",get:function(){return this.gi.pi},set:function(t){Ki(this.gi)||(this.gi.pi=ci(t,ui))}},{key:"password",get:function(){return this.gi.bi},set:function(t){Ki(this.gi)||(this.gi.bi=ci(t,ui))}},{key:"host",get:function(){var t=this.gi,n=t.Ti;if(null===n)return"";var i=t.Ei,e=yi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.gi.Si||re(t,null,this.gi,10)}},{key:"hostname",get:function(){var t=this.gi.Ti;return null===t?"":yi(t)},set:function(t){this.gi.Si||re(t,null,this.gi,11)}},{key:"port",get:function(){var t=this.gi.Ei;return null===t?"":""+t},set:function(t){Ki(this.gi)||(""===t?this.gi.Ei=null:re(t,null,this.gi,12))}},{key:"pathname",get:function(){var t=this.gi.Ai;return this.gi.Si?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.gi.Si||(this.gi.Ai.length=0,re(t,null,this.gi,16))}},{key:"search",get:function(){var t=this.gi.wi;return null===t||""===t?"":"?"+t},set:function(t){t=Si(t);var n=this.gi;if(""===t)return n.wi=null,void Di(this.wi);"?"===t[0]&&(t=t.slice(1)),n.wi="",re(t,null,n,19),Ci(this.wi,t)}},{key:"searchParams",get:function(){return this.wi}},{key:"hash",get:function(){var t=this.gi.Ri;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.gi.Ri="",re(t,null,this.gi,20)):this.gi.Ri=null}}])&&cn(n.prototype,i),e&&cn(n,e),t}();function le(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=h;function ge(t){return Boolean(t&&void 0!==t.length)}function we(){}function me(t){if(!(this instanceof me))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.Ii=0,this.Ni=!1,this.Di=void 0,this.Ci=[],Te(t,this)}function ye(t,n){for(;3===t.Ii;)t=t.Di;0!==t.Ii?(t.Ni=!0,me.xi(function(){var i=1===t.Ii?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.Di)}catch(t){return void pe(n.promise,t)}ke(n.promise,e)}else(1===t.Ii?ke:pe)(n.promise,t.Di)})):t.Ci.push(n)}function ke(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof me)return t.Ii=3,t.Di=n,void be(t);if("function"==typeof i)return void Te((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Ii=1,t.Di=n,be(t)}catch(n){pe(t,n)}var e,r}function pe(t,n){t.Ii=2,t.Di=n,be(t)}function be(t){2===t.Ii&&0===t.Ci.length&&me.xi(function(){t.Ni||me.Oi(t.Di)});for(var n=0,i=t.Ci.length;n<i;n++)ye(t,t.Ci[n]);t.Ci=null}function Ae(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Te(t,n){var i=!1;try{t(function(t){i||(i=!0,ke(n,t))},function(t){i||(i=!0,pe(n,t))})}catch(t){if(i)return;i=!0,pe(n,t)}}me.prototype.catch=function(t){return this.then(null,t)},me.prototype.then=function(t,n){var i=new this.constructor(we);return ye(this,new Ae(t,n,i)),i},me.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},me.all=function(t){return new me(function(n,i){if(!ge(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},me.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},me.resolve=function(t){return t&&"object"==typeof t&&t.constructor===me?t:new me(function(n){n(t)})},me.reject=function(t){return new me(function(n,i){i(t)})},me.race=function(t){return new me(function(n,i){if(!ge(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)me.resolve(t[e]).then(n,i)})},me.xi="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},me.Oi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Se=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ee=o?o.userAgent:"",Re=Ee.match(/Firefox\/([0-9]+)/i),Ie=null!=Re,Ne=Re?Number(Re[1]):0,De=Ee.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Ce=null!=De,xe=De?Number(De[3]):0,Oe=function(){function t(t){this.Pi=0,this.Bi=0,this.di=[],this.Li=t}return t.prototype.Mi=function(t){var n=this.length();this.Ui(n+1);var i=this.Bi+n&this.Li-1;this.di[i]=t,this.Pi=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Li<n)this.Mi(t);else{var i=this.Bi+n-1,e=this.Li-1;this.di[i&e]=t,this.Pi=n}},t.prototype.shift=function(){var t=this.Bi,n=this.di[t];return this.di[t]=void 0,this.Bi=t+1&this.Li-1,this.Pi--,n},t.prototype.length=function(){return this.Pi},t.prototype.Ui=function(t){this.Li<t&&this.Fi(this.Li<<1)},t.prototype.Fi=function(t){var n=this.Li;this.Li=t;var i=this.Bi+this.Pi&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.di,0,n,i)},t}();var Pe="unhandledrejection",Be=t.PromiseRejectionEvent,Le=t.CustomEvent;function Me(t){return new Be(Pe,{reason:t,promise:Se.reject(t).catch(function(){}),cancelable:!0})}function Ue(t){var n=new Le(Pe,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function Fe(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Pe,!1,!0,{reason:t}),n}var He,ze,Ve,We,Xe,qe,Ge,Qe=function(t){return(Qe=function(){try{var t=Se.resolve(),n=new Be(Pe,{reason:"error",promise:t});return Pe===n.type&&"error"===n.reason}catch(t){}return!1}()?Me:function(){try{var t=new Le(Pe,{detail:{reason:"error"}});return Pe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ue:Fe)(t)};if(Se&&!(Ie&&Ne<60||Ce&&xe<15))ze=Se;else{ze=me;var Ye=null!==(He=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Se;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==He?He:me.xi,je=(Ve=Ye,We=new Oe(16),Xe=!1,{Hi:function(t){We.push(t),Xe||(Xe=!0,Ve(qe))},zi:qe=function(){for(;We.length()>0;)We.shift()();Xe=!1}});me.xi=je.Hi,me.Oi=function(n){try{var i=Qe(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}h(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Je(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function $e(t,n){L.in&&L.rn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ke(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function tr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function nr(t){t.removeAttribute("title")}function ir(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function er(t){t.src&&(t.removeAttribute("src"),t.load())}function rr(){return void 0!==s?s.createElement("video"):void 0}function sr(){return Ge||(Ge=rr()),Ge}var ur=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),or=sr(),hr=!(!or||!or.webkitShowPlaybackTargetPicker),ar=function(){function t(){this.Vi=void 0,this.Wi=!1,this.Lt=ur,this.Zt=!1,this.Xi=!0,this.qi=!0}var n=t.prototype;return n.Gi=function(){return 0},n.Qi=function(t,n){return!0},n.Yi=function(t){return t>=1/6*2},A(t,[{key:"ji",get:function(){return void 0===this.Vi&&(this.Vi=this.Gi()),this.Vi}},{key:"Zi",get:function(){return r.devicePixelRatio||1}},{key:"Ji",get:function(){return hr}},{key:"$i",get:function(){return!1}},{key:"Ki",get:function(){return!0}},{key:"te",get:function(){return L.dn||L.Qt}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return!0}},{key:"re",get:function(){return!1}},{key:"se",get:function(){}},{key:"ue",get:function(){return!0}},{key:"oe",get:function(){return!1}}]),t}(),cr=function(){var t=rr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.qt)return!1;var t=rr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var fr=function(t){function n(n){var i;return(i=t.call(this)||this).he=void 0,i.he=n,i.he&&(i.Wi=i.he.Wi,i.Lt=i.he.Lt,i.Xi=cr&&i.he.Xi),i}S(n,t);var i=n.prototype;return i.Gi=function(){return this.he?this.he.ji:t.prototype.Gi.call(this)},i.Qi=function(n,i){return this.he?this.he.Qi(n,i):t.prototype.Qi.call(this,n,i)},i.Yi=function(n){return this.he?this.he.Yi(n):t.prototype.Yi.call(this,n)},A(n,[{key:"se",get:function(){var t;return null==(t=this.he)?void 0:t.se}},{key:"ue",get:function(){var t,n;return null==(t=null==(n=this.he)?void 0:n.ue)||t}}]),n}(ar),vr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wi=!0,i.Zt=!0,i}return S(n,t),A(n,[{key:"re",get:function(){return L.Qt}}]),n}(fr),dr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gi=function(){return ce.MediaSource?t.prototype.Gi.call(this):1},A(n,[{key:"re",get:function(){return!0}}]),n}(vr),lr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(n,i){return t.prototype.Qi.call(this,n,i)},A(n,[{key:"$i",get:function(){return L.rn<3}},{key:"Ki",get:function(){return L.rn>=3}},{key:"oe",get:function(){return L.rn<3}}]),n}(fr),_r=function(t){function n(){return t.call(this)||this}return S(n,t),n}(ar),gr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(t,n){if(t&&t.ae&&n&&n.ae){var i=wr(t.ae,"mp4a.40.2")&&wr(n.ae,"mp4a.40.5"),e=wr(t.ae,"mp4a.40.5")&&wr(n.ae,"mp4a.40.2"),r=wr(t.ae,"mp4a.40.2")&&wr(n.ae,"mp4a.40.34"),s=wr(t.ae,"mp4a.40.34")&&wr(n.ae,"mp4a.40.2"),u=wr(t.ae,"mp4a.40.5")&&wr(n.ae,"mp4a.40.34"),o=wr(t.ae,"mp4a.40.34")&&wr(n.ae,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"se",get:function(){if(L.Mt)return 4096}}]),n}(_r);function wr(t,n){return t.indexOf(n)>-1}var mr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Yi=function(t){return t>=2},n}(_r),yr=function(t){function n(){var n;return(n=t.call(this)||this).Wi=L.ln>=11,n.Xi=L.dn&&!(L.Qt&&L.ln<10),n}return S(n,t),n}(_r),kr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ie",get:function(){return!1}}]),n}(fr),pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ue",get:function(){return!L.Ut||(L.tn?92!==L.nn:L.Kt>=100)}}]),n}(_r),br=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"re",get:function(){return!0}}]),n}(fr),Ar=function(){function n(){var n;this.ce=void 0,this.fe=new $t,this.ve=new Tr,this.de=(n=function(){if(L.fn)return new gr;if(L.un||L.hn)return new mr;if(L.dn)return new yr;if(L.$t)return new pr;return new _r}(),L.Qt?new dr(n):L.Zt?new vr(n):L.in?new lr(n):L.sn?new kr(n):L.Mt?new br(n):new fr(n)),this._e=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ce=function(){return t.performance.now()}:this.ce=zt}var i=n.prototype;return i.we=function(){st.apply(void 0,arguments)},i.me=function(){ut.apply(void 0,arguments)},i.ye=function(){ot.apply(void 0,arguments)},i.ke=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Nn=function(t,n){return h(t,n)},i.pe=function(t,n){return c(t,n)},i.In=function(t){a(t)},i.be=function(t){f(t)},i.Mn=function(t){return this.fe.Mn(t)},i.Ae=function(){return this.Te.Ae()},i.Se=function(){return this.Te.Se()},i.Ee=function(){return this.Te.Ee()},i.Re=function(){return this.Te.Re()},i.Ie=function(){return this.Te.Ie()},i.Ne=function(t,n){return this.Te.Ne(t,n)},i.De=function(t){return this.Te.De(t)},i.Ce=function(t,n){var i;return void 0===n&&(n=le(ce)),i="object"!=typeof n||n instanceof de?n:n.href,new de(t,i)},i.xe=function(n,i){if(void 0===i&&(i=le(ce)),this._e){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Ce(n,i).href},A(n,[{key:"Oe",get:function(){return this.ve}},{key:"Pe",get:function(){return this.de}},{key:"Be",get:function(){return{Le:o&&o.userAgent.match(/Android /i)?"Android":"other",Me:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ue",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fe",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Tr=function(){function t(){}return A(t,[{key:"He",get:function(){return o.oscpu}},{key:"Pe",get:function(){return o.platform}},{key:"ze",get:function(){return o.vendor}},{key:"Ve",get:function(){return o.vendorSub}}]),t}();var Sr={exports:{}};!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=l.create(r.prototype),u=new C(e||[]);return s.We=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new v("Generator is already running");if(e===g){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.Xe=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=l.getPrototypeOf,T=A&&A(A(x([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=l.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.We(n,t)}})}function R(t){var n;this.We=function(i,r){function s(){return new ze(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"qe")?ze.resolve(c.qe).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):ze.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,w;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:O}}function O(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{qe:t}},E(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var s=new R(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Xe=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:x(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),w}}}(Sr.exports);var Er=Sr.exports;function Rr(){return(Rr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Ir(){var t=l.create(null);return t.Ge=void 0,delete t.Ge,t}function Nr(){return new Pr}function Dr(){return new Mr}function Cr(t){var n=Nr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}var xr,Or="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Pr=Or||(xr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ir(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ir(),this.size=0},n.keys=function(){return new xr(this.data,function(t,n){return n})},n.values=function(){return new xr(this.data,function(t,n){return t[n]})},n.entries=function(){return new xr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Br,Lr,Mr=Or||(Br=function(){function t(t,n){this.Qe=void 0,this.Ye=void 0,this.Qe=t,this.Ye=n}var n=t.prototype;return n.next=function(){var t=this.Qe.next();return t.done?t:{value:this.Ye(t.value),done:!1}},t}(),function(){function t(){this.je=Nr()}var n=t.prototype;return n.get=function(t){return this.je.get(""+t)},n.set=function(t,n){return this.je.set(""+t,n),this},n.has=function(t){return this.je.has(""+t)},n.delete=function(t){return this.je.delete(""+t)},n.clear=function(){this.je.clear()},n.keys=function(){return new Br(this.je.keys(),function(t){return Number(t)})},n.values=function(){return this.je.values()},n.entries=function(){return new Br(this.je.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.je.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.je.size}}]),t}());!function(t){t.Ze="9a04f079-9840-4286-ab92-e65be0885f95",t.Je="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.$e="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Ke="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Lr||(Lr={}));var Ur,Fr="urn:mpeg:dash:mp4protection:2011",Hr="cenc",zr="sinf",Vr="skd",Wr=Lr.Ze,Xr="urn:uuid:"+Wr,qr="com.microsoft.playready",Gr=Lr.Je,Qr="urn:uuid:"+Gr,Yr=Lr.$e,jr="urn:uuid:"+Yr,Zr=Lr.Ke,Jr="urn:uuid:"+Zr,$r="com.apple.fps.1_0";!function(t){t.Ze="playready",t.Je="widevine",t.Ke="fairplay",t.$e="clearkey",t.tr="aes128"}(Ur||(Ur={}));var Kr={nr:Ur.Ze,ir:qr,er:"cenc",rr:Wr,sr:Xr,ur:"PlayReady"},ts={nr:Ur.Je,ir:"com.widevine.alpha",er:"cenc",rr:Gr,sr:Qr,ur:"Widevine"},ns={nr:Ur.Ke,ir:$r,er:"skd",rr:Zr,sr:Jr,ur:"FairPlay"};Ur.Ke;var is={nr:Ur.$e,ir:"org.w3.clearkey",er:"cenc",rr:Yr,sr:jr,ur:"ClearKey"},es=[Kr,ts,ns,is];function rs(t){return es.filter(function(n){return n.sr===t.toLowerCase()})}function ss(t,n,i){return t.split(n).join(i)}function us(t,n){return null!=t&&-1!==t.indexOf(n)}function os(t,n){return null!=t&&t.substr(0,n.length)===n}function hs(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function as(t,n){return t.toUpperCase()===n.toUpperCase()}function cs(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function fs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=cs(e,r/e.length)),e.slice(0,r)+t)}function vs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ls(n)}var ds=16384;function ls(t){var n=t.length;if(n<=ds)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ds)i.push(String.fromCharCode.apply(String,t.slice(e,e+ds)));return i.join("")}var _s=L.$t&&L.Kt>=42||L.fn&&L.vn>=38||L.un||L.an||L._n&&L.gn>=29;function gs(t,n){return us(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Rr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Rr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ws(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function ms(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var ys,ks=function(){function t(t){this.hr=void 0,this.ar=Nr(),this.cr=void 0,this.hr=t}var n=t.prototype;return n.Ie=function(){return this.De(ts)},n.Se=function(){return this.De(is)},n.Re=function(){return this.De(Kr)},n.Ee=function(){return this.De(ns)},n.De=function(t){var n=t.sr,i=this.ar.get(n);if(i)return i;var e=this.Ne(t,'video/mp4; codecs="avc1.42000a"');return this.ar.set(n,e),e},n.Ne=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.hr.dr(t.ir,[gs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Er.awrap(this.hr.dr(t.ir,[gs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],ze)},n.Ae=function(){return this.cr||(this.cr=this._r()),this.cr},n._r=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==fe.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(_s){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Er.awrap(this.Se());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,ze)},t}();function ps(t,n){return As(t.slice(),n)}function bs(t,n){var i=As(t,n);return i!==t&&Ts(i,void 0,t.length,t),t}function As(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ts(i,n,s,r);var u=i;i=r,r=u}return i}function Ts(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t.gr=0]="gr",t[t.wr=1]="wr",t[t.mr=-1]="mr"}(ys||(ys={}));var Ss=function(t,n){return(0|t)-(0|n)},Es=function(t,n){return t===n?ys.gr:t<n?ys.mr:t>n?ys.wr:m(t)?m(n)?ys.gr:ys.wr:ys.mr};function Rs(t,n,i){return Lt(t,n,i)?ys.gr:Es(t,n)}var Is=function(t,n){return Mt(t,n)?ys.gr:Es(t,n)};function Ns(t,n,i){var e=Ds(t,n,i);return-1===e?void 0:t[e]}function Ds(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Cs(t,n){var i=t.indexOf(n);return-1!==i&&(xs(t,i),!0)}function xs(t,n){t.splice(n,1)}function Os(t,n){return-1!==t.indexOf(n)}function Ps(t){t.length=0}function Bs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Ls(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Er.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,ze)}function Ms(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Us=function(){function t(){this.yr=!1,this.kr=!1,this.pr=[],this.Ar=[]}var n=t.prototype;return n.Tr=function(){if(!this.yr&&!this.kr){this.yr=!0;for(var t=0,n=this.pr.slice();t<n.length;t++){(0,n[t])()}this.Sr()}},n.Sr=function(){if(!this.kr){this.kr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}Ps(this.pr),Ps(this.Ar)}},n.Er=function(t){this.kr||this.pr.push(t)},n.Rr=function(t){this.kr||Cs(this.pr,t)},n.Ir=function(t){this.kr||this.Ar.push(t)},n.Nr=function(t){this.kr||Cs(this.Ar,t)},t}(),Fs=function(){function t(){this.Dr=new Us}var n=t.prototype;return n.Cr=function(){this.Dr.Tr()},n.Sr=function(){this.Dr.Sr()},n.xr=function(t){var n=this.Dr;if(!n.yr)if(t.yr)n.Tr();else if(!n.kr&&!t.kr){var i=function(){e(),n.Tr()},e=function e(){t.Rr(i),t.Nr(e),n.Rr(i),n.Nr(e)};t.Er(i),t.Ir(e),n.Er(i),n.Ir(e)}},n.Or=function(){var n=new t,i=new t,e=n.Pr,r=i.Pr,s=this.Dr,u=function(){e.yr&&r.kr||r.yr&&e.kr?s.Tr():e.kr&&r.kr&&s.Sr()};e.Er(u),r.Er(u),e.Ir(u),r.Ir(u),n.xr(s),i.xr(s);return s.Ir(function(){e.Rr(u),r.Rr(u),e.Nr(u),r.Nr(u)}),[n,i]},A(t,[{key:"Pr",get:function(){return this.Dr}}]),t}(),Hs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Zt);function zs(t){return t instanceof v&&"AbortError"===t.name}function Vs(t){if(t&&t.yr)throw new Hs}function Ws(t){if(zs(t))throw t}function Xs(t){if(!zs(t))throw t}function qs(t,n){return n?new ze(function(i,e){if(n.yr)return t.catch(Z),e(new Hs);var r=function t(){n.Rr(t),e(new Hs)};n.Er(r),t.then(function(t){n.Rr(r),i(t)},function(t){n.Rr(r),e(t)})}):t}function Gs(t,n){return t.then(function(t){return n.Sr(),t},function(t){throw n.Sr(),t})}function Qs(t,n){var i=new Fs;return n&&i.xr(n),t(i.Pr).then(function(t){return i.Cr(),t},function(t){throw i.Cr(),t})}var Ys=ze.resolve();function js(t){Ys.then(t)}function Zs(t){t.then(Z,Z)}function Js(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(ze.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Er.awrap(ze.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],ze)}function $s(t,n){return new ze(function(e,r){if(void 0!==n&&n.yr)r(new Hs);else{var s=i.Nn(function(){void 0!==n&&n.Rr(u),e()},t),u=function(){i.In(s),r(new Hs)};void 0!==n&&n.Er(u)}})}function Ks(t){return t&&"function"!=typeof t?t.slice():t}function tu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var nu,iu=function(){function t(t){var n=this;this.Br=Ir(),this.Lr=void 0,this.Mr=void 0,this.Ur=function(t){n.Fr(t)},this.Mr=t||this}var n=t.prototype;return n.Hr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.zr(e,n)}},n.zr=function(t,n){var i=this.Br[t];i?"function"==typeof i?this.Br[t]=[i,n]:i.push(n):this.Br[t]=n},n.Vr=function(t){if("function"==typeof t){var n=this.Lr;n?"function"==typeof n?this.Lr=[n,t]:n.push(t):this.Lr=t}},n.Wr=function(){this.Br=Ir(),this.Lr=void 0},n.Fr=function(t){var n=Ks(this.Br[t.type]),i=Ks(this.Lr);tu(this.Mr,t,n),tu(this.Mr,t,i)},n.Xr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.qr(e,n)}},n.qr=function(t,n){var i=this.Br[t];i&&("function"==typeof i?i===n&&(this.Br[t]=void 0):Cs(i,n))},n.Gr=function(t){if("string"==typeof t)this.Br[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Br[i]=void 0}},n.Qr=function(t){var n=this.Lr;n&&("function"==typeof n?n===t&&(this.Lr=void 0):Cs(n,t))},n.Yr=function(t,n){var i=this;return new ze(function(e,r){if(n&&n.yr)return r(new Hs);var s=function(t){o(),e(t)},u=function(){o(),r(new Hs)},o=function(){i.Xr(t,s),n&&n.Rr(u)};i.Hr(t,s),n&&n.Er(u)})},t}(),eu=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Fr=function(n){var i=this;js(function(){t.prototype.Fr.call(i,n)})},n}(iu),ru=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},su=["cenc"],uu=["cbcs","cbcs-1-9"],ou=function(t){function n(n){var i;return(i=t.call(this,"Zr")||this).jr=n,i}return S(n,t),n}(ru),hu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Jr")||this).jr=n,s.$r=i,s.Jr=e,s.Kr=r,s}return S(n,t),n}(ru),au=function(t){function n(){return t.call(this,"ts")||this}return S(n,t),n}(ru);!function(t){t.es="rs",t.ss="us"}(nu||(nu={}));var cu=function(t){function n(n,i){var e;return(e=t.call(this,nu.es)||this).er=n,e.os=i,e}return S(n,t),n}(ru),fu=function(t){function n(){return t.call(this,nu.ss)||this}return S(n,t),n}(ru),vu=new y([0]).buffer,du=function(){function t(){this.hs=void 0,this.hs=[]}var n=t.prototype;return n.as=function(t){for(var n=0,i=this.hs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.cs=function(t){for(var n=0,i=this.hs;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.fs=function(t,n){this.hs.forEach(function(n){return t(n[1],n[0])},n)},n.vs=function(t,n){this.hs.push([t,n])},n.ds=function(){Ps(this.hs)},A(t,[{key:"ls",get:function(){return this.hs.length}}]),t}(),lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),_u=16383,gu=/[\t\n\f\r ]/g;function wu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:mu()}function mu(){throw new v("Invalid base64 input")}function yu(t){var n=t;gu.test(n)&&(n=n.replace(gu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return mu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=wu(n.charCodeAt(h))<<18|wu(n.charCodeAt(h+1))<<12|wu(n.charCodeAt(h+2))<<6|wu(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=wu(n.charCodeAt(h))<<2|wu(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=wu(n.charCodeAt(h))<<10|wu(n.charCodeAt(h+1))<<4|wu(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function ku(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],lu[e>>2]+lu[(3&e)<<4|r>>4]+lu[(15&r)<<2|s>>6]+lu[63&s]));return u.join("")}function pu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=_u)e.push(ku(t,s,_.min(r,s+_u)));if(1===i){var u=t[n-1];e.push(lu[u>>2]+lu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(lu[o>>2]+lu[(3&o)<<4|h>>4]+lu[(15&h)<<2]+"=")}return e.join("")}var bu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Au=ArrayBuffer.isView||function(t){return t&&Os(bu,U.call(t))};function Tu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Su(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Eu(t,n)}function Eu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Ru(t){return yu(t).buffer}function Iu(t){return pu(new y(t))}function Nu(t){return pu(co(t))}var Du=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ks=function(){return new t(this.ps)},A(t,[{key:"ps",get:function(){return this._s}}]),t}();function Cu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function xu(t,n){return t>>n&63|128}function Ou(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Cu(t),n.push(t>>12&15|224),n.push(xu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(xu(t,12)),n.push(xu(t,6))),n.push(63&t|128)):n.push(t)}function Pu(t,n){if(n.ps>=t.length)throw new v("Invalid byte index");var i=255&t[n.ps];if(n.gs(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Bu(t,n){var i=n.ps;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.gs(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Pu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Pu(t,n)<<6|Pu(t,n);if(s>=2048)return Cu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Pu(t,n)<<12|Pu(t,n)<<6|Pu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Lu=65279;var Mu=[128,64,32,16,8,4,2,1],Uu=function(){function t(t){this.bs=t}return t.prototype.As=function(t){return Fu(this.bs,t)},t}();function Fu(t,n){return(t&n)===n}function Hu(t,n){return Fu(t,Mu[n])}function zu(t,n){var i=t.getUint8(n.ps);return n.gs(1),i}function Vu(t,n,i){t.setUint8(n.ps,i),n.gs(1)}function Wu(t,n,i){var e=wo(ko(t),n.ps,n.ps+i);return n.gs(e.byteLength),e}function Xu(t,n,i){ko(t).set(ko(i),n.ps),n.gs(i.byteLength)}function qu(t,n,i){return n.ps+i<=t.byteLength}function Gu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=zu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+zu(t,n);return e}(t,n,i)}function Qu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.ps,i);return n.gs(2),e}function Yu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.ps,i,e),n.gs(2)}function ju(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.ps,i);return n.gs(4),e}function Zu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.ps,i,e),n.gs(4)}function Ju(t,n,i){void 0===i&&(i=!1);var e=ju(t,n,i),r=ju(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!0)}function $u(t,n){var i=zu(t,n);if(i)return String.fromCharCode(i)}function Ku(t,n){return io(t,n)}function to(t,n,i){for(var e="",r=0;r<i;r++)e+=$u(t,n);return e}function no(t,n){var i,e=zu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&zu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&zu(t,n))+(63&zu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&zu(t,n))+64*(63&zu(t,n))+(63&zu(t,n))),i}function io(t,n){return eo(t,n,!0)}function eo(t,n,i){for(var e=[];n.ps<t.byteLength;){var r=zu(t,n);if(i&&!r)break;e.push(r)}return ls(e)}function ro(t,n){if(n.ps+2<=t.byteLength){var i=t.getUint8(n.ps),e=t.getUint8(n.ps+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function so(t,n){var i=ro(t,n);return void 0!==i&&n.gs(2),uo(t,n,!0===i)}function uo(t,n,i){return void 0===i&&(i=!1),oo(t,n,i,!0)}function oo(t,n,i,e){for(var r=[];n.ps+2<=t.byteLength;){var s=Qu(t,n,i);if(e&&!s)break;r.push(s)}return ls(r)}function ho(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){Yu(t,n,i.charCodeAt(s),e)}}function ao(t){return eo(yo(t),new So,!1)}function co(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Vu(t,n,i.charCodeAt(r))}(yo(n),new So,t),n}function fo(t,n){return void 0===n&&(n=!1),oo(yo(t),new So,n,!1)}function vo(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return ho(yo(i),new So,t,n),i}function lo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.ps+3<=t.byteLength&&239===t.getUint8(n.ps)&&187===t.getUint8(n.ps+1)&&191===t.getUint8(n.ps+2)})(t,n)&&n.gs(3);for(;n.ps<t.byteLength;){var r=no(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return vs(e)}(t,n,!0)}function _o(t){return vs(function(t,n){var i,e=[],r=new So;if(!n){if(!1===(i=Bu(t,r)))return e;i===Lu||e.push(i)}for(;!1!==(i=Bu(t,r));)e.push(i);return e}(ko(t)))}function go(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Ou(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function mo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function yo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ko(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function po(t){return t instanceof ArrayBuffer||Au(t)}function bo(t){return t instanceof ArrayBuffer?new y(t):ko(t)}function Ao(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):To(wo(t,n,i))}function To(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var So=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ks=function(){return new t(this.ps)},n.Ts=function(){return new Du(this.ps<<3)},A(t,[{key:"ps",get:function(){return this._s}}]),t}();function Eo(t){var n=t,i=0,e=0;os(n,"0x")&&(n=n.substring(2));var r=new y(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=g(n[0],16));i<n.length;i+=2)r[e++]=g(n.substr(i,2),16);return r}var Ro=function(){function t(){var t=this;this.Ss=void 0,this.Es=void 0,this.Rs=void 0,this.Ss=new ze(function(n,i){t.Es=n,t.Rs=i})}var n=t.prototype;return n.Is=function(t){this.Es&&(this.Es(t),this.Sr())},n.Ns=function(t){this.Rs&&(this.Rs(t),this.Sr())},n.Cr=function(){this.Ss.catch(Z),this.Ns(new Hs)},n.Sr=function(){this.Es=void 0,this.Rs=void 0},t}();function Io(){return new y([8,4]).buffer}function No(t){return Tu(t,Io())}function Do(t,n){return t===qr?function(t){if(t.byteLength<2*Co.length)return t;if(fo(new DataView(t,0,2*Co.length),!0)===Co)return t;return n=t,vo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Iu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Co="<PlayReady";var xo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ds=void 0,s.Cs=void 0,s.Ds=i,s.Cs=e,s}return S(n,t),n}(Zt),Oo=function(t,n){return(Oo=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Po(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Oo(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function Bo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Lo(t,n,i){return _.min(_.max(t,n),i)}function Mo(t,n){return t>>8-n}function Uo(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.xs=t,this.Os=n}t.prototype.get=function(t){var n=this.xs.get(t);if(0===this.Os||void 0===n)return n;var i=this.xs.get(t+1)||0,e=n&(1<<8-this.Os)-1,r=i>>8-this.Os;return(e<<this.Os)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.xs.get(_.floor((t+this.Os)/8));if(void 0!==n)return(n&1<<7-this.Os-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.xs.bitLength-this.Os},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.xs.length},enumerable:!1,configurable:!0})}();var Fo=function(){function t(t){this.Ps=t,this.Bs=0,this.Ls=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Bs+this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.Bs===this.Ps.length&&0===this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Bs,bit:this.Ls}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ps);return n.seek(this.Bs,this.Ls),n},t.prototype.canReadBits=function(t){return 8*this.Bs+t+this.Ls<=8*this.Ps.length},t.prototype.canReadBytes=function(t){return 0===this.Ls?this.Bs+t<=this.Ps.length:this.Bs+t<this.Ps.length},t.prototype.incBit=function(){this.Ls++,this.Ls>7&&(this.Bs++,this.Ls=0)},t.prototype.seek=function(t,n){this.Bs=t,this.Ls=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ps.get(this.Bs)>>7-this.Ls&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ls)return this.Ps.get(this.Bs++);var t=Uo(this.Ps.get(this.Bs),8-this.Ls),n=Mo(this.Ps.get(this.Bs+1),this.Ls);return this.Bs++,t<<this.Ls|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ls&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-_.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ls+t;this.Bs+=n>>3,this.Ls=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),Ho=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},zo=function(){function t(){this.Ms=[],this.Us=[],this.Pi=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.Us.length)this.Us.push(0);else{var e=this.Us[this.Us.length-1]+this.Ms[this.Ms.length-1].length;this.Us.push(e)}this.Ms.push(t.subarray(n,n+i)),this.Pi+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ms;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ms=[],this.Us=[],this.Pi=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Us[n];return this.Ms[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ms.length<1)return-1;if(this.Ms.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ms[0];return"number"==typeof t?Bo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Bo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=_.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.Us,t,Ho)},t.prototype.join=function(){if(1===this.Ms.length)return this.Ms[0];var t=new y(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.Pi},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*_.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Lo(n,0,this.length),r=Lo(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ms[u],h=e,a=h-this.Us[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.Us[u],o=this.Ms[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ms.length-1,e=this.Ms[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ms[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Vo=function(){function t(n){this.Fs=n||t.BUFFER_CHUNK_SIZE,this.Hs=!1,this.zs=new zo,this.Ps=new y(this.Fs),this.Vs=0,this.Ws=0,this.Ls=7}return t.prototype.closeByte=function(){this.Ps[this.Vs++]=this.Ws,this.Vs>=this.Fs&&this.closeBuffer(),this.Ws=0,this.Ls=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Vs&&(this.zs.pushRange(this.Ps,0,this.Vs),t&&(this.Ps=new y(this.Fs)),this.Vs=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ls},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Hs)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Hs=!0,this.zs},t.prototype.writeBit=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.Ws|=t<<this.Ls,0===this.Ls?this.closeByte():this.Ls--},t.prototype.writeByte=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ws=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ls;this.Ws|=Mo(t,n+1),this.closeByte(),this.Ws=Uo(t,8-n)<<n+1,this.Ls=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Vs+t.length<=this.Fs?(this.Ps.set(t,this.Vs),this.Vs+=t.length,this.Vs===this.Fs&&this.closeBuffer()):(this.closeBuffer(),this.zs.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ls;this.Ws|=Mo(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Uo(t[i-1],8-n),r=Mo(t[i],n+1);this.Ws=e<<n+1|r,this.closeByte()}this.Ws=Uo(t[t.length-1],8-n)<<n+1,this.Ls=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=_.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(_.abs(t)>=_.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+_.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=_.floor(_.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Wo=function(){function t(t){this.rb=new zo,this.Xs=t}return t.prototype.closeWriter=function(){void 0!==this.Xs&&(this.rb=this.rb.concat(this.Xs.close()),this.Xs=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Xs&&(this.Xs=new Vo),this.Xs},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Xo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(_.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Wo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=_.pow(2,32),t}();function qo(t,n){return t instanceof ct?64===n:t<_.pow(2,n)}function Go(t,n){return _.round(t*_.pow(2,n))}function Qo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Yo(t,n){return t/_.pow(2,n)}var jo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!qo(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Po(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Xo),Zo=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Po(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(zo.from(this.data))},n}(Xo),Jo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function $o(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ko)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ko)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ko)));return i.join("")}(n)}var Ko=16384;var th=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function nh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ih(t,n,i){return n.offset+i<=t.byteLength}function eh(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function rh(t,n,i){void 0===i&&(i=!1);var e=eh(t,n,i),r=eh(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!0)}function sh(t,n){var i=nh(t,n);if(i)return String.fromCharCode(i)}function uh(t,n,i){for(var e="",r=0;r<i;r++)e+=sh(t,n);return e}function oh(t,n){var i,e=nh(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&nh(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&nh(t,n))+(63&nh(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&nh(t,n))+64*(63&nh(t,n))+(63&nh(t,n))),i}function hh(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=oh(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return $o(e)}(t,n,!0)}function ah(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function ch(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var fh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Jo(this.offset<<3)},t}(),vh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return nh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return eh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=eh(t,n,i),r=eh(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return rh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=ah(ch(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(eh(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return uh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return hh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function dh(t,n){return t.type===n}var lh=8;function _h(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=gh(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function gh(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ih(t,n,lh)){var e=n.offset+lh;return{complete:!1,neededOffset:e}}var r=eh(t,n),s=uh(t,n,4);if(1===r){if(!ih(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=rh(t,n).toNumber()}if("uuid"===s){if(!ih(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=uh(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new vh((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new fh(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function wh(t){return{version:t>>24,flags:new th(16777215&t)}}function mh(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function yh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function kh(t){var n=t.nextUint32Array(9);return{a:Yo(n[0],16),b:Yo(n[1],16),u:Yo(n[2],30),c:Yo(n[3],16),d:Yo(n[4],16),v:Yo(n[5],30),x:Yo(n[6],16),y:Yo(n[7],16),w:Yo(n[8],30)}}function ph(t){return new Zo(t.type,ah(ch(t.data.data),t.data.cursor.offset))}var bh=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Po(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.Gs},set:function(t){this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(jo);function Ah(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new bh(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Po(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(bh);var Th=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Qs},set:function(t){if(!qo(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}Po(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ys},set:function(t){if(!qo(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ys=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.js},set:function(t){if(!qo(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!qo(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Js},set:function(t){if(!qo(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.$s},set:function(t){if(!qo(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Th),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Po(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(zo.from(this.data))}}(Th);var Sh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Po(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Th);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Sh(r.fixed28BitMode),s}Po(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.Ks},set:function(t){if(!qo(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.tu},set:function(t){if(!qo(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.nu},set:function(t){if(t&&!qo(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.iu},set:function(t){if(t&&!qo(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.iu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Th);var Eh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Po(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Xo),Rh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Po(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Eh),Ih=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Po(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.eu},set:function(t){if(!qo(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Rh),Nh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Po(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.ru},set:function(t){if(!qo(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.su},set:function(t){if(!qo(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.uu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Go(this.sampleRate,16),32),this.extra&&Qo(n.writer,this.extra)},n}(Ih);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Po(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.hu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.au},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.cu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.fu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.vu},set:function(t){if(!qo(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.du},set:function(t){if(!qo(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.lu},set:function(t){if(!qo(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this._u},set:function(t){if(!qo(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Xo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.sampleCount,32)||!qo(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(jo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Po(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){this.flags=void 0===t?1:0,this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(jo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Po(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(jo),function(t){function n(){return t.call(this,"dinf")||this}Po(n,t)}(Rh);var Dh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!qo(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Po(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Eh);!function(t){function n(){return t.call(this,"dref",0,0)||this}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Dh);var Ch=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!qo(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!qo(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!qo(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!qo(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(jo),xh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ch),Oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ch);function Ph(t){for(var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new xh(u,r.raw):new Oh(u,r.raw)}var Bh=function(t){function n(){return t.call(this,"edts")||this}return Po(n,t),n}(Rh);function Lh(t){for(var n=new Bh,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"elst")?n.boxes.push(Ph(r)):n.boxes.push(ph(r))}return n}var Mh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Po(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.wu},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.mu},set:function(t){if(!qo(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.yu},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Xo);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Po(n,t)}(Mh),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Po(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(zo.from(this.data))}}(Xo);var Uh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Po(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Tu},set:function(t){if(!Vh(t))throw new v("Expected an ISO-639-2/T language code");this.Tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(jo),Fh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Po(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Uh),Hh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Po(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uh);function zh(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=mh(n,e),u=new Fo(zo.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return Vh(a)||(a="und"),n.skip(2),0===e?new Fh(s,a,r.raw):new Hh(s,a,r.raw)}function Vh(t){return/^[a-z]{3}$/.test(t)}var Wh,Xh=function(t){function n(){return t.call(this,"mdia")||this}return Po(n,t),n}(Rh);function qh(t){for(var n=new Xh,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mdhd")?n.boxes.push(zh(r)):dh(r,"hdlr")?n.boxes.push(Ah(r)):n.boxes.push(ph(r))}return n}!function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new zo,n}Po(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Xo),function(t){function n(){return t.call(this,"minf")||this}Po(n,t)}(Rh),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Dh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Wh||(Wh={}));var Gh,Qh,Yh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function jh(t,n){n.writer.writeUInt(Go(t.a,16),32),n.writer.writeUInt(Go(t.b,16),32),n.writer.writeUInt(Go(0,30),32),n.writer.writeUInt(Go(t.c,16),32),n.writer.writeUInt(Go(t.d,16),32),n.writer.writeUInt(Go(0,30),32),n.writer.writeUInt(Go(t.x,16),32),n.writer.writeUInt(Go(t.y,16),32),n.writer.writeUInt(Go(1,30),32)}function Zh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Gh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Qh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Qh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Qh.UNKNOWN,2)}function Jh(t,n){var i,e,r;n.writer.writeUInt(0,4),Zh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Gh||(Gh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Qh||(Qh={}));var $h=function(){return function(){}}(),Kh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Po(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Su},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.di},set:function(t){if(!qo(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.di=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(zo.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(zo.from(this.data))},n}(jo),ta=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Po(n,t),n}(Kh),na=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Po(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Eu},set:function(t){if(!qo(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(zo.from(e))}},n}(Kh);function ia(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new na(i,o,e):new ta(i,o)}var ea=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ru},set:function(t){if(!qo(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ru=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(jo),ra=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(ea),sa=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(ea);function ua(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new ra(n.nextUint32(),r.raw):new sa(n.nextUint64(),r.raw)}var oa=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,h=this;return(h=t.call(this,"trex",e,r)||this).trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!qo(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(!qo(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!qo(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Jh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(jo);function ha(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=yh(new Fo(zo.from(n.nextUint8Array(4))));return new oa(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var aa=function(t){function n(){return t.call(this,"mvex")||this}return Po(n,t),n}(Rh);function ca(t){for(var n=new aa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mehd")?n.boxes.push(ua(r)):dh(r,"trex")?n.boxes.push(ha(r)):n.boxes.push(ph(r))}return n}var fa=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,h,a,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:Yh,c.Ou=e,c}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Pu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!qo(Go(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ou},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!qo(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Go(this.rate,16),32),n.writer.writeUInt(Go(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),jh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(jo),va=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Po(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(fa),da=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Po(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(fa);function la(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=mh(n,e),u=Yo(n.nextUint32(),16),o=Yo(n.nextUint16(),8);n.skip(2),n.skip(8);var h=kh(n);n.skip(24);var a=n.nextUint32();return 0===e?new va(s,a,{rate:u,volume:o,matrix:h},r.raw):new da(s,a,{rate:u,volume:o,matrix:h},r.raw)}var _a=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h,a,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Yh,f}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!qo(t,32))throw new v("trackId cannot exceed 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!qo(Go(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Fu},set:function(t){if(!qo(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Hu},set:function(t){if(!qo(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Go(this.volume,8),16),n.writer.writeUInt(0,16),jh(this.matrix,n),n.writer.writeUInt(Go(this.width,16),32),n.writer.writeUInt(Go(this.height,16),32)},n}(jo),ga=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(_a),wa=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(_a);function ma(t){var n,i,e,r,s=t.data,u=wh(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=Yo(s.nextInt16(),8);s.skip(2);var g=kh(s),w=Yo(s.nextUint32(),16),m=Yo(s.nextUint32(),16);return 0===o?new ga({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new wa({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var ya=function(t){function n(){return t.call(this,"trak")||this}return Po(n,t),n}(Rh);function ka(t){for(var n=new ya,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"tkhd")?n.boxes.push(ma(r)):dh(r,"mdia")?n.boxes.push(qh(r)):dh(r,"edts")?n.boxes.push(Lh(r)):n.boxes.push(ph(r))}return n}var pa=function(t){function n(){return t.call(this,"moov")||this}return Po(n,t),n}(Rh);var ba=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.zu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(jo),Aa=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ba),Ta=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ba);function Sa(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Aa(n.nextUint32(),r.raw):new Ta(n.nextUint64(),r.raw)}var Ea=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Vu},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!qo(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Wu},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!qo(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!qo(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!qo(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Jh(this.defaultSampleFlags,n)},n}(jo);function Ra(t){var n=t.data,i=n.nextUint8(),e=new Fo(zo.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,g=u?yh(new Fo(zo.from(n.nextUint8Array(4)))):void 0;return new Ea({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:g},i)}var Ia=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Po(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Xu},set:function(t){if(t&&!qo(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.qu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.qu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n,i;if(!qo(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!qo(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!qo(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!qo(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!qo(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!qo(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Jh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Jh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(jo);function Na(t){var n=t.data,i=n.nextUint8(),e=new Fo(zo.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=yh(new Fo(zo.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=yh(new Fo(zo.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Ia(i,f,v)}var Da=function(t){function n(){return t.call(this,"traf")||this}return Po(n,t),n}(Rh);function Ca(t){for(var n=new Da,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"tfhd")?n.boxes.push(Ra(r)):dh(r,"tfdt")?n.boxes.push(Sa(r)):dh(r,"trun")?n.boxes.push(Na(r)):n.boxes.push(ph(r))}return n}var xa=function(t){function n(){return t.call(this,"moof")||this}return Po(n,t),n}(Rh);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Po(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Qu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(jo);var Oa=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Po(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Yu},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Xo);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Po(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ju},set:function(t){if(!qo(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Zu},set:function(t){if(!qo(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Xo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Po(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Rh),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Oa(n),r}Po(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Xo);var Pa=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){var n=this;if(!qo(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!qo(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!qo(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!qo(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(jo);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Po(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Pa),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Po(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Pa),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Po(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$u},set:function(t){if(!qo(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.$u=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ku},set:function(t){if(!qo(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!qo(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!qo(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!qo(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(jo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Zh(e[i],n)}}}(jo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Dh);var Ba=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Po(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.to},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(jo);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Po(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Ba),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Po(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.io},set:function(t){if(!qo(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Ba),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Po(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!qo(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Ba),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Po(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eo},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Po(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!qo(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){if(!qo(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(jo),function(t){function n(){return t.call(this,"stbl")||this}Po(n,t)}(Rh),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.firstChunk,32)||!qo(t.sampleDescriptionIndex,32)||!qo(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(jo),function(t){function n(){return t.call(this,"schi")||this}Po(n,t)}(Rh),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Po(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.ro},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.so},set:function(t){if(!qo(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.so=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uo},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(jo);var La=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.oo},set:function(t){if(!qo(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ho},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ho=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ao},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ao=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.co},set:function(t){if(!qo(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!qo(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!qo(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!qo(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!qo(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(jo),Ma=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(La),Ua=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(La);!function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Po(n,t)}(Mh),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Po(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.fo},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!qo(Go(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Go(this.balance,8),16),n.writer.writeUInt(0,16)}}(jo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.sampleCount,32)||!qo(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(jo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Dh),function(t){function n(){return t.call(this,"udta")||this}Po(n,t)}(Rh);var Fa={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Fa);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Po(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.vo},set:function(t){if(!qo(t.red,16)||!qo(t.green,16)||!qo(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(jo);var Ha=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,h,a,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Po(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!qo(t,16))throw new v("Provided width does not fit in 16 bits.");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!qo(t,16))throw new v("Provided height does not fit in 16 bits.");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.do},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.lo},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this._o},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this._o=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.wo},set:function(t){if(!qo(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.wo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.mo},set:function(t){if(!qo(t,16))throw new v("Provided depth does not fit in 16 bits.");this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Go(this.horizontalResolution,16),32),n.writer.writeUInt(Go(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Qo(n.writer,this.extra)},n}(Ih);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(zo.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(jo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Nh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ha),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ih),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Xo),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this.yo},set:function(t){if(!qo(t,8))throw new v("Provided version does not fit in 8 bits.");this.yo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.ko},set:function(t){if(!qo(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.ko=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.po},set:function(t){if(!qo(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.bo},set:function(t){if(!qo(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.bo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.Ao},set:function(t){if(!qo(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.Ao=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.To},set:function(t){if(!qo(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(zo.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(zo.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Po(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ha),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Po(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!qo(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.So},set:function(t){if(!qo(t,32))throw new v("Provided max does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.Eo},set:function(t){if(!qo(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Xo);var za=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Po(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ro},set:function(t){if(!qo(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Io},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Io=t,this.No=new y(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.Do},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.No},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.No=t,this.Io=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Qo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Qo(t.writer,this.constantIv))},n}(jo);!function(t){function n(n){return t.call(this,0,n)||this}Po(n,t)}(za);var Va=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Po(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Co},set:function(t){if(!qo(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Co=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.xo},set:function(t){if(!qo(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(za);function Wa(t){return void 0!==t.iv}function Xa(t){return void 0!==t.subsamples}function qa(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=gh(i,e);if(!r.complete)return;if(dh(r.box,n))return r.box}}(new vh((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new fh),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Va(n),i}Po(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}($h),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Po(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n;if(!qo(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Wa(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Xa(r)),!0===n&&!Xa(r)||!1===n&&Xa(r))throw new v("Mix of samples with and without subsamples detected.");if(Xa(r)){if(!qo(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!qo(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!qo(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Wa(r)&&(n+=r.iv.length),Xa(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Wa(r)&&Qo(n.writer,r.iv),Xa(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(jo),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Po(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oo},set:function(t){if(!qo(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Po},set:function(t){if(!qo(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Bo},set:function(t){if(!qo(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(zo.from(this.data))}}(jo);var Ga=qa("moov",function(t){for(var n=new pa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mvhd")?n.boxes.push(la(r)):dh(r,"trak")?n.boxes.push(ka(r)):dh(r,"mvex")?n.boxes.push(ca(r)):dh(r,"pssh")?n.boxes.push(ia(r)):n.boxes.push(ph(r))}return n}),Qa=qa("sidx",function(t){var n,i,e=t.data,r=wh(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new Fo(zo.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),g=Boolean(v.readBit()),w=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:g,sapType:w,sapDeltaTime:m})}return 0===s?new Ma(o,h,n,i,c,u.raw):new Ua(o,h,n,i,c,u.raw)}),Ya=qa("moof",function(t){for(var n=new xa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"traf")?n.boxes.push(Ca(r)):dh(r,"pssh")?n.boxes.push(ia(r)):n.boxes.push(ph(r))}return n}),ja=qa("pssh",ia),Za=function(t){function n(n,i){var e;(e=t.call(this)||this).Lo=void 0,e.Mo=!1,e.Uo=void 0,e.Fo=void 0,e.Ho=function(){e.zo()},e.Vo=function(t){e.Fr(new hu(Yt(e),t.messageType,Do(e.Wo,t.message)))},e.Xo=function(){e.Mo=!0,e.Lo.ls>0&&(e.Lo.ds(),e.Fr(new ou(Yt(e)))),e.qo.removeEventListener("keystatuseschange",e.Ho),e.qo.removeEventListener("message",e.Vo)},e.qo=n,e.Wo=i,e.qo.addEventListener("keystatuseschange",e.Ho),e.qo.addEventListener("message",e.Vo),e.Lo=new du;var r=[];return e.qo.closed&&r.push(ze.resolve(e.qo.closed)),e.Fo=new Ro,r.push(e.Fo.Ss),e.Uo=ze.race(r).then(e.Xo,e.Xo),e.zo(),e}S(n,t);var i=n.prototype;return i.Go=function(){if(this.Mo)return this.Uo;var t=[];return t.push(ze.resolve(this.qo.close())),t.push($s(1e3)),this.Fo.Is(ze.race(t).catch(Ja)),this.Mo=!0,this.Uo},i.Qo=function(t,n,i){if(L.Yt){var e=ja(bo(n));if(1===e.version)n=new ta(e.systemId,e.data).serialize().join()}return ze.resolve(this.qo.generateRequest(t,n)).catch(Ja)},i.Yo=function(t){return ze.resolve(this.qo.load(t)).catch(Ja)},i.jo=function(){return ze.resolve(this.qo.remove()).catch(Ja)},i.Zo=function(t){return ze.resolve(this.qo.update(t)).catch(Ja)},i.zo=function(){var t=this;this.Lo.ds(),this.qo.keyStatuses.forEach(function(n,i){t.Jo(i,n)}),this.Fr(new ou(this))},i.Jo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=bo(t);if(this.Wo===qr&&16===e.byteLength){var r=yo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Wo===qr&&"status-pending"===n&&(n="usable"),this.Lo.vs(e,n)},A(n,[{key:"$o",get:function(){return this.Uo}},{key:"Ko",get:function(){return this.qo.expiration}},{key:"th",get:function(){return this.Lo}},{key:"nh",get:function(){return this.qo.sessionId}}]),n}(iu);function Ja(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new xo(t.message,void 0,n,t)}var $a=function(){function t(t,n,i){this.ih=t,this.eh=n,this.rh=i}var n=t.prototype;return n.sh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Za(this.ih.createSession(t),this.eh));case 1:case"end":return n.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(this.ih.setServerCertificate(t))},n.oh=function(t){return ze.resolve(t.setMediaKeys(this.ih))},n.hh=function(t){return ze.resolve(t.setMediaKeys(null))},t}(),Ka=function(){function t(t,n,i){this.ah=t,this.Wo=n,this.fh=i}var n=t.prototype;return n.vh=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.ah.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new $a(t,this.Wo,this.fh));case 4:case"end":return n.stop()}},null,this,null,ze)},n.dh=function(){return this.fh},A(t,[{key:"eh",get:function(){return this.ah.keySystem}}]),t}(),tc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function nc(t){return us(t,tc.APPLICATION_MP4)||us(t,tc.VIDEO_MP4)||us(t,tc.AUDIO_MP4)}var ic=function(){function t(t,n){this.nr=void 0,this.lh=void 0,this.nr=t,this.lh=n}return t.prototype._h=function(t){for(var n=0,i=this.lh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function ec(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new ic(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=rc(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=rc(r.substr(u));f&&s.push(f)}return new ic(e,s)}function rc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function sc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function uc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gh:e.gh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return oc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return oc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function oc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Os(n,e.encryptionScheme))&&(!e.robustness&&t(i,sc(e.contentType))))}function hc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function ac(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function cc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(fc))||!(!t.videoCapabilities||!t.videoCapabilities.some(fc))}function fc(t){return!t.robustness}function vc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Rr({},r,{robustness:n}))}return i}var dc=function(){function t(){}return t.prototype.dr=function(t,n){var i,e,r,s,u,h,a,c;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=ac(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=ac(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(cc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Rr({},n=t,{videoCapabilities:n.videoCapabilities?vc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?vc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Er.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,h=u.getConfiguration(),f.abrupt("return",new Ka(u,t,h));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Er.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,c=a.getConfiguration(),f.abrupt("return",new Ka(a,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],ze)},t.wh=function(){return ws()},t}(),lc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mo=!1,e.mh=void 0,e.yh=void 0,e.kh=void 0,e.ph=void 0,e.bh=void 0,e.Xo=function(){e.Mo=!0,e.mh.Is(void 0),e.bh&&(e.bh.removeEventListener("mskeyclose",e.Xo),e.bh.removeEventListener("mskeymessage",e.Ah),e.bh.removeEventListener("mskeyerror",e.Th),e.bh.removeEventListener("mskeyadded",e.Sh))},e.Ah=function(t){e.kh&&(e.kh.Is(void 0),e.kh=void 0),e.Fr(new hu(Yt(e),"license-request",To(t.message).buffer,t.destinationURL||void 0))},e.Th=function(){var t=e.bh&&e.bh.error;if(t){var n=new xo("Unknown CDM error",t.code,t.systemCode);if(e.kh)e.kh.Ns(n),e.kh=void 0;else if(e.yh)e.yh.Ns(n),e.yh=void 0;else switch(n.Ds){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Eh("output-not-allowed");break;default:e.Eh("internal-error")}}},e.Sh=function(){e.kh&&(e.Eh("usable"),e.kh.Is(void 0),e.kh=void 0),e.yh&&(e.Eh("usable"),e.yh.Is(void 0),e.yh=void 0)},e.Rh=n,e.Ih=i,e.mh=new Ro,e.ph=new du,e}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),this.kh=new Ro,this.sh(bo(n),i),t.next=5,Er.awrap(this.kh.Ss);case 5:case"end":return t.stop()}},null,this,null,ze)},i.sh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Rh.createSession(this.Ih,t,e):this.Rh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Xo),i.addEventListener("mskeymessage",this.Ah),i.addEventListener("mskeyerror",this.Th),i.addEventListener("mskeyadded",this.Sh),this.bh=i,this.Eh("status-pending"),i},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,ze)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.yh=new Ro,this.Nh(),this.bh){i.next=4;break}return i.abrupt("return",ze.resolve());case 4:if(0!==(n=bo(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.bh.update(n),i.next=10,Er.awrap(this.yh.Ss);case 10:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){return!this.Mo&&this.bh&&(this.Mo=!0,this.bh.close()),this.mh.Ss},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,ze)},i.Nh=function(){if(this.Mo)throw new d("Already closing or closed.")},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.bh&&this.bh.sessionId||""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu),_c=function(){function t(t,n,i){this.Ih=void 0,this.Rh=t,this.eh=n,this.rh=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var n=t.prototype;return n.sh=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new lc(this.Rh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(!1)},n.oh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rh),t.removeEventListener("loadedmetadata",i)}),ze.resolve()},n.hh=function(t){return ze.resolve()},t}(),gc=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.MSMediaKeys(this.Wo);return ze.resolve(new _c(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),wc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(function(t,n){if(!mc())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(yc,su,t,e);if(r)return new gc(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return mc()},t}();function mc(){return void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported}function yc(t,n){return ce.MSMediaKeys.isTypeSupported(t,n)}var kc,pc,bc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).mh=new Ro,r.xh=void 0,r.ph=new du,r.Oh=void 0,r.Ph=new Ro,r.Th=function(){var t=r.Oh&&r.Oh.error;if(t){var n=new xo("Unknown CDM error",t.code,t.systemCode);r.xh?(r.xh.Ns(n),r.xh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Eh("output-not-allowed"):r.Eh("internal-error"),r.Fr(new au)}},r.Ah=function(t){r.xh&&(r.xh.Is(void 0),r.xh=void 0),r.Fr(new hu(Yt(r),"license-request",To(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Bh=n,r.Ih=i,r.Lh=e,r}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=Ac(bo(n),e,this.Lh);return this.Oh=this.Bh.createSession(this.Ih,r),this.Oh.addEventListener("webkitkeymessage",this.Ah,!1),this.Oh.addEventListener("webkitkeyerror",this.Th,!1),this.Eh("usable"),this.Ph.Is(this.Oh),this.Ph=new Ro,ze.resolve()},i.Yo=function(t){return ze.resolve(!0)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=bo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.xh=new Ro,i.t0=this.Oh,i.t0){i.next=9;break}return i.next=8,Er.awrap(this.Ph.Ss);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Er.awrap(this.xh.Ss);case 13:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){var t=this.Oh;return t&&(t.removeEventListener("webkitkeymessage",this.Ah,!1),t.removeEventListener("webkitkeyerror",this.Th,!1),t.close()),this.Ph.Cr(),this.mh.Is(void 0),this.mh.Ss},i.jo=function(){return ze.resolve(void 0)},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.Oh?this.Oh.sessionId:""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu);function Ac(t,n,i){var e=_o(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new So;return Zu(o,h,r,!0),ho(o,h,e,!0),Zu(o,h,s,!0),ho(o,h,n,!0),Zu(o,h,i.byteLength,!0),Xu(o,h,i),new y(u)}n.ErrorCode=void 0,(kc=n.ErrorCode||(n.ErrorCode={}))[kc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",kc[kc.LICENSE_ERROR=2e3]="LICENSE_ERROR",kc[kc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",kc[kc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",kc[kc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",kc[kc.SOURCE_INVALID=3e3]="SOURCE_INVALID",kc[kc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",kc[kc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",kc[kc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",kc[kc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",kc[kc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",kc[kc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",kc[kc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",kc[kc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",kc[kc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",kc[kc.NETWORK_ERROR=6e3]="NETWORK_ERROR",kc[kc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",kc[kc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",kc[kc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",kc[kc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",kc[kc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",kc[kc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",kc[kc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",kc[kc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",kc[kc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",kc[kc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",kc[kc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",kc[kc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",kc[kc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",kc[kc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",kc[kc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",kc[kc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",kc[kc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",kc[kc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",kc[kc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",kc[kc.AD_ERROR=1e4]="AD_ERROR",kc[kc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",kc[kc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(pc=n.ErrorCategory||(n.ErrorCategory={}))[pc.CONFIGURATION=1]="CONFIGURATION",pc[pc.LICENSE=2]="LICENSE",pc[pc.SOURCE=3]="SOURCE",pc[pc.MANIFEST=4]="MANIFEST",pc[pc.MEDIA=5]="MEDIA",pc[pc.NETWORK=6]="NETWORK",pc[pc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",pc[pc.SUBTITLE=8]="SUBTITLE",pc[pc.VR=9]="VR",pc[pc.AD=10]="AD",pc[pc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Tc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Zt),Sc=function(){function t(t,n,i){this.Ih=void 0,this.Lh=void 0,this.Bh=t,this.eh=n,this.rh=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Bh},i.sh=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new bc(this.Bh,this.Ih,this.Lh));case 3:case"end":return t.stop()}},null,this,null,ze)},i.uh=function(t){return this.Lh=bo(t),ze.resolve(!0)},i.oh=function(t){return t.webkitSetMediaKeys(this.Bh),ze.resolve()},i.hh=function(t){return t.webkitSetMediaKeys(null),ze.resolve()},t}(),Ec=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.WebKitMediaKeys(this.Wo);return ze.resolve(new Sc(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),Rc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(function(t,n){if(t!==$r)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Ic())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(Nc,uu,t,e);if(r)return new Ec(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return Ic()},t}();function Ic(){return void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported}function Nc(t,n){return ce.WebKitMediaKeys.isTypeSupported(t,n)}var Dc,Cc=function(){function t(t){this.Uh=t}return t.prototype.dr=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Er.awrap(r.dr(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],ze)},t}(),xc=function(t){function n(n){var i;return(i=t.call(this)||this).kh=void 0,i.xh=void 0,i.mh=void 0,i.Hs=!1,i.Fh=void 0,i.Hh=void 0,i.zh=void 0,i.Vh=void 0,i.Wh=void 0,i.Wo=n,i.mh=new Ro,i.Hh="",i.Wh=new Ro,i.zh=new du,i}S(n,t);var i=n.prototype;return i.Xh=function(){this.xh&&(this.Eh("usable"),this.xh.Is(void 0),this.xh=void 0)},i.qh=function(t){var n=new xo("Unknown CDM error",t.errorCode,t.systemCode);this.xh?(this.xh.Ns(n),this.xh=void 0):this.kh?(this.kh.Ns(n),this.kh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Eh("output-restricted"):1===n.Cs?this.Eh("expired"):this.Eh("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.kh&&(this.kh.Is(void 0),this.kh=void 0),this.Fr(new hu(this,"license-request",Do(this.Wo,To(t.message).buffer),t.defaultURL||void 0)))},i.Qh=function(t){this.Vh||(this.Vh=t,this.Wh.Is(t))},i.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Hs=!0,this.mh.Is(void 0);case 3:case"end":return t.stop()}},null,this,null,ze)},i.Qo=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.kh=new Ro,this.Fh=bo(n),t.t0=this.Vh,t.t0){t.next=8;break}return t.next=7,Er.awrap(this.Wh.Ss);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Wo,this.Fh),t.next=12,Er.awrap(this.kh.Ss);case 12:case"end":return t.stop()}},null,this,null,ze)},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,ze)},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,ze)},i.Zo=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.xh=new Ro,n.t0=this.Vh,n.t0){n.next=7;break}return n.next=6,Er.awrap(this.Wh.Ss);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Wo,bo(t),this.Fh,this.nh),n.next=11,Er.awrap(this.xh.Ss);case 11:case"end":return n.stop()}},null,this,null,ze)},i.throwIfClosed=function(){if(this.Hs)throw new d("Already closing or closed.")},i.Eh=function(t){this.zh.ds(),this.zh.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"th",get:function(){return this.zh}},{key:"nh",get:function(){return this.Hh},set:function(t){this.Hh=t}},{key:"$o",get:function(){return this.mh.Ss}},{key:"Ko",get:function(){return NaN}}]),n}(iu),Oc=function(){function t(t,n){var i=this;this.Vh=void 0,this.Yh=Nr(),this.jh=[],this.Sh=function(t){var n=i.Zh(t.sessionId);n&&n.Xh()},this.Jh=function(t){var n=i.Zh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Zh(t.sessionId);n&&n.Gh(t)},this.eh=t,this.rh=n}var n=t.prototype;return n.oh=function(t){return this.Vh=t,this.Vh.addEventListener("webkitkeyadded",this.Sh),this.Vh.addEventListener("webkitkeyerror",this.Jh),this.Vh.addEventListener("webkitkeymessage",this.$h),this.Yh.forEach(function(n,i){return n.Qh(t)}),this.jh.forEach(function(n){return n.Qh(t)}),ze.resolve()},n.hh=function(t){return t.removeEventListener("webkitkeyadded",this.Sh),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.Vh=void 0,ze.resolve()},n.sh=function(t,n,i){var e;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new xc(this.eh),this.Vh&&e.Qh(this.Vh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(!1)},n.Zh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.nh=t,this.Yh.set(t,n),n):void 0)}},t}(),Pc=function(){function t(t,n){this.eh=t,this.Kh=n}var n=t.prototype;return n.vh=function(){return ze.resolve(new Oc(this.eh,this.Kh))},n.dh=function(){return this.Kh},t}(),Bc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(Lc(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return ms()},t}();function Lc(t,n){if(!Bc.wh())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(Mc,su,t,e);if(r)return new Pc(t,r)}throw new d("Unsupported key system configuration for "+t)}function Mc(t,n){var i=sr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uc(){return Dc||(Dc=function(){var t=[];Rc.wh()&&t.push(new Rc);dc.wh()&&t.push(new dc);wc.wh()&&t.push(new wc);Bc.wh()&&t.push(new Bc);return new Cc(t)}()),Dc}var Fc=function(){function t(){this.ta=Nr()}var n=t.prototype;return n.ds=function(t){this.ta.delete(t)},n.na=function(){this.ta.clear()},n.cs=function(t){return this.ta.get(t)},n.ia=function(t,n){this.ta.set(t,n)},t}(),Hc=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=zc.wh()?new zc:new Fc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t}();Hc.Rn=void 0;var zc=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ds=function(n){t.sessionStorage.removeItem(n)},e.na=function(){t.sessionStorage.clear()},e.cs=function(n){return t.sessionStorage[n]},e.ia=function(n,i){t.sessionStorage[n]=i},i}(Hc);var Vc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Wc(t,n,i){var e=Vc([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Xc,qc;!function(t){t.ra="sa",t.ua="oa",t.ha="contentprotectionerror",t.aa="contentprotectionsuccess",t.ca="currentsourcechange",t.fa="destroy",t.va="durationchange",t.da="emptied",t.es="encrypted",t.la="ended",t._a="ga",t.wa="loadstart",t.ma="manifestupdate",t.ya="nosupportedrepresentationfound",t.ka="offline",t.pa="online",t.ba="pause",t.Aa="play",t.Ta="progress",t.Sa="ratechange",t.Ea="representationchange",t.Ra="resize",t.Ia="seeked",t.Na="seeking",t.Da="segmentnotfound",t.Ca="xa",t.Oa="Pa",t.Ba="sourcechange",t.La="timeupdate",t.Ma="volumechange",t.Ua="Fa",t.Ha="metricschange"}(Xc||(Xc={})),function(t){t.za="arraybuffer",t.Va="json",t.Wa="stream",t.On="text"}(qc||(qc={}));var Gc=function(){function t(n){var i=this;this.je=void 0,this.je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Qc(i),e=Yc(e);var r=i.toLowerCase();if(this.je.hasOwnProperty(r)){var s=this.je[r],u=s[1];s[1]=u?u+", "+e:e}else this.je[r]=[i,e]},n.delete=function(t){var n=Qc(t).toLowerCase();delete this.je[n]},n.get=function(t){var n=Qc(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},n.has=function(t){var n=Qc(t).toLowerCase();return this.je.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Qc(i)).toLowerCase();this.je[e]=[i,Yc(n)]},n.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ga=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Qc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Yc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Zc(){}var Jc=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function $c(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Kc=Zc,tf=ze,nf=ze.prototype.then,ef=ze.resolve.bind(tf),rf=ze.reject.bind(tf);function sf(t){return new tf(t)}function uf(t){return ef(t)}function of(t){return rf(t)}function hf(t,n,i){return nf.call(t,n,i)}function af(t,n,i){hf(hf(t,n,i),void 0,Kc)}function cf(t,n){af(t,n)}function ff(t,n){af(t,void 0,n)}function vf(t,n,i){return hf(t,n,i)}function df(t){hf(t,void 0,Kc)}var lf=function(){var t=Jc&&Jc.queueMicrotask;if("function"==typeof t)return t;var n=uf(void 0);return function(t){return hf(n,t)}}();function _f(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function gf(t,n,i){try{return uf(_f(t,n,i))}catch(t){return of(t)}}var wf=function(){function t(){this.Qa=0,this.Ya=0,this.Bi={ja:[],Za:void 0},this.Ja=this.Bi,this.Qa=0,this.Ya=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Ya},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.Ja,i=n;16383===n.ja.length&&(i={ja:[],Za:void 0}),n.ja.push(t),i!==n&&(this.Ja=i,n.Za=i),++this.Ya},t.prototype.shift=function(){var t=this.Bi,n=t,i=this.Qa,e=i+1,r=t.ja,s=r[i];return 16384===e&&(n=t.Za,e=0),--this.Ya,this.Qa=e,t!==n&&(this.Bi=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qa,i=this.Bi,e=i.ja;!(n===e.length&&void 0===i.Za||n===e.length&&(n=0,0===(e=(i=i.Za).ja).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Bi,n=this.Qa;return t.ja[n]},t}();function mf(t,n){t.$a=n,n.Ka=t,"readable"===n.Ii?bf(t):"closed"===n.Ii?function(t){bf(t),Sf(t)}(t):Af(t,n.tc)}function yf(t,n){return kl(t.$a,n)}function kf(t){"readable"===t.$a.Ii?Tf(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Af(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.$a.Ka=void 0,t.$a=void 0}function pf(t){return new d("Cannot "+t+" a stream using a released reader")}function bf(t){t.Uo=sf(function(n,i){t.nc=n,t.ic=i})}function Af(t,n){bf(t),Tf(t,n)}function Tf(t,n){void 0!==t.ic&&(df(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0)}function Sf(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0)}var Ef=jc("[[AbortSteps]]"),Rf=jc("[[ErrorSteps]]"),If=jc("[[CancelSteps]]"),Nf=jc("[[PullSteps]]"),Df=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Cf=_.trunc||function(t){return t<0?_.ceil(t):_.floor(t)};function xf(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new d(n+" is not an object.");var i}function Of(t,n){if("function"!=typeof t)throw new d(n+" is not a function.")}function Pf(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new d(n+" is not an object.")}function Bf(t,n,i){if(void 0===t)throw new d("Parameter "+n+" is required in '"+i+"'.")}function Lf(t,n,i){if(void 0===t)throw new d(n+" is required in '"+i+"'.")}function Mf(t){return Number(t)}function Uf(t){return 0===t?0:t}function Ff(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Uf(e),!Df(e))throw new d(n+" is not a finite number");if((e=function(t){return Uf(Cf(t))}(e))<0||e>i)throw new d(n+" is outside the accepted range of 0 to "+i+", inclusive");return Df(e)&&0!==e?e:0}function Hf(t,n){if(!ml(t))throw new d(n+" is not a ReadableStream.")}function zf(t){return new Yf(t)}function Vf(t,n){t.Ka.ec.push(n)}function Wf(t,n,i){var e=t.Ka.ec.shift();i?e.rc():e.sc(n)}function Xf(t){return t.Ka.ec.length}function qf(t){var n=t.Ka;return void 0!==n&&!!jf(n)}var Gf,Qf,Yf=function(){function t(t){if(Bf(t,1,"ReadableStreamDefaultReader"),Hf(t,"First parameter"),yl(t))throw new d("This stream has already been locked for exclusive reading by another reader");mf(this,t),this.ec=new wf}return l.defineProperty(t.prototype,"closed",{get:function(){return jf(this)?this.Uo:of(Jf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),jf(this)?void 0===this.$a?of(pf("cancel")):yf(this,t):of(Jf("cancel"))},t.prototype.read=function(){if(!jf(this))return of(Jf("read"));if(void 0===this.$a)return of(pf("read from"));var t,n,i=sf(function(i,e){t=i,n=e});return Zf(this,{sc:function(n){return t({value:n,done:!1})},rc:function(){return t({value:void 0,done:!0})},uc:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!jf(this))throw Jf("releaseLock");if(void 0!==this.$a){if(this.ec.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function jf(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"ec")&&t instanceof Yf)}function Zf(t,n){var i=t.$a;i.oc=!0,"closed"===i.Ii?n.rc():"errored"===i.Ii?n.uc(i.tc):i.hc[Nf](n)}function Jf(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}l.defineProperties(Yf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Yf.prototype,jc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof jc.asyncIterator&&((Gf={})[jc.asyncIterator]=function(){return this},Qf=Gf,l.defineProperty(Qf,jc.asyncIterator,{enumerable:!1}));var $f=function(){function t(t,n){this.ac=void 0,this.cc=!1,this.Ka=t,this.fc=n}return t.prototype.next=function(){var t=this,n=function(){return t.vc()};return this.ac=this.ac?vf(this.ac,n,n):n(),this.ac},t.prototype.return=function(t){var n=this,i=function(){return n.dc(t)};return this.ac?vf(this.ac,i,i):i()},t.prototype.vc=function(){var t=this;if(this.cc)return ze.resolve({value:void 0,done:!0});var n,i,e=this.Ka;if(void 0===e.$a)return of(pf("iterate"));var r=sf(function(t,e){n=t,i=e});return Zf(e,{sc:function(i){t.ac=void 0,lf(function(){return n({value:i,done:!1})})},rc:function(){t.ac=void 0,t.cc=!0,kf(e),n({value:void 0,done:!0})},uc:function(n){t.ac=void 0,t.cc=!0,kf(e),i(n)}}),r},t.prototype.dc=function(t){if(this.cc)return ze.resolve({value:t,done:!0});this.cc=!0;var n=this.Ka;if(void 0===n.$a)return of(pf("finish iterating"));if(!this.fc){var i=yf(n,t);return kf(n),vf(i,function(){return{value:t,done:!0}})}return kf(n),uf({value:t,done:!0})},t}(),Kf={next:function(){return tv(this)?this.lc.next():of(nv("next"))},return:function(t){return tv(this)?this.lc.return(t):of(nv("return"))}};function tv(t){if(!$c(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"lc"))return!1;try{return t.lc instanceof $f}catch(t){return!1}}function nv(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Qf&&l.setPrototypeOf(Kf,Qf);var iv=Number.isNaN||function(t){return t!=t};function ev(t){return t.slice()}function rv(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function sv(t){return t}function uv(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return rv(r,0,t,n,e),r}function ov(t){var n=uv(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function hv(t){var n=t._c.shift();return t.gc-=n.size,t.gc<0&&(t.gc=0),n.value}function av(t,n,i){if("number"!=typeof(e=i)||iv(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t._c.push({value:n,size:i}),t.gc+=i}function cv(t){t._c=new wf,t.gc=0}var fv=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"view",{get:function(){if(!lv(this))throw Lv("view");return this.wc},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!lv(this))throw Lv("respond");if(Bf(t,1,"respond"),t=Ff(t,"First parameter"),void 0===this.mc)throw new d("This BYOB request has been invalidated");this.wc.buffer,Ov(this.mc,t)},t.prototype.respondWithNewView=function(t){if(!lv(this))throw Lv("respondWithNewView");if(Bf(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");if(void 0===this.mc)throw new d("This BYOB request has been invalidated");t.buffer,Pv(this.mc,t)},t}();l.defineProperties(fv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(fv.prototype,jc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var vv=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!dv(this))throw Mv("byobRequest");return Cv(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!dv(this))throw Mv("desiredSize");return xv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!dv(this))throw Mv("close");if(this.yc)throw new d("The stream has already been closed; do not close it again!");var t=this.kc.Ii;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");Iv(this)},t.prototype.enqueue=function(t){if(!dv(this))throw Mv("enqueue");if(Bf(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new d("chunk must be an array buffer view");if(0===t.byteLength)throw new d("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new d("chunk's buffer must have non-zero byteLength");if(this.yc)throw new d("stream is closed or draining");var n=this.kc.Ii;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Nv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!dv(this))throw Mv("error");Dv(this,t)},t.prototype[If]=function(t){gv(this),cv(this);var n=this.pc(t);return Rv(this),n},t.prototype[Nf]=function(t){var n=this.kc;if(this.gc>0){var i=this._c.shift();this.gc-=i.byteLength,bv(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.sc(e)}else{var r=this.bc;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.uc(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Ac.push(u)}Vf(n,t),_v(this)}},t}();function dv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"kc")&&t instanceof vv)}function lv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"mc")&&t instanceof fv)}function _v(t){(function(t){var n=t.kc;if("readable"!==n.Ii)return!1;if(t.yc)return!1;if(!t.Tc)return!1;if(qf(n)&&Xf(n)>0)return!0;if(zv(n)&&Hv(n)>0)return!0;if(xv(t)>0)return!0;return!1})(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,af(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,_v(t))},function(n){Dv(t,n)})))}function gv(t){Av(t),t.Ac=new wf}function wv(t,n){var i=!1;"closed"===t.Ii&&(i=!0);var e=mv(n);"default"===n.readerType?Wf(t,e,i):function(t,n,i){var e=t.Ka.Ic.shift();i?e.rc(n):e.sc(n)}(t,e,i)}function mv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function yv(t,n,i,e){t._c.push({buffer:n,byteOffset:i,byteLength:e}),t.gc+=e}function kv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=_.min(t.gc,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a=t._c;o>0;){var c=a.peek(),f=_.min(o,c.byteLength),v=n.byteOffset+n.bytesFilled;rv(n.buffer,v,c.buffer,c.byteOffset,f),c.byteLength===f?a.shift():(c.byteOffset+=f,c.byteLength-=f),t.gc-=f,pv(t,f,n),o-=f}return h}function pv(t,n,i){i.bytesFilled+=n}function bv(t){0===t.gc&&t.yc?(Rv(t),pl(t.kc)):_v(t)}function Av(t){null!==t.Nc&&(t.Nc.mc=void 0,t.Nc.wc=null,t.Nc=null)}function Tv(t){for(;t.Ac.length>0;){if(0===t.gc)return;var n=t.Ac.peek();kv(t,n)&&(Ev(t),wv(t.kc,n))}}function Sv(t,n){var i=t.Ac.peek();Av(t),"closed"===t.kc.Ii?function(t,n){var i=t.kc;if(zv(i))for(;Hv(i)>0;)wv(i,Ev(t))}(t):function(t,n,i){if(pv(0,n,i),!(i.bytesFilled<i.elementSize)){Ev(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=uv(i.buffer,r-e,r);yv(t,s,0,s.byteLength)}i.bytesFilled-=e,wv(t.kc,i),Tv(t)}}(t,n,i),_v(t)}function Ev(t){return t.Ac.shift()}function Rv(t){t.Rc=void 0,t.pc=void 0}function Iv(t){var n=t.kc;if(!t.yc&&"readable"===n.Ii)if(t.gc>0)t.yc=!0;else{if(t.Ac.length>0)if(t.Ac.peek().bytesFilled>0){var i=new d("Insufficient bytes to fill elements in the given buffer");throw Dv(t,i),i}Rv(t),pl(n)}}function Nv(t,n){var i=t.kc;if(!t.yc&&"readable"===i.Ii){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=sv(e);if(t.Ac.length>0){var o=t.Ac.peek();o.buffer,0,o.buffer=sv(o.buffer)}if(Av(t),qf(i))if(0===Xf(i))yv(t,u,r,s);else t.Ac.length>0&&Ev(t),Wf(i,new y(u,r,s),!1);else zv(i)?(yv(t,u,r,s),Tv(t)):yv(t,u,r,s);_v(t)}}function Dv(t,n){var i=t.kc;"readable"===i.Ii&&(gv(t),cv(t),Rv(t),bl(i,n))}function Cv(t){if(null===t.Nc&&t.Ac.length>0){var n=t.Ac.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=l.create(fv.prototype);!function(t,n,i){t.mc=n,t.wc=i}(e,t,i),t.Nc=e}return t.Nc}function xv(t){var n=t.kc.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function Ov(t,n){var i=t.Ac.peek();if("closed"===t.kc.Ii){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new d("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=sv(i.buffer),Sv(t,n)}function Pv(t,n){var i=t.Ac.peek();if("closed"===t.kc.Ii){if(0!==n.byteLength)throw new d("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new d("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=sv(n.buffer),Sv(t,e)}function Bv(t,n,i,e,r,s,u){n.kc=t,n.Ec=!1,n.Sc=!1,n.Nc=null,n._c=n.gc=void 0,cv(n),n.yc=!1,n.Tc=!1,n.Dc=s,n.Rc=e,n.pc=r,n.bc=u,n.Ac=new wf,t.hc=n,af(uf(i()),function(){n.Tc=!0,_v(n)},function(t){Dv(n,t)})}function Lv(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Mv(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Uv(t){return new Vv(t)}function Fv(t,n){t.Ka.Ic.push(n)}function Hv(t){return t.Ka.Ic.length}function zv(t){var n=t.Ka;return void 0!==n&&!!Wv(n)}l.defineProperties(vv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(vv.prototype,jc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Vv=function(){function t(t){if(Bf(t,1,"ReadableStreamBYOBReader"),Hf(t,"First parameter"),yl(t))throw new d("This stream has already been locked for exclusive reading by another reader");if(!dv(t.hc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");mf(this,t),this.Ic=new wf}return l.defineProperty(t.prototype,"closed",{get:function(){return Wv(this)?this.Uo:of(qv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Wv(this)?void 0===this.$a?of(pf("cancel")):yf(this,t):of(qv("cancel"))},t.prototype.read=function(t){if(!Wv(this))return of(qv("read"));if(!ArrayBuffer.isView(t))return of(new d("view must be an array buffer view"));if(0===t.byteLength)return of(new d("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return of(new d("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.$a)return of(pf("read from"));var n,i,e=sf(function(t,e){n=t,i=e});return Xv(this,t,{sc:function(t){return n({value:t,done:!1})},rc:function(t){return n({value:t,done:!0})},uc:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Wv(this))throw qv("releaseLock");if(void 0!==this.$a){if(this.Ic.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function Wv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Ic")&&t instanceof Vv)}function Xv(t,n,i){var e=t.$a;e.oc=!0,"errored"===e.Ii?i.uc(e.tc):function(t,n,i){var e=t.kc,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=sv(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ac.length>0)return t.Ac.push(o),void Fv(e,i);if("closed"!==e.Ii){if(t.gc>0){if(kv(t,o)){var h=mv(o);return bv(t),void i.sc(h)}if(t.yc){var a=new d("Insufficient bytes to fill elements in the given buffer");return Dv(t,a),void i.uc(a)}}t.Ac.push(o),Fv(e,i),_v(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.rc(c)}}(e.hc,n,i)}function qv(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Gv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(iv(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Qv(t){var n=t.size;return n||function(){return 1}}function Yv(t,n){xf(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Mf(i),size:void 0===e?void 0:jv(e,n+" has member 'size' that")}}function jv(t,n){return Of(t,n),function(n){return Mf(t(n))}}function Zv(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function Jv(t,n,i){return Of(t,i),function(){return gf(t,n,[])}}function $v(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function Kv(t,n,i){return Of(t,i),function(i,e){return gf(t,n,[i,e])}}function td(t,n){if(!sd(t))throw new d(n+" is not a WritableStream.")}l.defineProperties(Vv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Vv.prototype,jc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var nd="function"==typeof AbortController;var id=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Pf(t,"First parameter");var i=Yv(n,"Second parameter"),e=function(t,n){xf(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Zv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Jv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:$v(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Kv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(rd(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Qv(i);!function(t,n,i,e){var r=l.create(Ad.prototype),s=function(){},u=function(){return uf(void 0)},o=function(){return uf(void 0)},h=function(){return uf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(h=function(t){return n.abort(t)});Sd(t,r,s,u,o,h,i,e)}(this,e,Gv(i,1),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!sd(this))throw xd("locked");return ud(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),sd(this)?ud(this)?of(new d("Cannot abort a stream that already has a writer")):od(this,t):of(xd("abort"))},t.prototype.close=function(){return sd(this)?ud(this)?of(new d("Cannot close a stream that already has a writer")):vd(this)?of(new d("Cannot close an already-closing stream")):hd(this):of(xd("close"))},t.prototype.getWriter=function(){if(!sd(this))throw xd("getWriter");return ed(this)},t}();function ed(t){return new _d(t)}function rd(t){t.Ii="writable",t.tc=void 0,t.Xs=void 0,t.Cc=void 0,t.xc=new wf,t.Oc=void 0,t.Pc=void 0,t.Bc=void 0,t.Lc=void 0,t.Mc=!1}function sd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Cc")&&t instanceof id)}function ud(t){return void 0!==t.Xs}function od(t,n){var i;if("closed"===t.Ii||"errored"===t.Ii)return uf(void 0);t.Cc.Uc=n,null===(i=t.Cc.Fc)||void 0===i||i.abort();var e=t.Ii;if("closed"===e||"errored"===e)return uf(void 0);if(void 0!==t.Lc)return t.Lc.Hc;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=sf(function(i,e){t.Lc={Hc:void 0,Es:i,Rs:e,zc:n,Vc:r}});return t.Lc.Hc=s,r||cd(t,n),s}function hd(t){var n=t.Ii;if("closed"===n||"errored"===n)return of(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=sf(function(n,i){var e={Es:n,Rs:i};t.Pc=e}),r=t.Xs;return void 0!==r&&t.Mc&&"writable"===n&&Xd(r),av(i=t.Cc,bd,0),Id(i),e}function ad(t,n){"writable"!==t.Ii?fd(t):cd(t,n)}function cd(t,n){var i=t.Cc;t.Ii="erroring",t.tc=n;var e=t.Xs;void 0!==e&&yd(e,n),!function(t){if(void 0===t.Oc&&void 0===t.Bc)return!1;return!0}(t)&&i.Tc&&fd(t)}function fd(t){t.Ii="errored",t.Cc[Rf]();var n=t.tc;if(t.xc.forEach(function(t){t.Rs(n)}),t.xc=new wf,void 0!==t.Lc){var i=t.Lc;if(t.Lc=void 0,i.Vc)return i.Rs(n),void dd(t);af(t.Cc[Ef](i.zc),function(){i.Es(),dd(t)},function(n){i.Rs(n),dd(t)})}else dd(t)}function vd(t){return void 0!==t.Pc||void 0!==t.Bc}function dd(t){void 0!==t.Pc&&(t.Pc.Rs(t.tc),t.Pc=void 0);var n=t.Xs;void 0!==n&&Ud(n,t.tc)}function ld(t,n){var i=t.Xs;void 0!==i&&n!==t.Mc&&(n?function(t){Hd(t)}(i):Xd(i)),t.Mc=n}l.defineProperties(id.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(id.prototype,jc.toStringTag,{value:"WritableStream",configurable:!0});var _d=function(){function t(t){if(Bf(t,1,"WritableStreamDefaultWriter"),td(t,"First parameter"),ud(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Wc=t,t.Xs=this;var n,i=t.Ii;if("writable"===i)!vd(t)&&t.Mc?Hd(this):Vd(this),Ld(this);else if("erroring"===i)zd(this,t.tc),Ld(this);else if("closed"===i)Vd(this),Ld(n=this),Fd(n);else{var e=t.tc;zd(this,e),Md(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return gd(this)?this.Uo:of(Pd("closed"))},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!gd(this))throw Pd("desiredSize");if(void 0===this.Wc)throw Bd("desiredSize");return function(t){var n=t.Wc,i=n.Ii;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Rd(n.Cc)}(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return gd(this)?this.Xc:of(Pd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),gd(this)?void 0===this.Wc?of(Bd("abort")):function(t,n){return od(t.Wc,n)}(this,t):of(Pd("abort"))},t.prototype.close=function(){if(!gd(this))return of(Pd("close"));var t=this.Wc;return void 0===t?of(Bd("close")):vd(t)?of(new d("Cannot close an already-closing stream")):wd(this)},t.prototype.releaseLock=function(){if(!gd(this))throw Pd("releaseLock");void 0!==this.Wc&&kd(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),gd(this)?void 0===this.Wc?of(Bd("write to")):pd(this,t):of(Pd("write"))},t}();function gd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Wc")&&t instanceof _d)}function wd(t){return hd(t.Wc)}function md(t,n){"pending"===t.qc?Ud(t,n):function(t,n){Md(t,n)}(t,n)}function yd(t,n){"pending"===t.Gc?Wd(t,n):function(t,n){zd(t,n)}(t,n)}function kd(t){var n=t.Wc,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");yd(t,i),md(t,i),n.Xs=void 0,t.Wc=void 0}function pd(t,n){var i=t.Wc,e=i.Cc,r=function(t,n){try{return t.Qc(n)}catch(n){return Nd(t,n),1}}(e,n);if(i!==t.Wc)return of(Bd("write to"));var s=i.Ii;if("errored"===s)return of(i.tc);if(vd(i)||"closed"===s)return of(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return of(i.tc);var u=function(t){return sf(function(n,i){var e={Es:n,Rs:i};t.xc.push(e)})}(i);return function(t,n,i){try{av(t,n,i)}catch(n){return void Nd(t,n)}var e=t.Yc;if(!vd(e)&&"writable"===e.Ii){var r=Dd(t);ld(e,r)}Id(t)}(e,n,r),u}l.defineProperties(_d.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(_d.prototype,jc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var bd={},Ad=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"abortReason",{get:function(){if(!Td(this))throw Od("abortReason");return this.Uc},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"signal",{get:function(){if(!Td(this))throw Od("signal");if(void 0===this.Fc)throw new d("WritableStreamDefaultController.prototype.signal is not supported");return this.Fc.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Td(this))throw Od("error");"writable"===this.Yc.Ii&&Cd(this,t)},t.prototype[Ef]=function(t){var n=this.jc(t);return Ed(this),n},t.prototype[Rf]=function(){cv(this)},t}();function Td(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Yc")&&t instanceof Ad)}function Sd(t,n,i,e,r,s,u,o){n.Yc=t,t.Cc=n,n._c=void 0,n.gc=void 0,cv(n),n.Uc=void 0,n.Fc=function(){if(nd)return new AbortController}(),n.Tc=!1,n.Qc=o,n.Dc=u,n.Zc=e,n.Jc=r,n.jc=s;var h=Dd(n);ld(t,h),af(uf(i()),function(){n.Tc=!0,Id(n)},function(i){n.Tc=!0,ad(t,i)})}function Ed(t){t.Zc=void 0,t.Jc=void 0,t.jc=void 0,t.Qc=void 0}function Rd(t){return t.Dc-t.gc}function Id(t){var n=t.Yc;if(t.Tc&&void 0===n.Oc)if("erroring"!==n.Ii){if(0!==t._c.length){var i=t._c.peek().value;i===bd?function(t){var n=t.Yc;(function(t){t.Bc=t.Pc,t.Pc=void 0})(n),hv(t);var i=t.Jc();Ed(t),af(i,function(){!function(t){t.Bc.Es(void 0),t.Bc=void 0,"erroring"===t.Ii&&(t.tc=void 0,void 0!==t.Lc&&(t.Lc.Es(),t.Lc=void 0)),t.Ii="closed";var n=t.Xs;void 0!==n&&Fd(n)}(n)},function(t){!function(t,n){t.Bc.Rs(n),t.Bc=void 0,void 0!==t.Lc&&(t.Lc.Rs(n),t.Lc=void 0),ad(t,n)}(n,t)})}(t):function(t,n){var i=t.Yc;(function(t){t.Oc=t.xc.shift()})(i),af(t.Zc(n),function(){!function(t){t.Oc.Es(void 0),t.Oc=void 0}(i);var n=i.Ii;if(hv(t),!vd(i)&&"writable"===n){var e=Dd(t);ld(i,e)}Id(t)},function(n){"writable"===i.Ii&&Ed(t),function(t,n){t.Oc.Rs(n),t.Oc=void 0,ad(t,n)}(i,n)})}(t,i)}}else fd(n)}function Nd(t,n){"writable"===t.Yc.Ii&&Cd(t,n)}function Dd(t){return Rd(t)<=0}function Cd(t,n){var i=t.Yc;Ed(t),cd(i,n)}function xd(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Od(t){return new d("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Pd(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Bd(t){return new d("Cannot "+t+" a stream using a released writer")}function Ld(t){t.Uo=sf(function(n,i){t.nc=n,t.ic=i,t.qc="pending"})}function Md(t,n){Ld(t),Ud(t,n)}function Ud(t,n){void 0!==t.ic&&(df(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0,t.qc="rejected")}function Fd(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0,t.qc="resolved")}function Hd(t){t.Xc=sf(function(n,i){t.$c=n,t.Kc=i}),t.Gc="pending"}function zd(t,n){Hd(t),Wd(t,n)}function Vd(t){Hd(t),Xd(t)}function Wd(t,n){void 0!==t.Kc&&(df(t.Xc),t.Kc(n),t.$c=void 0,t.Kc=void 0,t.Gc="rejected")}function Xd(t){void 0!==t.$c&&(t.$c(void 0),t.$c=void 0,t.Kc=void 0,t.Gc="fulfilled")}l.defineProperties(Ad.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Ad.prototype,jc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var qd="undefined"!=typeof DOMException?DOMException:void 0;var Gd,Qd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(qd)?qd:((Gd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Gd.prototype,"constructor",{value:Gd,writable:!0,configurable:!0}),Gd);function Yd(t,n,i,e,r,s){var u=zf(t),o=ed(n);t.oc=!0;var h=!1,a=uf(void 0);return sf(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new Qd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.Ii?od(n,i):uf(void 0)}),r||s.push(function(){return"readable"===t.Ii?kl(t,i):uf(void 0)}),k(function(){return ze.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Uo,function(t){e?p(!0,t):k(function(){return od(n,t)},!0,t)}),y(n,o.Uo,function(n){r?p(!0,n):k(function(){return kl(t,n)},!0,n)}),l=t,_=u.Uo,g=function(){i?p():k(function(){return function(t){var n=t.Wc,i=n.Ii;return vd(n)||"closed"===i?uf(void 0):"errored"===i?of(n.tc):wd(t)}(o)})},"closed"===l.Ii?g():cf(_,g),vd(n)||"closed"===n.Ii){var w=new d("the destination writable stream closed before all data could be piped to it");r?p(!0,w):k(function(){return kl(t,w)},!0,w)}function m(){var t=a;return hf(a,function(){return t!==a?m():void 0})}function y(t,n,i){"errored"===t.Ii?i(t.tc):ff(n,i)}function k(t,i,e){function r(){af(t(),function(){return b(i,e)},function(t){return b(!0,t)})}h||(h=!0,"writable"!==n.Ii||vd(n)?r():cf(m(),r))}function p(t,i){h||(h=!0,"writable"!==n.Ii||vd(n)?b(t,i):cf(m(),function(){return b(t,i)}))}function b(t,n){kd(o),kf(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}df(sf(function(t,n){!function i(e){e?t():hf(h?uf(!0):hf(o.Xc,function(){return sf(function(t,n){Zf(u,{sc:function(n){a=hf(pd(o,n),void 0,Zc),t(!1)},rc:function(){return t(!0)},uc:n})})}),i,n)}(!1)}))})}var jd=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Zd(this))throw ul("desiredSize");return el(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Zd(this))throw ul("close");if(!rl(this))throw new d("The stream is not in a state that permits close");tl(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Zd(this))throw ul("enqueue");if(!rl(this))throw new d("The stream is not in a state that permits enqueue");return nl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Zd(this))throw ul("error");il(this,t)},t.prototype[If]=function(t){cv(this);var n=this.pc(t);return Kd(this),n},t.prototype[Nf]=function(t){var n=this.tf;if(this._c.length>0){var i=hv(this);this.yc&&0===this._c.length?(Kd(this),pl(n)):Jd(this),t.sc(i)}else Vf(n,t),Jd(this)},t}();function Zd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"tf")&&t instanceof jd)}function Jd(t){$d(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,af(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,Jd(t))},function(n){il(t,n)})))}function $d(t){var n=t.tf;return!!rl(t)&&(!!t.Tc&&(!!(yl(n)&&Xf(n)>0)||el(t)>0))}function Kd(t){t.Rc=void 0,t.pc=void 0,t.Qc=void 0}function tl(t){if(rl(t)){var n=t.tf;t.yc=!0,0===t._c.length&&(Kd(t),pl(n))}}function nl(t,n){if(rl(t)){var i=t.tf;if(yl(i)&&Xf(i)>0)Wf(i,n,!1);else{var e=void 0;try{e=t.Qc(n)}catch(n){throw il(t,n),n}try{av(t,n,e)}catch(n){throw il(t,n),n}}Jd(t)}}function il(t,n){var i=t.tf;"readable"===i.Ii&&(cv(t),Kd(t),bl(i,n))}function el(t){var n=t.tf.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function rl(t){var n=t.tf.Ii;return!t.yc&&"readable"===n}function sl(t,n,i,e,r,s,u){n.tf=t,n._c=void 0,n.gc=void 0,cv(n),n.Tc=!1,n.yc=!1,n.Ec=!1,n.Sc=!1,n.Qc=u,n.Dc=s,n.Rc=e,n.pc=r,t.hc=n,af(uf(i()),function(){n.Tc=!0,Jd(n)},function(t){il(n,t)})}function ul(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function ol(t,n){return dv(t.hc)?function(t){var n,i,e,r,s,u=zf(t),o=!1,h=!1,a=!1,c=!1,f=!1,v=sf(function(t){s=t});function d(t){ff(t.Uo,function(n){t===u&&(Dv(e.hc,n),Dv(r.hc,n),c&&f||s(void 0))})}function l(){Wv(u)&&(kf(u),d(u=zf(t)));var n={sc:function(n){lf(function(){h=!1,a=!1;var i=n,u=n;if(!c&&!f)try{u=ov(n)}catch(n){return Dv(e.hc,n),Dv(r.hc,n),void s(kl(t,n))}c||Nv(e.hc,i),f||Nv(r.hc,u),o=!1,h?g():a&&w()})},rc:function(){o=!1,c||Iv(e.hc),f||Iv(r.hc),e.hc.Ac.length>0&&Ov(e.hc,0),r.hc.Ac.length>0&&Ov(r.hc,0),c&&f||s(void 0)},uc:function(){o=!1}};Zf(u,n)}function _(n,i){jf(u)&&(kf(u),d(u=Uv(t)));var v=i?r:e,l=i?e:r,_={sc:function(n){lf(function(){h=!1,a=!1;var e=i?f:c,r=i?c:f;if(r)e||Pv(v.hc,n);else{var u=void 0;try{u=ov(n)}catch(n){return Dv(v.hc,n),Dv(l.hc,n),void s(kl(t,n))}e||Pv(v.hc,n),Nv(l.hc,u)}o=!1,h?g():a&&w()})},rc:function(t){o=!1;var n=i?f:c,e=i?c:f;n||Iv(v.hc),e||Iv(l.hc),void 0!==t&&(n||Pv(v.hc,t),!e&&l.hc.Ac.length>0&&Ov(l.hc,0)),n&&e||s(void 0)},uc:function(){o=!1}};Xv(u,n,_)}function g(){if(o)return h=!0,uf(void 0);o=!0;var t=Cv(e.hc);return null===t?l():_(t.wc,!1),uf(void 0)}function w(){if(o)return a=!0,uf(void 0);o=!0;var t=Cv(r.hc);return null===t?l():_(t.wc,!0),uf(void 0)}function m(){}return e=gl(m,g,function(e){if(c=!0,n=e,f){var r=ev([n,i]),u=kl(t,r);s(u)}return v}),r=gl(m,w,function(e){if(f=!0,i=e,c){var r=ev([n,i]),u=kl(t,r);s(u)}return v}),d(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=zf(t),h=!1,a=!1,c=!1,f=!1,v=sf(function(t){u=t});function d(){if(h)return a=!0,uf(void 0);h=!0;var t={sc:function(t){lf(function(){a=!1;var n=t,i=t;c||nl(r.hc,n),f||nl(s.hc,i),h=!1,a&&d()})},rc:function(){h=!1,c||tl(r.hc),f||tl(s.hc),c&&f||u(void 0)},uc:function(){h=!1}};return Zf(o,t),uf(void 0)}function l(){}return r=_l(l,d,function(n){if(c=!0,i=n,f){var r=ev([i,e]),s=kl(t,r);u(s)}return v}),s=_l(l,d,function(n){if(f=!0,e=n,c){var r=ev([i,e]),s=kl(t,r);u(s)}return v}),ff(o.Uo,function(t){il(r.hc,t),il(s.hc,t),c&&f||u(void 0)}),[r,s]}(t)}function hl(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function al(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function cl(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function fl(t,n){if("bytes"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function vl(t,n){if("byob"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function dl(t,n){xf(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new d(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}l.defineProperties(jd.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(jd.prototype,jc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var ll=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Pf(t,"First parameter");var i=Yv(n,"Second parameter"),e=function(t,n){xf(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:Ff(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:hl(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:al(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:cl(u,i,n+" has member 'start' that"),type:void 0===o?void 0:fl(o,n+" has member 'type' that")}}(t,"First parameter");if(wl(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=l.create(vv.prototype),r=function(){},s=function(){return uf(void 0)},u=function(){return uf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new d("autoAllocateChunkSize must be greater than 0");Bv(t,e,r,s,u,i,o)}(this,e,Gv(i,0))}else{var r=Qv(i);!function(t,n,i,e){var r=l.create(jd.prototype),s=function(){},u=function(){return uf(void 0)},o=function(){return uf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),sl(t,r,s,u,o,i,e)}(this,e,Gv(i,1),r)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!ml(this))throw Al("locked");return yl(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),ml(this)?yl(this)?of(new d("Cannot cancel a stream that already has a reader")):kl(this,t):of(Al("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!ml(this))throw Al("getReader");return void 0===function(t,n){xf(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:vl(i,n+" has member 'mode' that")}}(t,"First parameter").mode?zf(this):Uv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!ml(this))throw Al("pipeThrough");Bf(t,1,"pipeThrough");var i=function(t,n){xf(t,n);var i=null==t?void 0:t.readable;Lf(i,"readable","ReadableWritablePair"),Hf(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return Lf(e,"writable","ReadableWritablePair"),td(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=dl(n,"Second parameter");if(yl(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ud(i.writable))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return df(Yd(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!ml(this))return of(Al("pipeTo"));if(void 0===t)return of("Parameter 1 is required in 'pipeTo'.");if(!sd(t))return of(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=dl(n,"Second parameter")}catch(t){return of(t)}return yl(this)?of(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ud(t)?of(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Yd(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!ml(this))throw Al("tee");return ev(ol(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!ml(this))throw Al("values");var n,i,e,r,s,u=function(t,n){xf(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=zf(n),r=new $f(e,i),(s=l.create(Kf)).lc=r,s},t}();function _l(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(ll.prototype);return wl(s),sl(s,l.create(jd.prototype),t,n,i,e,r),s}function gl(t,n,i){var e=l.create(ll.prototype);return wl(e),Bv(e,l.create(vv.prototype),t,n,i,0,void 0),e}function wl(t){t.Ii="readable",t.Ka=void 0,t.tc=void 0,t.oc=!1}function ml(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"hc")&&t instanceof ll)}function yl(t){return void 0!==t.Ka}function kl(t,n){if(t.oc=!0,"closed"===t.Ii)return uf(void 0);if("errored"===t.Ii)return of(t.tc);pl(t);var i=t.Ka;return void 0!==i&&Wv(i)&&(i.Ic.forEach(function(t){t.rc(void 0)}),i.Ic=new wf),vf(t.hc[If](n),Zc)}function pl(t){t.Ii="closed";var n=t.Ka;void 0!==n&&(Sf(n),jf(n)&&(n.ec.forEach(function(t){t.rc()}),n.ec=new wf))}function bl(t,n){t.Ii="errored",t.tc=n;var i=t.Ka;void 0!==i&&(Tf(i,n),jf(i)?(i.ec.forEach(function(t){t.uc(n)}),i.ec=new wf):(i.Ic.forEach(function(t){t.uc(n)}),i.Ic=new wf))}function Al(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Tl(t,n){xf(t,n);var i=null==t?void 0:t.highWaterMark;return Lf(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Mf(i)}}l.defineProperties(ll.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(ll.prototype,jc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof jc.asyncIterator&&l.defineProperty(ll.prototype,jc.asyncIterator,{value:ll.prototype.values,writable:!0,configurable:!0});var Sl=function(t){return t.byteLength};try{l.defineProperty(Sl,"name",{value:"size",configurable:!0})}catch(Gf){}var El=function(){function t(t){Bf(t,1,"ByteLengthQueuingStrategy"),t=Tl(t,"First parameter"),this.nf=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Il(this))throw Rl("highWaterMark");return this.nf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!Il(this))throw Rl("size");return Sl},enumerable:!1,configurable:!0}),t}();function Rl(t){return new d("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Il(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"nf")&&t instanceof El)}l.defineProperties(El.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(El.prototype,jc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Nl=function(){return 1};try{l.defineProperty(Nl,"name",{value:"size",configurable:!0})}catch(Gf){}var Dl=function(){function t(t){Bf(t,1,"CountQueuingStrategy"),t=Tl(t,"First parameter"),this.if=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!xl(this))throw Cl("highWaterMark");return this.if},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!xl(this))throw Cl("size");return Nl},enumerable:!1,configurable:!0}),t}();function Cl(t){return new d("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function xl(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"if")&&t instanceof Dl)}function Ol(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function Pl(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function Bl(t,n,i){return Of(t,i),function(i,e){return gf(t,n,[i,e])}}l.defineProperties(Dl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Dl.prototype,jc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ll=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Yv(n,"Second parameter"),r=Yv(i,"Third parameter"),s=function(t,n){xf(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Ol(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Pl(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:Bl(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=Gv(r,0),h=Qv(r),a=Gv(e,1),c=Qv(e);!function(t,n,i,e,r,s){function u(){return n}t.ef=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(id.prototype);return rd(u),Sd(u,l.create(Ad.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.rf;if(t.Mc){var e=t.sf;return vf(e,function(){var e=t.ef,r=e.Ii;if("erroring"===r)throw e.tc;return ql(i,n)})}return ql(i,n)}(t,n)},function(){return function(t){var n=t.uf,i=t.rf,e=i.hf();return Wl(i),vf(e,function(){if("errored"===n.Ii)throw n.tc;tl(n.hc)},function(i){throw Ul(t,i),n.tc})}(t)},function(n){return function(t,n){return Ul(t,n),uf(void 0)}(t,n)},i,e),t.uf=_l(u,function(){return function(t){return Hl(t,!1),t.sf}(t)},function(n){return Fl(t,n),uf(void 0)},r,s),t.Mc=void 0,t.sf=void 0,t.af=void 0,Hl(t,!0),t.rf=void 0}(this,sf(function(t){u=t}),a,c,o,h),function(t,n){var i=l.create(zl.prototype),e=function(t){try{return Xl(i,t),uf(void 0)}catch(t){return of(t)}},r=function(){return uf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.cf=t,t.rf=n,n.ff=i,n.hf=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.rf)):u(void 0)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!Ml(this))throw Ql("readable");return this.uf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!Ml(this))throw Ql("writable");return this.ef},enumerable:!1,configurable:!0}),t}();function Ml(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"rf")&&t instanceof Ll)}function Ul(t,n){il(t.uf.hc,n),Fl(t,n)}function Fl(t,n){Wl(t.rf),Nd(t.ef.Cc,n),t.Mc&&Hl(t,!1)}function Hl(t,n){void 0!==t.sf&&t.af(),t.sf=sf(function(n){t.af=n}),t.Mc=n}l.defineProperties(Ll.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Ll.prototype,jc.toStringTag,{value:"TransformStream",configurable:!0});var zl=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Vl(this))throw Gl("desiredSize");return el(this.cf.uf.hc)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Vl(this))throw Gl("enqueue");Xl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Vl(this))throw Gl("error");var n;n=t,Ul(this.cf,n)},t.prototype.terminate=function(){if(!Vl(this))throw Gl("terminate");!function(t){var n=t.cf;tl(n.uf.hc);var i=new d("TransformStream terminated");Fl(n,i)}(this)},t}();function Vl(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"cf")&&t instanceof zl)}function Wl(t){t.ff=void 0,t.hf=void 0}function Xl(t,n){var i=t.cf,e=i.uf.hc;if(!rl(e))throw new d("Readable side is not in a state that permits enqueue");try{nl(e,n)}catch(t){throw Fl(i,t),i.uf.tc}(function(t){return!$d(t)})(e)!==i.Mc&&Hl(i,!0)}function ql(t,n){return vf(t.ff(n),void 0,function(n){throw Ul(t.cf,n),n})}function Gl(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Ql(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}l.defineProperties(zl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(zl.prototype,jc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Yl,jl=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Zt);function Zl(t){return n=[t],new ll({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Jl(t){return Zl(new y(t))}function $l(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ro,s=function(){u();var t=new Hs;e.cancel(t).catch(Z),r.Ns(t)},u=function(){i&&(i.Rr(s),i=void 0)};i&&(i.yr?s():i.Er(s));var o=[];return ze.resolve(e.read()).then(function t(n){return n.done?(u(),ze.resolve(o)):(o.push(n.value),ze.resolve(e.read()).then(t))}).then(function(t){u(),r.Is(t)},function(t){u(),r.Ns(t)}),r.Ss}(t,n).then(function(t){return Su(t).buffer})}function Kl(t,n){var i=n,e=new Ll,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Cr()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function t_(t){return _o(new y(t))}function n_(t){return go(t).buffer}!function(t){t[t.Wa=0]="Wa",t[t.vf=1]="vf"}(Yl||(Yl={}));var i_="content-type",e_="text/plain;charset=UTF-8",r_=function(){function t(){}var n=t.prototype;return n.df=function(t){return this.lf(t).then(JSON.parse)},n._f=function(t,n){switch(t){case qc.za:return this.gf(n);case qc.Va:return this.df(n);case qc.Wa:return this.wf();case qc.On:return this.lf(n);default:throw new d}},t}();function s_(t,n,i){if(t instanceof r_)return t;if(t instanceof ll)return function(t,n){return new o_({nr:Yl.Wa,wf:t,mf:u_(n)})}(t,i);var e=u_(i),r=ze.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{nr:qc.On,yf:t,mf:n||e_};if(t instanceof ArrayBuffer||Au(t))return{nr:qc.za,yf:l_(t),mf:n};if(X(t)||z(t))return{nr:qc.Va,yf:t,mf:n};throw new d("Unsupported BodyInit type")}return{nr:qc.On,yf:null,mf:n}}(t,e)});return new o_({nr:Yl.vf,Ss:r,kf:n})}function u_(t){return(t.get(i_)||"").toLowerCase()}var o_=function(t){function n(n){var i;return(i=t.call(this)||this).pf=!1,i.bf=void 0,i.Af=new Ro,i.Af.Ss.catch(Z),i.Tf(n),i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(h_,t)},i.df=function(t){return this.Ef(c_,t)},i.gf=function(t){return this.Ef(v_,t)},i.wf=function(){return this.Rf((t=this.bf).nr===Yl.Wa?t.wf:Kl(t.Ss.then(d_).then(Jl),t.kf));var t},i.Ef=function(t,n){if(this.pf)return ze.reject(new d("Already used"));this.pf=!0;var i=t(this.bf,n);return this.Af.Is(i.then(Z)),i},i.Rf=function(t){if(this.pf)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.pf=!0;var n=new Ll,i=ze.resolve(t.pipeTo(n.writable));return this.Af.Is(i),n.readable},i.Tf=function(t){this.bf=t,t.nr===Yl.vf&&t.Ss.catch(Z)},i.If=function(){if(this.pf)throw new d("Already used");var t=function(t){if(t.nr===Yl.Wa){var n=t.wf.tee(),i=n[0],e=n[1];return[{nr:t.nr,wf:i,mf:t.mf},{nr:t.nr,wf:e,mf:t.mf}]}var r=t.kf.Or(),s=r[0],u=r[1];return[{nr:t.nr,Ss:t.Ss,kf:s},{nr:t.nr,Ss:t.Ss,kf:u}]}(this.bf),i=t[0],e=t[1];return this.Tf(i),new n(e)},A(n,[{key:"Nf",get:function(){return this.pf}}]),n}(r_);function h_(t,n){return t.nr===Yl.Wa?$l(t.wf,n).then(t_):(n&&t.kf.xr(n),Gs(t.Ss.then(a_),t.kf))}function a_(t){switch(t.nr){case qc.On:return ze.resolve(t.yf||"");case qc.za:return ze.resolve(t.yf).then(t_);case qc.Va:return ze.resolve(t.yf).then(JSON.stringify)}}function c_(t,n){return t.nr===Yl.Wa?h_(t,n).then(JSON.parse):(n&&t.kf.xr(n),Gs(t.Ss.then(f_),t.kf))}function f_(t){return t.nr===qc.Va?ze.resolve(t.yf):a_(t).then(JSON.parse)}function v_(t,n){return t.nr===Yl.Wa?$l(t.wf,n):(n&&t.kf.xr(n),Gs(t.Ss.then(d_),t.kf))}function d_(t){switch(t.nr){case qc.za:return ze.resolve(t.yf);case qc.On:case qc.Va:return a_(t).then(n_)}}function l_(t){return t instanceof ArrayBuffer?t:To(ko(t)).buffer}function __(t){return t.Df>=200&&t.Df<=299||304===t.Df}var g_,w_,m_,y_,k_=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.Cf,s=i.xf,u=i.Df,o=i.Of,h=i.Pf):(r=[],s=qc.On,u=200,o="OK",h=!1);var a=n.Bf,c=new Gc(n.Cf||r),f=n.xf||s,v=n.Lf||(i&&i.Bf===a?i.Lf:a.Mf),d=i?i.Uf:null,l=s_(void 0!==n.ai?n.ai:d,n.kf||new Fs,c);return(e=t.call(this,l)||this).Cf=void 0,e.Bf=void 0,e.Lf=void 0,e.xf=void 0,e.Df=void 0,e.Of=void 0,e.Pf=void 0,e.Cf=c,e.Bf=a,e.Lf=v,e.xf=f,e.Df=void 0!==n.Df?n.Df:u,e.Of=void 0!==n.Of?String(n.Of):o,e.Pf=n.Pf||h,e}S(n,t);var i=n.prototype;return i.ai=function(t){return this._f(this.xf,t)},i.ks=function(){return new n({ai:this.If(),Bf:this.Bf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Uf=void 0,i.Uf=n,i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Uf.Sf()},i.lf=function(t){return this.Uf.lf(t)},i.df=function(t){return this.Uf.df(t)},i.gf=function(t){return this.Uf.gf(t)},i.wf=function(){return this.Uf.wf()},i.If=function(){return this.Uf.If()},A(n,[{key:"Nf",get:function(){return this.Uf.Nf}}]),n}(r_));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(g_||(g_={})),function(t){t.Ff="",t.Hf="manifest",t.zf="segment",t.Vf="content-protection"}(w_||(w_={})),function(t){t.Ff="",t.Wf="initialization-segment",t.Xf="fairplay-license",t.qf="fairplay-certificate",t.Gf="widevine-license",t.Qf="widevine-certificate",t.Yf="playready-license",t.jf="clearkey-license",t.Zf="aes128-key"}(m_||(m_={})),function(t){t.Ff="",t.Jf="audio",t.$f="video",t.On="text",t.Kf="image"}(y_||(y_={}));var p_=function(t,n){this.yf=void 0,this.Cf=void 0,this.tv=void 0,this.xf=void 0,this.nv=void 0,this.Pr=void 0,this.nr=void 0,this.ev=void 0,this.rv=void 0,this.Mf=void 0,this.sv=void 0,this.uv=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.Mf;n?(i=n.yf,e=n.Cf,r=n.tv,s=n.xf,u=n.nv,o=n.Pr,h=n.nr,a=n.ev,c=n.rv,f=n.sv,v=n.uv):(i=null,e={},r=g_.GET,s=qc.On,u=0,h=w_.Ff,a=m_.Ff,c=y_.Ff,f=!1),this.Mf=d,this.yf=t.yf||i,this.Cf=new Gc(t.Cf||e),this.tv=t.tv||r,this.xf=t.xf||s,this.nv=void 0!==t.nv?Number(t.nv)||0:u,this.Pr=t.Pr||o||(new Fs).Pr,this.nr=t.nr||h,this.ev=t.ev||a,this.rv=t.rv||c,this.sv=void 0!==t.sv?Boolean(t.sv):f,this.uv=t.uv||v},b_=function(){function t(){}var n=t.prototype;return n.Bf=function(t){var n=function(t){return new k_({ai:null,Cf:{},Bf:t,Lf:t.Mf,xf:t.xf,Df:0,Of:Xc.ka})}(new p_(t));return ze.resolve(n)},n.ov=function(t){},n.hv=function(){},t}();var A_=function(){function t(t,n){void 0===n&&(n=!0),this.av=void 0,this.cv=void 0,this.av=t,this.cv=n}var n=t.prototype;return n.Bf=function(t){var n=this.fv(t);return this.av.Bf(n)},n.ov=function(t){return this.av.ov(this.vv(t))},n.fv=function(n){var i=new p_(n);if(!this.cv){var e=t.dv(i.Mf);i=new p_({Mf:e},i)}return i},n.vv=function(n){var i=n.Mf;return this.cv||(i=t.dv(i)),{Mf:i,yf:n.yf}},t.dv=function(t){return i.Ue&&os(t,"http://")?t.replace(":","s:"):t},n.hv=function(){this.av.hv()},A(t,null,[{key:"lv",get:function(){return t._v||(t._v=new t(new b_)),t._v}}]),t}();function T_(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function S_(t,n){var e=i.xe(t);return n&&!hs(e,"/")&&(e+="/"),e}A_._v=void 0;var E_,R_=/cache:(.+)?(?=&|$)/,I_="http://webcache.googleusercontent.com/search?q=cache:";function N_(t){if(!os(t,I_))return"";var n=i.Ce(t).search.match(R_);return n&&n.length>1?n[1]:""}!function(t){t.gv="HttpOpenError",t.wv="HttpResponseError",t.mv="HttpTimeoutError"}(E_||(E_={}));var D_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).yv=void 0,r.yv=n,r}return S(n,t),A(n,[{key:"Bf",get:function(){return this.yv}}]),n}(Zt);var C_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Mf+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return E_.gv}}]),n}(D_);var x_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Bf,null!=e?e:function(t){return"Error while loading "+t.Bf.Mf+", status code "+t.Df}(n),i)||this).kv=void 0,r.kv=n,r}return S(n,t),A(n,[{key:"name",get:function(){return E_.wv}},{key:"pv",get:function(){return this.kv}}]),n}(D_);var O_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Mf+" timed out after "+t.nv+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return E_.mv}}]),n}(D_),P_=function(t,n){return(P_=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function B_(t,n){function i(){this.constructor=t}P_(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var L_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var M_=function(){var t=L_.Blob;if(t)try{return new t,function(t,n){return new L_.Blob(t,n)}}catch(t){}var n,i=L_.BlobBuilder||L_.WebKitBlobBuilder||L_.MozBlobBuilder||L_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),U_="function"==typeof ll?ll:void 0;function F_(t){return t&&"function"==typeof t.getReader}function H_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&F_(i)}catch(t){return!1}}var z_=function(){function t(t,n){this.Ka=t,this.bv=n}return t.prototype.pull=function(t){var n=this;return this.Ka.read().then(function(i){n.bv&&n.bv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Ka.cancel(t)},t}();function V_(t,n){return n.constructor===t?n:new t(new z_(n.getReader()),{highWaterMark:0})}var W_=function(){function t(t,n){this.Av=t,this.Tv=n}return t.prototype.pull=function(t){return this.Av().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Tv&&this.Tv(t)},t}();function X_(t,n,i){return new t(new W_(n,i),{highWaterMark:0})}var q_={searchParams:"URLSearchParams"in L_,iterable:"Symbol"in L_&&"iterator"in Symbol,blob:"FileReader"in L_&&!!M_,formData:"FormData"in L_,arrayBuffer:"ArrayBuffer"in L_,stream:H_(U_),streamRequest:"Request"in L_&&"body"in L_.Request.prototype,streamResponse:"Response"in L_&&"body"in L_.Response.prototype,abort:"AbortController"in L_&&"Request"in L_&&"signal"in L_.Request.prototype,encoding:"TextEncoder"in L_&&"TextDecoder"in L_,url:"URL"in L_&&function(t){try{return new L_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in L_&&/Firefox\//.test(L_.navigator.userAgent)};function G_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function Q_(t){return"string"!=typeof t&&(t=String(t)),t}function Y_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return q_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var j_=function(){function t(t){var n=this;this.je={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return q_.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=G_(t),n=Q_(n);var i=t.toLowerCase();if(this.je.hasOwnProperty(i)){var e=this.je[i],r=e[1];e[1]=r?r+", "+n:n}else this.je[i]=[t,n]},t.prototype.delete=function(t){var n=G_(t).toLowerCase();delete this.je[n]},t.prototype.get=function(t){var n=G_(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},t.prototype.has=function(t){var n=G_(t).toLowerCase();return this.je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=G_(t)).toLowerCase();this.je[i]=[t,Q_(n)]},t.prototype.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Y_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Y_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Y_(t)},t.prototype.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Z_(){}q_.iterable&&(j_.prototype[Symbol.iterator]=j_.prototype.entries);var J_,$_,K_,tg=_.min,ng=String.fromCharCode,ig=16384;function eg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=ig){var r=tg(e+ig,n);i.push(ng.apply(null,t.slice(e,r)))}return i.join("")}(n)}function rg(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function sg(t,n){return t>>n&63|128}function ug(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rg(t),n.push(t>>12&15|224),n.push(sg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(sg(t,12)),n.push(sg(t,6))),n.push(63&t|128)):n.push(t)}function og(){if(K_>=$_)throw new v("Invalid byte index");var t=255&J_[K_];if(K_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function hg(){var t,n;if(K_>$_)throw new v("Invalid byte index");if(K_===$_)return!1;if(t=255&J_[K_],K_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|og())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|og()<<6|og())>=2048)return rg(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|og()<<12|og()<<6|og())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var ag=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function cg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function fg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function vg(t){return t&&DataView.prototype.isPrototypeOf(t)}var dg,lg=ArrayBuffer.isView||function(t){return t&&(ag.indexOf(l.prototype.toString.call(t))>-1||vg(t))};function _g(t){if(t.bodyUsed)return ze.reject(new d("Already used"));t.bodyUsed=!0}function gg(t){return new ze(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function wg(t){return q_.encoding?new L_.TextDecoder("utf-8").decode(new y(t)):eg(function(t){$_=(J_=t).length,K_=0;for(var n,i=[];!1!==(n=hg());)i.push(n);return i}(new y(t)))}function mg(t){return q_.encoding?(new L_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ug(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function yg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?ze.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function kg(t){return yg(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function pg(t){return t.slice?t.slice(0):bg(new y(t))}function bg(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Ag(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Tg(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.Sv===dg.Ev){if(!n.Rv.tee)throw new v("could not clone ReadableStream body");var i=n.Rv.tee(),e=i[0],r=i[1];return n.body=e,n.Rv=e,n.Iv=e,r}return n.Sv===dg.za?pg(n.Rv):n.Sv===dg.vf?n.Rv.then(Tg):n.Iv}!function(t){t[t.On=0]="On",t[t.Nv=1]="Nv",t[t.Dv=2]="Dv",t[t.za=3]="za",t[t.Ev=4]="Ev",t[t.vf=5]="vf"}(dg||(dg={}));var Sg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Iv=n||null,n)if("string"==typeof n)this.Sv=dg.On,this.Rv=n;else if((s=n)&&"function"==typeof s.then)this.Sv=dg.vf,this.Rv=ze.resolve(n).then(function(n){return new t(n,i)}),this.Rv.catch(Z_);else if(q_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Sv=dg.Nv,this.Rv=n;else if(q_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Sv=dg.Dv,this.Rv=n;else if(q_.searchParams&&cg(n))this.Sv=dg.On,this.Rv=n.toString();else if(q_.arrayBuffer&&(fg(n)||lg(n)))vg(n)&&(this.Iv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Sv=dg.za,this.Rv=fg(e=n)?pg(e):bg(e);else{if(!q_.stream||!F_(n))throw new v("unsupported BodyInit type");n=V_(U_,n),this.Sv=dg.Ev,this.Rv=n,this.Iv=n}else this.Sv=dg.On,this.Rv="";this.Cv="",i.has("content-type")?this.Cv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Cv="text/plain;charset=UTF-8":u.Sv===dg.Nv&&u.Rv.type?this.Cv=u.Rv.type:q_.searchParams&&cg(n)&&(this.Cv="application/x-www-form-urlencoded;charset=UTF-8"),this.Cv&&i.set("content-type",this.Cv)),q_.stream&&(null==n?this.body=null:u.Sv===dg.Ev?this.body=u.Rv:this.body=X_(U_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=_g(this);return e||(this.Sv===dg.Nv?(t=this.Rv,n=new FileReader,i=gg(n),n.readAsText(t),i):this.Sv===dg.za?ze.resolve(this.Rv).then(wg):this.Sv===dg.Ev?kg(this.Rv).then(wg):this.Sv===dg.vf?this.Rv.then(function(t){return t.text()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as text")):ze.resolve(this.Rv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();q_.blob&&(Sg.prototype.blob=function(){var t,n,i=_g(this);return i||(this.Sv===dg.Nv?ze.resolve(this.Rv):this.Sv===dg.za?ze.resolve(M_([this.Rv],{type:this.Cv})):this.Sv===dg.Ev?(t=this.Rv,n=this.Cv,yg(t).then(function(t){return M_(t,{type:n||""})})):this.Sv===dg.vf?this.Rv.then(function(t){return t.blob()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as Blob")):ze.resolve(M_([this.Rv],{type:this.Cv})))}),q_.arrayBuffer&&(Sg.prototype.arrayBuffer=function(){var t,n,i;return this.Sv===dg.za?_g(this)||ze.resolve(this.Rv):this.Sv===dg.Nv?_g(this)||(t=this.Rv,n=new FileReader,i=gg(n),n.readAsArrayBuffer(t),i):this.Sv===dg.Ev?kg(this.Rv):this.Sv===dg.vf?_g(this)||this.Rv.then(function(t){return t.arrayBuffer()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as ArrayBuffer")):ze.resolve(this.Rv).then(mg)}),q_.formData&&(Sg.prototype.formData=function(){return this.Sv===dg.Dv?_g(this)||ze.resolve(this.Rv):this.text().then(Ag)});var Eg=[301,302,303,307,308],Rg=function(t){function n(n,i){var e=this,r=new j_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return B_(n,t),n.prototype.clone=function(){return new n(Tg(this),{status:this.status,statusText:this.statusText,headers:new j_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Eg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Sg);var Ig,Ng=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Ig=Ng)&&Ig.__esModule&&l.prototype.hasOwnProperty.call(Ig,"default")&&Ig.default,Ng.AbortSignal;var Dg=Ng.AbortController,Cg=L_.DOMException;try{new Cg}catch(t){(Cg=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Cg.prototype.constructor=Cg}var xg=Dg;function Og(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Pg(t,n,i){return new ze(function(e,r){if(n.signal.aborted)return t.catch(Z_),r(Bg());var s=function(){n.signal.removeEventListener("abort",s),r(Bg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Bg(){return new Cg("Aborted","AbortError")}var Lg,Mg="moz-chunked-arraybuffer";function Ug(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Lg||(Lg={}));var Fg=function(){function t(t,n){var i=this;this.xv=!1,this.yv=t,this.Ov=n,this.Pv=new p,this.Bv=new ze(function(t,n){i.Lv=t,i.Mv=n})}return t.prototype.send=function(){var t=this;return this.Uv().then(function(n){return t.Fv(n,t.Ov),t.Bv})},t.prototype.Uv=function(){var t=this.yv;return t.Sv===dg.Ev?t.arrayBuffer():ze.resolve(t.Iv)},t.prototype.Hv=function(t){this.yv.onprogress&&this.yv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.zv=function(t){this.Mv(t)},t.prototype.Vv=function(){this.zv(new d("Network request failed"))},t.prototype.Wv=function(){this.zv(new d("Network request failed"))},t.prototype.Xv=function(){this.zv(Bg())},t.prototype.Fv=function(t,n){var i=this,e=this.yv,r=this.Pv,s=function(){return i.qv()};if(e.signal.aborted)return this.Xv();r.onreadystatechange=function(){if(r.readyState>=Lg.HEADERS_RECEIVED&&!i.xv){var t=function(t){var n=new j_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.xv=!0,i.Gv(n)}},r.onprogress=function(t){return i.Hv(t)},r.onload=function(){return i.Qv()},r.onerror=function(){return i.Vv()},r.ontimeout=function(){return i.Wv()},r.onabort=function(){return i.Xv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.qv=function(){this.Xv(),this.Pv.abort()},t}(),Hg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Yv=void 0,e.jv=void 0,e}return B_(n,t),n.prototype.Gv=function(t){var n=this;this.Yv=new ze(function(t,i){n.jv=t,n.Zv=i}),this.Lv(new Rg(this.Yv,t))},n.prototype.Qv=function(){var t=this.Pv.response;if(null==t){var n=this.Ov;""===n||"text"===n?t=this.Pv.responseText:"document"===n?t=this.Pv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=M_([]))}this.jv(t)},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.Zv&&this.Zv(n)},n}(Fg),zg=function(t){function n(n){var i=t.call(this,n,Mg)||this;return i.Jv=void 0,i.$v=void 0,i.Kv=!1,i}return B_(n,t),n.prototype.Gv=function(t){var n=this;this.Jv=new U_({start:function(t){n.$v=t},cancel:function(){n.Kv=!0,n.qv()}}),this.Lv(new Rg(this.Jv,t))},n.prototype.Hv=function(n){this.Kv||this.$v.enqueue(new y(this.Pv.response)),t.prototype.Hv.call(this,n)},n.prototype.Qv=function(){this.$v.close()},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.$v&&!this.Kv&&(this.Kv=!0,this.$v.error(n))},n}(Fg),Vg=function(){var t=q_.firefox&&Ug(Mg);return Vg=function(){return t},t},Wg=function(){var t;return t=q_.arrayBuffer&&Ug("arraybuffer")?"arraybuffer":q_.blob&&Ug("blob")?"blob":"",Wg=function(){return t},t};function Xg(t){return(q_.stream&&Vg()?new zg(t):new Hg(t,Wg())).send()}var qg=L_.fetch,Gg=L_.Request;L_.Response;var Qg=L_.AbortController;var Yg=["http:","https:"];var jg=function(){try{if(q_.streamRequest){var t=new Gg("about:blank",{body:"",method:"POST"}).body;if(t&&H_(t.constructor))return t.constructor}}catch(t){}}();function Zg(t,n,i){var e;if(q_.stream){var r=void 0;if(q_.streamResponse){var s=t.body;r=s&&V_(U_,s)}else r=X_(U_,function(){return Pg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new z_(n.getReader(),i),{highWaterMark:0})}(U_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Jg(t.headers))),e=r}else{var u=Pg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return ze.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Jg(t.headers))),e=u}return new Rg(e,t)}function Jg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function $g(t){var n=new xg;return t.signal&&Og(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Sv===dg.Ev?q_.streamRequest&&jg?ze.resolve(V_(jg,r.Rv)):Pg(t.arrayBuffer(),n,!1):Pg(ze.resolve(t.Iv),n,!1),q_.abort){var s=new Qg;Og(s,n.signal),e=s.signal}return i.then(function(n){return new Gg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof j_?i:new j_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return qg(i).then(function(i){return Zg(i,n,t.onprogress)})})}var Kg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var tw=function(t){function n(i,e){var r,s,u,o,h,a,c,f,v,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new j_(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.Iv||(_=i.Iv,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new j_(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return Kg.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new xg).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return B_(n,t),n.prototype.clone=function(){return new n(this,{body:Tg(this)})},n}(Sg),nw="function"==typeof qg&&q_.stream&&q_.streamResponse&&q_.url;function iw(t,n){return new ze(function(i){var e=new tw(t,n);i((nw&&function(t){try{return Yg.indexOf(new L_.URL(t,L_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?$g:Xg)(e))})}iw.polyfill=!0;var ew=function(){function t(t){this.pv=void 0,this.yv=void 0,this.Fc=new Fs,this.kv=void 0,this.td=!1,this.yv=t,this.Fc.xr(t.Pr),this.pv=this.nd()}var n=t.prototype;return n.nd=function(){var t,n,e,r,s,u,o,a,c=this;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.yv).nv&&h(function(){c.td=!0,c.Fc.Cr()},t.nv),f.prev=2,n=iw(t.Mf,{method:t.tv,headers:t.Cf.Xa(),body:t.yf,credentials:t.sv?"include":"same-origin",signal:uw(this.Fc.Pr),onprogress:t.uv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new C_(t,f.t0);case 9:return f.prev=9,f.next=12,Er.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),zs(r=this.ed(f.t1))&&this.Fc.Cr(),r;case 20:if(s=e.url||t.Mf,u=0===e.status&&"file:"===(v=s,i.Ce(v).protocol)?200:e.status,o=new rw(this,e,this.Fc),a=new k_({ai:o,Bf:t,xf:t.xf,Cf:new Gc(e.headers.asList()),Df:u,Of:e.statusText,Lf:s}),this.kv=a,!__(a)){f.next=29;break}return f.abrupt("return",a);case 29:throw new x_(a);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],ze)},n.ed=function(t){return zs(t)?this.td?new O_(this.yv):new Hs(t.message,t):this.kv?new x_(this.kv,t):new C_(this.yv,t)},t}(),rw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.sd=void 0,r.Fc=void 0,r.Af=new Ro,r.rd=n,r.sd=i,r.Fc=e,r.Af.Ss.catch(Z),r}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(this.sd.text(),t)},i.gf=function(t){return this.Ef(this.sd.arrayBuffer(),t)},i.wf=function(){var t=this.sd.body;return t?this.Rf(t):Kl(this.gf().then(Jl),this.Fc)},i.If=function(){var t=this.sd.clone(),i=this.Fc.Or(),e=i[0],r=i[1];return this.Fc=e,new n(this.rd,t,r)},i.Ef=function(t,n){var i=this;n&&this.Fc.xr(n);var e=ze.resolve(t).catch(function(t){throw i.rd.ed(t)});return e=Gs(e,this.Fc),this.Af.Is(e.then(Z)),e},i.Rf=function(t){var n=this,i=new Ll,e=ze.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.rd.ed(t);throw i.writable.abort(e).catch(Z),e});return e=Gs(e,this.Fc),this.Af.Is(e.then(Z)),i.readable},A(n,[{key:"Nf",get:function(){return this.sd.bodyUsed}}]),n}(r_),sw="abort";function uw(t){var n=new xg;if(t.yr)n.abort();else if(!t.kr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(sw,i),t.Rr(i),t.Nr(e)};n.signal.addEventListener(sw,i),t.Er(i),t.Ir(e)}return n.signal}function ow(t,n,i){return new ze(function(e,r){if(i&&i.yr)return r(new Hs);var s=function(t){o(),e(t)},u=function(){o(),r(new Hs)},o=function(){t.removeEventListener(n,s),i&&i.Rr(u)};t.addEventListener(n,s),i&&i.Er(u)})}var hw,aw,cw=function(){function t(){}var n=t.prototype;return n.Bf=function(t){return new ew(t).pv},n.ov=function(t){if(ve&&ve.sendBeacon)ve.sendBeacon(t.Mf,Vc([t.yf],{type:t.mf}));else{var n=t.mf?{"Content-type":t.mf}:void 0;Zs(this.Bf(new p_({tv:g_.POST,Mf:t.Mf,yf:t.yf,Cf:n})))}},n.hv=function(){},t}();hw=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).ud=void 0,i.od=function(){if(L.Yt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.hd=L.yn,i.fd=void 0,i}return S(i,n),A(i,[{key:"Te",get:function(){return this.ud||(this.ud=new ks(Uc())),this.ud}},{key:"vd",get:function(){return this.od}},{key:"dd",get:function(){return this.hd}},{key:"ld",get:function(){return!1}},{key:"_d",get:function(){return Hc.ea()}},{key:"gd",get:function(){return{wd:Wc}}},{key:"md",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"yd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"kd",get:function(){return this.fd||(this.fd=new A_(new cw)),this.fd}}]),i}(Ar)),i=hw,function(t){t.pd="bd",t.Ad="Td"}(aw||(aw={})),aw.pd,aw.Ad;var fw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Sd=void 0,e}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(ru);function vw(t){return Boolean(t&&t.Ed)}var dw,lw=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(fw),_w=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(ru),gw=function(t){function n(n){var i;return(i=t.call(this,aw.pd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new ww(this.Id.Ed)},n}(lw),ww=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(_w),mw=function(t){function n(n){var i;return(i=t.call(this,aw.Ad)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new yw(this.Id.Ed)},n}(lw),yw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(_w);!function(t){t.Nd="Dd",t.Cd="xd",t.Od="Pd",t.Bd="Ld",t.Md="Ud",t.Fd="Hd",t.zd="Vd",t.Wd="Xd",t.qd="Zo",t.Gd="Qd",t.Yd="jd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(dw||(dw={}));var kw=function(t){function n(){var n;return(n=t.call(this)||this).Zd=[],n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.Jd=function(t){return this.Zd[t]},i.$d=function(t){return!(!t||Os(this.Zd,t))&&(this.Zd.push(t),this.Sd&&this.Sd.push(t.Ed),t.Hr(dw.Fd,this.Ur),this.Fr(new gw(t)),!0)},i.Kd=function(t){if(!t)return!1;var n=this.Zd.indexOf(t);return!(n<0)&&(xs(this.Zd,n),this.Sd&&xs(this.Sd,n),t.Xr(dw.Fd,this.Ur),this.Fr(new mw(t)),!0)},i.tl=function(t){return Os(this.Zd,t)},i.nl=function(){for(var t=this.Zd,n=t.length-1;n>=0;n-=1)this.Kd(t[n])},i.hv=function(){this.nl(),this.Wr()},A(n,[{key:"il",get:function(){return this.Zd}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"sl",get:function(){return this.Zd.length}}]),n}(iu),pw=function(t){function n(n){var i;return(i=t.call(this,dw.Fd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new bw(this.Id.Ed)},n}(lw),bw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(_w),Aw=function(t){function n(){var n;return(n=t.call(this)||this).ul=void 0,n.ol=function(t){var i=t.Id;n.$d(i)},n.hl=function(t){var i=t.Id;n.Kd(i)},n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(aw.pd,this.ol),t.Hr(aw.Ad,this.hl)},i.cl=function(t){t.Xr(aw.pd,this.ol),t.Xr(aw.Ad,this.hl)},i.hv=function(){this.ul&&this.ul.hv(),t.prototype.hv.call(this)},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;if(t!==n){if(n){this.cl(n);for(var i=0,e=n.il;i<e.length;i++){var r=e[i];t&&t.tl(r)||this.Kd(r)}}if(this.ul=t,t){for(var s=[],u=0,o=t.il;u<o.length;u++){var h=o[u];this.$d(h),this.vl(h)&&s.push(h)}this.al(t);for(var a=0;a<s.length;a++){var c=s[a];c.Fr(new pw(c))}}}}}]),n}(kw),Tw=l.freeze||J;function Sw(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ew(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function Rw(t){if(X(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=Rw(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Rw(t[r]));return e}return t}function Iw(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Iw(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!Iw(t[s],n[s]))return!1}return!0}(t,n)))}function Nw(t,n){return t.constructor===n.constructor}function Dw(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Cw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function xw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Ow(t){var n=xw(t);if(m(n))throw new v("Expected a valid number.");return n}function Pw(t){return"string"==typeof t?t:""}function Bw(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Lw(t,n){return V(t)?Bw(t,n):n(t)}var Mw=[aw.pd,aw.Ad,dw.Fd];function Uw(t){var n,i=t.il.map(function(t){return t.Ed});return i.item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},i.addEventListener=function(t,i){n.Hr(t,i)},i.removeEventListener=function(t,i){n.Xr(t,i)},n=new eu(i),t.Hr(Mw,function(t){return n.Fr(t.Ed)}),i}function Fw(){}function Hw(t){var n,i=[dw.qd,dw.Fd,dw.Gd,dw.Yd,dw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.dl&&t.dl.Ed},get enabled(){return t.ll},set enabled(n){t.ll=Cw(n)},get id(){return t._l},get uid(){return t.gl},get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=Pw(n)},get language(){return t.yl},get qualities(){return t.kl.Ed},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.kl.il;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Ed===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.pl=i:t.pl=void 0},get targetQuality(){if(t.pl)return 1===t.pl.length?t.pl[0].Ed:t.pl.map(function(t){return t.Ed})},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),l.defineProperty(e,"constructor",{value:Fw}),e}function zw(){}function Vw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:zw}),n}var Ww,Xw,qw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return Vw(this)},i.vl=function(t){return t.ll},n}(Aw);function Gw(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Ww.bl:case Ww.Al:case Ww.Tl:return n}}else if("number"==typeof t)switch(t){case 0:return Ww.bl;case 1:return Ww.Al;case 2:return Ww.Tl}return Ww.bl}function Qw(){}function Yw(t){var n,i=[dw.Fd,dw.qd,dw.Nd,dw.Cd,dw.Od,dw.Bd,dw.Md,dw.zd,dw.Wd],e=[Xw.Sl],r={get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=Pw(n)},get language(){return t.yl},get id(){return t._l},get uid(){return t.gl},get inBandMetadataTrackDispatchType(){return t.El},get mode(){return t.Rl},set mode(n){n!==Ww.Tl&&n!==Ww.Al&&n!==Ww.bl||t.Il(n)},get forced(){return Boolean(t.Nl)},get type(){return t.nr},get readyState(){return Jw(t.Dl)},get cues(){return t.Rl===Ww.bl?null:t.Cl.Ed},get activeCues(){return t.Rl===Ww.bl?null:t.xl.Ed},get src(){return t.Ol||""},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(t),t.Hr(i,function(t){return n.Fr(t.Ed)}),t.Hr(e,function(t){return n.Fr(t)}),l.defineProperty(r,"constructor",{value:Qw}),r}function jw(){}function Zw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:jw}),n}function Jw(t){return t}!function(t){t.bl="disabled",t.Al="hidden",t.Tl="showing"}(Ww||(Ww={})),function(t){t.Sl="error"}(Xw||(Xw={}));var $w=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return Zw(this)},i.vl=function(t){return t.Rl===Ww.Tl},n}(Aw),Kw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},n}(iu),tm=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Kw),nm=function(t){function n(){return t.call(this,Xc._a)||this}return S(n,t),n}(ru),im=function(t){function n(n){var i;return(i=t.call(this,Xc.ca)||this).currentSource=n,i}return S(n,t),n}(ru),em=function(){function t(){}return t.Pl=function(n,i){var e=t.Bl(n,i);return e?t.Ll(e):0},t.Ml=function(){return i.md||"default"},t.Ul=function(){return i.yd||"unknown"},t.Bl=function(n,e){var r,s=null==(r=i._d)?void 0:r.cs(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Fl(u,n,e)},t.Ll=function(t){var n=t.availableBandwidth;return n||0},t.Fl=function(n,i,e){if(!t.Hl(n,i))return n[i];t.zl(n,i,e)},t.zl=function(t,n,e){var r;delete t[n],null==(r=i._d)||r.ia(e,JSON.stringify(t))},t.Hl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Vl=function(t,n,i,e){var r;return Rr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Wl=function(n){var i=t.Ml();t.Xl(i,"theoplayer-stored-network-info",n,zt())},t.Xl=function(n,e,r,s){var u,o,h=null==(u=i._d)?void 0:u.cs(e),a=h?JSON.parse(h):void 0,c=t.Vl(a,n,r,s);null==(o=i._d)||o.ia(e,JSON.stringify(c))},t.ql=function(){var n=t.Ml();return t.Pl(n,"theoplayer-stored-network-info")},t}();var rm,sm,um,om,hm,am,cm="1ADD53F3";function fm(t){return{chromecast:function(t){return{appID:t&&t.appID?Pw(t.appID):cm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return rm.AUTO;case"manual":return rm.MANUAL;case"disabled":return rm.DISABLED;default:return rm.MANUAL}}(t?t.strategy:void 0)}}function vm(t){var n,i=um.Gl;return(n=t)&&us(n,"mpd")&&(i=um.Ql),function(t){return!!t&&us(t,"m3u8")}(t)&&(i=um.Yl),i}function dm(t){return!!t&&os(t.toLowerCase(),um.Ql)}function lm(t){if(!t)return!1;var n=t.toLowerCase();return os(n,um.Yl)||os(n,um.jl)}function _m(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function gm(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function wm(t){if(q(t))return!t;if(gm(t))return!t.id;if(_m(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function mm(t){return Boolean(W(t)&&q(t.src))}function ym(t){return q(t)||mm(t)||_m(t)||gm(t)}function km(t){if(t){if(ym(t))return wm(t);for(var n=0;n<t.length;n++){if(!wm(t[n]))return!1}return!0}return!0}function pm(){return{crossOrigin:sm.Zl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function bm(){return Rr({},pm(),{src:void 0,type:um.Gl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Am(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:om.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hm.NONE;case"midroll-and-postroll":default:return hm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Cw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return om.INSECURE;case"disabled":return om.DISABLED;case"enabled":default:return om.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Cw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Tm(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];X(r)&&n.push(r)}return n}function Sm(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(rm||(rm={})),function(t){t.Zl="",t.Jl="anonymous",t.$l="use-credentials"}(sm||(sm={})),function(t){t.Ql="application/dash+xml",t.Yl="application/vnd.apple.mpegurl",t.jl="application/x-mpegurl",t.Gl="video/mp4",t.Kl="application/vnd.theoplayer.hesp+json",t.t_="application/vnd.theo.hesp+json"}(um||(um={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(om||(om={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hm||(hm={})),function(t){t[t.n_=0]="n_",t[t.i_=1]="i_",t[t.e_=2]="e_",t[t.r_=3]="r_",t[t.s_=4]="s_"}(am||(am={}));var Em,Rm=function(t){function n(n,i){var e;return void 0===i&&(i=am.n_),(e=t.call(this,Xc.da)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Im=function(t){function n(n){var i;return(i=t.call(this,Xc.ba)||this).currentTime=n,i}return S(n,t),n}(ru),Nm=function(t){function n(n){var i;return(i=t.call(this,Xc.Aa)||this).currentTime=n,i}return S(n,t),n}(ru);!function(t){t.u_="canplay",t.o_="canplaythrough",t.h_="loadeddata",t.a_="loadedmetadata",t.zd="readystatechange",t.c_="waiting",t.f_="playing"}(Em||(Em={}));var Dm,Cm,xm=[Em.u_,Em.o_,Em.h_,Em.a_,Em.zd,Em.c_,Em.f_],Om=function(t){function n(n,i){var e;return void 0===i&&(i=am.i_),(e=t.call(this,Em.a_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Pm=function(t){function n(n){var i;return(i=t.call(this,Xc.va)||this).duration=n,i}return S(n,t),n}(ru),Bm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.Sa)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(ru),Lm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.La)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(ru),Mm=function(t){function n(n){var i;return(i=t.call(this,Xc.la)||this).currentTime=n,i}return S(n,t),n}(ru),Um=function(t){function n(n,i){var e;return void 0===i&&(i=am.e_),(e=t.call(this,Em.h_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Fm=function(t){function n(n){var i;return(i=t.call(this,Xc.Na)||this).currentTime=n,i}return S(n,t),n}(ru),Hm=function(t){function n(n){var i;return(i=t.call(this,Xc.Ia)||this).currentTime=n,i}return S(n,t),n}(ru),zm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.Ma)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(ru),Vm=function(t){function n(n,i){var e;return void 0===i&&(i=am.r_),(e=t.call(this,Em.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Wm=function(t){function n(n,i){var e;return void 0===i&&(i=am.s_),(e=t.call(this,Em.o_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Xm=function(t){function n(n,i){var e;return(e=t.call(this,Em.zd)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),qm=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw);function Gm(t){switch(t){case Dm.ALL:case Dm.CONTENT:return t;default:return Dm.NONE}}function Qm(t){var n,e,r,s=Rw(t||{});return s.libraryLocation&&(s.libraryLocation=S_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=fm(s.cast),s.ads=Am(s.ads),s.analytics=Tm(s.analytics),s.mutedAutoplay=Gm(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return S_(t)}catch(t){return void i.me("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Ym(t){return{v_:t.v_,d_:t.d_,l_:t.l_,ts:t.ts,__:t.__,g_:t.g_,w_:t.w_,m_:t.m_,Dl:t.Dl,y_:t.y_,k_:t.k_,p_:t.p_,b_:t.b_}}function jm(t,n,i){if(n!==i){var e=n.v_,r=n.d_,s=n.g_,u=n.w_,o=n.m_,h=n.Dl,a=n.y_;n.p_,n.k_;var c=n.b_,f=i.v_,v=i.d_,d=i.l_,l=i.__,_=i.g_,g=i.w_,w=i.m_,y=i.Dl,k=i.y_;i.p_,i.k_;var p=i.b_;h!==am.n_&&t.Fr(new Rm(f,y)),g&&!u?t.Fr(new Im(f)):!g&&u&&t.Fr(new Nm(f)),y>=am.i_&&t.Fr(new Om(f,y)),v===r||m(v)&&m(r)||t.Fr(new Pm(v)),w!==o&&t.Fr(new Bm(f,w)),f!==e&&t.Fr(new Lm(f,void 0)),d&&t.Fr(new Mm(f)),y>=am.e_&&t.Fr(new Um(f,y)),k&&!a?t.Fr(new Fm(f)):!k&&a&&t.Fr(new Hm(f)),p===c&&_===s||t.Fr(new zm(f,p)),y>=am.r_&&t.Fr(new Vm(f,y)),y>=am.s_&&t.Fr(new Wm(f,y)),y!==h&&t.Fr(new Xm(f,y)),l&&t.Fr(new qm(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Dm||(Dm={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Cm||(Cm={}));var Zm=400,Jm=.25,$m={A_:.2,T_:.45,S_:.7,E_:3,R_:sy,I_:uy},Km={A_:.4,T_:.65,S_:1,E_:3,R_:sy,I_:uy},ty={A_:.4,T_:.7,S_:.9,E_:3,R_:sy,I_:uy},ny={A_:.4,T_:.65,S_:1,E_:3,R_:sy,I_:uy},iy={A_:.5,T_:1.125,S_:1.75,E_:2.55,R_:sy,I_:uy};function ey(){var t;return t=i.Pe.te?ny:i.Pe.re?Km:i.Pe.ee?"Android"===i.Be.Le?ty:$m:iy,i.Be.Me?function(t){if(i.Be.Me){var n=(Zm+250)/1e3,e=_.max(n,t.A_),r=_.max(e+Jm,t.T_),s=_.max(r+Jm,t.S_);return{A_:e,T_:r,S_:s,E_:_.max(s+Jm,t.E_),R_:sy,I_:uy}}return t}(t):t}var ry,sy=.92,uy=1.08;function oy(t){return{goLive:function(){return t.N_()},get isLive(){return t.D_},get currentServerLiveTime(){return t.C_},get currentLatency(){return t.x_},get latency(){return t.O_},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.O_=n},get manifest(){return t.P_},get metrics(){return t.B_},addEventListener:function(n,i){t.Hr(ay(n),i)},removeEventListener:function(n,i){t.Xr(ay(n),i)}}}!function(t){t[t.bl=0]="bl",t[t.L_=1]="L_",t[t.M_=2]="M_"}(ry||(ry={}));var hy=["analytic","golive","nogolive","bufferedchange"];function ay(t){var n=Lw(t,Pw);return(q(n)?[n]:n).filter(function(t){return Os(hy,t)})}var cy,fy=function(t){function n(){var n,i;return(n=t.call(this)||this).ul=void 0,n.Sd=void 0,n.U_={windowStart:(i=ey()).A_,windowEnd:i.S_,target:i.T_,maxOffset:i.E_},n.ul=void 0,n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(hy,this.Ur)},i.cl=function(t){t.Xr(hy,this.Ur)},i.N_=function(){var t;null==(t=this.ul)||t.N_()},i.hv=function(){this.Wr(),this.ul&&this.cl(this.ul),this.ul=void 0},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;t!==n&&(n&&this.cl(n),t&&this.al(t),this.ul=t,this.ul&&(this.ul.O_=this.U_))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=oy(this)),this.Sd}},{key:"C_",get:function(){var t;return null==(t=this.ul)?void 0:t.C_}},{key:"x_",get:function(){var t;return null==(t=this.ul)?void 0:t.x_}},{key:"D_",get:function(){return!!this.ul&&this.ul.D_}},{key:"O_",get:function(){return this.ul?this.ul.O_:this.U_},set:function(t){this.ul&&(this.ul.O_=t),this.U_=t}},{key:"P_",get:function(){var t;return null==(t=this.ul)?void 0:t.P_}},{key:"B_",get:function(){var t;return null==(t=this.ul)?void 0:t.B_}}]),n}(iu),vy=function(t){function n(n){var i;return(i=t.call(this)||this).ul=void 0,i.F_=[],i.H_=!1,i.z_=new qw,i.V_=new qw,i.W_=new $w,i.X_=new fy,i.q_=!1,i.G_(n),n.Vr(i.Ur),i.ul=n,i.z_.fl=n.Q_,i.V_.fl=n.Y_,i.W_.fl=n.j_,i.X_.fl=n.Z_,i}S(n,t);var i=n.prototype;return i.J_=function(){this.ul.J_()},i.K_=function(){this.ul.K_()},i.tg=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Js(this.F_.map(function(t){return t.tg()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,ze)},i.ng=function(){return this.ul.ng()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(this.ul.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,ze)},i.eg=function(){return this.fl.eg()},i.rg=function(){this.fl.rg()},i.sg=function(){this.fl.sg()},i.ug=function(){if(!this.H_){for(var t=0,n=this.F_;t<n.length;t++){n[t].ug()}this.H_=!0}},i.og=function(t){this.ul.og(t)},i.hg=function(){this.ul.hg()},i.ag=function(){this.ul.ag()},i.cg=function(){this.ul.cg()},i.fg=function(){return this.ul.fg()},i.vg=function(){return this.ul.vg()},i.dg=function(){for(var t=[],n=0,i=this.F_;n<i.length;n++){var e=i[n];t.push.apply(t,e.dg())}return t},i.lg=function(t){for(var n=!1,i=0,e=this.F_;i<e.length;i++){n=e[i].lg(t)||n}return n},i.Fr=function(n){this.lg(n)||t.prototype.Fr.call(this,n)},i.G_=function(t){this.F_.push(t)},i._g=function(t){Cs(this.F_,t)},i.gg=function(t){if(t!==this.ul){var n=this.ul;n.hg(),n.Qr(this.Ur);var i=Ym(this),e=this.wg,r=this.vg();this.ul=t,this.z_.fl=t.Q_,this.V_.fl=t.Y_,this.W_.fl=t.j_,this.X_.fl=t.Z_,jm(this,i,this);var s=this.wg;s!==e&&this.Fr(new im(s)),this.vg()!==r&&this.Fr(new nm),t.Vr(this.Ur),t.og(n)}},i.mg=function(){},i.hv=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Wr(),this.ul.hg(),t=0,n=this.F_;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Er.awrap(i.hv());case 7:t++,e.next=3;break;case 10:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 14:case"end":return e.stop()}},null,this,null,ze)},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Js(this.F_.map(function(t){return t.nl()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"yg",get:function(){return this.ul.yg}},{key:"kg",get:function(){return this.ul.kg},set:function(t){this.ul.kg=t}},{key:"wg",get:function(){return this.ul.wg}},{key:"v_",get:function(){return this.ul.v_},set:function(t){this.ul.v_=t}},{key:"d_",get:function(){return this.ul.d_}},{key:"pg",get:function(){return this.ul.pg}},{key:"l_",get:function(){return this.ul.l_}},{key:"ts",get:function(){return this.ul.ts}},{key:"__",get:function(){return this.ul.__}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.ul.bg}},{key:"B_",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.Ag,i+=h.Tg,e+=h.Sg,r+=h.Eg,s+=h.Rg,u.amountOfBufferedAudioSegments+=h.Ig.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ig.amountOfBufferedVideoSegments}return{Ag:n,Tg:i,Sg:e,Eg:r,Rg:s,Ig:u}}(this.F_.map(function(t){return t.B_}))}},{key:"g_",get:function(){return this.ul.g_},set:function(t){this.ul.g_=t}},{key:"Ng",get:function(){return this.ul.Ng}},{key:"w_",get:function(){return this.ul.w_}},{key:"m_",get:function(){return this.ul.m_},set:function(t){this.ul.m_=t}},{key:"Dg",get:function(){return this.ul.Dg}},{key:"Cg",get:function(){return this.ul.Cg},set:function(t){this.ul.Cg=t}},{key:"Dl",get:function(){return this.ul.Dl}},{key:"xg",get:function(){return this.ul.xg}},{key:"y_",get:function(){return this.ul.y_}},{key:"k_",get:function(){return this.ul.k_}},{key:"p_",get:function(){return this.ul.p_}},{key:"b_",get:function(){return this.ul.b_},set:function(t){this.ul.b_=t}},{key:"Og",get:function(){return this.ul.Og}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"fl",get:function(){return this.ul},set:function(t){this.gg(t)}}]),n}(tm),dy=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Tc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(cy||(cy={}));var ly=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Yt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(jt);function _y(t){Sw(t,"MEDIA_ERR_ABORTED",cy.ABORTED),Sw(t,"MEDIA_ERR_NETWORK",cy.NETWORK),Sw(t,"MEDIA_ERR_DECODE",cy.DECODE),Sw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",cy.SRC_NOT_SUPPORTED),Sw(t,"MEDIA_ERR_ENCRYPTED",cy.ENCRYPTED)}function gy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new ly(cy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new ly(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return cy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return cy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return cy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return cy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return cy.NETWORK;if(i===n.ErrorCategory.SOURCE)return cy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return cy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return cy.ENCRYPTED;if(i===n.ErrorCategory.AD)return cy.ADVERTISEMENT_ERROR;return cy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function wy(t){switch(t){case cy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case cy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case cy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case cy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case cy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case cy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case cy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}_y(ly),_y(ly.prototype);var my,yy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Rd=function(){return Vw(this)},n}(kw);!function(t){t.Jf="audio",t.$f="video",t.On="text",t.Kf="image",t.Ff="unknown"}(my||(my={}));var ky=function(){function t(){this.Bg=[],this.Sd=void 0}var n=t.prototype;return n.Lg=function(t){this.Bg.push(t),this.Sd&&this.Sd.push(t.Ed)},n.Jd=function(t){return this.Bg[t]},n.Mg=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Os(t,n[i]))return!1;return!0}(this.Bg,t):Os(this.Bg,t)},A(t,[{key:"il",get:function(){return this.Bg}},{key:"sl",get:function(){return this.Bg.length}},{key:"Ed",get:function(){var t,n;return this.Sd||(this.Sd=((n=(t=this).il.map(function(t){return t.Ed})).item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},n)),this.Sd}}]),t}(),py=function(t){function n(n){var i;return(i=t.call(this,dw.qd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new by(this.Id.Ed)},n}(lw),by=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(_w),Ay=0;function Ty(){return Ay++}var Sy=0;var Ey=0;var Ry=0;function Iy(){return Ry++}var Ny=0;var Dy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=my.Jf,i.Ug=void 0,i.Bo=void 0,i.Fg=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Ty(),i.Bo=Ny+++"",i.Fg=n.label,i.Bg=new ky,i.Vg(),i}S(n,t);var i=n.prototype;return i.Wg=function(t){this.ll=t},i.Vg=function(){this.ll=this.Xg},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new pw(this)))}},{key:"Xg",get:function(){return this.Ug.enabled},set:function(t){this.Ug.enabled=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.Ug.kind}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){},set:function(t){}}]),n}(iu),Cy=0;var xy,Oy,Py,By=function(t){function n(n){var i;return(i=t.call(this)||this).nr=my.$f,i.Ug=void 0,i.Bo=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Fg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Ty(),i.Bo=Cy+++"",i.Bg=new ky,i.Fg=n.label,i.Vg(),i}S(n,t);var i=n.prototype;return i.Vg=function(){this.ll=this.Xg},i.Wg=function(t){this.ll=t},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new pw(this)))}},{key:"Xg",get:function(){return!!this.Ug.selected},set:function(t){this.Ug.selected=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return"main"}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){},set:function(t){}}]),n}(iu),Ly=function(t){function n(n){var i;return(i=t.call(this,Xc.ra)||this).bg=n,i}return S(n,t),n}(ru);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(xy||(xy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Oy||(Oy={})),function(t){t.Gg="cue",t.Qg="region",t.Yg="stylesheet"}(Py||(Py={}));var My,Uy={"line-left":"start",center:"middle","line-right":"end"},Fy={start:"line-left",middle:"center",end:"line-right"};function Hy(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function zy(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:w(i),m(r)?e:r;var i,e,r}!function(t){t.jg="Zg",t.Jg="$g",t.qd="Zo"}(My||(My={}));var Vy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Kg=i,e}return S(n,t),n}(lw),Wy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(_w);function Xy(t){var n,i=[My.jg,My.Jg,My.qd],e={get track(){return t.Id.Ed},get id(){return t._l},get uid(){return t.gl},get startTime(){return t.tw},get endTime(){return t.nw},get content(){return t.iw},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),e}function qy(){}function Gy(t){return Ew(Xy(t),{get align(){return t.ew},get line(){return t.rw},get lineAlign(){return t.sw},get position(){return t.uw},get positionAlign(){return t.ow},get region(){return t.hw?t.hw.Ed:null},get size(){return t.ls},get snapToLines(){return t.aw},get text(){return t.iw},get vertical(){return t.cw}})}var Qy=function(t){function n(n){return t.call(this,My.qd,n)||this}return S(n,t),n.prototype.Rd=function(){return new Yy(this.Kg.Ed)},n}(Vy),Yy=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Wy),jy=.02;function Zy(t,n){return Lt(t.tw,n.tw,jy)&&Lt(t.nw,n.nw,jy)&&t._l===n._l}var Jy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Hg=void 0,u.Bo=void 0,u.fw=void 0,u.vw=void 0,u.Sd=void 0,u.dw=void 0,u.lw=!1,u._w=void 0,u.gw=void 0,u.ww=-1,u.Hg=Iy(),u.fw=n,u.vw=i,u._w=e,u.gw=Boolean(r),u.Bo=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.Rd=function(){return Xy(this)},i.mw=function(t){return this===t||Nw(this,t)&&Zy(this,t)},i.hv=function(){this.Wr()},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){this.fw!==t&&(this.fw=t,this.Fr(new Qy(this)))}},{key:"nw",get:function(){return this.vw},set:function(t){this.vw!==t&&(this.vw=t,this.Fr(new Qy(this)))}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.lw=t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w!==t&&(this._w=t,this.Fr(new Qy(this)))}},{key:"kw",get:function(){return this.gw},set:function(t){this.gw=t}}]),n}(iu);function $y(t,n){return t.iw===n.iw&&t.rw===n.rw&&t.sw===n.sw&&t.uw===n.uw&&t.ow===n.ow&&t.hw===n.hw&&t.aw===n.aw&&t.ls===n.ls&&t.ew===n.ew&&t.cw===n.cw}var Ky=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rw="auto",u.sw="start",u.uw="auto",u.ow="auto",u.hw=void 0,u.aw=!0,u.ls=100,u.ew="center",u.cw="",u}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&$y(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Gy(this)),this.Sd}},{key:"nr",get:function(){return Py.Gg}}]),n}(Jy);function tk(t){var n=j(t.rw)?t.rw:w(t.rw);return m(n)||t.aw||!(n<0||n>100)?m(n)?t.aw?-1:100:n:100}function nk(t){return zy(t.uw,t.ew)}function ik(t){return Hy(t.ow,t.ew)}function ek(t){var n,i=ik(t),e=nk(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return _.min(t.ls,n)}function rk(t){return{get id(){return t._l},get identifier(){return t._l},get lines(){return t.pw},get regionAnchorX(){return t.bw},get regionAnchorY(){return t.Aw},get scrollValue(){return t.Tw},get viewportAnchorX(){return t.Sw},get viewportAnchorY(){return t.Ew},get width(){return t.Rw}}}var sk=function(){function t(t,n,i,e,r,s,u,o){this.Sd=void 0,this._l=t,this.Rw=n,this.pw=i,this.bw=e,this.Aw=r,this.Sw=s,this.Ew=u,this.Tw=o}return A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=rk(this)),this.Sd}},{key:"nr",get:function(){return Py.Qg}}]),t}(),uk=function(){function t(){}var n=t.prototype;return n.Iw=function(t){return this.Nw()*t},n.Dw=function(t){return this.Cw(t)>0},n.xw=function(t){return this.Cw(t)>=0},n.Ow=function(t,n){return this.Bw(t).Pw(n)},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Mw=function(){return this.Uw()?this.Fw():this},n.Hw=function(t){return this.Lg(t.Fw())},n.Bw=function(t){return this.Hw(t).Mw()},t}();function ok(t,n){return t.zw()?n.zw()?ys.gr:ys.wr:n.zw()?ys.mr:t.Vw()?n.Vw()&&t.Uw()===n.Uw()?ys.gr:t.Uw()?ys.mr:ys.wr:n.Uw()?ys.wr:ys.mr}var hk=function(){function t(t,n){this.Ww=void 0,this.Xw=void 0,this.Ww=t,this.Xw=n}t.qw=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Gw=function(n){return n.unsigned?new t(n,ct.UZERO):new t(n,n.isNegative()?ct.NEG_ONE:ct.ZERO)},t.Qw=function(n,i){if(m(n))return i?t.Yw:t.jw;if(i){if(n<0)return t.Yw;if(n>=3.402823669209385e38)return t.Zw}else{if(n<=-1.7014118346046923e38)return t.Jw;if(n+1>=1.7014118346046923e38)return t.$w}return n<0?t.Qw(-n,i).Fw():t.qw(ct.fromNumber(n%0x10000000000000000),ct.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Kw=function(){return this.Xw.unsigned},n.tm=function(){return this.Ww.isZero()&&this.Xw.isZero()},n.Uw=function(){return this.Xw.isNegative()},n.nm=function(){return this.Kw()?t.qw(this.Ww,this.Xw,!1):this},n.im=function(){return this.Kw()?this:t.qw(this.Ww,this.Xw,!0)},n.rm=function(){return this.Ww},n.Nw=function(){return this.Uw()?-this.Fw().Nw():0x10000000000000000*this.Xw.toNumber()+this.Ww.toUnsigned().toNumber()},n.sm=function(){return this.Ww.toInt()},n.mw=function(t){return(this.Kw()===t.Kw()||this.Xw.getHighBits()>>>31!=1||t.Xw.getHighBits()>>>31!=1)&&(this.Xw.toUnsigned().eq(t.Xw.toUnsigned())&&this.Ww.toUnsigned().eq(t.Ww.toUnsigned()))},n.Cw=function(t){if(this.mw(t))return ys.gr;var n=this.Uw(),i=t.Uw();if(n&&!i)return ys.mr;if(!n&&i)return ys.wr;if(!this.Kw())return this.Hw(t).Uw()?ys.mr:ys.wr;var e=this.im(),r=t.im(),s=r.Xw.comp(e.Xw);return s>0||0===s&&r.Ww.gt(e.Ww)?ys.mr:ys.wr},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.um=function(t){return this.Cw(t)>0},n.om=function(t){return this.Cw(t)>=0},n.hm=function(){return new t(this.Ww.not(),this.Xw.not())},n.am=function(n){return new t(this.Ww.and(n.Ww),this.Xw.and(n.Xw))},n.cm=function(n){return new t(this.Ww.or(n.Ww),this.Xw.or(n.Xw))},n.fm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shl(i),this.Xw.shl(i).or(this.Ww.shru(64-i)),this.Kw()):t.qw(ct.ZERO,this.Ww.shl(i-64),this.Kw())},n.vm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shr(i),this.Kw()):t.qw(this.Xw.shr(i-64),this.Xw.isNegative()?ct.NEG_ONE:ct.ZERO,this.Kw())},n.dm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shru(i),this.Kw()):64===i?t.qw(this.Xw,ct.ZERO,this.Kw()):t.qw(this.Xw.shru(i-64),ct.ZERO,this.Kw())},n.Lg=function(n){var i=this.Xw.high>>>16,e=65535&this.Xw.high,r=this.Xw.low>>>16,s=65535&this.Xw.low,u=this.Ww.high>>>16,o=65535&this.Ww.high,h=this.Ww.low>>>16,a=65535&this.Ww.low,c=n.Xw.high>>>16,f=65535&n.Xw.high,v=n.Xw.low>>>16,d=65535&n.Xw.low,l=n.Ww.high>>>16,_=65535&n.Ww.high,g=n.Ww.low>>>16,w=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=a+(65535&n.Ww.low))>>>16,T&=65535,b+=(A+=h+g)>>>16,A&=65535,p+=(b+=o+_)>>>16,b&=65535,k+=(p+=u+l)>>>16,p&=65535,y+=(k+=s+d)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,w+=(m+=e+f)>>>16,m&=65535,w+=i+c,w&=65535;var S=this.Kw(),E=ct.fromBits(y<<16|k,w<<16|m,S),R=ct.fromBits(A<<16|T,p<<16|b,S);return t.qw(R,E,S)},n.Hw=function(t){return this.Lg(t.Fw())},n.Fw=function(){return this.hm().Lg(t.lm)},n._m=function(n){if(this.tm()||n.tm())return this.Kw()?t.Yw:t.jw;if(this.Uw())return n.Uw()?this.Fw()._m(n.Fw()):this.Fw()._m(n).Fw();if(n.Uw())return this._m(n.Fw()).Fw();if(this.Xw.isZero()&&0===this.Ww.high&&n.Xw.isZero()&&0===n.Ww.high)return t.Gw(this.Ww.multiply(n.Ww));var i=ct.fromBits(4294967295,0,!0),e=this.Ww.and(i),r=this.Ww.shru(32),s=this.Xw.and(i),u=this.Xw.shru(32),o=n.Ww.and(i),h=n.Ww.shru(32),a=n.Xw.and(i),c=n.Xw.shru(32),f=ct.UZERO,v=ct.UZERO,d=ct.UZERO,l=ct.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=ct.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=ct.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.qw(_,g,this.Kw())},n.gm=function(n){var i,e,r=n;if(r.tm())throw new RangeError("division by zero");if(this.tm())return this.Kw()?[t.Yw,t.Yw]:[t.jw,t.jw];if(this.Kw()){if(r.Kw()||(r=r.im()),r.um(this))return[t.Yw,this];if(r.um(this.dm(1)))return[e=t.wm,i=this.Hw(r)];e=t.Yw}else{if(this.mw(t.Jw)){if(r.mw(t.lm)||r.mw(t.mm))return[t.Jw,t.jw];if(r.mw(t.Jw))return[t.lm,t.jw];var s=this.vm(1).ym(r).fm(1);return s.mw(t.jw)?e=r.Uw()?t.lm:t.mm:(i=this.Hw(r._m(s)),e=s.Lg(i.ym(r))),[e,i=this.Hw(r._m(e))]}if(r.mw(t.Jw))return this.Kw()?[t.Yw,this]:[t.jw,this];if(this.Uw()){if(r.Uw())return this.Fw().gm(r.Fw());var u=this.Fw().gm(r);return e=u[0],i=u[1],[e.Fw(),i.Fw()]}if(r.Uw()){var o=this.gm(r.Fw());return e=o[0],i=o[1],[e.Fw(),i.Fw()]}e=t.jw}for(i=this;i.om(r);){for(var h=_.max(1,_.floor(i.Nw()/r.Nw())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Qw(h),v=f._m(r);v.Uw()||v.um(i);)h-=c,v=(f=t.Qw(h,this.Kw()))._m(r);f.tm()&&(f=t.lm),e=e.Lg(f),i=i.Hw(v)}return[e,i]},n.ym=function(t){return this.gm(t)[0]},n.km=function(t){return this.gm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.tm())return"0";if(this.Uw()){if(this.mw(t.Jw)){var e=t.Qw(i),r=this.ym(e),s=r._m(e).Hw(this);return r.toString(i)+s.sm().toString(i)}return"-"+this.Fw().toString(i)}for(var u=t.Qw(_.pow(i,6),this.Kw()),o=this,h="";;){var a=o.ym(u),c=(o.Hw(a._m(u)).sm()>>>0).toString(i);if((o=a).tm())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();hk.jw=hk.Gw(ct.ZERO),hk.Yw=hk.Gw(ct.UZERO),hk.lm=hk.Gw(ct.ONE),hk.wm=hk.Gw(ct.UONE),hk.mm=hk.Gw(ct.NEG_ONE),hk.$w=hk.qw(ct.NEG_ONE,ct.MAX_VALUE,!1),hk.Zw=hk.qw(ct.MAX_UNSIGNED_VALUE,ct.MAX_UNSIGNED_VALUE,!0),hk.Jw=hk.qw(ct.ZERO,ct.MIN_VALUE,!1);var ak=function(){function t(t,n){void 0===n&&(n=1),this.pm=void 0,this.bm=void 0,this.pm=t,this.bm=n}t.Am=function(n){return new t(_.ceil(n.pm),n.bm)},t.Tm=function(n){return new t(_.floor(n.pm),n.bm)},t.Sm=function(t,n){return t.xw(n)?t:n},t.Em=function(t,n){return t.Pw(n)?t:n};var n=t.prototype;return n.Lg=function(n){return this.bm>=n.bm?new t(this.pm+n.Rm(this.bm).pm,this.bm):new t(this.Rm(n.bm).pm+n.pm,n.bm)},n.Dw=function(t){return t.Lw(this)},n.xw=function(t){return t.Pw(this)},n.Bw=function(n){return this.bm>=n.bm?new t(_.abs(this.pm-n.Rm(this.bm).pm),this.bm):n.Bw(this)},n.Ow=function(t,n){return this.Bw(t).Pw(n)},n.Cw=function(t){return i=t,(n=this).bm>=i.bm?Is(n.pm,i.Rm(n.bm).pm):Is(n.Rm(i.bm).pm,i.pm);var n,i},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Rm=function(n){return new t(this.pm*(n/this.bm),n)},n.Hw=function(n){return this.bm>=n.bm?new t(this.pm-n.Rm(this.bm).pm,this.bm):new t(this.Rm(n.bm).pm-n.pm,n.bm)},n.Im=function(n){return new t(this.pm*n,this.bm)},A(t,[{key:"Vw",get:function(){return!isFinite(this.pm)}},{key:"Nm",get:function(){return this.pm/this.bm}}]),t}();ak.Dm=new ak(1/6,1),ak.jw=new ak(0),ak.Cm=new ak(1/0),ak.xm=1e6;var ck=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=n.toSigned(),e.bm=i>>>0,e}S(n,t),n.Om=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.Pm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(ct.fromNumber(t),i)},n.Gw=function(t,i){return new n(t,i)},n.Mm=function(t){return n.Om(t.Nm,1e6)},n.Um=function(t){return new n(ct.fromNumber(t.getTime()),1e3)},n.Sm=function(t,n){return t.xw(n)?t:n},n.Em=function(t,n){return t.Pw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn.isNegative()},i.tm=function(){return 0!==this.bm&&this.qn.isZero()},i.Vw=function(){return 0===this.bm&&!this.qn.isZero()},i.zw=function(){return 0===this.bm&&this.qn.isZero()},i.Nw=function(){if(0===this.bm)return this.qn.isZero()?NaN:this.qn.isNegative()?-1/0:1/0;var t=this.qn.divide(this.bm),n=this.qn.subtract(t.multiply(this.bm));return t.toNumber()+n.toNumber()/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.qn},i.Hm=function(){return new Date(0===this.bm?NaN:this.Rm(1e3).qn.toNumber())},i.zm=function(){return new ak(0===this.bm?this.Nw():this.qn.toNumber(),this.bm)},i.Rm=function(t,i){void 0===i&&(i=dk.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t.gm(n),r=e[0],s=e[1];if(s.tm())return r;if(i===dk.Vm)return s.Uw()?r.Hw(hk.lm):r;if(i===dk.Wm)return s.Uw()?r:r.Lg(hk.lm);var u=s._m(hk.Qw(2));return u.Uw()?u.Fw().Lw(n)?r:r.Hw(hk.lm):u.Lw(n)?r:r.Lg(hk.lm)}(hk.Gw(this.qn)._m(hk.Qw(t/r)),hk.Qw(e/r),i).rm(),t)},i.Cw=function(t){if(this===t)return ys.gr;if(0===this.bm||0===t.bm)return ok(this,t);if(this.tm())return t.tm()?ys.gr:t.Uw()?ys.wr:ys.mr;if(t.tm())return this.Uw()?ys.mr:ys.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,dk.Xm).qn,e=t.Rm(n,dk.Xm).qn;return i.compare(e)},i.Fw=function(){return 0===this.bm?fk(this):new n(this.qn.negate(),this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return vk(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,dk.Xm),r=t.Rm(i,dk.Xm);return new n(e.qn.add(r.qn),i)},i._m=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.Pm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?ct.ZERO:this.qn.multiply(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.Pm;if(!isFinite(t))return new n(ct.ZERO,this.bm);if(this.tm())return 0===t?n.Pm:new n(ct.ZERO,this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn.divide(t),this.bm)},i.qm=function(){return[this.qn.low,this.qn.high,this.bm]},n}(uk);function fk(t){return t.zw()?t:t.Uw()?ck.Bm:ck.Lm}function vk(t,n){return t.zw()||n.zw()?ck.Pm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:ck.Pm:t.Vw()?t:n}ck.jw=new ck(ct.ZERO,1e6),ck.Pm=new ck(ct.ZERO,0),ck.Bm=new ck(ct.ONE,0),ck.Lm=new ck(ct.NEG_ONE,0);var dk,lk=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=BigInt.asIntN(64,n),e.bm=i>>>0,e}S(n,t),n.Om=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.Pm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(BigInt(_.floor(t)),i)},n.Gw=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Mm=function(t){return n.Om(t.Nm,1e6)},n.Um=function(t){return n.Qw(t.getTime(),1e3)},n.Sm=function(t,n){return t.xw(n)?t:n},n.Em=function(t,n){return t.Pw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn<BigInt(0)},i.tm=function(){return 0!==this.bm&&this.qn===BigInt(0)},i.Vw=function(){return 0===this.bm&&this.qn!==BigInt(0)},i.zw=function(){return 0===this.bm&&this.qn===BigInt(0)},i.Nw=function(){if(0===this.bm)return this.qn===BigInt(0)?NaN:this.qn<BigInt(0)?-1/0:1/0;var t=this.qn/BigInt(this.bm),n=this.qn-t*BigInt(this.bm);return Number(t)+Number(n)/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.Gm()},i.Gm=function(){var t=this.qn&BigInt(4294967295),n=this.qn>>BigInt(32)&BigInt(4294967295);return ct.fromBits(Number(t),Number(n))},i.Hm=function(){return new Date(0===this.bm?NaN:Number(this.Rm(1e3).qn))},i.zm=function(){return new ak(0===this.bm?this.Nw():Number(this.qn),this.bm)},i.Rm=function(t,i){void 0===i&&(i=dk.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===dk.Vm)return r<BigInt(0)?e-BigInt(1):e;if(i===dk.Wm)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.qn*BigInt(t/r),BigInt(e/r),i),t)},i.Cw=function(t){if(this===t)return ys.gr;if(0===this.bm||0===t.bm)return ok(this,t);if(this.tm())return t.tm()?ys.gr:t.Uw()?ys.wr:ys.mr;if(t.tm())return this.Uw()?ys.mr:ys.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,dk.Xm).qn,e=t.Rm(n,dk.Xm).qn;return i>e?ys.wr:i<e?ys.mr:ys.gr},i.Fw=function(){return 0===this.bm?_k(this):new n(-this.qn,this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return gk(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,dk.Xm),r=t.Rm(i,dk.Xm);return new n(e.qn+r.qn,i)},i._m=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.Pm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?BigInt(0):this.qn*BigInt(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.Pm;if(!isFinite(t))return new n(BigInt(0),this.bm);if(this.tm())return 0===t?n.Pm:new n(BigInt(0),this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn/BigInt(t),this.bm)},i.qm=function(){var t=this.Gm();return[t.low,t.high,this.bm]},A(n,null,[{key:"jw",get:function(){return n.Qm||(n.Qm=new n(BigInt(0),1e6)),n.Qm}},{key:"Pm",get:function(){return n.Ym||(n.Ym=new n(BigInt(0),0)),n.Ym}},{key:"Bm",get:function(){return n.jm||(n.jm=new n(BigInt(1),0)),n.jm}},{key:"Lm",get:function(){return n.Zm||(n.Zm=new n(BigInt(-1),0)),n.Zm}}]),n}(uk);function _k(t){return t.zw()?t:t.Uw()?lk.Bm:lk.Lm}function gk(t,n){return t.zw()||n.zw()?lk.Pm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:lk.Pm:t.Vw()?t:n}lk.Qm=void 0,lk.Ym=void 0,lk.jm=void 0,lk.Zm=void 0,function(t){t[t.Vm=0]="Vm",t[t.Wm=1]="Wm",t[t.Xm=2]="Xm"}(dk||(dk={}));var wk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?lk:ck;function mk(t,n){return t.Cw(n)}function yk(t){return wk.Gw(ct.fromBits(t[0],t[1],!1),t[2])}var kk=9e4,pk=_.pow(2,33),bk=wk.Qw(pk,kk),Ak=bk.ym(2);function Tk(t){return null!=t&&!t.zw()}function Sk(t,n){return t.Vw()||n.Vw()?wk.Sm(t,n):Ik(t,n).Dw(wk.jw)?t:n}function Ek(t,n){var i=t.Hw(n);return i.Lw(wk.jw)&&(i=i.Lg(bk)),i}function Rk(t,n){var i=t.Lg(n);return i.xw(bk)&&(i=i.Hw(bk)),i}function Ik(t,n){var i=t.Hw(n);return t.Vw()||n.Vw()?i:(i.xw(Ak)?i=i.Hw(bk):i.Lw(Ak.Fw())&&(i=i.Lg(bk)),i)}function Nk(t,n){if(t||n)return t?n?wk.Em(t,n):t:n}function Dk(t,n){if(t||n)return t?n?wk.Sm(t,n):t:n}var Ck,xk,Ok,Pk,Bk={Jm:0,$m:1/0,Km:0},Lk=6,Mk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Uk=[" ","\t","\n","\f","\r"],Fk=/^\d*$/,Hk=/.*[0-9]+.*/,zk=/^[\d.-]+$/,Vk=/(^\.|\.$)/,Wk=/(\D\.|\.\D)/;function Xk(t,n){void 0===n&&(n=Bk);var i={Cl:[],ty:[],ny:[]},e=qk(t),r=new So;if(np(e),Gk(e,function(t){return"\n"!==t},r),r.ps>=e.length)return i;(r.gs(1),"\n"!==e.charAt(r.ps))?Zk(Qk(e,r,!1,!0,i,n),i):r.gs(1);for(Gk(e,function(t){return"\n"===t},r);r.ps<e.length;){Zk(Qk(e,r,!1,!1,i,n),i),Gk(e,function(t){return"\n"===t},r)}return i}function qk(t){var n=ss(t,"\0"," "),i=ss(n,"\r\n","\n");return ss(i,"\r","\n")}function Gk(t,n,i){for(var e=i.ps;i.ps<t.length&&n(t.charAt(i.ps));)i.gs(1);return t.substring(e,i.ps)}function Qk(t,n,e,r,s,u){for(var o,h=0,a=n.ps,c="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=Gk(t,function(t){return"\n"!==t},n),h++,n.ps>=t.length?f=!0:n.gs(1),us(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.ys(a);break}v=!0,a=n.ps,d=new Ky(0,0,"",!1,c);try{Jk(o,s.ty,d,u),c=""}catch(t){i.me(t),d=null}}else{if(""===o)break;r&&os(o,"X-TIMESTAMP-MAP")&&(s.iy=Yk(o)),r||2!==h||e||(as("STYLE",c.replace(/ /g,""))?(l={nr:Py.Yg},c=""):as("REGION",c.replace(/ /g,""))&&(_=new sk("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.ps}if(d)return d.iw=c,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&us(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":vp(o,n);break;case"WIDTH":_p(o,n);break;case"LINES":lp(o,n);break;case"REGIONANCHOR":var h=fp(o);h&&(n.bw=h[0],n.Aw=h[1]);break;case"VIEWPORTANCHOR":var a=fp(o);a&&(n.Sw=a[0],n.Ew=a[1]);break;case"SCROLL":dp(o,n)}}}}(c,_),_;return null}function Yk(t){var n,i,e=t.split("=")[1].trim().split(","),r=jk(e[0].trim(),"MPEGTS")?e[0]:e[1],s=jk(e[0].trim(),"LOCAL")?e[0]:e[1];return{ey:(i=Number(r.split(/:(.*)/)[1].trim())||0,wk.Qw(i,kk)),sy:wk.Om(null!=(n=tp(s.split(/:(.*)/)[1].trim(),new So))?n:0)}}function jk(t,n){return os(t,n)}function Zk(t,n){t&&function(t){return t.nr===Py.Gg}(t)?n.Cl.push(t):t&&function(t){return t.nr===Py.Qg}(t)?n.ty.push(t):t&&function(t){return t.nr===Py.Yg}(t)&&n.ny.push(t)}function Jk(t,n,i,e){var r=new So;if(ip(t,r),i.tw=$k(tp(t,r),e),ip(t,r),"--\x3e"!==t.substring(r.ps,r.ps+3))throw v("Something went wrong with parsing a WebVTT Cue");r.gs(3),ip(t,r),i.nw=$k(tp(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&us(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":op(h,n,i);break;case"VERTICAL":ap(h,n);break;case"D":cp(h,n);break;case"LINE":case"L":sp(h,n);break;case"POSITION":case"T":up(h,n);break;case"SIZE":case"S":hp(h,n);break;case"ALIGN":case"A":rp(h,n)}}}}(t.substring(r.ps,t.length),i,n)}function $k(t,n){return t+n.Jm}function Kk(t){return/^[0-9]$/.test(t)}function tp(t,n){var i,e,r,s=ss(t,",","."),u=!1;if(n.ps>=s.length||!Kk(s.charAt(n.ps)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Gk(s,Kk,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var a=Gk(s,Kk,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.ps<s.length&&":"===s.charAt(n.ps)){if(n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var f=Gk(s,Kk,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=g(f,10)}else i=0,e=h,r=c;if(n.ps>=s.length||"."!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var d=Gk(s,Kk,n),l=g(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function np(t){if(t.length<Lk)return!1;for(var n=0;n<Mk.length;n++){if(os(t,Mk[n]))return!0}return!1}function ip(t,n){for(;n.ps<t.length&&(i=t.charAt(n.ps),Os(Uk,i));)n.gs(1);var i}function ep(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function rp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ew=i;break;case"middle":n.ew="center"}}function sp(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),Hk.test(i)){var s,u;if(hs(i,"%")){var o=ep(i);if(null===o)return;s=o,u=!1}else{if(!zk.test(i)||i.lastIndexOf("-")>0)return;var h=i.indexOf(".");if(h>=0&&(h!==i.lastIndexOf(".")||!Wk.test(i)||Vk.test(i)))return;if(s=w(i),m(s))return;u=!0}switch(n.rw=s,n.aw=u,e=e.toLowerCase()){case"start":case"center":case"end":n.sw=e;break;case"middle":n.sw="center"}}}function up(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=ep(i);if(null!==s)switch(n.uw=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ow=e;break;case"start":n.ow="line-left";break;case"middle":n.ow="center";break;case"end":n.ow="line-right"}}function op(t,n,i){var e,r,s,u=-1===(s=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n._l===t},r))?void 0:e[s];void 0!==u&&(n.hw=u)}function hp(t,n){var i=ep(t);null!==i&&(n.ls=i)}function ap(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.cw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.cw="lr";break;default:n.cw=""}}function cp(t,n){"VERTICAL"===t.toUpperCase()?n.cw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.cw="lr")}function fp(t){if(t.indexOf(",")>=0){var n=ep(t.substring(0,t.indexOf(","))),i=ep(t.substring(t.indexOf(",")+1,t.length));return[Bt(n||0,0,100),Bt(i||100,0,100)]}return null}function vp(t,n){n._l=t}function dp(t,n){"up"===t.toLowerCase()&&(n.Tw="up")}function lp(t,n){Fk.test(t)&&(n.pw=g(t))}function _p(t,n){var i=ep(t);null!==i&&(n.Rw=i)}!function(t){t.uy="moov",t.oy="mvhd",t.hy="trak",t.ay="tkhd",t.vy="mdia",t.ly="mdhd",t._y="hdlr",t.gy="minf",t.wy="stbl",t.my="stsd",t.yy="stsc",t.ky="mvex",t.py="trex",t.by="avc1",t.Ay="avcC",t.Ty="hev1",t.Sy="hvc1",t.Ey="hvcC",t.Ry="pasp",t.Iy="mp4a",t.Ny="esds",t.Dy="wvtt",t.Cy="vttC",t.xy="vlab",t.Oy="enca",t.Py="encv",t.By="moof",t.Ly="mfhd",t.My="traf",t.Uy="tfhd",t.Fy="trun",t.Hy="tfdt",t.zy="senc",t.Vy="mdat",t.Wy="pssh",t.Xy="emsg",t.qy="sidx",t.Gy="styp",t.Qy="ftyp",t.Yy="sinf",t.jy="frma"}(Ck||(Ck={})),function(t){t.$f="vide",t.Jf="soun",t.Zy="subt",t.Jy="hint",t.$y="meta",t.Ky="auxv"}(xk||(xk={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ok||(Ok={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Pk||(Pk={}));var gp=function(){function t(t,n){this.ai=void 0,this.tk=void 0,this.ai=t,this.tk=n}var n=t.prototype;return n.nk=function(){return zu(this.ai,this.tk)},n.ik=function(){return Qu(this.ai,this.tk)},n.ek=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.ps,i);return n.gs(2),e}(this.ai,this.tk)},n.rk=function(){return ju(this.ai,this.tk)},n.sk=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.ps,i);return n.gs(4),e}(this.ai,this.tk)},n.uk=function(){return Ju(this.ai,this.tk)},n.hk=function(t){return Wu(this.ai,this.tk,t)},n.ak=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ju(t,n));return e}(this.ai,this.tk,t)},n.ck=function(t){return to(this.ai,this.tk,t)},n.fk=function(){return lo(this.ai,this.tk)},n.vk=function(t){this.tk.gs(t)},n.ks=function(){return new t(this.ai,this.tk.ks())},t}();function wp(t,n){return t.nr===n}function mp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(wp(e,n))return e}}function yp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];wp(r,n)&&i.push(r)}return i}var kp=function(t){function n(n,i){var e;return(e=t.call(this)||this).dk=n,e.lk=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Zt),pp=function(){function t(){}return t._k=function(n){var i=n.ai,e=n.tk,r=t.gk(i,e,!1);if(!r.wk)throw new kp(e.ps,r.ti);return r.ti},t.gk=function(n,i,e){for(var r=[];i.ps<n.byteLength;){var s=t.mk(n,i,e);if(!s.wk)return{wk:!1,ti:r};r.push(s.yk)}return{wk:!0,ti:r}},t.kk=function(n,i){var e=t.mk(n,i,!1);if(!e.wk)throw new kp(i.ps);return e.yk},t.pk=function(n,i){for(var e=n.ai,r=n.tk;r.ps<e.byteLength;){var s=t.mk(e,r,!1);if(!s.wk)return;if(s.yk.nr===i)return s.yk}},t.mk=function(n,i,e){var r=i.ps,s=t.bk(n,i);if(!s.wk)return s;var u=s.Ak,o=u.ls;if(0===o){if(e)return i.ys(r),{wk:!1,Tk:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.ys(r),{wk:!1,Tk:a}}var c={nr:u.nr,ps:r,ai:new gp(mo(n,r,h),new So(u.Sk))};return i.ys(h),{wk:!0,yk:c}},t.bk=function(t,n){var i=n.ps;if(!qu(t,n,8))return{wk:!1,Tk:n.ps+8};var e=ju(t,n),r=to(t,n,4);if(1===e){if(!qu(t,n,8)){var s=n.ps+8;return n.ys(i),{wk:!1,Tk:s}}e=Ju(t,n).toNumber()}if("uuid"===r){if(!qu(t,n,16)){var u=n.ps+16;return n.ys(i),{wk:!1,Tk:u}}r=to(t,n,16)}return{wk:!0,Ak:{nr:r,ls:e,Sk:n.ps-i}}},t.Ek=function(t,n,i){var e=t.ai,r=t.tk,s=wo(ko(e),r.ps,e.byteLength);return i&&(s=To(s)),r.gs(s.byteLength),{nr:n,ai:s}},t.Rk=function(n,i,e){var r=Sp(n.rk());return{nr:i,Ik:r.version,Nk:r.flags,ai:t.Ek(n,i,e).ai}},t}();function bp(t,n){var i=Ap(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Ap(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.nr===n)return e.ai}}function Tp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.nr===n&&i.push(r.ai)}return i}function Sp(t){return{version:t>>24,flags:new Uu(16777215&t)}}var Ep=function(){function t(){}return t.Dk=function(n){for(var i=[],e=pp._k(new gp(n,new So)),r=0;r<e.length;r++){var s=e[r],u=t.Ck(s);u&&i.push(u)}return i},t.xk=function(t){return pp.gk(t,new So,!1).ti.some(this.Ok)},t.Pk=function(n){return Tp(pp._k(new gp(n,new So)),Ck.Wy).map(t.Bk)},t.Lk=function(n){return Tp(pp._k(n.ai),Ck.Wy).map(t.Bk)},t.Ok=function(t){return t.nr===Ck.Qy||t.nr===Ck.Gy||t.nr===Ck.uy||t.nr===Ck.By||t.nr===Ck.Vy||t.nr===Ck.qy||t.nr===Ck.Xy},t.Ck=function(n){switch(n.nr){case Ck.uy:return t.Mk(n.ai);case Ck.By:return t.Uk(n.ai,n.ps);case Ck.Vy:return t.Fk(n.ai);case Ck.qy:return t.Hk(n.ai);case Ck.Xy:return t.zk(n.ai)}},t.Mk=function(n){var i=pp._k(n),e=bp(i,Ck.oy),r=Tp(i,Ck.hy),s=Ap(i,Ck.ky),u=t.Vk(e),o=r.map(t.Wk),h=s?t.Xk(s):void 0;return{nr:Ck.uy,Ak:u,qk:o,Gk:h}},t.Vk=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk(),o=1===i?t.uk():t.rk(),h=t.rk(),a=t.ik()>>8;t.vk(2),t.vk(8);var c=t.ak(9);t.vk(24);var f=t.rk();return{nr:Ck.oy,Ik:i,Nk:e,Qk:r,Yk:s,bm:u,d_:o,jk:h,b_:a,Zk:c,Jk:f}},t.Wk=function(n){var i=pp._k(n),e=bp(i,Ck.ay),r=bp(i,Ck.vy),s=t.$k(e),u=t.Kk(r);return{nr:Ck.hy,Ak:s,tp:u}},t.$k=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk();t.vk(4);var o=1===i?t.uk():t.rk();t.vk(8);var h=t.ek(),a=t.ek(),c=t.ek()/_.pow(2,8);t.vk(2);var f=t.ak(9),v=t.rk()/_.pow(2,16),d=t.rk()/_.pow(2,16);return{nr:Ck.ay,np:e.As(1),ip:e.As(2),ep:e.As(4),Qk:r,Yk:s,rp:u,d_:o,sp:h,op:a,b_:c,Zk:f,Rw:v,hp:d}},t.Kk=function(n){var i=pp._k(n),e=bp(i,Ck.ly),r=bp(i,Ck._y),s=bp(i,Ck.gy),u=t.ap(e),o=t.cp(r),h=t.fp(s);return{nr:Ck.vy,Ak:u,vp:o,dp:h}},t.ap=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk(),o=1===i?t.uk():t.rk();return t.ik(),t.vk(2),{nr:Ck.ly,Ik:i,Nk:e,Qk:r,Yk:s,bm:u,d_:o}},t.cp=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags;t.vk(4);var r=t.ck(4);t.vk(12);var s=t.fk();return{nr:Ck._y,Ik:i,Nk:e,lp:r,Vn:s}},t.fp=function(n){var i=bp(pp._k(n),Ck.wy),e=t._p(i);return{nr:Ck.gy,gp:e}},t._p=function(n){var i=bp(pp._k(n),Ck.my),e=t.wp(i);return{nr:Ck.wy,mp:e}},t.wp=function(n){var i=Sp(n.rk()),e=i.version,r=i.flags;n.rk();for(var s=[],u=pp._k(n),o=0;o<u.length;o++){var h=u[o],a=t.yp(h.ai,h.nr);a&&s.push(a)}return{nr:Ck.my,Ik:e,Nk:r,kp:s}},t.yp=function(n,i){var e=t.pp(n,i);return e||((e=t.bp(n,i))||(i===Ck.Dy?t.Ap(n):void 0))},t.pp=function(n,i){return i===Ck.Iy?t.Tp(n):i===Ck.Oy?t.Sp(n):void 0},t.bp=function(n,i){return i===Ck.by?t.Ep(n):i===Ck.Ty||i===Ck.Sy?t.Rp(n,i):i===Ck.Py?t.Ip(n):void 0},t.Np=function(t,n){return t.vk(6),{nr:n,Dp:t.ik()}},t.Cp=function(n,i){var e=t.Np(n,i);n.vk(8);var r=n.ik(),s=n.ik();return n.vk(2),n.vk(2),Rr({},e,{xp:r,Op:s,Pp:n.rk()>>>16})},t.Bp=function(n,i){var e=t.Np(n,i);n.vk(2),n.vk(2),n.vk(12);var r=n.ik(),s=n.ik(),u=n.rk(),o=n.rk();n.vk(4);var h=n.ik();n.vk(32);var a=n.ik();return n.vk(2),Rr({},e,{Rw:r,hp:s,Lp:u,Mp:o,Up:h,Fp:a})},t.Tp=function(n){var i=t.Cp(n,Ck.Iy),e=bp(pp._k(n),Ck.Ny);return Rr({},i,{Hp:t.zp(e)})},t.Ap=function(n){var i=t.Np(n,Ck.Dy),e=pp._k(n),r=bp(e,Ck.Cy),s=t.Vp(r),u=Ap(e,Ck.xy);return Rr({},i,{Wp:s,Xp:u?t.qp(u):u})},t.Vp=function(t){return{nr:Ck.Cy,rh:t.fk()}},t.qp=function(t){return{nr:Ck.xy,ml:t.fk()}},t.zp=function(t){return pp.Rk(t,Ck.Ny,!0)},t.Ep=function(n){var i=t.Bp(n,Ck.by),e=pp._k(n),r=bp(e,Ck.Ay),s=Ap(e,Ck.Ry);return Rr({},i,{Gp:t.Qp(r),Yp:s?t.jp(s):void 0})},t.Rp=function(n,i){var e=t.Bp(n,i),r=bp(pp._k(n),Ck.Ey);return Rr({},e,{Zp:t.Jp(r)})},t.Ip=function(n){var i=n.ks(),e=t.Bp(n,Ck.Py),r=bp(pp._k(n),Ck.Yy),s=t.$p(r);return Rr({},e,{Kp:t.bp(i,s.ib.nb),eb:s})},t.Sp=function(n){var i=n.ks(),e=t.Cp(n,Ck.Oy),r=bp(pp._k(n),Ck.Yy),s=t.$p(r);return Rr({},e,{Kp:t.pp(i,s.ib.nb),eb:s})},t.$p=function(n){var i=bp(pp._k(n),Ck.jy),e=t.sb(i);return{nr:Ck.Yy,ib:e}},t.sb=function(t){var n=t.ck(4);return{nr:Ck.jy,nb:n}},t.Qp=function(t){return pp.Ek(t,Ck.Ay,!0)},t.Jp=function(t){return pp.Ek(t,Ck.Ey,!0)},t.jp=function(t){var n=t.rk(),i=t.rk();return{nr:Ck.Ry,ub:n,ob:i}},t.Xk=function(n){var i=Tp(pp._k(n),Ck.py).map(t.hb);return{nr:Ck.ky,qk:i}},t.hb=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=t.rk(),s=t.rk(),u=t.rk(),o=t.rk(),h=t.rk();return{nr:Ck.py,Ik:i,Nk:e,rp:r,ab:s,cb:u,fb:o,vb:h}},t.Uk=function(n,i){var e=pp._k(n),r=bp(e,Ck.Ly),s=Tp(e,Ck.My),u=t.lb(r),o=s.map(t._b);return{nr:Ck.By,gb:i,Ak:u,qk:o}},t.lb=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=t.rk();return{nr:Ck.Ly,Ik:i,Nk:e,wb:r}},t._b=function(n){var i=pp._k(n),e=bp(i,Ck.Uy),r=Tp(i,Ck.Fy),s=Ap(i,Ck.Hy),u=t.mb(e),o=r.map(function(n){return t.yb(n,u)}),h=s?t.kb(s):void 0;return{nr:Ck.My,Ak:u,pb:o,bb:h}},t.mb=function(t){var n=Sp(t.rk()),i=n.version,e=n.flags,r=t.rk(),s=e.As(Ok.BASE_DATA_OFFSET_PRESENT)?t.uk():void 0,u=e.As(Ok.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.rk():void 0,o=e.As(Ok.DEFAULT_SAMPLE_DURATION_PRESENT)?t.rk():void 0,h=e.As(Ok.DEFAULT_SAMPLE_SIZE_PRESENT)?t.rk():void 0,a=e.As(Ok.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.rk():void 0;return{nr:Ck.Uy,Ik:i,Nk:e,rp:r,Ab:s,Tb:u,cb:o,fb:h,vb:a}},t.yb=function(n,i){for(var e=Sp(n.rk()),r=e.version,s=e.flags,u=n.rk(),o=s.As(Pk.DATA_OFFSET_PRESENT)?n.sk():void 0,h=s.As(Pk.FIRST_SAMPLE_FLAGS_PRESENT)?n.rk():void 0,a=[],c=0;c<u;c++){var f=t.Sb(n,s,r,i);0===c&&void 0!==h&&(f.Nk=h),a.push(f)}return{nr:Ck.Fy,Ik:r,Nk:s,Eb:u,gb:o,Rb:h,Ib:a}},t.Sb=function(t,n,i,e){return{d_:n.As(Pk.SAMPLE_DURATION_PRESENT)?t.rk():e.cb,ls:n.As(Pk.SAMPLE_SIZE_PRESENT)?t.rk():e.fb,Nk:n.As(Pk.SAMPLE_FLAGS_PRESENT)?t.rk():e.vb,Nb:n.As(Pk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.rk():t.sk():void 0}},t.zk=function(t){var n=t.ai,i=t.tk,e=Sp(ju(n,i)),r=e.version,s=e.flags;if(1===r){var u=ju(n,i),o=Ju(n,i),h=ju(n,i),a=ju(n,i),c=Ku(n,i),f=Ku(n,i),v=Ao(ko(n),i.ps,n.byteLength);return i.gs(v.byteLength),{nr:Ck.Xy,Ik:r,Nk:s,Db:c,qn:f,bm:u,Cb:o,xb:h,_l:a,Ob:v}}var d=Ku(n,i),l=Ku(n,i),_=ju(n,i),g=ju(n,i),w=ju(n,i),m=ju(n,i),y=Ao(ko(n),i.ps,n.byteLength);return i.gs(y.byteLength),{nr:Ck.Xy,Nk:s,Ik:r,Db:d,qn:l,bm:_,Pb:g,xb:w,_l:m,Ob:y}},t.Fk=function(t){return pp.Ek(t,Ck.Vy,!1)},t.Bk=function(n){var i=n.ai,e=n.tk,r=To(ko(i)).buffer,s=Sp(ju(i,e)),u=s.version,o=s.flags,h=t.Bb(i,e),a=[];if(u>0)for(var c=ju(i,e),f=0;f<c;f++){var v=Wu(i,e,16);a.push(v)}var d=ju(i,e),l=new y(r,e.ps,d);return e.gs(i.byteLength),{nr:Ck.Wy,Ik:u,Nk:o,Lb:h,Mb:a,Ub:d,ai:l,Fb:r}},t.Bb=function(t,n){for(var i="",e=0;e<4;e++){var r=zu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=zu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=zu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=zu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=zu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Hk=function(t){var n,i,e=t.ai,r=t.tk,s=Sp(ju(e,r)),u=s.version,o=s.flags,h=ju(e,r),a=ju(e,r);0===u?(n=ct.fromBits(ju(e,r),0,!0),i=ct.fromBits(ju(e,r),0,!0)):(n=Ju(e,r),i=Ju(e,r)),r.gs(2);for(var c=Qu(e,r),f=[],v=0;v<c;v+=1){var d=ju(e,r),l=d>>31&1,_=2147483647&d,g=ju(e,r),w=ju(e,r),m=w>>31&1,y=w>>28&7,k=268435455&w;f.push({Hb:l,zb:_,d_:g,Vb:m,Wb:y,Xb:k})}return{nr:Ck.qy,Ik:u,Nk:o,qb:h,bm:a,Gb:n,Qb:i,Yb:c,jb:f}},t.kb=function(t){var n,i=t.ai,e=t.tk,r=Sp(ju(i,e)),s=r.version,u=r.flags;return n=0===s?ct.fromBits(ju(i,e),0,!0):Ju(i,e),{nr:Ck.Hy,Ik:s,Nk:u,bb:n}},t}();function Rp(t){return t&&"Kn"in t?t.Kn:t}var Ip=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).Zb=void 0,h.Jb=void 0,h.$b=void 0,h.Zb=s,h.Jb=u,h.$b=o||void 0,h}return S(n,t),n.prototype.mw=function(n){return this===n||!!Nw(this,n)&&(!!t.prototype.mw.call(this,n)&&(!!Iw(this.Kb,n.Kb)&&(!!Iw(this.ty,n.ty)&&(this.tA&&n.tA?!!this.tA.Fn(n.tA)&&(this.iw&&n.iw?this.iw.Fn(n.iw):this.iw===n.iw):this.tA===n.tA))))},A(n,[{key:"Kb",get:function(){return this.Zb}},{key:"ty",get:function(){return this.Jb}},{key:"tA",get:function(){return this.$b}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=Ew(Xy(t=this),{get styles(){return t.Kb},get regions(){return t.ty},get metadata(){return Rp(t.tA)},get content(){return Rp(t.iw)}})),this.Sd}}]),n}(Jy),Np=function(){function t(t,n,i){this.wc=void 0,this.nA=void 0,this.iA=void 0,this.nA=t,this.iA=n,Gt(i)?this.wc=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.ei(s)}return i}(0,0,i):this.wc=i}return A(t,[{key:"eA",get:function(){return this.wc.Hn(!0)}},{key:"tw",get:function(){return this.nA}},{key:"nw",get:function(){return this.iA}}]),t}();var Dp="http://www.w3.org/XML/1998/namespace";function Cp(t,n,i,e){var r=t.Jn(i,n);return 0===r.length&&(r=t.Yn(e+":"+n)),r}function xp(t,n){return function(t,n){var i=t.ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.ti)}return e}(t,function(t){return t.Zn===n})}function Op(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Pp(t,n){for(var i=t.oi,e={},r=0;r<i.length;r++)e[Op(i[r].Vn,n)]=i[r].qn;return e}var Bp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Lp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Mp="http://www.w3.org/ns/ttml";function Up(t,n,e){return void 0===e&&(e=Bk),function(t,n,e){var r,s=[];try{r=i.Mn(t)}catch(t){return s}var u=r.ci;if("tt"!==u.zn)return s;var o=u&&u.Jn(Mp,"head")[0],h=u&&u.Jn(Mp,"body")[0],a=["ebutts","tts","xml"];if(!h||!o)return s;for(var c=function(t,n){for(var i={},e=t.Jn(Mp,"styling")[0],r=e&&e.Jn(Mp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(Dp,"id");i[o]=Pp(u,n)}return i}(o,a),f=function(t,n){var i=Rw(t),e=Vp(n.ni("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=Vp(i[u].extent);if(o){var h=Hp(o[0],e[0]),a=Hp(o[1],e[1]);i[u].extent=h+" "+a}var c=Vp(i[u].origin);if(c){var f=Hp(c[0],e[0]),v=Hp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Jn(Mp,"layout")[0],r=e&&e.Jn(Mp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(Dp,"id");if(o){i[o]=Pp(u,n);var h=qp(u,n);for(var a in h)M.call(h,a)&&(i[o][a]=h[a])}}return i}(o,a),u),v=o.Jn(Mp,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(Gt(n)){var c,f;s=null!=(c=Xp(n.ni("begin"),r))?c:s,u=Xp(n.ni("dur"),0),o=null!=(f=Xp(n.ni("end"),r))?f:void 0!==u?s+u:o;for(var v=n.jn,d=0;d<v.length;d++)("body"===n.zn||"div"===n.zn)&&v[d].Cn>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.tw,s.nw)}e.sort(Es);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(xs(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var g=Wp(l[_],l[_+1],h);if(g.length<=0&&Gp(n)){var w=n.Hn(!1);a.push(new Np(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.Hn(!1);g.forEach(function(n){return t.$n(n.eA)}),a.push(new Np(l[_],l[_+1],t))}()}return a}(h,e.Jm,e.$m,e.Km),_=0;_<d.length;_++){var g=d[_],w=Fp(f,g);s.push(new Ip(g.tw,g.nw,g.eA,!1,c,w,v))}return s}(t,0,e)}function Fp(t,n){for(var i=function t(n){var i=[];var e;if(Gt(n)){(e=n.ni("region"))&&i.push(e);for(var r=n.jn,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.eA),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Hp(t,n){var i=zp(t),e=zp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function zp(t){return hs(t,"px")?"px":hs(t,"em")?"em":hs(t,"c")?"c":hs(t,"%")?"%":void 0}function Vp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Wp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].tw,u=i[r].nw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Xp(t,n){if(t){if(Bp.test(t)){var i=Bp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*_.pow(.1,u.length):0)+n}if(Lp.test(t)){var o=Lp.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h+n}}}function qp(t,n){for(var i={},e=t.Yn("style")||[],r=0;r<e.length;r++){var s=Pp(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function Gp(t){if(Gt(t)){var n=t.zn.toUpperCase(),i=Boolean(t.ni("smpte:backgroundImage"));return"BR"===n||i}return t.Cn===Wt.On}function Qp(t){var n=function(t){try{return i.Mn(t).ci}catch(t){}}(t);return"tt"===(null==n?void 0:n.zn)}var Yp,jp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Kd=function(n){var i=t.prototype.Kd.call(this,n);return i&&(n.Rl=Ww.bl),i},i.Rd=function(){return Zw(this)},n}(kw);!function(t){t.Zy="subtitles",t.rA="captions",t.sA="descriptions",t.uA="chapters",t.$y="metadata",t.oA="thumbnails"}(Yp||(Yp={}));var Zp=[Yp.Zy,Yp.rA,Yp.sA,Yp.uA,Yp.$y,Yp.oA];function Jp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Os(Zp,t)}(n)?n:n?Yp.$y:Yp.Zy}var $p,Kp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(Tc);function tb(t){return t instanceof D_}function nb(t){return us(t,$p.hA)}function ib(t){return t.some(eb)}function eb(t){return us(t,$p.aA)||us(t,$p.Dy)}function rb(t,n){return nc(t)&&ib(n)}function sb(t,n){return!!t&&(nc(t)?function(t){return t.some(nb)}(n)||ib(n):us(t,tc.APPLICATION_TTML_XML)||us(t,tc.TEXT_VTT)||us(t,tc.IMAGE_JPEG))}function ub(t,n){return t===Yp.oA||t===Yp.$y&&n===Yp.oA}function ob(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>i)break;n<=u.nw&&e.push(u)}}function hb(t,n){return Ss(t.gl,n.gl)}function ab(t,i){var e=i,r=0;if(tb(t)&&t.name===E_.gv)e=t.Bf.Mf;else if(t instanceof x_){var s=t.pv;if(e=s.Lf,0===(r=s.Df))return new Kp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Kp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function cb(t,i,e,r){var s=function(t){switch(t){case Oy.WEBVTT:return"WebVTT";case Oy.SRT:return"SRT";case Oy.TTML:return"TTML";default:return""}}(t);return new Kp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function fb(t){return np(qk(t))?Oy.WEBVTT:Qp(t)?Oy.TTML:Oy.SRT}function vb(t,n){for(var i=[],e=0,r=t.Cl.il;e<r.length;e++){var s=r[e];if(s.nw<=n)i.push(s);else if(s.tw>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.cA(o)}}!function(t){t.aA="vtt",t.Dy="wvtt",t.hA="stpp"}($p||($p={}));var db=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qk=new jp,n.fA=function(t){var i=t.Id;n.vA(i)},n}S(n,t);var i=n.prototype;return i.$d=function(t){t.Hr(dw.Fd,this.fA),this.qk.$d(t),this.vA(t)},i.Kd=function(t){t.Xr(dw.Fd,this.fA),t.Rl=Ww.bl,this.qk.Kd(t)},i.dA=function(t){},i.lA=function(t){},i.vA=function(t){t.Rl!==Ww.bl?this.dA(t):this.lA(t)},i._A=function(){for(var t=0,n=this.qk.il;t<n.length;t++){var i=n[t];i.Xr(dw.Fd,this.fA),i.hv()}},i.gA=function(t){if(t>0)for(var n=0,i=this.qk.il;n<i.length;n++){vb(i[n],t)}},i.nl=function(){return this._A(),this.qk.nl(),ze.resolve()},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.nl());case 3:this.qk.hv();case 4:case"end":return t.stop()}},null,this,null,ze)},n}(iu),lb=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw),_b=function(t){function n(n,i){var e;return(e=t.call(this)||this).wA=void 0,e.mA=void 0,e.yA=new Fs,e.wA=n,e.mA=i,e}S(n,t);var i=n.prototype;return i.kA=function(t){if(t.src){var n=t.kind||Yp.Zy,i=this.wA.pA(n,t.id,t.label,t.srclang,t.default);return i.Ol=S_(t.src),this.$d(i),i}},i.bA=function(t,n){var i,e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Dl=xy.LOADING,i=new p_({Mf:t.Ol,xf:qc.On,tv:g_.GET,Pr:n}),v.prev=2,v.next=5,Er.awrap(this.mA.Bf(i));case 5:return s=v.sent,r=s.Df,v.next=9,Er.awrap(s.lf());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),Ws(v.t0),t.Dl=xy.ERROR,t.Fr(new lb(ab(v.t0,t.Ol))),v.abrupt("return");case 18:for(v.prev=18,u=fb(e),t.nr=u,o=[],u===Oy.WEBVTT||u===Oy.SRT?(h=Xk(e),o=h.Cl):u===Oy.TTML&&(o=Up(e)),a=0,c=o;a<c.length;a++)f=c[a],t.AA(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),Ws(v.t1),t.Dl=xy.ERROR,t.Fr(new lb(cb(t.nr,t.Ol,r,v.t1))),v.abrupt("return");case 32:t.Dl=xy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],ze)},i.dA=function(t){Os(this.qk.il,t)&&t.Dl===xy.NONE&&this.bA(t,this.yA.Pr).catch(Xs)},i.Yo=function(){},i.nl=function(){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.yA.Cr(),this.yA=new Fs,n=0,i=this.qk.il;n<i.length;n++)e=i[n],this.wA.TA(e);return r.next=5,Er.awrap(t.prototype.nl.call(this));case 5:case"end":return r.stop()}},null,this,null,ze)},n}(db);function gb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n&&e.SA)return e}}function wb(t,n){mb(gb(t.il,n))}function mb(t){void 0!==t&&(t.Rl=Ww.Tl)}function yb(t,n){mb(gb(t.il,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n)return e}}(t.il,n))}function kb(t){for(var n=0;n<Zp.length;n++){var i=Zp[n];i===Yp.uA?yb(t,i):wb(t,i)}}var pb,bb=function(t){function n(){return t.call(this,Xc.Ra)||this}return S(n,t),n}(ru);!function(t){t[t.EA=0]="EA",t[t.RA=1]="RA"}(pb||(pb={}));var Ab=t,Tb=Ab.MediaSource,Sb=Ab.WebKitMediaSource,Eb=Ab.TextTrack,Rb=s&&s.createElement("video");s&&s.documentElement.style;var Ib=L.Mt&&L._n&&L.gn<=26;L.Zt;var Nb=!!k,Db=!(!Tb&&!Sb),Cb=!!Eb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.Qt,L.fn&&L.vn;var xb=Rb&&Rb.canPlayType&&(""!==Rb.canPlayType("application/vnd.apple.mpegURL")||L.Ht&&!L.fn&&L.zt>=4),Ob=Rb&&Rb.canPlayType&&""!==Rb.canPlayType("video/mp4")&&!Ib,Pb=Db&&!L.dn&&!L.hn&&!L.un&&((Tb||Sb).isTypeSupported?(Tb||Sb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Rb&&Rb.canPlayType&&""!==Rb.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Bb=Db&&!L.dn&&(Pb||((Tb||Sb).isTypeSupported?(Tb||Sb).isTypeSupported("audio/mpeg"):Rb&&Rb.canPlayType&&""!==Rb.canPlayType("audio/mpeg"))),Lb=Db&&!(L.cn&&L.Mt)&&((Tb||Sb).isTypeSupported?(Tb||Sb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Ob);L.dn||L.hn||L.un;var Mb=L.an,Ub=Mb&&!1,Fb=!L.dn,Hb=L.hn&&L.Ut&&L.Ft<=6.1,zb=Rb&&"onresize"in Rb;try{r&&r.top!==r.self}catch(t){!0}var Vb=.001,Wb=1e4,Xb=3,qb=function(t){function n(n){var i;return(i=t.call(this,Em.c_)||this).currentTime=n,i}return S(n,t),n}(ru),Gb=function(t){function n(n){var i;return(i=t.call(this,Em.f_)||this).currentTime=n,i}return S(n,t),n}(ru);Em.zd,Em.f_,Xc.Aa,Xc.ba;var Qb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).IA=am.n_,e.NA=!0,e.DA=!1,e.CA=!1,e.xA=function(t){var n=e.OA.Dl;n!==e.IA&&e.Fr(new Xm(t.currentTime,n)),n===am.n_&&(e.DA=!1,e.CA=!1),e.PA(n),e.BA(n),e.LA(n),e.maybeDispatchCanPlayThroughEvent(n),e.MA(n),e.UA(n),e.IA=n},e.FA=function(){e.UA(e.IA),e.MA(e.IA),e.NA=e.OA.w_},e.HA=function(){e.NA=e.OA.w_},e.OA=n,e.zA=i,e.OA.Hr(Em.zd,e.xA),e.OA.Hr(Xc.Aa,e.FA),e.OA.Hr(Xc.ba,e.HA),e.zA&&e.OA.Hr(Em.f_,e.Ur),e}S(n,t);var i=n.prototype;return i.PA=function(t){!this.CA&&t>=am.i_&&(this.CA=!0,this.Fr(new Om(this.OA.v_,t)))},i.BA=function(t){!this.DA&&t>=am.e_&&(this.DA=!0,this.Fr(new Um(this.OA.v_,t)))},i.MA=function(t){this.zA||(t>=am.r_&&this.IA<am.r_&&!this.OA.w_||this.VA&&t>=am.r_)&&this.Fr(new Gb(this.OA.v_))},i.UA=function(t){!this.WA(t)||this.OA.l_||this.OA.ts||this.Fr(new qb(this.OA.v_))},i.LA=function(t){this.IA<=am.e_&&t>=am.r_&&this.Fr(new Vm(this.OA.v_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===am.s_&&this.Fr(new Wm(this.OA.v_,t))},i.WA=function(t){var n=!this.OA.w_&&t<=am.e_,i=!this.NA&&this.IA<=am.e_;return n&&!i},i.nl=function(){this.IA=am.n_,this.NA=!0,this.DA=!1,this.CA=!1},i.hv=function(){this.Wr(),this.zA&&this.OA.Xr(Em.f_,this.Ur),this.OA.Xr(Xc.Aa,this.FA),this.OA.Xr(Xc.ba,this.HA),this.OA.Xr(Em.zd,this.xA)},A(n,[{key:"VA",get:function(){return!this.OA.w_&&this.NA}}]),n}(iu),Yb="titanium",jb="conax",Zb="ezdrm",Jb="irdeto",$b="vudrm",Kb="verimatrix",tA="keyos",nA="drmtoday",iA="expressplay",eA="azure",rA="xstream",sA="vimond",uA="axinom",oA="uplynk",hA="comcast",aA="custom",cA=function(){function t(t,n,i,e,r){this.eh=void 0,this.XA=void 0,this.qA=void 0,this.GA=void 0,this.mA=void 0,this.QA=void 0,this.YA=void 0,this.eh=t,this.XA=n,this.qA=i,this.mA=e,this.YA=r,this.GA=this.jA(n)}var e=t.prototype;return e.ZA=function(){return this.QA},e.JA=function(t){this.QA=t},e.$A=function(){return this.GA.licenseAcquisitionURL||this.ZA()},e.KA=function(t){return ze.resolve()},e.tT=function(t,n){return ze.resolve(void 0)},e.nT=function(t,i,e,r){var s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.iT(t,i,e,r)).Mf){o.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Er.awrap(this.kd.Bf(s));case 6:return u=o.sent,o.next=9,Er.awrap(u._f(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),Ws(o.t0),o.next=17,Er.awrap(this.eT(o.t0,s.Mf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],ze)},e.iT=function(t,n,i,e){var r=this.rT().Xa(),s=this.sv,u={Mf:this.sT(),xf:n,Cf:r,yf:t,sv:s,tv:g_.POST,nv:0,Pr:e,nr:w_.Vf,ev:i};return new p_(u)},e.uT=function(t,n){return ze.resolve(t)},e.oT=function(t,n,i,e){return ze.resolve(t)},e.rT=function(){return new Gc(this.GA.headers||{})},e.eT=function(t,i,e){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,ze)},e.sT=function(t,n){var e=n,r=this.GA.queryParameters;if(!e){var s=this.$A();if(!s)return"";e=s}if(r||t){var u=i.Ce(e);t&&T_(u,t),r&&T_(u,r),e=u.href}return e},e.hT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return ze.resolve(new y(fA(t,i)))}(t,this.GA)},e.aT=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap(this.cT(t,i));case 2:return e=u.sent,u.next=5,Er.awrap(this.nT(e,this.YA,n,i));case 5:return r=u.sent,u.next=8,Er.awrap(this.hT(r));case 8:return s=u.sent,u.abrupt("return",s);case 10:case"end":return u.stop()}},null,this,null,ze)},e.hv=function(){},A(t,[{key:"kd",get:function(){return this.mA}},{key:"fT",get:function(){return!1}},{key:"vT",get:function(){var t=this.GA.certificate;if(t)return q(t)?yu(t):bo(t)}},{key:"dT",get:function(){return!1}},{key:"sv",get:function(){return Boolean(this.GA.useCredentials)}}]),t}();function fA(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function vA(t,n){var i=To(t).buffer,e=n.licenseRequestProcessor;return ze.resolve(fA(i,e))}var dA,lA,_A=function(t){function n(n,i,e,r){return t.call(this,ts,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.jA=function(t){return t.widevine||{}},i.lT=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.vT){i.next=2;break}return i.abrupt("return",this.vT);case 2:return i.abrupt("return",this._T(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,ze)},i._T=function(n,i){return t.prototype.aT.call(this,n,m_.Gf,i)},n}(cA);function gA(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function wA(t){return F(t.token&&t.deviceId)}function mA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function yA(t){var n=t;return wA(n)&&""!==n.token&&""!==n.deviceId&&!mA(n)}(lA=dA||(dA={})).gT=!1,lA.wT=!1,lA.mT=!1,lA.yT=!1,lA.LOG_ADS_DETAILS=!1,lA.LOG_CHROMECAST_DETAILS=!1,lA.LOG_CUSTOM_DRM=!1,lA.LOG_BUFFERING_VIDEO_MAIN=!1,lA.LOG_BUFFERING_VIDEO_SELECTION=!1,lA.LOG_BUFFERING_AUDIO_MAIN=!1,lA.LOG_BUFFERING_AUDIO_SELECTION=!1,lA.kT=!1,lA.pT=!1;var kA,pA=function(){function t(t,n,i){this.bT=t,this.Wo=n,this.AT=i}return t.prototype.TT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.AT.build(t))},A(t,[{key:"ST",get:function(){return this.bT}},{key:"eh",get:function(){return this.Wo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(kA||(kA={}));var bA=function(){function t(){this.ET=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.RT(t,e,r)){case kA.FAILED:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case kA.OVERRIDDEN:var s=zA(e);i.me("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case kA.SUCCEEDED:zA(e);0}},e.RT=function(t,n,i){var e=zA(n);if(!e)return kA.FAILED;for(var r=kA.SUCCEEDED,s=0,u=this.ET.slice();s<u.length;s++){var o=u[s];o.ST===t&&o.eh===e&&(r=kA.OVERRIDDEN,Cs(this.ET,o))}return this.ET.push(new pA(t,e,i)),r},e.IT=function(t,n){return void 0!==this.NT(t,n)},e.DT=function(t,n,i){var e=this.NT(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.TT(i)},e.NT=function(t,n){for(var i=0,e=this.ET;i<e.length;i++){var r=e[i];if(r.ST===t&&(!n||r.eh===n))return r}},t}();bA.CT=new bA;var AA=["customdata"],TA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function SA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function EA(t){return t&&void 0!==t.licenseAcquisitionURL}var RA,IA=EA,NA=EA;function DA(t){if(!t)return!0;if(PA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return SA(n)&&SA(i)&&SA(e)&&SA(r)&&SA(s)}function CA(t){var n=yA(t),i=function(t){var n,i=t;return mA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!wA(i)}(t);return(!n||!i)&&(n||i)}function xA(t){return t.integration===Jb}function OA(t){var n=t;if(!n)return!1;if(DA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(PA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!IA(e))return!1;if(r&&!NA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(bA.CT.IT(n.integration))return!0;switch(n.integration){case Yb:if(!function(t){return t.integration===Yb&&(BA(t)||LA(t))}(t))return!1;break;case $b:if(!MA(t))return!1;break;case Kb:if(!function(t){return t.integration===Kb}(t))return!1;break;case Jb:if(!xA(t))return!1;break;case jb:if(!CA(t))return!1;break;case Zb:if(!function(t){return t.integration===Zb}(t))return!1;break;case tA:if(!PA(t))return!1;break;case nA:if(!function(t){var n=t;return n.integration===nA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case iA:if(!function(t){return t.integration===iA}(t))return!1;break;case rA:if(!UA(t))return!1;break;case sA:if(!function(t){return t.integration===sA}(t))return!1;break;case uA:if(!FA(t))return!1;break;case eA:if(!function(t){var n=t;return n.integration===eA&&void 0!==n.token}(t))return!1;break;case oA:if(!function(t){return t.integration===oA}(t))return!1;break;case hA:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case aA:return!0;default:return!1}}return!0}function PA(t){return t.integration===tA}function BA(t){return void 0!==t.authToken}function LA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function MA(t){var n=t;return n.integration===$b&&void 0!==n.token}function UA(t){var n=t;return n&&n.integration===rA&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function FA(t){var n=t;return n.integration===uA&&void 0!==n.token}function HA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:TA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=Rr({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};return c.customdata,Rr({},gA(c,AA),{licenseAcquisitionURL:u,headers:a})}function zA(t){switch(t.toLowerCase()){case"widevine":case Qr:return Qr;case"playready":case Xr:return Xr;case"fairplay":case Jr:return Jr}}function VA(t,i){switch(t){case Hr:return function(t){for(var n={},i=Ep.Pk(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Lb]=r.Fb}return n}(i);case zr:case Vr:return function(t){var n;return(n={})[Zr]=t,n}(i);default:throw new Tc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Je="Widevine",t.Ze="PlayreadyV2",t.xT="PlayreadyV2",t.OT="PlayreadyV3",t.Ke="Fairplay"}(RA||(RA={}));var WA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function XA(t,n){var e,r,s,u,o=WA[n],h=t.accountName;return{CustomerName:t.customerName,AccountName:h,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Oe)?void 0:e.Pe,OSVersion:null==(r=i.Oe)?void 0:r.He,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Oe)?void 0:s.ze,DeviceModel:null==(u=i.Oe)?void 0:u.Ve}}}function qA(t,i){if(!t.accountName)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function GA(t,n,i){var e;if(BA(t))e={AuthToken:t.authToken,Payload:n};else{if(!LA(t))throw qA(t,i);e={LatensRegistration:XA(t,i),Payload:n}}return Nu(JSON.stringify(e))}function QA(t,i,e){var r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=t.pv){h.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,h.prev=4,h.next=7,Er.awrap(s.df(e));case 7:u=h.sent,o=YA(u),h.next=14;break;case 11:h.prev=11,h.t0=h.catch(4),o="";case 14:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Bf.Mf,s.Df,s.Of,o);case 15:case"end":return h.stop()}},null,null,[[4,11]],ze)}function YA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var jA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,qc.Va)||this).PT=void 0,r}S(e,t),e.BT=function(){return i.Pe.ie?"required":"optional"};var r=e.prototype;return r.eT=function(t,n,i){return QA(t,n,i)},r.KA=function(t){return this.PT?qs(this.PT.Ss,t):(this.PT=new Ro,ze.resolve())},r.cT=function(t,i){var e,r;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.XA){i.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=pu(t),i.abrupt("return",GA(e,r,RA.Je));case 5:case"end":return i.stop()}},null,this,null,ze)},r.hT=function(t){var i;if(!t.license)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=yu(t.license),ze.resolve(i)},r.LT=function(t){return ze.resolve(new y(t))},r.lT=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.MT(),r.next=3,Er.awrap(this.cT(t,n));case 3:return i=r.sent,r.next=6,Er.awrap(this.nT(i,qc.za,m_.Qf,n));case 6:return e=r.sent,r.next=9,Er.awrap(this.LT(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ze)},r._T=function(n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.prototype._T.call(this,n,i));case 2:return e=r.sent,this.MT(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,ze)},r.MT=function(){this.PT||(this.PT=new Ro),this.PT.Is()},r.hv=function(){this.PT&&this.PT.Cr(),t.prototype.hv.call(this)},e}(_A),ZA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.cT=function(t,i){var e,r,s,u;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(vA(t,this.GA));case 2:if(e=i.sent,r=this.qA,o=new y(e),s=[].slice.call(o),u=this.UT){i.next=8;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,ze)},A(i,[{key:"UT",get:function(){if(MA(this.XA))return this.XA.token}}]),i}(_A);function JA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Rr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Rr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var $A=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return vA(t,this.GA)},i.sT=function(n,i){var e=n;return xA(this.XA)&&(e=JA(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(_A),KA="Conax-Custom-Data";function tT(t,n,i){var e=t&&CA(t)&&t;if(e&&!i.has(KA)){var r=yA(e)?e.token:void 0,s=yA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(KA,u)}return i}var nT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://connect.conax.com:8094/license"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return vA(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this);return tT(this.XA,"Widevine",n)},n}(_A);function iT(t){var n=ao(new y(t));return yu(JSON.parse(n).license)}function eT(t){return"string"==typeof t.token?t.token:Nu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function rT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var sT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return vA(t,this.GA)},i.hT=function(t){return ze.resolve(iT(t))},i.rT=function(){return rT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return eT(this.XA)}}]),n}(_A),uT=function(t){function n(n,i,e){return t.call(this,n,i,e,qc.za)||this}S(n,t);var i=n.prototype;return i.cT=function(t,n){return vA(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}(_A);function oT(t,i,e,r){var s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(UA(t)){v.next=2;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Gc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,h=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:h,streamId:o},c={Mf:t.ticketAcquisitionURL,xf:qc.Va,Cf:s,tv:g_.POST,yf:JSON.stringify(a),Pr:r},v.next=13,Er.awrap(e.Bf(c));case 13:return f=v.sent,v.next=16,Er.awrap(f.df());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,ze)}var hT=function(t){function n(n,i,e){return t.call(this,n,i,e,qc.Va)||this}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","application/json"),n},i.cT=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=Iu(t.buffer),e=this.XA,u.next=4,Er.awrap(oT(e,"widevine_modular",this.kd,n));case 4:return r=u.sent,this.JA(r.licenseServerUrl),s=co(JSON.stringify({payload:i,ticket:r.ticket})),u.abrupt("return",vA(s,this.GA));case 8:case"end":return u.stop()}},null,this,null,ze)},i.hT=function(t){var n=t;return ze.resolve(yu(n.license))},n}(_A),aT=function(t){function i(n,i,e){return t.call(this,n,i,e,qc.za)||this}S(i,t);var e=i.prototype;return e.cT=function(t,n){return vA(t,this.GA)},e.rT=function(){if(!FA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(_A);function cT(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var fT=function(t){function n(n,i,e){var r;return(r=t.call(this,Kr,n,i,e,qc.za)||this).FT=void 0,r}S(n,t);var e=n.prototype;return e.jA=function(t){return t.playready||{}},e.rT=function(){var n=new Gc(this.FT);return n.Ga(t.prototype.rT.call(this)),n},e.HT=function(t){return t.length>=1&&t[0].jn.length>0},e.tT=function(n){var i=this.XA.playready.customData;if(i){var e=cT(i),r=cT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+pu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ze.resolve({playready:{Dh:r}})}return t.prototype.tT.call(this,n)},e.cT=function(t,n){var i;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(vA(t,this.GA));case 2:return i=n.sent,n.abrupt("return",this.zT(i));case 4:case"end":return n.stop()}},null,this,null,ze)},e.zT=function(t){var n,e,r,s,u,o,h,a,c,f,v,d,l,_,g,w;return Er.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),h=uo(o,new So,!0),m.prev=3,a=i.Mn(h),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=a.Yn("PlayReadyKeyMessage")[0])?void 0:n.Yn("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Yn("Challenge"))?e:[],this.HT(f)&&(u=Ru(f[0].hi)),v=new Gc,d=null!=(r=null==c?void 0:null==(s=c.Yn("HttpHeaders")[0])?void 0:s.Yn("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],g=_.Yn("name")[0].hi,w=_.Yn("value")[0].hi,v.append(g,w);return this.FT=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],ze)},e.lT=function(t,n){return ze.resolve(t)},e._T=function(n,i){return t.prototype.aT.call(this,n,m_.Yf,i)},n}(cA),vT=function(){function t(n){this.yo=void 0,this.VT=n,this.yo=t.WT(n)}return t.WT=function(t){return"3"===t.version?RA.OT:RA.xT},t.prototype.XT=function(){var t={};if(this.yo===RA.OT){var n={LatensRegistration:XA(this.VT,RA.OT)};t["X-TITANIUM-DRM-CDATA"]=Nu(JSON.stringify(n))}return t},A(t,[{key:"qT",get:function(){return this.yo}},{key:"gh",get:function(){return this.yo===RA.xT}}]),t}();var dT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GT=void 0,r.GT=new vT(r.XA),r}S(e,t);var r=e.prototype;return r.tT=function(t){var i=this.XA;if(!this.XA)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(LA(i)){var e={};return e.playready={Dh:lT(i,this.GT.qT)},ze.resolve(e)}return ze.reject(qA(i,RA.Ze))},r.rT=function(){var n=new Gc(this.GT.XT());return n.Ga(t.prototype.rT.call(this)),n},r.eT=function(t,e,r){var s,u,o,h,a,c,f,v;return Er.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.pv){d.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,Er.awrap(s.gf(r));case 6:h=d.sent,a=ao(new y(h)),(c=i.Mn(a))&&(f=xp(c,"CustomData")).length>0&&(u=JSON.parse(f[0].hi),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Df,s.Of,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],ze)},r.HT=function(t){if(1!==t.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(fT);function lT(t,n){var i=XA(t,n),e=i.DeviceInfo.FormatVersion,r=Nu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=vo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return vo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+pu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var _T,gT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.HT=function(t){if(1!==t.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.sT=function(n,i){var e=Rr({},n||{},{token:this.UT});return t.prototype.sT.call(this,e,i)},A(i,[{key:"UT",get:function(){if(MA(this.XA))return this.XA.token}}]),i}(fT),wT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.sT=function(n,i){var e=n;return xA(this.XA)&&(e=JA(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(fT),mT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this);return tT(this.XA,"PlayReady",n)},n}(fT),yT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.hT=function(n){return(os(ao(new y(n)),"<?xml")?_T.QT:_T.df)===_T.df?ze.resolve(iT(n)):ze.resolve(t.prototype.hT.call(this,new y(n)))},i.rT=function(){return rT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return eT(this.XA)}}]),n}(fT);!function(t){t[t.QT=0]="QT",t[t.df=1]="df"}(_T||(_T={}));var kT,pT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT=void 0,r}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return this.YT&&n.set("Ticket",this.YT),n.set("Content-Type","text/xml"),n},i.cT=function(n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.XA,s.next=3,Er.awrap(oT(e,"playready",this.kd,i));case 3:return r=s.sent,this.JA(r.licenseServerUrl),this.YT=r.ticket,s.abrupt("return",t.prototype.cT.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,ze)},n}(fT),bT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.rT=function(){if(!FA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(fT);!function(t){t.Va="application/json",t.jT="application/x-www-form-urlencoded",t.ZT="application/octet-stream",t.On="text/plain;charset=UTF-8"}(kT||(kT={}));var AT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.eh,i,e,r,s)||this).JT="",u.$T=void 0,u.KT=void 0,u.KT=n.tS,u}S(n,t);var i=n.prototype;return i.nS=function(){return this.GA.certificateURL||this.$T},i.iS=function(t){this.$T=t},i.cT=function(t){return ze.resolve(this.eS(t,this.JT))},i.eS=function(t,n){return"spc="+encodeURIComponent(pu(t))+"&assetId="+encodeURIComponent(n)},i.jA=function(t){return t.fairplay||{}},i.rS=function(t){var n=t.indexOf("?");if(n>=0)return ze.resolve(t.substr(n+1));var i=t.split("/");return ze.resolve(i[i.length-1])},i.tT=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.KT)?n:_o(new y(t)),s.next=3,Er.awrap(this.rS(i));case 3:return e=s.sent,this.JT=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,ze)},i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type",this.sS),n},i.lT=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return t.next=4,Er.awrap(this.uS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,ze)},i._T=function(n,i){return t.prototype.aT.call(this,n,m_.Xf,i)},i.oS=function(t){var n=this.nS(),i=this.rT(),e={Mf:n,xf:qc.za,Cf:i,tv:g_.GET,sv:!1,yf:null,nv:0,Pr:t,nr:w_.Vf,ev:m_.qf};return new p_(e)},i.uS=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.oS(t),r.next=3,Er.awrap(this.kd.Bf(n));case 3:return i=r.sent,r.next=6,Er.awrap(i.gf());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,ze)},i.hT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=yu(i)}else n=new y(t);return ze.resolve(n)},i.sT=function(n,i){var e=t.prototype.sT.call(this,n,i);return os(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"dT",get:function(){return!0}},{key:"sS",get:function(){return kT.jT}}]),n}(cA),TT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(n,t);var i=n.prototype;return i.rS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return ze.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return ze.resolve(i)},i.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},i.hT=function(t){return ze.resolve(new y(t))},i.sT=function(n,i){var e=n||{};return e.p1=zt(),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return kT.ZT}}]),n}(AT),ST=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).JA("https://fairplay-license.drm.technology/license"),s.iS("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.eS=function(t,n){var i={token:this.UT,contentId:n,payload:pu(t)};return JSON.stringify(i)},e.hT=function(t){return ze.resolve(new y(t))},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("x-vudrm-token",this.UT),n},A(i,[{key:"sS",get:function(){return kT.Va}},{key:"UT",get:function(){if(!MA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.XA.token}}]),i}(AT),ET="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",RT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",IT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}return S(i,t),i.prototype.hT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,ET)}if(!i)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,RT);return i}(ao(new DataView(i)));return t.prototype.hT.call(this,e)},i}(AT);var NT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.Va)||this}S(i,t);var e=i.prototype;return e.cT=function(t){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.XA){r.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=pu(t),r.abrupt("return",GA(i,e,RA.Ke));case 5:case"end":return r.stop()}},null,this,null,ze)},e.hT=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ru(i.license);return ze.resolve(new y(r))}return ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.eT=function(t,n,i){return QA(t,n,i)},A(i,[{key:"sS",get:function(){return kT.Va}}]),i}(AT),DT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.iS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.nS=function(){var n=t.prototype.nS.call(this);if(!n)return n;var e=i.Ce(n),r=this.XA;return xA(r)&&T_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.rS=function(n){return xA(this.XA)?ze.resolve(this.XA.contentId):t.prototype.rS.call(this,n)},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.hT=function(t){return ze.resolve(new y(t))},e.sT=function(n,i){var e=n;return xA(this.XA)&&(e=function(t,n){return Rr({},JA(t,n),{KeyId:t.keyId})}(this.XA,e)),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return kT.ZT}}]),n}(AT),CT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,qc.On)||this,!CA(e))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.JA("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.rT=function(){var n=t.prototype.rT.call(this);return tT(this.XA,"FairPlay",n)},e.uS=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.nS(),i={Mf:n,xf:qc.za,Cf:{},tv:g_.GET,sv:!1,yf:null,nv:0,Pr:t,nr:w_.Vf,ev:m_.qf},s.next=4,Er.awrap(this.kd.Bf(i));case 4:return e=s.sent,s.next=7,Er.awrap(e.gf());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,ze)},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.rS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),ze.resolve(ao(yu(n)))):ze.resolve("unknown")},e.hT=function(t){try{var n=JSON.parse(t);return ze.resolve(new y(Ru(n.CkcMessage)))}catch(t){return ze.reject("CFLRW-66")}},i}(AT),xT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.On)||this).JA(TA[Ur.Ke]),s}S(i,t);var e=i.prototype;return e.rS=function(t){return os(t,"skd://")?ze.resolve(t.substring("skd://".length,40)):ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.eS=function(t,n){return"spc="+pu(t)+"&assetId="+n},i}(AT),OT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.On)||this).JA("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.eS=function(t,n){var i="spc="+encodeURIComponent(pu(t))+"&"+encodeURI(n);return"persistent"===this.GA.licenseType?i+"&offline=true":i},i.rT=function(){return rT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return eT(this.XA)}}]),n}(AT),PT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(n,t);var e=n.prototype;return e.rS=function(t){var n=t;return os(n,"skd:")&&(n="http:"+n.substring(4)),os(n,"http:")||os(n,"https:")?ze.resolve(i.Ce(n).hostname):ze.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.hT=function(t){return ze.resolve(new y(t))},A(n,[{key:"sS",get:function(){return kT.ZT}}]),n}(AT),BT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.On)||this}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}(AT),LT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,qc.Va)||this,!UA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.uS=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.nS(),i=this.rT(),e={Mf:n,xf:qc.Va,Cf:i,tv:g_.POST,Pr:t,nr:w_.Vf,ev:m_.qf},u.next=5,Er.awrap(this.kd.Bf(e));case 5:return r=u.sent,u.next=8,Er.awrap(r.df());case 8:return s=u.sent,u.abrupt("return",new y(yu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,ze)},i._T=function(t,n,i){var e,r,s,u,o,h,a;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=pu(t),r=this.XA,i.next=5,Er.awrap(oT(r,"fairplay",this.kd,n));case 5:return s=i.sent,u=co(JSON.stringify({spc:e,ticket:s.ticket})),o={Mf:this.$A(),xf:qc.Va,Cf:this.rT(),tv:g_.POST,yf:u,nv:0,Pr:n,nr:w_.Vf,ev:m_.Xf},i.next=10,Er.awrap(this.kd.Bf(o));case 10:return h=i.sent,i.next=13,Er.awrap(h.df());case 13:return a=i.sent,i.abrupt("return",yu(a.licence));case 15:case"end":return i.stop()}},null,this,null,ze)},A(n,[{key:"sS",get:function(){return kT.Va}}]),n}(AT),MT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.On)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return pu(t)},e.hT=function(i){if(0===i.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.hT.call(this,i)},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","text/plain"),n},i}(AT),UT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return t},e.hT=function(t){return ze.resolve(new y(t))},e.rT=function(){if(!FA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},A(i,[{key:"sS",get:function(){return kT.Va}}]),i}(AT),FT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.Va)||this).hS=void 0,s}S(e,t);var r=e.prototype;return r.eS=function(t,n){var i={spc:pu(t)};return JSON.stringify(i)},r.rS=function(t){var e=i.Ce(t);return this.hS=t,e.searchParams.has("b")?ze.resolve(e.searchParams.get("b")):ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.sT=function(n,i){var e=this.$A();return!e&&this.hS&&(e=this.hS),e&&(e=e.replace("skd://","https://")),t.prototype.sT.call(this,n,i||e)},r.hT=function(t){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=q(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",yu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],ze)},A(e,[{key:"sS",get:function(){return kT.On}}]),e}(AT),HT=function(){function t(t,n){this.aS=t,this.cS=n}var n=t.prototype;return n.fS=function(t){return this.aS(t)},n.vS=function(t,n){throw new d(n+" must be "+this.cS+". (Received: "+t+")")},t}();new HT(function(t){return!0},"any");var zT=new HT(j,"a number"),VT=new HT(q,"a string"),WT=new HT(G,"a boolean");new HT(Y,"a date"),new HT(H,"undefined"),new HT(W,"an object"),new HT(function(t){return null===t},"null"),new HT(function(t){return null==t},"null or undefined");var XT,qT=(XT={responseCode:zT,isException:WT,description:VT,title:VT,correlationId:VT},{fS:function(t){if(!W(t))return!1;for(var n=0,i=l.keys(XT);n<i.length;n++){var e=i[n];if(!XT[e].fS(t[e]))return!1}return!0},vS:function(t,n){if(!W(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(XT);i<e.length;i++){var r=e[i],s=XT[r];if(!s.fS(t[r]))return s.vS(t[r],n+"."+String(r))}throw new d}});function GT(t,n,i,e,r){var s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=QT(t,n,i,r),u.next=3,Er.awrap(YT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,ze)}function QT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Ce(t);return T_(e,n),e.toString()}(e,s)),o=new Gc({});o.append("Content-Type","application/json");var h=pu(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:h}};return{Mf:u,xf:qc.On,Cf:o,tv:g_.POST,yf:JSON.stringify(a),Pr:r,nr:w_.Vf,ev:m_.Xf}}function YT(t,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(i.Bf(t));case 2:return e=s.sent,s.next=5,Er.awrap(e.df());case 5:if(r=s.sent,!qT.fS(r)){s.next=8;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Mf,r.responseCode);case 8:return s.abrupt("return",yu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,ze)}var jT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).dS=void 0,s.dS=i,s}S(n,t);var i=n.prototype;return i.rS=function(n){var i=n.replace("FairPlay",this.dS.releasePid);return t.prototype.rS.call(this,i)},i._T=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(GT(t,this.dS,this.$A(),this.kd,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,ze)},n}(AT),ZT=function(t){function i(n,i,e){return t.call(this,is,n,i,e,qc.za)||this}S(i,t);var e=i.prototype;return e.jA=function(t){return t.clearkey||{}},e.cT=function(t,n){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",vA(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,ze)},e.nT=function(i,e,r,s){var u,o;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.GA,!this.$A()){e.next=5;break}return e.abrupt("return",t.prototype.nT.call(this,i,this.YA,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",co(JSON.stringify(o)).buffer);case 10:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,ze)},e.lT=function(t,n){return ze.resolve(new y(0))},e._T=function(n,i){return t.prototype.aT.call(this,n,m_.jf,i)},i}(cA),JT=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.cT=function(t,n){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",vA(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,ze)},n}(_A),$T={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function KT(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=hS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",ze.resolve(n));case 5:return u.next=8,Er.awrap(qs(ze.resolve(r.call(t,e)),i));case 8:if(!po(s=u.sent)){u.next=11;break}return u.abrupt("return",bo(s));case 11:return u.abrupt("return",oS(Rr({},$T,s)));case 12:case"end":return u.stop()}},null,null,null,ze)}function tS(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=t.onCertificateResponse,u=uS(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ze.resolve(n));case 5:return h.next=8,Er.awrap(qs(ze.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",bo(o));case 10:case"end":return h.stop()}},null,null,null,ze)}function nS(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(eS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",oS(r));case 6:case"end":return s.stop()}},null,null,null,ze)}function iS(t,n,i,e,r,s){var u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return u=sS(i,r),h.next=3,Er.awrap(rS(t,new y(n),u,e,s));case 3:return o=h.sent,h.abrupt("return",bo(o).buffer);case 5:case"end":return h.stop()}},null,null,null,ze)}function eS(t,n,i,e){var r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=sS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",ze.resolve(s));case 5:return o.next=8,Er.awrap(qs(ze.resolve(r.call(t,s)),e));case 8:if(!po(u=o.sent)){o.next=11;break}return o.abrupt("return",bo(u).buffer);case 11:return o.abrupt("return",Rr({fairplaySkdUrl:void 0},$T,u));case 12:case"end":return o.stop()}},null,null,null,ze)}function rS(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=uS(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ze.resolve(n));case 5:return h.next=8,Er.awrap(qs(ze.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",bo(o));case 10:case"end":return h.stop()}},null,null,null,ze)}function sS(t,n){return Rr({},hS(t),{fairplaySkdUrl:n})}function uS(t,n,i){return{url:i.Lf,status:i.Df,statusText:i.Of,headers:i.Cf.Xa(),body:t,request:n}}function oS(t){return new p_({Mf:t.url,tv:t.method,Cf:t.headers,yf:t.body,sv:t.useCredentials})}function hS(t){var n;return{url:t.Mf,body:null!=(n=aS(t.yf))?n:null,headers:t.Cf.Xa(),method:t.tv,useCredentials:t.sv}}function aS(t){if(t)return"string"==typeof t?go(t):t instanceof ArrayBuffer?new y(t):Au(t)?ko(t):void 0}var cS,fS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,n){return ze.resolve(t)},e._T=function(t,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Er.awrap(this.zT(To(t).buffer));case 2:return e=h.sent,r=this.iT(e,qc.za,m_.Yf,i),h.next=6,Er.awrap(nS(this.lS,r,void 0,i));case 6:if(!((s=h.sent)instanceof ArrayBuffer)){h.next=10;break}return h.abrupt("return",new y(s));case 10:if(""!==s.Mf){h.next=12;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return h.prev=12,h.next=15,Er.awrap(this.kd.Bf(s));case 15:return u=h.sent,h.next=18,Er.awrap(u.gf(i));case 18:return o=h.sent,h.t0=y,h.next=22,Er.awrap(iS(this.lS,o,r,u,void 0,i));case 22:return h.t1=h.sent,h.abrupt("return",new h.t0(h.t1));case 26:throw h.prev=26,h.t2=h.catch(12),Ws(h.t2),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",h.t2);case 30:case"end":return h.stop()}},null,this,[[12,26]],ze)},i}(fT),vS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,qc.za)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.vT){h.next=2;break}return h.abrupt("return",this.vT);case 2:return e=this.iT(t,qc.za,m_.Qf,i),h.next=5,Er.awrap(KT(this.lS,e,i));case 5:if(!((r=h.sent)instanceof y)){h.next=9;break}return h.abrupt("return",r);case 9:if(""!==r.Mf){h.next=11;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return h.prev=11,h.next=14,Er.awrap(this.kd.Bf(r));case 14:return s=h.sent,h.next=17,Er.awrap(s.gf(i));case 17:u=h.sent,h.next=24;break;case 20:throw h.prev=20,h.t0=h.catch(11),Ws(h.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",h.t0);case 24:return o=sS(e,void 0),h.next=27,Er.awrap(tS(this.lS,new y(u),o,s,i));case 27:return h.abrupt("return",h.sent);case 28:case"end":return h.stop()}},null,this,[[11,20]],ze)},e._T=function(t,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,qc.za,m_.Gf,i),o.next=3,Er.awrap(nS(this.lS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Er.awrap(this.kd.Bf(r));case 12:return s=o.sent,o.next=15,Er.awrap(s.gf(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),Ws(o.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Er.awrap(iS(this.lS,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],ze)},i}(JT),dS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,qc.za)||this).lS=void 0,u._S=void 0,u.lS=s,u}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return e=this.oS(i),t.next=5,Er.awrap(KT(this.lS,e,i));case 5:if(r=t.sent,!Au(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Er.awrap(this.kd.Bf(r));case 11:return s=t.sent,t.next=14,Er.awrap(s.gf());case 14:return u=t.sent,o=sS(e,void 0),t.next=18,Er.awrap(tS(this.lS,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Ws(t.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],ze)},e._T=function(t,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,qc.za,m_.Xf,i),o.next=3,Er.awrap(nS(this.lS,e,this._S,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Er.awrap(this.kd.Bf(r));case 12:return s=o.sent,o.next=15,Er.awrap(s.gf(i));case 15:return u=o.sent,o.t0=y,o.next=19,Er.awrap(iS(this.lS,u,e,s,this._S,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),Ws(o.t2),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],ze)},e.rS=function(n){var i;return this._S=n,null!=(i=this.lS)&&i.extractFairplayContentId?ze.resolve(this.lS.extractFairplayContentId(n)):t.prototype.rS.call(this,n)},i}(AT),lS=function(){function t(){}var n=t.prototype;return n.gS=function(t,n,i,e){switch(t.eh.nr){case Ur.Je:return this.wS(n,i,e);case Ur.Ze:return this.mS(n,i,e);case Ur.Ke:return this.yS(t,n,i,e);case Ur.$e:default:return this.kS(n,i,e)}},n.wS=function(t,n,i){var e,r=(e=t).integration===aA&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&bA.CT.IT(r,Qr)){var s=bA.CT.DT(r,Qr,t);return new vS(t,n,i,s)}switch(r){case Yb:return new jA(t,n,i);case $b:return new ZA(t,n,i);case Jb:return new $A(t,n,i);case jb:return new nT(t,n,i);case nA:return new sT(t,n,i);case eA:return new uT(t,n,i);case rA:return new hT(t,n,i);case uA:return new aT(t,n,i);case tA:default:return new JT(t,n,i,qc.za)}},n.mS=function(t,n,i){var e=t.integration;if(e&&bA.CT.IT(e,Xr)){var r=bA.CT.DT(e,Xr,t);return new fS(t,n,i,r)}switch(e){case Yb:return new dT(t,n,i);case $b:return new gT(t,n,i);case Jb:return new wT(t,n,i);case jb:return new mT(t,n,i);case nA:return new yT(t,n,i);case rA:return new pT(t,n,i);case uA:return new bT(t,n,i);case tA:default:return new fT(t,n,i)}},n.yS=function(t,n,i,e){var r=n.integration;if(r&&bA.CT.IT(r,Jr)){var s=bA.CT.DT(r,Jr,n);return new dS(t,n,i,e,s)}switch(r){case Zb:return new TT(t,n,i,e);case $b:return new ST(t,n,i,e);case Kb:return new IT(t,n,i,e);case Yb:return new NT(t,n,i,e);case Jb:return new DT(t,n,i,e);case jb:return new CT(t,n,i,e);case tA:return new xT(t,n,i,e);case nA:return new OT(t,n,i,e);case iA:return new PT(t,n,i,e);case eA:return new BT(t,n,i,e);case rA:return new LT(t,n,i,e);case sA:return new MT(t,n,i,e);case uA:return new UT(t,n,i,e);case oA:return new FT(t,n,i,e);case hA:return new jT(t,n,i,e);default:return new AT(t,n,i,e,qc.On)}},n.kS=function(t,n,i){return new ZT(t,n,i)},n.pS=function(t){return t.nr===Ur.Ze||t.nr===Ur.Je||t.nr===Ur.Ke||t.nr===Ur.$e},n.gh=function(t,n){var i;if(t.nr!==Ur.Ze)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!bA.CT.IT(e,Jr))&&(e===Yb&&new vT(n).gh)},n.BT=function(t,n){if(t.nr===Ur.Je){var i=n.integration;if(!i||!bA.CT.IT(i,Jr))return i===Yb?jA.BT():void 0}},t}();!function(t){t[t.bS=0]="bS",t[t.AS=1]="AS",t[t.TS=2]="TS",t[t.SS=3]="SS",t[t.ES=4]="ES",t[t.RS=5]="RS",t[t.Yl=6]="Yl",t[t.IS=7]="IS",t[t.t_=8]="t_",t[t.NS=9]="NS",t[t.DS=10]="DS"}(cS||(cS={}));var _S=function(){function t(){}return t.prototype.CS=function(t){},A(t,[{key:"xS",get:function(){return 0}},{key:"OS",get:function(){return 0}}]),t}(),gS=function(){function t(t,n){void 0===n&&(n=new lS),this.mA=void 0,this.PS=void 0,this.VT=void 0,this.mA=t,this.PS=n}var n=t.prototype;return n.LS=function(t){this.VT=t},n.BT=function(t){var n=this.VT;if(void 0!==n)return this.PS.BT(t,n)},n.gh=function(t){var n=this.VT;return void 0!==n&&this.PS.gh(t,n)},n.MS=function(t){var n={eh:t.eh,US:t.US||[],tS:t.tS},i=this.PS.gS(n,this.VT||{},t.qA,this.mA);return new wS(i)},t}(),wS=function(){function t(t){this.FS=void 0,this.FS=t}var n=t.prototype;return n.KA=function(t){return this.FS.KA(t)},n.tT=function(t,n,i){return this.FS.tT(n,i)},n.dT=function(){return this.FS.dT||void 0!==this.FS.vT},n.lT=function(t,n){return this.FS.lT(t,n)},n._T=function(t,n,i){return n&&this.FS.JA(n),this.FS._T(t,i)},n.Sr=function(){this.FS.hv()},t}(),mS=function(t){function n(n){var i;(i=t.call(this)||this).HS=[],i.zS=function(t){i.$d(t.Id)},i.VS=function(t){var n=t.Id;i.WS(n)||i.Kd(n)};for(var e=0;e<n.length;e++){var r=n[e];i.XS(r)}return i}S(n,t);var i=n.prototype;return i.XS=function(t){this.HS.push(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.$d(e)}this.qS(t)},i.GS=function(t){Cs(this.HS,t),this.QS(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.WS(e)||this.Kd(e)}},i.WS=function(t){for(var n=0,i=this.HS;n<i.length;n++){if(i[n].tl(t))return!0}return!1},i.qS=function(t){t.Hr(aw.pd,this.zS),t.Hr(aw.Ad,this.VS)},i.QS=function(t){t.Xr(aw.pd,this.zS),t.Xr(aw.Ad,this.VS)},i.hv=function(){for(;this.HS.length>0;)this.GS(this.HS[0]);t.prototype.hv.call(this)},i.Rd=function(){return Zw(this)},n}(kw);function yS(t){return{get enabled(){return t.ll},set enabled(n){t.ll=Cw(n)},get currentLatency(){return t.x_},get streamConfiguration(){if(void 0!==t.YS)return function(t){return{get minimumOffset(){return t.A_},get maximumOffset(){return t.S_},get targetOffset(){return t.T_},get forceSeekOffset(){return t.E_},get minimumPlaybackRate(){return t.R_},get maximumPlaybackRate(){return t.I_}}}(t.YS)},get configuration(){return function(t){return{get minimumOffset(){return t.A_},set minimumOffset(n){t.A_=xw(n)},get maximumOffset(){return t.S_},set maximumOffset(n){t.S_=xw(n)},get targetOffset(){return t.T_},set targetOffset(n){t.T_=xw(n)},get forceSeekOffset(){return t.E_},set forceSeekOffset(n){t.E_=xw(n)},get minimumPlaybackRate(){return t.R_},set minimumPlaybackRate(n){t.R_=xw(n)},get maximumPlaybackRate(){return t.I_},set maximumPlaybackRate(n){t.I_=xw(n)},update:function(n){t.Zo(function(t){var n={};void 0!==t.minimumOffset&&(n.A_=xw(t.minimumOffset));void 0!==t.maximumOffset&&(n.S_=xw(t.maximumOffset));void 0!==t.targetOffset&&(n.T_=xw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.E_=xw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.R_=xw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.I_=xw(t.maximumPlaybackRate));return n}(n))}}}(t.rh)}}}var kS,pS=function(){function t(){this.Sd=void 0,this.jS=void 0,this.jS={E_:0,S_:0,I_:0,A_:0,R_:0,T_:0,Zo:Z}}return A(t,[{key:"Ed",get:function(){return null!=this.Sd||(this.Sd=yS(this)),this.Sd}},{key:"ll",get:function(){return!1},set:function(t){}},{key:"x_",get:function(){}},{key:"YS",get:function(){}},{key:"rh",get:function(){return this.jS}}]),t}();function bS(){return kS||(kS=ce&&ce.document&&ce.document.createElement("video")),kS}var AS=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new lS),void 0===o&&(o=Uc()),(h=t.call(this)||this).ZS=void 0,h.JS=void 0,h.$S=void 0,h.z_=void 0,h.V_=void 0,h.W_=void 0,h.KS=void 0,h.tE=void 0,h.nE=void 0,h.iE=void 0,h.eE=void 0,h.mA=void 0,h.hr=void 0,h.rE=void 0,h.sE=void 0,h.uE=new _S,h.oE=new pS,h.hE=function(t){var n=t.ts,i=n.code,e=new Tc(wy(i),"Something went wrong during native playback.",n),r=new ly(i,e.message,n.message);h.aE(e,r)},h.cE=function(){h.Fr(new Lm(h.v_,h.kg))},h.fE=function(t){h.w_||(h.sE=void 0),h.Fr(t)},h.vE=function(t){h.sE=void 0,h.Fr(t)},h.dE=function(){h.Fr(new Ly(h.bg))},h.lE=function(){h.p_>0&&h.k_>0&&h.Fr(new bb)},h._E=function(t){h.z_.$d(new Dy(t.track))},h.gE=function(t){var n=SS(h.z_,t.track);n&&h.z_.Kd(n)},h.wE=function(){h.mE(h.z_)},h.yE=function(t){h.V_.$d(new By(t.track))},h.kE=function(t){var n=SS(h.V_,t.track);n&&h.V_.Kd(n)},h.pE=function(){h.mE(h.V_)},h.bE=function(t){h.Fr(t),h.aE(t.errorObject,gy(t.errorObject))},h.ZS=i,h.mA=e,h.hr=o,h.JS=h.ZS.AE(my.$f),h.nE=h.JS.TE.preload,h.iE=new Qb(h.JS,!0),h.iE.Hr(xm,h.Ur),h.rE=new gS(e,u),h.JS.SE=h.rE,h.EE(),h.z_=new yy,h.V_=new yy,h.RE(),h.eE=new _b(h.JS,h.mA),h.W_=new mS([h.JS.j_]),h.ag(),h}S(n,t);var i=n.prototype;return i.cg=function(){this.JS.cg()},i.ag=function(){this.JS.ag()},i.ig=function(t,n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return Vs(i),e={nr:pb.EA,Ol:t.src,mf:t.type,IE:this.NE(t),Cg:this.nE,DE:t.crossOrigin,CE:n.metadata&&n.metadata.title},this.rE.LS(t.contentProtection),r.next=5,Er.awrap(this.JS.Yo(e));case 5:this.$S=r.sent,Vs(i),n.textTracks&&this.xE(n.textTracks),kb(this.j_);case 9:case"end":return r.stop()}},null,this,null,ze)},i.xE=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.JS.OE()&&L.Qt&&Cb&&!ub(i.kind,i.label)&&this.PE(i)){var e,r=null!=(e=i.kind)?e:Yp.Zy;this.JS.BE(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.eE.kA(i)}}},i.PE=function(t){return!t.format||"webvtt"===t.format},i.J_=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Er.awrap(this.JS.J_());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.LE){t.next=12;break}return t.next=10,Er.awrap(this.JS.Yr(Xc.Ta));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],ze)},i.K_=function(){this.JS.K_()},i.eg=function(){return void 0!==this.JS.TE.webkitShowPlaybackTargetPicker},i.rg=function(){this.JS.TE.webkitShowPlaybackTargetPicker&&this.JS.TE.webkitShowPlaybackTargetPicker()},i.sg=function(){this.JS.TE.webkitShowPlaybackTargetPicker&&this.JS.TE.webkitShowPlaybackTargetPicker()},i.fg=function(){return this.JS.TE},i.vg=function(){return this.JS.ME},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KS=void 0,this.tE=void 0,this.$S=void 0,t.next=5,Er.awrap(this.eE.nl());case 5:return this.JS.UE(),t.next=8,Er.awrap(this.JS.nl());case 8:this.iE.nl(),this.Cg=this.nE,this.Q_.nl(),this.Y_.nl(),this.sE=void 0;case 13:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.FE(),this.HE(),this.iE.hv(),this.JS.SE=void 0,t.next=9,Er.awrap(this.ZS.zE(this.JS));case 9:return this.z_.hv(),this.V_.hv(),this.W_.hv(),t.next=14,Er.awrap(this.eE.hv());case 14:case"end":return t.stop()}},null,this,null,ze)},i.EE=function(){this.JS.Hr(Xc.Aa,this.Ur),this.JS.Hr(Xc.ba,this.Ur),this.JS.Hr(Xc.La,this.cE),this.JS.Hr(Xc.Ta,this.Ur),this.JS.Hr(Xc.wa,this.Ur),this.JS.Hr(Xc.Na,this.Ur),this.JS.Hr(Xc.Ia,this.fE),this.JS.Hr(Xc.la,this.Ur),this.JS.Hr(Xc.Sa,this.Ur),this.JS.Hr(Xc.Ma,this.Ur),this.JS.Hr(Xc.va,this.Ur),this.JS.Hr(Xc.Ra,this.lE),this.JS.Hr(Em.f_,this.vE),this.JS.Hr(Xw.Sl,this.hE),this.JS.Hr(Xc.aa,this.Ur),this.JS.Hr(Xc.ha,this.bE),this.JS.TE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dE)},i.FE=function(){this.JS.Xr(Xc.Aa,this.Ur),this.JS.Xr(Xc.ba,this.Ur),this.JS.Xr(Xc.La,this.cE),this.JS.Xr(Xc.Ta,this.Ur),this.JS.Xr(Xc.wa,this.Ur),this.JS.Xr(Xc.Na,this.Ur),this.JS.Xr(Xc.Ia,this.fE),this.JS.Xr(Xc.la,this.Ur),this.JS.Xr(Xc.Sa,this.Ur),this.JS.Xr(Xc.Ma,this.Ur),this.JS.Xr(Xc.va,this.Ur),this.JS.Xr(Xc.Ra,this.lE),this.JS.Xr(Em.f_,this.vE),this.JS.Xr(Xw.Sl,this.hE),this.JS.Xr(Xc.aa,this.Ur),this.JS.Xr(Xc.ha,this.bE),this.JS.TE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dE)},i.NE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:ns,VE:[{initDataTypes:[ns.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.RE=function(){var t=this.JS.TE.audioTracks,n=this.JS.TE.videoTracks;t&&(t.addEventListener("addtrack",this._E),t.addEventListener("removetrack",this.gE),t.addEventListener("change",this.wE)),n&&(n.addEventListener("addtrack",this.yE),n.addEventListener("removetrack",this.kE),n.addEventListener("change",this.pE))},i.HE=function(){var t=this.JS.TE.audioTracks,n=this.JS.TE.videoTracks;t&&(t.removeEventListener("addtrack",this._E),t.removeEventListener("removetrack",this.gE),t.removeEventListener("change",this.wE)),n&&(n.removeEventListener("addtrack",this.yE),n.removeEventListener("removetrack",this.kE),n.removeEventListener("change",this.pE))},i.mE=function(t){for(var n=0;n<t.sl;n++){t.Jd(n).Vg()}},i.mg=function(){this.JS.mg()},i.aE=function(t,n){this.KS||(this.KS=n,this.tE=t,this.Fr(new qm(t)))},A(n,[{key:"LE",get:function(){var t=this.JS.yg,n=this.v_;return t.WE(n,.01)}},{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.JS.yg.XE()}},{key:"kg",get:function(){return this.JS.kg},set:function(t){t&&this.JS.qE(t)}},{key:"v_",get:function(){return void 0!==this.sE?this.sE:this.JS.v_},set:function(t){this.bg&&(this.sE=t),this.JS.ys(t)}},{key:"d_",get:function(){return this.JS.d_}},{key:"l_",get:function(){return this.JS.l_}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.JS.bg}},{key:"B_",get:function(){return Rr({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.JS.GE())}},{key:"g_",get:function(){return this.JS.g_},set:function(t){this.JS.g_=t}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return this.JS.w_}},{key:"m_",get:function(){return this.JS.m_},set:function(t){this.JS.m_=t}},{key:"Dg",get:function(){return this.JS.TE.played}},{key:"Cg",get:function(){return this.nE},set:function(t){this.nE=t,this.$S&&(this.$S.Cg=t)}},{key:"Dl",get:function(){return this.JS.Dl}},{key:"xg",get:function(){return this.JS.xg.XE()}},{key:"y_",get:function(){return this.JS.y_}},{key:"QE",get:function(){return this.JS.QE}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"k_",get:function(){return this.JS.k_}},{key:"p_",get:function(){return this.JS.p_}},{key:"b_",get:function(){return this.JS.b_},set:function(t){this.JS.b_=t}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return this.JS.Pg},set:function(t){this.JS.Pg=t}},{key:"YE",get:function(){return this.uE}}]),n}(Kw);var TS=function(){function t(){this.jE=cS.DS}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new AS(t,n,i,e,r)},n.ZE=function(t,n){return function(t){return!t.type||!(!bS().canPlayType||!bS().canPlayType(t.type))}(t)},n.JE=function(){return!1},t}();function SS(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}var ES=function(){function t(){this.$E=new TS,this.KE=[]}t.tR=function(){return this.Rn};var n=t.prototype;return n.nR=function(t){this.KE.push(t)},n.TT=function(t,n,i,e,r,s){for(var u=this.$E.TT(t,n,i,e,r,s),o=0,h=this.KE;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.ZE=function(t,n){return this.$E.ZE(t,n)},n.JE=function(){return!1},A(t,[{key:"jE",get:function(){return this.$E.jE}}]),t}();function RS(t,n){return Ss(t.jE,n.jE)}function IS(t){NS.Rn.iR(t)}ES.Rn=new ES;var NS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eR=ES.tR(),n}S(n,t);var i=n.prototype;return i.rR=function(t){this.eR=t},i.sR=function(){return this.eR},i.uR=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=0;case 1:if(!(i<t.length)){h.next=11;break}return e=t[i],h.next=5,Er.awrap(this.oR(e,n));case 5:if(!(r=h.sent)){h.next=8;break}return h.abrupt("return",{hR:e,aR:r});case 8:i++,h.next=1;break;case 11:s=this.eR,u=0;case 13:if(!(u<t.length)){h.next=20;break}if(o=t[u],!s.ZE(o,n)){h.next=17;break}return h.abrupt("return",{hR:o,aR:s});case 17:u++,h.next=13;break;case 20:return h.abrupt("return",{hR:t[0],aR:s});case 21:case"end":return h.stop()}},null,this,null,ze)},n}(function(){function t(){this.cR=[]}var n=t.prototype;return n.iR=function(t){this.cR.push(t),this.cR.sort(RS)},n.oR=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.cR;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Q(s=r.ZE(t,n))){u.next=10;break}return u.next=7,Er.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,ze)},t}());NS.Rn=new NS;var DS,CS=function(){function t(t){this.fR=void 0,this.fR=ce&&ce.document&&ce.document.createElement("div"),tr(this.fR),t.appendChild(this.fR)}return t.prototype.hv=function(){Ze(this.fR)},t}();function xS(t){switch(t){case DS.vR:case"":return DS.vR;case DS.$y:return DS.$y;case DS.dR:default:return DS.dR}}!function(t){t.DS="",t.dR="none",t.$y="metadata",t.vR="auto"}(DS||(DS={}));var OS=[Xw.Sl,Xc.da,Xc.es,Xc.Ha,Xc.ra,Xc._a,Xc.ka,Xc.pa,Xc.Ca,Xc.Oa,Em.u_,Em.o_,Em.h_,Em.a_,Em.zd,Em.c_,Em.f_,Xc.ha,Xc.aa,Xc.va,Xc.la,Xc.wa,Xc.ma,Xc.Aa,Xc.Ta,Xc.ba,Xc.Sa,Xc.Ra,Xc.Na,Xc.Ia,Xc.La,Xc.Ma,Xc.Ea,Xc.ya,Xc.Da],PS=function(t){function n(n,i){var e;return(e=t.call(this)||this).lR=void 0,e._R=void 0,e.gR=void 0,e.wR=void 0,e.nE=DS.dR,e.mR=void 0,e.yR=!0,e.z_=new qw,e.V_=new qw,e.W_=new $w,e.X_=new fy,e.lR=n,e.gR=i,e.gR.Cg=e.Cg,e.kR(),e}S(n,t);var i=n.prototype;return i.K_=function(){this.gR.K_()},i.J_=function(){var t=this.gR.J_();Q(t)&&Zs(t)},i.tg=function(){return this.ig(void 0)},i.ug=function(){},i.lg=function(t){return!1},i.kR=function(){this.z_.fl=this.gR.Q_,this.V_.fl=this.gR.Y_,this.W_.fl=this.gR.j_,this.X_.fl=this.gR.Z_,this.gR.Hr(OS,this.Ur)},i.pR=function(){this.gR.Xr(OS,this.Ur),this.z_.fl=void 0,this.V_.fl=void 0,this.W_.fl=void 0,this.X_.fl=void 0},i.ng=function(){return this.mR},i.ig=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(Vs(n),this.mR=t,t){h.next=4;break}return h.abrupt("return");case 4:if(!km(i=t.sources.filter(Sm))){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Er.awrap(this.lR.uR(i,t));case 9:if(e=h.sent,Vs(n),r=e.hR,s=e.aR,u=this.vg(),o=Ym(this),this._R===s&&!this.ts){h.next=25;break}return this.pR(),h.next=19,Er.awrap(this.gR.hv());case 19:Vs(n),this._R=s,this.gR=this.bR(s),BS(this.gR,o),jm(this,o,this),this.kR();case 25:return this.gR.Cg=this.Cg,this.yR?this.gR.ag():this.gR.cg(),h.next=29,Er.awrap(this.gR.ig(r,t,n));case 29:Vs(n),this.AR(r),this.vg()!==u&&this.Fr(new nm);case 32:case"end":return h.stop()}},null,this,null,ze)},i.AR=function(t){this.wR!==t&&(this.wR=t,this.Fr(new im(t)))},i.eg=function(){return this.gR.eg()},i.rg=function(){this.gR.rg()},i.sg=function(){this.gR.sg()},i.vg=function(){return this.gR.vg()},i.mg=function(){this.gR.mg()},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mR=void 0,this.AR(void 0),t.next=4,Er.awrap(this.gR.nl());case 4:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.nl());case 3:return t.next=5,Er.awrap(this.gR.hv());case 5:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 9:case"end":return t.stop()}},null,this,null,ze)},i.ag=function(){this.yR=!0,this.gR.ag()},i.cg=function(){this.yR=!1,this.gR.cg()},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.gR.yg}},{key:"ts",get:function(){return this.gR.ts}},{key:"__",get:function(){return this.gR.__}},{key:"kg",get:function(){return this.gR.kg},set:function(t){this.gR.kg=t}},{key:"wg",get:function(){return this.wR}},{key:"v_",get:function(){return this.gR.v_},set:function(t){this.gR.v_=t}},{key:"d_",get:function(){return this.gR.d_}},{key:"l_",get:function(){return this.gR.l_}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.gR.bg}},{key:"B_",get:function(){return this.gR.B_}},{key:"g_",get:function(){return this.gR.g_},set:function(t){this.gR.g_=t}},{key:"Ng",get:function(){return this.gR.Ng}},{key:"w_",get:function(){return this.gR.w_}},{key:"m_",get:function(){return this.gR.m_},set:function(t){this.gR.m_=t}},{key:"Dg",get:function(){return this.gR.Dg}},{key:"Cg",get:function(){return this.nE},set:function(t){this.nE=t,this.gR&&(this.gR.Cg=this.nE)}},{key:"Dl",get:function(){return this.gR.Dl}},{key:"xg",get:function(){return this.gR.xg}},{key:"y_",get:function(){return this.gR.y_}},{key:"j_",get:function(){return this.W_}},{key:"k_",get:function(){return this.gR.k_}},{key:"Y_",get:function(){return this.V_}},{key:"p_",get:function(){return this.gR.p_}},{key:"b_",get:function(){return this.gR.b_},set:function(t){this.gR.b_=t}},{key:"Og",get:function(){return this.gR.Og}},{key:"YE",get:function(){return this.gR.YE}}]),n}(iu);function BS(t,n){t.g_!==n.g_&&(t.g_=n.g_),t.b_!==n.b_&&(t.b_=n.b_),t.m_!==n.m_&&(t.m_=n.m_)}var LS,MS=function(t){function n(n,i){var e;return(e=t.call(this)||this).sl=void 0,e.SR=void 0,e.ER=void 0,e.sl=n.length>>1,e.SR=n,e.ER=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.sl),e}S(n,t);var i=n.prototype;return i.RR=function(t){return this.SR[2*t]},i.IR=function(t){return this.ER[2*t]},i.NR=function(t){return this.SR[2*t+1]},i.DR=function(t){return this.ER[2*t+1]},A(n,[{key:"xR",get:function(){return this.SR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.mw=function(t,n){return 0===this.Cw(t,n)},n.um=function(t,n){return this.Cw(t,n)>0},n.om=function(t,n){return this.Cw(t,n)>=0},n.Lw=function(t,n){return this.Cw(t,n)<0},n.Pw=function(t,n){return this.Cw(t,n)<=0},n.Em=function(t,n){return this.Lw(t,n)?t:n},n.Sm=function(t,n){return this.um(t,n)?t:n},n.OR=function(t,n,i){return i?this.Pw(t,n):this.Lw(t,n)},n.XE=function(){var t=this;return{get length(){return t.sl},start:function(n){var i=0|n;return t.PR(i),t.LR(t.RR(i))},end:function(n){var i=0|n;return t.PR(i),t.LR(t.NR(i))}}},n.MR=function(){for(var t=new Array(2*this.sl),n=new Array(2*this.sl),i=0;i<this.sl;i++)t[2*i]=this.RR(i),t[2*i+1]=this.NR(i),n[2*i]=!0,n[2*i+1]=!0;return this.UR(t,n)},n.PR=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.sl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.sl+")")},n.FR=function(t){if(0===this.sl)return this.HR();if(this.WE(t))return t;if(this.Pw(t,this.RR(0)))return this.RR(0);if(this.om(t,this.NR(this.sl-1)))return this.NR(this.sl-1);for(var n,i=this.zR(),e=0;e<this.sl;e++){var r=this.RR(e),s=this.Bw(r,t);this.Lw(s,i)&&(n=r,i=s);var u=this.NR(e),o=this.Bw(this.NR(e),t);this.Lw(o,i)&&(n=u,i=o)}return n},n.WR=function(t){for(var n=0,i=0,e=[],r=[];n<this.sl&&i<t.sl;){var s=this.RR(n),u=this.NR(n),o=this.IR(n),h=this.DR(n),a=t.RR(i),c=t.NR(i),f=t.IR(i),v=t.DR(i),d=this.Sm(s,a),l=this.Em(u,c),_=void 0;_=this.mw(s,a)?o&&f:this.mw(d,s)?o:f;var g=void 0;g=this.mw(u,c)?h&&v:this.mw(l,u)?h:v,(this.Lw(d,l)||_&&g&&this.mw(d,l))&&(e.push(d,l),r.push(_,g));var w=this.Cw(this.NR(n),t.NR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.UR(e,r)},n.XR=function(){var t=this.qR(),n=t.sl;if(0===n)return this.UR([t.GR(),t.zR()],[!1,!1]);var i=[],e=[],r=t.RR(0);t.mw(r,t.GR())||(i.push(t.GR(),r),e.push(!1,!t.IR(0)));for(var s=0;s<n-1;s++)i.push(t.NR(s),t.RR(s+1)),e.push(!t.DR(s),!t.IR(s+1));var u=t.NR(n-1);return t.mw(u,t.zR())||(i.push(u,t.zR()),e.push(!t.DR(n-1),!1)),t.UR(i,e)},n.QR=function(t){for(var n=0,i=0,e=this.sl,r=t.sl,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.RR(n),a=this.NR(n),c=t.RR(i),f=t.NR(i);this.Lw(h,c)||this.mw(h,c)&&this.Lw(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.IR(n),u[o+1]=this.DR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.IR(i),u[o+1]=t.DR(i),i++),o+=2}for(;n<e;)s[o]=this.RR(n),s[o+1]=this.NR(n),u[o]=this.IR(n),u[o+1]=this.DR(n),n++,o+=2;for(;i<r;)s[o]=t.RR(i),s[o+1]=t.NR(i),u[o]=t.IR(i),u[o+1]=t.DR(i),i++,o+=2;return this.UR(s,u)},n.YR=function(t){void 0===t&&(t=this.HR());var n=this.sl;if(n<2)return this;for(var i=[],e=[],r=this.RR(0),s=this.NR(0),u=this.IR(0),o=this.DR(0),h=1;h<n;h++){var a=this.RR(h),c=this.NR(h),f=this.IR(h),v=this.DR(h);this.Lw(r,a)&&this.um(s,c)||(this.mw(r,a)&&(u=f=u||f),this.mw(s,c)&&(o=v=o||v),this.OR(a,this.Lg(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.UR(i,e).qR()},n.qR=function(){for(var t=[],n=[],i=0;i<this.sl;i++){var e=this.RR(i),r=this.NR(i),s=this.IR(i),u=this.DR(i);this.mw(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.UR(t,n)},n.jR=function(t){return this.sl?t.sl?this.QR(t).YR():this:t},n.ZR=function(t){var n=this.qR(),i=t.qR(),e=n.XR(),r=i.XR(),s=e.WR(i),u=r.WR(n);return s.jR(u)},n.gs=function(t){if(this.mw(t,this.HR()))return this;for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.Lg(this.RR(e),t),s=this.Lg(this.NR(e),t);n.push(r,s),i.push(this.IR(e),this.DR(e))}return this.UR(n,i)},n.JR=function(t){return 0===this.sl||0===t.sl?this:this.qR().WR(t.qR().XR())},n.WE=function(t,n){return this.$R(t,n)>=0},n.KR=function(t,n,i,e,r){return this.tI(t,n,i,e,r)>=0},n.nI=function(t,n,i,e,r){return this.iI(t,n,i,e,r)>=0},n.eI=function(t){if(t.sl!==this.sl)return!1;for(var n=0;n<this.sl;n++)if(!this.mw(this.RR(n),t.RR(n))||!this.mw(this.NR(n),t.NR(n))||this.IR(n)!==t.IR(n)||this.DR(n)!==t.DR(n))return!1;return!0},n.rI=function(t){for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.RR(e),s=this.NR(e),u=this.IR(e),o=this.DR(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.UR(n,i)},n.iI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.HR());for(var s=this.Hw(t,r),u=this.Lg(n,r),o=0;o<this.sl;o+=1)if(this.OR(this.RR(o),u,!e||this.IR(o))&&this.OR(s,this.NR(o),!i||this.DR(o)))return o;return-1},n.tI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.HR());for(var s=this.Lg(t,r),u=this.Hw(n,r),o=0;o<this.sl;o+=1)if(this.OR(this.RR(o),s,!i||this.IR(o))&&this.OR(u,this.NR(o),!e||this.DR(o)))return o;return-1},n.$R=function(t,n){return this.tI(t,t,!0,!0,n)},n.sI=function(t,n){void 0===n&&(n=this.HR());for(var i=this.Lg(t,n),e=this.sl-1;e>=0;e-=1)if(this.OR(this.RR(e),i,this.IR(e)))return e;return-1},n.uI=function(t,n){void 0===n&&(n=this.HR());for(var i=this.Hw(t,n),e=0;e<this.sl;e+=1)if(this.OR(i,this.NR(e),this.DR(e)))return e;return-1},n.oI=function(t){return this.PR(t),this.UR([this.RR(t),this.NR(t)],[this.IR(t),this.DR(t)])},n.hI=function(t,n){var i=this.$R(t,n);return i<0?void 0:this.oI(i)},A(t,[{key:"aI",get:function(){for(var t=this.HR(),n=0;n<this.sl;n++){var i=this.Hw(this.NR(n),this.RR(n));t=this.Lg(t,i)}return t}}]),t}()),US=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t<n?ys.mr:t===n?ys.gr:ys.wr},i.Lg=function(t,n){return t+n},i.Hw=function(t,n){return t-n},i.Bw=function(t,n){return _.abs(t-n)},i.HR=function(){return 0},i.zR=function(){return 1/0},i.GR=function(){return-1/0},n.cI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.fI=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(t.RR(r).Nm),i.push(t.NR(r).Nm),e.push(t.IR(r)),e.push(t.DR(r));return new n(i,e)},n.vI=function(t){return new n([t,t],[!0,!0])},i.UR=function(t,i){return new n(t,i)},i.LR=function(t){return t},n.dI=function(){return FS},n}(MS),FS=new US([]);!function(t){t.Fd="fullscreenchange",t.lI="fullscreensupportchange",t.Sl="fullscreenerror"}(LS||(LS={}));var HS=function(t){function n(){return t.call(this,LS.Sl)||this}return S(n,t),n}(ru),zS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zg=function(){this.Fr(new HS)},i.$g=function(){},i.hv=function(){this.Wr()},A(n,[{key:"_I",get:function(){return!1}},{key:"gI",get:function(){return!1}}]),n}(iu)),VS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZS=void 0,n.JS=void 0,n}S(n,t);var i=n.prototype;return i.fg=function(){var t;return null==(t=this.JS)?void 0:t.TE},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.prototype.hv.call(this));case 2:if(!this.JS){n.next=6;break}return n.next=5,Er.awrap(this.ZS.zE(this.JS));case 5:this.JS=void 0;case 6:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"wI",set:function(t){this.ZS=t,this.JS=t.AE(my.$f)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mI=0,n.yI=!1,n.kI=!0,n.pI=1,n.bI=!1,n.Bu=1,n.Q_=new yy,n.yg=US.dI().XE(),n.d_=NaN,n.l_=!1,n.ts=void 0,n.__=void 0,n.Z_=void 0,n.bg=!1,n.Ng=!0,n.Dg=US.dI().XE(),n.Cg=DS.dR,n.Dl=am.n_,n.xg=US.dI().XE(),n.QE=void 0,n.j_=new jp,n.k_=0,n.Y_=new yy,n.p_=0,n.Og=new pS,n.uE=new _S,n}S(n,t);var i=n.prototype;return i.ag=function(){},i.cg=function(){},i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)),this.Fr(new qb(this.v_)))},i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Lm(this.v_,this.kg)),this.Fr(new Im(this.v_)))},i.ig=function(t,n){return ze.resolve()},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.vg=function(){return zS},i.mg=function(){},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.mI=0,this.bI=!1,this.K_(),this.Fr(new Rm(this.mI));case 4:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wr(),this.Q_.hv(),this.j_.hv(),this.Y_.hv();case 4:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"kg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.mI},set:function(t){this.mI!==t&&(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"y_",get:function(){return this.bI}},{key:"b_",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"YE",get:function(){return this.uE}}]),n}(iu)),WS=function(t){function n(n,i,e,r,s,u){var o,h=new VS;return(o=t.call(this,NS.Rn,h)||this).Ch=void 0,o.AI=void 0,o.TI=void 0,o.SI=void 0,o.mA=void 0,o.EI=void 0,o.RI=void 0,o.TI=n,o.Ch=i,o.mA=e,o.EI=r,o.SI=u,o.AI=new oe(s,o.SI),o.AI.II(o.TI),h.wI=o.AI,o.RI=new CS(o.TI),o}S(n,t);var i=n.prototype;return i.ug=function(){t.prototype.ug.call(this),this.AI.NI()},i.og=function(t){var n,i,e,r;n=this,e=(i=t).b_,r=i.g_,n.b_=e,n.g_=r},i.hg=function(){},i.bR=function(t){return t.TT(this.TI,this.AI,this.mA,this.Ch,this.EI,this.SI)},i.fg=function(){return this.gR.fg()},i.dg=function(){return this.AI.DI.map(function(t){return t.TE})},i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.prototype.hv.call(this));case 2:this.AI.hv(),this.RI.hv();case 4:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"pg",get:function(){return this.TI}},{key:"Pg",get:function(){return this.gR.Pg},set:function(t){this.gR.Pg=t}}]),n}(PS),XS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TI=void 0,r.CI=void 0,r.xI=void 0,r.OI=void 0,r.BI=void 0,r.oE=new pS,r.TI=n,r.CI=i,r.OI=new yy,r.BI=new jp,r.xI=e,r}S(n,t);var i=n.prototype;return i.lg=function(t){return!0},i.cg=function(){},i.J_=function(){throw this.Fr(new qm(this.xI)),this.CI},i.K_=function(){},i.ng=function(){},i.ig=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw Vs(n),this.Fr(new qm(this.xI)),this.CI;case 3:case"end":return t.stop()}},null,this,null,ze)},i.ag=function(){},i.tg=function(){return ze.resolve()},i.fg=function(){},i.vg=function(){return zS},i.dg=function(){return[]},i.ug=function(){},i.og=function(t){},i.hg=function(){},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.mg=function(){},i.nl=function(){return ze.resolve()},i.hv=function(){return this.Wr(),this.OI.hv(),this.BI.hv(),ze.resolve()},A(n,[{key:"Q_",get:function(){return this.OI}},{key:"yg",get:function(){return US.dI().XE()}},{key:"kg",get:function(){return new Date(NaN)},set:function(t){}},{key:"wg",get:function(){}},{key:"v_",get:function(){return 0},set:function(t){}},{key:"d_",get:function(){return 0}},{key:"pg",get:function(){return this.TI}},{key:"l_",get:function(){return!0}},{key:"ts",get:function(){return this.CI}},{key:"__",get:function(){return this.xI}},{key:"Z_",get:function(){}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return!0}},{key:"m_",get:function(){return 0},set:function(t){}},{key:"Dg",get:function(){return US.dI().XE()}},{key:"Cg",get:function(){return DS.dR},set:function(t){}},{key:"Dl",get:function(){return am.n_}},{key:"xg",get:function(){return US.dI().XE()}},{key:"y_",get:function(){return!1}},{key:"j_",get:function(){return this.BI}},{key:"k_",get:function(){return 0}},{key:"Y_",get:function(){return this.OI}},{key:"p_",get:function(){return 0}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"bg",get:function(){return!1}}]),n}(tm);function qS(t){if(t&&W(t))return Rr({},t,{integration:GS(t.integration),fairplay:KS(t.fairplay),widevine:QS(t.widevine),playready:YS(t.playready),clearkey:tE(t.clearkey),aes128:nE(t.aes128),integrationParameters:iE(t.integrationParameters),preferredKeySystems:eE(t.preferredKeySystems)})}function GS(t){if(q(t))return t}function QS(t){if(t&&W(t))return{persistentState:jS(t.persistentState),distinctiveIdentifier:jS(t.distinctiveIdentifier),audioRobustness:ZS(t.audioRobustness),videoRobustness:ZS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:JS(t.licenseType),headers:t.headers,useCredentials:!!G(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||po(t.certificate)?t.certificate:void 0,certificateRequestProcessor:$S(t.certificateRequestProcessor),certificateResponseProcessor:$S(t.certificateResponseProcessor),licenseRequestProcessor:$S(t.licenseRequestProcessor),licenseResponseProcessor:$S(t.licenseResponseProcessor)}}function YS(t){if(t){var n=QS(t);if(n)return Rr({},n,{customData:q(t.customData)?t.customData:void 0})}}function jS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function ZS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function JS(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function $S(t){if("function"==typeof t)return t}function KS(t){if(t){var n=QS(t);if(n)return Rr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function tE(t){if(t){var n=QS(t);if(n)return Rr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function nE(t){if(W(t))return{useCredentials:G(t.useCredentials)?t.useCredentials:void 0}}function iE(t){if(W(t))return t}function eE(t){return t&&z(t)?t.map(function(t){return zA(t)}).filter(F):[Qr,Xr,Jr]}var rE,sE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(ru),uE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).LI=[],e.MI=void 0,e.UI=function(t){js(function(){e.Ur(t)})},e.MI=i?e.UI:e.Ur,e}S(n,t);var i=n.prototype;return i.FI=function(t){t.Vr(this.MI),this.LI.push(t)},i.HI=function(t){t.Qr(this.MI),Cs(this.LI,t)},i.hv=function(){this.Wr();for(var t=0,n=this.LI;t<n.length;t++){n[t].Qr(this.MI)}Ps(this.LI)},n}(Kw),oE=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(uE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(rE||(rE={}));var hE,aE=function(t){function i(n){var i;return(i=t.call(this)||this).zI=void 0,i.VI=void 0,i.WI=!1,i.XI=!1,i.qI=void 0,i.GI=void 0,i.QI=void 0,i.Sd=void 0,i.YI=function(){return i.jI()},i.ZI=function(){return i.JI()},i.QI=n,i.zI=i.VI=i.qI=i.GI=rE.INLINE,i.QI.Hr(LS.Fd,i.YI),i.QI.Hr(LS.Sl,i.ZI),i.$I(),i}S(i,t);var e=i.prototype;return e.Rd=function(){return t=this,i={get currentMode(){return t.KI()},requestMode:function(n){var i=fE(n);i&&t.tN(i)},supportsMode:function(n){var i=fE(n);return!!i&&t.nN(i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},(n=new uE(i,!0)).FI(t),i;var t,n,i},e.tN=function(t){this.iN(t,t)},e.iN=function(t,n){this.VI!==n&&(this.WI=!0,this.zI=t,this.eN(n,this.VI),t!==rE.FULLSCREEN&&(this.qI=t),this.WI=!1,this.$I())},e.KI=function(){return this.XI?rE.FULLSCREEN:rE.INLINE},e.nN=function(t){switch(t){case rE.FULLSCREEN:return this.QI.gI;case rE.INLINE:return!0}return!1},e.$I=function(){if(!this.WI){var t=this.VI,n=this.KI();this.VI=n,n!==rE.FULLSCREEN&&(this.GI=n),t!==n&&this.Fr(new sE(n))}},e.eN=function(t,n){var i=t===rE.FULLSCREEN;this.XI=i,i!==this.QI._I&&(i?this.QI.Zg():this.QI.$g())},e.jI=function(){if(!this.WI){var t=this.QI._I;this.XI=t,t?this.iN(rE.FULLSCREEN,rE.FULLSCREEN):t||this.zI!==rE.FULLSCREEN?this.$I():this.iN(this.qI,this.GI)}},e.JI=function(){this.jI(),this.Fr(new qm(new Tc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.hv=function(){this.QI.hv(),this.Wr()},A(i,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),i}(Kw),cE={v_:0,d_:NaN,l_:!1,ts:void 0,__:void 0,g_:!1,w_:!0,m_:1,Dl:am.n_,y_:!1,k_:0,p_:0,b_:1};function fE(t){switch(t){case rE.INLINE:case rE.FULLSCREEN:case rE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(hE||(hE={}));var vE,dE,lE,_E,gE,wE,mE,yE,kE=function(){function t(){this.rN=[]}var n=t.prototype;return n.sN=function(t){var n=this.uN.filter(function(n){return n.oN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.hN=function(t){this.rN.push(t)},A(t,[{key:"uN",get:function(){return this.rN}}]),t}();kE.Rn=new kE,function(t){t.f_="PLAYING",t.M_="PAUSED",t.aN="SEEK",t.cN="STALLED",t.fN="FAILED",t.vN="INITIAL_BUFFERING",t.dN="NO_ACCESS"}(vE||(vE={})),function(t){t.lN="HTTP_REQUEST_STATUS_CODE_1XX",t._N="HTTP_REQUEST_STATUS_CODE_2XX",t.gN="HTTP_REQUEST_STATUS_CODE_3XX",t.wN="HTTP_REQUEST_STATUS_CODE_4XX",t.mN="HTTP_REQUEST_STATUS_CODE_5XX",t.yN="BUFFER_LENGTH",t.kN="BYTES_RECEIVED",t.pN="SEGMENT_READ_BITRATE",t.bN="SEGMENT_PROFILE_BITRATE",t.AN="NUMBER_OF_FRAMES_DROPPED",t.TN="PLAYBACK_POSITION",t.SN="NUMBER_OF_FRAMES_DECODED",t.EN="PLAYBACK_DELTA_TO_ORIGIN",t.RN="STREAM_DELTA_TO_ORIGIN",t.IN="ORIGIN_TIMESTAMP"}(dE||(dE={})),function(t){t.NN="MANIFEST_URI",t.DN="ASSET_DURATION",t.CN="NUMBER_OF_CONTENT_PROFILES",t.xN="CDN",t.ON="CONTENT_TITLE",t.PN="SERVICE_NAME",t.BN="CONTENT_TYPE",t.LN="CONTENT_DESCRIPTION"}(lE||(lE={})),function(t){t.MN="shutdown_normal_shutdown"}(_E||(_E={})),function(t){t.UN="session/",t.FN="internalError/",t.HN="drmError/",t.zN="caError/",t.VN="networkError/"}(gE||(gE={})),function(t){t.WN="userAction",t.XN="endOfStreamReached"}(wE||(wE={})),function(t){t.PAUSE="qN",t.RESUME="GN"}(mE||(mE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(yE||(yE={}));var pE,bE,AE,TE,SE,EE="agama";function RE(t){return function(t){switch(t){case pE.NONE:case pE.HORIZONTAL:case pE.VERTICAL:return!0;default:return!1}}(t)?t:pE.NONE}function IE(t){switch(t){case"":return pE.NONE;case"horizontal":return pE.HORIZONTAL;case"vertical":return pE.VERTICAL;default:throw new d}}function NE(t){if(!t||!q(t))return bE.vR;switch(t){case"always":return bE.QN;case"never":return bE.YN;default:return bE.vR}}function DE(t){if(!t||!q(t))return AE.vR;switch(t){case"playlist":return AE.jN;case"media":return AE.ZN;default:return AE.vR}}function CE(t,n){return t.length>0?t:n.length>0?n:void 0}function xE(t){if(null!==t)return t}function OE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:xE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:xE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Rr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.me("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.me("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Rr({},e,{availabilityType:"live",assetKey:u}):void i.me("A Live DAI configuration was provided without valid assetKey which is required.")}i.me("A DAI configuration was provided without a valid availabilityType which is required.")}function PE(t){if(!OA(t)||!t.integration)return t;switch(t.integration){case tA:return n=t,i=HA(Ur.Je,n),e=HA(Ur.Ze,n),r=n[Ur.Ke]&&HA(Ur.Ke,n),Rr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(pE||(pE={})),function(t){t.vR="auto",t.QN="always",t.YN="never"}(bE||(bE={})),function(t){t.vR="auto",t.jN="playlist",t.ZN="media"}(AE||(AE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(TE||(TE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(SE||(SE={}));var BE="https://content.uplynk.com";function LE(t){if(!t)return!0;var n,i,e=!(ym(n=t.sources)||V(n)&&ym(n[0]))||km(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function ME(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(mm(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function UE(t,n,i){return gm(t)?function(t,n,i){var e=Rr({},pm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:TE.VERIZON_MEDIA,id:"",prefix:BE,preplayParameters:{},playbackUrlParameters:{},assetType:SE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return SE.CHANNEL;case"event":return SE.EVENT;case"asset":default:return SE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Cw(t.contentProtected));t.assetInfo?e.assetInfo=Cw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Pw(t.prefix)||BE);return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!G(o.adImpressions)&&o.adImpressions,a=!!G(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=G(o.linearAdData)?o.linearAdData:u!==SE.ASSET):u!==SE.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=HE(e=zE(e=FE(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=bm(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=vm(t),r){var s=qS(r);e.contentProtection=PE(s)}}else if(mm(t)||_m(t)){e.src=t.src,e.type=t.type||vm(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===um.Kl||t.type===um.t_}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var h=t.contentProtection||t.drm||r,a=qS(h);e.contentProtection=PE(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return OE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=FE(e,t)}var c;return e=HE(e=zE(e,n,i),t,i)}(t,n,i)}function FE(t,n){var i;n.useCredentials?t.crossOrigin=sm.$l:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case sm.Jl:case sm.$l:return t;default:return sm.Zl}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Cw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Cw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:NE(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:DE(null==t?void 0:t.discontinuityAlignment)}}(n.hls)),n.lcevc&&(t.lcevc=Cw(n.lcevc));var e=void 0!==n.experimentalRendering?Cw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Cw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function HE(t,n,i){return t.abr=function(t,n){var i=Bw(null==t?void 0:t.preferredAudioCodecs,Pw),e=Bw(null==t?void 0:t.preferredVideoCodecs,Pw),r=Bw(null==n?void 0:n.preferredAudioCodecs,Pw),s=Bw(null==n?void 0:n.preferredVideoCodecs,Pw),u=CE(i,r),o=CE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function zE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===sm.Zl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=sm.Jl),t.useCredentials=t.crossOrigin===sm.$l,q(r)&&!t.timeServer&&(t.timeServer=r),t}function VE(t){var n={src:""};if(t&&t.src){if(n.src=Pw(t.src),"default"in t&&(n.default=Cw(t.default)),n.kind=Jp(t.kind),function(t){switch(t){case Oy.DEFAULT:case Oy.SRT:case Oy.TTML:case Oy.WEBVTT:case Oy.EMSG:case Oy.EVENT_STREAM:case Oy.ID3:case Oy.CEA608:case Oy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function WE(t,n){if(X(t))try{return n.sN(t).JN(t)}catch(t){return}}function XE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function qE(t){return t.integration===hE.SPOTX&&!m(t.id)}function GE(t){return"freewheel"===t.integration}function QE(t,n,i){if(void 0===i&&(i=kE.Rn),LE(t))return{sources:[bm()]};var e=Rw(t);if(e.sources=function(t,n,i){if(ym(t))return[UE(t,n,i)];if(V(t)&&ym(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(UE(s,n,i))}return e}return[bm()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=WE(s,n))&&(XE(s)||qE(s)||GE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!km(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=VE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Pw(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=RE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?IE(u.stereoMode):pE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Tm(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Rw(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==EE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Gm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=xw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var YE=function(){function t(t){this.$N=t}return t.prototype.KN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.$N.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.$N.indexOf(t.charAt(n))<<18|this.$N.indexOf(t.charAt(n+1))<<12|(s=this.$N.indexOf(t.charAt(n+2)))<<6|(u=this.$N.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.tD=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.$N.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.$N.charAt(e)+this.$N.charAt(r)+this.$N.charAt(s)+this.$N.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.sy=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.nD=new t(t.sy.KN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function jE(t){return"string"==typeof t}function ZE(t){return"number"==typeof t}var JE={}.toString;var $E,KE=Array.isArray||function(t){return"[object Array]"===JE.call(t)};function tR(t,n){return KE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}($E||($E={}));var nR,iR=l.keys($E).map(function(t){return $E[t]});function eR(t){return-1!==iR.indexOf(t)}function rR(t){try{var n=YE.nD.KN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=jE(t.key),e=jE(t.customer_id),r=ZE(t.generation_date),s=ZE(t.expiration_date),u=tR(t.domains_page,jE),o=tR(t.domains_source,jE),h=tR(t.sdks,eR),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function sR(){return nR||(nR={Mf:fe.href,iD:ce.parent&&ce.parent!==r,eD:hR()}),nR}var uR,oR=["http:","https:","ftp:","ws:","wss:"];function hR(){try{return ce.top.location.href}catch(t){return ce&&ce.document&&ce.document.referrer}}!function(t){t[t.rD=0]="rD",t[t.sD=1]="sD",t[t.uD=2]="uD"}(uR||(uR={}));var aR,cR=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.oD=t,this.hD=n,this.aD=i,this.cD=e,this.fD=r,this.vD=s,this.dD=u,this.lD=o};!function(t){t.sD="expired",t._D="invaliddomain",t.gD="invalidsource",t.Sl="error"}(aR||(aR={}));var fR=function(){function t(t,n,i){this.wD=void 0,this.mD=t,this.yD=n,this.gu=i,this.wD=wR(this.gu)}var n=t.prototype;return n.kD=function(t,n){var i=this;if(!LE(t)&&0!==n.aD.length&&!lR(n.aD)){var e=[];if(ym(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.pD(t,n)})){var r=aR.gD,s=yR.bD(r);throw new Tc(vR(r),s)}}},n.TD=function(n){return this.SD(n.dD)&&this.ED(n)?t.RD(n.cD)?uR.rD:uR.sD:uR.uD},n.SD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.ND(t)})},n.ND=function(t){return"ios"===function(t){switch(t){case $E.ANDROID:return e.g;case $E.ANDROIDTV:case $E.FIRETV:return e.R;case $E.IOS:return e.I;case $E.TVOS:return e.N;case $E.CHROMECAST:case $E.CHROMECASTCAF:return e.C;default:return e.l}}(t)},t.RD=function(t){var n=Number(new Date);return!!t&&n<=t},n.ED=function(t){return!(this.wD&&0!==t.hD.length&&!lR(t.hD))||!!(this.wD&&this.DD(t.hD)&&this.CD(t.hD))},n.DD=function(t){return _R(this.gu.Mf,t)},n.CD=function(t){if(!this.gu.iD)return!0;if(this.mD)return!0;var n=this.xD();return!!n&&_R(n,t)},n.xD=function(){if(this.gu.iD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.gu.eD?this.gu.eD:void 0}},n.pD=function(n,i){return!!t.OD(n,i.aD)},t.OD=function(t,n){return _R(this.PD(t),n)},t.PD=function(t){return q(t)?t:mm(t)&&t.src||""},t}();function vR(t){switch(t){case aR._D:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case aR.gD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case aR.sD:return n.ErrorCode.LICENSE_EXPIRED;case aR.Sl:return n.ErrorCode.LICENSE_ERROR}}function dR(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function lR(t){return t.some(function(t){return"*"===t})}function _R(t,n){var e=i.Ce(t);if(!gR(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(dR(e.hostname,s))return!0;if(dR(N_(t),s))return!0}return!1}function gR(t){return-1!==oR.indexOf(t.protocol)}function wR(t){var n=i.Ce(t.Mf);return gR(n)&&!dR(n.hostname,"localhost")&&!function(t){return dR(t.hostname,"theoplayer.doubleclick.net")}(n)}var mR,yR=function(){function t(){}return t.bD=function(t){return t===aR._D?this.BD:t===aR.gD?this.LD:t===aR.sD?this.MD:this.UD},t}();function kR(t){var n=[t.wb,t.FD,t.HD];switch(t.FD){case mR.zD:n.push(t.Ol);break;case mR.VD:n.push(t.v_),n.push(t.ts);break;case mR.WD:n.push(t.ts)}return n}yR.UD="The license for this player is invalid.",yR.MD="The usage license for this video player has expired.",yR.BD="The current domain is incompatible with the license for this player.",yR.LD="The provided video source is incompatible with the license for this player.",function(t){t[t.zD=1]="zD",t[t.VD=4]="VD",t[t.WD=5]="WD"}(mR||(mR={}));for(var pR=new Array(256),bR=0;bR<256;bR+=1)pR[bR]=(bR<16?"0":"")+bR.toString(16);function AR(){var t=zt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,e=(4294967296*_.random()|0)+t&1130486254,r=(4294967296*_.random()|0)+t&1284287105;return pR[255&n]+pR[n>>>8&255]+pR[n>>>16&255]+pR[n>>>24&255]+"-"+pR[255&i]+pR[i>>>8&255]+"-"+pR[i>>>16&15|64]+pR[i>>>24&255]+"-"+pR[63&e|128]+pR[e>>>8&255]+"-"+pR[e>>>16&255]+pR[e>>>24&255]+pR[255&r]+pR[r>>>8&255]+pR[r>>>16&255]+pR[r>>>24&255]}var TR=function(){function t(t){this.$N=void 0,this.$N=t}var n=t.prototype;return n.KN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.$N.indexOf(t.charAt(n))<<18|this.$N.indexOf(t.charAt(n+1))<<12|(s=this.$N.indexOf(t.charAt(n+2)))<<6|(u=this.$N.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.tD=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.$N.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.$N.charAt(i)+this.$N.charAt(e)+this.$N.charAt(r)+this.$N.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function SR(){return i.ce()}TR.sy=new TR(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),TR.nD=new TR(TR.sy.KN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var ER,RR="theoplayer-session-id";function IR(){if(!ER){var t=Hc.cs(RR);t?ER=t:(ER=AR(),Hc.ia(RR,ER))}return ER}var NR=/[^\x00-\x7E]/g;function DR(t){return"\\u"+fs(t.charCodeAt(0).toString(16),4,"0")}var CR=0,xR=1,OR=6e4;function PR(t){var n,i,e,r,s,u=(n=function(t){return[t.XD,t.nh,t.oD,t.Ik,t.qD,t.GD,t.QD.map(kR)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(NR,DR));return TR.nD.tD(u)}var BR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=TR.sy),void 0===r&&(r=CR),void 0===s&&(s=xR),this.YD=[],this.jD=null,this.ZD=0,this.JD="unknown",this.Qu=0,this.$D=function(){SR()-u.ZD>OR&&u.zi()},this.KD=function(){u.zi(!0)},this.yo=t,this.mA=n,this.tC=i,this.nC=e,this.iC=r,this.eC=s,ae.rC(this.KD),c(this.$D,OR)}var n=t.prototype;return n.sC=function(){return Boolean(this.qD)},n.uC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:if(i.sent.lD){i.next=5;break}return i.abrupt("return");case 5:return n={FD:mR.zD,HD:zt(),Ol:t},i.next=8,Er.awrap(this.hC(n));case 8:case"end":return i.stop()}},null,this,null,ze)},n.aC=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={FD:mR.VD,HD:zt(),v_:n,ts:t},e.next=3,Er.awrap(this.hC(i));case 3:case"end":return e.stop()}},null,this,null,ze)},n.cC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={FD:mR.WD,HD:zt(),ts:t},i.next=3,Er.awrap(this.hC(n));case 3:case"end":return i.stop()}},null,this,null,ze)},n.hC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.nC.tD(n.oD)){i.next=6;break}if(t.FD===mR.WD){i.next=6;break}return i.abrupt("return");case 6:if(t.FD===mR.zD?this.fC():this.sC()||this.fC(),t.wb=this.Qu++,this.YD.push(t),(e=t.FD)!==mR.zD&&e!==mR.WD){i.next=14;break}return i.next=12,Er.awrap(this.zi());case 12:i.next=19;break;case 14:if(!(this.YD.length>this.iC)){i.next=19;break}return i.next=17,Er.awrap(this.vC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,ze)},n.zi=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.YD.length>0)){n.next=6;break}return n.next=4,Er.awrap(this.vC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,ze)},n.dC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:return n=i.sent,i.abrupt("return",{XD:zt(),nh:IR(),oD:this.nC.tD(n.oD)||"dev",Ik:this.yo,qD:this.jD,GD:this.JD,QD:t});case 4:case"end":return i.stop()}},null,this,null,ze)},n.vC=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.YD.splice(0,this.eC),e.next=4,Er.awrap(this.dC(n));case 4:i=e.sent,t?this.ov(i):this.lC(i),this.ZD=SR();case 7:case"end":return e.stop()}},null,this,null,ze)},n.lC=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=PR(t),i=new p_({Mf:"https://license.theoplayer.com",yf:n,sv:!1,xf:qc.On,Cf:{"Content-Type":kT.jT},nv:4e3,tv:g_.POST}),r.prev=2,r.next=5,Er.awrap(this.mA.Bf(i));case 5:return e=r.sent,r.next=8,Er.awrap(e.gf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],ze)},n.ov=function(t){var n=PR(t);this.mA.ov({Mf:"https://license.theoplayer.com",yf:n,mf:kT.jT})},n.fC=function(){this.sC()&&this.zi(),this.jD=AR(),this.Qu=0},n.hv=function(){ae._C(this.KD),this.zi()},A(t,[{key:"QD",get:function(){return this.YD}},{key:"qD",get:function(){return this.jD}}]),t}();var LR=L.hn||L.Qt&&L.ln<13;function MR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var UR=function(){function t(t){this.aR=void 0,this.Sd=void 0,this.gC=void 0,this.aR=t}var n=t.prototype;return n.wC=function(t){if(!t||!t.drawImage)return!1;var n=this.aR.fg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.mC=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.aR,h=o.fg();if(!h)return!1;if(LR){this.gC||(this.gC=s.createElement("canvas"));var a=this.gC,c=a.getContext("2d"),f=o.p_,d=o.k_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&MR(c,f-1,0)&&(a.width=l,g=!0),d>0&&MR(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,e,r,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.wC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.mC(n,i,e,r,s,u)}}));var t}}]),t}(),FR=function(t){function n(n,i){var e;return(e=t.call(this,"yC")||this).Rw=n,e.hp=i,e}return S(n,t),n.prototype.Rd=function(){return new HR(this.Rw,this.hp)},n}(fw),HR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(ru),zR=function(t,n){this.pg=void 0,this.kC=void 0,this.pg=t,this.kC=n},VR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pC=void 0,e.bC=0,e.AC=0,e.TC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.AC=n.width,e.bC=n.height,e.kC(e.AC,e.bC)}},e.pC=new ce.ResizeObserver(e.TC),e.pC.observe(e.pg),e}return S(n,t),n.prototype.hv=function(){this.pC.disconnect()},A(n,[{key:"SC",get:function(){return this.bC}},{key:"EC",get:function(){return this.AC}}]),n}(zR),WR=0;function XR(t){var n=SR(),i=_.max(0,16-(n-WR)),e=h(function(){return t(n+i)},i);return WR=n+i,e}var qR,GR=a,QR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,YR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function jR(){return qR||(qR=ce&&ce.document&&ce.document.createElement("span")),qR}QR&&YR||(QR=XR,YR=GR),QR=QR.bind(t),YR=YR.bind(t);var ZR=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==ce&&"function"==typeof ce.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});ce.addEventListener("testPassiveEventSupport",Z,n),ce.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}}();var JR=Nr();function $R(t){return JR.has(t)||JR.set(t,function(t){var n=jR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<ZR.length;e++){var r=ZR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),JR.get(t)}function KR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function tI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[$R("transition")]="0s"}var nI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).RC=void 0,u.IC=0,u.AC=NaN,u.bC=NaN,u.NC=void 0,u.DC=void 0,u.xC=void 0,u.OC=void 0,u.BC=void 0,u.nl=function(){u.DC.style.width=1e5+"px",u.DC.style.height=1e5+"px",u.NC.scrollLeft=1e5,u.NC.scrollTop=1e5,u.xC.scrollLeft=1e5,u.xC.scrollTop=1e5,0===u.xC.scrollTop&&QR(u.nl)},u.LC=function(){var t=u.EC,n=u.SC;u.kC(t,n),u.AC=t,u.bC=n,u.nl(),u.IC=0},u.MC=function(){if(!u.IC){var t=u.EC,n=u.SC;t===u.AC&&n===u.bC||(u.IC=QR(u.LC))}},u.UC=function(){u.BC||(u.BC=h(u.FC,66))},u.FC=function(){u.BC=void 0,u.HC()},u.HC=function(){u.MC()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.RC=c,u.NC=s.createElement("div"),u.DC=s.createElement("div"),u.xC=s.createElement("div"),u.OC=s.createElement("div"),KR(u.NC),KR(u.xC),tI(u.DC),tI(a=u.OC),a.style.width="200%",a.style.height="200%",c.appendChild(u.NC),c.appendChild(u.xC),u.NC.appendChild(u.DC),u.xC.appendChild(u.OC),n.appendChild(c),u.NC.addEventListener("scroll",u.MC),u.xC.addEventListener("scroll",u.MC),r&&r.addEventListener("resize",u.UC),u.MC(),u}return S(n,t),n.prototype.hv=function(){YR(this.IC),this.IC=0,this.NC.removeEventListener("scroll",this.MC),this.xC.removeEventListener("scroll",this.MC),Ze(this.RC),r&&r.removeEventListener("resize",this.UC)},A(n,[{key:"SC",get:function(){return this.pg.getBoundingClientRect().height||this.bC||0}},{key:"EC",get:function(){return this.pg.getBoundingClientRect().width||this.AC||0}}]),n}(zR),iI=function(t){function n(n){var i;return(i=t.call(this)||this).pg=void 0,i.pC=void 0,i.TC=function(t,n){i.Fr(new FR(t,n))},i.pg=n,i}S(n,t);var i=n.prototype;return i.oh=function(t){this.pC||("function"==typeof ce.ResizeObserver?this.pC=new VR(this.pg,this.TC):this.pC=new nI(this.pg,this.TC,t))},i.hv=function(){this.Wr(),this.pC&&(this.pC.hv(),this.pC=void 0)},A(n,[{key:"SC",get:function(){return this.pC?this.pC.SC:0}},{key:"EC",get:function(){return this.pC?this.pC.EC:0}}]),n}(iu),eI=function(t){function n(){return t.call(this,LS.Fd)||this}return S(n,t),n}(ru);var rI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{zC:i[0],VC:i[1],WC:i[2],XC:i[3],qC:i[4],GC:i[5]}}}(),sI=function(t){function n(){return t.call(this,LS.lI)||this}return S(n,t),n}(ru),uI=function(t){function n(i){var e;return(e=t.call(this)||this).pg=void 0,e.gI=void 0,e._I=!1,e.QC=function(){return e.YI()},e.YC=function(){return e.ZI()},e.pg=i,e.gI=n.jC(i),s.addEventListener(rI.qC,e.QC),e.YI(),e}S(n,t),n.jC=function(t){return Boolean(rI&&s[rI.XC]&&rI.zC in t)};var i=n.prototype;return i.Zg=function(){var t=this.pg[rI.zC]();t&&t.then?t.then(this.QC,this.YC):(s.removeEventListener(rI.GC,this.YC),s.addEventListener(rI.GC,this.YC))},i.$g=function(){var t=s[rI.VC]();t&&t.then?t.then(this.QC,this.YC):(s.removeEventListener(rI.GC,this.YC),s.addEventListener(rI.GC,this.YC))},i.YI=function(){var t=this._I,n=this.pg===s[rI.WC];this._I=n,t!==n&&this.Fr(new eI)},i.ZI=function(){this.Fr(new HS)},i.hv=function(){this.Wr(),s.removeEventListener(rI.qC,this.QC),s.removeEventListener(rI.GC,this.YC)},n}(iu),oI=function(t){function n(i){var e;return(e=t.call(this)||this).pg=void 0,e.gI=void 0,e._I=!1,e.QC=function(){return e.YI()},e.pg=i,e.gI=n.jC(i),e.pg.addEventListener("webkitbeginfullscreen",e.QC),e.pg.addEventListener("webkitendfullscreen",e.QC),e.pg.addEventListener("webkitpresentationmodechanged",e.QC),e.YI(),e}S(n,t),n.jC=function(t){return L.Qt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Zg=function(){var t=this;this.pg.webkitSupportsPresentationMode&&this.pg.webkitSupportsPresentationMode("fullscreen")?L.Qt?requestAnimationFrame(function(){return t.pg.webkitSetPresentationMode("fullscreen")}):this.pg.webkitSetPresentationMode("fullscreen"):this.pg.webkitEnterFullscreen()},i.$g=function(){this.pg.webkitSupportsPresentationMode&&this.pg.webkitSupportsPresentationMode("inline")?this.pg.webkitSetPresentationMode("inline"):this.pg.webkitExitFullscreen()},i.YI=function(){var t,n=this._I;t=this.pg.webkitPresentationMode?"fullscreen"===this.pg.webkitPresentationMode:!!this.pg.webkitDisplayingFullscreen,this._I=t,n!==t&&this.Fr(new eI)},i.hv=function(){this.Wr(),this.pg.removeEventListener("webkitbeginfullscreen",this.QC),this.pg.removeEventListener("webkitendfullscreen",this.QC),this.pg.removeEventListener("webkitpresentationmodechanged",this.QC)},n}(iu),hI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZC=[],n.JC=void 0,n.XI=!1,n.YI=function(){var t=n.XI,i=n.$C();t!==i&&(n.XI=i,n.Fr(new eI))},n}S(n,t);var i=n.prototype;return i.Zg=function(){this.JC?this.JC.Zg():this.Fr(new HS)},i.$g=function(){for(var t=0,n=this.ZC;t<n.length;t++){var i=n[t];i._I&&i.$g()}},i.KC=function(t){this.JC=t},i.tx=function(t){this.ZC.push(t),t.Hr(LS.Fd,this.YI),t.Hr(LS.Sl,this.Ur),this.YI()},i.nx=function(t){Cs(this.ZC,t),t.Xr(LS.Fd,this.YI),t.Xr(LS.Sl,this.Ur)},i.$C=function(){for(var t=0,n=this.ZC;t<n.length;t++){if(n[t]._I)return!0}return!1},i.nl=function(){this.JC=void 0,this.XI=!1;for(var t=this.ZC.slice(),n=0;n<t.length;n++){var i=t[n];this.nx(i),i.hv()}this.YI()},i.hv=function(){this.Wr(),this.nl()},A(n,[{key:"gI",get:function(){return!!this.JC&&this.JC.gI}},{key:"_I",get:function(){return this.XI}}]),n}(iu),aI=function(t){function n(n,i){var e;return(e=t.call(this)||this).aR=void 0,e.ix=void 0,e.ex=void 0,e.sx=!1,e.ux=function(){return e.Zo()},e.YI=function(t){e.sx||e.Fr(t)},e.aR=n,e.ix=i,e.ex=zS,e.ox(),e.aR.Hr(Xc._a,e.ux),e.Zo(),e}S(n,t);var i=n.prototype;return i.Zg=function(){this.ix&&this.ex.Zg()},i.$g=function(){this.ex.$g()},i.ox=function(){this.ex.Hr(LS.Fd,this.YI),this.ex.Hr(LS.Sl,this.Ur)},i.hx=function(){this.ex.Xr(LS.Fd,this.YI),this.ex.Xr(LS.Sl,this.Ur)},i.Zo=function(){var t=this.ex,n=this.aR.vg();if(t!==n){this.sx=!0;var i=this._I,e=this.gI;i&&this.$g(),this.hx(),this.ex=n,this.ox(),i&&!this._I&&this.gI?this.Zg():this.$g(),this.sx=!1,e!==this.gI&&this.Fr(new sI),i!==this._I&&this.Fr(new eI)}},i.hv=function(){this.Wr(),this.hx(),this.aR.Xr(Xc._a,this.ux)},A(n,[{key:"gI",get:function(){return!!this.ix&&this.ex.gI}},{key:"_I",get:function(){return this.ex._I}}]),n}(iu);function cI(t){var n;return{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get useCredentials(){return t.sv},get type(){return _I(t.nr)},get subType(){return wI(t.ev)},get mediaType(){return yI(t.rv)},get responseType(){return vI(t.xf)}}}function fI(t){switch(t.toLowerCase()){case"arraybuffer":return qc.za;case"json":return qc.Va;case"stream":return qc.Wa;case"text":default:return qc.On}}function vI(t){return t}function dI(t){switch(t.toUpperCase()){case"POST":return g_.POST;case"PUT":return g_.PUT;case"DELETE":return g_.DELETE;case"HEAD":return g_.HEAD;case"OPTIONS":return g_.OPTIONS;case"GET":default:return g_.GET}}function lI(t){switch(t.toLowerCase()){case"manifest":return w_.Hf;case"segment":return w_.zf;case"content-protection":return w_.Vf;default:return w_.Ff}}function _I(t){return t}function gI(t){switch(t.toLowerCase()){case"initialization-segment":return m_.Wf;case"fairplay-license":return m_.Xf;case"fairplay-certificate":return m_.qf;case"widevine-license":return m_.Gf;case"widevine-certificate":return m_.Qf;case"playready-license":return m_.Yf;case"clearkey-license":return m_.jf;case"aes128-key":return m_.Zf;default:return m_.Ff}}function wI(t){return t}function mI(t){switch(t.toLowerCase()){case"audio":return y_.Jf;case"video":return y_.$f;case"text":return y_.On;case"image":return y_.Kf;case"":default:return y_.Ff}}function yI(t){return t}var kI=function(){function t(t,n){this.ax=new Ro,this.vx=[],this.Sd=void 0,this.lx=!1,this.kv=void 0,this._x=0,this.gx=t,this.wx=n}var n=t.prototype;return n.wk=function(){this.lx=!0,this.ax.Is(null)},n.mx=function(){this.ax.Ns(new jl(this.vx))},n.yx=function(t){if(!this.kx)throw new d("Cannot respond more than once");if(!W(t))throw new d("Expected valid response");this.kv=this.bx(t),this.wk()},n.Ax=function(){try{var t=this.wx(this.Ed);t?this.Tx(t):this.Sx||this.Ex||this.wk()}catch(t){this.vx.push(t),this.mx()}},n.Tx=function(t){if(this.Ex)throw new v("Request has been redirected or a response already exists");if(Q(t))this.Rx(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Ro;try{var i=t(function(t){t?n.Ns(t):n.Is(void 0)});Q(i)&&n.Is(i)}catch(t){n.Ns(t)}this.Rx(n.Ss)}},n.Rx=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this._x++,n.next=4,Er.awrap(t);case 4:this._x--,this.Sx||this.Ex||(this.vx.length?this.mx():this.wk()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this._x--,this.vx.push(n.t0),this.Sx||this.Ex||this.mx();case 13:case"end":return n.stop()}},null,this,[[0,8]],ze)},A(t,[{key:"Ix",get:function(){return this.ax.Ss}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Nx()),this.Sd}},{key:"Ex",get:function(){return this.lx}},{key:"kx",get:function(){return!this.lx}},{key:"Sx",get:function(){return this._x>0}},{key:"pv",get:function(){return this.kv}}]),t}(),pI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Dx=void 0,r.Dx=e,r.Ax(),r}S(n,t),n.Cx=function(t,n,i){var e=void 0===t.body?i:t.body;return new k_({ai:e,Bf:n.Bf,xf:n.Bf.xf,Cf:t.headers,Df:t.status,Of:t.statusText,Lf:t.url,Pf:!0},n)};var i=n.prototype;return i.Nx=function(){return i=cI((t=this).Bf),{get closed(){return!t.kx},get request(){return i},get url(){return t.Mf},get status(){return t.Df},get statusText(){return t.Of},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},respondWith:function(n){return t.yx(n)},waitUntil:function(n){return t.Tx(n)}};var t,n,i},i.bx=function(t){return n.Cx(t,this.gx,this.Dx)},A(n,[{key:"yf",get:function(){return this.Dx}},{key:"Cf",get:function(){return this.gx.Cf}},{key:"Bf",get:function(){return this.gx.Bf}},{key:"pv",get:function(){return this.kv}},{key:"Df",get:function(){return this.gx.Df}},{key:"Of",get:function(){return this.gx.Of}},{key:"Mf",get:function(){return this.gx.Lf}}]),n}(kI),bI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xx=void 0,r.Ox=void 0,r.Ox=e,r.Ax(),r}S(n,t);var i=n.prototype;return i.Nx=function(){return t=this,{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get closed(){return!t.kx},get useCredentials(){return t.sv},get type(){return _I(t.nr)},get subType(){return wI(t.ev)},get mediaType(){return yI(t.rv)},get responseType(){return vI(t.xf)},redirect:function(n){return t.Px(n)},respondWith:function(n){return t.yx(n)},waitUntil:function(n){return t.Tx(n)}};var t,n},i.bx=function(t){var n=this.gx.yf,i=new k_({ai:n,Cf:{},Bf:this.gx,Lf:this.gx.Mf,xf:this.gx.xf,Df:200,Of:"OK"});return pI.Cx(t,i,n)},i.Px=function(t){if(!this.kx)throw new d("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.xx=function(t,n){return new p_({Mf:void 0===t.url?n.Mf:t.url,tv:void 0!==t.method?dI(t.method):void 0,Cf:t.headers,yf:t.body,sv:t.useCredentials,nr:void 0!==t.type?lI(t.type):void 0,ev:void 0!==t.subType?gI(t.subType):void 0,rv:void 0!==t.mediaType?mI(t.mediaType):void 0,xf:void 0!==t.responseType?fI(t.responseType):void 0},n)}(n,this.gx),this.wk()},A(n,[{key:"yf",get:function(){return this.gx.yf}},{key:"kx",get:function(){return this.Ox&&!this.lx}},{key:"Cf",get:function(){return this.gx.Cf}},{key:"tv",get:function(){return this.gx.tv}},{key:"Bx",get:function(){return this.xx}},{key:"pv",get:function(){return this.kv}},{key:"xf",get:function(){return this.gx.xf}},{key:"nv",get:function(){return this.gx.nv}},{key:"Pr",get:function(){return this.gx.Pr}},{key:"nr",get:function(){return this.gx.nr}},{key:"ev",get:function(){return this.gx.ev}},{key:"rv",get:function(){return this.gx.rv}},{key:"Mf",get:function(){return this.gx.Mf}},{key:"sv",get:function(){return this.gx.sv}},{key:"uv",get:function(){return this.gx.uv}}]),n}(kI);var AI,TI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new SI(n);return(e=t.call(this,r,i)||this).Lx=void 0,e.Lx=r,e}S(n,t);var i=n.prototype;return i.Mx=function(t){this.Lx.Mx(t)},i.Ux=function(t){this.Lx.Ux(t)},i.Fx=function(t){this.Lx.Fx(t)},i.Hx=function(t){this.Lx.Hx(t)},i.zx=function(t){this.Lx.zx(t)},n}(A_),SI=function(){function t(t){this.av=void 0,this.Vx=[],this.Wx=[],this.av=t}var n=t.prototype;return n.Bf=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.Xx(t,t.Pr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof D_)){i.next=12;break}return i.next=11,Er.awrap(this.qx(i.t0,t.Pr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Er.awrap(this.Gx(n,t.Pr));case 15:if(!__(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new x_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],ze)},n.ov=function(t){return this.av.ov(t)},n.Xx=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:Vs(n),i=t,r=0,s=this.Vx.slice();case 3:if(!(r<s.length)){h.next=21;break}if(u=s[r],Vs(n),(o=new bI(i,u,!e)).Ex){h.next=17;break}return h.prev=8,h.next=11,Er.awrap(o.Ix);case 11:h.next=17;break;case 13:return h.prev=13,h.t0=h.catch(8),h.abrupt("continue",18);case 17:o.Bx&&!e?i=o.Bx:o.pv&&!e&&(e=o.pv);case 18:r++,h.next=3;break;case 21:if(!e){h.next=23;break}return h.abrupt("return",e);case 23:return h.abrupt("return",this.av.Bf(i));case 24:case"end":return h.stop()}},null,this,[[8,13]],ze)},n.qx=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof x_?t.pv:new k_({ai:null,Bf:t.Bf,Df:0,Of:""}),r.next=3,Er.awrap(this.Gx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!__(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new x_(e);case 13:case"end":return r.stop()}},null,this,null,ze)},n.Gx=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=t,e=0,r=this.Wx.slice();case 2:if(!(e<r.length)){h.next=23;break}return s=r[e],Vs(n),h.next=7,Er.awrap(ze.resolve(i.ks().ai(n)));case 7:if(u=h.sent,(o=new pI(i,s,u)).Ex){h.next=19;break}return h.prev=10,h.next=13,Er.awrap(o.Ix);case 13:h.next=19;break;case 15:return h.prev=15,h.t0=h.catch(10),h.abrupt("continue",20);case 19:i=o.pv||i;case 20:e++,h.next=2;break;case 23:return h.abrupt("return",i);case 24:case"end":return h.stop()}},null,this,[[10,15]],ze)},n.Mx=function(t){this.Vx.unshift(t)},n.Ux=function(t){this.Vx.push(t)},n.Fx=function(t){Cs(this.Vx,t)},n.Hx=function(t){this.Wx.unshift(t)},n.zx=function(t){Cs(this.Wx,t)},n.hv=function(){this.av.hv(),Ps(this.Vx),Ps(this.Wx)},t}(),EI=function(){function t(t){this.Sd=void 0,this.mA=t}var n=t.prototype;return n.Mx=function(t){this.mA.Mx(t)},n.Fx=function(t){this.mA.Fx(t)},n.Hx=function(t){this.mA.Hx(t)},n.zx=function(t){this.mA.zx(t)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{addRequestInterceptor:function(n){t.Mx(n)},removeRequestInterceptor:function(n){t.Fx(n)},addResponseInterceptor:function(n){t.Hx(n)},removeResponseInterceptor:function(n){t.zx(n)}})),this.Sd}}]),t}(),RI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Sd=void 0,r.Qx=function(t){r.Fr(t)},r.Yx=function(t){r.Fr(t)},r.jx=n,r.mA=i,r.EI=e,r.jx.Hr(Xc.pa,r.Qx),r.jx.Hr(Xc.ka,r.Yx),r}S(n,t);var i=n.prototype;return i.Zx=function(t){this.EI.Zx(t)},i.Mx=function(t){this.mA.Mx(t)},i.Fx=function(t){this.mA.Fx(t)},i.Hx=function(t){this.mA.Hx(t)},i.zx=function(t){this.mA.zx(t)},i.hv=function(){this.Wr(),this.jx.Xr(Xc.pa,this.Qx),this.jx.Xr(Xc.ka,this.Yx)},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get online(){return t.Ng},get estimator(){return n=t.Jx,{get bandwidth(){return n.xS},get roundTripTime(){return n.OS}};var n},setEstimator:function(n){t.Zx(function(t){if(t)return{get xS(){return Ow(t.bandwidth)},get OS(){return Ow(t.roundTripTime)},CS:function(n){return function(t){if(t)return{$x:function(n){t.markRequestStart(n)},Kx:function(n){t.markResponseStart(n)},tO:function(n,i){t.markResponseData(n,i)},nO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(cI(n)))}}}(n))},addRequestInterceptor:function(n){t.Mx(n)},removeRequestInterceptor:function(n){t.Fx(n)},addResponseInterceptor:function(n){t.Hx(n)},removeResponseInterceptor:function(n){t.zx(n)},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}})),this.Sd}},{key:"Ng",get:function(){return this.jx.Ng}},{key:"Jx",get:function(){return this.EI.Jx}}]),n}(iu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(AI||(AI={}));var II=30,NI={type:AI.BANDWIDTH},DI=20,CI=60;function xI(t){var n,i,e,r=Rw(NI);return q(t)?r.type=OI(t):W(t)&&function(t){switch(t){case AI.PERFORMANCE:case AI.QUALITY:case AI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=OI(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=xw(n.bitrate),m(e)||(i.bitrate=e),i)),r}function OI(t){switch(t){case"bandwidth":return AI.BANDWIDTH;case"performance":return AI.PERFORMANCE;case"quality":return AI.QUALITY}}var PI=function(t){function n(n){var i;return(i=t.call(this,"eO")||this).iO=n,i}return S(n,t),n}(ru),BI=function(t){function n(n){var i;return(i=t.call(this,"sO")||this).rO=n,i}return S(n,t),n}(ru),LI=function(t){function n(n){var i;return(i=t.call(this,"oO")||this).uO=n,i}return S(n,t),n}(ru),MI=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Sd=(i=Yt(n),{get strategy(){return{metadata:(t=i.rO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.rO=xI(t)},get targetBuffer(){return i.iO},set targetBuffer(t){var n=xw(t);m(n)||(i.iO=n>CI?CI:n)},get bufferLookbackWindow(){return i.uO},set bufferLookbackWindow(t){var n=xw(t);m(n)||(i.uO=n<=0?II:n)}}),n.hO=NI,n.aO=DI,n.cO=II,n.fO=void 0,n.vO=void 0,n}S(n,t);var i=n.prototype;return i.dO=function(t){this.vO=t},i.Zx=function(t){this.fO=t},A(n,[{key:"lO",get:function(){switch(this.hO.type){case AI.PERFORMANCE:return 0;case AI.QUALITY:return 1/0;case AI.BANDWIDTH:return this.hO.metadata&&void 0!==this.hO.metadata.bitrate?this.hO.metadata.bitrate:8*em.ql();default:return 8*em.ql()}}},{key:"Ed",get:function(){return this.Sd}},{key:"rO",get:function(){return this.hO},set:function(t){this.hO=t,this.Fr(new BI(t))}},{key:"iO",get:function(){return this.aO},set:function(t){this.aO=t,this.Fr(new PI(t))}},{key:"uO",get:function(){return this.cO},set:function(t){this.cO=t,this.Fr(new LI(t))}},{key:"Jx",get:function(){var t;return null!=(t=this.fO)?t:this.vO.YE}}]),n}(iu),UI=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new FI},n}(fw),FI=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(ru),HI=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this)._O=void 0,r.YD=void 0,r.gO=function(t){vw(t)&&js(function(){r.Fr(t.Ed)})},r._O=n,r.YD=i;for(var s=0,u=r.YD;s<u.length;s++){var o=u[s];r._O.Hr(o,r.gO)}return r}return S(n,t),n.prototype.hv=function(){this.Wr();for(var t=0,n=this.YD;t<n.length;t++){var i=n[t];this._O.Xr(i,this.gO)}},n}(iu),zI=function(t){function n(n,i){var e;return(e=t.call(this,i)||this)._O=void 0,e.gO=function(t){vw(t)&&js(function(){e.Fr(t.Ed)})},e._O=n,e._O.Vr(e.gO),e}return S(n,t),n.prototype.hv=function(){this.Wr(),this._O.Qr(this.gO)},n}(Kw),VI=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(zI);var WI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fw=0,n.vw=1/0,n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.nl=function(){0===this.fw&&this.vw===1/0||(this.fw=0,this.vw=1/0,this.Fr(new UI))},i.wO=function(){return new US([this.tw,this.nw],[!0,!0])},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){if(this.nw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.fw!==t&&(this.fw=t,this.Fr(new UI))}},{key:"nw",get:function(){return this.vw},set:function(t){if(t<=this.tw)throw new v("End time of a clip should be larger than the start time.");this.vw!==t&&(this.vw=t,this.Fr(new UI))}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get startTime(){return t.tw},set startTime(n){t.tw=n},get endTime(){return t.nw},set endTime(n){t.nw=n},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new zI(t=this,i),i)),this.Sd}}]),n}(Kw),XI=function(t){function n(n){var i;return(i=t.call(this)||this).mO=function(t){i.yO(t)||i.Fr(t)},i.kO=n,i.kO.Vr(i.mO),i}S(n,t);var i=n.prototype;return i.pO=function(){return this.kO.Q_},i.dg=function(){return this.kO.dg()},i.bO=function(){return this.kO.yg},i.AO=function(){return this.kO.wg},i.TO=function(){return this.kO.kg},i.SO=function(t){this.kO.kg=t},i.EO=function(){return this.kO.v_},i.RO=function(t){this.kO.v_=t},i.IO=function(){return this.kO.d_},i.DO=function(){return this.kO.pg},i.CO=function(){return this.kO.l_},i.xO=function(){return this.kO.ts},i.OO=function(){return this.kO.__},i.PO=function(){return this.kO.bg},i.BO=function(){return this.kO.g_},i.LO=function(t){this.kO.g_=t},i.MO=function(){return this.kO.Ng},i.UO=function(){return this.kO.w_},i.FO=function(){return this.kO.m_},i.HO=function(t){this.kO.m_=t},i.zO=function(){return this.kO.Dg},i.VO=function(){return this.kO.Cg},i.WO=function(t){this.kO.Cg=t},i.XO=function(){return this.kO.Dl},i.qO=function(){return this.kO.xg},i.GO=function(){return this.kO.y_},i.ng=function(){return this.kO.ng()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(this.kO.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,ze)},i.QO=function(){return this.kO.j_},i.YO=function(){return this.kO.k_},i.jO=function(){return this.kO.Y_},i.ZO=function(){return this.kO.p_},i.JO=function(){return this.kO.b_},i.$O=function(t){this.kO.b_=t},i.vg=function(){return this.kO.vg()},i.fg=function(){return this.kO.fg()},i.og=function(t){this.kO.og(t)},i.hg=function(){this.kO.hg()},i.cg=function(){this.kO.cg()},i.ug=function(){this.kO.ug()},i.K_=function(){this.kO.K_()},i.J_=function(){this.kO.J_()},i.ag=function(){this.kO.ag()},i.tg=function(){return this.kO.tg()},i.eg=function(){return this.kO.eg()},i.rg=function(){this.kO.rg()},i.sg=function(){this.kO.sg()},i.nl=function(){return this.kO.nl()},i.hv=function(){return this.kO.hv()},i.mg=function(){this.kO.mg()},i.lg=function(t){return this.kO.lg(t)},i.yO=function(t){return!1},A(n,[{key:"Q_",get:function(){return this.pO()}},{key:"yg",get:function(){return this.bO()}},{key:"kg",get:function(){return this.TO()},set:function(t){this.SO(t)}},{key:"wg",get:function(){return this.AO()}},{key:"v_",get:function(){return this.EO()},set:function(t){this.RO(t)}},{key:"d_",get:function(){return this.IO()}},{key:"pg",get:function(){return this.DO()}},{key:"l_",get:function(){return this.CO()}},{key:"ts",get:function(){return this.xO()}},{key:"__",get:function(){return this.OO()}},{key:"Z_",get:function(){return this.kO.Z_}},{key:"bg",get:function(){return this.PO()}},{key:"B_",get:function(){return this.kO.B_}},{key:"g_",get:function(){return this.BO()},set:function(t){this.LO(t)}},{key:"Ng",get:function(){return this.MO()}},{key:"w_",get:function(){return this.UO()}},{key:"m_",get:function(){return this.FO()},set:function(t){this.HO(t)}},{key:"Dg",get:function(){return this.zO()}},{key:"Cg",get:function(){return this.VO()},set:function(t){this.WO(t)}},{key:"Dl",get:function(){return this.XO()}},{key:"xg",get:function(){return this.qO()}},{key:"y_",get:function(){return this.GO()}},{key:"j_",get:function(){return this.QO()}},{key:"k_",get:function(){return this.YO()}},{key:"Y_",get:function(){return this.jO()}},{key:"p_",get:function(){return this.ZO()}},{key:"b_",get:function(){return this.JO()},set:function(t){this.$O(t)}},{key:"Og",get:function(){return this.kO.Og}},{key:"Pg",get:function(){return this.kO.Pg},set:function(t){this.kO.Pg=t}}]),n}(tm),qI=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).KO=void 0,r.tP=!1,r.nP=void 0,r.iP=!1,r.eP=function(){r.rP(),r.sP()},r.cE=function(){r.uP(),r.sP(),r.oP&&r.v_>=r.KO.nw-n.hP&&!r.l_&&(r.nP=QR(r.cE))},r.aP=function(){r.iP=!0},r.cP=function(){r.iP&&(r.iP=!1,r.sP())},r.KO=e,r.KO.Hr("Hd",r.eP),r.kO.Hr("timeupdate",r.cE),r}S(n,t);var i=n.prototype;return i.RO=function(n){var i=this.KO.wO().FR(n);t.prototype.RO.call(this,i),this.sP()},i.CO=function(){return t.prototype.CO.call(this)||this.tP},i.qO=function(){return US.cI(t.prototype.qO.call(this)).WR(this.KO.wO()).XE()},i.J_=function(){this.CO()?this.RO(this.fP.start(0)):this.rP(),t.prototype.J_.call(this),this.sP()},i.ig=function(n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),this.tP=!1,this.KO.nl(),e.next=5,Er.awrap(t.prototype.ig.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,ze)},i.hv=function(){return this.KO.Xr("Hd",this.eP),this.kO.Xr("timeupdate",this.cE),this.uP(),t.prototype.hv.call(this)},i.yO=function(n){switch(n.type){case"seeking":return this.Fr(n),this.aP(),!0;case"seeked":case"emptied":return this.Fr(n),this.cP(),!0;case"ended":if(this.oP)return!0}return t.prototype.yO.call(this,n)},i.uP=function(){this.nP&&(YR(this.nP),this.nP=void 0)},i.sP=function(){var t=this.v_,i=this.oP&&t>=this.KO.nw-n.Dm;this.tP&&!i?(this.tP=!1,this.w_&&this.J_()):this.tP||!i||this.y_||this.iP||(this.tP=!0,this.Fr(new Mm(t)),this.K_())},i.rP=function(){if(this.d_!==1/0){var t=this.fP,i=US.cI(t).FR(this.v_);Lt(this.v_,i,n.Dm)||this.RO(i)}},A(n,[{key:"fP",get:function(){return this.qO().length?this.qO():this.KO.wO().XE()}},{key:"oP",get:function(){return this.KO.nw<this.d_}}]),n}(XI);qI.hP=1,qI.Dm=.001;var GI=function(){function t(){this.vP=void 0,this.vP=!1}return A(t,[{key:"dP",get:function(){return this.vP},set:function(t){this.vP=t}}]),t}(),QI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).vP=void 0,e.lP=!1,e._P=!1,e.vP=i,e}S(n,t);var i=n.prototype;return i.CO=function(){return!this.vP.dP&&t.prototype.CO.call(this)},i.K_=function(){this._P=!0,t.prototype.K_.call(this)},i.J_=function(){this._P=!1,t.prototype.J_.call(this)},i.yO=function(n){if(this.vP.dP)switch(n.type){case"ended":return this.v_=0,this._P||(this.y_?this.lP=!0:this.J_()),!0;case"seeked":this.lP&&(this.lP=!1,this.J_());break;case"pause":if(this.lP||t.prototype.CO.call(this))return!0}return t.prototype.yO.call(this,n)},n}(XI);var YI=function(){function t(t){var n;this.Sd=(n=this,{get currentBandwidthEstimate(){return n.Eg},get corruptedVideoFrames(){return n.Tg},get droppedVideoFrames(){return n.Ag},get totalBytesLoaded(){return n.Rg},get bufferedSegments(){return n.Ig}}),this.gR=t}return A(t,[{key:"Ed",get:function(){return this.Sd}},{key:"Tg",get:function(){return this.gR.gP.B_.Tg}},{key:"Eg",get:function(){return this.gR.gP.B_.Eg}},{key:"Ag",get:function(){return this.gR.gP.B_.Ag}},{key:"wP",get:function(){throw new v("Not implemented")}},{key:"mP",get:function(){throw new v("Not implemented")}},{key:"Rg",get:function(){return this.gR.gP.B_.Rg}},{key:"Sg",get:function(){return this.gR.gP.B_.Sg}},{key:"Ig",get:function(){return this.gR.gP.B_.Ig}}]),t}();function jI(t){if(!t||!ir(t))return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Ag:n.droppedVideoFrames,Tg:n.corruptedVideoFrames||0,Sg:n.totalVideoFrames}}return{Ag:t.webkitDroppedFrameCount||0,Tg:0,Sg:t.webkitDecodedFrameCount||0}}var ZI=function(t){function n(){return t.call(this,"yP")||this}return S(n,t),n.prototype.Rd=function(){return new JI},n}(fw),JI=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(ru);var $I=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).kP=[],n.Sd=void 0,n.pP=function(){return n.Fr(new ZI)},n}S(n,t);var i=n.prototype;return i.bP=function(t){this.kP.push(t),t.Hr("statechange",this.pP)},i.hv=function(){var t=this;this.kP.forEach(function(n){n.Xr("statechange",t.pP)}),Ps(this.kP)},A(n,[{key:"AP",get:function(){return this.kP.some(function(t){return t.AP})}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get casting(){return t.AP},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new VI(t=this,i),i)),this.Sd}}]),n}(tm),KI=function(){function t(){}return t.TP=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new p_({Mf:t,xf:qc.On,tv:g_.GET}),s.next=4,Er.awrap(n.Bf(i));case 4:return e=s.sent,s.next=7,Er.awrap(e.ai());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),zs(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],ze)},t.SP=function(t){try{var i=rR(t);return new cR(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Tc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.EP=function(t){void 0===t&&(t=TR.sy),i.me("The baked-in license is used. Please update the configuration with your license.");var n=t.KN(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.KN(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.KN(n)}),s=Number(new Date(Number(t.KN("COD|aHpHa:p3Ceo3Co\"\""))));return new cR(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new cR(t.oD,t.hD,t.aD,864e13,t.fD,Date.now(),t.dD,t.lD)},t}(),tN=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=nN.wh()?new nN:new Fc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t.RP=function(n){var i=t.cs(n);if(void 0!==i)return w(i)},t.IP=function(n){return"true"===t.cs(n)},t}();tN.Rn=void 0;var nN=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ds=function(n){t.localStorage.removeItem(n)},e.na=function(){t.localStorage.clear()},e.cs=function(n){return t.localStorage[n]},e.ia=function(n,i){t.localStorage[n]=i},i}(tN),iN=_.floor(14399999*_.random()-72e5),eN=function(){function t(t,n,i,e,r,s){this.wD=void 0,this.mA=t,this.NP=n,this.DP=i,this.tC=e,this.CP=r,this.gu=s,this.wD=wR(s)}var i=t.prototype;return i.xP=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.OP(this.CP.license,this.CP.licenseUrl));case 2:t=n.sent,this.tC.PP(t);case 4:case"end":return n.stop()}},null,this,null,ze)},i.OP=function(t,i){var e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=KI.SP(t):e||(r=KI.EP()),e||(e="https://validate.theoplayer.com/1/"+r.oD),s=this.BP(),!r){v.next=14;break}if((u=this.NP.TD(r))!==uR.rD){v.next=14;break}if(!this.LP(r.cD)||!this.LP(null==s?void 0:s.cD)){v.next=13;break}return v.next=10,Er.awrap(this.MP(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.NP.TD(s)!==uR.rD){v.next=24;break}if(!this.LP(null==s?void 0:s.cD)){v.next=23;break}return v.next=20,Er.awrap(this.MP(e));case 20:if(!(h=v.sent)){v.next=23;break}return v.abrupt("return",h);case 23:return v.abrupt("return",s);case 24:tN.ds("THEOplayer.license");case 25:return v.next=27,Er.awrap(KI.TP(e,this.mA));case 27:if(!(a=v.sent)){v.next=37;break}if(c=KI.SP(a),this.NP.TD(c)!==uR.rD){v.next=34;break}return tN.ia("THEOplayer.license",a),v.abrupt("return",c);case 34:tN.ds("THEOplayer.license"),v.next=39;break;case 37:if(this.wD||!r||u!==uR.sD||e!=="https://validate.theoplayer.com/1/"+r.oD){v.next=39;break}return v.abrupt("return",KI.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.UP(null!=(f=r)?f:c,new Tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,ze)},i.kD=function(t){var n,i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Er.awrap(this.tC.oC());case 2:if(n=h.sent,!this.LP(n.cD)){h.next=9;break}return e=null!=(i=this.CP.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.oD,h.next=7,Er.awrap(this.MP(e));case 7:(r=h.sent)&&(this.tC.PP(r),n=r);case 9:if(h.prev=9,(s=this.NP.TD(n))!==uR.uD){h.next=16;break}throw u=aR._D,new Tc(vR(u),yR.bD(u));case 16:if(s!==uR.sD){h.next=19;break}throw o=aR.sD,new Tc(vR(o),yR.bD(o));case 19:this.NP.kD(t,n),h.next=25;break;case 22:h.prev=22,h.t0=h.catch(9),this.FP(h.t0);case 25:case"end":return h.stop()}},null,this,[[9,22]],ze)},i.MP=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er.awrap(KI.TP(t,this.mA));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=KI.SP(n),this.NP.TD(i)!==uR.rD){e.next=11;break}return tN.ia("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],ze)},i.LP=function(t){return!t||Number(new Date)+2592e5+iN>=t},i.BP=function(){var t=tN.cs("THEOplayer.license");if(t)return KI.SP(t)},i.UP=function(t,n){this.tC.PP(t),this.FP(n)},i.FP=function(t){throw ot(t.message),this.DP.cC(t.message),t},t}(),rN=function(){function t(){this.HP=void 0,this.zP=new Ro}var n=t.prototype;return n.PP=function(t){this.HP=t,this.zP.Is()},n.oC=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HP){t.next=2;break}return t.abrupt("return",ze.resolve(this.HP));case 2:return t.next=4,Er.awrap(this.zP.Ss);case 4:return t.abrupt("return",this.HP);case 5:case"end":return t.stop()}},null,this,null,ze)},A(t,[{key:"VP",get:function(){return this.HP}}]),t}(),sN=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new uN},n}(fw),uN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(ru);function oN(t){var n,i={get fontFamily(){return t.WP},set fontFamily(n){t.WP=n},get fontColor(){return t.XP},set fontColor(n){t.XP=n},get fontSize(){return t.qP},set fontSize(n){t.qP=n},get backgroundColor(){return t.GP},set backgroundColor(n){t.GP=n},get windowColor(){return t.QP},set windowColor(n){t.QP=n},get edgeStyle(){return t.YP},set edgeStyle(n){t.YP=n},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(i),t.Hr(["Hd"],function(t){return n.Fr(t.Ed)}),i}var hN,aN,cN={WP:void 0,XP:void 0,qP:void 0,GP:void 0,QP:void 0,YP:void 0,jP:void 0},fN="THEOplayer.textTrackStyle.",vN=function(t){function n(){var i;return(i=t.call(this)||this).ZP=void 0,i.Sd=void 0,i.ZP=n.JP(),i}return S(n,t),n.prototype.Zo=function(t){this.ZP=Rr({},this.ZP,t),n.$P(this.ZP),this.Fr(new sN)},n.JP=function(){var t=Rr({},cN);return t.WP=tN.cs(fN+"fontFamily")||t.WP,t.XP=tN.cs(fN+"fontColor")||t.XP,t.qP=tN.cs(fN+"fontSize")||t.qP,t.GP=tN.cs(fN+"backgroundColor")||t.GP,t.QP=tN.cs(fN+"windowColor")||t.QP,t.YP=tN.cs(fN+"edgeStyle")||t.YP,t},n.$P=function(t){tN.ia(fN+"fontFamily",t.WP||""),tN.ia(fN+"fontColor",t.XP||""),tN.ia(fN+"fontSize",t.qP||""),tN.ia(fN+"backgroundColor",t.GP||""),tN.ia(fN+"windowColor",t.QP||""),tN.ia(fN+"edgeStyle",t.YP||"")},A(n,[{key:"KP",get:function(){return this.ZP}},{key:"WP",get:function(){return this.ZP.WP},set:function(t){this.Zo({WP:t})}},{key:"XP",get:function(){return this.ZP.XP},set:function(t){this.Zo({XP:t})}},{key:"qP",get:function(){return this.ZP.qP},set:function(t){this.Zo({qP:t})}},{key:"GP",get:function(){return this.ZP.GP},set:function(t){this.Zo({GP:t})}},{key:"QP",get:function(){return this.ZP.QP},set:function(t){this.Zo({QP:t})}},{key:"YP",get:function(){return this.ZP.YP},set:function(t){this.Zo({YP:t})}},{key:"jP",get:function(){return this.ZP.jP}},{key:"Ed",get:function(){return this.Sd||(this.Sd=oN(this)),this.Sd}}]),n}(iu),dN=function(t){function n(n,e){var r;(r=t.call(this)||this).tB=void 0,r.rh=void 0,r.gP=void 0,r.nB=void 0,r.kd=void 0,r.KO=void 0,r.vP=void 0,r.iB=void 0,r.eB=void 0,r.EI=void 0,r.NP=void 0,r.rB=void 0,r.sB=void 0,r.SI=void 0,r.uB=!1,r.H_=!1,r.Hg=void 0,r.oB=!1,r.hB=void 0,r.aB=void 0,r.cB=void 0,r.fB=void 0,r.vB=void 0,r.dB=function(t){if(!r.oB){r.oB=!0;var n=r.tB,i=gy(t);r.gP.fl=new XS(r.pg,i,t),Zs(n.hv())}},r.lB=function(t){r.Fr(t.Ed)},r._B=function(t){t.type!==Xc.pa&&t.type!==Xc.ka&&r.Fr(t)};var s=xw(e.uid);m(s)?r.Hg=Sy++:r.Hg=s,r.rh=e;var u=i.kd,o=new rN;r.nB=new BR("3.6.1",u,o),r.kd=new TI(u,e.allowMixedContent),r.EI=new MI,r.NP=new fR(e.isEmbeddable,"3.6.1",sR()),r.vB=new eN(u,r.NP,r.nB,o,e,sR()),r.vB.xP().catch(r.dB),r.rB=new iI(n),r.rB.Hr("yC",r.lB),r.SI=new vN,r.KO=new WI,r.vP=new GI;var h=new WS(n,e,r.kd,r.EI,r.rB,r.SI);r.EI.dO(h);var a=h;a=new qI(a,r.gB),a=new QI(a,r.dP),r.tB=a,r.gP=new vy(r.tB),r.gP.Vr(r._B),r.fB=new YI(Yt(r)),r.aB=new RI(r.gP,r.kd,r.EI),r.iB=new UR(Yt(r)),r.sB=new aI(r.gP,e.allowNativeFullscreen),r.eB=new aE(r.sB),r.rB.oh();var c=new oe(r.rB,r.SI,1,[my.$f]);return r.hB=new he(c),r.cB=new $I,r}S(n,t);var e=n.prototype;return e.LO=function(t){this.gP.g_=t,t||this.w_||this.ug()},e.$O=function(t){this.gP.b_=t},e.wB=function(){jm(this,cE,this)},e.J_=function(){this.gP.J_()},e.K_=function(){this.gP.K_()},e.ig=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.vB.kD(t).catch(this.dB),i=lN(t),e.next=5,Er.awrap(this.gP.ig(i,n));case 5:case"end":return e.stop()}},null,this,null,ze)},e.ug=function(){this.H_||(this.gP.ug(),this.hB.ug(),this.H_=!0)},e._I=function(){return this.eB.KI()===rE.FULLSCREEN},e.ag=function(){this.gP.ag()},e.cg=function(){this.gP.cg()},e.fg=function(){return this.gP.fg()},e.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.gP.tg());case 2:return t.next=4,Er.awrap(this.gP.nl());case 4:case"end":return t.stop()}},null,this,null,ze)},e.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.cB.hv(),this.kd.hv(),this.aB.hv(),this.sB.hv(),this.eB.hv(),this.rB.hv(),this.nB.hv(),this.hB.hv(),t.next=11,Er.awrap(this.gP.hv());case 11:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"mB",get:function(){return this.EI}},{key:"q_",get:function(){return this.uB},set:function(t){this.uB=t,this.gP.q_=t}},{key:"yB",get:function(){return this.hB}},{key:"Q_",get:function(){return this.gP.Q_}},{key:"kB",get:function(){return this.cB}},{key:"pB",get:function(){return this.rB}},{key:"Z_",get:function(){return this.gP.Z_}},{key:"B_",get:function(){return this.fB}},{key:"bB",get:function(){return this.aB}},{key:"j_",get:function(){return this.gP.j_}},{key:"AB",get:function(){return this.SI}},{key:"Y_",get:function(){return this.gP.Y_}},{key:"yg",get:function(){return this.gP.yg}},{key:"gB",get:function(){return this.KO}},{key:"dP",get:function(){return this.vP}},{key:"v_",get:function(){return this.gP.v_},set:function(t){this.gP.v_=t}},{key:"kg",get:function(){return this.gP.kg},set:function(t){this.gP.kg=t}},{key:"wg",get:function(){return this.gP.wg}},{key:"d_",get:function(){return this.gP.d_}},{key:"pg",get:function(){return this.gP.pg}},{key:"l_",get:function(){return this.gP.l_}},{key:"ts",get:function(){return this.gP.ts}},{key:"__",get:function(){return this.gP.__}},{key:"g_",get:function(){return this.gP.g_},set:function(t){var n=Boolean(t);this.LO(n)}},{key:"w_",get:function(){return this.gP.w_}},{key:"m_",get:function(){return this.gP.m_},set:function(t){this.gP.m_=t}},{key:"Dg",get:function(){return this.gP.Dg}},{key:"Cg",get:function(){return this.gP.Cg},set:function(t){this.gP.Cg=xS(t)}},{key:"Dl",get:function(){return this.gP.Dl}},{key:"xg",get:function(){return this.gP.xg}},{key:"y_",get:function(){return this.gP.y_}},{key:"gl",get:function(){return this.Hg}},{key:"k_",get:function(){return this.gP.k_}},{key:"p_",get:function(){return this.gP.p_}},{key:"b_",get:function(){return this.gP.b_},set:function(t){var n=Bt(Number(t),0,1)||0;this.$O(n)}},{key:"Og",get:function(){return this.gP.Og}}]),n}(tm);function lN(t){t.sources;var n=t.sources.filter(function(t){return H(t.integration)});return t.sources=n,t}!function(t){t[t.TB=0]="TB",t[t.SB=1]="SB"}(hN||(hN={})),function(t){t[t.EB=0]="EB"}(aN||(aN={}));var _N={};function gN(t,n){(_N[n]||(_N[n]=[])).push(t)}function wN(t,n){var i=t;if(_N[n])for(var e=0,r=_N[n];e<r.length;e++){i=(0,r[e])(i)}return i}var mN=[];function yN(t){mN.push(t)}var kN=t.CustomEvent;var pN=function(){try{var t=new kN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},bN=function(){function t(t,n){var i=this;this.gR=void 0,this.RB=void 0,this.IB=!1,this.NB=function(t){i.RB.aC(t.error,i.v_)},this.DB=function(){i.RB.uC(i.CB),i.gR.removeEventListener("playing",i.DB),i.IB=!1},this.xB=function(){i.IB||(i.gR.addEventListener("playing",i.DB),i.IB=!0)},this.RB=n,this.gR=t,this.gR.addEventListener("error",this.NB),this.gR.addEventListener("sourcechange",this.xB),this.xB()}return t.prototype.nl=function(){},A(t,[{key:"v_",get:function(){var t=this.gR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"CB",get:function(){return this.gR.src||""}}]),t}();yN(function(t){new bN(t.Ed,t.nB)});var AN="theoplayer-stored-volume",TN="theoplayer-stored-mutedstate";gN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=tN.RP(AN);(void 0===r||m(r))&&(r=1);var s=tN.IP(TN)||!1;e.b_=r,e.g_=s}return e}S(n,t);var i=n.prototype;return i.LO=function(n){this.rh.persistVolume&&tN.ia(TN,""+Boolean(n)),t.prototype.LO.call(this,n)},i.$O=function(n){this.rh.persistVolume&&tN.ia(AN,""+Number(n)),t.prototype.$O.call(this,n)},n}(t)},hN.SB);var SN=new(function(){function t(){this.OB=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.OB[t]},n.PB=function(t){this.OB.push(t),this.Ed.push(t.Ed)},n.jo=function(t){var n=this.OB.indexOf(t);n<0||(xs(this.OB,n),this.Sd&&xs(this.Sd,n))},n.BB=function(t){for(var n=0,i=this.OB;n<i.length;n++){var e=i[n];if(e.gl===t)return e}},A(t,[{key:"sl",get:function(){return this.OB.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.Jd(i).Ed;return n.getPlayerByUID=function(n){var i=t.BB(n);return i&&i.Ed},n}(this)),this.Sd}}]),t}()),EN=function(){function t(t){var n=this;this.LB=[],this.MB=void 0,this.Fc=new Fs,this.UB=void 0,this.FB=function(){return 0===n.LB.length?n.UB?RN(n.UB,n.Fc.Pr).then(n.HB,n.HB):n.HB():n.LB.shift()().then(n.FB)},this.HB=function(){if(0!==n.LB.length)return n.FB();n.MB=void 0},this.UB=t}var n=t.prototype;return n.zB=function(t,n){var i=this;return new ze(function(e){var r=new Fs;r.xr(i.Fc.Pr),n&&r.xr(n);var s=function(){r.Sr()};i.LB.push(function(){var n=RN(t,r.Pr);return e(n),n.then(s,s)}),i.MB||(i.MB=i.FB())})},n.Cr=function(){return this.VB(!0)},n.hv=function(){return this.UB=void 0,this.VB(!1)},n.VB=function(t){var n=this.MB;return this.Fc.Cr(),t&&(this.Fc=new Fs),ze.resolve(n)},t}();function RN(t,n){return new ze(function(i){return i(t(n))})}var IN,NN=function(t){function n(n){var i;return(i=t.call(this,Xc.Ba)||this).source=n,i}return S(n,t),n}(ru),DN=function(t){function n(){var n;return(n=t.call(this)||this).mI=void 0,n.kI=void 0,n.bI=void 0,n.pI=void 0,n.mI=0,n.kI=!0,n.bI=!1,n.pI=1,n}S(n,t);var i=n.prototype;return i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)),this.Fr(new qb(this.v_)))},i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Lm(this.v_,this.kg)),this.Fr(new Im(this.v_)))},i.nl=function(){this.mI=0,this.bI=!1,this.pI=1,this.K_(),this.Fr(new Rm(this.mI))},i.hv=function(){this.Wr()},i.cg=function(){},i.ag=function(){},A(n,[{key:"kg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.mI},set:function(t){this.bI&&this.mI===t||(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"Dl",get:function(){return am.n_}},{key:"y_",get:function(){return this.bI}}]),n}(Kw),CN=function(t){function n(){return t.call(this,Xc.fa)||this}return S(n,t),n}(ru),xN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},ON={visibility:"hidden"},PN={visibility:"visible"},BN=function(){function t(t){var n,i=this;this.fR=void 0,this.gR=void 0,this.WB=!1,this.XB=void 0,this.qB=void 0,this.GB=function(t){var n;i.WB=!1,i.XB=null==(n=t.source)?void 0:n.poster,i.Zo()},this.FA=function(){i.WB=!0,i.cg()},this.gR=t,this.kR(),this.fR=((n=ce&&ce.document&&ce.document.createElement("div")).className="theoplayer-poster",Ke(xN,n),n),t.pg.appendChild(this.fR)}var n=t.prototype;return n.Zo=function(){var t=this.gR.w_,n=this.WB;this.Mf?this.fR.style.backgroundImage='url("'+this.Mf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.fR.style.backgroundImage="",t&&this.Mf&&!n?this.ag():this.cg()},n.ag=function(){Ke(ON,this.gR.pg),Ke(PN,this.fR)},n.cg=function(){Ke(ON,this.fR),Ke(PN,this.gR.pg)},n.kR=function(){this.gR.Hr("sourcechange",this.GB),this.gR.Hr("play",this.FA)},n.hv=function(){this.gR.Xr("sourcechange",this.GB),this.gR.Xr("play",this.FA),Ze(this.fR)},A(t,[{key:"Mf",get:function(){return void 0!==this.XB?this.XB:void 0!==this.qB?this.qB:void 0}},{key:"QB",set:function(t){this.qB=t,this.Zo()}}]),t}();function LN(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).gR=void 0,r.YB=void 0,r.jB=void 0,r.ZB=void 0,r.JB=void 0,r.$B=void 0,r.KB=void 0,r.tL=void 0,r.yR=void 0,r.mR=void 0,r.Sd=void 0,r.nL=function(t){t.type!==Xc.Sa&&r.tL.push(t)},r.YB=new t(i,e),r.jB=new DN,r.gR=r.YB,r.ZB=new BN(Yt(r)),r.$B=new EN,r.KB=!1,r.tL=[],r.yR=!0,r.mR=void 0,r.kR(),r}S(i,n);var e=i.prototype;return e.zB=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.$B.zB(t,n).catch(Xs));case 1:case"end":return i.stop()}},null,this,null,ze)},e.iL=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),this.YB.Vr(this.nL),i.next=4,Er.awrap(this.YB.ig(t,n));case 4:this.YB.Qr(this.nL);case 5:case"end":return i.stop()}},null,this,null,ze)},e.eL=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ng())&&!LE(t)&&this.q_&&this.w_){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rh.mutedAutoplay,e.next=6,Er.awrap(this.yB.rL());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.sL(),e.abrupt("break",14);case 12:return(this.g_||n===Dm.ALL)&&(this.g_=!0,this.J_()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,ze)},e.ig=function(t){var n=this,i=this.mR;i&&!LE(i)&&this.Fr(new Rm(0,0)),this.nl(),this.mR=t,Zs(this.zB(function(i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),e.prev=1,e.next=4,Er.awrap(n.iL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.mR=void 0,e.t0;case 10:return e.next=12,Er.awrap(n.uL());case 12:case"end":return e.stop()}},null,null,[[1,6]],ze)}))},e.uL=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oL(this.YB),this.Fr(new NN(this.ng())),t.next=4,Er.awrap(this.eL());case 4:case"end":return t.stop()}},null,this,null,ze)},e.RO=function(t){this.gR.v_=t},e.xO=function(){return this.YB.ts},e.OO=function(){return this.YB.__},e.J_=function(){this.gR.J_()},e.sL=function(){this.g_||this.ug(),this.J_()},e.ug=function(){this.YB.ug()},e.K_=function(){this.gR.K_()},e.tg=function(){this.ig(void 0)},e.ag=function(){this.yR=!0,this.gR.ag()},e.cg=function(){this.yR=!1,this.gR.cg()},e.wB=function(){this.YB.wB()},e.$O=function(t){this.YB.$O(t)},e.LO=function(t){this.YB.LO(t)},e.hL=function(t){this.JB=t,t.PB(this)},e._I=function(){return this.YB._I()},e.ng=function(){return this.mR},e.fg=function(){return this.YB.fg()},e.EO=function(){return this.YB.v_},e.IO=function(){return this.YB.d_},e.bO=function(){return this.YB.yg},e.zO=function(){return this.YB.Dg},e.qO=function(){return this.YB.xg},e.nl=function(){var t=this;this.mR=void 0,Ps(this.tL),this.jB.nl(),this.oL(this.jB),this.$B.Cr(),Zs(this.$B.zB(function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(t.YB.nl());case 3:case"end":return i.stop()}},null,null,null,ze)}))},e.hv=function(){var t=this;this.Fr(new CN),this.ZB.hv(),this.pR(),this.nl(),Zs(this.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.YB.hv());case 2:t.JB&&(t.JB.jo(t),t.JB=void 0),t.$B.hv();case 4:case"end":return n.stop()}},null,null,null,ze)})),this.Wr()},e.oL=function(t){if(this.gR!==t){var n=this.gR.w_,i=this.gR.v_,e=this.gR.m_,r=this.gR.y_;this.pR(),t===this.YB?((r||t.v_!==i)&&(t.v_=i),t.m_!==e&&(t.m_=e),n?t.K_():t.J_()):this.rh.retainPlaybackRateOnSourceChange?t.m_=e:1!==e&&this.Fr(new Bm(this.EO(),1)),this.gR=t,this.kR();for(var s=0,u=this.tL;s<u.length;s++){var o=u[s];this.Fr(o)}Ps(this.tL),this.yR?t.ag():t.cg()}},e.kR=function(){this.gR.Vr(this.Ur)},e.pR=function(){this.gR.Qr(this.Ur)},e.Rd=function(){return t=this,e=function(n){i=n;var e=QE(n,t.rh);t.ig(e)},r={get abr(){return t.mB.Ed},get audioTracks(){return t.Q_.Ed},get autoplay(){return t.q_},set autoplay(n){t.q_=Boolean(n)},get buffered(){return t.bO()},get canvas(){return t.iB.Ed},get clip(){return t.gB.Ed},get currentProgramDateTime(){var n;return null!=(n=t.kg)?n:null},set currentProgramDateTime(n){t.kg=null!=n?n:void 0},get currentTime(){return t.EO()},set currentTime(n){t.RO(Number(n))},get duration(){return t.IO()},get element(){return t.pg},get ended(){return t.l_},get error(){return t.xO()},get errorObject(){return t.OO()},get loop(){return t.dP.dP},set loop(n){t.dP.dP=Boolean(n)},get metrics(){return t.B_.Ed},get muted(){return t.g_},set muted(n){t.LO(n)},get network(){return t.bB.Ed},get paused(){return t.w_},get playbackRate(){return t.m_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.m_=i},get played(){return t.zO()},get poster(){return t.aL},set poster(n){t.aL=Pw(n)},get preload(){return t.Cg},set preload(n){t.Cg=n},get presentation(){return t.eB.Ed},get readyState(){return t.Dl},get seekable(){return t.qO()},get seeking(){return t.y_},get source(){return i},set source(t){e(t)},get src(){return ME(t.ng())},set src(t){e({sources:t})},get textTracks(){return t.j_.Ed},get textTrackStyle(){return t.AB.Ed},get uid(){return t.gl},get videoHeight(){return t.k_},get videoTracks(){return t.Y_.Ed},get videoWidth(){return t.p_},get volume(){return t.b_},set volume(n){t.$O(Number(n))},get latency(){return t.Og.Ed},destroy:function(){t.hv(),t=null,i=void 0},play:function(){t.sL()},pause:function(){t.K_()},stop:function(){i=void 0,t.tg()},prepareWithUserAction:function(){t.ug()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)},setSource:function(t){e(t)}},(n=new oE(r,!0)).FI(t),r;var t,n,i,e,r},A(i,[{key:"nB",get:function(){return this.YB.nB}},{key:"iB",get:function(){return this.YB.iB}},{key:"rh",get:function(){return this.YB.rh}},{key:"tB",get:function(){return this.YB.tB}},{key:"kd",get:function(){return this.YB.kd}},{key:"ME",get:function(){return this.YB.sB}},{key:"eB",get:function(){return this.YB.eB}},{key:"rB",get:function(){return this.YB.rB}},{key:"gP",get:function(){return this.YB.gP}},{key:"mB",get:function(){return this.YB.mB}},{key:"q_",get:function(){return this.YB.q_},set:function(t){this.YB.q_=t,this.eL()}},{key:"yB",get:function(){return this.YB.yB}},{key:"Q_",get:function(){return this.YB.Q_}},{key:"kB",get:function(){return this.YB.kB}},{key:"pB",get:function(){return this.YB.rB}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"Z_",get:function(){return this.YB.Z_}},{key:"B_",get:function(){return this.YB.B_}},{key:"bB",get:function(){return this.YB.bB}},{key:"j_",get:function(){return this.YB.j_}},{key:"AB",get:function(){return this.YB.AB}},{key:"Y_",get:function(){return this.YB.Y_}},{key:"gB",get:function(){return this.YB.gB}},{key:"dP",get:function(){return this.YB.dP}},{key:"kg",get:function(){return this.gR.kg},set:function(t){this.gR.kg=t}},{key:"wg",get:function(){return this.YB.wg}},{key:"pg",get:function(){return this.YB.pg}},{key:"l_",get:function(){return this.YB.l_}},{key:"g_",get:function(){return this.YB.g_},set:function(t){this.YB.g_=t}},{key:"w_",get:function(){return this.gR.w_}},{key:"aL",get:function(){return this.ZB.Mf||""},set:function(t){this.ZB.QB=t}},{key:"m_",get:function(){return this.YB.m_},set:function(t){this.gR.m_=t}},{key:"Cg",get:function(){return this.YB.Cg},set:function(t){this.YB.Cg=xS(t)}},{key:"Dl",get:function(){return this.gR.Dl}},{key:"y_",get:function(){return this.gR.y_}},{key:"gl",get:function(){return this.YB.gl}},{key:"k_",get:function(){return this.YB.k_}},{key:"p_",get:function(){return this.YB.p_}},{key:"b_",get:function(){return this.YB.b_},set:function(t){this.YB.b_=t}},{key:"Og",get:function(){return this.YB.Og}}]),i}(tm)}function MN(t,n){var i=Qm(n),e=new(IN||(IN=wN(IN=LN(dN),hN.TB),IN=wN(IN,hN.SB)),IN)(t,i),r=e.Ed;return e.wB(),e.hL(SN),l.defineProperty(r,"constructor",{value:MN}),r=Tw(r),function(t){for(var n=0;n<mN.length;n++)(0,mN[n])(t)}(e),r}js(function(){t.dispatchEvent&&t.dispatchEvent(pN("theoplayerready"))});var UN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return pu(t)},n.decode=function(t){return yu(t)},t}())},FN=SN.Ed,HN=bA.CT.registerContentProtectionIntegration.bind(bA.CT);Xc.Aa,Xc.ba,Em.f_,Xc.La,Xc.Ta,Xc.wa,Xc.Na,Xc.Ia,Xc.la,Xc.Sa,Xc.Ma,Xc.va,Em.zd,Xc.Ra,Xw.Sl,nu.es,nu.ss,Xc.aa,Xc.ha,Xc.Ua;var zN,VN={cL:!1,fL:50},WN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.XN="vL"}(zN||(zN={}));var XN,qN,GN,QN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Ch=void 0,s.JS=void 0,s.Vh=void 0,s.dL=!1,s.lL=new Ro,s._L=!1,s.$B=new EN,s.gL=void 0,s.hr=void 0,s.ih=void 0,s.wL=function(){s._L=!0},s.mL=function(){s.yL(!0)},s.Ch=n,s.JS=i,s.Vh=i.TE,s.gL=e,s.hr=r,s.Vh.addEventListener("loadedmetadata",s.wL);for(var u=0;u<WN.length;u++){var o=WN[u];s.Vh.addEventListener(o,s.mL)}return s}S(i,t);var e=i.prototype;return e.kL=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Er.awrap(i.vh());case 5:return e=r.sent,r.next=8,Er.awrap(this.pL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ze)},e.bL=function(t){var n=this.ih;return n?0!==t.IE.length&&t.IE.some(function(t){return t.eh.ir===n.eh}):0===t.IE.length||!this._L},e.AL=function(t){return this.gL.AL(t),this.Ch=t,ze.resolve()},e.Sr=function(){var t,n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Wr(),this.Vh.removeEventListener("loadedmetadata",this.wL),t=0;t<WN.length;t++)n=WN[t],this.Vh.removeEventListener(n,this.mL);return i.next=5,Er.awrap(this.$B.hv());case 5:return i.next=7,Er.awrap(this.TL());case 7:return i.next=9,Er.awrap(this.gL.nl());case 9:return i.next=11,Er.awrap(this.pL(void 0));case 11:case"end":return i.stop()}},null,this,null,ze)},e.yL=function(t){t!==this.dL&&(this.dL=t,t?this.lL.Is(void 0):this.lL=new Ro)},e.pL=function(t){var n=this;return this.$B.zB(function(){return n.SL(t)})},e.SL=function(t){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vh.src){e.next=4;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vh.src){e.next=6;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.dL){e.next=9;break}return e.next=9,Er.awrap(this.lL.Ss);case 9:if(!(i=this.ih)){e.next=14;break}return e.next=13,Er.awrap(i.hh(this.Vh));case 13:this.ih=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Er.awrap(t.oh(this.Vh));case 17:this.ih=t;case 18:case"end":return e.stop()}},null,this,null,ze)},e.ig=function(t){var n=this;return this.$B.zB(function(){return n.EL(t)})},e.EL=function(t){this.yL(!1);var n=this.JS.m_;this.Vh.src=t,this.JS.m_=n},e.RL=function(t){var n=this;return this.$B.zB(function(){return n.IL(t)})},e.IL=function(t){this.EL(t),this.Vh.load()},e.TL=function(){var t=this;return this.$B.zB(function(){return t.NL()})},e.NL=function(){this.yL(!1),er(this.Vh)},A(i,[{key:"Q_",get:function(){throw new v("Not implemented")}},{key:"rh",get:function(){return this.Ch}},{key:"TE",get:function(){return this.Vh}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),i}(iu),YN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dO=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rh,n.t0=t.DE,n.next=n.t0===sm.Jl?4:n.t0===sm.$l?4:(n.t0,sm.Zl,6);break;case 4:return this.Vh.setAttribute("crossorigin",t.DE),n.abrupt("break",8);case 6:return this.Vh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Cg?this.Vh.preload=t.Cg:this.Vh.preload=DS.DS,void 0!==t.CE?this.Vh.title=t.CE:nr(this.Vh),n.next=12,Er.awrap(this.ig(t.Ol));case 12:this.gL.Yo(this,t);case 13:case"end":return n.stop()}},null,this,null,ze)},i.bL=function(t){return!1},i.AL=function(t){return ze.resolve(void 0)},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nr(this.Vh),n.next=3,Er.awrap(t.prototype.Sr.call(this));case 3:case"end":return n.stop()}},null,this,null,ze)},n.DL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.mf))},A(n,[{key:"yg",get:function(){return US.cI(this.Vh.buffered)}},{key:"d_",get:function(){return this.Vh.duration}},{key:"CL",get:function(){var t=this.d_;if(!isFinite(t))return!1;var n=this.yg;return 0!==n.sl&&t-n.NR(n.sl-1)<1/6}},{key:"Cg",get:function(){return this.Vh.preload},set:function(t){this.Vh.preload=t}},{key:"xg",get:function(){return US.cI(this.Vh.seekable)}},{key:"xL",get:function(){return this.yg}},{key:"OL",get:function(){if(ir(this.Vh)&&(this.Vh.videoWidth>0||this.Vh.videoHeight>0))return this.yg}}]),n}(QN),jN=function(t){function n(n){var i;return(i=t.call(this,Xc.Ta)||this).currentTime=n,i}return S(n,t),n}(ru),ZN=function(t){function n(){return t.call(this,Xc.wa)||this}return S(n,t),n}(ru);!function(t){t.PL="BL"}(XN||(XN={})),XN.PL,function(t){t[t.LL=0]="LL",t[t.Wa=1]="Wa",t[t.ML=2]="ML"}(qN||(qN={})),function(t){t.UL="FL"}(GN||(GN={}));var JN=function(t){function n(n){var i;return(i=t.call(this,GN.UL)||this).HL=n,i}return S(n,t),n}(ru),$N=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zL=US.dI(),n}S(n,t);var i=n.prototype;return i.VL=function(t,n){var i=new US([t,n]);this.zL=this.zL.jR(i),this.Fr(new JN(i))},i.WL=function(t,n){this.zL=this.zL.JR(new US([t,n]))},i.nl=function(){this.zL=US.dI()},i.hv=function(){this.Wr()},A(n,[{key:"XL",get:function(){return this.zL}}]),n}(iu);function KN(t,n){return void 0===n&&(n=new Dl({highWaterMark:1/0})),new ll(new nD(t,n),{highWaterMark:0})}var tD,nD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Ka=void 0,this.qL=void 0,this.GL=void 0,this._c=[],this.gc=0,this.zP=void 0,this.QL=!1,this.YL=void 0,this.jL=function(t){return t.done?(i.ZL(),void i.zP.close()):(i._c.push(t.value),i.gc+=i.qL(t.value),i.QL&&i.ZL(),i.JL()?i.Ka.read().then(i.jL):void 0)},this.Vv=function(t){i.ZL(),i.zP.error(t)},this.Ka=t.getReader(),this.qL=r,this.GL=u}var n=t.prototype;return n.start=function(t){this.zP=t,this.JL()&&this.$L()},n.pull=function(){this._c.length>0?this.ZL():this.QL=!0,this.JL()&&this.$L()},n.cancel=function(t){return Ps(this._c),this.gc=0,this.QL=!1,this.Ka.cancel(t)},n.ZL=function(){if(0!==this._c.length){var t=this._c;this._c=[],this.gc=0,this.QL=!1,this.zP.enqueue(t)}},n.JL=function(){return!!this.QL||this.GL-this.gc>0},n.$L=function(){var t=this;if(!this.YL){var n=this.Ka.read().then(this.jL).catch(this.Vv);this.YL=n;var i=function(){t.YL===n&&(t.YL=void 0)};n.then(i,i)}},t}(),iD=function(){function t(){this.KL=[],this.ls=0}var n=t.prototype;return n.PB=function(t){this.KL.push(t),this.ls+=t.byteLength},n.tM=function(t){if(this.ls<=t)return this.nM();for(var n=this.KL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(wo(n[e],0,s)),i+=s}return{KL:r,ls:i}},n.iM=function(t){var n=this.tM(t);return 1===n.KL.length?n.KL[0]:Eu(n.KL,n.ls)},n.nM=function(){return{KL:this.KL,ls:this.ls}},n.eM=function(t){if(this.ls<=t)return this.rM();for(var n=this.KL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(wo(n[0],0,s)),n[0]=wo(n[0],s),i+=s}return this.ls-=i,{KL:r,ls:i}},n.sM=function(t){var n=this.eM(t);return 1===n.KL.length?n.KL[0]:Eu(n.KL,n.ls)},n.rM=function(){var t=this.nM();return this.KL=[],this.ls=0,t},n.uM=function(){var t=1===this.KL.length?this.KL[0]:Eu(this.KL,this.ls);return this.KL=[],this.ls=0,t},t}();!function(t){t[t.oM=0]="oM",t[t.hM=1]="hM",t[t.aM=2]="aM"}(tD||(tD={}));var eD=function(t){function n(n){var i;return(i=t.call(this)||this).zP=void 0,i.cM=void 0,i.fM=void 0,i.vM=void 0,i.cM=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.zP=t},i.transform=function(t){this.dM(t)},i.flush=function(){this.lM()},i._M=function(t){return t===Ck.uy||t===Ck.By||t===Ck.qy},i.gM=function(t){var n=this.wM(t);this.zP.enqueue(n)},i.mM=function(t){this.zP.enqueue(t)},i.wM=function(t){var n=ko(t.ai.ai);switch(t.nr){case"moov":return this.yM(n);case"sidx":return this.kM(n);case"moof":return this.pM(n)}return n},i.yM=function(t){for(var n=Ga(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof va?n.boxes[i]=this.bM(e):e instanceof da?n.boxes[i]=this.AM(e):e instanceof ya&&this.TM(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof aa&&this.SM(u)}return n.serialize().join()},i.bM=function(t){this.fM=t.timescale;var n=sD(ct.fromNumber(t.duration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.AM(function(t){return new da({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ct.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.cM,t.duration=n.toInt(),t)},i.AM=function(t){return this.fM=t.timescale,t.timescale=this.cM,t.duration=sD(t.duration,this.EM,this.cM),t},i.TM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof ga?t.boxes[n]=this.RM(i):i instanceof wa?t.boxes[n]=this.IM(i):i instanceof Xh?this.NM(i):i instanceof Bh&&this.DM(i)}},i.RM=function(t){var n=sD(ct.fromNumber(t.duration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.IM(function(t){return new wa({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),duration:ct.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.IM=function(t){return t.duration=sD(t.duration,this.EM,this.cM),t},i.NM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Fh?t.boxes[n]=this.CM(i):i instanceof Hh&&(t.boxes[n]=this.xM(i))}},i.CM=function(t){this.vM=t.timescale;var n=sD(ct.fromNumber(t.duration,!0),this.OM,this.cM);return 0!==n.getHighBits()?this.xM(function(t){return new Hh({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ct.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.cM,t.duration=n.toInt(),t)},i.xM=function(t){return this.vM=t.timescale,t.timescale=this.cM,t.duration=sD(t.duration,this.OM,this.cM),t},i.DM=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof xh?this.PM(e):e instanceof Oh&&this.BM(e)}},i.PM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=rD(e.mediaTime,this.EM,this.cM),e.segmentDuration=rD(e.segmentDuration,this.EM,this.cM)}},i.BM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=sD(e.mediaTime,this.EM,this.cM),e.segmentDuration=sD(e.segmentDuration,this.EM,this.cM)}},i.SM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof oa?this.LM(i):i instanceof ra?t.boxes[n]=this.MM(i):i instanceof sa&&(t.boxes[n]=this.UM(i))}},i.LM=function(t){t.defaultSampleDuration=rD(t.defaultSampleDuration,this.OM,this.cM)},i.MM=function(t){var n=sD(ct.fromNumber(t.fragmentDuration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.UM(function(t){return new sa(ct.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.UM=function(t){return t.fragmentDuration=sD(t.fragmentDuration,this.EM,this.cM),t},i.kM=function(t){var n=Qa(t);return(n=n instanceof Ma?this.FM(n):this.HM(n)).serialize().join()},i.FM=function(t){var n=t.timescale,i=sD(ct.fromNumber(t.earliestPresentationTime,!0),n,this.cM);if(0!==i.getHighBits())return this.HM(function(t){return new Ua(t.referenceId,t.timescale,ct.fromNumber(t.earliestPresentationTime,!0),ct.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.cM,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=rD(s.subsegmentDuration,n,this.cM)}return t},i.HM=function(t){var n=t.timescale;t.timescale=this.cM,t.earliestPresentationTime=sD(t.earliestPresentationTime,n,this.cM);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=rD(r.subsegmentDuration,n,this.cM)}return t},i.pM=function(t){for(var n=Ya(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof Da&&this.zM(s)}var u=n.getSize();if(u!==i)for(var o=u-i,h=0,a=n.boxes;h<a.length;h++){var c=a[h];c instanceof Da&&this.VM(c,o)}return n.serialize().join()},i.zM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ea?this.WM(i):i instanceof Aa?t.boxes[n]=this.XM(i):i instanceof Ta?t.boxes[n]=this.qM(i):i instanceof Ia&&this.GM(i)}},i.WM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=rD(t.defaultSampleDuration,this.OM,this.cM))},i.XM=function(t){var n=sD(ct.fromNumber(t.baseMediaDecodeTime,!0),this.OM,this.cM);return 0!==n.getHighBits()?this.qM(function(t){return new Ta(ct.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.qM=function(t){return t.baseMediaDecodeTime=sD(t.baseMediaDecodeTime,this.OM,this.cM),t},i.GM=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var h=o[u];if(void 0!==h.duration){var a=rD(s+=h.duration,this.OM,this.cM);h.duration=a-r,r=a}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(n=h.compositionTimeOffset,i=this.OM,e=this.cM,ct.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.VM=function(t,n){var i=Ns(t.boxes,uD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Ia&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"EM",get:function(){if(void 0===this.fM)throw new v("Expected to have found a movie header timescale.");return this.fM}},{key:"OM",get:function(){if(void 0===this.vM)throw new v("Expected to have found a media header timescale.");return this.vM}}]),n}(function(){var t=n.prototype;function n(){this._c=new iD,this.Ii=tD.oM,this.QM=0,this.YM=0,this.jM()}return t.ZM=function(t,n){},t.JM=function(){},t.dM=function(t){this._c.PB(t),this.$M(!1)},t.lM=function(){this.$M(!0)},t.KM=function(){return this.Ii!==tD.oM||0!==this._c.ls},t.$M=function(t){for(;0!==this._c.ls;){if(!t&&this.QM>this._c.ls)return;switch(this.Ii){case tD.oM:this.tU(t);break;case tD.hM:this.nU(t);break;case tD.aM:this.iU(t)}}},t.jM=function(){this.Ii=tD.oM,this.QM=8},t.tU=function(t){var n=yo(this._c.iM(this.QM)),i=new So,e=pp.bk(n,i);if(!e.wk)return this.QM=e.Tk,void(t&&this.QM>this._c.ls&&this.eU(this._c.ls));var r=e.Ak.nr,s=e.Ak.ls;0===s&&(s=1/0),this.ZM(r,s),this._M(r)?this.rU(s):this.eU(s)},t.rU=function(t){this.Ii=tD.hM,this.QM=t},t.nU=function(t){var n=yo(this._c.sM(this.QM)),i=new So,e=pp.mk(n,i,!t);if(!e.wk)throw new kp(i.ps);this.JM(),this.gM(e.yk),this.jM()},t.eU=function(t){this.Ii=tD.aM,this.QM=0,this.YM=t},t.iU=function(t){var n=this._c.eM(this.YM);this.YM-=n.ls;for(var i=0,e=n.KL;i<e.length;i++){var r=e[i];this.mM(r)}(0===this.YM||t&&this.YM===1/0)&&(this.JM(),this.jM())},n}());function rD(t,n,i){return ct.fromInt(t,!0).multiply(i).divide(n).toNumber()}function sD(t,n,i){return hk.Gw(t)._m(hk.Qw(i,!0)).ym(hk.Qw(n,!0)).rm()}function uD(t){return t instanceof Ea}var oD=1e5,hD=function(){function t(t){this.sU=void 0,this.sU=new eD(t)}return t.prototype.uU=function(t){return t.pipeThrough(new Ll(this.sU))},t}(),aD=20,cD=L.dn,fD=function(t){function n(n,e,r){var s;return(s=t.call(this)||this).oU=void 0,s.hU=void 0,s.aU=void 0,s.aO=aD,s.cO=II,s.cU=!1,s.fU=!1,s.vU=void 0,s.dU=new Fs,s.lU=void 0,s._U=!1,s.gU=void 0,s.wU=function(){s.cU=!1},s.oU=e,s.hU=n,s.aU=r,s.aU.addEventListener("updateend",s.wU),i.Pe.oe&&(s.lU=new hD(oD)),s}S(n,t);var e=n.prototype;return e.mU=function(t,n,i){var e=this;switch(t.nr){case qN.LL:case qN.Wa:return this.yU(function(i){return e.kU(t,n,i)},i);case qN.ML:throw new v("Opaque segments are not supported on web.")}},e.pU=function(t,n){var i=this;switch(t.nr){case qN.LL:return this.yU(function(n){return i.bU(t,n)},n);case qN.Wa:throw new v("Streaming initialization segments are not supported on web.");case qN.ML:throw new v("Opaque initialization segments are not supported on web.")}},e.bU=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.AU(t,void 0,n));case 2:cD&&(this._U=!1,this.gU=t);case 3:case"end":return i.stop()}},null,this,null,ze)},e.kU=function(t,n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(cD&&this._U&&this.gU)){e.next=3;break}return e.next=3,Er.awrap(this.bU(this.gU,i));case 3:return e.prev=3,Vs(i),e.next=7,Er.awrap(this.AU(t,n,i));case 7:this.Fr(new ru(XN.PL));case 8:return e.prev=8,t.nr===qN.Wa&&t.ai.cancel(new Hs).catch(Z),e.finish(8);case 11:case"end":return e.stop()}},null,this,[[3,,8,11]],ze)},e.AU=function(t,n,e){var r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:Vs(e),n&&this.TU(n),u.t0=t.nr,u.next=u.t0===qN.LL?5:u.t0===qN.Wa?13:21;break;case 5:if(!i.Pe.oe){u.next=10;break}return r=this.lU.uU(Zl(t.ai)),u.next=9,Er.awrap(this.SU(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,Er.awrap(this.EU(t.ai));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Pe.oe){u.next=18;break}return s=this.lU.uU(t.ai),u.next=17,Er.awrap(this.SU(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,Er.awrap(this.SU(t.ai,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,ze)},e.SU=function(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.hU.yg,e=KN(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Er.awrap(qs(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return Vs(n),o=Su(u.value),s=!0,c.next=17,Er.awrap(this.EU(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(Z),!s){c.next=35;break}return c.next=27,Er.awrap(this.RU());case 27:h=this.hU.yg.WR(i.XR()),a=0;case 29:if(!(a<h.sl)){c.next=35;break}return c.next=32,Er.awrap(this.IU(h.RR(a),h.NR(a)));case 32:a++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],ze)},e.NU=function(t,n){var i=this;return this.yU(function(){return i.DU(t,n)})},e.DU=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.aU.appendWindowStart===t&&this.aU.appendWindowEnd===n){i.next=6;break}return i.next=3,Er.awrap(this.RU());case 3:this.aU.appendWindowStart=0,this.aU.appendWindowEnd=n,this.aU.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,ze)},e.TU=function(t){this.aU.timestampOffset!==t.Km&&(this.aU.timestampOffset=t.Km)},e.EU=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.aU.appendBuffer(t),this.fU=!0,n.next=4,Er.awrap(this.CU());case 4:case"end":return n.stop()}},null,this,null,ze)},e.xU=function(t,n,i){var e=this;return this.yU(function(i){return e.IU(t,n,i)},i)},e.IU=function(t,n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),this.aU.remove(t,n),e.next=4,Er.awrap(this.CU());case 4:case"end":return e.stop()}},null,this,null,ze)},e.CU=function(){var t=this,n=this.hU.yg;return new ze(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.eI(t.hU.yg)||t.Fr(new ru(XN.PL)),i()):e(new v(r))},c=function(){t.aU.removeEventListener("update",u),t.aU.removeEventListener("error",o),t.aU.removeEventListener("abort",h),t.aU.removeEventListener("updateend",a)};t.aU.addEventListener("update",u),t.aU.addEventListener("error",o),t.aU.addEventListener("abort",h),t.aU.addEventListener("updateend",a)})},e.OU=function(){var t=this;return this.yU(function(){return t.RU()})},e.RU=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oU.Dl===ID.gv){t.next=2;break}return t.abrupt("return");case 2:cD&&(this._U=!0),this.aU.updating&&(this.cU=!0);try{this.aU.abort()}catch(t){0,this.cU=!1}if(!this.sx){t.next=8;break}return t.next=8,Er.awrap(this.CU().catch(Z));case 8:case"end":return t.stop()}},null,this,null,ze)},e.PU=function(){return"function"==typeof this.aU.changeType},e.BU=function(t){this.LU(),this.oU.Dl!==ID.MU&&this.aU.changeType(t)},e.UU=function(){this.oU.Dl!==ID.la||this.vU||this.sx||(this.aU.timestampOffset=this.aU.timestampOffset,this.oU.FU())},e.yU=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.LU(),(i=new Fs).xr(this.dU.Pr),n&&i.xr(n),e.prev=4,this.vU=t(i.Pr),e.next=8,Er.awrap(this.vU);case 8:if(this.oU.FU(),!this.sx){e.next=12;break}return e.next=12,Er.awrap(this.CU());case 12:return e.prev=12,this.vU=void 0,i.Sr(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],ze)},e.LU=function(){if(this.vU)throw new v("Internal error")},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wr(),this.dU.Cr(),!this.vU){t.next=6;break}return t.next=5,Er.awrap(this.vU.catch(Z));case 5:this.vU=void 0;case 6:this.aU.removeEventListener("updateend",this.wU);case 7:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"iO",get:function(){return this.aO},set:function(t){this.aO=t}},{key:"uO",get:function(){return this.cO},set:function(t){this.cO=t}},{key:"sx",get:function(){return this.cU||this.aU.updating}}]),n}(iu),vD=function(){function t(t,n){this.HU=void 0,this.aU=void 0,this.zU=void 0,this.HU=n,this.aU=t}var n=t.prototype;return n.CL=function(){return!!this.zU&&this.yg.MR().WE(this.zU)},n.VU=function(){var t=this.yg;this.zU=t.sl>0?t.NR(t.sl-1):0,this.HU.WU()},n.UU=function(){this.zU=void 0},A(t,[{key:"yg",get:function(){if(this.HU.Dl===ID.MU)return US.dI();var t=US.cI(this.aU.buffered).WR(new US([0,1/0])),n=this.zU;return void 0!==n&&t.sl>0&&t.NR(t.sl-1)===n&&(t=t.jR(US.vI(n))),t}}]),t}();function dD(t){var n=t._h("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function lD(t,n){var i=_D(t)||gD(t),e=_D(n)||gD(n);return!i&&!e||t===n}function _D(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function gD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function wD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function mD(t,n,i,e,r,s){var u=new vD(r,t),o=new fD(u,t,r);return new yD(t,n,i,e,u,o,s)}var yD=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).oU=void 0,h.Ch=void 0,h.XU=void 0,h.JS=void 0,h.Ih=void 0,h.qU=void 0,h.hU=void 0,h.GU=void 0,h.QU=Nr(),h.oU=n,h.Ch=e,h.Ih=e.mf,h.XU=r,h.JS=i,h.hU=s,h.GU=u,h.qU=o,h.GU.Hr(XN.PL,h.Ur),h}S(n,t);var i=n.prototype;return i.CL=function(){return this.hU.CL()},i.VU=function(){this.hU.VU()},i.UU=function(){this.hU.UU(),this.GU.UU()},i.YU=function(t,n){this.qU.VL(t,n)},i.jU=function(t,n){this.qU.WL(t,n)},i.ZU=function(){return this.GU.OU()},i.mU=function(t,n,i){return this.GU.mU(t,n,i)},i.pU=function(t,n){return this.GU.pU(t,n)},i.NU=function(t,n){return this.GU.NU(t,n)},i.jo=function(t,n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.jU(t,n),e=this.yg,s.next=4,Er.awrap(this.GU.xU(t,n,i));case 4:r=0!==e.sl&&0===this.yg.sl,(L.wn||L.sn)&&r&&this.JS.ys(this.JS.v_);case 6:case"end":return s.stop()}},null,this,null,ze)},i.bL=function(t){var n=t.mf;if(this.Ih===n)return!0;var i=this.QU.get(n);if(void 0!==i)return i;var e=this.JU(t);return this.QU.set(n,e),e},i.JU=function(t){var n=t.mf;if(!MediaSource.isTypeSupported(n))return!1;var i=ec(this.Ih),e=ec(n),r=dD(i),s=dD(e);if(this.GU.PU()){if(!function(t,n){return Ms(t,n,lD)}(r,s))return!1}else{if(i.nr!==e.nr)return!1;if(!function(t,n){return Ms(t,n,wD)}(r,s))return!1}return!0},i.AL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.mf,this.Ih!==n&&(this.QU.clear(),this.GU.PU()&&this.GU.BU(n),this.Ih=n),this.Ch=t,this.oU.$U();case 4:case"end":return i.stop()}},null,this,null,ze)},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QU.clear(),this.Wr(),this.qU.hv(),t.prev=3,this.GU.Xr(XN.PL,this.Ur),t.next=7,Er.awrap(this.GU.Sr());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],ze)},A(n,[{key:"yg",get:function(){return this.hU.yg}},{key:"rh",get:function(){return this.Ch}},{key:"mf",get:function(){return this.Ih}},{key:"KU",get:function(){return this.qU.XL}},{key:"iO",get:function(){return this.GU.iO},set:function(t){this.GU.iO=t}},{key:"uO",get:function(){return this.GU.uO},set:function(t){this.GU.uO=t}},{key:"sx",get:function(){return this.GU.sx}}]),n}(iu),kD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.tF=void 0,this.RR=t,this.NR=n,this.nF=i,this.iF=e,this.tF=SR()}return t.prototype.eF=function(){var t=this.RR,n=this.NR;if(this.nF||this.iF){var i=.001*(SR()-this.tF);this.nF&&(t+=i),this.iF&&(n+=i)}return t>=n?US.dI():new US([t,n])},t}(),pD=100,bD=1e3,AD=1e4,TD=.01,SD=[Xc.Aa,Xc.ba,Xc.Na,Xc.Ia,Xc.la,Xc.Sa,Em.zd,Xw.Sl],ED=function(){function t(t,n){var e=this;this.IA=am.n_,this.rF=!1,this.sF=[],this.uF=void 0,this.oF=0,this.hF=0,this.aF=0,this.cF=0,this.fF=0,this.vF=bD,this.dF=function(t){var n=e.JS.v_;t.HL.WE(n)&&e.lF(n)},this._F=$(function(){e.gF(Em.zd)},pD),this.wF=$(function(){e.gF(Xc.Ta)},pD),this.mF=function(){e.yF()?e.kF():e.pF()},this.bF=function(){var t=e.oF,n=e.aF,r=e.JS.v_,s=i.ce(),u=t!==r;if(u||!e.yF())return e.oF=r,e.aF=s,void(u&&(e.fF=0,e.vF=bD));if(n>0&&s>n+e.vF){var o=r+e.fF*TD,h=e.hU.yg;h.WE(o)||(o=e.AF(r,h)),e.oF=o,e.aF=s,e.fF++,e.vF=_.min(2*e.vF,AD),e.JS.ys(o)}},this.hU=t,this.JS=n,this.JS.Hr(Em.zd,this._F),this.JS.Hr(Xc.Ta,this.wF),this.JS.Hr(SD,this.mF)}var n=t.prototype;return n.TF=function(t){this.sF.push(t),t.Hr(GN.UL,this.dF)},n.hv=function(){var t=this;this.pF(),this.IA=am.n_,this.JS.Xr(Em.zd,this._F),this.JS.Xr(Xc.Ta,this.wF),this.JS.Xr(SD,this.mF),this.sF.forEach(function(n){return n.Xr(GN.UL,t.dF)}),void 0!==this.uF&&(i.In(this.uF),this.uF=void 0),this.rF=!0},n.gF=function(t){if(!this.rF){var n=this.JS.Dl;if(n<=am.e_){var i=this.JS.v_,e=this.hU.yg,r=e.$R(i),s=e.NR(r);-1!==r&&(t===Em.zd&&n<this.IA||t===Xc.Ta&&n===this.IA)&&s<i+.5&&(i=s),this.lF(i)}t===Em.zd&&(this.IA=n)}},n.lF=function(t){var n=this;if(this.JS.l_)return!1;var e=this.XL.MR().JR(this.hU.yg),r=e.$R(t);if(-1!==r&&!(_.abs(e.RR(r)-e.NR(r))<=.001)){if(i.dd){if(void 0!==this.uF)return!1;this.hF=this.JS.v_,this.uF=i.Nn(function(){n.hF===n.JS.v_&&n.JS.ys(e.NR(r)),n.uF=void 0},1500)}else this.JS.ys(e.NR(r));return!0}return!1},n.kF=function(){0===this.cF&&(this.cF=i.pe(this.bF,250))},n.pF=function(){0!==this.cF&&(i.be(this.cF),this.cF=0),this.JS.y_||(this.aF=0)},n.yF=function(){return!this.JS.w_&&!this.JS.y_&&0!==this.JS.m_&&!this.JS.l_&&!this.JS.ts&&this.JS.Dl>=am.r_},n.AF=function(t,n){var i=n.$R(t);return i>-1?n.NR(i):t},A(t,[{key:"XL",get:function(){return this.sF.reduce(function(t,n){return t.jR(n.XL)},US.dI())}}]),t}();function RD(t){var n=[];if(t.SF&&n.push(t.SF.yg),t.EF&&n.push(t.EF.yg),0===n.length)return US.dI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.sl>0&&(i=_.max(i,r.NR(r.sl-1)))}for(var s=t.CL,u=new US([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.sl>0&&(h=h.jR(new US([h.NR(h.sl-1),i],[!0,!0]))),u=u.WR(h)}return u}var ID,ND=L.un||L.hn;!function(t){t.MU="closed",t.gv="open",t.la="ended"}(ID||(ID={}));var DD=function(){function t(){}return t.prototype.RF=function(){return new MediaSource},t}(),CD=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new DD),(u=t.call(this,n,i,e,r)||this).IF=void 0,u.NF=void 0,u.DF=void 0,u.CF=new kD(0,1/0),u.$S=void 0,u.xF=void 0,u.OF=void 0,u.PF=!1,u.BF=function(){u.LF()},u.MF=function(){u.JS.MF()},u.IF=s,u.$S=u.IF.RF(),u.JS.Hr(Xc.Na,u.BF),u.OF=new ED(Yt(u),u.JS),u}S(n,t);var i=n.prototype;return i.UF=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.FF()?this.HF(t):this.xF=t},i.HF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.$S.setLiveSeekableRange){var e=_.pow(2,39);this.$S.setLiveSeekableRange(0,e)}this.$S.duration=i,this.xF=void 0},i.zF=function(t,n,i,e){this.CF=new kD(t,n,!!i,!!e)},i.dO=function(){var t,n,i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.Ch,n=Ns(t.VF,function(t){return os(t.mf,"audio")}),i=Ns(t.VF,function(t){return os(t.mf,"video")}),o.next=5,Er.awrap(this.WF());case 5:n&&(e=new $N,this.OF.TF(e),r=this.$S.addSourceBuffer(n.mf),this.NF=mD(this,this.JS,n,my.Jf,r,e),this.NF.Hr(XN.PL,this.MF)),i&&(s=new $N,this.OF.TF(s),u=this.$S.addSourceBuffer(i.mf),this.DF=mD(this,this.JS,i,my.$f,u,s),this.DF.Hr(XN.PL,this.MF)),this.gL.Yo(this,t);case 8:case"end":return o.stop()}},null,this,null,ze)},i.WF=function(){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.$S),i.next=3,Er.awrap(t.prototype.RL.call(this,n));case 3:if(this.Dl===ID.gv){i.next=6;break}return i.next=6,Er.awrap(ow(this.$S,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,ze)},i.FF=function(){if(this.Dl!==ID.gv)return!1;var t=this.NF&&this.NF.sx,n=this.DF&&this.DF.sx;return!(t||n)},i.VU=function(){this.PF=!0,this.NF&&this.NF.VU(),this.DF&&this.DF.VU(),this.PF=!1,this.LF()},i.UU=function(){this.NF&&this.NF.UU(),this.DF&&this.DF.UU()},i.bL=function(n){var i=Ns(n.VF,function(t){return os(t.mf,"audio")}),e=Ns(n.VF,function(t){return os(t.mf,"video")});if(this.NF){if(!i)return!1;if(!this.NF.bL(i))return!1}else if(i)return!1;if(this.DF){if(!e)return!1;if(!this.DF.bL(e))return!1}else if(e)return!1;return!!t.prototype.bL.call(this,n)},i.AL=function(n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ns(n.VF,function(t){return os(t.mf,"audio")}),e=Ns(n.VF,function(t){return os(t.mf,"video")}),r=[],this.NF&&r.push(this.NF.AL(i)),this.DF&&r.push(this.DF.AL(e)),s.next=7,Er.awrap(ze.all(r));case 7:return s.next=9,Er.awrap(t.prototype.AL.call(this,n));case 9:case"end":return s.stop()}},null,this,null,ze)},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.NF){n.next=4;break}return n.next=3,Er.awrap(this.NF.Sr());case 3:this.NF=void 0;case 4:if(!this.DF){n.next=8;break}return n.next=7,Er.awrap(this.DF.Sr());case 7:this.DF=void 0;case 8:return this.Vh.src&&URL.revokeObjectURL(this.Vh.src),this.JS.Xr(Xc.Na,this.BF),this.OF.hv(),n.next=13,Er.awrap(t.prototype.Sr.call(this));case 13:case"end":return n.stop()}},null,this,null,ze)},i.$U=function(){var t=this,n=this.Ch,i=n.VF.map(function(n){return os(n.mf,"audio")&&t.NF?t.NF.rh:os(n.mf,"video")&&t.DF?t.DF.rh:n});this.Ch=Rr({},n,{VF:i})},i.WU=function(){this.PF||this.LF()},i.LF=function(){this.XF&&this.FF()&&(this.$S.endOfStream(),this.xF=void 0,this.Fr(new ru(zN.XN)),this.JS.MF())},i.FU=function(){this.FF()&&(this.CL?this.LF():void 0!==this.xF&&this.HF(this.xF))},i.lF=function(t){return this.OF.lF(t)},n.DL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.VF;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.mf))return!1}return!0},A(n,[{key:"SF",get:function(){return this.NF}},{key:"EF",get:function(){return this.DF}},{key:"d_",get:function(){if(this.xF)return this.xF;var t=this.$S.duration;return 9007199254740991===t?1/0:t}},{key:"yg",get:function(){return ND?RD(this):(t=this,n=US.cI(this.Vh.buffered),(i=n).sl>0&&t.CL&&(i=i.jR(US.vI(i.NR(i.sl-1)))),i);var t,n,i}},{key:"xL",get:function(){var t;return null==(t=this.NF)?void 0:t.yg}},{key:"OL",get:function(){var t;return null==(t=this.DF)?void 0:t.yg}},{key:"xg",get:function(){return this.CF.eF().WR(new US([0,this.d_],[!0,!0]))}},{key:"CL",get:function(){return(!this.NF||this.NF.CL())&&(!this.DF||this.DF.CL())}},{key:"Dl",get:function(){return this.$S.readyState}},{key:"XF",get:function(){if(!this.CL)return!1;var t=this.yg;return 0!==t.sl&&t.RR(t.sl-1)<=this.JS.v_}}]),n}(QN),xD=[Xc.Ma,Xc.Sa,Xc.Na,Xc.Aa,Xc.ba],OD=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).mI=n,c.Au=i,c.qF=e,c.kI=r,c.bI=s,c.yI=u,c.pI=o,c.Bu=h,c.GF=a,c}S(n,t);var i=n.prototype;return i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Im(this.v_)))},i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)))},i.Sr=function(){this.Wr()},A(n,[{key:"v_",get:function(){return this.mI},set:function(t){this.v_!==t&&(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.qF}},{key:"w_",get:function(){return this.kI}},{key:"Dl",get:function(){return this.GF}},{key:"y_",get:function(){return this.bI}},{key:"g_",get:function(){return this.yI},set:function(t){this.g_!==t&&(this.yI=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"m_",get:function(){return this.pI},set:function(t){this.m_!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"b_",get:function(){return this.Bu},set:function(t){this.b_!==t&&(this.Bu=t,this.Fr(new zm(this.v_,this.b_)))}}]),n}(iu);var PD=function(t){function n(n){var i;return(i=t.call(this)||this).JS=void 0,i.IA=am.n_,i.QF=function(){i.YF()},i.JS=n,i}S(n,t);var i=n.prototype;return i.jF=function(t){this.IA!==t&&(this.IA=t,this.Fr(new Xm(this.JS.v_,t)))},i.YF=function(){this.jF(this.XO())},i.nl=function(){this.jF(am.n_)},i.Sr=function(){this.Wr()},A(n,[{key:"Dl",get:function(){return this.XO()}}]),n}(iu),BD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],LD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<BD.length;e++){var r=BD[e];i.JS.TE.addEventListener(r,i.QF)}return i}S(n,t);var i=n.prototype;return i.XO=function(){var t=this.JS.TE.readyState;return t>am.e_&&this.JS.ZF?am.e_:(this.JS.TE.seeking&&t>am.i_&&(t=am.i_),t)},i.Sr=function(){for(var n=0;n<BD.length;n++){var i=BD[n];this.JS.TE.removeEventListener(i,this.QF)}t.prototype.Sr.call(this)},n}(PD),MD=function(t){function n(n){var i;(i=t.call(this,n)||this).JS.Hr(Xc.Na,i.QF);for(var e=0;e<BD.length;e++){var r=BD[e];i.JS.TE.addEventListener(r,i.QF)}return i}S(n,t);var i=n.prototype;return i.XO=function(){if(this.JS.TE.readyState===am.n_)return am.n_;var t=this.JF(),n=t?t.NR-t.RR:0;if(!t)return am.i_;var i=this.JS.m_;return this.KF()||n>=3*i?am.s_:n>=3?am.r_:am.e_},i.JF=function(){var t=this.JS.v_,n=this.JS.yg.YR(.04),i=n.$R(t);if(!(i<0))return{RR:t,NR:n.NR(i)}},i.KF=function(){if(this.JS.l_)return!0;var t=this.JS.d_,n=this.JF();return!!n&&t-n.NR<=1/6},i.Sr=function(){this.JS.Xr(Xc.Na,this.QF);for(var n=0;n<BD.length;n++){var i=BD[n];this.JS.TE.removeEventListener(i,this.QF)}t.prototype.Sr.call(this)},n}(PD),UD=[Em.zd,Xc.Aa,Xc.ba,Xc.Na,Xc.Ia,Xc.la,Xw.Sl],FD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vh=void 0,i.tH=!1,i.nH=function(){i.tH=!0,i.Zo()},i.Vh=n.TE,i.Vh.addEventListener(Em.f_,i.nH),i}S(n,t);var i=n.prototype;return i.iH=function(){return this.tH&&t.prototype.iH.call(this)},i.Zo=function(){this.tH&&(this.Vh.paused||this.Vh.ended||this.Vh.error)&&(this.tH=!1),t.prototype.Zo.call(this)},i.nl=function(){t.prototype.nl.call(this),this.tH=!1},i.Sr=function(){this.Vh.removeEventListener(Em.f_,this.nH),t.prototype.Sr.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).OA=void 0,i.eH=!1,i.ux=function(){i.Zo()},i.OA=n,i.OA.Hr(UD,i.ux),i}S(n,t);var i=n.prototype;return i.rH=function(){return this.OA.Dl<am.r_},i.iH=function(){return!this.OA.y_&&!(this.OA.w_||this.OA.l_||this.OA.ts||this.rH())},i.Zo=function(){var t=this.eH;this.eH=this.iH(),!t&&this.eH&&this.Fr(new Gb(this.OA.v_))},i.nl=function(){this.eH=!1},i.Sr=function(){this.Wr(),this.OA.Xr(UD,this.ux)},n}(iu)),HD=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).ts=void 0,i.ts=n,i}return S(n,t),n}(ru);function zD(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function VD(t,n){return t.tw<=n&&t.nw>n}function WD(t,n){return function(t,n){return Rs(t.tw,n.tw,jy)}(t,n)||function(t,n){return Rs(t.nw,n.nw,jy)}(t,n)}function XD(t,n){var i=zD(t,n,J,WD,!0);if(i<0)return i;for(;i<t.length&&WD(n,t[i])===ys.gr;i++)if(t[i].mw(n))return i;return-(i+1)}function qD(t){var n=t.Id;if(!n)return-1;if(t instanceof Jy)return n.sH(t);var i=n.Cl;if(!i)return-1;var e=XD(i.il,t);return e>=0?e:-1}function GD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{uH:o,oH:h}}(t,n,WD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var QD=function(){function t(t){this.hH=void 0,this.Sd=void 0,this.hH=t}var n=t.prototype;return n.Rd=function(){return function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.cs(i).Ed;return n.item=function(n){var i=0|n,e=t.cs(i);return e&&e.Ed||void 0},l.defineProperty(n,"constructor",{value:qy}),n}(this)},n.Mg=function(t){for(var n=this.hH,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.mw(e))return!0}return!1},n.cs=function(t){return this.hH[t]},A(t,[{key:"il",get:function(){return this.hH}},{key:"sl",get:function(){return this.hH.length}},{key:"Ed",get:function(){if(this.Sd){var t=this.hH;this.Sd.length=t.length;for(var n=0;n<t.length;n++)this.Sd[n]=t[n].Ed}else this.Sd=this.Rd();return this.Sd}}]),t}(),YD=function(t){function n(n,i){var e;return(e=t.call(this,dw.zd)||this).Id=n,e.Dl=i,e}return S(n,t),n.prototype.Rd=function(){return new jD(this.Id.Ed,Jw(this.Dl))},n}(lw),jD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(_w),ZD=function(t){function n(n){var i;return(i=t.call(this,dw.Wd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new JD(this.Id.Ed)},n}(lw),JD=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(_w),$D=function(t){function n(n){var i;return(i=t.call(this,dw.Nd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new KD(this.Kg.Ed)},n}(lw),KD=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(_w),tC=function(t){function n(n){var i;return(i=t.call(this,dw.Cd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new nC(this.Kg.Ed)},n}(lw),nC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(_w),iC=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Sd=void 0,a.Bo=void 0,a.Hg=Ty(),a.aH=!1,a.cH=void 0,a.fH=void 0,a.Fg=void 0,a.Tu=void 0,a.zI=Ww.bl,a.GF=xy.NONE,a.vH=void 0,a.fi=void 0,a.dH=void 0,a.hH=[],a.lH=[],a._H=void 0,a.gH=void 0,a.wH=0,a.mH=0,a.Bo=i||"",a.cH=h||"",a.fH=n,a.Tu=r||"",a.aH=Boolean(s),a.dH=Boolean(o),a.fi=u||Oy.DEFAULT,a.Fg=e||"",a._H=new QD(a.hH),a.gH=new QD(a.lH),a}S(n,t);var i=n.prototype;return i.yH=function(t){return Ns(this._H.il,function(n){return n._l===t})},i.Rd=function(){return Yw(this)},i.iN=function(t){var n=Gw(t);n!==this.Rl&&(this.zI=n,n===Ww.bl&&(this.lH.forEach(function(t){t.yw=!1}),Ps(this.lH),this.mH=0),this.Fr(new pw(this)))},i.AA=function(t){if(t&&!t.Id){var n=XD(this.Cl.il,t);if(!(n>=0)){t.Id=this;var i=-(n+1);this.hH.splice(i,0,t),this.kH(i),t.ww=i,i<this.mH&&(this.mH=i),this.Fr(new $D(t))}}},i.cA=function(t){if(t&&t.Id===this){var n=this.sH(t);if(!(n<0)){t.yw=!1;var i=this.lH,e=XD(i,t);e>=0&&xs(i,e),xs(this.hH,n),this.kH(n),t.ww=-1,this.mH>n&&--this.mH,this.Fr(new tC(t))}}},i.pH=function(t,n){var i=this.lH,e=this.hH,r=this.mH,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){VD(i[u],t)||(s=!0,xs(i,u))}for(;r<e.length&&e[r].tw<=t;){var o=e[r];if(0===t)break;VD(o,t)&&!Os(i,o)&&(s=!0,i.push(o)),r++}s&&bs(i,WD),this.mH=r},i.sH=function(t){return(-1===t.ww||t.ww>=this.wH)&&this.bH(),t.ww},i.bH=function(){for(var t=this.hH,n=this.wH;n<t.length;n++)t[n].ww=n;this.wH=t.length},i.kH=function(t){t<this.wH&&(this.wH=t)},i.Il=function(t){this.Nl||(this.Rl=t)},i.hv=function(){this.Wr();for(var t=this.hH.slice(),n=0;n<t.length;n++){t[n].hv()}Ps(this.hH),Ps(this.lH)},A(n,[{key:"xl",get:function(){return this.gH}},{key:"Cl",get:function(){return this._H}},{key:"SA",get:function(){return this.aH},set:function(t){this.aH=t}},{key:"Nl",get:function(){return this.dH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.cH},set:function(t){this.cH=t}},{key:"wl",get:function(){return this.fH}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Tu}},{key:"Rl",get:function(){return this.zI},set:function(t){this.iN(t)}},{key:"Dl",get:function(){return this.GF},set:function(t){this.GF!==t&&(this.GF=t,this.Fr(new YD(this,this.GF)))}},{key:"Ol",get:function(){return this.vH},set:function(t){this.vH=t}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new ZD(this)))}}]),n}(iu),eC=function(t){function n(n,i){var e;return(e=t.call(this,My.jg,n)||this).pm=i,e}return S(n,t),n.prototype.Rd=function(){return new rC(this.Kg.Ed)},n}(Vy),rC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Wy),sC=function(t){function n(n,i){var e;return(e=t.call(this,My.Jg,n)||this).pm=i,e}return S(n,t),n.prototype.Rd=function(){return new uC(this.Kg.Ed)},n}(Vy),uC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Wy),oC=function(t){function n(n){var i;return(i=t.call(this,dw.Od)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new hC(this.Kg.Ed)},n}(lw),hC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(_w),aC=function(t){function n(n){var i;return(i=t.call(this,dw.Bd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new cC(this.Kg.Ed)},n}(lw),cC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(_w),fC=function(t){function n(n){var i;return(i=t.call(this)||this).AH=void 0,i._w=void 0,i.Hg=void 0,i.dw=void 0,i.Sd=void 0,i.lw=!1,i.TH=function(){i.yw=!0},i.SH=function(){i.yw=!1},i.Hg=Iy(),i.AH=n,i.AH.addEventListener("enter",i.TH),i.AH.addEventListener("exit",i.SH),i}S(n,t);var i=n.prototype;return i.Rd=function(){return Xy(this)},i.mw=function(t){return this===t||Nw(this,t)&&Zy(this,t)},i.hv=function(){this.Wr(),this.AH.removeEventListener("enter",this.TH),this.AH.removeEventListener("exit",this.SH)},A(n,[{key:"gl",get:function(){return this.Hg}},{key:"tw",get:function(){return this.AH.startTime},set:function(t){this.AH.startTime=t}},{key:"nw",get:function(){return this.AH.endTime},set:function(t){this.AH.endTime=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w=t}},{key:"kw",get:function(){return!!this.AH.pauseOnExit},set:function(t){this.AH.pauseOnExit=!!t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"_l",get:function(){return this.AH.id||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.yw!==t&&(this.lw=t,t?(this.Fr(new eC(this,this.tw)),this.dw&&this.dw.Fr(new oC(this))):(this.Fr(new sC(this,this.nw)),this.dw&&this.dw.Fr(new aC(this))))}}]),n}(Kw),vC=function(t){function n(n){var i;return(i=t.call(this,dw.Md)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new dC(this.Id.Ed)},n}(lw),dC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(_w);function lC(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new _C(t),t.THEOplayerVTTRegion=n),n}}var _C=function(){function t(t){this.EH=void 0,this.Sd=void 0,this.EH=t}return A(t,[{key:"RH",get:function(){return this.EH}},{key:"_l",get:function(){return this.EH.id||""}},{key:"Rw",get:function(){return+this.EH.width||0},set:function(t){this.EH.width=t||0}},{key:"pw",get:function(){return+this.EH.lines||0},set:function(t){this.EH.lines=t||0}},{key:"bw",get:function(){return+this.EH.regionAnchorX||0},set:function(t){this.EH.regionAnchorX=t||0}},{key:"Aw",get:function(){return+this.EH.regionAnchorY||0},set:function(t){this.EH.regionAnchorY=t||0}},{key:"Sw",get:function(){return+this.EH.viewportAnchorX||0},set:function(t){this.EH.viewportAnchorX=t||0}},{key:"Ew",get:function(){return+this.EH.viewportAnchorY||0},set:function(t){this.EH.viewportAnchorY=t||0}},{key:"Tw",get:function(){return this.EH.scroll||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=rk(this)),this.Sd}}]),t}();var gC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"iw",get:function(){return this.AH.text},set:function(t){this.AH.text=t}},{key:"cw",get:function(){return this.AH.vertical||""},set:function(t){this.AH.vertical=t||""}},{key:"aw",get:function(){return this.AH.snapToLines},set:function(t){this.AH.snapToLines=t}},{key:"rw",get:function(){return this.AH.line},set:function(t){this.AH.line=t}},{key:"ls",get:function(){return+this.AH.size},set:function(t){this.AH.size=Bt(t,0,100)}}]),n}(fC),wC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&$y(this,n)},A(n,[{key:"hw",get:function(){return lC(this.AH.region)}},{key:"sw",get:function(){return this.AH.lineAlign||"start"},set:function(t){this.AH.lineAlign=t||"start"}},{key:"uw",get:function(){return this.AH.position},set:function(t){this.AH.position=t}},{key:"ow",get:function(){return this.AH.positionAlign||"auto"},set:function(t){this.AH.positionAlign=t||"auto"}},{key:"ew",get:function(){return this.AH.align||"center"},set:function(t){this.AH.align=t||"center"}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Gy(this)),this.Sd}}]),n}(gC),mC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&$y(this,n)},A(n,[{key:"hw",get:function(){return lC(this.RH)}},{key:"RH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.AH.track,this.AH.regionId)}},{key:"sw",get:function(){return"middle"===(t=this.AH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.AH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"uw",get:function(){return this.AH.position},set:function(t){var n,i;this.AH.position=(n=t,i=this.ew,zy(n,i))}},{key:"ow",get:function(){return t=this.AH.positionAlign||"middle",Fy[t];var t},set:function(t){var n,i;this.AH.positionAlign=(n=t||"center",i=this.ew,Uy[Hy(n,i)])}},{key:"ew",get:function(){return"middle"===(t=this.AH.align||"middle")?"center":t;var t},set:function(t){var n;this.AH.align="center"===(n=t||"center")?"middle":n}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Gy(this)),this.Sd}}]),n}(gC);function yC(t,n){return t.iw===n.iw}function kC(t,n,i){for(var e=t[n].tw,r=n;r>=0&&t[r].tw===e;r--)t[r].nw=i}function pC(t){return Xy(t)}var bC,AC,TC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).IH=void 0,e.IH=i,e}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&yC(this,n)},A(n,[{key:"iw",get:function(){return this.IH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=pC(this)),this.Sd}}]),n}(fC);function SC(t){switch(t){case bC.ISO_8859_1:case bC.UTF16_BOM:case bC.UTF16:case bC.UTF8:return!0}return!1}function EC(t){switch(t){case bC.ISO_8859_1:return io;case bC.UTF16_BOM:return so;case bC.UTF16:return uo;case bC.UTF8:return lo}}function RC(t,n){var i=n.ps,e=t.byteLength,r=ko(t);return n.gs(e-i),Ao(r,i,e).buffer}function IC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function NC(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e);return{id:i,language:to(t,n,3),description:r(t,n),text:r(t,n)}}}function DC(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e);return{id:i,mimeType:io(t,n),fileName:r(t,n),description:r(t,n),data:RC(t,n)}}}function CC(t,n,i){var e=zu(t,n);if(SC(e)){for(var r=EC(e),s=[];n.ps<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function xC(t,n,i){var e=zu(t,n);if(SC(e)){for(var r=EC(e),s=to(t,n,3),u=zu(t,n),o=zu(t,n),h=r(t,n),a=!1,c=[];n.ps<t.byteLength;){var f=void 0;if(e===bC.UTF16_BOM){var v=ro(t,n);void 0===v?v=a:a=v,f=uo(t,n,v)}else f=r(t,n);if(!f||n.ps+4>t.byteLength)break;c.push({text:f,timestamp:ju(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function OC(t,n,i){return{id:i,ownerIdentifier:io(t,n),identifier:RC(t,n)}}function PC(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e);return{id:i,language:to(t,n,3),description:r(t,n),text:r(t,n)}}}function BC(t,n,i){var e=zu(t,n);if(SC(e))return{id:i,text:EC(e)(t,n)}}function LC(t,n,i){return{id:i,url:io(t,n)}}function MC(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function UC(t,n,i){var e=zu(t,n);if(SC(e))return{id:i,description:EC(e)(t,n),url:io(t,n)}}function FC(t,n,i){switch(i){case"COM":return NC(t,n,i);case"GEO":return DC(t,n,i);case"IPL":return CC(t,n,i);case"PIC":return function(t,n,i){var e=zu(t,n);if(SC(e)){var r,s,u=EC(e),o=to(t,n,3),h=zu(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=io(t,n)):(r="image/"+o.toLowerCase(),s=RC(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return xC(t,n,i);case"TXX":return MC(t,n,i);case"UFI":return OC(t,n,i);case"ULT":return PC(t,n,i);case"WXX":return UC(t,n,i);default:if("T"===i.charAt(0))return BC(t,n,i);if("W"===i.charAt(0))return LC(t,n,i)}}function HC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e),s=io(t,n);return{id:i,mimeType:s,pictureType:zu(t,n),description:r(t,n),data:"--\x3e"===s?io(t,n):RC(t,n)}}}(t,n,i);case"COMM":return NC(t,n,i);case"COMR":return function(t,n,i){var e=zu(t,n);if(SC(e)){var r,s,u=EC(e),o=io(t,n),h=to(t,n,8),a=io(t,n),c=zu(t,n),f=u(t,n),v=u(t,n);return n.ps<t.byteLength&&(r=io(t,n)||"image/",s=RC(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return DC(t,n,i);case"IPLS":return CC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:io(t,n),data:RC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:zu(t,n),position:ju(t,n)}}(t,n,i);case"SYLT":return xC(t,n,i);case"TXXX":return MC(t,n,i);case"UFID":return OC(t,n,i);case"USER":return function(t,n,i){var e=zu(t,n);if(SC(e)){var r=EC(e);return{id:i,language:to(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return PC(t,n,i);case"WXXX":return UC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return BC(t,n,i);default:var e=i.charAt(0);if("T"===e)return BC(t,n,i);if("W"===e)return LC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(bC||(bC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(AC||(AC={}));var zC=10;function VC(t,n){return(127&zu(t,n))<<21|(127&zu(t,n))<<14|(127&zu(t,n))<<7|127&zu(t,n)}function WC(t,n){switch(t){case AC.V24:return{NH:Hu(n,0),DH:Hu(n,1),CH:Hu(n,2),xH:Hu(n,3)};case AC.V23:return{NH:Hu(n,0),DH:Hu(n,1),CH:Hu(n,2)};case AC.V22:return{NH:Hu(n,0),OH:Hu(n,1)}}}function XC(t,n,i){switch(i.Ik){case AC.V23:i.Nk.DH&&function(t,n){var i=n.ps,e=ju(t,n)+4,r=32768&Qu(t,n);n.ys(i+e),r&&ju(t,n)}(t,n);break;case AC.V24:i.Nk.DH&&function(t,n){var i=n.ps,e=VC(t,n);n.ys(i+e)}(t,n)}}function qC(t,n){if(t.byteLength-n.ps<zC)return null;if(73!==zu(t,n)||68!==zu(t,n)||51!==zu(t,n))return null;var i=zu(t,n),e=zu(t,n);if(!function(t){switch(t){case AC.V22:case AC.V23:case AC.V24:return!0}return!1}(i))return null;var r=zu(t,n),s=VC(t,n);return{Ik:i,PH:e,Nk:WC(i,r),BH:s}}function GC(t,n,i){switch(i.Ik){case AC.V22:return function(t,n,i){return{_l:to(t,n,3),ls:Gu(t,n,3)}}(t,n);case AC.V23:return function(t,n,i){var e=to(t,n,4),r=ju(t,n);zu(t,n);var s=zu(t,n);return{_l:e,ls:r,Nk:{OH:Hu(s,0),LH:Hu(s,1),groupingIdentity:Hu(s,2)}}}(t,n);case AC.V24:return function(t,n,i){var e=to(t,n,4),r=VC(t,n);zu(t,n);var s=zu(t,n);return{_l:e,ls:r,Nk:{groupingIdentity:Hu(s,1),OH:Hu(s,4),LH:Hu(s,5),NH:Hu(s,6),MH:Hu(s,7)}}}(t,n)}}function QC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function YC(t,n){var i=n||new So,e=qC(t,i);return e?{Ak:e,UH:function(t,n,i){var e=[],r=n.ps,s=mo(t,r,r+i.BH),u=new So;switch(n.gs(i.BH),i.Ik){case AC.V22:case AC.V23:i.Nk.NH&&(s=QC(s))}XC(t,n,i);for(;u.ps<s.byteLength;)e.push(jC(s,u,i));return e}(t,i,e)}:null}function jC(t,n,i){var e,r,s=GC(t,n,i),u=n.ps,o=mo(t,u,u+s.ls);switch(n.gs(s.ls),i.Ik){case AC.V22:var h=s;e=FC(r=o,new So,h._l);break;case AC.V23:var a=s,c=new So;!function(t,n,i){var e,r,s,u=i.Nk;u.OH&&(e=ju(t,n)),u.LH&&(r=zu(t,n)),u.groupingIdentity&&(s=zu(t,n))}(o,c,a),e=HC(r=mo(o,c.ps,o.byteLength),new So,a._l);break;case AC.V24:var f=s,v=new So;f.Nk.NH&&(o=QC(o)),function(t,n,i){var e,r,s,u,o=i.Nk;o.groupingIdentity&&(e=zu(t,n)),o.OH&&(r=ju(t,n)),o.LH&&(s=zu(t,n)),o.MH&&(u=VC(t,n))}(o,v,f),e=HC(r=mo(o,v.ps,o.byteLength),new So,f._l)}if(!e){var d=To(ko(r));e=IC(s._l,d.buffer)}return e}function ZC(t){return function(t,n,i){return BC(t,n,i)}(new DataView(t.data),new So,t.key)}function JC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ZC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return IC(t.key,t.data)}(t)}var $C="org.id3";var KC=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ug=void 0,r.FH=void 0,r.hH=[],r.lH=[],r._H=void 0,r.gH=void 0,r.Hg=void 0,r.Fg=void 0,r.zI=Ww.bl,r.GF=xy.NONE,r.Sd=void 0,r.vH=void 0,r.fi=Oy.DEFAULT,r.HH=void 0,r.zH=function(){r.VH(),r.Ug.removeEventListener("cuechange",r.zH)},r.WH=function(){r.Rl!==Ww.bl&&(r.XH(),r.pH(),r.hH.length&&r.qH(xy.LOADING))},r.GH=function(){r.qH(xy.LOADED)},r.QH=function(){r.qH(xy.ERROR)},r.Ug=n,r.HH=e,r.Ug.addEventListener("cuechange",r.zH),r.Ug.addEventListener("cuechange",r.WH),r.FH=i,r.FH&&(r.vH=S_(r.FH.src),r.FH.addEventListener("load",r.GH),r.FH.addEventListener("error",r.QH)),r.Hg=Ty(),r.Fg=n.label||"",r._H=new QD(r.hH),r.gH=new QD(r.lH),r.Rl=r.YH,js(function(){r.WH(),r.qH(xy.NONE)}),r}S(n,t);var i=n.prototype;return i.Rd=function(){return Yw(this)},i.VH=function(){var t=this.Rl;this.jH||t!==Ww.Tl?this.YH=t:this.YH=Ww.Al},i.ZH=function(){var t=this.Rl,n=this.YH;t!==n&&(this.jH||t!==Ww.Tl||n!==Ww.Al)&&("metadata"===this.wl&&n===Ww.bl?this.Rl=t:this.Rl=n)},i.YF=function(t){this.GF!==t&&(this.GF=t,this.Fr(new YD(this,t)))},i.qH=function(t){var n=_.max(this.GF,this.JH,t);this.YF(n)},n.$H=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.KH=function(t){var i=n.$H(t);if(i)return i;if(V(i=this.tz(t)))for(var e=0,r=i;e<r.length;e++){r[e].Id=this}else i.Id=this;return t.THEOplayerTextTrackCue=i,i},i.tz=function(t){return(n=t)&&n.type===$C&&n.value?(this.nr=Oy.ID3,function(t){var n;try{n=JC(t.value)}catch(t){n=IC("")}return new TC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.nr=Oy.ID3,function(t){var n=[];try{var i=YC(new DataView(t.data));if(i)for(var e=0,r=i.UH;e<r.length;e++){var s=r[e];n.push(new TC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.nr=Oy.WEBVTT,function(t){return"regionId"in t}(t)?new mC(t):new wC(t)):new fC(t);var n},i.nz=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.KH(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.XH=function(){for(var t=this.nz(this.Ug.cues),n=GD(this.hH,t),i=0,e=n.oH;i<e.length;i++){var r=e[i];r.Xr(My.Jg,this.WH),r.Xr(My.jg,this.WH),this.Fr(new tC(r))}for(var s=0,u=n.uH;s<u.length;s++){var o=u[s];o.Hr(My.jg,this.WH),o.Hr(My.Jg,this.WH),this.Fr(new $D(o))}},i.pH=function(){for(var t=this.nz(this.Ug.activeCues),n=GD(this.lH,t),i=0,e=n.oH;i<e.length;i++){e[i].yw=!1}for(var r=0,s=n.uH;r<s.length;r++){s[r].yw=!0}(n.uH.length||n.oH.length)&&this.Fr(new vC(this))},i.Il=function(t){this.Rl=t},i.hv=function(){this.Wr();for(var t=this.hH.slice(),n=0;n<t.length;n++){t[n].hv()}Ps(this.hH),Ps(this.lH),this.Ug.removeEventListener("cuechange",this.WH),this.FH&&(this.Ug.removeEventListener("load",this.GH),this.Ug.removeEventListener("error",this.QH)),this.FH&&Ze(this.FH)},A(n,[{key:"xl",get:function(){return this.gH}},{key:"SA",get:function(){return this.FH?this.FH.default:void 0}},{key:"Cl",get:function(){return this._H}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Ug.id||this.FH&&this.FH.id||""}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"wl",get:function(){return this.Ug.kind||Yp.Zy}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.ml&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"Rl",get:function(){return this.zI},set:function(t){var n=this.Rl;this.zI=Gw(t),this.VH();var i=this.Rl;n!==i&&this.Fr(new pw(this)),i!==Ww.bl&&this.qH(xy.LOADING)}},{key:"YH",get:function(){return Gw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}},{key:"Dl",get:function(){return this.GF}},{key:"JH",get:function(){return this.FH?+this.FH.readyState||xy.NONE:xy.LOADED}},{key:"Ol",get:function(){return this.vH}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new ZD(this)))}},{key:"jH",get:function(){return this.HH},set:function(t){this.HH=t,this.VH()}}]),n}(iu);function tx(t){return t instanceof KC}function nx(t,n){return Es(t.pm,n.pm)||function(t,n){return t.Id===n.Id?Ss(qD(t),qD(n)):hb(t.Id,n.Id)}(t.Kg,n.Kg)||function(t,n){return t===n?ys.gr:t===My.jg?ys.mr:ys.wr}(t.type,n.type)}var ix=function(){function t(t,n){var i=this;this.gR=void 0,this.iz=void 0,this.W_=[],this.ez=0,this.rz=0,this.sz=[],this.uz=!1,this.oz=!1,this.hz=void 0,this.az=function(){i.ez=0,i.cz(),i.fz()},this.vz=function(){i.cz(),i.fz()},this.dz=function(){i.oz=!0,i.hz=i.gR.v_,i.lz()},this._z=function(){i.cz(),i.fz()},this.gz=function(){i.wz(),i.cz(),i.fz()},this.mz=function(){i.yz()},this.kz=function(t){Cs(i.sz,t.Kg),i.yz()},this.iz=n,this.gR=t,t.Hr(Xc.La,this.vz),t.Hr(Xc.Aa,this.vz),t.Hr(Em.f_,this.vz),t.Hr(Xc.ba,this.vz),t.Hr(Xc.Na,this.dz),t.Hr(Xc.Ia,this._z),this.yz()}var n=t.prototype;return n.nl=function(){Ps(this.sz);for(var t=0,n=this.W_.slice();t<n.length;t++){var i=n[t];this.Kd(i)}this.lz(),this.ez=0,this.rz=0,this.uz=!1,this.oz=!1,this.hz=void 0},n.$d=function(t){Os(this.W_,t)||(this.W_.push(t),t.Hr(dw.Nd,this.mz),t.Hr(dw.Cd,this.kz),t.Hr(dw.Fd,this.gz),t.Cl.sl&&this.yz(),this.wz())},n.Kd=function(t){if(Cs(this.W_,t)){if(t.Xr(dw.Nd,this.mz),t.Xr(dw.Cd,this.kz),t.Xr(dw.Fd,this.gz),t.Cl.sl){for(var n=0,i=t.Cl.il;n<i.length;n++){var e=i[n];Cs(this.sz,e)}this.yz()}this.wz()}},n.wz=function(){this.uz=this.W_.some(function(t){return t.Rl!==Ww.bl})},n.fz=function(){this.gR.y_||this.gR.w_?this.lz():this.yz()},n.yz=function(){this.uz&&(this.ez||(this.ez=this.iz.Hi(this.az)))},n.lz=function(){this.ez&&(this.iz.pz(this.ez),this.ez=0)},n.cz=function(){var t;if(this.uz&&!this.gR.y_){var n=this.W_,i=this.rz,e=null!=(t=this.hz)?t:this.gR.v_,r=e-i<-.1,s=this.oz||r;s&&e>i&&e-i<.1&&(s=!1),this.oz=!1,this.hz=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.Rl!==Ww.bl){a.pH(e,s);for(var c=0,f=a.xl.il;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.sz;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.Rl!==Ww.bl&&ob(l,i-1/6,e,u)}}for(var g=u.length-1;g>=0;g--)Os(o,u[g])&&xs(u,g);var w=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.tw>=i&&y.nw<=e&&(w.push(y),xs(u,m))}for(var k=[],p=[],b=0;b<w.length;b++){var A=w[b];A.yw||k.push(new eC(A,A.tw)),k.push(new sC(A,_.max(A.tw,A.nw)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.yw&&(k.push(new sC(E,_.max(E.tw,E.nw))),E.yw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.yw||(k.push(new eC(I,I.tw)),I.yw=!0)}k.sort(nx);for(var N=0;N<k.length;N++){var D=k[N],C=D.Kg;C.Fr(D);var x=C.Id;x&&(D.type===My.jg?x.Fr(new oC(C)):x.Fr(new aC(C)),Os(p,x)||p.push(x))}p.sort(hb);for(var O=0;O<p.length;O++){var P=p[O];P.Fr(new vC(P))}this.rz=e,this.sz=o}},n.hv=function(){this.nl(),this.gR.Xr(Xc.La,this.vz),this.gR.Xr(Xc.Aa,this.vz),this.gR.Xr(Em.f_,this.vz),this.gR.Xr(Xc.ba,this.vz),this.gR.Xr(Xc.Na,this.dz),this.gR.Xr(Xc.Ia,this._z)},t}(),ex=function(){function t(){}var n=t.prototype;return n.Hi=function(t){return QR(t)},n.pz=function(t){YR(t)},t}(),rx=new ex,sx=function(t){function n(n,i){return void 0===i&&(i=rx),t.call(this,n,i)||this}return S(n,t),n}(ix),ux=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).bz=void 0,r}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&yC(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=pC(this)),this.Sd}}]),n}(Jy),ox=function(t){function n(n,i,e){return void 0===e&&(e=Oy.DEFAULT),t.call(this,Yp.$y,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(iC),hx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).bz=void 0,e.nr=Oy.ID3,e}S(n,t);var i=n.prototype;return i.AA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].tw<t.tw)kC(n,i,t.tw);else{var e=n[0];if(e.tw>t.tw)t.nw=e.tw;else{var r=XD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].tw<t.tw&&kC(n,u,t.tw),s<n.length){var o=n[s];t.nw=o.tw}}}}}}(n,this.hH),t.prototype.AA.call(this,n)},i.Rd=function(){return Yw(this)},n}(ox);function ax(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=JC(t.value);return t.THEOplayerTextTrackCue=new ux(i,e),t.THEOplayerTextTrackCue}var cx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ug=void 0,i.WH=function(){i.Rl!==Ww.bl&&(i.XH(),i.qH(xy.LOADED))},i.Ug=n,i.Ug.addEventListener("cuechange",i.WH),i.Rl=i.YH,js(function(){i.WH()}),i}S(n,t);var i=n.prototype;return i.iN=function(n){t.prototype.iN.call(this,n),this.YH=this.Rl},i.qH=function(t){this.Dl=_.max(this.Dl,t)},i.XH=function(){var t=this.Ug.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(ax(t[e]||t.item(e)));return bs(i,WD),i}(t),i=GD(this.Cl.il.slice(),n),e=0,r=i.oH;e<r.length;e++){var s=r[e];this.cA(s)}for(var u=0,o=i.uH;u<o.length;u++){var h=o[u];this.AA(h)}}},i.hv=function(){this.Ug.removeEventListener("cuechange",this.WH),t.prototype.hv.call(this)},A(n,[{key:"_l",get:function(){return this.Ug.id||""}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"YH",get:function(){return Gw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}}]),n}(hx),fx=function(t){function n(n){var i;return(i=t.call(this,0,n.iw)||this).Az=void 0,i.Az=n,i.nw=i.Az.tw,i}return S(n,t),A(n,[{key:"_l",get:function(){return this.Az._l}},{key:"kw",get:function(){return this.Az.kw},set:function(t){this.Az.kw=t}}]),n}(ux);function vx(t){return void 0===t.bz&&(t.bz=new fx(t)),t.bz}var dx=function(t){function n(n,i){var e;(e=t.call(this,n.El,n.ml)||this).Tz=void 0,e.Sz=void 0,e.Ez=void 0,e.Rz=function(t){e.Iz(t.Kg)},e.Nz=function(t){var n=t.Kg;if(void 0!==n.bz){var i=n.bz;n.bz=void 0,e.cA(i),i.hv()}},e.Dz=function(t){var n=vx(t.Kg);n.yw||e.Cz(n),e.xz(n)},e.Oz=function(t){var n=t.Kg,i=vx(n);e.Sz.v_<n.tw&&e.Cz(i)},e.Pz=function(){var t=e.Ez,n=e.Rl;if(e.Ez=n,n===Ww.bl){for(var i=0,r=e.lH;i<r.length;i++){r[i].yw=!1}Ps(e.lH)}else if(t===Ww.bl)for(var s=e.Sz.v_,u=0,o=e.hH;u<o.length;u++){var h=o[u];s<h.nw&&e.Cz(h)}},e.nr=Oy.ID3,e.Sz=i,e.Tz=n,e.Ez=n.Rl,n.Hr(dw.Nd,e.Rz),n.Hr(dw.Cd,e.Nz),n.Hr(dw.Od,e.Dz),n.Hr(dw.Bd,e.Oz),n.Hr(dw.Fd,e.Pz);for(var r=0,s=e.Tz.Cl.il;r<s.length;r++){var u=s[r];e.Iz(u)}return e}S(n,t);var i=n.prototype;return i.Cz=function(t){var n=XD(this.lH,t);if(!(n>=0)){var i=-(n+1);this.lH.splice(i,0,t),t.yw=!0,t.Fr(new eC(t,this.Sz.v_)),this.Fr(new oC(t)),this.Fr(new vC(this))}},i.xz=function(t){var n=XD(this.lH,t);n>=0&&xs(this.lH,n),t.yw=!1,t.Fr(new sC(t,this.Sz.v_)),this.Fr(new aC(t)),this.Fr(new vC(this))},i.hv=function(){this.Tz.Xr(dw.Nd,this.Rz),this.Tz.Xr(dw.Cd,this.Nz),this.Tz.Xr(dw.Od,this.Dz),this.Tz.Xr(dw.Bd,this.Oz),this.Tz.Xr(dw.Fd,this.Pz),t.prototype.hv.call(this)},i.Iz=function(t){var n=vx(t);(this.AA(n),this.Rl!==Ww.bl)&&(this.Sz.v_<n.nw&&this.Cz(n))},A(n,[{key:"wl",get:function(){return this.Tz.wl}},{key:"ml",get:function(){return this.Tz.ml},set:function(t){this.Tz.ml=t}},{key:"yl",get:function(){return this.Tz.yl}},{key:"_l",get:function(){return this.Tz._l}},{key:"gl",get:function(){return this.Tz.gl}},{key:"El",get:function(){return this.Tz.El}},{key:"Rl",get:function(){return this.Tz.Rl},set:function(t){this.Tz.Rl=t}},{key:"Dl",get:function(){return this.Tz.Dl}},{key:"Ol",get:function(){return this.Tz.Ol}}]),n}(ox),lx=function(t){function n(n){var i;return(i=t.call(this)||this).Sz=void 0,i.Sz=n,i}S(n,t);var i=n.prototype;return i.$d=function(n){if(n.nr===Oy.ID3){var i=n;return i.bz||(i.bz=new dx(i,this.Sz)),t.prototype.$d.call(this,i.bz)}return t.prototype.$d.call(this,n)},i.Kd=function(n){if(n.nr===Oy.ID3){var i=n;return!!i.bz&&t.prototype.Kd.call(this,i.bz)}return t.prototype.Kd.call(this,n)},n}($w),_x=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bz=Dr(),e.zS=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Id).nr){i.next=4;break}return i.next=4,Er.awrap(n.Yr(dw.Wd));case 4:if(n.nr===Oy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Cl.sl){i.next=11;break}return i.next=9,Er.awrap(n.Yr(dw.Nd));case 9:i.next=6;break;case 11:e.Lz(n);case 12:case"end":return i.stop()}},null,null,null,ze)},e.VS=function(t){var n=t.Id;if(n.nr===Oy.ID3&&e.Bz.has(n.gl)){var i=e.Bz.get(n.gl);e.Kd(i),e.wA.TA(i),n.Xr(dw.Nd,e.Iz)}},e.Iz=function(t){gx(t.Kg)&&e.Mz(t.Kg)},e.wA=n,e.Uz=i,e.Fz(),e}S(n,t);var i=n.prototype;return i.Fz=function(){this.Uz.Hr(aw.pd,this.zS),this.Uz.Hr(aw.Ad,this.VS)},i.Hz=function(){this.Uz.Xr(aw.pd,this.zS),this.Uz.Xr(aw.Ad,this.VS)},i.Lz=function(t){var n=t.Cl.il[0];if(gx(n)){var i=function(t){var n=t.match(wx);if(!n)return;return{Id:n[1],yl:n[2]}}(n.iw.description),e=i.Id,r=i.yl;if(!this.zz(e,r)){var s=this.wA.pA(Yp.Zy,t._l,e,r,!1,Oy.TTML);this.$d(s),this.Bz.set(t.gl,s);for(var u=0,o=t.Cl.il;u<o.length;u++){var h=o[u];gx(h)&&this.Mz(h)}t.Hr(dw.Nd,this.Iz)}}},i.zz=function(t,n){return!!Ns(this.qk.il,function(i){return i.ml===t&&i.yl===n})},i.Mz=function(t){if(t.Id)for(var n=this.Bz.get(t.Id.gl),i=Up(t.iw.text,0,{Jm:0,$m:1/0,Km:t.nw}),e=0;e<i.length;e++){var r=i[e];n.AA(r)}},i.nl=function(){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.Uz.il;n<i.length;n++)i[n].Xr(dw.Nd,this.Iz);for(e=0,r=this.qk.il;e<r.length;e++)s=r[e],this.wA.TA(s);return this.Bz.clear(),u.next=5,Er.awrap(t.prototype.nl.call(this));case 5:case"end":return u.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Hz(),n.next=3,Er.awrap(t.prototype.hv.call(this));case 3:case"end":return n.stop()}},null,this,null,ze)},n}(db);function gx(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.iw)&&wx.test(n.description);var n}var wx=/^Track:(.+),Lang:(.+)$/;var mx=function(t){function n(n){var i;return(i=t.call(this,Xc.ha)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ru),yx=function(t){function n(){return t.call(this,Xc.aa)||this}return S(n,t),n}(ru),kx=function(t){function n(n){var i;return(i=t.call(this,"Fa")||this).Vz=n,i}return S(n,t),n}(ru),px=new EN,bx=function(t){function n(n){var i;return(i=t.call(this,"Go")||this).session=n,i}return S(n,t),n}(ru),Ax=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).Wz=!1,u.Xz=!1,u.Fc=new Fs,u.Vo=function(t){switch(t.$r){case"license-request":u.uT(t.Jr,t.Kr).catch(function(t){return u.Th(t)});break;default:u.Th(new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.$r))}},u.qz=function(t){u.Gz.th.fs(function(t,n){switch(t){case"usable":i.Nn(function(){u.Xz=!0,u.Fr(new yx)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Fr(new kx(n))}})},u.Qz=function(t){u.Th(new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.Gz=e,u.Yz=r,u.jz=s,e.Hr("Jr",u.Vo),e.Hr("Zr",u.qz),e.Hr("ts",u.Qz),e.$o.then(function(){return u.Zz()}),u}S(e,t);var r=e.prototype;return r.Qo=function(){var t=this;return this.Wz=!0,px.zB(function(n){return t.Jz(n)},this.Fc.Pr)},r.Jz=function(t){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Vs(t),s.next=4,Er.awrap(this.Yz.KA(t));case 4:return s.next=6,Er.awrap(this.Yz.tT(this.jz.er,this.jz.os,t));case 6:return i=s.sent,s.next=9,Er.awrap(this.Gz.Qo(this.jz.er,this.jz.os,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),Ws(s.t0),e=s.t0 instanceof xo?s.t0.Cs:void 0,r=new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Th(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],ze)},r.uT=function(t,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!No(t)){s.next=7;break}return s.next=4,Er.awrap(this.Yz.lT(new y(t),this.Fc.Pr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,Er.awrap(this.Yz._T(new y(t),i,this.Fc.Pr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!zs(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,Er.awrap(this.Gz.Zo(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof xo?s.t1.Cs:void 0,new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],ze)},r.Th=function(t){var i=t instanceof dy?t:new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new mx(i)),this.Go()},r.Zz=function(){this.Gz.Xr("Jr",this.Vo),this.Gz.Xr("Zr",this.qz),this.Gz.Xr("ts",this.Qz),this.Xz=!1,this.Fc.Cr(),this.Fr(new bx(this))},r.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.Zz(),t.next=4,Er.awrap(this.Gz.Go().catch(Z));case 4:case"end":return t.stop()}},null,this,null,ze)},e}(iu),Tx=[Xc.aa,Xc.ha,Xc.Ua],Sx=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wo=void 0,r.ih=void 0,r.$z=void 0,r.Kz=[],r.tV=void 0,r.nV=[],r.iV=function(t){t.session.Xr(Tx,r.Ur),t.session.Xr("Go",r.iV),Cs(r.Kz,t.session)},r.Wo=n,r.ih=i,r.$z=e,r}S(n,t);var i=n.prototype;return i.dT=function(){return this.$z.dT()},i.eV=function(t){return this.tV||(this.tV=this.rV(t)),this.tV},i.rV=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(t),i.next=3,Er.awrap(this.$z.lT(new y(Io()),t));case 3:if(n=i.sent,Vs(t),this.ih){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Er.awrap(this.ih.uh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,ze)},i.sV=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ih){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.nV.push(t),e.next=6,Er.awrap(this.ih.sh("temporary"));case 6:return n=e.sent,i=new Ax(n,this.$z,t),this.Kz.push(i),i.Hr(Tx,this.Ur),i.Hr("Go",this.iV),e.abrupt("return",i);case 12:return e.prev=12,Cs(this.nV,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],ze)},i.uV=function(t){if(t.oV)return!1;for(var n=0,i=this.Kz;n<i.length;n++){if(Ex(i[n].jz,t))return!0}for(var e=0,r=this.nV;e<r.length;e++){if(Ex(r[e],t))return!0}return!1},i.hv=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ih=void 0,this.Wr(),t=this.Kz.slice(),Ps(this.Kz),n.next=6,Er.awrap(ze.all(t.map(function(t){return t.Go()})));case 6:this.$z.Sr();case 7:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"eh",get:function(){return this.Wo}}]),n}(iu);function Ex(t,n){return!t.oV&&t.er===n.er&&Tu(t.os,n.os)}var Rx=function(t){function e(n){var i;return(i=t.call(this)||this).JS=void 0,i.Fc=new Fs,i.$B=new EN,i.Ch=void 0,i.$z=void 0,i.$S=void 0,i.Wo=void 0,i.hV=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(i.aV(t.er,t.os,i.Fc.Pr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),zs(n.t0)||i.Th(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],ze)},i.JS=n,i.JS.Hr(nu.es,i.hV),i}S(e,t);var r=e.prototype;return r.Yo=function(t,n){this.$S=t,this.AL(n)},r.AL=function(t){this.Ch=t,this.cV(this.Fc.Pr).catch(Xs)},r.cV=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Pe.Ki){n.next=5;break}return n.next=3,Er.awrap(this.fV(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Ch||!this.Ch.vV){n.next=9;break}return n.next=8,Er.awrap(this.dV(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,ze)},r.fV=function(t){var n,i,e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Ch)?void 0:n.IE){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Ch)?void 0:u.IE)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],h=0,a=null!=(c=o.US)?c:[];case 8:if(!(h<a.length)){v.next=22;break}return f=a[h],v.prev=10,v.next=13,Er.awrap(this.aV(o.eh.er,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),Ws(v.t0);case 19:h++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],ze)},r.aV=function(t,e,r){var s,u,o,h,a,c,f,v,d,l;return Er.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(Vs(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Ch&&this.Ch.IE.length){_.next=5;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Hr||t===Vr||t===zr){_.next=8;break}return _.abrupt("return");case 8:s=VA(t,e),u=this.Ch.IE,h=0;case 11:if(!(h<u.length)){_.next=42;break}if(a=u[h],Vs(r),(c=s[a.eh.rr])&&a.eh.er===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,Er.awrap(this.lV(a,r));case 20:if(!(f=_.sent).dT()){_.next=24;break}return _.next=24,Er.awrap(f.eV());case 24:if(v=this.JS.bg,d={er:a.eh.er,os:c,oV:v},!this._V(f,d)){_.next=32;break}return _.next=29,Er.awrap(f.sV(d));case 29:return l=_.sent,_.next=32,Er.awrap(l.Qo());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),Ws(_.t0),o=_.t0;case 39:h++,_.next=11;break;case 42:return _.next=44,Er.awrap(i.Ae());case 44:if(!_.sent){_.next=48;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],ze)},r.dV=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Ch)?void 0:n.IE){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],Vs(t),u.prev=7,u.next=10,Er.awrap(this.lV(r,t));case 10:if(!(s=u.sent).dT()){u.next=14;break}return u.next=14,Er.awrap(s.eV());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),Ws(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],ze)},r._V=function(t,n){return i.Pe.$i||!t.uV(n)},r.lV=function(t,n){var i=this;return this.$B.zB(function(n){return i.gV(t,n)},n)},r.gV=function(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(Vs(n),this.Ch&&this.$z&&this.$S){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Wo){o.next=7;break}if(this.Wo.eh===t.eh){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Wo);case 7:return i=this.$z,e=Rr({},t,{VE:t.VE.map(function(n){var e;return Rr({},n,{persistentState:null!=(e=n.persistentState)?e:i.BT(t.eh),gh:n.gh||i.gh(t.eh)})})}),o.next=11,Er.awrap(this.$S.kL(e.eh,e.VE));case 11:return r=o.sent,s=i.MS(e),(u=new Sx(e.eh,r,s)).Hr([Xc.aa,Xc.ha,Xc.Ua],this.Ur),this.Wo=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,ze)},r.Th=function(t){var i=t instanceof dy?t:new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new mx(i))},r.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$S=void 0,this.Ch=void 0,this.Fc.Cr(),this.Fc=new Fs,t.next=6,Er.awrap(this.wV());case 6:case"end":return t.stop()}},null,this,null,ze)},r.wV=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.$B.Cr());case 2:if(!(t=this.Wo)){n.next=8;break}return t.Xr(Xc.Ua,this.Ur),this.Wo=void 0,n.next=8,Er.awrap(t.hv());case 8:case"end":return n.stop()}},null,this,null,ze)},r.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.JS.Xr(nu.es,this.hV),t.next=4,Er.awrap(this.nl());case 4:return t.next=6,Er.awrap(this.$B.hv());case 6:case"end":return t.stop()}},null,this,null,ze)},A(e,[{key:"mV",get:function(){var t;return null==(t=this.Wo)?void 0:t.eh}},{key:"SE",get:function(){return this.$z},set:function(t){this.$z=t}}]),e}(iu),Ix=L.un||L.hn,Nx=L.En,Dx=.5,Cx=5,xx=L.dn,Ox=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vh=void 0,s.yV=void 0,s.KS=void 0,s.yR=!0,s.$S=void 0,s.kV=new EN,s.pV=void 0,s.bV=void 0,s.AV=void 0,s.gL=void 0,s.W_=void 0,s.SI=void 0,s.TV=[],s.SV=void 0,s.EV=void 0,s.RV=void 0,s.IV=void 0,s.NV=void 0,s.DV=void 0,s.CV=void 0,s.xV=NaN,s.OV=void 0,s.PV=void 0,s.bI=!1,s.BV=ze.resolve(),s.LV=new Fs,s.MV=[],s.UV=US.dI(),s.FV=void 0,s.HV=1,s.zV=!1,s.VV=!1,s.WV=!1,s.XV=!1,s.hr=void 0,s.qV=!1,s.GV=!1,s.QV=!1,s.YV=!1,s.jV=0,s.ZV=function(t){var n=t.track,i=s.JV(n);s.$V(n,i)},s.KV=function(t){var n=Mx(s.SV,t.track);n&&s.SV.Kd(n)},s.tW=function(){for(var t=0;t<s.W_.sl;t++){var n=s.W_.Jd(t);n instanceof KC&&n.ZH()}},s.nW=function(){s.SV.nl()},s.iW=function(){var t=s.$S,n=t.SF,i=t.EF;if(n&&i)if(t.CL)s.eW();else if(t.Dl!==ID.MU){var e=n.yg,r=i.yg;if(0!==e.sl&&0!==r.sl){var u=s.v_;if(u<e.RR(0)||u<r.RR(0))s.eW();else if(e.WE(u)!==r.WE(u)){if(t.lF(u))return;s.rW()}else{if(s.eW(),!s.jV&&s.AV.iH())e.ZR(r).nI(u,u+Dx)&&(s.jV=QR(s.sW))}}else s.eW()}},s.sW=function(){s.jV=0,s.iW()},s.uW=function(){if(!(s.y_||s.Dl>=am.r_)){0;var t=s.$S,n=t.SF,i=t.EF;if(n&&i){var e=s.v_,r=n.yg,u=i.yg;if(r.WE(e)&&u.WE(e))r.ZR(u).nI(e-Cx,e)&&(s.QV?s.eW():s.oW())}}},s.hW=function(){s.Fr(new Nm(s.v_))},s.aW=function(){s.cW(new Hs),s.Fr(new Im(s.v_))},s.fW=function(){s.vW(),s.Fr(new Gb(s.v_))},s.dW=function(){s.lW(s.m_)},s._W=function(){s.Fr(new Pm(s.d_))},s.gW=function(){s.Fr(new jN(s.v_))},s.wW=function(){s.Fr(new ZN)},s.mW=function(){var t=s.v_,n=s.y_,i=s.Dl<am.r_&&!s.l_,e=void 0!==s.PV,r=e&&s.PV!==t;(n||!e||r&&!i)&&(s.Fr(new Lm(s.v_,void 0)),s.PV=t)},s.yW=function(){!s.zV&&s.l_&&(s.zV=!0,s.Fr(new Mm(s.v_)))},s.kW=function(){if(null!==s.Vh.error){var t,n=s.Vh.error;s.aE(new ly(null!=(t=n.code)?t:cy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.pW=function(){s.VV&&(s.bW(),s.WV=!0)},s.AW=function(){s.Fr(new zm(s.v_,s.b_))},s.TW=function(){s.p_>0&&s.k_>0&&s.Fr(new bb)},s.SW=function(t){s.Fr(new cu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.EW=function(){s.Fr(new fu)},s.RW=function(t){var n=t.initData,i=n?To(n).buffer:new ArrayBuffer(0);s.Fr(new cu(Hr,i))},s.IW=function(t){if(t.initData){var n=Px(t.initData);if(!n)return;s.Fr(new cu(Vr,n))}else s.Fr(new cu(Vr,new ArrayBuffer(0)))},s.NW=function(t){var n=t.initData,i=n?To(n).buffer:new ArrayBuffer(0);s.Fr(new cu(Hr,i))},s.DW=function(){s.vW()},s.xW=function(t){s.cW(t)},s.OW=function(t){s.Fr(t),t.type===Xc.ha&&s.aE(gy(t.errorObject))},s.Vh=n,s.hr=i,s.yV=e,s.SI=r,s.bV=new LD(Yt(s)),s.bV.Hr(Em.zd,s.Ur),s.AV=new FD(Yt(s)),s.AV.Hr(Em.f_,s.fW),s.gL=new Rx(Yt(s)),s.gL.Hr([Xc.aa,Xc.ha,Xc.Ua],s.OW),s.W_=new jp,s.SV=new jp,s.EV=new mS([s.W_,s.SV]),s.RV=new lx(Yt(s)),s.RV.fl=s.EV,s.IV=new _x(Yt(s),s.RV),s.NV=new mS([s.EV,s.IV.qk]),s.DV=new sx(Yt(s)),s.PW(),s.RE(),s}S(n,t);var e=n.prototype;return e.BW=function(){this.TE.ended||this.v_===this.d_||(this.zV=!1)},e.LW=function(){return void 0!==this.CV&&this.d_===this.CV},e.lW=function(t){this.HV!==t&&(this.HV=t,this.Fr(new Bm(this.v_,t)))},e.GE=function(){return jI(this.Vh)},e.J_=function(){var t=this.MW();return this.UW(),t},e.UW=function(){this.qV?this.GV&&(this.GV=!1,this.Fr(new Nm(this.v_))):this.FW()},e.FW=function(){if(this.pV)this.pV.J_();else{L.dn&&!L.Qt&&this.Vh.preload===DS.dR&&(this.Vh.preload=DS.$y);var t=this.m_,n=this.Vh.play();t!==this.TE.playbackRate&&(this.m_=t),Q(n)?n.then(this.DW,this.xW):this.AV.iH()&&this.vW()}},e.K_=function(){this.qV?this.GV||(this.GV=!0,this.Fr(new Im(this.v_))):this.HW()},e.HW=function(){this.pV?this.pV.K_():(this.Vh.pause(),this.AV.Zo()),this.zW(new Hs)},e.MW=function(){var t=new Ro;return this.MV.push(t),t.Ss},e.VW=function(){for(var t=0,n=this.MV;t<n.length;t++){n[t].Is(void 0)}Ps(this.MV)},e.zW=function(t){for(var n=0,i=this.MV;n<i.length;n++){i[n].Ns(t)}Ps(this.MV)},e.vW=function(){this.qV||this.pV||this.VW()},e.cW=function(t){this.qV||this.pV||this.zW(t)},e.ys=function(t,n){this.pV?this.pV.v_=t:(this.LV.Cr(),this.LV=new Fs,this.BV=this.WW(t,this.BV,this.LV.Pr).catch(Z))},e.qE=function(t){var n=this.QE;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ys(i)}},e.WW=function(t,n,i){var e,r,s,u,o,h,a,c,f=this;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.CV=t,this.xV=t,this.bI=!0,this.zV&&!this.LW()&&(this.zV=!1),this.Fr(new Fm(t)),v.next=8,Er.awrap(n.catch(Z));case 8:if(Vs(i),this.XV&&this.XW(),this.Dl!==am.n_){v.next=13;break}return v.next=13,Er.awrap(this.Yr(Em.zd,i));case 13:if(0!==this.Vh.seekable.length){v.next=19;break}return v.next=16,Er.awrap(ze.race([ow(this.Vh,"timeupdate",i),$s(100,i)]));case 16:Vs(i),v.next=13;break;case 19:e=this.qW(t),r=this.xg,s=!0,u=!1;case 23:if((r=this.xg).sl>0&&!r.WE(e)&&(e=r.FR(e),s=!0),xx&&void 0!==(o=this.GW())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(h=this.QW())&&e>h)){v.next=37;break}return u=!0,v.next=33,Er.awrap(this.YW(h,i));case 33:return v.next=35,Er.awrap(ow(this.Vh,"seeked",i));case 35:Vs(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Er.awrap(this.YW(e,i));case 41:Vs(i),a=this.v_,r=this.xg,e=r.FR(e),c=1;case 46:if(!(_.abs(e-a)>=1/6)){v.next=56;break}return r=this.xg,e=Lx(e,r,c),v.next=51,Er.awrap(this.YW(e,i));case 51:Vs(i),a=this.v_,c++,v.next=46;break;case 56:if(this.Vh.seeking||this.Dl<am.e_){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Er.awrap(Qs(function(t){var n;return ze.race([ow(f.Vh,"seeked",t),f.Yr([Xc.Ta,Xc.va,Em.zd],t),null==(n=f.$S)?void 0:n.Yr(zN.XN,t)].filter(F))},i));case 60:Vs(i),v.next=23;break;case 63:this.jW(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!zs(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],ze)},e.YW=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(Vs(n),i=this.xg,t=i.FR(t),!this.XV){s.next=18;break}e=!0;case 5:if(!(e||this.Dl<am.r_)){s.next=17;break}if((i=this.xg).WE(t)||(t=i.FR(t),e=!0),!e){s.next=13;break}return e=!1,this.CV=t,this.ZW(this.v_),s.abrupt("continue",5);case 13:return s.next=15,Er.awrap(this.Yr([Em.zd,Xc.va],n));case 15:s.next=5;break;case 17:Vs(n);case 18:if(r=ow(this.Vh,"seeking",n),this.Vh.currentTime=t,this.CV=void 0,this.ZW(this.v_),!this.Vh.seeking){s.next=25;break}return s.next=25,Er.awrap(r);case 25:case"end":return s.stop()}},null,this,null,ze)},e.qW=function(t){var n=this.yg;if(n&&!n.WE(t)){var i=n.$R(t,.05);if(i>-1){var e=n.RR(i);if(t<e)return e}}return t},e.GW=function(){if(this.$S&&this.$S.CL){var t=this.$S.xL,n=this.$S.OL,i=t&&n?t.WR(n):t||n;if(i&&0!==i.sl){var e=i.RR(i.sl-1),r=i.NR(i.sl-1);return _.max(e,r-.001)}}},e.QW=function(){if(this.$S&&this.$S.CL){var t=this.$S.OL;if(t&&0!==t.sl){var n=t.RR(t.sl-1),i=t.NR(t.sl-1)-.02;return i-=.001,_.max(n,i)}}},e.ZW=function(t){this.xV!==t&&(this.xV=t,this.Fr(new Fm(t)))},e.jW=function(){this.bI=!1,this.xV=NaN,this.XV&&this.JW(),this.Fr(new Hm(this.v_))},e.XW=function(){this.qV||(this.GV=this.w_,this.qV=!0,this.HW())},e.JW=function(){this.qV&&(this.qV=!1,this.GV||this.UW())},e.DL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===pb.EA&&YN.DL(i,this.Vh))return i;if(i.nr===pb.RA&&CD.DL(i))return i}},e.cg=function(){this.yR=!1,ir(this.Vh)&&(this.Vh.style.display="none")},e.ag=function(){this.yR=!0,ir(this.Vh)&&(this.Vh.style.display="block")},e.pA=function(t,n,i,e,r,s,u,o){var h=new iC(t,n,i,e,r,s,u,o);return this.W_.$d(h),this.DV.$d(h),h},e.OE=function(){return!0},e.BE=function(t,n,i,e){var r=s.createElement("track");r.src=S_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=AR(),this.Vh.appendChild(r);var u=this.Vh.textTracks.getTrackById(r.id),o=new KC(u,r);return this.SV.$d(o),this.TV.push(o),o},e.TA=function(t){this.W_.Kd(t),this.DV.Kd(t)},e.UE=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl();for(var i=0,e=this.TV.slice();i<e.length;i++){var r=e[i];this.SV.Kd(r),r.hv()}Ps(this.TV)},e.RE=function(){var t=this.Vh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.ZV),t.addEventListener("removetrack",this.KV),t.addEventListener("change",this.tW)),this.Vh.addEventListener("emptied",this.nW)},e.HE=function(){var t=this.Vh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.ZV),t.removeEventListener("removetrack",this.KV),t.removeEventListener("change",this.tW)),this.Vh.removeEventListener("emptied",this.nW)},e.$V=function(t,n){if(L.dn){if(t.kind===Yp.$y)return void this.$W(t);if(t.kind===Yp.rA&&""===t.label&&""===t.language&&!Ux(t))return void this.KW(t,n)}Mx(this.SV,t)||this.SV.$d(new KC(t,n))},e.$W=function(t){t.mode=Ww.Al;var n=new cx(t);this.SV.$d(n),this.DV.$d(n)},e.KW=function(t,n){var i=this;t.addEventListener("cuechange",function e(){Ux(t)&&(t.removeEventListener("cuechange",e),i.SV.$d(new KC(t,n)))}),t.mode=Ww.Al},e.JV=function(t){for(var n=this.Vh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Yo=function(t){var n=this;return this.kV.zB(function(i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Vs(i),!n.$S){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.nr!==pb.EA){r.next=9;break}e=new YN(t,n,n.gL,n.hr),n.XV=!1,n.tX(new LD(n)),r.next=17;break;case 9:if(t.nr!==pb.RA){r.next=16;break}e=new CD(t,n,n.gL,n.hr),n.XV=Ix,n.tX(n.XV?new MD(n):new LD(n)),Nx&&(n.Hr(Xc.La,n.iW),n.Hr(Em.zd,n.uW)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.$S=e,r.next=20,Er.awrap(e.dO());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,ze)})},e.rW=function(){if(!this.QV){var t=this.m_;this.QV=!0,this.m_=t,this.Vh.playbackRate=0,this.bV&&this.bV.YF()}},e.eW=function(){if(this.QV){var t=this.m_;this.QV=!1,this.m_=t,this.oW()}},e.oW=function(){this.Vh.currentTime=this.Vh.currentTime,this.bV&&this.bV.YF()},e.tX=function(t){var n=this.Dl;this.bV.Sr(),this.bV=t,this.bV.Hr(Em.zd,this.Ur);var i=this.Dl;n!==i&&this.Fr(new Xm(this.v_,i))},e.nl=function(){var t=this;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bI=!1,this.UV=US.dI(),this.LV.Cr(),this.CV=void 0,this.xV=NaN,this.OV=void 0,this.XV=!1,this.qV=!1,this.KS=void 0,this.zV=!1,this.PV=void 0,this.VV=!1,this.WV&&(this.PW(),this.WV=!1),this.zW(new Hs),this.tX(new LD(this)),this.AV.nl(),this.eW(),Nx&&(YR(this.jV),this.jV=0,this.Xr(Xc.La,this.iW),this.Xr(Em.zd,this.uW)),n.next=20,Er.awrap(this.kV.Cr());case 20:return n.next=22,Er.awrap(this.kV.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.$S){n.next=4;break}return n.next=3,Er.awrap(t.$S.Sr());case 3:t.$S=void 0;case 4:case"end":return n.stop()}},null,null,null,ze)}));case 22:case"end":return n.stop()}},null,this,null,ze)},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WV=!1,this.bW(),this.HE(),t.next=5,Er.awrap(this.nl());case 5:return t.next=7,Er.awrap(this.kV.hv());case 7:return this.AV.Sr(),this.bV.Sr(),t.next=11,Er.awrap(this.gL.Sr());case 11:return this.UE(),this.W_.hv(),this.RV.hv(),this.SV.hv(),t.next=17,Er.awrap(this.IV.hv());case 17:this.EV.hv(),this.NV.hv(),this.Wr();case 20:case"end":return t.stop()}},null,this,null,ze)},e.PW=function(){this.TE.addEventListener("play",this.hW),this.TE.addEventListener("pause",this.aW),this.TE.addEventListener("timeupdate",this.mW),this.TE.addEventListener("progress",this.gW),this.TE.addEventListener("loadstart",this.wW),this.TE.addEventListener("ended",this.yW),this.TE.addEventListener("ratechange",this.dW),this.TE.addEventListener("volumechange",this.AW),this.TE.addEventListener("durationchange",this._W),this.TE.addEventListener("resize",this.TW),this.TE.addEventListener("loadedmetadata",this.TW),this.TE.addEventListener("error",this.kW),this.TE.addEventListener("emptied",this.pW),ws()?(this.Vh.addEventListener("encrypted",this.SW),this.Vh.addEventListener("waitingforkey",this.EW)):void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported?this.Vh.addEventListener("webkitneedkey",this.IW):ms()?this.Vh.addEventListener("webkitneedkey",this.NW):void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported&&this.Vh.addEventListener("msneedkey",this.RW)},e.bW=function(){this.TE.removeEventListener("play",this.hW),this.TE.removeEventListener("pause",this.aW),this.TE.removeEventListener("timeupdate",this.mW),this.TE.removeEventListener("progress",this.gW),this.TE.removeEventListener("loadstart",this.wW),this.TE.removeEventListener("ended",this.yW),this.TE.removeEventListener("ratechange",this.dW),this.TE.removeEventListener("volumechange",this.AW),this.TE.removeEventListener("durationchange",this._W),this.TE.removeEventListener("resize",this.TW),this.TE.removeEventListener("loadedmetadata",this.TW),this.TE.removeEventListener("error",this.kW),this.TE.removeEventListener("encrypted",this.SW),this.TE.removeEventListener("waitingforkey",this.EW),this.TE.removeEventListener("webkitneedkey",this.IW),this.TE.removeEventListener("webkitneedkey",this.NW),this.TE.removeEventListener("msneedkey",this.RW),this.TE.removeEventListener("emptied",this.pW)},e.nX=function(){var t;this.pV||(this.UV=this.Dg,this.pV=new OD((t=this).v_,t.d_,t.l_,t.w_,t.y_,t.g_,t.m_,t.b_,t.Dl),this.bW(),this.pV.Hr(xD,this.Ur))},e.iX=function(){if(this.pV){var t,n,i=this.pV;this.pV=void 0,this.bV.YF(),t=this,(n=i).d_===t.d_||m(n.d_)&&m(t.d_)||t.Fr(new Pm(t.d_)),t.g_=n.g_,t.b_=n.b_,t.m_=n.m_,n.w_?t.K_():t.J_().catch(Z),n.v_!==t.v_||n.Dl>am.n_&&t.Dl===am.n_?t.ys(n.v_):!n.y_&&t.y_?t.Fr(new Fm(t.v_)):n.y_&&!t.y_&&t.Dl>=am.e_&&t.Fr(new Hm(t.v_)),!n.l_&&t.l_&&t.Fr(new Mm(t.v_)),i.Sr(),this.PW()}},e.aE=function(t){this.KS=t,this.zW(this.KS),this.Fr(new HD(this.KS))},e.eX=function(){this.rX||(eP(this.Vh,i.Pe),this.YV=!0)},e.sX=function(t){t.appendChild(this.Vh)},e.MF=function(){Nx&&this.iW(),this.bV.YF()},e.mg=function(){this.gL.wV().catch(Z)},A(n,[{key:"ZF",get:function(){return this.QV}},{key:"yg",get:function(){return this.$S?this.$S.yg:US.dI()}},{key:"kg",get:function(){var t=this.QE;if(t&&!m(t.getTime())){var n=1e3*this.v_;return new Date(t.getTime()+n)}}},{key:"QE",get:function(){if(this.TE.getStartDate)return this.bI&&this.OV||(this.OV=this.TE.getStartDate()),this.OV}},{key:"v_",get:function(){return this.pV?this.pV.v_:void 0!==this.CV?this.CV:this.Vh.currentTime}},{key:"pB",get:function(){return this.yV}},{key:"d_",get:function(){return this.pV?this.pV.d_:this.$S?this.$S.d_:this.Vh.duration}},{key:"l_",get:function(){return this.y_?this.LW():this.pV?this.pV.l_:this.Vh.ended||this.zV}},{key:"ts",get:function(){return this.KS}},{key:"TE",get:function(){return this.Vh}},{key:"w_",get:function(){return this.qV?this.GV:this.pV?this.pV.w_:this.Vh.paused}},{key:"Dg",get:function(){return this.UV.jR(US.cI(this.Vh.played))}},{key:"hp",get:function(){return this.Vh.offsetHeight*i.Pe.Zi}},{key:"Rw",get:function(){return this.Vh.offsetWidth*i.Pe.Zi}},{key:"ME",get:function(){return zS}},{key:"Dl",get:function(){return this.bV.Dl}},{key:"xg",get:function(){return this.$S?this.$S.xg:US.dI()}},{key:"y_",get:function(){return this.pV?this.pV.y_:this.bI}},{key:"g_",get:function(){return this.pV?this.pV.g_:this.Vh.muted},set:function(t){this.pV?this.pV.g_=t:this.Vh.muted=t}},{key:"m_",get:function(){return this.pV?this.pV.m_:void 0!==this.FV?this.FV:this.Vh.playbackRate},set:function(t){this.pV?this.pV.m_=t:this.w_||this.QV?(this.FV=t,this.lW(t)):(this.FV=void 0,this.Vh.playbackRate=t)}},{key:"uX",get:function(){return this.yR}},{key:"b_",get:function(){return this.pV?this.pV.b_:this.Vh.volume},set:function(t){this.pV?this.pV.b_=t:this.Vh.volume=t}},{key:"j_",get:function(){return this.NV}},{key:"AB",get:function(){return this.SI}},{key:"bg",get:function(){return!!this.Vh.webkitCurrentPlaybackTargetIsWireless}},{key:"rX",get:function(){return this.YV}},{key:"oX",get:function(){return Rr({},VN)}},{key:"SE",get:function(){return this.gL.SE},set:function(t){this.gL.SE=t}},{key:"mV",get:function(){return this.gL.mV}},{key:"Pg",get:function(){return this.VV},set:function(t){this.VV=t,this.WV&&!this.VV&&(this.WV=!1,this.PW())}}]),n}(iu);function Px(t){try{var n=yo(t),i=new So;return co(fo(Wu(n,i,ju(n,i,!0)),!0))}catch(t){return}}var Bx=.01;function Lx(t,n,i){if(void 0===i&&(i=0),!n.sl)return 0;var e=n.FR(t),r=Bx*i;return e===n.RR(0)?e+=r:e===n.NR(n.sl-1)&&(e-=r),e}function Mx(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}function Ux(t){return!!t.cues&&t.cues.length>0}var Fx={WP:void 0,XP:void 0,qP:void 0,GP:void 0,QP:void 0,YP:void 0,jP:void 0},Hx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Sd=void 0,n}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=oN(this)),this.Sd}},{key:"WP",get:function(){}},{key:"XP",get:function(){}},{key:"qP",get:function(){}},{key:"GP",get:function(){}},{key:"QP",get:function(){}},{key:"YP",get:function(){}},{key:"jP",get:function(){}}]),n}(iu);new Hx;var zx=function(t){function n(n,i,e){return t.call(this,n,i,e,new Hx)||this}return S(n,t),n.prototype.fg=function(){},A(n,[{key:"k_",get:function(){return 0}},{key:"p_",get:function(){return 0}}]),n}(Ox),Vx="theoplayer-texttracks",Wx=function(){function t(t){void 0===t&&(t=5),this.hX=void 0;var n=ce.document.createElement("div");n.className=Vx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.hX=n,this.ag()}var n=t.prototype;return n.cg=function(){this.hX.style.display="none"},n.ag=function(){this.hX.style.display="block"},n.sX=function(t){t.appendChild(this.hX)},n.hv=function(){Ze(this.hX)},A(t,[{key:"pg",get:function(){return this.hX}}]),t}();function Xx(t,n){return t?Rr({},n,Dw({GP:t.GP,qP:t.qP,XP:t.XP,WP:t.WP,QP:t.QP,YP:t.YP,jP:t.jP})):n}function qx(t){return t.qP&&hs(t.qP,"%")?Number(t.qP.replace("%",""))/100:t.qP&&hs(t.qP,"em")?Number(t.qP.replace("em","")):1}var Gx,Qx,Yx=function(){function t(t,n,i,e,r){var s=this;this.aX=Dr(),this.cX=!0,this.fX=void 0,this.vX=Rr({},Fx),this.dX=[],this.dw=void 0,this.Vh=void 0,this.yV=void 0,this.lX=void 0,this._X=function(t){return s.AA(t.Kg)},this.gX=function(t){return s.removeCue(t.Kg)},this.wX=function(){return s.mX()},this.yX=function(t){return s.kX(t.Kg)},this.pX=function(t){return s.bX(t.Kg)},this.AX=function(t){return s.TX(t.Kg)},this.SX=function(t){s.EX(t.Rw,t.hp)},this.dw=t,this.lX=this.fX=r,this.Vh=this.RX(i),this.yV=e,n.appendChild(this.Vh)}var n=t.prototype;return n.IX=function(t){var n=this.NX(t);if(!n)return!1;for(var i=0;i<n.length;i++){Ze(n[i])}return this.DX(t),!0},n.dO=function(){var t=this;this.CX(),this.dw.Cl.il.forEach(function(n){return t.AA(n)}),this.pB.Hr("yC",this.SX),this.EX(this.pB.EC,this.pB.SC)},n.xX=function(t){this.vX=t,this.fX=Xx(this.vX,this.lX),this.fX.WP&&(this.TE.style.fontFamily=this.fX.WP),this.fX.jP&&(this.TE.style.visibility=this.fX.jP),this.EX(this.pB.EC,this.pB.SC),this.OX(!0)},n.PX=function(){return this.fX},n.BX=function(t){return this.aX.has(t.gl)},n.CX=function(){this.dw.Hr(dw.Nd,this._X),this.dw.Hr(dw.Cd,this.gX),this.dw.Hr(dw.Fd,this.wX)},n.LX=function(){this.dw.Xr(dw.Nd,this._X),this.dw.Xr(dw.Cd,this.gX),this.dw.Xr(dw.Fd,this.wX)},n.MX=function(t){t.Hr(My.jg,this.yX),t.Hr(My.Jg,this.pX),t.Hr(My.qd,this.AX)},n.UX=function(t){t.Xr(My.jg,this.yX),t.Xr(My.Jg,this.pX),t.Xr(My.qd,this.AX)},n.AA=function(t){this.MX(t),t.yw&&this.kX(t)},n.removeCue=function(t){this.UX(t),this.bX(t)},n.mX=function(){this.dw.Rl===Ww.Tl?this.FX():this.HX()},n.FX=function(){if(this.cX){this.cX=!1;var t=this.pB.EC,n=this.pB.SC;this.EX(t,n),this.OX(!1)}},n.HX=function(){this.cX||(this.cX=!0,this.OX(!0))},n.kX=function(t){this.cX||t.yw&&!this.BX(t)&&this.OX(!1)},n.bX=function(t){this.BX(t)&&this.OX(!1)},n.TX=function(t){(t.yw||this.BX(t))&&this.OX(!0)},n.OX=function(t){var n=this.dX,i=this.cX?[]:this.dw.xl.il.slice();this.zX(i,n,t),this.dX=i},n.NX=function(t){var n;return null==(n=this.aX.get(t.gl))?void 0:n.VX},n.WX=function(t,n){this.aX.set(t.gl,{Kg:t,VX:n})},n.DX=function(t){this.aX.delete(t.gl)},n.XX=function(){return this.dX.slice()},n.hv=function(){var t=this;Ze(this.TE),this.aX.clear(),this.LX(),this.dw.Cl.il.forEach(function(n){return t.UX(n)}),this.pB.Xr("yC",this.SX)},A(t,[{key:"Id",get:function(){return this.dw}},{key:"TE",get:function(){return this.Vh}},{key:"pB",get:function(){return this.yV}},{key:"qX",get:function(){return this.fX}},{key:"GX",get:function(){return this.vX}}]),t}();function jx(t){return Zx[t||"none"]}!function(t){t.QX='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.YX='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.jX='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.ZX='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(Gx||(Gx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(Qx||(Qx={}));var Zx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function Jx(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var $x=Cr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Kx=Cr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),tO={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=$x.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){hs(t,"px")?t=g(t)/24+"em":hs(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;if("before"===t.toLowerCase())i="flex-start";else if("center"===t.toLowerCase())i="center";else{if("after"!==t.toLowerCase())return;i="flex-end"}n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=Kx.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(hs(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},nO={XP:Qx.WHITE,WP:"Arial, Helvetica, Sans-Serif",qP:"100%",GP:Qx.TRANSPARENT,QP:Qx.TRANSPARENT,YP:"none",jP:"visible"},iO=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,nO)||this}S(n,t);var i=n.prototype;return i.RX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",$e(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.EX=function(t,n){var i=_.min(t,n)/15;this.TE.style.fontSize=i+"px"},i.zX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.IX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.JX(u)}},i.JX=function(t){var n=this.NX(t);n||(n=this.$X(t),this.WX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.TE.appendChild(r)}},i.$X=function(t){var n,i=[],e=t.Kb,r=t.ty,u=t.iw;if(0===l.keys(r).length){aO(n=s.createElement("div"));for(var o=eO(u,e,t.tA,void 0,this.TE),h=0;h<o.length;h++){var a=o[h];n.appendChild(a)}i.push(n)}else for(var c=0,f=l.keys(r);c<f.length;c++){var v=f[c],d=s.createElement("div");d.id=v;var _=eO(u,e,t.tA,d,this.TE);if(_){aO(d),uO(d,r[v],e,this.TE);for(var g=0;g<_.length;g++){var w=_[g];d.appendChild(w)}i.push(d)}i.push(d)}return i},i.xX=function(t){},n}(Yx);function eO(t,n,i,e,r){var s,u;if(Gt(t)&&("SPAN"===(u=t).zn.toUpperCase()||"P"===u.zn.toUpperCase()||"BR"===u.zn.toUpperCase()||"DIV"===u.zn.toUpperCase()||"BODY"===u.zn.toUpperCase())){var o=function t(n){var i=n.ni("region");if("p"===n.zn.toLowerCase())return i;var e=[];for(var r=0,s=n.ti;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(s="BODY"===t.zn.toUpperCase()?e:rO(t))&&(function(t,n,i,e){var r=n.ni("style");hO(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.oi).forEach(function(n){var e=Op(n.Vn,["ebutts","tts","xml"]);tO[e]&&tO[e](n.qn,t,i)})}(t,n,e)}(s,t,n,r),function(t,n,i){var e=null==n?void 0:n.ni("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.ti)for(var r=0,s=null==n?void 0:n.ti;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.oi.some(function(t){return"id"===t.zn&&t.qn===e})});r&&oO(t,r,n,!0)}!function(t,n){var i=n.ti[0];if(!i||"metadata"!==i.zn.toLowerCase())return;var e=i.ti[0];oO(t,e,n)}(t,n)}(s,t,i));for(var h=[],a=t.jn,c=0;c<a.length;c++){var f=eO(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.zn.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l,_=d[v];null==(l=s)||l.appendChild(_)}return s?[s]:[]}return h}}else Qt(t)&&(s=rO(t));return s?[s]:[]}function rO(t){var n,i;if(Qt(t))Jx(n=s.createElement("text"),t.ai);else if(Gt(t))switch(t.zn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",sO(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),sO(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",sO(n,t)}return n}function sO(t,n){var i=n.ii(Dp,"id");i&&(t.id=i)}function uO(t,n,i,e){hO(t,n.style,i,e),l.keys(n).forEach(function(i){tO[i]&&tO[i](n[i],t)})}function oO(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.jn.length>0?t.jn[0]:null;return n&&Qt(n)?"data:image/png;base64,"+n.ai:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){$e(t.style,"flex");var i=n.ni("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.ni("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function hO(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(r){var s=Op(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?hO(t,i[n][r],i,e):tO[s]&&tO[s](i[n][r],t,e)})})}function aO(t){$e(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var cO,fO,vO=void 0;function dO(t,n){for(var i,e=cO.KX,r="",s=[],u=t.charAt(n.ps),o="",h={nr:fO.tq,Zn:"",nq:[]};n.ps<t.length+1;){switch(u=n.ps<t.length?t.charAt(n.ps):"EOF",e){case cO.KX:switch(u){case"&":var a=t.substring(n.ps).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],vO||(vO=ce.document.createElement("textarea")),vO.innerHTML=i,vO.value),n.gs(a[0].length-1)):r+="&";break;case"<":if(r)return{nr:fO.iq,iw:r};e=cO.rq;break;case"EOF":return{nr:fO.iq,iw:r};default:r+=u}break;case cO.rq:switch(u){case"\t":case"\n":case"\f":case" ":e=cO.sq;break;case".":e=cO.uq;break;case"/":e=cO.oq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=cO.hq;break;case">":return n.gs(1),h;case"EOF":return h;default:r=u,e=cO.aq}break;case cO.aq:switch(u){case"\t":case"\f":case" ":e=cO.sq;break;case"\n":o=u,e=cO.sq;break;case".":e=cO.uq;break;case">":return n.gs(1),{nr:fO.tq,Zn:r,nq:[]};case"EOF":return{nr:fO.tq,Zn:r,nq:[]};default:r+=u}break;case cO.uq:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=cO.sq;break;case"\n":s.push(o),o=u,e=cO.sq;break;case".":s.push(o),o="";break;case">":return n.gs(1),s.push(o),{nr:fO.tq,Zn:r,nq:s};case"EOF":return s.push(o),{nr:fO.tq,Zn:r,nq:s};default:o+=u}break;case cO.sq:switch(u){case"&":e=cO.cq;break;case">":n.gs(1);var c=o.trim();return c=c.replace(/\s/," "),{nr:fO.tq,Zn:r,nq:s,fq:c};default:o+=u}break;case cO.cq:for(var f="",v=n.ps;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=cO.sq;break;case cO.oq:switch(u){case">":return n.gs(1),{nr:fO.vq,Zn:r};case"EOF":return{nr:fO.vq,Zn:r};default:r+=u}break;case cO.hq:switch(u){case">":return n.gs(1),{nr:fO.dq,lq:r};case"EOF":return{nr:fO.dq,lq:r};default:r+=u}}n.gs(1)}return h}!function(t){t.KX="Data",t.rq="Tag",t.aq="StartTag",t.uq="StartTagClass",t.sq="StartTagAnnotation",t.cq="CharRefInAnnotation",t.oq="EndTag",t.hq="TimestampTag"}(cO||(cO={})),function(t){t.iq="string",t.tq="starttag",t.vq="endtag",t.dq="timestamp"}(fO||(fO={}));var lO,_O=function(){function t(t,n,i,e){this._q=void 0,this.gq=void 0,this.Rw=void 0,this.hp=void 0,this._q=t,this.gq=n,this.Rw=i,this.hp=e}var n=t.prototype;return n.wq=function(t){return this._q<t.mq&&this.mq>t._q&&this.gq<t.yq&&this.yq>t.gq},n.Mg=function(t){return this._q<=t._q&&t.mq<=this.mq&&this.gq<=t.gq&&t.yq<=this.yq},n.ks=function(){return new t(this._q,this.gq,this.Rw,this.hp)},A(t,[{key:"mq",get:function(){return this._q+this.Rw},set:function(t){this._q=t-this.Rw}},{key:"yq",get:function(){return this.gq+this.hp},set:function(t){this.gq=t-this.hp}}]),t}(),gO={XP:Qx.WHITE,WP:"sans-serif",qP:"100%",GP:"rgba(0,0,0,0.8)",QP:Qx.TRANSPARENT,YP:"none",jP:"visible"},wO="theoplayer-webvtt-region-",mO="theoplayer-webvtt-styling-",yO="theoplayer-webvtt-voice-",kO=5.23,pO=1.14,bO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,gO)||this).kq=Nr(),s.pq=RO(3),s}S(n,t);var i=n.prototype;return i.RX=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,tr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.qX.WP;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",n},i.dO=function(){this.TE.appendChild(this.pq),t.prototype.dO.call(this)},i.EX=function(t,n){var i=this,e=_.min(t/100,n/100),r=qx(this.qX);this.kq.forEach(function(t){var n=t.hw,s=t.bq;i.Aq(s,e,r,n)}),this.Aq(this.pq,e,r),this.Tq()},i.Tq=function(){var t=qx(this.qX);this.pq.style.margin=t>=1.5?"0":1/t+"em"},i.zX=function(t,n,i){for(var e=this,r=this.TE,s=this.pB.SC/100,u=[],o=0;o<t.length;o++){var h=t[o];void 0!==h.hw&&(Os(u,h.hw)||u.push(h.hw))}this.kq.forEach(function(t,n){var r=t.hw,s=t.bq;!i&&Os(u,r)||(Ze(s),e.kq.delete(n))});for(var a=0;a<n.length;a++){var c=n[a];!i&&c.yw||this.IX(c)}for(var f=[],v=0;v<u.length;v++){var d=u[v],l=void 0;this.kq.has(d._l)?l=this.kq.get(d._l).bq:(l=IO(d,s),r.appendChild(l),this.kq.set(d._l,{hw:d,bq:l})),f.push(CO(l.getBoundingClientRect()))}for(var _=CO(this.pq.getBoundingClientRect()),g=0;g<t.length;g++){var w=t[g],m=this.JX(w,f,_);void 0!==m&&f.push(m)}},i.JX=function(t,n,i){var e,r;t.hw?(r=this.kq.get(t.hw._l).bq,"up"===t.hw.Tw&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.pq;var s=null==(e=this.NX(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.Sq(t),r.appendChild(s),t.hw||(t.aw?function(t,n,i,e){var r=NO(t),s=r?i.hp:i.Rw,u=w(getComputedStyle(n).lineHeight);if(0===u)return;var o=CO(n.getBoundingClientRect()),h=_.round(tk(t));"rl"===t.cw&&(h=-(h+1));var a=u*h;"rl"===t.cw&&(a=a-o.Rw+u);h<0&&(a+=s,u=-u);r?o.gq+=a:o._q+=a;var c=o.ks(),f=!1;for(;!i.Mg(o)||DO(o,e);)if(r)if(u<0&&o.gq<i.gq||u>0&&o.yq>i.yq){if(o.gq=c.gq,f)break;u=-u,f=!0}else o.gq+=u;else if(u<0&&o._q<i._q||u>0&&o.mq>i.mq){if(o._q=c._q,f)break;u=-u,f=!0}else o._q+=u;r?n.style.top=(o.gq-i.gq)/i.hp*100+"%":n.style.left=(o._q-i._q)/i.Rw*100+"%"}(t,s,i,n):function(t,n){if("start"===t.sw)return;var i,e=n.getBoundingClientRect();if(0===e.width||0===e.height)return;i=NO(t)?"center"===t.sw?"translateY(-100%)":"translateY(-50%)":(t.sw,"translateX(-50%)");n.style[$R("transform")]=i}(t,s)),this.WX(t,[s])),!t.hw)return CO(s.getBoundingClientRect())},i.Sq=function(t){for(var n=new So,i=t.iw,e=this.Eq(t),r={Rq:void 0,pg:e},u=r,o="",h="",a=[r],c=[],f=[];n.ps<i.length;){var v=dO(i,n);if(v.nr===fO.iq){var d=s.createElement("span");Jx(d,v.iw),AO(d,a),""!==o&&(d.lang=o),this.Iq(d,h),u.pg.appendChild(d)}else if(v.nr===fO.tq){var l=v.Zn.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var _=s.createElement(l);u.pg.appendChild(_),u={Rq:v,pg:_},a.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.Rq)?void 0:g.Zn.toLowerCase())){var w=s.createElement("rt");u.pg.appendChild(w),u={Rq:v,pg:w},a.push(u)}break;case"c":case"v":u={Rq:v,pg:u.pg},a.push(u);break;case"font":var m,y=null==(m=v.fq)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(h=y[1],f.push(h),u={Rq:v,pg:u.pg},a.push(u));break;case"lang":var k;o=null!=(k=v.fq)?k:"",c.push(o)}}else if(v.nr===fO.vq){var p,b=v.Zn.toLowerCase(),A=null==(p=u.Rq)?void 0:p.Zn.toLowerCase();A===b?(a.pop(),u=a[a.length-1],"font"===b&&(f.pop(),h=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.nr===fO.dq){var T=v.lq,S=new So;try{tp(T,S)}catch(t){ot("ERROR collecting timestamp",t)}}}return e},i.Iq=function(t,n){var i=this.qX,e=this.GX;i.GP&&(t.style.background=i.GP);var r=e.XP||n||i.XP;r&&(t.style.color=r)},i.Aq=function(t,n,i,e){if(e){var r=TO(e,n);t.style.height=r*i+"px",t.style.left=SO(e)+"%",t.style.top=EO(e,n)+"px"}t.style.fontSize=kO*n*i+"px"},i.Eq=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ew,function(t,n){"rl"===n.cw?t.style.writingMode="vertical-rl":"lr"===n.cw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=ek(n);NO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=ik(n),s=nk(n),u=ek(n);if(NO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.aw?0:tk(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.aw?0:tk(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.qX.QP;i&&(n.style.background=i);var e=this.qX.XP;return e&&(n.style.color=e),n.style.textShadow=jx(this.qX.YP),n},n}(Yx);function AO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.Rq){for(var r=0,s=e.Rq.nq;r<s.length;r++){var u=s[r];Je(t,mO+u)}"v"===e.Rq.Zn.toLowerCase()&&e.Rq.fq&&Je(t,yO+e.Rq.fq)}}}function TO(t,n){return t.pw*(kO*n)*pO}function SO(t){return t.Sw-t.bw*t.Rw/100}function EO(t,n){var i=t.Ew,e=t.Aw*TO(t,n)/100;return _.max(0,i-e)}function RO(t){var n=s.createElement("div");return n.className=wO+"default",tr(n),n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=kO*t+"px",n.style.lineHeight=pO+"em",n}function IO(t,n){var i=RO(n);i.className=wO+t._l;var e=t.Rw,r=TO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=SO(t)+"%",i.style.right="",i.style.top=EO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function NO(t){return""===t.cw}function DO(t,n){return n.some(function(n){return t.wq(n)})}function CO(t){return new _O(t.left,t.top,t.width,t.height)}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(lO||(lO={}));var xO={XP:Qx.WHITE,WP:Gx.jX,qP:"100%",GP:Qx.BLACK,QP:"transparent",YP:"none",Nq:lO.FONT_REGULAR,jP:"visible"},OO=[{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.GREEN,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.GREEN,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.BLUE,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.BLUE,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.CYAN,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.CYAN,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.RED,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.RED,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.YELLOW,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.YELLOW,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.MAGENTA,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.MAGENTA,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_ITALICS,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE_ITALICS,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:0},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:4},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:4},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:8},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:8},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:12},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:12},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:16},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:16},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:20},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:20},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:24},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:24},{Dq:Qx.WHITE,Nq:lO.FONT_REGULAR,Cq:28},{Dq:Qx.WHITE,Nq:lO.FONT_UNDERLINE,Cq:28}],PO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];var BO=32,LO=function(){function t(t,n,i){this.xq=void 0,this.Oq=t,this.Pq=n,this.fX=i}var n=t.prototype;return n.Bq=function(){return this.xq=this.Lq(),this.Mq(),this.Uq(),this.xq},n.Lq=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Fq/BO*this.Pq.Hq*100+"%",t.style.height=1.2*this.zq+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Pq.Vq?"calc(1em - 1ch)":"";var n=this.fX.WP;n&&(t.style.fontFamily=n);var i=this.fX.QP;return i&&(t.style.backgroundColor=i),t},n.Mq=function(){if(this.xq){var t=this.Xq.Wq/15*100,n=this.Xq.Cq/BO*100,i=(BO-this.qq.Cq-1)/BO*100,e=(15-this.qq.Wq-1)/15*100;this.Pq.Gq||(n=i=1,this.xq.style.width="98%"),e<t?this.xq.style.bottom=e*this.Pq.Hq+"%":this.xq.style.top=t*this.Pq.Hq+"%",i<n?this.xq.style.right=i+"%":this.xq.style.left=n+"%"}},n.Uq=function(){for(var t=this.Oq.Qq.sort(MO),n=0;n<t.length;n++)this.Yq(t[n-1],t[n]),this.jq(t[n]);this.Yq(t[t.length-1],void 0)},n.jq=function(n){var i,e=Xx(this.fX,n.Zq),r=t.Jq(e);Jx(r,n.$q),null==(i=this.xq)||i.appendChild(r)},t.Jq=function(t){var n=s.createElement("span");n.style.display="inline-block",t.Nq!==lO.FONT_ITALICS&&t.Nq!==lO.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Nq!==lO.FONT_UNDERLINE&&t.Nq!==lO.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.XP;i&&(n.style.color=i);var e=t.GP;return e&&(n.style.backgroundColor=e),n.style.textShadow=jx(t.YP),n.style.height="1.2em",n},n.Yq=function(t,n){var i=t?t.Kq.Wq:this.Oq.tG.Wq,e=n?n.tG.Wq:this.Oq.Kq.Wq,r=t?t.Kq.Cq:this.Oq.tG.Cq,s=n?n.tG.Cq:this.Oq.Kq.Cq;i<e&&(!n||t&&t.tG.Wq!==n.tG.Wq?this.nG():this.iG(this.Oq.Kq.Cq-r),r=this.Oq.tG.Cq),r<s&&(n?this.iG(s-r):this.nG())},n.nG=function(){var t,n=s.createElement("br");null==(t=this.xq)||t.appendChild(n)},n.iG=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",Jx(i,cs(" ",t)),null==(n=this.xq)||n.appendChild(i)}},A(t,[{key:"Xq",get:function(){return this.Oq.tG}},{key:"qq",get:function(){return this.Oq.Kq}},{key:"Fq",get:function(){return this.Oq.Kq.Cq-this.Oq.tG.Cq+1}},{key:"zq",get:function(){return this.Oq.Kq.Wq-this.Oq.tG.Wq+1}}]),t}();function MO(t,n){return function(t,n){if(t.Wq!==n.Wq)return t.Wq-n.Wq;return t.Cq-n.Cq}(t.tG,n.tG)}var UO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,xO)||this).eG=void 0,s.rG=void 0,s}S(n,t);var i=n.prototype;return i.RX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.qX.WP&&(n.style.fontFamily=this.qX.WP),n},i.EX=function(t,n){this.sG()},i.sG=function(){var t,n=qx(this.qX);this.rG={Hq:(t=100*n)/100,Vq:t<=100,Gq:t<=150};var i=this.uG/BO;this.eG=i*n,this.TE.style.fontSize=this.eG+"px"},i.zX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.IX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.JX(u)}},i.JX=function(t){this.rG&&this.rG.Gq?this.oG(80):this.oG(100),this.sG();var n=this.NX(t);n||(n=this.$X(t),this.WX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.TE.appendChild(r)}},i.$X=function(t){var n=this;return t.iw.map(function(t){return new LO(t,n.rG,n.qX).Bq()})},i.oG=function(t){var n=(100-t)/2;this.TE.style.left=n+"%",this.TE.style.width=t+"%"},A(n,[{key:"uG",get:function(){var t=this.TE.offsetWidth;return this.rG&&this.rG.Gq||(t*=.8),t}}]),n}(Yx),FO=function(){function t(t,n,i,e,r){var s=this;this.hG=void 0,this.yV=void 0,this.W_=void 0,this.aG=void 0,this.cG=[],this.SI=void 0,this.fG=function(t){var n=t.Id;n.Hr(dw.zd,s.vG),n.Hr(dw.Wd,s.vG),n instanceof KC&&(n.jH=s.jH),s.dG(n)},this.vG=function(t){var n=t.Id;s.dG(n)},this.lG=function(t){var n=t.Id;n.Xr(dw.zd,s.vG),n.Xr(dw.Wd,s.vG),s._G(n)},this.gG=function(){for(var t=s.jH,n=0,i=s.W_.il;n<i.length;n++){var e=i[n];e instanceof KC&&(e.jH=t)}},this.wG=function(){for(var t=0,n=s.cG;t<n.length;t++){n[t].xX(s.SI)}},this.mG=function(){for(var t=0,n=s.cG;t<n.length;t++){var i=n[t];i.xX(Rr({},i.PX(),{jP:"hidden"}))}},this.yG=function(){for(var t=0,n=s.cG;t<n.length;t++){var i=n[t];i.xX(Rr({},i.PX(),{jP:"visible"}))}},this.hG=t,this.yV=n,this.W_=i,this.aG=r,this.SI=e,this.W_.Hr(aw.pd,this.fG),this.W_.Hr(aw.Ad,this.lG),this.W_.Hr(dw.Fd,this.vG),this.aG.Hr(LS.Fd,this.gG),this.SI.Hr("Hd",this.wG),this.gG()}var n=t.prototype;return n.kG=function(t){for(var n=0,i=this.cG;n<i.length;n++){var e=i[n];if(e.Id===t)return e}},t.pG=function(t){switch(t.nr){case Oy.TTML:case Oy.SRT:case Oy.WEBVTT:case Oy.CEA608:return!0}return!1},n.bG=function(t){switch(t.nr){case Oy.TTML:return new iO(t,this.hG,t.ml,this.yV);case Oy.SRT:case Oy.WEBVTT:return new bO(t,this.hG,t.ml,this.yV);case Oy.CEA608:return new UO(t,this.hG,t.ml,this.yV)}},n.AG=function(t){var n=this.kG(t);n||(n=this.bG(t))&&(n.dO(),n.xX(this.SI),this.cG.push(n),t.Rl===Ww.Tl&&n.FX())},n._G=function(t){for(var n=this.cG,i=n.length-1;i>=0;i-=1){var e=n[i];e.Id===t&&(e.hv(),xs(n,i))}},n.dG=function(n){var i;(i=n.wl)!==Yp.Zy&&i!==Yp.rA||!t.pG(n)||(n.Dl===xy.ERROR?this._G(n):this.AG(n))},n.nl=function(){for(var t=0,n=this.cG;t<n.length;t++){var i=n[t];i.Id.Xr(dw.zd,this.vG),i.Id.Xr(dw.Wd,this.vG),i.hv()}Ps(this.cG)},n.hv=function(){this.nl();for(var t=0,n=this.cG;t<n.length;t++){n[t].hv()}this.W_.Xr(aw.pd,this.fG),this.W_.Xr(aw.Ad,this.lG),this.W_.Xr(dw.Fd,this.vG),this.aG.Xr(LS.Fd,this.gG),this.SI.Xr("Hd",this.wG)},A(t,[{key:"jH",get:function(){return this.aG._I}}]),t}();function HO(t){var n=new hI,i=function(t){var n=[];return uI.jC(t)&&n.push(new uI(t)),oI.jC(t)&&n.push(new oI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.tx(r)}n.KC(i[0])}return n}var zO,VO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).TG=void 0,s.SG=void 0,s.EG=void 0,s.EG=HO(n),s.TG=new Wx,s.SG=new FO(s.TG.pg,s.pB,s.j_,s.AB,s.ME),s}S(n,t);var i=n.prototype;return i.fg=function(){return this.Vh},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.EG.hv(),this.TG.hv(),this.SG.hv(),n.next=5,Er.awrap(t.prototype.Sr.call(this));case 5:case"end":return n.stop()}},null,this,null,ze)},i.cg=function(){t.prototype.cg.call(this),this.TG.cg()},i.ag=function(){t.prototype.ag.call(this),this.TG.ag()},i.sX=function(n){t.prototype.sX.call(this,n),this.TG.sX(n)},A(n,[{key:"TE",get:function(){return this.Vh}},{key:"k_",get:function(){return this.Vh.videoHeight}},{key:"p_",get:function(){return this.Vh.videoWidth}},{key:"ME",get:function(){return this.EG}}]),n}(Ox);!function(t){t.RG="HELLO",t.IG="HI_THERE",t.NG="INITIALIZE",t.DG="APPEND_INIT",t.CG="APPEND_DATA",t.xG="ACK",t.OG="REMOVE",t.PG="DESTROY_SESSION"}(zO||(zO={}));var WO=function(){function t(){this.Ei=void 0,this.Hh=void 0,this.$B=new EN}var n=t.prototype;return n.BG=function(t){var n=this;return this.$B.zB(function(t){var i,e,r,s,u,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Vs(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){a.next=7;break}return a.next=7,Er.awrap(ow(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){a.next=10;break}return a.next=10,Er.awrap(ow(o.serviceWorker.controller,"activate",t));case 10:return s={kind:zO.RG,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.Ei=e,a.prev=15,a.next=18,Er.awrap(ow(e,"message",t));case 18:if(u=a.sent,(h=u.data).kind===zO.IG){a.next=23;break}throw new v("Could not set up message channel");case 23:n.Hh=h.sessionId,a.next=30;break;case 26:throw a.prev=26,a.t0=a.catch(15),zs(a.t0)&&n.LG(),a.t0;case 30:case"end":return a.stop()}},null,null,[[15,26]],ze)},t)},n.MG=function(t,n){var i=this;return this.Ei,this.$B.zB(function(){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ei){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ei.postMessage(t,n),r.next=7,Er.awrap(ow(i.Ei,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,ze)})},n.UG=function(){var t=this;return this.$B.zB(function(){return t.LG()})},n.LG=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Ei){var t={kind:zO.PG};this.Ei.postMessage(t),this.Ei.close(),this.Ei=void 0}},t}(),XO=function(){function t(){this.FG=ak.Cm}var n=t.prototype;return n.HG=function(t,n){var i=t.Hw(n);this.FG=i.Dw(this.zG)?this.FG:i},n.VG=function(t){this.FG=t},A(t,[{key:"zG",get:function(){return this.FG}}]),t}(),qO=function(t){function n(n,i){var e;return(e=t.call(this)||this).WG=void 0,e.XG=void 0,e.bu=void 0,e.$B=new EN,e.qG=!1,e.GG=!1,e.JD=n,e.QG=i,e}S(n,t);var i=n.prototype;return i.YU=function(t,n){},i.jU=function(t,n){},i.CL=function(){return this.GG},i.ZU=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ze)},i.NU=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ze)},i.mU=function(t,i,e){var r,s,u=this;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr===qN.LL){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.ai,s=function(){var t,i,e,s,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=Ep.Dk(new DataView(r.buffer)),(i=yp(t,Ck.By)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.bu,s=n.YG(i,e),o=u.jG(i,e),h=r.buffer,a={kind:zO.CG,mimeType:u.JD,segment:r,startPts:wk.Mm(s).qm(),totalDuration:wk.Mm(o).qm()},c.next=11,Er.awrap(u.QG.MG(a,[h]));case 11:void 0===u.WG&&(u.WG=s),void 0===u.XG&&(u.XG=s),u.XG=u.XG.Lg(o),u.Fr(new ru(XN.PL));case 15:case"end":return c.stop()}},null,null,null,ze)},i.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,u.qG=!0,n.next=5,Er.awrap(s());case 5:return n.prev=5,u.qG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},e));case 5:case"end":return i.stop()}},null,this,null,ze)},i.pU=function(t,n){var i,e,r=this;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.nr===qN.LL){s.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return i=t.ai,e=function(){var t,n,e,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Ep.Dk(new DataView(i.buffer)),n=mp(t,Ck.uy)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.qk.length){u.next=6;break}throw new v("Tracks not found");case 6:return r.bu=n.qk[0].tp.Ak.bm,e=i.buffer,s={kind:zO.DG,mimeType:r.JD,segment:i},u.next=11,Er.awrap(r.QG.MG(s,[e]));case 11:r.Fr(new ru(XN.PL));case 12:case"end":return u.stop()}},null,null,null,ze)},s.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,r.qG=!0,n.next=5,Er.awrap(e());case 5:return n.prev=5,r.qG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},n));case 5:case"end":return s.stop()}},null,this,null,ze)},i.VU=function(){this.GG=!0},i.UU=function(){this.GG=!1},i.jo=function(t,n,i){var e,r=this;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:zO.OG,mimeType:r.JD,endTime:wk.Om(n).qm()},i.next=3,Er.awrap(r.QG.MG(t));case 3:r.WG=void 0,r.XG=void 0,r.Fr(new ru(XN.PL));case 6:case"end":return i.stop()}},null,null,null,ze)},t.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,r.qG=!0,n.next=5,Er.awrap(e());case 5:return n.prev=5,r.qG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},i));case 2:case"end":return t.stop()}},null,this,null,ze)},i.bL=function(t){return this.JD===t.mf},i.AL=function(t){return this.JD=t.mf,ze.resolve()},n.YG=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.qk.length)throw new v("No tracks");if(!i.qk[0].bb)throw new v("No decode time");return new ak(i.qk[0].bb.bb.toNumber(),n)},i.jG=function(t,n){var i=0;return t.forEach(function(t){t.qk.forEach(function(t){t.pb.forEach(function(t){t.Ib.forEach(function(t){var n;i+=null!=(n=t.d_)?n:0})})})}),new ak(i,n)},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.$B.hv());case 3:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"yg",get:function(){return void 0===this.WG||void 0===this.XG?US.dI():new US([this.WG.Nm,this.XG.Nm])}},{key:"rh",get:function(){return{mf:this.JD}}},{key:"GD",get:function(){return this.JD}},{key:"KU",get:function(){return US.dI()}},{key:"iO",get:function(){return 30},set:function(t){}},{key:"uO",get:function(){return 30},set:function(t){}},{key:"sx",get:function(){return this.qG}},{key:"ZG",get:function(){return this.WG}},{key:"nw",get:function(){return this.XG}}]),n}(iu),GO=function(){function t(t,n){this.Ch=void 0,this.NF=void 0,this.DF=void 0,this.Ch=t,this.DF=Ns(n,function(t){return Boolean(t.GD.match(/video/))}),this.NF=Ns(n,function(t){return Boolean(t.GD.match(/audio/))}),this.JG()}t.$G=function(n,i){for(var e=[],r=0;r<n.VF.length;r++){var s=n.VF[r].mf;e.push(new qO(s,i))}return new t(n,e)};var n=t.prototype;return n.JG=function(){},n.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(ze.all([this.NF,this.DF].filter(F).map(function(t){return t.Sr()})));case 2:case"end":return t.stop()}},null,this,null,ze)},n.UF=function(t){},n.zF=function(t,n,i,e){},n.VU=function(){var t,n;null==(t=this.NF)||t.VU(),null==(n=this.DF)||n.VU()},n.UU=function(){var t,n;null==(t=this.NF)||t.UU(),null==(n=this.DF)||n.UU()},n.bL=function(t){return t===this.Ch},n.AL=function(t){return this.Ch=t,ze.resolve()},A(t,[{key:"KG",get:function(){return[this.NF,this.DF].filter(F)}},{key:"SF",get:function(){return this.NF}},{key:"yg",get:function(){return RD(this)}},{key:"rh",get:function(){return this.Ch}},{key:"d_",get:function(){return 0}},{key:"CL",get:function(){var t,n,i,e,r=null==(t=null==(n=this.NF)?void 0:n.CL())||t,s=null==(i=null==(e=this.DF)?void 0:e.CL())||i;return r&&s}},{key:"xg",get:function(){return new US([0,1/0])}},{key:"EF",get:function(){return this.DF}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),t}(),QO=ak.jw,YO=new ak(-1/0),jO=ak.Cm,ZO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t.Lw(n)?ys.mr:t.mw(n)?ys.gr:ys.wr},i.Lg=function(t,n){return t.Lg(n)},i.Hw=function(t,n){return t.Hw(n)},i.Bw=function(t,n){return t.Bw(n)},i.HR=function(){return QO},i.zR=function(){return jO},i.GR=function(){return YO},n.cI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new ak(t.start(e)),new ak(t.end(e)));return new n(i)},n.tQ=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(new ak(t.RR(r))),i.push(new ak(t.NR(r))),e.push(t.IR(r)),e.push(t.DR(r));return new n(i,e)},n.vI=function(t){return new n([t,t],[!0,!0])},i.UR=function(t,i){return new n(t,i)},i.LR=function(t){return t.Nm},n.dI=function(){return JO},n}(MS),JO=new ZO([]),$O=function(t){function n(n){var i;return(i=t.call(this)||this).nQ=!0,i.QG=new WO,i.iQ=new XO,i.$S=void 0,i.bV=void 0,i.eQ=!0,i.rQ=new Ro,i.bI=!1,i.BV=ze.resolve(),i.LV=new Fs,i.sQ=!0,i.UV=US.dI(),i.EG=void 0,i.uQ=void 0,i.YV=!1,i.rE=void 0,i.oQ=function(){i.w_||i.hQ.sl<=0||i.yg.sl<=0||i.iQ.HG(new ak(i.yg.NR(i.yg.sl-1)),i.hQ.NR(i.hQ.sl-1))},i.aQ=function(){i.Fr(new Mm(i.v_))},i.cQ=function(){i.Fr(new Lm(i.v_,i.kg))},i.fQ=function(){i.Fr(new Bm(i.v_,i.m_))},i.vQ=function(){i.Fr(new zm(i.v_,i.b_))},i.dQ=function(){i.Fr(new Pm(i.d_))},i.lQ=function(){i.Fr(new Gb(i.v_))},i._Q=function(){i.ys(i.v_)},i.gQ=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.sQ&&i.Fr(new Nm(i.v_)),i.eQ=!1,i.sQ=!0;case 3:case"end":return t.stop()}},null,null,null,ze)},i.wQ=function(){i.eQ=!0,i.Fr(new Im(i.v_))},i.uQ=n,i.bV=new LD(Yt(i)),i.uQ.setAttribute("id","player_video"),i.uQ.setAttribute("x-webkit-airplay","deny"),i.uQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.uQ.playsInline=!0,i.uQ.style.width="100%",i.uQ.style.height="100%",i.mQ(),i.yQ(),i.EG=HO(i.uQ),i}S(n,t);var e=n.prototype;return e.mQ=function(){this.uQ.addEventListener("timeupdate",this.oQ),this.uQ.addEventListener("ended",this.aQ),this.uQ.addEventListener("timeupdate",this.cQ),this.uQ.addEventListener("ratechange",this.fQ),this.uQ.addEventListener("volumechange",this.vQ),this.uQ.addEventListener("durationchange",this.dQ),this.uQ.addEventListener("playing",this.lQ),this.uQ.addEventListener("seeking",this._Q),this.uQ.addEventListener("play",this.gQ),this.uQ.addEventListener("pause",this.wQ)},e.kQ=function(){this.uQ.removeEventListener("timeupdate",this.oQ),this.uQ.removeEventListener("ended",this.aQ),this.uQ.removeEventListener("timeupdate",this.cQ),this.uQ.removeEventListener("ratechange",this.fQ),this.uQ.removeEventListener("volumechange",this.vQ),this.uQ.removeEventListener("durationchange",this.dQ),this.uQ.removeEventListener("playing",this.lQ),this.uQ.removeEventListener("seeking",this._Q),this.uQ.removeEventListener("play",this.gQ),this.uQ.removeEventListener("pause",this.wQ)},e.yQ=function(){this.bV.Hr(Em.zd,this.Ur)},e.pQ=function(){this.bV.Xr(Em.zd,this.Ur)},e.ys=function(t,n){this.LV.Cr(),this.LV=new Fs,this.BV=this.WW(t,this.BV,this.LV.Pr).catch(Z)},e.WW=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.UV=this.Dg,r=null==(e=this.$S)?void 0:e.KG){u.next=4;break}return u.abrupt("return");case 4:return s=_.max.apply(_,r.map(function(t){return t.ZG?t.ZG.Nm:1/0})),this.bI=!0,this.Fr(new Fm(t)),u.next=9,Er.awrap(n.catch(Z));case 9:if(Vs(i),u.prev=10,this.nQ||this.bQ(),this.uQ.load(),this.eQ){u.next=17;break}return this.sQ=!1,u.next=17,Er.awrap(qs(this.uQ.play(),i));case 17:if(!(this.Dl<am.e_)){u.next=22;break}return u.next=20,Er.awrap(this.bV.Yr(Em.zd,i));case 20:u.next=17;break;case 22:this.rQ.Is(),this.nQ=!1,this.bI=!1,this.Fr(new Hm(this.v_)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.rQ.Ns(u.t0),u.t0;case 32:return u.prev=32,this.AQ(),this.iQ.VG(new ak(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],ze)},e.K_=function(){this.eQ=!0,this.uQ.pause()},e.J_=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.eQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.uQ.src){t.next=9;break}return this.eX(),t.next=7,Er.awrap(this.rQ.Ss);case 7:t.next=11;break;case 9:return t.next=11,Er.awrap(this.uQ.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.eQ=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],ze)},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.QG&&this.QG.UG().catch(Z),this.LV.Cr(),this.kQ(),this.pQ(),this.bV.Sr(),this.Wr();case 6:case"end":return t.stop()}},null,this,null,ze)},e.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.QG&&this.QG.UG().catch(Z),this.LV.Cr(),this.uQ.removeAttribute("src"),this.uQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.uQ.removeAttribute("x-airplay-deny"),this.uQ.load(),this.bV.nl(),this.UV=US.dI();case 8:case"end":return t.stop()}},null,this,null,ze)},e.eX=function(){this.rX||(eP(this.uQ,i.Pe),this.YV=!0)},e.bQ=function(){var t,n=this.uQ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.uQ.videoWidth/this.uQ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.uQ.style.width=i+"px",this.uQ.style.height=e+"px",this.uQ.style.marginLeft=(r-i)/2+"px",this.uQ.style.marginTop=(u-e)/2+"px",this.uQ.style.backgroundColor="black"}},e.AQ=function(){this.uQ.style.width="100%",this.uQ.style.height="100%",this.uQ.style.marginLeft="",this.uQ.style.marginTop="",this.uQ.style.backgroundColor=""},e.BE=function(t,n,i,e){},e.pA=function(t,n,i,e,r,s){},e.DL=function(t){},e.GE=function(){return jI(this.uQ)},e.ag=function(){this.uQ.style.display="block"},e.cg=function(){this.uQ.style.display="none"},e.nX=function(){},e.Yo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr!==pb.EA){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Er.awrap(this.QG.BG());case 4:return n={kind:zO.NG,mediaBufferConfigs:t.VF.map(function(t){return t.mf})},i.next=7,Er.awrap(this.QG.MG(n));case 7:return this.$S=GO.$G(t,this.QG),this.uQ.preload="none",this.uQ.src="https://theo.proxy/"+this.QG.Hh+"/master.m3u8",i.abrupt("return",this.$S);case 11:case"end":return i.stop()}},null,this,null,ze)},e.iX=function(){},e.TA=function(t){},e.UE=function(){},e.qE=function(t){},e.OE=function(){return!1},e.sX=function(t){t.appendChild(this.uQ)},e.fg=function(){return this.uQ},e.BW=function(){},e.mg=function(){},A(n,[{key:"TE",get:function(){return this.uQ}},{key:"ZF",get:function(){return!1}},{key:"v_",get:function(){return this.uQ.currentTime+this.iQ.zG.Nm}},{key:"w_",get:function(){return this.uQ.paused}},{key:"b_",get:function(){return this.uQ.volume},set:function(t){this.uQ.volume=t}},{key:"m_",get:function(){return this.uQ.playbackRate},set:function(t){this.uQ.playbackRate=t}},{key:"TQ",get:function(){return this.uQ.defaultPlaybackRate}},{key:"yg",get:function(){var t,n;return null!=(t=null==(n=this.$S)?void 0:n.yg)?t:US.dI()}},{key:"hQ",get:function(){return ZO.cI(this.uQ.buffered)}},{key:"Dg",get:function(){var t=US.fI(this.SQ);return this.UV.jR(t.gs(this.iQ.zG.Nm))}},{key:"SQ",get:function(){return ZO.cI(this.uQ.played)}},{key:"y_",get:function(){return this.bI}},{key:"d_",get:function(){return this.uQ.duration}},{key:"g_",get:function(){return this.uQ.muted},set:function(t){this.uQ.muted=t}},{key:"Zq",get:function(){return this.uQ.style}},{key:"oX",get:function(){return Rr({},VN,{cL:!0,fL:300})}},{key:"Dl",get:function(){return this.bV.Dl}},{key:"k_",get:function(){return this.uQ.videoHeight}},{key:"p_",get:function(){return this.uQ.videoWidth}},{key:"l_",get:function(){return this.uQ.ended}},{key:"hp",get:function(){return 0}},{key:"Rw",get:function(){return 0}},{key:"bg",get:function(){return!1}},{key:"rX",get:function(){return this.YV}},{key:"kg",get:function(){}},{key:"pB",get:function(){}},{key:"ts",get:function(){}},{key:"ME",get:function(){return this.EG}},{key:"xg",get:function(){return this.$S?this.$S.xg:US.dI()}},{key:"QE",get:function(){}},{key:"j_",get:function(){}},{key:"AB",get:function(){}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"uX",get:function(){return"block"===this.uQ.style.display}},{key:"SE",get:function(){return this.rE},set:function(t){this.rE=t}},{key:"mV",get:function(){}}]),n}(iu),KO=2,tP=[my.Jf,my.$f];function nP(t){var n=s.createElement(t);return ir(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),iP(n),n}function iP(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),er(t),t.pause(),t.playbackRate=1,t.preload=DS.vR,t.controls=!1,t.style.display="none",ir(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function eP(t,n){if(n.Xi){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Q(e)&&Zs(e),t.pause()}}var rP;oe=(rP={EQ:function(){function t(t,n,i,e,r){void 0===i&&(i=KO),void 0===e&&(e=tP),void 0===r&&(r=Uc()),this.RQ=void 0,this.IQ=void 0,this.hr=void 0,this.NQ=void 0,this.yV=void 0,this.SI=void 0,this.DQ=void 0,this.RQ=i,this.IQ=[].concat(e),this.hr=r,this.yV=t,this.SI=n,this.NQ=Nr(),this.CQ()}var n=t.prototype;return n.II=function(t){for(var n=0,i=this.DI;n<i.length;n++){i[n].sX(t)}},n.AE=function(t){var n=Ns(this.NQ.get(t),function(t){return t.xQ});if(n)return n.xQ=!1,n.OQ},n.PQ=function(t){if(!this.DQ)throw new v("Error creating iOS Safari MediaController");return this.DQ},n.zE=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.TE,i=n.tagName.toLowerCase(),r.next=4,Er.awrap(t.nl());case 4:iP(n),(e=Ns(this.NQ.get(i)||[],function(n){return t===n.OQ}))&&(e.xQ=!0);case 7:case"end":return r.stop()}},null,this,null,ze)},n.NI=function(){for(var t=0,n=this.DI;t<n.length;t++){n[t].eX()}},n.hv=function(){for(var t=0,n=this.DI;t<n.length;t++){var i=n[t],e=i.TE;i.Sr(),iP(e),Ze(e)}},n.CQ=function(){for(var t=0,n=this.IQ;t<n.length;t++){var i=n[t],e=[];this.NQ.set(i,e);for(var r=0;r<this.RQ;r++){var s=nP(i),u=i===my.Jf?new zx(s,this.hr,this.yV):new VO(s,this.hr,this.yV,this.SI);e.push({OQ:u,xQ:!0})}}if(L.dn&&L.Qt){var o=nP(my.$f);this.DQ=new $O(o)}},A(t,[{key:"DI",get:function(){for(var t=[],n=0,i=this.IQ;n<i.length;n++){var e=i[n],r=this.NQ.get(e).map(function(t){return t.OQ});t.push.apply(t,r)}return this.DQ&&t.push(this.DQ),t}}]),t}(),BQ:function(){function t(n){var i=this;this.LQ=new EN,this.MQ=function(){var n,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.AI.AE(my.$f),e=n.TE,s.next=4,Er.awrap(t.UQ(e));case 4:return r=s.sent,s.next=7,Er.awrap(i.AI.zE(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,ze)},this.AI=n}var n=t.prototype;return n.rL=function(){return this.LQ.zB(this.MQ)},n.ug=function(){this.AI.NI()},t.UQ=function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.sn&&!L.in){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Er.awrap(t.FQ());case 5:return i.next=7,Er.awrap(t.HQ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Er.awrap(t.zQ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,ze)},t.HQ=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Q(n)){e.next=4;break}return e.abrupt("return",!L.Zt);case 4:return i=$s(100),e.next=7,Er.awrap(ze.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],ze)},t.zQ=function(n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Er.awrap(t.HQ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,ze)},t.FQ=function(){return new ze(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.hv=function(){this.LQ.hv()},t}(),VQ:{rC:function(t){ce.addEventListener("beforeunload",t)},_C:function(t){ce.removeEventListener("beforeunload",t)}},WQ:r}).EQ,he=rP.BQ,ae=rP.VQ,ce=rP.WQ,fe=ce&&ce.location,ve=ce&&ce.navigator;var sP=[];function uP(){sP.shift()()}function oP(t){sP.push(t),h(uP,0)}var hP=function(){function t(t){this.XQ=void 0,this.qQ=void 0,this.GQ=void 0,this.GQ=t}var n=t.prototype;return n.QQ=function(t){return this.XQ=this.XQ||{},void 0===this.XQ[t]&&(this.XQ[t]=[]),this.XQ[t]},n.addEventListener=function(t,n){var i=this.QQ(t);-1===i.indexOf(n)&&i.push(n)},n.Vr=function(t){(this.qQ||(this.qQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.QQ(t);n?Cs(i,n):i.length=0},n.Qr=function(t){var n=this.qQ;n&&Cs(n,t)},n.Wr=function(){this.XQ=void 0},n.dispatchEvent=function(t,n){if(n)return oP(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.QQ(t.type).slice(),e=this.qQ&&this.qQ.slice(),r=0;r<i.length;r++){i[r].call(this.GQ||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.GQ||this,t)}},n.YQ=function(t){return Boolean(this.XQ&&this.XQ[t]&&this.XQ[t].length)},n.jQ=function(){return this.XQ?l.keys(this.XQ):[]},t}(),aP=function(){function t(){this.ZQ=[]}var n=t.prototype;return n.$G=function(t,n){var i=this.ZQ[t];return i?new i(n):null},n.hL=function(t,n){this.ZQ[t]=n},t}();aP.Rn=new aP;var cP,fP=function(t){function n(n,i){var e,r=dP[n];return(e=t.call(this,r?r.Jr:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.JQ,e.helpLinkText=r&&r.$Q,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Zt);!function(t){t.KQ="LICENSE_INVALID",t.tY="MANIFEST_NOT_FOUND",t.nY="MANIFEST_CORS_ERROR",t.iY="INVALID_HLS_MANIFEST",t.eY="PLAYBACK_ISSUE",t.rY="AUDIO_ISSUE",t.sY="BROWSER_SUPPORT_ISSUE",t.uY="INVALID_KEY",t.oY="DECRYPTION_ERROR",t.hY="AD_BLOCK_DETECTED",t.aY="THEOPLAYER_NOT_INITIALIZED",t.Sl="ERROR",t.cY="MANIFEST_SEQUENCE_RESET_ERROR",t.fY="PLAYER_INCORRECTLY_CONFIGURED",t.vY="UNSUPPORTED"}(cP||(cP={}));for(var vP=[{Ds:cP.KQ,Jr:"The license for this player is invalid. Please contact your service provider for additional information."},{Ds:cP.tY,Jr:"Could not load the manifest file."},{Ds:cP.nY,Jr:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",JQ:"https://www.theoplayer.com/documentation/cors.html",dY:!1},{Ds:cP.iY,Jr:"The source of the player is an invalid HLS manifest.",JQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ds:cP.eY,Jr:"There appears to be a playback issue."},{Ds:cP.rY,Jr:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ds:cP.sY,Jr:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ds:cP.uY,Jr:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ds:cP.oY,Jr:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ds:cP.hY,Jr:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ds:cP.aY,Jr:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ds:cP.Sl,Jr:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ds:cP.cY,Jr:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ds:cP.fY,Jr:"The player is incorrectly configured.",JQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ds:cP.vY,Jr:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],dP={},lP=0;lP<vP.length;lP++){var _P=vP[lP];dP[_P.Ds]=_P}function gP(t){return t.lY}var wP=function(){function t(){this.ja=[],this._Y={},this.gY=0}var n=t.prototype;return n.wY=function(t){var n=this._Y[t];return void 0===n?-1:n-this.gY},n.mY=function(t){return this.ja[t]},n.yY=function(t){return this.mY(this.wY(t))},n.kY=function(t){return!!this.mY(t)},n.pY=function(t){return!!this.yY(t)},n.bY=function(){return this.ja},n.Lg=function(t){var n,i=this.ja,e=i.length?i[i.length-1]:null;if(this.wY(t.lY)>=0)return!1;if(e&&t.lY>e.lY)n=i.length;else{var r=zD(this.ja,t.lY,gP,Ss);if(r>=0)return!1;n=-(r+1)}return this.AY(t,n),!0},n.jo=function(t){var n=this.ja,i=this._Y,e=this.wY(t.lY);return!(e<0)&&(n.splice(e,0,t),delete i[t.lY],this.TY(e),!0)},n.SY=function(t){var n=this.ja,i=this._Y;t=_.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].lY];n.splice(0,t),this.gY+=t},n.AY=function(t,n){var i=this.ja;n>=i.length?i.push(t):i.splice(n,0,t),this.TY(n)},n.TY=function(t){for(var n=this.ja,i=this._Y,e=this.gY,r=n.length,s=t;s<r;s++)i[n[s].lY]=s+e},A(t,[{key:"sl",get:function(){return this.ja.length}}]),t}(),mP=function(){function t(t,n,i){this.EY=void 0,this.RY=void 0,this.IY=void 0,this.EY=t,this.RY=n,this.IY=i}var n=t.prototype;return n.compute=function(){return this.EY.live?this.EY.NY?this.EY.DY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.IY&&(t+=this.CY()),this.xY()&&(t+=this.OY(t)),t},n.xY=function(){return void 0!==this.RY.PY.yY(this.EY.fragments[0].lY)},n.OY=function(t){var n=this.EY.fragments[0];return this.RY.PY.yY(n.lY).BY-(n.BY+t)||0},n.CY=function(){var t=yP(this.EY),n=yP(this.IY.LY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.IY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=_.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.LY.fragments.length?this.IY.MY(t.LY.fragments[0].lY).BY:0},t}();function yP(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.UY&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var kP=function(t){function n(n,i){var e,r=pP(i,n.d_,n.QE,n.FY);return(e=t.call(this,i,r,void 0,!1,n._l)||this).HY=void 0,e.zY=void 0,e.VY=void 0,e.Au=void 0,e.WY=void 0,e.XY=void 0,e.qY=void 0,e.GY=void 0,e.QY=void 0,e.YY=void 0,e.HY=n.jY,e.zY=n.QE,e.VY=n.FY,e.Au=n.d_,e.WY=n.ZY,e.XY=Boolean(n.JY),e.qY=n.$Y||{},e.GY=n.KY,e.QY=n.tj,e.YY=n.nj,e.ij(),e.ej(),e}S(n,t);var i=n.prototype;return i.Zo=function(t){var n=!1;void 0===this.HY&&void 0!==t.jY&&(n=!0,this.HY=t.jY),void 0===this.VY&&void 0!==t.FY&&(n=!0,this.VY=t.FY),void 0===this.Au&&void 0!==t.d_&&(n=!0,this.Au=t.d_),void 0===this.WY&&void 0!==t.ZY&&(n=!0,this.WY=t.ZY),!this.XY&&t.JY&&(n=!0,this.XY=t.JY),n=this.updateCustomAttributes(t,n),void 0===this.GY&&void 0!==t.KY&&(n=!0,this.GY=t.KY),void 0===this.QY&&void 0!==t.tj&&(n=!0,this.QY=t.tj),void 0===this.YY&&void 0!==t.nj&&(n=!0,this.YY=t.nj),this.ij(),this.ej(),this.rj(),n&&this.Fr(new Qy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.$Y)for(var e=0,r=l.keys(t.$Y);e<r.length;e++){var s=r[e];void 0===this.qY[s]&&(i=!0,this.qY[s]=t.$Y[s])}return i},i.ij=function(){this.Au&&!this.VY&&(this.VY=new Date(this.zY.getTime()+1e3*this.Au))},i.ej=function(){this.VY&&!this.Au&&(this.Au=Vt(this.VY.getTime()-this.zY.getTime()))},i.rj=function(){this.vw===1/0&&(this.VY||this.Au)&&(this.vw=pP(this.fw,this.Au,this.zY,this.VY))},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=Ew(Xy(t=this),{get content(){return t.iw},get class(){return t.jY},get startDate(){return t.QE},get endDate(){return t.FY},get duration(){return t.d_},get plannedDuration(){return t.ZY},get endOnNext(){return t.JY},get scte35Cmd(){return t.KY},get scte35Out(){return t.tj},get scte35In(){return t.nj},get customAttributes(){return t.$Y}})),this.Sd}},{key:"jY",get:function(){return this.HY}},{key:"QE",get:function(){return this.zY}},{key:"FY",get:function(){return this.VY}},{key:"d_",get:function(){return this.Au}},{key:"ZY",get:function(){return this.WY}},{key:"JY",get:function(){return this.XY}},{key:"KY",get:function(){return this.GY}},{key:"tj",get:function(){return this.QY}},{key:"nj",get:function(){return this.YY}},{key:"$Y",get:function(){return this.qY}}]),n}(Jy);function pP(t,n,i,e){return F(n)?t+n:e?t+(Vt(e.getTime())-Vt(i.getTime())):1/0}var bP,AP,TP,SP,EP,RP=function(t){function n(){return t.call(this,void 0,void 0,Oy.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zo=function(t,n){for(var i=this,e=function(t){for(var n=Nr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r._l)){var s=n.get(r._l),u=Rr({},s,Dw(r),{$Y:Rr({},s.$Y,r.$Y)});n.set(r._l,u)}else n.set(r._l,r),i.push(r._l)}return i.map(function(t){return n.get(t)})}(t),r=this.Cl.il,s=function(t){var n=r[t],s=Ns(e,function(t){return t._l===n._l});s?n.Zo(s):i.cA(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.QE;if(void 0!==a&&!this.yH(h._l)){var c=n(a);this.AA(new kP(h,c))}}},i.AA=function(n){this.sj(n),t.prototype.AA.call(this,n)},i.sj=function(t){var n=this.hH.filter(function(n){return n.jY===t.jY}).pop();n&&n.JY&&n.Zo({_l:n._l,FY:t.QE})},n}(ox);function IP(t){return NP(t)?{Mf:t.uj,oj:[t.oj.RR,t.oj.NR],sv:!0}:{Mf:t.toString(),sv:!0}}function NP(t){return void 0!==t.oj}function DP(t){return t&&t.hj&&Tk(t.hj)||!1}function CP(t){if(!t)return wk.jw;if(!DP(t))return wk.Om(t.duration);var n=t.aj||wk.jw,i=t.cj||wk.jw,e=wk.Om(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?wk.jw:e:i:n:wk.Em(n,i)}function xP(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.SA)return i}return null}function OP(t){return xP(t)||function(t){return t.filter(function(t){return t.fj})}(t)[0]||t[0]}function PP(t,n){for(var i=0;i<n.length;i++){var e=n[i];Os(t,e)||t.push(e)}return t}function BP(t){switch(t){case SP.$f:case SP.vj:return my.$f;case SP.Jf:return my.Jf}}function LP(t){switch(t){case SP.$f:case SP.vj:return y_.$f;case SP.Jf:return y_.Jf;default:return y_.Ff}}!function(t){t.dj="alternative",t.lj="main",t._j="commentary",t.gj="",t.sA="descriptions",t.wj="main-desc",t.mj="translation"}(bP||(bP={})),function(t){t.dj="alternative",t.lj="main",t._j="commentary",t.gj="",t.rA="captions",t.yj="sign",t.Zy="subtitles"}(AP||(AP={})),function(t){t.$f="video",t.Jf="audio",t.kj="closedCaption",t.pj="variant"}(TP||(TP={})),function(t){t[t.Ff=-1]="Ff",t[t.Jf=0]="Jf",t[t.$f=1]="$f",t[t.vj=2]="vj"}(SP||(SP={})),function(t){t[t.Ff=-1]="Ff",t[t.bj=1]="bj",t[t.Aj=2]="Aj",t[t.Tj=3]="Tj",t[t.Sj=4]="Sj"}(EP||(EP={})),function(t){t.D_=function(t){return t>=EP.Aj},t.Ej=function(t){return t===EP.Aj||t===EP.Tj}}(EP||(EP={}));var MP=function(t){function n(){var n;return(n=t.call(this)||this).Rj=[],n.Ij=function(){return n.dispatchEvent("Nj")},n.Dj=function(){return n.dispatchEvent("Cj")},n}S(n,t);var i=n.prototype;return i.Lg=function(t){this.Rj.push(t),t.addEventListener("Cj",this.Dj),t.addEventListener("xj",this.Ij),this.dispatchEvent("Oj"),t.disabled||this.dispatchEvent("Nj")},i.jo=function(t){var n=this.Rj.indexOf(t);n<0||(xs(this.Rj,n),t.removeEventListener("Cj",this.Dj),t.removeEventListener("xj",this.Ij),this.dispatchEvent("Oj"),t.disabled||this.dispatchEvent("Nj"))},i.ds=function(){for(var t=!!this.Pj.length,n=!!this.Bj.length,i=0,e=this.Rj;i<e.length;i++){e[i].removeEventListener("xj",this.Ij)}this.Rj.length=0,t&&this.dispatchEvent("Oj"),n&&this.dispatchEvent("Nj")},i.hv=function(){this.Wr(),this.ds()},A(n,[{key:"Pj",get:function(){return this.Rj}},{key:"Bj",get:function(){return this.Rj.filter(function(t){return!t.disabled})}}]),n}(hP);function UP(t){if(!t)return null;for(var n={Lj:"",Mj:"",Uj:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.Lj="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.Lj="mp4a.40.2":"mp4a.40.29"===s?n.Lj="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.Lj=s:"ec-3"===s?n.Lj=s:0===s.indexOf("avc")?n.Mj=r:n.Uj+=","+s}return n}var FP=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).Fj=void 0,h.cS=void 0,h.Bo=void 0,h.Hj=new wP,h.zj=NaN,h.Vj=void 0,h.Wj=void 0,h.Tu=void 0,h.Xj=void 0,h.qj=void 0,h.Gj=!0,h.Qj=!0,h.Yj=!0,h.jj=!1,h.Zj=null,h.Jj=!1,h.Fj=n,h.cS=i,h.Bo=e||0===e?e:-1,h.Wj=r,h.Xj=Boolean(s),h.qj=Boolean(u),h.Tu=o,h}S(n,t);var i=n.prototype;return i.$j=function(t,n){var i=SR(),e=new mP(t,this,n).compute(),r=this.Kj(t.fragments),s=r.oldFragments,u=r.newFragments;this.tZ(s,i),this.nZ(u,i,e),this.Vj!==t&&this.iZ(!0),this.Vj=t,this.dispatchEvent({type:"eZ",rZ:this}),this.dispatchEvent("renditionUpdated")},i.MY=function(t){return this.Hj.yY(t)},i.sZ=function(){var t=this.Gj;this.Gj=this.Qj&&this.Yj,t!==this.Gj&&this.dispatchEvent("Cj")},i.iZ=function(t){this.Qj=t,this.sZ()},i.uZ=function(t){this.Yj=t,this.sZ()},i.oZ=function(t){this.cS=t,this.dispatchEvent("renditionUpdated")},i.hZ=function(){null!==this.Zj&&a(this.Zj),this.dispatchEvent("xj"),this.dispatchEvent("renditionUpdated")},i.aZ=function(t){this.Jj=t,this.hZ()},i.cZ=function(){this.fZ(3e4)},i.fZ=function(t){var n=this;this.jj=!0,this.hZ(),this.Zj=h(function(){n.jj=!1,n.hZ()},t)},i.Kj=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.Hj.pY(s.lY)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.tZ=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.Hj.yY(e.lY);r.vZ=PP(r.vZ,e.vZ),r.dZ=e.dZ||r.dZ,r.lZ=n}},i.nZ=function(t,n,i){var e=this._Z(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Qk=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.BY+=n}}(e,i),this.gZ(e)},i._Z=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.rZ=this;var r=Rr({},e);n.push(r)}return n},i.gZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hj.Lg(i),m(this.zj)&&(this.zj=i.lY)}},i.hv=function(){this.Wr(),null!==this.Zj&&a(this.Zj)},A(n,[{key:"disabled",get:function(){return this.jj||this.Jj},set:function(t){this.jj=t,this.hZ()}},{key:"_l",get:function(){return this.Bo}},{key:"Ng",get:function(){return this.Gj}},{key:"uri",get:function(){return this.Wj||this.Vj&&this.Vj.uri},set:function(t){this.Wj=t,this.dispatchEvent("renditionUpdated")}},{key:"LY",get:function(){return this.Vj}},{key:"PY",get:function(){return this.Hj}},{key:"wZ",get:function(){return this.Vj?this.Vj.live?this.Vj.duration<-60?EP.Tj:EP.Sj:EP.bj:EP.Ff}},{key:"Vn",get:function(){return this.cS},set:function(t){this.oZ(t)}},{key:"yl",get:function(){return this.Tu}},{key:"SA",get:function(){return this.Xj}},{key:"fj",get:function(){return this.qj||this.Xj}},{key:"mZ",get:function(){return this.zj}},{key:"yZ",get:function(){return!!this.LY}},{key:"wf",get:function(){return this.Fj}}]),n}(hP),HP=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=bP.lj),(w=t.call(this,n,i,e,s,u,o,d)||this).kZ=void 0,w.pZ=void 0,w.bZ=void 0,w.AZ=void 0,w.TZ=void 0,w.SZ=void 0,w.EZ=void 0,w.RZ=void 0,w.IZ=void 0,w.fH=void 0,w.NZ=void 0,w.DZ=void 0,w.CZ=void 0,w.xZ=void 0,w.OZ=void 0,w.PZ=void 0,w.BZ=null,w.LZ=void 0,w.kZ=Boolean(l),w.TZ=r,w.pZ=UP(h),w.bZ=g,w.EZ=a,w.RZ=c,w.SZ=f,w.AZ=v,w.fH=_,w}S(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.lY,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.MZ[0]?t.MZ[0].wl:bP.lj)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&us(t.characteristics,"public.accessibility.describes-video")?bP.wj:bP.lj;if(t.characteristics&&us(t.characteristics,"public.accessibility.describes-video"))return bP.sA;return bP.dj}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.UZ=function(t){this.pZ="string"==typeof t?UP(t):t,this.dispatchEvent("renditionUpdated")},i.FZ=function(t,n){return t?!n&&t.Lj&&t.Mj?SP.vj:t.Mj?SP.$f:t.Lj?SP.Jf:SP.Ff:SP.Ff},A(n,[{key:"HZ",set:function(t){this.kZ=t}},{key:"zZ",get:function(){return this.pZ}},{key:"bandwidth",get:function(){return this.AZ},set:function(t){this.AZ=t,this.dispatchEvent("renditionUpdated")}},{key:"wl",get:function(){return this.fH}},{key:"resolution",get:function(){return this.SZ},set:function(t){this.SZ=t,this.dispatchEvent("renditionUpdated")}},{key:"VZ",get:function(){return void 0!==this.bZ?this.bZ:this.FZ(this.pZ,this.kZ)}},{key:"lY",get:function(){return this.EZ}},{key:"Lj",get:function(){return this.RZ}},{key:"WZ",get:function(){return this.TZ}},{key:"XZ",get:function(){return this.IZ},set:function(t){var n=this.IZ;this.IZ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(FP);var zP=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).fi=void 0,c.qZ=null,c.GZ=void 0,c.QZ=function(){return c.YZ()},c.fi=h,c.GZ=new iC(a,String(e),c.Vn,c.yl,void 0,Oy.WEBVTT),c.SA&&(c.GZ.Rl=Ww.Tl),c}S(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(us(t.characteristics,"public.accessibility.describes-music-and-sound"))return Yp.rA;return Yp.Zy}(i))};var i=n.prototype;return i.$j=function(n){t.prototype.$j.call(this,n),this.YZ()},i.hv=function(){t.prototype.hv.call(this),this.jb=null},i.oZ=function(n){t.prototype.oZ.call(this,n),this.GZ.ml=n},i.YZ=function(){this.qZ&&this.qZ.jZ(this,this.PY)},A(n,[{key:"ZZ",get:function(){return this.GZ}},{key:"jb",get:function(){return this.qZ},set:function(t){this.qZ&&this.qZ.removeEventListener("JZ",this.QZ),this.qZ=t,this.YZ(),this.qZ&&this.qZ.addEventListener("JZ",this.QZ)}},{key:"uj",get:function(){return this.uri}},{key:"nr",get:function(){return this.fi}}]),n}(FP),VP=function(t){function n(n,i){var e;(e=t.call(this)||this).Ch=void 0,e.$Z=void 0,e.KZ=["renditionUpdated","eZ","tJ"],e.nJ=null,e.iJ=null,e.eJ=null,e.rJ=null,e.sJ=new MP,e.uJ=new MP,e.oJ=new MP,e.W_={},e.hJ=void 0,e.aJ=void 0,e.cJ=null,e.Au=NaN,e.fJ=void 0,e.vJ=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.Ch=n,e.$Z=i;var r=Yt(e);return e.fJ=function(){r.HF(this)},e.vJ=function(t){r.dJ(this,t)},e}S(n,t);var i=n.prototype;return i.lJ=function(t,n){var i=new hx(n);return i.Rl=Ww.Al,this.W_[i._l]=i,this.dispatchEvent({type:"_J",Id:i}),i},i.gJ=function(t,n,i){var e=new ox(i,"manifest");return e.Rl=Ww.Al,this.W_[e._l]=e,this.dispatchEvent({type:"_J",Id:e}),e},i.wJ=function(t,n){if(t){var i=t.Cl,e=t.mJ,r=t&&this.W_[e];r||(r=new hx(t.El),this.W_[e]=r,r.Rl=Ww.Al,this.dispatchEvent({type:"_J",Id:r}));for(var s=0;s<i.length;s++){var u=i[s];r.AA(u)}}},i.yJ=function(t){t&&(this.hJ||(this.hJ=new iC(Yp.rA,void 0,"CC1","en",!0,Oy.CEA608),this.W_.CC1=this.hJ,this.dispatchEvent({type:"_J",Id:this.hJ})),this.hJ.AA(t))},i.kJ=function(t,n,i){var e=this.W_[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>=i)break;n<u.nw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.cA(u)}}},i.pJ=function(t,n){return this.bJ(t,n)},i.AJ=function(t){var n;return(n=this.TJ(t,this.sJ))?n:(n=this.TJ(t,this.uJ))?n:n=this.TJ(t,this.oJ)},i.hv=function(){this.Gr(this.sJ),this.sJ.hv(),this.Gr(this.uJ),this.uJ.hv(),this.Gr(this.oJ),this.oJ.hv(),this.W_={},this.hJ=void 0,this.aJ&&(this.aJ.hv(),this.aJ=void 0),this.cJ=null,this.Au=NaN,this.nJ=null,this.iJ=null,this.eJ=null,this.rJ=null,this.dispatchEvent("hv")},i.SJ=function(t){var n=HP.createFromUri(this,t.uri);this.Gr(this.uJ),this.uJ.Lg(n),n.addEventListener("renditionUpdated",this.fJ)},i.HF=function(t){var n=t.LY,i=t.wZ;if(m(this.Au)||EP.D_(i)){if(EP.Ff===i)return;if(!n)return;this.Au=n.duration,this.dispatchEvent("EJ")}m(this.Au)||EP.bj!==i||t.removeEventListener("renditionUpdated",this.fJ)},i.RJ=function(t){var n=this;this.Gr(this.sJ),this.sJ.ds(),this.Gr(this.uJ),this.uJ.ds(),this.oJ.ds(),this.cJ=t;for(var i=t.streams.map(function(t){return HP.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.Lj&&!us(t.Lj,"mp4a")&&!us(t.Lj,"mp3"))return!1;if(t.Mj&&!us(t.Mj,"avc1"))return!1;return!0}(t.zZ)}),e=i.some(function(t){return t.zZ&&t.zZ.Lj}),r=i.some(function(t){return t.zZ&&t.zZ.Mj}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.zZ&&u.zZ.Lj),h=Boolean(u.zZ&&u.zZ.Mj);e&&!o||r&&!h||(this.uJ.Lg(u),u.addEventListener("renditionUpdated",this.fJ))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.$Z){var r=zP.createFromPlaylistMedia(n,e);n.oJ.Lg(r),n.dispatchEvent({type:"_J",Id:r.ZZ})}break;case"closed-captions":break;case"audio":var s=n.uJ.Pj.filter(function(t){return t.Lj===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.HZ=!0});var u=e.uri?SP.Jf:SP.vj,o=HP.createFromPlaylistMedia(n,e,!1,u);n.sJ.Lg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.IJ=OP(this.MZ.Bj)||null,this.dispatchEvent("NJ")},i.TJ=function(t,n){for(var i=0,e=n.Pj;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.dJ=function(t,n){this.dispatchEvent(Rr({},n,{rZ:t}))},i.DJ=function(t){for(var n=0,i=t.Pj;n<i.length;n++)for(var e=i[n],r=0,s=this.KZ;r<s.length;r++){var u=s[r];e.addEventListener(u,this.vJ)}},i.Gr=function(t){for(var n=0,i=t.Pj;n<i.length;n++){i[n].hv()}},i.CJ=function(t,n){0!==t.length&&this.Ch.hlsDateRange&&(this.aJ||(this.aJ=new RP,this.dispatchEvent({type:"_J",Id:this.aJ})),this.aJ.Zo(t,n))},i.xJ=function(t,n){if(this.iJ!==t){var i=this.iJ;this.iJ=t,this.dispatchEvent({type:"OJ",VZ:"Lj",rZ:this.iJ,PJ:i,BJ:n})}},i.bJ=function(t,n){if(this.eJ!==t){var i=this.eJ;this.eJ=t,t&&this.dispatchEvent({type:"OJ",VZ:"Mj",rZ:this.eJ,PJ:i,BJ:n})}},i.LJ=function(t){for(var n=0,i=t.Pj;n<i.length;n++){var e=i[n];if(e.wZ!==EP.Ff)return e.wZ}return null},A(n,[{key:"P_",get:function(){return this.nJ},set:function(t){t&&(0===t.streams.length?this.SJ(t):this.RJ(t),this.nJ=t,this.DJ(this.uJ),this.DJ(this.sJ),this.dispatchEvent("MJ"))}},{key:"UJ",get:function(){return this.cJ}},{key:"d_",get:function(){return this.Au}},{key:"j_",get:function(){var t=this,n=this.oJ.Pj.map(function(t){return t.ZZ}),i=l.keys(this.W_).map(function(n){return t.W_[n]});return this.hJ&&i.push(this.hJ),this.aJ&&i.push(this.aJ),n.concat(i)}},{key:"IJ",get:function(){return this.iJ},set:function(t){this.xJ(t,!0)}},{key:"FJ",get:function(){return this.eJ},set:function(t){this.bJ(t,!1)}},{key:"MZ",get:function(){return this.sJ}},{key:"HJ",get:function(){return this.uJ}},{key:"zJ",get:function(){return this.oJ.Pj}},{key:"wZ",get:function(){var t;return null!==(t=this.iJ&&this.iJ.wZ)&&t!==EP.Ff?t:null!==(t=this.eJ&&this.eJ.wZ)&&t!==EP.Ff?t:null!==(t=this.LJ(this.sJ))?t:null!==(t=this.LJ(this.uJ))?t:EP.Ff}}]),n}(hP);var WP=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).qk=[],r.VJ={},r.WJ=void 0,r.XJ=void 0,r.qJ=void 0,r.Ed=void 0,r.Ur=function(t){return r.dispatchEvent(t)},r.GJ=function(t){r.QJ(t)},r.YJ=function(t){r.handleRenditionUpdated(t)},r.jJ=function(t){for(var n=0,i=r.qk;n<i.length;n++){i[n].ZJ.jJ(t)}},r.WJ=n,r.XJ=i,r.qJ=e,r.XJ&&r.XJ.addEventListener("OJ",r.GJ),r.qJ&&(r.qJ.addEventListener("renditionUpdated",r.YJ),r.qJ.addEventListener("JJ",r.jJ)),r.Ed=(s=Yt(r),u=new hP,o={get length(){return s.qk.length},enable:function(t){s.dA(s.$J(t&&t.id)||t)},disable:function(t){s.lA(s.$J(t&&t.id)||t)},item:function(t){return s.qk[t]&&s.qk[t].Ed},getTrackByID:function(t){var n=s.$J(t);return n&&n.Ed},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}S(n,t);var i=n.prototype;return i.$J=function(t){return this.VJ[t]},i.$d=function(t){for(var n=0,i=t.ZJ.kl;n<i.length;n++){var e=i[n];e._l===this.KJ()&&(e.yw=!0)}t.addEventListener("enabledtrack",this.Ur),t.addEventListener("disabledtrack",this.Ur),this.qk.push(t),this.VJ[t._l]=t,this.dispatchEvent({type:"addtrack",track:t.Ed})},i.dA=function(t){if(t){var n=this.VJ[t._l];if(n&&!n.ll){for(var i=this.qk.length-1;i>=0;i--)this.qk[i].hg();n.og()}}},i.lA=function(t){},A(n,[{key:"t$",get:function(){return this.KJ()}}]),n}(hP);var XP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).n$=void 0,r.n$=NaN,r}S(n,t);var i=n.prototype;return i.KJ=function(){return this.n$},i.QJ=function(t){t.i$?this.e$(t.r$):t.s$&&this.e$(t.s$)},i.e$=function(t){t&&(this.n$=t._l),this.qk.forEach(function(n){return n.u$(t)})},i.handleRenditionUpdated=function(t){if(t.rZ&&t.rZ.VZ===SP.Jf)for(var n=0,i=this.qk;n<i.length;n++){i[n].o$(t)}},i.dA=function(n){var i=n;if(!i){var e=this.qk.filter(function(t){return t.SA});e.length>0&&(i=e[0])}t.prototype.dA.call(this,i)},A(n,[{key:"nr",get:function(){return"audio"}}]),n}(WP),qP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).h$=void 0,r.h$=NaN,r}S(n,t);var i=n.prototype;return i.KJ=function(){return this.h$},i.QJ=function(t){(t.a$||t.r$)&&(t.r$&&(this.h$=t.r$._l),this.qk.forEach(function(n){return n.u$(t.r$)}))},i.handleRenditionUpdated=function(t){if(t.rZ&&(t.rZ.VZ===SP.$f||t.rZ.VZ===SP.vj))for(var n=0,i=this.qk;n<i.length;n++){i[n].o$(t)}},A(n,[{key:"nr",get:function(){return"video"}}]),n}(WP);function GP(t,n){for(var i,e=n-(i=t?V(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function QP(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var YP=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).rZ=void 0,i.yw=!1,i.c$=!0,i.Ed=void 0,i.rZ=n,i.yw=!1,i.Ed=(e=Yt(i),r=new hP,s={get bandwidth(){return e.rZ&&e.rZ.bandwidth},get averageBandwidth(){return e.rZ&&e.rZ.averageBandwidth},get codecs(){return e.zZ},get resolution(){return e.f$},get frameRate(){return QP(e.v$,2)},get id(){return e._l},get uri(){return e.rZ&&e.rZ.uri},get name(){return e.Vn},set name(t){e.Vn=t},get enabled(){return e.ll},set enabled(t){e.ll=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}S(n,t);var i=n.prototype;return i.d$=function(t){var n=!!t&&this._l===t._l;this.yw!==n&&(this.yw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Ed}))},i.o$=function(t){return this.rZ._l===t.rZ._l&&(this.rZ=t.rZ,this.dispatchEvent({type:"qualityupdated",quality:this.Ed}),!0)},A(n,[{key:"ll",get:function(){return this.c$},set:function(t){this.c$=t,this.rZ.aZ(!t)}},{key:"wl",get:function(){return this.rZ.wl}},{key:"f$",get:function(){return this.rZ.resolution?{width:this.rZ.resolution.width,height:this.rZ.resolution.height}:{width:NaN,height:NaN}}},{key:"Vn",get:function(){return this.rZ.Vn},set:function(t){this.rZ.Vn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Ed})}},{key:"_l",get:function(){return this.rZ._l}}]),n}(hP);var jP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"zZ",get:function(){return this.rZ.zZ&&this.rZ.zZ.Mj||""}},{key:"v$",get:function(){return QP(Number(this.rZ.XZ),2)}}]),n}(YP),ZP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"zZ",get:function(){return this.rZ.zZ&&this.rZ.zZ.Lj||""}},{key:"v$",get:function(){return QP(Number(this.rZ.LZ),2)}}]),n}(YP),JP=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).kl=void 0,e.l$=null,e._$={},e.qJ=void 0,e.Ed=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.kl=n,e.qJ=i;for(var h=e.kl.length-1;h>=0;h--){var a=e.kl[h];e._$[a._l]=a}return e.kl.forEach(function(t){return t.addEventListener("activequalitychanged",e.Ur)}),e.Ed=(r=Yt(e),s=new hP,u={item:function(t){var n=r.Jd(t);return n&&n.Ed},getQualitiesByIDs:function(t){return r.g$(t).map(function(t){return t.Ed})},get length(){return r.kl.length},get activeQuality(){return r.dl&&r.dl.Ed},get targetQuality(){return r.pl?1===r.pl.length?r.pl[0].Ed:r.pl.map(function(t){return t.Ed}):null},set targetQuality(t){if(t){var n=z(t)?t:[t];r.pl=r.g$(n.map(function(t){return t.id}))}else r.pl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}S(n,t);var i=n.prototype;return i.w$=function(t){return!!t&&this.kl.some(function(n){return n._l===t._l})},i.m$=function(t,n){for(var i=0,e=this.kl;i<e.length;i++){e[i].d$(t)}},i.g$=function(t){var n=this;return t&&t.map(function(t){return n._$[t]}).filter(function(t){return t})},i.y$=function(){for(var t=this.kl.length-1;t>=0;t--)this.kl[t].yw=!1},i.jJ=function(t){var n=this.qJ.k$,i=this.g$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Ed}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Jd=function(t){return this.kl[t]},A(n,[{key:"dl",get:function(){for(var t=0,n=this.kl;t<n.length;t++){var i=n[t];if(i.yw)return i}return null}},{key:"pl",get:function(){return this.l$},set:function(t){this.l$=this.p$(t)}}]),n}(hP);var $P=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){this.qJ&&(this.qJ.n$=this.kl[0]._l)},i.hg=function(t){this.qJ&&(this.qJ.n$=null)},i.p$=function(t){},n}(JP),KP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){if(this.p$(this.pl),this.qJ){var t=this.qJ.WJ;if(!t)return;var n=Ns(t.b$.MZ.Pj,function(t){return!t.uri});this.qJ.n$=n?n._l:null}},i.m$=function(n,i){"video"===i&&t.prototype.m$.call(this,n,i)},i.hg=function(t){"video"===t&&this.y$()},i.p$=function(t){if(!this.qJ)return this.pl;var n=t?this.g$(t.map(function(t){return t._l})):null;if(n&&n.length>0){var i=n.map(function(t){return t._l});return this.qJ.k$=i,n}return t?this.pl:(this.qJ.k$=null,null)},n}(JP),tB=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).nr=void 0,e.ZJ=void 0,e._l=void 0,e.zg=void 0,e.Vn=void 0,e.Ed=void 0,e.nr=n,e.ZJ=i,e._l=i.Jd(0)._l,e.zg=e.ZJ.kl.some(function(t){return t.yw}),e.Vn=i.Jd(0).rZ.Vn,e.Ed=(r=Yt(e),s=new hP,{get id(){return r._l},get enabled(){return r.ll},get qualities(){return r.ZJ&&r.ZJ.Ed},get language(){return r.yl},get default(){return r.SA},get name(){return r.Vn},set name(t){r.Vn=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}S(n,t);var i=n.prototype;return i.u$=function(t){var n=this.ZJ.w$(t);this.Wg(n),this.ZJ.m$(t,this.nr)},i.Wg=function(t){this.zg!==t&&(t?(this.zg=!0,this.dispatchEvent({type:"enabledtrack",track:this.Ed})):(this.zg=!1,this.dispatchEvent({type:"disabledtrack",track:this.Ed})))},i.og=function(){this.zg||this.ZJ.og()},i.hg=function(){this.zg&&this.ZJ.hg(this.nr)},i.o$=function(t){t.rZ._l===this._l&&(this.Vn=t.rZ.Vn);for(var n=0,i=this.ZJ.kl;n<i.length;n++){i[n].o$(t)}},A(n,[{key:"ll",get:function(){return this.zg}},{key:"yl",get:function(){return this.A$()}},{key:"wl",get:function(){return this.T$()}},{key:"SA",get:function(){var t="video"===this.nr,n=this.ZJ.kl&&this.ZJ.kl[0].rZ.SA;return t||n}}]),n}(hP);var nB=function(t){function n(n){return t.call(this,"video",n)||this}S(n,t);var i=n.prototype;return i.T$=function(){return AP.lj},i.A$=function(){return""},n}(tB),iB=function(t){function n(n){return t.call(this,"audio",n)||this}S(n,t);var i=n.prototype;return i.T$=function(){return this.ZJ.kl[0].rZ.wl},i.A$=function(){return this.ZJ.kl[0].rZ.yl||""},n}(tB),eB=function(){function t(t,n,i){var e=this;this.S$=void 0,this.E$=void 0,this.R$=void 0,this.I$=void 0,this.N$=function(){var t=e.S$;t.removeEventListener("D$",e.N$);var n=t.b$.HJ.Pj,i=t.b$.MZ.Pj,r=n.map(function(t){return new jP(t)});if(r.length>0){var s=new KP(r,e.E$);e.I$.$d(new nB(s));var u=Ns(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new iB(s);u&&(h.Vn=u.Vn),e.R$.$d(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new ZP(c),v=new $P([f],e.E$);e.R$.$d(new iB(v))}}},this.S$=t,this.E$=i,this.R$=new XP(t,n,i),this.I$=new qP(t,n,i),t&&(t.D$?this.N$():t.addEventListener("D$",this.N$))}return A(t,[{key:"Q_",get:function(){return this.R$}},{key:"Y_",get:function(){return this.I$}}]),t}(),rB=["loadedmetadata","durationchange","ts","lv","Ng","C$"],sB=["x$","OJ","O$","ts"],uB=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).P$=null,h.hR=void 0,h.B$=void 0,h.L$=void 0,h.M$=void 0,h.XJ=void 0,h.U$=void 0,h.WJ=void 0,h.Y_=void 0,h.Q_=void 0,h.F$=[],h.H$=[],h.z$=function(t){return h.dispatchEvent(t)},h.V$=function(t){return h.W$(t)},h.X$=function(t){return h.q$(t)},h.hR=n.src,h.B$=n.type,h.L$=i,h.M$=e,h.U$=r,h.WJ=s,h.XJ=u,h.WJ&&(h.WJ.addEventListener("G$",h.z$),h.WJ.addEventListener("Q$",h.z$));var a=new eB(h.WJ,h.XJ,o);return h.Y_=a.Y_,h.Q_=a.Q_,h.aR=null,h.hR&&(h.XJ&&h.XJ.nl(),h.WJ&&(h.WJ.Y$=h.hR)),h}S(n,t);var i=n.prototype;return i.j$=function(t){this.XJ&&this.XJ.Yo(t),this.WJ&&this.WJ.Z$(),this.aR&&this.J$()},i.K$=function(){this.XJ&&this.XJ.K$(),this.WJ&&this.WJ.tK()},i.nK=function(){if(this.WJ)for(var t=0;t<rB.length;t++){var n=rB[t];this.WJ.addEventListener(n,this.V$)}if(this.XJ)for(var i=0;i<sB.length;i++){var e=sB[i];this.XJ.addEventListener(e,this.X$)}},i.iK=function(){if(this.WJ)for(var t=0;t<rB.length;t++){var n=rB[t];this.WJ.removeEventListener(n,this.V$)}if(this.XJ)for(var i=0;i<sB.length;i++){var e=sB[i];this.XJ.removeEventListener(e,this.X$)}},i.J$=function(){if(this.WJ&&this.F$.length){var t=this.F$.slice();Ps(this.F$);for(var n=0;n<t.length;n++){var i=t[n];this.WJ.dispatchEvent(i)}}if(this.XJ&&this.H$.length){var e=this.H$.slice();Ps(this.H$);for(var r=0;r<e.length;r++){var s=e[r];this.XJ.dispatchEvent(s)}}},i.W$=function(t){this.F$.push(t)},i.q$=function(t){this.H$.push(t)},i.hv=function(){this.dispatchEvent("hv"),this.Wr(),this.XJ&&this.XJ.hv(),this.U$&&this.U$.hv(),this.WJ&&this.WJ.hv(),this.P$=null,Ps(this.F$),Ps(this.H$)},A(n,[{key:"aR",get:function(){return this.P$},set:function(t){this.iK(),this.P$=t,this.aR?this.dispatchEvent("oh"):this.nK()}}]),n}(hP),oB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).S$=null,n.Ur=function(t){n.dispatchEvent(t,!0)},n}return S(n,t),A(n,[{key:"n$",get:function(){var t=this.S$&&this.S$.b$.IJ;return t?t._l:null},set:function(t){var n;this.S$&&(n=null===t?OP(this.S$.b$.MZ.Pj):this.S$.b$.MZ.Pj.filter(function(n){return t===n._l}).shift(),this.S$.b$.IJ=n||null)}},{key:"k$",get:function(){return this.S$&&this.S$.eK||null},set:function(t){this.S$&&(this.S$.rK(t),this.dispatchEvent("JJ"))}},{key:"WJ",get:function(){return this.S$},set:function(t){this.S$&&(this.S$.b$.removeEventListener("MJ",this.Ur),this.S$.b$.removeEventListener("renditionUpdated",this.Ur),this.S$.b$.removeEventListener("NJ",this.Ur)),this.S$=t,this.S$&&(this.S$.b$.addEventListener("MJ",this.Ur),this.S$.b$.addEventListener("renditionUpdated",this.Ur),this.S$.b$.addEventListener("NJ",this.Ur))}}]),n}(hP),hB=function(){function t(){}var n=t.prototype;return n.sK=function(t){return ze.resolve(!1)},n.uK=function(t){return ze.reject(aB)},n.oK=function(t){return ze.reject(aB)},n.as=function(t){return ze.resolve(!1)},n.cs=function(t){return ze.resolve(void 0)},n.mY=function(t,n){return ze.resolve(void 0)},n.hK=function(t){return ze.resolve([])},n.aK=function(){return ze.resolve([])},n.cK=function(t){return ze.resolve([])},n.fK=function(t,n){return ze.resolve([])},n.jo=function(t){return ze.reject(aB)},n.vK=function(t){return ze.reject(aB)},n.dK=function(){return ze.reject(aB)},t}(),aB="Storage disabled",cB=function(){function t(){this.lK=void 0,this._K=void 0,this.gK=void 0,this.wK=void 0,this.mK=void 0,this.lK=new hB,this._K=new hB,this.gK=new hB,this.wK=new hB,this.mK=new hB}return t.$G=function(){return ze.resolve(new t)},t.prototype.yK=function(t){return ze.reject(fB)},t}(),fB="Storage disabled",vB=function(){function t(t){var n=this;this.Dr=new Ro,this.kK=void 0,this.Dr.Is(t),this.Dr.Ss.then(function(t){n.kK=t})}var n=t.prototype;return n.sK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.sK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.uK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.kK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.pK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.uK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.oK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.kK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.pK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.oK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.as=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.as(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.cs=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cs(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.mY=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.kK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.pK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.mY(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.hK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.hK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.aK=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.kK,n.t0){n.next=5;break}return n.next=4,Er.awrap(this.pK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.aK());case 7:case"end":return n.stop()}},null,this,null,ze)},n.cK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.fK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.kK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.pK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.fK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.jo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.jo(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.vK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.kK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.pK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.vK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.dK=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.kK,n.t0){n.next=5;break}return n.next=4,Er.awrap(this.pK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.dK());case 7:case"end":return n.stop()}},null,this,null,ze)},A(t,[{key:"pK",get:function(){return this.Dr.Ss}}]),t}(),dB=function(){function t(t){var n=this;this.Dr=new Ro,this.bK=void 0,this._K=void 0,this.lK=void 0,this.gK=void 0,this.wK=void 0,this.mK=void 0,this.Dr.Is(t);var i=this.Dr.Ss;i.then(function(t){n.bK=t}),this._K=new vB(i.then(function(t){return t._K})),this.lK=new vB(i.then(function(t){return t.lK})),this.gK=new vB(i.then(function(t){return t.gK})),this.wK=new vB(i.then(function(t){return t.wK})),this.mK=new vB(i.then(function(t){return t.mK}))}return t.prototype.yK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.bK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.AK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Er.awrap(n.yK(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,ze)},A(t,[{key:"AK",get:function(){return this.Dr.Ss}}]),t}(),lB=function(){function t(){this.ou=[]}var n=t.prototype;return n.sK=function(t){return ze.resolve("temporary"===t)},n.uK=function(t){return this.TK(t.key),this.ou.push(t),ze.resolve()},n.oK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.TK(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.ou.push(r)}return ze.resolve()},n.as=function(t){return ze.resolve(Boolean(this.SK(t)))},n.cs=function(t){return ze.resolve(this.SK(t))},n.mY=function(t,n){return ze.resolve(this.EK(t,n))},n.hK=function(t){var n=this,i=t?t.map(function(t){return n.SK(t)}):this.ou;return ze.resolve(i.filter(F))},n.aK=function(){return ze.resolve([].concat(this.ou))},n.cK=function(t){return this.fK(t,"key")},n.fK=function(t,n){var i=this.ou.filter(function(i){return i[n]===t});return ze.resolve(i)},n.jo=function(t){return this.TK(t),ze.resolve()},n.vK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.TK(i)}return ze.resolve()},n.dK=function(){return Ps(this.ou),ze.resolve()},n.SK=function(t){return this.EK(t,"key")},n.EK=function(t,n){for(var i=0,e=this.ou;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.TK=function(t){var n=this.SK(t);n&&Cs(this.ou,n)},t}(),_B=function(){function t(){this.lK=void 0,this._K=void 0,this.gK=void 0,this.wK=void 0,this.mK=void 0,this.lK=new lB,this._K=new lB,this.gK=new lB,this.wK=new lB,this.mK=new lB}return t.$G=function(){return ze.resolve(new t)},t.prototype.yK=function(t){return t(this)},t}(),gB=function(){function t(t){this.RK=t}var n=t.prototype;return n.sK=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.RK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Er.awrap(e.sK(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ze)},n.uK=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.RK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Er.awrap(r.sK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.uK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ze)},n.oK=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.RK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Er.awrap(r.sK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.oK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ze)},n.as=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.RK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Er.awrap(e.as(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ze)},n.cs=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.RK;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Er.awrap(e.cs(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,ze)},n.mY=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.RK;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Er.awrap(r.mY(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,ze)},n.hK=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.RK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Er.awrap(r.hK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ze)},n.aK=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.RK;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Er.awrap(e.aK());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,ze)},n.cK=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.RK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Er.awrap(r.cK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ze)},n.fK=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.RK;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Er.awrap(s.fK(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,ze)},n.jo=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.RK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Er.awrap(e.jo(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ze)},n.vK=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.RK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Er.awrap(e.vK(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ze)},n.dK=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.RK;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Er.awrap(i.dK());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,ze)},t}();function wB(t){return function(){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(ze.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",mB.$G(n));case 4:case"end":return i.stop()}},null,null,null,ze)}}var mB=function(){function t(t){this.IK=void 0,this.NK=void 0,this.DK=void 0,this.CK=void 0,this.xK=void 0,this.PK=void 0,this.IK=t,this.NK=new gB(t.map(function(t){return t.wK})),this.DK=new gB(t.map(function(t){return t.mK})),this.CK=new gB(t.map(function(t){return t.gK})),this.xK=new gB(t.map(function(t){return t.lK})),this.PK=new gB(t.map(function(t){return t._K}))}return t.$G=function(n){return ze.resolve(new t(n))},t.prototype.yK=function(n){var i=this;if(0===this.IK.length)return n(this);var e=[],r=0;return this.IK[r].yK(function s(u){return e.push(u),++r<i.IK.length?i.IK[r].yK(s):n(new t(e))})},A(t,[{key:"wK",get:function(){return this.NK}},{key:"mK",get:function(){return this.DK}},{key:"gK",get:function(){return this.CK}},{key:"lK",get:function(){return this.xK}},{key:"_K",get:function(){return this.PK}}]),t}(),yB=function(){function t(t){this.BK=void 0,this.LK=[],this.MK=!0,this.BK=t}var n=t.prototype;return n.$G=function(){return new dB(this.UK())},n.UK=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.MK){e.next=4;break}return e.next=3,Er.awrap(ze.resolve());case 3:this.MK=!1;case 4:t=0,n=this.LK;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Er.awrap(wB([_B.$G,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Er.awrap(wB([_B.$G,this.BK])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],ze)},n.hL=function(t){if(!this.MK)throw new v("Registration overdue");this.LK.push(t)},t}(),kB=function(){function t(){}return t.hL=function(n){t.PS.hL(n)},A(t,null,[{key:"Rn",get:function(){return t.FK||(t.FK=t.PS.$G()),t.FK}}]),t}();function pB(t){return S_(t)}function bB(t,n){var i=S_(t);return n?""+i+n:""+i}function AB(t,n,i,e,r,s,u,o){var h=new Gc;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new p_({Mf:t,xf:i,Cf:h,sv:s,tv:g_.GET,nr:w_.zf,ev:e,rv:r,Pr:u,uv:o})}kB.PS=new yB(cB.$G),kB.FK=void 0;var TB=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).rp=void 0,a.uj=void 0,a.xf=void 0,a.ev=void 0,a.rv=void 0,a.HK=void 0,a.mA=void 0,a.zK=void 0,a.VK=void 0,a.kC=void 0,a.WK=void 0,a.pv=null,a.XK=void 0,a.kf=new Fs,a.qK=function(t,n){return a.uv(t,n)},a.rp=n,a.uj=i,a.xf=e,a.ev=r,a.rv=s,a.HK=u,a.kC=o,a.WK=new EB,a.mA=h,a.zK=kB.Rn.lK,a.VK=kB.Rn._K,a}S(n,t);var i=n.prototype;return i.RR=function(){return this.GK(this.kf.Pr)},i.GK=function(t){var n,i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return NP(n=this.uj)?(i=n.uj,e=[n.oj.RR,n.oj.NR]):(i=n,e=void 0),this.WK.QK(),h.prev=3,h.next=6,Er.awrap(this.YK(i,e));case 6:if(r=h.sent,Vs(t),r){h.next=12;break}return h.next=11,Er.awrap(this.jK(i,e,t));case 11:r=h.sent;case 12:return h.next=14,Er.awrap(r.ai());case 14:s=h.sent,Vs(t),this.ZK(s,r.Df),h.next=28;break;case 19:if(h.prev=19,h.t0=h.catch(3),!zs(h.t0)){h.next=25;break}return h.abrupt("return");case 25:o=h.t0 instanceof x_?h.t0.pv.Df:0,u=new v('Could not load fragment: "'+this.uj+'", HTTP status '+o);case 27:return h.abrupt("return",this.JK(u));case 28:case"end":return h.stop()}},null,this,[[3,19]],ze)},i.YK=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=bB(t,n),u.next=4,Er.awrap(this.zK.as(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,Er.awrap(this.VK.cs(i));case 7:return e=u.sent,r=AB(t,n,this.xf,this.ev,this.rv,this.HK),s=e.data.buffer,u.abrupt("return",new k_({ai:s,Cf:{},Bf:r,Lf:t,xf:this.xf,Df:200,Of:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],ze)},i.jK=function(t,n,i){var e=AB(t,n,this.xf,this.ev,this.rv,this.HK,i,this.qK);return this.mA.Bf(e)},i.uv=function(t,n){var i={type:"C$",Bf:this,$K:t,KK:n=void 0===n?NaN:n};this.WK.n0(t,n),this.dispatchEvent(i)},i.ZK=function(t,n){var i=this.xf===qc.za?t.byteLength:0;this.WK.i0(i),this.xf===qc.On?this.pv=t:this.pv=new y(t),this.XK=n,t=null,this.JK(),this.pv=null},i.Cr=function(t){return this.kf.Cr(),t||((t=new v('Aborted fragment load: "'+this.uj+'"')).aborted=!0),this.JK(t)},i.JK=function(t){this.WK.e0();var n={type:"tg",Bf:this};return this.dispatchEvent(n),this.kC(t||null,this)},n}(hP);function SB(){return SR()/1e3}var EB=function(t){function n(){var n;return(n=t.call(this)||this).r0=NaN,n.s0=NaN,n.u0=NaN,n.o0=NaN,n.h0=0,n.a0=NaN,n.r0=SB(),n}S(n,t);var i=n.prototype;return i.QK=function(){this.r0=SB(),this.dispatchEvent("Zo")},i.n0=function(t,n){this.u0=SB(),this.G$||(this.s0=this.u0),this.h0=t,this.a0=n||this.a0||NaN,this.dispatchEvent("Zo")},i.i0=function(t){this.n0(t,t)},i.e0=function(){this.o0=SB(),this.dispatchEvent("Zo")},A(n,[{key:"G$",get:function(){return!m(this.s0)}},{key:"c0",get:function(){return!m(this.o0)}},{key:"f0",get:function(){return(this.s0||SB())-this.r0}},{key:"v0",get:function(){return(this.o0||this.u0)-this.s0}},{key:"d0",get:function(){return(this.o0||this.u0)-this.r0}}]),n}(hP),RB=function(t){function n(n,i){var e;return(e=t.call(this)||this).HK=void 0,e.l0=[],e._0=null,e.g0=function(t){return e.w0(t)},e.mA=void 0,e.HK=!(!i||i.crossOrigin!==sm.$l),e.mA=n,e}S(n,t);var i=n.prototype;return i.Yo=function(t,n,i,e,r,s){var u=new TB(t,n,i,e,r,this.HK,s,this.mA);return u.addEventListener("tg",this.g0),this.l0.push(u),this.m0(),u},i.y0=function(t,n,i,e,r){var s=this;return new ze(function(u,o){s.Yo(t,n,i,e,r,function(t,n){t?o(t):u(n.pv)})})},i.ds=function(t,n){var i=function(t){return!n||t.rp===n},e=this.l0.filter(i);!t&&this._0&&i(this._0)&&e.push(this._0);for(var r=0;r<e.length;r++){e[r].Cr()}return e},i.m0=function(){if(!this._0){var t=this.l0.shift();t&&(this._0=t,t.RR())}},i.w0=function(t){var n=t.Bf,i=this.l0.indexOf(n);-1!==i&&xs(this.l0,i),this._0===n&&(this._0=null,this.m0())},n}(hP);function IB(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function NB(t){return{get length(){return t.length},start:function(n){return IB(t,n|=0),t.start(n)},end:function(n){return IB(t,n|=0),t.end(n)}}}function DB(t,n){return t.RR-n.RR}var CB=function(){function t(t){this.k0=void 0,this.k0=t}var n=t.prototype;return n.start=function(t){return this.k0[t].RR},n.end=function(t){return this.k0[t].NR},n.p0=function(){return this.k0},A(t,[{key:"length",get:function(){return this.k0.length}}]),t}(),xB=new CB([]),OB=new CB([{RR:-1/0,NR:1/0}]);function PB(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({RR:r,NR:s}),r=o,s=h))}return e.push({RR:r,NR:s}),new CB(e)}(function(t){var n=FB(t);return n.sort(DB),new CB(n)}(t),n)}function BB(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=_.max(t.start(e),n.start(r)),u=_.min(t.end(e),n.end(r));s<u&&i.push({RR:s,NR:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new CB(i)}function LB(t){var n=t.length;if(!n)return OB;var i=[],e=t.start(0);e!==-1/0&&i.push({RR:-1/0,NR:e});for(var r=0;r<n-1;r+=1)i.push({RR:t.end(r),NR:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({RR:s,NR:1/0}),new CB(i)}function MB(t,n){return-1!==UB(t,n)}function UB(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function FB(t){if(t instanceof CB)return t.p0();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({RR:t.start(i),NR:t.end(i)});return n}function HB(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(FB)),PB(new CB(r));var i,e,r}var zB=.001;function VB(t,n,i){return i=+i||0,t.RR-i<=n.NR&&n.RR<=t.NR+i}function WB(t){var n={RR:NaN,NR:NaN,PY:t};return XB(n),n}function XB(t){var n=t.PY;n.length?(n.sort(DB),t.RR=n[0].RR,t.NR=n[n.length-1].NR):(t.RR=NaN,t.NR=NaN)}function qB(t){return void 0!==t.PY}function GB(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=_.max(s.RR,n),o=_.min(s.NR,i);if(u<o){var h=void 0;h=s.RR===u&&s.NR===o?s:{RR:u,NR:o,dp:s.dp},e.push(h)}}return e}function QB(t,n){var i=_.min(t.RR,n.RR),e=_.max(t.NR,n.NR),r=t.PY,s=n.PY,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.dp===h.dp&&VB(o,h,zB)&&u.splice(r.length-1,2,function(t,n){var i=t.dp||n.dp;return{RR:_.min(t.RR,n.RR),NR:_.max(t.NR,n.NR),dp:i}}(o,h)),WB(u=GB(u,i,e))}var YB,jB,ZB,JB=function(){function t(t,n){this.k0=void 0,this.k0=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;qB(e)?XB(r=e):r=WB([e]),r.PY.length&&r.RR<r.NR&&n.push(r)}return n}(t),n||this.b0()}var n=t.prototype;return n.start=function(t){return this.k0[t]&&this.k0[t].RR},n.end=function(t){return this.k0[t]&&this.k0[t].NR},n.PY=function(t){return this.k0[t]&&this.k0[t].PY},n.A0=function(t,n){return this.T0(t,t,n)},n.T0=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.S0=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.E0=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.R0=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Mg=function(t){return-1!==this.A0(t)},n.KR=function(t,n,i){return-1!==this.T0(t,n,i)},n.nI=function(t,n,i){return-1!==this.S0(t,n,i)},n.WR=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=_.max(this.start(i),t.start(e)),s=_.min(this.end(i),t.end(e));if(r<s){var u=GB(this.PY(i),r,s);n.push(WB(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.$G(n,!0)},n.Hw=function(t){return this.length&&t.length?this.WR(LB(t)):this},n.jR=function(t){return this.length?t.length?this.$G(this.k0.concat(t.k0)):this:t},n.I0=function(t){for(var n=[],i=0,e=this.k0;i<e.length;i++)for(var r=0,s=e[i].PY;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.$G(n)},n.rI=function(t){return this.I0(function(n){return t(n)?n:null})},n.N0=function(){if(!this.length)return this;for(var t=this.k0.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.D0(i,e)&&(t.splice(n,2,QB(i,e)),n-=1)}return this.$G(t,!0)},n.D0=function(t,n){var i=t.PY,e=n.PY,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.C0(r,s)},n.b0=function(){var t=this.k0;t.sort(DB);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&VB(i,e,zB)&&(t.splice(n,2,QB(i,e)),n-=1)}},A(t,[{key:"length",get:function(){return this.k0.length}}]),t}(),$B=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.$G=function(t,i){return new n(t,i)},i.C0=function(t,n){return n.dp.rZ===t.dp.rZ&&n.dp.lY===t.dp.lY+1},n}(JB);function KB(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.x0(r),u=t.O0(r,s);i.push({RR:s.Nw(),NR:u.Nw(),dp:r})}return new $B(i).N0()}function tL(t){return t.P0!==YB.B0}function nL(t){return 0===t.P0}function iL(t){return t.P0>=0}function eL(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.PY(e);s<u.length;s++){var o=u[s];if(!r){var h=o.dp;if(DP(h)&&tL(h)){if((r=iL(h))&&!nL(h)){var a=t.L0(h,h.M0).Nw();o={RR:_.max(o.RR,a),NR:o.NR,dp:h}}}else r=!0;0}r&&i.push(o)}return new $B(i)}(jB=YB||(YB={})).B0=-1,jB.U0=-2,function(t){t.F0="h.264",t.H0="mp3",t.z0="aac-lc",t.V0="he-aac"}(ZB||(ZB={}));var rL,sL,uL,oL,hL=function(){function t(){this.W0=0,this.k0=[],this.tA={}}var n=t.prototype;return n.X0=function(t){this.k0=this.k0.concat(t.k0),this.W0+=t.sl},n.q0=function(t,n,i){var e=this.W0,r=i-n;r>0&&(this.k0.push({G0:n,Q0:i,Y0:r,j0:e,Z0:t}),this.W0+=r)},n.cs=function(t){for(var n=0,i=this.k0;n<i.length;n++){var e=i[n];if(e.j0<=t&&t<e.j0+e.Y0)return e.Z0[t+e.G0-e.j0]}},n.J0=function(t,n){for(var i=n,e=0,r=this.k0;e<r.length;e++)for(var s=r[e],u=s.Q0,o=s.G0;o<u;o+=1,i+=1)t[i]=s.Z0[o];return i},n.$0=function(){for(var t=new y(this.W0),n=0,i=0,e=this.k0;i<e.length;i++)for(var r=e[i],s=r.Q0,u=r.G0;u<s;u+=1,n+=1)t[n]=r.Z0[u];return t},n.ks=function(n){for(var i=new t,e=0,r=this.k0;e<r.length;e++){var s=r[e];i.q0(s.Z0,s.G0,s.Q0)}return i.tA=n||Rr({},this.tA),i},A(t,[{key:"sl",get:function(){return this.W0},set:function(t){var n=this.k0,i=this.W0-t;if(!(t>=this.W0))if(this.W0=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.Y0)return r.Q0-=i,r.Y0-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.Y0}else n.length=0}},{key:"ai",get:function(){for(var t=new Array(this.W0),n=0,i=0,e=this.k0;i<e.length;i++)for(var r=e[i],s=r.Q0,u=r.G0;u<s;u+=1,n+=1)t[n]=r.Z0[u];return t}}]),t}();function aL(t,n){return{audio:t.audio?gL(t.audio,n):void 0,video:t.video?bL(t.video,n):void 0,K0:t.K0?(i=t.K0,{n1:i.n1,mJ:i.mJ,El:i.El,i1:i.i1,e1:i.e1,s1:i.s1,u1:i.u1.map(cL),Cl:[]}):void 0,o1:t.o1?t.o1.map(vL):t.o1,h1:t.h1.qm()};var i}function cL(t){return{Ak:t.Ak,tA:{a1:t.tA.a1,c1:t.tA.f1.qm()},UH:t.UH}}function fL(t){return{Ak:t.Ak,tA:{a1:t.tA.a1,f1:yk(t.tA.c1)},UH:t.UH}}function vL(t){return{f1:t.f1.qm(),wb:t.wb,v1:t.v1,d1:t.d1,nr:t.nr,VX:t.VX,l1:t.l1,_1:t._1}}function dL(t){return{f1:yk(t.f1),wb:t.wb,v1:t.v1,d1:t.d1,nr:t.nr,VX:t.VX,l1:t.l1,_1:t._1}}function lL(t){return{n1:t.n1,UH:[],g1:t.g1,w1:t.w1,duration:t.duration,m1:t.m1,b1:t.b1.qm(),A1:t.A1,T1:t.T1.qm(),S1:t.S1,E1:t.E1.qm(),R1:t.R1.qm(),I1:t.I1.qm(),N1:t.N1.qm(),D1:t.D1.qm(),C1:t.C1.qm(),O1:t.O1.qm()}}function _L(t){return{n1:t.n1,UH:[],g1:t.g1,w1:t.w1,duration:t.duration,m1:t.m1,b1:yk(t.b1),A1:t.A1,T1:yk(t.T1),S1:t.S1,E1:yk(t.E1),R1:yk(t.R1),I1:yk(t.I1),N1:yk(t.N1),D1:yk(t.D1),C1:yk(t.C1),O1:yk(t.O1)}}function gL(t,n){switch(t.g1){case ZB.z0:case ZB.V0:return function(t,n){return Rr({},mL(t),{g1:t.g1,UH:t.UH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},SL(e),{P1:e.P1,B1:e.B1,L1:e.L1}));var e;return kL(t.ks(i),n)}(t,n)}),BZ:t.BZ,M1:t.M1})}(t,n);case ZB.H0:return function(t,n){return Rr({},mL(t),{g1:t.g1,UH:t.UH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},SL(e),{Ik:e.Ik,sp:e.sp,U1:e.U1,F1:e.F1,H1:e.H1}));var e;return kL(t.ks(i),n)}(t,n)})})}(t,n)}}function wL(t){switch(t.g1){case ZB.z0:case ZB.V0:return function(t){return Rr({},yL(t),{g1:t.g1,UH:t.UH.map(function(t){return function(t){var n=pL(t),i=(e=n.tA,Rr({},EL(e),{P1:e.P1,B1:e.B1,L1:e.L1}));var e;return n.ks(i)}(t)}),BZ:t.BZ,M1:t.M1})}(t);case ZB.H0:return function(t){return Rr({},yL(t),{g1:t.g1,UH:t.UH.map(function(t){return function(t){var n=pL(t),i=(e=n.tA,Rr({},EL(e),{Ik:e.Ik,sp:e.sp,U1:e.U1,F1:e.F1,H1:e.H1}));var e;return n.ks(i)}(t)})})}(t)}}function mL(t){return Rr({},lL(t),{UH:[],g1:t.g1,z1:t.z1,V1:t.V1,W1:t.W1,X1:t.X1})}function yL(t){return Rr({},_L(t),{UH:[],g1:t.g1,z1:t.z1,V1:t.V1,W1:t.W1,X1:t.X1})}function kL(t,n){var i=t.$0();return n.push(i.buffer),{q1:i,G1:t.sl,Q1:t.tA}}function pL(t){var n=new hL;return n.q0(t.q1,0,t.G1),n.tA=t.Q1,n}function bL(t,n){return Rr({},lL(t),{g1:t.g1,UH:t.UH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},AL(e),{d_:e.d_,Y1:e.Y1.qm(),j1:e.j1,Z1:e.Z1,J1:e.J1&&e.J1.qm(),K1:e.K1&&e.K1.qm(),n2:e.n2,i2:e.i2,o1:e.o1,e2:e.e2}));var e;return kL(t.ks(i),n)}(t,n)}),s2:t.s2,u2:t.u2,Gp:t.Gp,width:t.width,height:t.height,o2:t.o2,h2:t.h2,a2:t.a2,NZ:t.NZ,DZ:t.DZ,ub:t.ub,ob:t.ob})}function AL(t){var n;return Rr({},{a1:(n=t).a1,c1:n.c1.qm()},{c2:t.c2.qm(),f2:t.f2.qm()})}function TL(t){var n;return Rr({},{a1:(n=t).a1,c1:yk(n.c1)},{c2:yk(t.c2),f2:yk(t.f2)})}function SL(t){return Rr({},AL(t))}function EL(t){return Rr({},TL(t))}!function(t){t.v2="d2",t.l2="_2"}(rL||(rL={})),function(t){t.g2="w2",t.oY="m2"}(sL||(sL={})),function(t){t.b2="A2",t.l2="_2"}(uL||(uL={})),function(t){t.T2="S2",t.E2="R2"}(oL||(oL={}));var RL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(ru),IL=["message","messageerror","error"],NL=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).error=n,i}return S(n,t),n}(ru),DL=function(t){function n(n){var i;return(i=t.call(this)||this).I2=void 0,i.N2=void 0,i.D2=[],i.C2=function(t){if(i.O2)t.P2();else{i.I2=t,i.I2.Hr(IL,i.Ur);for(var n=0,e=i.D2;n<e.length;n++){var r=e[n];t.B2(r.Jr,r.L2)}Ps(i.D2)}},i.M2=function(t){if(!i.O2){var n=t instanceof v?t:new v("Could not create Worker.");i.Fr(new NL(n)),i.P2()}},i.N2=new Fs,n(i.N2.Pr).then(i.C2,i.M2),i}S(n,t);var i=n.prototype;return i.B2=function(t,n){this.O2||(void 0!==this.I2?this.I2.B2(t,n):this.D2.push({Jr:t,L2:n}))},i.P2=function(){this.O2||(this.N2.Cr(),Ps(this.D2),void 0!==this.I2&&this.I2.P2())},A(n,[{key:"O2",get:function(){return this.N2.Pr.yr}}]),n}(iu);var CL=function(t){function n(n){var i;return(i=t.call(this)||this).I2=void 0,i.U2=function(t){i.Fr(new RL("message",t.data))},i.F2=function(t){i.Fr(new RL("messageerror",t.data))},i.kW=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Fr(new NL(n)),i.P2()},i.I2=new k(n),i.I2.addEventListener("message",i.U2),i.I2.addEventListener("messageerror",i.F2),i.I2.addEventListener("error",i.kW),i}S(n,t);var i=n.prototype;return i.B2=function(t,n){n?this.I2.postMessage(t,n):this.I2.postMessage(t)},i.P2=function(){this.Wr(),this.I2.removeEventListener("message",this.U2),this.I2.removeEventListener("messageerror",this.F2),this.I2.removeEventListener("error",this.kW),this.I2.terminate()},n}(iu),xL=0,OL="iframe.html",PL=function(n){function e(e,r){var u;(u=n.call(this)||this).Bo=void 0,u.H2=void 0,u.z2=void 0,u.V2=void 0,u.W2=function(){u.z2.removeEventListener("load",u.W2),u.z2.contentWindow.postMessage({type:"initialize",id:u.Bo,script:u.H2},"*")},u.X2=function(t){t.origin===u.V2&&t.data.id===u.Bo&&("initialized"===t.data.type||("error"===t.data.type?(u.Fr(new NL(new v(t.data.data.message))),u.P2()):u.Fr(new RL("message",t.data.data))))},u.Bo=xL++,u.H2=e;var o,h,a=i.Ce(OL,r);return u.z2=(o=a.href,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.V2=a.origin,u.z2.addEventListener("load",u.W2),t.addEventListener("message",u.X2),u}S(e,n);var r=e.prototype;return r.B2=function(t,n){n?this.z2.contentWindow.postMessage({type:"message",data:t},"*",n):this.z2.contentWindow.postMessage({type:"message",data:t},"*")},r.P2=function(){var n;this.z2.removeEventListener("load",this.W2),t.removeEventListener("message",this.X2),null==(n=this.z2.contentWindow)||n.postMessage({type:"terminate"},"*"),Ze(this.z2)},e}(iu);function BL(t,n){return t=i.xe(t,n),new DL(function(e){return function(t,n,e){var r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new CL(t),v.next=4,Er.awrap(ML(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.P2(),Ws(v.t0);case 11:if(!LL||!Vc){v.next=42;break}return v.prev=12,v.next=15,Er.awrap(i.kd.Bf({Mf:t,tv:g_.GET,xf:qc.On,Pr:e}));case 15:return o=v.sent,v.next=18,Er.awrap(o.lf(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),Ws(v.t1),UL(v.t1);case 25:return v.prev=25,a=Vc([u],{type:"application/javascript"}),h=URL.createObjectURL(a),r=new CL(h),v.next=31,Er.awrap(ML(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.P2(),Ws(v.t2),LL=!1;case 39:return v.prev=39,h&&URL.revokeObjectURL(h),v.finish(39);case 42:return v.prev=42,r=new PL(t,n),v.next=46,Er.awrap(ML(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.P2(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],ze)}(t,n,e)})}var LL=!0;function ML(t,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.Yr(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw UL(e.error);case 5:if(X(s=e.data)&&"3.6.1"===s.q2){r.next=7;break}throw new Tc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (3.6.1).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,ze)}function UL(t){return new Tc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}function FL(t){var n=t.video,i=n&&n.UH;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].tA.n2)return e}return NaN}function HL(t){var n=t.G2.video,i=n&&n.UH;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].tA.n2)return e}return NaN}function zL(t){if(!t)return null;switch(t.g1){case ZB.F0:return function(t){return t.Gp?"avc1."+(t.o2<16?"0":"")+((t.o2<<16)+(t.h2<<8)+t.a2).toString(16):null}(t);case ZB.H0:return"mp4a.40.34";case ZB.z0:return t.M1?"mp4a.40.5":"mp4a.40.2";case ZB.V0:return"mp4a.40.5";default:return null}}function VL(t,n){var i=t.info,e=i.rZ,r=t.G2,s=e.MY(t.info.lY-1),u=r.audio||void 0,o=r.video||void 0,h=u&&zL(u),a=o&&zL(o),c=(!u||h)&&(!o||a)?{Lj:h,Mj:a}:null,f=u&&!m(u.S1)?u.S1:null,v=o&&!m(o.S1)?o.S1:null,d=Nk(u&&u.R1,o&&o.R1),l=Nk(u&&u.I1,o&&o.I1),g=Dk(u&&u.C1,o&&o.C1),w=Dk(u&&u.O1,o&&o.O1),y=o&&o.b1.Lg(wk.Om(o.duration)),k=u&&u.b1.Lg(wk.Om(u.duration)),p=DP(s),b=p&&s.width||e.resolution&&e.resolution.width,A=p&&s.width||e.resolution&&e.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),Q2:i,duration:y&&k?wk.Em(y,k).Nw():(y||k||wk.jw).Nw(),Y2:d,j2:l,Z2:g,J2:w,audio:{start:_.max(0,f||0),duration:u&&u.m1||0,g1:h,v$:u&&u.A1,Y2:u&&u.R1,j2:u&&u.I1,Z2:u&&u.C1,J2:u&&u.O1},video:{start:_.max(0,v||0),duration:o&&o.m1||0,g1:a,v$:o&&o.A1,Y2:o&&o.R1,j2:o&&o.I1,Z2:o&&o.C1,J2:o&&o.O1},pB:o?{width:o.width||b,height:o.height||A}:null,lY:i.lY,size:n,quality:e,zZ:c,K2:i.K2,n3:i.n3}}function WL(t,n){var i,e,r,s,u={start:0,duration:0,g1:null,v$:null,Y2:null,j2:null,Z2:null,J2:null};return"Lj"===n?(e=u,r=i=Rr({},u,t.video),s=t.pB):(e=i=Rr({},u,t.audio),r=u,s=null),{start:i.start,Q2:t.Q2,duration:i.duration,Y2:i.Y2,j2:i.j2,Z2:i.Z2,J2:i.J2,audio:e,video:r,pB:s,lY:t.lY,size:t.size,quality:t.quality,zZ:t.zZ,K2:t.K2,n3:t.n3}}function XL(t,n){return t+"i3"+n.lY+"e3"+n.uri}var qL=function(t){function i(i){var e;return(e=t.call(this)||this).Ch=void 0,e.r3=Nr(),e.s3=void 0,e.u3=void 0,e.o3=function(t){var n=t.data,i=n.h3;if(e.r3.get(i))switch(n.a3){case sL.g2:0;var r=n.c3;e.f3(i,r);break;case sL.oY:var s=n.v3;e.d3(i,new fP(cP.eY,{code:s}));default:0}},e.l3=function(t){var n,i,r,s,u=t.data,o=u._3;if(e.r3.get(o))switch(u.g3){case oL.T2:0;var h=u.w3;e.m3(o,{audio:(n=h).audio?wL(n.audio):void 0,video:n.video?(r=n.video,s=_L(r),Rr({},s,{g1:r.g1,UH:r.UH.map(function(t){return function(t){var n,i=pL(t),e=Rr({},TL(n=i.tA),{d_:n.d_,Y1:yk(n.Y1),j1:n.j1,Z1:n.Z1,J1:n.J1&&yk(n.J1),K1:n.K1&&yk(n.K1),n2:n.n2,i2:n.i2,o1:n.o1,e2:n.e2});return i.ks(e)}(t)}),s2:r.s2,u2:r.u2,Gp:r.Gp,width:r.width,height:r.height,o2:r.o2,h2:r.h2,a2:r.a2,NZ:r.NZ,DZ:r.DZ,ub:r.ub,ob:r.ob})):void 0,K0:n.K0?(i=n.K0,{n1:i.n1,mJ:i.mJ,El:i.El,i1:i.i1,e1:i.e1,s1:i.s1,u1:i.u1.map(fL),Cl:[]}):void 0,o1:n.o1?n.o1.map(dL):n.o1,h1:yk(n.h1)});break;case oL.E2:var a=u.y3;e.d3(o,new fP(cP.eY,{code:a}));default:0}},e.b3=function(t){if(t.error instanceof Tc&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"ts",ts:new fP(cP.fY,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ot(i.ts.info.code),e.dispatchEvent(i)}else 0},e.Ch=i,e.u3=e.A3(),e}S(i,t);var e=i.prototype;return e.Cr=function(t){var n=[];this.r3.forEach(function(i,e){t&&i.rp!==t||n.push(e)}),this.T3(n)},e.T3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.r3.delete(i)}if(t.length){if(this.s3){var e={S3:rL.l2,E3:t};this.s3.B2(e)}if(this.u3){var r={R3:uL.l2,I3:t};this.u3.B2(r)}}},e.d3=function(t,n){var i=this.r3.get(t);if(i){var e=i.kC;this.r3.delete(t),e(n)}},e.N3=function(t,n,i,e){this.s3||(this.s3=this.D3());var r={S3:rL.v2,C3:t,x3:n,O3:i,P3:e};this.s3.B2(r)},e.B3=function(t,n){this.u3||(this.u3=this.A3());var i={R3:uL.b2,L3:t,M3:n,U3:this.r3.get(t).F3};this.u3.B2(i)},e.f3=function(t,n){this.B3(t,n)},e.D3=function(){var t=BL("theoplayer.d.js",this.Ch.libraryLocation);return t.Hr("message",this.o3),t.Hr("error",this.b3),t},e.H3=function(t){var n=t.G2.video,i=n&&n.UH&&n.UH[0];i&&i.tA.n2},e.m3=function(t,n){var i=this.r3.get(t),e=i.kC,r=i.z3,s={G2:n,info:i.V3,metadata:null};this.H3(s),function(t){var n=t.info.rZ.MY(t.info.lY-1),i=t.G2;t.info.n3=t.info.UY,n&&(i.audio||i.video?i.video&&!i.video.u2&&!i.video.s2&&i.video.A1&&n.XZ&&i.video.A1!==n.XZ?t.info.n3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.n3=!0):t.info.n3=!0)}(s),VL(s,r),function(t){var n=t.info,i=n.rZ,e=t.metadata,r=t.G2;if(n.W3=wk.Om(e.duration),n.aj=r.audio&&r.audio.b1.Lg(wk.Om(r.audio.duration))||wk.jw,n.cj=r.video&&r.video.b1.Lg(wk.Om(r.video.duration))||wk.jw,n.X3=r.audio&&r.audio.b1||wk.jw,n.q3=r.video&&r.video.b1||wk.jw,n.G3=e.audio.Y2,n.Q3=e.audio.j2,n.Y3=e.video.Y2,n.j3=e.video.j2,n.hj=e.Y2,n.Z3=e.j2,n.J3=e.audio.Z2,n.K3=e.audio.J2,n.t4=e.video.Z2,n.n4=e.video.J2,n.Z2=e.Z2,n.J2=e.J2,r.video){var s=FL(t.G2),u=r.video.UH&&r.video.UH[s];u?(n.P0=s,n.M0=u.tA.c2,n.i4=u.tA.f2):n.P0=YB.U0}else n.P0=YB.B0;n.XZ=r.video&&r.video.A1||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"tJ",V3:t.info}),!i.resolution&&e.pB&&(i.resolution=e.pB),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.zZ||i.zZ&&!i.zZ.Lj==!e.zZ.Lj&&!i.zZ.Mj==!e.zZ.Mj||i.UZ(e.zZ),r.audio&&void 0!==r.audio.BZ&&(i.BZ=r.audio.BZ),i.NZ=r.video&&r.video.NZ||i.NZ,i.DZ=r.video&&r.video.DZ||i.DZ,i.CZ=r.audio&&r.audio.n1||void 0,i.xZ=r.video&&r.video.n1||void 0,i.OZ=r.audio&&r.audio.g1||void 0,i.PZ=r.video&&r.video.g1||void 0,i.LZ=r.audio&&r.audio.A1||void 0,i.XZ=r.video&&r.video.A1||void 0}(s),this.r3.delete(t),e(null,s)},e.A3=function(){var t=BL("theoplayer.e.js",this.Ch.libraryLocation);return t.Hr("message",this.l3),t.Hr("error",this.b3),t},e.e4=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.r3.has(n)&&r.N3(n,s,t,e.iv)}).catch(function(t){i=void 0,r.r3.has(n)&&r.d3(n,t)})},e.r4=function(t,n,i,e,r,s){var u=XL(t,e),o=e.rZ;this.r3.set(u,{rp:t,V3:e,F3:{s4:e.duration,zZ:o.zZ,NZ:o.NZ,DZ:o.DZ,CZ:o.CZ,xZ:o.xZ,OZ:o.OZ,PZ:o.PZ,BZ:!this.Ch.skipImplicitHEAACDetection&&o.BZ,u4:r},z3:i.length,kC:s}),e.key?this.e4(n,u,i,e.key):this.B3(u,i)},e.o4=function(t){var n=[];return this.r3.forEach(function(i){i.rp===t&&n.push(i.V3)}),n},e.h4=function(t,n){var i=XL(t,n);return this.r3.has(i)},e.hv=function(){this.Cr(),this.s3&&(this.s3.P2(),this.s3=void 0),this.u3&&(this.u3.P2(),this.u3=void 0)},i}(hP);function GL(t,n){return t+"a4"+n}function QL(t){return GL(t.rZ._l,t.lY)}function YL(t){return!(!t||!t.G2)}var jL=function(){function t(t,n,i){this.c4=void 0,this.jb=void 0,this.f4=[],this.v4=Nr(),this.d4=1,this.l4=void 0,this.jb=t,this.c4=n,this.l4=i}var n=t.prototype;return n._4=function(t){var n=QL(t.info);if(this.v4.has(n))this.g4(t.info,t);else{this.f4.push(n),this.v4.set(n,t);for(var i=this.c4.w4+10;this.f4.length>8*this.m4&&this.y4>i*this.m4;){var e=this.v4.get(this.f4[0]),r=this.l4.b4,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new US([u,o]),a=r,c=a+this.c4.w4;if(new US([a,c]).WR(h).sl>0)break}this.v4.delete(this.f4.shift())}}},n.A4=function(t,n){var i=GL(t,n),e=this.v4.get(i),r=this.f4.indexOf(i);return!(!e||-1===r)&&(xs(this.f4,r),this.v4.delete(i),!0)},n.ds=function(){this.f4.length=0,this.v4.clear()},n.T4=function(){for(var t={},n=0,i=this.f4;n<i.length;n++){var e=i[n],r=this.v4.get(e);YL(r)&&(t[r.info.rZ._l]=(t[r.info.rZ._l]||0)+1)}return t},n.S4=function(t,n){var i=[],e=this.E4(t,n);if(!YL(e))return i;do{i.push(e),n+=1,e=this.E4(t,n)}while(YL(e));return i},n.R4=function(t,n){return!!this.E4(t,n)},n.I4=function(t,n){return YL(this.E4(t,n))},n.E4=function(t,n){return this.v4.get(GL(t,n))},n.g4=function(t,n){var i=QL(t),e=this.f4.indexOf(i);return-1!==e&&(xs(this.f4,e),this.f4.push(i),n&&this.v4.set(i,n),!0)},n.N4=function(){for(var t=[],n=0,i=this.f4;n<i.length;n++){var e=i[n],r=this.v4.get(e);t.push(r.info)}return t},n.D4=function(){for(var t=[],n=0,i=this.f4;n<i.length;n++){var e=i[n],r=this.v4.get(e);r&&YL(r)&&t.push(r.info)}return t},A(t,[{key:"y4",get:function(){for(var t=KB(this.jb,this.N4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"m4",get:function(){return this.d4},set:function(t){t>0&&(this.d4=_.max(t,1))}}]),t}();var ZL=L.dn?function(t,n){return Ik(t.c2,n.c2)}:function(t,n){return Ik(t.f2,n.f2)};function JL(t,n,i,e){if(!t)return i;if(!i)return t;if(t.g1===i.g1){var r,s,u=t.s2||i.s2;if(u)s=1/(r=t.T1.Lg(i.T1).ym(2)).Nw();else{if(t.A1!==i.A1)return;if(!t.T1.mw(i.T1))return;r=t.T1,s=t.A1}if(t.width===i.width&&t.height===i.height){var o,h=t.u2||i.u2||!t.T1.mw(i.T1);if(t.UH)if(i.UH)if(e)o=t.UH.concat(i.UH),$L(t.UH,i.UH,tM);else{!function(t,n,i){var e=t.length,r=wk.jw;t=ps(t,function(t,n){return ZL(t.tA,n.tA).Cw(wk.jw)});for(var s=1;s<e;s+=1){var u=t[s-1].tA,o=t[s].tA,h=ZL(o,u);h.Pw(wk.jw)&&(h=n),r=r.Lg(h),u.Y1=h,u.d_=h.Nw()}if(e>0){var a=t[e-1].tA,c=wk.Sm(wk.Om(_.round(i-r.Nw())),n);a.Y1=c,a.d_=c.Nw()}}(n.UH.concat(i.UH),r,n.duration+i.duration),o=t.UH.concat(i.UH),$L(t.UH,i.UH,tM)}else o=t.UH;else o=i.UH;return{g1:t.g1,o2:t.o2,a2:t.a2,h2:t.h2,A1:s,T1:r,s2:u,u2:h,width:t.width,height:t.height,NZ:t.NZ,DZ:t.DZ,Gp:t.Gp,duration:t.duration+i.duration,m1:t.m1+i.m1,b1:t.b1,S1:t.S1,E1:t.E1,R1:t.R1,I1:t.I1,N1:iM(i.N1,t.N1),D1:iM(i.D1,t.D1),C1:iM(i.C1,t.C1),O1:iM(i.O1,t.O1),UH:o,w1:t.w1||i.w1,ub:t.ub,ob:t.ob}}}}function $L(t,n,i){var e=n[0].tA.c1,r=t[t.length-1].tA.c1,s=e.Hw(r),u=Ik(e,r).Hw(s);if(!u.tm())for(var o=0;o<n.length;o++){i(n[o].tA,u)}}function KL(t,n){t.f2=t.f2.Lg(n),t.c2=t.c2.Lg(n),t.c1=t.c1.Lg(n)}function tM(t,n){KL(t,n),t.Y1=t.Y1.Lg(n),t.K1=nM(t.K1,n),t.J1=nM(t.J1,n)}function nM(t,n){if(t)return t.Lg(n)}function iM(t,n){return n.Lg(Ik(t,n))}function eM(t,n){var i={audio:void 0,video:void 0,h1:t.h1};if("video"===n){if(!t.audio)return i;i.audio={g1:t.audio.g1,A1:t.audio.A1,T1:t.audio.T1,duration:t.audio.duration,m1:t.audio.m1,b1:wk.jw,S1:t.audio.S1,E1:t.audio.E1,R1:t.audio.R1,I1:t.audio.I1,N1:t.audio.N1,D1:t.audio.D1,C1:t.audio.C1,O1:t.audio.O1,UH:t.audio.UH,X1:t.audio.X1,W1:t.audio.W1,w1:t.audio.w1,z1:t.audio.z1,V1:t.audio.V1}}if("audio"===n){if(!t.video)return i;i.video={g1:t.video.g1,o2:t.video.o2,a2:t.video.a2,h2:t.video.h2,A1:t.video.A1,T1:t.video.T1,s2:t.video.s2,u2:t.video.u2,width:t.video.width,height:t.video.height,NZ:t.video.NZ,DZ:t.video.DZ,ub:t.video.ub,ob:t.video.ob,Gp:t.video.Gp,duration:t.video.duration,m1:t.video.m1,b1:wk.jw,S1:t.video.S1,E1:t.video.E1,R1:t.video.R1,I1:t.video.I1,N1:t.video.N1,D1:t.video.D1,C1:t.video.C1,O1:t.video.O1,UH:t.video.UH,w1:t.video.w1}}return i}function rM(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.g1===n.g1||!t.g1||!n.g1)&&t.A1===n.A1&&t.T1.mw(n.T1)&&t.W1===n.W1)return t.UH?n.UH?(i=t.UH.concat(n.UH),$L(t.UH,n.UH,KL)):i=t.UH:i=n.UH,{g1:t.g1,A1:t.A1,T1:t.T1,duration:t.duration+n.duration,m1:t.m1+n.m1,b1:t.b1,S1:t.S1,E1:t.E1,R1:t.R1,I1:t.I1,N1:iM(n.N1,t.N1),D1:iM(n.D1,t.D1),C1:iM(n.C1,t.C1),O1:iM(n.O1,t.O1),UH:i,W1:t.W1,X1:t.X1,w1:t.w1||n.w1,z1:t.z1,V1:t.V1}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=JL(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,h1:t.h1}}}function sM(t){return eM(t,"audio")}function uM(t){return eM(t,"video")}var oM,hM,aM,cM=function(){function t(t){this.C4=void 0,this.HG=0,this.x4=0,this.C4=_.exp(_.log(.5)/t)}var n=t.prototype;return n.O4=function(t,n){var i=_.pow(this.C4,t),e=n*(1-i)+i*this.HG;m(e)||(this.HG=e,this.x4+=t)},n.P4=function(){var t=1-_.pow(this.C4,this.x4);return this.HG/t},t}(),fM=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.B4=void 0,this.L4=void 0,this.M4=0,this.U4=void 0,this.F4=5e5,this.B4=new cM(t),this.L4=new cM(n),this.U4=i}var n=t.prototype;return n.O4=function(t,n){var i=8e3*n/t,e=t/1e3;this.M4+=n,this.B4.O4(e,i),this.L4.O4(e,i)},n.P4=function(){return this.H4()?_.min(this.B4.P4(),this.L4.P4()):this.F4},n.H4=function(){return this.M4>=this.U4},t}(),vM=function(){function t(){this.B4=new cM(2),this.L4=new cM(5),this.z4=0,this.V4=1,this.F4=100}var n=t.prototype;return n.O4=function(t){this.z4+=1,this.B4.O4(1,t),this.L4.O4(1,t)},n.P4=function(){return this.H4()?_.min(this.B4.P4(),this.L4.P4()):this.F4},n.H4=function(){return this.z4>=this.V4},t}(),dM=function(){function t(t,n){var i=this;this.W4=void 0,this.Bf=void 0,this.WK=void 0,this.X4=!1,this.q4=0,this.G4=0,this.Q4=function(){return i.Y4()},this.W4=t,this.Bf=n,this.WK=n.WK,this.WK.addEventListener("Zo",this.Q4)}return t.prototype.Y4=function(){var t=this.WK.h0,n=1e3*this.WK.v0,i=1e3*this.WK.f0;this.WK.G$&&(this.X4||(this.W4.j4(i),this.X4=!0),n>this.G4&&(this.W4.Z4(n-this.G4,t-this.q4),this.q4=t,this.G4=n))},t}(),lM=function(){function t(){this.J4=void 0,this.K4=void 0,this.J4=new fM,this.K4=new vM}var n=t.prototype;return n.t6=function(t){new dM(this,t)},n.Z4=function(t,n){this.J4.O4(t,n)},n.j4=function(t){this.K4.O4(t)},n.hv=function(){},A(t,[{key:"n6",get:function(){return this.K4.P4()/1e3}},{key:"i6",get:function(){return this.J4.P4()}}]),t}(),_M=function(){function t(){this.e6=Nr()}var n=t.prototype;return n.r6=function(t,n){var i,e,r=this.e6.get(t);return void 0!==r&&(i=r.uj,e=n,q(i)?i===e:function(t,n){return t.uj===n.uj&&t.oj.RR===n.oj.RR&&t.oj.NR===n.oj.NR}(i,e))},n.s6=function(t,n){if(this.r6(t,n))return this.e6.get(t).ai},n.u6=function(t,n,i){this.e6.set(t,{uj:n,ai:i})},n.ds=function(){this.e6.clear()},t}();!function(t){t[t.o6=0]="o6",t[t.h6=5]="h6",t[t.a6=13]="a6",t[t.c6=14]="c6",t[t.f6=15]="f6"}(oM||(oM={})),function(t){t[t.v6=0]="v6",t[t.d6=1]="d6",t[t.l6=2]="l6",t[t._6=11]="_6",t[t.g6=13]="g6",t[t.w6=14]="w6"}(hM||(hM={})),function(t){t[t.m6=0]="m6",t[t.y6=1]="y6",t[t.k6=2]="k6",t[t.p6=3]="p6",t[t.b6=4]="b6",t[t.A6=5]="A6",t[t.T6=6]="T6",t[t.S6=7]="S6"}(aM||(aM={}));var gM=5,wM=5,mM=.5;function yM(t){if(!t.G2.video)return[];for(var n=[],i=0;i<t.G2.video.UH.length;i++){var e=t.G2.video.UH[i].tA;e.n2&&n.push({E6:i,R6:e.c2})}return n}var kM=wk.Om(.04),pM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).c4=void 0,s.Ch=void 0,s.I6=void 0,s.mA=void 0,s.N6=void 0,s.D6=void 0,s.C6=void 0,s.x6=Nr(),s.O6=void 0,s.P6=Nr(),s.B6=1,s.Ch=n,s.I6=i,s.mA=e,s.N6=new _M,s.c4=r,s.D6=new RB(e,n),s.C6=new lM,s.O6=new qL(n),s.O6.addEventListener("ts",function(t){s.dispatchEvent(t)}),s}S(n,t);var i=n.prototype;return i.L6=function(t){this.O6.Cr(t),this.D6.ds(!1,t)},i.ds=function(t){this.L6(t),t?this.x6.get(t).ds():this.x6.forEach(function(t){return t.ds()})},i.hv=function(){this.Wr(),this.D6.ds(),this.x6.forEach(function(t){return t.ds()}),this.x6.clear(),this.O6.hv()},i.$d=function(t,n,i){if(!this.x6.has(t)){var e=new jL(n,this.c4,i);e.m4=this.m4,this.x6.set(t,e)}},i.M6=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n._l),!this.N6.r6(e,i)){u.next=3;break}return u.abrupt("return",this.N6.s6(e,i));case 3:return r=LP(n.VZ),u.t0=y,u.next=7,Er.awrap(this.D6.y0(t,i,qc.za,m_.Wf,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.N6.u6(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,ze)},i.U6=function(t,n,i,e){var r=this.x6.get(t),s=r.E4(n.rZ._l,n.lY);if(r.I4(n.rZ._l,n.lY))r.g4(n),this.dispatchEvent({type:"F6",rp:t,H6:s});else{if(!s)return this.z6(t,n,i,e);r.g4(n),this.V6(t,n,i,s.W6)}return e&&e(),null},i.z6=function(t,n,i,e){var r=this,s=this.x6.get(t),u=function(t,n){return t+"X6"+n.lY+"e3"+n.uri}(t,n);if(this.P6.has(u))return null;this.P6.set(u,!0);var o=LP(n.rZ.VZ),h=this.D6.Yo(t,n.uri,qc.za,m_.Ff,o,function(o,a){return r.P6.delete(u),o?e&&e(o):(r.dispatchEvent({type:"q6",rp:t}),s.I4(n.rZ._l,n.lY)||s._4({info:n,W6:h.pv}),r.U6(t,n,i),e&&e(o,a))});return this.C6.t6(h),h},i.V6=function(t,n,i,e){var r=this,s=this.x6.get(t);this.O6.h4(t,n)||(n&&n.key&&this.I6.getKey(n.key).catch(Z),this.O6.r4(t,this.I6,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"ts",ts:n});s._4(i),r.dispatchEvent({type:"F6",rp:t,H6:i})}))},i.G6=function(t,n,i){var e=i.length,r="Lj"===t?AM:TM;if(!bM(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.n3){if("Q6"===this.Ch.Y6||r(u,o)){var h=i.splice(0,s);return bM(n,h)?h:this.G6(t,n,i)}0}}return i},i.j6=function(t,n,i,e){for(var r=this.x6.get(t).D4(),s=e.Z6,u=function(t){var e=i[t],u=r.filter(function(t){return t.rZ===e}),o=KB(n,u),h=o.A0(s.Nw(),kM.Nw());if(h>=0&&wk.Om(o.end(h)).Hw(s).xw(kM))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.J6=function(t,n,i,e,r){if(!L.an)return!0;if(r.K6||this.j6(t,n,i,r))return!0;var s=wk.Sm(e,r.t5);return r.Z6.Hw(s).xw(wk.Om(2))},i.n5=function(t,n,i,e,r,s,u,o){var h=n.S4(r._l,s),a=this.G6(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.x0(f.info),d=MM(t,e,f);if("Mj"!==t||function(t,n,i){return!!t&&t.dp.rZ===n&&i.xw(wk.Om(t.NR))&&i.Pw(wk.Om(t.NR).Lg(kM))}(i,r,d))return{PY:a,i5:wk.Em(v,d)};f.G2.video&&(f=(a=DM(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=yM(o),a=0;a<h.length;a++){var c=h[a];if(n.L0(o.info,c.R6).Dw(i.Hw(e)))return{e5:r,r5:s};r=u,s=c.E6}return{e5:r,r5:s}}(a,e,u,o)))[0]);if(d=MM(t,e,f),function(t){var n=t.G2.video,i=n&&n.UH,e=i&&i[0],r=e&&e.tA.n2;if(!n)return!0;return!!r}(f))return{PY:a,i5:wk.Em(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=FL(t[n].G2);if(!m(i))return{e5:n,r5:i}}return null}(a),_=wk.Sm(u,PM(t,e,r.MY(s)));if(f.info.lY===s){if(l&&(d=MM(t,e,(c=DM(a,l))[0]),_.Hw(d).xw(o)))return{PY:c,i5:wk.Em(v,d)};for(var g=s-1;n.I4(r._l,g);){var w=n.S4(r._l,g);if((f=(c=this.G6(t,s,w))&&c[0]&&NM(c[0],HL(c[0])))&&(d=MM(t,e,f),_.Hw(d).xw(o)))return c[0]=f,{PY:c,i5:wk.Em(v,d)};g-=1}}return function(t){if(t.UY)return!1;var n=t.rZ;if(n.LY&&n.LY.live)return!1;if(!n.MY(t.lY-1))return!1;return!0}(a[0].info)?null:l?{PY:a=DM(a,l),i5:v}:null},i.s5=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.u5(o,h,n),v=f&&f.dp;if(!v)return null;var d=v.lY;do{var l=d,_=o.MY(l),g=PM(n,s,_);if(!BM(n,s,_).Lw(h)||_.K2){if(g.Lg(kM).Dw(a))break;if(wk.Sm(wk.jw,h.Hw(g)).Lw(c)&&i.I4(o._l,l-1)&&i.I4(o._l,l))i.E4(o._l,l).metadata.n3||(l-=1);var w=this.o5(t,n,i,e,r,s,u,o,l,h,c);if(w&&(IM(w,h,a)||w.K6))return w}}while(i.I4(o._l,++d));return null},i.o5=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.MY(h),v=this.n5(n,i,e,s,o,h,a,c),d=v&&v.PY,l=v&&v.i5,g=d&&d[d.length-1],w=g&&g.metadata.K2;if(!(d=function(t,n){if(!n||!n.length)return n;var i="Lj"===t?SM:EM;return n.map(i).filter(RM)}(n,d))||!d.length){if(w){var m=[],y=s.x0(g.info);return m.h5=y,m.a5=y,m.t5=y,m.c5=y,m.Z6=y,m.K6=w,m}return null}var k=d="Mj"===n?function(t,n,i){var e=i[0].G2.video;return i[0].info.UY?function(t,n,i,e){var r=Ds(e.UH,function(t){return t.tA.n2});if(r<0)return i;var s=e.UH[r].tA,u=n.L0(i[0].info,s.c2),o=UM(t,u);if(o.zw())return i;var h=u.Hw(o).Rm(kk,dk.Xm);if(h.Pw(wk.jw))return i;var a=zM(e.UH.slice(r),h);return i[0]=xM(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.T1._m(gM),s=e.UH[0].tA,u=n.L0(i[0].info,s.f2),o=FM(t,u,r);if(o.zw())return i;var h=u.Hw(o).Rm(kk,dk.Xm);if(h.Pw(wk.jw)||h.Dw(r))return i;var a=zM(e.UH,h);return i[0]=xM(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].G2.audio)?void 0:e.g1)===ZB.H0)return i;var r=i[0].G2.audio,s=r.UH[0].tA;return i[0].info.UY?function(t,n,i,e,r){var s=n.L0(i[0].info,r.c2),u=UM(t,s);if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.floor(o/e.T1.Nw());if(h<=0)return i;var a=HM(e,h);return i[0]=CM(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.L0(i[0].info,r.f2),u=FM(t,s,e.T1._m(wM));if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.round(o/e.T1.Nw());if(0===h||_.abs(h)>wM)return i;var a=HM(e,h);return i[0]=CM(i[0],a),i}(t,n,i,r,s)}(r,s,d),p=k[0];if(f.lY<p.info.lY&&(l=s.x0(f)),k.h5=l,k.a5=function(t,n,i){return n.L0(i.info,LM(t,i).j2)}(n,s,p),k.t5=MM(n,s,p),k.c5=function(t,n,i){return n.L0(i.info,LM(t,i).J2)}(n,s,k[k.length-1]),k.Z6=function(t,n,i){return n.L0(i.info,LM(t,i).Z2)}(n,s,k[k.length-1]),k.K6=w,!this.J6(t,s,u,a,k))return null;var b=p.G2.video;return!b||(b.NZ=b.NZ||o.NZ,b.DZ=b.DZ||o.DZ,b.NZ&&b.DZ)?k:null},i.f5=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.s5(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d.t5.Lw(c.t5)||(c=d))}return c},i.v5=function(t,n,i,e,r,s,u,o,h){for(var a=wk.Om(u),c=wk.Om(o),f=wk.Om(h),v=this.x6.get(t),d=new CB([{RR:a.Nw(),NR:a.Lg(c).Nw()}]),l=r.WR(d),_=function(t){if(0===t.length)return null;var n=t.PY(t.length-1),i=n[n.length-1];if(!i.dp.d5)return null;return i}(r),g=BB(LB(l),d),w=0;w<g.length;w++){var m=wk.Om(g.start(w)),y=wk.Om(g.end(w)),k=VM(l,m,y),p=m.Lg(k).Rm(kk,dk.Xm),b=y.Rm(kk,dk.Xm);if(p.Lw(b)){if(_&&p.xw(wk.Om(_.NR)))continue;var A=this.f5(t,n,v,s,r,i,e,p,b,f);if(A)return A}}return null},i.D4=function(t){return this.x6.get(t).D4()},i.o4=function(t){return this.O6.o4(t)},A(n,[{key:"m4",get:function(){return this.B6},set:function(t){t>0&&(this.B6=t,this.x6.forEach(function(n){return n.m4=t}))}},{key:"n6",get:function(){return this.C6.n6}},{key:"i6",get:function(){return this.C6.i6}}]),n}(hP);function bM(t,n){for(var i=0;i<n.length;i++){if(n[i].info.lY===t)return!0}return!1}function AM(t,n){return t.metadata.audio.g1!==n.metadata.audio.g1||(t.metadata.audio.v$!==n.metadata.audio.v$||(!(!t.G2.audio||!n.G2.audio||t.G2.audio.W1===n.G2.audio.W1)||!Ek(t.metadata.audio.Y2,t.metadata.audio.j2).mw(Ek(n.metadata.audio.Z2,n.metadata.audio.J2))))}function TM(t,n){return t.metadata.video.g1!==n.metadata.video.g1||(!(!t.metadata.pB||!n.metadata.pB||t.metadata.pB.height===n.metadata.pB.height&&t.metadata.pB.width===n.metadata.pB.width)||(!(!n.G2.video||n.G2.video.u2||t.metadata.video.v$===n.metadata.video.v$)||Ek(t.metadata.video.Y2,t.metadata.video.j2)!==Ek(n.metadata.video.Z2,n.metadata.video.J2)))}function SM(t){return t.G2.video&&(t={G2:uM(t.G2),info:t.info,metadata:WL(t.metadata,"Mj")}),t}function EM(t){return t.G2.audio&&(t={G2:sM(t.G2),info:t.info,metadata:WL(t.metadata,"Lj")}),t}function RM(t){return Boolean(t&&(t.G2.audio||t.G2.video))}function IM(t,n,i){var e=wk.Sm(n,t.t5),r=wk.Em(i,t.Z6),s=kM;return L.$t&&(e.Pw(t.t5)?s=s.Lg(t.t5).Hw(t.a5):r.xw(t.Z6)&&(s=s.Lg(t.Z6).Hw(t.c5))),r.Hw(e).xw(s)}function NM(t,n){return m(n)?null:0===n?t:xM(t,t.G2.video.UH.slice(n))}function DM(t,n){return(t=t.slice(n.e5))[0]=NM(t[0],n.r5),t}function CM(t,n){var i={info:t.info,G2:{audio:uM(t.G2).audio,video:null,h1:t.G2.h1},metadata:null},e=i.G2.audio;e.UH=n;var r=n[0].tA;return e.E1=r.c1,e.S1=e.E1.Nw(),OM(e,i.G2.h1,e.T1),VL(i,t.metadata.size),i.metadata=WL(i.metadata,"Mj"),i}function xM(t,n){var i={info:t.info,G2:{audio:null,video:sM(t.G2).video,h1:t.G2.h1},metadata:null},e=i.G2.video;e.UH=n;var r=n[0].tA;e.E1=r.c1,e.S1=e.E1.Nw();var s=n[n.length-1].tA.Y1;return OM(e,i.G2.h1,s),VL(i,t.metadata.size),i.metadata=WL(i.metadata,"Lj"),i}function OM(t,n,i){for(var e=wk.Bm,r=wk.Bm,s=wk.Lm,u=wk.Lm,o=0,h=t.UH;o<h.length;o++){var a=h[o].tA;e=wk.Em(a.f2,e),r=wk.Em(a.c2,r),s=wk.Sm(a.f2,s),u=wk.Sm(a.c2,u)}t.R1=r,t.I1=e,t.N1=u,t.D1=s,t.b1=wk.Sm(Ik(t.E1,n),wk.jw),t.C1=Rk(t.N1,i),t.O1=Rk(t.D1,i),t.m1=Ek(t.C1,t.R1).Nw(),t.duration=t.m1}function PM(t,n,i){if(DP(i)){var e="Lj"===t?i.G3:i.Y3;return Tk(e)||(e=i.hj),n.L0(i,e)}return i&&n.x0(i)}function BM(t,n,i){if(DP(i)){var e="Lj"===t?i.J3:i.t4;return Tk(e)||(e=i.hj),n.L0(i,e)}return i&&n.x0(i).Lg("Lj"===t?function(t){return DP(t)?t.aj||wk.jw:t&&wk.Om(t.duration)||wk.jw}(i):function(t){return DP(t)?t.cj||wk.jw:t&&wk.Om(t.duration)||wk.jw}(i))}function LM(t,n){return"Lj"===t?n.metadata.audio:n.metadata.video}function MM(t,n,i){return n.L0(i.info,LM(t,i).Y2)}function UM(t,n){var i=t.E0(n.Nw());if(-1!==i){var e=wk.Om(t.end(i));if(n.Hw(e).Pw(wk.Om(mM)))return e}return wk.Pm}function FM(t,n,i){var e=t.A0(n.Nw(),i.Nw());if(-1!==e)for(var r=t.PY(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.dp.PY.length-1;o>=0;o--){var h=u.dp.PY[o];if(n.Hw(wk.Om(h.NR)).Mw().Pw(i))return wk.Om(h.NR);if(n.Hw(wk.Om(h.RR)).Mw().Pw(i))return wk.Om(h.RR)}return wk.Pm}function HM(t,n){var i;if(n<0)i=t.UH.slice(-n);else{0;var e=new hL,r=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.M1,t.W1);e.q0(r,0,r.length),i=t.UH.slice();for(var s=0;s<n;s++){var u=i[0].tA,o=e.ks(Rr({},e.tA,{c1:u.c1.Hw(t.T1),a1:u.a1-t.T1.Nw(),f2:u.f2.Hw(t.T1),c2:u.c2.Hw(t.T1)}));i.unshift(o)}}return i}function zM(t,n){var i=t[0].tA,e=t.slice();return e[0]=t[0].ks(Rr({},i,{c1:wk.Sm(wk.jw,i.c1.Hw(n)),a1:_.max(i.a1-n.Nw(),0),f2:wk.Sm(wk.jw,i.f2.Hw(n)),Z1:_.max(i.Z1-n.Nw(),0),c2:wk.Sm(wk.jw,i.c2.Hw(n)),j1:_.max(i.j1-n.Nw(),0),Y1:wk.Sm(wk.jw,i.Y1.Lg(n)),d_:_.max(0,i.d_+n.Nw())})),e}function VM(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.PY(e),s=t.PY(e+1);if(r.length&&s.length&&wk.Om(r[0].RR).Pw(n)&&wk.Om(s[s.length-1].NR).xw(i)&&s[0].dp.PY[0].bs.Q2.UY)return kM._m(5)}return t.Mg(n.Nw())?kM:wk.jw}function WM(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function XM(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function qM(t){return new KM(t.mf,t.ai)}var GM,QM,YM,jM,ZM,JM,$M={},KM=function(){function t(t,n){this.mf=void 0,this.l5=void 0,this.l5=n,this.mf=t}return t.prototype._5=function(t){delete $M[t],XM(t)},A(t,[{key:"ai",get:function(){return this.l5}},{key:"g5",get:function(){var t,n,i=(t=this.l5,n=this.mf,Vc([t],{type:n})),e=WM(i);return $M[e]=i,e}}]),t}(),tU=function(){function t(t,n,i){this.uj=void 0,this.uj="data:"+t+";"+n+","+i}return t.prototype._5=function(t){},A(t,[{key:"g5",get:function(){return this.uj}}]),t}();!function(t){t.H0="w5",t.Gl="m5",t.y5="k5",t.p5="b5",t.A5="T5"}(GM||(GM={})),function(t){t.S5="E5",t.R5="I5"}(QM||(QM={})),function(t){t.N5="audio/mp4",t.D5="audio/mpeg",t.C5="video/mp4"}(YM||(YM={})),function(t){t[t.x5=0]="x5",t[t.O5=1]="O5",t[t.Sl=2]="Sl",t[t.P5=3]="P5"}(jM||(jM={})),function(t){t.B5="L5",t.M5="U5"}(ZM||(ZM={})),function(t){t.F5="Q6",t.M5="H5"}(JM||(JM={}));var nU=function(){function t(t,n,i,e,r,s,u,o,h,a){this.z5=void 0,this.V5=void 0,this.rp=void 0,this.mf=void 0,this.H6=void 0,this.W5=void 0,this.Gb=void 0,this.X5=void 0,this.q5=void 0,this.kC=void 0,this.G5=jM.x5,this.V5=t,this.z5=n,this.rp=i,this.mf=e,this.H6=r,this.W5=s,this.Gb=u,this.X5=o,this.q5=h,this.kC=a}return t.Q5=function(t,n,i,e,r,s,u,o,h,a){switch(n){case ZM.B5:return new iU(t,i,e,r,s,u,o,h,a);case ZM.M5:return new eU(t,i,e,r,s,u,o,h,a)}},t}(),iU=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,ZM.B5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.Y5=function(){return{j5:"Z5",J5:this.z5,K5:GM.A5,t8:QM.S5,n8:this.mf,i8:aL(this.H6,[]),e8:this.q5,r8:this.X5.qm(),s8:this.W5.qm(),u8:this.Gb.qm()}},n}(nU),eU=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,ZM.M5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.Y5=function(){return{j5:"Z5",J5:this.z5,K5:this.mf===YM.D5?GM.H0:GM.Gl,t8:Ub?QM.R5:QM.S5,n8:this.mf,i8:aL(this.H6,[])}},n}(nU),rU=function(){function t(){this.o8=void 0,this.h8=void 0,this.o8=Nr(),this.h8=1}var n=t.prototype;return n.a8=function(){return(this.h8++).toString()},n.Q5=function(t,n,i,e,r,s,u,o,h){var a=this.a8(),c=nU.Q5(a,n,t,i,e,r,s,u,o,h);return this.c8(c),c},n.f8=function(t){return this.o8.get(t)},n.c8=function(t){this.o8.set(t.z5,t)},n.v8=function(t){this.o8.delete(t)},n.d8=function(t){this.f8(t).G5=jM.O5,this.v8(t)},n.l8=function(t,n){var i=this.f8(t).kC;this.f8(t).G5=jM.Sl,this.v8(t),i(n)},n._8=function(t,n){var i=this.f8(t).kC;this.f8(t).G5=jM.P5,this.v8(t),i(null,n)},n.ds=function(t){var n=[];this.o8.forEach(function(i,e){t&&i.rp!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.d8(e)}},t}();var sU,uU=function(){function t(n){var i=this;this.o8=void 0,this.g8=void 0,this.Ch=void 0,this.w8=void 0,this.m8=function(t){var n=t.data.y8,e=t.data.k8,r=t.data.p8,s=t.data.b8,u=i.o8.f8(e);if(u&&u.G5!==jM.O5)switch(n){case"A8":i.T8(u,r);break;case"S8":i.o8.l8(e,new fP(cP.eY,{code:s}));break;default:0}},this.E8=function(t){0},this.o8=new rU,this.Ch=n,this.w8=t.R8(n.Y6),this.I8()}t.R8=function(t){switch(t){case JM.F5:return ZM.B5;case JM.M5:return ZM.M5}};var n=t.prototype;return n.Z5=function(t,n,i,e,r,s,u){var o={metadata:null,Lj:null,Mj:null,ts:null};i&&i.length||u(new fP(cP.eY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.lY+1,f=h.info.rZ,v=h.metadata,d=v.audio.g1?v.audio:void 0,l=v.video.g1?v.video:void 0,_=a.metadata,g=_.audio.g1?_.audio:void 0,w=_.video.g1?_.video:void 0,y=e.Lg(Ik(v.j2,v.Y2)),k=e.Lg(Ik(v.Y2,v.Y2)),p=e.Lg(d?Ik(d.j2,v.Y2):wk.jw),b=e.Lg(d?Ik(d.Y2,v.Y2):wk.jw),A=e.Lg(l?Ik(l.j2,v.Y2):wk.jw),T=e.Lg(l?Ik(l.Y2,v.Y2):wk.jw),S=e.Lg(Ik(_.J2,v.Y2)),E=e.Lg(Ik(_.Z2,v.Y2)),R=e.Lg(g?Ik(g.J2,v.Y2):wk.jw),I=e.Lg(g?Ik(g.Z2,v.Y2):wk.jw),N=e.Lg(w?Ik(w.J2,v.Y2):wk.jw),D=e.Lg(w?Ik(w.Z2,v.Y2):wk.jw);p=wk.Sm(wk.jw,p),A=wk.Sm(wk.jw,A);var C,x,O,P,B,L=EP.D_(n.wZ)?wk.Om(100079991719):wk.Om(n.d_),M=function(t){for(var n=t[0].G2,i=n,e=1;e<t.length;e++){if(!(n=rM(i,t[e-1].G2,t[e].G2,t[e].info.n3)))return i;i=n}return i}(i);if(M.audio){x=(C=uM(M)).audio.duration;O=this.o8.Q5(t,this.w8,"mp3"===C.audio.g1?YM.D5:YM.N5,C,p,b,L,c,function(t,n){if(o.ts=o.ts||t,o.Lj=n,C=!0,P)return u(o.ts,o)}),this.N8(O),C=null}else C=!0;if(M.video){B=(P=sM(M)).video.duration;O=this.o8.Q5(t,this.w8,YM.C5,P,A,T,L,c,function(t,n){if(o.ts=o.ts||t,o.Mj=n,P=!0,C)return u(o.ts,o)}),this.N8(O),P=null}else P=!0;var U,F,H,z=i.map(function(t){return t.metadata}),V=wk.Om(x),W=wk.Om(B),X=h.G2.audio&&h.G2.video?wk.Em(h.G2.audio.b1.Lg(V),h.G2.video.b1.Lg(W)):h.G2.audio?h.G2.audio.b1.Lg(V):h.G2.video?h.G2.video.b1.Lg(W):wk.jw;if(X.tm()&&ut("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=FL(M);if(m(q))ut("Segment without keyframes detected",h.info.uri),U=wk.Pm,F=wk.Pm,H=X._m(1.5);else{var G=M.video.UH[q].tA;U=e.Lg(Ik(G.f2,v.Y2)),F=e.Lg(Ik(G.c2,v.Y2)),H=wk.Om(G.j1-h.metadata.start)}}else U=p,F=b,H=wk.jw;var Q=wk.Sm(H,wk.Sm(h.G2.audio&&h.G2.audio.b1||wk.jw,h.G2.video&&h.G2.video.b1||wk.jw));o.metadata={lY:c,RR:e.Nw(),D8:y.Nw(),h5:k.Nw(),c5:S.Nw(),Z6:E.Nw(),i4:U.Nw(),M0:F.Nw(),i5:wk.Em(e,r).Nw(),d_:X.Nw(),PY:z,ps:Q.Nw(),Lj:d&&{RR:b.Nw(),D8:p.Nw(),NR:I.Nw(),c5:R.Nw(),d_:x,g1:d.g1},Mj:l&&{RR:T.Nw(),D8:A.Nw(),NR:D.Nw(),c5:N.Nw(),d_:B,g1:l.g1,Rw:v.pB.width,hp:v.pB.height},zZ:v.zZ,n3:v.n3,rZ:f,K2:s},i=null,M=null},n.hv=function(){this.o8.ds(),this.g8&&(this.g8.P2(),this.g8=null)},n.Cr=function(t){this.o8.ds(t)},n.T8=function(t,n){switch(t.V5){case ZM.B5:var i=n;this.o8._8(t.z5,{initializer:qM(i.C8),m4s:qM(i.x8)});break;case ZM.M5:var e=n;this.o8._8(t.z5,(r=e,Ub?new tU(r.mf,"base64",r.ai):new KM(r.mf,r.ai)));break;default:0}var r},n.I8=function(){this.g8||(this.g8=BL("theoplayer.p.js",this.Ch.libraryLocation),this.g8.Hr("message",this.m8),this.g8.Hr("error",this.E8))},n.N8=function(t){this.g8||this.I8(),this.g8.B2(t.Y5())},t}();function oU(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function hU(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function aU(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function cU(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Eo(e[6]):void 0!==e[7]?{width:w(e[8]),height:w(e[10])}:void 0!==e[12]?w(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var fU,vU="x-";function dU(t,n,i,e){var r=t.split("@"),s=oU(n,i),u=g(r[0],10),o=r[1]?g(r[1],10):e;return{uj:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},oj:{RR:o,NR:o+u-1}}}function lU(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new fP(cP.iY,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(l.push(T+""),hU(T,"#EXT")){if(hU(T,"#EXTINF"))c=(c=w(aU(T)))||.5;else if(hU(T,"#EXT-X-BYTERANGE"))f=aU(T);else if(hU(T,"#EXT-X-KEY"))(s=cU(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=oU(s.uri,i);else if(hU(T,"#EXT-X-DISCONTINUITY")&&!hU(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(hU(T,"#EXT-X-STREAM-INF"))(r=cU(T)).lY=a++,(A+=1)<p.length&&(r.uri=oU(p[A].trim(),i),b.streams.push(r));else if(hU(T,"#EXT-X-MEDIA")&&!hU(T,"#EXT-X-MEDIA-"))(u=cU(T)).uri&&(u.uri=oU(u.uri,i)),b.media.push(u);else if(hU(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(aU(T));else if(hU(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.NY=!0,b.DY=g(aU(T),10);else if(hU(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(aU(T),10),b.O8=!0,b.P8=h;else if(hU(T,"#EXT-X-TARGETDURATION"))b.targetDuration=g(aU(T),10),b.hasTargetDuration=!0;else if(hU(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(hU(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(hU(T,"#EXT-X-MAP")){var S=cU(T),E=S.uri,R=S.byterange;o=R?dU(R,E,i,0):oU(E,i)}else if(hU(T,"#EXT-X-VERSION"))b.version=g(aU(T),10);else if(hU(T,"#EXT-X-DATERANGE")){var I=_U(T);b.dateRanges.push(I)}}else if(hU(T,"#"));else if(0!==T.length){f?k=(e=dU(f,T,i,k)).oj.NR+1:e=oU(T,i);var N,D=s&&Rr({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,lY:h,UY:d,BY:v,key:D,dZ:m,vZ:l,K2:!1,B8:o}),h+=1,c=0,f=null,d=!1,m=null,l=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].K2=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=_.min(i,o.duration),e=_.max(e,o.duration)}return{L8:i,M8:e,U8:n?t.fragments[n-1].duration:0,F8:r/n,H8:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.lY-n.lY})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function _U(t){var n=cU(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];os(r,vU)&&(n[r.substr(vU.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{_l:n.id,jY:n.class,QE:e,FY:r,d_:n.duration,ZY:n["planned-duration"],JY:s,$Y:i,KY:u,tj:o,nj:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(fU||(fU={}));(sU={})[fU.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",sU[fU.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",sU[fU.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",sU[fU.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",sU[fU.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",sU[fU.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",sU[fU.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var gU=function(){function t(){}return t.prototype.Dk=function(t,n,i){return lU(t,n,i)},t}(),wU=3,mU=function(){function t(t,n,i){void 0===i&&(i=wU),this.mA=t,this.z8=n,this.V8=i}var n=t.prototype;return n.W8=function(t,n,i){return this.X8(t,n,!0,i)},n.q8=function(t,n,i){return this.X8(t,n,!1,i)},n.X8=function(t,n,i,e){var r,s,u,o,h,a,c,f;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.V8)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Er.awrap($s(s,e));case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return h=t[o],i.prev=10,a=new p_({Mf:h,xf:qc.On,Cf:n,sv:this.z8,tv:g_.GET,nr:w_.Hf,ev:m_.Ff,Pr:e}),i.next=14,Er.awrap(this.mA.Bf(a));case 14:return c=i.sent,i.next=17,Er.awrap(c.lf(e));case 17:return f=i.sent,i.abrupt("return",{G8:f,Q8:h,Lf:c.Lf});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],ze)},t}(),yU=function(){function t(t,n,i,e){this.Y8=t,this.j8=n,this.Z8=i,this.J8=e}var n=t.prototype;return n.K8=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.Y8.hK(t.map(pB)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,ze)},n.t9=function(t,n){var i=bB(t,n);return this.j8.as(i)},n.n9=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=bB(t,n),r.next=3,Er.awrap(this.Z8.cs(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,ze)},n.BP=function(t){return this.J8.cs(t)},t}(),kU=function(){function t(t){this.i9=void 0,this.i9=t}return t.prototype.e9=function(t,n,i,e){var r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:void 0===e&&(e=!1),s=0,u=this.i9;case 2:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=4,h.next=7,Er.awrap(o.e9(t,n,i,e));case 7:return h.abrupt("return",h.sent);case 10:h.prev=10,h.t0=h.catch(4),Ws(h.t0),r=h.t0;case 14:s++,h.next=2;break;case 17:throw r;case 18:case"end":return h.stop()}},null,this,[[4,10]],ze)},t}(),pU=function(){function t(t){this.r9=t}return t.prototype.e9=function(t,n,i,e){var r;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.r9.K8(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{G8:r.data,Q8:r.locationURL,Lf:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,ze)},t}(),bU=function(){function t(t){this.s9=t}return t.prototype.e9=function(t,n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Er.awrap(this.s9.W8(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Er.awrap(this.s9.q8(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ze)},t}();function AU(t,n){return new kU([new pU(n),new bU(t)])}var TU=function(){function t(t,n,i){this.u9=t,this.o9=n,this.h9=i}var n=t.prototype;return n.e9=function(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Er.awrap(this.u9.e9(t,n,i,e));case 3:return r=s.sent,s.next=6,Er.awrap(this.a9(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,ze)},n.a9=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.o9.uK({key:pB(t.Q8),locationURL:S_(t.Q8),responseURL:S_(t.Lf),data:t.G8,references:[this.h9._l]}));case 2:case"end":return n.stop()}},null,this,null,ze)},t}();function SU(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var EU=function(){function t(t,n,i){this.Ch=void 0,this.mA=void 0,this.u9=void 0,this.c9=void 0,this.c9=new gU,this.Ch=t,this.mA=i;var e=this.Ch&&this.Ch.crossOrigin===sm.$l,r=new mU(i,e,1);this.u9=AU(r,new yU(kB.Rn.gK,kB.Rn.lK,kB.Rn._K,kB.Rn.mK))}var n=t.prototype;return n.Yo=function(t,n,i){var e=this.nd(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.nd=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Er.awrap(this.u9.e9([t],n));case 3:return i=r.sent,t=i.Lf,e=this.c9.Dk(i.G8,t,SU(t)),r.abrupt("return",{P_:e,f9:i.G8});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof C_)){r.next=16;break}throw new fP(cP.tY,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof x_)){r.next=24;break}if(0!==r.t0.pv.Df){r.next=21;break}throw new fP(cP.nY,{code:"MFL3900",uri:t,status:r.t0.pv.Df});case 21:throw new fP(cP.tY,{code:"MFL4100",uri:t,status:r.t0.pv.Df});case 22:r.next=25;break;case 24:throw new fP(cP.Sl,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],ze)},t}(),RU=function(t){function n(n,i){var e;return(e=t.call(this)||this).v9=void 0,e.d9=void 0,e.l9=void 0,e._9=void 0,e.g9=void 0,e.cJ=void 0,e.nJ=void 0,e.KS=void 0,e.v9=new EU(i||{},kB.Rn.gK,n),e}S(n,t);var i=n.prototype;return i.tg=function(){void 0!==this._9&&(a(this._9),this._9=void 0),this.l9&&this.l9.Bf&&(this.l9=void 0)},i.w9=function(t){if(this.nJ)for(var n=0,i=this.nJ.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.m9=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.H8<3*s)?1e3*u.L8:s?1e3*s:1e4,i===n&&(r/=2),r=_.max(r-e,1e3)},i.y9=function(t){if(t.fragments.length>0)for(var n=this.w9(t.fragments[0].uri),i=n&&n.lY||0,e=0,r=t.fragments;e<r.length;e++){r[e].lY+=i}},i.k9=function(t,i,e,r,s,u){var o=this;if(this.l9&&e===this.l9.Bf){var a=SR()-i;if(r){this.l9=void 0,this.KS=r;var c={type:"ts",ts:r};return this.dispatchEvent(c),s&&s(r)}this.l9=void 0;var f=u.P_,v=u.f9;f.O8||this.y9(f),t===this.d9&&(this.cJ=f),this.nJ=f;var d=n.m9(f,v,this.g9,a);f.live?f.isMasterPlaylist||(this._9=h(function(){return o.nd(t)},d)):this.tg(),s&&s(r,u);var l={type:"p9",manifest:f,manifestText:v};this.dispatchEvent(l),this.g9=v}},i.nd=function(t,n){var i=this,e=SR(),r=t;a(this._9),this._9=void 0;var s=this.v9.Yo(r,{},function(r,u){return i.k9(t,e,s,r,n,u)});this.l9={Bf:s,Mf:t}},i.RR=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.nJ?this.nJ.uri:this.d9))&&(this.l9&&this.l9.Mf===t?n&&(i=function(t){s.removeEventListener("ts",e),s.removeEventListener("p9",i);var r=t;n(null,{P_:r.manifest,f9:r.manifestText})},e=function(t){s.removeEventListener("ts",e),s.removeEventListener("p9",i),n(t.ts)},this.addEventListener("ts",e),this.addEventListener("p9",i)):(this.tg(),this.nd(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.b9=function(t){t&&(this.g9=void 0,this.cJ&&this.cJ.isMasterPlaylist?this.RR(t.uri):this.nJ&&!this.A9()&&this.RR(this.nJ.uri))},i.hv=function(){this.tg(),this.Wr()},i.A9=function(){return!!this.l9||!!this._9||!(!this.nJ||this.nJ.live)},A(n,[{key:"P_",get:function(){return this.nJ}},{key:"UJ",get:function(){return this.cJ}},{key:"Y$",get:function(){return this.d9},set:function(t){this.tg(),this.g9=void 0,this.cJ=void 0,this.nJ=void 0,this.d9=t}}]),n}(hP),IU=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ch=void 0,e.Zd=void 0,e.d9=void 0,e.T9=void 0,e.mA=void 0,e.Ch=i,e.Zd=Nr(),e.d9=null,e.T9=null,e.mA=n,e}S(n,t);var i=n.prototype;return i.RR=function(){var t=this,n=this.Y$;if(n&&!this.T9){var i=new RU(this.mA,this.Ch);i.addEventListener("ts",function(i){var e=i.ts;t.dispatchEvent({type:"S9",ts:e}),t.Zd.has(n)&&t.dispatchEvent({type:"ts",ts:e,E9:n})}),i.addEventListener("p9",function n(e){i.removeEventListener("p9",n),i===t.T9&&t.dispatchEvent({type:"R9",P_:e.manifest})}),i.addEventListener("p9",function(i){t.Zd.has(n)&&t.dispatchEvent({type:n,P_:i.manifest})}),this.T9=i,i.RR(n)}},i.I9=function(t,n){this.N9(t),this.D9(n)},i.D9=function(t){var n,i=this;this.Zd.has(t)||(t===this.Y$?(this.RR(),(n=this.T9).P_&&this.dispatchEvent({type:t,P_:n.P_},!0)):((n=new RU(this.mA,this.Ch)).addEventListener("ts",function(n){i.dispatchEvent({type:n.type,ts:n.ts,E9:t})}),n.addEventListener("p9",function(n){i.dispatchEvent({type:t,P_:n.manifest})})),this.Zd.set(t,n))},i.N9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n!==this.T9&&n.hv(),this.Zd.delete(t),this.removeEventListener(t)}},i.C9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n.A9()||n.RR(t)}},i.x9=function(){var t=this;this.Zd.forEach(function(n,i){return t.C9(i)})},i.nl=function(){this.Zd.forEach(function(t){return t.hv()}),this.Zd.clear(),this.T9&&(this.T9.hv(),this.T9=null),this.d9=null},A(n,[{key:"Y$",get:function(){return this.T9&&this.T9.P_?this.T9.P_.uri:this.d9},set:function(t){this.nl(),this.d9=t}}]),n}(hP),NU=function(t){function n(){var n;return(n=t.call(this)||this).O9=NaN,n}S(n,t);var i=n.prototype;return i.P9=function(t,n){for(var i=t.length?_.min.apply(_,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].ps=wk.Om(t[r]||0)}var s=t.length?_.max.apply(_,t):0;this.O9=s,this.dispatchEvent({type:"B9",L9:s})},i.M9=function(t,n){var i=[];if(n.length<2)return this.P9(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.U9(t))return!1;i[r]=s.ps.Lg(s.F9(e,t)).Nw()}return this.P9(i,n),!0},i.H9=function(t,n){return this.M9(t.BY,n)},i.z9=function(t,n){if(n.length<2)return this.P9([],n),!0;var i=n[0].V9(t);if(m(i))return!1;for(var e=0;e<n.length;e++){if(n[e].V9(t)!==i)return!1}return this.M9(i,n)},i.nl=function(){this.O9=NaN},i.hv=function(){this.Wr()},A(n,[{key:"L9",get:function(){return this.O9}}]),n}(hP),DU=.001;function CU(t){return t.metadata.rZ._l+"W9"+t.metadata.lY+"X9"+t.metadata.RR+"q9"+t.metadata.d_}var xU=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$G=function(t,i){return new n(t,i)},i.C0=function(t,n){return!1},n}(JB);function OU(t,n){var i=new xU([n]);return t.Hw(i).jR(i)}function PU(t,n){var i=function(t,n){var i=t.h5,e=t.M0;if(!m(e)&&e===i)return!0;return!t.n3&&!!n&&n.dp.rZ===t.rZ&&i>=n.NR&&i<=n.NR+DU}(t,n);return i||!m(t.M0)?{RR:i?t.h5:t.M0,NR:t.Z6,dp:t}:null}var BU=function(t){function n(n,i){var e;return(e=t.call(this)||this).G9=void 0,e.jb=void 0,e.Q9=null,e.Y9=function(){return e.j9()},e.Z9=[],e.yg=[],e.J9=new xU([]),e.K9=null,e.G9=n,e.jb=i,e}S(n,t);var i=n.prototype;return i.t7=function(t){var n=t.metadata,i=n&&n.PY;if(!i||!i.length)return ze.resolve();for(var e=[],r=n.RR,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({RR:r,d_:u.duration,NR:o,lY:u.lY,bs:u}),r=o}var h={_l:CU(t),RR:t.metadata.RR,D8:n.D8,h5:n.h5,n7:i[0].Q2.dZ?new Date(i[0].Q2.dZ.getTime()):null,d_:t.metadata.d_,NR:t.metadata.RR+t.metadata.d_,c5:n.c5,Z6:n.Z6,i4:n.i4,M0:n.M0,PY:e,rZ:t.metadata.rZ,d5:t.metadata.K2,n3:n.n3};return this.Z9.push(h),this.i7(this.G9.t7(t),h)},i.i7=function(t,n){var i=this;return t.then(function(){if(Cs(i.Z9,n)){i.yg.push(n);var t=i.K9,e=PU(n,t);e&&(i.J9=OU(i.J9,e)),i.K9=e}i.j9(),i.e7(n)}).catch(function(){Cs(i.Z9,n)})},i.e7=function(t){var n=t.PY[0],i=t.PY[t.PY.length-1],e=t.rZ,r=e.MY(n.lY-1),s=EP.D_(e.wZ);if(!r||s){var u=e.MY(n.lY),o=this.jb.x0(u).Nw(),h=t.D8,a=_.min(o,h);a<n.RR&&this.G9.YU(a,n.RR)}for(var c=0,f=this.yg;c<f.length;c++){var v=f[c];if(v.rZ===t.rZ){var d=v.PY[0],l=v.PY[v.PY.length-1];l.lY+1===n.lY&&l.NR!==n.RR?this.G9.YU(l.NR,n.RR):d.lY-1===i.lY&&i.NR!==d.RR&&this.G9.YU(i.NR,d.RR)}}},i.ds=function(){this.Z9.length=0,this.yg.length=0,this.J9=new xU([]),this.K9=null},i.j9=function(){if(this.r7&&!this.r7.sx){var t=this.r7.yg||xB;t=function(t,n){for(var i=FB(t),e=0;e<i.length;e++){var r=i[e],s=n.E0(r.NR,DU);if(s>=0){var u=n.PY(s),o=u[u.length-1],h=o.dp.c5,a=o.dp.Z6;h-DU<r.NR&&r.NR<a&&(r.NR=a)}}return new CB(i)}(t,this.J9),this.yg=this.yg.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.RR,n.NR)>=0}),this.J9=this.J9.WR(t)}},i.hv=function(){this.Wr(),this.ds(),this.r7=null},i.s7=function(t){var n=this.u7(t);if(n)for(var i=0,e=n.PY;i<e.length;i++){var r=e[i];if(r.RR<=t&&r.NR>t)return r}return null},i.u7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.RR<=t&&e.NR>t)return e}return null},i.o7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.rZ._l===t.rZ._l)for(var r=0,s=e.PY;r<s.length;r++){if(s[r].lY===t.lY)return!0}}return!1},i.h7=function(){return this.a7()[0]},i.a7=function(){for(var t=this.J9,n=this.K9,i=0,e=this.Z9;i<e.length;i++){var r=PU(e[i],n);r&&(t=OU(t,r)),n=r}return[t,n]},A(n,[{key:"sl",get:function(){return this.Z9.length+this.yg.length}},{key:"r7",get:function(){return this.Q9},set:function(t){this.Q9&&this.Q9.removeEventListener("updateend",this.Y9),this.Q9=t,this.Q9&&(this.Q9.addEventListener("updateend",this.Y9),this.j9())}}]),n}(hP);function LU(t,n,i){!function(t,n,i){for(var e=i.u1,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.L0(t,u.tA.f1).Nw(),h=0,a=u.UH;h<a.length;h++){var c=a[h];r.push(new ux(o,c))}i.Cl=r}(t,n,i)}function MU(t,n){return t&&n?_.abs(t.lY-n.lY)<=1?wk.jw:wk.Qw(n.Qk-t.Qk,1e3):wk.jw}var UU=function(){function t(t,n,i,e,r){this.UY=void 0,this.e5=void 0,this.c7=void 0,this.f7=void 0,this.nr=void 0,this.E6=void 0,this.ps=wk.jw,this.v7=!1,this.d7=null,this.UY=t,this.e5=t.rZ.PY.wY(n.lY),this.E6=this.e5,this.c7=i,this.f7=e,this.nr=r||null}var n=t.prototype;return n.l7=function(){if(this.d7)return this.d7;var t=this._7();return(t.g7||t.ts)&&(this.d7=t),t},n.w7=function(){return{g7:!1,ts:!1,v7:this.v7,tw:wk.Pm}},n.g7=function(t){return t.zw()?{g7:!1,ts:!0,v7:this.v7,tw:wk.Pm}:{g7:!0,ts:!1,v7:this.v7,tw:t}},t}();function FU(t,n){switch(n){case"Lj":return Tk(t.G3)?t.G3:t.hj;case"Mj":return Tk(t.Y3)?t.Y3:t.hj;default:return t.hj}}var HU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._7=function(){var t=this.UY,n=t.rZ,i=n.PY,e=i.mY(this.E6);if(t.Mg(e)){if(this.f7&&t.m7&&DP(e)){var r=FU(e,this.nr),s=t.y7(r,e.k7);return this.g7(s.Hw(this.ps))}if(this.c7&&e===t.p7){var u=t.nw.Hw(CP(e));return this.g7(u.Hw(this.ps))}this.E6+=1;var o=MU(e,i.mY(this.E6));return this.v7=this.v7||o.Dw(wk.jw),this.ps=this.ps.Lg(o).Lg(CP(e)),this.w7()}return this.g7(wk.Pm)},n}(UU),zU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._7=function(){var t=this.UY,n=t.rZ,i=n.PY,e=i.mY(this.E6);if(t.Mg(e)){if(this.f7&&t.m7&&DP(e)){var r=FU(e,this.nr),s=t.y7(r,e.k7);return this.g7(s.Lg(this.ps))}if(this.c7&&e===t.b7){var u=t.tw;return this.g7(u.Lg(this.ps))}this.E6-=1;var o=i.mY(this.E6),h=MU(o,e);return this.v7=this.v7||h.Dw(wk.jw),this.ps=this.ps.Lg(h).Lg(CP(o)),this.w7()}return this.g7(wk.Pm)},n}(UU);var VU=function(){function t(t,n,i){this.lY=void 0,this.rZ=void 0,this.tw=wk.jw,this.nw=wk.jw,this.b7=null,this.p7=null,this.A7=!1,this.T7=wk.Pm,this.S7=wk.Pm,this.E7=!1,this.R7=void 0,this.lY=t,this.rZ=n,this.R7=i}var n=t.prototype;return n.Mg=function(t){return t&&t.BY===this.lY},n.y7=function(t,n){var i=t.Hw(this.T7).Lg(this.S7);if(void 0!==n){var e=i.Hw(n);if(e.Mw().Dw(Ak)){var r=_.round(e.Nw()/bk.Nw());i=i.Hw(bk._m(r))}}return i},n.I7=function(t,n){var i=this.N7(t);this.D7(n);var e=this.C7();return i||e||t===this.p7&&this.x7()},n.N7=function(t){if(this.m7&&mk(t.Z3,this.T7)>=0)return!1;var n;if(n=this.m7?this.O7(t,!0,!1):this.P7(t,!0,!1),this.T7.zw())this.T7=t.Z3;else{var i=Ik(t.Z3,this.T7);this.T7=this.T7.Lg(i)}return this.S7=n,!0},n.D7=function(t){if(!t)return!1;if(this.R7)return!1;if(!this.B7())return!1;var n=this.rZ.PY,i=this.b7,e=n.yY(i.lY-1);if(DP(i)&&DP(e)){var r=function(t,n,i){var e=t.L0(n,n.Z2);if(!Tk(i.j3)||!Tk(i.Y3))return e;var r,s=Tk(i.G3),u=Ek(i.Y3,i.j3);if(s){var o=Sk(Ek(i.Y3,i.G3),wk.jw);r=Sk(Ek(u,o),wk.jw)}else r=u;return Ek(e,r)}(t,e,i);return this.E7=!0,this.L7(r)}return!1},n.L7=function(t){if(t.mw(this.tw))return!1;var n=t.Hw(this.tw);return this.tw=t,this.nw=this.nw.Lg(n),this.S7=this.S7.Lg(n),!0},n.C7=function(){if(this.R7)return!1;var t=this.p7;if(!t)return!1;var n,i=new zU(this,t,!1,!0);do{n=i.l7()}while(!n.g7&&!n.ts&&!n.v7);if(n.g7&&!n.v7){var e=n.tw.Lg(CP(t));if(!e.mw(this.nw))return this.nw=e,!0}return!1},n.M7=function(t){var n=!1;return n=this.D7(t)||n,n=this.U7(t)||n},n.U7=function(t){if(!t)return!1;if(this.E7)return!1;var n=t.nw.Lg(MU(t.p7,this.b7));return this.L7(n)},n.F7=function(t){var n=!1;return(!this.b7||this.b7.lY>t.lY)&&(this.tw=this.tw.Hw(MU(t,this.b7)),this.b7=t,n=!0),(!this.p7||this.p7.lY<t.lY)&&(this.nw=this.nw.Lg(MU(this.p7,t)).Lg(CP(t)),this.p7=t,n=!0),n},n.H7=function(t){if(!this.m7||!t.m7)return wk.Pm;if(this.T7.Pw(t.T7)){var n=this.y7(t.T7,t.S7);return t.S7.Hw(n)}return t.y7(this.T7,this.S7).Hw(this.S7)},n.B7=function(){var t=this.b7;return!!t&&function(t,n){return n.BY===t&&n.UY}(this.lY,t)},n.x7=function(){var t=this.p7;if(!t)return!1;var n=this.rZ.PY.yY(t.lY+1);return function(t,n,i){return n.BY===t&&(!i||i.UY)}(this.lY,t,n)},n.z7=function(t,n){return this.O7(t,!0,!0,n)},n.P7=function(t,n,i){if(!this.Mg(t))return wk.Pm;var e,r=new zU(this,t,n,i);do{e=r.l7()}while(!e.g7&&!e.ts);if(!e.g7)return wk.Pm;var s=e.tw;return s.Lw(this.tw)?this.tw:s},n.O7=function(t,n,i,e){if(!this.Mg(t))return wk.Pm;var r,s,u,o,h,a=new HU(this,t,n,i,e),c=new zU(this,t,n,i,e);do{r=a.l7(),s=c.l7()}while(!(r.g7||s.g7||r.ts&&s.ts));if(s.g7)u=s,o=r,h=a;else{if(!r.g7)return wk.Pm;u=r,o=s,h=c}if(u.tw.Lw(this.tw)){for(;!o.g7&&!o.ts;)o=h.l7();return o.g7?wk.Sm(this.tw,o.tw):this.tw}if(u.v7){for(;!o.v7&&!o.g7&&!o.ts;)o=h.l7();if(o.g7&&!o.v7&&this.tw.Pw(o.tw))return o.tw}return u.tw},n.L0=function(t,n){return this.Mg(t)&&this.m7?this.y7(n,t.k7):wk.Pm},n.a7=function(){0},A(t,[{key:"m7",get:function(){return!this.T7.zw()}}]),t}();function WU(t,n){return n.Lw(t.tw)?ys.wr:n.xw(t.nw)?ys.mr:ys.gr}var XU=function(){function t(){this.V7=new wP}var n=t.prototype;return n.yY=function(t){return this.V7.yY(t)},n.mY=function(t){return this.V7.mY(t)},n.W7=function(t){var n=this.V7.wY(t);return n<0?null:this.V7.mY(n-1)},n.l7=function(t){var n=this.V7.wY(t);return n<0?null:this.V7.mY(n+1)},n.X7=function(){return this.V7.mY(0)},n.q7=function(){var t=this.V7.sl;return 0===t?null:this.V7.mY(t-1)},n.G7=function(t){var n=this.V7,i=this.q7();if(i&&function(t,n){return t.tw.Pw(n)&&n.Lw(t.nw)}(i,t))return i;var e=zD(this.V7.bY(),t,J,WU);return n.mY(e)},n.Lg=function(t){var n=this.V7.Lg(t);if(n&&!this.l7(t.lY)){t.A7=!0;var i=this.W7(t.lY);i&&(i.A7=!1)}return n},n.jo=function(t){var n=this.V7.jo(t);if(n&&t.A7){t.A7=!1;var i=this.W7(t.lY);i&&(i.A7=!0)}return n},n.SY=function(t){this.V7.SY(t)},n.a7=function(){},A(t,[{key:"sl",get:function(){return this.V7.sl}}]),t}();var qU=wk.Om(10),GU=function(){function t(t,n,i){this.rZ=void 0,this.Q7=!1,this.Y7=!1,this.j7=new XU,this.Z7=wk.jw,this.J7=void 0,this.K7=null,this.ttt=null,this.R7=void 0,this.rZ=t,this.J7=n.liveOffset,this.R7=i}var n=t.prototype;return n.ntt=function(t){var n=this.rZ,i=t?t.fragments:null,e=n.PY;if(!t||!i||!i.length)return!1;this.Q7=!0;var r,s=!1;if(!this.j7.sl){var u=e.yY(i[0].lY).BY,o=new VU(u,n,this.R7);o.L7(this.ps),this.j7.Lg(o),s=!0}if(this.ttt){var h=e.wY(this.ttt.lY);r=h<0?0:h+1}else r=0;for(var a=r,c=e.mY(a),f=null,v=!1;c;){var d=c.BY;if(f&&f.lY===d||(f&&v&&this.itt(f),f=this.j7.yY(d),s=s||v,v=!1),!f){f=new VU(d,n,this.R7),this.j7.Lg(f);var l=this.j7.W7(d);f.M7(l||void 0)}v=f.F7(c)||v,c=e.mY(++a)}return f&&v&&this.itt(f),(s=s||v)&&this.ett(),this.j7.q7()&&this.jZ(n.PY),this.K7=e.yY(i[0].lY),this.ttt=e.yY(i[i.length-1].lY),s},n.I7=function(t){var n=this.j7.yY(t.BY);if(!n)return!1;this.Y7=!0;var i=this.j7.W7(n.lY),e=n.I7(t,i);return e&&this.itt(n),e},n.itt=function(t){for(var n=t,i=this.j7.l7(t.lY),e=!0;e&&i;)e=i.M7(n),n=i,i=this.j7.l7(i.lY)},n.ett=function(){for(var t=!1,n=this.j7.X7(),i=n&&this.j7.l7(n.lY);n&&i;)n.nw.Dw(i.tw)&&(i.L7(n.nw),t=!0),n=i,i=this.j7.l7(n.lY);return t},n.rtt=function(t){var n=this.j7.q7(),i=t.j7.q7();if(!this.R7){if(n&&this.stt(t,n.lY))return!0;if(i&&this.stt(t,i.lY))return!0}return this.utt?!(!n||!this.ott(t,n.lY))||(!(!i||!this.ott(t,i.lY))||(!(!n||!this.htt(t,n.lY))||(!(!i||!this.htt(t,i.lY))||this.att(t)))):this.ctt(t)},n.ctt=function(t){var n=this.j7.X7(),i=t.j7.X7();return!(!n||!i)&&(this.gs(i.tw.Hw(n.tw)),!0)},n.stt=function(t,n){var i=this.j7.yY(n);if(!i||!i.m7)return!1;var e=t.j7.yY(n);return!(!e||!e.m7)&&(this.gs(i.H7(e)),!0)},n.ott=function(t,n){var i=this.j7.yY(n);if(!i||!i.B7())return!1;var e=t.j7.yY(n);return!(!e||!e.B7())&&(this.gs(e.tw.Hw(i.tw)),!0)},n.htt=function(t,n){var i=this.j7.yY(n);if(!i)return!1;var e=this.ftt(i.p7.lY);if(!e)return!1;var r=t.j7.yY(n);if(!r)return!1;var s=t.ftt(r.p7.lY);if(!s)return!1;var u=i.z7(i.p7),o=r.z7(r.p7),h=wk.Um(e).Hw(wk.Um(s)),a=u.Hw(o);return this.gs(h.Hw(a)),!0},n.att=function(t){if(!this.Y7&&!t.Y7)return!1;var n=this.j7.q7(),i=t.j7.q7();if(n&&n.p7&&i&&i.p7){var e=wk.Qw(n.p7.Qk-i.p7.Qk,1e3),r=n.nw.Hw(i.nw);return this.gs(e.Hw(r)),!0}return!1},n.jZ=function(t){var n=this.j7.q7();if(n)for(var i=n.nw,e=t.sl-1;e>=0;e--){var r=t.mY(e);if(i=i.Hw(wk.Om(r.duration)),void 0!==r.k7){0;break}r.k7=i}},n.V9=function(t){var n=this.j7.G7(t);return n?n.lY:NaN},n.x0=function(t,n){var i=this.j7.yY(t.BY);return i?i.z7(t,n):wk.Pm},n.O0=function(t,n){var i=this.rZ.PY.yY(t.lY+1);if(i){var e=this.x0(i);return e}return n.Lg(function(t){if(!t)return wk.jw;if(!DP(t))return wk.Om(t.duration);var n=t.aj||wk.jw,i=t.cj||wk.jw,e=wk.Om(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?e:wk.jw:i:n:wk.Sm(n,i)}(t))},n.L0=function(t,n){var i=this.j7.yY(t.BY);return i&&i.m7?i.L0(t,n):wk.Pm},n.u5=function(t,n){var i=this.rZ.PY;return i.sl?function(t,n,i,e,r){var s,u,o=t.rZ.PY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.x0(o.mY(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Lw(f))return{dp:s=o.mY(c),dtt:f};if(n.xw(d)&&(s=o.mY(v)).K2)return{dp:s,dtt:d};for(;f.Pw(n)&&n.Pw(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.Hw(f).Nw()*(v-c)/d.Hw(f).Nw())||0,g=a(l)),g.Dw(n))d=a(v=l-1);else{if(s=o.mY(l),!(w=(u=l)===e?a(u).Lg(CP(o.mY(u))):a(u+1)).Pw(n))return s&&n.Pw(g.Lg(CP(s)))?{dp:s,dtt:g}:(s=o.mY(l+1))&&{dp:s,dtt:w};c=l+1,f=w}}if(d.Pw(n)){if((s=o.mY(v))&&n.Pw(d.Lg(CP(s))))return{dp:s,dtt:d};if(v<e&&(s=o.mY(v+1),d=a(v+1),s&&n.Lw(d)))return{dp:s,dtt:d}}return null}(this,t,0,i.sl-1,n):null},n.ftt=function(t){var n=this.rZ.PY,i=n.wY(t),e=n.mY(i),r=e,s=wk.jw;if(e.dZ)return e.dZ;for(var u=i-1;u>=0;u--){var o=n.mY(u);if(s=s.Lg(CP(o)).Lg(MU(o,r)),o.dZ)return new Date(o.dZ.getTime()+1e3*s.Nw());r=o}return null},n.ltt=function(t){for(var n=this.rZ.PY,i=void 0,e=0;e<n.sl;e++){var r=n.mY(e);if(r.dZ){if(!(r.dZ.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return wk.Pm;var s=wk.Um(t).Hw(wk.Um(i.dZ));return this.x0(i).Lg(s)},n.gs=function(t){if(!t.mw(wk.jw))for(var n=this.j7.sl,i=0;i<n;i++){var e=this.j7.mY(i);e.L7(e.tw.Lg(t))}},n.U9=function(t){var n=this.j7.yY(t);return n&&n.m7},n.F9=function(t,n){if(this===t)return wk.jw;var i=this.j7.yY(n),e=t.j7.yY(n);return i&&e?i.H7(e):wk.Pm},n.a7=function(){0},A(t,[{key:"utt",get:function(){var t=this.rZ.LY;return!!t&&t.live}},{key:"_tt",get:function(){var t=this.rZ.LY;return!!t&&t.isEvent}},{key:"gtt",get:function(){var t=this.K7;return t?this.x0(t):wk.jw}},{key:"wtt",get:function(){var t=this.j7.q7();return t?t.nw:wk.jw}},{key:"mtt",get:function(){if(!this.utt)return wk.jw;var t=this.wtt.Hw(this.ytt);return wk.Sm(this.gtt,t)}},{key:"ytt",get:function(){return this.J7&&wk.Om(this.J7)||this.ktt._m(3)}},{key:"ptt",get:function(){return this.utt&&this.ttt?wk.Qw(SR()-this.ttt.Qk,1e3):wk.jw}},{key:"ktt",get:function(){var t=this.rZ.LY;return t&&t.targetDuration?wk.Om(t.targetDuration):qU}},{key:"ps",get:function(){return this.Z7},set:function(t){var n=t.Hw(this.Z7);this.Z7=t,this.gs(n)}}]),t}(),QU=function(t){function n(n){var i;return(i=t.call(this)||this).btt=[],i.Att={},i.Ttt=null,i.Stt=null,i.Z7=wk.jw,i.R7=void 0,i.Ett=void 0,i.Ett=n,i}S(n,t);var i=n.prototype;return i.Rtt=function(t){return t&&this.Att[t._l]||null},i.Itt=function(t){var n=this.Rtt(t);return n||((n=new GU(t,this.Ett,!!this.R7)).ps=this.Z7,this.btt.push(n),this.Att[t._l]=n),n},i.Ntt=function(t){var n;switch(null==(n=this.Ett.hls)?void 0:n.discontinuityAlignment){case AE.jN:return!0;case AE.ZN:return!1;default:return t.isEvent||t.hasEnd}},i.ntt=function(t,n){void 0===this.R7&&(this.R7=this.Ntt(n));var i=this.Rtt(this.Ttt),e=i?i.gtt:wk.jw,r=i?i.wtt:wk.jw,s=this.Itt(t),u=s.Q7,o=s.ntt(n);if(!u&&s.Q7&&(s.gs(this.Dtt(t)),o=!0),o=this.Ctt(s)||o,this.xtt(s,e,r)){var h=new fP(cP.cY,{code:"MFU0166"});this.dispatchEvent({type:"ts",ts:h})}else this.Ttt=t,o&&this.dispatchEvent("JZ")},i.I7=function(t,n){if(DP(n)){0;var i=this.Itt(t),e=i.I7(n);e=this.Ctt(i)||e,this.Stt=t,e&&this.dispatchEvent("JZ")}},i.Ctt=function(t){var n=!1,i=!1,e=this.Rtt(this.Stt);e&&(e===t?n=!0:i=(n=t.rtt(e))||i);var r=this.Rtt(this.Ttt);return r&&r!==t&&(i=n?r.rtt(t)||i:t.rtt(r)||i),i},i.Dtt=function(t){var n=this.Rtt(t),i=!n.utt,e=t.LY&&t.LY.isEvent;return i||e?wk.jw:n.ktt._m(3)},i.xtt=function(t,n,i){if(!t.utt)return!1;var e=t.gtt,r=t.wtt,s=wk.Em(r,i).Hw(wk.Sm(e,n)),u=wk.Sm(t.ktt._m(3),s.ym(2));return e.Lg(u).Lw(n)},i.jZ=function(t,n){var i=this.Rtt(t)||this.Rtt(this.Ttt);return i&&i.jZ(n)},i.V9=function(t){var n=this.Ttt&&this.Rtt(this.Ttt);return n?n.V9(t):NaN},i.Ott=function(t,n){var i=t.MY(n);return this.x0(i)},i.x0=function(t){if(!t)return wk.Pm;var n=this.Rtt(t.rZ)||this.Rtt(this.Ttt);return n?n.x0(t):wk.Pm},i.O0=function(t,n){if(!t)return wk.Pm;var i=this.Rtt(t.rZ)||this.Rtt(this.Ttt);return i?i.O0(t,n):wk.Pm},i.L0=function(t,n){if(!t||!n)return wk.Pm;var i=this.Rtt(t.rZ)||this.Rtt(this.Ttt);return i?i.L0(t,n):wk.Pm},i.u5=function(t,n,i){var e=this.Rtt(t);if(!e)return null;var r=e.u5(n,i);return r?{dp:r.dp,dtt:r.dtt}:null},i.ftt=function(t,n){var i=this.Rtt(t)||this.Rtt(this.Ttt);return i?i.ftt(n):null},i.ltt=function(t,n){var i=this.Rtt(t)||this.Rtt(this.Ttt);return i?i.ltt(n):wk.Pm},i.U9=function(t){return void 0!==this.Ptt(t)},i.F9=function(t,n){if(this===t)return wk.jw;var i=this.Ptt(n),e=t.Ptt(n);return i&&e?i.F9(e,n):wk.Pm},i.Ptt=function(t){return Ns(this.btt,function(n){return n.U9(t)})},i.hv=function(){this.Wr(),this.btt.length=0,this.Att={},this.Ttt=null,this.Stt=null,this.Z7=wk.jw},i.a7=function(){0},A(n,[{key:"Btt",get:function(){return this.gtt.Hw(this.ktt._m(3))}},{key:"ytt",get:function(){var t=this.Ett.liveOffset;return wk.Om(t||3*this.ktt.Nw())}},{key:"utt",get:function(){var t=this.Rtt(this.Ttt);return!!t&&t.utt}},{key:"xg",get:function(){return this.Ttt?new CB([{RR:this.gtt.Nw(),NR:this.wtt.Nw()}]):xB}},{key:"gtt",get:function(){if(!this.Ttt)return wk.jw;var t=this.Rtt(this.Ttt);return t._tt?t.gtt:t.gtt.Lg(t.ptt)}},{key:"wtt",get:function(){if(!this.Ttt)return wk.jw;var t=this.Rtt(this.Ttt);return t.wtt.Lg(t.ptt)}},{key:"mtt",get:function(){if(!this.Ttt)return wk.jw;var t=this.Rtt(this.Ttt);return t.mtt.Lg(t.ptt)}},{key:"ktt",get:function(){return this.Ttt?this.Rtt(this.Ttt).ktt:qU}},{key:"ps",get:function(){return this.Z7},set:function(t){if(!this.Z7.mw(t)){this.Z7=t;for(var n=0,i=this.btt;n<i.length;n++){i[n].ps=t}this.dispatchEvent("JZ")}}}]),n}(hP),YU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dtt=function(t){return wk.jw},n}(QU),jU=.25,ZU=1/60;function JU(t,n){return Rs(t,n,ZU)}var $U,KU=function(t,n,i){this.rZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.dp=void 0,this.Ltt=NaN,this.Mtt=NaN,this.Utt=0,this.rZ=t.rZ,this.tw=n,this.nw=i,this.d_=i-n,this.dp=t},tF=function(t,n,i){this.rZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.Ltt=NaN,this.Mtt=NaN,this.Utt=0,this.rZ=t,this.tw=n,this.nw=i,this.d_=i-n};function nF(t){return!(!t||!t.dp)}function iF(t,n,i){return e=n,r=i,s=t.tw,u=t.nw,JU(e,u)<=0&&JU(s,r)<=0;var e,r,s,u}function eF(t,n){return JU(t.tw,n)<=0?t.nw:t.tw}function rF(t,n,i){return(t-n)/i-jU}function sF(t,n){return n.Hw(t).jR(t)}function uF(t,n){var i=_.min(ZU,t.d_/2);return n.KR(t.tw,t.nw,i)}function oF(t,n){var i=n.A0(t);return-1===i?t:n.end(i)}function hF(t){return t.Mtt<=t.Ltt}function aF(t,n){if(!hF(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Utt+n.Mtt>e.Ltt)return!1}return!0}function cF(t,n){for(var i=0;i<t.length;i++){t[i].Utt+=n.Mtt}n.Utt=n.Mtt,t.push(n)}!function(t){t[t.Ftt=0]="Ftt",t[t.Htt=1]="Htt",t[t.ztt=2]="ztt",t[t.P5=3]="P5"}($U||($U={}));var fF=function(){function t(t,n,i,e){this.rp=void 0,this.jb=void 0,this.Vtt=void 0,this.Wtt=void 0,this.Xtt=void 0,this.VK=void 0,this.rp=t,this.jb=n,this.Vtt=i,this.Wtt=e,this.Xtt=kB.Rn.gK,this.VK=kB.Rn._K}var n=t.prototype;return n.qtt=function(){return this.Vtt.Pj.reduce(function(t,n){return _.max(t,n.LY&&n.LY.targetDuration||0)},0)},n.Gtt=function(t,n){void 0===n&&(n=this.jb.x0(t).Nw());var i=this.jb.O0(t,wk.Om(n));return new KU(t,n,i.Nw())},n.Qtt=function(t,n){var i=t.PY.mY(n);return i&&this.Gtt(i)||null},n.Ytt=function(t){var n=t.rZ,i=n.PY.wY(t.lY);return i>=0&&this.Qtt(n,i-1)||null},n.jtt=function(t){var n=t.rZ,i=n.PY.wY(t.lY);return i>=0&&this.Qtt(n,i+1)||null},n.Ztt=function(t,n){var i=this.jb.u5(t,wk.Om(n));return i&&this.Gtt(i.dp,i.dtt.Nw())||null},n.Jtt=function(t){var n=t.PY.sl-1;return n>=0&&this.Qtt(t,n)||null},n.$tt=function(t,n,i){var e=t.LY&&t.LY.targetDuration||this.qtt()||10,r=_.max(0,n-e),s=r+e;return i&&iF(i,r,s)&&(s=(r=i.nw)+e),new tF(t,r,s)},n.Ktt=function(t,n,i){var e=this.Wtt.n6,r=.8*this.Wtt.i6,s=(n.bandwidth||0)*t.d_;return i&&i.G$?((s=8*i.a0||s)-8*i.h0)/r:e+s/r},n.tnt=function(){for(var t=this.Wtt.D4(this.rp),n=this.Wtt.o4(this.rp),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.nnt=function(t,n){var i=n.filter(function(n){return n.rZ===t});return KB(this.jb,i).N0()},n.int=function(t){return"audio"===this.rp&&t?[t]:this.Vtt.Pj},n.ent=function(t){for(var n=new $B([]),i=new $B([]),e=this.tnt(),r={rnt:{},snt:{},unt:{},ont:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.nnt(u,e),h=eL(this.jb,o);r.rnt[u._l]=o,r.snt[u._l]=h,r.unt[u._l]=n=sF(n,o),r.ont[u._l]=i=sF(i,h)}return r},n.hnt=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c]._l],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({RR:d,NR:l})}return 0===(s=BB(s=PB(new CB(a)),new CB([{RR:t,NR:n}]))).length||JU(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,JU(u,t)<=0&&JU(h,o)<=0)?NaN:s.end(0)},n.ant=function(t,n,i){var e=null,r=i.rnt[t._l],s=i.unt[t._l],u=i.ont[t._l],o=s.A0(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new CB([{RR:h,NR:a}]),f=s.WR(c).Hw(u),v=0;v<f.length;v++){var d=f.start(v),l=f.PY(v)[0];if(l.dp.rZ===t){if(e=this.Ytt(l.dp))return e}else{for(e=this.Ztt(t,d);e&&uF(e,r);)e=this.Ytt(e.dp);if(e)return e}}var g=s.PY(o),w=g[g.length-1];if(w.dp.rZ===t&&(e=this.jtt(w.dp)))return e}var m=this.Jtt(t);if(!m||JU(m.nw,n)<=0){if(!m||!m.dp.K2)return e=this.$tt(t,n,m);e=m}for(e||(e=this.Ztt(t,n));e&&uF(e,s);)e=this.jtt(e.dp);return e},n.cnt=function(t,n){var i=this.Jtt(t);return i&&i.dp.K2&&JU(i.nw,n)<=0?i:this.Ztt(t,n)},n.fnt=function(t,n,i,e,r,s,u,o){var h=t.rZ,a=u.unt[h._l],c=!uF(t,a),f=c?n:eF(t,e);t.Ltt=rF(f,e,s),t.Mtt=this.Ktt(t,h);var v=o&&this.Gtt(o);if(v&&!uF(v,a)){var d=eF(v,e);if(v.Ltt=rF(d,e,s),v.Mtt=this.Ktt(v,h,i&&i.WK),hF(v)&&(!c||function(t,n){var i=[];return!!aF(i,n)&&(cF(i,n),!(!nF(t)||!nF(n)||t.dp!==n.dp)||!!aF(i,t))}(t,v)))return v}if(c&&!hF(t))return null;var l=this.vnt(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.vnt=function(t,n,i,e,r){for(var s=[],u=t.rZ,o=t;o&&n<o.nw&&i<=o.tw;){if(!uF(o,r)){if(m(o.Ltt)){var h=eF(o,n);o.Ltt=rF(h,n,e),o.Mtt=this.Ktt(o,u)}aF(s,o)&&cF(s,o)}o=nF(o)&&this.Ytt(o.dp)}return s},n.dnt=function(t,n){return t.tw<n?{wl:$U.ztt}:nF(t)?{wl:$U.Ftt,dp:t.dp,tw:t.tw}:{wl:$U.Htt,rZ:t.rZ}},n.R4=function(t){if(NP(t.uri)){var n=t.uri,i=bB(n.uj,[n.oj.RR,n.oj.NR]);return this.VK.as(i)}var e=bB(t.uri);return this.VK.as(e)},n.lnt=function(t){return this.Xtt.as(t.uri)},n._nt=function(t,n,i,e,r,s,u,o,h){var a,c,f,v,d,l,_,g,w,y,k,p,b;return Er.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=this.int(e),c=this.ent(a),f=this.jb.Btt.Nw(),v=this.hnt(t,n,r,a,c.snt),_=null,w=!1,!m(v)){A.next=3;break}return A.abrupt("return",{wl:$U.P5});case 3:if(!(v<f)){A.next=5;break}return A.abrupt("return",{wl:$U.ztt});case 5:y=o.length-1;case 6:if(!(y>=0)){A.next=27;break}if(d=o[y],l=oF(v,c.snt[d._l]),!(_=this.ant(d,l,c))){A.next=24;break}if(k=!1,!nF(_)){A.next=18;break}return A.next=15,Er.awrap(this.R4(_.dp));case 15:k=A.sent,A.next=22;break;case 18:if(d.yZ){A.next=22;break}return A.next=21,Er.awrap(this.lnt(d));case 21:k=A.sent;case 22:if(!k){A.next=24;break}return A.abrupt("return",this.dnt(_,f));case 24:y-=1,A.next=6;break;case 27:if(!(v<=t+jU&&h.length)){A.next=33;break}if(d=h[0],l=oF(v,c.snt[d._l]),!(_=this.ant(d,l,c))){A.next=33;break}return A.abrupt("return",this.dnt(_,f));case 33:p=h.length-1;case 34:if(!(p>=0)){A.next=48;break}if(d=h[p],l=oF(v,c.snt[d._l]),(_=this.ant(d,l,c))?g=_:(w=!0,g=this.cnt(d,l)),!g){A.next=45;break}if(!(b=this.fnt(g,l,s,t,f,i,c,u))){A.next=45;break}return A.abrupt("return",this.dnt(b,f));case 45:p-=1,A.next=34;break;case 48:if(!w){A.next=50;break}return A.abrupt("return",{wl:$U.P5});case 50:if(!_){A.next=52;break}return A.abrupt("return",this.dnt(_,f));case 52:if(o.length){A.next=54;break}return A.abrupt("return",{wl:$U.P5});case 54:if(d=o[0],l=oF(v,c.snt[d._l]),!(_=this.ant(d,l,c))){A.next=61;break}return A.abrupt("return",this.dnt(_,f));case 61:return A.abrupt("return",{wl:$U.P5});case 62:case"end":return A.stop()}},null,this,null,ze)},t}(),vF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).gnt=i,o.wnt=e,o.wb=r,o.rp=s,o.rv=u,o}return S(n,t),n}(ru),dF=function(t){function n(n,i,e,r,s){return t.call(this,Xc.Ca,n,i,e,r,s)||this}return S(n,t),n}(vF),lF=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,Xc.Oa,n,i,e,r,s)||this).mnt=u,h.Rg=o,h}return S(n,t),n}(vF),_F=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Jy),gF=function(){function t(t,n){this.Wq=t,this.Cq=n}return t.prototype.mw=function(t){return this.Wq===t.Wq&&this.Cq===t.Cq},t}(),wF=function(){function t(t,n){this.ynt="",this.ZP=t,this.knt=n}var n=t.prototype;return n.pnt=function(t){this.ynt+=t},n.bnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.pnt(i)}},A(t,[{key:"$q",get:function(){return this.ynt}},{key:"Qq",get:function(){return[this]}},{key:"Zq",get:function(){return this.ZP}},{key:"tG",get:function(){return this.knt}},{key:"Kq",get:function(){return new gF(this.tG.Wq,this.tG.Cq+this.$q.length-1)}}]),t}(),mF=function(){function t(){}var n=t.prototype;return n.Ant=function(t){return t.qm(this)},n.Tnt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.qm(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Snt=function(t,n){return new yF(t,n).Ent()},t}(),yF=function(){function t(t,n){this.Rnt=[],this.Int=null,this.Wq=t,this.Nnt=n}var n=t.prototype;return n.Ent=function(){if(this.Dnt)return[];for(var t=0;t<this.Wq.length;t++)this.Cnt(t);return this.xnt(),this.Rnt},n.Ont=function(t){this.Int=new wF(xO,new gF(this.Nnt,t))},n.xnt=function(){this.Int&&(this.Rnt.push(this.Int),this.Int=null)},n.Cnt=function(t){var n=this.Wq[t];kF(n)?this.Int&&this.xnt():(this.Int||this.Ont(t),this.Int.pnt(n))},A(t,[{key:"Dnt",get:function(){return this.Wq.every(kF)}}]),t}();function kF(t){return null==t}var pF=function(){function t(){}return t.Pnt=function(t,n,i){if(!(n>=i)){var e=Bs(t,function(t,n){return new yF(t.map(function(t){return t?t.Bnt():null}),n).Ent()});if(0!==e.length)return new _F(n,i,e)}},t}(),bF="black",AF="white",TF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),SF=function(){function t(){this.Lnt=[],this.Mnt=0,this.Unt=void 0;for(var t=0;t<BO;t++)this.Lnt.push(null);this.Unt=!1}var n=t.prototype;return n.Fnt=function(t){for(var n=0;n<BO;n++)t&&(this.Lnt[n]=t.Lnt[n])},n.mw=function(t){for(var n=0;n<BO;n++)if(this.Lnt[n]!==t.Lnt[n])return!1;return!0},n.Hnt=function(){for(var t=0;t<BO;t++)if(null!==this.Lnt[t])return!1;return!0},n.znt=function(t){this.Mnt!==t&&(this.Mnt=t),this.Mnt<0?this.Mnt=0:this.Mnt>BO&&(this.Mnt=BO-1)},n.Vnt=function(t){var n=this.Mnt+t;this.znt(n)},n.Wnt=function(){this.Vnt(-1),this.Lnt[this.Mnt]=null},n.pnt=function(t){t>=144&&this.Wnt();var n,i=TF[n=t]?String.fromCharCode(TF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Mnt>=BO||(32===Number(t)?(this.Lnt[this.Mnt]=this.Unt?"</i>":"<i>",this.Unt=!this.Unt):this.Lnt[this.Mnt]=t,this.Vnt(1))},n.Xnt=function(t){for(var n=t;n<BO;n++)this.Lnt[n]=null},n.ds=function(){this.Xnt(0),this.Mnt=0},n.qnt=function(){this.Xnt(this.Mnt)},n.Gnt=function(t,n){for(var i=this.Lnt,e=null,r=0;r<BO;r++){var s=i[r];null===s?e=null:(e||(e={Qnt:r,Ynt:t,Rw:0,hp:1,Lnt:[[]]},n.push(e)),e.Lnt[0].push(s),e.Rw++)}},n.qm=function(t,n){return t.Snt(this.Lnt,n)},t}();var EF,RF=function(){function t(t,n){this.jnt=void 0,this.Znt=void 0,this.Jnt=void 0,this.$nt=void 0,this.Knt=void 0,this.tit=void 0,this.nit=void 0,this.iit=void 0,this.eit=void 0,this.jnt=new Array(IF+1);for(var i=0;i<=IF;i++)this.jnt[i]=new SF;this.Znt=1,this.Jnt=0,this.$nt=t,this.Knt=n,this.tit=!1,this.nit=!1,this.iit=AF,this.eit=bF,this.nl()}var n=t.prototype;return n.rit=function(t,n){var i="CC"+(this.$nt<<1|this.Knt+1);if(t>=n)return null;var e=(new mF).Tnt(this.jnt.slice(1));return 0===e.length?null:{Kg:new _F(t,n,e),wf:i,sit:this.$nt<<1|this.Knt+1}},n.nl=function(){this.uit(),this.Znt=1},n.oit=function(){return this.Znt},n.hit=function(t){this.Znt=t},n.znt=function(t){this.jnt[this.Znt].znt(t)},n.Vnt=function(t){this.jnt[this.Znt].Vnt(t)},n.ait=function(){return this.Jnt},n.cit=function(t){this.Jnt=t},n.pnt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case EF.fit:i=void 0!==DF[n]?DF[n]:String.fromCharCode(n);break;case EF.vit:i=CF[n];break;case EF.dit:this.lit(),i=xF[n];break;case EF._it:this.lit(),i=OF[n]}i&&this.jnt[this.Znt].addParsedChar(i)}},n.lit=function(){this.jnt[this.Znt].Wnt()},n.git=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.jnt[t+e]=this.jnt[n+e];else for(var r=0;r<i;r++)this.jnt[t+r]=this.jnt[n+r]},n.wit=function(t,n){for(var i=0;i<=n;i++)this.jnt[t+i]=new SF},n.uit=function(){this.wit(0,IF)},n.mit=function(){this.Znt=this.Jnt>0?this.Jnt:0,this.uit()},n.yit=function(t){this.tit=t},n.kit=function(t){this.nit=t},n.pit=function(t){this.iit=t},n.Ait=function(t){this.eit=t},t}(),IF=15;!function(t){t[t.fit=0]="fit",t[t.vit=1]="vit",t[t.dit=2]="dit",t[t._it=3]="_it"}(EF||(EF={}));var NF,DF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},CF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},xF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},OF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},PF=function(){function t(t,n){this.fi=void 0,this.Tit=void 0,this.Sit=void 0,this.Eit=void 0,this.Rit=void 0,this.Iit=void 0,this.Nit=void 0,this.Dit=void 0,this.fi=NF.dR,this.Tit=new RF(t,n),this.Sit=new RF(t,n),this.Eit=new RF(t,n),this.Rit=this.Sit,this.Iit=0,this.Nit=void 0,this.Dit=!1}var n=t.prototype;return n.nl=function(){this.Dit=!0,this.Iit=0,this.fi=NF.dR,this.Rit=this.Sit,this.Nit=void 0,this.Sit.nl(),this.Eit.nl(),this.Tit.nl()},n.Cit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.xit=function(t,n){var i=this.Cit(t,n),e=(30&n)>>1,r=AF,s=!1;e<7?r=UF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.fi!==NF.On){var o=this.Rit;if(this.fi===NF.Oit&&i!==o.oit()){var h=1+o.oit()-o.ait(),a=1+i-o.ait();o.git(a,h,o.ait()),o.wit(0,a-1),o.wit(i+1,IF-i)}o.hit(i);var c=PO[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Dq:OO[i].Dq,Nq:OO[i].Nq,Cq:OO[i].Cq,Wq:t}}(c,n);o.znt(f.Cq),this.Rit.yit(u),this.Rit.kit(s),this.Rit.pit(r),this.Rit.Ait(bF)}}},n.Pit=function(t,n){this.Rit.yit(!1),this.Rit.kit(!1),this.Rit.pit(AF);var i=this.Bit(t,EF.fit," ".charCodeAt(0)),e=AF,r=!1,s=1==(1&n);return"white_italics"===(e=UF[(14&n)>>1])&&(e="white",r=!0),this.Rit.yit(s),this.Rit.kit(r),this.Rit.pit(e),i},n.Bit=function(t,n,i){if(this.Rit.pnt(n,i),this.fi===NF.Lit||this.fi===NF.Oit){var e=this.Mit(this.Rit,this.Iit,t);return this.Iit=t,e}return null},n.Mit=function(t,n,i){return this.Dit?null:t.rit(n,i)},n.Uit=function(t,n){var i=bF;0==(7&t)&&(i=MF[(14&n)>>1]),this.Rit.Ait(i)},n.Fit=function(t){var n=BF,i=t.Hit,e=t.R6,r=null;switch(i){case n.RCL:this.zit();break;case n.BS:this.Vit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Wit(2,e);break;case n.RU3:r=this.Wit(3,e);break;case n.RU4:r=this.Wit(4,e);break;case n.FON:r=this.Xit(e);break;case n.RDC:this.qit(e);break;case n.TR:this.Git();break;case n.RTD:this.Qit();break;case n.EDM:r=this.Yit(e);break;case n.CR:r=this.jit(e);break;case n.ENM:this.Zit();break;case n.EOC:r=this.Jit(e)}return r},n.jit=function(t){var n=this.Rit;if(this.fi!==NF.Oit)return null;var i=this.Mit(n,this.Iit,t),e=n.oit()-n.ait()+1;return n.git(e-1,e,n.ait()),n.wit(0,e-1),n.wit(n.oit(),IF-n.oit()),this.Iit=t,i},n.Wit=function(t,n){this.Rit=this.Sit;var i=this.Rit,e=null;return this.fi!==NF.Oit&&this.fi!==NF.On&&(e=this.Mit(i,this.Iit,n),this.Sit.mit(),this.Eit.mit(),this.Dit=!1,i.hit(IF)),this.fi=NF.Oit,i.cit(t),e},n.Xit=function(t){return this.Bit(t,EF.fit," ".charCodeAt(0))},n.Yit=function(t){var n=this.Sit,i=null;return this.fi!==NF.On&&(i=this.Mit(n,this.Iit,t)),n.uit(),this.Dit=!1,i},n.qit=function(t){this.fi=NF.Lit,this.Rit=this.Sit,this.Rit.cit(0),this.Iit=t},n.Zit=function(){this.Eit.uit()},n.Jit=function(t){var n=null;this.fi!==NF.On&&(n=this.Mit(this.Sit,this.Iit,t));var i=this.Eit;return this.Eit=this.Sit,this.Sit=i,this.zit(),this.Iit=t,n},n.zit=function(){this.fi=NF.$it,this.Rit=this.Eit,this.Rit.cit(0)},n.Vit=function(){this.Rit.lit()},n.Git=function(){this.Tit.nl(),this.Dit=!1,this.Qit()},n.Qit=function(){this.Rit=this.Tit,this.fi=NF.On},n.Kit=function(t,n,i){return this.Rit.pnt(EF.fit,n),this.Bit(t,EF.fit,i)},n.tet=function(t,n,i){var e=1&n?EF._it:EF.dit;return this.Bit(t,e,i)},n.net=function(t){var n=t.iet,i=t.Hit,e=t.R6;if(this.Nit===(n<<8|i))return this.Nit=void 0,null;if(this.Nit=n<<8|i,this.eet(n,i))this.xit(n,i);else{if(this.ret(n,i))return this.Pit(e,i);if(this.uet(n,i))this.Uit(n,i);else{if(this.oet(n,i))return this.Bit(e,EF.vit,i);if(this.het(n,i))return this.tet(e,n,i);if(this.aet(n,i))return this.Fit(t);this.isTabOffset(n)&&this.Rit.Vnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.aet=function(t,n){return 20==(246&t)&&32==(240&n)},n.eet=function(t,n){return 16==(240&t)&&64==(192&n)},n.ret=function(t,n){return 17==(247&t)&&32==(240&n)},n.uet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.oet=function(t,n){return 17==(247&t)&&48==(240&n)},n.het=function(t,n){return 18==(246&t)&&32==(224&n)},t.cet=function(t){return 16==(112&t)},t}(),BF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.dR=0]="dR",t[t.$it=1]="$it",t[t.Lit=2]="Lit",t[t.Oit=3]="Oit",t[t.On=4]="On"}(NF||(NF={}));var LF,MF=["black","green","blue","cyan","red","yellow","magenta","black"],UF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],FF=function(){function t(t,n,i,e,r){this.fet=void 0,this.tit=void 0,this.nit=void 0,this.eit=void 0,this.iit=void 0,this.fet=t,this.tit=n,this.nit=i,this.eit=e,this.iit=r}var n=t.prototype;return n.Bnt=function(){return this.fet},n.vet=function(){return this.tit},n.det=function(){return this.nit},n.let=function(){return this.eit},n._et=function(){return this.iit},t}(),HF=function(){function t(t){this.wet=void 0,this.yR=void 0,this.met=void 0,this.yet=void 0,this.ket=void 0,this.pet=void 0,this.bet=void 0,this.Aet=void 0,this.Tet=void 0,this.Eet=void 0,this.fw=void 0,this.Znt=void 0,this.Ret=void 0,this.nit=void 0,this.tit=void 0,this.iit=void 0,this.eit=void 0,this.wet=t,this.yR=!1,this.met=!1,this.yet=0,this.ket=0,this.pet=0,this.bet=0,this.Aet=0,this.Tet=LF.Iet,this.Eet=[],this.fw=0,this.Znt=0,this.Ret=0,this.nit=!1,this.tit=!1,this.iit=AF,this.eit=bF,this.Net()}var n=t.prototype;return n.Det=function(t,n,i,e,r,s,u){this.yR=t,this.ket=n,this.yet=i,this.pet=e,this.met=r,this.bet=s,this.Aet=u},n.Net=function(){this.Eet=[];for(var t=0;t<XF;t++)this.Eet.push(this.Cet())},n.Cet=function(){for(var t=[],n=0;n<WF;n++)t.push(null);return t},n.xet=function(t){this.Oet()&&(this.Eet[this.Znt][this.Ret]=new FF(t,this.tit,this.nit,this.eit,this.iit),this.Ret++)},n.Pet=function(){this.Oet()&&(this.Ret<=0&&this.Znt<=0||(this.Ret<=0?(this.Ret=this.Aet-1,this.Znt--):this.Ret--,this.Eet[this.Znt][this.Ret]=null))},n.Oet=function(){var t=this.Znt<this.bet&&this.Znt>=0,n=this.Ret<this.Aet&&this.Ret>=0;return t&&n},n.Bet=function(){return this.yR},n.Let=function(t){for(var n=0,i=t;i<XF;i++,n++)this.Eet[n]=this.Eet[i];for(var e=0;e<t;e++,n++)this.Eet[n]=this.Cet()},n.Met=function(){if(this.Znt+1>=this.bet)return this.Let(1),void(this.Ret=0);this.Znt++,this.Ret=0},n.Uet=function(){this.Eet[this.Znt]=this.Cet(),this.Ret=0},n.rit=function(t,n){if(this.fw>=t)return null;var i=pF.Pnt(this.Eet,this.fw,t);return i?(this.L7(t),{Kg:i,wf:"svc"+n,sit:n}):null},n.Fet=function(t,n){this.Znt=t,this.Ret=n},n.Het=function(t){this.eit=t},n.zet=function(t){this.iit=t},n.Vet=function(t){this.tit=t},n.Wet=function(t){this.nit=t},n.Xet=function(){this.Znt=0,this.Ret=0,this.tit=!1,this.nit=!1,this.iit=AF,this.eit=bF},n.qet=function(t){this.Tet=t},n.Get=function(){this.yR=!0},n.cg=function(){this.yR=!1},n.Qet=function(){this.yR=!this.yR},n.L7=function(t){this.fw=t},t}();!function(t){t[t.Yet=0]="Yet",t[t.jet=1]="jet",t[t.Iet=2]="Iet",t[t.Zet=3]="Zet"}(LF||(LF={}));var zF,VF,WF=42,XF=15,qF=function(){function t(t){this.Jet=void 0,this.$et=void 0,this.Ket=void 0,this.Jet=t,this.$et=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Ket=void 0}var n=t.prototype;return n.trt=function(t){var n=t.nrt(),i=n.qn,e=n.R6;i===ZF&&(i=i<<16|t.nrt().qn);return i>=0&&i<=31?this.irt(i,e):i>=128&&i<=159?this.ert(t,i,e):(i>=4096&&i<=4127?this.rrt(t,255&i):i>=4224&&i<=4255?this.urt(t,255&i):i>=32&&i<=127?this.ort(i):i>=160&&i<=255?this.hrt(i):i>=4128&&i<=4223?this.art(255&i):i>=4256&&i<=4351&&this.crt(255&i),null)},n.ort=function(t){this.Ket&&(127!==t?this.Ket.xet(String.fromCharCode(t)):this.Ket.xet("\u266a"))},n.hrt=function(t){this.Ket&&this.Ket.xet(String.fromCharCode(t))},n.art=function(t){if(this.Ket)if(void 0!==JF[t]){var n=JF[t];this.Ket.xet(n)}else this.Ket.xet("_")},n.crt=function(t){this.Ket&&(160===t?this.Ket.xet("[CC]"):this.Ket.xet("_"))},n.irt=function(t,n){if(!this.Ket)return null;var i=this.Ket,e=null;switch(t){case GF:i.Pet();break;case YF:i.Bet()&&(e=i.rit(n,this.Jet)),i.Met();break;case jF:i.Bet()&&(e=i.rit(n,this.Jet)),i.Uet();break;case QF:i.Bet()&&(e=i.rit(n,this.Jet)),i.Net(),i.Fet(0,0)}return e},n.ert=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.frt(e)}else{if(136===n){var r=t.nrt().qn;return this.vrt(r,i)}if(137===n){var s=t.nrt().qn;this.drt(s,i)}else{if(138===n){var u=t.nrt().qn;return this.lrt(u,i)}if(139===n){var o=t.nrt().qn;return this._rt(o,i)}if(140===n){var h=t.nrt().qn;return this.grt(h,i)}if(143===n)return this.nl(i);if(144===n)this.wrt(t);else if(145===n)this.mrt(t);else if(146===n)this.Fet(t);else if(151===n)this.yrt(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Det(t,a,i)}}}return null},n.rrt=function(t,n){n>=8&&n<=15?t.vk(1):n>=16&&n<=23?t.vk(2):n>=24&&n<=31&&t.vk(3)},n.urt=function(t,n){n>=128&&n<=135?t.vk(4):n>=136&&n<=143&&t.vk(5)},n.frt=function(t){this.$et[t]&&(this.Ket=this.$et[t])},n.krt=Er.mark(function t(n){var i;return Er.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.$et[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.vrt=function(t,n){for(var i=null,e=0,r=this.krt(t);e<r.length;e++){var s=r[e],u=this.$et[s];u.Bet()&&(i=u.rit(n,this.Jet)),u.Net()}return i},n.drt=function(t,n){for(var i=0,e=this.krt(t);i<e.length;i++){var r=e[i],s=this.$et[r];s.Bet()||s.L7(n),s.Get()}},n.lrt=function(t,n){for(var i=null,e=0,r=this.krt(t);e<r.length;e++){var s=r[e],u=this.$et[s];u.Bet()&&(i=u.rit(n,this.Jet)),u.cg()}return i},n._rt=function(t,n){for(var i=null,e=0,r=this.krt(t);e<r.length;e++){var s=r[e],u=this.$et[s];u.Bet()?i=u.rit(n,this.Jet):u.L7(n),u.Qet()}return i},n.grt=function(t,n){for(var i=null,e=0,r=this.krt(t);e<r.length;e++){var s=r[e],u=this.$et[s];u.Bet()&&(i=u.rit(n,this.Jet)),this.$et[s]=void 0}return i},n.nl=function(t){var n=this.grt(255,t);return this.ds(),n},n.ds=function(){this.Ket=void 0,this.$et=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.wrt=function(t){t.vk(1);var n=t.nrt().qn;if(this.Ket){var i=(128&n)>0,e=(64&n)>0;this.Ket.Wet(i),this.Ket.Vet(e)}},n.mrt=function(t){var n=t.nrt().qn,i=t.nrt().qn;if(t.vk(1),this.Ket){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.prt(s,r,e),c=this.prt(h,o,u);this.Ket.zet(a),this.Ket.Het(c)}},n.Fet=function(t){var n=t.nrt().qn,i=t.nrt().qn;if(this.Ket){var e=15&n,r=63&i;this.Ket.Fet(e,r)}},n.yrt=function(t){t.vk(1),t.vk(1);var n=t.nrt().qn;if(t.vk(1),this.Ket){var i=3&n;this.Ket.qet(i)}},n.Det=function(t,n,i){var e=void 0!==this.$et[n];if(!e){var r=new HF(n);r.L7(i),this.$et[n]=r}var s=t.nrt().qn,u=t.nrt().qn,o=t.nrt().qn,h=t.nrt().qn,a=t.nrt().qn,c=t.nrt().qn,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);e&&0===(7&c)||this.$et[n].Xet(),this.$et[n].Det(f,v,l,g,d,_,w),this.Ket=this.$et[n]},n.prt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return $F[e[t]<<2|e[n]<<1|e[i]]},t}(),GF=8,QF=12,YF=13,jF=14,ZF=16,JF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},$F=["black","blue","green","cyan","red","magenta","yellow","white"];!function(t){t[t.brt=0]="brt",t[t.Art=1]="Art",t[t.Trt=2]="Trt",t[t.Srt=3]="Srt",t[t.Ert=4]="Ert",t[t.Rrt=5]="Rrt"}(zF||(zF={})),function(t){t[t.Irt=0]="Irt",t[t.Nrt=1]="Nrt",t[t.Drt=2]="Drt",t[t.Crt=3]="Crt"}(VF||(VF={}));var KF=function(){function t(){this.xrt=void 0,this.Ort=void 0,this.Prt=void 0,this.xrt=[],this.Ort=null,this.Prt=0}var n=t.prototype;return n.Brt=function(t){if(t.nr===VF.Crt){var n=63&t.qn;return this.Prt=2*n-1,void(this.Ort=[])}if(this.Ort&&(this.Prt>0&&(this.Ort.push(t),this.Prt--),0===this.Prt)){var i=new tH(this.Ort);this.xrt.push(i),this.Ort=null,this.Prt=0}},n.Lrt=function(){return this.xrt},n.Mrt=function(){this.xrt=[]},n.ds=function(){this.xrt=[],this.Ort=[],this.Prt=0},t}(),tH=function(){function t(t){this.Urt=void 0,this.Frt=void 0,this.Urt=0,this.Frt=t}var i=t.prototype;return i.Hrt=function(){return this.Urt<this.Frt.length},i.zrt=function(){return this.Urt},i.nrt=function(){if(!this.Hrt())throw new Tc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Frt[this.Urt++]},i.vk=function(t){if(this.Urt+t>this.Frt.length)throw new Tc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Urt+=t},t}(),nH=function(){function t(){this.Vrt=void 0,this.Wrt=void 0,this.Xrt=void 0,this.qrt=void 0,this.Grt=void 0,this.Qrt=void 0,this.Yrt=void 0,this.jrt=void 0,this.Zrt=!1,this.Vrt=[],this.Wrt=[],this.Xrt=new KF,this.qrt=0,this.Grt=Cr({CC1:new PF(0,0),CC2:new PF(0,1),CC3:new PF(1,0),CC4:new PF(1,1)}),this.Qrt=0,this.Yrt=0,this.jrt=Dr(),this.nl()}var i=t.prototype;return i.ds=function(){this.qrt=0,this.Vrt=[],this.Wrt=[],this.Xrt.ds(),this.nl(),this.jrt.forEach(function(t){t.ds()})},i.nl=function(){this.Qrt=0,this.Yrt=0,this.Grt.forEach(function(t){t.nl()})},i.A2=function(t,n){if(t.d1){var i=t.l1,e=t._1,r=t.nr;r===VF.Irt||r===VF.Nrt?this.Vrt.push({R6:n,nr:r,iet:i,Hit:e,Jrt:this.Vrt.length}):this.Zrt&&(this.Wrt.push({R6:n,nr:r,qn:i,Jrt:this.Wrt.length}),this.Wrt.push({R6:n,nr:VF.Drt,qn:e,Jrt:this.Wrt.length}))}},i.KN=function(){var t=[];ps(this.Vrt,function(t,n){return t.R6-n.R6||t.Jrt-n.Jrt}),ps(this.Wrt,function(t,n){return t.R6-n.R6||t.Jrt-n.Jrt});for(var n=0,i=this.Vrt;n<i.length;n++){var e=i[n],r=this.$rt(e);r&&t.push(r)}for(var s=0,u=this.Wrt;s<u.length;s++){var o=u[s];this.Xrt.Brt(o)}for(var h=this.Xrt.Lrt(),a=0;a<h.length;a++){var c=h[a],f=this.Krt(c);t.push.apply(t,f)}return this.Xrt.Mrt(),this.Vrt=[],this.Wrt=[],t},i.$rt=function(t){var n=t.nr;if(PF.cet(t.iet)){var i=t.iet>>3&1;0===n?this.Qrt=i:this.Yrt=i}var e="CC"+(n<<1|(n?this.Yrt:this.Qrt)+1),r=this.Grt.get(e);return 255===t.iet&&255===t.Hit||!t.iet&&!t.Hit||!this.tst(t.iet)||!this.tst(t.Hit)?(++this.qrt>=45&&this.nl(),null):(this.qrt=0,t.iet&=127,t.Hit&=127,t.iet||t.Hit?PF.cet(t.iet)?r.net(t):r.Kit(t.R6,t.iet,t.Hit):null)},i.Krt=function(t){var i=[];try{for(;t.Hrt();){var e=t.nrt().qn,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.nrt().qn;if(0!==r){if(!this.jrt.has(r)){var u=new qF(r);this.jrt.set(r,u)}for(var o=this.jrt.get(r),h=t.zrt();t.zrt()-h<s;){var a=o.trt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Tc&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.tst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),iH=function(t){function n(n,i){var e;return(e=t.call(this,"nst")||this).sit=n,e.Kg=i,e}return S(n,t),n}(ru),eH=function(t){function n(){var n;return(n=t.call(this)||this).ist=void 0,n.ist=new nH,n}S(n,t);var i=n.prototype;return i.est=function(t,n){this.ist.A2(t,n)},i.KN=function(){for(var t=this.ist.KN(),n=0;n<t.length;n++){var i=t[n];this.Fr(new iH(i.sit,i.Kg))}},i.nl=function(){this.ist.ds()},i.hv=function(){this.Wr(),this.ist.ds()},n}(iu),rH=wk.Om(.1),sH=function(t){function n(n){var i;return(i=t.call(this)||this).qZ=void 0,i.rst=[],i.qZ=n,i}S(n,t);var i=n.prototype;return i.sst=function(t,n,i){var e=this.ust(t),r=this.ost(e);this.hst(r,n,i),this.KN()},i.ust=function(t){if(0===t.length)return[];for(var n=t[0].H6,i=this.ast(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.H6&&(n=s.H6,i=this.ast(s)),e.push(Rr({},s,{cst:s.f1.Lg(i)}))}return e},i.ast=function(t){var n=this.qZ.L0(t.H6,t.f1),i=n.Hw(t.f1);return Ik(n,t.f1).Hw(i)},i.ost=function(t){var n,i,e,r,s,u=t.slice().sort(uH),o=this.rst;if(o.length)if(u.length){var h=1/u[0].H6.XZ,a=u[0].cst,c=o[0].cst,f=o[o.length-1].cst,v=(r=o[0].H6,s=u[0].H6,r.rZ===s.rZ);if(f.Hw(a).Lw(wk.Om(2.5*h))&&v)n=o.concat(u).sort(uH);else if(a.xw(c)){for(var d=0;d<o.length&&o[d].cst.Lw(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],e=u[w],i.f1.mw(e.f1)&&i.nr===e.nr&&i.l1===e._1?l=!0:_=!0;var m=l&&!_,y=l&&_;!l&&_?n=o.concat(u).sort(uH):m?n=o.slice(0,d).concat(u):(n=u,y&&this.nl())}else n=u,this.nl()}else n=o;else n=u;return n},i.hst=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Hw(e.cst),s=Ik(n,e.cst).Hw(r),u=n.Lg(s),o=rH.Rm(u.bm),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Hw(a.cst).Lw(o))return void(this.rst=t.slice(h));var c=this.qZ.L0(a.H6,a.f1);this.est(a,c.Nw())}this.rst=[]}},A(n,[{key:"xp",get:function(){return 4}}]),n}(eH);function uH(t,n){return(t.H6===n.H6?mk(t.f1,n.f1):mk(t.cst,n.cst))||Ss(t.wb,n.wb)}var oH=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).fst=!1,f.vst=!1,f.c4=void 0,f.b$=void 0,f.dst=void 0,f.Wtt=void 0,f.lst=void 0,f.G9=void 0,f.rh=void 0,f.jb=void 0,f._st=void 0,f.gst=!1,f.wst=void 0,f.mst=void 0,f.yst=!1,f.kst=!1,f.pst=null,f.EI=void 0,f.iJ=void 0,f.bst=void 0,f.Ast=null,f.nw=-1,f.Tst=null,f.Sst=!1,f.Est=!1,f.Rst=1/0,f.Ist=void 0,f.Nst=null,f.Dst=0,f.Cst=void 0,f.Ur=function(t){f.dispatchEvent(t)},f.xst=function(){!f.gst&&!f.yst&&f.Ost&&f.fst&&(f.yst=f.Pst("Lj",f.wst,function(){f.yst=!1}))},f.Bst=function(){!f.gst&&!f.kst&&f.Lst&&f.vst&&(f.kst=f.Pst("Mj",f.mst,function(){f.kst=!1}))},f.Mst=function(t){return f.Ust()},f.Fst=function(t){if(t.rp===f.rp){var n=t.H6,i=n.G2;i.K0&&f.Hst(i.K0,n.info),i.o1&&f.zst(i.o1,n.info),f.Ust(f.c4.w4,!0)}},f.GJ=function(t){var n=t;f.Vst(n.VZ,n.rZ)},f.Wst=function(t){if(1===t.sit){if(f.Ast)for(var n=0;n<f.Ast.xp;n++){var i="CC"+(n+1);f.b$.kJ(i,t.Kg.tw,t.Kg.nw)}f.b$.yJ(t.Kg)}},f.EI=a,f.b$=i,f.dst=e,f.Wtt=r,f.lst=s,f.G9=u,f.rh=o,f.c4=c,f.jb=new QU(o),f._st=f.Xst(i),r.$d(n,f.jb,f.G9),f.wst=new BU(u,f.jb),f.mst=new BU(u,f.jb),f.Ast=f.qst(f.jb),f.Cst=new fF(n,f.jb,f._st,r),r.addEventListener("F6",f.Fst),f.jb.addEventListener("ts",f.Ur),i.addEventListener("OJ",f.GJ),f}S(n,t);var i=n.prototype;return i.Pst=function(t,n,i){var e=this,r=this.G9.b4,s=5*this.G9.m_,u=this.Gst(),o="audio"===this.rp?[this.Qst]:this._st.Pj,h=n.a7(),a=h[0],c=h[1],f=this.Wtt.v5(this.rp,t,this.jb,o,a,c||void 0,r,s,u);return f&&!f.length&&f.K6?(this.G9.Yst("Lj"===t,"Mj"===t),!1):!(!f||!f.length)&&(this.lst.Z5(this.rp,this.b$,f,f.t5,f.h5,f.K6,function(t,r){if(i(),t)e.dispatchEvent({type:"ts",ts:t});else{var s=r;n.t7(s).then(function(){return e.dispatchEvent("C$")}).catch(function(t){0})}}),!0)},i.jst=function(){this.lst.Cr(this.rp),this.yst=!1,this.kst=!1},i.Zst=function(){var t=this.G9.b4,n=this.wst.s7(t)||this.mst.s7(t);!n||this.pst&&this.pst.lY===n.lY||(this.Ust(this.c4.w4),this.pst=n,this.dispatchEvent({type:"Jst",tA:this.pst.bs.Q2}))},i.$st=function(){this.Kst()},i.tut=function(){this.$st()},i.nut=function(){this.Ust(this.c4.w4)},i.iut=function(t,n){this.wst.s7(t)||this.mst.s7(t)||(this.pst=null)},i.eut=function(t){var n=!1;this.wst.h7().Mg(t)||(this.xst(),n=!0),this.mst.h7().Mg(t)||(this.Bst(),n=!0),n&&this.Ust(this.c4.w4,!0)},i.rut=function(){this.wst.ds()},i.sut=function(){this.mst.ds()},i.Gst=function(){return 0===this.wst.sl+this.mst.sl?0:"Q6"===this.rh.Y6?0:1*this.Wtt.m4},i.Kst=function(){this.xst(),this.Bst()},i.w$=function(t){return-1!==this._st.Pj.indexOf(t)},i.uut=function(t){t&&this.w$(t)&&(this.YZ(t),this.CJ(t))},i.YZ=function(t){this.jb.ntt(t,t.LY)},i.CJ=function(t){var n=this;if(t&&t.LY&&this.rh.hlsDateRange){this.b$.CJ(t.LY.dateRanges,function(i){return n.jb.ltt(t,i).Nw()})}},i.out=function(t){this.w$(t.rZ)&&this.jb.I7(t.rZ,t)},i.hut=function(t){var n,i,e,r=t,s=this.wst.s7(r)||this.mst.s7(r);if(s)i=s.bs.quality,e=s.lY,n=s.RR;else{var u=this.Qst;if(!u)return null;var o=this.jb.u5(u,wk.Om(r));if(!o)return null;i=u,e=o.dp.lY,n=o.dtt.Nw()}var h=this.jb.ftt(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i.ltt=function(t){var n=this.Qst;return this.jb.ltt(n,t).Nw()},i.Ust=function(t,n){var i=this,e=this.aut(),r=this.G9.b4;t&&(this.nw=r+t,n&&(this.Nst=null,this.Dst=0)),this.aut()||r>=this.nw?this.cut(e):this.Tst||this.Sst||!this.ll||(this.fut(),this.vut(function(t){return i.dut(r,i.G9.m_,t)}))},i.lut=function(t){t&&this.dst.removeEventListener(t.uri,this.Mst)},i._ut=function(t){t&&this.dst.addEventListener(t.uri,this.Mst)},i.aut=function(){return-1===this.nw},n.gut=function(t){return EP.D_(t.rZ.wZ)&&SR()-t.Qk>2e3*t.rZ.LY.metadata.H8},i.vut=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.Tst=new Fs,i=this.Tst,e.prev=3,e.next=6,Er.awrap(t(i.Pr));case 6:n=e.sent,Vs(i.Pr),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Xs(e.t0);case 13:return e.prev=13,this.Tst===i&&(this.Tst=null),e.finish(13);case 16:n&&this.Ust();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],ze)},i.fut=function(){this.Tst&&(this.Tst.Cr(),this.Tst=null)},i.wut=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ze)},i.mut=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!dH.gut(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("yut"));case 2:if(n=_.min(16e3,1e3*_.pow(2,this.Dst)),this.Dst+=1,this.fut(),!(this.Dst>2)){i.next=8;break}return t.rZ.uZ(!1),i.abrupt("return",t.rZ.cZ());case 8:this.vut(function(t){return $s(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,ze)},i.Hst=function(t,n){var i,e;e=GP((i=t).n1,4),i.mJ="0000.0000.0000."+e,function(t){var n=GP(t.i1,4),i=GP(t.e1,3),e=GP(t.s1,2*t.e1);t.El=(n+i+e).toUpperCase()}(t),LU(n,this.jb,t),this.b$.wJ(t,this.jb)},i.zst=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(Rr({},r,{H6:n}))}this.Ast&&this.Ast.sst(i,n.t4,n.K2)},i.kut=function(t){this.Ist&&this.Ist.H6===t&&this.Ust()},i.but=function(t,n){if(n){if(n.aborted)return;if(this.Nst===t)return this.mut(t)}else t.rZ.uZ(!0);return this.Ust()},i.Aut=function(t){var n=BP(t.rZ.VZ);n&&this.dispatchEvent(new dF(IP(t.uri),t.rZ.bandwidth||0,t.lY,t.rZ.lY,n))},i.Tut=function(t,n){var i=this.Ist&&this.Ist.Bf.XK||200,e=BP(t.rZ.VZ);e&&this.dispatchEvent(new lF(IP(t.uri),t.rZ.bandwidth||0,t.lY,t.rZ.lY,e,i,n&&n.WK.h0||0))},i.cut=function(t){this.nw=-1,t||this.dispatchEvent("Sut")},i.Eut=function(t){this.Est=!0,this.cut(t),this.dispatchEvent("Q$")},i.dut=function(t,n,i){var e,r,s,u,o,h,a=this;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(Vs(i),e=this.Qst,r=this.aut(),this.lut(e||void 0),!(t>=this.nw)){c.next=7;break}return this.cut(r),c.abrupt("return",!1);case 7:return c.next=9,Er.awrap(this.Cst._nt(t,this.nw,n,e||void 0,this.Gst(),this.Ist&&this.Ist.Bf,this.Ist&&this.Ist.H6,this.Rut,this.Iut));case 9:if(s=c.sent,em.Wl(this.Wtt.i6/8),Vs(i),s.wl!==$U.ztt){c.next=18;break}return this.fut(),this.dispatchEvent("yut"),c.abrupt("return",!1);case 18:if(s.wl!==$U.Htt){c.next=29;break}if(s.rZ!==e){c.next=24;break}return this._ut(e),c.abrupt("return",!1);case 24:return c.next=26,Er.awrap(this.wut(s.rZ,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.wl!==$U.P5){c.next=33;break}return this._ut(e||void 0),!EP.D_(e.wZ)&&e.LY&&this.Eut(r),c.abrupt("return",!1);case 33:if(u=s.dp,!this.Ist||this.Ist.H6!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.rZ===e){c.next=40;break}return c.next=39,Er.awrap(this.wut(u.rZ,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.Ist&&(this.Ist.Bf.Cr(),this.Ist=void 0),!(s.tw>this.Rst)){c.next=46;break}return this.Eut(r),c.abrupt("return",!1);case 46:if(!(s.tw>this.nw)){c.next=49;break}return this.cut(r),c.abrupt("return",!1);case 49:if(this.Est=!1,this.Ist=void 0,u!==this.Nst&&(this.Dst=0),this.Nst=u,this.dispatchEvent("G$"),this.Aut(u),!u.B8){c.next=59;break}return c.next=58,Er.awrap(this.Wtt.M6(this.rp,u.rZ,u.B8));case 58:o=c.sent;case 59:return(h=this.Wtt.U6(this.rp,u,o,function(t,n){a.fut(),a.Tut(u,n),a.Ist=void 0,i&&i.yr||a.but(u,t)}))&&(this.Ist={H6:u,Bf:h},h.addEventListener("C$",function(){i&&i.yr||a.kut(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,ze)},i.Nut=function(t){this.Ust(t||this.c4.w4,!0)},i.Dut=function(){var t=this.aut();this.nw=-1,this.Ist&&this.Ist.Bf.Cr(),this.Ist=void 0,this.lut(),this.Est=!1,this.Nst=null,this.Dst=0,this.fut(),this.cut(t),this.Ast=this.qst(this.jb)},i.Cut=function(){this.Sst=!0,this.lut(),this.fut()},i.xut=function(){this.Sst=!1,this.Ust()},i.Out=function(){this.gst=!0},i.Put=function(){this.gst=!1,this.Kst()},i.hv=function(){this.Wr(),this.Dut(),this.jst(),this.Ost=null,this.Lst=null,this.wst.hv(),this.mst.hv(),this.lst.Cr(this.rp),this.jb.hv(),this.b$.removeEventListener("OJ",this.GJ),this.Wtt.removeEventListener("F6",this.Fst),this._st=null,this.But()},i.nl=function(){this.pst=null,this.iJ=void 0,this.bst=void 0,this.But(),this.Ast=this.qst(this.jb)},i.qst=function(t){var n=new sH(t);return n.Hr("nst",this.Wst),n},i.But=function(){this.Ast&&(this.Ast.Xr("nst",this.Wst),this.Ast.hv(),this.Ast=null)},A(n,[{key:"v_",get:function(){return this.G9.b4}},{key:"Lut",get:function(){return this.fst}},{key:"rp",get:function(){return this.Mut()}},{key:"yZ",get:function(){return this.Uut()}},{key:"Rut",get:function(){return this.Fut()}},{key:"Iut",get:function(){return this.Hut()}},{key:"Ost",get:function(){return this.wst.r7},set:function(t){var n=this.wst.r7;n&&n.removeEventListener("updateend",this.xst),this.wst.r7=t,t&&(t.addEventListener("updateend",this.xst),this.xst())}},{key:"Lst",get:function(){return this.mst.r7},set:function(t){var n=this.mst.r7;n&&n.removeEventListener("updateend",this.Bst),this.mst.r7=t,t&&(t.addEventListener("updateend",this.Bst),this.Bst())}},{key:"Sut",get:function(){return this.aut()}},{key:"Q$",get:function(){return this.Est}},{key:"zut",get:function(){return this.Rst},set:function(t){this.Rst=t}},{key:"Qst",get:function(){return this.Vut()}},{key:"Wut",get:function(){return this.Xut()},set:function(t){this.qut(t)}},{key:"ll",get:function(){return this.Gut()}},{key:"Ng",get:function(){return this.Qut()}}]),n}(hP);function hH(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function aH(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){hH(e,n[s])&&(r=!0)}r||n.push(e)}return n}function cH(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var fH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).b$=void 0,o.jb=void 0,o.Wtt=void 0,o.rh=void 0,o.Yut=void 0,o.jut=void 0,o.Zut=null,o.Jut=null,o.$ut=null,o.Kut=null,o.tot=null,o.iot=null,o.eot=null,o.rot=!1,o.zg=!0,o.Gj=!0,o.sot=null,o.EI=void 0,o.uot=function(){o.sot&&o.sot.disabled&&o.oot(o.rh.initialRendition||"default"),o.hot(!0)},o.aot=function(){var t=o.b$.HJ.Bj.some(function(t){return t.Ng});o.cot(t)},o.fot=function(t){"variant"===t.rp&&(o.Wtt.removeEventListener("q6",o.fot),o.sot&&(o.sot=null,o.hot(!1)))},o.EI=u,o.b$=n,o.jb=i,o.Wtt=e,o.rh=r,o.Yut=r.vot||[],o.jut=new EU(r,kB.Rn.gK,s),o.Zut=null,o.Wtt.addEventListener("q6",o.fot),o.dot(),o.lot(),o.oot(r.initialRendition||"default"),o}S(n,t);var i=n.prototype;return i._ot=function(t,n){var i=xP(t);if(i&&!i.disabled)return i;var e=this.got(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.lY<=n.lY?t:n});case"high":var r=aH(e);return r[r.length-1];case"low":default:return aH(t)[0]}},i.wot=function(t,n){var i=this.mot||this.sot&&[this.sot],e=i&&i.filter(function(n){return Os(t,n)});return e&&e.length>0?aH(e):aH(this.got(t,n))},i.got=function(t,n){var i=this.rh,e=this.Yut,r=this.yot();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].kot(t,n,r,i))return!1}return!0})},i.pot=function(t,n){var i=this.wot(t,n);return i.length?i[i.length-1]:t[0]},i.bot=function(t,n){var i=this.mot;return i&&i.length>0?i.filter(function(n){return Os(t,n)}):t},i.Aot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.Kut,e=this.tot,!i||t!==this.iot||n!==this.eot){u.next=4;break}return u.abrupt("return",i);case 4:return r=new Fs,s=this.Tot(t,n,r.Pr),i&&e&&e.Cr(),this.Kut=s,this.tot=r,this.eot=n,u.prev=10,u.next=13,Er.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.Kut&&(this.Kut=null,this.tot=null,this.eot=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],ze)},i.Tot=function(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return e=this.b$,r=this.jb,s=e.FJ,h.next=5,Er.awrap(this.Sot(t,i));case 5:if(h.sent){h.next=8;break}return h.abrupt("return",!1);case 8:if(!n){h.next=14;break}if(u=r.Ott(s,n.lY),o=r.u5(t,u),EP.D_(s.wZ)||o){h.next=14;break}return t.disabled="isUnsynced",h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this,null,ze)},i.Sot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.Jut,e=this.$ut,!i||t!==this.iot){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new Fs).xr(n),s=this.Eot(t,r.Pr),i&&e&&e.Cr(),this.Jut=s,this.$ut=r,this.iot=t,u.prev=11,u.next=14,Er.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.Jut&&(this.Jut=null,this.$ut=null,this.iot=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],ze)},i.Eot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.b$,e=i.FJ,!this.ll||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.Rot(t)){u.next=8;break}r=t.LY,u.next=22;break;case 8:return u.prev=8,u.next=11,Er.awrap(this.jut.Yo(t.uri,{}));case 11:s=u.sent,Vs(n),r=s.P_,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.iZ(!1),t.cZ(),u.abrupt("return",!1);case 21:t.$j(r,e);case 22:if(!cH(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],ze)},i.Rot=function(t){var n=t.LY;return!n||!!n.live&&(!t.PY.sl||t.PY.mY(t.PY.sl-1).Qk+1e3*n.targetDuration<SR())},i.Wg=function(t){t?this.zg||(this.zg=!0,this.dispatchEvent("ll")):this.zg&&(this.zg=!1)},i.cot=function(t){t&&!this.Gj?(this.Gj=!0,this.dispatchEvent("Ng")):!t&&this.Gj&&(this.Gj=!1,this.dispatchEvent("lv"))},i.hot=function(t){var n=this,i=this.b$,e=i.FJ,r=i.HJ.Bj,s=this.bot(r,e),u=this.pot(s,e);u?this.Aot(u,null).then(function(e){e&&(i.pJ(u,t),n.Wg(!0))}):this.Wg(!1)},i.Iot=function(){this.sot=null,this.hot(!0)},i.lot=function(){this.b$.HJ.addEventListener("Cj",this.aot)},i.Not=function(){this.b$.HJ.removeEventListener("Cj",this.aot)},i.dot=function(){this.b$.HJ.addEventListener("Nj",this.uot)},i.Dot=function(){this.b$.HJ.removeEventListener("Nj",this.uot)},i.oot=function(t){var n=this.b$,i=n.HJ.Bj;if(Boolean(n.FJ&&!n.FJ.disabled))this.sot=null;else{if(i&&i.length){var e;switch(this.EI.rO.type){case AI.PERFORMANCE:e="low";break;case AI.QUALITY:e="high";break;case AI.BANDWIDTH:e=t}this.sot=this._ot(i,e),this.rot=!0}var r=this.bot(i,null),s=this.pot(r,null);s&&(n.FJ=s)}},i.yot=function(){return this.rot?{i6:this.Wtt.i6}:{i6:this.EI.lO}},i.Cr=function(){this.Kut&&this.tot&&(this.tot.Cr(),this.Kut=null,this.tot=null,this.eot=null),this.Jut&&this.$ut&&(this.$ut.Cr(),this.Jut=null,this.$ut=null,this.iot=null)},i.hv=function(){this.Wtt.removeEventListener("q6",this.fot),this.Dot(),this.Not(),this.Cr(),this.Zut=null,this.sot=null},i.Cot=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.b$,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,Er.awrap(this.Aot(t,n));case 5:return(e=r.sent)&&(i.FJ=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,ze)},A(n,[{key:"ll",get:function(){return this.zg}},{key:"Ng",get:function(){return this.Gj}},{key:"Iut",get:function(){var t=this.b$,n=t.FJ,i=this.bot(t.HJ.Bj,n);return this.wot(i,n)}},{key:"Rut",get:function(){return this.bot(this.b$.HJ.Bj,this.b$.FJ)}},{key:"mot",get:function(){return this.Zut},set:function(t){this.Zut=t,this.Iot()}}]),n}(hP),vH=function(){function t(t,n){this.Id=void 0,this.jb=void 0,this.xot=-1,this.Id=t,this.jb=n}return t.prototype.Zo=function(t){for(var n=t.PY,i=n.wY(this.xot),e=i<0?0:i+1;e<n.sl;e++){var r=n.mY(e);if(r.lY>this.xot){var s=this.jb.x0(r),u=this.jb.O0(r,s),o=new Jy(s.Nw(),u.Nw(),[].concat(r.vZ),!1,r.lY.toString());this.Id.AA(o),this.xot=r.lY}}},t}(),dH=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,TP.pj,n,i,e,r,s,u,o,h,a)||this).Oot=void 0,c.Pot=null,c.Bot=null,c.Oot=new fH(n,c.jb,e,u,o,h),c.Oot.addEventListener("ll",c.Ur),c.Oot.addEventListener("Ng",c.Ur),c.Oot.addEventListener("lv",c.Ur),u.manifestMetadataTrack&&(c.Pot=n.gJ("",c.jb,""),c.Bot=new vH(c.Pot,c.jb)),c.fst=!c.b$.IJ||!c.b$.IJ.uri,c.vst=Boolean(c.b$.FJ),c}S(n,t);var i=n.prototype;return i.Vst=function(t,n){if("Lj"===t){var i=n?n.uri:void 0;this.fst=!i}},i.Mut=function(){return TP.pj},i.Uut=function(){return this.Qst&&this.Qst.yZ||!1},i.Vut=function(){return this.b$.FJ},i.Fut=function(){return this.Oot.Rut},i.Hut=function(){return this.Oot.Iut},i.Xut=function(){var t=this.Oot.mot;return t&&t.map(function(t){return t._l})},i.qut=function(t){if(t&&t.length>0){var n=this._st.Pj.filter(function(n){return-1!==t.indexOf(n._l)});if(!(n.length>0))return void 0;this.Oot.mot=n}else this.Oot.mot=null},i.Gut=function(){return this.Oot.ll},i.Qut=function(){return this.Oot.Ng},i.wut=function(n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er.awrap(this.Oot.Cot(n,i));case 2:return e.abrupt("return",t.prototype.wut.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,ze)},i.Dut=function(){t.prototype.Dut.call(this),this.Oot.Cr()},i.YZ=function(n){t.prototype.YZ.call(this,n),this.Bot&&this.Bot.Zo(n)},i.hv=function(){t.prototype.hv.call(this),this.Oot.hv(),this.Oot.removeEventListener("Ng",this.Ur),this.Oot.removeEventListener("lv",this.Ur)},i.Xst=function(t){return t.HJ},i.Lot=function(){var t=this.v_,n=this.Lut?this.wst.u7(t):void 0,i=n?n.rZ:void 0,e=this.mst.u7(t),r=e?e.rZ:void 0,s=this.iJ;this.iJ=i;var u=this.bst;return this.bst=r,!s&&i?{PJ:s,Mot:i}:!u&&r?{PJ:u,Mot:r}:u&&r&&u._l!==r._l?{PJ:u,Mot:r}:void 0},n}(oH),lH=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,TP.Jf,n,i,e,r,s,u,o,h,a)||this).fst=!!c.b$.IJ&&!!c.b$.IJ.uri,c.vst=!1,c}S(n,t);var i=n.prototype;return i.Vst=function(t,n){if("Lj"===t){var i=n?n.uri:void 0;this.fst=!!i}},i.Mut=function(){return TP.Jf},i.Uut=function(){return this.Qst&&this.Qst.yZ||!1},i.Vut=function(){return this.b$.IJ},i.Fut=function(){var t=this.Vut();return t?[t]:[]},i.Hut=function(){return this.Fut()},i.Xst=function(t){return t.MZ},i.Xut=function(){return null},i.qut=function(t){},i.Gut=function(){return!0},i.Qut=function(){return!0},i.Lot=function(){var t=this.Lut?this.wst.u7(this.v_):void 0,n=t?t.rZ:void 0,i=this.iJ;return this.iJ=n||void 0,!i&&n?{PJ:i,Mot:n}:i&&n&&i._l!==n._l?{PJ:i,Mot:n}:void 0},n}(oH),_H=function(){function t(t,i,e,r,s,u){var o=this;this.Uot=!1,this.RY=void 0,this.Fot=void 0,this.l4=void 0,this.Hot=void 0,this.c4=void 0,this.Ps=US.dI(),this.zot=[],this.Vot=void 0,this.Wot=[],this.QZ=function(){return o.Xot()},this.qot=function(t){t.P_.live||o.Fot.removeEventListener(o.RY.uj,o.qot),o.RY.$j(t.P_)},this.Got=function(){o.RY.ZZ.Rl===Ww.bl?o.Uot&&o.Qot():o.Uot||o.Yot()},this.Th=function(t){if(!zs(t)){var i=t instanceof Kp?t:new Kp(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.RY.uj,0,t);o.RY.ZZ.Dl=xy.ERROR,o.RY.ZZ.Fr(new lb(i))}},this.RY=t,this.Fot=i,this.l4=e,this.c4=u,this.Hot=new RB(r,s),this.Vot=new Fs,t.ZZ.Hr(dw.Fd,this.Got),t.jb&&t.jb.addEventListener("JZ",this.QZ),this.Got()}var i=t.prototype;return i.Yot=function(){this.Uot||this.RY.ZZ.Rl===Ww.bl||(this.Fot.removeEventListener(this.RY.uj,this.qot),this.Fot.addEventListener(this.RY.uj,this.qot),this.Fot.D9(this.RY.uj),this.Fot.C9(this.RY.uj),this.Uot=!0,this.jot(this.Vot.Pr).catch(this.Th))},i.jot=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.next=4,Er.awrap(this.Zot(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,ze)},i.Zot=function(t){var n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g;return Er.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(n=this.l4.b4,i=this.c4.w4,e=new US([n,n+i]),(r=e.WR(this.Ps.XR())).sl){w.next=9;break}return w.next=8,Er.awrap($s(1e3,t));case 8:return w.abrupt("return");case 9:if(s=r.RR(0),u=this.Jot(s)){w.next=15;break}return w.next=14,Er.awrap(ow(this.RY,"eZ",t));case 14:return w.abrupt("return");case 15:return o=u.dp,h=u.dtt.Nw(),a=h+o.duration,w.prev=18,w.next=21,Er.awrap(this.Hot.y0("ZZ",o.uri,qc.On,m_.Ff,y_.On));case 21:c=w.sent,w.next=30;break;case 24:return w.prev=24,w.t0=w.catch(18),Ws(w.t0),w.next=29,Er.awrap($s(1e3,t));case 29:return w.abrupt("return");case 30:w.prev=30,f=Xk(c),w.next=37;break;case 34:throw w.prev=34,w.t1=w.catch(30),cb(Oy.WEBVTT,o.uri.toString(),0,w.t1);case 37:for(v=f.iy||{ey:wk.jw,sy:wk.jw},d=this.RY.PY.yY(o.lY),this.Ps=this.Ps.jR(new US([h,a])),this.zot.push(o.lY),l=0,_=f.Cl;l<_.length;l++)g=_[l],this.Wot.push({H6:d,dtt:gH(wk.Om(g.tw),v.sy,v.ey),$ot:gH(wk.Om(g.nw),v.sy,v.ey),Kg:g});this.Xot();case 43:case"end":return w.stop()}},null,this,[[18,24],[30,34]],ze)},i.Xot=function(){var t=this.RY.jb;if(this.Wot.length&&t){for(var n=[],i=0,e=this.Wot;i<e.length;i++){var r=e[i],s=t.L0(r.H6,r.dtt);if(s.zw())n.push(r);else{var u=t.L0(r.H6,r.$ot),o=r.Kg;o.tw=s.Nw(),o.nw=u.Nw(),this.RY.ZZ.AA(o)}}this.Wot=n,this.RY.ZZ.pH(this.l4.b4,!0)}},i.Jot=function(t){var n=this.RY.jb,i=this.RY.PY;if(n.utt)for(var e=n.wtt.Nw(),r=i.sl-1;r>=0;r-=1){var s=i.mY(r),u=e-s.duration;if(new US([u,e]).WE(t,.5)){var o={dp:s,dtt:wk.Om(u)};return this.Kot(i,o,r)}e=u}else for(var h=0,a=0;a<i.sl;a+=1){var c=i.mY(a),f=h+c.duration;if(new US([h,f]).WE(t,.5)){var v={dp:c,dtt:wk.Om(h)};return this.Kot(i,v,a)}h=f}},i.Kot=function(t,n,i){var e=n.dp;if(-1===this.zot.indexOf(e.lY))return n;for(var r=n.dtt.Nw()+e.duration,s=i+1;s<t.sl;s+=1){var u=t.mY(s);if(-1===this.zot.indexOf(u.lY))return{dp:u,dtt:wk.Om(r)};r+=u.duration}},i.Qot=function(){this.Uot=!1,this.Fot.N9(this.RY.uj),this.Vot.Cr(),this.Vot=new Fs},i.nl=function(){this.Qot(),this.Ps=US.dI(),this.zot.length=0,this.RY.ZZ.Xr(dw.Fd,this.Got),this.RY.jb&&this.RY.jb.removeEventListener("JZ",this.QZ),this.Fot.removeEventListener(this.RY.uj,this.qot)},t}();function gH(t,n,i){return Rk(i,t.Hw(n))}var wH=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rh=void 0,s.U$=void 0,s.Wtt=void 0,s.lst=void 0,s.b$=void 0,s.dst=void 0,s.tht=void 0,s.nht=NaN,s.iht=!1,s.eht=1/0,s.rht=1/0,s.sht=null,s.uht=!0,s.oht=!0,s.G9=null,s.mA=void 0,s.EI=void 0,s.hht=void 0,s.aht=void 0,s.cht=[],s.HF=function(){var t=s.b$.d_;m(t)||s.nht===t||(s.nht=t,s.dispatchEvent("durationchange"))},s.fht=function(){s.D$&&(s.b$.removeEventListener("renditionUpdated",s.fht),s.dispatchEvent("D$"))},s.vht=function(){s.Sut&&s.dispatchEvent("Sut")},s.dht=function(){s.Q$&&s.dispatchEvent("Q$")},s.Ur=function(t){s.dispatchEvent(t)},s._ht=function(t){var n=s.b$.AJ(t.E9);n?n instanceof HP&&(n.iZ(!1),n.cZ()):s.dispatchEvent(t)},s.ght=function(t){s.b$.P_||(t.ts.code===cP.tY?(s.sht||(s.sht=h(s.wht,Wb)),s.oht=!1,s.sZ()):s.dispatchEvent({type:"ts",ts:t.ts}))},s.mht=function(t){s.yht(),s.kht(t.P_),s.pht(),s.b$.removeEventListener("EJ",s.HF),s.b$.addEventListener("EJ",s.HF),s.HF(),s.iht||(s.iht=!0,s.dispatchEvent("loadedmetadata")),s.fht(),s.oht=!0,s.sZ()},s.wht=function(){s.yht();var t=s.Y$;t&&(s.dst.nl(),s.dst.Y$=t,s.dst.RR())},s.bht=function(){s.dst.x9()},s.Aht=function(){s.Tht.forEach(function(t){return t.Put()})},s.Sht=function(t){s.Eht.forEach(function(n){return n.uut(t.rZ)})},s.Rht=function(t){s.Tht.forEach(function(n){return n.out(t.V3)}),s.tht.H9(t.V3,s.Tht.map(function(t){return t.jb}))},s.sZ=function(){var t=s.uht,n=s.Qut();s.uht=n,n&&!t?s.dispatchEvent("Ng"):!n&&t&&s.dispatchEvent("lv")},s.EI=r,s.rh=n,s.U$=i,s.mA=e,s.Wtt=new pM(n,i,e,Yt(s)),s.lst=new uU(n),s.b$=new VP(n),s.dst=new IU(e,n),s.tht=new NU,s.dst.addEventListener("ts",s._ht),s.dst.addEventListener("S9",s.ght),s.dst.addEventListener("R9",s.mht),s.Wtt.addEventListener("F6",s.Ur),s.Wtt.addEventListener("ts",s.Ur),s.b$.addEventListener("OJ",s.Ur),s.b$.addEventListener("eZ",s.Sht),s.b$.addEventListener("tJ",s.Rht),s.b$.addEventListener("BJ",s.Ur),s.tht.addEventListener("B9",s.Ur),s.tht.addEventListener("B9",s.Aht),s.addEventListener("Ng",s.bht),s}S(n,t);var i=n.prototype;return i.Iht=function(t){t.zut=this.zut,t.addEventListener("Jst",this.Ur),t.addEventListener("Nht",this.Ur),t.addEventListener("ts",this.Ur),t.addEventListener("yut",this.Ur),t.addEventListener("G$",this.Ur),t.addEventListener("Sut",this.vht),t.addEventListener("Q$",this.dht),t.addEventListener("lv",this.sZ),t.addEventListener("Ng",this.sZ),t.addEventListener("ll",this.Ur),t.addEventListener("C$",this.Ur),t.addEventListener(Xc.Ca,this.Ur),t.addEventListener(Xc.Oa,this.Ur)},i.pht=function(){this.Dht();this.b$.HJ.Pj;var t=this.b$.MZ.Pj;this.hht=new dH(this.b$,this.dst,this.Wtt,this.lst,this.G9,this.rh,this.mA,this.EI,this),this.Iht(this.hht),t.length&&(this.aht=new lH(this.b$,this.dst,this.Wtt,this.lst,this.G9,this.rh,this.mA,this.EI,this),this.Iht(this.aht));for(var n=this.b$.zJ,i=this.hht.jb,e=0;e<n.length;e++){var r=n[e];r.jb=i,this.cht.push(new _H(r,this.dst,this.G9,this.mA,this.rh,this))}},i.Dht=function(){this.hht&&(this.hht.hv(),this.hht=void 0),this.aht&&(this.aht.hv(),this.aht=void 0),this.cht.forEach(function(t){return t.nl()}),this.cht.length=0,this.tht.nl()},i.Cht=function(t){this.Tht.forEach(function(n){return n.Nut(t)})},i.kht=function(t){this.b$.P_=t},i.xht=function(){this.dst.RR()},i.Oht=function(t){this.tht.z9(t,this.Tht.map(function(t){return t.jb}))||this.Tht.forEach(function(t){t.jst(),t.Out()})},i.Qot=function(){this.Wtt.L6(),this.Tht.forEach(function(t){return t.Dut()})},i.tK=function(){this.Wtt.L6(),this.Tht.forEach(function(t){return t.Cut()})},i.Z$=function(){this.Tht.forEach(function(t){return t.xut()})},i.hv=function(){this.Wr(),this.yht(),this.Dht(),this.Wtt.hv(),this.lst.hv(),this.b$.hv(),this.dst.nl(),this.tht.hv()},i.Pht=function(t,n,i,e){var r=this.hht,s=this.aht;t&&(r.Dut(),this.Wtt.ds(r.rp),r.Nut(e)),n&&s&&(s.Dut(),this.Wtt.ds(s.rp),i&&s.Nut(e))},i.Bht=function(){if(!this.hht)return xB;var t=this.hht;return KB(t.jb,this.Wtt.D4(t.rp))},i.I9=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.P_.live||e.dst.removeEventListener(s,t),i&&i.$j(n.P_)};s&&(this.dst.removeEventListener(s,u),this.dst.addEventListener(s,u)),this.dst.I9(r,s),this.dst.C9(s)},i.yht=function(){null!==this.sht&&a(this.sht),this.sht=null},i.Qut=function(){return!!this.oht&&(!this.hht||this.hht.Ng)},i.rK=function(t){this.hht&&(this.hht.Wut=t)},i.nl=function(){this.Eht.forEach(function(t){return t.nl()}),this.cht.forEach(function(t){return t.nl()})},A(n,[{key:"Lht",get:function(){return this.hht}},{key:"Mht",get:function(){return this.aht}},{key:"Tht",get:function(){var t=[];return this.hht&&t.push(this.hht),this.aht&&this.aht.Lut&&t.push(this.aht),t}},{key:"Eht",get:function(){return[this.hht,this.aht].filter(F)}},{key:"w4",get:function(){return Bt(this.EI.iO*this.Wtt.m4,1,this.Uht)}},{key:"Y$",get:function(){return this.dst.Y$},set:function(t){this.nht=NaN,this.eht=1/0,this.iht=!1,this.uht=!0,this.oht=!0,this.b$.removeEventListener("renditionUpdated",this.fht),this.b$.removeEventListener("EJ",this.HF),this.yht(),this.Dht(),this.Wtt.ds(),this.lst.Cr(),this.b$.hv(),this.b$.addEventListener("renditionUpdated",this.fht),this.dst.Y$=t,this.sZ()}},{key:"d_",get:function(){return this.nht}},{key:"utt",get:function(){return this.b$&&EP.D_(this.b$.wZ)}},{key:"Ng",get:function(){return this.uht}},{key:"D$",get:function(){var t=this.Tht;return t.length>0&&t.every(function(t){return t.yZ})}},{key:"m4",get:function(){return this.Wtt.m4},set:function(t){t>0&&(this.Wtt.m4=t)}},{key:"Sut",get:function(){return this.Tht.every(function(t){return t.Sut})}},{key:"Q$",get:function(){return this.Tht.length>0&&this.Tht.every(function(t){return t.Q$})}},{key:"Uht",get:function(){return this.rht},set:function(t){this.rht=t}},{key:"zut",get:function(){return this.eht},set:function(t){var n=this;this.eht=t,this.Eht.forEach(function(t){return t.zut=n.eht})}},{key:"xg",get:function(){return this.D$?new CB([{RR:this.gtt,NR:this.wtt}]):xB}},{key:"gtt",get:function(){if(!this.D$)return 0;for(var t=-1/0,n=0,i=this.Tht;n<i.length;n++){var e=i[n];t=_.max(t,e.jb.gtt.Nw())}return t}},{key:"wtt",get:function(){if(!this.D$)return 0;for(var t=1/0,n=0,i=this.Tht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb.wtt.Nw())}return t}},{key:"mtt",get:function(){if(!this.D$)return 0;for(var t=1/0,n=0,i=this.Tht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb.mtt.Nw())}return _.max(t,this.gtt)}},{key:"eK",get:function(){return this.hht&&this.hht.Wut||void 0}}]),n}(hP),mH=function(t){function n(n,i){var e;return(e=t.call(this)||this).rh=void 0,e.nht=NaN,e.iht=!1,e.b$=void 0,e.jb=void 0,e.Fht=void 0,e.sht=null,e.uht=!0,e.Pot=null,e.Bot=null,e.Ur=function(t){e.dispatchEvent(t)},e.kht=function(t){if(e.b$.P_||(e.b$.P_=e.Fht.UJ||null),!e.b$.FJ){var n=e.b$.HJ.Pj[0];n&&(e.b$.FJ=n,e.Fht.b9(n),e.dispatchEvent({type:"Hht",rZ:n}))}t.manifest.isMasterPlaylist||e.b$.FJ.$j(t.manifest),void 0!==t.manifest.duration&&e.nht!==t.manifest.duration&&(e.nht=t.manifest.duration,e.dispatchEvent("durationchange")),e.iht||(e.iht=!0,e.dispatchEvent("loadedmetadata")),e.cot(!0),e.dispatchEvent({type:"p9",manifest:t.manifest})},e.ght=function(t){t.ts.code===cP.tY?(e.sht||(e.sht=h(e.wht,Wb)),e.cot(!1)):e.dispatchEvent({type:"ts",ts:t.ts})},e.wht=function(){e.yht();var t=e.Y$;t&&e.Fht.RR(t)},e.yht=function(){a(e.sht),e.sht=null},e.Sht=function(t){var n=t.rZ;e.jb.ntt(n,n.LY),e.rh.manifestMetadataTrack&&(e.Bot||(e.Pot=e.b$.gJ("",e.jb,""),e.Bot=new vH(e.Pot,e.jb)),e.Bot.Zo(n))},e.rh=n,e.b$=new VP(n,!0),e.jb=new YU(n),e.Fht=new RU(i,e.rh),e.jb.addEventListener("ts",e.Ur),e.Fht.addEventListener("p9",e.kht),e.Fht.addEventListener("ts",function(t){e.b$.P_?(e.sht||(e.sht=h(e.wht,Wb)),e.cot(!1)):e.ght(t)}),e.b$.addEventListener("eZ",e.Sht),e}S(n,t);var i=n.prototype;return i.xht=function(){this.b$.P_||this.Fht.RR()},i.Bht=function(){return xB},i.cot=function(t){var n=this.uht;this.uht=t,t&&!n?this.dispatchEvent("Ng"):!t&&n&&this.dispatchEvent("lv")},i.hv=function(){this.Wr(),this.yht(),this.b$.hv(),this.Fht.hv(),this.Bot=null,this.jb.hv()},i.tK=function(){},i.Z$=function(){},i.Cht=function(t){},i.rK=function(t){},A(n,[{key:"Y$",get:function(){return this.Fht.Y$},set:function(t){this.nht=NaN,this.iht=!1,this.yht(),this.b$.hv(),this.Bot=null,this.Fht.Y$=t,this.cot(!0)}},{key:"d_",get:function(){return this.nht}},{key:"utt",get:function(){return this.b$&&EP.D_(this.b$.wZ)}},{key:"Ng",get:function(){return this.uht}},{key:"Q$",get:function(){return!1}},{key:"Sut",get:function(){return!1}},{key:"eK",get:function(){return[]}}]),n}(hP),yH=1e3,kH="VEE3",pH=function(t){function n(n){var i;return(i=t.call(this,"zht")||this).ptsOffset=n,i}return S(n,t),n}(ru),bH=function(t){function n(n){var i;return(i=t.call(this)||this).WJ=void 0,i.Vht=null,i.Wht=0,i.Xht="start",i.qht=1,i.Ght=!1,i.Qht=!1,i.Yht=0,i.jht=null,i.Zht=null,i.Jht=null,i.$ht=null,i.L9=0,i.Kht=0,i.tat=new Fs,i.nat=new Ro,i.iat=void 0,i.eat={},i.rat=!1,i.sat=null,i.uat=NaN,i.Zst=function(){i.WJ.Tht.map(function(t){t.Zst()})},i.Lot=function(){for(var t,n,e,r=0,s=i.WJ.Eht;r<s.length;r++){var u=s[r],o=u.Lot();if(o){var h=o.Mot;h&&h.VZ!==SP.Jf&&(i.sat=h)}u.rp===TP.Jf?t=o:u.rp===TP.pj&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"OJ",oat:t&&t.PJ,s$:t&&t.Mot,a$:n&&n.PJ,r$:n&&n.Mot,i$:!!e&&e.Lut})},i.$st=function(){null!==i.jht&&a(i.jht),i.jht=h(i.$st,yH),i.WJ.Tht.forEach(function(t){return t.$st()})},i.nut=function(){null!==i.Zht&&a(i.Zht),i.Ght&&(i.Zht=h(i.nut,yH),i.WJ.Tht.forEach(function(t){return t.nut()}))},i.tut=function(){i.WJ.Tht.forEach(function(t){return t.tut()})},i.hat=function(){if(i.WJ.utt&&i.m_>1){var t=i.WJ.mtt;i.aat>t&&(i.m_=1,i.aat>=t+1&&(i.aat="start"))}},i.fat=function(){i.Vht&&(0===i.Vht.vat()?i.aat="start":i.aat=i.dat(i.b4))},i.lat=function(){i.Yht=i.b4},i._at=function(t){i.gat(),i.Vht.error&&(t.error.info.code===kH&&i.Kht<Xb?(i.Kht+=1,i.wat()):i.dispatchEvent({type:"ts",error:t.error}))},i.mat=function(){i.Kht=0},i.yat=function(){i.removeEventListener("kat",i.pat),i.Ght?i.pat():i.addEventListener("kat",i.pat)},i.pat=function(){var t=i.b4;i.WJ.removeEventListener("D$",i.yat),i.WJ.D$?i.WJ.Tht.forEach(function(n){return n.eut(t)}):(i.WJ.addEventListener("D$",i.yat),i.WJ.xht())},i.bat=function(){var t=i.b4;i.WJ.Eht.forEach(function(n){return n.iut(t,i.WJ.utt)})},i.Aat=function(){null!==i.jht&&a(i.jht),i.jht=null,null!==i.Zht&&a(i.Zht),i.Zht=null},i.Tat=function(){i.Sat(),i.WJ.D$?i.j$():(i.WJ.addEventListener("D$",i.Tat),i.WJ.xht())},i.Sat=function(){i.WJ.removeEventListener("D$",i.Tat)},i.QJ=function(t){i.WJ.I9(t.VZ,t.PJ||void 0,t.rZ||void 0),t.BJ&&i.Eat(t.VZ,t.PJ,t.rZ)},i.Rat=function(t){var n=t.L9-i.L9;_.abs(n)>Vb&&(i.L9=t.L9,i.b4=i.b4+n)},i.Iat=function(t){var n=t.H6.metadata;n.zZ&&(i.eat[t.rp]=n.zZ,i.Nat())},i.Nat=function(){if(i.WJ.D$){var t=l.keys(i.eat).length===i.WJ.Tht.length;i.Vht&&!i.Vht.Dat&&!i.iat&&t&&i.Cat(),i.Vht&&i.L9&&(i.Vht.L9=i.L9)}},i.xat=function(){if(m(i.Oat))if(i.WJ.utt)i.Oat=0;else{var t=i.sat,n=t&&t.mZ,e=t&&F(n)&&!m(n)&&t.MY(n)||void 0;i.Oat=DP(e)?e.q3.Nw():NaN}i.x$&&(i.removeEventListener("OJ",i.xat),i.WJ.removeEventListener("F6",i.xat),i.dispatchEvent("x$",!0))},i.WJ=n,n.G9=Yt(i),i}S(n,t);var i=n.prototype;return i.wat=function(){this.WJ.utt?this.aat="start":(this.Yht+=.5,this.WJ.Tht.map(function(t){t.jst(),t.rut(),t.sut()}),this.aat=this.Yht),this.Nat(),this.Vht.play()},i.Pat=function(t){var n=this;this.Jht&&(this.WJ.removeEventListener("D$",this.Jht),this.Jht=null),this.WJ.D$?(this.Qht=!0,this.rat=!0,this.WJ.Oht(t),this.rat=!1):(this.Jht=function(){return n.Pat(t)},this.WJ.xht())},i.Bat=function(t){this.Lat(),this.WJ.utt&&(t="none"),"auto"===t&&this.Tat()},i.Mat=function(t){var n=this;this.Lat(),"none"!==t&&(this.WJ.D$?this.Bat(t):(this.$ht=function(){return n.Bat(t)},this.WJ.addEventListener("D$",this.$ht),this.WJ.xht()))},i.Lat=function(){this.Sat(),this.$ht&&(this.WJ.removeEventListener("D$",this.$ht),this.$ht=null)},i.j$=function(){this.Qht?this.WJ.Cht():(this.aat=this.Xht,this.WJ.Cht(22)),this.Ght||(this.Ght=!0,this.dispatchEvent("kat"))},i.Uat=function(){this.Vht&&(this.Vht.addEventListener("Fat",this.bat),this.Vht.addEventListener("seeking",this.yat),this.Vht.addEventListener("error",this._at),this.Vht.addEventListener("playing",this.mat)),this.WJ.addEventListener("OJ",this.QJ),this.WJ.addEventListener("yut",this.fat),this.WJ.addEventListener("D$",this.Nat),this.WJ.addEventListener("B9",this.Rat),this.WJ.addEventListener("ll",this.yat),this.nK()},i.Hat=function(){this.Vht&&(this.Vht.removeEventListener("Fat",this.bat),this.Vht.removeEventListener("seeking",this.yat),this.Vht.removeEventListener("error",this._at),this.Vht.removeEventListener("playing",this.mat)),this.WJ.removeEventListener("OJ",this.QJ),this.WJ.removeEventListener("yut",this.fat),this.WJ.removeEventListener("D$",this.Nat),this.WJ.removeEventListener("B9",this.Rat),this.WJ.removeEventListener("ll",this.yat),this.iK()},i.nK=function(){this.Vht&&(this.Vht.addEventListener("loadstart",this.Tat),this.Vht.addEventListener("timeupdate",this.Zst),this.Vht.addEventListener("playing",this.Lot),this.Vht.addEventListener("timeupdate",this.Lot),this.Vht.addEventListener("timeupdate",this.nut),this.Vht.addEventListener("timeupdate",this.$st),this.Vht.addEventListener("timeupdate",this.lat),this.Vht.addEventListener("timeupdate",this.hat),this.Vht.addEventListener("ended",this.Aat)),this.WJ.addEventListener("F6",this.Iat),this.WJ.addEventListener("F6",this.tut)},i.iK=function(){null!==this.jht&&a(this.jht),null!==this.Zht&&a(this.Zht),this.Vht&&(this.Vht.removeEventListener("loadstart",this.Tat),this.Vht.removeEventListener("timeupdate",this.Zst),this.Vht.removeEventListener("playing",this.Lot),this.Vht.removeEventListener("timeupdate",this.Lot),this.Vht.removeEventListener("timeupdate",this.nut),this.Vht.removeEventListener("timeupdate",this.$st),this.Vht.removeEventListener("timeupdate",this.lat),this.Vht.removeEventListener("timeupdate",this.hat),this.Vht.removeEventListener("ended",this.Aat)),this.WJ.removeEventListener("F6",this.Iat),this.WJ.removeEventListener("F6",this.tut)},i.t7=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.nat.Ss);case 2:return n=this.Vht.t7(t),this.Vht.loading&&(this.Vht.loaded=!0,this.Vht.loading=!1),i.next=6,Er.awrap(n);case 6:case"end":return i.stop()}},null,this,null,ze)},i.YU=function(t,n){this.zat.YU(t,n)},i.Yst=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.nat.Ss);case 3:return i.next=5,Er.awrap(this.Vht.Yst(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),zs(i.t0)||this.dispatchEvent({type:"ts",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],ze)},i.Cat=function(){var t=this,n=this.nat,i=this.Vat(this.iat,this.tat.Pr);this.iat=i,i.then(function(){t.iat===i&&(t.iat=void 0,n.Is())},function(e){t.iat===i&&(t.iat=void 0,n.Ns(e))})},i.Vat=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,Er.awrap(t.catch(Z));case 3:return Vs(n),u.next=6,Er.awrap(this.Vht.Cat(this.eat,this.WJ.d_,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.WJ.Eht;e<r.length;e++)s=r[e],i.Lj&&(s.Ost=i.Lj),i.Mj&&(s.Lst=i.Mj);case 10:case"end":return u.stop()}},null,this,null,ze)},i.gat=function(){this.tat.Cr(),this.tat=new Fs,this.iat=void 0,this.nat=new Ro},i.dat=function(t){var n=this.xg;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.hut=function(t){var n=this.WJ.Lht;return n?n.hut(t):null},i.ltt=function(t){var n=this.WJ.Lht;return n?n.ltt(t):NaN},i.Yo=function(t){var n=t||"none";this.Hat(),this.Uat(),this.Mat(n)},i.K$=function(){this.Lat()},i.hv=function(){this.Wr(),this.eat={},this.zat=null},i.nl=function(){this.gat(),this.Wat(),this.eat={},this.Wht=0,this.Yht=0,this.Xht="start",this.L9=0,this.qht=1,this.Ght=!1,this.Qht=!1,this.sat=null,this.WJ.nl()},i.Eat=function(t,n,i){if(n){this.dispatchEvent("O$"),this.iK();var e=!1,r=!1,s=!1;if("Mj"===t){r=!0;var u=this.WJ.Lht;u&&u.Lut&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Vht.BJ("audio"),r&&this.Vht.BJ("video"),this.WJ.Eht.forEach(function(t){t.jst(),e&&t.rut(),r&&t.sut()}),this.WJ.Pht(r,e,s,22),this.WJ.Eht.forEach(function(t){return t.Kst()}),this.nK()}},i.J_=function(){this.iK(),this.nK(),this.WJ.Z$()},i.Xat=function(t){var n=this.Oat||0;return this.XZ?t-n<0?0:_.round((t-n)*this.XZ-.5)||0:NaN},i.qat=function(t){var n=this.Oat||0;return this.XZ?n+(t+.5)/this.XZ:NaN},i.Wat=function(){this.Oat=NaN,this.removeEventListener("OJ",this.xat),this.addEventListener("OJ",this.xat),this.WJ.removeEventListener("F6",this.xat),this.WJ.addEventListener("F6",this.xat)},A(n,[{key:"zat",get:function(){return this.Vht},set:function(t){this.Hat(),this.gat(),this.mat(),this.Vht=t,this.Nat()}},{key:"b4",get:function(){return this.Vht&&!this.rat?this.Vht.vat():this.Wht},set:function(t){t=this.dat(t),this.Yht=this.Wht=t,this.Vht?this.Vht.Gat(t):(this.bat(),this.yat())}},{key:"aat",get:function(){return this.Vht&&!this.rat?this.b4:this.Xht},set:function(t){"start"===t&&(t=this.WJ.utt?1/0:0),t=this.dat(t),this.Xht=t,this.Yht=this.Wht=t,this.Pat(wk.Om(this.Wht)),this.b4=t}},{key:"nw",get:function(){return this.WJ.zut},set:function(t){this.WJ.zut=t}},{key:"m_",get:function(){return this.Vht?this.Vht.m_:this.qht},set:function(t){var n=this.qht;t>0&&(this.qht=t,this.Vht&&(this.Vht.m_=t),this.WJ.m4=t,this.qht!==n&&this.dispatchEvent("Qat"))}},{key:"xg",get:function(){var t=this.WJ.xg;if(!t.length||!this.WJ.utt)return t;var n=t.start(0),i=this.WJ.mtt;return i=_.max(this.b4,i),new CB([{RR:n,NR:i}])}},{key:"kg",get:function(){return this.hut(this.b4)}},{key:"XZ",get:function(){var t=this.sat;return t&&t.XZ||NaN}},{key:"Oat",get:function(){return this.uat},set:function(t){this.uat!==t&&(this.dispatchEvent(new pH(t)),this.uat=t)}},{key:"x$",get:function(){return Boolean(this.XZ)&&!m(this.Oat)}}]),n}(hP),AH=function(t){function n(n){var i;return(i=t.call(this)||this).Yat=null,i.b$=void 0,i.jat=[],i.Zat=function(t){return i.Jat(t)},i.$at=function(){return i.Kat()},i.b$=n,i.jat=[],i}S(n,t);var i=n.prototype;return i.pA=function(t){var n,i;"metadata"===t.kind&&(t.mode=Ww.Al,n=this.b$.lJ(t.id,t.inBandMetadataTrackDispatchType),i=this.tct.bind(this,n),this.jat.push({nct:t,ict:i,ZZ:n}),t.addEventListener("cuechange",i))},i.dO=function(){for(var t=this.Yat.j_,n=t&&t.length,i=0;i<n;i+=1)this.pA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Zat),t.addEventListener("change",this.$at))},i.tct=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=JC(i[s].value),o=new ux(r,u);t.AA(o)}},i.Kat=function(){for(var t=0,n=this.jat;t<n.length;t++){var i=n[t].nct;i.mode!==Ww.Al&&(i.mode=Ww.Al)}},i.Jat=function(t){this.pA(t.track)},i.ect=function(){for(var t=this.Yat,n=t&&t.j_,i=0,e=this.jat;i<e.length;i++){var r=e[i];r.nct.removeEventListener("cuechange",r.ict)}this.jat.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Zat),n.removeEventListener("change",this.$at))},i.hv=function(){this.ect(),this.Yat=null,this.b$=null,this.Zat=null,this.$at=null},i.nl=function(){this.ect(),this.Yat&&this.dO()},n}(hP),TH=function(t){function n(n){var i;return(i=t.call(this)||this).WJ=void 0,i.rct=void 0,i.Vht=null,i.Xht="start",i.qht=1,i.lv=!1,i.sct=null,i.uct=null,i.hct=NaN,i.act=NaN,i.cct=null,i.fct=function(){i.Vht.removeEventListener("loadstart",i.fct),i.Vht.removeEventListener("play",i.fct),i.WJ.xht()},i.Zst=function(){var t=i.WJ.b$.FJ;if(t&&(!i.sct||i.sct.RR>i.b4||i.sct.NR<i.b4)){var n=i.WJ.jb.u5(t,wk.Om(i.b4));if(!n)return void i.Vht.addEventListener("timeupdate",i.Zst);i.sct={RR:n.dtt.Nw(),NR:n.dtt.Lg(wk.Om(n.dp.duration)).Nw(),lY:n.dp.lY,dZ:null},i.dispatchEvent({type:"Jst",tA:n.dp})}},i.Lot=function(){var t=i.WJ.b$,n=t.HJ.Pj.length?t.HJ.Pj:t.MZ.Pj,e=i.Vht.p_,r=i.Vht.k_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.uct&&(i.uct=u,i.dispatchEvent({type:"OJ",rZ:u}))},i.vct=function(t){i.dispatchEvent({type:"OJ",rZ:t.rZ})},i.dct=function(){if(i.Vht){var t=i.Vht.xg,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.act&&(i.act=n,i.hct=SR())}},i.lct=function(){i.lv=!0},i._ct=function(){i.lv&&(i.lv=!1,i.gct())},i.WJ=n,i.rct=new AH(n.b$),n.addEventListener("lv",i.lct),n.addEventListener("Ng",i._ct),i}S(n,t);var i=n.prototype;return i.dat=function(t){var n=this.Vht.xg;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.gct=function(){if(this.Vht){var t=this.Vht.currentTime,n=this.Vht.paused;this.Vht.load(),this.Vht.currentTime=t,n||this.Vht.play()}},i.wct=function(){this.Vht&&(this.Vht.addEventListener("loadstart",this.fct),this.Vht.addEventListener("play",this.fct),this.Vht.addEventListener("timeupdate",this.Zst),this.Vht.addEventListener("timeupdate",this.Lot),f(this.cct),this.cct=c(this.dct,250))},i.mct=function(){f(this.cct),this.Vht&&(this.Vht.removeEventListener("loadstart",this.fct),this.Vht.removeEventListener("play",this.fct),this.Vht.removeEventListener("timeupdate",this.Zst),this.Vht.removeEventListener("timeupdate",this.Lot))},i.Yo=function(t){t=t||"none",this.mct(),this.wct(),this.WJ.removeEventListener("Hht",this.vct),this.WJ.addEventListener("Hht",this.vct),"none"!==t&&this.fct()},i.hv=function(){this.Wr(),this.rct.hv(),this.zat=null,this.WJ.removeEventListener("Hht",this.vct)},i.nl=function(){this.Xht="start",this.qht=1,this.lv=!1,this.sct=null,this.uct=null,this.hct=NaN,this.act=NaN,f(this.cct),this.rct.nl()},i.J_=function(){},i.K$=function(){},i.Eat=function(){},i.ltt=function(t){var n=this.WJ.b$.FJ;return this.WJ.jb.ltt(n,t).Nw()},i.hut=function(t){var n,i,e=this.WJ.b$.FJ,r=this.WJ.jb,s=t,u=this.sct;if(u)u.dZ||(u.dZ=r.ftt(e,u.lY)),n=u.RR,i=u.dZ;else{var o=r.u5(e,wk.Om(s));if(!o)return null;n=o.dtt.Nw(),i=r.ftt(e,o.dp.lY)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Xat=function(t){return NaN},i.qat=function(t){return NaN},A(n,[{key:"yct",get:function(){return null}},{key:"kg",get:function(){return this.hut(this.b4)}},{key:"zat",get:function(){return this.Vht},set:function(t){this.mct(),this.Vht=t,this.Vht&&(this.rct.Yat=this.Vht,this.rct.dO())}},{key:"aat",get:function(){return this.Vht?this.Vht.vat():this.Xht},set:function(t){"start"===t&&(t=this.WJ.utt?1/0:0),t=this.dat(t),this.Xht=t,this.Vht&&this.Vht.Gat(t)}},{key:"b4",get:function(){return this.aat},set:function(t){t=this.dat(t),this.aat=t}},{key:"nw",get:function(){return 1/0},set:function(t){}},{key:"m_",get:function(){return this.Vht?this.Vht.m_:this.qht},set:function(t){t>0&&(this.qht=t,this.Vht&&(this.Vht.m_=t))}},{key:"xg",get:function(){var t,n,i,e=this.Vht?this.Vht.xg:null,r=this.WJ.jb.xg;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.act||e.end(e.length-1))+this.WJ.jb.ytt.Nw(),isFinite(this.hct)&&(i+=(SR()-this.hct)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.WJ.jb.mtt.Nw()}return i=_.min(n,i),i=_.max(this.b4,i),new CB([{RR:t,NR:i}])}},{key:"XZ",get:function(){return NaN}},{key:"Oat",get:function(){return NaN}},{key:"x$",get:function(){return!1}}]),n}(hP),SH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).kct=new Fs,o.pct=void 0,o.mA=void 0,o.bct=function(){return o.Act()},o.nr=Oy.WEBVTT,o.Dl=xy.NONE,o.Ol=S_(s),o.Hr(dw.Fd,o.bct),o.mA=u,o}S(n,t);var i=n.prototype;return i.Yo=function(){this.Ol&&!this.pct&&(this.pct=this.nd(this.kct.Pr),this.pct.catch(Xs))},i.nd=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.Ol,s.prev=1,this.Dl=xy.LOADING,i=new p_({Mf:n,tv:g_.GET,xf:qc.On,Pr:t}),s.next=6,Er.awrap(this.mA.Bf(i));case 6:return e=s.sent,s.next=9,Er.awrap(e.ai());case 9:r=s.sent,this.i0(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),Ws(s.t0),this.aE(ab(s.t0,this.Ol));case 17:case"end":return s.stop()}},null,this,[[1,13]],ze)},i.K$=function(){this.Dl!==xy.LOADED&&(this.Dl=xy.NONE,this.kct.Cr(),this.kct=new Fs,this.pct=void 0)},i.aE=function(t){this.Dl=xy.ERROR,this.Fr(new qm(t))},i.hv=function(){this.K$(),this.kct.Sr(),t.prototype.hv.call(this)},i.Act=function(){switch(this.Rl){case Ww.Tl:case Ww.Al:this.Yo();break;case Ww.bl:this.K$()}},i.i0=function(t,n){try{for(var i=Xk(n).Cl,e=0;e<i.length;e++){var r=i[e];this.AA(r)}this.Dl=xy.LOADED}catch(n){this.aE(cb(this.nr,this.Ol,t.Df,n))}},n}(iC);function EH(t){return Jp(t.kind)}var RH=function(){function t(t,n,i,e){this.Tct=void 0,this.j_=void 0,this.Sct=void 0,this.mA=void 0,this.Tct=t,this.j_=i,this.Sct=n,this.mA=e,this.nl()}var n=t.prototype;return n.Ect=function(t){if(this.Rct(),t)if(this.Sct)for(var n=0;n<t.length;n++){var i=t[n];this.BE(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Ict(r)}},n.BE=function(t){var n=EH(t);if(ub(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Tct.appendChild(i)}},n.Ict=function(t){var n=EH(t),i=new SH(n,t.id,t.label,t.srclang,t.src,this.mA);t.default&&(i.Rl=Ww.Tl),this.j_.$d(i)},n.Rct=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Nct&&this.j_.Kd(i)}},n.Dct=function(){this.Rct()},n.nl=function(){this.Rct()},t}(),IH=function(){function t(t){this.L$=void 0,this.L$=t}var n=t.prototype;return n.Hr=function(t,n){this.L$.addEventListener(t,n)},n.Xr=function(t,n){this.L$.removeEventListener(t,n)},A(t,[{key:"v_",get:function(){return this.L$.currentTime}},{key:"w_",get:function(){return this.L$.paused}},{key:"y_",get:function(){return this.L$.seeking}}]),t}(),NH=function(t){function n(n,i){var e;(e=t.call(this)||this).Cct=void 0,e.j_=void 0,e.xct=void 0,e.Oct=void 0,e.Vht=void 0,e.Pct=!0,e.Bct=function(t){return e.Lct(t)},e.Mct=function(){return e.Uct()},e.Fct=function(){return e.Hct()},e.zct=function(){return e.Vct()},e.Zat=function(t){return e.Jat(t.Id)},e.Wct=function(t){return e.Xct(t.Id)},e.qct=function(){return e.Gct()},e.Cct=n,e.j_=i,e.Cct.addEventListener("seeking",e.qct),e.Cct.addEventListener("seeked",e.qct),e.xct=new sx(new IH(n));for(var r=0,s=e.j_.il;r<s.length;r++){var u=s[r];e.Jat(u)}return e.j_.Hr(aw.pd,e.Zat),e.j_.Hr(aw.Ad,e.Wct),e}S(n,t);var i=n.prototype;return i.Lct=function(t){this.j_.$d(t.Id)},i.Uct=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Nct&&this.j_.Kd(i)}},i.Hct=function(){var t=this.zat,n=[],i=t&&t.j_;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.JV(r);s=new KC(r,u,this.jH),r.THEOplayerTextTrack=s,this.j_.$d(s)}n.push(s)}}for(var o=0,h=this.j_.il;o<h.length;o++){var a=h[o];tx(a)&&-1===n.indexOf(a)&&this.j_.Kd(a)}},i.JV=function(t){for(var n=this.zat.pg.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.Vct=function(){for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];tx(i)&&i.ZH()}},i.Gct=function(){this.Qct()},i.Jat=function(t){t instanceof iC&&this.xct.$d(t)},i.Xct=function(t){t instanceof iC&&this.xct.Kd(t)},i.Qct=function(){var t=this.j_.il;if(t.length)for(var n=this.Cct.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof iC){for(var s=[],u=0,o=r.Cl.il;u<o.length;u++){var h=o[u];if(!(h.nw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.cA(c)}}}},i.hv=function(){this.Cct.removeEventListener("seeking",this.qct),this.Cct.removeEventListener("seeked",this.qct);for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];this.Xct(i)}this.j_.Xr(aw.pd,this.Zat),this.j_.Xr(aw.Ad,this.Wct),this.xct.hv(),this.b$=null,this.zat=null},A(n,[{key:"b$",get:function(){return this.Oct},set:function(t){var n=this.Oct;if(n){for(var i=0,e=n.j_;i<e.length;i++){var r=e[i];this.j_.Kd(r)}n.removeEventListener("_J",this.Bct),n.removeEventListener("hv",this.Mct)}if(this.Oct=t,t){for(var s=0,u=t.j_;s<u.length;s++){var o=u[s];this.j_.$d(o)}t.addEventListener("_J",this.Bct),t.addEventListener("hv",this.Mct)}}},{key:"zat",get:function(){return this.Vht},set:function(t){var n=this.Vht;n&&n.j_&&n.j_.removeEventListener&&(n.j_.removeEventListener("addtrack",this.Fct),n.j_.removeEventListener("removetrack",this.Fct),n.j_.removeEventListener("change",this.zct)),this.Vht=t,t&&t.j_&&t.j_.addEventListener&&(t.j_.addEventListener("addtrack",this.Fct),t.j_.addEventListener("removetrack",this.Fct),t.j_.addEventListener("change",this.zct)),this.Hct(),this.Vct()}},{key:"jH",get:function(){return this.Pct},set:function(t){if(this.Pct!==t){this.Pct=t;for(var n=0,i=this.j_.il;n<i.length;n++){var e=i[n];tx(e)&&(e.jH=t)}}}}]),n}(hP),DH=function(){function t(t,n){this.sv=void 0,this.kd=void 0,this.Yct=[],this.jct=new Gc,this.Zct=Nr(),this.Jct=new Fs,this.sv=!(!t||t.crossOrigin!==sm.$l&&!t.$ct),this.kd=n}var n=t.prototype;return n.Kct=function(t,n){var e,r,s,u,o,h,a,c,f;return Er.async(function(d){for(;;)switch(d.prev=d.next){case 0:for(e=i.Ce(t),r=0,s=this.Yct;r<s.length;r++)null===(u=s[r]).qn||void 0===u.qn?e.searchParams.delete(u.tft):e.searchParams.set(u.tft,u.qn);return d.prev=2,o=new p_({Mf:e.href,xf:qc.za,Cf:this.jct,sv:this.sv,tv:g_.GET,Pr:n,nr:w_.Vf,ev:m_.Zf}),d.next=6,Er.awrap(this.kd.Bf(o));case 6:return h=d.sent,d.next=9,Er.awrap(h.ai());case 9:return a=d.sent,c=new y(a),f=new y(16),16!==c.length&&ut("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Ao(c,0,16)),f.set(c,16-c.length),d.abrupt("return",f);case 19:throw d.prev=19,d.t0=d.catch(2),Ws(d.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return d.stop()}},null,this,[[2,19]],ze)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return ze.reject(new fP(cP.uY,{code:"CAD1603"}));var i=this.Zct.get(n);return i||(i=this.Kct(n,this.Jct.Pr),this.Zct.set(n,i)),i},n.hv=function(){this.Jct.Cr(),this.Zct.clear()},n.nft=function(t,n){this.Yct.push({tft:t,qn:n})},n.ift=function(t,n){this.jct.append(t,n)},t}(),CH=function(t){this.Cct=void 0,this.Cct=t},xH=s.createElement("video");var OH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kot=function(t){return!!function(t){return xH.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(CH);aP.Rn.hL("AvoidUnsupportedCodecsRule",OH);var PH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kot=function(t,n,i,e){return!("H5"===e.Y6)||t.bandwidth<2e6},n}(CH);aP.Rn.hL("AvoidHighBitrateStreamsRule",PH);var BH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.eft=function(t){if(!t.resolution)return!0;var n=this.Cct.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=_.max(0,_.min(n.right,e)-_.max(0,n.left)),h=_.max(0,_.min(n.bottom,u)-_.max(0,n.top)),a=i.Pe.Zi;return t.resolution.width<=o*a&&t.resolution.height<=h*a},e.kot=function(t){return this.eft(t)},n}(CH);aP.Rn.hL("AvoidVideoResolutionGreaterThanDisplaySizeRule",BH);var LH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kot=function(t,n,i){if(i.i6<=0)return!1;var e=i&&.8*i.i6;return!(e&&!m(e)&&t.bandwidth)||e>t.bandwidth*this.Cct.playbackRate},n}(CH);aP.Rn.hL("DownloadMetricRule",LH);var MH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kot=function(t){return!0},n}(CH);aP.Rn.hL("LimitVideoQualityToDisplaySizeRule",MH);var UH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kot=function(t,n){return!n||(n.VZ===SP.Ff||t.VZ===SP.Ff||(n.VZ===SP.vj||t.VZ===SP.vj||n.VZ===t.VZ))},n}(CH);function FH(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function HH(t,n){var i=n;for(var e in t)X(t[e])?(i[e]=i[e]||{},HH(t[e],i[e])):M.call(i,e)||(i[e]=t[e]);return i}function zH(t,n){var i=HH(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case sm.Jl:case sm.$l:break;default:n=sm.Zl}return t&&t.withCredentials&&(n=sm.$l),t&&t.vr&&t.vr[360]&&n===sm.Zl&&(n=sm.Jl),n}(i),i}function VH(t){Q(t)&&t.then(Z,Z)}aP.Rn.hL("OnlyAllowSameTrackTypeRenditionsRule",UH);var WH,XH=500,qH=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],GH=function(t){function n(n,i){var e;return(e=t.call(this)||this).rft=void 0,e.JS=void 0,e.sft=void 0,e.KS=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.Qz=function(){var t=e.JS.TE.error&&e.JS.TE.error.code;t&&e.aE(new fP(cP.eY,{code:"VEE"+t}))},e.uft=function(t){e.dispatchEvent({type:t.type,error:e.JS.TE.error})},e.oft=function(){a(e.sft),e.sft=void 0,e.JS.TE.removeEventListener("timeupdate",e.oft),e.JS.Xr(Em.f_,e.oft)},e.hft=function(){void 0!==e.sft&&e.oft(),e.sft=h(function(){e.JS.TE.currentTime+=.1,e.oft()},XH),e.JS.TE.addEventListener("timeupdate",e.oft),e.JS.Hr(Em.f_,e.oft)},e.aft=function(){switch(e.JS.TE.readyState){case am.e_:case am.r_:case am.s_:e.hft();break;case am.i_:case am.n_:}},e.rft=n,e.JS=i,e}S(n,t);var i=n.prototype;return i.setup=function(){this.dJ(),this.JS.TE.parentNode!==this.rft&&this.rft.appendChild(this.JS.TE),this.loaded=!1,this.JS.TE.preload="metadata",this.JS.TE.addEventListener("play",this.aft),this.JS.TE.addEventListener("loadeddata",this.aft),this.dispatchEvent("cft")},i.dJ=function(){for(var t=0;t<qH.length;t++){var n=qH[t];this.JS.TE.addEventListener(n,this.uft,!0)}this.JS.TE.addEventListener("error",this.Qz,!0),this.JS.Hr(Em.zd,this.uft),this.JS.Hr(Em.f_,this.uft)},i.fft=function(){for(var t=0;t<qH.length;t++){var n=qH[t];this.JS.TE.removeEventListener(n,this.uft,!0)}this.JS.TE.removeEventListener("error",this.Qz,!0),this.JS.Xr(Em.zd,this.uft),this.JS.Xr(Em.f_,this.uft)},i.aE=function(t){this.KS=t,this.dispatchEvent({type:"error",error:t})},i.t7=function(){return ze.resolve()},i.load=function(){this.JS.TE.load(),this.loaded=!0},i.unload=function(){return this.oft(),this.Wr(),this.fft(),this.JS.TE.removeEventListener("play",this.aft),this.JS.TE.removeEventListener("loadeddata",this.aft),er(this.JS.TE),this.JS.TE},i.play=function(){var t=this.m_;VH(this.JS.TE.play()),this.m_=t},i.pause=function(){this.JS.TE.pause()},i.tg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Gat(0)}catch(t){}this.dispatchEvent("reset")},i.fg=function(){return this.JS.TE},i.vat=function(){return this.JS.TE.currentTime},i.Gat=function(t){this.JS.TE.currentTime=t},i.canPlayCodecs=function(t){return this.JS.TE.canPlayType('video/mp4; codecs="'+t+'"')},A(n,[{key:"Dat",get:function(){return!0}},{key:"pg",get:function(){return this.JS.TE}},{key:"yg",get:function(){return this.JS.TE.buffered}},{key:"b_",get:function(){return this.JS.TE.volume},set:function(t){this.JS.TE.volume=t}},{key:"duration",get:function(){return this.JS.TE.duration}},{key:"muted",get:function(){return this.JS.TE.muted},set:function(t){this.JS.TE.muted=t}},{key:"paused",get:function(){return this.JS.TE.paused}},{key:"played",get:function(){return this.JS.TE.played}},{key:"poster",get:function(){return this.JS.TE.poster},set:function(t){t?this.JS.TE.poster=t:this.JS.TE.removeAttribute("poster")}},{key:"controls",get:function(){return this.JS.TE.controls},set:function(t){t?this.JS.TE.controls=t:this.JS.TE.removeAttribute("controls")}},{key:"ended",get:function(){return this.JS.TE.ended}},{key:"seeking",get:function(){return this.JS.TE.seeking}},{key:"error",get:function(){return this.JS.TE.error}},{key:"width",get:function(){return this.JS.TE.offsetWidth}},{key:"height",get:function(){return this.JS.TE.offsetHeight}},{key:"src",get:function(){return this.JS.TE.src},set:function(t){this.JS.TE.src=t}},{key:"p_",get:function(){return this.JS.TE.videoWidth}},{key:"k_",get:function(){return this.JS.TE.videoHeight}},{key:"j_",get:function(){return this.JS.TE.textTracks}},{key:"utt",get:function(){return this.JS.TE.duration===1/0}},{key:"xg",get:function(){var t=this.JS.TE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.vat()||0),new CB([{RR:n,NR:i}])}},{key:"m_",get:function(){return this.JS.TE.playbackRate},set:function(t){t>0&&(this.JS.TE.playbackRate=t)}},{key:"Dl",get:function(){return this.JS.Dl}},{key:"vft",get:function(){return void 0!==this.JS.TE.webkitSupportsPresentationMode&&this.JS.TE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"dft",get:function(){return"picture-in-picture"===this.JS.TE.webkitPresentationMode}},{key:"lft",get:function(){return this.JS.TE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.JS.TE.webkitSetPresentationMode(t)}}]),n}(hP);!function(t){t[t._ft=0]="_ft",t[t.gft=1]="gft",t[t.OG=2]="OG",t[t.wft=3]="wft",t[t.mft=4]="mft"}(WH||(WH={}));var QH=function(){function t(){this.yft=!1,this.kft=null,this.pft=null,this.bft=null,this.zB=[],this.Aft=null}var n=t.prototype;return n.Tft=function(){if(!this.yft)return!1;for(var t=this.kft,n=this.pft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Sft=function(t){switch(t.nr){case WH._ft:return this.Eft(t.ai,t.dtt,t.kC);case WH.gft:return this.Rft(t.Ift);case WH.OG:return this.Nft(t.Dft,t.Cft);case WH.wft:return this.VB();case WH.mft:return this.xft(t.kC)}},n.Eft=function(t,n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.pft,m(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,Er.awrap(this.Oft());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],ze)},n.Rft=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.pft,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=_.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,Er.awrap(this.Oft());case 11:case"end":return u.stop()}},null,this,null,ze)},n.Nft=function(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this.pft,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=_.max(e.start(0),t),u=_.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,Er.awrap(this.Oft());case 12:case"end":return o.stop()}},null,this,null,ze)},n.VB=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.kft,n=this.pft,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,Er.awrap(ow(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],ze)},n.xft=function(t){return ze.resolve(t())},n.Pft=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.LF(t)){n.next=5;break}return n.next=3,Er.awrap($s(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,ze)},n.LF=function(t){var n=this.kft;if(!n.open||"open"!==n.readyState||!this.Tft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Oft=function(){var t=this;return new ze(function(n,i){var e,r=t.pft,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.Bft=function(){var t=this;this.bft||(0!==this.zB.length||this.Aft)&&this.Tft()&&(this.bft=this.Lft().then(function(){t.bft=null}))},n.Lft=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.zB.length>0)){n.next=9;break}if(this.Tft()){n.next=4;break}return n.abrupt("return");case 4:return t=this.zB.shift(),n.next=7,Er.awrap(this.Sft(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,Er.awrap(this.Pft("decode").catch(Z));case 16:if(!this.Aft){n.next=26;break}return n.prev=17,n.next=20,Er.awrap(this.Pft(this.Aft.ts));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.Aft=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],ze)},n.dO=function(t,n){this.yft||(this.yft=!0,this.kft=t,this.pft=n,this.Bft())},n.Lg=function(t,n,i){this.zB.push({nr:WH._ft,ai:t,dtt:n,kC:i}),this.Bft()},n.Mft=function(t,n){this.zB.push({nr:WH.OG,Dft:t,Cft:n}),this.Bft()},n.Uft=function(t){this.zB.push({nr:WH.gft,Ift:t}),this.Bft()},n.Cr=function(){this.zB.push({nr:WH.wft}),this.Bft()},n.Fft=function(t){this.zB.push({nr:WH.mft,kC:t}),this.Bft()},n.Yst=function(t){this.Aft={ts:t},this.Bft()},n.ds=function(){this.zB.length=0,this.Aft=null},t}();var YH=function(t){function n(n){var i;return(i=t.call(this)||this).kft=void 0,i.pft=null,i.Hft=new QH,i.nw=NaN,i.zft=null,i.Ur=function(t){return i.dispatchEvent(t)},i.Vft=function(){return i.L6()},i.kft=n,i.nl(),i}S(n,t);var i=n.prototype;return i.Wft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.t7=function(t,n,i,e){var r=this;if(!this.pft||!n)return ze.resolve();var s=n.initializer.ai,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.zft,s);if(e&&(L.dn||this.Hft.Cr()),e)if(L.dn);else{var o=t&&t.RR,h=t&&t.RR+t.d_-.5;this.Hft.Mft(o,h)}return u&&(this.Hft.Lg(s,i,this.Wft.bind(this)),this.zft=s),new ze(function(t,e){r.Hft.Lg(n.m4s.ai,i,function(n){n?e(n):t()})})},i.VU=function(){var t=this;return new ze(function(n){t.Hft.Fft(function(){var i=t.yg;i&&i.length&&(t.nw=i.end(i.length-1)),n()})})},i.Xft=function(t){if(!this.pft){try{this.pft=this.kft.addSourceBuffer(t),this.pft.addEventListener("updatestart",this.Ur),this.pft.addEventListener("updateend",this.Ur)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.kft.addEventListener("sourceclose",this.Vft),this.Hft.dO(this.kft,this.pft)}return!0},i.Tft=function(){for(var t=0;t<this.kft.sourceBuffers.length;t++)if(this.kft.sourceBuffers[t]===this.pft)return!0;return!1},i.jo=function(t){var n=this,i=this.yg;if(!(this.pft&&i&&i.length))return t&&t();this.pft.remove(0,i.end(i.length-1)),t&&this.pft.addEventListener("updateend",function i(e){n.pft.removeEventListener("updateend",i),t()})},i.nl=function(t){this.zft=null,this.nw=NaN,this.L6(),this.jo(t)},i.Uft=function(t){this.pft&&this.Hft.Uft(t)},i.Yst=function(t){this.pft&&this.Hft.Yst(t)},i.L6=function(){this.Hft.ds(),"open"===this.kft.readyState&&this.pft&&this.pft.updating&&this.pft.abort()},A(n,[{key:"yg",get:function(){return this.pft&&this.Tft()?new CB(FB(this.pft.buffered)):null}},{key:"sx",get:function(){return this.pft&&this.pft.updating}},{key:"l_",get:function(){var t=this.yg;return!t||!m(this.nw)&&MB(t,this.nw)}}]),n}(hP),jH="mp4a.40.34";var ZH=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.qft=!1,i.$I=function(){var t=i.qft;i.qft=i.sx,!t&&i.qft?i.dispatchEvent("updatestart"):t&&!i.qft&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new YH(n),i.videoTrackBuffer=new YH(n),i.audioTrackBuffer.addEventListener("updatestart",i.$I),i.videoTrackBuffer.addEventListener("updatestart",i.$I),i.audioTrackBuffer.addEventListener("updateend",i.$I),i.videoTrackBuffer.addEventListener("updateend",i.$I),i.nl(),i}S(n,t);var i=n.prototype;return i.t7=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.Lj&&n.push(this.audioTrackBuffer.t7(t.metadata.Lj,t.Lj,t.metadata.Lj&&t.metadata.Lj.g1===jH?t.metadata.Lj.RR:NaN,t.metadata.n3)),t.Mj&&n.push(this.videoTrackBuffer.t7(t.metadata.Mj,t.Mj,NaN,t.metadata.n3)),i.next=7,Er.awrap(ze.all(n));case 7:this.l_&&(this.audioTrackBuffer.Yst(),this.videoTrackBuffer.Yst());case 8:case"end":return i.stop()}},null,this,null,ze)},i.Yst=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer.VU()),n&&i.push(this.videoTrackBuffer.VU()),e.next=5,Er.awrap(ze.all(i));case 5:this.l_&&(this.audioTrackBuffer.Yst(),this.videoTrackBuffer.Yst());case 6:case"end":return e.stop()}},null,this,null,ze)},i.dO=function(t){var n,i={};for(var e in t)if(M.call(t,e)){var r=t[e];if(r.Mj){var s='video/mp4; codecs="'+r.Mj+'"';this.videoTrackBuffer.Xft(s),i.Mj=this.videoTrackBuffer}if(r.Lj){var u=(n=r.Lj)!==jH||Pb?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Xft(u),i.Lj=this.audioTrackBuffer}0}return i},i.nl=function(t){var n=!1,i=!1;this.qft=!1,this.audioTrackBuffer.nl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.nl(function(){if(i=!0,n&&t)return t()})},i.Uft=function(t){this.audioTrackBuffer.Uft(t),this.videoTrackBuffer.Uft(t)},i.L6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.L6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.L6()},A(n,[{key:"yg",get:function(){var t=this.audioTrackBuffer.yg,n=this.videoTrackBuffer.yg;return t&&n?BB(t,n):t||n||xB}},{key:"xL",get:function(){return this.audioTrackBuffer.yg||xB}},{key:"OL",get:function(){return this.videoTrackBuffer.yg||xB}},{key:"sx",get:function(){return this.audioTrackBuffer.sx||this.videoTrackBuffer.sx}},{key:"l_",get:function(){return this.audioTrackBuffer.l_&&this.videoTrackBuffer.l_}}]),n}(hP),JH=1,$H=.05,KH=.01;function tz(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function nz(t,n,i,e){var r=UB(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-$H)){var u,o;do{if((u=tz(t,n))<0)return;t=(o=n.start(u)+KH)+$H}while(n.end(u)-o<$H);for(var h=o-s,a=BB(new CB([{RR:s,NR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<JH?o:void 0}}var iz=100,ez=1e-4,rz=500,sz=Fb,uz=L.$t,oz=5,hz=["resize","volumechange"],az=function(n){function i(t,i){var e;return(e=n.call(this)||this).Gft=void 0,e.JS=void 0,e.Qft=!0,e.l_=!1,e.Yft=!1,e.jft=!1,e.Zft=null,e.ts=!1,e.kft=null,e.pft=null,e.Jft=null,e.yft=!1,e.$ft=0,e.Kft=US.dI(),e.qht=1,e.tvt=!1,e.ZF=!1,e.y_=!1,e.nvt=new Fs,e.ivt=!1,e.evt=!1,e.rvt=void 0,e.svt=null,e.uvt=null,e.ovt=am.n_,e.avt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.cvt=function(){e.avt=!1,e.fvt(),e.vvt(),e.dvt()},e.lvt=function(){e._vt(),e.dvt(),e.gvt()},e.vE=function(){e.wvt(),e._vt(),e.iH()?e.dispatchEvent("playing"):e.avt=!0},e.mvt=function(){e.avt=!1,e.fvt(),e.tg()},e.BF=function(){e.yvt()},e.fE=function(){e.kvt(),e.gvt()},e._F=function(){var t=e.ovt,n=e.Dl;t!==n&&(e.ovt=n,e.dispatchEvent(new Xm(e.vat(),n))),e.gvt()},e.vvt=function(){e.$ft&&(f(e.$ft),e.$ft=0,uz&&(e.JS.TE.removeEventListener("timeupdate",e.iW),e.removeEventListener(Em.zd,e.uW)))},e.pvt=function(){e.$ft||(e.$ft=c(e.bvt,rz)),uz&&(e.JS.TE.addEventListener("timeupdate",e.iW),e.addEventListener(Em.zd,e.uW),e.iW()),e.bvt()},e.Avt=function(){var t=e.vat(),n=MB(e.Tvt,t);e.JS.w_||e.y_&&!n||e.Svt()||e.pvt()},e.bvt=function(t){if(!(e.svt||void 0===t&&e.evt)){var n,i=e.vat(),r=e.yg;if(void 0===t){if(void 0===(n=nz(i,r,e.Tvt,e.Yft)))return}else{if(!MB(r,t))return;n=t}var s=function(){e.JS.TE.currentTime=n,e.Evt(n),e.vvt(),e.evt=!0};Mt(n,i)?e.svt=h(function(){e.svt=null,i=e.vat(),Mt(n,i)&&(n+=1e3*rz,s())},rz):s()}},e.WW=function(){var t=e.Jft;if(e.Rvt(),e.JS.TE.readyState===am.n_)return e.Jft=t,void e.JS.TE.addEventListener("loadedmetadata",e.WW);_.abs(e.JS.TE.currentTime-t)<ez?e.fE():(e.JS.TE.currentTime=t,e.evt=!1,e.BF()),e.Jft=null,e.HO(e.qht),e.JS.BW(),e.Ivt(t)&&e.tg()},e.Nvt=function(){if(!e.Yft){var t=e.JS.TE,n=e.yg,i=t.currentTime;e.Dvt(n,i)&&(e.Yft=!0,e._vt(),i=t.currentTime,e.Dvt(n,i)?e.Yft=!0:e.Yft=!1,e._F()),e.uvt=i}},e.wvt=function(){e.fvt(),e.Zft=c(e.Nvt,iz)},e.fvt=function(){e.Yft=!1,f(e.Zft)},e.Cvt=function(){e.Yft&&(e.Yft=!1,e._F())},e.iW=function(){var t=e.pft;if(t)if(t.l_)e.eW();else{var n=t.xL,i=t.OL;if(0!==n.length&&0!==i.length){var r=e.vat();if(r<n.start(0)||r<i.start(0))e.eW();else MB(n,r)!==MB(i,r)?e.rW():e.eW()}else e.eW()}},e.uW=function(){if(!(e.y_||e.evt||e.JS.TE.seeking||e.Dl>=am.r_)){var t=e.pft;if(t){var n=e.vat(),i=US.cI(t.xL),r=US.cI(t.OL);if(i.WE(n)&&r.WE(n))i.ZR(r).nI(n-oz,n)&&(e.JS.TE.currentTime=n,e.evt=!0)}}},e.xvt=function(){e.kft.open=!0,e.kft.removeEventListener("sourceopen",e.xvt),e.kft.removeEventListener("webkitsourceopen",e.xvt)},e.Qz=function(t){var n=e.JS.TE.error&&e.JS.TE.error.code;n&&e.aE(new fP(cP.eY,{code:"VEE"+n}))},e.Ur=function(t){e.dispatchEvent({type:t.type})},e.Ovt=function(){e.pft&&e.pft.l_&&e.dispatchEvent("durationchange")},e.Pvt=function(){e.removeEventListener("Bvt",e.Pvt),e.ivt=!1,e.Lvt(e.qht)},e.Gft=t,e.JS=i,e}S(i,n);var e=i.prototype;return e.Lvt=function(t){this.ZF&&(t=0),this.JS.m_=t,0!==t||sz?this.tvt&&(this.tvt=!1,VH(this.JS.J_())):(this.tvt=!this.JS.w_||this.tvt,this.JS.K_()),this.dvt()},e.HO=function(t){this.qht=t,this.ivt||this.Lvt(t)},e.Mvt=function(t){var n=UB(this.Tvt,t);return-1===n?null:this.Tvt.end(n)},e.yvt=function(){this.evt||this.y_||(this.y_=!0,this.dispatchEvent("seeking"))},e.kvt=function(){this.evt=!1,this.Uvt(),this.y_&&(this.y_=!1,this.dispatchEvent("seeked")),this.Avt()},e._vt=function(){this.evt||this.Avt()},e.Uvt=function(){this.rvt&&(a(this.rvt),this.rvt=void 0)},e.Evt=function(t){var n=this;this.rvt=h(function(){n.bvt(t+2)},750)},e.gvt=function(){this.avt&&this.iH()&&(this.avt=!1,this.dispatchEvent("playing"))},e.dvt=function(){var t=this.Qft,n=this.paused;this.Qft=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.YU=function(t,n){if(!(t+.001>n)){var i=new US([t,n]);this.Kft=this.Kft.jR(i).JR(US.cI(this.yg)),this.Kft.WE(this.vat())&&this.Avt()}},e.Ivt=function(t){return t>=this.JS.TE.duration-(this.paused?0:.5)},e.Fvt=function(t){return m(this.JS.TE.duration)||(t=_.min(t,this.JS.TE.duration)),_.max(0,t)},e.Rvt=function(){this.Jft=null,this.JS.TE.removeEventListener("loadedmetadata",this.WW)},e.rH=function(){return this.Dl<am.r_},e.iH=function(){return!(this.paused||this.ended||this.error||this.rH())},e.Dvt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-$H)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.uvt&&this.uvt===n){if(this.Ivt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.rW=function(){this.ZF||(this.ZF=!0,this.Lvt(0),this._F())},e.eW=function(){this.ZF&&(this.ZF=!1,this.HO(this.qht),this.JS.TE.currentTime=this.JS.TE.currentTime,this._F())},e.Hvt=function(){var t=this.JS.TE;t.addEventListener("timeupdate",this.Cvt),this.JS.Hr(Xc.ba,this.cvt),this.JS.Hr(Xc.Aa,this.lvt),this.JS.Hr(Xc.la,this.mvt),t.addEventListener("seeking",this.BF),t.addEventListener("seeked",this.fE);for(var n=0;n<hz.length;n++){var i=hz[n];t.addEventListener(i,this.Ur)}t.addEventListener("error",this.Qz),t.addEventListener("durationchange",this.Ovt),this.JS.Hr(Xc.La,this.Ur),this.JS.Hr(Em.zd,this._F),this.JS.Hr(Em.f_,this.vE)},e.zvt=function(){var t=this.JS.TE;t.removeEventListener("timeupdate",this.Cvt),this.JS.Xr(Xc.ba,this.cvt),this.JS.Xr(Xc.Aa,this.lvt),this.JS.Xr(Xc.la,this.mvt),t.removeEventListener("seeking",this.BF),t.removeEventListener("seeked",this.fE);for(var n=0;n<hz.length;n++){var i=hz[n];t.removeEventListener(i,this.Ur)}t.removeEventListener("error",this.Qz),t.removeEventListener("durationchange",this.Ovt),this.JS.Xr(Xc.La,this.Ur),this.JS.Xr(Em.zd,this._F),this.JS.Xr(Em.f_,this.vE)},e.Vvt=function(){var n=this.JS.TE,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Wvt(),this.kft=new i,this.kft.addEventListener("sourceopen",this.xvt),this.kft.addEventListener("webkitsourceopen",this.xvt),n.src=WM(this.kft),n.load()):this.aE(new fP(cP.sY,{code:"MVE2720"})):this.aE(new fP(cP.sY,{code:"MVE2650"}))},e.Wvt=function(){if(this.yft=!1,this.pft&&(this.pft.nl(),this.pft=null),this.kft){this.nvt.Cr();var t=this.JS.TE;t.src&&(XM(t.src),er(t)),this.kft=null}},e.setup=function(){this.Vvt(),this.Hvt(),this.JS.TE.parentNode!==this.Gft&&this.Gft.appendChild(this.JS.TE)},e.aE=function(t){this.ts=t,this.dispatchEvent({type:"error",error:t})},e.Svt=function(){return this.pft&&this.pft.sx},e.Xvt=function(t){var n=this.vat()-_.max(30,3*t.rZ.LY.targetDuration);this.dispatchEvent("Bvt"),this.pft&&!t.K2&&this.pft.Uft(n),this.Avt()},e.t7=function(t){if(!this.kft.open||"closed"===this.kft.readyState)return ze.reject("qvt");if(!this.pft)return ze.reject("Gvt");var n=this.Qvt(t);return this.jft||(this.jft=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Qvt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.pft.t7(t)),n.K2&&i.push(this.Yst(!!t.Lj,!!t.Mj)),t=null,e.next=7,Er.awrap(ze.all(i));case 7:this.Xvt(n);case 8:case"end":return e.stop()}},null,this,null,ze)},e.Yst=function(t,n){return this.kft.open&&"closed"!==this.kft.readyState?this.pft?this.pft.Yst(t,n):ze.reject("Gvt"):ze.reject("qvt")},e.play=function(){var t=this.JS.m_;this.l_=!1,0!==this.JS.m_||sz?(VH(this.JS.J_()),this.JS.BW(),this.JS.m_=t):this.tvt=!0,this.dvt()},e.pause=function(){0!==this.JS.m_||sz?this.JS.K_():this.tvt=!1,this.dvt()},e.tg=function(){this.l_||(this.l_=!0,this.JS.K_(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.Zft),this.Zft=null,this.vvt(),this.Rvt(),this.Wvt(),this.zvt(),this.Wr(),this.JS.TE},e.reset=function(){f(this.Zft),this.Zft=null,this.vvt(),this.Rvt(),this.Qft=!0,this.l_=!1,this.Yft=!1,this.jft=!1,this.ts=!1,this.y_=!1,this.avt=!1,this.eW(),this.Vvt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.fg=function(){return this.JS.TE},e.vat=function(){return null===this.Jft?this.JS.TE.currentTime:this.Jft},e.Gat=function(t){var n=this.Mvt(t);t=this.Fvt(t),this.Yft=!1,this.JS.TE.error&&(this.jft=!1,this.ts=!1,this.Vvt()),this.l_&&(this.l_=this.Ivt(t)),this.vvt(),null!==n&&(t=n),this.Rvt(),this.Jft=t,this.y_=!0,this.dispatchEvent("Fat"),this.dispatchEvent("seeking"),this.WW()},e.Yvt=function(t){return this.kft.open?ze.resolve(null):ow(this.kft,"sourceopen",t)},e.jvt=function(t,n,i){Vs(i),n>0&&(this.kft.duration=n),this.pft=new ZH(this.kft);var e=this.pft.dO(t);return this.dispatchEvent("cft"),this.pft.addEventListener("updatestart",this.vvt),this.pft.addEventListener("updateend",this.Avt),this.yft=!0,this.dispatchEvent("yft"),e},e.Cat=function(t,n,i){var e=this;this.nvt.Cr();var r=new Fs;return r.xr(i),this.nvt=r,this.pft?ze.resolve(null):this.Yvt(r.Pr).then(function(){return e.jvt(t,n,i)})},e.BJ=function(t){L.dn&&(this.ivt=!0,this.Lvt(0),this.removeEventListener("Bvt",this.Pvt),this.addEventListener("Bvt",this.Pvt),this.pft&&this.pft.L6(t))},e.canPlayCodecs=function(t){return this.JS.TE.canPlayType('video/mp4; codecs="'+t+'"')},A(i,[{key:"Tvt",get:function(){return this.Kft.XE()}},{key:"Dl",get:function(){var t=this.JS.Dl;return t>am.e_&&(this.Yft||this.ZF)?am.e_:t}},{key:"pg",get:function(){return this.JS.TE}},{key:"yg",get:function(){return this.pft?this.pft.yg:this.JS.TE.buffered}},{key:"xL",get:function(){return this.pft?this.pft.xL:xB}},{key:"OL",get:function(){return this.pft?this.pft.OL:xB}},{key:"volume",get:function(){return this.JS.TE.volume},set:function(t){this.JS.TE.volume=t}},{key:"duration",get:function(){return this.JS.TE.duration}},{key:"muted",get:function(){return this.JS.TE.muted},set:function(t){this.JS.TE.muted=t}},{key:"paused",get:function(){return this.JS.w_&&!this.tvt}},{key:"played",get:function(){return this.JS.TE.played}},{key:"poster",get:function(){return this.JS.TE.poster},set:function(t){t?this.JS.TE.poster=t:this.JS.TE.removeAttribute("poster")}},{key:"controls",get:function(){return this.JS.TE.controls},set:function(t){t?this.JS.TE.controls=t:this.JS.TE.removeAttribute("controls")}},{key:"ended",get:function(){return this.l_}},{key:"seeking",get:function(){return this.y_}},{key:"error",get:function(){return this.ts||this.JS.TE.error}},{key:"width",get:function(){return this.JS.TE.offsetWidth||this.JS.TE.parentNode.offsetWidth}},{key:"height",get:function(){return this.JS.TE.offsetHeight||this.JS.TE.parentNode.offsetHeight}},{key:"m_",get:function(){return this.qht},set:function(t){var n=this.qht;t>0&&(this.HO(t),this.qht!==n&&this.dispatchEvent("ratechange"))}},{key:"p_",get:function(){return this.JS.TE.videoWidth||0}},{key:"k_",get:function(){return this.JS.TE.videoHeight||0}},{key:"Dat",get:function(){return this.yft}}]),i}(hP),cz=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Zvt","BJ",Em.zd],fz=.04,vz=.25,dz=4,lz=.75,_z=1.5,gz=.25,wz=function(t){function n(){var n;return(n=t.call(this)||this).Jvt=null,n.$vt=null,n.yI=!1,n.Bu=1,n.pI=1,n.Kvt=null,n.tdt=void 0,n.uft=function(t){n.dispatchEvent(t)},n.ndt=function(t){n.$vt||n.dispatchEvent(t)},n.idt=function(t){var i=t.error||n.$vt.error;n.audioStream=null,n.Kvt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Kvt})},n.edt=function(){n.$vt&&!n.$vt.loaded||n.Jvt&&!n.Jvt.loaded||(n.$vt&&(n.$vt.removeEventListener("loaded",n.edt),n.$vt.play()),n.Jvt&&(n.Jvt.removeEventListener("loaded",n.edt),n.Jvt.play()))},n.rdt=function(){n.sdt(),n.$vt&&n.Jvt&&(n.$vt.addEventListener("timeupdate",n.udt),n.Jvt.addEventListener("timeupdate",n.udt))},n.sdt=function(){a(n.tdt),n.$vt&&n.$vt.removeEventListener("timeupdate",n.udt),n.Jvt&&(n.Jvt.m_=n.pI,n.Jvt.removeEventListener("timeupdate",n.udt))},n.odt=function(){n.Dl<am.r_&&n.sdt()},n.udt=function(){if(a(n.tdt),n.$vt&&n.Jvt){var t=n.$vt.m_,i=n.$vt.vat()-n.Jvt.vat(),e=_.max(dz,_z*t),r=_.min(vz,lz*t);if(_.abs(i)<fz)n.Jvt.m_!==t&&(n.Jvt.m_=t);else{var s=gz,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.Jvt.m_=u,n.tdt=h(n.udt,1e3*s)}}else n.sdt()},n.addEventListener("playing",n.rdt),n.addEventListener("ended",n.sdt),n.addEventListener(Em.zd,n.odt),n}S(n,t);var i=n.prototype;return i.DJ=function(t,n){n?(t.addEventListener("timeupdate",this.uft),t.addEventListener("error",this.idt)):(t.addEventListener("timeupdate",this.ndt),t.addEventListener("error",this.uft));for(var i=0;i<cz.length;i++){var e=cz[i];t.addEventListener(e,this.uft)}},i.Gr=function(t){t.removeEventListener("timeupdate",this.uft),t.removeEventListener("timeupdate",this.ndt),t.removeEventListener("timeupdate",this.udt),t.removeEventListener("error",this.uft),t.removeEventListener("error",this.idt),t.removeEventListener("loaded",this.edt);for(var n=0;n<cz.length;n++){var i=cz[n];t.removeEventListener(i,this.uft)}},i.hdt=function(t){this.$vt&&this.$vt.hdt(t),this.Jvt&&this.Jvt.hdt(t)},i.play=function(){if(this.$vt&&!this.$vt.loaded||this.Jvt&&!this.Jvt.loaded)return this.$vt&&this.$vt.addEventListener("loaded",this.edt),void(this.Jvt&&this.Jvt.addEventListener("loaded",this.edt));this.edt()},i.pause=function(){this.$vt&&(this.$vt.removeEventListener("loaded",this.edt),this.$vt.pause()),this.Jvt&&(this.Jvt.removeEventListener("loaded",this.edt),this.Jvt.pause()),this.sdt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.$vt&&this.$vt.load(),-1!==t.indexOf("video")&&this.Jvt&&this.Jvt.load()):(this.$vt&&this.$vt.load(),this.Jvt&&this.Jvt.load())},i.hv=function(t){this.Wr(),this.Kvt=null,t?(-1!==t.indexOf("audio")&&this.$vt&&(this.$vt.hv(),this.$vt=null),-1!==t.indexOf("video")&&this.Jvt&&(this.Jvt.hv(),this.Jvt=null)):(this.$vt&&(this.$vt.hv(),this.$vt=null),this.Jvt&&(this.Jvt.hv(),this.Jvt=null))},i.BJ=function(t){this.$vt&&this.$vt.pause(),this.Jvt&&this.Jvt.pause(),this.sdt(),t&&-1===t.indexOf("audio")||!this.$vt||this.$vt.BJ(),t&&-1===t.indexOf("video")||!this.Jvt||this.Jvt.BJ()},i.t7=function(t){this.$vt&&t.Lj&&this.$vt.t7(t),this.Jvt&&t.Mj&&this.Jvt.t7(t)},i.adt=function(t){return this.Jvt?this.Jvt.adt(t):""},i.cdt=function(){return this.Jvt?this.Jvt.cdt():0},i.fdt=function(){return this.Jvt?this.Jvt.fdt():0},i.fg=function(){return this.Jvt&&this.Jvt.fg()},i.vat=function(){return this.$vt?this.$vt.vat():this.Jvt?this.Jvt.vat():NaN},i.Gat=function(t,n){this.$vt&&this.$vt.Gat(t,n),this.Jvt&&this.Jvt.Gat(t,n)},A(n,[{key:"yg",get:function(){return this.$vt&&this.Jvt?BB(this.$vt.yg,this.Jvt.yg):this.$vt?this.$vt.yg:this.Jvt?this.Jvt.yg:xB}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.$vt&&(this.$vt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.$vt&&this.$vt.duration||this.Jvt&&this.Jvt.duration||NaN}},{key:"muted",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.$vt&&(this.$vt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.$vt&&!this.Jvt)&&(!(this.$vt&&!this.$vt.loaded)&&!(this.Jvt&&!this.Jvt.loaded))}},{key:"paused",get:function(){return!this.$vt&&!this.Jvt||(this.$vt&&this.$vt.paused||this.Jvt&&this.Jvt.paused||!1)}},{key:"ended",get:function(){return this.$vt&&this.$vt.ended||this.Jvt&&this.Jvt.ended||!1}},{key:"seeking",get:function(){return this.$vt&&this.$vt.seeking||this.Jvt&&this.Jvt.seeking||!1}},{key:"error",get:function(){return this.$vt&&this.$vt.error||this.Jvt&&this.Jvt.error}},{key:"warning",get:function(){return this.Kvt||this.$vt&&this.$vt.warning||this.Jvt&&this.Jvt.warning}},{key:"audioStream",get:function(){return this.$vt},set:function(t){this.$vt&&(this.Gr(this.$vt),this.$vt.hv()),this.$vt=t,this.$vt&&(this.$vt.volume=this.Bu,this.$vt.muted=this.yI,this.$vt.m_=this.pI,this.DJ(this.$vt,!0))}},{key:"videoStream",get:function(){return this.Jvt},set:function(t){this.Jvt&&(this.Gr(this.Jvt),this.Jvt.hv()),this.Jvt=t,this.Jvt&&(this.Jvt.m_=this.pI,this.DJ(this.Jvt,!1))}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(t<0||(this.pI=t,this.$vt&&(this.$vt.m_=t),this.Jvt&&(this.Jvt.m_=t),this.dispatchEvent("ratechange")))}},{key:"Dl",get:function(){return this.$vt&&this.Jvt?_.min(this.$vt.Dl,this.Jvt.Dl):this.$vt?this.$vt.Dl:this.Jvt?this.Jvt.Dl:am.n_}},{key:"p_",get:function(){return this.Jvt?this.Jvt.p_:0}},{key:"k_",get:function(){return this.Jvt?this.Jvt.k_:0}}]),n}(hP),mz=function(){function t(t,n,i,e){var r=this;this.vdt=void 0,this.ddt=void 0,this.d_=void 0,this.kC=void 0,this.ldt=void 0,this._dt=void 0,this.tw=void 0,this.Bf=0,this.nv=0,this.running=!1,this.gdt=function(t){return r.Zo(t)},this.vdt=t,this.ddt=n,this.d_=i,this.kC=e,this.ldt=t.cs(),this._dt=(n-this.ldt)/(i||1)}var n=t.prototype;return n.wdt=function(){return this.vdt.ia(this.ddt),this.running=!1,this.mdt(),this.kC()},n.RR=function(){var t=this;this.running=!0,this.d_?this.ydt():oP(function(){t.running&&t.wdt()})},n.Zo=function(t){if(this.mdt(),this.running){void 0===this.tw&&(this.tw=t);var n=this.ldt,i=this._dt,e=this.ddt,r=this.vdt,s=n+_.max(0,t-this.tw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.wdt();if(r.ia(s))return this.wdt();this.ydt()}},n.ydt=function(){this.Bf=QR(this.gdt),this.nv=XR(this.gdt)},n.mdt=function(){YR(this.Bf),GR(this.nv)},t}();var yz=function(t){function n(n,i){var e;return(e=t.call(this)||this).kdt=void 0,e.fi=void 0,e.pdt=null,e.bdt=null,e.Adt=NaN,e.Tdt=!1,e.Sdt=!1,e.Edt=1,e.Rdt=void 0,e.Idt=void 0,e.Ndt=function(t){e.Ddt(t)||e.dispatchEvent(t)},e.kdt=n,e.fi=i,e}S(n,t);var i=n.prototype;return i.pause=function(){this.kdt.pause()},i.play=function(){VH(this.kdt.play()),this.Cdt()},i.xdt=function(t){if(!(this.Dl<am.r_))return this.L6(),this.Tdt=!0,this.Ndt({type:"canplay"}),t&&t();this.Rdt=h(this.Idt,100)},i.Yo=function(t){this.Sdt=!0,this.Tdt=!1,this.kdt.removeEventListener("canplay",this.Idt),this.Idt=this.xdt.bind(this,t),this.kdt.addEventListener("canplay",this.Idt),this.kdt.load(),this.Rdt=h(this.Idt,100)},i.L6=function(){this.Sdt=!1,this.kdt.removeEventListener("canplay",this.Idt),void 0!==this.Rdt&&(a(this.Rdt),this.Rdt=void 0)},i.Odt=function(t){if(this.pause(),this.L6(),null===t)return this.pdt=null,void(this.Tdt=!1);this.Tdt=!1,this.bdt&&this.bdt._5(this.kdt.src),this.bdt=t[this.fi],this.kdt.src=this.bdt.g5,this.pdt=t},i.fg=function(){return this.kdt},i.Pdt=function(t){this.Adt=_.max(t||0,0),this.kdt.currentTime=this.Adt},i.Bdt=function(){return this.kdt.currentTime},i.Ldt=function(t){var n=this.pdt&&this.pdt.metadata,i=n&&n.RR,e=n&&n[this.fi].RR,r=n&&n[this.fi].d_;return!!this.$K&&(!(t<i)&&t<e+_.min(r,this.kdt.duration))},i.Cdt=function(){this.Edt!==this.kdt.playbackRate&&(this.kdt.playbackRate=this.Edt,Hb&&this.Edt>0&&this.Dl!==am.n_&&(this.kdt.currentTime=this.kdt.currentTime))},i.Ddt=function(t){return!!(Hb&&"seeked"===t.type&&_.abs(this.kdt.currentTime-this.Adt)>.04)},i.addEventListener=function(n,i){this.YQ(n)||this.kdt.addEventListener(n,this.Ndt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.YQ(n)||this.kdt.removeEventListener(n,this.Ndt)},i.Wr=function(){for(var n=0,i=this.jQ();n<i.length;n++){var e=i[n];this.kdt.removeEventListener(e,this.Ndt)}t.prototype.Wr.call(this)},i.unload=function(){this.bdt&&this.bdt._5(this.kdt.src),this.Wr()},A(n,[{key:"volume",get:function(){return this.kdt.volume},set:function(t){this.kdt.volume=t}},{key:"muted",get:function(){return this.kdt.muted},set:function(t){this.kdt.muted=t}},{key:"style",get:function(){return this.kdt.style}},{key:"RR",get:function(){return this.pdt?this.pdt.metadata[this.fi].RR:NaN}},{key:"NR",get:function(){return this.pdt?this.RR+this.pdt.metadata[this.fi].d_:NaN}},{key:"Mdt",get:function(){return this.pdt?this.RR+this.Udt:NaN},set:function(t){this.pdt?this.Udt=t-this.RR:this.Udt=0}},{key:"Udt",get:function(){return this.Bdt()},set:function(t){this.Pdt(t)}},{key:"Fdt",get:function(){return this.pdt},set:function(t){this.Odt(t)}},{key:"d5",get:function(){return this.pdt&&this.pdt.metadata.K2}},{key:"$K",get:function(){return!(!this.Tdt||!this.pdt)}},{key:"Hdt",get:function(){return!(!this.Sdt||!this.pdt)}},{key:"m_",get:function(){return this.Edt},set:function(t){t>=0&&this.Edt!==t&&(this.Edt=t,this.Cdt())}},{key:"w_",get:function(){return this.kdt.paused}},{key:"l_",get:function(){return this.kdt.ended}},{key:"ts",get:function(){return this.kdt.error}},{key:"p_",get:function(){return this.kdt.videoWidth}},{key:"k_",get:function(){return this.kdt.videoHeight}},{key:"Dl",get:function(){return this.kdt.readyState}}]),n}(hP);function kz(t,n){return i=t.Fdt.metadata.rZ,e=n.Fdt.metadata.rZ,i.bandwidth&&e.bandwidth&&Es(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&Es(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||Ss(i.lY,e.lY)||Es(t.NR,n.NR);var i,e}function pz(t){return{RR:t.RR,NR:t.NR}}function bz(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.RR<=n&&n<e.NR)return i}return-1}function Az(t,n,i){return{RR:n?i.metadata.i5:i.metadata[t].RR,NR:i.metadata[t].RR+i.metadata[t].d_}}function Tz(t,n,i){return new CB([Az(t,n,i)])}function Sz(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(Az(t,n,s))}return PB(new CB(e))}function Ez(t,n,i){if(!n)return!1;var e=n.metadata[t].RR,r=e+n.metadata[t].d_;return e<=i&&i<=r}function Rz(t,n){var i=UB(t,n);return i<0?n:t.end(i)}var Iz=function(){function t(t){this.nr=void 0,this.k0=[],this.zdt=xB,this.Vdt=xB,this.nr=t}var n=t.prototype;return n.t7=function(t){var n,i;this.k0=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.Fdt===t?r.NR=e:i.push({Fdt:t,RR:n,NR:e})},r=0;r<t.length;r++){var s=t[r];if(s.NR<=n.RR)e(s.Fdt,s.RR,s.NR);else if(s.RR>=n.NR)n.RR<n.NR&&(e(n.Fdt,n.RR,n.NR),n.RR=n.NR),e(s.Fdt,s.RR,s.NR);else{var u=void 0,o=void 0;kz(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.RR,a=o.RR,c=_.min(o.NR,s.NR),f=_.min(u.NR,s.NR);h<a&&e(u.Fdt,h,a),a<c&&e(o.Fdt,a,c),c<f&&e(u.Fdt,c,f),n.RR=_.max(n.RR,s.NR)}}return n.RR<n.NR&&e(n.Fdt,n.RR,n.NR),i}(this.k0,function(t,n){var i=n.metadata[t].RR;return{Fdt:n,RR:i,NR:i+n.metadata[t].d_}}(this.nr,t)),this.zdt=HB(this.zdt,Tz(this.nr,!1,t)),this.Vdt=HB(this.Vdt,Tz(this.nr,!0,t)),this.Vdt=(n=this.Vdt,i=this.zdt,BB(n,LB(i)))},n.Wdt=function(t){t=this.Xdt(t);var n=bz(this.k0,t);return n>=0?this.k0[n].Fdt:null},n.qdt=function(t,n,i,e){t=this.Xdt(t);var r=this.k0,s=bz(r,t);if(s<0)return null;var u=r[s];if(!i||!Ez(this.nr,i,t))return e&&Ez(this.nr,e,t)?null:u.Fdt;if(i!==u.Fdt){if(e&&e===u.Fdt)return null;if(u.NR-t>n)return u.Fdt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.Fdt)return null;if(h.NR-t>n)return h.Fdt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].Fdt);var f=Sz(this.nr,!1,a);a.push(h.Fdt);var v=Sz(this.nr,!1,a);if(Rz(f,t)<Rz(v,t))return h.Fdt}return null},n.Gdt=function(t,n){for(var i=this.k0,e=i.length-1;e>=0;e--){var r=i[e];(r.NR<=t||r.RR>=n)&&xs(i,e)}},n.nl=function(){this.k0.length=0,this.zdt=xB,this.Vdt=xB},n.Xdt=function(t){var n=nz(t,this.yg,this.Vdt,!1);return void 0===n?t:n},A(t,[{key:"yg",get:function(){var t=this.k0.map(pz);return PB(new CB(t))}}]),t}(),Nz=5,Dz=30,Cz=function(t){function n(n,i){var e,r;(e=t.call(this)||this).Qdt=void 0,e.fi=void 0,e.Ydt=void 0,e.jdt=void 0,e.Zdt=void 0,e.Ch={Lj:{Jdt:100,$dt:100,Kdt:100},Mj:{Jdt:500,$dt:100,Kdt:200}},e.Bu=void 0,e.KS=null,e.Kvt=null,e.tlt=null,e.nlt=void 0,e.ilt=void 0,e.elt=void 0,e.rlt=void 0,e.slt=null,e.ult=void 0,e.olt=void 0,e.hlt=0,e.clt=null,e.flt=!1,e.qG=!1,e.vlt=0,e.dlt=0,e.llt=am.n_,e.Uft=function(){var t=e.vat();e.Zdt.Gdt(t-Nz,t+Dz)},e._lt={glt:(r=Yt(e),{Yo:function(){r.elt.addEventListener("ended",this.wlt),r.rlt.addEventListener("ended",this.mlt)},hv:function(){r.elt.removeEventListener("ended",this.wlt),r.rlt.removeEventListener("ended",this.mlt)},ylt:function(){},wlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.elt})},mlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.rlt})}}),SA:{Vn:"SA",Yo:function(){},hv:function(){},ylt:function(){}},klt:function(){var t=Yt(e),n=function n(){t.elt.removeEventListener("play",n),t.elt.removeEventListener("timeupdate",i),t.elt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.elt.w_||(!t.seeking&&t.elt.Fdt?(i=t.elt,(e=t.rlt).$K&&xz(i,e)>=0&&t.plt(t._lt.blt)):t.elt.removeEventListener("timeupdate",n))};return{Vn:"klt",Yo:function(){t._lt.glt.Yo.call(this),this.Alt(),this.ylt()},hv:function(){t._lt.glt.hv.call(this),t.elt.removeEventListener("play",n),t.elt.removeEventListener("timeupdate",i)},ylt:function(){t.elt.Fdt?t.ylt(t.rlt,t.Tlt):t.ylt(t.elt,t.Tlt)},wlt:function(){var n=t.rlt.Fdt;if(n&&n.metadata.n3)return t.rlt.Ldt(t.elt.Mdt)&&(t.rlt.Mdt=t.elt.Mdt),t.Slt(),void t.elt.play();t._lt.glt.wlt.call(this)},mlt:function(){0},Alt:function(){t.elt.removeEventListener("play",n),t.elt.w_?t.elt.addEventListener("play",n):n.call(t.elt)}}}(),blt:function(){var t=Yt(e),n=function(){e.plt(e._lt.Elt)};return{Vn:"blt",Yo:function(){t._lt.glt.Yo.call(this),t.rlt.addEventListener("seeked",n);var i=xz(t.elt,t.rlt),e=t.Ch[t.fi].Jdt/1e3,r=_.min(i+e,t.rlt.NR);try{t.rlt.Udt=r}catch(n){t.plt(t._lt.klt),t.Rlt(n.message)}},hv:function(){t._lt.glt.hv.call(this),t.rlt.removeEventListener("seeked",n)},ylt:function(){},wlt:function(){t._lt.glt.wlt.call(this)},mlt:function(){}}}(),Elt:function(){var t,n=Yt(e),i=function(){s()},r=function(){s()},s=function(){YR(t),e.rlt.Mdt-e.elt.Mdt-1/60>0?t=QR(i):e.plt(e._lt.Ilt)};return{Vn:"Elt",Yo:function(){n._lt.glt.Yo.call(this),n.elt.addEventListener("timeupdate",r),s()},hv:function(){n._lt.glt.hv.call(this),YR(t),n.elt.removeEventListener("timeupdate",r)},ylt:function(){},wlt:function(){n._lt.glt.wlt.call(this)},mlt:function(){n._lt.glt.mlt.call(this)}}}(),Ilt:function(){var t,n=Yt(e),i=function(){var t=e.Nlt(e.rlt),n=e.Ch[e.fi].$dt/_.max(1,e.elt.m_);return function(t,n,i,e){return new mz(t,n,i,e)}(t,t.Dlt,n,function(){e.plt(e._lt.Clt),e._lt.Clt.xlt()})},r=function(){e.tlt.RR(),e.plt(e._lt.Clt)};return{Vn:"Ilt",Yo:function(){n._lt.glt.Yo.call(this);var e=n.Ch[n.fi].Kdt/_.max(1,n.elt.m_);n.tlt=i(),t=h(r,e),n.rlt.play()},hv:function(){n._lt.glt.hv.call(this),a(t),t=0},ylt:function(){},wlt:function(){n._lt.glt.wlt.call(this)},mlt:function(){n._lt.glt.mlt.call(this)}}}(),Clt:function(){var t=Yt(e);return{Vn:"Clt",Yo:function(){t._lt.glt.Yo.call(this)},hv:function(){t._lt.glt.hv.call(this),t.tlt&&t.tlt.wdt()},ylt:function(){},wlt:function(){t._lt.glt.wlt.call(this)},mlt:function(){t._lt.glt.mlt.call(this)},xlt:function(){t.tlt=null,t.Slt()}}}()},e.Olt={Plt:function(){var t=Yt(e);return{Yo:function(){},hv:function(){},ylt:function(){t.ult.ylt()},Gat:function(n,i,e,r){t.hlt=n,t.clt=r,t.plt(t._lt.SA);var s=t.elt===t.nlt?i:e,u=t.rlt===t.nlt?i:e;s&&t.elt.Ldt(n)?t.Blt(t.Olt.Llt):u&&t.rlt.Ldt(n)?t.Blt(t.Olt.Mlt):t.Blt(t.Olt.Ult)}}}(),Ult:function(){var t=Yt(e),n=function(){e.Tlt(),e.rlt.$K?(e.rlt.Ldt(e.hlt)||(e.Flt('Could not seek to exact timestamp "'+e.hlt+'", seeking instead to: "'+e.rlt.RR+'"'),e.hlt=e.rlt.RR),e.Blt(e.Olt.Mlt)):e.Blt(e.Olt.Plt)};return{Yo:function(){t.Hlt(),t.elt.Fdt=null,t.rlt.Fdt=null,t.rlt.style.display="none",t.Tlt(),this.ylt()},hv:function(){t.rlt.L6(),t.rlt.style.display=""},ylt:function(){t.rlt.Fdt||t.ylt(t.rlt,n)},Gat:function(n,i,e,r){t.zlt(),t.olt.Gat(n,i,e,r)}}}(),Llt:function(){var t=Yt(e),n=function(){e.Blt(e.Olt.Plt),e.plt(e._lt.klt),e.YF(),e.clt&&(e.clt.call(t),e.clt=null)};return{Yo:function(){t.elt.addEventListener("seeked",n);try{t.elt.Mdt=t.hlt,t.YF()}catch(n){t.Rlt(n.message)}},hv:function(){t.elt.removeEventListener("seeked",n)},ylt:function(){},Gat:function(n,i,e,r){t.zlt(),t.olt.Gat(n,i,e,r)}}}(),Mlt:function(){var t=Yt(e),n=function(){e.Blt(e.Olt.Plt),e.Slt(),e.clt&&(e.clt.call(t),e.clt=null)};return{Yo:function(){t.rlt.style.display="none",t.rlt.addEventListener("seeked",n);try{t.rlt.Mdt=t.hlt,t.YF()}catch(n){t.Rlt(n.message)}},hv:function(){t.rlt.style.display="",t.rlt.removeEventListener("seeked",n)},ylt:function(){},Gat:function(n,i,e,r){t.zlt(),t.olt.Gat(n,i,e,r)}}}()},e.Tlt=function(){var t=e.qG;e.qG=e.nlt.Hdt||e.ilt.Hdt,t&&!e.qG&&e.dispatchEvent("updateend"),e.Vlt(),e.YF(),e.Wlt()},e.YF=function(){var t=e.Dl;t!==e.llt&&(e.llt=t,e.dispatchEvent(Em.zd))},e.Qdt=n,e.fi=i,e.Zdt=new Iz(i),e.Bu="Mj"===i?0:1;var s=function(t){switch(t){case"Lj":return"audio";case"Mj":return"video"}}(i);return e.Ydt=Oz(s),e.jdt=Oz(s),n.appendChild(e.Ydt),n.appendChild(e.jdt),e.nlt=new yz(e.Ydt,e.fi),e.ilt=new yz(e.jdt,e.fi),e.elt=e.nlt,e.rlt=e.ilt,e.ult=e._lt.klt,e.olt=e.Olt.Plt,e.ult.Yo(),e.olt.Yo(),e.dJ(),e.al(),e}S(n,t);var i=n.prototype;return i.Xlt=function(t){return t===this.nlt?this.ilt:this.nlt},i.Flt=function(t){this.Kvt=t,this.dispatchEvent({type:"warning",warning:this.Kvt})},i.Rlt=function(t){this.KS=t,this.dispatchEvent({type:"error",error:t})},i.Nlt=function(t){var n,i=this,e=this.Xlt(t);return n="Mj"===this.fi?{cs:function(){if(i.slt!==t)return 0;var n=w(t.style.opacity);return m(n)?1:n},ia:function(n){n=Bt(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.slt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},Dlt:1,qlt:function(){if(n.cs()!==n.Dlt)return n.ia(n.Dlt)}}:{cs:function(){return t.volume},ia:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.Dlt-i}catch(t){r=t}return r},Dlt:this.Bu,qlt:function(){if(n.cs()!==n.Dlt)return n.ia(n.Dlt)}}},i.ylt=function(t,n){var i=this.Zdt.qdt(this.vat(),1,this.elt.Fdt,this.rlt.Fdt);return!!i&&(this.Hlt(),t.Fdt=i,t.Yo(n),t.d5&&this.dispatchEvent("durationchange"),!0)},i.Glt=function(){this.Hlt(),this.Zdt.nl(),this.nlt.L6(),this.ilt.L6(),this.Tlt()},i.fg=function(){return this.elt.fg()},i.vat=function(){return this.seeking?this.hlt:this.elt.Mdt},i.Gat=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.olt.Gat(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Slt=function(){var t=this.elt;this.plt(this._lt.SA),this.elt=this.rlt,this.rlt=t,this.Nlt(this.elt).qlt(),this.Hlt(),this.rlt.pause(),this.rlt.Fdt=null,this.Tlt(),this.plt(this._lt.klt)},i.dJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Rlt(new fP(cP.eY,{code:"VEE"+i.error})):t.Rlt(new fP(cP.eY,{code:"VEE"+n.ts.code}));n===t.elt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.nlt),r=i.bind(null,this.ilt),s=0;s<n.length;s++){var u=n[s];this.nlt.addEventListener(u,e),this.ilt.addEventListener(u,r)}this.nlt.addEventListener("error",e),this.ilt.addEventListener("error",r);for(var o=0;o<BD.length;o++){var h=BD[o];this.nlt.addEventListener(h,this.YF),this.ilt.addEventListener(h,this.YF)}},i.al=function(){this.addEventListener("seeking",this.Uft),this.addEventListener("timeupdate",this.Uft)},i.plt=function(t){var n;if(this.ult!==t){do{(n=this.ult).hv()}while(n!==this.ult);this.ult=t,t.Yo()}},i.Blt=function(t){var n;if(this.olt!==t){do{(n=this.olt).hv()}while(n!==this.olt);this.olt=t,t.Yo()}},i.zlt=function(){this.clt=null,this.Blt(this.Olt.Plt)},i.load=function(){this.pause(),this.zlt(),this.elt.Fdt=null,this.rlt.Fdt=null,this.plt(this._lt.klt)},i.hv=function(){this.zlt(),this.plt(this._lt.SA),this.Glt(),this.nlt.unload(),this.ilt.unload(),this.Qdt.removeChild(this.Ydt),this.Qdt.removeChild(this.jdt),this.KS=null,this.Kvt=null},i.BJ=function(){var t=this,n=this.vat();this.Glt(),this.olt.Gat(n,!1,!1,function(){t.dispatchEvent("BJ",!0)})},i.play=function(){this.Nlt(this.elt).qlt(),this.elt.$K&&this.elt.play()},i.pause=function(){this.nlt.pause(),this.ilt.pause()},i.hdt=function(t){var n=this,i=function(){n.dispatchEvent("Zvt",!0)};this.pause(),this.elt.l_?this.olt.Gat(t,this.rlt===this.nlt,this.rlt===this.ilt,i):this.rlt.l_?this.olt.Gat(t,!1,!1,i):this.rlt.Ldt(t)?this.olt.Gat(t,this.rlt===this.nlt,this.rlt===this.ilt,i):i()},i.t7=function(t){this.Hlt(),this.Zdt.t7(t),this.Tlt(),this.olt.ylt()},i.adt=function(t){return this.Ydt.canPlayType('video/mp4; codecs="'+t+'"')},i.cdt=function(){return _.max(this.Ydt.offsetWidth,this.jdt.offsetWidth)},i.fdt=function(){return _.max(this.Ydt.offsetHeight,this.jdt.offsetHeight)},i.Vlt=function(){!this.flt&&this.loaded&&(this.flt=!0,this.dispatchEvent("loaded"))},i.Wlt=function(){if("Mj"===this.fi){var t=this.p_,n=this.k_;t>0&&n>0&&(this.vlt!==t||this.dlt!==n)&&(this.vlt=t,this.dlt=n,this.dispatchEvent("resize"))}},i.Hlt=function(){var t=this.qG;this.qG=!0,t||this.dispatchEvent("updatestart")},A(n,[{key:"yg",get:function(){var t=[];return m(this.nlt.RR)||t.push({RR:this.nlt.RR,NR:this.nlt.NR}),m(this.ilt.RR)||t.push({RR:this.ilt.RR,NR:this.ilt.NR}),HB(PB(new CB(t)),this.Zdt.yg)}},{key:"duration",get:function(){return this.elt.d5?this.elt.NR:this.rlt.d5?this.rlt.NR:NaN}},{key:"paused",get:function(){return this.elt.w_}},{key:"ended",get:function(){return this.elt.l_}},{key:"muted",get:function(){return this.elt.muted&&this.rlt.muted},set:function(t){this.elt.muted=t,this.rlt.muted=t}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu=t,this.tlt&&this.tlt.wdt(),this.rlt.volume=0,this.elt.volume=this.Bu}},{key:"error",get:function(){return this.KS}},{key:"warning",get:function(){return this.Kvt}},{key:"seeking",get:function(){return this.olt!==this.Olt.Plt}},{key:"loaded",get:function(){return this.elt.$K}},{key:"m_",get:function(){return this.elt.m_},set:function(t){t>=0&&(this.elt.m_=t,this.rlt.m_=t)}},{key:"p_",get:function(){return this.elt.p_}},{key:"k_",get:function(){return this.elt.k_}},{key:"sx",get:function(){return this.qG}},{key:"Dl",get:function(){var t;if(this.olt===this.Olt.Ult||this.olt===this.Olt.Mlt)t=am.i_;else{var n=this.elt.Dl;if(n<=am.e_)t=n;else{var i=US.cI(this.yg).MR(),e=this.duration,r=this.vat();m(e)||(r=_.min(r,e));var s=i.hI(r);if(s){var u=s.NR(0);t=u-r>=3*this.m_||!m(e)&&u>=e?am.s_:am.r_}else t=am.e_}}return t===am.n_&&this.flt?am.i_:t}}]),n}(hP);function xz(t,n){return t.Mdt-n.RR}function Oz(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),tr(n),n.controls=!1,n}var Pz,Bz=function(){function t(t){var n=this;this.aR=void 0,this.Dg=void 0,this.Qlt=void 0,this.Ylt=void 0,this.jlt=void 0,this.Zlt=function(){(m(n.Ylt)||n.jlt)&&(n.Ylt=n.EO()),n.Qlt=n.Ylt,n.jlt=!1},this.Jlt=function(){var t=n.EO();n.$lt(t),n.Ylt=t},this.Klt=function(){n.aR.Dl<=am.e_&&n.Jlt()},this.t_t=function(){n.$lt(n.Ylt),n.jlt=!0},this.n_t=function(){n.Ylt=n.EO()},this.aR=t,this.Dg=US.dI(),this.Qlt=NaN,this.Ylt=NaN,this.jlt=!1,t.addEventListener("playing",this.Zlt),t.addEventListener("pause",this.Jlt),t.addEventListener("seeking",this.t_t),t.addEventListener("timeupdate",this.n_t),t.addEventListener(Em.zd,this.Klt)}var n=t.prototype;return n.eF=function(){var t=this.Dg,n=this.Qlt;if(!m(n)){var i=this.EO();n<i&&(t=t.jR(new US([n,i])))}return t.XE()},n.EO=function(){return this.aR.vat()},n.$lt=function(t){var n=this.Qlt;n<t&&(this.Dg=this.Dg.jR(new US([n,t]))),this.Qlt=NaN},n.Fat=function(){var t=this.EO();this.$lt(t),this.jlt=!0},n.nl=function(){this.Dg=US.dI(),this.Qlt=NaN,this.Ylt=NaN,this.jlt=!1},n.Sr=function(){var t=this.aR;t.removeEventListener("playing",this.Zlt),t.removeEventListener("pause",this.Jlt),t.removeEventListener("seeking",this.t_t),t.removeEventListener("timeupdate",this.n_t),t.removeEventListener(Em.zd,this.Klt),this.aR=null},t}(),Lz=function(t){function n(n,i){var e;return(e=t.call(this)||this).i_t=void 0,e.JS=void 0,e.Wz=!1,e.Au=NaN,e.e_t=void 0,e.Ii=void 0,e.Qdt=void 0,e.r_t=void 0,e.KS=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.llt=am.n_,e.s_t=function(){e.r_t.seeking||(e.r_t.removeEventListener("seeked",e.s_t),e.dispatchEvent("seeked"),e.u_t.paused?e.Ii=e.o_t:e.h_t(),e.YF())},e.a_t=function(){e.r_t.paused||(e.r_t.removeEventListener("playing",e.a_t),e.dispatchEvent("playing"))},e.c_t=function(t){e.Ii=e.f_t,e.KS=t,e.dispatchEvent({type:"error",error:e.KS})},e.v_t={paused:!0,play:function(){e.removeEventListener("yft",e.v_t.d_t),e.Wz?(e.Ii=e.l_t,e.r_t.removeEventListener("playing",e.a_t),e.r_t.addEventListener("playing",e.a_t),e.r_t.play(),e.dispatchEvent("play")):e.addEventListener("yft",e.v_t.d_t)},d_t:function(){e.removeEventListener("yft",e.v_t.d_t),e.Ii.play()},stall:function(){},pause:function(){e.v_t.d_t&&e.removeEventListener("yft",e.v_t.d_t),e.r_t.pause(),e.dispatchEvent("pause"),e.Ii=e.o_t},load:function(t){},vat:function(){return e.Wz?e.r_t.vat():0},Gat:function(t,n){var i=MB(e.yg,t);n=n||!i,e.r_t.removeEventListener("seeked",e.s_t),e.r_t.addEventListener("seeked",e.s_t),e.u_t.seekTime=t,e.Ii=e.u_t,e.dispatchEvent("Fat"),e.r_t.Gat(t,n),e.dispatchEvent("seeking")},XO:function(){return e.r_t.Dl},BJ:function(t){e.u_t.seekTime=e.vat(),e.Ii=e.__t,e.r_t.removeEventListener("BJ",e.__t.g_t),e.r_t.addEventListener("BJ",e.__t.g_t),e.r_t.BJ(t),e.YF()},forwardEvent:function(t){"pause"===t.type&&e.r_t.ended||e.dispatchEvent(t)}},e.o_t=Rr({},e.v_t,{pause:function(){e.removeEventListener("yft",e.v_t.d_t)},Gat:function(t){e.u_t.paused=!0,e.v_t.Gat(t)},BJ:function(t){e.u_t.paused=!0,e.v_t.BJ(t)}}),e.w_t=Rr({},e.o_t),e.m_t=Rr({},e.o_t,{load:function(t,n){e.removeEventListener("yft",e.m_t.y_t),n||e.dispatchEvent("loadstart"),e.Wz?e.r_t.load(t):(e.m_t.k_t=t,e.addEventListener("yft",e.m_t.y_t))},y_t:function(){e.removeEventListener("yft",e.m_t.y_t),e.Ii.load(e.m_t.k_t,!0)},k_t:null,vat:function(){return e.Wz?e.r_t.vat():e.m_t.p_t},Gat:function(t){e.removeEventListener("yft",e.m_t.b_t),e.Wz?(e.Ii=e.o_t,e.Ii.Gat(t)):(e.m_t.p_t=t,e.addEventListener("yft",e.m_t.b_t),e.dispatchEvent("seeking"))},b_t:function(){e.removeEventListener("yft",e.m_t.b_t),e.Ii.Gat(e.m_t.p_t)},p_t:0,BJ:function(t){}}),e.l_t=Rr({},e.v_t,{Gat:function(t){e.u_t.paused=!1,e.v_t.Gat(t)},play:function(){},stall:function(){e.Ii=e.A_t,e.A_t.T_t=e.r_t.vat(),e.A_t.paused=!1,e.r_t.addEventListener("Zvt",e.A_t.S_t),e.r_t.hdt(e.A_t.T_t),e.YF()},BJ:function(t){e.u_t.paused=!1,e.v_t.BJ(t)}}),e.A_t=Rr({},e.l_t,{paused:!1,T_t:0,Gat:function(t){e.r_t.removeEventListener("Zvt",e.A_t.S_t),e.A_t.paused?e.Ii=e.o_t:e.Ii=e.l_t,e.Ii.Gat(t),e.YF()},vat:function(){return e.A_t.T_t},XO:function(){return _.min(e.r_t.Dl,am.e_)},forwardEvent:function(){},play:function(){e.A_t.paused=!1,e.dispatchEvent("play")},pause:function(){e.A_t.paused=!0,e.dispatchEvent("pause")},stall:function(){},S_t:function(){e.r_t.seeking||(e.r_t.removeEventListener("Zvt",e.A_t.S_t),e.A_t.paused?e.Ii=e.o_t:e.v_t.play(),e.YF())}}),e.u_t=Rr({},e.v_t,{paused:!1,seekTime:0,vat:function(){return e.u_t.seekTime},play:function(){e.u_t.paused=!1},pause:function(){e.u_t.paused=!0,e.r_t.pause(),e.dispatchEvent("pause")}}),e.__t=Rr({},e.u_t,{Gat:function(t){e.r_t.removeEventListener("BJ",e.__t.g_t),e.u_t.paused?e.Ii=e.o_t:e.Ii=e.l_t,e.Ii.Gat(t)},XO:function(){return _.min(e.r_t.Dl,am.e_)},forwardEvent:function(){},stall:function(){},g_t:function(){e.r_t.seeking||(e.r_t.removeEventListener("BJ",e.__t.g_t),e.u_t.paused?e.Ii=e.o_t:e.v_t.play(),e.YF())}}),e.f_t=Rr({},e.v_t,{play:function(){},pause:function(){},load:function(){},vat:function(){return NaN},XO:function(){return am.n_},Gat:function(t){e.v_t.Gat(t,!0)},BJ:function(t){}}),e.Ur=function(t){e.dispatchEvent(t)},e.E_t=function(t){e.Ii.forwardEvent(t)},e.R_t=function(t){e.c_t(t.error)},e.I_t=function(t){if(t.origin&&t.origin.d5)return e.tg();e.Ii.stall()},e.Ovt=function(){var t=e.r_t.duration;t&&e.Au!==t&&(e.Au=t,e.dispatchEvent("durationchange"))},e.N_t=function(){e.r_t.loaded&&(e.loaded=!0)},e.YF=function(){var t=e.Dl;t!==e.llt&&(e.llt=t,e.dispatchEvent(Em.zd))},e.i_t=n,e.JS=i,e.e_t=new Bz(Yt(e)),e.r_t=new wz,e.Ii=e.m_t,e.Qdt=s.createElement("div"),e.Qdt.style.position="absolute",e.Qdt.style.width="100%",e.Qdt.style.height="100%",e.D_t(),e}S(n,t);var i=n.prototype;return i.h_t=function(){this.v_t.play()},i.D_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.r_t.addEventListener(e,this.Ur)}for(var r=0;r<n.length;r++){var s=n[r];this.r_t.addEventListener(s,this.E_t)}this.r_t.addEventListener("ended",this.I_t),this.r_t.addEventListener("error",this.R_t),this.r_t.addEventListener("durationchange",this.Ovt),this.r_t.addEventListener("loaded",this.N_t),this.r_t.addEventListener(Em.zd,this.YF)},i.setup=function(){this.JS.TE.parentNode===this.i_t?this.i_t.replaceChild(this.Qdt,this.JS.TE):(this.JS.TE.parentNode&&this.JS.TE.parentNode.removeChild(this.JS.TE),this.i_t.appendChild(this.Qdt))},i.play=function(){this.Ii.play()},i.pause=function(){this.Ii.pause()},i.C_t=function(t){this.r_t&&this.r_t.hv(t),this.Wz=!1},i.tg=function(){this.pause(),this.Ii=this.w_t,this.KS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Ii.load(t)},i.unload=function(){return this.r_t.hv(),this.e_t.Sr(),this.Qdt.parentNode===this.i_t?this.i_t.replaceChild(this.JS.TE,this.Qdt):(this.Qdt.parentNode&&this.Qdt.parentNode.removeChild(this.Qdt),this.i_t.appendChild(this.JS.TE)),this.Wr(),this.JS.TE},i.reset=function(t){this.Wz=!1,this.Ii=this.m_t,this.KS=void 0,this.Au=NaN,this.llt=am.n_,this.e_t.nl(),this.C_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.BJ=function(t){this.Ii.BJ(t)},i.t7=function(t){return this.r_t.t7(t),ze.resolve()},i.fg=function(){return this.r_t.fg()},i.vat=function(){return this.Ii.vat()},i.Gat=function(t){this.e_t.Fat(),this.Ii.Gat(t)},i.Yst=function(t,n){return ze.resolve()},i.canPlayCodecs=function(t){return this.r_t.adt('video/mp4; codecs="'+t+'"')},i.Cat=function(t,n,i){var e={};for(var r in t)if(M.call(t,r)){var s=t[r];!this.r_t.videoStream&&s.Mj&&(this.r_t.videoStream=new Cz(this.Qdt,"Mj"),e.Mj=this.r_t.videoStream),!this.r_t.audioStream&&s.Lj&&(this.r_t.audioStream=new Cz(this.Qdt,"Lj"),e.Lj=this.r_t.audioStream,this.dispatchEvent("cft"))}return this.Wz=!0,this.dispatchEvent("yft"),ze.resolve(e)},A(n,[{key:"Dat",get:function(){return this.Wz}},{key:"pg",get:function(){return this.Qdt}},{key:"yg",get:function(){return this.r_t.yg}},{key:"volume",get:function(){return this.r_t.volume},set:function(t){this.r_t.volume=t}},{key:"duration",get:function(){return this.Au}},{key:"muted",get:function(){return this.r_t.muted},set:function(t){this.r_t.muted=t}},{key:"paused",get:function(){return this.Ii.paused&&this.r_t.paused}},{key:"played",get:function(){return this.e_t.eF()}},{key:"ended",get:function(){return this.Ii===this.w_t}},{key:"seeking",get:function(){return this.Ii===this.u_t}},{key:"error",get:function(){return this.KS||this.r_t.error}},{key:"warning",get:function(){return this.r_t.warning}},{key:"width",get:function(){return this.r_t.cdt()}},{key:"height",get:function(){return this.r_t.fdt()}},{key:"m_",get:function(){return this.r_t.m_},set:function(t){this.r_t.m_=t}},{key:"Dl",get:function(){return this.Ii.XO()}},{key:"p_",get:function(){return this.r_t.p_}},{key:"k_",get:function(){return this.r_t.k_}}]),n}(hP);!function(t){t.vY="unsupported",t.x_t="native",t.O_t="hls-native",t.P_t="hls-mse",t.B_t="hls-switching-video"}(Pz||(Pz={}));var Mz=function(){function t(){this.L_t={},this.M_t(Pz.x_t,GH),this.M_t(Pz.O_t,GH),this.M_t(Pz.P_t,az),this.M_t(Pz.B_t,Lz)}return t.prototype.M_t=function(t,n){this.L_t[t]=n},t.M_t=function(n,i){t.FK.M_t(n,i)},t.U_t=function(n,i,e){var r=t.FK.L_t[n];return r?new r(i,e):void 0},t}();Mz.FK=new Mz;var Uz=function(t){function n(n){var i;return(i=t.call(this)||this).F_t=void 0,i.H_t=function(t){i.Fr(t)},i.F_t=n,i.z_t(),i}S(n,t);var i=n.prototype;return i.z_t=function(){this.F_t.Hr("yC",this.H_t)},i.V_t=function(){this.F_t.Xr("yC",this.H_t)},i.hv=function(){this.V_t()},A(n,[{key:"SC",get:function(){return this.F_t.SC}},{key:"EC",get:function(){return this.F_t.EC}},{key:"W_t",set:function(t){if(this.F_t!==t){var n=this.EC,i=this.SC;this.V_t(),this.F_t=t,this.z_t();var e=this.EC,r=this.SC;n===e&&i===r||this.Fr(new FR(e,r))}}}]),n}(iu);function Fz(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function Hz(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function zz(t,n){var i=t.type;return i?Nb?Hz(i)?!Lb||n.useSwitchOverMSE||L.dn&&n.vr&&n.vr[360]?!xb||L.un||L.fn&&L.Ht?Ob?Pz.B_t:Pz.vY:Pz.O_t:Pz.P_t:Pz.x_t:Pz.vY:Pz.x_t}var Vz=function(t,n,i,e,r){var s,u,o,c,f,d,g=this,y=null,k=null,p=null,b=!0,A=null,T=null,S=!1,E=null,R=null,I=null,N=zS,D=zS,C=!0,x=null,O={a1:0,ddt:0},P=null,B=null,M=null,U=1,F=!1,H="none",z=!0,W=!0,X=!1,q=null,G=!0,Q=!1,Y=am.n_,j=!1,Z=!1,J=NaN,$=null,K=null,tt=L.Qt&&Cb,nt=!1,it="",et=Pz.vY,rt=null,st=function(){var t=new fP(cP.vY,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.AE(my.Jf)).TE:(e=n.AE(my.$f)).TE).preload="none",tr(t),e},ot=function(t){return t===R?I:R},ht=function(){A.style.zIndex="1",T.style.zIndex="0",A.style.display=b?"":"none",T.style.display=b&&S?"":"none"},at=function(t){gt(t.WJ),_t(t.XJ),u&&(u.WJ=o),yt()},ct=function(t,n){mt(t.WJ,n),wt(t.XJ),u&&(u.WJ=o)},ft=function(){zt(),Rt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},vt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("cft",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===Pz.x_t&&(Q=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Ht),k.addEventListener("seeked",zt),k.addEventListener("ended",ft),k.addEventListener(Em.zd,Kt),k.setup(),d.zat=k,n(["timeupdate","playing","ratechange","resize"],t),et){case Pz.x_t:case Pz.O_t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case Pz.P_t:n(["play","pause"],Tt)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},dt=function(t){y&&y.Dct(),k&&(y=new RH(t,tt,f,e))},lt=function(t){var n=Dt(t.sources),e=t.textTracks||[],r=zH(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.$ct=!0),{sources:[n],textTracks:e,configuration:r}},_t=function(t){wt(t)},gt=function(t){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.b$.addEventListener("renditionUpdated",function(){Xt()}),d.b$=o.b$)},wt=function(t){var n;c&&(c.hv(),c=null),k&&(c=t)&&(n=c.aat,c.addEventListener("OJ",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.rZ,g.dispatchEvent(t),zb&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("ts",function(t){Yt(t.error)}),c.addEventListener("zht",function(t){g.dispatchEvent(t)}),c.zat=k,m(n)||Ft(n))},mt=function(t,n){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener(Xc.Ca,function(t){g.dispatchEvent(t)}),o.addEventListener(Xc.Oa,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.addEventListener("C$",function(){g.dispatchEvent("progress")}),o.b$.addEventListener("renditionUpdated",function(){Xt()}),o.b$.addEventListener("renditionUpdated",function(t){var i,e=t.rZ.zZ&&t.rZ.zZ.Lj;e&&-1!==e.indexOf("mp4a.40.3")&&("Q6"!==n.Y6||Bb||(i=P,oP(function(){n.useSwitchOverMSE=!0;var t=W;P=null,tn({sources:i,configuration:n}),t||Et()})))}),d.b$=o.b$)},yt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Pt)},kt=function(){var t=G,n=!o||o.Ng;G=n,n&&!t?g.dispatchEvent(Xc.pa):!n&&t&&g.dispatchEvent(Xc.ka)},pt=function(){z=!1,W=!1,j=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Xt()},bt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",At),z&&(pt(),g.ended?Ft(0):qt(),k.play(),c&&c.J_())},At=function t(){g.removeEventListener("initialized",bt),g.removeEventListener("initialized",t),z&&(pt(),qt())},Tt=function(t){var n=W;W="pause"===t.type,n&&!W?g.play({fromNative:!0}):!n&&W&&g.pause({fromNative:!0})},St=function(){j=!0,k.configuration.useNativeVideoPlayback?(k.load(),O.ddt="start"):k.loading||(k.load(),k.loading=!0),Xt()},Et=function(t){if(t=t||{},W=!1,C&&(C=!1,n.NI()),O.X_t=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new fP(cP.aY,{code:"MGB6720"});throw Yt(i),i}return g.removeEventListener("initialized",bt),g.removeEventListener("initialized",At),g.addEventListener("initialized",t.fromNative?At:bt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(z){if(X&&g.ended)return Rt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?At():bt()}},Rt=function(t){W=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",bt),g.removeEventListener("initialized",At),!z&&k&&(z=!0,t.fromNative||k.pause(),g.dispatchEvent("pause",!0))},It=function(t){return{type:Fz(t)?"application/vnd.apple.mpegurl":"",src:t}},Nt=function(t){return"string"==typeof t},Dt=function(t){if(FH(t))return t.type?t:It(t.src);if(Nt(t))return It(t);if(V(t)&&Nt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(Fz(i))return It(i)}return It(t[0])}if(V(t)&&FH(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(Hz(r.type)||!r.type&&Fz(r.src))return r.type?r:It(r.src)}return t[0]}return{type:null,src:null}},Ct=function(t){var n=(t=lt(t)).sources[0],i=t.configuration,s=zz(n,i);!function(t,n){switch(t){case Pz.x_t:case Pz.O_t:n.Y6=!1,n.q_t=!1;break;case Pz.P_t:n.Y6="Q6",n.q_t=!0;break;case Pz.B_t:n.Y6="H5",n.q_t=L.Mt}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case Pz.x_t:h=s=o=null;break;case Pz.O_t:h=null;var c=new mH(a,e);s=c,o=new TH(c);break;case Pz.P_t:case Pz.B_t:h=new DH(a,e);var f=new wH(a,h,e,r);s=f,o=new bH(f);break;default:return null}return new uB(n,t,i,h,s,o,u)}(s,n,t);return o?(o.XJ&&(o.XJ.m_=g.playbackRate),o):null},xt=function(t){tn({sources:t})},Ot=function(n,i){var e=E,r=e.TE,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.G_t;K&&(K.hv(),K=null),nn();var f=n&&n.M$||null;n&&n.B$,B=n&&n.hR||null,M=f&&f.configuration||null,et=n&&n.L$||Pz.vY,jt();var v={type:"Q_t",Y_t:n,rh:M,j_t:i};if(g.dispatchEvent(v),et!==Pz.vY){if(k){g.pause();var d=h===et||h===Pz.O_t&&et===Pz.x_t||h===Pz.x_t&&et===Pz.O_t,l=i&&!L.Qt;if(d&&!l)k.reset(),y.nl();else{if(l?(p=k,r=(e=ot(e)).TE):r=k.unload(),!(u=Mz.U_t(et,t,e)))return void st();k=u,vt(),dt(r)}zt(),Q=!1,Y=am.n_,j=!1,Z=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),O.ddt=0,O.a1=0,O.X_t=!0,g.dispatchEvent("timeupdate")}else{if(!(u=Mz.U_t(et,t,e)))return void st();k=u,e.TE.removeAttribute("poster"),vt(),dt(e.TE)}switch(E=e,s.W_t=E.pB,A=k.pg,p?(T=p.pg,S=!0):(T=ot(e).TE,S=!1),ht(),M.crossOrigin){case sm.Jl:case sm.$l:E.TE.setAttribute("crossorigin",M.crossOrigin);break;default:E.TE.removeAttribute("crossorigin")}if(c!==g.G_t&&g.dispatchEvent(Xc._a),Pt(),Lt(),!B)return P=null,void(g.initialized=!1);!function(t,n){switch(et){case Pz.x_t:case Pz.O_t:at(t);break;case Pz.P_t:case Pz.B_t:ct(t,n);break;default:return}t.aR=g,t.j$(H)}(K=n,M),k.src=B,y.Ect(f&&f.textTracks),g.playbackRate=a,P=B;var _={type:"Z_t",Y_t:n,rh:M,j_t:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),kt(),Ft("start"),k.configuration.useNativeVideoPlayback&&L.Qt&&o&&Qt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Pt=function(){var t=it;(it=g.lft)!==t&&g.dispatchEvent("J_t")},Lt=function(){d&&(d.jH=tt&&nt)},Mt=function(){return k&&k.Dat?k.volume:U},Ut=function(){if(!Z)return"start"===x?0:x||0;if(!k||O.X_t)return O.ddt;if(c){var t=c.aat;return"start"===t?0:t}return k.vat()},Ft=function(t){if(!Z){var n=Ut();return x=t,void(n!==Ut()&&Ht())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Jt(t),k){if(_.abs(O.ddt-t)<.001&&SR()-O.a1<50)return;Ht(),c?c.aat=t:k.Gat(t),k.seeking||zt(),O={ddt:t,a1:SR()}}},Ht=function(){X=!0,Wt(),rt=h(Vt,100)},zt=function(){X&&(X=!1,rt&&Vt(),g.dispatchEvent("seeked"))},Vt=function(){Wt(),g.dispatchEvent("seeking")},Wt=function(){rt&&(a(rt),rt=null)},Xt=function(){Z||(Z=!m(J)&&Zt().length>0&&(j||!g.live))&&g.dispatchEvent("Ldt")},qt=function t(){g.removeEventListener("Ldt",t),null!==x&&(Z?Ft(x):g.addEventListener("Ldt",t))},Gt=function(){return k&&k.Dat?k.muted:F},Qt=function(){return W},Yt=function(t){if(t&&t.code===cP.cY)return n=!W,xt(K.hR),void(n&&Et());var n;Qt()||Rt(),q=t,g.dispatchEvent({type:"error",error:q})},jt=function(){q=null},Zt=function(){return NB(c?c.xg:J>0?new CB([{RR:0,NR:J}]):xB)},Jt=function(t){var n=Zt();return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},$t=function(){var t=k?k.Dl:am.n_;return Q&&(t=_.max(am.i_,t)),t},Kt=function(){var t=$t();t!==Y&&(Y=t,g.dispatchEvent(Em.zd))},tn=function(t){var n=Ct(t);Ot(n,!1)},nn=function(){if(p){var t=p.unload();p=null,S=!1,T=t||ot(E).TE,ht()}};g.initialized=!1,g.warning=null,g.play=Et,g.pause=Rt,g.load=function(){if(!g.initialized||!k){var t=new fP(cP.aY,{code:"MGB7330"});throw Yt(t),t}St(),Ft("start")},g.$_t=Ct,g.K_t=Ot,g.Sr=function(){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.kr=!0,g.Wr(),P&&xt(null),d&&(d.hv(),d=null),f&&(f.nl(),f=null),nn(),k&&(k.unload(),k=null),!R.TE){i.next=11;break}return i.next=10,Er.awrap(n.zE(R));case 10:R=null;case 11:if(!I.TE){i.next=15;break}return i.next=14,Er.awrap(n.zE(I));case 14:I=null;case 15:s.hv(),t=null;case 17:case"end":return i.stop()}},null,null,null,ze)},g.ig=tn,g.ag=function(){b=!0,ht()},g.cg=function(){b=!1,ht()},g.fg=function(){return k&&k.fg()},g.B_=function(){return Rr({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?jI(k.zat):{Ag:0,Tg:0,Sg:0},{Eg:8*em.ql()})},l.defineProperty(g,"buffered",{get:function(){return NB(k?k.yg:xB)}}),l.defineProperty(g,"played",{get:function(){return k?NB(k.played):xB}}),l.defineProperty(g,"seekable",{get:Zt}),l.defineProperty(g,"live",{get:function(){return!(!o||!EP.D_(o.b$.wZ))}}),l.defineProperty(g,"volume",{get:Mt,set:function(t){(t=w(t))!==Mt()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ut,set:Ft}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.kg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&c&&(n=c.ltt(t),m(n)||null===n||Ft(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Gt,set:function(t){t!==Gt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Qt,set:function(t){t?Rt():Et()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=xS((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return X}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"G_t",{get:function(){return M&&M.vr&&M.vr[360]?zS:E===R?N:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.p_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.k_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.XZ}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Xat(Ut()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ft(c.qat(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.m_||k&&k.m_||1},set:function(t){(t=w(t))>0&&(c?c.m_=t:k&&(k.m_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Y_.Ed||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.Q_.Ed||null}}),l.defineProperty(g,"j_",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return G}}),l.defineProperty(g,"vft",{get:function(){return k&&k.vft}}),l.defineProperty(g,"dft",{get:function(){return k&&k.dft}}),l.defineProperty(g,"lft",{get:function(){return k&&k.lft||"inline"},set:function(t){k&&(k.lft=t)}}),l.defineProperty(g,"tgt",{get:function(){return nt},set:function(t){nt=!!t,Lt()}}),l.defineProperty(g,"Dl",{get:$t}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Xc.pa,function(){g.live&&Ft("start")}),g.addEventListener("playing",nn),f=new jp,d=new NH(g,f),g.addEventListener("fullscreenchange",Lt),Lt(),i.allowManualQualitySwitch&&(u=new oB),n=function(t){if("string"==typeof t)try{return aP.Rn.$G(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.vot=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),g.addEventListener("durationchange",Xt),R=ut(),I=ut(),E=R,A=R.TE,T=I.TE,s=new Uz(E.pB),N=R.ME,D=I.ME,ht(),xt(null)}()};Vz.prototype=new hP,Vz.prototype.constructor=Vz;var Wz,Xz=((Wz={useSwitchOverMSE:!1,ManifestParser:"ngt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),Wz.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Mb&&Wz.abrRules.push("AvoidHighBitrateStreamsRule"),L.Zt&&Wz.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),Wz);var qz=function(t){function n(n,i,e){var r;return(r=t.call(this,dw.Gd)||this).igt=n,r.egt=i,r.rgt=e,r}return S(n,t),n.prototype.Rd=function(){return new Gz(this.igt&&this.igt.Ed)},n}(fw),Gz=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(ru),Qz=function(t){function n(n,i){var e;return(e=t.call(this,dw.Yd)||this).kl=void 0,e.Id=void 0,e.kl=n||[],e.Id=i,e}return S(n,t),n.prototype.Rd=function(){return new Yz(this.kl.map(function(t){return t.Ed}))},n}(fw),Yz=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(ru),jz=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(ru);function Zz(t){return{get bandwidth(){return t.xS},get codecs(){return t.zZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.WZ},get label(){return t.ml},set label(n){t.ml=Pw(n)},get height(){return t.hp},get width(){return t.Rw},get frameRate(){return t.v$},get firstFrame(){return t.sgt},get available(){return t.xQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function Jz(t){return{get bandwidth(){return t.xS},get codecs(){return t.zZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.WZ},get label(){return t.ml},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.ml=n},get audioSamplingRate(){return t.ugt},get available(){return t.xQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function $z(t){return{xS:t.xS,ae:t.zZ,hp:Kz(t)?t.hp:0,nr:Kz(t)?my.$f:my.Jf,Rw:Kz(t)?t.Rw:0}}function Kz(t){var n=t;return void 0!==n.hp&&void 0!==n.Rw}var tV=function(t){function n(n,i){var e;(e=t.call(this)||this).ogt=void 0,e.hgt=void 0,e.Hg=void 0,e.Bg=void 0,e.Sd=void 0,e.agt=void 0,e.l$=void 0,e.cgt=function(){return e.fgt()},e.vgt=function(){return e.dgt()},e.lgt=function(){return e.Fr(new py(Yt(e)))},e.Hg=Ty(),e.ogt=n,e.hgt=i,e.Bg=new ky;for(var r=e.ogt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e._gt(u);o.Hr("update",e.lgt),e.Bg.Lg(o)}return e.ogt.qualities.addEventListener("activequalitychanged",e.cgt),e.ogt.qualities.addEventListener("targetqualitychanged",e.vgt),e.fgt(),e.dgt(),e}S(n,t);var e=n.prototype;return e.ggt=function(t){t!==this.agt&&(this.agt=t,t&&this.Fr(new qz(t)))},e.wgt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Os(n,t[i]))return!1;return!0}(t,n)},e.mgt=function(t){for(var n=0,i=this.Bg.il;n<i.length;n++){var e=i[n];if(e.ygt===t)return e}},e.kgt=function(t){for(var n=[],i=0,e=this.Bg.il;i<e.length;i++){var r=e[i];Os(t,r.ygt)&&n.push(r)}return n},e.fgt=function(){var t=this.ll?this.ogt.qualities.activeQuality:void 0,n=t&&this.mgt(t)||void 0;this.ggt(n)},e.dgt=function(){var t=this.ogt.qualities.targetQuality;t?z(t)?this.pl=this.kgt(t)||void 0:this.pl=this.kgt([t])||void 0:this.pl=void 0},e.Wg=function(t){this.ll=t},e.hv=function(){this.ogt.qualities.removeEventListener("activequalitychanged",this.cgt),this.ogt.qualities.removeEventListener("targetqualitychanged",this.vgt);for(var t=0,n=this.Bg.il;t<n.length;t++){var i=n[t];i.Xr("update",this.lgt),i.hv()}},A(n,[{key:"dl",get:function(){return this.agt}},{key:"ll",get:function(){return this.ogt.enabled},set:function(t){t?this.hgt.enable(this.ogt):this.hgt.disable(this.ogt)}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.ogt.id+""}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.ogt.kind}},{key:"ml",get:function(){var t;return null!=(t=this.ogt.name)?t:""},set:function(t){t!==this.ml&&(this.ogt.name=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.ogt.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){return this.l$},set:function(t){var n=this.l$,e=void 0!==this.dl?$z(this.dl):void 0,r=t?t.filter(function(t){return i.Pe.Qi(e,$z(t))}):void 0;r&&0===r.length||this.wgt(r,n)||(this.l$=r,this.ogt.qualities.targetQuality=r?r.map(function(t){return t.ygt}):null,this.Fr(new Qz(r,this)))}}]),n}(iu),nV=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).ygt=void 0,r.Sd=void 0,r.$I=function(){return r.Zo()},r._l=void 0,r.gl=void 0,r.xS=void 0,r.WZ=void 0,r.zZ=void 0,r.uj=void 0,r.ygt=n,r.ygt.addEventListener("qualityupdated",r.$I),r._l=String(n.id),r.gl=null!=(i=n.uid)?i:Ey++,r.xS=null!=(e=n.bandwidth)?e:NaN,r.WZ=n.averageBandwidth,r.zZ=n.codecs,r.uj=n.uri,r}S(n,t);var i=n.prototype;return i.Zo=function(){this.pgt()&&this.Fr(new jz(this.Ed))},i.pgt=function(){var t,n,i=this.ygt,e=null!=(t=i.uid)?t:this.gl,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.gl!==e||!Ft(this.xS,r)||this.zZ!==s||this.uj!==u;return this.gl=e,this.xS=r,this.zZ=s,this.uj=u,o},i.hv=function(){this.ygt.removeEventListener("qualityupdated",this.$I)},i.lA=function(){},A(n,[{key:"ml",get:function(){return this.ygt.name||""},set:function(t){this.ml!==t&&(this.ygt.name=t,this.Fr(new jz(this.Ed)))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"xQ",get:function(){return!0}}]),n}(iu),iV=function(t){function n(n){var i;return(i=t.call(this,n)||this).ugt=void 0,i.Sd=void 0,i.ugt=NaN,i}return S(n,t),n.prototype.Rd=function(){return Jz(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(nV),eV=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).v$=void 0,e.Rw=void 0,e.hp=void 0,e.bgt=void 0,e.Sd=void 0,e.v$=n.frameRate,e.Rw=n.resolution?n.resolution.width:NaN,e.hp=n.resolution?n.resolution.height:NaN,e.bgt=i,e}S(n,t);var i=n.prototype;return i.pgt=function(){var n=t.prototype.pgt.call(this),i=this.ygt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Ft(this.v$,e)||!Ft(this.Rw,r)||!Ft(this.hp,s),this.v$=e,this.Rw=r,this.hp=s,n},i.Rd=function(){return Zz(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"sgt",get:function(){return this.bgt},set:function(t){this.bgt!==t&&(this.bgt=t,this.Fr(new jz(this.Ed)))}}]),n}(nV),rV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._gt=function(t){return new iV(t)},n}(tV),sV=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Agt=void 0,n}S(n,t);var i=n.prototype;return i._gt=function(t){return new eV(t,this.Agt)},i.Tgt=function(t){this.Agt=t;for(var n=0,i=this.kl.il;n<i.length;n++){var e=i[n];void 0!==e.sgt&&(e.sgt=t)}},n}(tV),uV=function(t){function n(){return t.call(this,Xc.pa)||this}return S(n,t),n}(ru),oV=function(t){function n(){return t.call(this,Xc.ka)||this}return S(n,t),n}(ru),hV=function(){function t(t,n){this.W_=void 0,this.DV=void 0,this.W_=new jp,this.DV=new ix(t,n)}var n=t.prototype;return n.pA=function(t,n,i,e,r,s,u){var o=new iC(t,n,i,e,r,s,u);return this.W_.$d(o),this.DV.$d(o),o},n.TA=function(t){this.W_.Kd(t),this.DV.Kd(t),t.hv()},n.nl=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl(),this.DV.nl()},n.hv=function(){this.nl(),this.W_.hv(),this.DV.hv()},A(t,[{key:"j_",get:function(){return this.W_}}]),t}();function aV(t,n){for(var i=0;i<t.sl;i++){var e=t.Jd(i);if(e.ogt===n)return e}}var cV=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).AI=void 0,o.hG=void 0,o.Sgt=void 0,o.Egt=void 0,o.Rgt=void 0,o.z_=void 0,o.V_=void 0,o.RV=void 0,o.IV=void 0,o.W_=void 0,o.wA=void 0,o.TG=void 0,o.SG=void 0,o.Igt=void 0,o.KS=void 0,o.tE=void 0,o.Ngt=NaN,o.Dgt=0,o.uE=new _S,o.oE=new pS,o.Cgt=function(){o.Fr(new Nm(o.v_))},o.xgt=function(){o.Fr(new Im(o.v_))},o.Ogt=function(){o.Fr(new Fm(o.v_))},o.Pgt=function(){o.Fr(new Hm(o.v_))},o.Bgt=function(){o.Fr(new Bm(o.v_,o.m_))},o.Lgt=function(){o.Fr(new zm(o.v_,o.b_))},o.Mgt=function(){o.Fr(new jN(o.v_))},o.Ugt=function(){o.Fr(new Mm(o.v_))},o.Fgt=function(){o.Fr(new ZN)},o.Hgt=function(){o.Fr(new uV)},o.zgt=function(){o.Fr(new oV)},o.Vgt=function(){o.Wgt(),o.Rgt.nl(),o.Xgt(),o.HE()},o.xB=function(){o.Xgt(),o.HE(),o.RE()},o.Wgt=function(){var t=o.Ngt,n=o.d_;o.Ngt=n,t===n||m(t)&&m(n)||o.Fr(new Pm(n))},o.qgt=function(t){var n=t.error||o.Sgt.error;if(n){var i,e=cy.DECODE;n.code===cP.eY&&os(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.KS=new ly(e,n.message,i),o.Fr(new qm(function(t){return new Tc(wy(t.code),t.message,t)}(o.KS)))}},o.cE=function(){o.Fr(new Lm(o.v_,o.kg))},o.Ggt=function(){o.p_>0&&o.k_>0&&o.Fr(new bb)},o.Qgt=function(){o.Fr(new nm)},o.Ygt=function(t){o.V_.il.forEach(function(n){return n.Tgt(t.ptsOffset)})},o.jgt=function(t){o.Dgt+=t.Rg,o.Fr(t)},o.Zgt=function(t){return o.Jgt(t.track)},o.$gt=function(t){return o.Kgt(t.track)},o.twt=function(t){var n=aV(o.z_,t.track);n&&n.Fr(new pw(n))},o.nwt=function(t){var n=aV(o.V_,t.track);n&&n.Fr(new pw(n))},o.hG=n,o.AI=i,r=function(t){var n,i={};return i=HH(t,i),(i=HH(Xz,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!L.Vt&&i.allowManualQualitySwitch,i.libraryLocation=S_(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return M.call(n,t)?n[t]:t}),i}(r),o.Sgt=new Vz(o.hG,o.AI,r,e,s),o.iwt(),o.Egt=new fV(o.Sgt),o.Rgt=new Qb(o.Egt,!0),o.Rgt.Hr(xm,o.Ur),o.z_=new yy,o.V_=new yy,o.wA=new hV(Yt(o),new ex),o.RV=new lx(Yt(o)),o.RV.fl=o.Sgt.j_,o.IV=new _x(o.wA,o.RV),o.W_=new mS([o.Sgt.j_,o.IV.qk]),o.TG=new Wx,o.TG.sX(n),o.SG=new FO(o.TG.pg,o.Sgt.dimensions,o.j_,u,o.Sgt.G_t),o.RE(),o}S(n,t);var i=n.prototype;return i.cg=function(){this.Sgt.cg(),this.TG.cg()},i.ag=function(){this.Sgt.ag(),this.TG.ag()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.Igt=t,this.Sgt.ig({sources:{src:t.src,type:um.Yl,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:Rr({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,ze)},i.J_=function(){this.Sgt.play()},i.K_=function(){this.Sgt.pause()},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Igt=void 0,this.KS=void 0,this.tE=void 0,this.Dgt=0,this.Sgt.ig({sources:null}),this.Rgt.nl(),this.wA.nl(),this.Xgt();case 8:case"end":return t.stop()}},null,this,null,ze)},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.fg=function(){return this.Sgt.fg()||void 0},i.vg=function(){return this.Sgt.G_t},i.mg=function(){},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.Rgt.hv(),this.Egt.hv(),this.ewt(),t.next=8,Er.awrap(this.Sgt.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.RV.hv(),t.next=13,Er.awrap(this.IV.hv());case 13:this.wA.hv(),this.W_.hv(),this.SG.hv(),this.TG.hv();case 17:case"end":return t.stop()}},null,this,null,ze)},i.iwt=function(){this.Sgt.addEventListener("Q_t",this.Vgt),this.Sgt.addEventListener("Z_t",this.xB),this.Sgt.addEventListener("durationchange",this.Wgt),this.Sgt.addEventListener("error",this.qgt),this.Sgt.addEventListener("timeupdate",this.cE),this.Sgt.addEventListener("resize",this.Ggt),this.Sgt.addEventListener(Xc._a,this.Qgt),this.Sgt.addEventListener("zht",this.Ygt),this.Sgt.addEventListener(Xc.Oa,this.jgt),this.Sgt.addEventListener("play",this.Cgt),this.Sgt.addEventListener("pause",this.xgt),this.Sgt.addEventListener("seeking",this.Ogt),this.Sgt.addEventListener("seeked",this.Pgt),this.Sgt.addEventListener("ratechange",this.Bgt),this.Sgt.addEventListener("volumechange",this.Lgt),this.Sgt.addEventListener("progress",this.Mgt),this.Sgt.addEventListener("ended",this.Ugt),this.Sgt.addEventListener("loadstart",this.Fgt),this.Sgt.addEventListener(Xc.pa,this.Hgt),this.Sgt.addEventListener(Xc.ka,this.zgt),this.Sgt.addEventListener(Xc.Ca,this.Ur)},i.ewt=function(){this.Sgt.removeEventListener("Q_t",this.Vgt),this.Sgt.removeEventListener("Z_t",this.xB),this.Sgt.removeEventListener("durationchange",this.Wgt),this.Sgt.removeEventListener("error",this.qgt),this.Sgt.removeEventListener("timeupdate",this.cE),this.Sgt.removeEventListener("resize",this.Ggt),this.Sgt.removeEventListener(Xc._a,this.Qgt),this.Sgt.removeEventListener("play",this.Cgt),this.Sgt.removeEventListener("pause",this.xgt),this.Sgt.removeEventListener("seeking",this.Ogt),this.Sgt.removeEventListener("seeked",this.Pgt),this.Sgt.removeEventListener("ratechange",this.Bgt),this.Sgt.removeEventListener("volumechange",this.Lgt),this.Sgt.removeEventListener("progress",this.Mgt),this.Sgt.removeEventListener("ended",this.Ugt),this.Sgt.removeEventListener("loadstart",this.Fgt),this.Sgt.removeEventListener(Xc.pa,this.Hgt),this.Sgt.removeEventListener(Xc.ka,this.zgt),this.Sgt.removeEventListener(Xc.Ca,this.Ur),this.Sgt.removeEventListener(Xc.Oa,this.jgt)},i.RE=function(){var t=this.Sgt.audioTracks,n=this.Sgt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Jgt(t.item(i));t.addEventListener("addtrack",this.Zgt),t.addEventListener("enabledtrack",this.twt),t.addEventListener("disabledtrack",this.twt)}if(n){for(var e=0;e<n.length;e++)this.Kgt(n.item(e));n.addEventListener("addtrack",this.$gt),n.addEventListener("enabledtrack",this.nwt),n.addEventListener("disabledtrack",this.nwt)}},i.HE=function(){var t=this.Sgt.audioTracks,n=this.Sgt.videoTracks;t&&(t.removeEventListener("addtrack",this.Zgt),t.removeEventListener("enabledtrack",this.twt),t.removeEventListener("disabledtrack",this.twt)),n&&(n.removeEventListener("addtrack",this.$gt),n.removeEventListener("enabledtrack",this.nwt),n.removeEventListener("disabledtrack",this.nwt))},i.Xgt=function(){for(var t=0,n=this.z_.il;t<n.length;t++){n[t].hv()}for(var i=0,e=this.V_.il;i<e.length;i++){e[i].hv()}this.z_.nl(),this.V_.nl()},i.Jgt=function(t){aV(this.z_,t)||this.z_.$d(new rV(t,this.Sgt.audioTracks))},i.Kgt=function(t){aV(this.V_,t)||this.V_.$d(new sV(t,this.Sgt.videoTracks))},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.Sgt.buffered}},{key:"kg",get:function(){var t;return null!=(t=this.Sgt.currentProgramDateTime)?t:void 0},set:function(t){this.Sgt.currentProgramDateTime=null!=t?t:null}},{key:"v_",get:function(){var t=this.Sgt.currentTime;return t===1/0&&m(this.Sgt.duration)&&(t=0),t},set:function(t){this.Sgt.currentTime=t}},{key:"d_",get:function(){var t=this.Sgt.duration;return t<0?1/0:t}},{key:"l_",get:function(){return this.Sgt.ended}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return!1}},{key:"B_",get:function(){return Rr({},this.Sgt.B_(),{Rg:this.Dgt})}},{key:"g_",get:function(){return this.Sgt.muted},set:function(t){this.Sgt.muted=t}},{key:"Ng",get:function(){return this.Sgt.online}},{key:"w_",get:function(){return this.Sgt.paused}},{key:"m_",get:function(){return this.Sgt.playbackRate},set:function(t){this.Sgt.playbackRate=t}},{key:"Dg",get:function(){return this.Sgt.played}},{key:"Cg",get:function(){return this.Sgt.preload||DS.dR},set:function(t){this.Sgt.preload=t}},{key:"Dl",get:function(){return this.Sgt.Dl}},{key:"xg",get:function(){return this.Sgt.seekable}},{key:"y_",get:function(){return this.Sgt.seeking}},{key:"QE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"k_",get:function(){return this.Sgt.videoHeight}},{key:"p_",get:function(){return this.Sgt.videoWidth}},{key:"b_",get:function(){return this.Sgt.volume},set:function(t){this.Sgt.volume=t}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"YE",get:function(){return this.uE}}]),n}(Kw),fV=function(t){function n(n){var i;return(i=t.call(this)||this).Sgt=void 0,i.rwt=function(){i.Fr(new Xm(i.v_,i.Dl))},i.swt=function(){i.Fr(new Gb(i.v_))},i.Cgt=function(){i.Fr(new Nm(i.v_))},i.xgt=function(){i.Fr(new Im(i.v_))},i.Sgt=n,i.Sgt.addEventListener(Em.zd,i.rwt),i.Sgt.addEventListener(Em.f_,i.swt),i.Sgt.addEventListener(Xc.Aa,i.Cgt),i.Sgt.addEventListener(Xc.ba,i.xgt),i}return S(n,t),n.prototype.hv=function(){this.Wr(),this.Sgt.removeEventListener(Em.zd,this.rwt),this.Sgt.removeEventListener(Em.f_,this.swt),this.Sgt.removeEventListener(Xc.Aa,this.Cgt),this.Sgt.removeEventListener(Xc.ba,this.xgt)},A(n,[{key:"v_",get:function(){var t=this.Sgt.currentTime;return t===1/0&&m(this.Sgt.duration)&&(t=0),t}},{key:"l_",get:function(){return this.Sgt.ended}},{key:"ts",get:function(){return this.Sgt.error||void 0}},{key:"w_",get:function(){return this.Sgt.paused}},{key:"Dl",get:function(){return this.Sgt.Dl}}]),n}(iu);function vV(t,n,i,e,r){var s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Er.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),Ws(o.t0),!(s<i)){o.next=20;break}return u=_.min(e*_.pow(2,s),r),s++,o.next=19,Er.awrap($s(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],ze)}IS(new(function(){function t(){this.jE=cS.Yl}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new cV(t,n,i,e,r,s)},n.ZE=function(n,i){if((L.Qt||L.An)&&!i.manifestMetadataTrack)return!1;if(!lm(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!DA(e)&&!t.uwt(e))&&!!function(t){return zz(t,{})!==Pz.vY}(n)},t.uwt=function(t){return!!t.aes128},n.JE=function(){return!0},t}()));var dV,lV=function(t){function n(){return t.call(this,"owt")||this}return S(n,t),n}(ru),_V=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).hwt=void 0,r.awt=void 0,r.cwt=void 0,r.Igt=void 0,r.fwt=void 0,r.mA=void 0,r.Wz=void 0,r.vwt=void 0,r.dwt=function(){r.Fr(new lV)},r.Igt=n,r.fwt=Rr({},i,{crossOrigin:r.Igt.crossOrigin,withCredentials:r.Igt.useCredentials,liveOffset:r.Igt.liveOffset,hlsDateRange:r.Igt.hlsDateRange}),r.mA=e,r.awt=[],r.Wz=!1,r}S(n,t);var i=n.prototype;return i.lwt=function(){if(this.cwt)return this.cwt.P_},i.RR=function(t){var n=this;Zs(vV(function(){return n.j$()},t))},i.j$=function(){var t,n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap(this._wt());case 2:if((t=u.sent).isMasterPlaylist)for(this.hwt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new RU(this.mA,this.fwt),this.awt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new RU(this.mA,this.fwt),this.awt.push({stream:{uri:t.uri},updater:s});this.vwt&&(this.gwt(this.vwt.width,this.vwt.height),this.vwt=void 0),this.Wz=!0;case 6:case"end":return u.stop()}},null,this,null,ze)},i.wwt=function(t,n){this.Wz?this.gwt(t,n):this.vwt={width:t,height:n}},i.gwt=function(t,n){this.mwt();var i=this.ywt(t,n);i&&(this.cwt=i.updater,this.cwt.addEventListener("p9",this.dwt),i.updater.RR(i.stream.uri))},i.mwt=function(){this.cwt&&(this.cwt.tg(),this.cwt.removeEventListener("p9",this.dwt),this.cwt=void 0)},i.ywt=function(t,n){return 1===this.awt.length?this.awt[0]:Ns(this.awt,function(i){return i.stream.width===t&&i.stream.height===n})},i._wt=function(){var t,n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new EU(this.fwt,kB.Rn.gK,this.mA),i.next=3,Er.awrap(t.Yo(this.Igt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.P_);case 5:case"end":return i.stop()}},null,this,null,ze)},i.hv=function(){this.mwt();for(var t=0,n=this.awt;t<n.length;t++){n[t].updater.hv()}Ps(this.awt)},n}(iu),gV=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).kwt=void 0,r.pwt=void 0,r.CP=void 0,r.bwt=!1,r.aJ=void 0,r.DV=void 0,r.handleManifestUpdate=function(){var t=r.kwt.lwt();if(t){var n=r.QE;if(n){var i=n.getTime(),e=r.aJ;e||(e=new RP,r.aJ=e),e.Zo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.bwt&&e.Cl.sl>0&&(r.j_.$d(e),r.DV.$d(e),r.bwt=!0)}}},r.Ggt=function(){r.kwt&&r.kwt.wwt(r.p_,r.k_)},r.pwt=i,r.CP=e,r.DV=new sx(Yt(r)),r.Hr(Xc.Ra,r.Ggt),r}S(n,t);var i=n.prototype;return i.ig=function(n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.prototype.ig.call(this,n,i,e));case 2:n.hlsDateRange&&this.Awt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,ze)},i.Awt=function(t,n,i){this.kwt&&(this.kwt.Xr("owt",this.handleManifestUpdate),this.kwt.hv()),this.kwt=new _V(t,n,this.pwt),this.kwt.Hr("owt",this.handleManifestUpdate),this.kwt.RR(i)},i.nl=function(){return this.aJ&&(this.j_.Kd(this.aJ),this.DV.Kd(this.aJ),this.aJ.hv(),this.aJ=void 0,this.bwt=!1),this.DV.nl(),t.prototype.nl.call(this)},i.hv=function(){return this.Xr(Xc.Ra,this.Ggt),this.kwt&&(this.kwt.Xr("owt",this.handleManifestUpdate),this.kwt.hv()),this.DV.hv(),t.prototype.hv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Twt=void 0,i.Twt=n;for(var e=0;e<OS.length;e++){var r=OS[e];i.Twt.Hr(r,i.Ur)}return i}S(n,t);var i=n.prototype;return i.eg=function(){return this.Twt.eg()},i.vg=function(){return this.Twt.vg()},i.fg=function(){return this.Twt.fg()},i.cg=function(){return this.Twt.cg()},i.mg=function(){return this.Twt.mg()},i.K_=function(){return this.Twt.K_()},i.J_=function(){return this.Twt.J_()},i.nl=function(){return this.Twt.nl()},i.ig=function(t,n,i){return this.Twt.ig(t,n,i)},i.ag=function(){return this.Twt.ag()},i.rg=function(){return this.Twt.rg()},i.sg=function(){return this.Twt.sg()},i.hv=function(){this.Wr();for(var t=0;t<OS.length;t++){var n=OS[t];this.Twt.Xr(n,this.Ur)}return this.Twt.hv()},A(n,[{key:"Q_",get:function(){return this.Twt.Q_}},{key:"yg",get:function(){return this.Twt.yg}},{key:"kg",get:function(){return this.Twt.kg},set:function(t){this.Twt.kg=t}},{key:"v_",get:function(){return this.Twt.v_},set:function(t){this.Twt.v_=t}},{key:"d_",get:function(){return this.Twt.d_}},{key:"l_",get:function(){return this.Twt.l_}},{key:"__",get:function(){return this.Twt.__}},{key:"Z_",get:function(){return this.Twt.Z_}},{key:"ts",get:function(){return this.Twt.ts}},{key:"bg",get:function(){return this.Twt.bg}},{key:"B_",get:function(){return this.Twt.B_}},{key:"g_",get:function(){return this.Twt.g_},set:function(t){this.Twt.g_=t}},{key:"Ng",get:function(){return this.Twt.Ng}},{key:"w_",get:function(){return this.Twt.w_}},{key:"m_",get:function(){return this.Twt.m_},set:function(t){this.Twt.m_=t}},{key:"Dg",get:function(){return this.Twt.Dg}},{key:"Cg",get:function(){return this.Twt.Cg},set:function(t){this.Twt.Cg=t}},{key:"Dl",get:function(){return this.Twt.Dl}},{key:"xg",get:function(){return this.Twt.xg}},{key:"y_",get:function(){return this.Twt.y_}},{key:"QE",get:function(){return this.Twt.QE}},{key:"j_",get:function(){return this.Twt.j_}},{key:"k_",get:function(){return this.Twt.k_}},{key:"Y_",get:function(){return this.Twt.Y_}},{key:"p_",get:function(){return this.Twt.p_}},{key:"b_",get:function(){return this.Twt.b_},set:function(t){this.Twt.b_=t}},{key:"Og",get:function(){return this.Twt.Og}},{key:"Pg",get:function(){return this.Twt.Pg},set:function(t){this.Twt.Pg=t}},{key:"YE",get:function(){return this.Twt.YE}}]),n}(Kw));dV=function(t,n,i){return new gV(t,n,i)},ES.tR().nR(dV);var wV=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},mV=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),yV={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(yV,yV.exports);var kV=yV.exports;function pV(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function bV(t){return JSON.stringify(t,yV.exports.getSerialize(pV))}var AV={},TV={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(TV);var SV={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(SV);var EV={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(EV),l.defineProperty(AV,"__esModule",{value:!0});var RV=TV.isS,IV=TV.isChar,NV=TV.isNameStartChar,DV=TV.isNameChar,CV=TV.S_LIST,xV=TV.NAME_RE,OV=SV.isChar,PV=EV.isNCNameStartChar,BV=EV.isNCNameChar,LV=EV.NC_NAME_RE;const MV="http://www.w3.org/XML/1998/namespace",UV="http://www.w3.org/2000/xmlns/",FV={__proto__:null,xml:MV,xmlns:UV},HV={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},zV=-1,VV=-2,WV=0,XV=1,qV=2,GV=3,QV=4,YV=5,jV=6,ZV=7,JV=8,$V=9,KV=10,tW=11,nW=12,iW=13,eW=14,rW=15,sW=16,uW=17,oW=18,hW=19,aW=20,cW=21,fW=22,vW=23,dW=24,lW=25,_W=26,gW=27,wW=28,mW=29,yW=30,kW=31,pW=32,bW=33,AW=34,TW=35,SW=36,EW=37,RW=38,IW=39,NW=40,DW=41,CW=42,xW=43,OW=44,PW=9,BW=10,LW=13,MW=32,UW=33,FW=38,HW=45,zW=47,VW=59,WW=60,XW=61,qW=62,GW=63,QW=91,YW=93,jW=133,ZW=8232,JW=t=>34===t||39===t,$W=[34,39],KW=[...$W,QW,qW],tX=[...$W,WW,YW],nX=[XW,GW,...CV],iX=[...CV,qW,FW,WW];function eX(t,n,i){switch(n){case"xml":i!==MV&&t.fail(`xml prefix must be bound to ${MV}.`);break;case"xmlns":i!==UV&&t.fail(`xmlns prefix must be bound to ${UV}.`)}switch(i){case UV:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${UV}.`);break;case MV:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const rX=t=>LV.test(t),sX=t=>xV.test(t),uX=0,oX=1,hX=2;AV.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const aX={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var cX=AV.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=PV,this.nameCheck=BV,this.isName=rX,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},FV);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))eX(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=NV,this.nameCheck=DV,this.isName=sX,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Hs}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=uX,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?iW:WV,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Hs=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(HV),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[aX[t]]=n}off(t){this[aX[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===LW||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return zV;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=MW||i===PW)return i;switch(i){case BW:return this.line++,this.column=0,this.positionAtNewLine=this.position,BW;case LW:return t.charCodeAt(n+1)===BW&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,VV;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return zV;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==ZW||i===PW)return i;switch(i){case BW:return this.line++,this.column=0,this.positionAtNewLine=this.position,BW;case LW:{const i=t.charCodeAt(n+1);i!==BW&&i!==jW||(this.i=n+2)}case jW:case ZW:return this.line++,this.column=0,this.positionAtNewLine=this.position,VV;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===VV?BW:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===VV,s=r?BW:e;if(s===zV||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case VV:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=BW;break;case zV:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===zV)return this.name+=t.slice(n),zV;if(!DV(i))return this.name+=t.slice(n,this.prevI),i===VV?BW:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===zV||!RV(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=IV,this.getCode=this.getCode10):(this.isChar=OV,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=XV}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case WW:if(this.state=rW,0!==this.text.length)throw new v("no-empty text at start");break;case zV:break;default:this.unget(),this.state=iW,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(KW);switch(n){case qW:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=iW,this.doctype=!0;break;case zV:break;default:this.text+=String.fromCodePoint(n),n===QW?this.state=QV:JW(n)&&(this.state=GV,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=qV)}sDTD(){const t=this.captureTo(tX);t!==zV&&(this.text+=String.fromCodePoint(t),t===YW?this.state=qV:t===WW?this.state=jV:JW(t)&&(this.state=YV,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=QV,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case UW:this.state=ZV,this.openWakaBang="";break;case GW:this.state=tW;break;default:this.state=QV}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?JV:QV,this.openWakaBang="")}sDTDComment(){this.captureToChar(HW)&&(this.text+="-",this.state=$V)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===HW?KV:JV}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===qW?this.state=QV:(this.fail("malformed comment."),this.state=JV)}sDTDPI(){this.captureToChar(GW)&&(this.text+="?",this.state=nW)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===qW&&(this.state=QV)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case VV:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case VW:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===iW&&void 0===this.textHandler||(this.text+=r);break t}case zV:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(NV(t))this.state=AW,this.unget(),this.xmlDeclPossible=!1;else switch(t){case zW:this.state=xW,this.xmlDeclPossible=!1;break;case UW:this.state=sW,this.openWakaBang="",this.xmlDeclPossible=!1;break;case GW:this.state=vW;break;default:this.fail("disallowed character in tag name"),this.state=iW,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=aW,this.openWakaBang="";break;case"--":this.state=uW,this.openWakaBang="";break;case"DOCTYPE":this.state=qV,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(HW)&&(this.state=oW)}sCommentEnding(){var t;const n=this.getCodeNorm();n===HW?(this.state=hW,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=uW)}sCommentEnded(){const t=this.getCodeNorm();t!==qW?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=uW):this.state=iW}sCData(){this.captureToChar(YW)&&(this.state=cW)}sCDataEnding(){const t=this.getCodeNorm();t===YW?this.state=fW:(this.text+=`]${String.fromCodePoint(t)}`,this.state=aW)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case qW:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=iW;break;case YW:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=aW}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=dW):t===GW||RV(t)?(this.fail("processing instruction without a target."),this.state=t===GW?_W:lW):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=dW)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===zV)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===GW;e||RV(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?bW:gW):this.state=e?_W:lW:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===GW?this.state=_W:RV(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(GW)&&(this.state=_W)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===qW){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=iW}else n===GW?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=lW);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==GW?t!==zV&&(this.state=wW,this.name=String.fromCodePoint(t)):this.state=bW}sXMLDeclName(){const t=this.captureTo(nX);if(t===GW)return this.state=bW,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(RV(t)||t===XW){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===XW?yW:mW}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===GW)return this.state=bW,void this.fail("XML declaration is incomplete.");RV(t)||(t!==XW&&this.fail("value required."),this.state=yW)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===GW)return this.state=bW,void this.fail("XML declaration is incomplete.");RV(t)||(JW(t)?this.q=t:(this.fail("value must be quoted."),this.q=MW),this.state=kW)}sXMLDeclValue(){const t=this.captureTo([this.q,GW]);if(t===GW)return this.state=bW,this.text="",void this.fail("XML declaration is incomplete.");if(t===zV)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=pW}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==GW?(RV(t)||(this.fail("whitespace required."),this.unget()),this.state=gW):this.state=bW}sXMLDeclEnding(){var t;this.getCodeNorm()===qW?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=iW):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===zV)return;const i=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case qW:this.openTag();break;case zW:this.state=TW;break;default:RV(n)||this.fail("disallowed character in tag name."),this.state=SW}}sOpenTagSlash(){this.getCode()===qW?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=SW)}sAttrib(){const t=this.skipSpaces();t!==zV&&(NV(t)?(this.unget(),this.state=EW):t===qW?this.openTag():t===zW?this.state=TW:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===XW?this.state=IW:RV(t)?this.state=RW:t===qW?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==zV&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case zV:return;case XW:this.state=IW;break;default:this.fail("attribute without value."),this.text="",this.name="",t===qW?this.openTag():NV(t)?(this.unget(),this.state=EW):(this.fail("disallowed character in attribute name."),this.state=SW)}}sAttribValue(){const t=this.getCodeNorm();JW(t)?(this.q=t,this.state=NW):RV(t)||(this.fail("unquoted attribute value."),this.state=CW,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=DW);case FW:return this.text+=n.slice(i,this.prevI),this.state=eW,void(this.entityReturnState=NW);case BW:case VV:case PW:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case WW:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case zV:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();RV(t)?this.state=SW:t===qW?this.openTag():t===zW?this.state=TW:NV(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=EW):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(iX);switch(t){case FW:this.state=eW,this.entityReturnState=CW;break;case WW:this.fail("disallowed character.");break;case zV:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===qW?this.openTag():this.state=SW}}sCloseTag(){const t=this.captureNameChars();t===qW?this.closeTag():RV(t)?this.state=OW:t!==zV&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case qW:this.closeTag();break;case zV:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case WW:if(this.state=rW,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=uX;break t;case FW:this.state=eW,this.entityReturnState=iW,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=uX;break t;case YW:switch(n){case uX:n=oX;break;case oX:n=hX;break;case hX:break;default:throw new v("impossible state")}break;case qW:n===hX&&this.fail('the string "]]>" is disallowed in char data.'),n=uX;break;case VV:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=uX;break;case zV:void 0!==e&&(this.text+=i.slice(t));break t;default:n=uX}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case WW:if(this.state=rW,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case FW:this.state=eW,this.entityReturnState=iW,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case VV:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case zV:void 0!==i&&(this.text+=n.slice(t));break t;default:RV(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,eX(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,eX(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==WV&&this.state!==iW&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Hs=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?UV:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=iW,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=iW,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=iW,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},fX=function(){function t(){}return t.prototype.Mn=function(t){var n=new cX({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new mX,e=[i];function r(t){e[e.length-1].$n(t)}return n.on("text",function(t){e.length>1&&r(new gX(t))}),n.on("cdata",function(t){r(new wX(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new lX({zn:n,Wn:""===i?void 0:i,Swt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new vX({zn:v,qn:_,Wn:""===d?void 0:d,Swt:""===f?void 0:f});u.Ewt(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Jt(t)}),n.write(t).close(),i},t}(),vX=function(){function t(t){this.Rwt=void 0,this.Iwt=void 0,this.Nwt=void 0,this.Di=void 0,this.Rwt=t.zn,this.Di=t.qn,this.Iwt=t.Wn,this.Nwt=t.Swt}var n=t.prototype;return n.Fn=function(t){return this===t||!!kX(this,t)&&(this.Rwt===t.Rwt&&this.Iwt===t.Iwt&&this.Nwt===t.Nwt&&this.Di===t.Di)},n.Hn=function(){return new t({zn:this.zn,qn:this.qn,Wn:this.Wn,Swt:this.Xn})},A(t,[{key:"Cn",get:function(){return Wt.Pn}},{key:"zn",get:function(){return this.Rwt}},{key:"Vn",get:function(){return void 0===this.Nwt?this.Rwt:this.Nwt+":"+this.Rwt}},{key:"Wn",get:function(){return this.Iwt}},{key:"Xn",get:function(){return this.Nwt}},{key:"qn",get:function(){return this.Di}}]),t}(),dX=function(){function t(){this.Qn=[]}var n=t.prototype;return n.Yn=function(t){return this.Qn.filter(function(n){return yX(n)&&n.Zn===t})},n.Jn=function(t,n){return this.Qn.filter(function(i){return yX(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Qn.push(t)},A(t,[{key:"jn",get:function(){return this.Qn}},{key:"ti",get:function(){return this.Qn.filter(yX)}}]),t}(),lX=function(t){function n(n){var i;return(i=t.call(this)||this).Rwt=void 0,i.Iwt=void 0,i.Nwt=void 0,i.Dwt=[],i.Rwt=n.zn,i.Iwt=n.Wn,i.Nwt=n.Swt,i}S(n,t);var i=n.prototype;return i.Cwt=function(t){for(var n=0,i=this.jn;n<i.length;n++){var e=i[n];yX(e)?e.Cwt(t):t.push(e.ai)}},i.ii=function(t,n){for(var i=0,e=this.Dwt;i<e.length;i++){var r=e[i];if(r.zn===n&&r.Wn===t)return r.qn}},i.ni=function(t){for(var n=0,i=this.Dwt;n<i.length;n++){var e=i[n];if(e.Vn===t)return e.qn}},i.Ewt=function(t){this.Dwt.push(t)},i.ei=function(t){for(var n=0;n<this.Dwt.length;n++)if(this.Dwt[n].Vn===t)return void this.Dwt.splice(n,1)},i.ri=function(t,n){for(var i=0;i<this.Dwt.length;i++)if(this.Dwt[i].zn===n&&this.Dwt[i].Wn===t)return void this.Dwt.splice(i,1)},i.si=function(t,n){this.ei(t),this.Ewt(new vX({zn:t,qn:n}))},i.ui=function(t,n,i){this.ei(n);var e=n.split(":");this.Ewt(new vX({zn:e[e.length-1],qn:i,Wn:t,Swt:e.length>1?e[0]:void 0}))},i.Hn=function(t){var i=new n({zn:this.zn,Wn:this.Wn,Swt:this.Xn});return this.oi.forEach(function(t){return i.Ewt(t.Hn())}),t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!kX(this,t)&&(this.Rwt===t.Rwt&&this.Nwt===t.Nwt&&this.Iwt===t.Iwt&&(pX(this.oi,t.oi)&&pX(this.jn,t.jn)))},A(n,[{key:"Cn",get:function(){return Wt.xn}},{key:"oi",get:function(){return this.Dwt}},{key:"zn",get:function(){return this.Rwt}},{key:"Wn",get:function(){return this.Iwt}},{key:"Xn",get:function(){return this.Nwt}},{key:"Zn",get:function(){return void 0===this.Nwt?this.Rwt:this.Nwt+":"+this.Rwt}},{key:"hi",get:function(){var t=[];return this.Cwt(t),t.join("")}}]),n}(dX),_X=function(){function t(t){this.di=void 0,this.di=t}return A(t,[{key:"ai",get:function(){return this.di}}]),t}(),gX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!kX(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return Wt.On}}]),n}(_X),wX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!kX(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return Wt.Bn}}]),n}(_X),mX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Hn=function(t){var i=new n;return t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!kX(this,t)&&pX(this.jn,t.jn)},A(n,[{key:"Cn",get:function(){return Wt.Ln}},{key:"ci",get:function(){return this.ti[0]}}]),n}(dX);function yX(t){return Gt(t)}function kX(t,n){return t.Cn===n.Cn}function pX(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Fn(n[i]))return!1;return!0}var bX,AX=["adBreak"],TX=["adBreak"];function SX(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Rr({},t,{adBreak:Rr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,gA(t,AX)})})})}function EX(t){return void 0===t.ads?t:Rr({},t,{ads:t.ads.map(function(t){return t.adBreak,gA(t,TX)})})}function RX(t){return"string"==typeof t.date?new Date(t.date):t.date}function IX(t){var n;return t.cue.track?(n=DX(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=DX(t.cue,""),n}function NX(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function DX(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new fX).Mn(e.firstChild.outerHTML).ci.oi.forEach(function(t){r[t.zn]=t.qn}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=CX(o);s[u]={type:bX.xwt,value:h}}else OX(o)?s[u]={type:bX.Owt,value:o}:s[u]={type:bX.iq,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=CX(t.scte35Cmd),i.scte35Out=CX(t.scte35Out),i.scte35In=CX(t.scte35In),i.customAttributes=s}var a}(),i}function CX(t){if(void 0!==t)return pu(t)}function xX(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(DX(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(DX(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function OX(t){return"number"==typeof t}!function(t){t.iq="daterange-ca-type_string",t.Owt="daterange-ca-type_number",t.xwt="daterange-ca-type_arraybuffer"}(bX||(bX={}));var PX={cue:function(t){var n={};switch(n.date=RX(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=IX(t)}return n},textTrack:function(t){var n={};switch(n.date=RX(t),n.type=t.type,t.type){case"addcue":var i=t.cue;UX().register(i);var e=MX()[FX()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=IX(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(DX(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:xX(t.track),date:RX(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=UX();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=RX(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Xc.Ma:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Rr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=xX(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=EX(t.ad);break;case"adloaded":case"adimpression":n.ad=SX(t.ad);break;case"aderror":t.Pwt&&(n.Pwt=t.Pwt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=SX(t.ad)}return NX(n)},minimizeCueHelper:function(t){var n={};return n.date=RX(t),n.type=t.type,n.cue=IX(t),n.track={uid:t.cue.track.uid},n},adReplacer:SX,adBreakReplacer:EX,removeCircularReferences:NX},BX=function(){this.stringify=bV,this.minimize=PX};function LX(){return ce.self}function MX(){return LX().THEOplayerBridge}function UX(){return LX().THEOCueMirrorMap}function FX(){return LX().THEOplayerGlobalID}function HX(){var t=LX();if(t.THEOplayerBridge){var n=new wV;t.THEOplayerBridge=Ew(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new wV;t.THEOplayerUtils||(t.THEOplayerUtils=new BX),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new mV)}HX();var zX,VX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(ru),WX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new VX(t,n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(tm),XX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Bwt=void 0,e.Lwt=void 0,e.Mwt=function(t){e.Bwt.MG("THEOplayerABRSetTargetBuffer",t.iO),e.Fr(t)},e.Uwt=function(t){e.Bwt.MG("THEOplayerABRSetStrategy",t.rO),e.Fr(t)},e.Bwt=n,e.Lwt=i,e.Lwt.Hr("eO",e.Mwt),e.Lwt.Hr("sO",e.Uwt),e}return S(n,t),A(n,[{key:"lO",get:function(){var t;switch(this.rO.type){case AI.PERFORMANCE:return 1;case AI.QUALITY:return 0;case AI.BANDWIDTH:return null!=(t=this.rO.metadata)&&t.bitrate&&!m(this.rO.metadata.bitrate)?this.rO.metadata.bitrate:0;default:return 0}}},{key:"Ed",get:function(){return this.Lwt.Ed}},{key:"rO",get:function(){return this.Lwt.rO},set:function(t){this.Lwt.rO=t}},{key:"iO",get:function(){return this.Lwt.iO},set:function(t){this.Lwt.iO=t}},{key:"uO",get:function(){return this.Lwt.uO},set:function(t){this.Lwt.uO=t}}]),n}(iu),qX=function(){function t(t,n,i){this.Ch=void 0,this.hr=void 0,this.Vh=void 0,this.ih=void 0,this.Ch=t,this.hr=i,this.Vh=n}var n=t.prototype;return n.TA=function(t){throw new v("Not implemented yet.")},n.kL=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Er.awrap(i.vh());case 5:return e=r.sent,r.next=8,Er.awrap(this.pL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ze)},n.bL=function(t){return!1},n.AL=function(t){return ze.resolve(void 0)},n.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.pL(void 0));case 2:case"end":return t.stop()}},null,this,null,ze)},n.pL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.SL(t),i.next=3,Er.awrap(n);case 3:case"end":return i.stop()}},null,this,null,ze)},n.SL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ih)){i.next=5;break}return i.next=4,Er.awrap(n.hh(this.Vh));case 4:this.ih=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Er.awrap(t.oh(this.Vh));case 8:this.ih=t;case 9:case"end":return i.stop()}},null,this,null,ze)},n.pA=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"rh",get:function(){return this.Ch}},{key:"Cg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"xg",get:function(){return new US([0,1/0])}},{key:"j_",get:function(){throw new v("Not implemented yet.")}},{key:"Fwt",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet.")}},{key:"Hwt",get:function(){throw new v("Not implemented yet")}},{key:"zwt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Vwt="webkitneedkey",t.Wwt="webkitkeymessage",t.Xwt="webkitkeyerror"}(zX||(zX={}));var GX=function(t){function n(n,i){var e;return(e=t.call(this,zX.Vwt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(ru),QX=function(t){function n(n,i){var e;return(e=t.call(this,zX.Wwt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(ru),YX=function(t){function n(){return t.call(this,zX.Xwt)||this}return S(n,t),n}(ru),jX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).mh=new Ro,u.xh=void 0,u.ph=new du,u.Ph=new Ro,u.qwt=function(t){u.xh?(u.xh.Ns(void 0),u.xh=void 0):u.Eh("internal-error"),u.Fr(new au)},u.Gwt=function(t){u.xh&&(u.xh.Is(void 0),u.xh=void 0),u.Fr(new hu(Yt(u),"license-request",To(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Wo=i,u.Qwt=e,u.Hh=r,u.Lh=s,u}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Er.awrap(this.Ywt(bo(n),e));case 5:this.Eh("usable"),this.Ph.Is(),this.Ph=new Ro;case 8:case"end":return t.stop()}},null,this,null,ze)},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ze)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=bo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.xh=new Ro,this.Qwt.Zo(this.Hh,n),i.next=7,Er.awrap(this.xh.Ss);case 7:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.Ph);case 2:return this.Qwt.Xr(zX.Wwt,this.Gwt),this.Qwt.Xr(zX.Xwt,this.qwt),this.Ph.Cr(),this.mh.Is(void 0),t.abrupt("return",this.mh.Ss);case 7:case"end":return t.stop()}},null,this,null,ze)},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,ze)},i.Ywt=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ac(t,n,this.Lh),this.Qwt.Hr(zX.Wwt,this.Gwt),this.Qwt.Hr(zX.Xwt,this.qwt),this.Qwt.sV(this.Hh,i);case 4:case"end":return e.stop()}},null,this,null,ze)},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.Hh}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu),ZX=function(){function t(t,n,i){this.jwt=void 0,this.Hh=void 0,this.Lh=void 0,this.Qwt=void 0,this.Wo=void 0,this.Ch=void 0,this.Ih=void 0,this.Qwt=t,this.Wo=n,this.Ch=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var i=t.prototype;return i.sh=function(t){var i;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new jX(this.Ih,this.Wo,this.Qwt,this.Hh,this.Lh),this.jwt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,ze)},i.uh=function(t){return this.Lh=bo(t),ze.resolve(!0)},i.oh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,ze)},i.hh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,ze)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"eh",get:function(){return this.Wo}},{key:"rh",get:function(){return this.Ch}},{key:"sessionId",set:function(t){this.Hh=t}}]),t}(),JX=function(){function t(t,n,i){this.Zwt=t,this.Wo=n,this.Ch=i}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ZX(this.Zwt,this.Wo,this.Ch));case 1:case"end":return t.stop()}},null,this,null,ze)},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),$X=function(){function t(t){this.Zwt=void 0,this.Zwt=t}return t.prototype.dr=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=uc(KX,uu,t,e))){s.next=6;break}return s.abrupt("return",new JX(this.Zwt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,ze)},t}();function KX(t,n){return t===$r}var tq,nq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._V=function(t,n){return!0},n}(Rx),iq=function(t){function n(n,i,e){var r;return void 0===e&&(e=new $X(i)),(r=t.call(this)||this).$S=void 0,r.hr=void 0,r.gL=void 0,r.kV=new EN,r.Jwt=void 0,r.Zwt=void 0,r.$wt=!1,r.Hh=void 0,r.Bh=null,r.Kwt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.tmt=function(t){"boolean"==typeof t.detail.casting&&(r.$wt=t.detail.casting,r.Fr(new Ly(r.$wt)))},r.nmt=function(t){r.Hh=t.sessionId,r.Bh&&(r.Bh.sessionId=r.Hh);var n=t.initData;if(n){var i=Px(n);if(!i)return;r.Fr(new cu(Vr,i))}else r.Fr(new cu(Vr,new ArrayBuffer(0)))},r.Jwt=n,r.Zwt=i,r.Zwt.Hr(zX.Vwt,r.nmt),r.hr=e,r.gL=new nq(Yt(r)),r.imt(),r}S(n,t);var i=n.prototype;return i.DL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===pb.EA)return i}},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.emt(),this.Zwt.Xr(zX.Vwt,this.nmt),t.next=7,Er.awrap(this.gL.Sr());case 7:case"end":return t.stop()}},null,this,null,ze)},i.cg=function(){throw new v("Not implemented yet")},i.pA=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.OE=function(){return!1},i.BE=function(t,n,i,e){throw new v("Not implemented yet")},i.TA=function(t){throw new v("Not implemented yet")},i.UE=function(){throw new v("Not implemented yet")},i.Yo=function(t){var n=this;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.kV.zB(function(i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.nr!==pb.EA){r.next=8;break}return Vs(i),e=new qX(t,n,n.hr),n.$S=e,n.gL.Yo(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,ze)}));case 1:case"end":return i.stop()}},null,this,null,ze)},i.K_=function(){throw new v("Not implemented yet")},i.J_=function(){throw new v("Not implemented yet")},i.nl=function(){var t=this;return this.kV.Cr(),this.kV.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.$S){n.next=4;break}return n.next=3,Er.awrap(t.$S.Sr());case 3:t.$S=void 0;case 4:return n.next=6,Er.awrap(t.gL.nl());case 6:case"end":return n.stop()}},null,null,null,ze)})},i.ys=function(t,n){throw new v("Not implemented yet")},i.qE=function(t){throw new v("Not implemented yet")},i.ag=function(){throw new v("Not implemented yet")},i.GE=function(){return this.Kwt},i.imt=function(){this.Jwt.addEventListener("airPlayIsCasting",this.tmt)},i.emt=function(){this.Jwt.removeEventListener("airPlayIsCasting",this.tmt)},i.webkitSetMediaKeys=function(t){this.Bh=t||null,this.Bh&&(this.Bh.sessionId=this.Hh)},i.eX=function(){},i.nX=function(){throw new v("Not implemented yet")},i.iX=function(){throw new v("Not implemented yet")},A(n,[{key:"kg",get:function(){throw new v("Not implemented yet")}},{key:"yg",get:function(){throw new v("Not implemented yet")}},{key:"v_",get:function(){throw new v("Not implemented yet")}},{key:"pB",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")}},{key:"l_",get:function(){throw new v("Not implemented yet")}},{key:"ts",get:function(){throw new v("Not implemented yet")}},{key:"hp",get:function(){throw new v("Not implemented yet")}},{key:"bg",get:function(){return this.$wt}},{key:"g_",get:function(){throw new v("Not implemented yet")}},{key:"w_",get:function(){throw new v("Not implemented yet")}},{key:"m_",get:function(){throw new v("Not implemented yet")}},{key:"Dg",get:function(){throw new v("Not implemented yet")}},{key:"Dl",get:function(){throw new v("Not implemented yet")}},{key:"xg",get:function(){throw new v("Not implemented yet")}},{key:"y_",get:function(){throw new v("Not implemented yet")}},{key:"uX",get:function(){throw new v("Not implemented yet")}},{key:"b_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Rw",get:function(){throw new v("Not implemented yet")}},{key:"ME",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Bh}},{key:"oX",get:function(){return VN}},{key:"j_",get:function(){throw new v("Not implemented yet")}},{key:"AB",get:function(){throw new v("Not implemented yet")}},{key:"QE",get:function(){throw new v("Not implemented yet")}},{key:"rX",get:function(){return!0}},{key:"SE",get:function(){return this.gL.SE},set:function(t){this.gL.SE=t}},{key:"mV",get:function(){return this.gL.mV}}]),n}(Kw),eq=function(t){function n(n){var i;return(i=t.call(this,Xc.Ha)||this).Kwt=n,i}return S(n,t),n}(ru);function rq(t){switch(t.type){case tq.iq:return t.value;case tq.Owt:return xw(t.value);case tq.xwt:return yu(t.value);default:return}}function sq(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.iq="daterange-ca-type_string",t.Owt="daterange-ca-type_number",t.xwt="daterange-ca-type_arraybuffer"}(tq||(tq={}));var uq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).cS=void 0,u.rmt=void 0,u.cS=n,u.rmt=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.cS}},{key:"timestamp",get:function(){return this.rmt}}]),n}(Tc),oq=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return S(n,t),n}(uq),hq=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).mI=0,u.qF=!1,u.KS=void 0,u.tE=void 0,u.smt=void 0,u.kI=!0,u.pI=1,u.z_=void 0,u.V_=void 0,u.SV=void 0,u.RV=void 0,u.IV=void 0,u.W_=void 0,u.wA=void 0,u.Au=void 0,u.umt=US.dI(),u.CF=US.dI(),u.yI=!1,u.UV=US.dI(),u.bI=void 0,u.omt=void 0,u.hmt=void 0,u.GF=am.n_,u.IA=am.n_,u.Jwt=void 0,u.DV=void 0,u.eE=void 0,u.Bwt=void 0,u.Igt=void 0,u.EI=void 0,u.JS=void 0,u.rE=void 0,u.Zwt=void 0,u.Kwt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.$S=void 0,u.amt=void 0,u.uE=new _S,u.oE=new pS,u.setCurrentTime=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xg.length){n.next=4;break}return u.mI=t,n.next=4,Er.awrap(u.Jwt.Yr("seekablechange"));case 4:u.mI=u.updateCurrentTime(t),u.Bwt.MG("THEOplayerSetCurrentTime",u.mI),u.bI=!0,u.Fr(new Fm(u.mI));case 8:case"end":return n.stop()}},null,null,null,ze)},u.cmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.umt=new US(i),u.Fr(new jN(u.v_))}},u.fmt=function(t){u.GF=t.detail.readyState,u.Fr(new Vm(+t.detail.currentTime,u.Dl)),u.vmt()},u.dmt=function(t){u.GF=t.detail.readyState,u.Fr(new Wm(+t.detail.currentTime,u.Dl)),u.vmt()},u.lmt=function(t){if(t.detail){var n=+t.detail.duration;u.Au=n,u.Fr(new Pm(u.d_))}},u.Ugt=function(t){t.detail&&(u.qF=!0,u.Fr(new Mm(+t.detail.currentTime)))},u.hE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);sq(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.tE=new oq(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.KS=gy(u.tE),u.Fr(new qm(u.tE))):sq(i)&&(u.tE=new uq(i.name,i.message,void 0,i.code,i.timestamp),u.KS=gy(u.tE),u.Fr(new qm(u.tE)))}},u.Fgt=function(t){u.Fr(new ZN)},u._mt=function(t){u.GF=t.detail.readyState,u.Fr(new Um(+t.detail.currentTime,u.Dl)),u.vmt()},u.gmt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xg.length){n.next=3;break}return n.next=3,Er.awrap(u.Jwt.Yr("seekablechange"));case 3:u.GF=t.detail.readyState,u.Fr(new Om(+t.detail.currentTime,u.Dl)),u.vmt();case 6:case"end":return n.stop()}},null,null,null,ze)},u.Cgt=function(t){t.detail&&u.kI&&(u.kI=!1,u.Fr(new Nm(+t.detail.currentTime)))},u.xgt=function(t){t.detail&&(u.kI||(u.kI=!0,u.Fr(new Im(+t.detail.currentTime))))},u.wmt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.UV=new US(i)}},u.swt=function(t){t.detail&&u.Fr(new Gb(+t.detail.currentTime))},u.Bgt=function(t){t.detail&&(u.pI=t.detail.playbackRate,u.Fr(new Bm(+t.detail.currentTime,u.pI)))},u.mmt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.CF=new US(i)}},u.Pgt=function(t){t.detail&&(u.mI=+t.detail.currentTime,u.bI=!1,u.Fr(new Lm(u.mI,u.smt)),u.Fr(new Hm(u.mI)))},u.Ogt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.Au&&(u.qF=!1),u.bI=!0,u.Fr(new Fm(n))}},u.ymt=function(t){t.detail&&(t.detail.currentDate&&(u.smt=new Date(1e3*t.detail.currentDate)),u.mI=+t.detail.currentTime,u.Fr(new Lm(u.mI,u.smt)))},u.kmt=function(t){u.omt=t.detail.height,u.hmt=t.detail.width},u.pmt=function(t){t.detail&&u.Fr(new qb(+t.detail.currentTime))},u.Zgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Q_.$d(new Dy(n))},u.bmt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.z_.sl;s++){var o=u.Q_.Jd(s);o.yl==e&&o.ml==r?i=u.z_.Jd(s):1==o.ll&&(n=u.z_.Jd(s))}i&&n&&(i.ll=!0,n.ll=!1)},u.$gt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Y_.$d(new By(n))},u.fG=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Yp.$y&&e===Oy.ID3?(n=new hx("",t.detail.label)).Rl=Ww.Al:i===Yp.$y&&e===Oy.DATE_RANGE?(n=new RP,u.amt=n):n=new iC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.SV.$d(n),u.DV.$d(n)},u.Amt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new ux(xw(e.startTime),s,e.uid),h=u.Tmt();h&&h.AA(o)}},u.Smt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Ky(xw(r.startTime),xw(r.endTime),r.content,!1),o=null!=(e=u.Emt(Yp.Zy))?e:u.Emt(Yp.rA);o&&(o.nr=Oy.WEBVTT,o.AA(s))}},u.OW=function(t){t.type===Xc.ha&&(u.KS=gy(t.errorObject)),u.Ur(t)},u.Rmt=function(t){t.detail&&(u.Kwt.Tg=t.detail.corruptedVideoFrames,u.Kwt.Ag=t.detail.droppedVideoFrames,u.Fr(new eq(u.B_)))},u.Imt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={_l:t.id};if(void 0!==t.startDate&&(n.QE=new Date(t.startDate)),void 0!==t.endDate&&(n.FY=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=rq(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.$Y=e}void 0!==t.scte35Cmd&&(n.KY=yu(t.scte35Cmd)),void 0!==t.scte35In&&(n.nj=yu(t.scte35In)),void 0!==t.scte35Out&&(n.tj=yu(t.scte35Out)),void 0!==t.startTime&&(n.tw=t.startTime),n.jY=t.class,n.d_=xw(t.duration),n.ZY=xw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.tw?t.tw:(new Date).getTime(),e=new kP(t,i);u.amt.AA(e),u.amt.Zo(n,i)})};var o=r.uid;u.Bwt=u.getSdkBridge(o),u.Jwt=new WX,MX()[o].sdkEventBus=u.Jwt,u.z_=new yy,u.V_=new yy;var h=u.Nmt(e);return u.wA=new hV(Yt(u),new ex),u.DV=new sx(Yt(u)),u.eE=new _b(u.wA,h),u.SV=new jp,u.RV=new lx(Yt(u)),u.RV.fl=u.SV,u.IV=new _x(u.wA,u.RV),u.W_=new mS([u.SV,u.eE.qk,u.IV.qk]),u.Zwt=u.getFairPlayControllerBridge(u.Bwt),u.JS=new iq(u.Jwt,u.Zwt),u.rE=new gS(h),u.JS.SE=u.rE,u.observeMediaElement(),u.RE(),u.EI=new XX(u.Bwt,s),u.EI.Hr("eO",function(){u.Bwt.MG("THEOplayerSetPreferredForwardBufferDuration",u.EI.iO)}),u}S(n,t);var i=n.prototype;return i.vg=function(){return zS},i.ag=function(){this.Bwt.MG("THEOplayerShow",{})},i.cg=function(){this.Bwt.MG("THEOplayerHide",{})},i.Dmt=function(){var t=this;this.Bwt.MG("THEOplayerSetInitialPreferredPeakBitRate",this.EI.lO);this.Hr("playing",function n(){t.Bwt.MG("THEOplayerSetInitialPreferredPeakBitRate",0),t.Xr("playing",n)})},i.ig=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Igt=t,i=Rr({},n,{sources:{src:t.src,type:um.Yl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Bwt.MG("THEOplayerSourceChange",i),e={nr:pb.EA,Ol:t.src,mf:t.type,IE:this.NE(t),DE:t.crossOrigin,CE:n.metadata&&n.metadata.title},this.rE.LS(t.contentProtection),s.next=7,Er.awrap(this.JS.Yo(e));case 7:this.$S=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Oy.WEBVTT})).length>0&&this.xE(r),kb(this.j_),this.Dmt();case 11:case"end":return s.stop()}},null,this,null,ze)},i.NE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:ns,VE:[{initDataTypes:[ns.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.J_=function(){this.kI=!1,this.Fr(new Nm(this.v_)),this.Bwt.MG("THEOplayerPlay",{})},i.K_=function(){this.kI=!0,this.Fr(new Im(this.v_)),this.Bwt.MG("THEOplayerPause",{})},i.fg=function(){},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mI=0,this.qF=!1,this.KS=void 0,this.tE=void 0,this.kI=!0,this.pI=1,this.Au=void 0,this.CF=US.dI(),this.umt=US.dI(),this.omt=void 0,this.hmt=void 0,this.GF=am.n_,this.IA=am.n_,this.z_.nl(),this.V_.nl(),this.SV.nl(),this.W_.nl(),t.next=19,Er.awrap(this.IV.nl());case 19:return this.RV.nl(),t.next=22,Er.awrap(this.eE.nl());case 22:return this.wA.nl(),this.DV.nl(),this.Igt=void 0,t.next=27,Er.awrap(this.JS.nl());case 27:case"end":return t.stop()}},null,this,null,ze)},i.rg=function(){this.Bwt.MG("THEOplayerShowAirPlayPicker",{})},i.sg=function(){this.Bwt.MG("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.B_.Tg=t.Tg,this.B_.Ag=t.Ag},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.unobserveMediaElement(),this.HE(),this.JS.SE=void 0,t.next=8,Er.awrap(this.JS.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.SV.hv(),this.W_.hv(),this.RV.hv(),t.next=15,Er.awrap(this.IV.hv());case 15:return t.next=17,Er.awrap(this.eE.hv());case 17:this.wA.hv(),this.DV.hv();case 19:case"end":return t.stop()}},null,this,null,ze)},i.xE=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eE.kA(i)}},i.vmt=function(){var t=this.IA,n=this.GF;t!==n&&(this.IA=n,this.Fr(new Xm(this.v_,n)))},i.observeMediaElement=function(){this.JS.Hr(Xc.ra,this.Ur),this.JS.Hr([Xc.aa,Xc.ha],this.OW),this.Jwt.addEventListener("play",this.Cgt),this.Jwt.addEventListener("pause",this.xgt),this.Jwt.addEventListener("seeking",this.Ogt),this.Jwt.addEventListener("seeked",this.Pgt),this.Jwt.addEventListener("ratechange",this.Bgt),this.Jwt.addEventListener("durationchange",this.lmt),this.Jwt.addEventListener("timeupdate",this.ymt),this.Jwt.addEventListener("waiting",this.pmt),this.Jwt.addEventListener("playing",this.swt),this.Jwt.addEventListener("ended",this.Ugt),this.Jwt.addEventListener("loadedmetadata",this.gmt),this.Jwt.addEventListener("loadeddata",this._mt),this.Jwt.addEventListener("loadstart",this.Fgt),this.Jwt.addEventListener("canplay",this.fmt),this.Jwt.addEventListener("canplaythrough",this.dmt),this.Jwt.addEventListener("error",this.hE),this.Jwt.addEventListener("seekablechange",this.mmt),this.Jwt.addEventListener("videosizechange",this.kmt),this.Jwt.addEventListener("bufferedchange",this.cmt),this.Jwt.addEventListener("playedchange",this.wmt),this.Jwt.addEventListener("metricschange",this.Rmt),this.Jwt.addEventListener("addDateRangeCues",this.Imt)},i.unobserveMediaElement=function(){this.JS.Xr(Xc.ra,this.Ur),this.JS.Xr([Xc.aa,Xc.ha],this.OW),this.Jwt.removeEventListener("play",this.Cgt),this.Jwt.removeEventListener("pause",this.xgt),this.Jwt.removeEventListener("seeking",this.Ogt),this.Jwt.removeEventListener("seeked",this.Pgt),this.Jwt.removeEventListener("ratechange",this.Bgt),this.Jwt.removeEventListener("durationchange",this.lmt),this.Jwt.removeEventListener("timeupdate",this.ymt),this.Jwt.removeEventListener("waiting",this.pmt),this.Jwt.removeEventListener("playing",this.swt),this.Jwt.removeEventListener("ended",this.Ugt),this.Jwt.removeEventListener("loadedmetadata",this.gmt),this.Jwt.removeEventListener("loadeddata",this._mt),this.Jwt.removeEventListener("loadstart",this.Fgt),this.Jwt.removeEventListener("canplay",this.fmt),this.Jwt.removeEventListener("canplaythrough",this.dmt),this.Jwt.removeEventListener("error",this.hE),this.Jwt.removeEventListener("seekablechange",this.mmt),this.Jwt.removeEventListener("videosizechange",this.kmt),this.Jwt.removeEventListener("bufferedchange",this.cmt),this.Jwt.removeEventListener("playedchange",this.wmt),this.Jwt.removeEventListener("metricschange",this.Rmt),this.Jwt.removeEventListener("addDateRangeCues",this.Imt)},i.updateCurrentTime=function(t){var n=this.xg.start(0),i=this.xg.end(0);return _.min(_.max(t,n),i)},i.Tmt=function(){for(var t=0,n=this.W_.il;t<n.length;t++){var i=n[t];if(i.wl===Yp.$y&&i.nr===Oy.ID3)return i}},i.Emt=function(t){for(var n=0,i=this.W_.il;n<i.length;n++){var e=i[n],r=e.Rl===Ww.Tl,s=e.wl===t;if(r&&s)return e}},i.RE=function(){this.Jwt.addEventListener("addaudiotrack",this.Zgt),this.Jwt.addEventListener("enableaudiotrack",this.bmt),this.Jwt.addEventListener("addvideotrack",this.$gt),this.Jwt.addEventListener("addtexttrack",this.fG),this.Jwt.addEventListener("addtexttrackid3cues",this.Amt),this.Jwt.addEventListener("addtexttrackcues",this.Smt)},i.HE=function(){this.Jwt.removeEventListener("addaudiotrack",this.Zgt),this.Jwt.removeEventListener("enableaudiotrack",this.bmt),this.Jwt.removeEventListener("addvideotrack",this.$gt),this.Jwt.removeEventListener("addtexttrack",this.fG),this.Jwt.removeEventListener("addtexttrackid3cues",this.Amt),this.Jwt.removeEventListener("addtexttrackcues",this.Smt)},i.mg=function(){},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.umt.XE()}},{key:"kg",get:function(){return this.smt?this.smt:null},set:function(t){this.Bwt.MG("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.smt=t}},{key:"v_",get:function(){return this.mI},set:function(t){this.setCurrentTime(t)}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.qF}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.JS.bg}},{key:"B_",get:function(){return this.Kwt}},{key:"g_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.Bwt.MG("THEOplayerSetMuted",t),this.yI=t,this.Fr(new zm(this.v_,t?0:1)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.Bwt.MG("THEOplayerSetPlaybackRate",t),this.pI=t}},{key:"Dg",get:function(){return this.UV.XE()}},{key:"Cg",get:function(){return DS.dR},set:function(t){}},{key:"Dl",get:function(){return this.GF}},{key:"xg",get:function(){return this.CF.XE()}},{key:"y_",get:function(){return this.bI}},{key:"QE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"k_",get:function(){return this.omt}},{key:"p_",get:function(){return this.hmt}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Og",get:function(){return this.oE}},{key:"Y_",get:function(){return this.V_}},{key:"YE",get:function(){return this.uE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}}]),n}(Kw),aq=function(){function t(){this.jE=cS.IS}var n=t.prototype;return n.ZE=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(dm(n.type))return!1;var e=n.contentProtection;if(e&&!DA(e)){if(!OA(e))return!1;if(!t.uwt(e))return!1}return!0},t.uwt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.JE=function(){return!1},t}(),cq=function(){function t(){this.Cmt=r.webkit}return t.prototype.MG=function(t,n){this.Cmt.messageHandlers[t]&&this.Cmt.messageHandlers[t].postMessage(n)},t}(),fq=function(t){function n(n){var i;return(i=t.call(this)||this).Bwt=void 0,i.Jwt=void 0,i.xmt=function(t){var n=yu(t.detail.initData),e=t.detail.sessionId;i.Fr(new GX(n,e))},i.Omt=function(t){var n=new y(Ru(t.detail.message)),e=t.detail.destinationURL;i.Fr(new QX(n,e))},i.Pmt=function(t){i.Fr(new YX)},i.Bwt=n,i.Jwt=new WX,MX().fairplayController={sdkEventBus:i.Jwt},i.DJ(),i}S(n,t);var i=n.prototype;return i.DJ=function(){this.Jwt.addEventListener(zX.Vwt,this.xmt),this.Jwt.addEventListener(zX.Wwt,this.Omt),this.Jwt.addEventListener(zX.Xwt,this.Pmt)},i.sV=function(t,n){var i={playerId:FX(),data:Iu(n.buffer),sessionId:t};this.Bwt.MG("THEOplayerCreateKeySession",i)},i.Zo=function(t,n){var i={playerId:FX(),data:Iu(n.buffer),sessionId:t};this.Bwt.MG("THEOplayerUpdateKey",i)},n}(Kw),vq=function(t){var n=this;this.Jwt=void 0,this.Bmt=void 0,this.Lmt=function(){n.Bmt.yG()},this.Mmt=function(){n.Bmt.mG()},this.Jwt=new WX,this.Bmt=t,this.Jwt.addEventListener("showTracks",this.Lmt),this.Jwt.addEventListener("hideTracks",this.Mmt),MX().texttracks={sdkEventBus:this.Jwt}},dq=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).TG=void 0,o.SG=void 0,o.Umt=void 0;var h=i.AE(my.$f);return o.TG=new Wx,o.TG.sX(n),o.SG=new FO(o.TG.pg,h.pB,o.j_,u,h.ME),o.Umt=new vq(o.SG),i.zE(h),ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.add("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.ag=function(){t.prototype.ag.call(this),this.TG.ag()},i.cg=function(){t.prototype.cg.call(this),this.TG.cg()},i.eg=function(){return!0},i.getSdkBridge=function(){return new cq},i.getFairPlayControllerBridge=function(){return _q},i.Nmt=function(t){return t},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="#000000",n.next=3,Er.awrap(t.prototype.hv.call(this));case 3:this.SG.hv(),this.TG.hv();case 5:case"end":return n.stop()}},null,this,null,ze)},n}(hq);IS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.TT=function(t,n,i,e,r,s){return new dq(t,n,i,e,r,s)},i.ZE=function(n,i){if(n.type){var e=sr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.ZE.call(this,n,i)},n}(aq)));var lq,_q=new fq(new cq),gq=function(t){function n(){return t.call(this,"Fmt")||this}return S(n,t),n.prototype.Rd=function(){return new wq},n}(fw),wq=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(ru);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(lq||(lq={}));var mq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Hmt=new Kw,n.Ur=function(t){n.Fr(t)},n}S(n,t);var i=n.prototype;return i.Rd=function(){return n=function(t){var n=t.zmt.map(function(t){return t.Ed});return n.item=function(n){n|=0;var i=t.Jd(n);return i&&i.Ed||void 0},n}(t=this),i=new zI(t,n),n.addEventListener=function(t,n){i.Hr(t,n)},n.removeEventListener=function(t,n){i.Xr(t,n)},n;var t,n,i},i.Hr=function(t,n){this.Hmt.Hr(t,n)},i.Vr=function(t){this.Hmt.Vr(t)},i.Wr=function(){this.Hmt.Wr()},i.Fr=function(t){this.Hmt.Fr(t)},i.Xr=function(t,n){this.Hmt.Xr(t,n)},i.Gr=function(t){this.Hmt.Gr(t)},i.Qr=function(t){this.Hmt.Qr(t)},i.Yr=function(t,n){return this.Hmt.Yr(t,n)},n}(function(){function t(){this.hs=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.hs[t]},n.Lg=function(t){this.hs.push(t),this.Sd&&this.Sd.push(t.Ed),this.Vmt(t)},n.Wmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Lg(i)}},n.Xmt=function(t,n){n>=0&&n<=this.hs.length&&(this.hs.splice(n,0,t),this.Sd&&this.Sd.splice(n,0,t.Ed),this.Vmt(t))},n.Mg=function(t){return Os(this.hs,t)},n.jo=function(t){this.qmt(this.hs.indexOf(t))},n.qmt=function(t){if(t>=0&&t<this.hs.length){var n=this.hs[t];xs(this.hs,t),this.Sd&&xs(this.Sd,t),this.Gmt(n)}},n.ds=function(){var t=this.hs.slice();Ps(this.hs),this.Sd&&Ps(this.Sd);for(var n=0;n<t.length;n++){var i=t[n];this.Gmt(i)}},A(t,[{key:"zmt",get:function(){return this.hs}},{key:"sl",get:function(){return this.hs.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),t}());var yq,kq=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(ru),pq=function(t){function n(n){var i;return(i=t.call(this,"Ymt")||this).Qmt=n,i}return S(n,t),n.prototype.Rd=function(){return new kq(this.Qmt.Ed)},n}(fw),bq=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(ru),Aq=function(t){function n(n){var i;return(i=t.call(this,"jmt")||this).task=n,i}return S(n,t),n.prototype.Rd=function(){return new bq(this.task.Ed)},n}(fw),Tq=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Vmt=function(t){this.Fr(new pq(t))},i.Gmt=function(t){this.Fr(new Aq(t))},n}(mq);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(yq||(yq={}));var Sq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Zmt=yq.UNINITIALISED,r.LB=new Tq,r.o9=void 0,r.Jmt=void 0,r.$mt=void 0,r.$mt=i,r.Jmt=e,r.o9=n,r.ug(),r}S(n,t);var i=n.prototype;return i.ug=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.Kmt());case 2:this.tyt(yq.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,ze)},i.Kmt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Er.awrap(this.nyt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],ze)},i.nyt=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.o9.aK());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.$mt.iyt(i.id,i.sourceDescription,i.parameters,this.Jmt),this.eyt(e),this.LB.Lg(e);case 4:case"end":return r.stop()}},null,this,null,ze)},i.tyt=function(t){this.Zmt=t,this.Fr(new gq)},i.iyt=function(t,n,i){void 0===i&&(i="persistent");var e=this.$mt.ryt(t,n,i);return this.syt(e,i),this.LB.Lg(e),this.eyt(e),e},i.syt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.uyt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],ze)},i.uyt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.o9.uK({key:t._l,id:t._l,sourceDescription:t.hR,parameters:t.lh},n));case 2:case"end":return i.stop()}},null,this,null,ze)},i.eyt=function(t){var n=this;t.Hr("Fmt",function(){t.Df===lq.EVICTED&&n.LB.jo(t)})},A(n,[{key:"Df",get:function(){return this.Zmt}},{key:"oyt",get:function(){return this.LB}}]),n}(iu);function Eq(t,n){return function(t,n){var i=t.Rw&&n.Rw,e=t.hp&&n.hp;return i||e?i&&e?t.Rw*t.hp-n.Rw*n.hp:i?t.Rw-n.Rw:e?t.hp-n.hp:(t.Rw||1)*(t.hp||1)-(n.Rw||1)*(n.hp||1):0}(t,n)||function(t,n){return t.xS-n.xS}(t,n)}var Rq=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(ru),Iq=function(t){function n(){return t.call(this,"C$")||this}return S(n,t),n.prototype.Rd=function(){return new Rq},n}(fw),Nq=function(){function t(t,n,i){if(this.hyt=void 0,this.ayt=t,this.Bg=n,this.cyt=i,0===this.Bg.size)this.hyt=US.dI();else{var e=new US([-1/0,1/0]);this.Bg.forEach(function(t){e=e.WR(t.timeRanges)}),this.hyt=e}}return t.prototype.mw=function(t){return!!Iw(this.Bg,t.Bg)&&(!!Ft(this.ayt,t.ayt)&&(!!Ft(this.aI,t.aI)&&(!!Ft(this.fyt,t.fyt)&&this.vyt.eI(t.vyt))))},t.dyt=function(){return Cq},A(t,[{key:"aI",get:function(){return this.cyt}},{key:"lyt",get:function(){return this.ayt}},{key:"fyt",get:function(){return this.vyt.aI}},{key:"_yt",get:function(){var t=0,n=0;return this.Bg.forEach(function(i){t+=i.timeRanges.aI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"vyt",get:function(){return this.hyt}}]),t}(),Dq=Nr(),Cq=new Nq(0,Dq,NaN);function xq(t,n){if(q(t)){if(us(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var Oq,Pq=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"gyt"}}]),n}(Zt);function Bq(t,n,i,e){var r=[],s=Ns(i,function(t){return t.wyt===Fr});if(void 0!==s){var u=s.qn?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.qn.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.wyt!==Fr)for(var a=0,c=rs(h.wyt);a<c.length;a++){var f=c[a];r.push({eh:f,US:h.myt?[h.myt]:[],tS:void 0})}}if(r.length)return{XA:t,yyt:{kyt:u,qA:s.qA},pyt:r,byt:n===my.Jf?e.slice():[],Ayt:n===my.$f?e.slice():[],vV:!1}}}}function Lq(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Nr();return Mq(e,r,t.pyt),Mq(e,r,n.pyt),{XA:t.XA,yyt:{kyt:t.yyt.kyt,qA:null!=(i=t.yyt.qA)?i:n.yyt.qA},pyt:e,byt:Uq(t.byt,n.byt,Os),Ayt:Uq(t.Ayt,n.Ayt,Os),vV:t.vV||n.vV||!1}}function Mq(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.eh.sr,u=void 0;n.has(s)?(u=n.get(s)).US=Uq(u.US,r.US,Fq):(u=Rr({},r),t.push(u),n.set(s,u))}}function Uq(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function Fq(t,n){for(var i=0;i<t.length;i++){if(Tu(t[i],n))return!0}return!1}function Hq(t,n){var i,e=t.Tyt;if(e){for(var r=t.GD,s=[],u=0,o=t.zZ;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=Bq(n||{},t.nr,e,s)}for(var a=0,c=t.Syt;a<c.length;a++){i=Lq(i,zq(c[a],n))}return i}function zq(t,n){return Bq(n||{},t.nr,t.Tyt||[],[t.mf])}function Vq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Eyt;r<s.length;r++)u=s[r],e.push(Wq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{d_:t.Iyt.Ryt(),Nyt:[t.Dyt],Eyt:o});case 6:case"end":return h.stop()}},null,null,null,ze)}function Wq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Cyt;r<s.length;r++)u=s[r],e.push(Xq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{xyt:o});case 6:case"end":return h.stop()}},null,null,null,ze)}function Xq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Oyt;r<s.length;r++)qq(u=s[r])||e.push(Yq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{qk:o,nr:t.nr});case 6:case"end":return h.stop()}},null,null,null,ze)}function qq(t){return t.Syt.every(Qq)}!function(t){t[t.Ql=0]="Ql",t[t.Yl=1]="Yl"}(Oq||(Oq={}));var Gq=1;function Qq(t){return t.Pyt!==Gq&&Boolean(t.Pyt)}function Yq(t,n,i){var e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.Syt;r<s.length;r++)Qq(u=s[r])||e.push(Zq(u,i));return v.next=4,Er.awrap(ze.all(e));case 4:return o=v.sent,h=t.zZ[0],a=t.Tyt,c=a?jq(h,a):void 0,f=Hq(t,n),v.abrupt("return",{kl:o,yl:t.Byt,nr:t.nr,IE:c,Lyt:f});case 10:case"end":return v.stop()}},null,null,null,ze)}function jq(t,n){for(var i=[],e=function(t){return t?us(t,"avc")?tc.VIDEO_H264:us(t,"hev")||us(t,"hvc")||us(t,"hvt")||us(t,"lhv")||us(t,"lhe")||us(t,"lht")?tc.VIDEO_H265:us(t,"mp4")?tc.VIDEO_MP4:us(t,"mpeg2")?tc.VIDEO_MPEG2:us(t,"mpeg")?tc.VIDEO_MPEG:tc.VIDEO_UNKNOWN:tc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.wyt.split(":").pop(),o=s.myt;i.push({mimeType:e,uuid:u,data:o})}return{type:Oq.Ql,schemeType:Hr,schemeDatas:i}}function Zq(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap(Jq(t,n));case 2:r=u.sent,s={_l:Kq(t),jb:r,C8:t.B8,xS:t.xS,ae:t.ae,hp:t.hp,nr:t.nr,Rw:t.Rw},u.t0=t.nr,u.next=u.t0===my.On?7:u.t0===my.$f?8:u.t0===my.Jf?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.v$=null!=(i=null==(e=t.v$)?void 0:e.Nw())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.ugt,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,ze)}function Jq(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Myt,r=e.Uyt(),s=r;case 4:if(!s){c.next=16;break}if(!t.Fyt(s)){c.next=12;break}return c.next=8,Er.awrap(t.Hyt(s,n,(new Fs).Pr));case 8:for(u=c.sent,o=0;o<u.sl;o++)i.push($q(u.zyt(o),t));c.next=13;break;case 12:i.push($q(s,t));case 13:s=e.qdt(s),c.next=4;break;case 16:return h=e.Vyt(),a=h.nw-r.tw,c.abrupt("return",{d_:a,_K:i});case 19:case"end":return c.stop()}},null,null,null,ze)}function $q(t,n){return{tw:t.tw,d_:t.d_,Wyt:n.Xyt(t)}}function Kq(t){return t.qyt.RR+"-"+(""+t._l)}function tG(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=nG(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={nr:e.type,tp:[]}),n[e["group-id"]].tp.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.tp;s<u.length;s++){var o=u[s];i[r.nr]||(i[r.nr]={}),i[r.nr][o.name]||(i[r.nr][o.name]=[]),i[r.nr][o.name].push(o)}return i}(t),n)}function nG(t,n,i){for(var e=t["group-id"],r={rZ:t,HJ:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.HJ.push(u)}return r}var iG,eG="und";function rG(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(n.e9([t],{}));case 2:return i=r.sent,e=new gU,r.abrupt("return",e.Dk(i.G8,i.Lf,SU(i.Lf)));case 5:case"end":return r.stop()}},null,null,null,ze)}function sG(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isMasterPlaylist){i.next=4;break}return i.abrupt("return",uG(t,n));case 4:return i.abrupt("return",(r=void 0,r=_G(e=t),{d_:e.duration,Nyt:[e.uri],Eyt:[{xyt:[{nr:my.Ff,qk:[{nr:my.Ff,yl:eG,kl:[{_l:e.uri,jb:r,xS:0,ae:"",hp:0,nr:my.Ff,Rw:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,ze)}function uG(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=tG(t.media,t.streams),s.next=3,Er.awrap(aG(i,n));case 3:return e=s.sent,s.next=6,Er.awrap(hG(t.streams,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{d_:oG(e),Nyt:[t.uri],Eyt:[{xyt:e}]});case 9:case"end":return s.stop()}},null,null,null,ze)}function oG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].qk;e<r.length;e++){var s=r[e];n=_.max.apply(_,[n].concat(s.kl.map(function(t){return t.jb.d_})))}return n}function hG(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return h=t[e],c.next=6,Er.awrap(lG(h.uri,n));case 6:(a=c.sent).xS=h.bandwidth,a.ae=h.codecs,a.hp=null!=(r=null==(s=h.resolution)?void 0:s.height)?r:0,a.Rw=null!=(u=null==(o=h.resolution)?void 0:o.width)?u:0,i.push(a);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{nr:my.Ff,qk:[{yl:eG,nr:my.Ff,kl:i}]});case 16:case"end":return c.stop()}},null,null,null,ze)}function aG(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],u.t0=Er.keys(t);case 2:if((u.t1=u.t0()).done){u.next=11;break}return e=u.t1.value,r=t[e],u.next=7,Er.awrap(cG(r,e,n));case 7:s=u.sent,i.push(s),u.next=2;break;case 11:return u.abrupt("return",i);case 12:case"end":return u.stop()}},null,null,null,ze)}function cG(t,n,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Er.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Er.awrap(fG(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{nr:vG(n),qk:e});case 12:case"end":return o.stop()}},null,null,null,ze)}function fG(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].rZ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Er.awrap(dG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{yl:e.language||eG,nr:vG(e.type),kl:i});case 13:case"end":return o.stop()}},null,null,null,ze)}function vG(t){switch(t.toUpperCase()){case"AUDIO":return my.Jf;case"VIDEO":return my.$f;case"SUBTITLES":case"CLOSED-CAPTIONS":return my.On;default:return my.Ff}}function dG(t,n){var i,e,r;return lG((e=(i=t).rZ.uri,r=i.HJ.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function lG(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,Er.awrap(rG(t,n));case 3:e=r.sent,i=_G(e),r.next=8;break;case 7:i={d_:0,_K:[]};case 8:return r.abrupt("return",{_l:t||"default",Gyt:t,jb:i,xS:0,ae:"",hp:0,nr:my.Ff,Rw:0});case 9:case"end":return r.stop()}},null,null,null,ze)}function _G(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(gG(r))}return{d_:t.duration,_K:n}}function gG(t){return{tw:t.start,d_:t.duration,Wyt:wG(t.uri)}}function wG(t){return NP(t)?{Mf:t.uj,oj:[t.oj.RR,t.oj.NR],sv:!1}:{Mf:t.toString(),sv:!1}}!function(t){t.EA="static",t.RA="dynamic"}(iG||(iG={}));var mG,yG=31536e3,kG=2592e3,pG=86400,bG=3600,AG=60,TG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,SG=function(){function t(t){this.Qyt=void 0;var n=t.match(TG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Qyt=i*yG+e*kG+r*pG+s*bG+u*AG+o}var n=t.prototype;return n.Ryt=function(){return this.Qyt},n.Yyt=function(){return 1e3*this.Qyt},A(t,[{key:"a1",get:function(){return wk.Om(this.Qyt,1e3)}}]),t}();!function(t){t.jyt="progressive",t.Zyt="interlaced",t.Ff="unknown"}(mG||(mG={}));var EG=function(){function t(t,n){this.Jyt=t,this.$yt=n}return t.prototype.Nw=function(){return this.Jyt/this.$yt},t}(),RG=/^(?:true|false)$/i,IG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function NG(t){if(void 0!==t)return new SG(t)}function DG(t){if(void 0!==t){var n=t.match(IG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),g=Number(r)-1,w=Number(s),y=Number(u),k=Number(o),p=Number(h),b=Number("0."+(a||"")),A=_.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function CG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[OG(n[1]),OG(n[2])]}}function xG(t){if(void 0!==t){if(!m(Number(t)))try{return ct.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function OG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function PG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new EG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function BG(t){if(void 0!==t){if(RG.test(t))return"true"===t.toLowerCase();if(!m(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function LG(t){return{Mf:t.hi,Kyt:BG(t.ni("availabilityTimeComplete")),tkt:OG(t.ni("availabilityTimeOffset"))}}function MG(t){return t.map(LG)}function UG(t){var n,i,e,r,s,u,o=jG(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).ii(e,i))&&(s=n.ni(r+":"+i)),s),a=Cp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Ru(a.hi)),!u){var c=Cp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=yu(t.hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),h=new So;Zu(o,h,r),Zu(o,h,1886614376),Zu(o,h,0),Xu(o,h,i),Zu(o,h,e),Xu(o,h,n),0;return u.buffer}(c))}return{qA:h,myt:u,wyt:o.wyt,qn:o.qn}}function FG(t){return{nkt:t.ni("sourceURL"),oj:CG(t.ni("range"))}}function HG(t,n){var i=t.ni("d"),e=t.ni("t"),r=OG(t.ni("r"));n.push({d_:i,tw:e,ikt:r})}function zG(t){return{E6:t.ni("index"),ekt:CG(t.ni("indexRange")),tp:t.ni("media"),rkt:CG(t.ni("mediaRange"))}}function VG(t){var n,i;return Rr({},qG(t),{skt:(n=t.Yn("SegmentURL"),(i=n.map(zG)).length>0?i:void 0),ukt:t.ni("xlink:href"),okt:t.ni("xlink:actuate")})}function WG(t){var n=t.map(VG);return n.length>0?n:void 0}function XG(t){var n=BG(t.ni("availabilityTimeComplete")),i=OG(t.ni("availabilityTimeOffset")),e=CG(t.ni("indexRange")),r=BG(t.ni("indexRangeExact")),s=t.Yn("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one Initialization element.");var u=1===s.length?FG(s[0]):void 0,o=xG(t.ni("presentationTimeOffset")),h=t.Yn("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one RepresentationIndex element.");return{Kyt:n,tkt:i,ekt:e,hkt:r,akt:u,ckt:o,fkt:1===h.length?FG(h[0]):void 0,vkt:NG(t.ni("timeShiftBufferDepth")),bm:OG(t.ni("timescale"))}}function qG(t){var n=XG(t),i=t.Yn("BitstreamSwitching"),e=i.length>0?FG(i[0]):void 0,r=OG(t.ni("duration")),s=t.Yn("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one SegmentTimeline element.");return Rr({},n,{dkt:e,d_:r,Myt:1===s.length?function(t){for(var n=[],i=t.Yn("S"),e=0;e<i.length;e++)HG(i[e],n);return n}(s[0]):void 0,lkt:OG(t.ni("startNumber")),_kt:OG(t.ni("endNumber"))})}function GG(t){return Rr({},qG(t),{gkt:t.ni("bitstreamSwitching"),wkt:t.ni("index"),mkt:t.ni("initialization"),ykt:t.ni("media")})}function QG(t){return{ugt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(OG)):1===n.length?n.map(OG)[0]:void 0}}(t.ni("audioSamplingRate")),zZ:t.ni("codecs"),kkt:BG(t.ni("codingDependency")),Tyt:function(t){if(0!==t.length)return t.map(UG)}(t.Yn("ContentProtection")),pkt:t.Yn("EssentialProperty").map(ZG),v$:PG(t.ni("frameRate")),hp:OG(t.ni("height")),Pyt:OG(t.ni("maxPlayoutRate")),bkt:OG(t.ni("maximumSAPPeriod")),GD:t.ni("mimeType"),Akt:t.ni("profiles"),Tkt:t.ni("sar"),Skt:function(t){switch(t){case mG.jyt:case mG.Zyt:case mG.Ff:return t;default:return}}(t.ni("scanType")),Ekt:t.ni("segmentProfiles"),Rkt:OG(t.ni("startWithSAP")),Rw:OG(t.ni("width"))}}function YG(t){var n=QG(t),i=OG(t.ni("bandwidth")),e=MG(t.Yn("BaseURL")),r=t.ni("dependencyId"),s=t.ni("id"),u=t.ni("mediaStreamStructureId"),o=OG(t.ni("qualityRanking")),h=t.Yn("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?XG(h[0]):void 0,c=WG(t.Yn("SegmentList")),f=t.Yn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Rr({},n,{xS:i,Ikt:e,Nkt:r,_l:s,Dkt:u,Ckt:o,xkt:a,Okt:c,Pkt:1===f.length?GG(f[0]):void 0})}function jG(t){return{wyt:t.ni("schemeIdUri"),qn:t.ni("value")}}function ZG(t){return jG(t)}function JG(t){return jG(t)}function $G(t){return jG(t)}function KG(t){var n,i=QG(t),e=function(t){return t.map($G)}(t.Yn("Accessibility")),r=MG(t.Yn("BaseURL")),s=BG(t.ni("bitstreamSwitching")),u=t.ni("contentType"),o=OG(t.ni("group")),h=OG(t.ni("id")),a=(null==(n=t.Yn("Label")[0])?void 0:n.hi)||"",c=t.ni("lang"),f=OG(t.ni("maxBandwidth")),d=PG(t.ni("maxFrameRate")),l=OG(t.ni("maxHeight")),_=OG(t.ni("maxWidth")),g=OG(t.ni("minBandwidth")),w=PG(t.ni("minFrameRate")),m=OG(t.ni("minHeight")),y=OG(t.ni("minWidth")),k=t.ni("par"),p=t.Yn("Representation").map(YG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(JG)}(t.Yn("Role")),A=BG(t.ni("segmentAlignment"))||!1,T=t.Yn("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?XG(T[0]):void 0,E=WG(t.Yn("SegmentList")),R=t.Yn("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I,N=1===R.length?GG(R[0]):void 0,D=OG(t.ni("selectionPriority")),C=D||1,x=BG(t.ni("subsegmentAlignment"))||!1;try{I=OG(t.ni("subsegmentStartsWithSAP"))}catch(t){}return Rr({},i,{Bkt:e,Ikt:r,dkt:s,mf:u,Lkt:o,_l:h,ml:a,yl:c,Mkt:f,Ukt:d,Fkt:l,Hkt:_,zkt:g,Vkt:w,Wkt:m,Xkt:y,qkt:k,Syt:p,Gkt:b,Qkt:A,xkt:S,Okt:E,Pkt:N,jE:C,Ykt:x,jkt:I,Zkt:t.ni("xlink:actuate")||"onRequest",Jkt:t.ni("xlink:href")})}function tQ(t){var n=xG(t.ni("presentationTime"))||ct.ZERO,i=xG(t.ni("duration")),e=OG(t.ni("id")),r=function(t){for(var n=t.oi,i={},e=0;e<n.length;e++)i[n[e].Vn]=n[e].qn;return i}(t),s=t.hi;return{Cb:n,d_:i,_l:e,oi:r,ai:""!==s.trim()?s:t.ni("messageData")||""}}function nQ(t){return{Jkt:t.ni("xlink:href"),Zkt:t.ni("xlink:actuate"),wyt:t.ni("schemeIdUri"),qn:t.ni("value"),bm:OG(t.ni("timescale")),ckt:xG(t.ni("presentationTimeOffset")),QD:t.Yn("Event").map(tQ)}}function iQ(t,n){var i=t.Yn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?jG(i[0]):void 0,r=t.Yn("AdaptationSet").map(KG),s=MG(t.Yn("BaseURL")),u=BG(t.ni("bitstreamSwitching")),o=NG(t.ni("duration")),h=t.Yn("EventStream").map(nQ),a=t.ni("id"),c=n&&NG(n.ni("start")),f=t.Yn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?XG(f[0]):void 0,l=WG(t.Yn("SegmentBase")),_=t.Yn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?GG(_[0]):void 0,w=NG(t.ni("start"));t.Yn("Subset");var m=t.ni("xlink:href");return{Oyt:r,$kt:e,Ikt:s,dkt:u,d_:o,Kkt:h,_l:a,tpt:c,xkt:d,Okt:l,Pkt:g,RR:w,Zkt:t.ni("xlink:actuate"),Jkt:m}}function eQ(t){var n=t.ni("schemeIdUri");if(n)return{wyt:n,qn:t.ni("value")}}function rQ(t,n){var i=DG(t.ni("availabilityEndTime")),e=DG(t.ni("availabilityStartTime")),r=MG(t.Yn("BaseURL")),s=t.ni("id"),u=t.Yn("Location").map(function(t){return""+t.hi}),o=NG(t.ni("maxSegmentDuration")),h=NG(t.ni("maxSubsegmentDuration")),a=NG(t.ni("mediaPresentationDuration"));t.Yn("Metrics");var c=NG(t.ni("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=NG(t.ni("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(iQ(t[i],t[i+1]));return n}(t.Yn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.ni("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{npt:i,ipt:e,Ikt:r,_l:s,ept:u,rpt:n,spt:o,upt:h,Iyt:a,hpt:c,apt:f,Eyt:d,Akt:l,cpt:DG(t.ni("publishTime")),fpt:NG(t.ni("suggestedPresentationDelay")),vkt:NG(t.ni("timeShiftBufferDepth")),nr:function(t){switch(t){case iG.EA:case iG.RA:return t;default:return}}(t.ni("type")),vpt:function(t){for(var n=[],i=0;i<t.length;i++){var e=eQ(t[i]);e&&n.push(e)}return n}(t.Yn("UTCTiming"))}}var sQ,uQ=function(){function t(){}return t.prototype.Awt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return rQ(t,n)}(i.Mn(t).ci,n)},t}(),oQ=0,hQ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).gl=void 0,u.Fg=void 0,u.dpt=void 0,u._l=n,u.xS=i,u.zZ=e,u.uj=s,u.gl=oQ++,u.Fg=r||"",u.dpt=!0,u}return S(n,t),n.prototype.lA=function(){this.dpt=!1,this.Fr(new jz(this.Ed))},A(n,[{key:"ml",get:function(){return this.Fg},set:function(t){this.Fg!==t&&(this.Fg=t,this.Fr(new jz(this.Ed)))}},{key:"WZ",get:function(){}},{key:"xQ",get:function(){return this.dpt}}]),n}(iu),aQ=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).Sd=void 0,c.v$=u,c.Rw=o,c.hp=h,c.sgt=a,c}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Zz(this)),this.Sd}}]),n}(hQ),cQ=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Sd=void 0,o.ugt=u,o}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Jz(this)),this.Sd}}]),n}(hQ);!function(t){t.lpt="_pt",t.gpt="wpt"}(sQ||(sQ={}));var fQ=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mpt=function(t){n.Fr(t)},n}return S(n,t),A(n,[{key:"ypt",get:function(){var t=this.kpt();return null==t?void 0:t.RR}},{key:"ppt",get:function(){var t=this.kpt();return null==t?void 0:t.NR}}]),n}(iu);function vQ(t){return j(t.bpt)}var dQ=function(t){function n(n,i){var e;if((e=t.call(this)||this).Apt=void 0,e.Sd=void 0,e.Tpt=void 0,e.Spt=void 0,e.Ept=void 0,e.Apt=n,e.Tpt=i,e.Tpt.Hr(sQ.lpt,e.mpt),e.nr===my.$f){var r,s,u=null!=(r=null==(s=e.v$)?void 0:s.Nw())?r:NaN;e.Spt=new aQ(e._l,e.xS,e.ae,"","",u,e.Rw,e.hp)}else e.nr===my.Jf?e.Spt=new cQ(e._l,e.xS,e.ae,"","",e.ugt):e.Spt=void 0;return e}S(n,t);var i=n.prototype;return i.Xyt=function(t){var n=vQ(t)?this.Tpt.Rpt(t):this.Tpt.Xyt(t);return{Mf:n.Mf,oj:n.oj,sv:this.Ipt.sv}},i.Npt=function(){return this.Tpt.Npt()},i.kpt=function(){return this.Tpt.kpt()},i.Dpt=function(){return this.Tpt.Dpt()},i.Fyt=function(t){return this.Tpt.Fyt(t)},i.Hyt=function(t,n,i){return this.Tpt.Hyt(t,this.Ipt.sv,n,i)},i.Cpt=function(t){return vQ(t)?this.Myt.xpt(t):this.Myt.Cpt(t)},i.d5=function(t){return vQ(t)?this.Myt.Opt(t):this.Myt.d5(t)},i.hv=function(){this.Tpt.Xr(sQ.lpt,this.mpt)},A(n,[{key:"Ppt",get:function(){return this.Apt}},{key:"ugt",get:function(){var t;return null!=(t=this.Tpt.ai.ugt)?t:this.Ppt.ugt}},{key:"xS",get:function(){return this.Tpt.ai.xS||0}},{key:"zZ",get:function(){var t=this.Tpt.ai;return t.zZ?[t.zZ]:this.Ppt.zZ}},{key:"Bpt",get:function(){var t=this.Tpt.ai;return t.zZ?[t.zZ]:[]}},{key:"ae",get:function(){return this.Tpt.ai.zZ||this.Ppt.ae}},{key:"kkt",get:function(){return this.Tpt.ai.kkt||this.Ppt.kkt}},{key:"Tyt",get:function(){return this.Tpt.ai.Tyt||this.Ppt.Tyt}},{key:"mf",get:function(){return this.GD+'; codecs="'+this.ae+'"'}},{key:"pkt",get:function(){var t=this.Tpt.ai;return t.pkt.length?t.pkt:this.Ppt.pkt}},{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{get id(){return t._l},get type(){return t.nr},get bandwidth(){return t.xS},get width(){return t.Rw},get height(){return t.hp},get frameRate(){var n,i;return null!=(n=null==(i=t.v$)?void 0:i.Nw())?n:NaN},get audioSamplingRate(){return t.ugt}}));var t}},{key:"v$",get:function(){var t;return null!=(t=this.Tpt.ai.v$)?t:this.Ppt.v$}},{key:"hp",get:function(){return this.Tpt.ai.hp||this.Ppt.hp}},{key:"_l",get:function(){return this.Tpt.ai._l||""}},{key:"u4",get:function(){return this.Ept},set:function(t){this.Ept=t}},{key:"B8",get:function(){var t=this.Tpt.Lpt();if(t)return{Mf:t.Mf,oj:t.oj,sv:this.Ipt.sv}}},{key:"Pyt",get:function(){return this.Tpt.ai.Pyt||this.Ppt.Pyt||1}},{key:"bkt",get:function(){return this.Tpt.ai.bkt||this.Ppt.bkt}},{key:"Ipt",get:function(){return this.qyt.Ipt}},{key:"GD",get:function(){return this.Tpt.ai.GD||this.Ppt.GD}},{key:"qyt",get:function(){return this.Ppt.qyt}},{key:"Akt",get:function(){return this.Tpt.ai.Akt||this.Ppt.Akt}},{key:"igt",get:function(){return this.Spt}},{key:"Tkt",get:function(){return this.Tpt.ai.Tkt||this.Ppt.Tkt}},{key:"Skt",get:function(){return this.Tpt.ai.Skt||this.Ppt.Skt}},{key:"Mpt",get:function(){return this.Tpt.Mpt}},{key:"Ekt",get:function(){return this.Tpt.ai.Ekt||this.Ppt.Ekt}},{key:"Myt",get:function(){return this.Tpt.Myt}},{key:"Rkt",get:function(){return this.Tpt.ai.Rkt||this.Ppt.Rkt}},{key:"nr",get:function(){var t=this.GD.split("/")[0];return"application"===t||"text"===t||rb(this.GD,this.zZ)?my.On:"video"===t?my.$f:"audio"===t?my.Jf:"image"===t?my.Kf:my.Ff}},{key:"Rw",get:function(){return this.Tpt.ai.Rw||this.Ppt.Rw}}]),n}(fQ),lQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Upt=[],e.Tpt=void 0,e.Fpt=void 0,e.Hpt=[],e.Fpt=n,e.Tpt=i,e.Tpt.Hr(sQ.lpt,e.mpt),e}S(n,t);var i=n.prototype;return i.Zo=function(t,n){var i,e=this;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Hpt.length){r.next=6;break}return this.Hpt=[],i=this.Tpt.Syt.map(function(i){return e.zpt(i,t,n)}),r.next=5,Er.awrap(ze.all(i));case 5:this.Hpt=r.sent.filter(F);case 6:this.Vpt();case 7:case"end":return r.stop()}},null,this,null,ze)},i.zpt=function(t,n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new dQ(this,t),s.next=3,Er.awrap(n(e));case 3:if(r=s.sent,Vs(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,ze)},i.Vpt=function(){if(!this.Hpt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.kpt=function(){return this.Tpt.kpt()},i.Dpt=function(){return this.Tpt.Dpt()},i.hv=function(){this.Tpt.Xr(sQ.lpt,this.mpt);for(var t=0,n=this.Hpt;t<n.length;t++){n[t].hv()}Ps(this.Hpt)},A(n,[{key:"Bkt",get:function(){return this.Tpt.ai.Bkt}},{key:"ugt",get:function(){var t;return null!=(t=this.Tpt.ai.ugt)?t:-1}},{key:"zZ",get:function(){if(this.Tpt.ai.zZ)return[this.Tpt.ai.zZ];for(var t=[],n=0,i=this.Syt;n<i.length;n++){var e=i[n];e.Bpt.length&&-1===t.indexOf(e.ae)&&t.push(e.ae)}return t}},{key:"ae",get:function(){return this.zZ.join()}},{key:"kkt",get:function(){return this.Tpt.ai.kkt}},{key:"Tyt",get:function(){return this.Tpt.ai.Tyt}},{key:"mf",get:function(){return this.GD+'; codecs="'+this.ae+'"'}},{key:"pkt",get:function(){return this.Upt}},{key:"v$",get:function(){return this.Tpt.ai.v$}},{key:"Lkt",get:function(){return this.Tpt.ai.Lkt}},{key:"hp",get:function(){return this.Tpt.ai.hp||0}},{key:"_l",get:function(){return this.Tpt.ai._l}},{key:"ml",get:function(){return this.Tpt.ai.ml||""}},{key:"Pyt",get:function(){return this.Tpt.ai.Pyt}},{key:"bkt",get:function(){return this.Tpt.ai.bkt}},{key:"Ipt",get:function(){return this.qyt.Ipt}},{key:"GD",get:function(){return this.Tpt.ai.GD||this.Hpt[0].GD}},{key:"qyt",get:function(){return this.Fpt}},{key:"Akt",get:function(){return this.Tpt.ai.Akt}},{key:"Syt",get:function(){return this.Hpt}},{key:"Gkt",get:function(){return this.Tpt.ai.Gkt||[]}},{key:"Tkt",get:function(){return this.Tpt.ai.Tkt}},{key:"Skt",get:function(){return this.Tpt.ai.Skt}},{key:"Ekt",get:function(){return this.Tpt.ai.Ekt}},{key:"jE",get:function(){return this.Tpt.ai.jE}},{key:"Rkt",get:function(){return this.Tpt.ai.Rkt}},{key:"nr",get:function(){var t=(this.Tpt.ai.mf||this.GD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||rb(this.GD,this.zZ)?my.On:"video"===t?my.$f:"audio"===t?my.Jf:"image"===t?my.Kf:my.Ff}},{key:"Rw",get:function(){return this.Tpt.ai.Rw||0}},{key:"Byt",get:function(){return this.Tpt.ai.yl||""}},{key:"Wpt",get:function(){return this.ypt}},{key:"Xpt",get:function(){var t=this.Wpt,n=this.ppt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.Ipt.qpt);return _.max(t,i)}}}]),n}(fQ);function _Q(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Ce(o,s))}return e}var gQ=function(){function t(t,n){this.Fpt=void 0,this.Gpt=void 0,this.bu=void 0,this.Qpt=void 0,this.Ypt=void 0,this.Fpt=t,this.Gpt=n,this.bu=n.bm,this.Qpt=n.tkt,this.Ypt=n.ckt}var n=t.prototype;return n.jpt=function(t){var n=t-this.Fpt.RR;if(!(n<0||n>=this.Fpt.d_)){var i=this.Zpt();return void 0!==i&&Lt(i,n,1e-5)?this.Uyt():this.Jpt(n)}},n.$pt=function(t){var n=t-this.Fpt.RR;if(!(n<0))return this.Kpt(_.min(n,this.Fpt.d_))},n.Uyt=function(){return this.tbt(0)},n.Vyt=function(){var t=this.Fpt.d_;if(isFinite(t))return this.Kpt(t)},n.Npt=function(t){if(this.Fpt.nbt.nr===iG.RA){var n=this.ibt(t);if(!n)return;return{ebt:t,rbt:this.sbt(t),ubt:n}}var i=this.Uyt();if(i)return{ebt:t,rbt:i,ubt:this.Vyt()}},n.Dpt=function(t,n){if(n){var i=this.obt(n.rbt),e=this.qdt(n.ubt);if(e){var r=this.hbt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Uyt();if(s){var u=this.hbt(s);if(t.getTime()<u.getTime())return u}var o=this.Fpt.nbt.ipt;return t.getTime()<o.getTime()?o:void 0},n.ibt=function(t){var n=(t.getTime()-this.Fpt.nbt.ipt.getTime())/1e3-this.Fpt.RR+this.Qpt,i=this.Kpt(Bt(n,0,this.Fpt.d_));if(i&&(i=this.abt(i,t))){for(var e=this.qdt(i);e&&this.cbt(e,t);)i=e,e=this.qdt(i);return i}},n.sbt=function(t){var n,i=this.Gpt.vkt;if(i){var e=(t.getTime()-this.Fpt.nbt.ipt.getTime())/1e3-this.Fpt.RR-i.Ryt();(n=this.Kpt(Bt(e,0,this.Fpt.d_)))||(n=this.Uyt())}else n=this.Uyt();if(n&&(n=this.abt(n,t))){for(var r=this.fbt(n);r&&this.cbt(r,t);)n=r,r=this.fbt(n);return n}},n.abt=function(t,n){for(var i=t;i&&this.hbt(i).getTime()>n.getTime();)i=this.fbt(i);if(i){var e=this.obt(i);if(e&&e.getTime()<=n.getTime()){var r=this.fbt(i);for(r&&this.cbt(r,n)&&(i=r);i;){if(this.hbt(i).getTime()>n.getTime())return;if(this.cbt(i,n))break;i=this.qdt(i)}if(!i)return}return i}},n.cbt=function(t,n){if(this.hbt(t).getTime()>n.getTime())return!1;var i=this.obt(t);return!(i&&n.getTime()>=i.getTime())},n.vbt=function(t,n){if(this.dbt(t).getTime()>n.getTime())return!1;var i=this.obt(t);return!(i&&n.getTime()>=i.getTime())},n.lbt=function(t,n,i){var e=qt(n,this.bu)+this.Fpt.RR;return{E6:t,_bt:n,tw:e,d_:i,nw:e+i}},n.dbt=function(t){return this.Fpt.nbt.nr===iG.RA?new Date(this.Fpt.nbt.ipt.getTime()+1e3*(t.tw+t.d_)):this.Fpt.nbt.ipt},n.hbt=function(t){var n=this.dbt(t);return this.Fpt.nbt.nr===iG.RA?new Date(n.getTime()-1e3*this.Qpt):n},n.obt=function(t){var n=1/0;if(this.Fpt.nbt.nr===iG.RA){var i=this.Gpt.vkt;i&&(n=this.dbt(t).getTime()+1e3*t.d_+i.Yyt())}var e=this.Fpt.nbt.npt;return e&&(n=_.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.gbt=function(t,n){return t.E6+n},n.Fyt=function(t){return!1},n.Hyt=function(t,n,i,e,r){var s=this.wbt(t);if(!s)return ze.reject(new v("Invalid segment"));var u=this.mbt(s.E6);return u?ze.resolve(u):this.ybt(s.E6,n,i,e,r)},n.mbt=function(t){},n.ybt=function(t,n,i,e,r){return ze.reject(new v("Not supported"))},n.fbt=function(t){var n=this.wbt(t);if(n)return this.tbt(n.E6-1)},n.qdt=function(t){var n=this.wbt(t);if(n)return this.tbt(n.E6+1)},n.wbt=function(t){var n=this.tbt(t.E6);if(n&&n.tw===t.tw)return n;var i=this.jpt(t.tw);return i&&i.tw===t.tw?i:void 0},n.kbt=function(t){var n=this.pbt(t);if(n&&this.Fyt(n.E6)){var i=this.mbt(n.E6);if(i)return i.kbt(t)}},n.pbt=function(t){return this.tbt(t.bbt)},n.Cpt=function(t){var n=this.wbt(t);return!!n&&0===n.E6},n.xpt=function(t){var n=this.kbt(t);return!!n&&0===n.bpt},n.d5=function(t){var n=this.wbt(t);if(!n)return!1;var i=this.Vyt();return!!i&&n.E6===i.E6},n.Opt=function(t){var n=this.kbt(t);if(!n)return!1;var i=this.Vyt();if(!i||n.bbt!==i.E6)return!1;var e=this.mbt(n.bbt);return n.bpt+1===e.sl},A(t,[{key:"Km",get:function(){return this.Fpt.RR-qt(this.Ypt,this.bu)}},{key:"ckt",get:function(){return qt(this.Ypt,this.bu)}}]),t}(),wQ=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Abt=void 0,e.Tbt=void 0;var r=n.Sbt,s=n.d_;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Tbt=r,e.Abt=s,e}S(n,t);var i=n.prototype;return i.tbt=function(t){if(!(t<0)){var n=this.Tbt.multiply(t),i=qt(n,this.bu),e=this.Fpt.d_;if(!(i>=e)){var r=this.Ebt();if(void 0!==r){if(t>r)return;if(t===r)return this.lbt(t,n,e-i)}return isFinite(e)&&i+this.Abt>e?this.lbt(t,n,e-i):this.lbt(t,n,this.Abt)}}},i.Zpt=function(){return 0},i.Jpt=function(t){var n=_.floor(t/this.Abt),i=this.Ebt();return void 0!==i&&n>=i?this.tbt(i):this.tbt(n)},i.Kpt=function(t){if(t>=this.Fpt.d_){var n=_.ceil(this.Fpt.d_/this.Abt)-1,i=this.Ebt();return void 0!==i&&n>=i?this.tbt(i):this.tbt(n)}return this.Jpt(t)},i.Ebt=function(){var t,n=this.Gpt._kt;if(void 0!==n)return n-(null!=(t=this.Gpt.lkt)?t:1);if(isFinite(this.Fpt.d_)){var i=this.Gpt.Rbt;if(void 0!==i&&i>0)return i-1}},i.Ibt=function(){if(isFinite(this.Fpt.d_))return this.Vyt()},i.Nbt=function(t,n){return this.Tbt.multiply(t.E6+(n-1))},i.Zo=function(){},n}(gQ);function mQ(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].tw,u=t[r].nw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.tw,c=o+1<i?t[o+1].tw:h.nw;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var yQ=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Dbt=[],e.Cbt=void 0,e.xbt=ct.ZERO,e.Zo(),e}S(n,t);var i=n.prototype;return i.tbt=function(t){if(!(t<0))return t<this.Dbt.length?this.Dbt[t].Fdt:this.Obt(t-this.Dbt.length)},i.Zpt=function(){if(this.Dbt.length>0)return qt(this.Dbt[0].tw,this.bu)},i.Jpt=function(t){if(this.Cbt&&qt(this.Cbt.tw,this.bu)<=t){var n=qt(this.Cbt.tw,this.bu),i=qt(this.Cbt.d_,this.bu),e=_.floor((t-n)/i);return this.Obt(e)}if(this.Dbt.length>0&&Lt(t,qt(this.Dbt[0].tw,this.bu),1e-5))return this.Dbt[0].Fdt;var r=mQ(this.Dbt,ct.fromNumber(t*this.bu));return r<0?void 0:this.Dbt[r].Fdt},i.Kpt=function(t){if(!this.Cbt&&this.Dbt.length>0){var n=this.Dbt[this.Dbt.length-1];if(i=t,e=qt(n.nw,this.bu),Rs(i,e,1e-5)>=0)return n.Fdt}var i,e,r=this.Zpt();return r&&t<r?this.Dbt[0].Fdt:this.Jpt(t)},i.Ibt=function(){return isFinite(this.Fpt.d_)?this.Vyt():this.tbt(this.Dbt.length-1)},i.Nbt=function(t){return this.Pbt(t)},i.Obt=function(t){if(this.Cbt){var n=this.Cbt.tw,i=this.Cbt.d_,e=n.add(i.multiply(t)),r=qt(e,this.bu),s=this.Fpt.d_;if(!(r>=s)){var u=this.Dbt.length+t,o=_.min(qt(i,this.bu),r+s);return this.lbt(u,e,o)}}},i.Pbt=function(t){return t._bt.add(this.Ypt)},i.Zo=function(){var t=this.Gpt.ai.Myt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Bbt(t)},i.Bbt=function(t){var n=this.Ypt;this.Lbt(t,n);var i=this.Mbt(t);this.Ubt(t,n,i.Fbt,i.bbt)},i.Lbt=function(t,n){var i=this.Dbt;if(0===t.length)Ps(i);else{for(var e=t[0],r=e.tw?ct.fromString(e.tw,!1).subtract(n):ct.ZERO,s=0;s<i.length&&i[s].tw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Mbt=function(t){for(var n=this.Dbt,i=this.xbt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].ikt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].tw.greaterThanOrEqual(i))break;if(n[r].Fdt.E6===r)r=u+1;else for(;r<=u;)n[r].Fdt.E6=r,r++;0,e++}return{Fbt:e,bbt:r}},i.Ubt=function(t,n,i,e){for(var r,s=this.Dbt,u=i,o=e;u<t.length;){var h=t[u],a=ct.fromString(h.d_,!1),c=h.ikt||0,f=void 0;if(h.tw){if(f=ct.fromString(h.tw,!1).subtract(n),o>0){var v=s[o-1];v.nw.greaterThan(f)&&(v.d_=f.subtract(v.tw),v.nw=v.tw.add(v.d_))}}else f=o>0?s[o-1].nw:ct.ZERO;if(c<0){if(u+1===t.length){r={tw:f,d_:a};break}for(var d=ct.fromString(t[u+1].tw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Hbt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Hbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.xbt=s[s.length-1].tw),this.Cbt=r},i.Hbt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.d_.equals(e)?s.Fdt.E6=n:t[n]={tw:i,d_:e,nw:r,Fdt:this.lbt(n,i,qt(e,this.bu))}}else t.push({tw:i,d_:e,nw:r,Fdt:this.lbt(n,i,qt(e,this.bu))})},n}(gQ),kQ=function(){function t(t,n,i){this.qyt=void 0,this.zbt=void 0,this.di=void 0,this.Vbt=void 0,this.Wbt=void 0,this.qyt=t,this.zbt=n,this.di=i}var n=t.prototype;return n.Xbt=function(){if(this.Wbt=this.qbt(),this.Wbt)return this.Wbt;if(this.zbt)return this.zbt.Myt;throw new v("Missing media segment information.")},n.Lpt=function(t){var n=this.akt;if(n)return{Mf:(void 0!==n.nkt?i.Ce(n.nkt,t.Ikt[0]):t.Ikt[0]).href,oj:n.oj};var e=this.ekt;return e?{Mf:t.Ikt[0].href,oj:[0,e[0]-1]}:void 0},n.Zo=function(t){this.di=t,this.Wbt&&this.Wbt.Zo()},A(t,[{key:"ai",get:function(){return this.di}},{key:"tkt",get:function(){return this.di&&void 0!==this.di.tkt?this.di.tkt:this.zbt?this.zbt.tkt:0}},{key:"ckt",get:function(){return this.di&&void 0!==this.di.ckt?this.di.ckt:this.zbt?this.zbt.ckt:ct.ZERO}},{key:"vkt",get:function(){return this.di&&void 0!==this.di.vkt?this.di.vkt:this.zbt?this.zbt.vkt:this.qyt.nbt.vkt}},{key:"bm",get:function(){return this.di&&void 0!==this.di.bm?this.di.bm:this.zbt&&this.zbt.bm?this.zbt.bm:1}},{key:"ekt",get:function(){return this.di&&void 0!==this.di.ekt?this.di.ekt:this.zbt?this.zbt.ekt:void 0}},{key:"akt",get:function(){return this.di&&void 0!==this.di.akt?this.di.akt:this.zbt?this.zbt.akt:void 0}},{key:"Myt",get:function(){return this.Vbt||(this.Vbt=this.Xbt()),this.Vbt}}]),t}(),pQ=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.qbt=function(){return this.di.Myt?new yQ(this,this.qyt):void 0!==this.di.d_?new wQ(this,this.qyt):void 0},A(n,[{key:"d_",get:function(){return void 0!==this.di.d_?this.di.d_/this.bm:this.zbt&&this.zbt instanceof n?this.zbt.d_:void 0}},{key:"Sbt",get:function(){return void 0!==this.di.d_?ct.fromNumber(this.di.d_):this.zbt&&this.zbt instanceof n?this.zbt.Sbt:void 0}},{key:"lkt",get:function(){return void 0!==this.di.lkt?this.di.lkt:this.zbt&&this.zbt instanceof n?this.zbt.lkt:void 0}},{key:"_kt",get:function(){return void 0!==this.di._kt?this.di._kt:this.zbt&&this.zbt instanceof n?this.zbt._kt:void 0}}]),n}(kQ),bQ=function(){function t(t){this.Gbt=void 0,this.Gbt=t}return t.prototype.Is=function(t){return this.Gbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=fs(u,Number(e),"0")})},t}();var AQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Qbt=void 0,r.Ybt=void 0,r.Qbt=e.mkt?new bQ(e.mkt):void 0,r.Ybt=e.ykt?new bQ(e.ykt):void 0,r}S(n,t);var e=n.prototype;return e.Lpt=function(n){var e=this.mkt;if(!e)return t.prototype.Lpt.call(this,n);var r=e.Is({Bandwidth:n.ai.xS,RepresentationID:n.ai._l});return{Mf:i.xe(r,n.Ikt[0])}},e.Xyt=function(t,n){var e,r=null!=(e=n.Mpt.lkt)?e:1,s=this.ykt.Is({Bandwidth:n.ai.xS,Number:n.Myt.gbt(t,r),RepresentationID:n.ai._l,Time:n.Myt.Nbt(t,r)});return{Mf:i.xe(s,n.Ikt[0])}},e.Rpt=function(t,n){},A(n,[{key:"mkt",get:function(){return this.Qbt?this.Qbt:this.zbt&&this.zbt instanceof n?this.zbt.mkt:void 0}},{key:"ykt",get:function(){return this.Ybt?this.Ybt:this.zbt&&this.zbt instanceof n?this.zbt.ykt:void 0}},{key:"Rbt",get:function(){}}]),n}(pQ),TQ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.Xyt=function(t,n){var e=this.di.skt[t.E6],r=n.Ikt[0];return{Mf:(e.tp?i.Ce(e.tp,r):r).href,oj:e.rkt}},e.Rpt=function(t,n){},A(n,[{key:"Rbt",get:function(){return void 0!==this.di.skt?this.di.skt.length:this.zbt&&this.zbt instanceof pQ?this.zbt.Rbt:void 0}}]),n}(pQ),SQ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).bbt=void 0,u.jbt=void 0,u.bm=void 0,u.Zbt=void 0,u.ckt=void 0,u.Jbt=void 0,u.bbt=n,u.jbt=i,u.bm=e.bm,u.Zbt=r,u.ckt=s,u.Jbt=u.$bt(e),u}S(n,t);var i=n.prototype;return i.zyt=function(t){if(t>=0&&t<this.sl)return this.Kbt(this.Jbt[t])},i.tAt=function(t){var n=this.nAt(t);if(this.Jbt.length>0){var i=this.Jbt[0];if(n<=qt(i.tw,this.bm))return this.Kbt(i)}var e=mQ(this.Jbt,ct.fromNumber(n*this.bm));if(!(e<0))return this.Kbt(this.Jbt[e])},i.iAt=function(t){var n=this.nAt(t);if(this.Jbt.length>0){var i=this.Jbt[this.Jbt.length-1];if(n>=qt(i.nw,this.bm))return this.Kbt(i)}return this.tAt(t)},i.Kbt=function(t){var n=qt(t.tw,this.bm)-this.ckt,i=n+this.Zbt,e=qt(t.d_,this.bm);return{bbt:this.bbt,bpt:t.E6,tw:i,_bt:ct.fromNumber(n*this.bm),d_:e,nw:i+e,eAt:[this.jbt+t.jbt,this.jbt+t.rAt]}},i.$bt=function(t){for(var n=[],i=t.Gb,e=t.Qb.toNumber(),r=0,s=0,u=t.jb;s<u.length;s++){var o=u[s],h=o.zb,a=ct.fromNumber(o.d_),c=i.add(a);0===o.Hb&&n.push({E6:r++,tw:i,d_:a,nw:c,jbt:e,rAt:e+h-1}),e+=h,i=c}return n},i.nAt=function(t){return t-this.Zbt+this.ckt},A(n,[{key:"sl",get:function(){return this.Jbt.length}}]),n}(function(){function t(){}return t.prototype.kbt=function(t){var n=this.zyt(t.bpt);if(n&&n.tw===t.tw)return n;var i=this.tAt(t.tw);return i&&i.tw===t.tw?i:void 0},t}()),EQ=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).sAt=void 0,e.pdt=void 0,e.uAt=void 0,e.sAt=n.ekt,e.pdt=e.lbt(0,ct.ZERO,e.Fpt.d_),e}S(n,t);var i=n.prototype;return i.tbt=function(t){if(0===t)return this.pdt},i.Zpt=function(){return 0},i.Jpt=function(t){return this.pdt},i.Kpt=function(t){return this.Jpt(t)},i.Ibt=function(){return this.pdt},i.Nbt=function(t,n){return ct.ZERO},i.Npt=function(t){var n=this.oAt(t);return n&&{ebt:t,rbt:n,ubt:n}},i.oAt=function(t){var n=this.pdt;return this.cbt(n,t)?n:void 0},i.ibt=function(t){return this.oAt(t)},i.sbt=function(t){return this.oAt(t)},i.Zo=function(){},i.Fyt=function(t){return 0===t&&void 0!==this.sAt},i.mbt=function(t){return this.uAt},i.ybt=function(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.Ikt[0].href,u=this.sAt,h.next=4,Er.awrap(e.hAt(s,u,i,r));case 4:return o=h.sent,this.uAt=this.aAt(t,o),h.abrupt("return",this.uAt);case 7:case"end":return h.stop()}},null,this,null,ze)},i.aAt=function(t,n){var i=this.sAt,e=pp.kk(new DataView(n),new So);if(e.nr!==Ck.qy)throw new v("Invalid segment index");var r=Ep.Hk(e.ai),s=i[1]+1;return new SQ(t,s,r,this.Fpt.RR,qt(this.Ypt,this.bu))},n}(gQ),RQ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Xyt=function(t,n){return{Mf:n.Ikt[0].href}},i.Rpt=function(t,n){return{Mf:n.Ikt[0].href,oj:t.eAt}},i.qbt=function(){return new EQ(this,this.qyt)},A(n,[{key:"lkt",get:function(){}}]),n}(kQ),IQ=function(t){function n(){return t.call(this,sQ.lpt)||this}return S(n,t),n}(ru);var NQ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.di=void 0,r.cAt=void 0,r.Gpt=void 0,r.fAt=1/0,r.vAt=void 0,r.rd=i,r.dAt(n,e),r}S(n,t);var i=n.prototype;return i.lAt=function(){return this.Gpt||this.rd&&this.rd.lAt()},i._At=function(t){var n=this.qyt,i=this.rd&&this.rd.lAt();this.di.Pkt?this.Gpt=new AQ(n,i,this.di.Pkt):this.di.Okt?this.Gpt=new TQ(n,i,this.di.Okt[0]):this.di.xkt?this.Gpt=new RQ(n,i,this.di.xkt):t&&!i&&(this.Gpt=new RQ(n,i,void 0))},i.dAt=function(t,n){this.di=t,this.cAt=t.Ikt&&t.Ikt.length>0?_Q(t.Ikt.map(function(t){return t.Mf}),n):n.slice(),this.Gpt&&(t.Pkt?this.Gpt.Zo(t.Pkt):t.Okt?this.Gpt.Zo(t.Okt[0]):t.xkt&&this.Gpt.Zo(t.xkt))},i.kpt=function(){var t;return null==(t=this.vAt)?void 0:t.gAt},i.Dpt=function(){var t;return null==(t=this.vAt)?void 0:t.wAt},i.mAt=function(t){var n=this.fAt,i=this.qyt.d_,e=this.vAt,r=this.yAt(t);e&&Lt(i,n,1e-5)&&OQ(e,r)||(this.fAt=i,this.vAt=r,this.Fr(new IQ))},i.Sr=function(){this.Wr()},A(n,[{key:"ai",get:function(){return this.di}},{key:"Ikt",get:function(){return this.cAt}}]),n}(iu);function DQ(t){for(var n,i=0;i<t.length;i++){var e=t[i].kpt();if(e){n=e.RR;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].kpt();if(u){r=u.NR;break}}if(void 0!==r)return{RR:n,NR:r}}}function CQ(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].kpt();if(!r)return;if((n=_.max(n,r.RR))>=(i=_.min(i,r.NR)))return}return{RR:n,NR:i}}}function xQ(t){for(var n,i=0;i<t.length;i++){var e=t[i].Dpt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function OQ(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.wAt,n.wAt)&&function(t,n){return t&&n?Lt(t.RR,n.RR,1e-5)&&Lt(t.NR,n.NR,1e-5):t===n}(t.gAt,n.gAt)}var PQ=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Fpt=void 0,r.Bo=void 0,r.kAt=void 0,r.Fpt=n,r.Bo=i,r.kAt=e.slice();for(var s=0;s<e.length;s++){e[s].Hr(sQ.lpt,r.mpt)}return r}S(n,t);var i=n.prototype;return i.kpt=function(){return CQ(this.kAt)},i.Dpt=function(){for(var t,n=0,i=this.kAt;n<i.length;n++){var e=i[n].Dpt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.hv=function(){this.Wr();for(var t=0,n=this.kAt;t<n.length;t++){n[t].Xr(sQ.lpt,this.mpt)}},A(n,[{key:"Oyt",get:function(){return this.kAt}},{key:"zZ",get:function(){return this.Oyt.reduce(function(t,n){for(var i=0,e=n.zZ;i<e.length;i++){var r=e[i];Os(t,r)||t.push(r)}return t},[])}},{key:"ae",get:function(){return this.zZ.length>0?this.zZ[0]:""}},{key:"nr",get:function(){return this.kAt[0].nr}},{key:"_l",get:function(){return this.Bo}},{key:"Ipt",get:function(){return this.Fpt.Ipt}},{key:"GD",get:function(){return this.kAt[0].GD}},{key:"qyt",get:function(){return this.Fpt}},{key:"Syt",get:function(){return Bs(this.Oyt,function(t){return t.Syt})}}]),n}(fQ),BQ=function(t){function n(){return t.call(this,sQ.gpt)||this}return S(n,t),n}(ru);function LQ(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Lkt;void 0===s||(r=Ns(n,function(t){return t._l===s})),r||(r={_l:s,Oyt:[]},n.push(r)),r.Oyt.push(e)},e=0;e<t.length;e++)i(e);return n}var MQ,UQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Tpt=void 0,e.kAt=[],e.pAt=[],e.bAt=void 0,e.AAt=!1,e.bAt=n,e.Tpt=i,e.Tpt.Hr(sQ.lpt,e.mpt),e}S(n,t);var i=n.prototype;return i.TAt=function(t,n){if(0!==this.pAt.length){for(var i=t,e=0,r=this.pAt;e<r.length;e++){var s=r[e],u=s.nr;if(u===my.Jf||u===my.$f){var o=s.ppt;if(void 0===o)return;i=n(i,o)}}return i}},i.SAt=function(){this.AAt||(this.AAt=!0,this.Fr(new BQ),this.hv())},i.Zo=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.kAt.length){i.next=7;break}return i.next=3,Er.awrap(this.EAt(this.Tpt.Oyt,t,n));case 3:this.RAt(this.kAt),Vs(n),i.next=9;break;case 7:return i.next=9,Er.awrap(this.IAt(t,n));case 9:case"end":return i.stop()}},null,this,null,ze)},i.EAt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new lQ(this,r),u.prev=4,u.next=7,Er.awrap(s.Zo(n,i));case 7:this.kAt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),Ws(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],ze)},i.RAt=function(t){for(var n=LQ(t),i=0;i<n.length;i++){var e=n[i],r=new PQ(this,e._l,e.Oyt);this.pAt.push(r)}},i.IAt=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.kAt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Er.awrap(r.Zo(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,ze)},i.kpt=function(){return this.Tpt.kpt()},i.Dpt=function(){return this.Tpt.Dpt()},i.hv=function(){this.Wr(),this.Tpt.Xr(sQ.lpt,this.mpt);for(var t=0,n=this.pAt;t<n.length;t++){n[t].hv()}for(var i=0,e=this.kAt;i<e.length;i++){e[i].hv()}Ps(this.kAt),Ps(this.pAt)},A(n,[{key:"Oyt",get:function(){return this.kAt}},{key:"Cyt",get:function(){return this.pAt}},{key:"$kt",get:function(){return this.Tpt.ai.$kt}},{key:"d_",get:function(){return this.Tpt.d_}},{key:"NR",get:function(){return this.RR+this.d_}},{key:"Kkt",get:function(){return this.Tpt.ai.Kkt||[]}},{key:"_l",get:function(){return this.Tpt._l}},{key:"wpt",get:function(){return this.AAt}},{key:"Ipt",get:function(){return this.bAt}},{key:"NAt",get:function(){return this.bAt.DAt(this)}},{key:"qyt",get:function(){return this}},{key:"CAt",get:function(){return this.bAt.xAt(this)}},{key:"OAt",get:function(){return this.TAt(1/0,_.min)}},{key:"PAt",get:function(){return this.TAt(0,_.max)}},{key:"RR",get:function(){return this.Tpt.RR}},{key:"sv",get:function(){return this.Ipt.sv}}]),n}(fQ),FQ=function(t){function n(){return t.call(this,Xc.ma)||this}return S(n,t),n}(ru);!function(t){t.BAt="LAt"}(MQ||(MQ={}));var HQ=function(t){function n(){return t.call(this,MQ.BAt)||this}return S(n,t),n}(ru),zQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Ikt)||this).Apt=void 0,e.MAt=void 0,e.Apt=i,e._At(!0),e}S(n,t);var i=n.prototype;return i.Fyt=function(t){return!!nc(this.GD)&&this.Myt.Fyt(t.E6)},i.Hyt=function(t,n,i,e){return this.Myt.Hyt(t,this,n,i,e)},i.Lpt=function(){return this.Mpt.Lpt(this)},i.Xyt=function(t){return this.Mpt.Xyt(t,this)},i.Rpt=function(t){return this.Mpt.Rpt(t,this)},i.Npt=function(){return this.MAt},i.yAt=function(t){var n=this.Myt,i=n.Npt(t),e=i&&function(t,n){var i,e=t.rbt,r=t.ubt,s=t.ebt,u=e.tw,o=n.dbt(r);if(o.getTime()<=s.getTime())i=r.nw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(r.d_-h,0);i=r.tw+a}return{RR:u,NR:i}}(i,n),r=this.Myt.Dpt(t,i);return this.MAt=i,{ebt:t,gAt:e,wAt:r}},i.Zo=function(t){this.dAt(t,this.Apt.Ikt)},A(n,[{key:"Ppt",get:function(){return this.Apt}},{key:"qyt",get:function(){return this.Apt.qyt}},{key:"nbt",get:function(){return this.Apt.nbt}},{key:"GD",get:function(){return this.di.GD||this.Apt.GD}},{key:"Mpt",get:function(){return this.lAt()}},{key:"Myt",get:function(){return this.Mpt.Myt}}]),n}(NQ),VQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Ikt)||this).Fpt=void 0,e.Hpt=void 0,e.Fpt=i,e._At(!1),e.Hpt=n.Syt.map(function(t){return new zQ(t,Yt(e))}),e}S(n,t);var i=n.prototype;return i.Zo=function(t){this.dAt(t,this.Fpt.Ikt);var n=t.Syt||[];if(this.Hpt.length!==n.length)throw new v("Expected "+this.Hpt.length+' representations in adaptation set "'+t._l+'", found '+n.length);for(var i=0;i<n.length;i++)this.Hpt[i].Zo(n[i])},i.mAt=function(n){for(var i=0,e=this.Hpt;i<e.length;i++){e[i].mAt(n)}t.prototype.mAt.call(this,n)},i.yAt=function(t){return{ebt:t,gAt:CQ(this.Hpt),wAt:xQ(this.Hpt)}},i.Sr=function(){for(var n=0,i=this.Hpt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Syt",get:function(){return this.Hpt}},{key:"qyt",get:function(){return this.Fpt}},{key:"nbt",get:function(){return this.Fpt.nbt}},{key:"Lkt",get:function(){return this.di.Lkt}},{key:"GD",get:function(){var t;return this.di.GD||(null==(t=this.Hpt[0])?void 0:t.ai.GD)||""}}]),n}(NQ),WQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Ikt)||this).UAt=void 0,s.nA=void 0,s.Au=void 0,s.kAt=void 0,s.pAt=[],s.UAt=n,s.nA=e,s.Au=r,s._At(!1),s.kAt=(i.Oyt||[]).map(function(t){return new VQ(t,Yt(s))}),s.pAt=LQ(s.kAt),s}S(n,t);var i=n.prototype;return i.Zo=function(t,n){this.dAt(t,this.UAt.Ikt),this.Au=n;var i=t.Oyt||[];if(this.kAt.length!==i.length)throw new v("Expected "+this.kAt.length+' adaptation sets in period "'+t._l+'", found '+i.length);for(var e=0;e<i.length;e++)this.kAt[e].Zo(i[e])},i.mAt=function(n){for(var i=0,e=this.kAt;i<e.length;i++){e[i].mAt(n)}t.prototype.mAt.call(this,n)},i.yAt=function(t){return{ebt:t,gAt:CQ(this.kAt),wAt:xQ(this.kAt)}},i.Sr=function(){for(var n=0,i=this.kAt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Oyt",get:function(){return this.kAt}},{key:"Cyt",get:function(){return this.pAt}},{key:"qyt",get:function(){return this}},{key:"nbt",get:function(){return this.UAt}},{key:"_l",get:function(){return this.di._l}},{key:"RR",get:function(){return this.nA}},{key:"d_",get:function(){return this.Au}}]),n}(NQ),XQ=new Date("2000-01-01"),qQ=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).di=void 0,s.FAt=void 0,s.HAt=void 0,s.rz=void 0,s.zAt=void 0,s.vAt=void 0,s.cAt=void 0,s.VAt=void 0,s.WAt=void 0,s.XAt=void 0,s.qAt=[],s.FAt=i,s.Zo(n,e,r),n.nr===iG.RA){var u=s.Ibt();u&&u.npt&&u.npt.getTime()<XQ.getTime()&&(s.XAt=new Date(s.cpt.getTime()-1e3*(u.Fdt.tw+u.Fdt.d_)),s.mAt(r))}return s}S(n,t);var e=n.prototype;return e.kpt=function(){var t;return null==(t=this.vAt)?void 0:t.gAt},e.Dpt=function(){var t;return null==(t=this.vAt)?void 0:t.wAt},e.Zo=function(t,n,e,r){var s;this.di=t,this.HAt=n,this.zAt=null!=r?r:e,this.rz=e;var u,o=[(u=n,i.Ce(".",u))];this.cAt=t.Ikt&&t.Ikt.length>0?_Q(t.Ikt.map(function(t){return t.Mf}),o):o,this.VAt=t.ept&&t.ept.length>0?_Q(t.ept,this.cAt):[];var h=this.VAt.map(function(t){return t.href}),a=n.href;Os(h,a)||(this.VAt.push(n),h.push(a));var c=this.FAt.href;Os(h,c)||(this.VAt.push(this.FAt),h.push(c)),this.WAt=null==(s=t.Iyt)?void 0:s.Ryt();var f=t.nr===iG.RA,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.RR)u=s.RR.Ryt();else if(r>0&&t[r-1].d_){var o=e[r-1],h=t[r-1].d_.Ryt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({ai:t[c],RR:e[c],d_:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.d_?v.d_.Ryt():i-d),a.push({ai:v,RR:d,d_:l})}return a}(t.Eyt,f,this.WAt);this.GAt(v),this.mAt(e)},e.GAt=function(t){var n=this.qAt;if(0!==t.length){for(var i=t[0].ai._l,e=0;e<n.length&&n[e]._l!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Sr()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Zo(o.ai,o.d_)}else n.push(new WQ(this,o.ai,o.RR,o.d_))}}else Ps(n)},e.mAt=function(t){for(var n=0,i=this.qAt;n<i.length;n++){i[n].mAt(t)}var e=this.vAt,r=this.yAt(t);e&&OQ(e,r)||(this.vAt=r,this.Fr(new IQ))},e.yAt=function(t){return{ebt:t,gAt:DQ(this.qAt),wAt:xQ(this.qAt)}},e.Ibt=function(){if(0!==this.qAt.length){var t=this.qAt[this.qAt.length-1];if(!isFinite(t.d_)&&0!==t.Oyt.length){var n=t.Oyt[0];if(0!==n.Syt.length){var i=n.Syt[0].Myt,e=i.Ibt();if(e)return{Fdt:e,npt:i.obt(e)}}}}},e.Sr=function(){this.Wr();for(var t=0,n=this.qAt;t<n.length;t++){n[t].Sr()}},A(n,[{key:"ai",get:function(){return this.di}},{key:"nr",get:function(){return this.di.nr||iG.EA}},{key:"ipt",get:function(){return this.XAt||this.di.ipt||this.cpt}},{key:"npt",get:function(){return this.di.npt}},{key:"Iyt",get:function(){return this.WAt}},{key:"Ikt",get:function(){return this.cAt}},{key:"ept",get:function(){return this.VAt}},{key:"Eyt",get:function(){return this.qAt}},{key:"cpt",get:function(){return this.di.cpt||this.rz}},{key:"vkt",get:function(){return this.di.vkt}},{key:"QAt",get:function(){return this.zAt}},{key:"YAt",get:function(){return this.rz}}]),n}(iu);var GQ=function(){function t(t,n,i){this.jAt=0,this.mA=t,this.ZAt=n,this.JAt=i}var n=t.prototype;return n.dO=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.$At(t,this.mA,this.ZAt,this.JAt).catch(Xs));case 2:case"end":return n.stop()}},null,this,null,ze)},n.KAt=function(){return new Date(zt()+this.jAt)},n.$At=function(t,n,i,e){var r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Er.awrap(this.tTt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}Vs(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Er.awrap(this.nTt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.jAt=void 0===r?0:r-zt();case 18:case"end":return o.stop()}},null,this,null,ze)},n.nTt=function(t,n,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.wyt,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.qn)){o.next=9;break}return o.next=8,Er.awrap(this.tTt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.qn)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,ze)},n.tTt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Er.awrap(t.Bf({Mf:n,tv:g_.GET,xf:qc.On,Pr:i}));case 3:return e=u.sent,u.next=6,Er.awrap(e.lf());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),Ws(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],ze)},t}(),QQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).iTt=void 0,s.Tpt=void 0,s.eTt=void 0,s.Gj=!0,s.qAt=[],s.rTt=void 0,s.sTt=void 0,s.uTt=void 0,s.mA=void 0,s.oTt=void 0,s.rTt=n,s.eTt=n.Ol,s.sTt=i,s.mA=e,s.iTt=r,s.oTt=new GQ(s.mA,s.iTt,s.rTt.hTt),s}S(n,t);var e=n.prototype;return e.cot=function(t){var n=this.Ng;this.Gj=t,n!==this.Ng&&this.Fr(new HQ)},e.Zo=function(t,n,e){var r,s,u,o,h,a,c,f,v,d,l,_,g;return Er.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=[],u=[],o=t.rpt?i.Ce(t.rpt,this.eTt):this.eTt,void 0!==this.Tpt){w.next=10;break}return w.next=6,Er.awrap(this.oTt.dO(t.vpt));case 6:this.Tpt=new qQ(t,this.eTt,o,this.KAt()),this.Tpt.Hr(sQ.lpt,this.Ur),w.next=11;break;case 10:this.Tpt.Zo(t,o,this.KAt(),n);case 11:if(0===(h=this.Tpt.Eyt).length)a=this.qAt.slice(),Ps(this.qAt);else{for(c=h[0]._l,f=0;f<this.qAt.length&&this.qAt[f]._l!==c;)f++;for(a=this.qAt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.qAt.length?l=this.qAt[v]:(l=new UQ(this,d),s.push(l)),u.push(l.Zo(this.sTt,e))}return w.next=15,Er.awrap(ze.all(u));case 15:for((r=this.qAt).push.apply(r,s),_=0,g=a;_<g.length;_++)g[_].SAt();this.Fr(new FQ);case 18:case"end":return w.stop()}},null,this,null,ze)},e.KAt=function(){return this.oTt.KAt()},e.xAt=function(t){var n=this.qAt.indexOf(t);if(n>0)return this.qAt[n-1]},e.DAt=function(t){var n=this.qAt.indexOf(t);if(n>=0&&n+1<this.qAt.length)return this.qAt[n+1]},e.kpt=function(){return this.Tpt?this.Tpt.kpt():void 0},e.Dpt=function(){return this.Tpt&&this.Tpt.Dpt()},e.mAt=function(t){this.Tpt&&this.Tpt.mAt(t)},e.hv=function(){this.Wr(),this.uTt=void 0,this.cot(!1);for(var t=0,n=this.qAt;t<n.length;t++){n[t].hv()}Ps(this.qAt),this.Tpt&&this.Tpt.Sr()},A(n,[{key:"npt",get:function(){return this.Tpt&&this.Tpt.npt}},{key:"ipt",get:function(){return this.Tpt&&this.Tpt.ipt}},{key:"_l",get:function(){return this.Tpt&&this.Tpt.ai._l}},{key:"QAt",get:function(){var t;return null==(t=this.Tpt)?void 0:t.QAt}},{key:"aTt",get:function(){var t;return null==(t=this.Tpt)?void 0:t.YAt}},{key:"ept",get:function(){return this.Tpt?this.Tpt.ept.map(function(t){return t.href}):[this.Dyt]}},{key:"Dyt",get:function(){return this.eTt.href}},{key:"spt",get:function(){return this.Tpt&&this.Tpt.ai.spt}},{key:"upt",get:function(){return this.Tpt&&this.Tpt.ai.upt}},{key:"Iyt",get:function(){return this.Tpt&&this.Tpt.ai.Iyt}},{key:"hpt",get:function(){return this.Tpt&&this.Tpt.ai.hpt}},{key:"apt",get:function(){var t,n,i=(null==(t=this.Tpt)?void 0:null==(n=t.ai.apt)?void 0:n.Yyt())||0;return _.max(i,jQ)}},{key:"Ng",get:function(){return this.Gj}},{key:"Eyt",get:function(){return this.qAt}},{key:"cTt",get:function(){return this.nr===iG.RA?this.qpt:this.fTt}},{key:"vTt",get:function(){var t=this.cTt;if(void 0!==t)for(var n=0,i=this.Eyt;n<i.length;n++){var e=i[n];if(e.RR<=t&&e.NR>t)return e}}},{key:"Akt",get:function(){return this.Tpt&&this.Tpt.ai.Akt}},{key:"cpt",get:function(){return this.Tpt&&this.Tpt.cpt}},{key:"OAt",get:function(){for(var t=this.qAt.length-1;t>=0;t-=1){var n=this.qAt[t].OAt;if(n)return n}}},{key:"qpt",get:function(){var t=this.OAt;if(void 0!==t){var n=t-this.dTt;return _.max(n,this.fTt)}}},{key:"fTt",get:function(){for(var t=0,n=this.qAt;t<n.length;t++){var i=n[t].ypt;if(void 0!==i)return i}}},{key:"sv",get:function(){return Boolean(this.rTt.sv)}},{key:"dTt",get:function(){var t=this.Tpt&&this.Tpt.ai.fpt;return t?t.Ryt():this.nr===iG.RA?this.ytt:0}},{key:"ytt",get:function(){return this.rTt.ytt?this.rTt.ytt:1.5*this.hpt.Ryt()}},{key:"vkt",get:function(){return this.Tpt&&this.Tpt.vkt}},{key:"nr",get:function(){return this.Tpt?this.Tpt.nr:void 0}}]),n}(iu),YQ=function(){function t(t,n,i,e){this.bAt=void 0,this.bAt=new QQ(t,n,i,e)}return A(t,[{key:"Ipt",get:function(){return this.bAt}}]),t}(),jQ=1e3,ZQ=_.pow(2,31)-1,JQ=function(){function t(t,n,i,e){var r=this;this.u9=void 0,this.Tpt=void 0,this.lTt=void 0,this._Tt=void 0,this.gTt=void 0,this.wTt=new Fs,this.mTt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.Tpt.Ipt.KAt(),e.next=4,Er.awrap(r.yTt(r.Tpt.Ipt.ept,t));case 4:return i=e.sent,e.next=7,Er.awrap(r.Tpt.Ipt.Zo(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),tb(e.t0)&&r.Tpt.Ipt.cot(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],ze)},this.u9=e,this.Tpt=new YQ(t,n,i,this.wTt.Pr)}var n=t.prototype;return n.nd=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Tpt.Ipt.Fr(new ZN),n.prev=1,n.next=4,Er.awrap(vV(this.mTt,t));case 4:this.Tpt.Ipt.cot(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),Ws(n.t0),this._Tt=void 0,this.Tpt.Ipt.cot(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.lTt=this.kTt(this.wTt.Pr);case 14:case"end":return n.stop()}},null,this,[[1,7]],ze)},n.kTt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.Tpt.Ipt.nr!==iG.RA){n.next=6;break}return n.next=4,Er.awrap(qs(this.pTt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],ze)},n.bTt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(Vs(t),!((n=this.ATt())>0)){e.next=6;break}return i=_.min(n,ZQ),e.next=6,Er.awrap($s(i,t));case 6:return e.prev=6,e.next=9,Er.awrap(vV(this.mTt,t,1/0,jQ,3e4));case 9:this.Tpt.Ipt.cot(!0);case 10:return e.prev=10,this.gTt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],ze)},n.ATt=function(){var t=this.Tpt.Ipt.KAt().getTime()-this.Tpt.Ipt.QAt.getTime();return this.Tpt.Ipt.apt-t},n.TTt=function(t){var n=this.Tpt.Ipt.Dpt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Tpt.Ipt.mAt(t);var e=this.Tpt.Ipt.Dpt();return e?e.getTime()-t.getTime():NaN},n.STt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.gTt||(this.gTt=this.bTt(t)),(n=new Fs).xr(t),i.prev=3,i.next=6,Er.awrap(ze.race([this.gTt,this.ETt(n.Pr)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),Xs(i.t0);case 11:return i.prev=11,n.Cr(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],ze)},n.ETt=function(t){var n=this.Tpt.Ipt.KAt(),i=this.TTt(n);if(!m(i))return this.RTt(i,t)},n.RTt=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er.awrap($s(t,n));case 2:i=this.Tpt.Ipt.KAt(),this.Tpt.Ipt.mAt(i);case 4:case"end":return e.stop()}},null,this,null,ze)},n.yTt=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.u9.e9(t,{},n,!1));case 2:return i=r.sent,e=new uQ,r.abrupt("return",e.Awt(i.G8,i.Lf));case 5:case"end":return r.stop()}},null,this,null,ze)},n.hv=function(){return this.wTt.Cr(),this.lTt=void 0,this._Tt=void 0,this.gTt=void 0,this.Tpt.Ipt.hv(),ze.resolve()},A(t,[{key:"ITt",get:function(){return this.Tpt}},{key:"$K",get:function(){return this._Tt||(this._Tt=this.nd(this.wTt.Pr),Zs(this._Tt)),this._Tt}},{key:"pTt",get:function(){return this.Tpt.Ipt.aTt&&this.Tpt.Ipt.nr===iG.RA?this.STt(this.wTt.Pr):this.$K}}]),t}(),$Q=function(){function t(t,n,i){this.u9=t,this.NTt=n,this.DTt=i}var n=t.prototype;return n.CTt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!lm(n=t.type)){i.next=9;break}return i.next=6,Er.awrap(this.xTt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!dm(n)){i.next=15;break}return i.next=12,Er.awrap(this.OTt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,ze)},n.xTt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(rG(t.src,this.u9));case 3:return n=i.sent,i.next=6,Er.awrap(sG(n,this.u9));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],ze)},n.OTt=function(t){var n;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new JQ({Ol:i.Ce(t.src),ytt:t.liveOffset,hTt:t.timeServer,sv:t.useCredentials},this.DTt,A_.lv,this.u9),e.next=4,Er.awrap(n.$K);case 4:return e.next=6,Er.awrap(Vq(n.ITt.Ipt,t.contentProtection,this.NTt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],ze)},t}();var KQ=function(){function t(t){this.PTt=void 0,this.BTt=[],this.LTt=0,this.PTt=t}var n=t.prototype;return n.MTt=function(){var t=new Ro;return this.BTt.push(t),this.UTt(),t.Ss},n.FTt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t);case 2:this.LTt-=1,this.UTt(),0===this.BTt.length&&0===this.LTt&&n.Is(!0);case 5:case"end":return i.stop()}},null,this,null,ze)},n.UTt=function(){this.BTt.length>0&&this.LTt<this.PTt&&(this.BTt.shift().Is(),this.LTt+=1)},t}();function tY(t,n){for(var i=0,e=0,r=t.jb._K.map(function(t){return t.d_});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var nY=function(t){function n(n,e,r,s,u,o,h,a){var c,f,v,d,l;void 0===a&&(v=L.sn||L.in,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,a=function(t){var n,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.mf,MediaSource.isTypeSupported(e)||sb(t.GD,t.zZ)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.ae)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.Tyt){u.next=13;break}return r=t.Tyt,s=Bs(r,function(t){return rs(t.wyt)}).filter(F),u.next=10,Er.awrap(Ls(s,function(t){return i.Ne(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,ze)}),(c=t.call(this)||this).h9=void 0,c.HTt=void 0,c.zTt=new Ro,c.VTt=void 0,c.nJ=void 0,c.WTt=Nq.dyt(),c.cyt=void 0,c.XTt=void 0,c.H_=void 0,c.qTt=void 0,c.bK=void 0,c.u9=void 0,c.GTt=void 0,c.NTt=void 0,c.DTt=void 0,c.Jmt=void 0,c.h9=n,c.bK=e,c.u9=r,c.qTt=s,c.GTt=u,c.NTt=o,c.DTt=a,c.Jmt=h,c.XTt=-1;var _=c.h9.hR.sources[0];return c.VTt=_,c.H_=c.ug(),c.HTt=new KQ(c.h9.lh.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.ug=function(){var t,n,i,e,r,s,u,o,h,a,c,f,v,d,l,g,w,m,y,k,p,b,A,T,S,E,R,I=this;return Er.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new $Q(this.u9,this.NTt,this.DTt),N.next=3,Er.awrap(t.CTt(this.VTt));case 3:return this.nJ=N.sent,n=this.h9.lh.amount,i=this.nJ.d_,e=xq(n,i),this.cyt=e,s=pB(this.nJ.Nyt[0]),N.next=11,Er.awrap(this.bK.lK.fK(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Os(t.references,I.h9._l)}),o=[],h=this.h9.lh.bandwidth,a=0,c=this.nJ.Eyt;a<c.length;a++)for(f=c[a],v=0,d=f.xyt;v<d.length;v++)for(l=d[v],g=0,w=eY(l.qk);g<w.length;g++)for(m=w[g],y=0,k=rY(m.kl,h);y<k.length;y++)p=k[y],o.push(p);if(this.XTt=_.ceil(o.map(function(t){return t.xS*tY(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Nr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new US(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.jR(e).YR(5e-4);else{var r,s=Ns(o,function(t){return t._l===i}),h=_.min(I.cyt,null!=(r=null==s?void 0:s.jb.d_)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:h})}},S=0;S<u.length;S++)T(S);r=new Nq(A,b,this.cyt)}else{for(E=0;E<o.length;E++)R=o[E],b.set(R._l,{timeRanges:US.dI(),totalQualityDurationToCache:_.min(R.jb.d_,this.cyt)});r=new Nq(0,b,this.cyt)}this.QTt=r;case 19:case"end":return N.stop()}},null,this,null,ze)},e.YTt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.H_);case 2:return n.next=4,Er.awrap(this.jTt(this.nJ,t));case 4:return n.next=6,Er.awrap(this.zTt.Ss);case 6:case"end":return n.stop()}},null,this,null,ze)},e.jTt=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Nyt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Er.awrap(this.ZTt());case 4:for(i=[],e=0,r=t.Eyt;e<r.length;e++)s=r[e],i.push(this.JTt(s,t.Nyt[0],n));return u.abrupt("return",ze.all(i));case 7:case"end":return u.stop()}},null,this,null,ze)},e.ZTt=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.qTt.aK());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Er.awrap(this.bK.gK.cs(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Er.awrap(iY(e,this.h9._l,this.bK.gK,this.Jmt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Er.awrap(this.bK.gK.uK(i,this.Jmt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new Pq("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Er.awrap(this.qTt.dK());case 27:case"end":return r.stop()}},null,this,[[14,19]],ze)},e.JTt=function(t,n,i){var e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.xyt;r<s.length;r++)for(u=s[r],o=eY(u.qk),h=0;h<o.length;h++)a=o[h],e.push(this.$Tt(a,n,i));return c.abrupt("return",ze.all(e));case 3:case"end":return c.stop()}},null,this,null,ze)},e.$Tt=function(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=this.h9.lh.bandwidth,r=rY(t.kl,e),t.nr!==my.$f||!t.Lyt||!t.Lyt.XA.widevine||"persistent"!==t.Lyt.XA.widevine.licenseType){h.next=6;break}return h.next=5,Er.awrap(this.KTt(t.Lyt));case 5:Vs(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.tSt(o,n,i));return h.abrupt("return",ze.all(s));case 9:case"end":return h.stop()}},null,this,null,ze)},e.tSt=function(t,n,i){var e,r,s,u,o,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Vs(i),!t.C8){a.next=7;break}return e={tw:0,d_:0,Wyt:t.C8},a.next=5,Er.awrap(this.HTt.MTt());case 5:Vs(i),Zs(this.HTt.FTt(this.nSt(e,t,n),this.zTt));case 7:r=t.jb._K[0].tw,s=r+this.cyt,u=0,o=t.jb._K;case 10:if(!(u<o.length)){a.next=22;break}if(!((h=o[u]).tw>=s)){a.next=14;break}return a.abrupt("break",22);case 14:return a.next=16,Er.awrap(this.iSt(i));case 16:return a.next=18,Er.awrap(this.HTt.MTt());case 18:Zs(this.HTt.FTt(this.nSt(h,t,n),this.zTt));case 19:u++,a.next=10;break;case 22:case"end":return a.stop()}},null,this,null,ze)},e.iSt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.yr){n.next=4;break}return n.next=3,Er.awrap(this.zTt.Ss);case 3:throw new Hs;case 4:case"end":return n.stop()}},null,this,null,ze)},e.eSt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.H_);case 2:return t.abrupt("return",this.nJ);case 3:case"end":return t.stop()}},null,this,null,ze)},e.KTt=function(t){return ze.resolve()},e.rSt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ut("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,ze)},e.nSt=function(t,n,i){var e,r,s,u,o,h,a,c=this;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.bK.lK,r=bB(t.Wyt.Mf,t.Wyt.oj),f.next=4,Er.awrap(e.cs(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Er.awrap(iY(s,this.h9._l,e,this.Jmt));case 8:this.sSt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Er.awrap(this.uSt(t.Wyt));case 14:return u=f.sent,o=this.oSt(t,n,i,u),h=o.segmentMetadataEntry,a=o.segmentEntry,f.next=18,Er.awrap(this.bK.yK(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.lK.uK(h,c.Jmt));case 2:return n.next=4,Er.awrap(t._K.uK(a,c.Jmt));case 4:case"end":return n.stop()}},null,null,null,ze)}));case 18:this.sSt(h,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new Pq("Unable to store segment with url: "+t.Wyt.Mf,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],ze)},e.uSt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.GTt.hSt(t,!1));case 2:return n=i.sent,i.next=5,Er.awrap(this.aSt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,ze)},e.aSt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t.gf());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,ze)},e.oSt=function(t,n,i,e){var r=bB(t.Wyt.Mf,t.Wyt.oj),s=t.tw,u=t.d_,o=this.cSt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:pB(i),qualityId:n._l,byteSize:o,startsAndEnds:new US([s,s+u]).xR,references:[this.h9._l]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:pB(i),data:e}}},e.cSt=function(t){return t.buffer.byteLength},e.sSt=function(t,n){var i=t.qualityId,e=this.WTt,r=e.Bg;r.get(i).timeRanges=r.get(i).timeRanges.jR(new US(t.startsAndEnds)).YR(5e-4),this.QTt=new Nq(n?e.lyt+t.byteSize:e.lyt,r,this.cyt)},A(n,[{key:"fSt",get:function(){return this.XTt}},{key:"QTt",get:function(){return this.WTt},set:function(t){this.WTt.mw(t)||(this.WTt=t,t.mw(Nq.dyt())||this.Fr(new Iq))}}]),n}(iu);function iY(t,n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Os(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Er.awrap(i.uK(t,e));case 4:case"end":return r.stop()}},null,null,null,ze)}function eY(t){return t.length?[t[0]]:[]}function rY(t,n){if(!t.length)return[];var i=[].concat(t).sort(Eq),e=i.filter(function(t){return t.xS<=n});return e.length>0?[e.pop()]:[i.shift()]}var sY=function(){function t(t){this.mA=void 0,this.$B=new EN,this.mA=t}var n=t.prototype;return n.Bf=function(t){var n=this,i=new Ro;return this.$B.zB(function(e){return n.vSt(i,t,e)},t.Pr).catch(Z),i.Ss},n.ov=function(t){return this.mA.ov(t)},n.vSt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return Vs(i),e=new p_({Mf:n.Mf,Pr:i},n),r=this.mA.Bf(e),t.Is(r),u.next=6,Er.awrap(r);case 6:return s=u.sent,u.next=9,Er.awrap(s.Sf());case 9:case"end":return u.stop()}},null,this,null,ze)},n.hv=function(){this.$B.hv()},t}(),uY=function(){function t(t,n){this.mA=void 0,this.dSt=void 0,this.lSt=void 0,this.mA=t,this.dSt=new sY(t),this.lSt=n}var n=t.prototype;return n.hSt=function(t,n,i){return this.Pst(t,n,!0,!1,void 0,i)},n._St=function(t,n,i,e){return this.Pst(t,n,!1,!1,i,e)},n.gSt=function(t,n,i,e){return this.Pst(t,n,!1,!0,i,e)},n.Pst=function(n,i,e,r,s,u){var o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return Vs(u),h.next=3,Er.awrap(this.wSt(n,e,r,s,u));case 3:if(o=h.sent,!i){h.next=8;break}return h.abrupt("return",t.mSt(o));case 8:return h.abrupt("return",this.ySt(o));case 9:case"end":return h.stop()}},null,this,null,ze)},n.ySt=function(t){return t},t.mSt=function(t){return t},n.wSt=function(t,n,i,e,r){var s=new p_({Mf:t.Mf,xf:qc.za,Cf:t.oj?{Range:"bytes="+t.oj[0]+"-"+t.oj[1]}:void 0,sv:t.sv,tv:g_.GET,nr:w_.zf,ev:i?m_.Wf:m_.Ff,rv:this.lSt,nv:e,Pr:r});return n?this.dSt.Bf(s):this.mA.Bf(s)},t}(),oY=function(){function t(t){this.mA=void 0,this.mA=t}return t.prototype.hAt=function(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(this.mA.Bf({Mf:t,xf:qc.za,Cf:{Range:"bytes="+n[0]+"-"+n[1]},sv:i,tv:g_.GET,nr:w_.Ff,Pr:e}));case 2:return r=s.sent,s.next=5,Er.awrap(r.gf());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,ze)},t}(),hY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Fdt=void 0,r.Fdt=n,r}return S(n,t),n}(Zt),aY=function(){function t(t){this.r9=void 0,this.r9=t}return t.prototype.hAt=function(t,n,i,e){var r,s;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.r9.n9(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Er.awrap(this.r9.n9(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Ao(new y(s.buffer),n[0],n[1]));case 10:throw new hY({Mf:t,oj:n,sv:!1});case 11:case"end":return i.stop()}},null,this,null,ze)},t}(),cY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new US([0,0]).xR,references:[]},fY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},vY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).kSt=void 0,u.pSt=void 0,u.bK=void 0,u.Jmt=void 0,u.kSt=new oY(i),u.bK=e,u.pSt=r,u.Jmt=s,u}S(n,t);var i=n.prototype;return i.hAt=function(n,i,e,r){var s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Er.awrap(t.prototype.hAt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),Ws(u.t0);case 9:return u.next=11,Er.awrap(this.kSt.hAt(n,i,e,r));case 11:return s=u.sent,u.next=14,Er.awrap(this.bSt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],ze)},i.bSt=function(t,i,e){var r,s,u,o,h,a,c,f=this;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.pSt){v.next=2;break}return v.abrupt("return");case 2:return r=this.bK.lK,s=bB(t,i),v.next=6,Er.awrap(r.cs(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Er.awrap(iY(u,this.pSt,r,this.Jmt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},h=n.oSt(s,o,this.pSt),a=h.segmentMetadataEntry,c=h.segmentEntry,v.next=17,Er.awrap(this.bK.yK(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.lK.uK(a,f.Jmt));case 2:return n.next=4,Er.awrap(t._K.uK(c,f.Jmt));case 4:case"end":return n.stop()}},null,null,null,ze)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new Pq("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],ze)},n.oSt=function(t,n,i){return{segmentMetadataEntry:Rr({},cY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Rr({},fY,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(aY);var dY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.ASt=function(t,n,i,e,r,s,u){return new nY(t,n,i,e,r,s,u)},n}(function(){function t(t){this.mA=t}return t.prototype.$G=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.hR.sources[0].useCredentials),r=new uY(this.mA,y_.Ff),s=new mU(this.mA,e),u=new yU(n.gK,n.lK,n._K,n.mK),o=function(t,n,i,e,r){return new vY(n,t,i,e,r)}(this.mA,u,n,t._l,i),h=new lB,a=new TU(AU(s,u),h,t);return this.ASt(t,n,a,h,r,o,i)},t}());function lY(t){var n,i={get id(){return t._l},get status(){return t.Df},get source(){return t.hR},get parameters(){return t.lh},get duration(){return t.d_},get cached(){return t.TSt.XE()},get secondsCached(){return t.SSt},get percentageCached(){return t.ESt},get bytes(){return t.RSt},get bytesCached(){return t.ISt},get license(){return t.oC.Ed},start:function(){t.RR()},pause:function(){t.K_()},remove:function(){t.jo()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}};return n=new HI(t,["C$","Fmt"],i),i}var _Y=function(){function t(t,n,i){this.h9=t,this.bK=n,this.nJ=i}var n=t.prototype;return n.NSt=function(){var t=this;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.bK.yK(function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t.DSt(n));case 2:return i.next=4,Er.awrap(t.CSt(n));case 4:return i.next=6,Er.awrap(t.xSt(n));case 6:return i.next=8,Er.awrap(t.OSt(n));case 8:case"end":return i.stop()}},null,null,null,ze)}));case 2:case"end":return n.stop()}},null,this,null,ze)},n.DSt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.wK,i=this.h9._l,e.next=4,Er.awrap(n.jo(i));case 4:case"end":return e.stop()}},null,this,null,ze)},n.CSt=function(t){var n,i,e,r,s,u,o,h=this;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.lK,i=t._K,mm(e=this.h9.hR.sources[0])){a.next=5;break}return a.abrupt("return");case 5:return r=pB(e.src),a.next=8,Er.awrap(n.fK(r,"manifestURL"));case 8:s=a.sent.filter(function(t){return Os(t.references,h.h9._l)}),u=0;case 10:if(!(u<s.length)){a.next=25;break}if(Cs((o=s[u]).references,this.h9._l),0!==o.references.length){a.next=20;break}return a.next=16,Er.awrap(n.jo(o.key));case 16:return a.next=18,Er.awrap(i.jo(o.key));case 18:a.next=22;break;case 20:return a.next=22,Er.awrap(n.uK(o));case 22:u++,a.next=10;break;case 25:case"end":return a.stop()}},null,this,null,ze)},n.xSt=function(t){var n,i,e,r,s,u=this;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.gK,i=this.PSt(),o.next=4,Er.awrap(n.hK(i));case 4:e=o.sent.filter(function(t){return Os(t.references,u.h9._l)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Cs((s=e[r]).references,this.h9._l),0!==s.references.length){o.next=14;break}return o.next=12,Er.awrap(n.jo(s.key));case 12:o.next=16;break;case 14:return o.next=16,Er.awrap(n.uK(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,ze)},n.PSt=function(){if(!this.nJ)return[];var t=this.h9.hR.sources[0];if(!mm(t))return[];var n=pB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Eyt;i<e.length;i++)for(var r=0,s=e[i].xyt;r<s.length;r++)for(var u=0,o=s[r].qk;u<o.length;u++)for(var h=0,a=o[u].kl;h<a.length;h++){var c=a[h];c.Gyt&&n.push(c.Gyt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.nJ).map(function(t){return{src:t}}).map(function(t){return pB(t.src)});return[n].concat(i)},n.OSt=function(t){var n,i,e,r,s=this;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.mK,u.next=3,Er.awrap(n.aK());case 3:i=u.sent.filter(function(t){return Os(t.references,s.h9._l)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Cs((r=i[e]).references,this.h9._l),0!==r.references.length){u.next=14;break}return u.next=11,Er.awrap(n.jo(r.key));case 11:this.BSt(r),u.next=16;break;case 14:return u.next=16,Er.awrap(n.uK(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,ze)},n.BSt=function(t){},t}(),gY=new(function(){function t(){}return t.prototype.$G=function(t,n,i){return new _Y(t,n,i)},t}());var wY=function(){function t(t,n){this.Sd=void 0,this.rd=t,this.LSt=n}var n=t.prototype;return n.g4=function(t){this.MSt(t)},n.MSt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(this.LSt.rSt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.rd.tyt(lq.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],ze)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{renew:function(n){t.g4(n)}})),this.Sd}}]),t}(),mY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bo=void 0,o.Zmt=void 0,o.Sd=void 0,o.Igt=void 0,o.USt=void 0,o.bK=void 0,o.LSt=void 0,o.FSt=new Fs,o.HSt=void 0,o.evictOnLoading=function(){o.Xr("Fmt",o.evictOnLoading),o.zSt()},o.Bo=n,o.Igt=i,o.USt=e,o.bK=r,o.LSt=s.$G(Yt(o),o.bK,u),o.HSt=new wY(Yt(o),o.LSt),o.Zmt=1===o.LSt.QTt._yt?lq.DONE:lq.IDLE,o.LSt.Hr("C$",function(t){o.Ur(t),1===o.ESt&&o.tyt(lq.DONE)});var a=new Date,c=o.USt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.zSt()},c),o}S(n,t);var i=n.prototype;return i.tyt=function(t){this.Zmt!==t&&(this.Zmt=t,this.Fr(new gq))},i.RR=function(){this.Zmt===lq.EVICTED||this.Zmt===lq.DONE||this.VSt()},i.VSt=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.tyt(lq.LOADING),t=new Fs,this.FSt=t,n.next=6,Er.awrap(this.LSt.YTt(t.Pr));case 6:this.tyt(lq.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),zs(n.t0)?this.tyt(lq.IDLE):this.tyt(lq.ERROR);case 12:return n.prev=12,this.FSt.Sr(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],ze)},i.K_=function(){this.FSt.Cr()},i.jo=function(){this.Df===lq.LOADING?(this.Hr("Fmt",this.evictOnLoading),this.K_()):this.zSt()},i.zSt=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(this.LSt.eSt());case 3:return t=n.sent,n.next=6,Er.awrap(gY.$G(this,this.bK,t).NSt());case 6:this.LSt.QTt=Nq.dyt(),this.tyt(lq.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.tyt(lq.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],ze)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=lY(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"oC",get:function(){return this.HSt}},{key:"Df",get:function(){return this.Zmt}},{key:"hR",get:function(){return this.Igt}},{key:"lh",get:function(){return this.USt}},{key:"d_",get:function(){return this.LSt.QTt.aI}},{key:"TSt",get:function(){return this.LSt.QTt.vyt}},{key:"SSt",get:function(){return this.LSt.QTt.fyt}},{key:"ESt",get:function(){return this.LSt.QTt._yt}},{key:"RSt",get:function(){return this.LSt.fSt}},{key:"ISt",get:function(){return this.LSt.QTt.lyt}}]),n}(Kw);var yY=function(){function t(t,n){this.bK=t,this.WSt=n}var n=t.prototype;return n.ryt=function(t,n,i){var e=AR();return this.iyt(e,t,n,i)},n.iyt=function(t,n,i,e){return new mY(t,n,i,this.bK,this.WSt,e)},t}(),kY=30,pY=5;function bY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!us(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,q(i)&&us(i,"%")){var n=w(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+kY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Y(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return pY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var AY,TY,SY,EY,RY,IY,NY=function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.XSt=n,e.aB=i,e.XSt.Hr("Fmt",e.Ur),e}return S(n,t),n.prototype.qSt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=QE(t),r=bY(n),LE(e))throw new v("Invalid source description");return this.XSt.iyt(e,r).Ed},A(n,[{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get status(){return t.Df},get tasks(){return t.oyt},get network(){return t.bB.Ed},createTask:function(n,i){return t.qSt(n,i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new zI(t=this,i),i)),this.Sd}},{key:"Df",get:function(){return this.XSt.Df}},{key:"oyt",get:function(){return this.XSt.oyt.Ed}},{key:"bB",get:function(){return this.aB}}]),n}(Kw);(AY=new TI(i.kd,!1),TY=kB.Rn,SY=new dY(AY),EY=new yY(TY,SY),RY=new EI(AY),IY=new Sq(TY.wK,EY,"persistent"),new NY(IY,RY)).Ed;var DY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bo=void 0,s.Zmt=void 0,s.Sd=void 0,s.Igt=void 0,s.USt=void 0,s.Au=0,s.GSt=US.dI(),s.QSt=0,s.YSt=0,s.XSt=void 0,s.Bo=n,s.Zmt=lq.IDLE,s.Igt=i,s.USt=e,s.XSt=r,s}S(n,t);var i=n.prototype;return i.RR=function(){this.XSt.startCachingTask(this)},i.jo=function(){this.XSt.removeCachingTask(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=lY(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"Df",get:function(){return this.Zmt},set:function(t){this.Zmt!==t&&(this.Zmt=t,this.Fr(new gq))}},{key:"hR",get:function(){return this.Igt}},{key:"lh",get:function(){return this.USt}},{key:"d_",get:function(){return this.Au},set:function(t){this.Au=t}},{key:"TSt",get:function(){return this.GSt},set:function(t){this.GSt=t}},{key:"SSt",get:function(){return this.QSt},set:function(t){this.QSt=t}},{key:"ESt",get:function(){return this.YSt},set:function(t){this.YSt=t,this.Fr(new Iq)}}]),n}(tm),CY=30;function xY(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+CY),n&&((i=n)&&!(Y(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var OY=function(t){function n(){var n;return(n=t.call(this)||this).Zmt=yq.UNINITIALISED,n.LB=new Tq,n.Bwt=void 0,n.Jwt=void 0,n.jSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Df=lq.EVICTED,i.ESt=0,i.SSt=0,i.d_=0,i.TSt=US.dI(),n.LB.jo(i))}},n.ZSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Df=e);var r=t.detail.percentage;r&&(i.ESt=r);var s=t.detail.duration;s&&(i.d_=s);var u=t.detail.seconds;u&&(i.SSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.TSt=new US(h)}}}},n.JSt=function(t){if(t.detail){var i=QE(JSON.parse(t.detail.source));if(!n.$St(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.iyt(i,xY(e),s)}}},n.KSt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.iyt(QE(r),xY(i),s);u.Df=t.detail.status,u.ESt=t.detail.percentage,u.d_=t.detail.duration,u.SSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.TSt=new US(h)}},n.tEt=function(t){t.detail&&n.tyt(t.detail.status)},n.Bwt=new cq,n.Jwt=new WX,MX().cache={sdkEventBus:n.Jwt},n.DJ(),n}S(n,t);var i=n.prototype;return i.tyt=function(t){this.Zmt!==t&&(this.Zmt=t,this.Fr(new gq))},i.iyt=function(t,n,i){void 0===i&&(i=void 0);var e=new DY(i||AR(),t,n,this);return this.LB.Lg(e),i||this.Bwt.MG("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e._l}),e},i.findTaskWithId=function(t){for(var n=0,i=this.LB.zmt;n<i.length;n++){var e=i[n];if(e._l===t)return e}},i.$St=function(t){for(var n=BY(t.sources),i=0,e=this.LB.zmt;i<e.length;i++){if(BY(e[i].hR.sources).src===n.src)return!0}return!1},i.DJ=function(){this.Jwt.addEventListener("deleteTask",this.jSt),this.Jwt.addEventListener("updateValues",this.ZSt),this.Jwt.addEventListener("newTask",this.JSt),this.Jwt.addEventListener("restoreTask",this.KSt),this.Jwt.addEventListener("setCacheStatus",this.tEt)},i.startCachingTask=function(t){this.Bwt.MG("THEOplayerCacheStartCachingTask",{id:t._l})},i.removeCachingTask=function(t){this.Bwt.MG("THEOplayerCacheRemoveCachingTask",{id:t._l})},A(n,[{key:"Df",get:function(){return this.Zmt}},{key:"oyt",get:function(){return this.LB}}]),n}(iu),PY=function(t){function n(n){var i;return(i=t.call(this,n)||this).nEt=n,i.nEt.Hr("Fmt",i.Ur),i}return S(n,t),n.prototype.qSt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=QE(t),e=xY(n),LE(i))throw new v("Invalid source description");if(!BY(i.sources))throw new v("The provided sources can't be cached");return this.nEt.iyt(i,e).Ed},n}(NY);function BY(t){for(var n=0;n<t.length;n++){var i=t[n];if(lm(i.type))return i}}var LY,MY,UY=function(){var t=new OY;return new PY(t)}().Ed;!function(t){t.iEt="any",t.eEt="natural",t.rEt="landscape",t.sEt="portrait",t.uEt="portrait-primary",t.oEt="portrait-secondary",t.hEt="landscape-primary",t.aEt="landscape-secondary"}(LY||(LY={})),function(t){t.uEt="portrait-primary",t.oEt="portrait-secondary",t.hEt="landscape-primary",t.aEt="landscape-secondary"}(MY||(MY={}));var FY,HY,zY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Bwt=new cq,n.cEt=LY.eEt,n.fEt=MY.uEt,n.vEt=MY.uEt,n.dEt=MY.uEt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.cEt=t,n.Bwt.MG("THEOplayerOrientationLock",t),n.lEt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.cEt=LY.eEt,t.Bwt.MG("THEOplayerOrientationUnlock"),t.type=t.vEt,t.lEt(),n()})},i.lEt=function(){var t=this.dEt,n=this.type;t!==n&&(this.dEt=n,this.Fr(new ru("change")))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n._Et=function(t){switch(t){case LY.uEt:return[MY.uEt];case LY.oEt:return[MY.oEt];case LY.sEt:return[MY.uEt,MY.oEt];case LY.hEt:return[MY.hEt];case LY.aEt:return[MY.aEt];case LY.rEt:return[MY.hEt,MY.aEt];case LY.eEt:return[MY.uEt,MY.hEt,MY.aEt];case LY.iEt:return[MY.uEt,MY.oEt,MY.hEt,MY.aEt]}},n.gEt=function(t,i){return n._Et(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.fEt},set:function(t){this.vEt=t,n.gEt(t,this.cEt)?(this.fEt=t,this.lEt()):(t===MY.hEt&&this.cEt===LY.aEt&&(this.fEt=MY.aEt,this.lEt()),t===MY.aEt&&this.cEt===LY.hEt&&(this.fEt=MY.hEt,this.lEt()))}},{key:"angle",get:function(){switch(this.type){case MY.hEt:return-90;case MY.aEt:return 90;case MY.uEt:return 0;case MY.oEt:return 180;default:return 0}}}]),n}(tm);zY.Rn=new zY,r.screen.orientation=zY.Rn,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.wEt="unavailable",t.mEt="available",t.yEt="presenting"}(FY||(FY={})),gN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.ig=function(n){t.prototype.ig.call(this,n);var i=this.Ed;this.Ed.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===FY.yEt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(LY.aEt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},hN.SB),function(t){t.pd="addtrack",t.Ad="removetrack",t.Fd="change",t.qd="update"}(HY||(HY={}));var VY=function(t,n,i){this.type=HY.Fd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},WY=function(t,n){this.type=HY.pd,this.mediaType=t,this.mediaTrack=n},XY=function(t,n){this.type=HY.Ad,this.mediaType=t,this.mediaTrack=n},qY=function(t,n){this.type=HY.qd,this.mediaType=t,this.mediaTrack=n},GY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.kEt=function(t){var n=new VY(e.type,t.track,e.mediaTracks);e.messageDispatcher.pEt(n)},this.bEt=function(t){var n=new WY(e.type,t.track);e.messageDispatcher.pEt(n),t.track.addEventListener("update",e.AEt)},this.TEt=function(t){var n=new XY(e.type,t.track);e.messageDispatcher.pEt(n)},this.AEt=function(t){var n=new qY(e.type,t.track);e.messageDispatcher.pEt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.DJ()}return t.prototype.DJ=function(){this.mediaTracks.addEventListener("change",this.kEt),this.mediaTracks.addEventListener("addtrack",this.bEt),this.mediaTracks.addEventListener("removetrack",this.TEt)},t}(),QY=function(){function t(){this.SEt=void 0,this.SEt=new cq}return t.prototype.pEt=function(t){this.SEt.MG(t.type,bV(t))},t}();yN(function(t){if(t.Ed.audioTracks){var n=new QY;new GY("audio",t.Ed.audioTracks,n)}if(t.Ed.videoTracks){var i=new QY;new GY("video",t.Ed.videoTracks,i)}});var YY,jY=function(){function n(t){this.playerID=t}return n.prototype.MG=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),ZY=function(){function t(t){this.SEt=void 0,this.SEt=new jY(t)}return t.prototype.pEt=function(t){this.SEt.MG(t.type,bV(t))},t}();!function(t){t.pd="TextTrackListAddTrack",t.Ad="TextTrackListRemoveTrack",t.Fd="TextTrackListChange"}(YY||(YY={}));var JY,$Y=function(t){this.type=YY.pd,this.textTrack=t},KY=function(t){this.type=YY.Ad,this.textTrack=t},tj=function(t){this.type=YY.Fd,this.textTrack=t};!function(t){t.Nd="TextTrackAddCue",t.Cd="TextTrackRemoveCue",t.Od="TextTrackEnterCue",t.Bd="TextTrackExitCue",t.Md="TextTrackCueChange"}(JY||(JY={}));var nj,ij=function(t){this.type=JY.Nd,this.textTrackCue=t},ej=function(t){this.type=JY.Cd,this.textTrackCue=t},rj=function(t){this.type=JY.Od,this.textTrackCue=t},sj=function(t){this.type=JY.Bd,this.textTrackCue=t},uj=function(t){this.type=JY.Md,this.textTrack=t};!function(t){t.jg="TextTrackCueEnter",t.Jg="TextTrackCueExit",t.qd="TextTrackCueUpdate"}(nj||(nj={}));var oj=function(t){this.type=nj.jg,this.textTrackCue=t},hj=function(t){this.type=nj.Jg,this.textTrackCue=t},aj=function(t){this.type=nj.qd,this.textTrackCue=t},cj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.EEt=function(t){var i=fj(t.cue),e=new oj(i);n.messageDispatcher.pEt(e)},this.REt=function(t){var i=fj(t.cue),e=new hj(i);n.messageDispatcher.pEt(e)},this.IEt=function(t){var i=fj(t.cue),e=new aj(i);n.messageDispatcher.pEt(e)},this.messageDispatcher=t}var n=t.prototype;return n.DJ=function(t){t.addEventListener("enter",this.EEt),t.addEventListener("exit",this.REt),t.addEventListener("update",this.IEt)},n.Gr=function(t){t.removeEventListener("enter",this.EEt),t.removeEventListener("exit",this.REt),t.removeEventListener("update",this.IEt)},t}();function fj(t){var n=DX(t,t.track.type);return n.track=t.track,n}var vj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.NEt=function(t){var n,e=fj(t.cue),r=new ij(e);i.messageDispatcher.pEt(r),null==(n=i.textTrackCueBridge)||n.DJ(t.cue)},this.DEt=function(t){var n,e=fj(t.cue),r=new ej(e);i.messageDispatcher.pEt(r),null==(n=i.textTrackCueBridge)||n.Gr(t.cue)},this.EEt=function(t){var n=fj(t.cue),e=new rj(n);i.messageDispatcher.pEt(e)},this.REt=function(t){var n=fj(t.cue),e=new sj(n);i.messageDispatcher.pEt(e)},this.CEt=function(t){var n=new uj(t.track);i.messageDispatcher.pEt(n)},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new cj(e))}var n=t.prototype;return n.DJ=function(t){t.addEventListener("addcue",this.NEt),t.addEventListener("removecue",this.DEt),t.addEventListener("entercue",this.EEt),t.addEventListener("exitcue",this.REt),t.addEventListener("cuechange",this.CEt)},n.Gr=function(t){t.removeEventListener("addcue",this.NEt),t.removeEventListener("removecue",this.DEt),t.removeEventListener("entercue",this.EEt),t.removeEventListener("exitcue",this.REt),t.removeEventListener("cuechange",this.CEt)},n.initMessageDispatcher=function(t){return L.An?new QY:L.Tn&&void 0!==t?new ZY(t):void 0},t}(),dj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.bEt=function(t){var n,i=new $Y(t.track);e.messageDispatcher.pEt(i),null==(n=e.textTrackBridge)||n.DJ(t.track)},this.TEt=function(t){var n,i=new KY(t.track);e.messageDispatcher.pEt(i),null==(n=e.textTrackBridge)||n.Gr(t.track)},this.xEt=function(t){var n=new tj(t.track);e.messageDispatcher.pEt(n)},this.textTracks=t,this.messageDispatcher=n;var r=this.initMessageDispatcher(i);r&&(this.textTrackBridge=new vj(r,i)),this.DJ()}var n=t.prototype;return n.DJ=function(){this.textTracks.addEventListener("addtrack",this.bEt),this.textTracks.addEventListener("removetrack",this.TEt),this.textTracks.addEventListener("change",this.xEt)},n.initMessageDispatcher=function(t){return L.An?new QY:L.Tn&&void 0!==t?new ZY(t):void 0},t}();yN(function(t){if(t.Ed.textTracks){var n=new QY;new dj(t.Ed.textTracks,n)}});var lj,_j,gj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case lj.OEt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Fr(new wj(i));break;default:0}},n}(WX),wj=function(t){function n(n){var i;return(i=t.call(this,lj.OEt)||this).detail=n,i}return S(n,t),n}(ru);!function(t){t.OEt="registerContentProtectionIntegration"}(lj||(lj={})),function(t){t.PEt="certifiateRequest",t.BEt="certifiateResponse",t.LEt="licenseRequest",t.MEt="licenseResponse",t.UEt="extractFairplayContentId",t.FEt="buildContentProtection",t.HEt="registerContentProtectionCallback"}(_j||(_j={}));var mj,yj=function(t,n){this.type=_j.HEt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(mj||(mj={}));var kj,pj=function(t,n){this.type=_j.FEt,this.value=t,this.integrationId=n},bj=function(t,n){this.type=_j.PEt,this.value=t,this.integrationId=n},Aj=function(t,n){this.type=_j.BEt,this.value=t,this.integrationId=n},Tj=function(t,n){this.type=_j.UEt,this.value=t,this.integrationId=n},Sj=function(t,n){this.type=_j.LEt,this.value=t,this.integrationId=n},Ej=function(t,n){this.type=_j.MEt,this.value=t,this.integrationId=n},Rj=function(){function t(t,n){this.zEt=void 0,this.ST=void 0,this.zEt=t,this.ST=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e=new bj(i,this.ST),h.prev=2,h.next=5,Er.awrap(this.zEt.VEt(e));case 5:if(!(r=h.sent)){h.next=16;break}if(s=JSON.parse(r),!this.WEt(s)){h.next=13;break}return u=Rr({},s),h.abrupt("return",u);case 13:if(!this.XEt(s)){h.next=16;break}return o=new y(s),h.abrupt("return",o);case 16:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw h.prev=19,h.t0=h.catch(2),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 22:case"end":return h.stop()}},null,this,[[2,19]],ze)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new Aj(e,this.ST),o.next=5,Er.awrap(this.zEt.VEt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,ze)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new Sj(e,this.ST),a.prev=3,a.next=6,Er.awrap(this.zEt.VEt(r));case 6:if(!(s=a.sent)){a.next=17;break}if(u=JSON.parse(s),!this.WEt(u)){a.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.XEt(u)){a.next=17;break}return h=new y(u),a.abrupt("return",h);case 17:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],ze)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Rr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new Ej(r,this.ST),h.next=6,Er.awrap(this.zEt.VEt(s));case 6:if(!(u=h.sent)){h.next=12;break}return o=JSON.parse(u),h.abrupt("return",new y(o));case 12:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return h.stop()}},null,this,null,ze)},i.extractFairplayContentId=function(t){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Tj(t,this.ST),r.next=3,Er.awrap(this.zEt.VEt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,ze)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.WEt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.XEt=function(t){return!!new y(t)},t}(),Ij=function(){function t(t){this.zEt=void 0,this.zEt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new Rj(this.zEt,t.integration),i=new pj({drmConfiguration:t},t.integration);return this.zEt.VEt(i),n},t}(),Nj=function(){var t=this;this.Jwt=void 0,this.qEt=function(n){var i=new Ij(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:bA.CT.RT(r,s,i)};t.messageDispatcher.VEt(new yj(u,r))},this.Jwt=new gj,MX().contentProtectionIntegration={sdkEventBus:this.Jwt},this.Jwt.addEventListener(lj.OEt,this.qEt)},Dj="nativePromiseCallback",Cj=function(t){function n(n){var i;return(i=t.call(this,Dj)||this).detail=n,i}return S(n,t),n}(ru);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(kj||(kj={}));var xj=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new Cj(n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(WX),Oj=function(){function t(){var t=this;this.SEt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case kj.RESOLVE:i.Is(n.detail.data);break;case kj.REJECT:i.Ns(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new xj;MX().nativePromise={sdkEventBus:n},n.addEventListener(Dj,this.handleNativePromiseEvent)}return t.prototype.VEt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Rr({},n,{promiseId:e}),s=new Ro;return this.promisesMap[e]=s,null==(i=this.SEt)||i.MG(n.type,kV(r)),s.Ss},t}();Oj.messageIdTracker=-1;var Pj=function(t){function n(){var n;return(n=t.call(this)||this).SEt=new cq,n}return S(n,t),n}(Oj),Bj=function(t){function n(){var n;return(n=t.call(this)||this).zEt=new Pj,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.zEt}}]),n}(Nj);yN(function(t){new Bj});var Lj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(ru);var Mj,Uj=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).GEt=function(){},e.QEt(),e}S(n,t);var e=n.prototype;return e.YEt=function(){this.gR&&this.gR.Xr(Xc.ra,this.handleAirplayChangedEvent),this.gR=this.jx,this.gR.Hr(Xc.ra,this.handleAirplayChangedEvent)},e.jEt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gR){t.next=2;break}return t.abrupt("return");case 2:this.ZEt(yE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,ze)},e.JEt=function(){this.ZEt(yE.AVAILABLE)},e.rg=function(){i.Pe.Ji&&(this.$Et.ug(),this.KEt.Cr(),this.KEt=new Fs,Zs(this.tRt(this.KEt.Pr)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.$Et=void 0,e.gR=void 0,e.jx=void 0,e.Ii=yE.UNAVAILABLE,e.KEt=new Fs,e.GEt=void 0,e.handleAirplayChangedEvent=function(){e.gR&&e.gR.bg?e.jEt():e.VX===yE.CONNECTED&&e.JEt()},e.$Et=n,e.jx=i,e}S(n,t);var e=n.prototype;return e.QEt=function(){this.YEt(),this.$Et.Hr("sourcechange",this.GEt),i.Pe.Ji&&this.ZEt(yE.AVAILABLE)},e.preloadPlayer=function(t){if(Vs(t),this.gR.Dl<am.i_){var n=this.gR.Yr("loadedmetadata",t);return this.gR.Cg=DS.$y,n}return ze.resolve()},e.ZEt=function(t){t!==this.Ii&&(this.Ii=t,this.Fr(new Lj(this.Ii)))},e.tRt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.preloadPlayer(t));case 2:this.jx.rg();case 3:case"end":return n.stop()}},null,this,null,ze)},e.sg=function(){i.Pe.Ji&&this.gR.sg()},e.hv=function(){this.Wr(),this.$Et.Xr("sourcechange",this.GEt),this.KEt.Cr()},A(n,[{key:"AP",get:function(){return this.VX===yE.CONNECTED}},{key:"VX",get:function(){return this.Ii}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get casting(){return t.AP},get state(){return t.VX},start:function(){t.rg()},stop:function(){t.sg()},addEventListener:function(n,i){var e=Lw(n,Pw);t.Hr(e,i)},removeEventListener:function(n,i){var e=Lw(n,Pw);t.Xr(e,i)}})),this.Sd}}]),n}(iu));gN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Rd=function(){var n=this.kB.Ed;return Ew(t.prototype.Rd.call(this),{get cast(){return n}})},n}(t)},hN.TB),gN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).nRt=void 0,e.nRt=new Uj(Yt(e),e.gP),e.kB.bP(e.nRt),e.Hr("currentsourcechange",function(){e.nRt.YEt()}),e}S(n,t);var i=n.prototype;return i.Rd=function(){var n=this,i=t.prototype.Rd.call(this);return Ew(i.cast,{get airplay(){return n.nRt.Ed}}),i},i.hv=function(){this.nRt.hv(),t.prototype.hv.call(this)},n}(t)},hN.TB),function(t){t.iRt="airplaystatechange"}(Mj||(Mj={}));var Fj=function(t){this.type=Mj.iRt,this.state=t},Hj=function(t){function n(n){var i;return(i=t.call(this)||this).eRt=void 0,i.rRt=function(t){var n=new Fj(t.state);i.pEt(n)},i.eRt=n,i.DJ(n),i}return S(n,t),n.prototype.DJ=function(t){t.addEventListener("statechange",this.rRt)},n}(QY);yN(function(t){var n;null!=(n=t.Ed.cast)&&n.airplay&&new Hj(t.Ed.cast.airplay)}),n.ChromelessPlayer=MN,n.Player=MN,n.cache=UY,n.createGlobals=HX,n.features=["hls","airplay"],n.getCueMirrorMap=UX,n.getGlobalId=FX,n.getSdkEventBridge=MX,n.playerSuiteVersion="2022.3.0",n.players=FN,n.registerContentProtectionIntegration=HN,n.utils=UN,n.version="3.6.1",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
