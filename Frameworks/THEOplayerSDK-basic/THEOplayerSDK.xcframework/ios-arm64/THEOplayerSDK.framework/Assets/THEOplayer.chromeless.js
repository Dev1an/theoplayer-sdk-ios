/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.2 (3.2.1)
 Created: 2022-03-28T10:19:33.502Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e=t.window,r=t.document,s=t.location,u=t.navigator,o=t.setTimeout,h=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,w=t.parseFloat,g=t.isNaN,y=t.Uint8Array,m=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,s){n.exports=function t(n,e,r){function s(o,h){if(!e[o]){if(!n[o]){var a="function"==typeof i&&i;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new f("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var v=e[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return s(i||t)},v,v.exports,t,n,e,r)}return e[o].exports}for(var u="function"==typeof i&&i,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),e=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),e}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var e;try{throw new f}catch(t){e=t}var r=t("./schedule"),s=t("./queue"),u=t("./util");function h(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=r}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),e=t.shift();n.call(i,e)}}h.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},h.prototype.hasCustomScheduler=function(){return this.g},h.prototype.enableTrampoline=function(){this.M=!0},h.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},h.prototype.haveItemsQueued=function(){return this.R||this.B},h.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},h.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(h.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},h.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},h.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(h.prototype.invokeLater=a,h.prototype.invoke=c,h.prototype.settlePromises=v),h.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},h.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},h.prototype.Y=function(){this.R=!1},n.exports=h,n.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,e){var r=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){r||(r=!0,t.prototype.it=e.propagateFromFunction(),t.prototype.et=e.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.ct=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var e;"undefined"!=typeof Promise&&(e=Promise);var r=t("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=e)}catch(t){}return r},n.exports=r},{"./promise":22}],5:[function(t,n,i){var e=d.create;if(e){var r=e(null),s=e(null);r[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),e=i.canEvaluate;function r(t){var e=this.pop(),r=function(t,e){var r;if(null!=t&&(r=t[e]),"function"!=typeof r){var s="Object "+i.classString(t)+" has no method '"+i.toString(e)+"'";throw new n.TypeError(s)}return r}(t,e);return r.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(r,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(e){var r=(void 0)();n=null!==r?r:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,e,r){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ft;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this.vt("cancellation is disabled");for(var t=this,n=t;t.dt();){if(!t._t(n)){n.wt()?n.yt().cancel():n.pt();break}var i=t.kt;if(null==i||!i.dt()){t.wt()?t.yt().cancel():t.pt();break}t.wt()&&t.yt().cancel(),t.At(),n=t,t=i}},n.prototype.bt=function(){this.Tt--},n.prototype.St=function(){return void 0===this.Tt||this.Tt<=0},n.prototype._t=function(t){return t===this?(this.Tt=0,this.Et(),!0):(this.bt(),!!this.St()&&(this.Et(),!0))},n.prototype.pt=function(){this.St()&&this.Rt()},n.prototype.Rt=function(){this.dt()&&(this.It(),h.invoke(this.Nt,this,void 0))},n.prototype.Nt=function(){this.Dt()>0&&this.j()},n.prototype.Ct=function(){this.xt=void 0},n.prototype.dt=function(){return this.isPending()&&!this.Pt()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.Ot=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.Ot(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var e=u(t).call(this.et());e===o&&(this.Bt(e.e),h.throwLater(e.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Lt();this.Ct(),h.invoke(this.Ot,this,t)},n.prototype.Mt=function(){this.dt()&&(this.Ot(this.Lt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=t("./es5").keys,r=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var v=t[c];if(v===f||null!=v&&v.prototype instanceof f){if(h instanceof v)return r(u).call(a,h)}else if("function"==typeof v){var d=r(v).call(a,h);if(d===s)return d;if(d)return r(u).call(a,h)}else if(i.isObject(h)){for(var l=e(v),_=0;_<l.length;++_){var w=l[_];if(v[w]!=h[w])continue t}return r(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function e(){this.Ut=new e.CapturedTrace(r())}function r(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ft=function(){},t.prototype.Ht=function(){},t.prototype.Vt=function(){return null},t.zt=t.prototype.zt=function(){},e.prototype.Ht=function(){void 0!==this.Ut&&(this.Ut.Ft=null,i.push(this.Ut))},e.prototype.Vt=function(){if(void 0!==this.Ut){var t=i.pop(),n=t.Ft;return t.Ft=null,n}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var i=t.prototype.Ht,s=t.prototype.Vt,u=t.zt,o=t.prototype.zt,h=t.prototype.Ft;e.deactivateLongStackTraces=function(){t.prototype.Ht=i,t.prototype.Vt=s,t.zt=u,t.prototype.zt=o,t.prototype.Ft=h,n=!1},n=!0,t.prototype.Ht=e.prototype.Ht,t.prototype.Vt=e.prototype.Vt,t.zt=t.prototype.zt=r,t.prototype.Ft=function(){var t=this.zt();t&&null==t.Ft&&(t.Ft=this)}},e}},{}],9:[function(t,n,i){n.exports=function(n,i){var e,s,u,h=n.Xt,a=n.ft,c=t("./errors").Warning,l=t("./util"),w=t("./es5"),g=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),E=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.Gt()},1)}},n.prototype.jt=function(){Z("rejectionHandled",e,void 0,this)},n.prototype.Qt=function(){this.K=268435456|this.K},n.prototype.Yt=function(){return 0!=(268435456&this.K)},n.prototype.Gt=function(){if(this.Zt()){var t=this.Jt();this.$t(),Z("unhandledRejection",s,t,this)}},n.prototype.$t=function(){this.K=262144|this.K},n.prototype.Kt=function(){this.K=-262145&this.K},n.prototype.tn=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.nn=function(){this.K=-1048577&this.K,this.tn()&&(this.Kt(),this.jt())},n.prototype.Zt=function(){return(1048576&this.K)>0},n.prototype.vt=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=h();s="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=h();e="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!rt.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!rt.longStackTraces&&$()){var t=n.prototype.in,e=n.prototype.Bt,r=n.prototype.rn;rt.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!rt.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.in=t,n.prototype.Bt=e,n.prototype.rn=r,i.deactivateLongStackTraces(),a.enableTrampoline(),rt.longStackTraces=!1},n.prototype.in=X,n.prototype.Bt=W,n.prototype.rn=q,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return rt.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason});var e=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(e)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=r.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var x={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},P=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,x[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function O(){return!1}function B(t,n,i){var e=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));e.sn(t)})}catch(t){return t}}function L(t){if(!this.dt())return this;var n=this.Lt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.xt}function U(t){this.xt=t}function F(){this.kt=void 0,this.xt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.Tt;void 0===i&&(i=0),t.Tt=i+1}0!=(2&n)&&t.ct()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;rt.warnings=!!i,R=rt.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!rt.cancellation){if(a.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.un=F,n.prototype.it=H,n.prototype.Lt=M,n.prototype.ot=U,n.prototype.sn=L,n.prototype.hn=B,V=H,rt.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!rt.monitoring?(rt.monitoring=!0,n.prototype.an=P):!t.monitoring&&rt.monitoring&&(rt.monitoring=!1,n.prototype.an=O)),n},n.prototype.an=O,n.prototype.hn=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Lt=function(){},n.prototype.ot=function(t){},n.prototype.sn=function(t){},n.prototype.in=function(){},n.prototype.Bt=function(){},n.prototype.rn=function(){},n.prototype.un=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.ct()&&this.ut(t.ht)};function z(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function X(){this.Ut=new it(this.zt())}function W(t,n){if(g(t)){var i=this.Ut;if(void 0!==i&&n&&(i=i.cn),void 0!==i)i.attachExtraTrace(t);else if(!t.fn){var e=Q(t);l.notEnumerableProp(t,"stack",e.message+"\n"+e.stack.join("\n")),l.notEnumerableProp(t,"fn",!0)}}}function q(){this.Ut=void 0}function G(t,i,e){if(rt.warnings){var r,s=new c(t);if(i)e.Bt(s);else if(rt.longStackTraces&&(r=n.zt()))r.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}P("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var e=t[i],r="    (No stack trace)"===e||k.test(e),s=r&&K(e);r&&!s&&(b&&" "!==e.charAt(0)&&(e="    "+e),n.push(e))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var e=n[i];if("    (No stack trace)"===e||k.test(e))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var e;if(l.isObject(t)){var r=t.stack;e=n+A(r,t)}else e=n+String(t);"function"==typeof u?u(e,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}}function Z(t,n,i,e){var r=!1;try{"function"==typeof n&&(r=!0,"rejectionHandled"===t?n(e):n(i,e))}catch(t){a.throwLater(t)}"unhandledRejection"===t?P(t,i,e)||r||Y(i,"Unhandled rejection "):P(t,e)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof et}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.cn=t,this.vn=0;var n=this.Dt=1+(void 0===t?0:t.Dt);et(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Dt;if(!(t<2)){for(var n=[],i={},e=0,r=this;void 0!==r;++e)n.push(r),r=r.cn;for(var e=(t=this.Dt=e)-1;e>=0;--e){var s=n[e].stack;void 0===i[s]&&(i[s]=e)}for(var e=0;e<t;++e){var u=n[e].stack,o=i[u];if(void 0!==o&&o!==e){o>0&&(n[o-1].cn=void 0,n[o-1].Dt=1),n[e].cn=void 0,n[e].Dt=1;var h=e>0?n[e-1]:this;o<t-1?(h.cn=n[o+1],h.cn.uncycle(),h.Dt=h.cn.Dt+1):(h.cn=void 0,h.Dt=1);for(var a=h.Dt+1,c=e-2;c>=0;--c)n[c].Dt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.fn){this.uncycle();for(var n=Q(t),i=n.message,e=[n.stack],r=this;void 0!==r;)e.push(j(r.stack.split("\n"))),r=r.cn;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var e=t[i],r=n.length-1,s=n[r],u=-1,o=e.length-1;o>=0;--o)if(e[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=e[o];if(n[r]!==h)break;n.pop(),r--}n=e}}(e),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(e),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,e)),l.notEnumerableProp(t,"fn",!0)}};var et=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,k=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var e,r=new f;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){e="stack"in t}return"stack"in r||!e||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var rt={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return E&&n.longStackTraces(),{longStackTraces:function(){return rt.longStackTraces},warnings:function(){return rt.warnings},cancellation:function(){return rt.cancellation},monitoring:function(){return rt.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return z},checkForgottenReturns:function(t,n,i,e,r){if(void 0===t&&null!==n&&R){if(void 0!==r&&r.Yt())return;if(0==(65535&e.K))return;i&&(i+=" ");var s="",u="";if(n.Ut){for(var o=n.Ut.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(p);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;e.vt(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,e,r=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<r.length;++h){var a=nt(r[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){e=a.fileName,o=a.line;break}}u<0||o<0||!i||!e||i!==e||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var e=arguments[1];return e instanceof t&&e.suppressUnhandledRejections(),this.caught(i,function(){return e})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,e=t.all;function r(){return e(this)}t.prototype.each=function(t){return i(this,t,n,0).J(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,e){return i(t,e,n,0).J(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return i(t,e,n,n)}}},{}],12:[function(t,n,i){var e,r,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(e){if(!(this instanceof i))return new i(e);a(this,"message","string"==typeof e?e:n),a(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return h(i,f),i}var d=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),w=c("AggregateError","aggregate error");try{e=v,r=RangeError}catch(t){e=c("TypeError","type error"),r=c("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<g.length;++y)"function"==typeof Array.prototype[g[y]]&&(w.prototype[g[y]]=Array.prototype[g[y]]);s.defineProperty(w.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),w.prototype.isOperational=!0;var m=0;function p(t){if(!(this instanceof p))return new p(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(a(this,"message",t.message),a(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}w.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var e=this[i]===this?"[Circular AggregateError]":this[i]+"",r=e.split("\n"),s=0;s<r.length;++s)r[s]=t+r[s];e=r.join("\n"),n+=e+"\n"}return m--,n},h(p,f);var k=f.dn;k||(k=u({CancellationError:l,TimeoutError:_,OperationalError:p,RejectionError:p,AggregateError:w}),s.defineProperty(f,"dn",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:e,RangeError:r,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var e=function(){return void 0===this}();if(e)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var r={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)r.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return u}},isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,e){return i(this,t,e,n)},t.filter=function(t,e,r){return i(t,e,r,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=n.CancellationError,u=r.errorObj,o=t("./catch_filter")(e);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.Rt(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Jt())}function d(t){if(!c(this,t))return u.e=t,u}function l(t){var r=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(r.et()):o.call(r.et(),t);if(h===e)return h;if(void 0!==h){r.Qt();var v=i(h,r);if(v instanceof n){if(null!=this.cancelPromise){if(v.Pt()){var l=new s("late cancellation observer");return r.Bt(l),u.e=l,u}v.isPending()&&v.sn(new a(this))}return v.J(f,d,void 0,this,void 0)}}}return r.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.ln=function(t,n,i,e){return"function"!=typeof t?this.then():this.J(i,e,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.ln(t,0,l,l)},n.prototype.tap=function(t){return this.ln(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.ln(t,1,void 0,l);var e,s=new Array(i-1),u=0;for(e=0;e<i-1;++e){var h=arguments[e];if(!r.isObject(h))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+r.classString(h)));s[u++]=h}s.length=u;var a=arguments[e];return this.ln(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,v=a.tryCatch,l=[];function _(t,i,r,s){if(u.cancellation()){var o=new n(e),h=this._n=new n(e);this.wn=o.lastly(function(){return h}),o.in(),o.ot(this)}else{var a=this.wn=new n(e);a.in()}this.gn=s,this.yn=t,this.mn=i,this.pn=void 0,this.kn="function"==typeof r?[r].concat(l):l,this.An=null,this.bn=!1}a.inherits(_,s),_.prototype.Tn=function(){return null===this.wn},_.prototype.Sn=function(){this.wn=this.pn=null,u.cancellation()&&null!==this._n&&(this._n.En(),this._n=null)},_.prototype.Rn=function(){if(!this.Tn()){var t,i=void 0!==this.pn.return;if(i)this.wn.Ht(),t=v(this.pn.return).call(this.pn,void 0),this.wn.Vt();else{var e=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=e,this.wn.Bt(e),this.wn.Ht(),t=v(this.pn.throw).call(this.pn,e),this.wn.Vt()}this.bn=!0,this.An=null,this.In(t)}},_.prototype.Nn=function(t){this.An=null,this.wn.Ht();var n=v(this.pn.next).call(this.pn,t);this.wn.Vt(),this.In(n)},_.prototype.Dn=function(t){this.An=null,this.wn.Bt(t),this.wn.Ht();var n=v(this.pn.throw).call(this.pn,t);this.wn.Vt(),this.In(n)},_.prototype._resultCancelled=function(){if(this.An instanceof n){var t=this.An;this.An=null,t.cancel()}},_.prototype.promise=function(){return this.wn},_.prototype.Cn=function(){this.pn=this.yn.call(this.mn),this.mn=this.yn=void 0,this.Nn(void 0)},_.prototype.In=function(t){var i=this.wn;if(t===c)return this.Sn(),this.bn?i.cancel():i.xn(t.e,!1);var e=t.value;if(!0===t.done)return this.Sn(),this.bn?i.cancel():i.nt(e);var s=r(e,this.wn);if(s instanceof n||null!==(s=function(t,i,e){for(var s=0;s<i.length;++s){e.Ht();var u=v(i[s])(t);if(e.Vt(),u===c){e.Ht();var o=n.reject(c.e);return e.Vt(),o}var h=r(u,e);if(h instanceof n)return h}return null}(s,this.kn,this.wn))){var u=(s=s.st()).K;0==(50397184&u)?(this.An=s,s.Pn(this,null)):0!=(33554432&u)?n.ft.invoke(this.Nn,this,s.On()):0!=(16777216&u)?n.ft.invoke(this.Dn,this,s.Bn()):this.Rn()}else this.Dn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(e))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,e=_,r=(new f).stack;return function(){var n=t.apply(this,arguments),s=new e(void 0,void 0,i,r),u=s.promise();return s.pn=n,s.Nn(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new _(t,this),r=e.promise();return e.Cn(n.spawn),r}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var e=[].slice.call(arguments);t&&e.pop();var r=new i(e).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ft;function d(t,n,i,e){this.constructor$(t),this.wn.in();var r=o();this.Ln=null===r?n:h.domainBind(r,n),this.Mn=e===s?new Array(this.length()):null,this.Un=i,this.Fn=0,this.Hn=[],f.invoke(this.Vn,this,void 0)}function l(t,i,r,s){if("function"!=typeof i)return e("expecting a function but got "+h.classString(i));var u=0;if(void 0!==r){if("object"!=typeof r||null===r)return n.reject(new v("options argument must be an object but it is "+h.classString(r)));if("number"!=typeof r.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+h.classString(r.concurrency)));u=r.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new d(t,i,u,s).promise()}h.inherits(d,i),d.prototype.Vn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.Nn=function(t,i){var e=this.zn,s=this.length(),o=this.Mn,h=this.Un;if(i<0){if(e[i=-1*i-1]=t,h>=1&&(this.Fn--,this.Xn(),this.Tn()))return!0}else{if(h>=1&&this.Fn>=h)return e[i]=t,this.Hn.push(i),!1;null!==o&&(o[i]=t);var f=this.wn,v=this.Ln,d=f.et();f.Ht();var l=a(v).call(d,t,i,s),_=f.Vt();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var w=r(l,this.wn);if(w instanceof n){var g=(w=w.st()).K;if(0==(50397184&g))return h>=1&&this.Fn++,e[i]=w,w.Pn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.Z(w.Bn()),!0):(this.Rt(),!0);l=w.On()}e[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(e,o):this.Gn(e),!0)},d.prototype.Xn=function(){for(var t=this.Hn,n=this.Un,i=this.zn;t.length>0&&this.Fn<n;){if(this.Tn())return;var e=t.pop();this.Nn(i[e],e)}},d.prototype.qn=function(t,n){for(var i=n.length,e=new Array(i),r=0,s=0;s<i;++s)t[s]&&(e[r++]=n[s]);e.length=r,this.Gn(e)},d.prototype.preservedValues=function(){return this.Mn},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,e){return l(t,n,i,e)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,e,r,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var e=new n(i);e.in(),e.Ht();var r=o(t).apply(this,arguments),u=e.Vt();return s.checkForgottenReturns(r,u,"Promise.method",e),e.jn(r),e}},n.attempt=n.try=function(t){if("function"!=typeof t)return r("expecting a function but got "+u.classString(t));var e,h=new n(i);if(h.in(),h.Ht(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];e=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else e=o(t)();var f=h.Vt();return s.checkForgottenReturns(e,f,"Promise.try",h),h.jn(e),h},n.prototype.jn=function(t){t===u.errorObj?this.xn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var e=t("./util"),r=e.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),r=0;r<i.length;++r){var s=i[r];h.test(s)||(n[s]=t[s])}return n}return e.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,e){if(null!==t){if(i){var s=a(r(i));t.Bt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(e);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=n.ft,r=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=r(n).apply(this.et(),[null].concat(t));u===s&&e.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?r(n).call(i,null):r(n).call(i,null,t);u===s&&e.throwLater(u.e)}function h(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var u=r(n).call(this.et(),t);u===s&&e.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},e=function(){return new N.PromiseInspection(this.st())},r=function(t){return N.reject(new l(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ft",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var w=function(){},g={},y={},m=t("./thenables")(N,w),p=t("./promise_array")(N,w,m,r,s),k=t("./context")(N),A=k.create,b=t("./debuggability")(N,k),T=(b.CapturedTrace,t("./finally")(N,m,y)),S=t("./catch_filter")(y),E=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==w&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn=void 0,this.$n(t),this.Ft(),this.an("promiseCreated",this)}function D(t){this.promise.nt(t)}function C(t){this.promise.xn(t,!1)}function x(t){var n=new N(w);n.Qn=t,n.Yn=t,n.Zn=t,n.Jn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,e=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return r("Catch statement predicate: expecting an object but got "+h.classString(u));e[s++]=u}if(e.length=s,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,S(e,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(e,e,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.vt(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.Kn()},N.prototype.spread=function(t){return"function"!=typeof t?r("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,g,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.vt(".all() was passed arguments but it does not take any"),new p(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(w);n.in();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,e=I(t)(E(n,i));return e===R&&n.xn(e.e,!0),n.ti()||n.ni(),n},N.all=function(t){return new p(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(w)).in(),n.ii(),n.Yn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(w);return n.in(),n.xn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,e,r){var s=void 0!==r,o=s?r:new N(w),a=this.st(),c=a.K;s||(o.it(this,3),o.in(),void 0===e&&0!=(2097152&this.K)&&(e=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.an("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,g=a.ei;0!=(33554432&c)?(l=a.Yn,d=t):0!=(16777216&c)?(l=a.Qn,d=n,a.nn()):(g=a.ri,l=new _("late cancellation observer"),a.Bt(l),d=n),f.invoke(g,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:e,value:l})}else a.si(t,n,o,e,v);return o},N.prototype.Dt=function(){return 65535&this.K},N.prototype.ti=function(){return 0!=(117506048&this.K)},N.prototype.wt=function(){return 67108864==(67108864&this.K)},N.prototype.ui=function(t){this.K=-65536&this.K|65535&t},N.prototype.ii=function(){this.K=33554432|this.K,this.an("promiseFulfilled",this)},N.prototype.oi=function(){this.K=16777216|this.K,this.an("promiseRejected",this)},N.prototype.hi=function(){this.K=67108864|this.K,this.an("promiseResolved",this)},N.prototype.Kn=function(){this.K=4194304|this.K},N.prototype.ai=function(){return(4194304&this.K)>0},N.prototype.ci=function(){this.K=-65537&this.K},N.prototype.It=function(){this.K=65536|this.K,this.an("promiseCancelled",this)},N.prototype.At=function(){this.K=8388608|this.K},N.prototype.ni=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.fi=function(t){var n=0===t?this.Jn:this[4*t-4+3];if(n!==o)return void 0===n&&this.ct()?this.et():n},N.prototype.vi=function(t){return this[4*t-4+2]},N.prototype.di=function(t){return this[4*t-4+0]},N.prototype.li=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype._i=function(t){t.K;var n=t.Qn,i=t.Yn,e=t.Zn,r=t.fi(0);void 0===r&&(r=o),this.si(n,i,e,r,null)},N.prototype.wi=function(t,n){var i=t.di(n),e=t.li(n),r=t.vi(n),s=t.fi(n);void 0===s&&(s=o),this.si(i,e,r,s,null)},N.prototype.si=function(t,n,i,e,r){var s=this.Dt();if(s>=65531&&(s=0,this.ui(0)),0===s)this.Zn=i,this.Jn=e,"function"==typeof t&&(this.Qn=null===r?t:h.domainBind(r,t)),"function"==typeof n&&(this.Yn=null===r?n:h.domainBind(r,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=e,"function"==typeof t&&(this[u+0]=null===r?t:h.domainBind(r,t)),"function"==typeof n&&(this[u+1]=null===r?n:h.domainBind(r,n))}return this.ui(s+1),s},N.prototype.Pn=function(t,n){this.si(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.xn(i(),!1);var e=m(t,this);if(!(e instanceof N))return this.En(t);n&&this.it(e,2);var r=e.st();if(r!==this){var s=r.K;if(0==(50397184&s)){var u=this.Dt();u>0&&r._i(this);for(var o=1;o<u;++o)r.wi(this,o);this.hi(),this.ui(0),this.gi(r)}else if(0!=(33554432&s))this.En(r.On());else if(0!=(16777216&s))this.Z(r.Bn());else{var h=new _("late cancellation observer");r.Bt(h),this.Z(h)}}else this.Z(i())}},N.prototype.xn=function(t,n,i){var e=h.ensureErrorObject(t),r=e===t;if(!r&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.vt(s,!0)}this.Bt(e,!!n&&r),this.Z(t)},N.prototype.$n=function(t){if(t!==w){var n=this;this.in(),this.Ht();var i=!0,e=this.hn(t,function(t){n.nt(t)},function(t){n.xn(t,i)});i=!1,this.Vt(),void 0!==e&&n.xn(e,!0)}},N.prototype.yi=function(t,n,i,e){var r=e.K;if(0==(65536&r)){var s;e.Ht(),n===g?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new l("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=e.Vt();0==(65536&(r=e.K))&&(s===y?e.Z(i):s===R?e.xn(s.e,!1):(b.checkForgottenReturns(s,u,"",e,this),e.nt(s)))}},N.prototype.st=function(){for(var t=this;t.wt();)t=t.yt();return t},N.prototype.yt=function(){return this.Yn},N.prototype.gi=function(t){this.Yn=t},N.prototype.mi=function(t,n,i,r){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Mt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,r)===R&&t.Z(R.e)):n===e?t.En(e.call(i)):i instanceof s?i.Rn(t):u||t instanceof p?t.Rt():i.cancel()):"function"==typeof n?u?(h&&t.ni(),this.yi(n,i,r,t)):n.call(i,r,t):i instanceof s?i.Tn()||(0!=(33554432&o)?i.Nn(r,t):i.Dn(r,t)):u&&(h&&t.ni(),0!=(33554432&o)?t.En(r):t.Z(r))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,e=t.receiver,r=t.value;"function"==typeof n?i instanceof N?this.yi(n,e,r,i):n.call(e,r,i):i instanceof N&&i.Z(r)},N.prototype.ei=function(t){this.mi(t.promise,t.handler,t.receiver,t.value)},N.prototype.pi=function(t,n,i){var e=this.Zn,r=this.fi(0);this.Zn=void 0,this.Jn=void 0,this.mi(e,t,r,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var e=i();return this.Bt(e),this.Z(e)}this.ii(),this.Yn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.rn())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.oi(),this.Qn=t,this.ai())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var e=this.di(i),r=this.vi(i),s=this.fi(i);this.ki(i),this.mi(r,e,s,n)}},N.prototype.bi=function(t,n){for(var i=1;i<t;i++){var e=this.li(i),r=this.vi(i),s=this.fi(i);this.ki(i),this.mi(r,e,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Qn;this.pi(this.Yn,i,t),this.bi(n,i)}else{var e=this.Yn;this.pi(this.Qn,e,t),this.Ai(n,e)}this.ui(0)}this.un()},N.prototype.Jt=function(){var t=this.K;return 0!=(33554432&t)?this.Yn:0!=(16777216&t)?this.Qn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(w);return{promise:t,resolve:D,reject:C}},h.notEnumerableProp(N,"Ti",i),t("./method")(N,w,m,r,b),t("./bind")(N,w,m,b),t("./cancel")(N,p,r,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,p,m,w,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,r,w,m,s,b),t("./map.js")(N,p,r,m,w,b),t("./nodeify.js")(N),t("./promisify.js")(N,w),t("./props.js")(N,p,m,r),t("./race.js")(N,w,m,r),t("./reduce.js")(N,p,r,m,w,b),t("./settle.js")(N,p,b),t("./some.js")(N,p,r),t("./timers.js")(N,w,b),t("./using.js")(N,r,m,A,w,b),t("./any.js")(N),t("./each.js")(N,w),t("./filter.js")(N,w),h.toFastProperties(N),h.toFastProperties(N.prototype),x({a:1}),x({b:2}),x({c:3}),x(1),x(function(){}),x(void 0),x(!1),x(new N(w)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,e,r,s){var u=t("./util");function o(t){var e=this.wn=new n(i);t instanceof n&&e.it(t,3),e.ot(this),this.zn=t,this.Dt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Dt},o.prototype.promise=function(){return this.wn},o.prototype._init=function t(i,s){var o=e(this.zn,this.wn);if(o instanceof n){var h=(o=o.st()).K;if(this.zn=o,0==(50397184&h))return this.wn.ni(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Bn()):this.Rt();o=o.On()}if(null!==(o=u.asArray(o)))0!==o.length?this.Si(o):-5===s?this.Ei():this.Gn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=r("expecting an array or an iterable object but got "+u.classString(o)).reason();this.wn.xn(a,!1)}},o.prototype.Si=function(t){var i=this.getActualLength(t.length);this.Dt=i,this.zn=this.shouldCopyValues()?new Array(i):this.zn;for(var r=this.wn,s=!1,u=null,o=0;o<i;++o){var h=e(t[o],r);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.Pn(this,o),this.zn[o]=h):s=0!=(33554432&u)?this.Nn(h.On(),o):0!=(16777216&u)?this.Dn(h.Bn(),o):this.Rn(o):s=this.Nn(h,o)}s||r.ni()},o.prototype.Tn=function(){return null===this.zn},o.prototype.Gn=function(t){this.zn=null,this.wn.En(t)},o.prototype.Rt=function(){!this.Tn()&&this.wn.dt()&&(this.zn=null,this.wn.Rt())},o.prototype.Z=function(t){this.zn=null,this.wn.xn(t,!1)},o.prototype.Nn=function(t,n){this.zn[n]=t;var i=++this.Wn;return i>=this.Dt&&(this.Gn(this.zn),!0)},o.prototype.Rn=function(){return this.Rt(),!0},o.prototype.Dn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.Tn()){var t=this.zn;if(this.Rt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var e={},r=t("./util"),s=t("./nodeback"),u=r.withAppended,o=r.maybeWrapAsError,h=r.canEvaluate,a=t("./errors").TypeError,c={Ri:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Ri"].join("|")+")$"),v=function(t){return r.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Ri}catch(t){return!1}}function w(t,n,i){var e=r.getDataPropertyOrDefault(t,n+i,c);return!!e&&_(e)}function g(t,n,i,e){for(var s=r.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=e===v||v(h);"function"!=typeof c||_(c)||w(t,h,n)||!e(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var e=0;e<t.length;e+=2){var r=t[e];if(i.test(r))for(var s=r.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var r=h;h===e&&(r=this);var a=new n(i);a.in();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(r,u(arguments,f))}catch(t){a.xn(o(t),!0,!0)}return a.ti()||a.ni(),a}return"string"==typeof l&&(t=c),r.notEnumerableProp(_,"Ri",!0),_};function p(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=g(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,e,f,v,n,u);else{var l=s(v,function(){return m(f,e,f,v,n,u)});r.notEnumerableProp(l,"Ri",!0),t[d]=l}}return r.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+r.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?e:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return r.copyDescriptors(t,u,l),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,e=n.suffix;"string"!=typeof e&&(e="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!r.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=r.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&r.isClass(c)&&(p(c.prototype,e,s,u,i),p(c,e,s,u,i))}return p(t,e,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,e,r){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,e){this[t]=i,this[t+n]=e,t++}return function(e){n=e.size,t=0;var r=new Array(2*e.size);return e.forEach(i,r),r}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var e=h.keys(t),r=e.length;n=new Array(2*r);for(var u=0;u<r;++u){var o=e[u];n[u]=t[o],n[u+r]=o}}this.constructor$(n),this.Ii=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=e(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.Nn=function(t,n){this.zn[n]=t;var i=++this.Wn;if(i>=this.Dt){var e;if(this.Ii)e=function(t){for(var n=new s,i=t.length/2|0,e=0;e<i;++e){var r=t[i+e],u=t[e];n.set(r,u)}return n}(this.zn);else{e={};for(var r=this.length(),u=0,o=this.length();u<o;++u)e[this.zn[u+r]]=this.zn[u]}return this.Gn(e),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function e(t){this.Ni=t,this.Dt=0,this.Di=0}e.prototype.Ci=function(t){return this.Ni<t},e.prototype.G=function(t){var n=this.length();this.xi(n+1);var i=this.Di+n&this.Ni-1;this[i]=t,this.Dt=n+1},e.prototype.push=function(t,n,i){var e=this.length()+3;if(this.Ci(e))return this.G(t),this.G(n),void this.G(i);var r=this.Di+e-3;this.xi(e);var s=this.Ni-1;this[r+0&s]=t,this[r+1&s]=n,this[r+2&s]=i,this.Dt=e},e.prototype.shift=function(){var t=this.Di,n=this[t];return this[t]=void 0,this.Di=t+1&this.Ni-1,this.Dt--,n},e.prototype.length=function(){return this.Dt},e.prototype.xi=function(t){this.Ni<t&&this.Pi(this.Ni<<1)},e.prototype.Pi=function(t){var n=this.Ni;this.Ni=t;var i=this.Di,e=this.Dt,r=i+e&n-1;!function(t,n,i,e,r){for(var s=0;s<r;++s)i[s+e]=t[s+n],t[s+n]=void 0}(this,0,this,n,r)},n.exports=e},{}],27:[function(t,n,i){n.exports=function(n,i,e,r){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=e(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return r("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,e,r){this.constructor$(t);var u=o();this.Oi=null===u?i:h.domainBind(u,i),void 0!==e&&(e=n.resolve(e)).sn(this),this.Bi=e,this.Li=null,this.Mi=r===s?Array(this.Dt):0===r?null:void 0,this.wn.in(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.Gn(t):n.Z(t)}function v(t,n,i,r){if("function"!=typeof n)return e("expecting a function but got "+h.classString(n));var s=new c(t,n,i,r);return s.promise()}function d(t){this.accum=t,this.array.Ui(t);var i=r(this.value,this.array.wn);return i instanceof n?(this.array.Li=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,e=this.array,r=e.wn,s=a(e.Oi);r.Ht(),(i=void 0!==e.Mi?s.call(r.et(),t,this.index,this.length):s.call(r.et(),this.accum,t,this.index,this.length))instanceof n&&(e.Li=i);var o=r.Vt();return u.checkForgottenReturns(i,o,void 0!==e.Mi?"Promise.each":"Promise.reduce",r),i}h.inherits(c,i),c.prototype.Ui=function(t){void 0!==this.Mi&&null!==this.Mi&&t!==s&&this.Mi.push(t)},c.prototype.Fi=function(t){return null!==this.Mi&&this.Mi.push(t),this.Mi},c.prototype._init=function(){},c.prototype.Ei=function(){this.Gn(void 0!==this.Mi?this.Mi:this.Bi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.Gn=function(t){this.wn.nt(t),this.zn=null},c.prototype._resultCancelled=function(t){if(t===this.Bi)return this.Rt();this.Tn()||(this._resultCancelled$(),this.Li instanceof n&&this.Li.cancel(),this.Bi instanceof n&&this.Bi.cancel())},c.prototype.Si=function(t){var i,e;this.zn=t;var r=t.length;if(void 0!==this.Bi?(i=this.Bi,e=0):(i=n.resolve(t[0]),e=1),this.Li=i,!i.isRejected())for(;e<r;++e){var s={accum:null,value:t[e],index:e,length:r,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Mi&&(i=i.J(this.Fi,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,e){return v(t,n,i,e)}}},{"./util":36}],29:[function(t,n,i){var s,u,h,a,c,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,_=process.nextTick;s=v.isRecentNode?function(t){l.call(k,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var w=d.resolve();s=function(t){w.then(t)}}else s="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in r.documentElement?(u=r.createElement("div"),h={attributes:!0},a=!1,c=r.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,h),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,h),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=s},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,e){var r=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Hi=function(t,n){this.zn[t]=n;var i=++this.Wn;return i>=this.Dt&&(this.Gn(this.zn),!0)},u.prototype.Nn=function(t,n){var i=new r;return i.K=33554432,i.Vi=t,this.Hi(n,i)},u.prototype.Dn=function(t,n){var i=new r;return i.K=16777216,i.Vi=t,this.Hi(n,i)},n.settle=function(t){return e.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=r.isArray,h={};function a(t){this.constructor$(t),this.zi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),r=i.promise();return i.setHowMany(n),i.init(),r}r.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.zi){this._init$(void 0,-5);var t=o(this.zn);!this.Tn()&&t&&this.zi>this.qi()&&this.Z(this.Gi(this.length()))}else this.Gn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.zi},a.prototype.setHowMany=function(t){this.zi=t},a.prototype.Nn=function(t){return this.ji(t),this.Qi()===this.howMany()&&(this.zn.length=this.howMany(),1===this.howMany()&&this.Xi?this.Gn(this.zn[0]):this.Gn(this.zn),!0)},a.prototype.Dn=function(t){return this.Yi(t),this.Zi()},a.prototype.Rn=function(){return this.zn instanceof n||null==this.zn?this.Rt():(this.Yi(h),this.Zi())},a.prototype.Zi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.zn.length;++n)this.zn[n]!==h&&t.push(this.zn[n]);return t.length>0?this.Z(t):this.Rt(),!0}return!1},a.prototype.Qi=function(){return this.Wn},a.prototype.Ji=function(){return this.zn.length-this.length()},a.prototype.Yi=function(t){this.zn.push(t)},a.prototype.ji=function(t){this.zn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Ji()},a.prototype.Gi=function(t){var n="Input array must contain at least "+this.zi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.Gi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Vi=t.ti()?t.Jt():void 0):(this.K=0,this.Vi=void 0)}n.prototype.Jt=function(){return this.Vi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Jt()},e=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Jt()},r=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.$i=function(){return 65536==(65536&this.K)},t.prototype.Pt=function(){return this.st().$i()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return r.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.nn(),e.call(t)},t.prototype.On=function(){return this.Jt()},t.prototype.Bn=function(){return this.nn(),this.Jt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var e=t("./util"),r=e.errorObj,s=e.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return r.e=t,r}}(t);if(h===r){o&&o.Ht();var a=n.reject(h.e);return o&&o.Vt(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Zn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ht(),o.in(),u&&u.Vt();var a=!0,c=e.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.xn(t,a,!0),o=null)});return a=!1,o&&c===r&&(o.xn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){h(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,r){var s,h;return void 0!==r?(s=n.resolve(r).J(a,null,null,t,void 0),e.cancellation()&&r instanceof n&&s.ot(r)):(s=new n(i),h=o(function(){s.En()},+t),e.cancellation()&&s.ot(new u(h)),s.in()),s.ni(),s};function v(t){return h(this.handle),t}function d(t){throw h(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,h,a=new u(o(function(){i.isPending()&&function(t,n,i){var e;e="string"!=typeof n?n instanceof f?n:new s("operation timed out"):new s(n),r.markAsOriginatingFromRejection(e),t.Bt(e),t.Z(e),null!=i&&i.cancel()}(i,n,h)},t=+t));return e.cancellation()?(h=this.then(),(i=h.J(v,d,void 0,a,void 0)).ot(a)):i=this.J(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,e,r,s,u){var h=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=h.errorObj,v=h.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var r=0,u=t.length,o=new n(s);return function s(){if(r>=u)return o.En();var h=function(t){var n=e(t);return n!==t&&"function"==typeof t.Ki&&"function"==typeof t.te&&t.Ki()&&n.ie(t.te()),n}(t[r++]);if(h instanceof n&&h.Ki()){try{h=e(h.te().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function w(t,n,i){this.ee=t,this.wn=n,this.re=i}function g(t,n,i){this.constructor$(t,n,i)}function y(t){return w.isDisposer(t)?(this.resources[this.index].ie(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}w.prototype.data=function(){return this.ee},w.prototype.promise=function(){return this.wn},w.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},w.prototype.tryDispose=function(t){var n=this.resource(),i=this.re;void 0!==i&&i.Ht();var e=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Vt(),this.wn.se(),this.ee=null,e},w.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(g,w),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var e=this[i];e instanceof n&&e.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var r,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+h.classString(s));var o=!0;2===t&&Array.isArray(arguments[0])?(r=arguments[0],t=r.length,o=!1):(r=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=r[c];if(w.isDisposer(d)){var l=d;(d=d.promise()).ie(l)}else{var g=e(d);g instanceof n&&(d=g.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var p=new Array(a.length),c=0;c<p.length;++c)p[c]=n.resolve(a[c]).reflect();var k=n.all(p).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}A.Ht(),s=v(s);var e=o?s.apply(void 0,t):s(t),r=A.Vt();return u.checkForgottenReturns(e,r,"Promise.using",A),e}),A=k.lastly(function(){var t=new n.PromiseInspection(k);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.ie=function(t){this.K=131072|this.K,this.ue=t},n.prototype.Ki=function(){return(131072&this.K)>0},n.prototype.te=function(){return this.ue},n.prototype.se=function(){this.K=-131073&this.K,this.ue=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,r());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,o=n("./es5"),h=void 0===u,a={e:{}},c=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function v(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var e={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,e),t}var w=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var e=[],r=d.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return e}for(var u=0;u<s.length;++u){var h=s[u];if(!r[h]){r[h]=!0;var a=d.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&e.push(h)}}t=o.getPrototypeOf(t)}return e}}var e={}.hasOwnProperty;return function(i){if(n(i))return[];var r=[];t:for(var s in i)if(e.call(i,s))r.push(s);else{for(var u=0;u<t.length;++u)if(e.call(t[u],s))continue t;r.push(s)}return r}}(),g=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function p(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return p(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],e=t[Symbol.iterator]();!(n=e.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,e=n.length>0&&!(1===n.length&&"constructor"===n[0]),r=g.test(t+"")&&o.names(t).length>0;if(i||e||r)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:w,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var e=d.getOwnPropertyDescriptor(t,n);return null!=e?null==e.get&&null==e.set?e.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:p,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function e(){for(var e in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(t,n){var i,e=t.length,r=new Array(e+1);for(i=0;i<e;++i)r[i]=t[i];return r[i]=n,r},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var e=new Array(t),r=0;r<t;++r)e[r]=n+r+i;return e},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.dn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var e=o.names(t),r=0;r<e.length;++r){var s=e[r];if(i(s))try{o.defineProperty(n,s,o.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),D.isNode&&D.toFastProperties(process);try{throw new f}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var S,E=function(){},R=function(t){return t};function I(t,n,i){var e;return function(){for(var r=arguments.length,s=new Array(r),u=0;u<r;u++)s[u]=arguments[u];var o=this,h=i&&!e;void 0!==e&&b.oe(e),e=b.he(function(){e=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(S=T)&&S.config({warnings:!1,longStackTraces:!1});var N,D,C,x,P,O;S&&(x=S.setScheduler(E),N=x,P={ae:function(t){D=t,N(C)},ce:C=function(){var t=D;t&&(D=void 0,t())}},S.setScheduler(P.ae));function B(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){return(M=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function U(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,M(t,n)}!function(t){t.fe="web",t.ve="android",t.de="android-tv",t._e="ios",t.we="tvos",t.ye="chromecast"}(O||(O={}));var F=u?u.userAgent:"",H=F.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),V=F.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),z=F.match(/Android ([0-9\.]+)/i),X=F.match(/Windows NT ([0-9\.]+)/i),W=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),G=F.match(/OPR\/(\d+\.\d+)/i),j=F.match(/Tizen ([0-9\.]+)/i),Q=function(){function n(){this.me=Boolean("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.pe=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.ke=/Windows NT/i.test(F),this.Ae=X?w(X[1]):0,this.be=/Android/i.test(F),this.Te=z?w(z[1]):0,this.Se=/windows phone (8|8\.1)/i.test(F),this.Ee=/iPhone/i.test(F),this.Re=/iPad/i.test(F),this.Ie=this.pe&&this.me&&!this.Re,this.Ne=/iPod/i.test(F),this.De=/Mobile Safari/i.test(F),this.Ce=/EOSSTB/i.test(F),this.xe=(this.Ee||this.Re||this.Ie||this.Ne)&&!this.Se,this.Pe=this.Se||this.xe||this.be||this.De,this.Oe=/CriOS/i.test(F),this.Be=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Oe,this.Le=this.Be&&/Edg\//i.test(u.userAgent),this.Me=V?_(V[1],10):0,this.Ue=Boolean(t.chrome||/Chrome/i.test(F)||/CriOS/i.test(F)),this.Fe=H?_(H[1],10):0,this.He=/SMART-TV.*Tizen/i.test(F),this.Ve=j?w(j[1]):0,this.ze=/webos|web0s/i.test(F),this.Xe=/Edge\/\d+/i.test(F),this.We=/Trident/i.test(F),this.qe=this.We&&!t.ActiveXObject&&"ActiveXObject"in t,this.Ge=/Vivaldi/i.test(F),this.je=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Qe=q?w(q[1]):0,this.Ye=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Se&&!this.He,this.Ze=W?w(W[2]):0,this.Je=Boolean(G),this.$e=G?w(G[1]):0,this.Ke=/CrKey/.test(F),this.tr=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(F),this.nr="ios"===O.de,this.ir="ios"===O.ve,this.er=this.ir||this.nr,this.rr="ios"===O._e,this.sr="ios"===O.we,this.ur="ios"===O.ye}return L(n,[{key:"hr",get:function(){return this.me}},{key:"ar",get:function(){return this.pe}},{key:"cr",get:function(){return this.ke}},{key:"dr",get:function(){return this.Ae}},{key:"_r",get:function(){return this.be}},{key:"wr",get:function(){return this.Te}},{key:"gr",get:function(){return this.Se}},{key:"yr",get:function(){return this.Ee}},{key:"mr",get:function(){return this.Re}},{key:"pr",get:function(){return this.Ie}},{key:"kr",get:function(){return this.Ne}},{key:"Ar",get:function(){return this.xe}},{key:"Tr",get:function(){return this.Ce}},{key:"Sr",get:function(){return this.De}},{key:"Er",get:function(){return this.Pe}},{key:"Rr",get:function(){return this.Oe}},{key:"Ir",get:function(){return this.Be}},{key:"Nr",get:function(){return this.Fe}},{key:"Dr",get:function(){return this.Le}},{key:"Cr",get:function(){return this.Me}},{key:"xr",get:function(){return this.He}},{key:"Pr",get:function(){return this.Ve}},{key:"Or",get:function(){return this.ze}},{key:"Br",get:function(){return this.Xe}},{key:"Lr",get:function(){return this.We}},{key:"Mr",get:function(){return this.qe}},{key:"Ur",get:function(){return this.Ge}},{key:"Fr",get:function(){return this.je}},{key:"Hr",get:function(){return this.Qe}},{key:"Vr",get:function(){return this.Ye}},{key:"zr",get:function(){return this.Ze}},{key:"Xr",get:function(){return this.Je}},{key:"Wr",get:function(){return this.$e}},{key:"qr",get:function(){return this.Ke}},{key:"Gr",get:function(){return this.tr}},{key:"jr",get:function(){if(!(this.Or||this.xr))return!1;var t=this.Nr;return void 0===t||Number(t)<56}},{key:"Qr",get:function(){return this.nr}},{key:"Yr",get:function(){return this.ir}},{key:"Zr",get:function(){return this.er}},{key:"Jr",get:function(){return this.rr}},{key:"$r",get:function(){return this.sr}},{key:"Kr",get:function(){return this.ur}},{key:"ts",get:function(){return this.Ue}}]),n}();Q.es=new Q;var Y=Q.es,Z={}.hasOwnProperty,J={}.toString;function $(t){return null!=t}var K=Array.isArray||function(t){return"[object Array]"===J.call(t)};function tt(t){return nt(t)&&Z.call(t,"length")&&ot(t.length)}function nt(t){return"object"==typeof t&&null!==t}function it(t){return nt(t)&&t.constructor&&t.constructor===d}function et(t){return"string"==typeof t}function rt(t){return"boolean"==typeof t}function st(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===J.call(t)}function ot(t){return"number"==typeof t}var ht=!(Y.Lr&&!Y.Mr),at=t.console;function ct(t){if(nt(t))try{return JSON.stringify(t)}catch(t){}return t}function ft(t){return t.map(ct).join(" ")}function vt(t){var n=at&&at[t];return n?n.bind&&ht?n.bind(at):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];at[t](ft(i))}:void 0}var dt,lt=vt("log")||E,_t=vt("warn")||lt.bind(void 0,"WARNING:"),wt=vt("error")||lt.bind(void 0,"ERROR:"),gt=(dt=at&&at.assert)?dt.bind&&ht?dt.bind(at):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.assert(t,ft(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];wt.apply(void 0,["Assertion failed:"].concat(i))}},yt=pt,mt=null;try{mt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function pt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function kt(t){return!0===(t&&t.rs)}pt.prototype.rs,d.defineProperty(pt.prototype,"rs",{value:!0}),pt.isLong=kt;var At={},bt={};function Tt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=bt[t])?e:(i=Et(t,(0|t)<0?-1:0,!0),r&&(bt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=At[t])?e:(i=Et(t,t<0?-1:0,!1),r&&(At[t]=i),i)}function St(t,n){if(g(t))return n?Bt:Ot;if(n){if(t<0)return Bt;if(t>=Ct)return Ht}else{if(t<=-xt)return Vt;if(t+1>=xt)return Ft}return t<0?St(-t,n).neg():Et(t%Dt|0,t/Dt|0,n)}function Et(t,n,i){return new pt(t,n,i)}pt.fromInt=Tt,pt.fromNumber=St,pt.fromBits=Et;var Rt=l.pow;function It(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ot;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw f("interior hyphen");if(0===e)return It(t.substring(1),n,i).neg();for(var r=St(Rt(i,8)),s=Ot,u=0;u<t.length;u+=8){var o=l.min(8,t.length-u),h=_(t.substring(u,u+o),i);if(o<8){var a=St(Rt(i,o));s=s.mul(a).add(St(h))}else s=(s=s.mul(r)).add(St(h))}return s.unsigned=n,s}function Nt(t,n){return"number"==typeof t?St(t,n):"string"==typeof t?It(t,n):Et(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}pt.fromString=It,pt.fromValue=Nt;var Dt=4294967296,Ct=Dt*Dt,xt=Ct/2,Pt=Tt(1<<24),Ot=Tt(0);pt.ZERO=Ot;var Bt=Tt(0,!0);pt.UZERO=Bt;var Lt=Tt(1);pt.ONE=Lt;var Mt=Tt(1,!0);pt.UONE=Mt;var Ut=Tt(-1);pt.NEG_ONE=Ut;var Ft=Et(-1,2147483647,!1);pt.MAX_VALUE=Ft;var Ht=Et(-1,-1,!0);pt.MAX_UNSIGNED_VALUE=Ht;var Vt=Et(0,-2147483648,!1);pt.MIN_VALUE=Vt;var zt=pt.prototype;zt.toInt=function(){return this.unsigned?this.low>>>0:this.low},zt.toNumber=function(){return this.unsigned?(this.high>>>0)*Dt+(this.low>>>0):this.high*Dt+(this.low>>>0)},zt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Vt)){var n=St(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=St(Rt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),h=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},zt.getHighBits=function(){return this.high},zt.getHighBitsUnsigned=function(){return this.high>>>0},zt.getLowBits=function(){return this.low},zt.getLowBitsUnsigned=function(){return this.low>>>0},zt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Vt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},zt.isZero=function(){return 0===this.high&&0===this.low},zt.eqz=zt.isZero,zt.isNegative=function(){return!this.unsigned&&this.high<0},zt.isPositive=function(){return this.unsigned||this.high>=0},zt.isOdd=function(){return 1==(1&this.low)},zt.isEven=function(){return 0==(1&this.low)},zt.equals=function(t){return kt(t)||(t=Nt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},zt.eq=zt.equals,zt.notEquals=function(t){return!this.eq(t)},zt.neq=zt.notEquals,zt.ne=zt.notEquals,zt.lessThan=function(t){return this.comp(t)<0},zt.lt=zt.lessThan,zt.lessThanOrEqual=function(t){return this.comp(t)<=0},zt.lte=zt.lessThanOrEqual,zt.le=zt.lessThanOrEqual,zt.greaterThan=function(t){return this.comp(t)>0},zt.gt=zt.greaterThan,zt.greaterThanOrEqual=function(t){return this.comp(t)>=0},zt.gte=zt.greaterThanOrEqual,zt.ge=zt.greaterThanOrEqual,zt.compare=function(t){if(kt(t)||(t=Nt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},zt.comp=zt.compare,zt.negate=function(){return!this.unsigned&&this.eq(Vt)?Vt:this.not().add(Lt)},zt.neg=zt.negate,zt.add=function(t){kt(t)||(t=Nt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,a+=(c+=e+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,Et((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},zt.subtract=function(t){return kt(t)||(t=Nt(t)),this.add(t.neg())},zt.sub=zt.subtract,zt.multiply=function(t){if(this.isZero())return Ot;if(kt(t)||(t=Nt(t)),mt)return Et(mt.mul(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned);if(t.isZero())return Ot;if(this.eq(Vt))return t.isOdd()?Vt:Ot;if(t.eq(Vt))return this.isOdd()?Vt:Ot;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Pt)&&t.lt(Pt))return St(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=r*h)>>>16,c+=(f+=e*h)>>>16,f&=65535,c+=(f+=r*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=e*o)>>>16,c&=65535,a+=(c+=r*u)>>>16,a+=n*h+i*o+e*u+r*s,Et((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},zt.mul=zt.multiply,zt.divide=function(t){if(kt(t)||(t=Nt(t)),t.isZero())throw f("division by zero");var n,i,e;if(mt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Et((this.unsigned?mt.div_u:mt.div_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Bt:Ot;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Bt;if(t.gt(this.shru(1)))return Mt;e=Bt}else{if(this.eq(Vt))return t.eq(Lt)||t.eq(Ut)?Vt:t.eq(Vt)?Lt:(n=this.shr(1).div(t).shl(1)).eq(Ot)?t.isNegative()?Lt:Ut:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Vt))return this.unsigned?Bt:Ot;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Ot}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var r=l.ceil(l.log(n)/l.LN2),s=r<=48?1:Rt(2,r-48),u=St(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=St(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Lt),e=e.add(u),i=i.sub(o)}return e},zt.div=zt.divide,zt.modulo=function(t){return kt(t)||(t=Nt(t)),mt?Et((this.unsigned?mt.rem_u:mt.rem_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},zt.mod=zt.modulo,zt.rem=zt.modulo,zt.not=function(){return Et(~this.low,~this.high,this.unsigned)},zt.and=function(t){return kt(t)||(t=Nt(t)),Et(this.low&t.low,this.high&t.high,this.unsigned)},zt.or=function(t){return kt(t)||(t=Nt(t)),Et(this.low|t.low,this.high|t.high,this.unsigned)},zt.xor=function(t){return kt(t)||(t=Nt(t)),Et(this.low^t.low,this.high^t.high,this.unsigned)},zt.shiftLeft=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Et(0,this.low<<t-32,this.unsigned)},zt.shl=zt.shiftLeft,zt.shiftRight=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Et(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},zt.shr=zt.shiftRight,zt.shiftRightUnsigned=function(t){if(kt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Et(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Et(32===t?n:n>>>t-32,0,this.unsigned)},zt.shru=zt.shiftRightUnsigned,zt.shr_u=zt.shiftRightUnsigned,zt.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this},zt.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)},zt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},zt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},zt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},pt.fromBytes=function(t,n,i){return i?pt.fromBytesLE(t,n):pt.fromBytesBE(t,n)},pt.fromBytesLE=function(t,n){return new pt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},pt.fromBytesBE=function(t,n){return new pt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Xt=yt,Wt=l.pow(2,-52);function qt(t,n,i){return l.min(l.max(t,n),i)}function Gt(t,n,i){return t===n||l.abs(t-n)<=i}function jt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Wt||i<l.max(l.abs(t),l.abs(n))*Wt}function Qt(t){return t!=t}function Yt(t,n){return t===n||Qt(t)&&Qt(n)}function Zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Jt(){return Date.now()||(new Date).getTime()}function $t(t){return t/1e3}var Kt,tn=Xt.fromNumber(9007199254740991);function nn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(tn))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function en(t){return t.ss===Kt.us}function rn(t){return t.ss===Kt.os}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.us=1]="us",t[t.hs=2]="hs",t[t.os=3]="os",t[t.as=4]="as",t[t.cs=9]="cs"}(Kt||(Kt={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(un.prototype=d.create(f.prototype)).constructor=un;var on=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,f.captureStackTrace&&f.captureStackTrace(sn(e),e.constructor),e}return U(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),hn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return U(n,t),n}(on),an=function(){function t(){}return t.prototype.fs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new hn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new hn;return new wn(n)},t}(),cn=function(){function t(t){this.vs=void 0,this.vs=t}var n=t.prototype;return n.ds=function(t){return this.vs.isEqualNode(t.vs)},n.ls=function(n){return new t(this.vs.cloneNode(n))},L(t,[{key:"ss",get:function(){return Kt.hs}},{key:"_s",get:function(){var t;return null!=(t=this.vs.localName)?t:mn(this.vs.nodeName)}},{key:"gs",get:function(){return this.vs.nodeName}},{key:"ys",get:function(){var t;return null!=(t=this.vs.namespaceURI)?t:void 0}},{key:"ps",get:function(){var t;return null!=(t=this.vs.prefix)?t:void 0}},{key:"ks",get:function(){return this.vs.nodeValue}}]),t}(),fn=function(){function t(t){this.As=void 0,this.bs=void 0,this.As=t}var n=t.prototype;return n.Ts=function(t){return this.Ss.filter(function(n){return gn(n)&&n.Es===t})},n.Rs=function(t,n){return this.Ss.filter(function(i){return gn(i)&&i._s===n&&i.ys===t})},n.Is=function(t){this.As.appendChild(t.Ns),this.bs&&this.bs.push(t)},n.ds=function(t){return this.As.isEqualNode(t.Ns)},L(t,[{key:"Ss",get:function(){return void 0===this.bs&&(this.bs=function(t){for(var n=[],i=0;i<t.length;i++){var e=yn(t.item(i));e&&n.push(e)}return n}(this.As.childNodes)),this.bs}},{key:"Ds",get:function(){return this.Ss.filter(gn)}},{key:"Ns",get:function(){return this.As}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.Cs=function(t){if(this.As.hasAttribute(t))return this.As.getAttribute(t)},i.xs=function(t,n){if(this.As.hasAttributeNS(t,n))return this.As.getAttributeNS(t,n)},i.Ps=function(t){this.As.removeAttribute(t)},i.Os=function(t,n){this.As.removeAttributeNS(t,n)},i.Bs=function(t,n){this.As.setAttribute(t,n)},i.Ls=function(t,n,i){this.As.setAttributeNS(t,n,i)},i.ls=function(t){return new n(this.As.cloneNode(t))},L(n,[{key:"ss",get:function(){return Kt.us}},{key:"_s",get:function(){var t;return null!=(t=this.As.localName)?t:mn(this.As.nodeName)}},{key:"ys",get:function(){var t;return null!=(t=this.As.namespaceURI)?t:void 0}},{key:"ps",get:function(){var t;return null!=(t=this.As.prefix)?t:void 0}},{key:"Es",get:function(){return this.As.nodeName}},{key:"Ms",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new cn(t.item(i)));return n}(this.As.attributes)}},{key:"Us",get:function(){return this.As.textContent}}]),n}(fn),dn=function(){function t(t){this.As=void 0,this.As=t}return t.prototype.ds=function(t){return this.Fs===t.Fs},L(t,[{key:"Fs",get:function(){return this.As.nodeValue}},{key:"Ns",get:function(){return this.As}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ls=function(t){return new n(this.As.cloneNode(t))},L(n,[{key:"ss",get:function(){return Kt.os}}]),n}(dn),_n=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ls=function(t){return new n(this.As.cloneNode(t))},L(n,[{key:"ss",get:function(){return Kt.as}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ls=function(t){return new n(this.As.cloneNode(t))},L(n,[{key:"ss",get:function(){return Kt.cs}},{key:"Hs",get:function(){return new vn(this.As.documentElement)}}]),n}(fn);function gn(t){return en(t)}function yn(t){switch(t.nodeType){case Kt.us:return new vn(t);case Kt.os:return new ln(t);case Kt.as:return new _n(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){An(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&An(i,null,t.length,t),t}function An(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,Sn=/[0-9a-fA-F]/,En=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Dn=d.prototype.toString,Cn=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},xn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return Cn(t)?t:Array.from(t)}function On(t){return t>=65&&t<=90}function Bn(t){return On(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Mn(t){return Ln(t)||Bn(t)}function Un(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Fn(t){return On(t)?t+32:t}function Hn(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var zn=l.min,Xn=String.fromCharCode,Wn=16384;function qn(t){for(var n=t.length,i=[],e=0;e<n;e+=Wn){var r=zn(e+Wn,n);i.push(Xn.apply(null,t.slice(e,r)))}return i.join("")}var Gn=/[^\0-\x7E]/,jn=/[\x2E\u3002\uFF0E\uFF61]/g,Qn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=l.floor,Zn=String.fromCharCode;function Jn(t){throw new RangeError(Qn[t])}function $n(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Kn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var e=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;e+=36)t=Yn(t/35);return Yn(e+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(jn,".")).split("."),n).join(".");return e+r}(t,function(t){return Gn.test(t)?"xn--"+function(t){for(var n=[],i=(t=$n(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Zn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>Yn((2147483647-r)/_)&&Jn("overflow"),r+=(f-e)*_,e=f;for(var w=0,g=t;w<g.length;w++){var y=g[w];if(y<e&&++r>2147483647&&Jn("overflow"),y==e){for(var m=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(m<k)break;var A=m-k,b=36-k;n.push(Zn(ii(k+A%b,0))),m=Yn(A/b)}n.push(Zn(ii(m,0))),s=ei(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function si(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return qn(n)}function ui(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){hi(t[i],n)}return n}function ci(){if(ni>=ti)throw new f("Invalid byte index");var t=255&Kn[ni];if(ni++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function fi(){var t,n;if(ni>ti)throw new f("Invalid byte index");if(ni===ti)return!1;if(t=255&Kn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ci())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ci()<<6|ci())>=2048)return ui(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ci()<<12|ci()<<6|ci())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function vi(t){return[37,Vn(t>>4),Vn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function _i(t){return li(t)||35===t||63===t||123===t||125===t}function wi(t){return _i(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yi(t){return gi(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=ai([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,vi(s))}return e}function pi(t,n){for(var i=[],e=0,r=$n(t);e<r.length;e++){var s=r[e];i.push.apply(i,mi(s,n))}return si(i)}function ki(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Un(t[e+1])&&Un(t[e+2])){var s=Hn(t[e+1])<<4|Hn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ai(t))}function Ai(t){return si(function(t){Kn=t.slice(),ti=Kn.length,ni=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(ki($n(t))))}function bi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new v;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Sn.test(t[a]);)c=c<<4|_(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new v;if(a-=f,o>6)throw new v;for(var d=0;a<s;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!Tn.test(t[a]))throw new v;for(;a<s&&Tn.test(t[a]);){var w=_(t[a],10);if(null===l)l=w;else{if(0===l)throw new v;if((l=10*l+w)>255)throw new v}a+=1}u[o]=u[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===s)throw new v}else if(a<s)throw new v;u[o]=c,o+=1}else{if(null!==h)throw new v("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var g=o-h;for(o=7;0!==o&&g>0;)e=h+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new v;return u}function Ti(t){var n=10,i=Rn;return En.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?_(t,n):void 0}var Si={Vs:4},Ei=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Vs:2,zs:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new v("Invalid code point in opaque host");var n=pi(t,di);return""===n?Si:{Vs:3,ee:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(Ai(t));if(Ei.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=Ti(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*l.pow(256,3-h);return o}}(i);return void 0!==e?{Vs:1,zs:e}:""===i?Si:{Vs:0,Xs:i}}function Ni(t){switch(t.Vs){case 0:return t.Xs;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.zs);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.zs)+"]";case 3:return t.ee;case 4:return""}}var Di=/\+/g;function Ci(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Di," "),o=o.replace(Di," ");var h=Ai(u),a=Ai(o);i.push([h,a])}}return i}function xi(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Pi(ai($n(e[0])))+"="+Pi(ai($n(e[1])))}return n}function Pi(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Mn(n)?i.push(r):i.push.apply(i,vi(r))}return qn(i)}var Oi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Bi(t){var n=""+t,i=Oi.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Mi(s))if(Ui(s)||r===i-1)e.push(Li);else{var u=t.charCodeAt(r+1);Ui(u)?(e.push(s,u),r++):e.push(Li)}else e.push(s)}return t.slice(0,n)+qn(e)}(n,i.index):n}var Li=65533,Mi=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Fi(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Hi(t){t.Ws.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ws,Ci(n))}function zi(t){if(t.qs){var n=xi(t.Ws);""===n&&(n=null),t.qs.qs.Gs=n}}var Xi=function(){function t(t){if(void 0===t&&(t=void 0),this.qs=null,null==t)this.Ws=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Xi&&Cn(s.Ws)&&(!xn||s[Symbol.iterator]===Wi))this.Ws=t.Ws.slice();else if(function(t){return null!=t&&(!!Cn(t)||!!xn&&"function"==typeof t[Symbol.iterator])}(t)){this.Ws=[];for(var n=0,i=Pn(t);n<i.length;n++){var e=Pn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Ws.push([Bi(e[0]),Bi(e[1])])}}else for(var r in this.Ws=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Ws.push([Bi(r),Bi(t[r])]);else(t=Bi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ws=Ci(t);var s}var n=t.prototype;return n.append=function(t,n){t=Bi(t),n=Bi(n),this.Ws.push([t,n]),zi(this)},n.delete=function(t){t=Bi(t);for(var n=this.Ws,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}zi(this)},n.get=function(t){t=Bi(t);for(var n=this.Ws,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Bi(t);for(var n=this.Ws,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Bi(t);for(var n=this.Ws,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Bi(t),n=Bi(n);for(var i=this.Ws,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),zi(this)},n.sort=function(){kn(this.Ws,Fi),zi(this)},n.toString=function(){return xi(this.Ws)},n.entries=function(){return new Qi(this.Ws,qi)},n.keys=function(){return new Qi(this.Ws,Gi)},n.values=function(){return new Qi(this.Ws,ji)},n.forEach=function(t){var n=this;this.Ws.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=Xi.prototype.entries;xn&&(Xi.prototype[Symbol.iterator]=Wi);var qi=function(t){return[t[0],t[1]]},Gi=function(t){return t[0]},ji=function(t){return t[1]},Qi=function(){function t(t,n){this.js=0,this.Ws=t,this.Qs=n}return t.prototype.next=function(){return this.js<this.Ws.length?{done:!1,value:this.Qs(this.Ws[this.js++])}:{done:!0,value:void 0}},t}(),Yi="null";var Zi=d.create(null);Zi.ftp=21,Zi.file=0,Zi.gopher=70,Zi.http=80,Zi.https=443,Zi.ws=80,Zi.wss=443;var Ji=/^(?:\.|%2e)$/i,$i=/^(?:\.|%2e){2}$/i;function Ki(t){return Ji.test(t)}function te(t){return $i.test(t)}function ne(t){return void 0!==Zi[t]}function ie(t){return ne(t.Ys)}function ee(t){return""!==t.Zs||""!==t.Js}function re(t){var n=t.length;if(!(n>=2))return!1;if(!ue(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function se(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ue(t){return 2===t.length&&se(qn(t))}function oe(t){return se(t)&&":"===t[1]}function he(t){var n=t.$s;0!==n.length&&("file"===t.Ys&&1===n.length&&oe(n[0])||n.pop())}function ae(t){return null===t.Ks||Si===t.Ks||t.tu||"file"===t.Ys}var ce=-1,fe=/\t|\n|\r/g,ve=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function de(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new _e,t=t.replace(ve,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=$n(t=t.replace(fe,"")),c=a.length,f=0;f<=c;){var d=f<c?a[f]:ce;switch(r){case 0:if(!Bn(d)){if(null===e){s.length=0,r=2;continue}throw new v("Invalid scheme")}s.push(Fn(d)),r=1;break;case 1:if(Mn(d)||43===d||45===d||46===d)s.push(Fn(d));else{if(58!==d){if(null===e){s.length=0,r=2,f=0;continue}throw new v("Invalid scheme")}var l=si(s);if(null!==e){if(ne(i.Ys)&&!ne(l))return;if(!ne(i.Ys)&&ne(l))return;if((ee(i)||null!==i.nu)&&"file"===l)return;if("file"===i.Ys&&(i.Ks===Si||null===i.Ks))return}if(i.Ys=l,null!==e)return void(ie(i)&&i.nu===Zi[i.Ys]&&(i.nu=null));s.length=0,"file"===i.Ys?r=13:ie(i)&&n&&n.Ys===i.Ys?r=3:ie(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.tu=!0,i.$s.push(""),r=18)}break;case 2:if(!n||n.tu&&35!==d)throw new v("Invalid scheme");n.tu&&35===d?(i.Ys=n.Ys,i.$s=n.$s.slice(),i.Gs=n.Gs,i.iu="",i.tu=!0,r=20):"file"!==n.Ys?(r=5,f-=1):(r=13,f-=1);break;case 3:47===d&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===d?r=9:(r=17,f-=1);break;case 5:i.Ys=n.Ys,ce===d?(i.Zs=n.Zs,i.Js=n.Js,i.Ks=n.Ks,i.nu=n.nu,i.$s=n.$s.slice(),i.Gs=n.Gs):47===d?r=6:63===d?(i.Zs=n.Zs,i.Js=n.Js,i.Ks=n.Ks,i.nu=n.nu,i.$s=n.$s.slice(),i.Gs="",r=19):35===d?(i.Zs=n.Zs,i.Js=n.Js,i.Ks=n.Ks,i.nu=n.nu,i.$s=n.$s.slice(),i.Gs=n.Gs,i.iu="",r=20):92===d&&ie(i)?r=6:(i.Zs=n.Zs,i.Js=n.Js,i.Ks=n.Ks,i.nu=n.nu,i.$s=n.$s.slice(),i.$s.pop(),r=17,f-=1);break;case 6:!ie(i)||47!==d&&92!==d?47===d?r=9:(i.Zs=n.Zs,i.Js=n.Js,i.Ks=n.Ks,i.nu=n.nu,r=17,f-=1):r=8;break;case 7:if(47!==d||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==d&&92!==d&&(r=9,f-=1);break;case 9:if(64===d){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||h){var y=si(mi(g,wi));h?i.Js+=y:i.Zs+=y}else h=!0}s.length=0}else if(ce===d||47===d||63===d||35===d||ie(i)&&92===d){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(d);break;case 10:case 11:if(null!==e&&"file"===i.Ys)f-=1,r=15;else if(58!==d||o)if(ce===d||47===d||63===d||35===d||ie(i)&&92===d){if(f-=1,ie(i)&&0===s.length)throw new v("Invalid host");if(null!==e&&0===s.length&&(ee(i)||null!==i.nu))return;var m=Ii(si(s),ie(i));if(i.Ks=m,s.length=0,r=16,null!==e)return}else 91===d?o=!0:93===d&&(o=!1),s.push(d);else{if(0===s.length)throw new v("Invalid host");var p=Ii(si(s),ie(i));if(i.Ks=p,s.length=0,r=12,11===e)return}break;case 12:if(Ln(d))s.push(d);else{if(!(ce===d||47===d||63===d||35===d||ie(i)&&92===d||null!==e))throw new v("Invalid port");if(0!==s.length){var k=_(si(s),10);if(k>65535)throw new v("Invalid port");i.nu=k===Zi[i.Ys]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ys="file",47===d||92===d?r=14:n&&"file"===n.Ys?ce===d?(i.Ks=n.Ks,i.$s=n.$s.slice(),i.Gs=n.Gs):63===d?(i.Ks=n.Ks,i.$s=n.$s.slice(),i.Gs="",r=19):35===d?(i.Ks=n.Ks,i.$s=n.$s.slice(),i.Gs=n.Gs,i.iu="",r=20):(re(a.slice(f))||(i.Ks=n.Ks,i.$s=n.$s.slice(),he(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.Ys&&!re(a.slice(f))&&(oe(n.$s[0])?i.$s.push(n.$s[0]):i.Ks=n.Ks),r=17,f-=1);break;case 15:if(ce===d||47===d||92===d||63===d||35===d)if(f-=1,null===e&&ue(s))r=17;else if(0===s.length){if(i.Ks=Si,null!==e)return;r=16}else{var A=Ii(si(s),ie(i));if(0===A.Vs&&"localhost"===A.Xs&&(A=Si),i.Ks=A,null!==e)return;s.length=0,r=16}else s.push(d);break;case 16:ie(i)?(r=17,47!==d&&92!==d&&(f-=1)):null===e&&63===d?(i.Gs="",r=19):null===e&&35===d?(i.iu="",r=20):ce!==d&&(r=17,47!==d&&(f-=1));break;case 17:if(ce===d||47===d||ie(i)&&92===d||null===e&&(63===d||35===d)){var b=si(s);if(te(b)?(he(i),47===d||ie(i)&&92===d||i.$s.push("")):!Ki(b)||47===d||ie(i)&&92===d?Ki(b)||("file"===i.Ys&&0===i.$s.length&&ue(s)&&(Si!==i.Ks&&null!==i.Ks&&(i.Ks=Si),s[1]=58,b=si(s)),i.$s.push(b)):i.$s.push(""),s.length=0,"file"===i.Ys&&(ce===d||63===d||35===d))for(;i.$s.length>1&&""===i.$s[0];)i.$s.shift();63===d?(i.Gs="",r=19):35===d&&(i.iu="",r=20)}else s.push.apply(s,mi(d,_i));break;case 18:63===d?(i.Gs="",r=19):35===d?(i.iu="",r=20):ce!==d&&(i.$s[0]+=si(mi(d,di)));break;case 19:null===e&&35===d?(i.iu="",r=20):ce!==d&&(i.Gs+=si(mi(d,ie(i)?yi:gi)));break;case 20:ce===d||0===d||(i.iu+=si(mi(d,li)))}f++}return i}function le(t,n,i,e){try{de(t,n,i,e)}catch(t){}}var _e=function(){this.Ys="",this.Zs="",this.Js="",this.Ks=null,this.nu=null,this.$s=[],this.Gs=null,this.iu=null,this.tu=!1};function we(t){switch(t.Ys){case"blob":var n;try{n=de(t.$s[0],null)}catch(t){return Yi}return we(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ys,e=t.Ks,r=t.nu,i+"://"+Ni(e)+(null===r?"":":"+r);case"file":default:return Yi}var i,e,r}var ge,ye,me,pe,ke,Ae,be,Te=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof Te&&"object"==typeof i.qs)r=n.qs;else try{r=de(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=de(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var s=e.Gs;this.qs=e,this.Gs=function(t){var n=new Xi;return null!==t&&Vi(n,t),n}(s),this.Gs.qs=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ys+":";if(null!==t.Ks?(i+="//",ee(t)&&(i+=t.Zs,""!==t.Js&&(i+=":"+t.Js),i+="@"),i+=Ni(t.Ks),null!==t.nu&&(i+=":"+t.nu)):null===t.Ks&&"file"===t.Ys&&(i+="//"),t.tu)i+=t.$s[0];else for(var e=0,r=t.$s;e<r.length;e++)i+="/"+r[e];return null!==t.Gs&&(i+="?"+t.Gs),n||null===t.iu||(i+="#"+t.iu),i}(this.qs)},set:function(t){var n;try{n=de(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.qs=n,Hi(this.Gs);var i=this.qs.Gs;null!==i&&Vi(this.Gs,i)}},{key:"origin",get:function(){return we(this.qs)}},{key:"protocol",get:function(){return this.qs.Ys+":"},set:function(t){le(t+":",null,this.qs,0)}},{key:"username",get:function(){return this.qs.Zs},set:function(t){ae(this.qs)||(this.qs.Zs=pi(t,wi))}},{key:"password",get:function(){return this.qs.Js},set:function(t){ae(this.qs)||(this.qs.Js=pi(t,wi))}},{key:"host",get:function(){var t=this.qs,n=t.Ks;if(null===n)return"";var i=t.nu,e=Ni(n);return null!==i&&(e+=":"+i),e},set:function(t){this.qs.tu||le(t,null,this.qs,10)}},{key:"hostname",get:function(){var t=this.qs.Ks;return null===t?"":Ni(t)},set:function(t){this.qs.tu||le(t,null,this.qs,11)}},{key:"port",get:function(){var t=this.qs.nu;return null===t?"":""+t},set:function(t){ae(this.qs)||(""===t?this.qs.nu=null:le(t,null,this.qs,12))}},{key:"pathname",get:function(){var t=this.qs.$s;return this.qs.tu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.qs.tu||(this.qs.$s.length=0,le(t,null,this.qs,16))}},{key:"search",get:function(){var t=this.qs.Gs;return null===t||""===t?"":"?"+t},set:function(t){t=Bi(t);var n=this.qs;if(""===t)return n.Gs=null,void Hi(this.Gs);"?"===t[0]&&(t=t.slice(1)),n.Gs="",le(t,null,n,19),Vi(this.Gs,t)}},{key:"searchParams",get:function(){return this.Gs}},{key:"hash",get:function(){var t=this.qs.iu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.qs.iu="",le(t,null,this.qs,20)):this.qs.iu=null}}])&&pn(n.prototype,i),e&&pn(n,e),t}();function Se(t){return t.document&&t.document.baseURI||t.location.href||""}function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Re(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Ie(t,n){Y.xr&&Y.Pr<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ne(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function De(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ce(t){t.removeAttribute("title")}function xe(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Pe(t){t.src&&(t.removeAttribute("src"),t.load())}function Oe(){return void 0!==r?r.createElement("video"):void 0}function Be(){return be||(be=Oe()),be}var Le=!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),Me=Be(),Ue=!(!Me||!Me.webkitShowPlaybackTargetPicker),Fe=function(){function t(){this.eu=void 0,this.ru=!1,this.hr=Le,this.Er=!1,this.su=!0,this.uu=!0}var n=t.prototype;return n.ou=function(){return 0},n.hu=function(t,n){return!0},n.au=function(t){return t>=1/6*2},L(t,[{key:"cu",get:function(){return void 0===this.eu&&(this.eu=this.ou()),this.eu}},{key:"fu",get:function(){return e.devicePixelRatio||1}},{key:"vu",get:function(){return Ue}},{key:"du",get:function(){return!1}},{key:"lu",get:function(){return!0}},{key:"_u",get:function(){return Y.ar||Y.Ar}},{key:"wu",get:function(){return!0}},{key:"gu",get:function(){return!0}},{key:"yu",get:function(){}},{key:"mu",get:function(){return!0}}]),t}(),He=function(){var t=Oe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Y.pr)return!1;var t=Oe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ve=function(t){function n(n){var i;return(i=t.call(this)||this).pu=void 0,i.pu=n,i.pu&&(i.ru=i.pu.ru,i.hr=i.pu.hr,i.su=He&&i.pu.su),i}U(n,t);var i=n.prototype;return i.ou=function(){return this.pu?this.pu.cu:t.prototype.ou.call(this)},i.hu=function(n,i){return this.pu?this.pu.hu(n,i):t.prototype.hu.call(this,n,i)},i.au=function(n){return this.pu?this.pu.au(n):t.prototype.au.call(this,n)},L(n,[{key:"yu",get:function(){var t;return null==(t=this.pu)?void 0:t.yu}},{key:"mu",get:function(){var t,n;return null==(t=null==(n=this.pu)?void 0:n.mu)||t}}]),n}(Fe),ze=function(t){function n(n){var i;return(i=t.call(this,n)||this).ru=!0,i.Er=!0,i}return U(n,t),n}(Ve),Xe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ou=function(){return pe.MediaSource?t.prototype.ou.call(this):1},n}(ze),We=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.hu=function(n,i){return!(i.ku>1920)&&t.prototype.hu.call(this,n,i)},L(n,[{key:"du",get:function(){return Y.Pr<3}},{key:"lu",get:function(){return Y.Pr>=3}}]),n}(Ve),qe=function(t){function n(){return t.call(this)||this}return U(n,t),n}(Fe),Ge=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.hu=function(t,n){if(t&&t.Au&&n&&n.Au){var i=je(t.Au,"mp4a.40.2")&&je(n.Au,"mp4a.40.5"),e=je(t.Au,"mp4a.40.5")&&je(n.Au,"mp4a.40.2"),r=je(t.Au,"mp4a.40.2")&&je(n.Au,"mp4a.40.34"),s=je(t.Au,"mp4a.40.34")&&je(n.Au,"mp4a.40.2"),u=je(t.Au,"mp4a.40.5")&&je(n.Au,"mp4a.40.34"),o=je(t.Au,"mp4a.40.34")&&je(n.Au,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},L(n,[{key:"yu",get:function(){if(Y.ar)return 4096}}]),n}(qe);function je(t,n){return t.indexOf(n)>-1}var Qe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.au=function(t){return t>=2},n}(qe),Ye=function(t){function n(){var n;return(n=t.call(this)||this).ru=Y.zr>=11,n.su=Y.Vr&&!(Y.Ar&&Y.zr<10),n}return U(n,t),n}(qe),Ze=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),L(n,[{key:"wu",get:function(){return!1}}]),n}(Ve),Je=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),L(n,[{key:"mu",get:function(){return!Y.cr||!!Y.Dr&&92!==Y.Cr}}]),n}(qe),$e=function(){function n(){var n;this.bu=void 0,this.Tu=new an,this.Su=new Ke,this.Eu=(n=function(){if(Y.Fr)return new Ge;if(Y.Br||Y.Lr)return new Qe;if(Y.Vr)return new Ye;if(Y.Ir)return new Je;return new qe}(),Y.Ar?new Xe(n):Y.Er?new ze(n):Y.xr?new We(n):Y.Or?new Ze(n):new Ve(n)),this.Ru=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.bu=function(){return t.performance.now()}:this.bu=Jt}var i=n.prototype;return i.Iu=function(){lt.apply(void 0,arguments)},i.Nu=function(){_t.apply(void 0,arguments)},i.Du=function(){wt.apply(void 0,arguments)},i.Cu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];gt.apply(void 0,[t].concat(i))},i.he=function(t,n){return o(t,n)},i.xu=function(t,n){return a(t,n)},i.oe=function(t){h(t)},i.Pu=function(t){c(t)},i.fs=function(t){return this.Tu.fs(t)},i.Ou=function(){return this.Bu.Ou()},i.Lu=function(){return this.Bu.Lu()},i.Mu=function(){return this.Bu.Mu()},i.Uu=function(){return this.Bu.Uu()},i.Fu=function(){return this.Bu.Fu()},i.Hu=function(t,n){return this.Bu.Hu(t,n)},i.Vu=function(t){return this.Bu.Vu(t)},i.zu=function(t,n){var i;return void 0===n&&(n=Se(pe)),i="object"!=typeof n||n instanceof Te?n:n.href,new Te(t,i)},i.Xu=function(n,i){if(void 0===i&&(i=Se(pe)),this.Ru){var e=et(i)?i:i.toString();return new t.URL(n,e).href}return this.zu(n,i).href},L(n,[{key:"Wu",get:function(){return this.Su}},{key:"qu",get:function(){return this.Eu}},{key:"Gu",get:function(){return{ju:u&&u.userAgent.match(/Android /i)?"Android":"other",Qu:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Yu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Zu",get:function(){return"languages"in u?u.languages.slice():[u.language]}}]),n}(),Ke=function(){function t(){}return L(t,[{key:"Ju",get:function(){return u.oscpu}},{key:"qu",get:function(){return u.platform}},{key:"$u",get:function(){return u.vendor}},{key:"Ku",get:function(){return u.vendorSub}}]),t}();var tr=A(function(t){!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,s=d.create(r.prototype),u=new C(e||[]);return s.to=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new f("Generator is already running");if(e===w){if("throw"===r)throw s;return P()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.io=i.arg;else if("throw"===i.method){if(e===c)throw e=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?w:l,h.arg===y)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=w,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",_="executing",w="completed",y={};function m(){}function p(){}function k(){}var A={};A[s]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(x([])));T&&T!==i&&e.call(T,s)&&(A=T);var S=k.prototype=m.prototype=d.create(A);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.to(n,t)}})}function R(t){var n;this.to=function(i,r){function s(){return new Promise(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"eo")?Promise.resolve(c.eo).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,y;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{eo:t}},E(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var s=new R(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.io=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new f("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:x(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function nr(){return(nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function ir(){var t=d.create(null);return t.ro=void 0,delete t.ro,t}function er(){return new hr}function rr(){return new cr}function sr(t){var n=er();for(var i in t)Z.call(t,i)&&n.set(i,t[i]);return n}var ur,or="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,hr=or||(ur=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ir(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ir(),this.size=0},n.keys=function(){return new ur(this.data,function(t,n){return n})},n.values=function(){return new ur(this.data,function(t,n){return t[n]})},n.entries=function(){return new ur(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ar,cr=or||(ar=function(){function t(t,n){this.so=void 0,this.uo=void 0,this.so=t,this.uo=n}var n=t.prototype;return n.next=function(){var t=this.so.next();return t.done?t:{value:this.uo(t.value),done:!1}},t}(),function(){function t(){this.oo=er()}var n=t.prototype;return n.get=function(t){return this.oo.get(""+t)},n.set=function(t,n){return this.oo.set(""+t,n),this},n.has=function(t){return this.oo.has(""+t)},n.delete=function(t){return this.oo.delete(""+t)},n.clear=function(){this.oo.clear()},n.keys=function(){return new ar(this.oo.keys(),function(t){return Number(t)})},n.values=function(){return this.oo.values()},n.entries=function(){return new ar(this.oo.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.oo.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.oo.size}}]),t}());var fr,vr="urn:mpeg:dash:mp4protection:2011",dr="cenc",lr="sinf",_r="skd",wr="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",gr="com.microsoft.playready",yr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",mr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",pr="urn:uuid:"+mr,kr="com.apple.fps.1_0";!function(t){t.ho="playready",t.ao="widevine",t.co="fairplay",t.fo="clearkey",t.vo="aes128"}(fr||(fr={}));var Ar={do:fr.ho,lo:gr,_o:"cenc",wo:"9a04f079-9840-4286-ab92-e65be0885f95",yo:wr,mo:"PlayReady"},br={do:fr.ao,lo:"com.widevine.alpha",_o:"cenc",wo:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",yo:yr,mo:"Widevine"},Tr={do:fr.co,lo:kr,_o:"skd",wo:mr,yo:pr,mo:"FairPlay"},Sr=(fr.co,{do:fr.fo,lo:"org.w3.clearkey",_o:"cenc",wo:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",yo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",mo:"ClearKey"}),Er=[Ar,br,Tr,Sr];function Rr(t){return Er.filter(function(n){return n.yo===t.toLowerCase()})}function Ir(t,n,i){return t.split(n).join(i)}function Nr(t,n){return null!=t&&-1!==t.indexOf(n)}function Dr(t,n){return null!=t&&t.substr(0,n.length)===n}function Cr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function xr(t,n){return t.toUpperCase()===n.toUpperCase()}function Pr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Or(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Pr(e,r/e.length)),e.slice(0,r)+t)}function Br(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Mr(n)}var Lr=16384;function Mr(t){var n=t.length;if(n<=Lr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Lr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Lr)));return i.join("")}var Ur=Y.Ir&&Y.Nr>=42||Y.Fr&&Y.Hr>=38||Y.Br||Y.Mr||Y.Xr&&Y.Wr>=29;function Fr(t,n){return Nr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Hr(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function Vr(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var zr,Xr=function(){function t(t){this.po=void 0,this.ko=er(),this.Ao=void 0,this.po=t}var n=t.prototype;return n.Fu=function(){return this.Vu(br)},n.Lu=function(){return this.Vu(Sr)},n.Uu=function(){return this.Vu(Ar)},n.Mu=function(){return this.Vu(Tr)},n.Vu=function(t){var n=t.yo,i=this.ko.get(n);if(i)return i;var e=this.Hu(t,'video/mp4; codecs="avc1.42000a"');return this.ko.set(n,e),e},n.Hu=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.po.bo(n.lo,[Fr(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.po.bo(n.lo,[Fr(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Ou=function(){return this.Ao||(this.Ao=this.To()),this.Ao},n.To=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==ke.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ur){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Lu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Wr(t,n){return Gr(t.slice(),n)}function qr(t,n){var i=Gr(t,n);return i!==t&&jr(i,void 0,t.length,t),t}function Gr(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){jr(i,n,s,r);var u=i;i=r,r=u}return i}function jr(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t.So=0]="So",t[t.Eo=1]="Eo",t[t.Ro=-1]="Ro"}(zr||(zr={}));var Qr=function(t,n){return(0|t)-(0|n)},Yr=function(t,n){return t===n?zr.So:t<n?zr.Ro:t>n?zr.Eo:g(t)?g(n)?zr.So:zr.Eo:zr.Ro};function Zr(t,n,i){return Gt(t,n,i)?zr.So:Yr(t,n)}var Jr=function(t,n){return jt(t,n)?zr.So:Yr(t,n)};function $r(t,n,i){var e=Kr(t,n,i);return-1===e?void 0:t[e]}function Kr(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function ts(t,n){var i=t.indexOf(n);return-1!==i&&(ns(t,i),!0)}function ns(t,n){t.splice(n,1)}function is(t,n){return-1!==t.indexOf(n)}function es(t){t.length=0}function rs(t){var n;return(n=[]).concat.apply(n,t)}function ss(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function us(t,n){return os.apply(this,arguments)}function os(){return(os=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=10;break}return r=n[e],t.next=5,i(r);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:e++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var as=function(){function t(){this.Io=!1,this.No=!1,this.Do=[],this.Co=[]}var n=t.prototype;return n.xo=function(){if(!this.Io&&!this.No){this.Io=!0;for(var t=0,n=this.Do.slice();t<n.length;t++){(0,n[t])()}this.Po()}},n.Po=function(){if(!this.No){this.No=!0;for(var t=0,n=this.Co.slice();t<n.length;t++){(0,n[t])()}es(this.Do),es(this.Co)}},n.Oo=function(t){this.No||this.Do.push(t)},n.Bo=function(t){this.No||ts(this.Do,t)},n.Lo=function(t){this.No||this.Co.push(t)},n.Mo=function(t){this.No||ts(this.Co,t)},t}(),cs=function(){function t(){this.Uo=new as}var n=t.prototype;return n.Fo=function(){this.Uo.xo()},n.Po=function(){this.Uo.Po()},n.Ho=function(t){var n=this.Uo;if(!n.Io)if(t.Io)n.xo();else if(!n.No&&!t.No){var i=function(){e(),n.xo()},e=function e(){t.Bo(i),t.Mo(e),n.Bo(i),n.Mo(e)};t.Oo(i),t.Lo(e),n.Oo(i),n.Lo(e)}},n.Vo=function(){var n=new t,i=new t,e=n.zo,r=i.zo,s=this.Uo,u=function(){e.Io&&r.No||r.Io&&e.No?s.xo():e.No&&r.No&&s.Po()};e.Oo(u),r.Oo(u),e.Lo(u),r.Lo(u),n.Ho(s),i.Ho(s);return s.Lo(function(){e.Bo(u),r.Bo(u),e.Mo(u),r.Mo(u)}),[n,i]},L(t,[{key:"zo",get:function(){return this.Uo}}]),t}(),fs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function vs(t){return t instanceof f&&"AbortError"===t.name}function ds(t){if(t&&t.Io)throw new fs}function ls(t){if(vs(t))throw t}function _s(t){if(!vs(t))throw t}function ws(t,n){return n?new T(function(i,e){if(n.Io)return t.catch(E),e(new fs);var r=function t(){n.Bo(t),e(new fs)};n.Oo(r),t.then(function(t){n.Bo(r),i(t)},function(t){n.Bo(r),e(t)})}):t}function gs(t,n){return t.then(function(t){return n.Po(),t},function(t){throw n.Po(),t})}function ys(t,n){var i=new cs;return n&&i.Ho(n),t(i.zo).then(function(t){return i.Fo(),t},function(t){throw i.Fo(),t})}var ms=T.resolve();function ps(t){ms.then(t)}function ks(t){t.then(E,E)}function As(t){return bs.apply(this,arguments)}function bs(){return(bs=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(E)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Ts(t,n){return new T(function(i,e){if(void 0!==n&&n.Io)e(new fs);else{var r=b.he(function(){void 0!==n&&n.Bo(s),i()},t),s=function(){b.oe(r),e(new fs)};void 0!==n&&n.Oo(s)}})}function Ss(t){return t&&"function"!=typeof t?t.slice():t}function Es(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Rs,Is=function(){function t(t){var n=this;this.Xo=ir(),this.Wo=void 0,this.qo=void 0,this.Go=function(t){n.jo(t)},this.qo=t||this}var n=t.prototype;return n.Qo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Yo(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Yo(e,n)}},n.Yo=function(t,n){var i=this.Xo[t];i?"function"==typeof i?this.Xo[t]=[i,n]:i.push(n):this.Xo[t]=n},n.Zo=function(t){if("function"==typeof t){var n=this.Wo;n?"function"==typeof n?this.Wo=[n,t]:n.push(t):this.Wo=t}},n.Jo=function(){this.Xo=ir(),this.Wo=void 0},n.jo=function(t){var n=Ss(this.Xo[t.type]),i=Ss(this.Wo);Es(this.qo,t,n),Es(this.qo,t,i)},n.$o=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ko(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Ko(e,n)}},n.Ko=function(t,n){var i=this.Xo[t];i&&("function"==typeof i?i===n&&(this.Xo[t]=void 0):ts(i,n))},n.th=function(t){if("string"==typeof t)this.Xo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Xo[i]=void 0}},n.nh=function(t){var n=this.Wo;n&&("function"==typeof n?n===t&&(this.Wo=void 0):ts(n,t))},n.ih=function(t,n){var i=this;return new T(function(e,r){if(n&&n.Io)return r(new fs);var s=function(t){o(),e(t)},u=function(){o(),r(new fs)},o=function(){i.$o(t,s),n&&n.Bo(u)};i.Qo(t,s),n&&n.Oo(u)})},t}(),Ns=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.jo=function(n){var i=this;ps(function(){t.prototype.jo.call(i,n)})},n}(Is),Ds=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Cs=["cenc"],xs=["cbcs","cbcs-1-9"],Ps=function(t){function n(n){var i;return(i=t.call(this,"rh")||this).eh=n,i}return U(n,t),n}(Ds),Os=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"sh")||this).eh=n,s.uh=i,s.sh=e,s.oh=r,s}return U(n,t),n}(Ds),Bs=function(t){function n(){return t.call(this,"hh")||this}return U(n,t),n}(Ds);!function(t){t.ah="fh",t.vh="dh"}(Rs||(Rs={}));var Ls=function(t){function n(n,i){var e;return(e=t.call(this,Rs.ah)||this)._o=n,e.lh=i,e}return U(n,t),n}(Ds),Ms=function(t){function n(){return t.call(this,Rs.vh)||this}return U(n,t),n}(Ds),Us=new y([0]).buffer,Fs=function(){function t(){this._h=void 0,this._h=[]}var n=t.prototype;return n.wh=function(t){for(var n=0,i=this._h;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.gh=function(t){for(var n=0,i=this._h;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.yh=function(t,n){this._h.forEach(function(n){return t(n[1],n[0])},n)},n.mh=function(t,n){this._h.push([t,n])},n.ph=function(){es(this._h)},L(t,[{key:"kh",get:function(){return this._h.length}}]),t}(),Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Vs=16383,zs=/[\t\n\f\r ]/g;function Xs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Ws()}function Ws(){throw new f("Invalid base64 input")}function qs(t){var n=t;zs.test(n)&&(n=n.replace(zs,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Ws();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=Xs(n.charCodeAt(h))<<18|Xs(n.charCodeAt(h+1))<<12|Xs(n.charCodeAt(h+2))<<6|Xs(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=Xs(n.charCodeAt(h))<<2|Xs(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=Xs(n.charCodeAt(h))<<10|Xs(n.charCodeAt(h+1))<<4|Xs(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function Gs(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Hs[e>>2]+Hs[(3&e)<<4|r>>4]+Hs[(15&r)<<2|s>>6]+Hs[63&s]));return u.join("")}function js(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Vs)e.push(Gs(t,s,l.min(r,s+Vs)));if(1===i){var u=t[n-1];e.push(Hs[u>>2]+Hs[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(Hs[o>>2]+Hs[(3&o)<<4|h>>4]+Hs[(15&h)<<2]+"=")}return e.join("")}var Qs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ys=ArrayBuffer.isView||function(t){return t&&is(Qs,J.call(t))};function Zs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Js(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return $s(t,n)}function $s(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Ks(t){return qs(t).buffer}function tu(t){return js(new y(t))}function nu(t){return js(Lu(t))}var iu=function(){function t(t){void 0===t&&(t=0),this.Ah=t}var n=t.prototype;return n.bh=function(t){this.Ah+=t},n.Th=function(t){this.Ah=t},n.Sh=function(){return new t(this.Eh)},L(t,[{key:"Eh",get:function(){return this.Ah}}]),t}();function eu(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ru(t,n){return t>>n&63|128}function su(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(eu(t),n.push(t>>12&15|224),n.push(ru(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ru(t,12)),n.push(ru(t,6))),n.push(63&t|128)):n.push(t)}function uu(t,n){if(n.Eh>=t.length)throw new f("Invalid byte index");var i=255&t[n.Eh];if(n.bh(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function ou(t,n){var i=n.Eh;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.bh(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|uu(t,n);if(r>=128)return r;throw new f("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|uu(t,n)<<6|uu(t,n);if(s>=2048)return eu(s),s;throw new f("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|uu(t,n)<<12|uu(t,n)<<6|uu(t,n);if(u>=65536&&u<=1114111)return u}throw new f("Invalid UTF-8 detected")}var hu=65279;var au=[128,64,32,16,8,4,2,1],cu=function(){function t(t){this.Rh=t}return t.prototype.Ih=function(t){return fu(this.Rh,t)},t}();function fu(t,n){return(t&n)===n}function vu(t,n){return fu(t,au[n])}function du(t,n){var i=t.getUint8(n.Eh);return n.bh(1),i}function lu(t,n,i){t.setUint8(n.Eh,i),n.bh(1)}function _u(t,n,i){var e=zu(qu(t),n.Eh,n.Eh+i);return n.bh(e.byteLength),e}function wu(t,n,i){qu(t).set(qu(i),n.Eh),n.bh(i.byteLength)}function gu(t,n,i){return n.Eh+i<=t.byteLength}function yu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=du(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+du(t,n);return e}(t,n,i)}function mu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Eh,i);return n.bh(2),e}function pu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Eh,i,e),n.bh(2)}function ku(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Eh,i);return n.bh(4),e}function Au(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Eh,i,e),n.bh(4)}function bu(t,n,i){void 0===i&&(i=!1);var e=ku(t,n,i),r=ku(t,n,i),s=i?r:e,u=i?e:r;return Xt.fromBits(u,s,!0)}function Tu(t,n){var i=du(t,n);if(i)return String.fromCharCode(i)}function Su(t,n){return Iu(t,n)}function Eu(t,n,i){for(var e="",r=0;r<i;r++)e+=Tu(t,n);return e}function Ru(t,n){var i,e=du(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&du(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&du(t,n))+(63&du(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&du(t,n))+64*(63&du(t,n))+(63&du(t,n))),i}function Iu(t,n){return Nu(t,n,!0)}function Nu(t,n,i){for(var e=[];n.Eh<t.byteLength;){var r=du(t,n);if(i&&!r)break;e.push(r)}return Mr(e)}function Du(t,n){if(n.Eh+2<=t.byteLength){var i=t.getUint8(n.Eh),e=t.getUint8(n.Eh+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function Cu(t,n){var i=Du(t,n);return void 0!==i&&n.bh(2),xu(t,n,!0===i)}function xu(t,n,i){return void 0===i&&(i=!1),Pu(t,n,i,!0)}function Pu(t,n,i,e){for(var r=[];n.Eh+2<=t.byteLength;){var s=mu(t,n,i);if(e&&!s)break;r.push(s)}return Mr(r)}function Ou(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){pu(t,n,i.charCodeAt(s),e)}}function Bu(t){return Nu(Wu(t),new Zu,!1)}function Lu(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)lu(t,n,i.charCodeAt(r))}(Wu(n),new Zu,t),n}function Mu(t,n){return void 0===n&&(n=!1),Pu(Wu(t),new Zu,n,!1)}function Uu(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ou(Wu(i),new Zu,t,n),i}function Fu(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Eh+3<=t.byteLength&&239===t.getUint8(n.Eh)&&187===t.getUint8(n.Eh+1)&&191===t.getUint8(n.Eh+2)})(t,n)&&n.bh(3);for(;n.Eh<t.byteLength;){var r=Ru(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Br(e)}(t,n,!0)}function Hu(t){return Br(function(t,n){var i,e=[],r=new Zu;if(!n){if(!1===(i=ou(t,r)))return e;i===hu||e.push(i)}for(;!1!==(i=ou(t,r));)e.push(i);return e}(qu(t)))}function Vu(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)su(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function zu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Xu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Wu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function qu(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Gu(t){return t instanceof ArrayBuffer||Ys(t)}function ju(t){return t instanceof ArrayBuffer?new y(t):qu(t)}function Qu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Yu(zu(t,n,i))}function Yu(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Zu=function(){function t(t){void 0===t&&(t=0),this.Ah=t}var n=t.prototype;return n.bh=function(t){this.Ah+=t},n.Th=function(t){this.Ah=t},n.Sh=function(){return new t(this.Eh)},n.Nh=function(){return new iu(this.Eh<<3)},L(t,[{key:"Eh",get:function(){return this.Ah}}]),t}();function Ju(t){var n=t,i=0,e=0;Dr(n,"0x")&&(n=n.substring(2));var r=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var $u=function(){function t(){var t=this;this.Dh=void 0,this.Gn=void 0,this.Z=void 0,this.Dh=new T(function(n,i){t.Gn=n,t.Z=i})}var n=t.prototype;return n.Ch=function(t){this.Gn&&(this.Gn(t),this.Po())},n.xh=function(t){this.Z&&(this.Z(t),this.Po())},n.Fo=function(){this.Dh.catch(E),this.xh(new fs)},n.Po=function(){this.Gn=void 0,this.Z=void 0},t}();function Ku(){return new y([8,4]).buffer}function to(t){return Zs(t,Ku())}function no(t,n){return t===gr?function(t){if(t.byteLength<2*io.length)return t;if(Mu(new DataView(t,0,2*io.length),!0)===io)return t;return n=t,Uu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+tu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var io="<PlayReady";var eo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ph=void 0,s.Oh=void 0,s.Ph=i,s.Oh=e,s}return U(n,t),n}(on),ro=function(t){function n(n,i){var e;(e=t.call(this)||this).Bh=void 0,e.Lh=!1,e.Mh=void 0,e.Uh=void 0,e.Fh=function(){e.Hh()},e.Vh=function(t){e.jo(new Os(sn(e),t.messageType,no(e.zh,t.message)))},e.Xh=function(){e.Lh=!0,e.Bh.kh>0&&(e.Bh.ph(),e.jo(new Ps(sn(e)))),e.Wh.removeEventListener("keystatuseschange",e.Fh),e.Wh.removeEventListener("message",e.Vh)},e.Wh=n,e.zh=i,e.Wh.addEventListener("keystatuseschange",e.Fh),e.Wh.addEventListener("message",e.Vh),e.Bh=new Fs;var r=[];return e.Wh.closed&&r.push(T.resolve(e.Wh.closed)),e.Uh=new $u,r.push(e.Uh.Dh),e.Mh=T.race(r).then(e.Xh,e.Xh),e.Hh(),e}U(n,t);var i=n.prototype;return i.qh=function(){if(this.Lh)return this.Mh;var t=[];return t.push(T.resolve(this.Wh.close())),t.push(Ts(1e3)),this.Uh.Ch(T.race(t).catch(so)),this.Lh=!0,this.Mh},i.Gh=function(t,n,i){return T.resolve(this.Wh.generateRequest(t,n)).catch(so)},i.jh=function(t){return T.resolve(this.Wh.load(t)).catch(so)},i.Qh=function(){return T.resolve(this.Wh.remove()).catch(so)},i.Yh=function(t){return T.resolve(this.Wh.update(t)).catch(so)},i.Hh=function(){var t=this;this.Bh.ph(),this.Wh.keyStatuses.forEach(function(n,i){t.Zh(i,n)}),this.jo(new Ps(this))},i.Zh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=ju(t);if(this.zh===gr&&16===e.byteLength){var r=Wu(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.zh===gr&&"status-pending"===n&&(n="usable"),this.Bh.mh(e,n)},L(n,[{key:"Jh",get:function(){return this.Mh}},{key:"$h",get:function(){return this.Wh.expiration}},{key:"Kh",get:function(){return this.Bh}},{key:"ta",get:function(){return this.Wh.sessionId}}]),n}(Is);function so(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new eo(t.message,void 0,n,t)}var uo=function(){function t(t,n,i){this.na=t,this.ia=n,this.ea=i}var n=t.prototype;return n.ra=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ro(this.na.createSession(n),this.ia));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sa=function(t){return T.resolve(this.na.setServerCertificate(t))},n.ua=function(t){return T.resolve(t.setMediaKeys(this.na))},n.oa=function(t){return T.resolve(t.setMediaKeys(null))},t}(),oo=function(){function t(t,n,i){this.ha=t,this.zh=n,this.aa=i}var n=t.prototype;return n.ca=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ha.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new uo(n,this.zh,this.aa));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.fa=function(){return this.aa},L(t,[{key:"ia",get:function(){return this.ha.keySystem}}]),t}(),ho={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function ao(t){return Nr(t,ho.APPLICATION_MP4)||Nr(t,ho.VIDEO_MP4)||Nr(t,ho.AUDIO_MP4)}var co=function(){function t(t,n){this.do=void 0,this.va=void 0,this.do=t,this.va=n}return t.prototype.da=function(t){for(var n=0,i=this.va;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function fo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new co(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=vo(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=vo(r.substr(u));f&&s.push(f)}return new co(e,s)}function vo(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function lo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function _o(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,la:e.la},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return wo(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return wo(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function wo(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!is(n,e.encryptionScheme))&&(!e.robustness&&t(i,lo(e.contentType))))}function go(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function yo(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function mo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(po))||!(!t.videoCapabilities||!t.videoCapabilities.some(po))}function po(t){return!t.robustness}function ko(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(nr({},r,{robustness:n}))}return i}var Ao=function(){function t(){}return t.prototype.bo=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,o,h,a,c,f;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.la}),e=0,r=i;e<r.length;e++)(s=r[e]).audioCapabilities&&(s.audioCapabilities=yo(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=yo(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(mo)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",nr({},n=t,{videoCapabilities:n.videoCapabilities?ko(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?ko(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,u.requestMediaKeySystemAccess(n,o);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new oo(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,u.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new oo(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t._a=function(){return Hr()},t}(),bo=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lh=!1,e.wa=void 0,e.ga=void 0,e.ya=void 0,e.ma=void 0,e.pa=void 0,e.Xh=function(){e.Lh=!0,e.wa.Ch(void 0),e.pa&&(e.pa.removeEventListener("mskeyclose",e.Xh),e.pa.removeEventListener("mskeymessage",e.ka),e.pa.removeEventListener("mskeyerror",e.Aa),e.pa.removeEventListener("mskeyadded",e.ba))},e.ka=function(t){e.ya&&(e.ya.Ch(void 0),e.ya=void 0),e.jo(new Os(sn(e),"license-request",Yu(t.message).buffer,t.destinationURL||void 0))},e.Aa=function(){var t=e.pa&&e.pa.error;if(t){var n=new eo("Unknown CDM error",t.code,t.systemCode);if(e.ya)e.ya.xh(n),e.ya=void 0;else if(e.ga)e.ga.xh(n),e.ga=void 0;else switch(n.Ph){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ta("output-not-allowed");break;default:e.Ta("internal-error")}}},e.ba=function(){e.ya&&(e.Ta("usable"),e.ya.Ch(void 0),e.ya=void 0),e.ga&&(e.Ta("usable"),e.ga.Ch(void 0),e.ga=void 0)},e.Sa=n,e.Ea=i,e.wa=new $u,e.ma=new Fs,e}U(n,t);var i=n.prototype;return i.Gh=function(){var t=T.coroutine(tr.mark(function t(n,i,e){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),this.ya=new $u,this.ra(ju(i),e),t.next=5,this.ya.Dh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.ra=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Ia;return(i=n?this.Sa.createSession(this.Ea,t,e):this.Sa.createSession(this.Ea,t)).addEventListener("mskeyclose",this.Xh),i.addEventListener("mskeymessage",this.ka),i.addEventListener("mskeyerror",this.Aa),i.addEventListener("mskeyadded",this.ba),this.pa=i,this.Ta("status-pending"),i},i.jh=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Yh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ga=new $u,this.Ra(),this.pa){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=ju(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.pa.update(i),t.next=10,this.ga.Dh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qh=function(){return!this.Lh&&this.pa&&(this.Lh=!0,this.pa.close()),this.wa.Dh},i.Qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ra=function(){if(this.Lh)throw new v("Already closing or closed.")},i.Ta=function(t){this.ma.ph(),this.ma.mh(Us,t),this.jo(new Ps(this))},L(n,[{key:"ta",get:function(){return this.pa&&this.pa.sessionId||""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.wa.Dh}},{key:"Kh",get:function(){return this.ma}}]),n}(Is),To=function(){function t(t,n,i){this.Ea=void 0,this.Sa=t,this.ia=n,this.ea=i;var e=go(i)||"video/mp4";this.Ea=lo(e)}var n=t.prototype;return n.ra=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new bo(this.Sa,this.Ea));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sa=function(t){return T.resolve(!1)},n.ua=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Sa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Sa),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.oa=function(t){return T.resolve()},t}(),So=function(){function t(t,n){this.zh=t,this.Na=n}var n=t.prototype;return n.fa=function(){return this.Na},n.ca=function(){var t=new pe.MSMediaKeys(this.zh);return T.resolve(new To(t,this.zh,this.Na))},L(t,[{key:"ia",get:function(){return this.zh}}]),t}(),Eo=function(){function t(){}return t.prototype.bo=function(t,n){try{return T.resolve(function(t,n){if(!Ro())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(Io,Cs,t,e);if(r)return new So(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t._a=function(){return Ro()},t}();function Ro(){return void 0!==pe.MSMediaKeys&&"function"==typeof pe.MSMediaKeys.isTypeSupported}function Io(t,n){return pe.MSMediaKeys.isTypeSupported(t,n)}var No,Do,Co=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).wa=new $u,r.Da=void 0,r.ma=new Fs,r.Ca=void 0,r.xa=new $u,r.Aa=function(){var t=r.Ca&&r.Ca.error;if(t){var n=new eo("Unknown CDM error",t.code,t.systemCode);r.Da?(r.Da.xh(n),r.Da=void 0):n.Ph===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ta("output-not-allowed"):r.Ta("internal-error"),r.jo(new Bs)}},r.ka=function(t){r.Da&&(r.Da.Ch(void 0),r.Da=void 0),r.jo(new Os(sn(r),"license-request",Yu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Pa=n,r.Ea=i,r.Oa=e,r}U(n,t);var i=n.prototype;return i.Gh=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Ba;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=xo(ju(n),e,this.Oa);return this.Ca=this.Pa.createSession(this.Ea,r),this.Ca.addEventListener("webkitkeymessage",this.ka,!1),this.Ca.addEventListener("webkitkeyerror",this.Aa,!1),this.Ta("usable"),this.xa.Ch(this.Ca),this.xa=new $u,T.resolve()},i.jh=function(t){return T.resolve(!0)},i.Yh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ju(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Da=new $u,t.t0=this.Ca,t.t0){t.next=9;break}return t.next=8,this.xa.Dh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Da.Dh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qh=function(){var t=this.Ca;return t&&(t.removeEventListener("webkitkeymessage",this.ka,!1),t.removeEventListener("webkitkeyerror",this.Aa,!1),t.close()),this.xa.Fo(),this.wa.Ch(void 0),this.wa.Dh},i.Qh=function(){return T.resolve(void 0)},i.Ta=function(t){this.ma.ph(),this.ma.mh(Us,t),this.jo(new Ps(this))},L(n,[{key:"ta",get:function(){return this.Ca?this.Ca.sessionId:""}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.wa.Dh}},{key:"Kh",get:function(){return this.ma}}]),n}(Is);function xo(t,n,i){var e=Hu(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new Zu;return Au(o,h,r,!0),Ou(o,h,e,!0),Au(o,h,s,!0),Ou(o,h,n,!0),Au(o,h,i.byteLength,!0),wu(o,h,i),new y(u)}(No=n.ErrorCode||(n.ErrorCode={}))[No.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",No[No.LICENSE_ERROR=2e3]="LICENSE_ERROR",No[No.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",No[No.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",No[No.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",No[No.SOURCE_INVALID=3e3]="SOURCE_INVALID",No[No.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",No[No.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",No[No.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",No[No.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",No[No.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",No[No.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",No[No.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",No[No.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",No[No.MEDIA_ABORTED=5004]="MEDIA_ABORTED",No[No.NETWORK_ERROR=6e3]="NETWORK_ERROR",No[No.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",No[No.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",No[No.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",No[No.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",No[No.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",No[No.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",No[No.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",No[No.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",No[No.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",No[No.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",No[No.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",No[No.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",No[No.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",No[No.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",No[No.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",No[No.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",No[No.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",No[No.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",No[No.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",No[No.AD_ERROR=1e4]="AD_ERROR",No[No.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",No[No.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Do=n.ErrorCategory||(n.ErrorCategory={}))[Do.CONFIGURATION=1]="CONFIGURATION",Do[Do.LICENSE=2]="LICENSE",Do[Do.SOURCE=3]="SOURCE",Do[Do.MANIFEST=4]="MANIFEST",Do[Do.MEDIA=5]="MEDIA",Do[Do.NETWORK=6]="NETWORK",Do[Do.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Do[Do.SUBTITLE=8]="SUBTITLE",Do[Do.VR=9]="VR",Do[Do.AD=10]="AD",Do[Do.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Po=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return U(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),Oo=function(){function t(t,n,i){this.Ea=void 0,this.Oa=void 0,this.Pa=t,this.ia=n,this.ea=i;var e=go(i)||"video/mp4";this.Ea=lo(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Pa},i.ra=function(){var t=T.coroutine(tr.mark(function t(i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Oa){t.next=2;break}throw new Po(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Co(this.Pa,this.Ea,this.Oa));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sa=function(t){return this.Oa=ju(t),T.resolve(!0)},i.ua=function(t){return t.webkitSetMediaKeys(this.Pa),T.resolve()},i.oa=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),Bo=function(){function t(t,n){this.zh=t,this.Na=n}var n=t.prototype;return n.fa=function(){return this.Na},n.ca=function(){var t=new pe.WebKitMediaKeys(this.zh);return T.resolve(new Oo(t,this.zh,this.Na))},L(t,[{key:"ia",get:function(){return this.zh}}]),t}(),Lo=function(){function t(){}return t.prototype.bo=function(t,n){try{return T.resolve(function(t,n){if(t!==kr)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Mo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(Uo,xs,t,e);if(r)return new Bo(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t._a=function(){return Mo()},t}();function Mo(){return void 0!==pe.WebKitMediaKeys&&"function"==typeof pe.WebKitMediaKeys.isTypeSupported}function Uo(t,n){return pe.WebKitMediaKeys.isTypeSupported(t,n)}var Fo,Ho=function(){function t(t){this.La=t}return t.prototype.bo=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.La;case 1:if(!(e<r.length)){t.next=14;break}return s=r[e],t.prev=3,t.next=6,s.bo(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:e++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Vo=function(t){function n(n){var i;return(i=t.call(this)||this).ya=void 0,i.Da=void 0,i.wa=void 0,i.Ma=!1,i.Ua=void 0,i.Fa=void 0,i.Ha=void 0,i.Va=void 0,i.za=void 0,i.zh=n,i.wa=new $u,i.Fa="",i.za=new $u,i.Ha=new Fs,i}U(n,t);var i=n.prototype;return i.Xa=function(){this.Da&&(this.Ta("usable"),this.Da.Ch(void 0),this.Da=void 0)},i.Wa=function(t){var n=new eo("Unknown CDM error",t.errorCode,t.systemCode);this.Da?(this.Da.xh(n),this.Da=void 0):this.ya?(this.ya.xh(n),this.ya=void 0):n.Ph===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ta("output-restricted"):1===n.Oh?this.Ta("expired"):this.Ta("internal-error")},i.qa=function(t){0!==t.message.byteLength&&(this.ya&&(this.ya.Ch(void 0),this.ya=void 0),this.jo(new Os(this,"license-request",no(this.zh,Yu(t.message).buffer),t.defaultURL||void 0)))},i.Ga=function(t){this.Va||(this.Va=t,this.za.Ch(t))},i.qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ma=!0,this.wa.Ch(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gh=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ya=new $u,this.Ua=ju(i),t.t0=this.Va,t.t0){t.next=8;break}return t.next=7,this.za.Dh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.zh,this.Ua),t.next=12,this.ya.Dh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jh=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yh=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Da=new $u,t.t0=this.Va,t.t0){t.next=7;break}return t.next=6,this.za.Dh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.zh,ju(n),this.Ua,this.ta),t.next=11,this.Da.Dh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Ma)throw new v("Already closing or closed.")},i.Ta=function(t){this.Ha.ph(),this.Ha.mh(Us,t),this.jo(new Ps(this))},L(n,[{key:"Kh",get:function(){return this.Ha}},{key:"ta",get:function(){return this.Fa},set:function(t){this.Fa=t}},{key:"Jh",get:function(){return this.wa.Dh}},{key:"$h",get:function(){return NaN}}]),n}(Is),zo=function(){function t(t,n){var i=this;this.Va=void 0,this.ja=er(),this.Qa=[],this.ba=function(t){var n=i.Ya(t.sessionId);n&&n.Xa()},this.Za=function(t){var n=i.Ya(t.sessionId);n&&n.Wa(t)},this.Ja=function(t){var n=i.Ya(t.sessionId);n&&n.qa(t)},this.ia=t,this.ea=n}var n=t.prototype;return n.ua=function(t){return this.Va=t,this.Va.addEventListener("webkitkeyadded",this.ba),this.Va.addEventListener("webkitkeyerror",this.Za),this.Va.addEventListener("webkitkeymessage",this.Ja),this.ja.forEach(function(n,i){return n.Ga(t)}),this.Qa.forEach(function(n){return n.Ga(t)}),T.resolve()},n.oa=function(t){return t.removeEventListener("webkitkeyadded",this.ba),t.removeEventListener("webkitkeyerror",this.Za),t.removeEventListener("webkitkeymessage",this.Ja),this.Va=void 0,T.resolve()},n.ra=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Vo(this.ia),this.Va&&r.Ga(this.Va),this.Qa.push(r),t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.sa=function(t){return T.resolve(!1)},n.Ya=function(t){if(t){var n=this.ja.get(t);return n||((n=this.Qa.shift())?(n.ta=t,this.ja.set(t,n),n):void 0)}},t}(),Xo=function(){function t(t,n){this.ia=t,this.$a=n}var n=t.prototype;return n.ca=function(){return T.resolve(new zo(this.ia,this.$a))},n.fa=function(){return this.$a},t}(),Wo=function(){function t(){}return t.prototype.bo=function(t,n){try{return T.resolve(qo(t,n))}catch(t){return T.reject(t)}},t._a=function(){return Vr()},t}();function qo(t,n){if(!Wo._a())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(Go,Cs,t,e);if(r)return new Xo(t,r)}throw new v("Unsupported key system configuration for "+t)}function Go(t,n){var i=Be();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function jo(){return Fo||(Fo=function(){var t=[];Lo._a()&&t.push(new Lo);Ao._a()&&t.push(new Ao);Eo._a()&&t.push(new Eo);Wo._a()&&t.push(new Wo);return new Ho(t)}()),Fo}var Qo=function(){function t(){this.Ka=er()}var n=t.prototype;return n.ph=function(t){this.Ka.delete(t)},n.tc=function(){this.Ka.clear()},n.gh=function(t){return this.Ka.get(t)},n.nc=function(t,n){this.Ka.set(t,n)},t}(),Yo=function(){function t(){}return t.ic=function(){return t.es||(t.es=Zo._a()?new Zo:new Qo),t.es},t.ph=function(n){t.ic().ph(n)},t.tc=function(){t.ic().tc()},t.gh=function(n){return t.ic().gh(n)},t.nc=function(n,i){t.ic().nc(n,i)},t}();Yo.es=void 0;var Zo=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i._a=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ph=function(n){t.sessionStorage.removeItem(n)},e.tc=function(){t.sessionStorage.clear()},e.gh=function(n){return t.sessionStorage[n]},e.nc=function(n,i){t.sessionStorage[n]=i},i}(Yo);var Jo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return r?(e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function $o(t,n,i){var e=Jo([n],{type:"application/octet-stream"}),s=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=r.createElement("a");o.href=s,o.download=u,r.body.appendChild(o),o.click(),r.body.removeChild(o),URL.revokeObjectURL(s)}var Ko,th;!function(t){t.ec="rc",t.sc="uc",t.oc="contentprotectionerror",t.hc="contentprotectionsuccess",t.ac="currentsourcechange",t.cc="destroy",t.fc="durationchange",t.vc="emptied",t.ah="encrypted",t.dc="ended",t.lc="_c",t.wc="loadstart",t.gc="manifestupdate",t.yc="nosupportedrepresentationfound",t.mc="offline",t.pc="online",t.kc="pause",t.Ac="play",t.bc="progress",t.Tc="ratechange",t.Sc="representationchange",t.Ec="resize",t.Rc="seeked",t.Ic="seeking",t.Nc="segmentnotfound",t.Dc="Cc",t.xc="Pc",t.Oc="sourcechange",t.Bc="timeupdate",t.Lc="volumechange",t.Mc="Uc",t.Fc="metricschange"}(Ko||(Ko={})),function(t){t.Hc="arraybuffer",t.Vc="json",t.zc="stream",t.os="text"}(th||(th={}));var nh=function(){function t(n){var i=this;this.oo=void 0,this.oo={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=ih(i),e=eh(e);var r=i.toLowerCase();if(this.oo.hasOwnProperty(r)){var s=this.oo[r],u=s[1];s[1]=u?u+", "+e:e}else this.oo[r]=[i,e]},n.delete=function(t){var n=ih(t).toLowerCase();delete this.oo[n]},n.get=function(t){var n=ih(t).toLowerCase();return this.oo.hasOwnProperty(n)?this.oo[n][1]:null},n.has=function(t){var n=ih(t).toLowerCase();return this.oo.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=ih(i)).toLowerCase();this.oo[e]=[i,eh(n)]},n.forEach=function(t,n){for(var i in this.oo)this.oo.hasOwnProperty(i)&&t.call(n,this.oo[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.oo)if(this.oo.hasOwnProperty(n)){var i=this.oo[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Wc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.qc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ih(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function eh(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function sh(){}var uh=Number.isNaN||function(t){return t!=t},oh=sh;function hh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ah(t){return t.slice()}function ch(t){return!1!==function(t){if("number"!=typeof t)return!1;if(uh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function fh(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function vh(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return lh(r,t,e)};case 1:return function(n){var i=[n].concat(e);return lh(r,t,i)}}}return function(){return bh(void 0)}}function dh(t,n,i){var e=t[n];if(void 0!==e)return fh(e,t,i)}function lh(t,n,i){try{return bh(fh(t,n,i))}catch(t){return Th(t)}}function _h(t){return t}function wh(t){if(t=Number(t),uh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function gh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var yh=T,mh=T.prototype.then,ph=T.resolve.bind(yh),kh=T.reject.bind(yh);function Ah(t){return new yh(t)}function bh(t){return ph(t)}function Th(t){return kh(t)}function Sh(t,n,i){return mh.call(t,n,i)}function Eh(t,n,i){Sh(Sh(t,n,i),void 0,oh)}function Rh(t,n){Eh(t,n)}function Ih(t,n){Eh(t,void 0,n)}function Nh(t,n,i){return Sh(t,n,i)}function Dh(t){Sh(t,void 0,oh)}var Ch=function(){function t(){this.Gc=0,this.jc=0,this.Di={Qc:[],Yc:void 0},this.Zc=this.Di,this.Gc=0,this.jc=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.jc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Zc,i=n;16383===n.Qc.length&&(i={Qc:[],Yc:void 0}),n.Qc.push(t),i!==n&&(this.Zc=i,n.Yc=i),++this.jc},t.prototype.shift=function(){var t=this.Di,n=t,i=this.Gc,e=i+1,r=t.Qc,s=r[i];return 16384===e&&(n=t.Yc,e=0),--this.jc,this.Gc=e,t!==n&&(this.Di=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Gc,i=this.Di,e=i.Qc;!(n===e.length&&void 0===i.Yc||n===e.length&&(n=0,0===(e=(i=i.Yc).Qc).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Di,n=this.Gc;return t.Qc[n]},t}();function xh(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function Ph(t,n){t.Jc=!0,t.$c=n,n.Kc=t,"readable"===n.tf?Mh(t):"closed"===n.tf?function(t){Mh(t),Hh(t)}(t):Uh(t,n.nf)}function Oh(t,n){return Wc(t.$c,n)}function Bh(t){"readable"===t.$c.tf?Fh(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Uh(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.$c.Kc=void 0,t.$c=void 0}function Lh(t){return new v("Cannot "+t+" a stream using a released reader")}function Mh(t){t.Mh=Ah(function(n,i){t.if=n,t.ef=i})}function Uh(t,n){Mh(t),Fh(t,n)}function Fh(t,n){Dh(t.Mh),t.ef(n),t.if=void 0,t.ef=void 0}function Hh(t){t.if(void 0),t.if=void 0,t.ef=void 0}var Vh=rh("[[CancelSteps]]"),zh=rh("[[PullSteps]]");function Xh(t,n){void 0===n&&(n=!1);var i=new Zh(t);return i.Jc=n,i}function Wh(t){return Ah(function(n,i){var e={Gn:n,Z:i};t.Kc.rf.push(e)})}function qh(t,n,i){var e=t.Kc;e.rf.shift().Gn(xh(n,i,e.Jc))}function Gh(t){return t.Kc.rf.length}function jh(t){var n=t.Kc;return void 0!==n&&!!Jh(n)}var Qh,Yh,Zh=function(){function t(t){if(!1===zc(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Xc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ph(this,t),this.rf=new Ch}return d.defineProperty(t.prototype,"closed",{get:function(){return Jh(this)?this.Mh:Th(Kh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Jh(this)?void 0===this.$c?Th(Lh("cancel")):Oh(this,t):Th(Kh("cancel"))},t.prototype.read=function(){return Jh(this)?void 0===this.$c?Th(Lh("read from")):$h(this):Th(Kh("read"))},t.prototype.releaseLock=function(){if(!Jh(this))throw Kh("releaseLock");if(void 0!==this.$c){if(this.rf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Bh(this)}},t}();function Jh(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"rf")}function $h(t){var n=t.$c;return n.sf=!0,"closed"===n.tf?bh(xh(void 0,!0,t.Jc)):"errored"===n.tf?Th(n.nf):n.uf[zh]()}function Kh(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof rh.asyncIterator&&((Qh={})[rh.asyncIterator]=function(){return this},Yh=Qh,d.defineProperty(Yh,rh.asyncIterator,{enumerable:!1}));var ta={next:function(){if(!1===na(this))return Th(ia("next"));var t=this.hf;return void 0===t.$c?Th(Lh("iterate")):Nh($h(t),function(n){var i=n.done;return i&&Bh(t),xh(n.value,i,!0)})},return:function(t){if(!1===na(this))return Th(ia("next"));var n=this.hf;if(void 0===n.$c)return Th(Lh("finish iterating"));if(n.rf.length>0)return Th(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.af){var i=Oh(n,t);return Bh(n),Nh(i,function(){return xh(t,!0,!0)})}return Bh(n),bh(xh(t,!0,!0))}};function na(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"hf")}function ia(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ea(t){var n=t.Hn.shift();return t.cf-=n.size,t.cf<0&&(t.cf=0),n.value}function ra(t,n,i){if(!ch(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Hn.push({value:n,size:i}),t.cf+=i}function sa(t){t.Hn=new Ch,t.cf=0}void 0!==Yh&&d.setPrototypeOf(ta,Yh),d.defineProperty(ta,"next",{enumerable:!1}),d.defineProperty(ta,"return",{enumerable:!1});var ua=rh("[[AbortSteps]]"),oa=rh("[[ErrorSteps]]"),ha=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ca(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=gh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Ia.prototype);var s=vh(n,"write",1,[r]),u=vh(n,"close",0,[]),o=vh(n,"abort",1,[]);Na(t,r,function(){return dh(n,"start",[r])},s,u,o,i,e)}(this,t,e=wh(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fa(this))throw La("locked");return va(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===fa(this)?Th(La("abort")):!0===va(this)?Th(new v("Cannot abort a stream that already has a writer")):da(this,t)},t.prototype.close=function(){return!1===fa(this)?Th(La("close")):!0===va(this)?Th(new v("Cannot close a stream that already has a writer")):!0===ya(this)?Th(new v("Cannot close an already-closing stream")):la(this)},t.prototype.getWriter=function(){if(!1===fa(this))throw La("getWriter");return aa(this)},t}();function aa(t){return new ka(t)}function ca(t){t.tf="writable",t.nf=void 0,t.ff=void 0,t.vf=void 0,t.df=new Ch,t.lf=void 0,t._f=void 0,t.wf=void 0,t.gf=void 0,t.yf=!1}function fa(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"vf")}function va(t){return void 0!==t.ff}function da(t,n){var i=t.tf;if("closed"===i||"errored"===i)return bh(void 0);if(void 0!==t.gf)return t.gf.wn;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Ah(function(i,r){t.gf={wn:void 0,Gn:i,Z:r,Bn:n,mf:e}});return t.gf.wn=r,!1===e&&wa(t,n),r}function la(t){var n=t.tf;if("closed"===n||"errored"===n)return Th(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Ah(function(n,i){var e={Gn:n,Z:i};t._f=e}),r=t.ff;return void 0!==r&&!0===t.yf&&"writable"===n&&ja(r),ra(i=t.vf,"close",0),xa(i),e}function _a(t,n){"writable"!==t.tf?ga(t):wa(t,n)}function wa(t,n){var i=t.vf;t.tf="erroring",t.nf=n;var e=t.ff;void 0!==e&&Sa(e,n),!1===function(t){if(void 0===t.lf&&void 0===t.wf)return!1;return!0}(t)&&!0===i.pf&&ga(t)}function ga(t){t.tf="errored",t.vf[oa]();var n=t.nf;if(t.df.forEach(function(t){t.Z(n)}),t.df=new Ch,void 0!==t.gf){var i=t.gf;if(t.gf=void 0,!0===i.mf)return i.Z(n),void ma(t);Eh(t.vf[ua](i.Bn),function(){i.Gn(),ma(t)},function(n){i.Z(n),ma(t)})}else ma(t)}function ya(t){return void 0!==t._f||void 0!==t.wf}function ma(t){void 0!==t._f&&(t._f.Z(t.nf),t._f=void 0);var n=t.ff;void 0!==n&&Va(n,t.nf)}function pa(t,n){var i=t.ff;void 0!==i&&n!==t.yf&&(!0===n?function(t){Xa(t)}(i):ja(i)),t.yf=n}var ka=function(){function t(t){if(!1===fa(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===va(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.kf=t,t.ff=this;var n,i=t.tf;if("writable"===i)!1===ya(t)&&!0===t.yf?Xa(this):qa(this),Fa(this);else if("erroring"===i)Wa(this,t.nf),Fa(this);else if("closed"===i)qa(this),Fa(n=this),za(n);else{var e=t.nf;Wa(this,e),Ha(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Aa(this)?Th(Ma("closed")):this.Mh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Aa(this))throw Ma("desiredSize");if(void 0===this.kf)throw Ua("desiredSize");return function(t){var n=t.kf,i=n.tf;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ca(n.vf)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Aa(this)?Th(Ma("ready")):this.Af},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Aa(this)?Th(Ma("abort")):void 0===this.kf?Th(Ua("abort")):function(t,n){return da(t.kf,n)}(this,t)},t.prototype.close=function(){if(!1===Aa(this))return Th(Ma("close"));var t=this.kf;return void 0===t?Th(Ua("close")):!0===ya(t)?Th(new v("Cannot close an already-closing stream")):ba(this)},t.prototype.releaseLock=function(){if(!1===Aa(this))throw Ma("releaseLock");void 0!==this.kf&&Ea(this)},t.prototype.write=function(t){return!1===Aa(this)?Th(Ma("write")):void 0===this.kf?Th(Ua("write to")):Ra(this,t)},t}();function Aa(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"kf")}function ba(t){return la(t.kf)}function Ta(t,n){"pending"===t.bf?Va(t,n):function(t,n){Ha(t,n)}(t,n)}function Sa(t,n){"pending"===t.Tf?Ga(t,n):function(t,n){Wa(t,n)}(t,n)}function Ea(t){var n=t.kf,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Sa(t,i),Ta(t,i),n.ff=void 0,t.kf=void 0}function Ra(t,n){var i=t.kf,e=i.vf,r=function(t,n){try{return t.Sf(n)}catch(n){return Pa(t,n),1}}(e,n);if(i!==t.kf)return Th(Ua("write to"));var s=i.tf;if("errored"===s)return Th(i.nf);if(!0===ya(i)||"closed"===s)return Th(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Th(i.nf);var u=function(t){return Ah(function(n,i){var e={Gn:n,Z:i};t.df.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{ra(t,e,i)}catch(n){return void Pa(t,n)}var r=t.Ef;if(!1===ya(r)&&"writable"===r.tf){var s=Oa(t);pa(r,s)}xa(t)}(e,n,r),u}var Ia=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!hh(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Ef"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ef.tf&&Ba(this,t)},t.prototype[ua]=function(t){var n=this.Rf(t);return Da(this),n},t.prototype[oa]=function(){sa(this)},t}();function Na(t,n,i,e,r,s,u,o){n.Ef=t,t.vf=n,n.Hn=void 0,n.cf=void 0,sa(n),n.pf=!1,n.Sf=o,n.If=u,n.Nf=e,n.Df=r,n.Rf=s;var h=Oa(n);pa(t,h),Eh(bh(i()),function(){n.pf=!0,xa(n)},function(i){n.pf=!0,_a(t,i)})}function Da(t){t.Nf=void 0,t.Df=void 0,t.Rf=void 0,t.Sf=void 0}function Ca(t){return t.If-t.cf}function xa(t){var n=t.Ef;if(!1!==t.pf&&void 0===n.lf)if("erroring"!==n.tf){if(0!==t.Hn.length){var i=t.Hn.peek().value;"close"===i?function(t){var n=t.Ef;(function(t){t.wf=t._f,t._f=void 0})(n),ea(t);var i=t.Df();Da(t),Eh(i,function(){!function(t){t.wf.Gn(void 0),t.wf=void 0,"erroring"===t.tf&&(t.nf=void 0,void 0!==t.gf&&(t.gf.Gn(),t.gf=void 0)),t.tf="closed";var n=t.ff;void 0!==n&&za(n)}(n)},function(t){!function(t,n){t.wf.Z(n),t.wf=void 0,void 0!==t.gf&&(t.gf.Z(n),t.gf=void 0),_a(t,n)}(n,t)})}(t):function(t,n){var i=t.Ef;(function(t){t.lf=t.df.shift()})(i),Eh(t.Nf(n),function(){!function(t){t.lf.Gn(void 0),t.lf=void 0}(i);var n=i.tf;if(ea(t),!1===ya(i)&&"writable"===n){var e=Oa(t);pa(i,e)}xa(t)},function(n){"writable"===i.tf&&Da(t),function(t,n){t.lf.Z(n),t.lf=void 0,_a(t,n)}(i,n)})}(t,i.chunk)}}else ga(n)}function Pa(t,n){"writable"===t.Ef.tf&&Ba(t,n)}function Oa(t){return Ca(t)<=0}function Ba(t,n){var i=t.Ef;Da(t),wa(i,n)}function La(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Ma(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ua(t){return new v("Cannot "+t+" a stream using a released writer")}function Fa(t){t.Mh=Ah(function(n,i){t.if=n,t.ef=i,t.bf="pending"})}function Ha(t,n){Fa(t),Va(t,n)}function Va(t,n){Dh(t.Mh),t.ef(n),t.if=void 0,t.ef=void 0,t.bf="rejected"}function za(t){t.if(void 0),t.if=void 0,t.ef=void 0,t.bf="resolved"}function Xa(t){t.Af=Ah(function(n,i){t.Cf=n,t.xf=i}),t.Tf="pending"}function Wa(t,n){Xa(t),Ga(t,n)}function qa(t){Xa(t),ja(t)}function Ga(t,n){Dh(t.Af),t.xf(n),t.Cf=void 0,t.xf=void 0,t.Tf="rejected"}function ja(t){t.Cf(void 0),t.Cf=void 0,t.xf=void 0,t.Tf="fulfilled"}function Qa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Ya="undefined"!=typeof DOMException?DOMException:void 0;var Za,Ja=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ya)?Ya:((Za=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(Za.prototype,"constructor",{value:Za,writable:!0,configurable:!0}),Za);function $a(t,n,i,e,r,s){var u=Xh(t),o=aa(n);t.sf=!0;var h=!1,a=bh(void 0);return Ah(function(c,f){var d,l,_,w;if(void 0!==s){if(d=function(){var i=new Ja("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.tf?da(n,i):bh(void 0)}),!1===r&&s.push(function(){return"readable"===t.tf?Wc(t,i):bh(void 0)}),p(function(){return T.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(m(t,u.Mh,function(t){!1===e?p(function(){return da(n,t)},!0,t):k(!0,t)}),m(n,o.Mh,function(n){!1===r?p(function(){return Wc(t,n)},!0,n):k(!0,n)}),l=t,_=u.Mh,w=function(){!1===i?p(function(){return function(t){var n=t.kf,i=n.tf;return!0===ya(n)||"closed"===i?bh(void 0):"errored"===i?Th(n.nf):ba(t)}(o)}):k()},"closed"===l.tf?w():Rh(_,w),!0===ya(n)||"closed"===n.tf){var g=new v("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Wc(t,g)},!0,g):k(!0,g)}function y(){var t=a;return Sh(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.tf?i(t.nf):Ih(n,i)}function p(t,i,e){function r(){Eh(t(),function(){return A(i,e)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.tf&&!1===ya(n)?Rh(y(),r):r())}function k(t,i){!0!==h&&(h=!0,"writable"===n.tf&&!1===ya(n)?Rh(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Ea(o),Bh(u),void 0!==s&&s.removeEventListener("abort",d),t?f(n):c(void 0)}Dh(Ah(function(t,n){!function i(e){e?t():Sh(!0===h?bh(!0):Sh(o.Af,function(){return Sh($h(u),function(t){return!0===t.done||(a=Sh(Ra(o,t.value),void 0,sh),!1)})}),i,n)}(!1)}))})}var Ka=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===tc(this))throw cc("desiredSize");return oc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===tc(this))throw cc("close");if(!1===hc(this))throw new v("The stream is not in a state that permits close");rc(this)},t.prototype.enqueue=function(t){if(!1===tc(this))throw cc("enqueue");if(!1===hc(this))throw new v("The stream is not in a state that permits enqueue");return sc(this,t)},t.prototype.error=function(t){if(!1===tc(this))throw cc("error");uc(this,t)},t.prototype[Vh]=function(t){sa(this);var n=this.Pf(t);return ec(this),n},t.prototype[zh]=function(){var t=this.Of;if(this.Hn.length>0){var n=ea(this);return!0===this.Bf&&0===this.Hn.length?(ec(this),qc(t)):nc(this),bh(xh(n,!1,t.Kc.Jc))}var i=Wh(t);return nc(this),i},t}();function tc(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"Of")}function nc(t){!1!==ic(t)&&(!0!==t.Lf?(t.Lf=!0,Eh(t.Mf(),function(){t.Lf=!1,!0===t.Uf&&(t.Uf=!1,nc(t))},function(n){uc(t,n)})):t.Uf=!0)}function ic(t){var n=t.Of;return!1!==hc(t)&&(!1!==t.pf&&(!0===Xc(n)&&Gh(n)>0||oc(t)>0))}function ec(t){t.Mf=void 0,t.Pf=void 0,t.Sf=void 0}function rc(t){var n=t.Of;t.Bf=!0,0===t.Hn.length&&(ec(t),qc(n))}function sc(t,n){var i=t.Of;if(!0===Xc(i)&&Gh(i)>0)qh(i,n,!1);else{var e=void 0;try{e=t.Sf(n)}catch(n){throw uc(t,n),n}try{ra(t,n,e)}catch(n){throw uc(t,n),n}}nc(t)}function uc(t,n){var i=t.Of;"readable"===i.tf&&(sa(t),ec(t),Gc(i,n))}function oc(t){var n=t.Of.tf;return"errored"===n?null:"closed"===n?0:t.If-t.cf}function hc(t){var n=t.Of.tf;return!1===t.Bf&&"readable"===n}function ac(t,n,i,e,r,s,u){n.Of=t,n.Hn=void 0,n.cf=void 0,sa(n),n.pf=!1,n.Bf=!1,n.Uf=!1,n.Lf=!1,n.Sf=u,n.If=s,n.Mf=e,n.Pf=r,t.uf=n,Eh(bh(i()),function(){n.pf=!0,nc(n)},function(t){uc(n,t)})}function cc(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var fc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},vc=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===_c(this))throw Cc("view");return this.Ff},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===_c(this))throw Cc("respond");if(void 0===this.Hf)throw new v("This BYOB request has been invalidated");this.Ff.buffer,function(t,n){if(!1===ch(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Sc(t,n)}(this.Hf,t)},t.prototype.respondWithNewView=function(t){if(!1===_c(this))throw Cc("respond");if(void 0===this.Hf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Vf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Sc(t,n.byteLength)}(this.Hf,t)},t}(),dc=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===lc(this))throw xc("byobRequest");if(void 0===this.zf&&this.Vf.length>0){var t=this.Vf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(vc.prototype);!function(t,n,i){t.Hf=n,t.Ff=i}(i,this,n),this.zf=i}return this.zf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===lc(this))throw xc("desiredSize");return Nc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===lc(this))throw xc("close");if(!0===this.Bf)throw new v("The stream has already been closed; do not close it again!");var t=this.Xf.tf;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Xf;if(t.cf>0)return void(t.Bf=!0);if(t.Vf.length>0){var i=t.Vf.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw Ic(t,e),e}}Rc(t),qc(n)}(this)},t.prototype.enqueue=function(t){if(!1===lc(this))throw xc("enqueue");if(!0===this.Bf)throw new v("stream is closed or draining");var n=this.Xf.tf;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Xf,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=_h(e);if(!0===jh(i))if(0===Gh(i))mc(t,u,r,s);else{var o=new y(u,r,s);qh(i,o,!1)}else!0===Bc(i)?(mc(t,u,r,s),Tc(t)):mc(t,u,r,s);wc(t)}(this,t)},t.prototype.error=function(t){if(!1===lc(this))throw xc("error");Ic(this,t)},t.prototype[Vh]=function(t){this.Vf.length>0&&(this.Vf.peek().bytesFilled=0);sa(this);var n=this.Pf(t);return Rc(this),n},t.prototype[zh]=function(){var t=this.Xf;if(this.cf>0){var n=this.Hn.shift();this.cf-=n.byteLength,Ac(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Th(t)}return bh(xh(i,!1,t.Kc.Jc))}var e=this.Wf;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Th(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Vf.push(s)}var u=Wh(t);return wc(this),u},t}();function lc(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"Xf")}function _c(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"Hf")}function wc(t){!1!==function(t){var n=t.Xf;if("readable"!==n.tf)return!1;if(!0===t.Bf)return!1;if(!1===t.pf)return!1;if(!0===jh(n)&&Gh(n)>0)return!0;if(!0===Bc(n)&&Oc(n)>0)return!0;if(Nc(t)>0)return!0;return!1}(t)&&(!0!==t.Lf?(t.Lf=!0,Eh(t.Mf(),function(){t.Lf=!1,!0===t.Uf&&(t.Uf=!1,wc(t))},function(n){Ic(t,n)})):t.Uf=!0)}function gc(t,n){var i=!1;"closed"===t.tf&&(i=!0);var e=yc(n);"default"===n.readerType?qh(t,e,i):function(t,n,i){var e=t.Kc;e.qf.shift().Gn(xh(n,i,e.Jc))}(t,e,i)}function yc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function mc(t,n,i,e){t.Hn.push({buffer:n,byteOffset:i,byteLength:e}),t.cf+=e}function pc(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=l.min(t.cf,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,_=t.Hn;o>0;){var w=_.peek(),g=l.min(o,w.byteLength),m=n.byteOffset+n.bytesFilled;a=n.buffer,c=m,f=w.buffer,v=w.byteOffset,d=g,new y(a).set(new y(f,v,d),c),w.byteLength===g?_.shift():(w.byteOffset+=g,w.byteLength-=g),t.cf-=g,kc(t,g,n),o-=g}return h}function kc(t,n,i){bc(t),i.bytesFilled+=n}function Ac(t){0===t.cf&&!0===t.Bf?(Rc(t),qc(t.Xf)):wc(t)}function bc(t){void 0!==t.zf&&(t.zf.Hf=void 0,t.zf.Ff=void 0,t.zf=void 0)}function Tc(t){for(;t.Vf.length>0;){if(0===t.cf)return;var n=t.Vf.peek();!0===pc(t,n)&&(Ec(t),gc(t.Xf,n))}}function Sc(t,n){var i=t.Vf.peek();if("closed"===t.Xf.tf){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=_h(n.buffer);var i=t.Xf;if(!0===Bc(i))for(;Oc(i)>0;)gc(i,Ec(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(kc(t,n,i),!(i.bytesFilled<i.elementSize)){Ec(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);mc(t,s,0,s.byteLength)}i.buffer=_h(i.buffer),i.bytesFilled-=e,gc(t.Xf,i),Tc(t)}}(t,n,i);wc(t)}function Ec(t){var n=t.Vf.shift();return bc(t),n}function Rc(t){t.Mf=void 0,t.Pf=void 0}function Ic(t,n){var i=t.Xf;"readable"===i.tf&&(!function(t){bc(t),t.Vf=new Ch}(t),sa(t),Rc(t),Gc(i,n))}function Nc(t){var n=t.Xf.tf;return"errored"===n?null:"closed"===n?0:t.If-t.cf}function Dc(t,n,i){var e=d.create(dc.prototype);var r=vh(n,"pull",0,[e]),s=vh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===fc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Xf=t,n.Uf=!1,n.Lf=!1,n.zf=void 0,n.Hn=n.cf=void 0,sa(n),n.Bf=!1,n.pf=!1,n.If=wh(s),n.Mf=e,n.Pf=r,n.Wf=u,n.Vf=new Ch,t.uf=n,Eh(bh(i()),function(){n.pf=!0,wc(n)},function(t){Ic(n,t)})}(t,e,function(){return dh(n,"start",[e])},r,s,i,u)}function Cc(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function xc(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Pc(t){return Ah(function(n,i){var e={Gn:n,Z:i};t.Kc.qf.push(e)})}function Oc(t){return t.Kc.qf.length}function Bc(t){var n=t.Kc;return void 0!==n&&!!Mc(n)}var Lc=function(){function t(t){if(!zc(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===lc(t.uf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Xc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ph(this,t),this.qf=new Ch}return d.defineProperty(t.prototype,"closed",{get:function(){return Mc(this)?this.Mh:Th(Uc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Mc(this)?void 0===this.$c?Th(Lh("cancel")):Oh(this,t):Th(Uc("cancel"))},t.prototype.read=function(t){return Mc(this)?void 0===this.$c?Th(Lh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Th(new v("view must have non-zero byteLength")):function(t,n){var i=t.$c;if(i.sf=!0,"errored"===i.tf)return Th(i.nf);return function(t,n){var i=t.Xf,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:_h(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Vf.length>0)return t.Vf.push(s),Pc(i);if("closed"===i.tf)return bh(xh(new r(s.buffer,s.byteOffset,0),!0,i.Kc.Jc));if(t.cf>0){if(!0===pc(t,s)){var u=yc(s);return Ac(t),bh(xh(u,!1,i.Kc.Jc))}if(!0===t.Bf){var o=new v("Insufficient bytes to fill elements in the given buffer");return Ic(t,o),Th(o)}}t.Vf.push(s);var h=Pc(i);return wc(t),h}(i.uf,n)}(this,t)):Th(new v("view must be an array buffer view")):Th(Uc("read"))},t.prototype.releaseLock=function(){if(!Mc(this))throw Uc("releaseLock");if(void 0!==this.$c){if(this.qf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Bh(this)}},t}();function Mc(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"qf")}function Uc(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Fc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Vc(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Dc(this,t,e=wh(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=gh(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(Ka.prototype),s=vh(n,"pull",0,[r]),u=vh(n,"cancel",1,[]);ac(t,r,function(){return dh(n,"start",[r])},s,u,i,e)}(this,t,e=wh(e),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===zc(this))throw jc("locked");return Xc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===zc(this)?Th(jc("cancel")):!0===Xc(this)?Th(new v("Cannot cancel a stream that already has a reader")):Wc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===zc(this))throw jc("getReader");if(void 0===n)return Xh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Lc(t);return i.Jc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,h=r.signal;if(!1===zc(this))throw jc("pipeThrough");if(!1===fa(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===zc(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!Qa(h))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Xc(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===va(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Dh($a(this,i,s,u,o,h)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===zc(this)?Th(jc("pipeTo")):!1===fa(t)?Th(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Qa(u)?!0===Xc(this)?Th(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===va(t)?Th(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):$a(this,t,e,r,s,u):Th(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===zc(this))throw jc("tee");var t=function(t,n){var i,e,r,s,u,o=Xh(t),h=!1,a=!1,c=!1,f=Ah(function(t){u=t});function v(){return!0===h?bh(void 0):(h=!0,Dh(Nh($h(o),function(t){if(h=!1,!0===t.done)return!1===a&&rc(r.uf),void(!1===c&&rc(s.uf));var n=t.value,i=n,e=n;!1===a&&sc(r.uf,i),!1===c&&sc(s.uf,e)})),bh(void 0))}function d(){}return r=Hc(d,v,function(n){if(a=!0,i=n,!0===c){var r=ah([i,e]),s=Wc(t,r);u(s)}return f}),s=Hc(d,v,function(n){if(c=!0,e=n,!0===a){var r=ah([i,e]),s=Wc(t,r);u(s)}return f}),Ih(o.Mh,function(t){uc(r.uf,t),uc(s.uf,t)}),[r,s]}(this);return ah(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===zc(this))throw jc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Xh(t),e=d.create(ta);return e.hf=i,e.af=Boolean(n),e}(this,i)},t}();function Hc(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(Fc.prototype);return Vc(s),ac(s,d.create(Ka.prototype),t,n,i,e,r),s}function Vc(t){t.tf="readable",t.Kc=void 0,t.nf=void 0,t.sf=!1}function zc(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"uf")}function Xc(t){return void 0!==t.Kc}function Wc(t,n){return t.sf=!0,"closed"===t.tf?bh(void 0):"errored"===t.tf?Th(t.nf):(qc(t),Nh(t.uf[Vh](n),sh))}function qc(t){t.tf="closed";var n=t.Kc;void 0!==n&&(Jh(n)&&(n.rf.forEach(function(t){t.Gn(xh(void 0,!0,n.Jc))}),n.rf=new Ch),Hh(n))}function Gc(t,n){t.tf="errored",t.nf=n;var i=t.Kc;void 0!==i&&(Jh(i)?(i.rf.forEach(function(t){t.Z(n)}),i.rf=new Ch):(i.qf.forEach(function(t){t.Z(n)}),i.qf=new Ch),Fh(i,n))}function jc(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof rh.asyncIterator&&d.defineProperty(Fc.prototype,rh.asyncIterator,{value:Fc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Qc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Yc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=gh(e);if(void 0===r&&(r=1),r=wh(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=gh(s);void 0===u&&(u=0),u=wh(u),function(t,n,i,e,r,s){function u(){return n}t.Gf=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(ha.prototype);return ca(u),Na(u,d.create(Ia.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.jf;if(!0===t.yf){var e=t.Qf;return Nh(e,function(){var e=t.Gf,r=e.tf;if("erroring"===r)throw e.nf;return sf(i,n)})}return sf(i,n)}(t,n)},function(){return function(t){var n=t.Yf,i=t.jf,e=i.Zf();return ef(i),Nh(e,function(){if("errored"===n.tf)throw n.nf;var t=n.uf;!0===hc(t)&&rc(t)},function(i){throw Jc(t,i),n.nf})}(t)},function(n){return function(t,n){return Jc(t,n),bh(void 0)}(t,n)},i,e),t.Yf=Hc(u,function(){return function(t){return Kc(t,!1),t.Qf}(t)},function(n){return $c(t,n),bh(void 0)},r,s),t.yf=void 0,t.Qf=void 0,t.Jf=void 0,Kc(t,!0),t.jf=void 0}(this,Ah(function(t){h=t}),r,o,u,a),function(t,n){var i=d.create(tf.prototype),e=function(t){try{return rf(i,t),bh(void 0)}catch(t){return Th(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return lh(r,n,[t,i])}}var s=vh(n,"flush",0,[i]);!function(t,n,i,e){n.$f=t,t.jf=n,n.Kf=i,n.Zf=e}(t,i,e,s)}(this,t);var c=dh(t,"start",[this.jf]);h(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Zc(this))throw of("readable");return this.Yf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Zc(this))throw of("writable");return this.Gf},enumerable:!0,configurable:!0}),t}();function Zc(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"jf")}function Jc(t,n){uc(t.Yf.uf,n),$c(t,n)}function $c(t,n){ef(t.jf),Pa(t.Gf.vf,n),!0===t.yf&&Kc(t,!1)}function Kc(t,n){void 0!==t.Qf&&t.Jf(),t.Qf=Ah(function(n){t.Jf=n}),t.yf=n}var tf=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nf(this))throw uf("desiredSize");return oc(this.$f.Yf.uf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===nf(this))throw uf("enqueue");rf(this,t)},t.prototype.error=function(t){if(!1===nf(this))throw uf("error");var n;n=t,Jc(this.$f,n)},t.prototype.terminate=function(){if(!1===nf(this))throw uf("terminate");!function(t){var n=t.$f,i=n.Yf.uf;!0===hc(i)&&rc(i);var e=new v("TransformStream terminated");$c(n,e)}(this)},t}();function nf(t){return!!hh(t)&&!!d.prototype.hasOwnProperty.call(t,"$f")}function ef(t){t.Kf=void 0,t.Zf=void 0}function rf(t,n){var i=t.$f,e=i.Yf.uf;if(!1===hc(e))throw new v("Readable side is not in a state that permits enqueue");try{sc(e,n)}catch(t){throw $c(i,t),i.Yf.nf}(function(t){return!0!==ic(t)})(e)!==i.yf&&Kc(i,!0)}function sf(t,n){return Nh(t.Kf(n),void 0,function(n){throw Jc(t.$f,n),n})}function uf(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function of(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var hf,af=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return U(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function cf(t){return n=[t],new Fc({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function ff(t){return cf(new y(t))}function vf(t,n){return function(t,n){var i=n,e=t.getReader(),r=new $u,s=function(){u();var t=new fs;e.cancel(t).catch(E),r.xh(t)},u=function(){i&&(i.Bo(s),i=void 0)};i&&(i.Io?s():i.Oo(s));var o=[];return T.resolve(e.read()).then(function t(n){return n.done?(u(),T.resolve(o)):(o.push(n.value),T.resolve(e.read()).then(t))}).then(function(t){u(),r.Ch(t)},function(t){u(),r.xh(t)}),r.Dh}(t,n).then(function(t){return Js(t).buffer})}function df(t,n){var i=n,e=new Yc,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Fo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(E)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(E)}),r}function lf(t){return Hu(new y(t))}function _f(t){return Vu(t).buffer}!function(t){t[t.zc=0]="zc",t[t.tv=1]="tv"}(hf||(hf={}));var wf="content-type",gf="text/plain;charset=UTF-8",yf=function(){function t(){}var n=t.prototype;return n.nv=function(t){return this.ev(t).then(JSON.parse)},n.rv=function(t,n){switch(t){case th.Hc:return this.sv(n);case th.Vc:return this.nv(n);case th.zc:return this.uv();case th.os:return this.ev(n);default:throw new v}},t}();function mf(t,n,i){if(t instanceof yf)return t;if(t instanceof Fc)return function(t,n){return new kf({do:hf.zc,uv:t,ov:pf(n)})}(t,i);var e=pf(i),r=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{do:th.os,hv:t,ov:n||gf};if(t instanceof ArrayBuffer||Ys(t))return{do:th.Hc,hv:If(t),ov:n};if(it(t)||K(t))return{do:th.Vc,hv:t,ov:n};throw new v("Unsupported BodyInit type")}return{do:th.os,hv:null,ov:n}}(t,e)});return new kf({do:hf.tv,Dh:r,av:n})}function pf(t){return(t.get(wf)||"").toLowerCase()}var kf=function(t){function n(n){var i;return(i=t.call(this)||this).cv=!1,i.fv=void 0,i.vv=new $u,i.vv.Dh.catch(E),i.dv(n),i}U(n,t);var i=n.prototype;return i.lv=function(){return this.vv.Dh},i.ev=function(t){return this._v(Af,t)},i.nv=function(t){return this._v(Tf,t)},i.sv=function(t){return this._v(Ef,t)},i.uv=function(){return this.wv((t=this.fv).do===hf.zc?t.uv:df(t.Dh.then(Rf).then(ff),t.av));var t},i._v=function(t,n){if(this.cv)return T.reject(new v("Already used"));this.cv=!0;var i=t(this.fv,n);return this.vv.Ch(i.then(E)),i},i.wv=function(t){if(this.cv)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.cv=!0;var n=new Yc,i=T.resolve(t.pipeTo(n.writable));return this.vv.Ch(i),n.readable},i.dv=function(t){this.fv=t,t.do===hf.tv&&t.Dh.catch(E)},i.gv=function(){if(this.cv)throw new v("Already used");var t=function(t){if(t.do===hf.zc){var n=t.uv.tee(),i=n[0],e=n[1];return[{do:t.do,uv:i,ov:t.ov},{do:t.do,uv:e,ov:t.ov}]}var r=t.av.Vo(),s=r[0],u=r[1];return[{do:t.do,Dh:t.Dh,av:s},{do:t.do,Dh:t.Dh,av:u}]}(this.fv),i=t[0],e=t[1];return this.dv(i),new n(e)},L(n,[{key:"yv",get:function(){return this.cv}}]),n}(yf);function Af(t,n){return t.do===hf.zc?vf(t.uv,n).then(lf):(n&&t.av.Ho(n),gs(t.Dh.then(bf),t.av))}function bf(t){switch(t.do){case th.os:return T.resolve(t.hv||"");case th.Hc:return T.resolve(t.hv).then(lf);case th.Vc:return T.resolve(t.hv).then(JSON.stringify)}}function Tf(t,n){return t.do===hf.zc?Af(t,n).then(JSON.parse):(n&&t.av.Ho(n),gs(t.Dh.then(Sf),t.av))}function Sf(t){return t.do===th.Vc?T.resolve(t.hv):bf(t).then(JSON.parse)}function Ef(t,n){return t.do===hf.zc?vf(t.uv,n):(n&&t.av.Ho(n),gs(t.Dh.then(Rf),t.av))}function Rf(t){switch(t.do){case th.Hc:return T.resolve(t.hv);case th.os:case th.Vc:return bf(t).then(_f)}}function If(t){return t instanceof ArrayBuffer?t:Yu(qu(t)).buffer}function Nf(t){return t.mv>=200&&t.mv<=299||304===t.mv}var Df,Cf,xf,Pf,Of=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.pv,s=i.kv,u=i.mv,o=i.Av,h=i.bv):(r=[],s=th.os,u=200,o="OK",h=!1);var a=n.Tv,c=new nh(n.pv||r),f=n.kv||s,v=n.Sv||(i&&i.Tv===a?i.Sv:a.Ev),d=i?i.Rv:null,l=mf(void 0!==n.Fs?n.Fs:d,n.av||new cs,c);return(e=t.call(this,l)||this).pv=void 0,e.Tv=void 0,e.Sv=void 0,e.kv=void 0,e.mv=void 0,e.Av=void 0,e.bv=void 0,e.pv=c,e.Tv=a,e.Sv=v,e.kv=f,e.mv=void 0!==n.mv?n.mv:u,e.Av=void 0!==n.Av?String(n.Av):o,e.bv=n.bv||h,e}U(n,t);var i=n.prototype;return i.Fs=function(t){return this.rv(this.kv,t)},i.Sh=function(){return new n({Fs:this.gv(),Tv:this.Tv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Rv=void 0,i.Rv=n,i}U(n,t);var i=n.prototype;return i.lv=function(){return this.Rv.lv()},i.ev=function(t){return this.Rv.ev(t)},i.nv=function(t){return this.Rv.nv(t)},i.sv=function(t){return this.Rv.sv(t)},i.uv=function(){return this.Rv.uv()},i.gv=function(){return this.Rv.gv()},L(n,[{key:"yv",get:function(){return this.Rv.yv}}]),n}(yf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Df||(Df={})),function(t){t.Iv="",t.Nv="manifest",t.Dv="segment",t.Cv="content-protection"}(Cf||(Cf={})),function(t){t.Iv="",t.xv="initialization-segment",t.Pv="fairplay-license",t.Ov="fairplay-certificate",t.Bv="widevine-license",t.Lv="widevine-certificate",t.Mv="playready-license",t.Uv="clearkey-license",t.Fv="aes128-key"}(xf||(xf={})),function(t){t.Iv="",t.Hv="audio",t.Vv="video",t.os="text",t.zv="image"}(Pf||(Pf={}));var Bf=function(t,n){this.hv=void 0,this.pv=void 0,this.Xv=void 0,this.kv=void 0,this.Wv=void 0,this.zo=void 0,this.do=void 0,this.qv=void 0,this.Gv=void 0,this.Ev=void 0,this.jv=void 0,this.Qv=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.Ev;n?(i=n.hv,e=n.pv,r=n.Xv,s=n.kv,u=n.Wv,o=n.zo,h=n.do,a=n.qv,c=n.Gv,f=n.jv,v=n.Qv):(i=null,e={},r=Df.GET,s=th.os,u=0,h=Cf.Iv,a=xf.Iv,c=Pf.Iv,f=!1),this.Ev=d,this.hv=t.hv||i,this.pv=new nh(t.pv||e),this.Xv=t.Xv||r,this.kv=t.kv||s,this.Wv=void 0!==t.Wv?Number(t.Wv)||0:u,this.zo=t.zo||o||(new cs).zo,this.do=t.do||h,this.qv=t.qv||a,this.Gv=t.Gv||c,this.jv=void 0!==t.jv?Boolean(t.jv):f,this.Qv=t.Qv||v},Lf=function(){function t(){}var n=t.prototype;return n.Tv=function(t){var n=function(t){return new Of({Fs:null,pv:{},Tv:t,Sv:t.Ev,kv:t.kv,mv:0,Av:Ko.mc})}(new Bf(t));return T.resolve(n)},n.Yv=function(t){},n.Zv=function(){},t}();var Mf=function(){function t(t,n){void 0===n&&(n=!0),this.Jv=void 0,this.$v=void 0,this.Jv=t,this.$v=n}var n=t.prototype;return n.Tv=function(t){var n=this.Kv(t);return this.Jv.Tv(n)},n.Yv=function(t){return this.Jv.Yv(this.td(t))},n.Kv=function(n){var i=new Bf(n);if(!this.$v){var e=t.nd(i.Ev);i=new Bf({Ev:e},i)}return i},n.td=function(n){var i=n.Ev;return this.$v||(i=t.nd(i)),{Ev:i,hv:n.hv}},t.nd=function(t){return b.Yu&&Dr(t,"http://")?t.replace(":","s:"):t},n.Zv=function(){this.Jv.Zv()},L(t,null,[{key:"ed",get:function(){return t.rd||(t.rd=new t(new Lf)),t.rd}}]),t}();function Uf(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Ff(t,n){var i=b.Xu(t);return n&&!Cr(i,"/")&&(i+="/"),i}Mf.rd=void 0;var Hf,Vf=/cache:(.+)?(?=&|$)/,zf="http://webcache.googleusercontent.com/search?q=cache:";function Xf(t){if(!Dr(t,zf))return"";var n=b.zu(t).search.match(Vf);return n&&n.length>1?n[1]:""}function Wf(t){return b.zu(t).hostname}!function(t){t.sd="HttpOpenError",t.ud="HttpResponseError",t.od="HttpTimeoutError"}(Hf||(Hf={}));var qf=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).hd=void 0,r.hd=n,r}return U(n,t),L(n,[{key:"Tv",get:function(){return this.hd}}]),n}(on);var Gf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Ev+". Invalid URL.",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Hf.sd}}]),n}(qf);var jf=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Tv,null!=e?e:function(t){return"Error while loading "+t.Tv.Ev+", status code "+t.mv}(n),i)||this).fd=void 0,r.fd=n,r}return U(n,t),L(n,[{key:"name",get:function(){return Hf.ud}},{key:"vd",get:function(){return this.fd}}]),n}(qf);var Qf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ev+" timed out after "+t.Wv+" seconds."}(n),i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Hf.od}}]),n}(qf),Yf=function(t,n){return(Yf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Zf(t,n){function i(){this.constructor=t}Yf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Jf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var $f=function(){var t=Jf.Blob;if(t)try{return new t,function(t,n){return new Jf.Blob(t,n)}}catch(t){}var n,i=Jf.BlobBuilder||Jf.WebKitBlobBuilder||Jf.MozBlobBuilder||Jf.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Kf="function"==typeof Fc?Fc:void 0;function tv(t){return t&&"function"==typeof t.getReader}function nv(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&tv(i)}catch(t){return!1}}var iv=function(){function t(t,n){this.Kc=t,this.dd=n}return t.prototype.pull=function(t){var n=this;return this.Kc.read().then(function(i){n.dd&&n.dd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Kc.cancel(t)},t}();function ev(t,n){return n.constructor===t?n:new t(new iv(n.getReader()),{highWaterMark:0})}var rv=function(){function t(t,n){this.ld=t,this.Rt=n}return t.prototype.pull=function(t){return this.ld().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Rt&&this.Rt(t)},t}();function sv(t,n,i){return new t(new rv(n,i),{highWaterMark:0})}var uv={searchParams:"URLSearchParams"in Jf,iterable:"Symbol"in Jf&&"iterator"in Symbol,blob:"FileReader"in Jf&&!!$f,formData:"FormData"in Jf,arrayBuffer:"ArrayBuffer"in Jf,stream:nv(Kf),streamRequest:"Request"in Jf&&"body"in Jf.Request.prototype,streamResponse:"Response"in Jf&&"body"in Jf.Response.prototype,abort:"AbortController"in Jf&&"Request"in Jf&&"signal"in Jf.Request.prototype,encoding:"TextEncoder"in Jf&&"TextDecoder"in Jf,url:"URL"in Jf&&function(t){try{return new Jf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Jf&&/Firefox\//.test(Jf.navigator.userAgent)};function ov(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function hv(t){return"string"!=typeof t&&(t=String(t)),t}function av(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return uv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var cv=function(){function t(t){var n=this;this.oo={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return uv.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=ov(t),n=hv(n);var i=t.toLowerCase();if(this.oo.hasOwnProperty(i)){var e=this.oo[i],r=e[1];e[1]=r?r+", "+n:n}else this.oo[i]=[t,n]},t.prototype.delete=function(t){var n=ov(t).toLowerCase();delete this.oo[n]},t.prototype.get=function(t){var n=ov(t).toLowerCase();return this.oo.hasOwnProperty(n)?this.oo[n][1]:null},t.prototype.has=function(t){var n=ov(t).toLowerCase();return this.oo.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=ov(t)).toLowerCase();this.oo[i]=[t,hv(n)]},t.prototype.forEach=function(t,n){for(var i in this.oo)this.oo.hasOwnProperty(i)&&t.call(n,this.oo[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),av(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),av(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),av(t)},t.prototype.asList=function(){var t=[];for(var n in this.oo)if(this.oo.hasOwnProperty(n)){var i=this.oo[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function fv(){}uv.iterable&&(cv.prototype[Symbol.iterator]=cv.prototype.entries);var vv,dv,lv,_v=l.min,wv=String.fromCharCode,gv=16384;function yv(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=gv){var r=_v(e+gv,n);i.push(wv.apply(null,t.slice(e,r)))}return i.join("")}(n)}function mv(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function pv(t,n){return t>>n&63|128}function kv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(mv(t),n.push(t>>12&15|224),n.push(pv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(pv(t,12)),n.push(pv(t,6))),n.push(63&t|128)):n.push(t)}function Av(){if(lv>=dv)throw new f("Invalid byte index");var t=255&vv[lv];if(lv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function bv(){var t,n;if(lv>dv)throw new f("Invalid byte index");if(lv===dv)return!1;if(t=255&vv[lv],lv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Av())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Av()<<6|Av())>=2048)return mv(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Av()<<12|Av()<<6|Av())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var Tv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Sv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Ev(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Rv(t){return t&&DataView.prototype.isPrototypeOf(t)}var Iv,Nv=ArrayBuffer.isView||function(t){return t&&(Tv.indexOf(d.prototype.toString.call(t))>-1||Rv(t))};function Dv(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function Cv(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function xv(t){return uv.encoding?new Jf.TextDecoder("utf-8").decode(new y(t)):yv(function(t){dv=(vv=t).length,lv=0;for(var n,i=[];!1!==(n=bv());)i.push(n);return i}(new y(t)))}function Pv(t){return uv.encoding?(new Jf.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)kv(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Ov(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?T.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function Bv(t){return Ov(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function Lv(t){return t.slice?t.slice(0):Mv(new y(t))}function Mv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Uv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Fv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n._d===Iv.wd){if(!n.gd.tee)throw new f("could not clone ReadableStream body");var i=n.gd.tee(),e=i[0],r=i[1];return n.body=e,n.gd=e,n.yd=e,r}return n._d===Iv.Hc?Lv(n.gd):n._d===Iv.tv?n.gd.then(Fv):n.yd}!function(t){t[t.os=0]="os",t[t.md=1]="md",t[t.pd=2]="pd",t[t.Hc=3]="Hc",t[t.wd=4]="wd",t[t.tv=5]="tv"}(Iv||(Iv={}));var Hv=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.yd=n||null,n)if("string"==typeof n)this._d=Iv.os,this.gd=n;else if((s=n)&&"function"==typeof s.then)this._d=Iv.tv,this.gd=T.resolve(n).then(function(n){return new t(n,i)}),this.gd.catch(fv);else if(uv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this._d=Iv.md,this.gd=n;else if(uv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this._d=Iv.pd,this.gd=n;else if(uv.searchParams&&Sv(n))this._d=Iv.os,this.gd=n.toString();else if(uv.arrayBuffer&&(Ev(n)||Nv(n)))Rv(n)&&(this.yd=new y((r=n).buffer,r.byteOffset,r.byteLength)),this._d=Iv.Hc,this.gd=Ev(e=n)?Lv(e):Mv(e);else{if(!uv.stream||!tv(n))throw new f("unsupported BodyInit type");n=ev(Kf,n),this._d=Iv.wd,this.gd=n,this.yd=n}else this._d=Iv.os,this.gd="";this.kd="",i.has("content-type")?this.kd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.kd="text/plain;charset=UTF-8":u._d===Iv.md&&u.gd.type?this.kd=u.gd.type:uv.searchParams&&Sv(n)&&(this.kd="application/x-www-form-urlencoded;charset=UTF-8"),this.kd&&i.set("content-type",this.kd)),uv.stream&&(null==n?this.body=null:u._d===Iv.wd?this.body=u.gd:this.body=sv(Kf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Dv(this);return e||(this._d===Iv.md?(t=this.gd,n=new FileReader,i=Cv(n),n.readAsText(t),i):this._d===Iv.Hc?T.resolve(this.gd).then(xv):this._d===Iv.wd?Bv(this.gd).then(xv):this._d===Iv.tv?this.gd.then(function(t){return t.text()}):this._d===Iv.pd?T.reject(new f("could not read FormData body as text")):T.resolve(this.gd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();uv.blob&&(Hv.prototype.blob=function(){var t,n,i=Dv(this);return i||(this._d===Iv.md?T.resolve(this.gd):this._d===Iv.Hc?T.resolve($f([this.gd],{type:this.kd})):this._d===Iv.wd?(t=this.gd,n=this.kd,Ov(t).then(function(t){return $f(t,{type:n||""})})):this._d===Iv.tv?this.gd.then(function(t){return t.blob()}):this._d===Iv.pd?T.reject(new f("could not read FormData body as Blob")):T.resolve($f([this.gd],{type:this.kd})))}),uv.arrayBuffer&&(Hv.prototype.arrayBuffer=function(){var t,n,i;return this._d===Iv.Hc?Dv(this)||T.resolve(this.gd):this._d===Iv.md?Dv(this)||(t=this.gd,n=new FileReader,i=Cv(n),n.readAsArrayBuffer(t),i):this._d===Iv.wd?Bv(this.gd):this._d===Iv.tv?Dv(this)||this.gd.then(function(t){return t.arrayBuffer()}):this._d===Iv.pd?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.gd).then(Pv)}),uv.formData&&(Hv.prototype.formData=function(){return this._d===Iv.pd?Dv(this)||T.resolve(this.gd):this.text().then(Uv)});var Vv=[301,302,303,307,308],zv=function(t){function n(n,i){var e=this,r=new cv((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Zf(n,t),n.prototype.clone=function(){return new n(Fv(this),{status:this.status,statusText:this.statusText,headers:new cv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Vv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Hv);var Xv,Wv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function s(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function h(t,n){return(h=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return s(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}(n,f),s(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return s(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==r?r.createEvent?(t=r.createEvent("Event")).initEvent("abort",!1,!1):(t=r.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Xv=Wv)&&Xv.__esModule&&d.prototype.hasOwnProperty.call(Xv,"default")&&Xv.default;Wv.AbortSignal;var qv=Wv.AbortController,Gv=Jf.DOMException;try{new Gv}catch(t){(Gv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Gv.prototype.constructor=Gv}var jv=qv;function Qv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Yv(t,n,i){return new T(function(e,r){if(n.signal.aborted)return t.catch(fv),r(Zv());var s=function(){n.signal.removeEventListener("abort",s),r(Zv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Zv(){return new Gv("Aborted","AbortError")}var Jv,$v="moz-chunked-arraybuffer";function Kv(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Jv||(Jv={}));var td=function(){function t(t,n){var i=this;this.Ad=!1,this.hd=t,this.bd=n,this.Td=new p,this.Sd=new T(function(t,n){i.Ed=t,i.Rd=n})}return t.prototype.send=function(){var t=this;return this.Id().then(function(n){return t.Nd(n,t.bd),t.Sd})},t.prototype.Id=function(){var t=this.hd;return t._d===Iv.wd?t.arrayBuffer():T.resolve(t.yd)},t.prototype.Dd=function(t){this.hd.onprogress&&this.hd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Cd=function(t){this.Rd(t)},t.prototype.xd=function(){this.Cd(new v("Network request failed"))},t.prototype.Pd=function(){this.Cd(new v("Network request failed"))},t.prototype.Od=function(){this.Cd(Zv())},t.prototype.Nd=function(t,n){var i=this,e=this.hd,r=this.Td,s=function(){return i.Bd()};if(e.signal.aborted)return this.Od();r.onreadystatechange=function(){if(r.readyState>=Jv.HEADERS_RECEIVED&&!i.Ad){var t=function(t){var n=new cv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Ad=!0,i.Ld(n)}},r.onprogress=function(t){return i.Dd(t)},r.onload=function(){return i.Md()},r.onerror=function(){return i.xd()},r.ontimeout=function(){return i.Pd()},r.onabort=function(){return i.Od()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Bd=function(){this.Od(),this.Td.abort()},t}(),nd=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Ud=void 0,e.Fd=void 0,e}return Zf(n,t),n.prototype.Ld=function(t){var n=this;this.Ud=new T(function(t,i){n.Fd=t,n.Hd=i}),this.Ed(new zv(this.Ud,t))},n.prototype.Md=function(){var t=this.Td.response||this.Td.responseText;this.Fd(t)},n.prototype.Cd=function(n){t.prototype.Cd.call(this,n),this.Hd&&this.Hd(n)},n}(td),id=function(t){function n(n){var i=t.call(this,n,$v)||this;return i.Vd=void 0,i.zd=void 0,i.Xd=!1,i}return Zf(n,t),n.prototype.Ld=function(t){var n=this;this.Vd=new Kf({start:function(t){n.zd=t},cancel:function(){n.Xd=!0,n.Bd()}}),this.Ed(new zv(this.Vd,t))},n.prototype.Dd=function(n){this.Xd||this.zd.enqueue(new y(this.Td.response)),t.prototype.Dd.call(this,n)},n.prototype.Md=function(){this.zd.close()},n.prototype.Cd=function(n){t.prototype.Cd.call(this,n),this.zd&&!this.Xd&&(this.Xd=!0,this.zd.error(n))},n}(td),ed=function(){var t=uv.firefox&&Kv($v);return ed=function(){return t},t},rd=function(){var t;return t=uv.arrayBuffer&&Kv("arraybuffer")?"arraybuffer":uv.blob&&Kv("blob")?"blob":"",rd=function(){return t},t};function sd(t){return(uv.stream&&ed()?new id(t):new nd(t,rd())).send()}var ud=Jf.fetch,od=Jf.Request,hd=(Jf.Response,Jf.AbortController);var ad=["http:","https:"];var cd=function(){try{if(uv.streamRequest){var t=new od("about:blank",{body:"",method:"POST"}).body;if(t&&nv(t.constructor))return t.constructor}}catch(t){}}();function fd(t,n,i){var e;if(uv.stream){var r=void 0;if(uv.streamResponse){var s=t.body;r=s&&ev(Kf,s)}else r=sv(Kf,function(){return Yv(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new iv(n.getReader(),i),{highWaterMark:0})}(Kf,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,vd(t.headers))),e=r}else{var u=Yv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,vd(t.headers))),e=u}return new zv(e,t)}function vd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function dd(t){var n=new jv;return t.signal&&Qv(n,t.signal),function(t,n){var i,e,r=t;if(i=r._d===Iv.wd?uv.streamRequest&&cd?T.resolve(ev(cd,r.gd)):Yv(t.arrayBuffer(),n,!1):Yv(T.resolve(t.yd),n,!1),uv.abort){var s=new hd;Qv(s,n.signal),e=s.signal}return i.then(function(n){return new od(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof cv?i:new cv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return ud(i).then(function(i){return fd(i,n,t.onprogress)})})}var ld=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var _d=function(t){function n(i,e){var r,s,u,o,h,a,c,f,d,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,s=i.credentials,e.headers||(u=new cv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.yd||(_=i.yd,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,d=null;if(!e.headers&&u||(u=new cv(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return ld.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new jv).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Zf(n,t),n.prototype.clone=function(){return new n(this,{body:Fv(this)})},n}(Hv),wd="function"==typeof ud&&uv.stream&&uv.streamResponse&&uv.url;function gd(t,n){return new T(function(i){var e=new _d(t,n);i((wd&&function(t){try{return ad.indexOf(new Jf.URL(t,Jf.location.href).protocol)>=0}catch(t){return!1}}(e.url)?dd:sd)(e))})}gd.polyfill=!0;var yd=function(){function t(t){this.vd=void 0,this.hd=void 0,this.Wd=new cs,this.fd=void 0,this.qd=!1,this.hd=t,this.Wd.Ho(t.zo),this.vd=this.Gd()}var n=t.prototype;return n.Gd=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r,s,u,h,a,c=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.hd).Wv&&o(function(){c.qd=!0,c.Wd.Fo()},n.Wv),t.prev=2,i=gd(n.Ev,{method:n.Xv,headers:n.pv.Xc(),body:n.hv,credentials:n.jv?"include":"same-origin",signal:kd(this.Wd.zo),onprogress:n.Qv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Gf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),vs(r=this.jd(t.t1))&&this.Wd.Fo(),r;case 20:if(s=e.url||n.Ev,u=0===e.status&&"file:"===(f=s,b.zu(f).protocol)?200:e.status,h=new md(this,e,this.Wd),a=new Of({Fs:h,Tv:n,kv:n.kv,pv:new nh(e.headers.asList()),mv:u,Av:e.statusText,Sv:s}),this.fd=a,!Nf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new jf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.jd=function(t){return vs(t)?this.qd?new Qf(this.hd):new fs(t.message,t):this.fd?new jf(this.fd,t):new Gf(this.hd,t)},t}(),md=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).cn=void 0,r.Qd=void 0,r.Wd=void 0,r.vv=new $u,r.cn=n,r.Qd=i,r.Wd=e,r.vv.Dh.catch(E),r}U(n,t);var i=n.prototype;return i.lv=function(){return this.vv.Dh},i.ev=function(t){return this._v(this.Qd.text(),t)},i.sv=function(t){return this._v(this.Qd.arrayBuffer(),t)},i.uv=function(){var t=this.Qd.body;return t?this.wv(t):df(this.sv().then(ff),this.Wd)},i.gv=function(){var t=this.Qd.clone(),i=this.Wd.Vo(),e=i[0],r=i[1];return this.Wd=e,new n(this.cn,t,r)},i._v=function(t,n){var i=this;n&&this.Wd.Ho(n);var e=T.resolve(t).catch(function(t){throw i.cn.jd(t)});return e=gs(e,this.Wd),this.vv.Ch(e.then(E)),e},i.wv=function(t){var n=this,i=new Yc,e=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.cn.jd(t);throw i.writable.abort(e).catch(E),e});return e=gs(e,this.Wd),this.vv.Ch(e.then(E)),i.readable},L(n,[{key:"yv",get:function(){return this.Qd.bodyUsed}}]),n}(yf),pd="abort";function kd(t){var n=new jv;if(t.Io)n.abort();else if(!t.No){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(pd,i),t.Bo(i),t.Mo(e)};n.signal.addEventListener(pd,i),t.Oo(i),t.Lo(e)}return n.signal}function Ad(t,n,i){return new T(function(e,r){if(i&&i.Io)return r(new fs);var s=function(t){o(),e(t)},u=function(){o(),r(new fs)},o=function(){t.removeEventListener(n,s),i&&i.Bo(u)};t.addEventListener(n,s),i&&i.Oo(u)})}var bd,Td,Sd=function(){function t(){}var n=t.prototype;return n.Tv=function(t){return new yd(t).vd},n.Yv=function(t){if(Ae&&Ae.sendBeacon)Ae.sendBeacon(t.Ev,Jo([t.hv],{type:t.ov}));else{var n=t.ov?{"Content-type":t.ov}:void 0;ks(this.Tv(new Bf({Xv:Df.POST,Ev:t.Ev,hv:t.hv,pv:n})))}},n.Zv=function(){},t}();bd=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Yd=void 0,i.Zd=function(){if(Y.Tr)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Jd=Y.jr,i.$d=void 0,i}return U(i,n),L(i,[{key:"Bu",get:function(){return this.Yd||(this.Yd=new Xr(jo())),this.Yd}},{key:"Kd",get:function(){return this.Zd}},{key:"tl",get:function(){return this.Jd}},{key:"nl",get:function(){return!1}},{key:"il",get:function(){return Yo.ic()}},{key:"sl",get:function(){return{ul:$o}}},{key:"ol",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"hl",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"al",get:function(){return this.$d||(this.$d=new Mf(new Sd)),this.$d}}]),i}($e)),b=bd,function(t){t.cl="fl",t.vl="dl"}(Td||(Td={}));Td.cl,Td.vl;var Ed=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ll=void 0,e}return U(n,t),L(n,[{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}}]),n}(Ds);function Rd(t){return Boolean(t&&t._l)}var Id,Nd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(Ed),Dd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(Ds),Cd=function(t){function n(n){var i;return(i=t.call(this,Td.cl)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new xd(this.gl._l)},n}(Nd),xd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return U(n,t),n}(Dd),Pd=function(t){function n(n){var i;return(i=t.call(this,Td.vl)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new Od(this.gl._l)},n}(Nd),Od=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return U(n,t),n}(Dd);!function(t){t.yl="ml",t.pl="kl",t.Al="bl",t.Tl="Sl",t.El="Rl",t.Il="Nl",t.Dl="Cl",t.xl="Pl",t.Ol="Yh",t.Bl="Ll",t.Ml="Ul",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Id||(Id={}));var Bd=function(t){function n(){var n;return(n=t.call(this)||this).Fl=[],n.ll=void 0,n}U(n,t);var i=n.prototype;return i.Hl=function(t){return this.Fl[t]},i.Vl=function(t){return!(!t||is(this.Fl,t))&&(this.Fl.push(t),this.ll&&this.ll.push(t._l),t.Qo(Id.Il,this.Go),this.jo(new Cd(t)),!0)},i.zl=function(t){if(!t)return!1;var n=this.Fl.indexOf(t);return!(n<0)&&(ns(this.Fl,n),this.ll&&ns(this.ll,n),t.$o(Id.Il,this.Go),this.jo(new Pd(t)),!0)},i.Xl=function(t){return is(this.Fl,t)},i.Wl=function(){for(var t=this.Fl,n=t.length-1;n>=0;n-=1)this.zl(t[n])},i.Zv=function(){this.Wl(),this.Jo()},L(n,[{key:"ql",get:function(){return this.Fl}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"Gl",get:function(){return this.Fl.length}}]),n}(Is),Ld=function(t){function n(n){var i;return(i=t.call(this,Id.Il)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new Md(this.gl._l)},n}(Nd),Md=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return U(n,t),n}(Dd),Ud=function(t){function n(){var n;return(n=t.call(this)||this).jl=void 0,n.Ql=function(t){var i=t.gl;n.Vl(i)},n.Yl=function(t){var i=t.gl;n.zl(i)},n}U(n,t);var i=n.prototype;return i.Zl=function(t){t.Qo(Td.cl,this.Ql),t.Qo(Td.vl,this.Yl)},i.Jl=function(t){t.$o(Td.cl,this.Ql),t.$o(Td.vl,this.Yl)},i.Zv=function(){this.jl&&this.jl.Zv(),t.prototype.Zv.call(this)},L(n,[{key:"$l",get:function(){return this.jl},set:function(t){var n=this.jl;if(t!==n){if(n){this.Jl(n);for(var i=0,e=n.ql;i<e.length;i++){var r=e[i];t&&t.Xl(r)||this.zl(r)}}if(this.jl=t,t){for(var s=[],u=0,o=t.ql;u<o.length;u++){var h=o[u];this.Vl(h),this.Kl(h)&&s.push(h)}this.Zl(t);for(var a=0;a<s.length;a++){var c=s[a];c.jo(new Ld(c))}}}}}]),n}(Bd),Fd=d.freeze||R;function Hd(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Vd(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function zd(t){if(it(t)){var n={};for(var i in t)Z.call(t,i)&&(n[i]=zd(t[i]));return n}if(K(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=zd(t[r]));return e}return t}function Xd(t,n){return t===n||!(!t||!n)&&(!(!nt(t)||!nt(n))&&(tt(t)?!!tt(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Xd(t[r],n[r]))return!1;return!0}(t,n):!tt(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!Z.call(n,s)||!Xd(t[s],n[s]))return!1}return!0}(t,n)))}function Wd(t,n){return t.constructor===n.constructor}function qd(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Gd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Qd(t){var n=jd(t);if(g(n))throw new f("Expected a valid number.");return n}function Yd(t){return"string"==typeof t?t:""}function Zd(t,n){if(!tt(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Jd(t,n){return tt(t)?Zd(t,n):n(t)}var $d=[Td.cl,Td.vl,Id.Il];function Kd(t){var n,i=t.ql.map(function(t){return t._l});return i.item=function(n){var i=0|n,e=t.Hl(i);return e&&e._l||void 0},i.addEventListener=function(t,i){n.Qo(t,i)},i.removeEventListener=function(t,i){n.$o(t,i)},n=new Ns(i),t.Qo($d,function(t){return n.jo(t._l)}),i}function tl(){}function nl(t){var n,i=[Id.Ol,Id.Il,Id.Bl,Id.Ml,Id.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.t_&&t.t_._l},get enabled(){return t.n_},set enabled(n){t.n_=Gd(n)},get id(){return t.i_},get uid(){return t.e_},get kind(){return t.r_},get label(){return t.s_},set label(n){t.s_=Yd(n)},get language(){return t.u_},get qualities(){return t.o_._l},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.o_.ql;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s._l===o&&i.push(s)}return i}(t,K(n)?n:[n]):[]).length>0?t.h_=i:t.h_=void 0},get targetQuality(){if(t.h_)return 1===t.h_.length?t.h_[0]._l:t.h_.map(function(t){return t._l})},addEventListener:function(t,i){var e=Jd(t,Yd);n.Qo(e,i)},removeEventListener:function(t,i){var e=Jd(t,Yd);n.$o(e,i)}};return n=new Ns(e),t.Qo(i,function(t){return n.jo(t._l)}),d.defineProperty(e,"constructor",{value:tl}),e}function il(){}function el(t){var n=Kd(t);return d.defineProperty(n,"constructor",{value:il}),n}var rl,sl,ul=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.wl=function(){return el(this)},i.Kl=function(t){return t.n_},n}(Ud);function ol(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case rl.a_:case rl.c_:case rl.f_:return n}}else if("number"==typeof t)switch(t){case 0:return rl.a_;case 1:return rl.c_;case 2:return rl.f_}return rl.a_}function hl(){}function al(t){var n,i=[Id.Il,Id.Ol,Id.yl,Id.pl,Id.Al,Id.Tl,Id.El,Id.Dl,Id.xl],e=[sl.v_],r={get kind(){return t.r_},get label(){return t.s_},set label(n){t.s_=Yd(n)},get language(){return t.u_},get id(){return t.i_},get uid(){return t.e_},get inBandMetadataTrackDispatchType(){return t.d_},get mode(){return t.l_},set mode(n){n!==rl.f_&&n!==rl.c_&&n!==rl.a_||t.__(n)},get forced(){return Boolean(t.w_)},get type(){return t.do},get readyState(){return vl(t.g_)},get cues(){return t.l_===rl.a_?null:t.y_._l},get activeCues(){return t.l_===rl.a_?null:t.m_._l},get src(){return t.p_||""},addEventListener:function(t,i){var e=Jd(t,Yd);n.Qo(e,i)},removeEventListener:function(t,i){var e=Jd(t,Yd);n.$o(e,i)}};return n=new Ns(t),t.Qo(i,function(t){return n.jo(t._l)}),t.Qo(e,function(t){return n.jo(t)}),d.defineProperty(r,"constructor",{value:hl}),r}function cl(){}function fl(t){var n=Kd(t);return d.defineProperty(n,"constructor",{value:cl}),n}function vl(t){return t}!function(t){t.a_="disabled",t.c_="hidden",t.f_="showing"}(rl||(rl={})),function(t){t.v_="error"}(sl||(sl={}));var dl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.wl=function(){return fl(this)},i.Kl=function(t){return t.l_===rl.f_},n}(Ud),ll=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Zo=function(n){t.prototype.Zo.call(this,n)},i.nh=function(n){t.prototype.nh.call(this,n)},n}(Is),_l=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(ll),wl=function(t){function n(){return t.call(this,Ko.lc)||this}return U(n,t),n}(Ds),gl=function(t){function n(n){var i;return(i=t.call(this,Ko.ac)||this).currentSource=n,i}return U(n,t),n}(Ds),yl=function(){function t(){}return t.k_=function(n,i){var e=t.A_(n,i);return e?t.b_(e):0},t.T_=function(){return b.ol||"default"},t.S_=function(){return b.hl||"unknown"},t.A_=function(n,i){var e,r=null==(e=b.il)?void 0:e.gh(i),s=r&&JSON.parse(r);if(s&&s[n])return t.E_(s,n,i)},t.b_=function(t){var n=t.availableBandwidth;return n||0},t.E_=function(n,i,e){if(!t.R_(n,i))return n[i];t.I_(n,i,e)},t.I_=function(t,n,i){var e;delete t[n],null==(e=b.il)||e.nc(i,JSON.stringify(t))},t.R_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.N_=function(t,n,i,e){var r;return nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.D_=function(n){var i=t.T_();t.C_(i,"theoplayer-stored-network-info",n,Jt())},t.C_=function(n,i,e,r){var s,u,o=null==(s=b.il)?void 0:s.gh(i),h=o?JSON.parse(o):void 0,a=t.N_(h,n,e,r);null==(u=b.il)||u.nc(i,JSON.stringify(a))},t.x_=function(){var n=t.T_();return t.k_(n,"theoplayer-stored-network-info")},t}();var ml,pl,kl,Al,bl,Tl,Sl="1ADD53F3";function El(t){return{chromecast:function(t){return{appID:t&&t.appID?Yd(t.appID):Sl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ml.AUTO;case"manual":return ml.MANUAL;case"disabled":return ml.DISABLED;default:return ml.MANUAL}}(t?t.strategy:void 0)}}function Rl(t){var n,i=kl.P_;return(n=t)&&Nr(n,"mpd")&&(i=kl.O_),function(t){return!!t&&Nr(t,"m3u8")}(t)&&(i=kl.B_),i}function Il(t){return!!t&&Dr(t.toLowerCase(),kl.O_)}function Nl(t){if(!t)return!1;var n=t.toLowerCase();return Dr(n,kl.B_)||Dr(n,kl.L_)}function Dl(t){return nt(t)&&nt(t.ssai)&&"google-dai"===t.ssai.integration}function Cl(t){return nt(t)&&et(t.integration)&&"verizon-media"===t.integration}function xl(t){if(et(t))return!t;if(Cl(t))return!t.id;if(Dl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Pl(t){return Boolean(nt(t)&&et(t.src))}function Ol(t){return et(t)||Pl(t)||Dl(t)||Cl(t)}function Bl(t){if(t){if(Ol(t))return xl(t);for(var n=0;n<t.length;n++){if(!xl(t[n]))return!1}return!0}return!0}function Ll(){return{crossOrigin:pl.M_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Ml(){return nr({},Ll(),{src:void 0,type:kl.P_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Ul(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Al.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return bl.NONE;case"midroll-and-postroll":default:return bl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Gd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Al.INSECURE;case"disabled":return Al.DISABLED;case"enabled":default:return Al.ENABLED}}(t.vpaidMode)),K(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(et)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Gd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Fl(t){if(!tt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];it(r)&&n.push(r)}return n}function Hl(t){return et(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ml||(ml={})),function(t){t.M_="",t.U_="anonymous",t.F_="use-credentials"}(pl||(pl={})),function(t){t.O_="application/dash+xml",t.B_="application/vnd.apple.mpegurl",t.L_="application/x-mpegurl",t.P_="video/mp4",t.H_="application/vnd.theoplayer.hesp+json",t.V_="application/vnd.theo.hesp+json"}(kl||(kl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Al||(Al={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(bl||(bl={})),function(t){t[t.z_=0]="z_",t[t.X_=1]="X_",t[t.W_=2]="W_",t[t.q_=3]="q_",t[t.G_=4]="G_"}(Tl||(Tl={}));var Vl,zl=function(t){function n(n,i){var e;return void 0===i&&(i=Tl.z_),(e=t.call(this,Ko.vc)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),Xl=function(t){function n(n){var i;return(i=t.call(this,Ko.kc)||this).currentTime=n,i}return U(n,t),n}(Ds),Wl=function(t){function n(n){var i;return(i=t.call(this,Ko.Ac)||this).currentTime=n,i}return U(n,t),n}(Ds);!function(t){t.j_="canplay",t.Q_="canplaythrough",t.Y_="loadeddata",t.Z_="loadedmetadata",t.Dl="readystatechange",t.J_="waiting",t.K_="playing"}(Vl||(Vl={}));var ql,Gl,jl=[Vl.j_,Vl.Q_,Vl.Y_,Vl.Z_,Vl.Dl,Vl.J_,Vl.K_],Ql=function(t){function n(n,i){var e;return void 0===i&&(i=Tl.X_),(e=t.call(this,Vl.Z_)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),Yl=function(t){function n(n){var i;return(i=t.call(this,Ko.fc)||this).duration=n,i}return U(n,t),n}(Ds),Zl=function(t){function n(n,i){var e;return(e=t.call(this,Ko.Tc)||this).currentTime=n,e.playbackRate=i,e}return U(n,t),n}(Ds),Jl=function(t){function n(n,i){var e;return(e=t.call(this,Ko.Bc)||this).currentTime=n,e.currentProgramDateTime=i,e}return U(n,t),n}(Ds),$l=function(t){function n(n){var i;return(i=t.call(this,Ko.dc)||this).currentTime=n,i}return U(n,t),n}(Ds),Kl=function(t){function n(n,i){var e;return void 0===i&&(i=Tl.W_),(e=t.call(this,Vl.Y_)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),t_=function(t){function n(n){var i;return(i=t.call(this,Ko.Ic)||this).currentTime=n,i}return U(n,t),n}(Ds),n_=function(t){function n(n){var i;return(i=t.call(this,Ko.Rc)||this).currentTime=n,i}return U(n,t),n}(Ds),i_=function(t){function n(n,i){var e;return(e=t.call(this,Ko.Lc)||this).currentTime=n,e.volume=i,e}return U(n,t),n}(Ds),e_=function(t){function n(n,i){var e;return void 0===i&&(i=Tl.q_),(e=t.call(this,Vl.j_)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),r_=function(t){function n(n,i){var e;return void 0===i&&(i=Tl.G_),(e=t.call(this,Vl.Q_)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),s_=function(t){function n(n,i){var e;return(e=t.call(this,Vl.Dl)||this).currentTime=n,e.readyState=i,e}return U(n,t),n}(Ds),u_=function(t){function n(n){var i;return(i=t.call(this,sl.v_)||this).errorObject=n,i}return U(n,t),n.prototype.wl=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ed);function o_(t){switch(t){case ql.ALL:case ql.CONTENT:return t;default:return ql.NONE}}function h_(t){var n,i,e,r=zd(t||{});return r.libraryLocation&&(r.libraryLocation=Ff(r.libraryLocation)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=El(r.cast),r.ads=Ul(r.ads),r.analytics=Fl(r.analytics),r.mutedAutoplay=o_(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=et(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return Ff(t)}catch(t){return void b.Nu("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function a_(t){return{tw:t.tw,nw:t.nw,iw:t.iw,hh:t.hh,ew:t.ew,rw:t.rw,sw:t.sw,uw:t.uw,g_:t.g_,ow:t.ow,hw:t.hw,aw:t.aw,cw:t.cw}}function c_(t,n,i){if(n!==i){var e=n.tw,r=n.nw,s=n.rw,u=n.sw,o=n.uw,h=n.g_,a=n.ow,c=(n.aw,n.hw,n.cw),f=i.tw,v=i.nw,d=i.iw,l=i.ew,_=i.rw,w=i.sw,y=i.uw,m=i.g_,p=i.ow,k=(i.aw,i.hw,i.cw);h!==Tl.z_&&t.jo(new zl(f,m)),w&&!u?t.jo(new Xl(f)):!w&&u&&t.jo(new Wl(f)),m>=Tl.X_&&t.jo(new Ql(f,m)),v===r||g(v)&&g(r)||t.jo(new Yl(v)),y!==o&&t.jo(new Zl(f,y)),f!==e&&t.jo(new Jl(f,void 0)),d&&t.jo(new $l(f)),m>=Tl.W_&&t.jo(new Kl(f,m)),p&&!a?t.jo(new t_(f)):!p&&a&&t.jo(new n_(f)),k===c&&_===s||t.jo(new i_(f,k)),m>=Tl.q_&&t.jo(new e_(f,m)),m>=Tl.G_&&t.jo(new r_(f,m)),m!==h&&t.jo(new s_(f,m)),l&&t.jo(new u_(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ql||(ql={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Gl||(Gl={}));var f_,v_=400,d_=.25,l_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},__={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},w_={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},g_={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function y_(){var t;return t=b.qu._u?w_:b.qu.gu?"Android"===b.Gu.ju?__:l_:g_,b.Gu.Qu?function(t){if(b.Gu.Qu){var n=(v_+250)/1e3,i=l.max(n,t.windowStart),e=l.max(i+d_,t.target),r=l.max(e+d_,t.windowEnd);return{windowStart:i,target:e,windowEnd:r,maxOffset:l.max(r+d_,t.maxOffset)}}return t}(t):t}function m_(t){return{goLive:function(){return t.fw()},get isLive(){return t.vw},get currentServerLiveTime(){return t.dw},get currentLatency(){return t.lw},get latency(){return t._w},set latency(n){if(!function(t){if(!nt(t))return!1;var n=t,i=$(n.target)&&"number"==typeof n.target&&$(n.windowEnd)&&"number"==typeof n.windowEnd&&$(n.windowStart)&&"number"==typeof n.windowStart&&$(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new f("Invalid latency configuration");t._w=n},get manifest(){return t.ww},get metrics(){return t.gw},addEventListener:function(n,i){t.Qo(k_(n),i)},removeEventListener:function(n,i){t.$o(k_(n),i)}}}!function(t){t[t.a_=0]="a_",t[t.yw=1]="yw",t[t.mw=2]="mw"}(f_||(f_={}));var p_=["analytic","golive","nogolive","bufferedchange"];function k_(t){var n=Jd(t,Yd);return(et(n)?[n]:n).filter(function(t){return is(p_,t)})}var A_,b_=function(t){function n(){var n;return(n=t.call(this)||this).jl=void 0,n.ll=void 0,n.pw=y_(),n.jl=void 0,n}U(n,t);var i=n.prototype;return i.Zl=function(t){t.Qo(p_,this.Go)},i.Jl=function(t){t.$o(p_,this.Go)},i.fw=function(){var t;null==(t=this.jl)||t.fw()},i.Zv=function(){this.Jo(),this.jl&&this.Jl(this.jl),this.jl=void 0},L(n,[{key:"$l",get:function(){return this.jl},set:function(t){var n=this.jl;t!==n&&(n&&this.Jl(n),t&&this.Zl(t),this.jl=t,this.jl&&(this.jl._w=this.pw))}},{key:"_l",get:function(){return this.ll||(this.ll=m_(this)),this.ll}},{key:"dw",get:function(){var t;return null==(t=this.jl)?void 0:t.dw}},{key:"lw",get:function(){var t;return null==(t=this.jl)?void 0:t.lw}},{key:"vw",get:function(){return!!this.jl&&this.jl.vw}},{key:"_w",get:function(){return this.pw},set:function(t){this.jl&&(this.jl._w=t),this.pw=t}},{key:"ww",get:function(){var t;return null==(t=this.jl)?void 0:t.ww}},{key:"gw",get:function(){var t;return null==(t=this.jl)?void 0:t.gw}}]),n}(Is),T_=function(t){function n(n){var i;return(i=t.call(this)||this).jl=void 0,i.kw=[],i.Aw=!1,i.bw=new ul,i.Tw=new ul,i.Sw=new dl,i.Ew=new b_,i.Rw=!1,i.Iw(n),n.Zo(i.Go),i.jl=n,i.bw.$l=n.Nw,i.Tw.$l=n.Dw,i.Sw.$l=n.Cw,i.Ew.$l=n.xw,i}U(n,t);var i=n.prototype;return i.Pw=function(){this.jl.Pw()},i.Ow=function(){this.jl.Ow()},i.Bw=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",As(this.kw.map(function(t){return t.Bw()})).then(E));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lw=function(){return this.jl.Lw()},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(i),t.next=3,this.jl.Mw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Uw=function(){return this.$l.Uw()},i.Fw=function(){this.$l.Fw()},i.Hw=function(){this.$l.Hw()},i.Vw=function(){if(!this.Aw){for(var t=0,n=this.kw;t<n.length;t++){n[t].Vw()}this.Aw=!0}},i.zw=function(t){this.jl.zw(t)},i.Xw=function(){this.jl.Xw()},i.Ww=function(){this.jl.Ww()},i.qw=function(){this.jl.qw()},i.Gw=function(){return this.jl.Gw()},i.jw=function(){return this.jl.jw()},i.Qw=function(){for(var t=[],n=0,i=this.kw;n<i.length;n++){var e=i[n];t.push.apply(t,e.Qw())}return t},i.Yw=function(t){for(var n=!1,i=0,e=this.kw;i<e.length;i++){n=e[i].Yw(t)||n}return n},i.jo=function(n){this.Yw(n)||t.prototype.jo.call(this,n)},i.Iw=function(t){this.kw.push(t)},i.Zw=function(t){ts(this.kw,t)},i.Jw=function(t){if(t!==this.jl){var n=this.jl;n.Xw(),n.nh(this.Go);var i=a_(this),e=this.$w,r=this.jw();this.jl=t,this.bw.$l=t.Nw,this.Tw.$l=t.Dw,this.Sw.$l=t.Cw,this.Ew.$l=t.xw,c_(this,i,this);var s=this.$w;s!==e&&this.jo(new gl(s)),this.jw()!==r&&this.jo(new wl),t.Zo(this.Go),t.zw(n)}},i.Kw=function(){},i.Zv=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Jo(),this.jl.Xw(),n=0,i=this.kw;case 3:if(!(n<i.length)){t.next=10;break}return e=i[n],t.next=7,e.Zv();case 7:n++,t.next=3;break;case 10:this.bw.Zv(),this.Tw.Zv(),this.Sw.Zv(),this.Ew.Zv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",As(this.kw.map(function(t){return t.Wl()})).then(E));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Nw",get:function(){return this.bw}},{key:"Cw",get:function(){return this.Sw}},{key:"Dw",get:function(){return this.Tw}},{key:"tg",get:function(){return this.jl.tg}},{key:"ng",get:function(){return this.jl.ng},set:function(t){this.jl.ng=t}},{key:"$w",get:function(){return this.jl.$w}},{key:"tw",get:function(){return this.jl.tw},set:function(t){this.jl.tw=t}},{key:"nw",get:function(){return this.jl.nw}},{key:"ig",get:function(){return this.jl.ig}},{key:"iw",get:function(){return this.jl.iw}},{key:"hh",get:function(){return this.jl.hh}},{key:"ew",get:function(){return this.jl.ew}},{key:"xw",get:function(){return this.Ew}},{key:"eg",get:function(){return this.jl.eg}},{key:"gw",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.rg,i+=h.sg,e+=h.ug,r+=h.og,s+=h.hg,u.amountOfBufferedAudioSegments+=h.ag.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.ag.amountOfBufferedVideoSegments}return{rg:n,sg:i,ug:e,og:r,hg:s,ag:u}}(this.kw.map(function(t){return t.gw}))}},{key:"rw",get:function(){return this.jl.rw},set:function(t){this.jl.rw=t}},{key:"cg",get:function(){return this.jl.cg}},{key:"sw",get:function(){return this.jl.sw}},{key:"uw",get:function(){return this.jl.uw},set:function(t){this.jl.uw=t}},{key:"fg",get:function(){return this.jl.fg}},{key:"vg",get:function(){return this.jl.vg},set:function(t){this.jl.vg=t}},{key:"g_",get:function(){return this.jl.g_}},{key:"dg",get:function(){return this.jl.dg}},{key:"ow",get:function(){return this.jl.ow}},{key:"hw",get:function(){return this.jl.hw}},{key:"aw",get:function(){return this.jl.aw}},{key:"cw",get:function(){return this.jl.cw},set:function(t){this.jl.cw=t}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"$l",get:function(){return this.jl},set:function(t){this.Jw(t)}}]),n}(_l),S_=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return U(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Po);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(A_||(A_={}));var E_=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,f.captureStackTrace&&f.captureStackTrace(sn(s),s.constructor),s}return U(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function R_(t){Hd(t,"MEDIA_ERR_ABORTED",A_.ABORTED),Hd(t,"MEDIA_ERR_NETWORK",A_.NETWORK),Hd(t,"MEDIA_ERR_DECODE",A_.DECODE),Hd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",A_.SRC_NOT_SUPPORTED),Hd(t,"MEDIA_ERR_ENCRYPTED",A_.ENCRYPTED)}function I_(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new E_(A_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new E_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return A_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return A_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return A_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return A_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return A_.NETWORK;if(i===n.ErrorCategory.SOURCE)return A_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return A_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return A_.ENCRYPTED;if(i===n.ErrorCategory.AD)return A_.ADVERTISEMENT_ERROR;return A_.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function N_(t){switch(t){case A_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case A_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case A_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case A_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case A_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case A_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case A_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}R_(E_),R_(E_.prototype);var D_,C_=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Vl=function(n){return t.prototype.Vl.call(this,n)},i.wl=function(){return el(this)},n}(Bd);!function(t){t.Hv="audio",t.Vv="video",t.os="text",t.zv="image",t.Iv="unknown"}(D_||(D_={}));var x_=function(){function t(){this._g=[],this.ll=void 0}var n=t.prototype;return n.wg=function(t){this._g.push(t),this.ll&&this.ll.push(t._l)},n.Hl=function(t){return this._g[t]},n.gg=function(t){return K(t)?function(t,n){for(var i=0;i<n.length;i++)if(!is(t,n[i]))return!1;return!0}(this._g,t):is(this._g,t)},L(t,[{key:"ql",get:function(){return this._g}},{key:"Gl",get:function(){return this._g.length}},{key:"_l",get:function(){var t,n;return this.ll||(this.ll=((n=(t=this).ql.map(function(t){return t._l})).item=function(n){var i=0|n,e=t.Hl(i);return e&&e._l||void 0},n)),this.ll}}]),t}(),P_=function(t){function n(n){var i;return(i=t.call(this,Id.Ol)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new O_(this.gl._l)},n}(Nd),O_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return U(n,t),n}(Dd),B_=0;function L_(){return B_++}var M_=0;var U_=0;var F_=0;function H_(){return F_++}var V_=0;var z_=function(t){function n(n){var i;return(i=t.call(this)||this).do=D_.Hv,i.yg=void 0,i.mg=void 0,i.pg=void 0,i.kg=void 0,i.Ag=!1,i._g=void 0,i.ll=void 0,i.yg=n,i.kg=L_(),i.mg=V_+++"",i.pg=n.label,i._g=new x_,i.bg(),i}U(n,t);var i=n.prototype;return i.Tg=function(t){this.n_=t},i.bg=function(){this.n_=this.Sg},L(n,[{key:"t_",get:function(){}},{key:"n_",get:function(){return this.Ag},set:function(t){this.Ag!==t&&(this.Ag=t,this.Sg=t,this.jo(new Ld(this)))}},{key:"Sg",get:function(){return!!this.yg.enabled},set:function(t){this.yg.enabled=t}},{key:"_l",get:function(){return this.ll||(this.ll=nl(this)),this.ll}},{key:"i_",get:function(){return this.mg}},{key:"e_",get:function(){return this.kg}},{key:"r_",get:function(){return this.yg.kind}},{key:"s_",get:function(){return this.pg},set:function(t){t!==this.pg&&(this.pg=t,this.jo(new P_(this)))}},{key:"u_",get:function(){return this.yg.language}},{key:"l_",get:function(){return this.n_?"enabled":"disabled"}},{key:"Eg",get:function(){return this.yg}},{key:"o_",get:function(){return this._g}},{key:"h_",get:function(){},set:function(t){}}]),n}(Is),X_=0;var W_,q_,G_,j_=function(t){function n(n){var i;return(i=t.call(this)||this).do=D_.Vv,i.yg=void 0,i.mg=void 0,i.kg=void 0,i.Ag=!1,i._g=void 0,i.pg=void 0,i.ll=void 0,i.yg=n,i.kg=L_(),i.mg=X_+++"",i._g=new x_,i.pg=n.label,i.bg(),i}U(n,t);var i=n.prototype;return i.bg=function(){this.n_=this.Sg},i.Tg=function(t){this.n_=t},L(n,[{key:"t_",get:function(){}},{key:"n_",get:function(){return this.Ag},set:function(t){this.Ag!==t&&(this.Ag=t,this.Sg=t,this.jo(new Ld(this)))}},{key:"Sg",get:function(){return!!this.yg.selected},set:function(t){this.yg.selected=t}},{key:"_l",get:function(){return this.ll||(this.ll=nl(this)),this.ll}},{key:"i_",get:function(){return this.mg}},{key:"e_",get:function(){return this.kg}},{key:"r_",get:function(){return"main"}},{key:"s_",get:function(){return this.pg},set:function(t){t!==this.pg&&(this.pg=t,this.jo(new P_(this)))}},{key:"u_",get:function(){return this.yg.language}},{key:"l_",get:function(){return this.n_?"enabled":"disabled"}},{key:"Eg",get:function(){return this.yg}},{key:"o_",get:function(){return this._g}},{key:"h_",get:function(){},set:function(t){}}]),n}(Is),Q_=function(t){function n(n){var i;return(i=t.call(this,Ko.ec)||this).eg=n,i}return U(n,t),n}(Ds);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(W_||(W_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(q_||(q_={})),function(t){t.Rg="cue",t.Ig="region",t.Ng="stylesheet"}(G_||(G_={}));var Y_,Z_,J_={"line-left":"start",center:"middle","line-right":"end"},$_={start:"line-left",middle:"center",end:"line-right"};function K_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function tw(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:w(i),g(r)?e:r;var i,e,r}!function(t){t.Dg="Cg",t.xg="Pg",t.Ol="Yh"}(Y_||(Y_={})),function(t){t.Dg="enter",t.xg="exit",t.Ol="update"}(Z_||(Z_={}));var nw=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Og=i,e}return U(n,t),n}(Nd),iw=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return U(n,t),n}(Dd);function ew(t){var n,i=[Y_.Dg,Y_.xg,Y_.Ol],e={get track(){return t.gl._l},get id(){return t.i_},get uid(){return t.e_},get startTime(){return t.Bg},get endTime(){return t.Lg},get content(){return t.Mg},addEventListener:function(t,i){var e=Jd(t,Yd);n.Qo(e,i)},removeEventListener:function(t,i){var e=Jd(t,Yd);n.$o(e,i)}};return n=new Ns(e),t.Qo(i,function(t){return n.jo(t._l)}),e}function rw(){}function sw(t){return Vd(ew(t),{get align(){return t.Ug},get line(){return t.Fg},get lineAlign(){return t.Hg},get position(){return t.Vg},get positionAlign(){return t.zg},get region(){return t.Xg?t.Xg._l:null},get size(){return t.kh},get snapToLines(){return t.Wg},get text(){return t.Mg},get vertical(){return t.qg}})}var uw=.02;function ow(t,n){return Gt(t.Bg,n.Bg,uw)&&Gt(t.Lg,n.Lg,uw)&&t.i_===n.i_}var hw=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).kg=void 0,u.mg=void 0,u.Gg=void 0,u.jg=void 0,u.ll=void 0,u.Qg=void 0,u.Yg=!1,u.Zg=void 0,u.Jg=void 0,u.$g="",u.Kg=-1,u.kg=H_(),u.Gg=n,u.jg=i,u.Zg=e,u.Jg=Boolean(r),u.mg=null!=s?s:"",u}U(n,t);var i=n.prototype;return i.wl=function(){return ew(this)},i.ty=function(t){return this===t||Wd(this,t)&&ow(this,t)},i.Zv=function(){this.Jo()},L(n,[{key:"Bg",get:function(){return this.Gg},set:function(t){this.Gg=t}},{key:"Lg",get:function(){return this.jg},set:function(t){this.jg=t}},{key:"i_",get:function(){return this.mg}},{key:"e_",get:function(){return this.kg}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"ny",get:function(){return this.Yg},set:function(t){this.Yg=t}},{key:"gl",get:function(){return this.Qg},set:function(t){this.Qg=t}},{key:"Mg",get:function(){return this.Zg},set:function(t){this.Zg=t}},{key:"iy",get:function(){return this.$g},set:function(t){this.$g=t}},{key:"ey",get:function(){return this.Jg},set:function(t){this.Jg=t}}]),n}(Is);function aw(t,n){return t.Mg===n.Mg&&t.Fg===n.Fg&&t.Hg===n.Hg&&t.Vg===n.Vg&&t.zg===n.zg&&t.Xg===n.Xg&&t.Wg===n.Wg&&t.kh===n.kh&&t.Ug===n.Ug&&t.qg===n.qg}var cw=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).Fg="auto",u.Hg="start",u.Vg="auto",u.zg="auto",u.Xg=void 0,u.Wg=!0,u.kh=100,u.Ug="center",u.qg="",u}return U(n,t),n.prototype.ty=function(n){return this===n||Wd(this,n)&&t.prototype.ty.call(this,n)&&aw(this,n)},L(n,[{key:"_l",get:function(){return this.ll||(this.ll=sw(this)),this.ll}},{key:"do",get:function(){return G_.Rg}}]),n}(hw);function fw(t){var n="number"==typeof t.Fg?t.Fg:w(t.Fg);return g(n)||t.Wg||!(n<0||n>100)?g(n)?t.Wg?-1:100:n:100}function vw(t){return tw(t.Vg,t.Ug)}function dw(t){return K_(t.zg,t.Ug)}function lw(t){var n=100,i=dw(t),e=vw(t);return"line-left"===i&&(n=100-e),"line-right"===i&&(n=e),"center"===i&&e<=50&&(n=2*e),"center"===i&&e>50&&(n=2*(100-e)),t.kh<n?t.kh:n}function _w(t){return{get id(){return t.i_},get identifier(){return t.i_},get lines(){return t.sy},get regionAnchorX(){return t.uy},get regionAnchorY(){return t.oy},get scrollValue(){return t.hy},get viewportAnchorX(){return t.ay},get viewportAnchorY(){return t.vy},get width(){return t.ku}}}var ww=function(){function t(t,n,i,e,r,s,u,o){this.ll=void 0,this.i_=t,this.ku=n,this.sy=i,this.uy=e,this.oy=r,this.ay=s,this.vy=u,this.hy=o}return L(t,[{key:"_l",get:function(){return this.ll||(this.ll=_w(this)),this.ll}},{key:"do",get:function(){return G_.Ig}}]),t}(),gw=function(){function t(){}var n=t.prototype;return n.ly=function(t){return this._y()*t},n.wy=function(t){return this.gy(t)>0},n.yy=function(t){return this.gy(t)>=0},n.my=function(t,n){return this.ky(t).py(n)},n.ty=function(t){return 0===this.gy(t)},n.Ay=function(t){return this.gy(t)<0},n.py=function(t){return this.gy(t)<=0},n.by=function(){return this.Ty()?this.Sy():this},n.Ey=function(t){return this.wg(t.Sy())},n.ky=function(t){return this.Ey(t).by()},t}();function yw(t,n){return t.Ry()?n.Ry()?zr.So:zr.Eo:n.Ry()?zr.Ro:t.Iy()?n.Iy()&&t.Ty()===n.Ty()?zr.So:t.Ty()?zr.Ro:zr.Eo:n.Ty()?zr.Eo:zr.Ro}var mw=function(){function t(t,n){this.Ny=void 0,this.Dy=void 0,this.Ny=t,this.Dy=n}t.Cy=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.xy=function(n){return n.unsigned?new t(n,Xt.UZERO):new t(n,n.isNegative()?Xt.NEG_ONE:Xt.ZERO)},t.Py=function(n,i){if(g(n))return i?t.Oy:t.By;if(i){if(n<0)return t.Oy;if(n>=3.402823669209385e38)return t.Ly}else{if(n<=-1.7014118346046923e38)return t.My;if(n+1>=1.7014118346046923e38)return t.Uy}return n<0?t.Py(-n,i).Sy():t.Cy(Xt.fromNumber(n%0x10000000000000000),Xt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Fy=function(){return this.Dy.unsigned},n.Hy=function(){return this.Ny.isZero()&&this.Dy.isZero()},n.Ty=function(){return this.Dy.isNegative()},n.Vy=function(){return this.Fy()?t.Cy(this.Ny,this.Dy,!1):this},n.zy=function(){return this.Fy()?this:t.Cy(this.Ny,this.Dy,!0)},n.Xy=function(){return this.Ny},n._y=function(){return this.Ty()?-this.Sy()._y():0x10000000000000000*this.Dy.toNumber()+this.Ny.toUnsigned().toNumber()},n.Wy=function(){return this.Ny.toInt()},n.ty=function(t){return(this.Fy()===t.Fy()||this.Dy.getHighBits()>>>31!=1||t.Dy.getHighBits()>>>31!=1)&&(this.Dy.toUnsigned().eq(t.Dy.toUnsigned())&&this.Ny.toUnsigned().eq(t.Ny.toUnsigned()))},n.gy=function(t){if(this.ty(t))return zr.So;var n=this.Ty(),i=t.Ty();if(n&&!i)return zr.Ro;if(!n&&i)return zr.Eo;if(!this.Fy())return this.Ey(t).Ty()?zr.Ro:zr.Eo;var e=this.zy(),r=t.zy(),s=r.Dy.comp(e.Dy);return s>0||0===s&&r.Ny.gt(e.Ny)?zr.Ro:zr.Eo},n.Ay=function(t){return this.gy(t)<0},n.py=function(t){return this.gy(t)<=0},n.qy=function(t){return this.gy(t)>0},n.Gy=function(t){return this.gy(t)>=0},n.jy=function(){return new t(this.Ny.not(),this.Dy.not())},n.Qy=function(n){return new t(this.Ny.and(n.Ny),this.Dy.and(n.Dy))},n.Yy=function(n){return new t(this.Ny.or(n.Ny),this.Dy.or(n.Dy))},n.Zy=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Ny.shl(i),this.Dy.shl(i).or(this.Ny.shru(64-i)),this.Fy()):t.Cy(Xt.ZERO,this.Ny.shl(i-64),this.Fy())},n.Jy=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Ny.shru(i).or(this.Dy.shl(64-i)),this.Dy.shr(i),this.Fy()):t.Cy(this.Dy.shr(i-64),this.Dy.isNegative()?Xt.NEG_ONE:Xt.ZERO,this.Fy())},n.$y=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Ny.shru(i).or(this.Dy.shl(64-i)),this.Dy.shru(i),this.Fy()):64===i?t.Cy(this.Dy,Xt.ZERO,this.Fy()):t.Cy(this.Dy.shru(i-64),Xt.ZERO,this.Fy())},n.wg=function(n){var i=this.Dy.high>>>16,e=65535&this.Dy.high,r=this.Dy.low>>>16,s=65535&this.Dy.low,u=this.Ny.high>>>16,o=65535&this.Ny.high,h=this.Ny.low>>>16,a=65535&this.Ny.low,c=n.Dy.high>>>16,f=65535&n.Dy.high,v=n.Dy.low>>>16,d=65535&n.Dy.low,l=n.Ny.high>>>16,_=65535&n.Ny.high,w=n.Ny.low>>>16,g=0,y=0,m=0,p=0,k=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.Ny.low))>>>16,T&=65535,A+=(b+=h+w)>>>16,b&=65535,k+=(A+=o+_)>>>16,A&=65535,p+=(k+=u+l)>>>16,k&=65535,m+=(p+=s+d)>>>16,p&=65535,y+=(m+=r+v)>>>16,m&=65535,g+=(y+=e+f)>>>16,y&=65535,g+=i+c,g&=65535;var S=this.Fy(),E=Xt.fromBits(m<<16|p,g<<16|y,S),R=Xt.fromBits(b<<16|T,k<<16|A,S);return t.Cy(R,E,S)},n.Ey=function(t){return this.wg(t.Sy())},n.Sy=function(){return this.jy().wg(t.Ky)},n.tm=function(n){if(this.Hy()||n.Hy())return this.Fy()?t.Oy:t.By;if(this.Ty())return n.Ty()?this.Sy().tm(n.Sy()):this.Sy().tm(n).Sy();if(n.Ty())return this.tm(n.Sy()).Sy();if(this.Dy.isZero()&&0===this.Ny.high&&n.Dy.isZero()&&0===n.Ny.high)return t.xy(this.Ny.multiply(n.Ny));var i=Xt.fromBits(4294967295,0,!0),e=this.Ny.and(i),r=this.Ny.shru(32),s=this.Dy.and(i),u=this.Dy.shru(32),o=n.Ny.and(i),h=n.Ny.shru(32),a=n.Dy.and(i),c=n.Dy.shru(32),f=Xt.UZERO,v=Xt.UZERO,d=Xt.UZERO,l=Xt.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=Xt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=Xt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Cy(_,w,this.Fy())},n.nm=function(n){var i,e,r=n;if(r.Hy())throw new RangeError("division by zero");if(this.Hy())return this.Fy()?[t.Oy,t.Oy]:[t.By,t.By];if(this.Fy()){if(r.Fy()||(r=r.zy()),r.qy(this))return[t.Oy,this];if(r.qy(this.$y(1)))return[e=t.im,i=this.Ey(r)];e=t.Oy}else{if(this.ty(t.My)){if(r.ty(t.Ky)||r.ty(t.rm))return[t.My,t.By];if(r.ty(t.My))return[t.Ky,t.By];var s=this.Jy(1).sm(r).Zy(1);return s.ty(t.By)?e=r.Ty()?t.Ky:t.rm:(i=this.Ey(r.tm(s)),e=s.wg(i.sm(r))),[e,i=this.Ey(r.tm(e))]}if(r.ty(t.My))return this.Fy()?[t.Oy,this]:[t.By,this];if(this.Ty()){if(r.Ty())return this.Sy().nm(r.Sy());var u=this.Sy().nm(r);return e=u[0],i=u[1],[e.Sy(),i.Sy()]}if(r.Ty()){var o=this.nm(r.Sy());return e=o[0],i=o[1],[e.Sy(),i.Sy()]}e=t.By}for(i=this;i.Gy(r);){for(var h=l.max(1,l.floor(i._y()/r._y())),a=l.ceil(l.log(h)/l.LN2),c=a<=48?1:l.pow(2,a-48),f=t.Py(h),v=f.tm(r);v.Ty()||v.qy(i);)h-=c,v=(f=t.Py(h,this.Fy())).tm(r);f.Hy()&&(f=t.Ky),e=e.wg(f),i=i.Ey(v)}return[e,i]},n.sm=function(t){return this.nm(t)[0]},n.um=function(t){return this.nm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Hy())return"0";if(this.Ty()){if(this.ty(t.My)){var e=t.Py(i),r=this.sm(e),s=r.tm(e).Ey(this);return r.toString(i)+s.Wy().toString(i)}return"-"+this.Sy().toString(i)}for(var u=t.Py(l.pow(i,6),this.Fy()),o=this,h="";;){var a=o.sm(u),c=(o.Ey(a.tm(u)).Wy()>>>0).toString(i);if((o=a).Hy())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();mw.By=mw.xy(Xt.ZERO),mw.Oy=mw.xy(Xt.UZERO),mw.Ky=mw.xy(Xt.ONE),mw.im=mw.xy(Xt.UONE),mw.rm=mw.xy(Xt.NEG_ONE),mw.Uy=mw.Cy(Xt.NEG_ONE,Xt.MAX_VALUE,!1),mw.Ly=mw.Cy(Xt.MAX_UNSIGNED_VALUE,Xt.MAX_UNSIGNED_VALUE,!0),mw.My=mw.Cy(Xt.ZERO,Xt.MIN_VALUE,!1);var pw=function(){function t(t,n){void 0===n&&(n=1),this.om=void 0,this.hm=void 0,this.om=t,this.hm=n}t.am=function(n){return new t(l.ceil(n.om),n.hm)},t.cm=function(n){return new t(l.floor(n.om),n.hm)},t.fm=function(t,n){return t.yy(n)?t:n},t.vm=function(t,n){return t.py(n)?t:n};var n=t.prototype;return n.wg=function(n){return this.hm>=n.hm?new t(this.om+n.dm(this.hm).om,this.hm):new t(this.dm(n.hm).om+n.om,n.hm)},n.wy=function(t){return t.Ay(this)},n.yy=function(t){return t.py(this)},n.ky=function(n){return this.hm>=n.hm?new t(l.abs(this.om-n.dm(this.hm).om),this.hm):n.ky(this)},n.my=function(t,n){return this.ky(t).py(n)},n.gy=function(t){return i=t,(n=this).hm>=i.hm?Jr(n.om,i.dm(n.hm).om):Jr(n.dm(i.hm).om,i.om);var n,i},n.ty=function(t){return 0===this.gy(t)},n.Ay=function(t){return this.gy(t)<0},n.py=function(t){return this.gy(t)<=0},n.dm=function(n){return new t(this.om*(n/this.hm),n)},n.Ey=function(n){return this.hm>=n.hm?new t(this.om-n.dm(this.hm).om,this.hm):new t(this.dm(n.hm).om-n.om,n.hm)},n.lm=function(n){return new t(this.om*n,this.hm)},L(t,[{key:"Iy",get:function(){return!isFinite(this.om)}},{key:"_m",get:function(){return this.om/this.hm}}]),t}();pw.wm=new pw(1/6,1),pw.By=new pw(0),pw.gm=new pw(1/0),pw.ym=1e6;var kw=function(t){function n(n,i){var e;return(e=t.call(this)||this).ks=void 0,e.hm=void 0,e.ks=n.toSigned(),e.hm=i>>>0,e}U(n,t),n.mm=function(t,i){return void 0===i&&(i=1e6),n.Py(t*i,i)},n.Py=function(t,i){return g(t)?n.pm:t===1/0?n.km:t===-1/0?n.Am:new n(Xt.fromNumber(t),i)},n.xy=function(t,i){return new n(t,i)},n.bm=function(t){return n.mm(t._m,1e6)},n.Tm=function(t){return new n(Xt.fromNumber(t.getTime()),1e3)},n.fm=function(t,n){return t.yy(n)?t:n},n.vm=function(t,n){return t.py(n)?t:n},n.Sm=function(t,i,e){return n.fm(i,n.vm(e,t))};var i=n.prototype;return i.Ty=function(){return this.ks.isNegative()},i.Hy=function(){return 0!==this.hm&&this.ks.isZero()},i.Iy=function(){return 0===this.hm&&!this.ks.isZero()},i.Ry=function(){return 0===this.hm&&this.ks.isZero()},i._y=function(){if(0===this.hm)return this.ks.isZero()?NaN:this.ks.isNegative()?-1/0:1/0;var t=this.ks.divide(this.hm),n=this.ks.subtract(t.multiply(this.hm));return t.toNumber()+n.toNumber()/this.hm},i.Xy=function(){if(0===this.hm)throw new f("Failed to convert timestamp");return this.ks},i.Em=function(){return new Date(0===this.hm?NaN:this.dm(1e3).ks.toNumber())},i.Rm=function(){return new pw(0===this.hm?this._y():this.ks.toNumber(),this.hm)},i.dm=function(t,i){void 0===i&&(i=Tw.Im);var e=this.hm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t.nm(n),r=e[0],s=e[1];if(s.Hy())return r;if(i===Tw.Im)return s.Ty()?r.Ey(mw.Ky):r;if(i===Tw.Nm)return s.Ty()?r:r.wg(mw.Ky);var u=s.tm(mw.Py(2));return u.Ty()?u.Sy().Ay(n)?r:r.Ey(mw.Ky):u.Ay(n)?r:r.wg(mw.Ky)}(mw.xy(this.ks).tm(mw.Py(t/r)),mw.Py(e/r),i).Xy(),t)},i.gy=function(t){if(this===t)return zr.So;if(0===this.hm||0===t.hm)return yw(this,t);if(this.Hy())return t.Hy()?zr.So:t.Ty()?zr.Eo:zr.Ro;if(t.Hy())return this.Ty()?zr.Ro:zr.Eo;var n=l.min(this.hm,t.hm),i=this.dm(n,Tw.Dm).ks,e=t.dm(n,Tw.Dm).ks;return i.compare(e)},i.Sy=function(){return 0===this.hm?Aw(this):new n(this.ks.negate(),this.hm)},i.wg=function(t){if(0===this.hm||0===t.hm)return bw(this,t);if(this.Hy())return t;if(t.Hy())return this;var i=l.max(this.hm,t.hm),e=this.dm(i,Tw.Dm),r=t.dm(i,Tw.Dm);return new n(e.ks.add(r.ks),i)},i.tm=function(t){if(this.Ry()||g(t))return n.pm;if(this.Iy()||!isFinite(t)){if(this.Hy()||0===t)return n.pm;var i=this.Ty()?n.Am:n.km;return t<0?i.Sy():i}return this.Hy()?this:new n(0===t?Xt.ZERO:this.ks.multiply(t),this.hm)},i.sm=function(t){if(this.Ry()||g(t))return n.pm;if(this.Iy())return isFinite(t)?0===t?1/t<0?this.Sy():this:t<0?this.Sy():this:n.pm;if(!isFinite(t))return new n(Xt.ZERO,this.hm);if(this.Hy())return 0===t?n.pm:new n(Xt.ZERO,this.hm);if(0===t){var i=this.Ty()?n.Am:n.km;return 1/t<0?i.Sy():i}return new n(this.ks.divide(t),this.hm)},i.Cm=function(){return[this.ks.low,this.ks.high,this.hm]},n}(gw);function Aw(t){return t.Ry()?t:t.Ty()?kw.km:kw.Am}function bw(t,n){return t.Ry()||n.Ry()?kw.pm:t.Iy()&&n.Iy()?t.Ty()===n.Ty()?t:kw.pm:t.Iy()?t:n}kw.By=new kw(Xt.ZERO,1e6),kw.pm=new kw(Xt.ZERO,0),kw.km=new kw(Xt.ONE,0),kw.Am=new kw(Xt.NEG_ONE,0);var Tw,Sw=function(t){function n(n,i){var e;return(e=t.call(this)||this).ks=void 0,e.hm=void 0,e.ks=BigInt.asIntN(64,n),e.hm=i>>>0,e}U(n,t),n.mm=function(t,i){return void 0===i&&(i=1e6),n.Py(t*i,i)},n.Py=function(t,i){return g(t)?n.pm:t===1/0?n.km:t===-1/0?n.Am:new n(BigInt(l.floor(t)),i)},n.xy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.bm=function(t){return n.mm(t._m,1e6)},n.Tm=function(t){return n.Py(t.getTime(),1e3)},n.fm=function(t,n){return t.yy(n)?t:n},n.vm=function(t,n){return t.py(n)?t:n},n.Sm=function(t,i,e){return n.fm(i,n.vm(e,t))};var i=n.prototype;return i.Ty=function(){return this.ks<BigInt(0)},i.Hy=function(){return 0!==this.hm&&this.ks===BigInt(0)},i.Iy=function(){return 0===this.hm&&this.ks!==BigInt(0)},i.Ry=function(){return 0===this.hm&&this.ks===BigInt(0)},i._y=function(){if(0===this.hm)return this.ks===BigInt(0)?NaN:this.ks<BigInt(0)?-1/0:1/0;var t=this.ks/BigInt(this.hm),n=this.ks-t*BigInt(this.hm);return Number(t)+Number(n)/this.hm},i.Xy=function(){if(0===this.hm)throw new f("Failed to convert timestamp");return this.xm()},i.xm=function(){var t=this.ks&BigInt(4294967295),n=this.ks>>BigInt(32)&BigInt(4294967295);return Xt.fromBits(Number(t),Number(n))},i.Em=function(){return new Date(0===this.hm?NaN:Number(this.dm(1e3).ks))},i.Rm=function(){return new pw(0===this.hm?this._y():Number(this.ks),this.hm)},i.dm=function(t,i){void 0===i&&(i=Tw.Im);var e=this.hm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Tw.Im)return r<BigInt(0)?e-BigInt(1):e;if(i===Tw.Nm)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.ks*BigInt(t/r),BigInt(e/r),i),t)},i.gy=function(t){if(this===t)return zr.So;if(0===this.hm||0===t.hm)return yw(this,t);if(this.Hy())return t.Hy()?zr.So:t.Ty()?zr.Eo:zr.Ro;if(t.Hy())return this.Ty()?zr.Ro:zr.Eo;var n=l.min(this.hm,t.hm),i=this.dm(n,Tw.Dm).ks,e=t.dm(n,Tw.Dm).ks;return i>e?zr.Eo:i<e?zr.Ro:zr.So},i.Sy=function(){return 0===this.hm?Ew(this):new n(-this.ks,this.hm)},i.wg=function(t){if(0===this.hm||0===t.hm)return Rw(this,t);if(this.Hy())return t;if(t.Hy())return this;var i=l.max(this.hm,t.hm),e=this.dm(i,Tw.Dm),r=t.dm(i,Tw.Dm);return new n(e.ks+r.ks,i)},i.tm=function(t){if(this.Ry()||g(t))return n.pm;if(this.Iy()||!isFinite(t)){if(this.Hy()||0===t)return n.pm;var i=this.Ty()?n.Am:n.km;return t<0?i.Sy():i}return this.Hy()?this:new n(0===t?BigInt(0):this.ks*BigInt(t),this.hm)},i.sm=function(t){if(this.Ry()||g(t))return n.pm;if(this.Iy())return isFinite(t)?0===t?1/t<0?this.Sy():this:t<0?this.Sy():this:n.pm;if(!isFinite(t))return new n(BigInt(0),this.hm);if(this.Hy())return 0===t?n.pm:new n(BigInt(0),this.hm);if(0===t){var i=this.Ty()?n.Am:n.km;return 1/t<0?i.Sy():i}return new n(this.ks/BigInt(t),this.hm)},i.Cm=function(){var t=this.xm();return[t.low,t.high,this.hm]},L(n,null,[{key:"By",get:function(){return n.Pm||(n.Pm=new n(BigInt(0),1e6)),n.Pm}},{key:"pm",get:function(){return n.Om||(n.Om=new n(BigInt(0),0)),n.Om}},{key:"km",get:function(){return n.Bm||(n.Bm=new n(BigInt(1),0)),n.Bm}},{key:"Am",get:function(){return n.Lm||(n.Lm=new n(BigInt(-1),0)),n.Lm}}]),n}(gw);function Ew(t){return t.Ry()?t:t.Ty()?Sw.km:Sw.Am}function Rw(t,n){return t.Ry()||n.Ry()?Sw.pm:t.Iy()&&n.Iy()?t.Ty()===n.Ty()?t:Sw.pm:t.Iy()?t:n}Sw.Pm=void 0,Sw.Om=void 0,Sw.Bm=void 0,Sw.Lm=void 0,function(t){t[t.Im=0]="Im",t[t.Nm=1]="Nm",t[t.Dm=2]="Dm"}(Tw||(Tw={}));var Iw=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Sw:kw;function Nw(t,n){return t.gy(n)}function Dw(t){return Iw.xy(Xt.fromBits(t[0],t[1],!1),t[2])}var Cw=9e4,xw=l.pow(2,33),Pw=Iw.Py(xw,Cw),Ow=Pw.sm(2);function Bw(t){return null!=t&&!t.Ry()}function Lw(t,n){return t.Iy()||n.Iy()?Iw.fm(t,n):Fw(t,n).wy(Iw.By)?t:n}function Mw(t,n){var i=t.Ey(n);return i.Ay(Iw.By)&&(i=i.wg(Pw)),i}function Uw(t,n){var i=t.wg(n);return i.yy(Pw)&&(i=i.Ey(Pw)),i}function Fw(t,n){var i=t.Ey(n);return t.Iy()||n.Iy()?i:(i.yy(Ow)?i=i.Ey(Pw):i.Ay(Ow.Sy())&&(i=i.wg(Pw)),i)}function Hw(t,n){if(t||n)return t?n?Iw.vm(t,n):t:n}function Vw(t,n){if(t||n)return t?n?Iw.fm(t,n):t:n}var zw,Xw,Ww,qw,Gw={Mm:0,Um:1/0,Fm:0},jw=6,Qw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Yw=[" ","\t","\n","\f","\r"],Zw=/^\d*$/,Jw=/.*[0-9]+.*/,$w=/^[\d.-]+$/,Kw=/(^\.|\.$)/,tg=/(\D\.|\.\D)/;function ng(t,n){void 0===n&&(n=Gw);var i={y_:[],Hm:[],Vm:[]},e=ig(t),r=new Zu;if(vg(e),eg(e,function(t){return"\n"!==t},r),r.Eh>=e.length)return i;(r.bh(1),"\n"!==e.charAt(r.Eh))?og(rg(e,r,!1,!0,i,n),i):r.bh(1);for(eg(e,function(t){return"\n"===t},r);r.Eh<e.length;){og(rg(e,r,!1,!1,i,n),i),eg(e,function(t){return"\n"===t},r)}return i}function ig(t){var n=Ir(t,"\0"," "),i=Ir(n,"\r\n","\n");return Ir(i,"\r","\n")}function eg(t,n,i){for(var e=i.Eh;i.Eh<t.length&&n(t.charAt(i.Eh));)i.bh(1);return t.substring(e,i.Eh)}function rg(t,n,i,e,r,s){for(var u,o=0,h=n.Eh,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=eg(t,function(t){return"\n"!==t},n),o++,n.Eh>=t.length?c=!0:n.bh(1),Nr(u,"--\x3e")){if(e||1!==o&&(2!==o||f)){n.Th(h);break}f=!0,h=n.Eh,v=new cw(0,0,"",!1,a);try{hg(u,r.Hm,v,s),a=""}catch(t){b.Nu(t),v=null}}else{if(""===u)break;e&&Dr(u,"X-TIMESTAMP-MAP")&&(r.zm=sg(u)),e||2!==o||i||(xr("STYLE",a.replace(/ /g,""))?(d={do:G_.Ng},a=""):xr("REGION",a.replace(/ /g,""))&&(l=new ww("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.Eh}if(v)return v.Mg=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Nr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":bg(o,n);break;case"WIDTH":Eg(o,n);break;case"LINES":Sg(o,n);break;case"REGIONANCHOR":var h=Ag(o);h&&(n.uy=h[0],n.oy=h[1]);break;case"VIEWPORTANCHOR":var a=Ag(o);a&&(n.ay=a[0],n.vy=a[1]);break;case"SCROLL":Tg(o,n)}}}}(a,l),l;return null}function sg(t){var n,i,e=t.split("=")[1].trim().split(","),r=ug(e[0].trim(),"MPEGTS")?e[0]:e[1],s=ug(e[0].trim(),"LOCAL")?e[0]:e[1];return{Xm:(i=Number(r.split(/:(.*)/)[1].trim())||0,Iw.Py(i,Cw)),Wm:Iw.mm(null!=(n=fg(s.split(/:(.*)/)[1].trim(),new Zu))?n:0)}}function ug(t,n){return Dr(t,n)}function og(t,n){t&&function(t){return t.do===G_.Rg}(t)?n.y_.push(t):t&&function(t){return t.do===G_.Ig}(t)?n.Hm.push(t):t&&function(t){return t.do===G_.Ng}(t)&&n.Vm.push(t)}function hg(t,n,i,e){var r=new Zu;if(dg(t,r),i.Bg=ag(fg(t,r),e),dg(t,r),"--\x3e"!==t.substring(r.Eh,r.Eh+3))throw f("Something went wrong with parsing a WebVTT Cue");r.bh(3),dg(t,r),i.Lg=ag(fg(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&Nr(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":yg(h,n,i);break;case"VERTICAL":pg(h,n);break;case"D":kg(h,n);break;case"LINE":case"L":wg(h,n);break;case"POSITION":case"T":gg(h,n);break;case"SIZE":case"S":mg(h,n);break;case"ALIGN":case"A":_g(h,n)}}}}(t.substring(r.Eh,t.length),i,n)}function ag(t,n){return t+n.Mm}function cg(t){return/^[0-9]$/.test(t)}function fg(t,n){var i,e,r,s=Ir(t,",","."),u=!1;if(n.Eh>=s.length||!cg(s.charAt(n.Eh)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=eg(s,cg,n),h=_(o,10);if((o.length>2||h>59)&&(u=!0),n.Eh>=s.length||":"!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.bh(1);var a=eg(s,cg,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(a,10);if(u||n.Eh<s.length&&":"===s.charAt(n.Eh)){if(n.Eh>=s.length||":"!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.bh(1);var v=eg(s,cg,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=_(v,10)}else i=0,e=h,r=c;if(n.Eh>=s.length||"."!==s.charAt(n.Eh))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.bh(1);var d=eg(s,cg,n),l=_(d,10);if(c>59||r>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function vg(t){if(t.length<jw)return!1;for(var n=0;n<Qw.length;n++){if(Dr(t,Qw[n]))return!0}return!1}function dg(t,n){for(;n.Eh<t.length&&(i=t.charAt(n.Eh),is(Yw,i));)n.bh(1);var i}function lg(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function _g(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Ug=i;break;case"middle":n.Ug="center"}}function wg(t,n){var i=t,e="";if(Nr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),Jw.test(i)){var r;if(Cr(i,"%")){var s=lg(i);if(null===s)return;r=s}else{if(!$w.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!tg.test(t)||Kw.test(t))return;if(r=w(t),g(r))return}switch(n.Fg=r,n.Wg=Cr(i,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.Hg=e;break;case"middle":n.Hg="center"}}}function gg(t,n){var i=t,e="";Nr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var r=lg(i);if(null!==r)switch(n.Vg=r,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.zg=e;break;case"start":n.zg="line-left";break;case"middle":n.zg="center";break;case"end":n.zg="line-right"}}function yg(t,n,i){for(var e=i.length-1;e>=0;e--)if(i[e].i_===t)return void(n.Xg=i[e])}function mg(t,n){var i=lg(t);null!==i&&(n.kh=i)}function pg(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.qg="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.qg="lr";break;default:n.qg=""}}function kg(t,n){"VERTICAL"===t.toUpperCase()?n.qg="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.qg="lr")}function Ag(t){if(t.indexOf(",")>=0){var n=lg(t.substring(0,t.indexOf(","))),i=lg(t.substring(t.indexOf(",")+1,t.length));return[qt(n||0,0,100),qt(i||100,0,100)]}return null}function bg(t,n){n.i_=t}function Tg(t,n){"up"===t.toLowerCase()&&(n.hy="up")}function Sg(t,n){Zw.test(t)&&(n.sy=_(t))}function Eg(t,n){var i=lg(t);null!==i&&(n.ku=i)}!function(t){t.qm="moov",t.Gm="mvhd",t.jm="trak",t.Qm="tkhd",t.Ym="mdia",t.Zm="mdhd",t.Jm="hdlr",t.$m="minf",t.Km="stbl",t.tp="stsd",t.np="stsc",t.ip="mvex",t.ep="trex",t.rp="avc1",t.sp="avcC",t.op="hev1",t.hp="hvc1",t.ap="hvcC",t.cp="pasp",t.fp="mp4a",t.vp="esds",t.dp="wvtt",t.lp="vttC",t._p="vlab",t.wp="enca",t.gp="encv",t.yp="moof",t.mp="mfhd",t.pp="traf",t.kp="tfhd",t.Ap="trun",t.bp="tfdt",t.Tp="mdat",t.Sp="pssh",t.Ep="emsg",t.Rp="sidx",t.Ip="styp",t.Np="ftyp",t.Dp="sinf",t.Cp="frma"}(zw||(zw={})),function(t){t.Vv="vide",t.Hv="soun",t.xp="subt",t.Pp="hint",t.Op="meta",t.Bp="auxv"}(Xw||(Xw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ww||(Ww={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(qw||(qw={}));var Rg=function(){function t(t,n){this.Fs=void 0,this.Lp=void 0,this.Fs=t,this.Lp=n}var n=t.prototype;return n.Mp=function(){return du(this.Fs,this.Lp)},n.Up=function(){return mu(this.Fs,this.Lp)},n.Fp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Eh,i);return n.bh(2),e}(this.Fs,this.Lp)},n.Hp=function(){return ku(this.Fs,this.Lp)},n.Vp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Eh,i);return n.bh(4),e}(this.Fs,this.Lp)},n.zp=function(){return bu(this.Fs,this.Lp)},n.Xp=function(t){return _u(this.Fs,this.Lp,t)},n.Wp=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ku(t,n));return e}(this.Fs,this.Lp,t)},n.qp=function(t){return Eu(this.Fs,this.Lp,t)},n.Gp=function(){return Fu(this.Fs,this.Lp)},n.jp=function(t){this.Lp.bh(t)},n.Sh=function(){return new t(this.Fs,this.Lp.Sh())},t}();function Ig(t,n){return t.do===n}function Ng(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Ig(e,n))return e}}function Dg(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Ig(r,n)&&i.push(r)}return i}var Cg=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qp=n,e.Yp=i,e}return U(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),xg=function(){function t(){}return t.Zp=function(n){var i=n.Fs,e=n.Lp,r=t.Jp(i,e,!1);if(!r.$p)throw new Cg(e.Eh,r.Ds);return r.Ds},t.Jp=function(n,i,e){for(var r=[];i.Eh<n.byteLength;){var s=t.Kp(n,i,e);if(!s.$p)return{$p:!1,Ds:r};r.push(s.tk)}return{$p:!0,Ds:r}},t.nk=function(n,i){var e=t.Kp(n,i,!1);if(!e.$p)throw new Cg(i.Eh);return e.tk},t.ik=function(n,i){for(var e=n.Fs,r=n.Lp;r.Eh<e.byteLength;){var s=t.Kp(e,r,!1);if(!s.$p)return;if(s.tk.do===i)return s.tk}},t.Kp=function(n,i,e){var r=i.Eh,s=t.ek(n,i);if(!s.$p)return s;var u=s.rk,o=u.kh;if(0===o){if(e)return i.Th(r),{$p:!1,sk:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.Th(r),{$p:!1,sk:a}}var c={do:u.do,Eh:r,Fs:new Rg(Xu(n,r,h),new Zu(u.uk))};return i.Th(h),{$p:!0,tk:c}},t.ek=function(t,n){var i=n.Eh;if(!gu(t,n,8))return{$p:!1,sk:n.Eh+8};var e=ku(t,n),r=Eu(t,n,4);if(1===e){if(!gu(t,n,8)){var s=n.Eh+8;return n.Th(i),{$p:!1,sk:s}}e=bu(t,n).toNumber()}if("uuid"===r){if(!gu(t,n,16)){var u=n.Eh+16;return n.Th(i),{$p:!1,sk:u}}r=Eu(t,n,16)}return{$p:!0,rk:{do:r,kh:e,uk:n.Eh-i}}},t.hk=function(t,n,i){var e=t.Fs,r=t.Lp,s=zu(qu(e),r.Eh,e.byteLength);return i&&(s=Yu(s)),r.bh(s.byteLength),{do:n,Fs:s}},t.ak=function(n,i,e){var r=Lg(n.Hp());return{do:i,ck:r.version,fk:r.flags,Fs:t.hk(n,i,e).Fs}},t}();function Pg(t,n){var i=Og(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Og(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.do===n)return e.Fs}}function Bg(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.do===n&&i.push(r.Fs)}return i}function Lg(t){return{version:t>>24,flags:new cu(16777215&t)}}var Mg=function(){function t(){}return t.vk=function(n){for(var i=[],e=xg.Zp(new Rg(n,new Zu)),r=0;r<e.length;r++){var s=e[r],u=t.dk(s);u&&i.push(u)}return i},t.lk=function(t){return xg.Jp(t,new Zu,!1).Ds.some(function(t){return t.do===zw.yp||t.do===zw.Ip})},t._k=function(n){return Bg(xg.Zp(new Rg(n,new Zu)),zw.Sp).map(t.wk)},t.gk=function(n){return Bg(xg.Zp(n.Fs),zw.Sp).map(t.wk)},t.dk=function(n){switch(n.do){case zw.qm:return t.yk(n.Fs);case zw.yp:return t.mk(n.Fs,n.Eh);case zw.Tp:return t.pk(n.Fs);case zw.Rp:return t.kk(n.Fs);case zw.Ep:return t.Ak(n.Fs)}},t.yk=function(n){var i=xg.Zp(n),e=Pg(i,zw.Gm),r=Bg(i,zw.jm),s=Og(i,zw.ip),u=t.bk(e),o=r.map(t.Tk),h=s?t.Sk(s):void 0;return{do:zw.qm,rk:u,Ek:o,Rk:h}},t.bk=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=1===i?t.zp():t.Hp(),s=1===i?t.zp():t.Hp(),u=t.Hp(),o=1===i?t.zp():t.Hp(),h=t.Hp(),a=t.Up()>>8;t.jp(2),t.jp(8);var c=t.Wp(9);t.jp(24);var f=t.Hp();return{do:zw.Gm,ck:i,fk:e,Ik:r,Nk:s,hm:u,nw:o,Dk:h,cw:a,Ck:c,xk:f}},t.Tk=function(n){var i=xg.Zp(n),e=Pg(i,zw.Qm),r=Pg(i,zw.Ym),s=t.Pk(e),u=t.Ok(r);return{do:zw.jm,rk:s,Bk:u}},t.Pk=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=1===i?t.zp():t.Hp(),s=1===i?t.zp():t.Hp(),u=t.Hp();t.jp(4);var o=1===i?t.zp():t.Hp();t.jp(8);var h=t.Fp(),a=t.Fp(),c=t.Fp()/l.pow(2,8);t.jp(2);var f=t.Wp(9),v=t.Hp()/l.pow(2,16),d=t.Hp()/l.pow(2,16);return{do:zw.Qm,Lk:e.Ih(1),Mk:e.Ih(2),Uk:e.Ih(4),Ik:r,Nk:s,Fk:u,nw:o,Hk:h,Vk:a,cw:c,Ck:f,ku:v,zk:d}},t.Ok=function(n){var i=xg.Zp(n),e=Pg(i,zw.Zm),r=Pg(i,zw.Jm),s=Pg(i,zw.$m),u=t.Xk(e),o=t.Wk(r),h=t.qk(s);return{do:zw.Ym,rk:u,Gk:o,jk:h}},t.Xk=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=1===i?t.zp():t.Hp(),s=1===i?t.zp():t.Hp(),u=t.Hp(),o=1===i?t.zp():t.Hp();t.Up();return t.jp(2),{do:zw.Zm,ck:i,fk:e,Ik:r,Nk:s,hm:u,nw:o}},t.Wk=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags;t.jp(4);var r=t.qp(4);t.jp(12);var s=t.Gp();return{do:zw.Jm,ck:i,fk:e,Qk:r,gs:s}},t.qk=function(n){var i=Pg(xg.Zp(n),zw.Km),e=t.Yk(i);return{do:zw.$m,Zk:e}},t.Yk=function(n){var i=Pg(xg.Zp(n),zw.tp),e=t.Jk(i);return{do:zw.Km,$k:e}},t.Jk=function(n){for(var i=Lg(n.Hp()),e=i.version,r=i.flags,s=(n.Hp(),[]),u=xg.Zp(n),o=0;o<u.length;o++){var h=u[o],a=t.Kk(h.Fs,h.do);a&&s.push(a)}return{do:zw.tp,ck:e,fk:r,tA:s}},t.Kk=function(n,i){var e=t.nA(n,i);return e||((e=t.iA(n,i))||(i===zw.dp?t.eA(n):void 0))},t.nA=function(n,i){return i===zw.fp?t.rA(n):i===zw.wp?t.sA(n):void 0},t.iA=function(n,i){return i===zw.rp?t.uA(n):i===zw.op||i===zw.hp?t.oA(n,i):i===zw.gp?t.hA(n):void 0},t.aA=function(t,n){return t.jp(6),{do:n,cA:t.Up()}},t.fA=function(n,i){var e=t.aA(n,i);n.jp(8);var r=n.Up(),s=n.Up();return n.jp(2),n.jp(2),nr({},e,{vA:r,dA:s,lA:n.Hp()>>>16})},t._A=function(n,i){var e=t.aA(n,i);n.jp(2),n.jp(2),n.jp(12);var r=n.Up(),s=n.Up(),u=n.Hp(),o=n.Hp();n.jp(4);var h=n.Up();n.jp(32);var a=n.Up();return n.jp(2),nr({},e,{ku:r,zk:s,wA:u,gA:o,yA:h,mA:a})},t.rA=function(n){var i=t.fA(n,zw.fp),e=Pg(xg.Zp(n),zw.vp);return nr({},i,{pA:t.kA(e)})},t.eA=function(n){var i=t.aA(n,zw.dp),e=xg.Zp(n),r=Pg(e,zw.lp),s=t.AA(r),u=Og(e,zw._p);return nr({},i,{bA:s,TA:u?t.SA(u):u})},t.AA=function(t){return{do:zw.lp,ea:t.Gp()}},t.SA=function(t){return{do:zw._p,s_:t.Gp()}},t.kA=function(t){return xg.ak(t,zw.vp,!0)},t.uA=function(n){var i=t._A(n,zw.rp),e=xg.Zp(n),r=Pg(e,zw.sp),s=Og(e,zw.cp);return nr({},i,{EA:t.RA(r),IA:s?t.NA(s):void 0})},t.oA=function(n,i){var e=t._A(n,i),r=Pg(xg.Zp(n),zw.ap);return nr({},e,{DA:t.CA(r)})},t.hA=function(n){var i=n.Sh(),e=t._A(n,zw.gp),r=Pg(xg.Zp(n),zw.Dp),s=t.xA(r);return nr({},e,{PA:t.iA(i,s.BA.OA),LA:s})},t.sA=function(n){var i=n.Sh(),e=t.fA(n,zw.wp),r=Pg(xg.Zp(n),zw.Dp),s=t.xA(r);return nr({},e,{PA:t.nA(i,s.BA.OA),LA:s})},t.xA=function(n){var i=Pg(xg.Zp(n),zw.Cp),e=t.MA(i);return{do:zw.Dp,BA:e}},t.MA=function(t){var n=t.qp(4);return{do:zw.Cp,OA:n}},t.RA=function(t){return xg.hk(t,zw.sp,!0)},t.CA=function(t){return xg.hk(t,zw.ap,!0)},t.NA=function(t){var n=t.Hp(),i=t.Hp();return{do:zw.cp,UA:n,FA:i}},t.Sk=function(n){var i=Bg(xg.Zp(n),zw.ep).map(t.HA);return{do:zw.ip,Ek:i}},t.HA=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=t.Hp(),s=t.Hp(),u=t.Hp(),o=t.Hp(),h=t.Hp();return{do:zw.ep,ck:i,fk:e,Fk:r,VA:s,zA:u,XA:o,WA:h}},t.mk=function(n,i){var e=xg.Zp(n),r=Pg(e,zw.mp),s=Bg(e,zw.pp),u=t.qA(r),o=s.map(t.GA);return{do:zw.yp,jA:i,rk:u,Ek:o}},t.qA=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=t.Hp();return{do:zw.mp,ck:i,fk:e,QA:r}},t.GA=function(n){var i=xg.Zp(n),e=Pg(i,zw.kp),r=Bg(i,zw.Ap),s=Og(i,zw.bp),u=t.YA(e),o=r.map(function(n){return t.ZA(n,u)}),h=s?t.JA(s):void 0;return{do:zw.pp,rk:u,$A:o,KA:h}},t.YA=function(t){var n=Lg(t.Hp()),i=n.version,e=n.flags,r=t.Hp(),s=e.Ih(Ww.BASE_DATA_OFFSET_PRESENT)?t.zp():void 0,u=e.Ih(Ww.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Hp():void 0,o=e.Ih(Ww.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Hp():void 0,h=e.Ih(Ww.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Hp():void 0,a=e.Ih(Ww.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Hp():void 0;return{do:zw.kp,ck:i,fk:e,Fk:r,nb:s,ib:u,zA:o,XA:h,WA:a}},t.ZA=function(n,i){for(var e=Lg(n.Hp()),r=e.version,s=e.flags,u=n.Hp(),o=s.Ih(qw.DATA_OFFSET_PRESENT)?n.Vp():void 0,h=s.Ih(qw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Hp():void 0,a=[],c=0;c<u;c++){var f=t.eb(n,s,r,i);0===c&&void 0!==h&&(f.fk=h),a.push(f)}return{do:zw.Ap,ck:r,fk:s,sb:u,jA:o,ub:h,ob:a}},t.eb=function(t,n,i,e){return{nw:n.Ih(qw.SAMPLE_DURATION_PRESENT)?t.Hp():e.zA,kh:n.Ih(qw.SAMPLE_SIZE_PRESENT)?t.Hp():e.XA,fk:n.Ih(qw.SAMPLE_FLAGS_PRESENT)?t.Hp():e.WA,hb:n.Ih(qw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Hp():t.Vp():void 0}},t.Ak=function(t){var n=t.Fs,i=t.Lp,e=Lg(ku(n,i)),r=e.version,s=e.flags;if(1===r){var u=ku(n,i),o=bu(n,i),h=ku(n,i),a=ku(n,i),c=Su(n,i),f=Su(n,i),v=Qu(qu(n),i.Eh,n.byteLength);return i.bh(v.byteLength),{do:zw.Ep,ck:r,fk:s,ab:c,ks:f,hm:u,cb:o,fb:h,i_:a,vb:v}}var d=Su(n,i),l=Su(n,i),_=ku(n,i),w=ku(n,i),g=ku(n,i),y=ku(n,i),m=Qu(qu(n),i.Eh,n.byteLength);return i.bh(m.byteLength),{do:zw.Ep,fk:s,ck:r,ab:d,ks:l,hm:_,lb:w,fb:g,i_:y,vb:m}},t.pk=function(t){return xg.hk(t,zw.Tp,!1)},t.wk=function(n){var i=n.Fs,e=n.Lp,r=Yu(qu(i)).buffer,s=Lg(ku(i,e)),u=s.version,o=s.flags,h=t._b(i,e),a=[];if(u>0)for(var c=ku(i,e),f=0;f<c;f++){var v=_u(i,e,16);a.push(v)}var d=ku(i,e),l=new y(r,e.Eh,d);return e.bh(i.byteLength),{do:zw.Sp,ck:u,fk:o,wb:h,gb:a,yb:d,Fs:l,mb:r}},t._b=function(t,n){for(var i="",e=0;e<4;e++){var r=du(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=du(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=du(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=du(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=du(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.kk=function(t){var n,i,e=t.Fs,r=t.Lp,s=Lg(ku(e,r)),u=s.version,o=s.flags,h=ku(e,r),a=ku(e,r);0===u?(n=Xt.fromBits(ku(e,r),0,!0),i=Xt.fromBits(ku(e,r),0,!0)):(n=bu(e,r),i=bu(e,r)),r.bh(2);for(var c=mu(e,r),f=[],v=0;v<c;v+=1){var d=ku(e,r),l=d>>31&1,_=2147483647&d,w=ku(e,r),g=ku(e,r),y=g>>31&1,m=g>>28&7,p=268435455&g;f.push({pb:l,kb:_,nw:w,Ab:y,bb:m,Tb:p})}return{do:zw.Rp,ck:u,fk:o,Sb:h,hm:a,Eb:n,Rb:i,Ib:c,Nb:f}},t.JA=function(t){var n,i=t.Fs,e=t.Lp,r=Lg(ku(i,e)),s=r.version,u=r.flags;return n=0===s?Xt.fromBits(ku(i,e),0,!0):bu(i,e),{do:zw.bp,ck:s,fk:u,KA:n}},t}();function Ug(t){return t&&"Ns"in t?t.Ns:t}var Fg=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).Db=void 0,h.Cb=void 0,h.xb=void 0,h.Db=s,h.Cb=u,h.xb=o||void 0,h}return U(n,t),n.prototype.ty=function(n){return this===n||!!Wd(this,n)&&(!!t.prototype.ty.call(this,n)&&(!!Xd(this.Pb,n.Pb)&&(!!Xd(this.Hm,n.Hm)&&(this.Ob&&n.Ob?!!this.Ob.ds(n.Ob)&&(this.Mg&&n.Mg?this.Mg.ds(n.Mg):this.Mg===n.Mg):this.Ob===n.Ob))))},L(n,[{key:"Pb",get:function(){return this.Db}},{key:"Hm",get:function(){return this.Cb}},{key:"Ob",get:function(){return this.xb}},{key:"_l",get:function(){var t;return this.ll||(this.ll=Vd(ew(t=this),{get styles(){return t.Pb},get regions(){return t.Hm},get metadata(){return Ug(t.Ob)},get content(){return Ug(t.Mg)}})),this.ll}}]),n}(hw),Hg=function(){function t(t,n,i){this.Ff=void 0,this.Bb=void 0,this.Lb=void 0,this.Bb=t,this.Lb=n,en(i)?this.Ff=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Ps(s)}return i}(0,0,i):this.Ff=i}return L(t,[{key:"Mb",get:function(){return this.Ff.ls(!0)}},{key:"Bg",get:function(){return this.Bb}},{key:"Lg",get:function(){return this.Lb}}]),t}();var Vg="http://www.w3.org/XML/1998/namespace";function zg(t,n,i,e){var r=t.Rs(i,n);return 0===r.length&&(r=t.Ts(e+":"+n)),r}function Xg(t,n){return function(t,n){var i=t.Ds.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ds)}return e}(t,function(t){return t.Es===n})}function Wg(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function qg(t,n){for(var i=t.Ms,e={},r=0;r<i.length;r++)e[Wg(i[r].gs,n)]=i[r].ks;return e}var Gg=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,jg=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Qg="http://www.w3.org/ns/ttml";function Yg(t,n,i){return void 0===i&&(i=Gw),function(t,n,i){var e,r=[];try{e=b.fs(t)}catch(t){return r}var s=e.Hs;if("tt"!==s._s)return r;var u=s&&s.Rs(Qg,"head")[0],o=s&&s.Rs(Qg,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return r;for(var a=function(t,n){for(var i={},e=t.Rs(Qg,"styling")[0],r=e&&e.Rs(Qg,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.xs(Vg,"id");i[o]=qg(u,n)}return i}(u,h),c=function(t,n){var i=zd(t),e=Kg(n.Cs("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=Kg(i[u].extent);if(o){var h=Jg(o[0],e[0]),a=Jg(o[1],e[1]);i[u].extent=h+" "+a}var c=Kg(i[u].origin);if(c){var f=Jg(c[0],e[0]),v=Jg(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Rs(Qg,"layout")[0],r=e&&e.Rs(Qg,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.xs(Vg,"id");if(o){i[o]=qg(u,n);var h=iy(u,n);for(var a in h)Z.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.Rs(Qg,"metadata")[0],v=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(en(n)){var c,f;s=null!=(c=ny(n.Cs("begin"),r))?c:s,u=ny(n.Cs("dur"),0),o=null!=(f=ny(n.Cs("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Ss,d=0;d<v.length;d++)("body"===n._s||"div"===n._s)&&v[d].ss>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Bg,s.Lg)}e.sort(Yr);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(ns(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var w=ty(l[_],l[_+1],h);if(w.length<=0&&ey(n)){var g=n.ls(!1);a.push(new Hg(l[_],l[_+1],g))}else w.length>0&&function(){var t=n.ls(!1);w.forEach(function(n){return t.Is(n.Mb)}),a.push(new Hg(l[_],l[_+1],t))}()}return a}(o,i.Mm,i.Um,i.Fm),l=0;l<v.length;l++){var _=v[l],w=Zg(c,_);r.push(new Fg(_.Bg,_.Lg,_.Mb,!1,a,w,f))}return r}(t,0,i)}function Zg(t,n){for(var i=function t(n){var i=[];var e;if(en(n)){(e=n.Cs("region"))&&i.push(e);for(var r=n.Ss,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.Mb),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Jg(t,n){var i=$g(t),e=$g(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return g(r)||g(s)?t:r/s*100+"%"}return t}function $g(t){return Cr(t,"px")?"px":Cr(t,"em")?"em":Cr(t,"c")?"c":Cr(t,"%")?"%":void 0}function Kg(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function ty(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Bg,u=i[r].Lg;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function ny(t,n){if(t){if(Gg.test(t)){var i=Gg.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*l.pow(.1,u.length):0)-n}if(jg.test(t)){var o=jg.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function iy(t,n){for(var i={},e=t.Ts("style")||[],r=0;r<e.length;r++){var s=qg(e[r],n);for(var u in s)Z.call(s,u)&&(i[u]=s[u])}return i}function ey(t){if(en(t)){var n=t._s.toUpperCase(),i=Boolean(t.Cs("smpte:backgroundImage"));return"BR"===n||i}return t.ss===Kt.os}function ry(t){var n=function(t){try{return b.fs(t).Hs}catch(t){}}(t);return"tt"===(null==n?void 0:n._s)}var sy,uy=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Vl=function(n){return t.prototype.Vl.call(this,n)},i.zl=function(n){var i=t.prototype.zl.call(this,n);return i&&(n.l_=rl.a_),i},i.wl=function(){return fl(this)},n}(Bd),oy=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Ek=new uy,n.Ub=function(t){var i=t.gl;n.Fb(i)},n}U(n,t);var i=n.prototype;return i.Vl=function(t){t.Qo(Id.Il,this.Ub),this.Ek.Vl(t),this.Fb(t)},i.zl=function(t){t.$o(Id.Il,this.Ub),t.l_=rl.a_,this.Ek.zl(t)},i.Hb=function(t){},i.Vb=function(t){},i.Fb=function(t){t.l_!==rl.a_?this.Hb(t):this.Vb(t)},i.zb=function(){for(var t=0,n=this.Ek.ql;t<n.length;t++){var i=n[t];i.$o(Id.Il,this.Ub),i.Zv()}},i.Wl=function(){return this.zb(),this.Ek.Wl(),T.resolve()},i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),t.next=3,this.Wl();case 3:this.Ek.Zv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Is);!function(t){t.xp="subtitles",t.Xb="captions",t.Wb="descriptions",t.qb="chapters",t.Op="metadata",t.Gb="thumbnails"}(sy||(sy={}));var hy=[sy.xp,sy.Xb,sy.Wb,sy.qb,sy.Op,sy.Gb];function ay(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&is(hy,t)}(n)?n:n?sy.Op:sy.xp}var cy,fy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return U(n,t),n}(Po);function vy(t){return t instanceof qf}function dy(t){return Nr(t,cy.jb)}function ly(t){return t.some(_y)}function _y(t){return Nr(t,cy.Qb)||Nr(t,cy.dp)}function wy(t,n){return ao(t)&&ly(n)}function gy(t,n){return!!t&&(ao(t)?function(t){return t.some(dy)}(n)||ly(n):Nr(t,ho.APPLICATION_TTML_XML)||Nr(t,ho.TEXT_VTT)||Nr(t,ho.IMAGE_JPEG))}function yy(t,n){return t===sy.Gb||t===sy.Op&&n===sy.Gb}function my(t,n,i,e){for(var r=0,s=t.y_.ql;r<s.length;r++){var u=s[r];if(u.Bg>i)break;n<=u.Lg&&e.push(u)}}function py(t,n){return Qr(t.e_,n.e_)}function ky(t,i){var e=i,r=0;if(vy(t)&&t.name===Hf.sd)e=t.Tv.Ev;else if(t instanceof jf){var s=t.vd;if(e=s.Sv,0===(r=s.mv))return new fy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new fy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Ay(t,i,e,r){var s=function(t){switch(t){case q_.WEBVTT:return"WebVTT";case q_.SRT:return"SRT";case q_.TTML:return"TTML";default:return""}}(t);return new fy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function by(t){return vg(ig(t))?q_.WEBVTT:ry(t)?q_.TTML:q_.SRT}!function(t){t.Qb="vtt",t.dp="wvtt",t.jb="stpp"}(cy||(cy={}));var Ty=function(t){function n(n){var i;return(i=t.call(this,sl.v_)||this).errorObject=n,i}return U(n,t),n.prototype.wl=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ed),Sy=function(t){function n(n,i){var e;return(e=t.call(this)||this).Yb=void 0,e.Zb=void 0,e.Jb=new cs,e.Yb=n,e.Zb=i,e}U(n,t);var i=n.prototype;return i.$b=function(t){if(t.src){var n=t.kind||sy.xp,i=this.Yb.Kb(n,t.id,t.label,t.srclang,t.default);return i.p_=Ff(t.src),this.Vl(i),i}},i.tT=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.g_=W_.LOADING,e=new Bf({Ev:n.p_,kv:th.os,Xv:Df.GET,zo:i}),t.prev=2,t.next=5,this.Zb.Tv(e);case 5:return u=t.sent,s=u.mv,t.next=9,u.ev();case 9:r=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),ls(t.t0),n.g_=W_.ERROR,n.jo(new Ty(ky(t.t0,n.p_))),t.abrupt("return");case 18:for(t.prev=18,o=by(r),n.do=o,h=[],o===q_.WEBVTT||o===q_.SRT?(a=ng(r),h=a.y_):o===q_.TTML&&(h=Yg(r)),c=0,f=h;c<f.length;c++)v=f[c],n.nT(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),ls(t.t1),n.g_=W_.ERROR,n.jo(new Ty(Ay(n.do,n.p_,s,t.t1))),t.abrupt("return");case 32:n.g_=W_.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Hb=function(t){is(this.Ek.ql,t)&&t.g_===W_.NONE&&this.tT(t,this.Jb.zo).catch(_s)},i.jh=function(){},i.Wl=function(){var n=T.coroutine(tr.mark(function n(){var i,e,r;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Jb.Fo(),this.Jb=new cs,i=0,e=this.Ek.ql;i<e.length;i++)r=e[i],this.Yb.iT(r);return n.next=5,t.prototype.Wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(oy);function Ey(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.r_===n&&e.eT)return e}}function Ry(t,n){Iy(Ey(t.ql,n))}function Iy(t){void 0!==t&&(t.l_=rl.f_)}function Ny(t,n){Iy(Ey(t.ql,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.r_===n)return e}}(t.ql,n))}function Dy(t){for(var n=0;n<hy.length;n++){var i=hy[n];i===sy.qb?Ny(t,i):Ry(t,i)}}var Cy,xy=function(t){function n(){return t.call(this,Ko.Ec)||this}return U(n,t),n}(Ds);!function(t){t[t.rT=0]="rT",t[t.sT=1]="sT"}(Cy||(Cy={}));var Py=t,Oy=Py.MediaSource,By=Py.WebKitMediaSource,Ly=Py.TextTrack,My=r&&r.createElement("video"),Uy=(r&&r.documentElement.style,Y.ar&&Y.Xr&&Y.Wr<=26),Fy=(Y.Er,!!m),Hy=!(!Oy&&!By),Vy=!!Ly,zy=(r&&(r.fullscreenEnabled||r.webkitFullscreenEnabled||r.mozFullScreenEnabled||r.msFullscreenEnabled)||Y.Ar,Y.Fr&&Y.Hr,My&&My.canPlayType&&(""!==My.canPlayType("application/vnd.apple.mpegURL")||Y._r&&!Y.Fr&&Y.wr>=4)),Xy=My&&My.canPlayType&&""!==My.canPlayType("video/mp4")&&!Uy,Wy=Hy&&!Y.Vr&&!Y.Lr&&!Y.Br&&((Oy||By).isTypeSupported?(Oy||By).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):My&&My.canPlayType&&""!==My.canPlayType('audio/mp4; codecs="mp4a.40.34"')),qy=Hy&&!Y.Vr&&(Wy||((Oy||By).isTypeSupported?(Oy||By).isTypeSupported("audio/mpeg"):My&&My.canPlayType&&""!==My.canPlayType("audio/mpeg"))),Gy=Hy&&!(Y.Ur&&Y.ar)&&((Oy||By).isTypeSupported?(Oy||By).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Xy),jy=(Y.Vr||Y.Lr||Y.Br,Y.Mr),Qy=jy&&!1,Yy=!Y.Vr,Zy=Y.Lr&&Y.cr&&Y.dr<=6.1,Jy=My&&"onresize"in My;try{e&&e.top!==e.self}catch(t){!0}var $y=.001,Ky=1e4,tm=3,nm=function(t){function n(n){var i;return(i=t.call(this,Vl.J_)||this).currentTime=n,i}return U(n,t),n}(Ds),im=function(t){function n(n){var i;return(i=t.call(this,Vl.K_)||this).currentTime=n,i}return U(n,t),n}(Ds),em=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).uT=Tl.z_,e.oT=!0,e.hT=!1,e.aT=!1,e.cT=function(t){var n=t.readyState;n!==e.uT&&e.jo(t),n===Tl.z_&&(e.hT=!1,e.aT=!1),e.fT(n),e.vT(n),e.dT(n),e.maybeDispatchCanPlayThroughEvent(n),e.lT(n),e._T(n),e.uT=n},e.wT=function(){e._T(e.uT),e.lT(e.uT),e.oT=e.gT.sw},e.yT=function(){e.oT=e.gT.sw},e.gT=n,e.mT=i,e.gT.Qo(Vl.Dl,e.cT),e.gT.Qo(Ko.Ac,e.wT),e.gT.Qo(Ko.kc,e.yT),e.mT&&e.gT.Qo(Vl.K_,e.Go),e}U(n,t);var i=n.prototype;return i.fT=function(t){!this.aT&&t>=Tl.X_&&(this.aT=!0,this.jo(new Ql(this.gT.tw,t)))},i.vT=function(t){!this.hT&&t>=Tl.W_&&(this.hT=!0,this.jo(new Kl(this.gT.tw,t)))},i.lT=function(t){this.mT||(t>=Tl.q_&&this.uT<Tl.q_&&!this.gT.sw||this.pT&&t>=Tl.q_)&&this.jo(new im(this.gT.tw))},i._T=function(t){!this.kT(t)||this.gT.iw||this.gT.hh||this.jo(new nm(this.gT.tw))},i.dT=function(t){this.uT<=Tl.W_&&t>=Tl.q_&&this.jo(new e_(this.gT.tw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Tl.G_&&this.jo(new r_(this.gT.tw,t))},i.kT=function(t){var n=!this.gT.sw&&t<=Tl.W_,i=!this.oT&&this.uT<=Tl.W_;return n&&!i},i.Wl=function(){this.uT=Tl.z_,this.oT=!0,this.hT=!1,this.aT=!1},i.Zv=function(){this.Jo(),this.mT&&this.gT.$o(Vl.K_,this.Go),this.gT.$o(Ko.Ac,this.wT),this.gT.$o(Ko.kc,this.yT),this.gT.$o(Vl.Dl,this.cT)},L(n,[{key:"pT",get:function(){return!this.gT.sw&&this.oT}}]),n}(Is),rm="titanium",sm="conax",um="ezdrm",om="irdeto",hm="vudrm",am="verimatrix",cm="keyos",fm="drmtoday",vm="expressplay",dm="azure",lm="xstream",_m="vimond",wm="axinom",gm="uplynk",ym="comcast",mm="custom",pm=function(){function t(t,n,i,e,r){this.ia=void 0,this.AT=void 0,this.bT=void 0,this.TT=void 0,this.Zb=void 0,this.ST=void 0,this.ET=void 0,this.ia=t,this.AT=n,this.bT=i,this.Zb=e,this.ET=r,this.TT=this.RT(n)}var i=t.prototype;return i.IT=function(){return this.ST},i.NT=function(t){this.ST=t},i.DT=function(){return this.TT.licenseAcquisitionURL||this.IT()},i.CT=function(t){return T.resolve()},i.xT=function(t,n){return T.resolve(void 0)},i.PT=function(){var t=T.coroutine(tr.mark(function t(i,e,r,s){var u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.OT(i,e,r,s)).Ev){t.next=3;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.al.Tv(u);case 6:return o=t.sent,t.next=9,o.rv(e);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),ls(t.t0),t.next=17,this.BT(t.t0,u.Ev,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,e,r){return t.apply(this,arguments)}}(),i.OT=function(t,n,i,e){var r=this.LT().Xc(),s=this.jv,u={Ev:this.MT(),kv:n,pv:r,hv:t,jv:s,Xv:Df.POST,Wv:0,zo:e,do:Cf.Cv,qv:i};return new Bf(u)},i.UT=function(t,n){return T.resolve(t)},i.FT=function(t,n,i,e){return T.resolve(t)},i.LT=function(){return new nh(this.TT.headers||{})},i.BT=function(){var t=T.coroutine(tr.mark(function t(i,e,r){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.MT=function(t,n){var i=n,e=this.TT.queryParameters;if(!i){var r=this.DT();if(!r)return"";i=r}if(e||t){var s=b.zu(i);t&&Uf(s,t),e&&Uf(s,e),i=s.href}return i},i.HT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(km(t,i)))}(t,this.TT)},i.VT=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zT(n,e);case 2:return r=t.sent,t.next=5,this.PT(r,this.ET,i,e);case 5:return s=t.sent,t.next=8,this.HT(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.Zv=function(){},L(t,[{key:"al",get:function(){return this.Zb}},{key:"XT",get:function(){return!1}},{key:"WT",get:function(){var t=this.TT.certificate;if(t)return et(t)?qs(t):ju(t)}},{key:"qT",get:function(){return!1}},{key:"jv",get:function(){return Boolean(this.TT.useCredentials)}}]),t}();function km(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Am(t,n){var i=Yu(t).buffer,e=n.licenseRequestProcessor;return T.resolve(km(i,e))}var bm,Tm,Sm=function(t){function n(n,i,e,r){return t.call(this,br,n,i,e,r)||this}U(n,t);var i=n.prototype;return i.RT=function(t){return t.widevine||{}},i.GT=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.WT){t.next=2;break}return t.abrupt("return",this.WT);case 2:return t.abrupt("return",this.jT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jT=function(n,i){return t.prototype.VT.call(this,n,xf.Bv,i)},n}(pm);function Em(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Rm(t){return $(t.token&&t.deviceId)}function Im(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&$(i.PreAuthorization)}function Nm(t){var n=t;return Rm(n)&&""!==n.token&&""!==n.deviceId&&!Im(n)}(Tm=bm||(bm={})).QT=!1,Tm.YT=!1,Tm.ZT=!1,Tm.JT=!1,Tm.LOG_ADS_DETAILS=!1,Tm.LOG_CHROMECAST_DETAILS=!1,Tm.LOG_CUSTOM_DRM=!1,Tm.LOG_BUFFERING_VIDEO_MAIN=!1,Tm.LOG_BUFFERING_VIDEO_SELECTION=!1,Tm.LOG_BUFFERING_AUDIO_MAIN=!1,Tm.LOG_BUFFERING_AUDIO_SELECTION=!1,Tm.$T=!1,Tm.KT=!1;var Dm,Cm=function(){function t(t,n,i){this.tS=t,this.zh=n,this.nS=i}return t.prototype.iS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.nS.build(t))},L(t,[{key:"eS",get:function(){return this.tS}},{key:"ia",get:function(){return this.zh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Dm||(Dm={}));var xm=function(){function t(){this.rS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.sS(t,i,e)){case Dm.FAILED:throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Dm.OVERRIDDEN:var r=Jm(i);b.Nu("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Dm.SUCCEEDED:Jm(i);0}},i.sS=function(t,n,i){var e=Jm(n);if(!e)return Dm.FAILED;for(var r=Dm.SUCCEEDED,s=0,u=this.rS.slice();s<u.length;s++){var o=u[s];o.eS===t&&o.ia===e&&(r=Dm.OVERRIDDEN,ts(this.rS,o))}return this.rS.push(new Cm(t,e,i)),r},i.uS=function(t,n){return void 0!==this.oS(t,n)},i.hS=function(t,n,i){var e=this.oS(t,n);if(!e)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.iS(i)},i.oS=function(t,n){for(var i=0,e=this.rS;i<e.length;i++){var r=e[i];if(r.eS===t&&(!n||r.ia===n))return r}},t}();xm.aS=new xm;var Pm=["customdata"],Om={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Bm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function Lm(t){return t&&void 0!==t.licenseAcquisitionURL}var Mm,Um=Lm,Fm=Lm;function Hm(t){if(!t)return!0;if(Wm(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return Bm(n)&&Bm(i)&&Bm(e)&&Bm(r)&&Bm(s)}function Vm(t){var n=Nm(t),i=function(t){var n,i=t;return Im(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Rm(i)}(t);return(!n||!i)&&(n||i)}function zm(t){return t.integration===om}function Xm(t){var n=t;if(!n)return!1;if(Hm(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(Wm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!Um(e))return!1;if(r&&!Fm(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(xm.aS.uS(n.integration))return!0;switch(n.integration){case rm:if(!function(t){return t.integration===rm&&(qm(t)||Gm(t))}(t))return!1;break;case hm:if(!jm(t))return!1;break;case am:if(!function(t){return t.integration===am}(t))return!1;break;case om:if(!zm(t))return!1;break;case sm:if(!Vm(t))return!1;break;case um:if(!function(t){return t.integration===um}(t))return!1;break;case cm:if(!Wm(t))return!1;break;case fm:if(!function(t){var n=t;return n.integration===fm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case vm:if(!function(t){return t.integration===vm}(t))return!1;break;case lm:if(!Qm(t))return!1;break;case _m:if(!function(t){return t.integration===_m}(t))return!1;break;case wm:if(!Ym(t))return!1;break;case dm:if(!function(t){var n=t;return n.integration===dm&&void 0!==n.token}(t))return!1;break;case gm:if(!function(t){return t.integration===gm}(t))return!1;break;case ym:if(!function(t){var n=t;return n&&$(n.releasePid)&&$(n.accountId)&&$(n.token)}(t))return!1;break;case mm:return!0;default:return!1}}return!0}function Wm(t){return t.integration===cm}function qm(t){return void 0!==t.authToken}function Gm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function jm(t){var n=t;return n.integration===hm&&void 0!==n.token}function Qm(t){var n=t;return n&&n.integration===lm&&et(n.ticketAcquisitionURL)&&et(n.streamId)}function Ym(t){var n=t;return n.integration===wm&&void 0!==n.token}function Zm(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Om[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=nr({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};c.customdata;return nr({},Em(c,Pm),{licenseAcquisitionURL:u,headers:a})}function Jm(t){switch(t.toLowerCase()){case"widevine":case yr:return yr;case"playready":case wr:return wr;case"fairplay":case pr:return pr}}function $m(t,i){switch(t){case dr:return function(t){for(var n={},i=Mg._k(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.wb]=r.mb}return n}(i);case lr:case _r:return function(t){var n;return(n={})[mr]=t,n}(i);default:throw new Po(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ao="Widevine",t.ho="PlayreadyV2",t.cS="PlayreadyV2",t.fS="PlayreadyV3",t.co="Fairplay"}(Mm||(Mm={}));var Km={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function tp(t,n){var i,e,r,s,u=Km[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=b.Wu)?void 0:i.qu,OSVersion:null==(e=b.Wu)?void 0:e.Ju,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(r=b.Wu)?void 0:r.$u,DeviceModel:null==(s=b.Wu)?void 0:s.Ku}}}function np(t,i){if(!t.accountName)throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function ip(t,n,i){var e;if(qm(t))e={AuthToken:t.authToken,Payload:n};else{if(!Gm(t))throw np(t,i);e={LatensRegistration:tp(t,i),Payload:n}}return nu(JSON.stringify(e))}function ep(t,n,i){return rp.apply(this,arguments)}function rp(){return(rp=T.coroutine(tr.mark(function t(i,e,r){var s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.vd){t.next=3;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,e);case 3:return u=s,t.prev=4,t.next=7,u.nv(r);case 7:o=t.sent,h=sp(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.Tv.Ev,u.mv,u.Av,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function sp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var up=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,th.Vc)||this).vS=void 0,r}U(i,t),i.dS=function(){return b.qu.wu?"required":"optional"};var e=i.prototype;return e.BT=function(t,n,i){return ep(t,n,i)},e.CT=function(t){return this.vS?ws(this.vS.Dh,t):(this.vS=new $u,T.resolve())},e.zT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.AT){t.next=3;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=js(i),t.abrupt("return",ip(r,s,Mm.ao));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.HT=function(t){var i;if(!t.license)throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=qs(t.license),T.resolve(i)},e.lS=function(t){return T.resolve(new y(t))},e.GT=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._S(),t.next=3,this.zT(n,i);case 3:return e=t.sent,t.next=6,this.PT(e,th.Hc,xf.Lv,i);case 6:return r=t.sent,t.next=9,this.lS(r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.jT=function(){var n=T.coroutine(tr.mark(function n(i,e){var r;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.jT.call(this,i,e);case 2:return r=n.sent,this._S(),n.abrupt("return",r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),e._S=function(){this.vS||(this.vS=new $u),this.vS.Ch()},e.Zv=function(){this.vS&&this.vS.Fo(),t.prototype.Zv.call(this)},i}(Sm),op=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,th.Hc)||this).NT("https://widevine-proxy.drm.technology/proxy"),r}return U(i,t),i.prototype.zT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(i,this.TT);case 2:if(r=t.sent,s=this.bT,e=new y(r),u=[].slice.call(e),o=this.wS){t.next=8;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var e},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"wS",get:function(){if(jm(this.AT))return this.AT.token}}]),i}(Sm);function hp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ap=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Hc)||this).NT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}U(n,t);var i=n.prototype;return i.zT=function(t,n){return Am(t,this.TT)},i.MT=function(n,i){var e=n;return zm(this.AT)&&(e=hp(this.AT,e)),t.prototype.MT.call(this,e,i)},n}(Sm),cp="Conax-Custom-Data";function fp(t,n,i){var e=t&&Vm(t)&&t;if(e&&!i.has(cp)){var r=Nm(e)?e.token:void 0,s=Nm(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(cp,u)}return i}var vp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Hc)||this).NT("https://connect.conax.com:8094/license"),r}U(n,t);var i=n.prototype;return i.zT=function(t,n){return Am(t,this.TT)},i.LT=function(){var n=t.prototype.LT.call(this);return fp(this.AT,"Widevine",n)},n}(Sm);function dp(t){var n=Bu(new y(t));return qs(JSON.parse(n).license)}function lp(t){return"string"==typeof t.token?t.token:nu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function _p(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var wp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,th.Hc)||this).NT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}U(n,t);var i=n.prototype;return i.zT=function(t,n){return Am(t,this.TT)},i.HT=function(t){return T.resolve(dp(t))},i.LT=function(){return _p(t.prototype.LT.call(this),this.wS,this.AT)},L(n,[{key:"wS",get:function(){return lp(this.AT)}}]),n}(Sm),gp=function(t){function n(n,i,e){return t.call(this,n,i,e,th.Hc)||this}U(n,t);var i=n.prototype;return i.zT=function(t,n){return Am(t,this.TT)},i.LT=function(){var n=t.prototype.LT.call(this),i=this.AT.token;return n.set("Authorization","Bearer "+i),n},n}(Sm);function yp(t,n,i,e){return mp.apply(this,arguments)}function mp(){return(mp=T.coroutine(tr.mark(function t(i,e,r,s){var u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Qm(i)){t.next=2;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new nh).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:e,licenseType:a,streamId:h},f={Ev:i.ticketAcquisitionURL,kv:th.Vc,pv:u,Xv:Df.POST,hv:JSON.stringify(c),zo:s},t.next=13,r.Tv(f);case 13:return v=t.sent,t.next=16,v.nv();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var pp=function(t){function n(n,i,e){return t.call(this,n,i,e,th.Vc)||this}U(n,t);var i=n.prototype;return i.LT=function(){var n=t.prototype.LT.call(this);return n.set("Content-Type","application/json"),n},i.zT=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=tu(n.buffer),r=this.AT,t.next=4,yp(r,"widevine_modular",this.al,i);case 4:return s=t.sent,this.NT(s.licenseServerUrl),u=Lu(JSON.stringify({payload:e,ticket:s.ticket})),t.abrupt("return",Am(u,this.TT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HT=function(t){var n=t;return T.resolve(qs(n.license))},n}(Sm),kp=function(t){function i(n,i,e){return t.call(this,n,i,e,th.Hc)||this}U(i,t);var e=i.prototype;return e.zT=function(t,n){return Am(t,this.TT)},e.LT=function(){if(!Ym(this.AT))throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LT.call(this);return i.set("X-AxDRM-Message",this.AT.token),i},i}(Sm);function Ap(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var bp=function(t){function n(n,i,e){var r;return(r=t.call(this,Ar,n,i,e,th.Hc)||this).gS=void 0,r}U(n,t);var i=n.prototype;return i.RT=function(t){return t.playready||{}},i.LT=function(){var n=new nh(this.gS);return n.qc(t.prototype.LT.call(this)),n},i.yS=function(t){return t.length>=1&&t[0].Ss.length>0},i.xT=function(n){var i=this.AT.playready.customData;if(i){var e=Ap(i),r=Ap('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+js(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{Ia:r}})}return t.prototype.xT.call(this,n)},i.zT=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Am(n,this.TT);case 2:return e=t.sent,t.abrupt("return",this.mS(e));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mS=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h,a,c,f,v,d,l,_,w,g;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=xu(o,new Zu,!0),t.prev=3,a=b.fs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.Ts("PlayReadyKeyMessage")[0])?void 0:i.Ts("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Ts("Challenge"))?e:[],this.yS(f)&&(u=Ks(f[0].Us)),v=new nh,d=null!=(r=null==c?void 0:null==(s=c.Ts("HttpHeaders")[0])?void 0:s.Ts("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],w=_.Ts("name")[0].Us,g=_.Ts("value")[0].Us,v.append(w,g);return this.gS=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.GT=function(t,n){return T.resolve(t)},i.jT=function(n,i){return t.prototype.VT.call(this,n,xf.Mv,i)},n}(pm),Tp=function(){function t(n){this.pS=void 0,this.kS=n,this.pS=t.AS(n)}return t.AS=function(t){return"3"===t.version?Mm.fS:Mm.cS},t.prototype.bS=function(){var t={};if(this.pS===Mm.fS){var n={LatensRegistration:tp(this.kS,Mm.fS)};t["X-TITANIUM-DRM-CDATA"]=nu(JSON.stringify(n))}return t},L(t,[{key:"TS",get:function(){return this.pS}},{key:"la",get:function(){return this.pS===Mm.cS}}]),t}();var Sp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).SS=void 0,r.SS=new Tp(r.AT),r}U(i,t);var e=i.prototype;return e.xT=function(t){var i=this.AT;if(!this.AT)throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Gm(i)){var e={};return e.playready={Ia:Ep(i,this.SS.TS)},T.resolve(e)}return T.reject(np(i,Mm.ho))},e.LT=function(){var n=new nh(this.SS.bS());return n.qc(t.prototype.LT.call(this)),n},e.BT=function(){var t=T.coroutine(tr.mark(function t(i,e,r){var s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.vd){t.next=3;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,s.sv(r);case 6:h=t.sent,a=Bu(new y(h)),(c=b.fs(a))&&(f=Xg(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Us),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,s.mv,s.Av,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.yS=function(t){if(1!==t.length)throw new S_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(bp);function Ep(t,n){var i=tp(t,n),e=i.DeviceInfo.FormatVersion,r=nu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Uu(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Uu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+js(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Rp,Ip=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NT("https://playready-license.drm.technology/rightsmanager.asmx"),r}U(i,t);var e=i.prototype;return e.yS=function(t){if(1!==t.length)throw new S_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.MT=function(n,i){var e=nr({},n||{},{token:this.wS});return t.prototype.MT.call(this,e,i)},L(i,[{key:"wS",get:function(){if(jm(this.AT))return this.AT.token}}]),i}(bp),Np=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return U(n,t),n.prototype.MT=function(n,i){var e=n;return zm(this.AT)&&(e=hp(this.AT,e)),t.prototype.MT.call(this,e,i)},n}(bp),Dp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return U(n,t),n.prototype.LT=function(){var n=t.prototype.LT.call(this);return fp(this.AT,"PlayReady",n)},n}(bp),Cp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}U(n,t);var i=n.prototype;return i.HT=function(n){return(Dr(Bu(new y(n)),"<?xml")?Rp.ES:Rp.nv)===Rp.nv?T.resolve(dp(n)):T.resolve(t.prototype.HT.call(this,new y(n)))},i.LT=function(){return _p(t.prototype.LT.call(this),this.wS,this.AT)},L(n,[{key:"wS",get:function(){return lp(this.AT)}}]),n}(bp);!function(t){t[t.ES=0]="ES",t[t.nv=1]="nv"}(Rp||(Rp={}));var xp,Pp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RS=void 0,r}U(n,t);var i=n.prototype;return i.LT=function(){var n=t.prototype.LT.call(this);return this.RS&&n.set("Ticket",this.RS),n.set("Content-Type","text/xml"),n},i.zT=function(){var n=T.coroutine(tr.mark(function n(i,e){var r,s;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.AT,n.next=3,yp(r,"playready",this.al,e);case 3:return s=n.sent,this.NT(s.licenseServerUrl),this.RS=s.ticket,n.abrupt("return",t.prototype.zT.call(this,i,e));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(bp),Op=function(t){function i(){return t.apply(this,arguments)||this}return U(i,t),i.prototype.LT=function(){if(!Ym(this.AT))throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LT.call(this);return i.set("X-AxDRM-Message",this.AT.token),i},i}(bp);!function(t){t.Vc="application/json",t.IS="application/x-www-form-urlencoded",t.NS="application/octet-stream",t.os="text/plain;charset=UTF-8"}(xp||(xp={}));var Bp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.ia,i,e,r,s)||this).DS="",u.CS=void 0,u.xS=void 0,u.xS=n.PS,u}U(n,t);var i=n.prototype;return i.OS=function(){return this.TT.certificateURL||this.CS},i.LS=function(t){this.CS=t},i.zT=function(t){return T.resolve(this.MS(t,this.DS))},i.MS=function(t,n){return"spc="+encodeURIComponent(js(t))+"&assetId="+encodeURIComponent(n)},i.RT=function(t){return t.fairplay||{}},i.US=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.xT=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!=(i=this.xS)?i:Hu(new y(n)),t.next=3,this.US(e);case 3:return r=t.sent,this.DS=r,(s={}).fairplay={Ba:r},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.LT=function(){var n=t.prototype.LT.call(this);return n.set("Content-Type",this.FS),n},i.GT=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.WT){t.next=2;break}return t.abrupt("return",this.WT);case 2:return t.next=4,this.HS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jT=function(n,i){return t.prototype.VT.call(this,n,xf.Pv,i)},i.VS=function(t){var n=this.OS(),i=this.LT(),e={Ev:n,kv:th.Hc,pv:i,Xv:Df.GET,jv:!1,hv:null,Wv:0,zo:t,do:Cf.Cv,qv:xf.Ov};return new Bf(e)},i.HS=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.VS(n),t.next=3,this.al.Tv(i);case 3:return e=t.sent,t.next=6,e.sv();case 6:return r=t.sent,t.abrupt("return",new y(r));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=qs(i)}else n=new y(t);return T.resolve(n)},i.MT=function(n,i){var e=t.prototype.MT.call(this,n,i);return Dr(e,"skd:")&&(e=e.substr("skd:".length)),e},L(n,[{key:"qT",get:function(){return!0}},{key:"FS",get:function(){return xp.IS}}]),n}(pm),Lp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.Hc)||this}U(n,t);var i=n.prototype;return i.US=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return T.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return T.resolve(i)},i.zT=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(t){return T.resolve(new y(t))},i.MT=function(n,i){var e=n||{};return e.p1=Jt(),t.prototype.MT.call(this,e,i)},L(n,[{key:"FS",get:function(){return xp.NS}}]),n}(Bp),Mp=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.Hc)||this).NT("https://fairplay-license.drm.technology/license"),s.LS("https://fairplay-license.drm.technology/certificate"),s}U(i,t);var e=i.prototype;return e.MS=function(t,n){var i={token:this.wS,contentId:n,payload:js(t)};return JSON.stringify(i)},e.HT=function(t){return T.resolve(new y(t))},e.LT=function(){var n=t.prototype.LT.call(this);return n.set("x-vudrm-token",this.wS),n},L(i,[{key:"FS",get:function(){return xp.Vc}},{key:"wS",get:function(){if(!jm(this.AT))throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.AT.token}}]),i}(Bp),Up="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Fp="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Hp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Hc)||this}return U(i,t),i.prototype.HT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Up)}if(!i)throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Fp);return i}(Bu(new DataView(i)));return t.prototype.HT.call(this,e)},i}(Bp);var Vp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Vc)||this}U(i,t);var e=i.prototype;return e.zT=function(){var t=T.coroutine(tr.mark(function t(i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.AT){t.next=3;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return r=js(i),t.abrupt("return",ip(e,r,Mm.co));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.HT=function(t){try{var i;if(et(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ks(i.license);return T.resolve(new y(r))}return T.reject(new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.BT=function(t,n,i){return ep(t,n,i)},L(i,[{key:"FS",get:function(){return xp.Vc}}]),i}(Bp),zp=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.Hc)||this).NT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.LS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}U(n,t);var i=n.prototype;return i.OS=function(){var n=t.prototype.OS.call(this);if(!n)return n;var i=b.zu(n),e=this.AT;return zm(e)&&Uf(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.US=function(n){return zm(this.AT)?T.resolve(this.AT.contentId):t.prototype.US.call(this,n)},i.zT=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(t){return T.resolve(new y(t))},i.MT=function(n,i){var e=n;return zm(this.AT)&&(e=function(t,n){return nr({},hp(t,n),{KeyId:t.keyId})}(this.AT,e)),t.prototype.MT.call(this,e,i)},L(n,[{key:"FS",get:function(){return xp.NS}}]),n}(Bp),Xp=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,th.os)||this,!Vm(e))throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.NT("https://connect.conax.com:8097/license"),u}U(i,t);var e=i.prototype;return e.LT=function(){var n=t.prototype.LT.call(this);return fp(this.AT,"FairPlay",n)},e.HS=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OS(),e={Ev:i,kv:th.Hc,pv:{},Xv:Df.GET,jv:!1,hv:null,Wv:0,zo:n,do:Cf.Cv,qv:xf.Ov},t.next=4,this.al.Tv(e);case 4:return r=t.sent,t.next=7,r.sv();case 7:return s=t.sent,t.abrupt("return",new y(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.zT=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.US=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Bu(qs(n)))):T.resolve("unknown")},e.HT=function(t){try{var n=JSON.parse(t);return T.resolve(new y(Ks(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(Bp),Wp=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.os)||this).NT(Om[fr.co]),s}U(i,t);var e=i.prototype;return e.US=function(t){return Dr(t,"skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new S_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.MS=function(t,n){return"spc="+js(t)+"&assetId="+n},i}(Bp),qp=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.os)||this).NT("https://lic.drmtoday.com/license-server-fairplay/"),s}U(n,t);var i=n.prototype;return i.MS=function(t,n){var i="spc="+encodeURIComponent(js(t))+"&"+encodeURI(n);return"persistent"===this.TT.licenseType?i+"&offline=true":i},i.LT=function(){return _p(t.prototype.LT.call(this),this.wS,this.AT)},L(n,[{key:"wS",get:function(){return lp(this.AT)}}]),n}(Bp),Gp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.Hc)||this}U(n,t);var i=n.prototype;return i.US=function(t){var n=t;return Dr(n,"skd:")&&(n="http:"+n.substring(4)),Dr(n,"http:")||Dr(n,"https:")?T.resolve(b.zu(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.zT=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HT=function(t){return T.resolve(new y(t))},L(n,[{key:"FS",get:function(){return xp.NS}}]),n}(Bp),jp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,th.os)||this}return U(n,t),n.prototype.LT=function(){var n=t.prototype.LT.call(this),i=this.AT.token;return n.set("Authorization","Bearer "+i),n},n}(Bp),Qp=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,th.Vc)||this,!Qm(i))throw new f("Invalid Xstream DRM configuration");return s}U(n,t);var i=n.prototype;return i.HS=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OS(),e=this.LT(),r={Ev:i,kv:th.Vc,pv:e,Xv:Df.POST,zo:n,do:Cf.Cv,qv:xf.Ov},t.next=5,this.al.Tv(r);case 5:return s=t.sent,t.next=8,s.nv();case 8:return u=t.sent,t.abrupt("return",new y(qs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jT=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=th.os),r=js(n),s=this.AT,t.next=5,yp(s,"fairplay",this.al,i);case 5:return u=t.sent,o=Lu(JSON.stringify({spc:r,ticket:u.ticket})),h={Ev:this.DT(),kv:th.Vc,pv:this.LT(),Xv:Df.POST,hv:o,Wv:0,zo:i,do:Cf.Cv,qv:xf.Pv},t.next=10,this.al.Tv(h);case 10:return a=t.sent,t.next=13,a.nv();case 13:return c=t.sent,t.abrupt("return",qs(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"FS",get:function(){return xp.Vc}}]),n}(Bp),Yp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.os)||this}U(i,t);var e=i.prototype;return e.MS=function(t,n){return js(t)},e.HT=function(i){if(0===i.length)throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.HT.call(this,i)},e.LT=function(){var n=t.prototype.LT.call(this);return n.set("Content-Type","text/plain"),n},i}(Bp),Zp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,th.Hc)||this}U(i,t);var e=i.prototype;return e.MS=function(t,n){return t},e.HT=function(t){return T.resolve(new y(t))},e.LT=function(){if(!Ym(this.AT))throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LT.call(this);return i.set("X-AxDRM-Message",this.AT.token),i},L(i,[{key:"FS",get:function(){return xp.Vc}}]),i}(Bp),Jp=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.Vc)||this).zS=void 0,s}U(i,t);var e=i.prototype;return e.MS=function(t,n){var i={spc:js(t)};return JSON.stringify(i)},e.US=function(t){var i=b.zu(t);return this.zS=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new S_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.MT=function(n,i){var e=this.DT();return!e&&this.zS&&(e=this.zS),e&&(e=e.replace("skd://","https://")),t.prototype.MT.call(this,n,i||e)},e.HT=function(){var t=T.coroutine(tr.mark(function t(i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=et(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",qs(e.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"FS",get:function(){return xp.os}}]),i}(Bp),$p=function(){function t(t,n){this.XS=t,this.WS=n}var n=t.prototype;return n.qS=function(t){return this.XS(t)},n.GS=function(t,n){throw new v(n+" must be "+this.WS+". (Received: "+t+")")},t}(),Kp=new $p(ot,"a number"),tk=new $p(et,"a string"),nk=new $p(rt,"a boolean");var ik,ek=(ik={responseCode:Kp,isException:nk,description:tk,title:tk,correlationId:tk},{qS:function(t){if(!nt(t))return!1;for(var n=0,i=d.keys(ik);n<i.length;n++){var e=i[n];if(!ik[e].qS(t[e]))return!1}return!0},GS:function(t,n){if(!nt(t))throw new v(n+" must be an object.");for(var i=0,e=d.keys(ik);i<e.length;i++){var r=e[i],s=ik[r];if(!s.qS(t[r]))return s.GS(t[r],n+"."+r)}throw new v}});function rk(t,n,i,e,r){return sk.apply(this,arguments)}function sk(){return(sk=T.coroutine(tr.mark(function t(n,i,e,r,s){var u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=uk(n,i,e,s),t.next=3,ok(u,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uk(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=b.zu(t);return Uf(i,n),i.toString()}(i,r)),u=new nh({});u.append("Content-Type","application/json");var o=js(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Ev:s,kv:th.os,pv:u,Xv:Df.POST,hv:JSON.stringify(h),zo:e,do:Cf.Cv,qv:xf.Pv}}function ok(t,n){return hk.apply(this,arguments)}function hk(){return(hk=T.coroutine(tr.mark(function t(i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Tv(i);case 2:return r=t.sent,t.next=5,r.nv();case 5:if(s=t.sent,!ek.qS(s)){t.next=8;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.Ev,s.responseCode);case 8:return t.abrupt("return",qs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ak=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,th.Hc)||this).jS=void 0,s.jS=i,s}U(n,t);var i=n.prototype;return i.US=function(n){var i=n.replace("FairPlay",this.jS.releasePid);return t.prototype.US.call(this,i)},i.jT=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rk(n,this.jS,this.DT(),this.al,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Bp),ck=function(t){function i(n,i,e){return t.call(this,Sr,n,i,e,th.Hc)||this}U(i,t);var e=i.prototype;return e.RT=function(t){return t.clearkey||{}},e.zT=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Am(n,this.TT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.PT=function(){var i=T.coroutine(tr.mark(function i(e,r,s,u){var o,h;return tr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.TT,!this.DT()){i.next=5;break}return i.abrupt("return",t.prototype.PT.call(this,e,this.ET,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Lu(JSON.stringify(h)).buffer);case 10:throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,e,r){return i.apply(this,arguments)}}(),e.GT=function(t,n){return T.resolve(new y(0))},e.jT=function(n,i){return t.prototype.VT.call(this,n,xf.Uv,i)},i}(pm),fk=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.zT=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Am(n,this.TT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Sm),vk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function dk(t,n,i){return lk.apply(this,arguments)}function lk(){return(lk=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Ik(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ws(T.resolve(s.call(n,r)),e);case 8:if(!Gu(u=t.sent)){t.next=11;break}return t.abrupt("return",ju(u));case 11:return t.abrupt("return",Rk(nr({},vk,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _k(t,n,i,e,r){return wk.apply(this,arguments)}function wk(){return(wk=T.coroutine(tr.mark(function t(n,i,e,r,s){var u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Ek(i,e,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ws(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",ju(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gk(t,n,i,e){return yk.apply(this,arguments)}function yk(){return(yk=T.coroutine(tr.mark(function t(n,i,e,r){var s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kk(n,i,e,r);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",Rk(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mk(t,n,i,e,r,s){return pk.apply(this,arguments)}function pk(){return(pk=T.coroutine(tr.mark(function t(n,i,e,r,s,u){var o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Sk(e,s),t.next=3,bk(n,new y(i),o,r,u);case 3:return h=t.sent,t.abrupt("return",ju(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kk(t,n,i,e){return Ak.apply(this,arguments)}function Ak(){return(Ak=T.coroutine(tr.mark(function t(n,i,e,r){var s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=Sk(i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(u));case 5:return t.next=8,ws(T.resolve(s.call(n,u)),r);case 8:if(!Gu(o=t.sent)){t.next=11;break}return t.abrupt("return",ju(o).buffer);case 11:return t.abrupt("return",nr({fairplaySkdUrl:void 0},vk,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bk(t,n,i,e,r){return Tk.apply(this,arguments)}function Tk(){return(Tk=T.coroutine(tr.mark(function t(n,i,e,r,s){var u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Ek(i,e,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ws(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",ju(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sk(t,n){return nr({},Ik(t),{fairplaySkdUrl:n})}function Ek(t,n,i){return{url:i.Sv,status:i.mv,statusText:i.Av,headers:i.pv.Xc(),body:t,request:n}}function Rk(t){return new Bf({Ev:t.url,Xv:t.method,pv:t.headers,hv:t.body,jv:t.useCredentials})}function Ik(t){var n;return{url:t.Ev,body:null!=(n=Nk(t.hv))?n:null,headers:t.pv.Xc(),method:t.Xv,useCredentials:t.jv}}function Nk(t){if(t)return"string"==typeof t?Lu(t):t instanceof ArrayBuffer?new y(t):Ys(t)?qu(t):void 0}var Dk,Ck=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).QS=void 0,s.QS=r,s}U(i,t);var e=i.prototype;return e.GT=function(t,n){return T.resolve(t)},e.jT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mS(Yu(i).buffer);case 2:return r=t.sent,s=this.OT(r,th.Hc,xf.Mv,e),t.next=6,gk(this.QS,s,void 0,e);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(u));case 10:if(""!==u.Ev){t.next=12;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.al.Tv(u);case 15:return o=t.sent,t.next=18,o.sv(e);case 18:return h=t.sent,t.t0=y,t.next=22,mk(this.QS,h,s,o,void 0,e);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),ls(t.t2),new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(bp),xk=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,th.Hc)||this).QS=void 0,s.QS=r,s}U(i,t);var e=i.prototype;return e.GT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.WT){t.next=2;break}return t.abrupt("return",this.WT);case 2:return r=this.OT(i,th.Hc,xf.Lv,e),t.next=5,dk(this.QS,r,e);case 5:if(!((s=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.Ev){t.next=11;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.al.Tv(s);case 14:return u=t.sent,t.next=17,u.sv(e);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),ls(t.t0),new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=Sk(r,void 0),t.next=27,_k(this.QS,new y(o),h,u,e);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),e.jT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.OT(i,th.Hc,xf.Bv,e),t.next=3,gk(this.QS,r,void 0,e);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.Ev){t.next=9;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.al.Tv(s);case 12:return u=t.sent,t.next=15,u.sv(e);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),ls(t.t0),new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,mk(this.QS,o,r,u,void 0,e);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(fk),Pk=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,th.Hc)||this).QS=void 0,u.YS=void 0,u.QS=s,u}U(i,t);var e=i.prototype;return e.GT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.WT){t.next=2;break}return t.abrupt("return",this.WT);case 2:return r=this.VS(e),t.next=5,dk(this.QS,r,e);case 5:if(s=t.sent,!Ys(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.al.Tv(s);case 11:return u=t.sent,t.next=14,u.sv();case 14:return o=t.sent,h=Sk(r,void 0),t.next=18,_k(this.QS,new y(o),h,u,e);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ls(t.t0),new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),e.jT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.OT(i,th.Hc,xf.Pv,e),t.next=3,gk(this.QS,r,this.YS,e);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.Ev){t.next=9;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.al.Tv(s);case 12:return u=t.sent,t.next=15,u.sv(e);case 15:return o=t.sent,t.t0=y,t.next=19,mk(this.QS,o,r,u,this.YS,e);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),ls(t.t2),new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.US=function(n){var i;return this.YS=n,null!=(i=this.QS)&&i.extractFairplayContentId?T.resolve(this.QS.extractFairplayContentId(n)):t.prototype.US.call(this,n)},i}(Bp),Ok=function(){function t(){}var n=t.prototype;return n.ZS=function(t,n,i,e){switch(t.ia.do){case fr.ao:return this.JS(n,i,e);case fr.ho:return this.$S(n,i,e);case fr.co:return this.KS(t,n,i,e);case fr.fo:default:return this.tE(n,i,e)}},n.JS=function(t,n,i){var e,r=(e=t).integration===mm&&et(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&xm.aS.uS(r,yr)){var s=xm.aS.hS(r,yr,t);return new xk(t,n,i,s)}switch(r){case rm:return new up(t,n,i);case hm:return new op(t,n,i);case om:return new ap(t,n,i);case sm:return new vp(t,n,i);case fm:return new wp(t,n,i);case dm:return new gp(t,n,i);case lm:return new pp(t,n,i);case wm:return new kp(t,n,i);case cm:default:return new fk(t,n,i,th.Hc)}},n.$S=function(t,n,i){var e=t.integration;if(e&&xm.aS.uS(e,wr)){var r=xm.aS.hS(e,wr,t);return new Ck(t,n,i,r)}switch(e){case rm:return new Sp(t,n,i);case hm:return new Ip(t,n,i);case om:return new Np(t,n,i);case sm:return new Dp(t,n,i);case fm:return new Cp(t,n,i);case lm:return new Pp(t,n,i);case wm:return new Op(t,n,i);case cm:default:return new bp(t,n,i)}},n.KS=function(t,n,i,e){var r=n.integration;if(r&&xm.aS.uS(r,pr)){var s=xm.aS.hS(r,pr,n);return new Pk(t,n,i,e,s)}switch(r){case um:return new Lp(t,n,i,e);case hm:return new Mp(t,n,i,e);case am:return new Hp(t,n,i,e);case rm:return new Vp(t,n,i,e);case om:return new zp(t,n,i,e);case sm:return new Xp(t,n,i,e);case cm:return new Wp(t,n,i,e);case fm:return new qp(t,n,i,e);case vm:return new Gp(t,n,i,e);case dm:return new jp(t,n,i,e);case lm:return new Qp(t,n,i,e);case _m:return new Yp(t,n,i,e);case wm:return new Zp(t,n,i,e);case gm:return new Jp(t,n,i,e);case ym:return new ak(t,n,i,e);default:return new Bp(t,n,i,e,th.os)}},n.tE=function(t,n,i){return new ck(t,n,i)},n.nE=function(t){return t.do===fr.ho||t.do===fr.ao||t.do===fr.co||t.do===fr.fo},n.la=function(t,n){var i;if(t.do!==fr.ho)return!1;if($(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!xm.aS.uS(e,pr))&&(e===rm&&new Tp(n).la)},n.dS=function(t,n){if(t.do===fr.ao){var i=n.integration;if(!i||!xm.aS.uS(i,pr))return i===rm?up.dS():void 0}},t}();!function(t){t[t.iE=0]="iE",t[t.eE=1]="eE",t[t.rE=2]="rE",t[t.sE=3]="sE",t[t.B_=4]="B_",t[t.uE=5]="uE",t[t.V_=6]="V_",t[t.oE=7]="oE",t[t.hE=8]="hE"}(Dk||(Dk={}));var Bk,Lk=function(){function t(){}return t.prototype.aE=function(t){},L(t,[{key:"cE",get:function(){return 0}},{key:"fE",get:function(){return 0}}]),t}(),Mk=function(){function t(t,n){void 0===n&&(n=new Ok),this.Zb=void 0,this.vE=void 0,this.kS=void 0,this.Zb=t,this.vE=n}var n=t.prototype;return n.dE=function(t){this.kS=t},n.dS=function(t){var n=this.kS;if(void 0!==n)return this.vE.dS(t,n)},n.la=function(t){var n=this.kS;return void 0!==n&&this.vE.la(t,n)},n.lE=function(t){var n={ia:t.ia,_E:t._E||[],PS:t.PS},i=this.vE.ZS(n,this.kS||{},t.bT,this.Zb);return new Uk(i)},t}(),Uk=function(){function t(t){this.wE=void 0,this.wE=t}var n=t.prototype;return n.CT=function(t){return this.wE.CT(t)},n.xT=function(t,n,i){return this.wE.xT(n,i)},n.qT=function(){return this.wE.qT||void 0!==this.wE.WT},n.GT=function(t,n){return this.wE.GT(t,n)},n.jT=function(t,n,i){return n&&this.wE.NT(n),this.wE.jT(t,i)},n.Po=function(){this.wE.Zv()},t}(),Fk=function(t){function n(n){var i;(i=t.call(this)||this).gE=[],i.yE=function(t){i.Vl(t.gl)},i.mE=function(t){var n=t.gl;i.pE(n)||i.zl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.kE(r)}return i}U(n,t);var i=n.prototype;return i.kE=function(t){this.gE.push(t);for(var n=0,i=t.ql;n<i.length;n++){var e=i[n];this.Vl(e)}this.AE(t)},i.bE=function(t){ts(this.gE,t),this.TE(t);for(var n=0,i=t.ql;n<i.length;n++){var e=i[n];this.pE(e)||this.zl(e)}},i.pE=function(t){for(var n=0,i=this.gE;n<i.length;n++){if(i[n].Xl(t))return!0}return!1},i.AE=function(t){t.Qo(Td.cl,this.yE),t.Qo(Td.vl,this.mE)},i.TE=function(t){t.$o(Td.cl,this.yE),t.$o(Td.vl,this.mE)},i.Zv=function(){for(;this.gE.length>0;)this.bE(this.gE[0]);t.prototype.Zv.call(this)},i.wl=function(){return fl(this)},n}(Bd);function Hk(){return Bk||(Bk=pe&&pe.document&&pe.document.createElement("video")),Bk}var Vk=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new Ok),void 0===o&&(o=jo()),(h=t.call(this)||this).SE=void 0,h.EE=void 0,h.RE=void 0,h.bw=void 0,h.Tw=void 0,h.Sw=void 0,h.IE=void 0,h.NE=void 0,h.DE=void 0,h.CE=void 0,h.xE=void 0,h.Zb=void 0,h.po=void 0,h.PE=void 0,h.OE=void 0,h.BE=new Lk,h.LE=function(t){var n=t.hh,i=n.code,e=new Po(N_(i),"Something went wrong during native playback.",n),r=new E_(i,e.message,n.message);h.ME(e,r)},h.UE=function(){h.jo(new Jl(h.tw,h.ng))},h.FE=function(t){h.sw||(h.OE=void 0),h.jo(t)},h.HE=function(t){h.OE=void 0,h.jo(t)},h.VE=function(){h.jo(new Q_(h.eg))},h.zE=function(){h.aw>0&&h.hw>0&&h.jo(new xy)},h.XE=function(t){h.bw.Vl(new z_(t.track))},h.WE=function(t){var n=Xk(h.bw,t.track);n&&h.bw.zl(n)},h.qE=function(){h.GE(h.bw)},h.jE=function(t){h.Tw.Vl(new j_(t.track))},h.QE=function(t){var n=Xk(h.Tw,t.track);n&&h.Tw.zl(n)},h.YE=function(){h.GE(h.Tw)},h.ZE=function(t){h.jo(t),h.ME(t.errorObject,I_(t.errorObject))},h.SE=i,h.Zb=e,h.po=o,h.EE=h.SE.JE(D_.Vv),h.DE=h.EE.$E.preload,h.CE=new em(h.EE,!0),h.CE.Qo(jl,h.Go),h.PE=new Mk(e,u),h.EE.KE=h.PE,h.tR(),h.bw=new C_,h.Tw=new C_,h.nR(),h.xE=new Sy(h.EE,h.Zb),h.Sw=new Fk([h.EE.Cw]),h.Ww(),h}U(n,t);var i=n.prototype;return i.qw=function(){this.EE.qw()},i.Ww=function(){this.EE.Ww()},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(e),r={do:Cy.rT,p_:n.src,ov:n.type,iR:this.eR(n),vg:this.DE,rR:n.crossOrigin,sR:i.metadata&&i.metadata.title},this.PE.dE(n.contentProtection),t.next=5,this.EE.jh(r);case 5:this.RE=t.sent,ds(e),i.textTracks&&this.uR(i.textTracks),Dy(this.Cw);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.uR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.EE.oR()&&Y.Ar&&Vy&&!yy(i.kind,i.label)&&this.hR(i)){var e,r=null!=(e=i.kind)?e:sy.xp;this.EE.aR(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.xE.$b(i)}}},i.hR=function(t){return!t.format||"webvtt"===t.format},i.Pw=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.EE.Pw();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.cR){t.next=12;break}return t.next=10,this.EE.ih(Ko.bc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Ow=function(){this.EE.Ow()},i.Uw=function(){return void 0!==this.EE.$E.webkitShowPlaybackTargetPicker},i.Fw=function(){this.EE.$E.webkitShowPlaybackTargetPicker&&this.EE.$E.webkitShowPlaybackTargetPicker()},i.Hw=function(){this.EE.$E.webkitShowPlaybackTargetPicker&&this.EE.$E.webkitShowPlaybackTargetPicker()},i.Gw=function(){return this.EE.$E},i.jw=function(){return this.EE.fR},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IE=void 0,this.NE=void 0,this.RE=void 0,t.next=5,this.xE.Wl();case 5:return this.EE.vR(),t.next=8,this.EE.Wl();case 8:this.CE.Wl(),this.vg=this.DE,this.Nw.Wl(),this.Dw.Wl(),this.OE=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.Jo(),this.dR(),this.lR(),this.CE.Zv(),this.EE.KE=void 0,t.next=9,this.SE._R(this.EE);case 9:return this.bw.Zv(),this.Tw.Zv(),this.Sw.Zv(),t.next=14,this.xE.Zv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tR=function(){this.EE.Qo(Ko.Ac,this.Go),this.EE.Qo(Ko.kc,this.Go),this.EE.Qo(Ko.Bc,this.UE),this.EE.Qo(Ko.bc,this.Go),this.EE.Qo(Ko.wc,this.Go),this.EE.Qo(Ko.Ic,this.Go),this.EE.Qo(Ko.Rc,this.FE),this.EE.Qo(Ko.dc,this.Go),this.EE.Qo(Ko.Tc,this.Go),this.EE.Qo(Ko.Lc,this.Go),this.EE.Qo(Ko.fc,this.Go),this.EE.Qo(Ko.Ec,this.zE),this.EE.Qo(Vl.K_,this.HE),this.EE.Qo(sl.v_,this.LE),this.EE.Qo(Ko.hc,this.Go),this.EE.Qo(Ko.oc,this.ZE),this.EE.$E.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.VE)},i.dR=function(){this.EE.$o(Ko.Ac,this.Go),this.EE.$o(Ko.kc,this.Go),this.EE.$o(Ko.Bc,this.UE),this.EE.$o(Ko.bc,this.Go),this.EE.$o(Ko.wc,this.Go),this.EE.$o(Ko.Ic,this.Go),this.EE.$o(Ko.Rc,this.FE),this.EE.$o(Ko.dc,this.Go),this.EE.$o(Ko.Tc,this.Go),this.EE.$o(Ko.Lc,this.Go),this.EE.$o(Ko.fc,this.Go),this.EE.$o(Ko.Ec,this.zE),this.EE.$o(Vl.K_,this.HE),this.EE.$o(sl.v_,this.LE),this.EE.$o(Ko.hc,this.Go),this.EE.$o(Ko.oc,this.ZE),this.EE.$E.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.VE)},i.eR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ia:Tr,wR:[{initDataTypes:[Tr._o],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.nR=function(){var t=this.EE.$E.audioTracks,n=this.EE.$E.videoTracks;t&&(t.addEventListener("addtrack",this.XE),t.addEventListener("removetrack",this.WE),t.addEventListener("change",this.qE)),n&&(n.addEventListener("addtrack",this.jE),n.addEventListener("removetrack",this.QE),n.addEventListener("change",this.YE))},i.lR=function(){var t=this.EE.$E.audioTracks,n=this.EE.$E.videoTracks;t&&(t.removeEventListener("addtrack",this.XE),t.removeEventListener("removetrack",this.WE),t.removeEventListener("change",this.qE)),n&&(n.removeEventListener("addtrack",this.jE),n.removeEventListener("removetrack",this.QE),n.removeEventListener("change",this.YE))},i.GE=function(t){for(var n=0;n<t.Gl;n++){t.Hl(n).bg()}},i.Kw=function(){this.EE.Kw()},i.ME=function(t,n){this.IE||(this.IE=n,this.NE=t,this.jo(new u_(t)))},L(n,[{key:"cR",get:function(){var t=this.EE.tg,n=this.tw;return t.gR(n,.01)}},{key:"Nw",get:function(){return this.bw}},{key:"tg",get:function(){return this.EE.tg.yR()}},{key:"ng",get:function(){return this.EE.ng},set:function(t){t&&this.EE.mR(t)}},{key:"tw",get:function(){return void 0!==this.OE?this.OE:this.EE.tw},set:function(t){this.eg&&(this.OE=t),this.EE.Th(t)}},{key:"nw",get:function(){return this.EE.nw}},{key:"iw",get:function(){return this.EE.iw}},{key:"hh",get:function(){return this.IE}},{key:"ew",get:function(){return this.NE}},{key:"xw",get:function(){}},{key:"eg",get:function(){return this.EE.eg}},{key:"gw",get:function(){return nr({},{rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.EE.pR())}},{key:"rw",get:function(){return this.EE.rw},set:function(t){this.EE.rw=t}},{key:"cg",get:function(){return!0}},{key:"sw",get:function(){return this.EE.sw}},{key:"uw",get:function(){return this.EE.uw},set:function(t){this.EE.uw=t}},{key:"fg",get:function(){return this.EE.$E.played}},{key:"vg",get:function(){return this.DE},set:function(t){this.DE=t,this.RE&&(this.RE.vg=t)}},{key:"g_",get:function(){return this.EE.g_}},{key:"dg",get:function(){return this.EE.dg.yR()}},{key:"ow",get:function(){return this.EE.ow}},{key:"kR",get:function(){return this.EE.kR}},{key:"Cw",get:function(){return this.Sw}},{key:"Dw",get:function(){return this.Tw}},{key:"hw",get:function(){return this.EE.hw}},{key:"aw",get:function(){return this.EE.aw}},{key:"cw",get:function(){return this.EE.cw},set:function(t){this.EE.cw=t}},{key:"lg",get:function(){return this.EE.lg},set:function(t){this.EE.lg=t}},{key:"AR",get:function(){return this.BE}}]),n}(ll);var zk=function(){function t(){this.bR=Dk.hE}var n=t.prototype;return n.iS=function(t,n,i,e,r,s){return new Vk(t,n,i,e,r)},n.SR=function(t,n){return function(t){return!t.type||!(!Hk().canPlayType||!Hk().canPlayType(t.type))}(t)},n.ER=function(){return!1},t}();function Xk(t,n){for(var i=0,e=t.ql;i<e.length;i++){var r=e[i];if(r.Eg===n)return r}}var Wk=function(){function t(){this.RR=new zk,this.IR=[]}t.NR=function(){return this.es};var n=t.prototype;return n.DR=function(t){this.IR.push(t)},n.iS=function(t,n,i,e,r,s){for(var u=this.RR.iS(t,n,i,e,r,s),o=0,h=this.IR;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.SR=function(t,n){return this.RR.SR(t,n)},n.ER=function(){return!1},L(t,[{key:"bR",get:function(){return this.RR.bR}}]),t}();function qk(t,n){return Qr(t.bR,n.bR)}function Gk(t){jk.es.xR(t)}Wk.es=new Wk;var jk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).PR=Wk.NR(),n}U(n,t);var i=n.prototype;return i.OR=function(t){this.PR=t},i.LR=function(){return this.PR},i.MR=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=11;break}return r=n[e],t.next=5,this.UR(r,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{FR:r,HR:s});case 8:e++,t.next=1;break;case 11:u=this.PR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.SR(h,i)){t.next=17;break}return t.abrupt("return",{FR:h,HR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{FR:n[0],HR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.zR=[]}var n=t.prototype;return n.xR=function(t){this.zR.push(t),this.zR.sort(qk)},n.UR=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.zR;case 1:if(!(e<r.length)){t.next=17;break}if(s=r[e],!st(u=s.SR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:e++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());jk.es=new jk;var Qk,Yk=function(){function t(t){this.XR=void 0,this.XR=pe&&pe.document&&pe.document.createElement("div"),De(this.XR),t.appendChild(this.XR)}return t.prototype.Zv=function(){Ee(this.XR)},t}();function Zk(t){switch(t){case Qk.WR:case"":return Qk.WR;case Qk.Op:return Qk.Op;case Qk.qR:default:return Qk.qR}}!function(t){t.hE="",t.qR="none",t.Op="metadata",t.WR="auto"}(Qk||(Qk={}));var Jk=[sl.v_,Ko.vc,Ko.ah,Ko.Fc,Ko.ec,Ko.lc,Ko.mc,Ko.pc,Ko.Dc,Ko.xc,Vl.j_,Vl.Q_,Vl.Y_,Vl.Z_,Vl.Dl,Vl.J_,Vl.K_,Ko.oc,Ko.hc,Ko.fc,Ko.dc,Ko.wc,Ko.gc,Ko.Ac,Ko.bc,Ko.kc,Ko.Tc,Ko.Ec,Ko.Ic,Ko.Rc,Ko.Bc,Ko.Lc,Ko.Sc,Ko.yc,Ko.Nc],$k=function(t){function n(n,i){var e;return(e=t.call(this)||this).GR=void 0,e.jR=void 0,e.QR=void 0,e.YR=void 0,e.DE=Qk.qR,e.ZR=void 0,e.JR=!0,e.bw=new ul,e.Tw=new ul,e.Sw=new dl,e.Ew=new b_,e.GR=n,e.QR=i,e.QR.vg=e.vg,e.$R(),e}U(n,t);var i=n.prototype;return i.Ow=function(){this.QR.Ow()},i.Pw=function(){var t=this.QR.Pw();st(t)&&ks(t)},i.Bw=function(){return this.Mw(void 0)},i.Vw=function(){},i.Yw=function(t){return!1},i.$R=function(){this.bw.$l=this.QR.Nw,this.Tw.$l=this.QR.Dw,this.Sw.$l=this.QR.Cw,this.Ew.$l=this.QR.xw,this.QR.Qo(Jk,this.Go)},i.KR=function(){this.QR.$o(Jk,this.Go),this.bw.$l=void 0,this.Tw.$l=void 0,this.Sw.$l=void 0,this.Ew.$l=void 0},i.Lw=function(){return this.ZR},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(i),this.ZR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Bl(e=n.sources.filter(Hl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.GR.MR(e,n);case 9:if(r=t.sent,ds(i),s=r.FR,u=r.HR,o=this.jw(),h=a_(this),this.jR===u&&!this.hh){t.next=25;break}return this.KR(),t.next=19,this.QR.Zv();case 19:ds(i),this.jR=u,this.QR=this.tI(u),Kk(this.QR,h),c_(this,h,this),this.$R();case 25:return this.QR.vg=this.vg,this.JR?this.QR.Ww():this.QR.qw(),t.next=29,this.QR.Mw(s,n,i);case 29:ds(i),this.nI(s),this.jw()!==o&&this.jo(new wl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nI=function(t){this.YR!==t&&(this.YR=t,this.jo(new gl(t)))},i.Uw=function(){return this.QR.Uw()},i.Fw=function(){this.QR.Fw()},i.Hw=function(){this.QR.Hw()},i.jw=function(){return this.QR.jw()},i.Kw=function(){this.QR.Kw()},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ZR=void 0,this.nI(void 0),t.next=4,this.QR.Wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),t.next=3,this.Wl();case 3:return t.next=5,this.QR.Zv();case 5:this.bw.Zv(),this.Tw.Zv(),this.Sw.Zv(),this.Ew.Zv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ww=function(){this.JR=!0,this.QR.Ww()},i.qw=function(){this.JR=!1,this.QR.qw()},L(n,[{key:"Nw",get:function(){return this.bw}},{key:"tg",get:function(){return this.QR.tg}},{key:"hh",get:function(){return this.QR.hh}},{key:"ew",get:function(){return this.QR.ew}},{key:"ng",get:function(){return this.QR.ng},set:function(t){this.QR.ng=t}},{key:"$w",get:function(){return this.YR}},{key:"tw",get:function(){return this.QR.tw},set:function(t){this.QR.tw=t}},{key:"nw",get:function(){return this.QR.nw}},{key:"iw",get:function(){return this.QR.iw}},{key:"xw",get:function(){return this.Ew}},{key:"eg",get:function(){return this.QR.eg}},{key:"gw",get:function(){return this.QR.gw}},{key:"rw",get:function(){return this.QR.rw},set:function(t){this.QR.rw=t}},{key:"cg",get:function(){return this.QR.cg}},{key:"sw",get:function(){return this.QR.sw}},{key:"uw",get:function(){return this.QR.uw},set:function(t){this.QR.uw=t}},{key:"fg",get:function(){return this.QR.fg}},{key:"vg",get:function(){return this.DE},set:function(t){this.DE=t,this.QR&&(this.QR.vg=this.DE)}},{key:"g_",get:function(){return this.QR.g_}},{key:"dg",get:function(){return this.QR.dg}},{key:"ow",get:function(){return this.QR.ow}},{key:"Cw",get:function(){return this.Sw}},{key:"hw",get:function(){return this.QR.hw}},{key:"Dw",get:function(){return this.Tw}},{key:"aw",get:function(){return this.QR.aw}},{key:"cw",get:function(){return this.QR.cw},set:function(t){this.QR.cw=t}},{key:"AR",get:function(){return this.QR.AR}}]),n}(Is);function Kk(t,n){t.rw!==n.rw&&(t.rw=n.rw),t.cw!==n.cw&&(t.cw=n.cw),t.uw!==n.uw&&(t.uw=n.uw)}var tA,nA=function(t){function n(n,i){var e;return(e=t.call(this)||this).Gl=void 0,e.iI=void 0,e.eI=void 0,e.Gl=n.length>>1,e.iI=n,e.eI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Gl),e}U(n,t);var i=n.prototype;return i.rI=function(t){return this.iI[2*t]},i.sI=function(t){return this.eI[2*t]},i.uI=function(t){return this.iI[2*t+1]},i.oI=function(t){return this.eI[2*t+1]},L(n,[{key:"hI",get:function(){return this.iI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ty=function(t,n){return 0===this.gy(t,n)},n.qy=function(t,n){return this.gy(t,n)>0},n.Gy=function(t,n){return this.gy(t,n)>=0},n.Ay=function(t,n){return this.gy(t,n)<0},n.py=function(t,n){return this.gy(t,n)<=0},n.vm=function(t,n){return this.Ay(t,n)?t:n},n.fm=function(t,n){return this.qy(t,n)?t:n},n.aI=function(t,n,i){return i?this.py(t,n):this.Ay(t,n)},n.yR=function(){var t=this;return{get length(){return t.Gl},start:function(n){var i=0|n;return t.cI(i),t.fI(t.rI(i))},end:function(n){var i=0|n;return t.cI(i),t.fI(t.uI(i))}}},n.vI=function(){for(var t=new Array(2*this.Gl),n=new Array(2*this.Gl),i=0;i<this.Gl;i++)t[2*i]=this.rI(i),t[2*i+1]=this.uI(i),n[2*i]=!0,n[2*i+1]=!0;return this.dI(t,n)},n.cI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Gl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Gl+")")},n.lI=function(t){if(0===this.Gl)return this._I();if(this.gR(t))return t;if(this.py(t,this.rI(0)))return this.rI(0);if(this.Gy(t,this.uI(this.Gl-1)))return this.uI(this.Gl-1);for(var n,i=this.wI(),e=0;e<this.Gl;e++){var r=this.rI(e),s=this.ky(r,t);this.Ay(s,i)&&(n=r,i=s);var u=this.uI(e),o=this.ky(this.uI(e),t);this.Ay(o,i)&&(n=u,i=o)}return n},n.gI=function(t){for(var n=0,i=0,e=[],r=[];n<this.Gl&&i<t.Gl;){var s=this.rI(n),u=this.uI(n),o=this.sI(n),h=this.oI(n),a=t.rI(i),c=t.uI(i),f=t.sI(i),v=t.oI(i),d=this.fm(s,a),l=this.vm(u,c),_=void 0;_=this.ty(s,a)?o&&f:this.ty(d,s)?o:f;var w=void 0;w=this.ty(u,c)?h&&v:this.ty(l,u)?h:v,(this.Ay(d,l)||_&&w&&this.ty(d,l))&&(e.push(d,l),r.push(_,w));var g=this.gy(this.uI(n),t.uI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.dI(e,r)},n.yI=function(){var t=this.mI(),n=t.Gl;if(0===n)return this.dI([t.pI(),t.wI()],[!1,!1]);var i=[],e=[],r=t.rI(0);t.ty(r,t.pI())||(i.push(t.pI(),r),e.push(!1,!t.sI(0)));for(var s=0;s<n-1;s++)i.push(t.uI(s),t.rI(s+1)),e.push(!t.oI(s),!t.sI(s+1));var u=t.uI(n-1);return t.ty(u,t.wI())||(i.push(u,t.wI()),e.push(!t.oI(n-1),!1)),t.dI(i,e)},n.kI=function(t){for(var n=0,i=0,e=this.Gl,r=t.Gl,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.rI(n),a=this.uI(n),c=t.rI(i),f=t.uI(i);this.Ay(h,c)||this.ty(h,c)&&this.Ay(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.sI(n),u[o+1]=this.oI(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.sI(i),u[o+1]=t.oI(i),i++),o+=2}for(;n<e;)s[o]=this.rI(n),s[o+1]=this.uI(n),u[o]=this.sI(n),u[o+1]=this.oI(n),n++,o+=2;for(;i<r;)s[o]=t.rI(i),s[o+1]=t.uI(i),u[o]=t.sI(i),u[o+1]=t.oI(i),i++,o+=2;return this.dI(s,u)},n.AI=function(t){void 0===t&&(t=this._I());var n=this.Gl;if(n<2)return this;for(var i=[],e=[],r=this.rI(0),s=this.uI(0),u=this.sI(0),o=this.oI(0),h=1;h<n;h++){var a=this.rI(h),c=this.uI(h),f=this.sI(h),v=this.oI(h);this.Ay(r,a)&&this.qy(s,c)||(this.ty(r,a)&&(u=f=u||f),this.ty(s,c)&&(o=v=o||v),this.aI(a,this.wg(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.dI(i,e).mI()},n.mI=function(){for(var t=[],n=[],i=0;i<this.Gl;i++){var e=this.rI(i),r=this.uI(i),s=this.sI(i),u=this.oI(i);this.ty(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.dI(t,n)},n.bI=function(t){return this.Gl?t.Gl?this.kI(t).AI():this:t},n.TI=function(t){var n=this.mI(),i=t.mI(),e=n.yI(),r=i.yI(),s=e.gI(i),u=r.gI(n);return s.bI(u)},n.bh=function(t){if(this.ty(t,this._I()))return this;for(var n=[],i=[],e=0;e<this.Gl;e++){var r=this.wg(this.rI(e),t),s=this.wg(this.uI(e),t);n.push(r,s),i.push(this.sI(e),this.oI(e))}return this.dI(n,i)},n.SI=function(t){return 0===this.Gl||0===t.Gl?this:this.mI().gI(t.mI().yI())},n.gR=function(t,n){return this.EI(t,n)>=0},n.RI=function(t,n,i,e,r){return this.II(t,n,i,e,r)>=0},n.NI=function(t,n,i,e,r){return this.DI(t,n,i,e,r)>=0},n.CI=function(t){if(t.Gl!==this.Gl)return!1;for(var n=0;n<this.Gl;n++)if(!this.ty(this.rI(n),t.rI(n))||!this.ty(this.uI(n),t.uI(n))||this.sI(n)!==t.sI(n)||this.oI(n)!==t.oI(n))return!1;return!0},n.xI=function(t){for(var n=[],i=[],e=0;e<this.Gl;e++){var r=this.rI(e),s=this.uI(e),u=this.sI(e),o=this.oI(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.dI(n,i)},n.DI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this._I());for(var s=this.Ey(t,r),u=this.wg(n,r),o=0;o<this.Gl;o+=1)if(this.aI(this.rI(o),u,!e||this.sI(o))&&this.aI(s,this.uI(o),!i||this.oI(o)))return o;return-1},n.II=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this._I());for(var s=this.wg(t,r),u=this.Ey(n,r),o=0;o<this.Gl;o+=1)if(this.aI(this.rI(o),s,!i||this.sI(o))&&this.aI(u,this.uI(o),!e||this.oI(o)))return o;return-1},n.EI=function(t,n){return this.II(t,t,!0,!0,n)},n.OI=function(t,n){void 0===n&&(n=this._I());for(var i=this.wg(t,n),e=this.Gl-1;e>=0;e-=1)if(this.aI(this.rI(e),i,this.sI(e)))return e;return-1},n.BI=function(t,n){void 0===n&&(n=this._I());for(var i=this.Ey(t,n),e=0;e<this.Gl;e+=1)if(this.aI(i,this.uI(e),this.oI(e)))return e;return-1},n.LI=function(t){return this.cI(t),this.dI([this.rI(t),this.uI(t)],[this.sI(t),this.oI(t)])},n.MI=function(t,n){var i=this.EI(t,n);return i<0?void 0:this.LI(i)},L(t,[{key:"UI",get:function(){for(var t=this._I(),n=0;n<this.Gl;n++){var i=this.Ey(this.uI(n),this.rI(n));t=this.wg(t,i)}return t}}]),t}()),iA=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.gy=function(t,n){return t<n?zr.Ro:t===n?zr.So:zr.Eo},i.wg=function(t,n){return t+n},i.Ey=function(t,n){return t-n},i.ky=function(t,n){return l.abs(t-n)},i._I=function(){return 0},i.wI=function(){return 1/0},i.pI=function(){return-1/0},n.FI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.HI=function(t){for(var i=[],e=[],r=0;r<t.Gl;r++)i.push(t.rI(r)._m),i.push(t.uI(r)._m),e.push(t.sI(r)),e.push(t.oI(r));return new n(i,e)},n.VI=function(t){return new n([t,t],[!0,!0])},i.dI=function(t,i){return new n(t,i)},i.fI=function(t){return t},n.zI=function(){return eA},n}(nA),eA=new iA([]);!function(t){t.Il="fullscreenchange",t.XI="fullscreensupportchange",t.v_="fullscreenerror"}(tA||(tA={}));var rA=function(t){function n(){return t.call(this,tA.v_)||this}return U(n,t),n}(Ds),sA=new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Cg=function(){this.jo(new rA)},i.Pg=function(){},i.Zv=function(){this.Jo()},L(n,[{key:"WI",get:function(){return!1}},{key:"qI",get:function(){return!1}}]),n}(Is)),uA=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SE=void 0,n.EE=void 0,n}U(n,t);var i=n.prototype;return i.Gw=function(){var t;return null==(t=this.EE)?void 0:t.$E},i.Zv=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Zv.call(this);case 2:if(!this.EE){n.next=6;break}return n.next=5,this.SE._R(this.EE);case 5:this.EE=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"GI",set:function(t){this.SE=t,this.EE=t.JE(D_.Vv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jI=0,n.QI=!1,n.YI=!0,n.ZI=1,n.JI=!1,n.$I=1,n.Nw=new C_,n.tg=iA.zI().yR(),n.nw=NaN,n.iw=!1,n.hh=void 0,n.ew=void 0,n.xw=void 0,n.eg=!1,n.cg=!0,n.fg=iA.zI().yR(),n.vg=Qk.qR,n.g_=Tl.z_,n.dg=iA.zI().yR(),n.kR=void 0,n.Cw=new uy,n.hw=0,n.Dw=new C_,n.aw=0,n.BE=new Lk,n}U(n,t);var i=n.prototype;return i.Ww=function(){},i.qw=function(){},i.Pw=function(){this.YI&&(this.YI=!1,this.jo(new Wl(this.tw)),this.jo(new nm(this.tw)))},i.Ow=function(){this.YI||(this.YI=!0,this.jo(new Jl(this.tw,this.ng)),this.jo(new Xl(this.tw)))},i.Mw=function(t,n){return T.resolve()},i.Uw=function(){return!1},i.Fw=function(){},i.Hw=function(){},i.jw=function(){return sA},i.Kw=function(){},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jI=0,this.JI=!1,this.Ow(),this.jo(new zl(this.jI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Jo(),this.Nw.Zv(),this.Cw.Zv(),this.Dw.Zv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"ng",get:function(){},set:function(t){}},{key:"tw",get:function(){return this.jI},set:function(t){this.jI!==t&&(this.jI=t,this.JI=!0,this.jo(new t_(this.tw)))}},{key:"gw",get:function(){return{rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"rw",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.jo(new i_(this.tw,this.cw)))}},{key:"sw",get:function(){return this.YI}},{key:"uw",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.jo(new Zl(this.tw,this.uw)))}},{key:"ow",get:function(){return this.JI}},{key:"cw",get:function(){return this.$I},set:function(t){this.$I!==t&&(this.$I=t,this.jo(new i_(this.tw,this.cw)))}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"AR",get:function(){return this.BE}}]),n}(Is)),oA=function(t){function n(n,i,e,r,s,u){var o,h=new uA;return(o=t.call(this,jk.es,h)||this).Na=void 0,o.KI=void 0,o.tN=void 0,o.nN=void 0,o.Zb=void 0,o.iN=void 0,o.eN=void 0,o.tN=n,o.Na=i,o.Zb=e,o.iN=r,o.nN=u,o.KI=new ge(s,o.nN),o.KI.rN(o.tN),h.GI=o.KI,o.eN=new Yk(o.tN),o}U(n,t);var i=n.prototype;return i.Vw=function(){t.prototype.Vw.call(this),this.KI.sN()},i.zw=function(t){var n,i,e,r;n=this,e=(i=t).cw,r=i.rw,n.cw=e,n.rw=r},i.Xw=function(){},i.tI=function(t){return t.iS(this.tN,this.KI,this.Zb,this.Na,this.iN,this.nN)},i.Gw=function(){return this.QR.Gw()},i.Qw=function(){return this.KI.uN.map(function(t){return t.$E})},i.Zo=function(n){t.prototype.Zo.call(this,n)},i.nh=function(n){t.prototype.nh.call(this,n)},i.Zv=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Zv.call(this);case 2:this.KI.Zv(),this.eN.Zv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"ig",get:function(){return this.tN}},{key:"lg",get:function(){return this.QR.lg},set:function(t){this.QR.lg=t}}]),n}($k),hA=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).tN=void 0,r.oN=void 0,r.hN=void 0,r.aN=void 0,r.cN=void 0,r.tN=n,r.oN=i,r.aN=new C_,r.cN=new uy,r.hN=e,r}U(n,t);var i=n.prototype;return i.Yw=function(t){return!0},i.qw=function(){},i.Pw=function(){throw this.jo(new u_(this.hN)),this.oN},i.Ow=function(){},i.Lw=function(){},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw ds(i),this.jo(new u_(this.hN)),this.oN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ww=function(){},i.Bw=function(){return T.resolve()},i.Gw=function(){},i.jw=function(){return sA},i.Qw=function(){return[]},i.Vw=function(){},i.zw=function(t){},i.Xw=function(){},i.Uw=function(){return!1},i.Fw=function(){},i.Hw=function(){},i.Kw=function(){},i.Wl=function(){return T.resolve()},i.Zv=function(){return this.Jo(),this.aN.Zv(),this.cN.Zv(),T.resolve()},L(n,[{key:"Nw",get:function(){return this.aN}},{key:"tg",get:function(){return iA.zI().yR()}},{key:"ng",get:function(){return new Date(NaN)},set:function(t){}},{key:"$w",get:function(){}},{key:"tw",get:function(){return 0},set:function(t){}},{key:"nw",get:function(){return 0}},{key:"ig",get:function(){return this.tN}},{key:"iw",get:function(){return!0}},{key:"hh",get:function(){return this.oN}},{key:"ew",get:function(){return this.hN}},{key:"xw",get:function(){}},{key:"gw",get:function(){return{rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"rw",get:function(){return!1},set:function(t){}},{key:"cg",get:function(){return!0}},{key:"sw",get:function(){return!0}},{key:"uw",get:function(){return 0},set:function(t){}},{key:"fg",get:function(){return iA.zI().yR()}},{key:"vg",get:function(){return Qk.qR},set:function(t){}},{key:"g_",get:function(){return Tl.z_}},{key:"dg",get:function(){return iA.zI().yR()}},{key:"ow",get:function(){return!1}},{key:"Cw",get:function(){return this.cN}},{key:"hw",get:function(){return 0}},{key:"Dw",get:function(){return this.aN}},{key:"aw",get:function(){return 0}},{key:"cw",get:function(){return 1},set:function(t){}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"eg",get:function(){return!1}}]),n}(_l);function aA(t){if(t&&nt(t))return nr({},t,{integration:cA(t.integration),fairplay:gA(t.fairplay),widevine:fA(t.widevine),playready:vA(t.playready),clearkey:yA(t.clearkey),aes128:mA(t.aes128),integrationParameters:pA(t.integrationParameters),preferredKeySystems:kA(t.preferredKeySystems)})}function cA(t){if(et(t))return t}function fA(t){if(t&&nt(t))return{persistentState:dA(t.persistentState),distinctiveIdentifier:dA(t.distinctiveIdentifier),audioRobustness:lA(t.audioRobustness),videoRobustness:lA(t.videoRobustness),licenseAcquisitionURL:et(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:_A(t.licenseType),headers:t.headers,useCredentials:!!rt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:et(t.certificate)||Gu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:wA(t.certificateRequestProcessor),certificateResponseProcessor:wA(t.certificateResponseProcessor),licenseRequestProcessor:wA(t.licenseRequestProcessor),licenseResponseProcessor:wA(t.licenseResponseProcessor)}}function vA(t){if(t){var n=fA(t);if(n)return nr({},n,{customData:et(t.customData)?t.customData:void 0})}}function dA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function lA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function _A(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wA(t){if("function"==typeof t)return t}function gA(t){if(t){var n=fA(t);if(n)return nr({},n,{certificateURL:et(t.certificateURL)?t.certificateURL:void 0})}}function yA(t){if(t){var n=fA(t);if(n)return nr({},n,{keys:K(t.keys)?t.keys.map(function(t){return function(t){if(!t||!nt(t))return;var n=t.id,i=t.value;if(!et(n)||!et(i))return;return{id:n,value:i}}(t)}).filter($):void 0})}}function mA(t){if(nt(t))return{useCredentials:rt(t.useCredentials)?t.useCredentials:void 0}}function pA(t){if(nt(t))return t}function kA(t){return t&&K(t)?t.map(function(t){return Jm(t)}).filter($):[yr,wr,pr]}var AA,bA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return U(n,t),n}(Ds),TA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).fN=[],e.vN=void 0,e.dN=function(t){ps(function(){e.Go(t)})},e.vN=i?e.dN:e.Go,e}U(n,t);var i=n.prototype;return i.lN=function(t){t.Zo(this.vN),this.fN.push(t)},i._N=function(t){t.nh(this.vN),ts(this.fN,t)},i.Zv=function(){this.Jo();for(var t=0,n=this.fN;t<n.length;t++){n[t].nh(this.vN)}es(this.fN)},n}(ll),SA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(TA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(AA||(AA={}));var EA,RA=function(t){function i(n){var i;return(i=t.call(this)||this).wN=void 0,i.gN=void 0,i.yN=!1,i.mN=!1,i.pN=void 0,i.kN=void 0,i.AN=void 0,i.ll=void 0,i.bN=function(){return i.TN()},i.SN=function(){return i.EN()},i.AN=n,i.wN=i.gN=i.pN=i.kN=AA.INLINE,i.AN.Qo(tA.Il,i.bN),i.AN.Qo(tA.v_,i.SN),i.RN(),i}U(i,t);var e=i.prototype;return e.wl=function(){return t=this,i={get currentMode(){return t.IN()},requestMode:function(n){var i=NA(n);i&&t.NN(i)},supportsMode:function(n){var i=NA(n);return!!i&&t.DN(i)},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)}},(n=new TA(i,!0)).lN(t),i;var t,n,i},e.NN=function(t){this.CN(t,t)},e.CN=function(t,n){this.gN!==n&&(this.yN=!0,this.wN=t,this.xN(n,this.gN),t!==AA.FULLSCREEN&&(this.pN=t),this.yN=!1,this.RN())},e.IN=function(){return this.mN?AA.FULLSCREEN:AA.INLINE},e.DN=function(t){switch(t){case AA.FULLSCREEN:return this.AN.qI;case AA.INLINE:return!0}return!1},e.RN=function(){if(!this.yN){var t=this.gN,n=this.IN();this.gN=n,n!==AA.FULLSCREEN&&(this.kN=n),t!==n&&this.jo(new bA(n))}},e.xN=function(t,n){var i=t===AA.FULLSCREEN;this.mN=i,i!==this.AN.WI&&(i?this.AN.Cg():this.AN.Pg())},e.TN=function(){if(!this.yN){var t=this.AN.WI;this.mN=t,t?this.CN(AA.FULLSCREEN,AA.FULLSCREEN):t||this.wN!==AA.FULLSCREEN?this.RN():this.CN(this.pN,this.kN)}},e.EN=function(){this.TN(),this.jo(new u_(new Po(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Zv=function(){this.AN.Zv(),this.Jo()},L(i,[{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}}]),i}(ll),IA={tw:0,nw:NaN,iw:!1,hh:void 0,ew:void 0,rw:!1,sw:!0,uw:1,g_:Tl.z_,ow:!1,hw:0,aw:0,cw:1};function NA(t){switch(t){case AA.INLINE:case AA.FULLSCREEN:case AA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(EA||(EA={}));var DA,CA,xA,PA,OA,BA,LA,MA,UA=function(){function t(){this.PN=[]}var n=t.prototype;return n.ON=function(t){var n=this.BN.filter(function(n){return n.LN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.MN=function(t){this.PN.push(t)},L(t,[{key:"BN",get:function(){return this.PN}}]),t}();UA.es=new UA,function(t){t.K_="PLAYING",t.mw="PAUSED",t.UN="SEEK",t.FN="STALLED",t.HN="FAILED",t.VN="INITIAL_BUFFERING",t.zN="NO_ACCESS"}(DA||(DA={})),function(t){t.XN="HTTP_REQUEST_STATUS_CODE_1XX",t.WN="HTTP_REQUEST_STATUS_CODE_2XX",t.qN="HTTP_REQUEST_STATUS_CODE_3XX",t.GN="HTTP_REQUEST_STATUS_CODE_4XX",t.jN="HTTP_REQUEST_STATUS_CODE_5XX",t.QN="BUFFER_LENGTH",t.YN="BYTES_RECEIVED",t.ZN="SEGMENT_READ_BITRATE",t.JN="SEGMENT_PROFILE_BITRATE",t.$N="NUMBER_OF_FRAMES_DROPPED",t.KN="PLAYBACK_POSITION",t.tD="NUMBER_OF_FRAMES_DECODED",t.nD="PLAYBACK_DELTA_TO_ORIGIN",t.iD="STREAM_DELTA_TO_ORIGIN",t.eD="ORIGIN_TIMESTAMP"}(CA||(CA={})),function(t){t.rD="MANIFEST_URI",t.sD="ASSET_DURATION",t.uD="NUMBER_OF_CONTENT_PROFILES",t.oD="CDN",t.hD="CONTENT_TITLE",t.aD="SERVICE_NAME",t.cD="CONTENT_TYPE",t.fD="CONTENT_DESCRIPTION"}(xA||(xA={})),function(t){t.vD="shutdown_normal_shutdown"}(PA||(PA={})),function(t){t.dD="session/",t.lD="internalError/",t._D="drmError/",t.wD="caError/",t.gD="networkError/"}(OA||(OA={})),function(t){t.yD="userAction",t.mD="endOfStreamReached"}(BA||(BA={})),function(t){t.PAUSE="pD",t.RESUME="kD"}(LA||(LA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(MA||(MA={}));var FA,HA,VA,zA,XA,WA="agama";function qA(t){return function(t){switch(t){case FA.NONE:case FA.HORIZONTAL:case FA.VERTICAL:return!0;default:return!1}}(t)?t:FA.NONE}function GA(t){switch(t){case"":return FA.NONE;case"horizontal":return FA.HORIZONTAL;case"vertical":return FA.VERTICAL;default:throw new v}}function jA(t){if(!t||!et(t))return HA.WR;switch(t){case"always":return HA.bD;case"never":return HA.TD;default:return HA.WR}}function QA(t){if(!t||!et(t))return VA.WR;switch(t){case"playlist":return VA.SD;case"media":return VA.ED;default:return VA.WR}}function YA(t,n){return t.length>0?t:n.length>0?n:void 0}function ZA(t){if(null!==t)return t}function JA(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:ZA(t.streamActivityMonitorID),adTagParameters:nt(t.adTagParameters)?t.adTagParameters:{},authToken:ZA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?nr({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void b.Nu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.Nu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?nr({},i,{availabilityType:"live",assetKey:s}):void b.Nu("A Live DAI configuration was provided without valid assetKey which is required.")}b.Nu("A DAI configuration was provided without a valid availabilityType which is required.")}function $A(t){if(!Xm(t)||!t.integration)return t;switch(t.integration){case cm:return n=t,i=Zm(fr.ao,n),e=Zm(fr.ho,n),r=n[fr.co]&&Zm(fr.co,n),nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}function KA(t){if(!t)return!0;var n,i,e=!(Ol(n=t.sources)||tt(n)&&Ol(n[0]))||Bl(t.sources),r=!t.ads||(!(i=t.ads)||K(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function tb(t){if(t&&t.sources)return function t(n){if(et(n))return n;if(Pl(n))return n.src;if(tt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function nb(t,n,i){return Cl(t)?function(t,n,i){var e=nr({},Ll(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:zA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:XA.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,et(r)?r:tt(r)&&et(r[0])?r:nt(s=r)&&et(s.userId)&&(tt(s.externalId)||et(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return XA.CHANNEL;case"event":return XA.EVENT;case"asset":default:return XA.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Gd(t.contentProtected));t.assetInfo?e.assetInfo=Gd(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!rt(o.adImpressions)&&o.adImpressions,a=!!rt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=rt(o.linearAdData)?o.linearAdData:u!==XA.ASSET):u!==XA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=eb(e=rb(e=ib(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=Ml(),r=n&&(n.contentProtection||n.drm);if(et(t)){if(e.src=t,e.type=Rl(t),r){var s=aA(r);e.contentProtection=$A(s)}}else if(Pl(t)||Dl(t)){e.src=t.src,e.type=t.type||Rl(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===kl.H_||t.type===kl.V_}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=t.contentProtection||t.drm||r,h=aA(o);e.contentProtection=$A(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return JA(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=ib(e,t)}return e=eb(e=rb(e,n,i),t,i)}(t,n,i)}function ib(t,n){var i;n.useCredentials?t.crossOrigin=pl.F_:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case pl.U_:case pl.F_:return t;default:return pl.M_}}(n.crossOrigin)),et(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Gd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Gd(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:jA(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:QA(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?Gd(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Gd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function eb(t,n,i){return t.abr=function(t,n){var i=Zd(null==t?void 0:t.preferredAudioCodecs,Yd),e=Zd(null==t?void 0:t.preferredVideoCodecs,Yd),r=Zd(null==n?void 0:n.preferredAudioCodecs,Yd),s=Zd(null==n?void 0:n.preferredVideoCodecs,Yd),u=YA(i,r),o=YA(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(et(n)?void 0:n.abr,null==i?void 0:i.abr),t}function rb(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!$(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!$(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===pl.M_&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=pl.U_),t.useCredentials=t.crossOrigin===pl.F_,et(r)&&!t.timeServer&&(t.timeServer=r),t}function sb(t){var n={src:""};if(t&&t.src){if(n.src=Yd(t.src),"default"in t&&(n.default=Gd(t.default)),n.kind=ay(t.kind),function(t){switch(t){case q_.DEFAULT:case q_.SRT:case q_.TTML:case q_.WEBVTT:case q_.EMSG:case q_.EVENT_STREAM:case q_.ID3:case q_.CEA608:case q_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function ub(t,n){if(it(t))try{return n.ON(t).RD(t)}catch(t){return}}function ob(t){return et(t.sources)&&""!==t.sources||nt(t.sources)&&et(t.sources.src)}function hb(t){return t.integration===EA.SPOTX&&!g(t.id)}function ab(t){return"freewheel"===t.integration}function cb(t,n,i){if(void 0===i&&(i=UA.es),KA(t))return{sources:[Ml()]};var e=zd(t);if(e.sources=function(t,n,i){if(Ol(t))return[nb(t,n,i)];if(tt(t)&&Ol(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(nb(s,n,i))}return e}return[Ml()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!tt(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=ub(s,n))&&(ob(s)||hb(s)||ab(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!Bl(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!tt(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=sb(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Yd(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=qA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?GA(u.stereoMode):FA.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Fl(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=zd(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==WA&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=o_(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(FA||(FA={})),function(t){t.WR="auto",t.bD="always",t.TD="never"}(HA||(HA={})),function(t){t.WR="auto",t.SD="playlist",t.ED="media"}(VA||(VA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(zA||(zA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(XA||(XA={}));var fb=function(){function t(t){this.ND=t}return t.prototype.DD=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.ND.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.ND.indexOf(t.charAt(n))<<18|this.ND.indexOf(t.charAt(n+1))<<12|(s=this.ND.indexOf(t.charAt(n+2)))<<6|(u=this.ND.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.CD=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.ND.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.ND.charAt(e)+this.ND.charAt(r)+this.ND.charAt(s)+this.ND.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Wm=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.xD=new t(t.Wm.DD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function vb(t){return"string"==typeof t}function db(t){return"number"==typeof t}var lb={}.toString;var _b,wb=Array.isArray||function(t){return"[object Array]"===lb.call(t)};function gb(t,n){return wb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(_b||(_b={}));var yb,mb=d.keys(_b).map(function(t){return _b[t]});function pb(t){return-1!==mb.indexOf(t)}function kb(t){try{var n=fb.xD.DD(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=vb(t.key),e=vb(t.customer_id),r=db(t.generation_date),s=db(t.expiration_date),u=gb(t.domains_page,vb),o=gb(t.domains_source,vb),h=gb(t.sdks,pb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function Ab(){return yb||(yb={Ev:ke.href,PD:pe.parent&&pe.parent!==e,OD:Sb()}),yb}var bb,Tb=["http:","https:","ftp:","ws:","wss:"];function Sb(){try{return pe.top.location.href}catch(t){return pe&&pe.document&&pe.document.referrer}}!function(t){t[t.BD=0]="BD",t[t.LD=1]="LD",t[t.MD=2]="MD"}(bb||(bb={}));var Eb,Rb=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.UD=t,this.FD=n,this.HD=i,this.VD=e,this.zD=r,this.XD=s,this.WD=u,this.qD=o};!function(t){t.LD="expired",t.GD="invaliddomain",t.jD="invalidsource",t.v_="error"}(Eb||(Eb={}));var Ib=function(){function t(t,n,i){this.QD=void 0,this.YD=t,this.ZD=n,this.JD=i,this.QD=Ob(this.JD)}var n=t.prototype;return n.$D=function(t,n){var i=this;if(!KA(t)&&0!==n.HD.length&&!Cb(n.HD)){var e=[];if(Ol(t.sources)?e=[t.sources]:tt(t.sources)&&(e=t.sources),!e.every(function(t){return i.KD(t,n)})){var r=Eb.jD,s=Lb.tC(r);throw new Po(Nb(r),s)}}},n.nC=function(n){return this.iC(n.WD)&&this.eC(n)?t.rC(n.VD)?bb.BD:bb.LD:bb.MD},n.iC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.sC(t)})},n.sC=function(t){return"ios"===function(t){switch(t){case _b.ANDROID:return O.ve;case _b.ANDROIDTV:case _b.FIRETV:return O.de;case _b.IOS:return O._e;case _b.TVOS:return O.we;case _b.CHROMECAST:case _b.CHROMECASTCAF:return O.ye;default:return O.fe}}(t)},t.rC=function(t){var n=Number(new Date);return!!t&&n<=t},n.eC=function(t){return!(this.QD&&0!==t.FD.length&&!Cb(t.FD))||!!(this.QD&&this.uC(t.FD)&&this.oC(t.FD))},n.uC=function(t){return xb(this.JD.Ev,t)},n.oC=function(t){if(!this.JD.PD)return!0;if(this.YD)return!0;var n=this.hC();return!!n&&xb(n,t)},n.hC=function(){if(this.JD.PD){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.JD.OD?this.JD.OD:void 0}},n.KD=function(n,i){return!!t.aC(n,i.HD)},t.aC=function(t,n){return xb(this.cC(t),n)},t.cC=function(t){return et(t)?t:Pl(t)&&t.src||""},t}();function Nb(t){switch(t){case Eb.GD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Eb.jD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Eb.LD:return n.ErrorCode.LICENSE_EXPIRED;case Eb.v_:return n.ErrorCode.LICENSE_ERROR}}function Db(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function Cb(t){return t.some(function(t){return"*"===t})}function xb(t,n){var i=b.zu(t);if(!Pb(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(Db(i.hostname,r))return!0;if(Db(Xf(t),r))return!0}return!1}function Pb(t){return-1!==Tb.indexOf(t.protocol)}function Ob(t){var n=b.zu(t.Ev);return Pb(n)&&!Db(n.hostname,"localhost")&&!function(t){return Db(t.hostname,"theoplayer.doubleclick.net")}(n)}var Bb,Lb=function(){function t(){}return t.tC=function(t){return t===Eb.GD?this.fC:t===Eb.jD?this.vC:t===Eb.LD?this.dC:this.lC},t}();function Mb(t){var n=[t.QA,t._C,t.wC];switch(t._C){case Bb.gC:n.push(t.p_);break;case Bb.yC:n.push(t.tw),n.push(t.hh);break;case Bb.mC:n.push(t.hh)}return n}Lb.lC="The license for this player is invalid.",Lb.dC="The usage license for this video player has expired.",Lb.fC="The current domain is incompatible with the license for this player.",Lb.vC="The provided video source is incompatible with the license for this player.",function(t){t[t.gC=1]="gC",t[t.yC=4]="yC",t[t.mC=5]="mC"}(Bb||(Bb={}));for(var Ub=new Array(256),Fb=0;Fb<256;Fb+=1)Ub[Fb]=(Fb<16?"0":"")+Fb.toString(16);function Hb(){var t=Jt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,e=(4294967296*l.random()|0)+t&1130486254,r=(4294967296*l.random()|0)+t&1284287105;return Ub[255&n]+Ub[n>>>8&255]+Ub[n>>>16&255]+Ub[n>>>24&255]+"-"+Ub[255&i]+Ub[i>>>8&255]+"-"+Ub[i>>>16&15|64]+Ub[i>>>24&255]+"-"+Ub[63&e|128]+Ub[e>>>8&255]+"-"+Ub[e>>>16&255]+Ub[e>>>24&255]+Ub[255&r]+Ub[r>>>8&255]+Ub[r>>>16&255]+Ub[r>>>24&255]}var Vb=function(){function t(t){this.ND=void 0,this.ND=t}var n=t.prototype;return n.DD=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.ND.indexOf(t.charAt(n))<<18|this.ND.indexOf(t.charAt(n+1))<<12|(s=this.ND.indexOf(t.charAt(n+2)))<<6|(u=this.ND.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.CD=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.ND.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.ND.charAt(i)+this.ND.charAt(e)+this.ND.charAt(r)+this.ND.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function zb(){return b.bu()}Vb.Wm=new Vb(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),Vb.xD=new Vb(Vb.Wm.DD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Xb,Wb="theoplayer-session-id";function qb(){if(!Xb){var t=Yo.gh(Wb);t?Xb=t:(Xb=Hb(),Yo.nc(Wb,Xb))}return Xb}var Gb=/[^\x00-\x7E]/g;function jb(t){return"\\u"+Or(t.charCodeAt(0).toString(16),4,"0")}var Qb=0,Yb=1,Zb=6e4;function Jb(t){var n,i,e,r,s,u=(n=function(t){return[t.pC,t.ta,t.UD,t.ck,t.kC,t.AC,t.bC.map(Mb)]}(t),i=[],e=n,r=function(t,n){if(nt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(Gb,jb));return Vb.xD.CD(u)}var $b=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=Vb.Wm),void 0===r&&(r=Qb),void 0===s&&(s=Yb),this.TC=[],this.SC=null,this.EC=0,this.RC="unknown",this.IC=0,this.NC=function(){zb()-u.EC>Zb&&u.ce()},this.DC=function(){u.ce(!0)},this.pS=t,this.Zb=n,this.xC=i,this.OC=e,this.BC=r,this.LC=s,me.MC(this.DC),a(this.NC,Zb)}var n=t.prototype;return n.UC=function(){return Boolean(this.kC)},n.FC=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xC.HC();case 2:if(t.sent.qD){t.next=5;break}return t.abrupt("return");case 5:return i={_C:Bb.gC,wC:Jt(),p_:n},t.next=8,this.VC(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zC=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={_C:Bb.yC,wC:Jt(),tw:i,hh:n},t.next=3,this.VC(e);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XC=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={_C:Bb.mC,wC:Jt(),hh:n},t.next=3,this.VC(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VC=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xC.HC();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.OC.CD(i.UD)){t.next=6;break}if(n._C===Bb.mC){t.next=6;break}return t.abrupt("return");case 6:if(n._C===Bb.gC?this.WC():this.UC()||this.WC(),n.QA=this.IC++,this.TC.push(n),(e=n._C)!==Bb.gC&&e!==Bb.mC){t.next=14;break}return t.next=12,this.ce();case 12:t.next=19;break;case 14:if(!(this.TC.length>this.BC)){t.next=19;break}return t.next=17,this.qC();case 17:t.next=19;break;case 19:case"end":return t.stop()}var e},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ce=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.TC.length>0)){t.next=6;break}return t.next=4,this.qC(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.GC=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xC.HC();case 2:return i=t.sent,t.abrupt("return",{pC:Jt(),ta:qb(),UD:this.OC.CD(i.UD)||"dev",ck:this.pS,kC:this.SC,AC:this.RC,bC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qC=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.TC.splice(0,this.LC),t.next=4,this.GC(i);case 4:e=t.sent,n?this.Yv(e):this.jC(e),this.EC=zb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.jC=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Jb(n),e=new Bf({Ev:"https://license.theoplayer.com",hv:i,jv:!1,kv:th.os,pv:{"Content-Type":xp.IS},Wv:4e3,Xv:Df.POST}),t.prev=2,t.next=5,this.Zb.Tv(e);case 5:return r=t.sent,t.next=8,r.sv();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Yv=function(t){var n=Jb(t);this.Zb.Yv({Ev:"https://license.theoplayer.com",hv:n,ov:xp.IS})},n.WC=function(){this.UC()&&this.ce(),this.SC=Hb(),this.IC=0},n.Zv=function(){me.QC(this.DC),this.ce()},L(t,[{key:"bC",get:function(){return this.TC}},{key:"kC",get:function(){return this.SC}}]),t}();var Kb=Y.Lr||Y.Ar&&Y.zr<13;function tT(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var nT=function(){function t(t){this.HR=void 0,this.ll=void 0,this.YC=void 0,this.HR=t}var n=t.prototype;return n.ZC=function(t){if(!t||!t.drawImage)return!1;var n=this.HR.Gw();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.JC=function(t,n,i,e,s,u){if(!t||!t.texImage2D)return!1;var o=this.HR,h=o.Gw();if(!h)return!1;if(Kb){this.YC||(this.YC=r.createElement("canvas"));var a=this.YC,c=a.getContext("2d"),v=o.aw,d=o.hw,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===v&&_===d||(a.width=v,a.height=d),c.drawImage(h,0,0,v,d);var w=!1;v>0&&tT(c,v-1,0)&&(a.width=l,w=!0),d>0&&tT(c,0,d-1)&&(a.height=_,w=!0),w&&c.drawImage(h,0,0,v,d),h=a}try{t.texImage2D(n,i,e,s,u,h)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"_l",get:function(){return this.ll||(this.ll=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.ZC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.JC(n,i,e,r,s,u)}}));var t}}]),t}(),iT=function(t){function n(n,i){var e;return(e=t.call(this,"$C")||this).ku=n,e.zk=i,e}return U(n,t),n.prototype.wl=function(){return new eT(this.ku,this.zk)},n}(Ed),eT=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return U(n,t),n}(Ds),rT=function(t,n){this.ig=void 0,this.KC=void 0,this.ig=t,this.KC=n},sT=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).tx=void 0,e.nx=0,e.ix=0,e.ex=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.ix=n.width,e.nx=n.height,e.KC(e.ix,e.nx)}},e.tx=new pe.ResizeObserver(e.ex),e.tx.observe(e.ig),e}return U(n,t),n.prototype.Zv=function(){this.tx.disconnect()},L(n,[{key:"sx",get:function(){return this.nx}},{key:"ux",get:function(){return this.ix}}]),n}(rT),uT=0;function oT(t){var n=zb(),i=l.max(0,16-(n-uT)),e=o(function(){return t(n+i)},i);return uT=n+i,e}var hT,aT=h,cT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,fT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function vT(){return hT||(hT=pe&&pe.document&&pe.document.createElement("span")),hT}cT&&fT||(cT=oT,fT=aT),cT=cT.bind(t),fT=fT.bind(t);var dT=["Webkit","Moz","O","ms"],lT=(function(){var t=!1;try{if(void 0!==pe&&"function"==typeof pe.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});pe.addEventListener("testPassiveEventSupport",E,n),pe.removeEventListener("testPassiveEventSupport",E,n)}}catch(t){}}(),er());function _T(t){return lT.has(t)||lT.set(t,function(t){var n=vT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<dT.length;e++){var r=dT[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),lT.get(t)}function wT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function gT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[_T("transition")]="0s"}var yT=function(t){function n(n,i,s){var u;(u=t.call(this,n,i)||this).ox=void 0,u.hx=0,u.ix=NaN,u.nx=NaN,u.ax=void 0,u.vx=void 0,u.lx=void 0,u._x=void 0,u.wx=void 0,u.Wl=function(){u.vx.style.width=1e5+"px",u.vx.style.height=1e5+"px",u.ax.scrollLeft=1e5,u.ax.scrollTop=1e5,u.lx.scrollLeft=1e5,u.lx.scrollTop=1e5,0===u.lx.scrollTop&&cT(u.Wl)},u.gx=function(){var t=u.ux,n=u.sx;u.KC(t,n),u.ix=t,u.nx=n,u.Wl(),u.hx=0},u.yx=function(){if(!u.hx){var t=u.ux,n=u.sx;t===u.ix&&n===u.nx||(u.hx=cT(u.gx))}},u.mx=function(){u.wx||(u.wx=o(u.kx,66))},u.kx=function(){u.wx=void 0,u.Ax()},u.Ax=function(){u.yx()};var h=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");s||"static"!==h||(n.style.position="relative");var a,c=r.createElement("div");return u.ox=c,u.ax=r.createElement("div"),u.vx=r.createElement("div"),u.lx=r.createElement("div"),u._x=r.createElement("div"),wT(u.ax),wT(u.lx),gT(u.vx),gT(a=u._x),a.style.width="200%",a.style.height="200%",c.appendChild(u.ax),c.appendChild(u.lx),u.ax.appendChild(u.vx),u.lx.appendChild(u._x),n.appendChild(c),u.ax.addEventListener("scroll",u.yx),u.lx.addEventListener("scroll",u.yx),e&&e.addEventListener("resize",u.mx),u.yx(),u}return U(n,t),n.prototype.Zv=function(){fT(this.hx),this.hx=0,this.ax.removeEventListener("scroll",this.yx),this.lx.removeEventListener("scroll",this.yx),Ee(this.ox),e&&e.removeEventListener("resize",this.mx)},L(n,[{key:"sx",get:function(){return this.ig.getBoundingClientRect().height||this.nx||0}},{key:"ux",get:function(){return this.ig.getBoundingClientRect().width||this.ix||0}}]),n}(rT),mT=function(t){function n(n){var i;return(i=t.call(this)||this).ig=void 0,i.tx=void 0,i.ex=function(t,n){i.jo(new iT(t,n))},i.ig=n,i}U(n,t);var i=n.prototype;return i.ua=function(t){this.tx||("function"==typeof pe.ResizeObserver?this.tx=new sT(this.ig,this.ex):this.tx=new yT(this.ig,this.ex,t))},i.Zv=function(){this.Jo(),this.tx&&(this.tx.Zv(),this.tx=void 0)},L(n,[{key:"sx",get:function(){return this.tx?this.tx.sx:0}},{key:"ux",get:function(){return this.tx?this.tx.ux:0}}]),n}(Is),pT=function(t){function n(){return t.call(this,tA.Il)||this}return U(n,t),n}(Ds);var kT=function(){if(r)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in r)return{bx:i[0],Tx:i[1],Sx:i[2],Ex:i[3],Rx:i[4],Ix:i[5]}}}(),AT=function(t){function n(){return t.call(this,tA.XI)||this}return U(n,t),n}(Ds),bT=function(t){function n(i){var e;return(e=t.call(this)||this).ig=void 0,e.qI=void 0,e.WI=!1,e.Nx=function(){return e.bN()},e.Dx=function(){return e.SN()},e.ig=i,e.qI=n.Cx(i),r.addEventListener(kT.Rx,e.Nx),e.bN(),e}U(n,t),n.Cx=function(t){return Boolean(kT&&r[kT.Ex]&&kT.bx in t)};var i=n.prototype;return i.Cg=function(){var t=this.ig[kT.bx]();t&&t.then?t.then(this.Nx,this.Dx):(r.removeEventListener(kT.Ix,this.Dx),r.addEventListener(kT.Ix,this.Dx))},i.Pg=function(){var t=r[kT.Tx]();t&&t.then?t.then(this.Nx,this.Dx):(r.removeEventListener(kT.Ix,this.Dx),r.addEventListener(kT.Ix,this.Dx))},i.bN=function(){var t=this.WI,n=this.ig===r[kT.Sx];this.WI=n,t!==n&&this.jo(new pT)},i.SN=function(){this.jo(new rA)},i.Zv=function(){this.Jo(),r.removeEventListener(kT.Rx,this.Nx),r.removeEventListener(kT.Ix,this.Dx)},n}(Is),TT=function(t){function n(i){var e;return(e=t.call(this)||this).ig=void 0,e.qI=void 0,e.WI=!1,e.Nx=function(){return e.bN()},e.ig=i,e.qI=n.Cx(i),e.ig.addEventListener("webkitbeginfullscreen",e.Nx),e.ig.addEventListener("webkitendfullscreen",e.Nx),e.ig.addEventListener("webkitpresentationmodechanged",e.Nx),e.bN(),e}U(n,t),n.Cx=function(t){return Y.Ar&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Cg=function(){var t=this;this.ig.webkitSupportsPresentationMode&&this.ig.webkitSupportsPresentationMode("fullscreen")?Y.Ar?requestAnimationFrame(function(){return t.ig.webkitSetPresentationMode("fullscreen")}):this.ig.webkitSetPresentationMode("fullscreen"):this.ig.webkitEnterFullscreen()},i.Pg=function(){this.ig.webkitSupportsPresentationMode&&this.ig.webkitSupportsPresentationMode("inline")?this.ig.webkitSetPresentationMode("inline"):this.ig.webkitExitFullscreen()},i.bN=function(){var t,n=this.WI;t=this.ig.webkitPresentationMode?"fullscreen"===this.ig.webkitPresentationMode:!!this.ig.webkitDisplayingFullscreen,this.WI=t,n!==t&&this.jo(new pT)},i.Zv=function(){this.Jo(),this.ig.removeEventListener("webkitbeginfullscreen",this.Nx),this.ig.removeEventListener("webkitendfullscreen",this.Nx),this.ig.removeEventListener("webkitpresentationmodechanged",this.Nx)},n}(Is),ST=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).xx=[],n.Px=void 0,n.mN=!1,n.bN=function(){var t=n.mN,i=n.Ox();t!==i&&(n.mN=i,n.jo(new pT))},n}U(n,t);var i=n.prototype;return i.Cg=function(){this.Px?this.Px.Cg():this.jo(new rA)},i.Pg=function(){for(var t=0,n=this.xx;t<n.length;t++){var i=n[t];i.WI&&i.Pg()}},i.Bx=function(t){this.Px=t},i.Lx=function(t){this.xx.push(t),t.Qo(tA.Il,this.bN),t.Qo(tA.v_,this.Go),this.bN()},i.Mx=function(t){ts(this.xx,t),t.$o(tA.Il,this.bN),t.$o(tA.v_,this.Go)},i.Ox=function(){for(var t=0,n=this.xx;t<n.length;t++){if(n[t].WI)return!0}return!1},i.Wl=function(){this.Px=void 0,this.mN=!1;for(var t=this.xx.slice(),n=0;n<t.length;n++){var i=t[n];this.Mx(i),i.Zv()}this.bN()},i.Zv=function(){this.Jo(),this.Wl()},L(n,[{key:"qI",get:function(){return!!this.Px&&this.Px.qI}},{key:"WI",get:function(){return this.mN}}]),n}(Is),ET=function(t){function n(n,i){var e;return(e=t.call(this)||this).HR=void 0,e.Ux=void 0,e.Fx=void 0,e.Hx=!1,e.Vx=function(){return e.Yh()},e.bN=function(t){e.Hx||e.jo(t)},e.HR=n,e.Ux=i,e.Fx=sA,e.zx(),e.HR.Qo(Ko.lc,e.Vx),e.Yh(),e}U(n,t);var i=n.prototype;return i.Cg=function(){this.Ux&&this.Fx.Cg()},i.Pg=function(){this.Fx.Pg()},i.zx=function(){this.Fx.Qo(tA.Il,this.bN),this.Fx.Qo(tA.v_,this.Go)},i.Xx=function(){this.Fx.$o(tA.Il,this.bN),this.Fx.$o(tA.v_,this.Go)},i.Yh=function(){var t=this.Fx,n=this.HR.jw();if(t!==n){this.Hx=!0;var i=this.WI,e=this.qI;i&&this.Pg(),this.Xx(),this.Fx=n,this.zx(),i&&!this.WI&&this.qI?this.Cg():this.Pg(),this.Hx=!1,e!==this.qI&&this.jo(new AT),i!==this.WI&&this.jo(new pT)}},i.Zv=function(){this.Jo(),this.Xx(),this.HR.$o(Ko.lc,this.Vx)},L(n,[{key:"qI",get:function(){return!!this.Ux&&this.Fx.qI}},{key:"WI",get:function(){return this.Fx.WI}}]),n}(Is);function RT(t){var n;return{get url(){return t.Ev},get method(){return t.Xv},get headers(){return n||(n=t.pv.Xc()),n},get body(){return t.hv},get useCredentials(){return t.jv},get type(){return xT(t.do)},get subType(){return OT(t.qv)},get mediaType(){return LT(t.Gv)},get responseType(){return NT(t.kv)}}}function IT(t){switch(t.toLowerCase()){case"arraybuffer":return th.Hc;case"json":return th.Vc;case"stream":return th.zc;case"text":default:return th.os}}function NT(t){return t}function DT(t){switch(t.toUpperCase()){case"POST":return Df.POST;case"PUT":return Df.PUT;case"DELETE":return Df.DELETE;case"HEAD":return Df.HEAD;case"OPTIONS":return Df.OPTIONS;case"GET":default:return Df.GET}}function CT(t){switch(t.toLowerCase()){case"manifest":return Cf.Nv;case"segment":return Cf.Dv;case"content-protection":return Cf.Cv;default:return Cf.Iv}}function xT(t){return t}function PT(t){switch(t.toLowerCase()){case"initialization-segment":return xf.xv;case"fairplay-license":return xf.Pv;case"fairplay-certificate":return xf.Ov;case"widevine-license":return xf.Bv;case"widevine-certificate":return xf.Lv;case"playready-license":return xf.Mv;case"clearkey-license":return xf.Uv;case"aes128-key":return xf.Fv;default:return xf.Iv}}function OT(t){return t}function BT(t){switch(t.toLowerCase()){case"audio":return Pf.Hv;case"video":return Pf.Vv;case"text":return Pf.os;case"image":return Pf.zv;case"":default:return Pf.Iv}}function LT(t){return t}var MT=function(){function t(t,n){this.Wx=new $u,this.qx=[],this.ll=void 0,this.Gx=!1,this.fd=void 0,this.jx=0,this.Qx=t,this.Yx=n}var n=t.prototype;return n.$p=function(){this.Gx=!0,this.Wx.Ch(null)},n.Zx=function(){this.Wx.xh(new af(this.qx))},n.Jx=function(t){if(!this.$x)throw new v("Cannot respond more than once");if(!nt(t))throw new v("Expected valid response");this.fd=this.Kx(t),this.$p()},n.tP=function(){try{var t=this.Yx(this._l);t?this.nP(t):this.iP||this.eP||this.$p()}catch(t){this.qx.push(t),this.Zx()}},n.nP=function(t){if(this.eP)throw new f("Request has been redirected or a response already exists");if(st(t))this.rP(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new $u;try{var i=t(function(t){t?n.xh(t):n.Ch(void 0)});st(i)&&n.Ch(i)}catch(t){n.xh(t)}this.rP(n.Dh)}},n.rP=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.jx++,t.next=4,n;case 4:this.jx--,this.iP||this.eP||(this.qx.length?this.Zx():this.$p()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.jx--,this.qx.push(t.t0),this.iP||this.eP||this.Zx();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"sP",get:function(){return this.Wx.Dh}},{key:"_l",get:function(){return this.ll||(this.ll=this.uP()),this.ll}},{key:"eP",get:function(){return this.Gx}},{key:"$x",get:function(){return!this.Gx}},{key:"iP",get:function(){return this.jx>0}},{key:"vd",get:function(){return this.fd}}]),t}(),UT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).oP=void 0,r.oP=e,r.tP(),r}U(n,t),n.hP=function(t,n,i){var e=void 0===t.body?i:t.body;return new Of({Fs:e,Tv:n.Tv,kv:n.Tv.kv,pv:t.headers,mv:t.status,Av:t.statusText,Sv:t.url,bv:!0},n)};var i=n.prototype;return i.uP=function(){return i=RT((t=this).Tv),{get closed(){return!t.$x},get request(){return i},get url(){return t.Ev},get status(){return t.mv},get statusText(){return t.Av},get headers(){return n||(n=t.pv.Xc()),n},get body(){return t.hv},respondWith:function(n){return t.Jx(n)},waitUntil:function(n){return t.nP(n)}};var t,n,i},i.Kx=function(t){return n.hP(t,this.Qx,this.oP)},L(n,[{key:"hv",get:function(){return this.oP}},{key:"pv",get:function(){return this.Qx.pv}},{key:"Tv",get:function(){return this.Qx.Tv}},{key:"vd",get:function(){return this.fd}},{key:"mv",get:function(){return this.Qx.mv}},{key:"Av",get:function(){return this.Qx.Av}},{key:"Ev",get:function(){return this.Qx.Sv}}]),n}(MT),FT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).aP=void 0,r.cP=void 0,r.cP=e,r.tP(),r}U(n,t);var i=n.prototype;return i.uP=function(){return t=this,{get url(){return t.Ev},get method(){return t.Xv},get headers(){return n||(n=t.pv.Xc()),n},get body(){return t.hv},get closed(){return!t.$x},get useCredentials(){return t.jv},get type(){return xT(t.do)},get subType(){return OT(t.qv)},get mediaType(){return LT(t.Gv)},get responseType(){return NT(t.kv)},redirect:function(n){return t.fP(n)},respondWith:function(n){return t.Jx(n)},waitUntil:function(n){return t.nP(n)}};var t,n},i.Kx=function(t){var n=this.Qx.hv,i=new Of({Fs:n,pv:{},Tv:this.Qx,Sv:this.Qx.Ev,kv:this.Qx.kv,mv:200,Av:"OK"});return UT.hP(t,i,n)},i.fP=function(t){if(!this.$x)throw new v("Cannot redirect, already redirected or has a response");var n;n=et(t)?{url:t}:t,this.aP=function(t,n){return new Bf({Ev:void 0===t.url?n.Ev:t.url,Xv:void 0!==t.method?DT(t.method):void 0,pv:t.headers,hv:t.body,jv:t.useCredentials,do:void 0!==t.type?CT(t.type):void 0,qv:void 0!==t.subType?PT(t.subType):void 0,Gv:void 0!==t.mediaType?BT(t.mediaType):void 0,kv:void 0!==t.responseType?IT(t.responseType):void 0},n)}(n,this.Qx),this.$p()},L(n,[{key:"hv",get:function(){return this.Qx.hv}},{key:"$x",get:function(){return this.cP&&!this.Gx}},{key:"pv",get:function(){return this.Qx.pv}},{key:"Xv",get:function(){return this.Qx.Xv}},{key:"vP",get:function(){return this.aP}},{key:"vd",get:function(){return this.fd}},{key:"kv",get:function(){return this.Qx.kv}},{key:"Wv",get:function(){return this.Qx.Wv}},{key:"zo",get:function(){return this.Qx.zo}},{key:"do",get:function(){return this.Qx.do}},{key:"qv",get:function(){return this.Qx.qv}},{key:"Gv",get:function(){return this.Qx.Gv}},{key:"Ev",get:function(){return this.Qx.Ev}},{key:"jv",get:function(){return this.Qx.jv}},{key:"Qv",get:function(){return this.Qx.Qv}}]),n}(MT);var HT,VT=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new zT(n);return(e=t.call(this,r,i)||this).dP=void 0,e.dP=r,e}U(n,t);var i=n.prototype;return i.lP=function(t){this.dP.lP(t)},i._P=function(t){this.dP._P(t)},i.wP=function(t){this.dP.wP(t)},i.gP=function(t){this.dP.gP(t)},i.yP=function(t){this.dP.yP(t)},n}(Mf),zT=function(){function t(t){this.Jv=void 0,this.mP=[],this.pP=[],this.Jv=t}var n=t.prototype;return n.Tv=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.kP(n,n.zo);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof qf)){t.next=12;break}return t.next=11,this.AP(t.t0,n.zo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.bP(i,n.zo);case 15:if(!Nf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new jf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Yv=function(t){return this.Jv.Yv(t)},n.kP=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ds(i),e=n,s=0,u=this.mP.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],ds(i),(h=new FT(e,o,!r)).eP){t.next=17;break}return t.prev=8,t.next=11,h.sP;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.vP&&!r?e=h.vP:h.vd&&!r&&(r=h.vd);case 18:s++,t.next=3;break;case 21:if(!r){t.next=23;break}return t.abrupt("return",r);case 23:return t.abrupt("return",this.Jv.Tv(e));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.AP=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n instanceof jf?n.vd:new Of({Fs:null,Tv:n.Tv,mv:0,Av:""}),t.next=3,this.bP(e,i);case 3:if((r=t.sent)!==e){t.next=8;break}throw n;case 8:if(!Nf(r)){t.next=12;break}return t.abrupt("return",r);case 12:throw new jf(r);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bP=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n,r=0,s=this.pP.slice();case 2:if(!(r<s.length)){t.next=23;break}return u=s[r],ds(i),t.next=7,T.resolve(e.Sh().Fs(i));case 7:if(o=t.sent,(h=new UT(e,u,o)).eP){t.next=19;break}return t.prev=10,t.next=13,h.sP;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:e=h.vd||e;case 20:r++,t.next=2;break;case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.lP=function(t){this.mP.unshift(t)},n._P=function(t){this.mP.push(t)},n.wP=function(t){ts(this.mP,t)},n.gP=function(t){this.pP.unshift(t)},n.yP=function(t){ts(this.pP,t)},n.Zv=function(){this.Jv.Zv(),es(this.mP),es(this.pP)},t}(),XT=function(){function t(t){this.ll=void 0,this.Zb=t}var n=t.prototype;return n.lP=function(t){this.Zb.lP(t)},n.wP=function(t){this.Zb.wP(t)},n.gP=function(t){this.Zb.gP(t)},n.yP=function(t){this.Zb.yP(t)},L(t,[{key:"_l",get:function(){var t;return this.ll||(this.ll=(t=this,{addRequestInterceptor:function(n){t.lP(n)},removeRequestInterceptor:function(n){t.wP(n)},addResponseInterceptor:function(n){t.gP(n)},removeResponseInterceptor:function(n){t.yP(n)}})),this.ll}}]),t}(),WT=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).ll=void 0,r.TP=function(t){r.jo(t)},r.SP=function(t){r.jo(t)},r.EP=n,r.Zb=i,r.iN=e,r.EP.Qo(Ko.pc,r.TP),r.EP.Qo(Ko.mc,r.SP),r}U(n,t);var i=n.prototype;return i.RP=function(t){this.iN.RP(t)},i.lP=function(t){this.Zb.lP(t)},i.wP=function(t){this.Zb.wP(t)},i.gP=function(t){this.Zb.gP(t)},i.yP=function(t){this.Zb.yP(t)},i.Zv=function(){this.Jo(),this.EP.$o(Ko.pc,this.TP),this.EP.$o(Ko.mc,this.SP)},L(n,[{key:"_l",get:function(){var t;return this.ll||(this.ll=(t=this,{get online(){return t.cg},get estimator(){return n=t.IP,{get bandwidth(){return n.cE},get roundTripTime(){return n.fE}};var n},setEstimator:function(n){t.RP(function(t){if(t)return{get cE(){return Qd(t.bandwidth)},get fE(){return Qd(t.roundTripTime)},aE:function(n){return function(t){if(t)return{NP:function(n){t.markRequestStart(n)},DP:function(n){t.markResponseStart(n)},CP:function(n,i){t.markResponseData(n,i)},xP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(RT(n)))}}}(n))},addRequestInterceptor:function(n){t.lP(n)},removeRequestInterceptor:function(n){t.wP(n)},addResponseInterceptor:function(n){t.gP(n)},removeResponseInterceptor:function(n){t.yP(n)},addEventListener:function(n,i){t.Qo(n,i)},removeEventListener:function(n,i){t.$o(n,i)}})),this.ll}},{key:"cg",get:function(){return this.EP.cg}},{key:"IP",get:function(){return this.iN.IP}}]),n}(Is);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(HT||(HT={}));var qT=30,GT={type:HT.BANDWIDTH},jT=20,QT=60;function YT(t){var n,i,e,r=zd(GT);return et(t)?r.type=ZT(t):nt(t)&&function(t){switch(t){case HT.PERFORMANCE:case HT.QUALITY:case HT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=ZT(t.type)),nt(t)&&nt(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=jd(n.bitrate),g(e)||(i.bitrate=e),i)),r}function ZT(t){switch(t){case"bandwidth":return HT.BANDWIDTH;case"performance":return HT.PERFORMANCE;case"quality":return HT.QUALITY}}var JT=function(t){function n(n){var i;return(i=t.call(this,"OP")||this).PP=n,i}return U(n,t),n}(Ds),$T=function(t){function n(n){var i;return(i=t.call(this,"LP")||this).BP=n,i}return U(n,t),n}(Ds),KT=function(t){function n(n){var i;return(i=t.call(this,"UP")||this).MP=n,i}return U(n,t),n}(Ds),tS=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).ll=(i=sn(n),{get strategy(){return{metadata:(t=i.BP).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.BP=YT(t)},get targetBuffer(){return i.PP},set targetBuffer(t){var n=jd(t);g(n)||(i.PP=n>QT?QT:n)},get bufferLookbackWindow(){return i.MP},set bufferLookbackWindow(t){var n=jd(t);g(n)||(i.MP=n<=0?qT:n)}}),n.FP=GT,n.HP=jT,n.VP=qT,n.zP=void 0,n.XP=void 0,n}U(n,t);var i=n.prototype;return i.WP=function(t){this.XP=t},i.RP=function(t){this.zP=t},L(n,[{key:"qP",get:function(){switch(this.FP.type){case HT.PERFORMANCE:return 0;case HT.QUALITY:return 1/0;case HT.BANDWIDTH:return this.FP.metadata&&void 0!==this.FP.metadata.bitrate?this.FP.metadata.bitrate:8*yl.x_();default:return 8*yl.x_()}}},{key:"_l",get:function(){return this.ll}},{key:"BP",get:function(){return this.FP},set:function(t){this.FP=t,this.jo(new $T(t))}},{key:"PP",get:function(){return this.HP},set:function(t){this.HP=t,this.jo(new JT(t))}},{key:"MP",get:function(){return this.VP},set:function(t){this.VP=t,this.jo(new KT(t))}},{key:"IP",get:function(){var t;return null!=(t=this.zP)?t:this.XP.AR}}]),n}(Is),nS=function(t){function n(){return t.call(this,"Nl")||this}return U(n,t),n.prototype.wl=function(){return new iS},n}(Ed),iS=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Ds),eS=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).GP=void 0,r.TC=void 0,r.jP=function(t){Rd(t)&&ps(function(){r.jo(t._l)})},r.GP=n,r.TC=i;for(var s=0,u=r.TC;s<u.length;s++){var o=u[s];r.GP.Qo(o,r.jP)}return r}return U(n,t),n.prototype.Zv=function(){this.Jo();for(var t=0,n=this.TC;t<n.length;t++){var i=n[t];this.GP.$o(i,this.jP)}},n}(Is),rS=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).GP=void 0,e.jP=function(t){Rd(t)&&ps(function(){e.jo(t._l)})},e.GP=n,e.GP.Zo(e.jP),e}return U(n,t),n.prototype.Zv=function(){this.Jo(),this.GP.nh(this.jP)},n}(ll),sS=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(rS);var uS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Gg=0,n.jg=1/0,n.ll=void 0,n}U(n,t);var i=n.prototype;return i.Wl=function(){0===this.Gg&&this.jg===1/0||(this.Gg=0,this.jg=1/0,this.jo(new nS))},i.QP=function(){return new iA([this.Bg,this.Lg],[!0,!0])},L(n,[{key:"Bg",get:function(){return this.Gg},set:function(t){if(this.Lg<=t)throw new f("Start time of a clip should be smaller than the end time.");this.Gg!==t&&(this.Gg=t,this.jo(new nS))}},{key:"Lg",get:function(){return this.jg},set:function(t){if(t<=this.Bg)throw new f("End time of a clip should be larger than the start time.");this.jg!==t&&(this.jg=t,this.jo(new nS))}},{key:"_l",get:function(){var t,n,i;return this.ll||(this.ll=(i={get startTime(){return t.Bg},set startTime(n){t.Bg=n},get endTime(){return t.Lg},set endTime(n){t.Lg=n},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)}},n=new rS(t=this,i),i)),this.ll}}]),n}(ll),oS=function(t){function n(n){var i;return(i=t.call(this)||this).YP=function(t){i.ZP(t)||i.jo(t)},i.JP=n,i.JP.Zo(i.YP),i}U(n,t);var i=n.prototype;return i.$P=function(){return this.JP.Nw},i.Qw=function(){return this.JP.Qw()},i.KP=function(){return this.JP.tg},i.tO=function(){return this.JP.$w},i.nO=function(){return this.JP.ng},i.iO=function(t){this.JP.ng=t},i.eO=function(){return this.JP.tw},i.rO=function(t){this.JP.tw=t},i.sO=function(){return this.JP.nw},i.uO=function(){return this.JP.ig},i.oO=function(){return this.JP.iw},i.hO=function(){return this.JP.hh},i.aO=function(){return this.JP.ew},i.cO=function(){return this.JP.eg},i.fO=function(){return this.JP.rw},i.vO=function(t){this.JP.rw=t},i.dO=function(){return this.JP.cg},i.lO=function(){return this.JP.sw},i._O=function(){return this.JP.uw},i.wO=function(t){this.JP.uw=t},i.gO=function(){return this.JP.fg},i.yO=function(){return this.JP.vg},i.mO=function(t){this.JP.vg=t},i.pO=function(){return this.JP.g_},i.kO=function(){return this.JP.dg},i.AO=function(){return this.JP.ow},i.Lw=function(){return this.JP.Lw()},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(i),t.next=3,this.JP.Mw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bO=function(){return this.JP.Cw},i.TO=function(){return this.JP.hw},i.SO=function(){return this.JP.Dw},i.EO=function(){return this.JP.aw},i.RO=function(){return this.JP.cw},i.IO=function(t){this.JP.cw=t},i.jw=function(){return this.JP.jw()},i.Gw=function(){return this.JP.Gw()},i.zw=function(t){this.JP.zw(t)},i.Xw=function(){this.JP.Xw()},i.qw=function(){this.JP.qw()},i.Vw=function(){this.JP.Vw()},i.Ow=function(){this.JP.Ow()},i.Pw=function(){this.JP.Pw()},i.Ww=function(){this.JP.Ww()},i.Bw=function(){return this.JP.Bw()},i.Uw=function(){return this.JP.Uw()},i.Fw=function(){this.JP.Fw()},i.Hw=function(){this.JP.Hw()},i.Wl=function(){return this.JP.Wl()},i.Zv=function(){return this.JP.Zv()},i.Kw=function(){this.JP.Kw()},i.Yw=function(t){return this.JP.Yw(t)},i.ZP=function(t){return!1},L(n,[{key:"Nw",get:function(){return this.$P()}},{key:"tg",get:function(){return this.KP()}},{key:"ng",get:function(){return this.nO()},set:function(t){this.iO(t)}},{key:"$w",get:function(){return this.tO()}},{key:"tw",get:function(){return this.eO()},set:function(t){this.rO(t)}},{key:"nw",get:function(){return this.sO()}},{key:"ig",get:function(){return this.uO()}},{key:"iw",get:function(){return this.oO()}},{key:"hh",get:function(){return this.hO()}},{key:"ew",get:function(){return this.aO()}},{key:"xw",get:function(){return this.JP.xw}},{key:"eg",get:function(){return this.cO()}},{key:"gw",get:function(){return this.JP.gw}},{key:"rw",get:function(){return this.fO()},set:function(t){this.vO(t)}},{key:"cg",get:function(){return this.dO()}},{key:"sw",get:function(){return this.lO()}},{key:"uw",get:function(){return this._O()},set:function(t){this.wO(t)}},{key:"fg",get:function(){return this.gO()}},{key:"vg",get:function(){return this.yO()},set:function(t){this.mO(t)}},{key:"g_",get:function(){return this.pO()}},{key:"dg",get:function(){return this.kO()}},{key:"ow",get:function(){return this.AO()}},{key:"Cw",get:function(){return this.bO()}},{key:"hw",get:function(){return this.TO()}},{key:"Dw",get:function(){return this.SO()}},{key:"aw",get:function(){return this.EO()}},{key:"cw",get:function(){return this.RO()},set:function(t){this.IO(t)}},{key:"lg",get:function(){return this.JP.lg},set:function(t){this.JP.lg=t}}]),n}(_l),hS=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).DO=void 0,r.CO=!1,r.xO=void 0,r.PO=!1,r.OO=function(){r.BO(),r.LO()},r.UE=function(){r.MO(),r.LO(),r.UO&&r.tw>=r.DO.Lg-n.FO&&!r.iw&&(r.xO=cT(r.UE))},r.HO=function(){r.PO=!0},r.VO=function(){r.PO&&(r.PO=!1,r.LO())},r.DO=e,r.DO.Qo("Nl",r.OO),r.JP.Qo("timeupdate",r.UE),r}U(n,t);var i=n.prototype;return i.rO=function(n){var i=this.DO.QP().lI(n);t.prototype.rO.call(this,i),this.LO()},i.oO=function(){return t.prototype.oO.call(this)||this.CO},i.kO=function(){return iA.FI(t.prototype.kO.call(this)).gI(this.DO.QP()).yR()},i.Pw=function(){this.oO()?this.rO(this.zO.start(0)):this.BO(),t.prototype.Pw.call(this),this.LO()},i.Mw=function(){var n=T.coroutine(tr.mark(function n(i,e){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ds(e),this.CO=!1,this.DO.Wl(),n.next=5,t.prototype.Mw.call(this,i,e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Zv=function(){return this.DO.$o("Nl",this.OO),this.JP.$o("timeupdate",this.UE),this.MO(),t.prototype.Zv.call(this)},i.ZP=function(n){switch(n.type){case"seeking":return this.jo(n),this.HO(),!0;case"seeked":case"emptied":return this.jo(n),this.VO(),!0;case"ended":if(this.UO)return!0}return t.prototype.ZP.call(this,n)},i.MO=function(){this.xO&&(fT(this.xO),this.xO=void 0)},i.LO=function(){var t=this.tw,i=this.UO&&t>=this.DO.Lg-n.wm;this.CO&&!i?(this.CO=!1,this.sw&&this.Pw()):this.CO||!i||this.ow||this.PO||(this.CO=!0,this.jo(new $l(t)),this.Ow())},i.BO=function(){if(this.nw!==1/0){var t=this.zO,i=iA.FI(t).lI(this.tw);Gt(this.tw,i,n.wm)||this.rO(i)}},L(n,[{key:"zO",get:function(){return this.kO().length?this.kO():this.DO.QP().yR()}},{key:"UO",get:function(){return this.DO.Lg<this.nw}}]),n}(oS);hS.FO=1,hS.wm=.001;var aS=function(){function t(){this.XO=void 0,this.XO=!1}return L(t,[{key:"WO",get:function(){return this.XO},set:function(t){this.XO=t}}]),t}(),cS=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).XO=void 0,e.qO=!1,e.GO=!1,e.XO=i,e}U(n,t);var i=n.prototype;return i.oO=function(){return!this.XO.WO&&t.prototype.oO.call(this)},i.Ow=function(){this.GO=!0,t.prototype.Ow.call(this)},i.Pw=function(){this.GO=!1,t.prototype.Pw.call(this)},i.ZP=function(n){if(this.XO.WO)switch(n.type){case"ended":return this.tw=0,this.GO||(this.ow?this.qO=!0:this.Pw()),!0;case"seeked":this.qO&&(this.qO=!1,this.Pw());break;case"pause":if(this.qO||t.prototype.oO.call(this))return!0}return t.prototype.ZP.call(this,n)},n}(oS);var fS=function(){function t(t){var n;this.ll=(n=this,{get currentBandwidthEstimate(){return n.og},get corruptedVideoFrames(){return n.sg},get droppedVideoFrames(){return n.rg},get totalBytesLoaded(){return n.hg},get bufferedSegments(){return n.ag}}),this.QR=t}return L(t,[{key:"_l",get:function(){return this.ll}},{key:"sg",get:function(){return this.QR.jO.gw.sg}},{key:"og",get:function(){return this.QR.jO.gw.og}},{key:"rg",get:function(){return this.QR.jO.gw.rg}},{key:"QO",get:function(){throw new f("Not implemented")}},{key:"YO",get:function(){throw new f("Not implemented")}},{key:"hg",get:function(){return this.QR.jO.gw.hg}},{key:"ug",get:function(){return this.QR.jO.gw.ug}},{key:"ag",get:function(){return this.QR.jO.gw.ag}}]),t}();function vS(t){if(!t||!xe(t))return{rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{rg:n.droppedVideoFrames,sg:n.corruptedVideoFrames||0,ug:n.totalVideoFrames}}return{rg:t.webkitDroppedFrameCount||0,sg:0,ug:t.webkitDecodedFrameCount||0}}var dS=function(t){function n(){return t.call(this,"ZO")||this}return U(n,t),n.prototype.wl=function(){return new lS},n}(Ed),lS=function(t){function n(){return t.call(this,"castingchange")||this}return U(n,t),n}(Ds);var _S=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JO=[],n.ll=void 0,n.$O=function(){return n.jo(new dS)},n}U(n,t);var i=n.prototype;return i.KO=function(t){this.JO.push(t),t.Qo("statechange",this.$O)},i.Zv=function(){var t=this;this.JO.forEach(function(n){n.$o("statechange",t.$O)}),es(this.JO)},L(n,[{key:"tB",get:function(){return this.JO.some(function(t){return t.tB})}},{key:"_l",get:function(){var t,n,i;return this.ll||(this.ll=(i={get casting(){return t.tB},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)}},n=new sS(t=this,i),i)),this.ll}}]),n}(_l),wS=function(){function t(){}return t.nB=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new Bf({Ev:n,kv:th.os,Xv:Df.GET}),t.next=4,i.Tv(e);case 4:return r=t.sent,t.next=7,r.Fs();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),vs(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.iB=function(t){try{var i=kb(t);return new Rb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Po(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.eB=function(t){void 0===t&&(t=Vb.Wm),b.Nu("The baked-in license is used. Please update the configuration with your license.");var n=t.DD(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.DD(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.DD(n)}),r=Number(new Date(Number(t.DD("COD|aHpHa:p3Ceo3Co\"\""))));return new Rb(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new Rb(t.UD,t.FD,t.HD,864e13,t.zD,Date.now(),t.WD,t.qD)},t}(),gS=function(){function t(){}return t.ic=function(){return t.es||(t.es=yS._a()?new yS:new Qo),t.es},t.ph=function(n){t.ic().ph(n)},t.tc=function(){t.ic().tc()},t.gh=function(n){return t.ic().gh(n)},t.nc=function(n,i){t.ic().nc(n,i)},t.rB=function(n){var i=t.gh(n);if(void 0!==i)return w(i)},t.sB=function(n){return"true"===t.gh(n)},t}();gS.es=void 0;var yS=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i._a=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ph=function(n){t.localStorage.removeItem(n)},e.tc=function(){t.localStorage.clear()},e.gh=function(n){return t.localStorage[n]},e.nc=function(n,i){t.localStorage[n]=i},i}(gS),mS=l.floor(14399999*l.random()-72e5),pS=function(){function t(t,n,i,e,r,s){this.QD=void 0,this.Zb=t,this.uB=n,this.oB=i,this.xC=e,this.hB=r,this.JD=s,this.QD=Ob(s)}var i=t.prototype;return i.aB=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cB(this.hB.license,this.hB.licenseUrl);case 2:n=t.sent,this.xC.fB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cB=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,i?s=wS.iB(i):r||(s=wS.eB()),r||(r="https://validate.theoplayer.com/1/"+s.UD),u=this.vB(),!s){t.next=14;break}if((o=this.uB.nC(s))!==bb.BD){t.next=14;break}if(!this.dB(s.VD)||!this.dB(null==u?void 0:u.VD)){t.next=13;break}return t.next=10,this.lB(r);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.uB.nC(u)!==bb.BD){t.next=24;break}if(!this.dB(null==u?void 0:u.VD)){t.next=23;break}return t.next=20,this.lB(r);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:gS.ph("THEOplayer.license");case 25:return t.next=27,wS.nB(r,this.Zb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=wS.iB(c),this.uB.nC(f)!==bb.BD){t.next=34;break}return gS.nc("THEOplayer.license",c),t.abrupt("return",f);case 34:gS.ph("THEOplayer.license"),t.next=39;break;case 37:if(this.QD||!s||o!==bb.LD||r!=="https://validate.theoplayer.com/1/"+s.UD){t.next=39;break}return t.abrupt("return",wS.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this._B(null!=(v=s)?v:f,new Po(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Po(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$D=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xC.HC();case 2:if(i=t.sent,!this.dB(i.VD)){t.next=9;break}return r=null!=(e=this.hB.licenseUrl)?e:"https://validate.theoplayer.com/1/"+i.UD,t.next=7,this.lB(r);case 7:(s=t.sent)&&(this.xC.fB(s),i=s);case 9:if(t.prev=9,(u=this.uB.nC(i))!==bb.MD){t.next=16;break}throw o=Eb.GD,new Po(Nb(o),Lb.tC(o));case 16:if(u!==bb.LD){t.next=19;break}throw h=Eb.LD,new Po(Nb(h),Lb.tC(h));case 19:this.uB.$D(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.wB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.lB=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wS.nB(n,this.Zb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(e=wS.iB(i),this.uB.nC(e)!==bb.BD){t.next=11;break}return gS.nc("THEOplayer.license",i),t.abrupt("return",e);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.dB=function(t){return!t||Number(new Date)+2592e5+mS>=t},i.vB=function(){var t=gS.gh("THEOplayer.license");if(t)return wS.iB(t)},i._B=function(t,n){this.xC.fB(t),this.wB(n)},i.wB=function(t){throw wt(t.message),this.oB.XC(t.message),t},t}(),kS=function(){function t(){this.gB=void 0,this.yB=new $u}var n=t.prototype;return n.fB=function(t){this.gB=t,this.yB.Ch()},n.HC=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gB){t.next=2;break}return t.abrupt("return",T.resolve(this.gB));case 2:return t.next=4,this.yB.Dh;case 4:return t.abrupt("return",this.gB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"mB",get:function(){return this.gB}}]),t}(),AS=function(t){function n(){return t.call(this,"Nl")||this}return U(n,t),n.prototype.wl=function(){return new bS},n}(Ed),bS=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Ds);function TS(t){var n,i={get fontFamily(){return t.pB},set fontFamily(n){t.pB=n},get fontColor(){return t.kB},set fontColor(n){t.kB=n},get fontSize(){return t.AB},set fontSize(n){t.AB=n},get backgroundColor(){return t.bB},set backgroundColor(n){t.bB=n},get windowColor(){return t.TB},set windowColor(n){t.TB=n},get edgeStyle(){return t.SB},set edgeStyle(n){t.SB=n},addEventListener:function(t,i){var e=Jd(t,Yd);n.Qo(e,i)},removeEventListener:function(t,i){var e=Jd(t,Yd);n.$o(e,i)}};return n=new Ns(i),t.Qo(["Nl"],function(t){return n.jo(t._l)}),i}var SS,ES,RS={pB:void 0,kB:void 0,AB:void 0,bB:void 0,TB:void 0,SB:void 0,EB:void 0},IS="THEOplayer.textTrackStyle.",NS=function(t){function n(){var i;return(i=t.call(this)||this).RB=void 0,i.ll=void 0,i.RB=n.IB(),i}return U(n,t),n.prototype.Yh=function(t){this.RB=nr({},this.RB,t),n.NB(this.RB),this.jo(new AS)},n.IB=function(){var t=nr({},RS);return t.pB=gS.gh(IS+"fontFamily")||t.pB,t.kB=gS.gh(IS+"fontColor")||t.kB,t.AB=gS.gh(IS+"fontSize")||t.AB,t.bB=gS.gh(IS+"backgroundColor")||t.bB,t.TB=gS.gh(IS+"windowColor")||t.TB,t.SB=gS.gh(IS+"edgeStyle")||t.SB,t},n.NB=function(t){gS.nc(IS+"fontFamily",t.pB||""),gS.nc(IS+"fontColor",t.kB||""),gS.nc(IS+"fontSize",t.AB||""),gS.nc(IS+"backgroundColor",t.bB||""),gS.nc(IS+"windowColor",t.TB||""),gS.nc(IS+"edgeStyle",t.SB||"")},L(n,[{key:"DB",get:function(){return this.RB}},{key:"pB",get:function(){return this.RB.pB},set:function(t){this.Yh({pB:t})}},{key:"kB",get:function(){return this.RB.kB},set:function(t){this.Yh({kB:t})}},{key:"AB",get:function(){return this.RB.AB},set:function(t){this.Yh({AB:t})}},{key:"bB",get:function(){return this.RB.bB},set:function(t){this.Yh({bB:t})}},{key:"TB",get:function(){return this.RB.TB},set:function(t){this.Yh({TB:t})}},{key:"SB",get:function(){return this.RB.SB},set:function(t){this.Yh({SB:t})}},{key:"EB",get:function(){return this.RB.EB}},{key:"_l",get:function(){return this.ll||(this.ll=TS(this)),this.ll}}]),n}(Is),DS=function(t){function n(n,i){var e;(e=t.call(this)||this).CB=void 0,e.ea=void 0,e.jO=void 0,e.xB=void 0,e.al=void 0,e.DO=void 0,e.XO=void 0,e.PB=void 0,e.OB=void 0,e.iN=void 0,e.uB=void 0,e.BB=void 0,e.LB=void 0,e.nN=void 0,e.MB=!1,e.Aw=!1,e.kg=void 0,e.UB=!1,e.FB=void 0,e.HB=void 0,e.VB=void 0,e.zB=void 0,e.XB=void 0,e.WB=function(t){if(!e.UB){e.UB=!0;var n=e.CB,i=I_(t);e.jO.$l=new hA(e.ig,i,t),ks(n.Zv())}},e.qB=function(t){e.jo(t._l)},e.GB=function(t){t.type!==Ko.pc&&t.type!==Ko.mc&&e.jo(t)};var r=jd(i.uid);g(r)?e.kg=M_++:e.kg=r,e.ea=i;var s=b.al,u=new kS;e.xB=new $b("3.2.1",s,u),e.al=new VT(s,i.allowMixedContent),e.iN=new tS,e.uB=new Ib(i.isEmbeddable,"3.2.1",Ab()),e.XB=new pS(s,e.uB,e.xB,u,i,Ab()),e.XB.aB().catch(e.WB),e.BB=new mT(n),e.BB.Qo("$C",e.qB),e.nN=new NS,e.DO=new uS,e.XO=new aS;var o=new oA(n,i,e.al,e.iN,e.BB,e.nN);e.iN.WP(o);var h=o;h=new hS(h,e.jB),h=new cS(h,e.WO),e.CB=h,e.jO=new T_(e.CB),e.jO.Zo(e.GB),e.zB=new fS(sn(e)),e.HB=new WT(e.jO,e.al,e.iN),e.PB=new nT(sn(e)),e.LB=new ET(e.jO,i.allowNativeFullscreen),e.OB=new RA(e.LB),e.BB.ua();var a=new ge(e.BB,e.nN,1,[D_.Vv]);return e.FB=new ye(a),e.VB=new _S,e}U(n,t);var i=n.prototype;return i.vO=function(t){this.jO.rw=t,t||this.sw||this.Vw()},i.IO=function(t){this.jO.cw=t},i.QB=function(){c_(this,IA,this)},i.Pw=function(){this.jO.Pw()},i.Ow=function(){this.jO.Ow()},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.XB.$D(n).catch(this.WB),e=CS(n),t.next=5,this.jO.Mw(e,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vw=function(){this.Aw||(this.jO.Vw(),this.FB.Vw(),this.Aw=!0)},i.WI=function(){return this.OB.IN()===AA.FULLSCREEN},i.Ww=function(){this.jO.Ww()},i.qw=function(){this.jO.qw()},i.Gw=function(){return this.jO.Gw()},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jO.Bw();case 2:return t.next=4,this.jO.Wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),this.VB.Zv(),this.al.Zv(),this.HB.Zv(),this.LB.Zv(),this.OB.Zv(),this.BB.Zv(),this.xB.Zv(),this.FB.Zv(),t.next=11,this.jO.Zv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"YB",get:function(){return this.iN}},{key:"Rw",get:function(){return this.MB},set:function(t){this.MB=t,this.jO.Rw=t}},{key:"ZB",get:function(){return this.FB}},{key:"Nw",get:function(){return this.jO.Nw}},{key:"JB",get:function(){return this.VB}},{key:"$B",get:function(){return this.BB}},{key:"xw",get:function(){return this.jO.xw}},{key:"gw",get:function(){return this.zB}},{key:"KB",get:function(){return this.HB}},{key:"Cw",get:function(){return this.jO.Cw}},{key:"tL",get:function(){return this.nN}},{key:"Dw",get:function(){return this.jO.Dw}},{key:"tg",get:function(){return this.jO.tg}},{key:"jB",get:function(){return this.DO}},{key:"WO",get:function(){return this.XO}},{key:"tw",get:function(){return this.jO.tw},set:function(t){this.jO.tw=t}},{key:"ng",get:function(){return this.jO.ng},set:function(t){this.jO.ng=t}},{key:"$w",get:function(){return this.jO.$w}},{key:"nw",get:function(){return this.jO.nw}},{key:"ig",get:function(){return this.jO.ig}},{key:"iw",get:function(){return this.jO.iw}},{key:"hh",get:function(){return this.jO.hh}},{key:"ew",get:function(){return this.jO.ew}},{key:"rw",get:function(){return this.jO.rw},set:function(t){var n=Boolean(t);this.vO(n)}},{key:"sw",get:function(){return this.jO.sw}},{key:"uw",get:function(){return this.jO.uw},set:function(t){this.jO.uw=t}},{key:"fg",get:function(){return this.jO.fg}},{key:"vg",get:function(){return this.jO.vg},set:function(t){this.jO.vg=Zk(t)}},{key:"g_",get:function(){return this.jO.g_}},{key:"dg",get:function(){return this.jO.dg}},{key:"ow",get:function(){return this.jO.ow}},{key:"e_",get:function(){return this.kg}},{key:"hw",get:function(){return this.jO.hw}},{key:"aw",get:function(){return this.jO.aw}},{key:"cw",get:function(){return this.jO.cw},set:function(t){var n=qt(Number(t),0,1)||0;this.IO(n)}}]),n}(_l);function CS(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.nL=0]="nL",t[t.iL=1]="iL"}(SS||(SS={})),function(t){t[t.eL=0]="eL"}(ES||(ES={}));var xS={};function PS(t,n){(xS[n]||(xS[n]=[])).push(t)}function OS(t,n){var i=t;if(xS[n])for(var e=0,r=xS[n];e<r.length;e++){i=(0,r[e])(i)}return i}var BS=[];function LS(t){BS.push(t)}var MS=t.CustomEvent;var US=function(){try{var t=new MS("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},FS=function(){function t(t,n){var i=this;this.QR=void 0,this.rL=void 0,this.sL=!1,this.uL=function(t){i.rL.zC(t.error,i.tw)},this.oL=function(){i.rL.FC(i.hL),i.QR.removeEventListener("playing",i.oL),i.sL=!1},this.aL=function(){i.sL||(i.QR.addEventListener("playing",i.oL),i.sL=!0)},this.rL=n,this.QR=t,this.QR.addEventListener("error",this.uL),this.QR.addEventListener("sourcechange",this.aL),this.aL()}return t.prototype.Wl=function(){},L(t,[{key:"tw",get:function(){var t=this.QR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"hL",get:function(){return this.QR.src||""}}]),t}();LS(function(t){new FS(t._l,t.xB)});var HS="theoplayer-stored-volume",VS="theoplayer-stored-mutedstate";PS(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=gS.rB(HS);(void 0===r||g(r))&&(r=1);var s=gS.sB(VS)||!1;e.cw=r,e.rw=s}return e}U(n,t);var i=n.prototype;return i.vO=function(n){this.ea.persistVolume&&gS.nc(VS,""+Boolean(n)),t.prototype.vO.call(this,n)},i.IO=function(n){this.ea.persistVolume&&gS.nc(HS,""+Number(n)),t.prototype.IO.call(this,n)},n}(t)},SS.iL);var zS=new(function(){function t(){this.cL=[],this.ll=void 0}var n=t.prototype;return n.Hl=function(t){return this.cL[t]},n.fL=function(t){this.cL.push(t),this._l.push(t._l)},n.Qh=function(t){var n=this.cL.indexOf(t);n<0||(ns(this.cL,n),this.ll&&ns(this.ll,n))},n.vL=function(t){for(var n=0,i=this.cL;n<i.length;n++){var e=i[n];if(e.e_===t)return e}},L(t,[{key:"Gl",get:function(){return this.cL.length}},{key:"_l",get:function(){return this.ll||(this.ll=function(t){for(var n=[],i=0;i<t.Gl;i++)n[i]=t.Hl(i)._l;return n.getPlayerByUID=function(n){var i=t.vL(n);return i&&i._l},n}(this)),this.ll}}]),t}()),XS=function(){function t(t){var n=this;this.dL=[],this.lL=void 0,this.Wd=new cs,this._L=void 0,this.Cn=function(){return 0===n.dL.length?n._L?WS(n._L,n.Wd.zo).then(n.wL,n.wL):n.wL():n.dL.shift()().then(n.Cn)},this.wL=function(){if(0!==n.dL.length)return n.Cn();n.lL=void 0},this._L=t}var n=t.prototype;return n.gL=function(t,n){var i=this;return new T(function(e){var r=new cs;r.Ho(i.Wd.zo),n&&r.Ho(n);var s=function(){r.Po()};i.dL.push(function(){var n=WS(t,r.zo);return e(n),n.then(s,s)}),i.lL||(i.lL=i.Cn())})},n.Fo=function(){return this.yL(!0)},n.Zv=function(){return this._L=void 0,this.yL(!1)},n.yL=function(t){var n=this.lL;return this.Wd.Fo(),t&&(this.Wd=new cs),T.resolve(n)},t}();function WS(t,n){return new T(function(i){return i(t(n))})}var qS,GS=function(t){function n(n){var i;return(i=t.call(this,Ko.Oc)||this).source=n,i}return U(n,t),n}(Ds),jS=function(t){function n(){var n;return(n=t.call(this)||this).jI=void 0,n.YI=void 0,n.JI=void 0,n.ZI=void 0,n.jI=0,n.YI=!0,n.JI=!1,n.ZI=1,n}U(n,t);var i=n.prototype;return i.Pw=function(){this.YI&&(this.YI=!1,this.jo(new Wl(this.tw)),this.jo(new nm(this.tw)))},i.Ow=function(){this.YI||(this.YI=!0,this.jo(new Jl(this.tw,this.ng)),this.jo(new Xl(this.tw)))},i.Wl=function(){this.jI=0,this.JI=!1,this.ZI=1,this.Ow(),this.jo(new zl(this.jI))},i.Zv=function(){this.Jo()},i.qw=function(){},i.Ww=function(){},L(n,[{key:"ng",get:function(){},set:function(t){}},{key:"tw",get:function(){return this.jI},set:function(t){this.JI&&this.jI===t||(this.jI=t,this.JI=!0,this.jo(new t_(this.tw)))}},{key:"sw",get:function(){return this.YI}},{key:"uw",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.jo(new Zl(this.tw,this.uw)))}},{key:"g_",get:function(){return Tl.z_}},{key:"ow",get:function(){return this.JI}}]),n}(ll),QS=function(t){function n(){return t.call(this,Ko.cc)||this}return U(n,t),n}(Ds),YS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},ZS={visibility:"hidden"},JS={visibility:"visible"},$S=function(){function t(t){var n,i=this;this.XR=void 0,this.QR=void 0,this.mL=!1,this.pL=void 0,this.kL=void 0,this.AL=function(t){var n;i.mL=!1,i.pL=null==(n=t.source)?void 0:n.poster,i.Yh()},this.wT=function(){i.mL=!0,i.qw()},this.QR=t,this.$R(),this.XR=((n=pe&&pe.document&&pe.document.createElement("div")).className="theoplayer-poster",Ne(YS,n),n),t.ig.appendChild(this.XR)}var n=t.prototype;return n.Yh=function(){var t=this.QR.sw,n=this.mL;this.Ev?this.XR.style.backgroundImage='url("'+this.Ev.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.XR.style.backgroundImage="",t&&this.Ev&&!n?this.Ww():this.qw()},n.Ww=function(){Ne(ZS,this.QR.ig),Ne(JS,this.XR)},n.qw=function(){Ne(ZS,this.XR),Ne(JS,this.QR.ig)},n.$R=function(){this.QR.Qo("sourcechange",this.AL),this.QR.Qo("play",this.wT)},n.Zv=function(){this.QR.$o("sourcechange",this.AL),this.QR.$o("play",this.wT),Ee(this.XR)},L(t,[{key:"Ev",get:function(){return void 0!==this.pL?this.pL:void 0!==this.kL?this.kL:void 0}},{key:"bL",set:function(t){this.kL=t,this.Yh()}}]),t}();function KS(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).QR=void 0,r.TL=void 0,r.SL=void 0,r.EL=void 0,r.RL=void 0,r.IL=void 0,r.NL=void 0,r.DL=void 0,r.JR=void 0,r.ZR=void 0,r.ll=void 0,r.CL=function(t){t.type!==Ko.Tc&&r.DL.push(t)},r.TL=new t(i,e),r.SL=new jS,r.QR=r.TL,r.EL=new $S(sn(r)),r.IL=new XS,r.NL=!1,r.DL=[],r.JR=!0,r.ZR=void 0,r.$R(),r}U(i,n);var e=i.prototype;return e.gL=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.IL.gL(n,i).catch(_s));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.xL=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(i),this.TL.Zo(this.CL),t.next=4,this.TL.Mw(n,i);case 4:this.TL.nh(this.CL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.PL=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Lw())&&!KA(n)&&this.Rw&&this.sw){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.ea.mutedAutoplay,t.next=6,this.ZB.OL();case 6:e=t.sent,t.t0=e,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.BL(),t.abrupt("break",14);case 12:return(this.rw||i===ql.ALL)&&(this.rw=!0,this.Pw()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Mw=function(t){var n=this,i=this.ZR;i&&!KA(i)&&this.jo(new zl(0,0)),this.Wl(),this.ZR=t,ks(this.gL(function(){var i=T.coroutine(tr.mark(function i(e){return tr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return ds(e),i.prev=1,i.next=4,n.xL(t,e);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.ZR=void 0,i.t0;case 10:return i.next=12,n.LL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},e.LL=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ML(this.TL),this.jo(new GS(this.Lw())),t.next=4,this.PL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.rO=function(t){this.QR.tw=t},e.hO=function(){return this.TL.hh},e.aO=function(){return this.TL.ew},e.Pw=function(){this.QR.Pw()},e.BL=function(){this.rw||this.Vw(),this.Pw()},e.Vw=function(){this.TL.Vw()},e.Ow=function(){this.QR.Ow()},e.Bw=function(){this.Mw(void 0)},e.Ww=function(){this.JR=!0,this.QR.Ww()},e.qw=function(){this.JR=!1,this.QR.qw()},e.QB=function(){this.TL.QB()},e.IO=function(t){this.TL.IO(t)},e.vO=function(t){this.TL.vO(t)},e.UL=function(t){this.RL=t,t.fL(this)},e.WI=function(){return this.TL.WI()},e.Lw=function(){return this.ZR},e.Gw=function(){return this.TL.Gw()},e.eO=function(){return this.TL.tw},e.sO=function(){return this.TL.nw},e.KP=function(){return this.TL.tg},e.gO=function(){return this.TL.fg},e.kO=function(){return this.TL.dg},e.Wl=function(){var t=this;this.ZR=void 0,es(this.DL),this.SL.Wl(),this.ML(this.SL),this.IL.Fo(),ks(this.IL.gL(function(){var n=T.coroutine(tr.mark(function n(i){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ds(i),n.next=3,t.TL.Wl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},e.Zv=function(){var t=this;this.jo(new QS),this.EL.Zv(),this.KR(),this.Wl(),ks(this.gL(T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.TL.Zv();case 2:t.RL&&(t.RL.Qh(t),t.RL=void 0),t.IL.Zv();case 4:case"end":return n.stop()}},n)})))),this.Jo()},e.ML=function(t){if(this.QR!==t){var n=this.QR.sw,i=this.QR.tw,e=this.QR.uw,r=this.QR.ow;this.KR(),t===this.TL?((r||t.tw!==i)&&(t.tw=i),t.uw!==e&&(t.uw=e),n?t.Ow():t.Pw()):this.ea.retainPlaybackRateOnSourceChange?t.uw=e:1!==e&&this.jo(new Zl(this.eO(),1)),this.QR=t,this.$R();for(var s=0,u=this.DL;s<u.length;s++){var o=u[s];this.jo(o)}es(this.DL),this.JR?t.Ww():t.qw()}},e.$R=function(){this.QR.Zo(this.Go)},e.KR=function(){this.QR.nh(this.Go)},e.wl=function(){return t=this,e=function(n){i=n;var e=cb(n,t.ea);t.Mw(e)},r={get abr(){return t.YB._l},get audioTracks(){return t.Nw._l},get autoplay(){return t.Rw},set autoplay(n){t.Rw=Boolean(n)},get buffered(){return t.KP()},get canvas(){return t.PB._l},get clip(){return t.jB._l},get currentProgramDateTime(){var n;return null!=(n=t.ng)?n:null},set currentProgramDateTime(n){t.ng=null!=n?n:void 0},get currentTime(){return t.eO()},set currentTime(n){t.rO(Number(n))},get duration(){return t.sO()},get element(){return t.ig},get ended(){return t.iw},get error(){return t.hO()},get errorObject(){return t.aO()},get loop(){return t.WO.WO},set loop(n){t.WO.WO=Boolean(n)},get metrics(){return t.gw._l},get muted(){return t.rw},set muted(n){t.vO(n)},get network(){return t.KB._l},get paused(){return t.sw},get playbackRate(){return t.uw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.uw=i},get played(){return t.gO()},get poster(){return t.FL},set poster(n){t.FL=Yd(n)},get preload(){return t.vg},set preload(n){t.vg=n},get presentation(){return t.OB._l},get readyState(){return t.g_},get seekable(){return t.kO()},get seeking(){return t.ow},get source(){return i},set source(t){e(t)},get src(){return tb(t.Lw())},set src(t){e({sources:t})},get textTracks(){return t.Cw._l},get textTrackStyle(){return t.tL._l},get uid(){return t.e_},get videoHeight(){return t.hw},get videoTracks(){return t.Dw._l},get videoWidth(){return t.aw},get volume(){return t.cw},set volume(n){t.IO(Number(n))},destroy:function(){t.Zv(),t=null,i=void 0},play:function(){t.BL()},pause:function(){t.Ow()},stop:function(){i=void 0,t.Bw()},prepareWithUserAction:function(){t.Vw()},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)},setSource:function(t){e(t)}},(n=new SA(r,!0)).lN(t),r;var t,n,i,e,r},L(i,[{key:"xB",get:function(){return this.TL.xB}},{key:"PB",get:function(){return this.TL.PB}},{key:"ea",get:function(){return this.TL.ea}},{key:"CB",get:function(){return this.TL.CB}},{key:"al",get:function(){return this.TL.al}},{key:"fR",get:function(){return this.TL.LB}},{key:"OB",get:function(){return this.TL.OB}},{key:"BB",get:function(){return this.TL.BB}},{key:"jO",get:function(){return this.TL.jO}},{key:"YB",get:function(){return this.TL.YB}},{key:"Rw",get:function(){return this.TL.Rw},set:function(t){this.TL.Rw=t,this.PL()}},{key:"ZB",get:function(){return this.TL.ZB}},{key:"Nw",get:function(){return this.TL.Nw}},{key:"JB",get:function(){return this.TL.JB}},{key:"$B",get:function(){return this.TL.BB}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"xw",get:function(){return this.TL.xw}},{key:"gw",get:function(){return this.TL.gw}},{key:"KB",get:function(){return this.TL.KB}},{key:"Cw",get:function(){return this.TL.Cw}},{key:"tL",get:function(){return this.TL.tL}},{key:"Dw",get:function(){return this.TL.Dw}},{key:"jB",get:function(){return this.TL.jB}},{key:"WO",get:function(){return this.TL.WO}},{key:"ng",get:function(){return this.QR.ng},set:function(t){this.QR.ng=t}},{key:"$w",get:function(){return this.TL.$w}},{key:"ig",get:function(){return this.TL.ig}},{key:"iw",get:function(){return this.TL.iw}},{key:"rw",get:function(){return this.TL.rw},set:function(t){this.TL.rw=t}},{key:"sw",get:function(){return this.QR.sw}},{key:"FL",get:function(){return this.EL.Ev||""},set:function(t){this.EL.bL=t}},{key:"uw",get:function(){return this.TL.uw},set:function(t){this.QR.uw=t}},{key:"vg",get:function(){return this.TL.vg},set:function(t){this.TL.vg=Zk(t)}},{key:"g_",get:function(){return this.QR.g_}},{key:"ow",get:function(){return this.QR.ow}},{key:"e_",get:function(){return this.TL.e_}},{key:"hw",get:function(){return this.TL.hw}},{key:"aw",get:function(){return this.TL.aw}},{key:"cw",get:function(){return this.TL.cw},set:function(t){this.TL.cw=t}}]),i}(_l)}function tE(t,n){var i=h_(n),e=new(qS||(qS=OS(qS=KS(DS),SS.nL),qS=OS(qS,SS.iL)),qS)(t,i),r=e._l;return e.QB(),e.UL(zS),d.defineProperty(r,"constructor",{value:tE}),r=Fd(r),function(t){for(var n=0;n<BS.length;n++)(0,BS[n])(t)}(e),r}ps(function(){t.dispatchEvent&&t.dispatchEvent(US("theoplayerready"))});var nE,iE={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return js(t)},n.decode=function(t){return qs(t)},t}())},eE=zS._l,rE=xm.aS.registerContentProtectionIntegration.bind(xm.aS),sE=(Ko.Ac,Ko.kc,Vl.K_,Ko.Bc,Ko.bc,Ko.wc,Ko.Ic,Ko.Rc,Ko.dc,Ko.Tc,Ko.Lc,Ko.fc,Vl.Dl,Ko.Ec,sl.v_,Rs.ah,Rs.vh,Ko.hc,Ko.oc,Ko.Mc,{HL:!1,VL:50}),uE=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.mD="zL"}(nE||(nE={}));var oE,hE=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Na=void 0,s.EE=void 0,s.Va=void 0,s.XL=!1,s.WL=new $u,s.qL=!1,s.IL=new XS,s.GL=void 0,s.po=void 0,s.na=void 0,s.jL=function(){s.qL=!0},s.QL=function(){s.YL(!0)},s.Na=n,s.EE=i,s.Va=i.$E,s.GL=e,s.po=r,s.Va.addEventListener("loadedmetadata",s.jL);for(var u=0;u<uE.length;u++){var o=uE[u];s.Va.addEventListener(o,s.QL)}return s}U(i,t);var e=i.prototype;return e.ZL=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.po.bo(n.lo,i);case 2:return e=t.sent,t.next=5,e.ca();case 5:return r=t.sent,t.next=8,this.JL(r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.$L=function(t){var n=this.na;return n?0!==t.iR.length&&t.iR.some(function(t){return t.ia.lo===n.ia}):0===t.iR.length||!this.qL},e.KL=function(t){return this.GL.KL(t),this.Na=t,T.resolve()},e.Po=function(){var t=T.coroutine(tr.mark(function t(){var n,i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Jo(),this.Va.removeEventListener("loadedmetadata",this.jL),n=0;n<uE.length;n++)i=uE[n],this.Va.removeEventListener(i,this.QL);return t.next=5,this.IL.Zv();case 5:return t.next=7,this.tM();case 7:return t.next=9,this.GL.Wl();case 9:return t.next=11,this.JL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.YL=function(t){t!==this.XL&&(this.XL=t,t?this.WL.Ch(void 0):this.WL=new $u)},e.JL=function(t){var n=this;return this.IL.gL(function(){return n.nM(t)})},e.nM=function(){var t=T.coroutine(tr.mark(function t(i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Va.src){t.next=4;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Va.src){t.next=6;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.XL){t.next=9;break}return t.next=9,this.WL.Dh;case 9:if(!(e=this.na)){t.next=14;break}return t.next=13,e.oa(this.Va);case 13:this.na=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.ua(this.Va);case 17:this.na=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Mw=function(t){var n=this;return this.IL.gL(function(){return n.iM(t)})},e.iM=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.YL(!1),i=this.EE.uw,this.Va.src=n,this.EE.uw=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.jh=function(){var t=this;return this.IL.gL(function(){return t.Gd()})},e.Gd=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Va.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.tM=function(){var t=this;return this.IL.gL(function(){return t.eM()})},e.eM=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.YL(!1),Pe(this.Va);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"Nw",get:function(){throw new f("Not implemented")}},{key:"ea",get:function(){return this.Na}},{key:"$E",get:function(){return this.Va}},{key:"Dw",get:function(){throw new f("Not implemented")}}]),i}(Is),aE=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.WP=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.ea,t.t0=n.rR,t.next=t.t0===pl.U_?4:t.t0===pl.F_?4:(t.t0,pl.M_,6);break;case 4:return this.Va.setAttribute("crossorigin",n.rR),t.abrupt("break",8);case 6:return this.Va.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.vg?this.Va.preload=n.vg:this.Va.preload=Qk.hE,void 0!==n.sR?this.Va.title=n.sR:Ce(this.Va),t.next=12,this.Mw(n.p_);case 12:this.GL.jh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$L=function(t){return!1},i.KL=function(t){return T.resolve(void 0)},i.Po=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce(this.Va),n.next=3,t.prototype.Po.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.rM=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.ov))},L(n,[{key:"tg",get:function(){return iA.FI(this.Va.buffered)}},{key:"nw",get:function(){return this.Va.duration}},{key:"sM",get:function(){var t=this.nw;if(!isFinite(t))return!1;var n=this.tg;return 0!==n.Gl&&t-n.uI(n.Gl-1)<1/6}},{key:"vg",get:function(){return this.Va.preload},set:function(t){this.Va.preload=t}},{key:"dg",get:function(){return iA.FI(this.Va.seekable)}},{key:"uM",get:function(){return this.tg}},{key:"oM",get:function(){if(xe(this.Va)&&(this.Va.videoWidth>0||this.Va.videoHeight>0))return this.tg}}]),n}(hE),cE=function(t){function n(n){var i;return(i=t.call(this,Ko.bc)||this).currentTime=n,i}return U(n,t),n}(Ds),fE=function(t){function n(){return t.call(this,Ko.wc)||this}return U(n,t),n}(Ds);!function(t){t.hM="aM"}(oE||(oE={}));var vE,dE;oE.hM;!function(t){t[t.cM=0]="cM",t[t.zc=1]="zc",t[t.fM=2]="fM"}(vE||(vE={})),function(t){t.vM="dM"}(dE||(dE={}));var lE=function(t){function n(n){var i;return(i=t.call(this,dE.vM)||this).lM=n,i}return U(n,t),n}(Ds),_E=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this)._M=iA.zI(),n}U(n,t);var i=n.prototype;return i.wM=function(t,n){var i=new iA([t,n]);this._M=this._M.bI(i),this.jo(new lE(i))},i.gM=function(t,n){this._M=this._M.SI(new iA([t,n]))},i.Wl=function(){this._M=iA.zI()},i.Zv=function(){this.Jo()},L(n,[{key:"yM",get:function(){return this._M}}]),n}(Is);function wE(t,n){return void 0===n&&(n=new Qc({highWaterMark:1/0})),new Fc(new gE(t,n),{highWaterMark:0})}var gE=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Kc=void 0,this.mM=void 0,this.pM=void 0,this.Hn=[],this.cf=0,this.yB=void 0,this.kM=!1,this.AM=void 0,this.bM=function(t){return t.done?(i.Xn(),void i.yB.close()):(i.Hn.push(t.value),i.cf+=i.mM(t.value),i.kM&&i.Xn(),i.TM()?i.Kc.read().then(i.bM):void 0)},this.xd=function(t){i.Xn(),i.yB.error(t)},this.Kc=t.getReader(),this.mM=r,this.pM=u}var n=t.prototype;return n.start=function(t){this.yB=t,this.TM()&&this.SM()},n.pull=function(){this.Hn.length>0?this.Xn():this.kM=!0,this.TM()&&this.SM()},n.cancel=function(t){return es(this.Hn),this.cf=0,this.kM=!1,this.Kc.cancel(t)},n.Xn=function(){if(0!==this.Hn.length){var t=this.Hn;this.Hn=[],this.cf=0,this.kM=!1,this.yB.enqueue(t)}},n.TM=function(){return!!this.kM||this.pM-this.cf>0},n.SM=function(){var t=this;if(!this.AM){var n=this.Kc.read().then(this.bM).catch(this.xd);this.AM=n;var i=function(){t.AM===n&&(t.AM=void 0)};n.then(i,i)}},t}(),yE=function(t,n){return(yE=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function mE(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}yE(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function pE(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.EM=t,this.RM=n}t.prototype.get=function(t){var n=this.EM.get(t);if(0===this.RM||void 0===n)return n;var i=this.EM.get(t+1)||0,e=n&(1<<8-this.RM)-1,r=i>>8-this.RM;return(e<<this.RM)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.EM.get(l.floor((t+this.RM)/8));if(void 0!==n)return(n&1<<7-this.RM-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.EM.bitLength-this.RM},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.EM.length},enumerable:!1,configurable:!0})}();function kE(t,n,i){return l.min(l.max(t,n),i)}function AE(t,n){return t>>8-n}function bE(t,n){return t&(1<<n)-1}var TE=function(){function t(t){this.IM=t,this.NM=0,this.DM=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.NM+this.DM},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.NM===this.IM.length&&0===this.DM},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.NM,bit:this.DM}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.IM);return n.seek(this.NM,this.DM),n},t.prototype.canReadBits=function(t){return 8*this.NM+t+this.DM<=8*this.IM.length},t.prototype.canReadBytes=function(t){return 0===this.DM?this.NM+t<=this.IM.length:this.NM+t<this.IM.length},t.prototype.incBit=function(){this.DM++,this.DM>7&&(this.NM++,this.DM=0)},t.prototype.seek=function(t,n){this.NM=t,this.DM=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new f("Cannot read past end of buffer.");return this.IM.get(this.NM)>>7-this.DM&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new f("Cannot read past end of buffer.");if(0===this.DM)return this.IM.get(this.NM++);var t=bE(this.IM.get(this.NM),8-this.DM),n=AE(this.IM.get(this.NM+1),this.DM);return this.NM++,t<<this.DM|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=0;if(0===this.DM&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new f("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new f("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-l.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new f("Skipping over the buffer edge is not allowed.");var n=this.DM+t;this.NM+=n>>3,this.DM=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new f("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),SE=function(t,n){return t===n?0:t<n?-1:t>n?1:g(t)?g(n)?0:1:-1},EE=function(){function t(){this.CM=[],this.xM=[],this.Dt=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new f("The buffer length must be positive.");if(0!==i){if(0===this.xM.length)this.xM.push(0);else{var e=this.xM[this.xM.length-1]+this.CM[this.CM.length-1].length;this.xM.push(e)}this.CM.push(t.subarray(n,n+i)),this.Dt+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.CM;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.CM=[],this.xM=[],this.Dt=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.xM[n];return this.CM[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.CM.length<1)return-1;if(this.CM.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.CM[0];return"number"==typeof t?pE(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=pE(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=l.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.xM,t,SE)},t.prototype.join=function(){if(1===this.CM.length)return this.CM[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Dt},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new f("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new f("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*l.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=kE(n,0,this.length),r=kE(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.CM[u],h=e,a=h-this.xM[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.xM[u],o=this.CM[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.CM.length-1,e=this.CM[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.CM[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),RE=function(){function t(n){this.PM=n||t.BUFFER_CHUNK_SIZE,this.Ma=!1,this.OM=new EE,this.IM=new y(this.PM),this.BM=0,this.LM=0,this.DM=7}return t.prototype.closeByte=function(){this.IM[this.BM++]=this.LM,this.BM>=this.PM&&this.closeBuffer(),this.LM=0,this.DM=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.BM&&(this.OM.pushRange(this.IM,0,this.BM),t&&(this.IM=new y(this.PM)),this.BM=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.DM},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Ma)throw new f("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Ma=!0,this.OM},t.prototype.writeBit=function(t){if(this.Ma)throw new f("Cannot write to a closed BitWriter.");this.LM|=t<<this.DM,0===this.DM?this.closeByte():this.DM--},t.prototype.writeByte=function(t){if(this.Ma)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.LM=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.DM;this.LM|=AE(t,n+1),this.closeByte(),this.LM=bE(t,8-n)<<n+1,this.DM=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Ma)throw new f("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.BM+t.length<=this.PM?(this.IM.set(t,this.BM),this.BM+=t.length,this.BM===this.PM&&this.closeBuffer()):(this.closeBuffer(),this.OM.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.DM;this.LM|=AE(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=bE(t[i-1],8-n),r=AE(t[i],n+1);this.LM=e<<n+1|r,this.closeByte()}this.LM=bE(t[t.length-1],8-n)<<n+1,this.DM=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new f("Received a negative number.");if(n>32)throw new f("The max bitlength that can be provided is 32.");if(t>=l.pow(2,n))throw new f("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new f("The max bitlength that can be provided is 32.");if(l.abs(t)>=l.pow(2,n-1))throw new f("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+l.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new f("Received a negative number.");for(var n=l.floor(l.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),IE=function(){function t(t){this.rb=new EE,this.ff=t}return t.prototype.closeWriter=function(){void 0!==this.ff&&(this.rb=this.rb.concat(this.ff.close()),this.ff=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ff&&(this.ff=new RE),this.ff},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),NE=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new f("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(l.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new IE;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=l.pow(2,32),t}();function DE(t,n){return t instanceof yt?64===n:t<l.pow(2,n)}function CE(t,n){return l.round(t*l.pow(2,n))}function xE(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function PE(t,n){return t/l.pow(2,n)}var OE=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!DE(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return mE(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.MM},set:function(t){this.MM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(NE),BE=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return mE(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(EE.from(this.data))},n}(NE),LE=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function ME(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=UE)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=UE)i.push(String.fromCharCode.apply(String,t.slice(e,e+UE)));return i.join("")}(n)}var UE=16384;var FE=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function HE(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function VE(t,n,i){return n.offset+i<=t.byteLength}function zE(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function XE(t,n,i){void 0===i&&(i=!1);var e=zE(t,n,i),r=zE(t,n,i),s=i?r:e,u=i?e:r;return yt.fromBits(u,s,!0)}function WE(t,n){var i=HE(t,n);if(i)return String.fromCharCode(i)}function qE(t,n,i){for(var e="",r=0;r<i;r++)e+=WE(t,n);return e}function GE(t,n){var i,e=HE(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&HE(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&HE(t,n))+(63&HE(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&HE(t,n))+64*(63&HE(t,n))+(63&HE(t,n))),i}function jE(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=GE(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return ME(e)}(t,n,!0)}function QE(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function YE(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var ZE=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new LE(this.offset<<3)},t}(),JE=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return HE(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return zE(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=zE(t,n,i),r=zE(t,n,i),s=i?r:e,u=i?e:r;return yt.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return XE(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=QE(YE(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(zE(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return qE(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return jE(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function $E(t,n){return t.type===n}var KE=8;function tR(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=nR(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new f("Data incomplete");return n.boxes}function nR(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!VE(t,n,KE)){var e=n.offset+KE;return{complete:!1,neededOffset:e}}var r=zE(t,n),s=qE(t,n,4);if(1===r){if(!VE(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=XE(t,n).toNumber()}if("uuid"===s){if(!VE(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=qE(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new JE((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new ZE(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function iR(t){return{version:t>>24,flags:new FE(16777215&t)}}function eR(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function rR(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function sR(t){var n=t.nextUint32Array(9);return{a:PE(n[0],16),b:PE(n[1],16),u:PE(n[2],30),c:PE(n[3],16),d:PE(n[4],16),v:PE(n[5],30),x:PE(n[6],16),y:PE(n[7],16),w:PE(n[8],30)}}function uR(t){return new BE(t.type,QE(YE(t.data.data),t.data.cursor.offset))}var oR=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return mE(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.UM},set:function(t){this.UM=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(OE);function hR(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new oR(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}mE(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(oR);var aR=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.FM},set:function(t){if(!DE(t,8))throw new f("Provided tag does not fit in 8 bits.");this.FM=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),cR=(function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}mE(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.HM},set:function(t){if(!DE(t,8))throw new f("Provided objectTypeIndication does not fit in 8 bits.");this.HM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.VM},set:function(t){if(!DE(t,6))throw new f("Provided streamType does not fit in 6 bits.");this.VM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.zM},set:function(t){if(!DE(t,24))throw new f("Provided bufferSizeDb does not fit in 24 bits.");this.zM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.XM},set:function(t){if(!DE(t,32))throw new f("Provided maxBitrate does not fit in 32 bits.");this.XM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.WM},set:function(t){if(!DE(t,32))throw new f("Provided avgBitrate does not fit in 32 bits.");this.WM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(aR),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}mE(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(EE.from(this.data))}}(aR),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return mE(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(aR)),fR=(function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new cR(r.fixed28BitMode),s}mE(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.qM},set:function(t){if(!DE(t,16))throw new f("Provided esId does not fit in 16 bits.");this.qM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.GM},set:function(t){if(!DE(t,5))throw new f("Provided streamPriority does not fit in 5 bits.");this.GM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.jM},set:function(t){if(t&&!DE(t,16))throw new f("Provided dependsOnEsId does not fit in 16 bits.");this.jM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.QM},set:function(t){if(t&&!DE(t,16))throw new f("Provided ocrEsId does not fit in 16 bits.");this.QM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(aR),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return mE(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(NE)),vR=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return mE(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(fR),dR=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return mE(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.YM},set:function(t){if(!DE(t,16))throw new f("Provided dataReferenceIndex does not fit in 16 bits.");this.YM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(vR),lR=function(t){function n(n,i,e,r){var s,u,o=t.call(this,n,i)||this;return o.extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return mE(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.ZM},set:function(t){if(!DE(t,16))throw new f("Provided channelCount does not fit in 16 bits.");this.ZM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.JM},set:function(t){if(!DE(t,16))throw new f("Provided sampleSize does not fit in 16 bits.");this.JM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.$M},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.$M=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(CE(this.sampleRate,16),32),this.extra&&xE(n.writer,this.extra)},n}(dR),_R=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}mE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!DE(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(OE),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}mE(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.tU},set:function(t){if(!DE(t,32))throw new f("Provided cleanApertureWidthN does not fit in 32 bits.");this.tU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.nU},set:function(t){if(!DE(t,32))throw new f("Provided cleanApertureWidthD does not fit in 32 bits.");this.nU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.iU},set:function(t){if(!DE(t,32))throw new f("Provided cleanApertureHeightN does not fit in 32 bits.");this.iU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.eU},set:function(t){if(!DE(t,32))throw new f("Provided cleanApertureHeightD does not fit in 32 bits.");this.eU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.rU},set:function(t){if(!DE(t,32))throw new f("Provided horizOffN does not fit in 32 bits.");this.rU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.sU},set:function(t){if(!DE(t,32))throw new f("Provided horizOffD does not fit in 32 bits.");this.sU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.uU},set:function(t){if(!DE(t,32))throw new f("Provided vertOffN does not fit in 32 bits.");this.uU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.oU},set:function(t){if(!DE(t,32))throw new f("Provided vertOffD does not fit in 32 bits.");this.oU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(NE),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}mE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!DE(t.sampleCount,32)||!DE(t.sampleOffset,32)}))throw new f("Not all entries can be represented in 64 bits.");this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(OE),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}mE(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.JD},set:function(t){this.flags=void 0===t?1:0,this.JD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(OE),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}mE(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.JD},set:function(t){if(1&this.flags)throw new f("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.JD=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(OE),function(t){function n(){return t.call(this,"dinf")||this}mE(n,t)}(vR),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!DE(i,8))throw new f("the provided version cannot fit in 8 bits.");return r.flags=e,r}return mE(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.MM},set:function(t){this.MM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new f("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(fR)),wR=(function(t){function n(){return t.call(this,"dref",0,0)||this}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(_R),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!DE(e.segmentDuration,this.bitSize))throw new f("SegmentDuration of one of the entries does not fit in "+this.bitSize+" bits.");if(!DE(e.mediaTime,this.bitSize))throw new f("MediaTime of one of the entries does not fit in "+this.bitSize+" bits.");if(!DE(e.mediaRateInteger,16))throw new f("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!DE(e.mediaRateFraction,16))throw new f("Provided mediaRateFraction does not fit in 16 bits.")}this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(OE)),gR=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return mE(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(wR),yR=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return mE(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(wR);function mR(t){for(var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new gR(u,r.raw):new yR(u,r.raw)}var pR=function(t){function n(){return t.call(this,"edts")||this}return mE(n,t),n}(vR);function kR(t){for(var n=new pR,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"elst")?n.boxes.push(mR(r)):n.boxes.push(uR(r))}return n}var AR=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return mE(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.hU},set:function(t){if(4!==t.length)throw new f("the provided major brand does not conform to the 4 character requirement");this.hU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.aU},set:function(t){if(!DE(t,32))throw new f("the provided minor version does not fit in 32 bits.");this.aU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.cU},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new f("Some of the compatible brands do not conform to the 4 character requirement");this.cU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(NE),bR=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}mE(n,t)}(AR),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}mE(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(EE.from(this.data))}}(NE),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return mE(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.fU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.fU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.vU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.vU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.dU},set:function(t){if(!DE(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.lU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.lU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this._U},set:function(t){if(!RR(t))throw new f("Expected an ISO-639-2/T language code");this._U=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(OE)),TR=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return mE(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(bR),SR=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return mE(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(bR);function ER(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags,s=eR(n,e),u=new TE(EE.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return RR(a)||(a="und"),n.skip(2),0===e?new TR(s,a,r.raw):new SR(s,a,r.raw)}function RR(t){return/^[a-z]{3}$/.test(t)}var IR=function(t){function n(){return t.call(this,"mdia")||this}return mE(n,t),n}(vR);function NR(t){for(var n=new IR,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"mdhd")?n.boxes.push(ER(r)):$E(r,"hdlr")?n.boxes.push(hR(r)):n.boxes.push(uR(r))}return n}var DR;(function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new EE,n}mE(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}})(NE),function(t){function n(){return t.call(this,"minf")||this}mE(n,t)}(vR),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(_R);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(DR||(DR={}));var CR,xR,PR={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function OR(t,n){n.writer.writeUInt(CE(t.a,16),32),n.writer.writeUInt(CE(t.b,16),32),n.writer.writeUInt(CE(0,30),32),n.writer.writeUInt(CE(t.c,16),32),n.writer.writeUInt(CE(t.d,16),32),n.writer.writeUInt(CE(0,30),32),n.writer.writeUInt(CE(t.x,16),32),n.writer.writeUInt(CE(t.y,16),32),n.writer.writeUInt(CE(1,30),32)}function BR(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:CR.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:xR.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:xR.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:xR.UNKNOWN,2)}function LR(t,n){var i,e,r;n.writer.writeUInt(0,4),BR(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(CR||(CR={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(xR||(xR={}));var MR=function(){return function(){}}(),UR=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.wU},set:function(t){if(!DE(t,this.bitSize))throw new f("The provided fragmentDuration does not fit in "+this.bitSize+" bits.");this.wU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(OE),FR=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return mE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(UR),HR=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return mE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(UR);function VR(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new FR(n.nextUint32(),r.raw):new HR(n.nextUint64(),r.raw)}var zR=function(t){function n(n,i,e,r){var s,u,o;void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var h=t.call(this,"trex",e,r)||this;return h.trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return mE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.gU},set:function(t){if(!DE(t,32))throw new f("Provided track id does not fit in 32 bits.");this.gU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.yU},set:function(t){if(!DE(t,32))throw new f("Provided default sample description index does not fit in 32 bits.");this.yU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.mU},set:function(t){if(!DE(t,32))throw new f("Provided default sample duration does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.pU},set:function(t){if(!DE(t,32))throw new f("Provided default sample size does not fit in 32 bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.kU},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!DE(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!DE(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.kU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),LR(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(OE);function XR(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=rR(new TE(EE.from(n.nextUint8Array(4))));return new zR(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var WR=function(t){function n(){return t.call(this,"mvex")||this}return mE(n,t),n}(vR);function qR(t){for(var n=new WR,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"mehd")?n.boxes.push(VR(r)):$E(r,"trex")?n.boxes.push(XR(r)):n.boxes.push(uR(r))}return n}var GR=function(t){function n(i,e,r,s,u){var o,h,a;void 0===u&&(u=0);var c=t.call(this,"mvhd",s,u)||this;return c.creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:PR,c.AU=e,c}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.fU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.fU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.vU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.vU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.dU},set:function(t){if(!DE(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.lU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.lU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.bU},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided rate does not fit in 32 bits (fixed 16.16).");this.bU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.$I},set:function(t){if(!DE(CE(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.$I=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.TU},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.TU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.AU},set:function(t){if(0===t)throw new f("NextTrackId cannot be 0.");if(!DE(t,32))throw new f("NextTrackId cannot exceed 32 bits.");this.AU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(CE(this.rate,16),32),n.writer.writeUInt(CE(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),OR(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(OE),jR=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return mE(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(GR),QR=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return mE(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(GR);function YR(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags,s=eR(n,e),u=PE(n.nextUint32(),16),o=PE(n.nextUint16(),8);n.skip(2),n.skip(8);var h=sR(n);n.skip(24);var a=n.nextUint32();return 0===e?new jR(s,a,{rate:u,volume:o,matrix:h},r.raw):new QR(s,a,{rate:u,volume:o,matrix:h},r.raw)}var ZR=function(t){function n(n,i,e,r,s,u,o){var h,a,c;void 0===o&&(o={});var f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this;return f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:PR,f}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.fU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.fU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.vU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.vU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.gU},set:function(t){if(0===t)throw new f("trackId cannot be 0.");if(!DE(t,32))throw new f("trackId cannot exceed 32 bits.");this.gU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.lU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided sequence number does not fit in "+this.bitSize+" bits.");this.lU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.$I},set:function(t){if(!DE(CE(t,8),16))throw new f("Provided volume does not fit in 16 bits (fixed 8.8).");this.$I=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.SU},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided width does not fit in 32 bits (fixed 16.16).");this.SU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.EU},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided height does not fit in 32 bits (fixed 16.16).");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.RU},set:function(t){if(!DE(t,16))throw new f("Provided layer does not fit in 16 bits.");this.RU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.IU},set:function(t){if(!DE(t,16))throw new f("Provided alternateGroup does not fit in 16 bits.");this.IU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.TU},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new f("(u, v, w) does not match the required (0, 0, 1)");this.TU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(CE(this.volume,8),16),n.writer.writeUInt(0,16),OR(this.matrix,n),n.writer.writeUInt(CE(this.width,16),32),n.writer.writeUInt(CE(this.height,16),32)},n}(OE),JR=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return mE(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(ZR),$R=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return mE(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ZR);function KR(t){var n,i,e,r,s=t.data,u=iR(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=PE(s.nextInt16(),8);s.skip(2);var w=sR(s),g=PE(s.nextUint32(),16),y=PE(s.nextUint32(),16);return 0===o?new JR({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new $R({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var tI=function(t){function n(){return t.call(this,"trak")||this}return mE(n,t),n}(vR);function nI(t){for(var n=new tI,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"tkhd")?n.boxes.push(KR(r)):$E(r,"mdia")?n.boxes.push(NR(r)):$E(r,"edts")?n.boxes.push(kR(r)):n.boxes.push(uR(r))}return n}var iI=function(t){function n(){return t.call(this,"moov")||this}return mE(n,t),n}(vR);var eI=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.NU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided baseMediaDecodeTime does not fit in "+this.bitSize+" bits.");this.NU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(OE),rI=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return mE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(eI),sI=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return mE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(eI);function uI(t){var n=t.data,i=iR(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new rI(n.nextUint32(),r.raw):new sI(n.nextUint64(),r.raw)}var oI=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return mE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.gU},set:function(t){if(!DE(t,32))throw new f("Provided track id does not fit in 32 bits.");this.gU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.DU},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new f("The base data offset present flag is not set.");if(t&&!DE(t,64))throw new f("Provided baseDataOffset does not fit in 32 bits.");this.DU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.CU},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new f("The sample description index flag is not set.");if(t&&!DE(t,32))throw new f("Provided sampleDescriptionIndex does not fit in 32 bits.");this.CU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.mU},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new f("The default sample duration present flag is not set.");if(t&&!DE(t,32))throw new f("Provided defaultSampleDuration does not fit in 32 bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.pU},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new f("The default sample size present flag is not set.");if(t&&!DE(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.kU},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new f("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!DE(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!DE(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.kU=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&LR(this.defaultSampleFlags,n)},n}(OE);function hI(t){var n=t.data,i=n.nextUint8(),e=new TE(EE.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,w=u?rR(new TE(EE.from(n.nextUint8Array(4)))):void 0;return new oI({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:w},i)}var aI=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return mE(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.xU},set:function(t){if(t&&!DE(t,32))throw new f("Provided data offset does not fit in 32 bits.");this.xU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.PU},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!DE(t.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!DE(t.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");this.PU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.OU},set:function(t){var n,i;if(!DE(t.length,32))throw new f("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new f("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new f("The sample duration present flag is not set.");if(s.duration&&!DE(s.duration,32))throw new f("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new f("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new f("The sample size present flag is not set.");if(s.size&&!DE(s.size,32))throw new f("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new f("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!DE(s.flags.samplePaddingValue,3))throw new f("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!DE(s.flags.sampleDegradationPriority,16))throw new f("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new f("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!DE(s.compositionTimeOffset,32))throw new f("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.OU=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&LR(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&LR(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(OE);function cI(t){var n=t.data,i=n.nextUint8(),e=new TE(EE.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=rR(new TE(EE.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=rR(new TE(EE.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new aI(i,f,v)}var fI=function(t){function n(){return t.call(this,"traf")||this}return mE(n,t),n}(vR);function vI(t){for(var n=new fI,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"tfhd")?n.boxes.push(hI(r)):$E(r,"tfdt")?n.boxes.push(uI(r)):$E(r,"trun")?n.boxes.push(cI(r)):n.boxes.push(uR(r))}return n}var dI=function(t){function n(){return t.call(this,"moof")||this}return mE(n,t),n}(vR);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}mE(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.IC},set:function(t){if(!DE(t,32))throw new f("Provided sequence number does not fit in 32 bits.");this.IC=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(OE);var lI=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return mE(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.BU},set:function(t){if(4!==t.length)throw new f("Provided coding name was not 4 characters long.");this.BU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(NE),_I=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}mE(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.LU},set:function(t){if(!DE(t,32))throw new f("Provided hSpacing does not fit in 32 bits.");this.LU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.MU},set:function(t){if(!DE(t,32))throw new f("Provided vSpacing does not fit in 32 bits.");this.MU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(NE),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}mE(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(vR),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new lI(n),r}mE(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(NE),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){var n=this;if(!DE(t.length,32))throw new f("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!DE(t,n.bitSize)}))throw new f("Not all provided entries fit in "+this.bitSize+" bits.");this.KM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.UU},set:function(t){if(void 0===t)this.flags=0;else{if(!DE(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!DE(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.UU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(OE)),wI=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}mE(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(_I),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}mE(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(_I),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}mE(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.FU},set:function(t){if(!DE(t,8))throw new f("Provided defaultSampleInfoSize does not fit in a single byte.");this.FU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.HU},set:function(t){if(!DE(t.length,32))throw new f("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!DE(t,8)}))throw new f("Not all provided sampleInfoSizes fit in a byte.");this.HU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.UU},set:function(t){if(void 0===t)this.flags=0;else{if(!DE(t.auxInfoType,32))throw new f("Provided auxInfoType does not fit in 32 bits.");if(!DE(t.auxInfoTypeParameter,32))throw new f("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.UU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new f("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(OE),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){BR(e[i],n)}}}(OE),function(t){function n(n){return t.call(this,"stsd",n,0)||this}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(_R),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return mE(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.VU},set:function(t){if(4!==t.length)throw new f("The provided groupingType does not equal 4 characters.");this.VU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(OE)),gI=(function(t){function n(n,i){return t.call(this,0,n,i)||this}mE(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(wI),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}mE(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.zU},set:function(t){if(!DE(t,32))throw new f("The provided defaultLength does not fit in 32 bits.");this.zU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(wI),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new f("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}mE(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.yU},set:function(t){if(!DE(t,32))throw new f("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.yU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(wI),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}mE(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.XU},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!DE(t,32)}))throw new f("Not all sampleSizes can be represented in 32 bits.");this.XU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(OE),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}mE(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.pU},set:function(t){if(!DE(t,32))throw new f("Provided defaultSampleSize does not fit in 32 bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.OU},set:function(t){if(!DE(t,32))throw new f("Number of allowed samples cannot fit in 32 bits.");this.OU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(OE),function(t){function n(){return t.call(this,"stbl")||this}mE(n,t)}(vR),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}mE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!DE(t.firstChunk,32)||!DE(t.sampleDescriptionIndex,32)||!DE(t.samplesPerChunk,32)}))throw new f("Not all entries can be represented in 96 bits.");this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(OE),function(t){function n(){return t.call(this,"schi")||this}mE(n,t)}(vR),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}mE(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.WU},set:function(t){if(4!==t.length)throw new f("The provided schemeType does not have a length of 4.");this.WU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.qU},set:function(t){if(!DE(t,32))throw new f("The provided schemeVersion does not fit in 23 bits.");this.qU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.GU},set:function(t){if(t&&4!==t.length)throw new f("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.GU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(OE),function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return mE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.jU},set:function(t){if(!DE(t,32))throw new f("Provided referenceId does not fit in 32 bits.");this.jU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.dU},set:function(t){if(!DE(t,32))throw new f("Provided timescale does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.QU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided earliestPresentationTime does not fit in "+this.bitSize+" bits.");this.QU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.YU},set:function(t){if(!DE(t,this.bitSize))throw new f("Provided timescale does not fit in "+this.bitSize+" bits.");this.YU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.ZU},set:function(t){if(!DE(t.length,16))throw new f("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!DE(e.referencedSize,31))throw new f("Provided referenced size does not fit in 31 bits.");if(!DE(e.subsegmentDuration,32))throw new f("Provided subsegment duration does not fit in 31 bits.");if(!DE(e.sapType,3))throw new f("Provided SAP type does not fit in 3 bits.");if(!DE(e.sapDeltaTime,28))throw new f("Provided SAP delta time does not fit in 28 bits.")}this.ZU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(OE)),yI=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return mE(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(gI),mI=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return mE(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(gI);(function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}mE(n,t)})(AR),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}mE(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.JU},set:function(t){if(t<-1||t>1)throw new f("Provided balance does not fit in the allowed range [-1, 1].");if(!DE(CE(t,8),16))throw new f("Provided balance does not fit in 16 bits (fixed 8.8).");this.JU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(CE(this.balance,8),16),n.writer.writeUInt(0,16)}}(OE),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}mE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!DE(t,32)}))throw new f("Not all entries can be represented in 32 bits.");this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(OE),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}mE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.KM},set:function(t){if(!DE(t.length,32))throw new f("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!DE(t.sampleCount,32)||!DE(t.sampleDelta,32)}))throw new f("Not all entries can be represented in 64 bits.");this.KM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(OE),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}mE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.gU},set:function(t){if(!DE(t,32))throw new f("The provided trackId does not fit in 32 bits.");this.gU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(_R),function(t){function n(){return t.call(this,"udta")||this}mE(n,t)}(vR);var pI={red:0,green:0,blue:0},kI=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=pI);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}mE(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.$U},set:function(t){if(!DE(t.red,16)||!DE(t.green,16)||!DE(t.blue,16))throw new f("Not all colors could be represented in 16 bits.");this.$U=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(OE),function(t){function n(n,i,e,r,s){var u,o,h,a,c;void 0===r&&(r={});var f=t.call(this,n,i)||this;return f.extra=s,f.width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f}return mE(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.SU},set:function(t){if(!DE(t,16))throw new f("Provided width does not fit in 16 bits.");this.SU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.EU},set:function(t){if(!DE(t,16))throw new f("Provided height does not fit in 16 bits.");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.KU},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.KU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.tF},set:function(t){if(!DE(CE(t,16),32))throw new f("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.tF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.nF},set:function(t){if(t.length>31)throw new f("The provided compressorName should at most be 31 characters long.");this.nF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.iF},set:function(t){if(!DE(t,16))throw new f("Provided frameCount does not fit in 16 bits.");this.iF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.eF},set:function(t){if(!DE(t,16))throw new f("Provided depth does not fit in 16 bits.");this.eF=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(CE(this.horizontalResolution,16),32),n.writer.writeUInt(CE(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&xE(n.writer,this.extra)},n}(dR)),AI=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(EE.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(OE),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(lR),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(kI),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}mE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(dR),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}mE(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(NE),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.pS},set:function(t){if(!DE(t,8))throw new f("Provided version does not fit in 8 bits.");this.pS=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.rF},set:function(t){if(!DE(t,8))throw new f("Provided profileIndication does not fit in 8 bits.");this.rF=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.sF},set:function(t){if(!DE(t,8))throw new f("Provided profileCompatibility does not fit in 8 bits.");this.sF=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.uF},set:function(t){if(!DE(t,8))throw new f("Provided levelIndication does not fit in 8 bits.");this.uF=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.oF},set:function(t){if(!DE(t.length,5))throw new f("Provided number of spsSets exceeds the max (32)");this.oF=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.hF},set:function(t){if(!DE(t.length,8))throw new f("Provided number of ppsSets exceeds the max (256)");this.hF=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(EE.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(EE.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={});var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}mE(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(kI),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}mE(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.zM},set:function(t){if(!DE(t,32))throw new f("Provided bufferSizeDb does not fit in 32 bits.");this.zM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.aF},set:function(t){if(!DE(t,32))throw new f("Provided max does not fit in 32 bits.");this.aF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.cF},set:function(t){if(!DE(t,32))throw new f("Provided avg does not fit in 32 bits.");this.cF=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(NE),function(t){function n(n,i){var e,r,s,u,o=t.call(this,"tenc",n,0)||this;if(i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new f("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return mE(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.fF},set:function(t){if(!DE(t,8))throw new f("Provided isProtected does not fit in 1 byte.");this.fF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.vF},set:function(t){if(![8,16].includes(t))throw new f("Provided perSampleIvSize does not match any allowed value [8, 16].");this.vF=t,this.dF=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.lF},set:function(t){if(16!==t.length)throw new f("Provided kId length is not 16.");this.lF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.dF},set:function(t){if(![8,16].includes(t.length))throw new f("Provided constant IV length does not match any allowed value [8, 16].");this.dF=t,this.vF=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),xE(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),xE(t.writer,this.constantIv))},n}(OE)),bI=(function(t){function n(n){return t.call(this,0,n)||this}mE(n,t)}(AI),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return mE(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this._F},set:function(t){if(!DE(t,4))throw new f("Provided cryptByteBlocks does not fit in 4 bits.");this._F=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.wF},set:function(t){if(!DE(t,4))throw new f("Provided skipByteBlocks does not fit in 4 bits.");this.wF=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(AI)),TI=(function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new bI(n),i}mE(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(MR),function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return mE(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.gF},set:function(t){if(16!==t.length)throw new f("Provided systemId length is not 16.");this.gF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.ee},set:function(t){if(!DE(t.length,32))throw new f("Provided data length does not fit in 32 bits.");this.ee=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(EE.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(EE.from(this.data))},n}(OE));(function(t){function n(n,i){return t.call(this,0,n,i)||this}mE(n,t)})(TI),function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}mE(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.yF},set:function(t){if(!DE(t.length,32))throw new f("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new f("Not all provided key ids are 16 bytes long.");this.yF=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(EE.from(e))}}}(TI);function SI(t){return void 0!==t.iv}function EI(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}mE(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.OU},set:function(t){var n;if(!DE(t.length,32))throw new f("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(SI(r)&&![8,16].includes(r.iv.length))throw new f("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=EI(r)),!0===n&&!EI(r)||!1===n&&EI(r))throw new f("Mix of samples with and without subsamples detected.");if(EI(r)){if(!DE(r.subsamples.length,16))throw new f("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!DE(o.clearData,16))throw new f("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!DE(o.protectedData,23))throw new f("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.OU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];SI(r)&&(n+=r.iv.length),EI(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(SI(r)&&xE(n.writer,r.iv),EI(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(OE),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}mE(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.dU},set:function(t){if(!DE(t,32))throw new f("The provided timescale does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.mF},set:function(t){if(!DE(t,32))throw new f("The provided presentationTimeDelta does not fit in 32 bits.");this.mF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.pF},set:function(t){if(!DE(t,32))throw new f("The provided eventDuration does not fit in 32 bits.");this.pF=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.mg},set:function(t){if(!DE(t,32))throw new f("The provided id does not fit in 32 bits.");this.mg=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(EE.from(this.data))}}(OE);function RI(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=nR(i,e);if(!r.complete)return;if($E(r.box,n))return r.box}}(new JE((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new ZE),t);if(!r)throw new f(t+" box not found");return n(r)}}var II,NI=RI("moov",function(t){for(var n=new iI,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"mvhd")?n.boxes.push(YR(r)):$E(r,"trak")?n.boxes.push(nI(r)):$E(r,"mvex")?n.boxes.push(qR(r)):n.boxes.push(uR(r))}return n}),DI=RI("sidx",function(t){var n,i,e=t.data,r=iR(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new TE(EE.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),w=Boolean(v.readBit()),g=v.readUInt(3),y=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:w,sapType:g,sapDeltaTime:y})}return 0===s?new yI(o,h,n,i,c,u.raw):new mI(o,h,n,i,c,u.raw)}),CI=RI("moof",function(t){for(var n=new dI,i=0,e=tR(t.data);i<e.length;i++){var r=e[i];$E(r,"traf")?n.boxes.push(vI(r)):n.boxes.push(uR(r))}return n}),xI=function(){function t(){this.kF=[],this.kh=0}var n=t.prototype;return n.fL=function(t){this.kF.push(t),this.kh+=t.byteLength},n.AF=function(t){if(this.kh<=t)return this.bF();for(var n=this.kF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(zu(n[e],0,s)),i+=s}return{kF:r,kh:i}},n.TF=function(t){var n=this.AF(t);return 1===n.kF.length?n.kF[0]:$s(n.kF,n.kh)},n.bF=function(){return{kF:this.kF,kh:this.kh}},n.SF=function(t){if(this.kh<=t)return this.EF();for(var n=this.kF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(zu(n[0],0,s)),n[0]=zu(n[0],s),i+=s}return this.kh-=i,{kF:r,kh:i}},n.RF=function(t){var n=this.SF(t);return 1===n.kF.length?n.kF[0]:$s(n.kF,n.kh)},n.EF=function(){var t=this.bF();return this.kF=[],this.kh=0,t},n.IF=function(){var t=1===this.kF.length?this.kF[0]:$s(this.kF,this.kh);return this.kF=[],this.kh=0,t},t}();!function(t){t[t.NF=0]="NF",t[t.DF=1]="DF",t[t.CF=2]="CF"}(II||(II={}));var PI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yB=void 0,n.xF=1e5,n.PF=void 0,n.OF=void 0,n}U(n,t);var i=n.prototype;return i.start=function(t){this.yB=t},i.transform=function(t){this.BF(t)},i.flush=function(){this.LF()},i.MF=function(t){return t===zw.qm||t===zw.yp||t===zw.Rp},i.UF=function(t){var n=this.FF(t);this.yB.enqueue(n)},i.HF=function(t){this.yB.enqueue(t)},i.FF=function(t){var n=qu(t.Fs.Fs);switch(t.do){case"moov":return this.VF(n);case"sidx":return this.zF(n);case"moof":return this.XF(n)}return n},i.VF=function(t){for(var n=NI(t),i=0,e=n.boxes;i<e.length;i++){var r=e[i];r instanceof jR?this.WF(r):r instanceof QR?this.qF(r):r instanceof tI&&this.GF(r)}for(var s=0,u=n.boxes;s<u.length;s++){var o=u[s];o instanceof WR&&this.jF(o)}return n.serialize().join()},i.WF=function(t){this.PF=t.timescale,t.timescale=this.xF,t.duration=t.duration/this.QF*this.xF},i.qF=function(t){this.PF=t.timescale,t.timescale=this.xF,t.duration=Xt.fromNumber(t.duration.toNumber()/this.QF*this.xF)},i.GF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof JR?this.YF(e):e instanceof $R?this.ZF(e):e instanceof IR?this.JF(e):e instanceof pR&&this.KF(e)}},i.YF=function(t){t.duration=t.duration/this.QF*this.xF},i.ZF=function(t){t.duration=Xt.fromNumber(t.duration.toNumber()/this.QF*this.xF)},i.JF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof TR?this.tH(e):e instanceof SR&&this.nH(e)}},i.tH=function(t){this.OF=t.timescale,t.timescale=this.xF,t.duration=t.duration/this.iH*this.xF},i.nH=function(t){this.OF=t.timescale,t.timescale=this.xF,t.duration=Xt.fromNumber(t.duration.toNumber()/this.iH*this.xF)},i.KF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof gR?this.eH(e):e instanceof yR&&this.rH(e)}},i.eH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=e.mediaTime/this.QF*this.xF,e.segmentDuration=e.segmentDuration/this.QF*this.xF}},i.rH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=Xt.fromNumber(e.mediaTime.toNumber()/this.QF*this.xF),e.segmentDuration=Xt.fromNumber(e.segmentDuration.toNumber()/this.QF*this.xF)}},i.jF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof zR?this.sH(e):e instanceof FR?this.uH(e):e instanceof HR&&this.oH(e)}},i.sH=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.iH*this.xF},i.uH=function(t){t.fragmentDuration=t.fragmentDuration/this.QF*this.xF},i.oH=function(t){t.fragmentDuration=Xt.fromNumber(t.fragmentDuration.toNumber()/this.QF*this.xF)},i.zF=function(t){var n=DI(t);return n instanceof yI?this.hH(n):this.aH(n),n.serialize().join()},i.hH=function(t){var n=t.timescale;t.timescale=this.xF,t.earliestPresentationTime=t.earliestPresentationTime/n*this.xF;for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=r.subsegmentDuration/n*this.xF}},i.aH=function(t){var n=t.timescale;t.timescale=this.xF,t.earliestPresentationTime=Xt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.xF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=r.subsegmentDuration/n*this.xF}},i.XF=function(t){for(var n=CI(t),i=0,e=n.boxes;i<e.length;i++){var r=e[i];r instanceof fI&&this.cH(r)}return n.serialize().join()},i.cH=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oI?this.fH(e):e instanceof rI?this.vH(e):e instanceof sI?this.dH(e):e instanceof aI&&this.lH(e)}},i.fH=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.iH*this.xF)},i.vH=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.iH*this.xF},i.dH=function(t){t.baseMediaDecodeTime=Xt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.iH*this.xF)},i.lH=function(t){for(var n=0,i=0,e=0,r=t.samples;e<r.length;e++){var s=r[e];if(void 0!==s.duration){var u=(i+=s.duration)/this.iH*this.xF;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.iH*this.xF)}},L(n,[{key:"QF",get:function(){if(void 0===this.PF)throw new f("Expected to have found a movie header timescale.");return this.PF}},{key:"iH",get:function(){if(void 0===this.OF)throw new f("Expected to have found a media header timescale.");return this.OF}}]),n}(function(){var t=n.prototype;function n(){this.Hn=new xI,this.tf=II.NF,this._H=0,this.wH=0,this.gH()}return t.yH=function(t,n){},t.mH=function(){},t.BF=function(t){this.Hn.fL(t),this.pH(!1)},t.LF=function(){this.pH(!0)},t.kH=function(){return this.tf!==II.NF||0!==this.Hn.kh},t.pH=function(t){for(;0!==this.Hn.kh;){if(!t&&this._H>this.Hn.kh)return;switch(this.tf){case II.NF:this.AH(t);break;case II.DF:this.bH(t);break;case II.CF:this.TH(t)}}},t.gH=function(){this.tf=II.NF,this._H=8},t.AH=function(t){var n=Wu(this.Hn.TF(this._H)),i=new Zu,e=xg.ek(n,i);if(!e.$p)return this._H=e.sk,void(t&&this._H>this.Hn.kh&&this.SH(this.Hn.kh));var r=e.rk.do,s=e.rk.kh;0===s&&(s=1/0),this.yH(r,s),this.MF(r)?this.EH(s):this.SH(s)},t.EH=function(t){this.tf=II.DF,this._H=t},t.bH=function(t){var n=Wu(this.Hn.RF(this._H)),i=new Zu,e=xg.Kp(n,i,!t);if(!e.$p)throw new Cg(i.Eh);this.mH(),this.UF(e.tk),this.gH()},t.SH=function(t){this.tf=II.CF,this._H=0,this.wH=t},t.TH=function(t){var n=this.Hn.SF(this.wH);this.wH-=n.kh;for(var i=0,e=n.kF;i<e.length;i++){var r=e[i];this.HF(r)}(0===this.wH||t&&this.wH===1/0)&&(this.mH(),this.gH())},n}()),OI=function(){function t(){this.RH=void 0,this.RH=new PI}return t.prototype.IH=function(t){return t.pipeThrough(new Yc(this.RH))},t}(),BI=20,LI=Y.xr&&Y.Pr<3,MI=Y.Vr,UI=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).NH=void 0,r.DH=void 0,r.CH=void 0,r.HP=BI,r.VP=qT,r.xH=!1,r.PH=!1,r.OH=void 0,r.BH=new cs,r.LH=void 0,r.MH=!1,r.UH=void 0,r.FH=function(){r.xH=!1},r.NH=i,r.DH=n,r.CH=e,r.CH.addEventListener("updateend",r.FH),LI&&(r.LH=new OI),r}U(n,t);var i=n.prototype;return i.HH=function(t,n,i){var e=this;switch(t.do){case vE.cM:case vE.zc:return this.VH(function(i){return e.zH(t,n,i)},i);case vE.fM:throw new f("Opaque segments are not supported on web.")}},i.XH=function(t,n){var i=this;switch(t.do){case vE.cM:return this.VH(function(n){return i.WH(t,n)},n);case vE.zc:throw new f("Streaming initialization segments are not supported on web.");case vE.fM:throw new f("Opaque initialization segments are not supported on web.")}},i.WH=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qH(n,void 0,i);case 2:MI&&(this.MH=!1,this.UH=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zH=function(){var t=T.coroutine(tr.mark(function t(n,i,e){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(MI&&this.MH&&this.UH)){t.next=3;break}return t.next=3,this.WH(this.UH,e);case 3:return t.prev=3,ds(e),t.next=7,this.qH(n,i,e);case 7:this.jo(new Ds(oE.hM));case 8:return t.prev=8,n.do===vE.zc&&n.Fs.cancel(new fs).catch(E),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.qH=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:ds(e),i&&this.GH(i),t.t0=n.do,t.next=t.t0===vE.cM?5:t.t0===vE.zc?13:21;break;case 5:if(!LI){t.next=10;break}return r=this.LH.IH(cf(n.Fs)),t.next=9,this.jH(r,e);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.QH(n.Fs);case 12:return t.abrupt("return",t.sent);case 13:if(!LI){t.next=18;break}return s=this.LH.IH(n.Fs),t.next=17,this.jH(s,e);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.jH(n.Fs,e);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.jH=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.DH.tg,r=wE(n),s=r.getReader(),u=!1,t.prev=4;case 5:return t.next=8,ws(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return ds(i),h=Js(o.value),u=!0,t.next=17,this.QH(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(E),!u){t.next=35;break}return t.next=27,this.YH();case 27:a=this.DH.tg.gI(e.yI()),c=0;case 29:if(!(c<a.Gl)){t.next=35;break}return t.next=32,this.ZH(a.rI(c),a.uI(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.JH=function(t,n){var i=this;return this.VH(function(){return i.$H(t,n)})},i.$H=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CH.appendWindowStart===n&&this.CH.appendWindowEnd===i){t.next=6;break}return t.next=3,this.YH();case 3:this.CH.appendWindowStart=0,this.CH.appendWindowEnd=i,this.CH.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.GH=function(t){this.CH.timestampOffset!==t.Fm&&(this.CH.timestampOffset=t.Fm)},i.QH=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CH.appendBuffer(n),this.PH=!0,t.next=4,this.KH();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tV=function(t,n,i){var e=this;return this.VH(function(i){return e.ZH(t,n,i)},i)},i.ZH=function(){var t=T.coroutine(tr.mark(function t(n,i,e){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(e),this.CH.remove(n,i),t.next=4,this.KH();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.KH=function(){var t=this,n=this.DH.tg;return new T(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.CI(t.DH.tg)||t.jo(new Ds(oE.hM)),i()):e(new f(r))},c=function(){t.CH.removeEventListener("update",u),t.CH.removeEventListener("error",o),t.CH.removeEventListener("abort",h),t.CH.removeEventListener("updateend",a)};t.CH.addEventListener("update",u),t.CH.addEventListener("error",o),t.CH.addEventListener("abort",h),t.CH.addEventListener("updateend",a)})},i.nV=function(){var t=this;return this.VH(function(){return t.YH()})},i.YH=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.NH.g_===nN.sd){t.next=2;break}return t.abrupt("return");case 2:MI&&(this.MH=!0),this.CH.updating&&(this.xH=!0);try{this.CH.abort()}catch(t){0,this.xH=!1}if(!this.Hx){t.next=8;break}return t.next=8,this.KH().catch(E);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iV=function(){return"function"==typeof this.CH.changeType},i.eV=function(t){this.rV(),this.NH.g_!==nN.sV&&this.CH.changeType(t)},i.uV=function(){this.NH.g_!==nN.dc||this.OH||this.Hx||(this.CH.timestampOffset=this.CH.timestampOffset,this.NH.oV())},i.VH=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rV(),(e=new cs).Ho(this.BH.zo),i&&e.Ho(i),t.prev=4,this.OH=n(e.zo),t.next=8,this.OH;case 8:if(this.NH.oV(),!this.Hx){t.next=12;break}return t.next=12,this.KH();case 12:return t.prev=12,this.OH=void 0,e.Po(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.rV=function(){if(this.OH)throw new f("Internal error")},i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Jo(),this.BH.Fo(),!this.OH){t.next=6;break}return t.next=5,this.OH.catch(E);case 5:this.OH=void 0;case 6:this.CH.removeEventListener("updateend",this.FH);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"PP",get:function(){return this.HP},set:function(t){this.HP=t}},{key:"MP",get:function(){return this.VP},set:function(t){this.VP=t}},{key:"Hx",get:function(){return this.xH||this.CH.updating}}]),n}(Is),FI=function(){function t(t,n){this.hV=void 0,this.CH=void 0,this.aV=void 0,this.hV=n,this.CH=t}var n=t.prototype;return n.sM=function(){return!!this.aV&&this.tg.vI().gR(this.aV)},n.cV=function(){var t=this.tg;this.aV=t.Gl>0?t.uI(t.Gl-1):0,this.hV.fV()},n.uV=function(){this.aV=void 0},L(t,[{key:"tg",get:function(){if(this.hV.g_===nN.sV)return iA.zI();var t=iA.FI(this.CH.buffered).gI(new iA([0,1/0])),n=this.aV;return void 0!==n&&t.Gl>0&&t.uI(t.Gl-1)===n&&(t=t.bI(iA.VI(n))),t}}]),t}();function HI(t){var n=t.da("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function VI(t,n){var i=zI(t)||XI(t),e=zI(n)||XI(n);return!i&&!e||t===n}function zI(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function XI(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function WI(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function qI(t,n,i,e,r,s){var u=new FI(r,t),o=new UI(u,t,r);return new GI(t,n,i,e,u,o,s)}var GI=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).NH=void 0,h.Na=void 0,h.vV=void 0,h.EE=void 0,h.Ea=void 0,h.dV=void 0,h.DH=void 0,h.lV=void 0,h._V=er(),h.NH=n,h.Na=e,h.Ea=e.ov,h.vV=r,h.EE=i,h.DH=s,h.lV=u,h.dV=o,h.lV.Qo(oE.hM,h.Go),h}U(n,t);var i=n.prototype;return i.sM=function(){return this.DH.sM()},i.cV=function(){this.DH.cV()},i.uV=function(){this.DH.uV(),this.lV.uV()},i.wV=function(t,n){this.dV.wM(t,n)},i.gV=function(t,n){this.dV.gM(t,n)},i.yV=function(){return this.lV.nV()},i.HH=function(t,n,i){return this.lV.HH(t,n,i)},i.XH=function(t,n){return this.lV.XH(t,n)},i.JH=function(t,n){return this.lV.JH(t,n)},i.Qh=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gV(n,i),r=this.tg,t.next=4,this.lV.tV(n,i,e);case 4:s=0!==r.Gl&&0===this.tg.Gl,(Y.qr||Y.Or)&&s&&this.EE.Th(this.EE.tw);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.$L=function(t){var n=t.ov;if(this.Ea===n)return!0;var i=this._V.get(n);if(void 0!==i)return i;var e=this.mV(t);return this._V.set(n,e),e},i.mV=function(t){var n=t.ov;if(!MediaSource.isTypeSupported(n))return!1;var i=fo(this.Ea),e=fo(n),r=HI(i),s=HI(e);if(this.lV.iV()){if(!function(t,n){return hs(t,n,VI)}(r,s))return!1}else{if(i.do!==e.do)return!1;if(!function(t,n){return hs(t,n,WI)}(r,s))return!1}return!0},i.KL=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.ov,this.Ea!==i&&(this._V.clear(),this.lV.iV()&&this.lV.eV(i),this.Ea=i),this.Na=n,this.NH.pV();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._V.clear(),this.Jo(),this.dV.Zv(),t.prev=3,this.lV.$o(oE.hM,this.Go),t.next=7,this.lV.Po();case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},t,this,[[3,9]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"tg",get:function(){return this.DH.tg}},{key:"ea",get:function(){return this.Na}},{key:"ov",get:function(){return this.Ea}},{key:"kV",get:function(){return this.dV.yM}},{key:"PP",get:function(){return this.lV.PP},set:function(t){this.lV.PP=t}},{key:"MP",get:function(){return this.lV.MP},set:function(t){this.lV.MP=t}},{key:"Hx",get:function(){return this.lV.Hx}}]),n}(Is),jI=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.AV=void 0,this.rI=t,this.uI=n,this.bV=i,this.TV=e,this.AV=zb()}return t.prototype.SV=function(){var t=this.rI,n=this.uI;if(this.bV||this.TV){var i=.001*(zb()-this.AV);this.bV&&(t+=i),this.TV&&(n+=i)}return t>=n?iA.zI():new iA([t,n])},t}(),QI=100,YI=1e3,ZI=1e4,JI=.01,$I=[Ko.Ac,Ko.kc,Ko.Ic,Ko.Rc,Ko.dc,Ko.Tc,Vl.Dl,sl.v_],KI=function(){function t(t,n){var i=this;this.uT=Tl.z_,this.EV=!1,this.RV=[],this.IV=void 0,this.NV=0,this.DV=0,this.CV=0,this.xV=0,this.PV=0,this.OV=YI,this.BV=function(t){var n=i.EE.tw;t.lM.gR(n)&&i.LV(n)},this.MV=I(function(){i.UV(Vl.Dl)},QI),this.FV=I(function(){i.UV(Ko.bc)},QI),this.HV=function(){i.VV()?i.zV():i.XV()},this.WV=function(){var t=i.NV,n=i.CV,e=i.EE.tw,r=b.bu(),s=t!==e;if(s||!i.VV())return i.NV=e,i.CV=r,void(s&&(i.PV=0,i.OV=YI));if(n>0&&r>n+i.OV){var u=e+i.PV*JI,o=i.DH.tg;o.gR(u)||(u=i.qV(e,o)),i.NV=u,i.CV=r,i.PV++,i.OV=l.min(2*i.OV,ZI),i.EE.Th(u)}},this.DH=t,this.EE=n,this.EE.Qo(Vl.Dl,this.MV),this.EE.Qo(Ko.bc,this.FV),this.EE.Qo($I,this.HV)}var n=t.prototype;return n.GV=function(t){this.RV.push(t),t.Qo(dE.vM,this.BV)},n.Zv=function(){var t=this;this.XV(),this.uT=Tl.z_,this.EE.$o(Vl.Dl,this.MV),this.EE.$o(Ko.bc,this.FV),this.EE.$o($I,this.HV),this.RV.forEach(function(n){return n.$o(dE.vM,t.BV)}),void 0!==this.IV&&(b.oe(this.IV),this.IV=void 0),this.EV=!0},n.UV=function(t){if(!this.EV){var n=this.EE.g_;if(n<=Tl.W_){var i=this.EE.tw,e=this.DH.tg,r=e.EI(i),s=e.uI(r);-1!==r&&(t===Vl.Dl&&n<this.uT||t===Ko.bc&&n===this.uT)&&s<i+.5&&(i=s),this.LV(i)}t===Vl.Dl&&(this.uT=n)}},n.LV=function(t){var n=this;if(!this.EE.iw){var i=this.yM.SI(this.DH.tg).vI(),e=i.EI(t);if(-1!==e)if(!(l.abs(i.rI(e)-i.uI(e))<=.001))if(b.tl){if(void 0!==this.IV)return;this.DV=this.EE.tw,this.IV=b.he(function(){n.DV===n.EE.tw&&n.EE.Th(i.uI(e)),n.IV=void 0},1500)}else this.EE.Th(i.uI(e))}},n.zV=function(){0===this.xV&&(this.xV=b.xu(this.WV,250))},n.XV=function(){0!==this.xV&&(b.Pu(this.xV),this.xV=0),this.EE.ow||(this.CV=0)},n.VV=function(){return!this.EE.sw&&!this.EE.ow&&0!==this.EE.uw&&!this.EE.iw&&!this.EE.hh&&this.EE.g_>=Tl.q_},n.qV=function(t,n){var i=n.EI(t);return i>-1?n.uI(i):t},L(t,[{key:"yM",get:function(){return this.RV.reduce(function(t,n){return t.bI(n.yM)},iA.zI())}}]),t}();function tN(t){var n=[];if(t.jV&&n.push(t.jV.tg),t.QV&&n.push(t.QV.tg),0===n.length)return iA.zI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.Gl>0&&(i=l.max(i,r.uI(r.Gl-1)))}for(var s=t.sM,u=new iA([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Gl>0&&(h=h.bI(new iA([h.uI(h.Gl-1),i],[!0,!0]))),u=u.gI(h)}return u}var nN,iN=Y.Br||Y.Lr;!function(t){t.sV="closed",t.sd="open",t.dc="ended"}(nN||(nN={}));var eN=function(){function t(){}return t.prototype.YV=function(){return new MediaSource},t}(),rN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new eN),(u=t.call(this,n,i,e,r)||this).ZV=void 0,u.JV=void 0,u.$V=void 0,u.KV=new jI(0,1/0),u.RE=void 0,u.tz=void 0,u.nz=void 0,u.iz=!1,u.ez=function(){u.rz()},u.sz=function(){u.EE.sz()},u.ZV=s,u.RE=u.ZV.YV(),u.EE.Qo(Ko.Ic,u.ez),u.nz=new KI(sn(u),u.EE),u}U(n,t);var i=n.prototype;return i.uz=function(t){if(g(t)||t<0)throw new f("Invalid duration");this.oz()?this.hz(t):this.tz=t},i.hz=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.RE.setLiveSeekableRange){var e=l.pow(2,39);this.RE.setLiveSeekableRange(0,e)}this.RE.duration=i,this.tz=void 0},i.az=function(t,n,i,e){this.KV=new jI(t,n,!!i,!!e)},i.WP=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.Na,i=$r(n.cz,function(t){return Dr(t.ov,"audio")}),e=$r(n.cz,function(t){return Dr(t.ov,"video")}),t.next=5,this.fz();case 5:i&&(r=new _E,this.nz.GV(r),s=this.RE.addSourceBuffer(i.ov),this.JV=qI(this,this.EE,i,D_.Hv,s,r),this.JV.Qo(oE.hM,this.sz)),e&&(u=new _E,this.nz.GV(u),o=this.RE.addSourceBuffer(e.ov),this.$V=qI(this,this.EE,e,D_.Vv,o,u),this.$V.Qo(oE.hM,this.sz)),this.GL.jh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fz=function(){var n=T.coroutine(tr.mark(function n(){var i;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.RE),n.next=3,t.prototype.Mw.call(this,i);case 3:return n.next=5,t.prototype.jh.call(this);case 5:if(this.g_===nN.sd){n.next=8;break}return n.next=8,Ad(this.RE,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.oz=function(){if(this.g_!==nN.sd)return!1;var t=this.JV&&this.JV.Hx,n=this.$V&&this.$V.Hx;return!(t||n)},i.cV=function(){this.iz=!0,this.JV&&this.JV.cV(),this.$V&&this.$V.cV(),this.iz=!1,this.rz()},i.uV=function(){this.JV&&this.JV.uV(),this.$V&&this.$V.uV()},i.$L=function(n){var i=$r(n.cz,function(t){return Dr(t.ov,"audio")}),e=$r(n.cz,function(t){return Dr(t.ov,"video")});if(this.JV){if(!i)return!1;if(!this.JV.$L(i))return!1}else if(i)return!1;if(this.$V){if(!e)return!1;if(!this.$V.$L(e))return!1}else if(e)return!1;return!!t.prototype.$L.call(this,n)},i.KL=function(){var n=T.coroutine(tr.mark(function n(i){var e,r,s;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=$r(i.cz,function(t){return Dr(t.ov,"audio")}),r=$r(i.cz,function(t){return Dr(t.ov,"video")}),s=[],this.JV&&s.push(this.JV.KL(e)),this.$V&&s.push(this.$V.KL(r)),n.next=7,T.all(s);case 7:return n.next=9,t.prototype.KL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.Po=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.JV){n.next=4;break}return n.next=3,this.JV.Po();case 3:this.JV=void 0;case 4:if(!this.$V){n.next=8;break}return n.next=7,this.$V.Po();case 7:this.$V=void 0;case 8:return this.Va.src&&URL.revokeObjectURL(this.Va.src),this.EE.$o(Ko.Ic,this.ez),this.nz.Zv(),n.next=13,t.prototype.Po.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.pV=function(){var t=this,n=this.Na,i=n.cz.map(function(n){return Dr(n.ov,"audio")&&t.JV?t.JV.ea:Dr(n.ov,"video")&&t.$V?t.$V.ea:n});this.Na=nr({},n,{cz:i})},i.fV=function(){this.iz||this.rz()},i.rz=function(){this.vz&&this.oz()&&(this.RE.endOfStream(),this.tz=void 0,this.jo(new Ds(nE.mD)),this.EE.sz())},i.oV=function(){this.oz()&&(this.sM?this.rz():void 0!==this.tz&&this.hz(this.tz))},n.rM=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.cz;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.ov))return!1}return!0},L(n,[{key:"jV",get:function(){return this.JV}},{key:"QV",get:function(){return this.$V}},{key:"nw",get:function(){if(this.tz)return this.tz;var t=this.RE.duration;return 9007199254740991===t?1/0:t}},{key:"tg",get:function(){return iN?tN(this):(t=this,n=iA.FI(this.Va.buffered),(i=n).Gl>0&&t.sM&&(i=i.bI(iA.VI(i.uI(i.Gl-1)))),i);var t,n,i}},{key:"uM",get:function(){var t;return null==(t=this.JV)?void 0:t.tg}},{key:"oM",get:function(){var t;return null==(t=this.$V)?void 0:t.tg}},{key:"dg",get:function(){return this.KV.SV().gI(new iA([0,this.nw],[!0,!0]))}},{key:"sM",get:function(){return(!this.JV||this.JV.sM())&&(!this.$V||this.$V.sM())}},{key:"g_",get:function(){return this.RE.readyState}},{key:"vz",get:function(){if(!this.sM)return!1;var t=this.tg;return 0!==t.Gl&&t.rI(t.Gl-1)<=this.EE.tw}}]),n}(hE),sN=[Ko.Lc,Ko.Tc,Ko.Ic,Ko.Ac,Ko.kc],uN=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).jI=n,c.lU=i,c.dz=e,c.YI=r,c.JI=s,c.QI=u,c.ZI=o,c.$I=h,c.lz=a,c}U(n,t);var i=n.prototype;return i.Ow=function(){this.YI||(this.YI=!0,this.jo(new Xl(this.tw)))},i.Pw=function(){this.YI&&(this.YI=!1,this.jo(new Wl(this.tw)))},i.Po=function(){this.Jo()},L(n,[{key:"tw",get:function(){return this.jI},set:function(t){this.tw!==t&&(this.jI=t,this.JI=!0,this.jo(new t_(this.tw)))}},{key:"nw",get:function(){return this.lU}},{key:"iw",get:function(){return this.dz}},{key:"sw",get:function(){return this.YI}},{key:"g_",get:function(){return this.lz}},{key:"ow",get:function(){return this.JI}},{key:"rw",get:function(){return this.QI},set:function(t){this.rw!==t&&(this.QI=t,this.jo(new i_(this.tw,this.cw)))}},{key:"uw",get:function(){return this.ZI},set:function(t){this.uw!==t&&(this.ZI=t,this.jo(new Zl(this.tw,this.uw)))}},{key:"cw",get:function(){return this.$I},set:function(t){this.cw!==t&&(this.$I=t,this.jo(new i_(this.tw,this.cw)))}}]),n}(Is);var oN=function(t){function n(n){var i;return(i=t.call(this)||this).EE=void 0,i.uT=Tl.z_,i._z=function(){i.wz()},i.EE=n,i}U(n,t);var i=n.prototype;return i.gz=function(t){this.uT!==t&&(this.uT=t,this.jo(new s_(this.EE.tw,t)))},i.wz=function(){this.gz(this.pO())},i.Wl=function(){this.gz(Tl.z_)},i.Po=function(){this.Jo()},L(n,[{key:"g_",get:function(){return this.pO()}}]),n}(Is),hN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],aN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<hN.length;e++){var r=hN[e];i.EE.$E.addEventListener(r,i._z)}return i}U(n,t);var i=n.prototype;return i.pO=function(){var t=this.EE.$E.readyState;return t>Tl.W_&&this.EE.yz?Tl.W_:(this.EE.$E.seeking&&t>Tl.X_&&(t=Tl.X_),t)},i.Po=function(){for(var n=0;n<hN.length;n++){var i=hN[n];this.EE.$E.removeEventListener(i,this._z)}t.prototype.Po.call(this)},n}(oN),cN=function(t){function n(n){var i;(i=t.call(this,n)||this).EE.Qo(Ko.Ic,i._z);for(var e=0;e<hN.length;e++){var r=hN[e];i.EE.$E.addEventListener(r,i._z)}return i}U(n,t);var i=n.prototype;return i.pO=function(){if(this.EE.$E.readyState===Tl.z_)return Tl.z_;var t=this.mz(),n=t?t.uI-t.rI:0;if(!t)return Tl.X_;var i=this.EE.uw;return this.pz()||n>=3*i?Tl.G_:n>=3?Tl.q_:Tl.W_},i.mz=function(){var t=this.EE.tw,n=this.EE.tg.AI(.04),i=n.EI(t);if(!(i<0))return{rI:t,uI:n.uI(i)}},i.pz=function(){if(this.EE.iw)return!0;var t=this.EE.nw,n=this.mz();return!!n&&t-n.uI<=1/6},i.Po=function(){this.EE.$o(Ko.Ic,this._z);for(var n=0;n<hN.length;n++){var i=hN[n];this.EE.$E.removeEventListener(i,this._z)}t.prototype.Po.call(this)},n}(oN),fN=[Vl.Dl,Ko.Ac,Ko.kc,Ko.Ic,Ko.Rc,Ko.dc,sl.v_],vN=function(t){function n(n){var i;return(i=t.call(this,n)||this).Va=void 0,i.kz=!1,i.Az=function(){i.kz=!0,i.Yh()},i.Va=n.$E,i.Va.addEventListener(Vl.K_,i.Az),i}U(n,t);var i=n.prototype;return i.bz=function(){return this.kz&&t.prototype.bz.call(this)},i.Yh=function(){this.kz&&(this.Va.paused||this.Va.ended||this.Va.error)&&(this.kz=!1),t.prototype.Yh.call(this)},i.Wl=function(){t.prototype.Wl.call(this),this.kz=!1},i.Po=function(){this.Va.removeEventListener(Vl.K_,this.Az),t.prototype.Po.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).gT=void 0,i.Tz=!1,i.Vx=function(){i.Yh()},i.gT=n,i.gT.Qo(fN,i.Vx),i}U(n,t);var i=n.prototype;return i.Sz=function(){return this.gT.g_<Tl.q_},i.bz=function(){return!this.gT.ow&&!(this.gT.sw||this.gT.iw||this.gT.hh||this.Sz())},i.Yh=function(){var t=this.Tz;this.Tz=this.bz(),!t&&this.Tz&&this.jo(new im(this.gT.tw))},i.Wl=function(){this.Tz=!1},i.Po=function(){this.Jo(),this.gT.$o(fN,this.Vx)},n}(Is)),dN=function(t){function n(n){var i;return(i=t.call(this,sl.v_)||this).hh=void 0,i.hh=n,i}return U(n,t),n}(Ds);function lN(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function _N(t,n){return t.Bg<=n&&t.Lg>n}function wN(t,n){return function(t,n){return Zr(t.Bg,n.Bg,uw)}(t,n)||function(t,n){return Zr(t.Lg,n.Lg,uw)}(t,n)}function gN(t,n){var i=lN(t,n,R,wN,!0);if(i<0)return i;for(;i<t.length&&wN(n,t[i])===zr.So;i++)if(t[i].ty(n))return i;return-(i+1)}function yN(t){var n=t.gl;if(!n)return-1;if(t instanceof hw)return n.Ez(t);var i=n.y_;if(!i)return-1;var e=gN(i.ql,t);return e>=0?e:-1}function mN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{Rz:o,Iz:h}}(t,n,wN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var pN=function(){function t(t){this.Nz=void 0,this.ll=void 0,this.Nz=t}var n=t.prototype;return n.wl=function(){return function(t){for(var n=[],i=0;i<t.Gl;i++)n[i]=t.gh(i)._l;return n.item=function(n){var i=0|n,e=t.gh(i);return e&&e._l||void 0},d.defineProperty(n,"constructor",{value:rw}),n}(this)},n.gg=function(t){for(var n=this.Nz,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.ty(e))return!0}return!1},n.gh=function(t){return this.Nz[t]},L(t,[{key:"ql",get:function(){return this.Nz}},{key:"Gl",get:function(){return this.Nz.length}},{key:"_l",get:function(){if(this.ll){var t=this.Nz;this.ll.length=t.length;for(var n=0;n<t.length;n++)this.ll[n]=t[n]._l}else this.ll=this.wl();return this.ll}}]),t}(),kN=function(t){function n(n,i){var e;return(e=t.call(this,Id.Dl)||this).gl=n,e.g_=i,e}return U(n,t),n.prototype.wl=function(){return new AN(this.gl._l,vl(this.g_))},n}(Nd),AN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return U(n,t),n}(Dd),bN=function(t){function n(n){var i;return(i=t.call(this,Id.xl)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new TN(this.gl._l)},n}(Nd),TN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return U(n,t),n}(Dd),SN=function(t){function n(n){var i;return(i=t.call(this,Id.yl)||this).Og=n,i}return U(n,t),n.prototype.wl=function(){return new EN(this.Og._l)},n}(Nd),EN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return U(n,t),n}(Dd),RN=function(t){function n(n){var i;return(i=t.call(this,Id.pl)||this).Og=n,i}return U(n,t),n.prototype.wl=function(){return new IN(this.Og._l)},n}(Nd),IN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return U(n,t),n}(Dd),NN=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).ll=void 0,a.mg=void 0,a.kg=L_(),a.Dz=!1,a.Cz=void 0,a.xz=void 0,a.pg=void 0,a._U=void 0,a.wN=rl.a_,a.lz=W_.NONE,a.Pz=void 0,a.Vs=void 0,a.Oz=void 0,a.Nz=[],a.Bz=[],a.Lz=void 0,a.Mz=void 0,a.Uz=0,a.Fz=0,a.mg=i||"",a.Cz=h||"",a.xz=n,a._U=r||"",a.Dz=Boolean(s),a.Oz=Boolean(o),a.Vs=u||q_.DEFAULT,a.pg=e||"",a.Lz=new pN(a.Nz),a.Mz=new pN(a.Bz),a}U(n,t);var i=n.prototype;return i.Hz=function(t){return $r(this.Lz.ql,function(n){return n.i_===t})},i.wl=function(){return al(this)},i.CN=function(t){var n=ol(t);n!==this.l_&&(this.wN=n,n===rl.a_&&(this.Bz.forEach(function(t){t.ny=!1}),es(this.Bz),this.Fz=0),this.jo(new Ld(this)))},i.nT=function(t){if(t&&!t.gl){var n=gN(this.y_.ql,t);if(!(n>=0)){t.gl=this;var i=-(n+1);this.Nz.splice(i,0,t),this.Vz(i),t.Kg=i,i<this.Fz&&(this.Fz=i),this.jo(new SN(t))}}},i.zz=function(t){if(t&&t.gl===this){var n=this.Ez(t);if(!(n<0)){t.ny=!1;var i=this.Bz,e=gN(i,t);e>=0&&ns(i,e),ns(this.Nz,n),this.Vz(n),t.Kg=-1,this.Fz>n&&--this.Fz,this.jo(new RN(t))}}},i.Xz=function(t,n){var i=this.Bz,e=this.Nz,r=this.Fz,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){_N(i[u],t)||(s=!0,ns(i,u))}for(;r<e.length&&e[r].Bg<=t;){var o=e[r];if(0===t)break;_N(o,t)&&!is(i,o)&&(s=!0,i.push(o)),r++}s&&qr(i,wN),this.Fz=r},i.Ez=function(t){return(-1===t.Kg||t.Kg>=this.Uz)&&this.Wz(),t.Kg},i.Wz=function(){for(var t=this.Nz,n=this.Uz;n<t.length;n++)t[n].Kg=n;this.Uz=t.length},i.Vz=function(t){t<this.Uz&&(this.Uz=t)},i.__=function(t){this.w_||(this.l_=t)},i.Zv=function(){this.Jo();for(var t=this.Nz.slice(),n=0;n<t.length;n++){t[n].Zv()}es(this.Nz),es(this.Bz)},L(n,[{key:"m_",get:function(){return this.Mz}},{key:"y_",get:function(){return this.Lz}},{key:"eT",get:function(){return this.Dz},set:function(t){this.Dz=t}},{key:"w_",get:function(){return this.Oz}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"i_",get:function(){return this.mg}},{key:"e_",get:function(){return this.kg}},{key:"d_",get:function(){return this.Cz},set:function(t){this.Cz=t}},{key:"r_",get:function(){return this.xz}},{key:"s_",get:function(){return this.pg},set:function(t){t!==this.pg&&(this.pg=t,this.jo(new P_(this)))}},{key:"u_",get:function(){return this._U}},{key:"l_",get:function(){return this.wN},set:function(t){this.CN(t)}},{key:"g_",get:function(){return this.lz},set:function(t){this.lz!==t&&(this.lz=t,this.jo(new kN(this,this.lz)))}},{key:"p_",get:function(){return this.Pz},set:function(t){this.Pz=t}},{key:"do",get:function(){return this.Vs},set:function(t){this.Vs!==t&&(this.Vs=t,this.jo(new bN(this)))}}]),n}(Is),DN=function(t){function n(n,i){var e;return(e=t.call(this,Y_.Dg,n)||this).om=i,e}return U(n,t),n.prototype.wl=function(){return new CN(this.Og._l)},n}(nw),CN=function(t){function n(n){return t.call(this,Z_.Dg,n)||this}return U(n,t),n}(iw),xN=function(t){function n(n,i){var e;return(e=t.call(this,Y_.xg,n)||this).om=i,e}return U(n,t),n.prototype.wl=function(){return new PN(this.Og._l)},n}(nw),PN=function(t){function n(n){return t.call(this,Z_.xg,n)||this}return U(n,t),n}(iw),ON=function(t){function n(n){var i;return(i=t.call(this,Id.Al)||this).Og=n,i}return U(n,t),n.prototype.wl=function(){return new BN(this.Og._l)},n}(Nd),BN=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return U(n,t),n}(Dd),LN=function(t){function n(n){var i;return(i=t.call(this,Id.Tl)||this).Og=n,i}return U(n,t),n.prototype.wl=function(){return new MN(this.Og._l)},n}(Nd),MN=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return U(n,t),n}(Dd),UN=function(t){function n(n){var i;return(i=t.call(this)||this).qz=void 0,i.kg=void 0,i.Qg=void 0,i.ll=void 0,i.Yg=!1,i.$g="",i.Gz=function(){i.ny=!0},i.jz=function(){i.ny=!1},i.kg=H_(),i.qz=n,i.qz.addEventListener("enter",i.Gz),i.qz.addEventListener("exit",i.jz),i}U(n,t);var i=n.prototype;return i.wl=function(){return ew(this)},i.ty=function(t){return this===t||Wd(this,t)&&ow(this,t)},i.Zv=function(){this.Jo(),this.qz.removeEventListener("enter",this.Gz),this.qz.removeEventListener("exit",this.jz)},L(n,[{key:"e_",get:function(){return this.kg}},{key:"Bg",get:function(){return this.qz.startTime},set:function(t){this.qz.startTime=t}},{key:"Lg",get:function(){return this.qz.endTime},set:function(t){this.qz.endTime=t}},{key:"Mg",get:function(){return this.qz.text},set:function(t){this.qz.text=t+""}},{key:"ey",get:function(){return!!this.qz.pauseOnExit},set:function(t){this.qz.pauseOnExit=!!t}},{key:"gl",get:function(){return this.Qg},set:function(t){this.Qg=t}},{key:"i_",get:function(){return this.qz.id||""}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"iy",get:function(){return this.$g},set:function(t){this.$g=t}},{key:"ny",get:function(){return this.Yg},set:function(t){this.ny!==t&&(this.Yg=t,t?(this.jo(new DN(this,this.Bg)),this.Qg&&this.Qg.jo(new ON(this))):(this.jo(new xN(this,this.Lg)),this.Qg&&this.Qg.jo(new LN(this))))}}]),n}(ll),FN=function(t){function n(n){var i;return(i=t.call(this,Id.El)||this).gl=n,i}return U(n,t),n.prototype.wl=function(){return new HN(this.gl._l)},n}(Nd),HN=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return U(n,t),n}(Dd);function VN(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new zN(t),t.THEOplayerVTTRegion=n),n}}var zN=function(){function t(t){this.Qz=void 0,this.ll=void 0,this.Qz=t}return L(t,[{key:"Yz",get:function(){return this.Qz}},{key:"i_",get:function(){return this.Qz.id||""}},{key:"ku",get:function(){return+this.Qz.width||0},set:function(t){this.Qz.width=t||0}},{key:"sy",get:function(){return+this.Qz.lines||0},set:function(t){this.Qz.lines=t||0}},{key:"uy",get:function(){return+this.Qz.regionAnchorX||0},set:function(t){this.Qz.regionAnchorX=t||0}},{key:"oy",get:function(){return+this.Qz.regionAnchorY||0},set:function(t){this.Qz.regionAnchorY=t||0}},{key:"ay",get:function(){return+this.Qz.viewportAnchorX||0},set:function(t){this.Qz.viewportAnchorX=t||0}},{key:"vy",get:function(){return+this.Qz.viewportAnchorY||0},set:function(t){this.Qz.viewportAnchorY=t||0}},{key:"hy",get:function(){return this.Qz.scroll||""}},{key:"_l",get:function(){return this.ll||(this.ll=_w(this)),this.ll}}]),t}(),XN=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"qg",get:function(){return this.qz.vertical||""},set:function(t){this.qz.vertical=t||""}},{key:"Wg",get:function(){return!!this.qz.snapToLines},set:function(t){this.qz.snapToLines=!!t}},{key:"Fg",get:function(){return this.qz.line},set:function(t){this.qz.line=t}},{key:"kh",get:function(){return+this.qz.size},set:function(t){this.qz.size=qt(t,0,100)}}]),n}(UN),WN=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ty=function(n){return this===n||Wd(this,n)&&t.prototype.ty.call(this,n)&&aw(this,n)},L(n,[{key:"Xg",get:function(){return VN(this.qz.region)}},{key:"Hg",get:function(){return this.qz.lineAlign||"start"},set:function(t){this.qz.lineAlign=t||"start"}},{key:"Vg",get:function(){return this.qz.position},set:function(t){this.qz.position=t}},{key:"zg",get:function(){return this.qz.positionAlign||"auto"},set:function(t){this.qz.positionAlign=t||"auto"}},{key:"Ug",get:function(){return this.qz.align||"center"},set:function(t){this.qz.align=t||"center"}},{key:"_l",get:function(){return this.ll||(this.ll=sw(this)),this.ll}}]),n}(XN),qN=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.ty=function(n){return this===n||Wd(this,n)&&t.prototype.ty.call(this,n)&&aw(this,n)},L(n,[{key:"Xg",get:function(){return VN(this.Yz)}},{key:"Yz",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.qz.track,this.qz.regionId)}},{key:"Hg",get:function(){return"middle"===(t=this.qz.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.qz.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Vg",get:function(){return this.qz.position},set:function(t){var n,i;this.qz.position=(n=t,i=this.Ug,tw(n,i))}},{key:"zg",get:function(){return t=this.qz.positionAlign||"middle",$_[t];var t},set:function(t){var n,i;this.qz.positionAlign=(n=t||"center",i=this.Ug,J_[K_(n,i)])}},{key:"Ug",get:function(){return"middle"===(t=this.qz.align||"middle")?"center":t;var t},set:function(t){var n;this.qz.align="center"===(n=t||"center")?"middle":n}},{key:"_l",get:function(){return this.ll||(this.ll=sw(this)),this.ll}}]),n}(XN);function GN(t,n){return t.Mg===n.Mg}function jN(t,n,i){for(var e=t[n].Bg,r=n;r>=0&&t[r].Bg===e;r--)t[r].Lg=i}function QN(t){return ew(t)}var YN,ZN,JN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Zz=void 0,e.Zz=i,e}return U(n,t),n.prototype.ty=function(n){return this===n||Wd(this,n)&&t.prototype.ty.call(this,n)&&GN(this,n)},L(n,[{key:"Mg",get:function(){return this.Zz}},{key:"_l",get:function(){return this.ll||(this.ll=QN(this)),this.ll}}]),n}(UN);function $N(t){switch(t){case YN.ISO_8859_1:case YN.UTF16_BOM:case YN.UTF16:case YN.UTF8:return!0}return!1}function KN(t){switch(t){case YN.ISO_8859_1:return Iu;case YN.UTF16_BOM:return Cu;case YN.UTF16:return xu;case YN.UTF8:return Fu}}function tD(t,n){var i=n.Eh,e=t.byteLength,r=qu(t);return n.bh(e-i),Qu(r,i,e).buffer}function nD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function iD(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e);return{id:i,language:Eu(t,n,3),description:r(t,n),text:r(t,n)}}}function eD(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e);return{id:i,mimeType:Iu(t,n),fileName:r(t,n),description:r(t,n),data:tD(t,n)}}}function rD(t,n,i){var e=du(t,n);if($N(e)){for(var r=KN(e),s=[];n.Eh<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function sD(t,n,i){var e=du(t,n);if($N(e)){for(var r=KN(e),s=Eu(t,n,3),u=du(t,n),o=du(t,n),h=r(t,n),a=!1,c=[];n.Eh<t.byteLength;){var f=void 0;if(e===YN.UTF16_BOM){var v=Du(t,n);void 0===v?v=a:a=v,f=xu(t,n,v)}else f=r(t,n);if(!f||n.Eh+4>t.byteLength)break;c.push({text:f,timestamp:ku(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function uD(t,n,i){return{id:i,ownerIdentifier:Iu(t,n),identifier:tD(t,n)}}function oD(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e);return{id:i,language:Eu(t,n,3),description:r(t,n),text:r(t,n)}}}function hD(t,n,i){var e=du(t,n);if($N(e))return{id:i,text:KN(e)(t,n)}}function aD(t,n,i){return{id:i,url:Iu(t,n)}}function cD(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e);return{id:i,description:r(t,n),text:r(t,n)}}}function fD(t,n,i){var e=du(t,n);if($N(e))return{id:i,description:KN(e)(t,n),url:Iu(t,n)}}function vD(t,n,i){switch(i){case"COM":return iD(t,n,i);case"GEO":return eD(t,n,i);case"IPL":return rD(t,n,i);case"PIC":return function(t,n,i){var e=du(t,n);if($N(e)){var r,s,u=KN(e),o=Eu(t,n,3),h=du(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=Iu(t,n)):(r="image/"+o.toLowerCase(),s=tD(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return sD(t,n,i);case"TXX":return cD(t,n,i);case"UFI":return uD(t,n,i);case"ULT":return oD(t,n,i);case"WXX":return fD(t,n,i);default:if("T"===i.charAt(0))return hD(t,n,i);if("W"===i.charAt(0))return aD(t,n,i)}}function dD(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e),s=Iu(t,n);return{id:i,mimeType:s,pictureType:du(t,n),description:r(t,n),data:"--\x3e"===s?Iu(t,n):tD(t,n)}}}(t,n,i);case"COMM":return iD(t,n,i);case"COMR":return function(t,n,i){var e=du(t,n);if($N(e)){var r,s,u=KN(e),o=Iu(t,n),h=Eu(t,n,8),a=Iu(t,n),c=du(t,n),f=u(t,n),v=u(t,n);return n.Eh<t.byteLength&&(r=Iu(t,n)||"image/",s=tD(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return eD(t,n,i);case"IPLS":return rD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Iu(t,n),data:tD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:du(t,n),position:ku(t,n)}}(t,n,i);case"SYLT":return sD(t,n,i);case"TXXX":return cD(t,n,i);case"UFID":return uD(t,n,i);case"USER":return function(t,n,i){var e=du(t,n);if($N(e)){var r=KN(e);return{id:i,language:Eu(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return oD(t,n,i);case"WXXX":return fD(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return hD(t,n,i);default:var e=i.charAt(0);if("T"===e)return hD(t,n,i);if("W"===e)return aD(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(YN||(YN={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(ZN||(ZN={}));var lD=10;function _D(t,n){return(127&du(t,n))<<21|(127&du(t,n))<<14|(127&du(t,n))<<7|127&du(t,n)}function wD(t,n){switch(t){case ZN.V24:return{Jz:vu(n,0),$z:vu(n,1),Kz:vu(n,2),tX:vu(n,3)};case ZN.V23:return{Jz:vu(n,0),$z:vu(n,1),Kz:vu(n,2)};case ZN.V22:return{Jz:vu(n,0),nX:vu(n,1)}}}function gD(t,n,i){switch(i.ck){case ZN.V23:i.fk.$z&&function(t,n){var i=n.Eh,e=ku(t,n)+4,r=32768&mu(t,n);n.Th(i+e),r&&ku(t,n)}(t,n);break;case ZN.V24:i.fk.$z&&function(t,n){var i=n.Eh,e=_D(t,n);n.Th(i+e)}(t,n)}}function yD(t,n){if(t.byteLength-n.Eh<lD)return null;if(73!==du(t,n)||68!==du(t,n)||51!==du(t,n))return null;var i=du(t,n),e=du(t,n);if(!function(t){switch(t){case ZN.V22:case ZN.V23:case ZN.V24:return!0}return!1}(i))return null;var r=du(t,n),s=_D(t,n);return{ck:i,iX:e,fk:wD(i,r),eX:s}}function mD(t,n,i){switch(i.ck){case ZN.V22:return function(t,n,i){return{i_:Eu(t,n,3),kh:yu(t,n,3)}}(t,n);case ZN.V23:return function(t,n,i){var e=Eu(t,n,4),r=ku(t,n);du(t,n);var s=du(t,n);return{i_:e,kh:r,fk:{nX:vu(s,0),rX:vu(s,1),groupingIdentity:vu(s,2)}}}(t,n);case ZN.V24:return function(t,n,i){var e=Eu(t,n,4),r=_D(t,n);du(t,n);var s=du(t,n);return{i_:e,kh:r,fk:{groupingIdentity:vu(s,1),nX:vu(s,4),rX:vu(s,5),Jz:vu(s,6),sX:vu(s,7)}}}(t,n)}}function pD(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function kD(t,n){var i=n||new Zu,e=yD(t,i);return e?{rk:e,uX:function(t,n,i){var e=[],r=n.Eh,s=Xu(t,r,r+i.eX),u=new Zu;switch(n.bh(i.eX),i.ck){case ZN.V22:case ZN.V23:i.fk.Jz&&(s=pD(s))}gD(t,n,i);for(;u.Eh<s.byteLength;)e.push(AD(s,u,i));return e}(t,i,e)}:null}function AD(t,n,i){var e,r,s=mD(t,n,i),u=n.Eh,o=Xu(t,u,u+s.kh);switch(n.bh(s.kh),i.ck){case ZN.V22:var h=s;e=vD(r=o,new Zu,h.i_);break;case ZN.V23:var a=s,c=new Zu;!function(t,n,i){var e,r,s,u=i.fk;u.nX&&(e=ku(t,n)),u.rX&&(r=du(t,n)),u.groupingIdentity&&(s=du(t,n))}(o,c,a),e=dD(r=Xu(o,c.Eh,o.byteLength),new Zu,a.i_);break;case ZN.V24:var f=s,v=new Zu;f.fk.Jz&&(o=pD(o)),function(t,n,i){var e,r,s,u,o=i.fk;o.groupingIdentity&&(e=du(t,n)),o.nX&&(r=ku(t,n)),o.rX&&(s=du(t,n)),o.sX&&(u=_D(t,n))}(o,v,f),e=dD(r=Xu(o,v.Eh,o.byteLength),new Zu,f.i_)}if(!e){var d=Yu(qu(r));e=nD(s.i_,d.buffer)}return e}function bD(t){return function(t,n,i){return hD(t,n,i)}(new DataView(t.data),new Zu,t.key)}function TD(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return bD(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return nD(t.key,t.data)}(t)}var SD="org.id3";var ED=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).yg=void 0,r.oX=void 0,r.Nz=[],r.Bz=[],r.Lz=void 0,r.Mz=void 0,r.kg=void 0,r.pg=void 0,r.wN=rl.a_,r.lz=W_.NONE,r.ll=void 0,r.Pz=void 0,r.Vs=q_.DEFAULT,r.hX=void 0,r.aX=function(){r.cX(),r.yg.removeEventListener("cuechange",r.aX)},r.fX=function(){r.l_!==rl.a_&&(r.vX(),r.Xz(),r.Nz.length&&r.dX(W_.LOADING))},r.lX=function(){r.dX(W_.LOADED)},r._X=function(){r.dX(W_.ERROR)},r.yg=n,r.hX=e,r.yg.addEventListener("cuechange",r.aX),r.yg.addEventListener("cuechange",r.fX),r.oX=i,r.oX&&(r.Pz=Ff(r.oX.src),r.oX.addEventListener("load",r.lX),r.oX.addEventListener("error",r._X)),r.kg=L_(),r.pg=n.label||"",r.Lz=new pN(r.Nz),r.Mz=new pN(r.Bz),r.l_=r.wX,ps(function(){r.fX(),r.dX(W_.NONE)}),r}U(n,t);var i=n.prototype;return i.wl=function(){return al(this)},i.cX=function(){var t=this.l_;this.gX||t!==rl.f_?this.wX=t:this.wX=rl.c_},i.yX=function(){var t=this.l_,n=this.wX;t!==n&&(this.gX||t!==rl.f_||n!==rl.c_)&&("metadata"===this.r_&&n===rl.a_?this.l_=t:this.l_=n)},i.wz=function(t){this.lz!==t&&(this.lz=t,this.jo(new kN(this,t)))},i.dX=function(t){var n=l.max(this.lz,this.mX,t);this.wz(n)},i.pX=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.kX=function(t){var n=this.pX(t);if(n)return n;if(tt(n=this.AX(t)))for(var i=0,e=n;i<e.length;i++){e[i].gl=this}else n.gl=this;return t.THEOplayerTextTrackCue=n,n},i.AX=function(t){return(n=t)&&n.type===SD&&n.value?(this.do=q_.ID3,function(t){var n;try{n=TD(t.value)}catch(t){n=nD("")}return new JN(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.do=q_.ID3,function(t){var n=[];try{var i=kD(new DataView(t.data));if(i)for(var e=0,r=i.uX;e<r.length;e++){var s=r[e];n.push(new JN(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.do=q_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new qN(t):new WN(t)):new UN(t);var n},i.bX=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.kX(t[e]||t.item(e));if(tt(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.vX=function(){for(var t=this.bX(this.yg.cues),n=mN(this.Nz,t),i=0,e=n.Iz;i<e.length;i++){var r=e[i];this.jo(new RN(r))}for(var s=0,u=n.Rz;s<u.length;s++){var o=u[s];this.jo(new SN(o))}},i.Xz=function(){for(var t=this.bX(this.yg.activeCues),n=mN(this.Bz,t),i=0,e=n.Iz;i<e.length;i++){e[i].ny=!1}for(var r=0,s=n.Rz;r<s.length;r++){s[r].ny=!0}(n.Rz.length||n.Iz.length)&&this.jo(new FN(this))},i.__=function(t){this.l_=t},i.Zv=function(){this.Jo();for(var t=this.Nz.slice(),n=0;n<t.length;n++){t[n].Zv()}es(this.Nz),es(this.Bz),this.yg.removeEventListener("cuechange",this.fX),this.oX&&(this.yg.removeEventListener("load",this.lX),this.yg.removeEventListener("error",this._X)),this.oX&&Ee(this.oX)},L(n,[{key:"m_",get:function(){return this.Mz}},{key:"eT",get:function(){return this.oX?this.oX.default:void 0}},{key:"y_",get:function(){return this.Lz}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"i_",get:function(){return this.yg.id||this.oX&&this.oX.id||""}},{key:"e_",get:function(){return this.kg}},{key:"d_",get:function(){return this.yg.inBandMetadataTrackDispatchType||""}},{key:"r_",get:function(){return this.yg.kind||sy.xp}},{key:"s_",get:function(){return this.pg},set:function(t){t!==this.s_&&(this.pg=t,this.jo(new P_(this)))}},{key:"u_",get:function(){return this.yg.language||""}},{key:"l_",get:function(){return this.wN},set:function(t){var n=this.l_;this.wN=ol(t),this.cX();var i=this.l_;n!==i&&this.jo(new Ld(this)),i!==rl.a_&&this.dX(W_.LOADING)}},{key:"wX",get:function(){return ol(this.yg.mode)},set:function(t){this.yg.mode=t}},{key:"Eg",get:function(){return this.yg}},{key:"g_",get:function(){return this.lz}},{key:"mX",get:function(){return this.oX?+this.oX.readyState||W_.NONE:W_.LOADED}},{key:"p_",get:function(){return this.Pz}},{key:"do",get:function(){return this.Vs},set:function(t){this.Vs!==t&&(this.Vs=t,this.jo(new bN(this)))}},{key:"gX",get:function(){return this.hX},set:function(t){this.hX=t,this.cX()}}]),n}(Is);function RD(t){return t instanceof ED}function ID(t,n){return Yr(t.om,n.om)||function(t,n){return t.gl===n.gl?Qr(yN(t),yN(n)):py(t.gl,n.gl)}(t.Og,n.Og)||function(t,n){return t===n?zr.So:t===Y_.Dg?zr.Ro:zr.Eo}(t.type,n.type)}var ND=function(){function t(t,n){var i=this;this.QR=void 0,this.TX=void 0,this.Sw=[],this.SX=0,this.EX=0,this.RX=[],this.IX=!1,this.NX=!1,this.DX=void 0,this.CX=function(){i.SX=0,i.xX(),i.PX()},this.OX=function(){i.xX(),i.PX()},this.BX=function(){i.NX=!0,i.DX=i.QR.tw,i.LX()},this.MX=function(){i.xX(),i.PX()},this.UX=function(){i.FX(),i.xX(),i.PX()},this.HX=function(){i.VX()},this.zX=function(t){ts(i.RX,t.Og),i.VX()},this.TX=n,this.QR=t,t.Qo(Ko.Bc,this.OX),t.Qo(Ko.Ac,this.OX),t.Qo(Vl.K_,this.OX),t.Qo(Ko.kc,this.OX),t.Qo(Ko.Ic,this.BX),t.Qo(Ko.Rc,this.MX),this.VX()}var n=t.prototype;return n.Wl=function(){es(this.RX);for(var t=0,n=this.Sw.slice();t<n.length;t++){var i=n[t];this.zl(i)}this.LX(),this.SX=0,this.EX=0,this.IX=!1,this.NX=!1,this.DX=void 0},n.Vl=function(t){is(this.Sw,t)||(this.Sw.push(t),t.Qo(Id.yl,this.HX),t.Qo(Id.pl,this.zX),t.Qo(Id.Il,this.UX),t.y_.Gl&&this.VX(),this.FX())},n.zl=function(t){if(ts(this.Sw,t)){if(t.$o(Id.yl,this.HX),t.$o(Id.pl,this.zX),t.$o(Id.Il,this.UX),t.y_.Gl){for(var n=0,i=t.y_.ql;n<i.length;n++){var e=i[n];ts(this.RX,e)}this.VX()}this.FX()}},n.FX=function(){this.IX=this.Sw.some(function(t){return t.l_!==rl.a_})},n.PX=function(){this.QR.ow||this.QR.sw?this.LX():this.VX()},n.VX=function(){this.IX&&(this.SX||(this.SX=this.TX.ae(this.CX)))},n.LX=function(){this.SX&&(this.TX.XX(this.SX),this.SX=0)},n.xX=function(){var t;if(this.IX&&!this.QR.ow){var n=this.Sw,i=this.EX,e=null!=(t=this.DX)?t:this.QR.tw,r=e-i<-.1,s=this.NX||r;s&&e>i&&e-i<.1&&(s=!1),this.NX=!1,this.DX=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.l_!==rl.a_){a.Xz(e,s);for(var c=0,f=a.m_.ql;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.RX;else{u=[];for(var d=0;d<n.length;d++){var _=n[d];_.l_!==rl.a_&&my(_,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)is(o,u[w])&&ns(u,w);var g=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Bg>=i&&m.Lg<=e&&(g.push(m),ns(u,y))}for(var p=[],k=[],A=0;A<g.length;A++){var b=g[A];b.ny||p.push(new DN(b,b.Bg)),p.push(new xN(b,l.max(b.Bg,b.Lg)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.ny&&(p.push(new xN(E,l.max(E.Bg,E.Lg))),E.ny=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.ny||(p.push(new DN(I,I.Bg)),I.ny=!0)}p.sort(ID);for(var N=0;N<p.length;N++){var D=p[N],C=D.Og;C.jo(D);var x=C.gl;x&&(D.type===Y_.Dg?x.jo(new ON(C)):x.jo(new LN(C)),is(k,x)||k.push(x))}k.sort(py);for(var P=0;P<k.length;P++){var O=k[P];O.jo(new FN(O))}this.EX=e,this.RX=o}},n.Zv=function(){this.Wl(),this.QR.$o(Ko.Bc,this.OX),this.QR.$o(Ko.Ac,this.OX),this.QR.$o(Vl.K_,this.OX),this.QR.$o(Ko.kc,this.OX),this.QR.$o(Ko.Ic,this.BX),this.QR.$o(Ko.Rc,this.MX)},t}(),DD=function(){function t(){}var n=t.prototype;return n.ae=function(t){return cT(t)},n.XX=function(t){fT(t)},t}(),CD=new DD,xD=function(t){function n(n,i){return void 0===i&&(i=CD),t.call(this,n,i)||this}return U(n,t),n}(ND),PD=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).WX=void 0,r}return U(n,t),n.prototype.ty=function(n){return this===n||Wd(this,n)&&t.prototype.ty.call(this,n)&&GN(this,n)},L(n,[{key:"_l",get:function(){return this.ll||(this.ll=QN(this)),this.ll}}]),n}(hw),OD=function(t){function n(n,i,e){return void 0===e&&(e=q_.DEFAULT),t.call(this,sy.Op,"",i||"","",!1,e,!1,n)||this}return U(n,t),n}(NN),BD=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).do=q_.ID3,e.WX=void 0,e}U(n,t);var i=n.prototype;return i.nT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Bg<t.Bg)jN(n,i,t.Bg);else{var e=n[0];if(e.Bg>t.Bg)t.Lg=e.Bg;else{var r=gN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].Bg<t.Bg&&jN(n,u,t.Bg),s<n.length){var o=n[s];t.Lg=o.Bg}}}}}}(n,this.Nz),t.prototype.nT.call(this,n)},i.wl=function(){return al(this)},n}(OD);function LD(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=TD(t.value);return t.THEOplayerTextTrackCue=new PD(i,e),t.THEOplayerTextTrackCue}var MD=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).yg=void 0,i.fX=function(){i.l_!==rl.a_&&(i.vX(),i.dX(W_.LOADED))},i.yg=n,i.yg.addEventListener("cuechange",i.fX),i.l_=i.wX,ps(function(){i.fX()}),i}U(n,t);var i=n.prototype;return i.CN=function(n){t.prototype.CN.call(this,n),this.wX=this.l_},i.dX=function(t){this.g_=l.max(this.g_,t)},i.vX=function(){for(var t=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(LD(t[e]||t.item(e)));return qr(i,wN),i}(this.yg.cues),n=mN(this.y_.ql.slice(),t),i=0,e=n.Iz;i<e.length;i++){var r=e[i];this.zz(r)}for(var s=0,u=n.Rz;s<u.length;s++){var o=u[s];this.nT(o)}},i.Zv=function(){this.yg.removeEventListener("cuechange",this.fX),t.prototype.Zv.call(this)},L(n,[{key:"i_",get:function(){return this.yg.id||""}},{key:"d_",get:function(){return this.yg.inBandMetadataTrackDispatchType||""}},{key:"u_",get:function(){return this.yg.language||""}},{key:"wX",get:function(){return ol(this.yg.mode)},set:function(t){this.yg.mode=t}},{key:"Eg",get:function(){return this.yg}}]),n}(BD),UD=function(t){function n(n){var i;return(i=t.call(this,0,n.Mg)||this).qX=void 0,i.qX=n,i.Lg=i.qX.Bg,i}return U(n,t),L(n,[{key:"i_",get:function(){return this.qX.i_}},{key:"ey",get:function(){return this.qX.ey},set:function(t){this.qX.ey=t}},{key:"iy",get:function(){return this.qX.iy},set:function(t){this.qX.iy=t}}]),n}(PD);function FD(t){return void 0===t.WX&&(t.WX=new UD(t)),t.WX}var HD=function(t){function n(n,i){var e;(e=t.call(this,n.d_,n.s_)||this).GX=void 0,e.jX=void 0,e.QX=void 0,e.do=q_.ID3,e.YX=function(t){e.ZX(t.Og)},e.JX=function(t){var n=t.Og;if(void 0!==n.WX){var i=n.WX;n.WX=void 0,e.zz(i),i.Zv()}},e.$X=function(t){var n=FD(t.Og);n.ny||e.KX(n),e.tW(n)},e.nW=function(t){var n=t.Og,i=FD(n);e.jX.tw<n.Bg&&e.KX(i)},e.iW=function(){var t=e.QX,n=e.l_;if(e.QX=n,n===rl.a_)e.Bz.forEach(function(t){return t.ny=!1}),es(e.Bz);else if(t===rl.a_)for(var i=e.jX.tw,r=0,s=e.Nz;r<s.length;r++){var u=s[r];i<u.Lg&&e.KX(u)}},e.jX=i,e.GX=n,e.QX=n.l_,n.Qo(Id.yl,e.YX),n.Qo(Id.pl,e.JX),n.Qo(Id.Al,e.$X),n.Qo(Id.Tl,e.nW),n.Qo(Id.Il,e.iW);for(var r=0,s=e.GX.y_.ql;r<s.length;r++){var u=s[r];e.ZX(u)}return e}U(n,t);var i=n.prototype;return i.KX=function(t){var n=gN(this.Bz,t);if(!(n>=0)){var i=-(n+1);this.Bz.splice(i,0,t),t.ny=!0,t.jo(new DN(t,this.jX.tw)),this.jo(new ON(t)),this.jo(new FN(this))}},i.tW=function(t){var n=gN(this.Bz,t);n>=0&&ns(this.Bz,n),t.ny=!1,t.jo(new xN(t,this.jX.tw)),this.jo(new LN(t)),this.jo(new FN(this))},i.Zv=function(){this.GX.$o(Id.yl,this.YX),this.GX.$o(Id.pl,this.JX),this.GX.$o(Id.Al,this.$X),this.GX.$o(Id.Tl,this.nW),this.GX.$o(Id.Il,this.iW),t.prototype.Zv.call(this)},i.ZX=function(t){var n=FD(t);(this.nT(n),this.l_!==rl.a_)&&(this.jX.tw<n.Lg&&this.KX(n))},L(n,[{key:"r_",get:function(){return this.GX.r_}},{key:"s_",get:function(){return this.GX.s_},set:function(t){this.GX.s_=t}},{key:"u_",get:function(){return this.GX.u_}},{key:"i_",get:function(){return this.GX.i_}},{key:"e_",get:function(){return this.GX.e_}},{key:"d_",get:function(){return this.GX.d_}},{key:"l_",get:function(){return this.GX.l_},set:function(t){this.GX.l_=t}},{key:"g_",get:function(){return this.GX.g_}},{key:"p_",get:function(){return this.GX.p_}}]),n}(OD),VD=function(t){function n(n){var i;return(i=t.call(this)||this).jX=void 0,i.jX=n,i}U(n,t);var i=n.prototype;return i.Vl=function(n){if(n.do===q_.ID3){var i=n;return i.WX||(i.WX=new HD(i,this.jX)),t.prototype.Vl.call(this,i.WX)}return t.prototype.Vl.call(this,n)},i.zl=function(n){if(n.do===q_.ID3){var i=n;return!!i.WX&&t.prototype.zl.call(this,i.WX)}return t.prototype.zl.call(this,n)},n}(dl),zD=function(t){function n(n,i){var e;return(e=t.call(this)||this).eW=rr(),e.yE=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.gl).do){t.next=4;break}return t.next=4,i.ih(Id.xl);case 4:if(i.do===q_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.y_.Gl){t.next=11;break}return t.next=9,i.ih(Id.yl);case 9:t.next=6;break;case 11:e.rW(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.mE=function(t){var n=t.gl;if(n.do===q_.ID3&&e.eW.has(n.e_)){var i=e.eW.get(n.e_);e.zl(i),e.Yb.iT(i),n.$o(Id.yl,e.ZX)}},e.ZX=function(t){XD(t.Og)&&e.sW(t.Og)},e.Yb=n,e.uW=i,e.oW(),e}U(n,t);var i=n.prototype;return i.oW=function(){this.uW.Qo(Td.cl,this.yE),this.uW.Qo(Td.vl,this.mE)},i.hW=function(){this.uW.$o(Td.cl,this.yE),this.uW.$o(Td.vl,this.mE)},i.rW=function(t){var n=t.y_.ql[0];if(XD(n)){var i=function(t){var n=t.match(WD);if(!n)return;return{gl:n[1],u_:n[2]}}(n.Mg.description),e=i.gl,r=i.u_;if(!this.aW(e,r)){var s=this.Yb.Kb(sy.xp,t.i_,e,r,!1,q_.TTML);this.Vl(s),this.eW.set(t.e_,s);for(var u=0,o=t.y_.ql;u<o.length;u++){var h=o[u];XD(h)&&this.sW(h)}t.Qo(Id.yl,this.ZX)}}},i.aW=function(t,n){return!!$r(this.Ek.ql,function(i){return i.s_===t&&i.u_===n})},i.sW=function(t){if(t.gl)for(var n=this.eW.get(t.gl.e_),i=Yg(t.Mg.text,0,{Mm:0,Um:1/0,Fm:-t.Lg}),e=0;e<i.length;e++){var r=i[e];n.nT(r)}},i.Wl=function(){var n=T.coroutine(tr.mark(function n(){var i,e,r,s,u;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,e=this.uW.ql;i<e.length;i++)e[i].$o(Id.yl,this.ZX);for(r=0,s=this.Ek.ql;r<s.length;r++)u=s[r],this.Yb.iT(u);return this.eW.clear(),n.next=5,t.prototype.Wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Zv=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.hW(),n.next=3,t.prototype.Zv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(oy);function XD(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Mg)&&WD.test(n.description);var n}var WD=/^Track:(.+),Lang:(.+)$/;var qD=function(t){function n(n){var i;return(i=t.call(this,Ko.oc)||this).errorObject=void 0,i.errorObject=n,i}return U(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ds),GD=function(t){function n(){return t.call(this,Ko.hc)||this}return U(n,t),n}(Ds),jD=function(t){function n(n){var i;return(i=t.call(this,"Uc")||this).cW=n,i}return U(n,t),n}(Ds),QD=new XS,YD=function(t){function i(i,e,r){var s;return(s=t.call(this)||this).Jh=void 0,s.Wi=!1,s.fW=!1,s.Wd=new cs,s.Vh=function(t){switch(t.uh){case"license-request":s.UT(t.sh,t.oh).catch(function(t){return s.Aa(t)});break;default:s.Aa(new S_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.uh))}},s.vW=function(t){s.dW.Kh.yh(function(t,n){switch(t){case"usable":b.he(function(){s.fW=!0,s.jo(new GD)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.jo(new jD(n))}})},s.lW=function(t){s.Aa(new S_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.dW=i,s._W=e,s.wW=r,i.Qo("sh",s.Vh),i.Qo("rh",s.vW),i.Qo("hh",s.lW),s.Jh=i.Jh.then(function(){return s.gW()}),s}U(i,t);var e=i.prototype;return e.Gh=function(){var t=this;return this.Wi=!0,QD.gL(function(n){return t.yW(n)},this.Wd.zo)},e.yW=function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,ds(i),t.next=4,this._W.CT(i);case 4:return t.next=6,this._W.xT(this.wW._o,this.wW.lh,i);case 6:return e=t.sent,t.next=9,this.dW.Gh(this.wW._o,this.wW.lh,e);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),ls(t.t0),r=t.t0 instanceof eo?t.t0.Oh:void 0,s=new S_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,r),this.Aa(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),e.UT=function(){var t=T.coroutine(tr.mark(function t(i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!to(i)){t.next=7;break}return t.next=4,this._W.GT(new y(i),this.Wd.zo);case 4:r=t.sent,t.next=10;break;case 7:return t.next=9,this._W.jT(new y(i),e,this.Wd.zo);case 9:r=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!vs(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.dW.Yh(r);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof eo?t.t1.Oh:void 0,new S_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),e.Aa=function(t){var i=t instanceof S_?t:new S_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.jo(new qD(i)),this.qh()},e.gW=function(){this.dW.$o("sh",this.Vh),this.dW.$o("rh",this.vW),this.dW.$o("hh",this.lW),this.fW=!1,this.Wd.Fo()},e.qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),this.gW(),t.next=4,this.dW.qh().catch(E);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Is),ZD=[Ko.hc,Ko.oc,Ko.Mc],JD=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).zh=void 0,r.na=void 0,r.mW=void 0,r.pW=[],r.kW=void 0,r.AW=[],r.zh=n,r.na=i,r.mW=e,r}U(n,t);var i=n.prototype;return i.qT=function(){return this.mW.qT()},i.bW=function(t){return this.kW||(this.kW=this.TW(t)),this.kW},i.TW=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(n),t.next=3,this.mW.GT(new y(Ku()),n);case 3:return i=t.sent,ds(n),t.next=7,this.na.sa(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.SW=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.AW.push(n),t.next=4,this.na.ra("temporary");case 4:return i=t.sent,e=new YD(i,this.mW,n),this.pW.push(e),e.Qo(ZD,this.Go),e.Jh.then(function(){return r.EW(e)}),t.abrupt("return",e);case 10:return t.prev=10,ts(this.AW,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.RW=function(t){if(t.IW)return!1;for(var n=0,i=this.pW;n<i.length;n++){if($D(i[n].wW,t))return!0}for(var e=0,r=this.AW;e<r.length;e++){if($D(r[e],t))return!0}return!1},i.EW=function(t){t.$o(ZD,this.Go),ts(this.pW,t)},i.Zv=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),n=this.pW.slice(),es(this.pW),t.next=5,T.all(n.map(function(t){return t.qh()}));case 5:this.mW.Po();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"ia",get:function(){return this.zh}}]),n}(Is);function $D(t,n){return!t.IW&&t._o===n._o&&Zs(t.lh,n.lh)}var KD=function(t){function i(n){var i;return(i=t.call(this)||this).EE=void 0,i.Wd=new cs,i.IL=new XS,i.Na=void 0,i.mW=void 0,i.RE=void 0,i.zh=void 0,i.NW=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.DW(n._o,n.lh,i.Wd.zo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),vs(t.t0)||i.Aa(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.EE=n,i.EE.Qo(Rs.ah,i.NW),i}U(i,t);var e=i.prototype;return e.jh=function(t,n){this.RE=t,this.KL(n)},e.KL=function(t){this.Na=t,this.xW(this.Wd.zo).catch(_s)},e.xW=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.qu.lu){t.next=5;break}return t.next=3,this.PW(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Na||!this.Na.OW){t.next=9;break}return t.next=8,this.BW(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.PW=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Na)?void 0:i.iR){t.next=3;break}return t.abrupt("return",!1);case 3:e=!1,r=0,s=null!=(u=null==(o=this.Na)?void 0:o.iR)?u:[];case 5:if(!(r<s.length)){t.next=27;break}h=s[r],a=0,c=null!=(f=h._E)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.DW(h.ia._o,v,n);case 13:e=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),ls(t.t0);case 19:a++,t.next=8;break;case 22:if(!e){t.next=24;break}return t.abrupt("return",!0);case 24:r++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),e.DW=function(){var t=T.coroutine(tr.mark(function t(i,e,r){var s,u,o,h,a,c,f,v,d,l;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(r),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Na&&this.Na.iR.length){t.next=5;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===dr||i===_r||i===lr){t.next=8;break}return t.abrupt("return");case 8:s=$m(i,e),u=this.Na.iR,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],ds(r),(c=s[a.ia.wo])&&a.ia._o===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.LW(a,r);case 20:if(!(f=t.sent).qT()){t.next=24;break}return t.next=24,f.bW();case 24:if(v=this.EE.eg,d={_o:a.ia._o,lh:c,IW:v},!this.MW(f,d)){t.next=32;break}return t.next=29,f.SW(d);case 29:return l=t.sent,t.next=32,l.Gh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),ls(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,b.Ou();case 44:if(!t.sent){t.next=48;break}throw new S_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new S_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.BW=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null==(i=this.Na)?void 0:i.iR){t.next=3;break}return t.abrupt("return");case 3:r=0;case 4:if(!(r<e.length)){t.next=23;break}return s=e[r],ds(n),t.prev=7,t.next=10,this.LW(s,n);case 10:if(!(u=t.sent).qT()){t.next=14;break}return t.next=14,u.bW();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),ls(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),e.MW=function(t,n){return b.qu.du||!t.RW(n)},e.LW=function(t,n){var i=this;return this.IL.gL(function(n){return i.UW(t,n)},n)},e.UW=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(i),this.Na&&this.mW&&this.RE){t.next=3;break}throw new f("Not initialized");case 3:if(!this.zh){t.next=7;break}if(this.zh.ia===n.ia){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.zh);case 7:return e=this.mW,r=nr({},n,{wR:n.wR.map(function(t){var i;return nr({},t,{persistentState:null!=(i=t.persistentState)?i:e.dS(n.ia),la:t.la||e.la(n.ia)})})}),t.next=11,this.RE.ZL(r.ia,r.wR);case 11:return s=t.sent,u=e.lE(r),(o=new JD(r.ia,s,u)).Qo([Ko.hc,Ko.oc,Ko.Mc],this.Go),this.zh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Aa=function(t){var i=t instanceof S_?t:new S_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.jo(new qD(i))},e.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RE=void 0,this.Na=void 0,this.Wd.Fo(),this.Wd=new cs,t.next=6,this.FW();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.FW=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.IL.Fo();case 2:if(!(n=this.zh)){t.next=8;break}return n.$o(Ko.Mc,this.Go),this.zh=void 0,t.next=8,n.Zv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),this.EE.$o(Rs.ah,this.NW),t.next=4,this.Wl();case 4:return t.next=6,this.IL.Zv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"HW",get:function(){var t;return null==(t=this.zh)?void 0:t.ia}},{key:"KE",get:function(){return this.mW},set:function(t){this.mW=t}}]),i}(Is),tC=Y.Br||Y.Lr,nC=Y.ts,iC=.5,eC=5,rC=Y.Vr,sC=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Va=void 0,s.VW=void 0,s.IE=void 0,s.JR=!0,s.RE=void 0,s.zW=new XS,s.XW=void 0,s.WW=void 0,s.qW=void 0,s.GL=void 0,s.Sw=void 0,s.nN=void 0,s.GW=[],s.jW=void 0,s.QW=void 0,s.YW=void 0,s.ZW=void 0,s.JW=void 0,s.$W=void 0,s.KW=void 0,s.tq=NaN,s.nq=void 0,s.iq=void 0,s.JI=!1,s.rq=T.resolve(),s.sq=new cs,s.uq=[],s.oq=iA.zI(),s.hq=void 0,s.aq=1,s.cq=!1,s.fq=!1,s.vq=!1,s.dq=!1,s.po=void 0,s.lq=!1,s._q=!1,s.wq=!1,s.gq=!1,s.yq=0,s.mq=function(t){var n=t.track,i=s.pq(n);s.kq(n,i)},s.Aq=function(t){var n=aC(s.jW,t.track);n&&s.jW.zl(n)},s.bq=function(){for(var t=0;t<s.Sw.Gl;t++){var n=s.Sw.Hl(t);n instanceof ED&&n.yX()}},s.Tq=function(){s.jW.Wl()},s.Sq=function(){var t=s.RE,n=t.jV,i=t.QV;if(n&&i)if(t.sM)s.Eq();else if(t.g_!==nN.sV){var e=n.tg,r=i.tg;if(0!==e.Gl&&0!==r.Gl){var u=s.tw;if(u<e.rI(0)||u<r.rI(0))s.Eq();else if(e.gR(u)!==r.gR(u))s.Rq();else if(s.Eq(),!s.yq&&s.qW.bz())e.TI(r).NI(u,u+iC)&&(s.yq=cT(s.Iq))}else s.Eq()}},s.Iq=function(){s.yq=0,s.Sq()},s.Nq=function(){if(!(s.ow||s.g_>=Tl.q_)){0;var t=s.RE,n=t.jV,i=t.QV;if(n&&i){var e=s.tw,r=n.tg,u=i.tg;if(r.gR(e)&&u.gR(e))r.TI(u).NI(e-eC,e)&&s.Th(e)}}},s.Dq=function(){s.jo(new Wl(s.tw))},s.Cq=function(){s.xq(new fs),s.jo(new Xl(s.tw))},s.Pq=function(){s.Oq(),s.jo(new im(s.tw))},s.Bq=function(){s.Lq(s.uw)},s.Mq=function(){s.jo(new Yl(s.nw))},s.Uq=function(){s.jo(new cE(s.tw))},s.Fq=function(){s.jo(new fE)},s.Hq=function(){var t=s.tw,n=s.ow,i=s.g_<Tl.q_&&!s.iw,e=void 0!==s.iq,r=e&&s.iq!==t;(n||!e||r&&!i)&&(s.jo(new Jl(s.tw,void 0)),s.iq=t)},s.Vq=function(){!s.cq&&s.iw&&(s.cq=!0,s.jo(new $l(s.tw)))},s.zq=function(){if(null!==s.Va.error){var t,n=s.Va.error;s.ME(new E_(null!=(t=n.code)?t:A_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.Xq=function(){s.fq&&(s.Wq(),s.vq=!0)},s.qq=function(){s.jo(new i_(s.tw,s.cw))},s.Gq=function(){s.aw>0&&s.hw>0&&s.jo(new xy)},s.jq=function(t){s.jo(new Ls(t.initDataType,t.initData||new ArrayBuffer(0)))},s.Qq=function(){s.jo(new Ms)},s.Yq=function(t){var n=t.initData,i=n?Yu(n).buffer:new ArrayBuffer(0);s.jo(new Ls(dr,i))},s.Zq=function(t){if(t.initData){var n=uC(t.initData);if(!n)return;s.jo(new Ls(_r,n))}else s.jo(new Ls(_r,new ArrayBuffer(0)))},s.Jq=function(t){var n=t.initData,i=n?Yu(n).buffer:new ArrayBuffer(0);s.jo(new Ls(dr,i))},s.$q=function(){s.Oq()},s.Kq=function(t){s.xq(t)},s.tG=function(t){s.jo(t),t.type===Ko.oc&&s.ME(I_(t.errorObject))},s.Va=n,s.po=i,s.VW=e,s.nN=r,s.WW=new aN(sn(s)),s.WW.Qo(Vl.Dl,s.Go),s.qW=new vN(sn(s)),s.qW.Qo(Vl.K_,s.Pq),s.GL=new KD(sn(s)),s.GL.Qo([Ko.hc,Ko.oc,Ko.Mc],s.tG),s.Sw=new uy,s.jW=new uy,s.QW=new Fk([s.Sw,s.jW]),s.YW=new VD(sn(s)),s.YW.$l=s.QW,s.ZW=new zD(sn(s),s.YW),s.JW=new Fk([s.QW,s.ZW.Ek]),s.$W=new xD(sn(s)),s.nG(),s.nR(),s}U(n,t);var i=n.prototype;return i.iG=function(){this.$E.ended||this.tw===this.nw||(this.cq=!1)},i.eG=function(){return void 0!==this.KW&&this.nw===this.KW},i.Lq=function(t){this.aq!==t&&(this.aq=t,this.jo(new Zl(this.tw,t)))},i.pR=function(){return vS(this.Va)},i.Pw=function(){var t=this.rG();return this.sG(),t},i.sG=function(){this.lq?this._q&&(this._q=!1,this.jo(new Wl(this.tw))):this.uG()},i.uG=function(){if(this.XW)this.XW.Pw();else{Y.Vr&&!Y.Ar&&this.Va.preload===Qk.qR&&(this.Va.preload=Qk.Op);var t=this.uw,n=this.Va.play();t!==this.$E.playbackRate&&(this.uw=t),st(n)?n.then(this.$q,this.Kq):this.qW.bz()&&this.Oq()}},i.Ow=function(){this.lq?this._q||(this._q=!0,this.jo(new Xl(this.tw))):this.oG()},i.oG=function(){this.XW?this.XW.Ow():(this.Va.pause(),this.qW.Yh()),this.hG(new fs)},i.rG=function(){var t=new $u;return this.uq.push(t),t.Dh},i.aG=function(){for(var t=0,n=this.uq;t<n.length;t++){n[t].Ch(void 0)}es(this.uq)},i.hG=function(t){for(var n=0,i=this.uq;n<i.length;n++){i[n].xh(t)}es(this.uq)},i.Oq=function(){this.lq||this.XW||this.aG()},i.xq=function(t){this.lq||this.XW||this.hG(t)},i.Th=function(t,n){this.XW?this.XW.tw=t:(this.sq.Fo(),this.sq=new cs,this.rq=this.cG(t,this.rq,this.sq.zo).catch(E))},i.mR=function(t){var n=this.kR;if(n&&!g(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Th(i)}},i.cG=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c,f,v=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.KW=n,this.tq=n,this.JI=!0,this.cq&&!this.eG()&&(this.cq=!1),this.jo(new t_(n)),t.next=8,i.catch(E);case 8:if(ds(e),this.dq&&this.fG(),this.g_!==Tl.z_){t.next=13;break}return t.next=13,this.ih(Vl.Dl,e);case 13:if(0!==this.Va.seekable.length){t.next=19;break}return t.next=16,T.race([Ad(this.Va,"timeupdate",e),Ts(100,e)]);case 16:ds(e),t.next=13;break;case 19:r=this.vG(n),s=this.dg,u=!0,o=!1;case 23:if((s=this.dg).Gl>0&&!s.gR(r)&&(r=s.lI(r),u=!0),rC&&void 0!==(h=this.dG())&&r>h&&(r=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.lG())&&r>a)){t.next=37;break}return o=!0,t.next=33,this._G(a,e);case 33:return t.next=35,Ad(this.Va,"seeked",e);case 35:ds(e),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this._G(r,e);case 41:ds(e),c=this.tw,s=this.dg,r=s.lI(r),f=1;case 46:if(!(l.abs(r-c)>=1/6)){t.next=56;break}return s=this.dg,r=hC(r,s,f),t.next=51,this._G(r,e);case 51:ds(e),c=this.tw,f++,t.next=46;break;case 56:if(this.Va.seeking||this.g_<Tl.W_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,ys(function(t){var n;return T.race([Ad(v.Va,"seeked",t),v.ih([Ko.bc,Ko.fc,Vl.Dl],t),null==(n=v.RE)?void 0:n.ih(nE.mD,t)].filter($))},e);case 60:ds(e),t.next=23;break;case 63:this.wG(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!vs(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i._G=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(i),e=this.dg,n=e.lI(n),!this.dq){t.next=18;break}r=!0;case 5:if(!(r||this.g_<Tl.q_)){t.next=17;break}if((e=this.dg).gR(n)||(n=e.lI(n),r=!0),!r){t.next=13;break}return r=!1,this.KW=n,this.gG(this.tw),t.abrupt("continue",5);case 13:return t.next=15,this.ih([Vl.Dl,Ko.fc],i);case 15:t.next=5;break;case 17:ds(i);case 18:if(s=Ad(this.Va,"seeking",i),this.Va.currentTime=n,this.KW=void 0,this.gG(this.tw),!this.Va.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.vG=function(t){var n=this.tg;if(n&&!n.gR(t)){var i=n.EI(t,.05);if(i>-1){var e=n.rI(i);if(t<e)return e}}return t},i.dG=function(){if(this.RE&&this.RE.sM){var t=this.RE.uM,n=this.RE.oM,i=t&&n?t.gI(n):t||n;if(i&&0!==i.Gl){var e=i.rI(i.Gl-1),r=i.uI(i.Gl-1);return l.max(e,r-.001)}}},i.lG=function(){if(this.RE&&this.RE.sM){var t=this.RE.oM;if(t&&0!==t.Gl){var n=t.rI(t.Gl-1),i=t.uI(t.Gl-1)-.02;return i-=.001,l.max(n,i)}}},i.gG=function(t){this.tq!==t&&(this.tq=t,this.jo(new t_(t)))},i.wG=function(){this.JI=!1,this.tq=NaN,this.dq&&this.yG(),this.jo(new n_(this.tw))},i.fG=function(){this.lq||(this._q=this.sw,this.lq=!0,this.oG())},i.yG=function(){this.lq&&(this.lq=!1,this._q||this.sG())},i.rM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.do===Cy.rT&&aE.rM(i,this.Va))return i;if(i.do===Cy.sT&&rN.rM(i))return i}},i.qw=function(){this.JR=!1,xe(this.Va)&&(this.Va.style.display="none")},i.Ww=function(){this.JR=!0,xe(this.Va)&&(this.Va.style.display="block")},i.Kb=function(t,n,i,e,r,s,u,o){var h=new NN(t,n,i,e,r,s,u,o);return this.Sw.Vl(h),this.$W.Vl(h),h},i.oR=function(){return!0},i.aR=function(t,n,i,e){var s=r.createElement("track");s.src=Ff(t),s.kind=n,s.label=null!=i?i:"",e&&(s.srclang=e),s.id=Hb(),this.Va.appendChild(s);var u=this.Va.textTracks.getTrackById(s.id),o=new ED(u,s);return this.jW.Vl(o),this.GW.push(o),o},i.iT=function(t){this.Sw.zl(t),this.$W.zl(t)},i.vR=function(){for(var t=0,n=this.Sw.ql.slice();t<n.length;t++){n[t].Zv()}this.Sw.Wl();for(var i=0,e=this.GW.slice();i<e.length;i++){var r=e[i];this.jW.zl(r),r.Zv()}es(this.GW)},i.nR=function(){var t=this.Va.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.mq),t.addEventListener("removetrack",this.Aq),t.addEventListener("change",this.bq)),this.Va.addEventListener("emptied",this.Tq)},i.lR=function(){var t=this.Va.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.mq),t.removeEventListener("removetrack",this.Aq),t.removeEventListener("change",this.bq)),this.Va.removeEventListener("emptied",this.Tq)},i.kq=function(t,n){if(Y.Vr){if(t.kind===sy.Op)return void this.mG(t);if(t.kind===sy.Xb&&""===t.label&&""===t.language&&!cC(t))return void this.pG(t,n)}aC(this.jW,t)||this.jW.Vl(new ED(t,n))},i.mG=function(t){t.mode=rl.c_;var n=new MD(t);this.jW.Vl(n),this.$W.Vl(n)},i.pG=function(t,n){var i=this;t.addEventListener("cuechange",function e(){cC(t)&&(t.removeEventListener("cuechange",e),i.jW.Vl(new ED(t,n)))}),t.mode=rl.c_},i.pq=function(t){for(var n=this.Va.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.jh=function(t){var n=this;return this.zW.gL(function(){var i=T.coroutine(tr.mark(function i(e){var r;return tr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(ds(e),!n.RE){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.do!==Cy.rT){i.next=9;break}r=new aE(t,n,n.GL,n.po),n.dq=!1,n.kG(new aN(n)),i.next=17;break;case 9:if(t.do!==Cy.sT){i.next=16;break}r=new rN(t,n,n.GL,n.po),n.dq=tC,n.kG(n.dq?new cN(n):new aN(n)),nC&&(n.Qo(Ko.Bc,n.Sq),n.Qo(Vl.Dl,n.Nq)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.RE=r,i.next=20,r.WP();case 20:return i.abrupt("return",r);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.Rq=function(){if(!this.wq){var t=this.uw;this.wq=!0,this.uw=t,this.Va.playbackRate=0,this.WW&&this.WW.wz()}},i.Eq=function(){if(this.wq){var t=this.uw;this.wq=!1,this.uw=t,this.Va.currentTime=this.Va.currentTime,this.WW&&this.WW.wz()}},i.kG=function(t){var n=this.g_;this.WW.Po(),this.WW=t,this.WW.Qo(Vl.Dl,this.Go);var i=this.g_;n!==i&&this.jo(new s_(this.tw,i))},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){var n=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JI=!1,this.oq=iA.zI(),this.sq.Fo(),this.KW=void 0,this.tq=NaN,this.nq=void 0,this.dq=!1,this.lq=!1,this.IE=void 0,this.cq=!1,this.iq=void 0,this.fq=!1,this.vq&&(this.nG(),this.vq=!1),this.hG(new fs),this.kG(new aN(this)),this.qW.Wl(),this.Eq(),nC&&(fT(this.yq),this.yq=0,this.$o(Ko.Bc,this.Sq),this.$o(Vl.Dl,this.Nq)),t.next=20,this.zW.Fo();case 20:return t.next=22,this.zW.gL(T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.RE){t.next=4;break}return t.next=3,n.RE.Po();case 3:n.RE=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vq=!1,this.Wq(),this.lR(),t.next=5,this.Wl();case 5:return t.next=7,this.zW.Zv();case 7:return this.qW.Po(),this.WW.Po(),t.next=11,this.GL.Po();case 11:return this.vR(),this.Sw.Zv(),this.YW.Zv(),this.jW.Zv(),t.next=17,this.ZW.Zv();case 17:this.QW.Zv(),this.JW.Zv(),this.Jo();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nG=function(){this.$E.addEventListener("play",this.Dq),this.$E.addEventListener("pause",this.Cq),this.$E.addEventListener("timeupdate",this.Hq),this.$E.addEventListener("progress",this.Uq),this.$E.addEventListener("loadstart",this.Fq),this.$E.addEventListener("ended",this.Vq),this.$E.addEventListener("ratechange",this.Bq),this.$E.addEventListener("volumechange",this.qq),this.$E.addEventListener("durationchange",this.Mq),this.$E.addEventListener("resize",this.Gq),this.$E.addEventListener("loadedmetadata",this.Gq),this.$E.addEventListener("error",this.zq),this.$E.addEventListener("emptied",this.Xq),Hr()?(this.Va.addEventListener("encrypted",this.jq),this.Va.addEventListener("waitingforkey",this.Qq)):void 0!==pe.WebKitMediaKeys&&"function"==typeof pe.WebKitMediaKeys.isTypeSupported?this.Va.addEventListener("webkitneedkey",this.Zq):Vr()?this.Va.addEventListener("webkitneedkey",this.Jq):void 0!==pe.MSMediaKeys&&"function"==typeof pe.MSMediaKeys.isTypeSupported&&this.Va.addEventListener("msneedkey",this.Yq)},i.Wq=function(){this.$E.removeEventListener("play",this.Dq),this.$E.removeEventListener("pause",this.Cq),this.$E.removeEventListener("timeupdate",this.Hq),this.$E.removeEventListener("progress",this.Uq),this.$E.removeEventListener("loadstart",this.Fq),this.$E.removeEventListener("ended",this.Vq),this.$E.removeEventListener("ratechange",this.Bq),this.$E.removeEventListener("volumechange",this.qq),this.$E.removeEventListener("durationchange",this.Mq),this.$E.removeEventListener("resize",this.Gq),this.$E.removeEventListener("loadedmetadata",this.Gq),this.$E.removeEventListener("error",this.zq),this.$E.removeEventListener("encrypted",this.jq),this.$E.removeEventListener("waitingforkey",this.Qq),this.$E.removeEventListener("webkitneedkey",this.Zq),this.$E.removeEventListener("webkitneedkey",this.Jq),this.$E.removeEventListener("msneedkey",this.Yq),this.$E.removeEventListener("emptied",this.Xq)},i.AG=function(){var t;this.XW||(this.oq=this.fg,this.XW=new uN((t=this).tw,t.nw,t.iw,t.sw,t.ow,t.rw,t.uw,t.cw,t.g_),this.Wq(),this.XW.Qo(sN,this.Go))},i.bG=function(){if(this.XW){var t,n,i=this.XW;this.XW=void 0,this.WW.wz(),t=this,(n=i).nw===t.nw||g(n.nw)&&g(t.nw)||t.jo(new Yl(t.nw)),t.rw=n.rw,t.cw=n.cw,t.uw=n.uw,n.sw?t.Ow():t.Pw().catch(E),n.tw!==t.tw||n.g_>Tl.z_&&t.g_===Tl.z_?t.Th(n.tw):!n.ow&&t.ow?t.jo(new t_(t.tw)):n.ow&&!t.ow&&t.g_>=Tl.W_&&t.jo(new n_(t.tw)),!n.iw&&t.iw&&t.jo(new $l(t.tw)),i.Po(),this.nG()}},i.ME=function(t){this.IE=t,this.hG(this.IE),this.jo(new dN(this.IE))},i.TG=function(){this.SG||(Yx(this.Va,b.qu),this.gq=!0)},i.EG=function(t){t.appendChild(this.Va)},i.sz=function(){nC&&this.Sq(),this.WW.wz()},i.Kw=function(){this.GL.FW().catch(E)},L(n,[{key:"yz",get:function(){return this.wq}},{key:"tg",get:function(){return this.RE?this.RE.tg:iA.zI()}},{key:"ng",get:function(){var t=this.kR;if(t&&!g(t.getTime())){var n=1e3*this.tw;return new Date(t.getTime()+n)}}},{key:"kR",get:function(){if(this.$E.getStartDate)return this.JI&&this.nq||(this.nq=this.$E.getStartDate()),this.nq}},{key:"tw",get:function(){return this.XW?this.XW.tw:void 0!==this.KW?this.KW:this.Va.currentTime}},{key:"$B",get:function(){return this.VW}},{key:"nw",get:function(){return this.XW?this.XW.nw:this.RE?this.RE.nw:this.Va.duration}},{key:"iw",get:function(){return this.ow?this.eG():this.XW?this.XW.iw:this.Va.ended||this.cq}},{key:"hh",get:function(){return this.IE}},{key:"$E",get:function(){return this.Va}},{key:"sw",get:function(){return this.lq?this._q:this.XW?this.XW.sw:this.Va.paused}},{key:"fg",get:function(){return this.oq.bI(iA.FI(this.Va.played))}},{key:"zk",get:function(){return this.Va.offsetHeight*b.qu.fu}},{key:"ku",get:function(){return this.Va.offsetWidth*b.qu.fu}},{key:"fR",get:function(){return sA}},{key:"g_",get:function(){return this.WW.g_}},{key:"dg",get:function(){return this.RE?this.RE.dg:iA.zI()}},{key:"ow",get:function(){return this.XW?this.XW.ow:this.JI}},{key:"rw",get:function(){return this.XW?this.XW.rw:this.Va.muted},set:function(t){this.XW?this.XW.rw=t:this.Va.muted=t}},{key:"uw",get:function(){return this.XW?this.XW.uw:void 0!==this.hq?this.hq:this.Va.playbackRate},set:function(t){this.XW?this.XW.uw=t:this.sw||this.wq?(this.hq=t,this.Lq(t)):(this.hq=void 0,this.Va.playbackRate=t)}},{key:"RG",get:function(){return this.JR}},{key:"cw",get:function(){return this.XW?this.XW.cw:this.Va.volume},set:function(t){this.XW?this.XW.cw=t:this.Va.volume=t}},{key:"Cw",get:function(){return this.JW}},{key:"tL",get:function(){return this.nN}},{key:"eg",get:function(){return!!this.Va.webkitCurrentPlaybackTargetIsWireless}},{key:"SG",get:function(){return this.gq}},{key:"IG",get:function(){return nr({},sE)}},{key:"KE",get:function(){return this.GL.KE},set:function(t){this.GL.KE=t}},{key:"HW",get:function(){return this.GL.HW}},{key:"lg",get:function(){return this.fq},set:function(t){this.fq=t,this.vq&&!this.fq&&(this.vq=!1,this.nG())}}]),n}(Is);function uC(t){try{var n=Wu(t),i=new Zu;return Lu(Mu(_u(n,i,ku(n,i,!0)),!0))}catch(t){return}}var oC=.01;function hC(t,n,i){if(void 0===i&&(i=0),!n.Gl)return 0;var e=n.lI(t),r=oC*i;return e===n.rI(0)?e+=r:e===n.uI(n.Gl-1)&&(e-=r),e}function aC(t,n){for(var i=0,e=t.ql;i<e.length;i++){var r=e[i];if(r.Eg===n)return r}}function cC(t){return!!t.cues&&t.cues.length>0}var fC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ll=void 0,n}return U(n,t),L(n,[{key:"_l",get:function(){return this.ll||(this.ll=TS(this)),this.ll}},{key:"pB",get:function(){}},{key:"kB",get:function(){}},{key:"AB",get:function(){}},{key:"bB",get:function(){}},{key:"TB",get:function(){}},{key:"SB",get:function(){}},{key:"EB",get:function(){}}]),n}(Is),vC=(new fC,function(t){function n(n,i,e){return t.call(this,n,i,e,new fC)||this}return U(n,t),n.prototype.Gw=function(){},L(n,[{key:"hw",get:function(){return 0}},{key:"aw",get:function(){return 0}}]),n}(sC)),dC="theoplayer-texttracks",lC=function(){function t(t){void 0===t&&(t=5),this.NG=void 0;var n=pe.document.createElement("div");n.className=dC,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.NG=n,this.Ww()}var n=t.prototype;return n.qw=function(){this.NG.style.display="none"},n.Ww=function(){Ie(this.NG.style,"flex")},n.EG=function(t){t.appendChild(this.NG)},n.Zv=function(){Ee(this.NG)},L(t,[{key:"ig",get:function(){return this.NG}}]),t}();function _C(t,n){return t?nr({},n,qd({bB:t.bB,AB:t.AB,kB:t.kB,pB:t.pB,TB:t.TB,SB:t.SB,EB:t.EB})):n}function wC(t){return t.AB&&Nr(t.AB,"%")?Number(t.AB.replace("%",""))/100:t.AB&&Nr(t.AB,"em")?Number(t.AB.replace("em","")):1}var gC,yC,mC=function(){function t(t,n,i,e,r){var s=this;this.DG=er(),this.CG=!0,this.xG=void 0,this.Qg=void 0,this.Va=void 0,this.VW=void 0,this.PG=void 0,this.OG=function(t){return s.DG.has(t.iy)},this.BG=function(t){return!s.OG(t)},this.LG=function(t){return s.nT(t.Og)},this.MG=function(t){return s.removeCue(t.Og)},this.UG=function(){return s.FG()},this.HG=function(t){return s.VG(t.Og)},this.zG=function(t){return s.XG(t.Og)},this.WG=function(t){s.qG(t.ku,t.zk)},this.Qg=t,this.PG=this.xG=r,this.Va=this.GG(i),this.VW=e,n.appendChild(this.Va),this.jG(),this.Qg.y_.ql.forEach(function(t){return s.nT(t)}),this.$B.Qo("$C",this.WG),this.qG(this.$B.ux,this.$B.sx)}var n=t.prototype;return n.QG=function(t){this.xG=_C(t,this.PG),this.xG.pB&&(this.$E.style.fontFamily=this.xG.pB),this.xG.EB&&(this.$E.style.visibility=this.xG.EB),this.qG(this.$B.ux,this.$B.sx),this.YG()},n.ZG=function(){return this.xG},n.jG=function(){this.Qg.Qo(Id.yl,this.LG),this.Qg.Qo(Id.pl,this.MG),this.Qg.Qo(Id.Il,this.UG)},n.JG=function(){var t=this;this.Qg.$o(Id.yl,this.LG),this.Qg.$o(Id.pl,this.MG),this.Qg.$o(Id.Il,this.UG),this.Qg.y_.ql.forEach(function(n){return t.$G(n)})},n.KG=function(t){t.Qo(Y_.Dg,this.HG),t.Qo(Y_.xg,this.zG)},n.$G=function(t){t.$o(Y_.Dg,this.HG),t.$o(Y_.xg,this.zG)},n.nT=function(t){t.iy||(t.iy=this.tj),this.KG(t),t.ny&&this.VG(t)},n.removeCue=function(t){this.$G(t),this.XG(t)},n.FG=function(){this.Qg.l_===rl.f_?this.nj():this.ij()},n.nj=function(){var t=this,n=this.$B.ux,i=this.$B.sx,e=new iT(n,i);this.WG(e),this.CG=!1,this.ej.forEach(function(n){return t.VG(n)})},n.VG=function(t){this.CG||this.BG(t)&&(this.rj(t),this.DG.set(t.iy,t))},n.rj=function(t){var n=this.Va,i=this.sj(t);if(i)for(var e=0;e<i.length;e++){var r=i[e];r.className=t.iy,n.appendChild(r)}},n.ij=function(){var t=this;this.CG=!0,this.DG.forEach(function(n){return t.XG(n)})},n.XG=function(t){this.OG(t)&&(this.uj(t),this.DG.delete(t.iy))},n.uj=function(t){for(var n=this.Va,i=n.getElementsByClassName(t.iy);i.length;)n.removeChild(i[0])},n.YG=function(){for(var t=0,n=this.oj;t<n.length;t++){var i=n[t];this.uj(i),this.rj(i)}},n.Zv=function(){Ee(this.$E),this.JG(),this.$B.$o("$C",this.WG)},L(t,[{key:"gl",get:function(){return this.Qg}},{key:"$E",get:function(){return this.Va}},{key:"$B",get:function(){return this.VW}},{key:"hj",get:function(){return this.xG}},{key:"oj",get:function(){return this.Qg.m_.ql.filter(this.OG)}},{key:"ej",get:function(){return this.Qg.m_.ql.filter(this.BG)}}]),t}();function pC(t){return kC[t||"none"]}!function(t){t.aj='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.cj='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.fj='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.vj='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(gC||(gC={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(yC||(yC={}));var kC={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function AC(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var bC=sr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),TC=sr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),SC={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=bC.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Cr(t,"px")?t=_(t)/24+"em":Cr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=TC.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Cr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},EC=0,RC={kB:yC.WHITE,pB:"Arial, Helvetica, Sans-Serif",AB:"100%",bB:yC.TRANSPARENT,TB:yC.TRANSPARENT,SB:"none",EB:"visible"},IC=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,RC)||this}U(n,t);var i=n.prototype;return i.GG=function(t){var n=r.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.qG=function(t,n){var i=l.min(t,n)/15;this.$E.style.fontSize=i+"px"},i.sj=function(t){if(t.gl&&t.gl.do!==q_.TTML)return[];var n,i=[],e=t,s=e.Pb,u=e.Hm,o=e.Mg;if(0===d.keys(u).length){Re(n=r.createElement("div"),e.iy),BC(n);for(var h=NC(o,s,e.Ob,void 0,this.$E),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=d.keys(u);f<v.length;f++){var l=v[f],_=r.createElement("div");_.id=l,Re(_,e.iy);var w=NC(o,s,e.Ob,_,this.$E);if(w){BC(_),xC(_,u[l],s,this.$E);for(var g=0;g<w.length;g++){var y=w[g];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.QG=function(t){},L(n,[{key:"tj",get:function(){return"theoplayer-ttmlcue-"+EC++}}]),n}(mC);function NC(t,n,i,e,r){var s,u;if(en(t)&&("SPAN"===(u=t)._s.toUpperCase()||"P"===u._s.toUpperCase()||"BR"===u._s.toUpperCase()||"DIV"===u._s.toUpperCase()||"BODY"===u._s.toUpperCase())){var o=function t(n){var i=n.Cs("region");if("p"===n._s.toLowerCase())return i;var e=[];for(var r=0,s=n.Ds;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||e.id===o){(function(t,n,i,e){var r=n.Cs("style");OC(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.Ms).forEach(function(n){var e=Wg(n.gs,["ebutts","tts","xml"]);SC[e]&&SC[e](n.ks,t,i)})}(t,n,e)})(s="BODY"===t._s.toUpperCase()?e:DC(t),t,n,r),function(t,n,i){var e=null==n?void 0:n.Cs("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.Ds)for(var r=0,s=null==n?void 0:n.Ds;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.Ms.some(function(t){return"id"===t._s&&t.ks===e})});r&&PC(t,r,n,!0)}!function(t,n){var i=n.Ds[0];if(!i||"metadata"!==i._s.toLowerCase())return;var e=i.Ds[0];PC(t,e,n)}(t,n)}(s,t,i);for(var h=[],a=t.Ss,c=0;c<a.length;c++){var f=NC(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t._s.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else rn(t)&&(s=DC(t));if(s)return[s]}function DC(t){var n,i;if(rn(t))AC(n=r.createElement("text"),t.Fs);else if(en(t))switch(t._s.toUpperCase()){case"BR":n=r.createElement("br");break;case"SPAN":n=r.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",CC(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=r.createElement("p")),CC(n,t);break;case"DIV":(n=r.createElement("div")).style.position="absolute",CC(n,t)}return n}function CC(t,n){var i=n.xs(Vg,"id");i&&(t.id=i)}function xC(t,n,i,e){OC(t,n.style,i,e),d.keys(n).forEach(function(i){SC[i]&&SC[i](n[i],t)})}function PC(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var s=r.createElement("img");s.src=function(t){var n=t&&t.Ss.length>0?t.Ss[0]:null;return n&&rn(n)?"data:image/png;base64,"+n.Fs:""}(n),s.id=t.id,s.style.height="100%",s.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Cs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Cs("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(s)}function OC(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(r){var s=Wg(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?OC(t,i[n][r],i,e):SC[s]&&SC[s](i[n][r],t,e)})})}function BC(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var LC,MC,UC=void 0;function FC(t,n){for(var i,e=LC.dj,r="",s=[],u=t.charAt(n.Eh),o="",h={do:MC.lj,Es:"",_j:[]};n.Eh<t.length+1;){switch(u=n.Eh<t.length?t.charAt(n.Eh):"EOF",e){case LC.dj:switch(u){case"&":var a=t.substr(n.Eh).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],UC||(UC=pe.document.createElement("textarea")),UC.innerHTML=i,UC.value),n.bh(a[0].length-1)):r+="&";break;case"<":if(r)return{do:MC.wj,Mg:r};e=LC.gj;break;case"EOF":return{do:MC.wj,Mg:r};default:r+=u}break;case LC.gj:switch(u){case"\t":case"\n":case"\f":case" ":e=LC.yj;break;case".":e=LC.mj;break;case"/":e=LC.pj;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=LC.kj;break;case">":return n.bh(1),h;case"EOF":return h;default:r=u,e=LC.Aj}break;case LC.Aj:switch(u){case"\t":case"\f":case" ":e=LC.yj;break;case"\n":o=u,e=LC.yj;break;case".":e=LC.mj;break;case">":return n.bh(1),{do:MC.lj,Es:r,_j:[]};case"EOF":return{do:MC.lj,Es:r,_j:[]};default:r+=u}break;case LC.mj:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=LC.yj;break;case"\n":s.push(o),o=u,e=LC.yj;break;case".":s.push(o),o="";break;case">":return n.bh(1),s.push(o),{do:MC.lj,Es:r,_j:s};case"EOF":return s.push(o),{do:MC.lj,Es:r,_j:s};default:o+=u}break;case LC.yj:switch(u){case"&":e=LC.bj;break;case">":n.bh(1);var c=o.trim();return c=c.replace(/\s/," "),{do:MC.lj,Es:r,_j:s,Tj:c};default:o+=u}break;case LC.bj:for(var f="",v=n.Eh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=LC.yj;break;case LC.pj:switch(u){case">":return n.bh(1),{do:MC.Sj,Es:r};case"EOF":return{do:MC.Sj,Es:r};default:r+=u}break;case LC.kj:switch(u){case">":return n.bh(1),{do:MC.Ej,Rj:r};case"EOF":return{do:MC.Ej,Rj:r};default:r+=u}}n.bh(1)}}!function(t){t.dj="Data",t.gj="Tag",t.Aj="StartTag",t.mj="StartTagClass",t.yj="StartTagAnnotation",t.bj="CharRefInAnnotation",t.pj="EndTag",t.kj="TimestampTag"}(LC||(LC={})),function(t){t.wj="string",t.lj="starttag",t.Sj="endtag",t.Ej="timestamp"}(MC||(MC={}));var HC,VC,zC={kB:yC.WHITE,pB:"sans-serif",AB:"100%",bB:"rgba(0,0,0,0.8)",TB:yC.TRANSPARENT,SB:"none",EB:"visible"},XC="theoplayer-webvtt-region-",WC="theoplayer-webvtt-styling-",qC="theoplayer-webvtt-voice-",GC=5.23,jC=1.14,QC=0,YC=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,zC)||this).Ij={},s.Nj=tx(3),s}U(n,t);var i=n.prototype;return i.GG=function(t){var n=r.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,De(n),Ie(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.hj.pB,n.style.whiteSpace="pre-line",n},i.qG=function(t,n){for(var i=n/100,e=t/100,r=l.min(i,e),s=wC(this.hj),u=0,o=d.keys(this.Dj);u<o.length;u++){var h=o[u],a=this.Dj[h].Cj;this.xj(a,r,s,this.Dj[h].Xg)}this.xj(this.Pj,r,s),this.Oj()},i.Oj=function(){var t=wC(this.hj);this.Pj.style.padding=t>=1.5?"0":1/t+"em"},i.rj=function(t){var n=this.$E,i=this.$B.sx/100,e=this.Pj;t.Xg&&(this.Dj[t.Xg.i_]||(this.Dj[t.Xg.i_]={Xg:t.Xg,Cj:nx(t.Xg,i)}),e=this.Dj[t.Xg.i_].Cj),n.querySelector("."+e.className)||n.appendChild(e);var r=this.sj(t);e.children.length>=1&&t.Xg&&"up"===t.Xg.hy&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s");for(var s=0;s<r.length;s++){var u=r[s];u.className=t.iy,e.appendChild(u)}},i.sj=function(t){var n=[];return t&&n.push(this.Bj(t)),n},i.Bj=function(t){for(var n=new Zu,i=t.Mg,e=this.Lj(t),s=e,u="",o=[],h={};n.Eh<i.length;){var a=FC(i,n);if(a.do===MC.wj){var c=this.Mj(a.Mg);ZC(c,h),s.appendChild(c)}else if(a.do===MC.lj){switch(h[a.Es.toLowerCase()]||(h[a.Es.toLowerCase()]=[]),h[a.Es.toLowerCase()].push(a),a.Es.toLowerCase()){case"c":break;case"i":var f=r.createElement("i");s.appendChild(f),s=f;break;case"b":var v=r.createElement("b");s.appendChild(v),s=v;break;case"u":var d=r.createElement("u");s.appendChild(d),s=d;break;case"ruby":var l=r.createElement("ruby");s.appendChild(l),s=l;break;case"rt":if("ruby"===u){var _=r.createElement("rt");s.appendChild(_)}break;case"v":break;case"lang":o.push(a.Tj)}u=a.Es||""}else if(a.do===MC.Sj){h[a.Es.toLowerCase()]&&h[a.Es.toLowerCase()].pop(),(!a.Es||"C"!==a.Es.toUpperCase()&&"V"!==a.Es.toUpperCase())&&("LANG"===a.Es.toUpperCase()?o.pop():"RUBY"===a.Es.toUpperCase()&&"RUBY"===s.tagName?s=s.parentNode.parentNode:s.tagName&&s.tagName.toUpperCase()===a.Es.toUpperCase()&&(s=s.parentNode)),u=a.Es||""}else if(a.do===MC.Ej){var w=a.Rj,g=new Zu;try{fg(w,g)}catch(t){wt("ERROR collecting timestamp",t)}}}return e},i.Mj=function(t){var n=r.createElement("span");return AC(n,t),n.style.background=this.hj.bB,n.style.color=this.hj.kB,n},i.xj=function(t,n,i,e){if(e){var r=JC(e,n);t.style.height=r*i+"px",t.style.left=$C(e)+"%",t.style.top=KC(e,n)+"px"}t.style.fontSize=GC*n*i+"px"},i.Lj=function(t){var n=r.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Ug,function(t,n){"rl"===n.qg?t.style.writingMode="vertical-rl":"lr"===n.qg?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=lw(n);ix(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=dw(n),s=vw(n),u=lw(n);ix(n)?("line-left"===r?i=s:"center"===r?i=s-u/2:"line-right"===r&&(i=s-u),e=n.Wg?0:fw(n)):("line-left"===r?e=s:"center"===r?e=s-u/2:"line-right"===r&&(e=s-u),i=n.Wg?0:fw(n));t.style.left=i+"%",t.style.top=e+"%"}(n,t),n.style.background=this.hj.TB,n.style.color=this.hj.kB,n.style.textShadow=pC(this.hj.SB),n},i.uj=function(t){for(var n=t.iy,i=this.$E,e=i.children,r=0;r<e.length;r++){for(var s=e[r].getElementsByClassName(n),u=0;u<s.length;u++)e[r].removeChild(s[u]);if(0===e[r].childNodes.length){for(var o=0,h=d.keys(this.Dj);o<h.length;o++){var a=h[o];if(Nr(e[r].className,XC+a)){delete this.Dj[a];break}}i.removeChild(e[r])}}},L(n,[{key:"Dj",get:function(){return this.Ij||(this.Ij={}),this.Ij}},{key:"Pj",get:function(){return this.Nj||(this.Nj=tx(3)),this.Nj}},{key:"tj",get:function(){return"theoplayer-webvtt-cue-"+QC++}}]),n}(mC);function ZC(t,n){if(n.c)for(var i=0,e=n.c;i<e.length;i++){var r=e[i];if(r._j)for(var s=0,u=r._j;s<u.length;s++){var o=u[s];Re(t,WC+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.Tj&&Re(t,qC+c.Tj)}}function JC(t,n){return t.sy*(GC*n)*jC}function $C(t){return t.ay-t.uy*t.ku/100}function KC(t,n){var i=t.vy,e=t.oy*JC(t,n)/100;return l.max(0,i-e)}function tx(t){var n=r.createElement("div");return n.className=XC+"default",De(n),Ie(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=GC*t+"px",n.style.lineHeight=jC+"em",n}function nx(t,n){var i=tx(n);i.className=XC+t.i_;var e=t.ku,r=JC(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=$C(t)+"%",i.style.top=KC(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function ix(t){return""===t.qg}!function(t){t[t.Uj=0]="Uj",t[t.Fj=1]="Fj",t[t.Hj=2]="Hj",t[t.Vj=3]="Vj",t[t.zj=4]="zj",t[t.Xj=5]="Xj"}(HC||(HC={})),function(t){t[t.Wj=0]="Wj",t[t.qj=1]="qj",t[t.Gj=2]="Gj",t[t.jj=3]="jj"}(VC||(VC={}));var ex=15,rx=32,sx=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),ux=function(){function t(){this.Qj=[],this.Yj=0,this.Zj=void 0;for(var t=0;t<rx;t++)this.Qj.push(null);this.Zj=!1}var n=t.prototype;return n.Jj=function(t){for(var n=0;n<rx;n++)t&&(this.Qj[n]=t.Qj[n])},n.ty=function(t){for(var n=0;n<rx;n++)if(this.Qj[n]!==t.Qj[n])return!1;return!0},n.$j=function(){for(var t=0;t<rx;t++)if(null!==this.Qj[t])return!1;return!0},n.Kj=function(t){this.Yj!==t&&(this.Yj=t),this.Yj<0?this.Yj=0:this.Yj>rx&&(this.Yj=rx-1)},n.tQ=function(t){var n=this.Yj+t;this.Kj(n)},n.nQ=function(){this.tQ(-1),this.Qj[this.Yj]=null},n.iQ=function(t){t>=144&&this.nQ();var n,i=sx[n=t]?String.fromCharCode(sx[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Yj>=rx||(32===Number(t)?(this.Qj[this.Yj]=this.Zj?"</i>":"<i>",this.Zj=!this.Zj):this.Qj[this.Yj]=t,this.tQ(1))},n.eQ=function(t){for(var n=t;n<rx;n++)this.Qj[n]=null},n.ph=function(){this.eQ(0),this.Yj=0},n.rQ=function(){this.eQ(this.Yj)},n.sQ=function(t,n){for(var i=this.Qj,e=null,r=0;r<rx;r++){var s=i[r];null===s?e=null:(e||(e={uQ:r,oQ:t,ku:0,zk:1,Qj:[[]]},n.push(e)),e.Qj[0].push(s),e.ku++)}},n.Cm=function(t,n){return t.hQ(this.Qj,n)},t}();var ox=function(){function t(){this.aQ=void 0,this.cQ=void 0,this.fQ=null,this.aQ=[];for(var t=0;t<ex;t++)this.aQ.push(new ux);this.cQ=ex-1,this.Wl()}var n=t.prototype;return n.Jj=function(t){for(var n=0;n<ex;n++)this.aQ[n].Jj(t.aQ[n])},n.ty=function(t){for(var n=!0,i=0;i<ex;i++)if(!this.aQ[i].ty(t.aQ[i])){n=!1;break}return n},n.$j=function(){for(var t=!0,n=0;n<ex;n++)if(!this.aQ[n].$j()){t=!1;break}return t},n.Wl=function(){for(var t=0;t<ex;t++)this.aQ[t].ph();this.cQ=ex-1},n.iQ=function(t){this.aQ[this.cQ].iQ(t)},n.vQ=function(){this.aQ[this.cQ].nQ()},n.rQ=function(){this.aQ[this.cQ].rQ()},n.dQ=function(){if(null!==this.fQ){var t=this.cQ+1-this.fQ,n=this.aQ[t];n&&(ns(this.aQ,t),n.ph(),this.aQ.splice(this.cQ,0,n))}},n.tQ=function(t){this.aQ[this.cQ].tQ(t)},n.lQ=function(t){this.fQ=t},n._Q=function(t){var n=t.wQ;this.fQ&&n<this.fQ-1&&(n=this.fQ-1),this.cQ=n;var i=this.aQ[this.cQ];null!==t.gQ&&i.Kj(t.gQ)},n.yQ=function(){for(var t=this.aQ,n=[],i=0;i<t.length;i++){t[i].sQ(i,n)}for(var e=0;e<n.length;e++){for(var r=!1,s=n[e],u=n.length-1;u>e;){var o=n[u];ax(s,o)&&(s=hx(s,o),ns(n,u),r=!0),u--}r&&(n[e]=s,e--)}return n.map(cx)},n.Cm=function(t){return t.mQ(this.aQ)},t}();function hx(t,n){for(var i=l.min(t.uQ,n.uQ),e=l.min(t.oQ,n.oQ),r=l.max(t.uQ+t.ku,n.uQ+n.ku)-i,s=l.max(t.oQ+t.zk,n.oQ+n.zk)-e,u=new Array(s),o=0;o<s;o++){var h=new Array(r),a=t.Qj[o+e-t.oQ];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.uQ]=a[c]);var f=n.Qj[o+e-n.oQ];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.uQ]=f[v]);u[o]=h}return{uQ:i,oQ:e,ku:r,zk:s,Qj:u}}function ax(t,n){return t.uQ<=n.uQ+n.ku&&n.uQ<=t.uQ+t.ku&&t.oQ<=n.oQ+n.zk&&n.oQ<=t.oQ+t.zk}function cx(t){for(var n=new Array(t.zk),i=t.Qj,e=0;e<i.length;e++){for(var r=i[e],s=[],u=!1,o=0;o<r.length;o++){var h=r[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[e]=s.join("")}var a=n.join("\n");return{uQ:t.uQ,oQ:t.oQ,ku:t.ku,zk:t.zk,Mg:a}}var fx=function(){function t(t,n){this.wQ=t,this.gQ=n}return t.prototype.ty=function(t){return this.wQ===t.wQ&&this.gQ===t.gQ},t}(),vx=function(){function t(t){this.pQ=void 0,this.kQ=void 0,this.AQ=t,this.pQ=this.bQ(),this.kQ=this.TQ()}var n=t.prototype;return n.bQ=function(){for(var t=new fx(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.SQ;n<i.length;n++){var e=i[n],r=l.min(t.wQ,e.EQ.wQ),s=l.min(t.gQ,e.EQ.gQ);t=new fx(r,s)}return t},n.TQ=function(){for(var t=new fx(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.SQ;n<i.length;n++){var e=i[n],r=l.max(t.wQ,e.RQ.wQ),s=l.max(t.gQ,e.RQ.gQ);t=new fx(r,s)}return t},L(t,[{key:"EQ",get:function(){return this.pQ}},{key:"RQ",get:function(){return this.kQ}},{key:"SQ",get:function(){return rs(this.AQ.map(function(t){return t.SQ}))}}]),t}(),dx=function(){function t(t,n){this.IQ="",this.RB=t,this.pQ=n}var n=t.prototype;return n.iQ=function(t){this.IQ+=t},n.NQ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.iQ(i)}},L(t,[{key:"DQ",get:function(){return this.IQ}},{key:"SQ",get:function(){return[this]}},{key:"CQ",get:function(){return this.RB}},{key:"EQ",get:function(){return this.pQ}},{key:"RQ",get:function(){return new fx(this.EQ.wQ,this.EQ.gQ+this.DQ.length-1)}}]),t}(),lx=function(){function t(){}var n=t.prototype;return n.xQ=function(t){return t.Cm(this)},n.mQ=function(t){var n=this;return rs(t.map(function(t,i){return t.Cm(n,i)}))},n.hQ=function(t,n){return new _x(t,n).PQ()},t}(),_x=function(){function t(t,n){this.OQ=[],this.BQ=null,this.wQ=t,this.LQ=n}var n=t.prototype;return n.PQ=function(){if(this.MQ)return[];for(var t=0;t<this.wQ.length;t++)this.UQ(t);return this.FQ(),this.OQ},n.HQ=function(t){this.BQ=new dx(bx,new fx(this.LQ,t))},n.FQ=function(){this.BQ&&(this.OQ.push(this.BQ),this.BQ=null)},n.UQ=function(t){var n=this.wQ[t];wx(n)?this.BQ&&this.FQ():(this.BQ||this.HQ(t),this.BQ.iQ(n))},L(t,[{key:"MQ",get:function(){return this.wQ.every(wx)}}]),t}();function wx(t){return null==t}var gx,yx=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return U(n,t),n}(hw),mx=function(t){function n(n,i){var e;return(e=t.call(this,"zQ")||this).VQ=n,e.Og=i,e}return U(n,t),n}(Ds);!function(t){t[t.qR=0]="qR",t[t.XQ=1]="XQ",t[t.WQ=2]="WQ",t[t.qQ=3]="qQ",t[t.os=4]="os"}(gx||(gx={}));var px,kx=function(t){function n(){var n;return(n=t.call(this)||this).om=0,n.Bg=0,n.GQ=void 0,n.jQ=void 0,n.QQ=void 0,n.YQ=void 0,n.l_=gx.qR,n.GQ=new ox,n.jQ=new ox,n.QQ=new ox,n.YQ=n.GQ,n}U(n,t);var i=n.prototype;return i.iQ=function(t){this.YQ.iQ(t),this.l_!==gx.XQ&&this.l_!==gx.WQ||this.ZQ()},i.CN=function(t){t!==this.l_&&(this.l_=t,this.l_===gx.qQ?this.YQ=this.jQ:(this.YQ=this.GQ,this.YQ.Wl()),this.l_!==gx.WQ&&(this.GQ.lQ(null),this.jQ.lQ(null)))},i._Q=function(t){this.YQ._Q(t)},i.JQ=function(){this.CN(gx.qQ)},i.$Q=function(){this.l_!==gx.os&&(this.YQ.vQ(),this.YQ===this.GQ&&this.ZQ())},i.KQ=function(){},i.tY=function(){},i.nY=function(){this.YQ.rQ(),this.ZQ()},i.iY=function(t){this.YQ=this.GQ,this.CN(gx.WQ),this.YQ.lQ(t)},i.eY=function(){},i.rY=function(){this.CN(gx.XQ)},i.sY=function(){this.CN(gx.os)},i.uY=function(){this.CN(gx.os)},i.oY=function(){this.GQ.Wl(),this.ZQ()},i.hY=function(){this.YQ.dQ(),this.ZQ()},i.aY=function(){this.jQ.Wl()},i.cY=function(){if(this.l_===gx.qQ){var t=this.GQ;this.GQ=this.jQ,this.jQ=t,this.YQ=this.jQ}this.ZQ()},i.fY=function(t){this.YQ.tQ(t)},i.ZQ=function(){if(null!==this.om){if((null===this.Bg||0===this.Bg)&&!this.GQ.$j())this.Bg=this.om;else if(!this.GQ.ty(this.QQ)){var t=this.vY();if(this.om>this.Bg){var n=new yx(this.Bg,this.om,t);this.jo(new mx(1,n))}this.Bg=this.GQ.$j()?null:this.om}this.QQ.Jj(this.GQ)}},i.vY=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var e=i.pop(),r=void 0;do{r=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return l.abs(t.RQ.gQ-n.EQ.gQ)<=1||l.abs(n.RQ.gQ-t.EQ.gQ)<=1||l.abs(t.RQ.wQ-n.EQ.wQ)<=1||l.abs(n.RQ.wQ-t.EQ.wQ)<=1}(o=e,h=u)||function(t,n){return Ax(t.EQ.wQ,t.RQ.wQ,n.EQ.wQ,n.RQ.wQ)&&Ax(t.EQ.gQ,t.RQ.gQ,n.EQ.gQ,n.RQ.gQ)}(o,h))&&(e=new vx([].concat(e.SQ,u.SQ)),ts(i,u),r=!0)}}while(r&&i.length>0);n.push(e)}var o,h;return n}((new lx).xQ(this.QQ))},i.Wl=function(){this.om=0,this.Bg=0,this.GQ.Wl(),this.GQ.lQ(null),this.jQ.Wl(),this.jQ.lQ(null),this.QQ.Wl(),this.QQ.lQ(null),this.YQ=this.GQ,this.l_=gx.qR},n}(Is);function Ax(t,n,i,e){return n>=i&&e>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(px||(px={}));var bx={kB:yC.WHITE,pB:gC.fj,AB:"100%",bB:yC.BLACK,TB:"transparent",SB:"none",dY:px.FONT_REGULAR,EB:"visible"},Tx=[{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:0},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.GREEN,dY:px.FONT_REGULAR,gQ:0},{lY:yC.GREEN,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.BLUE,dY:px.FONT_REGULAR,gQ:0},{lY:yC.BLUE,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.CYAN,dY:px.FONT_REGULAR,gQ:0},{lY:yC.CYAN,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.RED,dY:px.FONT_REGULAR,gQ:0},{lY:yC.RED,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.YELLOW,dY:px.FONT_REGULAR,gQ:0},{lY:yC.YELLOW,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.MAGENTA,dY:px.FONT_REGULAR,gQ:0},{lY:yC.MAGENTA,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.WHITE,dY:px.FONT_ITALICS,gQ:0},{lY:yC.WHITE,dY:px.FONT_UNDERLINE_ITALICS,gQ:0},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:0},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:0},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:4},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:4},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:8},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:8},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:12},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:12},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:16},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:16},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:20},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:20},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:24},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:24},{lY:yC.WHITE,dY:px.FONT_REGULAR,gQ:28},{lY:yC.WHITE,dY:px.FONT_UNDERLINE,gQ:28}],Sx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],Ex=function(t){function n(){var n;(n=t.call(this)||this)._Y=void 0,n.wY=null,n.gY=null,n.yY=0;var i=new kx;return n._Y=[i,new kx],i.Qo("zQ",n.Go),n}U(n,t);var i=n.prototype;return i.Wl=function(){for(var t=0,n=this._Y;t<n.length;t++){n[t].Wl()}},i.mY=function(t,n){if(n.do===VC.Wj&&n.pY){n.kY&&(this.yY=0),this._Y[this.yY].om=t;var i=127&n.AY,e=127&n.bY;if(i+e!==0){switch(i){case 17:e>=32&&e<=47&&this.TY(),e>=48&&e<=63&&this.SY(i,e);break;case 18:case 19:e>=32&&e<=63&&this.SY(i,e);break;case 20:case 21:e>=32&&e<=47&&this.EY(i,e);break;case 23:e>=33&&e<=35&&this.EY(i,e),e>=46&&e<=47&&this.TY()}16===i&&e>=64&&e<=95?this.RY(i,e):i>=17&&i<=23&&e>=64&&e<=127&&this.RY(i,e),i>=32&&this.SY(i,e)}}},i.EY=function(t,n){var i=null;if(t===this.wY&&n===this.gY)return this.wY=null,this.gY=null,!0;i=20===t||23===t?0:1;var e=this._Y[i];return 20===t||28===t?32===n?e.JQ():33===n?e.$Q():34===n?e.KQ():35===n?e.tY():36===n?e.nY():37===n?e.iY(2):38===n?e.iY(3):39===n?e.iY(4):40===n?e.eY():41===n?e.rY():42===n?e.sY():43===n?e.uY():44===n?e.oY():45===n?e.hY():46===n?e.aY():47===n&&e.cY():e.fY(n-32),this.wY=t,this.gY=n,this.yY=i,!0},i.RY=function(t,i){t===this.wY&&i===this.gY&&(this.wY=null,this.gY=null);var e=t<=23?0:1,r=Sx[t<<1&14|i>>5&1]-1;if(!(r<0)){var s=n.IY(r,i);this._Y[e]._Q(s),this.wY=t,this.gY=i,this.yY=e}},n.IY=function(t,n){var i=n>95?n-96:n-64;return{lY:Tx[i].lY,dY:Tx[i].dY,gQ:Tx[i].gQ,wQ:t}},i.SY=function(t,n){var i=t>=25?t-8:t,e=this._Y[this.yY],r=!1;switch(i){case 17:e.iQ(n+80),r=!0;break;case 18:e.iQ(n+112),r=!0;break;case 19:e.iQ(n+144),r=!0;break;default:t>=32&&(e.iQ(t),n>=32&&e.iQ(n),r=!0)}r&&(this.wY=null,this.gY=null)},i.TY=function(){this._Y[this.yY].YQ.tQ(1)},i.Zv=function(){this.Jo()},L(n,[{key:"vA",get:function(){return this._Y.length}}]),n}(Is),Rx=function(){function t(t,n,i){this.NY=void 0,this.DY=t,this.CY=n,this.xG=i}var n=t.prototype;return n.xY=function(){return this.NY=this.PY(),this.OY(),this.BY(),this.NY},n.PY=function(){var t=r.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.LY/rx*this.CY.MY*100+"%",t.style.height=1.2*this.UY+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.CY.FY?"calc(1em - 1ch)":"",t.style.fontFamily=this.xG.pB,t.style.backgroundColor=this.xG.TB,t},n.OY=function(){var t=this.HY.wQ/ex*100,n=this.HY.gQ/rx*100,i=(rx-this.VY.gQ-1)/rx*100,e=(ex-this.VY.wQ-1)/ex*100;this.CY.zY||(n=i=1,this.NY.style.width="98%"),e<t?this.NY.style.bottom=e*this.CY.MY+"%":this.NY.style.top=t*this.CY.MY+"%",i<n?this.NY.style.right=i+"%":this.NY.style.left=n+"%"},n.BY=function(){for(var t=this.DY.SQ.sort(Ix),n=0;n<t.length;n++)this.XY(t[n-1],t[n]),this.WY(t[n]);this.XY(t[t.length-1],null)},n.WY=function(n){var i=_C(this.xG,n.CQ),e=t.qY(i);AC(e,n.DQ),this.NY.appendChild(e)},t.qY=function(t){var n=r.createElement("span");return n.style.display="inline-block",t.dY!==px.FONT_ITALICS&&t.dY!==px.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.dY!==px.FONT_UNDERLINE&&t.dY!==px.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.kB,n.style.backgroundColor=t.bB,n.style.textShadow=pC(t.SB),n.style.height="1.2em",n},n.XY=function(t,n){var i=t?t.RQ.wQ:this.DY.EQ.wQ,e=n?n.EQ.wQ:this.DY.RQ.wQ,r=t?t.RQ.gQ:this.DY.EQ.gQ,s=n?n.EQ.gQ:this.DY.RQ.gQ;i<e&&(!n||t&&t.EQ.wQ!==n.EQ.wQ?this.GY():this.jY(this.DY.RQ.gQ-r),r=this.DY.EQ.gQ),r<s&&(n?this.jY(s-r):this.GY())},n.GY=function(){var t=r.createElement("br");this.NY.appendChild(t)},n.jY=function(t){if(!(t<=0)){var n=r.createElement("span");n.style.display="inline-block",AC(n,Pr(" ",t)),this.NY.appendChild(n)}},L(t,[{key:"HY",get:function(){return this.DY.EQ}},{key:"VY",get:function(){return this.DY.RQ}},{key:"LY",get:function(){return this.DY.RQ.gQ-this.DY.EQ.gQ+1}},{key:"UY",get:function(){return this.DY.RQ.wQ-this.DY.EQ.wQ+1}}]),t}();function Ix(t,n){return function(t,n){if(t.wQ!==n.wQ)return t.wQ-n.wQ;return t.gQ-n.gQ}(t.EQ,n.EQ)}var Nx=0;var Dx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,bx)||this).QY=void 0,s.YY=void 0,s}U(n,t);var i=n.prototype;return i.GG=function(t){var n=r.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.hj.pB&&(n.style.fontFamily=this.hj.pB),n},i.qG=function(t,n){this.ZY()},i.ZY=function(){var t,n=wC(this.hj);this.YY={MY:(t=100*n)/100,FY:t<=100,zY:t<=150};var i=this.JY/rx;this.QY=i*n,this.$E.style.fontSize=this.QY+"px"},i.sj=function(t){var n=this;return this.YY&&this.YY.zY?this.$Y(80):this.$Y(100),this.ZY(),t.Mg.map(function(t){return new Rx(t,n.YY,n.hj).xY()})},i.$Y=function(t){var n=(100-t)/2;this.$E.style.left=n+"%",this.$E.style.width=t+"%"},L(n,[{key:"JY",get:function(){var t=this.$E.offsetWidth;return this.YY&&this.YY.zY||(t*=.8),t}},{key:"tj",get:function(){return"theoplayer-cea608-texttrack-"+Nx++}}]),n}(mC),Cx=function(){function t(t,n,i,e,r){var s=this;this.KY=void 0,this.VW=void 0,this.Sw=void 0,this.tZ=void 0,this.nZ=[],this.nN=void 0,this.iZ=function(t){var n=t.gl;n.Qo(Id.Dl,s.eZ),n.Qo(Id.xl,s.eZ),n instanceof ED&&(n.gX=s.gX),s.rZ(n)},this.eZ=function(t){var n=t.gl;s.rZ(n)},this.sZ=function(t){var n=t.gl;n.$o(Id.Dl,s.eZ),n.$o(Id.xl,s.eZ),s.uZ(n)},this.oZ=function(){for(var t=s.gX,n=0,i=s.Sw.ql;n<i.length;n++){var e=i[n];e instanceof ED&&(e.gX=t)}},this.hZ=function(){for(var t=0,n=s.nZ;t<n.length;t++){n[t].QG(s.nN)}},this.aZ=function(){for(var t=0,n=s.nZ;t<n.length;t++){var i=n[t];i.QG(nr({},i.ZG(),{EB:"hidden"}))}},this.cZ=function(){for(var t=0,n=s.nZ;t<n.length;t++){var i=n[t];i.QG(nr({},i.ZG(),{EB:"visible"}))}},this.KY=t,this.VW=n,this.Sw=i,this.tZ=r,this.nN=e,this.Sw.Qo(Td.cl,this.iZ),this.Sw.Qo(Td.vl,this.sZ),this.Sw.Qo("Nl",this.eZ),this.tZ.Qo(tA.Il,this.oZ),this.nN.Qo("Nl",this.hZ),this.oZ()}var n=t.prototype;return n.fZ=function(t){for(var n=0,i=this.nZ;n<i.length;n++){var e=i[n];if(e.gl===t)return e}},n.vZ=function(t){switch(t.do){case q_.TTML:case q_.SRT:case q_.WEBVTT:case q_.CEA608:return!0}return!1},n.dZ=function(t){switch(t.do){case q_.TTML:return new IC(t,this.KY,t.s_,this.VW);case q_.SRT:case q_.WEBVTT:return new YC(t,this.KY,t.s_,this.VW);case q_.CEA608:return new Dx(t,this.KY,t.s_,this.VW)}},n.lZ=function(t){var n=this.fZ(t);n||((n=this.dZ(t)).QG(this.nN),this.nZ.push(n),t.l_===rl.f_&&n.nj())},n.uZ=function(t){for(var n=this.nZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.gl===t&&(e.Zv(),ns(n,i))}},n.rZ=function(t){var n;(n=t.r_)!==sy.xp&&n!==sy.Xb||!this.vZ(t)||(t.g_===W_.ERROR?this.uZ(t):this.lZ(t))},n.Wl=function(){for(var t=0,n=this.nZ;t<n.length;t++){var i=n[t];i.gl.$o(Id.Dl,this.eZ),i.gl.$o(Id.xl,this.eZ),i.Zv()}es(this.nZ)},n.Zv=function(){this.Wl();for(var t=0,n=this.nZ;t<n.length;t++){n[t].Zv()}this.Sw.$o(Td.cl,this.iZ),this.Sw.$o(Td.vl,this.sZ),this.Sw.$o("Nl",this.eZ),this.tZ.$o(tA.Il,this.oZ),this.nN.$o("Nl",this.hZ)},L(t,[{key:"gX",get:function(){return this.tZ.WI}}]),t}();function xx(t){var n=new ST,i=function(t){var n=[];return bT.Cx(t)&&n.push(new bT(t)),TT.Cx(t)&&n.push(new TT(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.Lx(r)}n.Bx(i[0])}return n}var Px,Ox=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this)._Z=void 0,s.wZ=void 0,s.gZ=void 0,s.gZ=xx(n),s._Z=new lC,s.wZ=new Cx(s._Z.ig,s.$B,s.Cw,s.tL,s.fR),s}U(n,t);var i=n.prototype;return i.Gw=function(){return this.Va},i.Po=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.gZ.Zv(),this._Z.Zv(),this.wZ.Zv(),n.next=5,t.prototype.Po.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.qw=function(){t.prototype.qw.call(this),this._Z.qw()},i.Ww=function(){t.prototype.Ww.call(this),this._Z.Ww()},i.EG=function(n){t.prototype.EG.call(this,n),this._Z.EG(n)},L(n,[{key:"$E",get:function(){return this.Va}},{key:"hw",get:function(){return this.Va.videoHeight}},{key:"aw",get:function(){return this.Va.videoWidth}},{key:"fR",get:function(){return this.gZ}}]),n}(sC);!function(t){t.yZ="HELLO",t.mZ="HI_THERE",t.pZ="INITIALIZE",t.kZ="APPEND_INIT",t.AZ="APPEND_DATA",t.bZ="ACK",t.TZ="REMOVE",t.SZ="DESTROY_SESSION"}(Px||(Px={}));var Bx=function(){function t(){this.nu=void 0,this.Fa=void 0,this.IL=new XS}var n=t.prototype;return n.EZ=function(t){var n=this;return this.IL.gL(function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s,o,h,a;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(i),e=new MessageChannel,r=e.port1,s=e.port2,u.serviceWorker.controller){t.next=7;break}return t.next=7,Ad(u.serviceWorker,"install",i);case 7:if("activated"===u.serviceWorker.controller.state){t.next=10;break}return t.next=10,Ad(u.serviceWorker.controller,"activate",i);case 10:return o={kind:Px.yZ,port:s},u.serviceWorker.controller.postMessage(o,[s]),r.start(),n.nu=r,t.prev=15,t.next=18,Ad(r,"message",i);case 18:if(h=t.sent,(a=h.data).kind===Px.mZ){t.next=23;break}throw new f("Could not set up message channel");case 23:n.Fa=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),vs(t.t0)&&n.RZ(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.IZ=function(t,n){var i=this;return this.nu,this.IL.gL(T.coroutine(tr.mark(function e(){var r;return tr.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.nu){e.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.nu.postMessage(t,n),e.next=7,Ad(i.nu,"message");case 7:return r=e.sent,e.abrupt("return",r.data);case 10:case"end":return e.stop()}},e)})))},n.NZ=function(){var t=this;return this.IL.gL(function(){return t.RZ()})},n.RZ=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this.nu){var t={kind:Px.SZ};this.nu.postMessage(t),this.nu.close(),this.nu=void 0}},t}(),Lx=function(){function t(){this.DZ=pw.gm}var n=t.prototype;return n.CZ=function(t,n){var i=t.Ey(n);this.DZ=i.wy(this.xZ)?this.DZ:i},n.PZ=function(t){this.DZ=t},L(t,[{key:"xZ",get:function(){return this.DZ}}]),t}(),Mx=function(t){function n(n,i){var e;return(e=t.call(this)||this).OZ=void 0,e.BZ=void 0,e.dU=void 0,e.IL=new XS,e.LZ=!1,e.MZ=!1,e.RC=n,e.UZ=i,e}U(n,t);var i=n.prototype;return i.wV=function(t,n){},i.gV=function(t,n){},i.sM=function(){return this.MZ},i.yV=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.JH=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.HH=function(){var t=T.coroutine(tr.mark(function t(i,e,r){var s,u,o=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.do===vE.cM){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return s=i.Fs,u=function(){var t=T.coroutine(tr.mark(function t(){var i,e,r,u,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Mg.vk(new DataView(s.buffer)),(e=Dg(i,zw.yp)).length){t.next=4;break}throw new f("Moof boxes not found");case 4:return r=o.dU,u=n.FZ(e,r),h=o.HZ(e,r),a=s.buffer,c={kind:Px.AZ,mimeType:o.RC,segment:s,startPts:Iw.bm(u).Cm(),totalDuration:Iw.bm(h).Cm()},t.next=11,o.UZ.IZ(c,[a]);case 11:void 0===o.OZ&&(o.OZ=u),void 0===o.BZ&&(o.BZ=u),o.BZ=o.BZ.wg(h),o.jo(new Ds(oE.hM));case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.IL.gL(function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(n),t.prev=1,o.LZ=!0,t.next=5,u();case 5:return t.prev=5,o.LZ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),r));case 5:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.XH=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.do===vE.cM){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return e=n.Fs,r=function(){var t=T.coroutine(tr.mark(function t(){var n,i,r,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Mg.vk(new DataView(e.buffer)),i=Ng(n,zw.qm)){t.next=4;break}throw new f("Moov Box not found");case 4:if(0!==i.Ek.length){t.next=6;break}throw new f("Tracks not found");case 6:return s.dU=i.Ek[0].Bk.rk.hm,r=e.buffer,u={kind:Px.kZ,mimeType:s.RC,segment:e},t.next=11,s.UZ.IZ(u,[r]);case 11:s.jo(new Ds(oE.hM));case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.IL.gL(function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(n),t.prev=1,s.LZ=!0,t.next=5,r();case 5:return t.prev=5,s.LZ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),i));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cV=function(){this.MZ=!0},i.uV=function(){this.MZ=!1},i.Qh=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={kind:Px.TZ,mimeType:s.RC,endTime:Iw.mm(i).Cm()},t.next=3,s.UZ.IZ(n);case 3:s.OZ=void 0,s.BZ=void 0,s.jo(new Ds(oE.hM));case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.IL.gL(function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(n),t.prev=1,s.LZ=!0,t.next=5,r();case 5:return t.prev=5,s.LZ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),e));case 2:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.$L=function(t){return this.RC===t.ov},i.KL=function(t){return this.RC=t.ov,T.resolve()},n.FZ=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.Ek.length)throw new f("No tracks");if(!i.Ek[0].KA)throw new f("No decode time");return new pw(i.Ek[0].KA.KA.toNumber(),n)},i.HZ=function(t,n){var i=0;return t.forEach(function(t){t.Ek.forEach(function(t){t.$A.forEach(function(t){t.ob.forEach(function(t){var n;i+=null!=(n=t.nw)?n:0})})})}),new pw(i,n)},i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Jo(),t.next=3,this.IL.Zv();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"tg",get:function(){return void 0===this.OZ||void 0===this.BZ?iA.zI():new iA([this.OZ._m,this.BZ._m])}},{key:"ea",get:function(){return{ov:this.RC}}},{key:"AC",get:function(){return this.RC}},{key:"kV",get:function(){return iA.zI()}},{key:"PP",get:function(){return 30},set:function(t){}},{key:"MP",get:function(){return 30},set:function(t){}},{key:"Hx",get:function(){return this.LZ}},{key:"VZ",get:function(){return this.OZ}},{key:"Lg",get:function(){return this.BZ}}]),n}(Is),Ux=function(){function t(t,n){this.Na=void 0,this.JV=void 0,this.$V=void 0,this.Na=t,this.$V=$r(n,function(t){return Boolean(t.AC.match(/video/))}),this.JV=$r(n,function(t){return Boolean(t.AC.match(/audio/))}),this.zZ()}t.XZ=function(n,i){for(var e=[],r=0;r<n.cz.length;r++){var s=n.cz[r].ov;e.push(new Mx(s,i))}return new t(n,e)};var n=t.prototype;return n.zZ=function(){},n.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.all([this.JV,this.$V].filter($).map(function(t){return t.Po()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.uz=function(t){},n.az=function(t,n,i,e){},n.cV=function(){var t,n;null==(t=this.JV)||t.cV(),null==(n=this.$V)||n.cV()},n.uV=function(){var t,n;null==(t=this.JV)||t.uV(),null==(n=this.$V)||n.uV()},n.$L=function(t){return t===this.Na},n.KL=function(t){return this.Na=t,T.resolve()},L(t,[{key:"WZ",get:function(){return[this.JV,this.$V].filter($)}},{key:"jV",get:function(){return this.JV}},{key:"tg",get:function(){return tN(this)}},{key:"ea",get:function(){return this.Na}},{key:"nw",get:function(){return 0}},{key:"sM",get:function(){var t,n,i,e,r=null==(t=null==(n=this.JV)?void 0:n.sM())||t,s=null==(i=null==(e=this.$V)?void 0:e.sM())||i;return r&&s}},{key:"dg",get:function(){return new iA([0,1/0])}},{key:"QV",get:function(){return this.$V}},{key:"Dw",get:function(){throw new f("Not implemented")}}]),t}(),Fx=pw.By,Hx=new pw(-1/0),Vx=pw.gm,zx=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.gy=function(t,n){return t.Ay(n)?zr.Ro:t.ty(n)?zr.So:zr.Eo},i.wg=function(t,n){return t.wg(n)},i.Ey=function(t,n){return t.Ey(n)},i.ky=function(t,n){return t.ky(n)},i._I=function(){return Fx},i.wI=function(){return Vx},i.pI=function(){return Hx},n.FI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new pw(t.start(e)),new pw(t.end(e)));return new n(i)},n.qZ=function(t){for(var i=[],e=[],r=0;r<t.Gl;r++)i.push(new pw(t.rI(r))),i.push(new pw(t.uI(r))),e.push(t.sI(r)),e.push(t.oI(r));return new n(i,e)},n.VI=function(t){return new n([t,t],[!0,!0])},i.dI=function(t,i){return new n(t,i)},i.fI=function(t){return t._m},n.zI=function(){return Xx},n}(nA),Xx=new zx([]),Wx=function(t){function n(n){var i;return(i=t.call(this)||this).GZ=!0,i.UZ=new Bx,i.jZ=new Lx,i.RE=void 0,i.WW=void 0,i.QZ=!0,i.YZ=new $u,i.JI=!1,i.rq=T.resolve(),i.sq=new cs,i.ZZ=!0,i.oq=iA.zI(),i.gZ=void 0,i.JZ=void 0,i.gq=!1,i.PE=void 0,i.$Z=function(){i.sw||i.KZ.Gl<=0||i.tg.Gl<=0||i.jZ.CZ(new pw(i.tg.uI(i.tg.Gl-1)),i.KZ.uI(i.KZ.Gl-1))},i.tJ=function(){i.jo(new $l(i.tw))},i.nJ=function(){i.jo(new Jl(i.tw,i.ng))},i.iJ=function(){i.jo(new Zl(i.tw,i.uw))},i.eJ=function(){i.jo(new i_(i.tw,i.cw))},i.rJ=function(){i.jo(new Yl(i.nw))},i.sJ=function(){i.jo(new im(i.tw))},i.uJ=function(){i.Th(i.tw)},i.oJ=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.ZZ&&i.jo(new Wl(i.tw)),i.QZ=!1,i.ZZ=!0;case 3:case"end":return t.stop()}},t)})),i.hJ=function(){i.QZ=!0,i.jo(new Xl(i.tw))},i.JZ=n,i.WW=new aN(sn(i)),i.JZ.setAttribute("id","player_video"),i.JZ.setAttribute("x-webkit-airplay","deny"),i.JZ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.JZ.playsInline=!0,i.JZ.style.width="100%",i.JZ.style.height="100%",i.aJ(),i.cJ(),i.gZ=xx(i.JZ),i}U(n,t);var i=n.prototype;return i.aJ=function(){this.JZ.addEventListener("timeupdate",this.$Z),this.JZ.addEventListener("ended",this.tJ),this.JZ.addEventListener("timeupdate",this.nJ),this.JZ.addEventListener("ratechange",this.iJ),this.JZ.addEventListener("volumechange",this.eJ),this.JZ.addEventListener("durationchange",this.rJ),this.JZ.addEventListener("playing",this.sJ),this.JZ.addEventListener("seeking",this.uJ),this.JZ.addEventListener("play",this.oJ),this.JZ.addEventListener("pause",this.hJ)},i.fJ=function(){this.JZ.removeEventListener("timeupdate",this.$Z),this.JZ.removeEventListener("ended",this.tJ),this.JZ.removeEventListener("timeupdate",this.nJ),this.JZ.removeEventListener("ratechange",this.iJ),this.JZ.removeEventListener("volumechange",this.eJ),this.JZ.removeEventListener("durationchange",this.rJ),this.JZ.removeEventListener("playing",this.sJ),this.JZ.removeEventListener("seeking",this.uJ),this.JZ.removeEventListener("play",this.oJ),this.JZ.removeEventListener("pause",this.hJ)},i.cJ=function(){this.WW.Qo(Vl.Dl,this.Go)},i.vJ=function(){this.WW.$o(Vl.Dl,this.Go)},i.Th=function(t,n){this.sq.Fo(),this.sq=new cs,this.rq=this.cG(t,this.rq,this.sq.zo).catch(E)},i.cG=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oq=this.fg,s=null==(r=this.RE)?void 0:r.WZ){t.next=4;break}return t.abrupt("return");case 4:return u=l.max.apply(l,s.map(function(t){return t.VZ?t.VZ._m:1/0})),this.JI=!0,this.jo(new t_(n)),t.next=9,i.catch(E);case 9:if(ds(e),t.prev=10,this.GZ||this.dJ(),this.JZ.load(),this.QZ){t.next=17;break}return this.ZZ=!1,t.next=17,ws(this.JZ.play(),e);case 17:if(!(this.g_<Tl.W_)){t.next=22;break}return t.next=20,this.WW.ih(Vl.Dl,e);case 20:t.next=17;break;case 22:this.YZ.Ch(),this.GZ=!1,this.JI=!1,this.jo(new n_(this.tw)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.YZ.xh(t.t0),t.t0;case 32:return t.prev=32,this.lJ(),this.jZ.PZ(new pw(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.Ow=function(){this.QZ=!0,this.JZ.pause()},i.Pw=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.QZ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.JZ.src){t.next=9;break}return this.TG(),t.next=7,this.YZ.Dh;case 7:t.next=11;break;case 9:return t.next=11,this.JZ.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.QZ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.UZ&&this.UZ.NZ().catch(E),this.sq.Fo(),this.fJ(),this.vJ(),this.WW.Po(),this.Jo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.UZ&&this.UZ.NZ().catch(E),this.sq.Fo(),this.JZ.removeAttribute("src"),this.JZ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.JZ.removeAttribute("x-airplay-deny"),this.JZ.load(),this.WW.Wl(),this.oq=iA.zI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TG=function(){this.SG||(Yx(this.JZ,b.qu),this.gq=!0)},i.dJ=function(){var t,n=this.JZ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.JZ.videoWidth/this.JZ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.JZ.style.width=i+"px",this.JZ.style.height=e+"px",this.JZ.style.marginLeft=(r-i)/2+"px",this.JZ.style.marginTop=(u-e)/2+"px",this.JZ.style.backgroundColor="black"}},i.lJ=function(){this.JZ.style.width="100%",this.JZ.style.height="100%",this.JZ.style.marginLeft="",this.JZ.style.marginTop="",this.JZ.style.backgroundColor=""},i.aR=function(t,n,i,e){},i.Kb=function(t,n,i,e,r,s){},i.rM=function(t){},i.pR=function(){return vS(this.JZ)},i.Ww=function(){this.JZ.style.display="block"},i.qw=function(){this.JZ.style.display="none"},i.AG=function(){},i.jh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.do!==Cy.rT){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.UZ.EZ();case 4:return i={kind:Px.pZ,mediaBufferConfigs:n.cz.map(function(t){return t.ov})},t.next=7,this.UZ.IZ(i);case 7:return this.RE=Ux.XZ(n,this.UZ),this.JZ.preload="none",this.JZ.src="https://theo.proxy/"+this.UZ.Fa+"/master.m3u8",t.abrupt("return",this.RE);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bG=function(){},i.iT=function(t){},i.vR=function(){},i.mR=function(t){},i.oR=function(){return!1},i.EG=function(t){t.appendChild(this.JZ)},i.Gw=function(){return this.JZ},i.iG=function(){},i.Kw=function(){},L(n,[{key:"$E",get:function(){return this.JZ}},{key:"yz",get:function(){return!1}},{key:"tw",get:function(){return this.JZ.currentTime+this.jZ.xZ._m}},{key:"sw",get:function(){return this.JZ.paused}},{key:"cw",get:function(){return this.JZ.volume},set:function(t){this.JZ.volume=t}},{key:"uw",get:function(){return this.JZ.playbackRate},set:function(t){this.JZ.playbackRate=t}},{key:"_J",get:function(){return this.JZ.defaultPlaybackRate}},{key:"tg",get:function(){var t,n;return null!=(t=null==(n=this.RE)?void 0:n.tg)?t:iA.zI()}},{key:"KZ",get:function(){return zx.FI(this.JZ.buffered)}},{key:"fg",get:function(){var t=iA.HI(this.wJ);return this.oq.bI(t.bh(this.jZ.xZ._m))}},{key:"wJ",get:function(){return zx.FI(this.JZ.played)}},{key:"ow",get:function(){return this.JI}},{key:"nw",get:function(){return this.JZ.duration}},{key:"rw",get:function(){return this.JZ.muted},set:function(t){this.JZ.muted=t}},{key:"CQ",get:function(){return this.JZ.style}},{key:"IG",get:function(){return nr({},sE,{HL:!0,VL:300})}},{key:"g_",get:function(){return this.WW.g_}},{key:"hw",get:function(){return this.JZ.videoHeight}},{key:"aw",get:function(){return this.JZ.videoWidth}},{key:"iw",get:function(){return this.JZ.ended}},{key:"zk",get:function(){return 0}},{key:"ku",get:function(){return 0}},{key:"eg",get:function(){return!1}},{key:"SG",get:function(){return this.gq}},{key:"ng",get:function(){}},{key:"$B",get:function(){}},{key:"hh",get:function(){}},{key:"fR",get:function(){return this.gZ}},{key:"dg",get:function(){return this.RE?this.RE.dg:iA.zI()}},{key:"kR",get:function(){}},{key:"Cw",get:function(){}},{key:"tL",get:function(){}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"RG",get:function(){return"block"===this.JZ.style.display}},{key:"KE",get:function(){return this.PE},set:function(t){this.PE=t}},{key:"HW",get:function(){}}]),n}(Is),qx=2,Gx=[D_.Hv,D_.Vv];function jx(t){var n=r.createElement(t);return xe(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),Qx(n),n}function Qx(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Pe(t),t.pause(),t.playbackRate=1,t.preload=Qk.WR,t.controls=!1,t.style.display="none",xe(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function Yx(t,n){if(n.su){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();st(e)&&ks(e),t.pause()}}var Zx;ge=(Zx={gJ:function(){function t(t,n,i,e,r){void 0===i&&(i=qx),void 0===e&&(e=Gx),void 0===r&&(r=jo()),this.yJ=void 0,this.mJ=void 0,this.po=void 0,this.pJ=void 0,this.VW=void 0,this.nN=void 0,this.kJ=void 0,this.yJ=i,this.mJ=[].concat(e),this.po=r,this.VW=t,this.nN=n,this.pJ=er(),this.AJ()}var n=t.prototype;return n.rN=function(t){for(var n=0,i=this.uN;n<i.length;n++){i[n].EG(t)}},n.JE=function(t){var n=$r(this.pJ.get(t),function(t){return t.bJ});if(n)return n.bJ=!1,n.TJ},n.SJ=function(t){if(!this.kJ)throw new f("Error creating iOS Safari MediaController");return this.kJ},n._R=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.$E,e=i.tagName.toLowerCase(),t.next=4,n.Wl();case 4:Qx(i),(r=$r(this.pJ.get(e)||[],function(t){return n===t.TJ}))&&(r.bJ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sN=function(){for(var t=0,n=this.uN;t<n.length;t++){n[t].TG()}},n.Zv=function(){for(var t=0,n=this.uN;t<n.length;t++){var i=n[t],e=i.$E;i.Po(),Qx(e),Ee(e)}},n.AJ=function(){for(var t=0,n=this.mJ;t<n.length;t++){var i=n[t],e=[];this.pJ.set(i,e);for(var r=0;r<this.yJ;r++){var s=jx(i),u=i===D_.Hv?new vC(s,this.po,this.VW):new Ox(s,this.po,this.VW,this.nN);e.push({TJ:u,bJ:!0})}}if(Y.Vr&&Y.Ar){var o=jx(D_.Vv);this.kJ=new Wx(o)}},L(t,[{key:"uN",get:function(){for(var t=[],n=0,i=this.mJ;n<i.length;n++){var e=i[n],r=this.pJ.get(e).map(function(t){return t.TJ});t.push.apply(t,r)}return this.kJ&&t.push(this.kJ),t}}]),t}(),EJ:function(){function t(n){var i=this;this.RJ=new XS,this.IJ=T.coroutine(tr.mark(function n(){var e,r,s;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.KI.JE(D_.Vv),r=e.$E,n.next=4,t.NJ(r);case 4:return s=n.sent,n.next=7,i.KI._R(e);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.KI=n}var n=t.prototype;return n.OL=function(){return this.RJ.gL(this.IJ)},n.Vw=function(){this.KI.sN()},t.NJ=function(){var n=T.coroutine(tr.mark(function n(i){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Y.Or&&!Y.xr){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.DJ();case 5:return n.next=7,t.CJ(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.xJ(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.CJ=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,st(i)){t.next=4;break}return t.abrupt("return",!Y.Er);case 4:return e=Ts(100),t.next=7,T.race([i,e]);case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",!1);case 13:return t.prev=13,n.pause(),t.finish(13);case 16:case"end":return t.stop()}},t,null,[[1,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),t.xJ=function(){var n=T.coroutine(tr.mark(function n(i){var e;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.CJ(i);case 3:return e=n.sent,i.muted=!1,n.abrupt("return",e);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.DJ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Zv=function(){this.RJ.Zv()},t}(),PJ:{MC:function(t){pe.addEventListener("beforeunload",t)},QC:function(t){pe.removeEventListener("beforeunload",t)}},OJ:e}).gJ,ye=Zx.EJ,me=Zx.PJ,pe=Zx.OJ,ke=pe&&pe.location,Ae=pe&&pe.navigator;var Jx=[];function $x(){Jx.shift()()}function Kx(t){Jx.push(t),o($x,0)}var tP=function(){function t(t){this.BJ=void 0,this.LJ=void 0,this.MJ=void 0,this.MJ=t}var n=t.prototype;return n.UJ=function(t){return this.BJ=this.BJ||{},void 0===this.BJ[t]&&(this.BJ[t]=[]),this.BJ[t]},n.addEventListener=function(t,n){var i=this.UJ(t);-1===i.indexOf(n)&&i.push(n)},n.Zo=function(t){(this.LJ||(this.LJ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.UJ(t);n?ts(i,n):i.length=0},n.nh=function(t){var n=this.LJ;n&&ts(n,t)},n.Jo=function(){this.BJ=void 0},n.dispatchEvent=function(t,n){if(n)return Kx(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.UJ(t.type).slice(),e=this.LJ&&this.LJ.slice(),r=0;r<i.length;r++){i[r].call(this.MJ||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.MJ||this,t)}},n.FJ=function(t){return Boolean(this.BJ&&this.BJ[t]&&this.BJ[t].length)},n.HJ=function(){return this.BJ?d.keys(this.BJ):[]},t}(),nP=function(){function t(){this.VJ=[]}var n=t.prototype;return n.XZ=function(t,n){var i=this.VJ[t];return i?new i(n):null},n.UL=function(t,n){this.VJ[t]=n},t}();nP.es=new nP;var iP,eP=function(t){function n(n,i){var e,r=sP[n];return(e=t.call(this,r?r.sh:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.zJ,e.helpLinkText=r&&r.XJ,e}return U(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(on);!function(t){t.WJ="LICENSE_INVALID",t.qJ="MANIFEST_NOT_FOUND",t.GJ="MANIFEST_CORS_ERROR",t.jJ="INVALID_HLS_MANIFEST",t.QJ="PLAYBACK_ISSUE",t.YJ="AUDIO_ISSUE",t.ZJ="BROWSER_SUPPORT_ISSUE",t.JJ="INVALID_KEY",t.$J="DECRYPTION_ERROR",t.KJ="AD_BLOCK_DETECTED",t.t$="THEOPLAYER_NOT_INITIALIZED",t.v_="ERROR",t.n$="MANIFEST_SEQUENCE_RESET_ERROR",t.i$="PLAYER_INCORRECTLY_CONFIGURED",t.e$="UNSUPPORTED"}(iP||(iP={}));for(var rP=[{Ph:iP.WJ,sh:"The license for this player is invalid. Please contact your service provider for additional information."},{Ph:iP.qJ,sh:"Could not load the manifest file."},{Ph:iP.GJ,sh:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",zJ:"https://www.theoplayer.com/documentation/cors.html",r$:!1},{Ph:iP.jJ,sh:"The source of the player is an invalid HLS manifest.",zJ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ph:iP.QJ,sh:"There appears to be a playback issue."},{Ph:iP.YJ,sh:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ph:iP.ZJ,sh:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ph:iP.JJ,sh:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ph:iP.$J,sh:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ph:iP.KJ,sh:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ph:iP.t$,sh:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ph:iP.v_,sh:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ph:iP.n$,sh:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ph:iP.i$,sh:"The player is incorrectly configured.",zJ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ph:iP.e$,sh:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],sP={},uP=0;uP<rP.length;uP++){var oP=rP[uP];sP[oP.Ph]=oP}function hP(t){return t.s$}var aP=function(){function t(){this.Qc=[],this.u$={},this.o$=0}var n=t.prototype;return n.h$=function(t){var n=this.u$[t];return void 0===n?-1:n-this.o$},n.a$=function(t){return this.Qc[t]},n.c$=function(t){return this.a$(this.h$(t))},n.f$=function(t){return!!this.a$(t)},n.v$=function(t){return!!this.c$(t)},n.d$=function(){return this.Qc},n.wg=function(t){var n,i=this.Qc,e=i.length?i[i.length-1]:null;if(this.h$(t.s$)>=0)return!1;if(e&&t.s$>e.s$)n=i.length;else{var r=lN(this.Qc,t.s$,hP,Qr);if(r>=0)return!1;n=-(r+1)}return this.l$(t,n),!0},n.Qh=function(t){var n=this.Qc,i=this.u$,e=this.h$(t.s$);return!(e<0)&&(n.splice(e,0,t),delete i[t.s$],this._$(e),!0)},n.w$=function(t){var n=this.Qc,i=this.u$;t=l.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].s$];n.splice(0,t),this.o$+=t},n.l$=function(t,n){var i=this.Qc;n>=i.length?i.push(t):i.splice(n,0,t),this._$(n)},n._$=function(t){for(var n=this.Qc,i=this.u$,e=this.o$,r=n.length,s=t;s<r;s++)i[n[s].s$]=s+e},L(t,[{key:"Gl",get:function(){return this.Qc.length}}]),t}(),cP=function(){function t(t,n,i){this.g$=void 0,this.y$=void 0,this.m$=void 0,this.g$=t,this.y$=n,this.m$=i}var n=t.prototype;return n.compute=function(){return this.g$.live?this.g$.p$?this.g$.k$:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.m$&&(t+=this.A$()),this.b$()&&(t+=this.T$(t)),t},n.b$=function(){return void 0!==this.y$.S$.c$(this.g$.fragments[0].s$)},n.T$=function(t){var n=this.g$.fragments[0];return this.y$.S$.c$(n.s$).E$-(n.E$+t)||0},n.A$=function(){var t=fP(this.g$),n=fP(this.m$.R$),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.m$)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=l.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.R$.fragments.length?this.m$.I$(t.R$.fragments[0].s$).E$:0},t}();function fP(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.N$&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var vP=function(t){function n(n){return t.call(this,Y_.Ol,n)||this}return U(n,t),n.prototype.wl=function(){return new dP(this.Og._l)},n}(nw),dP=function(t){function n(n){return t.call(this,Z_.Ol,n)||this}return U(n,t),n}(iw),lP=function(t){function n(n,i){var e,r=_P(i,n.nw,n.kR,n.D$);return(e=t.call(this,i,r,void 0,!1,n.i_)||this).C$=void 0,e.x$=void 0,e.P$=void 0,e.lU=void 0,e.O$=void 0,e.B$=void 0,e.L$=void 0,e.M$=void 0,e.U$=void 0,e.F$=void 0,e.C$=n.H$,e.x$=n.kR,e.P$=n.D$,e.lU=n.nw,e.O$=n.V$,e.B$=Boolean(n.z$),e.L$=n.X$||{},e.M$=n.W$,e.U$=n.q$,e.F$=n.G$,e.j$(),e.Q$(),e}U(n,t);var i=n.prototype;return i.Yh=function(t){var n=!1;void 0===this.C$&&void 0!==t.H$&&(n=!0,this.C$=t.H$),void 0===this.P$&&void 0!==t.D$&&(n=!0,this.P$=t.D$),void 0===this.lU&&void 0!==t.nw&&(n=!0,this.lU=t.nw),void 0===this.O$&&void 0!==t.V$&&(n=!0,this.O$=t.V$),!this.B$&&t.z$&&(n=!0,this.B$=t.z$),n=this.updateCustomAttributes(t,n),void 0===this.M$&&void 0!==t.W$&&(n=!0,this.M$=t.W$),void 0===this.U$&&void 0!==t.q$&&(n=!0,this.U$=t.q$),void 0===this.F$&&void 0!==t.G$&&(n=!0,this.F$=t.G$),this.j$(),this.Q$(),this.Y$(),n&&this.jo(new vP(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.X$)for(var e=0,r=d.keys(t.X$);e<r.length;e++){var s=r[e];void 0===this.L$[s]&&(i=!0,this.L$[s]=t.X$[s])}return i},i.j$=function(){this.lU&&!this.P$&&(this.P$=new Date(this.x$.getTime()+1e3*this.lU))},i.Q$=function(){this.P$&&!this.lU&&(this.lU=$t(this.P$.getTime()-this.x$.getTime()))},i.Y$=function(){this.jg===1/0&&(this.P$||this.lU)&&(this.jg=_P(this.Gg,this.lU,this.x$,this.P$))},L(n,[{key:"_l",get:function(){var t;return this.ll||(this.ll=Vd(ew(t=this),{get content(){return t.Mg},get class(){return t.H$},get startDate(){return t.kR},get endDate(){return t.D$},get duration(){return t.nw},get plannedDuration(){return t.V$},get endOnNext(){return t.z$},get scte35Cmd(){return t.W$},get scte35Out(){return t.q$},get scte35In(){return t.G$},get customAttributes(){return t.X$}})),this.ll}},{key:"H$",get:function(){return this.C$}},{key:"kR",get:function(){return this.x$}},{key:"D$",get:function(){return this.P$}},{key:"nw",get:function(){return this.lU}},{key:"V$",get:function(){return this.O$}},{key:"z$",get:function(){return this.B$}},{key:"W$",get:function(){return this.M$}},{key:"q$",get:function(){return this.U$}},{key:"G$",get:function(){return this.F$}},{key:"X$",get:function(){return this.L$}}]),n}(hw);function _P(t,n,i,e){return $(n)?t+n:e?t+($t(e.getTime())-$t(i.getTime())):1/0}var wP,gP,yP,mP,pP,kP=function(t){function n(){return t.call(this,void 0,void 0,q_.DATE_RANGE)||this}U(n,t);var i=n.prototype;return i.Yh=function(t,n){for(var i=this,e=function(t){for(var n=er(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.i_)){var s=n.get(r.i_),u=nr({},s,qd(r),{X$:nr({},s.X$,r.X$)});n.set(r.i_,u)}else n.set(r.i_,r),i.push(r.i_)}return i.map(function(t){return n.get(t)})}(t),r=this.y_.ql,s=function(t){var n=r[t],s=$r(e,function(t){return t.i_===n.i_});s?n.Yh(s):i.zz(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.kR;if(void 0!==a&&!this.Hz(h.i_)){var c=n(a);this.nT(new lP(h,c))}}},i.nT=function(n){this.Z$(n),t.prototype.nT.call(this,n)},i.Z$=function(t){var n=this.Nz.filter(function(n){return n.H$===t.H$}).pop();n&&n.z$&&n.Yh({i_:n.i_,D$:t.kR})},n}(OD);function AP(t){return bP(t)?{Ev:t.J$,K$:[t.K$.rI,t.K$.uI],jv:!0}:{Ev:t.toString(),jv:!0}}function bP(t){return void 0!==t.K$}function TP(t){return t&&t.tK&&Bw(t.tK)||!1}function SP(t){if(!t)return Iw.By;if(!TP(t))return Iw.mm(t.duration);var n=t.nK||Iw.By,i=t.iK||Iw.By,e=Iw.mm(t.duration);return n.Hy()||i.Hy()?n.Hy()?i.Hy()?e.Hy()?Iw.By:e:i:n:Iw.vm(n,i)}function EP(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.eT)return i}return null}function RP(t){return EP(t)||function(t){return t.filter(function(t){return t.eK})}(t)[0]||t[0]}function IP(t,n){for(var i=0;i<n.length;i++){var e=n[i];is(t,e)||t.push(e)}return t}function NP(t){switch(t){case mP.Vv:case mP.rK:return D_.Vv;case mP.Hv:return D_.Hv}}function DP(t){switch(t){case mP.Vv:case mP.rK:return Pf.Vv;case mP.Hv:return Pf.Hv;default:return Pf.Iv}}!function(t){t.sK="alternative",t.uK="main",t.oK="commentary",t.hK="",t.Wb="descriptions",t.aK="main-desc",t.cK="translation"}(wP||(wP={})),function(t){t.sK="alternative",t.uK="main",t.oK="commentary",t.hK="",t.Xb="captions",t.fK="sign",t.xp="subtitles"}(gP||(gP={})),function(t){t.Vv="video",t.Hv="audio",t.vK="closedCaption",t.dK="variant"}(yP||(yP={})),function(t){t[t.Iv=-1]="Iv",t[t.Hv=0]="Hv",t[t.Vv=1]="Vv",t[t.rK=2]="rK"}(mP||(mP={})),function(t){t[t.Iv=-1]="Iv",t[t.lK=1]="lK",t[t._K=2]="_K",t[t.wK=3]="wK",t[t.gK=4]="gK"}(pP||(pP={})),function(t){t.vw=function(t){return t>=pP._K},t.yK=function(t){return t===pP._K||t===pP.wK}}(pP||(pP={}));var CP=function(t){function n(){var n;return(n=t.call(this)||this).mK=[],n.pK=function(){return n.dispatchEvent("kK")},n.AK=function(){return n.dispatchEvent("bK")},n}U(n,t);var i=n.prototype;return i.wg=function(t){this.mK.push(t),t.addEventListener("bK",this.AK),t.addEventListener("TK",this.pK),this.dispatchEvent("SK"),t.disabled||this.dispatchEvent("kK")},i.Qh=function(t){var n=this.mK.indexOf(t);n<0||(ns(this.mK,n),t.removeEventListener("bK",this.AK),t.removeEventListener("TK",this.pK),this.dispatchEvent("SK"),t.disabled||this.dispatchEvent("kK"))},i.ph=function(){for(var t=!!this.EK.length,n=!!this.RK.length,i=0,e=this.mK;i<e.length;i++){e[i].removeEventListener("TK",this.pK)}this.mK.length=0,t&&this.dispatchEvent("SK"),n&&this.dispatchEvent("kK")},i.Zv=function(){this.Jo(),this.ph()},L(n,[{key:"EK",get:function(){return this.mK}},{key:"RK",get:function(){return this.mK.filter(function(t){return!t.disabled})}}]),n}(tP);function xP(t){if(!t)return null;for(var n={IK:"",NK:"",DK:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.IK="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.IK="mp4a.40.2":"mp4a.40.29"===s?n.IK="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.IK=s:"ec-3"===s?n.IK=s:0===s.indexOf("avc")?n.NK=r:n.DK+=","+s}return n}var PP=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).CK=void 0,h.WS=void 0,h.mg=void 0,h.xK=new aP,h.PK=NaN,h.BK=void 0,h.LK=void 0,h._U=void 0,h.MK=void 0,h.UK=void 0,h.FK=!0,h.HK=!0,h.VK=!0,h.zK=!1,h.XK=null,h.WK=!1,h.CK=n,h.WS=i,h.mg=e||0===e?e:-1,h.LK=r,h.MK=Boolean(s),h.UK=Boolean(u),h._U=o,h}U(n,t);var i=n.prototype;return i.qK=function(t,n){var i=zb(),e=new cP(t,this,n).compute(),r=this.GK(t.fragments),s=r.oldFragments,u=r.newFragments;this.jK(s,i),this.QK(u,i,e),this.BK!==t&&this.YK(!0),this.BK=t,this.dispatchEvent({type:"ZK",JK:this}),this.dispatchEvent("renditionUpdated")},i.I$=function(t){return this.xK.c$(t)},i.$K=function(){var t=this.FK;this.FK=this.HK&&this.VK,t!==this.FK&&this.dispatchEvent("bK")},i.YK=function(t){this.HK=t,this.$K()},i.KK=function(t){this.VK=t,this.$K()},i.n0=function(t){this.WS=t,this.dispatchEvent("renditionUpdated")},i.i0=function(){null!==this.XK&&h(this.XK),this.dispatchEvent("TK"),this.dispatchEvent("renditionUpdated")},i.e0=function(t){this.WK=t,this.i0()},i.r0=function(){this.s0(3e4)},i.s0=function(t){var n=this;this.zK=!0,this.i0(),this.XK=o(function(){n.zK=!1,n.i0()},t)},i.GK=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.xK.v$(s.s$)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.jK=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.xK.c$(e.s$);r.u0=IP(r.u0,e.u0),r.o0=e.o0||r.o0,r.h0=n}},i.QK=function(t,n,i){var e=this.a0(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Ik=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.E$+=n}}(e,i),this.c0(e)},i.a0=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.JK=this;var r=nr({},e);n.push(r)}return n},i.c0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.xK.wg(i),g(this.PK)&&(this.PK=i.s$)}},i.Zv=function(){this.Jo(),null!==this.XK&&h(this.XK)},L(n,[{key:"disabled",get:function(){return this.zK||this.WK},set:function(t){this.zK=t,this.i0()}},{key:"i_",get:function(){return this.mg}},{key:"cg",get:function(){return this.FK}},{key:"uri",get:function(){return this.LK||this.BK&&this.BK.uri},set:function(t){this.LK=t,this.dispatchEvent("renditionUpdated")}},{key:"R$",get:function(){return this.BK}},{key:"S$",get:function(){return this.xK}},{key:"f0",get:function(){return this.BK?this.BK.live?this.BK.duration<-60?pP.wK:pP.gK:pP.lK:pP.Iv}},{key:"gs",get:function(){return this.WS},set:function(t){this.n0(t)}},{key:"u_",get:function(){return this._U}},{key:"eT",get:function(){return this.MK}},{key:"eK",get:function(){return this.UK||this.MK}},{key:"v0",get:function(){return this.PK}},{key:"d0",get:function(){return!!this.R$}},{key:"uv",get:function(){return this.CK}}]),n}(tP),OP=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,w){var g;return void 0===_&&(_=wP.uK),(g=t.call(this,n,i,e,s,u,o,d)||this).l0=void 0,g._0=void 0,g.w0=void 0,g.g0=void 0,g.y0=void 0,g.m0=void 0,g.p0=void 0,g.k0=void 0,g.A0=void 0,g.xz=void 0,g.b0=void 0,g.T0=void 0,g.S0=void 0,g.E0=void 0,g.R0=void 0,g.I0=void 0,g.N0=null,g.D0=void 0,g.l0=Boolean(l),g.y0=r,g._0=xP(h),g.w0=w,g.p0=a,g.k0=c,g.m0=f,g.g0=v,g.xz=_,g}U(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.s$,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.C0[0]?t.C0[0].r_:wP.uK)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Nr(t.characteristics,"public.accessibility.describes-video")?wP.aK:wP.uK;if(t.characteristics&&Nr(t.characteristics,"public.accessibility.describes-video"))return wP.Wb;return wP.sK}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.x0=function(t){this._0="string"==typeof t?xP(t):t,this.dispatchEvent("renditionUpdated")},i.P0=function(t,n){return t?!n&&t.IK&&t.NK?mP.rK:t.NK?mP.Vv:t.IK?mP.Hv:mP.Iv:mP.Iv},L(n,[{key:"O0",set:function(t){this.l0=t}},{key:"B0",get:function(){return this._0}},{key:"bandwidth",get:function(){return this.g0},set:function(t){this.g0=t,this.dispatchEvent("renditionUpdated")}},{key:"r_",get:function(){return this.xz}},{key:"resolution",get:function(){return this.m0},set:function(t){this.m0=t,this.dispatchEvent("renditionUpdated")}},{key:"L0",get:function(){return void 0!==this.w0?this.w0:this.P0(this._0,this.l0)}},{key:"s$",get:function(){return this.p0}},{key:"IK",get:function(){return this.k0}},{key:"M0",get:function(){return this.y0}},{key:"U0",get:function(){return this.A0},set:function(t){var n=this.A0;this.A0=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(PP);var BP=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).Vs=void 0,c.F0=null,c.H0=void 0,c.V0=function(){return c.z0()},c.Vs=h,c.H0=new NN(a,String(e),c.gs,c.u_,void 0,q_.WEBVTT),c.eT&&(c.H0.l_=rl.f_),c}U(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Nr(t.characteristics,"public.accessibility.describes-music-and-sound"))return sy.Xb;return sy.xp}(i))};var i=n.prototype;return i.qK=function(n){t.prototype.qK.call(this,n),this.z0()},i.Zv=function(){t.prototype.Zv.call(this),this.Nb=null},i.n0=function(n){t.prototype.n0.call(this,n),this.H0.s_=n},i.z0=function(){this.F0&&this.F0.X0(this,this.S$)},L(n,[{key:"W0",get:function(){return this.H0}},{key:"Nb",get:function(){return this.F0},set:function(t){this.F0&&this.F0.removeEventListener("q0",this.V0),this.F0=t,this.z0(),this.F0&&this.F0.addEventListener("q0",this.V0)}},{key:"J$",get:function(){return this.uri}},{key:"do",get:function(){return this.Vs}}]),n}(PP),LP=function(t){function n(n,i){var e;(e=t.call(this)||this).Na=void 0,e.G0=void 0,e.j0=["renditionUpdated","ZK","Q0"],e.Y0=null,e.Z0=null,e.J0=null,e.$0=null,e.K0=new CP,e.n1=new CP,e.i1=new CP,e.Sw={},e.e1=void 0,e.s1=void 0,e.u1=null,e.lU=NaN,e.o1=void 0,e.h1=void 0,e.Go=function(t){return e.dispatchEvent(t)},e.Na=n,e.G0=i;var r=sn(e);return e.o1=function(){r.hz(this)},e.h1=function(t){r.a1(this,t)},e}U(n,t);var i=n.prototype;return i.c1=function(t,n){var i=new BD(n);return i.l_=rl.c_,this.Sw[i.i_]=i,this.dispatchEvent({type:"f1",gl:i}),i},i.v1=function(t,n,i){var e=new OD(i,"manifest");return e.l_=rl.c_,this.Sw[e.i_]=e,this.dispatchEvent({type:"f1",gl:e}),e},i.d1=function(t,n){if(t){var i=t.y_,e=t.l1,r=t&&this.Sw[e];r||(r=new BD(t.d_),this.Sw[e]=r,r.l_=rl.c_,this.dispatchEvent({type:"f1",gl:r}));for(var s=0;s<i.length;s++){var u=i[s];r.nT(u)}}},i._1=function(t){t&&(this.e1||(this.e1=new NN(sy.Xb,void 0,"CC1","en",!0,q_.CEA608),this.Sw.CC1=this.e1,this.dispatchEvent({type:"f1",gl:this.e1})),this.e1.nT(t))},i.w1=function(t,n,i){var e=this.Sw[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.y_.ql;r<s.length;r++){var u=s[r];if(u.Bg>=i)break;n<u.Lg&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.zz(u)}}},i.g1=function(t,n){return this.m1(t,n)},i.A1=function(t){var n;return(n=this.b1(t,this.K0))?n:(n=this.b1(t,this.n1))?n:n=this.b1(t,this.i1)},i.Zv=function(){this.th(this.K0),this.K0.Zv(),this.th(this.n1),this.n1.Zv(),this.th(this.i1),this.i1.Zv(),this.Sw={},this.e1=void 0,this.s1&&(this.s1.Zv(),this.s1=void 0),this.u1=null,this.lU=NaN,this.Y0=null,this.Z0=null,this.J0=null,this.$0=null,this.dispatchEvent("Zv")},i.T1=function(t){var n=OP.createFromUri(this,t.uri);this.th(this.n1),this.n1.wg(n),n.addEventListener("renditionUpdated",this.o1)},i.hz=function(t){var n=t.R$,i=t.f0;if(g(this.lU)||pP.vw(i)){if(pP.Iv===i)return;if(!n)return;this.lU=n.duration,this.dispatchEvent("S1")}g(this.lU)||pP.lK!==i||t.removeEventListener("renditionUpdated",this.o1)},i.E1=function(t){var n=this;this.th(this.K0),this.K0.ph(),this.th(this.n1),this.n1.ph(),this.i1.ph(),this.u1=t;for(var i=t.streams.map(function(t){return OP.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.IK&&!Nr(t.IK,"mp4a")&&!Nr(t.IK,"mp3"))return!1;if(t.NK&&!Nr(t.NK,"avc1"))return!1;return!0}(t.B0)}),e=i.some(function(t){return t.B0&&t.B0.IK}),r=i.some(function(t){return t.B0&&t.B0.NK}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.B0&&u.B0.IK),h=Boolean(u.B0&&u.B0.NK);e&&!o||r&&!h||(this.n1.wg(u),u.addEventListener("renditionUpdated",this.o1))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.G0){var r=BP.createFromPlaylistMedia(n,e);n.i1.wg(r),n.dispatchEvent({type:"f1",gl:r.W0})}break;case"closed-captions":break;case"audio":var s=n.n1.EK.filter(function(t){return t.IK===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.O0=!0});var u=e.uri?mP.Hv:mP.rK,o=OP.createFromPlaylistMedia(n,e,!1,u);n.K0.wg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.R1=RP(this.C0.RK)||null,this.dispatchEvent("I1")},i.b1=function(t,n){for(var i=0,e=n.EK;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.a1=function(t,n){this.dispatchEvent(nr({},n,{JK:t}))},i.N1=function(t){for(var n=0,i=t.EK;n<i.length;n++)for(var e=i[n],r=0,s=this.j0;r<s.length;r++){var u=s[r];e.addEventListener(u,this.h1)}},i.th=function(t){for(var n=0,i=t.EK;n<i.length;n++){i[n].Zv()}},i.D1=function(t,n){0!==t.length&&this.Na.hlsDateRange&&(this.s1||(this.s1=new kP,this.dispatchEvent({type:"f1",gl:this.s1})),this.s1.Yh(t,n))},i.C1=function(t,n){if(this.Z0!==t){var i=this.Z0;this.Z0=t,this.dispatchEvent({type:"P1",L0:"IK",JK:this.Z0,O1:i,B1:n})}},i.m1=function(t,n){if(this.J0!==t){var i=this.J0;this.J0=t,t&&this.dispatchEvent({type:"P1",L0:"NK",JK:this.J0,O1:i,B1:n})}},i.L1=function(t){for(var n=0,i=t.EK;n<i.length;n++){var e=i[n];if(e.f0!==pP.Iv)return e.f0}return null},L(n,[{key:"ww",get:function(){return this.Y0},set:function(t){t&&(0===t.streams.length?this.T1(t):this.E1(t),this.Y0=t,this.N1(this.n1),this.N1(this.K0),this.dispatchEvent("M1"))}},{key:"U1",get:function(){return this.u1}},{key:"nw",get:function(){return this.lU}},{key:"Cw",get:function(){var t=this,n=this.i1.EK.map(function(t){return t.W0}),i=d.keys(this.Sw).map(function(n){return t.Sw[n]});return this.e1&&i.push(this.e1),this.s1&&i.push(this.s1),n.concat(i)}},{key:"R1",get:function(){return this.Z0},set:function(t){this.C1(t,!0)}},{key:"F1",get:function(){return this.J0},set:function(t){this.m1(t,!1)}},{key:"C0",get:function(){return this.K0}},{key:"H1",get:function(){return this.n1}},{key:"V1",get:function(){return this.i1.EK}},{key:"f0",get:function(){var t;return null!==(t=this.Z0&&this.Z0.f0)&&t!==pP.Iv?t:null!==(t=this.J0&&this.J0.f0)&&t!==pP.Iv?t:null!==(t=this.L1(this.K0))?t:null!==(t=this.L1(this.n1))?t:pP.Iv}}]),n}(tP);var MP=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).Ek=[],r.z1={},r.X1=void 0,r.W1=void 0,r.q1=void 0,r._l=void 0,r.Go=function(t){return r.dispatchEvent(t)},r.G1=function(t){r.j1(t)},r.Q1=function(t){r.handleRenditionUpdated(t)},r.Y1=function(t){for(var n=0,i=r.Ek;n<i.length;n++){i[n].Z1.Y1(t)}},r.X1=n,r.W1=i,r.q1=e,r.W1&&r.W1.addEventListener("P1",r.G1),r.q1&&(r.q1.addEventListener("renditionUpdated",r.Q1),r.q1.addEventListener("J1",r.Y1)),r._l=(s=sn(r),u=new tP,o={get length(){return s.Ek.length},enable:function(t){s.Hb(s.K1(t&&t.id)||t)},disable:function(t){s.Vb(s.K1(t&&t.id)||t)},item:function(t){return s.Ek[t]&&s.Ek[t]._l},getTrackByID:function(t){var n=s.K1(t);return n&&n._l},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}U(n,t);var i=n.prototype;return i.K1=function(t){return this.z1[t]},i.Vl=function(t){for(var n=0,i=t.Z1.o_;n<i.length;n++){var e=i[n];e.i_===this.n2()&&(e.ny=!0)}t.addEventListener("enabledtrack",this.Go),t.addEventListener("disabledtrack",this.Go),this.Ek.push(t),this.z1[t.i_]=t,this.dispatchEvent({type:"addtrack",track:t._l})},i.Hb=function(t){if(t){var n=this.z1[t.i_];if(n&&!n.n_){for(var i=this.Ek.length-1;i>=0;i--)this.Ek[i].Xw();n.zw()}}},i.Vb=function(t){},L(n,[{key:"i2",get:function(){return this.n2()}}]),n}(tP);var UP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).e2=void 0,r.e2=NaN,r}U(n,t);var i=n.prototype;return i.n2=function(){return this.e2},i.j1=function(t){t.s2?this.u2(t.o2):t.h2&&this.u2(t.h2)},i.u2=function(t){t&&(this.e2=t.i_),this.Ek.forEach(function(n){return n.a2(t)})},i.handleRenditionUpdated=function(t){if(t.JK&&t.JK.L0===mP.Hv)for(var n=0,i=this.Ek;n<i.length;n++){i[n].c2(t)}},i.Hb=function(n){var i=n;if(!i){var e=this.Ek.filter(function(t){return t.eT});e.length>0&&(i=e[0])}t.prototype.Hb.call(this,i)},L(n,[{key:"do",get:function(){return"audio"}}]),n}(MP),FP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).f2=void 0,r.f2=NaN,r}U(n,t);var i=n.prototype;return i.n2=function(){return this.f2},i.j1=function(t){(t.v2||t.o2)&&(t.o2&&(this.f2=t.o2.i_),this.Ek.forEach(function(n){return n.a2(t.o2)}))},i.handleRenditionUpdated=function(t){if(t.JK&&(t.JK.L0===mP.Vv||t.JK.L0===mP.rK))for(var n=0,i=this.Ek;n<i.length;n++){i[n].c2(t)}},L(n,[{key:"do",get:function(){return"video"}}]),n}(MP);function HP(t,n){for(var i,e=n-(i=t?tt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function VP(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var zP=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).JK=void 0,i.ny=!1,i.d2=!0,i._l=void 0,i.JK=n,i.ny=!1,i._l=(e=sn(i),r=new tP,s={get bandwidth(){return e.JK&&e.JK.bandwidth},get averageBandwidth(){return e.JK&&e.JK.averageBandwidth},get codecs(){return e.B0},get resolution(){return e.l2},get frameRate(){return VP(e._2,2)},get id(){return e.i_},get uri(){return e.JK&&e.JK.uri},get name(){return e.gs},set name(t){e.gs=t},get enabled(){return e.n_},set enabled(t){e.n_=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}U(n,t);var i=n.prototype;return i.w2=function(t){var n=!!t&&this.i_===t.i_;this.ny!==n&&(this.ny=n,this.dispatchEvent({type:"activequalitychanged",quality:this._l}))},i.c2=function(t){return this.JK.i_===t.JK.i_&&(this.JK=t.JK,this.dispatchEvent({type:"qualityupdated",quality:this._l}),!0)},L(n,[{key:"n_",get:function(){return this.d2},set:function(t){this.d2=t,this.JK.e0(!t)}},{key:"r_",get:function(){return this.JK.r_}},{key:"l2",get:function(){return this.JK.resolution?{width:this.JK.resolution.width,height:this.JK.resolution.height}:{width:NaN,height:NaN}}},{key:"gs",get:function(){return this.JK.gs},set:function(t){this.JK.gs=t,this.dispatchEvent({type:"qualityupdated",quality:this._l})}},{key:"i_",get:function(){return this.JK.i_}}]),n}(tP);var XP=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"B0",get:function(){return this.JK.B0&&this.JK.B0.NK||""}},{key:"_2",get:function(){return VP(Number(this.JK.U0),2)}}]),n}(zP),WP=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"B0",get:function(){return this.JK.B0&&this.JK.B0.IK||""}},{key:"_2",get:function(){return VP(Number(this.JK.D0),2)}}]),n}(zP),qP=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).o_=void 0,e.g2=null,e.m2={},e.q1=void 0,e._l=void 0,e.Go=function(t){return e.dispatchEvent(t)},e.o_=n,e.q1=i;for(var h=e.o_.length-1;h>=0;h--){var a=e.o_[h];e.m2[a.i_]=a}return e.o_.forEach(function(t){return t.addEventListener("activequalitychanged",e.Go)}),e._l=(r=sn(e),s=new tP,u={item:function(t){var n=r.Hl(t);return n&&n._l},getQualitiesByIDs:function(t){return r.A2(t).map(function(t){return t._l})},get length(){return r.o_.length},get activeQuality(){return r.t_&&r.t_._l},get targetQuality(){return r.h_?1===r.h_.length?r.h_[0]._l:r.h_.map(function(t){return t._l}):null},set targetQuality(t){if(t){var n=K(t)?t:[t];r.h_=r.A2(n.map(function(t){return t.id}))}else r.h_=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}U(n,t);var i=n.prototype;return i.b2=function(t){return!!t&&this.o_.some(function(n){return n.i_===t.i_})},i.T2=function(t,n){for(var i=0,e=this.o_;i<e.length;i++){e[i].w2(t)}},i.A2=function(t){var n=this;return t&&t.map(function(t){return n.m2[t]}).filter(function(t){return t})},i.S2=function(){for(var t=this.o_.length-1;t>=0;t--)this.o_[t].ny=!1},i.Y1=function(t){var n=this.q1.E2,i=this.A2(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0]._l}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Hl=function(t){return this.o_[t]},L(n,[{key:"t_",get:function(){for(var t=0,n=this.o_;t<n.length;t++){var i=n[t];if(i.ny)return i}return null}},{key:"h_",get:function(){return this.g2},set:function(t){this.g2=this.R2(t)}}]),n}(tP);var GP=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.zw=function(){this.q1&&(this.q1.e2=this.o_[0].i_)},i.Xw=function(t){this.q1&&(this.q1.e2=null)},i.R2=function(t){},n}(qP),jP=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.zw=function(){if(this.R2(this.h_),this.q1){var t=this.q1.X1;if(!t)return;var n=$r(t.I2.C0.EK,function(t){return!t.uri});this.q1.e2=n?n.i_:null}},i.T2=function(n,i){"video"===i&&t.prototype.T2.call(this,n,i)},i.Xw=function(t){"video"===t&&this.S2()},i.R2=function(t){if(!this.q1)return this.h_;var n=t?this.A2(t.map(function(t){return t.i_})):null;if(n&&n.length>0){var i=n.map(function(t){return t.i_});return this.q1.E2=i,n}return t?this.h_:(this.q1.E2=null,null)},n}(qP),QP=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).do=void 0,e.Z1=void 0,e.i_=void 0,e.Ag=void 0,e.gs=void 0,e._l=void 0,e.do=n,e.Z1=i,e.i_=i.Hl(0).i_,e.Ag=e.Z1.o_.some(function(t){return t.ny}),e.gs=i.Hl(0).JK.gs,e._l=(r=sn(e),s=new tP,{get id(){return r.i_},get enabled(){return r.n_},get qualities(){return r.Z1&&r.Z1._l},get language(){return r.u_},get default(){return r.eT},get name(){return r.gs},set name(t){r.gs=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}U(n,t);var i=n.prototype;return i.a2=function(t){var n=this.Z1.b2(t);this.Tg(n),this.Z1.T2(t,this.do)},i.Tg=function(t){this.Ag!==t&&(t?(this.Ag=!0,this.dispatchEvent({type:"enabledtrack",track:this._l})):(this.Ag=!1,this.dispatchEvent({type:"disabledtrack",track:this._l})))},i.zw=function(){this.Ag||this.Z1.zw()},i.Xw=function(){this.Ag&&this.Z1.Xw(this.do)},i.c2=function(t){t.JK.i_===this.i_&&(this.gs=t.JK.gs);for(var n=0,i=this.Z1.o_;n<i.length;n++){i[n].c2(t)}},L(n,[{key:"n_",get:function(){return this.Ag}},{key:"u_",get:function(){return this.N2()}},{key:"r_",get:function(){return this.D2()}},{key:"eT",get:function(){var t="video"===this.do,n=this.Z1.o_&&this.Z1.o_[0].JK.eT;return t||n}}]),n}(tP);var YP=function(t){function n(n){return t.call(this,"video",n)||this}U(n,t);var i=n.prototype;return i.D2=function(){return gP.uK},i.N2=function(){return""},n}(QP),ZP=function(t){function n(n){return t.call(this,"audio",n)||this}U(n,t);var i=n.prototype;return i.D2=function(){return this.Z1.o_[0].JK.r_},i.N2=function(){return this.Z1.o_[0].JK.u_||""},n}(QP),JP=function(){function t(t,n,i){var e=this;this.C2=void 0,this.P2=void 0,this.O2=void 0,this.B2=void 0,this.L2=function(){var t=e.C2;t.removeEventListener("M2",e.L2);var n=t.I2.H1.EK,i=t.I2.C0.EK,r=n.map(function(t){return new XP(t)});if(r.length>0){var s=new jP(r,e.P2);e.B2.Vl(new YP(s));var u=$r(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new ZP(s);u&&(h.gs=u.gs),e.O2.Vl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new WP(c),v=new GP([f],e.P2);e.O2.Vl(new ZP(v))}}},this.C2=t,this.P2=i,this.O2=new UP(t,n,i),this.B2=new FP(t,n,i),t&&(t.M2?this.L2():t.addEventListener("M2",this.L2))}return L(t,[{key:"Nw",get:function(){return this.O2}},{key:"Dw",get:function(){return this.B2}}]),t}(),$P=["loadedmetadata","durationchange","hh","ed","cg","U2"],KP=["F2","P1","H2","hh"],tO=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).V2=null,h.FR=void 0,h.z2=void 0,h.X2=void 0,h.W2=void 0,h.W1=void 0,h.q2=void 0,h.X1=void 0,h.Dw=void 0,h.Nw=void 0,h.G2=[],h.j2=[],h.Q2=function(t){return h.dispatchEvent(t)},h.Y2=function(t){return h.Z2(t)},h.J2=function(t){return h.K2(t)},h.FR=n.src,h.z2=n.type,h.X2=i,h.W2=e,h.q2=r,h.X1=s,h.W1=u,h.X1&&(h.X1.addEventListener("t3",h.Q2),h.X1.addEventListener("n3",h.Q2));var a=new JP(h.X1,h.W1,o);return h.Dw=a.Dw,h.Nw=a.Nw,h.HR=null,h.FR&&(h.W1&&h.W1.Wl(),h.X1&&(h.X1.i3=h.FR)),h}U(n,t);var i=n.prototype;return i.e3=function(t){this.W1&&this.W1.jh(t),this.X1&&this.X1.r3(),this.HR&&this.s3()},i.u3=function(){this.W1&&this.W1.u3(),this.X1&&this.X1.o3()},i.h3=function(){if(this.X1)for(var t=0;t<$P.length;t++){var n=$P[t];this.X1.addEventListener(n,this.Y2)}if(this.W1)for(var i=0;i<KP.length;i++){var e=KP[i];this.W1.addEventListener(e,this.J2)}},i.a3=function(){if(this.X1)for(var t=0;t<$P.length;t++){var n=$P[t];this.X1.removeEventListener(n,this.Y2)}if(this.W1)for(var i=0;i<KP.length;i++){var e=KP[i];this.W1.removeEventListener(e,this.J2)}},i.s3=function(){if(this.X1&&this.G2.length){var t=this.G2.slice();es(this.G2);for(var n=0;n<t.length;n++){var i=t[n];this.X1.dispatchEvent(i)}}if(this.W1&&this.j2.length){var e=this.j2.slice();es(this.j2);for(var r=0;r<e.length;r++){var s=e[r];this.W1.dispatchEvent(s)}}},i.Z2=function(t){this.G2.push(t)},i.K2=function(t){this.j2.push(t)},i.Zv=function(){this.dispatchEvent("Zv"),this.Jo(),this.W1&&this.W1.Zv(),this.q2&&this.q2.Zv(),this.X1&&this.X1.Zv(),this.V2=null,es(this.G2),es(this.j2)},L(n,[{key:"HR",get:function(){return this.V2},set:function(t){this.a3(),this.V2=t,this.HR?this.dispatchEvent("ua"):this.h3()}}]),n}(tP),nO=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).C2=null,n.Go=function(t){n.dispatchEvent(t,!0)},n}return U(n,t),L(n,[{key:"e2",get:function(){var t=this.C2&&this.C2.I2.R1;return t?t.i_:null},set:function(t){var n;this.C2&&(n=null===t?RP(this.C2.I2.C0.EK):this.C2.I2.C0.EK.filter(function(n){return t===n.i_}).shift(),this.C2.I2.R1=n||null)}},{key:"E2",get:function(){return this.C2&&this.C2.c3||null},set:function(t){this.C2&&(this.C2.f3(t),this.dispatchEvent("J1"))}},{key:"X1",get:function(){return this.C2},set:function(t){this.C2&&(this.C2.I2.removeEventListener("M1",this.Go),this.C2.I2.removeEventListener("renditionUpdated",this.Go),this.C2.I2.removeEventListener("I1",this.Go)),this.C2=t,this.C2&&(this.C2.I2.addEventListener("M1",this.Go),this.C2.I2.addEventListener("renditionUpdated",this.Go),this.C2.I2.addEventListener("I1",this.Go))}}]),n}(tP),iO=function(){function t(){}var n=t.prototype;return n.v3=function(t){return T.resolve(!1)},n.d3=function(t){return T.reject(eO)},n.l3=function(t){return T.reject(eO)},n.wh=function(t){return T.resolve(!1)},n.gh=function(t){return T.resolve(void 0)},n.a$=function(t,n){return T.resolve(void 0)},n._3=function(t){return T.resolve([])},n.w3=function(){return T.resolve([])},n.g3=function(t){return T.resolve([])},n.y3=function(t,n){return T.resolve([])},n.Qh=function(t){return T.reject(eO)},n.m3=function(t){return T.reject(eO)},n.A3=function(){return T.reject(eO)},t}(),eO="Storage disabled",rO=function(){function t(){this.b3=void 0,this.T3=void 0,this.S3=void 0,this.E3=void 0,this.R3=void 0,this.b3=new iO,this.T3=new iO,this.S3=new iO,this.E3=new iO,this.R3=new iO}return t.XZ=function(){return T.resolve(new t)},t.prototype.I3=function(t){return T.reject(sO)},t}(),sO="Storage disabled",uO=function(){function t(t){var n=this;this.Uo=new $u,this.N3=void 0,this.Uo.Ch(t),this.Uo.Dh.then(function(t){n.N3=t})}var n=t.prototype;return n.v3=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.v3(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.d3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.d3(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.l3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.l3(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.wh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.wh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.gh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.a$=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.a$(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._3=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i._3(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.w3=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.w3());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.g3=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.g3(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.y3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return e=t.t0,t.abrupt("return",e.y3(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Qh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Qh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.m3=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.m3(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.A3=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.N3,t.t0){t.next=5;break}return t.next=4,this.D3;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.A3());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"D3",get:function(){return this.Uo.Dh}}]),t}(),oO=function(){function t(t){var n=this;this.Uo=new $u,this.C3=void 0,this.T3=void 0,this.b3=void 0,this.S3=void 0,this.E3=void 0,this.R3=void 0,this.Uo.Ch(t);var i=this.Uo.Dh;i.then(function(t){n.C3=t}),this.T3=new uO(i.then(function(t){return t.T3})),this.b3=new uO(i.then(function(t){return t.b3})),this.S3=new uO(i.then(function(t){return t.S3})),this.E3=new uO(i.then(function(t){return t.E3})),this.R3=new uO(i.then(function(t){return t.R3}))}return t.prototype.I3=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.C3,t.t0){t.next=5;break}return t.next=4,this.x3;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.I3(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"x3",get:function(){return this.Uo.Dh}}]),t}(),hO=function(){function t(){this.KM=[]}var n=t.prototype;return n.v3=function(t){return T.resolve("temporary"===t)},n.d3=function(t){return this.P3(t.key),this.KM.push(t),T.resolve()},n.l3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.P3(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.KM.push(r)}return T.resolve()},n.wh=function(t){return T.resolve(Boolean(this.O3(t)))},n.gh=function(t){return T.resolve(this.O3(t))},n.a$=function(t,n){return T.resolve(this.B3(t,n))},n._3=function(t){var n=this,i=t?t.map(function(t){return n.O3(t)}):this.KM;return T.resolve(i.filter($))},n.w3=function(){return T.resolve([].concat(this.KM))},n.g3=function(t){return this.y3(t,"key")},n.y3=function(t,n){var i=this.KM.filter(function(i){return i[n]===t});return T.resolve(i)},n.Qh=function(t){return this.P3(t),T.resolve()},n.m3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.P3(i)}return T.resolve()},n.A3=function(){return es(this.KM),T.resolve()},n.O3=function(t){return this.B3(t,"key")},n.B3=function(t,n){for(var i=0,e=this.KM;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.P3=function(t){var n=this.O3(t);n&&ts(this.KM,n)},t}(),aO=function(){function t(){this.b3=void 0,this.T3=void 0,this.S3=void 0,this.E3=void 0,this.R3=void 0,this.b3=new hO,this.T3=new hO,this.S3=new hO,this.E3=new hO,this.R3=new hO}return t.XZ=function(){return T.resolve(new t)},t.prototype.I3=function(t){return t(this)},t}(),cO=function(){function t(t){this.L3=t}var n=t.prototype;return n.v3=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.L3;case 1:if(!(i<e.length)){t.next=10;break}return r=e[i],t.next=5,r.v3(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.d3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.L3;case 1:if(!(e<r.length)){t.next=10;break}return s=r[e],t.next=5,s.v3(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.d3(n));case 7:e++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.l3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.L3;case 1:if(!(e<r.length)){t.next=10;break}return s=r[e],t.next=5,s.v3(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.l3(n));case 7:e++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.wh=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.L3;case 1:if(!(i<e.length)){t.next=10;break}return r=e[i],t.next=5,r.wh(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gh=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.L3;case 1:if(!(i<e.length)){t.next=11;break}return r=e[i],t.next=5,r.gh(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.a$=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.L3;case 1:if(!(e<r.length)){t.next=11;break}return s=r[e],t.next=5,s.a$(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:e++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._3=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],e=0,r=this.L3;case 2:if(!(e<r.length)){t.next=13;break}return s=r[e],t.t0=i.push,t.t1=i,t.next=8,s._3(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.w3=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,e=this.L3;case 2:if(!(i<e.length)){t.next=13;break}return r=e[i],t.t0=n.push,t.t1=n,t.next=8,r.w3();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.g3=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],e=0,r=this.L3;case 2:if(!(e<r.length)){t.next=13;break}return s=r[e],t.t0=i.push,t.t1=i,t.next=8,s.g3(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.y3=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=0,s=this.L3;case 2:if(!(r<s.length)){t.next=13;break}return u=s[r],t.t0=e.push,t.t1=e,t.next=8,u.y3(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Qh=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.L3;case 1:if(!(i<e.length)){t.next=8;break}return r=e[i],t.next=5,r.Qh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.m3=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.L3;case 1:if(!(i<e.length)){t.next=8;break}return r=e[i],t.next=5,r.m3(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.A3=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.L3;case 1:if(!(n<i.length)){t.next=8;break}return e=i[n],t.next=5,e.A3();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function fO(t){return T.coroutine(tr.mark(function n(){var i;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",vO.XZ(i));case 4:case"end":return n.stop()}},n)}))}var vO=function(){function t(t){this.M3=void 0,this.U3=void 0,this.F3=void 0,this.H3=void 0,this.V3=void 0,this.z3=void 0,this.M3=t,this.U3=new cO(t.map(function(t){return t.E3})),this.F3=new cO(t.map(function(t){return t.R3})),this.H3=new cO(t.map(function(t){return t.S3})),this.V3=new cO(t.map(function(t){return t.b3})),this.z3=new cO(t.map(function(t){return t.T3}))}return t.XZ=function(n){return T.resolve(new t(n))},t.prototype.I3=function(n){var i=this;if(0===this.M3.length)return n(this);var e=[],r=0;return this.M3[r].I3(function s(u){return e.push(u),++r<i.M3.length?i.M3[r].I3(s):n(new t(e))})},L(t,[{key:"E3",get:function(){return this.U3}},{key:"R3",get:function(){return this.F3}},{key:"S3",get:function(){return this.H3}},{key:"b3",get:function(){return this.V3}},{key:"T3",get:function(){return this.z3}}]),t}(),dO=function(){function t(t){this.X3=void 0,this.W3=[],this.q3=!0,this.X3=t}var n=t.prototype;return n.XZ=function(){return new oO(this.G3())},n.G3=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.q3){t.next=4;break}return t.next=3,T.resolve();case 3:this.q3=!1;case 4:n=0,i=this.W3;case 5:if(!(n<i.length)){t.next=18;break}return e=i[n],t.prev=7,t.next=10,fO([aO.XZ,e])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,fO([aO.XZ,this.X3])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.UL=function(t){if(!this.q3)throw new f("Registration overdue");this.W3.push(t)},t}(),lO=function(){function t(){}return t.UL=function(n){t.vE.UL(n)},L(t,null,[{key:"es",get:function(){return t.j3||(t.j3=t.vE.XZ()),t.j3}}]),t}();function _O(t){return Ff(t)}function wO(t,n){var i=Ff(t);return n?""+i+n:""+i}function gO(t,n,i,e,r,s,u,o){var h=new nh;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Bf({Ev:t,kv:i,pv:h,jv:s,Xv:Df.GET,do:Cf.Dv,qv:e,Gv:r,zo:u,Qv:o})}lO.vE=new dO(rO.XZ),lO.j3=void 0;var yO=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Fk=void 0,a.J$=void 0,a.kv=void 0,a.qv=void 0,a.Gv=void 0,a.Q3=void 0,a.Zb=void 0,a.Y3=void 0,a.Z3=void 0,a.KC=void 0,a.J3=void 0,a.vd=null,a.K3=void 0,a.av=new cs,a.t4=function(t,n){return a.Qv(t,n)},a.Fk=n,a.J$=i,a.kv=e,a.qv=r,a.Gv=s,a.Q3=u,a.KC=o,a.J3=new pO,a.Zb=h,a.Y3=lO.es.b3,a.Z3=lO.es.T3,a}U(n,t);var i=n.prototype;return i.rI=function(){return this.n4(this.av.zo)},i.n4=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return bP(i=this.J$)?(e=i.J$,r=[i.K$.rI,i.K$.uI]):(e=i,r=void 0),this.J3.i4(),t.prev=3,t.next=6,this.e4(e,r);case 6:if(s=t.sent,ds(n),s){t.next=12;break}return t.next=11,this.r4(e,r,n);case 11:s=t.sent;case 12:return t.next=14,s.Fs();case 14:u=t.sent,ds(n),this.s4(u,s.mv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!vs(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof jf?t.t0.vd.mv:0,o=new f('Could not load fragment: "'+this.J$+'", HTTP status '+h);case 27:return t.abrupt("return",this.u4(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.e4=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=wO(n,i),t.next=4,this.Y3.wh(e);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.Z3.gh(e);case 7:return r=t.sent,s=gO(n,i,this.kv,this.qv,this.Gv,this.Q3),u=r.data.buffer,t.abrupt("return",new Of({Fs:u,pv:{},Tv:s,Sv:n,kv:this.kv,mv:200,Av:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.r4=function(t,n,i){var e=gO(t,n,this.kv,this.qv,this.Gv,this.Q3,i,this.t4);return this.Zb.Tv(e)},i.Qv=function(t,n){var i={type:"U2",Tv:this,o4:t,h4:n=void 0===n?NaN:n};this.J3.a4(t,n),this.dispatchEvent(i)},i.s4=function(t,n){var i=this.kv===th.Hc?t.byteLength:0;this.J3.c4(i),this.kv===th.os?this.vd=t:this.vd=new y(t),this.K3=n,t=null,this.u4(),this.vd=null},i.Fo=function(t){return this.av.Fo(),t||((t=new f('Aborted fragment load: "'+this.J$+'"')).aborted=!0),this.u4(t)},i.u4=function(t){this.J3.f4();var n={type:"Bw",Tv:this};return this.dispatchEvent(n),this.KC(t||null,this)},n}(tP);function mO(){return zb()/1e3}var pO=function(t){function n(){var n;return(n=t.call(this)||this).v4=NaN,n.d4=NaN,n.l4=NaN,n._4=NaN,n.w4=0,n.g4=NaN,n.v4=mO(),n}U(n,t);var i=n.prototype;return i.i4=function(){this.v4=mO(),this.dispatchEvent("Yh")},i.a4=function(t,n){this.l4=mO(),this.t3||(this.d4=this.l4),this.w4=t,this.g4=n||this.g4||NaN,this.dispatchEvent("Yh")},i.c4=function(t){this.a4(t,t)},i.f4=function(){this._4=mO(),this.dispatchEvent("Yh")},L(n,[{key:"t3",get:function(){return!g(this.d4)}},{key:"y4",get:function(){return!g(this._4)}},{key:"_w",get:function(){return(this.d4||mO())-this.v4}},{key:"m4",get:function(){return(this._4||this.l4)-this.d4}},{key:"A4",get:function(){return(this._4||this.l4)-this.v4}}]),n}(tP),kO=function(t){function n(n,i){var e;return(e=t.call(this)||this).Q3=void 0,e.b4=[],e.T4=null,e.S4=function(t){return e.E4(t)},e.Zb=void 0,e.Q3=!(!i||i.crossOrigin!==pl.F_),e.Zb=n,e}U(n,t);var i=n.prototype;return i.jh=function(t,n,i,e,r,s){var u=new yO(t,n,i,e,r,this.Q3,s,this.Zb);return u.addEventListener("Bw",this.S4),this.b4.push(u),this.R4(),u},i.I4=function(t,n,i,e,r){var s=this;return new T(function(u,o){s.jh(t,n,i,e,r,function(t,n){t?o(t):u(n.vd)})})},i.ph=function(t,n){var i=function(t){return!n||t.Fk===n},e=this.b4.filter(i);!t&&this.T4&&i(this.T4)&&e.push(this.T4);for(var r=0;r<e.length;r++){e[r].Fo()}return e},i.R4=function(){if(!this.T4){var t=this.b4.shift();t&&(this.T4=t,t.rI())}},i.E4=function(t){var n=t.Tv,i=this.b4.indexOf(n);-1!==i&&ns(this.b4,i),this.T4===n&&(this.T4=null,this.R4())},n}(tP);function AO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function bO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function TO(t,n){return Jo([t],{type:n})}var SO="iframe.html",EO=0,RO=m&&(m.bind&&m.bind(m)||m),IO=function(t){function n(n){var i;return(i=t.call(this)||this).N4=void 0,i.D4=[],i.C4=!1,i.Go=function(t){return i.dispatchEvent(t)},n&&i.ua(n),i}U(n,t);var i=n.prototype;return i.postMessage=function(t){this.C4||(this.N4?this.N4.postMessage(t):this.D4.push(t))},i.ua=function(t){if(this.C4)t.terminate();else{this.N4=t,this.N4.addEventListener("message",this.Go,!1),this.N4.addEventListener("error",this.Go,!1);for(var n=0,i=this.D4;n<i.length;n++){var e=i[n];this.N4.postMessage(e)}this.D4.length=0}},i.terminate=function(){this.Jo(),this.C4=!0,this.D4.length=0,this.N4&&(this.N4.removeEventListener("message",this.Go,!1),this.N4.removeEventListener("error",this.Go,!1),this.N4.terminate(),this.N4=void 0)},n}(tP);var NO=function(n){function i(i,e,s){var u,o,h;return(u=n.call(this)||this).i_=void 0,u.x4=void 0,u.P4=void 0,u.O4=void 0,u.B4=void 0,u.L4=function(){return u.M4()},u.U4=function(t){return u.F4(t)},u.i_=i,u.x4=e,u.P4=(o=s+SO,(h=r.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,r.body.appendChild(h),h),u.O4=u.P4.contentWindow,u.B4=Wf(s),u.P4.addEventListener("load",u.L4),t.addEventListener("message",u.U4),u}U(i,n);var e=i.prototype;return e.M4=function(){this.P4.removeEventListener("load",this.L4),this.O4.postMessage({type:"initialize",id:this.i_,script:this.x4},"*")},e.F4=function(t){Wf(t.origin)===this.B4&&t.data.id===this.i_&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},e.postMessage=function(t){this.O4.postMessage({type:"message",data:t},"*")},e.terminate=function(){this.P4.removeEventListener("load",this.L4),t.removeEventListener("message",this.U4),this.O4.postMessage({type:"terminate"},"*"),this.P4.parentNode.removeChild(this.P4)},i}(tP);function DO(){return(DO=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=b.al,t.prev=1,r=new Bf({Ev:n,Xv:Df.GET,kv:th.os}),t.next=5,e.Tv(r);case 5:return s=t.sent,t.next=8,s.Fs();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof jf?t.t0.vd.mv:-1,i({Ph:h,hh:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function CO(t,n){function i(i){return r(),it(e=i.data)&&"3.2.1"===e.H4?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var e}function e(i){i.preventDefault&&i.preventDefault(),r(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function r(){t.removeEventListener("message",i),t.removeEventListener("error",e)}t.addEventListener("message",i),t.addEventListener("error",e)}function xO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new RO(t)}catch(t){return n({message:t.message})}return CO(i,n)}var PO=!0;function OO(t,n){var i=EO++,e=t+n,s=new IO;function u(){!function(t,n,i,e){var s;function u(){h(),CO(s,e)}function o(t){t.preventDefault&&t.preventDefault(),h(),s.terminate(),e({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){s.removeEventListener("initialized",u),s.removeEventListener("error",o)}if(!r)return e({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(s=new NO(t,n,i)).addEventListener("initialized",u),s.addEventListener("error",o)}(i,e,t,o)}function o(t,n,i){t?s.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(s.ua(n),i&&s.dispatchEvent(i))}return xO(e,function(t,n,i){t?function(t,n){DO.apply(this,arguments)}(e,function(t,n){t?t.Ph>=400?o(t.hh):u():n&&function(t,n){if(!PO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});xO(AO(TO(t,"application/javascript")),function(t,i,e){return t&&(PO=!1),n(t,i,e)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),s}function BO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function LO(t){return{get length(){return t.length},start:function(n){return BO(t,n|=0),t.start(n)},end:function(n){return BO(t,n|=0),t.end(n)}}}function MO(t,n){return t.rI-n.rI}var UO=function(){function t(t){this.V4=void 0,this.V4=t}var n=t.prototype;return n.start=function(t){return this.V4[t].rI},n.end=function(t){return this.V4[t].uI},n.z4=function(){return this.V4},L(t,[{key:"length",get:function(){return this.V4.length}}]),t}(),FO=new UO([]),HO=new UO([{rI:-1/0,uI:1/0}]);function VO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({rI:r,uI:s}),r=o,s=h))}return e.push({rI:r,uI:s}),new UO(e)}(function(t){var n=GO(t);return n.sort(MO),new UO(n)}(t),n)}function zO(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=l.max(t.start(e),n.start(r)),u=l.min(t.end(e),n.end(r));s<u&&i.push({rI:s,uI:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new UO(i)}function XO(t){var n=t.length;if(!n)return HO;var i=[],e=t.start(0);e!==-1/0&&i.push({rI:-1/0,uI:e});for(var r=0;r<n-1;r+=1)i.push({rI:t.end(r),uI:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({rI:s,uI:1/0}),new UO(i)}function WO(t,n){return-1!==qO(t,n)}function qO(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function GO(t){if(t instanceof UO)return t.z4();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({rI:t.start(i),uI:t.end(i)});return n}function jO(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(GO)),VO(new UO(r));var i,e,r}var QO=.001;function YO(t,n,i){return i=+i||0,t.rI-i<=n.uI&&n.rI<=t.uI+i}function ZO(t){var n={rI:NaN,uI:NaN,S$:t};return JO(n),n}function JO(t){var n=t.S$;n.length?(n.sort(MO),t.rI=n[0].rI,t.uI=n[n.length-1].uI):(t.rI=NaN,t.uI=NaN)}function $O(t){return void 0!==t.S$}function KO(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=l.max(s.rI,n),o=l.min(s.uI,i);if(u<o){var h=void 0;h=s.rI===u&&s.uI===o?s:{rI:u,uI:o,jk:s.jk},e.push(h)}}return e}function tB(t,n){var i=l.min(t.rI,n.rI),e=l.max(t.uI,n.uI),r=t.S$,s=n.S$,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.jk===h.jk&&YO(o,h,QO)&&u.splice(r.length-1,2,function(t,n){var i=t.jk||n.jk;return{rI:l.min(t.rI,n.rI),uI:l.max(t.uI,n.uI),jk:i}}(o,h)),ZO(u=KO(u,i,e))}var nB,iB,eB,rB=function(){function t(t,n){this.V4=void 0,this.V4=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;$O(e)?JO(r=e):r=ZO([e]),r.S$.length&&r.rI<r.uI&&n.push(r)}return n}(t),n||this.X4()}var n=t.prototype;return n.start=function(t){return this.V4[t]&&this.V4[t].rI},n.end=function(t){return this.V4[t]&&this.V4[t].uI},n.S$=function(t){return this.V4[t]&&this.V4[t].S$},n.W4=function(t,n){return this.q4(t,t,n)},n.q4=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.G4=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.j4=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.Q4=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.gg=function(t){return-1!==this.W4(t)},n.RI=function(t,n,i){return-1!==this.q4(t,n,i)},n.NI=function(t,n,i){return-1!==this.G4(t,n,i)},n.gI=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=l.max(this.start(i),t.start(e)),s=l.min(this.end(i),t.end(e));if(r<s){var u=KO(this.S$(i),r,s);n.push(ZO(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.XZ(n,!0)},n.Ey=function(t){return this.length&&t.length?this.gI(XO(t)):this},n.bI=function(t){return this.length?t.length?this.XZ(this.V4.concat(t.V4)):this:t},n.Y4=function(t){for(var n=[],i=0,e=this.V4;i<e.length;i++)for(var r=0,s=e[i].S$;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.XZ(n)},n.xI=function(t){return this.Y4(function(n){return t(n)?n:null})},n.Z4=function(){if(!this.length)return this;for(var t=this.V4.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.J4(i,e)&&(t.splice(n,2,tB(i,e)),n-=1)}return this.XZ(t,!0)},n.J4=function(t,n){var i=t.S$,e=n.S$,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.K4(r,s)},n.X4=function(){var t=this.V4;t.sort(MO);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&YO(i,e,QO)&&(t.splice(n,2,tB(i,e)),n-=1)}},L(t,[{key:"length",get:function(){return this.V4.length}}]),t}(),sB=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.XZ=function(t,i){return new n(t,i)},i.K4=function(t,n){return n.jk.JK===t.jk.JK&&n.jk.s$===t.jk.s$+1},n}(rB);function uB(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.t6(r),u=t.n6(r,s);i.push({rI:s._y(),uI:u._y(),jk:r})}return new sB(i).Z4()}function oB(t){return t.i6!==nB.e6}function hB(t){return 0===t.i6}function aB(t){return t.i6>=0}function cB(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.S$(e);s<u.length;s++){var o=u[s];if(!r){var h=o.jk;if(TP(h)&&oB(h)){if((r=aB(h))&&!hB(h)){var a=t.r6(h,h.s6)._y();o={rI:l.max(o.rI,a),uI:o.uI,jk:h}}}else r=!0;0}r&&i.push(o)}return new sB(i)}(iB=nB||(nB={})).e6=-1,iB.u6=-2,function(t){t.o6="h.264",t.h6="mp3",t.a6="aac-lc",t.c6="he-aac"}(eB||(eB={}));var fB,vB,dB,lB,_B=function(){function t(){this.f6=0,this.V4=[],this.Ob={}}var n=t.prototype;return n.v6=function(t){this.V4=this.V4.concat(t.V4),this.f6+=t.Gl},n.d6=function(t,n,i){var e=this.f6,r=i-n;r>0&&(this.V4.push({l6:n,_6:i,w6:r,g6:e,y6:t}),this.f6+=r)},n.gh=function(t){for(var n=0,i=this.V4;n<i.length;n++){var e=i[n];if(e.g6<=t&&t<e.g6+e.w6)return e.y6[t+e.l6-e.g6]}},n.m6=function(t,n){for(var i=n,e=0,r=this.V4;e<r.length;e++)for(var s=r[e],u=s._6,o=s.l6;o<u;o+=1,i+=1)t[i]=s.y6[o];return i},n.p6=function(){for(var t=new y(this.f6),n=0,i=0,e=this.V4;i<e.length;i++)for(var r=e[i],s=r._6,u=r.l6;u<s;u+=1,n+=1)t[n]=r.y6[u];return t},n.Sh=function(n){for(var i=new t,e=0,r=this.V4;e<r.length;e++){var s=r[e];i.d6(s.y6,s.l6,s._6)}return i.Ob=n||nr({},this.Ob),i},L(t,[{key:"Gl",get:function(){return this.f6},set:function(t){var n=this.V4,i=this.f6-t;if(!(t>=this.f6))if(this.f6=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.w6)return r._6-=i,r.w6-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.w6}else n.length=0}},{key:"Fs",get:function(){for(var t=new Array(this.f6),n=0,i=0,e=this.V4;i<e.length;i++)for(var r=e[i],s=r._6,u=r.l6;u<s;u+=1,n+=1)t[n]=r.y6[u];return t}}]),t}();function wB(t,n){return{audio:t.audio?bB(t.audio,n):void 0,video:t.video?NB(t.video,n):void 0,k6:t.k6?(i=t.k6,{A6:i.A6,l1:i.l1,d_:i.d_,b6:i.b6,T6:i.T6,S6:i.S6,E6:i.E6.map(gB),y_:[]}):void 0,R6:t.R6?t.R6.map(mB):t.R6,I6:t.I6.Cm()};var i}function gB(t){return{rk:t.rk,Ob:{N6:t.Ob.N6,D6:t.Ob.C6.Cm()},uX:t.uX}}function yB(t){return{rk:t.rk,Ob:{N6:t.Ob.N6,C6:Dw(t.Ob.D6)},uX:t.uX}}function mB(t){return{C6:t.C6.Cm(),QA:t.QA,kY:t.kY,pY:t.pY,do:t.do,x6:t.x6,AY:t.AY,bY:t.bY}}function pB(t){return{C6:Dw(t.C6),QA:t.QA,kY:t.kY,pY:t.pY,do:t.do,x6:t.x6,AY:t.AY,bY:t.bY}}function kB(t){return{A6:t.A6,uX:[],P6:t.P6,O6:t.O6,duration:t.duration,B6:t.B6,L6:t.L6.Cm(),M6:t.M6,U6:t.U6.Cm(),F6:t.F6,H6:t.H6.Cm(),V6:t.V6.Cm(),z6:t.z6.Cm(),X6:t.X6.Cm(),W6:t.W6.Cm(),q6:t.q6.Cm(),G6:t.G6.Cm()}}function AB(t){return{A6:t.A6,uX:[],P6:t.P6,O6:t.O6,duration:t.duration,B6:t.B6,L6:Dw(t.L6),M6:t.M6,U6:Dw(t.U6),F6:t.F6,H6:Dw(t.H6),V6:Dw(t.V6),z6:Dw(t.z6),X6:Dw(t.X6),W6:Dw(t.W6),q6:Dw(t.q6),G6:Dw(t.G6)}}function bB(t,n){switch(t.P6){case eB.a6:case eB.c6:return function(t,n){return nr({},SB(t),{P6:t.P6,uX:t.uX.map(function(t){return function(t,n){var i=(e=t.Ob,nr({},xB(e),{j6:e.j6,Q6:e.Q6,Y6:e.Y6}));var e;return RB(t.Sh(i),n)}(t,n)}),N0:t.N0,Z6:t.Z6})}(t,n);case eB.h6:return function(t,n){return nr({},SB(t),{P6:t.P6,uX:t.uX.map(function(t){return function(t,n){var i=(e=t.Ob,nr({},xB(e),{ck:e.ck,Hk:e.Hk,J6:e.J6,K6:e.K6,t5:e.t5}));var e;return RB(t.Sh(i),n)}(t,n)})})}(t,n)}}function TB(t){switch(t.P6){case eB.a6:case eB.c6:return function(t){return nr({},EB(t),{P6:t.P6,uX:t.uX.map(function(t){return function(t){var n=IB(t),i=(e=n.Ob,nr({},PB(e),{j6:e.j6,Q6:e.Q6,Y6:e.Y6}));var e;return n.Sh(i)}(t)}),N0:t.N0,Z6:t.Z6})}(t);case eB.h6:return function(t){return nr({},EB(t),{P6:t.P6,uX:t.uX.map(function(t){return function(t){var n=IB(t),i=(e=n.Ob,nr({},PB(e),{ck:e.ck,Hk:e.Hk,J6:e.J6,K6:e.K6,t5:e.t5}));var e;return n.Sh(i)}(t)})})}(t)}}function SB(t){return nr({},kB(t),{uX:[],P6:t.P6,n5:t.n5,i5:t.i5,e5:t.e5,r5:t.r5})}function EB(t){return nr({},AB(t),{uX:[],P6:t.P6,n5:t.n5,i5:t.i5,e5:t.e5,r5:t.r5})}function RB(t,n){var i=t.p6();return n.push(i.buffer),{s5:i,u5:t.Gl,o5:t.Ob}}function IB(t){var n=new _B;return n.d6(t.s5,0,t.u5),n.Ob=t.o5,n}function NB(t,n){return nr({},kB(t),{P6:t.P6,uX:t.uX.map(function(t){return function(t,n){var i=(e=t.Ob,nr({},DB(e),{nw:e.nw,h5:e.h5.Cm(),a5:e.a5,c5:e.c5,f5:e.f5&&e.f5.Cm(),v5:e.v5&&e.v5.Cm(),d5:e.d5,l5:e.l5,R6:e.R6,_5:e._5}));var e;return RB(t.Sh(i),n)}(t,n)}),w5:t.w5,g5:t.g5,EA:t.EA,width:t.width,height:t.height,y5:t.y5,m5:t.m5,p5:t.p5,b0:t.b0,T0:t.T0,UA:t.UA,FA:t.FA})}function DB(t){var n;return nr({},{N6:(n=t).N6,D6:n.D6.Cm()},{k5:t.k5.Cm(),A5:t.A5.Cm()})}function CB(t){var n;return nr({},{N6:(n=t).N6,D6:Dw(n.D6)},{k5:Dw(t.k5),A5:Dw(t.A5)})}function xB(t){return nr({},DB(t))}function PB(t){return nr({},CB(t))}function OB(t){var n=t.video,i=n&&n.uX;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].Ob.d5)return e}return NaN}function BB(t){var n=t.b5.video,i=n&&n.uX;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].Ob.d5)return e}return NaN}function LB(t){if(!t)return null;switch(t.P6){case eB.o6:return function(t){return t.EA?"avc1."+(t.y5<16?"0":"")+((t.y5<<16)+(t.m5<<8)+t.p5).toString(16):null}(t);case eB.h6:return"mp4a.40.34";case eB.a6:return t.Z6?"mp4a.40.5":"mp4a.40.2";case eB.c6:return"mp4a.40.5";default:return null}}function MB(t,n){var i=t.info,e=i.JK,r=t.b5,s=e.I$(t.info.s$-1),u=r.audio||void 0,o=r.video||void 0,h=u&&LB(u),a=o&&LB(o),c=(!u||h)&&(!o||a)?{IK:h,NK:a}:null,f=u&&!g(u.F6)?u.F6:null,v=o&&!g(o.F6)?o.F6:null,d=Hw(u&&u.V6,o&&o.V6),_=Hw(u&&u.z6,o&&o.z6),w=Vw(u&&u.q6,o&&o.q6),y=Vw(u&&u.G6,o&&o.G6),m=o&&o.L6.wg(Iw.mm(o.duration)),p=u&&u.L6.wg(Iw.mm(u.duration)),k=TP(s),A=k&&s.width||e.resolution&&e.resolution.width,b=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),T5:i,duration:m&&p?Iw.vm(m,p)._y():(m||p||Iw.By)._y(),S5:d,E5:_,R5:w,I5:y,audio:{start:l.max(0,f||0),duration:u&&u.B6||0,P6:h,_2:u&&u.M6,S5:u&&u.V6,E5:u&&u.z6,R5:u&&u.q6,I5:u&&u.G6},video:{start:l.max(0,v||0),duration:o&&o.B6||0,P6:a,_2:o&&o.M6,S5:o&&o.V6,E5:o&&o.z6,R5:o&&o.q6,I5:o&&o.G6},$B:o?{width:o.width||A,height:o.height||b}:null,s$:i.s$,size:n,quality:e,B0:c,N5:i.N5,D5:i.D5}}function UB(t,n){var i,e,r,s,u={start:0,duration:0,P6:null,_2:null,S5:null,E5:null,R5:null,I5:null};return"IK"===n?(e=u,r=i=nr({},u,t.video),s=t.$B):(e=i=nr({},u,t.audio),r=u,s=null),{start:i.start,T5:t.T5,duration:i.duration,S5:i.S5,E5:i.E5,R5:i.R5,I5:i.I5,audio:e,video:r,$B:s,s$:t.s$,size:t.size,quality:t.quality,B0:t.B0,N5:t.N5,D5:t.D5}}function FB(t,n){return t+"C5"+n.s$+"x5"+n.uri}!function(t){t.P5="O5",t.B5="L5"}(fB||(fB={})),function(t){t.M5="U5",t.$J="F5"}(vB||(vB={})),function(t){t.H5="V5",t.B5="L5"}(dB||(dB={})),function(t){t.z5="X5",t.W5="q5"}(lB||(lB={}));var HB=function(t){function n(n){var i;return(i=t.call(this)||this).Na=void 0,i.G5=er(),i.j5=void 0,i.Q5=void 0,i.Y5=function(t){var n=t.data,e=n.Z5;if(i.G5.get(e))switch(n.J5){case vB.M5:0;var r=n.K5;i.t8(e,r);break;case vB.$J:var s=n.n8;i.i8(e,new eP(iP.QJ,{code:s}));default:0}},i.e8=function(t){var n,e,r,s,u=t.data,o=u.r8;if(i.G5.get(o))switch(u.s8){case lB.z5:0;var h=u.u8;i.o8(o,{audio:(n=h).audio?TB(n.audio):void 0,video:n.video?(r=n.video,s=AB(r),nr({},s,{P6:r.P6,uX:r.uX.map(function(t){return function(t){var n,i=IB(t),e=nr({},CB(n=i.Ob),{nw:n.nw,h5:Dw(n.h5),a5:n.a5,c5:n.c5,f5:n.f5&&Dw(n.f5),v5:n.v5&&Dw(n.v5),d5:n.d5,l5:n.l5,R6:n.R6,_5:n._5});return i.Sh(e)}(t)}),w5:r.w5,g5:r.g5,EA:r.EA,width:r.width,height:r.height,y5:r.y5,m5:r.m5,p5:r.p5,b0:r.b0,T0:r.T0,UA:r.UA,FA:r.FA})):void 0,k6:n.k6?(e=n.k6,{A6:e.A6,l1:e.l1,d_:e.d_,b6:e.b6,T6:e.T6,S6:e.S6,E6:e.E6.map(yB),y_:[]}):void 0,R6:n.R6?n.R6.map(pB):n.R6,I6:Dw(n.I6)});break;case lB.W5:var a=u.h8;i.i8(o,new eP(iP.QJ,{code:a}));default:0}},i.a8=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"hh",hh:new eP(iP.i$,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};wt(n.hh.info.code),i.dispatchEvent(n)}else 0},i.Na=n,i.Q5=i.c8(),i}U(n,t);var i=n.prototype;return i.Fo=function(t){var n=[];this.G5.forEach(function(i,e){t&&i.Fk!==t||n.push(e)}),this.f8(n)},i.f8=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.G5.delete(i)}if(t.length){if(this.j5){var e={v8:fB.B5,d8:t};this.j5.postMessage(e)}if(this.Q5){var r={l8:dB.B5,_8:t};this.Q5.postMessage(r)}}},i.i8=function(t,n){var i=this.G5.get(t);if(i){var e=i.KC;this.G5.delete(t),e(n)}},i.w8=function(t,n,i,e){this.j5||(this.j5=this.g8());var r={v8:fB.P5,y8:t,m8:n,p8:i,k8:e};this.j5.postMessage(r)},i.A8=function(t,n){this.Q5||(this.Q5=this.c8());var i={l8:dB.H5,b8:t,T8:n,S8:this.G5.get(t).E8};this.Q5.postMessage(i)},i.t8=function(t,n){this.A8(t,n)},i.g8=function(){var t=OO(this.Na.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.Y5),t.addEventListener("error",this.a8),t},i.R8=function(t){var n=t.b5.video,i=n&&n.uX&&n.uX[0];i&&i.Ob.d5},i.o8=function(t,n){var i=this.G5.get(t),e=i.KC,r=i.I8,s={b5:n,info:i.N8,metadata:null};this.R8(s),function(t){var n=t.info.JK.I$(t.info.s$-1),i=t.b5;t.info.D5=t.info.N$,n&&(i.audio||i.video?i.video&&!i.video.g5&&!i.video.w5&&i.video.M6&&n.U0&&i.video.M6!==n.U0?t.info.D5=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.D5=!0):t.info.D5=!0)}(s),MB(s,r),function(t){var n=t.info,i=n.JK,e=t.metadata,r=t.b5;if(n.D8=Iw.mm(e.duration),n.nK=r.audio&&r.audio.L6.wg(Iw.mm(r.audio.duration))||Iw.By,n.iK=r.video&&r.video.L6.wg(Iw.mm(r.video.duration))||Iw.By,n.C8=r.audio&&r.audio.L6||Iw.By,n.x8=r.video&&r.video.L6||Iw.By,n.P8=e.audio.S5,n.O8=e.audio.E5,n.B8=e.video.S5,n.L8=e.video.E5,n.tK=e.S5,n.M8=e.E5,n.U8=e.audio.R5,n.F8=e.audio.I5,n.H8=e.video.R5,n.V8=e.video.I5,n.R5=e.R5,n.I5=e.I5,r.video){var s=OB(t.b5),u=r.video.uX&&r.video.uX[s];u?(n.i6=s,n.s6=u.Ob.k5,n.z8=u.Ob.A5):n.i6=nB.u6}else n.i6=nB.e6;n.U0=r.video&&r.video.M6||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"Q0",N8:t.info}),!i.resolution&&e.$B&&(i.resolution=e.$B),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.B0||i.B0&&!i.B0.IK==!e.B0.IK&&!i.B0.NK==!e.B0.NK||i.x0(e.B0),r.audio&&void 0!==r.audio.N0&&(i.N0=r.audio.N0),i.b0=r.video&&r.video.b0||i.b0,i.T0=r.video&&r.video.T0||i.T0,i.S0=r.audio&&r.audio.A6||void 0,i.E0=r.video&&r.video.A6||void 0,i.R0=r.audio&&r.audio.P6||void 0,i.I0=r.video&&r.video.P6||void 0,i.D0=r.audio&&r.audio.M6||void 0,i.U0=r.video&&r.video.M6||void 0}(s),this.G5.delete(t),e(null,s)},i.c8=function(){var t=OO(this.Na.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.e8),t.addEventListener("error",this.a8),t},i.X8=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.G5.has(n)&&r.w8(n,s,t,e.iv)}).catch(function(t){i=void 0,r.G5.has(n)&&r.i8(n,t)})},i.W8=function(t,n,i,e,r,s){var u=FB(t,e),o=e.JK;this.G5.set(u,{Fk:t,N8:e,E8:{q8:e.duration,B0:o.B0,b0:o.b0,T0:o.T0,S0:o.S0,E0:o.E0,R0:o.R0,I0:o.I0,N0:!this.Na.skipImplicitHEAACDetection&&o.N0,G8:r},I8:i.length,KC:s}),e.key?this.X8(n,u,i,e.key):this.A8(u,i)},i.j8=function(t){var n=[];return this.G5.forEach(function(i){i.Fk===t&&n.push(i.N8)}),n},i.Q8=function(t,n){var i=FB(t,n);return this.G5.has(i)},i.Zv=function(){this.Fo(),this.j5&&(this.j5.terminate(),this.j5=void 0),this.Q5&&(this.Q5.terminate(),this.Q5=void 0)},n}(tP);function VB(t,n){return t+"Y8"+n}function zB(t){return VB(t.JK.i_,t.s$)}function XB(t){return!(!t||!t.b5)}var WB=function(){function t(t,n,i){this.Z8=void 0,this.Nb=void 0,this.J8=[],this.K8=er(),this.t9=1,this.n9=void 0,this.Nb=t,this.Z8=n,this.n9=i}var n=t.prototype;return n.i9=function(t){var n=zB(t.info);if(this.K8.has(n))this.e9(t.info,t);else{this.J8.push(n),this.K8.set(n,t);for(var i=this.Z8.r9+10;this.J8.length>8*this.s9&&this.u9>i*this.s9;){var e=this.K8.get(this.J8[0]),r=this.n9.o9,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new iA([u,o]),a=r,c=a+this.Z8.r9;if(new iA([a,c]).gI(h).Gl>0)break}this.K8.delete(this.J8.shift())}}},n.h9=function(t,n){var i=VB(t,n),e=this.K8.get(i),r=this.J8.indexOf(i);return!(!e||-1===r)&&(ns(this.J8,r),this.K8.delete(i),!0)},n.ph=function(){this.J8.length=0,this.K8.clear()},n.a9=function(){for(var t={},n=0,i=this.J8;n<i.length;n++){var e=i[n],r=this.K8.get(e);XB(r)&&(t[r.info.JK.i_]=(t[r.info.JK.i_]||0)+1)}return t},n.c9=function(t,n){var i=[],e=this.f9(t,n);if(!XB(e))return i;do{i.push(e),n+=1,e=this.f9(t,n)}while(XB(e));return i},n.v9=function(t,n){return!!this.f9(t,n)},n.d9=function(t,n){return XB(this.f9(t,n))},n.f9=function(t,n){return this.K8.get(VB(t,n))},n.e9=function(t,n){var i=zB(t),e=this.J8.indexOf(i);return-1!==e&&(ns(this.J8,e),this.J8.push(i),n&&this.K8.set(i,n),!0)},n.l9=function(){for(var t=[],n=0,i=this.J8;n<i.length;n++){var e=i[n],r=this.K8.get(e);t.push(r.info)}return t},n._9=function(){for(var t=[],n=0,i=this.J8;n<i.length;n++){var e=i[n],r=this.K8.get(e);r&&XB(r)&&t.push(r.info)}return t},L(t,[{key:"u9",get:function(){for(var t=uB(this.Nb,this.l9()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"s9",get:function(){return this.t9},set:function(t){t>0&&(this.t9=l.max(t,1))}}]),t}();var qB=Y.Vr?function(t,n){return Fw(t.k5,n.k5)}:function(t,n){return Fw(t.A5,n.A5)};function GB(t,n,i,e){if(!t)return i;if(!i)return t;if(t.P6===i.P6){var r,s,u=t.w5||i.w5;if(u)s=1/(r=t.U6.wg(i.U6).sm(2))._y();else{if(t.M6!==i.M6)return;if(!t.U6.ty(i.U6))return;r=t.U6,s=t.M6}if(t.width===i.width&&t.height===i.height){var o,h=t.g5||i.g5||!t.U6.ty(i.U6);if(t.uX)if(i.uX)if(e)o=t.uX.concat(i.uX),jB(t.uX,i.uX,YB);else{!function(t,n,i){var e=t.length,r=Iw.By;t=Wr(t,function(t,n){return qB(t.Ob,n.Ob).gy(Iw.By)});for(var s=1;s<e;s+=1){var u=t[s-1].Ob,o=t[s].Ob,h=qB(o,u);h.py(Iw.By)&&(h=n),r=r.wg(h),u.h5=h,u.nw=h._y()}if(e>0){var a=t[e-1].Ob,c=Iw.fm(Iw.mm(l.round(i-r._y())),n);a.h5=c,a.nw=c._y()}}(n.uX.concat(i.uX),r,n.duration+i.duration),o=t.uX.concat(i.uX),jB(t.uX,i.uX,YB)}else o=t.uX;else o=i.uX;return{P6:t.P6,y5:t.y5,p5:t.p5,m5:t.m5,M6:s,U6:r,w5:u,g5:h,width:t.width,height:t.height,b0:t.b0,T0:t.T0,EA:t.EA,duration:t.duration+i.duration,B6:t.B6+i.B6,L6:t.L6,F6:t.F6,H6:t.H6,V6:t.V6,z6:t.z6,X6:JB(i.X6,t.X6),W6:JB(i.W6,t.W6),q6:JB(i.q6,t.q6),G6:JB(i.G6,t.G6),uX:o,O6:t.O6||i.O6,UA:t.UA,FA:t.FA}}}}function jB(t,n,i){var e=n[0].Ob.D6,r=t[t.length-1].Ob.D6,s=e.Ey(r),u=Fw(e,r).Ey(s);if(!u.Hy())for(var o=0;o<n.length;o++){i(n[o].Ob,u)}}function QB(t,n){t.A5=t.A5.wg(n),t.k5=t.k5.wg(n),t.D6=t.D6.wg(n)}function YB(t,n){QB(t,n),t.h5=t.h5.wg(n),t.v5=ZB(t.v5,n),t.f5=ZB(t.f5,n)}function ZB(t,n){if(t)return t.wg(n)}function JB(t,n){return n.wg(Fw(t,n))}function $B(t,n){var i={audio:void 0,video:void 0,I6:t.I6};if("video"===n){if(!t.audio)return i;i.audio={P6:t.audio.P6,M6:t.audio.M6,U6:t.audio.U6,duration:t.audio.duration,B6:t.audio.B6,L6:Iw.By,F6:t.audio.F6,H6:t.audio.H6,V6:t.audio.V6,z6:t.audio.z6,X6:t.audio.X6,W6:t.audio.W6,q6:t.audio.q6,G6:t.audio.G6,uX:t.audio.uX,r5:t.audio.r5,e5:t.audio.e5,O6:t.audio.O6,n5:t.audio.n5,i5:t.audio.i5}}if("audio"===n){if(!t.video)return i;i.video={P6:t.video.P6,y5:t.video.y5,p5:t.video.p5,m5:t.video.m5,M6:t.video.M6,U6:t.video.U6,w5:t.video.w5,g5:t.video.g5,width:t.video.width,height:t.video.height,b0:t.video.b0,T0:t.video.T0,UA:t.video.UA,FA:t.video.FA,EA:t.video.EA,duration:t.video.duration,B6:t.video.B6,L6:Iw.By,F6:t.video.F6,H6:t.video.H6,V6:t.video.V6,z6:t.video.z6,X6:t.video.X6,W6:t.video.W6,q6:t.video.q6,G6:t.video.G6,uX:t.video.uX,O6:t.video.O6}}return i}function KB(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.P6===n.P6||!t.P6||!n.P6)&&t.M6===n.M6&&t.U6.ty(n.U6)&&t.e5===n.e5)return t.uX?n.uX?(i=t.uX.concat(n.uX),jB(t.uX,n.uX,QB)):i=t.uX:i=n.uX,{P6:t.P6,M6:t.M6,U6:t.U6,duration:t.duration+n.duration,B6:t.B6+n.B6,L6:t.L6,F6:t.F6,H6:t.H6,V6:t.V6,z6:t.z6,X6:JB(n.X6,t.X6),W6:JB(n.W6,t.W6),q6:JB(n.q6,t.q6),G6:JB(n.G6,t.G6),uX:i,e5:t.e5,r5:t.r5,O6:t.O6||n.O6,n5:t.n5,i5:t.i5}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=GB(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,I6:t.I6}}}function tL(t){return $B(t,"audio")}function nL(t){return $B(t,"video")}var iL,eL,rL,sL=function(){function t(t){this.w9=void 0,this.CZ=0,this.g9=0,this.w9=l.exp(l.log(.5)/t)}var n=t.prototype;return n.y9=function(t,n){var i=l.pow(this.w9,t),e=n*(1-i)+i*this.CZ;g(e)||(this.CZ=e,this.g9+=t)},n.m9=function(){var t=1-l.pow(this.w9,this.g9);return this.CZ/t},t}(),uL=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.p9=void 0,this.k9=void 0,this.A9=0,this.b9=void 0,this.T9=5e5,this.p9=new sL(t),this.k9=new sL(n),this.b9=i}var n=t.prototype;return n.y9=function(t,n){var i=8e3*n/t,e=t/1e3;this.A9+=n,this.p9.y9(e,i),this.k9.y9(e,i)},n.m9=function(){return this.S9()?l.min(this.p9.m9(),this.k9.m9()):this.T9},n.S9=function(){return this.A9>=this.b9},t}(),oL=function(){function t(){this.p9=new sL(2),this.k9=new sL(5),this.E9=0,this.R9=1,this.T9=100}var n=t.prototype;return n.y9=function(t){this.E9+=1,this.p9.y9(1,t),this.k9.y9(1,t)},n.m9=function(){return this.S9()?l.min(this.p9.m9(),this.k9.m9()):this.T9},n.S9=function(){return this.E9>=this.R9},t}(),hL=function(){function t(t,n){var i=this;this.I9=void 0,this.Tv=void 0,this.J3=void 0,this.N9=!1,this.D9=0,this.C9=0,this.x9=function(){return i.P9()},this.I9=t,this.Tv=n,this.J3=n.J3,this.J3.addEventListener("Yh",this.x9)}return t.prototype.P9=function(){var t=this.J3.w4,n=1e3*this.J3.m4,i=1e3*this.J3._w;this.J3.t3&&(this.N9||(this.I9.O9(i),this.N9=!0),n>this.C9&&(this.I9.B9(n-this.C9,t-this.D9),this.D9=t,this.C9=n))},t}(),aL=function(){function t(){this.L9=void 0,this.M9=void 0,this.L9=new uL,this.M9=new oL}var n=t.prototype;return n.U9=function(t){new hL(this,t)},n.B9=function(t,n){this.L9.y9(t,n)},n.O9=function(t){this.M9.y9(t)},n.Zv=function(){},L(t,[{key:"F9",get:function(){return this.M9.m9()/1e3}},{key:"H9",get:function(){return this.L9.m9()}}]),t}(),cL=function(){function t(){this.V9=er()}var n=t.prototype;return n.z9=function(t,n){var i,e,r=this.V9.get(t);return void 0!==r&&(i=r.J$,e=n,et(i)?i===e:function(t,n){return t.J$===n.J$&&t.K$.rI===n.K$.rI&&t.K$.uI===n.K$.uI}(i,e))},n.X9=function(t,n){if(this.z9(t,n))return this.V9.get(t).Fs},n.W9=function(t,n,i){this.V9.set(t,{J$:n,Fs:i})},n.ph=function(){this.V9.clear()},t}();!function(t){t[t.q9=0]="q9",t[t.G9=5]="G9",t[t.j9=13]="j9",t[t.Q9=14]="Q9",t[t.Y9=15]="Y9"}(iL||(iL={})),function(t){t[t.Z9=0]="Z9",t[t.J9=1]="J9",t[t.K9=2]="K9",t[t.t7=11]="t7",t[t.n7=13]="n7",t[t.i7=14]="i7"}(eL||(eL={})),function(t){t[t.e7=0]="e7",t[t.r7=1]="r7",t[t.s7=2]="s7",t[t.u7=3]="u7",t[t.o7=4]="o7",t[t.h7=5]="h7",t[t.a7=6]="a7",t[t.c7=7]="c7"}(rL||(rL={}));var fL=5,vL=5,dL=.5;function lL(t){if(!t.b5.video)return[];for(var n=[],i=0;i<t.b5.video.uX.length;i++){var e=t.b5.video.uX[i].Ob;e.d5&&n.push({f7:i,v7:e.k5})}return n}var _L=Iw.mm(.04),wL=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Z8=void 0,s.Na=void 0,s.d7=void 0,s.Zb=void 0,s.l7=void 0,s._7=void 0,s.w7=void 0,s.g7=er(),s.y7=void 0,s.m7=er(),s.p7=1,s.Na=n,s.d7=i,s.Zb=e,s.l7=new cL,s.Z8=r,s._7=new kO(e,n),s.w7=new aL,s.y7=new HB(n),s.y7.addEventListener("hh",function(t){s.dispatchEvent(t)}),s}U(n,t);var i=n.prototype;return i.k7=function(t){this.y7.Fo(t),this._7.ph(!1,t)},i.ph=function(t){this.k7(t),t?this.g7.get(t).ph():this.g7.forEach(function(t){return t.ph()})},i.Zv=function(){this.Jo(),this._7.ph(),this.g7.forEach(function(t){return t.ph()}),this.g7.clear(),this.y7.Zv()},i.Vl=function(t,n,i){if(!this.g7.has(t)){var e=new WB(n,this.Z8,i);e.s9=this.s9,this.g7.set(t,e)}},i.A7=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=String(i.i_),!this.l7.z9(r,e)){t.next=3;break}return t.abrupt("return",this.l7.X9(r,e));case 3:return s=DP(i.L0),t.t0=y,t.next=7,this._7.I4(n,e,th.Hc,xf.xv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.l7.W9(r,e,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.b7=function(t,n,i,e){var r=this.g7.get(t),s=r.f9(n.JK.i_,n.s$);if(r.d9(n.JK.i_,n.s$))r.e9(n),this.dispatchEvent({type:"T7",Fk:t,S7:s});else{if(!s)return this.E7(t,n,i,e);r.e9(n),this.R7(t,n,i,s.I7)}return e&&e(),null},i.E7=function(t,n,i,e){var r=this,s=this.g7.get(t),u=function(t,n){return t+"N7"+n.s$+"x5"+n.uri}(t,n);if(this.m7.has(u))return null;this.m7.set(u,!0);var o=DP(n.JK.L0),h=this._7.jh(t,n.uri,th.Hc,xf.Iv,o,function(o,a){return r.m7.delete(u),o?e&&e(o):(r.dispatchEvent({type:"D7",Fk:t}),s.d9(n.JK.i_,n.s$)||s.i9({info:n,I7:h.vd}),r.b7(t,n,i),e&&e(o,a))});return this.w7.U9(h),h},i.R7=function(t,n,i,e){var r=this,s=this.g7.get(t);this.y7.Q8(t,n)||(n&&n.key&&this.d7.getKey(n.key).catch(E),this.y7.W8(t,this.d7,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"hh",hh:n});s.i9(i),r.dispatchEvent({type:"T7",Fk:t,S7:i})}))},i.C7=function(t,n,i){var e=i.length,r="IK"===t?yL:mL;if(!gL(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.D5){if("x7"===this.Na.P7||r(u,o)){var h=i.splice(0,s);return gL(n,h)?h:this.C7(t,n,i)}0}}return i},i.O7=function(t,n,i,e){for(var r=this.g7.get(t)._9(),s=e.B7,u=function(t){var e=i[t],u=r.filter(function(t){return t.JK===e}),o=uB(n,u),h=o.W4(s._y(),_L._y());if(h>=0&&Iw.mm(o.end(h)).Ey(s).yy(_L))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.L7=function(t,n,i,e,r){if(!Y.Mr)return!0;if(r.M7||this.O7(t,n,i,r))return!0;var s=Iw.fm(e,r.U7);return r.B7.Ey(s).yy(Iw.mm(2))},i.F7=function(t,n,i,e,r,s,u,o){var h=n.c9(r.i_,s),a=this.C7(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.t6(f.info),d=xL(t,e,f);if("NK"!==t||function(t,n,i){return!!t&&t.jk.JK===n&&i.yy(Iw.mm(t.uI))&&i.py(Iw.mm(t.uI).wg(_L))}(i,r,d))return{S$:a,H7:Iw.vm(v,d)};f.b5.video&&(f=(a=SL(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=lL(o),a=0;a<h.length;a++){var c=h[a];if(n.r6(o.info,c.v7).wy(i.Ey(e)))return{V7:r,z7:s};r=u,s=c.f7}return{V7:r,z7:s}}(a,e,u,o)))[0]);if(d=xL(t,e,f),function(t){var n=t.b5.video,i=n&&n.uX,e=i&&i[0],r=e&&e.Ob.d5;if(!n)return!0;return!!r}(f))return{S$:a,H7:Iw.vm(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=OB(t[n].b5);if(!g(i))return{V7:n,z7:i}}return null}(a),_=Iw.fm(u,NL(t,e,r.I$(s)));if(f.info.s$===s){if(l&&(d=xL(t,e,(c=SL(a,l))[0]),_.Ey(d).yy(o)))return{S$:c,H7:Iw.vm(v,d)};for(var w=s-1;n.d9(r.i_,w);){var y=n.c9(r.i_,w);if((f=(c=this.C7(t,s,y))&&c[0]&&TL(c[0],BB(c[0])))&&(d=xL(t,e,f),_.Ey(d).yy(o)))return c[0]=f,{S$:c,H7:Iw.vm(v,d)};w-=1}}return function(t){if(t.N$)return!1;var n=t.JK;if(n.R$&&n.R$.live)return!1;if(!n.I$(t.s$-1))return!1;return!0}(a[0].info)?null:l?{S$:a=SL(a,l),H7:v}:null},i.X7=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.W7(o,h,n),v=f&&f.jk;if(!v)return null;var d=v.s$;do{var l=d,_=o.I$(l),w=NL(n,s,_);if(!DL(n,s,_).Ay(h)||_.N5){if(w.wg(_L).wy(a))break;if(Iw.fm(Iw.By,h.Ey(w)).Ay(c)&&i.d9(o.i_,l-1)&&i.d9(o.i_,l))i.f9(o.i_,l).metadata.D5||(l-=1);var g=this.q7(t,n,i,e,r,s,u,o,l,h,c);if(g&&(bL(g,h,a)||g.M7))return g}}while(i.d9(o.i_,++d));return null},i.q7=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.I$(h),v=this.F7(n,i,e,s,o,h,a,c),d=v&&v.S$,_=v&&v.H7,w=d&&d[d.length-1],g=w&&w.metadata.N5;if(!(d=function(t,n){if(!n||!n.length)return n;var i="IK"===t?pL:kL;return n.map(i).filter(AL)}(n,d))||!d.length){if(g){var y=[],m=s.t6(w.info);return y.G7=m,y.j7=m,y.U7=m,y.Q7=m,y.B7=m,y.M7=g,y}return null}var p=d="NK"===n?function(t,n,i){var e=i[0].b5.video;return i[0].info.N$?function(t,n,i,e){var r=Kr(e.uX,function(t){return t.Ob.d5});if(r<0)return i;var s=e.uX[r].Ob,u=n.r6(i[0].info,s.k5),o=PL(t,u);if(o.Ry())return i;var h=u.Ey(o).dm(Cw,Tw.Dm);if(h.py(Iw.By))return i;var a=LL(e.uX.slice(r),h);return i[0]=RL(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.U6.tm(fL),s=e.uX[0].Ob,u=n.r6(i[0].info,s.A5),o=OL(t,u,r);if(o.Ry())return i;var h=u.Ey(o).dm(Cw,Tw.Dm);if(h.py(Iw.By)||h.wy(r))return i;var a=LL(e.uX,h);return i[0]=RL(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].b5.audio)?void 0:e.P6)===eB.h6)return i;var r=i[0].b5.audio,s=r.uX[0].Ob;return i[0].info.N$?function(t,n,i,e,r){var s=n.r6(i[0].info,r.k5),u=PL(t,s);if(u.Ry())return i;var o=s.Ey(u)._y(),h=l.floor(o/e.U6._y());if(h<=0)return i;var a=BL(e,h);return i[0]=EL(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.r6(i[0].info,r.A5),u=OL(t,s,e.U6.tm(vL));if(u.Ry())return i;var o=s.Ey(u)._y(),h=l.round(o/e.U6._y());if(0===h||l.abs(h)>vL)return i;var a=BL(e,h);return i[0]=EL(i[0],a),i}(t,n,i,r,s)}(r,s,d),k=p[0];if(f.s$<k.info.s$&&(_=s.t6(f)),p.G7=_,p.j7=function(t,n,i){return n.r6(i.info,CL(t,i).E5)}(n,s,k),p.U7=xL(n,s,k),p.Q7=function(t,n,i){return n.r6(i.info,CL(t,i).I5)}(n,s,p[p.length-1]),p.B7=function(t,n,i){return n.r6(i.info,CL(t,i).R5)}(n,s,p[p.length-1]),p.M7=g,!this.L7(t,s,u,a,p))return null;var A=k.b5.video;return!A||(A.b0=A.b0||o.b0,A.T0=A.T0||o.T0,A.b0&&A.T0)?p:null},i.Y7=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.X7(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d.U7.Ay(c.U7)||(c=d))}return c},i.Z7=function(t,n,i,e,r,s,u,o,h){for(var a=Iw.mm(u),c=Iw.mm(o),f=Iw.mm(h),v=this.g7.get(t),d=new UO([{rI:a._y(),uI:a.wg(c)._y()}]),l=r.gI(d),_=function(t){if(0===t.length)return null;var n=t.S$(t.length-1),i=n[n.length-1];if(!i.jk.J7)return null;return i}(r),w=zO(XO(l),d),g=0;g<w.length;g++){var y=Iw.mm(w.start(g)),m=Iw.mm(w.end(g)),p=ML(l,y,m),k=y.wg(p).dm(Cw,Tw.Dm),A=m.dm(Cw,Tw.Dm);if(k.Ay(A)){if(_&&k.yy(Iw.mm(_.uI)))continue;var b=this.Y7(t,n,v,s,r,i,e,k,A,f);if(b)return b}}return null},i._9=function(t){return this.g7.get(t)._9()},i.j8=function(t){return this.y7.j8(t)},L(n,[{key:"s9",get:function(){return this.p7},set:function(t){t>0&&(this.p7=t,this.g7.forEach(function(n){return n.s9=t}))}},{key:"F9",get:function(){return this.w7.F9}},{key:"H9",get:function(){return this.w7.H9}}]),n}(tP);function gL(t,n){for(var i=0;i<n.length;i++){if(n[i].info.s$===t)return!0}return!1}function yL(t,n){return t.metadata.audio.P6!==n.metadata.audio.P6||(t.metadata.audio._2!==n.metadata.audio._2||(!(!t.b5.audio||!n.b5.audio||t.b5.audio.e5===n.b5.audio.e5)||!Mw(t.metadata.audio.S5,t.metadata.audio.E5).ty(Mw(n.metadata.audio.R5,n.metadata.audio.I5))))}function mL(t,n){return t.metadata.video.P6!==n.metadata.video.P6||(!(!t.metadata.$B||!n.metadata.$B||t.metadata.$B.height===n.metadata.$B.height&&t.metadata.$B.width===n.metadata.$B.width)||(!(!n.b5.video||n.b5.video.g5||t.metadata.video._2===n.metadata.video._2)||Mw(t.metadata.video.S5,t.metadata.video.E5)!==Mw(n.metadata.video.R5,n.metadata.video.I5)))}function pL(t){return t.b5.video&&(t={b5:nL(t.b5),info:t.info,metadata:UB(t.metadata,"NK")}),t}function kL(t){return t.b5.audio&&(t={b5:tL(t.b5),info:t.info,metadata:UB(t.metadata,"IK")}),t}function AL(t){return Boolean(t&&(t.b5.audio||t.b5.video))}function bL(t,n,i){var e=Iw.fm(n,t.U7),r=Iw.vm(i,t.B7),s=_L;return Y.Ir&&(e.py(t.U7)?s=s.wg(t.U7).Ey(t.j7):r.yy(t.B7)&&(s=s.wg(t.B7).Ey(t.Q7))),r.Ey(e).yy(s)}function TL(t,n){return g(n)?null:0===n?t:RL(t,t.b5.video.uX.slice(n))}function SL(t,n){return(t=t.slice(n.V7))[0]=TL(t[0],n.z7),t}function EL(t,n){var i={info:t.info,b5:{audio:nL(t.b5).audio,video:null,I6:t.b5.I6},metadata:null},e=i.b5.audio;e.uX=n;var r=n[0].Ob;return e.H6=r.D6,e.F6=e.H6._y(),IL(e,i.b5.I6,e.U6),MB(i,t.metadata.size),i.metadata=UB(i.metadata,"NK"),i}function RL(t,n){var i={info:t.info,b5:{audio:null,video:tL(t.b5).video,I6:t.b5.I6},metadata:null},e=i.b5.video;e.uX=n;var r=n[0].Ob;e.H6=r.D6,e.F6=e.H6._y();var s=n[n.length-1].Ob.h5;return IL(e,i.b5.I6,s),MB(i,t.metadata.size),i.metadata=UB(i.metadata,"IK"),i}function IL(t,n,i){for(var e=Iw.km,r=Iw.km,s=Iw.Am,u=Iw.Am,o=0,h=t.uX;o<h.length;o++){var a=h[o].Ob;e=Iw.vm(a.A5,e),r=Iw.vm(a.k5,r),s=Iw.fm(a.A5,s),u=Iw.fm(a.k5,u)}t.V6=r,t.z6=e,t.X6=u,t.W6=s,t.L6=Iw.fm(Fw(t.H6,n),Iw.By),t.q6=Uw(t.X6,i),t.G6=Uw(t.W6,i),t.B6=Mw(t.q6,t.V6)._y(),t.duration=t.B6}function NL(t,n,i){if(TP(i)){var e="IK"===t?i.P8:i.B8;return Bw(e)||(e=i.tK),n.r6(i,e)}return i&&n.t6(i)}function DL(t,n,i){if(TP(i)){var e="IK"===t?i.U8:i.H8;return Bw(e)||(e=i.tK),n.r6(i,e)}return i&&n.t6(i).wg("IK"===t?function(t){return TP(t)?t.nK||Iw.By:t&&Iw.mm(t.duration)||Iw.By}(i):function(t){return TP(t)?t.iK||Iw.By:t&&Iw.mm(t.duration)||Iw.By}(i))}function CL(t,n){return"IK"===t?n.metadata.audio:n.metadata.video}function xL(t,n,i){return n.r6(i.info,CL(t,i).S5)}function PL(t,n){var i=t.j4(n._y());if(-1!==i){var e=Iw.mm(t.end(i));if(n.Ey(e).py(Iw.mm(dL)))return e}return Iw.pm}function OL(t,n,i){var e=t.W4(n._y(),i._y());if(-1!==e)for(var r=t.S$(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.jk.S$.length-1;o>=0;o--){var h=u.jk.S$[o];if(n.Ey(Iw.mm(h.uI)).by().py(i))return Iw.mm(h.uI);if(n.Ey(Iw.mm(h.rI)).by().py(i))return Iw.mm(h.rI)}return Iw.pm}function BL(t,n){var i;if(n<0)i=t.uX.slice(-n);else{0;var e=new _B,r=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.Z6,t.e5);e.d6(r,0,r.length),i=t.uX.slice();for(var s=0;s<n;s++){var u=i[0].Ob,o=e.Sh(nr({},e.Ob,{D6:u.D6.Ey(t.U6),N6:u.N6-t.U6._y(),A5:u.A5.Ey(t.U6),k5:u.k5.Ey(t.U6)}));i.unshift(o)}}return i}function LL(t,n){var i=t[0].Ob,e=t.slice();return e[0]=t[0].Sh(nr({},i,{D6:Iw.fm(Iw.By,i.D6.Ey(n)),N6:l.max(i.N6-n._y(),0),A5:Iw.fm(Iw.By,i.A5.Ey(n)),c5:l.max(i.c5-n._y(),0),k5:Iw.fm(Iw.By,i.k5.Ey(n)),a5:l.max(i.a5-n._y(),0),h5:Iw.fm(Iw.By,i.h5.wg(n)),nw:l.max(0,i.nw+n._y())})),e}function ML(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.S$(e),s=t.S$(e+1);if(r.length&&s.length&&Iw.mm(r[0].rI).py(n)&&Iw.mm(s[s.length-1].uI).yy(i)&&s[0].jk.S$[0].Rh.T5.N$)return _L.tm(5)}return t.gg(n._y())?_L:Iw.By}function UL(t){return new qL(t.ov,t.Fs)}var FL,HL,VL,zL,XL,WL,qL=function(){function t(t,n){this.ov=void 0,this.K7=void 0,this.K7=n,this.ov=t}return t.prototype.ttt=function(t){bO(t)},L(t,[{key:"Fs",get:function(){return this.K7}},{key:"ntt",get:function(){return AO(TO(this.K7,this.ov))}}]),t}(),GL=function(){function t(t,n,i){this.J$=void 0,this.J$="data:"+t+";"+n+","+i}return t.prototype.ttt=function(t){},L(t,[{key:"ntt",get:function(){return this.J$}}]),t}();!function(t){t.h6="itt",t.P_="ett",t.rtt="stt",t.utt="ott",t.htt="att"}(FL||(FL={})),function(t){t.ctt="ftt",t.dtt="ltt"}(HL||(HL={})),function(t){t._tt="audio/mp4",t.wtt="audio/mpeg",t.gtt="video/mp4"}(VL||(VL={})),function(t){t[t.ytt=0]="ytt",t[t.mtt=1]="mtt",t[t.v_=2]="v_",t[t.ptt=3]="ptt"}(zL||(zL={})),function(t){t.ktt="Att",t.btt="Ttt"}(XL||(XL={})),function(t){t.Stt="x7",t.btt="Ett"}(WL||(WL={}));var jL=function(){function t(t,n,i,e,r,s,u,o,h,a){this.Rtt=void 0,this.Itt=void 0,this.Fk=void 0,this.ov=void 0,this.S7=void 0,this.Ntt=void 0,this.Eb=void 0,this.Dtt=void 0,this.Ctt=void 0,this.KC=void 0,this.xtt=zL.ytt,this.Itt=t,this.Rtt=n,this.Fk=i,this.ov=e,this.S7=r,this.Ntt=s,this.Eb=u,this.Dtt=o,this.Ctt=h,this.KC=a}return t.Ptt=function(t,n,i,e,r,s,u,o,h,a){switch(n){case XL.ktt:return new QL(t,i,e,r,s,u,o,h,a);case XL.btt:return new YL(t,i,e,r,s,u,o,h,a)}},t}(),QL=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,XL.ktt,n,i,e,r,s,u,o,h,a)||this}return U(n,t),n.prototype.Ott=function(){return{Btt:"Ltt",Mtt:this.Rtt,Utt:FL.htt,Ftt:HL.ctt,Htt:this.ov,Vtt:wB(this.S7,[]),ztt:this.Ctt,Xtt:this.Dtt.Cm(),Wtt:this.Ntt.Cm(),qtt:this.Eb.Cm()}},n}(jL),YL=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,XL.btt,n,i,e,r,s,u,o,h,a)||this}return U(n,t),n.prototype.Ott=function(){return{Btt:"Ltt",Mtt:this.Rtt,Utt:this.ov===VL.wtt?FL.h6:FL.P_,Ftt:Qy?HL.dtt:HL.ctt,Htt:this.ov,Vtt:wB(this.S7,[])}},n}(jL),ZL=function(){function t(){this.Gtt=void 0,this.jtt=void 0,this.Gtt=er(),this.jtt=1}var n=t.prototype;return n.Qtt=function(){return(this.jtt++).toString()},n.Ptt=function(t,n,i,e,r,s,u,o,h){var a=this.Qtt(),c=jL.Ptt(a,n,t,i,e,r,s,u,o,h);return this.Ytt(c),c},n.Ztt=function(t){return this.Gtt.get(t)},n.Ytt=function(t){this.Gtt.set(t.Rtt,t)},n.Jtt=function(t){this.Gtt.delete(t)},n.$tt=function(t){this.Ztt(t).xtt=zL.mtt,this.Jtt(t)},n.Ktt=function(t,n){var i=this.Ztt(t).KC;this.Ztt(t).xtt=zL.v_,this.Jtt(t),i(n)},n.tnt=function(t,n){var i=this.Ztt(t).KC;this.Ztt(t).xtt=zL.ptt,this.Jtt(t),i(null,n)},n.ph=function(t){var n=[];this.Gtt.forEach(function(i,e){t&&i.Fk!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.$tt(e)}},t}();var JL,$L=function(){function t(n){var i=this;this.Gtt=void 0,this.nnt=void 0,this.Na=void 0,this.int=void 0,this.ent=function(t){var n=t.data.rnt,e=t.data.snt,r=t.data.unt,s=t.data.ont,u=i.Gtt.Ztt(e);if(u&&u.xtt!==zL.mtt)switch(n){case"hnt":i.ant(u,r);break;case"cnt":i.Gtt.Ktt(e,new eP(iP.QJ,{code:s}));break;default:0}},this.fnt=function(t){0},this.Gtt=new ZL,this.Na=n,this.int=t.vnt(n.P7),this.dnt()}t.vnt=function(t){switch(t){case WL.Stt:return XL.ktt;case WL.btt:return XL.btt}};var n=t.prototype;return n.Ltt=function(t,n,i,e,r,s,u){var o={metadata:null,IK:null,NK:null,hh:null};i&&i.length||u(new eP(iP.QJ,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.s$+1,f=h.info.JK,v=h.metadata,d=v.audio.P6?v.audio:void 0,l=v.video.P6?v.video:void 0,_=a.metadata,w=_.audio.P6?_.audio:void 0,y=_.video.P6?_.video:void 0,m=e.wg(Fw(v.E5,v.S5)),p=e.wg(Fw(v.S5,v.S5)),k=e.wg(d?Fw(d.E5,v.S5):Iw.By),A=e.wg(d?Fw(d.S5,v.S5):Iw.By),b=e.wg(l?Fw(l.E5,v.S5):Iw.By),T=e.wg(l?Fw(l.S5,v.S5):Iw.By),S=e.wg(Fw(_.I5,v.S5)),E=e.wg(Fw(_.R5,v.S5)),R=e.wg(w?Fw(w.I5,v.S5):Iw.By),I=e.wg(w?Fw(w.R5,v.S5):Iw.By),N=e.wg(y?Fw(y.I5,v.S5):Iw.By),D=e.wg(y?Fw(y.R5,v.S5):Iw.By);k=Iw.fm(Iw.By,k),b=Iw.fm(Iw.By,b);var C,x,P,O,B,L=pP.vw(n.f0)?Iw.mm(100079991719):Iw.mm(n.nw),M=function(t){for(var n=t[0].b5,i=n,e=1;e<t.length;e++){if(!(n=KB(i,t[e-1].b5,t[e].b5,t[e].info.D5)))return i;i=n}return i}(i);if(M.audio){x=(C=nL(M)).audio.duration;P=this.Gtt.Ptt(t,this.int,"mp3"===C.audio.P6?VL.wtt:VL._tt,C,k,A,L,c,function(t,n){if(o.hh=o.hh||t,o.IK=n,C=!0,O)return u(o.hh,o)}),this.lnt(P),C=null}else C=!0;if(M.video){B=(O=tL(M)).video.duration;P=this.Gtt.Ptt(t,this.int,VL.gtt,O,b,T,L,c,function(t,n){if(o.hh=o.hh||t,o.NK=n,O=!0,C)return u(o.hh,o)}),this.lnt(P),O=null}else O=!0;var U,F,H,V=i.map(function(t){return t.metadata}),z=Iw.mm(x),X=Iw.mm(B),W=h.b5.audio&&h.b5.video?Iw.vm(h.b5.audio.L6.wg(z),h.b5.video.L6.wg(X)):h.b5.audio?h.b5.audio.L6.wg(z):h.b5.video?h.b5.video.L6.wg(X):Iw.By;if(W.Hy()&&_t("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=OB(M);if(g(q))_t("Segment without keyframes detected",h.info.uri),U=Iw.pm,F=Iw.pm,H=W.tm(1.5);else{var G=M.video.uX[q].Ob;U=e.wg(Fw(G.A5,v.S5)),F=e.wg(Fw(G.k5,v.S5)),H=Iw.mm(G.a5-h.metadata.start)}}else U=k,F=A,H=Iw.By;var j=Iw.fm(H,Iw.fm(h.b5.audio&&h.b5.audio.L6||Iw.By,h.b5.video&&h.b5.video.L6||Iw.By));o.metadata={s$:c,rI:e._y(),_nt:m._y(),G7:p._y(),Q7:S._y(),B7:E._y(),z8:U._y(),s6:F._y(),H7:Iw.vm(e,r)._y(),nw:W._y(),S$:V,Eh:j._y(),IK:d&&{rI:A._y(),_nt:k._y(),uI:I._y(),Q7:R._y(),nw:x,P6:d.P6},NK:l&&{rI:T._y(),_nt:b._y(),uI:D._y(),Q7:N._y(),nw:B,P6:l.P6,ku:v.$B.width,zk:v.$B.height},B0:v.B0,D5:v.D5,JK:f,N5:s},i=null,M=null},n.Zv=function(){this.Gtt.ph(),this.nnt&&(this.nnt.terminate(),this.nnt=null)},n.Fo=function(t){this.Gtt.ph(t)},n.ant=function(t,n){switch(t.Itt){case XL.ktt:var i=n;this.Gtt.tnt(t.Rtt,{initializer:UL(i.wnt),m4s:UL(i.gnt)});break;case XL.btt:var e=n;this.Gtt.tnt(t.Rtt,(r=e,Qy?new GL(r.ov,"base64",r.Fs):new qL(r.ov,r.Fs)));break;default:0}var r},n.dnt=function(){this.nnt||(this.nnt=OO(this.Na.libraryLocation,"theoplayer.p.js"),this.nnt.addEventListener("message",this.ent),this.nnt.addEventListener("error",this.fnt))},n.lnt=function(t){this.nnt||this.dnt(),this.nnt.postMessage(t.Ott())},t}();function KL(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function tM(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function nM(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function iM(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Ju(e[6]):void 0!==e[7]?{width:w(e[8]),height:w(e[10])}:void 0!==e[12]?w(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var eM,rM="x-";function sM(t,n,i,e){var r=t.split("@"),s=KL(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{J$:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},K$:{rI:o,uI:o+u-1}}}function uM(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,g=[],m=null,p=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new eP(iP.jJ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<k.length;b+=1){var T=k[b].trim();if(g.push(T+""),tM(T,"#EXT")){if(tM(T,"#EXTINF"))c=(c=w(nM(T)))||.5;else if(tM(T,"#EXT-X-BYTERANGE"))f=nM(T);else if(tM(T,"#EXT-X-KEY"))(s=iM(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=KL(s.uri,i);else if(tM(T,"#EXT-X-DISCONTINUITY")&&!tM(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(tM(T,"#EXT-X-STREAM-INF"))(r=iM(T)).s$=a++,(b+=1)<k.length&&(r.uri=KL(k[b].trim(),i),A.streams.push(r));else if(tM(T,"#EXT-X-MEDIA")&&!tM(T,"#EXT-X-MEDIA-"))(u=iM(T)).uri&&(u.uri=KL(u.uri,i)),A.media.push(u);else if(tM(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(nM(T));else if(tM(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.p$=!0,A.k$=_(nM(T),10);else if(tM(T,"#EXT-X-MEDIA-SEQUENCE"))h=_(nM(T),10),A.ynt=!0,A.mnt=h;else if(tM(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(nM(T),10),A.hasTargetDuration=!0;else if(tM(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(tM(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(tM(T,"#EXT-X-MAP")){var S=iM(T),E=S.uri,R=S.byterange;o=R?sM(R,E,i,0):KL(E,i)}else if(tM(T,"#EXT-X-VERSION"))A.version=_(nM(T),10);else if(tM(T,"#EXT-X-DATERANGE")){var I=oM(T);A.dateRanges.push(I)}}else if(tM(T,"#"));else if(0!==T.length){f?p=(e=sM(f,T,i,p)).K$.uI+1:e=KL(T,i);var N,D=s&&nr({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:e,s$:h,N$:d,E$:v,key:D,o0:m,u0:g,N5:!1,pnt:o}),h+=1,c=0,f=null,d=!1,m=null,g=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].N5=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=l.min(i,o.duration),e=l.max(e,o.duration)}return{knt:i,Ant:e,bnt:n?t.fragments[n-1].duration:0,Tnt:r/n,Snt:r}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.s$-n.s$})}(A),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||ns(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(A),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(A),A}function oM(t){var n=iM(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];Dr(r,rM)&&(n[r.substr(rM.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{i_:n.id,H$:n.class,kR:e,D$:r,nw:n.duration,V$:n["planned-duration"],z$:s,X$:i,W$:u,q$:o,G$:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(eM||(eM={}));(JL={})[eM.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",JL[eM.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",JL[eM.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",JL[eM.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",JL[eM.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",JL[eM.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",JL[eM.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var hM=function(){function t(){}return t.prototype.vk=function(t,n,i){return uM(t,n,i)},t}(),aM=3,cM=function(){function t(t,n,i){void 0===i&&(i=aM),this.Zb=t,this.Ent=n,this.Rnt=i}var n=t.prototype;return n.Int=function(t,n,i){return this.Nnt(t,n,!0,i)},n.Dnt=function(t,n,i){return this.Nnt(t,n,!1,i)},n.Nnt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.Rnt)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Ts(u,r);case 6:u<1e4&&(u=l.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Bf({Ev:a,kv:th.os,pv:i,jv:this.Ent,Xv:Df.GET,do:Cf.Nv,qv:xf.Iv,zo:r}),t.next=14,this.Zb.Tv(c);case 14:return f=t.sent,t.next=17,f.ev(r);case 17:return v=t.sent,t.abrupt("return",{Cnt:v,xnt:a,Sv:f.Sv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),fM=function(){function t(t,n,i,e){this.Pnt=t,this.Ont=n,this.Bnt=i,this.Lnt=e}var n=t.prototype;return n.Mnt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pnt._3(n.map(_O));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Unt=function(t,n){var i=wO(t,n);return this.Ont.wh(i)},n.Fnt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=wO(n,i),t.next=3,this.Bnt.gh(r);case 3:if(t.t0=e=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=e.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vB=function(t){return this.Lnt.gh(t)},t}(),vM=function(){function t(t){this.Hnt=void 0,this.Hnt=t}return t.prototype.Vnt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=!1),u=0,o=this.Hnt;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.Vnt(n,i,e,r);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),ls(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,e){return t.apply(this,arguments)}}(),t}(),dM=function(){function t(t){this.znt=t}return t.prototype.Vnt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.znt.Mnt(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{Cnt:s.data,xnt:s.locationURL,Sv:s.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),lM=function(){function t(t){this.Xnt=t}return t.prototype.Vnt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),!r){t.next=7;break}return t.next=4,this.Xnt.Int(n,i,e);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.Xnt.Dnt(n,i,e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),t}();function _M(t,n){return new vM([new dM(n),new lM(t)])}var wM=function(){function t(t,n,i){this.Wnt=t,this.qnt=n,this.Gnt=i}var n=t.prototype;return n.Vnt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.next=3,this.Wnt.Vnt(n,i,e,r);case 3:return s=t.sent,t.next=6,this.jnt(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.jnt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qnt.d3({key:_O(n.xnt),locationURL:Ff(n.xnt),responseURL:Ff(n.Sv),data:n.Cnt,references:[this.Gnt.i_]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function gM(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var yM=function(){function t(t,n,i){this.Na=void 0,this.Zb=void 0,this.Wnt=void 0,this.Qnt=void 0,this.Qnt=new hM,this.Na=t,this.Zb=i;var e=this.Na&&this.Na.crossOrigin===pl.F_,r=new cM(i,e,1);this.Wnt=_M(r,new fM(lO.es.S3,lO.es.b3,lO.es.T3,lO.es.R3))}var n=t.prototype;return n.jh=function(t,n,i){var e=this.Gd(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Gd=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Wnt.Vnt([n],i);case 3:return e=t.sent,n=e.Sv,r=this.Qnt.vk(e.Cnt,n,gM(n)),t.abrupt("return",{ww:r,Ynt:e.Cnt});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Gf)){t.next=16;break}throw new eP(iP.qJ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof jf)){t.next=24;break}if(0!==t.t0.vd.mv){t.next=21;break}throw new eP(iP.GJ,{code:"MFL3900",uri:n,status:t.t0.vd.mv});case 21:throw new eP(iP.qJ,{code:"MFL4100",uri:n,status:t.t0.vd.mv});case 22:t.next=25;break;case 24:throw new eP(iP.v_,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),mM=function(t){function n(n,i){var e;return(e=t.call(this)||this).Znt=void 0,e.Jnt=void 0,e.$nt=void 0,e.Knt=void 0,e.tit=void 0,e.u1=void 0,e.Y0=void 0,e.IE=void 0,e.Znt=new yM(i||{},lO.es.S3,n),e}U(n,t);var i=n.prototype;return i.Bw=function(){void 0!==this.Knt&&(h(this.Knt),this.Knt=void 0),this.$nt&&this.$nt.Tv&&(this.$nt=void 0)},i.nit=function(t){if(this.Y0)for(var n=0,i=this.Y0.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.iit=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Snt<3*s)?1e3*u.knt:s?1e3*s:1e4,i===n&&(r/=2),r=l.max(r-e,1e3)},i.eit=function(t){if(t.fragments.length>0)for(var n=this.nit(t.fragments[0].uri),i=n&&n.s$||0,e=0,r=t.fragments;e<r.length;e++){r[e].s$+=i}},i.rit=function(t,i,e,r,s,u){var h=this;if(this.$nt&&e===this.$nt.Tv){var a=zb()-i;if(r){this.$nt=void 0,this.IE=r;var c={type:"hh",hh:r};return this.dispatchEvent(c),s&&s(r)}this.$nt=void 0;var f=u.ww,v=u.Ynt;f.ynt||this.eit(f),t===this.Jnt&&(this.u1=f),this.Y0=f;var d=n.iit(f,v,this.tit,a);f.live?f.isMasterPlaylist||(this.Knt=o(function(){return h.Gd(t)},d)):this.Bw(),s&&s(r,u);var l={type:"sit",manifest:f,manifestText:v};this.dispatchEvent(l),this.tit=v}},i.Gd=function(t,n){var i=this,e=zb(),r=t;h(this.Knt),this.Knt=void 0;var s=this.Znt.jh(r,{},function(r,u){return i.rit(t,e,s,r,n,u)});this.$nt={Tv:s,Ev:t}},i.rI=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Y0?this.Y0.uri:this.Jnt))&&(this.$nt&&this.$nt.Ev===t?n&&(i=function(t){s.removeEventListener("hh",e),s.removeEventListener("sit",i);var r=t;n(null,{ww:r.manifest,Ynt:r.manifestText})},e=function(t){s.removeEventListener("hh",e),s.removeEventListener("sit",i),n(t.hh)},this.addEventListener("hh",e),this.addEventListener("sit",i)):(this.Bw(),this.Gd(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.uit=function(t){t&&(this.tit=void 0,this.u1&&this.u1.isMasterPlaylist?this.rI(t.uri):this.Y0&&!this.oit()&&this.rI(this.Y0.uri))},i.Zv=function(){this.Bw(),this.Jo()},i.oit=function(){return!!this.$nt||!!this.Knt||!(!this.Y0||this.Y0.live)},L(n,[{key:"ww",get:function(){return this.Y0}},{key:"U1",get:function(){return this.u1}},{key:"i3",get:function(){return this.Jnt},set:function(t){this.Bw(),this.tit=void 0,this.u1=void 0,this.Y0=void 0,this.Jnt=t}}]),n}(tP),pM=function(t){function n(n,i){var e;return(e=t.call(this)||this).Na=void 0,e.Fl=void 0,e.Jnt=void 0,e.hit=void 0,e.Zb=void 0,e.Na=i,e.Fl=er(),e.Jnt=null,e.hit=null,e.Zb=n,e}U(n,t);var i=n.prototype;return i.rI=function(){var t=this,n=this.i3;if(n&&!this.hit){var i=new mM(this.Zb,this.Na);i.addEventListener("hh",function(i){var e=i.hh;t.dispatchEvent({type:"ait",hh:e}),t.Fl.has(n)&&t.dispatchEvent({type:"hh",hh:e,cit:n})}),i.addEventListener("sit",function n(e){i.removeEventListener("sit",n),i===t.hit&&t.dispatchEvent({type:"fit",ww:e.manifest})}),i.addEventListener("sit",function(i){t.Fl.has(n)&&t.dispatchEvent({type:n,ww:i.manifest})}),this.hit=i,i.rI(n)}},i.vit=function(t,n){this.dit(t),this.lit(n)},i.lit=function(t){var n,i=this;this.Fl.has(t)||(t===this.i3?(this.rI(),(n=this.hit).ww&&this.dispatchEvent({type:t,ww:n.ww},!0)):((n=new mM(this.Zb,this.Na)).addEventListener("hh",function(n){i.dispatchEvent({type:n.type,hh:n.hh,cit:t})}),n.addEventListener("sit",function(n){i.dispatchEvent({type:t,ww:n.manifest})})),this.Fl.set(t,n))},i.dit=function(t){if(this.Fl.has(t)){var n=this.Fl.get(t);n!==this.hit&&n.Zv(),this.Fl.delete(t),this.removeEventListener(t)}},i._it=function(t){if(this.Fl.has(t)){var n=this.Fl.get(t);n.oit()||n.rI(t)}},i.wit=function(){var t=this;this.Fl.forEach(function(n,i){return t._it(i)})},i.Wl=function(){this.Fl.forEach(function(t){return t.Zv()}),this.Fl.clear(),this.hit&&(this.hit.Zv(),this.hit=null),this.Jnt=null},L(n,[{key:"i3",get:function(){return this.hit&&this.hit.ww?this.hit.ww.uri:this.Jnt},set:function(t){this.Wl(),this.Jnt=t}}]),n}(tP),kM=function(t){function n(){var n;return(n=t.call(this)||this).git=NaN,n}U(n,t);var i=n.prototype;return i.yit=function(t,n){for(var i=t.length?l.min.apply(l,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].Eh=Iw.mm(t[r]||0)}var s=t.length?l.max.apply(l,t):0;this.git=s,this.dispatchEvent({type:"mit",pit:s})},i.kit=function(t,n){var i=[];if(n.length<2)return this.yit(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.Ait(t))return!1;i[r]=s.Eh.wg(s.Tit(e,t))._y()}return this.yit(i,n),!0},i.Sit=function(t,n){return this.kit(t.E$,n)},i.Eit=function(t,n){if(n.length<2)return this.yit([],n),!0;var i=n[0].Rit(t);if(g(i))return!1;for(var e=0;e<n.length;e++){if(n[e].Rit(t)!==i)return!1}return this.kit(i,n)},i.Wl=function(){this.git=NaN},i.Zv=function(){this.Jo()},L(n,[{key:"pit",get:function(){return this.git}}]),n}(tP),AM=.001;function bM(t){return t.metadata.JK.i_+"Iit"+t.metadata.s$+"Nit"+t.metadata.rI+"Dit"+t.metadata.nw}var TM=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.XZ=function(t,i){return new n(t,i)},i.K4=function(t,n){return!1},n}(rB);function SM(t,n){var i=new TM([n]);return t.Ey(i).bI(i)}function EM(t,n){var i=function(t,n){var i=t.G7,e=t.s6;if(!g(e)&&e===i)return!0;return!t.D5&&!!n&&n.jk.JK===t.JK&&i>=n.uI&&i<=n.uI+AM}(t,n);return i||!g(t.s6)?{rI:i?t.G7:t.s6,uI:t.B7,jk:t}:null}var RM=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cit=void 0,e.Nb=void 0,e.xit=null,e.Pit=function(){return e.Oit()},e.Bit=[],e.tg=[],e.Lit=new TM([]),e.Mit=null,e.Cit=n,e.Nb=i,e}U(n,t);var i=n.prototype;return i.Uit=function(t){var n=t.metadata,i=n&&n.S$;if(!i||!i.length)return T.resolve();for(var e=[],r=n.rI,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({rI:r,nw:u.duration,uI:o,s$:u.s$,Rh:u}),r=o}var h={i_:bM(t),rI:t.metadata.rI,_nt:n._nt,G7:n.G7,Fit:i[0].T5.o0?new Date(i[0].T5.o0.getTime()):null,nw:t.metadata.nw,uI:t.metadata.rI+t.metadata.nw,Q7:n.Q7,B7:n.B7,z8:n.z8,s6:n.s6,S$:e,JK:t.metadata.JK,J7:t.metadata.N5,D5:n.D5};return this.Bit.push(h),this.Hit(this.Cit.Uit(t),h)},i.Hit=function(t,n){var i=this;return t.then(function(){if(ts(i.Bit,n)){i.tg.push(n);var t=i.Mit,e=EM(n,t);e&&(i.Lit=SM(i.Lit,e)),i.Mit=e}i.Oit(),i.Vit(n)}).catch(function(){ts(i.Bit,n)})},i.Vit=function(t){var n=t.S$[0],i=t.S$[t.S$.length-1],e=t.JK,r=e.I$(n.s$-1),s=pP.vw(e.f0);if(!r||s){var u=e.I$(n.s$),o=this.Nb.t6(u)._y(),h=t._nt,a=l.min(o,h);a<n.rI&&this.Cit.wV(a,n.rI)}for(var c=0,f=this.tg;c<f.length;c++){var v=f[c];if(v.JK===t.JK){var d=v.S$[0],_=v.S$[v.S$.length-1];_.s$+1===n.s$&&_.uI!==n.rI?this.Cit.wV(_.uI,n.rI):d.s$-1===i.s$&&i.uI!==d.rI&&this.Cit.wV(i.uI,d.rI)}}},i.ph=function(){this.Bit.length=0,this.tg.length=0,this.Lit=new TM([]),this.Mit=null},i.Oit=function(){if(this.zit&&!this.zit.Hx){var t=this.zit.tg||FO;t=function(t,n){for(var i=GO(t),e=0;e<i.length;e++){var r=i[e],s=n.j4(r.uI,AM);if(s>=0){var u=n.S$(s),o=u[u.length-1],h=o.jk.Q7,a=o.jk.B7;h-AM<r.uI&&r.uI<a&&(r.uI=a)}}return new UO(i)}(t,this.Lit),this.tg=this.tg.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.rI,n.uI)>=0}),this.Lit=this.Lit.gI(t)}},i.Zv=function(){this.Jo(),this.ph(),this.zit=null},i.Xit=function(t){var n=this.Wit(t);if(n)for(var i=0,e=n.S$;i<e.length;i++){var r=e[i];if(r.rI<=t&&r.uI>t)return r}return null},i.Wit=function(t){for(var n=0,i=this.tg;n<i.length;n++){var e=i[n];if(e.rI<=t&&e.uI>t)return e}return null},i.qit=function(t){for(var n=0,i=this.tg;n<i.length;n++){var e=i[n];if(e.JK.i_===t.JK.i_)for(var r=0,s=e.S$;r<s.length;r++){if(s[r].s$===t.s$)return!0}}return!1},i.Git=function(){return this.jit()[0]},i.jit=function(){for(var t=this.Lit,n=this.Mit,i=0,e=this.Bit;i<e.length;i++){var r=EM(e[i],n);r&&(t=SM(t,r)),n=r}return[t,n]},L(n,[{key:"Gl",get:function(){return this.Bit.length+this.tg.length}},{key:"zit",get:function(){return this.xit},set:function(t){this.xit&&this.xit.removeEventListener("updateend",this.Pit),this.xit=t,this.xit&&(this.xit.addEventListener("updateend",this.Pit),this.Oit())}}]),n}(tP);function IM(t,n,i){!function(t,n,i){for(var e=i.E6,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.r6(t,u.Ob.C6)._y(),h=0,a=u.uX;h<a.length;h++){var c=a[h];r.push(new PD(o,c))}i.y_=r}(t,n,i)}function NM(t,n){return t&&n?l.abs(t.s$-n.s$)<=1?Iw.By:Iw.Py(n.Ik-t.Ik,1e3):Iw.By}var DM=function(){function t(t,n,i,e,r){this.N$=void 0,this.V7=void 0,this.Qit=void 0,this.Yit=void 0,this.do=void 0,this.f7=void 0,this.Eh=Iw.By,this.Zit=!1,this.Jit=null,this.N$=t,this.V7=t.JK.S$.h$(n.s$),this.f7=this.V7,this.Qit=i,this.Yit=e,this.do=r||null}var n=t.prototype;return n.$it=function(){if(this.Jit)return this.Jit;var t=this.Kit();return(t.tet||t.hh)&&(this.Jit=t),t},n.net=function(){return{tet:!1,hh:!1,Zit:this.Zit,Bg:Iw.pm}},n.tet=function(t){return t.Ry()?{tet:!1,hh:!0,Zit:this.Zit,Bg:Iw.pm}:{tet:!0,hh:!1,Zit:this.Zit,Bg:t}},t}();function CM(t,n){switch(n){case"IK":return Bw(t.P8)?t.P8:t.tK;case"NK":return Bw(t.B8)?t.B8:t.tK;default:return t.tK}}var xM=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Kit=function(){var t=this.N$,n=t.JK,i=n.S$,e=i.a$(this.f7);if(t.gg(e)){if(this.Yit&&t.iet&&TP(e)){var r=CM(e,this.do),s=t.eet(r,e.ret);return this.tet(s.Ey(this.Eh))}if(this.Qit&&e===t.uet){var u=t.Lg.Ey(SP(e));return this.tet(u.Ey(this.Eh))}this.f7+=1;var o=NM(e,i.a$(this.f7));return this.Zit=this.Zit||o.wy(Iw.By),this.Eh=this.Eh.wg(o).wg(SP(e)),this.net()}return this.tet(Iw.pm)},n}(DM),PM=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Kit=function(){var t=this.N$,n=t.JK,i=n.S$,e=i.a$(this.f7);if(t.gg(e)){if(this.Yit&&t.iet&&TP(e)){var r=CM(e,this.do),s=t.eet(r,e.ret);return this.tet(s.wg(this.Eh))}if(this.Qit&&e===t.oet){var u=t.Bg;return this.tet(u.wg(this.Eh))}this.f7-=1;var o=i.a$(this.f7),h=NM(o,e);return this.Zit=this.Zit||h.wy(Iw.By),this.Eh=this.Eh.wg(h).wg(SP(o)),this.net()}return this.tet(Iw.pm)},n}(DM);var OM=function(){function t(t,n,i){this.s$=void 0,this.JK=void 0,this.Bg=Iw.By,this.Lg=Iw.By,this.oet=null,this.uet=null,this.het=!1,this.aet=Iw.pm,this.cet=Iw.pm,this.fet=!1,this.vet=void 0,this.s$=t,this.JK=n,this.vet=i}var n=t.prototype;return n.gg=function(t){return t&&t.E$===this.s$},n.eet=function(t,n){var i=t.Ey(this.aet).wg(this.cet);if(void 0!==n){var e=i.Ey(n);if(e.by().wy(Ow)){var r=l.round(e._y()/Pw._y());i=i.Ey(Pw.tm(r))}}return i},n.det=function(t,n){var i=this.let(t);this._et(n);var e=this.wet();return i||e||t===this.uet&&this.yet()},n.let=function(t){if(this.iet&&Nw(t.M8,this.aet)>=0)return!1;var n;if(n=this.iet?this.met(t,!0,!1):this.pet(t,!0,!1),this.aet.Ry())this.aet=t.M8;else{var i=Fw(t.M8,this.aet);this.aet=this.aet.wg(i)}return this.cet=n,!0},n._et=function(t){if(!t)return!1;if(this.vet)return!1;if(!this.ket())return!1;var n=this.JK.S$,i=this.oet,e=n.c$(i.s$-1);if(TP(i)&&TP(e)){var r=function(t,n,i){var e=t.r6(n,n.R5);if(!Bw(i.L8)||!Bw(i.B8))return e;var r,s=Bw(i.P8),u=Mw(i.B8,i.L8);if(s){var o=Lw(Mw(i.B8,i.P8),Iw.By);r=Lw(Mw(u,o),Iw.By)}else r=u;return Mw(e,r)}(t,e,i);return this.fet=!0,this.Aet(r)}return!1},n.Aet=function(t){if(t.ty(this.Bg))return!1;var n=t.Ey(this.Bg);return this.Bg=t,this.Lg=this.Lg.wg(n),this.cet=this.cet.wg(n),!0},n.wet=function(){if(this.vet)return!1;var t=this.uet;if(!t)return!1;var n,i=new PM(this,t,!1,!0);do{n=i.$it()}while(!n.tet&&!n.hh&&!n.Zit);if(n.tet&&!n.Zit){var e=n.Bg.wg(SP(t));if(!e.ty(this.Lg))return this.Lg=e,!0}return!1},n.bet=function(t){var n=!1;return n=this._et(t)||n,n=this.Tet(t)||n},n.Tet=function(t){if(!t)return!1;if(this.fet)return!1;var n=t.Lg.wg(NM(t.uet,this.oet));return this.Aet(n)},n.Eet=function(t){var n=!1;return(!this.oet||this.oet.s$>t.s$)&&(this.Bg=this.Bg.Ey(NM(t,this.oet)),this.oet=t,n=!0),(!this.uet||this.uet.s$<t.s$)&&(this.Lg=this.Lg.wg(NM(this.uet,t)).wg(SP(t)),this.uet=t,n=!0),n},n.Ret=function(t){if(!this.iet||!t.iet)return Iw.pm;if(this.aet.py(t.aet)){var n=this.eet(t.aet,t.cet);return t.cet.Ey(n)}return t.eet(this.aet,this.cet).Ey(this.cet)},n.ket=function(){var t=this.oet;return!!t&&function(t,n){return n.E$===t&&n.N$}(this.s$,t)},n.yet=function(){var t=this.uet;if(!t)return!1;var n=this.JK.S$.c$(t.s$+1);return function(t,n,i){return n.E$===t&&(!i||i.N$)}(this.s$,t,n)},n.Iet=function(t,n){return this.met(t,!0,!0,n)},n.pet=function(t,n,i){if(!this.gg(t))return Iw.pm;var e,r=new PM(this,t,n,i);do{e=r.$it()}while(!e.tet&&!e.hh);if(!e.tet)return Iw.pm;var s=e.Bg;return s.Ay(this.Bg)?this.Bg:s},n.met=function(t,n,i,e){if(!this.gg(t))return Iw.pm;var r,s,u,o,h,a=new xM(this,t,n,i,e),c=new PM(this,t,n,i,e);do{r=a.$it(),s=c.$it()}while(!(r.tet||s.tet||r.hh&&s.hh));if(s.tet)u=s,o=r,h=a;else{if(!r.tet)return Iw.pm;u=r,o=s,h=c}if(u.Bg.Ay(this.Bg)){for(;!o.tet&&!o.hh;)o=h.$it();return o.tet?Iw.fm(this.Bg,o.Bg):this.Bg}if(u.Zit){for(;!o.Zit&&!o.tet&&!o.hh;)o=h.$it();if(o.tet&&!o.Zit&&this.Bg.py(o.Bg))return o.Bg}return u.Bg},n.r6=function(t,n){return this.gg(t)&&this.iet?this.eet(n,t.ret):Iw.pm},n.jit=function(){0},L(t,[{key:"iet",get:function(){return!this.aet.Ry()}}]),t}();function BM(t,n){return n.Ay(t.Bg)?zr.Eo:n.yy(t.Lg)?zr.Ro:zr.So}var LM=function(){function t(){this.Net=new aP}var n=t.prototype;return n.c$=function(t){return this.Net.c$(t)},n.a$=function(t){return this.Net.a$(t)},n.Det=function(t){var n=this.Net.h$(t);return n<0?null:this.Net.a$(n-1)},n.$it=function(t){var n=this.Net.h$(t);return n<0?null:this.Net.a$(n+1)},n.Cet=function(){return this.Net.a$(0)},n.xet=function(){var t=this.Net.Gl;return 0===t?null:this.Net.a$(t-1)},n.Pet=function(t){var n=this.Net,i=this.xet();if(i&&function(t,n){return t.Bg.py(n)&&n.Ay(t.Lg)}(i,t))return i;var e=lN(this.Net.d$(),t,R,BM);return n.a$(e)},n.wg=function(t){var n=this.Net.wg(t);if(n&&!this.$it(t.s$)){t.het=!0;var i=this.Det(t.s$);i&&(i.het=!1)}return n},n.Qh=function(t){var n=this.Net.Qh(t);if(n&&t.het){t.het=!1;var i=this.Det(t.s$);i&&(i.het=!0)}return n},n.w$=function(t){this.Net.w$(t)},n.jit=function(){},L(t,[{key:"Gl",get:function(){return this.Net.Gl}}]),t}();var MM=Iw.mm(10),UM=function(){function t(t,n,i){this.JK=void 0,this.Oet=!1,this.Bet=!1,this.Let=new LM,this.Met=Iw.By,this.Uet=void 0,this.Fet=null,this.Het=null,this.vet=void 0,this.JK=t,this.Uet=n.liveOffset,this.vet=i}var n=t.prototype;return n.Vet=function(t){var n=this.JK,i=t?t.fragments:null,e=n.S$;if(!t||!i||!i.length)return!1;this.Oet=!0;var r,s=!1;if(!this.Let.Gl){var u=e.c$(i[0].s$).E$,o=new OM(u,n,this.vet);o.Aet(this.Eh),this.Let.wg(o),s=!0}if(this.Het){var h=e.h$(this.Het.s$);r=h<0?0:h+1}else r=0;for(var a=r,c=e.a$(a),f=null,v=!1;c;){var d=c.E$;if(f&&f.s$===d||(f&&v&&this.zet(f),f=this.Let.c$(d),s=s||v,v=!1),!f){f=new OM(d,n,this.vet),this.Let.wg(f);var l=this.Let.Det(d);f.bet(l||void 0)}v=f.Eet(c)||v,c=e.a$(++a)}return f&&v&&this.zet(f),(s=s||v)&&this.Xet(),this.Let.xet()&&this.X0(n.S$),this.Fet=e.c$(i[0].s$),this.Het=e.c$(i[i.length-1].s$),s},n.det=function(t){var n=this.Let.c$(t.E$);if(!n)return!1;this.Bet=!0;var i=this.Let.Det(n.s$),e=n.det(t,i);return e&&this.zet(n),e},n.zet=function(t){for(var n=t,i=this.Let.$it(t.s$),e=!0;e&&i;)e=i.bet(n),n=i,i=this.Let.$it(i.s$)},n.Xet=function(){for(var t=!1,n=this.Let.Cet(),i=n&&this.Let.$it(n.s$);n&&i;)n.Lg.wy(i.Bg)&&(i.Aet(n.Lg),t=!0),n=i,i=this.Let.$it(n.s$);return t},n.Wet=function(t){var n=this.Let.xet(),i=t.Let.xet();if(!this.vet){if(n&&this.qet(t,n.s$))return!0;if(i&&this.qet(t,i.s$))return!0}return this.Get?!(!n||!this.jet(t,n.s$))||(!(!i||!this.jet(t,i.s$))||(!(!n||!this.Qet(t,n.s$))||(!(!i||!this.Qet(t,i.s$))||this.Yet(t)))):this.Zet(t)},n.Zet=function(t){var n=this.Let.Cet(),i=t.Let.Cet();return!(!n||!i)&&(this.bh(i.Bg.Ey(n.Bg)),!0)},n.qet=function(t,n){var i=this.Let.c$(n);if(!i||!i.iet)return!1;var e=t.Let.c$(n);return!(!e||!e.iet)&&(this.bh(i.Ret(e)),!0)},n.jet=function(t,n){var i=this.Let.c$(n);if(!i||!i.ket())return!1;var e=t.Let.c$(n);return!(!e||!e.ket())&&(this.bh(e.Bg.Ey(i.Bg)),!0)},n.Qet=function(t,n){var i=this.Let.c$(n);if(!i)return!1;var e=this.Jet(i.uet.s$);if(!e)return!1;var r=t.Let.c$(n);if(!r)return!1;var s=t.Jet(r.uet.s$);if(!s)return!1;var u=i.Iet(i.uet),o=r.Iet(r.uet),h=Iw.Tm(e).Ey(Iw.Tm(s)),a=u.Ey(o);return this.bh(h.Ey(a)),!0},n.Yet=function(t){if(!this.Bet&&!t.Bet)return!1;var n=this.Let.xet(),i=t.Let.xet();if(n&&n.uet&&i&&i.uet){var e=Iw.Py(n.uet.Ik-i.uet.Ik,1e3),r=n.Lg.Ey(i.Lg);return this.bh(e.Ey(r)),!0}return!1},n.X0=function(t){var n=this.Let.xet();if(n)for(var i=n.Lg,e=t.Gl-1;e>=0;e--){var r=t.a$(e);if(i=i.Ey(Iw.mm(r.duration)),void 0!==r.ret){0;break}r.ret=i}},n.Rit=function(t){var n=this.Let.Pet(t);return n?n.s$:NaN},n.t6=function(t,n){var i=this.Let.c$(t.E$);return i?i.Iet(t,n):Iw.pm},n.n6=function(t,n){var i=this.JK.S$.c$(t.s$+1);if(i){var e=this.t6(i);return e}return n.wg(function(t){if(!t)return Iw.By;if(!TP(t))return Iw.mm(t.duration);var n=t.nK||Iw.By,i=t.iK||Iw.By,e=Iw.mm(t.duration);return n.Hy()||i.Hy()?n.Hy()?i.Hy()?e.Hy()?e:Iw.By:i:n:Iw.fm(n,i)}(t))},n.r6=function(t,n){var i=this.Let.c$(t.E$);return i&&i.iet?i.r6(t,n):Iw.pm},n.W7=function(t,n){var i=this.JK.S$;return i.Gl?function(t,n,i,e,r){var s,u,o=t.JK.S$,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.t6(o.a$(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Ay(f))return{jk:s=o.a$(c),$et:f};if(n.yy(d)&&(s=o.a$(v)).N5)return{jk:s,$et:d};for(;f.py(n)&&n.py(d);){var _=void 0,w=void 0,g=void 0;if(c===v?(_=c,w=f):(_=c+l.round(n.Ey(f)._y()*(v-c)/d.Ey(f)._y())||0,w=a(_)),w.wy(n))d=a(v=_-1);else{if(s=o.a$(_),!(g=(u=_)===e?a(u).wg(SP(o.a$(u))):a(u+1)).py(n))return s&&n.py(w.wg(SP(s)))?{jk:s,$et:w}:(s=o.a$(_+1))&&{jk:s,$et:g};c=_+1,f=g}}if(d.py(n)){if((s=o.a$(v))&&n.py(d.wg(SP(s))))return{jk:s,$et:d};if(v<e&&(s=o.a$(v+1),d=a(v+1),s&&n.Ay(d)))return{jk:s,$et:d}}return null}(this,t,0,i.Gl-1,n):null},n.Jet=function(t){var n=this.JK.S$,i=n.h$(t),e=n.a$(i),r=e,s=Iw.By;if(e.o0)return e.o0;for(var u=i-1;u>=0;u--){var o=n.a$(u);if(s=s.wg(SP(o)).wg(NM(o,r)),o.o0)return new Date(o.o0.getTime()+1e3*s._y());r=o}return null},n.Ket=function(t){for(var n=this.JK.S$,i=void 0,e=0;e<n.Gl;e++){var r=n.a$(e);if(r.o0){if(!(r.o0.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return Iw.pm;var s=Iw.Tm(t).Ey(Iw.Tm(i.o0));return this.t6(i).wg(s)},n.bh=function(t){if(!t.ty(Iw.By))for(var n=this.Let.Gl,i=0;i<n;i++){var e=this.Let.a$(i);e.Aet(e.Bg.wg(t))}},n.Ait=function(t){var n=this.Let.c$(t);return n&&n.iet},n.Tit=function(t,n){if(this===t)return Iw.By;var i=this.Let.c$(n),e=t.Let.c$(n);return i&&e?i.Ret(e):Iw.pm},n.jit=function(){0},L(t,[{key:"Get",get:function(){var t=this.JK.R$;return!!t&&t.live}},{key:"trt",get:function(){var t=this.JK.R$;return!!t&&t.isEvent}},{key:"nrt",get:function(){var t=this.Fet;return t?this.t6(t):Iw.By}},{key:"irt",get:function(){var t=this.Let.xet();return t?t.Lg:Iw.By}},{key:"ert",get:function(){if(!this.Get)return Iw.By;var t=this.irt.Ey(this.rrt);return Iw.fm(this.nrt,t)}},{key:"rrt",get:function(){return this.Uet&&Iw.mm(this.Uet)||this.urt.tm(3)}},{key:"ort",get:function(){return this.Get&&this.Het?Iw.Py(zb()-this.Het.Ik,1e3):Iw.By}},{key:"urt",get:function(){var t=this.JK.R$;return t&&t.targetDuration?Iw.mm(t.targetDuration):MM}},{key:"Eh",get:function(){return this.Met},set:function(t){var n=t.Ey(this.Met);this.Met=t,this.bh(n)}}]),t}(),FM=function(t){function n(n){var i;return(i=t.call(this)||this).hrt=[],i.art={},i.crt=null,i.frt=null,i.Met=Iw.By,i.vet=void 0,i.vrt=void 0,i.vrt=n,i}U(n,t);var i=n.prototype;return i.drt=function(t){return t&&this.art[t.i_]||null},i.lrt=function(t){var n=this.drt(t);return n||((n=new UM(t,this.vrt,!!this.vet)).Eh=this.Met,this.hrt.push(n),this.art[t.i_]=n),n},i._rt=function(t){var n;switch(null==(n=this.vrt.hls)?void 0:n.discontinuityAlignment){case VA.SD:return!0;case VA.ED:return!1;default:return t.isEvent||t.hasEnd}},i.Vet=function(t,n){void 0===this.vet&&(this.vet=this._rt(n));var i=this.drt(this.crt),e=i?i.nrt:Iw.By,r=i?i.irt:Iw.By,s=this.lrt(t),u=s.Oet,o=s.Vet(n);if(!u&&s.Oet&&(s.bh(this.wrt(t)),o=!0),o=this.grt(s)||o,this.yrt(s,e,r)){var h=new eP(iP.n$,{code:"MFU0166"});this.dispatchEvent({type:"hh",hh:h})}else this.crt=t,o&&this.dispatchEvent("q0")},i.det=function(t,n){if(TP(n)){0;var i=this.lrt(t),e=i.det(n);e=this.grt(i)||e,this.frt=t,e&&this.dispatchEvent("q0")}},i.grt=function(t){var n=!1,i=!1,e=this.drt(this.frt);e&&(e===t?n=!0:i=(n=t.Wet(e))||i);var r=this.drt(this.crt);return r&&r!==t&&(i=n?r.Wet(t)||i:t.Wet(r)||i),i},i.wrt=function(t){var n=this.drt(t),i=!n.Get,e=t.R$&&t.R$.isEvent;return i||e?Iw.By:n.urt.tm(3)},i.yrt=function(t,n,i){if(!t.Get)return!1;var e=t.nrt,r=t.irt,s=Iw.vm(r,i).Ey(Iw.fm(e,n)),u=Iw.fm(t.urt.tm(3),s.sm(2));return e.wg(u).Ay(n)},i.X0=function(t,n){var i=this.drt(t)||this.drt(this.crt);return i&&i.X0(n)},i.Rit=function(t){var n=this.crt&&this.drt(this.crt);return n?n.Rit(t):NaN},i.mrt=function(t,n){var i=t.I$(n);return this.t6(i)},i.t6=function(t){if(!t)return Iw.pm;var n=this.drt(t.JK)||this.drt(this.crt);return n?n.t6(t):Iw.pm},i.n6=function(t,n){if(!t)return Iw.pm;var i=this.drt(t.JK)||this.drt(this.crt);return i?i.n6(t,n):Iw.pm},i.r6=function(t,n){if(!t||!n)return Iw.pm;var i=this.drt(t.JK)||this.drt(this.crt);return i?i.r6(t,n):Iw.pm},i.W7=function(t,n,i){var e=this.drt(t);if(!e)return null;var r=e.W7(n,i);return r?{jk:r.jk,$et:r.$et}:null},i.Jet=function(t,n){var i=this.drt(t)||this.drt(this.crt);return i?i.Jet(n):null},i.Ket=function(t,n){var i=this.drt(t)||this.drt(this.crt);return i?i.Ket(n):Iw.pm},i.Ait=function(t){return void 0!==this.prt(t)},i.Tit=function(t,n){if(this===t)return Iw.By;var i=this.prt(n),e=t.prt(n);return i&&e?i.Tit(e,n):Iw.pm},i.prt=function(t){return $r(this.hrt,function(n){return n.Ait(t)})},i.Zv=function(){this.Jo(),this.hrt.length=0,this.art={},this.crt=null,this.frt=null,this.Met=Iw.By},i.jit=function(){0},L(n,[{key:"krt",get:function(){return this.nrt.Ey(this.urt.tm(3))}},{key:"rrt",get:function(){var t=this.vrt.liveOffset;return Iw.mm(t||3*this.urt._y())}},{key:"Get",get:function(){var t=this.drt(this.crt);return!!t&&t.Get}},{key:"dg",get:function(){return this.crt?new UO([{rI:this.nrt._y(),uI:this.irt._y()}]):FO}},{key:"nrt",get:function(){if(!this.crt)return Iw.By;var t=this.drt(this.crt);return t.trt?t.nrt:t.nrt.wg(t.ort)}},{key:"irt",get:function(){if(!this.crt)return Iw.By;var t=this.drt(this.crt);return t.irt.wg(t.ort)}},{key:"ert",get:function(){if(!this.crt)return Iw.By;var t=this.drt(this.crt);return t.ert.wg(t.ort)}},{key:"urt",get:function(){return this.crt?this.drt(this.crt).urt:MM}},{key:"Eh",get:function(){return this.Met},set:function(t){if(!this.Met.ty(t)){this.Met=t;for(var n=0,i=this.hrt;n<i.length;n++){i[n].Eh=t}this.dispatchEvent("q0")}}}]),n}(tP),HM=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wrt=function(t){return Iw.By},n}(FM),VM=.25,zM=1/60;function XM(t,n){return Zr(t,n,zM)}var WM,qM=function(t,n,i){this.JK=void 0,this.Bg=void 0,this.nw=void 0,this.Lg=void 0,this.jk=void 0,this.Art=NaN,this.brt=NaN,this.Trt=0,this.JK=t.JK,this.Bg=n,this.Lg=i,this.nw=i-n,this.jk=t},GM=function(t,n,i){this.JK=void 0,this.Bg=void 0,this.nw=void 0,this.Lg=void 0,this.Art=NaN,this.brt=NaN,this.Trt=0,this.JK=t,this.Bg=n,this.Lg=i,this.nw=i-n};function jM(t){return!(!t||!t.jk)}function QM(t,n,i){return e=n,r=i,s=t.Bg,u=t.Lg,XM(e,u)<=0&&XM(s,r)<=0;var e,r,s,u}function YM(t,n){return XM(t.Bg,n)<=0?t.Lg:t.Bg}function ZM(t,n,i){return(t-n)/i-VM}function JM(t,n){return n.Ey(t).bI(t)}function $M(t,n){var i=l.min(zM,t.nw/2);return n.RI(t.Bg,t.Lg,i)}function KM(t,n){var i=n.W4(t);return-1===i?t:n.end(i)}function tU(t){return t.brt<=t.Art}function nU(t,n){if(!tU(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Trt+n.brt>e.Art)return!1}return!0}function iU(t,n){for(var i=0;i<t.length;i++){t[i].Trt+=n.brt}n.Trt=n.brt,t.push(n)}!function(t){t[t.Srt=0]="Srt",t[t.Ert=1]="Ert",t[t.Rrt=2]="Rrt",t[t.ptt=3]="ptt"}(WM||(WM={}));var eU=function(){function t(t,n,i,e){this.Fk=void 0,this.Nb=void 0,this.Irt=void 0,this.Nrt=void 0,this.Drt=void 0,this.Z3=void 0,this.Fk=t,this.Nb=n,this.Irt=i,this.Nrt=e,this.Drt=lO.es.S3,this.Z3=lO.es.T3}var n=t.prototype;return n.Crt=function(){return this.Irt.EK.reduce(function(t,n){return l.max(t,n.R$&&n.R$.targetDuration||0)},0)},n.xrt=function(t,n){void 0===n&&(n=this.Nb.t6(t)._y());var i=this.Nb.n6(t,Iw.mm(n));return new qM(t,n,i._y())},n.Prt=function(t,n){var i=t.S$.a$(n);return i&&this.xrt(i)||null},n.Ort=function(t){var n=t.JK,i=n.S$.h$(t.s$);return i>=0&&this.Prt(n,i-1)||null},n.Brt=function(t){var n=t.JK,i=n.S$.h$(t.s$);return i>=0&&this.Prt(n,i+1)||null},n.Lrt=function(t,n){var i=this.Nb.W7(t,Iw.mm(n));return i&&this.xrt(i.jk,i.$et._y())||null},n.Mrt=function(t){var n=t.S$.Gl-1;return n>=0&&this.Prt(t,n)||null},n.Urt=function(t,n,i){var e=t.R$&&t.R$.targetDuration||this.Crt()||10,r=l.max(0,n-e),s=r+e;return i&&QM(i,r,s)&&(s=(r=i.Lg)+e),new GM(t,r,s)},n.Frt=function(t,n,i){var e=this.Nrt.F9,r=.8*this.Nrt.H9,s=(n.bandwidth||0)*t.nw;return i&&i.t3?((s=8*i.g4||s)-8*i.w4)/r:e+s/r},n.Hrt=function(){for(var t=this.Nrt._9(this.Fk),n=this.Nrt.j8(this.Fk),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.Vrt=function(t,n){var i=n.filter(function(n){return n.JK===t});return uB(this.Nb,i).Z4()},n.zrt=function(t){return"audio"===this.Fk&&t?[t]:this.Irt.EK},n.Xrt=function(t){for(var n=new sB([]),i=new sB([]),e=this.Hrt(),r={Wrt:{},qrt:{},Grt:{},jrt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Vrt(u,e),h=cB(this.Nb,o);r.Wrt[u.i_]=o,r.qrt[u.i_]=h,r.Grt[u.i_]=n=JM(n,o),r.jrt[u.i_]=i=JM(i,h)}return r},n.Qrt=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c].i_],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({rI:d,uI:l})}return 0===(s=zO(s=VO(new UO(a)),new UO([{rI:t,uI:n}]))).length||XM(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,XM(u,t)<=0&&XM(h,o)<=0)?NaN:s.end(0)},n.Yrt=function(t,n,i){var e=null,r=i.Wrt[t.i_],s=i.Grt[t.i_],u=i.jrt[t.i_],o=s.W4(n);if(-1!==o){for(var h=l.max(n,s.start(o)),a=s.end(o),c=new UO([{rI:h,uI:a}]),f=s.gI(c).Ey(u),v=0;v<f.length;v++){var d=f.start(v),_=f.S$(v)[0];if(_.jk.JK===t){if(e=this.Ort(_.jk))return e}else{for(e=this.Lrt(t,d);e&&$M(e,r);)e=this.Ort(e.jk);if(e)return e}}var w=s.S$(o),g=w[w.length-1];if(g.jk.JK===t&&(e=this.Brt(g.jk)))return e}var y=this.Mrt(t);if(!y||XM(y.Lg,n)<=0){if(!y||!y.jk.N5)return e=this.Urt(t,n,y);e=y}for(e||(e=this.Lrt(t,n));e&&$M(e,s);)e=this.Brt(e.jk);return e},n.Zrt=function(t,n){var i=this.Mrt(t);return i&&i.jk.N5&&XM(i.Lg,n)<=0?i:this.Lrt(t,n)},n.Jrt=function(t,n,i,e,r,s,u,o){var h=t.JK,a=u.Grt[h.i_],c=!$M(t,a),f=c?n:YM(t,e);t.Art=ZM(f,e,s),t.brt=this.Frt(t,h);var v=o&&this.xrt(o);if(v&&!$M(v,a)){var d=YM(v,e);if(v.Art=ZM(d,e,s),v.brt=this.Frt(v,h,i&&i.J3),tU(v)&&(!c||function(t,n){var i=[];return!!nU(i,n)&&(iU(i,n),!(!jM(t)||!jM(n)||t.jk!==n.jk)||!!nU(i,t))}(t,v)))return v}if(c&&!tU(t))return null;var l=this.$rt(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.$rt=function(t,n,i,e,r){for(var s=[],u=t.JK,o=t;o&&n<o.Lg&&i<=o.Bg;){if(!$M(o,r)){if(g(o.Art)){var h=YM(o,n);o.Art=ZM(h,n,e),o.brt=this.Frt(o,u)}nU(s,o)&&iU(s,o)}o=jM(o)&&this.Ort(o.jk)}return s},n.Krt=function(t,n){return t.Bg<n?{r_:WM.Rrt}:jM(t)?{r_:WM.Srt,jk:t.jk,Bg:t.Bg}:{r_:WM.Ert,JK:t.JK}},n.v9=function(t){if(bP(t.uri)){var n=t.uri,i=wO(n.J$,[n.K$.rI,n.K$.uI]);return this.Z3.wh(i)}var e=wO(t.uri);return this.Z3.wh(e)},n.tst=function(t){return this.Drt.wh(t.uri)},n.nst=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r,s,u,o,h,a){var c,f,v,d,l,_,w,y,m,p,k,A,b;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.zrt(r),f=this.Xrt(c),v=this.Nb.krt._y(),d=this.Qrt(n,i,s,c,f.qrt),w=null,m=!1,!g(d)){t.next=3;break}return t.abrupt("return",{r_:WM.ptt});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{r_:WM.Rrt});case 5:p=h.length-1;case 6:if(!(p>=0)){t.next=27;break}if(l=h[p],_=KM(d,f.qrt[l.i_]),!(w=this.Yrt(l,_,f))){t.next=24;break}if(k=!1,!jM(w)){t.next=18;break}return t.next=15,this.v9(w.jk);case 15:k=t.sent,t.next=22;break;case 18:if(l.d0){t.next=22;break}return t.next=21,this.tst(l);case 21:k=t.sent;case 22:if(!k){t.next=24;break}return t.abrupt("return",this.Krt(w,v));case 24:p-=1,t.next=6;break;case 27:if(!(d<=n+VM&&a.length)){t.next=33;break}if(l=a[0],_=KM(d,f.qrt[l.i_]),!(w=this.Yrt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Krt(w,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=KM(d,f.qrt[l.i_]),(w=this.Yrt(l,_,f))?y=w:(m=!0,y=this.Zrt(l,_)),!y){t.next=45;break}if(!(b=this.Jrt(y,_,u,n,v,e,f,o))){t.next=45;break}return t.abrupt("return",this.Krt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{r_:WM.ptt});case 50:if(!w){t.next=52;break}return t.abrupt("return",this.Krt(w,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{r_:WM.ptt});case 54:if(l=h[0],_=KM(d,f.qrt[l.i_]),!(w=this.Yrt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Krt(w,v));case 61:return t.abrupt("return",{r_:WM.ptt});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,e,r,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),rU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).ist=i,o.est=e,o.QA=r,o.Fk=s,o.Gv=u,o}return U(n,t),n}(Ds),sU=function(t){function n(n,i,e,r,s){return t.call(this,Ko.Dc,n,i,e,r,s)||this}return U(n,t),n}(rU),uU=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,Ko.xc,n,i,e,r,s)||this).rst=u,h.hg=o,h}return U(n,t),n}(rU),oU=Iw.mm(.1);function hU(t,n){return(t.S7===n.S7?Nw(t.C6,n.C6):Nw(t.sst,n.sst))||Qr(t.QA,n.QA)}var aU,cU=function(){function t(){}return t.ust=function(t,n,i){if(!(n>=i)){var e=ss(t,function(t,n){return new _x(t.map(function(t){return t?t.ost():null}),n).PQ()});if(0!==e.length)return new yx(n,i,e)}},t}(),fU="black",vU="white",dU=function(){function t(t,n){this.hst=void 0,this.ast=void 0,this.cst=void 0,this.fst=void 0,this.vst=void 0,this.dst=void 0,this.lst=void 0,this._st=void 0,this.wst=void 0,this.hst=new Array(lU+1);for(var i=0;i<=lU;i++)this.hst[i]=new ux;this.ast=1,this.cst=0,this.fst=t,this.vst=n,this.dst=!1,this.lst=!1,this._st=vU,this.wst=fU,this.Wl()}var n=t.prototype;return n.gst=function(t,n){var i="CC"+(this.fst<<1|this.vst+1);if(t>=n)return null;var e=(new lx).mQ(this.hst.slice(1));return 0===e.length?null:{Og:new yx(t,n,e),uv:i,VQ:this.fst<<1|this.vst+1}},n.Wl=function(){this.yst(),this.ast=1},n.mst=function(){return this.ast},n.pst=function(t){this.ast=t},n.Kj=function(t){this.hst[this.ast].Kj(t)},n.tQ=function(t){this.hst[this.ast].tQ(t)},n.kst=function(){return this.cst},n.Ast=function(t){this.cst=t},n.iQ=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case aU.bst:i=void 0!==wU[n]?wU[n]:String.fromCharCode(n);break;case aU.Tst:i=gU[n];break;case aU.Sst:this.Est(),i=yU[n];break;case aU.Rst:this.Est(),i=mU[n]}i&&this.hst[this.ast].addParsedChar(i)}},n.Est=function(){this.hst[this.ast].nQ()},n.Ist=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.hst[t+e]=this.hst[n+e];else for(var r=0;r<i;r++)this.hst[t+r]=this.hst[n+r]},n.Nst=function(t,n){for(var i=0;i<=n;i++)this.hst[t+i]=new ux},n.yst=function(){this.Nst(0,lU)},n.Dst=function(){this.ast=this.cst>0?this.cst:0,this.yst()},n.Cst=function(t){this.dst=t},n.xst=function(t){this.lst=t},n.Pst=function(t){this._st=t},n.Ost=function(t){this.wst=t},t}(),lU=15;!function(t){t[t.bst=0]="bst",t[t.Tst=1]="Tst",t[t.Sst=2]="Sst",t[t.Rst=3]="Rst"}(aU||(aU={}));var _U,wU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},gU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},yU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},mU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},pU=function(){function t(t,n){this.Vs=void 0,this.Bst=void 0,this.Lst=void 0,this.Mst=void 0,this.Ust=void 0,this.Fst=void 0,this.Hst=void 0,this.Vst=void 0,this.Vs=_U.qR,this.Bst=new dU(t,n),this.Lst=new dU(t,n),this.Mst=new dU(t,n),this.Ust=this.Lst,this.Fst=0,this.Hst=void 0,this.Vst=!1}var n=t.prototype;return n.Wl=function(){this.Vst=!0,this.Fst=0,this.Vs=_U.qR,this.Ust=this.Lst,this.Hst=void 0,this.Lst.Wl(),this.Mst.Wl(),this.Bst.Wl()},n.zst=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Xst=function(t,n){var i=this.zst(t,n),e=(30&n)>>1,r=vU,s=!1;e<7?r=TU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Vs!==_U.os){var o=this.Ust;if(this.Vs===_U.Wst&&i!==o.mst()){var h=1+o.mst()-o.kst(),a=1+i-o.kst();o.Ist(a,h,o.kst()),o.Nst(0,a-1),o.Nst(i+1,lU-i)}o.pst(i);var c=Sx[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=Ex.IY(c,n);o.Kj(f.gQ),this.Ust.Cst(u),this.Ust.xst(s),this.Ust.Pst(r),this.Ust.Ost(fU)}}},n.qst=function(t,n){this.Ust.Cst(!1),this.Ust.xst(!1),this.Ust.Pst(vU);var i=this.Gst(t,aU.bst," ".charCodeAt(0)),e=vU,r=!1,s=1==(1&n);return"white_italics"===(e=TU[(14&n)>>1])&&(e="white",r=!0),this.Ust.Cst(s),this.Ust.xst(r),this.Ust.Pst(e),i},n.Gst=function(t,n,i){if(this.Ust.iQ(n,i),this.Vs===_U.jst||this.Vs===_U.Wst){var e=this.Qst(this.Ust,this.Fst,t);return this.Fst=t,e}return null},n.Qst=function(t,n,i){return this.Vst?null:t.gst(n,i)},n.Yst=function(t,n){var i=fU;0==(7&t)&&(i=bU[(14&n)>>1]),this.Ust.Ost(i)},n.Zst=function(t){var n=kU,i=t.Jst,e=t.v7,r=null;switch(i){case n.RCL:this.$st();break;case n.BS:this.Kst();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.tut(2,e);break;case n.RU3:r=this.tut(3,e);break;case n.RU4:r=this.tut(4,e);break;case n.FON:r=this.nut(e);break;case n.RDC:this.iut(e);break;case n.TR:this.eut();break;case n.RTD:this.rut();break;case n.EDM:r=this.sut(e);break;case n.CR:r=this.uut(e);break;case n.ENM:this.out();break;case n.EOC:r=this.hut(e)}return r},n.uut=function(t){var n=this.Ust;if(this.Vs!==_U.Wst)return null;var i=this.Qst(n,this.Fst,t),e=n.mst()-n.kst()+1;return n.Ist(e-1,e,n.kst()),n.Nst(0,e-1),n.Nst(n.mst(),lU-n.mst()),this.Fst=t,i},n.tut=function(t,n){this.Ust=this.Lst;var i=this.Ust,e=null;return this.Vs!==_U.Wst&&this.Vs!==_U.os&&(e=this.Qst(i,this.Fst,n),this.Lst.Dst(),this.Mst.Dst(),this.Vst=!1,i.pst(lU)),this.Vs=_U.Wst,i.Ast(t),e},n.nut=function(t){return this.Gst(t,aU.bst," ".charCodeAt(0))},n.sut=function(t){var n=this.Lst,i=null;return this.Vs!==_U.os&&(i=this.Qst(n,this.Fst,t)),n.yst(),this.Vst=!1,i},n.iut=function(t){this.Vs=_U.jst,this.Ust=this.Lst,this.Ust.Ast(0),this.Fst=t},n.out=function(){this.Mst.yst()},n.hut=function(t){var n=null;this.Vs!==_U.os&&(n=this.Qst(this.Lst,this.Fst,t));var i=this.Mst;return this.Mst=this.Lst,this.Lst=i,this.$st(),this.Fst=t,n},n.$st=function(){this.Vs=_U.aut,this.Ust=this.Mst,this.Ust.Ast(0)},n.Kst=function(){this.Ust.Est()},n.eut=function(){this.Bst.Wl(),this.Vst=!1,this.rut()},n.rut=function(){this.Ust=this.Bst,this.Vs=_U.os},n.cut=function(t,n,i){return this.Ust.iQ(aU.bst,n),this.Gst(t,aU.bst,i)},n.fut=function(t,n,i){var e=1&n?aU.Rst:aU.Sst;return this.Gst(t,e,i)},n.vut=function(t){var n=t.dut,i=t.Jst,e=t.v7;if(this.Hst===(n<<8|i))return this.Hst=void 0,null;if(this.Hst=n<<8|i,this.lut(n,i))this.Xst(n,i);else{if(this._ut(n,i))return this.qst(e,i);if(this.wut(n,i))this.Yst(n,i);else{if(this.gut(n,i))return this.Gst(e,aU.Tst,i);if(this.yut(n,i))return this.fut(e,n,i);if(this.mut(n,i))return this.Zst(t);this.isTabOffset(n)&&this.Ust.tQ(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.mut=function(t,n){return 20==(246&t)&&32==(240&n)},n.lut=function(t,n){return 16==(240&t)&&64==(192&n)},n._ut=function(t,n){return 17==(247&t)&&32==(240&n)},n.wut=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.gut=function(t,n){return 17==(247&t)&&48==(240&n)},n.yut=function(t,n){return 18==(246&t)&&32==(224&n)},t.kut=function(t){return 16==(112&t)},t}(),kU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.qR=0]="qR",t[t.aut=1]="aut",t[t.jst=2]="jst",t[t.Wst=3]="Wst",t[t.os=4]="os"}(_U||(_U={}));var AU,bU=["black","green","blue","cyan","red","yellow","magenta","black"],TU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],SU=function(){function t(t,n,i,e,r){this.Aut=void 0,this.dst=void 0,this.lst=void 0,this.wst=void 0,this._st=void 0,this.Aut=t,this.dst=n,this.lst=i,this.wst=e,this._st=r}var n=t.prototype;return n.ost=function(){return this.Aut},n.but=function(){return this.dst},n.Tut=function(){return this.lst},n.Sut=function(){return this.wst},n.Eut=function(){return this._st},t}(),EU=function(){function t(t){this.Rut=void 0,this.JR=void 0,this.Iut=void 0,this.Nut=void 0,this.Dut=void 0,this.Cut=void 0,this.xut=void 0,this.Put=void 0,this.Out=void 0,this.But=void 0,this.Gg=void 0,this.ast=void 0,this.Lut=void 0,this.lst=void 0,this.dst=void 0,this._st=void 0,this.wst=void 0,this.Rut=t,this.JR=!1,this.Iut=!1,this.Nut=0,this.Dut=0,this.Cut=0,this.xut=0,this.Put=0,this.Out=AU.Mut,this.But=[],this.Gg=0,this.ast=0,this.Lut=0,this.lst=!1,this.dst=!1,this._st=vU,this.wst=fU,this.Uut()}var n=t.prototype;return n.Fut=function(t,n,i,e,r,s,u){this.JR=t,this.Dut=n,this.Nut=i,this.Cut=e,this.Iut=r,this.xut=s,this.Put=u},n.Uut=function(){this.But=[];for(var t=0;t<IU;t++)this.But.push(this.Hut())},n.Hut=function(){for(var t=[],n=0;n<RU;n++)t.push(null);return t},n.Vut=function(t){this.zut()&&(this.But[this.ast][this.Lut]=new SU(t,this.dst,this.lst,this.wst,this._st),this.Lut++)},n.vQ=function(){this.zut()&&(this.Lut<=0&&this.ast<=0||(this.Lut<=0?(this.Lut=this.Put-1,this.ast--):this.Lut--,this.But[this.ast][this.Lut]=null))},n.zut=function(){var t=this.ast<this.xut&&this.ast>=0,n=this.Lut<this.Put&&this.Lut>=0;return t&&n},n.Xut=function(){return this.JR},n.Wut=function(t){for(var n=0,i=t;i<IU;i++,n++)this.But[n]=this.But[i];for(var e=0;e<t;e++,n++)this.But[n]=this.Hut()},n.qut=function(){if(this.ast+1>=this.xut)return this.Wut(1),void(this.Lut=0);this.ast++,this.Lut=0},n.Gut=function(){this.But[this.ast]=this.Hut(),this.Lut=0},n.gst=function(t,n){if(this.Gg>=t)return null;var i=cU.ust(this.But,this.Gg,t);return i?(this.Aet(t),{Og:i,uv:"svc"+n,VQ:n}):null},n.jut=function(t,n){this.ast=t,this.Lut=n},n.Qut=function(t){this.wst=t},n.Yut=function(t){this._st=t},n.Zut=function(t){this.dst=t},n.Jut=function(t){this.lst=t},n.$ut=function(){this.ast=0,this.Lut=0,this.dst=!1,this.lst=!1,this._st=vU,this.wst=fU},n.Kut=function(t){this.Out=t},n.tot=function(){this.JR=!0},n.qw=function(){this.JR=!1},n.iot=function(){this.JR=!this.JR},n.Aet=function(t){this.Gg=t},t}();!function(t){t[t.eot=0]="eot",t[t.rot=1]="rot",t[t.Mut=2]="Mut",t[t.sot=3]="sot"}(AU||(AU={}));var RU=42,IU=15,NU=function(){function t(t){this.uot=void 0,this.oot=void 0,this.hot=void 0,this.uot=t,this.oot=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.hot=void 0}var n=t.prototype;return n.aot=function(t){var n=t.cot(),i=n.ks,e=n.v7;i===OU&&(i=i<<16|t.cot().ks);return i>=0&&i<=31?this.fot(i,e):i>=128&&i<=159?this.vot(t,i,e):(i>=4096&&i<=4127?this.dot(t,255&i):i>=4224&&i<=4255?this.lot(t,255&i):i>=32&&i<=127?this._ot(i):i>=160&&i<=255?this.wot(i):i>=4128&&i<=4223?this.got(255&i):i>=4256&&i<=4351&&this.yot(255&i),null)},n._ot=function(t){this.hot&&(127!==t?this.hot.Vut(String.fromCharCode(t)):this.hot.Vut("\u266a"))},n.wot=function(t){this.hot&&this.hot.Vut(String.fromCharCode(t))},n.got=function(t){if(this.hot)if(void 0!==BU[t]){var n=BU[t];this.hot.Vut(n)}else this.hot.Vut("_")},n.yot=function(t){this.hot&&(160===t?this.hot.Vut("[CC]"):this.hot.Vut("_"))},n.fot=function(t,n){if(!this.hot)return null;var i=this.hot,e=null;switch(t){case DU:i.vQ();break;case xU:i.Xut()&&(e=i.gst(n,this.uot)),i.qut();break;case PU:i.Xut()&&(e=i.gst(n,this.uot)),i.Gut();break;case CU:i.Xut()&&(e=i.gst(n,this.uot)),i.Uut(),i.jut(0,0)}return e},n.vot=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.mot(e)}else{if(136===n){var r=t.cot().ks;return this.pot(r,i)}if(137===n){var s=t.cot().ks;this.kot(s,i)}else{if(138===n){var u=t.cot().ks;return this.Aot(u,i)}if(139===n){var o=t.cot().ks;return this.bot(o,i)}if(140===n){var h=t.cot().ks;return this.Tot(h,i)}if(143===n)return this.Wl(i);if(144===n)this.Sot(t);else if(145===n)this.Eot(t);else if(146===n)this.jut(t);else if(151===n)this.Rot(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Fut(t,a,i)}}}return null},n.dot=function(t,n){n>=8&&n<=15?t.jp(1):n>=16&&n<=23?t.jp(2):n>=24&&n<=31&&t.jp(3)},n.lot=function(t,n){n>=128&&n<=135?t.jp(4):n>=136&&n<=143&&t.jp(5)},n.mot=function(t){this.oot[t]&&(this.hot=this.oot[t])},n.Iot=tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.oot[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.pot=function(t,n){for(var i=null,e=0,r=this.Iot(t);e<r.length;e++){var s=r[e],u=this.oot[s];u.Xut()&&(i=u.gst(n,this.uot)),u.Uut()}return i},n.kot=function(t,n){for(var i=0,e=this.Iot(t);i<e.length;i++){var r=e[i],s=this.oot[r];s.Xut()||s.Aet(n),s.tot()}},n.Aot=function(t,n){for(var i=null,e=0,r=this.Iot(t);e<r.length;e++){var s=r[e],u=this.oot[s];u.Xut()&&(i=u.gst(n,this.uot)),u.qw()}return i},n.bot=function(t,n){for(var i=null,e=0,r=this.Iot(t);e<r.length;e++){var s=r[e],u=this.oot[s];u.Xut()?i=u.gst(n,this.uot):u.Aet(n),u.iot()}return i},n.Tot=function(t,n){for(var i=null,e=0,r=this.Iot(t);e<r.length;e++){var s=r[e],u=this.oot[s];u.Xut()&&(i=u.gst(n,this.uot)),this.oot[s]=void 0}return i},n.Wl=function(t){var n=this.Tot(255,t);return this.ph(),n},n.ph=function(){this.hot=void 0,this.oot=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Sot=function(t){t.jp(1);var n=t.cot().ks;if(this.hot){var i=(128&n)>0,e=(64&n)>0;this.hot.Jut(i),this.hot.Zut(e)}},n.Eot=function(t){var n=t.cot().ks,i=t.cot().ks;if(t.jp(1),this.hot){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.Not(s,r,e),c=this.Not(h,o,u);this.hot.Yut(a),this.hot.Qut(c)}},n.jut=function(t){var n=t.cot().ks,i=t.cot().ks;if(this.hot){var e=15&n,r=63&i;this.hot.jut(e,r)}},n.Rot=function(t){t.jp(1),t.jp(1);var n=t.cot().ks;if(t.jp(1),this.hot){var i=3&n;this.hot.Kut(i)}},n.Fut=function(t,n,i){var e=void 0!==this.oot[n];if(!e){var r=new EU(n);r.Aet(i),this.oot[n]=r}var s=t.cot().ks,u=t.cot().ks,o=t.cot().ks,h=t.cot().ks,a=t.cot().ks,c=t.cot().ks,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),w=(240&h)>>4,g=1+(63&a);e&&0===(7&c)||this.oot[n].$ut(),this.oot[n].Fut(f,v,l,w,d,_,g),this.hot=this.oot[n]},n.Not=function(t,n,i){var e={0:0,1:0,2:1,3:1};return LU[e[t]<<2|e[n]<<1|e[i]]},t}(),DU=8,CU=12,xU=13,PU=14,OU=16,BU={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},LU=["black","blue","green","cyan","red","magenta","yellow","white"],MU=function(){function t(){this.Dot=void 0,this.Cot=void 0,this.xot=void 0,this.Dot=[],this.Cot=null,this.xot=0}var n=t.prototype;return n.Pot=function(t){if(t.do===VC.jj){var n=63&t.ks;return this.xot=2*n-1,void(this.Cot=[])}if(this.Cot&&(this.xot>0&&(this.Cot.push(t),this.xot--),0===this.xot)){var i=new UU(this.Cot);this.Dot.push(i),this.Cot=null,this.xot=0}},n.Oot=function(){return this.Dot},n.Bot=function(){this.Dot=[]},n.ph=function(){this.Dot=[],this.Cot=[],this.xot=0},t}(),UU=function(){function t(t){this.Lot=void 0,this.Mot=void 0,this.Lot=0,this.Mot=t}var i=t.prototype;return i.Uot=function(){return this.Lot<this.Mot.length},i.Fot=function(){return this.Lot},i.cot=function(){if(!this.Uot())throw new Po(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Mot[this.Lot++]},i.jp=function(t){if(this.Lot+t>this.Mot.length)throw new Po(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Lot+=t},t}(),FU=function(){function t(){this.Hot=void 0,this.Vot=void 0,this.zot=void 0,this.Xot=void 0,this.Wot=void 0,this.qot=void 0,this.Got=void 0,this.jot=void 0,this.Qot=!1,this.Hot=[],this.Vot=[],this.zot=new MU,this.Xot=0,this.Wot=sr({CC1:new pU(0,0),CC2:new pU(0,1),CC3:new pU(1,0),CC4:new pU(1,1)}),this.qot=0,this.Got=0,this.jot=rr(),this.Wl()}var i=t.prototype;return i.ph=function(){this.Xot=0,this.Hot=[],this.Vot=[],this.zot.ph(),this.Wl(),this.jot.forEach(function(t){t.ph()})},i.Wl=function(){this.qot=0,this.Got=0,this.Wot.forEach(function(t){t.Wl()})},i.V5=function(t,n){if(t.pY){var i=t.AY,e=t.bY,r=t.do;r===VC.Wj||r===VC.qj?this.Hot.push({v7:n,do:r,dut:i,Jst:e,Yot:this.Hot.length}):this.Qot&&(this.Vot.push({v7:n,do:r,ks:i,Yot:this.Vot.length}),this.Vot.push({v7:n,do:VC.Gj,ks:e,Yot:this.Vot.length}))}},i.DD=function(){var t=[];Wr(this.Hot,function(t,n){return t.v7-n.v7||t.Yot-n.Yot}),Wr(this.Vot,function(t,n){return t.v7-n.v7||t.Yot-n.Yot});for(var n=0,i=this.Hot;n<i.length;n++){var e=i[n],r=this.Zot(e);r&&t.push(r)}for(var s=0,u=this.Vot;s<u.length;s++){var o=u[s];this.zot.Pot(o)}for(var h=this.zot.Oot(),a=0;a<h.length;a++){var c=h[a],f=this.Jot(c);t.push.apply(t,f)}return this.zot.Bot(),this.Hot=[],this.Vot=[],t},i.Zot=function(t){var n=t.do;if(pU.kut(t.dut)){var i=t.dut>>3&1;0===n?this.qot=i:this.Got=i}var e="CC"+(n<<1|(n?this.Got:this.qot)+1),r=this.Wot.get(e);return 255===t.dut&&255===t.Jst||!t.dut&&!t.Jst||!this.$ot(t.dut)||!this.$ot(t.Jst)?(++this.Xot>=45&&this.Wl(),null):(this.Xot=0,t.dut&=127,t.Jst&=127,t.dut||t.Jst?pU.kut(t.dut)?r.vut(t):r.cut(t.v7,t.dut,t.Jst):null)},i.Jot=function(t){var i=[];try{for(;t.Uot();){var e=t.cot().ks,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.cot().ks;if(0!==r){if(!this.jot.has(r)){var u=new NU(r);this.jot.set(r,u)}for(var o=this.jot.get(r),h=t.Fot();t.Fot()-h<s;){var a=o.aot(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Po&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.$ot=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),HU=function(t){function n(n){var i;return(i=t.call(this)||this).F0=void 0,i.Kot=[],i.F0=n,i}U(n,t);var i=n.prototype;return i.tht=function(t,n,i){var e=this.nht(t),r=this.iht(e);this.eht(r,n,i),this.DD()},i.nht=function(t){if(0===t.length)return[];for(var n=t[0].S7,i=this.rht(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.S7&&(n=s.S7,i=this.rht(s)),e.push(nr({},s,{sst:s.C6.wg(i)}))}return e},i.rht=function(t){var n=this.F0.r6(t.S7,t.C6),i=n.Ey(t.C6);return Fw(n,t.C6).Ey(i)},i.iht=function(t){var n,i,e,r,s,u=t.slice().sort(hU),o=this.Kot;if(o.length)if(u.length){var h=1/u[0].S7.U0,a=u[0].sst,c=o[0].sst,f=o[o.length-1].sst,v=(r=o[0].S7,s=u[0].S7,r.JK===s.JK);if(f.Ey(a).Ay(Iw.mm(2.5*h))&&v)n=o.concat(u).sort(hU);else if(a.yy(c)){for(var d=0;d<o.length&&o[d].sst.Ay(a);)d++;for(var l=!1,_=!1,w=d,g=0;w<o.length&&g<u.length;w++,g++)i=o[w],e=u[g],i.C6.ty(e.C6)&&i.do===e.do&&i.AY===e.bY?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(hU):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Wl())}else n=u,this.Wl()}else n=o;else n=u;return n},i.eht=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Ey(e.sst),s=Fw(n,e.sst).Ey(r),u=n.wg(s),o=oU.dm(u.hm),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Ey(a.sst).Ay(o))return void(this.Kot=t.slice(h));var c=this.F0.r6(a.S7,a.C6);this.mY(a,c._y())}this.Kot=[]}},L(n,[{key:"vA",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).sht=void 0,n.sht=new FU,n}U(n,t);var i=n.prototype;return i.mY=function(t,n){this.sht.V5(t,n)},i.DD=function(){for(var t=this.sht.DD(),n=0;n<t.length;n++){var i=t[n];this.jo(new mx(i.VQ,i.Og))}},i.Wl=function(){this.sht.ph()},i.Zv=function(){this.Jo(),this.sht.ph()},n}(Is)),VU=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).uht=!1,f.oht=!1,f.Z8=void 0,f.I2=void 0,f.hht=void 0,f.Nrt=void 0,f.aht=void 0,f.Cit=void 0,f.ea=void 0,f.Nb=void 0,f.cht=void 0,f.fht=!1,f.vht=void 0,f.dht=void 0,f._ht=!1,f.wht=!1,f.ght=null,f.iN=void 0,f.Z0=void 0,f.yht=void 0,f.mht=null,f.Lg=-1,f.pht=null,f.kht=!1,f.Aht=!1,f.bht=1/0,f.Tht=void 0,f.Sht=null,f.Eht=0,f.Rht=void 0,f.Go=function(t){f.dispatchEvent(t)},f.Iht=function(){!f.fht&&!f._ht&&f.Nht&&f.uht&&(f._ht=f.Dht("IK",f.vht,function(){f._ht=!1}))},f.Cht=function(){!f.fht&&!f.wht&&f.xht&&f.oht&&(f.wht=f.Dht("NK",f.dht,function(){f.wht=!1}))},f.Pht=function(t){return f.Oht()},f.Bht=function(t){if(t.Fk===f.Fk){var n=t.S7,i=n.b5;i.k6&&f.Lht(i.k6,n.info),i.R6&&f.Mht(i.R6,n.info),f.Oht(f.Z8.r9,!0)}},f.G1=function(t){var n=t;f.Uht(n.L0,n.JK)},f.Fht=function(t){if(1===t.VQ){if(f.mht)for(var n=0;n<f.mht.vA;n++){var i="CC"+(n+1);f.I2.w1(i,t.Og.Bg,t.Og.Lg)}f.I2._1(t.Og)}},f.iN=a,f.I2=i,f.hht=e,f.Nrt=r,f.aht=s,f.Cit=u,f.ea=o,f.Z8=c,f.Nb=new FM(o),f.cht=f.Hht(i),r.Vl(n,f.Nb,f.Cit),f.vht=new RM(u,f.Nb),f.dht=new RM(u,f.Nb),f.mht=f.Vht(f.Nb),f.Rht=new eU(n,f.Nb,f.cht,r),r.addEventListener("T7",f.Bht),f.Nb.addEventListener("hh",f.Go),i.addEventListener("P1",f.G1),f}U(n,t);var i=n.prototype;return i.Dht=function(t,n,i){var e=this,r=this.Cit.o9,s=5*this.Cit.uw,u=this.zht(),o="audio"===this.Fk?[this.Xht]:this.cht.EK,h=n.jit(),a=h[0],c=h[1],f=this.Nrt.Z7(this.Fk,t,this.Nb,o,a,c||void 0,r,s,u);return f&&!f.length&&f.M7?(this.Cit.Wht("IK"===t,"NK"===t),!1):!(!f||!f.length)&&(this.aht.Ltt(this.Fk,this.I2,f,f.U7,f.G7,f.M7,function(t,r){if(i(),t)e.dispatchEvent({type:"hh",hh:t});else{var s=r;n.Uit(s).then(function(){return e.dispatchEvent("U2")}).catch(function(t){0})}}),!0)},i.qht=function(){this.aht.Fo(this.Fk),this._ht=!1,this.wht=!1},i.Ght=function(){var t=this.Cit.o9,n=this.vht.Xit(t)||this.dht.Xit(t);!n||this.ght&&this.ght.s$===n.s$||(this.Oht(this.Z8.r9),this.ght=n,this.dispatchEvent({type:"jht",Ob:this.ght.Rh.T5}))},i.Qht=function(){this.Yht()},i.Zht=function(){this.Qht()},i.Jht=function(){this.Oht(this.Z8.r9)},i.$ht=function(t,n){this.vht.Xit(t)||this.dht.Xit(t)||(this.ght=null)},i.Kht=function(t){var n=!1;this.vht.Git().gg(t)||(this.Iht(),n=!0),this.dht.Git().gg(t)||(this.Cht(),n=!0),n&&this.Oht(this.Z8.r9,!0)},i.tat=function(){this.vht.ph()},i.nat=function(){this.dht.ph()},i.zht=function(){return 0===this.vht.Gl+this.dht.Gl?0:"x7"===this.ea.P7?0:1*this.Nrt.s9},i.Yht=function(){this.Iht(),this.Cht()},i.b2=function(t){return-1!==this.cht.EK.indexOf(t)},i.iat=function(t){t&&this.b2(t)&&(this.z0(t),this.D1(t))},i.z0=function(t){this.Nb.Vet(t,t.R$)},i.D1=function(t){var n=this;if(t&&t.R$&&this.ea.hlsDateRange){this.I2.D1(t.R$.dateRanges,function(i){return n.Nb.Ket(t,i)._y()})}},i.eat=function(t){this.b2(t.JK)&&this.Nb.det(t.JK,t)},i.rat=function(t){var n,i,e,r=t,s=this.vht.Xit(r)||this.dht.Xit(r);if(s)i=s.Rh.quality,e=s.s$,n=s.rI;else{var u=this.Xht;if(!u)return null;var o=this.Nb.W7(u,Iw.mm(r));if(!o)return null;i=u,e=o.jk.s$,n=o.$et._y()}var h=this.Nb.Jet(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i.Ket=function(t){var n=this.Xht;return this.Nb.Ket(n,t)._y()},i.Oht=function(t,n){var i=this,e=this.sat(),r=this.Cit.o9;t&&(this.Lg=r+t,n&&(this.Sht=null,this.Eht=0)),this.sat()||r>=this.Lg?this.uat(e):this.pht||this.kht||!this.n_||(this.oat(),this.hat(function(t){return i.aat(r,i.Cit.uw,t)}))},i.fat=function(t){t&&this.hht.removeEventListener(t.uri,this.Pht)},i.vat=function(t){t&&this.hht.addEventListener(t.uri,this.Pht)},i.sat=function(){return-1===this.Lg},n.dat=function(t){return pP.vw(t.JK.f0)&&zb()-t.Ik>2e3*t.JK.R$.metadata.Snt},i.hat=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.pht=new cs,e=this.pht,t.prev=3,t.next=6,n(e.zo);case 6:i=t.sent,ds(e.zo),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),_s(t.t0);case 13:return t.prev=13,this.pht===e&&(this.pht=null),t.finish(13);case 16:i&&this.Oht();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.oat=function(){this.pht&&(this.pht.Fo(),this.pht=null)},i.lat=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i._at=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!jU.dat(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("wat"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.Eht)),this.Eht+=1,this.oat(),!(this.Eht>2)){t.next=8;break}return n.JK.KK(!1),t.abrupt("return",n.JK.r0());case 8:this.hat(function(t){return Ts(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lht=function(t,n){var i,e;e=HP((i=t).A6,4),i.l1="0000.0000.0000."+e,function(t){var n=HP(t.b6,4),i=HP(t.T6,3),e=HP(t.S6,2*t.T6);t.d_=(n+i+e).toUpperCase()}(t),IM(n,this.Nb,t),this.I2.d1(t,this.Nb)},i.Mht=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(nr({},r,{S7:n}))}this.mht&&this.mht.tht(i,n.H8,n.N5)},i.gat=function(t){this.Tht&&this.Tht.S7===t&&this.Oht()},i.yat=function(t,n){if(n){if(n.aborted)return;if(this.Sht===t)return this._at(t)}else t.JK.KK(!0);return this.Oht()},i.mat=function(t){var n=NP(t.JK.L0);n&&this.dispatchEvent(new sU(AP(t.uri),t.JK.bandwidth||0,t.s$,t.JK.s$,n))},i.pat=function(t,n){var i=this.Tht&&this.Tht.Tv.K3||200,e=NP(t.JK.L0);e&&this.dispatchEvent(new uU(AP(t.uri),t.JK.bandwidth||0,t.s$,t.JK.s$,e,i,n&&n.J3.w4||0))},i.uat=function(t){this.Lg=-1,t||this.dispatchEvent("kat")},i.Aat=function(t){this.Aht=!0,this.uat(t),this.dispatchEvent("n3")},i.aat=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(e),r=this.Xht,s=this.sat(),this.fat(r||void 0),!(n>=this.Lg)){t.next=7;break}return this.uat(s),t.abrupt("return",!1);case 7:return t.next=9,this.Rht.nst(n,this.Lg,i,r||void 0,this.zht(),this.Tht&&this.Tht.Tv,this.Tht&&this.Tht.S7,this.bat,this.Tat);case 9:if(u=t.sent,yl.D_(this.Nrt.H9/8),ds(e),u.r_!==WM.Rrt){t.next=18;break}return this.oat(),this.dispatchEvent("wat"),t.abrupt("return",!1);case 18:if(u.r_!==WM.Ert){t.next=29;break}if(u.JK!==r){t.next=24;break}return this.vat(r),t.abrupt("return",!1);case 24:return t.next=26,this.lat(u.JK,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.r_!==WM.ptt){t.next=33;break}return this.vat(r||void 0),!pP.vw(r.f0)&&r.R$&&this.Aat(s),t.abrupt("return",!1);case 33:if(o=u.jk,!this.Tht||this.Tht.S7!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.JK===r){t.next=40;break}return t.next=39,this.lat(o.JK,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.Tht&&(this.Tht.Tv.Fo(),this.Tht=void 0),!(u.Bg>this.bht)){t.next=46;break}return this.Aat(s),t.abrupt("return",!1);case 46:if(!(u.Bg>this.Lg)){t.next=49;break}return this.uat(s),t.abrupt("return",!1);case 49:if(this.Aht=!1,this.Tht=void 0,o!==this.Sht&&(this.Eht=0),this.Sht=o,this.dispatchEvent("t3"),this.mat(o),!o.pnt){t.next=59;break}return t.next=58,this.Nrt.A7(this.Fk,o.JK,o.pnt);case 58:h=t.sent;case 59:return(a=this.Nrt.b7(this.Fk,o,h,function(t,n){c.oat(),c.pat(o,n),c.Tht=void 0,e&&e.Io||c.yat(o,t)}))&&(this.Tht={S7:o,Tv:a},a.addEventListener("U2",function(){e&&e.Io||c.gat(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.Sat=function(t){this.Oht(t||this.Z8.r9,!0)},i.Eat=function(){var t=this.sat();this.Lg=-1,this.Tht&&this.Tht.Tv.Fo(),this.Tht=void 0,this.fat(),this.Aht=!1,this.Sht=null,this.Eht=0,this.oat(),this.uat(t),this.mht=this.Vht(this.Nb)},i.Rat=function(){this.kht=!0,this.fat(),this.oat()},i.Iat=function(){this.kht=!1,this.Oht()},i.Nat=function(){this.fht=!0},i.Dat=function(){this.fht=!1,this.Yht()},i.Zv=function(){this.Jo(),this.Eat(),this.qht(),this.Nht=null,this.xht=null,this.vht.Zv(),this.dht.Zv(),this.aht.Fo(this.Fk),this.Nb.Zv(),this.I2.removeEventListener("P1",this.G1),this.Nrt.removeEventListener("T7",this.Bht),this.cht=null,this.Cat()},i.Wl=function(){this.ght=null,this.Z0=void 0,this.yht=void 0,this.Cat(),this.mht=this.Vht(this.Nb)},i.Vht=function(t){var n=new HU(t);return n.Qo("zQ",this.Fht),n},i.Cat=function(){this.mht&&(this.mht.$o("zQ",this.Fht),this.mht.Zv(),this.mht=null)},L(n,[{key:"tw",get:function(){return this.Cit.o9}},{key:"xat",get:function(){return this.uht}},{key:"Fk",get:function(){return this.Pat()}},{key:"d0",get:function(){return this.Oat()}},{key:"bat",get:function(){return this.Bat()}},{key:"Tat",get:function(){return this.Lat()}},{key:"Nht",get:function(){return this.vht.zit},set:function(t){var n=this.vht.zit;n&&n.removeEventListener("updateend",this.Iht),this.vht.zit=t,t&&(t.addEventListener("updateend",this.Iht),this.Iht())}},{key:"xht",get:function(){return this.dht.zit},set:function(t){var n=this.dht.zit;n&&n.removeEventListener("updateend",this.Cht),this.dht.zit=t,t&&(t.addEventListener("updateend",this.Cht),this.Cht())}},{key:"kat",get:function(){return this.sat()}},{key:"n3",get:function(){return this.Aht}},{key:"Mat",get:function(){return this.bht},set:function(t){this.bht=t}},{key:"Xht",get:function(){return this.Uat()}},{key:"Fat",get:function(){return this.Hat()},set:function(t){this.Vat(t)}},{key:"n_",get:function(){return this.zat()}},{key:"cg",get:function(){return this.Xat()}}]),n}(tP);function zU(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function XU(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){zU(e,n[s])&&(r=!0)}r||n.push(e)}return n}function WU(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var qU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).I2=void 0,o.Nb=void 0,o.Nrt=void 0,o.ea=void 0,o.Wat=void 0,o.qat=void 0,o.Gat=null,o.jat=null,o.Qat=null,o.Yat=null,o.Zat=null,o.Jat=null,o.$at=null,o.Kat=!1,o.Ag=!0,o.FK=!0,o.tct=null,o.iN=void 0,o.nct=function(){o.tct&&o.tct.disabled&&o.ict(o.ea.initialRendition||"default"),o.ect(!0)},o.rct=function(){var t=o.I2.H1.RK.some(function(t){return t.cg});o.sct(t)},o.uct=function(t){"variant"===t.Fk&&(o.Nrt.removeEventListener("D7",o.uct),o.tct&&(o.tct=null,o.ect(!1)))},o.iN=u,o.I2=n,o.Nb=i,o.Nrt=e,o.ea=r,o.Wat=r.hct||[],o.qat=new yM(r,lO.es.S3,s),o.Gat=null,o.Nrt.addEventListener("D7",o.uct),o.act(),o.cct(),o.ict(r.initialRendition||"default"),o}U(n,t);var i=n.prototype;return i.fct=function(t,n){var i=EP(t);if(i&&!i.disabled)return i;var e=this.vct(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.s$<=n.s$?t:n});case"high":var r=XU(e);return r[r.length-1];case"low":default:return XU(t)[0]}},i.dct=function(t,n){var i=this.lct||this.tct&&[this.tct],e=i&&i.filter(function(n){return is(t,n)});return e&&e.length>0?XU(e):XU(this.vct(t,n))},i.vct=function(t,n){var i=this.ea,e=this.Wat,r=this._ct();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].wct(t,n,r,i))return!1}return!0})},i.gct=function(t,n){var i=this.dct(t,n);return i.length?i[i.length-1]:t[0]},i.yct=function(t,n){var i=this.lct;return i&&i.length>0?i.filter(function(n){return is(t,n)}):t},i.mct=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.Yat,r=this.Zat,!e||n!==this.Jat||i!==this.$at){t.next=4;break}return t.abrupt("return",e);case 4:return s=new cs,u=this.pct(n,i,s.zo),e&&r&&r.Fo(),this.Yat=u,this.Zat=s,this.$at=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Yat&&(this.Yat=null,this.Zat=null,this.$at=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.pct=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.I2,s=this.Nb,u=r.F1,t.next=5,this.kct(n,e);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.mrt(u,i.s$),h=s.W7(n,o),pP.vw(u.f0)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.kct=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.jat,r=this.Qat,!e||n!==this.Jat){t.next=4;break}return t.abrupt("return",e);case 4:return(s=new cs).Ho(i),u=this.Act(n,s.zo),e&&r&&r.Fo(),this.jat=u,this.Qat=s,this.Jat=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.jat&&(this.jat=null,this.Qat=null,this.Jat=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Act=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.I2,r=e.F1,!this.n_||r!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.bct(n)){t.next=8;break}s=n.R$,t.next=22;break;case 8:return t.prev=8,t.next=11,this.qat.jh(n.uri,{});case 11:u=t.sent,ds(i),s=u.ww,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.YK(!1),n.r0(),t.abrupt("return",!1);case 21:n.qK(s,r);case 22:if(!WU(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.bct=function(t){var n=t.R$;return!n||!!n.live&&(!t.S$.Gl||t.S$.a$(t.S$.Gl-1).Ik+1e3*n.targetDuration<zb())},i.Tg=function(t){t?this.Ag||(this.Ag=!0,this.dispatchEvent("n_")):this.Ag&&(this.Ag=!1)},i.sct=function(t){t&&!this.FK?(this.FK=!0,this.dispatchEvent("cg")):!t&&this.FK&&(this.FK=!1,this.dispatchEvent("ed"))},i.ect=function(t){var n=this,i=this.I2,e=i.F1,r=i.H1.RK,s=this.yct(r,e),u=this.gct(s,e);u?this.mct(u,null).then(function(e){e&&(i.g1(u,t),n.Tg(!0))}):this.Tg(!1)},i.Tct=function(){this.tct=null,this.ect(!0)},i.cct=function(){this.I2.H1.addEventListener("bK",this.rct)},i.Sct=function(){this.I2.H1.removeEventListener("bK",this.rct)},i.act=function(){this.I2.H1.addEventListener("kK",this.nct)},i.Ect=function(){this.I2.H1.removeEventListener("kK",this.nct)},i.ict=function(t){var n=this.I2,i=n.H1.RK;if(Boolean(n.F1&&!n.F1.disabled))this.tct=null;else{if(i&&i.length){var e;switch(this.iN.BP.type){case HT.PERFORMANCE:e="low";break;case HT.QUALITY:e="high";break;case HT.BANDWIDTH:e=t}this.tct=this.fct(i,e),this.Kat=!0}var r=this.yct(i,null),s=this.gct(r,null);s&&(n.F1=s)}},i._ct=function(){return this.Kat?{H9:this.Nrt.H9}:{H9:this.iN.qP}},i.Fo=function(){this.Yat&&this.Zat&&(this.Zat.Fo(),this.Yat=null,this.Zat=null,this.$at=null),this.jat&&this.Qat&&(this.Qat.Fo(),this.jat=null,this.Qat=null,this.Jat=null)},i.Zv=function(){this.Nrt.removeEventListener("D7",this.uct),this.Ect(),this.Sct(),this.Fo(),this.Gat=null,this.tct=null},i.Rct=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.I2,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.mct(n,i);case 5:return(r=t.sent)&&(e.F1=n),t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"n_",get:function(){return this.Ag}},{key:"cg",get:function(){return this.FK}},{key:"Tat",get:function(){var t=this.I2,n=t.F1,i=this.yct(t.H1.RK,n);return this.dct(i,n)}},{key:"bat",get:function(){return this.yct(this.I2.H1.RK,this.I2.F1)}},{key:"lct",get:function(){return this.Gat},set:function(t){this.Gat=t,this.Tct()}}]),n}(tP),GU=function(){function t(t,n){this.gl=void 0,this.Nb=void 0,this.Ict=-1,this.gl=t,this.Nb=n}return t.prototype.Yh=function(t){for(var n=t.S$,i=n.h$(this.Ict),e=i<0?0:i+1;e<n.Gl;e++){var r=n.a$(e);if(r.s$>this.Ict){var s=this.Nb.t6(r),u=this.Nb.n6(r,s),o=new hw(s._y(),u._y(),[].concat(r.u0),!1,r.s$.toString());this.gl.nT(o),this.Ict=r.s$}}},t}(),jU=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,yP.dK,n,i,e,r,s,u,o,h,a)||this).Nct=void 0,c.Dct=null,c.Cct=null,c.Nct=new qU(n,c.Nb,e,u,o,h),c.Nct.addEventListener("n_",c.Go),c.Nct.addEventListener("cg",c.Go),c.Nct.addEventListener("ed",c.Go),u.manifestMetadataTrack&&(c.Dct=n.v1("",c.Nb,""),c.Cct=new GU(c.Dct,c.Nb)),c.uht=!c.I2.R1||!c.I2.R1.uri,c.oht=Boolean(c.I2.F1),c}U(n,t);var i=n.prototype;return i.Uht=function(t,n){if("IK"===t){var i=n?n.uri:void 0;this.uht=!i}},i.Pat=function(){return yP.dK},i.Oat=function(){return this.Xht&&this.Xht.d0||!1},i.Uat=function(){return this.I2.F1},i.Bat=function(){return this.Nct.bat},i.Lat=function(){return this.Nct.Tat},i.Hat=function(){var t=this.Nct.lct;return t&&t.map(function(t){return t.i_})},i.Vat=function(t){if(t&&t.length>0){var n=this.cht.EK.filter(function(n){return-1!==t.indexOf(n.i_)});if(!(n.length>0))return void 0;this.Nct.lct=n}else this.Nct.lct=null},i.zat=function(){return this.Nct.n_},i.Xat=function(){return this.Nct.cg},i.lat=function(){var n=T.coroutine(tr.mark(function n(i,e){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.Nct.Rct(i,e);case 2:return n.abrupt("return",t.prototype.lat.call(this,i,e));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Eat=function(){t.prototype.Eat.call(this),this.Nct.Fo()},i.z0=function(n){t.prototype.z0.call(this,n),this.Cct&&this.Cct.Yh(n)},i.Zv=function(){t.prototype.Zv.call(this),this.Nct.Zv(),this.Nct.removeEventListener("cg",this.Go),this.Nct.removeEventListener("ed",this.Go)},i.Hht=function(t){return t.H1},i.xct=function(){var t=this.tw,n=this.xat?this.vht.Wit(t):void 0,i=n?n.JK:void 0,e=this.dht.Wit(t),r=e?e.JK:void 0,s=this.Z0;this.Z0=i;var u=this.yht;return this.yht=r,!s&&i?{O1:s,Pct:i}:!u&&r?{O1:u,Pct:r}:u&&r&&u.i_!==r.i_?{O1:u,Pct:r}:void 0},n}(VU),QU=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,yP.Hv,n,i,e,r,s,u,o,h,a)||this).uht=!!c.I2.R1&&!!c.I2.R1.uri,c.oht=!1,c}U(n,t);var i=n.prototype;return i.Uht=function(t,n){if("IK"===t){var i=n?n.uri:void 0;this.uht=!!i}},i.Pat=function(){return yP.Hv},i.Oat=function(){return this.Xht&&this.Xht.d0||!1},i.Uat=function(){return this.I2.R1},i.Bat=function(){var t=this.Uat();return t?[t]:[]},i.Lat=function(){return this.Bat()},i.Hht=function(t){return t.C0},i.Hat=function(){return null},i.Vat=function(t){},i.zat=function(){return!0},i.Xat=function(){return!0},i.xct=function(){var t=this.xat?this.vht.Wit(this.tw):void 0,n=t?t.JK:void 0,i=this.Z0;return this.Z0=n||void 0,!i&&n?{O1:i,Pct:n}:i&&n&&i.i_!==n.i_?{O1:i,Pct:n}:void 0},n}(VU),YU=function(){function t(t,i,e,r,s,u){var o=this;this.Oct=!1,this.y$=void 0,this.Bct=void 0,this.n9=void 0,this.Lct=void 0,this.Z8=void 0,this.IM=iA.zI(),this.Mct=[],this.Uct=void 0,this.Fct=[],this.V0=function(){return o.Hct()},this.Vct=function(t){t.ww.live||o.Bct.removeEventListener(o.y$.J$,o.Vct),o.y$.qK(t.ww)},this.zct=function(){o.y$.W0.l_===rl.a_?o.Oct&&o.Xct():o.Oct||o.Wct()},this.Aa=function(t){if(!vs(t)){var i=t instanceof fy?t:new fy(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.y$.J$,0,t);o.y$.W0.g_=W_.ERROR,o.y$.W0.jo(new Ty(i))}},this.y$=t,this.Bct=i,this.n9=e,this.Z8=u,this.Lct=new kO(r,s),this.Uct=new cs,t.W0.Qo(Id.Il,this.zct),t.Nb&&t.Nb.addEventListener("q0",this.V0),this.zct()}var i=t.prototype;return i.Wct=function(){this.Oct||this.y$.W0.l_===rl.a_||(this.Bct.removeEventListener(this.y$.J$,this.Vct),this.Bct.addEventListener(this.y$.J$,this.Vct),this.Bct.lit(this.y$.J$),this.Bct._it(this.y$.J$),this.Oct=!0,this.qct(this.Uct.zo).catch(this.Aa))},i.qct=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(n),t.next=4,this.Gct(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gct=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h,a,c,f,v,d,l,_,w,g;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.n9.o9,e=this.Z8.r9,r=new iA([i,i+e]),(s=r.gI(this.IM.yI())).Gl){t.next=9;break}return t.next=8,Ts(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.rI(0),o=this.jct(u)){t.next=15;break}return t.next=14,Ad(this.y$,"ZK",n);case 14:return t.abrupt("return");case 15:return h=o.jk,a=o.$et._y(),c=a+h.duration,t.prev=18,t.next=21,this.Lct.I4("W0",h.uri,th.os,xf.Iv,Pf.os);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),ls(t.t0),t.next=29,Ts(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=ng(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),Ay(q_.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.zm||{Xm:Iw.By,Wm:Iw.By},l=this.y$.S$.c$(h.s$),this.IM=this.IM.bI(new iA([a,c])),this.Mct.push(h.s$),_=0,w=v.y_;_<w.length;_++)g=w[_],this.Fct.push({S7:l,$et:ZU(Iw.mm(g.Bg),d.Wm,d.Xm),Qct:ZU(Iw.mm(g.Lg),d.Wm,d.Xm),Og:g});this.Hct();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Hct=function(){var t=this.y$.Nb;if(this.Fct.length&&t){for(var n=[],i=0,e=this.Fct;i<e.length;i++){var r=e[i],s=t.r6(r.S7,r.$et);if(s.Ry())n.push(r);else{var u=t.r6(r.S7,r.Qct),o=new cw(s._y(),u._y(),r.Og.Mg,!1,r.Og.i_);this.y$.W0.nT(o)}}this.Fct=n,this.y$.W0.Xz(this.n9.o9,!0)}},i.jct=function(t){var n=this.y$.Nb,i=this.y$.S$;if(n.Get)for(var e=n.irt._y(),r=i.Gl-1;r>=0;r-=1){var s=i.a$(r),u=e-s.duration;if(new iA([u,e]).gR(t,.5)){var o={jk:s,$et:Iw.mm(u)};return this.Yct(i,o,r)}e=u}else for(var h=0,a=0;a<i.Gl;a+=1){var c=i.a$(a),f=h+c.duration;if(new iA([h,f]).gR(t,.5)){var v={jk:c,$et:Iw.mm(h)};return this.Yct(i,v,a)}h=f}},i.Yct=function(t,n,i){var e=n.jk;if(-1===this.Mct.indexOf(e.s$))return n;for(var r=n.$et._y()+e.duration,s=i+1;s<t.Gl;s+=1){var u=t.a$(s);if(-1===this.Mct.indexOf(u.s$))return{jk:u,$et:Iw.mm(r)};r+=u.duration}},i.Xct=function(){this.Oct=!1,this.Bct.dit(this.y$.J$),this.Uct.Fo(),this.Uct=new cs},i.Wl=function(){this.Xct(),this.IM=iA.zI(),this.Mct.length=0,this.y$.W0.$o(Id.Il,this.zct),this.y$.Nb&&this.y$.Nb.removeEventListener("q0",this.V0),this.Bct.removeEventListener(this.y$.J$,this.Vct)},t}();function ZU(t,n,i){return Uw(i,t.Ey(n))}var JU=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).ea=void 0,s.q2=void 0,s.Nrt=void 0,s.aht=void 0,s.I2=void 0,s.hht=void 0,s.Zct=void 0,s.Jct=NaN,s.$ct=!1,s.Kct=1/0,s.tft=1/0,s.nft=null,s.ift=!0,s.eft=!0,s.Cit=null,s.Zb=void 0,s.iN=void 0,s.rft=void 0,s.sft=void 0,s.uft=[],s.hz=function(){var t=s.I2.nw;g(t)||s.Jct===t||(s.Jct=t,s.dispatchEvent("durationchange"))},s.oft=function(){s.M2&&(s.I2.removeEventListener("renditionUpdated",s.oft),s.dispatchEvent("M2"))},s.hft=function(){s.kat&&s.dispatchEvent("kat")},s.aft=function(){s.n3&&s.dispatchEvent("n3")},s.Go=function(t){s.dispatchEvent(t)},s.cft=function(t){var n=s.I2.A1(t.cit);n?n instanceof OP&&(n.YK(!1),n.r0()):s.dispatchEvent(t)},s.fft=function(t){s.I2.ww||(t.hh.code===iP.qJ?(s.nft||(s.nft=o(s.vft,Ky)),s.eft=!1,s.$K()):s.dispatchEvent({type:"hh",hh:t.hh}))},s.dft=function(t){s.lft(),s._ft(t.ww),s.wft(),s.I2.removeEventListener("S1",s.hz),s.I2.addEventListener("S1",s.hz),s.hz(),s.$ct||(s.$ct=!0,s.dispatchEvent("loadedmetadata")),s.oft(),s.eft=!0,s.$K()},s.vft=function(){s.lft();var t=s.i3;t&&(s.hht.Wl(),s.hht.i3=t,s.hht.rI())},s.gft=function(){s.hht.wit()},s.yft=function(){s.mft.forEach(function(t){return t.Dat()})},s.pft=function(t){s.kft.forEach(function(n){return n.iat(t.JK)})},s.Aft=function(t){s.mft.forEach(function(n){return n.eat(t.N8)}),s.Zct.Sit(t.N8,s.mft.map(function(t){return t.Nb}))},s.$K=function(){var t=s.ift,n=s.Xat();s.ift=n,n&&!t?s.dispatchEvent("cg"):!n&&t&&s.dispatchEvent("ed")},s.iN=r,s.ea=n,s.q2=i,s.Zb=e,s.Nrt=new wL(n,i,e,sn(s)),s.aht=new $L(n),s.I2=new LP(n),s.hht=new pM(e,n),s.Zct=new kM,s.hht.addEventListener("hh",s.cft),s.hht.addEventListener("ait",s.fft),s.hht.addEventListener("fit",s.dft),s.Nrt.addEventListener("T7",s.Go),s.Nrt.addEventListener("hh",s.Go),s.I2.addEventListener("P1",s.Go),s.I2.addEventListener("ZK",s.pft),s.I2.addEventListener("Q0",s.Aft),s.I2.addEventListener("B1",s.Go),s.Zct.addEventListener("mit",s.Go),s.Zct.addEventListener("mit",s.yft),s.addEventListener("cg",s.gft),s}U(n,t);var i=n.prototype;return i.bft=function(t){t.Mat=this.Mat,t.addEventListener("jht",this.Go),t.addEventListener("Tft",this.Go),t.addEventListener("hh",this.Go),t.addEventListener("wat",this.Go),t.addEventListener("t3",this.Go),t.addEventListener("kat",this.hft),t.addEventListener("n3",this.aft),t.addEventListener("ed",this.$K),t.addEventListener("cg",this.$K),t.addEventListener("n_",this.Go),t.addEventListener("U2",this.Go),t.addEventListener(Ko.Dc,this.Go),t.addEventListener(Ko.xc,this.Go)},i.wft=function(){this.Sft();this.I2.H1.EK;var t=this.I2.C0.EK;this.rft=new jU(this.I2,this.hht,this.Nrt,this.aht,this.Cit,this.ea,this.Zb,this.iN,this),this.bft(this.rft),t.length&&(this.sft=new QU(this.I2,this.hht,this.Nrt,this.aht,this.Cit,this.ea,this.Zb,this.iN,this),this.bft(this.sft));for(var n=this.I2.V1,i=this.rft.Nb,e=0;e<n.length;e++){var r=n[e];r.Nb=i,this.uft.push(new YU(r,this.hht,this.Cit,this.Zb,this.ea,this))}},i.Sft=function(){this.rft&&(this.rft.Zv(),this.rft=void 0),this.sft&&(this.sft.Zv(),this.sft=void 0),this.uft.forEach(function(t){return t.Wl()}),this.uft.length=0,this.Zct.Wl()},i.Eft=function(t){this.mft.forEach(function(n){return n.Sat(t)})},i._ft=function(t){this.I2.ww=t},i.Rft=function(){this.hht.rI()},i.Ift=function(t){this.Zct.Eit(t,this.mft.map(function(t){return t.Nb}))||this.mft.forEach(function(t){t.qht(),t.Nat()})},i.Xct=function(){this.Nrt.k7(),this.mft.forEach(function(t){return t.Eat()})},i.o3=function(){this.Nrt.k7(),this.mft.forEach(function(t){return t.Rat()})},i.r3=function(){this.mft.forEach(function(t){return t.Iat()})},i.Zv=function(){this.Jo(),this.lft(),this.Sft(),this.Nrt.Zv(),this.aht.Zv(),this.I2.Zv(),this.hht.Wl(),this.Zct.Zv()},i.Nft=function(t,n,i,e){var r=this.rft,s=this.sft;t&&(r.Eat(),this.Nrt.ph(r.Fk),r.Sat(e)),n&&s&&(s.Eat(),this.Nrt.ph(s.Fk),i&&s.Sat(e))},i.Dft=function(){if(!this.rft)return FO;var t=this.rft;return uB(t.Nb,this.Nrt._9(t.Fk))},i.vit=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.ww.live||e.hht.removeEventListener(s,t),i&&i.qK(n.ww)};s&&(this.hht.removeEventListener(s,u),this.hht.addEventListener(s,u)),this.hht.vit(r,s),this.hht._it(s)},i.lft=function(){null!==this.nft&&h(this.nft),this.nft=null},i.Xat=function(){return!!this.eft&&(!this.rft||this.rft.cg)},i.f3=function(t){this.rft&&(this.rft.Fat=t)},i.Wl=function(){this.kft.forEach(function(t){return t.Wl()}),this.uft.forEach(function(t){return t.Wl()})},L(n,[{key:"Cft",get:function(){return this.rft}},{key:"xft",get:function(){return this.sft}},{key:"mft",get:function(){var t=[];return this.rft&&t.push(this.rft),this.sft&&this.sft.xat&&t.push(this.sft),t}},{key:"kft",get:function(){return[this.rft,this.sft].filter($)}},{key:"r9",get:function(){return qt(this.iN.PP*this.Nrt.s9,1,this.Pft)}},{key:"i3",get:function(){return this.hht.i3},set:function(t){this.Jct=NaN,this.Kct=1/0,this.$ct=!1,this.ift=!0,this.eft=!0,this.I2.removeEventListener("renditionUpdated",this.oft),this.I2.removeEventListener("S1",this.hz),this.lft(),this.Sft(),this.Nrt.ph(),this.aht.Fo(),this.I2.Zv(),this.I2.addEventListener("renditionUpdated",this.oft),this.hht.i3=t,this.$K()}},{key:"nw",get:function(){return this.Jct}},{key:"Get",get:function(){return this.I2&&pP.vw(this.I2.f0)}},{key:"cg",get:function(){return this.ift}},{key:"M2",get:function(){var t=this.mft;return t.length>0&&t.every(function(t){return t.d0})}},{key:"s9",get:function(){return this.Nrt.s9},set:function(t){t>0&&(this.Nrt.s9=t)}},{key:"kat",get:function(){return this.mft.every(function(t){return t.kat})}},{key:"n3",get:function(){return this.mft.length>0&&this.mft.every(function(t){return t.n3})}},{key:"Pft",get:function(){return this.tft},set:function(t){this.tft=t}},{key:"Mat",get:function(){return this.Kct},set:function(t){var n=this;this.Kct=t,this.kft.forEach(function(t){return t.Mat=n.Kct})}},{key:"dg",get:function(){return this.M2?new UO([{rI:this.nrt,uI:this.irt}]):FO}},{key:"nrt",get:function(){if(!this.M2)return 0;for(var t=-1/0,n=0,i=this.mft;n<i.length;n++){var e=i[n];t=l.max(t,e.Nb.nrt._y())}return t}},{key:"irt",get:function(){if(!this.M2)return 0;for(var t=1/0,n=0,i=this.mft;n<i.length;n++){var e=i[n];t=l.min(t,e.Nb.irt._y())}return t}},{key:"ert",get:function(){if(!this.M2)return 0;for(var t=1/0,n=0,i=this.mft;n<i.length;n++){var e=i[n];t=l.min(t,e.Nb.ert._y())}return l.max(t,this.nrt)}},{key:"c3",get:function(){return this.rft&&this.rft.Fat||void 0}}]),n}(tP),$U=function(t){function n(n,i){var e;return(e=t.call(this)||this).ea=void 0,e.Jct=NaN,e.$ct=!1,e.I2=void 0,e.Nb=void 0,e.Oft=void 0,e.nft=null,e.ift=!0,e.Dct=null,e.Cct=null,e.Go=function(t){e.dispatchEvent(t)},e._ft=function(t){if(e.I2.ww||(e.I2.ww=e.Oft.U1||null),!e.I2.F1){var n=e.I2.H1.EK[0];n&&(e.I2.F1=n,e.Oft.uit(n),e.dispatchEvent({type:"Bft",JK:n}))}t.manifest.isMasterPlaylist||e.I2.F1.qK(t.manifest),void 0!==t.manifest.duration&&e.Jct!==t.manifest.duration&&(e.Jct=t.manifest.duration,e.dispatchEvent("durationchange")),e.$ct||(e.$ct=!0,e.dispatchEvent("loadedmetadata")),e.sct(!0),e.dispatchEvent({type:"sit",manifest:t.manifest})},e.fft=function(t){t.hh.code===iP.qJ?(e.nft||(e.nft=o(e.vft,Ky)),e.sct(!1)):e.dispatchEvent({type:"hh",hh:t.hh})},e.vft=function(){e.lft();var t=e.i3;t&&e.Oft.rI(t)},e.lft=function(){h(e.nft),e.nft=null},e.pft=function(t){var n=t.JK;e.Nb.Vet(n,n.R$),e.ea.manifestMetadataTrack&&(e.Cct||(e.Dct=e.I2.v1("",e.Nb,""),e.Cct=new GU(e.Dct,e.Nb)),e.Cct.Yh(n))},e.ea=n,e.I2=new LP(n,!0),e.Nb=new HM(n),e.Oft=new mM(i,e.ea),e.Nb.addEventListener("hh",e.Go),e.Oft.addEventListener("sit",e._ft),e.Oft.addEventListener("hh",function(t){e.I2.ww?(e.nft||(e.nft=o(e.vft,Ky)),e.sct(!1)):e.fft(t)}),e.I2.addEventListener("ZK",e.pft),e}U(n,t);var i=n.prototype;return i.Rft=function(){this.I2.ww||this.Oft.rI()},i.Dft=function(){return FO},i.sct=function(t){var n=this.ift;this.ift=t,t&&!n?this.dispatchEvent("cg"):!t&&n&&this.dispatchEvent("ed")},i.Zv=function(){this.Jo(),this.lft(),this.I2.Zv(),this.Oft.Zv(),this.Cct=null,this.Nb.Zv()},i.o3=function(){},i.r3=function(){},i.Eft=function(t){},i.f3=function(t){},L(n,[{key:"i3",get:function(){return this.Oft.i3},set:function(t){this.Jct=NaN,this.$ct=!1,this.lft(),this.I2.Zv(),this.Cct=null,this.Oft.i3=t,this.sct(!0)}},{key:"nw",get:function(){return this.Jct}},{key:"Get",get:function(){return this.I2&&pP.vw(this.I2.f0)}},{key:"cg",get:function(){return this.ift}},{key:"n3",get:function(){return!1}},{key:"kat",get:function(){return!1}},{key:"c3",get:function(){return[]}}]),n}(tP),KU=1e3,tF="VEE3",nF=function(t){function n(n){var i;return(i=t.call(this,"Lft")||this).ptsOffset=n,i}return U(n,t),n}(Ds),iF=function(t){function n(n){var i;return(i=t.call(this)||this).X1=void 0,i.Mft=null,i.Uft=0,i.Fft="start",i.Hft=1,i.Vft=!1,i.zft=!1,i.Xft=0,i.Wft=null,i.qft=null,i.Gft=null,i.jft=null,i.pit=0,i.Qft=0,i.Yft=new cs,i.Zft=new $u,i.Jft=void 0,i.$ft={},i.Kft=!1,i.tvt=null,i.nvt=NaN,i.Ght=function(){i.X1.mft.map(function(t){t.Ght()})},i.xct=function(){for(var t,n,e,r=0,s=i.X1.kft;r<s.length;r++){var u=s[r],o=u.xct();if(o){var h=o.Pct;h&&h.L0!==mP.Hv&&(i.tvt=h)}u.Fk===yP.Hv?t=o:u.Fk===yP.dK&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"P1",ivt:t&&t.O1,h2:t&&t.Pct,v2:n&&n.O1,o2:n&&n.Pct,s2:!!e&&e.xat})},i.Qht=function(){null!==i.Wft&&h(i.Wft),i.Wft=o(i.Qht,KU),i.X1.mft.forEach(function(t){return t.Qht()})},i.Jht=function(){null!==i.qft&&h(i.qft),i.Vft&&(i.qft=o(i.Jht,KU),i.X1.mft.forEach(function(t){return t.Jht()}))},i.Zht=function(){i.X1.mft.forEach(function(t){return t.Zht()})},i.evt=function(){if(i.X1.Get&&i.uw>1){var t=i.X1.ert;i.rvt>t&&(i.uw=1,i.rvt>=t+1&&(i.rvt="start"))}},i.svt=function(){i.Mft&&(0===i.Mft.uvt()?i.rvt="start":i.rvt=i.ovt(i.o9))},i.avt=function(){i.Xft=i.o9},i.cvt=function(t){i.fvt(),i.Mft.error&&(t.error.info.code===tF&&i.Qft<tm?(i.Qft+=1,i.vvt()):i.dispatchEvent({type:"hh",error:t.error}))},i.dvt=function(){i.Qft=0},i.lvt=function(){i.removeEventListener("_vt",i.wvt),i.Vft?i.wvt():i.addEventListener("_vt",i.wvt)},i.wvt=function(){var t=i.o9;i.X1.removeEventListener("M2",i.lvt),i.X1.M2?i.X1.mft.forEach(function(n){return n.Kht(t)}):(i.X1.addEventListener("M2",i.lvt),i.X1.Rft())},i.gvt=function(){var t=i.o9;i.X1.kft.forEach(function(n){return n.$ht(t,i.X1.Get)})},i.yvt=function(){null!==i.Wft&&h(i.Wft),i.Wft=null,null!==i.qft&&h(i.qft),i.qft=null},i.mvt=function(){i.pvt(),i.X1.M2?i.e3():(i.X1.addEventListener("M2",i.mvt),i.X1.Rft())},i.pvt=function(){i.X1.removeEventListener("M2",i.mvt)},i.j1=function(t){i.X1.vit(t.L0,t.O1||void 0,t.JK||void 0),t.B1&&i.kvt(t.L0,t.O1,t.JK)},i.Avt=function(t){var n=t.pit-i.pit;l.abs(n)>$y&&(i.pit=t.pit,i.o9=i.o9+n)},i.bvt=function(t){var n=t.S7.metadata;n.B0&&(i.$ft[t.Fk]=n.B0,i.Tvt())},i.Tvt=function(){if(i.X1.M2){var t=d.keys(i.$ft).length===i.X1.mft.length;i.Mft&&!i.Mft.Svt&&!i.Jft&&t&&i.Evt(),i.Mft&&i.pit&&(i.Mft.pit=i.pit)}},i.Rvt=function(){if(g(i.Ivt))if(i.X1.Get)i.Ivt=0;else{var t=i.tvt,n=t&&t.v0,e=t&&$(n)&&!g(n)&&t.I$(n)||void 0;i.Ivt=TP(e)?e.x8._y():NaN}i.F2&&(i.removeEventListener("P1",i.Rvt),i.X1.removeEventListener("T7",i.Rvt),i.dispatchEvent("F2",!0))},i.X1=n,n.Cit=sn(i),i}U(n,t);var i=n.prototype;return i.vvt=function(){this.X1.Get?this.rvt="start":(this.Xft+=.5,this.X1.mft.map(function(t){t.qht(),t.tat(),t.nat()}),this.rvt=this.Xft),this.Tvt(),this.Mft.play()},i.Nvt=function(t){var n=this;this.Gft&&(this.X1.removeEventListener("M2",this.Gft),this.Gft=null),this.X1.M2?(this.zft=!0,this.Kft=!0,this.X1.Ift(t),this.Kft=!1):(this.Gft=function(){return n.Nvt(t)},this.X1.Rft())},i.Dvt=function(t){this.Cvt(),this.X1.Get&&(t="none"),"auto"===t&&this.mvt()},i.xvt=function(t){var n=this;this.Cvt(),"none"!==t&&(this.X1.M2?this.Dvt(t):(this.jft=function(){return n.Dvt(t)},this.X1.addEventListener("M2",this.jft),this.X1.Rft()))},i.Cvt=function(){this.pvt(),this.jft&&(this.X1.removeEventListener("M2",this.jft),this.jft=null)},i.e3=function(){this.zft?this.X1.Eft():(this.rvt=this.Fft,this.X1.Eft(22)),this.Vft||(this.Vft=!0,this.dispatchEvent("_vt"))},i.Pvt=function(){this.Mft&&(this.Mft.addEventListener("Ovt",this.gvt),this.Mft.addEventListener("seeking",this.lvt),this.Mft.addEventListener("error",this.cvt),this.Mft.addEventListener("playing",this.dvt)),this.X1.addEventListener("P1",this.j1),this.X1.addEventListener("wat",this.svt),this.X1.addEventListener("M2",this.Tvt),this.X1.addEventListener("mit",this.Avt),this.X1.addEventListener("n_",this.lvt),this.h3()},i.Bvt=function(){this.Mft&&(this.Mft.removeEventListener("Ovt",this.gvt),this.Mft.removeEventListener("seeking",this.lvt),this.Mft.removeEventListener("error",this.cvt),this.Mft.removeEventListener("playing",this.dvt)),this.X1.removeEventListener("P1",this.j1),this.X1.removeEventListener("wat",this.svt),this.X1.removeEventListener("M2",this.Tvt),this.X1.removeEventListener("mit",this.Avt),this.X1.removeEventListener("n_",this.lvt),this.a3()},i.h3=function(){this.Mft&&(this.Mft.addEventListener("loadstart",this.mvt),this.Mft.addEventListener("timeupdate",this.Ght),this.Mft.addEventListener("playing",this.xct),this.Mft.addEventListener("timeupdate",this.xct),this.Mft.addEventListener("timeupdate",this.Jht),this.Mft.addEventListener("timeupdate",this.Qht),this.Mft.addEventListener("timeupdate",this.avt),this.Mft.addEventListener("timeupdate",this.evt),this.Mft.addEventListener("ended",this.yvt)),this.X1.addEventListener("T7",this.bvt),this.X1.addEventListener("T7",this.Zht)},i.a3=function(){null!==this.Wft&&h(this.Wft),null!==this.qft&&h(this.qft),this.Mft&&(this.Mft.removeEventListener("loadstart",this.mvt),this.Mft.removeEventListener("timeupdate",this.Ght),this.Mft.removeEventListener("playing",this.xct),this.Mft.removeEventListener("timeupdate",this.xct),this.Mft.removeEventListener("timeupdate",this.Jht),this.Mft.removeEventListener("timeupdate",this.Qht),this.Mft.removeEventListener("timeupdate",this.avt),this.Mft.removeEventListener("timeupdate",this.evt),this.Mft.removeEventListener("ended",this.yvt)),this.X1.removeEventListener("T7",this.bvt),this.X1.removeEventListener("T7",this.Zht)},i.Uit=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zft.Dh;case 2:return i=this.Mft.Uit(n),this.Mft.loading&&(this.Mft.loaded=!0,this.Mft.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wV=function(t,n){this.Lvt.wV(t,n)},i.Wht=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Zft.Dh;case 3:return t.next=5,this.Mft.Wht(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),vs(t.t0)||this.dispatchEvent({type:"hh",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Evt=function(){var t=this,n=this.Zft,i=this.Mvt(this.Jft,this.Yft.zo);this.Jft=i,i.then(function(){t.Jft===i&&(t.Jft=void 0,n.Ch())},function(e){t.Jft===i&&(t.Jft=void 0,n.xh(e))})},i.Mvt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(E);case 3:return ds(i),t.next=6,this.Mft.Evt(this.$ft,this.X1.nw,i);case 6:if(e=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(r=0,s=this.X1.kft;r<s.length;r++)u=s[r],e.IK&&(u.Nht=e.IK),e.NK&&(u.xht=e.NK);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fvt=function(){this.Yft.Fo(),this.Yft=new cs,this.Jft=void 0,this.Zft=new $u},i.ovt=function(t){var n=this.dg;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.rat=function(t){var n=this.X1.Cft;return n?n.rat(t):null},i.Ket=function(t){var n=this.X1.Cft;return n?n.Ket(t):NaN},i.jh=function(t){var n=t||"none";this.Bvt(),this.Pvt(),this.xvt(n)},i.u3=function(){this.Cvt()},i.Zv=function(){this.Jo(),this.$ft={},this.Lvt=null},i.Wl=function(){this.fvt(),this.Uvt(),this.$ft={},this.Uft=0,this.Xft=0,this.Fft="start",this.pit=0,this.Hft=1,this.Vft=!1,this.zft=!1,this.tvt=null,this.X1.Wl()},i.kvt=function(t,n,i){if(n){this.dispatchEvent("H2"),this.a3();var e=!1,r=!1,s=!1;if("NK"===t){r=!0;var u=this.X1.Cft;u&&u.xat&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Mft.B1("audio"),r&&this.Mft.B1("video"),this.X1.kft.forEach(function(t){t.qht(),e&&t.tat(),r&&t.nat()}),this.X1.Nft(r,e,s,22),this.X1.kft.forEach(function(t){return t.Yht()}),this.h3()}},i.Ow=function(){this.a3(),this.X1.Get&&this.X1.Xct()},i.Pw=function(){this.a3(),this.h3(),this.X1.r3()},i.Fvt=function(t){var n=this.Ivt||0;return this.U0?t-n<0?0:l.round((t-n)*this.U0-.5)||0:NaN},i.Hvt=function(t){var n=this.Ivt||0;return this.U0?n+(t+.5)/this.U0:NaN},i.Uvt=function(){this.Ivt=NaN,this.removeEventListener("P1",this.Rvt),this.addEventListener("P1",this.Rvt),this.X1.removeEventListener("T7",this.Rvt),this.X1.addEventListener("T7",this.Rvt)},L(n,[{key:"Lvt",get:function(){return this.Mft},set:function(t){this.Bvt(),this.fvt(),this.dvt(),this.Mft=t,this.Tvt()}},{key:"o9",get:function(){return this.Mft&&!this.Kft?this.Mft.uvt():this.Uft},set:function(t){t=this.ovt(t),this.Xft=this.Uft=t,this.Mft?this.Mft.Vvt(t):(this.gvt(),this.lvt())}},{key:"rvt",get:function(){return this.Mft&&!this.Kft?this.o9:this.Fft},set:function(t){"start"===t&&(t=this.X1.Get?1/0:0),t=this.ovt(t),this.Fft=t,this.Xft=this.Uft=t,this.Nvt(Iw.mm(this.Uft)),this.o9=t}},{key:"Lg",get:function(){return this.X1.Mat},set:function(t){this.X1.Mat=t}},{key:"uw",get:function(){return this.Mft?this.Mft.uw:this.Hft},set:function(t){var n=this.Hft;t>0&&(this.Hft=t,this.Mft&&(this.Mft.uw=t),this.X1.s9=t,this.Hft!==n&&this.dispatchEvent("zvt"))}},{key:"dg",get:function(){var t=this.X1.dg;if(!t.length||!this.X1.Get)return t;var n=t.start(0),i=this.X1.ert;return i=l.max(this.o9,i),new UO([{rI:n,uI:i}])}},{key:"ng",get:function(){return this.rat(this.o9)}},{key:"U0",get:function(){var t=this.tvt;return t&&t.U0||NaN}},{key:"Ivt",get:function(){return this.nvt},set:function(t){this.nvt!==t&&(this.dispatchEvent(new nF(t)),this.nvt=t)}},{key:"F2",get:function(){return Boolean(this.U0)&&!g(this.Ivt)}}]),n}(tP),eF=function(t){function n(n){var i;return(i=t.call(this)||this).Xvt=null,i.I2=void 0,i.Wvt=[],i.qvt=function(t){return i.Gvt(t)},i.jvt=function(){return i.Qvt()},i.I2=n,i.Wvt=[],i}U(n,t);var i=n.prototype;return i.Kb=function(t){var n,i;"metadata"===t.kind&&(t.mode=rl.c_,n=this.I2.c1(t.id,t.inBandMetadataTrackDispatchType),i=this.Yvt.bind(this,n),this.Wvt.push({Zvt:t,Jvt:i,W0:n}),t.addEventListener("cuechange",i))},i.WP=function(){for(var t=this.Xvt.Cw,n=t&&t.length,i=0;i<n;i+=1)this.Kb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.qvt),t.addEventListener("change",this.jvt))},i.Yvt=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=TD(i[s].value),o=new PD(r,u);t.nT(o)}},i.Qvt=function(){for(var t=0,n=this.Wvt;t<n.length;t++){var i=n[t].Zvt;i.mode!==rl.c_&&(i.mode=rl.c_)}},i.Gvt=function(t){this.Kb(t.track)},i.$vt=function(){for(var t=this.Xvt,n=t&&t.Cw,i=0,e=this.Wvt;i<e.length;i++){var r=e[i];r.Zvt.removeEventListener("cuechange",r.Jvt)}this.Wvt.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.qvt),n.removeEventListener("change",this.jvt))},i.Zv=function(){this.$vt(),this.Xvt=null,this.I2=null,this.qvt=null,this.jvt=null},i.Wl=function(){this.$vt(),this.Xvt&&this.WP()},n}(tP),rF=function(t){function n(n){var i;return(i=t.call(this)||this).X1=void 0,i.Kvt=void 0,i.Mft=null,i.Fft="start",i.Hft=1,i.ed=!1,i.tdt=null,i.ndt=null,i.idt=NaN,i.edt=NaN,i.rdt=null,i.sdt=function(){i.Mft.removeEventListener("loadstart",i.sdt),i.Mft.removeEventListener("play",i.sdt),i.X1.Rft()},i.Ght=function(){var t=i.X1.I2.F1;if(t&&(!i.tdt||i.tdt.rI>i.o9||i.tdt.uI<i.o9)){var n=i.X1.Nb.W7(t,Iw.mm(i.o9));if(!n)return void i.Mft.addEventListener("timeupdate",i.Ght);i.tdt={rI:n.$et._y(),uI:n.$et.wg(Iw.mm(n.jk.duration))._y(),s$:n.jk.s$,o0:null},i.dispatchEvent({type:"jht",Ob:n.jk})}},i.xct=function(){var t=i.X1.I2,n=t.H1.EK.length?t.H1.EK:t.C0.EK,e=i.Mft.aw,r=i.Mft.hw,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.ndt&&(i.ndt=u,i.dispatchEvent({type:"P1",JK:u}))},i.udt=function(t){i.dispatchEvent({type:"P1",JK:t.JK})},i.odt=function(){if(i.Mft){var t=i.Mft.dg,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.edt&&(i.edt=n,i.idt=zb())}},i.hdt=function(){i.ed=!0},i.adt=function(){i.ed&&(i.ed=!1,i.cdt())},i.X1=n,i.Kvt=new eF(n.I2),n.addEventListener("ed",i.hdt),n.addEventListener("cg",i.adt),i}U(n,t);var i=n.prototype;return i.ovt=function(t){var n=this.Mft.dg;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.cdt=function(){if(this.Mft){var t=this.Mft.currentTime,n=this.Mft.paused;this.Mft.load(),this.Mft.currentTime=t,n||this.Mft.play()}},i.fdt=function(){this.Mft&&(this.Mft.addEventListener("loadstart",this.sdt),this.Mft.addEventListener("play",this.sdt),this.Mft.addEventListener("timeupdate",this.Ght),this.Mft.addEventListener("timeupdate",this.xct),c(this.rdt),this.rdt=a(this.odt,250))},i.vdt=function(){c(this.rdt),this.Mft&&(this.Mft.removeEventListener("loadstart",this.sdt),this.Mft.removeEventListener("play",this.sdt),this.Mft.removeEventListener("timeupdate",this.Ght),this.Mft.removeEventListener("timeupdate",this.xct))},i.jh=function(t){t=t||"none",this.vdt(),this.fdt(),this.X1.removeEventListener("Bft",this.udt),this.X1.addEventListener("Bft",this.udt),"none"!==t&&this.sdt()},i.Zv=function(){this.Jo(),this.Kvt.Zv(),this.Lvt=null,this.X1.removeEventListener("Bft",this.udt)},i.Wl=function(){this.Fft="start",this.Hft=1,this.ed=!1,this.tdt=null,this.ndt=null,this.idt=NaN,this.edt=NaN,c(this.rdt),this.Kvt.Wl()},i.Pw=function(){},i.Ow=function(){},i.u3=function(){},i.kvt=function(){},i.Ket=function(t){var n=this.X1.I2.F1;return this.X1.Nb.Ket(n,t)._y()},i.rat=function(t){var n,i,e=this.X1.I2.F1,r=this.X1.Nb,s=t,u=this.tdt;if(u)u.o0||(u.o0=r.Jet(e,u.s$)),n=u.rI,i=u.o0;else{var o=r.W7(e,Iw.mm(s));if(!o)return null;n=o.$et._y(),i=r.Jet(e,o.jk.s$)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Fvt=function(t){return NaN},i.Hvt=function(t){return NaN},L(n,[{key:"ddt",get:function(){return null}},{key:"ng",get:function(){return this.rat(this.o9)}},{key:"Lvt",get:function(){return this.Mft},set:function(t){this.vdt(),this.Mft=t,this.Mft&&(this.Kvt.Xvt=this.Mft,this.Kvt.WP())}},{key:"rvt",get:function(){return this.Mft?this.Mft.uvt():this.Fft},set:function(t){"start"===t&&(t=this.X1.Get?1/0:0),t=this.ovt(t),this.Fft=t,this.Mft&&this.Mft.Vvt(t)}},{key:"o9",get:function(){return this.rvt},set:function(t){t=this.ovt(t),this.rvt=t}},{key:"Lg",get:function(){return 1/0},set:function(t){}},{key:"uw",get:function(){return this.Mft?this.Mft.uw:this.Hft},set:function(t){t>0&&(this.Hft=t,this.Mft&&(this.Mft.uw=t))}},{key:"dg",get:function(){var t,n,i,e=this.Mft?this.Mft.dg:null,r=this.X1.Nb.dg;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.edt||e.end(e.length-1))+this.X1.Nb.rrt._y(),isFinite(this.idt)&&(i+=(zb()-this.idt)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.X1.Nb.ert._y()}return i=l.min(n,i),i=l.max(this.o9,i),new UO([{rI:t,uI:i}])}},{key:"U0",get:function(){return NaN}},{key:"Ivt",get:function(){return NaN}},{key:"F2",get:function(){return!1}}]),n}(tP),sF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).ldt=new cs,o._dt=void 0,o.Zb=void 0,o.wdt=function(){return o.gdt()},o.do=q_.WEBVTT,o.g_=W_.NONE,o.p_=Ff(s),o.Qo(Id.Il,o.wdt),o.Zb=u,o}U(n,t);var i=n.prototype;return i.jh=function(){this.p_&&!this._dt&&(this._dt=this.Gd(this.ldt.zo),this._dt.catch(_s))},i.Gd=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.p_,t.prev=1,this.g_=W_.LOADING,e=new Bf({Ev:i,Xv:Df.GET,kv:th.os,zo:n}),t.next=6,this.Zb.Tv(e);case 6:return r=t.sent,t.next=9,r.Fs();case 9:s=t.sent,this.c4(r,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),ls(t.t0),this.ME(ky(t.t0,this.p_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.u3=function(){this.g_!==W_.LOADED&&(this.g_=W_.NONE,this.ldt.Fo(),this.ldt=new cs,this._dt=void 0)},i.ME=function(t){this.g_=W_.ERROR,this.jo(new u_(t))},i.Zv=function(){this.u3(),this.ldt.Po(),t.prototype.Zv.call(this)},i.gdt=function(){switch(this.l_){case rl.f_:case rl.c_:this.jh();break;case rl.a_:this.u3()}},i.c4=function(t,n){try{for(var i=ng(n).y_,e=0;e<i.length;e++){var r=i[e];this.nT(r)}this.g_=W_.LOADED}catch(n){this.ME(Ay(this.do,this.p_,t.mv,n))}},n}(NN);function uF(t){return ay(t.kind)}var oF=function(){function t(t,n,i,e){this.ydt=void 0,this.Cw=void 0,this.mdt=void 0,this.Zb=void 0,this.ydt=t,this.Cw=i,this.mdt=n,this.Zb=e,this.Wl()}var n=t.prototype;return n.pdt=function(t){if(this.kdt(),t)if(this.mdt)for(var n=0;n<t.length;n++){var i=t[n];this.aR(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Adt(r)}},n.aR=function(t){var n=uF(t);if(yy(n,t.label||""));else{var i=r.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.ydt.appendChild(i)}},n.Adt=function(t){var n=uF(t),i=new sF(n,t.id,t.label,t.srclang,t.src,this.Zb);t.default&&(i.l_=rl.f_),this.Cw.Vl(i)},n.kdt=function(){for(var t=this.Cw.ql,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.bdt&&this.Cw.zl(i)}},n.Tdt=function(){this.kdt()},n.Wl=function(){this.kdt()},t}(),hF=function(){function t(t){this.X2=void 0,this.X2=t}var n=t.prototype;return n.Qo=function(t,n){this.X2.addEventListener(t,n)},n.$o=function(t,n){this.X2.removeEventListener(t,n)},L(t,[{key:"tw",get:function(){return this.X2.currentTime}},{key:"sw",get:function(){return this.X2.paused}},{key:"ow",get:function(){return this.X2.seeking}}]),t}(),aF=function(t){function n(n,i){var e;(e=t.call(this)||this).Sdt=void 0,e.Cw=void 0,e.Edt=void 0,e.Rdt=void 0,e.Mft=void 0,e.Idt=!0,e.Ndt=function(t){return e.Ddt(t)},e.Cdt=function(){return e.xdt()},e.Pdt=function(){return e.Odt()},e.Bdt=function(){return e.Ldt()},e.qvt=function(t){return e.Gvt(t.gl)},e.Mdt=function(t){return e.Udt(t.gl)},e.Fdt=function(){return e.Hdt()},e.Sdt=n,e.Cw=i,e.Sdt.addEventListener("seeking",e.Fdt),e.Sdt.addEventListener("seeked",e.Fdt),e.Edt=new xD(new hF(n));for(var r=0,s=e.Cw.ql;r<s.length;r++){var u=s[r];e.Gvt(u)}return e.Cw.Qo(Td.cl,e.qvt),e.Cw.Qo(Td.vl,e.Mdt),e}U(n,t);var i=n.prototype;return i.Ddt=function(t){this.Cw.Vl(t.gl)},i.xdt=function(){for(var t=this.Cw.ql,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.bdt&&this.Cw.zl(i)}},i.Odt=function(){var t=this.Lvt,n=[],i=t&&t.Cw;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.pq(r);s=new ED(r,u,this.gX),r.THEOplayerTextTrack=s,this.Cw.Vl(s)}n.push(s)}}for(var o=0,h=this.Cw.ql;o<h.length;o++){var a=h[o];RD(a)&&-1===n.indexOf(a)&&this.Cw.zl(a)}},i.pq=function(t){for(var n=this.Lvt.ig.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.Ldt=function(){for(var t=0,n=this.Cw.ql;t<n.length;t++){var i=n[t];RD(i)&&i.yX()}},i.Hdt=function(){this.Vdt()},i.Gvt=function(t){t instanceof NN&&this.Edt.Vl(t)},i.Udt=function(t){t instanceof NN&&this.Edt.zl(t)},i.Vdt=function(){var t=this.Cw.ql;if(t.length)for(var n=this.Sdt.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof NN){for(var s=[],u=0,o=r.y_.ql;u<o.length;u++){var h=o[u];if(!(h.Lg<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.zz(c)}}}},i.Zv=function(){this.Sdt.removeEventListener("seeking",this.Fdt),this.Sdt.removeEventListener("seeked",this.Fdt);for(var t=0,n=this.Cw.ql;t<n.length;t++){var i=n[t];this.Udt(i)}this.Cw.$o(Td.cl,this.qvt),this.Cw.$o(Td.vl,this.Mdt),this.Edt.Zv(),this.I2=null,this.Lvt=null},L(n,[{key:"I2",get:function(){return this.Rdt},set:function(t){var n=this.Rdt;if(n){for(var i=0,e=n.Cw;i<e.length;i++){var r=e[i];this.Cw.zl(r)}n.removeEventListener("f1",this.Ndt),n.removeEventListener("Zv",this.Cdt)}if(this.Rdt=t,t){for(var s=0,u=t.Cw;s<u.length;s++){var o=u[s];this.Cw.Vl(o)}t.addEventListener("f1",this.Ndt),t.addEventListener("Zv",this.Cdt)}}},{key:"Lvt",get:function(){return this.Mft},set:function(t){var n=this.Mft;n&&n.Cw&&n.Cw.removeEventListener&&(n.Cw.removeEventListener("addtrack",this.Pdt),n.Cw.removeEventListener("removetrack",this.Pdt),n.Cw.removeEventListener("change",this.Bdt)),this.Mft=t,t&&t.Cw&&t.Cw.addEventListener&&(t.Cw.addEventListener("addtrack",this.Pdt),t.Cw.addEventListener("removetrack",this.Pdt),t.Cw.addEventListener("change",this.Bdt)),this.Odt(),this.Ldt()}},{key:"gX",get:function(){return this.Idt},set:function(t){if(this.Idt!==t){this.Idt=t;for(var n=0,i=this.Cw.ql;n<i.length;n++){var e=i[n];RD(e)&&(e.gX=t)}}}}]),n}(tP),cF=function(){function t(t,n){this.jv=void 0,this.al=void 0,this.zdt=[],this.Xdt=new nh,this.Wdt=er(),this.qdt=new cs,this.jv=!(!t||t.crossOrigin!==pl.F_&&!t.Gdt),this.al=n}var n=t.prototype;return n.jdt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h,a,c,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=b.zu(n),r=0,s=this.zdt;r<s.length;r++)null===(u=s[r]).ks||void 0===u.ks?e.searchParams.delete(u.Qdt):e.searchParams.set(u.Qdt,u.ks);return t.prev=2,o=new Bf({Ev:e.href,kv:th.Hc,pv:this.Xdt,jv:this.jv,Xv:Df.GET,zo:i,do:Cf.Cv,qv:xf.Fv}),t.next=6,this.al.Tv(o);case 6:return h=t.sent,t.next=9,h.Fs();case 9:return a=t.sent,c=new y(a),v=new y(16),16!==c.length&&_t("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Qu(c,0,16)),v.set(c,16-c.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),ls(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new eP(iP.JJ,{code:"CAD1603"}));var i=this.Wdt.get(n);return i||(i=this.jdt(n,this.qdt.zo),this.Wdt.set(n,i)),i},n.Zv=function(){this.qdt.Fo(),this.Wdt.clear()},n.Ydt=function(t,n){this.zdt.push({Qdt:t,ks:n})},n.Zdt=function(t,n){this.Xdt.append(t,n)},t}(),fF=function(t){this.Sdt=void 0,this.Sdt=t},vF=r.createElement("video");var dF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wct=function(t){return!!function(t){return vF.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(fF);nP.es.UL("AvoidUnsupportedCodecsRule",dF);var lF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wct=function(t,n,i,e){return!("Ett"===e.P7)||t.bandwidth<2e6},n}(fF);nP.es.UL("AvoidHighBitrateStreamsRule",lF);var _F=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Jdt=function(t){if(!t.resolution)return!0;var n=this.Sdt.element.getBoundingClientRect(),i=e.innerWidth||r.documentElement.clientWidth,s=e.innerHeight||r.documentElement.clientHeight,u=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,s)-l.max(0,n.top)),h=b.qu.fu;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.wct=function(t){return this.Jdt(t)},n}(fF);nP.es.UL("AvoidVideoResolutionGreaterThanDisplaySizeRule",_F);var wF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wct=function(t,n,i){if(i.H9<=0)return!1;var e=i&&.8*i.H9;return!(e&&!g(e)&&t.bandwidth)||e>t.bandwidth*this.Sdt.playbackRate},n}(fF);nP.es.UL("DownloadMetricRule",wF);var gF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wct=function(t){return!0},n}(fF);nP.es.UL("LimitVideoQualityToDisplaySizeRule",gF);var yF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wct=function(t,n){return!n||(n.L0===mP.Iv||t.L0===mP.Iv||(n.L0===mP.rK||t.L0===mP.rK||n.L0===t.L0))},n}(fF);function mF(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function pF(t,n){var i=n;for(var e in t)it(t[e])?(i[e]=i[e]||{},pF(t[e],i[e])):Z.call(i,e)||(i[e]=t[e]);return i}function kF(t,n){var i=pF(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case pl.U_:case pl.F_:break;default:n=pl.M_}return t&&t.withCredentials&&(n=pl.F_),t&&t.vr&&t.vr[360]&&n===pl.M_&&(n=pl.U_),n}(i),i}function AF(t){st(t)&&t.then(E,E)}nP.es.UL("OnlyAllowSameTrackTypeRenditionsRule",yF);var bF,TF=500,SF=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],EF=function(t){function n(n,i){var e;return(e=t.call(this)||this).$dt=void 0,e.EE=void 0,e.Kdt=void 0,e.IE=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.lW=function(){var t=e.EE.$E.error&&e.EE.$E.error.code;t&&e.ME(new eP(iP.QJ,{code:"VEE"+t}))},e.tlt=function(t){e.dispatchEvent({type:t.type,error:e.EE.$E.error})},e.nlt=function(){h(e.Kdt),e.Kdt=void 0,e.EE.$E.removeEventListener("timeupdate",e.nlt),e.EE.$o(Vl.K_,e.nlt)},e.ilt=function(){void 0!==e.Kdt&&e.nlt(),e.Kdt=o(function(){e.EE.$E.currentTime+=.1,e.nlt()},TF),e.EE.$E.addEventListener("timeupdate",e.nlt),e.EE.Qo(Vl.K_,e.nlt)},e.elt=function(){switch(e.EE.$E.readyState){case Tl.W_:case Tl.q_:case Tl.G_:e.ilt();break;case Tl.X_:case Tl.z_:}},e.$dt=n,e.EE=i,e}U(n,t);var i=n.prototype;return i.setup=function(){this.a1(),this.EE.$E.parentNode!==this.$dt&&this.$dt.appendChild(this.EE.$E),this.loaded=!1,this.EE.$E.preload="metadata",this.EE.$E.addEventListener("play",this.elt),this.EE.$E.addEventListener("loadeddata",this.elt),this.dispatchEvent("rlt")},i.a1=function(){for(var t=0;t<SF.length;t++){var n=SF[t];this.EE.$E.addEventListener(n,this.tlt,!0)}this.EE.$E.addEventListener("error",this.lW,!0),this.EE.Qo(Vl.Dl,this.tlt),this.EE.Qo(Vl.K_,this.tlt)},i.slt=function(){for(var t=0;t<SF.length;t++){var n=SF[t];this.EE.$E.removeEventListener(n,this.tlt,!0)}this.EE.$E.removeEventListener("error",this.lW,!0),this.EE.$o(Vl.Dl,this.tlt),this.EE.$o(Vl.K_,this.tlt)},i.ME=function(t){this.IE=t,this.dispatchEvent({type:"error",error:t})},i.Uit=function(){return T.resolve()},i.load=function(){this.EE.$E.load(),this.loaded=!0},i.unload=function(){return this.nlt(),this.Jo(),this.slt(),this.EE.$E.removeEventListener("play",this.elt),this.EE.$E.removeEventListener("loadeddata",this.elt),Pe(this.EE.$E),this.EE.$E},i.play=function(){var t=this.uw;AF(this.EE.$E.play()),this.uw=t},i.pause=function(){this.EE.$E.pause()},i.Bw=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Vvt(0)}catch(t){}this.dispatchEvent("reset")},i.Gw=function(){return this.EE.$E},i.uvt=function(){return this.EE.$E.currentTime},i.Vvt=function(t){this.EE.$E.currentTime=t},i.canPlayCodecs=function(t){return this.EE.$E.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"Svt",get:function(){return!0}},{key:"ig",get:function(){return this.EE.$E}},{key:"tg",get:function(){return this.EE.$E.buffered}},{key:"cw",get:function(){return this.EE.$E.volume},set:function(t){this.EE.$E.volume=t}},{key:"duration",get:function(){return this.EE.$E.duration}},{key:"muted",get:function(){return this.EE.$E.muted},set:function(t){this.EE.$E.muted=t}},{key:"paused",get:function(){return this.EE.$E.paused}},{key:"played",get:function(){return this.EE.$E.played}},{key:"poster",get:function(){return this.EE.$E.poster},set:function(t){t?this.EE.$E.poster=t:this.EE.$E.removeAttribute("poster")}},{key:"controls",get:function(){return this.EE.$E.controls},set:function(t){t?this.EE.$E.controls=t:this.EE.$E.removeAttribute("controls")}},{key:"ended",get:function(){return this.EE.$E.ended}},{key:"seeking",get:function(){return this.EE.$E.seeking}},{key:"error",get:function(){return this.EE.$E.error}},{key:"width",get:function(){return this.EE.$E.offsetWidth}},{key:"height",get:function(){return this.EE.$E.offsetHeight}},{key:"src",get:function(){return this.EE.$E.src},set:function(t){this.EE.$E.src=t}},{key:"aw",get:function(){return this.EE.$E.videoWidth}},{key:"hw",get:function(){return this.EE.$E.videoHeight}},{key:"Cw",get:function(){return this.EE.$E.textTracks}},{key:"Get",get:function(){return this.EE.$E.duration===1/0}},{key:"dg",get:function(){var t=this.EE.$E.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.uvt()||0),new UO([{rI:n,uI:i}])}},{key:"uw",get:function(){return this.EE.$E.playbackRate},set:function(t){t>0&&(this.EE.$E.playbackRate=t)}},{key:"g_",get:function(){return this.EE.g_}},{key:"ult",get:function(){return void 0!==this.EE.$E.webkitSupportsPresentationMode&&this.EE.$E.webkitSupportsPresentationMode("picture-in-picture")}},{key:"olt",get:function(){return"picture-in-picture"===this.EE.$E.webkitPresentationMode}},{key:"hlt",get:function(){return this.EE.$E.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.EE.$E.webkitSetPresentationMode(t)}}]),n}(tP);!function(t){t[t.clt=0]="clt",t[t.flt=1]="flt",t[t.TZ=2]="TZ",t[t.vlt=3]="vlt",t[t.dlt=4]="dlt"}(bF||(bF={}));var RF=function(){function t(){this.llt=!1,this._lt=null,this.wlt=null,this.glt=null,this.gL=[],this.ylt=null}var n=t.prototype;return n.mlt=function(){if(!this.llt)return!1;for(var t=this._lt,n=this.wlt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.plt=function(t){switch(t.do){case bF.clt:return this.klt(t.Fs,t.$et,t.KC);case bF.flt:return this.Alt(t.blt);case bF.TZ:return this.Tlt(t.Slt,t.Elt);case bF.vlt:return this.yL();case bF.dlt:return this.Rlt(t.KC)}},n.klt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.wlt,g(i)||(r.timestampOffset=i),r.appendBuffer(n),t.next=6,this.Ilt();case 6:e(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),e(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,e){return t.apply(this,arguments)}}(),n.Alt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.wlt,e=i.buffered,!(e.length>0)){t.next=11;break}if(r=e.start(0),s=l.min(e.end(0),n),!((u=s-r)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(r,s),t.next=11,this.Ilt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Tlt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._lt,e=this.wlt,r=e.buffered,!((s=r.length)>0)){t.next=12;break}if(u=l.max(r.start(0),n),o=l.min(r.end(s-1),i),!(o-u>0)){t.next=12;break}return e.remove(u,o),t.next=12,this.Ilt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.yL=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._lt,i=this.wlt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,e=i.updating,i.abort(),!e){t.next=10;break}return t.next=10,Ad(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.Rlt=function(t){return T.resolve(t())},n.Nlt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rz(n)){t.next=5;break}return t.next=3,Ts(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rz=function(t){var n=this._lt;if(!n.open||"open"!==n.readyState||!this.mlt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Ilt=function(){var t=this;return new T(function(n,i){var e,r=t.wlt,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new f(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.Dlt=function(){var t=this;this.glt||(0!==this.gL.length||this.ylt)&&this.mlt()&&(this.glt=this.Clt().then(function(){t.glt=null}))},n.Clt=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.gL.length>0)){t.next=9;break}if(this.mlt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.gL.shift(),t.next=7,this.plt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.Nlt("decode").catch(E);case 16:if(!this.ylt){t.next=26;break}return t.prev=17,t.next=20,this.Nlt(this.ylt.hh);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.ylt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.WP=function(t,n){this.llt||(this.llt=!0,this._lt=t,this.wlt=n,this.Dlt())},n.wg=function(t,n,i){this.gL.push({do:bF.clt,Fs:t,$et:n,KC:i}),this.Dlt()},n.xlt=function(t,n){this.gL.push({do:bF.TZ,Slt:t,Elt:n}),this.Dlt()},n.Plt=function(t){this.gL.push({do:bF.flt,blt:t}),this.Dlt()},n.Fo=function(){this.gL.push({do:bF.vlt}),this.Dlt()},n.Olt=function(t){this.gL.push({do:bF.dlt,KC:t}),this.Dlt()},n.Wht=function(t){this.ylt={hh:t},this.Dlt()},n.ph=function(){this.gL.length=0,this.ylt=null},t}();var IF=function(t){function n(n){var i;return(i=t.call(this)||this)._lt=void 0,i.wlt=null,i.Blt=new RF,i.Lg=NaN,i.Llt=null,i.Go=function(t){return i.dispatchEvent(t)},i.Mlt=function(){return i.k7()},i._lt=n,i.Wl(),i}U(n,t);var i=n.prototype;return i.Ult=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Uit=function(t,n,i,e){var r=this;if(!this.wlt||!n)return T.resolve();var s=n.initializer.Fs,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Llt,s);if(e&&(Y.Vr||this.Blt.Fo()),e)if(Y.Vr);else{var o=t&&t.rI,h=t&&t.rI+t.nw-.5;this.Blt.xlt(o,h)}return u&&(this.Blt.wg(s,i,this.Ult.bind(this)),this.Llt=s),new T(function(t,e){r.Blt.wg(n.m4s.Fs,i,function(n){n?e(n):t()})})},i.cV=function(){var t=this;return new T(function(n){t.Blt.Olt(function(){var i=t.tg;i&&i.length&&(t.Lg=i.end(i.length-1)),n()})})},i.Flt=function(t){if(!this.wlt){try{this.wlt=this._lt.addSourceBuffer(t),this.wlt.addEventListener("updatestart",this.Go),this.wlt.addEventListener("updateend",this.Go)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this._lt.addEventListener("sourceclose",this.Mlt),this.Blt.WP(this._lt,this.wlt)}return!0},i.mlt=function(){for(var t=0;t<this._lt.sourceBuffers.length;t++)if(this._lt.sourceBuffers[t]===this.wlt)return!0;return!1},i.Qh=function(t){var n=this,i=this.tg;if(!(this.wlt&&i&&i.length))return t&&t();this.wlt.remove(0,i.end(i.length-1)),t&&this.wlt.addEventListener("updateend",function i(e){n.wlt.removeEventListener("updateend",i),t()})},i.Wl=function(t){this.Llt=null,this.Lg=NaN,this.k7(),this.Qh(t)},i.Plt=function(t){this.wlt&&this.Blt.Plt(t)},i.Wht=function(t){this.wlt&&this.Blt.Wht(t)},i.k7=function(){this.Blt.ph(),"open"===this._lt.readyState&&this.wlt&&this.wlt.updating&&this.wlt.abort()},L(n,[{key:"tg",get:function(){return this.wlt&&this.mlt()?new UO(GO(this.wlt.buffered)):null}},{key:"Hx",get:function(){return this.wlt&&this.wlt.updating}},{key:"iw",get:function(){var t=this.tg;return!t||!g(this.Lg)&&WO(t,this.Lg)}}]),n}(tP),NF="mp4a.40.34";var DF=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Hlt=!1,i.RN=function(){var t=i.Hlt;i.Hlt=i.Hx,!t&&i.Hlt?i.dispatchEvent("updatestart"):t&&!i.Hlt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new IF(n),i.videoTrackBuffer=new IF(n),i.audioTrackBuffer.addEventListener("updatestart",i.RN),i.videoTrackBuffer.addEventListener("updatestart",i.RN),i.audioTrackBuffer.addEventListener("updateend",i.RN),i.videoTrackBuffer.addEventListener("updateend",i.RN),i.Wl(),i}U(n,t);var i=n.prototype;return i.Uit=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.IK&&i.push(this.audioTrackBuffer.Uit(n.metadata.IK,n.IK,n.metadata.IK&&n.metadata.IK.P6===NF?n.metadata.IK.rI:NaN,n.metadata.D5)),n.NK&&i.push(this.videoTrackBuffer.Uit(n.metadata.NK,n.NK,NaN,n.metadata.D5)),t.next=7,T.all(i);case 7:this.iw&&(this.audioTrackBuffer.Wht(),this.videoTrackBuffer.Wht());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wht=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],n&&e.push(this.audioTrackBuffer.cV()),i&&e.push(this.videoTrackBuffer.cV()),t.next=5,T.all(e);case 5:this.iw&&(this.audioTrackBuffer.Wht(),this.videoTrackBuffer.Wht());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WP=function(t){var n,i={};for(var e in t)if(Z.call(t,e)){var r=t[e];if(r.NK){var s='video/mp4; codecs="'+r.NK+'"';this.videoTrackBuffer.Flt(s),i.NK=this.videoTrackBuffer}if(r.IK){var u=(n=r.IK)!==NF||Wy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Flt(u),i.IK=this.audioTrackBuffer}0}return i},i.Wl=function(t){var n=!1,i=!1;this.Hlt=!1,this.audioTrackBuffer.Wl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Wl(function(){if(i=!0,n&&t)return t()})},i.Plt=function(t){this.audioTrackBuffer.Plt(t),this.videoTrackBuffer.Plt(t)},i.k7=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.k7(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.k7()},L(n,[{key:"tg",get:function(){var t=this.audioTrackBuffer.tg,n=this.videoTrackBuffer.tg;return t&&n?zO(t,n):t||n||FO}},{key:"uM",get:function(){return this.audioTrackBuffer.tg||FO}},{key:"oM",get:function(){return this.videoTrackBuffer.tg||FO}},{key:"Hx",get:function(){return this.audioTrackBuffer.Hx||this.videoTrackBuffer.Hx}},{key:"iw",get:function(){return this.audioTrackBuffer.iw&&this.videoTrackBuffer.iw}}]),n}(tP),CF=1,xF=.05,PF=.01;function OF(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function BF(t,n,i,e){var r=qO(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-xF)){var u,o;do{if((u=OF(t,n))<0)return;t=(o=n.start(u)+PF)+xF}while(n.end(u)-o<xF);for(var h=o-s,a=zO(new UO([{rI:s,uI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<CF?o:void 0}}var LF=100,MF=1e-4,UF=500,FF=Yy,HF=Y.Ir,VF=5,zF=["resize","volumechange"],XF=function(n){function i(t,i){var e;return(e=n.call(this)||this).Vlt=void 0,e.EE=void 0,e.zlt=!0,e.iw=!1,e.Xlt=!1,e.Wlt=!1,e.qlt=null,e.hh=!1,e._lt=null,e.wlt=null,e.Glt=null,e.llt=!1,e.jlt=0,e.Qlt=iA.zI(),e.Hft=1,e.Ylt=!1,e.yz=!1,e.ow=!1,e.Zlt=new cs,e.Jlt=!1,e.$lt=!1,e.Klt=void 0,e.t_t=null,e.n_t=null,e.i_t=Tl.z_,e.e_t=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.r_t=function(){e.e_t=!1,e.s_t(),e.u_t(),e.o_t()},e.h_t=function(){e.a_t(),e.o_t(),e.c_t()},e.HE=function(){e.f_t(),e.a_t(),e.bz()?e.dispatchEvent("playing"):e.e_t=!0},e.v_t=function(){e.e_t=!1,e.s_t(),e.Bw()},e.ez=function(){e.d_t()},e.FE=function(){e.l_t(),e.c_t()},e.MV=function(){var t=e.i_t,n=e.g_;t!==n&&(e.i_t=n,e.dispatchEvent(new s_(e.uvt(),n))),e.c_t()},e.u_t=function(){e.jlt&&(c(e.jlt),e.jlt=0,HF&&(e.EE.$E.removeEventListener("timeupdate",e.Sq),e.removeEventListener(Vl.Dl,e.Nq)))},e.__t=function(){e.jlt||(e.jlt=a(e.w_t,UF)),HF&&(e.EE.$E.addEventListener("timeupdate",e.Sq),e.addEventListener(Vl.Dl,e.Nq),e.Sq()),e.w_t()},e.g_t=function(){var t=e.uvt(),n=WO(e.y_t,t);e.EE.sw||e.ow&&!n||e.m_t()||e.__t()},e.w_t=function(t){if(!(e.t_t||void 0===t&&e.$lt)){var n,i=e.uvt(),r=e.tg;if(void 0===t){if(void 0===(n=BF(i,r,e.y_t,e.Xlt)))return}else{if(!WO(r,t))return;n=t}var s=function(){e.EE.$E.currentTime=n,e.p_t(n),e.u_t(),e.$lt=!0};jt(n,i)?e.t_t=o(function(){e.t_t=null,i=e.uvt(),jt(n,i)&&(n+=1e3*UF,s())},UF):s()}},e.cG=function(){var t=e.Glt;if(e.k_t(),e.EE.$E.readyState===Tl.z_)return e.Glt=t,void e.EE.$E.addEventListener("loadedmetadata",e.cG);l.abs(e.EE.$E.currentTime-t)<MF?e.FE():(e.EE.$E.currentTime=t,e.$lt=!1,e.ez()),e.Glt=null,e.wO(e.Hft),e.EE.iG(),e.A_t(t)&&e.Bw()},e.b_t=function(){if(!e.Xlt){var t=e.EE.$E,n=e.tg,i=t.currentTime;e.T_t(n,i)&&(e.Xlt=!0,e.a_t(),i=t.currentTime,e.T_t(n,i)?e.Xlt=!0:e.Xlt=!1,e.MV()),e.n_t=i}},e.f_t=function(){e.s_t(),e.qlt=a(e.b_t,LF)},e.s_t=function(){e.Xlt=!1,c(e.qlt)},e.S_t=function(){e.Xlt&&(e.Xlt=!1,e.MV())},e.Sq=function(){var t=e.wlt;if(t)if(t.iw)e.Eq();else{var n=t.uM,i=t.oM;if(0!==n.length&&0!==i.length){var r=e.uvt();if(r<n.start(0)||r<i.start(0))e.Eq();else WO(n,r)!==WO(i,r)?e.Rq():e.Eq()}else e.Eq()}},e.Nq=function(){if(!(e.ow||e.$lt||e.EE.$E.seeking||e.g_>=Tl.q_)){var t=e.wlt;if(t){var n=e.uvt(),i=iA.FI(t.uM),r=iA.FI(t.oM);if(i.gR(n)&&r.gR(n))i.TI(r).NI(n-VF,n)&&(e.EE.$E.currentTime=n,e.$lt=!0)}}},e.E_t=function(){e._lt.open=!0,e._lt.removeEventListener("sourceopen",e.E_t),e._lt.removeEventListener("webkitsourceopen",e.E_t)},e.lW=function(t){var n=e.EE.$E.error&&e.EE.$E.error.code;n&&e.ME(new eP(iP.QJ,{code:"VEE"+n}))},e.Go=function(t){e.dispatchEvent({type:t.type})},e.R_t=function(){e.wlt&&e.wlt.iw&&e.dispatchEvent("durationchange")},e.I_t=function(){e.removeEventListener("N_t",e.I_t),e.Jlt=!1,e.D_t(e.Hft)},e.Vlt=t,e.EE=i,e}U(i,n);var r=i.prototype;return r.D_t=function(t){this.yz&&(t=0),this.EE.uw=t,0!==t||FF?this.Ylt&&(this.Ylt=!1,AF(this.EE.Pw())):(this.Ylt=!this.EE.sw||this.Ylt,this.EE.Ow()),this.o_t()},r.wO=function(t){this.Hft=t,this.Jlt||this.D_t(t)},r.C_t=function(t){var n=qO(this.y_t,t);return-1===n?null:this.y_t.end(n)},r.d_t=function(){this.$lt||this.ow||(this.ow=!0,this.dispatchEvent("seeking"))},r.l_t=function(){this.$lt=!1,this.x_t(),this.ow&&(this.ow=!1,this.dispatchEvent("seeked")),this.g_t()},r.a_t=function(){this.$lt||this.g_t()},r.x_t=function(){this.Klt&&(h(this.Klt),this.Klt=void 0)},r.p_t=function(t){var n=this;this.Klt=o(function(){n.w_t(t+2)},750)},r.c_t=function(){this.e_t&&this.bz()&&(this.e_t=!1,this.dispatchEvent("playing"))},r.o_t=function(){var t=this.zlt,n=this.paused;this.zlt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.wV=function(t,n){if(!(t+.001>n)){var i=new iA([t,n]);this.Qlt=this.Qlt.bI(i).SI(iA.FI(this.tg)),this.Qlt.gR(this.uvt())&&this.g_t()}},r.A_t=function(t){return t>=this.EE.$E.duration-(this.paused?0:.5)},r.P_t=function(t){return g(this.EE.$E.duration)||(t=l.min(t,this.EE.$E.duration)),l.max(0,t)},r.k_t=function(){this.Glt=null,this.EE.$E.removeEventListener("loadedmetadata",this.cG)},r.Sz=function(){return this.g_<Tl.q_},r.bz=function(){return!(this.paused||this.ended||this.error||this.Sz())},r.T_t=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-xF)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.n_t&&this.n_t===n){if(this.A_t(n))return!1;if(r>n||e-n<1/6)return!0}return!1},r.Rq=function(){this.yz||(this.yz=!0,this.D_t(0),this.MV())},r.Eq=function(){this.yz&&(this.yz=!1,this.wO(this.Hft),this.EE.$E.currentTime=this.EE.$E.currentTime,this.MV())},r.O_t=function(){var t=this.EE.$E;t.addEventListener("timeupdate",this.S_t),this.EE.Qo(Ko.kc,this.r_t),this.EE.Qo(Ko.Ac,this.h_t),this.EE.Qo(Ko.dc,this.v_t),t.addEventListener("seeking",this.ez),t.addEventListener("seeked",this.FE);for(var n=0;n<zF.length;n++){var i=zF[n];t.addEventListener(i,this.Go)}t.addEventListener("error",this.lW),t.addEventListener("durationchange",this.R_t),this.EE.Qo(Ko.Bc,this.Go),this.EE.Qo(Vl.Dl,this.MV),this.EE.Qo(Vl.K_,this.HE)},r.B_t=function(){var t=this.EE.$E;t.removeEventListener("timeupdate",this.S_t),this.EE.$o(Ko.kc,this.r_t),this.EE.$o(Ko.Ac,this.h_t),this.EE.$o(Ko.dc,this.v_t),t.removeEventListener("seeking",this.ez),t.removeEventListener("seeked",this.FE);for(var n=0;n<zF.length;n++){var i=zF[n];t.removeEventListener(i,this.Go)}t.removeEventListener("error",this.lW),t.removeEventListener("durationchange",this.R_t),this.EE.$o(Ko.Bc,this.Go),this.EE.$o(Vl.Dl,this.MV),this.EE.$o(Vl.K_,this.HE)},r.L_t=function(){var n=this.EE.$E,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.M_t(),this._lt=new i,this._lt.addEventListener("sourceopen",this.E_t),this._lt.addEventListener("webkitsourceopen",this.E_t),n.src=AO(this._lt),n.load()):this.ME(new eP(iP.ZJ,{code:"MVE2720"})):this.ME(new eP(iP.ZJ,{code:"MVE2650"}))},r.M_t=function(){if(this.llt=!1,this.wlt&&(this.wlt.Wl(),this.wlt=null),this._lt){this.Zlt.Fo();var t=this.EE.$E;t.src&&(bO(t.src),Pe(t)),this._lt=null}},r.setup=function(){this.L_t(),this.O_t(),this.EE.$E.parentNode!==this.Vlt&&this.Vlt.appendChild(this.EE.$E)},r.ME=function(t){this.hh=t,this.dispatchEvent({type:"error",error:t})},r.m_t=function(){return this.wlt&&this.wlt.Hx},r.U_t=function(t){var n=this.uvt()-l.max(30,3*t.JK.R$.targetDuration);this.dispatchEvent("N_t"),this.wlt&&!t.N5&&this.wlt.Plt(n),this.g_t()},r.Uit=function(t){if(!this._lt.open||"closed"===this._lt.readyState)return T.reject("F_t");if(!this.wlt)return T.reject("H_t");var n=this.V_t(t);return this.Wlt||(this.Wlt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.V_t=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(e=[]).push(this.wlt.Uit(n)),i.N5&&e.push(this.Wht(!!n.IK,!!n.NK)),n=null,t.next=7,T.all(e);case 7:this.U_t(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Wht=function(t,n){return this._lt.open&&"closed"!==this._lt.readyState?this.wlt?this.wlt.Wht(t,n):T.reject("H_t"):T.reject("F_t")},r.play=function(){var t=this.EE.uw;this.iw=!1,0!==this.EE.uw||FF?(AF(this.EE.Pw()),this.EE.iG(),this.EE.uw=t):this.Ylt=!0,this.o_t()},r.pause=function(){0!==this.EE.uw||FF?this.EE.Ow():this.Ylt=!1,this.o_t()},r.Bw=function(){this.iw||(this.iw=!0,this.EE.Ow(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return c(this.qlt),this.qlt=null,this.u_t(),this.k_t(),this.M_t(),this.B_t(),this.Jo(),this.EE.$E},r.reset=function(){c(this.qlt),this.qlt=null,this.u_t(),this.k_t(),this.zlt=!0,this.iw=!1,this.Xlt=!1,this.Wlt=!1,this.hh=!1,this.ow=!1,this.e_t=!1,this.Eq(),this.L_t(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.Gw=function(){return this.EE.$E},r.uvt=function(){return null===this.Glt?this.EE.$E.currentTime:this.Glt},r.Vvt=function(t){var n=this.C_t(t);t=this.P_t(t),this.Xlt=!1,this.EE.$E.error&&(this.Wlt=!1,this.hh=!1,this.L_t()),this.iw&&(this.iw=this.A_t(t)),this.u_t(),null!==n&&(t=n),this.k_t(),this.Glt=t,this.ow=!0,this.dispatchEvent("Ovt"),this.dispatchEvent("seeking"),this.cG()},r.z_t=function(t){return this._lt.open?T.resolve(null):Ad(this._lt,"sourceopen",t)},r.X_t=function(t,n,i){ds(i),n>0&&(this._lt.duration=n),this.wlt=new DF(this._lt);var e=this.wlt.WP(t);return this.dispatchEvent("rlt"),this.wlt.addEventListener("updatestart",this.u_t),this.wlt.addEventListener("updateend",this.g_t),this.llt=!0,this.dispatchEvent("llt"),e},r.Evt=function(t,n,i){var e=this;this.Zlt.Fo();var r=new cs;return r.Ho(i),this.Zlt=r,this.wlt?T.resolve(null):this.z_t(r.zo).then(function(){return e.X_t(t,n,i)})},r.B1=function(t){Y.Vr&&(this.Jlt=!0,this.D_t(0),this.removeEventListener("N_t",this.I_t),this.addEventListener("N_t",this.I_t),this.wlt&&this.wlt.k7(t))},r.canPlayCodecs=function(t){return this.EE.$E.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"y_t",get:function(){return this.Qlt.yR()}},{key:"g_",get:function(){var t=this.EE.g_;return t>Tl.W_&&(this.Xlt||this.yz)?Tl.W_:t}},{key:"ig",get:function(){return this.EE.$E}},{key:"tg",get:function(){return this.wlt?this.wlt.tg:this.EE.$E.buffered}},{key:"uM",get:function(){return this.wlt?this.wlt.uM:FO}},{key:"oM",get:function(){return this.wlt?this.wlt.oM:FO}},{key:"volume",get:function(){return this.EE.$E.volume},set:function(t){this.EE.$E.volume=t}},{key:"duration",get:function(){return this.EE.$E.duration}},{key:"muted",get:function(){return this.EE.$E.muted},set:function(t){this.EE.$E.muted=t}},{key:"paused",get:function(){return this.EE.sw&&!this.Ylt}},{key:"played",get:function(){return this.EE.$E.played}},{key:"poster",get:function(){return this.EE.$E.poster},set:function(t){t?this.EE.$E.poster=t:this.EE.$E.removeAttribute("poster")}},{key:"controls",get:function(){return this.EE.$E.controls},set:function(t){t?this.EE.$E.controls=t:this.EE.$E.removeAttribute("controls")}},{key:"ended",get:function(){return this.iw}},{key:"seeking",get:function(){return this.ow}},{key:"error",get:function(){return this.hh||this.EE.$E.error}},{key:"width",get:function(){return this.EE.$E.offsetWidth||this.EE.$E.parentNode.offsetWidth}},{key:"height",get:function(){return this.EE.$E.offsetHeight||this.EE.$E.parentNode.offsetHeight}},{key:"uw",get:function(){return this.Hft},set:function(t){var n=this.Hft;t>0&&(this.wO(t),this.Hft!==n&&this.dispatchEvent("ratechange"))}},{key:"aw",get:function(){return this.EE.$E.videoWidth||0}},{key:"hw",get:function(){return this.EE.$E.videoHeight||0}},{key:"Svt",get:function(){return this.llt}}]),i}(tP),WF=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","W_t","B1",Vl.Dl],qF=.04,GF=.25,jF=4,QF=.75,YF=1.5,ZF=.25,JF=function(t){function n(){var n;return(n=t.call(this)||this).q_t=null,n.G_t=null,n.QI=!1,n.$I=1,n.ZI=1,n.j_t=null,n.Q_t=void 0,n.tlt=function(t){n.dispatchEvent(t)},n.Y_t=function(t){n.G_t||n.dispatchEvent(t)},n.Z_t=function(t){var i=t.error||n.G_t.error;n.audioStream=null,n.j_t=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.j_t})},n.J_t=function(){n.G_t&&!n.G_t.loaded||n.q_t&&!n.q_t.loaded||(n.G_t&&(n.G_t.removeEventListener("loaded",n.J_t),n.G_t.play()),n.q_t&&(n.q_t.removeEventListener("loaded",n.J_t),n.q_t.play()))},n.$_t=function(){n.K_t(),n.G_t&&n.q_t&&(n.G_t.addEventListener("timeupdate",n.twt),n.q_t.addEventListener("timeupdate",n.twt))},n.K_t=function(){h(n.Q_t),n.G_t&&n.G_t.removeEventListener("timeupdate",n.twt),n.q_t&&(n.q_t.uw=n.ZI,n.q_t.removeEventListener("timeupdate",n.twt))},n.nwt=function(){n.g_<Tl.q_&&n.K_t()},n.twt=function(){if(h(n.Q_t),n.G_t&&n.q_t){var t=n.G_t.uw,i=n.G_t.uvt()-n.q_t.uvt(),e=l.max(jF,YF*t),r=l.min(GF,QF*t);if(l.abs(i)<qF)n.q_t.uw!==t&&(n.q_t.uw=t);else{var s=ZF,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.q_t.uw=u,n.Q_t=o(n.twt,1e3*s)}}else n.K_t()},n.addEventListener("playing",n.$_t),n.addEventListener("ended",n.K_t),n.addEventListener(Vl.Dl,n.nwt),n}U(n,t);var i=n.prototype;return i.N1=function(t,n){n?(t.addEventListener("timeupdate",this.tlt),t.addEventListener("error",this.Z_t)):(t.addEventListener("timeupdate",this.Y_t),t.addEventListener("error",this.tlt));for(var i=0;i<WF.length;i++){var e=WF[i];t.addEventListener(e,this.tlt)}},i.th=function(t){t.removeEventListener("timeupdate",this.tlt),t.removeEventListener("timeupdate",this.Y_t),t.removeEventListener("timeupdate",this.twt),t.removeEventListener("error",this.tlt),t.removeEventListener("error",this.Z_t),t.removeEventListener("loaded",this.J_t);for(var n=0;n<WF.length;n++){var i=WF[n];t.removeEventListener(i,this.tlt)}},i.iwt=function(t){this.G_t&&this.G_t.iwt(t),this.q_t&&this.q_t.iwt(t)},i.play=function(){if(this.G_t&&!this.G_t.loaded||this.q_t&&!this.q_t.loaded)return this.G_t&&this.G_t.addEventListener("loaded",this.J_t),void(this.q_t&&this.q_t.addEventListener("loaded",this.J_t));this.J_t()},i.pause=function(){this.G_t&&(this.G_t.removeEventListener("loaded",this.J_t),this.G_t.pause()),this.q_t&&(this.q_t.removeEventListener("loaded",this.J_t),this.q_t.pause()),this.K_t()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.G_t&&this.G_t.load(),-1!==t.indexOf("video")&&this.q_t&&this.q_t.load()):(this.G_t&&this.G_t.load(),this.q_t&&this.q_t.load())},i.Zv=function(t){this.Jo(),this.j_t=null,t?(-1!==t.indexOf("audio")&&this.G_t&&(this.G_t.Zv(),this.G_t=null),-1!==t.indexOf("video")&&this.q_t&&(this.q_t.Zv(),this.q_t=null)):(this.G_t&&(this.G_t.Zv(),this.G_t=null),this.q_t&&(this.q_t.Zv(),this.q_t=null))},i.B1=function(t){this.G_t&&this.G_t.pause(),this.q_t&&this.q_t.pause(),this.K_t(),t&&-1===t.indexOf("audio")||!this.G_t||this.G_t.B1(),t&&-1===t.indexOf("video")||!this.q_t||this.q_t.B1()},i.Uit=function(t){this.G_t&&t.IK&&this.G_t.Uit(t),this.q_t&&t.NK&&this.q_t.Uit(t)},i.ewt=function(t){return this.q_t?this.q_t.ewt(t):""},i.rwt=function(){return this.q_t?this.q_t.rwt():0},i.swt=function(){return this.q_t?this.q_t.swt():0},i.Gw=function(){return this.q_t&&this.q_t.Gw()},i.uvt=function(){return this.G_t?this.G_t.uvt():this.q_t?this.q_t.uvt():NaN},i.Vvt=function(t,n){this.G_t&&this.G_t.Vvt(t,n),this.q_t&&this.q_t.Vvt(t,n)},L(n,[{key:"tg",get:function(){return this.G_t&&this.q_t?zO(this.G_t.tg,this.q_t.tg):this.G_t?this.G_t.tg:this.q_t?this.q_t.tg:FO}},{key:"volume",get:function(){return this.$I},set:function(t){this.$I!==t&&(this.$I=t,this.G_t&&(this.G_t.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.G_t&&this.G_t.duration||this.q_t&&this.q_t.duration||NaN}},{key:"muted",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.G_t&&(this.G_t.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.G_t&&!this.q_t)&&(!(this.G_t&&!this.G_t.loaded)&&!(this.q_t&&!this.q_t.loaded))}},{key:"paused",get:function(){return!this.G_t&&!this.q_t||(this.G_t&&this.G_t.paused||this.q_t&&this.q_t.paused||!1)}},{key:"ended",get:function(){return this.G_t&&this.G_t.ended||this.q_t&&this.q_t.ended||!1}},{key:"seeking",get:function(){return this.G_t&&this.G_t.seeking||this.q_t&&this.q_t.seeking||!1}},{key:"error",get:function(){return this.G_t&&this.G_t.error||this.q_t&&this.q_t.error}},{key:"warning",get:function(){return this.j_t||this.G_t&&this.G_t.warning||this.q_t&&this.q_t.warning}},{key:"audioStream",get:function(){return this.G_t},set:function(t){this.G_t&&(this.th(this.G_t),this.G_t.Zv()),this.G_t=t,this.G_t&&(this.G_t.volume=this.$I,this.G_t.muted=this.QI,this.G_t.uw=this.ZI,this.N1(this.G_t,!0))}},{key:"videoStream",get:function(){return this.q_t},set:function(t){this.q_t&&(this.th(this.q_t),this.q_t.Zv()),this.q_t=t,this.q_t&&(this.q_t.uw=this.ZI,this.N1(this.q_t,!1))}},{key:"uw",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(t<0||(this.ZI=t,this.G_t&&(this.G_t.uw=t),this.q_t&&(this.q_t.uw=t),this.dispatchEvent("ratechange")))}},{key:"g_",get:function(){return this.G_t&&this.q_t?l.min(this.G_t.g_,this.q_t.g_):this.G_t?this.G_t.g_:this.q_t?this.q_t.g_:Tl.z_}},{key:"aw",get:function(){return this.q_t?this.q_t.aw:0}},{key:"hw",get:function(){return this.q_t?this.q_t.hw:0}}]),n}(tP),$F=function(){function t(t,n,i,e){var r=this;this.uwt=void 0,this.owt=void 0,this.nw=void 0,this.KC=void 0,this.hwt=void 0,this.awt=void 0,this.Bg=void 0,this.Tv=0,this.Wv=0,this.running=!1,this.cwt=function(t){return r.Yh(t)},this.uwt=t,this.owt=n,this.nw=i,this.KC=e,this.hwt=t.gh(),this.awt=(n-this.hwt)/(i||1)}var n=t.prototype;return n.fwt=function(){return this.uwt.nc(this.owt),this.running=!1,this.vwt(),this.KC()},n.rI=function(){var t=this;this.running=!0,this.nw?this.dwt():Kx(function(){t.running&&t.fwt()})},n.Yh=function(t){if(this.vwt(),this.running){void 0===this.Bg&&(this.Bg=t);var n=this.hwt,i=this.awt,e=this.owt,r=this.uwt,s=n+l.max(0,t-this.Bg)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.fwt();if(r.nc(s))return this.fwt();this.dwt()}},n.dwt=function(){this.Tv=cT(this.cwt),this.Wv=oT(this.cwt)},n.vwt=function(){fT(this.Tv),aT(this.Wv)},t}();var KF=function(t){function n(n,i){var e;return(e=t.call(this)||this).lwt=void 0,e.Vs=void 0,e._wt=null,e.wwt=null,e.gwt=NaN,e.ywt=!1,e.mwt=!1,e.pwt=1,e.kwt=void 0,e.Awt=void 0,e.bwt=function(t){e.Twt(t)||e.dispatchEvent(t)},e.lwt=n,e.Vs=i,e}U(n,t);var i=n.prototype;return i.pause=function(){this.lwt.pause()},i.play=function(){AF(this.lwt.play()),this.Swt()},i.Ewt=function(t){if(!(this.g_<Tl.q_))return this.k7(),this.ywt=!0,this.bwt({type:"canplay"}),t&&t();this.kwt=o(this.Awt,100)},i.jh=function(t){this.mwt=!0,this.ywt=!1,this.lwt.removeEventListener("canplay",this.Awt),this.Awt=this.Ewt.bind(this,t),this.lwt.addEventListener("canplay",this.Awt),this.lwt.load(),this.kwt=o(this.Awt,100)},i.k7=function(){this.mwt=!1,this.lwt.removeEventListener("canplay",this.Awt),void 0!==this.kwt&&(h(this.kwt),this.kwt=void 0)},i.Rwt=function(t){if(this.pause(),this.k7(),null===t)return this._wt=null,void(this.ywt=!1);this.ywt=!1,this.wwt&&this.wwt.ttt(this.lwt.src),this.wwt=t[this.Vs],this.lwt.src=this.wwt.ntt,this._wt=t},i.Gw=function(){return this.lwt},i.Iwt=function(t){this.gwt=l.max(t||0,0),this.lwt.currentTime=this.gwt},i.Nwt=function(){return this.lwt.currentTime},i.Dwt=function(t){var n=this._wt&&this._wt.metadata,i=n&&n.rI,e=n&&n[this.Vs].rI,r=n&&n[this.Vs].nw;return!!this.o4&&(!(t<i)&&t<e+l.min(r,this.lwt.duration))},i.Swt=function(){this.pwt!==this.lwt.playbackRate&&(this.lwt.playbackRate=this.pwt,Zy&&this.pwt>0&&this.g_!==Tl.z_&&(this.lwt.currentTime=this.lwt.currentTime))},i.Twt=function(t){return!!(Zy&&"seeked"===t.type&&l.abs(this.lwt.currentTime-this.gwt)>.04)},i.addEventListener=function(n,i){this.FJ(n)||this.lwt.addEventListener(n,this.bwt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.FJ(n)||this.lwt.removeEventListener(n,this.bwt)},i.Jo=function(){for(var n=0,i=this.HJ();n<i.length;n++){var e=i[n];this.lwt.removeEventListener(e,this.bwt)}t.prototype.Jo.call(this)},i.unload=function(){this.wwt&&this.wwt.ttt(this.lwt.src),this.Jo()},L(n,[{key:"volume",get:function(){return this.lwt.volume},set:function(t){this.lwt.volume=t}},{key:"muted",get:function(){return this.lwt.muted},set:function(t){this.lwt.muted=t}},{key:"style",get:function(){return this.lwt.style}},{key:"rI",get:function(){return this._wt?this._wt.metadata[this.Vs].rI:NaN}},{key:"uI",get:function(){return this._wt?this.rI+this._wt.metadata[this.Vs].nw:NaN}},{key:"Cwt",get:function(){return this._wt?this.rI+this.xwt:NaN},set:function(t){this._wt?this.xwt=t-this.rI:this.xwt=0}},{key:"xwt",get:function(){return this.Nwt()},set:function(t){this.Iwt(t)}},{key:"Pwt",get:function(){return this._wt},set:function(t){this.Rwt(t)}},{key:"J7",get:function(){return this._wt&&this._wt.metadata.N5}},{key:"o4",get:function(){return!(!this.ywt||!this._wt)}},{key:"Owt",get:function(){return!(!this.mwt||!this._wt)}},{key:"uw",get:function(){return this.pwt},set:function(t){t>=0&&this.pwt!==t&&(this.pwt=t,this.Swt())}},{key:"sw",get:function(){return this.lwt.paused}},{key:"iw",get:function(){return this.lwt.ended}},{key:"hh",get:function(){return this.lwt.error}},{key:"aw",get:function(){return this.lwt.videoWidth}},{key:"hw",get:function(){return this.lwt.videoHeight}},{key:"g_",get:function(){return this.lwt.readyState}}]),n}(tP);function tH(t,n){return i=t.Pwt.metadata.JK,e=n.Pwt.metadata.JK,i.bandwidth&&e.bandwidth&&Yr(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&Yr(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||Qr(i.s$,e.s$)||Yr(t.uI,n.uI);var i,e}function nH(t){return{rI:t.rI,uI:t.uI}}function iH(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.rI<=n&&n<e.uI)return i}return-1}function eH(t,n,i){return{rI:n?i.metadata.H7:i.metadata[t].rI,uI:i.metadata[t].rI+i.metadata[t].nw}}function rH(t,n,i){return new UO([eH(t,n,i)])}function sH(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(eH(t,n,s))}return VO(new UO(e))}function uH(t,n,i){if(!n)return!1;var e=n.metadata[t].rI,r=e+n.metadata[t].nw;return e<=i&&i<=r}function oH(t,n){var i=qO(t,n);return i<0?n:t.end(i)}var hH=function(){function t(t){this.do=void 0,this.V4=[],this.Bwt=FO,this.Lwt=FO,this.do=t}var n=t.prototype;return n.Uit=function(t){var n,i;this.V4=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.Pwt===t?r.uI=e:i.push({Pwt:t,rI:n,uI:e})},r=0;r<t.length;r++){var s=t[r];if(s.uI<=n.rI)e(s.Pwt,s.rI,s.uI);else if(s.rI>=n.uI)n.rI<n.uI&&(e(n.Pwt,n.rI,n.uI),n.rI=n.uI),e(s.Pwt,s.rI,s.uI);else{var u=void 0,o=void 0;tH(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.rI,a=o.rI,c=l.min(o.uI,s.uI),f=l.min(u.uI,s.uI);h<a&&e(u.Pwt,h,a),a<c&&e(o.Pwt,a,c),c<f&&e(u.Pwt,c,f),n.rI=l.max(n.rI,s.uI)}}return n.rI<n.uI&&e(n.Pwt,n.rI,n.uI),i}(this.V4,function(t,n){var i=n.metadata[t].rI;return{Pwt:n,rI:i,uI:i+n.metadata[t].nw}}(this.do,t)),this.Bwt=jO(this.Bwt,rH(this.do,!1,t)),this.Lwt=jO(this.Lwt,rH(this.do,!0,t)),this.Lwt=(n=this.Lwt,i=this.Bwt,zO(n,XO(i)))},n.Mwt=function(t){t=this.Uwt(t);var n=iH(this.V4,t);return n>=0?this.V4[n].Pwt:null},n.Fwt=function(t,n,i,e){t=this.Uwt(t);var r=this.V4,s=iH(r,t);if(s<0)return null;var u=r[s];if(!i||!uH(this.do,i,t))return e&&uH(this.do,e,t)?null:u.Pwt;if(i!==u.Pwt){if(e&&e===u.Pwt)return null;if(u.uI-t>n)return u.Pwt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.Pwt)return null;if(h.uI-t>n)return h.Pwt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].Pwt);var f=sH(this.do,!1,a);a.push(h.Pwt);var v=sH(this.do,!1,a);if(oH(f,t)<oH(v,t))return h.Pwt}return null},n.Hwt=function(t,n){for(var i=this.V4,e=i.length-1;e>=0;e--){var r=i[e];(r.uI<=t||r.rI>=n)&&ns(i,e)}},n.Wl=function(){this.V4.length=0,this.Bwt=FO,this.Lwt=FO},n.Uwt=function(t){var n=BF(t,this.tg,this.Lwt,!1);return void 0===n?t:n},L(t,[{key:"tg",get:function(){var t=this.V4.map(nH);return VO(new UO(t))}}]),t}(),aH=5,cH=30,fH=function(t){function n(n,i){var e,r;(e=t.call(this)||this).Vwt=void 0,e.Vs=void 0,e.zwt=void 0,e.Xwt=void 0,e.Wwt=void 0,e.Na={IK:{qwt:100,Gwt:100,jwt:100},NK:{qwt:500,Gwt:100,jwt:200}},e.$I=void 0,e.IE=null,e.j_t=null,e.Qwt=null,e.Ywt=void 0,e.Zwt=void 0,e.Jwt=void 0,e.$wt=void 0,e.Kwt=null,e.tgt=void 0,e.ngt=void 0,e.igt=0,e.egt=null,e.rgt=!1,e.LZ=!1,e.sgt=0,e.ugt=0,e.ogt=Tl.z_,e.Plt=function(){var t=e.uvt();e.Wwt.Hwt(t-aH,t+cH)},e.hgt={agt:(r=sn(e),{jh:function(){r.Jwt.addEventListener("ended",this.cgt),r.$wt.addEventListener("ended",this.fgt)},Zv:function(){r.Jwt.removeEventListener("ended",this.cgt),r.$wt.removeEventListener("ended",this.fgt)},vgt:function(){},cgt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.Jwt})},fgt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.$wt})}}),eT:{gs:"eT",jh:function(){},Zv:function(){},vgt:function(){}},dgt:function(){var t=sn(e),n=function n(){t.Jwt.removeEventListener("play",n),t.Jwt.removeEventListener("timeupdate",i),t.Jwt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.Jwt.sw||(!t.seeking&&t.Jwt.Pwt?(i=t.Jwt,(e=t.$wt).o4&&vH(i,e)>=0&&t.lgt(t.hgt._gt)):t.Jwt.removeEventListener("timeupdate",n))};return{gs:"dgt",jh:function(){t.hgt.agt.jh.call(this),this.wgt(),this.vgt()},Zv:function(){t.hgt.agt.Zv.call(this),t.Jwt.removeEventListener("play",n),t.Jwt.removeEventListener("timeupdate",i)},vgt:function(){t.Jwt.Pwt?t.vgt(t.$wt,t.ggt):t.vgt(t.Jwt,t.ggt)},cgt:function(){var n=t.$wt.Pwt;if(n&&n.metadata.D5)return t.$wt.Dwt(t.Jwt.Cwt)&&(t.$wt.Cwt=t.Jwt.Cwt),t.ygt(),void t.Jwt.play();t.hgt.agt.cgt.call(this)},fgt:function(){0},wgt:function(){t.Jwt.removeEventListener("play",n),t.Jwt.sw?t.Jwt.addEventListener("play",n):n.call(t.Jwt)}}}(),_gt:function(){var t=sn(e),n=function(){e.lgt(e.hgt.mgt)};return{gs:"_gt",jh:function(){t.hgt.agt.jh.call(this),t.$wt.addEventListener("seeked",n);var i=vH(t.Jwt,t.$wt),e=t.Na[t.Vs].qwt/1e3,r=l.min(i+e,t.$wt.uI);try{t.$wt.xwt=r}catch(n){t.lgt(t.hgt.dgt),t.pgt(n.message)}},Zv:function(){t.hgt.agt.Zv.call(this),t.$wt.removeEventListener("seeked",n)},vgt:function(){},cgt:function(){t.hgt.agt.cgt.call(this)},fgt:function(){}}}(),mgt:function(){var t,n=sn(e),i=function(){s()},r=function(){s()},s=function(){fT(t),e.$wt.Cwt-e.Jwt.Cwt-1/60>0?t=cT(i):e.lgt(e.hgt.kgt)};return{gs:"mgt",jh:function(){n.hgt.agt.jh.call(this),n.Jwt.addEventListener("timeupdate",r),s()},Zv:function(){n.hgt.agt.Zv.call(this),fT(t),n.Jwt.removeEventListener("timeupdate",r)},vgt:function(){},cgt:function(){n.hgt.agt.cgt.call(this)},fgt:function(){n.hgt.agt.fgt.call(this)}}}(),kgt:function(){var t,n=sn(e),i=function(){var t=e.Agt(e.$wt),n=e.Na[e.Vs].Gwt/l.max(1,e.Jwt.uw);return function(t,n,i,e){return new $F(t,n,i,e)}(t,t.bgt,n,function(){e.lgt(e.hgt.Tgt),e.hgt.Tgt.Sgt()})},r=function(){e.Qwt.rI(),e.lgt(e.hgt.Tgt)};return{gs:"kgt",jh:function(){n.hgt.agt.jh.call(this);var e=n.Na[n.Vs].jwt/l.max(1,n.Jwt.uw);n.Qwt=i(),t=o(r,e),n.$wt.play()},Zv:function(){n.hgt.agt.Zv.call(this),h(t),t=0},vgt:function(){},cgt:function(){n.hgt.agt.cgt.call(this)},fgt:function(){n.hgt.agt.fgt.call(this)}}}(),Tgt:function(){var t=sn(e);return{gs:"Tgt",jh:function(){t.hgt.agt.jh.call(this)},Zv:function(){t.hgt.agt.Zv.call(this),t.Qwt&&t.Qwt.fwt()},vgt:function(){},cgt:function(){t.hgt.agt.cgt.call(this)},fgt:function(){t.hgt.agt.fgt.call(this)},Sgt:function(){t.Qwt=null,t.ygt()}}}()},e.Egt={Rgt:function(){var t=sn(e);return{jh:function(){},Zv:function(){},vgt:function(){t.tgt.vgt()},Vvt:function(n,i,e,r){t.igt=n,t.egt=r,t.lgt(t.hgt.eT);var s=t.Jwt===t.Ywt?i:e,u=t.$wt===t.Ywt?i:e;s&&t.Jwt.Dwt(n)?t.Igt(t.Egt.Ngt):u&&t.$wt.Dwt(n)?t.Igt(t.Egt.Dgt):t.Igt(t.Egt.Cgt)}}}(),Cgt:function(){var t=sn(e),n=function(){e.ggt(),e.$wt.o4?(e.$wt.Dwt(e.igt)||(e.xgt('Could not seek to exact timestamp "'+e.igt+'", seeking instead to: "'+e.$wt.rI+'"'),e.igt=e.$wt.rI),e.Igt(e.Egt.Dgt)):e.Igt(e.Egt.Rgt)};return{jh:function(){t.Pgt(),t.Jwt.Pwt=null,t.$wt.Pwt=null,t.$wt.style.display="none",t.ggt(),this.vgt()},Zv:function(){t.$wt.k7(),t.$wt.style.display=""},vgt:function(){t.$wt.Pwt||t.vgt(t.$wt,n)},Vvt:function(n,i,e,r){t.Ogt(),t.ngt.Vvt(n,i,e,r)}}}(),Ngt:function(){var t=sn(e),n=function(){e.Igt(e.Egt.Rgt),e.lgt(e.hgt.dgt),e.wz(),e.egt&&(e.egt.call(t),e.egt=null)};return{jh:function(){t.Jwt.addEventListener("seeked",n);try{t.Jwt.Cwt=t.igt,t.wz()}catch(n){t.pgt(n.message)}},Zv:function(){t.Jwt.removeEventListener("seeked",n)},vgt:function(){},Vvt:function(n,i,e,r){t.Ogt(),t.ngt.Vvt(n,i,e,r)}}}(),Dgt:function(){var t=sn(e),n=function(){e.Igt(e.Egt.Rgt),e.ygt(),e.egt&&(e.egt.call(t),e.egt=null)};return{jh:function(){t.$wt.style.display="none",t.$wt.addEventListener("seeked",n);try{t.$wt.Cwt=t.igt,t.wz()}catch(n){t.pgt(n.message)}},Zv:function(){t.$wt.style.display="",t.$wt.removeEventListener("seeked",n)},vgt:function(){},Vvt:function(n,i,e,r){t.Ogt(),t.ngt.Vvt(n,i,e,r)}}}()},e.ggt=function(){var t=e.LZ;e.LZ=e.Ywt.Owt||e.Zwt.Owt,t&&!e.LZ&&e.dispatchEvent("updateend"),e.Bgt(),e.wz(),e.Lgt()},e.wz=function(){var t=e.g_;t!==e.ogt&&(e.ogt=t,e.dispatchEvent(Vl.Dl))},e.Vwt=n,e.Vs=i,e.Wwt=new hH(i),e.$I="NK"===i?0:1;var s=function(t){switch(t){case"IK":return"audio";case"NK":return"video"}}(i);return e.zwt=dH(s),e.Xwt=dH(s),n.appendChild(e.zwt),n.appendChild(e.Xwt),e.Ywt=new KF(e.zwt,e.Vs),e.Zwt=new KF(e.Xwt,e.Vs),e.Jwt=e.Ywt,e.$wt=e.Zwt,e.tgt=e.hgt.dgt,e.ngt=e.Egt.Rgt,e.tgt.jh(),e.ngt.jh(),e.a1(),e.Zl(),e}U(n,t);var i=n.prototype;return i.Mgt=function(t){return t===this.Ywt?this.Zwt:this.Ywt},i.xgt=function(t){this.j_t=t,this.dispatchEvent({type:"warning",warning:this.j_t})},i.pgt=function(t){this.IE=t,this.dispatchEvent({type:"error",error:t})},i.Agt=function(t){var n,i=this,e=this.Mgt(t);return n="NK"===this.Vs?{gh:function(){if(i.Kwt!==t)return 0;var n=w(t.style.opacity);return g(n)?1:n},nc:function(n){n=qt(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.Kwt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},bgt:1,Ugt:function(){if(n.gh()!==n.bgt)return n.nc(n.bgt)}}:{gh:function(){return t.volume},nc:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.bgt-i}catch(t){r=t}return r},bgt:this.$I,Ugt:function(){if(n.gh()!==n.bgt)return n.nc(n.bgt)}}},i.vgt=function(t,n){var i=this.Wwt.Fwt(this.uvt(),1,this.Jwt.Pwt,this.$wt.Pwt);return!!i&&(this.Pgt(),t.Pwt=i,t.jh(n),t.J7&&this.dispatchEvent("durationchange"),!0)},i.Fgt=function(){this.Pgt(),this.Wwt.Wl(),this.Ywt.k7(),this.Zwt.k7(),this.ggt()},i.Gw=function(){return this.Jwt.Gw()},i.uvt=function(){return this.seeking?this.igt:this.Jwt.Cwt},i.Vvt=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.ngt.Vvt(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.ygt=function(){var t=this.Jwt;this.lgt(this.hgt.eT),this.Jwt=this.$wt,this.$wt=t,this.Agt(this.Jwt).Ugt(),this.Pgt(),this.$wt.pause(),this.$wt.Pwt=null,this.ggt(),this.lgt(this.hgt.dgt)},i.a1=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.pgt(new eP(iP.QJ,{code:"VEE"+i.error})):t.pgt(new eP(iP.QJ,{code:"VEE"+n.hh.code}));n===t.Jwt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.Ywt),r=i.bind(null,this.Zwt),s=0;s<n.length;s++){var u=n[s];this.Ywt.addEventListener(u,e),this.Zwt.addEventListener(u,r)}this.Ywt.addEventListener("error",e),this.Zwt.addEventListener("error",r);for(var o=0;o<hN.length;o++){var h=hN[o];this.Ywt.addEventListener(h,this.wz),this.Zwt.addEventListener(h,this.wz)}},i.Zl=function(){this.addEventListener("seeking",this.Plt),this.addEventListener("timeupdate",this.Plt)},i.lgt=function(t){var n;if(this.tgt!==t){do{(n=this.tgt).Zv()}while(n!==this.tgt);this.tgt=t,t.jh()}},i.Igt=function(t){var n;if(this.ngt!==t){do{(n=this.ngt).Zv()}while(n!==this.ngt);this.ngt=t,t.jh()}},i.Ogt=function(){this.egt=null,this.Igt(this.Egt.Rgt)},i.load=function(){this.pause(),this.Ogt(),this.Jwt.Pwt=null,this.$wt.Pwt=null,this.lgt(this.hgt.dgt)},i.Zv=function(){this.Ogt(),this.lgt(this.hgt.eT),this.Fgt(),this.Ywt.unload(),this.Zwt.unload(),this.Vwt.removeChild(this.zwt),this.Vwt.removeChild(this.Xwt),this.IE=null,this.j_t=null},i.B1=function(){var t=this,n=this.uvt();this.Fgt(),this.ngt.Vvt(n,!1,!1,function(){t.dispatchEvent("B1",!0)})},i.play=function(){this.Agt(this.Jwt).Ugt(),this.Jwt.o4&&this.Jwt.play()},i.pause=function(){this.Ywt.pause(),this.Zwt.pause()},i.iwt=function(t){var n=this,i=function(){n.dispatchEvent("W_t",!0)};this.pause(),this.Jwt.iw?this.ngt.Vvt(t,this.$wt===this.Ywt,this.$wt===this.Zwt,i):this.$wt.iw?this.ngt.Vvt(t,!1,!1,i):this.$wt.Dwt(t)?this.ngt.Vvt(t,this.$wt===this.Ywt,this.$wt===this.Zwt,i):i()},i.Uit=function(t){this.Pgt(),this.Wwt.Uit(t),this.ggt(),this.ngt.vgt()},i.ewt=function(t){return this.zwt.canPlayType('video/mp4; codecs="'+t+'"')},i.rwt=function(){return l.max(this.zwt.offsetWidth,this.Xwt.offsetWidth)},i.swt=function(){return l.max(this.zwt.offsetHeight,this.Xwt.offsetHeight)},i.Bgt=function(){!this.rgt&&this.loaded&&(this.rgt=!0,this.dispatchEvent("loaded"))},i.Lgt=function(){if("NK"===this.Vs){var t=this.aw,n=this.hw;t>0&&n>0&&(this.sgt!==t||this.ugt!==n)&&(this.sgt=t,this.ugt=n,this.dispatchEvent("resize"))}},i.Pgt=function(){var t=this.LZ;this.LZ=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"tg",get:function(){var t=[];return g(this.Ywt.rI)||t.push({rI:this.Ywt.rI,uI:this.Ywt.uI}),g(this.Zwt.rI)||t.push({rI:this.Zwt.rI,uI:this.Zwt.uI}),jO(VO(new UO(t)),this.Wwt.tg)}},{key:"duration",get:function(){return this.Jwt.J7?this.Jwt.uI:this.$wt.J7?this.$wt.uI:NaN}},{key:"paused",get:function(){return this.Jwt.sw}},{key:"ended",get:function(){return this.Jwt.iw}},{key:"muted",get:function(){return this.Jwt.muted&&this.$wt.muted},set:function(t){this.Jwt.muted=t,this.$wt.muted=t}},{key:"volume",get:function(){return this.$I},set:function(t){this.$I=t,this.Qwt&&this.Qwt.fwt(),this.$wt.volume=0,this.Jwt.volume=this.$I}},{key:"error",get:function(){return this.IE}},{key:"warning",get:function(){return this.j_t}},{key:"seeking",get:function(){return this.ngt!==this.Egt.Rgt}},{key:"loaded",get:function(){return this.Jwt.o4}},{key:"uw",get:function(){return this.Jwt.uw},set:function(t){t>=0&&(this.Jwt.uw=t,this.$wt.uw=t)}},{key:"aw",get:function(){return this.Jwt.aw}},{key:"hw",get:function(){return this.Jwt.hw}},{key:"Hx",get:function(){return this.LZ}},{key:"g_",get:function(){var t;if(this.ngt===this.Egt.Cgt||this.ngt===this.Egt.Dgt)t=Tl.X_;else{var n=this.Jwt.g_;if(n<=Tl.W_)t=n;else{var i=iA.FI(this.tg).vI(),e=this.duration,r=this.uvt();g(e)||(r=l.min(r,e));var s=i.MI(r);if(s){var u=s.uI(0);t=u-r>=3*this.uw||!g(e)&&u>=e?Tl.G_:Tl.q_}else t=Tl.W_}}return t===Tl.z_&&this.rgt?Tl.X_:t}}]),n}(tP);function vH(t,n){return t.Cwt-n.rI}function dH(t){var n=r.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),De(n),n.controls=!1,n}var lH,_H=function(){function t(t){var n=this;this.HR=void 0,this.fg=void 0,this.Hgt=void 0,this.Vgt=void 0,this.zgt=void 0,this.Xgt=function(){(g(n.Vgt)||n.zgt)&&(n.Vgt=n.eO()),n.Hgt=n.Vgt,n.zgt=!1},this.Wgt=function(){var t=n.eO();n.qgt(t),n.Vgt=t},this.Ggt=function(){n.HR.g_<=Tl.W_&&n.Wgt()},this.jgt=function(){n.qgt(n.Vgt),n.zgt=!0},this.Qgt=function(){n.Vgt=n.eO()},this.HR=t,this.fg=iA.zI(),this.Hgt=NaN,this.Vgt=NaN,this.zgt=!1,t.addEventListener("playing",this.Xgt),t.addEventListener("pause",this.Wgt),t.addEventListener("seeking",this.jgt),t.addEventListener("timeupdate",this.Qgt),t.addEventListener(Vl.Dl,this.Ggt)}var n=t.prototype;return n.SV=function(){var t=this.fg,n=this.Hgt;if(!g(n)){var i=this.eO();n<i&&(t=t.bI(new iA([n,i])))}return t.yR()},n.eO=function(){return this.HR.uvt()},n.qgt=function(t){var n=this.Hgt;n<t&&(this.fg=this.fg.bI(new iA([n,t]))),this.Hgt=NaN},n.Ovt=function(){var t=this.eO();this.qgt(t),this.zgt=!0},n.Wl=function(){this.fg=iA.zI(),this.Hgt=NaN,this.Vgt=NaN,this.zgt=!1},n.Po=function(){var t=this.HR;t.removeEventListener("playing",this.Xgt),t.removeEventListener("pause",this.Wgt),t.removeEventListener("seeking",this.jgt),t.removeEventListener("timeupdate",this.Qgt),t.removeEventListener(Vl.Dl,this.Ggt),this.HR=null},t}(),wH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ygt=void 0,e.EE=void 0,e.Wi=!1,e.lU=NaN,e.Zgt=void 0,e.tf=void 0,e.Vwt=void 0,e.Jgt=void 0,e.IE=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.ogt=Tl.z_,e.$gt=function(){e.Jgt.seeking||(e.Jgt.removeEventListener("seeked",e.$gt),e.dispatchEvent("seeked"),e.Kgt.paused?e.tf=e.tyt:e.nyt(),e.wz())},e.iyt=function(){e.Jgt.paused||(e.Jgt.removeEventListener("playing",e.iyt),e.dispatchEvent("playing"))},e.eyt=function(t){e.tf=e.ryt,e.IE=t,e.dispatchEvent({type:"error",error:e.IE})},e.syt={paused:!0,play:function(){e.removeEventListener("llt",e.syt.uyt),e.Wi?(e.tf=e.oyt,e.Jgt.removeEventListener("playing",e.iyt),e.Jgt.addEventListener("playing",e.iyt),e.Jgt.play(),e.dispatchEvent("play")):e.addEventListener("llt",e.syt.uyt)},uyt:function(){e.removeEventListener("llt",e.syt.uyt),e.tf.play()},stall:function(){},pause:function(){e.syt.uyt&&e.removeEventListener("llt",e.syt.uyt),e.Jgt.pause(),e.dispatchEvent("pause"),e.tf=e.tyt},load:function(t){},uvt:function(){return e.Wi?e.Jgt.uvt():0},Vvt:function(t,n){var i=WO(e.tg,t);n=n||!i,e.Jgt.removeEventListener("seeked",e.$gt),e.Jgt.addEventListener("seeked",e.$gt),e.Kgt.seekTime=t,e.tf=e.Kgt,e.dispatchEvent("Ovt"),e.Jgt.Vvt(t,n),e.dispatchEvent("seeking")},pO:function(){return e.Jgt.g_},B1:function(t){e.Kgt.seekTime=e.uvt(),e.tf=e.hyt,e.Jgt.removeEventListener("B1",e.hyt.ayt),e.Jgt.addEventListener("B1",e.hyt.ayt),e.Jgt.B1(t),e.wz()},forwardEvent:function(t){"pause"===t.type&&e.Jgt.ended||e.dispatchEvent(t)}},e.tyt=nr({},e.syt,{pause:function(){e.removeEventListener("llt",e.syt.uyt)},Vvt:function(t){e.Kgt.paused=!0,e.syt.Vvt(t)},B1:function(t){e.Kgt.paused=!0,e.syt.B1(t)}}),e.cyt=nr({},e.tyt),e.fyt=nr({},e.tyt,{load:function(t,n){e.removeEventListener("llt",e.fyt.vyt),n||e.dispatchEvent("loadstart"),e.Wi?e.Jgt.load(t):(e.fyt.dyt=t,e.addEventListener("llt",e.fyt.vyt))},vyt:function(){e.removeEventListener("llt",e.fyt.vyt),e.tf.load(e.fyt.dyt,!0)},dyt:null,uvt:function(){return e.Wi?e.Jgt.uvt():e.fyt.lyt},Vvt:function(t){e.removeEventListener("llt",e.fyt._yt),e.Wi?(e.tf=e.tyt,e.tf.Vvt(t)):(e.fyt.lyt=t,e.addEventListener("llt",e.fyt._yt),e.dispatchEvent("seeking"))},_yt:function(){e.removeEventListener("llt",e.fyt._yt),e.tf.Vvt(e.fyt.lyt)},lyt:0,B1:function(t){}}),e.oyt=nr({},e.syt,{Vvt:function(t){e.Kgt.paused=!1,e.syt.Vvt(t)},play:function(){},stall:function(){e.tf=e.wyt,e.wyt.gyt=e.Jgt.uvt(),e.wyt.paused=!1,e.Jgt.addEventListener("W_t",e.wyt.yyt),e.Jgt.iwt(e.wyt.gyt),e.wz()},B1:function(t){e.Kgt.paused=!1,e.syt.B1(t)}}),e.wyt=nr({},e.oyt,{paused:!1,gyt:0,Vvt:function(t){e.Jgt.removeEventListener("W_t",e.wyt.yyt),e.wyt.paused?e.tf=e.tyt:e.tf=e.oyt,e.tf.Vvt(t),e.wz()},uvt:function(){return e.wyt.gyt},pO:function(){return l.min(e.Jgt.g_,Tl.W_)},forwardEvent:function(){},play:function(){e.wyt.paused=!1,e.dispatchEvent("play")},pause:function(){e.wyt.paused=!0,e.dispatchEvent("pause")},stall:function(){},yyt:function(){e.Jgt.seeking||(e.Jgt.removeEventListener("W_t",e.wyt.yyt),e.wyt.paused?e.tf=e.tyt:e.syt.play(),e.wz())}}),e.Kgt=nr({},e.syt,{paused:!1,seekTime:0,uvt:function(){return e.Kgt.seekTime},play:function(){e.Kgt.paused=!1},pause:function(){e.Kgt.paused=!0,e.Jgt.pause(),e.dispatchEvent("pause")}}),e.hyt=nr({},e.Kgt,{Vvt:function(t){e.Jgt.removeEventListener("B1",e.hyt.ayt),e.Kgt.paused?e.tf=e.tyt:e.tf=e.oyt,e.tf.Vvt(t)},pO:function(){return l.min(e.Jgt.g_,Tl.W_)},forwardEvent:function(){},stall:function(){},ayt:function(){e.Jgt.seeking||(e.Jgt.removeEventListener("B1",e.hyt.ayt),e.Kgt.paused?e.tf=e.tyt:e.syt.play(),e.wz())}}),e.ryt=nr({},e.syt,{play:function(){},pause:function(){},load:function(){},uvt:function(){return NaN},pO:function(){return Tl.z_},Vvt:function(t){e.syt.Vvt(t,!0)},B1:function(t){}}),e.Go=function(t){e.dispatchEvent(t)},e.myt=function(t){e.tf.forwardEvent(t)},e.pyt=function(t){e.eyt(t.error)},e.kyt=function(t){if(t.origin&&t.origin.J7)return e.Bw();e.tf.stall()},e.R_t=function(){var t=e.Jgt.duration;t&&e.lU!==t&&(e.lU=t,e.dispatchEvent("durationchange"))},e.Ayt=function(){e.Jgt.loaded&&(e.loaded=!0)},e.wz=function(){var t=e.g_;t!==e.ogt&&(e.ogt=t,e.dispatchEvent(Vl.Dl))},e.Ygt=n,e.EE=i,e.Zgt=new _H(sn(e)),e.Jgt=new JF,e.tf=e.fyt,e.Vwt=r.createElement("div"),e.Vwt.style.position="absolute",e.Vwt.style.width="100%",e.Vwt.style.height="100%",e.byt(),e}U(n,t);var i=n.prototype;return i.nyt=function(){this.syt.play()},i.byt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.Jgt.addEventListener(e,this.Go)}for(var r=0;r<n.length;r++){var s=n[r];this.Jgt.addEventListener(s,this.myt)}this.Jgt.addEventListener("ended",this.kyt),this.Jgt.addEventListener("error",this.pyt),this.Jgt.addEventListener("durationchange",this.R_t),this.Jgt.addEventListener("loaded",this.Ayt),this.Jgt.addEventListener(Vl.Dl,this.wz)},i.setup=function(){this.EE.$E.parentNode===this.Ygt?this.Ygt.replaceChild(this.Vwt,this.EE.$E):(this.EE.$E.parentNode&&this.EE.$E.parentNode.removeChild(this.EE.$E),this.Ygt.appendChild(this.Vwt))},i.play=function(){this.tf.play()},i.pause=function(){this.tf.pause()},i.Tyt=function(t){this.Jgt&&this.Jgt.Zv(t),this.Wi=!1},i.Bw=function(){this.pause(),this.tf=this.cyt,this.IE=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.tf.load(t)},i.unload=function(){return this.Jgt.Zv(),this.Zgt.Po(),this.Vwt.parentNode===this.Ygt?this.Ygt.replaceChild(this.EE.$E,this.Vwt):(this.Vwt.parentNode&&this.Vwt.parentNode.removeChild(this.Vwt),this.Ygt.appendChild(this.EE.$E)),this.Jo(),this.EE.$E},i.reset=function(t){this.Wi=!1,this.tf=this.fyt,this.IE=void 0,this.lU=NaN,this.ogt=Tl.z_,this.Zgt.Wl(),this.Tyt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.B1=function(t){this.tf.B1(t)},i.Uit=function(t){return this.Jgt.Uit(t),T.resolve()},i.Gw=function(){return this.Jgt.Gw()},i.uvt=function(){return this.tf.uvt()},i.Vvt=function(t){this.Zgt.Ovt(),this.tf.Vvt(t)},i.Wht=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.Jgt.ewt('video/mp4; codecs="'+t+'"')},i.Evt=function(t,n,i){var e={};for(var r in t)if(Z.call(t,r)){var s=t[r];!this.Jgt.videoStream&&s.NK&&(this.Jgt.videoStream=new fH(this.Vwt,"NK"),e.NK=this.Jgt.videoStream),!this.Jgt.audioStream&&s.IK&&(this.Jgt.audioStream=new fH(this.Vwt,"IK"),e.IK=this.Jgt.audioStream,this.dispatchEvent("rlt"))}return this.Wi=!0,this.dispatchEvent("llt"),T.resolve(e)},L(n,[{key:"Svt",get:function(){return this.Wi}},{key:"ig",get:function(){return this.Vwt}},{key:"tg",get:function(){return this.Jgt.tg}},{key:"volume",get:function(){return this.Jgt.volume},set:function(t){this.Jgt.volume=t}},{key:"duration",get:function(){return this.lU}},{key:"muted",get:function(){return this.Jgt.muted},set:function(t){this.Jgt.muted=t}},{key:"paused",get:function(){return this.tf.paused&&this.Jgt.paused}},{key:"played",get:function(){return this.Zgt.SV()}},{key:"ended",get:function(){return this.tf===this.cyt}},{key:"seeking",get:function(){return this.tf===this.Kgt}},{key:"error",get:function(){return this.IE||this.Jgt.error}},{key:"warning",get:function(){return this.Jgt.warning}},{key:"width",get:function(){return this.Jgt.rwt()}},{key:"height",get:function(){return this.Jgt.swt()}},{key:"uw",get:function(){return this.Jgt.uw},set:function(t){this.Jgt.uw=t}},{key:"g_",get:function(){return this.tf.pO()}},{key:"aw",get:function(){return this.Jgt.aw}},{key:"hw",get:function(){return this.Jgt.hw}}]),n}(tP);!function(t){t.e$="unsupported",t.Syt="native",t.Eyt="hls-native",t.Ryt="hls-mse",t.Iyt="hls-switching-video"}(lH||(lH={}));var gH=function(){function t(){this.Nyt={},this.Dyt(lH.Syt,EF),this.Dyt(lH.Eyt,EF),this.Dyt(lH.Ryt,XF),this.Dyt(lH.Iyt,wH)}return t.prototype.Dyt=function(t,n){this.Nyt[t]=n},t.Dyt=function(n,i){t.j3.Dyt(n,i)},t.Cyt=function(n,i,e){var r=t.j3.Nyt[n];return r?new r(i,e):void 0},t}();gH.j3=new gH;var yH=function(t){function n(n){var i;return(i=t.call(this)||this).xyt=void 0,i.Pyt=function(t){i.jo(t)},i.xyt=n,i.Oyt(),i}U(n,t);var i=n.prototype;return i.Oyt=function(){this.xyt.Qo("$C",this.Pyt)},i.Byt=function(){this.xyt.$o("$C",this.Pyt)},i.Zv=function(){this.Byt()},L(n,[{key:"sx",get:function(){return this.xyt.sx}},{key:"ux",get:function(){return this.xyt.ux}},{key:"Lyt",set:function(t){var n=this.xyt;n.sx===t.sx&&n.ux===t.ux||(this.Byt(),this.xyt=t,this.Oyt(),this.jo(new iT(t.ux,t.sx)))}}]),n}(Is);function mH(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function pH(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function kH(t,n){var i=t.type;return i?Fy?pH(i)?!Gy||n.useSwitchOverMSE||Y.Vr&&n.vr&&n.vr[360]?!zy||Y.Br||Y.Fr&&Y._r?Xy?lH.Iyt:lH.e$:lH.Eyt:lH.Ryt:lH.Syt:lH.e$:lH.Syt}var AH=function(t,n,i,e,r){var s,u,a,c,v,_,y=this,m=null,p=null,k=null,A=!0,b=null,S=null,E=!1,R=null,I=null,N=null,D=sA,C=sA,x=!0,P=null,O={N6:0,owt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,z=!0,X=!1,W=null,q=!0,G=!1,j=Tl.z_,Q=!1,Z=!1,J=NaN,$=null,K=null,nt=Y.Ar&&Vy,it=!1,et="",rt=lH.e$,st=null,ut=function(){var i=T.coroutine(tr.mark(function i(){return tr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.No=!0,y.Jo(),B&&Ot(null),_&&(_.Zv(),_=null),v&&(v.Wl(),v=null),rn(),p&&(p.unload(),p=null),!I.$E){i.next=11;break}return i.next=10,n._R(I);case 10:I=null;case 11:if(!N.$E){i.next=15;break}return i.next=14,n._R(N);case 14:N=null;case 15:s.Zv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new eP(iP.e$,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,e;return(t=i.audioOnly?(e=n.JE(D_.Hv)).$E:(e=n.JE(D_.Vv)).$E).preload="none",De(t),e},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",S.style.zIndex="0",b.style.display=A?"":"none",S.style.display=A&&E?"":"none"},ft=function(t){yt(t.X1),gt(t.W1),u&&(u.X1=a),kt()},vt=function(t,n){pt(t.X1,n),mt(t.W1),u&&(u.X1=a)},dt=function(){zt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)p.addEventListener(t[i],n,!0)};switch(p.addEventListener("rlt",function(){p.volume=U,p.muted=F}),p.addEventListener("loadedmetadata",function(t){rt===lH.Syt&&(G=!0,y.dispatchEvent(t))}),p.addEventListener("durationchange",function(){var t=p.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),p.addEventListener("seeking",Vt),p.addEventListener("seeked",zt),p.addEventListener("ended",dt),p.addEventListener(Vl.Dl,nn),p.setup(),_.Lvt=p,n(["timeupdate","playing","ratechange","resize"],t),rt){case lH.Syt:case lH.Eyt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case lH.Ryt:n(["play","pause"],Et)}p.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.Tdt(),p&&(m=new oF(t,nt,v,e))},wt=function(t){var n=xt(t.sources),e=t.textTracks||[],r=kF(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.Gdt=!0),{sources:[n],textTracks:e,configuration:r}},gt=function(t){mt(t)},yt=function(t){a&&(a.Zv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener("durationchange",function(){J=a.nw,y.dispatchEvent("durationchange")}),a.addEventListener("hh",function(t){Zt(t.hh)}),a.addEventListener("ed",At),a.addEventListener("cg",At),a.I2.addEventListener("renditionUpdated",function(){Gt()}),_.I2=a.I2)},mt=function(t){var n;c&&(c.Zv(),c=null),p&&(c=t)&&(n=c.rvt,c.addEventListener("P1",function(t){var n=y.videoWidth,i=y.videoHeight;$=t.JK,y.dispatchEvent(t),Jy&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),c.addEventListener("hh",function(t){Zt(t.error)}),c.addEventListener("Lft",function(t){y.dispatchEvent(t)}),c.Lvt=p,g(n)||Ht(n))},pt=function(t,n){a&&(a.Zv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener(Ko.Dc,function(t){y.dispatchEvent(t)}),a.addEventListener(Ko.xc,function(t){y.dispatchEvent(t)}),a.addEventListener("durationchange",function(){J=a.nw,y.dispatchEvent("durationchange")}),a.addEventListener("hh",function(t){Zt(t.hh)}),a.addEventListener("ed",At),a.addEventListener("cg",At),a.addEventListener("U2",function(){y.dispatchEvent("progress")}),a.I2.addEventListener("renditionUpdated",function(){Gt()}),a.I2.addEventListener("renditionUpdated",function(t){var i,e=t.JK.B0&&t.JK.B0.IK;e&&-1!==e.indexOf("mp4a.40.3")&&("x7"!==n.P7||qy||(i=B,Kx(function(){n.useSwitchOverMSE=!0;var t=z;B=null,en({sources:i,configuration:n}),t||It()})))}),_.I2=a.I2)},kt=function(){p.addEventListener("play",function(){y.play({fromNative:!0})}),p.addEventListener("pause",function(){y.pause({fromNative:!0})}),p.addEventListener("volumechange",function(){y.volume=p.volume,y.muted=p.muted}),p.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=q,n=!a||a.cg;q=n,n&&!t?y.dispatchEvent(Ko.pc):!n&&t&&y.dispatchEvent(Ko.mc)},bt=function(){V=!1,z=!1,Q=!0,p.configuration.useNativeVideoPlayback||p.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",St),V&&(bt(),y.ended?Ht(0):jt(),p.play(),c&&c.Pw())},St=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},Et=function(t){var n=z;z="pause"===t.type,n&&!z?y.play({fromNative:!0}):!n&&z&&y.pause({fromNative:!0})},Rt=function(){Q=!0,p.configuration.useNativeVideoPlayback?(p.load(),O.owt="start"):p.loading||(p.load(),p.loading=!0),Gt()},It=function(t){if(t=t||{},z=!1,x&&(x=!1,n.sN()),O.Myt=!1,!y.initialized||!p){if(t.onlyWhenInitialized){var i=new eP(iP.t$,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",St),y.addEventListener("initialized",t.fromNative?St:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(X&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?St():Tt()}},Nt=function(t){z=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",St),!V&&p&&(V=!0,t.fromNative||(p.pause(),c&&c.Ow()),y.dispatchEvent("pause",!0))},Dt=function(t){return{type:mH(t)?"application/vnd.apple.mpegurl":"",src:t}},Ct=function(t){return"string"==typeof t},xt=function(t){if(mF(t))return t.type?t:Dt(t.src);if(Ct(t))return Dt(t);if(tt(t)&&Ct(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(mH(i))return Dt(i)}return Dt(t[0])}if(tt(t)&&mF(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(pH(r.type)||!r.type&&mH(r.src))return r.type?r:Dt(r.src)}return t[0]}return{type:null,src:null}},Pt=function(t){var n=(t=wt(t)).sources[0],i=t.configuration,s=kH(n,i);!function(t,n){switch(t){case lH.Syt:case lH.Eyt:n.P7=!1,n.Uyt=!1;break;case lH.Ryt:n.P7="x7",n.Uyt=!0;break;case lH.Iyt:n.P7="Ett",n.Uyt=Y.ar}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case lH.Syt:h=s=o=null;break;case lH.Eyt:h=null;var c=new $U(a,e);s=c,o=new rF(c);break;case lH.Ryt:case lH.Iyt:h=new cF(a,e);var f=new JU(a,h,e,r);s=f,o=new iF(f);break;default:return null}return new tO(n,t,i,h,s,o,u)}(s,n,t);return o?(o.W1&&(o.W1.uw=y.playbackRate),o):null},Ot=function(t){en({sources:t})},Bt=function(n,i){var e=R,r=e.$E,u=!1,o=!y.paused,h=rt,a=y.playbackRate,c=y.Fyt;K&&(K.Zv(),K=null),rn();var f=n&&n.W2||null;n&&n.z2||null,L=n&&n.FR||null,M=f&&f.configuration||null,rt=n&&n.X2||lH.e$,Jt();var v={type:"Hyt",Vyt:n,ea:M,zyt:i};if(y.dispatchEvent(v),rt!==lH.e$){if(p){y.pause();var d=h===rt||h===lH.Eyt&&rt===lH.Syt||h===lH.Syt&&rt===lH.Eyt,l=i&&!Y.Ar;if(d&&!l)p.reset(),m.Wl();else{if(l?(k=p,r=(e=at(e)).$E):r=p.unload(),!(u=gH.Cyt(rt,t,e)))return void ot();p=u,lt(),_t(r)}zt(),G=!1,j=Tl.z_,Q=!1,Z=!1,J=NaN,P=null,y.dispatchEvent("durationchange"),O.owt=0,O.N6=0,O.Myt=!0,y.dispatchEvent("timeupdate")}else{if(!(u=gH.Cyt(rt,t,e)))return void ot();p=u,e.$E.removeAttribute("poster"),lt(),_t(e.$E)}switch(R=e,s.Lyt=R.$B,b=p.ig,k?(S=k.ig,E=!0):(S=at(e).$E,E=!1),ct(),M.crossOrigin){case pl.U_:case pl.F_:R.$E.setAttribute("crossorigin",M.crossOrigin);break;default:R.$E.removeAttribute("crossorigin")}if(c!==y.Fyt&&y.dispatchEvent(Ko.lc),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(rt){case lH.Syt:case lH.Eyt:ft(t);break;case lH.Ryt:case lH.Iyt:vt(t,n);break;default:return}t.HR=y,t.e3(H)}(K=n,M),p.src=L,m.pdt(f&&f.textTracks),y.playbackRate=a,B=L;var _={type:"Xyt",Vyt:n,ea:M,zyt:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),p.configuration.useNativeVideoPlayback&&Y.Ar&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=et;(et=y.hlt)!==t&&y.dispatchEvent("Wyt")},Mt=function(){_&&(_.gX=nt&&it)},Ut=function(){return p&&p.Svt?p.volume:U},Ft=function(){if(!Z)return"start"===P?0:P||0;if(!p||O.Myt)return O.owt;if(c){var t=c.rvt;return"start"===t?0:t}return p.uvt()},Ht=function(t){if(!Z){var n=Ft();return P=t,void(n!==Ft()&&Vt())}if(P=null,"start"===t&&(t=y.live?1/0:0),t=w(t)||0,t=Kt(t),p){if(l.abs(O.owt-t)<.001&&zb()-O.N6<50)return;Vt(),c?c.rvt=t:p.Vvt(t),p.seeking||zt(),O={owt:t,N6:zb()}}},Vt=function(){X=!0,Wt(),st=o(Xt,100)},zt=function(){X&&(X=!1,st&&Xt(),y.dispatchEvent("seeked"))},Xt=function(){Wt(),y.dispatchEvent("seeking")},Wt=function(){st&&(h(st),st=null)},Gt=function(){Z||(Z=!g(J)&&$t().length>0&&(Q||!y.live))&&y.dispatchEvent("Dwt")},jt=function t(){y.removeEventListener("Dwt",t),null!==P&&(Z?Ht(P):y.addEventListener("Dwt",t))},Qt=function(){return p&&p.Svt?p.muted:F},Yt=function(){return z},Zt=function(t){if(t&&t.code===iP.n$)return n=!z,Ot(K.FR),void(n&&It());var n;Yt()||Nt(),W=t,y.dispatchEvent({type:"error",error:W})},Jt=function(){W=null},$t=function(){return LO(c?c.dg:J>0?new UO([{rI:0,uI:J}]):FO)},Kt=function(t){var n=$t();return n.length?qt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=p?p.g_:Tl.z_;return G&&(t=l.max(Tl.X_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,y.dispatchEvent(Vl.Dl))},en=function(t){var n=Pt(t);Bt(n,!1)},rn=function(){if(k){var t=k.unload();k=null,E=!1,S=t||at(R).$E,ct()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!p){var t=new eP(iP.t$,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.qyt=Pt,y.Gyt=Bt,y.Po=ut,y.Mw=en,y.Ww=function(){A=!0,ct()},y.qw=function(){A=!1,ct()},y.Gw=function(){return p&&p.Gw()},y.gw=function(){return nr({},{rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},p?vS(p.Lvt):{rg:0,sg:0,ug:0},{og:8*yl.x_()})},d.defineProperty(y,"buffered",{get:function(){return LO(p?p.tg:FO)}}),d.defineProperty(y,"played",{get:function(){return p?LO(p.played):FO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!a||!pP.vw(a.I2.f0))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=w(t))!==Ut()&&(p&&(p.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return s}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return c?c.ng:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!g(i.getTime())&&c&&(n=c.Ket(t),g(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,p&&(p.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=Zk((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return p&&p.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return X}}),d.defineProperty(y,"error",{get:function(){return W||p&&p.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"Fyt",{get:function(){return M&&M.vr&&M.vr[360]?sA:R===I?D:C}}),d.defineProperty(y,"videoWidth",{get:function(){return p?p.aw:$&&$.resolution?$.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return p?p.hw:$&&$.resolution?$.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return c&&c.U0}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&p&&p.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return c?c.Fvt(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=w(t),Ht(c.Hvt(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return c&&c.uw||p&&p.uw||1},set:function(t){(t=w(t))>0&&(c?c.uw=t:p&&(p.uw=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return K&&K.Dw._l||null}}),d.defineProperty(y,"audioTracks",{get:function(){return K&&K.Nw._l||null}}),d.defineProperty(y,"Cw",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return q}}),d.defineProperty(y,"ult",{get:function(){return p&&p.ult}}),d.defineProperty(y,"olt",{get:function(){return p&&p.olt}}),d.defineProperty(y,"hlt",{get:function(){return p&&p.hlt||"inline"},set:function(t){p&&(p.hlt=t)}}),d.defineProperty(y,"jyt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"g_",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(Ko.pc,function(){y.live&&Ht("start")}),y.addEventListener("playing",rn),v=new uy,_=new aF(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new nO),n=function(t){if("string"==typeof t)try{return nP.es.XZ(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.hct=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),y.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.$E,S=N.$E,s=new yH(R.$B),D=I.fR,C=N.fR,ct(),Ot(null)}()};AH.prototype=new tP,AH.prototype.constructor=AH;var bH,TH=((bH={useSwitchOverMSE:!1,ManifestParser:"Qyt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),bH.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),jy&&bH.abrRules.push("AvoidHighBitrateStreamsRule"),Y.Er&&bH.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),bH);var SH=function(t){function n(n,i,e){var r;return(r=t.call(this,Id.Bl)||this).Yyt=n,r.Zyt=i,r.Jyt=e,r}return U(n,t),n.prototype.wl=function(){return new EH(this.Yyt&&this.Yyt._l)},n}(Ed),EH=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return U(n,t),n}(Ds),RH=function(t){function n(n,i){var e;return(e=t.call(this,Id.Ml)||this).o_=void 0,e.gl=void 0,e.o_=n||[],e.gl=i,e}return U(n,t),n.prototype.wl=function(){return new IH(this.o_.map(function(t){return t._l}))},n}(Ed),IH=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return U(n,t),n}(Ds),NH=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return U(n,t),n}(Ds);function DH(t){return{get bandwidth(){return t.cE},get codecs(){return t.B0},get id(){return t.i_},get uid(){return t.e_},get name(){return t.s_},get averageBandwidth(){return t.cE},get label(){return t.s_},set label(n){t.s_=Yd(n)},get height(){return t.zk},get width(){return t.ku},get frameRate(){return t._2},get firstFrame(){return t.$yt},get available(){return t.bJ},addEventListener:function(n,i){t.Qo(n,i)},removeEventListener:function(n,i){t.$o(n,i)}}}function CH(t){return{get bandwidth(){return t.cE},get codecs(){return t.B0},get id(){return t.i_},get uid(){return t.e_},get name(){return t.s_},get averageBandwidth(){return t.cE},get label(){return t.s_},set label(n){if(!et(n))throw new f("Unexpected - The provided label is not a string");t.s_=n},get audioSamplingRate(){return t.Kyt},get available(){return t.bJ},addEventListener:function(n,i){t.Qo(n,i)},removeEventListener:function(n,i){t.$o(n,i)}}}function xH(t){return{cE:t.cE,Au:t.B0,zk:PH(t)?t.zk:0,do:PH(t)?D_.Vv:D_.Hv,ku:PH(t)?t.ku:0}}function PH(t){var n=t;return void 0!==n.zk&&void 0!==n.ku}var OH=function(t){function n(n,i){var e;(e=t.call(this)||this).tmt=void 0,e.nmt=void 0,e.kg=void 0,e._g=void 0,e.ll=void 0,e.imt=void 0,e.g2=void 0,e.emt=function(){return e.rmt()},e.smt=function(){return e.umt()},e.omt=function(){return e.jo(new P_(sn(e)))},e.kg=L_(),e.tmt=n,e.nmt=i,e._g=new x_;for(var r=e.tmt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.hmt(u);o.Qo("update",e.omt),e._g.wg(o)}return e.tmt.qualities.addEventListener("activequalitychanged",e.emt),e.tmt.qualities.addEventListener("targetqualitychanged",e.smt),e.rmt(),e.umt(),e}U(n,t);var i=n.prototype;return i.amt=function(t){t!==this.imt&&(this.imt=t,t&&this.jo(new SH(t)))},i.cmt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!is(n,t[i]))return!1;return!0}(t,n)},i.fmt=function(t){for(var n=0,i=this._g.ql;n<i.length;n++){var e=i[n];if(e.vmt===t)return e}},i.dmt=function(t){for(var n=[],i=0,e=this._g.ql;i<e.length;i++){var r=e[i];is(t,r.vmt)&&n.push(r)}return n},i.rmt=function(){var t=this.n_?this.tmt.qualities.activeQuality:void 0,n=t&&this.fmt(t)||void 0;this.amt(n)},i.umt=function(){var t=this.tmt.qualities.targetQuality;t?K(t)?this.h_=this.dmt(t)||void 0:this.h_=this.dmt([t])||void 0:this.h_=void 0},i.Tg=function(t){this.n_=t},i.Zv=function(){this.tmt.qualities.removeEventListener("activequalitychanged",this.emt),this.tmt.qualities.removeEventListener("targetqualitychanged",this.smt);for(var t=0,n=this._g.ql;t<n.length;t++){var i=n[t];i.$o("update",this.omt),i.Zv()}},L(n,[{key:"t_",get:function(){return this.imt}},{key:"n_",get:function(){return this.tmt.enabled},set:function(t){t?this.nmt.enable(this.tmt):this.nmt.disable(this.tmt)}},{key:"_l",get:function(){return this.ll||(this.ll=nl(this)),this.ll}},{key:"i_",get:function(){return this.tmt.id+""}},{key:"e_",get:function(){return this.kg}},{key:"r_",get:function(){return this.tmt.kind}},{key:"s_",get:function(){var t;return null!=(t=this.tmt.name)?t:""},set:function(t){t!==this.s_&&(this.tmt.name=t,this.jo(new P_(this)))}},{key:"u_",get:function(){return this.tmt.language}},{key:"l_",get:function(){return this.n_?"enabled":"disabled"}},{key:"o_",get:function(){return this._g}},{key:"h_",get:function(){return this.g2},set:function(t){var n=this.g2,i=void 0!==this.t_?xH(this.t_):void 0,e=t?t.filter(function(t){return b.qu.hu(i,xH(t))}):void 0;e&&0===e.length||this.cmt(e,n)||(this.g2=e,this.tmt.qualities.targetQuality=e?e.map(function(t){return t.vmt}):null,this.jo(new RH(e,this)))}}]),n}(Is),BH=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).vmt=void 0,r.ll=void 0,r.RN=function(){return r.Yh()},r.i_=void 0,r.e_=void 0,r.cE=void 0,r.B0=void 0,r.J$=void 0,r.vmt=n,r.vmt.addEventListener("qualityupdated",r.RN),r.i_=String(n.id),r.e_=null!=(i=n.uid)?i:U_++,r.cE=null!=(e=n.bandwidth)?e:NaN,r.B0=n.codecs,r.J$=n.uri,r}U(n,t);var i=n.prototype;return i.Yh=function(){this.lmt()&&this.jo(new NH(this._l))},i.lmt=function(){var t,n,i=this.vmt,e=null!=(t=i.uid)?t:this.e_,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.e_!==e||!Yt(this.cE,r)||this.B0!==s||this.J$!==u;return this.e_=e,this.cE=r,this.B0=s,this.J$=u,o},i.Zv=function(){this.vmt.removeEventListener("qualityupdated",this.RN)},i.Vb=function(){},L(n,[{key:"s_",get:function(){return this.vmt.name||""},set:function(t){this.s_!==t&&(this.vmt.name=t,this.jo(new NH(this._l)))}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}},{key:"bJ",get:function(){return!0}}]),n}(Is),LH=function(t){function n(n){var i;return(i=t.call(this,n)||this).Kyt=void 0,i.Kyt=NaN,i}return U(n,t),n.prototype.wl=function(){return CH(this)},n}(BH),MH=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this)._2=void 0,e.ku=void 0,e.zk=void 0,e._mt=void 0,e._2=n.frameRate,e.ku=n.resolution?n.resolution.width:NaN,e.zk=n.resolution?n.resolution.height:NaN,e._mt=i,e}U(n,t);var i=n.prototype;return i.lmt=function(){var n=t.prototype.lmt.call(this),i=this.vmt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Yt(this._2,e)||!Yt(this.ku,r)||!Yt(this.zk,s),this._2=e,this.ku=r,this.zk=s,n},i.wl=function(){return DH(this)},L(n,[{key:"$yt",get:function(){return this._mt},set:function(t){this._mt!==t&&(this._mt=t,this.jo(new NH(this._l)))}}]),n}(BH),UH=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.hmt=function(t){return new LH(t)},n}(OH),FH=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wmt=void 0,n}U(n,t);var i=n.prototype;return i.hmt=function(t){return new MH(t,this.wmt)},i.gmt=function(t){this.wmt=t;for(var n=0,i=this.o_.ql;n<i.length;n++){var e=i[n];void 0!==e.$yt&&(e.$yt=t)}},n}(OH),HH=function(t){function n(){return t.call(this,Ko.pc)||this}return U(n,t),n}(Ds),VH=function(t){function n(){return t.call(this,Ko.mc)||this}return U(n,t),n}(Ds),zH=function(){function t(t,n){this.Sw=void 0,this.$W=void 0,this.Sw=new uy,this.$W=new ND(t,n)}var n=t.prototype;return n.Kb=function(t,n,i,e,r,s,u){var o=new NN(t,n,i,e,r,s,u);return this.Sw.Vl(o),this.$W.Vl(o),o},n.iT=function(t){this.Sw.zl(t),this.$W.zl(t),t.Zv()},n.Wl=function(){for(var t=0,n=this.Sw.ql.slice();t<n.length;t++){n[t].Zv()}this.Sw.Wl(),this.$W.Wl()},n.Zv=function(){this.Wl(),this.Sw.Zv(),this.$W.Zv()},L(t,[{key:"Cw",get:function(){return this.Sw}}]),t}();function XH(t,n){for(var i=0;i<t.Gl;i++){var e=t.Hl(i);if(e.tmt===n)return e}}var WH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).KI=void 0,o.KY=void 0,o.ymt=void 0,o.mmt=void 0,o.pmt=void 0,o.bw=void 0,o.Tw=void 0,o.YW=void 0,o.ZW=void 0,o.Sw=void 0,o.Yb=void 0,o._Z=void 0,o.wZ=void 0,o.kmt=void 0,o.IE=void 0,o.NE=void 0,o.Amt=NaN,o.bmt=0,o.BE=new Lk,o.Tmt=function(){o.jo(new Wl(o.tw))},o.Smt=function(){o.jo(new Xl(o.tw))},o.Emt=function(){o.jo(new t_(o.tw))},o.Rmt=function(){o.jo(new n_(o.tw))},o.Imt=function(){o.jo(new Zl(o.tw,o.uw))},o.Nmt=function(){o.jo(new i_(o.tw,o.cw))},o.Dmt=function(){o.jo(new cE(o.tw))},o.Cmt=function(){o.jo(new $l(o.tw))},o.xmt=function(){o.jo(new fE)},o.Pmt=function(){o.jo(new HH)},o.Omt=function(){o.jo(new VH)},o.Bmt=function(){o.Lmt(),o.pmt.Wl(),o.Mmt(),o.lR()},o.aL=function(){o.Mmt(),o.lR(),o.nR()},o.Lmt=function(){var t=o.Amt,n=o.nw;o.Amt=n,t===n||g(t)&&g(n)||o.jo(new Yl(n))},o.Umt=function(t){var n=t.error||o.ymt.error;if(n){var i,e=A_.DECODE;n.code===iP.QJ&&Dr(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.IE=new E_(e,n.message,i),o.jo(new u_(function(t){return new Po(N_(t.code),t.message,t)}(o.IE)))}},o.UE=function(){o.jo(new Jl(o.tw,o.ng))},o.Fmt=function(){o.aw>0&&o.hw>0&&o.jo(new xy)},o.Hmt=function(){o.jo(new wl)},o.Vmt=function(t){o.Tw.ql.forEach(function(n){return n.gmt(t.ptsOffset)})},o.zmt=function(t){o.bmt+=t.hg,o.jo(t)},o.Xmt=function(t){return o.Wmt(t.track)},o.qmt=function(t){return o.Gmt(t.track)},o.jmt=function(t){var n=XH(o.bw,t.track);n&&n.jo(new Ld(n))},o.Qmt=function(t){var n=XH(o.Tw,t.track);n&&n.jo(new Ld(n))},o.KY=n,o.KI=i,r=function(t){var n,i={};return i=pF(t,i),(i=pF(TH,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Y.gr&&i.allowManualQualitySwitch,i.libraryLocation=Ff(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Z.call(n,t)?n[t]:t}),i}(r),o.ymt=new AH(o.KY,o.KI,r,e,s),o.Ymt(),o.mmt=new qH(o.ymt),o.pmt=new em(o.mmt,!0),o.pmt.Qo(jl,o.Go),o.bw=new C_,o.Tw=new C_,o.Yb=new zH(sn(o),new DD),o.YW=new VD(sn(o)),o.YW.$l=o.ymt.Cw,o.ZW=new zD(o.Yb,o.YW),o.Sw=new Fk([o.ymt.Cw,o.ZW.Ek]),o._Z=new lC,o._Z.EG(n),o.wZ=new Cx(o._Z.ig,o.ymt.dimensions,o.Cw,u,o.ymt.Fyt),o.nR(),o}U(n,t);var i=n.prototype;return i.qw=function(){this.ymt.qw(),this._Z.qw()},i.Ww=function(){this.ymt.Ww(),this._Z.Ww()},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kmt=n,this.ymt.Mw({sources:{src:n.src,type:kl.B_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:nr({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Pw=function(){this.ymt.play()},i.Ow=function(){this.ymt.pause()},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kmt=void 0,this.IE=void 0,this.NE=void 0,this.bmt=0,this.ymt.Mw({sources:null}),this.pmt.Wl(),this.Yb.Wl(),this.Mmt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uw=function(){return!1},i.Fw=function(){},i.Hw=function(){},i.Gw=function(){return this.ymt.Gw()||void 0},i.jw=function(){return this.ymt.Fyt},i.Kw=function(){},i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.Jo(),this.pmt.Zv(),this.mmt.Zv(),this.Zmt(),t.next=8,this.ymt.Po();case 8:return this.bw.Zv(),this.Tw.Zv(),this.YW.Zv(),t.next=13,this.ZW.Zv();case 13:this.Yb.Zv(),this.Sw.Zv(),this.wZ.Zv(),this._Z.Zv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ymt=function(){this.ymt.addEventListener("Hyt",this.Bmt),this.ymt.addEventListener("Xyt",this.aL),this.ymt.addEventListener("durationchange",this.Lmt),this.ymt.addEventListener("error",this.Umt),this.ymt.addEventListener("timeupdate",this.UE),this.ymt.addEventListener("resize",this.Fmt),this.ymt.addEventListener(Ko.lc,this.Hmt),this.ymt.addEventListener("Lft",this.Vmt),this.ymt.addEventListener(Ko.xc,this.zmt),this.ymt.addEventListener("play",this.Tmt),this.ymt.addEventListener("pause",this.Smt),this.ymt.addEventListener("seeking",this.Emt),this.ymt.addEventListener("seeked",this.Rmt),this.ymt.addEventListener("ratechange",this.Imt),this.ymt.addEventListener("volumechange",this.Nmt),this.ymt.addEventListener("progress",this.Dmt),this.ymt.addEventListener("ended",this.Cmt),this.ymt.addEventListener("loadstart",this.xmt),this.ymt.addEventListener(Ko.pc,this.Pmt),this.ymt.addEventListener(Ko.mc,this.Omt),this.ymt.addEventListener(Ko.Dc,this.Go)},i.Zmt=function(){this.ymt.removeEventListener("Hyt",this.Bmt),this.ymt.removeEventListener("Xyt",this.aL),this.ymt.removeEventListener("durationchange",this.Lmt),this.ymt.removeEventListener("error",this.Umt),this.ymt.removeEventListener("timeupdate",this.UE),this.ymt.removeEventListener("resize",this.Fmt),this.ymt.removeEventListener(Ko.lc,this.Hmt),this.ymt.removeEventListener("play",this.Tmt),this.ymt.removeEventListener("pause",this.Smt),this.ymt.removeEventListener("seeking",this.Emt),this.ymt.removeEventListener("seeked",this.Rmt),this.ymt.removeEventListener("ratechange",this.Imt),this.ymt.removeEventListener("volumechange",this.Nmt),this.ymt.removeEventListener("progress",this.Dmt),this.ymt.removeEventListener("ended",this.Cmt),this.ymt.removeEventListener("loadstart",this.xmt),this.ymt.removeEventListener(Ko.pc,this.Pmt),this.ymt.removeEventListener(Ko.mc,this.Omt),this.ymt.removeEventListener(Ko.Dc,this.Go),this.ymt.removeEventListener(Ko.xc,this.zmt)},i.nR=function(){var t=this.ymt.audioTracks,n=this.ymt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Wmt(t.item(i));t.addEventListener("addtrack",this.Xmt),t.addEventListener("enabledtrack",this.jmt),t.addEventListener("disabledtrack",this.jmt)}if(n){for(var e=0;e<n.length;e++)this.Gmt(n.item(e));n.addEventListener("addtrack",this.qmt),n.addEventListener("enabledtrack",this.Qmt),n.addEventListener("disabledtrack",this.Qmt)}},i.lR=function(){var t=this.ymt.audioTracks,n=this.ymt.videoTracks;t&&(t.removeEventListener("addtrack",this.Xmt),t.removeEventListener("enabledtrack",this.jmt),t.removeEventListener("disabledtrack",this.jmt)),n&&(n.removeEventListener("addtrack",this.qmt),n.removeEventListener("enabledtrack",this.Qmt),n.removeEventListener("disabledtrack",this.Qmt))},i.Mmt=function(){for(var t=0,n=this.bw.ql;t<n.length;t++){n[t].Zv()}for(var i=0,e=this.Tw.ql;i<e.length;i++){e[i].Zv()}this.bw.Wl(),this.Tw.Wl()},i.Wmt=function(t){XH(this.bw,t)||this.bw.Vl(new UH(t,this.ymt.audioTracks))},i.Gmt=function(t){XH(this.Tw,t)||this.Tw.Vl(new FH(t,this.ymt.videoTracks))},L(n,[{key:"Nw",get:function(){return this.bw}},{key:"tg",get:function(){return this.ymt.buffered}},{key:"ng",get:function(){var t;return null!=(t=this.ymt.currentProgramDateTime)?t:void 0},set:function(t){this.ymt.currentProgramDateTime=null!=t?t:null}},{key:"tw",get:function(){var t=this.ymt.currentTime;return t===1/0&&g(this.ymt.duration)&&(t=0),t},set:function(t){this.ymt.currentTime=t}},{key:"nw",get:function(){var t=this.ymt.duration;return t<0?1/0:t}},{key:"iw",get:function(){return this.ymt.ended}},{key:"hh",get:function(){return this.IE}},{key:"ew",get:function(){return this.NE}},{key:"xw",get:function(){}},{key:"eg",get:function(){return!1}},{key:"gw",get:function(){return nr({},this.ymt.gw(),{hg:this.bmt})}},{key:"rw",get:function(){return this.ymt.muted},set:function(t){this.ymt.muted=t}},{key:"cg",get:function(){return this.ymt.online}},{key:"sw",get:function(){return this.ymt.paused}},{key:"uw",get:function(){return this.ymt.playbackRate},set:function(t){this.ymt.playbackRate=t}},{key:"fg",get:function(){return this.ymt.played}},{key:"vg",get:function(){return this.ymt.preload||Qk.qR},set:function(t){this.ymt.preload=t}},{key:"g_",get:function(){return this.ymt.g_}},{key:"dg",get:function(){return this.ymt.seekable}},{key:"ow",get:function(){return this.ymt.seeking}},{key:"kR",get:function(){}},{key:"Cw",get:function(){return this.Sw}},{key:"Dw",get:function(){return this.Tw}},{key:"hw",get:function(){return this.ymt.videoHeight}},{key:"aw",get:function(){return this.ymt.videoWidth}},{key:"cw",get:function(){return this.ymt.volume},set:function(t){this.ymt.volume=t}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"AR",get:function(){return this.BE}}]),n}(ll),qH=function(t){function n(n){var i;return(i=t.call(this)||this).ymt=void 0,i.Jmt=function(){i.jo(new s_(i.tw,i.ymt.g_))},i.$mt=function(){i.jo(new im(i.tw))},i.Tmt=function(){i.jo(new Wl(i.tw))},i.Smt=function(){i.jo(new Xl(i.tw))},i.ymt=n,i.ymt.addEventListener(Vl.Dl,i.Jmt),i.ymt.addEventListener(Vl.K_,i.$mt),i.ymt.addEventListener(Ko.Ac,i.Tmt),i.ymt.addEventListener(Ko.kc,i.Smt),i}return U(n,t),n.prototype.Zv=function(){this.Jo(),this.ymt.removeEventListener(Vl.Dl,this.Jmt),this.ymt.removeEventListener(Vl.K_,this.$mt),this.ymt.removeEventListener(Ko.Ac,this.Tmt),this.ymt.removeEventListener(Ko.kc,this.Smt)},L(n,[{key:"tw",get:function(){var t=this.ymt.currentTime;return t===1/0&&g(this.ymt.duration)&&(t=0),t}},{key:"iw",get:function(){return this.ymt.ended}},{key:"hh",get:function(){return this.ymt.error||void 0}},{key:"sw",get:function(){return this.ymt.paused}}]),n}(Is);function GH(t,n){return jH.apply(this,arguments)}function jH(){return(jH=T.coroutine(tr.mark(function t(n,i,e,r,s){var u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=3),void 0===r&&(r=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),ls(t.t0),!(u<e)){t.next=20;break}return o=l.min(r*l.pow(2,u),s),u++,t.next=19,Ts(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Gk(new(function(){function t(){this.bR=Dk.B_}var n=t.prototype;return n.iS=function(t,n,i,e,r,s){return new WH(t,n,i,e,r,s)},n.SR=function(n,i){if((Y.Ar||Y.Jr)&&!i.manifestMetadataTrack)return!1;if(!Nl(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!Hm(e)&&!t.Kmt(e))&&!!function(t){return kH(t,{})!==lH.e$}(n)},t.Kmt=function(t){return!!t.aes128},n.ER=function(){return!0},t}()));var QH,YH=function(t){function n(){return t.call(this,"tpt")||this}return U(n,t),n}(Ds),ZH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).npt=void 0,r.ipt=void 0,r.ept=void 0,r.kmt=void 0,r.rpt=void 0,r.Zb=void 0,r.Wi=void 0,r.spt=void 0,r.upt=function(){r.jo(new YH)},r.kmt=n,r.rpt=nr({},i,{crossOrigin:r.kmt.crossOrigin,withCredentials:r.kmt.useCredentials,liveOffset:r.kmt.liveOffset,hlsDateRange:r.kmt.hlsDateRange}),r.Zb=e,r.ipt=[],r.Wi=!1,r}U(n,t);var i=n.prototype;return i.hpt=function(){if(this.ept)return this.ept.ww},i.rI=function(t){var n=this;ks(GH(function(){return n.e3()},t))},i.e3=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apt();case 2:if((n=t.sent).isMasterPlaylist)for(this.npt=n,i=0,e=n.streams;i<e.length;i++)r=e[i],s=new mM(this.Zb,this.rpt),this.ipt.push({stream:{uri:r.uri,width:r.resolution&&r.resolution.width,height:r.resolution&&r.resolution.height},updater:s});else u=new mM(this.Zb,this.rpt),this.ipt.push({stream:{uri:n.uri},updater:u});this.spt&&(this.cpt(this.spt.width,this.spt.height),this.spt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fpt=function(t,n){this.Wi?this.cpt(t,n):this.spt={width:t,height:n}},i.cpt=function(t,n){this.vpt();var i=this.dpt(t,n);i&&(this.ept=i.updater,this.ept.addEventListener("sit",this.upt),i.updater.rI(i.stream.uri))},i.vpt=function(){this.ept&&(this.ept.Bw(),this.ept.removeEventListener("sit",this.upt),this.ept=void 0)},i.dpt=function(t,n){return 1===this.ipt.length?this.ipt[0]:$r(this.ipt,function(i){return i.stream.width===t&&i.stream.height===n})},i.apt=function(){var t=T.coroutine(tr.mark(function t(){var n,i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new yM(this.rpt,lO.es.S3,this.Zb),t.next=3,n.jh(this.kmt.src,{});case 3:return i=t.sent,t.abrupt("return",i.ww);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zv=function(){this.vpt();for(var t=0,n=this.ipt;t<n.length;t++){n[t].updater.Zv()}es(this.ipt)},n}(Is),JH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).lpt=void 0,r._pt=void 0,r.hB=void 0,r.wpt=!1,r.s1=void 0,r.$W=void 0,r.handleManifestUpdate=function(){var t=r.lpt.hpt();if(t){var n=r.kR;if(n){var i=n.getTime(),e=r.s1;e||(e=new kP,r.s1=e),e.Yh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.wpt&&e.y_.Gl>0&&(r.Cw.Vl(e),r.$W.Vl(e),r.wpt=!0)}}},r.Fmt=function(){r.lpt&&r.lpt.fpt(r.aw,r.hw)},r._pt=i,r.hB=e,r.$W=new xD(sn(r)),r.Qo(Ko.Ec,r.Fmt),r}U(n,t);var i=n.prototype;return i.Mw=function(){var n=T.coroutine(tr.mark(function n(i,e,r){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Mw.call(this,i,e,r);case 2:i.hlsDateRange&&this.gpt(i,e,r);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,e){return n.apply(this,arguments)}}(),i.gpt=function(t,n,i){this.lpt&&(this.lpt.$o("tpt",this.handleManifestUpdate),this.lpt.Zv()),this.lpt=new ZH(t,n,this._pt),this.lpt.Qo("tpt",this.handleManifestUpdate),this.lpt.rI(i)},i.Wl=function(){return this.s1&&(this.Cw.zl(this.s1),this.$W.zl(this.s1),this.s1.Zv(),this.s1=void 0,this.wpt=!1),this.$W.Wl(),t.prototype.Wl.call(this)},i.Zv=function(){return this.$o(Ko.Ec,this.Fmt),this.lpt&&(this.lpt.$o("tpt",this.handleManifestUpdate),this.lpt.Zv()),this.$W.Zv(),t.prototype.Zv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).ypt=void 0,i.ypt=n;for(var e=0;e<Jk.length;e++){var r=Jk[e];i.ypt.Qo(r,i.Go)}return i}U(n,t);var i=n.prototype;return i.Uw=function(){return this.ypt.Uw()},i.jw=function(){return this.ypt.jw()},i.Gw=function(){return this.ypt.Gw()},i.qw=function(){return this.ypt.qw()},i.Kw=function(){return this.ypt.Kw()},i.Ow=function(){return this.ypt.Ow()},i.Pw=function(){return this.ypt.Pw()},i.Wl=function(){return this.ypt.Wl()},i.Mw=function(t,n,i){return this.ypt.Mw(t,n,i)},i.Ww=function(){return this.ypt.Ww()},i.Fw=function(){return this.ypt.Fw()},i.Hw=function(){return this.ypt.Hw()},i.Zv=function(){this.Jo();for(var t=0;t<Jk.length;t++){var n=Jk[t];this.ypt.$o(n,this.Go)}return this.ypt.Zv()},L(n,[{key:"Nw",get:function(){return this.ypt.Nw}},{key:"tg",get:function(){return this.ypt.tg}},{key:"ng",get:function(){return this.ypt.ng},set:function(t){this.ypt.ng=t}},{key:"tw",get:function(){return this.ypt.tw},set:function(t){this.ypt.tw=t}},{key:"nw",get:function(){return this.ypt.nw}},{key:"iw",get:function(){return this.ypt.iw}},{key:"ew",get:function(){return this.ypt.ew}},{key:"xw",get:function(){return this.ypt.xw}},{key:"hh",get:function(){return this.ypt.hh}},{key:"eg",get:function(){return this.ypt.eg}},{key:"gw",get:function(){return this.ypt.gw}},{key:"rw",get:function(){return this.ypt.rw},set:function(t){this.ypt.rw=t}},{key:"cg",get:function(){return this.ypt.cg}},{key:"sw",get:function(){return this.ypt.sw}},{key:"uw",get:function(){return this.ypt.uw},set:function(t){this.ypt.uw=t}},{key:"fg",get:function(){return this.ypt.fg}},{key:"vg",get:function(){return this.ypt.vg},set:function(t){this.ypt.vg=t}},{key:"g_",get:function(){return this.ypt.g_}},{key:"dg",get:function(){return this.ypt.dg}},{key:"ow",get:function(){return this.ypt.ow}},{key:"kR",get:function(){return this.ypt.kR}},{key:"Cw",get:function(){return this.ypt.Cw}},{key:"hw",get:function(){return this.ypt.hw}},{key:"Dw",get:function(){return this.ypt.Dw}},{key:"aw",get:function(){return this.ypt.aw}},{key:"cw",get:function(){return this.ypt.cw},set:function(t){this.ypt.cw=t}},{key:"lg",get:function(){return this.ypt.lg},set:function(t){this.ypt.lg=t}},{key:"AR",get:function(){return this.ypt.AR}}]),n}(ll));QH=function(t,n,i){return new JH(t,n,i)},Wk.NR().DR(QH);var $H=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},KH=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),tV=A(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function nV(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function iV(t){return JSON.stringify(t,tV.getSerialize(nV))}var eV=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=s&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),rV=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),sV=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),uV=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=eV.isS,e=eV.isChar,r=eV.isNameStartChar,s=eV.isNameChar,u=eV.S_LIST,o=eV.NAME_RE,h=rV.isChar,a=sV.isNCNameStartChar,c=sV.isNCNameChar,v=sV.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:w},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,p=-2,k=0,A=1,b=2,T=3,S=4,E=5,R=6,I=7,N=8,D=9,C=10,x=11,P=12,O=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,z=21,X=22,W=23,q=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,et=36,rt=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,wt=33,gt=38,yt=45,mt=47,pt=59,kt=60,At=61,bt=62,Tt=63,St=91,Et=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,St,bt],xt=[...Dt,kt,Et],Pt=[At,Tt,...u],Ot=[...u,bt,gt,kt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==w&&t.fail(`xmlns prefix must be bound to ${w}.`)}switch(i){case w:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ma}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?O:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ma=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,s=r?dt:e;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case m:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=O,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(xt);t!==m&&(this.text+=String.fromCodePoint(t),t===Et?this.state=b:t===kt?this.state=R:Nt(t)&&(this.state=E,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case wt:this.state=I,this.openWakaBang="";break;case Tt:this.state=x;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=S:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===O&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case wt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=O,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=O}sCData(){this.captureToChar(Et)&&(this.state=z)}sCDataEnding(){const t=this.getCodeNorm();t===Et?this.state=X:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=O;break;case Et:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=q):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=q)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===Tt;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:Q):this.state=r?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=O}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=O):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const e=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==m&&(r(t)?(this.unget(),this.state=rt):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case gt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===bt?this.openTag():t===mt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Ot);switch(t){case gt:this.state=B,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=L,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ut;break t;case gt:this.state=B,this.entityReturnState=O,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case Et:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const s=this.getCode();switch(s){case kt:if(this.state=L,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case gt:this.state=B,this.entityReturnState=O,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==e&&(this.text+=n.slice(t));break t;default:i(s)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Bt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==O&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Ma=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?w:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=O,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=O,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=O,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),oV=function(){function t(){}return t.prototype.fs=function(t){var n=new uV.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new lV,e=[i];function r(t){e[e.length-1].Is(t)}return n.on("text",function(t){e.length>1&&r(new vV(t))}),n.on("cdata",function(t){r(new dV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new cV({_s:n,ys:""===i?void 0:i,mpt:""===s?void 0:s}),o=t.attributes,h=0,a=d.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,l=c.uri,_=c.value,w=new hV({_s:v,ks:_,ys:""===l?void 0:l,mpt:""===f?void 0:f});u.ppt(w)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new hn(t)}),n.write(t).close(),i},t}(),hV=function(){function t(t){this.kpt=void 0,this.Apt=void 0,this.bpt=void 0,this.On=void 0,this.kpt=t._s,this.On=t.ks,this.Apt=t.ys,this.bpt=t.mpt}var n=t.prototype;return n.ds=function(t){return this===t||!!wV(this,t)&&(this.kpt===t.kpt&&this.Apt===t.Apt&&this.bpt===t.bpt&&this.On===t.On)},n.ls=function(){return new t({_s:this._s,ks:this.ks,ys:this.ys,mpt:this.ps})},L(t,[{key:"ss",get:function(){return Kt.hs}},{key:"_s",get:function(){return this.kpt}},{key:"gs",get:function(){return void 0===this.bpt?this.kpt:this.bpt+":"+this.kpt}},{key:"ys",get:function(){return this.Apt}},{key:"ps",get:function(){return this.bpt}},{key:"ks",get:function(){return this.On}}]),t}(),aV=function(){function t(){this.bs=[]}var n=t.prototype;return n.Ts=function(t){return this.bs.filter(function(n){return _V(n)&&n.Es===t})},n.Rs=function(t,n){return this.bs.filter(function(i){return _V(i)&&i._s===n&&i.ys===t})},n.Is=function(t){this.bs.push(t)},L(t,[{key:"Ss",get:function(){return this.bs}},{key:"Ds",get:function(){return this.bs.filter(_V)}}]),t}(),cV=function(t){function n(n){var i;return(i=t.call(this)||this).kpt=void 0,i.Apt=void 0,i.bpt=void 0,i.Tpt=[],i.kpt=n._s,i.Apt=n.ys,i.bpt=n.mpt,i}U(n,t);var i=n.prototype;return i.Spt=function(t){for(var n=0,i=this.Ss;n<i.length;n++){var e=i[n];_V(e)?e.Spt(t):t.push(e.Fs)}},i.xs=function(t,n){for(var i=0,e=this.Tpt;i<e.length;i++){var r=e[i];if(r._s===n&&r.ys===t)return r.ks}},i.Cs=function(t){for(var n=0,i=this.Tpt;n<i.length;n++){var e=i[n];if(e.gs===t)return e.ks}},i.ppt=function(t){this.Tpt.push(t)},i.Ps=function(t){for(var n=0;n<this.Tpt.length;n++)if(this.Tpt[n].gs===t)return void this.Tpt.splice(n,1)},i.Os=function(t,n){for(var i=0;i<this.Tpt.length;i++)if(this.Tpt[i]._s===n&&this.Tpt[i].ys===t)return void this.Tpt.splice(i,1)},i.Bs=function(t,n){this.Ps(t),this.ppt(new hV({_s:t,ks:n}))},i.Ls=function(t,n,i){this.Ps(n);var e=n.split(":");this.ppt(new hV({_s:e[e.length-1],ks:i,ys:t,mpt:e.length>1?e[0]:void 0}))},i.ls=function(t){var i=new n({_s:this._s,ys:this.ys,mpt:this.ps});return this.Ms.forEach(function(t){return i.ppt(t.ls())}),t&&this.Ss.forEach(function(n){return i.Is(n.ls(t))}),i},i.ds=function(t){return this===t||!!wV(this,t)&&(this.kpt===t.kpt&&this.bpt===t.bpt&&this.Apt===t.Apt&&(gV(this.Ms,t.Ms)&&gV(this.Ss,t.Ss)))},L(n,[{key:"ss",get:function(){return Kt.us}},{key:"Ms",get:function(){return this.Tpt}},{key:"_s",get:function(){return this.kpt}},{key:"ys",get:function(){return this.Apt}},{key:"ps",get:function(){return this.bpt}},{key:"Es",get:function(){return void 0===this.bpt?this.kpt:this.bpt+":"+this.kpt}},{key:"Us",get:function(){var t=[];return this.Spt(t),t.join("")}}]),n}(aV),fV=function(){function t(t){this.ee=void 0,this.ee=t}return L(t,[{key:"Fs",get:function(){return this.ee}}]),t}(),vV=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.ls=function(){return new n(this.Fs)},i.ds=function(t){return this===t||!!wV(this,t)&&this.Fs===t.Fs},L(n,[{key:"ss",get:function(){return Kt.os}}]),n}(fV),dV=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.ls=function(){return new n(this.Fs)},i.ds=function(t){return this===t||!!wV(this,t)&&this.Fs===t.Fs},L(n,[{key:"ss",get:function(){return Kt.as}}]),n}(fV),lV=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.ls=function(t){var i=new n;return t&&this.Ss.forEach(function(n){return i.Is(n.ls(t))}),i},i.ds=function(t){return this===t||!!wV(this,t)&&gV(this.Ss,t.Ss)},L(n,[{key:"ss",get:function(){return Kt.cs}},{key:"Hs",get:function(){return this.Ds[0]}}]),n}(aV);function _V(t){return en(t)}function wV(t,n){return t.ss===n.ss}function gV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ds(n[i]))return!1;return!0}var yV,mV=["adBreak"],pV=["adBreak"];function kV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:nr({},t,{adBreak:nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Em(t,mV)})})})}function AV(t){return void 0===t.ads?t:nr({},t,{ads:t.ads.map(function(t){t.adBreak;return Em(t,pV)})})}function bV(t){return"string"==typeof t.date?new Date(t.date):t.date}function TV(t){var n;return t.cue.track?(n=EV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=EV(t.cue,""),n}function SV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function EV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new oV).fs(e.firstChild.outerHTML).Hs.Ms.forEach(function(t){r[t._s]=t.ks}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=RV(o);s[u]={type:yV.Ept,value:h}}else NV(o)?s[u]={type:yV.Rpt,value:o}:s[u]={type:yV.wj,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=RV(t.scte35Cmd),i.scte35Out=RV(t.scte35Out),i.scte35In=RV(t.scte35In),i.customAttributes=s}var a}(),i}function RV(t){if(void 0!==t)return js(t)}function IV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(EV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(EV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function NV(t){return"number"==typeof t}!function(t){t.wj="daterange-ca-type_string",t.Rpt="daterange-ca-type_number",t.Ept="daterange-ca-type_arraybuffer"}(yV||(yV={}));var DV={cue:function(t){var n={};switch(n.date=bV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=TV(t)}return n},textTrack:function(t){var n={};switch(n.date=bV(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=OV().register(t.cue));var i=PV()[BV()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=TV(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var s=t.track.activeCues[r];e.push(EV(s,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=bV(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=OV().register(t)}),n.track=IV(t.track);case"removetrack":case"change":n.track=IV(t.track)}return n},default:function(t){var n={};switch(n.date=bV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Ko.Lc:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=IV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=AV(t.ad);break;case"adloaded":case"adimpression":n.ad=kV(t.ad);break;case"aderror":t.Ipt&&(n.Ipt=t.Ipt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=kV(t.ad)}return SV(n)},minimizeCueHelper:function(t){var n={};return n.date=bV(t),n.type=t.type,n.cue=TV(t),n.track={uid:t.cue.track.uid},n},adReplacer:kV,adBreakReplacer:AV,removeCircularReferences:SV},CV=function(){this.stringify=iV,this.minimize=DV};function xV(){return pe.self}function PV(){return xV().THEOplayerBridge}function OV(){return xV().THEOCueMirrorMap}function BV(){return xV().THEOplayerGlobalID}function LV(){var t=xV();if(t.THEOplayerBridge){var n=new $H;t.THEOplayerBridge=Vd(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new $H;t.THEOplayerUtils||(t.THEOplayerUtils=new CV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new KH)}LV();var MV,UV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return U(n,t),n}(Ds),FV=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.jo(new UV(t,n))},i.addEventListener=function(t,n){this.Qo(t,n)},i.removeEventListener=function(t,n){this.$o(t,n)},n}(_l),HV=function(t){function n(n,i){var e;return(e=t.call(this)||this).Npt=void 0,e.Dpt=void 0,e.Cpt=function(t){e.Npt.IZ("THEOplayerABRSetTargetBuffer",t.PP),e.jo(t)},e.xpt=function(t){e.Npt.IZ("THEOplayerABRSetStrategy",t.BP),e.jo(t)},e.Npt=n,e.Dpt=i,e.Dpt.Qo("OP",e.Cpt),e.Dpt.Qo("LP",e.xpt),e}return U(n,t),L(n,[{key:"qP",get:function(){var t;switch(this.BP.type){case HT.PERFORMANCE:return 1;case HT.QUALITY:return 0;case HT.BANDWIDTH:return null!=(t=this.BP.metadata)&&t.bitrate&&!g(this.BP.metadata.bitrate)?this.BP.metadata.bitrate:0;default:return 0}}},{key:"_l",get:function(){return this.Dpt._l}},{key:"BP",get:function(){return this.Dpt.BP},set:function(t){this.Dpt.BP=t}},{key:"PP",get:function(){return this.Dpt.PP},set:function(t){this.Dpt.PP=t}},{key:"MP",get:function(){return this.Dpt.MP},set:function(t){this.Dpt.MP=t}}]),n}(Is),VV=function(){function t(t,n,i){this.Na=void 0,this.po=void 0,this.Va=void 0,this.na=void 0,this.Na=t,this.po=i,this.Va=n}var n=t.prototype;return n.iT=function(t){throw new f("Not implemented yet.")},n.ZL=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.po.bo(n.lo,i);case 2:return e=t.sent,t.next=5,e.ca();case 5:return r=t.sent,t.next=8,this.JL(r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.$L=function(t){return!1},n.KL=function(t){return T.resolve(void 0)},n.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.JL=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.nM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nM=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.na)){t.next=5;break}return t.next=4,i.oa(this.Va);case 4:this.na=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.ua(this.Va);case 8:this.na=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Kb=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"ea",get:function(){return this.Na}},{key:"vg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"dg",get:function(){return new iA([0,1/0])}},{key:"Cw",get:function(){throw new f("Not implemented yet.")}},{key:"Ppt",get:function(){throw new f("Not implemented yet")}},{key:"Dw",get:function(){throw new f("Not implemented yet.")}},{key:"Opt",get:function(){throw new f("Not implemented yet")}},{key:"Bpt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.Lpt="webkitneedkey",t.Mpt="webkitkeymessage",t.Upt="webkitkeyerror"}(MV||(MV={}));var zV=function(t){function n(n,i){var e;return(e=t.call(this,MV.Lpt)||this).initData=n,e.sessionId=i,e}return U(n,t),n}(Ds),XV=function(t){function n(n,i){var e;return(e=t.call(this,MV.Mpt)||this).message=n,e.destinationURL=i,e}return U(n,t),n}(Ds),WV=function(t){function n(){return t.call(this,MV.Upt)||this}return U(n,t),n}(Ds),qV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).wa=new $u,u.Da=void 0,u.ma=new Fs,u.xa=new $u,u.Fpt=function(t){u.Da?(u.Da.xh(void 0),u.Da=void 0):u.Ta("internal-error"),u.jo(new Bs)},u.Hpt=function(t){u.Da&&(u.Da.Ch(void 0),u.Da=void 0),u.jo(new Os(sn(u),"license-request",Yu(t.message).buffer,t.destinationURL||void 0))},u.Ea=n,u.zh=i,u.Vpt=e,u.Fa=r,u.Oa=s,u}U(n,t);var i=n.prototype;return i.Gh=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e&&e.fairplay&&e.fairplay.Ba){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+r+".");case 3:return t.next=5,this.zpt(ju(i),r);case 5:this.Ta("usable"),this.xa.Ch(),this.xa=new $u;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.jh=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Yh=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ju(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Da=new $u,this.Vpt.Yh(this.Fa,i),t.next=7,this.Da.Dh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xa;case 2:return this.Vpt.$o(MV.Mpt,this.Hpt),this.Vpt.$o(MV.Upt,this.Fpt),this.xa.Fo(),this.wa.Ch(void 0),t.abrupt("return",this.wa.Dh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qh=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.zpt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=xo(n,i,this.Oa),this.Vpt.Qo(MV.Mpt,this.Hpt),this.Vpt.Qo(MV.Upt,this.Fpt),this.Vpt.SW(this.Fa,e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ta=function(t){this.ma.ph(),this.ma.mh(Us,t),this.jo(new Ps(this))},L(n,[{key:"ta",get:function(){return this.Fa}},{key:"$h",get:function(){return NaN}},{key:"Jh",get:function(){return this.wa.Dh}},{key:"Kh",get:function(){return this.ma}}]),n}(Is),GV=function(){function t(t,n,i){this.Xpt=void 0,this.Fa=void 0,this.Oa=void 0,this.Vpt=void 0,this.zh=void 0,this.Na=void 0,this.Ea=void 0,this.Vpt=t,this.zh=n,this.Na=i;var e=go(i)||"video/mp4";this.Ea=lo(e)}var i=t.prototype;return i.ra=function(){var t=T.coroutine(tr.mark(function t(i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Oa){t.next=2;break}throw new Po(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return e=new qV(this.Ea,this.zh,this.Vpt,this.Fa,this.Oa),this.Xpt=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sa=function(t){return this.Oa=ju(t),T.resolve(!0)},i.ua=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oa=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"ia",get:function(){return this.zh}},{key:"ea",get:function(){return this.Na}},{key:"sessionId",set:function(t){this.Fa=t}}]),t}(),jV=function(){function t(t,n,i){this.Wpt=t,this.zh=n,this.Na=i}var n=t.prototype;return n.fa=function(){return this.Na},n.ca=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new GV(this.Wpt,this.zh,this.Na));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"ia",get:function(){return this.zh}}]),t}(),QV=function(){function t(t){this.Wpt=void 0,this.Wpt=t}return t.prototype.bo=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<i.length)){t.next=9;break}if(r=i[e],!(s=_o(YV,xs,n,r))){t.next=6;break}return t.abrupt("return",new jV(this.Wpt,n,s));case 6:e++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function YV(t,n){return t===kr}var ZV,JV=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.MW=function(t,n){return!0},n}(KD),$V=function(t){function n(n,i,e){var r;return void 0===e&&(e=new QV(i)),(r=t.call(this)||this).RE=void 0,r.po=void 0,r.GL=void 0,r.zW=new XS,r.qpt=void 0,r.Wpt=void 0,r.Gpt=!1,r.Fa=void 0,r.Pa=null,r.jpt={rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.Qpt=function(t){"boolean"==typeof t.detail.casting&&(r.Gpt=t.detail.casting,r.jo(new Q_(r.Gpt)))},r.Ypt=function(t){r.Fa=t.sessionId,r.Pa&&(r.Pa.sessionId=r.Fa);var n=t.initData;if(n){var i=uC(n);if(!i)return;r.jo(new Ls(_r,i))}else r.jo(new Ls(_r,new ArrayBuffer(0)))},r.qpt=n,r.Wpt=i,r.Wpt.Qo(MV.Lpt,r.Ypt),r.po=e,r.GL=new JV(sn(r)),r.Zpt(),r}U(n,t);var i=n.prototype;return i.rM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.do===Cy.rT)return i}},i.Po=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.Jo(),this.Jpt(),this.Wpt.$o(MV.Lpt,this.Ypt),t.next=7,this.GL.Po();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qw=function(){throw new f("Not implemented yet")},i.Kb=function(t,n,i,e,r,s,u,o){throw new f("Not implemented yet")},i.oR=function(){return!1},i.aR=function(t,n,i,e){throw new f("Not implemented yet")},i.iT=function(t){throw new f("Not implemented yet")},i.vR=function(){throw new f("Not implemented yet")},i.jh=function(){var t=T.coroutine(tr.mark(function t(n){var i=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.zW.gL(function(){var t=T.coroutine(tr.mark(function t(e){var r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.do!==Cy.rT){t.next=8;break}return ds(e),r=new VV(n,i,i.po),i.RE=r,i.GL.jh(r,n),t.abrupt("return",r);case 8:throw new f("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ow=function(){throw new f("Not implemented yet")},i.Pw=function(){throw new f("Not implemented yet")},i.Wl=function(){var t=this;return this.zW.Fo(),this.zW.gL(T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.RE){n.next=4;break}return n.next=3,t.RE.Po();case 3:t.RE=void 0;case 4:return n.next=6,t.GL.Wl();case 6:case"end":return n.stop()}},n)})))},i.Th=function(t,n){throw new f("Not implemented yet")},i.mR=function(t){throw new f("Not implemented yet")},i.Ww=function(){throw new f("Not implemented yet")},i.pR=function(){return this.jpt},i.Zpt=function(){this.qpt.addEventListener("airPlayIsCasting",this.Qpt)},i.Jpt=function(){this.qpt.removeEventListener("airPlayIsCasting",this.Qpt)},i.webkitSetMediaKeys=function(t){this.Pa=t||null,this.Pa&&(this.Pa.sessionId=this.Fa)},i.TG=function(){},i.AG=function(){throw new f("Not implemented yet")},i.bG=function(){throw new f("Not implemented yet")},L(n,[{key:"ng",get:function(){throw new f("Not implemented yet")}},{key:"tg",get:function(){throw new f("Not implemented yet")}},{key:"tw",get:function(){throw new f("Not implemented yet")}},{key:"$B",get:function(){throw new f("Not implemented yet")}},{key:"nw",get:function(){throw new f("Not implemented yet")}},{key:"iw",get:function(){throw new f("Not implemented yet")}},{key:"hh",get:function(){throw new f("Not implemented yet")}},{key:"zk",get:function(){throw new f("Not implemented yet")}},{key:"eg",get:function(){return this.Gpt}},{key:"rw",get:function(){throw new f("Not implemented yet")}},{key:"sw",get:function(){throw new f("Not implemented yet")}},{key:"uw",get:function(){throw new f("Not implemented yet")}},{key:"fg",get:function(){throw new f("Not implemented yet")}},{key:"g_",get:function(){throw new f("Not implemented yet")}},{key:"dg",get:function(){throw new f("Not implemented yet")}},{key:"ow",get:function(){throw new f("Not implemented yet")}},{key:"RG",get:function(){throw new f("Not implemented yet")}},{key:"cw",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"ku",get:function(){throw new f("Not implemented yet")}},{key:"fR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Pa}},{key:"IG",get:function(){return sE}},{key:"Cw",get:function(){throw new f("Not implemented yet")}},{key:"tL",get:function(){throw new f("Not implemented yet")}},{key:"kR",get:function(){throw new f("Not implemented yet")}},{key:"SG",get:function(){return!0}},{key:"KE",get:function(){return this.GL.KE},set:function(t){this.GL.KE=t}},{key:"HW",get:function(){return this.GL.HW}}]),n}(ll),KV=function(t){function n(n){var i;return(i=t.call(this,Ko.Fc)||this).jpt=n,i}return U(n,t),n}(Ds);function tz(t){switch(t.type){case ZV.wj:return t.value;case ZV.Rpt:return jd(t.value);case ZV.Ept:return qs(t.value);default:return}}function nz(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.wj="daterange-ca-type_string",t.Rpt="daterange-ca-type_number",t.Ept="daterange-ca-type_arraybuffer"}(ZV||(ZV={}));var iz=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).WS=void 0,u.$pt=void 0,u.WS=n,u.$pt=s,u}return U(n,t),L(n,[{key:"name",get:function(){return this.WS}},{key:"timestamp",get:function(){return this.$pt}}]),n}(Po),ez=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return U(n,t),n}(iz),rz=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).jI=0,u.dz=!1,u.IE=void 0,u.NE=void 0,u.Kpt=void 0,u.YI=!0,u.ZI=1,u.bw=void 0,u.Tw=void 0,u.jW=void 0,u.YW=void 0,u.ZW=void 0,u.Sw=void 0,u.Yb=void 0,u.lU=void 0,u.tkt=iA.zI(),u.KV=iA.zI(),u.QI=!1,u.oq=iA.zI(),u.JI=void 0,u.nkt=void 0,u.ikt=void 0,u.lz=Tl.z_,u.uT=Tl.z_,u.qpt=void 0,u.$W=void 0,u.xE=void 0,u.Npt=void 0,u.kmt=void 0,u.iN=void 0,u.EE=void 0,u.PE=void 0,u.Wpt=void 0,u.jpt={rg:0,sg:0,ug:0,og:0,hg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.RE=void 0,u.ekt=void 0,u.BE=new Lk,u.setCurrentTime=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.dg.length){t.next=4;break}return u.jI=n,t.next=4,u.qpt.ih("seekablechange");case 4:u.jI=u.updateCurrentTime(n),u.Npt.IZ("THEOplayerSetCurrentTime",u.jI),u.JI=!0,u.jo(new t_(u.jI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.rkt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.tkt=new iA(i),u.jo(new cE(u.tw))}},u.skt=function(t){u.lz=t.detail.readyState,u.jo(new e_(+t.detail.currentTime,u.g_)),u.ukt()},u.okt=function(t){u.lz=t.detail.readyState,u.jo(new r_(+t.detail.currentTime,u.g_)),u.ukt()},u.hkt=function(t){if(t.detail){var n=+t.detail.duration;u.lU=n,u.jo(new Yl(u.nw))}},u.Cmt=function(t){t.detail&&(u.dz=!0,u.jo(new $l(+t.detail.currentTime)))},u.LE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);nz(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.NE=new ez(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.IE=I_(u.NE),u.jo(new u_(u.NE))):nz(i)&&(u.NE=new iz(i.name,i.message,void 0,i.code,i.timestamp),u.IE=I_(u.NE),u.jo(new u_(u.NE)))}},u.xmt=function(t){u.jo(new fE)},u.akt=function(t){u.lz=t.detail.readyState,u.jo(new Kl(+t.detail.currentTime,u.g_)),u.ukt()},u.ckt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.dg.length){t.next=3;break}return t.next=3,u.qpt.ih("seekablechange");case 3:u.lz=n.detail.readyState,u.jo(new Ql(+n.detail.currentTime,u.g_)),u.ukt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.Tmt=function(t){t.detail&&u.YI&&(u.YI=!1,u.jo(new Wl(+t.detail.currentTime)))},u.Smt=function(t){t.detail&&(u.YI||(u.YI=!0,u.jo(new Xl(+t.detail.currentTime))))},u.fkt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.oq=new iA(i)}},u.$mt=function(t){t.detail&&u.jo(new im(+t.detail.currentTime))},u.Imt=function(t){t.detail&&(u.ZI=t.detail.playbackRate,u.jo(new Zl(+t.detail.currentTime,u.ZI)))},u.vkt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.KV=new iA(i)}},u.Rmt=function(t){t.detail&&(u.jI=+t.detail.currentTime,u.JI=!1,u.jo(new Jl(u.jI,u.Kpt)),u.jo(new n_(u.jI)))},u.Emt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.lU&&(u.dz=!1),u.JI=!0,u.jo(new t_(n))}},u.dkt=function(t){t.detail&&(t.detail.currentDate&&(u.Kpt=new Date(1e3*t.detail.currentDate)),u.jI=+t.detail.currentTime,u.jo(new Jl(u.jI,u.Kpt)))},u.lkt=function(t){u.nkt=t.detail.height,u.ikt=t.detail.width},u._kt=function(t){t.detail&&u.jo(new nm(+t.detail.currentTime))},u.Xmt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Nw.Vl(new z_(n))},u.wkt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.bw.Gl;s++){var o=u.Nw.Hl(s);o.u_==e&&o.s_==r?i=u.bw.Hl(s):1==o.n_&&(n=u.bw.Hl(s))}i&&n&&(i.n_=!0,n.n_=!1)},u.qmt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Dw.Vl(new j_(n))},u.iZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===sy.Op&&e===q_.ID3?(n=new BD("",t.detail.label)).l_=rl.c_:i===sy.Op&&e===q_.DATE_RANGE?(n=new kP,u.ekt=n):n=new NN(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.jW.Vl(n),u.$W.Vl(n)},u.gkt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new PD(jd(e.startTime),s,e.uid),h=u.ykt();h&&h.nT(o)}},u.mkt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new cw(jd(r.startTime),jd(r.endTime),r.content,!1),o=null!=(e=u.pkt(sy.xp))?e:u.pkt(sy.Xb);o&&(o.do=q_.WEBVTT,o.nT(s))}},u.tG=function(t){t.type===Ko.oc&&(u.IE=I_(t.errorObject)),u.Go(t)},u.kkt=function(t){t.detail&&(u.jpt.sg=t.detail.corruptedVideoFrames,u.jpt.rg=t.detail.droppedVideoFrames,u.jo(new KV(u.gw)))},u.Akt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={i_:t.id};if(void 0!==t.startDate&&(n.kR=new Date(t.startDate)),void 0!==t.endDate&&(n.D$=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=tz(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.X$=e}void 0!==t.scte35Cmd&&(n.W$=qs(t.scte35Cmd)),void 0!==t.scte35In&&(n.G$=qs(t.scte35In)),void 0!==t.scte35Out&&(n.q$=qs(t.scte35Out)),void 0!==t.startTime&&(n.Bg=t.startTime),n.H$=t.class,n.nw=jd(t.duration),n.V$=jd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Bg?t.Bg:(new Date).getTime(),e=new lP(t,i);u.ekt.nT(e),u.ekt.Yh(n,i)})};var o=r.uid;u.Npt=u.getSdkBridge(o),u.qpt=new FV,PV()[o].sdkEventBus=u.qpt,u.bw=new C_,u.Tw=new C_;var h=u.bkt(e);return u.Yb=new zH(sn(u),new DD),u.$W=new xD(sn(u)),u.xE=new Sy(u.Yb,h),u.jW=new uy,u.YW=new VD(sn(u)),u.YW.$l=u.jW,u.ZW=new zD(u.Yb,u.YW),u.Sw=new Fk([u.jW,u.xE.Ek,u.ZW.Ek]),u.Wpt=u.getFairPlayControllerBridge(u.Npt),u.EE=new $V(u.qpt,u.Wpt),u.PE=new Mk(h),u.EE.KE=u.PE,u.observeMediaElement(),u.nR(),u.iN=new HV(u.Npt,s),u.iN.Qo("OP",function(){u.Npt.IZ("THEOplayerSetPreferredForwardBufferDuration",u.iN.PP)}),u}U(n,t);var i=n.prototype;return i.jw=function(){return sA},i.Ww=function(){this.Npt.IZ("THEOplayerShow",{})},i.qw=function(){this.Npt.IZ("THEOplayerHide",{})},i.Tkt=function(){var t=this;this.Npt.IZ("THEOplayerSetInitialPreferredPeakBitRate",this.iN.qP);this.Qo("playing",function n(){t.Npt.IZ("THEOplayerSetInitialPreferredPeakBitRate",0),t.$o("playing",n)})},i.Mw=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kmt=n,e=nr({},i,{sources:{src:n.src,type:kl.B_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Npt.IZ("THEOplayerSourceChange",e),r={do:Cy.rT,p_:n.src,ov:n.type,iR:this.eR(n),rR:n.crossOrigin,sR:i.metadata&&i.metadata.title},this.PE.dE(n.contentProtection),t.next=7,this.EE.jh(r);case 7:this.RE=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==q_.WEBVTT})).length>0&&this.uR(s),Dy(this.Cw),this.Tkt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ia:Tr,wR:[{initDataTypes:[Tr._o],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Pw=function(){this.YI=!1,this.jo(new Wl(this.tw)),this.Npt.IZ("THEOplayerPlay",{})},i.Ow=function(){this.YI=!0,this.jo(new Xl(this.tw)),this.Npt.IZ("THEOplayerPause",{})},i.Gw=function(){},i.Wl=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jI=0,this.dz=!1,this.IE=void 0,this.NE=void 0,this.YI=!0,this.ZI=1,this.lU=void 0,this.KV=iA.zI(),this.tkt=iA.zI(),this.nkt=void 0,this.ikt=void 0,this.lz=Tl.z_,this.uT=Tl.z_,this.bw.Wl(),this.Tw.Wl(),this.jW.Wl(),this.Sw.Wl(),t.next=19,this.ZW.Wl();case 19:return this.YW.Wl(),t.next=22,this.xE.Wl();case 22:return this.Yb.Wl(),this.$W.Wl(),this.kmt=void 0,t.next=27,this.EE.Wl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fw=function(){this.Npt.IZ("THEOplayerShowAirPlayPicker",{})},i.Hw=function(){this.Npt.IZ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.gw.sg=t.sg,this.gw.rg=t.rg},i.Zv=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.Jo(),this.unobserveMediaElement(),this.lR(),this.EE.KE=void 0,t.next=8,this.EE.Po();case 8:return this.bw.Zv(),this.Tw.Zv(),this.jW.Zv(),this.Sw.Zv(),this.YW.Zv(),t.next=15,this.ZW.Zv();case 15:return t.next=17,this.xE.Zv();case 17:this.Yb.Zv(),this.$W.Zv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.uR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.xE.$b(i)}},i.ukt=function(){var t=this.uT,n=this.lz;t!==n&&(this.uT=n,this.jo(new s_(this.tw,n)))},i.observeMediaElement=function(){this.EE.Qo(Ko.ec,this.Go),this.EE.Qo([Ko.hc,Ko.oc],this.tG),this.qpt.addEventListener("play",this.Tmt),this.qpt.addEventListener("pause",this.Smt),this.qpt.addEventListener("seeking",this.Emt),this.qpt.addEventListener("seeked",this.Rmt),this.qpt.addEventListener("ratechange",this.Imt),this.qpt.addEventListener("durationchange",this.hkt),this.qpt.addEventListener("timeupdate",this.dkt),this.qpt.addEventListener("waiting",this._kt),this.qpt.addEventListener("playing",this.$mt),this.qpt.addEventListener("ended",this.Cmt),this.qpt.addEventListener("loadedmetadata",this.ckt),this.qpt.addEventListener("loadeddata",this.akt),this.qpt.addEventListener("loadstart",this.xmt),this.qpt.addEventListener("canplay",this.skt),this.qpt.addEventListener("canplaythrough",this.okt),this.qpt.addEventListener("error",this.LE),this.qpt.addEventListener("seekablechange",this.vkt),this.qpt.addEventListener("videosizechange",this.lkt),this.qpt.addEventListener("bufferedchange",this.rkt),this.qpt.addEventListener("playedchange",this.fkt),this.qpt.addEventListener("metricschange",this.kkt),this.qpt.addEventListener("addDateRangeCues",this.Akt)},i.unobserveMediaElement=function(){this.EE.$o(Ko.ec,this.Go),this.EE.$o([Ko.hc,Ko.oc],this.tG),this.qpt.removeEventListener("play",this.Tmt),this.qpt.removeEventListener("pause",this.Smt),this.qpt.removeEventListener("seeking",this.Emt),this.qpt.removeEventListener("seeked",this.Rmt),this.qpt.removeEventListener("ratechange",this.Imt),this.qpt.removeEventListener("durationchange",this.hkt),this.qpt.removeEventListener("timeupdate",this.dkt),this.qpt.removeEventListener("waiting",this._kt),this.qpt.removeEventListener("playing",this.$mt),this.qpt.removeEventListener("ended",this.Cmt),this.qpt.removeEventListener("loadedmetadata",this.ckt),this.qpt.removeEventListener("loadeddata",this.akt),this.qpt.removeEventListener("loadstart",this.xmt),this.qpt.removeEventListener("canplay",this.skt),this.qpt.removeEventListener("canplaythrough",this.okt),this.qpt.removeEventListener("error",this.LE),this.qpt.removeEventListener("seekablechange",this.vkt),this.qpt.removeEventListener("videosizechange",this.lkt),this.qpt.removeEventListener("bufferedchange",this.rkt),this.qpt.removeEventListener("playedchange",this.fkt),this.qpt.removeEventListener("metricschange",this.kkt),this.qpt.removeEventListener("addDateRangeCues",this.Akt)},i.updateCurrentTime=function(t){var n=this.dg.start(0),i=this.dg.end(0);return l.min(l.max(t,n),i)},i.ykt=function(){for(var t=0,n=this.Sw.ql;t<n.length;t++){var i=n[t];if(i.r_===sy.Op&&i.do===q_.ID3)return i}},i.pkt=function(t){for(var n=0,i=this.Sw.ql;n<i.length;n++){var e=i[n],r=e.l_===rl.f_,s=e.r_===t;if(r&&s)return e}},i.nR=function(){this.qpt.addEventListener("addaudiotrack",this.Xmt),this.qpt.addEventListener("enableaudiotrack",this.wkt),this.qpt.addEventListener("addvideotrack",this.qmt),this.qpt.addEventListener("addtexttrack",this.iZ),this.qpt.addEventListener("addtexttrackid3cues",this.gkt),this.qpt.addEventListener("addtexttrackcues",this.mkt)},i.lR=function(){this.qpt.removeEventListener("addaudiotrack",this.Xmt),this.qpt.removeEventListener("enableaudiotrack",this.wkt),this.qpt.removeEventListener("addvideotrack",this.qmt),this.qpt.removeEventListener("addtexttrack",this.iZ),this.qpt.removeEventListener("addtexttrackid3cues",this.gkt),this.qpt.removeEventListener("addtexttrackcues",this.mkt)},i.Kw=function(){},L(n,[{key:"Nw",get:function(){return this.bw}},{key:"tg",get:function(){return this.tkt.yR()}},{key:"ng",get:function(){return this.Kpt?this.Kpt:null},set:function(t){this.Npt.IZ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.Kpt=t}},{key:"tw",get:function(){return this.jI},set:function(t){this.setCurrentTime(t)}},{key:"nw",get:function(){return this.lU}},{key:"iw",get:function(){return this.dz}},{key:"hh",get:function(){return this.IE}},{key:"ew",get:function(){return this.NE}},{key:"xw",get:function(){}},{key:"eg",get:function(){return this.EE.eg}},{key:"gw",get:function(){return this.jpt}},{key:"rw",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.Npt.IZ("THEOplayerSetMuted",t),this.QI=t,this.jo(new i_(this.tw,t?0:1)))}},{key:"sw",get:function(){return this.YI}},{key:"uw",get:function(){return this.ZI},set:function(t){this.Npt.IZ("THEOplayerSetPlaybackRate",t),this.ZI=t}},{key:"fg",get:function(){return this.oq.yR()}},{key:"vg",get:function(){return Qk.qR},set:function(t){}},{key:"g_",get:function(){return this.lz}},{key:"dg",get:function(){return this.KV.yR()}},{key:"ow",get:function(){return this.JI}},{key:"kR",get:function(){}},{key:"Cw",get:function(){return this.Sw}},{key:"hw",get:function(){return this.nkt}},{key:"aw",get:function(){return this.ikt}},{key:"cw",get:function(){return 1},set:function(t){}},{key:"Dw",get:function(){return this.Tw}},{key:"AR",get:function(){return this.BE}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"cg",get:function(){return!0}}]),n}(ll),sz=function(){function t(){this.bR=Dk.uE}var n=t.prototype;return n.SR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Il(n.type))return!1;var e=n.contentProtection;if(e&&!Hm(e)){if(!Xm(e))return!1;if(!t.Kmt(e))return!1}return!0},t.Kmt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.ER=function(){return!1},t}(),uz=function(){function t(){this.Skt=e.webkit}return t.prototype.IZ=function(t,n){this.Skt.messageHandlers[t]&&this.Skt.messageHandlers[t].postMessage(n)},t}(),oz=function(t){function n(n){var i;return(i=t.call(this)||this).Npt=void 0,i.qpt=void 0,i.Ekt=function(t){var n=qs(t.detail.initData),e=t.detail.sessionId;i.jo(new zV(n,e))},i.Rkt=function(t){var n=new y(Ks(t.detail.message)),e=t.detail.destinationURL;i.jo(new XV(n,e))},i.Ikt=function(t){i.jo(new WV)},i.Npt=n,i.qpt=new FV,PV().fairplayController={sdkEventBus:i.qpt},i.N1(),i}U(n,t);var i=n.prototype;return i.N1=function(){this.qpt.addEventListener(MV.Lpt,this.Ekt),this.qpt.addEventListener(MV.Mpt,this.Rkt),this.qpt.addEventListener(MV.Upt,this.Ikt)},i.SW=function(t,n){var i={playerId:BV(),data:tu(n.buffer),sessionId:t};this.Npt.IZ("THEOplayerCreateKeySession",i)},i.Yh=function(t,n){var i={playerId:BV(),data:tu(n.buffer),sessionId:t};this.Npt.IZ("THEOplayerUpdateKey",i)},n}(ll),hz=function(t){var n=this;this.qpt=void 0,this.Nkt=void 0,this.Dkt=function(){n.Nkt.cZ()},this.Ckt=function(){n.Nkt.aZ()},this.qpt=new FV,this.Nkt=t,this.qpt.addEventListener("showTracks",this.Dkt),this.qpt.addEventListener("hideTracks",this.Ckt),PV().texttracks={sdkEventBus:this.qpt}},az=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this)._Z=void 0,o.wZ=void 0,o.xkt=void 0;var h=i.JE(D_.Vv);return o._Z=new lC,o._Z.EG(n),o.wZ=new Cx(o._Z.ig,h.$B,o.Cw,u,h.fR),o.xkt=new hz(o.wZ),i._R(h),pe.document.querySelector(".vjs-tech")?pe.document.querySelector(".player-div").classList.add("theo-ios-sdk"):pe.document.querySelector(".player-div").style.background="transparent",o}U(n,t);var i=n.prototype;return i.Ww=function(){t.prototype.Ww.call(this),this._Z.Ww()},i.qw=function(){t.prototype.qw.call(this),this._Z.qw()},i.Uw=function(){return!0},i.getSdkBridge=function(){return new uz},i.getFairPlayControllerBridge=function(){return fz},i.bkt=function(t){return t},i.Zv=function(){var n=T.coroutine(tr.mark(function n(){return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return pe.document.querySelector(".vjs-tech")?pe.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):pe.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Zv.call(this);case 3:this.wZ.Zv(),this._Z.Zv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(rz);Gk(new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.iS=function(t,n,i,e,r,s){return new az(t,n,i,e,r,s)},i.SR=function(n,i){if(n.type){var e=Be();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.SR.call(this,n,i)},n}(sz)));var cz,fz=new oz(new uz),vz=function(t){function n(){return t.call(this,"Pkt")||this}return U(n,t),n.prototype.wl=function(){return new dz},n}(Ed),dz=function(t){function n(){return t.call(this,"statechange")||this}return U(n,t),n}(Ds);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(cz||(cz={}));var lz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Okt=new ll,n.Go=function(t){n.jo(t)},n}U(n,t);var i=n.prototype;return i.wl=function(){return n=function(t){var n=t.Bkt.map(function(t){return t._l});return n.item=function(n){n|=0;var i=t.Hl(n);return i&&i._l||void 0},n}(t=this),i=new rS(t,n),n.addEventListener=function(t,n){i.Qo(t,n)},n.removeEventListener=function(t,n){i.$o(t,n)},n;var t,n,i},i.Qo=function(t,n){this.Okt.Qo(t,n)},i.Zo=function(t){this.Okt.Zo(t)},i.Jo=function(){this.Okt.Jo()},i.jo=function(t){this.Okt.jo(t)},i.$o=function(t,n){this.Okt.$o(t,n)},i.th=function(t){this.Okt.th(t)},i.nh=function(t){this.Okt.nh(t)},i.ih=function(t,n){return this.Okt.ih(t,n)},n}(function(){function t(){this._h=[],this.ll=void 0}var n=t.prototype;return n.Hl=function(t){return this._h[t]},n.wg=function(t){this._h.push(t),this.ll&&this.ll.push(t._l),this.Lkt(t)},n.Mkt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.wg(i)}},n.Ukt=function(t,n){n>=0&&n<=this._h.length&&(this._h.splice(n,0,t),this.ll&&this.ll.splice(n,0,t._l),this.Lkt(t))},n.gg=function(t){return is(this._h,t)},n.Qh=function(t){this.Fkt(this._h.indexOf(t))},n.Fkt=function(t){if(t>=0&&t<this._h.length){var n=this._h[t];ns(this._h,t),this.ll&&ns(this.ll,t),this.Hkt(n)}},n.ph=function(){var t=this._h.slice();es(this._h),this.ll&&es(this.ll);for(var n=0;n<t.length;n++){var i=t[n];this.Hkt(i)}},L(t,[{key:"Bkt",get:function(){return this._h}},{key:"Gl",get:function(){return this._h.length}},{key:"_l",get:function(){return this.ll||(this.ll=this.wl()),this.ll}}]),t}());var _z,wz=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return U(n,t),n}(Ds),gz=function(t){function n(n){var i;return(i=t.call(this,"zkt")||this).Vkt=n,i}return U(n,t),n.prototype.wl=function(){return new wz(this.Vkt._l)},n}(Ed),yz=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return U(n,t),n}(Ds),mz=function(t){function n(n){var i;return(i=t.call(this,"Xkt")||this).task=n,i}return U(n,t),n.prototype.wl=function(){return new yz(this.task._l)},n}(Ed),pz=function(t){function n(){return t.call(this)||this}U(n,t);var i=n.prototype;return i.Lkt=function(t){this.jo(new gz(t))},i.Hkt=function(t){this.jo(new mz(t))},n}(lz);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(_z||(_z={}));var kz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wkt=_z.UNINITIALISED,r.dL=new pz,r.qnt=void 0,r.qkt=void 0,r.Gkt=void 0,r.Gkt=i,r.qkt=e,r.qnt=n,r.Vw(),r}U(n,t);var i=n.prototype;return i.Vw=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jkt();case 2:this.Qkt(_z.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jkt=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Ykt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Ykt=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qnt.w3();case 2:for(n=t.sent,i=0;i<n.length;i++)e=n[i],r=this.Gkt.Zkt(e.id,e.sourceDescription,e.parameters,this.qkt),this.Jkt(r),this.dL.wg(r);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qkt=function(t){this.Wkt=t,this.jo(new vz)},i.Zkt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Gkt.$kt(t,n,i);return this.Kkt(e,i),this.dL.wg(e),this.Jkt(e),e},i.Kkt=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tAt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.tAt=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qnt.d3({key:n.i_,id:n.i_,sourceDescription:n.FR,parameters:n.va},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Jkt=function(t){var n=this;t.Qo("Pkt",function(){t.mv===cz.EVICTED&&n.dL.Qh(t)})},L(n,[{key:"mv",get:function(){return this.Wkt}},{key:"nAt",get:function(){return this.dL}}]),n}(Is);function Az(t,n){return function(t,n){var i=t.ku&&n.ku,e=t.zk&&n.zk;return i||e?i&&e?t.ku*t.zk-n.ku*n.zk:i?t.ku-n.ku:e?t.zk-n.zk:(t.ku||1)*(t.zk||1)-(n.ku||1)*(n.zk||1):0}(t,n)||function(t,n){return t.cE-n.cE}(t,n)}var bz=function(t){function n(){return t.call(this,"progress")||this}return U(n,t),n}(Ds),Tz=function(t){function n(){return t.call(this,"U2")||this}return U(n,t),n.prototype.wl=function(){return new bz},n}(Ed),Sz=function(){function t(t,n,i){if(this.iAt=void 0,this.eAt=t,this._g=n,this.rAt=i,0===this._g.size)this.iAt=iA.zI();else{var e=new iA([-1/0,1/0]);this._g.forEach(function(t){e=e.gI(t.timeRanges)}),this.iAt=e}}return t.prototype.ty=function(t){return!!Xd(this._g,t._g)&&(!!Yt(this.eAt,t.eAt)&&(!!Yt(this.UI,t.UI)&&(!!Yt(this.sAt,t.sAt)&&this.uAt.CI(t.uAt))))},t.oAt=function(){return Rz},L(t,[{key:"UI",get:function(){return this.rAt}},{key:"hAt",get:function(){return this.eAt}},{key:"sAt",get:function(){return this.uAt.UI}},{key:"aAt",get:function(){var t=0,n=0;return this._g.forEach(function(i){t+=i.timeRanges.UI,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"uAt",get:function(){return this.iAt}}]),t}(),Ez=er(),Rz=new Sz(0,Ez,NaN);function Iz(t,n){if(et(t)){if(Nr(t,"%"))return w(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var Nz,Dz=function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"cAt"}}]),n}(on);function Cz(t,n,i,e){var r=[],s=$r(i,function(t){return t.fAt===vr});if(void 0!==s){var u=s.ks?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.ks.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.fAt!==vr)for(var a=0,c=Rr(h.fAt);a<c.length;a++){var f=c[a];r.push({ia:f,_E:h.vAt?[h.vAt]:[],PS:void 0})}}if(r.length)return{AT:t,dAt:{lAt:u,bT:s.bT},_At:r,wAt:n===D_.Hv?e.slice():[],gAt:n===D_.Vv?e.slice():[],OW:!1}}}}function xz(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=er();return Pz(e,r,t._At),Pz(e,r,n._At),{AT:t.AT,dAt:{lAt:t.dAt.lAt,bT:null!=(i=t.dAt.bT)?i:n.dAt.bT},_At:e,wAt:Oz(t.wAt,n.wAt,is),gAt:Oz(t.gAt,n.gAt,is),OW:t.OW||n.OW||!1}}function Pz(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.ia.yo,u=void 0;n.has(s)?(u=n.get(s))._E=Oz(u._E,r._E,Bz):(u=nr({},r),t.push(u),n.set(s,u))}}function Oz(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function Bz(t,n){for(var i=0;i<t.length;i++){if(Zs(t[i],n))return!0}return!1}function Lz(t,n){var i,e=t.yAt;if(e){for(var r=t.AC,s=[],u=0,o=t.B0;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=Cz(n||{},t.do,e,s)}for(var a=0,c=t.mAt;a<c.length;a++){i=xz(i,Mz(c[a],n))}return i}function Mz(t,n){return Cz(n||{},t.do,t.yAt||[],[t.ov])}function Uz(t,n,i){return Fz.apply(this,arguments)}function Fz(){return(Fz=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.pAt;s<u.length;s++)o=u[s],r.push(Hz(o,i,e));return t.next=4,T.all(r);case 4:return h=t.sent,t.abrupt("return",{nw:n.AAt.kAt(),bAt:[n.TAt],pAt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Hz(t,n,i){return Vz.apply(this,arguments)}function Vz(){return(Vz=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.SAt;s<u.length;s++)o=u[s],r.push(zz(o,i,e));return t.next=4,T.all(r);case 4:return h=t.sent,t.abrupt("return",{EAt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zz(t,n,i){return Xz.apply(this,arguments)}function Xz(){return(Xz=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.RAt;s<u.length;s++)Wz(o=u[s])||r.push(jz(o,i,e));return t.next=4,T.all(r);case 4:return h=t.sent,t.abrupt("return",{Ek:h,do:n.do});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wz(t){return t.mAt.every(Gz)}!function(t){t[t.O_=0]="O_",t[t.B_=1]="B_"}(Nz||(Nz={}));var qz=1;function Gz(t){return t.IAt!==qz&&Boolean(t.IAt)}function jz(t,n,i){return Qz.apply(this,arguments)}function Qz(){return(Qz=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c,f,v;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.mAt;s<u.length;s++)Gz(o=u[s])||r.push(Zz(o,e));return t.next=4,T.all(r);case 4:return h=t.sent,a=n.B0[0],c=n.yAt,f=c?Yz(a,c):void 0,v=Lz(n,i),t.abrupt("return",{o_:h,u_:n.NAt,do:n.do,iR:f,DAt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Yz(t,n){for(var i=[],e=function(t){return t?Nr(t,"avc")?ho.VIDEO_H264:Nr(t,"hev")||Nr(t,"hvc")||Nr(t,"hvt")||Nr(t,"lhv")||Nr(t,"lhe")||Nr(t,"lht")?ho.VIDEO_H265:Nr(t,"mp4")?ho.VIDEO_MP4:Nr(t,"mpeg2")?ho.VIDEO_MPEG2:Nr(t,"mpeg")?ho.VIDEO_MPEG:ho.VIDEO_UNKNOWN:ho.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.fAt.split(":").pop(),o=s.vAt;i.push({mimeType:e,uuid:u,data:o})}return{type:Nz.O_,schemeType:dr,schemeDatas:i}}function Zz(t,n){return Jz.apply(this,arguments)}function Jz(){return(Jz=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$z(n,i);case 2:s=t.sent,u={i_:nX(n),Nb:s,wnt:n.pnt,cE:n.cE,Au:n.Au,zk:n.zk,do:n.do,ku:n.ku},t.t0=n.do,t.next=t.t0===D_.os?7:t.t0===D_.Vv?8:t.t0===D_.Hv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u._2=null!=(e=null==(r=n._2)?void 0:r._y())?e:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.Kyt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $z(t,n){return Kz.apply(this,arguments)}function Kz(){return(Kz=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=n.CAt,s=r.xAt(),u=s;case 4:if(!u){t.next=16;break}if(!n.PAt(u)){t.next=12;break}return t.next=8,n.OAt(u,i,(new cs).zo);case 8:for(o=t.sent,h=0;h<o.Gl;h++)e.push(tX(o.BAt(h),n));t.next=13;break;case 12:e.push(tX(u,n));case 13:u=r.Fwt(u),t.next=4;break;case 16:return a=r.LAt(),c=a.Lg-s.Bg,t.abrupt("return",{nw:c,T3:e});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tX(t,n){return{Bg:t.Bg,nw:t.nw,MAt:n.UAt(t)}}function nX(t){return t.FAt.rI+"-"+(""+t.i_)}function iX(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=eX(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={do:e.type,Bk:[]}),n[e["group-id"]].Bk.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.Bk;s<u.length;s++){var o=u[s];i[r.do]||(i[r.do]={}),i[r.do][o.name]||(i[r.do][o.name]=[]),i[r.do][o.name].push(o)}return i}(t),n)}function eX(t,n,i){for(var e=t["group-id"],r={JK:t,H1:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.H1.push(u)}return r}var rX,sX="und";function uX(t,n){return oX.apply(this,arguments)}function oX(){return(oX=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Vnt([n],{});case 2:return e=t.sent,r=new hM,t.abrupt("return",r.vk(e.Cnt,e.Sv,gM(e.Sv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hX(t,n){return aX.apply(this,arguments)}function aX(){return(aX=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",cX(n,i));case 4:return t.abrupt("return",(r=void 0,r=SX(e=n),{nw:e.duration,bAt:[e.uri],pAt:[{EAt:[{do:D_.Iv,Ek:[{do:D_.Iv,u_:sX,o_:[{i_:e.uri,Nb:r,cE:0,Au:"",zk:0,do:D_.Iv,ku:0}]}]}]}]}));case 5:case"end":return t.stop()}var e,r},t)}))).apply(this,arguments)}function cX(t,n){return fX.apply(this,arguments)}function fX(){return(fX=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=iX(n.media,n.streams),t.next=3,_X(e,i);case 3:return r=t.sent,t.next=6,dX(n.streams,i);case 6:return s=t.sent,r.push(s),t.abrupt("return",{nw:vX(r),bAt:[n.uri],pAt:[{EAt:r}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vX(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].Ek;e<r.length;e++){var s=r[e];n=l.max.apply(l,[n].concat(s.o_.map(function(t){return t.Nb.nw})))}return n}function dX(t,n){return lX.apply(this,arguments)}function lX(){return(lX=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=0;case 2:if(!(r<n.length)){t.next=15;break}return a=n[r],t.next=6,bX(a.uri,i);case 6:(c=t.sent).cE=a.bandwidth,c.Au=a.codecs,c.zk=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.ku=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,e.push(c);case 12:r++,t.next=2;break;case 15:return t.abrupt("return",{do:D_.Iv,Ek:[{u_:sX,do:D_.Iv,o_:e}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _X(t,n){return wX.apply(this,arguments)}function wX(){return(wX=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=tr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return r=t.t1.value,s=n[r],t.next=7,gX(s,r,i);case 7:u=t.sent,e.push(u),t.next=2;break;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gX(t,n,i){return yX.apply(this,arguments)}function yX(){return(yX=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=tr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,mX(u,e);case 7:o=t.sent,r.push(o),t.next=2;break;case 11:return t.abrupt("return",{do:kX(i),Ek:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mX(t,n){return pX.apply(this,arguments)}function pX(){return(pX=T.coroutine(tr.mark(function t(n,i){var e,r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=n[0].JK,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,AX(u,i);case 7:o=t.sent,e.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{u_:r.language||sX,do:kX(r.type),o_:e});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kX(t){switch(t.toUpperCase()){case"AUDIO":return D_.Hv;case"VIDEO":return D_.Vv;case"SUBTITLES":case"CLOSED-CAPTIONS":return D_.os;default:return D_.Iv}}function AX(t,n){var i,e,r;return bX((e=(i=t).JK.uri,r=i.H1.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function bX(t,n){return TX.apply(this,arguments)}function TX(){return(TX=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,uX(n,i);case 3:r=t.sent,e=SX(r),t.next=8;break;case 7:e={nw:0,T3:[]};case 8:return t.abrupt("return",{i_:n||"default",HAt:n,Nb:e,cE:0,Au:"",zk:0,do:D_.Iv,ku:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function SX(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(EX(r))}return{nw:t.duration,T3:n}}function EX(t){return{Bg:t.start,nw:t.duration,MAt:RX(t.uri)}}function RX(t){return bP(t)?{Ev:t.J$,K$:[t.K$.rI,t.K$.uI],jv:!1}:{Ev:t.toString(),jv:!1}}!function(t){t.rT="static",t.sT="dynamic"}(rX||(rX={}));var IX,NX=31536e3,DX=2592e3,CX=86400,xX=3600,PX=60,OX=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,BX=function(){function t(t){this.VAt=void 0;var n=t.match(OX);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.VAt=i*NX+e*DX+r*CX+s*xX+u*PX+o}var n=t.prototype;return n.kAt=function(){return this.VAt},n.zAt=function(){return 1e3*this.VAt},L(t,[{key:"N6",get:function(){return Iw.mm(this.VAt,1e3)}}]),t}();!function(t){t.XAt="progressive",t.WAt="interlaced",t.Iv="unknown"}(IX||(IX={}));var LX=function(){function t(t,n){this.qAt=t,this.GAt=n}return t.prototype._y=function(){return this.qAt/this.GAt},t}(),MX=/^(?:true|false)$/i,UX=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function FX(t){if(void 0!==t)return new BX(t)}function HX(t){if(void 0!==t){var n=t.match(UX);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(e),w=Number(r)-1,y=Number(s),m=Number(u),p=Number(o),k=Number(h),A=Number("0."+(a||"")),b=l.round(1e3*A);if(c)p-=("-"===c?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,w,y,m,p,k,b));if(g(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function VX(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[XX(n[1]),XX(n[2])]}}function zX(t){if(void 0!==t){if(!g(Number(t)))try{return Xt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function XX(t){if(void 0!==t){var n=Number(t);if(!g(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function WX(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!g(i)&&!g(e))return new LX(i,e);throw new f("The given value could not be parsed as a valid frame rate")}}function qX(t){if(void 0!==t){if(MX.test(t))return"true"===t.toLowerCase();if(!g(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function GX(t){return{Ev:t.Us,jAt:qX(t.Cs("availabilityTimeComplete")),QAt:XX(t.Cs("availabilityTimeOffset"))}}function jX(t){return t.map(GX)}function QX(t){var n,i,e,r,s,u,o=sW(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).xs(e,i))&&(s=n.Cs(r+":"+i)),s),a=zg(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Ks(a.Us)),!u){var c=zg(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=qs(t.Us),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),h=new Zu;Au(o,h,r),Au(o,h,1886614376),Au(o,h,0),wu(o,h,i),Au(o,h,e),wu(o,h,n),0;return u.buffer}(c))}return{bT:h,vAt:u,fAt:o.fAt,ks:o.ks}}function YX(t){return{YAt:t.Cs("sourceURL"),K$:VX(t.Cs("range"))}}function ZX(t,n){var i=t.Cs("d"),e=t.Cs("t"),r=XX(t.Cs("r"));n.push({nw:i,Bg:e,ZAt:r})}function JX(t){return{f7:t.Cs("index"),JAt:VX(t.Cs("indexRange")),Bk:t.Cs("media"),$At:VX(t.Cs("mediaRange"))}}function $X(t){var n,i;return nr({},nW(t),{KAt:(n=t.Ts("SegmentURL"),(i=n.map(JX)).length>0?i:void 0),tbt:t.Cs("xlink:href"),nbt:t.Cs("xlink:actuate")})}function KX(t){var n=t.map($X);return n.length>0?n:void 0}function tW(t){var n=qX(t.Cs("availabilityTimeComplete")),i=XX(t.Cs("availabilityTimeOffset")),e=VX(t.Cs("indexRange")),r=qX(t.Cs("indexRangeExact")),s=t.Ts("Initialization");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.Es+" element can not have more than one Initialization element.");var u=1===s.length?YX(s[0]):void 0,o=zX(t.Cs("presentationTimeOffset")),h=t.Ts("RepresentationIndex");if(h.length>1)throw new f("The provided MPEG-DASH document's "+t.Es+" element can not have more than one RepresentationIndex element.");return{jAt:n,QAt:i,JAt:e,ibt:r,ebt:u,rbt:o,sbt:1===h.length?YX(h[0]):void 0,ubt:FX(t.Cs("timeShiftBufferDepth")),hm:XX(t.Cs("timescale"))}}function nW(t){var n=tW(t),i=t.Ts("BitstreamSwitching"),e=i.length>0?YX(i[0]):void 0,r=XX(t.Cs("duration")),s=t.Ts("SegmentTimeline");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.Es+" element can not have more than one SegmentTimeline element.");return nr({},n,{obt:e,nw:r,CAt:1===s.length?function(t){for(var n=[],i=t.Ts("S"),e=0;e<i.length;e++)ZX(i[e],n);return n}(s[0]):void 0,hbt:XX(t.Cs("startNumber")),abt:XX(t.Cs("endNumber"))})}function iW(t){return nr({},nW(t),{cbt:t.Cs("bitstreamSwitching"),fbt:t.Cs("index"),vbt:t.Cs("initialization"),dbt:t.Cs("media")})}function eW(t){return{Kyt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(XX)):1===n.length?n.map(XX)[0]:void 0}}(t.Cs("audioSamplingRate")),B0:t.Cs("codecs"),lbt:qX(t.Cs("codingDependency")),yAt:function(t){if(0!==t.length)return t.map(QX)}(t.Ts("ContentProtection")),_bt:t.Ts("EssentialProperty").map(uW),_2:WX(t.Cs("frameRate")),zk:XX(t.Cs("height")),IAt:XX(t.Cs("maxPlayoutRate")),wbt:XX(t.Cs("maximumSAPPeriod")),AC:t.Cs("mimeType"),gbt:t.Cs("profiles"),ybt:t.Cs("sar"),mbt:function(t){switch(t){case IX.XAt:case IX.WAt:case IX.Iv:return t;default:return}}(t.Cs("scanType")),pbt:t.Cs("segmentProfiles"),kbt:XX(t.Cs("startWithSAP")),ku:XX(t.Cs("width"))}}function rW(t){var n=eW(t),i=XX(t.Cs("bandwidth")),e=jX(t.Ts("BaseURL")),r=t.Cs("dependencyId"),s=t.Cs("id"),u=t.Cs("mediaStreamStructureId"),o=XX(t.Cs("qualityRanking")),h=t.Ts("SegmentBase");if(h.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?tW(h[0]):void 0,c=KX(t.Ts("SegmentList")),v=t.Ts("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return nr({},n,{cE:i,Abt:e,bbt:r,i_:s,Tbt:u,Sbt:o,Ebt:a,Rbt:c,Ibt:1===v.length?iW(v[0]):void 0})}function sW(t){return{fAt:t.Cs("schemeIdUri"),ks:t.Cs("value")}}function uW(t){return sW(t)}function oW(t){return sW(t)}function hW(t){return sW(t)}function aW(t){var n,i=eW(t),e=function(t){return t.map(hW)}(t.Ts("Accessibility")),r=jX(t.Ts("BaseURL")),s=qX(t.Cs("bitstreamSwitching")),u=t.Cs("contentType"),o=XX(t.Cs("group")),h=XX(t.Cs("id")),a=(null==(n=t.Ts("Label")[0])?void 0:n.Us)||"",c=t.Cs("lang"),v=XX(t.Cs("maxBandwidth")),d=WX(t.Cs("maxFrameRate")),l=XX(t.Cs("maxHeight")),_=XX(t.Cs("maxWidth")),w=XX(t.Cs("minBandwidth")),g=WX(t.Cs("minFrameRate")),y=XX(t.Cs("minHeight")),m=XX(t.Cs("minWidth")),p=t.Cs("par"),k=t.Ts("Representation").map(rW);if(0===k.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(oW)}(t.Ts("Role")),b=qX(t.Cs("segmentAlignment"))||!1,T=t.Ts("SegmentBase");if(T.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?tW(T[0]):void 0,E=KX(t.Ts("SegmentList")),R=t.Ts("SegmentTemplate");if(R.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I=1===R.length?iW(R[0]):void 0,N=XX(t.Cs("selectionPriority"));return nr({},i,{Nbt:e,Abt:r,obt:s,ov:u,Dbt:o,i_:h,s_:a,u_:c,Cbt:v,xbt:d,Pbt:l,Obt:_,Bbt:w,Lbt:g,Mbt:y,Ubt:m,Fbt:p,mAt:k,Hbt:A,Vbt:b,Ebt:S,Rbt:E,Ibt:I,bR:N||1,zbt:qX(t.Cs("subsegmentAlignment"))||!1,Xbt:XX(t.Cs("subsegmentStartsWithSAP")),Wbt:t.Cs("xlink:actuate")||"onRequest",qbt:t.Cs("xlink:href")})}function cW(t){var n=zX(t.Cs("presentationTime"))||Xt.ZERO,i=zX(t.Cs("duration")),e=XX(t.Cs("id")),r=function(t){for(var n=t.Ms,i={},e=0;e<n.length;e++)i[n[e].gs]=n[e].ks;return i}(t),s=t.Us;return{cb:n,nw:i,i_:e,Ms:r,Fs:""!==s.trim()?s:t.Cs("messageData")||""}}function fW(t){return{qbt:t.Cs("xlink:href"),Wbt:t.Cs("xlink:actuate"),fAt:t.Cs("schemeIdUri"),ks:t.Cs("value"),hm:XX(t.Cs("timescale")),rbt:zX(t.Cs("presentationTimeOffset")),bC:t.Ts("Event").map(cW)}}function vW(t,n){var i=t.Ts("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?sW(i[0]):void 0,r=t.Ts("AdaptationSet").map(aW),s=jX(t.Ts("BaseURL")),u=qX(t.Cs("bitstreamSwitching")),o=FX(t.Cs("duration")),h=t.Ts("EventStream").map(fW),a=t.Cs("id"),c=n&&FX(n.Cs("start")),v=t.Ts("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?tW(v[0]):void 0,l=KX(t.Ts("SegmentBase")),_=t.Ts("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var w=1===_.length?iW(_[0]):void 0,g=FX(t.Cs("start")),y=(t.Ts("Subset"),t.Cs("xlink:href"));return{RAt:r,Gbt:e,Abt:s,obt:u,nw:o,jbt:h,i_:a,Qbt:c,Ebt:d,Rbt:l,Ibt:w,rI:g,Wbt:t.Cs("xlink:actuate"),qbt:y}}function dW(t){var n=t.Cs("schemeIdUri");if(n)return{fAt:n,ks:t.Cs("value")}}function lW(t,n){var i=HX(t.Cs("availabilityEndTime")),e=HX(t.Cs("availabilityStartTime")),r=jX(t.Ts("BaseURL")),s=t.Cs("id"),u=t.Ts("Location").map(function(t){return""+t.Us}),o=FX(t.Cs("maxSegmentDuration")),h=FX(t.Cs("maxSubsegmentDuration")),a=FX(t.Cs("mediaPresentationDuration")),c=(t.Ts("Metrics"),FX(t.Cs("minBufferTime")));if(!c)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=FX(t.Cs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(vW(t[i],t[i+1]));return n}(t.Ts("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Cs("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Ybt:i,Zbt:e,Abt:r,i_:s,Jbt:u,$bt:n,Kbt:o,tTt:h,AAt:a,nTt:c,iTt:v,pAt:d,gbt:l,eTt:HX(t.Cs("publishTime")),rTt:FX(t.Cs("suggestedPresentationDelay")),ubt:FX(t.Cs("timeShiftBufferDepth")),do:function(t){switch(t){case rX.rT:case rX.sT:return t;default:return}}(t.Cs("type")),sTt:function(t){for(var n=[],i=0;i<t.length;i++){var e=dW(t[i]);e&&n.push(e)}return n}(t.Ts("UTCTiming"))}}var _W,wW=function(){function t(){}return t.prototype.gpt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return lW(t,n)}(b.fs(t).Hs,n)},t}(),gW=0,yW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).e_=void 0,u.pg=void 0,u.uTt=void 0,u.i_=n,u.cE=i,u.B0=e,u.J$=s,u.e_=gW++,u.pg=r||"",u.uTt=!0,u}return U(n,t),n.prototype.Vb=function(){this.uTt=!1,this.jo(new NH(this._l))},L(n,[{key:"s_",get:function(){return this.pg},set:function(t){this.pg!==t&&(this.pg=t,this.jo(new NH(this._l)))}},{key:"bJ",get:function(){return this.uTt}}]),n}(Is),mW=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).ll=void 0,c._2=u,c.ku=o,c.zk=h,c.$yt=a,c}return U(n,t),L(n,[{key:"_l",get:function(){return this.ll||(this.ll=DH(this)),this.ll}}]),n}(yW),pW=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).ll=void 0,o.Kyt=u,o}return U(n,t),L(n,[{key:"_l",get:function(){return this.ll||(this.ll=CH(this)),this.ll}}]),n}(yW);!function(t){t.oTt="hTt",t.aTt="cTt"}(_W||(_W={}));var kW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fTt=function(t){n.jo(t)},n}return U(n,t),L(n,[{key:"vTt",get:function(){var t=this.dTt();return null==t?void 0:t.rI}},{key:"lTt",get:function(){var t=this.dTt();return null==t?void 0:t.uI}}]),n}(Is);function AW(t){return ot(t._Tt)}var bW=function(t){function n(n,i){var e;if((e=t.call(this)||this).wTt=void 0,e.ll=void 0,e.gTt=void 0,e.yTt=void 0,e.mTt=void 0,e.wTt=n,e.gTt=i,e.gTt.Qo(_W.oTt,e.fTt),e.do===D_.Vv){var r,s,u=null!=(r=null==(s=e._2)?void 0:s._y())?r:NaN;e.yTt=new mW(e.i_,e.cE,e.Au,"","",u,e.ku,e.zk)}else e.do===D_.Hv?e.yTt=new pW(e.i_,e.cE,e.Au,"","",e.Kyt):e.yTt=void 0;return e}U(n,t);var i=n.prototype;return i.UAt=function(t){var n=AW(t)?this.gTt.pTt(t):this.gTt.UAt(t);return{Ev:n.Ev,K$:n.K$,jv:this.kTt.jv}},i.ATt=function(){return this.gTt.ATt()},i.dTt=function(){return this.gTt.dTt()},i.bTt=function(){return this.gTt.bTt()},i.PAt=function(t){return this.gTt.PAt(t)},i.OAt=function(t,n,i){return this.gTt.OAt(t,this.kTt.jv,n,i)},i.TTt=function(t){return AW(t)?this.CAt.STt(t):this.CAt.TTt(t)},i.J7=function(t){return AW(t)?this.CAt.ETt(t):this.CAt.J7(t)},i.Zv=function(){this.gTt.$o(_W.oTt,this.fTt)},L(n,[{key:"RTt",get:function(){return this.wTt}},{key:"Kyt",get:function(){var t;return null!=(t=this.gTt.Fs.Kyt)?t:this.RTt.Kyt}},{key:"cE",get:function(){return this.gTt.Fs.cE||0}},{key:"B0",get:function(){var t=this.gTt.Fs;return t.B0?[t.B0]:this.RTt.B0}},{key:"ITt",get:function(){var t=this.gTt.Fs;return t.B0?[t.B0]:[]}},{key:"Au",get:function(){return this.gTt.Fs.B0||this.RTt.Au}},{key:"lbt",get:function(){return this.gTt.Fs.lbt||this.RTt.lbt}},{key:"yAt",get:function(){return this.gTt.Fs.yAt||this.RTt.yAt}},{key:"ov",get:function(){return this.AC+'; codecs="'+this.Au+'"'}},{key:"_bt",get:function(){var t=this.gTt.Fs;return t._bt.length?t._bt:this.RTt._bt}},{key:"_l",get:function(){return this.ll||(this.ll=(t=this,{get id(){return t.i_},get type(){return t.do},get bandwidth(){return t.cE},get width(){return t.ku},get height(){return t.zk},get frameRate(){var n,i;return null!=(n=null==(i=t._2)?void 0:i._y())?n:NaN},get audioSamplingRate(){return t.Kyt}}));var t}},{key:"_2",get:function(){var t;return null!=(t=this.gTt.Fs._2)?t:this.RTt._2}},{key:"zk",get:function(){return this.gTt.Fs.zk||this.RTt.zk}},{key:"i_",get:function(){return this.gTt.Fs.i_||""}},{key:"G8",get:function(){return this.mTt},set:function(t){this.mTt=t}},{key:"pnt",get:function(){var t=this.gTt.NTt();if(t)return{Ev:t.Ev,K$:t.K$,jv:this.kTt.jv}}},{key:"IAt",get:function(){return this.gTt.Fs.IAt||this.RTt.IAt||1}},{key:"wbt",get:function(){return this.gTt.Fs.wbt||this.RTt.wbt}},{key:"kTt",get:function(){return this.FAt.kTt}},{key:"AC",get:function(){return this.gTt.Fs.AC||this.RTt.AC}},{key:"FAt",get:function(){return this.RTt.FAt}},{key:"gbt",get:function(){return this.gTt.Fs.gbt||this.RTt.gbt}},{key:"Yyt",get:function(){return this.yTt}},{key:"ybt",get:function(){return this.gTt.Fs.ybt||this.RTt.ybt}},{key:"mbt",get:function(){return this.gTt.Fs.mbt||this.RTt.mbt}},{key:"DTt",get:function(){return this.gTt.DTt}},{key:"pbt",get:function(){return this.gTt.Fs.pbt||this.RTt.pbt}},{key:"CAt",get:function(){return this.gTt.CAt}},{key:"kbt",get:function(){return this.gTt.Fs.kbt||this.RTt.kbt}},{key:"do",get:function(){var t=this.AC.split("/")[0];return"application"===t||"text"===t||wy(this.AC,this.B0)?D_.os:"video"===t?D_.Vv:"audio"===t?D_.Hv:"image"===t?D_.zv:D_.Iv}},{key:"ku",get:function(){return this.gTt.Fs.ku||this.RTt.ku}}]),n}(kW),TW=function(t){function n(n,i){var e;return(e=t.call(this)||this).CTt=[],e.gTt=void 0,e.xTt=void 0,e.PTt=[],e.xTt=n,e.gTt=i,e.gTt.Qo(_W.oTt,e.fTt),e}U(n,t);var i=n.prototype;return i.Yh=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.PTt.length){t.next=6;break}return this.PTt=[],e=this.gTt.mAt.map(function(t){return r.OTt(t,n,i)}),t.next=5,T.all(e);case 5:this.PTt=t.sent.filter($);case 6:this.BTt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OTt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new bW(this,n),t.next=3,i(r);case 3:if(s=t.sent,ds(e),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.BTt=function(){if(!this.PTt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.dTt=function(){return this.gTt.dTt()},i.bTt=function(){return this.gTt.bTt()},i.Zv=function(){this.gTt.$o(_W.oTt,this.fTt);for(var t=0,n=this.PTt;t<n.length;t++){n[t].Zv()}es(this.PTt)},L(n,[{key:"Nbt",get:function(){return this.gTt.Fs.Nbt}},{key:"Kyt",get:function(){var t;return null!=(t=this.gTt.Fs.Kyt)?t:-1}},{key:"B0",get:function(){if(this.gTt.Fs.B0)return[this.gTt.Fs.B0];for(var t=[],n=0,i=this.mAt;n<i.length;n++){var e=i[n];e.ITt.length&&-1===t.indexOf(e.Au)&&t.push(e.Au)}return t}},{key:"Au",get:function(){return this.B0.join()}},{key:"lbt",get:function(){return this.gTt.Fs.lbt}},{key:"yAt",get:function(){return this.gTt.Fs.yAt}},{key:"ov",get:function(){return this.AC+'; codecs="'+this.Au+'"'}},{key:"_bt",get:function(){return this.CTt}},{key:"_2",get:function(){return this.gTt.Fs._2}},{key:"Dbt",get:function(){return this.gTt.Fs.Dbt}},{key:"zk",get:function(){return this.gTt.Fs.zk||0}},{key:"i_",get:function(){return this.gTt.Fs.i_}},{key:"s_",get:function(){return this.gTt.Fs.s_||""}},{key:"IAt",get:function(){return this.gTt.Fs.IAt}},{key:"wbt",get:function(){return this.gTt.Fs.wbt}},{key:"kTt",get:function(){return this.FAt.kTt}},{key:"AC",get:function(){return this.gTt.Fs.AC||this.PTt[0].AC}},{key:"FAt",get:function(){return this.xTt}},{key:"gbt",get:function(){return this.gTt.Fs.gbt}},{key:"mAt",get:function(){return this.PTt}},{key:"Hbt",get:function(){return this.gTt.Fs.Hbt||[]}},{key:"ybt",get:function(){return this.gTt.Fs.ybt}},{key:"mbt",get:function(){return this.gTt.Fs.mbt}},{key:"pbt",get:function(){return this.gTt.Fs.pbt}},{key:"bR",get:function(){return this.gTt.Fs.bR}},{key:"kbt",get:function(){return this.gTt.Fs.kbt}},{key:"do",get:function(){var t=(this.gTt.Fs.ov||this.AC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||wy(this.AC,this.B0)?D_.os:"video"===t?D_.Vv:"audio"===t?D_.Hv:"image"===t?D_.zv:D_.Iv}},{key:"ku",get:function(){return this.gTt.Fs.ku||0}},{key:"NAt",get:function(){return this.gTt.Fs.u_||""}},{key:"LTt",get:function(){return this.vTt}},{key:"MTt",get:function(){var t=this.LTt,n=this.lTt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.kTt.UTt);return l.max(t,i)}}}]),n}(kW);function SW(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=n[e],s=0;s<t.length;s++){var u=t[s];i.push(b.zu(u,r))}return i}var EW=function(){function t(t,n){this.xTt=void 0,this.FTt=void 0,this.dU=void 0,this.HTt=void 0,this.VTt=void 0,this.xTt=t,this.FTt=n,this.dU=n.hm,this.HTt=n.QAt,this.VTt=n.rbt}var n=t.prototype;return n.zTt=function(t){var n=t-this.xTt.rI;if(!(n<0||n>=this.xTt.nw)){var i=this.XTt();return void 0!==i&&Gt(i,n,1e-5)?this.xAt():this.WTt(n)}},n.qTt=function(t){var n=t-this.xTt.rI;if(!(n<0))return this.GTt(l.min(n,this.xTt.nw))},n.xAt=function(){return this.jTt(0)},n.LAt=function(){var t=this.xTt.nw;if(isFinite(t))return this.GTt(t)},n.ATt=function(t){if(this.xTt.QTt.do===rX.sT){var n=this.YTt(t);if(!n)return;return{ZTt:t,JTt:this.$Tt(t),KTt:n}}var i=this.xAt();if(i)return{ZTt:t,JTt:i,KTt:this.LAt()}},n.bTt=function(t,n){if(n){var i=this.tSt(n.JTt),e=this.Fwt(n.KTt);if(e){var r=this.nSt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.xAt();if(s){var u=this.nSt(s);if(t.getTime()<u.getTime())return u}var o=this.xTt.QTt.Zbt;return t.getTime()<o.getTime()?o:void 0},n.YTt=function(t){var n=(t.getTime()-this.xTt.QTt.Zbt.getTime())/1e3-this.xTt.rI+this.HTt,i=this.GTt(qt(n,0,this.xTt.nw));if(i&&(i=this.iSt(i,t))){for(var e=this.Fwt(i);e&&this.eSt(e,t);)i=e,e=this.Fwt(i);return i}},n.$Tt=function(t){var n,i=this.FTt.ubt;if(i){var e=(t.getTime()-this.xTt.QTt.Zbt.getTime())/1e3-this.xTt.rI-i.kAt();(n=this.GTt(qt(e,0,this.xTt.nw)))||(n=this.xAt())}else n=this.xAt();if(n&&(n=this.iSt(n,t))){for(var r=this.rSt(n);r&&this.eSt(r,t);)n=r,r=this.rSt(n);return n}},n.iSt=function(t,n){for(var i=t;i&&this.nSt(i).getTime()>n.getTime();)i=this.rSt(i);if(i){var e=this.tSt(i);if(e&&e.getTime()<=n.getTime()){var r=this.rSt(i);for(r&&this.eSt(r,n)&&(i=r);i;){if(this.nSt(i).getTime()>n.getTime())return;if(this.eSt(i,n))break;i=this.Fwt(i)}if(!i)return}return i}},n.eSt=function(t,n){if(this.nSt(t).getTime()>n.getTime())return!1;var i=this.tSt(t);return!(i&&n.getTime()>=i.getTime())},n.sSt=function(t,n){if(this.uSt(t).getTime()>n.getTime())return!1;var i=this.tSt(t);return!(i&&n.getTime()>=i.getTime())},n.oSt=function(t,n,i){var e=nn(n,this.dU)+this.xTt.rI;return{f7:t,hSt:n,Bg:e,nw:i,Lg:e+i}},n.uSt=function(t){return this.xTt.QTt.do===rX.sT?new Date(this.xTt.QTt.Zbt.getTime()+1e3*(t.Bg+t.nw)):this.xTt.QTt.Zbt},n.nSt=function(t){var n=this.uSt(t);return this.xTt.QTt.do===rX.sT?new Date(n.getTime()-1e3*this.HTt):n},n.tSt=function(t){var n=1/0;if(this.xTt.QTt.do===rX.sT){var i=this.FTt.ubt;i&&(n=this.uSt(t).getTime()+1e3*t.nw+i.zAt())}var e=this.xTt.QTt.Ybt;return e&&(n=l.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.aSt=function(t,n){return t.f7+n},n.PAt=function(t){return!1},n.OAt=function(t,n,i,e,r){var s=this.cSt(t);if(!s)return T.reject(new f("Invalid segment"));var u=this.fSt(s.f7);return u?T.resolve(u):this.vSt(s.f7,n,i,e,r)},n.fSt=function(t){},n.vSt=function(t,n,i,e,r){return T.reject(new f("Not supported"))},n.rSt=function(t){var n=this.cSt(t);if(n)return this.jTt(n.f7-1)},n.Fwt=function(t){var n=this.cSt(t);if(n)return this.jTt(n.f7+1)},n.cSt=function(t){var n=this.jTt(t.f7);if(n&&n.Bg===t.Bg)return n;var i=this.zTt(t.Bg);return i&&i.Bg===t.Bg?i:void 0},n.dSt=function(t){var n=this.lSt(t);if(n&&this.PAt(n.f7)){var i=this.fSt(n.f7);if(i)return i.dSt(t)}},n.lSt=function(t){return this.jTt(t._St)},n.TTt=function(t){var n=this.cSt(t);return!!n&&0===n.f7},n.STt=function(t){var n=this.dSt(t);return!!n&&0===n._Tt},n.J7=function(t){var n=this.cSt(t);if(!n)return!1;var i=this.LAt();return!!i&&n.f7===i.f7},n.ETt=function(t){var n=this.dSt(t);if(!n)return!1;var i=this.LAt();if(!i||n._St!==i.f7)return!1;var e=this.fSt(n._St);return n._Tt+1===e.Gl},L(t,[{key:"Fm",get:function(){return nn(this.VTt,this.dU)-this.xTt.rI}},{key:"rbt",get:function(){return nn(this.VTt,this.dU)}}]),t}(),RW=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).wSt=void 0,e.gSt=void 0;var r=n.ySt,s=n.nw;if(void 0===r||void 0===s)throw new f("MultipleSegmentBase does not have a segment duration specified.");return e.gSt=r,e.wSt=s,e}U(n,t);var i=n.prototype;return i.jTt=function(t){if(!(t<0)){var n=this.gSt.multiply(t),i=nn(n,this.dU),e=this.xTt.nw;if(!(i>=e)){var r=this.mSt();if(void 0!==r){if(t>r)return;if(t===r)return this.oSt(t,n,e-i)}return isFinite(e)&&i+this.wSt>e?this.oSt(t,n,e-i):this.oSt(t,n,this.wSt)}}},i.XTt=function(){return 0},i.WTt=function(t){var n=l.floor(t/this.wSt),i=this.mSt();return void 0!==i&&n>=i?this.jTt(i):this.jTt(n)},i.GTt=function(t){if(t>=this.xTt.nw){var n=l.ceil(this.xTt.nw/this.wSt)-1,i=this.mSt();return void 0!==i&&n>=i?this.jTt(i):this.jTt(n)}return this.WTt(t)},i.mSt=function(){var t,n=this.FTt.abt;if(void 0!==n)return n-(null!=(t=this.FTt.hbt)?t:1);if(isFinite(this.xTt.nw)){var i=this.FTt.pSt;if(void 0!==i&&i>0)return i-1}},i.kSt=function(){if(isFinite(this.xTt.nw))return this.LAt()},i.ASt=function(t,n){return this.gSt.multiply(t.f7+(n-1))},i.Yh=function(){},n}(EW);function IW(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Bg,u=t[r].Lg;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+l.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.Bg,c=o+1<i?t[o+1].Bg:h.Lg;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var NW=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).bSt=[],e.TSt=void 0,e.SSt=Xt.ZERO,e.Yh(),e}U(n,t);var i=n.prototype;return i.jTt=function(t){if(!(t<0))return t<this.bSt.length?this.bSt[t].Pwt:this.ESt(t-this.bSt.length)},i.XTt=function(){if(this.bSt.length>0)return nn(this.bSt[0].Bg,this.dU)},i.WTt=function(t){if(this.TSt&&nn(this.TSt.Bg,this.dU)<=t){var n=nn(this.TSt.Bg,this.dU),i=nn(this.TSt.nw,this.dU),e=l.floor((t-n)/i);return this.ESt(e)}if(this.bSt.length>0&&Gt(t,nn(this.bSt[0].Bg,this.dU),1e-5))return this.bSt[0].Pwt;var r=IW(this.bSt,Xt.fromNumber(t*this.dU));return r<0?void 0:this.bSt[r].Pwt},i.GTt=function(t){if(!this.TSt&&this.bSt.length>0){var n=this.bSt[this.bSt.length-1];if(i=t,e=nn(n.Lg,this.dU),Zr(i,e,1e-5)>=0)return n.Pwt}var i,e,r=this.XTt();return r&&t<r?this.bSt[0].Pwt:this.WTt(t)},i.kSt=function(){return isFinite(this.xTt.nw)?this.LAt():this.jTt(this.bSt.length-1)},i.ASt=function(t){return this.RSt(t)},i.ESt=function(t){if(this.TSt){var n=this.TSt.Bg,i=this.TSt.nw,e=n.add(i.multiply(t)),r=nn(e,this.dU),s=this.xTt.nw;if(!(r>=s)){var u=this.bSt.length+t,o=l.min(nn(i,this.dU),r+s);return this.oSt(u,e,o)}}},i.RSt=function(t){return t.hSt.add(this.VTt)},i.Yh=function(){var t=this.FTt.Fs.CAt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.ISt(t)},i.ISt=function(t){var n=this.VTt;this.NSt(t,n);var i=this.DSt(t);this.CSt(t,n,i.xSt,i._St)},i.NSt=function(t,n){var i=this.bSt;if(0===t.length)es(i);else{for(var e=t[0],r=e.Bg?Xt.fromString(e.Bg,!1).subtract(n):Xt.ZERO,s=0;s<i.length&&i[s].Bg.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.DSt=function(t){for(var n=this.bSt,i=this.SSt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].ZAt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Bg.greaterThanOrEqual(i))break;if(n[r].Pwt.f7===r)r=u+1;else for(;r<=u;)n[r].Pwt.f7=r,r++;0,e++}return{xSt:e,_St:r}},i.CSt=function(t,n,i,e){for(var r,s=this.bSt,u=i,o=e;u<t.length;){var h=t[u],a=Xt.fromString(h.nw,!1),c=h.ZAt||0,f=void 0;if(h.Bg){if(f=Xt.fromString(h.Bg,!1).subtract(n),o>0){var v=s[o-1];v.Lg.greaterThan(f)&&(v.nw=f.subtract(v.Bg),v.Lg=v.Bg.add(v.nw))}}else f=o>0?s[o-1].Lg:Xt.ZERO;if(c<0){if(u+1===t.length){r={Bg:f,nw:a};break}for(var d=Xt.fromString(t[u+1].Bg,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.PSt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var w=f.add(a);this.PSt(s,o,f,a,w),f=w,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.SSt=s[s.length-1].Bg),this.TSt=r},i.PSt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.nw.equals(e)?s.Pwt.f7=n:t[n]={Bg:i,nw:e,Lg:r,Pwt:this.oSt(n,i,nn(e,this.dU))}}else t.push({Bg:i,nw:e,Lg:r,Pwt:this.oSt(n,i,nn(e,this.dU))})},n}(EW),DW=function(){function t(t,n,i){this.FAt=void 0,this.OSt=void 0,this.ee=void 0,this.BSt=void 0,this.LSt=void 0,this.FAt=t,this.OSt=n,this.ee=i}var n=t.prototype;return n.MSt=function(){if(this.LSt=this.USt(),this.LSt)return this.LSt;if(this.OSt)return this.OSt.CAt;throw new f("Missing media segment information.")},n.NTt=function(t){var n=this.ebt;if(n)return{Ev:(void 0!==n.YAt?b.zu(n.YAt,t.Abt[0]):t.Abt[0]).href,K$:n.K$};var i=this.JAt;return i?{Ev:t.Abt[0].href,K$:[0,i[0]-1]}:void 0},n.Yh=function(t){this.ee=t,this.LSt&&this.LSt.Yh()},L(t,[{key:"Fs",get:function(){return this.ee}},{key:"QAt",get:function(){return this.ee&&void 0!==this.ee.QAt?this.ee.QAt:this.OSt?this.OSt.QAt:0}},{key:"rbt",get:function(){return this.ee&&void 0!==this.ee.rbt?this.ee.rbt:this.OSt?this.OSt.rbt:Xt.ZERO}},{key:"ubt",get:function(){return this.ee&&void 0!==this.ee.ubt?this.ee.ubt:this.OSt?this.OSt.ubt:this.FAt.QTt.ubt}},{key:"hm",get:function(){return this.ee&&void 0!==this.ee.hm?this.ee.hm:this.OSt&&this.OSt.hm?this.OSt.hm:1}},{key:"JAt",get:function(){return this.ee&&void 0!==this.ee.JAt?this.ee.JAt:this.OSt?this.OSt.JAt:void 0}},{key:"ebt",get:function(){return this.ee&&void 0!==this.ee.ebt?this.ee.ebt:this.OSt?this.OSt.ebt:void 0}},{key:"CAt",get:function(){return this.BSt||(this.BSt=this.MSt()),this.BSt}}]),t}(),CW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.USt=function(){return this.ee.CAt?new NW(this,this.FAt):void 0!==this.ee.nw?new RW(this,this.FAt):void 0},L(n,[{key:"nw",get:function(){return void 0!==this.ee.nw?this.ee.nw/this.hm:this.OSt&&this.OSt instanceof n?this.OSt.nw:void 0}},{key:"ySt",get:function(){return void 0!==this.ee.nw?Xt.fromNumber(this.ee.nw):this.OSt&&this.OSt instanceof n?this.OSt.ySt:void 0}},{key:"hbt",get:function(){return void 0!==this.ee.hbt?this.ee.hbt:this.OSt&&this.OSt instanceof n?this.OSt.hbt:void 0}},{key:"abt",get:function(){return void 0!==this.ee.abt?this.ee.abt:this.OSt&&this.OSt instanceof n?this.OSt.abt:void 0}}]),n}(DW),xW=function(){function t(t){this.FSt=void 0,this.FSt=t}return t.prototype.Ch=function(t){return this.FSt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Or(u,Number(e),"0")})},t}();var PW=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).HSt=void 0,r.VSt=void 0,r.HSt=e.vbt?new xW(e.vbt):void 0,r.VSt=e.dbt?new xW(e.dbt):void 0,r}U(n,t);var i=n.prototype;return i.NTt=function(n){var i=this.vbt;if(!i)return t.prototype.NTt.call(this,n);var e=i.Ch({Bandwidth:n.Fs.cE,RepresentationID:n.Fs.i_});return{Ev:b.Xu(e,n.Abt[0])}},i.UAt=function(t,n){var i,e=null!=(i=n.DTt.hbt)?i:1,r=this.dbt.Ch({Bandwidth:n.Fs.cE,Number:n.CAt.aSt(t,e),RepresentationID:n.Fs.i_,Time:n.CAt.ASt(t,e)});return{Ev:b.Xu(r,n.Abt[0])}},i.pTt=function(t,n){},L(n,[{key:"vbt",get:function(){return this.HSt?this.HSt:this.OSt&&this.OSt instanceof n?this.OSt.vbt:void 0}},{key:"dbt",get:function(){return this.VSt?this.VSt:this.OSt&&this.OSt instanceof n?this.OSt.dbt:void 0}},{key:"pSt",get:function(){}}]),n}(CW),OW=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.UAt=function(t,n){var i=this.ee.KAt[t.f7],e=n.Abt[0];return{Ev:(i.Bk?b.zu(i.Bk,e):e).href,K$:i.$At}},i.pTt=function(t,n){},L(n,[{key:"pSt",get:function(){return void 0!==this.ee.KAt?this.ee.KAt.length:this.OSt&&this.OSt instanceof CW?this.OSt.pSt:void 0}}]),n}(CW),BW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this)._St=void 0,u.zSt=void 0,u.hm=void 0,u.XSt=void 0,u.rbt=void 0,u.WSt=void 0,u._St=n,u.zSt=i,u.hm=e.hm,u.XSt=r,u.rbt=s,u.WSt=u.qSt(e),u}U(n,t);var i=n.prototype;return i.BAt=function(t){if(t>=0&&t<this.Gl)return this.GSt(this.WSt[t])},i.jSt=function(t){var n=this.QSt(t);if(this.WSt.length>0){var i=this.WSt[0];if(n<=nn(i.Bg,this.hm))return this.GSt(i)}var e=IW(this.WSt,Xt.fromNumber(n*this.hm));if(!(e<0))return this.GSt(this.WSt[e])},i.YSt=function(t){var n=this.QSt(t);if(this.WSt.length>0){var i=this.WSt[this.WSt.length-1];if(n>=nn(i.Lg,this.hm))return this.GSt(i)}return this.jSt(t)},i.GSt=function(t){var n=nn(t.Bg,this.hm)-this.rbt,i=n+this.XSt,e=nn(t.nw,this.hm);return{_St:this._St,_Tt:t.f7,Bg:i,hSt:Xt.fromNumber(n*this.hm),nw:e,Lg:i+e,ZSt:[this.zSt+t.zSt,this.zSt+t.JSt]}},i.qSt=function(t){for(var n=[],i=t.Eb,e=t.Rb.toNumber(),r=0,s=0,u=t.Nb;s<u.length;s++){var o=u[s],h=o.kb,a=Xt.fromNumber(o.nw),c=i.add(a);0===o.pb&&n.push({f7:r++,Bg:i,nw:a,Lg:c,zSt:e,JSt:e+h-1}),e+=h,i=c}return n},i.QSt=function(t){return t-this.XSt+this.rbt},L(n,[{key:"Gl",get:function(){return this.WSt.length}}]),n}(function(){function t(){}return t.prototype.dSt=function(t){var n=this.BAt(t._Tt);if(n&&n.Bg===t.Bg)return n;var i=this.jSt(t.Bg);return i&&i.Bg===t.Bg?i:void 0},t}()),LW=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).$St=void 0,e._wt=void 0,e.KSt=void 0,e.$St=n.JAt,e._wt=e.oSt(0,Xt.ZERO,e.xTt.nw),e}U(n,t);var i=n.prototype;return i.jTt=function(t){if(0===t)return this._wt},i.XTt=function(){return 0},i.WTt=function(t){return this._wt},i.GTt=function(t){return this.WTt(t)},i.kSt=function(){return this._wt},i.ASt=function(t,n){return Xt.ZERO},i.ATt=function(t){var n=this.tEt(t);return n&&{ZTt:t,JTt:n,KTt:n}},i.tEt=function(t){var n=this._wt;return this.eSt(n,t)?n:void 0},i.YTt=function(t){return this.tEt(t)},i.$Tt=function(t){return this.tEt(t)},i.Yh=function(){},i.PAt=function(t){return 0===t&&void 0!==this.$St},i.fSt=function(t){return this.KSt},i.vSt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r,s){var u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.Abt[0].href,o=this.$St,t.next=4,r.nEt(u,o,e,s);case 4:return h=t.sent,this.KSt=this.iEt(n,h),t.abrupt("return",this.KSt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,e,r,s){return t.apply(this,arguments)}}(),i.iEt=function(t,n){var i=this.$St,e=xg.nk(new DataView(n),new Zu);if(e.do!==zw.Rp)throw new f("Invalid segment index");var r=Mg.kk(e.Fs),s=i[1]+1;return new BW(t,s,r,this.xTt.rI,nn(this.VTt,this.dU))},n}(EW),MW=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.UAt=function(t,n){return{Ev:n.Abt[0].href}},i.pTt=function(t,n){return{Ev:n.Abt[0].href,K$:t.ZSt}},i.USt=function(){return new LW(this,this.FAt)},L(n,[{key:"hbt",get:function(){}}]),n}(DW),UW=function(t){function n(){return t.call(this,_W.oTt)||this}return U(n,t),n}(Ds);var FW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).cn=void 0,r.ee=void 0,r.eEt=void 0,r.FTt=void 0,r.rEt=1/0,r.sEt=void 0,r.cn=i,r.uEt(n,e),r}U(n,t);var i=n.prototype;return i.oEt=function(){return this.FTt||this.cn&&this.cn.oEt()},i.hEt=function(t){var n=this.FAt,i=this.cn&&this.cn.oEt();this.ee.Ibt?this.FTt=new PW(n,i,this.ee.Ibt):this.ee.Rbt?this.FTt=new OW(n,i,this.ee.Rbt[0]):this.ee.Ebt?this.FTt=new MW(n,i,this.ee.Ebt):t&&!i&&(this.FTt=new MW(n,i,void 0))},i.uEt=function(t,n){this.ee=t,this.eEt=t.Abt&&t.Abt.length>0?SW(t.Abt.map(function(t){return t.Ev}),n):n.slice(),this.FTt&&(t.Ibt?this.FTt.Yh(t.Ibt):t.Rbt?this.FTt.Yh(t.Rbt[0]):t.Ebt&&this.FTt.Yh(t.Ebt))},i.dTt=function(){var t;return null==(t=this.sEt)?void 0:t.aEt},i.bTt=function(){var t;return null==(t=this.sEt)?void 0:t.cEt},i.fEt=function(t){var n=this.rEt,i=this.FAt.nw,e=this.sEt,r=this.vEt(t);e&&Gt(i,n,1e-5)&&XW(e,r)||(this.rEt=i,this.sEt=r,this.jo(new UW))},i.Po=function(){this.Jo()},L(n,[{key:"Fs",get:function(){return this.ee}},{key:"Abt",get:function(){return this.eEt}}]),n}(Is);function HW(t){for(var n,i=0;i<t.length;i++){var e=t[i].dTt();if(e){n=e.rI;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].dTt();if(u){r=u.uI;break}}if(void 0!==r)return{rI:n,uI:r}}}function VW(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].dTt();if(!r)return;if((n=l.max(n,r.rI))>=(i=l.min(i,r.uI)))return}return{rI:n,uI:i}}}function zW(t){for(var n,i=0;i<t.length;i++){var e=t[i].bTt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function XW(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.cEt,n.cEt)&&function(t,n){return t&&n?Gt(t.rI,n.rI,1e-5)&&Gt(t.uI,n.uI,1e-5):t===n}(t.aEt,n.aEt)}var WW=function(t){function n(n,i,e){var r;(r=t.call(this)||this).xTt=void 0,r.mg=void 0,r.dEt=void 0,r.xTt=n,r.mg=i,r.dEt=e.slice();for(var s=0;s<e.length;s++){e[s].Qo(_W.oTt,r.fTt)}return r}U(n,t);var i=n.prototype;return i.dTt=function(){return VW(this.dEt)},i.bTt=function(){for(var t,n=0,i=this.dEt;n<i.length;n++){var e=i[n].bTt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Zv=function(){this.Jo();for(var t=0,n=this.dEt;t<n.length;t++){n[t].$o(_W.oTt,this.fTt)}},L(n,[{key:"RAt",get:function(){return this.dEt}},{key:"B0",get:function(){return this.RAt.reduce(function(t,n){for(var i=0,e=n.B0;i<e.length;i++){var r=e[i];is(t,r)||t.push(r)}return t},[])}},{key:"Au",get:function(){return this.B0.length>0?this.B0[0]:""}},{key:"do",get:function(){return this.dEt[0].do}},{key:"i_",get:function(){return this.mg}},{key:"kTt",get:function(){return this.xTt.kTt}},{key:"AC",get:function(){return this.dEt[0].AC}},{key:"FAt",get:function(){return this.xTt}},{key:"mAt",get:function(){return ss(this.RAt,function(t){return t.mAt})}}]),n}(kW),qW=function(t){function n(){return t.call(this,_W.aTt)||this}return U(n,t),n}(Ds);function GW(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Dbt;void 0===s||(r=$r(n,function(t){return t.i_===s})),r||(r={i_:s,RAt:[]},n.push(r)),r.RAt.push(e)},e=0;e<t.length;e++)i(e);return n}var jW,QW=function(t){function n(n,i){var e;return(e=t.call(this)||this).gTt=void 0,e.dEt=[],e.lEt=[],e._Et=void 0,e.wEt=!1,e._Et=n,e.gTt=i,e.gTt.Qo(_W.oTt,e.fTt),e}U(n,t);var i=n.prototype;return i.gEt=function(t,n){if(0!==this.lEt.length){for(var i=t,e=0,r=this.lEt;e<r.length;e++){var s=r[e],u=s.do;if(u===D_.Hv||u===D_.Vv){var o=s.lTt;if(void 0===o)return;i=n(i,o)}}return i}},i.yEt=function(){this.wEt||(this.wEt=!0,this.jo(new qW),this.Zv())},i.Yh=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.dEt.length){t.next=7;break}return t.next=3,this.mEt(this.gTt.RAt,n,i);case 3:this.pEt(this.dEt),ds(i),t.next=9;break;case 7:return t.next=9,this.kEt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=17;break}return s=n[r],u=new TW(this,s),t.prev=4,t.next=7,u.Yh(i,e);case 7:this.dEt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),ls(t.t0);case 14:r++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.pEt=function(t){for(var n=GW(t),i=0;i<n.length;i++){var e=n[i],r=new WW(this,e.i_,e.RAt);this.lEt.push(r)}},i.kEt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.dEt;case 1:if(!(e<r.length)){t.next=8;break}return s=r[e],t.next=5,s.Yh(n,i);case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.dTt=function(){return this.gTt.dTt()},i.bTt=function(){return this.gTt.bTt()},i.Zv=function(){this.Jo(),this.gTt.$o(_W.oTt,this.fTt);for(var t=0,n=this.lEt;t<n.length;t++){n[t].Zv()}for(var i=0,e=this.dEt;i<e.length;i++){e[i].Zv()}es(this.dEt),es(this.lEt)},L(n,[{key:"RAt",get:function(){return this.dEt}},{key:"SAt",get:function(){return this.lEt}},{key:"Gbt",get:function(){return this.gTt.Fs.Gbt}},{key:"nw",get:function(){return this.gTt.nw}},{key:"uI",get:function(){return this.rI+this.nw}},{key:"jbt",get:function(){return this.gTt.Fs.jbt||[]}},{key:"i_",get:function(){return this.gTt.i_}},{key:"cTt",get:function(){return this.wEt}},{key:"kTt",get:function(){return this._Et}},{key:"AEt",get:function(){return this._Et.bEt(this)}},{key:"FAt",get:function(){return this}},{key:"TEt",get:function(){return this._Et.SEt(this)}},{key:"EEt",get:function(){return this.gEt(1/0,l.min)}},{key:"REt",get:function(){return this.gEt(0,l.max)}},{key:"rI",get:function(){return this.gTt.rI}},{key:"jv",get:function(){return this.kTt.jv}}]),n}(kW),YW=function(t){function n(){return t.call(this,Ko.gc)||this}return U(n,t),n}(Ds);!function(t){t.IEt="NEt"}(jW||(jW={}));var ZW=function(t){function n(){return t.call(this,jW.IEt)||this}return U(n,t),n}(Ds),JW=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Abt)||this).wTt=void 0,e.DEt=void 0,e.wTt=i,e.hEt(!0),e}U(n,t);var i=n.prototype;return i.PAt=function(t){return!!ao(this.AC)&&this.CAt.PAt(t.f7)},i.OAt=function(t,n,i,e){return this.CAt.OAt(t,this,n,i,e)},i.NTt=function(){return this.DTt.NTt(this)},i.UAt=function(t){return this.DTt.UAt(t,this)},i.pTt=function(t){return this.DTt.pTt(t,this)},i.ATt=function(){return this.DEt},i.vEt=function(t){var n=this.CAt,i=n.ATt(t),e=i&&function(t,n){var i,e=t.JTt,r=t.KTt,s=t.ZTt,u=e.Bg,o=n.uSt(r);if(o.getTime()<=s.getTime())i=r.Lg;else{var h=(o.getTime()-s.getTime())/1e3,a=l.max(r.nw-h,0);i=r.Bg+a}return{rI:u,uI:i}}(i,n),r=this.CAt.bTt(t,i);return this.DEt=i,{ZTt:t,aEt:e,cEt:r}},i.Yh=function(t){this.uEt(t,this.wTt.Abt)},L(n,[{key:"RTt",get:function(){return this.wTt}},{key:"FAt",get:function(){return this.wTt.FAt}},{key:"QTt",get:function(){return this.wTt.QTt}},{key:"AC",get:function(){return this.ee.AC||this.wTt.AC}},{key:"DTt",get:function(){return this.oEt()}},{key:"CAt",get:function(){return this.DTt.CAt}}]),n}(FW),$W=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Abt)||this).xTt=void 0,e.PTt=void 0,e.xTt=i,e.hEt(!1),e.PTt=n.mAt.map(function(t){return new JW(t,sn(e))}),e}U(n,t);var i=n.prototype;return i.Yh=function(t){this.uEt(t,this.xTt.Abt);var n=t.mAt||[];if(this.PTt.length!==n.length)throw new f("Expected "+this.PTt.length+' representations in adaptation set "'+t.i_+'", found '+n.length);for(var i=0;i<n.length;i++)this.PTt[i].Yh(n[i])},i.fEt=function(n){for(var i=0,e=this.PTt;i<e.length;i++){e[i].fEt(n)}t.prototype.fEt.call(this,n)},i.vEt=function(t){return{ZTt:t,aEt:VW(this.PTt),cEt:zW(this.PTt)}},i.Po=function(){for(var n=0,i=this.PTt;n<i.length;n++){i[n].Po()}t.prototype.Po.call(this)},L(n,[{key:"mAt",get:function(){return this.PTt}},{key:"FAt",get:function(){return this.xTt}},{key:"QTt",get:function(){return this.xTt.QTt}},{key:"Dbt",get:function(){return this.ee.Dbt}},{key:"AC",get:function(){var t;return this.ee.AC||(null==(t=this.PTt[0])?void 0:t.Fs.AC)||""}}]),n}(FW),KW=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Abt)||this).CEt=void 0,s.Bb=void 0,s.lU=void 0,s.dEt=void 0,s.lEt=[],s.CEt=n,s.Bb=e,s.lU=r,s.hEt(!1),s.dEt=(i.RAt||[]).map(function(t){return new $W(t,sn(s))}),s.lEt=GW(s.dEt),s}U(n,t);var i=n.prototype;return i.Yh=function(t,n){this.uEt(t,this.CEt.Abt),this.lU=n;var i=t.RAt||[];if(this.dEt.length!==i.length)throw new f("Expected "+this.dEt.length+' adaptation sets in period "'+t.i_+'", found '+i.length);for(var e=0;e<i.length;e++)this.dEt[e].Yh(i[e])},i.fEt=function(n){for(var i=0,e=this.dEt;i<e.length;i++){e[i].fEt(n)}t.prototype.fEt.call(this,n)},i.vEt=function(t){return{ZTt:t,aEt:VW(this.dEt),cEt:zW(this.dEt)}},i.Po=function(){for(var n=0,i=this.dEt;n<i.length;n++){i[n].Po()}t.prototype.Po.call(this)},L(n,[{key:"RAt",get:function(){return this.dEt}},{key:"SAt",get:function(){return this.lEt}},{key:"FAt",get:function(){return this}},{key:"QTt",get:function(){return this.CEt}},{key:"i_",get:function(){return this.ee.i_}},{key:"rI",get:function(){return this.Bb}},{key:"nw",get:function(){return this.lU}}]),n}(FW),tq=new Date("2000-01-01"),nq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).ee=void 0,s.xEt=void 0,s.PEt=void 0,s.EX=void 0,s.OEt=void 0,s.sEt=void 0,s.eEt=void 0,s.BEt=void 0,s.LEt=void 0,s.MEt=void 0,s.UEt=[],s.xEt=i,s.Yh(n,e,r),n.do===rX.sT){var u=s.kSt();u&&u.Ybt&&u.Ybt.getTime()<tq.getTime()&&(s.MEt=new Date(s.eTt.getTime()-1e3*(u.Pwt.Bg+u.Pwt.nw)),s.fEt(r))}return s}U(n,t);var i=n.prototype;return i.dTt=function(){var t;return null==(t=this.sEt)?void 0:t.aEt},i.bTt=function(){var t;return null==(t=this.sEt)?void 0:t.cEt},i.Yh=function(t,n,i,e){var r;this.ee=t,this.PEt=n,this.OEt=null!=e?e:i,this.EX=i;var s,u=[(s=n,b.zu(".",s))];this.eEt=t.Abt&&t.Abt.length>0?SW(t.Abt.map(function(t){return t.Ev}),u):u,this.BEt=t.Jbt&&t.Jbt.length>0?SW(t.Jbt,this.eEt):[];var o=this.BEt.map(function(t){return t.href}),h=n.href;is(o,h)||(this.BEt.push(n),o.push(h));var a=this.xEt.href;is(o,a)||(this.BEt.push(this.xEt),o.push(a)),this.LEt=null==(r=t.AAt)?void 0:r.kAt();var c=t.do===rX.sT,f=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.rI)u=s.rI.kAt();else if(r>0&&t[r-1].nw){var o=e[r-1],h=t[r-1].nw.kAt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({Fs:t[c],rI:e[c],nw:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.nw?v.nw.kAt():i-d),a.push({Fs:v,rI:d,nw:l})}return a}(t.pAt,c,this.LEt);this.FEt(f),this.fEt(i)},i.FEt=function(t){var n=this.UEt;if(0!==t.length){for(var i=t[0].Fs.i_,e=0;e<n.length&&n[e].i_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Po()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Yh(o.Fs,o.nw)}else n.push(new KW(this,o.Fs,o.rI,o.nw))}}else es(n)},i.fEt=function(t){for(var n=0,i=this.UEt;n<i.length;n++){i[n].fEt(t)}var e=this.sEt,r=this.vEt(t);e&&XW(e,r)||(this.sEt=r,this.jo(new UW))},i.vEt=function(t){return{ZTt:t,aEt:HW(this.UEt),cEt:zW(this.UEt)}},i.kSt=function(){if(0!==this.UEt.length){var t=this.UEt[this.UEt.length-1];if(!isFinite(t.nw)&&0!==t.RAt.length){var n=t.RAt[0];if(0!==n.mAt.length){var i=n.mAt[0].CAt,e=i.kSt();if(e)return{Pwt:e,Ybt:i.tSt(e)}}}}},i.Po=function(){this.Jo();for(var t=0,n=this.UEt;t<n.length;t++){n[t].Po()}},L(n,[{key:"Fs",get:function(){return this.ee}},{key:"do",get:function(){return this.ee.do||rX.rT}},{key:"Zbt",get:function(){return this.MEt||this.ee.Zbt||this.eTt}},{key:"Ybt",get:function(){return this.ee.Ybt}},{key:"AAt",get:function(){return this.LEt}},{key:"Abt",get:function(){return this.eEt}},{key:"Jbt",get:function(){return this.BEt}},{key:"pAt",get:function(){return this.UEt}},{key:"eTt",get:function(){return this.ee.eTt||this.EX}},{key:"ubt",get:function(){return this.ee.ubt}},{key:"HEt",get:function(){return this.OEt}},{key:"VEt",get:function(){return this.EX}}]),n}(Is);var iq=function(){function t(t,n,i){this.zEt=0,this.Zb=t,this.XEt=n,this.WEt=i}var n=t.prototype;return n.WP=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qEt(n,this.Zb,this.XEt,this.WEt).catch(_s);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GEt=function(){return new Date(Jt()+this.zEt)},n.qEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}return t.next=3,this.jEt(i,r,e);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}ds(e),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.QEt(i,o,e);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.zEt=void 0===s?0:s-Jt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),n.QEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=i.fAt,t.t0=r,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.ks)){t.next=9;break}return t.next=8,this.jEt(n,s,e);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.ks)){t.next=15;break}if(o=new Date(u).getTime(),g(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.jEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.Tv({Ev:i,Xv:Df.GET,kv:th.os,zo:e});case 3:return r=t.sent,t.next=6,r.ev();case 6:if(s=t.sent,u=new Date(s).getTime(),g(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),ls(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),t}(),eq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).YEt=void 0,s.gTt=void 0,s.ZEt=void 0,s.FK=!0,s.UEt=[],s.JEt=void 0,s.$Et=void 0,s.KEt=void 0,s.Zb=void 0,s.tRt=void 0,s.JEt=n,s.ZEt=n.p_,s.$Et=i,s.Zb=e,s.YEt=r,s.tRt=new iq(s.Zb,s.YEt,s.JEt.nRt),s}U(n,t);var i=n.prototype;return i.sct=function(t){var n=this.cg;this.FK=t,n!==this.cg&&this.jo(new ZW)},i.Yh=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c,f,v,d,l,_,w;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.$bt?b.zu(n.$bt,this.ZEt):this.ZEt,void 0!==this.gTt){t.next=10;break}return t.next=6,this.tRt.WP(n.sTt);case 6:this.gTt=new nq(n,this.ZEt,o,this.GEt()),this.gTt.Qo(_W.oTt,this.Go),t.next=11;break;case 10:this.gTt.Yh(n,o,this.GEt(),i);case 11:if(0===(h=this.gTt.pAt).length)a=this.UEt.slice(),es(this.UEt);else{for(c=h[0].i_,f=0;f<this.UEt.length&&this.UEt[f].i_!==c;)f++;for(a=this.UEt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.UEt.length?l=this.UEt[v]:(l=new QW(this,d),s.push(l)),u.push(l.Yh(this.$Et,e))}return t.next=15,T.all(u);case 15:for((r=this.UEt).push.apply(r,s),_=0,w=a;_<w.length;_++)w[_].yEt();this.jo(new YW);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.GEt=function(){return this.tRt.GEt()},i.SEt=function(t){var n=this.UEt.indexOf(t);if(n>0)return this.UEt[n-1]},i.bEt=function(t){var n=this.UEt.indexOf(t);if(n>=0&&n+1<this.UEt.length)return this.UEt[n+1]},i.dTt=function(){return this.gTt?this.gTt.dTt():void 0},i.bTt=function(){return this.gTt&&this.gTt.bTt()},i.fEt=function(t){this.gTt&&this.gTt.fEt(t)},i.Zv=function(){this.Jo(),this.KEt=void 0,this.sct(!1);for(var t=0,n=this.UEt;t<n.length;t++){n[t].Zv()}es(this.UEt),this.gTt&&this.gTt.Po()},L(n,[{key:"Ybt",get:function(){return this.gTt&&this.gTt.Ybt}},{key:"Zbt",get:function(){return this.gTt&&this.gTt.Zbt}},{key:"i_",get:function(){return this.gTt&&this.gTt.Fs.i_}},{key:"HEt",get:function(){var t;return null==(t=this.gTt)?void 0:t.HEt}},{key:"iRt",get:function(){var t;return null==(t=this.gTt)?void 0:t.VEt}},{key:"Jbt",get:function(){return this.gTt?this.gTt.Jbt.map(function(t){return t.href}):[this.TAt]}},{key:"TAt",get:function(){return this.ZEt.href}},{key:"Kbt",get:function(){return this.gTt&&this.gTt.Fs.Kbt}},{key:"tTt",get:function(){return this.gTt&&this.gTt.Fs.tTt}},{key:"AAt",get:function(){return this.gTt&&this.gTt.Fs.AAt}},{key:"nTt",get:function(){return this.gTt&&this.gTt.Fs.nTt}},{key:"iTt",get:function(){var t,n,i=(null==(t=this.gTt)?void 0:null==(n=t.Fs.iTt)?void 0:n.zAt())||0;return l.max(i,sq)}},{key:"cg",get:function(){return this.FK}},{key:"pAt",get:function(){return this.UEt}},{key:"eRt",get:function(){return this.do===rX.sT?this.UTt:this.rRt}},{key:"sRt",get:function(){var t=this.eRt;if(void 0!==t)for(var n=0,i=this.pAt;n<i.length;n++){var e=i[n];if(e.rI<=t&&e.uI>t)return e}}},{key:"gbt",get:function(){return this.gTt&&this.gTt.Fs.gbt}},{key:"eTt",get:function(){return this.gTt&&this.gTt.eTt}},{key:"EEt",get:function(){for(var t=this.UEt.length-1;t>=0;t-=1){var n=this.UEt[t].EEt;if(n)return n}}},{key:"UTt",get:function(){var t=this.EEt;if(void 0!==t){var n=t-this.uRt;return l.max(n,this.rRt)}}},{key:"rRt",get:function(){for(var t=0,n=this.UEt;t<n.length;t++){var i=n[t].vTt;if(void 0!==i)return i}}},{key:"jv",get:function(){return Boolean(this.JEt.jv)}},{key:"uRt",get:function(){var t=this.gTt&&this.gTt.Fs.rTt;return t?t.kAt():this.do===rX.sT?this.rrt:0}},{key:"rrt",get:function(){return this.JEt.rrt?this.JEt.rrt:1.5*this.nTt.kAt()}},{key:"ubt",get:function(){return this.gTt&&this.gTt.ubt}},{key:"do",get:function(){return this.gTt?this.gTt.do:void 0}}]),n}(Is),rq=function(){function t(t,n,i,e){this._Et=void 0,this._Et=new eq(t,n,i,e)}return L(t,[{key:"kTt",get:function(){return this._Et}}]),t}(),sq=1e3,uq=l.pow(2,31)-1,oq=function(){function t(t,n,i,e){var r=this;this.Wnt=void 0,this.gTt=void 0,this.oRt=void 0,this.hRt=void 0,this.aRt=void 0,this.cRt=new cs,this.fRt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=r.gTt.kTt.GEt(),t.next=4,r.vRt(r.gTt.kTt.Jbt,n);case 4:return e=t.sent,t.next=7,r.gTt.kTt.Yh(e,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),vy(t.t0)&&r.gTt.kTt.sct(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.Wnt=e,this.gTt=new rq(t,n,i,this.cRt.zo)}var n=t.prototype;return n.Gd=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gTt.kTt.jo(new fE),t.prev=1,t.next=4,GH(this.fRt,n);case 4:this.gTt.kTt.sct(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),ls(t.t0),this.hRt=void 0,this.gTt.kTt.sct(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.oRt=this.dRt(this.cRt.zo);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.dRt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.gTt.kTt.do!==rX.sT){t.next=6;break}return t.next=4,ws(this.lRt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n._Rt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(n),!((i=this.wRt())>0)){t.next=6;break}return e=l.min(i,uq),t.next=6,Ts(e,n);case 6:return t.prev=6,t.next=9,GH(this.fRt,n,1/0,sq,3e4);case 9:this.gTt.kTt.sct(!0);case 10:return t.prev=10,this.aRt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.wRt=function(){var t=this.gTt.kTt.GEt().getTime()-this.gTt.kTt.HEt.getTime();return this.gTt.kTt.iTt-t},n.gRt=function(t){var n=this.gTt.kTt.bTt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.gTt.kTt.fEt(t);var e=this.gTt.kTt.bTt();return e?e.getTime()-t.getTime():NaN},n.yRt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aRt||(this.aRt=this._Rt(n)),(i=new cs).Ho(n),t.prev=3,t.next=6,T.race([this.aRt,this.mRt(i.zo)].filter($));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),_s(t.t0);case 11:return t.prev=11,i.Fo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.mRt=function(t){var n=this.gTt.kTt.GEt(),i=this.gRt(n);if(!g(i))return this.pRt(i,t)},n.pRt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ts(n,i);case 2:e=this.gTt.kTt.GEt(),this.gTt.kTt.fEt(e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vRt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wnt.Vnt(n,{},i,!1);case 2:return e=t.sent,r=new wW,t.abrupt("return",r.gpt(e.Cnt,e.Sv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Zv=function(){return this.cRt.Fo(),this.oRt=void 0,this.hRt=void 0,this.aRt=void 0,this.gTt.kTt.Zv(),T.resolve()},L(t,[{key:"kRt",get:function(){return this.gTt}},{key:"o4",get:function(){return this.hRt||(this.hRt=this.Gd(this.cRt.zo),ks(this.hRt)),this.hRt}},{key:"lRt",get:function(){return this.gTt.kTt.iRt&&this.gTt.kTt.do===rX.sT?this.yRt(this.cRt.zo):this.o4}}]),t}(),hq=function(){function t(t,n,i){this.Wnt=t,this.ARt=n,this.bRt=i}var n=t.prototype;return n.TRt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!Nl(i=n.type)){t.next=9;break}return t.next=6,this.SRt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Il(i)){t.next=15;break}return t.next=12,this.ERt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SRt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uX(n.src,this.Wnt);case 3:return i=t.sent,t.next=6,hX(i,this.Wnt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.ERt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new oq({p_:b.zu(n.src),rrt:n.liveOffset,nRt:n.timeServer,jv:n.useCredentials},this.bRt,Mf.ed,this.Wnt),t.next=4,i.o4;case 4:return t.next=6,Uz(i.kRt.kTt,n.contentProtection,this.ARt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}();var aq=function(){function t(t){this.RRt=void 0,this.IRt=[],this.NRt=0,this.RRt=t}var n=t.prototype;return n.DRt=function(){var t=new $u;return this.IRt.push(t),this.CRt(),t.Dh},n.xRt=function(){var t=T.coroutine(tr.mark(function t(n,i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.NRt-=1,this.CRt(),0===this.IRt.length&&0===this.NRt&&i.Ch(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.CRt=function(){this.IRt.length>0&&this.NRt<this.RRt&&(this.IRt.shift().Ch(),this.NRt+=1)},t}();function cq(t,n){for(var i=0,e=0,r=t.Nb.T3.map(function(t){return t.nw});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var fq=function(t){function n(n,i,e,r,s,u,o,h){var a,c,f,v,d,l;void 0===h&&(f=Y.Or||Y.xr,v=void 0!==c&&void 0!==c.preferredAudioCodecs&&c.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=f&&!v,l=T.coroutine(tr.mark(function t(n){var i,e,r,s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.ov,MediaSource.isTypeSupported(e)||gy(n.AC,n.B0)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!d||-1===(null==(i=n.Au)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.yAt){t.next=13;break}return r=n.yAt,s=ss(r,function(t){return Rr(t.fAt)}).filter($),t.next=10,us(s,function(t){return b.Hu(t,e)});case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}},t)})),h=function(t){return l.apply(this,arguments)}),(a=t.call(this)||this).Gnt=void 0,a.PRt=void 0,a.ORt=new $u,a.BRt=void 0,a.Y0=void 0,a.LRt=Sz.oAt(),a.rAt=void 0,a.MRt=void 0,a.Aw=void 0,a.URt=void 0,a.C3=void 0,a.Wnt=void 0,a.FRt=void 0,a.ARt=void 0,a.bRt=void 0,a.qkt=void 0,a.Gnt=n,a.C3=i,a.Wnt=e,a.URt=r,a.FRt=s,a.ARt=u,a.bRt=h,a.qkt=o,a.MRt=-1;var _=a.Gnt.FR.sources[0];return a.BRt=_,a.Aw=a.Vw(),a.PRt=new aq(a.Gnt.va.parallelTasksThreshold),a}U(n,t);var i=n.prototype;return i.Vw=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r,s,u,o,h,a,c,f,v,d,_,w,g,y,m,p,k,A,b,T,S,E,R,I,N=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new hq(this.Wnt,this.ARt,this.bRt),t.next=3,n.TRt(this.BRt);case 3:return this.Y0=t.sent,i=this.Gnt.va.amount,e=this.Y0.nw,r=Iz(i,e),this.rAt=r,u=_O(this.Y0.bAt[0]),t.next=11,this.C3.b3.y3(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return is(t.references,N.Gnt.i_)}),h=[],a=this.Gnt.va.bandwidth,c=0,f=this.Y0.pAt;c<f.length;c++)for(v=f[c],d=0,_=v.EAt;d<_.length;d++)for(w=_[d],g=0,y=lq(w.Ek);g<y.length;g++)for(m=y[g],p=0,k=_q(m.o_,a);p<k.length;p++)A=k[p],h.push(A);if(this.MRt=l.ceil(h.map(function(t){return t.cE*cq(t,r)/8}).reduce(function(t,n){return t+n},0)),b=er(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var n=o[t],i=n.qualityId,e=new iA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.bI(e).AI(5e-4);else{var r,s=$r(h,function(t){return t.i_===i}),u=l.min(N.rAt,null!=(r=null==s?void 0:s.Nb.nw)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:u})}},E=0;E<o.length;E++)S(E);s=new Sz(T,b,this.rAt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.i_,{timeRanges:iA.zI(),totalQualityDurationToCache:l.min(I.Nb.nw,this.rAt)});s=new Sz(0,b,this.rAt)}this.HRt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.VRt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Aw;case 2:return t.next=4,this.zRt(this.Y0,n);case 4:return t.next=6,this.ORt.Dh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zRt=function(){var t=T.coroutine(tr.mark(function t(n,i){var e,r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.bAt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.XRt();case 4:for(e=[],r=0,s=n.pAt;r<s.length;r++)u=s[r],e.push(this.WRt(u,n.bAt[0],i));return t.abrupt("return",T.all(e));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XRt=function(){var t=T.coroutine(tr.mark(function t(){var n,i,e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.URt.w3();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return e=n[i],t.next=8,this.C3.S3.gh(e.key);case 8:if(!(r=t.sent)){t.next=14;break}return t.next=12,vq(r,this.Gnt.i_,this.C3.S3,this.qkt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.C3.S3.d3(e,this.qkt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new Dz("Unable to store manifest with url: "+e.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.URt.A3();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.WRt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],s=0,u=n.EAt;s<u.length;s++)for(o=u[s],h=lq(o.Ek),a=0;a<h.length;a++)c=h[a],r.push(this.qRt(c,i,e));return t.abrupt("return",T.all(r));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.qRt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Gnt.va.bandwidth,s=_q(n.o_,r),n.do!==D_.Vv||!n.DAt||!n.DAt.AT.widevine||"persistent"!==n.DAt.AT.widevine.licenseType){t.next=6;break}return t.next=5,this.GRt(n.DAt);case 5:ds(e);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.jRt(h,i,e));return t.abrupt("return",T.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.jRt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ds(e),!n.wnt){t.next=7;break}return r={Bg:0,nw:0,MAt:n.wnt},t.next=5,this.PRt.DRt();case 5:ds(e),ks(this.PRt.xRt(this.QRt(r,n,i),this.ORt));case 7:s=n.Nb.T3[0].Bg,u=s+this.rAt,o=0,h=n.Nb.T3;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Bg>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.YRt(e);case 16:return t.next=18,this.PRt.DRt();case 18:ks(this.PRt.xRt(this.QRt(a,n,i),this.ORt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.YRt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.Io){t.next=4;break}return t.next=3,this.ORt.Dh;case 3:throw new fs;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZRt=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Aw;case 2:return t.abrupt("return",this.Y0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.GRt=function(t){return T.resolve()},i.JRt=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _t("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.QRt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u,o,h,a,c,f=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.C3.b3,s=wO(n.MAt.Ev,n.MAt.K$),t.next=4,r.gh(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,vq(u,this.Gnt.i_,r,this.qkt);case 8:this.$Rt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.KRt(n.MAt);case 14:return o=t.sent,h=this.tIt(n,i,e,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.C3.I3(function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.b3.d3(a,f.qkt);case 2:return t.next=4,n.T3.d3(c,f.qkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.$Rt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new Dz("Unable to store segment with url: "+n.MAt.Ev,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,e){return t.apply(this,arguments)}}(),i.KRt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.FRt.nIt(n,!1);case 2:return i=t.sent,t.next=5,this.iIt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iIt=function(){var t=T.coroutine(tr.mark(function t(n){var i;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.sv();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.tIt=function(t,n,i,e){var r=wO(t.MAt.Ev,t.MAt.K$),s=t.Bg,u=t.nw,o=this.eIt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:_O(i),qualityId:n.i_,byteSize:o,startsAndEnds:new iA([s,s+u]).hI,references:[this.Gnt.i_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:_O(i),data:e}}},i.eIt=function(t){return t.buffer.byteLength},i.$Rt=function(t,n){var i=t.qualityId,e=this.LRt,r=e._g;r.get(i).timeRanges=r.get(i).timeRanges.bI(new iA(t.startsAndEnds)).AI(5e-4),this.HRt=new Sz(n?e.hAt+t.byteSize:e.hAt,r,this.rAt)},L(n,[{key:"rIt",get:function(){return this.MRt}},{key:"HRt",get:function(){return this.LRt},set:function(t){this.LRt.ty(t)||(this.LRt=t,t.ty(Sz.oAt())||this.jo(new Tz))}}]),n}(Is);function vq(t,n,i,e){return dq.apply(this,arguments)}function dq(){return(dq=T.coroutine(tr.mark(function t(n,i,e,r){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(is(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,e.d3(n,r);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lq(t){return t.length?[t[0]]:[]}function _q(t,n){if(!t.length)return[];var i=[].concat(t).sort(Az),e=i.filter(function(t){return t.cE<=n});return e.length>0?[e.pop()]:[i.shift()]}var wq=function(){function t(t){this.Zb=void 0,this.IL=new XS,this.Zb=t}var n=t.prototype;return n.Tv=function(t){var n=this,i=new $u;return this.IL.gL(function(e){return n.sIt(i,t,e)},t.zo).catch(E),i.Dh},n.Yv=function(t){return this.Zb.Yv(t)},n.sIt=function(){var t=T.coroutine(tr.mark(function t(n,i,e){var r,s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return ds(e),r=new Bf({Ev:i.Ev,zo:e},i),s=this.Zb.Tv(r),n.Ch(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.lv();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.Zv=function(){this.IL.Zv()},t}(),gq=function(){function t(t,n){this.Zb=void 0,this.uIt=void 0,this.oIt=void 0,this.Zb=t,this.uIt=new wq(t),this.oIt=n}var n=t.prototype;return n.nIt=function(t,n,i){return this.Dht(t,n,!0,!1,void 0,i)},n.hIt=function(t,n,i,e){return this.Dht(t,n,!1,!1,i,e)},n.aIt=function(t,n,i,e){return this.Dht(t,n,!1,!0,i,e)},n.Dht=function(){var n=T.coroutine(tr.mark(function n(i,e,r,s,u,o){var h;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return ds(o),n.next=3,this.cIt(i,r,s,u,o);case 3:if(h=n.sent,!e){n.next=8;break}return n.abrupt("return",t.fIt(h));case 8:return n.abrupt("return",this.vIt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,e,r,s,u){return n.apply(this,arguments)}}(),n.vIt=function(t){return t},t.fIt=function(t){return t},n.cIt=function(t,n,i,e,r){var s=new Bf({Ev:t.Ev,kv:th.Hc,pv:t.K$?{Range:"bytes="+t.K$[0]+"-"+t.K$[1]}:void 0,jv:t.jv,Xv:Df.GET,do:Cf.Dv,qv:i?xf.xv:xf.Iv,Gv:this.oIt,Wv:e,zo:r});return n?this.uIt.Tv(s):this.Zb.Tv(s)},t}(),yq=function(){function t(t){this.Zb=void 0,this.Zb=t}return t.prototype.nEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zb.Tv({Ev:n,kv:th.Hc,pv:{Range:"bytes="+i[0]+"-"+i[1]},jv:e,Xv:Df.GET,do:Cf.Iv,zo:r});case 2:return s=t.sent,t.next=5,s.sv();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),mq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Pwt=void 0,r.Pwt=n,r}return U(n,t),n}(on),pq=function(){function t(t){this.znt=void 0,this.znt=t}return t.prototype.nEt=function(){var t=T.coroutine(tr.mark(function t(n,i,e,r){var s,u;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.znt.Fnt(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.znt.Fnt(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",Qu(new y(u.buffer),i[0],i[1]));case 10:throw new mq({Ev:n,K$:i,jv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,e,r){return t.apply(this,arguments)}}(),t}(),kq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new iA([0,0]).hI,references:[]},Aq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},bq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).dIt=void 0,u.lIt=void 0,u.C3=void 0,u.qkt=void 0,u.dIt=new yq(i),u.C3=e,u.lIt=r,u.qkt=s,u}U(n,t);var i=n.prototype;return i.nEt=function(){var n=T.coroutine(tr.mark(function n(i,e,r,s){var u;return tr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.nEt.call(this,i,e,r,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),ls(n.t0);case 9:return n.next=11,this.dIt.nEt(i,e,r,s);case 11:return u=n.sent,n.next=14,this._It(i,e,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,e,r){return n.apply(this,arguments)}}(),i._It=function(){var t=T.coroutine(tr.mark(function t(i,e,r){var s,u,o,h,a,c,f,v=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.lIt){t.next=2;break}return t.abrupt("return");case 2:return s=this.C3.b3,u=wO(i,e),t.next=6,s.gh(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,vq(o,this.lIt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:r},a=n.tIt(u,h,this.lIt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.C3.I3(function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.b3.d3(c,v.qkt);case 2:return t.next=4,n.T3.d3(f,v.qkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new Dz("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,e){return t.apply(this,arguments)}}(),n.tIt=function(t,n,i){return{segmentMetadataEntry:nr({},kq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:nr({},Aq,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(pq);var Tq=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wIt=function(t,n,i,e,r,s,u){return new fq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.Zb=t}return t.prototype.XZ=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.FR.sources[0].useCredentials),r=new gq(this.Zb,Pf.Iv),s=new cM(this.Zb,e),u=new fM(n.S3,n.b3,n.T3,n.R3),o=function(t,n,i,e,r){return new bq(n,t,i,e,r)}(this.Zb,u,n,t.i_,i),h=new hO,a=new wM(_M(s,u),h,t);return this.wIt(t,n,a,h,r,o,i)},t}());function Sq(t){var n,i={get id(){return t.i_},get status(){return t.mv},get source(){return t.FR},get parameters(){return t.va},get duration(){return t.nw},get cached(){return t.gIt.yR()},get secondsCached(){return t.yIt},get percentageCached(){return t.mIt},get bytes(){return t.pIt},get bytesCached(){return t.kIt},get license(){return t.HC._l},start:function(){t.rI()},pause:function(){t.Ow()},remove:function(){t.Qh()},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)}};return n=new eS(t,["U2","Pkt"],i),i}var Eq=function(){function t(t,n,i){this.Gnt=t,this.C3=n,this.Y0=i}var n=t.prototype;return n.AIt=function(){var t=T.coroutine(tr.mark(function t(){var n=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.C3.I3(function(){var t=T.coroutine(tr.mark(function t(i){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.bIt(i);case 2:return t.next=4,n.TIt(i);case 4:return t.next=6,n.SIt(i);case 6:return t.next=8,n.EIt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.bIt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.E3,e=this.Gnt.i_,t.next=4,i.Qh(e);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.TIt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o,h,a=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.b3,e=n.T3,Pl(r=this.Gnt.FR.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=_O(r.src),t.next=8,i.y3(s,"manifestURL");case 8:u=t.sent.filter(function(t){return is(t.references,a.Gnt.i_)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(ts((h=u[o]).references,this.Gnt.i_),0!==h.references.length){t.next=20;break}return t.next=16,i.Qh(h.key);case 16:return t.next=18,e.Qh(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.d3(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SIt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u,o=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.S3,e=this.RIt(),t.next=4,i._3(e);case 4:r=t.sent.filter(function(t){return is(t.references,o.Gnt.i_)}),s=0;case 6:if(!(s<r.length)){t.next=19;break}if(ts((u=r[s]).references,this.Gnt.i_),0!==u.references.length){t.next=14;break}return t.next=12,i.Qh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.d3(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.RIt=function(){if(!this.Y0)return[];var t=this.Gnt.FR.sources[0];if(!Pl(t))return[];var n=_O(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.pAt;i<e.length;i++)for(var r=0,s=e[i].EAt;r<s.length;r++)for(var u=0,o=s[r].Ek;u<o.length;u++)for(var h=0,a=o[u].o_;h<a.length;h++){var c=a[h];c.HAt&&n.push(c.HAt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Y0).map(function(t){return{src:t}}).map(function(t){return _O(t.src)});return[n].concat(i)},n.EIt=function(){var t=T.coroutine(tr.mark(function t(n){var i,e,r,s,u=this;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.R3,t.next=3,i.w3();case 3:e=t.sent.filter(function(t){return is(t.references,u.Gnt.i_)}),r=0;case 5:if(!(r<e.length)){t.next=19;break}if(ts((s=e[r]).references,this.Gnt.i_),0!==s.references.length){t.next=14;break}return t.next=11,i.Qh(s.key);case 11:this.IIt(s),t.next=16;break;case 14:return t.next=16,i.d3(s);case 16:r++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.IIt=function(t){},t}(),Rq=new(function(){function t(){}return t.prototype.XZ=function(t,n,i){return new Eq(t,n,i)},t}());var Iq=function(){function t(t,n){this.ll=void 0,this.cn=t,this.NIt=n}var n=t.prototype;return n.e9=function(t){this.DIt(t)},n.DIt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.NIt.JRt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.cn.Qkt(cz.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"_l",get:function(){var t;return this.ll||(this.ll=(t=this,{renew:function(n){t.e9(n)}})),this.ll}}]),t}(),Nq=function(t){function n(n,i,e,r,s,u){var h;(h=t.call(this)||this).mg=void 0,h.Wkt=void 0,h.ll=void 0,h.kmt=void 0,h.CIt=void 0,h.C3=void 0,h.NIt=void 0,h.xIt=new cs,h.PIt=void 0,h.evictOnLoading=function(){h.$o("Pkt",h.evictOnLoading),h.OIt()},h.mg=n,h.kmt=i,h.CIt=e,h.C3=r,h.NIt=s.XZ(sn(h),h.C3,u),h.PIt=new Iq(sn(h),h.NIt),h.Wkt=1===h.NIt.HRt.aAt?cz.DONE:cz.IDLE,h.NIt.Qo("U2",function(t){h.Go(t),1===h.mIt&&h.Qkt(cz.DONE)});var a=new Date,c=h.CIt.expirationDate.getTime()-a.getTime();return c<2147483647&&o(function(){return h.OIt()},c),h}U(n,t);var i=n.prototype;return i.Qkt=function(t){this.Wkt!==t&&(this.Wkt=t,this.jo(new vz))},i.rI=function(){this.Wkt===cz.EVICTED||this.Wkt===cz.DONE||this.BIt()},i.BIt=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Qkt(cz.LOADING),n=new cs,this.xIt=n,t.next=6,this.NIt.VRt(n.zo);case 6:this.Qkt(cz.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),vs(t.t0)?this.Qkt(cz.IDLE):this.Qkt(cz.ERROR);case 12:return t.prev=12,this.xIt.Po(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Ow=function(){this.xIt.Fo()},i.Qh=function(){this.mv===cz.LOADING?(this.Qo("Pkt",this.evictOnLoading),this.Ow()):this.OIt()},i.OIt=function(){var t=T.coroutine(tr.mark(function t(){var n;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.NIt.ZRt();case 3:return n=t.sent,t.next=6,Rq.XZ(this,this.C3,n).AIt();case 6:this.NIt.HRt=Sz.oAt(),this.Qkt(cz.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.Qkt(cz.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"_l",get:function(){return this.ll||(this.ll=Sq(this)),this.ll}},{key:"i_",get:function(){return this.mg}},{key:"HC",get:function(){return this.PIt}},{key:"mv",get:function(){return this.Wkt}},{key:"FR",get:function(){return this.kmt}},{key:"va",get:function(){return this.CIt}},{key:"nw",get:function(){return this.NIt.HRt.UI}},{key:"gIt",get:function(){return this.NIt.HRt.uAt}},{key:"yIt",get:function(){return this.NIt.HRt.sAt}},{key:"mIt",get:function(){return this.NIt.HRt.aAt}},{key:"pIt",get:function(){return this.NIt.rIt}},{key:"kIt",get:function(){return this.NIt.HRt.hAt}}]),n}(ll);var Dq=function(){function t(t,n){this.C3=t,this.LIt=n}var n=t.prototype;return n.$kt=function(t,n,i){var e=Hb();return this.Zkt(e,t,n,i)},n.Zkt=function(t,n,i,e){return new Nq(t,n,i,this.C3,this.LIt,e)},t}(),Cq=30,xq=5;function Pq(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(et(t)&&!Nr(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,et(i)&&Nr(i,"%")){var n=w(t);if(g(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!et(t)&&g(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+Cq),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(g(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return xq;if(g(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var Oq=function(t){function n(n,i){var e;return(e=t.call(this)||this).ll=void 0,e.MIt=n,e.HB=i,e.MIt.Qo("Pkt",e.Go),e}return U(n,t),n.prototype.UIt=function(t,n,i){var e,r;if(!t)throw new f("Unexpected - The source description is undefined");if(e=cb(t),r=Pq(n),KA(e))throw new f("Invalid source description");return this.MIt.Zkt(e,r)._l},L(n,[{key:"_l",get:function(){var t,n,i;return this.ll||(this.ll=(i={get status(){return t.mv},get tasks(){return t.nAt},get network(){return t.KB._l},createTask:function(n,i){return t.UIt(n,i)},addEventListener:function(t,i){n.Qo(t,i)},removeEventListener:function(t,i){n.$o(t,i)}},n=new rS(t=this,i),i)),this.ll}},{key:"mv",get:function(){return this.MIt.mv}},{key:"nAt",get:function(){return this.MIt.nAt._l}},{key:"KB",get:function(){return this.HB}}]),n}(ll);(Bq=new VT(b.al,!1),Lq=lO.es,Mq=new Tq(Bq),Uq=new Dq(Lq,Mq),Fq=new XT(Bq),Hq=new kz(Lq.E3,Uq,"persistent"),new Oq(Hq,Fq))._l;var Bq,Lq,Mq,Uq,Fq,Hq,Vq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).mg=void 0,s.Wkt=void 0,s.ll=void 0,s.kmt=void 0,s.CIt=void 0,s.lU=0,s.FIt=iA.zI(),s.HIt=0,s.VIt=0,s.MIt=void 0,s.mg=n,s.Wkt=cz.IDLE,s.kmt=i,s.CIt=e,s.MIt=r,s}U(n,t);var i=n.prototype;return i.rI=function(){this.MIt.startCachingTask(this)},i.Qh=function(){this.MIt.removeCachingTask(this)},L(n,[{key:"_l",get:function(){return this.ll||(this.ll=Sq(this)),this.ll}},{key:"i_",get:function(){return this.mg}},{key:"mv",get:function(){return this.Wkt},set:function(t){this.Wkt!==t&&(this.Wkt=t,this.jo(new vz))}},{key:"FR",get:function(){return this.kmt}},{key:"va",get:function(){return this.CIt}},{key:"nw",get:function(){return this.lU},set:function(t){this.lU=t}},{key:"gIt",get:function(){return this.FIt},set:function(t){this.FIt=t}},{key:"yIt",get:function(){return this.HIt},set:function(t){this.HIt=t}},{key:"mIt",get:function(){return this.VIt},set:function(t){this.VIt=t,this.jo(new Tz)}}]),n}(_l),zq=30;function Xq(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+zq),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var Wq=function(t){function n(){var n;return(n=t.call(this)||this).Wkt=_z.UNINITIALISED,n.dL=new pz,n.Npt=void 0,n.qpt=void 0,n.zIt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.mv=cz.EVICTED,i.mIt=0,i.yIt=0,i.nw=0,i.gIt=iA.zI(),n.dL.Qh(i))}},n.XIt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.mv=e);var r=t.detail.percentage;r&&(i.mIt=r);var s=t.detail.duration;s&&(i.nw=s);var u=t.detail.seconds;u&&(i.yIt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.gIt=new iA(h)}}}},n.WIt=function(t){if(t.detail){var i=cb(JSON.parse(t.detail.source));if(!n.qIt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.Zkt(i,Xq(e),s)}}},n.GIt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.Zkt(cb(r),Xq(i),s);u.mv=t.detail.status,u.mIt=t.detail.percentage,u.nw=t.detail.duration,u.yIt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.gIt=new iA(h)}},n.jIt=function(t){t.detail&&n.Qkt(t.detail.status)},n.Npt=new uz,n.qpt=new FV,PV().cache={sdkEventBus:n.qpt},n.N1(),n}U(n,t);var i=n.prototype;return i.Qkt=function(t){this.Wkt!==t&&(this.Wkt=t,this.jo(new vz))},i.Zkt=function(t,n,i){void 0===i&&(i=void 0);var e=new Vq(i||Hb(),t,n,this);return this.dL.wg(e),i||this.Npt.IZ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.i_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.dL.Bkt;n<i.length;n++){var e=i[n];if(e.i_===t)return e}},i.qIt=function(t){for(var n=Gq(t.sources),i=0,e=this.dL.Bkt;i<e.length;i++){if(Gq(e[i].FR.sources).src===n.src)return!0}return!1},i.N1=function(){this.qpt.addEventListener("deleteTask",this.zIt),this.qpt.addEventListener("updateValues",this.XIt),this.qpt.addEventListener("newTask",this.WIt),this.qpt.addEventListener("restoreTask",this.GIt),this.qpt.addEventListener("setCacheStatus",this.jIt)},i.startCachingTask=function(t){this.Npt.IZ("THEOplayerCacheStartCachingTask",{id:t.i_})},i.removeCachingTask=function(t){this.Npt.IZ("THEOplayerCacheRemoveCachingTask",{id:t.i_})},L(n,[{key:"mv",get:function(){return this.Wkt}},{key:"nAt",get:function(){return this.dL}}]),n}(Is),qq=function(t){function n(n){var i;return(i=t.call(this,n)||this).QIt=n,i.QIt.Qo("Pkt",i.Go),i}return U(n,t),n.prototype.UIt=function(t,n){var i,e;if(!t)throw new f("Unexpected - The source description is undefined");if(i=cb(t),e=Xq(n),KA(i))throw new f("Invalid source description");if(!Gq(i.sources))throw new f("The provided sources can't be cached");return this.QIt.Zkt(i,e)._l},n}(Oq);function Gq(t){for(var n=0;n<t.length;n++){var i=t[n];if(Nl(i.type))return i}}var jq,Qq,Yq=function(){var t=new Wq;return new qq(t)}()._l;!function(t){t.YIt="any",t.ZIt="natural",t.JIt="landscape",t.$It="portrait",t.KIt="portrait-primary",t.tNt="portrait-secondary",t.nNt="landscape-primary",t.iNt="landscape-secondary"}(jq||(jq={})),function(t){t.KIt="portrait-primary",t.tNt="portrait-secondary",t.nNt="landscape-primary",t.iNt="landscape-secondary"}(Qq||(Qq={}));var Zq,Jq,$q=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Npt=new uz,n.eNt=jq.ZIt,n.rNt=Qq.KIt,n.sNt=Qq.KIt,n.uNt=Qq.KIt,n}U(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,e){n.eNt=t,n.Npt.IZ("THEOplayerOrientationLock",t),n.oNt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.eNt=jq.ZIt,t.Npt.IZ("THEOplayerOrientationUnlock"),t.type=t.sNt,t.oNt(),n()})},i.oNt=function(){var t=this.uNt,n=this.type;t!==n&&(this.uNt=n,this.jo(new Ds("change")))},i.addEventListener=function(t,n){this.Qo(t,n)},i.removeEventListener=function(t,n){this.$o(t,n)},n.hNt=function(t){switch(t){case jq.KIt:return[Qq.KIt];case jq.tNt:return[Qq.tNt];case jq.$It:return[Qq.KIt,Qq.tNt];case jq.nNt:return[Qq.nNt];case jq.iNt:return[Qq.iNt];case jq.JIt:return[Qq.nNt,Qq.iNt];case jq.ZIt:return[Qq.KIt,Qq.nNt,Qq.iNt];case jq.YIt:return[Qq.KIt,Qq.tNt,Qq.nNt,Qq.iNt]}},n.aNt=function(t,i){return n.hNt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.rNt},set:function(t){this.sNt=t,n.aNt(t,this.eNt)?(this.rNt=t,this.oNt()):(t===Qq.nNt&&this.eNt===jq.iNt&&(this.rNt=Qq.iNt,this.oNt()),t===Qq.iNt&&this.eNt===jq.nNt&&(this.rNt=Qq.nNt,this.oNt()))}},{key:"angle",get:function(){switch(this.type){case Qq.nNt:return-90;case Qq.iNt:return 90;case Qq.KIt:return 0;case Qq.tNt:return 180;default:return 0}}}]),n}(_l);$q.es=new $q,e.screen.orientation=$q.es,u&&-1===u.userAgent.indexOf("OS 9")&&d.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.cNt="unavailable",t.fNt="available",t.vNt="presenting"}(Zq||(Zq={})),PS(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),n.prototype.Mw=function(n){t.prototype.Mw.call(this,n);var i=this._l;this._l.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===Zq.vNt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(jq.iNt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},SS.iL),function(t){t.cl="addtrack",t.vl="removetrack",t.Il="change",t.Ol="update"}(Jq||(Jq={}));var Kq=function(t,n,i){this.type=Jq.Il,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},tG=function(t,n){this.type=Jq.cl,this.mediaType=t,this.mediaTrack=n},nG=function(t,n){this.type=Jq.vl,this.mediaType=t,this.mediaTrack=n},iG=function(t,n){this.type=Jq.Ol,this.mediaType=t,this.mediaTrack=n},eG=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.dNt=function(t){var n=new Kq(e.type,t.track,e.mediaTracks);e.messageDispatcher.lNt(n)},this._Nt=function(t){var n=new tG(e.type,t.track);e.messageDispatcher.lNt(n),t.track.addEventListener("update",e.wNt)},this.gNt=function(t){var n=new nG(e.type,t.track);e.messageDispatcher.lNt(n)},this.wNt=function(t){var n=new iG(e.type,t.track);e.messageDispatcher.lNt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.N1()}return t.prototype.N1=function(){this.mediaTracks.addEventListener("change",this.dNt),this.mediaTracks.addEventListener("addtrack",this._Nt),this.mediaTracks.addEventListener("removetrack",this.gNt)},t}(),rG=function(){function t(){this.yNt=void 0,this.yNt=new uz}return t.prototype.lNt=function(t){this.yNt.IZ(t.type,iV(t))},t}();LS(function(t){if(t._l.audioTracks){var n=new rG;new eG("audio",t._l.audioTracks,n)}if(t._l.videoTracks){var i=new rG;new eG("video",t._l.videoTracks,i)}});var sG,uG,oG=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case sG.mNt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.jo(new hG(i));break;default:0}},n}(FV),hG=function(t){function n(n){var i;return(i=t.call(this,sG.mNt)||this).detail=n,i}return U(n,t),n}(Ds);!function(t){t.mNt="registerContentProtectionIntegration"}(sG||(sG={})),function(t){t.pNt="certifiateRequest",t.kNt="certifiateResponse",t.ANt="licenseRequest",t.bNt="licenseResponse",t.TNt="extractFairplayContentId",t.SNt="buildContentProtection",t.ENt="registerContentProtectionCallback"}(uG||(uG={}));var aG,cG=function(t,n){this.type=uG.ENt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(aG||(aG={}));var fG,vG=function(t,n){this.type=uG.SNt,this.value=t,this.integrationId=n},dG=function(t,n){this.type=uG.pNt,this.value=t,this.integrationId=n},lG=function(t,n){this.type=uG.kNt,this.value=t,this.integrationId=n},_G=function(t,n){this.type=uG.TNt,this.value=t,this.integrationId=n},wG=function(t,n){this.type=uG.ANt,this.value=t,this.integrationId=n},gG=function(t,n){this.type=uG.bNt,this.value=t,this.integrationId=n},yG=function(){function t(t,n){this.RNt=void 0,this.eS=void 0,this.RNt=t,this.eS=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r=new dG(e,this.eS),t.prev=2,t.next=5,this.RNt.INt(r);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.NNt(u)){t.next=13;break}return o=nr({},u),t.abrupt("return",o);case 13:if(!this.DNt(u)){t.next=16;break}return h=new y(u),t.abrupt("return",h);case 16:throw new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s,u,o;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new lG(r,this.eS),t.next=5,this.RNt.INt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new y(o));case 11:throw new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s,u,o,h,a;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new wG(r,this.eS),t.prev=3,t.next=6,this.RNt.INt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.NNt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.DNt(o)){t.next=17;break}return a=new y(o),t.abrupt("return",a);case 17:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new S_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine(tr.mark(function t(i){var e,r,s,u,o,h;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r=nr({},e,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new gG(s,this.eS),t.next=6,this.RNt.INt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new y(h));case 12:throw new S_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine(tr.mark(function t(i){var e,r;return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _G(i,this.eS),t.next=3,this.RNt.INt(e);case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:return t.abrupt("return",T.reject(new S_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.NNt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.DNt=function(t){return!!new y(t)},t}(),mG=function(){function t(t){this.RNt=void 0,this.RNt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new yG(this.RNt,t.integration),i=new vG({drmConfiguration:t},t.integration);return this.RNt.INt(i),n},t}(),pG=function(){var t=this;this.qpt=void 0,this.CNt=function(n){var i=new mG(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:xm.aS.sS(r,s,i)};t.messageDispatcher.INt(new cG(u,r))},this.qpt=new oG,PV().contentProtectionIntegration={sdkEventBus:this.qpt},this.qpt.addEventListener(sG.mNt,this.CNt)},kG="nativePromiseCallback",AG=function(t){function n(n){var i;return(i=t.call(this,kG)||this).detail=n,i}return U(n,t),n}(Ds);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(fG||(fG={}));var bG=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.jo(new AG(n))},i.addEventListener=function(t,n){this.Qo(t,n)},i.removeEventListener=function(t,n){this.$o(t,n)},n}(FV),TG=function(){function t(){var t=this;this.yNt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case fG.RESOLVE:i.Ch(n.detail.data);break;case fG.REJECT:i.xh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new bG;PV().nativePromise={sdkEventBus:n},n.addEventListener(kG,this.handleNativePromiseEvent)}return t.prototype.INt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=nr({},n,{promiseId:e}),s=new $u;return this.promisesMap[e]=s,null==(i=this.yNt)||i.IZ(n.type,tV(r)),s.Dh},t}();TG.messageIdTracker=-1;var SG=function(t){function n(){var n;return(n=t.call(this)||this).yNt=new uz,n}return U(n,t),n}(TG),EG=function(t){function n(){var n;return(n=t.call(this)||this).RNt=new SG,n}return U(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.RNt}}]),n}(pG);LS(function(t){new EG});var RG=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return U(n,t),n}(Ds);var IG,NG=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).xNt=function(){},e.PNt(),e}U(n,t);var i=n.prototype;return i.ONt=function(){this.QR&&this.QR.$o(Ko.ec,this.handleAirplayChangedEvent),this.QR=this.EP,this.QR.Qo(Ko.ec,this.handleAirplayChangedEvent)},i.BNt=function(){var t=T.coroutine(tr.mark(function t(){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.QR){t.next=2;break}return t.abrupt("return");case 2:this.LNt(MA.CONNECTED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.MNt=function(){this.LNt(MA.AVAILABLE)},i.Fw=function(){b.qu.vu&&(this.UNt.Vw(),this.FNt.Fo(),this.FNt=new cs,ks(this.HNt(this.FNt.zo)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).ll=void 0,e.UNt=void 0,e.QR=void 0,e.EP=void 0,e.tf=MA.UNAVAILABLE,e.FNt=new cs,e.xNt=void 0,e.handleAirplayChangedEvent=function(){e.QR&&e.QR.eg?e.BNt():e.x6===MA.CONNECTED&&e.MNt()},e.UNt=n,e.EP=i,e}U(n,t);var i=n.prototype;return i.PNt=function(){this.ONt(),this.UNt.Qo("sourcechange",this.xNt),b.qu.vu&&this.LNt(MA.AVAILABLE)},i.preloadPlayer=function(t){if(ds(t),this.QR.g_<Tl.X_){var n=this.QR.ih("loadedmetadata",t);return this.QR.vg=Qk.Op,n}return T.resolve()},i.LNt=function(t){t!==this.tf&&(this.tf=t,this.jo(new RG(this.tf)))},i.HNt=function(){var t=T.coroutine(tr.mark(function t(n){return tr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.EP.Fw();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hw=function(){b.qu.vu&&this.QR.Hw()},i.Zv=function(){this.Jo(),this.UNt.$o("sourcechange",this.xNt),this.FNt.Fo()},L(n,[{key:"tB",get:function(){return this.x6===MA.CONNECTED}},{key:"x6",get:function(){return this.tf}},{key:"_l",get:function(){var t;return this.ll||(this.ll=(t=this,{get casting(){return t.tB},get state(){return t.x6},start:function(){t.Fw()},stop:function(){t.Hw()},addEventListener:function(n,i){var e=Jd(n,Yd);t.Qo(e,i)},removeEventListener:function(n,i){var e=Jd(n,Yd);t.$o(e,i)}})),this.ll}}]),n}(Is));PS(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.wl=function(){var n=this.JB._l;return Vd(t.prototype.wl.call(this),{get cast(){return n}})},n}(t)},SS.nL),PS(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).VNt=void 0,e.VNt=new NG(sn(e),e.jO),e.JB.KO(e.VNt),e.Qo("currentsourcechange",function(){e.VNt.ONt()}),e}U(n,t);var i=n.prototype;return i.wl=function(){var n=this,i=t.prototype.wl.call(this);return Vd(i.cast,{get airplay(){return n.VNt._l}}),i},i.Zv=function(){this.VNt.Zv(),t.prototype.Zv.call(this)},n}(t)},SS.nL),function(t){t.zNt="airplaystatechange"}(IG||(IG={}));var DG=function(t){this.type=IG.zNt,this.state=t},CG=function(t){function n(n){var i;return(i=t.call(this)||this).XNt=void 0,i.WNt=function(t){var n=new DG(t.state);i.lNt(n)},i.XNt=n,i.N1(n),i}return U(n,t),n.prototype.N1=function(t){t.addEventListener("statechange",this.WNt)},n}(rG);LS(function(t){var n;null!=(n=t._l.cast)&&n.airplay&&new CG(t._l.cast.airplay)}),n.ChromelessPlayer=tE,n.Player=tE,n.cache=Yq,n.createGlobals=LV,n.features=["hls","airplay"],n.getCueMirrorMap=OV,n.getGlobalId=BV,n.getSdkEventBridge=PV,n.playerSuiteVersion="2022.1.2",n.players=eE,n.registerContentProtectionIntegration=rE,n.utils=iE,n.version="3.2.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
