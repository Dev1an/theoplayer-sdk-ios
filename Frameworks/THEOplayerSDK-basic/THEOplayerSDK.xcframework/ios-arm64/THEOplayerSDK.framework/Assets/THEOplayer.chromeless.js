/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.1 (2.88.0)
 Created: 2021-08-31T18:32:11.610Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,s=t.location,u=t.navigator,o=t.setTimeout,h=t.clearTimeout,a=t.setInterval,c=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),p="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,s){n.exports=function t(n,r,e){function s(o,h){if(!r[o]){if(!n[o]){var a="function"==typeof i&&i;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new f("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return s(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var u="function"==typeof i&&i,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new f}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function h(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}h.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},h.prototype.hasCustomScheduler=function(){return this.g},h.prototype.enableTrampoline=function(){this.M=!0},h.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},h.prototype.haveItemsQueued=function(){return this.R||this.B},h.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},h.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(h.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},h.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},h.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(h.prototype.invokeLater=a,h.prototype.invoke=c,h.prototype.settlePromises=v),h.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},h.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},h.prototype.Y=function(){this.R=!1},n.exports=h,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var v=t[c];if(v===f||null!=v&&v.prototype instanceof f){if(h instanceof v)return e(u).call(a,h)}else if("function"==typeof v){var d=e(v).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(v),_=0;_<l.length;++_){var g=l[_];if(v[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,s,u,h=n.Xt,a=n.ct,c=t("./errors").Warning,l=t("./util"),g=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),S=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",s,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=h();s="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=h();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,p=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var r,e=new f;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return h(i,f),i}var d=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(a(this,"message",t.message),a(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,f);var p=f.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(f,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function d(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var v=i(h,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}v.isPending()&&v.rn(new a(this))}return v.J(f,d,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,v=a.tryCatch,l=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(l):l,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=v(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=v(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=v(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=v(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=v(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=_,e=(new f).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function d(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new d(t,i,u,s).promise()}h.inherits(d,i),d.prototype.Hn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},d.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},d.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},d.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new l(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new l("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,l),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var s,u,h,a,c,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=p.setImmediate,_=process.nextTick;s=v.isRecentNode?function(t){l.call(p,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();s=function(t){g.then(t)}}else s="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(u=e.createElement("div"),h={attributes:!0},a=!1,c=e.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,h),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,h),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=s},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){h(this.handle)};var a=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,h;return void 0!==e?(s=n.resolve(e).J(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),h=o(function(){s.En()},+t),r.cancellation()&&s.ot(new u(h)),s.nn()),s.ti(),s};function v(t){return h(this.handle),t}function d(t){throw h(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,h,a=new u(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof f?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,h)},t=+t));return r.cancellation()?(h=this.then(),(i=h.J(v,d,void 0,a,void 0)).ot(a)):i=this.J(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var h=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=h.errorObj,v=h.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+h.classString(s));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=o?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var s,o=n("./es5"),h=void 0===u,a={e:{}},c=void 0!==t?t:void 0!==r?r:void 0!==p?p:void 0!==this?this:null;function v(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var u=0;u<s.length;++u){var h=s[u];if(!e[h]){e[h]=!0;var a=d.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return k(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:E,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{o.defineProperty(n,s,o.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new f}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var E,S=function(){},R=function(t){return t};function I(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&b.sr(r),r=b.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(E=T)&&E.config({warnings:!1,longStackTraces:!1});var N,C,D,O,x,P;E&&(O=E.setScheduler(S),N=O,x={hr:function(t){C=t,N(D)},ar:D=function(){var t=C;t&&(C=void 0,t())}},E.setScheduler(x.hr));function B(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){return(M=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function U(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,M(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(P||(P={}));var F=u?u.userAgent:"",H=F.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),V=F.match(/Android ([0-9\.]+)/i),X=F.match(/Windows NT ([0-9\.]+)/i),W=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),z=F.match(/OPR\/(\d+\.\d+)/i),G=F.match(/Tizen ([0-9\.]+)/i),j=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||u&&u.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.pr=/Windows NT/i.test(F),this.Ar=X?g(X[1]):0,this.Tr=/Android/i.test(F),this.Er=V?g(V[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(F),this.Rr=/iPhone/i.test(F),this.Ir=/iPad/i.test(F),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(F),this.Dr=/Mobile Safari/i.test(F),this.Or=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Dr,this.Pr=/CriOS/i.test(F),this.Br=Boolean(t.chrome&&/google/i.test(u.vendor))||this.Pr,this.Lr=Boolean(t.chrome||/Chrome/i.test(F)||/CriOS/i.test(F)),this.Mr=H?_(H[1],10):0,this.Ur=/SMART-TV.*Tizen/i.test(F),this.Fr=G?g(G[1]):0,this.Hr=/webos|web0s/i.test(F),this.Vr=/Edge\/\d+/i.test(F),this.Xr=/Trident/i.test(F),this.Wr=this.Xr&&!t.ActiveXObject&&"ActiveXObject"in t,this.qr=/Vivaldi/i.test(F),this.zr=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Gr=q?g(q[1]):0,this.jr=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Sr&&!this.Ur,this.Qr=W?g(W[2]):0,this.Yr=Boolean(z),this.Zr=z?g(z[1]):0,this.Jr=/CrKey/.test(F),this.$r=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(F),this.Kr="ios"===P._r,this.te="ios"===P.dr,this.ie=this.te||this.Kr,this.re="ios"===P.gr,this.ee="ios"===P.wr,this.se="ios"===P.yr}return L(n,[{key:"ue",get:function(){return this.mr}},{key:"oe",get:function(){return this.kr}},{key:"he",get:function(){return this.pr}},{key:"ae",get:function(){return this.Ar}},{key:"ce",get:function(){return this.Tr}},{key:"fe",get:function(){return this.Er}},{key:"ve",get:function(){return this.Sr}},{key:"de",get:function(){return this.Rr}},{key:"_e",get:function(){return this.Ir}},{key:"we",get:function(){return this.Nr}},{key:"ye",get:function(){return this.Cr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.Dr}},{key:"pe",get:function(){return this.xr}},{key:"Ae",get:function(){return this.Pr}},{key:"be",get:function(){return this.Br}},{key:"Te",get:function(){return this.Mr}},{key:"Ee",get:function(){return this.Ur}},{key:"Se",get:function(){return this.Fr}},{key:"Re",get:function(){return this.Hr}},{key:"Ie",get:function(){return this.Vr}},{key:"Ne",get:function(){return this.Xr}},{key:"Ce",get:function(){return this.Wr}},{key:"De",get:function(){return this.qr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.Gr}},{key:"Pe",get:function(){return this.jr}},{key:"Be",get:function(){return this.Qr}},{key:"Le",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Zr}},{key:"Ue",get:function(){return this.Jr}},{key:"Fe",get:function(){return this.$r}},{key:"He",get:function(){return this.Kr}},{key:"Ve",get:function(){return this.te}},{key:"Xe",get:function(){return this.ie}},{key:"We",get:function(){return this.re}},{key:"qe",get:function(){return this.ee}},{key:"ze",get:function(){return this.se}},{key:"Ge",get:function(){return this.Lr}}]),n}();j.je=new j;var Q=j.je,Y={}.hasOwnProperty,Z={}.toString;function J(t){return null!=t}var $=Array.isArray||function(t){return"[object Array]"===Z.call(t)};function K(t){return tt(t)&&Y.call(t,"length")&&ut(t.length)}function tt(t){return"object"==typeof t&&null!==t}function nt(t){return tt(t)&&t.constructor&&t.constructor===d}function it(t){return"string"==typeof t}function rt(t){return"boolean"==typeof t}function et(t){return Boolean(t)&&"function"==typeof t.then}function st(t){return"[object Date]"===Z.call(t)}function ut(t){return"number"==typeof t}var ot=!(Q.Ne&&!Q.Ce),ht=t.console;function at(t){if(tt(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(at).join(" ")}function ft(t){var n=ht&&ht[t];return n?n.bind&&ot?n.bind(ht):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ht[t](ct(i))}:void 0}var vt,dt=ft("log")||S,lt=ft("warn")||dt.bind(void 0,"WARNING:"),_t=ft("error")||dt.bind(void 0,"ERROR:"),gt=(vt=ht&&ht.assert)?vt.bind&&ot?vt.bind(ht):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ht.assert(t,ct(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];_t.apply(void 0,["Assertion failed:"].concat(i))}},wt=mt,yt=null;try{yt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function mt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function kt(t){return!0===(t&&t.Qe)}mt.prototype.Qe,d.defineProperty(mt.prototype,"Qe",{value:!0}),mt.isLong=kt;var pt={},At={};function bt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=At[t])?r:(i=Et(t,(0|t)<0?-1:0,!0),e&&(At[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=pt[t])?r:(i=Et(t,t<0?-1:0,!1),e&&(pt[t]=i),i)}function Tt(t,n){if(w(t))return n?Pt:xt;if(n){if(t<0)return Pt;if(t>=Ct)return Ft}else{if(t<=-Dt)return Ht;if(t+1>=Dt)return Ut}return t<0?Tt(-t,n).neg():Et(t%Nt|0,t/Nt|0,n)}function Et(t,n,i){return new mt(t,n,i)}mt.fromInt=bt,mt.fromNumber=Tt,mt.fromBits=Et;var St=l.pow;function Rt(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return xt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return Rt(t.substring(1),n,i).neg();for(var e=Tt(St(i,8)),s=xt,u=0;u<t.length;u+=8){var o=l.min(8,t.length-u),h=_(t.substring(u,u+o),i);if(o<8){var a=Tt(St(i,o));s=s.mul(a).add(Tt(h))}else s=(s=s.mul(e)).add(Tt(h))}return s.unsigned=n,s}function It(t,n){return"number"==typeof t?Tt(t,n):"string"==typeof t?Rt(t,n):Et(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}mt.fromString=Rt,mt.fromValue=It;var Nt=4294967296,Ct=Nt*Nt,Dt=Ct/2,Ot=bt(1<<24),xt=bt(0);mt.ZERO=xt;var Pt=bt(0,!0);mt.UZERO=Pt;var Bt=bt(1);mt.ONE=Bt;var Lt=bt(1,!0);mt.UONE=Lt;var Mt=bt(-1);mt.NEG_ONE=Mt;var Ut=Et(-1,2147483647,!1);mt.MAX_VALUE=Ut;var Ft=Et(-1,-1,!0);mt.MAX_UNSIGNED_VALUE=Ft;var Ht=Et(0,-2147483648,!1);mt.MIN_VALUE=Ht;var Vt=mt.prototype;Vt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Vt.toNumber=function(){return this.unsigned?(this.high>>>0)*Nt+(this.low>>>0):this.high*Nt+(this.low>>>0)},Vt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ht)){var n=Tt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Tt(St(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Vt.getHighBits=function(){return this.high},Vt.getHighBitsUnsigned=function(){return this.high>>>0},Vt.getLowBits=function(){return this.low},Vt.getLowBitsUnsigned=function(){return this.low>>>0},Vt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ht)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Vt.isZero=function(){return 0===this.high&&0===this.low},Vt.eqz=Vt.isZero,Vt.isNegative=function(){return!this.unsigned&&this.high<0},Vt.isPositive=function(){return this.unsigned||this.high>=0},Vt.isOdd=function(){return 1==(1&this.low)},Vt.isEven=function(){return 0==(1&this.low)},Vt.equals=function(t){return kt(t)||(t=It(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Vt.eq=Vt.equals,Vt.notEquals=function(t){return!this.eq(t)},Vt.neq=Vt.notEquals,Vt.ne=Vt.notEquals,Vt.lessThan=function(t){return this.comp(t)<0},Vt.lt=Vt.lessThan,Vt.lessThanOrEqual=function(t){return this.comp(t)<=0},Vt.lte=Vt.lessThanOrEqual,Vt.le=Vt.lessThanOrEqual,Vt.greaterThan=function(t){return this.comp(t)>0},Vt.gt=Vt.greaterThan,Vt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Vt.gte=Vt.greaterThanOrEqual,Vt.ge=Vt.greaterThanOrEqual,Vt.compare=function(t){if(kt(t)||(t=It(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Vt.comp=Vt.compare,Vt.negate=function(){return!this.unsigned&&this.eq(Ht)?Ht:this.not().add(Bt)},Vt.neg=Vt.negate,Vt.add=function(t){kt(t)||(t=It(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,Et((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Vt.subtract=function(t){return kt(t)||(t=It(t)),this.add(t.neg())},Vt.sub=Vt.subtract,Vt.multiply=function(t){if(this.isZero())return xt;if(kt(t)||(t=It(t)),yt)return Et(yt.mul(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned);if(t.isZero())return xt;if(this.eq(Ht))return t.isOdd()?Ht:xt;if(t.eq(Ht))return this.isOdd()?Ht:xt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ot)&&t.lt(Ot))return Tt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,Et((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Vt.mul=Vt.multiply,Vt.divide=function(t){if(kt(t)||(t=It(t)),t.isZero())throw f("division by zero");var n,i,r;if(yt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Et((this.unsigned?yt.div_u:yt.div_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Pt:xt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Pt;if(t.gt(this.shru(1)))return Lt;r=Pt}else{if(this.eq(Ht))return t.eq(Bt)||t.eq(Mt)?Ht:t.eq(Ht)?Bt:(n=this.shr(1).div(t).shl(1)).eq(xt)?t.isNegative()?Bt:Mt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ht))return this.unsigned?Pt:xt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=xt}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),s=e<=48?1:St(2,e-48),u=Tt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Tt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Bt),r=r.add(u),i=i.sub(o)}return r},Vt.div=Vt.divide,Vt.modulo=function(t){return kt(t)||(t=It(t)),yt?Et((this.unsigned?yt.rem_u:yt.rem_s)(this.low,this.high,t.low,t.high),yt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Vt.mod=Vt.modulo,Vt.rem=Vt.modulo,Vt.not=function(){return Et(~this.low,~this.high,this.unsigned)},Vt.and=function(t){return kt(t)||(t=It(t)),Et(this.low&t.low,this.high&t.high,this.unsigned)},Vt.or=function(t){return kt(t)||(t=It(t)),Et(this.low|t.low,this.high|t.high,this.unsigned)},Vt.xor=function(t){return kt(t)||(t=It(t)),Et(this.low^t.low,this.high^t.high,this.unsigned)},Vt.shiftLeft=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Et(0,this.low<<t-32,this.unsigned)},Vt.shl=Vt.shiftLeft,Vt.shiftRight=function(t){return kt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Et(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Et(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Vt.shr=Vt.shiftRight,Vt.shiftRightUnsigned=function(t){if(kt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Et(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Et(32===t?n:n>>>t-32,0,this.unsigned)},Vt.shru=Vt.shiftRightUnsigned,Vt.shr_u=Vt.shiftRightUnsigned,Vt.toSigned=function(){return this.unsigned?Et(this.low,this.high,!1):this},Vt.toUnsigned=function(){return this.unsigned?this:Et(this.low,this.high,!0)},Vt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Vt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Vt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},mt.fromBytes=function(t,n,i){return i?mt.fromBytesLE(t,n):mt.fromBytesBE(t,n)},mt.fromBytesLE=function(t,n){return new mt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},mt.fromBytesBE=function(t,n){return new mt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Xt=wt,Wt=l.pow(2,-52);function qt(t,n,i){return l.min(l.max(t,n),i)}function zt(t,n,i){return t===n||l.abs(t-n)<=i}function Gt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Wt||i<l.max(l.abs(t),l.abs(n))*Wt}function jt(t){return t!=t}function Qt(t,n){return t===n||jt(t)&&jt(n)}function Yt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function Jt(t){return t/1e3}var $t,Kt=Xt.fromNumber(9007199254740991);function tn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Kt))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function nn(t){return t.Ye===$t.Ze}function rn(t){return t.Ye===$t.Je}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ze=1]="Ze",t[t.$e=2]="$e",t[t.Je=3]="Je",t[t.Ke=4]="Ke",t[t.ts=9]="ts"}($t||($t={}));var sn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(sn.prototype=d.create(f.prototype)).constructor=sn;var un=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(en(r),r.constructor),r}return U(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(sn),on=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return U(n,t),n}(un),hn=function(){function t(){}return t.prototype.rs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new on(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new on;return new _n(n)},t}(),an=function(){function t(t){this.es=void 0,this.es=t}var n=t.prototype;return n.ss=function(t){return this.es.isEqualNode(t.es)},n.us=function(n){return new t(this.es.cloneNode(n))},L(t,[{key:"Ye",get:function(){return $t.$e}},{key:"os",get:function(){var t;return null!=(t=this.es.localName)?t:yn(this.es.nodeName)}},{key:"hs",get:function(){return this.es.nodeName}},{key:"as",get:function(){var t;return null!=(t=this.es.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.es.prefix)?t:void 0}},{key:"fs",get:function(){return this.es.nodeValue}}]),t}(),cn=function(){function t(t){this.vs=void 0,this.ds=void 0,this.vs=t}var n=t.prototype;return n.ls=function(t){return this._s.filter(function(n){return gn(n)&&n.gs===t})},n.ys=function(t,n){return this._s.filter(function(i){return gn(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.vs.appendChild(t.ps),this.ds&&this.ds.push(t)},n.ss=function(t){return this.vs.isEqualNode(t.ps)},L(t,[{key:"_s",get:function(){return void 0===this.ds&&(this.ds=function(t){for(var n=[],i=0;i<t.length;i++){var r=wn(t.item(i));r&&n.push(r)}return n}(this.vs.childNodes)),this.ds}},{key:"As",get:function(){return this._s.filter(gn)}},{key:"ps",get:function(){return this.vs}}]),t}(),fn=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.bs=function(t){if(this.vs.hasAttribute(t))return this.vs.getAttribute(t)},i.Ts=function(t,n){if(this.vs.hasAttributeNS(t,n))return this.vs.getAttributeNS(t,n)},i.Es=function(t){this.vs.removeAttribute(t)},i.Ss=function(t,n){this.vs.removeAttributeNS(t,n)},i.Rs=function(t,n){this.vs.setAttribute(t,n)},i.Is=function(t,n,i){this.vs.setAttributeNS(t,n,i)},i.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Ze}},{key:"os",get:function(){var t;return null!=(t=this.vs.localName)?t:yn(this.vs.nodeName)}},{key:"as",get:function(){var t;return null!=(t=this.vs.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.vs.prefix)?t:void 0}},{key:"gs",get:function(){return this.vs.nodeName}},{key:"Ns",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.vs.attributes)}},{key:"Cs",get:function(){return this.vs.textContent}}]),n}(cn),vn=function(){function t(t){this.vs=void 0,this.vs=t}return t.prototype.ss=function(t){return this.Ds===t.Ds},L(t,[{key:"Ds",get:function(){return this.vs.nodeValue}},{key:"ps",get:function(){return this.vs}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Je}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.Ke}}]),n}(vn),_n=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},L(n,[{key:"Ye",get:function(){return $t.ts}},{key:"Os",get:function(){return new fn(this.vs.documentElement)}}]),n}(cn);function gn(t){return nn(t)}function wn(t){switch(t.nodeType){case $t.Ze:return new fn(t);case $t.Je:return new dn(t);case $t.Ke:return new ln(t)}}function yn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){pn(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&pn(i,null,t.length,t),t}function pn(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var An=/[a-zA-Z]/,bn=/[0-9]/,Tn=/[0-9a-fA-F]/,En=/^0x/i,Sn=/^[0-9]+$/,Rn=/^[0-9a-fA-F]+$/,In=/^[0-7]+$/,Nn=d.prototype.toString,Cn=Array.isArray||function(t){return"[object Array]"===Nn.call(t)},Dn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return Cn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Bn(t){return t>=48&&t<=57}function Ln(t){return Bn(t)||Pn(t)}function Mn(t){return Bn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function Fn(t){return Bn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Hn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Vn=l.min,Xn=String.fromCharCode,Wn=16384;function qn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Vn(r+Wn,n);i.push(Xn.apply(null,t.slice(r,e)))}return i.join("")}var zn=/[^\0-\x7E]/,Gn=/[\x2E\u3002\uFF0E\uFF61]/g,jn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Qn=l.floor,Yn=String.fromCharCode;function Zn(t){throw new RangeError(jn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var $n,Kn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Qn(t/700):t>>1,t+=Qn(t/n);t>455;r+=36)t=Qn(t/35);return Qn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Gn,".")).split("."),n).join(".");return r+e}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Yn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Qn((2147483647-e)/_)&&Zn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Zn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Yn(ni(p+A%b,0))),m=Qn(A/b)}n.push(Yn(ni(m,0))),s=ii(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return qn(n)}function si(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ui(t,n){return t>>n&63|128}function oi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(si(t),n.push(t>>12&15|224),n.push(ui(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ui(t,12)),n.push(ui(t,6))),n.push(63&t|128)):n.push(t)}function hi(t){for(var n=[],i=0;i<t.length;i++){oi(t[i],n)}return n}function ai(){if(ti>=Kn)throw new f("Invalid byte index");var t=255&$n[ti];if(ti++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ci(){var t,n;if(ti>Kn)throw new f("Invalid byte index");if(ti===Kn)return!1;if(t=255&$n[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return si(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function fi(t){return[37,Hn(t>>4),Hn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function _i(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function wi(t){return gi(t)||39===t}function yi(t,n){if(!n(t))return[t];for(var i=hi([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,fi(s))}return r}function mi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var s=e[r];i.push.apply(i,yi(s,n))}return ei(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var s=Fn(t[r+1])<<4|Fn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(hi(t))}function pi(t){return ei(function(t){$n=t.slice(),Kn=$n.length,ti=0;for(var n,i=[];!1!==(n=ci());)i.push(n);return i}(ki(Jn(t))))}function Ai(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new v;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Tn.test(t[a]);)c=c<<4|_(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new v;if(a-=f,o>6)throw new v;for(var d=0;a<s;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!bn.test(t[a]))throw new v;for(;a<s&&bn.test(t[a]);){var g=_(t[a],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}a+=1}u[o]=u[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===s)throw new v}else if(a<s)throw new v;u[o]=c,o+=1}else{if(null!==h)throw new v("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new v;return u}function bi(t){var n=10,i=Sn;return En.test(t)?(t=t.slice(2),n=16,i=Rn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=In),""===t?0:i.test(t)?_(t,n):void 0}var Ti={xs:4},Ei=/[\0\t\n\r #%/:?@\[\\\]]/,Si=/[\0\t\n\r #/:?@\[\\\]]/;function Ri(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{xs:2,Ps:Ai(t.slice(1,-1))}}if(!n)return function(t){if(Si.test(t))throw new v("Invalid code point in opaque host");var n=mi(t,vi);return""===n?Ti:{xs:3,nr:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(pi(t));if(Ei.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=bi(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*l.pow(256,3-h);return o}}(i);return void 0!==r?{xs:1,Ps:r}:""===i?Ti:{xs:0,Bs:i}}function Ii(t){switch(t.xs){case 0:return t.Bs;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ps);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ps)+"]";case 3:return t.nr;case 4:return""}}var Ni=/\+/g;function Ci(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Ni," "),o=o.replace(Ni," ");var h=pi(u),a=pi(o);i.push([h,a])}}return i}function Di(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(hi(Jn(r[0])))+"="+Oi(hi(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Ln(n)?i.push(e):i.push.apply(i,fi(e))}return qn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Li(s))if(Mi(s)||e===i-1)r.push(Bi);else{var u=t.charCodeAt(e+1);Mi(u)?(r.push(s,u),e++):r.push(Bi)}else r.push(s)}return t.slice(0,n)+qn(r)}(n,i.index):n}var Bi=65533,Li=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Fi(t){t.Ls.length=0}function Hi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ls,Ci(n))}function Vi(t){if(t.Ms){var n=Di(t.Ls);""===n&&(n=null),t.Ms.Ms.Us=n}}var Xi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ms=null,null==t)this.Ls=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Xi&&Cn(s.Ls)&&(!Dn||s[Symbol.iterator]===Wi))this.Ls=t.Ls.slice();else if(function(t){return null!=t&&(!!Cn(t)||!!Dn&&"function"==typeof t[Symbol.iterator])}(t)){this.Ls=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Ls.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Ls=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Ls.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ls=Ci(t);var s}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Ls.push([t,n]),Vi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Vi(this)},n.get=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Ls,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Ls,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Ls,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Vi(this)},n.sort=function(){kn(this.Ls,Ui),Vi(this)},n.toString=function(){return Di(this.Ls)},n.entries=function(){return new ji(this.Ls,qi)},n.keys=function(){return new ji(this.Ls,zi)},n.values=function(){return new ji(this.Ls,Gi)},n.forEach=function(t){var n=this;this.Ls.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=Xi.prototype.entries;Dn&&(Xi.prototype[Symbol.iterator]=Wi);var qi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},Gi=function(t){return t[1]},ji=function(){function t(t,n){this.Fs=0,this.Ls=t,this.Hs=n}return t.prototype.next=function(){return this.Fs<this.Ls.length?{done:!1,value:this.Hs(this.Ls[this.Fs++])}:{done:!0,value:void 0}},t}(),Qi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Zi=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function $i(t){return Zi.test(t)}function Ki(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.Vs)}function ir(t){return""!==t.Xs||""!==t.Ws}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!sr(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&An.test(t[0])&&(":"===t[1]||"|"===t[1])}function sr(t){return 2===t.length&&er(qn(t))}function ur(t){return er(t)&&":"===t[1]}function or(t){var n=t.qs;0!==n.length&&("file"===t.Vs&&1===n.length&&ur(n[0])||n.pop())}function hr(t){return null===t.zs||Ti===t.zs||t.Gs||"file"===t.Vs}var ar=-1,cr=/\t|\n|\r/g,fr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(fr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=Jn(t=t.replace(cr,"")),c=a.length,f=0;f<=c;){var d=f<c?a[f]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){s.length=0,e=2;continue}throw new v("Invalid scheme")}s.push(Un(d)),e=1;break;case 1:if(Ln(d)||43===d||45===d||46===d)s.push(Un(d));else{if(58!==d){if(null===r){s.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=ei(s);if(null!==r){if(tr(i.Vs)&&!tr(l))return;if(!tr(i.Vs)&&tr(l))return;if((ir(i)||null!==i.js)&&"file"===l)return;if("file"===i.Vs&&(i.zs===Ti||null===i.zs))return}if(i.Vs=l,null!==r)return void(nr(i)&&i.js===Yi[i.Vs]&&(i.js=null));s.length=0,"file"===i.Vs?e=13:nr(i)&&n&&n.Vs===i.Vs?e=3:nr(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Gs=!0,i.qs.push(""),e=18)}break;case 2:if(!n||n.Gs&&35!==d)throw new v("Invalid scheme");n.Gs&&35===d?(i.Vs=n.Vs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",i.Gs=!0,e=20):"file"!==n.Vs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.Vs=n.Vs,ar===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us):47===d?e=6:63===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us="",e=19):35===d?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):92===d&&nr(i)?e=6:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.qs.pop(),e=17,f-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){u&&s.unshift(37,52,48),u=!0;for(var g=0;g<s.length;g++){var w=s[g];if(58!==w||h){var y=ei(yi(w,_i));h?i.Ws+=y:i.Xs+=y}else h=!0}s.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(u&&0===s.length)throw new v("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Vs)f-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(f-=1,nr(i)&&0===s.length)throw new v("Invalid host");if(null!==r&&0===s.length&&(ir(i)||null!==i.js))return;var m=Ri(ei(s),nr(i));if(i.zs=m,s.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),s.push(d);else{if(0===s.length)throw new v("Invalid host");var k=Ri(ei(s),nr(i));if(i.zs=k,s.length=0,e=12,11===r)return}break;case 12:if(Bn(d))s.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==s.length){var p=_(ei(s),10);if(p>65535)throw new v("Invalid port");i.js=p===Yi[i.Vs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Vs="file",47===d||92===d?e=14:n&&"file"===n.Vs?ar===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us):63===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us="",e=19):35===d?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):(rr(a.slice(f))||(i.zs=n.zs,i.qs=n.qs.slice(),or(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Vs&&!rr(a.slice(f))&&(ur(n.qs[0])?i.qs.push(n.qs[0]):i.zs=n.zs),e=17,f-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&sr(s))e=17;else if(0===s.length){if(i.zs=Ti,null!==r)return;e=16}else{var A=Ri(ei(s),nr(i));if(0===A.xs&&"localhost"===A.Bs&&(A=Ti),i.zs=A,null!==r)return;s.length=0,e=16}else s.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.Us="",e=19):null===r&&35===d?(i.Qs="",e=20):ar!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var b=ei(s);if(Ki(b)?(or(i),47===d||nr(i)&&92===d||i.qs.push("")):!$i(b)||47===d||nr(i)&&92===d?$i(b)||("file"===i.Vs&&0===i.qs.length&&sr(s)&&(Ti!==i.zs&&null!==i.zs&&(i.zs=Ti),s[1]=58,b=ei(s)),i.qs.push(b)):i.qs.push(""),s.length=0,"file"===i.Vs&&(ar===d||63===d||35===d))for(;i.qs.length>1&&""===i.qs[0];)i.qs.shift();63===d?(i.Us="",e=19):35===d&&(i.Qs="",e=20)}else s.push.apply(s,yi(d,li));break;case 18:63===d?(i.Us="",e=19):35===d?(i.Qs="",e=20):ar!==d&&(i.qs[0]+=ei(yi(d,vi)));break;case 19:null===r&&35===d?(i.Qs="",e=20):ar!==d&&(i.Us+=ei(yi(d,nr(i)?wi:gi)));break;case 20:ar===d||0===d||(i.Qs+=ei(yi(d,di)))}f++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.Vs="",this.Xs="",this.Ws="",this.zs=null,this.js=null,this.qs=[],this.Us=null,this.Qs=null,this.Gs=!1};function _r(t){switch(t.Vs){case"blob":var n;try{n=vr(t.qs[0],null)}catch(t){return Qi}return _r(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Vs,r=t.zs,e=t.js,i+"://"+Ii(r)+(null===e?"":":"+e);case"file":default:return Qi}var i,r,e}var gr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof gr&&"object"==typeof i.Ms)e=n.Ms;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var s=r.Us;this.Ms=r,this.Us=function(t){var n=new Xi;return null!==t&&Hi(n,t),n}(s),this.Us.Ms=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Vs+":";if(null!==t.zs?(i+="//",ir(t)&&(i+=t.Xs,""!==t.Ws&&(i+=":"+t.Ws),i+="@"),i+=Ii(t.zs),null!==t.js&&(i+=":"+t.js)):null===t.zs&&"file"===t.Vs&&(i+="//"),t.Gs)i+=t.qs[0];else for(var r=0,e=t.qs;r<e.length;r++)i+="/"+e[r];return null!==t.Us&&(i+="?"+t.Us),n||null===t.Qs||(i+="#"+t.Qs),i}(this.Ms)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Ms=n,Fi(this.Us);var i=this.Ms.Us;null!==i&&Hi(this.Us,i)}},{key:"origin",get:function(){return _r(this.Ms)}},{key:"protocol",get:function(){return this.Ms.Vs+":"},set:function(t){dr(t+":",null,this.Ms,0)}},{key:"username",get:function(){return this.Ms.Xs},set:function(t){hr(this.Ms)||(this.Ms.Xs=mi(t,_i))}},{key:"password",get:function(){return this.Ms.Ws},set:function(t){hr(this.Ms)||(this.Ms.Ws=mi(t,_i))}},{key:"host",get:function(){var t=this.Ms,n=t.zs;if(null===n)return"";var i=t.js,r=Ii(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ms.Gs||dr(t,null,this.Ms,10)}},{key:"hostname",get:function(){var t=this.Ms.zs;return null===t?"":Ii(t)},set:function(t){this.Ms.Gs||dr(t,null,this.Ms,11)}},{key:"port",get:function(){var t=this.Ms.js;return null===t?"":""+t},set:function(t){hr(this.Ms)||(""===t?this.Ms.js=null:dr(t,null,this.Ms,12))}},{key:"pathname",get:function(){var t=this.Ms.qs;return this.Ms.Gs?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ms.Gs||(this.Ms.qs.length=0,dr(t,null,this.Ms,16))}},{key:"search",get:function(){var t=this.Ms.Us;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Ms;if(""===t)return n.Us=null,void Fi(this.Us);"?"===t[0]&&(t=t.slice(1)),n.Us="",dr(t,null,n,19),Hi(this.Us,t)}},{key:"searchParams",get:function(){return this.Us}},{key:"hash",get:function(){var t=this.Ms.Qs;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ms.Qs="",dr(t,null,this.Ms,20)):this.Ms.Qs=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function wr(t,n,i){return t.split(n).join(i)}function yr(t,n){return null!=t&&-1!==t.indexOf(n)}function mr(t,n){return null!=t&&t.substr(0,n.length)===n}function kr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function pr(t,n){return t.toUpperCase()===n.toUpperCase()}function Ar(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function br(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Ar(r,e/r.length)),r.slice(0,e)+t)}function Tr(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Sr(n)}var Er=16384;function Sr(t){var n=t.length;if(n<=Er)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Er)i.push(String.fromCharCode.apply(String,t.slice(r,r+Er)));return i.join("")}function Rr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Ir(t,n){var i=b.Ys(t);return n&&!kr(i,"/")&&(i+="/"),i}var Nr,Cr,Dr,Or,xr,Pr,Br,Lr=/cache:(.+)?(?=&|$)/,Mr="http://webcache.googleusercontent.com/search?q=cache:";function Ur(t){if(!mr(t,Mr))return"";var n=b.Zs(t).search.match(Lr);return n&&n.length>1?n[1]:""}function Fr(t){return b.Zs(t).hostname}function Hr(t){return t.document&&t.document.baseURI||t.location.href||""}function Vr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Xr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Wr(t,n){Q.Ee&&Q.Se<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function qr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function zr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Gr(t){t.removeAttribute("title")}function jr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Qr(t){t.src&&(t.removeAttribute("src"),t.load())}function Yr(){return void 0!==e?e.createElement("video"):void 0}function Zr(){return Br||(Br=Yr()),Br}var Jr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!u||!u.msMaxTouchPoints),$r=Zr(),Kr=!(!$r||!$r.webkitShowPlaybackTargetPicker),te=function(){function t(){this.Js=void 0,this.$s=!1,this.ue=Jr,this.pe=!1,this.Ks=!0}var n=t.prototype;return n.tu=function(){return 0},n.nu=function(t,n){return!0},n.iu=function(t){return t>=1/6*2},L(t,[{key:"ru",get:function(){return void 0===this.Js&&(this.Js=this.tu()),this.Js}},{key:"eu",get:function(){return r.devicePixelRatio||1}},{key:"su",get:function(){return Kr}},{key:"uu",get:function(){return!1}},{key:"ou",get:function(){return!0}},{key:"hu",get:function(){return Q.Pe}},{key:"au",get:function(){return!0}}]),t}(),ne=function(){var t=Yr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Q.we)return!1;var t=Yr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ie=function(t){function n(n){var i;return(i=t.call(this)||this).cu=void 0,i.cu=n,i.cu&&(i.$s=i.cu.$s,i.ue=i.cu.ue,i.Ks=ne&&i.cu.Ks),i}U(n,t);var i=n.prototype;return i.tu=function(){return this.cu?this.cu.ru:t.prototype.tu.call(this)},i.nu=function(n,i){return this.cu?this.cu.nu(n,i):t.prototype.nu.call(this,n,i)},i.iu=function(n){return this.cu?this.cu.iu(n):t.prototype.iu.call(this,n)},n}(te),re=function(t){function n(n){var i;return(i=t.call(this,n)||this).$s=!0,i.pe=!0,i}return U(n,t),n}(ie),ee=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.tu=function(){return Or.MediaSource?t.prototype.tu.call(this):1},n}(re),se=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.nu=function(n,i){return!(i.fu>1920)&&t.prototype.nu.call(this,n,i)},L(n,[{key:"uu",get:function(){return Q.Se<3}},{key:"ou",get:function(){return Q.Se>=3}}]),n}(ie),ue=function(t){function n(){return t.call(this)||this}return U(n,t),n}(te),oe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.nu=function(t,n){if(t&&t.vu&&n&&n.vu){var i=he(t.vu,"mp4a.40.2")&&he(n.vu,"mp4a.40.5"),r=he(t.vu,"mp4a.40.5")&&he(n.vu,"mp4a.40.2"),e=he(t.vu,"mp4a.40.2")&&he(n.vu,"mp4a.40.34"),s=he(t.vu,"mp4a.40.34")&&he(n.vu,"mp4a.40.2"),u=he(t.vu,"mp4a.40.5")&&he(n.vu,"mp4a.40.34"),o=he(t.vu,"mp4a.40.34")&&he(n.vu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},n}(ue);function he(t,n){return t.indexOf(n)>-1}var ae=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.iu=function(t){return t>=2},n}(ue),ce=function(t){function n(){var n;return(n=t.call(this)||this).$s=Q.Be>=11,n.Ks=Q.Pe&&!(Q.me&&Q.Be<10),n}return U(n,t),n}(ue),fe=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),L(n,[{key:"au",get:function(){return!1}}]),n}(ie),ve=function(){function n(){var n;this.du=void 0,this.lu=new hn,this._u=new de,this.gu=(n=function(){if(Q.Oe)return new oe;if(Q.Ie||Q.Ne)return new ae;if(Q.Pe)return new ce;return new ue}(),Q.me?new ee(n):Q.pe?new re(n):Q.Ee?new se(n):Q.Re?new fe(n):new ie(n)),this.wu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.du=function(){return t.performance.now()}:this.du=Zt}var i=n.prototype;return i.yu=function(){dt.apply(void 0,arguments)},i.mu=function(){lt.apply(void 0,arguments)},i.ku=function(){_t.apply(void 0,arguments)},i.pu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return o(t,n)},i.Au=function(t,n){return a(t,n)},i.sr=function(t){h(t)},i.bu=function(t){c(t)},i.rs=function(t){return this.lu.rs(t)},i.Tu=function(){return this.Eu.Tu()},i.Su=function(){return this.Eu.Su()},i.Ru=function(){return this.Eu.Ru()},i.Iu=function(){return this.Eu.Iu()},i.Nu=function(){return this.Eu.Nu()},i.Cu=function(t,n){return this.Eu.Cu(t,n)},i.Du=function(t){return this.Eu.Du(t)},i.Zs=function(t,n){return void 0===n&&(n=Hr(Or)),new gr(t,n)},i.Ys=function(n,i){if(void 0===i&&(i=Hr(Or)),this.wu){var r=it(i)?i:i.toString();return new t.URL(n,r).href}return this.Zs(n,i).href},L(n,[{key:"Ou",get:function(){return this._u}},{key:"xu",get:function(){return this.gu}},{key:"Pu",get:function(){return{Bu:u&&u.userAgent.match(/Android /i)?"Android":"other",Lu:Boolean(u&&u.userAgent.match(/Android 8.0.0/i))}}},{key:"Mu",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),de=function(){function t(){}return L(t,[{key:"Uu",get:function(){return u.oscpu}},{key:"xu",get:function(){return u.platform}},{key:"Fu",get:function(){return u.vendor}},{key:"Hu",get:function(){return u.vendorSub}}]),t}();var le=A(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=d.create(e.prototype),u=new D(r||[]);return s.Vu=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new f("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.Xu=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:l,h.arg===y)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",l="suspendedYield",_="executing",g="completed",y={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=d.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Vu(n,t)}})}function R(t){var n;this.Vu=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"Wu")?Promise.resolve(c.Wu).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,y;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):s:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{Wu:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Xu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new f("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,y):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new f("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function _e(){return(_e=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ge(){var t=d.create(null);return t.qu=void 0,delete t.qu,t}function we(){return new Ae}function ye(){return new Te}function me(t){var n=we();for(var i in t)Y.call(t,i)&&n.set(i,t[i]);return n}var ke,pe="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ae=pe||(ke=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ge(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ge(),this.size=0},n.keys=function(){return new ke(this.data,function(t,n){return n})},n.values=function(){return new ke(this.data,function(t,n){return t[n]})},n.entries=function(){return new ke(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var be,Te=pe||(be=function(){function t(t,n){this.zu=void 0,this.Gu=void 0,this.zu=t,this.Gu=n}var n=t.prototype;return n.next=function(){var t=this.zu.next();return t.done?t:{value:this.Gu(t.value),done:!1}},t}(),function(){function t(){this.ju=we()}var n=t.prototype;return n.get=function(t){return this.ju.get(""+t)},n.set=function(t,n){return this.ju.set(""+t,n),this},n.has=function(t){return this.ju.has(""+t)},n.delete=function(t){return this.ju.delete(""+t)},n.clear=function(){this.ju.clear()},n.keys=function(){return new be(this.ju.keys(),function(t){return Number(t)})},n.values=function(){return this.ju.values()},n.entries=function(){return new be(this.ju.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.ju.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.ju.size}}]),t}());var Ee,Se="urn:mpeg:dash:mp4protection:2011",Re="cenc",Ie="sinf",Ne="skd",Ce="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",De="com.microsoft.playready",Oe="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",xe="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Pe="urn:uuid:"+xe,Be="com.apple.fps.1_0";!function(t){t.Qu="playready",t.Yu="widevine",t.Zu="fairplay",t.Ju="clearkey",t.$u="aes128"}(Ee||(Ee={}));var Le={Ku:Ee.Qu,to:De,io:"cenc",ro:"9a04f079-9840-4286-ab92-e65be0885f95",eo:Ce,so:"PlayReady"},Me={Ku:Ee.Yu,to:"com.widevine.alpha",io:"cenc",ro:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",eo:Oe,so:"Widevine"},Ue={Ku:Ee.Zu,to:Be,io:"skd",ro:xe,eo:Pe,so:"FairPlay"},Fe=(Ee.Zu,{Ku:Ee.Ju,to:"org.w3.clearkey",io:"cenc",ro:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",eo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",so:"ClearKey"}),He=[Le,Me,Ue,Fe];function Ve(t){return He.filter(function(n){return n.eo===t.toLowerCase()})}var Xe=Q.be&&Q.Te>=42||Q.Oe&&Q.xe>=38||Q.Ie||Q.Ce||Q.Le&&Q.Me>=29;function We(t,n){return yr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[_e({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[_e({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function qe(){return void 0!==u&&"function"==typeof u.requestMediaKeySystemAccess}function ze(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ge=function(){function t(t){this.uo=void 0,this.oo=we(),this.ho=void 0,this.uo=t}var n=t.prototype;return n.Nu=function(){return this.Du(Me)},n.Su=function(){return this.Du(Fe)},n.Iu=function(){return this.Du(Le)},n.Ru=function(){return this.Du(Ue)},n.Du=function(t){var n=t.eo,i=this.oo.get(n);if(i)return i;var r=this.Cu(t,'video/mp4; codecs="avc1.42000a"');return this.oo.set(n,r),r},n.Cu=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.uo.ao(n.to,[We(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.uo.ao(n.to,[We(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Tu=function(){return this.ho||(this.ho=this.co()),this.ho},n.co=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==xr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Xe){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Su();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function je(t,n){return Ye(t.slice(),n)}function Qe(t,n){var i=Ye(t,n);return i!==t&&Ze(i,void 0,t.length,t),t}function Ye(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){Ze(i,n,s,e);var u=i;i=e,e=u}return i}function Ze(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function Je(t,n,i){var r=$e(t,n,i);return-1===r?void 0:t[r]}function $e(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Ke(t,n){var i=t.indexOf(n);return-1!==i&&(ts(t,i),!0)}function ts(t,n){t.splice(n,1)}function ns(t,n){return-1!==t.indexOf(n)}function is(t,n){for(var i=0;i<n.length;i++){if(!ns(t,n[i]))return!1}return!0}function rs(t){t.length=0}function es(t){var n;return(n=[]).concat.apply(n,t)}function ss(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}var us=function(){function t(){this.fo=!1,this.vo=!1,this.do=[],this.lo=[]}var n=t.prototype;return n._o=function(){if(!this.fo&&!this.vo){this.fo=!0;for(var t=0,n=this.do.slice();t<n.length;t++){(0,n[t])()}this.wo()}},n.wo=function(){if(!this.vo){this.vo=!0;for(var t=0,n=this.lo.slice();t<n.length;t++){(0,n[t])()}rs(this.do),rs(this.lo)}},n.yo=function(t){this.vo||this.do.push(t)},n.mo=function(t){this.vo||Ke(this.do,t)},n.ko=function(t){this.vo||this.lo.push(t)},n.po=function(t){this.vo||Ke(this.lo,t)},t}(),os=function(){function t(){this.Ao=new us}var n=t.prototype;return n.bo=function(){this.Ao._o()},n.wo=function(){this.Ao.wo()},n.To=function(t){var n=this.Ao;if(!n.fo)if(t.fo)n._o();else if(!n.vo&&!t.vo){var i=function(){r(),n._o()},r=function r(){t.mo(i),t.po(r),n.mo(i),n.po(r)};t.yo(i),t.ko(r),n.yo(i),n.ko(r)}},n.Eo=function(){var n=new t,i=new t,r=n.So,e=i.So,s=this.Ao,u=function(){r.fo&&e.vo||e.fo&&r.vo?s._o():r.vo&&e.vo&&s.wo()};r.yo(u),e.yo(u),r.ko(u),e.ko(u),n.To(s),i.To(s);return s.ko(function(){r.mo(u),e.mo(u),r.po(u),e.po(u)}),[n,i]},L(t,[{key:"So",get:function(){return this.Ao}}]),t}(),hs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(un);function as(t){return t instanceof f&&"AbortError"===t.name}function cs(t){if(t&&t.fo)throw new hs}function fs(t){if(as(t))throw t}function vs(t){if(!as(t))throw t}function ds(t,n){return n?new T(function(i,r){if(n.fo)return t.catch(S),r(new hs);var e=function t(){n.mo(t),r(new hs)};n.yo(e),t.then(function(t){n.mo(e),i(t)},function(t){n.mo(e),r(t)})}):t}function ls(t,n){return t.then(function(t){return n.wo(),t},function(t){throw n.wo(),t})}function _s(t,n){var i=new os;return n&&i.To(n),t(i.So).then(function(t){return i.bo(),t},function(t){throw i.bo(),t})}var gs=T.resolve();function ws(t){gs.then(t)}function ys(t){t.then(S,S)}function ms(t){return ks.apply(this,arguments)}function ks(){return(ks=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(S)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ps(t,n){return new T(function(i,r){if(void 0!==n&&n.fo)r(new hs);else{var e=b.ur(function(){void 0!==n&&n.mo(s),i()},t),s=function(){b.sr(e),r(new hs)};void 0!==n&&n.yo(s)}})}function As(t,n){var i=new os;return T.race([t,ps(n,i.So).then(function(){throw new f("Timeout")})]).then(function(t){return i.bo(),t},function(t){throw i.bo(),t})}function bs(t){return t&&"function"!=typeof t?t.slice():t}function Ts(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Es,Ss=function(){function t(t){var n=this;this.Ro=ge(),this.Io=void 0,this.No=void 0,this.Co=function(t){n.Do(t)},this.No=t||this}var n=t.prototype;return n.Oo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.xo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.xo(r,n)}},n.xo=function(t,n){var i=this.Ro[t];i?"function"==typeof i?this.Ro[t]=[i,n]:i.push(n):this.Ro[t]=n},n.Po=function(t){if("function"==typeof t){var n=this.Io;n?"function"==typeof n?this.Io=[n,t]:n.push(t):this.Io=t}},n.Bo=function(){this.Ro=ge(),this.Io=void 0},n.Do=function(t){var n=bs(this.Ro[t.type]),i=bs(this.Io);Ts(this.No,t,n),Ts(this.No,t,i)},n.Lo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Mo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Mo(r,n)}},n.Mo=function(t,n){var i=this.Ro[t];i&&("function"==typeof i?i===n&&(this.Ro[t]=void 0):Ke(i,n))},n.Uo=function(t){if("string"==typeof t)this.Ro[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ro[i]=void 0}},n.Fo=function(t){var n=this.Io;n&&("function"==typeof n?n===t&&(this.Io=void 0):Ke(n,t))},n.Ho=function(t,n){var i=this;return new T(function(r,e){if(n&&n.fo)return e(new hs);var s=function(t){o(),r(t)},u=function(){o(),e(new hs)},o=function(){i.Lo(t,s),n&&n.mo(u)};i.Oo(t,s),n&&n.yo(u)})},t}(),Rs=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.Do=function(n){var i=this;ws(function(){t.prototype.Do.call(i,n)})},n}(Ss),Is=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ns=["cenc"],Cs=["cbcs","cbcs-1-9"],Ds=function(t){function n(n){var i;return(i=t.call(this,"Xo")||this).Vo=n,i}return U(n,t),n}(Is),Os=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"Wo")||this).Vo=n,s.qo=i,s.Wo=r,s.zo=e,s}return U(n,t),n}(Is),xs=function(t){function n(){return t.call(this,"Go")||this}return U(n,t),n}(Is);!function(t){t.jo="Qo",t.Yo="Zo"}(Es||(Es={}));var Ps=function(t){function n(n,i){var r;return(r=t.call(this,Es.jo)||this).io=n,r.Jo=i,r}return U(n,t),n}(Is),Bs=function(t){function n(){return t.call(this,Es.Yo)||this}return U(n,t),n}(Is),Ls=new y([0]).buffer,Ms=function(){function t(){this.$o=void 0,this.$o=[]}var n=t.prototype;return n.Ko=function(t){for(var n=0,i=this.$o;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.th=function(t){for(var n=0,i=this.$o;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.nh=function(t,n){this.$o.forEach(function(n){return t(n[1],n[0])},n)},n.ih=function(t,n){this.$o.push([t,n])},n.rh=function(){rs(this.$o)},L(t,[{key:"eh",get:function(){return this.$o.length}}]),t}(),Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Fs=16383,Hs=/[\t\n\f\r ]/g;function Vs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Xs()}function Xs(){throw new f("Invalid base64 input")}function Ws(t){var n=t;Hs.test(n)&&(n=n.replace(Hs,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Xs();for(var e,s=0===r?0:4-r,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Vs(n.charCodeAt(h))<<18|Vs(n.charCodeAt(h+1))<<12|Vs(n.charCodeAt(h+2))<<6|Vs(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Vs(n.charCodeAt(h))<<2|Vs(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Vs(n.charCodeAt(h))<<10|Vs(n.charCodeAt(h+1))<<4|Vs(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function qs(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Us[r>>2]+Us[(3&r)<<4|e>>4]+Us[(15&e)<<2|s>>6]+Us[63&s]));return u.join("")}function zs(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=Fs)r.push(qs(t,s,l.min(e,s+Fs)));if(1===i){var u=t[n-1];r.push(Us[u>>2]+Us[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Us[o>>2]+Us[(3&o)<<4|h>>4]+Us[(15&h)<<2]+"=")}return r.join("")}var Gs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],js=ArrayBuffer.isView||function(t){return t&&ns(Gs,Z.call(t))};function Qs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Ys(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}(t,n)}function Zs(t){return Ws(t).buffer}function Js(t){return zs(new y(t))}function $s(t){return zs(xu(t))}var Ks=function(){function t(t){void 0===t&&(t=0),this.sh=t}var n=t.prototype;return n.uh=function(t){this.sh+=t},n.oh=function(t){this.sh=t},n.hh=function(){return new t(this.ah)},L(t,[{key:"ah",get:function(){return this.sh}}]),t}();function tu(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function nu(t,n){return t>>n&63|128}function iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(tu(t),n.push(t>>12&15|224),n.push(nu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(nu(t,12)),n.push(nu(t,6))),n.push(63&t|128)):n.push(t)}function ru(t,n){if(n.ah>=t.length)throw new f("Invalid byte index");var i=255&t[n.ah];if(n.uh(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function eu(t,n){var i=n.ah;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.uh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|ru(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|ru(t,n)<<6|ru(t,n);if(s>=2048)return tu(s),s;throw new f("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|ru(t,n)<<12|ru(t,n)<<6|ru(t,n);if(u>=65536&&u<=1114111)return u}throw new f("Invalid UTF-8 detected")}var su=65279;var uu=[128,64,32,16,8,4,2,1],ou=function(){function t(t){this.fh=t}return t.prototype.vh=function(t){return hu(this.fh,t)},t}();function hu(t,n){return(t&n)===n}function au(t,n){return hu(t,uu[n])}function cu(t,n){var i=t.getUint8(n.ah);return n.uh(1),i}function fu(t,n,i){t.setUint8(n.ah,i),n.uh(1)}function vu(t,n,i){var r=Fu(Xu(t),n.ah,n.ah+i);return n.uh(r.byteLength),r}function du(t,n,i){Xu(t).set(Xu(i),n.ah),n.uh(i.byteLength)}function lu(t,n,i){return n.ah+i<=t.byteLength}function _u(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=cu(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+cu(t,n);return r}(t,n,i)}function gu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.ah,i);return n.uh(2),r}function wu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.ah,i,r),n.uh(2)}function yu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.ah,i);return n.uh(4),r}function mu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.ah,i,r),n.uh(4)}function ku(t,n,i){void 0===i&&(i=!1);var r=yu(t,n,i),e=yu(t,n,i),s=i?e:r,u=i?r:e;return Xt.fromBits(u,s,!0)}function pu(t,n){var i=cu(t,n);if(i)return String.fromCharCode(i)}function Au(t,n){return Eu(t,n)}function bu(t,n,i){for(var r="",e=0;e<i;e++)r+=pu(t,n);return r}function Tu(t,n){var i,r=cu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&cu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&cu(t,n))+(63&cu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&cu(t,n))+64*(63&cu(t,n))+(63&cu(t,n))),i}function Eu(t,n){return Su(t,n,!0)}function Su(t,n,i){for(var r=[];n.ah<t.byteLength;){var e=cu(t,n);if(i&&!e)break;r.push(e)}return Sr(r)}function Ru(t,n){if(n.ah+2<=t.byteLength){var i=t.getUint8(n.ah),r=t.getUint8(n.ah+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Iu(t,n){var i=Ru(t,n);return void 0!==i&&n.uh(2),Nu(t,n,!0===i)}function Nu(t,n,i){return void 0===i&&(i=!1),Cu(t,n,i,!0)}function Cu(t,n,i,r){for(var e=[];n.ah+2<=t.byteLength;){var s=gu(t,n,i);if(r&&!s)break;e.push(s)}return Sr(e)}function Du(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){wu(t,n,i.charCodeAt(s),r)}}function Ou(t){return Su(Vu(t),new ju,!1)}function xu(t){var n=new y(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)fu(t,n,i.charCodeAt(e))}(Vu(n),new ju,t),n}function Pu(t,n){return void 0===n&&(n=!1),Cu(Vu(t),new ju,n,!1)}function Bu(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Du(Vu(i),new ju,t,n),i}function Lu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.ah+3<=t.byteLength&&239===t.getUint8(n.ah)&&187===t.getUint8(n.ah+1)&&191===t.getUint8(n.ah+2)})(t,n)&&n.uh(3);for(;n.ah<t.byteLength;){var e=Tu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Tr(r)}(t,n,!0)}function Mu(t){return Tr(function(t,n){var i,r=[],e=new ju;if(!n){if(!1===(i=eu(t,e)))return r;i===su||r.push(i)}for(;!1!==(i=eu(t,e));)r.push(i);return r}(Xu(t)))}function Uu(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)iu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Fu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Hu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Vu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xu(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Wu(t){return t instanceof ArrayBuffer||js(t)}function qu(t){return t instanceof ArrayBuffer?new y(t):Xu(t)}function zu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Gu(Fu(t,n,i))}function Gu(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var ju=function(){function t(t){void 0===t&&(t=0),this.sh=t}var n=t.prototype;return n.uh=function(t){this.sh+=t},n.oh=function(t){this.sh=t},n.hh=function(){return new t(this.ah)},n.dh=function(){return new Ks(this.ah<<3)},L(t,[{key:"ah",get:function(){return this.sh}}]),t}();function Qu(t){var n=t,i=0,r=0;mr(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var Yu=function(){function t(){var t=this;this.lh=void 0,this.zn=void 0,this.Z=void 0,this.lh=new T(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n._h=function(t){this.zn&&(this.zn(t),this.wo())},n.gh=function(t){this.Z&&(this.Z(t),this.wo())},n.bo=function(){this.lh.catch(S),this.gh(new hs)},n.wo=function(){this.zn=void 0,this.Z=void 0},t}();function Zu(){return new y([8,4]).buffer}function Ju(t){return Qs(t,Zu())}function $u(t,n){return t===De?function(t){if(t.byteLength<2*Ku.length)return t;if(Pu(new DataView(t,0,2*Ku.length),!0)===Ku)return t;return n=t,Bu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Js(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Ku="<PlayReady";var to=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).wh=void 0,s.yh=void 0,s.wh=i,s.yh=r,s}return U(n,t),n}(un),no=function(t){function n(n,i){var r;(r=t.call(this)||this).mh=void 0,r.kh=!1,r.ph=void 0,r.Ah=void 0,r.bh=function(){r.Th()},r.Eh=function(t){r.Do(new Os(en(r),t.messageType,$u(r.Sh,t.message)))},r.Rh=function(){r.kh=!0,r.mh.eh>0&&(r.mh.rh(),r.Do(new Ds(en(r)))),r.Ih.removeEventListener("keystatuseschange",r.bh),r.Ih.removeEventListener("message",r.Eh)},r.Ih=n,r.Sh=i,r.Ih.addEventListener("keystatuseschange",r.bh),r.Ih.addEventListener("message",r.Eh),r.mh=new Ms;var e=[];return r.Ih.closed&&e.push(T.resolve(r.Ih.closed)),r.Ah=new Yu,e.push(r.Ah.lh),r.ph=T.race(e).then(r.Rh),r.Th(),r}U(n,t);var i=n.prototype;return i.Nh=function(){if(this.kh)return this.ph;var t=[];return t.push(T.resolve(this.Ih.close())),t.push(ps(1e3)),this.Ah._h(T.race(t).catch(io)),this.kh=!0,this.ph},i.Ch=function(t,n,i){return T.resolve(this.Ih.generateRequest(t,n)).catch(io)},i.Dh=function(t){return T.resolve(this.Ih.load(t)).catch(io)},i.Oh=function(){return T.resolve(this.Ih.remove()).catch(io)},i.xh=function(t){return T.resolve(this.Ih.update(t)).catch(io)},i.Th=function(){var t=this;this.mh.rh(),this.Ih.keyStatuses.forEach(function(n,i){t.Ph(i,n)}),this.Do(new Ds(this))},i.Ph=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=qu(t);if(this.Sh===De&&16===r.byteLength){var e=Vu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Sh===De&&"status-pending"===n&&(n="usable"),this.mh.ih(r,n)},L(n,[{key:"Bh",get:function(){return this.ph}},{key:"Lh",get:function(){return this.Ih.expiration}},{key:"Mh",get:function(){return this.mh}},{key:"Uh",get:function(){return this.Ih.sessionId}}]),n}(Ss);function io(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new to(t.message,void 0,n,t)}var ro=function(){function t(t,n,i){this.Fh=t,this.Hh=n,this.Vh=i}var n=t.prototype;return n.Xh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new no(this.Fh.createSession(n),this.Hh));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Wh=function(t){return T.resolve(this.Fh.setServerCertificate(t))},n.qh=function(t){return T.resolve(t.setMediaKeys(this.Fh))},n.zh=function(t){return T.resolve(t.setMediaKeys(null))},t}(),eo=function(){function t(t,n,i){this.Gh=t,this.Sh=n,this.jh=i}var n=t.prototype;return n.Qh=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Gh.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new ro(n,this.Sh,this.jh));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Yh=function(){return this.jh},L(t,[{key:"Hh",get:function(){return this.Gh.keySystem}}]),t}(),so={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function uo(t){return yr(t,so.APPLICATION_MP4)||yr(t,so.VIDEO_MP4)||yr(t,so.AUDIO_MP4)}var oo=function(){function t(t,n){this.Ku=void 0,this.Zh=void 0,this.Ku=t,this.Zh=n}return t.prototype.Jh=function(t){for(var n=0,i=this.Zh;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function ho(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new oo(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=ao(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=ao(e.substr(u));f&&s.push(f)}return new oo(r,s)}function ao(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function co(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function fo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,$h:r.$h},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return vo(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return vo(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function vo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!ns(n,r.encryptionScheme))&&(!r.robustness&&t(i,co(r.contentType))))}function lo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function _o(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function go(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(wo))||!(!t.videoCapabilities||!t.videoCapabilities.some(wo))}function wo(t){return!t.robustness}function yo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(_e({},e,{robustness:n}))}return i}var mo=function(){function t(){}return t.prototype.ao=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,o,h,a,c,f;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.$h}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=_o(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=_o(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(go)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",_e({},n=t,{videoCapabilities:n.videoCapabilities?yo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?yo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,u.requestMediaKeySystemAccess(n,o);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new eo(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,u.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new eo(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.Kh=function(){return qe()},t}(),ko=function(t){function n(n,i){var r;return(r=t.call(this)||this).kh=!1,r.ta=void 0,r.na=void 0,r.ia=void 0,r.ra=void 0,r.ea=void 0,r.Rh=function(){r.kh=!0,r.ta._h(void 0),r.ea&&(r.ea.removeEventListener("mskeyclose",r.Rh),r.ea.removeEventListener("mskeymessage",r.sa),r.ea.removeEventListener("mskeyerror",r.ua),r.ea.removeEventListener("mskeyadded",r.oa))},r.sa=function(t){r.ia&&(r.ia._h(void 0),r.ia=void 0),r.Do(new Os(en(r),"license-request",Gu(t.message).buffer,t.destinationURL||void 0))},r.ua=function(){var t=r.ea&&r.ea.error;if(t){var n=new to("Unknown CDM error",t.code,t.systemCode);if(r.ia)r.ia.gh(n),r.ia=void 0;else if(r.na)r.na.gh(n),r.na=void 0;else switch(n.wh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ha("output-not-allowed");break;default:r.ha("internal-error")}}},r.oa=function(){r.ia&&(r.ha("usable"),r.ia._h(void 0),r.ia=void 0),r.na&&(r.ha("usable"),r.na._h(void 0),r.na=void 0)},r.aa=n,r.ca=i,r.ta=new Yu,r.ra=new Ms,r}U(n,t);var i=n.prototype;return i.Ch=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fa(),this.ia=new Yu,this.Xh(qu(i),r),t.next=5,this.ia.lh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Xh=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.va;return(i=n?this.aa.createSession(this.ca,t,r):this.aa.createSession(this.ca,t)).addEventListener("mskeyclose",this.Rh),i.addEventListener("mskeymessage",this.sa),i.addEventListener("mskeyerror",this.ua),i.addEventListener("mskeyadded",this.oa),this.ea=i,this.ha("status-pending"),i},i.Dh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fa(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.na=new Yu,this.fa(),this.ea){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=qu(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ea.update(i),t.next=10,this.na.lh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Nh=function(){return!this.kh&&this.ea&&(this.kh=!0,this.ea.close()),this.ta.lh},i.Oh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fa(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fa=function(){if(this.kh)throw new v("Already closing or closed.")},i.ha=function(t){this.ra.rh(),this.ra.ih(Ls,t),this.Do(new Ds(this))},L(n,[{key:"Uh",get:function(){return this.ea&&this.ea.sessionId||""}},{key:"Lh",get:function(){return NaN}},{key:"Bh",get:function(){return this.ta.lh}},{key:"Mh",get:function(){return this.ra}}]),n}(Ss),po=function(){function t(t,n,i){this.ca=void 0,this.aa=t,this.Hh=n,this.Vh=i;var r=lo(i)||"video/mp4";this.ca=co(r)}var n=t.prototype;return n.Xh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ko(this.aa,this.ca));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Wh=function(t){return T.resolve(!1)},n.qh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.aa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.aa),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.zh=function(t){return T.resolve()},t}(),Ao=function(){function t(t,n){this.Sh=t,this.da=n}var n=t.prototype;return n.Yh=function(){return this.da},n.Qh=function(){var t=new Or.MSMediaKeys(this.Sh);return T.resolve(new po(t,this.Sh,this.da))},L(t,[{key:"Hh",get:function(){return this.Sh}}]),t}(),bo=function(){function t(){}return t.prototype.ao=function(t,n){try{return T.resolve(function(t,n){if(!To())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(Eo,Ns,t,r);if(e)return new Ao(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Kh=function(){return To()},t}();function To(){return void 0!==Or.MSMediaKeys&&"function"==typeof Or.MSMediaKeys.isTypeSupported}function Eo(t,n){return Or.MSMediaKeys.isTypeSupported(t,n)}var So,Ro,Io=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ta=new Yu,e.la=void 0,e.ra=new Ms,e._a=void 0,e.ga=new Yu,e.ua=function(){var t=e._a&&e._a.error;if(t){var n=new to("Unknown CDM error",t.code,t.systemCode);e.la?(e.la.gh(n),e.la=void 0):n.wh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ha("output-not-allowed"):e.ha("internal-error"),e.Do(new xs)}},e.sa=function(t){e.la&&(e.la._h(void 0),e.la=void 0),e.Do(new Os(en(e),"license-request",Gu(t.message).buffer,t.destinationURL||void 0))},e.wa=n,e.ca=i,e.ya=r,e}U(n,t);var i=n.prototype;return i.Ch=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.ma;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=No(qu(n),r,this.ya);return this._a=this.wa.createSession(this.ca,e),this._a.addEventListener("webkitkeymessage",this.sa,!1),this._a.addEventListener("webkitkeyerror",this.ua,!1),this.ha("usable"),this.ga._h(this._a),this.ga=new Yu,T.resolve()},i.Dh=function(t){return T.resolve(!0)},i.xh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=qu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.la=new Yu,t.t0=this._a,t.t0){t.next=9;break}return t.next=8,this.ga.lh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.la.lh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Nh=function(){var t=this._a;return t&&(t.removeEventListener("webkitkeymessage",this.sa,!1),t.removeEventListener("webkitkeyerror",this.ua,!1),t.close()),this.ga.bo(),this.ta._h(void 0),this.ta.lh},i.Oh=function(){return T.resolve(void 0)},i.ha=function(t){this.ra.rh(),this.ra.ih(Ls,t),this.Do(new Ds(this))},L(n,[{key:"Uh",get:function(){return this._a?this._a.sessionId:""}},{key:"Lh",get:function(){return NaN}},{key:"Bh",get:function(){return this.ta.lh}},{key:"Mh",get:function(){return this.ra}}]),n}(Ss);function No(t,n,i){var r=Mu(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new ju;return mu(o,h,e,!0),Du(o,h,r,!0),mu(o,h,s,!0),Du(o,h,n,!0),mu(o,h,i.byteLength,!0),du(o,h,i),new y(u)}(So=n.ErrorCode||(n.ErrorCode={}))[So.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",So[So.LICENSE_ERROR=2e3]="LICENSE_ERROR",So[So.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",So[So.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",So[So.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",So[So.SOURCE_INVALID=3e3]="SOURCE_INVALID",So[So.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",So[So.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",So[So.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",So[So.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",So[So.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",So[So.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",So[So.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",So[So.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",So[So.MEDIA_ABORTED=5004]="MEDIA_ABORTED",So[So.NETWORK_ERROR=6e3]="NETWORK_ERROR",So[So.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",So[So.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",So[So.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",So[So.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",So[So.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",So[So.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",So[So.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",So[So.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",So[So.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",So[So.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",So[So.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",So[So.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",So[So.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",So[So.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",So[So.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",So[So.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",So[So.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",So[So.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",So[So.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",So[So.AD_ERROR=1e4]="AD_ERROR",So[So.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",So[So.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Ro=n.ErrorCategory||(n.ErrorCategory={}))[Ro.CONFIGURATION=1]="CONFIGURATION",Ro[Ro.LICENSE=2]="LICENSE",Ro[Ro.SOURCE=3]="SOURCE",Ro[Ro.MANIFEST=4]="MANIFEST",Ro[Ro.MEDIA=5]="MEDIA",Ro[Ro.NETWORK=6]="NETWORK",Ro[Ro.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ro[Ro.SUBTITLE=8]="SUBTITLE",Ro[Ro.VR=9]="VR",Ro[Ro.AD=10]="AD",Ro[Ro.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Co=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return U(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(un),Do=function(){function t(t,n,i){this.ca=void 0,this.ya=void 0,this.wa=t,this.Hh=n,this.Vh=i;var r=lo(i)||"video/mp4";this.ca=co(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.wa},i.Xh=function(){var t=T.coroutine(le.mark(function t(i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ya){t.next=2;break}throw new Co(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Io(this.wa,this.ca,this.ya));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wh=function(t){return this.ya=qu(t),T.resolve(!0)},i.qh=function(t){return t.webkitSetMediaKeys(this.wa),T.resolve()},i.zh=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),Oo=function(){function t(t,n){this.Sh=t,this.da=n}var n=t.prototype;return n.Yh=function(){return this.da},n.Qh=function(){var t=new Or.WebKitMediaKeys(this.Sh);return T.resolve(new Do(t,this.Sh,this.da))},L(t,[{key:"Hh",get:function(){return this.Sh}}]),t}(),xo=function(){function t(){}return t.prototype.ao=function(t,n){try{return T.resolve(function(t,n){if(t!==Be)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Po())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(Bo,Cs,t,r);if(e)return new Oo(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Kh=function(){return Po()},t}();function Po(){return void 0!==Or.WebKitMediaKeys&&"function"==typeof Or.WebKitMediaKeys.isTypeSupported}function Bo(t,n){return Or.WebKitMediaKeys.isTypeSupported(t,n)}var Lo,Mo=function(){function t(t){this.ka=t}return t.prototype.ao=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ka;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.ao(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Uo=function(t){function n(n){var i;return(i=t.call(this)||this).ia=void 0,i.la=void 0,i.ta=void 0,i.pa=!1,i.Aa=void 0,i.ba=void 0,i.Ta=void 0,i.Ea=void 0,i.Sa=void 0,i.Sh=n,i.ta=new Yu,i.ba="",i.Sa=new Yu,i.Ta=new Ms,i}U(n,t);var i=n.prototype;return i.Ra=function(){this.la&&(this.ha("usable"),this.la._h(void 0),this.la=void 0)},i.Ia=function(t){var n=new to("Unknown CDM error",t.errorCode,t.systemCode);this.la?(this.la.gh(n),this.la=void 0):this.ia?(this.ia.gh(n),this.ia=void 0):n.wh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ha("output-restricted"):1===n.yh?this.ha("expired"):this.ha("internal-error")},i.Na=function(t){0!==t.message.byteLength&&(this.ia&&(this.ia._h(void 0),this.ia=void 0),this.Do(new Os(this,"license-request",$u(this.Sh,Gu(t.message).buffer),t.defaultURL||void 0)))},i.Ca=function(t){this.Ea||(this.Ea=t,this.Sa._h(t))},i.Nh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.pa=!0,this.ta._h(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ch=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ia=new Yu,this.Aa=qu(i),t.t0=this.Ea,t.t0){t.next=8;break}return t.next=7,this.Sa.lh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Sh,this.Aa),t.next=12,this.ia.lh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Dh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Oh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.la=new Yu,t.t0=this.Ea,t.t0){t.next=7;break}return t.next=6,this.Sa.lh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Sh,qu(n),this.Aa,this.Uh),t.next=11,this.la.lh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.pa)throw new v("Already closing or closed.")},i.ha=function(t){this.Ta.rh(),this.Ta.ih(Ls,t),this.Do(new Ds(this))},L(n,[{key:"Mh",get:function(){return this.Ta}},{key:"Uh",get:function(){return this.ba},set:function(t){this.ba=t}},{key:"Bh",get:function(){return this.ta.lh}},{key:"Lh",get:function(){return NaN}}]),n}(Ss),Fo=function(){function t(t,n){var i=this;this.Ea=void 0,this.Da=we(),this.Oa=[],this.oa=function(t){var n=i.xa(t.sessionId);n&&n.Ra()},this.Pa=function(t){var n=i.xa(t.sessionId);n&&n.Ia(t)},this.Ba=function(t){var n=i.xa(t.sessionId);n&&n.Na(t)},this.Hh=t,this.Vh=n}var n=t.prototype;return n.qh=function(t){return this.Ea=t,this.Ea.addEventListener("webkitkeyadded",this.oa),this.Ea.addEventListener("webkitkeyerror",this.Pa),this.Ea.addEventListener("webkitkeymessage",this.Ba),this.Da.forEach(function(n,i){return n.Ca(t)}),this.Oa.forEach(function(n){return n.Ca(t)}),T.resolve()},n.zh=function(t){return t.removeEventListener("webkitkeyadded",this.oa),t.removeEventListener("webkitkeyerror",this.Pa),t.removeEventListener("webkitkeymessage",this.Ba),this.Ea=void 0,T.resolve()},n.Xh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Uo(this.Hh),this.Ea&&e.Ca(this.Ea),this.Oa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Wh=function(t){return T.resolve(!1)},n.xa=function(t){if(t){var n=this.Da.get(t);return n||((n=this.Oa.shift())?(n.Uh=t,this.Da.set(t,n),n):void 0)}},t}(),Ho=function(){function t(t,n){this.Hh=t,this.La=n}var n=t.prototype;return n.Qh=function(){return T.resolve(new Fo(this.Hh,this.La))},n.Yh=function(){return this.La},t}(),Vo=function(){function t(){}return t.prototype.ao=function(t,n){try{return T.resolve(Xo(t,n))}catch(t){return T.reject(t)}},t.Kh=function(){return ze()},t}();function Xo(t,n){if(!Vo.Kh())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=fo(Wo,Ns,t,r);if(e)return new Ho(t,e)}throw new v("Unsupported key system configuration for "+t)}function Wo(t,n){var i=Zr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function qo(){return Lo||(Lo=function(){var t=[];xo.Kh()&&t.push(new xo);mo.Kh()&&t.push(new mo);bo.Kh()&&t.push(new bo);Vo.Kh()&&t.push(new Vo);return new Mo(t)}()),Lo}var zo=function(){function t(){this.Ma=we()}var n=t.prototype;return n.rh=function(t){this.Ma.delete(t)},n.Ua=function(){this.Ma.clear()},n.th=function(t){return this.Ma.get(t)},n.Fa=function(t,n){this.Ma.set(t,n)},t}(),Go=function(){function t(){}return t.Ha=function(){return t.je||(t.je=jo.Kh()?new jo:new zo),t.je},t.rh=function(n){t.Ha().rh(n)},t.Ua=function(){t.Ha().Ua()},t.th=function(n){return t.Ha().th(n)},t.Fa=function(n,i){t.Ha().Fa(n,i)},t}();Go.je=void 0;var jo=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.Kh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.rh=function(n){t.sessionStorage.removeItem(n)},r.Ua=function(){t.sessionStorage.clear()},r.th=function(n){return t.sessionStorage[n]},r.Fa=function(n,i){t.sessionStorage[n]=i},i}(Go);var Qo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function Yo(t,n,i){var r=Qo([n],{type:"application/octet-stream"}),s=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=s,o.download=u,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(s)}var Zo,Jo;!function(t){t.Va="Xa",t.Wa="qa",t.za="contentprotectionerror",t.Ga="contentprotectionsuccess",t.ja="currentsourcechange",t.Qa="destroy",t.Ya="durationchange",t.Za="emptied",t.jo="encrypted",t.Ja="ended",t.$a="Ka",t.tc="loadstart",t.nc="manifestupdate",t.ic="nosupportedrepresentationfound",t.rc="offline",t.ec="online",t.sc="pause",t.uc="play",t.oc="progress",t.hc="ratechange",t.ac="representationchange",t.cc="resize",t.fc="seeked",t.vc="seeking",t.dc="segmentnotfound",t.lc="_c",t.gc="wc",t.yc="sourcechange",t.mc="timeupdate",t.kc="volumechange",t.pc="Ac",t.bc="metricschange"}(Zo||(Zo={})),function(t){t.Tc="arraybuffer",t.Ec="json",t.Sc="stream",t.Je="text"}(Jo||(Jo={}));var $o=function(){function t(n){var i=this;this.ju=void 0,this.ju={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Ko(i),r=th(r);var e=i.toLowerCase();if(this.ju.hasOwnProperty(e)){var s=this.ju[e],u=s[1];s[1]=u?u+", "+r:r}else this.ju[e]=[i,r]},n.delete=function(t){var n=Ko(t).toLowerCase();delete this.ju[n]},n.get=function(t){var n=Ko(t).toLowerCase();return this.ju.hasOwnProperty(n)?this.ju[n][1]:null},n.has=function(t){var n=Ko(t).toLowerCase();return this.ju.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Ko(i)).toLowerCase();this.ju[r]=[i,th(n)]},n.forEach=function(t,n){for(var i in this.ju)this.ju.hasOwnProperty(i)&&t.call(n,this.ju[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.ju)if(this.ju.hasOwnProperty(n)){var i=this.ju[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Rc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Ic=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Nc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Ko(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function th(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ih(){}var rh=Number.isNaN||function(t){return t!=t},eh=ih;function sh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function uh(t){return t.slice()}function oh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(rh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function hh(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ah(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return fh(e,t,r)};case 1:return function(n){var i=[n].concat(r);return fh(e,t,i)}}}return function(){return kh(void 0)}}function ch(t,n,i){var r=t[n];if(void 0!==r)return hh(r,t,i)}function fh(t,n,i){try{return kh(hh(t,n,i))}catch(t){return ph(t)}}function vh(t){return t}function dh(t){if(t=Number(t),rh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function lh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _h=T,gh=T.prototype.then,wh=T.resolve.bind(_h),yh=T.reject.bind(_h);function mh(t){return new _h(t)}function kh(t){return wh(t)}function ph(t){return yh(t)}function Ah(t,n,i){return gh.call(t,n,i)}function bh(t,n,i){Ah(Ah(t,n,i),void 0,eh)}function Th(t,n){bh(t,n)}function Eh(t,n){bh(t,void 0,n)}function Sh(t,n,i){return Ah(t,n,i)}function Rh(t){Ah(t,void 0,eh)}var Ih=function(){function t(){this.Cc=0,this.Dc=0,this.Ni={Oc:[],xc:void 0},this.Pc=this.Ni,this.Cc=0,this.Dc=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Dc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Pc,i=n;16383===n.Oc.length&&(i={Oc:[],xc:void 0}),n.Oc.push(t),i!==n&&(this.Pc=i,n.xc=i),++this.Dc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Cc,r=i+1,e=t.Oc,s=e[i];return 16384===r&&(n=t.xc,r=0),--this.Dc,this.Cc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Cc,i=this.Ni,r=i.Oc;!(n===r.length&&void 0===i.xc||n===r.length&&(n=0,0===(r=(i=i.xc).Oc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Cc;return t.Oc[n]},t}();function Nh(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Ch(t,n){t.Bc=!0,t.Lc=n,n.Mc=t,"readable"===n.Uc?Ph(t):"closed"===n.Uc?function(t){Ph(t),Mh(t)}(t):Bh(t,n.Fc)}function Dh(t,n){return Vc(t.Lc,n)}function Oh(t){"readable"===t.Lc.Uc?Lh(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Bh(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Lc.Mc=void 0,t.Lc=void 0}function xh(t){return new v("Cannot "+t+" a stream using a released reader")}function Ph(t){t.ph=mh(function(n,i){t.Hc=n,t.Vc=i})}function Bh(t,n){Ph(t),Lh(t,n)}function Lh(t,n){Rh(t.ph),t.Vc(n),t.Hc=void 0,t.Vc=void 0}function Mh(t){t.Hc(void 0),t.Hc=void 0,t.Vc=void 0}var Uh=nh("[[CancelSteps]]"),Fh=nh("[[PullSteps]]");function Hh(t,n){void 0===n&&(n=!1);var i=new jh(t);return i.Bc=n,i}function Vh(t){return mh(function(n,i){var r={zn:n,Z:i};t.Mc.Xc.push(r)})}function Xh(t,n,i){var r=t.Mc;r.Xc.shift().zn(Nh(n,i,r.Bc))}function Wh(t){return t.Mc.Xc.length}function qh(t){var n=t.Mc;return void 0!==n&&!!Qh(n)}var zh,Gh,jh=function(){function t(t){if(!1===Fc(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Hc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ch(this,t),this.Xc=new Ih}return d.defineProperty(t.prototype,"closed",{get:function(){return Qh(this)?this.ph:ph(Zh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Qh(this)?void 0===this.Lc?ph(xh("cancel")):Dh(this,t):ph(Zh("cancel"))},t.prototype.read=function(){return Qh(this)?void 0===this.Lc?ph(xh("read from")):Yh(this):ph(Zh("read"))},t.prototype.releaseLock=function(){if(!Qh(this))throw Zh("releaseLock");if(void 0!==this.Lc){if(this.Xc.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Oh(this)}},t}();function Qh(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Xc")}function Yh(t){var n=t.Lc;return n.Wc=!0,"closed"===n.Uc?kh(Nh(void 0,!0,t.Bc)):"errored"===n.Uc?ph(n.Fc):n.qc[Fh]()}function Zh(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof nh.asyncIterator&&((zh={})[nh.asyncIterator]=function(){return this},Gh=zh,d.defineProperty(Gh,nh.asyncIterator,{enumerable:!1}));var Jh={next:function(){if(!1===$h(this))return ph(Kh("next"));var t=this.zc;return void 0===t.Lc?ph(xh("iterate")):Sh(Yh(t),function(n){var i=n.done;return i&&Oh(t),Nh(n.value,i,!0)})},return:function(t){if(!1===$h(this))return ph(Kh("next"));var n=this.zc;if(void 0===n.Lc)return ph(xh("finish iterating"));if(n.Xc.length>0)return ph(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Gc){var i=Dh(n,t);return Oh(n),Sh(i,function(){return Nh(t,!0,!0)})}return Oh(n),kh(Nh(t,!0,!0))}};function $h(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"zc")}function Kh(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ta(t){var n=t.Fn.shift();return t.jc-=n.size,t.jc<0&&(t.jc=0),n.value}function na(t,n,i){if(!oh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.jc+=i}function ia(t){t.Fn=new Ih,t.jc=0}void 0!==Gh&&d.setPrototypeOf(Jh,Gh),d.defineProperty(Jh,"next",{enumerable:!1}),d.defineProperty(Jh,"return",{enumerable:!1});var ra=nh("[[AbortSteps]]"),ea=nh("[[ErrorSteps]]"),sa=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),oa(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=lh(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Ea.prototype);var s=ah(n,"write",1,[e]),u=ah(n,"close",0,[]),o=ah(n,"abort",1,[]);Sa(t,e,function(){return ch(n,"start",[e])},s,u,o,i,r)}(this,t,r=dh(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ha(this))throw xa("locked");return aa(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ha(this)?ph(xa("abort")):!0===aa(this)?ph(new v("Cannot abort a stream that already has a writer")):ca(this,t)},t.prototype.close=function(){return!1===ha(this)?ph(xa("close")):!0===aa(this)?ph(new v("Cannot close a stream that already has a writer")):!0===_a(this)?ph(new v("Cannot close an already-closing stream")):fa(this)},t.prototype.getWriter=function(){if(!1===ha(this))throw xa("getWriter");return ua(this)},t}();function ua(t){return new ya(t)}function oa(t){t.Uc="writable",t.Fc=void 0,t.Qc=void 0,t.Yc=void 0,t.Zc=new Ih,t.Jc=void 0,t.$c=void 0,t.Kc=void 0,t.tf=void 0,t.nf=!1}function ha(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Yc")}function aa(t){return void 0!==t.Qc}function ca(t,n){var i=t.Uc;if("closed"===i||"errored"===i)return kh(void 0);if(void 0!==t.tf)return t.tf._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=mh(function(i,e){t.tf={_n:void 0,zn:i,Z:e,Pn:n,if:r}});return t.tf._n=e,!1===r&&da(t,n),e}function fa(t){var n=t.Uc;if("closed"===n||"errored"===n)return ph(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=mh(function(n,i){var r={zn:n,Z:i};t.$c=r}),e=t.Qc;return void 0!==e&&!0===t.nf&&"writable"===n&&qa(e),na(i=t.Yc,"close",0),Na(i),r}function va(t,n){"writable"!==t.Uc?la(t):da(t,n)}function da(t,n){var i=t.Yc;t.Uc="erroring",t.Fc=n;var r=t.Qc;void 0!==r&&Aa(r,n),!1===function(t){if(void 0===t.Jc&&void 0===t.Kc)return!1;return!0}(t)&&!0===i.rf&&la(t)}function la(t){t.Uc="errored",t.Yc[ea]();var n=t.Fc;if(t.Zc.forEach(function(t){t.Z(n)}),t.Zc=new Ih,void 0!==t.tf){var i=t.tf;if(t.tf=void 0,!0===i.if)return i.Z(n),void ga(t);bh(t.Yc[ra](i.Pn),function(){i.zn(),ga(t)},function(n){i.Z(n),ga(t)})}else ga(t)}function _a(t){return void 0!==t.$c||void 0!==t.Kc}function ga(t){void 0!==t.$c&&(t.$c.Z(t.Fc),t.$c=void 0);var n=t.Qc;void 0!==n&&Ua(n,t.Fc)}function wa(t,n){var i=t.Qc;void 0!==i&&n!==t.nf&&(!0===n?function(t){Ha(t)}(i):qa(i)),t.nf=n}var ya=function(){function t(t){if(!1===ha(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===aa(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.ef=t,t.Qc=this;var n,i=t.Uc;if("writable"===i)!1===_a(t)&&!0===t.nf?Ha(this):Xa(this),La(this);else if("erroring"===i)Va(this,t.Fc),La(this);else if("closed"===i)Xa(this),La(n=this),Fa(n);else{var r=t.Fc;Va(this,r),Ma(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===ma(this)?ph(Pa("closed")):this.ph},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ma(this))throw Pa("desiredSize");if(void 0===this.ef)throw Ba("desiredSize");return function(t){var n=t.ef,i=n.Uc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ia(n.Yc)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===ma(this)?ph(Pa("ready")):this.sf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ma(this)?ph(Pa("abort")):void 0===this.ef?ph(Ba("abort")):function(t,n){return ca(t.ef,n)}(this,t)},t.prototype.close=function(){if(!1===ma(this))return ph(Pa("close"));var t=this.ef;return void 0===t?ph(Ba("close")):!0===_a(t)?ph(new v("Cannot close an already-closing stream")):ka(this)},t.prototype.releaseLock=function(){if(!1===ma(this))throw Pa("releaseLock");void 0!==this.ef&&ba(this)},t.prototype.write=function(t){return!1===ma(this)?ph(Pa("write")):void 0===this.ef?ph(Ba("write to")):Ta(this,t)},t}();function ma(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"ef")}function ka(t){return fa(t.ef)}function pa(t,n){"pending"===t.uf?Ua(t,n):function(t,n){Ma(t,n)}(t,n)}function Aa(t,n){"pending"===t.hf?Wa(t,n):function(t,n){Va(t,n)}(t,n)}function ba(t){var n=t.ef,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Aa(t,i),pa(t,i),n.Qc=void 0,t.ef=void 0}function Ta(t,n){var i=t.ef,r=i.Yc,e=function(t,n){try{return t.af(n)}catch(n){return Ca(t,n),1}}(r,n);if(i!==t.ef)return ph(Ba("write to"));var s=i.Uc;if("errored"===s)return ph(i.Fc);if(!0===_a(i)||"closed"===s)return ph(new v("The stream is closing or closed and cannot be written to"));if("erroring"===s)return ph(i.Fc);var u=function(t){return mh(function(n,i){var r={zn:n,Z:i};t.Zc.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{na(t,r,i)}catch(n){return void Ca(t,n)}var e=t.cf;if(!1===_a(e)&&"writable"===e.Uc){var s=Da(t);wa(e,s)}Na(t)}(r,n,e),u}var Ea=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!sh(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"cf"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.cf.Uc&&Oa(this,t)},t.prototype[ra]=function(t){var n=this.ff(t);return Ra(this),n},t.prototype[ea]=function(){ia(this)},t}();function Sa(t,n,i,r,e,s,u,o){n.cf=t,t.Yc=n,n.Fn=void 0,n.jc=void 0,ia(n),n.rf=!1,n.af=o,n.vf=u,n.df=r,n.lf=e,n.ff=s;var h=Da(n);wa(t,h),bh(kh(i()),function(){n.rf=!0,Na(n)},function(i){n.rf=!0,va(t,i)})}function Ra(t){t.df=void 0,t.lf=void 0,t.ff=void 0,t.af=void 0}function Ia(t){return t.vf-t.jc}function Na(t){var n=t.cf;if(!1!==t.rf&&void 0===n.Jc)if("erroring"!==n.Uc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.cf;(function(t){t.Kc=t.$c,t.$c=void 0})(n),ta(t);var i=t.lf();Ra(t),bh(i,function(){!function(t){t.Kc.zn(void 0),t.Kc=void 0,"erroring"===t.Uc&&(t.Fc=void 0,void 0!==t.tf&&(t.tf.zn(),t.tf=void 0)),t.Uc="closed";var n=t.Qc;void 0!==n&&Fa(n)}(n)},function(t){!function(t,n){t.Kc.Z(n),t.Kc=void 0,void 0!==t.tf&&(t.tf.Z(n),t.tf=void 0),va(t,n)}(n,t)})}(t):function(t,n){var i=t.cf;(function(t){t.Jc=t.Zc.shift()})(i),bh(t.df(n),function(){!function(t){t.Jc.zn(void 0),t.Jc=void 0}(i);var n=i.Uc;if(ta(t),!1===_a(i)&&"writable"===n){var r=Da(t);wa(i,r)}Na(t)},function(n){"writable"===i.Uc&&Ra(t),function(t,n){t.Jc.Z(n),t.Jc=void 0,va(t,n)}(i,n)})}(t,i.chunk)}}else la(n)}function Ca(t,n){"writable"===t.cf.Uc&&Oa(t,n)}function Da(t){return Ia(t)<=0}function Oa(t,n){var i=t.cf;Ra(t),da(i,n)}function xa(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Pa(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Ba(t){return new v("Cannot "+t+" a stream using a released writer")}function La(t){t.ph=mh(function(n,i){t.Hc=n,t.Vc=i,t.uf="pending"})}function Ma(t,n){La(t),Ua(t,n)}function Ua(t,n){Rh(t.ph),t.Vc(n),t.Hc=void 0,t.Vc=void 0,t.uf="rejected"}function Fa(t){t.Hc(void 0),t.Hc=void 0,t.Vc=void 0,t.uf="resolved"}function Ha(t){t.sf=mh(function(n,i){t._f=n,t.gf=i}),t.hf="pending"}function Va(t,n){Ha(t),Wa(t,n)}function Xa(t){Ha(t),qa(t)}function Wa(t,n){Rh(t.sf),t.gf(n),t._f=void 0,t.gf=void 0,t.hf="rejected"}function qa(t){t._f(void 0),t._f=void 0,t.gf=void 0,t.hf="fulfilled"}function za(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Ga="undefined"!=typeof DOMException?DOMException:void 0;var ja,Qa=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Ga)?Ga:((ja=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(ja.prototype,"constructor",{value:ja,writable:!0,configurable:!0}),ja);function Ya(t,n,i,r,e,s){var u=Hh(t),o=ua(n);t.Wc=!0;var h=!1,a=kh(void 0);return mh(function(c,f){var d,l,_,g;if(void 0!==s){if(d=function(){var i=new Qa("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Uc?ca(n,i):kh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Uc?Vc(t,i):kh(void 0)}),k(function(){return T.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void d();s.addEventListener("abort",d)}if(m(t,u.ph,function(t){!1===r?k(function(){return ca(n,t)},!0,t):p(!0,t)}),m(n,o.ph,function(n){!1===e?k(function(){return Vc(t,n)},!0,n):p(!0,n)}),l=t,_=u.ph,g=function(){!1===i?k(function(){return function(t){var n=t.ef,i=n.Uc;return!0===_a(n)||"closed"===i?kh(void 0):"errored"===i?ph(n.Fc):ka(t)}(o)}):p()},"closed"===l.Uc?g():Th(_,g),!0===_a(n)||"closed"===n.Uc){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Vc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return Ah(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Uc?i(t.Fc):Eh(n,i)}function k(t,i,r){function e(){bh(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Uc&&!1===_a(n)?Th(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Uc&&!1===_a(n)?Th(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){ba(o),Oh(u),void 0!==s&&s.removeEventListener("abort",d),t?f(n):c(void 0)}Rh(mh(function(t,n){!function i(r){r?t():Ah(!0===h?kh(!0):Ah(o.sf,function(){return Ah(Yh(u),function(t){return!0===t.done||(a=Ah(Ta(o,t.value),void 0,ih),!1)})}),i,n)}(!1)}))})}var Za=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ja(this))throw oc("desiredSize");return ec(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ja(this))throw oc("close");if(!1===sc(this))throw new v("The stream is not in a state that permits close");nc(this)},t.prototype.enqueue=function(t){if(!1===Ja(this))throw oc("enqueue");if(!1===sc(this))throw new v("The stream is not in a state that permits enqueue");return ic(this,t)},t.prototype.error=function(t){if(!1===Ja(this))throw oc("error");rc(this,t)},t.prototype[Uh]=function(t){ia(this);var n=this.wf(t);return tc(this),n},t.prototype[Fh]=function(){var t=this.yf;if(this.Fn.length>0){var n=ta(this);return!0===this.mf&&0===this.Fn.length?(tc(this),Xc(t)):$a(this),kh(Nh(n,!1,t.Mc.Bc))}var i=Vh(t);return $a(this),i},t}();function Ja(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"yf")}function $a(t){!1!==Ka(t)&&(!0!==t.kf?(t.kf=!0,bh(t.pf(),function(){t.kf=!1,!0===t.Af&&(t.Af=!1,$a(t))},function(n){rc(t,n)})):t.Af=!0)}function Ka(t){var n=t.yf;return!1!==sc(t)&&(!1!==t.rf&&(!0===Hc(n)&&Wh(n)>0||ec(t)>0))}function tc(t){t.pf=void 0,t.wf=void 0,t.af=void 0}function nc(t){var n=t.yf;t.mf=!0,0===t.Fn.length&&(tc(t),Xc(n))}function ic(t,n){var i=t.yf;if(!0===Hc(i)&&Wh(i)>0)Xh(i,n,!1);else{var r=void 0;try{r=t.af(n)}catch(n){throw rc(t,n),n}try{na(t,n,r)}catch(n){throw rc(t,n),n}}$a(t)}function rc(t,n){var i=t.yf;"readable"===i.Uc&&(ia(t),tc(t),Wc(i,n))}function ec(t){var n=t.yf.Uc;return"errored"===n?null:"closed"===n?0:t.vf-t.jc}function sc(t){var n=t.yf.Uc;return!1===t.mf&&"readable"===n}function uc(t,n,i,r,e,s,u){n.yf=t,n.Fn=void 0,n.jc=void 0,ia(n),n.rf=!1,n.mf=!1,n.Af=!1,n.kf=!1,n.af=u,n.vf=s,n.pf=r,n.wf=e,t.qc=n,bh(kh(i()),function(){n.rf=!0,$a(n)},function(t){rc(n,t)})}function oc(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var hc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},ac=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===vc(this))throw Ic("view");return this.bf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===vc(this))throw Ic("respond");if(void 0===this.Tf)throw new v("This BYOB request has been invalidated");this.bf.buffer,function(t,n){if(!1===oh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ac(t,n)}(this.Tf,t)},t.prototype.respondWithNewView=function(t){if(!1===vc(this))throw Ic("respond");if(void 0===this.Tf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Ef.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ac(t,n.byteLength)}(this.Tf,t)},t}(),cc=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===fc(this))throw Nc("byobRequest");if(void 0===this.Sf&&this.Ef.length>0){var t=this.Ef.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(ac.prototype);!function(t,n,i){t.Tf=n,t.bf=i}(i,this,n),this.Sf=i}return this.Sf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===fc(this))throw Nc("desiredSize");return Sc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===fc(this))throw Nc("close");if(!0===this.mf)throw new v("The stream has already been closed; do not close it again!");var t=this.Rf.Uc;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Rf;if(t.jc>0)return void(t.mf=!0);if(t.Ef.length>0){var i=t.Ef.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw Ec(t,r),r}}Tc(t),Xc(n)}(this)},t.prototype.enqueue=function(t){if(!1===fc(this))throw Nc("enqueue");if(!0===this.mf)throw new v("stream is closed or draining");var n=this.Rf.Uc;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Rf,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=vh(r);if(!0===qh(i))if(0===Wh(i))gc(t,u,e,s);else{var o=new y(u,e,s);Xh(i,o,!1)}else!0===Oc(i)?(gc(t,u,e,s),pc(t)):gc(t,u,e,s);dc(t)}(this,t)},t.prototype.error=function(t){if(!1===fc(this))throw Nc("error");Ec(this,t)},t.prototype[Uh]=function(t){this.Ef.length>0&&(this.Ef.peek().bytesFilled=0);ia(this);var n=this.wf(t);return Tc(this),n},t.prototype[Fh]=function(){var t=this.Rf;if(this.jc>0){var n=this.Fn.shift();this.jc-=n.byteLength,mc(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return ph(t)}return kh(Nh(i,!1,t.Mc.Bc))}var r=this.If;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return ph(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.Ef.push(s)}var u=Vh(t);return dc(this),u},t}();function fc(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Rf")}function vc(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Tf")}function dc(t){!1!==function(t){var n=t.Rf;if("readable"!==n.Uc)return!1;if(!0===t.mf)return!1;if(!1===t.rf)return!1;if(!0===qh(n)&&Wh(n)>0)return!0;if(!0===Oc(n)&&Dc(n)>0)return!0;if(Sc(t)>0)return!0;return!1}(t)&&(!0!==t.kf?(t.kf=!0,bh(t.pf(),function(){t.kf=!1,!0===t.Af&&(t.Af=!1,dc(t))},function(n){Ec(t,n)})):t.Af=!0)}function lc(t,n){var i=!1;"closed"===t.Uc&&(i=!0);var r=_c(n);"default"===n.readerType?Xh(t,r,i):function(t,n,i){var r=t.Mc;r.Nf.shift().zn(Nh(n,i,r.Bc))}(t,r,i)}function _c(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function gc(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.jc+=r}function wc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.jc,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,_=t.Fn;o>0;){var g=_.peek(),w=l.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;a=n.buffer,c=m,f=g.buffer,v=g.byteOffset,d=w,new y(a).set(new y(f,v,d),c),g.byteLength===w?_.shift():(g.byteOffset+=w,g.byteLength-=w),t.jc-=w,yc(t,w,n),o-=w}return h}function yc(t,n,i){kc(t),i.bytesFilled+=n}function mc(t){0===t.jc&&!0===t.mf?(Tc(t),Xc(t.Rf)):dc(t)}function kc(t){void 0!==t.Sf&&(t.Sf.Tf=void 0,t.Sf.bf=void 0,t.Sf=void 0)}function pc(t){for(;t.Ef.length>0;){if(0===t.jc)return;var n=t.Ef.peek();!0===wc(t,n)&&(bc(t),lc(t.Rf,n))}}function Ac(t,n){var i=t.Ef.peek();if("closed"===t.Rf.Uc){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=vh(n.buffer);var i=t.Rf;if(!0===Oc(i))for(;Dc(i)>0;)lc(i,bc(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(yc(t,n,i),!(i.bytesFilled<i.elementSize)){bc(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);gc(t,s,0,s.byteLength)}i.buffer=vh(i.buffer),i.bytesFilled-=r,lc(t.Rf,i),pc(t)}}(t,n,i);dc(t)}function bc(t){var n=t.Ef.shift();return kc(t),n}function Tc(t){t.pf=void 0,t.wf=void 0}function Ec(t,n){var i=t.Rf;"readable"===i.Uc&&(!function(t){kc(t),t.Ef=new Ih}(t),ia(t),Tc(t),Wc(i,n))}function Sc(t){var n=t.Rf.Uc;return"errored"===n?null:"closed"===n?0:t.vf-t.jc}function Rc(t,n,i){var r=d.create(cc.prototype);var e=ah(n,"pull",0,[r]),s=ah(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===hc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Rf=t,n.Af=!1,n.kf=!1,n.Sf=void 0,n.Fn=n.jc=void 0,ia(n),n.mf=!1,n.rf=!1,n.vf=dh(s),n.pf=r,n.wf=e,n.If=u,n.Ef=new Ih,t.qc=n,bh(kh(i()),function(){n.rf=!0,dc(n)},function(t){Ec(n,t)})}(t,r,function(){return ch(n,"start",[r])},e,s,i,u)}function Ic(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Nc(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Cc(t){return mh(function(n,i){var r={zn:n,Z:i};t.Mc.Nf.push(r)})}function Dc(t){return t.Mc.Nf.length}function Oc(t){var n=t.Mc;return void 0!==n&&!!Pc(n)}var xc=function(){function t(t){if(!Fc(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===fc(t.qc))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Hc(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ch(this,t),this.Nf=new Ih}return d.defineProperty(t.prototype,"closed",{get:function(){return Pc(this)?this.ph:ph(Bc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Pc(this)?void 0===this.Lc?ph(xh("cancel")):Dh(this,t):ph(Bc("cancel"))},t.prototype.read=function(t){return Pc(this)?void 0===this.Lc?ph(xh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?ph(new v("view must have non-zero byteLength")):function(t,n){var i=t.Lc;if(i.Wc=!0,"errored"===i.Uc)return ph(i.Fc);return function(t,n){var i=t.Rf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:vh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Ef.length>0)return t.Ef.push(s),Cc(i);if("closed"===i.Uc)return kh(Nh(new e(s.buffer,s.byteOffset,0),!0,i.Mc.Bc));if(t.jc>0){if(!0===wc(t,s)){var u=_c(s);return mc(t),kh(Nh(u,!1,i.Mc.Bc))}if(!0===t.mf){var o=new v("Insufficient bytes to fill elements in the given buffer");return Ec(t,o),ph(o)}}t.Ef.push(s);var h=Cc(i);return dc(t),h}(i.qc,n)}(this,t)):ph(new v("view must be an array buffer view")):ph(Bc("read"))},t.prototype.releaseLock=function(){if(!Pc(this))throw Bc("releaseLock");if(void 0!==this.Lc){if(this.Nf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Oh(this)}},t}();function Pc(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Nf")}function Bc(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Lc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Uc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Rc(this,t,r=dh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=lh(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Za.prototype),s=ah(n,"pull",0,[e]),u=ah(n,"cancel",1,[]);uc(t,e,function(){return ch(n,"start",[e])},s,u,i,r)}(this,t,r=dh(r),s)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Fc(this))throw qc("locked");return Hc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Fc(this)?ph(qc("cancel")):!0===Hc(this)?ph(new v("Cannot cancel a stream that already has a reader")):Vc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Fc(this))throw qc("getReader");if(void 0===n)return Hh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new xc(t);return i.Bc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Fc(this))throw qc("pipeThrough");if(!1===ha(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Fc(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!za(h))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Hc(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===aa(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Rh(Ya(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Fc(this)?ph(qc("pipeTo")):!1===ha(t)?ph(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||za(u)?!0===Hc(this)?ph(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===aa(t)?ph(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ya(this,t,r,e,s,u):ph(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Fc(this))throw qc("tee");var t=function(t,n){var i,r,e,s,u,o=Hh(t),h=!1,a=!1,c=!1,f=mh(function(t){u=t});function v(){return!0===h?kh(void 0):(h=!0,Rh(Sh(Yh(o),function(t){if(h=!1,!0===t.done)return!1===a&&nc(e.qc),void(!1===c&&nc(s.qc));var n=t.value,i=n,r=n;!1===a&&ic(e.qc,i),!1===c&&ic(s.qc,r)})),kh(void 0))}function d(){}return e=Mc(d,v,function(n){if(a=!0,i=n,!0===c){var e=uh([i,r]),s=Vc(t,e);u(s)}return f}),s=Mc(d,v,function(n){if(c=!0,r=n,!0===a){var e=uh([i,r]),s=Vc(t,e);u(s)}return f}),Eh(o.ph,function(t){rc(e.qc,t),rc(s.qc,t)}),[e,s]}(this);return uh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Fc(this))throw qc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Hh(t),r=d.create(Jh);return r.zc=i,r.Gc=Boolean(n),r}(this,i)},t}();function Mc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=d.create(Lc.prototype);return Uc(s),uc(s,d.create(Za.prototype),t,n,i,r,e),s}function Uc(t){t.Uc="readable",t.Mc=void 0,t.Fc=void 0,t.Wc=!1}function Fc(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"qc")}function Hc(t){return void 0!==t.Mc}function Vc(t,n){return t.Wc=!0,"closed"===t.Uc?kh(void 0):"errored"===t.Uc?ph(t.Fc):(Xc(t),Sh(t.qc[Uh](n),ih))}function Xc(t){t.Uc="closed";var n=t.Mc;void 0!==n&&(Qh(n)&&(n.Xc.forEach(function(t){t.zn(Nh(void 0,!0,n.Bc))}),n.Xc=new Ih),Mh(n))}function Wc(t,n){t.Uc="errored",t.Fc=n;var i=t.Mc;void 0!==i&&(Qh(i)?(i.Xc.forEach(function(t){t.Z(n)}),i.Xc=new Ih):(i.Nf.forEach(function(t){t.Z(n)}),i.Nf=new Ih),Lh(i,n))}function qc(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof nh.asyncIterator&&d.defineProperty(Lc.prototype,nh.asyncIterator,{value:Lc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var zc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Gc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=lh(r);if(void 0===e&&(e=1),e=dh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=lh(s);void 0===u&&(u=0),u=dh(u),function(t,n,i,r,e,s){function u(){return n}t.Cf=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=d.create(sa.prototype);return oa(u),Sa(u,d.create(Ea.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.Df;if(!0===t.nf){var r=t.Of;return Sh(r,function(){var r=t.Cf,e=r.Uc;if("erroring"===e)throw r.Fc;return nf(i,n)})}return nf(i,n)}(t,n)},function(){return function(t){var n=t.xf,i=t.Df,r=i.Pf();return Kc(i),Sh(r,function(){if("errored"===n.Uc)throw n.Fc;var t=n.qc;!0===sc(t)&&nc(t)},function(i){throw Qc(t,i),n.Fc})}(t)},function(n){return function(t,n){return Qc(t,n),kh(void 0)}(t,n)},i,r),t.xf=Mc(u,function(){return function(t){return Zc(t,!1),t.Of}(t)},function(n){return Yc(t,n),kh(void 0)},e,s),t.nf=void 0,t.Of=void 0,t.Bf=void 0,Zc(t,!0),t.Df=void 0}(this,mh(function(t){h=t}),e,o,u,a),function(t,n){var i=d.create(Jc.prototype),r=function(t){try{return tf(i,t),kh(void 0)}catch(t){return ph(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return fh(e,n,[t,i])}}var s=ah(n,"flush",0,[i]);!function(t,n,i,r){n.Lf=t,t.Df=n,n.Mf=i,n.Pf=r}(t,i,r,s)}(this,t);var c=ch(t,"start",[this.Df]);h(c)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===jc(this))throw ef("readable");return this.xf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===jc(this))throw ef("writable");return this.Cf},enumerable:!0,configurable:!0}),t}();function jc(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Df")}function Qc(t,n){rc(t.xf.qc,n),Yc(t,n)}function Yc(t,n){Kc(t.Df),Ca(t.Cf.Yc,n),!0===t.nf&&Zc(t,!1)}function Zc(t,n){void 0!==t.Of&&t.Bf(),t.Of=mh(function(n){t.Bf=n}),t.nf=n}var Jc=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===$c(this))throw rf("desiredSize");return ec(this.Lf.xf.qc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===$c(this))throw rf("enqueue");tf(this,t)},t.prototype.error=function(t){if(!1===$c(this))throw rf("error");var n;n=t,Qc(this.Lf,n)},t.prototype.terminate=function(){if(!1===$c(this))throw rf("terminate");!function(t){var n=t.Lf,i=n.xf.qc;!0===sc(i)&&nc(i);var r=new v("TransformStream terminated");Yc(n,r)}(this)},t}();function $c(t){return!!sh(t)&&!!d.prototype.hasOwnProperty.call(t,"Lf")}function Kc(t){t.Mf=void 0,t.Pf=void 0}function tf(t,n){var i=t.Lf,r=i.xf.qc;if(!1===sc(r))throw new v("Readable side is not in a state that permits enqueue");try{ic(r,n)}catch(t){throw Yc(i,t),i.xf.Fc}(function(t){return!0!==Ka(t)})(r)!==i.nf&&Zc(i,!0)}function nf(t,n){return Sh(t.Mf(n),void 0,function(n){throw Qc(t.Lf,n),n})}function rf(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function ef(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var sf,uf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return U(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(un);function of(t){return n=[t],new Lc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function hf(t){return of(new y(t))}function af(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Yu,s=function(){u();var t=new hs;r.cancel(t).catch(S),e.gh(t)},u=function(){i&&(i.mo(s),i=void 0)};i&&(i.fo?s():i.yo(s));var o=[];return T.resolve(r.read()).then(function t(n){return n.done?(u(),T.resolve(o)):(o.push(n.value),T.resolve(r.read()).then(t))}).then(function(t){u(),e._h(t)},function(t){u(),e.gh(t)}),e.lh}(t,n).then(function(t){return Ys(t).buffer})}function cf(t,n){var i=n,r=new Gc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.bo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(S)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(S)}),e}function ff(t){return Mu(new y(t))}function vf(t){return Uu(t).buffer}!function(t){t[t.Sc=0]="Sc",t[t.Uf=1]="Uf"}(sf||(sf={}));var df="content-type",lf="text/plain;charset=UTF-8",_f=function(){function t(){}var n=t.prototype;return n.Ff=function(t){return this.Hf(t).then(JSON.parse)},n.Vf=function(t,n){switch(t){case Jo.Tc:return this.Xf(n);case Jo.Ec:return this.Ff(n);case Jo.Sc:return this.Wf();case Jo.Je:return this.Hf(n);default:throw new v}},t}();function gf(t,n,i){if(t instanceof _f)return t;if(t instanceof Lc)return function(t,n){return new yf({Ku:sf.Sc,Wf:t,qf:wf(n)})}(t,i);var r=wf(i),e=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{Ku:Jo.Je,zf:t,qf:n||lf};if(t instanceof ArrayBuffer||js(t))return{Ku:Jo.Tc,zf:Ef(t),qf:n};if(nt(t)||$(t))return{Ku:Jo.Ec,zf:t,qf:n};throw new v("Unsupported BodyInit type")}return{Ku:Jo.Je,zf:null,qf:n}}(t,r)});return new yf({Ku:sf.Uf,lh:e,Gf:n})}function wf(t){return(t.get(df)||"").toLowerCase()}var yf=function(t){function n(n){var i;return(i=t.call(this)||this).jf=!1,i.Qf=void 0,i.Yf=new Yu,i.Yf.lh.catch(S),i.Zf(n),i}U(n,t);var i=n.prototype;return i.Jf=function(){return this.Yf.lh},i.Hf=function(t){return this.$f(mf,t)},i.Ff=function(t){return this.$f(pf,t)},i.Xf=function(t){return this.$f(bf,t)},i.Wf=function(){return this.Kf((t=this.Qf).Ku===sf.Sc?t.Wf:cf(t.lh.then(Tf).then(hf),t.Gf));var t},i.$f=function(t,n){if(this.jf)return T.reject(new v("Already used"));this.jf=!0;var i=t(this.Qf,n);return this.Yf._h(i.then(S)),i},i.Kf=function(t){if(this.jf)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.jf=!0;var n=new Gc,i=T.resolve(t.pipeTo(n.writable));return this.Yf._h(i),n.readable},i.Zf=function(t){this.Qf=t,t.Ku===sf.Uf&&t.lh.catch(S)},i.tv=function(){if(this.jf)throw new v("Already used");var t=function(t){if(t.Ku===sf.Sc){var n=t.Wf.tee(),i=n[0],r=n[1];return[{Ku:t.Ku,Wf:i,qf:t.qf},{Ku:t.Ku,Wf:r,qf:t.qf}]}var e=t.Gf.Eo(),s=e[0],u=e[1];return[{Ku:t.Ku,lh:t.lh,Gf:s},{Ku:t.Ku,lh:t.lh,Gf:u}]}(this.Qf),i=t[0],r=t[1];return this.Zf(i),new n(r)},L(n,[{key:"nv",get:function(){return this.jf}}]),n}(_f);function mf(t,n){return t.Ku===sf.Sc?af(t.Wf,n).then(ff):(n&&t.Gf.To(n),ls(t.lh.then(kf),t.Gf))}function kf(t){switch(t.Ku){case Jo.Je:return T.resolve(t.zf||"");case Jo.Tc:return T.resolve(t.zf).then(ff);case Jo.Ec:return T.resolve(t.zf).then(JSON.stringify)}}function pf(t,n){return t.Ku===sf.Sc?mf(t,n).then(JSON.parse):(n&&t.Gf.To(n),ls(t.lh.then(Af),t.Gf))}function Af(t){return t.Ku===Jo.Ec?T.resolve(t.zf):kf(t).then(JSON.parse)}function bf(t,n){return t.Ku===sf.Sc?af(t.Wf,n):(n&&t.Gf.To(n),ls(t.lh.then(Tf),t.Gf))}function Tf(t){switch(t.Ku){case Jo.Tc:return T.resolve(t.zf);case Jo.Je:case Jo.Ec:return kf(t).then(vf)}}function Ef(t){return t instanceof ArrayBuffer?t:Gu(Xu(t)).buffer}function Sf(t){return t.rv>=200&&t.rv<=299||304===t.rv}var Rf,If,Nf,Cf,Df=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.ev,s=i.sv,u=i.rv,o=i.uv,h=i.ov):(e=[],s=Jo.Je,u=200,o="OK",h=!1);var a=n.hv,c=new $o(n.ev||e),f=n.sv||s,v=n.av||(i&&i.hv===a?i.av:a.cv),d=i?i.fv:null,l=gf(void 0!==n.Ds?n.Ds:d,n.Gf||new os,c);return(r=t.call(this,l)||this).ev=void 0,r.hv=void 0,r.av=void 0,r.sv=void 0,r.rv=void 0,r.uv=void 0,r.ov=void 0,r.ev=c,r.hv=a,r.av=v,r.sv=f,r.rv=void 0!==n.rv?n.rv:u,r.uv=void 0!==n.uv?String(n.uv):o,r.ov=n.ov||h,r}U(n,t);var i=n.prototype;return i.Ds=function(t){return this.Vf(this.sv,t)},i.hh=function(){return new n({Ds:this.tv(),hv:this.hv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).fv=void 0,i.fv=n,i}U(n,t);var i=n.prototype;return i.Jf=function(){return this.fv.Jf()},i.Hf=function(t){return this.fv.Hf(t)},i.Ff=function(t){return this.fv.Ff(t)},i.Xf=function(t){return this.fv.Xf(t)},i.Wf=function(){return this.fv.Wf()},i.tv=function(){return this.fv.tv()},L(n,[{key:"nv",get:function(){return this.fv.nv}}]),n}(_f));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Rf||(Rf={})),function(t){t.vv="",t.dv="manifest",t.lv="segment",t._v="content-protection"}(If||(If={})),function(t){t.vv="",t.gv="initialization-segment",t.wv="fairplay-license",t.yv="fairplay-certificate",t.mv="widevine-license",t.kv="widevine-certificate",t.pv="playready-license",t.Av="clearkey-license",t.bv="aes128-key"}(Nf||(Nf={})),function(t){t.vv="",t.Tv="audio",t.Ev="video",t.Je="text",t.Sv="image"}(Cf||(Cf={}));var Of=function(t,n){this.zf=void 0,this.ev=void 0,this.Rv=void 0,this.sv=void 0,this.Iv=void 0,this.So=void 0,this.Ku=void 0,this.Nv=void 0,this.Cv=void 0,this.cv=void 0,this.Dv=void 0,this.Ov=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t.cv;n?(i=n.zf,r=n.ev,e=n.Rv,s=n.sv,u=n.Iv,o=n.So,h=n.Ku,a=n.Nv,c=n.Cv,f=n.Dv,v=n.Ov):(i=null,r={},e=Rf.GET,s=Jo.Je,u=0,h=If.vv,a=Nf.vv,c=Cf.vv,f=!1),this.cv=d,this.zf=t.zf||i,this.ev=new $o(t.ev||r),this.Rv=t.Rv||e,this.sv=t.sv||s,this.Iv=void 0!==t.Iv?Number(t.Iv)||0:u,this.So=t.So||o||(new os).So,this.Ku=t.Ku||h,this.Nv=t.Nv||a,this.Cv=t.Cv||c,this.Dv=void 0!==t.Dv?Boolean(t.Dv):f,this.Ov=t.Ov||v},xf=function(){function t(){}var n=t.prototype;return n.hv=function(t){var n=function(t){return new Df({Ds:null,ev:{},hv:t,av:t.cv,sv:t.sv,rv:0,uv:Zo.rc})}(new Of(t));return T.resolve(n)},n.xv=function(t){},n.Pv=function(){},t}();var Pf,Bf=function(){function t(t,n){void 0===n&&(n=!0),this.Bv=void 0,this.Lv=void 0,this.Bv=t,this.Lv=n}var n=t.prototype;return n.hv=function(t){var n=this.Mv(t);return this.Bv.hv(n)},n.xv=function(t){return this.Bv.xv(this.Uv(t))},n.Mv=function(n){var i=new Of(n);if(!this.Lv){var r=t.Fv(i.cv);i=new Of({cv:r},i)}return i},n.Uv=function(n){var i=n.cv;return this.Lv||(i=t.Fv(i)),{cv:i,zf:n.zf}},t.Fv=function(t){return b.Mu&&mr(t,"http://")?t.replace(":","s:"):t},n.Pv=function(){this.Bv.Pv()},L(t,null,[{key:"Hv",get:function(){return t.Vv||(t.Vv=new t(new xf)),t.Vv}}]),t}();Bf.Vv=void 0,function(t){t.Xv="HttpOpenError",t.Wv="HttpResponseError",t.qv="HttpTimeoutError"}(Pf||(Pf={}));var Lf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).zv=void 0,e.zv=n,e}return U(n,t),L(n,[{key:"hv",get:function(){return this.zv}}]),n}(un);var Mf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.cv+". Invalid URL.",i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Pf.Xv}}]),n}(Lf);var Uf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.hv,null!=r?r:function(t){return"Error while loading "+t.hv.cv+", status code "+t.rv}(n),i)||this).Gv=void 0,e.Gv=n,e}return U(n,t),L(n,[{key:"name",get:function(){return Pf.Wv}},{key:"jv",get:function(){return this.Gv}}]),n}(Lf);var Ff=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.cv+" timed out after "+t.Iv+" seconds."}(n),i)||this}return U(n,t),L(n,[{key:"name",get:function(){return Pf.qv}}]),n}(Lf),Hf=function(t,n){return(Hf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Vf(t,n){function i(){this.constructor=t}Hf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Xf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Wf=function(){var t=Xf.Blob;if(t)try{return new t,function(t,n){return new Xf.Blob(t,n)}}catch(t){}var n,i=Xf.BlobBuilder||Xf.WebKitBlobBuilder||Xf.MozBlobBuilder||Xf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),qf="function"==typeof Lc?Lc:void 0;function zf(t){return t&&"function"==typeof t.getReader}function Gf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&zf(i)}catch(t){return!1}}var jf=function(){function t(t,n){this.Mc=t,this.Qv=n}return t.prototype.pull=function(t){var n=this;return this.Mc.read().then(function(i){n.Qv&&n.Qv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Mc.cancel(t)},t}();function Qf(t,n){return n.constructor===t?n:new t(new jf(n.getReader()),{highWaterMark:0})}var Yf=function(){function t(t,n){this.Yv=t,this.St=n}return t.prototype.pull=function(t){return this.Yv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function Zf(t,n,i){return new t(new Yf(n,i),{highWaterMark:0})}var Jf={searchParams:"URLSearchParams"in Xf,iterable:"Symbol"in Xf&&"iterator"in Symbol,blob:"FileReader"in Xf&&!!Wf,formData:"FormData"in Xf,arrayBuffer:"ArrayBuffer"in Xf,stream:Gf(qf),streamRequest:"Request"in Xf&&"body"in Xf.Request.prototype,streamResponse:"Response"in Xf&&"body"in Xf.Response.prototype,abort:"AbortController"in Xf&&"Request"in Xf&&"signal"in Xf.Request.prototype,encoding:"TextEncoder"in Xf&&"TextDecoder"in Xf,url:"URL"in Xf&&function(t){try{return new Xf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Xf&&/Firefox\//.test(Xf.navigator.userAgent)};function $f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Kf(t){return"string"!=typeof t&&(t=String(t)),t}function tv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Jf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var nv=function(){function t(t){var n=this;this.ju={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return Jf.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=$f(t),n=Kf(n);var i=t.toLowerCase();if(this.ju.hasOwnProperty(i)){var r=this.ju[i],e=r[1];r[1]=e?e+", "+n:n}else this.ju[i]=[t,n]},t.prototype.delete=function(t){var n=$f(t).toLowerCase();delete this.ju[n]},t.prototype.get=function(t){var n=$f(t).toLowerCase();return this.ju.hasOwnProperty(n)?this.ju[n][1]:null},t.prototype.has=function(t){var n=$f(t).toLowerCase();return this.ju.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=$f(t)).toLowerCase();this.ju[i]=[t,Kf(n)]},t.prototype.forEach=function(t,n){for(var i in this.ju)this.ju.hasOwnProperty(i)&&t.call(n,this.ju[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),tv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),tv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),tv(t)},t.prototype.asList=function(){var t=[];for(var n in this.ju)if(this.ju.hasOwnProperty(n)){var i=this.ju[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function iv(){}Jf.iterable&&(nv.prototype[Symbol.iterator]=nv.prototype.entries);var rv,ev,sv,uv=l.min,ov=String.fromCharCode,hv=16384;function av(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=hv){var e=uv(r+hv,n);i.push(ov.apply(null,t.slice(r,e)))}return i.join("")}(n)}function cv(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function fv(t,n){return t>>n&63|128}function vv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(cv(t),n.push(t>>12&15|224),n.push(fv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(fv(t,12)),n.push(fv(t,6))),n.push(63&t|128)):n.push(t)}function dv(){if(sv>=ev)throw new f("Invalid byte index");var t=255&rv[sv];if(sv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function lv(){var t,n;if(sv>ev)throw new f("Invalid byte index");if(sv===ev)return!1;if(t=255&rv[sv],sv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|dv())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|dv()<<6|dv())>=2048)return cv(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|dv()<<12|dv()<<6|dv())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var _v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function gv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function wv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function yv(t){return t&&DataView.prototype.isPrototypeOf(t)}var mv,kv=ArrayBuffer.isView||function(t){return t&&(_v.indexOf(d.prototype.toString.call(t))>-1||yv(t))};function pv(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function Av(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function bv(t){return Jf.encoding?new Xf.TextDecoder("utf-8").decode(new y(t)):av(function(t){ev=(rv=t).length,sv=0;for(var n,i=[];!1!==(n=lv());)i.push(n);return i}(new y(t)))}function Tv(t){return Jf.encoding?(new Xf.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)vv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Ev(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?T.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Sv(t){return Ev(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Rv(t){return t.slice?t.slice(0):Iv(new y(t))}function Iv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Nv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Cv(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Zv===mv.Jv){if(!n.$v.tee)throw new f("could not clone ReadableStream body");var i=n.$v.tee(),r=i[0],e=i[1];return n.body=r,n.$v=r,n.Kv=r,e}return n.Zv===mv.Tc?Rv(n.$v):n.Zv===mv.Uf?n.$v.then(Cv):n.Kv}!function(t){t[t.Je=0]="Je",t[t.td=1]="td",t[t.nd=2]="nd",t[t.Tc=3]="Tc",t[t.Jv=4]="Jv",t[t.Uf=5]="Uf"}(mv||(mv={}));var Dv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.Kv=n||null,n)if("string"==typeof n)this.Zv=mv.Je,this.$v=n;else if((s=n)&&"function"==typeof s.then)this.Zv=mv.Uf,this.$v=T.resolve(n).then(function(n){return new t(n,i)}),this.$v.catch(iv);else if(Jf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Zv=mv.td,this.$v=n;else if(Jf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Zv=mv.nd,this.$v=n;else if(Jf.searchParams&&gv(n))this.Zv=mv.Je,this.$v=n.toString();else if(Jf.arrayBuffer&&(wv(n)||kv(n)))yv(n)&&(this.Kv=new y((e=n).buffer,e.byteOffset,e.byteLength)),this.Zv=mv.Tc,this.$v=wv(r=n)?Rv(r):Iv(r);else{if(!Jf.stream||!zf(n))throw new f("unsupported BodyInit type");n=Qf(qf,n),this.Zv=mv.Jv,this.$v=n,this.Kv=n}else this.Zv=mv.Je,this.$v="";this.rd="",i.has("content-type")?this.rd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.rd="text/plain;charset=UTF-8":u.Zv===mv.td&&u.$v.type?this.rd=u.$v.type:Jf.searchParams&&gv(n)&&(this.rd="application/x-www-form-urlencoded;charset=UTF-8"),this.rd&&i.set("content-type",this.rd)),Jf.stream&&(null==n?this.body=null:u.Zv===mv.Jv?this.body=u.$v:this.body=Zf(qf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=pv(this);return r||(this.Zv===mv.td?(t=this.$v,n=new FileReader,i=Av(n),n.readAsText(t),i):this.Zv===mv.Tc?T.resolve(this.$v).then(bv):this.Zv===mv.Jv?Sv(this.$v).then(bv):this.Zv===mv.Uf?this.$v.then(function(t){return t.text()}):this.Zv===mv.nd?T.reject(new f("could not read FormData body as text")):T.resolve(this.$v))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Jf.blob&&(Dv.prototype.blob=function(){var t,n,i=pv(this);return i||(this.Zv===mv.td?T.resolve(this.$v):this.Zv===mv.Tc?T.resolve(Wf([this.$v],{type:this.rd})):this.Zv===mv.Jv?(t=this.$v,n=this.rd,Ev(t).then(function(t){return Wf(t,{type:n||""})})):this.Zv===mv.Uf?this.$v.then(function(t){return t.blob()}):this.Zv===mv.nd?T.reject(new f("could not read FormData body as Blob")):T.resolve(Wf([this.$v],{type:this.rd})))}),Jf.arrayBuffer&&(Dv.prototype.arrayBuffer=function(){var t,n,i;return this.Zv===mv.Tc?pv(this)||T.resolve(this.$v):this.Zv===mv.td?pv(this)||(t=this.$v,n=new FileReader,i=Av(n),n.readAsArrayBuffer(t),i):this.Zv===mv.Jv?Sv(this.$v):this.Zv===mv.Uf?pv(this)||this.$v.then(function(t){return t.arrayBuffer()}):this.Zv===mv.nd?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.$v).then(Tv)}),Jf.formData&&(Dv.prototype.formData=function(){return this.Zv===mv.nd?pv(this)||T.resolve(this.$v):this.text().then(Nv)});var Ov=[301,302,303,307,308],xv=function(t){function n(n,i){var r=this,e=new nv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Vf(n,t),n.prototype.clone=function(){return new n(Cv(this),{status:this.status,statusText:this.statusText,headers:new nv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ov.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Dv);var Pv,Bv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function s(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function h(t,n){return(h=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return s(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}(n,f),s(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return s(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Pv=Bv)&&Pv.__esModule&&d.prototype.hasOwnProperty.call(Pv,"default")&&Pv.default;Bv.AbortSignal;var Lv=Bv.AbortController,Mv=Xf.DOMException;try{new Mv}catch(t){(Mv=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Mv.prototype.constructor=Mv}var Uv=Lv;function Fv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Hv(t,n,i){return new T(function(r,e){if(n.signal.aborted)return t.catch(iv),e(Vv());var s=function(){n.signal.removeEventListener("abort",s),e(Vv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function Vv(){return new Mv("Aborted","AbortError")}var Xv,Wv="moz-chunked-arraybuffer";function qv(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Xv||(Xv={}));var zv=function(){function t(t,n){var i=this;this.ed=!1,this.zv=t,this.sd=n,this.ud=new k,this.od=new T(function(t,n){i.hd=t,i.fd=n})}return t.prototype.send=function(){var t=this;return this.vd().then(function(n){return t.dd(n,t.sd),t.od})},t.prototype.vd=function(){var t=this.zv;return t.Zv===mv.Jv?t.arrayBuffer():T.resolve(t.Kv)},t.prototype.ld=function(t){this.zv.onprogress&&this.zv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype._d=function(t){this.fd(t)},t.prototype.gd=function(){this._d(new v("Network request failed"))},t.prototype.wd=function(){this._d(new v("Network request failed"))},t.prototype.yd=function(){this._d(Vv())},t.prototype.dd=function(t,n){var i=this,r=this.zv,e=this.ud,s=function(){return i.md()};if(r.signal.aborted)return this.yd();e.onreadystatechange=function(){if(e.readyState>=Xv.HEADERS_RECEIVED&&!i.ed){var t=function(t){var n=new nv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.ed=!0,i.kd(n)}},e.onprogress=function(t){return i.ld(t)},e.onload=function(){return i.pd()},e.onerror=function(){return i.gd()},e.ontimeout=function(){return i.wd()},e.onabort=function(){return i.yd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.md=function(){this.yd(),this.ud.abort()},t}(),Gv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Ad=void 0,r.bd=void 0,r}return Vf(n,t),n.prototype.kd=function(t){var n=this;this.Ad=new T(function(t,i){n.bd=t,n.Td=i}),this.hd(new xv(this.Ad,t))},n.prototype.pd=function(){var t=this.ud.response||this.ud.responseText;this.bd(t)},n.prototype._d=function(n){t.prototype._d.call(this,n),this.Td&&this.Td(n)},n}(zv),jv=function(t){function n(n){var i=t.call(this,n,Wv)||this;return i.Ed=void 0,i.Sd=void 0,i.Rd=!1,i}return Vf(n,t),n.prototype.kd=function(t){var n=this;this.Ed=new qf({start:function(t){n.Sd=t},cancel:function(){n.Rd=!0,n.md()}}),this.hd(new xv(this.Ed,t))},n.prototype.ld=function(n){this.Rd||this.Sd.enqueue(new y(this.ud.response)),t.prototype.ld.call(this,n)},n.prototype.pd=function(){this.Sd.close()},n.prototype._d=function(n){t.prototype._d.call(this,n),this.Sd&&!this.Rd&&(this.Rd=!0,this.Sd.error(n))},n}(zv),Qv=function(){var t=Jf.firefox&&qv(Wv);return Qv=function(){return t},t},Yv=function(){var t;return t=Jf.arrayBuffer&&qv("arraybuffer")?"arraybuffer":Jf.blob&&qv("blob")?"blob":"",Yv=function(){return t},t};function Zv(t){return(Jf.stream&&Qv()?new jv(t):new Gv(t,Yv())).send()}var Jv=Xf.fetch,$v=Xf.Request,Kv=(Xf.Response,Xf.AbortController);var td=["http:","https:"];var nd=function(){try{if(Jf.streamRequest){var t=new $v("about:blank",{body:"",method:"POST"}).body;if(t&&Gf(t.constructor))return t.constructor}}catch(t){}}();function id(t,n,i){var r;if(Jf.stream){var e=void 0;if(Jf.streamResponse){var s=t.body;e=s&&Qf(qf,s)}else e=Zf(qf,function(){return Hv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new jf(n.getReader(),i),{highWaterMark:0})}(qf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,rd(t.headers))),r=e}else{var u=Hv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,rd(t.headers))),r=u}return new xv(r,t)}function rd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ed(t){var n=new Uv;return t.signal&&Fv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.Zv===mv.Jv?Jf.streamRequest&&nd?T.resolve(Qf(nd,e.$v)):Hv(t.arrayBuffer(),n,!1):Hv(T.resolve(t.Kv),n,!1),Jf.abort){var s=new Kv;Fv(s,n.signal),r=s.signal}return i.then(function(n){return new $v(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof nv?i:new nv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return Jv(i).then(function(i){return id(i,n,t.onprogress)})})}var sd=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var ud=function(t){function n(i,r){var e,s,u,o,h,a,c,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,s=i.credentials,r.headers||(u=new nv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.Kv||(_=i.Kv,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,d=null;if(!r.headers&&u||(u=new nv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return sd.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Uv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Vf(n,t),n.prototype.clone=function(){return new n(this,{body:Cv(this)})},n}(Dv),od="function"==typeof Jv&&Jf.stream&&Jf.streamResponse&&Jf.url;function hd(t,n){return new T(function(i){var r=new ud(t,n);i((od&&function(t){try{return td.indexOf(new Xf.URL(t,Xf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?ed:Zv)(r))})}hd.polyfill=!0;var ad=function(){function t(t){this.jv=void 0,this.zv=void 0,this.Id=new os,this.Gv=void 0,this.Nd=!1,this.zv=t,this.Id.To(t.So),this.jv=this.Cd()}var n=t.prototype;return n.Cd=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,s,u,h,a,c=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.zv).Iv&&o(function(){c.Nd=!0,c.Id.bo()},n.Iv),t.prev=2,i=hd(n.cv,{method:n.Rv,headers:n.ev.Rc(),body:n.zf,credentials:n.Dv?"include":"same-origin",signal:vd(this.Id.So),onprogress:n.Ov}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Mf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),as(e=this.Dd(t.t1))&&this.Id.bo(),e;case 20:if(s=r.url||n.cv,u=0===r.status&&"file:"===(f=s,b.Zs(f).protocol)?200:r.status,h=new cd(this,r,this.Id),a=new Df({Ds:h,hv:n,sv:n.sv,ev:new $o(r.headers.asList()),rv:u,uv:r.statusText,av:s}),this.Gv=a,!Sf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Uf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Dd=function(t){return as(t)?this.Nd?new Ff(this.zv):new hs(t.message,t):this.Gv?new Uf(this.Gv,t):new Mf(this.zv,t)},t}(),cd=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Od=void 0,e.Id=void 0,e.Yf=new Yu,e.an=n,e.Od=i,e.Id=r,e.Yf.lh.catch(S),e}U(n,t);var i=n.prototype;return i.Jf=function(){return this.Yf.lh},i.Hf=function(t){return this.$f(this.Od.text(),t)},i.Xf=function(t){return this.$f(this.Od.arrayBuffer(),t)},i.Wf=function(){var t=this.Od.body;return t?this.Kf(t):cf(this.Xf().then(hf),this.Id)},i.tv=function(){var t=this.Od.clone(),i=this.Id.Eo(),r=i[0],e=i[1];return this.Id=r,new n(this.an,t,e)},i.$f=function(t,n){var i=this;n&&this.Id.To(n);var r=T.resolve(t).catch(function(t){throw i.an.Dd(t)});return r=ls(r,this.Id),this.Yf._h(r.then(S)),r},i.Kf=function(t){var n=this,i=new Gc,r=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.Dd(t);throw i.writable.abort(r).catch(S),r});return r=ls(r,this.Id),this.Yf._h(r.then(S)),i.readable},L(n,[{key:"nv",get:function(){return this.Od.bodyUsed}}]),n}(_f),fd="abort";function vd(t){var n=new Uv;if(t.fo)n.abort();else if(!t.vo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(fd,i),t.mo(i),t.po(r)};n.signal.addEventListener(fd,i),t.yo(i),t.ko(r)}return n.signal}function dd(t,n,i){return new T(function(r,e){if(i&&i.fo)return e(new hs);var s=function(t){o(),r(t)},u=function(){o(),e(new hs)},o=function(){t.removeEventListener(n,s),i&&i.mo(u)};t.addEventListener(n,s),i&&i.yo(u)})}var ld,_d,gd=function(){function t(){}var n=t.prototype;return n.hv=function(t){return new ad(t).jv},n.xv=function(t){if(Pr&&Pr.sendBeacon)Pr.sendBeacon(t.cv,Qo([t.zf],{type:t.qf}));else{var n=t.qf?{"Content-type":t.qf}:void 0;ys(this.hv(new Of({Rv:Rf.POST,cv:t.cv,zf:t.zf,ev:n})))}},n.Pv=function(){},t}();function wd(t){if(Q.Re||Q.Ee){var n=Q.Te;if(void 0===n||Number(n)<t)return!1}return!0}ld=new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).xd=void 0,n.Pd=wd(42),n.Bd=!wd(56),n.Ld=void 0,n}return U(n,t),L(n,[{key:"Eu",get:function(){return this.xd||(this.xd=new Ge(qo())),this.xd}},{key:"Md",get:function(){return this.Pd}},{key:"Ud",get:function(){return this.Bd}},{key:"Fd",get:function(){return!1}},{key:"Hd",get:function(){return Go.Ha()}},{key:"Vd",get:function(){return{Xd:Yo}}},{key:"Wd",get:function(){return u.connection&&u.connection.effectiveType||"default"}},{key:"qd",get:function(){return u.connection&&u.connection.type||"unknown"}},{key:"zd",get:function(){return this.Ld||(this.Ld=new Bf(new gd)),this.Ld}}]),n}(ve)),b=ld,function(t){t.Gd="jd",t.Qd="Yd"}(_d||(_d={}));_d.Gd,_d.Qd;var yd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Zd=void 0,r}return U(n,t),L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}}]),n}(Is);var md,kd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(yd),pd=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n}(Is),Ad=function(t){function n(n){var i;return(i=t.call(this,_d.Gd)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new bd(this.Kd.Jd)},n}(kd),bd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return U(n,t),n}(pd),Td=function(t){function n(n){var i;return(i=t.call(this,_d.Qd)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new Ed(this.Kd.Jd)},n}(kd),Ed=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return U(n,t),n}(pd);!function(t){t.tl="nl",t.il="sl",t.ul="ol",t.hl="al",t.cl="fl",t.vl="dl",t.ll="_l",t.gl="wl",t.yl="xh",t.ml="kl",t.pl="Al",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(md||(md={}));var Sd=function(t){function n(){var n;return(n=t.call(this)||this).bl=[],n.Zd=void 0,n}U(n,t);var i=n.prototype;return i.Tl=function(t){return this.bl[t]},i.El=function(t){return!(!t||ns(this.bl,t))&&(this.bl.push(t),this.Zd&&this.Zd.push(t.Jd),t.Oo(md.vl,this.Co),this.Do(new Ad(t)),!0)},i.Sl=function(t){if(!t)return!1;var n=this.bl.indexOf(t);return!(n<0)&&(ts(this.bl,n),this.Zd&&ts(this.Zd,n),t.Lo(md.vl,this.Co),this.Do(new Td(t)),!0)},i.Rl=function(t){return ns(this.bl,t)},i.Il=function(){for(var t=this.bl,n=t.length-1;n>=0;n-=1)this.Sl(t[n])},i.Pv=function(){this.Il(),this.Bo()},L(n,[{key:"Nl",get:function(){return this.bl}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"Cl",get:function(){return this.bl.length}}]),n}(Ss),Rd=function(t){function n(n){var i;return(i=t.call(this,md.vl)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new Id(this.Kd.Jd)},n}(kd),Id=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return U(n,t),n}(pd),Nd=function(t){function n(){var n;return(n=t.call(this)||this).Dl=void 0,n.Ol=function(t){var i=t.Kd;n.El(i)},n.xl=function(t){var i=t.Kd;n.Sl(i)},n}U(n,t);var i=n.prototype;return i.Pl=function(t){t.Oo(_d.Gd,this.Ol),t.Oo(_d.Qd,this.xl)},i.Bl=function(t){t.Lo(_d.Gd,this.Ol),t.Lo(_d.Qd,this.xl)},i.Pv=function(){this.Dl&&this.Dl.Pv(),t.prototype.Pv.call(this)},L(n,[{key:"Ll",get:function(){return this.Dl},set:function(t){var n=this.Dl;if(t!==n){if(n){this.Bl(n);for(var i=0,r=n.Nl;i<r.length;i++){var e=r[i];t&&t.Rl(e)||this.Sl(e)}}if(this.Dl=t,t){for(var s=[],u=0,o=t.Nl;u<o.length;u++){var h=o[u];this.El(h),this.Ml(h)&&s.push(h)}this.Pl(t);for(var a=0;a<s.length;a++){var c=s[a];c.Do(new Rd(c))}}}}}]),n}(Sd),Cd=d.freeze||R;function Dd(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Od(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function xd(t){if(nt(t)){var n={};for(var i in t)Y.call(t,i)&&(n[i]=xd(t[i]));return n}if($(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=xd(t[e]));return r}return t}function Pd(t,n){return t===n||!(!t||!n)&&(!(!tt(t)||!tt(n))&&(K(t)?!!K(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Pd(t[e],n[e]))return!1;return!0}(t,n):!K(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!Y.call(n,s)||!Pd(t[s],n[s]))return!1}return!0}(t,n)))}function Bd(t,n){return t.constructor===n.constructor}function Ld(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Md(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Ud(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Fd(t){var n=Ud(t);if(w(n))throw new f("Expected a valid number.");return n}function Hd(t){return"string"==typeof t?t:""}function Vd(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Xd=[_d.Gd,_d.Qd,md.vl];function Wd(t){var n,i=t.Nl.map(function(t){return t.Jd});return i.item=function(n){var i=0|n,r=t.Tl(i);return r&&r.Jd||void 0},i.addEventListener=function(t,i){n.Oo(t,i)},i.removeEventListener=function(t,i){n.Lo(t,i)},n=new Rs(i),t.Oo(Xd,function(t){return n.Do(t.Jd)}),i}function qd(){}function zd(t){var n,i=[md.yl,md.vl,md.ml,md.pl,md.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Ul&&t.Ul.Jd},get enabled(){return t.Fl},set enabled(n){t.Fl=Md(n)},get id(){return t.Hl},get uid(){return t.Vl},get kind(){return t.Xl},get label(){return t.Wl},set label(n){t.Wl=Hd(n)},get language(){return t.ql},get qualities(){return t.zl.Jd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.zl.Nl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.Jd===o&&i.push(s)}return i}(t,$(n)?n:[n]):[]).length>0?t.Gl=i:t.Gl=void 0},get targetQuality(){if(t.Gl)return 1===t.Gl.length?t.Gl[0].Jd:t.Gl.map(function(t){return t.Jd})},addEventListener:function(t,i){var r=Vd(t,Hd);n.Oo(r,i)},removeEventListener:function(t,i){var r=Vd(t,Hd);n.Lo(r,i)}};return n=new Rs(r),t.Oo(i,function(t){return n.Do(t.Jd)}),d.defineProperty(r,"constructor",{value:qd}),r}function Gd(){}function jd(t){var n=Wd(t);return d.defineProperty(n,"constructor",{value:Gd}),n}var Qd,Yd,Zd=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.$d=function(){return jd(this)},i.Ml=function(t){return t.Fl},n}(Nd);function Jd(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Qd.jl:case Qd.Ql:case Qd.Yl:return n}}else if("number"==typeof t)switch(t){case 0:return Qd.jl;case 1:return Qd.Ql;case 2:return Qd.Yl}return Qd.jl}function $d(){}function Kd(t){var n,i=[md.vl,md.yl,md.tl,md.il,md.ul,md.hl,md.cl,md.ll,md.gl],r=[Yd.Zl],e={get kind(){return t.Xl},get label(){return t.Wl},set label(n){t.Wl=Hd(n)},get language(){return t.ql},get id(){return t.Hl},get uid(){return t.Vl},get inBandMetadataTrackDispatchType(){return t.Jl},get mode(){return t.$l},set mode(n){n!==Qd.Yl&&n!==Qd.Ql&&n!==Qd.jl||(t.$l=n)},get type(){return t.Ku},get readyState(){return il(t.Kl)},get cues(){return t.$l===Qd.jl?null:t.t_.Jd},get activeCues(){return t.$l===Qd.jl?null:t.n_.Jd},get src(){return t.i_||""},addEventListener:function(t,i){var r=Vd(t,Hd);n.Oo(r,i)},removeEventListener:function(t,i){var r=Vd(t,Hd);n.Lo(r,i)}};return n=new Rs(t),t.Oo(i,function(t){return n.Do(t.Jd)}),t.Oo(r,function(t){return n.Do(t)}),d.defineProperty(e,"constructor",{value:$d}),e}function tl(){}function nl(t){var n=Wd(t);return d.defineProperty(n,"constructor",{value:tl}),n}function il(t){return t}!function(t){t.jl="disabled",t.Ql="hidden",t.Yl="showing"}(Qd||(Qd={})),function(t){t.Zl="error"}(Yd||(Yd={}));var rl=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.$d=function(){return nl(this)},i.Ml=function(t){return t.$l===Qd.Yl},n}(Nd),el=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Po=function(n){t.prototype.Po.call(this,n)},i.Fo=function(n){t.prototype.Fo.call(this,n)},n}(Ss),sl=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(el),ul=function(t){function n(){return t.call(this,Zo.$a)||this}return U(n,t),n}(Is),ol=function(t){function n(n){var i;return(i=t.call(this,Zo.ja)||this).currentSource=n,i}return U(n,t),n}(Is),hl=function(){function t(){}return t.r_=function(n,i){var r=t.e_(n,i);return r?t.s_(r):0},t.u_=function(){return b.Wd||"default"},t.o_=function(){return b.qd||"unknown"},t.e_=function(n,i){var r,e=null==(r=b.Hd)?void 0:r.th(i),s=e&&JSON.parse(e);if(s&&s[n])return t.h_(s,n,i)},t.s_=function(t){var n=t.availableBandwidth;return n||0},t.h_=function(n,i,r){if(!t.a_(n,i))return n[i];t.c_(n,i,r)},t.c_=function(t,n,i){var r;delete t[n],null==(r=b.Hd)||r.Fa(i,JSON.stringify(t))},t.a_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.f_=function(t,n,i,r){var e;return _e({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.v_=function(n){var i=t.u_();t.d_(i,"theoplayer-stored-network-info",n,Zt())},t.d_=function(n,i,r,e){var s,u,o=null==(s=b.Hd)?void 0:s.th(i),h=o?JSON.parse(o):void 0,a=t.f_(h,n,r,e);null==(u=b.Hd)||u.Fa(i,JSON.stringify(a))},t.l_=function(){var n=t.u_();return t.r_(n,"theoplayer-stored-network-info")},t}();var al,cl,fl,vl,dl,ll,_l="1ADD53F3";function gl(t){return{chromecast:function(t){return{appID:t&&t.appID?Hd(t.appID):_l}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return al.AUTO;case"manual":return al.MANUAL;case"disabled":return al.DISABLED;default:return al.MANUAL}}(t?t.strategy:void 0)}}function wl(t){var n,i=fl.__;return(n=t)&&yr(n,"mpd")&&(i=fl.g_),function(t){return!!t&&yr(t,"m3u8")}(t)&&(i=fl.w_),i}function yl(t){switch(t){case cl.y_:case cl.m_:return t;default:return cl.k_}}function ml(t){return!!t&&mr(t.toLowerCase(),fl.g_)}function kl(t){if(!t)return!1;var n=t.toLowerCase();return mr(n,fl.w_)||mr(n,fl.p_)}function pl(t){return tt(t)&&tt(t.ssai)&&"google-dai"===t.ssai.integration}function Al(t){return tt(t)&&it(t.integration)&&"verizon-media"===t.integration}function bl(t){if(it(t))return!t;if(Al(t))return!t.id;if(pl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Tl(t){return Boolean(tt(t)&&it(t.src))}function El(t){return it(t)||Tl(t)||pl(t)||Al(t)}function Sl(t){if(t){if(El(t))return bl(t);for(var n=0;n<t.length;n++){if(!bl(t[n]))return!1}return!0}return!0}function Rl(){return{crossOrigin:cl.k_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Il(){return _e({},Rl(),{src:void 0,type:fl.__,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Nl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:vl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return dl.NONE;case"midroll-and-postroll":default:return dl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Md(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return vl.INSECURE;case"disabled":return vl.DISABLED;case"enabled":default:return vl.ENABLED}}(t.vpaidMode)),$(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(it)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Md(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Cl(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];nt(e)&&n.push(e)}return n}function Dl(t){return it(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(al||(al={})),function(t){t.k_="",t.y_="anonymous",t.m_="use-credentials"}(cl||(cl={})),function(t){t.g_="application/dash+xml",t.w_="application/vnd.apple.mpegurl",t.p_="application/x-mpegurl",t.__="video/mp4",t.A_="application/vnd.theoplayer.hesp+json",t.b_="application/vnd.theo.hesp+json"}(fl||(fl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(vl||(vl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(dl||(dl={})),function(t){t[t.T_=0]="T_",t[t.E_=1]="E_",t[t.S_=2]="S_",t[t.R_=3]="R_",t[t.I_=4]="I_"}(ll||(ll={}));var Ol,xl=function(t){function n(n,i){var r;return void 0===i&&(i=ll.T_),(r=t.call(this,Zo.Za)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),Pl=function(t){function n(n){var i;return(i=t.call(this,Zo.sc)||this).currentTime=n,i}return U(n,t),n}(Is),Bl=function(t){function n(n){var i;return(i=t.call(this,Zo.uc)||this).currentTime=n,i}return U(n,t),n}(Is);!function(t){t.N_="canplay",t.C_="canplaythrough",t.D_="loadeddata",t.O_="loadedmetadata",t.ll="readystatechange",t.x_="waiting",t.P_="playing"}(Ol||(Ol={}));var Ll,Ml,Ul=[Ol.N_,Ol.C_,Ol.D_,Ol.O_,Ol.ll,Ol.x_,Ol.P_],Fl=function(t){function n(n,i){var r;return void 0===i&&(i=ll.E_),(r=t.call(this,Ol.O_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),Hl=function(t){function n(n){var i;return(i=t.call(this,Zo.Ya)||this).duration=n,i}return U(n,t),n}(Is),Vl=function(t){function n(n,i){var r;return(r=t.call(this,Zo.hc)||this).currentTime=n,r.playbackRate=i,r}return U(n,t),n}(Is),Xl=function(t){function n(n,i){var r;return(r=t.call(this,Zo.mc)||this).currentTime=n,r.currentProgramDateTime=i,r}return U(n,t),n}(Is),Wl=function(t){function n(n){var i;return(i=t.call(this,Zo.Ja)||this).currentTime=n,i}return U(n,t),n}(Is),ql=function(t){function n(n,i){var r;return void 0===i&&(i=ll.S_),(r=t.call(this,Ol.D_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),zl=function(t){function n(n){var i;return(i=t.call(this,Zo.vc)||this).currentTime=n,i}return U(n,t),n}(Is),Gl=function(t){function n(n){var i;return(i=t.call(this,Zo.fc)||this).currentTime=n,i}return U(n,t),n}(Is),jl=function(t){function n(n,i){var r;return(r=t.call(this,Zo.kc)||this).currentTime=n,r.volume=i,r}return U(n,t),n}(Is),Ql=function(t){function n(n,i){var r;return void 0===i&&(i=ll.R_),(r=t.call(this,Ol.N_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),Yl=function(t){function n(n,i){var r;return void 0===i&&(i=ll.I_),(r=t.call(this,Ol.C_)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),Zl=function(t){function n(n,i){var r;return(r=t.call(this,Ol.ll)||this).currentTime=n,r.readyState=i,r}return U(n,t),n}(Is),Jl=function(t){function n(n){var i;return(i=t.call(this,Yd.Zl)||this).errorObject=n,i}return U(n,t),n.prototype.$d=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yd);function $l(t){switch(t){case Ll.ALL:case Ll.CONTENT:return t;default:return Ll.NONE}}function Kl(t){var n,i,r,e=xd(t||{});return e.libraryLocation&&(e.libraryLocation=Ir(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=gl(e.cast),e.ads=Nl(e.ads),e.analytics=Cl(e.analytics),e.mutedAutoplay=$l(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=it(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Ir(t)}catch(t){return void b.mu("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function t_(t){return{B_:t.B_,L_:t.L_,M_:t.M_,Go:t.Go,U_:t.U_,F_:t.F_,H_:t.H_,V_:t.V_,Kl:t.Kl,X_:t.X_,W_:t.W_,q_:t.q_,z_:t.z_}}function n_(t,n){var i=n.z_,r=n.F_;t.z_=i,t.F_=r}function i_(t,n,i){if(n!==i){var r=n.B_,e=n.L_,s=n.F_,u=n.H_,o=n.V_,h=n.Kl,a=n.X_,c=(n.q_,n.W_,n.z_),f=i.B_,v=i.L_,d=i.M_,l=i.U_,_=i.F_,g=i.H_,y=i.V_,m=i.Kl,k=i.X_,p=(i.q_,i.W_,i.z_);h!==ll.T_&&t.Do(new xl(f,m)),g&&!u?t.Do(new Pl(f)):!g&&u&&t.Do(new Bl(f)),m>=ll.E_&&t.Do(new Fl(f,m)),v===e||w(v)&&w(e)||t.Do(new Hl(v)),y!==o&&t.Do(new Vl(f,y)),f!==r&&t.Do(new Xl(f,void 0)),d&&t.Do(new Wl(f)),m>=ll.S_&&t.Do(new ql(f,m)),k&&!a?t.Do(new zl(f)):!k&&a&&t.Do(new Gl(f)),p===c&&_===s||t.Do(new jl(f,p)),m>=ll.R_&&t.Do(new Ql(f,m)),m>=ll.I_&&t.Do(new Yl(f,m)),m!==h&&t.Do(new Zl(f,m)),l&&t.Do(new Jl(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ll||(Ll={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Ml||(Ml={}));var r_,e_=400,s_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},u_=o_(.5,s_);function o_(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function h_(){var t;return t="Android"===b.Pu.Bu?u_:s_,b.Pu.Lu?function(t){var n=t;b.Pu.Lu&&(n=o_((e_+250)/1e3,n));return n}(t):t}!function(t){t[t.G_=0]="G_",t[t.j_=1]="j_",t[t.Q_=-1]="Q_"}(r_||(r_={}));var a_=function(t,n){return(0|t)-(0|n)},c_=function(t,n){return t===n?r_.G_:t<n?r_.Q_:t>n?r_.j_:w(t)?w(n)?r_.G_:r_.j_:r_.Q_};function f_(t,n,i){return zt(t,n,i)?r_.G_:c_(t,n)}var v_=function(t,n){return Gt(t,n)?r_.G_:c_(t,n)};var d_=function(){function t(){}var n=t.prototype;return n.Y_=function(t){return this.Z_()*t},n.J_=function(t){return this.K_(t)>0},n.tg=function(t){return this.K_(t)>=0},n.ng=function(t,n){return this.rg(t).ig(n)},n.eg=function(t){return 0===this.K_(t)},n.sg=function(t){return this.K_(t)<0},n.ig=function(t){return this.K_(t)<=0},n.ug=function(){return this.og()?this.hg():this},n.ag=function(t){return this.cg(t.hg())},n.rg=function(t){return this.ag(t).ug()},t}();function l_(t,n){return t.fg()?n.fg()?r_.G_:r_.j_:n.fg()?r_.Q_:t.vg()?n.vg()&&t.og()===n.og()?r_.G_:t.og()?r_.Q_:r_.j_:n.og()?r_.j_:r_.Q_}var __=function(){function t(t,n){this.dg=void 0,this.lg=void 0,this.dg=t,this.lg=n}t._g=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.gg=function(n){return n.unsigned?new t(n,Xt.UZERO):new t(n,n.isNegative()?Xt.NEG_ONE:Xt.ZERO)},t.wg=function(n,i){if(w(n))return i?t.yg:t.mg;if(i){if(n<0)return t.yg;if(n>=3.402823669209385e38)return t.kg}else{if(n<=-1.7014118346046923e38)return t.pg;if(n+1>=1.7014118346046923e38)return t.Ag}return n<0?t.wg(-n,i).hg():t._g(Xt.fromNumber(n%0x10000000000000000),Xt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.bg=function(){return this.lg.unsigned},n.Tg=function(){return this.dg.isZero()&&this.lg.isZero()},n.og=function(){return this.lg.isNegative()},n.Eg=function(){return this.bg()?t._g(this.dg,this.lg,!1):this},n.Sg=function(){return this.bg()?this:t._g(this.dg,this.lg,!0)},n.Rg=function(){return this.dg},n.Z_=function(){return this.og()?-this.hg().Z_():0x10000000000000000*this.lg.toNumber()+this.dg.toUnsigned().toNumber()},n.Ig=function(){return this.dg.toInt()},n.eg=function(t){return(this.bg()===t.bg()||this.lg.getHighBits()>>>31!=1||t.lg.getHighBits()>>>31!=1)&&(this.lg.toUnsigned().eq(t.lg.toUnsigned())&&this.dg.toUnsigned().eq(t.dg.toUnsigned()))},n.K_=function(t){if(this.eg(t))return r_.G_;var n=this.og(),i=t.og();if(n&&!i)return r_.Q_;if(!n&&i)return r_.j_;if(!this.bg())return this.ag(t).og()?r_.Q_:r_.j_;var r=this.Sg(),e=t.Sg(),s=e.lg.comp(r.lg);return s>0||0===s&&e.dg.gt(r.dg)?r_.Q_:r_.j_},n.sg=function(t){return this.K_(t)<0},n.ig=function(t){return this.K_(t)<=0},n.Ng=function(t){return this.K_(t)>0},n.Cg=function(t){return this.K_(t)>=0},n.Dg=function(){return new t(this.dg.not(),this.lg.not())},n.Og=function(n){return new t(this.dg.and(n.dg),this.lg.and(n.lg))},n.xg=function(n){return new t(this.dg.or(n.dg),this.lg.or(n.lg))},n.Pg=function(n){var i=127&n;return 0===i?this:i<64?t._g(this.dg.shl(i),this.lg.shl(i).or(this.dg.shru(64-i)),this.bg()):t._g(Xt.ZERO,this.dg.shl(i-64),this.bg())},n.Bg=function(n){var i=127&n;return 0===i?this:i<64?t._g(this.dg.shru(i).or(this.lg.shl(64-i)),this.lg.shr(i),this.bg()):t._g(this.lg.shr(i-64),this.lg.isNegative()?Xt.NEG_ONE:Xt.ZERO,this.bg())},n.Lg=function(n){var i=127&n;return 0===i?this:i<64?t._g(this.dg.shru(i).or(this.lg.shl(64-i)),this.lg.shru(i),this.bg()):64===i?t._g(this.lg,Xt.ZERO,this.bg()):t._g(this.lg.shru(i-64),Xt.ZERO,this.bg())},n.cg=function(n){var i=this.lg.high>>>16,r=65535&this.lg.high,e=this.lg.low>>>16,s=65535&this.lg.low,u=this.dg.high>>>16,o=65535&this.dg.high,h=this.dg.low>>>16,a=65535&this.dg.low,c=n.lg.high>>>16,f=65535&n.lg.high,v=n.lg.low>>>16,d=65535&n.lg.low,l=n.dg.high>>>16,_=65535&n.dg.high,g=n.dg.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.dg.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.bg(),S=Xt.fromBits(m<<16|k,w<<16|y,E),R=Xt.fromBits(b<<16|T,p<<16|A,E);return t._g(R,S,E)},n.ag=function(t){return this.cg(t.hg())},n.hg=function(){return this.Dg().cg(t.Mg)},n.Ug=function(n){if(this.Tg()||n.Tg())return this.bg()?t.yg:t.mg;if(this.og())return n.og()?this.hg().Ug(n.hg()):this.hg().Ug(n).hg();if(n.og())return this.Ug(n.hg()).hg();if(this.lg.isZero()&&0===this.dg.high&&n.lg.isZero()&&0===n.dg.high)return t.gg(this.dg.multiply(n.dg));var i=Xt.fromBits(4294967295,0,!0),r=this.dg.and(i),e=this.dg.shru(32),s=this.lg.and(i),u=this.lg.shru(32),o=n.dg.and(i),h=n.dg.shru(32),a=n.lg.and(i),c=n.lg.shru(32),f=Xt.UZERO,v=Xt.UZERO,d=Xt.UZERO,l=Xt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Xt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Xt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t._g(_,g,this.bg())},n.Fg=function(n){var i,r,e=n;if(e.Tg())throw new RangeError("division by zero");if(this.Tg())return this.bg()?[t.yg,t.yg]:[t.mg,t.mg];if(this.bg()){if(e.bg()||(e=e.Sg()),e.Ng(this))return[t.yg,this];if(e.Ng(this.Lg(1)))return[r=t.Hg,i=this.ag(e)];r=t.yg}else{if(this.eg(t.pg)){if(e.eg(t.Mg)||e.eg(t.Vg))return[t.pg,t.mg];if(e.eg(t.pg))return[t.Mg,t.mg];var s=this.Bg(1).Xg(e).Pg(1);return s.eg(t.mg)?r=e.og()?t.Mg:t.Vg:(i=this.ag(e.Ug(s)),r=s.cg(i.Xg(e))),[r,i=this.ag(e.Ug(r))]}if(e.eg(t.pg))return this.bg()?[t.yg,this]:[t.mg,this];if(this.og()){if(e.og())return this.hg().Fg(e.hg());var u=this.hg().Fg(e);return r=u[0],i=u[1],[r.hg(),i.hg()]}if(e.og()){var o=this.Fg(e.hg());return r=o[0],i=o[1],[r.hg(),i.hg()]}r=t.mg}for(i=this;i.Cg(e);){for(var h=l.max(1,l.floor(i.Z_()/e.Z_())),a=l.ceil(l.log(h)/l.LN2),c=a<=48?1:l.pow(2,a-48),f=t.wg(h),v=f.Ug(e);v.og()||v.Ng(i);)h-=c,v=(f=t.wg(h,this.bg())).Ug(e);f.Tg()&&(f=t.Mg),r=r.cg(f),i=i.ag(v)}return[r,i]},n.Xg=function(t){return this.Fg(t)[0]},n.Wg=function(t){return this.Fg(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Tg())return"0";if(this.og()){if(this.eg(t.pg)){var r=t.wg(i),e=this.Xg(r),s=e.Ug(r).ag(this);return e.toString(i)+s.Ig().toString(i)}return"-"+this.hg().toString(i)}for(var u=t.wg(l.pow(i,6),this.bg()),o=this,h="";;){var a=o.Xg(u),c=(o.ag(a.Ug(u)).Ig()>>>0).toString(i);if((o=a).Tg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();__.mg=__.gg(Xt.ZERO),__.yg=__.gg(Xt.UZERO),__.Mg=__.gg(Xt.ONE),__.Hg=__.gg(Xt.UONE),__.Vg=__.gg(Xt.NEG_ONE),__.Ag=__._g(Xt.NEG_ONE,Xt.MAX_VALUE,!1),__.kg=__._g(Xt.MAX_UNSIGNED_VALUE,Xt.MAX_UNSIGNED_VALUE,!0),__.pg=__._g(Xt.ZERO,Xt.MIN_VALUE,!1);var g_=function(){function t(t,n){void 0===n&&(n=1),this.qg=void 0,this.zg=void 0,this.qg=t,this.zg=n}t.Gg=function(n){return new t(l.ceil(n.qg),n.zg)},t.jg=function(n){return new t(l.floor(n.qg),n.zg)},t.Qg=function(t,n){return t.tg(n)?t:n},t.Yg=function(t,n){return t.ig(n)?t:n};var n=t.prototype;return n.cg=function(n){return this.zg>=n.zg?new t(this.qg+n.Zg(this.zg).qg,this.zg):new t(this.Zg(n.zg).qg+n.qg,n.zg)},n.J_=function(t){return t.sg(this)},n.tg=function(t){return t.ig(this)},n.rg=function(n){return this.zg>=n.zg?new t(l.abs(this.qg-n.Zg(this.zg).qg),this.zg):n.rg(this)},n.ng=function(t,n){return this.rg(t).ig(n)},n.K_=function(t){return i=t,(n=this).zg>=i.zg?v_(n.qg,i.Zg(n.zg).qg):v_(n.Zg(i.zg).qg,i.qg);var n,i},n.eg=function(t){return 0===this.K_(t)},n.sg=function(t){return this.K_(t)<0},n.ig=function(t){return this.K_(t)<=0},n.Zg=function(n){return new t(this.qg*(n/this.zg),n)},n.ag=function(n){return this.zg>=n.zg?new t(this.qg-n.Zg(this.zg).qg,this.zg):new t(this.Zg(n.zg).qg-n.qg,n.zg)},n.Jg=function(n){return new t(this.qg*n,this.zg)},L(t,[{key:"vg",get:function(){return!isFinite(this.qg)}},{key:"$g",get:function(){return this.qg/this.zg}}]),t}();g_.Kg=new g_(1/6,1),g_.mg=new g_(0),g_.tw=new g_(1/0),g_.nw=1e6;var w_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.zg=void 0,r.fs=n.toSigned(),r.zg=i>>>0,r}U(n,t),n.iw=function(t,i){return void 0===i&&(i=1e6),n.wg(t*i,i)},n.wg=function(t,i){return w(t)?n.rw:t===1/0?n.ew:t===-1/0?n.sw:new n(Xt.fromNumber(t),i)},n.gg=function(t,i){return new n(t,i)},n.uw=function(t){return n.iw(t.$g,1e6)},n.ow=function(t){return new n(Xt.fromNumber(t.getTime()),1e3)},n.Qg=function(t,n){return t.tg(n)?t:n},n.Yg=function(t,n){return t.ig(n)?t:n},n.hw=function(t,i,r){return n.Qg(i,n.Yg(r,t))};var i=n.prototype;return i.og=function(){return this.fs.isNegative()},i.Tg=function(){return 0!==this.zg&&this.fs.isZero()},i.vg=function(){return 0===this.zg&&!this.fs.isZero()},i.fg=function(){return 0===this.zg&&this.fs.isZero()},i.Z_=function(){if(0===this.zg)return this.fs.isZero()?NaN:this.fs.isNegative()?-1/0:1/0;var t=this.fs.divide(this.zg),n=this.fs.subtract(t.multiply(this.zg));return t.toNumber()+n.toNumber()/this.zg},i.Rg=function(){if(0===this.zg)throw new f("Failed to convert timestamp");return this.fs},i.aw=function(){return new Date(0===this.zg?NaN:this.Zg(1e3).fs.toNumber())},i.cw=function(){return new g_(0===this.zg?this.Z_():this.fs.toNumber(),this.zg)},i.Zg=function(t,i){void 0===i&&(i=k_.fw);var r=this.zg;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t.Fg(n),e=r[0],s=r[1];if(s.Tg())return e;if(i===k_.fw)return s.og()?e.ag(__.Mg):e;if(i===k_.vw)return s.og()?e:e.cg(__.Mg);var u=s.Ug(__.wg(2));return u.og()?u.hg().sg(n)?e:e.ag(__.Mg):u.sg(n)?e:e.cg(__.Mg)}(__.gg(this.fs).Ug(__.wg(t/e)),__.wg(r/e),i).Rg(),t)},i.K_=function(t){if(this===t)return r_.G_;if(0===this.zg||0===t.zg)return l_(this,t);if(this.Tg())return t.Tg()?r_.G_:t.og()?r_.j_:r_.Q_;if(t.Tg())return this.og()?r_.Q_:r_.j_;var n=l.min(this.zg,t.zg),i=this.Zg(n,k_.dw).fs,r=t.Zg(n,k_.dw).fs;return i.compare(r)},i.hg=function(){return 0===this.zg?y_(this):new n(this.fs.negate(),this.zg)},i.cg=function(t){if(0===this.zg||0===t.zg)return m_(this,t);if(this.Tg())return t;if(t.Tg())return this;var i=l.max(this.zg,t.zg),r=this.Zg(i,k_.dw),e=t.Zg(i,k_.dw);return new n(r.fs.add(e.fs),i)},i.Ug=function(t){if(this.fg()||w(t))return n.rw;if(this.vg()||!isFinite(t)){if(this.Tg()||0===t)return n.rw;var i=this.og()?n.sw:n.ew;return t<0?i.hg():i}return this.Tg()?this:new n(0===t?Xt.ZERO:this.fs.multiply(t),this.zg)},i.Xg=function(t){if(this.fg()||w(t))return n.rw;if(this.vg())return isFinite(t)?0===t?1/t<0?this.hg():this:t<0?this.hg():this:n.rw;if(!isFinite(t))return new n(Xt.ZERO,this.zg);if(this.Tg())return 0===t?n.rw:new n(Xt.ZERO,this.zg);if(0===t){var i=this.og()?n.sw:n.ew;return 1/t<0?i.hg():i}return new n(this.fs.divide(t),this.zg)},i.lw=function(){return[this.fs.low,this.fs.high,this.zg]},n}(d_);function y_(t){return t.fg()?t:t.og()?w_.ew:w_.sw}function m_(t,n){return t.fg()||n.fg()?w_.rw:t.vg()&&n.vg()?t.og()===n.og()?t:w_.rw:t.vg()?t:n}w_.mg=new w_(Xt.ZERO,1e6),w_.rw=new w_(Xt.ZERO,0),w_.ew=new w_(Xt.ONE,0),w_.sw=new w_(Xt.NEG_ONE,0);var k_,p_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.zg=void 0,r.fs=BigInt.asIntN(64,n),r.zg=i>>>0,r}U(n,t),n.iw=function(t,i){return void 0===i&&(i=1e6),n.wg(t*i,i)},n.wg=function(t,i){return w(t)?n.rw:t===1/0?n.ew:t===-1/0?n.sw:new n(BigInt(l.floor(t)),i)},n.gg=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.uw=function(t){return n.iw(t.$g,1e6)},n.ow=function(t){return n.wg(t.getTime(),1e3)},n.Qg=function(t,n){return t.tg(n)?t:n},n.Yg=function(t,n){return t.ig(n)?t:n},n.hw=function(t,i,r){return n.Qg(i,n.Yg(r,t))};var i=n.prototype;return i.og=function(){return this.fs<BigInt(0)},i.Tg=function(){return 0!==this.zg&&this.fs===BigInt(0)},i.vg=function(){return 0===this.zg&&this.fs!==BigInt(0)},i.fg=function(){return 0===this.zg&&this.fs===BigInt(0)},i.Z_=function(){if(0===this.zg)return this.fs===BigInt(0)?NaN:this.fs<BigInt(0)?-1/0:1/0;var t=this.fs/BigInt(this.zg),n=this.fs-t*BigInt(this.zg);return Number(t)+Number(n)/this.zg},i.Rg=function(){if(0===this.zg)throw new f("Failed to convert timestamp");return this._w()},i._w=function(){var t=this.fs&BigInt(4294967295),n=this.fs>>BigInt(32)&BigInt(4294967295);return Xt.fromBits(Number(t),Number(n))},i.aw=function(){return new Date(0===this.zg?NaN:Number(this.Zg(1e3).fs))},i.cw=function(){return new g_(0===this.zg?this.Z_():Number(this.fs),this.zg)},i.Zg=function(t,i){void 0===i&&(i=k_.fw);var r=this.zg;if(r===t)return this;if(0===r)return this;var e=Yt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===k_.fw)return e<BigInt(0)?r-BigInt(1):r;if(i===k_.vw)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.fs*BigInt(t/e),BigInt(r/e),i),t)},i.K_=function(t){if(this===t)return r_.G_;if(0===this.zg||0===t.zg)return l_(this,t);if(this.Tg())return t.Tg()?r_.G_:t.og()?r_.j_:r_.Q_;if(t.Tg())return this.og()?r_.Q_:r_.j_;var n=l.min(this.zg,t.zg),i=this.Zg(n,k_.dw).fs,r=t.Zg(n,k_.dw).fs;return i>r?r_.j_:i<r?r_.Q_:r_.G_},i.hg=function(){return 0===this.zg?A_(this):new n(-this.fs,this.zg)},i.cg=function(t){if(0===this.zg||0===t.zg)return b_(this,t);if(this.Tg())return t;if(t.Tg())return this;var i=l.max(this.zg,t.zg),r=this.Zg(i,k_.dw),e=t.Zg(i,k_.dw);return new n(r.fs+e.fs,i)},i.Ug=function(t){if(this.fg()||w(t))return n.rw;if(this.vg()||!isFinite(t)){if(this.Tg()||0===t)return n.rw;var i=this.og()?n.sw:n.ew;return t<0?i.hg():i}return this.Tg()?this:new n(0===t?BigInt(0):this.fs*BigInt(t),this.zg)},i.Xg=function(t){if(this.fg()||w(t))return n.rw;if(this.vg())return isFinite(t)?0===t?1/t<0?this.hg():this:t<0?this.hg():this:n.rw;if(!isFinite(t))return new n(BigInt(0),this.zg);if(this.Tg())return 0===t?n.rw:new n(BigInt(0),this.zg);if(0===t){var i=this.og()?n.sw:n.ew;return 1/t<0?i.hg():i}return new n(this.fs/BigInt(t),this.zg)},i.lw=function(){var t=this._w();return[t.low,t.high,this.zg]},L(n,null,[{key:"mg",get:function(){return n.gw||(n.gw=new n(BigInt(0),1e6)),n.gw}},{key:"rw",get:function(){return n.ww||(n.ww=new n(BigInt(0),0)),n.ww}},{key:"ew",get:function(){return n.yw||(n.yw=new n(BigInt(1),0)),n.yw}},{key:"sw",get:function(){return n.mw||(n.mw=new n(BigInt(-1),0)),n.mw}}]),n}(d_);function A_(t){return t.fg()?t:t.og()?p_.ew:p_.sw}function b_(t,n){return t.fg()||n.fg()?p_.rw:t.vg()&&n.vg()?t.og()===n.og()?t:p_.rw:t.vg()?t:n}p_.gw=void 0,p_.ww=void 0,p_.yw=void 0,p_.mw=void 0,function(t){t[t.fw=0]="fw",t[t.vw=1]="vw",t[t.dw=2]="dw"}(k_||(k_={}));var T_,E_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?p_:w_;function S_(t,n){return t.K_(n)}function R_(t){return E_.gg(Xt.fromBits(t[0],t[1],!1),t[2])}function I_(t){return{goLive:function(){return t.kw()},get isLive(){return t.pw},get currentServerLiveTime(){return t.Aw},get currentLatency(){return t.bw},get latency(){return t.Tw},set latency(n){if(!function(t){if(!tt(t))return!1;var n=t,i=J(n.target)&&"number"==typeof n.target&&J(n.windowEnd)&&"number"==typeof n.windowEnd&&J(n.windowStart)&&"number"==typeof n.windowStart&&J(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new f("Invalid latency configuration");t.Tw=n},get manifest(){return t.Ew},get metrics(){return t.Sw},addEventListener:function(n,i){t.Oo(C_(n),i)},removeEventListener:function(n,i){t.Lo(C_(n),i)}}}!function(t){t[t.jl=0]="jl",t[t.Rw=1]="Rw",t[t.Iw=2]="Iw"}(T_||(T_={}));var N_=["analytic","golive","nogolive","bufferedchange"];function C_(t){var n=Vd(t,Hd);return(it(n)?[n]:n).filter(function(t){return n=t,-1!==N_.indexOf(n);var n})}var D_,O_=function(t){function n(){var n;return(n=t.call(this)||this).Dl=void 0,n.Zd=void 0,n.Nw=h_(),n.Dl=void 0,n}U(n,t);var i=n.prototype;return i.Pl=function(t){t.Oo(N_,this.Co)},i.Bl=function(t){t.Lo(N_,this.Co)},i.kw=function(){var t;null==(t=this.Dl)||t.kw()},i.Pv=function(){this.Bo(),this.Dl&&this.Bl(this.Dl),this.Dl=void 0},L(n,[{key:"Ll",get:function(){return this.Dl},set:function(t){var n=this.Dl;t!==n&&(n&&this.Bl(n),t&&this.Pl(t),this.Dl=t,this.Dl&&(this.Dl.Tw=this.Nw))}},{key:"Jd",get:function(){return this.Zd||(this.Zd=I_(this)),this.Zd}},{key:"Aw",get:function(){var t;return null==(t=this.Dl)?void 0:t.Aw}},{key:"bw",get:function(){var t;return null==(t=this.Dl)?void 0:t.bw}},{key:"pw",get:function(){return!!this.Dl&&this.Dl.pw}},{key:"Tw",get:function(){return this.Nw},set:function(t){this.Dl&&(this.Dl.Tw=t),this.Nw=t}},{key:"Ew",get:function(){var t;return null==(t=this.Dl)?void 0:t.Ew}},{key:"Sw",get:function(){var t;return null==(t=this.Dl)?void 0:t.Sw}}]),n}(Ss),x_=function(t){function n(n){var i;return(i=t.call(this)||this).Dl=void 0,i.Cw=[],i.Dw=!1,i.Ow=new Zd,i.xw=new Zd,i.Pw=new rl,i.Bw=new O_,i.Lw=!1,i.Mw(n),n.Po(i.Co),i.Dl=n,i.Ow.Ll=n.Uw,i.xw.Ll=n.Fw,i.Pw.Ll=n.Hw,i.Bw.Ll=n.Vw,i}U(n,t);var i=n.prototype;return i.Xw=function(){this.Dl.Xw()},i.Ww=function(){this.Dl.Ww()},i.qw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ms(this.Cw.map(function(t){return t.qw()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){return this.Dl.zw()},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(i),t.next=3,this.Dl.Gw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jw=function(){return this.Ll.jw()},i.Qw=function(){this.Ll.Qw()},i.Yw=function(){this.Ll.Yw()},i.Zw=function(){if(!this.Dw){for(var t=0,n=this.Cw;t<n.length;t++){n[t].Zw()}this.Dw=!0}},i.Jw=function(t){this.Dl.Jw(t)},i.$w=function(){this.Dl.$w()},i.Kw=function(){this.Dl.Kw()},i.ty=function(){this.Dl.ty()},i.ny=function(){return this.Dl.ny()},i.iy=function(){return this.Dl.iy()},i.ey=function(){for(var t=[],n=0,i=this.Cw;n<i.length;n++){var r=i[n];t.push.apply(t,r.ey())}return t},i.sy=function(t){for(var n=!1,i=0,r=this.Cw;i<r.length;i++){n=r[i].sy(t)||n}return n},i.Do=function(n){this.sy(n)||t.prototype.Do.call(this,n)},i.Mw=function(t){this.Cw.push(t)},i.uy=function(t){Ke(this.Cw,t)},i.oy=function(t){if(t!==this.Dl){var n=this.Dl;n.$w(),n.Fo(this.Co);var i=t_(this),r=this.hy,e=this.iy();this.Dl=t,this.Ow.Ll=t.Uw,this.xw.Ll=t.Fw,this.Pw.Ll=t.Hw,this.Bw.Ll=t.Vw,i_(this,i,this);var s=this.hy;s!==r&&this.Do(new ol(s)),this.iy()!==e&&this.Do(new ul),t.Po(this.Co),t.Jw(n)}},i.ay=function(){},i.Pv=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Bo(),this.Dl.$w(),n=0,i=this.Cw;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Pv();case 7:n++,t.next=3;break;case 10:this.Ow.Pv(),this.xw.Pv(),this.Pw.Pv(),this.Bw.Pv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ms(this.Cw.map(function(t){return t.Il()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Uw",get:function(){return this.Ow}},{key:"Hw",get:function(){return this.Pw}},{key:"Fw",get:function(){return this.xw}},{key:"vy",get:function(){return this.Dl.vy}},{key:"ly",get:function(){return this.Dl.ly},set:function(t){this.Dl.ly=t}},{key:"hy",get:function(){return this.Dl.hy}},{key:"B_",get:function(){return this.Dl.B_},set:function(t){this.Dl.B_=t}},{key:"L_",get:function(){return this.Dl.L_}},{key:"_y",get:function(){return this.Dl._y}},{key:"M_",get:function(){return this.Dl.M_}},{key:"Go",get:function(){return this.Dl.Go}},{key:"U_",get:function(){return this.Dl.U_}},{key:"Vw",get:function(){return this.Bw}},{key:"gy",get:function(){return this.Dl.gy}},{key:"Sw",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.wy,i+=h.yy,r+=h.my,e+=h.ky,s+=h.py,u.amountOfBufferedAudioSegments+=h.Ay.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ay.amountOfBufferedVideoSegments}return{wy:n,yy:i,my:r,ky:e,py:s,Ay:u}}(this.Cw.map(function(t){return t.Sw}))}},{key:"F_",get:function(){return this.Dl.F_},set:function(t){this.Dl.F_=t}},{key:"by",get:function(){return this.Dl.by}},{key:"H_",get:function(){return this.Dl.H_}},{key:"V_",get:function(){return this.Dl.V_},set:function(t){this.Dl.V_=t}},{key:"Ty",get:function(){return this.Dl.Ty}},{key:"Ey",get:function(){return this.Dl.Ey},set:function(t){this.Dl.Ey=t}},{key:"Kl",get:function(){return this.Dl.Kl}},{key:"Sy",get:function(){return this.Dl.Sy}},{key:"X_",get:function(){return this.Dl.X_}},{key:"W_",get:function(){return this.Dl.W_}},{key:"q_",get:function(){return this.Dl.q_}},{key:"z_",get:function(){return this.Dl.z_},set:function(t){this.Dl.z_=t}},{key:"Ll",get:function(){return this.Dl},set:function(t){this.oy(t)}}]),n}(sl),P_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return U(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Co);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(D_||(D_={}));var B_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,f.captureStackTrace&&f.captureStackTrace(en(s),s.constructor),s}return U(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(sn);function L_(t){Dd(t,"MEDIA_ERR_ABORTED",D_.ABORTED),Dd(t,"MEDIA_ERR_NETWORK",D_.NETWORK),Dd(t,"MEDIA_ERR_DECODE",D_.DECODE),Dd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",D_.SRC_NOT_SUPPORTED),Dd(t,"MEDIA_ERR_ENCRYPTED",D_.ENCRYPTED)}function M_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new B_(D_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new B_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return D_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return D_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return D_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return D_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return D_.NETWORK;if(i===n.ErrorCategory.SOURCE)return D_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return D_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return D_.ENCRYPTED;if(i===n.ErrorCategory.AD)return D_.ADVERTISEMENT_ERROR;return D_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function U_(t){switch(t){case D_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case D_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case D_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case D_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case D_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case D_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case D_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}L_(B_),L_(B_.prototype);var F_,H_=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.El=function(n){return t.prototype.El.call(this,n)},i.$d=function(){return jd(this)},n}(Sd);!function(t){t.Tv="audio",t.Ev="video",t.Je="text",t.Sv="image",t.vv="unknown"}(F_||(F_={}));var V_=function(){function t(){this.Ry=[],this.Zd=void 0}var n=t.prototype;return n.cg=function(t){this.Ry.push(t),this.Zd&&this.Zd.push(t.Jd)},n.Tl=function(t){return this.Ry[t]},n.Iy=function(t){return $(t)?is(this.Ry,t):ns(this.Ry,t)},L(t,[{key:"Nl",get:function(){return this.Ry}},{key:"Cl",get:function(){return this.Ry.length}},{key:"Jd",get:function(){var t,n;return this.Zd||(this.Zd=((n=(t=this).Nl.map(function(t){return t.Jd})).item=function(n){var i=0|n,r=t.Tl(i);return r&&r.Jd||void 0},n)),this.Zd}}]),t}(),X_=function(t){function n(n){var i;return(i=t.call(this,md.yl)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new W_(this.Kd.Jd)},n}(kd),W_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return U(n,t),n}(pd),q_=0;function z_(){return q_++}var G_=0;var j_=0;function Q_(){return j_++}var Y_=0;var Z_=function(t){function n(n){var i;return(i=t.call(this)||this).Ku=F_.Tv,i.Ny=void 0,i.Cy=void 0,i.Dy=void 0,i.Oy=void 0,i.xy=!1,i.Ry=void 0,i.Zd=void 0,i.Ny=n,i.Oy=z_(),i.Cy=Y_+++"",i.Dy=n.label,i.Ry=new V_,i.Py(),i}U(n,t);var i=n.prototype;return i.By=function(t){this.Fl=t},i.Py=function(){this.Fl=this.Ly},L(n,[{key:"Ul",get:function(){}},{key:"Fl",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.Ly=t,this.Do(new Rd(this)))}},{key:"Ly",get:function(){return!!this.Ny.enabled},set:function(t){this.Ny.enabled=t}},{key:"Jd",get:function(){return this.Zd||(this.Zd=zd(this)),this.Zd}},{key:"Hl",get:function(){return this.Cy}},{key:"Vl",get:function(){return this.Oy}},{key:"Xl",get:function(){return this.Ny.kind}},{key:"Wl",get:function(){return this.Dy},set:function(t){t!==this.Dy&&(this.Dy=t,this.Do(new X_(this)))}},{key:"ql",get:function(){return this.Ny.language}},{key:"$l",get:function(){return this.Fl?"enabled":"disabled"}},{key:"My",get:function(){return this.Ny}},{key:"zl",get:function(){return this.Ry}},{key:"Gl",get:function(){},set:function(t){}}]),n}(Ss),J_=0;var $_,K_,tg,ng=function(t){function n(n){var i;return(i=t.call(this)||this).Ku=F_.Ev,i.Ny=void 0,i.Cy=void 0,i.Oy=void 0,i.xy=!1,i.Ry=void 0,i.Dy=void 0,i.Zd=void 0,i.Ny=n,i.Oy=z_(),i.Cy=J_+++"",i.Ry=new V_,i.Dy=n.label,i.Py(),i}U(n,t);var i=n.prototype;return i.Py=function(){this.Fl=this.Ly},i.By=function(t){this.Fl=t},L(n,[{key:"Ul",get:function(){}},{key:"Fl",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.Ly=t,this.Do(new Rd(this)))}},{key:"Ly",get:function(){return!!this.Ny.selected},set:function(t){this.Ny.selected=t}},{key:"Jd",get:function(){return this.Zd||(this.Zd=zd(this)),this.Zd}},{key:"Hl",get:function(){return this.Cy}},{key:"Vl",get:function(){return this.Oy}},{key:"Xl",get:function(){return"main"}},{key:"Wl",get:function(){return this.Dy},set:function(t){t!==this.Dy&&(this.Dy=t,this.Do(new X_(this)))}},{key:"ql",get:function(){return this.Ny.language}},{key:"$l",get:function(){return this.Fl?"enabled":"disabled"}},{key:"My",get:function(){return this.Ny}},{key:"zl",get:function(){return this.Ry}},{key:"Gl",get:function(){},set:function(t){}}]),n}(Ss),ig=function(t){function n(n){var i;return(i=t.call(this,Zo.Va)||this).gy=n,i}return U(n,t),n}(Is);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}($_||($_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(K_||(K_={})),function(t){t.Uy="cue",t.Fy="region",t.Hy="stylesheet"}(tg||(tg={}));var rg,eg,sg={"line-left":"start",center:"middle","line-right":"end"},ug={start:"line-left",middle:"center",end:"line-right"};function og(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function hg(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:g(i),w(e)?r:e;var i,r,e}!function(t){t.Vy="Xy",t.Wy="qy",t.yl="xh"}(rg||(rg={})),function(t){t.Vy="enter",t.Wy="exit",t.yl="update"}(eg||(eg={}));var ag=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).zy=i,r}return U(n,t),n}(kd),cg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return U(n,t),n}(pd);function fg(t){var n,i=[rg.Vy,rg.Wy,rg.yl],r={get track(){return t.Kd.Jd},get id(){return t.Hl},get uid(){return t.Vl},get startTime(){return t.Gy},get endTime(){return t.jy},get content(){return t.Qy},addEventListener:function(t,i){var r=Vd(t,Hd);n.Oo(r,i)},removeEventListener:function(t,i){var r=Vd(t,Hd);n.Lo(r,i)}};return n=new Rs(r),t.Oo(i,function(t){return n.Do(t.Jd)}),r}function vg(){}function dg(t){return Od(fg(t),{get align(){return t.Yy},get line(){return t.Zy},get lineAlign(){return t.Jy},get position(){return t.$y},get positionAlign(){return t.Ky},get region(){return t.tm?t.tm.Jd:null},get size(){return t.eh},get snapToLines(){return t.nm},get text(){return t.Qy},get vertical(){return t.im}})}var lg=.02;function _g(t,n){return zt(t.Gy,n.Gy,lg)&&zt(t.jy,n.jy,lg)&&t.Hl===n.Hl}var gg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Oy=void 0,u.Cy=void 0,u.rm=void 0,u.sm=void 0,u.Zd=void 0,u.um=void 0,u.om=!1,u.hm=void 0,u.am=void 0,u.cm="",u.fm=-1,u.Oy=Q_(),u.rm=n,u.sm=i,u.hm=r,u.am=Boolean(e),u.Cy=null!=s?s:"",u}U(n,t);var i=n.prototype;return i.$d=function(){return fg(this)},i.eg=function(t){return this===t||Bd(this,t)&&_g(this,t)},i.Pv=function(){this.Bo()},L(n,[{key:"Gy",get:function(){return this.rm},set:function(t){this.rm=t}},{key:"jy",get:function(){return this.sm},set:function(t){this.sm=t}},{key:"Hl",get:function(){return this.Cy}},{key:"Vl",get:function(){return this.Oy}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"vm",get:function(){return this.om},set:function(t){this.om=t}},{key:"Kd",get:function(){return this.um},set:function(t){this.um=t}},{key:"Qy",get:function(){return this.hm},set:function(t){this.hm=t}},{key:"dm",get:function(){return this.cm},set:function(t){this.cm=t}},{key:"lm",get:function(){return this.am},set:function(t){this.am=t}}]),n}(Ss);function wg(t,n){return t.Qy===n.Qy&&t.Zy===n.Zy&&t.Jy===n.Jy&&t.$y===n.$y&&t.Ky===n.Ky&&t.tm===n.tm&&t.nm===n.nm&&t.eh===n.eh&&t.Yy===n.Yy&&t.im===n.im}var yg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).Zy="auto",u.Jy="start",u.$y="auto",u.Ky="auto",u.tm=void 0,u.nm=!0,u.eh=100,u.Yy="center",u.im="",u}return U(n,t),n.prototype.eg=function(n){return this===n||Bd(this,n)&&t.prototype.eg.call(this,n)&&wg(this,n)},L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=dg(this)),this.Zd}},{key:"Ku",get:function(){return tg.Uy}}]),n}(gg);function mg(t){var n="number"==typeof t.Zy?t.Zy:g(t.Zy);return w(n)||t.nm||!(n<0||n>100)?w(n)?t.nm?-1:100:n:100}function kg(t){return hg(t.$y,t.Yy)}function pg(t){return og(t.Ky,t.Yy)}function Ag(t){var n=100,i=pg(t),r=kg(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.eh<n?t.eh:n}function bg(t){return{get id(){return t.Hl},get identifier(){return t.Hl},get lines(){return t._m},get regionAnchorX(){return t.gm},get regionAnchorY(){return t.wm},get scrollValue(){return t.ym},get viewportAnchorX(){return t.mm},get viewportAnchorY(){return t.km},get width(){return t.fu}}}var Tg=function(){function t(t,n,i,r,e,s,u,o){this.Zd=void 0,this.Hl=t,this.fu=n,this._m=i,this.gm=r,this.wm=e,this.mm=s,this.km=u,this.ym=o}return L(t,[{key:"Jd",get:function(){return this.Zd||(this.Zd=bg(this)),this.Zd}},{key:"Ku",get:function(){return tg.Fy}}]),t}(),Eg=9e4,Sg=l.pow(2,33),Rg=E_.wg(Sg,Eg),Ig=Rg.Xg(2);function Ng(t){return null!=t&&!t.fg()}function Cg(t,n){return t.vg()||n.vg()?E_.Qg(t,n):xg(t,n).J_(E_.mg)?t:n}function Dg(t,n){var i=t.ag(n);return i.sg(E_.mg)&&(i=i.cg(Rg)),i}function Og(t,n){var i=t.cg(n);return i.tg(Rg)&&(i=i.ag(Rg)),i}function xg(t,n){var i=t.ag(n);return t.vg()||n.vg()?i:(i.tg(Ig)?i=i.ag(Rg):i.sg(Ig.hg())&&(i=i.cg(Rg)),i)}function Pg(t,n){if(t||n)return t?n?E_.Yg(t,n):t:n}function Bg(t,n){if(t||n)return t?n?E_.Qg(t,n):t:n}var Lg,Mg,Ug,Fg,Hg={pm:0,Am:1/0,bm:0},Vg=6,Xg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Wg=[" ","\t","\n","\f","\r"],qg=/^\d*$/,zg=/.*[0-9]+.*/,Gg=/^[\d.-]+$/,jg=/(^\.|\.$)/,Qg=/(\D\.|\.\D)/;function Yg(t,n){void 0===n&&(n=Hg);var i={t_:[],Tm:[],Em:[]},r=Zg(t),e=new ju;if(uw(r),Jg(r,function(t){return"\n"!==t},e),e.ah>=r.length)return i;(e.uh(1),"\n"!==r.charAt(e.ah))?nw($g(r,e,!1,!0,i,n),i):e.uh(1);for(Jg(r,function(t){return"\n"===t},e);e.ah<r.length;){nw($g(r,e,!1,!1,i,n),i),Jg(r,function(t){return"\n"===t},e)}return i}function Zg(t){var n=wr(t,"\0"," "),i=wr(n,"\r\n","\n");return wr(i,"\r","\n")}function Jg(t,n,i){for(var r=i.ah;i.ah<t.length&&n(t.charAt(i.ah));)i.uh(1);return t.substring(r,i.ah)}function $g(t,n,i,r,e,s){for(var u,o=0,h=n.ah,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=Jg(t,function(t){return"\n"!==t},n),o++,n.ah>=t.length?c=!0:n.uh(1),yr(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.oh(h);break}f=!0,h=n.ah,v=new yg(0,0,"",!1,a);try{iw(u,e.Tm,v,s),a=""}catch(t){b.mu(t),v=null}}else{if(""===u)break;r&&mr(u,"X-TIMESTAMP-MAP")&&(e.Sm=Kg(u)),r||2!==o||i||(pr("STYLE",a.replace(/ /g,""))?(d={Ku:tg.Hy},a=""):pr("REGION",a.replace(/ /g,""))&&(l=new Tg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.ah}if(v)return v.Qy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&yr(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":ww(o,n);break;case"WIDTH":kw(o,n);break;case"LINES":mw(o,n);break;case"REGIONANCHOR":var h=gw(o);h&&(n.gm=h[0],n.wm=h[1]);break;case"VIEWPORTANCHOR":var a=gw(o);a&&(n.mm=a[0],n.km=a[1]);break;case"SCROLL":yw(o,n)}}}}(a,l),l;return null}function Kg(t){var n,i,r=t.split("=")[1].trim().split(","),e=tw(r[0].trim(),"MPEGTS")?r[0]:r[1],s=tw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Rm:(i=Number(e.split(/:(.*)/)[1].trim())||0,E_.wg(i,Eg)),Im:E_.iw(null!=(n=sw(s.split(/:(.*)/)[1].trim(),new ju))?n:0)}}function tw(t,n){return mr(t,n)}function nw(t,n){t&&function(t){return t.Ku===tg.Uy}(t)?n.t_.push(t):t&&function(t){return t.Ku===tg.Fy}(t)?n.Tm.push(t):t&&function(t){return t.Ku===tg.Hy}(t)&&n.Em.push(t)}function iw(t,n,i,r){var e=new ju;if(ow(t,e),i.Gy=rw(sw(t,e),r),ow(t,e),"--\x3e"!==t.substring(e.ah,e.ah+3))throw f("Something went wrong with parsing a WebVTT Cue");e.uh(3),ow(t,e),i.jy=rw(sw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&yr(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":vw(h,n,i);break;case"VERTICAL":lw(h,n);break;case"D":_w(h,n);break;case"LINE":case"L":cw(h,n);break;case"POSITION":case"T":fw(h,n);break;case"SIZE":case"S":dw(h,n);break;case"ALIGN":case"A":aw(h,n)}}}}(t.substring(e.ah,t.length),i,n)}function rw(t,n){return t+n.pm}function ew(t){return/^[0-9]$/.test(t)}function sw(t,n){var i,r,e,s=wr(t,",","."),u=!1;if(n.ah>=s.length||!ew(s.charAt(n.ah)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Jg(s,ew,n),h=_(o,10);if((o.length>2||h>59)&&(u=!0),n.ah>=s.length||":"!==s.charAt(n.ah))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.uh(1);var a=Jg(s,ew,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var c=_(a,10);if(u||n.ah<s.length&&":"===s.charAt(n.ah)){if(n.ah>=s.length||":"!==s.charAt(n.ah))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.uh(1);var v=Jg(s,ew,n);if(2!==a.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=_(v,10)}else i=0,r=h,e=c;if(n.ah>=s.length||"."!==s.charAt(n.ah))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.uh(1);var d=Jg(s,ew,n),l=_(d,10);if(c>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function uw(t){if(t.length<Vg)return!1;for(var n=0;n<Xg.length;n++){if(mr(t,Xg[n]))return!0}return!1}function ow(t,n){for(;n.ah<t.length&&(i=t.charAt(n.ah),ns(Wg,i));)n.uh(1);var i}function hw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function aw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Yy=i;break;case"middle":n.Yy="center"}}function cw(t,n){var i=t,r="";if(yr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),zg.test(i)){var e;if(kr(i,"%")){var s=hw(i);if(null===s)return;e=s}else{if(!Gg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Qg.test(t)||jg.test(t))return;if(e=g(t),w(e))return}switch(n.Zy=e,n.nm=kr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Jy=r;break;case"middle":n.Jy="center"}}}function fw(t,n){var i=t,r="";yr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=hw(i);if(null!==e)switch(n.$y=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ky=r;break;case"start":n.Ky="line-left";break;case"middle":n.Ky="center";break;case"end":n.Ky="line-right"}}function vw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Hl===t)return void(n.tm=i[r])}function dw(t,n){var i=hw(t);null!==i&&(n.eh=i)}function lw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.im="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.im="lr";break;default:n.im=""}}function _w(t,n){"VERTICAL"===t.toUpperCase()?n.im="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.im="lr")}function gw(t){if(t.indexOf(",")>=0){var n=hw(t.substring(0,t.indexOf(","))),i=hw(t.substring(t.indexOf(",")+1,t.length));return[qt(n||0,0,100),qt(i||100,0,100)]}return null}function ww(t,n){n.Hl=t}function yw(t,n){"up"===t.toLowerCase()&&(n.ym="up")}function mw(t,n){qg.test(t)&&(n._m=_(t))}function kw(t,n){var i=hw(t);null!==i&&(n.fu=i)}!function(t){t.Nm="moov",t.Cm="mvhd",t.Dm="trak",t.Om="tkhd",t.xm="mdia",t.Pm="mdhd",t.Bm="hdlr",t.Lm="minf",t.Mm="stbl",t.Um="stsd",t.Fm="stsc",t.Hm="mvex",t.Vm="trex",t.Xm="avc1",t.Wm="avcC",t.qm="hev1",t.zm="hvc1",t.Gm="hvcC",t.jm="pasp",t.Qm="mp4a",t.Ym="esds",t.Zm="wvtt",t.Jm="vttC",t.$m="vlab",t.Km="enca",t.tk="encv",t.nk="moof",t.ik="mfhd",t.rk="traf",t.ek="tfhd",t.sk="trun",t.uk="tfdt",t.hk="mdat",t.ak="pssh",t.ck="emsg",t.fk="sidx",t.vk="styp",t.dk="ftyp",t.lk="sinf",t._k="frma"}(Lg||(Lg={})),function(t){t.Ev="vide",t.Tv="soun",t.gk="subt",t.wk="hint",t.yk="meta",t.mk="auxv"}(Mg||(Mg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ug||(Ug={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Fg||(Fg={}));var pw=function(){function t(t,n){this.Ds=void 0,this.kk=void 0,this.Ds=t,this.kk=n}var n=t.prototype;return n.pk=function(){return cu(this.Ds,this.kk)},n.Ak=function(){return gu(this.Ds,this.kk)},n.bk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.ah,i);return n.uh(2),r}(this.Ds,this.kk)},n.Tk=function(){return yu(this.Ds,this.kk)},n.Ek=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.ah,i);return n.uh(4),r}(this.Ds,this.kk)},n.Sk=function(){return ku(this.Ds,this.kk)},n.Rk=function(t){return vu(this.Ds,this.kk,t)},n.Ik=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(yu(t,n));return r}(this.Ds,this.kk,t)},n.Nk=function(t){return bu(this.Ds,this.kk,t)},n.Ck=function(){return Lu(this.Ds,this.kk)},n.Dk=function(t){this.kk.uh(t)},n.hh=function(){return new t(this.Ds,this.kk.hh())},t}();function Aw(t,n){return t.Ku===n}function bw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Aw(r,n))return r}}function Tw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Aw(e,n)&&i.push(e)}return i}var Ew=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ok=n,r.xk=i,r}return U(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(un),Sw=function(){function t(){}return t.Pk=function(n){var i=n.Ds,r=n.kk,e=t.Bk(i,r,!1);if(!e.Lk)throw new Ew(r.ah,e.As);return e.As},t.Bk=function(n,i,r){for(var e=[];i.ah<n.byteLength;){var s=t.Mk(n,i,r);if(!s.Lk)return{Lk:!1,As:e};e.push(s.Uk)}return{Lk:!0,As:e}},t.Fk=function(n,i){var r=t.Mk(n,i,!1);if(!r.Lk)throw new Ew(i.ah);return r.Uk},t.Hk=function(n,i){for(var r=n.Ds,e=n.kk;e.ah<r.byteLength;){var s=t.Mk(r,e,!1);if(!s.Lk)return;if(s.Uk.Ku===i)return s.Uk}},t.Mk=function(n,i,r){var e=i.ah,s=t.Vk(n,i);if(!s.Lk)return s;var u=s.Xk,o=u.eh;if(0===o){if(r)return i.oh(e),{Lk:!1,Wk:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.oh(e),{Lk:!1,Wk:a}}var c={Ku:u.Ku,ah:e,Ds:new pw(Hu(n,e,h),new ju(u.qk))};return i.oh(h),{Lk:!0,Uk:c}},t.Vk=function(t,n){var i=n.ah;if(!lu(t,n,8))return{Lk:!1,Wk:n.ah+8};var r=yu(t,n),e=bu(t,n,4);if(1===r){if(!lu(t,n,8)){var s=n.ah+8;return n.oh(i),{Lk:!1,Wk:s}}r=ku(t,n).toNumber()}if("uuid"===e){if(!lu(t,n,16)){var u=n.ah+16;return n.oh(i),{Lk:!1,Wk:u}}e=bu(t,n,16)}return{Lk:!0,Xk:{Ku:e,eh:r,qk:n.ah-i}}},t.zk=function(t,n,i){var r=t.Ds,e=t.kk,s=Fu(Xu(r),e.ah,r.byteLength);return i&&(s=Gu(s)),e.uh(s.byteLength),{Ku:n,Ds:s}},t.Gk=function(n,i,r){var e=Cw(n.Tk());return{Ku:i,jk:e.version,Qk:e.flags,Ds:t.zk(n,i,r).Ds}},t}();function Rw(t,n){var i=Iw(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function Iw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Ku===n)return r.Ds}}function Nw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.Ku===n&&i.push(e.Ds)}return i}function Cw(t){return{version:t>>24,flags:new ou(16777215&t)}}var Dw=function(){function t(){}return t.Yk=function(n){for(var i=[],r=Sw.Pk(new pw(n,new ju)),e=0;e<r.length;e++){var s=r[e],u=t.Zk(s);u&&i.push(u)}return i},t.Jk=function(t){return Sw.Bk(t,new ju,!1).As.some(function(t){return t.Ku===Lg.nk||t.Ku===Lg.vk})},t.$k=function(n){return Nw(Sw.Pk(new pw(n,new ju)),Lg.ak).map(t.Kk)},t.Zk=function(n){switch(n.Ku){case Lg.Nm:return t.tp(n.Ds);case Lg.nk:return t.np(n.Ds,n.ah);case Lg.hk:return t.ip(n.Ds);case Lg.fk:return t.rp(n.Ds);case Lg.ck:return t.ep(n.Ds)}},t.tp=function(n){var i=Sw.Pk(n),r=Rw(i,Lg.Cm),e=Nw(i,Lg.Dm),s=Iw(i,Lg.Hm),u=t.sp(r),o=e.map(t.op),h=s?t.hp(s):void 0;return{Ku:Lg.Nm,Xk:u,ap:o,cp:h}},t.sp=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=1===i?t.Sk():t.Tk(),s=1===i?t.Sk():t.Tk(),u=t.Tk(),o=1===i?t.Sk():t.Tk(),h=t.Tk(),a=t.Ak()>>8;t.Dk(2),t.Dk(8);var c=t.Ik(9);t.Dk(24);var f=t.Tk();return{Ku:Lg.Cm,jk:i,Qk:r,fp:e,vp:s,zg:u,L_:o,dp:h,z_:a,lp:c,_p:f}},t.op=function(n){var i=Sw.Pk(n),r=Rw(i,Lg.Om),e=Rw(i,Lg.xm),s=t.gp(r),u=t.wp(e);return{Ku:Lg.Dm,Xk:s,yp:u}},t.gp=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=1===i?t.Sk():t.Tk(),s=1===i?t.Sk():t.Tk(),u=t.Tk();t.Dk(4);var o=1===i?t.Sk():t.Tk();t.Dk(8);var h=t.bk(),a=t.bk(),c=t.bk()/l.pow(2,8);t.Dk(2);var f=t.Ik(9),v=t.Tk()/l.pow(2,16),d=t.Tk()/l.pow(2,16);return{Ku:Lg.Om,mp:r.vh(1),kp:r.vh(2),pp:r.vh(4),fp:e,vp:s,Ap:u,L_:o,bp:h,Tp:a,z_:c,lp:f,fu:v,Ep:d}},t.wp=function(n){var i=Sw.Pk(n),r=Rw(i,Lg.Pm),e=Rw(i,Lg.Bm),s=Rw(i,Lg.Lm),u=t.Sp(r),o=t.Rp(e),h=t.Ip(s);return{Ku:Lg.xm,Xk:u,Np:o,Cp:h}},t.Sp=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=1===i?t.Sk():t.Tk(),s=1===i?t.Sk():t.Tk(),u=t.Tk(),o=1===i?t.Sk():t.Tk();t.Ak();return t.Dk(2),{Ku:Lg.Pm,jk:i,Qk:r,fp:e,vp:s,zg:u,L_:o}},t.Rp=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags;t.Dk(4);var e=t.Nk(4);t.Dk(12);var s=t.Ck();return{Ku:Lg.Bm,jk:i,Qk:r,Dp:e,hs:s}},t.Ip=function(n){var i=Rw(Sw.Pk(n),Lg.Mm),r=t.Op(i);return{Ku:Lg.Lm,xp:r}},t.Op=function(n){var i=Rw(Sw.Pk(n),Lg.Um),r=t.Pp(i);return{Ku:Lg.Mm,Bp:r}},t.Pp=function(n){for(var i=Cw(n.Tk()),r=i.version,e=i.flags,s=(n.Tk(),[]),u=Sw.Pk(n),o=0;o<u.length;o++){var h=u[o],a=t.Lp(h.Ds,h.Ku);a&&s.push(a)}return{Ku:Lg.Um,jk:r,Qk:e,Mp:s}},t.Lp=function(n,i){var r=t.Up(n,i);return r||((r=t.Fp(n,i))||(i===Lg.Zm?t.Hp(n):void 0))},t.Up=function(n,i){return i===Lg.Qm?t.Vp(n):i===Lg.Km?t.Xp(n):void 0},t.Fp=function(n,i){return i===Lg.Xm?t.Wp(n):i===Lg.qm||i===Lg.zm?t.qp(n,i):i===Lg.tk?t.zp(n):void 0},t.Gp=function(t,n){return t.Dk(6),{Ku:n,jp:t.Ak()}},t.Qp=function(n,i){var r=t.Gp(n,i);n.Dk(8);var e=n.Ak(),s=n.Ak();return n.Dk(2),n.Dk(2),_e({},r,{Yp:e,Zp:s,Jp:n.Tk()>>>16})},t.$p=function(n,i){var r=t.Gp(n,i);n.Dk(2),n.Dk(2),n.Dk(12);var e=n.Ak(),s=n.Ak(),u=n.Tk(),o=n.Tk();n.Dk(4);var h=n.Ak();n.Dk(32);var a=n.Ak();return n.Dk(2),_e({},r,{fu:e,Ep:s,Kp:u,tA:o,nA:h,iA:a})},t.Vp=function(n){var i=t.Qp(n,Lg.Qm),r=Rw(Sw.Pk(n),Lg.Ym);return _e({},i,{rA:t.eA(r)})},t.Hp=function(n){var i=t.Gp(n,Lg.Zm),r=Sw.Pk(n),e=Rw(r,Lg.Jm),s=t.sA(e),u=Iw(r,Lg.$m);return _e({},i,{uA:s,oA:u?t.hA(u):u})},t.sA=function(t){return{Ku:Lg.Jm,Vh:t.Ck()}},t.hA=function(t){return{Ku:Lg.$m,Wl:t.Ck()}},t.eA=function(t){return Sw.Gk(t,Lg.Ym,!0)},t.Wp=function(n){var i=t.$p(n,Lg.Xm),r=Sw.Pk(n),e=Rw(r,Lg.Wm),s=Iw(r,Lg.jm);return _e({},i,{aA:t.cA(e),fA:s?t.vA(s):void 0})},t.qp=function(n,i){var r=t.$p(n,i),e=Rw(Sw.Pk(n),Lg.Gm);return _e({},r,{dA:t.lA(e)})},t.zp=function(n){var i=n.hh(),r=t.$p(n,Lg.tk),e=Rw(Sw.Pk(n),Lg.lk),s=t._A(e);return _e({},r,{gA:t.Fp(i,s.yA.wA),mA:s})},t.Xp=function(n){var i=n.hh(),r=t.Qp(n,Lg.Km),e=Rw(Sw.Pk(n),Lg.lk),s=t._A(e);return _e({},r,{gA:t.Up(i,s.yA.wA),mA:s})},t._A=function(n){var i=Rw(Sw.Pk(n),Lg._k),r=t.kA(i);return{Ku:Lg.lk,yA:r}},t.kA=function(t){var n=t.Nk(4);return{Ku:Lg._k,wA:n}},t.cA=function(t){return Sw.zk(t,Lg.Wm,!0)},t.lA=function(t){return Sw.zk(t,Lg.Gm,!0)},t.vA=function(t){var n=t.Tk(),i=t.Tk();return{Ku:Lg.jm,pA:n,AA:i}},t.hp=function(n){var i=Nw(Sw.Pk(n),Lg.Vm).map(t.bA);return{Ku:Lg.Hm,ap:i}},t.bA=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=t.Tk(),s=t.Tk(),u=t.Tk(),o=t.Tk(),h=t.Tk();return{Ku:Lg.Vm,jk:i,Qk:r,Ap:e,TA:s,EA:u,SA:o,RA:h}},t.np=function(n,i){var r=Sw.Pk(n),e=Rw(r,Lg.ik),s=Nw(r,Lg.rk),u=t.IA(e),o=s.map(t.NA);return{Ku:Lg.nk,CA:i,Xk:u,ap:o}},t.IA=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=t.Tk();return{Ku:Lg.ik,jk:i,Qk:r,DA:e}},t.NA=function(n){var i=Sw.Pk(n),r=Rw(i,Lg.ek),e=Nw(i,Lg.sk),s=Iw(i,Lg.uk),u=t.OA(r),o=e.map(function(n){return t.xA(n,u)}),h=s?t.PA(s):void 0;return{Ku:Lg.rk,Xk:u,BA:o,LA:h}},t.OA=function(t){var n=Cw(t.Tk()),i=n.version,r=n.flags,e=t.Tk(),s=r.vh(Ug.BASE_DATA_OFFSET_PRESENT)?t.Sk():void 0,u=r.vh(Ug.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Tk():void 0,o=r.vh(Ug.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Tk():void 0,h=r.vh(Ug.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Tk():void 0,a=r.vh(Ug.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Tk():void 0;return{Ku:Lg.ek,jk:i,Qk:r,Ap:e,MA:s,UA:u,EA:o,SA:h,RA:a}},t.xA=function(n,i){for(var r=Cw(n.Tk()),e=r.version,s=r.flags,u=n.Tk(),o=s.vh(Fg.DATA_OFFSET_PRESENT)?n.Ek():void 0,h=s.vh(Fg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Tk():void 0,a=[],c=0;c<u;c++){var f=t.FA(n,s,e,i);0===c&&void 0!==h&&(f.Qk=h),a.push(f)}return{Ku:Lg.sk,jk:e,Qk:s,HA:u,CA:o,VA:h,XA:a}},t.FA=function(t,n,i,r){return{L_:n.vh(Fg.SAMPLE_DURATION_PRESENT)?t.Tk():r.EA,eh:n.vh(Fg.SAMPLE_SIZE_PRESENT)?t.Tk():r.SA,Qk:n.vh(Fg.SAMPLE_FLAGS_PRESENT)?t.Tk():r.RA,WA:n.vh(Fg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Tk():t.Ek():void 0}},t.ep=function(t){var n=t.Ds,i=t.kk,r=Cw(yu(n,i)),e=r.version,s=r.flags;if(1===e){var u=yu(n,i),o=ku(n,i),h=yu(n,i),a=yu(n,i),c=Au(n,i),f=Au(n,i),v=zu(Xu(n),i.ah,n.byteLength);return i.uh(v.byteLength),{Ku:Lg.ck,jk:e,Qk:s,qA:c,fs:f,zg:u,zA:o,GA:h,Hl:a,jA:v}}var d=Au(n,i),l=Au(n,i),_=yu(n,i),g=yu(n,i),w=yu(n,i),y=yu(n,i),m=zu(Xu(n),i.ah,n.byteLength);return i.uh(m.byteLength),{Ku:Lg.ck,Qk:s,jk:e,qA:d,fs:l,zg:_,QA:g,GA:w,Hl:y,jA:m}},t.ip=function(t){return Sw.zk(t,Lg.hk,!1)},t.Kk=function(n){var i=n.Ds,r=n.kk,e=Gu(Xu(i)).buffer,s=Cw(yu(i,r)),u=s.version,o=s.flags,h=t.YA(i,r),a=[];if(u>0)for(var c=yu(i,r),f=0;f<c;f++){var v=vu(i,r,16);a.push(v)}var d=yu(i,r),l=new y(e,r.ah,d);return r.uh(i.byteLength),{Ku:Lg.ak,jk:u,Qk:o,ZA:h,JA:a,$A:d,Ds:l,KA:e}},t.YA=function(t,n){for(var i="",r=0;r<4;r++){var e=cu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=cu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=cu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=cu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=cu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.rp=function(t){var n,i,r=t.Ds,e=t.kk,s=Cw(yu(r,e)),u=s.version,o=s.flags,h=yu(r,e),a=yu(r,e);0===u?(n=Xt.fromBits(yu(r,e),0,!0),i=Xt.fromBits(yu(r,e),0,!0)):(n=ku(r,e),i=ku(r,e)),e.uh(2);for(var c=gu(r,e),f=[],v=0;v<c;v+=1){var d=yu(r,e),l=d>>31&1,_=2147483647&d,g=yu(r,e),w=yu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({nb:l,ib:_,L_:g,rb:y,eb:m,sb:k})}return{Ku:Lg.fk,jk:u,Qk:o,ub:h,zg:a,ob:n,hb:i,ab:c,cb:f}},t.PA=function(t){var n,i=t.Ds,r=t.kk,e=Cw(yu(i,r)),s=e.version,u=e.flags;return n=0===s?Xt.fromBits(yu(i,r),0,!0):ku(i,r),{Ku:Lg.uk,jk:s,Qk:u,LA:n}},t}();function Ow(t){return t&&"ps"in t?t.ps:t}var xw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this).fb=void 0,h.vb=void 0,h.lb=void 0,h.fb=s,h.vb=u,h.lb=o||void 0,h}return U(n,t),n.prototype.eg=function(n){return this===n||!!Bd(this,n)&&(!!t.prototype.eg.call(this,n)&&(!!Pd(this._b,n._b)&&(!!Pd(this.Tm,n.Tm)&&(this.gb&&n.gb?!!this.gb.ss(n.gb)&&(this.Qy&&n.Qy?this.Qy.ss(n.Qy):this.Qy===n.Qy):this.gb===n.gb))))},L(n,[{key:"_b",get:function(){return this.fb}},{key:"Tm",get:function(){return this.vb}},{key:"gb",get:function(){return this.lb}},{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=Od(fg(t=this),{get styles(){return t._b},get regions(){return t.Tm},get metadata(){return Ow(t.gb)},get content(){return Ow(t.Qy)}})),this.Zd}}]),n}(gg),Pw=function(){function t(t,n,i){this.bf=void 0,this.wb=void 0,this.yb=void 0,this.wb=t,this.yb=n,nn(i)?this.bf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Es(s)}return i}(0,0,i):this.bf=i}return L(t,[{key:"mb",get:function(){return this.bf.us(!0)}},{key:"Gy",get:function(){return this.wb}},{key:"jy",get:function(){return this.yb}}]),t}();var Bw="http://www.w3.org/XML/1998/namespace";function Lw(t,n,i,r){var e=t.ys(i,n);return 0===e.length&&(e=t.ls(r+":"+n)),e}function Mw(t,n){return function(t,n){var i=t.As.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.As)}return r}(t,function(t){return t.gs===n})}function Uw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Fw(t,n){for(var i=t.Ns,r={},e=0;e<i.length;e++)r[Uw(i[e].hs,n)]=i[e].fs;return r}var Hw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Vw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Xw="http://www.w3.org/ns/ttml";function Ww(t,n,i){return void 0===i&&(i=Hg),function(t,n,i){var r,e=[];try{r=b.rs(t)}catch(t){return e}var s=r.Os;if("tt"!==s.os)return e;var u=s&&s.ys(Xw,"head")[0],o=s&&s.ys(Xw,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.ys(Xw,"styling")[0],e=r&&r.ys(Xw,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Bw,"id");i[o]=Fw(u,n)}return i}(u,h),c=function(t,n){var i=xd(t),r=jw(n.bs("tts:extent"));if(!r)return i;for(var e=0,s=d.keys(i);e<s.length;e++){var u=s[e],o=jw(i[u].extent);if(o){var h=zw(o[0],r[0]),a=zw(o[1],r[1]);i[u].extent=h+" "+a}var c=jw(i[u].origin);if(c){var f=zw(c[0],r[0]),v=zw(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.ys(Xw,"layout")[0],e=r&&r.ys(Xw,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Bw,"id");if(o){i[o]=Fw(u,n);var h=Zw(u,n);for(var a in h)Y.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.ys(Xw,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(nn(n)){var c,f;s=null!=(c=Yw(n.bs("begin"),e))?c:s,u=Yw(n.bs("dur"),0),o=null!=(f=Yw(n.bs("end"),e))?f:void 0!==u?s+u:o;for(var v=n._s,d=0;d<v.length;d++)("body"===n.os||"div"===n.os)&&v[d].Ye>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.Gy,s.jy)}r.sort(c_);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(ts(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=Qw(l[_],l[_+1],h);if(g.length<=0&&Jw(n)){var w=n.us(!1);a.push(new Pw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.us(!1);g.forEach(function(n){return t.ks(n.mb)}),a.push(new Pw(l[_],l[_+1],t))}()}return a}(o,i.pm,i.Am,i.bm),l=0;l<v.length;l++){var _=v[l],g=qw(c,_);e.push(new xw(_.Gy,_.jy,_.mb,!1,a,g,f))}return e}(t,0,i)}function qw(t,n){for(var i=function t(n){var i=[];var r;if(nn(n)){(r=n.bs("region"))&&i.push(r);for(var e=n._s,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.mb),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function zw(t,n){var i=Gw(t),r=Gw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return w(e)||w(s)?t:e/s*100+"%"}return t}function Gw(t){return kr(t,"px")?"px":kr(t,"em")?"em":kr(t,"c")?"c":kr(t,"%")?"%":void 0}function jw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Qw(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].Gy,u=i[e].jy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function Yw(t,n){if(t){if(Hw.test(t)){var i=Hw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*l.pow(.1,u.length):0)-n}if(Vw.test(t)){var o=Vw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function Zw(t,n){for(var i={},r=t.ls("style")||[],e=0;e<r.length;e++){var s=Fw(r[e],n);for(var u in s)Y.call(s,u)&&(i[u]=s[u])}return i}function Jw(t){if(nn(t)){var n=t.os.toUpperCase(),i=Boolean(t.bs("smpte:backgroundImage"));return"BR"===n||i}return t.Ye===$t.Je}function $w(t){var n=function(t){try{return b.rs(t).Os}catch(t){}}(t);return"tt"===(null==n?void 0:n.os)}var Kw,ty=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.El=function(n){return t.prototype.El.call(this,n)},i.Sl=function(n){var i=t.prototype.Sl.call(this,n);return i&&(n.$l=Qd.jl),i},i.$d=function(){return nl(this)},n}(Sd),ny=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ap=new ty,n.kb=function(t){var i=t.Kd;n.pb(i)},n}U(n,t);var i=n.prototype;return i.El=function(t){t.Oo(md.vl,this.kb),this.ap.El(t),this.pb(t)},i.Sl=function(t){t.Lo(md.vl,this.kb),t.$l=Qd.jl,this.ap.Sl(t)},i.Ab=function(t){},i.bb=function(t){},i.pb=function(t){t.$l!==Qd.jl?this.Ab(t):this.bb(t)},i.Tb=function(){for(var t=0,n=this.ap.Nl;t<n.length;t++){var i=n[t];i.Lo(md.vl,this.kb),i.Pv()}},i.Il=function(){return this.Tb(),this.ap.Il(),T.resolve()},i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),t.next=3,this.Il();case 3:this.ap.Pv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ss);!function(t){t.gk="subtitles",t.Eb="captions",t.Sb="descriptions",t.Rb="chapters",t.yk="metadata",t.Ib="thumbnails"}(Kw||(Kw={}));var iy=[Kw.gk,Kw.Eb,Kw.Sb,Kw.Rb,Kw.yk,Kw.Ib];function ry(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&ns(iy,t)}(n)?n:n?Kw.yk:Kw.gk}var ey,sy=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return U(n,t),n}(Co);function uy(t){return t instanceof Lf}function oy(t){return yr(t,ey.Nb)}function hy(t){return t.some(ay)}function ay(t){return yr(t,ey.Cb)||yr(t,ey.Zm)}function cy(t,n){return uo(t)&&hy(n)}function fy(t,n){return!!t&&(uo(t)?function(t){return t.some(oy)}(n)||hy(n):yr(t,so.APPLICATION_TTML_XML)||yr(t,so.TEXT_VTT)||yr(t,so.IMAGE_JPEG))}function vy(t,n){return t===Kw.Ib||t===Kw.yk&&n===Kw.Ib}function dy(t,n,i,r){for(var e=0,s=t.t_.Nl;e<s.length;e++){var u=s[e];if(u.Gy>i)break;n<=u.jy&&r.push(u)}}function ly(t,n){return a_(t.Vl,n.Vl)}function _y(t,i){var r=i,e=0;if(uy(t)&&t.name===Pf.Xv)r=t.hv.cv;else if(t instanceof Uf){var s=t.jv;if(r=s.av,0===(e=s.rv))return new sy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new sy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function gy(t){switch(t){case K_.WEBVTT:return"WebVTT";case K_.SRT:return"SRT";case K_.TTML:return"TTML";default:return""}}function wy(t){return uw(Zg(t))?K_.WEBVTT:$w(t)?K_.TTML:K_.SRT}!function(t){t.Cb="vtt",t.Zm="wvtt",t.Nb="stpp"}(ey||(ey={}));var yy=function(t){function n(n){var i;return(i=t.call(this,Yd.Zl)||this).errorObject=n,i}return U(n,t),n.prototype.$d=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(yd),my=function(t){function i(n,i){var r;return(r=t.call(this)||this).Db=void 0,r.Ob=void 0,r.xb=new os,r.Db=n,r.Ob=i,r}U(i,t);var r=i.prototype;return r.Pb=function(t){if(t.src){var n=t.kind||Kw.gk,i=this.Db.Bb(n,t.id,t.label,t.srclang,t.default);return i.i_=Ir(t.src),this.El(i),i}},r.Lb=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h,a,c,f,v,d,l;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.Kl=$_.LOADING,e=new Of({cv:i.i_,sv:Jo.Je,Rv:Rf.GET,So:r}),t.prev=2,t.next=5,this.Ob.hv(e);case 5:return o=t.sent,u=o.rv,t.next=9,o.Hf();case 9:s=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),fs(t.t0),i.Kl=$_.ERROR,i.Do(new yy(_y(t.t0,i.i_))),t.abrupt("return");case 18:for(t.prev=18,h=wy(s),i.Ku=h,a=[],h===K_.WEBVTT||h===K_.SRT?(c=Yg(s),a=c.t_):h===K_.TTML&&(a=Ww(s)),f=0,v=a;f<v.length;f++)d=v[f],i.Mb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),fs(t.t1),i.Kl=$_.ERROR,l=gy(i.Ku),i.Do(new yy(new sy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.i_,u,t.t1))),t.abrupt("return");case 33:i.Kl=$_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Ab=function(t){ns(this.ap.Nl,t)&&t.Kl===$_.NONE&&this.Lb(t,this.xb.So).catch(vs)},r.Dh=function(){},r.Il=function(){var n=T.coroutine(le.mark(function n(){var i,r,e;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.xb.bo(),this.xb=new os,i=0,r=this.ap.Nl;i<r.length;i++)e=r[i],this.Db.Ub(e);return n.next=5,t.prototype.Il.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(ny);function ky(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Xl===n&&r.Fb)return r}}function py(t,n){Ay(ky(t.Nl,n))}function Ay(t){void 0!==t&&(t.$l=Qd.Yl)}function by(t,n){Ay(ky(t.Nl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Xl===n)return r}}(t.Nl,n))}function Ty(t){for(var n=0;n<iy.length;n++){var i=iy[n];i===Kw.Rb?by(t,i):py(t,i)}}var Ey,Sy=function(t){function n(){return t.call(this,Zo.cc)||this}return U(n,t),n}(Is);!function(t){t[t.Hb=0]="Hb",t[t.Vb=1]="Vb"}(Ey||(Ey={}));var Ry=t,Iy=Ry.MediaSource,Ny=Ry.WebKitMediaSource,Cy=Ry.TextTrack,Dy=e&&e.createElement("video"),Oy=(e&&e.documentElement.style,Q.oe&&Q.Le&&Q.Me<=26),xy=(Q.pe,!!m),Py=!(!Iy&&!Ny),By=!!Cy,Ly=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||Q.me,Q.Oe&&Q.xe,Dy&&Dy.canPlayType&&(""!==Dy.canPlayType("application/vnd.apple.mpegURL")||Q.ce&&!Q.Oe&&Q.fe>=4)),My=Dy&&Dy.canPlayType&&""!==Dy.canPlayType("video/mp4")&&!Oy,Uy=Py&&!Q.Pe&&!Q.Ne&&!Q.Ie&&((Iy||Ny).isTypeSupported?(Iy||Ny).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Dy&&Dy.canPlayType&&""!==Dy.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Fy=Py&&!Q.Pe&&(Uy||((Iy||Ny).isTypeSupported?(Iy||Ny).isTypeSupported("audio/mpeg"):Dy&&Dy.canPlayType&&""!==Dy.canPlayType("audio/mpeg"))),Hy=Py&&!(Q.De&&Q.oe)&&((Iy||Ny).isTypeSupported?(Iy||Ny).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):My),Vy=(Q.Pe||Q.Ne||Q.Ie,Q.Ce),Xy=Vy&&!1,Wy=!Q.Pe,qy=Q.Ne&&Q.he&&Q.ae<=6.1,zy=Dy&&"onresize"in Dy;try{r&&r.top!==r.self}catch(t){!0}var Gy=.001,jy=1e4,Qy=3,Yy=function(t){function n(n){var i;return(i=t.call(this,Ol.x_)||this).currentTime=n,i}return U(n,t),n}(Is),Zy=function(t){function n(n){var i;return(i=t.call(this,Ol.P_)||this).currentTime=n,i}return U(n,t),n}(Is),Jy=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).Xb=ll.T_,r.Wb=!0,r.qb=!1,r.zb=!1,r.Gb=function(t){var n=t.readyState;n!==r.Xb&&r.Do(t),n===ll.T_&&(r.qb=!1,r.zb=!1),r.jb(n),r.Qb(n),r.Yb(n),r.maybeDispatchCanPlayThroughEvent(n),r.Zb(n),r.Jb(n),r.Xb=n},r.$b=function(){r.Jb(r.Xb),r.Zb(r.Xb),r.Wb=r.Kb.H_},r.tT=function(){r.Wb=r.Kb.H_},r.Kb=n,r.nT=i,r.Kb.Oo(Ol.ll,r.Gb),r.Kb.Oo(Zo.uc,r.$b),r.Kb.Oo(Zo.sc,r.tT),r.nT&&r.Kb.Oo(Ol.P_,r.Co),r}U(n,t);var i=n.prototype;return i.jb=function(t){!this.zb&&t>=ll.E_&&(this.zb=!0,this.Do(new Fl(this.Kb.B_,t)))},i.Qb=function(t){!this.qb&&t>=ll.S_&&(this.qb=!0,this.Do(new ql(this.Kb.B_,t)))},i.Zb=function(t){this.nT||(t>=ll.R_&&this.Xb<ll.R_&&!this.Kb.H_||this.iT&&t>=ll.R_)&&this.Do(new Zy(this.Kb.B_))},i.Jb=function(t){!this.rT(t)||this.Kb.M_||this.Kb.Go||this.Do(new Yy(this.Kb.B_))},i.Yb=function(t){this.Xb<=ll.S_&&t>=ll.R_&&this.Do(new Ql(this.Kb.B_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ll.I_&&this.Do(new Yl(this.Kb.B_,t))},i.rT=function(t){var n=!this.Kb.H_&&t<=ll.S_,i=!this.Wb&&this.Xb<=ll.S_;return n&&!i},i.Il=function(){this.Xb=ll.T_,this.Wb=!0,this.qb=!1,this.zb=!1},i.Pv=function(){this.Bo(),this.nT&&this.Kb.Lo(Ol.P_,this.Co),this.Kb.Lo(Zo.uc,this.$b),this.Kb.Lo(Zo.sc,this.tT),this.Kb.Lo(Ol.ll,this.Gb)},L(n,[{key:"iT",get:function(){return!this.Kb.H_&&this.Wb}}]),n}(Ss),$y="titanium",Ky="conax",tm="ezdrm",nm="irdeto",im="vudrm",rm="verimatrix",em="keyos",sm="drmtoday",um="expressplay",om="azure",hm="xstream",am="vimond",cm="axinom",fm="uplynk",vm="comcast",dm="custom",lm=function(){function t(t,n,i,r,e){this.Hh=void 0,this.eT=void 0,this.sT=void 0,this.uT=void 0,this.Ob=void 0,this.oT=void 0,this.hT=void 0,this.Hh=t,this.eT=n,this.sT=i,this.Ob=r,this.hT=e,this.uT=this.aT(n)}var i=t.prototype;return i.cT=function(){return this.oT},i.fT=function(t){this.oT=t},i.vT=function(){return this.uT.licenseAcquisitionURL||this.cT()},i.dT=function(t){return T.resolve()},i.lT=function(t,n){return T.resolve(void 0)},i._T=function(){var t=T.coroutine(le.mark(function t(i,r,e,s){var u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.gT(i,r,e,s)).cv){t.next=3;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.zd.hv(u);case 6:return o=t.sent,t.next=9,o.Vf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),fs(t.t0),t.next=17,this.wT(t.t0,u.cv,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.gT=function(t,n,i,r){var e=this.yT().Rc(),s=this.Dv,u={cv:this.mT(),sv:n,ev:e,zf:t,Dv:s,Rv:Rf.POST,Iv:0,So:r,Ku:If._v,Nv:i};return new Of(u)},i.kT=function(t,n){return T.resolve(t)},i.pT=function(t,n,i,r){return T.resolve(t)},i.yT=function(){return new $o(this.uT.headers||{})},i.wT=function(){var t=T.coroutine(le.mark(function t(i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mT=function(t,n){var i=n,r=this.uT.queryParameters;if(!i){var e=this.vT();if(!e)return"";i=e}if(r||t){var s=b.Zs(i);t&&Rr(s,t),r&&Rr(s,r),i=s.href}return i},i.AT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(_m(t,i)))}(t,this.uT)},i.bT=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TT(n,r);case 2:return e=t.sent,t.next=5,this._T(e,this.hT,i,r);case 5:return s=t.sent,t.next=8,this.AT(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Pv=function(){},L(t,[{key:"zd",get:function(){return this.Ob}},{key:"ET",get:function(){return!1}},{key:"ST",get:function(){var t=this.uT.certificate;if(t)return it(t)?Ws(t):qu(t)}},{key:"RT",get:function(){return!1}},{key:"Dv",get:function(){return Boolean(this.uT.useCredentials)}}]),t}();function _m(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function gm(t,n){var i=Gu(t).buffer,r=n.licenseRequestProcessor;return T.resolve(_m(i,r))}var wm,ym,mm=function(t){function n(n,i,r,e){return t.call(this,Me,n,i,r,e)||this}U(n,t);var i=n.prototype;return i.aT=function(t){return t.widevine||{}},i.IT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ST){t.next=2;break}return t.abrupt("return",this.ST);case 2:return t.abrupt("return",this.NT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.NT=function(n,i){return t.prototype.bT.call(this,n,Nf.mv,i)},n}(lm);function km(t,n){if(null==t)return{};var i,r,e={},s=d.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function pm(t){return J(t.token&&t.deviceId)}function Am(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&J(i.PreAuthorization)}function bm(t){var n=t;return pm(n)&&""!==n.token&&""!==n.deviceId&&!Am(n)}(ym=wm||(wm={})).CT=!1,ym.DT=!1,ym.OT=!1,ym.xT=!1,ym.LOG_ADS_DETAILS=!1,ym.LOG_CHROMECAST_DETAILS=!1,ym.LOG_CUSTOM_DRM=!1,ym.LOG_BUFFERING_VIDEO_MAIN=!1,ym.LOG_BUFFERING_VIDEO_SELECTION=!1,ym.LOG_BUFFERING_AUDIO_MAIN=!1,ym.LOG_BUFFERING_AUDIO_SELECTION=!1,ym.PT=!1,ym.BT=!1;var Tm,Em=function(){function t(t,n,i){this.LT=t,this.Sh=n,this.MT=i}return t.prototype.UT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.MT.build(t))},L(t,[{key:"FT",get:function(){return this.LT}},{key:"Hh",get:function(){return this.Sh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Tm||(Tm={}));var Sm=function(){function t(){this.HT=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.VT(t,i,r)){case Tm.FAILED:throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Tm.OVERRIDDEN:var e=qm(i);b.mu("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Tm.SUCCEEDED:qm(i);0}},i.VT=function(t,n,i){var r=qm(n);if(!r)return Tm.FAILED;for(var e=Tm.SUCCEEDED,s=0,u=this.HT.slice();s<u.length;s++){var o=u[s];o.FT===t&&o.Hh===r&&(e=Tm.OVERRIDDEN,Ke(this.HT,o))}return this.HT.push(new Em(t,r,i)),e},i.XT=function(t,n){return void 0!==this.WT(t,n)},i.qT=function(t,n,i){var r=this.WT(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.UT(i)},i.WT=function(t,n){for(var i=0,r=this.HT;i<r.length;i++){var e=r[i];if(e.FT===t&&(!n||e.Hh===n))return e}},t}();Sm.zT=new Sm;var Rm={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Im(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Nm(t){return t&&void 0!==t.licenseAcquisitionURL}var Cm,Dm=Nm,Om=Nm;function xm(t){if(!t)return!0;if(Mm(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return Im(n)&&Im(i)&&Im(r)&&Im(e)&&Im(s)}function Pm(t){var n=bm(t),i=function(t){var n,i=t;return Am(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!pm(i)}(t);return(!n||!i)&&(n||i)}function Bm(t){return t.integration===nm}function Lm(t){var n=t;if(!n)return!1;if(xm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(Mm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Dm(r))return!1;if(e&&!Om(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Sm.zT.XT(n.integration))return!0;switch(n.integration){case $y:if(!function(t){return t.integration===$y&&(Um(t)||Fm(t))}(t))return!1;break;case im:if(!Hm(t))return!1;break;case rm:if(!function(t){return t.integration===rm}(t))return!1;break;case nm:if(!Bm(t))return!1;break;case Ky:if(!Pm(t))return!1;break;case tm:if(!function(t){return t.integration===tm}(t))return!1;break;case em:if(!Mm(t))return!1;break;case sm:if(!function(t){var n=t;return n.integration===sm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case um:if(!function(t){return t.integration===um}(t))return!1;break;case hm:if(!Vm(t))return!1;break;case am:if(!function(t){return t.integration===am}(t))return!1;break;case cm:if(!Xm(t))return!1;break;case om:if(!function(t){var n=t;return n.integration===om&&void 0!==n.token}(t))return!1;break;case fm:if(!function(t){return t.integration===fm}(t))return!1;break;case vm:if(!function(t){var n=t;return n&&J(n.releasePid)&&J(n.accountId)&&J(n.token)}(t))return!1;break;case dm:return!0;default:return!1}}return!0}function Mm(t){return t.integration===em}function Um(t){return void 0!==t.authToken}function Fm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Hm(t){var n=t;return n.integration===im&&void 0!==n.token}function Vm(t){var n=t;return n&&n.integration===hm&&it(n.ticketAcquisitionURL)&&it(n.streamId)}function Xm(t){var n=t;return n.integration===cm&&void 0!==n.token}function Wm(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Rm[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=_e({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return _e({},km(c,["customdata"]),{licenseAcquisitionURL:u,headers:a})}function qm(t){switch(t.toLowerCase()){case"widevine":case Oe:return Oe;case"playready":case Ce:return Ce;case"fairplay":case Pe:return Pe}}function zm(t,i){switch(t){case Re:return function(t){for(var n={},i=Dw.$k(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.ZA]=e.KA}return n}(i);case Ie:case Ne:return function(t){var n;return(n={})[xe]=t,n}(i);default:throw new Co(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Yu="Widevine",t.Qu="PlayreadyV2",t.GT="PlayreadyV2",t.jT="PlayreadyV3",t.Zu="Fairplay"}(Cm||(Cm={}));var Gm={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function jm(t,n){var i,r,e,s,u=Gm[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=b.Ou)?void 0:i.xu,OSVersion:null==(r=b.Ou)?void 0:r.Uu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=b.Ou)?void 0:e.Fu,DeviceModel:null==(s=b.Ou)?void 0:s.Hu}}}function Qm(t,i){if(!t.accountName)throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Ym(t,n,i){var r;if(Um(t))r={AuthToken:t.authToken,Payload:n};else{if(!Fm(t))throw Qm(t,i);r={LatensRegistration:jm(t,i),Payload:n}}return $s(JSON.stringify(r))}function Zm(t,n,i){return Jm.apply(this,arguments)}function Jm(){return(Jm=T.coroutine(le.mark(function t(i,r,e){var s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.jv){t.next=3;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.Ff(e);case 7:o=t.sent,h=$m(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.hv.cv,u.rv,u.uv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function $m(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Km=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Jo.Ec)||this).QT=void 0,e}U(i,t),i.YT=function(){return b.xu.au?"required":"optional"};var r=i.prototype;return r.wT=function(t,n,i){return Zm(t,n,i)},r.dT=function(t){return this.QT?ds(this.QT.lh,t):(this.QT=new Yu,T.resolve())},r.TT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.eT){t.next=3;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=zs(i),t.abrupt("return",Ym(e,s,Cm.Yu));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.AT=function(t){var i;if(!t.license)throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Ws(t.license),T.resolve(i)},r.ZT=function(t){return T.resolve(new y(t))},r.IT=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JT(),t.next=3,this.TT(n,i);case 3:return r=t.sent,t.next=6,this._T(r,Jo.Tc,Nf.kv,i);case 6:return e=t.sent,t.next=9,this.ZT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var n=T.coroutine(le.mark(function n(i,r){var e;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.NT.call(this,i,r);case 2:return e=n.sent,this.JT(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.JT=function(){this.QT||(this.QT=new Yu),this.QT._h()},r.Pv=function(){this.QT&&this.QT.bo(),t.prototype.Pv.call(this)},i}(mm),tk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Jo.Tc)||this).fT("https://widevine-proxy.drm.technology/proxy"),e}return U(i,t),i.prototype.TT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gm(i,this.uT);case 2:if(e=t.sent,s=this.sT,r=new y(e),u=[].slice.call(r),o=this.$T){t.next=8;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"$T",get:function(){if(Hm(this.eT))return this.eT.token}}]),i}(mm);function nk(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=_e({},i,{SessionId:t.sessionId,Ticket:t.ticket})),_e({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ik=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jo.Tc)||this).fT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}U(n,t);var i=n.prototype;return i.TT=function(t,n){return gm(t,this.uT)},i.mT=function(n,i){var r=n;return Bm(this.eT)&&(r=nk(this.eT,r)),t.prototype.mT.call(this,r,i)},n}(mm),rk="Conax-Custom-Data";function ek(t,n,i){var r=t&&Pm(t)&&t;if(r&&!i.has(rk)){var e=bm(r)?r.token:void 0,s=bm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(rk,u)}return i}var sk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jo.Tc)||this).fT("https://connect.conax.com:8094/license"),e}U(n,t);var i=n.prototype;return i.TT=function(t,n){return gm(t,this.uT)},i.yT=function(){var n=t.prototype.yT.call(this);return ek(this.eT,"Widevine",n)},n}(mm);function uk(t){var n=Ou(new y(t));return Ws(JSON.parse(n).license)}function ok(t){return"string"==typeof t.token?t.token:$s(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function hk(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var ak=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Jo.Tc)||this).fT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}U(n,t);var i=n.prototype;return i.TT=function(t,n){return gm(t,this.uT)},i.AT=function(t){return T.resolve(uk(t))},i.yT=function(){return hk(t.prototype.yT.call(this),this.$T,this.eT)},L(n,[{key:"$T",get:function(){return ok(this.eT)}}]),n}(mm),ck=function(t){function n(n,i,r){return t.call(this,n,i,r,Jo.Tc)||this}U(n,t);var i=n.prototype;return i.TT=function(t,n){return gm(t,this.uT)},i.yT=function(){var n=t.prototype.yT.call(this),i=this.eT.token;return n.set("Authorization","Bearer "+i),n},n}(mm);function fk(t,n,i,r){return vk.apply(this,arguments)}function vk(){return(vk=T.coroutine(le.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Vm(i)){t.next=2;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new $o).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={cv:i.ticketAcquisitionURL,sv:Jo.Ec,ev:u,Rv:Rf.POST,zf:JSON.stringify(c),So:s},t.next=13,e.hv(f);case 13:return v=t.sent,t.next=16,v.Ff();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var dk=function(t){function n(n,i,r){return t.call(this,n,i,r,Jo.Ec)||this}U(n,t);var i=n.prototype;return i.yT=function(){var n=t.prototype.yT.call(this);return n.set("Content-Type","application/json"),n},i.TT=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Js(n.buffer),e=this.eT,t.next=4,fk(e,"widevine_modular",this.zd,i);case 4:return s=t.sent,this.fT(s.licenseServerUrl),u=xu(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",gm(u,this.uT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.AT=function(t){var n=t;return T.resolve(Ws(n.license))},n}(mm),lk=function(t){function i(n,i,r){return t.call(this,n,i,r,Jo.Tc)||this}U(i,t);var r=i.prototype;return r.TT=function(t,n){return gm(t,this.uT)},r.yT=function(){if(!Xm(this.eT))throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.yT.call(this);return i.set("X-AxDRM-Message",this.eT.token),i},i}(mm);function _k(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var gk=function(t){function n(n,i,r){var e;return(e=t.call(this,Le,n,i,r,Jo.Tc)||this).KT=void 0,e}U(n,t);var i=n.prototype;return i.aT=function(t){return t.playready||{}},i.yT=function(){var n=new $o(this.KT);return n.Nc(t.prototype.yT.call(this)),n},i.tE=function(t){return t.length>=1&&t[0]._s.length>0},i.lT=function(n){var i=this.eT.playready.customData;if(i){var r=_k(i),e=_k('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+zs(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{va:e}})}return t.prototype.lT.call(this,n)},i.TT=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gm(n,this.uT);case 2:return r=t.sent,t.abrupt("return",this.nE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Nu(o,new ju,!0),t.prev=3,a=b.rs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.ls("PlayReadyKeyMessage")[0])?void 0:i.ls("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.ls("Challenge"))?r:[],this.tE(f)&&(u=Zs(f[0].Cs)),v=new $o,d=null!=(e=null==c?void 0:null==(s=c.ls("HttpHeaders")[0])?void 0:s.ls("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.ls("name")[0].Cs,w=_.ls("value")[0].Cs,v.append(g,w);return this.KT=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.IT=function(t,n){return T.resolve(t)},i.NT=function(n,i){return t.prototype.bT.call(this,n,Nf.pv,i)},n}(lm),wk=function(){function t(n){this.iE=void 0,this.rE=n,this.iE=t.eE(n)}return t.eE=function(t){return"3"===t.version?Cm.jT:Cm.GT},t.prototype.sE=function(){var t={};if(this.iE===Cm.jT){var n={LatensRegistration:jm(this.rE,Cm.jT)};t["X-TITANIUM-DRM-CDATA"]=$s(JSON.stringify(n))}return t},L(t,[{key:"uE",get:function(){return this.iE}},{key:"$h",get:function(){return this.iE===Cm.GT}}]),t}();var yk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).oE=void 0,e.oE=new wk(e.eT),e}U(i,t);var r=i.prototype;return r.lT=function(t){var i=this.eT;if(!this.eT)throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Fm(i)){var r={};return r.playready={va:mk(i,this.oE.uE)},T.resolve(r)}return T.reject(Qm(i,Cm.Qu))},r.yT=function(){var n=new $o(this.oE.sE());return n.Nc(t.prototype.yT.call(this)),n},r.wT=function(){var t=T.coroutine(le.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.jv){t.next=3;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.Xf(e);case 6:h=t.sent,a=Ou(new y(h)),(c=b.rs(a))&&(f=Mw(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Cs),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.rv,s.uv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.tE=function(t){if(1!==t.length)throw new P_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(gk);function mk(t,n){var i=jm(t,n),r=i.DeviceInfo.FormatVersion,e=$s('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Bu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Bu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+zs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var kk,pk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fT("https://playready-license.drm.technology/rightsmanager.asmx"),e}U(i,t);var r=i.prototype;return r.tE=function(t){if(1!==t.length)throw new P_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.mT=function(n,i){var r=_e({},n||{},{token:this.$T});return t.prototype.mT.call(this,r,i)},L(i,[{key:"$T",get:function(){if(Hm(this.eT))return this.eT.token}}]),i}(gk),Ak=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return U(n,t),n.prototype.mT=function(n,i){var r=n;return Bm(this.eT)&&(r=nk(this.eT,r)),t.prototype.mT.call(this,r,i)},n}(gk),bk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return U(n,t),n.prototype.yT=function(){var n=t.prototype.yT.call(this);return ek(this.eT,"PlayReady",n)},n}(gk),Tk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}U(n,t);var i=n.prototype;return i.AT=function(n){return(mr(Ou(new y(n)),"<?xml")?kk.hE:kk.Ff)===kk.Ff?T.resolve(uk(n)):T.resolve(t.prototype.AT.call(this,new y(n)))},i.yT=function(){return hk(t.prototype.yT.call(this),this.$T,this.eT)},L(n,[{key:"$T",get:function(){return ok(this.eT)}}]),n}(gk);!function(t){t[t.hE=0]="hE",t[t.Ff=1]="Ff"}(kk||(kk={}));var Ek,Sk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).aE=void 0,e}U(n,t);var i=n.prototype;return i.yT=function(){var n=t.prototype.yT.call(this);return this.aE&&n.set("Ticket",this.aE),n.set("Content-Type","text/xml"),n},i.TT=function(){var n=T.coroutine(le.mark(function n(i,r){var e,s;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.eT,n.next=3,fk(e,"playready",this.zd,r);case 3:return s=n.sent,this.fT(s.licenseServerUrl),this.aE=s.ticket,n.abrupt("return",t.prototype.TT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(gk),Rk=function(t){function i(){return t.apply(this,arguments)||this}return U(i,t),i.prototype.yT=function(){if(!Xm(this.eT))throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.yT.call(this);return i.set("X-AxDRM-Message",this.eT.token),i},i}(gk);!function(t){t.Ec="application/json",t.cE="application/x-www-form-urlencoded",t.fE="application/octet-stream",t.Je="text/plain;charset=UTF-8"}(Ek||(Ek={}));var Ik=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.Hh,i,r,e,s)||this).vE="",u.dE=void 0,u.lE=void 0,u.lE=n._E,u}U(n,t);var i=n.prototype;return i.gE=function(){return this.uT.certificateURL||this.dE},i.wE=function(t){this.dE=t},i.TT=function(t){return T.resolve(this.yE(t,this.vE))},i.yE=function(t,n){return"spc="+encodeURIComponent(zs(t))+"&assetId="+encodeURIComponent(n)},i.aT=function(t){return t.fairplay||{}},i.mE=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.lT=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.lE)?i:Mu(new y(n)),t.next=3,this.mE(r);case 3:return e=t.sent,this.vE=e,(s={}).fairplay={ma:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yT=function(){var n=t.prototype.yT.call(this);return n.set("Content-Type",this.kE),n},i.IT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ST){t.next=2;break}return t.abrupt("return",this.ST);case 2:return t.next=4,this.pE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.NT=function(n,i){return t.prototype.bT.call(this,n,Nf.wv,i)},i.AE=function(t){var n=this.gE(),i=this.yT(),r={cv:n,sv:Jo.Tc,ev:i,Rv:Rf.GET,Dv:!1,zf:null,Iv:0,So:t,Ku:If._v,Nv:Nf.yv};return new Of(r)},i.pE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AE(n),t.next=3,this.zd.hv(i);case 3:return r=t.sent,t.next=6,r.Xf();case 6:return e=t.sent,t.abrupt("return",new y(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.AT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ws(i)}else n=new y(t);return T.resolve(n)},i.mT=function(n,i){var r=t.prototype.mT.call(this,n,i);return mr(r,"skd:")&&(r=r.substr("skd:".length)),r},L(n,[{key:"RT",get:function(){return!0}},{key:"kE",get:function(){return Ek.cE}}]),n}(lm),Nk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jo.Tc)||this}U(n,t);var i=n.prototype;return i.mE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return T.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return T.resolve(i)},i.TT=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AT=function(t){return T.resolve(new y(t))},i.mT=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.mT.call(this,r,i)},L(n,[{key:"kE",get:function(){return Ek.fE}}]),n}(Ik),Ck=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Tc)||this).fT("https://fairplay-license.drm.technology/license"),s.wE("https://fairplay-license.drm.technology/certificate"),s}U(i,t);var r=i.prototype;return r.yE=function(t,n){var i={token:this.$T,contentId:n,payload:zs(t)};return JSON.stringify(i)},r.AT=function(t){return T.resolve(new y(t))},r.yT=function(){var n=t.prototype.yT.call(this);return n.set("x-vudrm-token",this.$T),n},L(i,[{key:"kE",get:function(){return Ek.Ec}},{key:"$T",get:function(){if(!Hm(this.eT))throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.eT.token}}]),i}(Ik),Dk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Ok="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",xk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jo.Tc)||this}return U(i,t),i.prototype.AT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Dk)}if(!i)throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Ok);return i}(Ou(new DataView(i)));return t.prototype.AT.call(this,r)},i}(Ik);var Pk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jo.Ec)||this}U(i,t);var r=i.prototype;return r.TT=function(){var t=T.coroutine(le.mark(function t(i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.eT){t.next=3;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=zs(i),t.abrupt("return",Ym(r,e,Cm.Zu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.AT=function(t){try{var i;if(it(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Zs(i.license);return T.resolve(new y(e))}return T.reject(new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.wT=function(t,n,i){return Zm(t,n,i)},L(i,[{key:"kE",get:function(){return Ek.Ec}}]),i}(Ik),Bk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Tc)||this).fT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.wE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}U(n,t);var i=n.prototype;return i.gE=function(){var n=t.prototype.gE.call(this);if(!n)return n;var i=b.Zs(n),r=this.eT;return Bm(r)&&Rr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.mE=function(n){return Bm(this.eT)?T.resolve(this.eT.contentId):t.prototype.mE.call(this,n)},i.TT=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AT=function(t){return T.resolve(new y(t))},i.mT=function(n,i){var r=n;return Bm(this.eT)&&(r=function(t,n){return _e({},nk(t,n),{KeyId:t.keyId})}(this.eT,r)),t.prototype.mT.call(this,r,i)},L(n,[{key:"kE",get:function(){return Ek.fE}}]),n}(Ik),Lk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,Jo.Je)||this,!Pm(r))throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.fT("https://connect.conax.com:8097/license"),u}U(i,t);var r=i.prototype;return r.yT=function(){var n=t.prototype.yT.call(this);return ek(this.eT,"FairPlay",n)},r.pE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.gE(),r={cv:i,sv:Jo.Tc,ev:{},Rv:Rf.GET,Dv:!1,zf:null,Iv:0,So:n,Ku:If._v,Nv:Nf.yv},t.next=4,this.zd.hv(r);case 4:return e=t.sent,t.next=7,e.Xf();case 7:return s=t.sent,t.abrupt("return",new y(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.TT=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.mE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Ou(Ws(n)))):T.resolve("unknown")},r.AT=function(t){try{var n=JSON.parse(t);return T.resolve(new y(Zs(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(Ik),Mk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Je)||this).fT(Rm[Ee.Zu]),s}U(i,t);var r=i.prototype;return r.mE=function(t){return mr(t,"skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new P_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.yE=function(t,n){return"spc="+zs(t)+"&assetId="+n},i}(Ik),Uk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Je)||this).fT("https://lic.drmtoday.com/license-server-fairplay/"),s}U(n,t);var i=n.prototype;return i.yE=function(t,n){var i="spc="+encodeURIComponent(zs(t))+"&"+encodeURI(n);return"persistent"===this.uT.licenseType?i+"&offline=true":i},i.yT=function(){return hk(t.prototype.yT.call(this),this.$T,this.eT)},L(n,[{key:"$T",get:function(){return ok(this.eT)}}]),n}(Ik),Fk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jo.Tc)||this}U(n,t);var i=n.prototype;return i.mE=function(t){var n=t;return mr(n,"skd:")&&(n="http:"+n.substring(4)),mr(n,"http:")||mr(n,"https:")?T.resolve(b.Zs(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.TT=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.AT=function(t){return T.resolve(new y(t))},L(n,[{key:"kE",get:function(){return Ek.fE}}]),n}(Ik),Hk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Jo.Je)||this}return U(n,t),n.prototype.yT=function(){var n=t.prototype.yT.call(this),i=this.eT.token;return n.set("Authorization","Bearer "+i),n},n}(Ik),Vk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Jo.Ec)||this,!Vm(i))throw new f("Invalid Xstream DRM configuration");return s}U(n,t);var i=n.prototype;return i.pE=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.gE(),r=this.yT(),e={cv:i,sv:Jo.Ec,ev:r,Rv:Rf.POST,So:n,Ku:If._v,Nv:Nf.yv},t.next=5,this.zd.hv(e);case 5:return s=t.sent,t.next=8,s.Ff();case 8:return u=t.sent,t.abrupt("return",new y(Ws(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NT=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Jo.Je),e=zs(n),s=this.eT,t.next=5,fk(s,"fairplay",this.zd,i);case 5:return u=t.sent,o=xu(JSON.stringify({spc:e,ticket:u.ticket})),h={cv:this.vT(),sv:Jo.Ec,ev:this.yT(),Rv:Rf.POST,zf:o,Iv:0,So:i,Ku:If._v,Nv:Nf.wv},t.next=10,this.zd.hv(h);case 10:return a=t.sent,t.next=13,a.Ff();case 13:return c=t.sent,t.abrupt("return",Ws(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"kE",get:function(){return Ek.Ec}}]),n}(Ik),Xk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jo.Je)||this}U(i,t);var r=i.prototype;return r.yE=function(t,n){return zs(t)},r.AT=function(i){if(0===i.length)throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.AT.call(this,i)},r.yT=function(){var n=t.prototype.yT.call(this);return n.set("Content-Type","text/plain"),n},i}(Ik),Wk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Jo.Tc)||this}U(i,t);var r=i.prototype;return r.yE=function(t,n){return t},r.AT=function(t){return T.resolve(new y(t))},r.yT=function(){if(!Xm(this.eT))throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.yT.call(this);return i.set("X-AxDRM-Message",this.eT.token),i},L(i,[{key:"kE",get:function(){return Ek.Ec}}]),i}(Ik),qk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Ec)||this).bE=void 0,s}U(i,t);var r=i.prototype;return r.yE=function(t,n){var i={spc:zs(t)};return JSON.stringify(i)},r.mE=function(t){var i=b.Zs(t);return this.bE=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new P_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.mT=function(n,i){var r=this.vT();return!r&&this.bE&&(r=this.bE),r&&(r=r.replace("skd://","https://")),t.prototype.mT.call(this,n,i||r)},r.AT=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=it(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Ws(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"kE",get:function(){return Ek.Je}}]),i}(Ik),zk=function(){function t(t,n){this.TE=t,this.EE=n}var n=t.prototype;return n.SE=function(t){return this.TE(t)},n.RE=function(t,n){throw new v(n+" must be "+this.EE+". (Received: "+t+")")},t}(),Gk=new zk(ut,"a number"),jk=new zk(it,"a string"),Qk=new zk(rt,"a boolean");var Yk,Zk=(Yk={responseCode:Gk,isException:Qk,description:jk,title:jk,correlationId:jk},{SE:function(t){if(!tt(t))return!1;for(var n=0,i=d.keys(Yk);n<i.length;n++){var r=i[n];if(!Yk[r].SE(t[r]))return!1}return!0},RE:function(t,n){if(!tt(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(Yk);i<r.length;i++){var e=r[i],s=Yk[e];if(!s.SE(t[e]))return s.RE(t[e],n+"."+e)}throw new v}});function Jk(t,n,i,r,e){return $k.apply(this,arguments)}function $k(){return($k=T.coroutine(le.mark(function t(n,i,r,e,s){var u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=Kk(n,i,r,s),t.next=3,tp(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Kk(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=b.Zs(t);return Rr(i,n),i.toString()}(i,e)),u=new $o({});u.append("Content-Type","application/json");var o=zs(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{cv:s,sv:Jo.Je,ev:u,Rv:Rf.POST,zf:JSON.stringify(h),So:r,Ku:If._v,Nv:Nf.wv}}function tp(t,n){return np.apply(this,arguments)}function np(){return(np=T.coroutine(le.mark(function t(i,r){var e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.hv(i);case 2:return e=t.sent,t.next=5,e.Ff();case 5:if(s=t.sent,!Zk.SE(s)){t.next=8;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.cv,s.responseCode);case 8:return t.abrupt("return",Ws(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ip=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Jo.Tc)||this).IE=void 0,s.IE=i,s}U(n,t);var i=n.prototype;return i.mE=function(n){var i=n.replace("FairPlay",this.IE.releasePid);return t.prototype.mE.call(this,i)},i.NT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jk(n,this.IE,this.vT(),this.zd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Ik),rp=function(t){function i(n,i,r){return t.call(this,Fe,n,i,r,Jo.Tc)||this}U(i,t);var r=i.prototype;return r.aT=function(t){return t.clearkey||{}},r.TT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gm(n,this.uT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r._T=function(){var i=T.coroutine(le.mark(function i(r,e,s,u){var o,h;return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.uT,!this.vT()){i.next=5;break}return i.abrupt("return",t.prototype._T.call(this,r,this.hT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",xu(JSON.stringify(h)).buffer);case 10:throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.IT=function(t,n){return T.resolve(new y(0))},r.NT=function(n,i){return t.prototype.bT.call(this,n,Nf.Av,i)},i}(lm),ep=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.TT=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gm(n,this.uT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(mm),sp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function up(t,n,i){return op.apply(this,arguments)}function op(){return(op=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=pp(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ds(T.resolve(s.call(n,e)),r);case 8:if(!Wu(u=t.sent)){t.next=11;break}return t.abrupt("return",qu(u));case 11:return t.abrupt("return",kp(_e({},sp,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hp(t,n,i,r,e){return ap.apply(this,arguments)}function ap(){return(ap=T.coroutine(le.mark(function t(n,i,r,e,s){var u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=mp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ds(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",qu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cp(t,n,i,r){return fp.apply(this,arguments)}function fp(){return(fp=T.coroutine(le.mark(function t(n,i,r,e){var s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lp(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",kp(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vp(t,n,i,r,e,s){return dp.apply(this,arguments)}function dp(){return(dp=T.coroutine(le.mark(function t(n,i,r,e,s,u){var o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=yp(r,s),t.next=3,gp(n,new y(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",qu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function lp(t,n,i,r){return _p.apply(this,arguments)}function _p(){return(_p=T.coroutine(le.mark(function t(n,i,r,e){var s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=yp(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(u));case 5:return t.next=8,ds(T.resolve(s.call(n,u)),e);case 8:if(!Wu(o=t.sent)){t.next=11;break}return t.abrupt("return",qu(o).buffer);case 11:return t.abrupt("return",_e({fairplaySkdUrl:void 0},sp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r,e){return wp.apply(this,arguments)}function wp(){return(wp=T.coroutine(le.mark(function t(n,i,r,e,s){var u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=mp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,ds(T.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",qu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yp(t,n){return _e({},pp(t),{fairplaySkdUrl:n})}function mp(t,n,i){return{url:i.av,status:i.rv,statusText:i.uv,headers:i.ev.Rc(),body:t,request:n}}function kp(t){return new Of({cv:t.url,Rv:t.method,ev:t.headers,zf:t.body,Dv:t.useCredentials})}function pp(t){var n;return{url:t.cv,body:null!=(n=Ap(t.zf))?n:null,headers:t.ev.Rc(),method:t.Rv,useCredentials:t.Dv}}function Ap(t){if(t)return"string"==typeof t?xu(t):t instanceof ArrayBuffer?new y(t):js(t)?Xu(t):void 0}var bp,Tp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).NE=void 0,s.NE=e,s}U(i,t);var r=i.prototype;return r.IT=function(t,n){return T.resolve(t)},r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nE(Gu(i).buffer);case 2:return e=t.sent,s=this.gT(e,Jo.Tc,Nf.pv,r),t.next=6,cp(this.NE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(u));case 10:if(""!==u.cv){t.next=12;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.zd.hv(u);case 15:return o=t.sent,t.next=18,o.Xf(r);case 18:return h=t.sent,t.t0=y,t.next=22,vp(this.NE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),fs(t.t2),new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(gk),Ep=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,Jo.Tc)||this).NE=void 0,s.NE=e,s}U(i,t);var r=i.prototype;return r.IT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ST){t.next=2;break}return t.abrupt("return",this.ST);case 2:return e=this.gT(i,Jo.Tc,Nf.kv,r),t.next=5,up(this.NE,e,r);case 5:if(!((s=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.cv){t.next=11;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.zd.hv(s);case 14:return u=t.sent,t.next=17,u.Xf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),fs(t.t0),new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=yp(e,void 0),t.next=27,hp(this.NE,new y(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.gT(i,Jo.Tc,Nf.mv,r),t.next=3,cp(this.NE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.cv){t.next=9;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.zd.hv(s);case 12:return u=t.sent,t.next=15,u.Xf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),fs(t.t0),new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,vp(this.NE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(ep),Sp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Jo.Tc)||this).NE=void 0,u.CE=void 0,u.NE=s,u}U(i,t);var r=i.prototype;return r.IT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.ST){t.next=2;break}return t.abrupt("return",this.ST);case 2:return e=this.AE(r),t.next=5,up(this.NE,e,r);case 5:if(s=t.sent,!js(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.zd.hv(s);case 11:return u=t.sent,t.next=14,u.Xf();case 14:return o=t.sent,h=yp(e,void 0),t.next=18,hp(this.NE,new y(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),fs(t.t0),new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.NT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.gT(i,Jo.Tc,Nf.wv,r),t.next=3,cp(this.NE,e,this.CE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(s));case 7:if(""!==s.cv){t.next=9;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.zd.hv(s);case 12:return u=t.sent,t.next=15,u.Xf(r);case 15:return o=t.sent,t.t0=y,t.next=19,vp(this.NE,o,e,u,this.CE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),fs(t.t2),new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.mE=function(n){var i;return this.CE=n,null!=(i=this.NE)&&i.extractFairplayContentId?T.resolve(this.NE.extractFairplayContentId(n)):t.prototype.mE.call(this,n)},i}(Ik),Rp=function(){function t(){}var n=t.prototype;return n.DE=function(t,n,i,r){switch(t.Hh.Ku){case Ee.Yu:return this.OE(n,i,r);case Ee.Qu:return this.xE(n,i,r);case Ee.Zu:return this.PE(t,n,i,r);case Ee.Ju:default:return this.BE(n,i,r)}},n.OE=function(t,n,i){var r,e=(r=t).integration===dm&&it(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Sm.zT.XT(e,Oe)){var s=Sm.zT.qT(e,Oe,t);return new Ep(t,n,i,s)}switch(e){case $y:return new Km(t,n,i);case im:return new tk(t,n,i);case nm:return new ik(t,n,i);case Ky:return new sk(t,n,i);case sm:return new ak(t,n,i);case om:return new ck(t,n,i);case hm:return new dk(t,n,i);case cm:return new lk(t,n,i);case em:default:return new ep(t,n,i,Jo.Tc)}},n.xE=function(t,n,i){var r=t.integration;if(r&&Sm.zT.XT(r,Ce)){var e=Sm.zT.qT(r,Ce,t);return new Tp(t,n,i,e)}switch(r){case $y:return new yk(t,n,i);case im:return new pk(t,n,i);case nm:return new Ak(t,n,i);case Ky:return new bk(t,n,i);case sm:return new Tk(t,n,i);case hm:return new Sk(t,n,i);case cm:return new Rk(t,n,i);case em:default:return new gk(t,n,i)}},n.PE=function(t,n,i,r){var e=n.integration;if(e&&Sm.zT.XT(e,Pe)){var s=Sm.zT.qT(e,Pe,n);return new Sp(t,n,i,r,s)}switch(e){case tm:return new Nk(t,n,i,r);case im:return new Ck(t,n,i,r);case rm:return new xk(t,n,i,r);case $y:return new Pk(t,n,i,r);case nm:return new Bk(t,n,i,r);case Ky:return new Lk(t,n,i,r);case em:return new Mk(t,n,i,r);case sm:return new Uk(t,n,i,r);case um:return new Fk(t,n,i,r);case om:return new Hk(t,n,i,r);case hm:return new Vk(t,n,i,r);case am:return new Xk(t,n,i,r);case cm:return new Wk(t,n,i,r);case fm:return new qk(t,n,i,r);case vm:return new ip(t,n,i,r);default:return new Ik(t,n,i,r,Jo.Je)}},n.BE=function(t,n,i){return new rp(t,n,i)},n.LE=function(t){return t.Ku===Ee.Qu||t.Ku===Ee.Yu||t.Ku===Ee.Zu||t.Ku===Ee.Ju},n.$h=function(t,n){var i;if(t.Ku!==Ee.Qu)return!1;if(J(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Sm.zT.XT(r,Pe))&&(r===$y&&new wk(n).$h)},n.YT=function(t,n){if(t.Ku===Ee.Yu){var i=n.integration;if(!i||!Sm.zT.XT(i,Pe))return i===$y?Km.YT():void 0}},t}();!function(t){t[t.ME=0]="ME",t[t.UE=1]="UE",t[t.FE=2]="FE",t[t.HE=3]="HE",t[t.w_=4]="w_",t[t.VE=5]="VE",t[t.b_=6]="b_",t[t.XE=7]="XE",t[t.WE=8]="WE"}(bp||(bp={}));var Ip,Np=function(){function t(){}return t.prototype.qE=function(t){},L(t,[{key:"zE",get:function(){return 0}},{key:"GE",get:function(){return 0}}]),t}(),Cp=function(){function t(t,n){void 0===n&&(n=new Rp),this.Ob=void 0,this.jE=void 0,this.rE=void 0,this.Ob=t,this.jE=n}var n=t.prototype;return n.QE=function(t){this.rE=t},n.YT=function(t){var n=this.rE;if(void 0!==n)return this.jE.YT(t,n)},n.$h=function(t){var n=this.rE;return void 0!==n&&this.jE.$h(t,n)},n.YE=function(t){var n={Hh:t.Hh,ZE:t.ZE||[],_E:t._E},i=this.jE.DE(n,this.rE||{},t.sT,this.Ob);return new Dp(i)},t}(),Dp=function(){function t(t){this.JE=void 0,this.JE=t}var n=t.prototype;return n.dT=function(t){return this.JE.dT(t)},n.lT=function(t,n,i){return this.JE.lT(n,i)},n.RT=function(){return this.JE.RT||void 0!==this.JE.ST},n.IT=function(t,n){return this.JE.IT(t,n)},n.NT=function(t,n,i){return n&&this.JE.fT(n),this.JE.NT(t,i)},n.wo=function(){this.JE.Pv()},t}();function Op(){return Ip||(Ip=Or&&Or.document&&Or.document.createElement("video")),Ip}var xp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Rp),void 0===o&&(o=qo()),(h=t.call(this)||this).$E=void 0,h.KE=void 0,h.tS=void 0,h.Ow=void 0,h.xw=void 0,h.Pw=void 0,h.nS=void 0,h.iS=void 0,h.rS=void 0,h.eS=void 0,h.sS=void 0,h.Ob=void 0,h.uo=void 0,h.uS=void 0,h.oS=void 0,h.hS=new Np,h.aS=function(t){var n=t.Go,i=n.code,r=new Co(U_(i),"Something went wrong during native playback.",n),e=new B_(i,r.message,n.message);h.cS(r,e)},h.fS=function(){h.Do(new Xl(h.B_,h.ly))},h.vS=function(t){h.H_||(h.oS=void 0),h.Do(t)},h.dS=function(t){h.oS=void 0,h.Do(t)},h.lS=function(){h.Do(new ig(h.gy))},h._S=function(){h.q_>0&&h.W_>0&&h.Do(new Sy)},h.gS=function(t){h.Ow.El(new Z_(t.track))},h.wS=function(t){var n=Lp(h.Ow,t.track);n&&h.Ow.Sl(n)},h.yS=function(){h.mS(h.Ow)},h.kS=function(t){h.xw.El(new ng(t.track))},h.pS=function(t){var n=Lp(h.xw,t.track);n&&h.xw.Sl(n)},h.AS=function(){h.mS(h.xw)},h.bS=function(t){h.Do(t),h.cS(t.errorObject,M_(t.errorObject))},h.$E=i,h.Ob=r,h.uo=o,h.KE=h.$E.TS(F_.Ev),h.rS=h.KE.ES.preload,h.eS=new Jy(h.KE,!0),h.eS.Oo(Ul,h.Co),h.uS=new Cp(r,u),h.KE.SS=h.uS,h.RS(),h.Ow=new H_,h.xw=new H_,h.IS(),h.sS=new my(h.KE,h.Ob),h.Pw=new rl,h.Kw(),h}U(n,t);var i=n.prototype;return i.ty=function(){this.KE.ty()},i.Kw=function(){this.KE.Kw()},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(r),e={Ku:Ey.Hb,i_:n.src,qf:n.type,NS:this.CS(n),Ey:this.rS,DS:n.crossOrigin,OS:i.metadata&&i.metadata.title},this.uS.QE(n.contentProtection),t.next=5,this.KE.Dh(e);case 5:this.tS=t.sent,cs(r),this.Pw.Ll=this.KE.Hw,i.textTracks&&this.xS(i.textTracks),Ty(this.Hw);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xS=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.KE.PS()&&Q.me&&By&&!vy(i.kind,i.label)&&this.LS(i)){var r,e=null!=(r=i.kind)?r:Kw.gk;this.KE.MS(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.sS.Pb(i)}}},i.LS=function(t){return!t.format||"webvtt"===t.format},i.Xw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.KE.Xw();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.US){t.next=12;break}return t.next=10,this.KE.Ho(Zo.oc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Ww=function(){this.KE.Ww()},i.jw=function(){return void 0!==this.KE.ES.webkitShowPlaybackTargetPicker},i.Qw=function(){this.KE.ES.webkitShowPlaybackTargetPicker&&this.KE.ES.webkitShowPlaybackTargetPicker()},i.Yw=function(){this.KE.ES.webkitShowPlaybackTargetPicker&&this.KE.ES.webkitShowPlaybackTargetPicker()},i.ny=function(){return this.KE.ES},i.iy=function(){return this.KE.FS},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nS=void 0,this.iS=void 0,this.tS=void 0,t.next=5,this.sS.Il();case 5:return this.Pw.Il(),this.KE.HS(),t.next=9,this.KE.Il();case 9:this.eS.Il(),this.Ey=this.rS,this.Uw.Il(),this.Fw.Il(),this.oS=void 0;case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Il();case 2:return this.Bo(),this.VS(),this.XS(),this.eS.Pv(),this.KE.SS=void 0,t.next=9,this.$E.WS(this.KE);case 9:return this.Ow.Pv(),this.xw.Pv(),this.Pw.Pv(),t.next=14,this.sS.Pv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.RS=function(){this.KE.Oo(Zo.uc,this.Co),this.KE.Oo(Zo.sc,this.Co),this.KE.Oo(Zo.mc,this.fS),this.KE.Oo(Zo.oc,this.Co),this.KE.Oo(Zo.tc,this.Co),this.KE.Oo(Zo.vc,this.Co),this.KE.Oo(Zo.fc,this.vS),this.KE.Oo(Zo.Ja,this.Co),this.KE.Oo(Zo.hc,this.Co),this.KE.Oo(Zo.kc,this.Co),this.KE.Oo(Zo.Ya,this.Co),this.KE.Oo(Zo.cc,this._S),this.KE.Oo(Ol.P_,this.dS),this.KE.Oo(Yd.Zl,this.aS),this.KE.Oo(Zo.Ga,this.Co),this.KE.Oo(Zo.za,this.bS),this.KE.ES.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lS)},i.VS=function(){this.KE.Lo(Zo.uc,this.Co),this.KE.Lo(Zo.sc,this.Co),this.KE.Lo(Zo.mc,this.fS),this.KE.Lo(Zo.oc,this.Co),this.KE.Lo(Zo.tc,this.Co),this.KE.Lo(Zo.vc,this.Co),this.KE.Lo(Zo.fc,this.vS),this.KE.Lo(Zo.Ja,this.Co),this.KE.Lo(Zo.hc,this.Co),this.KE.Lo(Zo.kc,this.Co),this.KE.Lo(Zo.Ya,this.Co),this.KE.Lo(Zo.cc,this._S),this.KE.Lo(Ol.P_,this.dS),this.KE.Lo(Yd.Zl,this.aS),this.KE.Lo(Zo.Ga,this.Co),this.KE.Lo(Zo.za,this.bS),this.KE.ES.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.lS)},i.CS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Hh:Ue,qS:[{initDataTypes:[Ue.io],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.IS=function(){var t=this.KE.ES.audioTracks,n=this.KE.ES.videoTracks;t&&(t.addEventListener("addtrack",this.gS),t.addEventListener("removetrack",this.wS),t.addEventListener("change",this.yS)),n&&(n.addEventListener("addtrack",this.kS),n.addEventListener("removetrack",this.pS),n.addEventListener("change",this.AS))},i.XS=function(){var t=this.KE.ES.audioTracks,n=this.KE.ES.videoTracks;t&&(t.removeEventListener("addtrack",this.gS),t.removeEventListener("removetrack",this.wS),t.removeEventListener("change",this.yS)),n&&(n.removeEventListener("addtrack",this.kS),n.removeEventListener("removetrack",this.pS),n.removeEventListener("change",this.AS))},i.mS=function(t){for(var n=0;n<t.Cl;n++){t.Tl(n).Py()}},i.ay=function(){this.KE.ay()},i.cS=function(t,n){this.nS||(this.nS=n,this.iS=t,this.Do(new Jl(t)))},L(n,[{key:"US",get:function(){var t=this.KE.vy,n=this.B_;return t.zS(n,.01)}},{key:"Uw",get:function(){return this.Ow}},{key:"vy",get:function(){return this.KE.vy.GS()}},{key:"ly",get:function(){return this.KE.ly},set:function(t){t&&this.KE.jS(t)}},{key:"B_",get:function(){return void 0!==this.oS?this.oS:this.KE.B_},set:function(t){this.gy&&(this.oS=t),this.KE.oh(t)}},{key:"L_",get:function(){return this.KE.L_}},{key:"M_",get:function(){return this.KE.M_}},{key:"Go",get:function(){return this.nS}},{key:"U_",get:function(){return this.iS}},{key:"Vw",get:function(){}},{key:"gy",get:function(){return this.KE.gy}},{key:"Sw",get:function(){return _e({},{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.KE.QS())}},{key:"F_",get:function(){return this.KE.F_},set:function(t){this.KE.F_=t}},{key:"by",get:function(){return!0}},{key:"H_",get:function(){return this.KE.H_}},{key:"V_",get:function(){return this.KE.V_},set:function(t){this.KE.V_=t}},{key:"Ty",get:function(){return this.KE.ES.played}},{key:"Ey",get:function(){return this.rS},set:function(t){this.rS=t,this.tS&&(this.tS.Ey=t)}},{key:"Kl",get:function(){return this.KE.Kl}},{key:"Sy",get:function(){return this.KE.Sy.GS()}},{key:"X_",get:function(){return this.KE.X_}},{key:"YS",get:function(){return this.KE.YS}},{key:"Hw",get:function(){return this.Pw}},{key:"Fw",get:function(){return this.xw}},{key:"W_",get:function(){return this.KE.W_}},{key:"q_",get:function(){return this.KE.q_}},{key:"z_",get:function(){return this.KE.z_},set:function(t){this.KE.z_=t}},{key:"ZS",get:function(){return this.hS}}]),n}(el);function Pp(t){return!t.type||!(!Op().canPlayType||!Op().canPlayType(t.type))}var Bp=function(){function t(){this.JS=bp.WE}var n=t.prototype;return n.UT=function(t,n,i,r,e,s){return new xp(t,n,i,r,e)},n.$S=function(t,n){return Pp(t)},n.KS=function(){return!1},t}();function Lp(t,n){for(var i=0,r=t.Nl;i<r.length;i++){var e=r[i];if(e.My===n)return e}}var Mp=function(){function t(){this.tR=new Bp,this.nR=[]}t.iR=function(){return this.je};var n=t.prototype;return n.rR=function(t){this.nR.push(t)},n.UT=function(t,n,i,r,e,s){for(var u=this.tR.UT(t,n,i,r,e,s),o=0,h=this.nR;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.$S=function(t,n){return this.tR.$S(t,n)},n.KS=function(){return!1},L(t,[{key:"JS",get:function(){return this.tR.JS}}]),t}();function Up(t,n){return a_(t.JS,n.JS)}function Fp(t){Hp.je.eR(t)}Mp.je=new Mp;var Hp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).sR=Mp.iR(),n}U(n,t);var i=n.prototype;return i.uR=function(t){this.sR=t},i.oR=function(){return this.sR},i.hR=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.aR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{cR:e,fR:s});case 8:r++,t.next=1;break;case 11:u=this.sR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.$S(h,i)){t.next=17;break}return t.abrupt("return",{cR:h,fR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{cR:n[0],fR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.vR=[]}var n=t.prototype;return n.eR=function(t){this.vR.push(t),this.vR.sort(Up)},n.aR=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.vR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!et(u=s.$S(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Hp.je=new Hp;var Vp,Xp=function(){function t(t){this.dR=void 0,this.dR=Or&&Or.document&&Or.document.createElement("div"),zr(this.dR),t.appendChild(this.dR)}return t.prototype.Pv=function(){Vr(this.dR)},t}();function Wp(t){switch(t){case Vp.lR:case"":return Vp.lR;case Vp.yk:return Vp.yk;case Vp._R:default:return Vp._R}}!function(t){t.WE="",t._R="none",t.yk="metadata",t.lR="auto"}(Vp||(Vp={}));var qp=[Yd.Zl,Zo.Za,Zo.jo,Zo.bc,Zo.Va,Zo.$a,Zo.rc,Zo.ec,Zo.lc,Zo.gc,Ol.N_,Ol.C_,Ol.D_,Ol.O_,Ol.ll,Ol.x_,Ol.P_,Zo.za,Zo.Ga,Zo.Ya,Zo.Ja,Zo.tc,Zo.nc,Zo.uc,Zo.oc,Zo.sc,Zo.hc,Zo.cc,Zo.vc,Zo.fc,Zo.mc,Zo.kc,Zo.ac,Zo.ic,Zo.dc],zp=function(t){function n(n,i){var r;return(r=t.call(this)||this).gR=void 0,r.wR=void 0,r.yR=void 0,r.mR=void 0,r.rS=Vp._R,r.kR=void 0,r.pR=!0,r.Ow=new Zd,r.xw=new Zd,r.Pw=new rl,r.Bw=new O_,r.gR=n,r.yR=i,r.yR.Ey=r.Ey,r.AR(),r}U(n,t);var i=n.prototype;return i.Ww=function(){this.yR.Ww()},i.Xw=function(){this.yR.Xw()},i.qw=function(){return this.Gw(void 0)},i.Zw=function(){},i.sy=function(t){return!1},i.AR=function(){this.Ow.Ll=this.yR.Uw,this.xw.Ll=this.yR.Fw,this.Pw.Ll=this.yR.Hw,this.Bw.Ll=this.yR.Vw,this.yR.Oo(qp,this.Co)},i.bR=function(){this.yR.Lo(qp,this.Co),this.Ow.Ll=void 0,this.xw.Ll=void 0,this.Pw.Ll=void 0,this.Bw.Ll=void 0},i.zw=function(){return this.kR},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(i),this.kR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Sl(r=n.sources.filter(Dl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.gR.hR(r,n);case 9:if(e=t.sent,cs(i),s=e.cR,u=e.fR,o=this.iy(),h=t_(this),this.wR===u&&!this.Go){t.next=25;break}return this.bR(),t.next=19,this.yR.Pv();case 19:cs(i),this.wR=u,this.yR=this.ER(u),Gp(this.yR,h),i_(this,h,this),this.AR();case 25:return this.yR.Ey=this.Ey,this.pR?this.yR.Kw():this.yR.ty(),t.next=29,this.yR.Gw(s,n,i);case 29:cs(i),this.SR(s),this.iy()!==o&&this.Do(new ul);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.SR=function(t){this.mR!==t&&(this.mR=t,this.Do(new ol(t)))},i.jw=function(){return this.yR.jw()},i.Qw=function(){this.yR.Qw()},i.Yw=function(){this.yR.Yw()},i.iy=function(){return this.yR.iy()},i.ay=function(){this.yR.ay()},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kR=void 0,this.SR(void 0),t.next=4,this.yR.Il();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),t.next=3,this.Il();case 3:return t.next=5,this.yR.Pv();case 5:this.Ow.Pv(),this.xw.Pv(),this.Pw.Pv(),this.Bw.Pv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kw=function(){this.pR=!0,this.yR.Kw()},i.ty=function(){this.pR=!1,this.yR.ty()},L(n,[{key:"Uw",get:function(){return this.Ow}},{key:"vy",get:function(){return this.yR.vy}},{key:"Go",get:function(){return this.yR.Go}},{key:"U_",get:function(){return this.yR.U_}},{key:"ly",get:function(){return this.yR.ly},set:function(t){this.yR.ly=t}},{key:"hy",get:function(){return this.mR}},{key:"B_",get:function(){return this.yR.B_},set:function(t){this.yR.B_=t}},{key:"L_",get:function(){return this.yR.L_}},{key:"M_",get:function(){return this.yR.M_}},{key:"Vw",get:function(){return this.Bw}},{key:"gy",get:function(){return this.yR.gy}},{key:"Sw",get:function(){return this.yR.Sw}},{key:"F_",get:function(){return this.yR.F_},set:function(t){this.yR.F_=t}},{key:"by",get:function(){return this.yR.by}},{key:"H_",get:function(){return this.yR.H_}},{key:"V_",get:function(){return this.yR.V_},set:function(t){this.yR.V_=t}},{key:"Ty",get:function(){return this.yR.Ty}},{key:"Ey",get:function(){return this.rS},set:function(t){this.rS=t,this.yR&&(this.yR.Ey=this.rS)}},{key:"Kl",get:function(){return this.yR.Kl}},{key:"Sy",get:function(){return this.yR.Sy}},{key:"X_",get:function(){return this.yR.X_}},{key:"Hw",get:function(){return this.Pw}},{key:"W_",get:function(){return this.yR.W_}},{key:"Fw",get:function(){return this.xw}},{key:"q_",get:function(){return this.yR.q_}},{key:"z_",get:function(){return this.yR.z_},set:function(t){this.yR.z_=t}},{key:"ZS",get:function(){return this.yR.ZS}}]),n}(Ss);function Gp(t,n){t.F_!==n.F_&&(t.F_=n.F_),t.z_!==n.z_&&(t.z_=n.z_),t.V_!==n.V_&&(t.V_=n.V_)}var jp,Qp=function(t){function n(n,i){var r;return(r=t.call(this)||this).Cl=void 0,r.RR=void 0,r.IR=void 0,r.Cl=n.length>>1,r.RR=n,r.IR=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Cl),r}U(n,t);var i=n.prototype;return i.NR=function(t){return this.RR[2*t]},i.DR=function(t){return this.IR[2*t]},i.OR=function(t){return this.RR[2*t+1]},i.xR=function(t){return this.IR[2*t+1]},L(n,[{key:"PR",get:function(){return this.RR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.eg=function(t,n){return 0===this.K_(t,n)},n.Ng=function(t,n){return this.K_(t,n)>0},n.Cg=function(t,n){return this.K_(t,n)>=0},n.sg=function(t,n){return this.K_(t,n)<0},n.ig=function(t,n){return this.K_(t,n)<=0},n.Yg=function(t,n){return this.sg(t,n)?t:n},n.Qg=function(t,n){return this.Ng(t,n)?t:n},n.LR=function(t,n,i){return i?this.ig(t,n):this.sg(t,n)},n.GS=function(){var t=this;return{get length(){return t.Cl},start:function(n){var i=0|n;return t.MR(i),t.UR(t.NR(i))},end:function(n){var i=0|n;return t.MR(i),t.UR(t.OR(i))}}},n.FR=function(){for(var t=new Array(2*this.Cl),n=new Array(2*this.Cl),i=0;i<this.Cl;i++)t[2*i]=this.NR(i),t[2*i+1]=this.OR(i),n[2*i]=!0,n[2*i+1]=!0;return this.HR(t,n)},n.MR=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.Cl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.Cl+")")},n.XR=function(t){if(0===this.Cl)return this.WR();if(this.zS(t))return t;if(this.ig(t,this.NR(0)))return this.NR(0);if(this.Cg(t,this.OR(this.Cl-1)))return this.OR(this.Cl-1);for(var n,i=this.qR(),r=0;r<this.Cl;r++){var e=this.NR(r),s=this.rg(e,t);this.sg(s,i)&&(n=e,i=s);var u=this.OR(r),o=this.rg(this.OR(r),t);this.sg(o,i)&&(n=u,i=o)}return n},n.zR=function(t){for(var n=0,i=0,r=[],e=[];n<this.Cl&&i<t.Cl;){var s=this.NR(n),u=this.OR(n),o=this.DR(n),h=this.xR(n),a=t.NR(i),c=t.OR(i),f=t.DR(i),v=t.xR(i),d=this.Qg(s,a),l=this.Yg(u,c),_=void 0;_=this.eg(s,a)?o&&f:this.eg(d,s)?o:f;var g=void 0;g=this.eg(u,c)?h&&v:this.eg(l,u)?h:v,(this.sg(d,l)||_&&g&&this.eg(d,l))&&(r.push(d,l),e.push(_,g));var w=this.K_(this.OR(n),t.OR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.HR(r,e)},n.GR=function(){var t=this.jR(),n=t.Cl;if(0===n)return this.HR([t.QR(),t.qR()],[!1,!1]);var i=[],r=[],e=t.NR(0);t.eg(e,t.QR())||(i.push(t.QR(),e),r.push(!1,!t.DR(0)));for(var s=0;s<n-1;s++)i.push(t.OR(s),t.NR(s+1)),r.push(!t.xR(s),!t.DR(s+1));var u=t.OR(n-1);return t.eg(u,t.qR())||(i.push(u,t.qR()),r.push(!t.xR(n-1),!1)),t.HR(i,r)},n.YR=function(t){for(var n=0,i=0,r=this.Cl,e=t.Cl,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.NR(n),a=this.OR(n),c=t.NR(i),f=t.OR(i);this.sg(h,c)||this.eg(h,c)&&this.sg(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.DR(n),u[o+1]=this.xR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.DR(i),u[o+1]=t.xR(i),i++),o+=2}for(;n<r;)s[o]=this.NR(n),s[o+1]=this.OR(n),u[o]=this.DR(n),u[o+1]=this.xR(n),n++,o+=2;for(;i<e;)s[o]=t.NR(i),s[o+1]=t.OR(i),u[o]=t.DR(i),u[o+1]=t.xR(i),i++,o+=2;return this.HR(s,u)},n.ZR=function(t){void 0===t&&(t=this.WR());var n=this.Cl;if(n<2)return this;for(var i=[],r=[],e=this.NR(0),s=this.OR(0),u=this.DR(0),o=this.xR(0),h=1;h<n;h++){var a=this.NR(h),c=this.OR(h),f=this.DR(h),v=this.xR(h);this.sg(e,a)&&this.Ng(s,c)||(this.eg(e,a)&&(u=f=u||f),this.eg(s,c)&&(o=v=o||v),this.LR(a,this.cg(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.HR(i,r).jR()},n.jR=function(){for(var t=[],n=[],i=0;i<this.Cl;i++){var r=this.NR(i),e=this.OR(i),s=this.DR(i),u=this.xR(i);this.eg(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.HR(t,n)},n.JR=function(t){return this.Cl?t.Cl?this.YR(t).ZR():this:t},n.$R=function(t){var n=this.jR(),i=t.jR(),r=n.GR(),e=i.GR(),s=r.zR(i),u=e.zR(n);return s.JR(u)},n.uh=function(t){if(this.eg(t,this.WR()))return this;for(var n=[],i=[],r=0;r<this.Cl;r++){var e=this.cg(this.NR(r),t),s=this.cg(this.OR(r),t);n.push(e,s),i.push(this.DR(r),this.xR(r))}return this.HR(n,i)},n.KR=function(t){return 0===this.Cl||0===t.Cl?this:this.jR().zR(t.jR().GR())},n.zS=function(t,n){return this.tI(t,n)>=0},n.nI=function(t,n,i,r,e){return this.iI(t,n,i,r,e)>=0},n.rI=function(t,n,i,r,e){return this.eI(t,n,i,r,e)>=0},n.sI=function(t){if(t.Cl!==this.Cl)return!1;for(var n=0;n<this.Cl;n++)if(!this.eg(this.NR(n),t.NR(n))||!this.eg(this.OR(n),t.OR(n))||this.DR(n)!==t.DR(n)||this.xR(n)!==t.xR(n))return!1;return!0},n.uI=function(t){for(var n=[],i=[],r=0;r<this.Cl;r++){var e=this.NR(r),s=this.OR(r),u=this.DR(r),o=this.xR(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.HR(n,i)},n.eI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.WR());for(var s=this.ag(t,e),u=this.cg(n,e),o=0;o<this.Cl;o+=1)if(this.LR(this.NR(o),u,!r||this.DR(o))&&this.LR(s,this.OR(o),!i||this.xR(o)))return o;return-1},n.iI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.WR());for(var s=this.cg(t,e),u=this.ag(n,e),o=0;o<this.Cl;o+=1)if(this.LR(this.NR(o),s,!i||this.DR(o))&&this.LR(u,this.OR(o),!r||this.xR(o)))return o;return-1},n.tI=function(t,n){return this.iI(t,t,!0,!0,n)},n.oI=function(t,n){void 0===n&&(n=this.WR());for(var i=this.cg(t,n),r=this.Cl-1;r>=0;r-=1)if(this.LR(this.NR(r),i,this.DR(r)))return r;return-1},n.hI=function(t,n){void 0===n&&(n=this.WR());for(var i=this.ag(t,n),r=0;r<this.Cl;r+=1)if(this.LR(i,this.OR(r),this.xR(r)))return r;return-1},n.aI=function(t){return this.MR(t),this.HR([this.NR(t),this.OR(t)],[this.DR(t),this.xR(t)])},n.cI=function(t,n){var i=this.tI(t,n);return i<0?void 0:this.aI(i)},L(t,[{key:"fI",get:function(){for(var t=this.WR(),n=0;n<this.Cl;n++){var i=this.ag(this.OR(n),this.NR(n));t=this.cg(t,i)}return t}}]),t}()),Yp=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.K_=function(t,n){return t<n?r_.Q_:t===n?r_.G_:r_.j_},i.cg=function(t,n){return t+n},i.ag=function(t,n){return t-n},i.rg=function(t,n){return l.abs(t-n)},i.WR=function(){return 0},i.qR=function(){return 1/0},i.QR=function(){return-1/0},n.vI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.dI=function(t){for(var i=[],r=[],e=0;e<t.Cl;e++)i.push(t.NR(e).$g),i.push(t.OR(e).$g),r.push(t.DR(e)),r.push(t.xR(e));return new n(i,r)},n.lI=function(t){return new n([t,t],[!0,!0])},i.HR=function(t,i){return new n(t,i)},i.UR=function(t){return t},n._I=function(){return Zp},n}(Qp),Zp=new Yp([]);!function(t){t.vl="fullscreenchange",t.gI="fullscreensupportchange",t.Zl="fullscreenerror"}(jp||(jp={}));var Jp=function(t){function n(){return t.call(this,jp.Zl)||this}return U(n,t),n}(Is),$p=new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Xy=function(){this.Do(new Jp)},i.qy=function(){},i.Pv=function(){this.Bo()},L(n,[{key:"wI",get:function(){return!1}},{key:"yI",get:function(){return!1}}]),n}(Ss)),Kp=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.ny=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).mI=0,n.kI=!1,n.pI=!0,n.AI=1,n.bI=!1,n.TI=1,n.Uw=new H_,n.vy=Yp._I().GS(),n.L_=NaN,n.M_=!1,n.Go=void 0,n.U_=void 0,n.Vw=void 0,n.gy=!1,n.by=!0,n.Ty=Yp._I().GS(),n.Ey=Vp._R,n.Kl=ll.T_,n.Sy=Yp._I().GS(),n.YS=void 0,n.Hw=new ty,n.W_=0,n.Fw=new H_,n.q_=0,n.hS=new Np,n}U(n,t);var i=n.prototype;return i.Kw=function(){},i.ty=function(){},i.Xw=function(){this.pI&&(this.pI=!1,this.Do(new Bl(this.B_)),this.Do(new Yy(this.B_)))},i.Ww=function(){this.pI||(this.pI=!0,this.Do(new Xl(this.B_,this.ly)),this.Do(new Pl(this.B_)))},i.Gw=function(t,n){return T.resolve()},i.jw=function(){return!1},i.Qw=function(){},i.Yw=function(){},i.iy=function(){return $p},i.ay=function(){},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.mI=0,this.bI=!1,this.Ww(),this.Do(new xl(this.mI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Bo(),this.Uw.Pv(),this.Hw.Pv(),this.Fw.Pv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"ly",get:function(){},set:function(t){}},{key:"B_",get:function(){return this.mI},set:function(t){this.mI!==t&&(this.mI=t,this.bI=!0,this.Do(new zl(this.B_)))}},{key:"Sw",get:function(){return{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"F_",get:function(){return this.kI},set:function(t){this.kI!==t&&(this.kI=t,this.Do(new jl(this.B_,this.z_)))}},{key:"H_",get:function(){return this.pI}},{key:"V_",get:function(){return this.AI},set:function(t){this.AI!==t&&(this.AI=t,this.Do(new Vl(this.B_,this.V_)))}},{key:"X_",get:function(){return this.bI}},{key:"z_",get:function(){return this.TI},set:function(t){this.TI!==t&&(this.TI=t,this.Do(new jl(this.B_,this.z_)))}},{key:"ZS",get:function(){return this.hS}}]),n}(Ss)),tA=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,Hp.je,new Kp)||this).da=void 0,o.EI=void 0,o.SI=void 0,o.RI=void 0,o.Ob=void 0,o.II=void 0,o.NI=void 0,o.SI=n,o.da=i,o.Ob=r,o.II=e,o.RI=u,o.EI=new Nr(s,o.RI),o.EI.CI(o.SI),o.NI=new Xp(o.SI),o}U(n,t);var i=n.prototype;return i.Zw=function(){t.prototype.Zw.call(this),this.EI.DI()},i.Jw=function(t){n_(this,t)},i.$w=function(){},i.ER=function(t){return t.UT(this.SI,this.EI,this.Ob,this.da,this.II,this.RI)},i.ny=function(){return this.yR.ny()},i.ey=function(){return this.EI.OI.map(function(t){return t.ES})},i.Po=function(n){t.prototype.Po.call(this,n)},i.Fo=function(n){t.prototype.Fo.call(this,n)},i.Pv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Pv.call(this);case 2:this.EI.Pv(),this.NI.Pv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"_y",get:function(){return this.SI}}]),n}(zp),nA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).SI=void 0,e.xI=void 0,e.BI=void 0,e.LI=void 0,e.MI=void 0,e.SI=n,e.xI=i,e.LI=new H_,e.MI=new ty,e.BI=r,e}U(n,t);var i=n.prototype;return i.sy=function(t){return!0},i.ty=function(){},i.Xw=function(){throw this.Do(new Jl(this.BI)),this.xI},i.Ww=function(){},i.zw=function(){},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw cs(i),this.Do(new Jl(this.BI)),this.xI;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kw=function(){},i.qw=function(){return T.resolve()},i.ny=function(){},i.iy=function(){return $p},i.ey=function(){return[]},i.Zw=function(){},i.Jw=function(t){},i.$w=function(){},i.jw=function(){return!1},i.Qw=function(){},i.Yw=function(){},i.ay=function(){},i.Il=function(){return T.resolve()},i.Pv=function(){return this.Bo(),this.LI.Pv(),this.MI.Pv(),T.resolve()},L(n,[{key:"Uw",get:function(){return this.LI}},{key:"vy",get:function(){return Yp._I().GS()}},{key:"ly",get:function(){return new Date(NaN)},set:function(t){}},{key:"hy",get:function(){}},{key:"B_",get:function(){return 0},set:function(t){}},{key:"L_",get:function(){return 0}},{key:"_y",get:function(){return this.SI}},{key:"M_",get:function(){return!0}},{key:"Go",get:function(){return this.xI}},{key:"U_",get:function(){return this.BI}},{key:"Vw",get:function(){}},{key:"Sw",get:function(){return{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"F_",get:function(){return!1},set:function(t){}},{key:"by",get:function(){return!0}},{key:"H_",get:function(){return!0}},{key:"V_",get:function(){return 0},set:function(t){}},{key:"Ty",get:function(){return Yp._I().GS()}},{key:"Ey",get:function(){return Vp._R},set:function(t){}},{key:"Kl",get:function(){return ll.T_}},{key:"Sy",get:function(){return Yp._I().GS()}},{key:"X_",get:function(){return!1}},{key:"Hw",get:function(){return this.MI}},{key:"W_",get:function(){return 0}},{key:"Fw",get:function(){return this.LI}},{key:"q_",get:function(){return 0}},{key:"z_",get:function(){return 1},set:function(t){}},{key:"gy",get:function(){return!1}}]),n}(sl);function iA(t){if(t&&tt(t))return _e({},t,{integration:rA(t.integration),fairplay:cA(t.fairplay),widevine:eA(t.widevine),playready:sA(t.playready),clearkey:fA(t.clearkey),aes128:vA(t.aes128),integrationParameters:dA(t.integrationParameters),preferredKeySystems:lA(t.preferredKeySystems)})}function rA(t){if(it(t))return t}function eA(t){if(t&&tt(t))return{persistentState:uA(t.persistentState),distinctiveIdentifier:uA(t.distinctiveIdentifier),audioRobustness:oA(t.audioRobustness),videoRobustness:oA(t.videoRobustness),licenseAcquisitionURL:it(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:hA(t.licenseType),headers:t.headers,useCredentials:!!rt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:it(t.certificate)||Wu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:aA(t.certificateRequestProcessor),certificateResponseProcessor:aA(t.certificateResponseProcessor),licenseRequestProcessor:aA(t.licenseRequestProcessor),licenseResponseProcessor:aA(t.licenseResponseProcessor)}}function sA(t){if(t){var n=eA(t);if(n)return _e({},n,{customData:it(t.customData)?t.customData:void 0})}}function uA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function oA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function hA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function aA(t){if("function"==typeof t)return t}function cA(t){if(t){var n=eA(t);if(n)return _e({},n,{certificateURL:it(t.certificateURL)?t.certificateURL:void 0})}}function fA(t){if(t){var n=eA(t);if(n)return _e({},n,{keys:$(t.keys)?t.keys.map(function(t){return function(t){if(!t||!tt(t))return;var n=t.id,i=t.value;if(!it(n)||!it(i))return;return{id:n,value:i}}(t)}).filter(J):void 0})}}function vA(t){if(tt(t))return{useCredentials:rt(t.useCredentials)?t.useCredentials:void 0}}function dA(t){if(tt(t))return t}function lA(t){return t&&$(t)?t.map(function(t){return qm(t)}).filter(J):[Oe,Ce,Pe]}var _A,gA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return U(n,t),n}(Is),wA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).UI=[],r.FI=void 0,r.HI=function(t){ws(function(){r.Co(t)})},r.FI=i?r.HI:r.Co,r}U(n,t);var i=n.prototype;return i.VI=function(t){t.Po(this.FI),this.UI.push(t)},i.XI=function(t){t.Fo(this.FI),Ke(this.UI,t)},i.Pv=function(){this.Bo();for(var t=0,n=this.UI;t<n.length;t++){n[t].Fo(this.FI)}rs(this.UI)},n}(el),yA=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(wA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(_A||(_A={}));var mA,kA=function(t){function i(n){var i;return(i=t.call(this)||this).WI=void 0,i.qI=void 0,i.zI=!1,i.GI=!1,i.jI=void 0,i.QI=void 0,i.YI=void 0,i.Zd=void 0,i.ZI=function(){return i.JI()},i.$I=function(){return i.KI()},i.YI=n,i.WI=i.qI=i.jI=i.QI=_A.INLINE,i.YI.Oo(jp.vl,i.ZI),i.YI.Oo(jp.Zl,i.$I),i.tN(),i}U(i,t);var r=i.prototype;return r.$d=function(){return t=this,i={get currentMode(){return t.nN()},requestMode:function(n){var i=AA(n);i&&t.iN(i)},supportsMode:function(n){var i=AA(n);return!!i&&t.rN(i)},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)}},(n=new wA(i,!0)).VI(t),i;var t,n,i},r.iN=function(t){this.eN(t,t)},r.eN=function(t,n){this.qI!==n&&(this.zI=!0,this.WI=t,this.sN(n,this.qI),t!==_A.FULLSCREEN&&(this.jI=t),this.zI=!1,this.tN())},r.nN=function(){return this.GI?_A.FULLSCREEN:_A.INLINE},r.rN=function(t){switch(t){case _A.FULLSCREEN:return this.YI.yI;case _A.INLINE:return!0}return!1},r.tN=function(){if(!this.zI){var t=this.qI,n=this.nN();this.qI=n,n!==_A.FULLSCREEN&&(this.QI=n),t!==n&&this.Do(new gA(n))}},r.sN=function(t,n){var i=t===_A.FULLSCREEN;this.GI=i,i!==this.YI.wI&&(i?this.YI.Xy():this.YI.qy())},r.JI=function(){if(!this.zI){var t=this.YI.wI;this.GI=t,t?this.eN(_A.FULLSCREEN,_A.FULLSCREEN):t||this.WI!==_A.FULLSCREEN?this.tN():this.eN(this.jI,this.QI)}},r.KI=function(){this.JI(),this.Do(new Jl(new Co(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Pv=function(){this.YI.Pv(),this.Bo()},L(i,[{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}}]),i}(el),pA={B_:0,L_:NaN,M_:!1,Go:void 0,U_:void 0,F_:!1,H_:!0,V_:1,Kl:ll.T_,X_:!1,W_:0,q_:0,z_:1};function AA(t){switch(t){case _A.INLINE:case _A.FULLSCREEN:case _A.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(mA||(mA={}));var bA,TA,EA,SA,RA,IA,NA,CA,DA=function(){function t(){this.uN=[]}var n=t.prototype;return n.oN=function(t){var n=this.hN.filter(function(n){return n.aN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.cN=function(t){this.uN.push(t)},L(t,[{key:"hN",get:function(){return this.uN}}]),t}();DA.je=new DA,function(t){t.P_="PLAYING",t.Iw="PAUSED",t.fN="SEEK",t.vN="STALLED",t.dN="FAILED",t.lN="INITIAL_BUFFERING",t._N="NO_ACCESS"}(bA||(bA={})),function(t){t.gN="HTTP_REQUEST_STATUS_CODE_1XX",t.wN="HTTP_REQUEST_STATUS_CODE_2XX",t.yN="HTTP_REQUEST_STATUS_CODE_3XX",t.mN="HTTP_REQUEST_STATUS_CODE_4XX",t.kN="HTTP_REQUEST_STATUS_CODE_5XX",t.pN="BUFFER_LENGTH",t.AN="BYTES_RECEIVED",t.bN="SEGMENT_READ_BITRATE",t.TN="SEGMENT_PROFILE_BITRATE",t.EN="NUMBER_OF_FRAMES_DROPPED",t.SN="PLAYBACK_POSITION",t.RN="NUMBER_OF_FRAMES_DECODED",t.IN="PLAYBACK_DELTA_TO_ORIGIN",t.NN="STREAM_DELTA_TO_ORIGIN",t.CN="ORIGIN_TIMESTAMP"}(TA||(TA={})),function(t){t.DN="MANIFEST_URI",t.ON="ASSET_DURATION",t.xN="NUMBER_OF_CONTENT_PROFILES",t.PN="CDN",t.BN="CONTENT_TITLE",t.LN="SERVICE_NAME",t.MN="CONTENT_TYPE",t.UN="CONTENT_DESCRIPTION"}(EA||(EA={})),function(t){t.FN="shutdown_normal_shutdown"}(SA||(SA={})),function(t){t.HN="session/",t.VN="internalError/",t.XN="drmError/",t.WN="caError/",t.qN="networkError/"}(RA||(RA={})),function(t){t.zN="userAction",t.GN="endOfStreamReached"}(IA||(IA={})),function(t){t.PAUSE="jN",t.RESUME="QN"}(NA||(NA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(CA||(CA={}));var OA,xA,PA,BA,LA,MA="agama";function UA(t){return function(t){switch(t){case OA.NONE:case OA.HORIZONTAL:case OA.VERTICAL:return!0;default:return!1}}(t)?t:OA.NONE}function FA(t){switch(t){case"":return OA.NONE;case"horizontal":return OA.HORIZONTAL;case"vertical":return OA.VERTICAL;default:throw new v}}function HA(t){return{useSeamlessPeriodSwitch:VA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function VA(t){if(!t||!it(t))return xA.lR;switch(t){case"always":return xA.YN;case"never":return xA.ZN;default:return xA.lR}}function XA(t){return{discontinuityAlignment:WA(null==t?void 0:t.discontinuityAlignment)}}function WA(t){if(!t||!it(t))return PA.lR;switch(t){case"playlist":return PA.JN;case"media":return PA.$N;default:return PA.lR}}function qA(t,n,i){var r=function(t,n){var i=cl.k_;t.useCredentials?i=cl.m_:t.crossOrigin&&(i=yl(t.crossOrigin));i===cl.k_&&n&&n.vr&&n.vr[360]&&(i=cl.y_);return{useCredentials:i===cl.m_,crossOrigin:i}}(t,n),e=r.useCredentials,s=r.crossOrigin,u=t.liveOffset;J(u)||(u=i&&J(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;J(o)||(o=n&&J(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return J(h)||(h=i&&J(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:e,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:J(t.dash)?HA(t.dash):void 0,hls:J(t.hls)?XA(t.hls):void 0}}function zA(t){if(null!==t)return t}function GA(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:zA(t.streamActivityMonitorID),adTagParameters:tt(t.adTagParameters)?t.adTagParameters:{},authToken:zA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?_e({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void b.mu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.mu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?_e({},i,{availabilityType:"live",assetKey:s}):void b.mu("A Live DAI configuration was provided without valid assetKey which is required.")}b.mu("A DAI configuration was provided without a valid availabilityType which is required.")}function jA(t){switch(t.integration){case"google-dai":return GA(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function QA(t,n,i){var r=qA(t,n,i),e=zA(t.src),s=t.type;return s||(s=t.src?wl(t.src):void 0),_e({},r,{src:e,type:s,contentProtection:function(t,n){var i;i=J(t.contentProtection)?t.contentProtection:J(t.drm)?t.drm:J(n)&&J(n.contentProtection)?n.contentProtection:J(n)&&J(n.drm)?n.drm:void 0;return YA(i)}(t,n),ssai:J(t.ssai)?jA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function YA(t){if(!Lm(t)||!t.integration)return t;switch(t.integration){case em:return n=t,i=Wm(Ee.Yu,n),r=Wm(Ee.Qu,n),e=n[Ee.Zu]&&Wm(Ee.Zu,n),_e({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ZA(t){if(!t)return!0;var n,i,r=!(El(n=t.sources)||K(n)&&El(n[0]))||Sl(t.sources),e=!t.ads||(!(i=t.ads)||$(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function JA(t){if(t&&t.sources)return function t(n){if(it(n))return n;if(Tl(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function $A(t,n,i){return Al(t)?function(t,n,i){var r=_e({},Rl(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:BA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:LA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,it(e)?e:K(e)&&it(e[0])?e:tt(s=e)&&it(s.userId)&&(K(s.externalId)||it(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return LA.CHANNEL;case"event":return LA.EVENT;case"asset":default:return LA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Md(t.contentProtected));t.assetInfo?r.assetInfo=Md(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!rt(o.adImpressions)&&o.adImpressions,a=!!rt(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=rt(o.linearAdData)?o.linearAdData:u!==LA.ASSET):u!==LA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=tb(r=KA(r,t),n,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=Il(),e=n&&(n.contentProtection||n.drm);if(it(t)){if(r.src=t,r.type=wl(t),e){var s=iA(e);r.contentProtection=YA(s)}}else if(Tl(t)||pl(t)){r.src=t.src,r.type=t.type||wl(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===fl.A_||t.type===fl.b_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=iA(o);r.contentProtection=YA(h),t.ssai&&(r.ssai=jA(t.ssai)),r=KA(r,t)}return r=tb(r,n,i)}(t,n,i)}function KA(t,n){n.useCredentials?t.crossOrigin=cl.m_:n.crossOrigin&&(t.crossOrigin=yl(n.crossOrigin)),it(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Md(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Md(n.useNativePlayback)),n.dash&&(t.dash=HA(n.dash)),n.hls&&(t.hls=XA(n.hls));var i=void 0!==n.experimentalRendering?Md(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Md(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function tb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!J(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!J(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===cl.k_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=cl.y_),t.useCredentials=t.crossOrigin===cl.m_,it(e)&&!t.timeServer&&(t.timeServer=e),t}function nb(t){var n={src:""};if(t&&t.src){if(n.src=Hd(t.src),"default"in t&&(n.default=Md(t.default)),n.kind=ry(t.kind),function(t){switch(t){case K_.DEFAULT:case K_.SRT:case K_.TTML:case K_.WEBVTT:case K_.EMSG:case K_.EVENT_STREAM:case K_.ID3:case K_.CEA608:case K_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ib(t,n){if(nt(t))try{return n.oN(t).KN(t)}catch(t){return}}function rb(t){return it(t.sources)&&""!==t.sources||tt(t.sources)&&it(t.sources.src)}function eb(t){return t.integration===mA.SPOTX&&!w(t.id)}function sb(t){return"freewheel"===t.integration}function ub(t,n,i){if(void 0===i&&(i=DA.je),ZA(t))return{sources:[Il()]};var r=xd(t);if(r.sources=function(t,n,i){if(El(t))return[$A(t,n,i)];if(K(t)&&El(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push($A(s,n,i))}return r}return[Il()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!K(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=ib(s,n))&&(rb(s)||eb(s)||sb(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Sl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!K(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=nb(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=Hd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=UA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?FA(u.stereoMode):OA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Cl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=xd(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==MA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=$l(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(OA||(OA={})),function(t){t.lR="auto",t.YN="always",t.ZN="never"}(xA||(xA={})),function(t){t.lR="auto",t.JN="playlist",t.$N="media"}(PA||(PA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(BA||(BA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(LA||(LA={}));var ob=function(){function t(t){this.tC=t}return t.prototype.nC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.tC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.tC.indexOf(t.charAt(n))<<18|this.tC.indexOf(t.charAt(n+1))<<12|(s=this.tC.indexOf(t.charAt(n+2)))<<6|(u=this.tC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.iC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.tC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.tC.charAt(r)+this.tC.charAt(e)+this.tC.charAt(s)+this.tC.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Im=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.rC=new t(t.Im.nC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function hb(t){return"string"==typeof t}function ab(t){return"number"==typeof t}var cb={}.toString;var fb,vb=Array.isArray||function(t){return"[object Array]"===cb.call(t)};function db(t,n){return vb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(fb||(fb={}));var lb,_b=d.keys(fb).map(function(t){return fb[t]});function gb(t){return-1!==_b.indexOf(t)}function wb(t){try{var n=ob.rC.nC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=hb(t.key),r=hb(t.customer_id),e=ab(t.generation_date),s=ab(t.expiration_date),u=db(t.domains_page,hb),o=db(t.domains_source,hb),h=db(t.sdks,gb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function yb(){return lb||(lb={cv:xr.href,eC:Or.parent&&Or.parent!==r,sC:pb()}),lb}var mb,kb=["http:","https:","ftp:","ws:","wss:"];function pb(){try{return Or.top.location.href}catch(t){return Or&&Or.document&&Or.document.referrer}}!function(t){t[t.uC=0]="uC",t[t.oC=1]="oC",t[t.hC=2]="hC"}(mb||(mb={}));var Ab,bb=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.aC=t,this.cC=n,this.fC=i,this.vC=r,this.dC=e,this.lC=s,this._C=u,this.gC=o};!function(t){t.oC="expired",t.wC="invaliddomain",t.yC="invalidsource",t.Zl="error"}(Ab||(Ab={}));var Tb=function(){function t(t,n,i){this.mC=void 0,this.kC=t,this.pC=n,this.AC=i,this.mC=Cb(this.AC)}var n=t.prototype;return n.bC=function(t,n){var i=this;if(!ZA(t)&&0!==n.fC.length&&!Rb(n.fC)){var r=[];if(El(t.sources)?r=[t.sources]:K(t.sources)&&(r=t.sources),!r.every(function(t){return i.TC(t,n)})){var e=Ab.yC,s=Ob.EC(e);throw new Co(Eb(e),s)}}},n.SC=function(n){return this.RC(n._C)&&this.IC(n)?t.NC(n.vC)?mb.uC:mb.oC:mb.hC},n.RC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.DC(t)})},n.DC=function(t){return"ios"===function(t){switch(t){case fb.ANDROID:return P.dr;case fb.ANDROIDTV:case fb.FIRETV:return P._r;case fb.IOS:return P.gr;case fb.TVOS:return P.wr;case fb.CHROMECAST:case fb.CHROMECASTCAF:return P.yr;default:return P.cr}}(t)},t.NC=function(t){var n=Number(new Date);return!!t&&n<=t},n.IC=function(t){return!(this.mC&&0!==t.cC.length&&!Rb(t.cC))||!!(this.mC&&this.OC(t.cC)&&this.xC(t.cC))},n.OC=function(t){return Ib(this.AC.cv,t)},n.xC=function(t){if(!this.AC.eC)return!0;if(this.kC)return!0;var n=this.BC();return!!n&&Ib(n,t)},n.BC=function(){if(this.AC.eC){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.AC.sC?this.AC.sC:void 0}},n.TC=function(n,i){return!!t.LC(n,i.fC)},t.LC=function(t,n){return Ib(this.MC(t),n)},t.MC=function(t){return it(t)?t:Tl(t)&&t.src||""},t}();function Eb(t){switch(t){case Ab.wC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ab.yC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ab.oC:return n.ErrorCode.LICENSE_EXPIRED;case Ab.Zl:return n.ErrorCode.LICENSE_ERROR}}function Sb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Rb(t){return t.some(function(t){return"*"===t})}function Ib(t,n){var i=b.Zs(t);if(!Nb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Sb(i.hostname,e))return!0;if(Sb(Ur(t),e))return!0}return!1}function Nb(t){return-1!==kb.indexOf(t.protocol)}function Cb(t){var n=b.Zs(t.cv);return Nb(n)&&!Sb(n.hostname,"localhost")&&!function(t){return Sb(t.hostname,"theoplayer.doubleclick.net")}(n)}var Db,Ob=function(){function t(){}return t.EC=function(t){return t===Ab.wC?this.UC:t===Ab.yC?this.FC:t===Ab.oC?this.HC:this.VC},t}();function xb(t){var n=[t.DA,t.XC,t.WC];switch(t.XC){case Db.qC:n.push(t.i_);break;case Db.zC:n.push(t.B_),n.push(t.Go);break;case Db.GC:n.push(t.Go)}return n}Ob.VC="The license for this player is invalid.",Ob.HC="The usage license for this video player has expired.",Ob.UC="The current domain is incompatible with the license for this player.",Ob.FC="The provided video source is incompatible with the license for this player.",function(t){t[t.qC=1]="qC",t[t.zC=4]="zC",t[t.GC=5]="GC"}(Db||(Db={}));for(var Pb=new Array(256),Bb=0;Bb<256;Bb+=1)Pb[Bb]=(Bb<16?"0":"")+Bb.toString(16);function Lb(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Pb[255&n]+Pb[n>>>8&255]+Pb[n>>>16&255]+Pb[n>>>24&255]+"-"+Pb[255&i]+Pb[i>>>8&255]+"-"+Pb[i>>>16&15|64]+Pb[i>>>24&255]+"-"+Pb[63&r|128]+Pb[r>>>8&255]+"-"+Pb[r>>>16&255]+Pb[r>>>24&255]+Pb[255&e]+Pb[e>>>8&255]+Pb[e>>>16&255]+Pb[e>>>24&255]}var Mb=function(){function t(t){this.tC=void 0,this.tC=t}var n=t.prototype;return n.nC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.tC.indexOf(t.charAt(n))<<18|this.tC.indexOf(t.charAt(n+1))<<12|(s=this.tC.indexOf(t.charAt(n+2)))<<6|(u=this.tC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.iC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.tC.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this.tC.charAt(i)+this.tC.charAt(r)+this.tC.charAt(e)+this.tC.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function Ub(){return b.du()}Mb.Im=new Mb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Mb.rC=new Mb(Mb.Im.nC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Fb,Hb="theoplayer-session-id";function Vb(){if(!Fb){var t=Go.th(Hb);t?Fb=t:(Fb=Lb(),Go.Fa(Hb,Fb))}return Fb}var Xb=/[^\x00-\x7E]/g;function Wb(t){return"\\u"+br(t.charCodeAt(0).toString(16),4,"0")}var qb=0,zb=1,Gb=6e4;function jb(t){var n,i,r,e,s,u=(n=function(t){return[t.jC,t.Uh,t.aC,t.jk,t.QC,t.YC,t.ZC.map(xb)]}(t),i=[],r=n,e=function(t,n){if(tt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace(Xb,Wb));return Mb.rC.iC(u)}var Qb=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=Mb.Im),void 0===e&&(e=qb),void 0===s&&(s=zb),this.JC=[],this.$C=null,this.KC=0,this.tD="unknown",this.nD=0,this.iD=function(){Ub()-u.KC>Gb&&u.ar()},this.rD=function(){u.ar(!0)},this.iE=t,this.Ob=n,this.eD=i,this.sD=r,this.uD=e,this.oD=s,Dr.hD(this.rD),a(this.iD,Gb)}var n=t.prototype;return n.aD=function(){return Boolean(this.QC)},n.cD=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eD.fD();case 2:if(t.sent.gC){t.next=5;break}return t.abrupt("return");case 5:return i={XC:Db.qC,WC:Zt(),i_:n},t.next=8,this.vD(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dD=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={XC:Db.zC,WC:Zt(),B_:i,Go:n},t.next=3,this.vD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.lD=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={XC:Db.GC,WC:Zt(),Go:n},t.next=3,this.vD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vD=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eD.fD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.sD.iC(i.aC)){t.next=6;break}if(n.XC===Db.GC){t.next=6;break}return t.abrupt("return");case 6:if(n.XC===Db.qC?this._D():this.aD()||this._D(),n.DA=this.nD++,this.JC.push(n),(r=n.XC)!==Db.qC&&r!==Db.GC){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.JC.length>this.uD)){t.next=19;break}return t.next=17,this.gD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.JC.length>0)){t.next=6;break}return t.next=4,this.gD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.wD=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eD.fD();case 2:return i=t.sent,t.abrupt("return",{jC:Zt(),Uh:Vb(),aC:this.sD.iC(i.aC)||"dev",jk:this.iE,QC:this.$C,YC:this.tD,ZC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gD=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.JC.splice(0,this.oD),t.next=4,this.wD(i);case 4:r=t.sent,n?this.xv(r):this.yD(r),this.KC=Ub();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.yD=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=jb(n),r=new Of({cv:"https://license.theoplayer.com",zf:i,Dv:!1,sv:Jo.Je,ev:{"Content-Type":Ek.cE},Iv:4e3,Rv:Rf.POST}),t.prev=2,t.next=5,this.Ob.hv(r);case 5:return e=t.sent,t.next=8,e.Xf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.xv=function(t){var n=jb(t);this.Ob.xv({cv:"https://license.theoplayer.com",zf:n,qf:Ek.cE})},n._D=function(){this.aD()&&this.ar(),this.$C=Lb(),this.nD=0},n.Pv=function(){Dr.mD(this.rD),this.ar()},L(t,[{key:"ZC",get:function(){return this.JC}},{key:"QC",get:function(){return this.$C}}]),t}();var Yb=!Q.me&&!Q.Ne;function Zb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Jb=function(){function t(t){this.fR=void 0,this.Zd=void 0,this.kD=void 0,this.fR=t}var n=t.prototype;return n.pD=function(t){if(!t||!t.drawImage)return!1;var n=this.fR.ny();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.bD=function(t,n,i,r,s,u){if(!t||!t.texImage2D)return!1;var o=this.fR,h=o.ny();if(!h)return!1;if(!Yb){this.kD||(this.kD=e.createElement("canvas"));var a=this.kD,c=a.getContext("2d"),v=o.q_,d=o.W_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===v&&_===d||(a.width=v,a.height=d),c.drawImage(h,0,0,v,d);var g=!1;v>0&&Zb(c,v-1,0)&&(a.width=l,g=!0),d>0&&Zb(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,v,d),h=a}try{t.texImage2D(n,i,r,s,u,h)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"Jd",get:function(){return this.Zd||(this.Zd=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.pD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.bD(n,i,r,e,s,u)}}));var t}}]),t}(),$b=function(t){function n(n,i){var r;return(r=t.call(this,"TD")||this).fu=n,r.Ep=i,r}return U(n,t),n.prototype.$d=function(){return new Kb(this.fu,this.Ep)},n}(yd),Kb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return U(n,t),n}(Is),tT=function(t,n){this._y=void 0,this.ED=void 0,this._y=t,this.ED=n},nT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).SD=void 0,r.RD=0,r.ND=0,r.CD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.ND=n.width,r.RD=n.height,r.ED(r.ND,r.RD)}},r.SD=new Or.ResizeObserver(r.CD),r.SD.observe(r._y),r}return U(n,t),n.prototype.Pv=function(){this.SD.disconnect()},L(n,[{key:"DD",get:function(){return this.RD}},{key:"OD",get:function(){return this.ND}}]),n}(tT),iT=0;function rT(t){var n=Ub(),i=l.max(0,16-(n-iT)),r=o(function(){return t(n+i)},i);return iT=n+i,r}var eT,sT=h,uT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,oT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function hT(){return eT||(eT=Or&&Or.document&&Or.document.createElement("span")),eT}uT&&oT||(uT=rT,oT=sT),uT=uT.bind(t),oT=oT.bind(t);var aT=["Webkit","Moz","O","ms"],cT=(function(){var t=!1;try{if(void 0!==Or&&"function"==typeof Or.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Or.addEventListener("testPassiveEventSupport",S,n),Or.removeEventListener("testPassiveEventSupport",S,n)}}catch(t){}}(),we());function fT(t){return cT.has(t)||cT.set(t,function(t){var n=hT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<aT.length;r++){var e=aT[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),cT.get(t)}function vT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function dT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[fT("transition")]="0s"}var lT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).xD=void 0,e.PD=0,e.ND=NaN,e.RD=NaN,e.BD=void 0,e.LD=void 0,e.MD=void 0,e.UD=void 0,e.FD=void 0,e.Il=function(){e.LD.style.width=1e5+"px",e.LD.style.height=1e5+"px",e.BD.scrollLeft=1e5,e.BD.scrollTop=1e5,e.MD.scrollLeft=1e5,e.MD.scrollTop=1e5,0===e.MD.scrollTop&&uT(e.Il)},e.HD=function(){var t=e.OD,n=e.DD;e.ED(t,n),e.ND=t,e.RD=n,e.Il(),e.PD=0},e.VD=function(){if(!e.PD){var t=e.OD,n=e.DD;t===e.ND&&n===e.RD||(e.PD=uT(e.HD))}},e.XD=function(){e.FD||(e.FD=o(e.WD,66))},e.WD=function(){e.FD=void 0,e.qD()},e.qD=function(){e.VD()},e.qh(r),e}U(n,t);var i=n.prototype;return i.zD=function(){var t,n=this._y,i=e.createElement("div");return this.BD=e.createElement("div"),this.LD=e.createElement("div"),this.MD=e.createElement("div"),this.UD=e.createElement("div"),vT(this.BD),vT(this.MD),dT(this.LD),dT(t=this.UD),t.style.width="200%",t.style.height="200%",i.appendChild(this.BD),i.appendChild(this.MD),this.BD.appendChild(this.LD),this.MD.appendChild(this.UD),n&&n.appendChild(i),this.VD(),this.BD.addEventListener("scroll",this.VD),this.MD.addEventListener("scroll",this.VD),i},i.qh=function(t){var n=this._y,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.xD=this.zD(),r&&r.addEventListener("resize",this.XD)},i.Pv=function(){this.xD&&(oT(this.PD),this.PD=0,this.BD.removeEventListener("scroll",this.VD),this.MD.removeEventListener("scroll",this.VD),Vr(this.xD),this.xD=void 0,r&&r.removeEventListener("resize",this.XD))},L(n,[{key:"DD",get:function(){return this._y&&this._y.getBoundingClientRect().height||this.RD||0}},{key:"OD",get:function(){return this._y&&this._y.getBoundingClientRect().width||this.ND||0}}]),n}(tT),_T=function(t){function n(n){var i;return(i=t.call(this)||this)._y=void 0,i.SD=void 0,i.CD=function(t,n){i.Do(new $b(t,n))},i._y=n,i}U(n,t);var i=n.prototype;return i.qh=function(t){this.SD||("function"==typeof Or.ResizeObserver?this.SD=new nT(this._y,this.CD):this.SD=new lT(this._y,this.CD,t))},i.Pv=function(){this.Bo(),this.SD&&(this.SD.Pv(),this.SD=void 0)},L(n,[{key:"DD",get:function(){return this.SD?this.SD.DD:0}},{key:"OD",get:function(){return this.SD?this.SD.OD:0}}]),n}(Ss),gT=function(t){function n(){return t.call(this,jp.vl)||this}return U(n,t),n}(Is);var wT=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{GD:i[0],jD:i[1],QD:i[2],YD:i[3],ZD:i[4],JD:i[5]}}}(),yT=function(t){function n(){return t.call(this,jp.gI)||this}return U(n,t),n}(Is),mT=function(t){function n(i){var r;return(r=t.call(this)||this)._y=void 0,r.yI=void 0,r.wI=!1,r.$D=function(){return r.ZI()},r.KD=function(){return r.$I()},r._y=i,r.yI=n.tO(i),e.addEventListener(wT.ZD,r.$D),r.ZI(),r}U(n,t),n.tO=function(t){return Boolean(wT&&e[wT.YD]&&wT.GD in t)};var i=n.prototype;return i.Xy=function(){var t=this._y[wT.GD]();t&&t.then?t.then(this.$D,this.KD):(e.removeEventListener(wT.JD,this.KD),e.addEventListener(wT.JD,this.KD))},i.qy=function(){var t=e[wT.jD]();t&&t.then?t.then(this.$D,this.KD):(e.removeEventListener(wT.JD,this.KD),e.addEventListener(wT.JD,this.KD))},i.ZI=function(){var t=this.wI,n=this._y===e[wT.QD];this.wI=n,t!==n&&this.Do(new gT)},i.$I=function(){this.Do(new Jp)},i.Pv=function(){this.Bo(),e.removeEventListener(wT.ZD,this.$D),e.removeEventListener(wT.JD,this.KD)},n}(Ss),kT=function(t){function n(i){var r;return(r=t.call(this)||this)._y=void 0,r.yI=void 0,r.wI=!1,r.$D=function(){return r.ZI()},r._y=i,r.yI=n.tO(i),r._y.addEventListener("webkitbeginfullscreen",r.$D),r._y.addEventListener("webkitendfullscreen",r.$D),r._y.addEventListener("webkitpresentationmodechanged",r.$D),r.ZI(),r}U(n,t),n.tO=function(t){return Q.me&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Xy=function(){var t=this;this._y.webkitSupportsPresentationMode&&this._y.webkitSupportsPresentationMode("fullscreen")?Q.me?requestAnimationFrame(function(){return t._y.webkitSetPresentationMode("fullscreen")}):this._y.webkitSetPresentationMode("fullscreen"):this._y.webkitEnterFullscreen()},i.qy=function(){this._y.webkitSupportsPresentationMode&&this._y.webkitSupportsPresentationMode("inline")?this._y.webkitSetPresentationMode("inline"):this._y.webkitExitFullscreen()},i.ZI=function(){var t,n=this.wI;t=this._y.webkitPresentationMode?"fullscreen"===this._y.webkitPresentationMode:!!this._y.webkitDisplayingFullscreen,this.wI=t,n!==t&&this.Do(new gT)},i.Pv=function(){this.Bo(),this._y.removeEventListener("webkitbeginfullscreen",this.$D),this._y.removeEventListener("webkitendfullscreen",this.$D),this._y.removeEventListener("webkitpresentationmodechanged",this.$D)},n}(Ss),pT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).nO=[],n.iO=void 0,n.GI=!1,n.ZI=function(){var t=n.GI,i=n.rO();t!==i&&(n.GI=i,n.Do(new gT))},n}U(n,t);var i=n.prototype;return i.Xy=function(){this.iO?this.iO.Xy():this.Do(new Jp)},i.qy=function(){for(var t=0,n=this.nO;t<n.length;t++){var i=n[t];i.wI&&i.qy()}},i.eO=function(t){this.iO=t},i.sO=function(t){this.nO.push(t),t.Oo(jp.vl,this.ZI),t.Oo(jp.Zl,this.Co),this.ZI()},i.uO=function(t){Ke(this.nO,t),t.Lo(jp.vl,this.ZI),t.Lo(jp.Zl,this.Co)},i.rO=function(){for(var t=0,n=this.nO;t<n.length;t++){if(n[t].wI)return!0}return!1},i.Il=function(){this.iO=void 0,this.GI=!1;for(var t=this.nO.slice(),n=0;n<t.length;n++){var i=t[n];this.uO(i),i.Pv()}this.ZI()},i.Pv=function(){this.Bo(),this.Il()},L(n,[{key:"yI",get:function(){return!!this.iO&&this.iO.yI}},{key:"wI",get:function(){return this.GI}}]),n}(Ss),AT=function(t){function n(n,i){var r;return(r=t.call(this)||this).fR=void 0,r.oO=void 0,r.hO=void 0,r.aO=!1,r.cO=function(){return r.xh()},r.ZI=function(t){r.aO||r.Do(t)},r.fR=n,r.oO=i,r.hO=$p,r.fO(),r.fR.Oo(Zo.$a,r.cO),r.xh(),r}U(n,t);var i=n.prototype;return i.Xy=function(){this.oO&&this.hO.Xy()},i.qy=function(){this.hO.qy()},i.fO=function(){this.hO.Oo(jp.vl,this.ZI),this.hO.Oo(jp.Zl,this.Co)},i.vO=function(){this.hO.Lo(jp.vl,this.ZI),this.hO.Lo(jp.Zl,this.Co)},i.xh=function(){var t=this.hO,n=this.fR.iy();if(t!==n){this.aO=!0;var i=this.wI,r=this.yI;i&&this.qy(),this.vO(),this.hO=n,this.fO(),i&&!this.wI&&this.yI?this.Xy():this.qy(),this.aO=!1,r!==this.yI&&this.Do(new yT),i!==this.wI&&this.Do(new gT)}},i.Pv=function(){this.Bo(),this.vO(),this.fR.Lo(Zo.$a,this.cO)},L(n,[{key:"yI",get:function(){return!!this.oO&&this.hO.yI}},{key:"wI",get:function(){return this.hO.wI}}]),n}(Ss);function bT(t){var n;return{get url(){return t.cv},get method(){return t.Rv},get headers(){return n||(n=t.ev.Rc()),n},get body(){return t.zf},get useCredentials(){return t.Dv},get type(){return IT(t.Ku)},get subType(){return CT(t.Nv)},get mediaType(){return OT(t.Cv)},get responseType(){return ET(t.sv)}}}function TT(t){switch(t.toLowerCase()){case"arraybuffer":return Jo.Tc;case"json":return Jo.Ec;case"stream":return Jo.Sc;case"text":default:return Jo.Je}}function ET(t){return t}function ST(t){switch(t.toUpperCase()){case"POST":return Rf.POST;case"PUT":return Rf.PUT;case"DELETE":return Rf.DELETE;case"HEAD":return Rf.HEAD;case"OPTIONS":return Rf.OPTIONS;case"GET":default:return Rf.GET}}function RT(t){switch(t.toLowerCase()){case"manifest":return If.dv;case"segment":return If.lv;case"content-protection":return If._v;default:return If.vv}}function IT(t){return t}function NT(t){switch(t.toLowerCase()){case"initialization-segment":return Nf.gv;case"fairplay-license":return Nf.wv;case"fairplay-certificate":return Nf.yv;case"widevine-license":return Nf.mv;case"widevine-certificate":return Nf.kv;case"playready-license":return Nf.pv;case"clearkey-license":return Nf.Av;case"aes128-key":return Nf.bv;default:return Nf.vv}}function CT(t){return t}function DT(t){switch(t.toLowerCase()){case"audio":return Cf.Tv;case"video":return Cf.Ev;case"text":return Cf.Je;case"image":return Cf.Sv;case"":default:return Cf.vv}}function OT(t){return t}var xT=function(){function t(t,n){this.dO=new Yu,this.lO=[],this.Zd=void 0,this._O=!1,this.Gv=void 0,this.gO=0,this.wO=t,this.yO=n}var n=t.prototype;return n.Lk=function(){this._O=!0,this.dO._h(null)},n.mO=function(){this.dO.gh(new uf(this.lO))},n.kO=function(t){if(!this.pO)throw new v("Cannot respond more than once");if(!tt(t))throw new v("Expected valid response");this.Gv=this.AO(t),this.Lk()},n.bO=function(){try{var t=this.yO(this.Jd);t?this.TO(t):this.EO||this.SO||this.Lk()}catch(t){this.lO.push(t),this.mO()}},n.TO=function(t){if(this.SO)throw new f("Request has been redirected or a response already exists");if(et(t))this.RO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new Yu;try{var i=t(function(t){t?n.gh(t):n._h(void 0)});et(i)&&n._h(i)}catch(t){n.gh(t)}this.RO(n.lh)}},n.RO=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.gO++,t.next=4,n;case 4:this.gO--,this.EO||this.SO||(this.lO.length?this.mO():this.Lk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.gO--,this.lO.push(t.t0),this.EO||this.SO||this.mO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"IO",get:function(){return this.dO.lh}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.NO()),this.Zd}},{key:"SO",get:function(){return this._O}},{key:"pO",get:function(){return!this._O}},{key:"EO",get:function(){return this.gO>0}},{key:"jv",get:function(){return this.Gv}}]),t}(),PT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).CO=void 0,e.CO=r,e.bO(),e}U(n,t),n.DO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Df({Ds:r,hv:n.hv,sv:n.hv.sv,ev:t.headers,rv:t.status,uv:t.statusText,av:t.url,ov:!0},n)};var i=n.prototype;return i.NO=function(){return i=bT((t=this).hv),{get closed(){return!t.pO},get request(){return i},get url(){return t.cv},get status(){return t.rv},get statusText(){return t.uv},get headers(){return n||(n=t.ev.Rc()),n},get body(){return t.zf},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.TO(n)}};var t,n,i},i.AO=function(t){return n.DO(t,this.wO,this.CO)},L(n,[{key:"zf",get:function(){return this.CO}},{key:"ev",get:function(){return this.wO.ev}},{key:"hv",get:function(){return this.wO.hv}},{key:"jv",get:function(){return this.Gv}},{key:"rv",get:function(){return this.wO.rv}},{key:"uv",get:function(){return this.wO.uv}},{key:"cv",get:function(){return this.wO.av}}]),n}(xT),BT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).OO=void 0,e.xO=void 0,e.xO=r,e.bO(),e}U(n,t);var i=n.prototype;return i.NO=function(){return t=this,{get url(){return t.cv},get method(){return t.Rv},get headers(){return n||(n=t.ev.Rc()),n},get body(){return t.zf},get closed(){return!t.pO},get useCredentials(){return t.Dv},get type(){return IT(t.Ku)},get subType(){return CT(t.Nv)},get mediaType(){return OT(t.Cv)},get responseType(){return ET(t.sv)},redirect:function(n){return t.PO(n)},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.TO(n)}};var t,n},i.AO=function(t){var n=this.wO.zf,i=new Df({Ds:n,ev:{},hv:this.wO,av:this.wO.cv,sv:this.wO.sv,rv:200,uv:"OK"});return PT.DO(t,i,n)},i.PO=function(t){if(!this.pO)throw new v("Cannot redirect, already redirected or has a response");var n;n=it(t)?{url:t}:t,this.OO=function(t,n){return new Of({cv:void 0===t.url?n.cv:t.url,Rv:void 0!==t.method?ST(t.method):void 0,ev:t.headers,zf:t.body,Dv:t.useCredentials,Ku:void 0!==t.type?RT(t.type):void 0,Nv:void 0!==t.subType?NT(t.subType):void 0,Cv:void 0!==t.mediaType?DT(t.mediaType):void 0,sv:void 0!==t.responseType?TT(t.responseType):void 0},n)}(n,this.wO),this.Lk()},L(n,[{key:"zf",get:function(){return this.wO.zf}},{key:"pO",get:function(){return this.xO&&!this._O}},{key:"ev",get:function(){return this.wO.ev}},{key:"Rv",get:function(){return this.wO.Rv}},{key:"BO",get:function(){return this.OO}},{key:"jv",get:function(){return this.Gv}},{key:"sv",get:function(){return this.wO.sv}},{key:"Iv",get:function(){return this.wO.Iv}},{key:"So",get:function(){return this.wO.So}},{key:"Ku",get:function(){return this.wO.Ku}},{key:"Nv",get:function(){return this.wO.Nv}},{key:"Cv",get:function(){return this.wO.Cv}},{key:"cv",get:function(){return this.wO.cv}},{key:"Dv",get:function(){return this.wO.Dv}},{key:"Ov",get:function(){return this.wO.Ov}}]),n}(xT);var LT,MT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new UT(n);return(r=t.call(this,e,i)||this).LO=void 0,r.LO=e,r}U(n,t);var i=n.prototype;return i.MO=function(t){this.LO.MO(t)},i.UO=function(t){this.LO.UO(t)},i.FO=function(t){this.LO.FO(t)},i.HO=function(t){this.LO.HO(t)},i.VO=function(t){this.LO.VO(t)},n}(Bf),UT=function(){function t(t){this.Bv=void 0,this.XO=[],this.WO=[],this.Bv=t}var n=t.prototype;return n.hv=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.qO(n,n.So);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Lf)){t.next=12;break}return t.next=11,this.zO(t.t0,n.So);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.GO(i,n.So);case 15:if(!Sf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Uf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.xv=function(t){return this.Bv.xv(t)},n.qO=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:cs(i),r=n,s=0,u=this.XO.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],cs(i),(h=new BT(r,o,!e)).SO){t.next=17;break}return t.prev=8,t.next=11,h.IO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.BO&&!e?r=h.BO:h.jv&&!e&&(e=h.jv);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Bv.hv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.zO=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Uf?n.jv:new Df({Ds:null,hv:n.hv,rv:0,uv:""}),t.next=3,this.GO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Sf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Uf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.GO=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.WO.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],cs(i),t.next=7,T.resolve(r.hh().Ds(i));case 7:if(o=t.sent,(h=new PT(r,u,o)).SO){t.next=19;break}return t.prev=10,t.next=13,h.IO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.jv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.MO=function(t){this.XO.unshift(t)},n.UO=function(t){this.XO.push(t)},n.FO=function(t){Ke(this.XO,t)},n.HO=function(t){this.WO.unshift(t)},n.VO=function(t){Ke(this.WO,t)},n.Pv=function(){this.Bv.Pv(),rs(this.XO),rs(this.WO)},t}(),FT=function(){function t(t){this.Zd=void 0,this.Ob=t}var n=t.prototype;return n.MO=function(t){this.Ob.MO(t)},n.FO=function(t){this.Ob.FO(t)},n.HO=function(t){this.Ob.HO(t)},n.VO=function(t){this.Ob.VO(t)},L(t,[{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{addRequestInterceptor:function(n){t.MO(n)},removeRequestInterceptor:function(n){t.FO(n)},addResponseInterceptor:function(n){t.HO(n)},removeResponseInterceptor:function(n){t.VO(n)}})),this.Zd}}]),t}(),HT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Zd=void 0,e.jO=n,e.Ob=i,e.II=r,e.jO.Oo(Zo.ec,e.Co),e.jO.Oo(Zo.rc,e.Co),e}U(n,t);var i=n.prototype;return i.QO=function(t){this.II.QO(t)},i.MO=function(t){this.Ob.MO(t)},i.FO=function(t){this.Ob.FO(t)},i.HO=function(t){this.Ob.HO(t)},i.VO=function(t){this.Ob.VO(t)},i.Pv=function(){this.Bo(),this.jO.Lo(Zo.ec,this.Co),this.jO.Lo(Zo.rc,this.Co)},L(n,[{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{get online(){return t.by},get estimator(){return n=t.YO,{get bandwidth(){return n.zE},get roundTripTime(){return n.GE}};var n},setEstimator:function(n){t.QO(function(t){if(t)return{get zE(){return Fd(t.bandwidth)},get GE(){return Fd(t.roundTripTime)},qE:function(n){return function(t){if(t)return{ZO:function(n){t.markRequestStart(n)},JO:function(n){t.markResponseStart(n)},$O:function(n,i){t.markResponseData(n,i)},KO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(bT(n)))}}}(n))},addRequestInterceptor:function(n){t.MO(n)},removeRequestInterceptor:function(n){t.FO(n)},addResponseInterceptor:function(n){t.HO(n)},removeResponseInterceptor:function(n){t.VO(n)},addEventListener:function(n,i){t.Oo(n,i)},removeEventListener:function(n,i){t.Lo(n,i)}})),this.Zd}},{key:"by",get:function(){return this.jO.by}},{key:"YO",get:function(){return this.II.YO}}]),n}(el);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(LT||(LT={}));var VT=30,XT={type:LT.BANDWIDTH},WT=20,qT=60;function zT(t){var n,i,r,e=xd(XT);return it(t)?e.type=GT(t):tt(t)&&function(t){switch(t){case LT.PERFORMANCE:case LT.QUALITY:case LT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=GT(t.type)),tt(t)&&tt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Ud(n.bitrate),w(r)||(i.bitrate=r),i)),e}function GT(t){switch(t){case"bandwidth":return LT.BANDWIDTH;case"performance":return LT.PERFORMANCE;case"quality":return LT.QUALITY}}var jT=function(t){function n(n){var i;return(i=t.call(this,"nx")||this).tx=n,i}return U(n,t),n}(Is),QT=function(t){function n(n){var i;return(i=t.call(this,"ex")||this).ix=n,i}return U(n,t),n}(Is),YT=function(t){function n(n){var i;return(i=t.call(this,"ux")||this).sx=n,i}return U(n,t),n}(Is),ZT=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).Zd=(i=en(n),{get strategy(){return{metadata:(t=i.ix).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.ix=zT(t)},get targetBuffer(){return i.tx},set targetBuffer(t){var n=Ud(t);w(n)||(i.tx=n>qT?qT:n)},get bufferLookbackWindow(){return i.sx},set bufferLookbackWindow(t){var n=Ud(t);w(n)||(i.sx=n<=0?VT:n)}}),n.ox=XT,n.hx=WT,n.ax=VT,n.vx=void 0,n.lx=void 0,n}U(n,t);var i=n.prototype;return i._x=function(t){this.lx=t},i.QO=function(t){this.vx=t},L(n,[{key:"gx",get:function(){switch(this.ox.type){case LT.PERFORMANCE:return 0;case LT.QUALITY:return 1/0;case LT.BANDWIDTH:return this.ox.metadata&&void 0!==this.ox.metadata.bitrate?this.ox.metadata.bitrate:8*hl.l_();default:return 8*hl.l_()}}},{key:"Jd",get:function(){return this.Zd}},{key:"ix",get:function(){return this.ox},set:function(t){this.ox=t,this.Do(new QT(t))}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t,this.Do(new jT(t))}},{key:"sx",get:function(){return this.ax},set:function(t){this.ax=t,this.Do(new YT(t))}},{key:"YO",get:function(){var t;return null!=(t=this.vx)?t:this.lx.ZS}}]),n}(Ss),JT=function(t){function n(){return t.call(this,"dl")||this}return U(n,t),n.prototype.$d=function(){return new $T},n}(yd),$T=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Is),KT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).wx=void 0,r.yx=function(t){var n;n=t,Boolean(n&&n.Jd)&&ws(function(){r.Do(t.Jd)})},r.wx=n,r.wx.Po(r.yx),r}return U(n,t),n.prototype.Pv=function(){this.Bo(),this.wx.Fo(this.yx)},n}(el),tE=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n}(KT);var nE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).rm=0,n.sm=1/0,n.Zd=void 0,n}U(n,t);var i=n.prototype;return i.Il=function(){0===this.rm&&this.sm===1/0||(this.rm=0,this.sm=1/0,this.Do(new JT))},i.mx=function(){return new Yp([this.Gy,this.jy],[!0,!0])},L(n,[{key:"Gy",get:function(){return this.rm},set:function(t){if(this.jy<=t)throw new f("Start time of a clip should be smaller than the end time.");this.rm!==t&&(this.rm=t,this.Do(new JT))}},{key:"jy",get:function(){return this.sm},set:function(t){if(t<=this.Gy)throw new f("End time of a clip should be larger than the start time.");this.sm!==t&&(this.sm=t,this.Do(new JT))}},{key:"Jd",get:function(){var t,n,i;return this.Zd||(this.Zd=(i={get startTime(){return t.Gy},set startTime(n){t.Gy=n},get endTime(){return t.jy},set endTime(n){t.jy=n},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)}},n=new KT(t=this,i),i)),this.Zd}}]),n}(el),iE=function(t){function n(n){var i;return(i=t.call(this)||this).kx=function(t){i.Ax(t)||i.Do(t)},i.bx=n,i.bx.Po(i.kx),i}U(n,t);var i=n.prototype;return i.Tx=function(){return this.bx.Uw},i.ey=function(){return this.bx.ey()},i.Ex=function(){return this.bx.vy},i.Sx=function(){return this.bx.hy},i.Rx=function(){return this.bx.ly},i.Ix=function(t){this.bx.ly=t},i.Nx=function(){return this.bx.B_},i.Cx=function(t){this.bx.B_=t},i.Dx=function(){return this.bx.L_},i.Ox=function(){return this.bx._y},i.xx=function(){return this.bx.M_},i.Px=function(){return this.bx.Go},i.Bx=function(){return this.bx.U_},i.Lx=function(){return this.bx.gy},i.Mx=function(){return this.bx.F_},i.Ux=function(t){this.bx.F_=t},i.Fx=function(){return this.bx.by},i.Hx=function(){return this.bx.H_},i.Vx=function(){return this.bx.V_},i.Xx=function(t){this.bx.V_=t},i.Wx=function(){return this.bx.Ty},i.qx=function(){return this.bx.Ey},i.zx=function(t){this.bx.Ey=t},i.Gx=function(){return this.bx.Kl},i.jx=function(){return this.bx.Sy},i.Qx=function(){return this.bx.X_},i.zw=function(){return this.bx.zw()},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(i),t.next=3,this.bx.Gw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yx=function(){return this.bx.Hw},i.Zx=function(){return this.bx.W_},i.Jx=function(){return this.bx.Fw},i.$x=function(){return this.bx.q_},i.Kx=function(){return this.bx.z_},i.tP=function(t){this.bx.z_=t},i.iy=function(){return this.bx.iy()},i.ny=function(){return this.bx.ny()},i.Jw=function(t){this.bx.Jw(t)},i.$w=function(){this.bx.$w()},i.ty=function(){this.bx.ty()},i.Zw=function(){this.bx.Zw()},i.Ww=function(){this.bx.Ww()},i.Xw=function(){this.bx.Xw()},i.Kw=function(){this.bx.Kw()},i.qw=function(){return this.bx.qw()},i.jw=function(){return this.bx.jw()},i.Qw=function(){this.bx.Qw()},i.Yw=function(){this.bx.Yw()},i.Il=function(){return this.bx.Il()},i.Pv=function(){return this.bx.Pv()},i.ay=function(){this.bx.ay()},i.sy=function(t){return this.bx.sy(t)},i.Ax=function(t){return!1},L(n,[{key:"Uw",get:function(){return this.Tx()}},{key:"vy",get:function(){return this.Ex()}},{key:"ly",get:function(){return this.Rx()},set:function(t){this.Ix(t)}},{key:"hy",get:function(){return this.Sx()}},{key:"B_",get:function(){return this.Nx()},set:function(t){this.Cx(t)}},{key:"L_",get:function(){return this.Dx()}},{key:"_y",get:function(){return this.Ox()}},{key:"M_",get:function(){return this.xx()}},{key:"Go",get:function(){return this.Px()}},{key:"U_",get:function(){return this.Bx()}},{key:"Vw",get:function(){return this.bx.Vw}},{key:"gy",get:function(){return this.Lx()}},{key:"Sw",get:function(){return this.bx.Sw}},{key:"F_",get:function(){return this.Mx()},set:function(t){this.Ux(t)}},{key:"by",get:function(){return this.Fx()}},{key:"H_",get:function(){return this.Hx()}},{key:"V_",get:function(){return this.Vx()},set:function(t){this.Xx(t)}},{key:"Ty",get:function(){return this.Wx()}},{key:"Ey",get:function(){return this.qx()},set:function(t){this.zx(t)}},{key:"Kl",get:function(){return this.Gx()}},{key:"Sy",get:function(){return this.jx()}},{key:"X_",get:function(){return this.Qx()}},{key:"Hw",get:function(){return this.Yx()}},{key:"W_",get:function(){return this.Zx()}},{key:"Fw",get:function(){return this.Jx()}},{key:"q_",get:function(){return this.$x()}},{key:"z_",get:function(){return this.Kx()},set:function(t){this.tP(t)}}]),n}(sl),rE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).nP=void 0,e.iP=!1,e.rP=void 0,e.eP=!1,e.sP=function(){e.uP(),e.oP()},e.fS=function(){e.hP(),e.oP(),e.aP&&e.B_>=e.nP.jy-n.cP&&!e.M_&&(e.rP=uT(e.fS))},e.fP=function(){e.eP=!0},e.vP=function(){e.eP&&(e.eP=!1,e.oP())},e.nP=r,e.nP.Oo("dl",e.sP),e.bx.Oo("timeupdate",e.fS),e}U(n,t);var i=n.prototype;return i.Cx=function(n){var i=this.nP.mx().XR(n);t.prototype.Cx.call(this,i),this.oP()},i.xx=function(){return t.prototype.xx.call(this)||this.iP},i.jx=function(){return Yp.vI(t.prototype.jx.call(this)).zR(this.nP.mx()).GS()},i.Xw=function(){this.xx()?this.Cx(this.dP.start(0)):this.uP(),t.prototype.Xw.call(this),this.oP()},i.Gw=function(){var n=T.coroutine(le.mark(function n(i,r){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cs(r),this.iP=!1,this.nP.Il(),n.next=5,t.prototype.Gw.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Pv=function(){return this.nP.Lo("dl",this.sP),this.bx.Lo("timeupdate",this.fS),this.hP(),t.prototype.Pv.call(this)},i.Ax=function(n){switch(n.type){case"seeking":return this.Do(n),this.fP(),!0;case"seeked":case"emptied":return this.Do(n),this.vP(),!0;case"ended":if(this.aP)return!0}return t.prototype.Ax.call(this,n)},i.hP=function(){this.rP&&(oT(this.rP),this.rP=void 0)},i.oP=function(){var t=this.B_,i=this.aP&&t>=this.nP.jy-n.Kg;this.iP&&!i?(this.iP=!1,this.H_&&this.Xw()):this.iP||!i||this.X_||this.eP||(this.iP=!0,this.Do(new Wl(t)),this.Ww())},i.uP=function(){if(this.L_!==1/0){var t=this.dP,i=Yp.vI(t).XR(this.B_);zt(this.B_,i,n.Kg)||this.Cx(i)}},L(n,[{key:"dP",get:function(){return this.jx().length?this.jx():this.nP.mx().GS()}},{key:"aP",get:function(){return this.nP.jy<this.L_}}]),n}(iE);rE.cP=1,rE.Kg=.001;var eE=function(){function t(){this.lP=void 0,this.lP=!1}return L(t,[{key:"_P",get:function(){return this.lP},set:function(t){this.lP=t}}]),t}(),sE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).lP=void 0,r.gP=!1,r.wP=!1,r.lP=i,r}U(n,t);var i=n.prototype;return i.xx=function(){return!this.lP._P&&t.prototype.xx.call(this)},i.Ww=function(){this.wP=!0,t.prototype.Ww.call(this)},i.Xw=function(){this.wP=!1,t.prototype.Xw.call(this)},i.Ax=function(n){if(this.lP._P)switch(n.type){case"ended":return this.B_=0,this.wP||(this.X_?this.gP=!0:this.Xw()),!0;case"seeked":this.gP&&(this.gP=!1,this.Xw());break;case"pause":if(this.gP||t.prototype.xx.call(this))return!0}return t.prototype.Ax.call(this,n)},n}(iE);var uE=function(){function t(t){var n;this.Zd=(n=this,{get currentBandwidthEstimate(){return n.ky},get corruptedVideoFrames(){return n.yy},get droppedVideoFrames(){return n.wy},get totalBytesLoaded(){return n.py},get bufferedSegments(){return n.Ay}}),this.yR=t}return L(t,[{key:"Jd",get:function(){return this.Zd}},{key:"yy",get:function(){return this.yR.yP.Sw.yy}},{key:"ky",get:function(){return this.yR.yP.Sw.ky}},{key:"wy",get:function(){return this.yR.yP.Sw.wy}},{key:"mP",get:function(){throw new f("Not implemented")}},{key:"kP",get:function(){throw new f("Not implemented")}},{key:"py",get:function(){return this.yR.yP.Sw.py}},{key:"my",get:function(){return this.yR.yP.Sw.my}},{key:"Ay",get:function(){return this.yR.yP.Sw.Ay}}]),t}();function oE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function hE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function aE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function cE(t){return t&&jr(t)?{wy:oE(t),yy:hE(t),my:aE(t)}:{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var fE=function(t){function n(){return t.call(this,"pP")||this}return U(n,t),n.prototype.$d=function(){return new vE},n}(yd),vE=function(t){function n(){return t.call(this,"castingchange")||this}return U(n,t),n}(Is);var dE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).AP=[],n.Zd=void 0,n.bP=function(){return n.Do(new fE)},n}U(n,t);var i=n.prototype;return i.TP=function(t){this.AP.push(t),t.Oo("statechange",this.bP)},i.Pv=function(){var t=this;this.AP.forEach(function(n){n.Lo("statechange",t.bP)}),rs(this.AP)},L(n,[{key:"EP",get:function(){return this.AP.some(function(t){return t.EP})}},{key:"Jd",get:function(){var t,n,i;return this.Zd||(this.Zd=(i={get casting(){return t.EP},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)}},n=new tE(t=this,i),i)),this.Zd}}]),n}(sl),lE=function(){function t(){}return t.SP=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Of({cv:n,sv:Jo.Je,Rv:Rf.GET}),t.next=4,i.hv(r);case 4:return e=t.sent,t.next=7,e.Ds();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),as(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.RP=function(t){try{var i=wb(t);return new bb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Co(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.IP=function(t){void 0===t&&(t=Mb.Im),b.mu("The baked-in license is used. Please update the configuration with your license.");var n=t.nC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.nC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.nC(n)}),e=Number(new Date(Number(t.nC("COD|aHpHa:p3Ceo3Co\"\""))));return new bb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new bb(t.aC,t.cC,t.fC,864e13,t.dC,Date.now(),t._C,t.gC)},t}(),_E=function(){function t(){}return t.Ha=function(){return t.je||(t.je=gE.Kh()?new gE:new zo),t.je},t.rh=function(n){t.Ha().rh(n)},t.Ua=function(){t.Ha().Ua()},t.th=function(n){return t.Ha().th(n)},t.Fa=function(n,i){t.Ha().Fa(n,i)},t.NP=function(n){var i=t.th(n);if(void 0!==i)return g(i)},t.CP=function(n){return"true"===t.th(n)},t}();_E.je=void 0;var gE=function(n){function i(){return n.apply(this,arguments)||this}U(i,n),i.Kh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.rh=function(n){t.localStorage.removeItem(n)},r.Ua=function(){t.localStorage.clear()},r.th=function(n){return t.localStorage[n]},r.Fa=function(n,i){t.localStorage[n]=i},i}(_E),wE=l.floor(14399999*l.random()-72e5),yE=function(){function t(t,n,i,r,e,s){this.mC=void 0,this.Ob=t,this.DP=n,this.OP=i,this.eD=r,this.xP=e,this.AC=s,this.mC=Cb(s)}var i=t.prototype;return i.PP=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BP(this.xP.license,this.xP.licenseUrl);case 2:n=t.sent,this.eD.LP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BP=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=lE.RP(i):e||(s=lE.IP()),e||(e="https://validate.theoplayer.com/1/"+s.aC),u=this.MP(),!s){t.next=14;break}if((o=this.DP.SC(s))!==mb.uC){t.next=14;break}if(!this.UP(s.vC)||!this.UP(null==u?void 0:u.vC)){t.next=13;break}return t.next=10,this.FP(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.DP.SC(u)!==mb.uC){t.next=24;break}if(!this.UP(null==u?void 0:u.vC)){t.next=23;break}return t.next=20,this.FP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:_E.rh("THEOplayer.license");case 25:return t.next=27,lE.SP(e,this.Ob);case 27:if(!(c=t.sent)){t.next=37;break}if(f=lE.RP(c),this.DP.SC(f)!==mb.uC){t.next=34;break}return _E.Fa("THEOplayer.license",c),t.abrupt("return",f);case 34:_E.rh("THEOplayer.license"),t.next=39;break;case 37:if(this.mC||!s||o!==mb.oC||e!=="https://validate.theoplayer.com/1/"+s.aC){t.next=39;break}return t.abrupt("return",lE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.HP(null!=(v=s)?v:f,new Co(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Co(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bC=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eD.fD();case 2:if(i=t.sent,!this.UP(i.vC)){t.next=9;break}return e=null!=(r=this.xP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.aC,t.next=7,this.FP(e);case 7:(s=t.sent)&&(this.eD.LP(s),i=s);case 9:if(t.prev=9,(u=this.DP.SC(i))!==mb.hC){t.next=16;break}throw o=Ab.wC,new Co(Eb(o),Ob.EC(o));case 16:if(u!==mb.oC){t.next=19;break}throw h=Ab.oC,new Co(Eb(h),Ob.EC(h));case 19:this.DP.bC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.VP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.FP=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,lE.SP(n,this.Ob);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=lE.RP(i),this.DP.SC(r)!==mb.uC){t.next=11;break}return _E.Fa("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.UP=function(t){return!t||Number(new Date)+2592e5+wE>=t},i.MP=function(){var t=_E.th("THEOplayer.license");if(t)return lE.RP(t)},i.HP=function(t,n){this.eD.LP(t),this.VP(n)},i.VP=function(t){throw _t(t.message),this.OP.lD(t.message),t},t}(),mE=function(){function t(){this.XP=void 0,this.WP=new Yu}var n=t.prototype;return n.LP=function(t){this.XP=t,this.WP._h()},n.fD=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XP){t.next=2;break}return t.abrupt("return",T.resolve(this.XP));case 2:return t.next=4,this.WP.lh;case 4:return t.abrupt("return",this.XP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"qP",get:function(){return this.XP}}]),t}(),kE=function(t){function n(){return t.call(this,"dl")||this}return U(n,t),n.prototype.$d=function(){return new pE},n}(yd),pE=function(t){function n(){return t.call(this,"change")||this}return U(n,t),n}(Is);function AE(t){var n,i={get fontFamily(){return t.zP},set fontFamily(n){t.zP=n},get fontColor(){return t.GP},set fontColor(n){t.GP=n},get fontSize(){return t.jP},set fontSize(n){t.jP=n},get backgroundColor(){return t.QP},set backgroundColor(n){t.QP=n},get windowColor(){return t.YP},set windowColor(n){t.YP=n},get edgeStyle(){return t.ZP},set edgeStyle(n){t.ZP=n},addEventListener:function(t,i){var r=Vd(t,Hd);n.Oo(r,i)},removeEventListener:function(t,i){var r=Vd(t,Hd);n.Lo(r,i)}};return n=new Rs(i),t.Oo(["dl"],function(t){return n.Do(t.Jd)}),i}var bE,TE,EE={zP:void 0,GP:void 0,jP:void 0,QP:void 0,YP:void 0,ZP:void 0,JP:void 0},SE="THEOplayer.textTrackStyle.",RE=function(t){function n(){var i;return(i=t.call(this)||this).$P=void 0,i.Zd=void 0,i.$P=n.KP(),i}return U(n,t),n.prototype.xh=function(t){this.$P=_e({},this.$P,t),n.tB(this.$P),this.Do(new kE)},n.KP=function(){var t=_e({},EE);return t.zP=_E.th(SE+"fontFamily")||t.zP,t.GP=_E.th(SE+"fontColor")||t.GP,t.jP=_E.th(SE+"fontSize")||t.jP,t.QP=_E.th(SE+"backgroundColor")||t.QP,t.YP=_E.th(SE+"windowColor")||t.YP,t.ZP=_E.th(SE+"edgeStyle")||t.ZP,t},n.tB=function(t){_E.Fa(SE+"fontFamily",t.zP||""),_E.Fa(SE+"fontColor",t.GP||""),_E.Fa(SE+"fontSize",t.jP||""),_E.Fa(SE+"backgroundColor",t.QP||""),_E.Fa(SE+"windowColor",t.YP||""),_E.Fa(SE+"edgeStyle",t.ZP||"")},L(n,[{key:"nB",get:function(){return this.$P}},{key:"zP",get:function(){return this.$P.zP},set:function(t){this.xh({zP:t})}},{key:"GP",get:function(){return this.$P.GP},set:function(t){this.xh({GP:t})}},{key:"jP",get:function(){return this.$P.jP},set:function(t){this.xh({jP:t})}},{key:"QP",get:function(){return this.$P.QP},set:function(t){this.xh({QP:t})}},{key:"YP",get:function(){return this.$P.YP},set:function(t){this.xh({YP:t})}},{key:"ZP",get:function(){return this.$P.ZP},set:function(t){this.xh({ZP:t})}},{key:"JP",get:function(){return this.$P.JP}},{key:"Jd",get:function(){return this.Zd||(this.Zd=AE(this)),this.Zd}}]),n}(Ss),IE=function(t){function n(n,i){var r;(r=t.call(this)||this).iB=void 0,r.Vh=void 0,r.yP=void 0,r.rB=void 0,r.zd=void 0,r.nP=void 0,r.lP=void 0,r.eB=void 0,r.sB=void 0,r.II=void 0,r.DP=void 0,r.uB=void 0,r.oB=void 0,r.RI=void 0,r.hB=!1,r.Dw=!1,r.Oy=void 0,r.aB=!1,r.cB=void 0,r.fB=void 0,r.vB=void 0,r.dB=void 0,r.lB=void 0,r._B=function(t){if(!r.aB){r.aB=!0;var n=r.iB,i=M_(t);r.yP.Ll=new nA(r._y,i,t),ys(n.Pv())}},r.gB=function(t){r.Do(t.Jd)},r.wB=function(t){t.type!==Zo.ec&&t.type!==Zo.rc&&r.Do(t)};var e=Ud(i.uid);w(e)?r.Oy=G_++:r.Oy=e,r.Vh=i;var s=b.zd,u=new mE;r.rB=new Qb("2.88.0",s,u),r.zd=new MT(s,i.allowMixedContent),r.II=new ZT,r.DP=new Tb(i.isEmbeddable,"2.88.0",yb()),r.lB=new yE(s,r.DP,r.rB,u,i,yb()),r.lB.PP().catch(r._B),r.uB=new _T(n),r.uB.Oo("TD",r.gB),r.RI=new RE,r.nP=new nE,r.lP=new eE;var o=new tA(n,i,r.zd,r.II,r.uB,r.RI);r.II._x(o);var h=o;h=new rE(h,r.yB),h=new sE(h,r._P),r.iB=h,r.yP=new x_(r.iB),r.yP.Po(r.wB),r.dB=new uE(en(r)),r.fB=new HT(r.yP,r.zd,r.II),r.eB=new Jb(en(r)),r.oB=new AT(r.yP,i.allowNativeFullscreen),r.sB=new kA(r.oB),r.uB.qh();var a=new Nr(r.uB,r.RI,1,[F_.Ev]);return r.cB=new Cr(a),r.vB=new dE,r}U(n,t);var i=n.prototype;return i.Ux=function(t){this.yP.F_=t,t||this.H_||this.Zw()},i.tP=function(t){this.yP.z_=t},i.mB=function(){i_(this,pA,this)},i.Xw=function(){this.yP.Xw()},i.Ww=function(){this.yP.Ww()},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.lB.bC(n).catch(this._B),r=NE(n),t.next=5,this.yP.Gw(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Zw=function(){this.Dw||(this.yP.Zw(),this.cB.Zw(),this.Dw=!0)},i.wI=function(){return this.sB.nN()===_A.FULLSCREEN},i.Kw=function(){this.yP.Kw()},i.ty=function(){this.yP.ty()},i.ny=function(){return this.yP.ny()},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yP.qw();case 2:return t.next=4,this.yP.Il();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),this.vB.Pv(),this.zd.Pv(),this.fB.Pv(),this.oB.Pv(),this.sB.Pv(),this.uB.Pv(),this.rB.Pv(),this.cB.Pv(),t.next=11,this.yP.Pv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"kB",get:function(){return this.II}},{key:"Lw",get:function(){return this.hB},set:function(t){this.hB=t,this.yP.Lw=t}},{key:"pB",get:function(){return this.cB}},{key:"Uw",get:function(){return this.yP.Uw}},{key:"AB",get:function(){return this.vB}},{key:"bB",get:function(){return this.uB}},{key:"Vw",get:function(){return this.yP.Vw}},{key:"Sw",get:function(){return this.dB}},{key:"TB",get:function(){return this.fB}},{key:"Hw",get:function(){return this.yP.Hw}},{key:"EB",get:function(){return this.RI}},{key:"Fw",get:function(){return this.yP.Fw}},{key:"vy",get:function(){return this.yP.vy}},{key:"yB",get:function(){return this.nP}},{key:"_P",get:function(){return this.lP}},{key:"B_",get:function(){return this.yP.B_},set:function(t){this.yP.B_=t}},{key:"ly",get:function(){return this.yP.ly},set:function(t){this.yP.ly=t}},{key:"hy",get:function(){return this.yP.hy}},{key:"L_",get:function(){return this.yP.L_}},{key:"_y",get:function(){return this.yP._y}},{key:"M_",get:function(){return this.yP.M_}},{key:"Go",get:function(){return this.yP.Go}},{key:"U_",get:function(){return this.yP.U_}},{key:"F_",get:function(){return this.yP.F_},set:function(t){var n=Boolean(t);this.Ux(n)}},{key:"H_",get:function(){return this.yP.H_}},{key:"V_",get:function(){return this.yP.V_},set:function(t){this.yP.V_=t}},{key:"Ty",get:function(){return this.yP.Ty}},{key:"Ey",get:function(){return this.yP.Ey},set:function(t){this.yP.Ey=Wp(t)}},{key:"Kl",get:function(){return this.yP.Kl}},{key:"Sy",get:function(){return this.yP.Sy}},{key:"X_",get:function(){return this.yP.X_}},{key:"Vl",get:function(){return this.Oy}},{key:"W_",get:function(){return this.yP.W_}},{key:"q_",get:function(){return this.yP.q_}},{key:"z_",get:function(){return this.yP.z_},set:function(t){var n=qt(Number(t),0,1)||0;this.tP(n)}}]),n}(sl);function NE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.SB=0]="SB",t[t.RB=1]="RB"}(bE||(bE={})),function(t){t[t.IB=0]="IB"}(TE||(TE={}));var CE={};function DE(t,n){(CE[n]||(CE[n]=[])).push(t)}function OE(t,n){var i=t;if(CE[n])for(var r=0,e=CE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var xE=[];function PE(t){xE.push(t)}var BE=t.CustomEvent;var LE=function(){try{var t=new BE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},ME=function(){function t(t,n){var i=this;this.yR=void 0,this.NB=void 0,this.CB=!1,this.DB=function(t){i.NB.dD(t.error,i.B_)},this.OB=function(){i.NB.cD(i.xB),i.yR.removeEventListener("playing",i.OB),i.CB=!1},this.PB=function(){i.CB||(i.yR.addEventListener("playing",i.OB),i.CB=!0)},this.NB=n,this.yR=t,this.yR.addEventListener("error",this.DB),this.yR.addEventListener("sourcechange",this.PB),this.PB()}return t.prototype.Il=function(){},L(t,[{key:"B_",get:function(){var t=this.yR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"xB",get:function(){return this.yR.src||""}}]),t}();PE(function(t){new ME(t.Jd,t.rB)});var UE="theoplayer-stored-volume",FE="theoplayer-stored-mutedstate";DE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=_E.NP(UE);(void 0===e||w(e))&&(e=1);var s=_E.CP(FE)||!1;r.z_=e,r.F_=s}return r}U(n,t);var i=n.prototype;return i.Ux=function(n){this.Vh.persistVolume&&_E.Fa(FE,n),t.prototype.Ux.call(this,n)},i.tP=function(n){this.Vh.persistVolume&&_E.Fa(UE,n),t.prototype.tP.call(this,n)},n}(t)},bE.RB);var HE=new(function(){function t(){this.BB=[],this.Zd=void 0}var n=t.prototype;return n.Tl=function(t){return this.BB[t]},n.LB=function(t){this.BB.push(t),this.Jd.push(t.Jd)},n.Oh=function(t){var n=this.BB.indexOf(t);n<0||(ts(this.BB,n),this.Zd&&ts(this.Zd,n))},n.MB=function(t){for(var n=0,i=this.BB;n<i.length;n++){var r=i[n];if(r.Vl===t)return r}},L(t,[{key:"Cl",get:function(){return this.BB.length}},{key:"Jd",get:function(){return this.Zd||(this.Zd=function(t){for(var n=[],i=0;i<t.Cl;i++)n[i]=t.Tl(i).Jd;return n.getPlayerByUID=function(n){var i=t.MB(n);return i&&i.Jd},n}(this)),this.Zd}}]),t}()),VE=function(){function t(t){var n=this;this.UB=[],this.FB=void 0,this.Id=new os,this.HB=void 0,this.Cn=function(){return 0===n.UB.length?n.HB?XE(n.HB,n.Id.So).then(n.VB,n.VB):n.VB():n.UB.shift()().then(n.Cn)},this.VB=function(){if(0!==n.UB.length)return n.Cn();n.FB=void 0},this.HB=t}var n=t.prototype;return n.XB=function(t,n){var i=this;return new T(function(r){var e=new os;e.To(i.Id.So),n&&e.To(n);var s=function(){e.wo()};i.UB.push(function(){var n=XE(t,e.So);return r(n),n.then(s,s)}),i.FB||(i.FB=i.Cn())})},n.bo=function(){return this.WB(!0)},n.Pv=function(){return this.HB=void 0,this.WB(!1)},n.WB=function(t){var n=this.FB;return this.Id.bo(),t&&(this.Id=new os),T.resolve(n)},t}();function XE(t,n){return new T(function(i){return i(t(n))})}var WE,qE=function(t){function n(n){var i;return(i=t.call(this,Zo.yc)||this).source=n,i}return U(n,t),n}(Is),zE=function(t){function n(){var n;return(n=t.call(this)||this).mI=void 0,n.pI=void 0,n.bI=void 0,n.AI=void 0,n.mI=0,n.pI=!0,n.bI=!1,n.AI=1,n}U(n,t);var i=n.prototype;return i.Xw=function(){this.pI&&(this.pI=!1,this.Do(new Bl(this.B_)),this.Do(new Yy(this.B_)))},i.Ww=function(){this.pI||(this.pI=!0,this.Do(new Xl(this.B_,this.ly)),this.Do(new Pl(this.B_)))},i.Il=function(){this.mI=0,this.bI=!1,this.AI=1,this.Ww(),this.Do(new xl(this.mI))},i.Pv=function(){this.Bo()},i.ty=function(){},i.Kw=function(){},L(n,[{key:"ly",get:function(){},set:function(t){}},{key:"B_",get:function(){return this.mI},set:function(t){this.bI&&this.mI===t||(this.mI=t,this.bI=!0,this.Do(new zl(this.B_)))}},{key:"H_",get:function(){return this.pI}},{key:"V_",get:function(){return this.AI},set:function(t){this.AI!==t&&(this.AI=t,this.Do(new Vl(this.B_,this.V_)))}},{key:"Kl",get:function(){return ll.T_}},{key:"X_",get:function(){return this.bI}}]),n}(el),GE=function(t){function n(){return t.call(this,Zo.Qa)||this}return U(n,t),n}(Is),jE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},QE={visibility:"hidden"},YE={visibility:"visible"},ZE=function(){function t(t){var n,i=this;this.dR=void 0,this.yR=void 0,this.qB=!1,this.zB=void 0,this.GB=void 0,this.jB=function(t){i.qB=!1,i.zB=t.source&&t.source.poster,i.xh()},this.$b=function(){i.qB=!0,i.ty()},this.yR=t,this.AR(),this.dR=((n=Or&&Or.document&&Or.document.createElement("div")).className="theoplayer-poster",qr(jE,n),n),t._y.appendChild(this.dR)}var n=t.prototype;return n.xh=function(){var t=this.yR.H_,n=this.qB;this.cv?this.dR.style.backgroundImage='url("'+this.cv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.dR.style.backgroundImage="",t&&this.cv&&!n?this.Kw():this.ty()},n.Kw=function(){qr(QE,this.yR._y),qr(YE,this.dR)},n.ty=function(){qr(QE,this.dR),qr(YE,this.yR._y)},n.AR=function(){this.yR.Oo("sourcechange",this.jB),this.yR.Oo("play",this.$b)},n.Pv=function(){this.yR.Lo("sourcechange",this.jB),this.yR.Lo("play",this.$b),Vr(this.dR)},L(t,[{key:"cv",get:function(){return void 0!==this.zB?this.zB:void 0!==this.GB?this.GB:void 0}},{key:"QB",set:function(t){this.GB=t,this.xh()}}]),t}();function JE(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).yR=void 0,e.YB=void 0,e.ZB=void 0,e.JB=void 0,e.$B=void 0,e.KB=void 0,e.tL=void 0,e.nL=void 0,e.pR=void 0,e.kR=void 0,e.Zd=void 0,e.iL=function(t){t.type!==Zo.hc&&e.nL.push(t)},e.YB=new t(i,r),e.ZB=new zE,e.yR=e.YB,e.JB=new ZE(en(e)),e.KB=new VE,e.tL=!1,e.nL=[],e.pR=!0,e.kR=void 0,e.AR(),e}U(i,n);var r=i.prototype;return r.XB=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.KB.XB(n,i).catch(vs));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.rL=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(i),this.YB.Po(this.iL),t.next=4,this.YB.Gw(n,i);case 4:this.YB.Fo(this.iL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.eL=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.zw())&&!ZA(n)&&this.Lw&&this.H_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Vh.mutedAutoplay,t.next=6,this.pB.sL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.uL(),t.abrupt("break",14);case 12:return(this.F_||i===Ll.ALL)&&(this.F_=!0,this.Xw()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Gw=function(t){var n=this,i=this.kR;i&&!ZA(i)&&this.Do(new xl(0,0)),this.Il(),this.kR=t,ys(this.XB(function(){var i=T.coroutine(le.mark(function i(r){return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return cs(r),i.prev=1,i.next=4,n.rL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.kR=void 0,i.t0;case 10:return i.next=12,n.oL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.oL=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hL(this.YB),this.Do(new qE(this.zw())),t.next=4,this.eL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Cx=function(t){this.yR.B_=t},r.Px=function(){return this.YB.Go},r.Bx=function(){return this.YB.U_},r.Xw=function(){this.yR.Xw()},r.uL=function(){this.F_||this.Zw(),this.Xw()},r.Zw=function(){this.YB.Zw()},r.Ww=function(){this.yR.Ww()},r.qw=function(){this.Gw(void 0)},r.Kw=function(){this.pR=!0,this.yR.Kw()},r.ty=function(){this.pR=!1,this.yR.ty()},r.mB=function(){this.YB.mB()},r.tP=function(t){this.YB.tP(t)},r.Ux=function(t){this.YB.Ux(t)},r.aL=function(t){this.$B=t,t.LB(this)},r.wI=function(){return this.YB.wI()},r.zw=function(){return this.kR},r.ny=function(){return this.YB.ny()},r.Nx=function(){return this.YB.B_},r.Dx=function(){return this.YB.L_},r.Ex=function(){return this.YB.vy},r.Wx=function(){return this.YB.Ty},r.jx=function(){return this.YB.Sy},r.Il=function(){var t=this;this.kR=void 0,rs(this.nL),this.ZB.Il(),this.hL(this.ZB),this.KB.bo(),ys(this.KB.XB(function(){var n=T.coroutine(le.mark(function n(i){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cs(i),n.next=3,t.YB.Il();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Pv=function(){var t=this;this.Do(new GE),this.JB.Pv(),this.bR(),this.Il(),ys(this.XB(T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.YB.Pv();case 2:t.$B&&(t.$B.Oh(t),t.$B=void 0),t.KB.Pv();case 4:case"end":return n.stop()}},n)})))),this.Bo()},r.hL=function(t){if(this.yR!==t){var n=this.yR.H_,i=this.yR.B_,r=this.yR.V_,e=this.yR.X_;this.bR(),t===this.YB?((e||t.B_!==i)&&(t.B_=i),t.V_!==r&&(t.V_=r),n?t.Ww():t.Xw()):this.Vh.retainPlaybackRateOnSourceChange?t.V_=r:1!==r&&this.Do(new Vl(this.Nx(),1)),this.yR=t,this.AR();for(var s=0,u=this.nL;s<u.length;s++){var o=u[s];this.Do(o)}rs(this.nL),this.pR?t.Kw():t.ty()}},r.AR=function(){this.yR.Po(this.Co)},r.bR=function(){this.yR.Fo(this.Co)},r.$d=function(){return t=this,r=function(n){i=n;var r=ub(n,t.Vh);t.Gw(r)},e={get abr(){return t.kB.Jd},get audioTracks(){return t.Uw.Jd},get autoplay(){return t.Lw},set autoplay(n){t.Lw=Boolean(n)},get buffered(){return t.Ex()},get canvas(){return t.eB.Jd},get clip(){return t.yB.Jd},get currentProgramDateTime(){var n;return null!=(n=t.ly)?n:null},set currentProgramDateTime(n){t.ly=null!=n?n:void 0},get currentTime(){return t.Nx()},set currentTime(n){t.Cx(Number(n))},get duration(){return t.Dx()},get element(){return t._y},get ended(){return t.M_},get error(){return t.Px()},get errorObject(){return t.Bx()},get loop(){return t._P._P},set loop(n){t._P._P=Boolean(n)},get metrics(){return t.Sw.Jd},get muted(){return t.F_},set muted(n){t.Ux(n)},get network(){return t.TB.Jd},get paused(){return t.H_},get playbackRate(){return t.V_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.V_=i},get played(){return t.Wx()},get poster(){return t.cL},set poster(n){t.cL=Hd(n)},get preload(){return t.Ey},set preload(n){t.Ey=n},get presentation(){return t.sB.Jd},get readyState(){return t.Kl},get seekable(){return t.jx()},get seeking(){return t.X_},get source(){return i},set source(t){r(t)},get src(){return JA(t.zw())},set src(t){r({sources:t})},get textTracks(){return t.Hw.Jd},get textTrackStyle(){return t.EB.Jd},get uid(){return t.Vl},get videoHeight(){return t.W_},get videoTracks(){return t.Fw.Jd},get videoWidth(){return t.q_},get volume(){return t.z_},set volume(n){t.tP(Number(n))},destroy:function(){t.Pv(),t=null,i=void 0},play:function(){t.uL()},pause:function(){t.Ww()},stop:function(){i=void 0,t.qw()},prepareWithUserAction:function(){t.Zw()},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)},setSource:function(t){r(t)}},(n=new yA(e,!0)).VI(t),e;var t,n,i,r,e},L(i,[{key:"rB",get:function(){return this.YB.rB}},{key:"eB",get:function(){return this.YB.eB}},{key:"Vh",get:function(){return this.YB.Vh}},{key:"iB",get:function(){return this.YB.iB}},{key:"zd",get:function(){return this.YB.zd}},{key:"FS",get:function(){return this.YB.oB}},{key:"sB",get:function(){return this.YB.sB}},{key:"uB",get:function(){return this.YB.uB}},{key:"yP",get:function(){return this.YB.yP}},{key:"kB",get:function(){return this.YB.kB}},{key:"Lw",get:function(){return this.YB.Lw},set:function(t){this.YB.Lw=t,this.eL()}},{key:"pB",get:function(){return this.YB.pB}},{key:"Uw",get:function(){return this.YB.Uw}},{key:"AB",get:function(){return this.YB.AB}},{key:"bB",get:function(){return this.YB.uB}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"Vw",get:function(){return this.YB.Vw}},{key:"Sw",get:function(){return this.YB.Sw}},{key:"TB",get:function(){return this.YB.TB}},{key:"Hw",get:function(){return this.YB.Hw}},{key:"EB",get:function(){return this.YB.EB}},{key:"Fw",get:function(){return this.YB.Fw}},{key:"yB",get:function(){return this.YB.yB}},{key:"_P",get:function(){return this.YB._P}},{key:"ly",get:function(){return this.yR.ly},set:function(t){this.yR.ly=t}},{key:"hy",get:function(){return this.YB.hy}},{key:"_y",get:function(){return this.YB._y}},{key:"M_",get:function(){return this.YB.M_}},{key:"F_",get:function(){return this.YB.F_},set:function(t){this.YB.F_=t}},{key:"H_",get:function(){return this.yR.H_}},{key:"cL",get:function(){return this.JB.cv||""},set:function(t){this.JB.QB=t}},{key:"V_",get:function(){return this.YB.V_},set:function(t){this.yR.V_=t}},{key:"Ey",get:function(){return this.YB.Ey},set:function(t){this.YB.Ey=Wp(t)}},{key:"Kl",get:function(){return this.yR.Kl}},{key:"X_",get:function(){return this.yR.X_}},{key:"Vl",get:function(){return this.YB.Vl}},{key:"W_",get:function(){return this.YB.W_}},{key:"q_",get:function(){return this.YB.q_}},{key:"z_",get:function(){return this.YB.z_},set:function(t){this.YB.z_=t}}]),i}(sl)}function $E(t,n){var i=Kl(n),r=new(WE||(WE=OE(WE=JE(IE),bE.SB),WE=OE(WE,bE.RB)),WE)(t,i),e=r.Jd;return r.mB(),r.aL(HE),d.defineProperty(e,"constructor",{value:$E}),e=Cd(e),function(t){for(var n=0;n<xE.length;n++)(0,xE[n])(t)}(r),e}ws(function(){t.dispatchEvent&&t.dispatchEvent(LE("theoplayerready"))});var KE,tS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return zs(t)},n.decode=function(t){return Ws(t)},t}())},nS=HE.Jd,iS=Sm.zT.registerContentProtectionIntegration.bind(Sm.zT),rS=(Zo.uc,Zo.sc,Ol.P_,Zo.mc,Zo.oc,Zo.tc,Zo.vc,Zo.fc,Zo.Ja,Zo.hc,Zo.kc,Zo.Ya,Ol.ll,Zo.cc,Yd.Zl,Es.jo,Es.Yo,Zo.Ga,Zo.za,Zo.pc,{fL:!1,vL:50}),eS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.GN="dL"}(KE||(KE={}));var sS,uS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this).da=void 0,s.KE=void 0,s.Ea=void 0,s.lL=!1,s._L=new Yu,s.gL=!1,s.KB=new VE,s.wL=void 0,s.uo=void 0,s.Fh=void 0,s.yL=function(){s.gL=!0},s.mL=function(){s.kL(!0)},s.da=n,s.KE=i,s.Ea=i.ES,s.wL=r,s.uo=e,s.Ea.addEventListener("loadeddata",s.yL);for(var u=0;u<eS.length;u++){var o=eS[u];s.Ea.addEventListener(o,s.mL)}return s}U(i,t);var r=i.prototype;return r.pL=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uo.ao(n.to,i);case 2:return r=t.sent,t.next=5,r.Qh();case 5:return e=t.sent,t.next=8,this.AL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.bL=function(t){var n=this.Fh;return n?0!==t.NS.length&&t.NS.some(function(t){return t.Hh.to===n.Hh}):0===t.NS.length||!this.gL},r.TL=function(t){return this.wL.TL(t),this.da=t,T.resolve()},r.wo=function(){var t=T.coroutine(le.mark(function t(){var n,i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Bo(),this.Ea.removeEventListener("loadeddata",this.yL),n=0;n<eS.length;n++)i=eS[n],this.Ea.removeEventListener(i,this.mL);return t.next=5,this.KB.Pv();case 5:return t.next=7,this.EL();case 7:return t.next=9,this.wL.Il();case 9:return t.next=11,this.AL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.kL=function(t){t!==this.lL&&(this.lL=t,t?this._L._h(void 0):this._L=new Yu)},r.AL=function(t){var n=this;return this.KB.XB(function(){return n.SL(t)})},r.SL=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ea.src){t.next=4;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ea.src){t.next=6;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.lL){t.next=9;break}return t.next=9,this._L.lh;case 9:if(!(r=this.Fh)){t.next=14;break}return t.next=13,r.zh(this.Ea);case 13:this.Fh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.qh(this.Ea);case 17:this.Fh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Gw=function(t){var n=this;return this.KB.XB(function(){return n.RL(t)})},r.RL=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kL(!1),i=this.KE.V_,this.Ea.src=n,this.KE.V_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Dh=function(){var t=this;return this.KB.XB(function(){return t.Cd()})},r.Cd=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ea.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.EL=function(){var t=this;return this.KB.XB(function(){return t.IL()})},r.IL=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.kL(!1),Qr(this.Ea);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"Uw",get:function(){throw new f("Not implemented")}},{key:"Vh",get:function(){return this.da}},{key:"ES",get:function(){return this.Ea}},{key:"Fw",get:function(){throw new f("Not implemented")}}]),i}(Ss),oS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i._x=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Vh,t.t0=n.DS,t.next=t.t0===cl.y_?4:t.t0===cl.m_?4:(t.t0,cl.k_,6);break;case 4:return this.Ea.setAttribute("crossorigin",n.DS),t.abrupt("break",8);case 6:return this.Ea.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Ey?this.Ea.preload=n.Ey:this.Ea.preload=Vp.WE,void 0!==n.OS?this.Ea.title=n.OS:Gr(this.Ea),t.next=12,this.Gw(n.i_);case 12:this.wL.Dh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bL=function(t){return!1},i.TL=function(t){return T.resolve(void 0)},i.wo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Gr(this.Ea),n.next=3,t.prototype.wo.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.NL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.qf))},L(n,[{key:"vy",get:function(){return Yp.vI(this.Ea.buffered)}},{key:"L_",get:function(){return this.Ea.duration}},{key:"CL",get:function(){var t=this.L_;if(!isFinite(t))return!1;var n=this.vy;return 0!==n.Cl&&t-n.OR(n.Cl-1)<1/6}},{key:"Ey",get:function(){return this.Ea.preload},set:function(t){this.Ea.preload=t}},{key:"Sy",get:function(){return Yp.vI(this.Ea.seekable)}},{key:"DL",get:function(){return this.vy}},{key:"OL",get:function(){if(jr(this.Ea)&&(this.Ea.videoWidth>0||this.Ea.videoHeight>0))return this.vy}}]),n}(uS),hS=function(t){function n(n){var i;return(i=t.call(this,Zo.oc)||this).currentTime=n,i}return U(n,t),n}(Is),aS=function(t){function n(){return t.call(this,Zo.tc)||this}return U(n,t),n}(Is);!function(t){t.xL="PL"}(sS||(sS={}));var cS,fS;sS.xL;!function(t){t[t.BL=0]="BL",t[t.Sc=1]="Sc",t[t.LL=2]="LL"}(cS||(cS={})),function(t){t.ML="UL"}(fS||(fS={}));var vS=function(t){function n(n){var i;return(i=t.call(this,fS.ML)||this).FL=n,i}return U(n,t),n}(Is),dS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).HL=Yp._I(),n}U(n,t);var i=n.prototype;return i.VL=function(t,n){var i=new Yp([t,n]);this.HL=this.HL.JR(i),this.Do(new vS(i))},i.XL=function(t,n){this.HL=this.HL.KR(new Yp([t,n]))},i.Il=function(){this.HL=Yp._I()},i.Pv=function(){this.Bo()},L(n,[{key:"WL",get:function(){return this.HL}}]),n}(Ss),lS=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.qL=function(t,n,i){return T.reject(new f("Invalid state"))},i.zL=function(){return T.reject(new f("Invalid state"))},i.GL=function(t,n){return T.reject(new f("Invalid state"))},i.CL=function(){return!1},i.jL=function(){},i.QL=function(){},i.YL=function(t,n){},i.ZL=function(t,n){},i.Oh=function(t,n,i){return T.resolve()},i.JL=function(t,n){return T.reject(new f("Invalid state"))},i.$L=function(t){},i.KL=function(t){},i.tM=function(t){return!1},i.nM=function(t){},i.Pv=function(){return T.resolve()},L(n,[{key:"vy",get:function(){return Yp._I()}},{key:"iM",get:function(){return!1}},{key:"rM",get:function(){return Yp._I()}},{key:"eM",get:function(){return!1}},{key:"aO",get:function(){return!1}}]),n}(Ss),_S=function(){function t(t,n){this.sM=void 0,this.uM=void 0,this.oM=void 0,this.sM=n,this.uM=t}var n=t.prototype;return n.CL=function(){return!!this.oM&&this.vy.FR().zS(this.oM)},n.jL=function(){var t=this.vy;this.oM=t.Cl>0?t.OR(t.Cl-1):0,this.sM.hM()},n.QL=function(){this.oM=void 0},L(t,[{key:"vy",get:function(){if(this.sM.Kl===OS.aM)return Yp._I();var t=Yp.vI(this.uM.buffered).zR(new Yp([0,1/0])),n=this.oM;return void 0!==n&&t.Cl>0&&t.OR(t.Cl-1)===n&&(t=t.JR(Yp.lI(n))),t}}]),t}();function gS(t,n){return void 0===n&&(n=new zc({highWaterMark:1/0})),new Lc(new wS(t,n),{highWaterMark:0})}var wS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Mc=void 0,this.cM=void 0,this.fM=void 0,this.Fn=[],this.jc=0,this.WP=void 0,this.vM=!1,this.dM=void 0,this.lM=function(t){return t.done?(i.Xn(),void i.WP.close()):(i.Fn.push(t.value),i.jc+=i.cM(t.value),i.vM&&i.Xn(),i._M()?i.Mc.read().then(i.lM):void 0)},this.gd=function(t){i.Xn(),i.WP.error(t)},this.Mc=t.getReader(),this.cM=e,this.fM=u}var n=t.prototype;return n.start=function(t){this.WP=t,this._M()&&this.gM()},n.pull=function(){this.Fn.length>0?this.Xn():this.vM=!0,this._M()&&this.gM()},n.cancel=function(t){return rs(this.Fn),this.jc=0,this.vM=!1,this.Mc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.jc=0,this.vM=!1,this.WP.enqueue(t)}},n._M=function(){return!!this.vM||this.fM-this.jc>0},n.gM=function(){var t=this;if(!this.dM){var n=this.Mc.read().then(this.lM).catch(this.gd);this.dM=n;var i=function(){t.dM===n&&(t.dM=void 0)};n.then(i,i)}},t}(),yS=20,mS=Q.Pe,kS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).wM=void 0,e.yM=void 0,e.uM=void 0,e.hx=yS,e.ax=VT,e.mM=!1,e.kM=!1,e.pM=void 0,e.AM=new os,e.bM=!1,e.TM=void 0,e.EM=function(){e.mM=!1},e.wM=i,e.yM=n,e.uM=r,e.uM.addEventListener("updateend",e.EM),e}U(n,t);var i=n.prototype;return i.qL=function(t,n,i){var r=this;switch(t.Ku){case cS.BL:case cS.Sc:return this.SM(function(i){return r.RM(t,n,i)},i);case cS.LL:throw new f("Opaque segments are not supported on web.")}},i.GL=function(t,n){var i=this;switch(t.Ku){case cS.BL:return this.SM(function(n){return i.IM(t,n)},n);case cS.Sc:throw new f("Streaming initialization segments are not supported on web.");case cS.LL:throw new f("Opaque initialization segments are not supported on web.")}},i.IM=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.NM(n,void 0,i);case 2:mS&&(this.bM=!1,this.TM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.RM=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(mS&&this.bM&&this.TM)){t.next=3;break}return t.next=3,this.IM(this.TM,r);case 3:return t.prev=3,cs(r),t.next=7,this.NM(n,i,r);case 7:this.Do(new Is(sS.xL));case 8:return t.prev=8,n.Ku===cS.Sc&&n.Ds.cancel(new hs).catch(S),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.NM=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:cs(r),i&&this.CM(i),t.t0=n.Ku,t.next=t.t0===cS.BL?5:t.t0===cS.Sc?8:11;break;case 5:return t.next=7,this.DM(n.Ds);case 7:return t.abrupt("return",t.sent);case 8:return t.next=10,this.OM(n.Ds,r);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.OM=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.yM.vy,e=gS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,ds(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return cs(i),h=Ys(o.value),u=!0,t.next=17,this.DM(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(S),!u){t.next=35;break}return t.next=27,this.xM();case 27:a=this.yM.vy.zR(r.GR()),c=0;case 29:if(!(c<a.Cl)){t.next=35;break}return t.next=32,this.PM(a.NR(c),a.OR(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.JL=function(t,n){var i=this;return this.SM(function(){return i.BM(t,n)})},i.BM=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.uM.appendWindowStart===n&&this.uM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.xM();case 3:this.uM.appendWindowStart=0,this.uM.appendWindowEnd=i,this.uM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CM=function(t){this.uM.timestampOffset!==t.bm&&(this.uM.timestampOffset=t.bm)},i.DM=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uM.appendBuffer(n),this.kM=!0,t.next=4,this.LM();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.MM=function(t,n,i){var r=this;return this.SM(function(i){return r.PM(t,n,i)},i)},i.PM=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(r),this.uM.remove(n,i),t.next=4,this.LM();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.LM=function(){var t=this,n=this.yM.vy;return new T(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.sI(t.yM.vy)||t.Do(new Is(sS.xL)),i()):r(new f(e))},c=function(){t.uM.removeEventListener("update",u),t.uM.removeEventListener("error",o),t.uM.removeEventListener("abort",h),t.uM.removeEventListener("updateend",a)};t.uM.addEventListener("update",u),t.uM.addEventListener("error",o),t.uM.addEventListener("abort",h),t.uM.addEventListener("updateend",a)})},i.UM=function(){var t=this;return this.SM(function(){return t.xM()})},i.xM=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.wM.Kl===OS.Xv){t.next=2;break}return t.abrupt("return");case 2:mS&&(this.bM=!0),this.uM.updating&&(this.mM=!0);try{this.uM.abort()}catch(t){0,this.mM=!1}if(!this.aO){t.next=8;break}return t.next=8,this.LM().catch(S);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tM=function(t){return!!MediaSource.isTypeSupported(t)&&"function"==typeof this.uM.changeType},i.nM=function(t){this.FM(),this.wM.Kl!==OS.aM&&this.uM.changeType&&this.uM.changeType(t)},i.QL=function(){this.wM.Kl!==OS.Ja||this.pM||this.aO||(this.uM.timestampOffset=this.uM.timestampOffset,this.wM.HM())},i.SM=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.FM(),(r=new os).To(this.AM.So),i&&r.To(i),t.prev=4,this.pM=n(r.So),t.next=8,this.pM;case 8:if(this.wM.HM(),!this.aO){t.next=12;break}return t.next=12,this.LM();case 12:return t.prev=12,this.pM=void 0,r.wo(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.FM=function(){if(this.pM)throw new f("Internal error")},i.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bo(),this.AM.bo(),!this.pM){t.next=6;break}return t.next=5,this.pM.catch(S);case 5:this.pM=void 0;case 6:this.uM.removeEventListener("updateend",this.EM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"eM",get:function(){return this.kM}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t}},{key:"sx",set:function(t){this.ax=t}},{key:"aO",get:function(){return this.mM||this.uM.updating}}]),n}(Ss);function pS(t,n,i,r){var e=new _S(t,n),s=new kS(e,n,t);return new AS(e,s,r)}var AS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).yM=n,e.VM=i,e.XM=r,e.VM.Oo(sS.xL,e.Co),e}U(n,t);var i=n.prototype;return i.CL=function(){return this.yM.CL()},i.jL=function(){this.yM.jL()},i.QL=function(){this.yM.QL(),this.VM.QL()},i.YL=function(t,n){this.XM.VL(t,n)},i.ZL=function(t,n){this.XM.XL(t,n)},i.zL=function(){return this.VM.UM()},i.qL=function(t,n,i){return this.VM.qL(t,n,i)},i.GL=function(t,n){return this.VM.GL(t,n)},i.Oh=function(t,n,i){return this.ZL(t,n),this.VM.MM(t,n,i)},i.JL=function(t,n){return this.VM.JL(t,n)},i.$L=function(t){this.VM.tx=t},i.KL=function(t){this.VM.sx=t},i.tM=function(t){return this.VM.tM(t)},i.nM=function(t){this.VM.nM(t)},i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.VM.Lo(sS.xL,this.Co),t.next=3,this.VM.wo();case 3:this.XM.Pv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"vy",get:function(){return this.yM.vy}},{key:"iM",get:function(){return!0}},{key:"rM",get:function(){return this.XM.WL}},{key:"eM",get:function(){return this.VM.eM}},{key:"aO",get:function(){return this.VM.aO}}]),n}(Ss),bS=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).wM=void 0,u.da=void 0,u.WM=void 0,u.KE=void 0,u.ca=void 0,u.XM=void 0,u.uM=void 0,u.Uc=void 0,u.hx=void 0,u.ax=void 0,u.wM=n,u.da=r,u.ca=r.qf,u.WM=e,u.KE=i,u.Uc=new lS,u.Uc.Oo(sS.xL,u.Co),u.hx=yS,u.ax=VT,u.XM=s,u}U(n,t);var i=n.prototype;return i.CL=function(){return this.Uc.CL()},i.jL=function(){return this.Uc.jL()},i.QL=function(){return this.Uc.QL()},i.YL=function(t,n){this.Uc.YL(t,n)},i.ZL=function(t,n){this.Uc.ZL(t,n)},i.zL=function(){return this.Uc.zL()},i.qL=function(t,n,i){return this.Uc.qL(t,n,i)},i.GL=function(t,n){return this.Uc.GL(t,n)},i.JL=function(t,n){return this.Uc.JL(t,n)},i.Oh=function(){var t=T.coroutine(le.mark(function t(n,i,r){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uc.Oh(n,i,r);case 2:Q.Ue&&this.KE.oh(this.KE.B_);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.By=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.iM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.Ab(i);case 5:t.next=9;break;case 7:return t.next=9,this.bb(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ab=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,cs(n),TS(this.uM,!0),t.next=5,this.qM(this.uM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),cs(n),t.next=12,this.wM.zM(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.bb=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.uM,t.prev=1,cs(n),t.next=5,this.Il();case 5:TS(i,!1),this.uM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),cs(n),t.next=14,this.wM.GM(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.Uc).Lo(sS.xL,this.Co),t.next=4,i.Pv();case 4:this.Uc=n,this.Uc.$L(this.hx),this.Uc.KL(this.ax),this.Uc.Oo(sS.xL,this.Co);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qM=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uM=n,t.next=3,this.setState(pS(n,this.wM,this.WM,this.XM));case 3:this.Do(new Is("Fl"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bL=function(t){var n=t.qf;if(this.ca!==n){if(!MediaSource.isTypeSupported(n))return!1;if(!this.Uc.tM(n)){if(this.WM!==F_.Ev)return!1;var i=ho(this.ca),r=ho(n);if(i.Ku!==r.Ku)return!1;if(!function(t,n){var i=t.Jh("codecs"),r=n.Jh("codecs");if(i&&r){var e=i.split(".",1)[0],s=i.split(".",1)[0];return e===s}return!i&&!r}(i,r))return!1}}return!0},i.TL=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.qf,this.ca!==i&&(this.Uc.tM(i)&&this.Uc.nM(i),this.ca=i),this.da=n,this.wM.jM();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XM.Il(),this.uM=void 0,t.next=4,this.setState(new lS);case 4:this.Do(new Is("QM"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Bo(),t.next=4,this.Il();case 4:this.Uc.Lo(sS.xL,this.Co),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"vy",get:function(){return this.Uc.vy}},{key:"Vh",get:function(){return this.da}},{key:"qf",get:function(){return this.ca}},{key:"rM",get:function(){return this.Uc.rM}},{key:"eM",get:function(){return this.Uc.eM}},{key:"tx",get:function(){return this.hx},set:function(t){this.hx=t,this.Uc.$L(t)}},{key:"sx",get:function(){return this.ax},set:function(t){this.ax=t,this.Uc.KL(t)}},{key:"aO",get:function(){return this.Uc.aO}},{key:"iM",get:function(){return this.Uc.iM}}]),n}(Ss);function TS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new f("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var s=0;s<r.length;s++)r[s].selected!==n&&(r[s].selected=n)}var ES=100,SS=1e3,RS=1e4,IS=.01,NS=[Zo.uc,Zo.sc,Zo.vc,Zo.fc,Zo.Ja,Zo.hc,Ol.ll,Yd.Zl],CS=function(){function t(t,n){var i=this;this.Xb=ll.T_,this.YM=!1,this.ZM=[],this.JM=void 0,this.$M=0,this.KM=0,this.tU=0,this.nU=0,this.iU=0,this.rU=SS,this.eU=function(t){var n=i.KE.B_;t.FL.zS(n)&&i.sU(n)},this.uU=I(function(){i.oU(Ol.ll)},ES),this.hU=I(function(){i.oU(Zo.oc)},ES),this.aU=function(){i.cU()?i.fU():i.vU()},this.dU=function(){var t=i.$M,n=i.tU,r=i.KE.B_,e=b.du(),s=t!==r;if(s||!i.cU())return i.$M=r,i.tU=e,void(s&&(i.iU=0,i.rU=SS));if(n>0&&e>n+i.rU){var u=r+i.iU*IS,o=i.yM.vy;o.zS(u)||(u=i.lU(r,o)),i.$M=u,i.tU=e,i.iU++,i.rU=l.min(2*i.rU,RS),i.KE.oh(u)}},this.yM=t,this.KE=n,this.KE.Oo(Ol.ll,this.uU),this.KE.Oo(Zo.oc,this.hU),this.KE.Oo(NS,this.aU)}var n=t.prototype;return n._U=function(t){this.ZM.push(t),t.Oo(fS.ML,this.eU)},n.Pv=function(){var t=this;this.vU(),this.Xb=ll.T_,this.KE.Lo(Ol.ll,this.uU),this.KE.Lo(Zo.oc,this.hU),this.KE.Lo(NS,this.aU),this.ZM.forEach(function(n){return n.Lo(fS.ML,t.eU)}),void 0!==this.JM&&(b.sr(this.JM),this.JM=void 0),this.YM=!0},n.oU=function(t){if(!this.YM){var n=this.KE.Kl;if(n<=ll.S_){var i=this.KE.B_,r=this.yM.vy,e=r.tI(i),s=r.OR(e);-1!==e&&(t===Ol.ll&&n<this.Xb||t===Zo.oc&&n===this.Xb)&&s<i+.5&&(i=s),this.sU(i)}t===Ol.ll&&(this.Xb=n)}},n.sU=function(t){var n=this;if(!this.KE.M_){var i=this.WL.KR(this.yM.vy).FR(),r=i.tI(t);if(-1!==r)if(!(l.abs(i.NR(r)-i.OR(r))<=.001))if(b.Ud){if(void 0!==this.JM)return;this.KM=this.KE.B_,this.JM=b.ur(function(){n.KM===n.KE.B_&&n.KE.oh(i.OR(r)),n.JM=void 0},1500)}else this.KE.oh(i.OR(r))}},n.fU=function(){0===this.nU&&(this.nU=b.Au(this.dU,250))},n.vU=function(){0!==this.nU&&(b.bu(this.nU),this.nU=0),this.KE.X_||(this.tU=0)},n.cU=function(){return!this.KE.H_&&!this.KE.X_&&0!==this.KE.V_&&!this.KE.M_&&!this.KE.Go&&this.KE.Kl>=ll.R_},n.lU=function(t,n){var i=n.tI(t);return i>-1?n.OR(i):t},L(t,[{key:"WL",get:function(){return this.ZM.reduce(function(t,n){return t.JR(n.WL)},Yp._I())}}]),t}();function DS(t){var n=[];if(t.gU&&t.gU.iM&&n.push(t.gU.vy),t.wU&&t.wU.iM&&n.push(t.wU.vy),0===n.length)return Yp._I();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Cl>0&&(i=l.max(i,e.OR(e.Cl-1)))}for(var s=t.CL,u=new Yp([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Cl>0&&(h=h.JR(new Yp([h.OR(h.Cl-1),i],[!0,!0]))),u=u.zR(h)}return u}var OS,xS=Q.Ie||Q.Ne,PS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.yU=void 0,this.wb=t,this.yb=n,this.mU=i,this.kU=r,this.yU=Ub()}return t.prototype.pU=function(){var t=this.wb,n=this.yb;if(this.mU||this.kU){var i=.001*(Ub()-this.yU);this.mU&&(t+=i),this.kU&&(n+=i)}return t>=n?Yp._I():new Yp([t,n])},L(t,[{key:"AU",get:function(){return this.mU}},{key:"bU",get:function(){return this.kU}}]),t}();!function(t){t.aM="closed",t.Xv="open",t.Ja="ended"}(OS||(OS={}));var BS=function(){function t(){}return t.prototype.TU=function(){return new MediaSource},t}(),LS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new BS),(u=t.call(this,n,i,r,e)||this).EU=void 0,u.SU=void 0,u.RU=void 0,u.IU=new PS(0,1/0),u.tS=void 0,u.NU=void 0,u.CU=void 0,u.DU=!1,u.OU=function(){u.xU()},u.PU=function(){u.KE.PU()},u.EU=s,u.tS=u.EU.TU(),u.KE.Oo(Zo.vc,u.OU),u.CU=new CS(en(u),u.KE),u}U(n,t);var i=n.prototype;return i.BU=function(t){if(w(t)||t<0)throw new f("Invalid duration");this.LU()?this.MU(t):this.NU=t},i.MU=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.tS.setLiveSeekableRange){var r=l.pow(2,39);this.tS.setLiveSeekableRange(0,r)}this.tS.duration=i,this.NU=void 0},i.UU=function(t,n,i,r){this.IU=new PS(t,n,!!i,!!r)},i._x=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.da,i=Je(n.FU,function(t){return mr(t.qf,"audio")}),r=Je(n.FU,function(t){return mr(t.qf,"video")}),i&&(e=new dS,this.CU._U(e),this.SU=new bS(this,this.KE,i,F_.Tv,e),this.SU.Oo(sS.xL,this.PU)),r&&(s=new dS,this.CU._U(s),this.RU=new bS(this,this.KE,r,F_.Ev,s),this.RU.Oo(sS.xL,this.PU)),t.next=7,this.HU();case 7:if(!this.SU){t.next=13;break}return t.next=10,this.VU(this.SU.qf);case 10:return u=t.sent,t.next=13,this.SU.qM(u);case 13:if(!this.RU){t.next=19;break}return t.next=16,this.VU(this.RU.qf);case 16:return o=t.sent,t.next=19,this.RU.qM(o);case 19:this.wL.Dh(this,n);case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HU=function(){var n=T.coroutine(le.mark(function n(){var i;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.tS),n.next=3,t.prototype.Gw.call(this,i);case 3:return n.next=5,t.prototype.Dh.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.VU=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Kl===OS.Xv){t.next=3;break}return t.next=3,dd(this.tS,"sourceopen");case 3:if(!(this.SU&&this.SU.eM||this.RU&&this.RU.eM)){t.next=6;break}throw new f("XU");case 6:return t.abrupt("return",this.tS.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.LU=function(){if(this.Kl!==OS.Xv)return!1;var t=this.SU&&this.SU.aO,n=this.RU&&this.RU.aO;return!(t||n)},i.jL=function(){this.DU=!0,this.SU&&this.SU.jL(),this.RU&&this.RU.jL(),this.DU=!1,this.xU()},i.QL=function(){this.SU&&this.SU.QL(),this.RU&&this.RU.QL()},i.bL=function(n){var i=Je(n.FU,function(t){return mr(t.qf,"audio")}),r=Je(n.FU,function(t){return mr(t.qf,"video")});if(this.SU){if(!i)return!1;if(!this.SU.bL(i))return!1}else if(i)return!1;if(this.RU){if(!r)return!1;if(!this.RU.bL(r))return!1}else if(r)return!1;return!!t.prototype.bL.call(this,n)},i.TL=function(){var n=T.coroutine(le.mark(function n(i){var r,e,s;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Je(i.FU,function(t){return mr(t.qf,"audio")}),e=Je(i.FU,function(t){return mr(t.qf,"video")}),s=[],this.SU&&s.push(this.SU.TL(r)),this.RU&&s.push(this.RU.TL(e)),n.next=7,T.all(s);case 7:return n.next=9,t.prototype.TL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.wo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.SU){n.next=4;break}return n.next=3,this.SU.wo();case 3:this.SU=void 0;case 4:if(!this.RU){n.next=8;break}return n.next=7,this.RU.wo();case 7:this.RU=void 0;case 8:return this.Ea.src&&URL.revokeObjectURL(this.Ea.src),this.KE.Lo(Zo.vc,this.OU),this.CU.Pv(),n.next=13,t.prototype.wo.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.jM=function(){var t=this,n=this.da,i=n.FU.map(function(n){return mr(n.qf,"audio")&&t.SU?t.SU.Vh:mr(n.qf,"video")&&t.RU?t.RU.Vh:n});this.da=_e({},n,{FU:i})},i.hM=function(){this.DU||this.xU()},i.xU=function(){this.WU&&this.LU()&&(this.tS.endOfStream(),this.NU=void 0,this.Do(new Is(KE.GN)),this.KE.PU())},i.zM=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.VU(n.qf);case 3:return i=t.sent,t.next=6,n.qM(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.qU).push(n),t.next=14,this.zU(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.GM=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Q.Oe){t.next=3;break}throw new f("Not supported in Firefox");case 3:this.tS.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.qU.filter(function(t){return t!==n}),t.next=11,this.zU(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.zU=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.KE.GU(),i=0,r=this.qU;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.Il();case 7:i++,t.next=2;break;case 10:return this.tS=this.EU.TU(),t.next=13,this.HU();case 13:s=0;case 14:if(!(s<n.length)){t.next=24;break}return u=n[s],t.next=18,this.VU(u.qf);case 18:return o=t.sent,t.next=21,u.qM(o);case 21:s++,t.next=14;break;case 24:this.KE.jU();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HM=function(){this.LU()&&(this.CL?this.xU():void 0!==this.NU&&this.MU(this.NU))},n.NL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.FU;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.qf))return!1}return!0},L(n,[{key:"gU",get:function(){return this.SU}},{key:"wU",get:function(){return this.RU}},{key:"qU",get:function(){var t=[];return this.SU&&this.SU.iM&&t.push(this.SU),this.RU&&this.RU.iM&&t.push(this.RU),t}},{key:"L_",get:function(){if(this.NU)return this.NU;var t=this.tS.duration;return 9007199254740991===t?1/0:t}},{key:"vy",get:function(){return xS?DS(this):(t=this,n=Yp.vI(this.Ea.buffered),(i=n).Cl>0&&t.CL&&(i=i.JR(Yp.lI(i.OR(i.Cl-1)))),i);var t,n,i}},{key:"DL",get:function(){if(this.SU&&this.SU.iM)return this.SU.vy}},{key:"OL",get:function(){if(this.RU&&this.RU.iM)return this.RU.vy}},{key:"Sy",get:function(){return this.IU.pU().zR(new Yp([0,this.L_],[!0,!0]))}},{key:"CL",get:function(){return(!this.SU||!this.SU.iM||this.SU.CL())&&(!this.RU||!this.RU.iM||this.RU.CL())}},{key:"Kl",get:function(){return this.tS.readyState}},{key:"WU",get:function(){if(!this.CL)return!1;var t=this.vy;return 0!==t.Cl&&t.NR(t.Cl-1)<=this.KE.B_}}]),n}(uS),MS=[Zo.kc,Zo.hc,Zo.vc,Zo.uc,Zo.sc],US=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).mI=n,a.QU=i,a.YU=r,a.pI=e,a.bI=s,a.kI=u,a.AI=o,a.TI=h,a}U(n,t);var i=n.prototype;return i.Ww=function(){this.pI||(this.pI=!0,this.Do(new Pl(this.B_)))},i.Xw=function(){this.pI&&(this.pI=!1,this.Do(new Bl(this.B_)))},L(n,[{key:"B_",get:function(){return this.mI},set:function(t){this.B_!==t&&(this.mI=t,this.bI=!0,this.Do(new zl(this.B_)))}},{key:"L_",get:function(){return this.QU}},{key:"M_",get:function(){return this.YU}},{key:"H_",get:function(){return this.pI}},{key:"X_",get:function(){return this.bI}},{key:"F_",get:function(){return this.kI},set:function(t){this.F_!==t&&(this.kI=t,this.Do(new jl(this.B_,this.z_)))}},{key:"V_",get:function(){return this.AI},set:function(t){this.V_!==t&&(this.AI=t,this.Do(new Vl(this.B_,this.V_)))}},{key:"z_",get:function(){return this.TI},set:function(t){this.z_!==t&&(this.TI=t,this.Do(new jl(this.B_,this.z_)))}}]),n}(Ss);var FS=function(t){function n(n){var i;return(i=t.call(this)||this).KE=void 0,i.Xb=ll.T_,i.ZU=function(){i.JU()},i.KE=n,i}U(n,t);var i=n.prototype;return i.$U=function(t){this.Xb!==t&&(this.Xb=t,this.Do(new Zl(this.KE.B_,t)))},i.JU=function(){this.$U(this.Gx())},i.Il=function(){this.$U(ll.T_)},i.wo=function(){this.Bo()},L(n,[{key:"Kl",get:function(){return this.Gx()}}]),n}(Ss),HS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],VS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<HS.length;r++){var e=HS[r];i.KE.ES.addEventListener(e,i.ZU)}return i}U(n,t);var i=n.prototype;return i.Gx=function(){var t=this.KE.ES.readyState;return t>ll.S_&&this.KE.KU?ll.S_:(this.KE.ES.seeking&&t>ll.E_&&(t=ll.E_),t)},i.wo=function(){for(var n=0;n<HS.length;n++){var i=HS[n];this.KE.ES.removeEventListener(i,this.ZU)}t.prototype.wo.call(this)},n}(FS),XS=function(t){function n(n){var i;(i=t.call(this,n)||this).KE.Oo(Zo.vc,i.ZU);for(var r=0;r<HS.length;r++){var e=HS[r];i.KE.ES.addEventListener(e,i.ZU)}return i}U(n,t);var i=n.prototype;return i.Gx=function(){if(this.KE.ES.readyState===ll.T_)return ll.T_;var t=this.tF(),n=t?t.OR-t.NR:0;if(!t)return ll.E_;var i=this.KE.V_;return this.nF()||n>=3*i?ll.I_:n>=3?ll.R_:ll.S_},i.tF=function(){var t=this.KE.B_,n=this.KE.vy.ZR(.04),i=n.tI(t);if(!(i<0))return{NR:t,OR:n.OR(i)}},i.nF=function(){if(this.KE.M_)return!0;var t=this.KE.L_,n=this.tF();return!!n&&t-n.OR<=1/6},i.wo=function(){this.KE.Lo(Zo.vc,this.ZU);for(var n=0;n<HS.length;n++){var i=HS[n];this.KE.ES.removeEventListener(i,this.ZU)}t.prototype.wo.call(this)},n}(FS),WS=[Ol.ll,Zo.uc,Zo.sc,Zo.vc,Zo.fc,Zo.Ja,Yd.Zl],qS=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ea=void 0,i.iF=!1,i.rF=function(){i.iF=!0,i.xh()},i.Ea=n.ES,i.Ea.addEventListener(Ol.P_,i.rF),i}U(n,t);var i=n.prototype;return i.eF=function(){return this.iF&&t.prototype.eF.call(this)},i.xh=function(){this.iF&&(this.Ea.paused||this.Ea.ended||this.Ea.error)&&(this.iF=!1),t.prototype.xh.call(this)},i.Il=function(){t.prototype.Il.call(this),this.iF=!1},i.wo=function(){this.Ea.removeEventListener(Ol.P_,this.rF),t.prototype.wo.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Kb=void 0,i.sF=!1,i.cO=function(){i.xh()},i.Kb=n,i.Kb.Oo(WS,i.cO),i}U(n,t);var i=n.prototype;return i.uF=function(){return this.Kb.Kl<ll.R_},i.eF=function(){return!this.Kb.X_&&!(this.Kb.H_||this.Kb.M_||this.Kb.Go||this.uF())},i.xh=function(){var t=this.sF;this.sF=this.eF(),!t&&this.sF&&this.Do(new Zy(this.Kb.B_))},i.Il=function(){this.sF=!1},i.wo=function(){this.Bo(),this.Kb.Lo(WS,this.cO)},n}(Ss)),zS=function(t){function n(n){var i;return(i=t.call(this,Yd.Zl)||this).Go=void 0,i.Go=n,i}return U(n,t),n}(Is);function GS(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function jS(t,n){return t.Gy<=n&&t.jy>n}function QS(t,n){return function(t,n){return f_(t.Gy,n.Gy,lg)}(t,n)||function(t,n){return f_(t.jy,n.jy,lg)}(t,n)}function YS(t,n){var i=GS(t,n,R,QS,!0);if(i<0)return i;for(;i<t.length&&QS(n,t[i])===r_.G_;i++)if(t[i].eg(n))return i;return-(i+1)}function ZS(t){var n=t.Kd;if(!n)return-1;if(t instanceof gg)return n.oF(t);var i=n.t_;if(!i)return-1;var r=YS(i.Nl,t);return r>=0?r:-1}function JS(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{hF:o,aF:h}}(t,n,QS);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var $S=function(){function t(t){this.cF=void 0,this.Zd=void 0,this.cF=t}var n=t.prototype;return n.$d=function(){return function(t){for(var n=[],i=0;i<t.Cl;i++)n[i]=t.th(i).Jd;return n.item=function(n){var i=0|n,r=t.th(i);return r&&r.Jd||void 0},d.defineProperty(n,"constructor",{value:vg}),n}(this)},n.Iy=function(t){for(var n=this.cF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.eg(r))return!0}return!1},n.th=function(t){return this.cF[t]},L(t,[{key:"Nl",get:function(){return this.cF}},{key:"Cl",get:function(){return this.cF.length}},{key:"Jd",get:function(){if(this.Zd){var t=this.cF;this.Zd.length=t.length;for(var n=0;n<t.length;n++)this.Zd[n]=t[n].Jd}else this.Zd=this.$d();return this.Zd}}]),t}(),KS=function(t){function n(n,i){var r;return(r=t.call(this,md.ll)||this).Kd=n,r.Kl=i,r}return U(n,t),n.prototype.$d=function(){return new tR(this.Kd.Jd,il(this.Kl))},n}(kd),tR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return U(n,t),n}(pd),nR=function(t){function n(n){var i;return(i=t.call(this,md.gl)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new iR(this.Kd.Jd)},n}(kd),iR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return U(n,t),n}(pd),rR=function(t){function n(n){var i;return(i=t.call(this,md.tl)||this).zy=n,i}return U(n,t),n.prototype.$d=function(){return new eR(this.zy.Jd)},n}(kd),eR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return U(n,t),n}(pd),sR=function(t){function n(n){var i;return(i=t.call(this,md.il)||this).zy=n,i}return U(n,t),n.prototype.$d=function(){return new uR(this.zy.Jd)},n}(kd),uR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return U(n,t),n}(pd),oR=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).Zd=void 0,h.Cy=void 0,h.Oy=z_(),h.fF=!1,h.vF=void 0,h.dF=void 0,h.Dy=void 0,h.lF=void 0,h.WI=Qd.jl,h._F=$_.NONE,h.gF=void 0,h.xs=void 0,h.cF=[],h.wF=[],h.yF=void 0,h.mF=void 0,h.kF=0,h.pF=0,h.Cy=i||"",h.vF=o||"",h.dF=n,h.lF=e||"",h.fF=Boolean(s),h.xs=u||K_.DEFAULT,h.Dy=r||"",h.yF=new $S(h.cF),h.mF=new $S(h.wF),h}U(n,t);var i=n.prototype;return i.AF=function(t){return Je(this.yF.Nl,function(n){return n.Hl===t})},i.$d=function(){return Kd(this)},i.eN=function(t){var n=Jd(t);n!==this.$l&&(this.WI=n,n===Qd.jl&&(this.wF.forEach(function(t){t.vm=!1}),rs(this.wF),this.pF=0))},i.Mb=function(t){if(t&&!t.Kd){var n=YS(this.t_.Nl,t);if(!(n>=0)){t.Kd=this;var i=-(n+1);this.cF.splice(i,0,t),this.bF(i),t.fm=i,i<this.pF&&(this.pF=i),this.Do(new rR(t))}}},i.TF=function(t){if(t&&t.Kd===this){var n=this.oF(t);if(!(n<0)){t.vm=!1;var i=this.wF,r=YS(i,t);r>=0&&ts(i,r),ts(this.cF,n),this.bF(n),t.fm=-1,this.pF>n&&--this.pF,this.Do(new sR(t))}}},i.EF=function(t,n){var i=this.wF,r=this.cF,e=this.pF,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){jS(i[u],t)||(s=!0,ts(i,u))}for(;e<r.length&&r[e].Gy<=t;){var o=r[e];if(0===t)break;jS(o,t)&&!ns(i,o)&&(s=!0,i.push(o)),e++}s&&Qe(i,QS),this.pF=e},i.oF=function(t){return(-1===t.fm||t.fm>=this.kF)&&this.SF(),t.fm},i.SF=function(){for(var t=this.cF,n=this.kF;n<t.length;n++)t[n].fm=n;this.kF=t.length},i.bF=function(t){t<this.kF&&(this.kF=t)},i.Pv=function(){this.Bo();for(var t=this.cF.slice(),n=0;n<t.length;n++){t[n].Pv()}rs(this.cF),rs(this.wF)},L(n,[{key:"n_",get:function(){return this.mF}},{key:"t_",get:function(){return this.yF}},{key:"Fb",get:function(){return this.fF},set:function(t){this.fF=t}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"Hl",get:function(){return this.Cy}},{key:"Vl",get:function(){return this.Oy}},{key:"Jl",get:function(){return this.vF},set:function(t){this.vF=t}},{key:"Xl",get:function(){return this.dF}},{key:"Wl",get:function(){return this.Dy},set:function(t){t!==this.Dy&&(this.Dy=t,this.Do(new X_(this)))}},{key:"ql",get:function(){return this.lF}},{key:"$l",get:function(){return this.WI},set:function(t){this.eN(t),this.Do(new Rd(this))}},{key:"Kl",get:function(){return this._F},set:function(t){this._F!==t&&(this._F=t,this.Do(new KS(this,this._F)))}},{key:"i_",get:function(){return this.gF},set:function(t){this.gF=t}},{key:"Ku",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.Do(new nR(this)))}}]),n}(Ss),hR=function(t){function n(n){var i;(i=t.call(this)||this).RF=[],i.IF=function(t){i.El(t.Kd)},i.NF=function(t){var n=t.Kd;i.CF(n)||i.Sl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.DF(e)}return i}U(n,t);var i=n.prototype;return i.DF=function(t){this.RF.push(t);for(var n=0,i=t.Nl;n<i.length;n++){var r=i[n];this.El(r)}this.OF(t)},i.xF=function(t){Ke(this.RF,t),this.PF(t);for(var n=0,i=t.Nl;n<i.length;n++){var r=i[n];this.CF(r)||this.Sl(r)}},i.CF=function(t){for(var n=0,i=this.RF;n<i.length;n++){if(i[n].Rl(t))return!0}return!1},i.OF=function(t){t.Oo(_d.Gd,this.IF),t.Oo(_d.Qd,this.NF)},i.PF=function(t){t.Lo(_d.Gd,this.IF),t.Lo(_d.Qd,this.NF)},i.Pv=function(){for(;this.RF.length>0;)this.xF(this.RF[0]);t.prototype.Pv.call(this)},i.$d=function(){return nl(this)},n}(Sd),aR=function(t){function n(n,i){var r;return(r=t.call(this,rg.Vy,n)||this).qg=i,r}return U(n,t),n.prototype.$d=function(){return new cR(this.zy.Jd)},n}(ag),cR=function(t){function n(n){return t.call(this,eg.Vy,n)||this}return U(n,t),n}(cg),fR=function(t){function n(n,i){var r;return(r=t.call(this,rg.Wy,n)||this).qg=i,r}return U(n,t),n.prototype.$d=function(){return new vR(this.zy.Jd)},n}(ag),vR=function(t){function n(n){return t.call(this,eg.Wy,n)||this}return U(n,t),n}(cg),dR=function(t){function n(n){var i;return(i=t.call(this,md.ul)||this).zy=n,i}return U(n,t),n.prototype.$d=function(){return new lR(this.zy.Jd)},n}(kd),lR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return U(n,t),n}(pd),_R=function(t){function n(n){var i;return(i=t.call(this,md.hl)||this).zy=n,i}return U(n,t),n.prototype.$d=function(){return new gR(this.zy.Jd)},n}(kd),gR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return U(n,t),n}(pd),wR=function(t){function n(n){var i;return(i=t.call(this)||this).BF=void 0,i.Oy=void 0,i.um=void 0,i.Zd=void 0,i.om=!1,i.cm="",i.LF=function(){i.vm=!0},i.MF=function(){i.vm=!1},i.Oy=Q_(),i.BF=n,i.BF.addEventListener("enter",i.LF),i.BF.addEventListener("exit",i.MF),i}U(n,t);var i=n.prototype;return i.$d=function(){return fg(this)},i.eg=function(t){return this===t||Bd(this,t)&&_g(this,t)},i.Pv=function(){this.Bo(),this.BF.removeEventListener("enter",this.LF),this.BF.removeEventListener("exit",this.MF)},L(n,[{key:"Vl",get:function(){return this.Oy}},{key:"Gy",get:function(){return this.BF.startTime},set:function(t){this.BF.startTime=t}},{key:"jy",get:function(){return this.BF.endTime},set:function(t){this.BF.endTime=t}},{key:"Qy",get:function(){return this.BF.text},set:function(t){this.BF.text=t+""}},{key:"lm",get:function(){return!!this.BF.pauseOnExit},set:function(t){this.BF.pauseOnExit=!!t}},{key:"Kd",get:function(){return this.um},set:function(t){this.um=t}},{key:"Hl",get:function(){return this.BF.id||""}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"dm",get:function(){return this.cm},set:function(t){this.cm=t}},{key:"vm",get:function(){return this.om},set:function(t){this.vm!==t&&(this.om=t,t?(this.Do(new aR(this,this.Gy)),this.um&&this.um.Do(new dR(this))):(this.Do(new fR(this,this.jy)),this.um&&this.um.Do(new _R(this))))}}]),n}(el),yR=function(t){function n(n){var i;return(i=t.call(this,md.cl)||this).Kd=n,i}return U(n,t),n.prototype.$d=function(){return new mR(this.Kd.Jd)},n}(kd),mR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return U(n,t),n}(pd);function kR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new pR(t),t.THEOplayerVTTRegion=n),n}}var pR=function(){function t(t){this.UF=void 0,this.Zd=void 0,this.UF=t}return L(t,[{key:"FF",get:function(){return this.UF}},{key:"Hl",get:function(){return this.UF.id||""}},{key:"fu",get:function(){return+this.UF.width||0},set:function(t){this.UF.width=t||0}},{key:"_m",get:function(){return+this.UF.lines||0},set:function(t){this.UF.lines=t||0}},{key:"gm",get:function(){return+this.UF.regionAnchorX||0},set:function(t){this.UF.regionAnchorX=t||0}},{key:"wm",get:function(){return+this.UF.regionAnchorY||0},set:function(t){this.UF.regionAnchorY=t||0}},{key:"mm",get:function(){return+this.UF.viewportAnchorX||0},set:function(t){this.UF.viewportAnchorX=t||0}},{key:"km",get:function(){return+this.UF.viewportAnchorY||0},set:function(t){this.UF.viewportAnchorY=t||0}},{key:"ym",get:function(){return this.UF.scroll||""}},{key:"Jd",get:function(){return this.Zd||(this.Zd=bg(this)),this.Zd}}]),t}(),AR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"im",get:function(){return this.BF.vertical||""},set:function(t){this.BF.vertical=t||""}},{key:"nm",get:function(){return!!this.BF.snapToLines},set:function(t){this.BF.snapToLines=!!t}},{key:"Zy",get:function(){return this.BF.line},set:function(t){this.BF.line=t}},{key:"eh",get:function(){return+this.BF.size},set:function(t){this.BF.size=qt(t,0,100)}}]),n}(wR),bR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.eg=function(n){return this===n||Bd(this,n)&&t.prototype.eg.call(this,n)&&wg(this,n)},L(n,[{key:"tm",get:function(){return kR(this.BF.region)}},{key:"Jy",get:function(){return this.BF.lineAlign||"start"},set:function(t){this.BF.lineAlign=t||"start"}},{key:"$y",get:function(){return this.BF.position},set:function(t){this.BF.position=t}},{key:"Ky",get:function(){return this.BF.positionAlign||"auto"},set:function(t){this.BF.positionAlign=t||"auto"}},{key:"Yy",get:function(){return this.BF.align||"center"},set:function(t){this.BF.align=t||"center"}},{key:"Jd",get:function(){return this.Zd||(this.Zd=dg(this)),this.Zd}}]),n}(AR),TR=function(t){function n(n){return t.call(this,n)||this}return U(n,t),n.prototype.eg=function(n){return this===n||Bd(this,n)&&t.prototype.eg.call(this,n)&&wg(this,n)},L(n,[{key:"tm",get:function(){return kR(this.FF)}},{key:"FF",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.BF.track,this.BF.regionId)}},{key:"Jy",get:function(){return"middle"===(t=this.BF.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.BF.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"$y",get:function(){return this.BF.position},set:function(t){var n,i;this.BF.position=(n=t,i=this.Yy,hg(n,i))}},{key:"Ky",get:function(){return t=this.BF.positionAlign||"middle",ug[t];var t},set:function(t){var n,i;this.BF.positionAlign=(n=t||"center",i=this.Yy,sg[og(n,i)])}},{key:"Yy",get:function(){return"middle"===(t=this.BF.align||"middle")?"center":t;var t},set:function(t){var n;this.BF.align="center"===(n=t||"center")?"middle":n}},{key:"Jd",get:function(){return this.Zd||(this.Zd=dg(this)),this.Zd}}]),n}(AR);function ER(t,n){return t.Qy===n.Qy}function SR(t,n,i){for(var r=t[n].Gy,e=n;e>=0&&t[e].Gy===r;e--)t[e].jy=i}function RR(t){return fg(t)}var IR,NR,CR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).HF=void 0,r.HF=i,r}return U(n,t),n.prototype.eg=function(n){return this===n||Bd(this,n)&&t.prototype.eg.call(this,n)&&ER(this,n)},L(n,[{key:"Qy",get:function(){return this.HF}},{key:"Jd",get:function(){return this.Zd||(this.Zd=RR(this)),this.Zd}}]),n}(wR);function DR(t){switch(t){case IR.ISO_8859_1:case IR.UTF16_BOM:case IR.UTF16:case IR.UTF8:return!0}return!1}function OR(t){switch(t){case IR.ISO_8859_1:return Eu;case IR.UTF16_BOM:return Iu;case IR.UTF16:return Nu;case IR.UTF8:return Lu}}function xR(t,n){var i=n.ah,r=t.byteLength,e=Xu(t);return n.uh(r-i),zu(e,i,r).buffer}function PR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function BR(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:bu(t,n,3),description:e(t,n),text:e(t,n)}}}function LR(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r);return{id:i,mimeType:Eu(t,n),fileName:e(t,n),description:e(t,n),data:xR(t,n)}}}function MR(t,n,i){var r=cu(t,n);if(DR(r)){for(var e=OR(r),s=[];n.ah<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function UR(t,n,i){var r=cu(t,n);if(DR(r)){for(var e=OR(r),s=bu(t,n,3),u=cu(t,n),o=cu(t,n),h=e(t,n),a=!1,c=[];n.ah<t.byteLength;){var f=void 0;if(r===IR.UTF16_BOM){var v=Ru(t,n);void 0===v?v=a:a=v,f=Nu(t,n,v)}else f=e(t,n);if(!f||n.ah+4>t.byteLength)break;c.push({text:f,timestamp:yu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function FR(t,n,i){return{id:i,ownerIdentifier:Eu(t,n),identifier:xR(t,n)}}function HR(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:bu(t,n,3),description:e(t,n),text:e(t,n)}}}function VR(t,n,i){var r=cu(t,n);if(DR(r))return{id:i,text:OR(r)(t,n)}}function XR(t,n,i){return{id:i,url:Eu(t,n)}}function WR(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function qR(t,n,i){var r=cu(t,n);if(DR(r))return{id:i,description:OR(r)(t,n),url:Eu(t,n)}}function zR(t,n,i){switch(i){case"COM":return BR(t,n,i);case"GEO":return LR(t,n,i);case"IPL":return MR(t,n,i);case"PIC":return function(t,n,i){var r=cu(t,n);if(DR(r)){var e,s,u=OR(r),o=bu(t,n,3),h=cu(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=Eu(t,n)):(e="image/"+o.toLowerCase(),s=xR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return UR(t,n,i);case"TXX":return WR(t,n,i);case"UFI":return FR(t,n,i);case"ULT":return HR(t,n,i);case"WXX":return qR(t,n,i);default:if("T"===i.charAt(0))return VR(t,n,i);if("W"===i.charAt(0))return XR(t,n,i)}}function GR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r),s=Eu(t,n);return{id:i,mimeType:s,pictureType:cu(t,n),description:e(t,n),data:"--\x3e"===s?Eu(t,n):xR(t,n)}}}(t,n,i);case"COMM":return BR(t,n,i);case"COMR":return function(t,n,i){var r=cu(t,n);if(DR(r)){var e,s,u=OR(r),o=Eu(t,n),h=bu(t,n,8),a=Eu(t,n),c=cu(t,n),f=u(t,n),v=u(t,n);return n.ah<t.byteLength&&(e=Eu(t,n)||"image/",s=xR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return LR(t,n,i);case"IPLS":return MR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Eu(t,n),data:xR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:cu(t,n),position:yu(t,n)}}(t,n,i);case"SYLT":return UR(t,n,i);case"TXXX":return WR(t,n,i);case"UFID":return FR(t,n,i);case"USER":return function(t,n,i){var r=cu(t,n);if(DR(r)){var e=OR(r);return{id:i,language:bu(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return HR(t,n,i);case"WXXX":return qR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return VR(t,n,i);default:var r=i.charAt(0);if("T"===r)return VR(t,n,i);if("W"===r)return XR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(IR||(IR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(NR||(NR={}));var jR=10;function QR(t,n){return(127&cu(t,n))<<21|(127&cu(t,n))<<14|(127&cu(t,n))<<7|127&cu(t,n)}function YR(t,n){switch(t){case NR.V24:return{VF:au(n,0),XF:au(n,1),WF:au(n,2),qF:au(n,3)};case NR.V23:return{VF:au(n,0),XF:au(n,1),WF:au(n,2)};case NR.V22:return{VF:au(n,0),zF:au(n,1)}}}function ZR(t,n,i){switch(i.jk){case NR.V23:i.Qk.XF&&function(t,n){var i=n.ah,r=yu(t,n)+4,e=32768&gu(t,n);n.oh(i+r),e&&yu(t,n)}(t,n);break;case NR.V24:i.Qk.XF&&function(t,n){var i=n.ah,r=QR(t,n);n.oh(i+r)}(t,n)}}function JR(t,n){if(t.byteLength-n.ah<jR)return null;if(73!==cu(t,n)||68!==cu(t,n)||51!==cu(t,n))return null;var i=cu(t,n),r=cu(t,n);if(!function(t){switch(t){case NR.V22:case NR.V23:case NR.V24:return!0}return!1}(i))return null;var e=cu(t,n),s=QR(t,n);return{jk:i,GF:r,Qk:YR(i,e),jF:s}}function $R(t,n,i){switch(i.jk){case NR.V22:return function(t,n,i){return{Hl:bu(t,n,3),eh:_u(t,n,3)}}(t,n);case NR.V23:return function(t,n,i){var r=bu(t,n,4),e=yu(t,n);cu(t,n);var s=cu(t,n);return{Hl:r,eh:e,Qk:{zF:au(s,0),QF:au(s,1),groupingIdentity:au(s,2)}}}(t,n);case NR.V24:return function(t,n,i){var r=bu(t,n,4),e=QR(t,n);cu(t,n);var s=cu(t,n);return{Hl:r,eh:e,Qk:{groupingIdentity:au(s,1),zF:au(s,4),QF:au(s,5),VF:au(s,6),YF:au(s,7)}}}(t,n)}}function KR(t){for(var n=new y(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function tI(t,n){var i=n||new ju,r=JR(t,i);return r?{Xk:r,ZF:function(t,n,i){var r=[],e=n.ah,s=Hu(t,e,e+i.jF),u=new ju;switch(n.uh(i.jF),i.jk){case NR.V22:case NR.V23:i.Qk.VF&&(s=KR(s))}ZR(t,n,i);for(;u.ah<s.byteLength;)r.push(nI(s,u,i));return r}(t,i,r)}:null}function nI(t,n,i){var r,e,s=$R(t,n,i),u=n.ah,o=Hu(t,u,u+s.eh);switch(n.uh(s.eh),i.jk){case NR.V22:var h=s;r=zR(e=o,new ju,h.Hl);break;case NR.V23:var a=s,c=new ju;!function(t,n,i){var r,e,s,u=i.Qk;u.zF&&(r=yu(t,n)),u.QF&&(e=cu(t,n)),u.groupingIdentity&&(s=cu(t,n))}(o,c,a),r=GR(e=Hu(o,c.ah,o.byteLength),new ju,a.Hl);break;case NR.V24:var f=s,v=new ju;f.Qk.VF&&(o=KR(o)),function(t,n,i){var r,e,s,u,o=i.Qk;o.groupingIdentity&&(r=cu(t,n)),o.zF&&(e=yu(t,n)),o.QF&&(s=cu(t,n)),o.YF&&(u=QR(t,n))}(o,v,f),r=GR(e=Hu(o,v.ah,o.byteLength),new ju,f.Hl)}if(!r){var d=Gu(Xu(e));r=PR(s.Hl,d.buffer)}return r}function iI(t){return function(t,n,i){return VR(t,n,i)}(new DataView(t.data),new ju,t.key)}function rI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return iI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return PR(t.key,t.data)}(t)}var eI="org.id3";var sI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Ny=void 0,e.JF=void 0,e.cF=[],e.wF=[],e.yF=void 0,e.mF=void 0,e.Oy=void 0,e.Dy=void 0,e.WI=Qd.jl,e._F=$_.NONE,e.Zd=void 0,e.gF=void 0,e.xs=K_.DEFAULT,e.KF=void 0,e.tH=function(){e.nH(),e.Ny.removeEventListener("cuechange",e.tH)},e.iH=function(){e.$l!==Qd.jl&&(e.rH(),e.EF(),e.cF.length&&e.eH($_.LOADING))},e.sH=function(){e.eH($_.LOADED)},e.uH=function(){e.eH($_.ERROR)},e.Ny=n,e.KF=r,e.Ny.addEventListener("cuechange",e.tH),e.Ny.addEventListener("cuechange",e.iH),e.JF=i,e.JF&&(e.gF=Ir(e.JF.src),e.JF.addEventListener("load",e.sH),e.JF.addEventListener("error",e.uH)),e.Oy=z_(),e.Dy=n.label||"",e.yF=new $S(e.cF),e.mF=new $S(e.wF),e.$l=e.oH,ws(function(){e.iH(),e.eH($_.NONE)}),e}U(n,t);var i=n.prototype;return i.$d=function(){return Kd(this)},i.nH=function(){var t=this.$l;this.hH||t!==Qd.Yl?this.oH=t:this.oH=Qd.Ql},i.aH=function(){var t=this.$l,n=this.oH;t!==n&&(this.hH||t!==Qd.Yl||n!==Qd.Ql)&&("metadata"===this.Xl&&n===Qd.jl?this.$l=t:this.$l=n)},i.JU=function(t){this._F!==t&&(this._F=t,this.Do(new KS(this,t)))},i.eH=function(t){var n=l.max(this._F,this.cH,t);this.JU(n)},i.fH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.vH=function(t){var n=this.fH(t);if(n)return n;if(K(n=this.dH(t)))for(var i=0,r=n;i<r.length;i++){r[i].Kd=this}else n.Kd=this;return t.THEOplayerTextTrackCue=n,n},i.dH=function(t){return(n=t)&&n.type===eI&&n.value?(this.Ku=K_.ID3,function(t){var n;try{n=rI(t.value)}catch(t){n=PR("")}return new CR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.Ku=K_.ID3,function(t){var n=[];try{var i=tI(new DataView(t.data));if(i)for(var r=0,e=i.ZF;r<e.length;r++){var s=e[r];n.push(new CR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.Ku=K_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new TR(t):new bR(t)):new wR(t);var n},i.lH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.vH(t[r]||t.item(r));if(K(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.rH=function(){for(var t=this.lH(this.Ny.cues),n=JS(this.cF,t),i=0,r=n.aF;i<r.length;i++){var e=r[i];this.Do(new sR(e))}for(var s=0,u=n.hF;s<u.length;s++){var o=u[s];this.Do(new rR(o))}},i.EF=function(){for(var t=this.lH(this.Ny.activeCues),n=JS(this.wF,t),i=0,r=n.aF;i<r.length;i++){r[i].vm=!1}for(var e=0,s=n.hF;e<s.length;e++){s[e].vm=!0}(n.hF.length||n.aF.length)&&this.Do(new yR(this))},i.Pv=function(){this.Bo();for(var t=this.cF.slice(),n=0;n<t.length;n++){t[n].Pv()}rs(this.cF),rs(this.wF),this.Ny.removeEventListener("cuechange",this.iH),this.JF&&(this.Ny.removeEventListener("load",this.sH),this.Ny.removeEventListener("error",this.uH)),this.JF&&Vr(this.JF)},L(n,[{key:"n_",get:function(){return this.mF}},{key:"Fb",get:function(){return this.JF?this.JF.default:void 0}},{key:"t_",get:function(){return this.yF}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"Hl",get:function(){return this.Ny.id||this.JF&&this.JF.id||""}},{key:"Vl",get:function(){return this.Oy}},{key:"Jl",get:function(){return this.Ny.inBandMetadataTrackDispatchType||""}},{key:"Xl",get:function(){return this.Ny.kind||Kw.gk}},{key:"Wl",get:function(){return this.Dy},set:function(t){t!==this.Wl&&(this.Dy=t,this.Do(new X_(this)))}},{key:"ql",get:function(){return this.Ny.language||""}},{key:"$l",get:function(){return this.WI},set:function(t){var n=this.$l;this.WI=Jd(t),this.nH();var i=this.$l;n!==i&&this.Do(new Rd(this)),i!==Qd.jl&&this.eH($_.LOADING)}},{key:"oH",get:function(){return Jd(this.Ny.mode)},set:function(t){this.Ny.mode=t}},{key:"My",get:function(){return this.Ny}},{key:"Kl",get:function(){return this._F}},{key:"cH",get:function(){return this.JF?+this.JF.readyState||$_.NONE:$_.LOADED}},{key:"i_",get:function(){return this.gF}},{key:"Ku",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.Do(new nR(this)))}},{key:"hH",get:function(){return this.KF},set:function(t){this.KF=t,this.nH()}}]),n}(Ss);function uI(t){return t instanceof sI}function oI(t,n){return c_(t.qg,n.qg)||function(t,n){return t.Kd===n.Kd?a_(ZS(t),ZS(n)):ly(t.Kd,n.Kd)}(t.zy,n.zy)||function(t,n){return t===n?r_.G_:t===rg.Vy?r_.Q_:r_.j_}(t.type,n.type)}var hI=function(){function t(t,n){var i=this;this.yR=void 0,this._H=void 0,this.Pw=[],this.gH=0,this.wH=0,this.yH=[],this.mH=!1,this.kH=!1,this.pH=void 0,this.AH=function(){i.gH=0,i.bH(),i.TH()},this.EH=function(){i.bH(),i.TH()},this.SH=function(){i.kH=!0,i.pH=i.yR.B_,i.RH()},this.IH=function(){i.bH(),i.TH()},this.NH=function(){i.CH(),i.bH(),i.TH()},this.DH=function(){i.OH()},this.xH=function(t){Ke(i.yH,t.zy),i.OH()},this._H=n,this.yR=t,t.Oo(Zo.mc,this.EH),t.Oo(Zo.uc,this.EH),t.Oo(Ol.P_,this.EH),t.Oo(Zo.sc,this.EH),t.Oo(Zo.vc,this.SH),t.Oo(Zo.fc,this.IH),this.OH()}var n=t.prototype;return n.Il=function(){rs(this.yH);for(var t=0,n=this.Pw.slice();t<n.length;t++){var i=n[t];this.Sl(i)}this.RH(),this.gH=0,this.wH=0,this.mH=!1,this.kH=!1,this.pH=void 0},n.El=function(t){ns(this.Pw,t)||(this.Pw.push(t),t.Oo(md.tl,this.DH),t.Oo(md.il,this.xH),t.Oo(md.vl,this.NH),t.t_.Cl&&this.OH(),this.CH())},n.Sl=function(t){if(Ke(this.Pw,t)){if(t.Lo(md.tl,this.DH),t.Lo(md.il,this.xH),t.Lo(md.vl,this.NH),t.t_.Cl){for(var n=0,i=t.t_.Nl;n<i.length;n++){var r=i[n];Ke(this.yH,r)}this.OH()}this.CH()}},n.CH=function(){this.mH=this.Pw.some(function(t){return t.$l!==Qd.jl})},n.TH=function(){this.yR.X_||this.yR.H_?this.RH():this.OH()},n.OH=function(){this.mH&&(this.gH||(this.gH=this._H.hr(this.AH)))},n.RH=function(){this.gH&&(this._H.PH(this.gH),this.gH=0)},n.bH=function(){var t;if(this.mH&&!this.yR.X_){var n=this.Pw,i=this.wH,r=null!=(t=this.pH)?t:this.yR.B_,e=r-i<-.1,s=this.kH||e;s&&r>i&&r-i<.1&&(s=!1),this.kH=!1,this.pH=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.$l!==Qd.jl){a.EF(r,s);for(var c=0,f=a.n_.Nl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.yH;else{u=[];for(var d=0;d<n.length;d++){var _=n[d];_.$l!==Qd.jl&&dy(_,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)ns(o,u[g])&&ts(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Gy>=i&&m.jy<=r&&(w.push(m),ts(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.vm||k.push(new aR(b,b.Gy)),k.push(new fR(b,l.max(b.Gy,b.jy)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.vm&&(k.push(new fR(S,l.max(S.Gy,S.jy))),S.vm=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.vm||(k.push(new aR(I,I.Gy)),I.vm=!0)}k.sort(oI);for(var N=0;N<k.length;N++){var C=k[N],D=C.zy;D.Do(C);var O=D.Kd;O&&(C.type===rg.Vy?O.Do(new dR(D)):O.Do(new _R(D)),ns(p,O)||p.push(O))}p.sort(ly);for(var x=0;x<p.length;x++){var P=p[x];P.Do(new yR(P))}this.wH=r,this.yH=o}},n.Pv=function(){this.Il(),this.yR.Lo(Zo.mc,this.EH),this.yR.Lo(Zo.uc,this.EH),this.yR.Lo(Ol.P_,this.EH),this.yR.Lo(Zo.sc,this.EH),this.yR.Lo(Zo.vc,this.SH),this.yR.Lo(Zo.fc,this.IH)},t}(),aI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return uT(t)},n.PH=function(t){oT(t)},t}(),cI=new aI,fI=function(t){function n(n,i){return void 0===i&&(i=cI),t.call(this,n,i)||this}return U(n,t),n}(hI),vI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).BH=void 0,e}return U(n,t),n.prototype.eg=function(n){return this===n||Bd(this,n)&&t.prototype.eg.call(this,n)&&ER(this,n)},L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=RR(this)),this.Zd}}]),n}(gg),dI=function(t){function n(n,i,r){return void 0===r&&(r=K_.DEFAULT),t.call(this,Kw.yk,"",i||"","",!1,r,n)||this}return U(n,t),n}(oR),lI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ku=K_.ID3,r.BH=void 0,r}U(n,t);var i=n.prototype;return i.Mb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Gy<t.Gy)SR(n,i,t.Gy);else{var r=n[0];if(r.Gy>t.Gy)t.jy=r.Gy;else{var e=YS(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].Gy<t.Gy&&SR(n,u,t.Gy),s<n.length){var o=n[s];t.jy=o.Gy}}}}}}(n,this.cF),t.prototype.Mb.call(this,n)},i.$d=function(){return Kd(this)},n}(dI);function _I(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=rI(t.value);return t.THEOplayerTextTrackCue=new vI(i,r),t.THEOplayerTextTrackCue}var gI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ny=void 0,i.iH=function(){i.$l!==Qd.jl&&(i.rH(),i.eH($_.LOADED))},i.Ny=n,i.Ny.addEventListener("cuechange",i.iH),i.$l=i.oH,ws(function(){i.iH()}),i}U(n,t);var i=n.prototype;return i.eN=function(n){t.prototype.eN.call(this,n),this.oH=this.$l},i.eH=function(t){this.Kl=l.max(this.Kl,t)},i.rH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(_I(t[r]||t.item(r)));return Qe(i,QS),i}(this.Ny.cues),n=JS(this.t_.Nl.slice(),t),i=0,r=n.aF;i<r.length;i++){var e=r[i];this.TF(e)}for(var s=0,u=n.hF;s<u.length;s++){var o=u[s];this.Mb(o)}},i.Pv=function(){this.Ny.removeEventListener("cuechange",this.iH),t.prototype.Pv.call(this)},L(n,[{key:"Hl",get:function(){return this.Ny.id||""}},{key:"Jl",get:function(){return this.Ny.inBandMetadataTrackDispatchType||""}},{key:"ql",get:function(){return this.Ny.language||""}},{key:"oH",get:function(){return Jd(this.Ny.mode)},set:function(t){this.Ny.mode=t}},{key:"My",get:function(){return this.Ny}}]),n}(lI),wI=function(t){function n(n){var i;return(i=t.call(this,0,n.Qy)||this).LH=void 0,i.LH=n,i.jy=i.LH.Gy,i}return U(n,t),L(n,[{key:"Hl",get:function(){return this.LH.Hl}},{key:"lm",get:function(){return this.LH.lm},set:function(t){this.LH.lm=t}},{key:"dm",get:function(){return this.LH.dm},set:function(t){this.LH.dm=t}}]),n}(vI);function yI(t){return void 0===t.BH&&(t.BH=new wI(t)),t.BH}var mI=function(t){function n(n,i){var r;(r=t.call(this,n.Jl,n.Wl)||this).MH=void 0,r.UH=void 0,r.FH=void 0,r.Ku=K_.ID3,r.HH=function(t){r.VH(t.zy)},r.XH=function(t){var n=t.zy;if(void 0!==n.BH){var i=n.BH;n.BH=void 0,r.TF(i),i.Pv()}},r.WH=function(t){var n=yI(t.zy);n.vm||r.qH(n),r.zH(n)},r.GH=function(t){var n=t.zy,i=yI(n);r.UH.B_<n.Gy&&r.qH(i)},r.jH=function(){var t=r.FH,n=r.$l;if(r.FH=n,n===Qd.jl)r.wF.forEach(function(t){return t.vm=!1}),rs(r.wF);else if(t===Qd.jl)for(var i=r.UH.B_,e=0,s=r.cF;e<s.length;e++){var u=s[e];i<u.jy&&r.qH(u)}},r.UH=i,r.MH=n,r.FH=n.$l,n.Oo(md.tl,r.HH),n.Oo(md.il,r.XH),n.Oo(md.ul,r.WH),n.Oo(md.hl,r.GH),n.Oo(md.vl,r.jH);for(var e=0,s=r.MH.t_.Nl;e<s.length;e++){var u=s[e];r.VH(u)}return r}U(n,t);var i=n.prototype;return i.qH=function(t){var n=YS(this.wF,t);if(!(n>=0)){var i=-(n+1);this.wF.splice(i,0,t),t.vm=!0,t.Do(new aR(t,this.UH.B_)),this.Do(new dR(t)),this.Do(new yR(this))}},i.zH=function(t){var n=YS(this.wF,t);n>=0&&ts(this.wF,n),t.vm=!1,t.Do(new fR(t,this.UH.B_)),this.Do(new _R(t)),this.Do(new yR(this))},i.Pv=function(){this.MH.Lo(md.tl,this.HH),this.MH.Lo(md.il,this.XH),this.MH.Lo(md.ul,this.WH),this.MH.Lo(md.hl,this.GH),this.MH.Lo(md.vl,this.jH),t.prototype.Pv.call(this)},i.VH=function(t){var n=yI(t);(this.Mb(n),this.$l!==Qd.jl)&&(this.UH.B_<n.jy&&this.qH(n))},L(n,[{key:"Xl",get:function(){return this.MH.Xl}},{key:"Wl",get:function(){return this.MH.Wl},set:function(t){this.MH.Wl=t}},{key:"ql",get:function(){return this.MH.ql}},{key:"Hl",get:function(){return this.MH.Hl}},{key:"Vl",get:function(){return this.MH.Vl}},{key:"Jl",get:function(){return this.MH.Jl}},{key:"$l",get:function(){return this.MH.$l},set:function(t){this.MH.$l=t}},{key:"Kl",get:function(){return this.MH.Kl}},{key:"i_",get:function(){return this.MH.i_}}]),n}(dI),kI=function(t){function n(n){var i;return(i=t.call(this)||this).UH=void 0,i.UH=n,i}U(n,t);var i=n.prototype;return i.El=function(n){if(n.Ku===K_.ID3){var i=n;return i.BH||(i.BH=new mI(i,this.UH)),t.prototype.El.call(this,i.BH)}return t.prototype.El.call(this,n)},i.Sl=function(n){if(n.Ku===K_.ID3){var i=n;return!!i.BH&&t.prototype.Sl.call(this,i.BH)}return t.prototype.Sl.call(this,n)},n}(rl),pI=function(t){function n(n,i){var r;return(r=t.call(this)||this).QH=ye(),r.IF=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Kd).Ku){t.next=4;break}return t.next=4,i.Ho(md.gl);case 4:if(i.Ku===K_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.t_.Cl){t.next=11;break}return t.next=9,i.Ho(md.tl);case 9:t.next=6;break;case 11:r.YH(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.NF=function(t){var n=t.Kd;if(n.Ku===K_.ID3&&r.QH.has(n.Vl)){var i=r.QH.get(n.Vl);r.Sl(i),r.Db.Ub(i),n.Lo(md.tl,r.VH)}},r.VH=function(t){AI(t.zy)&&r.ZH(t.zy)},r.Db=n,r.JH=i,r.$H(),r}U(n,t);var i=n.prototype;return i.$H=function(){this.JH.Oo(_d.Gd,this.IF),this.JH.Oo(_d.Qd,this.NF)},i.KH=function(){this.JH.Lo(_d.Gd,this.IF),this.JH.Lo(_d.Qd,this.NF)},i.YH=function(t){var n=t.t_.Nl[0];if(AI(n)){var i=function(t){var n=t.match(bI);if(!n)return;return{Kd:n[1],ql:n[2]}}(n.Qy.description),r=i.Kd,e=i.ql;if(!this.tV(r,e)){var s=this.Db.Bb(Kw.gk,t.Hl,r,e,!1,K_.TTML);this.El(s),this.QH.set(t.Vl,s);for(var u=0,o=t.t_.Nl;u<o.length;u++){var h=o[u];AI(h)&&this.ZH(h)}t.Oo(md.tl,this.VH)}}},i.tV=function(t,n){return!!Je(this.ap.Nl,function(i){return i.Wl===t&&i.ql===n})},i.ZH=function(t){if(t.Kd)for(var n=this.QH.get(t.Kd.Vl),i=Ww(t.Qy.text,0,{pm:0,Am:1/0,bm:-t.jy}),r=0;r<i.length;r++){var e=i[r];n.Mb(e)}},i.Il=function(){var n=T.coroutine(le.mark(function n(){var i,r,e,s,u;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.JH.Nl;i<r.length;i++)r[i].Lo(md.tl,this.VH);for(e=0,s=this.ap.Nl;e<s.length;e++)u=s[e],this.Db.Ub(u);return this.QH.clear(),n.next=5,t.prototype.Il.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Pv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.KH(),n.next=3,t.prototype.Pv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(ny);function AI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Qy)&&bI.test(n.description);var n}var bI=/^Track:(.+),Lang:(.+)$/;var TI=function(t){function n(n){var i;return(i=t.call(this,Zo.za)||this).errorObject=void 0,i.errorObject=n,i}return U(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Is),EI=function(t){function n(){return t.call(this,Zo.Ga)||this}return U(n,t),n}(Is),SI=function(t){function n(n){var i;return(i=t.call(this,"Ac")||this).nV=n,i}return U(n,t),n}(Is),RI=new VE,II=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).Bh=void 0,s.Wi=!1,s.iV=!1,s.Id=new os,s.Eh=function(t){switch(t.qo){case"license-request":s.kT(t.Wo,t.zo).catch(function(t){return s.ua(t)});break;default:s.ua(new P_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.qo))}},s.rV=function(t){s.eV.Mh.nh(function(t,n){switch(t){case"usable":b.ur(function(){s.iV=!0,s.Do(new EI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.Do(new SI(n))}})},s.sV=function(t){s.ua(new P_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.eV=i,s.uV=r,s.oV=e,i.Oo("Wo",s.Eh),i.Oo("Xo",s.rV),i.Oo("Go",s.sV),s.Bh=i.Bh.then(function(){return s.hV()}),s}U(i,t);var r=i.prototype;return r.Ch=function(){var t=this;return this.Wi=!0,RI.XB(function(n){return t.aV(n)},this.Id.So)},r.aV=function(){var t=T.coroutine(le.mark(function t(i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,cs(i),t.next=4,this.uV.dT(i);case 4:return t.next=6,this.uV.lT(this.oV.io,this.oV.Jo,i);case 6:return r=t.sent,t.next=9,this.eV.Ch(this.oV.io,this.oV.Jo,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),fs(t.t0),e=t.t0 instanceof to?t.t0.yh:void 0,s=new P_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ua(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.kT=function(){var t=T.coroutine(le.mark(function t(i,r){var e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Ju(i)){t.next=7;break}return t.next=4,this.uV.IT(new y(i),this.Id.So);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.uV.NT(new y(i),r,this.Id.So);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!as(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.eV.xh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof to?t.t1.yh:void 0,new P_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ua=function(t){var i=t instanceof P_?t:new P_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Do(new TI(i)),this.Nh()},r.hV=function(){this.eV.Lo("Wo",this.Eh),this.eV.Lo("Xo",this.rV),this.eV.Lo("Go",this.sV),this.iV=!1,this.Id.bo()},r.Nh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),this.hV(),t.next=4,this.eV.Nh().catch(S);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Ss),NI=[Zo.Ga,Zo.za,Zo.pc],CI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Sh=void 0,e.Fh=void 0,e.cV=void 0,e.fV=[],e.vV=void 0,e.dV=[],e.Sh=n,e.Fh=i,e.cV=r,e}U(n,t);var i=n.prototype;return i.RT=function(){return this.cV.RT()},i.lV=function(t){return this.vV||(this.vV=this._V(t)),this.vV},i._V=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(n),t.next=3,this.cV.IT(new y(Zu()),n);case 3:return i=t.sent,cs(n),t.next=7,this.Fh.Wh(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gV=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.dV.push(n),t.next=4,this.Fh.Xh("temporary");case 4:return i=t.sent,r=new II(i,this.cV,n),this.fV.push(r),r.Oo(NI,this.Co),r.Bh.then(function(){return e.wV(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ke(this.dV,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.yV=function(t){if(t.mV)return!1;for(var n=0,i=this.fV;n<i.length;n++){if(DI(i[n].oV,t))return!0}for(var r=0,e=this.dV;r<e.length;r++){if(DI(e[r],t))return!0}return!1},i.wV=function(t){t.Lo(NI,this.Co),Ke(this.fV,t)},i.Pv=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),n=this.fV.slice(),rs(this.fV),t.next=5,T.all(n.map(function(t){return t.Nh()}));case 5:this.cV.wo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Hh",get:function(){return this.Sh}}]),n}(Ss);function DI(t,n){return!t.mV&&t.io===n.io&&Qs(t.Jo,n.Jo)}var OI=function(t){function i(n){var i;return(i=t.call(this)||this).KE=void 0,i.Id=new os,i.KB=new VE,i.da=void 0,i.cV=void 0,i.tS=void 0,i.Sh=void 0,i.kV=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.pV(n.io,n.Jo,i.Id.So);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),as(t.t0)||i.ua(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.KE=n,i.KE.Oo(Es.jo,i.kV),i}U(i,t);var r=i.prototype;return r.Dh=function(t,n){this.tS=t,this.TL(n)},r.TL=function(t){this.da=t,this.AV(this.Id.So).catch(vs)},r.AV=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!b.xu.ou){t.next=5;break}return t.next=3,this.bV(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.da||!this.da.TV){t.next=9;break}return t.next=8,this.EV(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bV=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.da)?void 0:i.NS){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this.da)?void 0:o.NS)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.ZE)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.pV(h.Hh.io,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),fs(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.pV=function(){var t=T.coroutine(le.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.da&&this.da.NS.length){t.next=5;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Re||i===Ne||i===Ie){t.next=8;break}return t.abrupt("return");case 8:s=zm(i,r),u=this.da.NS,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],cs(e),(c=s[a.Hh.ro])&&a.Hh.io===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.SV(a,e);case 20:if(!(f=t.sent).RT()){t.next=24;break}return t.next=24,f.lV();case 24:if(v=this.KE.gy,d={io:a.Hh.io,Jo:c,mV:v},!this.RV(f,d)){t.next=32;break}return t.next=29,f.gV(d);case 29:return l=t.sent,t.next=32,l.Ch();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),fs(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,b.Tu();case 44:if(!t.sent){t.next=48;break}throw new P_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new P_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.EV=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.da)?void 0:i.NS){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],cs(n),t.prev=7,t.next=10,this.SV(s,n);case 10:if(!(u=t.sent).RT()){t.next=14;break}return t.next=14,u.lV();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),fs(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.RV=function(t,n){return b.xu.uu||!t.yV(n)},r.SV=function(t,n){var i=this;return this.KB.XB(function(n){return i.IV(t,n)},n)},r.IV=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(i),this.da&&this.cV&&this.tS){t.next=3;break}throw new f("Not initialized");case 3:if(!this.Sh){t.next=7;break}if(this.Sh.Hh===n.Hh){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.Sh);case 7:return r=this.cV,e=_e({},n,{qS:n.qS.map(function(t){var i;return _e({},t,{persistentState:null!=(i=t.persistentState)?i:r.YT(n.Hh),$h:t.$h||r.$h(n.Hh)})})}),t.next=11,this.tS.pL(e.Hh,e.qS);case 11:return s=t.sent,u=r.YE(e),(o=new CI(e.Hh,s,u)).Oo([Zo.Ga,Zo.za,Zo.pc],this.Co),this.Sh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ua=function(t){var i=t instanceof P_?t:new P_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Do(new TI(i))},r.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tS=void 0,this.da=void 0,this.Id.bo(),this.Id=new os,t.next=6,this.NV();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.NV=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KB.bo();case 2:if(!(n=this.Sh)){t.next=8;break}return n.Lo(Zo.pc,this.Co),this.Sh=void 0,t.next=8,n.Pv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),this.KE.Lo(Es.jo,this.kV),t.next=4,this.Il();case 4:return t.next=6,this.KB.Pv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"CV",get:function(){var t;return null==(t=this.Sh)?void 0:t.Hh}},{key:"SS",get:function(){return this.cV},set:function(t){this.cV=t}}]),i}(Ss),xI=Q.Ie||Q.Ne,PI=Q.Ge,BI=.5,LI=5,MI=Q.Pe,UI=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ea=void 0,s.DV=void 0,s.nS=void 0,s.pR=!0,s.tS=void 0,s.OV=new VE,s.xV=void 0,s.PV=void 0,s.BV=void 0,s.wL=void 0,s.Pw=void 0,s.RI=void 0,s.LV=void 0,s.MV=void 0,s.UV=void 0,s.FV=void 0,s.HV=void 0,s.VV=void 0,s.XV=void 0,s.WV=void 0,s.qV=NaN,s.zV=void 0,s.GV=void 0,s.bI=!1,s.jV=T.resolve(),s.QV=new os,s.YV=[],s.ZV=Yp._I(),s.JV=void 0,s.$V=1,s.KV=!1,s.tX=!1,s.uo=void 0,s.nX=!1,s.iX=!1,s.rX=!1,s.eX=!1,s.sX=0,s.uX=function(t){var n=t.track,i=s.oX(n);s.hX(n,i)},s.aX=function(t){var n=function(t,n){for(var i=0,r=t.Nl;i<r.length;i++){var e=r[i];if(e.My===n)return e}return}(s.MV,t.track);n&&s.MV.Sl(n)},s.cX=function(){for(var t=0;t<s.Pw.Cl;t++){var n=s.Pw.Tl(t);n instanceof sI&&n.aH()}},s.fX=function(){for(var t=s.MV.Nl,n=0;n<t.length;n++){var i=t[n];s.MV.Sl(i)}},s.vX=function(){var t=s.tS,n=t.gU,i=t.wU;if(n&&i)if(t.CL)s.dX();else if(t.Kl!==OS.aM){var r=n.vy,e=i.vy;if(0!==r.Cl&&0!==e.Cl){var u=s.B_;if(u<r.NR(0)||u<e.NR(0))s.dX();else if(r.zS(u)!==e.zS(u))s.lX();else if(s.dX(),!s.sX&&s.BV.eF())r.$R(e).rI(u,u+BI)&&(s.sX=uT(s._X))}else s.dX()}},s._X=function(){s.sX=0,s.vX()},s.gX=function(){if(!(s.X_||s.Kl>=ll.R_)){0;var t=s.tS,n=t.gU,i=t.wU;if(n&&i){var r=s.B_,e=n.vy,u=i.vy;if(e.zS(r)&&u.zS(r))e.$R(u).rI(r-LI,r)&&s.oh(r)}}},s.wX=function(){s.Do(new Bl(s.B_))},s.yX=function(){s.mX(new hs),s.Do(new Pl(s.B_))},s.kX=function(){s.pX(),s.Do(new Zy(s.B_))},s.AX=function(){s.bX(s.V_)},s.TX=function(){s.Do(new Hl(s.L_))},s.EX=function(){s.Do(new hS(s.B_))},s.SX=function(){s.Do(new aS)},s.RX=function(){var t=s.B_,n=s.X_,i=s.Kl<ll.R_&&!s.M_,r=void 0!==s.GV,e=r&&s.GV!==t;(n||!r||e&&!i)&&(s.Do(new Xl(s.B_,void 0)),s.GV=t)},s.IX=function(){!s.KV&&s.M_&&(s.KV=!0,s.Do(new Wl(s.B_)))},s.NX=function(){if(null!==s.Ea.error){var t,n=s.Ea.error;s.cS(new B_(null!=(t=n.code)?t:D_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.CX=function(){s.Do(new jl(s.B_,s.z_))},s.DX=function(){s.q_>0&&s.W_>0&&s.Do(new Sy)},s.OX=function(t){s.Do(new Ps(t.initDataType,t.initData||new ArrayBuffer(0)))},s.xX=function(){s.Do(new Bs)},s.PX=function(t){var n=t.initData,i=n?Gu(n).buffer:new ArrayBuffer(0);s.Do(new Ps(Re,i))},s.BX=function(t){if(t.initData){var n=FI(t.initData);if(!n)return;s.Do(new Ps(Ne,n))}else s.Do(new Ps(Ne,new ArrayBuffer(0)))},s.LX=function(t){var n=t.initData,i=n?Gu(n).buffer:new ArrayBuffer(0);s.Do(new Ps(Re,i))},s.MX=function(){s.pX()},s.UX=function(t){s.mX(t)},s.FX=function(t){s.Do(t),t.type===Zo.za&&s.cS(M_(t.errorObject))},s.Ea=n,s.uo=i,s.DV=r,s.RI=e,s.PV=new VS(en(s)),s.PV.Oo(Ol.ll,s.Co),s.BV=new qS(en(s)),s.BV.Oo(Ol.P_,s.kX),s.wL=new OI(en(s)),s.wL.Oo([Zo.Ga,Zo.za,Zo.pc],s.FX),s.Pw=new ty,s.LV=new ty,s.MV=new ty,s.UV=new hR([s.Pw,s.LV,s.MV]),s.FV=new kI(en(s)),s.FV.Ll=s.UV,s.HV=new pI(en(s),s.FV),s.VV=new hR([s.UV,s.HV.ap]),s.XV=new fI(en(s)),s.HX(),s.IS(),s}U(n,t);var i=n.prototype;return i.VX=function(){this.ES.ended||this.B_===this.L_||(this.KV=!1)},i.XX=function(){return void 0!==this.WV&&this.L_===this.WV},i.bX=function(t){this.$V!==t&&(this.$V=t,this.Do(new Vl(this.B_,t)))},i.QS=function(){return cE(this.Ea)},i.Xw=function(){var t=this.WX();return this.qX(),t},i.qX=function(){this.nX?this.iX&&(this.iX=!1,this.Do(new Bl(this.B_))):this.zX()},i.zX=function(){if(this.xV)this.xV.Xw();else{Q.Pe&&!Q.me&&this.Ea.preload===Vp._R&&(this.Ea.preload=Vp.yk);var t=this.V_,n=this.Ea.play();t!==this.ES.playbackRate&&(this.V_=t),et(n)?n.then(this.MX,this.UX):this.BV.eF()&&this.pX()}},i.Ww=function(){this.nX?this.iX||(this.iX=!0,this.Do(new Pl(this.B_))):this.GX()},i.GX=function(){this.xV?this.xV.Ww():(this.Ea.pause(),this.BV.xh()),this.jX(new hs)},i.WX=function(){var t=new Yu;return this.YV.push(t),t.lh},i.QX=function(){for(var t=0,n=this.YV;t<n.length;t++){n[t]._h(void 0)}rs(this.YV)},i.jX=function(t){for(var n=0,i=this.YV;n<i.length;n++){i[n].gh(t)}rs(this.YV)},i.pX=function(){this.nX||this.xV||this.QX()},i.mX=function(t){this.nX||this.xV||this.jX(t)},i.oh=function(t,n){this.xV?this.xV.B_=t:(this.QV.bo(),this.QV=new os,this.jV=this.YX(t,this.jV,this.QV.So).catch(S))},i.jS=function(t){var n=this.YS;if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.oh(i)}},i.YX=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.WV=n,this.qV=n,this.bI=!0,this.KV&&!this.XX()&&(this.KV=!1),this.Do(new zl(n)),t.next=8,i.catch(S);case 8:if(cs(r),this.tX&&this.ZX(),this.Kl!==ll.T_){t.next=13;break}return t.next=13,this.Ho(Ol.ll,r);case 13:if(0!==this.Ea.seekable.length){t.next=19;break}return t.next=16,T.race([dd(this.Ea,"timeupdate",r),ps(100,r)]);case 16:cs(r),t.next=13;break;case 19:e=this.JX(n),s=this.Sy,u=!0,o=!1;case 23:if((s=this.Sy).Cl>0&&!s.zS(e)&&(e=s.XR(e),u=!0),MI&&void 0!==(h=this.$X())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.KX())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.tW(a,r);case 33:return t.next=35,dd(this.Ea,"seeked",r);case 35:cs(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.tW(e,r);case 41:cs(r),c=this.B_,s=this.Sy,e=s.XR(e),f=1;case 46:if(!(l.abs(e-c)>=1/6)){t.next=56;break}return s=this.Sy,e=VI(e,s,f),t.next=51,this.tW(e,r);case 51:cs(r),c=this.B_,f++,t.next=46;break;case 56:if(this.Ea.seeking||this.Kl<ll.S_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,_s(function(t){var n;return T.race([dd(v.Ea,"seeked",t),v.Ho([Zo.oc,Zo.Ya,Ol.ll],t),null==(n=v.tS)?void 0:n.Ho(KE.GN,t)].filter(J))},r);case 60:cs(r),t.next=23;break;case 63:this.nW(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!as(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tW=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(i),r=this.Sy,n=r.XR(n),!this.tX){t.next=18;break}e=!0;case 5:if(!(e||this.Kl<ll.R_)){t.next=17;break}if((r=this.Sy).zS(n)||(n=r.XR(n),e=!0),!e){t.next=13;break}return e=!1,this.WV=n,this.iW(this.B_),t.abrupt("continue",5);case 13:return t.next=15,this.Ho([Ol.ll,Zo.Ya],i);case 15:t.next=5;break;case 17:cs(i);case 18:if(s=dd(this.Ea,"seeking",i),this.Ea.currentTime=n,this.WV=void 0,this.iW(this.B_),!this.Ea.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JX=function(t){var n=this.vy;if(n&&!n.zS(t)){var i=n.tI(t,.05);if(i>-1){var r=n.NR(i);if(t<r)return r}}return t},i.$X=function(){if(this.tS&&this.tS.CL){var t=this.tS.DL,n=this.tS.OL,i=t&&n?t.zR(n):t||n;if(i&&0!==i.Cl){var r=i.NR(i.Cl-1),e=i.OR(i.Cl-1);return l.max(r,e-.001)}}},i.KX=function(){if(this.tS&&this.tS.CL){var t=this.tS.OL;if(t&&0!==t.Cl){var n=t.NR(t.Cl-1),i=t.OR(t.Cl-1)-.02;return i-=.001,l.max(n,i)}}},i.iW=function(t){this.qV!==t&&(this.qV=t,this.Do(new zl(t)))},i.nW=function(){this.bI=!1,this.qV=NaN,this.tX&&this.rW(),this.Do(new Gl(this.B_))},i.ZX=function(){this.nX||(this.iX=this.H_,this.nX=!0,this.GX())},i.rW=function(){this.nX&&(this.nX=!1,this.iX||this.qX())},i.NL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Ku===Ey.Hb&&oS.NL(i,this.Ea))return i;if(i.Ku===Ey.Vb&&LS.NL(i))return i}},i.ty=function(){this.pR=!1,jr(this.Ea)&&(this.Ea.style.display="none")},i.Kw=function(){this.pR=!0,jr(this.Ea)&&(this.Ea.style.display="block")},i.Bb=function(t,n,i,r,e,s,u){var o=new oR(t,n,i,r,e,s,u);return this.Pw.El(o),this.XV.El(o),o},i.PS=function(){return!0},i.MS=function(t,n,i,r){var s=e.createElement("track");s.src=Ir(t),s.kind=n,s.label=null!=i?i:"",r&&(s.srclang=r),s.id=Lb(),this.Ea.appendChild(s);var u=this.Ea.textTracks.getTrackById(s.id),o=new sI(u,s);return this.LV.El(o),o},i.Ub=function(t){this.Pw.Sl(t),this.XV.Sl(t)},i.HS=function(){this.Pw.Il(),this.LV.Nl.forEach(function(t){return t.Pv()}),this.LV.Il()},i.IS=function(){var t=this.Ea.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.uX),t.addEventListener("removetrack",this.aX),t.addEventListener("change",this.cX)),this.Ea.addEventListener("emptied",this.fX)},i.XS=function(){var t=this.Ea.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.uX),t.removeEventListener("removetrack",this.aX),t.removeEventListener("change",this.cX)),this.Ea.removeEventListener("emptied",this.fX)},i.hX=function(t,n){if(Q.Pe){if(t.kind===Kw.yk)return void this.eW(t);if(t.kind===Kw.Eb&&!XI(t))return void this.sW(t,n)}this.LV.Nl.map(function(t){return t.Hl}).indexOf(t.id)<0&&this.MV.El(new sI(t,n))},i.eW=function(t){t.mode=Qd.Ql;var n=new gI(t);this.MV.El(n),this.XV.El(n)},i.sW=function(t,n){var i=this;t.addEventListener("cuechange",function r(){XI(t)&&(t.removeEventListener("cuechange",r),i.MV.El(new sI(t,n)))}),t.mode=Qd.Ql},i.oX=function(t){for(var n=this.Ea.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Dh=function(t){var n=this;return this.OV.XB(function(){var i=T.coroutine(le.mark(function i(r){var e;return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(cs(r),!n.tS){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.Ku!==Ey.Hb){i.next=9;break}e=new oS(t,n,n.wL,n.uo),n.tX=!1,n.uW(new VS(n)),i.next=17;break;case 9:if(t.Ku!==Ey.Vb){i.next=16;break}e=new LS(t,n,n.wL,n.uo),n.tX=xI,n.uW(n.tX?new XS(n):new VS(n)),PI&&(n.Oo(Zo.mc,n.vX),n.Oo(Ol.ll,n.gX)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.tS=e,i.next=20,e._x();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.lX=function(){if(!this.rX){var t=this.V_;this.rX=!0,this.V_=t,this.Ea.playbackRate=0,this.PV&&this.PV.JU()}},i.dX=function(){if(this.rX){var t=this.V_;this.rX=!1,this.V_=t,this.Ea.currentTime=this.Ea.currentTime,this.PV&&this.PV.JU()}},i.uW=function(t){var n=this.Kl;this.PV.wo(),this.PV=t,this.PV.Oo(Ol.ll,this.Co);var i=this.Kl;n!==i&&this.Do(new Zl(this.B_,i))},i.Il=function(){var t=T.coroutine(le.mark(function t(){var n=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bI=!1,this.ZV=Yp._I(),this.QV.bo(),this.WV=void 0,this.qV=NaN,this.zV=void 0,this.tX=!1,this.nX=!1,this.nS=void 0,this.KV=!1,this.GV=void 0,this.jX(new hs),this.uW(new VS(this)),this.BV.Il(),this.dX(),PI&&(oT(this.sX),this.sX=0,this.Lo(Zo.mc,this.vX),this.Lo(Ol.ll,this.gX)),t.next=18,this.OV.bo();case 18:return t.next=20,this.OV.XB(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.tS){t.next=4;break}return t.next=3,n.tS.wo();case 3:n.tS=void 0;case 4:case"end":return t.stop()}},t)})));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oW(),this.XS(),t.next=4,this.Il();case 4:return t.next=6,this.OV.Pv();case 6:return this.BV.wo(),this.PV.wo(),t.next=10,this.wL.wo();case 10:return this.HS(),this.Pw.Pv(),this.FV.Pv(),this.MV.Pv(),this.LV.Pv(),t.next=17,this.HV.Pv();case 17:this.UV.Pv(),this.VV.Pv(),this.Bo();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HX=function(){this.ES.addEventListener("play",this.wX),this.ES.addEventListener("pause",this.yX),this.ES.addEventListener("timeupdate",this.RX),this.ES.addEventListener("progress",this.EX),this.ES.addEventListener("loadstart",this.SX),this.ES.addEventListener("ended",this.IX),this.ES.addEventListener("ratechange",this.AX),this.ES.addEventListener("volumechange",this.CX),this.ES.addEventListener("durationchange",this.TX),this.ES.addEventListener("resize",this.DX),this.ES.addEventListener("loadedmetadata",this.DX),this.ES.addEventListener("error",this.NX),qe()?(this.Ea.addEventListener("encrypted",this.OX),this.Ea.addEventListener("waitingforkey",this.xX)):void 0!==Or.WebKitMediaKeys&&"function"==typeof Or.WebKitMediaKeys.isTypeSupported?this.Ea.addEventListener("webkitneedkey",this.BX):ze()?this.Ea.addEventListener("webkitneedkey",this.LX):void 0!==Or.MSMediaKeys&&"function"==typeof Or.MSMediaKeys.isTypeSupported&&this.Ea.addEventListener("msneedkey",this.PX)},i.oW=function(){this.ES.removeEventListener("play",this.wX),this.ES.removeEventListener("pause",this.yX),this.ES.removeEventListener("timeupdate",this.RX),this.ES.removeEventListener("progress",this.EX),this.ES.removeEventListener("loadstart",this.SX),this.ES.removeEventListener("ended",this.IX),this.ES.removeEventListener("ratechange",this.AX),this.ES.removeEventListener("volumechange",this.CX),this.ES.removeEventListener("durationchange",this.TX),this.ES.removeEventListener("resize",this.DX),this.ES.removeEventListener("loadedmetadata",this.DX),this.ES.removeEventListener("error",this.NX),this.ES.removeEventListener("encrypted",this.OX),this.ES.removeEventListener("waitingforkey",this.xX),this.ES.removeEventListener("webkitneedkey",this.BX),this.ES.removeEventListener("webkitneedkey",this.LX),this.ES.removeEventListener("msneedkey",this.PX)},i.GU=function(){var t;this.xV||(this.ZV=this.Ty,this.xV=new US((t=this).B_,t.L_,t.M_,t.H_,t.X_,t.F_,t.V_,t.z_),this.oW(),this.xV.Oo(MS,this.Co))},i.jU=function(){if(this.xV){var t,n,i=this.xV;this.xV=void 0,t=this,(n=i).L_===t.L_||w(n.L_)&&w(t.L_)||t.Do(new Hl(t.L_)),t.F_=n.F_,t.z_=n.z_,t.V_=n.V_,n.H_?t.Ww():t.Xw().catch(S),n.B_!==t.B_?t.oh(n.B_):!n.X_&&t.X_?t.Do(new zl(t.B_)):n.X_&&!t.X_&&t.Do(new Gl(t.B_)),!n.M_&&t.M_&&t.Do(new Wl(t.B_)),i.Lo(MS,this.Co),this.HX()}},i.cS=function(t){this.nS=t,this.jX(this.nS),this.Do(new zS(this.nS))},i.hW=function(){this.aW||(IC(this.Ea,b.xu),this.eX=!0)},i.cW=function(t){t.appendChild(this.Ea)},i.PU=function(){PI&&this.vX(),this.PV.JU()},i.ay=function(){this.wL.NV().catch(S)},L(n,[{key:"KU",get:function(){return this.rX}},{key:"vy",get:function(){return this.tS?this.tS.vy:Yp._I()}},{key:"ly",get:function(){var t=this.YS;if(t&&!w(t.getTime())){var n=1e3*this.B_;return new Date(t.getTime()+n)}}},{key:"YS",get:function(){if(this.ES.getStartDate)return this.bI&&this.zV||(this.zV=this.ES.getStartDate()),this.zV}},{key:"B_",get:function(){return this.xV?this.xV.B_:void 0!==this.WV?this.WV:this.Ea.currentTime}},{key:"bB",get:function(){return this.DV}},{key:"L_",get:function(){return this.xV?this.xV.L_:this.tS?this.tS.L_:this.Ea.duration}},{key:"M_",get:function(){return this.X_?this.XX():this.xV?this.xV.M_:this.Ea.ended||this.KV}},{key:"Go",get:function(){return this.nS}},{key:"ES",get:function(){return this.Ea}},{key:"H_",get:function(){return this.nX?this.iX:this.xV?this.xV.H_:this.Ea.paused}},{key:"Ty",get:function(){return this.ZV.JR(Yp.vI(this.Ea.played))}},{key:"Ep",get:function(){return this.Ea.offsetHeight*b.xu.eu}},{key:"fu",get:function(){return this.Ea.offsetWidth*b.xu.eu}},{key:"FS",get:function(){return $p}},{key:"Kl",get:function(){return this.PV.Kl}},{key:"Sy",get:function(){return this.tS?this.tS.Sy:Yp._I()}},{key:"X_",get:function(){return this.xV?this.xV.X_:this.bI}},{key:"F_",get:function(){return this.xV?this.xV.F_:this.Ea.muted},set:function(t){this.xV?this.xV.F_=t:this.Ea.muted=t}},{key:"V_",get:function(){return this.xV?this.xV.V_:void 0!==this.JV?this.JV:this.Ea.playbackRate},set:function(t){this.xV?this.xV.V_=t:this.H_||this.rX?(this.JV=t,this.bX(t)):(this.JV=void 0,this.Ea.playbackRate=t)}},{key:"fW",get:function(){return this.pR}},{key:"z_",get:function(){return this.xV?this.xV.z_:this.Ea.volume},set:function(t){this.xV?this.xV.z_=t:this.Ea.volume=t}},{key:"Hw",get:function(){return this.VV}},{key:"EB",get:function(){return this.RI}},{key:"gy",get:function(){return!!this.Ea.webkitCurrentPlaybackTargetIsWireless}},{key:"aW",get:function(){return this.eX}},{key:"vW",get:function(){return _e({},rS)}},{key:"SS",get:function(){return this.wL.SS},set:function(t){this.wL.SS=t}},{key:"CV",get:function(){return this.wL.CV}}]),n}(Ss);function FI(t){try{var n=Vu(t),i=new ju;return xu(Pu(vu(n,i,yu(n,i,!0)),!0))}catch(t){return}}var HI=.01;function VI(t,n,i){if(void 0===i&&(i=0),!n.Cl)return 0;var r=n.XR(t),e=HI*i;return r===n.NR(0)?r+=e:r===n.OR(n.Cl-1)&&(r-=e),r}function XI(t){return!!t.cues&&t.cues.length>0}var WI=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Zd=void 0,n}return U(n,t),L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=AE(this)),this.Zd}},{key:"zP",get:function(){}},{key:"GP",get:function(){}},{key:"jP",get:function(){}},{key:"QP",get:function(){}},{key:"YP",get:function(){}},{key:"ZP",get:function(){}},{key:"JP",get:function(){}}]),n}(Ss),qI=(new WI,function(t){function n(n,i,r){return t.call(this,n,i,r,new WI)||this}return U(n,t),n.prototype.ny=function(){},L(n,[{key:"W_",get:function(){return 0}},{key:"q_",get:function(){return 0}}]),n}(UI)),zI="theoplayer-texttracks",GI=function(){function t(t){void 0===t&&(t=5),this.dW=void 0;var n=Or.document.createElement("div");n.className=zI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.dW=n,this.Kw()}var n=t.prototype;return n.ty=function(){this.dW.style.display="none"},n.Kw=function(){Wr(this.dW.style,"flex")},n.cW=function(t){t.appendChild(this.dW)},n.Pv=function(){Vr(this.dW)},L(t,[{key:"_y",get:function(){return this.dW}}]),t}();function jI(t,n){return t?_e({},n,Ld({QP:t.QP,jP:t.jP,GP:t.GP,zP:t.zP,YP:t.YP,ZP:t.ZP,JP:t.JP})):n}function QI(t){return t.jP&&yr(t.jP,"%")?Number(t.jP.replace("%",""))/100:t.jP&&yr(t.jP,"em")?Number(t.jP.replace("em","")):1}var YI,ZI,JI=function(){function t(t,n,i,r,e){var s=this;this.lW=we(),this._W=!0,this.gW=void 0,this.um=void 0,this.Ea=void 0,this.DV=void 0,this.wW=void 0,this.yW=function(t){return s.lW.has(t.dm)},this.mW=function(t){return!s.yW(t)},this.kW=function(t){return s.Mb(t.zy)},this.pW=function(t){return s.removeCue(t.zy)},this.AW=function(){return s.bW()},this.TW=function(t){return s.EW(t.zy)},this.SW=function(t){return s.RW(t.zy)},this.IW=function(t){s.NW(t.fu,t.Ep)},this.um=t,this.wW=this.gW=e,this.Ea=this.DW(i),this.DV=r,n.appendChild(this.Ea),this.OW(),this.um.t_.Nl.forEach(function(t){return s.Mb(t)}),this.bB.Oo("TD",this.IW),this.NW(this.bB.OD,this.bB.DD)}var n=t.prototype;return n.xW=function(t){this.gW=jI(t,this.wW),this.gW.zP&&(this.ES.style.fontFamily=this.gW.zP),this.gW.JP&&(this.ES.style.visibility=this.gW.JP),this.NW(this.bB.OD,this.bB.DD),this.PW()},n.BW=function(){return this.gW},n.OW=function(){this.um.Oo(md.tl,this.kW),this.um.Oo(md.il,this.pW),this.um.Oo(md.vl,this.AW)},n.LW=function(){var t=this;this.um.Lo(md.tl,this.kW),this.um.Lo(md.il,this.pW),this.um.Lo(md.vl,this.AW),this.um.t_.Nl.forEach(function(n){return t.MW(n)})},n.UW=function(t){t.Oo(rg.Vy,this.TW),t.Oo(rg.Wy,this.SW)},n.MW=function(t){t.Lo(rg.Vy,this.TW),t.Lo(rg.Wy,this.SW)},n.Mb=function(t){t.dm||(t.dm=this.FW),this.UW(t),t.vm&&this.EW(t)},n.removeCue=function(t){this.MW(t),this.RW(t)},n.bW=function(){this.um.$l===Qd.Yl?this.HW():this.VW()},n.HW=function(){var t=this,n=this.bB.OD,i=this.bB.DD,r=new $b(n,i);this.IW(r),this._W=!1,this.XW.forEach(function(n){return t.EW(n)})},n.EW=function(t){this._W||this.mW(t)&&(this.WW(t),this.lW.set(t.dm,t))},n.WW=function(t){var n=this.Ea,i=this.qW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.dm,n.appendChild(e)}},n.VW=function(){var t=this;this._W=!0,this.lW.forEach(function(n){return t.RW(n)})},n.RW=function(t){this.yW(t)&&(this.zW(t),this.lW.delete(t.dm))},n.zW=function(t){for(var n=this.Ea,i=n.getElementsByClassName(t.dm);i.length;)n.removeChild(i[0])},n.PW=function(){for(var t=0,n=this.GW;t<n.length;t++){var i=n[t];this.zW(i),this.WW(i)}},n.Pv=function(){Vr(this.ES),this.LW(),this.bB.Lo("TD",this.IW)},L(t,[{key:"Kd",get:function(){return this.um}},{key:"ES",get:function(){return this.Ea}},{key:"bB",get:function(){return this.DV}},{key:"jW",get:function(){return this.gW}},{key:"GW",get:function(){return this.um.n_.Nl.filter(this.yW)}},{key:"XW",get:function(){return this.um.n_.Nl.filter(this.mW)}}]),t}();function $I(t){return KI[t||"none"]}!function(t){t.QW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.YW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.ZW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.JW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(YI||(YI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(ZI||(ZI={}));var KI={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function tN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var nN=me({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),iN=me({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),rN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=nN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){kr(t,"px")?t=_(t)/24+"em":kr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=iN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(kr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},eN=0,sN={GP:ZI.WHITE,zP:"Arial, Helvetica, Sans-Serif",jP:"100%",QP:ZI.TRANSPARENT,YP:ZI.TRANSPARENT,ZP:"none",JP:"visible"},uN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,sN)||this}U(n,t);var i=n.prototype;return i.DW=function(t){var n=e.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.NW=function(t,n){var i=n/15;this.ES.style.fontSize=i+"px"},i.qW=function(t){if(t.Kd&&t.Kd.Ku!==K_.TTML)return[];var n,i=[],r=t,s=r._b,u=r.Tm,o=r.Qy;if(0===d.keys(u).length){Xr(n=e.createElement("div"),r.dm),dN(n);for(var h=oN(o,s,r.gb,void 0,this.ES),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=d.keys(u);f<v.length;f++){var l=v[f],_=e.createElement("div");_.id=l,Xr(_,r.dm);var g=oN(o,s,r.gb,_,this.ES);if(g){dN(_),cN(_,u[l],s,this.ES);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.xW=function(t){},L(n,[{key:"FW",get:function(){return"theoplayer-ttmlcue-"+eN++}}]),n}(JI);function oN(t,n,i,r,e){var s,u;if(nn(t)&&("SPAN"===(u=t).os.toUpperCase()||"P"===u.os.toUpperCase()||"BR"===u.os.toUpperCase()||"DIV"===u.os.toUpperCase()||"BODY"===u.os.toUpperCase())){var o=function t(n){var i=n.bs("region");if("p"===n.os.toLowerCase())return i;var r=[];for(var e=0,s=n.As;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.bs("style");vN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Ns).forEach(function(n){var r=Uw(n.hs,["ebutts","tts","xml"]);rN[r]&&rN[r](n.fs,t,i)})}(t,n,r)})(s="BODY"===t.os.toUpperCase()?r:hN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.bs("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.As)for(var e=0,s=null==n?void 0:n.As;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Ns.some(function(t){return"id"===t.os&&t.fs===r})});e&&fN(t,e,n,!0)}!function(t,n){var i=n.As[0];if(!i||"metadata"!==i.os.toLowerCase())return;var r=i.As[0];fN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t._s,c=0;c<a.length;c++){var f=oN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.os.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else rn(t)&&(s=hN(t));if(s)return[s]}function hN(t){var n,i;if(rn(t))tN(n=e.createElement("text"),t.Ds);else if(nn(t))switch(t.os.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":n=e.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",aN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=e.createElement("p")),aN(n,t);break;case"DIV":(n=e.createElement("div")).style.position="absolute",aN(n,t)}return n}function aN(t,n){var i=n.Ts(Bw,"id");i&&(t.id=i)}function cN(t,n,i,r){vN(t,n.style,i,r),d.keys(n).forEach(function(i){rN[i]&&rN[i](n[i],t)})}function fN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var s=e.createElement("img");s.src=function(t){var n=t&&t._s.length>0?t._s[0]:null;return n&&rn(n)?"data:image/png;base64,"+n.Ds:""}(n),s.id=t.id,s.style.height="100%",s.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.bs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.bs("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(s)}function vN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(e){var s=Uw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?vN(t,i[n][e],i,r):rN[s]&&rN[s](i[n][e],t,r)})})}function dN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var lN,_N,gN=void 0;function wN(t,n){for(var i,r=lN.$W,e="",s=[],u=t.charAt(n.ah),o="",h={Ku:_N.KW,gs:"",tq:[]};n.ah<t.length+1;){switch(u=n.ah<t.length?t.charAt(n.ah):"EOF",r){case lN.$W:switch(u){case"&":var a=t.substr(n.ah).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],gN||(gN=Or.document.createElement("textarea")),gN.innerHTML=i,gN.value),n.uh(a[0].length-1)):e+="&";break;case"<":if(e)return{Ku:_N.nq,Qy:e};r=lN.iq;break;case"EOF":return{Ku:_N.nq,Qy:e};default:e+=u}break;case lN.iq:switch(u){case"\t":case"\n":case"\f":case" ":r=lN.rq;break;case".":r=lN.sq;break;case"/":r=lN.uq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=lN.oq;break;case">":return n.uh(1),h;case"EOF":return h;default:e=u,r=lN.hq}break;case lN.hq:switch(u){case"\t":case"\f":case" ":r=lN.rq;break;case"\n":o=u,r=lN.rq;break;case".":r=lN.sq;break;case">":return n.uh(1),{Ku:_N.KW,gs:e,tq:[]};case"EOF":return{Ku:_N.KW,gs:e,tq:[]};default:e+=u}break;case lN.sq:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=lN.rq;break;case"\n":s.push(o),o=u,r=lN.rq;break;case".":s.push(o),o="";break;case">":return n.uh(1),s.push(o),{Ku:_N.KW,gs:e,tq:s};case"EOF":return s.push(o),{Ku:_N.KW,gs:e,tq:s};default:o+=u}break;case lN.rq:switch(u){case"&":r=lN.aq;break;case">":n.uh(1);var c=o.trim();return c=c.replace(/\s/," "),{Ku:_N.KW,gs:e,tq:s,cq:c};default:o+=u}break;case lN.aq:for(var f="",v=n.ah;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=lN.rq;break;case lN.uq:switch(u){case">":return n.uh(1),{Ku:_N.fq,gs:e};case"EOF":return{Ku:_N.fq,gs:e};default:e+=u}break;case lN.oq:switch(u){case">":return n.uh(1),{Ku:_N.vq,dq:e};case"EOF":return{Ku:_N.vq,dq:e};default:e+=u}}n.uh(1)}}!function(t){t.$W="Data",t.iq="Tag",t.hq="StartTag",t.sq="StartTagClass",t.rq="StartTagAnnotation",t.aq="CharRefInAnnotation",t.uq="EndTag",t.oq="TimestampTag"}(lN||(lN={})),function(t){t.nq="string",t.KW="starttag",t.fq="endtag",t.vq="timestamp"}(_N||(_N={}));var yN,mN,kN={GP:ZI.WHITE,zP:"sans-serif",jP:"100%",QP:"rgba(0,0,0,0.8)",YP:ZI.TRANSPARENT,ZP:"none",JP:"visible"},pN="theoplayer-webvtt-region-",AN="theoplayer-webvtt-styling-",bN="theoplayer-webvtt-voice-",TN=5.23,EN=1.14,SN=0,RN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,kN)||this).lq={},s._q=ON(3),s}U(n,t);var i=n.prototype;return i.DW=function(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,zr(n),Wr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.jW.zP,n.style.whiteSpace="pre-line",n},i.NW=function(t,n){for(var i=n/100,r=t/100,e=l.min(i,r),s=QI(this.jW),u=0,o=d.keys(this.gq);u<o.length;u++){var h=o[u],a=this.gq[h].wq;this.yq(a,e,s,this.gq[h].tm)}this.yq(this.mq,e,s),this.kq()},i.kq=function(){var t=QI(this.jW);this.mq.style.padding=t>=1.5?"0":1/t+"em"},i.WW=function(t){var n=this.ES,i=this.bB.DD/100,r=this.mq;t.tm&&(this.gq[t.tm.Hl]||(this.gq[t.tm.Hl]={tm:t.tm,wq:xN(t.tm,i)}),r=this.gq[t.tm.Hl].wq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.qW(t);r.children.length>=1&&t.tm&&"up"===t.tm.ym&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t.dm,r.appendChild(u)}},i.qW=function(t){var n=[];return t&&n.push(this.pq(t)),n},i.pq=function(t){for(var n=new ju,i=t.Qy,r=this.Aq(t),s=r,u="",o=[],h={};n.ah<i.length;){var a=wN(i,n);if(a.Ku===_N.nq){var c=this.bq(a.Qy);IN(c,h),s.appendChild(c)}else if(a.Ku===_N.KW){switch(h[a.gs.toLowerCase()]||(h[a.gs.toLowerCase()]=[]),h[a.gs.toLowerCase()].push(a),a.gs.toLowerCase()){case"c":break;case"i":var f=e.createElement("i");s.appendChild(f),s=f;break;case"b":var v=e.createElement("b");s.appendChild(v),s=v;break;case"u":var d=e.createElement("u");s.appendChild(d),s=d;break;case"ruby":var l=e.createElement("ruby");s.appendChild(l),s=l;break;case"rt":if("ruby"===u){var _=e.createElement("rt");s.appendChild(_)}break;case"v":break;case"lang":o.push(a.cq)}u=a.gs||""}else if(a.Ku===_N.fq){h[a.gs.toLowerCase()]&&h[a.gs.toLowerCase()].pop(),(!a.gs||"C"!==a.gs.toUpperCase()&&"V"!==a.gs.toUpperCase())&&("LANG"===a.gs.toUpperCase()?o.pop():"RUBY"===a.gs.toUpperCase()&&"RUBY"===s.tagName?s=s.parentNode.parentNode:s.tagName&&s.tagName.toUpperCase()===a.gs.toUpperCase()&&(s=s.parentNode)),u=a.gs||""}else if(a.Ku===_N.vq){var g=a.dq,w=new ju;try{sw(g,w)}catch(t){_t("ERROR collecting timestamp",t)}}}return r},i.bq=function(t){var n=e.createElement("span");return tN(n,t),n.style.background=this.jW.QP,n.style.color=this.jW.GP,n},i.yq=function(t,n,i,r){if(r){var e=NN(r,n);t.style.height=e*i+"px",t.style.left=CN(r)+"%",t.style.top=DN(r,n)+"px"}t.style.fontSize=TN*n*i+"px"},i.Aq=function(t){var n=e.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Yy,function(t,n){"rl"===n.im?t.style.writingMode="vertical-rl":"lr"===n.im?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Ag(n);PN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=pg(n),s=kg(n),u=Ag(n);PN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.nm?0:mg(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.nm?0:mg(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.jW.YP,n.style.color=this.jW.GP,n.style.textShadow=$I(this.jW.ZP),n},i.zW=function(t){for(var n=t.dm,i=this.ES,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=d.keys(this.gq);o<h.length;o++){var a=h[o];if(yr(r[e].className,pN+a)){delete this.gq[a];break}}i.removeChild(r[e])}}},L(n,[{key:"gq",get:function(){return this.lq||(this.lq={}),this.lq}},{key:"mq",get:function(){return this._q||(this._q=ON(3)),this._q}},{key:"FW",get:function(){return"theoplayer-webvtt-cue-"+SN++}}]),n}(JI);function IN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.tq)for(var s=0,u=e.tq;s<u.length;s++){var o=u[s];Xr(t,AN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.cq&&Xr(t,bN+c.cq)}}function NN(t,n){return t._m*(TN*n)*EN}function CN(t){return t.mm-t.gm*t.fu/100}function DN(t,n){var i=t.km,r=t.wm*NN(t,n)/100;return l.max(0,i-r)}function ON(t){var n=e.createElement("div");return n.className=pN+"default",zr(n),Wr(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=TN*t+"px",n.style.lineHeight=EN+"em",n}function xN(t,n){var i=ON(n);i.className=pN+t.Hl;var r=t.fu,e=NN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=CN(t)+"%",i.style.top=DN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function PN(t){return""===t.im}!function(t){t[t.Tq=0]="Tq",t[t.Eq=1]="Eq",t[t.Sq=2]="Sq",t[t.Rq=3]="Rq",t[t.Iq=4]="Iq",t[t.Nq=5]="Nq"}(yN||(yN={})),function(t){t[t.Cq=0]="Cq",t[t.Dq=1]="Dq",t[t.Oq=2]="Oq",t[t.xq=3]="xq"}(mN||(mN={}));var BN=15,LN=32,MN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),UN=function(){function t(){this.Pq=[],this.Bq=0,this.Lq=void 0;for(var t=0;t<LN;t++)this.Pq.push(null);this.Lq=!1}var n=t.prototype;return n.Mq=function(t){for(var n=0;n<LN;n++)t&&(this.Pq[n]=t.Pq[n])},n.eg=function(t){for(var n=0;n<LN;n++)if(this.Pq[n]!==t.Pq[n])return!1;return!0},n.Uq=function(){for(var t=0;t<LN;t++)if(null!==this.Pq[t])return!1;return!0},n.Fq=function(t){this.Bq!==t&&(this.Bq=t),this.Bq<0?this.Bq=0:this.Bq>LN&&(this.Bq=LN-1)},n.Hq=function(t){var n=this.Bq+t;this.Fq(n)},n.Vq=function(){this.Hq(-1),this.Pq[this.Bq]=null},n.Xq=function(t){t>=144&&this.Vq();var n,i=MN[n=t]?String.fromCharCode(MN[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Bq>=LN||(32===Number(t)?(this.Pq[this.Bq]=this.Lq?"</i>":"<i>",this.Lq=!this.Lq):this.Pq[this.Bq]=t,this.Hq(1))},n.Wq=function(t){for(var n=t;n<LN;n++)this.Pq[n]=null},n.rh=function(){this.Wq(0),this.Bq=0},n.qq=function(){this.Wq(this.Bq)},n.zq=function(t,n){for(var i=this.Pq,r=null,e=0;e<LN;e++){var s=i[e];null===s?r=null:(r||(r={Gq:e,jq:t,fu:0,Ep:1,Pq:[[]]},n.push(r)),r.Pq[0].push(s),r.fu++)}},n.lw=function(t,n){return t.Qq(this.Pq,n)},t}();var FN=function(){function t(){this.Yq=void 0,this.Zq=void 0,this.Jq=null,this.Yq=[];for(var t=0;t<BN;t++)this.Yq.push(new UN);this.Zq=BN-1,this.Il()}var n=t.prototype;return n.Mq=function(t){for(var n=0;n<BN;n++)this.Yq[n].Mq(t.Yq[n])},n.eg=function(t){for(var n=!0,i=0;i<BN;i++)if(!this.Yq[i].eg(t.Yq[i])){n=!1;break}return n},n.Uq=function(){for(var t=!0,n=0;n<BN;n++)if(!this.Yq[n].Uq()){t=!1;break}return t},n.Il=function(){for(var t=0;t<BN;t++)this.Yq[t].rh();this.Zq=BN-1},n.Xq=function(t){this.Yq[this.Zq].Xq(t)},n.$q=function(){this.Yq[this.Zq].Vq()},n.qq=function(){this.Yq[this.Zq].qq()},n.Kq=function(){if(null!==this.Jq){var t=this.Zq+1-this.Jq,n=this.Yq[t];n&&(ts(this.Yq,t),n.rh(),this.Yq.splice(this.Zq,0,n))}},n.Hq=function(t){this.Yq[this.Zq].Hq(t)},n.tz=function(t){this.Jq=t},n.nz=function(t){var n=t.iz;this.Jq&&n<this.Jq-1&&(n=this.Jq-1),this.Zq=n;var i=this.Yq[this.Zq];null!==t.rz&&i.Fq(t.rz)},n.ez=function(){for(var t=this.Yq,n=[],i=0;i<t.length;i++){t[i].zq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];VN(s,o)&&(s=HN(s,o),ts(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map(XN)},n.lw=function(t){return t.sz(this.Yq)},t}();function HN(t,n){for(var i=l.min(t.Gq,n.Gq),r=l.min(t.jq,n.jq),e=l.max(t.Gq+t.fu,n.Gq+n.fu)-i,s=l.max(t.jq+t.Ep,n.jq+n.Ep)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.Pq[o+r-t.jq];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.Gq]=a[c]);var f=n.Pq[o+r-n.jq];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.Gq]=f[v]);u[o]=h}return{Gq:i,jq:r,fu:e,Ep:s,Pq:u}}function VN(t,n){return t.Gq<=n.Gq+n.fu&&n.Gq<=t.Gq+t.fu&&t.jq<=n.jq+n.Ep&&n.jq<=t.jq+t.Ep}function XN(t){for(var n=new Array(t.Ep),i=t.Pq,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{Gq:t.Gq,jq:t.jq,fu:t.fu,Ep:t.Ep,Qy:a}}var WN=function(){function t(t,n){this.iz=t,this.rz=n}return t.prototype.eg=function(t){return this.iz===t.iz&&this.rz===t.rz},t}(),qN=function(){function t(t){this.uz=void 0,this.oz=void 0,this.hz=t,this.uz=this.az(),this.oz=this.cz()}var n=t.prototype;return n.az=function(){for(var t=new WN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.fz;n<i.length;n++){var r=i[n],e=l.min(t.iz,r.vz.iz),s=l.min(t.rz,r.vz.rz);t=new WN(e,s)}return t},n.cz=function(){for(var t=new WN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.fz;n<i.length;n++){var r=i[n],e=l.max(t.iz,r.dz.iz),s=l.max(t.rz,r.dz.rz);t=new WN(e,s)}return t},L(t,[{key:"vz",get:function(){return this.uz}},{key:"dz",get:function(){return this.oz}},{key:"fz",get:function(){return es(this.hz.map(function(t){return t.fz}))}}]),t}(),zN=function(){function t(t,n){this.lz="",this.$P=t,this.uz=n}var n=t.prototype;return n.Xq=function(t){this.lz+=t},n._z=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Xq(i)}},L(t,[{key:"gz",get:function(){return this.lz}},{key:"fz",get:function(){return[this]}},{key:"wz",get:function(){return this.$P}},{key:"vz",get:function(){return this.uz}},{key:"dz",get:function(){return new WN(this.vz.iz,this.vz.rz+this.gz.length-1)}}]),t}(),GN=function(){function t(){}var n=t.prototype;return n.yz=function(t){return t.lw(this)},n.sz=function(t){var n=this;return es(t.map(function(t,i){return t.lw(n,i)}))},n.Qq=function(t,n){return new jN(t,n).mz()},t}(),jN=function(){function t(t,n){this.kz=[],this.pz=null,this.iz=t,this.Az=n}var n=t.prototype;return n.mz=function(){if(this.bz)return[];for(var t=0;t<this.iz.length;t++)this.Tz(t);return this.Ez(),this.kz},n.Sz=function(t){this.pz=new zN(nC,new WN(this.Az,t))},n.Ez=function(){this.pz&&(this.kz.push(this.pz),this.pz=null)},n.Tz=function(t){var n=this.iz[t];QN(n)?this.pz&&this.Ez():(this.pz||this.Sz(t),this.pz.Xq(n))},L(t,[{key:"bz",get:function(){return this.iz.every(QN)}}]),t}();function QN(t){return null==t}var YN,ZN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return U(n,t),n}(gg),JN=function(t){function n(n,i){var r;return(r=t.call(this,"Iz")||this).Rz=n,r.zy=i,r}return U(n,t),n}(Is);!function(t){t[t._R=0]="_R",t[t.Nz=1]="Nz",t[t.Cz=2]="Cz",t[t.Dz=3]="Dz",t[t.Je=4]="Je"}(YN||(YN={}));var $N,KN=function(t){function n(){var n;return(n=t.call(this)||this).qg=0,n.Gy=0,n.Oz=void 0,n.xz=void 0,n.Pz=void 0,n.Bz=void 0,n.$l=YN._R,n.Oz=new FN,n.xz=new FN,n.Pz=new FN,n.Bz=n.Oz,n}U(n,t);var i=n.prototype;return i.Xq=function(t){this.Bz.Xq(t),this.$l!==YN.Nz&&this.$l!==YN.Cz||this.Lz()},i.eN=function(t){t!==this.$l&&(this.$l=t,this.$l===YN.Dz?this.Bz=this.xz:(this.Bz=this.Oz,this.Bz.Il()),this.$l!==YN.Cz&&(this.Oz.tz(null),this.xz.tz(null)))},i.nz=function(t){this.Bz.nz(t)},i.Mz=function(){this.eN(YN.Dz)},i.Uz=function(){this.$l!==YN.Je&&(this.Bz.$q(),this.Bz===this.Oz&&this.Lz())},i.Fz=function(){},i.Hz=function(){},i.Vz=function(){this.Bz.qq(),this.Lz()},i.Xz=function(t){this.Bz=this.Oz,this.eN(YN.Cz),this.Bz.tz(t)},i.Wz=function(){},i.qz=function(){this.eN(YN.Nz)},i.zz=function(){this.eN(YN.Je)},i.Gz=function(){this.eN(YN.Je)},i.jz=function(){this.Oz.Il(),this.Lz()},i.Qz=function(){this.Bz.Kq(),this.Lz()},i.Yz=function(){this.xz.Il()},i.Zz=function(){if(this.$l===YN.Dz){var t=this.Oz;this.Oz=this.xz,this.xz=t,this.Bz=this.xz}this.Lz()},i.Jz=function(t){this.Bz.Hq(t)},i.Lz=function(){if(null!==this.qg){if((null===this.Gy||0===this.Gy)&&!this.Oz.Uq())this.Gy=this.qg;else if(!this.Oz.eg(this.Pz)){var t=this.$z();if(this.qg>this.Gy){var n=new ZN(this.Gy,this.qg,t);this.Do(new JN(1,n))}this.Gy=this.Oz.Uq()?null:this.qg}this.Pz.Mq(this.Oz)}},i.$z=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return l.abs(t.dz.rz-n.vz.rz)<=1||l.abs(n.dz.rz-t.vz.rz)<=1||l.abs(t.dz.iz-n.vz.iz)<=1||l.abs(n.dz.iz-t.vz.iz)<=1}(o=r,h=u)||function(t,n){return tC(t.vz.iz,t.dz.iz,n.vz.iz,n.dz.iz)&&tC(t.vz.rz,t.dz.rz,n.vz.rz,n.dz.rz)}(o,h))&&(r=new qN([].concat(r.fz,u.fz)),Ke(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new GN).yz(this.Pz))},i.Il=function(){this.qg=0,this.Gy=0,this.Oz.Il(),this.Oz.tz(null),this.xz.Il(),this.xz.tz(null),this.Pz.Il(),this.Pz.tz(null),this.Bz=this.Oz,this.$l=YN._R},n}(Ss);function tC(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}($N||($N={}));var nC={GP:ZI.WHITE,zP:YI.ZW,jP:"100%",QP:ZI.BLACK,YP:"transparent",ZP:"none",Kz:$N.FONT_REGULAR,JP:"visible"},iC=[{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.GREEN,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.GREEN,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.BLUE,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.BLUE,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.CYAN,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.CYAN,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.RED,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.RED,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.YELLOW,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.YELLOW,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.MAGENTA,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.MAGENTA,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_ITALICS,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE_ITALICS,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:0},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:4},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:4},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:8},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:8},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:12},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:12},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:16},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:16},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:20},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:20},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:24},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:24},{tG:ZI.WHITE,Kz:$N.FONT_REGULAR,rz:28},{tG:ZI.WHITE,Kz:$N.FONT_UNDERLINE,rz:28}],rC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],eC=function(t){function n(){var n;(n=t.call(this)||this).nG=void 0,n.iG=null,n.rG=null,n.eG=0;var i=new KN;return n.nG=[i,new KN],i.Oo("Iz",n.Co),n}U(n,t);var i=n.prototype;return i.Il=function(){for(var t=0,n=this.nG;t<n.length;t++){n[t].Il()}},i.sG=function(t,n){if(n.Ku===mN.Cq&&n.uG){n.oG&&(this.eG=0),this.nG[this.eG].qg=t;var i=127&n.hG,r=127&n.aG;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.cG(),r>=48&&r<=63&&this.fG(i,r);break;case 18:case 19:r>=32&&r<=63&&this.fG(i,r);break;case 20:case 21:r>=32&&r<=47&&this.vG(i,r);break;case 23:r>=33&&r<=35&&this.vG(i,r),r>=46&&r<=47&&this.cG()}16===i&&r>=64&&r<=95?this.dG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.dG(i,r),i>=32&&this.fG(i,r)}}},i.vG=function(t,n){var i=null;if(t===this.iG&&n===this.rG)return this.iG=null,this.rG=null,!0;i=20===t||23===t?0:1;var r=this.nG[i];return 20===t||28===t?32===n?r.Mz():33===n?r.Uz():34===n?r.Fz():35===n?r.Hz():36===n?r.Vz():37===n?r.Xz(2):38===n?r.Xz(3):39===n?r.Xz(4):40===n?r.Wz():41===n?r.qz():42===n?r.zz():43===n?r.Gz():44===n?r.jz():45===n?r.Qz():46===n?r.Yz():47===n&&r.Zz():r.Jz(n-32),this.iG=t,this.rG=n,this.eG=i,!0},i.dG=function(t,i){t===this.iG&&i===this.rG&&(this.iG=null,this.rG=null);var r=t<=23?0:1,e=rC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n.lG(e,i);this.nG[r].nz(s),this.iG=t,this.rG=i,this.eG=r}},n.lG=function(t,n){var i=n>95?n-96:n-64;return{tG:iC[i].tG,Kz:iC[i].Kz,rz:iC[i].rz,iz:t}},i.fG=function(t,n){var i=t>=25?t-8:t,r=this.nG[this.eG],e=!1;switch(i){case 17:r.Xq(n+80),e=!0;break;case 18:r.Xq(n+112),e=!0;break;case 19:r.Xq(n+144),e=!0;break;default:t>=32&&(r.Xq(t),n>=32&&r.Xq(n),e=!0)}e&&(this.iG=null,this.rG=null)},i.cG=function(){this.nG[this.eG].Bz.Hq(1)},i.Pv=function(){this.Bo()},L(n,[{key:"Yp",get:function(){return this.nG.length}}]),n}(Ss),sC=function(){function t(t,n,i){this._G=void 0,this.gG=t,this.wG=n,this.gW=i}var n=t.prototype;return n.yG=function(){return this._G=this.mG(),this.kG(),this.pG(),this._G},n.mG=function(){var t=e.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.AG/LN*this.wG.bG*100+"%",t.style.height=1.2*this.TG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.wG.EG?"calc(1em - 1ch)":"",t.style.fontFamily=this.gW.zP,t.style.backgroundColor=this.gW.YP,t},n.kG=function(){var t=this.SG.iz/BN*100,n=this.SG.rz/LN*100,i=(LN-this.RG.rz-1)/LN*100,r=(BN-this.RG.iz-1)/BN*100;this.wG.IG||(n=i=1,this._G.style.width="98%"),r<t?this._G.style.bottom=r*this.wG.bG+"%":this._G.style.top=t*this.wG.bG+"%",i<n?this._G.style.right=i+"%":this._G.style.left=n+"%"},n.pG=function(){for(var t=this.gG.fz.sort(uC),n=0;n<t.length;n++)this.NG(t[n-1],t[n]),this.CG(t[n]);this.NG(t[t.length-1],null)},n.CG=function(n){var i=jI(this.gW,n.wz),r=t.DG(i);tN(r,n.gz),this._G.appendChild(r)},t.DG=function(t){var n=e.createElement("span");return n.style.display="inline-block",t.Kz!==$N.FONT_ITALICS&&t.Kz!==$N.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Kz!==$N.FONT_UNDERLINE&&t.Kz!==$N.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.GP,n.style.backgroundColor=t.QP,n.style.textShadow=$I(t.ZP),n.style.height="1.2em",n},n.NG=function(t,n){var i=t?t.dz.iz:this.gG.vz.iz,r=n?n.vz.iz:this.gG.dz.iz,e=t?t.dz.rz:this.gG.vz.rz,s=n?n.vz.rz:this.gG.dz.rz;i<r&&(!n||t&&t.vz.iz!==n.vz.iz?this.OG():this.xG(this.gG.dz.rz-e),e=this.gG.vz.rz),e<s&&(n?this.xG(s-e):this.OG())},n.OG=function(){var t=e.createElement("br");this._G.appendChild(t)},n.xG=function(t){if(!(t<=0)){var n=e.createElement("span");n.style.display="inline-block",tN(n,Ar(" ",t)),this._G.appendChild(n)}},L(t,[{key:"SG",get:function(){return this.gG.vz}},{key:"RG",get:function(){return this.gG.dz}},{key:"AG",get:function(){return this.gG.dz.rz-this.gG.vz.rz+1}},{key:"TG",get:function(){return this.gG.dz.iz-this.gG.vz.iz+1}}]),t}();function uC(t,n){return function(t,n){if(t.iz!==n.iz)return t.iz-n.iz;return t.rz-n.rz}(t.vz,n.vz)}var oC=0;var hC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,nC)||this).PG=void 0,s.BG=void 0,s}U(n,t);var i=n.prototype;return i.DW=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.jW.zP&&(n.style.fontFamily=this.jW.zP),n},i.NW=function(t,n){this.LG()},i.LG=function(){var t,n=QI(this.jW);this.BG={bG:(t=100*n)/100,EG:t<=100,IG:t<=150};var i=this.MG/LN;this.PG=i*n,this.ES.style.fontSize=this.PG+"px"},i.qW=function(t){var n=this;return this.BG&&this.BG.IG?this.UG(80):this.UG(100),this.LG(),t.Qy.map(function(t){return new sC(t,n.BG,n.jW).yG()})},i.UG=function(t){var n=(100-t)/2;this.ES.style.left=n+"%",this.ES.style.width=t+"%"},L(n,[{key:"MG",get:function(){var t=this.ES.offsetWidth;return this.BG&&this.BG.IG||(t*=.8),t}},{key:"FW",get:function(){return"theoplayer-cea608-texttrack-"+oC++}}]),n}(JI),aC=function(){function t(t,n,i,r,e){var s=this;this.FG=void 0,this.DV=void 0,this.Pw=void 0,this.HG=void 0,this.VG=[],this.RI=void 0,this.XG=function(t){var n=t.Kd;n.Oo(md.ll,s.WG),n.Oo(md.gl,s.WG),n instanceof sI&&(n.hH=s.hH),s.qG(n)},this.WG=function(t){var n=t.Kd;s.qG(n)},this.zG=function(t){var n=t.Kd;n.Lo(md.ll,s.WG),n.Lo(md.gl,s.WG),s.GG(n)},this.jG=function(){for(var t=s.hH,n=0,i=s.Pw.Nl;n<i.length;n++){var r=i[n];r instanceof sI&&(r.hH=t)}},this.QG=function(){for(var t=0,n=s.VG;t<n.length;t++){n[t].xW(s.RI)}},this.YG=function(){for(var t=0,n=s.VG;t<n.length;t++){var i=n[t];i.xW(_e({},i.BW(),{JP:"hidden"}))}},this.ZG=function(){for(var t=0,n=s.VG;t<n.length;t++){var i=n[t];i.xW(_e({},i.BW(),{JP:"visible"}))}},this.FG=t,this.DV=n,this.Pw=i,this.HG=e,this.RI=r,this.Pw.Oo(_d.Gd,this.XG),this.Pw.Oo(_d.Qd,this.zG),this.Pw.Oo("dl",this.WG),this.HG.Oo(jp.vl,this.jG),this.RI.Oo("dl",this.QG),this.jG()}var n=t.prototype;return n.JG=function(t){for(var n=0,i=this.VG;n<i.length;n++){var r=i[n];if(r.Kd===t)return r}},n.$G=function(t){switch(t.Ku){case K_.TTML:case K_.SRT:case K_.WEBVTT:case K_.CEA608:return!0}return!1},n.KG=function(t){switch(t.Ku){case K_.TTML:return new uN(t,this.FG,t.Wl,this.DV);case K_.SRT:case K_.WEBVTT:return new RN(t,this.FG,t.Wl,this.DV);case K_.CEA608:return new hC(t,this.FG,t.Wl,this.DV)}},n.tj=function(t){var n=this.JG(t);n||((n=this.KG(t)).xW(this.RI),this.VG.push(n),t.$l===Qd.Yl&&n.HW())},n.GG=function(t){for(var n=this.VG,i=n.length-1;i>=0;i-=1){var r=n[i];r.Kd===t&&(r.Pv(),ts(n,i))}},n.qG=function(t){var n;(n=t.Xl)!==Kw.gk&&n!==Kw.Eb||!this.$G(t)||(t.Kl===$_.ERROR?this.GG(t):this.tj(t))},n.Il=function(){for(var t=0,n=this.VG;t<n.length;t++){var i=n[t];i.Kd.Lo(md.ll,this.WG),i.Kd.Lo(md.gl,this.WG),i.Pv()}rs(this.VG)},n.Pv=function(){this.Il();for(var t=0,n=this.VG;t<n.length;t++){n[t].Pv()}this.Pw.Lo(_d.Gd,this.XG),this.Pw.Lo(_d.Qd,this.zG),this.Pw.Lo("dl",this.WG),this.HG.Lo(jp.vl,this.jG),this.RI.Lo("dl",this.QG)},L(t,[{key:"hH",get:function(){return this.HG.wI}}]),t}();function cC(t){var n=new pT,i=function(t){var n=[];return mT.tO(t)&&n.push(new mT(t)),kT.tO(t)&&n.push(new kT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.sO(e)}n.eO(i[0])}return n}var fC,vC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).nj=void 0,s.ij=void 0,s.rj=void 0,s.rj=cC(n),s.nj=new GI,s.ij=new aC(s.nj._y,s.bB,s.Hw,s.EB,s.FS),s}U(n,t);var i=n.prototype;return i.ny=function(){return this.Ea},i.wo=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.rj.Pv(),this.nj.Pv(),this.ij.Pv(),n.next=5,t.prototype.wo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.ty=function(){t.prototype.ty.call(this),this.nj.ty()},i.Kw=function(){t.prototype.Kw.call(this),this.nj.Kw()},i.cW=function(n){t.prototype.cW.call(this,n),this.nj.cW(n)},L(n,[{key:"ES",get:function(){return this.Ea}},{key:"W_",get:function(){return this.Ea.videoHeight}},{key:"q_",get:function(){return this.Ea.videoWidth}},{key:"FS",get:function(){return this.rj}}]),n}(UI);!function(t){t.ej="HELLO",t.sj="HI_THERE",t.uj="INITIALIZE",t.oj="APPEND_INIT",t.hj="APPEND_DATA",t.aj="ACK",t.cj="REMOVE",t.fj="DESTROY_SESSION"}(fC||(fC={}));var dC=function(){function t(){this.js=void 0,this.ba=void 0,this.KB=new VE}var n=t.prototype;return n.vj=function(t){var n=this;return this.KB.XB(function(){var t=T.coroutine(le.mark(function t(i){var r,e,s,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(i),r=new MessageChannel,e=r.port1,s=r.port2,u.serviceWorker.controller){t.next=7;break}return t.next=7,dd(u.serviceWorker,"install",i);case 7:if("activated"===u.serviceWorker.controller.state){t.next=10;break}return t.next=10,dd(u.serviceWorker.controller,"activate",i);case 10:return o={kind:fC.ej,port:s},u.serviceWorker.controller.postMessage(o,[s]),e.start(),n.js=e,t.prev=15,t.next=18,dd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===fC.sj){t.next=23;break}throw new f("Could not set up message channel");case 23:n.ba=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),as(t.t0)&&n.dj(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.lj=function(t,n){var i=this;return this.js,this.KB.XB(T.coroutine(le.mark(function r(){var e;return le.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.js){r.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.js.postMessage(t,n),r.next=7,dd(i.js,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n._j=function(){var t=this;return this.KB.XB(function(){return t.dj()})},n.dj=function(){if(u.serviceWorker.controller&&"activated"===u.serviceWorker.controller.state&&this.js){var t={kind:fC.fj};this.js.postMessage(t),this.js.close(),this.js=void 0}},t}(),lC=function(){function t(){this.gj=g_.tw}var n=t.prototype;return n.wj=function(t,n){var i=t.ag(n);this.gj=i.J_(this.yj)?this.gj:i},n.mj=function(t){this.gj=t},L(t,[{key:"yj",get:function(){return this.gj}}]),t}(),_C=function(){function t(){this.FB=T.resolve()}return t.prototype.kj=function(t){var n=this.FB.then(t);return this.FB=n.then(S,S),n},t}(),gC=function(t){function n(n,i){var r;return(r=t.call(this)||this).pj=void 0,r.Aj=void 0,r.bj=!0,r.Tj=void 0,r.KB=new _C,r.Ej=new os,r.Sj=!1,r.Rj=!1,r.tD=n,r.Ij=i,r}U(n,t);var i=n.prototype;return i.By=function(t,n){if(this.iM!==t){this.bj=t;var i=new Is(t?"Fl":"QM");this.Do(i)}return T.resolve()},i.YL=function(t,n){},i.ZL=function(t,n){},i.CL=function(){return this.Rj},i.bo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ej.bo(),this.Ej=new os;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zL=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.JL=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.qL=function(){var t=T.coroutine(le.mark(function t(i,r,e){var s,u,o,h=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.Ku===cS.BL){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return s=i.Ds,u=this.Nj(e),o=function(){var t=T.coroutine(le.mark(function t(){var i,r,e,o,a,c,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(u.So),i=Dw.Yk(new DataView(s.buffer)),(r=Tw(i,Lg.nk)).length){t.next=5;break}throw new f("Moof boxes not found");case 5:return e=h.Tj,o=n.Cj(r,e),a=h.Dj(r,e),c=s.buffer,v={kind:fC.hj,mimeType:h.tD,segment:s,startPts:E_.uw(o).lw(),totalDuration:E_.uw(a).lw()},t.next=12,h.Ij.lj(v,[c]);case 12:void 0===h.pj&&(h.pj=o),void 0===h.Aj&&(h.Aj=o),h.Aj=h.Aj.cg(a),h.Do(new Is(sS.xL));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.KB.kj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h.Sj=!0,t.next=4,o();case 4:return t.prev=4,u.wo(),h.Sj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.GL=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ku===cS.BL){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Ds,e=this.Nj(i),s=function(){var t=T.coroutine(le.mark(function t(){var n,i,s,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(e.So),n=Dw.Yk(new DataView(r.buffer)),i=bw(n,Lg.Nm)){t.next=5;break}throw new f("Moov Box not found");case 5:if(0!==i.ap.length){t.next=7;break}throw new f("Tracks not found");case 7:return u.Tj=i.ap[0].yp.Xk.zg,s=r.buffer,o={kind:fC.oj,mimeType:u.tD,segment:r},t.next=12,u.Ij.lj(o,[s]);case 12:u.Do(new Is(sS.xL));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.KB.kj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.Sj=!0,t.next=4,s();case 4:return t.prev=4,e.wo(),u.Sj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jL=function(){this.Rj=!0},i.QL=function(){this.Rj=!1},i.Oh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.Nj(r),s=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(e.So),n={kind:fC.cj,mimeType:u.tD,endTime:E_.iw(i).lw()},t.next=4,u.Ij.lj(n);case 4:u.pj=void 0,u.Aj=void 0,u.Do(new Is(sS.xL));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.KB.kj(T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.Sj=!0,t.next=4,s();case 4:return t.prev=4,e.wo(),u.Sj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bL=function(t){return this.tD===t.qf},i.TL=function(t){return this.tD=t.qf,T.resolve()},n.Cj=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.ap.length)throw new f("No tracks");if(!i.ap[0].LA)throw new f("No decode time");return new g_(i.ap[0].LA.LA.toNumber(),n)},i.Nj=function(t){var n=new os;return n.To(this.Ej.So),t&&n.To(t),n},i.Dj=function(t,n){var i=0;return t.forEach(function(t){t.ap.forEach(function(t){t.BA.forEach(function(t){t.XA.forEach(function(t){var n;i+=null!=(n=t.L_)?n:0})})})}),new g_(i,n)},L(n,[{key:"vy",get:function(){return void 0===this.pj||void 0===this.Aj?Yp._I():new Yp([this.pj.$g,this.Aj.$g])}},{key:"Vh",get:function(){return{qf:this.tD}}},{key:"YC",get:function(){return this.tD}},{key:"rM",get:function(){return Yp._I()}},{key:"tx",get:function(){return 30},set:function(t){}},{key:"sx",get:function(){return 30},set:function(t){}},{key:"iM",get:function(){return this.bj}},{key:"aO",get:function(){return this.Sj}},{key:"Oj",get:function(){return this.pj}},{key:"jy",get:function(){return this.Aj}}]),n}(Ss),wC=function(){function t(t,n){this.da=void 0,this.SU=void 0,this.RU=void 0,this.da=t,this.RU=Je(n,function(t){return Boolean(t.YC.match(/video/))}),this.SU=Je(n,function(t){return Boolean(t.YC.match(/audio/))}),this.xj()}t.Pj=function(n,i){for(var r=[],e=0;e<n.FU.length;e++){var s=n.FU[e].qf;r.push(new gC(s,i))}return new t(n,r)};var n=t.prototype;return n.xj=function(){},n.wo=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.SU,this.RU].filter(J);n<i.length;n++)(r=i[n]).Bo(),r.zL().catch(S);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.BU=function(t){},n.UU=function(t,n,i,r){},n.jL=function(){var t,n;null==(t=this.SU)||t.jL(),null==(n=this.RU)||n.jL()},n.QL=function(){var t,n;null==(t=this.SU)||t.QL(),null==(n=this.RU)||n.QL()},n.bL=function(t){return t===this.da},n.TL=function(t){return this.da=t,T.resolve()},L(t,[{key:"Bj",get:function(){return[this.SU,this.RU].filter(J).filter(function(t){return t.iM})}},{key:"gU",get:function(){return this.SU}},{key:"vy",get:function(){return DS(this)}},{key:"Vh",get:function(){return this.da}},{key:"L_",get:function(){return 0}},{key:"CL",get:function(){var t,n,i,r,e=null==(t=null==(n=this.SU)?void 0:n.CL())||t,s=null==(i=null==(r=this.RU)?void 0:r.CL())||i;return e&&s}},{key:"Sy",get:function(){return new Yp([0,1/0])}},{key:"wU",get:function(){return this.RU}},{key:"Fw",get:function(){throw new f("Not implemented")}}]),t}(),yC=g_.mg,mC=new g_(-1/0),kC=g_.tw,pC=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.K_=function(t,n){return t.sg(n)?r_.Q_:t.eg(n)?r_.G_:r_.j_},i.cg=function(t,n){return t.cg(n)},i.ag=function(t,n){return t.ag(n)},i.rg=function(t,n){return t.rg(n)},i.WR=function(){return yC},i.qR=function(){return kC},i.QR=function(){return mC},n.vI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new g_(t.start(r)),new g_(t.end(r)));return new n(i)},n.Lj=function(t){for(var i=[],r=[],e=0;e<t.Cl;e++)i.push(new g_(t.NR(e))),i.push(new g_(t.OR(e))),r.push(t.DR(e)),r.push(t.xR(e));return new n(i,r)},n.lI=function(t){return new n([t,t],[!0,!0])},i.HR=function(t,i){return new n(t,i)},i.UR=function(t){return t.$g},n._I=function(){return AC},n}(Qp),AC=new pC([]),bC=function(t){function n(n){var i;return(i=t.call(this)||this).Mj=!0,i.Ij=new dC,i.Uj=new lC,i.tS=void 0,i.PV=void 0,i.Fj=!0,i.Hj=void 0,i.Vj=void 0,i.Xj=new T(function(t,n){i.Hj=t,i.Vj=n}),i.bI=!1,i.jV=T.resolve(),i.QV=new os,i.Wj=!0,i.ZV=Yp._I(),i.rj=void 0,i.qj=void 0,i.eX=!1,i.uS=void 0,i.zj=function(){i.H_||i.Gj.Cl<=0||i.vy.Cl<=0||i.Uj.wj(new g_(i.vy.OR(i.vy.Cl-1)),i.Gj.OR(i.Gj.Cl-1))},i.jj=function(){i.Do(new Wl(i.B_))},i.Qj=function(){i.Do(new Xl(i.B_,i.ly))},i.Yj=function(){i.Do(new Vl(i.B_,i.V_))},i.Zj=function(){i.Do(new jl(i.B_,i.z_))},i.Jj=function(){i.Do(new Hl(i.L_))},i.$j=function(){i.Do(new Zy(i.B_))},i.Kj=function(){i.oh(i.B_)},i.tQ=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.Wj&&i.Do(new Bl(i.B_)),i.Fj=!1,i.Wj=!0;case 3:case"end":return t.stop()}},t)})),i.nQ=function(){i.Fj=!0,i.Do(new Pl(i.B_))},i.qj=n,i.PV=new VS(en(i)),i.qj.setAttribute("id","player_video"),i.qj.setAttribute("x-webkit-airplay","deny"),i.qj.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.qj.playsInline=!0,i.qj.style.width="100%",i.qj.style.height="100%",i.iQ(),i.rQ(),i.rj=cC(i.qj),i}U(n,t);var i=n.prototype;return i.iQ=function(){this.qj.addEventListener("timeupdate",this.zj),this.qj.addEventListener("ended",this.jj),this.qj.addEventListener("timeupdate",this.Qj),this.qj.addEventListener("ratechange",this.Yj),this.qj.addEventListener("volumechange",this.Zj),this.qj.addEventListener("durationchange",this.Jj),this.qj.addEventListener("playing",this.$j),this.qj.addEventListener("seeking",this.Kj),this.qj.addEventListener("play",this.tQ),this.qj.addEventListener("pause",this.nQ)},i.eQ=function(){this.qj.removeEventListener("timeupdate",this.zj),this.qj.removeEventListener("ended",this.jj),this.qj.removeEventListener("timeupdate",this.Qj),this.qj.removeEventListener("ratechange",this.Yj),this.qj.removeEventListener("volumechange",this.Zj),this.qj.removeEventListener("durationchange",this.Jj),this.qj.removeEventListener("playing",this.$j),this.qj.removeEventListener("seeking",this.Kj),this.qj.removeEventListener("play",this.tQ),this.qj.removeEventListener("pause",this.nQ)},i.rQ=function(){this.PV.Oo(Ol.ll,this.Co)},i.sQ=function(){this.PV.Lo(Ol.ll,this.Co)},i.oh=function(t,n){this.QV.bo(),this.QV=new os,this.jV=this.YX(t,this.jV,this.QV.So).catch(S)},i.YX=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ZV=this.Ty,s=null==(e=this.tS)?void 0:e.Bj){t.next=4;break}return t.abrupt("return");case 4:return u=l.max.apply(l,s.map(function(t){return t.Oj?t.Oj.$g:1/0})),this.bI=!0,this.Do(new zl(n)),t.next=9,i.catch(S);case 9:if(cs(r),t.prev=10,this.Mj||this.uQ(),this.qj.load(),this.Fj){t.next=17;break}return this.Wj=!1,t.next=17,ds(this.qj.play(),r);case 17:if(!(this.Kl<ll.S_)){t.next=22;break}return t.next=20,this.PV.Ho(Ol.ll,r);case 20:t.next=17;break;case 22:this.Hj(),this.Mj=!1,this.bI=!1,this.Do(new Gl(this.B_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Vj(),t.t0;case 32:return t.prev=32,this.oQ(),this.Uj.mj(new g_(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ww=function(){this.Fj=!0,this.qj.pause()},i.Xw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Fj){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.qj.src){t.next=9;break}return this.hW(),t.next=7,this.Xj;case 7:t.next=11;break;case 9:return t.next=11,this.qj.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.Fj=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ij&&this.Ij._j().catch(S),this.QV.bo(),this.eQ(),this.sQ(),this.PV.wo(),this.Bo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ij&&this.Ij._j().catch(S),this.QV.bo(),this.qj.removeAttribute("src"),this.qj.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.qj.removeAttribute("x-airplay-deny"),this.qj.load(),this.PV.Il(),this.ZV=Yp._I();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hW=function(){this.aW||(IC(this.qj,b.xu),this.eX=!0)},i.uQ=function(){var t,n=this.qj.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.qj.videoWidth/this.qj.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.qj.style.width=i+"px",this.qj.style.height=r+"px",this.qj.style.marginLeft=(e-i)/2+"px",this.qj.style.marginTop=(u-r)/2+"px",this.qj.style.backgroundColor="black"}},i.oQ=function(){this.qj.style.width="100%",this.qj.style.height="100%",this.qj.style.marginLeft="",this.qj.style.marginTop="",this.qj.style.backgroundColor=""},i.MS=function(t,n,i,r){},i.Bb=function(t,n,i,r,e,s){},i.NL=function(t){},i.QS=function(){var t=this.hQ();return{yy:0,wy:t.droppedVideoFrames,my:t.totalVideoFrames}},i.hQ=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.qj.webkitDroppedFrameCount?t.droppedVideoFrames=this.qj.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.qj.getVideoPlaybackQuality?this.qj.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.qj.webkitTotalFrameCount?t.totalVideoFrames=this.qj.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.qj.getVideoPlaybackQuality?this.qj.getVideoPlaybackQuality().totalVideoFrames:0,t},i.Kw=function(){this.qj.style.display="block"},i.ty=function(){this.qj.style.display="none"},i.GU=function(){},i.Dh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ku!==Ey.Hb){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.Ij.vj();case 4:return i={kind:fC.uj,mediaBufferConfigs:n.FU.map(function(t){return t.qf})},t.next=7,this.Ij.lj(i);case 7:return this.tS=wC.Pj(n,this.Ij),this.qj.preload="none",this.qj.src="https://theo.proxy/"+this.Ij.ba+"/master.m3u8",t.abrupt("return",this.tS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jU=function(){},i.Ub=function(t){},i.HS=function(){},i.jS=function(t){},i.PS=function(){return!1},i.cW=function(t){t.appendChild(this.qj)},i.ny=function(){return this.qj},i.VX=function(){},i.ay=function(){},L(n,[{key:"ES",get:function(){return this.qj}},{key:"KU",get:function(){return!1}},{key:"B_",get:function(){return this.qj.currentTime+this.Uj.yj.$g}},{key:"H_",get:function(){return this.qj.paused}},{key:"z_",get:function(){return this.qj.volume},set:function(t){this.qj.volume=t}},{key:"V_",get:function(){return this.qj.playbackRate},set:function(t){this.qj.playbackRate=t}},{key:"aQ",get:function(){return this.qj.defaultPlaybackRate}},{key:"vy",get:function(){var t,n;return null!=(t=null==(n=this.tS)?void 0:n.vy)?t:Yp._I()}},{key:"Gj",get:function(){return pC.vI(this.qj.buffered)}},{key:"Ty",get:function(){var t=Yp.dI(this.cQ);return this.ZV.JR(t.uh(this.Uj.yj.$g))}},{key:"cQ",get:function(){return pC.vI(this.qj.played)}},{key:"X_",get:function(){return this.bI}},{key:"L_",get:function(){return this.qj.duration}},{key:"F_",get:function(){return this.qj.muted},set:function(t){this.qj.muted=t}},{key:"wz",get:function(){return this.qj.style}},{key:"vW",get:function(){return _e({},rS,{fL:!0,vL:300})}},{key:"Kl",get:function(){return this.PV.Kl}},{key:"W_",get:function(){return this.qj.videoHeight}},{key:"q_",get:function(){return this.qj.videoWidth}},{key:"M_",get:function(){return this.qj.ended}},{key:"Ep",get:function(){return 0}},{key:"fu",get:function(){return 0}},{key:"gy",get:function(){return!1}},{key:"aW",get:function(){return this.eX}},{key:"ly",get:function(){}},{key:"bB",get:function(){}},{key:"Go",get:function(){}},{key:"FS",get:function(){return this.rj}},{key:"Sy",get:function(){return this.tS?this.tS.Sy:Yp._I()}},{key:"YS",get:function(){}},{key:"Hw",get:function(){}},{key:"EB",get:function(){}},{key:"fW",get:function(){return"block"===this.qj.style.display}},{key:"SS",get:function(){return this.uS},set:function(t){this.uS=t}},{key:"CV",get:function(){}}]),n}(Ss),TC=2,EC=[F_.Tv,F_.Ev];function SC(t){var n=e.createElement(t);return jr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),RC(n),n}function RC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Qr(t),t.pause(),t.playbackRate=1,t.preload=Vp.lR,t.controls=!1,t.style.display="none",jr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function IC(t,n){if(n.Ks){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();et(r)&&ys(r),t.pause()}}var NC;Nr=(NC={fQ:function(){function t(t,n,i,r,e){void 0===i&&(i=TC),void 0===r&&(r=EC),void 0===e&&(e=qo()),this.vQ=void 0,this.dQ=void 0,this.uo=void 0,this.lQ=void 0,this.DV=void 0,this.RI=void 0,this._Q=void 0,this.vQ=i,this.dQ=[].concat(r),this.uo=e,this.DV=t,this.RI=n,this.lQ=we(),this.gQ()}var n=t.prototype;return n.CI=function(t){for(var n=0,i=this.OI;n<i.length;n++){i[n].cW(t)}},n.TS=function(t){var n=Je(this.lQ.get(t),function(t){return t.wQ});if(n)return n.wQ=!1,n.yQ},n.mQ=function(t){if(!this._Q)throw new f("Error creating iOS Safari MediaController");return this._Q},n.WS=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.ES,r=i.tagName.toLowerCase(),t.next=4,n.Il();case 4:RC(i),(e=Je(this.lQ.get(r)||[],function(t){return n===t.yQ}))&&(e.wQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DI=function(){for(var t=0,n=this.OI;t<n.length;t++){n[t].hW()}},n.Pv=function(){for(var t=0,n=this.OI;t<n.length;t++){var i=n[t],r=i.ES;i.wo(),RC(r),Vr(r)}},n.gQ=function(){for(var t=0,n=this.dQ;t<n.length;t++){var i=n[t],r=[];this.lQ.set(i,r);for(var e=0;e<this.vQ;e++){var s=SC(i),u=i===F_.Tv?new qI(s,this.uo,this.DV):new vC(s,this.uo,this.DV,this.RI);r.push({yQ:u,wQ:!0})}}if(Q.Pe&&Q.me){var o=SC(F_.Ev);this._Q=new bC(o)}},L(t,[{key:"OI",get:function(){for(var t=[],n=0,i=this.dQ;n<i.length;n++){var r=i[n],e=this.lQ.get(r).map(function(t){return t.yQ});t.push.apply(t,e)}return this._Q&&t.push(this._Q),t}}]),t}(),kQ:function(){function t(n){var i=this;this.pQ=new VE,this.AQ=T.coroutine(le.mark(function n(){var r,e,s;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.EI.TS(F_.Ev),e=r.ES,n.next=4,t.bQ(e);case 4:return s=n.sent,n.next=7,i.EI.WS(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.EI=n}var n=t.prototype;return n.sL=function(){return this.pQ.XB(this.AQ)},n.Zw=function(){this.EI.DI()},t.bQ=function(){var n=T.coroutine(le.mark(function n(i){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Q.Re&&!Q.Ee){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.TQ();case 5:return n.next=7,t.EQ(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.SQ(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.EQ=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,et(i)){t.next=4;break}return t.abrupt("return",!Q.pe);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.SQ=function(){var n=T.coroutine(le.mark(function n(i){var r;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.EQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.TQ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Pv=function(){this.pQ.Pv()},t}(),RQ:{hD:function(t){Or.addEventListener("beforeunload",t)},mD:function(t){Or.removeEventListener("beforeunload",t)}},IQ:r}).fQ,Cr=NC.kQ,Dr=NC.RQ,Or=NC.IQ,xr=Or&&Or.location,Pr=Or&&Or.navigator;var CC=[];function DC(){CC.shift()()}function OC(t){CC.push(t),o(DC,0)}var xC=function(){function t(t){this.NQ=void 0,this.CQ=void 0,this.DQ=void 0,this.DQ=t}var n=t.prototype;return n.OQ=function(t){return this.NQ=this.NQ||{},void 0===this.NQ[t]&&(this.NQ[t]=[]),this.NQ[t]},n.addEventListener=function(t,n){var i=this.OQ(t);-1===i.indexOf(n)&&i.push(n)},n.Po=function(t){(this.CQ||(this.CQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.OQ(t);n?Ke(i,n):i.length=0},n.Fo=function(t){var n=this.CQ;n&&Ke(n,t)},n.Bo=function(){this.NQ=void 0},n.dispatchEvent=function(t,n){if(n)return OC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.OQ(t.type).slice(),r=this.CQ&&this.CQ.slice(),e=0;e<i.length;e++){i[e].call(this.DQ||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.DQ||this,t)}},n.xQ=function(t){return Boolean(this.NQ&&this.NQ[t]&&this.NQ[t].length)},n.PQ=function(){return this.NQ?d.keys(this.NQ):[]},t}(),PC=function(){function t(){this.BQ=[]}var n=t.prototype;return n.Pj=function(t,n){var i=this.BQ[t];return i?new i(n):null},n.aL=function(t,n){this.BQ[t]=n},t}();PC.je=new PC;var BC,LC=function(t){function n(n,i){var r,e=UC[n];return(r=t.call(this,e?e.Wo:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.LQ,r.helpLinkText=e&&e.MQ,r}return U(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(un);!function(t){t.UQ="LICENSE_INVALID",t.FQ="MANIFEST_NOT_FOUND",t.HQ="MANIFEST_CORS_ERROR",t.VQ="INVALID_HLS_MANIFEST",t.XQ="PLAYBACK_ISSUE",t.WQ="AUDIO_ISSUE",t.qQ="BROWSER_SUPPORT_ISSUE",t.zQ="INVALID_KEY",t.GQ="DECRYPTION_ERROR",t.jQ="AD_BLOCK_DETECTED",t.QQ="THEOPLAYER_NOT_INITIALIZED",t.Zl="ERROR",t.YQ="MANIFEST_SEQUENCE_RESET_ERROR",t.ZQ="PLAYER_INCORRECTLY_CONFIGURED",t.JQ="UNSUPPORTED"}(BC||(BC={}));for(var MC=[{wh:BC.UQ,Wo:"The license for this player is invalid. Please contact your service provider for additional information."},{wh:BC.FQ,Wo:"Could not load the manifest file."},{wh:BC.HQ,Wo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",LQ:"https://www.theoplayer.com/documentation/cors.html",$Q:!1},{wh:BC.VQ,Wo:"The source of the player is an invalid HLS manifest.",LQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{wh:BC.XQ,Wo:"There appears to be a playback issue."},{wh:BC.WQ,Wo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{wh:BC.qQ,Wo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{wh:BC.zQ,Wo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{wh:BC.GQ,Wo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{wh:BC.jQ,Wo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{wh:BC.QQ,Wo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{wh:BC.Zl,Wo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{wh:BC.YQ,Wo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{wh:BC.ZQ,Wo:"The player is incorrectly configured.",LQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{wh:BC.JQ,Wo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],UC={},FC=0;FC<MC.length;FC++){var HC=MC[FC];UC[HC.wh]=HC}function VC(t){return t.KQ}var XC=function(){function t(){this.Oc=[],this.tY={},this.nY=0}var n=t.prototype;return n.iY=function(t){var n=this.tY[t];return void 0===n?-1:n-this.nY},n.rY=function(t){return this.Oc[t]},n.eY=function(t){return this.rY(this.iY(t))},n.sY=function(t){return!!this.rY(t)},n.uY=function(t){return!!this.eY(t)},n.oY=function(){return this.Oc},n.cg=function(t){var n,i=this.Oc,r=i.length?i[i.length-1]:null;if(this.iY(t.KQ)>=0)return!1;if(r&&t.KQ>r.KQ)n=i.length;else{var e=GS(this.Oc,t.KQ,VC,a_);if(e>=0)return!1;n=-(e+1)}return this.hY(t,n),!0},n.Oh=function(t){var n=this.Oc,i=this.tY,r=this.iY(t.KQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.KQ],this.aY(r),!0)},n.cY=function(t){var n=this.Oc,i=this.tY;t=l.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].KQ];n.splice(0,t),this.nY+=t},n.hY=function(t,n){var i=this.Oc;n>=i.length?i.push(t):i.splice(n,0,t),this.aY(n)},n.aY=function(t){for(var n=this.Oc,i=this.tY,r=this.nY,e=n.length,s=t;s<e;s++)i[n[s].KQ]=s+r},L(t,[{key:"Cl",get:function(){return this.Oc.length}}]),t}(),WC=function(){function t(t,n,i){this.fY=void 0,this.vY=void 0,this.dY=void 0,this.fY=t,this.vY=n,this.dY=i}var n=t.prototype;return n.compute=function(){return this.fY.live?this.fY.lY?this.fY._Y:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.dY&&(t+=this.gY()),this.wY()&&(t+=this.yY(t)),t},n.wY=function(){return void 0!==this.vY.mY.eY(this.fY.fragments[0].KQ)},n.yY=function(t){var n=this.fY.fragments[0];return this.vY.mY.eY(n.KQ).kY-(n.kY+t)||0},n.gY=function(){var t=qC(this.fY),n=qC(this.dY.pY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.dY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=l.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.pY.fragments.length?this.dY.AY(t.pY.fragments[0].KQ).kY:0},t}();function qC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.bY&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var zC=function(t){function n(n){return t.call(this,rg.yl,n)||this}return U(n,t),n.prototype.$d=function(){return new GC(this.zy.Jd)},n}(ag),GC=function(t){function n(n){return t.call(this,eg.yl,n)||this}return U(n,t),n}(cg),jC=function(t){function n(n,i){var r,e=QC(i,n.L_,n.YS,n.TY);return(r=t.call(this,i,e,void 0,!1,n.Hl)||this).EY=void 0,r.SY=void 0,r.RY=void 0,r.QU=void 0,r.IY=void 0,r.NY=void 0,r.CY=void 0,r.DY=void 0,r.OY=void 0,r.xY=void 0,r.EY=n.PY,r.SY=n.YS,r.RY=n.TY,r.QU=n.L_,r.IY=n.BY,r.NY=Boolean(n.LY),r.CY=n.MY||{},r.DY=n.UY,r.OY=n.FY,r.xY=n.HY,r.VY(),r.XY(),r}U(n,t);var i=n.prototype;return i.xh=function(t){var n=!1;void 0===this.EY&&void 0!==t.PY&&(n=!0,this.EY=t.PY),void 0===this.RY&&void 0!==t.TY&&(n=!0,this.RY=t.TY),void 0===this.QU&&void 0!==t.L_&&(n=!0,this.QU=t.L_),void 0===this.IY&&void 0!==t.BY&&(n=!0,this.IY=t.BY),!this.NY&&t.LY&&(n=!0,this.NY=t.LY),n=this.updateCustomAttributes(t,n),void 0===this.DY&&void 0!==t.UY&&(n=!0,this.DY=t.UY),void 0===this.OY&&void 0!==t.FY&&(n=!0,this.OY=t.FY),void 0===this.xY&&void 0!==t.HY&&(n=!0,this.xY=t.HY),this.VY(),this.XY(),this.WY(),n&&this.Do(new zC(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.MY)for(var r=0,e=d.keys(t.MY);r<e.length;r++){var s=e[r];void 0===this.CY[s]&&(i=!0,this.CY[s]=t.MY[s])}return i},i.VY=function(){this.QU&&!this.RY&&(this.RY=new Date(this.SY.getTime()+1e3*this.QU))},i.XY=function(){this.RY&&!this.QU&&(this.QU=Jt(this.RY.getTime()-this.SY.getTime()))},i.WY=function(){this.sm===1/0&&(this.RY||this.QU)&&(this.sm=QC(this.rm,this.QU,this.SY,this.RY))},L(n,[{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=Od(fg(t=this),{get content(){return t.Qy},get class(){return t.PY},get startDate(){return t.YS},get endDate(){return t.TY},get duration(){return t.L_},get plannedDuration(){return t.BY},get endOnNext(){return t.LY},get scte35Cmd(){return t.UY},get scte35Out(){return t.FY},get scte35In(){return t.HY},get customAttributes(){return t.MY}})),this.Zd}},{key:"PY",get:function(){return this.EY}},{key:"YS",get:function(){return this.SY}},{key:"TY",get:function(){return this.RY}},{key:"L_",get:function(){return this.QU}},{key:"BY",get:function(){return this.IY}},{key:"LY",get:function(){return this.NY}},{key:"UY",get:function(){return this.DY}},{key:"FY",get:function(){return this.OY}},{key:"HY",get:function(){return this.xY}},{key:"MY",get:function(){return this.CY}}]),n}(gg);function QC(t,n,i,r){return J(n)?t+n:r?t+(Jt(r.getTime())-Jt(i.getTime())):1/0}var YC,ZC,JC,$C,KC,tD=function(t){function n(){return t.call(this,void 0,void 0,K_.DATE_RANGE)||this}U(n,t);var i=n.prototype;return i.xh=function(t,n){for(var i=this,r=function(t){for(var n=we(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Hl)){var s=n.get(e.Hl),u=_e({},s,Ld(e),{MY:_e({},s.MY,e.MY)});n.set(e.Hl,u)}else n.set(e.Hl,e),i.push(e.Hl)}return i.map(function(t){return n.get(t)})}(t),e=this.t_.Nl,s=function(t){var n=e[t],s=Je(r,function(t){return t.Hl===n.Hl});s?n.xh(s):i.TF(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h.YS;if(void 0!==a&&!this.AF(h.Hl)){var c=n(a);this.Mb(new jC(h,c))}}},i.Mb=function(n){this.qY(n),t.prototype.Mb.call(this,n)},i.qY=function(t){var n=this.cF.filter(function(n){return n.PY===t.PY}).pop();n&&n.LY&&n.xh({Hl:n.Hl,TY:t.YS})},n}(dI);function nD(t){return iD(t)?{cv:t.zY,GY:[t.GY.NR,t.GY.OR],Dv:!0}:{cv:t.toString(),Dv:!0}}function iD(t){return void 0!==t.GY}function rD(t){return t&&t.jY&&Ng(t.jY)||!1}function eD(t){if(!t)return E_.mg;if(!rD(t))return E_.iw(t.duration);var n=t.QY||E_.mg,i=t.YY||E_.mg,r=E_.iw(t.duration);return n.Tg()||i.Tg()?n.Tg()?i.Tg()?r.Tg()?E_.mg:r:i:n:E_.Yg(n,i)}function sD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Fb)return i}return null}function uD(t){return sD(t)||function(t){return t.filter(function(t){return t.ZY})}(t)[0]||t[0]}function oD(t,n){for(var i=0;i<n.length;i++){var r=n[i];ns(t,r)||t.push(r)}return t}function hD(t){switch(t){case $C.Ev:case $C.JY:return F_.Ev;case $C.Tv:return F_.Tv}}!function(t){t.$Y="alternative",t.KY="main",t.tZ="commentary",t.nZ="",t.Sb="descriptions",t.iZ="main-desc",t.rZ="translation"}(YC||(YC={})),function(t){t.$Y="alternative",t.KY="main",t.tZ="commentary",t.nZ="",t.Eb="captions",t.eZ="sign",t.gk="subtitles"}(ZC||(ZC={})),function(t){t.Ev="video",t.Tv="audio",t.sZ="closedCaption",t.uZ="variant"}(JC||(JC={})),function(t){t[t.vv=-1]="vv",t[t.Tv=0]="Tv",t[t.Ev=1]="Ev",t[t.JY=2]="JY"}($C||($C={})),function(t){t[t.vv=-1]="vv",t[t.oZ=1]="oZ",t[t.hZ=2]="hZ",t[t.aZ=3]="aZ",t[t.cZ=4]="cZ"}(KC||(KC={})),function(t){t.pw=function(t){return t>=KC.hZ},t.fZ=function(t){return t===KC.hZ||t===KC.aZ}}(KC||(KC={}));var aD=function(t){function n(){var n;return(n=t.call(this)||this).vZ=[],n.dZ=function(){return n.dispatchEvent("lZ")},n._Z=function(){return n.dispatchEvent("gZ")},n}U(n,t);var i=n.prototype;return i.cg=function(t){this.vZ.push(t),t.addEventListener("gZ",this._Z),t.addEventListener("wZ",this.dZ),this.dispatchEvent("yZ"),t.disabled||this.dispatchEvent("lZ")},i.Oh=function(t){var n=this.vZ.indexOf(t);n<0||(ts(this.vZ,n),t.removeEventListener("gZ",this._Z),t.removeEventListener("wZ",this.dZ),this.dispatchEvent("yZ"),t.disabled||this.dispatchEvent("lZ"))},i.rh=function(){for(var t=!!this.mZ.length,n=!!this.kZ.length,i=0,r=this.vZ;i<r.length;i++){r[i].removeEventListener("wZ",this.dZ)}this.vZ.length=0,t&&this.dispatchEvent("yZ"),n&&this.dispatchEvent("lZ")},i.Pv=function(){this.Bo(),this.rh()},L(n,[{key:"mZ",get:function(){return this.vZ}},{key:"kZ",get:function(){return this.vZ.filter(function(t){return!t.disabled})}}]),n}(xC);function cD(t){if(!t)return null;for(var n={pZ:"",AZ:"",bZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.pZ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.pZ="mp4a.40.2":"mp4a.40.29"===s?n.pZ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.pZ=s:"ec-3"===s?n.pZ=s:0===s.indexOf("avc")?n.AZ=e:n.bZ+=","+s}return n}var fD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).TZ=void 0,h.EE=void 0,h.Cy=void 0,h.EZ=new XC,h.SZ=NaN,h.RZ=void 0,h.IZ=void 0,h.lF=void 0,h.NZ=void 0,h.CZ=void 0,h.DZ=!0,h.OZ=!0,h.xZ=!0,h.PZ=!1,h.BZ=null,h.LZ=!1,h.TZ=n,h.EE=i,h.Cy=r||0===r?r:-1,h.IZ=e,h.NZ=Boolean(s),h.CZ=Boolean(u),h.lF=o,h}U(n,t);var i=n.prototype;return i.MZ=function(t,n){var i=Ub(),r=new WC(t,this,n).compute(),e=this.UZ(t.fragments),s=e.oldFragments,u=e.newFragments;this.FZ(s,i),this.HZ(u,i,r),this.RZ!==t&&this.VZ(!0),this.RZ=t,this.dispatchEvent({type:"XZ",WZ:this}),this.dispatchEvent("renditionUpdated")},i.AY=function(t){return this.EZ.eY(t)},i.qZ=function(){var t=this.DZ;this.DZ=this.OZ&&this.xZ,t!==this.DZ&&this.dispatchEvent("gZ")},i.VZ=function(t){this.OZ=t,this.qZ()},i.zZ=function(t){this.xZ=t,this.qZ()},i.GZ=function(t){this.EE=t,this.dispatchEvent("renditionUpdated")},i.jZ=function(){null!==this.BZ&&h(this.BZ),this.dispatchEvent("wZ"),this.dispatchEvent("renditionUpdated")},i.QZ=function(t){this.LZ=t,this.jZ()},i.YZ=function(){this.ZZ(3e4)},i.ZZ=function(t){var n=this;this.PZ=!0,this.jZ(),this.BZ=o(function(){n.PZ=!1,n.jZ()},t)},i.UZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.EZ.uY(s.KQ)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.FZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.EZ.eY(r.KQ);e.JZ=oD(e.JZ,r.JZ),e.$Z=r.$Z||e.$Z,e.KZ=n}},i.HZ=function(t,n,i){var r=this.tJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.fp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.kY+=n}}(r,i),this.nJ(r)},i.tJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.WZ=this;var e=_e({},r);n.push(e)}return n},i.nJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.EZ.cg(i),w(this.SZ)&&(this.SZ=i.KQ)}},i.Pv=function(){this.Bo(),null!==this.BZ&&h(this.BZ)},L(n,[{key:"disabled",get:function(){return this.PZ||this.LZ},set:function(t){this.PZ=t,this.jZ()}},{key:"Hl",get:function(){return this.Cy}},{key:"by",get:function(){return this.DZ}},{key:"uri",get:function(){return this.IZ||this.RZ&&this.RZ.uri},set:function(t){this.IZ=t,this.dispatchEvent("renditionUpdated")}},{key:"pY",get:function(){return this.RZ}},{key:"mY",get:function(){return this.EZ}},{key:"iJ",get:function(){return this.RZ?this.RZ.live?this.RZ.duration<-60?KC.aZ:KC.cZ:KC.oZ:KC.vv}},{key:"hs",get:function(){return this.EE},set:function(t){this.GZ(t)}},{key:"ql",get:function(){return this.lF}},{key:"Fb",get:function(){return this.NZ}},{key:"ZY",get:function(){return this.CZ||this.NZ}},{key:"rJ",get:function(){return this.SZ}},{key:"eJ",get:function(){return!!this.pY}},{key:"Wf",get:function(){return this.TZ}}]),n}(xC),vD=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=YC.KY),(w=t.call(this,n,i,r,s,u,o,d)||this).sJ=void 0,w.uJ=void 0,w.oJ=void 0,w.hJ=void 0,w.aJ=void 0,w.cJ=void 0,w.fJ=void 0,w.vJ=void 0,w.dJ=void 0,w.dF=void 0,w.lJ=void 0,w._J=void 0,w.gJ=void 0,w.wJ=void 0,w.yJ=void 0,w.mJ=void 0,w.kJ=null,w.pJ=void 0,w.sJ=Boolean(l),w.aJ=e,w.uJ=cD(h),w.oJ=g,w.fJ=a,w.vJ=c,w.cJ=f,w.hJ=v,w.dF=_,w}U(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.KQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.AJ[0]?t.AJ[0].Xl:YC.KY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&yr(t.characteristics,"public.accessibility.describes-video")?YC.iZ:YC.KY;if(t.characteristics&&yr(t.characteristics,"public.accessibility.describes-video"))return YC.Sb;return YC.$Y}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.bJ=function(t){this.uJ="string"==typeof t?cD(t):t,this.dispatchEvent("renditionUpdated")},i.TJ=function(t,n){return t?!n&&t.pZ&&t.AZ?$C.JY:t.AZ?$C.Ev:t.pZ?$C.Tv:$C.vv:$C.vv},L(n,[{key:"EJ",set:function(t){this.sJ=t}},{key:"SJ",get:function(){return this.uJ}},{key:"bandwidth",get:function(){return this.hJ},set:function(t){this.hJ=t,this.dispatchEvent("renditionUpdated")}},{key:"Xl",get:function(){return this.dF}},{key:"resolution",get:function(){return this.cJ},set:function(t){this.cJ=t,this.dispatchEvent("renditionUpdated")}},{key:"RJ",get:function(){return void 0!==this.oJ?this.oJ:this.TJ(this.uJ,this.sJ)}},{key:"KQ",get:function(){return this.fJ}},{key:"pZ",get:function(){return this.vJ}},{key:"IJ",get:function(){return this.aJ}},{key:"NJ",get:function(){return this.dJ},set:function(t){var n=this.dJ;this.dJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(fD);var dD=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).xs=void 0,c.CJ=null,c.DJ=void 0,c.OJ=function(){return c.xJ()},c.xs=h,c.DJ=new oR(a,String(r),c.hs,c.ql,void 0,K_.WEBVTT),c.Fb&&(c.DJ.$l=Qd.Yl),c}U(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(yr(t.characteristics,"public.accessibility.describes-music-and-sound"))return Kw.Eb;return Kw.gk}(i))};var i=n.prototype;return i.MZ=function(n){t.prototype.MZ.call(this,n),this.xJ()},i.Pv=function(){t.prototype.Pv.call(this),this.cb=null},i.GZ=function(n){t.prototype.GZ.call(this,n),this.DJ.Wl=n},i.xJ=function(){this.CJ&&this.CJ.PJ(this,this.mY)},L(n,[{key:"BJ",get:function(){return this.DJ}},{key:"cb",get:function(){return this.CJ},set:function(t){this.CJ&&this.CJ.removeEventListener("LJ",this.OJ),this.CJ=t,this.xJ(),this.CJ&&this.CJ.addEventListener("LJ",this.OJ)}},{key:"zY",get:function(){return this.uri}},{key:"Ku",get:function(){return this.xs}}]),n}(fD),lD=function(t){function n(n,i){var r;(r=t.call(this)||this).da=void 0,r.MJ=void 0,r.UJ=["renditionUpdated","XZ","FJ"],r.HJ=null,r.VJ=null,r.XJ=null,r.WJ=null,r.qJ=new aD,r.zJ=new aD,r.GJ=new aD,r.Pw={},r.jJ=void 0,r.QJ=void 0,r.YJ=null,r.QU=NaN,r.ZJ=void 0,r.JJ=void 0,r.Co=function(t){return r.dispatchEvent(t)},r.da=n,r.MJ=i;var e=en(r);return r.ZJ=function(){e.MU(this)},r.JJ=function(t){e.$J(this,t)},r}U(n,t);var i=n.prototype;return i.KJ=function(t,n){var i=new lI(n);return i.$l=Qd.Ql,this.Pw[i.Hl]=i,this.dispatchEvent({type:"t$",Kd:i}),i},i.n$=function(t,n,i){var r=new dI(i,"manifest");return r.$l=Qd.Ql,this.Pw[r.Hl]=r,this.dispatchEvent({type:"t$",Kd:r}),r},i.i$=function(t,n){if(t){var i=t.t_,r=t.r$,e=t&&this.Pw[r];e||(e=new lI(t.Jl),this.Pw[r]=e,e.$l=Qd.Ql,this.dispatchEvent({type:"t$",Kd:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Mb(u)}}},i.e$=function(t){t&&(this.jJ||(this.jJ=new oR(Kw.Eb,void 0,"CC1","en",!0,K_.CEA608),this.Pw.CC1=this.jJ,this.dispatchEvent({type:"t$",Kd:this.jJ})),this.jJ.Mb(t))},i.s$=function(t,n,i){var r=this.Pw[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.t_.Nl;e<s.length;e++){var u=s[e];if(u.Gy>=i)break;n<u.jy&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.TF(u)}}},i.u$=function(t,n){return this.o$(t,n)},i.h$=function(t){var n;return(n=this.a$(t,this.qJ))?n:(n=this.a$(t,this.zJ))?n:n=this.a$(t,this.GJ)},i.Pv=function(){this.Uo(this.qJ),this.qJ.Pv(),this.Uo(this.zJ),this.zJ.Pv(),this.Uo(this.GJ),this.GJ.Pv(),this.Pw={},this.jJ=void 0,this.QJ&&(this.QJ.Pv(),this.QJ=void 0),this.YJ=null,this.QU=NaN,this.HJ=null,this.VJ=null,this.XJ=null,this.WJ=null,this.dispatchEvent("Pv")},i.c$=function(t){var n=vD.createFromUri(this,t.uri);this.Uo(this.zJ),this.zJ.cg(n),n.addEventListener("renditionUpdated",this.ZJ)},i.MU=function(t){var n=t.pY,i=t.iJ;if(w(this.QU)||KC.pw(i)){if(KC.vv===i)return;if(!n)return;this.QU=n.duration,this.dispatchEvent("f$")}w(this.QU)||KC.oZ!==i||t.removeEventListener("renditionUpdated",this.ZJ)},i.v$=function(t){var n=this;this.Uo(this.qJ),this.qJ.rh(),this.Uo(this.zJ),this.zJ.rh(),this.GJ.rh(),this.YJ=t;for(var i=t.streams.map(function(t){return vD.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.pZ&&!yr(t.pZ,"mp4a")&&!yr(t.pZ,"mp3"))return!1;if(t.AZ&&!yr(t.AZ,"avc1"))return!1;return!0}(t.SJ)}),r=i.some(function(t){return t.SJ&&t.SJ.pZ}),e=i.some(function(t){return t.SJ&&t.SJ.AZ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.SJ&&u.SJ.pZ),h=Boolean(u.SJ&&u.SJ.AZ);r&&!o||e&&!h||(this.zJ.cg(u),u.addEventListener("renditionUpdated",this.ZJ))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.MJ){var e=dD.createFromPlaylistMedia(n,r);n.GJ.cg(e),n.dispatchEvent({type:"t$",Kd:e.BJ})}break;case"closed-captions":break;case"audio":var s=n.zJ.mZ.filter(function(t){return t.pZ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.EJ=!0});var u=r.uri?$C.Tv:$C.JY,o=vD.createFromPlaylistMedia(n,r,!1,u);n.qJ.cg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.d$=uD(this.AJ.kZ)||null,this.dispatchEvent("l$")},i.a$=function(t,n){for(var i=0,r=n.mZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.$J=function(t,n){this.dispatchEvent(_e({},n,{WZ:t}))},i._$=function(t){for(var n=0,i=t.mZ;n<i.length;n++)for(var r=i[n],e=0,s=this.UJ;e<s.length;e++){var u=s[e];r.addEventListener(u,this.JJ)}},i.Uo=function(t){for(var n=0,i=t.mZ;n<i.length;n++){i[n].Pv()}},i.g$=function(t,n){0!==t.length&&this.da.hlsDateRange&&(this.QJ||(this.QJ=new tD,this.dispatchEvent({type:"t$",Kd:this.QJ})),this.QJ.xh(t,n))},i.w$=function(t,n){if(this.VJ!==t){var i=this.VJ;this.VJ=t,this.dispatchEvent({type:"y$",RJ:"pZ",WZ:this.VJ,m$:i,k$:n})}},i.o$=function(t,n){if(this.XJ!==t){var i=this.XJ;this.XJ=t,t&&this.dispatchEvent({type:"y$",RJ:"AZ",WZ:this.XJ,m$:i,k$:n})}},i.p$=function(t){for(var n=0,i=t.mZ;n<i.length;n++){var r=i[n];if(r.iJ!==KC.vv)return r.iJ}return null},L(n,[{key:"Ew",get:function(){return this.HJ},set:function(t){t&&(0===t.streams.length?this.c$(t):this.v$(t),this.HJ=t,this._$(this.zJ),this._$(this.qJ),this.dispatchEvent("A$"))}},{key:"b$",get:function(){return this.YJ}},{key:"L_",get:function(){return this.QU}},{key:"Hw",get:function(){var t=this,n=this.GJ.mZ.map(function(t){return t.BJ}),i=d.keys(this.Pw).map(function(n){return t.Pw[n]});return this.jJ&&i.push(this.jJ),this.QJ&&i.push(this.QJ),n.concat(i)}},{key:"d$",get:function(){return this.VJ},set:function(t){this.w$(t,!0)}},{key:"T$",get:function(){return this.XJ},set:function(t){this.o$(t,!1)}},{key:"AJ",get:function(){return this.qJ}},{key:"E$",get:function(){return this.zJ}},{key:"S$",get:function(){return this.GJ.mZ}},{key:"iJ",get:function(){var t;return null!==(t=this.VJ&&this.VJ.iJ)&&t!==KC.vv?t:null!==(t=this.XJ&&this.XJ.iJ)&&t!==KC.vv?t:null!==(t=this.p$(this.qJ))?t:null!==(t=this.p$(this.zJ))?t:KC.vv}}]),n}(xC);var _D=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this).ap=[],e.R$={},e.I$=void 0,e.N$=void 0,e.C$=void 0,e.Jd=void 0,e.Co=function(t){return e.dispatchEvent(t)},e.D$=function(t){e.O$(t)},e.x$=function(t){e.handleRenditionUpdated(t)},e.P$=function(t){for(var n=0,i=e.ap;n<i.length;n++){i[n].B$.P$(t)}},e.I$=n,e.N$=i,e.C$=r,e.N$&&e.N$.addEventListener("y$",e.D$),e.C$&&(e.C$.addEventListener("renditionUpdated",e.x$),e.C$.addEventListener("L$",e.P$)),e.Jd=(s=en(e),u=new xC,o={get length(){return s.ap.length},enable:function(t){s.Ab(s.M$(t&&t.id)||t)},disable:function(t){s.bb(s.M$(t&&t.id)||t)},item:function(t){return s.ap[t]&&s.ap[t].Jd},getTrackByID:function(t){var n=s.M$(t);return n&&n.Jd},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}U(n,t);var i=n.prototype;return i.M$=function(t){return this.R$[t]},i.El=function(t){for(var n=0,i=t.B$.zl;n<i.length;n++){var r=i[n];r.Hl===this.U$()&&(r.vm=!0)}t.addEventListener("enabledtrack",this.Co),t.addEventListener("disabledtrack",this.Co),this.ap.push(t),this.R$[t.Hl]=t,this.dispatchEvent({type:"addtrack",track:t.Jd})},i.Ab=function(t){if(t){var n=this.R$[t.Hl];if(n&&!n.Fl){for(var i=this.ap.length-1;i>=0;i--)this.ap[i].$w();n.Jw()}}},i.bb=function(t){},L(n,[{key:"F$",get:function(){return this.U$()}}]),n}(xC);var gD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).H$=void 0,e.H$=NaN,e}U(n,t);var i=n.prototype;return i.U$=function(){return this.H$},i.O$=function(t){t.V$?this.X$(t.W$):t.q$&&this.X$(t.q$)},i.X$=function(t){t&&(this.H$=t.Hl),this.ap.forEach(function(n){return n.z$(t)})},i.handleRenditionUpdated=function(t){if(t.WZ&&t.WZ.RJ===$C.Tv)for(var n=0,i=this.ap;n<i.length;n++){i[n].G$(t)}},i.Ab=function(n){var i=n;if(!i){var r=this.ap.filter(function(t){return t.Fb});r.length>0&&(i=r[0])}t.prototype.Ab.call(this,i)},L(n,[{key:"Ku",get:function(){return"audio"}}]),n}(_D),wD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).j$=void 0,e.j$=NaN,e}U(n,t);var i=n.prototype;return i.U$=function(){return this.j$},i.O$=function(t){(t.Q$||t.W$)&&(t.W$&&(this.j$=t.W$.Hl),this.ap.forEach(function(n){return n.z$(t.W$)}))},i.handleRenditionUpdated=function(t){if(t.WZ&&(t.WZ.RJ===$C.Ev||t.WZ.RJ===$C.JY))for(var n=0,i=this.ap;n<i.length;n++){i[n].G$(t)}},L(n,[{key:"Ku",get:function(){return"video"}}]),n}(_D);function yD(t,n){for(var i,r=n-(i=t?K(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function mD(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var kD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).WZ=void 0,i.vm=!1,i.Y$=!0,i.Jd=void 0,i.WZ=n,i.vm=!1,i.Jd=(r=en(i),e=new xC,s={get bandwidth(){return r.WZ&&r.WZ.bandwidth},get averageBandwidth(){return r.WZ&&r.WZ.averageBandwidth},get codecs(){return r.SJ},get resolution(){return r.Z$},get frameRate(){return mD(r.J$,2)},get id(){return r.Hl},get uri(){return r.WZ&&r.WZ.uri},get name(){return r.hs},set name(t){r.hs=t},get enabled(){return r.Fl},set enabled(t){r.Fl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}U(n,t);var i=n.prototype;return i.K$=function(t){var n=!!t&&this.Hl===t.Hl;this.vm!==n&&(this.vm=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Jd}))},i.G$=function(t){return this.WZ.Hl===t.WZ.Hl&&(this.WZ=t.WZ,this.dispatchEvent({type:"qualityupdated",quality:this.Jd}),!0)},L(n,[{key:"Fl",get:function(){return this.Y$},set:function(t){this.Y$=t,this.WZ.QZ(!t)}},{key:"Xl",get:function(){return this.WZ.Xl}},{key:"Z$",get:function(){return this.WZ.resolution?{width:this.WZ.resolution.width,height:this.WZ.resolution.height}:{width:NaN,height:NaN}}},{key:"hs",get:function(){return this.WZ.hs},set:function(t){this.WZ.hs=t,this.dispatchEvent({type:"qualityupdated",quality:this.Jd})}},{key:"Hl",get:function(){return this.WZ.Hl}}]),n}(xC);var pD=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"SJ",get:function(){return this.WZ.SJ&&this.WZ.SJ.AZ||""}},{key:"J$",get:function(){return mD(Number(this.WZ.NJ),2)}}]),n}(kD),AD=function(t){function n(n){return t.call(this,n)||this}return U(n,t),L(n,[{key:"SJ",get:function(){return this.WZ.SJ&&this.WZ.SJ.pZ||""}},{key:"J$",get:function(){return mD(Number(this.WZ.pJ),2)}}]),n}(kD),bD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).zl=void 0,r.tK=null,r.nK={},r.C$=void 0,r.Jd=void 0,r.Co=function(t){return r.dispatchEvent(t)},r.zl=n,r.C$=i;for(var h=r.zl.length-1;h>=0;h--){var a=r.zl[h];r.nK[a.Hl]=a}return r.zl.forEach(function(t){return t.addEventListener("activequalitychanged",r.Co)}),r.Jd=(e=en(r),s=new xC,u={item:function(t){var n=e.Tl(t);return n&&n.Jd},getQualitiesByIDs:function(t){return e.iK(t).map(function(t){return t.Jd})},get length(){return e.zl.length},get activeQuality(){return e.Ul&&e.Ul.Jd},get targetQuality(){return e.Gl?1===e.Gl.length?e.Gl[0].Jd:e.Gl.map(function(t){return t.Jd}):null},set targetQuality(t){if(t){var n=$(t)?t:[t];e.Gl=e.iK(n.map(function(t){return t.id}))}else e.Gl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}U(n,t);var i=n.prototype;return i.rK=function(t){return!!t&&this.zl.some(function(n){return n.Hl===t.Hl})},i.eK=function(t,n){for(var i=0,r=this.zl;i<r.length;i++){r[i].K$(t)}},i.iK=function(t){var n=this;return t&&t.map(function(t){return n.nK[t]}).filter(function(t){return t})},i.sK=function(){for(var t=this.zl.length-1;t>=0;t--)this.zl[t].vm=!1},i.P$=function(t){var n=this.C$.uK,i=this.iK(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Jd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Tl=function(t){return this.zl[t]},L(n,[{key:"Ul",get:function(){for(var t=0,n=this.zl;t<n.length;t++){var i=n[t];if(i.vm)return i}return null}},{key:"Gl",get:function(){return this.tK},set:function(t){this.tK=this.oK(t)}}]),n}(xC);var TD=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Jw=function(){this.C$&&(this.C$.H$=this.zl[0].Hl)},i.$w=function(t){this.C$&&(this.C$.H$=null)},i.oK=function(t){},n}(bD),ED=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Jw=function(){if(this.oK(this.Gl),this.C$){var t=this.C$.I$;if(!t)return;var n=Je(t.hK.AJ.mZ,function(t){return!t.uri});this.C$.H$=n?n.Hl:null}},i.eK=function(n,i){"video"===i&&t.prototype.eK.call(this,n,i)},i.$w=function(t){"video"===t&&this.sK()},i.oK=function(t){if(!this.C$)return this.Gl;var n=t?this.iK(t.map(function(t){return t.Hl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Hl});return this.C$.uK=i,n}return t?this.Gl:(this.C$.uK=null,null)},n}(bD),SD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).Ku=void 0,r.B$=void 0,r.Hl=void 0,r.xy=void 0,r.hs=void 0,r.Jd=void 0,r.Ku=n,r.B$=i,r.Hl=i.Tl(0).Hl,r.xy=r.B$.zl.some(function(t){return t.vm}),r.hs=i.Tl(0).WZ.hs,r.Jd=(e=en(r),s=new xC,{get id(){return e.Hl},get enabled(){return e.Fl},get qualities(){return e.B$&&e.B$.Jd},get language(){return e.ql},get default(){return e.Fb},get name(){return e.hs},set name(t){e.hs=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}U(n,t);var i=n.prototype;return i.z$=function(t){var n=this.B$.rK(t);this.By(n),this.B$.eK(t,this.Ku)},i.By=function(t){this.xy!==t&&(t?(this.xy=!0,this.dispatchEvent({type:"enabledtrack",track:this.Jd})):(this.xy=!1,this.dispatchEvent({type:"disabledtrack",track:this.Jd})))},i.Jw=function(){this.xy||this.B$.Jw()},i.$w=function(){this.xy&&this.B$.$w(this.Ku)},i.G$=function(t){t.WZ.Hl===this.Hl&&(this.hs=t.WZ.hs);for(var n=0,i=this.B$.zl;n<i.length;n++){i[n].G$(t)}},L(n,[{key:"Fl",get:function(){return this.xy}},{key:"ql",get:function(){return this.aK()}},{key:"Xl",get:function(){return this.cK()}},{key:"Fb",get:function(){var t="video"===this.Ku,n=this.B$.zl&&this.B$.zl[0].WZ.Fb;return t||n}}]),n}(xC);var RD=function(t){function n(n){return t.call(this,"video",n)||this}U(n,t);var i=n.prototype;return i.cK=function(){return ZC.KY},i.aK=function(){return""},n}(SD),ID=function(t){function n(n){return t.call(this,"audio",n)||this}U(n,t);var i=n.prototype;return i.cK=function(){return this.B$.zl[0].WZ.Xl},i.aK=function(){return this.B$.zl[0].WZ.ql||""},n}(SD),ND=function(){function t(t,n,i){var r=this;this.fK=void 0,this.vK=void 0,this.dK=void 0,this.lK=void 0,this._K=function(){var t=r.fK;t.removeEventListener("gK",r._K);var n=t.hK.E$.mZ,i=t.hK.AJ.mZ,e=n.map(function(t){return new pD(t)});if(e.length>0){var s=new ED(e,r.vK);r.lK.El(new RD(s));var u=Je(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new ID(s);u&&(h.hs=u.hs),r.dK.El(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new AD(c),v=new TD([f],r.vK);r.dK.El(new ID(v))}}},this.fK=t,this.vK=i,this.dK=new gD(t,n,i),this.lK=new wD(t,n,i),t&&(t.gK?this._K():t.addEventListener("gK",this._K))}return L(t,[{key:"Uw",get:function(){return this.dK}},{key:"Fw",get:function(){return this.lK}}]),t}(),CD=["loadedmetadata","durationchange","Go","Hv","by","wK"],DD=["yK","y$","mK","Go"],OD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).kK=null,h.cR=void 0,h.pK=void 0,h.AK=void 0,h.bK=void 0,h.N$=void 0,h.TK=void 0,h.I$=void 0,h.Fw=void 0,h.Uw=void 0,h.EK=[],h.SK=[],h.RK=function(t){return h.dispatchEvent(t)},h.IK=function(t){return h.NK(t)},h.CK=function(t){return h.DK(t)},h.cR=n.src,h.pK=n.type,h.AK=i,h.bK=r,h.TK=e,h.I$=s,h.N$=u,h.I$&&(h.I$.addEventListener("xK",h.RK),h.I$.addEventListener("PK",h.RK));var a=new ND(h.I$,h.N$,o);return h.Fw=a.Fw,h.Uw=a.Uw,h.fR=null,h.cR&&(h.N$&&h.N$.Il(),h.I$&&(h.I$.BK=h.cR)),h}U(n,t);var i=n.prototype;return i.LK=function(t){this.N$&&this.N$.Dh(t),this.I$&&this.I$.MK(),this.fR&&this.UK()},i.FK=function(){this.N$&&this.N$.FK(),this.I$&&this.I$.HK()},i.VK=function(){if(this.I$)for(var t=0;t<CD.length;t++){var n=CD[t];this.I$.addEventListener(n,this.IK)}if(this.N$)for(var i=0;i<DD.length;i++){var r=DD[i];this.N$.addEventListener(r,this.CK)}},i.XK=function(){if(this.I$)for(var t=0;t<CD.length;t++){var n=CD[t];this.I$.removeEventListener(n,this.IK)}if(this.N$)for(var i=0;i<DD.length;i++){var r=DD[i];this.N$.removeEventListener(r,this.CK)}},i.UK=function(){if(this.I$&&this.EK.length){var t=this.EK.slice();rs(this.EK);for(var n=0;n<t.length;n++){var i=t[n];this.I$.dispatchEvent(i)}}if(this.N$&&this.SK.length){var r=this.SK.slice();rs(this.SK);for(var e=0;e<r.length;e++){var s=r[e];this.N$.dispatchEvent(s)}}},i.NK=function(t){this.EK.push(t)},i.DK=function(t){this.SK.push(t)},i.Pv=function(){this.dispatchEvent("Pv"),this.Bo(),this.N$&&this.N$.Pv(),this.TK&&this.TK.Pv(),this.I$&&this.I$.Pv(),this.kK=null,rs(this.EK),rs(this.SK)},L(n,[{key:"fR",get:function(){return this.kK},set:function(t){this.XK(),this.kK=t,this.fR?this.dispatchEvent("qh"):this.VK()}}]),n}(xC),xD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fK=null,n.Co=function(t){n.dispatchEvent(t,!0)},n}return U(n,t),L(n,[{key:"H$",get:function(){var t=this.fK&&this.fK.hK.d$;return t?t.Hl:null},set:function(t){var n;this.fK&&(n=null===t?uD(this.fK.hK.AJ.mZ):this.fK.hK.AJ.mZ.filter(function(n){return t===n.Hl}).shift(),this.fK.hK.d$=n||null)}},{key:"uK",get:function(){return this.fK&&this.fK.WK||null},set:function(t){this.fK&&(this.fK.qK(t),this.dispatchEvent("L$"))}},{key:"I$",get:function(){return this.fK},set:function(t){this.fK&&(this.fK.hK.removeEventListener("A$",this.Co),this.fK.hK.removeEventListener("renditionUpdated",this.Co),this.fK.hK.removeEventListener("l$",this.Co)),this.fK=t,this.fK&&(this.fK.hK.addEventListener("A$",this.Co),this.fK.hK.addEventListener("renditionUpdated",this.Co),this.fK.hK.addEventListener("l$",this.Co))}}]),n}(xC),PD=function(){function t(){}var n=t.prototype;return n.zK=function(t){return T.resolve(!1)},n.GK=function(t){return T.reject(BD)},n.jK=function(t){return T.reject(BD)},n.Ko=function(t){return T.resolve(!1)},n.th=function(t,n){return T.resolve(void 0)},n.QK=function(t){return T.resolve([])},n.YK=function(){return T.resolve([])},n.ZK=function(t,n){return T.resolve([])},n.Oh=function(t){return T.reject(BD)},n.JK=function(t){return T.reject(BD)},n.$K=function(){return T.reject(BD)},t}(),BD="Storage disabled",LD=function(){function t(){this.KK=void 0,this.n0=void 0,this.i0=void 0,this.r0=void 0,this.e0=void 0,this.KK=new PD,this.n0=new PD,this.i0=new PD,this.r0=new PD,this.e0=new PD}return t.Pj=function(){return T.resolve(new t)},t.prototype.s0=function(t){return T.reject(MD)},t}(),MD="Storage disabled",UD=function(){function t(t){var n=this;this.Ao=new Yu,this.u0=void 0,this.Ao._h(t),this.Ao.lh.then(function(t){n.u0=t})}var n=t.prototype;return n.zK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.zK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.GK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.jK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ko=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ko(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.th=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.th(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.QK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.YK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.ZK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Oh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Oh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JK=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.JK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$K=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u0,t.t0){t.next=5;break}return t.next=4,this.o0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.$K());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"o0",get:function(){return this.Ao.lh}}]),t}(),FD=function(){function t(t){var n=this;this.Ao=new Yu,this.h0=void 0,this.n0=void 0,this.KK=void 0,this.i0=void 0,this.r0=void 0,this.e0=void 0,this.Ao._h(t);var i=this.Ao.lh;i.then(function(t){n.h0=t}),this.n0=new UD(i.then(function(t){return t.n0})),this.KK=new UD(i.then(function(t){return t.KK})),this.i0=new UD(i.then(function(t){return t.i0})),this.r0=new UD(i.then(function(t){return t.r0})),this.e0=new UD(i.then(function(t){return t.e0}))}return t.prototype.s0=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h0,t.t0){t.next=5;break}return t.next=4,this.a0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.s0(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"a0",get:function(){return this.Ao.lh}}]),t}();function HD(t){return void 0!==t}var VD=function(){function t(){this.c0=[]}var n=t.prototype;return n.zK=function(t){return T.resolve("temporary"===t)},n.GK=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Oh(n.key);case 2:this.c0.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(le.mark(function t(n){var i,r=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.GK(t)}),t.next=3,T.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Ko=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T.resolve(Boolean(this.f0(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.th=function(t,n){return T.resolve(this.f0(t,n))},n.QK=function(t){var n=this,i=t?t.map(function(t){return n.f0(t)}):this.c0;return T.resolve(i.filter(HD))},n.YK=function(){return T.resolve([].concat(this.c0))},n.ZK=function(t,n){var i=n||"key",r=this.c0.filter(function(n){return n[i]===t});return T.resolve(r)},n.Oh=function(t){var n=this.f0(t);return n&&Ke(this.c0,n),T.resolve()},n.JK=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.Oh(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$K=function(){return rs(this.c0),T.resolve()},n.f0=function(t,n){n=n||"key";for(var i=0,r=this.c0;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),XD=function(){function t(){this.KK=void 0,this.n0=void 0,this.i0=void 0,this.r0=void 0,this.e0=void 0,this.KK=new VD,this.n0=new VD,this.i0=new VD,this.r0=new VD,this.e0=new VD}return t.Pj=function(){return T.resolve(new t)},t.prototype.s0=function(t){return t(this)},t}(),WD=function(){function t(t){this.v0=t}var n=t.prototype;return n.zK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.zK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v0;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.zK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.GK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v0;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.zK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.jK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ko=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.Ko(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.th=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.v0;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.th(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.QK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.v0;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.QK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.YK=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.v0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.YK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZK=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.v0;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.ZK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Oh=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Oh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JK=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.v0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.JK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$K=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.v0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.$K();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function qD(t){return T.coroutine(le.mark(function n(){var i;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",zD.Pj(i));case 4:case"end":return n.stop()}},n)}))}var zD=function(){function t(t){this.d0=void 0,this.l0=void 0,this._0=void 0,this.g0=void 0,this.w0=void 0,this.y0=void 0,this.d0=t,this.l0=new WD(t.map(function(t){return t.r0})),this._0=new WD(t.map(function(t){return t.e0})),this.g0=new WD(t.map(function(t){return t.i0})),this.w0=new WD(t.map(function(t){return t.KK})),this.y0=new WD(t.map(function(t){return t.n0}))}return t.Pj=function(n){return T.resolve(new t(n))},t.prototype.s0=function(n){var i=this;if(0===this.d0.length)return n(this);var r=[],e=0;return this.d0[e].s0(function s(u){return r.push(u),++e<i.d0.length?i.d0[e].s0(s):n(new t(r))})},L(t,[{key:"r0",get:function(){return this.l0}},{key:"e0",get:function(){return this._0}},{key:"i0",get:function(){return this.g0}},{key:"KK",get:function(){return this.w0}},{key:"n0",get:function(){return this.y0}}]),t}(),GD=function(){function t(t){this.m0=void 0,this.k0=[],this.p0=!0,this.m0=t}var n=t.prototype;return n.Pj=function(){return new FD(this.A0())},n.A0=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.p0){t.next=4;break}return t.next=3,T.resolve();case 3:this.p0=!1;case 4:n=0,i=this.k0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,qD([XD.Pj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,qD([XD.Pj,this.m0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.aL=function(t){if(!this.p0)throw new f("Registration overdue");this.k0.push(t)},t}(),jD=function(){function t(){}return t.aL=function(n){t.jE.aL(n)},L(t,null,[{key:"je",get:function(){return t.b0||(t.b0=t.jE.Pj()),t.b0}}]),t}();function QD(t){return Ir(t)}function YD(t,n){var i=Ir(t);return n?""+i+n:""+i}function ZD(t,n,i,r,e,s){var u=new $o;return n&&u.set("Range","bytes="+n[0]+"-"+n[1]),new Of({cv:t,sv:i,ev:u,Dv:r,Rv:Rf.GET,Ku:If.lv,So:e,Ov:s})}jD.jE=new GD(LD.Pj),jD.b0=void 0;var JD=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).Ap=void 0,o.zY=void 0,o.sv=void 0,o.T0=void 0,o.Ob=void 0,o.E0=void 0,o.S0=void 0,o.ED=void 0,o.R0=void 0,o.jv=null,o.I0=void 0,o.Gf=new os,o.N0=function(t,n){return o.Ov(t,n)},o.Ap=n,o.zY=i,o.sv=r,o.T0=e,o.ED=s,o.R0=new KD,o.Ob=u,o.E0=jD.je.KK,o.S0=jD.je.n0,o}U(n,t);var i=n.prototype;return i.NR=function(){return this.C0(this.Gf.So)},i.C0=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return iD(i=this.zY)?(r=i.zY,e=[i.GY.NR,i.GY.OR]):(r=i,e=void 0),this.R0.D0(),t.prev=3,t.next=6,this.O0(r,e);case 6:if(s=t.sent,cs(n),s){t.next=12;break}return t.next=11,this.x0(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Ds();case 14:u=t.sent,cs(n),this.P0(u,s.rv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!as(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Uf?t.t0.jv.rv:0,o=new f('Could not load fragment: "'+this.zY+'", HTTP status '+h);case 27:return t.abrupt("return",this.B0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.O0=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=YD(n,i),t.next=4,this.E0.Ko(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.S0.th(r);case 7:return e=t.sent,s=ZD(n,i,this.sv,this.T0),u=e.data.buffer,t.abrupt("return",new Df({Ds:u,ev:{},hv:s,av:n,sv:this.sv,rv:200,uv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.x0=function(t,n,i){var r=ZD(t,n,this.sv,this.T0,i,this.N0);return this.Ob.hv(r)},i.Ov=function(t,n){var i={type:"wK",hv:this,L0:t,M0:n=void 0===n?NaN:n};this.R0.U0(t,n),this.dispatchEvent(i)},i.P0=function(t,n){var i=this.sv===Jo.Tc?t.byteLength:0;this.R0.F0(i),this.sv===Jo.Je?this.jv=t:this.jv=new y(t),this.I0=n,t=null,this.B0(),this.jv=null},i.bo=function(t){return this.Gf.bo(),t||((t=new f('Aborted fragment load: "'+this.zY+'"')).aborted=!0),this.B0(t)},i.B0=function(t){this.R0.H0();var n={type:"qw",hv:this};return this.dispatchEvent(n),this.ED(t||null,this)},n}(xC);function $D(){return Ub()/1e3}var KD=function(t){function n(){var n;return(n=t.call(this)||this).V0=NaN,n.X0=NaN,n.W0=NaN,n.q0=NaN,n.z0=0,n.G0=NaN,n.V0=$D(),n}U(n,t);var i=n.prototype;return i.D0=function(){this.V0=$D(),this.dispatchEvent("xh")},i.U0=function(t,n){this.W0=$D(),this.xK||(this.X0=this.W0),this.z0=t,this.G0=n||this.G0||NaN,this.dispatchEvent("xh")},i.F0=function(t){this.U0(t,t)},i.H0=function(){this.q0=$D(),this.dispatchEvent("xh")},L(n,[{key:"xK",get:function(){return!w(this.X0)}},{key:"j0",get:function(){return!w(this.q0)}},{key:"Tw",get:function(){return(this.X0||$D())-this.V0}},{key:"Q0",get:function(){return(this.q0||this.W0)-this.X0}},{key:"Y0",get:function(){return(this.q0||this.W0)-this.V0}}]),n}(xC),tO=function(t){function n(n,i){var r;return(r=t.call(this)||this).T0=void 0,r.Z0=[],r.J0=null,r.$0=function(t){return r.K0(t)},r.Ob=void 0,r.T0=!(!i||i.crossOrigin!==cl.m_),r.Ob=n,r}U(n,t);var i=n.prototype;return i.Dh=function(t,n,i,r){var e=new JD(t,n,i,this.T0,r,this.Ob);return e.addEventListener("qw",this.$0),this.Z0.push(e),this.n1(),e},i.rh=function(t,n){var i=function(t){return!n||t.Ap===n},r=this.Z0.filter(i);!t&&this.J0&&i(this.J0)&&r.push(this.J0);for(var e=0;e<r.length;e++){r[e].bo()}return r},i.n1=function(){if(!this.J0){var t=this.Z0.shift();t&&(this.J0=t,t.NR())}},i.K0=function(t){var n=t.hv,i=this.Z0.indexOf(n);-1!==i&&ts(this.Z0,i),this.J0===n&&(this.J0=null,this.n1())},n}(xC);function nO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function iO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function rO(t,n){return Qo([t],{type:n})}var eO="iframe.html",sO=0,uO=m&&(m.bind&&m.bind(m)||m),oO=function(t){function n(n){var i;return(i=t.call(this)||this).i1=void 0,i.e1=[],i.s1=!1,i.Co=function(t){return i.dispatchEvent(t)},n&&i.qh(n),i}U(n,t);var i=n.prototype;return i.postMessage=function(t){this.s1||(this.i1?this.i1.postMessage(t):this.e1.push(t))},i.qh=function(t){if(this.s1)t.terminate();else{this.i1=t,this.i1.addEventListener("message",this.Co,!1),this.i1.addEventListener("error",this.Co,!1);for(var n=0,i=this.e1;n<i.length;n++){var r=i[n];this.i1.postMessage(r)}this.e1.length=0}},i.terminate=function(){this.Bo(),this.s1=!0,this.e1.length=0,this.i1&&(this.i1.removeEventListener("message",this.Co,!1),this.i1.removeEventListener("error",this.Co,!1),this.i1.terminate(),this.i1=void 0)},n}(xC);var hO=function(n){function i(i,r,s){var u,o,h;return(u=n.call(this)||this).Hl=void 0,u.u1=void 0,u.o1=void 0,u.h1=void 0,u.a1=void 0,u.c1=function(){return u.f1()},u.v1=function(t){return u.d1(t)},u.Hl=i,u.u1=r,u.o1=(o=s+eO,(h=e.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,e.body.appendChild(h),h),u.h1=u.o1.contentWindow,u.a1=Fr(s),u.o1.addEventListener("load",u.c1),t.addEventListener("message",u.v1),u}U(i,n);var r=i.prototype;return r.f1=function(){this.o1.removeEventListener("load",this.c1),this.h1.postMessage({type:"initialize",id:this.Hl,script:this.u1},"*")},r.d1=function(t){Fr(t.origin)===this.a1&&t.data.id===this.Hl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.h1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.o1.removeEventListener("load",this.c1),t.removeEventListener("message",this.v1),this.h1.postMessage({type:"terminate"},"*"),this.o1.parentNode.removeChild(this.o1)},i}(xC);function aO(){return(aO=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.zd,t.prev=1,e=new Of({cv:n,Rv:Rf.GET,sv:Jo.Je}),t.next=5,r.hv(e);case 5:return s=t.sent,t.next=8,s.Ds();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Uf?t.t0.jv.rv:-1,i({wh:h,Go:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function cO(t,n){function i(i){return e(),nt(r=i.data)&&"2.88.0"===r.l1?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function fO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new uO(t)}catch(t){return n({message:t.message})}return cO(i,n)}var vO=!0;function dO(t,n){var i=sO++,r=t+n,s=new oO;function u(){!function(t,n,i,r){var s;function u(){h(),cO(s,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),s.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){s.removeEventListener("initialized",u),s.removeEventListener("error",o)}if(!e)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(s=new hO(t,n,i)).addEventListener("initialized",u),s.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?s.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(s.qh(n),i&&s.dispatchEvent(i))}return fO(r,function(t,n,i){t?function(t,n){aO.apply(this,arguments)}(r,function(t,n){t?t.wh>=400?o(t.Go):u():n&&function(t,n){if(!vO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});fO(nO(rO(t,"application/javascript")),function(t,i,r){return t&&(vO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),s}function lO(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function _O(t){return{get length(){return t.length},start:function(n){return lO(t,n|=0),t.start(n)},end:function(n){return lO(t,n|=0),t.end(n)}}}function gO(t,n){return t.NR-n.NR}var wO=function(){function t(t){this._1=void 0,this._1=t}var n=t.prototype;return n.start=function(t){return this._1[t].NR},n.end=function(t){return this._1[t].OR},n.g1=function(){return this._1},L(t,[{key:"length",get:function(){return this._1.length}}]),t}(),yO=new wO([]),mO=new wO([{NR:-1/0,OR:1/0}]);function kO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({NR:e,OR:s}),e=o,s=h))}return r.push({NR:e,OR:s}),new wO(r)}(function(t){var n=EO(t);return n.sort(gO),new wO(n)}(t),n)}function pO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=l.max(t.start(r),n.start(e)),u=l.min(t.end(r),n.end(e));s<u&&i.push({NR:s,OR:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new wO(i)}function AO(t){var n=t.length;if(!n)return mO;var i=[],r=t.start(0);r!==-1/0&&i.push({NR:-1/0,OR:r});for(var e=0;e<n-1;e+=1)i.push({NR:t.end(e),OR:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({NR:s,OR:1/0}),new wO(i)}function bO(t,n){return-1!==TO(t,n)}function TO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function EO(t){if(t instanceof wO)return t.g1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({NR:t.start(i),OR:t.end(i)});return n}function SO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(EO)),kO(new wO(e));var i,r,e}var RO=.001;function IO(t,n,i){return i=+i||0,t.NR-i<=n.OR&&n.NR<=t.OR+i}function NO(t){var n={NR:NaN,OR:NaN,mY:t};return CO(n),n}function CO(t){var n=t.mY;n.length?(n.sort(gO),t.NR=n[0].NR,t.OR=n[n.length-1].OR):(t.NR=NaN,t.OR=NaN)}function DO(t){return void 0!==t.mY}function OO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=l.max(s.NR,n),o=l.min(s.OR,i);if(u<o){var h=void 0;h=s.NR===u&&s.OR===o?s:{NR:u,OR:o,Cp:s.Cp},r.push(h)}}return r}function xO(t,n){var i=l.min(t.NR,n.NR),r=l.max(t.OR,n.OR),e=t.mY,s=n.mY,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.Cp===h.Cp&&IO(o,h,RO)&&u.splice(e.length-1,2,function(t,n){var i=t.Cp||n.Cp;return{NR:l.min(t.NR,n.NR),OR:l.max(t.OR,n.OR),Cp:i}}(o,h)),NO(u=OO(u,i,r))}var PO,BO,LO,MO=function(){function t(t,n){this._1=void 0,this._1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;DO(r)?CO(e=r):e=NO([r]),e.mY.length&&e.NR<e.OR&&n.push(e)}return n}(t),n||this.w1()}var n=t.prototype;return n.start=function(t){return this._1[t]&&this._1[t].NR},n.end=function(t){return this._1[t]&&this._1[t].OR},n.mY=function(t){return this._1[t]&&this._1[t].mY},n.m1=function(t,n){return this.A1(t,t,n)},n.A1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.b1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.T1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.E1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Iy=function(t){return-1!==this.m1(t)},n.nI=function(t,n,i){return-1!==this.A1(t,n,i)},n.rI=function(t,n,i){return-1!==this.b1(t,n,i)},n.zR=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=l.max(this.start(i),t.start(r)),s=l.min(this.end(i),t.end(r));if(e<s){var u=OO(this.mY(i),e,s);n.push(NO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.Pj(n,!0)},n.ag=function(t){return this.length&&t.length?this.zR(AO(t)):this},n.JR=function(t){return this.length?t.length?this.Pj(this._1.concat(t._1)):this:t},n.S1=function(t){for(var n=[],i=0,r=this._1;i<r.length;i++)for(var e=0,s=r[i].mY;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.Pj(n)},n.uI=function(t){return this.S1(function(n){return t(n)?n:null})},n.R1=function(){if(!this.length)return this;for(var t=this._1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.I1(i,r)&&(t.splice(n,2,xO(i,r)),n-=1)}return this.Pj(t,!0)},n.I1=function(t,n){var i=t.mY,r=n.mY,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.N1(e,s)},n.w1=function(){var t=this._1;t.sort(gO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&IO(i,r,RO)&&(t.splice(n,2,xO(i,r)),n-=1)}},L(t,[{key:"length",get:function(){return this._1.length}}]),t}(),UO=function(t){function n(n,i){return t.call(this,n,i)||this}U(n,t);var i=n.prototype;return i.Pj=function(t,i){return new n(t,i)},i.N1=function(t,n){return n.Cp.WZ===t.Cp.WZ&&n.Cp.KQ===t.Cp.KQ+1},n}(MO);function FO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.C1(e),u=t.D1(e,s);i.push({NR:s.Z_(),OR:u.Z_(),Cp:e})}return new UO(i).R1()}function HO(t){return t.O1!==PO.P1}function VO(t){return 0===t.O1}function XO(t){return t.O1>=0}function WO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.mY(r);s<u.length;s++){var o=u[s];if(!e){var h=o.Cp;if(rD(h)&&HO(h)){if((e=XO(h))&&!VO(h)){var a=t.B1(h,h.L1).Z_();o={NR:l.max(o.NR,a),OR:o.OR,Cp:h}}}else e=!0;0}e&&i.push(o)}return new UO(i)}(BO=PO||(PO={})).P1=-1,BO.M1=-2,function(t){t.U1="h.264",t.F1="mp3",t.H1="aac-lc",t.V1="he-aac"}(LO||(LO={}));var qO,zO,GO,jO,QO=function(){function t(){this.X1=0,this._1=[],this.gb={}}var n=t.prototype;return n.W1=function(t){this._1=this._1.concat(t._1),this.X1+=t.Cl},n.q1=function(t,n,i){var r=this.X1,e=i-n;e>0&&(this._1.push({z1:n,G1:i,j1:e,Q1:r,Y1:t}),this.X1+=e)},n.th=function(t){for(var n=0,i=this._1;n<i.length;n++){var r=i[n];if(r.Q1<=t&&t<r.Q1+r.j1)return r.Y1[t+r.z1-r.Q1]}},n.Z1=function(t,n){for(var i=n,r=0,e=this._1;r<e.length;r++)for(var s=e[r],u=s.G1,o=s.z1;o<u;o+=1,i+=1)t[i]=s.Y1[o];return i},n.J1=function(){for(var t=new y(this.X1),n=0,i=0,r=this._1;i<r.length;i++)for(var e=r[i],s=e.G1,u=e.z1;u<s;u+=1,n+=1)t[n]=e.Y1[u];return t},n.hh=function(n){for(var i=new t,r=0,e=this._1;r<e.length;r++){var s=e[r];i.q1(s.Y1,s.z1,s.G1)}return i.gb=n||_e({},this.gb),i},L(t,[{key:"Cl",get:function(){return this.X1},set:function(t){var n=this._1,i=this.X1-t;if(!(t>=this.X1))if(this.X1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.j1)return e.G1-=i,e.j1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.j1}else n.length=0}},{key:"Ds",get:function(){for(var t=new Array(this.X1),n=0,i=0,r=this._1;i<r.length;i++)for(var e=r[i],s=e.G1,u=e.z1;u<s;u+=1,n+=1)t[n]=e.Y1[u];return t}}]),t}();function YO(t,n){return{audio:t.audio?ix(t.audio,n):void 0,video:t.video?hx(t.video,n):void 0,K1:t.K1?(i=t.K1,{n2:i.n2,r$:i.r$,Jl:i.Jl,i2:i.i2,e2:i.e2,s2:i.s2,u2:i.u2.map(ZO),t_:[]}):void 0,o2:t.o2?t.o2.map($O):t.o2,h2:t.h2.lw()};var i}function ZO(t){return{Xk:t.Xk,gb:{a2:t.gb.a2,c2:t.gb.f2.lw()},ZF:t.ZF}}function JO(t){return{Xk:t.Xk,gb:{a2:t.gb.a2,f2:R_(t.gb.c2)},ZF:t.ZF}}function $O(t){return{f2:t.f2.lw(),DA:t.DA,oG:t.oG,uG:t.uG,Ku:t.Ku,v2:t.v2,hG:t.hG,aG:t.aG}}function KO(t){return{f2:R_(t.f2),DA:t.DA,oG:t.oG,uG:t.uG,Ku:t.Ku,v2:t.v2,hG:t.hG,aG:t.aG}}function tx(t){return{n2:t.n2,ZF:[],d2:t.d2,l2:t.l2,duration:t.duration,_2:t._2,g2:t.g2.lw(),w2:t.w2,m2:t.m2.lw(),A2:t.A2,b2:t.b2.lw(),T2:t.T2.lw(),E2:t.E2.lw(),S2:t.S2.lw(),R2:t.R2.lw(),I2:t.I2.lw(),N2:t.N2.lw()}}function nx(t){return{n2:t.n2,ZF:[],d2:t.d2,l2:t.l2,duration:t.duration,_2:t._2,g2:R_(t.g2),w2:t.w2,m2:R_(t.m2),A2:t.A2,b2:R_(t.b2),T2:R_(t.T2),E2:R_(t.E2),S2:R_(t.S2),R2:R_(t.R2),I2:R_(t.I2),N2:R_(t.N2)}}function ix(t,n){switch(t.d2){case LO.H1:case LO.V1:return function(t,n){return _e({},ex(t),{d2:t.d2,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.gb,_e({},fx(r),{C2:r.C2,D2:r.D2,O2:r.O2}));var r;return ux(t.hh(i),n)}(t,n)}),kJ:t.kJ,P2:t.P2})}(t,n);case LO.F1:return function(t,n){return _e({},ex(t),{d2:t.d2,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.gb,_e({},fx(r),{jk:r.jk,bp:r.bp,B2:r.B2,L2:r.L2,M2:r.M2}));var r;return ux(t.hh(i),n)}(t,n)})})}(t,n)}}function rx(t){switch(t.d2){case LO.H1:case LO.V1:return function(t){return _e({},sx(t),{d2:t.d2,ZF:t.ZF.map(function(t){return function(t){var n=ox(t),i=(r=n.gb,_e({},vx(r),{C2:r.C2,D2:r.D2,O2:r.O2}));var r;return n.hh(i)}(t)}),kJ:t.kJ,P2:t.P2})}(t);case LO.F1:return function(t){return _e({},sx(t),{d2:t.d2,ZF:t.ZF.map(function(t){return function(t){var n=ox(t),i=(r=n.gb,_e({},vx(r),{jk:r.jk,bp:r.bp,B2:r.B2,L2:r.L2,M2:r.M2}));var r;return n.hh(i)}(t)})})}(t)}}function ex(t){return _e({},tx(t),{ZF:[],d2:t.d2,U2:t.U2,F2:t.F2,H2:t.H2,V2:t.V2})}function sx(t){return _e({},nx(t),{ZF:[],d2:t.d2,U2:t.U2,F2:t.F2,H2:t.H2,V2:t.V2})}function ux(t,n){var i=t.J1();return n.push(i.buffer),{X2:i,W2:t.Cl,q2:t.gb}}function ox(t){var n=new QO;return n.q1(t.X2,0,t.W2),n.gb=t.q2,n}function hx(t,n){return _e({},tx(t),{d2:t.d2,ZF:t.ZF.map(function(t){return function(t,n){var i=(r=t.gb,_e({},ax(r),{L_:r.L_,z2:r.z2.lw(),G2:r.G2,j2:r.j2,Q2:r.Q2&&r.Q2.lw(),Y2:r.Y2&&r.Y2.lw(),Z2:r.Z2,J2:r.J2,o2:r.o2,K2:r.K2}));var r;return ux(t.hh(i),n)}(t,n)}),t3:t.t3,n3:t.n3,aA:t.aA,width:t.width,height:t.height,i3:t.i3,r3:t.r3,e3:t.e3,lJ:t.lJ,_J:t._J,pA:t.pA,AA:t.AA})}function ax(t){var n;return _e({},{a2:(n=t).a2,c2:n.c2.lw()},{s3:t.s3.lw(),u3:t.u3.lw()})}function cx(t){var n;return _e({},{a2:(n=t).a2,c2:R_(n.c2)},{s3:R_(t.s3),u3:R_(t.u3)})}function fx(t){return _e({},ax(t))}function vx(t){return _e({},cx(t))}function dx(t){var n=t.video,i=n&&n.ZF;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].gb.Z2)return r}return NaN}function lx(t){var n=t.o3.video,i=n&&n.ZF;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].gb.Z2)return r}return NaN}function _x(t){if(!t)return null;switch(t.d2){case LO.U1:return function(t){return t.aA?"avc1."+(t.i3<16?"0":"")+((t.i3<<16)+(t.r3<<8)+t.e3).toString(16):null}(t);case LO.F1:return"mp4a.40.34";case LO.H1:return t.P2?"mp4a.40.5":"mp4a.40.2";case LO.V1:return"mp4a.40.5";default:return null}}function gx(t,n){var i=t.info,r=i.WZ,e=t.o3,s=r.AY(t.info.KQ-1),u=e.audio||void 0,o=e.video||void 0,h=u&&_x(u),a=o&&_x(o),c=(!u||h)&&(!o||a)?{pZ:h,AZ:a}:null,f=u&&!w(u.A2)?u.A2:null,v=o&&!w(o.A2)?o.A2:null,d=Pg(u&&u.T2,o&&o.T2),_=Pg(u&&u.E2,o&&o.E2),g=Bg(u&&u.I2,o&&o.I2),y=Bg(u&&u.N2,o&&o.N2),m=o&&o.g2.cg(E_.iw(o.duration)),k=u&&u.g2.cg(E_.iw(u.duration)),p=rD(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),h3:i,duration:m&&k?E_.Yg(m,k).Z_():(m||k||E_.mg).Z_(),a3:d,c3:_,f3:g,v3:y,audio:{start:l.max(0,f||0),duration:u&&u._2||0,d2:h,J$:u&&u.w2,a3:u&&u.T2,c3:u&&u.E2,f3:u&&u.I2,v3:u&&u.N2},video:{start:l.max(0,v||0),duration:o&&o._2||0,d2:a,J$:o&&o.w2,a3:o&&o.T2,c3:o&&o.E2,f3:o&&o.I2,v3:o&&o.N2},bB:o?{width:o.width||A,height:o.height||b}:null,KQ:i.KQ,size:n,quality:r,SJ:c,d3:i.d3,l3:i.l3}}function wx(t,n){var i,r,e,s,u={start:0,duration:0,d2:null,J$:null,a3:null,c3:null,f3:null,v3:null};return"pZ"===n?(r=u,e=i=_e({},u,t.video),s=t.bB):(r=i=_e({},u,t.audio),e=u,s=null),{start:i.start,h3:t.h3,duration:i.duration,a3:i.a3,c3:i.c3,f3:i.f3,v3:i.v3,audio:r,video:e,bB:s,KQ:t.KQ,size:t.size,quality:t.quality,SJ:t.SJ,d3:t.d3,l3:t.l3}}function yx(t,n){return t+"_3"+n.KQ+"g3"+n.uri}!function(t){t.w3="y3",t.m3="A3"}(qO||(qO={})),function(t){t.b3="T3",t.GQ="E3"}(zO||(zO={})),function(t){t.S3="R3",t.m3="A3"}(GO||(GO={})),function(t){t.I3="N3",t.C3="D3"}(jO||(jO={}));var mx=function(t){function n(n){var i;return(i=t.call(this)||this).da=void 0,i.O3=we(),i.x3=void 0,i.P3=void 0,i.B3=function(t){var n=t.data,r=n.L3;if(i.O3.get(r))switch(n.M3){case zO.b3:0;var e=n.U3;i.F3(r,e);break;case zO.GQ:var s=n.H3;i.V3(r,new LC(BC.XQ,{code:s}));default:0}},i.X3=function(t){var n,r,e,s,u=t.data,o=u.W3;if(i.O3.get(o))switch(u.q3){case jO.I3:0;var h=u.z3;i.G3(o,{audio:(n=h).audio?rx(n.audio):void 0,video:n.video?(e=n.video,s=nx(e),_e({},s,{d2:e.d2,ZF:e.ZF.map(function(t){return function(t){var n,i=ox(t),r=_e({},cx(n=i.gb),{L_:n.L_,z2:R_(n.z2),G2:n.G2,j2:n.j2,Q2:n.Q2&&R_(n.Q2),Y2:n.Y2&&R_(n.Y2),Z2:n.Z2,J2:n.J2,o2:n.o2,K2:n.K2});return i.hh(r)}(t)}),t3:e.t3,n3:e.n3,aA:e.aA,width:e.width,height:e.height,i3:e.i3,r3:e.r3,e3:e.e3,lJ:e.lJ,_J:e._J,pA:e.pA,AA:e.AA})):void 0,K1:n.K1?(r=n.K1,{n2:r.n2,r$:r.r$,Jl:r.Jl,i2:r.i2,e2:r.e2,s2:r.s2,u2:r.u2.map(JO),t_:[]}):void 0,o2:n.o2?n.o2.map(KO):n.o2,h2:R_(n.h2)});break;case jO.C3:var a=u.j3;i.V3(o,new LC(BC.XQ,{code:a}));default:0}},i.Q3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Go",Go:new LC(BC.ZQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};_t(n.Go.info.code),i.dispatchEvent(n)}else 0},i.da=n,i.P3=i.Y3(),i}U(n,t);var i=n.prototype;return i.bo=function(t){var n=[];this.O3.forEach(function(i,r){t&&i.Ap!==t||n.push(r)}),this.Z3(n)},i.Z3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.O3.delete(i)}if(t.length){if(this.x3){var r={J3:qO.m3,K3:t};this.x3.postMessage(r)}if(this.P3){var e={t4:GO.m3,n4:t};this.P3.postMessage(e)}}},i.V3=function(t,n){var i=this.O3.get(t);if(i){var r=i.ED;this.O3.delete(t),r(n)}},i.i4=function(t,n,i,r){this.x3||(this.x3=this.r4());var e={J3:qO.w3,e4:t,s4:n,u4:i,o4:r};this.x3.postMessage(e)},i.h4=function(t,n){this.P3||(this.P3=this.Y3());var i={t4:GO.S3,a4:t,c4:n,f4:this.O3.get(t).v4};this.P3.postMessage(i)},i.F3=function(t,n){this.h4(t,n)},i.r4=function(){var t=dO(this.da.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.B3),t.addEventListener("error",this.Q3),t},i.d4=function(t){var n=t.o3.video,i=n&&n.ZF&&n.ZF[0];i&&i.gb.Z2},i.G3=function(t,n){var i=this.O3.get(t),r=i.ED,e=i.l4,s={o3:n,info:i._4,metadata:null};this.d4(s),function(t){var n=t.info.WZ.AY(t.info.KQ-1),i=t.o3;t.info.l3=t.info.bY,n&&(i.audio||i.video?i.video&&!i.video.n3&&!i.video.t3&&i.video.w2&&n.NJ&&i.video.w2!==n.NJ?t.info.l3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.l3=!0):t.info.l3=!0)}(s),gx(s,e),function(t){var n=t.info,i=n.WZ,r=t.metadata,e=t.o3;if(n.g4=E_.iw(r.duration),n.QY=e.audio&&e.audio.g2.cg(E_.iw(e.audio.duration))||E_.mg,n.YY=e.video&&e.video.g2.cg(E_.iw(e.video.duration))||E_.mg,n.w4=e.audio&&e.audio.g2||E_.mg,n.y4=e.video&&e.video.g2||E_.mg,n.m4=r.audio.a3,n.A4=r.audio.c3,n.b4=r.video.a3,n.T4=r.video.c3,n.jY=r.a3,n.E4=r.c3,n.S4=r.audio.f3,n.R4=r.audio.v3,n.I4=r.video.f3,n.N4=r.video.v3,n.f3=r.f3,n.v3=r.v3,e.video){var s=dx(t.o3),u=e.video.ZF&&e.video.ZF[s];u?(n.O1=s,n.L1=u.gb.s3,n.C4=u.gb.u3):n.O1=PO.M1}else n.O1=PO.P1;n.NJ=e.video&&e.video.w2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"FJ",_4:t.info}),!i.resolution&&r.bB&&(i.resolution=r.bB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.SJ||i.SJ&&!i.SJ.pZ==!r.SJ.pZ&&!i.SJ.AZ==!r.SJ.AZ||i.bJ(r.SJ),e.audio&&void 0!==e.audio.kJ&&(i.kJ=e.audio.kJ),i.lJ=e.video&&e.video.lJ||i.lJ,i._J=e.video&&e.video._J||i._J,i.gJ=e.audio&&e.audio.n2||void 0,i.wJ=e.video&&e.video.n2||void 0,i.yJ=e.audio&&e.audio.d2||void 0,i.mJ=e.video&&e.video.d2||void 0,i.pJ=e.audio&&e.audio.w2||void 0,i.NJ=e.video&&e.video.w2||void 0}(s),this.O3.delete(t),r(null,s)},i.Y3=function(){var t=dO(this.da.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.X3),t.addEventListener("error",this.Q3),t},i.D4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.O3.has(n)&&e.i4(n,s,t,r.iv)}).catch(function(t){i=void 0,e.O3.has(n)&&e.V3(n,t)})},i.O4=function(t,n,i,r,e,s){var u=yx(t,r),o=r.WZ;this.O3.set(u,{Ap:t,_4:r,v4:{x4:r.duration,SJ:o.SJ,lJ:o.lJ,_J:o._J,gJ:o.gJ,wJ:o.wJ,yJ:o.yJ,mJ:o.mJ,kJ:!this.da.skipImplicitHEAACDetection&&o.kJ,P4:e},l4:i.length,ED:s}),r.key?this.D4(n,u,i,r.key):this.h4(u,i)},i.B4=function(t){var n=[];return this.O3.forEach(function(i){i.Ap===t&&n.push(i._4)}),n},i.L4=function(t,n){var i=yx(t,n);return this.O3.has(i)},i.Pv=function(){this.bo(),this.x3&&(this.x3.terminate(),this.x3=void 0),this.P3&&(this.P3.terminate(),this.P3=void 0)},n}(xC);function kx(t,n){return t+"M4"+n}function px(t){return kx(t.WZ.Hl,t.KQ)}function Ax(t){return!(!t||!t.o3)}var bx=function(){function t(t,n,i){this.U4=void 0,this.cb=void 0,this.F4=[],this.H4=we(),this.V4=1,this.X4=void 0,this.cb=t,this.U4=n,this.X4=i}var n=t.prototype;return n.W4=function(t){var n=px(t.info);if(this.H4.has(n))this.q4(t.info,t);else{this.F4.push(n),this.H4.set(n,t);for(var i=this.U4.z4+10;this.F4.length>8*this.G4&&this.j4>i*this.G4;){var r=this.H4.get(this.F4[0]),e=this.X4.Q4,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new Yp([u,o]),a=e,c=a+this.U4.z4;if(new Yp([a,c]).zR(h).Cl>0)break}this.H4.delete(this.F4.shift())}}},n.Y4=function(t,n){var i=kx(t,n),r=this.H4.get(i),e=this.F4.indexOf(i);return!(!r||-1===e)&&(ts(this.F4,e),this.H4.delete(i),!0)},n.rh=function(){this.F4.length=0,this.H4.clear()},n.Z4=function(){for(var t={},n=0,i=this.F4;n<i.length;n++){var r=i[n],e=this.H4.get(r);Ax(e)&&(t[e.info.WZ.Hl]=(t[e.info.WZ.Hl]||0)+1)}return t},n.J4=function(t,n){var i=[],r=this.K4(t,n);if(!Ax(r))return i;do{i.push(r),n+=1,r=this.K4(t,n)}while(Ax(r));return i},n.t5=function(t,n){return!!this.K4(t,n)},n.n5=function(t,n){return Ax(this.K4(t,n))},n.K4=function(t,n){return this.H4.get(kx(t,n))},n.q4=function(t,n){var i=px(t),r=this.F4.indexOf(i);return-1!==r&&(ts(this.F4,r),this.F4.push(i),n&&this.H4.set(i,n),!0)},n.i5=function(){for(var t=[],n=0,i=this.F4;n<i.length;n++){var r=i[n],e=this.H4.get(r);t.push(e.info)}return t},n.r5=function(){for(var t=[],n=0,i=this.F4;n<i.length;n++){var r=i[n],e=this.H4.get(r);e&&Ax(e)&&t.push(e.info)}return t},L(t,[{key:"j4",get:function(){for(var t=FO(this.cb,this.i5()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"G4",get:function(){return this.V4},set:function(t){t>0&&(this.V4=l.max(t,1))}}]),t}();var Tx=Q.Pe?function(t,n){return xg(t.s3,n.s3)}:function(t,n){return xg(t.u3,n.u3)};function Ex(t,n,i,r){if(!t)return i;if(!i)return t;if(t.d2===i.d2){var e,s,u=t.t3||i.t3;if(u)s=1/(e=t.m2.cg(i.m2).Xg(2)).Z_();else{if(t.w2!==i.w2)return;if(!t.m2.eg(i.m2))return;e=t.m2,s=t.w2}if(t.width===i.width&&t.height===i.height){var o,h=t.n3||i.n3||!t.m2.eg(i.m2);if(t.ZF)if(i.ZF)if(r)o=t.ZF.concat(i.ZF),Sx(t.ZF,i.ZF,Ix);else{!function(t,n,i){var r=t.length,e=E_.mg;t=je(t,function(t,n){return Tx(t.gb,n.gb).K_(E_.mg)});for(var s=1;s<r;s+=1){var u=t[s-1].gb,o=t[s].gb,h=Tx(o,u);h.ig(E_.mg)&&(h=n),e=e.cg(h),u.z2=h,u.L_=h.Z_()}if(r>0){var a=t[r-1].gb,c=E_.Qg(E_.iw(l.round(i-e.Z_())),n);a.z2=c,a.L_=c.Z_()}}(n.ZF.concat(i.ZF),e,n.duration+i.duration),o=t.ZF.concat(i.ZF),Sx(t.ZF,i.ZF,Ix)}else o=t.ZF;else o=i.ZF;return{d2:t.d2,i3:t.i3,e3:t.e3,r3:t.r3,w2:s,m2:e,t3:u,n3:h,width:t.width,height:t.height,lJ:t.lJ,_J:t._J,aA:t.aA,duration:t.duration+i.duration,_2:t._2+i._2,g2:t.g2,A2:t.A2,b2:t.b2,T2:t.T2,E2:t.E2,S2:Cx(i.S2,t.S2),R2:Cx(i.R2,t.R2),I2:Cx(i.I2,t.I2),N2:Cx(i.N2,t.N2),ZF:o,l2:t.l2||i.l2,pA:t.pA,AA:t.AA}}}}function Sx(t,n,i){var r=n[0].gb.c2,e=t[t.length-1].gb.c2,s=r.ag(e),u=xg(r,e).ag(s);if(!u.Tg())for(var o=0;o<n.length;o++){i(n[o].gb,u)}}function Rx(t,n){t.u3=t.u3.cg(n),t.s3=t.s3.cg(n),t.c2=t.c2.cg(n)}function Ix(t,n){Rx(t,n),t.z2=t.z2.cg(n),t.Y2=Nx(t.Y2,n),t.Q2=Nx(t.Q2,n)}function Nx(t,n){if(t)return t.cg(n)}function Cx(t,n){return n.cg(xg(t,n))}function Dx(t,n){var i={audio:void 0,video:void 0,h2:t.h2};if("video"===n){if(!t.audio)return i;i.audio={d2:t.audio.d2,w2:t.audio.w2,m2:t.audio.m2,duration:t.audio.duration,_2:t.audio._2,g2:E_.mg,A2:t.audio.A2,b2:t.audio.b2,T2:t.audio.T2,E2:t.audio.E2,S2:t.audio.S2,R2:t.audio.R2,I2:t.audio.I2,N2:t.audio.N2,ZF:t.audio.ZF,V2:t.audio.V2,H2:t.audio.H2,l2:t.audio.l2,U2:t.audio.U2,F2:t.audio.F2}}if("audio"===n){if(!t.video)return i;i.video={d2:t.video.d2,i3:t.video.i3,e3:t.video.e3,r3:t.video.r3,w2:t.video.w2,m2:t.video.m2,t3:t.video.t3,n3:t.video.n3,width:t.video.width,height:t.video.height,lJ:t.video.lJ,_J:t.video._J,pA:t.video.pA,AA:t.video.AA,aA:t.video.aA,duration:t.video.duration,_2:t.video._2,g2:E_.mg,A2:t.video.A2,b2:t.video.b2,T2:t.video.T2,E2:t.video.E2,S2:t.video.S2,R2:t.video.R2,I2:t.video.I2,N2:t.video.N2,ZF:t.video.ZF,l2:t.video.l2}}return i}function Ox(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.d2===n.d2||!t.d2||!n.d2)&&t.w2===n.w2&&t.m2.eg(n.m2)&&t.H2===n.H2)return t.ZF?n.ZF?(i=t.ZF.concat(n.ZF),Sx(t.ZF,n.ZF,Rx)):i=t.ZF:i=n.ZF,{d2:t.d2,w2:t.w2,m2:t.m2,duration:t.duration+n.duration,_2:t._2+n._2,g2:t.g2,A2:t.A2,b2:t.b2,T2:t.T2,E2:t.E2,S2:Cx(n.S2,t.S2),R2:Cx(n.R2,t.R2),I2:Cx(n.I2,t.I2),N2:Cx(n.N2,t.N2),ZF:i,H2:t.H2,V2:t.V2,l2:t.l2||n.l2,U2:t.U2,F2:t.F2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Ex(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,h2:t.h2}}}function xx(t){return Dx(t,"audio")}function Px(t){return Dx(t,"video")}var Bx,Lx,Mx,Ux=function(){function t(t){this.e5=void 0,this.wj=0,this.s5=0,this.e5=l.exp(l.log(.5)/t)}var n=t.prototype;return n.u5=function(t,n){var i=l.pow(this.e5,t),r=n*(1-i)+i*this.wj;w(r)||(this.wj=r,this.s5+=t)},n.o5=function(){var t=1-l.pow(this.e5,this.s5);return this.wj/t},t}(),Fx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.h5=void 0,this.a5=void 0,this.c5=0,this.f5=void 0,this.v5=5e5,this.h5=new Ux(t),this.a5=new Ux(n),this.f5=i}var n=t.prototype;return n.u5=function(t,n){var i=8e3*n/t,r=t/1e3;this.c5+=n,this.h5.u5(r,i),this.a5.u5(r,i)},n.o5=function(){return this.d5()?l.min(this.h5.o5(),this.a5.o5()):this.v5},n.d5=function(){return this.c5>=this.f5},t}(),Hx=function(){function t(){this.h5=new Ux(2),this.a5=new Ux(5),this.l5=0,this._5=1,this.v5=100}var n=t.prototype;return n.u5=function(t){this.l5+=1,this.h5.u5(1,t),this.a5.u5(1,t)},n.o5=function(){return this.d5()?l.min(this.h5.o5(),this.a5.o5()):this.v5},n.d5=function(){return this.l5>=this._5},t}(),Vx=function(){function t(t,n){var i=this;this.g5=void 0,this.hv=void 0,this.R0=void 0,this.w5=!1,this.y5=0,this.m5=0,this.k5=function(){return i.p5()},this.g5=t,this.hv=n,this.R0=n.R0,this.R0.addEventListener("xh",this.k5)}return t.prototype.p5=function(){var t=this.R0.z0,n=1e3*this.R0.Q0,i=1e3*this.R0.Tw;this.R0.xK&&(this.w5||(this.g5.A5(i),this.w5=!0),n>this.m5&&(this.g5.b5(n-this.m5,t-this.y5),this.y5=t,this.m5=n))},t}(),Xx=function(){function t(){this.T5=void 0,this.E5=void 0,this.T5=new Fx,this.E5=new Hx}var n=t.prototype;return n.S5=function(t){new Vx(this,t)},n.b5=function(t,n){this.T5.u5(t,n)},n.A5=function(t){this.E5.u5(t)},n.Pv=function(){},L(t,[{key:"R5",get:function(){return this.E5.o5()/1e3}},{key:"I5",get:function(){return this.T5.o5()}}]),t}(),Wx=function(){function t(){this.N5=we()}var n=t.prototype;return n.C5=function(t,n){var i,r,e=this.N5.get(t);return Boolean(e&&(i=e.zY,r=n,it(i)?i===r:function(t,n){return t.zY===n.zY&&t.GY.NR===n.GY.NR&&t.GY.OR===n.GY.OR}(i,r)))},n.D5=function(t,n){if(this.C5(t,n))return this.N5.get(t).Ds},n.O5=function(t,n,i){this.N5.set(t,{zY:n,Ds:i})},n.rh=function(){this.N5.clear()},t}();!function(t){t[t.x5=0]="x5",t[t.P5=5]="P5",t[t.B5=13]="B5",t[t.L5=14]="L5",t[t.M5=15]="M5"}(Bx||(Bx={})),function(t){t[t.U5=0]="U5",t[t.F5=1]="F5",t[t.H5=2]="H5",t[t.V5=11]="V5",t[t.X5=13]="X5",t[t.W5=14]="W5"}(Lx||(Lx={})),function(t){t[t.q5=0]="q5",t[t.z5=1]="z5",t[t.G5=2]="G5",t[t.j5=3]="j5",t[t.Q5=4]="Q5",t[t.Y5=5]="Y5",t[t.Z5=6]="Z5",t[t.J5=7]="J5"}(Mx||(Mx={}));var qx=5,zx=5,Gx=.5;function jx(t){if(!t.o3.video)return[];for(var n=[],i=0;i<t.o3.video.ZF.length;i++){var r=t.o3.video.ZF[i].gb;r.Z2&&n.push({K5:i,t6:r.s3})}return n}var Qx=E_.iw(.04),Yx=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).U4=void 0,s.da=void 0,s.n6=void 0,s.Ob=void 0,s.i6=void 0,s.r6=void 0,s.e6=void 0,s.s6=we(),s.u6=void 0,s.o6=we(),s.h6=1,s.da=n,s.n6=i,s.Ob=r,s.i6=new Wx,s.U4=e,s.r6=new tO(r,n),s.e6=new Xx,s.u6=new mx(n),s.u6.addEventListener("Go",function(t){s.dispatchEvent(t)}),s}U(n,t);var i=n.prototype;return i.a6=function(t){this.u6.bo(t),this.r6.rh(!1,t)},i.rh=function(t){this.a6(t),t?this.s6.get(t).rh():this.s6.forEach(function(t){return t.rh()})},i.Pv=function(){this.Bo(),this.r6.rh(),this.s6.forEach(function(t){return t.rh()}),this.s6.clear(),this.u6.Pv()},i.El=function(t,n,i){if(!this.s6.has(t)){var r=new bx(n,this.U4,i);r.G4=this.G4,this.s6.set(t,r)}},i.c6=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.i6.C5(i,r)){t.next=2;break}return t.abrupt("return",this.i6.D5(i,r));case 2:return t.next=4,this.f6(n,r);case 4:return e=t.sent,this.i6.O5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.f6=function(t,n){var i=this;return new T(function(r,e){i.r6.Dh(t,n,Jo.Tc,function(t,n){t&&e(t),r(new y(n.jv))})})},i.v6=function(t,n,i,r){var e=this.s6.get(t),s=e.K4(n.WZ.Hl,n.KQ);if(e.n5(n.WZ.Hl,n.KQ))e.q4(n),this.dispatchEvent({type:"d6",Ap:t,l6:s});else{if(!s)return this._6(t,n,i,r);e.q4(n),this.g6(t,n,i,s.w6)}return r&&r(),null},i._6=function(t,n,i,r){var e=this,s=this.s6.get(t),u=function(t,n){return t+"y6"+n.KQ+"g3"+n.uri}(t,n);if(this.o6.has(u))return null;this.o6.set(u,!0);var o=this.r6.Dh(t,n.uri,Jo.Tc,function(h,a){return e.o6.delete(u),h?r&&r(h):(e.dispatchEvent({type:"m6",Ap:t}),s.n5(n.WZ.Hl,n.KQ)||s.W4({info:n,w6:o.jv}),e.v6(t,n,i),r&&r(h,a))});return this.e6.S5(o),o},i.g6=function(t,n,i,r){var e=this,s=this.s6.get(t);this.u6.L4(t,n)||(n&&n.key&&this.n6.getKey(n.key).catch(S),this.u6.O4(t,this.n6,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Go",Go:n});s.W4(i),e.dispatchEvent({type:"d6",Ap:t,l6:i})}))},i.k6=function(t,n,i){var r=i.length,e="pZ"===t?Jx:$x;if(!Zx(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.l3){if("p6"===this.da.A6||e(u,o)){var h=i.splice(0,s);return Zx(n,h)?h:this.k6(t,n,i)}0}}return i},i.b6=function(t,n,i,r){for(var e=this.s6.get(t).r5(),s=r.T6,u=function(t){var r=i[t],u=e.filter(function(t){return t.WZ===r}),o=FO(n,u),h=o.m1(s.Z_(),Qx.Z_());if(h>=0&&E_.iw(o.end(h)).ag(s).tg(Qx))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.E6=function(t,n,i,r,e){if(!Q.Ce)return!0;if(e.S6||this.b6(t,n,i,e))return!0;var s=E_.Qg(r,e.R6);return e.T6.ag(s).tg(E_.iw(2))},i.I6=function(t,n,i,r,e,s,u,o){var h=n.J4(e.Hl,s),a=this.k6(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.C1(f.info),d=fP(t,r,f);if("AZ"!==t||function(t,n,i){return!!t&&t.Cp.WZ===n&&i.tg(E_.iw(t.OR))&&i.ig(E_.iw(t.OR).cg(Qx))}(i,e,d))return{mY:a,N6:E_.Yg(v,d)};f.o3.video&&(f=(a=eP(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=jx(o),a=0;a<h.length;a++){var c=h[a];if(n.B1(o.info,c.t6).J_(i.ag(r)))return{C6:e,D6:s};e=u,s=c.K5}return{C6:e,D6:s}}(a,r,u,o)))[0]);if(d=fP(t,r,f),function(t){var n=t.o3.video,i=n&&n.ZF,r=i&&i[0],e=r&&r.gb.Z2;if(!n)return!0;return!!e}(f))return{mY:a,N6:E_.Yg(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=dx(t[n].o3);if(!w(i))return{C6:n,D6:i}}return null}(a),_=E_.Qg(u,hP(t,r,e.AY(s)));if(f.info.KQ===s){if(l&&(d=fP(t,r,(c=eP(a,l))[0]),_.ag(d).tg(o)))return{mY:c,N6:E_.Yg(v,d)};for(var g=s-1;n.n5(e.Hl,g);){var y=n.J4(e.Hl,g);if((f=(c=this.k6(t,s,y))&&c[0]&&rP(c[0],lx(c[0])))&&(d=fP(t,r,f),_.ag(d).tg(o)))return c[0]=f,{mY:c,N6:E_.Yg(v,d)};g-=1}}return function(t){if(t.bY)return!1;var n=t.WZ;if(n.pY&&n.pY.live)return!1;if(!n.AY(t.KQ-1))return!1;return!0}(a[0].info)?null:l?{mY:a=eP(a,l),N6:v}:null},i.O6=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.x6(o,h,n),v=f&&f.Cp;if(!v)return null;var d=v.KQ;do{var l=d,_=o.AY(l),g=hP(n,s,_);if(!aP(n,s,_).sg(h)||_.d3){if(g.cg(Qx).J_(a))break;if(E_.Qg(E_.mg,h.ag(g)).sg(c)&&i.n5(o.Hl,l-1)&&i.n5(o.Hl,l))i.K4(o.Hl,l).metadata.l3||(l-=1);var w=this.P6(t,n,i,r,e,s,u,o,l,h,c);if(w&&(iP(w,h,a)||w.S6))return w}}while(i.n5(o.Hl,++d));return null},i.P6=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.AY(h),v=this.I6(n,i,r,s,o,h,a,c),d=v&&v.mY,_=v&&v.N6,g=d&&d[d.length-1],w=g&&g.metadata.d3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="pZ"===t?Kx:tP;return n.map(i).filter(nP)}(n,d))||!d.length){if(w){var y=[],m=s.C1(g.info);return y.B6=m,y.L6=m,y.R6=m,y.M6=m,y.T6=m,y.S6=w,y}return null}var k=d="AZ"===n?function(t,n,i){var r=i[0].o3.video;return i[0].info.bY?function(t,n,i,r){var e=$e(r.ZF,function(t){return t.gb.Z2});if(e<0)return i;var s=r.ZF[e].gb,u=n.B1(i[0].info,s.s3),o=vP(t,u);if(o.fg())return i;var h=u.ag(o).Zg(Eg,k_.dw);if(h.ig(E_.mg))return i;var a=_P(r.ZF.slice(e),h);return i[0]=uP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.m2.Ug(qx),s=r.ZF[0].gb,u=n.B1(i[0].info,s.u3),o=dP(t,u,e);if(o.fg())return i;var h=u.ag(o).Zg(Eg,k_.dw);if(h.ig(E_.mg)||h.J_(e))return i;var a=_P(r.ZF,h);return i[0]=uP(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].o3.audio)?void 0:r.d2)===LO.F1)return i;var e=i[0].o3.audio,s=e.ZF[0].gb;return i[0].info.bY?function(t,n,i,r,e){var s=n.B1(i[0].info,e.s3),u=vP(t,s);if(u.fg())return i;var o=s.ag(u).Z_(),h=l.floor(o/r.m2.Z_());if(h<=0)return i;var a=lP(r,h);return i[0]=sP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.B1(i[0].info,e.u3),u=dP(t,s,r.m2.Ug(zx));if(u.fg())return i;var o=s.ag(u).Z_(),h=l.round(o/r.m2.Z_());if(0===h||l.abs(h)>zx)return i;var a=lP(r,h);return i[0]=sP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.KQ<p.info.KQ&&(_=s.C1(f)),k.B6=_,k.L6=function(t,n,i){return n.B1(i.info,cP(t,i).c3)}(n,s,p),k.R6=fP(n,s,p),k.M6=function(t,n,i){return n.B1(i.info,cP(t,i).v3)}(n,s,k[k.length-1]),k.T6=function(t,n,i){return n.B1(i.info,cP(t,i).f3)}(n,s,k[k.length-1]),k.S6=w,!this.E6(t,s,u,a,k))return null;var A=p.o3.video;return!A||(A.lJ=A.lJ||o.lJ,A._J=A._J||o._J,A.lJ&&A._J)?k:null},i.U6=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.O6(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.R6.sg(c.R6)||(c=d))}return c},i.F6=function(t,n,i,r,e,s,u,o,h){for(var a=E_.iw(u),c=E_.iw(o),f=E_.iw(h),v=this.s6.get(t),d=new wO([{NR:a.Z_(),OR:a.cg(c).Z_()}]),l=e.zR(d),_=function(t){if(0===t.length)return null;var n=t.mY(t.length-1),i=n[n.length-1];if(!i.Cp.H6)return null;return i}(e),g=pO(AO(l),d),w=0;w<g.length;w++){var y=E_.iw(g.start(w)),m=E_.iw(g.end(w)),k=gP(l,y,m),p=y.cg(k).Zg(Eg,k_.dw),A=m.Zg(Eg,k_.dw);if(p.sg(A)){if(_&&p.tg(E_.iw(_.OR)))continue;var b=this.U6(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.r5=function(t){return this.s6.get(t).r5()},i.B4=function(t){return this.u6.B4(t)},L(n,[{key:"G4",get:function(){return this.h6},set:function(t){t>0&&(this.h6=t,this.s6.forEach(function(n){return n.G4=t}))}},{key:"R5",get:function(){return this.e6.R5}},{key:"I5",get:function(){return this.e6.I5}}]),n}(xC);function Zx(t,n){for(var i=0;i<n.length;i++){if(n[i].info.KQ===t)return!0}return!1}function Jx(t,n){return t.metadata.audio.d2!==n.metadata.audio.d2||(t.metadata.audio.J$!==n.metadata.audio.J$||(!(!t.o3.audio||!n.o3.audio||t.o3.audio.H2===n.o3.audio.H2)||!Dg(t.metadata.audio.a3,t.metadata.audio.c3).eg(Dg(n.metadata.audio.f3,n.metadata.audio.v3))))}function $x(t,n){return t.metadata.video.d2!==n.metadata.video.d2||(!(!t.metadata.bB||!n.metadata.bB||t.metadata.bB.height===n.metadata.bB.height&&t.metadata.bB.width===n.metadata.bB.width)||(!(!n.o3.video||n.o3.video.n3||t.metadata.video.J$===n.metadata.video.J$)||Dg(t.metadata.video.a3,t.metadata.video.c3)!==Dg(n.metadata.video.f3,n.metadata.video.v3)))}function Kx(t){return t.o3.video&&(t={o3:Px(t.o3),info:t.info,metadata:wx(t.metadata,"AZ")}),t}function tP(t){return t.o3.audio&&(t={o3:xx(t.o3),info:t.info,metadata:wx(t.metadata,"pZ")}),t}function nP(t){return Boolean(t&&(t.o3.audio||t.o3.video))}function iP(t,n,i){var r=E_.Qg(n,t.R6),e=E_.Yg(i,t.T6),s=Qx;return Q.be&&(r.ig(t.R6)?s=s.cg(t.R6).ag(t.L6):e.tg(t.T6)&&(s=s.cg(t.T6).ag(t.M6))),e.ag(r).tg(s)}function rP(t,n){return w(n)?null:0===n?t:uP(t,t.o3.video.ZF.slice(n))}function eP(t,n){return(t=t.slice(n.C6))[0]=rP(t[0],n.D6),t}function sP(t,n){var i={info:t.info,o3:{audio:Px(t.o3).audio,video:null,h2:t.o3.h2},metadata:null},r=i.o3.audio;r.ZF=n;var e=n[0].gb;return r.b2=e.c2,r.A2=r.b2.Z_(),oP(r,i.o3.h2,r.m2),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"AZ"),i}function uP(t,n){var i={info:t.info,o3:{audio:null,video:xx(t.o3).video,h2:t.o3.h2},metadata:null},r=i.o3.video;r.ZF=n;var e=n[0].gb;r.b2=e.c2,r.A2=r.b2.Z_();var s=n[n.length-1].gb.z2;return oP(r,i.o3.h2,s),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"pZ"),i}function oP(t,n,i){for(var r=E_.ew,e=E_.ew,s=E_.sw,u=E_.sw,o=0,h=t.ZF;o<h.length;o++){var a=h[o].gb;r=E_.Yg(a.u3,r),e=E_.Yg(a.s3,e),s=E_.Qg(a.u3,s),u=E_.Qg(a.s3,u)}t.T2=e,t.E2=r,t.S2=u,t.R2=s,t.g2=E_.Qg(xg(t.b2,n),E_.mg),t.I2=Og(t.S2,i),t.N2=Og(t.R2,i),t._2=Dg(t.I2,t.T2).Z_(),t.duration=t._2}function hP(t,n,i){if(rD(i)){var r="pZ"===t?i.m4:i.b4;return Ng(r)||(r=i.jY),n.B1(i,r)}return i&&n.C1(i)}function aP(t,n,i){if(rD(i)){var r="pZ"===t?i.S4:i.I4;return Ng(r)||(r=i.jY),n.B1(i,r)}return i&&n.C1(i).cg("pZ"===t?function(t){return rD(t)?t.QY||E_.mg:t&&E_.iw(t.duration)||E_.mg}(i):function(t){return rD(t)?t.YY||E_.mg:t&&E_.iw(t.duration)||E_.mg}(i))}function cP(t,n){return"pZ"===t?n.metadata.audio:n.metadata.video}function fP(t,n,i){return n.B1(i.info,cP(t,i).a3)}function vP(t,n){var i=t.T1(n.Z_());if(-1!==i){var r=E_.iw(t.end(i));if(n.ag(r).ig(E_.iw(Gx)))return r}return E_.rw}function dP(t,n,i){var r=t.m1(n.Z_(),i.Z_());if(-1!==r)for(var e=t.mY(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.Cp.mY.length-1;o>=0;o--){var h=u.Cp.mY[o];if(n.ag(E_.iw(h.OR)).ug().ig(i))return E_.iw(h.OR);if(n.ag(E_.iw(h.NR)).ug().ig(i))return E_.iw(h.NR)}return E_.rw}function lP(t,n){var i;if(n<0)i=t.ZF.slice(-n);else{0;var r=new QO,e=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.P2,t.H2);r.q1(e,0,e.length),i=t.ZF.slice();for(var s=0;s<n;s++){var u=i[0].gb,o=r.hh(_e({},r.gb,{c2:Dg(u.c2,t.m2),a2:u.a2-t.m2.Z_(),u3:Dg(u.u3,t.m2),s3:Dg(u.s3,t.m2)}));i.unshift(o)}}return i}function _P(t,n){var i=t[0].gb,r=t.slice();return r[0]=t[0].hh(_e({},i,{c2:Dg(i.c2,n),a2:i.a2-n.Z_(),u3:Dg(i.u3,n),j2:i.j2-n.Z_(),s3:Dg(i.s3,n),G2:i.G2-n.Z_(),z2:E_.Qg(E_.mg,i.z2.cg(n)),L_:l.max(0,i.L_+n.Z_())})),r}function gP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.mY(r),s=t.mY(r+1);if(e.length&&s.length&&E_.iw(e[0].NR).ig(n)&&E_.iw(s[s.length-1].OR).tg(i)&&s[0].Cp.mY[0].fh.h3.bY)return Qx.Ug(5)}return t.Iy(n.Z_())?Qx:E_.mg}function wP(t){return new TP(t.qf,t.Ds)}var yP,mP,kP,pP,AP,bP,TP=function(){function t(t,n){this.qf=void 0,this.V6=void 0,this.V6=n,this.qf=t}return t.prototype.X6=function(t){iO(t)},L(t,[{key:"Ds",get:function(){return this.V6}},{key:"W6",get:function(){return nO(rO(this.V6,this.qf))}}]),t}(),EP=function(){function t(t,n,i){this.zY=void 0,this.zY="data:"+t+";"+n+","+i}return t.prototype.X6=function(t){},L(t,[{key:"W6",get:function(){return this.zY}}]),t}();!function(t){t.F1="q6",t.__="z6",t.G6="j6",t.Q6="Y6",t.Z6="J6"}(yP||(yP={})),function(t){t.K6="t9",t.n9="i9"}(mP||(mP={})),function(t){t.r9="audio/mp4",t.e9="audio/mpeg",t.s9="video/mp4"}(kP||(kP={})),function(t){t[t.u9=0]="u9",t[t.o9=1]="o9",t[t.Zl=2]="Zl",t[t.h9=3]="h9"}(pP||(pP={})),function(t){t.a9="c9",t.f9="v9"}(AP||(AP={})),function(t){t.d9="p6",t.f9="l9"}(bP||(bP={}));var SP=function(){function t(t,n,i,r,e,s,u,o,h,a){this._9=void 0,this.g9=void 0,this.Ap=void 0,this.qf=void 0,this.l6=void 0,this.w9=void 0,this.ob=void 0,this.y9=void 0,this.m9=void 0,this.ED=void 0,this.k9=pP.u9,this.g9=t,this._9=n,this.Ap=i,this.qf=r,this.l6=e,this.w9=s,this.ob=u,this.y9=o,this.m9=h,this.ED=a}return t.p9=function(t,n,i,r,e,s,u,o,h,a){switch(n){case AP.a9:return new RP(t,i,r,e,s,u,o,h,a);case AP.f9:return new IP(t,i,r,e,s,u,o,h,a)}},t}(),RP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,AP.a9,n,i,r,e,s,u,o,h,a)||this}return U(n,t),n.prototype.A9=function(){return{b9:"T9",E9:this._9,S9:yP.Z6,R9:mP.K6,I9:this.qf,N9:YO(this.l6,[]),C9:this.m9,D9:this.y9.lw(),O9:this.w9.lw(),x9:this.ob.lw()}},n}(SP),IP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,AP.f9,n,i,r,e,s,u,o,h,a)||this}return U(n,t),n.prototype.A9=function(){return{b9:"T9",E9:this._9,S9:this.qf===kP.e9?yP.F1:yP.__,R9:Xy?mP.n9:mP.K6,I9:this.qf,N9:YO(this.l6,[])}},n}(SP),NP=function(){function t(){this.P9=void 0,this.B9=void 0,this.P9=we(),this.B9=1}var n=t.prototype;return n.L9=function(){return(this.B9++).toString()},n.p9=function(t,n,i,r,e,s,u,o,h){var a=this.L9(),c=SP.p9(a,n,t,i,r,e,s,u,o,h);return this.M9(c),c},n.U9=function(t){return this.P9.get(t)},n.M9=function(t){this.P9.set(t._9,t)},n.F9=function(t){this.P9.delete(t)},n.H9=function(t){this.U9(t).k9=pP.o9,this.F9(t)},n.V9=function(t,n){var i=this.U9(t).ED;this.U9(t).k9=pP.Zl,this.F9(t),i(n)},n.X9=function(t,n){var i=this.U9(t).ED;this.U9(t).k9=pP.h9,this.F9(t),i(null,n)},n.rh=function(t){var n=[];this.P9.forEach(function(i,r){t&&i.Ap!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.H9(r)}},t}();var CP,DP=function(){function t(n){var i=this;this.P9=void 0,this.W9=void 0,this.da=void 0,this.q9=void 0,this.z9=function(t){var n=t.data.G9,r=t.data.j9,e=t.data.Q9,s=t.data.Y9,u=i.P9.U9(r);if(u&&u.k9!==pP.o9)switch(n){case"Z9":i.J9(u,e);break;case"K9":i.P9.V9(r,new LC(BC.XQ,{code:s}));break;default:0}},this.t8=function(t){0},this.P9=new NP,this.da=n,this.q9=t.n8(n.A6),this.i8()}t.n8=function(t){switch(t){case bP.d9:return AP.a9;case bP.f9:return AP.f9}};var n=t.prototype;return n.T9=function(t,n,i,r,e,s,u){var o={metadata:null,pZ:null,AZ:null,Go:null};i&&i.length||u(new LC(BC.XQ,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.KQ+1,f=h.info.WZ,v=h.metadata,d=v.audio.d2?v.audio:void 0,l=v.video.d2?v.video:void 0,_=a.metadata,g=_.audio.d2?_.audio:void 0,y=_.video.d2?_.video:void 0,m=r.cg(xg(v.c3,v.a3)),k=r.cg(xg(v.a3,v.a3)),p=r.cg(d?xg(d.c3,v.a3):E_.mg),A=r.cg(d?xg(d.a3,v.a3):E_.mg),b=r.cg(l?xg(l.c3,v.a3):E_.mg),T=r.cg(l?xg(l.a3,v.a3):E_.mg),E=r.cg(xg(_.v3,v.a3)),S=r.cg(xg(_.f3,v.a3)),R=r.cg(g?xg(g.v3,v.a3):E_.mg),I=r.cg(g?xg(g.f3,v.a3):E_.mg),N=r.cg(y?xg(y.v3,v.a3):E_.mg),C=r.cg(y?xg(y.f3,v.a3):E_.mg);p=E_.Qg(E_.mg,p),b=E_.Qg(E_.mg,b);var D,O,x,P,B,L=KC.pw(n.iJ)?E_.iw(100079991719):E_.iw(n.L_),M=function(t){for(var n=t[0].o3,i=n,r=1;r<t.length;r++){if(!(n=Ox(i,t[r-1].o3,t[r].o3,t[r].info.l3)))return i;i=n}return i}(i);if(M.audio){O=(D=Px(M)).audio.duration;x=this.P9.p9(t,this.q9,"mp3"===D.audio.d2?kP.e9:kP.r9,D,p,A,L,c,function(t,n){if(o.Go=o.Go||t,o.pZ=n,D=!0,P)return u(o.Go,o)}),this.r8(x),D=null}else D=!0;if(M.video){B=(P=xx(M)).video.duration;x=this.P9.p9(t,this.q9,kP.s9,P,b,T,L,c,function(t,n){if(o.Go=o.Go||t,o.AZ=n,P=!0,D)return u(o.Go,o)}),this.r8(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=E_.iw(O),W=E_.iw(B),q=h.o3.audio&&h.o3.video?E_.Yg(h.o3.audio.g2.cg(X),h.o3.video.g2.cg(W)):h.o3.audio?h.o3.audio.g2.cg(X):h.o3.video?h.o3.video.g2.cg(W):E_.mg;if(q.Tg()&&lt("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=dx(M);if(w(z))lt("Segment without keyframes detected",h.info.uri),U=E_.rw,F=E_.rw,H=q.Ug(1.5);else{var G=M.video.ZF[z].gb;U=r.cg(xg(G.u3,v.a3)),F=r.cg(xg(G.s3,v.a3)),H=E_.iw(G.G2-h.metadata.start)}}else U=p,F=A,H=E_.mg;var j=E_.Qg(H,E_.Qg(h.o3.audio&&h.o3.audio.g2||E_.mg,h.o3.video&&h.o3.video.g2||E_.mg));o.metadata={KQ:c,NR:r.Z_(),e8:m.Z_(),B6:k.Z_(),M6:E.Z_(),T6:S.Z_(),C4:U.Z_(),L1:F.Z_(),N6:E_.Yg(r,e).Z_(),L_:q.Z_(),mY:V,ah:j.Z_(),pZ:d&&{NR:A.Z_(),e8:p.Z_(),OR:I.Z_(),M6:R.Z_(),L_:O,d2:d.d2},AZ:l&&{NR:T.Z_(),e8:b.Z_(),OR:C.Z_(),M6:N.Z_(),L_:B,d2:l.d2,fu:v.bB.width,Ep:v.bB.height},SJ:v.SJ,l3:v.l3,WZ:f,d3:s},i=null,M=null},n.Pv=function(){this.P9.rh(),this.W9&&(this.W9.terminate(),this.W9=null)},n.bo=function(t){this.P9.rh(t)},n.J9=function(t,n){switch(t.g9){case AP.a9:var i=n;this.P9.X9(t._9,{initializer:wP(i.s8),m4s:wP(i.u8)});break;case AP.f9:var r=n;this.P9.X9(t._9,(e=r,Xy?new EP(e.qf,"base64",e.Ds):new TP(e.qf,e.Ds)));break;default:0}var e},n.i8=function(){this.W9||(this.W9=dO(this.da.libraryLocation,"theoplayer.p.js"),this.W9.addEventListener("message",this.z9),this.W9.addEventListener("error",this.t8))},n.r8=function(t){this.W9||this.i8(),this.W9.postMessage(t.A9())},t}();function OP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function xP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function PP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function BP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?Qu(r[6]):void 0!==r[7]?{width:g(r[8]),height:g(r[10])}:void 0!==r[12]?g(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var LP,MP="x-";function UP(t,n,i,r){var e=t.split("@"),s=OP(n,i),u=_(e[0],10),o=e[1]?_(e[1],10):r;return{zY:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},GY:{NR:o,OR:o+u-1}}}function FP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,w=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new LC(BC.VQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(w.push(T+""),xP(T,"#EXT")){if(xP(T,"#EXTINF"))c=(c=g(PP(T)))||.5;else if(xP(T,"#EXT-X-BYTERANGE"))f=PP(T);else if(xP(T,"#EXT-X-KEY"))(s=BP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=OP(s.uri,i);else if(xP(T,"#EXT-X-DISCONTINUITY")&&!xP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(xP(T,"#EXT-X-STREAM-INF"))(e=BP(T)).KQ=a++,(b+=1)<p.length&&(e.uri=OP(p[b].trim(),i),A.streams.push(e));else if(xP(T,"#EXT-X-MEDIA")&&!xP(T,"#EXT-X-MEDIA-"))(u=BP(T)).uri&&(u.uri=OP(u.uri,i)),A.media.push(u);else if(xP(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(PP(T));else if(xP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.lY=!0,A._Y=_(PP(T),10);else if(xP(T,"#EXT-X-MEDIA-SEQUENCE"))h=_(PP(T),10),A.o8=!0,A.h8=h;else if(xP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(PP(T),10),A.hasTargetDuration=!0;else if(xP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(xP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(xP(T,"#EXT-X-MAP")){var E=BP(T),S=E.uri,R=E.byterange;o=R?UP(R,S,i,0):OP(S,i)}else if(xP(T,"#EXT-X-VERSION"))A.version=_(PP(T),10);else if(xP(T,"#EXT-X-DATERANGE")){var I=HP(T);A.dateRanges.push(I)}}else if(xP(T,"#"));else if(0!==T.length){f?k=(r=UP(f,T,i,k)).GY.OR+1:r=OP(T,i);var N,C=s&&_e({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,KQ:h,bY:d,kY:v,key:C,$Z:m,JZ:w,d3:!1,a8:o}),h+=1,c=0,f=null,d=!1,m=null,w=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].d3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=l.min(i,o.duration),r=l.max(r,o.duration)}return{c8:i,f8:r,v8:n?t.fragments[n-1].duration:0,d8:e/n,l8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.KQ-n.KQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||ts(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function HP(t){var n=BP(t),i=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i];mr(e,MP)&&(n[e.substr(MP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Hl:n.id,PY:n.class,YS:r,TY:e,L_:n.duration,BY:n["planned-duration"],LY:s,MY:i,UY:u,FY:o,HY:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(LP||(LP={}));(CP={})[LP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",CP[LP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",CP[LP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",CP[LP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",CP[LP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",CP[LP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",CP[LP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var VP=function(){function t(){}return t.prototype.Yk=function(t,n,i){return FP(t,n,i)},t}(),XP=3,WP=function(){function t(t,n,i){void 0===i&&(i=XP),this.Ob=t,this._8=n,this.g8=i}var n=t.prototype;return n.w8=function(t,n,i){return this.y8(t,n,!0,i)},n.m8=function(t,n,i){return this.y8(t,n,!1,i)},n.y8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.g8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ps(u,e);case 6:u<1e4&&(u=l.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Of({cv:a,sv:Jo.Je,ev:i,Dv:this._8,Rv:Rf.GET,Ku:If.dv,Nv:Nf.vv,So:e}),t.next=14,this.Ob.hv(c);case 14:return f=t.sent,t.next=17,f.Hf(e);case 17:return v=t.sent,t.abrupt("return",{k8:v,p8:a,av:f.av});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),qP=function(){function t(t,n,i,r){this.A8=t,this.b8=n,this.T8=i,this.E8=r}var n=t.prototype;return n.S8=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.A8.QK(n.map(QD));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.R8=function(t,n){var i=YD(t,n);return this.b8.Ko(i)},n.I8=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=YD(n,i),t.next=3,this.T8.th(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MP=function(t){return this.E8.th(t)},t}(),zP=function(){function t(t){this.N8=void 0,this.N8=t}return t.prototype.C8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.N8;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.C8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),fs(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),GP=function(){function t(t){this.D8=t}return t.prototype.C8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.D8.S8(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{k8:s.data,p8:s.locationURL,av:s.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),jP=function(){function t(t){this.O8=t}return t.prototype.C8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.O8.w8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.O8.m8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function QP(t,n){return new zP([new GP(n),new jP(t)])}var YP=function(){function t(t,n,i){this.x8=t,this.P8=n,this.B8=i}var n=t.prototype;return n.C8=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.x8.C8(n,i,r,e);case 3:return s=t.sent,t.next=6,this.L8(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.L8=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.P8.GK({key:QD(n.p8),locationURL:Ir(n.p8),responseURL:Ir(n.av),data:n.k8,references:[this.B8.Hl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function ZP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var JP=function(){function t(t,n,i){this.da=void 0,this.Ob=void 0,this.x8=void 0,this.M8=void 0,this.M8=new VP,this.da=t,this.Ob=i;var r=this.da&&this.da.crossOrigin===cl.m_,e=new WP(i,r,1);this.x8=QP(e,new qP(jD.je.i0,jD.je.KK,jD.je.n0,jD.je.e0))}var n=t.prototype;return n.Dh=function(t,n,i){var r=this.Cd(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Cd=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.x8.C8([n],i);case 3:return r=t.sent,n=r.av,e=this.M8.Yk(r.k8,n,ZP(n)),t.abrupt("return",{Ew:e,U8:r.k8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Mf)){t.next=16;break}throw new LC(BC.FQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Uf)){t.next=24;break}if(0!==t.t0.jv.rv){t.next=21;break}throw new LC(BC.HQ,{code:"MFL3900",uri:n,status:t.t0.jv.rv});case 21:throw new LC(BC.FQ,{code:"MFL4100",uri:n,status:t.t0.jv.rv});case 22:t.next=25;break;case 24:throw new LC(BC.Zl,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),$P=function(t){function n(n,i){var r;return(r=t.call(this)||this).F8=void 0,r.H8=void 0,r.V8=void 0,r.X8=void 0,r.W8=void 0,r.YJ=void 0,r.HJ=void 0,r.nS=void 0,r.F8=new JP(i||{},jD.je.i0,n),r}U(n,t);var i=n.prototype;return i.qw=function(){void 0!==this.X8&&(h(this.X8),this.X8=void 0),this.V8&&this.V8.hv&&(this.V8=void 0)},i.q8=function(t){if(this.HJ)for(var n=0,i=this.HJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.z8=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u.l8<3*s)?1e3*u.c8:s?1e3*s:1e4,i===n&&(e/=2),e=l.max(e-r,1e3)},i.G8=function(t){if(t.fragments.length>0)for(var n=this.q8(t.fragments[0].uri),i=n&&n.KQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].KQ+=i}},i.j8=function(t,i,r,e,s,u){var h=this;if(this.V8&&r===this.V8.hv){var a=Ub()-i;if(e){this.V8=void 0,this.nS=e;var c={type:"Go",Go:e};return this.dispatchEvent(c),s&&s(e)}this.V8=void 0;var f=u.Ew,v=u.U8;f.o8||this.G8(f),t===this.H8&&(this.YJ=f),this.HJ=f;var d=n.z8(f,v,this.W8,a);f.live?f.isMasterPlaylist||(this.X8=o(function(){return h.Cd(t)},d)):this.qw(),s&&s(e,u);var l={type:"Q8",manifest:f,manifestText:v};this.dispatchEvent(l),this.W8=v}},i.Cd=function(t,n){var i=this,r=Ub(),e=t;h(this.X8),this.X8=void 0;var s=this.F8.Dh(e,{},function(e,u){return i.j8(t,r,s,e,n,u)});this.V8={hv:s,cv:t}},i.NR=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.HJ?this.HJ.uri:this.H8))&&(this.V8&&this.V8.cv===t?n&&(i=function(t){s.removeEventListener("Go",r),s.removeEventListener("Q8",i);var e=t;n(null,{Ew:e.manifest,U8:e.manifestText})},r=function(t){s.removeEventListener("Go",r),s.removeEventListener("Q8",i),n(t.Go)},this.addEventListener("Go",r),this.addEventListener("Q8",i)):(this.qw(),this.Cd(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Y8=function(t){t&&(this.W8=void 0,this.YJ&&this.YJ.isMasterPlaylist?this.NR(t.uri):this.HJ&&!this.Z8()&&this.NR(this.HJ.uri))},i.Pv=function(){this.qw(),this.Bo()},i.Z8=function(){return!!this.V8||!!this.X8||!(!this.HJ||this.HJ.live)},L(n,[{key:"Ew",get:function(){return this.HJ}},{key:"b$",get:function(){return this.YJ}},{key:"BK",get:function(){return this.H8},set:function(t){this.qw(),this.W8=void 0,this.YJ=void 0,this.HJ=void 0,this.H8=t}}]),n}(xC),KP=function(t){function n(n,i){var r;return(r=t.call(this)||this).da=void 0,r.bl=void 0,r.H8=void 0,r.J8=void 0,r.Ob=void 0,r.da=i,r.bl=we(),r.H8=null,r.J8=null,r.Ob=n,r}U(n,t);var i=n.prototype;return i.NR=function(){var t=this,n=this.BK;if(n&&!this.J8){var i=new $P(this.Ob,this.da);i.addEventListener("Go",function(i){var r=i.Go;t.dispatchEvent({type:"K8",Go:r}),t.bl.has(n)&&t.dispatchEvent({type:"Go",Go:r,t7:n})}),i.addEventListener("Q8",function n(r){i.removeEventListener("Q8",n),i===t.J8&&t.dispatchEvent({type:"n7",Ew:r.manifest})}),i.addEventListener("Q8",function(i){t.bl.has(n)&&t.dispatchEvent({type:n,Ew:i.manifest})}),this.J8=i,i.NR(n)}},i.i7=function(t,n){this.r7(t),this.e7(n)},i.e7=function(t){var n,i=this;this.bl.has(t)||(t===this.BK?(this.NR(),(n=this.J8).Ew&&this.dispatchEvent({type:t,Ew:n.Ew},!0)):((n=new $P(this.Ob,this.da)).addEventListener("Go",function(n){i.dispatchEvent({type:n.type,Go:n.Go,t7:t})}),n.addEventListener("Q8",function(n){i.dispatchEvent({type:t,Ew:n.manifest})})),this.bl.set(t,n))},i.r7=function(t){if(this.bl.has(t)){var n=this.bl.get(t);n!==this.J8&&n.Pv(),this.bl.delete(t),this.removeEventListener(t)}},i.s7=function(t){if(this.bl.has(t)){var n=this.bl.get(t);n.Z8()||n.NR(t)}},i.u7=function(){var t=this;this.bl.forEach(function(n,i){return t.s7(i)})},i.Il=function(){this.bl.forEach(function(t){return t.Pv()}),this.bl.clear(),this.J8&&(this.J8.Pv(),this.J8=null),this.H8=null},L(n,[{key:"BK",get:function(){return this.J8&&this.J8.Ew?this.J8.Ew.uri:this.H8},set:function(t){this.Il(),this.H8=t}}]),n}(xC),tB=function(t){function n(){var n;return(n=t.call(this)||this).o7=NaN,n}U(n,t);var i=n.prototype;return i.h7=function(t,n){for(var i=t.length?l.min.apply(l,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].ah=E_.iw(t[e]||0)}var s=t.length?l.max.apply(l,t):0;this.o7=s,this.dispatchEvent({type:"a7",c7:s})},i.f7=function(t,n){var i=[];if(n.length<2)return this.h7(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.v7(t))return!1;i[e]=s.ah.cg(s.d7(r,t)).Z_()}return this.h7(i,n),!0},i.l7=function(t,n){return this.f7(t.kY,n)},i._7=function(t,n){if(n.length<2)return this.h7([],n),!0;var i=n[0].g7(t);if(w(i))return!1;for(var r=0;r<n.length;r++){if(n[r].g7(t)!==i)return!1}return this.f7(i,n)},i.Il=function(){this.o7=NaN},i.Pv=function(){this.Bo()},L(n,[{key:"c7",get:function(){return this.o7}}]),n}(xC),nB=.001;function iB(t){return t.metadata.WZ.Hl+"w7"+t.metadata.KQ+"y7"+t.metadata.NR+"m7"+t.metadata.L_}var rB=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Pj=function(t,i){return new n(t,i)},i.N1=function(t,n){return!1},n}(MO);function eB(t,n){var i=new rB([n]);return t.ag(i).JR(i)}function sB(t,n){var i=function(t,n){var i=t.B6,r=t.L1;if(!w(r)&&r===i)return!0;return!t.l3&&!!n&&n.Cp.WZ===t.WZ&&i>=n.OR&&i<=n.OR+nB}(t,n);return i||!w(t.L1)?{NR:i?t.B6:t.L1,OR:t.T6,Cp:t}:null}var uB=function(t){function n(n,i){var r;return(r=t.call(this)||this).k7=void 0,r.cb=void 0,r.p7=null,r.A7=function(){return r.b7()},r.T7=[],r.vy=[],r.E7=new rB([]),r.S7=null,r.k7=n,r.cb=i,r}U(n,t);var i=n.prototype;return i.R7=function(t){var n=t.metadata,i=n&&n.mY;if(!i||!i.length)return T.resolve();for(var r=[],e=n.NR,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({NR:e,L_:u.duration,OR:o,KQ:u.KQ,fh:u}),e=o}var h={Hl:iB(t),NR:t.metadata.NR,e8:n.e8,B6:n.B6,I7:i[0].h3.$Z?new Date(i[0].h3.$Z.getTime()):null,L_:t.metadata.L_,OR:t.metadata.NR+t.metadata.L_,M6:n.M6,T6:n.T6,C4:n.C4,L1:n.L1,mY:r,WZ:t.metadata.WZ,H6:t.metadata.d3,l3:n.l3};return this.T7.push(h),this.N7(this.k7.R7(t),h)},i.N7=function(t,n){var i=this;return t.then(function(){if(Ke(i.T7,n)){i.vy.push(n);var t=i.S7,r=sB(n,t);r&&(i.E7=eB(i.E7,r)),i.S7=r}i.b7(),i.C7(n)}).catch(function(){Ke(i.T7,n)})},i.C7=function(t){var n=t.mY[0],i=t.mY[t.mY.length-1],r=t.WZ,e=r.AY(n.KQ-1),s=KC.pw(r.iJ);if(!e||s){var u=r.AY(n.KQ),o=this.cb.C1(u).Z_(),h=t.e8,a=l.min(o,h);a<n.NR&&this.k7.YL(a,n.NR)}for(var c=0,f=this.vy;c<f.length;c++){var v=f[c];if(v.WZ===t.WZ){var d=v.mY[0],_=v.mY[v.mY.length-1];_.KQ+1===n.KQ&&_.OR!==n.NR?this.k7.YL(_.OR,n.NR):d.KQ-1===i.KQ&&i.OR!==d.NR&&this.k7.YL(i.OR,d.NR)}}},i.rh=function(){this.T7.length=0,this.vy.length=0,this.E7=new rB([]),this.S7=null},i.b7=function(){if(this.D7&&!this.D7.aO){var t=this.D7.vy||yO;t=function(t,n){for(var i=EO(t),r=0;r<i.length;r++){var e=i[r],s=n.T1(e.OR,nB);if(s>=0){var u=n.mY(s),o=u[u.length-1],h=o.Cp.M6,a=o.Cp.T6;h-nB<e.OR&&e.OR<a&&(e.OR=a)}}return new wO(i)}(t,this.E7),this.vy=this.vy.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.NR,n.OR)>=0}),this.E7=this.E7.zR(t)}},i.Pv=function(){this.Bo(),this.rh(),this.D7=null},i.O7=function(t){var n=this.x7(t);if(n)for(var i=0,r=n.mY;i<r.length;i++){var e=r[i];if(e.NR<=t&&e.OR>t)return e}return null},i.x7=function(t){for(var n=0,i=this.vy;n<i.length;n++){var r=i[n];if(r.NR<=t&&r.OR>t)return r}return null},i.P7=function(t){for(var n=0,i=this.vy;n<i.length;n++){var r=i[n];if(r.WZ.Hl===t.WZ.Hl)for(var e=0,s=r.mY;e<s.length;e++){if(s[e].KQ===t.KQ)return!0}}return!1},i.B7=function(){return this.L7()[0]},i.L7=function(){for(var t=this.E7,n=this.S7,i=0,r=this.T7;i<r.length;i++){var e=sB(r[i],n);e&&(t=eB(t,e)),n=e}return[t,n]},L(n,[{key:"Cl",get:function(){return this.T7.length+this.vy.length}},{key:"D7",get:function(){return this.p7},set:function(t){this.p7&&this.p7.removeEventListener("updateend",this.A7),this.p7=t,this.p7&&(this.p7.addEventListener("updateend",this.A7),this.b7())}}]),n}(xC);function oB(t,n,i){!function(t,n,i){for(var r=i.u2,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.B1(t,u.gb.f2).Z_(),h=0,a=u.ZF;h<a.length;h++){var c=a[h];e.push(new vI(o,c))}i.t_=e}(t,n,i)}function hB(t,n){return t&&n?l.abs(t.KQ-n.KQ)<=1?E_.mg:E_.wg(n.fp-t.fp,1e3):E_.mg}var aB=function(){function t(t,n,i,r,e){this.bY=void 0,this.C6=void 0,this.M7=void 0,this.U7=void 0,this.Ku=void 0,this.K5=void 0,this.ah=E_.mg,this.F7=!1,this.H7=null,this.bY=t,this.C6=t.WZ.mY.iY(n.KQ),this.K5=this.C6,this.M7=i,this.U7=r,this.Ku=e||null}var n=t.prototype;return n.V7=function(){if(this.H7)return this.H7;var t=this.X7();return(t.W7||t.Go)&&(this.H7=t),t},n.q7=function(){return{W7:!1,Go:!1,F7:this.F7,Gy:E_.rw}},n.W7=function(t){return t.fg()?{W7:!1,Go:!0,F7:this.F7,Gy:E_.rw}:{W7:!0,Go:!1,F7:this.F7,Gy:t}},t}();function cB(t,n){switch(n){case"pZ":return Ng(t.m4)?t.m4:t.jY;case"AZ":return Ng(t.b4)?t.b4:t.jY;default:return t.jY}}var fB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.X7=function(){var t=this.bY,n=t.WZ,i=n.mY,r=i.rY(this.K5);if(t.Iy(r)){if(this.U7&&t.z7&&rD(r)){var e=cB(r,this.Ku),s=t.G7(e,r.j7);return this.W7(s.ag(this.ah))}if(this.M7&&r===t.Q7){var u=t.jy.ag(eD(r));return this.W7(u.ag(this.ah))}this.K5+=1;var o=hB(r,i.rY(this.K5));return this.F7=this.F7||o.J_(E_.mg),this.ah=this.ah.cg(o).cg(eD(r)),this.q7()}return this.W7(E_.rw)},n}(aB),vB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.X7=function(){var t=this.bY,n=t.WZ,i=n.mY,r=i.rY(this.K5);if(t.Iy(r)){if(this.U7&&t.z7&&rD(r)){var e=cB(r,this.Ku),s=t.G7(e,r.j7);return this.W7(s.cg(this.ah))}if(this.M7&&r===t.Y7){var u=t.Gy;return this.W7(u.cg(this.ah))}this.K5-=1;var o=i.rY(this.K5),h=hB(o,r);return this.F7=this.F7||h.J_(E_.mg),this.ah=this.ah.cg(h).cg(eD(o)),this.q7()}return this.W7(E_.rw)},n}(aB);var dB=function(){function t(t,n,i){this.KQ=void 0,this.WZ=void 0,this.Gy=E_.mg,this.jy=E_.mg,this.Y7=null,this.Q7=null,this.Z7=!1,this.J7=E_.rw,this.K7=E_.rw,this.ttt=!1,this.ntt=void 0,this.KQ=t,this.WZ=n,this.ntt=i}var n=t.prototype;return n.Iy=function(t){return t&&t.kY===this.KQ},n.G7=function(t,n){var i=t.ag(this.J7).cg(this.K7);if(void 0!==n){var r=i.ag(n);if(r.ug().J_(Ig)){var e=l.round(r.Z_()/Rg.Z_());i=i.ag(Rg.Ug(e))}}return i},n.itt=function(t,n){return this.rtt(t),this.ett(n),this.stt()||t===this.Q7&&this.utt()},n.rtt=function(t){if(this.z7&&S_(t.E4,this.J7)>=0)return!1;var n;if(n=this.z7?this.ott(t,!0,!1):this.htt(t,!0,!1),this.J7.fg())this.J7=t.E4;else{var i=xg(t.E4,this.J7);this.J7=this.J7.cg(i)}return this.K7=n,!0},n.ett=function(t){if(!t)return!1;if(this.ntt)return!1;if(!this.att())return!1;var n=this.WZ.mY,i=this.Y7,r=n.eY(i.KQ-1);if(rD(i)&&rD(r)){var e=function(t,n,i){var r=t.B1(n,n.f3);if(!Ng(i.T4)||!Ng(i.b4))return r;var e,s=Ng(i.m4),u=Dg(i.b4,i.T4);if(s){var o=Cg(Dg(i.b4,i.m4),E_.mg);e=Cg(Dg(u,o),E_.mg)}else e=u;return Dg(r,e)}(t,r,i);return this.ttt=!0,this.ctt(e)}return!1},n.ctt=function(t){if(t.eg(this.Gy))return!1;var n=t.ag(this.Gy);return this.Gy=t,this.jy=this.jy.cg(n),this.K7=this.K7.cg(n),!0},n.stt=function(){if(this.ntt)return!1;var t=this.Q7;if(!t)return!1;var n,i=new vB(this,t,!1,!0);do{n=i.V7()}while(!n.W7&&!n.Go&&!n.F7);if(n.W7&&!n.F7){var r=n.Gy.cg(eD(t));if(!r.eg(this.jy))return this.jy=r,!0}return!1},n.ftt=function(t){var n=!1;return n=this.ett(t)||n,n=this.dtt(t)||n},n.dtt=function(t){if(!t)return!1;if(this.ttt)return!1;var n=t.jy.cg(hB(t.Q7,this.Y7));return this.ctt(n)},n.ltt=function(t){var n=!1;return(!this.Y7||this.Y7.KQ>t.KQ)&&(this.Gy=this.Gy.ag(hB(t,this.Y7)),this.Y7=t,n=!0),(!this.Q7||this.Q7.KQ<t.KQ)&&(this.jy=this.jy.cg(hB(this.Q7,t)).cg(eD(t)),this.Q7=t,n=!0),n},n._tt=function(t){if(!this.z7||!t.z7)return E_.rw;if(this.J7.ig(t.J7)){var n=this.G7(t.J7,t.K7);return t.K7.ag(n)}return t.G7(this.J7,this.K7).ag(this.K7)},n.att=function(){var t=this.Y7;return!!t&&function(t,n){return n.kY===t&&n.bY}(this.KQ,t)},n.utt=function(){var t=this.Q7;if(!t)return!1;var n=this.WZ.mY.eY(t.KQ+1);return function(t,n,i){return n.kY===t&&(!i||i.bY)}(this.KQ,t,n)},n.gtt=function(t,n){return this.ott(t,!0,!0,n)},n.htt=function(t,n,i){if(!this.Iy(t))return E_.rw;var r,e=new vB(this,t,n,i);do{r=e.V7()}while(!r.W7&&!r.Go);if(!r.W7)return E_.rw;var s=r.Gy;return s.sg(this.Gy)?this.Gy:s},n.ott=function(t,n,i,r){if(!this.Iy(t))return E_.rw;var e,s,u,o,h,a=new fB(this,t,n,i,r),c=new vB(this,t,n,i,r);do{e=a.V7(),s=c.V7()}while(!(e.W7||s.W7||e.Go&&s.Go));if(s.W7)u=s,o=e,h=a;else{if(!e.W7)return E_.rw;u=e,o=s,h=c}if(u.Gy.sg(this.Gy)){for(;!o.W7&&!o.Go;)o=h.V7();return o.W7?E_.Qg(this.Gy,o.Gy):this.Gy}if(u.F7){for(;!o.F7&&!o.W7&&!o.Go;)o=h.V7();if(o.W7&&!o.F7&&this.Gy.ig(o.Gy))return o.Gy}return u.Gy},n.B1=function(t,n){return this.Iy(t)&&this.z7?this.G7(n,t.j7):E_.rw},n.L7=function(){0},L(t,[{key:"z7",get:function(){return!this.J7.fg()}}]),t}();function lB(t,n){return n.sg(t.Gy)?r_.j_:n.tg(t.jy)?r_.Q_:r_.G_}var _B=function(){function t(){this.wtt=new XC}var n=t.prototype;return n.eY=function(t){return this.wtt.eY(t)},n.rY=function(t){return this.wtt.rY(t)},n.ytt=function(t){var n=this.wtt.iY(t);return n<0?null:this.wtt.rY(n-1)},n.V7=function(t){var n=this.wtt.iY(t);return n<0?null:this.wtt.rY(n+1)},n.mtt=function(){return this.wtt.rY(0)},n.ktt=function(){var t=this.wtt.Cl;return 0===t?null:this.wtt.rY(t-1)},n.ptt=function(t){var n=this.wtt,i=this.ktt();if(i&&function(t,n){return t.Gy.ig(n)&&n.sg(t.jy)}(i,t))return i;var r=GS(this.wtt.oY(),t,R,lB);return n.rY(r)},n.cg=function(t){var n=this.wtt.cg(t);if(n&&!this.V7(t.KQ)){t.Z7=!0;var i=this.ytt(t.KQ);i&&(i.Z7=!1)}return n},n.Oh=function(t){var n=this.wtt.Oh(t);if(n&&t.Z7){t.Z7=!1;var i=this.ytt(t.KQ);i&&(i.Z7=!0)}return n},n.cY=function(t){this.wtt.cY(t)},n.L7=function(){},L(t,[{key:"Cl",get:function(){return this.wtt.Cl}}]),t}();var gB=E_.iw(10),wB=function(){function t(t,n,i){this.WZ=void 0,this.Att=!1,this.btt=!1,this.Ttt=new _B,this.Ett=E_.mg,this.Stt=void 0,this.Rtt=null,this.Itt=null,this.ntt=void 0,this.WZ=t,this.Stt=n.liveOffset,this.ntt=i}var n=t.prototype;return n.Ntt=function(t){var n=this.WZ,i=t?t.fragments:null,r=n.mY;if(!t||!i||!i.length)return!1;this.Att=!0;var e,s=!1;if(!this.Ttt.Cl){var u=r.eY(i[0].KQ).kY,o=new dB(u,n,this.ntt);o.ctt(this.ah),this.Ttt.cg(o),s=!0}if(this.Itt){var h=r.iY(this.Itt.KQ);e=h<0?0:h+1}else e=0;for(var a=e,c=r.rY(a),f=null,v=!1;c;){var d=c.kY;if(f&&f.KQ===d||(f&&v&&this.Ctt(f),f=this.Ttt.eY(d),s=s||v,v=!1),!f){f=new dB(d,n,this.ntt),this.Ttt.cg(f);var l=this.Ttt.ytt(d);f.ftt(l||void 0)}v=f.ltt(c)||v,c=r.rY(++a)}return f&&v&&this.Ctt(f),(s=s||v)&&this.Dtt(),this.Ttt.ktt()&&this.PJ(n.mY),this.Rtt=r.eY(i[0].KQ),this.Itt=r.eY(i[i.length-1].KQ),s},n.itt=function(t){var n=this.Ttt.eY(t.kY);if(!n)return!1;this.btt=!0;var i=this.Ttt.ytt(n.KQ),r=n.itt(t,i);return r&&this.Ctt(n),r},n.Ctt=function(t){for(var n=t,i=this.Ttt.V7(t.KQ),r=!0;r&&i;)r=i.ftt(n),n=i,i=this.Ttt.V7(i.KQ)},n.Dtt=function(){for(var t=!1,n=this.Ttt.mtt(),i=n&&this.Ttt.V7(n.KQ);n&&i;)n.jy.J_(i.Gy)&&(i.ctt(n.jy),t=!0),n=i,i=this.Ttt.V7(n.KQ);return t},n.Ott=function(t){var n=this.Ttt.ktt(),i=t.Ttt.ktt();if(!this.ntt){if(n&&this.xtt(t,n.KQ))return!0;if(i&&this.xtt(t,i.KQ))return!0}return this.Ptt?!(!n||!this.Btt(t,n.KQ))||(!(!i||!this.Btt(t,i.KQ))||(!(!n||!this.Ltt(t,n.KQ))||(!(!i||!this.Ltt(t,i.KQ))||this.Mtt(t)))):this.Utt(t)},n.Utt=function(t){var n=this.Ttt.mtt(),i=t.Ttt.mtt();return!(!n||!i)&&(this.uh(i.Gy.ag(n.Gy)),!0)},n.xtt=function(t,n){var i=this.Ttt.eY(n);if(!i||!i.z7)return!1;var r=t.Ttt.eY(n);return!(!r||!r.z7)&&(this.uh(i._tt(r)),!0)},n.Btt=function(t,n){var i=this.Ttt.eY(n);if(!i||!i.att())return!1;var r=t.Ttt.eY(n);return!(!r||!r.att())&&(this.uh(r.Gy.ag(i.Gy)),!0)},n.Ltt=function(t,n){var i=this.Ttt.eY(n);if(!i)return!1;var r=this.Ftt(i.Q7.KQ);if(!r)return!1;var e=t.Ttt.eY(n);if(!e)return!1;var s=t.Ftt(e.Q7.KQ);if(!s)return!1;var u=i.gtt(i.Q7),o=e.gtt(e.Q7),h=E_.ow(r).ag(E_.ow(s)),a=u.ag(o);return this.uh(h.ag(a)),!0},n.Mtt=function(t){if(!this.btt&&!t.btt)return!1;var n=this.Ttt.ktt(),i=t.Ttt.ktt();if(n&&n.Q7&&i&&i.Q7){var r=E_.wg(n.Q7.fp-i.Q7.fp,1e3),e=n.jy.ag(i.jy);return this.uh(r.ag(e)),!0}return!1},n.PJ=function(t){var n=this.Ttt.ktt();if(n)for(var i=n.jy,r=t.Cl-1;r>=0;r--){var e=t.rY(r);if(i=i.ag(E_.iw(e.duration)),void 0!==e.j7){0;break}e.j7=i}},n.g7=function(t){var n=this.Ttt.ptt(t);return n?n.KQ:NaN},n.C1=function(t,n){var i=this.Ttt.eY(t.kY);return i?i.gtt(t,n):E_.rw},n.D1=function(t,n){var i=this.WZ.mY.eY(t.KQ+1);if(i){var r=this.C1(i);return r}return n.cg(function(t){if(!t)return E_.mg;if(!rD(t))return E_.iw(t.duration);var n=t.QY||E_.mg,i=t.YY||E_.mg,r=E_.iw(t.duration);return n.Tg()||i.Tg()?n.Tg()?i.Tg()?r.Tg()?r:E_.mg:i:n:E_.Qg(n,i)}(t))},n.B1=function(t,n){var i=this.Ttt.eY(t.kY);return i&&i.z7?i.B1(t,n):E_.rw},n.x6=function(t,n){var i=this.WZ.mY;return i.Cl?function(t,n,i,r,e){var s,u,o=t.WZ.mY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.C1(o.rY(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.sg(f))return{Cp:s=o.rY(c),Htt:f};if(n.tg(d)&&(s=o.rY(v)).d3)return{Cp:s,Htt:d};for(;f.ig(n)&&n.ig(d);){var _=void 0,g=void 0,w=void 0;if(c===v?(_=c,g=f):(_=c+l.round(n.ag(f).Z_()*(v-c)/d.ag(f).Z_())||0,g=a(_)),g.J_(n))d=a(v=_-1);else{if(s=o.rY(_),!(w=(u=_)===r?a(u).cg(eD(o.rY(u))):a(u+1)).ig(n))return s&&n.ig(g.cg(eD(s)))?{Cp:s,Htt:g}:(s=o.rY(_+1))&&{Cp:s,Htt:w};c=_+1,f=w}}if(d.ig(n)){if((s=o.rY(v))&&n.ig(d.cg(eD(s))))return{Cp:s,Htt:d};if(v<r&&(s=o.rY(v+1),d=a(v+1),s&&n.sg(d)))return{Cp:s,Htt:d}}return null}(this,t,0,i.Cl-1,n):null},n.Ftt=function(t){var n=this.WZ.mY,i=n.iY(t),r=n.rY(i),e=r,s=E_.mg;if(r.$Z)return r.$Z;for(var u=i-1;u>=0;u--){var o=n.rY(u);if(s=s.cg(eD(o)).cg(hB(o,e)),o.$Z)return new Date(o.$Z.getTime()+1e3*s.Z_());e=o}return null},n.Vtt=function(t){for(var n=this.WZ.mY,i=void 0,r=0;r<n.Cl;r++){var e=n.rY(r);if(e.$Z){if(!(e.$Z.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return E_.rw;var s=E_.ow(t).ag(E_.ow(i.$Z));return this.C1(i).cg(s)},n.uh=function(t){if(!t.eg(E_.mg))for(var n=this.Ttt.Cl,i=0;i<n;i++){var r=this.Ttt.rY(i);r.ctt(r.Gy.cg(t))}},n.v7=function(t){var n=this.Ttt.eY(t);return n&&n.z7},n.d7=function(t,n){if(this===t)return E_.mg;var i=this.Ttt.eY(n),r=t.Ttt.eY(n);return i&&r?i._tt(r):E_.rw},n.L7=function(){0},L(t,[{key:"Ptt",get:function(){var t=this.WZ.pY;return!!t&&t.live}},{key:"Xtt",get:function(){var t=this.WZ.pY;return!!t&&t.isEvent}},{key:"Wtt",get:function(){var t=this.Rtt;return t?this.C1(t):E_.mg}},{key:"qtt",get:function(){var t=this.Ttt.ktt();return t?t.jy:E_.mg}},{key:"ztt",get:function(){if(!this.Ptt)return E_.mg;var t=this.qtt.ag(this.Gtt);return E_.Qg(this.Wtt,t)}},{key:"Gtt",get:function(){return this.Stt&&E_.iw(this.Stt)||this.jtt.Ug(3)}},{key:"Qtt",get:function(){return this.Ptt&&this.Itt?E_.wg(Ub()-this.Itt.fp,1e3):E_.mg}},{key:"jtt",get:function(){var t=this.WZ.pY;return t&&t.targetDuration?E_.iw(t.targetDuration):gB}},{key:"ah",get:function(){return this.Ett},set:function(t){var n=t.ag(this.Ett);this.Ett=t,this.uh(n)}}]),t}(),yB=function(t){function n(n){var i;return(i=t.call(this)||this).Ytt=[],i.Ztt={},i.Jtt=null,i.$tt=null,i.Ett=E_.mg,i.ntt=void 0,i.Ktt=void 0,i.Ktt=n,i}U(n,t);var i=n.prototype;return i.tnt=function(t){return t&&this.Ztt[t.Hl]||null},i.nnt=function(t){var n=this.tnt(t);return n||((n=new wB(t,this.Ktt,!!this.ntt)).ah=this.Ett,this.Ytt.push(n),this.Ztt[t.Hl]=n),n},i.int=function(t){var n;switch(null==(n=this.Ktt.hls)?void 0:n.discontinuityAlignment){case PA.JN:return!0;case PA.$N:return!1;default:return t.isEvent||t.hasEnd}},i.Ntt=function(t,n){void 0===this.ntt&&(this.ntt=this.int(n));var i=this.tnt(this.Jtt),r=i?i.Wtt:E_.mg,e=i?i.qtt:E_.mg,s=this.nnt(t),u=s.Att,o=s.Ntt(n);if(!u&&s.Att&&(s.uh(this.rnt(t)),o=!0),o=this.ent(s)||o,this.snt(s,r,e)){var h=new LC(BC.YQ,{code:"MFU0166"});this.dispatchEvent({type:"Go",Go:h})}else this.Jtt=t,o&&this.dispatchEvent("LJ")},i.itt=function(t,n){if(rD(n)){0;var i=this.nnt(t),r=i.itt(n);r=this.ent(i)||r,this.$tt=t,r&&this.dispatchEvent("LJ")}},i.ent=function(t){var n=!1,i=!1,r=this.tnt(this.$tt);r&&(r===t?n=!0:i=(n=t.Ott(r))||i);var e=this.tnt(this.Jtt);return e&&e!==t&&(i=n?e.Ott(t)||i:t.Ott(e)||i),i},i.rnt=function(t){var n=this.tnt(t),i=!n.Ptt,r=t.pY&&t.pY.isEvent;return i||r?E_.mg:n.jtt.Ug(3)},i.snt=function(t,n,i){if(!t.Ptt)return!1;var r=t.Wtt,e=t.qtt,s=E_.Yg(e,i).ag(E_.Qg(r,n)),u=E_.Qg(t.jtt.Ug(3),s.Xg(2));return r.cg(u).sg(n)},i.PJ=function(t,n){var i=this.tnt(t)||this.tnt(this.Jtt);return i&&i.PJ(n)},i.g7=function(t){var n=this.Jtt&&this.tnt(this.Jtt);return n?n.g7(t):NaN},i.unt=function(t,n){var i=t.AY(n);return this.C1(i)},i.C1=function(t){if(!t)return E_.rw;var n=this.tnt(t.WZ)||this.tnt(this.Jtt);return n?n.C1(t):E_.rw},i.D1=function(t,n){if(!t)return E_.rw;var i=this.tnt(t.WZ)||this.tnt(this.Jtt);return i?i.D1(t,n):E_.rw},i.B1=function(t,n){if(!t||!n)return E_.rw;var i=this.tnt(t.WZ)||this.tnt(this.Jtt);return i?i.B1(t,n):E_.rw},i.x6=function(t,n,i){var r=this.tnt(t);if(!r)return null;var e=r.x6(n,i);return e?{Cp:e.Cp,Htt:e.Htt}:null},i.Ftt=function(t,n){var i=this.tnt(t)||this.tnt(this.Jtt);return i?i.Ftt(n):null},i.Vtt=function(t,n){var i=this.tnt(t)||this.tnt(this.Jtt);return i?i.Vtt(n):E_.rw},i.v7=function(t){return void 0!==this.ont(t)},i.d7=function(t,n){if(this===t)return E_.mg;var i=this.ont(n),r=t.ont(n);return i&&r?i.d7(r,n):E_.rw},i.ont=function(t){return Je(this.Ytt,function(n){return n.v7(t)})},i.Pv=function(){this.Bo(),this.Ytt.length=0,this.Ztt={},this.Jtt=null,this.$tt=null,this.Ett=E_.mg},i.L7=function(){0},L(n,[{key:"hnt",get:function(){return this.Wtt.ag(this.jtt.Ug(3))}},{key:"Gtt",get:function(){var t=this.Ktt.liveOffset;return E_.iw(t||3*this.jtt.Z_())}},{key:"Ptt",get:function(){var t=this.tnt(this.Jtt);return!!t&&t.Ptt}},{key:"Sy",get:function(){return this.Jtt?new wO([{NR:this.Wtt.Z_(),OR:this.qtt.Z_()}]):yO}},{key:"Wtt",get:function(){if(!this.Jtt)return E_.mg;var t=this.tnt(this.Jtt);return t.Xtt?t.Wtt:t.Wtt.cg(t.Qtt)}},{key:"qtt",get:function(){if(!this.Jtt)return E_.mg;var t=this.tnt(this.Jtt);return t.qtt.cg(t.Qtt)}},{key:"ztt",get:function(){if(!this.Jtt)return E_.mg;var t=this.tnt(this.Jtt);return t.ztt.cg(t.Qtt)}},{key:"jtt",get:function(){return this.Jtt?this.tnt(this.Jtt).jtt:gB}},{key:"ah",get:function(){return this.Ett},set:function(t){if(!this.Ett.eg(t)){this.Ett=t;for(var n=0,i=this.Ytt;n<i.length;n++){i[n].ah=t}this.dispatchEvent("LJ")}}}]),n}(xC),mB=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rnt=function(t){return E_.mg},n}(yB),kB=.25,pB=1/60;function AB(t,n){return f_(t,n,pB)}var bB,TB=function(t,n,i){this.WZ=void 0,this.Gy=void 0,this.L_=void 0,this.jy=void 0,this.Cp=void 0,this.ant=NaN,this.cnt=NaN,this.fnt=0,this.WZ=t.WZ,this.Gy=n,this.jy=i,this.L_=i-n,this.Cp=t},EB=function(t,n,i){this.WZ=void 0,this.Gy=void 0,this.L_=void 0,this.jy=void 0,this.ant=NaN,this.cnt=NaN,this.fnt=0,this.WZ=t,this.Gy=n,this.jy=i,this.L_=i-n};function SB(t){return!(!t||!t.Cp)}function RB(t,n,i){return r=n,e=i,s=t.Gy,u=t.jy,AB(r,u)<=0&&AB(s,e)<=0;var r,e,s,u}function IB(t,n){return AB(t.Gy,n)<=0?t.jy:t.Gy}function NB(t,n,i){return(t-n)/i-kB}function CB(t,n){return n.ag(t).JR(t)}function DB(t,n){var i=l.min(pB,t.L_/2);return n.nI(t.Gy,t.jy,i)}function OB(t,n){var i=n.m1(t);return-1===i?t:n.end(i)}function xB(t){return t.cnt<=t.ant}function PB(t,n){if(!xB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.fnt+n.cnt>r.ant)return!1}return!0}function BB(t,n){for(var i=0;i<t.length;i++){t[i].fnt+=n.cnt}n.fnt=n.cnt,t.push(n)}!function(t){t[t.vnt=0]="vnt",t[t.dnt=1]="dnt",t[t.lnt=2]="lnt",t[t.h9=3]="h9"}(bB||(bB={}));var LB=function(){function t(t,n,i,r){this.Ap=void 0,this.cb=void 0,this._nt=void 0,this.gnt=void 0,this.wnt=void 0,this.S0=void 0,this.Ap=t,this.cb=n,this._nt=i,this.gnt=r,this.wnt=jD.je.i0,this.S0=jD.je.n0}var n=t.prototype;return n.ynt=function(){return this._nt.mZ.reduce(function(t,n){return l.max(t,n.pY&&n.pY.targetDuration||0)},0)},n.mnt=function(t,n){void 0===n&&(n=this.cb.C1(t).Z_());var i=this.cb.D1(t,E_.iw(n));return new TB(t,n,i.Z_())},n.knt=function(t,n){var i=t.mY.rY(n);return i&&this.mnt(i)||null},n.pnt=function(t){var n=t.WZ,i=n.mY.iY(t.KQ);return i>=0&&this.knt(n,i-1)||null},n.Ant=function(t){var n=t.WZ,i=n.mY.iY(t.KQ);return i>=0&&this.knt(n,i+1)||null},n.bnt=function(t,n){var i=this.cb.x6(t,E_.iw(n));return i&&this.mnt(i.Cp,i.Htt.Z_())||null},n.Tnt=function(t){var n=t.mY.Cl-1;return n>=0&&this.knt(t,n)||null},n.Ent=function(t,n,i){var r=t.pY&&t.pY.targetDuration||this.ynt()||10,e=l.max(0,n-r),s=e+r;return i&&RB(i,e,s)&&(s=(e=i.jy)+r),new EB(t,e,s)},n.Snt=function(t,n,i){var r=this.gnt.R5,e=.8*this.gnt.I5,s=(n.bandwidth||0)*t.L_;return i&&i.xK?((s=8*i.G0||s)-8*i.z0)/e:r+s/e},n.Rnt=function(){for(var t=this.gnt.r5(this.Ap),n=this.gnt.B4(this.Ap),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Int=function(t,n){var i=n.filter(function(n){return n.WZ===t});return FO(this.cb,i).R1()},n.Nnt=function(t){return"audio"===this.Ap&&t?[t]:this._nt.mZ},n.Cnt=function(t){for(var n=new UO([]),i=new UO([]),r=this.Rnt(),e={Dnt:{},Ont:{},xnt:{},Pnt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Int(u,r),h=WO(this.cb,o);e.Dnt[u.Hl]=o,e.Ont[u.Hl]=h,e.xnt[u.Hl]=n=CB(n,o),e.Pnt[u.Hl]=i=CB(i,h)}return e},n.Bnt=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].Hl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({NR:d,OR:l})}return 0===(s=pO(s=kO(new wO(a)),new wO([{NR:t,OR:n}]))).length||AB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,AB(u,t)<=0&&AB(h,o)<=0)?NaN:s.end(0)},n.Lnt=function(t,n,i){var r=null,e=i.Dnt[t.Hl],s=i.xnt[t.Hl],u=i.Pnt[t.Hl],o=s.m1(n);if(-1!==o){for(var h=l.max(n,s.start(o)),a=s.end(o),c=new wO([{NR:h,OR:a}]),f=s.zR(c).ag(u),v=0;v<f.length;v++){var d=f.start(v),_=f.mY(v)[0];if(_.Cp.WZ===t){if(r=this.pnt(_.Cp))return r}else{for(r=this.bnt(t,d);r&&DB(r,e);)r=this.pnt(r.Cp);if(r)return r}}var g=s.mY(o),w=g[g.length-1];if(w.Cp.WZ===t&&(r=this.Ant(w.Cp)))return r}var y=this.Tnt(t);if(!y||AB(y.jy,n)<=0){if(!y||!y.Cp.d3)return r=this.Ent(t,n,y);r=y}for(r||(r=this.bnt(t,n));r&&DB(r,s);)r=this.Ant(r.Cp);return r},n.Mnt=function(t,n){var i=this.Tnt(t);return i&&i.Cp.d3&&AB(i.jy,n)<=0?i:this.bnt(t,n)},n.Unt=function(t,n,i,r,e,s,u,o){var h=t.WZ,a=u.xnt[h.Hl],c=!DB(t,a),f=c?n:IB(t,r);t.ant=NB(f,r,s),t.cnt=this.Snt(t,h);var v=o&&this.mnt(o);if(v&&!DB(v,a)){var d=IB(v,r);if(v.ant=NB(d,r,s),v.cnt=this.Snt(v,h,i&&i.R0),xB(v)&&(!c||function(t,n){var i=[];return!!PB(i,n)&&(BB(i,n),!(!SB(t)||!SB(n)||t.Cp!==n.Cp)||!!PB(i,t))}(t,v)))return v}if(c&&!xB(t))return null;var l=this.Fnt(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Fnt=function(t,n,i,r,e){for(var s=[],u=t.WZ,o=t;o&&n<o.jy&&i<=o.Gy;){if(!DB(o,e)){if(w(o.ant)){var h=IB(o,n);o.ant=NB(h,n,r),o.cnt=this.Snt(o,u)}PB(s,o)&&BB(s,o)}o=SB(o)&&this.pnt(o.Cp)}return s},n.Hnt=function(t,n){return t.Gy<n?{Xl:bB.lnt}:SB(t)?{Xl:bB.vnt,Cp:t.Cp,Gy:t.Gy}:{Xl:bB.dnt,WZ:t.WZ}},n.t5=function(t){if(iD(t.uri)){var n=t.uri,i=YD(n.zY,[n.GY.NR,n.GY.OR]);return this.S0.Ko(i)}var r=YD(t.uri);return this.S0.Ko(r)},n.Vnt=function(t){return this.wnt.Ko(t.uri)},n.Xnt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,y,m,k,p,A,b;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Nnt(e),f=this.Cnt(c),v=this.cb.hnt.Z_(),d=this.Bnt(n,i,s,c,f.Ont),g=null,m=!1,!w(d)){t.next=3;break}return t.abrupt("return",{Xl:bB.h9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{Xl:bB.lnt});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=OB(d,f.Ont[l.Hl]),!(g=this.Lnt(l,_,f))){t.next=24;break}if(p=!1,!SB(g)){t.next=18;break}return t.next=15,this.t5(g.Cp);case 15:p=t.sent,t.next=22;break;case 18:if(l.eJ){t.next=22;break}return t.next=21,this.Vnt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Hnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+kB&&a.length)){t.next=33;break}if(l=a[0],_=OB(d,f.Ont[l.Hl]),!(g=this.Lnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Hnt(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=OB(d,f.Ont[l.Hl]),(g=this.Lnt(l,_,f))?y=g:(m=!0,y=this.Mnt(l,_)),!y){t.next=45;break}if(!(b=this.Unt(y,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Hnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{Xl:bB.h9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Hnt(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{Xl:bB.h9});case 54:if(l=h[0],_=OB(d,f.Ont[l.Hl]),!(g=this.Lnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Hnt(g,v));case 61:return t.abrupt("return",{Xl:bB.h9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),MB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).Wnt=i,o.qnt=r,o.DA=e,o.Ap=s,o.Cv=u,o}return U(n,t),n}(Is),UB=function(t){function n(n,i,r,e,s){return t.call(this,Zo.lc,n,i,r,e,s)||this}return U(n,t),n}(MB),FB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,Zo.gc,n,i,r,e,s)||this).znt=u,h.py=o,h}return U(n,t),n}(MB),HB=E_.iw(.1);function VB(t,n){return(t.l6===n.l6?S_(t.f2,n.f2):S_(t.Gnt,n.Gnt))||a_(t.DA,n.DA)}var XB,WB=function(){function t(){}return t.jnt=function(t,n,i){if(!(n>=i)){var r=ss(t,function(t,n){return new jN(t.map(function(t){return t?t.Qnt():null}),n).mz()});if(0!==r.length)return new ZN(n,i,r)}},t}(),qB="black",zB="white",GB=function(){function t(t,n){this.Ynt=void 0,this.Znt=void 0,this.Jnt=void 0,this.$nt=void 0,this.Knt=void 0,this.tit=void 0,this.nit=void 0,this.iit=void 0,this.rit=void 0,this.Ynt=new Array(jB+1);for(var i=0;i<=jB;i++)this.Ynt[i]=new UN;this.Znt=1,this.Jnt=0,this.$nt=t,this.Knt=n,this.tit=!1,this.nit=!1,this.iit=zB,this.rit=qB,this.Il()}var n=t.prototype;return n.eit=function(t,n){var i="CC"+(this.$nt<<1|this.Knt+1);if(t>=n)return null;var r=(new GN).sz(this.Ynt.slice(1));return 0===r.length?null:{zy:new ZN(t,n,r),Wf:i,Rz:this.$nt<<1|this.Knt+1}},n.Il=function(){this.sit(),this.Znt=1},n.uit=function(){return this.Znt},n.oit=function(t){this.Znt=t},n.Fq=function(t){this.Ynt[this.Znt].Fq(t)},n.Hq=function(t){this.Ynt[this.Znt].Hq(t)},n.hit=function(){return this.Jnt},n.ait=function(t){this.Jnt=t},n.Xq=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case XB.cit:i=void 0!==YB[n]?YB[n]:String.fromCharCode(n);break;case XB.fit:i=ZB[n];break;case XB.vit:this.dit(),i=JB[n];break;case XB.lit:this.dit(),i=$B[n]}i&&this.Ynt[this.Znt].addParsedChar(i)}},n.dit=function(){this.Ynt[this.Znt].Vq()},n._it=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Ynt[t+r]=this.Ynt[n+r];else for(var e=0;e<i;e++)this.Ynt[t+e]=this.Ynt[n+e]},n.git=function(t,n){for(var i=0;i<=n;i++)this.Ynt[t+i]=new UN},n.sit=function(){this.git(0,jB)},n.wit=function(){this.Znt=this.Jnt>0?this.Jnt:0,this.sit()},n.yit=function(t){this.tit=t},n.mit=function(t){this.nit=t},n.kit=function(t){this.iit=t},n.pit=function(t){this.rit=t},t}(),jB=15;!function(t){t[t.cit=0]="cit",t[t.fit=1]="fit",t[t.vit=2]="vit",t[t.lit=3]="lit"}(XB||(XB={}));var QB,YB={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},ZB={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},JB={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},$B={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},KB=function(){function t(t,n){this.xs=void 0,this.Ait=void 0,this.bit=void 0,this.Tit=void 0,this.Eit=void 0,this.Sit=void 0,this.Rit=void 0,this.Iit=void 0,this.xs=QB._R,this.Ait=new GB(t,n),this.bit=new GB(t,n),this.Tit=new GB(t,n),this.Eit=this.bit,this.Sit=0,this.Rit=void 0,this.Iit=!1}var n=t.prototype;return n.Il=function(){this.Iit=!0,this.Sit=0,this.xs=QB._R,this.Eit=this.bit,this.Rit=void 0,this.bit.Il(),this.Tit.Il(),this.Ait.Il()},n.Nit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Cit=function(t,n){var i=this.Nit(t,n),r=(30&n)>>1,e=zB,s=!1;r<7?e=rL[r]:7===r&&(s=!0);var u=1==(1&n);if(this.xs!==QB.Je){var o=this.Eit;if(this.xs===QB.Dit&&i!==o.uit()){var h=1+o.uit()-o.hit(),a=1+i-o.hit();o._it(a,h,o.hit()),o.git(0,a-1),o.git(i+1,jB-i)}o.oit(i);var c=rC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=eC.lG(c,n);o.Fq(f.rz),this.Eit.yit(u),this.Eit.mit(s),this.Eit.kit(e),this.Eit.pit(qB)}}},n.Oit=function(t,n){this.Eit.yit(!1),this.Eit.mit(!1),this.Eit.kit(zB);var i=this.xit(t,XB.cit," ".charCodeAt(0)),r=zB,e=!1,s=1==(1&n);return"white_italics"===(r=rL[(14&n)>>1])&&(r="white",e=!0),this.Eit.yit(s),this.Eit.mit(e),this.Eit.kit(r),i},n.xit=function(t,n,i){if(this.Eit.Xq(n,i),this.xs===QB.Pit||this.xs===QB.Dit){var r=this.Bit(this.Eit,this.Sit,t);return this.Sit=t,r}return null},n.Bit=function(t,n,i){return this.Iit?null:t.eit(n,i)},n.Lit=function(t,n){var i=qB;0==(7&t)&&(i=iL[(14&n)>>1]),this.Eit.pit(i)},n.Mit=function(t){var n=tL,i=t.Uit,r=t.t6,e=null;switch(i){case n.RCL:this.Fit();break;case n.BS:this.Hit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Vit(2,r);break;case n.RU3:e=this.Vit(3,r);break;case n.RU4:e=this.Vit(4,r);break;case n.FON:e=this.Xit(r);break;case n.RDC:this.Wit(r);break;case n.TR:this.qit();break;case n.RTD:this.zit();break;case n.EDM:e=this.Git(r);break;case n.CR:e=this.jit(r);break;case n.ENM:this.Qit();break;case n.EOC:e=this.Yit(r)}return e},n.jit=function(t){var n=this.Eit;if(this.xs!==QB.Dit)return null;var i=this.Bit(n,this.Sit,t),r=n.uit()-n.hit()+1;return n._it(r-1,r,n.hit()),n.git(0,r-1),n.git(n.uit(),jB-n.uit()),this.Sit=t,i},n.Vit=function(t,n){this.Eit=this.bit;var i=this.Eit,r=null;return this.xs!==QB.Dit&&this.xs!==QB.Je&&(r=this.Bit(i,this.Sit,n),this.bit.wit(),this.Tit.wit(),this.Iit=!1,i.oit(jB)),this.xs=QB.Dit,i.ait(t),r},n.Xit=function(t){return this.xit(t,XB.cit," ".charCodeAt(0))},n.Git=function(t){var n=this.bit,i=null;return this.xs!==QB.Je&&(i=this.Bit(n,this.Sit,t)),n.sit(),this.Iit=!1,i},n.Wit=function(t){this.xs=QB.Pit,this.Eit=this.bit,this.Eit.ait(0),this.Sit=t},n.Qit=function(){this.Tit.sit()},n.Yit=function(t){var n=null;this.xs!==QB.Je&&(n=this.Bit(this.bit,this.Sit,t));var i=this.Tit;return this.Tit=this.bit,this.bit=i,this.Fit(),this.Sit=t,n},n.Fit=function(){this.xs=QB.Zit,this.Eit=this.Tit,this.Eit.ait(0)},n.Hit=function(){this.Eit.dit()},n.qit=function(){this.Ait.Il(),this.Iit=!1,this.zit()},n.zit=function(){this.Eit=this.Ait,this.xs=QB.Je},n.Jit=function(t,n,i){return this.Eit.Xq(XB.cit,n),this.xit(t,XB.cit,i)},n.$it=function(t,n,i){var r=1&n?XB.lit:XB.vit;return this.xit(t,r,i)},n.Kit=function(t){var n=t.trt,i=t.Uit,r=t.t6;if(this.Rit===(n<<8|i))return this.Rit=void 0,null;if(this.Rit=n<<8|i,this.nrt(n,i))this.Cit(n,i);else{if(this.irt(n,i))return this.Oit(r,i);if(this.rrt(n,i))this.Lit(n,i);else{if(this.ert(n,i))return this.xit(r,XB.fit,i);if(this.urt(n,i))return this.$it(r,n,i);if(this.ort(n,i))return this.Mit(t);this.isTabOffset(n)&&this.Eit.Hq(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.ort=function(t,n){return 20==(246&t)&&32==(240&n)},n.nrt=function(t,n){return 16==(240&t)&&64==(192&n)},n.irt=function(t,n){return 17==(247&t)&&32==(240&n)},n.rrt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.ert=function(t,n){return 17==(247&t)&&48==(240&n)},n.urt=function(t,n){return 18==(246&t)&&32==(224&n)},t.hrt=function(t){return 16==(112&t)},t}(),tL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t._R=0]="_R",t[t.Zit=1]="Zit",t[t.Pit=2]="Pit",t[t.Dit=3]="Dit",t[t.Je=4]="Je"}(QB||(QB={}));var nL,iL=["black","green","blue","cyan","red","yellow","magenta","black"],rL=["white","green","blue","cyan","red","yellow","magenta","white_italics"],eL=function(){function t(t,n,i,r,e){this.art=void 0,this.tit=void 0,this.nit=void 0,this.rit=void 0,this.iit=void 0,this.art=t,this.tit=n,this.nit=i,this.rit=r,this.iit=e}var n=t.prototype;return n.Qnt=function(){return this.art},n.crt=function(){return this.tit},n.frt=function(){return this.nit},n.vrt=function(){return this.rit},n.drt=function(){return this.iit},t}(),sL=function(){function t(t){this.lrt=void 0,this.pR=void 0,this._rt=void 0,this.grt=void 0,this.wrt=void 0,this.yrt=void 0,this.mrt=void 0,this.krt=void 0,this.prt=void 0,this.Art=void 0,this.rm=void 0,this.Znt=void 0,this.brt=void 0,this.nit=void 0,this.tit=void 0,this.iit=void 0,this.rit=void 0,this.lrt=t,this.pR=!1,this._rt=!1,this.grt=0,this.wrt=0,this.yrt=0,this.mrt=0,this.krt=0,this.prt=nL.Trt,this.Art=[],this.rm=0,this.Znt=0,this.brt=0,this.nit=!1,this.tit=!1,this.iit=zB,this.rit=qB,this.Ert()}var n=t.prototype;return n.Srt=function(t,n,i,r,e,s,u){this.pR=t,this.wrt=n,this.grt=i,this.yrt=r,this._rt=e,this.mrt=s,this.krt=u},n.Ert=function(){this.Art=[];for(var t=0;t<oL;t++)this.Art.push(this.Rrt())},n.Rrt=function(){for(var t=[],n=0;n<uL;n++)t.push(null);return t},n.Irt=function(t){this.Nrt()&&(this.Art[this.Znt][this.brt]=new eL(t,this.tit,this.nit,this.rit,this.iit),this.brt++)},n.$q=function(){this.Nrt()&&(this.brt<=0&&this.Znt<=0||(this.brt<=0?(this.brt=this.krt-1,this.Znt--):this.brt--,this.Art[this.Znt][this.brt]=null))},n.Nrt=function(){var t=this.Znt<this.mrt&&this.Znt>=0,n=this.brt<this.krt&&this.brt>=0;return t&&n},n.Crt=function(){return this.pR},n.Drt=function(t){for(var n=0,i=t;i<oL;i++,n++)this.Art[n]=this.Art[i];for(var r=0;r<t;r++,n++)this.Art[n]=this.Rrt()},n.Ort=function(){if(this.Znt+1>=this.mrt)return this.Drt(1),void(this.brt=0);this.Znt++,this.brt=0},n.xrt=function(){this.Art[this.Znt]=this.Rrt(),this.brt=0},n.eit=function(t,n){if(this.rm>=t)return null;var i=WB.jnt(this.Art,this.rm,t);return i?(this.ctt(t),{zy:i,Wf:"svc"+n,Rz:n}):null},n.Prt=function(t,n){this.Znt=t,this.brt=n},n.Brt=function(t){this.rit=t},n.Lrt=function(t){this.iit=t},n.Mrt=function(t){this.tit=t},n.Urt=function(t){this.nit=t},n.Frt=function(){this.Znt=0,this.brt=0,this.tit=!1,this.nit=!1,this.iit=zB,this.rit=qB},n.Hrt=function(t){this.prt=t},n.Vrt=function(){this.pR=!0},n.ty=function(){this.pR=!1},n.Xrt=function(){this.pR=!this.pR},n.ctt=function(t){this.rm=t},t}();!function(t){t[t.Wrt=0]="Wrt",t[t.qrt=1]="qrt",t[t.Trt=2]="Trt",t[t.zrt=3]="zrt"}(nL||(nL={}));var uL=42,oL=15,hL=function(){function t(t){this.Grt=void 0,this.jrt=void 0,this.Qrt=void 0,this.Grt=t,this.jrt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Qrt=void 0}var n=t.prototype;return n.Yrt=function(t){var n=t.Zrt(),i=n.fs,r=n.t6;i===dL&&(i=i<<16|t.Zrt().fs);return i>=0&&i<=31?this.Jrt(i,r):i>=128&&i<=159?this.$rt(t,i,r):(i>=4096&&i<=4127?this.Krt(t,255&i):i>=4224&&i<=4255?this.tet(t,255&i):i>=32&&i<=127?this.net(i):i>=160&&i<=255?this.iet(i):i>=4128&&i<=4223?this.ret(255&i):i>=4256&&i<=4351&&this.eet(255&i),null)},n.net=function(t){this.Qrt&&(127!==t?this.Qrt.Irt(String.fromCharCode(t)):this.Qrt.Irt("\u266a"))},n.iet=function(t){this.Qrt&&this.Qrt.Irt(String.fromCharCode(t))},n.ret=function(t){if(this.Qrt)if(void 0!==lL[t]){var n=lL[t];this.Qrt.Irt(n)}else this.Qrt.Irt("_")},n.eet=function(t){this.Qrt&&(160===t?this.Qrt.Irt("[CC]"):this.Qrt.Irt("_"))},n.Jrt=function(t,n){if(!this.Qrt)return null;var i=this.Qrt,r=null;switch(t){case aL:i.$q();break;case fL:i.Crt()&&(r=i.eit(n,this.Grt)),i.Ort();break;case vL:i.Crt()&&(r=i.eit(n,this.Grt)),i.xrt();break;case cL:i.Crt()&&(r=i.eit(n,this.Grt)),i.Ert(),i.Prt(0,0)}return r},n.$rt=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.uet(r)}else{if(136===n){var e=t.Zrt().fs;return this.oet(e,i)}if(137===n){var s=t.Zrt().fs;this.het(s,i)}else{if(138===n){var u=t.Zrt().fs;return this.aet(u,i)}if(139===n){var o=t.Zrt().fs;return this.cet(o,i)}if(140===n){var h=t.Zrt().fs;return this.fet(h,i)}if(143===n)return this.Il(i);if(144===n)this.vet(t);else if(145===n)this.det(t);else if(146===n)this.Prt(t);else if(151===n)this.let(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Srt(t,a,i)}}}return null},n.Krt=function(t,n){n>=8&&n<=15?t.Dk(1):n>=16&&n<=23?t.Dk(2):n>=24&&n<=31&&t.Dk(3)},n.tet=function(t,n){n>=128&&n<=135?t.Dk(4):n>=136&&n<=143&&t.Dk(5)},n.uet=function(t){this.jrt[t]&&(this.Qrt=this.jrt[t])},n._et=le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.jrt[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.oet=function(t,n){for(var i=null,r=0,e=this._et(t);r<e.length;r++){var s=e[r],u=this.jrt[s];u.Crt()&&(i=u.eit(n,this.Grt)),u.Ert()}return i},n.het=function(t,n){for(var i=0,r=this._et(t);i<r.length;i++){var e=r[i],s=this.jrt[e];s.Crt()||s.ctt(n),s.Vrt()}},n.aet=function(t,n){for(var i=null,r=0,e=this._et(t);r<e.length;r++){var s=e[r],u=this.jrt[s];u.Crt()&&(i=u.eit(n,this.Grt)),u.ty()}return i},n.cet=function(t,n){for(var i=null,r=0,e=this._et(t);r<e.length;r++){var s=e[r],u=this.jrt[s];u.Crt()?i=u.eit(n,this.Grt):u.ctt(n),u.Xrt()}return i},n.fet=function(t,n){for(var i=null,r=0,e=this._et(t);r<e.length;r++){var s=e[r],u=this.jrt[s];u.Crt()&&(i=u.eit(n,this.Grt)),this.jrt[s]=void 0}return i},n.Il=function(t){var n=this.fet(255,t);return this.rh(),n},n.rh=function(){this.Qrt=void 0,this.jrt=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.vet=function(t){t.Dk(1);var n=t.Zrt().fs;if(this.Qrt){var i=(128&n)>0,r=(64&n)>0;this.Qrt.Urt(i),this.Qrt.Mrt(r)}},n.det=function(t){var n=t.Zrt().fs,i=t.Zrt().fs;if(t.Dk(1),this.Qrt){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.wet(s,e,r),c=this.wet(h,o,u);this.Qrt.Lrt(a),this.Qrt.Brt(c)}},n.Prt=function(t){var n=t.Zrt().fs,i=t.Zrt().fs;if(this.Qrt){var r=15&n,e=63&i;this.Qrt.Prt(r,e)}},n.let=function(t){t.Dk(1),t.Dk(1);var n=t.Zrt().fs;if(t.Dk(1),this.Qrt){var i=3&n;this.Qrt.Hrt(i)}},n.Srt=function(t,n,i){var r=void 0!==this.jrt[n];if(!r){var e=new sL(n);e.ctt(i),this.jrt[n]=e}var s=t.Zrt().fs,u=t.Zrt().fs,o=t.Zrt().fs,h=t.Zrt().fs,a=t.Zrt().fs,c=t.Zrt().fs,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.jrt[n].Frt(),this.jrt[n].Srt(f,v,l,g,d,_,w),this.Qrt=this.jrt[n]},n.wet=function(t,n,i){var r={0:0,1:0,2:1,3:1};return _L[r[t]<<2|r[n]<<1|r[i]]},t}(),aL=8,cL=12,fL=13,vL=14,dL=16,lL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},_L=["black","blue","green","cyan","red","magenta","yellow","white"],gL=function(){function t(){this.yet=void 0,this.met=void 0,this.ket=void 0,this.yet=[],this.met=null,this.ket=0}var n=t.prototype;return n.pet=function(t){if(t.Ku===mN.xq){var n=63&t.fs;return this.ket=2*n-1,void(this.met=[])}if(this.met&&(this.ket>0&&(this.met.push(t),this.ket--),0===this.ket)){var i=new wL(this.met);this.yet.push(i),this.met=null,this.ket=0}},n.Aet=function(){return this.yet},n.bet=function(){this.yet=[]},n.rh=function(){this.yet=[],this.met=[],this.ket=0},t}(),wL=function(){function t(t){this.Tet=void 0,this.Eet=void 0,this.Tet=0,this.Eet=t}var i=t.prototype;return i.Ret=function(){return this.Tet<this.Eet.length},i.Iet=function(){return this.Tet},i.Zrt=function(){if(!this.Ret())throw new Co(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Eet[this.Tet++]},i.Dk=function(t){if(this.Tet+t>this.Eet.length)throw new Co(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Tet+=t},t}(),yL=function(){function t(){this.Net=void 0,this.Cet=void 0,this.Det=void 0,this.Oet=void 0,this.xet=void 0,this.Pet=void 0,this.Bet=void 0,this.Let=void 0,this.Met=!1,this.Net=[],this.Cet=[],this.Det=new gL,this.Oet=0,this.xet=me({CC1:new KB(0,0),CC2:new KB(0,1),CC3:new KB(1,0),CC4:new KB(1,1)}),this.Pet=0,this.Bet=0,this.Let=ye(),this.Il()}var i=t.prototype;return i.rh=function(){this.Oet=0,this.Net=[],this.Cet=[],this.Det.rh(),this.Il(),this.Let.forEach(function(t){t.rh()})},i.Il=function(){this.Pet=0,this.Bet=0,this.xet.forEach(function(t){t.Il()})},i.R3=function(t,n){if(t.uG){var i=t.hG,r=t.aG,e=t.Ku;e===mN.Cq||e===mN.Dq?this.Net.push({t6:n,Ku:e,trt:i,Uit:r,Uet:this.Net.length}):this.Met&&(this.Cet.push({t6:n,Ku:e,fs:i,Uet:this.Cet.length}),this.Cet.push({t6:n,Ku:mN.Oq,fs:r,Uet:this.Cet.length}))}},i.nC=function(){var t=[];je(this.Net,function(t,n){return t.t6-n.t6||t.Uet-n.Uet}),je(this.Cet,function(t,n){return t.t6-n.t6||t.Uet-n.Uet});for(var n=0,i=this.Net;n<i.length;n++){var r=i[n],e=this.Fet(r);e&&t.push(e)}for(var s=0,u=this.Cet;s<u.length;s++){var o=u[s];this.Det.pet(o)}for(var h=this.Det.Aet(),a=0;a<h.length;a++){var c=h[a],f=this.Het(c);t.push.apply(t,f)}return this.Det.bet(),this.Net=[],this.Cet=[],t},i.Fet=function(t){var n=t.Ku;if(KB.hrt(t.trt)){var i=t.trt>>3&1;0===n?this.Pet=i:this.Bet=i}var r="CC"+(n<<1|(n?this.Bet:this.Pet)+1),e=this.xet.get(r);return 255===t.trt&&255===t.Uit||!t.trt&&!t.Uit||!this.Vet(t.trt)||!this.Vet(t.Uit)?(++this.Oet>=45&&this.Il(),null):(this.Oet=0,t.trt&=127,t.Uit&=127,t.trt||t.Uit?KB.hrt(t.trt)?e.Kit(t):e.Jit(t.t6,t.trt,t.Uit):null)},i.Het=function(t){var i=[];try{for(;t.Ret();){var r=t.Zrt().fs,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.Zrt().fs;if(0!==e){if(!this.Let.has(e)){var u=new hL(e);this.Let.set(e,u)}for(var o=this.Let.get(e),h=t.Iet();t.Iet()-h<s;){var a=o.Yrt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Co&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Vet=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),mL=function(t){function n(n){var i;return(i=t.call(this)||this).CJ=void 0,i.Xet=[],i.CJ=n,i}U(n,t);var i=n.prototype;return i.Wet=function(t,n,i){var r=this.qet(t),e=this.zet(r);this.Get(e,n,i),this.nC()},i.qet=function(t){if(0===t.length)return[];for(var n=t[0].l6,i=this.jet(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s.l6&&(n=s.l6,i=this.jet(s)),r.push(_e({},s,{Gnt:s.f2.cg(i)}))}return r},i.jet=function(t){var n=this.CJ.B1(t.l6,t.f2),i=n.ag(t.f2);return xg(n,t.f2).ag(i)},i.zet=function(t){var n,i,r,e,s,u=t.slice().sort(VB),o=this.Xet;if(o.length)if(u.length){var h=1/u[0].l6.NJ,a=u[0].Gnt,c=o[0].Gnt,f=o[o.length-1].Gnt,v=(e=o[0].l6,s=u[0].l6,e.WZ===s.WZ);if(f.ag(a).sg(E_.iw(2.5*h))&&v)n=o.concat(u).sort(VB);else if(a.tg(c)){for(var d=0;d<o.length&&o[d].Gnt.sg(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i.f2.eg(r.f2)&&i.Ku===r.Ku&&i.hG===r.aG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(VB):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Il())}else n=u,this.Il()}else n=o;else n=u;return n},i.Get=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.ag(r.Gnt),s=xg(n,r.Gnt).ag(e),u=n.cg(s),o=HB.Zg(u.zg),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.ag(a.Gnt).sg(o))return void(this.Xet=t.slice(h));var c=this.CJ.B1(a.l6,a.f2);this.sG(a,c.Z_())}this.Xet=[]}},L(n,[{key:"Yp",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).Qet=void 0,n.Qet=new yL,n}U(n,t);var i=n.prototype;return i.sG=function(t,n){this.Qet.R3(t,n)},i.nC=function(){for(var t=this.Qet.nC(),n=0;n<t.length;n++){var i=t[n];this.Do(new JN(i.Rz,i.zy))}},i.Il=function(){this.Qet.rh()},i.Pv=function(){this.Bo(),this.Qet.rh()},n}(Ss)),kL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).Yet=!1,f.Zet=!1,f.U4=void 0,f.hK=void 0,f.Jet=void 0,f.gnt=void 0,f.$et=void 0,f.k7=void 0,f.Vh=void 0,f.cb=void 0,f.Ket=void 0,f.tst=!1,f.nst=void 0,f.ist=void 0,f.rst=!1,f.est=!1,f.sst=null,f.II=void 0,f.VJ=void 0,f.ust=void 0,f.ost=null,f.jy=-1,f.hst=null,f.ast=!1,f.cst=!1,f.fst=1/0,f.vst=void 0,f.dst=null,f.lst=0,f._st=void 0,f.Co=function(t){f.dispatchEvent(t)},f.gst=function(){!f.tst&&!f.rst&&f.wst&&f.Yet&&(f.rst=f.yst("pZ",f.nst,function(){f.rst=!1}))},f.mst=function(){!f.tst&&!f.est&&f.kst&&f.Zet&&(f.est=f.yst("AZ",f.ist,function(){f.est=!1}))},f.pst=function(t){return f.Ast()},f.bst=function(t){if(t.Ap===f.Ap){var n=t.l6,i=n.o3;i.K1&&f.Tst(i.K1,n.info),i.o2&&f.Est(i.o2,n.info),f.Ast(f.U4.z4,!0)}},f.D$=function(t){var n=t;f.Sst(n.RJ,n.WZ)},f.Rst=function(t){if(1===t.Rz){if(f.ost)for(var n=0;n<f.ost.Yp;n++){var i="CC"+(n+1);f.hK.s$(i,t.zy.Gy,t.zy.jy)}f.hK.e$(t.zy)}},f.II=a,f.hK=i,f.Jet=r,f.gnt=e,f.$et=s,f.k7=u,f.Vh=o,f.U4=c,f.cb=new yB(o),f.Ket=f.Ist(i),e.El(n,f.cb,f.k7),f.nst=new uB(u,f.cb),f.ist=new uB(u,f.cb),f.ost=f.Nst(f.cb),f._st=new LB(n,f.cb,f.Ket,e),e.addEventListener("d6",f.bst),f.cb.addEventListener("Go",f.Co),i.addEventListener("y$",f.D$),f}U(n,t);var i=n.prototype;return i.yst=function(t,n,i){var r=this,e=this.k7.Q4,s=5*this.k7.V_,u=this.Cst(),o="audio"===this.Ap?[this.Dst]:this.Ket.mZ,h=n.L7(),a=h[0],c=h[1],f=this.gnt.F6(this.Ap,t,this.cb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.S6?(this.k7.Ost("pZ"===t,"AZ"===t),!1):!(!f||!f.length)&&(this.$et.T9(this.Ap,this.hK,f,f.R6,f.B6,f.S6,function(t,e){if(i(),t)r.dispatchEvent({type:"Go",Go:t});else{var s=e;n.R7(s).then(function(){return r.dispatchEvent("wK")}).catch(function(t){0})}}),!0)},i.xst=function(){this.$et.bo(this.Ap),this.rst=!1,this.est=!1},i.Pst=function(){var t=this.k7.Q4,n=this.nst.O7(t)||this.ist.O7(t);!n||this.sst&&this.sst.KQ===n.KQ||(this.Ast(this.U4.z4),this.sst=n,this.dispatchEvent({type:"Bst",gb:this.sst.fh.h3}))},i.Lst=function(){this.Mst()},i.Ust=function(){this.Lst()},i.Fst=function(){this.Ast(this.U4.z4)},i.Hst=function(t,n){this.nst.O7(t)||this.ist.O7(t)||(this.sst=null)},i.Vst=function(t){var n=!1;this.nst.B7().Iy(t)||(this.gst(),n=!0),this.ist.B7().Iy(t)||(this.mst(),n=!0),n&&this.Ast(this.U4.z4,!0)},i.Xst=function(){this.nst.rh()},i.Wst=function(){this.ist.rh()},i.Cst=function(){return 0===this.nst.Cl+this.ist.Cl?0:"p6"===this.Vh.A6?0:1*this.gnt.G4},i.Mst=function(){this.gst(),this.mst()},i.rK=function(t){return-1!==this.Ket.mZ.indexOf(t)},i.qst=function(t){t&&this.rK(t)&&(this.xJ(t),this.g$(t))},i.xJ=function(t){this.cb.Ntt(t,t.pY)},i.g$=function(t){var n=this;if(t&&t.pY&&this.Vh.hlsDateRange){this.hK.g$(t.pY.dateRanges,function(i){return n.cb.Vtt(t,i).Z_()})}},i.zst=function(t){this.rK(t.WZ)&&this.cb.itt(t.WZ,t)},i.Gst=function(t){var n,i,r,e=t,s=this.nst.O7(e)||this.ist.O7(e);if(s)i=s.fh.quality,r=s.KQ,n=s.NR;else{var u=this.Dst;if(!u)return null;var o=this.cb.x6(u,E_.iw(e));if(!o)return null;i=u,r=o.Cp.KQ,n=o.Htt.Z_()}var h=this.cb.Ftt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Vtt=function(t){var n=this.Dst;return this.cb.Vtt(n,t).Z_()},i.Ast=function(t,n){var i=this,r=this.jst(),e=this.k7.Q4;t&&(this.jy=e+t,n&&(this.dst=null,this.lst=0)),this.jst()||e>=this.jy?this.Qst(r):this.hst||this.ast||!this.Fl||(this.Yst(),this.Zst(function(t){return i.Jst(e,i.k7.V_,t)}))},i.$st=function(t){t&&this.Jet.removeEventListener(t.uri,this.pst)},i.Kst=function(t){t&&this.Jet.addEventListener(t.uri,this.pst)},i.jst=function(){return-1===this.jy},n.tut=function(t){return KC.pw(t.WZ.iJ)&&Ub()-t.fp>2e3*t.WZ.pY.metadata.l8},i.Zst=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.hst=new os,r=this.hst,t.prev=3,t.next=6,n(r.So);case 6:i=t.sent,cs(r.So),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),vs(t.t0);case 13:return t.prev=13,this.hst===r&&(this.hst=null),t.finish(13);case 16:i&&this.Ast();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Yst=function(){this.hst&&(this.hst.bo(),this.hst=null)},i.nut=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.iut=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!SL.tut(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("rut"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.lst)),this.lst+=1,this.Yst(),!(this.lst>2)){t.next=8;break}return n.WZ.zZ(!1),t.abrupt("return",n.WZ.YZ());case 8:this.Zst(function(t){return ps(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Tst=function(t,n){var i,r;r=yD((i=t).n2,4),i.r$="0000.0000.0000."+r,function(t){var n=yD(t.i2,4),i=yD(t.e2,3),r=yD(t.s2,2*t.e2);t.Jl=(n+i+r).toUpperCase()}(t),oB(n,this.cb,t),this.hK.i$(t,this.cb)},i.Est=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(_e({},e,{l6:n}))}this.ost&&this.ost.Wet(i,n.I4,n.d3)},i.eut=function(t){this.vst&&this.vst.l6===t&&this.Ast()},i.sut=function(t,n){if(n){if(n.aborted)return;if(this.dst===t)return this.iut(t)}else t.WZ.zZ(!0);return this.Ast()},i.uut=function(t){var n=hD(t.WZ.RJ);n&&this.dispatchEvent(new UB(nD(t.uri),t.WZ.bandwidth||0,t.KQ,t.WZ.KQ,n))},i.out=function(t,n){var i=this.vst&&this.vst.hv.I0||200,r=hD(t.WZ.RJ);r&&this.dispatchEvent(new FB(nD(t.uri),t.WZ.bandwidth||0,t.KQ,t.WZ.KQ,r,i,n&&n.R0.z0||0))},i.Qst=function(t){this.jy=-1,t||this.dispatchEvent("hut")},i.aut=function(t){this.cst=!0,this.Qst(t),this.dispatchEvent("PK")},i.Jst=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(r),e=this.Dst,s=this.jst(),this.$st(e||void 0),!(n>=this.jy)){t.next=7;break}return this.Qst(s),t.abrupt("return",!1);case 7:return t.next=9,this._st.Xnt(n,this.jy,i,e||void 0,this.Cst(),this.vst&&this.vst.hv,this.vst&&this.vst.l6,this.cut,this.fut);case 9:if(u=t.sent,hl.v_(this.gnt.I5/8),cs(r),u.Xl!==bB.lnt){t.next=18;break}return this.Yst(),this.dispatchEvent("rut"),t.abrupt("return",!1);case 18:if(u.Xl!==bB.dnt){t.next=29;break}if(u.WZ!==e){t.next=24;break}return this.Kst(e),t.abrupt("return",!1);case 24:return t.next=26,this.nut(u.WZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.Xl!==bB.h9){t.next=33;break}return this.Kst(e||void 0),!KC.pw(e.iJ)&&e.pY&&this.aut(s),t.abrupt("return",!1);case 33:if(o=u.Cp,!this.vst||this.vst.l6!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.WZ===e){t.next=40;break}return t.next=39,this.nut(o.WZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.vst&&(this.vst.hv.bo(),this.vst=void 0),!(u.Gy>this.fst)){t.next=46;break}return this.aut(s),t.abrupt("return",!1);case 46:if(!(u.Gy>this.jy)){t.next=49;break}return this.Qst(s),t.abrupt("return",!1);case 49:if(this.cst=!1,this.vst=void 0,o!==this.dst&&(this.lst=0),this.dst=o,this.dispatchEvent("xK"),this.uut(o),!o.a8){t.next=59;break}return t.next=58,this.gnt.c6(this.Ap,String(o.WZ.Hl),o.a8);case 58:h=t.sent;case 59:return(a=this.gnt.v6(this.Ap,o,h,function(t,n){c.Yst(),c.out(o,n),c.vst=void 0,r&&r.fo||c.sut(o,t)}))&&(this.vst={l6:o,hv:a},a.addEventListener("wK",function(){r&&r.fo||c.eut(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vut=function(t){this.Ast(t||this.U4.z4,!0)},i.dut=function(){var t=this.jst();this.jy=-1,this.vst&&this.vst.hv.bo(),this.vst=void 0,this.$st(),this.cst=!1,this.dst=null,this.lst=0,this.Yst(),this.Qst(t),this.ost=this.Nst(this.cb)},i.lut=function(){this.ast=!0,this.$st(),this.Yst()},i._ut=function(){this.ast=!1,this.Ast()},i.gut=function(){this.tst=!0},i.wut=function(){this.tst=!1,this.Mst()},i.Pv=function(){this.Bo(),this.dut(),this.xst(),this.wst=null,this.kst=null,this.nst.Pv(),this.ist.Pv(),this.$et.bo(this.Ap),this.cb.Pv(),this.hK.removeEventListener("y$",this.D$),this.gnt.removeEventListener("d6",this.bst),this.Ket=null,this.yut()},i.Il=function(){this.sst=null,this.VJ=void 0,this.ust=void 0,this.yut(),this.ost=this.Nst(this.cb)},i.Nst=function(t){var n=new mL(t);return n.Oo("Iz",this.Rst),n},i.yut=function(){this.ost&&(this.ost.Lo("Iz",this.Rst),this.ost.Pv(),this.ost=null)},L(n,[{key:"B_",get:function(){return this.k7.Q4}},{key:"mut",get:function(){return this.Yet}},{key:"Ap",get:function(){return this.kut()}},{key:"eJ",get:function(){return this.Aut()}},{key:"cut",get:function(){return this.but()}},{key:"fut",get:function(){return this.Tut()}},{key:"wst",get:function(){return this.nst.D7},set:function(t){var n=this.nst.D7;n&&n.removeEventListener("updateend",this.gst),this.nst.D7=t,t&&(t.addEventListener("updateend",this.gst),this.gst())}},{key:"kst",get:function(){return this.ist.D7},set:function(t){var n=this.ist.D7;n&&n.removeEventListener("updateend",this.mst),this.ist.D7=t,t&&(t.addEventListener("updateend",this.mst),this.mst())}},{key:"hut",get:function(){return this.jst()}},{key:"PK",get:function(){return this.cst}},{key:"Eut",get:function(){return this.fst},set:function(t){this.fst=t}},{key:"Dst",get:function(){return this.Sut()}},{key:"Rut",get:function(){return this.Iut()},set:function(t){this.Nut(t)}},{key:"Fl",get:function(){return this.iM()}},{key:"by",get:function(){return this.Cut()}}]),n}(xC);function pL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function AL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){pL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function bL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var TL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).hK=void 0,o.cb=void 0,o.gnt=void 0,o.Vh=void 0,o.Dut=void 0,o.Out=void 0,o.xut=null,o.Put=null,o.But=null,o.Lut=null,o.Mut=null,o.Uut=null,o.Fut=null,o.Hut=!1,o.xy=!0,o.DZ=!0,o.Vut=null,o.II=void 0,o.Xut=function(){o.Vut&&o.Vut.disabled&&o.Wut(o.Vh.initialRendition||"default"),o.qut(!0)},o.zut=function(){var t=o.hK.E$.kZ.some(function(t){return t.by});o.Gut(t)},o.jut=function(t){"variant"===t.Ap&&(o.gnt.removeEventListener("m6",o.jut),o.Vut&&(o.Vut=null,o.qut(!1)))},o.II=u,o.hK=n,o.cb=i,o.gnt=r,o.Vh=e,o.Dut=e.Qut||[],o.Out=new JP(e,jD.je.i0,s),o.xut=null,o.gnt.addEventListener("m6",o.jut),o.Yut(),o.Zut(),o.Wut(e.initialRendition||"default"),o}U(n,t);var i=n.prototype;return i.Jut=function(t,n){var i=sD(t);if(i&&!i.disabled)return i;var r=this.$ut(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.KQ<=n.KQ?t:n});case"high":var e=AL(r);return e[e.length-1];case"low":default:return AL(t)[0]}},i.Kut=function(t,n){var i=this.tot||this.Vut&&[this.Vut],r=i&&i.filter(function(n){return ns(t,n)});return r&&r.length>0?AL(r):AL(this.$ut(t,n))},i.$ut=function(t,n){var i=this.Vh,r=this.Dut,e=this.iot();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].rot(t,n,e,i))return!1}return!0})},i.eot=function(t,n){var i=this.Kut(t,n);return i.length?i[i.length-1]:t[0]},i.sot=function(t,n){var i=this.tot;return i&&i.length>0?i.filter(function(n){return ns(t,n)}):t},i.uot=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Lut,e=this.Mut,!r||n!==this.Uut||i!==this.Fut){t.next=4;break}return t.abrupt("return",r);case 4:return s=new os,u=this.oot(n,i,s.So),r&&e&&e.bo(),this.Lut=u,this.Mut=s,this.Fut=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Lut&&(this.Lut=null,this.Mut=null,this.Fut=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.oot=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.hK,s=this.cb,u=e.T$,t.next=5,this.hot(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.unt(u,i.KQ),h=s.x6(n,o),KC.pw(u.iJ)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.hot=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Put,e=this.But,!r||n!==this.Uut){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new os).To(i),u=this.aot(n,s.So),r&&e&&e.bo(),this.Put=u,this.But=s,this.Uut=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Put&&(this.Put=null,this.But=null,this.Uut=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aot=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.hK,e=r.T$,!this.Fl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.cot(n)){t.next=8;break}s=n.pY,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Out.Dh(n.uri,{});case 11:u=t.sent,cs(i),s=u.Ew,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.VZ(!1),n.YZ(),t.abrupt("return",!1);case 21:n.MZ(s,e);case 22:if(!bL(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.cot=function(t){var n=t.pY;return!n||!!n.live&&(!t.mY.Cl||t.mY.rY(t.mY.Cl-1).fp+1e3*n.targetDuration<Ub())},i.By=function(t){t?this.xy||(this.xy=!0,this.dispatchEvent("Fl")):this.xy&&(this.xy=!1)},i.Gut=function(t){t&&!this.DZ?(this.DZ=!0,this.dispatchEvent("by")):!t&&this.DZ&&(this.DZ=!1,this.dispatchEvent("Hv"))},i.qut=function(t){var n=this,i=this.hK,r=i.T$,e=i.E$.kZ,s=this.sot(e,r),u=this.eot(s,r);u?this.uot(u,null).then(function(r){r&&(i.u$(u,t),n.By(!0))}):this.By(!1)},i.fot=function(){this.Vut=null,this.qut(!0)},i.Zut=function(){this.hK.E$.addEventListener("gZ",this.zut)},i.vot=function(){this.hK.E$.removeEventListener("gZ",this.zut)},i.Yut=function(){this.hK.E$.addEventListener("lZ",this.Xut)},i.dot=function(){this.hK.E$.removeEventListener("lZ",this.Xut)},i.Wut=function(t){var n=this.hK,i=n.E$.kZ;if(Boolean(n.T$&&!n.T$.disabled))this.Vut=null;else{if(i&&i.length){var r;switch(this.II.ix.type){case LT.PERFORMANCE:r="low";break;case LT.QUALITY:r="high";break;case LT.BANDWIDTH:r=t}this.Vut=this.Jut(i,r),this.Hut=!0}var e=this.sot(i,null),s=this.eot(e,null);s&&(n.T$=s)}},i.iot=function(){return this.Hut?{I5:this.gnt.I5}:{I5:this.II.gx}},i.bo=function(){this.Lut&&this.Mut&&(this.Mut.bo(),this.Lut=null,this.Mut=null,this.Fut=null),this.Put&&this.But&&(this.But.bo(),this.Put=null,this.But=null,this.Uut=null)},i.Pv=function(){this.gnt.removeEventListener("m6",this.jut),this.dot(),this.vot(),this.bo(),this.xut=null,this.Vut=null},i.lot=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.hK,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.uot(n,i);case 5:return(e=t.sent)&&(r.T$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"Fl",get:function(){return this.xy}},{key:"by",get:function(){return this.DZ}},{key:"fut",get:function(){var t=this.hK,n=t.T$,i=this.sot(t.E$.kZ,n);return this.Kut(i,n)}},{key:"cut",get:function(){return this.sot(this.hK.E$.kZ,this.hK.T$)}},{key:"tot",get:function(){return this.xut},set:function(t){this.xut=t,this.fot()}}]),n}(xC),EL=function(){function t(t,n){this.Kd=void 0,this.cb=void 0,this._ot=-1,this.Kd=t,this.cb=n}return t.prototype.xh=function(t){for(var n=t.mY,i=n.iY(this._ot),r=i<0?0:i+1;r<n.Cl;r++){var e=n.rY(r);if(e.KQ>this._ot){var s=this.cb.C1(e),u=this.cb.D1(e,s),o=new gg(s.Z_(),u.Z_(),[].concat(e.JZ),!1,e.KQ.toString());this.Kd.Mb(o),this._ot=e.KQ}}},t}(),SL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,JC.uZ,n,i,r,e,s,u,o,h,a)||this).got=void 0,c.wot=null,c.yot=null,c.got=new TL(n,c.cb,r,u,o,h),c.got.addEventListener("Fl",c.Co),c.got.addEventListener("by",c.Co),c.got.addEventListener("Hv",c.Co),u.manifestMetadataTrack&&(c.wot=n.n$("",c.cb,""),c.yot=new EL(c.wot,c.cb)),c.Yet=!c.hK.d$||!c.hK.d$.uri,c.Zet=Boolean(c.hK.T$),c}U(n,t);var i=n.prototype;return i.Sst=function(t,n){if("pZ"===t){var i=n?n.uri:void 0;this.Yet=!i}},i.kut=function(){return JC.uZ},i.Aut=function(){return this.Dst&&this.Dst.eJ||!1},i.Sut=function(){return this.hK.T$},i.but=function(){return this.got.cut},i.Tut=function(){return this.got.fut},i.Iut=function(){var t=this.got.tot;return t&&t.map(function(t){return t.Hl})},i.Nut=function(t){if(t&&t.length>0){var n=this.Ket.mZ.filter(function(n){return-1!==t.indexOf(n.Hl)});if(!(n.length>0))return void 0;this.got.tot=n}else this.got.tot=null},i.iM=function(){return this.got.Fl},i.Cut=function(){return this.got.by},i.nut=function(){var n=T.coroutine(le.mark(function n(i,r){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.got.lot(i,r);case 2:return n.abrupt("return",t.prototype.nut.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.dut=function(){t.prototype.dut.call(this),this.got.bo()},i.xJ=function(n){t.prototype.xJ.call(this,n),this.yot&&this.yot.xh(n)},i.Pv=function(){t.prototype.Pv.call(this),this.got.Pv(),this.got.removeEventListener("by",this.Co),this.got.removeEventListener("Hv",this.Co)},i.Ist=function(t){return t.E$},i.mot=function(){var t=this.B_,n=this.mut?this.nst.x7(t):void 0,i=n?n.WZ:void 0,r=this.ist.x7(t),e=r?r.WZ:void 0,s=this.VJ;this.VJ=i;var u=this.ust;return this.ust=e,!s&&i?{m$:s,kot:i}:!u&&e?{m$:u,kot:e}:u&&e&&u.Hl!==e.Hl?{m$:u,kot:e}:void 0},n}(kL),RL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,JC.Tv,n,i,r,e,s,u,o,h,a)||this).Yet=!!c.hK.d$&&!!c.hK.d$.uri,c.Zet=!1,c}U(n,t);var i=n.prototype;return i.Sst=function(t,n){if("pZ"===t){var i=n?n.uri:void 0;this.Yet=!!i}},i.kut=function(){return JC.Tv},i.Aut=function(){return this.Dst&&this.Dst.eJ||!1},i.Sut=function(){return this.hK.d$},i.but=function(){var t=this.Sut();return t?[t]:[]},i.Tut=function(){return this.but()},i.Ist=function(t){return t.AJ},i.Iut=function(){return null},i.Nut=function(t){},i.iM=function(){return!0},i.Cut=function(){return!0},i.mot=function(){var t=this.mut?this.nst.x7(this.B_):void 0,n=t?t.WZ:void 0,i=this.VJ;return this.VJ=n||void 0,!i&&n?{m$:i,kot:n}:i&&n&&i.Hl!==n.Hl?{m$:i,kot:n}:void 0},n}(kL),IL=function(){function t(t,n,i,r,e,s){var u=this;this.pot=!1,this.vY=void 0,this.Aot=void 0,this.X4=void 0,this.bot=void 0,this.U4=void 0,this.Tot=Yp._I(),this.Eot=[],this.Sot=void 0,this.Rot=[],this.OJ=function(){return u.Iot()},this.Not=function(t){t.Ew.live||u.Aot.removeEventListener(u.vY.zY,u.Not),u.vY.MZ(t.Ew)},this.Cot=function(){u.vY.BJ.$l===Qd.jl?u.pot&&u.Dot():u.pot||u.Oot()},this.vY=t,this.Aot=n,this.X4=i,this.U4=s,this.bot=new tO(r,e),this.Sot=new os,t.BJ.Oo(md.vl,this.Cot),t.cb&&t.cb.addEventListener("LJ",this.OJ),this.Cot()}var n=t.prototype;return n.Oot=function(){this.pot||this.vY.BJ.$l===Qd.jl||(this.Aot.removeEventListener(this.vY.zY,this.Not),this.Aot.addEventListener(this.vY.zY,this.Not),this.Aot.e7(this.vY.zY),this.Aot.s7(this.vY.zY),this.pot=!0,ys(this.xot(this.Sot.So)))},n.xot=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.X4.Q4,r=this.U4.z4,e=new Yp([i,i+r]),(s=e.zR(this.Tot.GR())).Cl){t.next=16;break}return t.prev=6,t.next=9,ps(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),vs(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.xot(n));case 16:if(u=s.NR(0),o=this.Pot(u)){t.next=30;break}return h=this.vY,t.prev=20,t.next=23,dd(h,"XZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),vs(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.xot(n));case 30:a=o.Cp,c=o.Htt.Z_(),f=c+a.duration,this.bot.Dh("BJ",a.uri,Jo.Je,function(){var t=T.coroutine(le.mark(function t(i,r){var e,s,u,o,h,d;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw ps(1e3,n).then(function(){return v.xot(n)}),i;case 3:for(v.Tot=v.Tot.JR(new Yp([c,f])),v.Eot.push(a.KQ),e=Yg(r.jv),s=e.Sm||{Rm:E_.mg,Im:E_.mg},u=v.vY.mY.eY(a.KQ),o=0,h=e.t_;o<h.length;o++)d=h[o],v.Rot.push({l6:u,Htt:NL(E_.iw(d.Gy),s.Im,s.Rm),Bot:NL(E_.iw(d.jy),s.Im,s.Rm),zy:d});return v.Iot(),t.next=12,v.xot(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Iot=function(){var t=this.vY.cb;if(this.Rot.length&&t){for(var n=[],i=0,r=this.Rot;i<r.length;i++){var e=r[i],s=t.B1(e.l6,e.Htt);if(s.fg())n.push(e);else{var u=t.B1(e.l6,e.Bot),o=new yg(s.Z_(),u.Z_(),e.zy.Qy,!1,e.zy.Hl);this.vY.BJ.Mb(o)}}this.Rot=n,this.vY.BJ.EF(this.X4.Q4,!0)}},n.Pot=function(t){var n=this.vY.cb,i=this.vY.mY;if(n.Ptt)for(var r=n.qtt.Z_(),e=i.Cl-1;e>=0;e-=1){var s=i.rY(e),u=r-s.duration;if(new Yp([u,r]).zS(t,.5)){var o={Cp:s,Htt:E_.iw(u)};return this.Lot(i,o,e)}r=u}else for(var h=0,a=0;a<i.Cl;a+=1){var c=i.rY(a),f=h+c.duration;if(new Yp([h,f]).zS(t,.5)){var v={Cp:c,Htt:E_.iw(h)};return this.Lot(i,v,a)}h=f}},n.Lot=function(t,n,i){var r=n.Cp;if(-1===this.Eot.indexOf(r.KQ))return n;for(var e=n.Htt.Z_()+r.duration,s=i+1;s<t.Cl;s+=1){var u=t.rY(s);if(-1===this.Eot.indexOf(u.KQ))return{Cp:u,Htt:E_.iw(e)};e+=u.duration}},n.Dot=function(){this.pot=!1,this.Aot.r7(this.vY.zY),this.Sot.bo(),this.Sot=new os},n.Il=function(){this.Dot(),this.Tot=Yp._I(),this.Eot.length=0,this.vY.BJ.Lo(md.vl,this.Cot),this.vY.cb&&this.vY.cb.removeEventListener("LJ",this.OJ),this.Aot.removeEventListener(this.vY.zY,this.Not)},t}();function NL(t,n,i){return Og(i,t.ag(n))}var CL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Vh=void 0,s.TK=void 0,s.gnt=void 0,s.$et=void 0,s.hK=void 0,s.Jet=void 0,s.Mot=void 0,s.Uot=NaN,s.Fot=!1,s.Hot=1/0,s.Vot=1/0,s.Xot=null,s.Wot=!0,s.qot=!0,s.k7=null,s.Ob=void 0,s.II=void 0,s.zot=void 0,s.Got=void 0,s.jot=[],s.MU=function(){var t=s.hK.L_;w(t)||s.Uot===t||(s.Uot=t,s.dispatchEvent("durationchange"))},s.Qot=function(){s.gK&&(s.hK.removeEventListener("renditionUpdated",s.Qot),s.dispatchEvent("gK"))},s.Yot=function(){s.hut&&s.dispatchEvent("hut")},s.Zot=function(){s.PK&&s.dispatchEvent("PK")},s.Co=function(t){s.dispatchEvent(t)},s.Jot=function(t){var n=s.hK.h$(t.t7);n?n instanceof vD&&(n.VZ(!1),n.YZ()):s.dispatchEvent(t)},s.$ot=function(t){s.hK.Ew||(t.Go.code===BC.FQ?(s.Xot||(s.Xot=o(s.Kot,jy)),s.qot=!1,s.qZ()):s.dispatchEvent({type:"Go",Go:t.Go}))},s.tht=function(t){s.nht(),s.iht(t.Ew),s.rht(),s.hK.removeEventListener("f$",s.MU),s.hK.addEventListener("f$",s.MU),s.MU(),s.Fot||(s.Fot=!0,s.dispatchEvent("loadedmetadata")),s.Qot(),s.qot=!0,s.qZ()},s.Kot=function(){s.nht();var t=s.BK;t&&(s.Jet.Il(),s.Jet.BK=t,s.Jet.NR())},s.eht=function(){s.Jet.u7()},s.sht=function(){s.uht.forEach(function(t){return t.wut()})},s.oht=function(t){s.hht.forEach(function(n){return n.qst(t.WZ)})},s.aht=function(t){s.uht.forEach(function(n){return n.zst(t._4)}),s.Mot.l7(t._4,s.uht.map(function(t){return t.cb}))},s.qZ=function(){var t=s.Wot,n=s.Cut();s.Wot=n,n&&!t?s.dispatchEvent("by"):!n&&t&&s.dispatchEvent("Hv")},s.II=e,s.Vh=n,s.TK=i,s.Ob=r,s.gnt=new Yx(n,i,r,en(s)),s.$et=new DP(n),s.hK=new lD(n),s.Jet=new KP(r,n),s.Mot=new tB,s.Jet.addEventListener("Go",s.Jot),s.Jet.addEventListener("K8",s.$ot),s.Jet.addEventListener("n7",s.tht),s.gnt.addEventListener("d6",s.Co),s.gnt.addEventListener("Go",s.Co),s.hK.addEventListener("y$",s.Co),s.hK.addEventListener("XZ",s.oht),s.hK.addEventListener("FJ",s.aht),s.hK.addEventListener("k$",s.Co),s.Mot.addEventListener("a7",s.Co),s.Mot.addEventListener("a7",s.sht),s.addEventListener("by",s.eht),s}U(n,t);var i=n.prototype;return i.cht=function(t){t.Eut=this.Eut,t.addEventListener("Bst",this.Co),t.addEventListener("fht",this.Co),t.addEventListener("Go",this.Co),t.addEventListener("rut",this.Co),t.addEventListener("xK",this.Co),t.addEventListener("hut",this.Yot),t.addEventListener("PK",this.Zot),t.addEventListener("Hv",this.qZ),t.addEventListener("by",this.qZ),t.addEventListener("Fl",this.Co),t.addEventListener("wK",this.Co),t.addEventListener(Zo.lc,this.Co),t.addEventListener(Zo.gc,this.Co)},i.rht=function(){this.vht();this.hK.E$.mZ;var t=this.hK.AJ.mZ;this.zot=new SL(this.hK,this.Jet,this.gnt,this.$et,this.k7,this.Vh,this.Ob,this.II,this),this.cht(this.zot),t.length&&(this.Got=new RL(this.hK,this.Jet,this.gnt,this.$et,this.k7,this.Vh,this.Ob,this.II,this),this.cht(this.Got));for(var n=this.hK.S$,i=this.zot.cb,r=0;r<n.length;r++){var e=n[r];e.cb=i,this.jot.push(new IL(e,this.Jet,this.k7,this.Ob,this.Vh,this))}},i.vht=function(){this.zot&&(this.zot.Pv(),this.zot=void 0),this.Got&&(this.Got.Pv(),this.Got=void 0),this.jot.forEach(function(t){return t.Il()}),this.jot.length=0,this.Mot.Il()},i.dht=function(t){this.uht.forEach(function(n){return n.vut(t)})},i.iht=function(t){this.hK.Ew=t},i._ht=function(){this.Jet.NR()},i.ght=function(t){this.Mot._7(t,this.uht.map(function(t){return t.cb}))||this.uht.forEach(function(t){t.xst(),t.gut()})},i.Dot=function(){this.gnt.a6(),this.uht.forEach(function(t){return t.dut()})},i.HK=function(){this.gnt.a6(),this.uht.forEach(function(t){return t.lut()})},i.MK=function(){this.uht.forEach(function(t){return t._ut()})},i.Pv=function(){this.Bo(),this.nht(),this.vht(),this.gnt.Pv(),this.$et.Pv(),this.hK.Pv(),this.Jet.Il(),this.Mot.Pv()},i.wht=function(t,n,i,r){var e=this.zot,s=this.Got;t&&(e.dut(),this.gnt.rh(e.Ap),e.vut(r)),n&&s&&(s.dut(),this.gnt.rh(s.Ap),i&&s.vut(r))},i.yht=function(){if(!this.zot)return yO;var t=this.zot;return FO(t.cb,this.gnt.r5(t.Ap))},i.i7=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.Ew.live||r.Jet.removeEventListener(s,t),i&&i.MZ(n.Ew)};s&&(this.Jet.removeEventListener(s,u),this.Jet.addEventListener(s,u)),this.Jet.i7(e,s),this.Jet.s7(s)},i.nht=function(){null!==this.Xot&&h(this.Xot),this.Xot=null},i.Cut=function(){return!!this.qot&&(!this.zot||this.zot.by)},i.qK=function(t){this.zot&&(this.zot.Rut=t)},i.Il=function(){this.hht.forEach(function(t){return t.Il()}),this.jot.forEach(function(t){return t.Il()})},L(n,[{key:"mht",get:function(){return this.zot}},{key:"kht",get:function(){return this.Got}},{key:"uht",get:function(){var t=[];return this.zot&&t.push(this.zot),this.Got&&this.Got.mut&&t.push(this.Got),t}},{key:"hht",get:function(){return[this.zot,this.Got].filter(J)}},{key:"z4",get:function(){return qt(this.II.tx*this.gnt.G4,1,this.pht)}},{key:"BK",get:function(){return this.Jet.BK},set:function(t){this.Uot=NaN,this.Hot=1/0,this.Fot=!1,this.Wot=!0,this.qot=!0,this.hK.removeEventListener("renditionUpdated",this.Qot),this.hK.removeEventListener("f$",this.MU),this.nht(),this.vht(),this.gnt.rh(),this.$et.bo(),this.hK.Pv(),this.hK.addEventListener("renditionUpdated",this.Qot),this.Jet.BK=t,this.qZ()}},{key:"L_",get:function(){return this.Uot}},{key:"Ptt",get:function(){return this.hK&&KC.pw(this.hK.iJ)}},{key:"by",get:function(){return this.Wot}},{key:"gK",get:function(){var t=this.uht;return t.length>0&&t.every(function(t){return t.eJ})}},{key:"G4",get:function(){return this.gnt.G4},set:function(t){t>0&&(this.gnt.G4=t)}},{key:"hut",get:function(){return this.uht.every(function(t){return t.hut})}},{key:"PK",get:function(){return this.uht.length>0&&this.uht.every(function(t){return t.PK})}},{key:"pht",get:function(){return this.Vot},set:function(t){this.Vot=t}},{key:"Eut",get:function(){return this.Hot},set:function(t){var n=this;this.Hot=t,this.hht.forEach(function(t){return t.Eut=n.Hot})}},{key:"Sy",get:function(){return this.gK?new wO([{NR:this.Wtt,OR:this.qtt}]):yO}},{key:"Wtt",get:function(){if(!this.gK)return 0;for(var t=-1/0,n=0,i=this.uht;n<i.length;n++){var r=i[n];t=l.max(t,r.cb.Wtt.Z_())}return t}},{key:"qtt",get:function(){if(!this.gK)return 0;for(var t=1/0,n=0,i=this.uht;n<i.length;n++){var r=i[n];t=l.min(t,r.cb.qtt.Z_())}return t}},{key:"ztt",get:function(){if(!this.gK)return 0;for(var t=1/0,n=0,i=this.uht;n<i.length;n++){var r=i[n];t=l.min(t,r.cb.ztt.Z_())}return l.max(t,this.Wtt)}},{key:"WK",get:function(){return this.zot&&this.zot.Rut||void 0}}]),n}(xC),DL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vh=void 0,r.Uot=NaN,r.Fot=!1,r.hK=void 0,r.cb=void 0,r.Aht=void 0,r.Xot=null,r.Wot=!0,r.wot=null,r.yot=null,r.Co=function(t){r.dispatchEvent(t)},r.iht=function(t){if(r.hK.Ew||(r.hK.Ew=r.Aht.b$||null),!r.hK.T$){var n=r.hK.E$.mZ[0];n&&(r.hK.T$=n,r.Aht.Y8(n),r.dispatchEvent({type:"bht",WZ:n}))}t.manifest.isMasterPlaylist||r.hK.T$.MZ(t.manifest),void 0!==t.manifest.duration&&r.Uot!==t.manifest.duration&&(r.Uot=t.manifest.duration,r.dispatchEvent("durationchange")),r.Fot||(r.Fot=!0,r.dispatchEvent("loadedmetadata")),r.Gut(!0),r.dispatchEvent({type:"Q8",manifest:t.manifest})},r.$ot=function(t){t.Go.code===BC.FQ?(r.Xot||(r.Xot=o(r.Kot,jy)),r.Gut(!1)):r.dispatchEvent({type:"Go",Go:t.Go})},r.Kot=function(){r.nht();var t=r.BK;t&&r.Aht.NR(t)},r.nht=function(){h(r.Xot),r.Xot=null},r.oht=function(t){var n=t.WZ;r.cb.Ntt(n,n.pY),r.Vh.manifestMetadataTrack&&(r.yot||(r.wot=r.hK.n$("",r.cb,""),r.yot=new EL(r.wot,r.cb)),r.yot.xh(n))},r.Vh=n,r.hK=new lD(n,!0),r.cb=new mB(n),r.Aht=new $P(i,r.Vh),r.cb.addEventListener("Go",r.Co),r.Aht.addEventListener("Q8",r.iht),r.Aht.addEventListener("Go",function(t){r.hK.Ew?(r.Xot||(r.Xot=o(r.Kot,jy)),r.Gut(!1)):r.$ot(t)}),r.hK.addEventListener("XZ",r.oht),r}U(n,t);var i=n.prototype;return i._ht=function(){this.hK.Ew||this.Aht.NR()},i.yht=function(){return yO},i.Gut=function(t){var n=this.Wot;this.Wot=t,t&&!n?this.dispatchEvent("by"):!t&&n&&this.dispatchEvent("Hv")},i.Pv=function(){this.Bo(),this.nht(),this.hK.Pv(),this.Aht.Pv(),this.yot=null,this.cb.Pv()},i.HK=function(){},i.MK=function(){},i.dht=function(t){},i.qK=function(t){},L(n,[{key:"BK",get:function(){return this.Aht.BK},set:function(t){this.Uot=NaN,this.Fot=!1,this.nht(),this.hK.Pv(),this.yot=null,this.Aht.BK=t,this.Gut(!0)}},{key:"L_",get:function(){return this.Uot}},{key:"Ptt",get:function(){return this.hK&&KC.pw(this.hK.iJ)}},{key:"by",get:function(){return this.Wot}},{key:"PK",get:function(){return!1}},{key:"hut",get:function(){return!1}},{key:"WK",get:function(){return[]}}]),n}(xC),OL=1e3,xL="VEE3",PL=function(t){function n(n){var i;return(i=t.call(this,"Tht")||this).ptsOffset=n,i}return U(n,t),n}(Is),BL=function(t){function n(n){var i;return(i=t.call(this)||this).I$=void 0,i.Eht=null,i.Sht=0,i.Rht="start",i.Iht=1,i.Nht=!1,i.Cht=!1,i.Dht=0,i.Oht=null,i.xht=null,i.Pht=null,i.Bht=null,i.c7=0,i.Lht=0,i.Mht=new os,i.Uht=new Yu,i.Fht=void 0,i.Hht={},i.Vht=!1,i.Xht=null,i.Wht=NaN,i.Pst=function(){i.I$.uht.map(function(t){t.Pst()})},i.mot=function(){for(var t,n,r,e=0,s=i.I$.hht;e<s.length;e++){var u=s[e],o=u.mot();if(o){var h=o.kot;h&&h.RJ!==$C.Tv&&(i.Xht=h)}u.Ap===JC.Tv?t=o:u.Ap===JC.uZ&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"y$",qht:t&&t.m$,q$:t&&t.kot,Q$:n&&n.m$,W$:n&&n.kot,V$:!!r&&r.mut})},i.Lst=function(){null!==i.Oht&&h(i.Oht),i.Oht=o(i.Lst,OL),i.I$.uht.forEach(function(t){return t.Lst()})},i.Fst=function(){null!==i.xht&&h(i.xht),i.Nht&&(i.xht=o(i.Fst,OL),i.I$.uht.forEach(function(t){return t.Fst()}))},i.Ust=function(){i.I$.uht.forEach(function(t){return t.Ust()})},i.zht=function(){if(i.I$.Ptt&&i.V_>1){var t=i.I$.ztt;i.Ght>t&&(i.V_=1,i.Ght>=t+1&&(i.Ght="start"))}},i.jht=function(){i.Eht&&(0===i.Eht.Qht()?i.Ght="start":i.Ght=i.Yht(i.Q4))},i.Zht=function(){i.Dht=i.Q4},i.Jht=function(t){i.$ht(),i.Eht.error&&(t.error.info.code===xL&&i.Lht<Qy?(i.Lht+=1,i.Kht()):i.dispatchEvent({type:"Go",error:t.error}))},i.tat=function(){i.Lht=0},i.nat=function(){i.removeEventListener("iat",i.rat),i.Nht?i.rat():i.addEventListener("iat",i.rat)},i.rat=function(){var t=i.Q4;i.I$.removeEventListener("gK",i.nat),i.I$.gK?i.I$.uht.forEach(function(n){return n.Vst(t)}):(i.I$.addEventListener("gK",i.nat),i.I$._ht())},i.eat=function(){var t=i.Q4;i.I$.hht.forEach(function(n){return n.Hst(t,i.I$.Ptt)})},i.sat=function(){null!==i.Oht&&h(i.Oht),i.Oht=null,null!==i.xht&&h(i.xht),i.xht=null},i.uat=function(){i.oat(),i.I$.gK?i.LK():(i.I$.addEventListener("gK",i.uat),i.I$._ht())},i.oat=function(){i.I$.removeEventListener("gK",i.uat)},i.O$=function(t){i.I$.i7(t.RJ,t.m$||void 0,t.WZ||void 0),t.k$&&i.hat(t.RJ,t.m$,t.WZ)},i.aat=function(t){var n=t.c7-i.c7;l.abs(n)>Gy&&(i.c7=t.c7,i.Q4=i.Q4+n)},i.fat=function(t){var n=t.l6.metadata;n.SJ&&(i.Hht[t.Ap]=n.SJ,i.vat())},i.vat=function(){if(i.I$.gK){var t=d.keys(i.Hht).length===i.I$.uht.length;i.Eht&&!i.Eht.dat&&!i.Fht&&t&&i.lat(),i.Eht&&i.c7&&(i.Eht.c7=i.c7)}},i._at=function(){if(w(i.gat))if(i.I$.Ptt)i.gat=0;else{var t=i.Xht,n=t&&t.rJ,r=t&&J(n)&&!w(n)&&t.AY(n)||void 0;i.gat=rD(r)?r.y4.Z_():NaN}i.yK&&(i.removeEventListener("y$",i._at),i.I$.removeEventListener("d6",i._at),i.dispatchEvent("yK",!0))},i.I$=n,n.k7=en(i),i}U(n,t);var i=n.prototype;return i.Kht=function(){this.I$.Ptt?this.Ght="start":(this.Dht+=.5,this.I$.uht.map(function(t){t.xst(),t.Xst(),t.Wst()}),this.Ght=this.Dht),this.vat(),this.Eht.play()},i.wat=function(t){var n=this;this.Pht&&(this.I$.removeEventListener("gK",this.Pht),this.Pht=null),this.I$.gK?(this.Cht=!0,this.Vht=!0,this.I$.ght(t),this.Vht=!1):(this.Pht=function(){return n.wat(t)},this.I$._ht())},i.yat=function(t){this.mat(),this.I$.Ptt&&(t="none"),"auto"===t&&this.uat()},i.kat=function(t){var n=this;this.mat(),"none"!==t&&(this.I$.gK?this.yat(t):(this.Bht=function(){return n.yat(t)},this.I$.addEventListener("gK",this.Bht),this.I$._ht()))},i.mat=function(){this.oat(),this.Bht&&(this.I$.removeEventListener("gK",this.Bht),this.Bht=null)},i.LK=function(){this.Cht?this.I$.dht():(this.Ght=this.Rht,this.I$.dht(22)),this.Nht||(this.Nht=!0,this.dispatchEvent("iat"))},i.pat=function(){this.Eht&&(this.Eht.addEventListener("Aat",this.eat),this.Eht.addEventListener("seeking",this.nat),this.Eht.addEventListener("error",this.Jht),this.Eht.addEventListener("playing",this.tat)),this.I$.addEventListener("y$",this.O$),this.I$.addEventListener("rut",this.jht),this.I$.addEventListener("gK",this.vat),this.I$.addEventListener("a7",this.aat),this.I$.addEventListener("Fl",this.nat),this.VK()},i.bat=function(){this.Eht&&(this.Eht.removeEventListener("Aat",this.eat),this.Eht.removeEventListener("seeking",this.nat),this.Eht.removeEventListener("error",this.Jht),this.Eht.removeEventListener("playing",this.tat)),this.I$.removeEventListener("y$",this.O$),this.I$.removeEventListener("rut",this.jht),this.I$.removeEventListener("gK",this.vat),this.I$.removeEventListener("a7",this.aat),this.I$.removeEventListener("Fl",this.nat),this.XK()},i.VK=function(){this.Eht&&(this.Eht.addEventListener("loadstart",this.uat),this.Eht.addEventListener("timeupdate",this.Pst),this.Eht.addEventListener("playing",this.mot),this.Eht.addEventListener("timeupdate",this.mot),this.Eht.addEventListener("timeupdate",this.Fst),this.Eht.addEventListener("timeupdate",this.Lst),this.Eht.addEventListener("timeupdate",this.Zht),this.Eht.addEventListener("timeupdate",this.zht),this.Eht.addEventListener("ended",this.sat)),this.I$.addEventListener("d6",this.fat),this.I$.addEventListener("d6",this.Ust)},i.XK=function(){null!==this.Oht&&h(this.Oht),null!==this.xht&&h(this.xht),this.Eht&&(this.Eht.removeEventListener("loadstart",this.uat),this.Eht.removeEventListener("timeupdate",this.Pst),this.Eht.removeEventListener("playing",this.mot),this.Eht.removeEventListener("timeupdate",this.mot),this.Eht.removeEventListener("timeupdate",this.Fst),this.Eht.removeEventListener("timeupdate",this.Lst),this.Eht.removeEventListener("timeupdate",this.Zht),this.Eht.removeEventListener("timeupdate",this.zht),this.Eht.removeEventListener("ended",this.sat)),this.I$.removeEventListener("d6",this.fat),this.I$.removeEventListener("d6",this.Ust)},i.R7=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Uht.lh;case 2:return i=this.Eht.R7(n),this.Eht.loading&&(this.Eht.loaded=!0,this.Eht.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YL=function(t,n){this.Tat.YL(t,n)},i.Ost=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Uht.lh;case 3:return t.next=5,this.Eht.Ost(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),as(t.t0)||this.dispatchEvent({type:"Go",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.lat=function(){var t=this,n=this.Uht,i=this.Eat(this.Fht,this.Mht.So);this.Fht=i,i.then(function(){t.Fht===i&&(t.Fht=void 0,n._h())},function(r){t.Fht===i&&(t.Fht=void 0,n.gh(r))})},i.Eat=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(S);case 3:return cs(i),t.next=6,this.Eht.lat(this.Hht,this.I$.L_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.I$.hht;e<s.length;e++)u=s[e],r.pZ&&(u.wst=r.pZ),r.AZ&&(u.kst=r.AZ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$ht=function(){this.Mht.bo(),this.Mht=new os,this.Fht=void 0,this.Uht=new Yu},i.Yht=function(t){var n=this.Sy;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.Gst=function(t){var n=this.I$.mht;return n?n.Gst(t):null},i.Vtt=function(t){var n=this.I$.mht;return n?n.Vtt(t):NaN},i.Dh=function(t){var n=t||"none";this.bat(),this.pat(),this.kat(n)},i.FK=function(){this.mat()},i.Pv=function(){this.Bo(),this.Hht={},this.Tat=null},i.Il=function(){this.$ht(),this.Sat(),this.Hht={},this.Sht=0,this.Dht=0,this.Rht="start",this.c7=0,this.Iht=1,this.Nht=!1,this.Cht=!1,this.Xht=null,this.I$.Il()},i.hat=function(t,n,i){if(n){this.dispatchEvent("mK"),this.XK();var r=!1,e=!1,s=!1;if("AZ"===t){e=!0;var u=this.I$.mht;u&&u.mut&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Eht.k$("audio"),e&&this.Eht.k$("video"),this.I$.hht.forEach(function(t){t.xst(),r&&t.Xst(),e&&t.Wst()}),this.I$.wht(e,r,s,22),this.I$.hht.forEach(function(t){return t.Mst()}),this.VK()}},i.Ww=function(){this.XK(),this.I$.Ptt&&this.I$.Dot()},i.Xw=function(){this.XK(),this.VK(),this.I$.MK()},i.Rat=function(t){var n=this.gat||0;return this.NJ?t-n<0?0:l.round((t-n)*this.NJ-.5)||0:NaN},i.Iat=function(t){var n=this.gat||0;return this.NJ?n+(t+.5)/this.NJ:NaN},i.Sat=function(){this.gat=NaN,this.removeEventListener("y$",this._at),this.addEventListener("y$",this._at),this.I$.removeEventListener("d6",this._at),this.I$.addEventListener("d6",this._at)},L(n,[{key:"Tat",get:function(){return this.Eht},set:function(t){this.bat(),this.$ht(),this.tat(),this.Eht=t,this.vat()}},{key:"Q4",get:function(){return this.Eht&&!this.Vht?this.Eht.Qht():this.Sht},set:function(t){t=this.Yht(t),this.Dht=this.Sht=t,this.Eht?this.Eht.Nat(t):(this.eat(),this.nat())}},{key:"Ght",get:function(){return this.Eht&&!this.Vht?this.Q4:this.Rht},set:function(t){"start"===t&&(t=this.I$.Ptt?1/0:0),t=this.Yht(t),this.Rht=t,this.Dht=this.Sht=t,this.wat(E_.iw(this.Sht)),this.Q4=t}},{key:"jy",get:function(){return this.I$.Eut},set:function(t){this.I$.Eut=t}},{key:"V_",get:function(){return this.Eht?this.Eht.V_:this.Iht},set:function(t){var n=this.Iht;t>0&&(this.Iht=t,this.Eht&&(this.Eht.V_=t),this.I$.G4=t,this.Iht!==n&&this.dispatchEvent("Cat"))}},{key:"Sy",get:function(){var t=this.I$.Sy;if(!t.length||!this.I$.Ptt)return t;var n=t.start(0),i=this.I$.ztt;return i=l.max(this.Q4,i),new wO([{NR:n,OR:i}])}},{key:"ly",get:function(){return this.Gst(this.Q4)}},{key:"NJ",get:function(){var t=this.Xht;return t&&t.NJ||NaN}},{key:"gat",get:function(){return this.Wht},set:function(t){this.Wht!==t&&(this.dispatchEvent(new PL(t)),this.Wht=t)}},{key:"yK",get:function(){return Boolean(this.NJ)&&!w(this.gat)}}]),n}(xC),LL=function(t){function n(n){var i;return(i=t.call(this)||this).Dat=null,i.hK=void 0,i.Oat=[],i.xat=function(t){return i.Pat(t)},i.Bat=function(){return i.Lat()},i.hK=n,i.Oat=[],i}U(n,t);var i=n.prototype;return i.Bb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Qd.Ql,n=this.hK.KJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Mat.bind(this,n),this.Oat.push({Uat:t,Fat:i,BJ:n}),t.addEventListener("cuechange",i))},i._x=function(){for(var t=this.Dat.Hw,n=t&&t.length,i=0;i<n;i+=1)this.Bb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.xat),t.addEventListener("change",this.Bat))},i.Mat=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=rI(i[s].value),o=new vI(e,u);t.Mb(o)}},i.Lat=function(){for(var t=0,n=this.Oat;t<n.length;t++){var i=n[t].Uat;i.mode!==Qd.Ql&&(i.mode=Qd.Ql)}},i.Pat=function(t){this.Bb(t.track)},i.Hat=function(){for(var t=this.Dat,n=t&&t.Hw,i=0,r=this.Oat;i<r.length;i++){var e=r[i];e.Uat.removeEventListener("cuechange",e.Fat)}this.Oat.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.xat),n.removeEventListener("change",this.Bat))},i.Pv=function(){this.Hat(),this.Dat=null,this.hK=null,this.xat=null,this.Bat=null},i.Il=function(){this.Hat(),this.Dat&&this._x()},n}(xC),ML=function(t){function n(n){var i;return(i=t.call(this)||this).I$=void 0,i.Vat=void 0,i.Eht=null,i.Rht="start",i.Iht=1,i.Hv=!1,i.Xat=null,i.Wat=null,i.qat=NaN,i.zat=NaN,i.Gat=null,i.jat=function(){i.Eht.removeEventListener("loadstart",i.jat),i.Eht.removeEventListener("play",i.jat),i.I$._ht()},i.Pst=function(){var t=i.I$.hK.T$;if(t&&(!i.Xat||i.Xat.NR>i.Q4||i.Xat.OR<i.Q4)){var n=i.I$.cb.x6(t,E_.iw(i.Q4));if(!n)return void i.Eht.addEventListener("timeupdate",i.Pst);i.Xat={NR:n.Htt.Z_(),OR:n.Htt.cg(E_.iw(n.Cp.duration)).Z_(),KQ:n.Cp.KQ,$Z:null},i.dispatchEvent({type:"Bst",gb:n.Cp})}},i.mot=function(){var t=i.I$.hK,n=t.E$.mZ.length?t.E$.mZ:t.AJ.mZ,r=i.Eht.q_,e=i.Eht.W_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.Wat&&(i.Wat=u,i.dispatchEvent({type:"y$",WZ:u}))},i.Qat=function(t){i.dispatchEvent({type:"y$",WZ:t.WZ})},i.Yat=function(){if(i.Eht){var t=i.Eht.Sy,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.zat&&(i.zat=n,i.qat=Ub())}},i.Zat=function(){i.Hv=!0},i.Jat=function(){i.Hv&&(i.Hv=!1,i.$at())},i.I$=n,i.Vat=new LL(n.hK),n.addEventListener("Hv",i.Zat),n.addEventListener("by",i.Jat),i}U(n,t);var i=n.prototype;return i.Yht=function(t){var n=this.Eht.Sy;return n.length?qt(t,n.start(0),n.end(n.length-1)):0},i.$at=function(){if(this.Eht){var t=this.Eht.currentTime,n=this.Eht.paused;this.Eht.load(),this.Eht.currentTime=t,n||this.Eht.play()}},i.Kat=function(){this.Eht&&(this.Eht.addEventListener("loadstart",this.jat),this.Eht.addEventListener("play",this.jat),this.Eht.addEventListener("timeupdate",this.Pst),this.Eht.addEventListener("timeupdate",this.mot),c(this.Gat),this.Gat=a(this.Yat,250))},i.tct=function(){c(this.Gat),this.Eht&&(this.Eht.removeEventListener("loadstart",this.jat),this.Eht.removeEventListener("play",this.jat),this.Eht.removeEventListener("timeupdate",this.Pst),this.Eht.removeEventListener("timeupdate",this.mot))},i.Dh=function(t){t=t||"none",this.tct(),this.Kat(),this.I$.removeEventListener("bht",this.Qat),this.I$.addEventListener("bht",this.Qat),"none"!==t&&this.jat()},i.Pv=function(){this.Bo(),this.Vat.Pv(),this.Tat=null,this.I$.removeEventListener("bht",this.Qat)},i.Il=function(){this.Rht="start",this.Iht=1,this.Hv=!1,this.Xat=null,this.Wat=null,this.qat=NaN,this.zat=NaN,c(this.Gat),this.Vat.Il()},i.Xw=function(){},i.Ww=function(){},i.FK=function(){},i.hat=function(){},i.Vtt=function(t){var n=this.I$.hK.T$;return this.I$.cb.Vtt(n,t).Z_()},i.Gst=function(t){var n,i,r=this.I$.hK.T$,e=this.I$.cb,s=t,u=this.Xat;if(u)u.$Z||(u.$Z=e.Ftt(r,u.KQ)),n=u.NR,i=u.$Z;else{var o=e.x6(r,E_.iw(s));if(!o)return null;n=o.Htt.Z_(),i=e.Ftt(r,o.Cp.KQ)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Rat=function(t){return NaN},i.Iat=function(t){return NaN},L(n,[{key:"nct",get:function(){return null}},{key:"ly",get:function(){return this.Gst(this.Q4)}},{key:"Tat",get:function(){return this.Eht},set:function(t){this.tct(),this.Eht=t,this.Eht&&(this.Vat.Dat=this.Eht,this.Vat._x())}},{key:"Ght",get:function(){return this.Eht?this.Eht.Qht():this.Rht},set:function(t){"start"===t&&(t=this.I$.Ptt?1/0:0),t=this.Yht(t),this.Rht=t,this.Eht&&this.Eht.Nat(t)}},{key:"Q4",get:function(){return this.Ght},set:function(t){t=this.Yht(t),this.Ght=t}},{key:"jy",get:function(){return 1/0},set:function(t){}},{key:"V_",get:function(){return this.Eht?this.Eht.V_:this.Iht},set:function(t){t>0&&(this.Iht=t,this.Eht&&(this.Eht.V_=t))}},{key:"Sy",get:function(){var t,n,i,r=this.Eht?this.Eht.Sy:null,e=this.I$.cb.Sy;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.zat||r.end(r.length-1))+this.I$.cb.Gtt.Z_(),isFinite(this.qat)&&(i+=(Ub()-this.qat)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.I$.cb.ztt.Z_()}return i=l.min(n,i),i=l.max(this.Q4,i),new wO([{NR:t,OR:i}])}},{key:"NJ",get:function(){return NaN}},{key:"gat",get:function(){return NaN}},{key:"yK",get:function(){return!1}}]),n}(xC),UL=function(t){function i(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).ict=new os,o.rct=void 0,o.Ob=void 0,o.ect=function(){return o.sct()},o.Ku=K_.WEBVTT,o.Kl=$_.NONE,o.i_=Ir(s),o.Oo(md.vl,o.ect),o.Ob=u,o}U(i,t);var r=i.prototype;return r.Dh=function(){this.i_&&!this.rct&&(this.rct=this.Cd(this.ict.So),this.rct.catch(vs))},r.Cd=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.i_,t.prev=1,this.Kl=$_.LOADING,r=new Of({cv:i,Rv:Rf.GET,sv:Jo.Je,So:n}),t.next=6,this.Ob.hv(r);case 6:return e=t.sent,t.next=9,e.Ds();case 9:s=t.sent,this.F0(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),fs(t.t0),this.cS(_y(t.t0,this.i_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.FK=function(){this.Kl!==$_.LOADED&&(this.Kl=$_.NONE,this.ict.bo(),this.ict=new os,this.rct=void 0)},r.cS=function(t){this.Kl=$_.ERROR,this.Do(new Jl(t))},r.Pv=function(){this.FK(),this.ict.wo(),t.prototype.Pv.call(this)},r.sct=function(){switch(this.$l){case Qd.Yl:case Qd.Ql:this.Dh();break;case Qd.jl:this.FK()}},r.F0=function(t,i){try{for(var r=Yg(i).t_,e=0;e<r.length;e++){var s=r[e];this.Mb(s)}this.Kl=$_.LOADED}catch(i){this.cS(new sy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+gy(this.Ku)+" subtitle file.",this.i_,t.rv,i))}},i}(oR);function FL(t){return ry(t.kind)}var HL=function(){function t(t,n,i,r){this.uct=void 0,this.Hw=void 0,this.hct=void 0,this.Ob=void 0,this.uct=t,this.Hw=i,this.hct=n,this.Ob=r,this.Il()}var n=t.prototype;return n.act=function(t){if(this.cct(),t)if(this.hct)for(var n=0;n<t.length;n++){var i=t[n];this.MS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.fct(e)}},n.MS=function(t){var n=FL(t);if(vy(n,t.label||""));else{var i=e.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.uct.appendChild(i)}},n.fct=function(t){var n=FL(t),i=new UL(n,t.id,t.label,t.srclang,t.src,this.Ob);t.default&&(i.$l=Qd.Yl),this.Hw.El(i)},n.cct=function(){for(var t=this.Hw.Nl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.vct&&this.Hw.Sl(i)}},n.dct=function(){this.cct()},n.Il=function(){this.cct()},t}(),VL=function(){function t(t){this.AK=void 0,this.AK=t}var n=t.prototype;return n.Oo=function(t,n){this.AK.addEventListener(t,n)},n.Lo=function(t,n){this.AK.removeEventListener(t,n)},L(t,[{key:"B_",get:function(){return this.AK.currentTime}},{key:"H_",get:function(){return this.AK.paused}},{key:"X_",get:function(){return this.AK.seeking}}]),t}(),XL=function(t){function n(n,i){var r;(r=t.call(this)||this).lct=void 0,r.Hw=void 0,r._ct=void 0,r.gct=void 0,r.Eht=void 0,r.wct=!0,r.yct=function(t){return r.mct(t)},r.kct=function(){return r.pct()},r.Act=function(){return r.bct()},r.Tct=function(){return r.Ect()},r.xat=function(t){return r.Pat(t.Kd)},r.Sct=function(t){return r.Rct(t.Kd)},r.Ict=function(){return r.Nct()},r.lct=n,r.Hw=i,r.lct.addEventListener("seeking",r.Ict),r.lct.addEventListener("seeked",r.Ict),r._ct=new fI(new VL(n));for(var e=0,s=r.Hw.Nl;e<s.length;e++){var u=s[e];r.Pat(u)}return r.Hw.Oo(_d.Gd,r.xat),r.Hw.Oo(_d.Qd,r.Sct),r}U(n,t);var i=n.prototype;return i.mct=function(t){this.Hw.El(t.Kd)},i.pct=function(){for(var t=this.Hw.Nl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.vct&&this.Hw.Sl(i)}},i.bct=function(){var t=this.Tat,n=[],i=t&&t.Hw;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this.oX(e);s=new sI(e,u,this.hH),e.THEOplayerTextTrack=s,this.Hw.El(s)}n.push(s)}}for(var o=0,h=this.Hw.Nl;o<h.length;o++){var a=h[o];uI(a)&&-1===n.indexOf(a)&&this.Hw.Sl(a)}},i.oX=function(t){for(var n=this.Tat._y.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Ect=function(){for(var t=0,n=this.Hw.Nl;t<n.length;t++){var i=n[t];uI(i)&&i.aH()}},i.Nct=function(){this.Cct()},i.Pat=function(t){t instanceof oR&&this._ct.El(t)},i.Rct=function(t){t instanceof oR&&this._ct.Sl(t)},i.Cct=function(){var t=this.Hw.Nl;if(t.length)for(var n=this.lct.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof oR){for(var s=[],u=0,o=e.t_.Nl;u<o.length;u++){var h=o[u];if(!(h.jy<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.TF(c)}}}},i.Pv=function(){this.lct.removeEventListener("seeking",this.Ict),this.lct.removeEventListener("seeked",this.Ict);for(var t=0,n=this.Hw.Nl;t<n.length;t++){var i=n[t];this.Rct(i)}this.Hw.Lo(_d.Gd,this.xat),this.Hw.Lo(_d.Qd,this.Sct),this._ct.Pv(),this.hK=null,this.Tat=null},L(n,[{key:"hK",get:function(){return this.gct},set:function(t){var n=this.gct;if(n){for(var i=0,r=n.Hw;i<r.length;i++){var e=r[i];this.Hw.Sl(e)}n.removeEventListener("t$",this.yct),n.removeEventListener("Pv",this.kct)}if(this.gct=t,t){for(var s=0,u=t.Hw;s<u.length;s++){var o=u[s];this.Hw.El(o)}t.addEventListener("t$",this.yct),t.addEventListener("Pv",this.kct)}}},{key:"Tat",get:function(){return this.Eht},set:function(t){var n=this.Eht;n&&n.Hw&&n.Hw.removeEventListener&&(n.Hw.removeEventListener("addtrack",this.Act),n.Hw.removeEventListener("removetrack",this.Act),n.Hw.removeEventListener("change",this.Tct)),this.Eht=t,t&&t.Hw&&t.Hw.addEventListener&&(t.Hw.addEventListener("addtrack",this.Act),t.Hw.addEventListener("removetrack",this.Act),t.Hw.addEventListener("change",this.Tct)),this.bct(),this.Ect()}},{key:"hH",get:function(){return this.wct},set:function(t){if(this.wct!==t){this.wct=t;for(var n=0,i=this.Hw.Nl;n<i.length;n++){var r=i[n];uI(r)&&(r.hH=t)}}}}]),n}(xC),WL=function(){function t(t,n){this.Dv=void 0,this.zd=void 0,this.Dct=[],this.Oct=new $o,this.xct=we(),this.Pct=new os,this.Dv=!(!t||t.crossOrigin!==cl.m_&&!t.Bct),this.zd=n}var n=t.prototype;return n.Lct=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h,a,c,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.Zs(n),e=0,s=this.Dct;e<s.length;e++)null===(u=s[e]).fs||void 0===u.fs?r.searchParams.delete(u.Mct):r.searchParams.set(u.Mct,u.fs);return t.prev=2,o=new Of({cv:r.href,sv:Jo.Tc,ev:this.Oct,Dv:this.Dv,Rv:Rf.GET,So:i,Ku:If._v,Nv:Nf.bv}),t.next=6,this.zd.hv(o);case 6:return h=t.sent,t.next=9,h.Ds();case 9:return a=t.sent,c=new y(a),v=new y(16),16!==c.length&&lt("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=zu(c,0,16)),v.set(c,16-c.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),fs(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new LC(BC.zQ,{code:"CAD1603"}));var i=this.xct.get(n);return i||(i=this.Lct(n,this.Pct.So),this.xct.set(n,i)),i},n.Pv=function(){this.Pct.bo(),this.xct.clear()},n.Uct=function(t,n){this.Dct.push({Mct:t,fs:n})},n.Fct=function(t,n){this.Oct.append(t,n)},t}(),qL=function(t){this.lct=void 0,this.lct=t},zL=e.createElement("video");var GL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rot=function(t){return!!function(t){return zL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(qL);PC.je.aL("AvoidUnsupportedCodecsRule",GL);var jL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rot=function(t,n,i,r){return!("l9"===r.A6)||t.bandwidth<2e6},n}(qL);PC.je.aL("AvoidHighBitrateStreamsRule",jL);var QL=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.Hct=function(t){if(!t.resolution)return!0;var n=this.lct.element.getBoundingClientRect(),i=r.innerWidth||e.documentElement.clientWidth,s=r.innerHeight||e.documentElement.clientHeight,u=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,s)-l.max(0,n.top)),h=b.xu.eu;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.rot=function(t){return this.Hct(t)},n}(qL);PC.je.aL("AvoidVideoResolutionGreaterThanDisplaySizeRule",QL);var YL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rot=function(t,n,i){if(i.I5<=0)return!1;var r=i&&.8*i.I5;return!(r&&!w(r)&&t.bandwidth)||r>t.bandwidth*this.lct.playbackRate},n}(qL);PC.je.aL("DownloadMetricRule",YL);var ZL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rot=function(t){return!0},n}(qL);PC.je.aL("LimitVideoQualityToDisplaySizeRule",ZL);var JL=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.rot=function(t,n){return!n||(n.RJ===$C.vv||t.RJ===$C.vv||(n.RJ===$C.JY||t.RJ===$C.JY||n.RJ===t.RJ))},n}(qL);function $L(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function KL(t,n){var i=n;for(var r in t)nt(t[r])?(i[r]=i[r]||{},KL(t[r],i[r])):Y.call(i,r)||(i[r]=t[r]);return i}function tM(t,n){var i=KL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case cl.y_:case cl.m_:break;default:n=cl.k_}return t&&t.withCredentials&&(n=cl.m_),t&&t.vr&&t.vr[360]&&n===cl.k_&&(n=cl.y_),n}(i),i}function nM(t){et(t)&&t.then(S,S)}PC.je.aL("OnlyAllowSameTrackTypeRenditionsRule",JL);var iM,rM=500,eM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],sM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Vct=void 0,r.KE=void 0,r.Xct=void 0,r.nS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.sV=function(){var t=r.KE.ES.error&&r.KE.ES.error.code;t&&r.cS(new LC(BC.XQ,{code:"VEE"+t}))},r.Wct=function(t){r.dispatchEvent({type:t.type,error:r.KE.ES.error})},r.qct=function(){h(r.Xct),r.Xct=void 0,r.KE.ES.removeEventListener("timeupdate",r.qct),r.KE.Lo(Ol.P_,r.qct)},r.zct=function(){void 0!==r.Xct&&r.qct(),r.Xct=o(function(){r.KE.ES.currentTime+=.1,r.qct()},rM),r.KE.ES.addEventListener("timeupdate",r.qct),r.KE.Oo(Ol.P_,r.qct)},r.Gct=function(){switch(r.KE.ES.readyState){case ll.S_:case ll.R_:case ll.I_:r.zct();break;case ll.E_:case ll.T_:}},r.Vct=n,r.KE=i,r}U(n,t);var i=n.prototype;return i.setup=function(){this.$J(),this.KE.ES.parentNode!==this.Vct&&this.Vct.appendChild(this.KE.ES),this.loaded=!1,this.KE.ES.preload="metadata",this.KE.ES.addEventListener("play",this.Gct),this.KE.ES.addEventListener("loadeddata",this.Gct),this.dispatchEvent("jct")},i.$J=function(){for(var t=0;t<eM.length;t++){var n=eM[t];this.KE.ES.addEventListener(n,this.Wct,!0)}this.KE.ES.addEventListener("error",this.sV,!0),this.KE.Oo(Ol.ll,this.Wct),this.KE.Oo(Ol.P_,this.Wct)},i.Qct=function(){for(var t=0;t<eM.length;t++){var n=eM[t];this.KE.ES.removeEventListener(n,this.Wct,!0)}this.KE.ES.removeEventListener("error",this.sV,!0),this.KE.Lo(Ol.ll,this.Wct),this.KE.Lo(Ol.P_,this.Wct)},i.cS=function(t){this.nS=t,this.dispatchEvent({type:"error",error:t})},i.R7=function(){return T.resolve()},i.load=function(){this.KE.ES.load(),this.loaded=!0},i.unload=function(){return this.qct(),this.Bo(),this.Qct(),this.KE.ES.removeEventListener("play",this.Gct),this.KE.ES.removeEventListener("loadeddata",this.Gct),Qr(this.KE.ES),this.KE.ES},i.play=function(){var t=this.V_;nM(this.KE.ES.play()),this.V_=t},i.pause=function(){this.KE.ES.pause()},i.qw=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Nat(0)}catch(t){}this.dispatchEvent("reset")},i.ny=function(){return this.KE.ES},i.Qht=function(){return this.KE.ES.currentTime},i.Nat=function(t){this.KE.ES.currentTime=t},i.canPlayCodecs=function(t){return this.KE.ES.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"dat",get:function(){return!0}},{key:"_y",get:function(){return this.KE.ES}},{key:"vy",get:function(){return this.KE.ES.buffered}},{key:"z_",get:function(){return this.KE.ES.volume},set:function(t){this.KE.ES.volume=t}},{key:"duration",get:function(){return this.KE.ES.duration}},{key:"muted",get:function(){return this.KE.ES.muted},set:function(t){this.KE.ES.muted=t}},{key:"paused",get:function(){return this.KE.ES.paused}},{key:"played",get:function(){return this.KE.ES.played}},{key:"poster",get:function(){return this.KE.ES.poster},set:function(t){t?this.KE.ES.poster=t:this.KE.ES.removeAttribute("poster")}},{key:"controls",get:function(){return this.KE.ES.controls},set:function(t){t?this.KE.ES.controls=t:this.KE.ES.removeAttribute("controls")}},{key:"ended",get:function(){return this.KE.ES.ended}},{key:"seeking",get:function(){return this.KE.ES.seeking}},{key:"error",get:function(){return this.KE.ES.error}},{key:"width",get:function(){return this.KE.ES.offsetWidth}},{key:"height",get:function(){return this.KE.ES.offsetHeight}},{key:"src",get:function(){return this.KE.ES.src},set:function(t){this.KE.ES.src=t}},{key:"q_",get:function(){return this.KE.ES.videoWidth}},{key:"W_",get:function(){return this.KE.ES.videoHeight}},{key:"Hw",get:function(){return this.KE.ES.textTracks}},{key:"Ptt",get:function(){return this.KE.ES.duration===1/0}},{key:"Sy",get:function(){var t=this.KE.ES.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Qht()||0),new wO([{NR:n,OR:i}])}},{key:"V_",get:function(){return this.KE.ES.playbackRate},set:function(t){t>0&&(this.KE.ES.playbackRate=t)}},{key:"Kl",get:function(){return this.KE.Kl}},{key:"Yct",get:function(){return void 0!==this.KE.ES.webkitSupportsPresentationMode&&this.KE.ES.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Zct",get:function(){return"picture-in-picture"===this.KE.ES.webkitPresentationMode}},{key:"Jct",get:function(){return this.KE.ES.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.KE.ES.webkitSetPresentationMode(t)}}]),n}(xC);!function(t){t[t.$ct=0]="$ct",t[t.Kct=1]="Kct",t[t.cj=2]="cj",t[t.tft=3]="tft",t[t.nft=4]="nft"}(iM||(iM={}));var uM=function(){function t(){this.ift=!1,this.rft=null,this.eft=null,this.sft=null,this.XB=[],this.uft=null}var n=t.prototype;return n.oft=function(){if(!this.ift)return!1;for(var t=this.rft,n=this.eft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.hft=function(t){switch(t.Ku){case iM.$ct:return this.aft(t.Ds,t.Htt,t.ED);case iM.Kct:return this.cft(t.fft);case iM.cj:return this.vft(t.dft,t.lft);case iM.tft:return this.WB();case iM.nft:return this._ft(t.ED)}},n.aft=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.eft,w(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.gft();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.cft=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.eft,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=l.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.gft();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vft=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rft,r=this.eft,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=l.max(e.start(0),n),o=l.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.gft();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.WB=function(){var t=T.coroutine(le.mark(function t(){var n,i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.rft,i=this.eft,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,dd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n._ft=function(t){return T.resolve(t())},n.wft=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.xU(n)){t.next=5;break}return t.next=3,ps(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xU=function(t){var n=this.rft;if(!n.open||"open"!==n.readyState||!this.oft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.gft=function(){var t=this;return new T(function(n,i){var r,e=t.eft,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new f(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.yft=function(){var t=this;this.sft||(0!==this.XB.length||this.uft)&&this.oft()&&(this.sft=this.mft().then(function(){t.sft=null}))},n.mft=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.XB.length>0)){t.next=9;break}if(this.oft()){t.next=4;break}return t.abrupt("return");case 4:return n=this.XB.shift(),t.next=7,this.hft(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.wft("decode").catch(S);case 16:if(!this.uft){t.next=26;break}return t.prev=17,t.next=20,this.wft(this.uft.Go);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.uft=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n._x=function(t,n){this.ift||(this.ift=!0,this.rft=t,this.eft=n,this.yft())},n.cg=function(t,n,i){this.XB.push({Ku:iM.$ct,Ds:t,Htt:n,ED:i}),this.yft()},n.kft=function(t,n){this.XB.push({Ku:iM.cj,dft:t,lft:n}),this.yft()},n.pft=function(t){this.XB.push({Ku:iM.Kct,fft:t}),this.yft()},n.bo=function(){this.XB.push({Ku:iM.tft}),this.yft()},n.Aft=function(t){this.XB.push({Ku:iM.nft,ED:t}),this.yft()},n.Ost=function(t){this.uft={Go:t},this.yft()},n.rh=function(){this.XB.length=0,this.uft=null},t}();var oM=function(t){function n(n){var i;return(i=t.call(this)||this).rft=void 0,i.eft=null,i.bft=new uM,i.jy=NaN,i.Tft=null,i.Co=function(t){return i.dispatchEvent(t)},i.Eft=function(){return i.a6()},i.rft=n,i.Il(),i}U(n,t);var i=n.prototype;return i.Sft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.R7=function(t,n,i,r){var e=this;if(!this.eft||!n)return T.resolve();var s=n.initializer.Ds,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Tft,s);if(r&&(Q.Pe||this.bft.bo()),r)if(Q.Pe);else{var o=t&&t.NR,h=t&&t.NR+t.L_-.5;this.bft.kft(o,h)}return u&&(this.bft.cg(s,i,this.Sft.bind(this)),this.Tft=s),new T(function(t,r){e.bft.cg(n.m4s.Ds,i,function(n){n?r(n):t()})})},i.jL=function(){var t=this;return new T(function(n){t.bft.Aft(function(){var i=t.vy;i&&i.length&&(t.jy=i.end(i.length-1)),n()})})},i.VU=function(t){if(!this.eft){try{this.eft=this.rft.addSourceBuffer(t),this.eft.addEventListener("updatestart",this.Co),this.eft.addEventListener("updateend",this.Co)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.rft.addEventListener("sourceclose",this.Eft),this.bft._x(this.rft,this.eft)}return!0},i.oft=function(){for(var t=0;t<this.rft.sourceBuffers.length;t++)if(this.rft.sourceBuffers[t]===this.eft)return!0;return!1},i.Oh=function(t){var n=this,i=this.vy;if(!(this.eft&&i&&i.length))return t&&t();this.eft.remove(0,i.end(i.length-1)),t&&this.eft.addEventListener("updateend",function i(r){n.eft.removeEventListener("updateend",i),t()})},i.Il=function(t){this.Tft=null,this.jy=NaN,this.a6(),this.Oh(t)},i.pft=function(t){this.eft&&this.bft.pft(t)},i.Ost=function(t){this.eft&&this.bft.Ost(t)},i.a6=function(){this.bft.rh(),"open"===this.rft.readyState&&this.eft&&this.eft.updating&&this.eft.abort()},L(n,[{key:"vy",get:function(){return this.eft&&this.oft()?new wO(EO(this.eft.buffered)):null}},{key:"aO",get:function(){return this.eft&&this.eft.updating}},{key:"M_",get:function(){var t=this.vy;return!t||!w(this.jy)&&bO(t,this.jy)}}]),n}(xC),hM="mp4a.40.34";var aM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Rft=!1,i.tN=function(){var t=i.Rft;i.Rft=i.aO,!t&&i.Rft?i.dispatchEvent("updatestart"):t&&!i.Rft&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new oM(n),i.videoTrackBuffer=new oM(n),i.audioTrackBuffer.addEventListener("updatestart",i.tN),i.videoTrackBuffer.addEventListener("updatestart",i.tN),i.audioTrackBuffer.addEventListener("updateend",i.tN),i.videoTrackBuffer.addEventListener("updateend",i.tN),i.Il(),i}U(n,t);var i=n.prototype;return i.R7=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.pZ&&i.push(this.audioTrackBuffer.R7(n.metadata.pZ,n.pZ,n.metadata.pZ&&n.metadata.pZ.d2===hM?n.metadata.pZ.NR:NaN,n.metadata.l3)),n.AZ&&i.push(this.videoTrackBuffer.R7(n.metadata.AZ,n.AZ,NaN,n.metadata.l3)),t.next=7,T.all(i);case 7:this.M_&&(this.audioTrackBuffer.Ost(),this.videoTrackBuffer.Ost());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ost=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.jL()),i&&r.push(this.videoTrackBuffer.jL()),t.next=5,T.all(r);case 5:this.M_&&(this.audioTrackBuffer.Ost(),this.videoTrackBuffer.Ost());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._x=function(t){var n,i={};for(var r in t)if(Y.call(t,r)){var e=t[r];if(e.AZ){var s='video/mp4; codecs="'+e.AZ+'"';this.videoTrackBuffer.VU(s),i.AZ=this.videoTrackBuffer}if(e.pZ){var u=(n=e.pZ)!==hM||Uy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.VU(u),i.pZ=this.audioTrackBuffer}0}return i},i.Il=function(t){var n=!1,i=!1;this.Rft=!1,this.audioTrackBuffer.Il(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Il(function(){if(i=!0,n&&t)return t()})},i.pft=function(t){this.audioTrackBuffer.pft(t),this.videoTrackBuffer.pft(t)},i.a6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.a6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.a6()},L(n,[{key:"vy",get:function(){var t=this.audioTrackBuffer.vy,n=this.videoTrackBuffer.vy;return t&&n?pO(t,n):t||n||yO}},{key:"DL",get:function(){return this.audioTrackBuffer.vy||yO}},{key:"OL",get:function(){return this.videoTrackBuffer.vy||yO}},{key:"aO",get:function(){return this.audioTrackBuffer.aO||this.videoTrackBuffer.aO}},{key:"M_",get:function(){return this.audioTrackBuffer.M_&&this.videoTrackBuffer.M_}}]),n}(xC),cM=1,fM=.05,vM=.01;function dM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function lM(t,n,i,r){var e=TO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-fM)){var u,o;do{if((u=dM(t,n))<0)return;t=(o=n.start(u)+vM)+fM}while(n.end(u)-o<fM);for(var h=o-s,a=pO(new wO([{NR:s,OR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<cM?o:void 0}}var _M=100,gM=1e-4,wM=500,yM=Wy,mM=Q.be,kM=5,pM=["resize","volumechange"],AM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Ift=void 0,r.KE=void 0,r.Nft=!0,r.M_=!1,r.Cft=!1,r.Dft=!1,r.Oft=null,r.Go=!1,r.rft=null,r.eft=null,r.xft=null,r.ift=!1,r.Pft=0,r.Bft=Yp._I(),r.Iht=1,r.Lft=!1,r.KU=!1,r.X_=!1,r.Mft=new os,r.Uft=!1,r.Fft=!1,r.Hft=void 0,r.Vft=null,r.Xft=null,r.Wft=ll.T_,r.qft=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.zft=function(){r.qft=!1,r.Gft(),r.jft(),r.Qft()},r.Yft=function(){r.Zft(),r.Qft(),r.Jft()},r.dS=function(){r.$ft(),r.Zft(),r.eF()?r.dispatchEvent("playing"):r.qft=!0},r.Kft=function(){r.qft=!1,r.Gft(),r.qw()},r.OU=function(){r.tvt()},r.vS=function(){r.nvt(),r.Jft()},r.uU=function(){var t=r.Wft,n=r.Kl;t!==n&&(r.Wft=n,r.dispatchEvent(new Zl(r.Qht(),n))),r.Jft()},r.jft=function(){r.Pft&&(c(r.Pft),r.Pft=0,mM&&(r.KE.ES.removeEventListener("timeupdate",r.vX),r.removeEventListener(Ol.ll,r.gX)))},r.ivt=function(){r.Pft||(r.Pft=a(r.rvt,wM)),mM&&(r.KE.ES.addEventListener("timeupdate",r.vX),r.addEventListener(Ol.ll,r.gX),r.vX()),r.rvt()},r.evt=function(){var t=r.Qht(),n=bO(r.svt,t);r.KE.H_||r.X_&&!n||r.uvt()||r.ivt()},r.rvt=function(t){if(!(r.Vft||void 0===t&&r.Fft)){var n,i=r.Qht(),e=r.vy;if(void 0===t){if(void 0===(n=lM(i,e,r.svt,r.Cft)))return}else{if(!bO(e,t))return;n=t}var s=function(){r.KE.ES.currentTime=n,r.ovt(n),r.jft(),r.Fft=!0};Gt(n,i)?r.Vft=o(function(){r.Vft=null,i=r.Qht(),Gt(n,i)&&(n+=1e3*wM,s())},wM):s()}},r.YX=function(){var t=r.xft;if(r.avt(),r.KE.ES.readyState===ll.T_)return r.xft=t,void r.KE.ES.addEventListener("loadedmetadata",r.YX);l.abs(r.KE.ES.currentTime-t)<gM?r.vS():(r.KE.ES.currentTime=t,r.Fft=!1,r.OU()),r.xft=null,r.Xx(r.Iht),r.KE.VX(),r.cvt(t)&&r.qw()},r.fvt=function(){if(!r.Cft){var t=r.KE.ES,n=r.vy,i=t.currentTime;r.vvt(n,i)&&(r.Cft=!0,r.Zft(),i=t.currentTime,r.vvt(n,i)?r.Cft=!0:r.Cft=!1,r.uU()),r.Xft=i}},r.$ft=function(){r.Gft(),r.Oft=a(r.fvt,_M)},r.Gft=function(){r.Cft=!1,c(r.Oft)},r.dvt=function(){r.Cft&&(r.Cft=!1,r.uU())},r.vX=function(){var t=r.eft;if(t)if(t.M_)r.dX();else{var n=t.DL,i=t.OL;if(0!==n.length&&0!==i.length){var e=r.Qht();if(e<n.start(0)||e<i.start(0))r.dX();else bO(n,e)!==bO(i,e)?r.lX():r.dX()}else r.dX()}},r.gX=function(){if(!(r.X_||r.Fft||r.KE.ES.seeking||r.Kl>=ll.R_)){var t=r.eft;if(t){var n=r.Qht(),i=Yp.vI(t.DL),e=Yp.vI(t.OL);if(i.zS(n)&&e.zS(n))i.$R(e).rI(n-kM,n)&&(r.KE.ES.currentTime=n,r.Fft=!0)}}},r.lvt=function(){r.rft.open=!0,r.rft.removeEventListener("sourceopen",r.lvt),r.rft.removeEventListener("webkitsourceopen",r.lvt)},r.sV=function(t){var n=r.KE.ES.error&&r.KE.ES.error.code;n&&r.cS(new LC(BC.XQ,{code:"VEE"+n}))},r.Co=function(t){r.dispatchEvent({type:t.type})},r._vt=function(){r.eft&&r.eft.M_&&r.dispatchEvent("durationchange")},r.gvt=function(){r.removeEventListener("wvt",r.gvt),r.Uft=!1,r.yvt(r.Iht)},r.Ift=t,r.KE=i,r}U(i,n);var e=i.prototype;return e.yvt=function(t){this.KU&&(t=0),this.KE.V_=t,0!==t||yM?this.Lft&&(this.Lft=!1,nM(this.KE.Xw())):(this.Lft=!this.KE.H_||this.Lft,this.KE.Ww()),this.Qft()},e.Xx=function(t){this.Iht=t,this.Uft||this.yvt(t)},e.mvt=function(t){var n=TO(this.svt,t);return-1===n?null:this.svt.end(n)},e.tvt=function(){this.Fft||this.X_||(this.X_=!0,this.dispatchEvent("seeking"))},e.nvt=function(){this.Fft=!1,this.kvt(),this.X_&&(this.X_=!1,this.dispatchEvent("seeked")),this.evt()},e.Zft=function(){this.Fft||this.evt()},e.kvt=function(){this.Hft&&(h(this.Hft),this.Hft=void 0)},e.ovt=function(t){var n=this;this.Hft=o(function(){n.rvt(t+2)},750)},e.Jft=function(){this.qft&&this.eF()&&(this.qft=!1,this.dispatchEvent("playing"))},e.Qft=function(){var t=this.Nft,n=this.paused;this.Nft=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.YL=function(t,n){if(!(t+.001>n)){var i=new Yp([t,n]);this.Bft=this.Bft.JR(i).KR(Yp.vI(this.vy)),this.Bft.zS(this.Qht())&&this.evt()}},e.cvt=function(t){return t>=this.KE.ES.duration-(this.paused?0:.5)},e.pvt=function(t){return w(this.KE.ES.duration)||(t=l.min(t,this.KE.ES.duration)),l.max(0,t)},e.avt=function(){this.xft=null,this.KE.ES.removeEventListener("loadedmetadata",this.YX)},e.uF=function(){return this.Kl<ll.R_},e.eF=function(){return!(this.paused||this.ended||this.error||this.uF())},e.vvt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-fM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Xft&&this.Xft===n){if(this.cvt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},e.lX=function(){this.KU||(this.KU=!0,this.yvt(0),this.uU())},e.dX=function(){this.KU&&(this.KU=!1,this.Xx(this.Iht),this.KE.ES.currentTime=this.KE.ES.currentTime,this.uU())},e.Avt=function(){var t=this.KE.ES;t.addEventListener("timeupdate",this.dvt),this.KE.Oo(Zo.sc,this.zft),this.KE.Oo(Zo.uc,this.Yft),this.KE.Oo(Zo.Ja,this.Kft),t.addEventListener("seeking",this.OU),t.addEventListener("seeked",this.vS);for(var n=0;n<pM.length;n++){var i=pM[n];t.addEventListener(i,this.Co)}t.addEventListener("error",this.sV),t.addEventListener("durationchange",this._vt),this.KE.Oo(Zo.mc,this.Co),this.KE.Oo(Ol.ll,this.uU),this.KE.Oo(Ol.P_,this.dS)},e.bvt=function(){var t=this.KE.ES;t.removeEventListener("timeupdate",this.dvt),this.KE.Lo(Zo.sc,this.zft),this.KE.Lo(Zo.uc,this.Yft),this.KE.Lo(Zo.Ja,this.Kft),t.removeEventListener("seeking",this.OU),t.removeEventListener("seeked",this.vS);for(var n=0;n<pM.length;n++){var i=pM[n];t.removeEventListener(i,this.Co)}t.removeEventListener("error",this.sV),t.removeEventListener("durationchange",this._vt),this.KE.Lo(Zo.mc,this.Co),this.KE.Lo(Ol.ll,this.uU),this.KE.Lo(Ol.P_,this.dS)},e.Tvt=function(){var n=this.KE.ES,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Evt(),this.rft=new i,this.rft.addEventListener("sourceopen",this.lvt),this.rft.addEventListener("webkitsourceopen",this.lvt),n.src=nO(this.rft),n.load()):this.cS(new LC(BC.qQ,{code:"MVE2720"})):this.cS(new LC(BC.qQ,{code:"MVE2650"}))},e.Evt=function(){if(this.ift=!1,this.eft&&(this.eft.Il(),this.eft=null),this.rft){this.Mft.bo();var t=this.KE.ES;t.src&&(iO(t.src),Qr(t)),this.rft=null}},e.setup=function(){this.Tvt(),this.Avt(),this.KE.ES.parentNode!==this.Ift&&this.Ift.appendChild(this.KE.ES)},e.cS=function(t){this.Go=t,this.dispatchEvent({type:"error",error:t})},e.uvt=function(){return this.eft&&this.eft.aO},e.Svt=function(t){var n=this.Qht()-l.max(30,3*t.WZ.pY.targetDuration);this.dispatchEvent("wvt"),this.eft&&!t.d3&&this.eft.pft(n),this.evt()},e.R7=function(t){if(!this.rft.open||"closed"===this.rft.readyState)return T.reject("Rvt");if(!this.eft)return T.reject("Ivt");var n=this.Nvt(t);return this.Dft||(this.Dft=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Nvt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.eft.R7(n)),i.d3&&r.push(this.Ost(!!n.pZ,!!n.AZ)),n=null,t.next=7,T.all(r);case 7:this.Svt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Ost=function(t,n){return this.rft.open&&"closed"!==this.rft.readyState?this.eft?this.eft.Ost(t,n):T.reject("Ivt"):T.reject("Rvt")},e.play=function(){var t=this.KE.V_;this.M_=!1,0!==this.KE.V_||yM?(nM(this.KE.Xw()),this.KE.VX(),this.KE.V_=t):this.Lft=!0,this.Qft()},e.pause=function(){0!==this.KE.V_||yM?this.KE.Ww():this.Lft=!1,this.Qft()},e.qw=function(){this.M_||(this.M_=!0,this.KE.Ww(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return c(this.Oft),this.Oft=null,this.jft(),this.avt(),this.Evt(),this.bvt(),this.Bo(),this.KE.ES},e.reset=function(){c(this.Oft),this.Oft=null,this.jft(),this.avt(),this.Nft=!0,this.M_=!1,this.Cft=!1,this.Dft=!1,this.Go=!1,this.X_=!1,this.qft=!1,this.dX(),this.Tvt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.ny=function(){return this.KE.ES},e.Qht=function(){return null===this.xft?this.KE.ES.currentTime:this.xft},e.Nat=function(t){var n=this.mvt(t);t=this.pvt(t),this.Cft=!1,this.KE.ES.error&&(this.Dft=!1,this.Go=!1,this.Tvt()),this.M_&&(this.M_=this.cvt(t)),this.jft(),null!==n&&(t=n),this.avt(),this.xft=t,this.X_=!0,this.dispatchEvent("Aat"),this.dispatchEvent("seeking"),this.YX()},e.Cvt=function(t){return this.rft.open?T.resolve(null):dd(this.rft,"sourceopen",t)},e.Dvt=function(t,n,i){cs(i),n>0&&(this.rft.duration=n),this.eft=new aM(this.rft);var r=this.eft._x(t);return this.dispatchEvent("jct"),this.eft.addEventListener("updatestart",this.jft),this.eft.addEventListener("updateend",this.evt),this.ift=!0,this.dispatchEvent("ift"),r},e.lat=function(t,n,i){var r=this;this.Mft.bo();var e=new os;return e.To(i),this.Mft=e,this.eft?T.resolve(null):this.Cvt(e.So).then(function(){return r.Dvt(t,n,i)})},e.k$=function(t){Q.Pe&&(this.Uft=!0,this.yvt(0),this.removeEventListener("wvt",this.gvt),this.addEventListener("wvt",this.gvt),this.eft&&this.eft.a6(t))},e.canPlayCodecs=function(t){return this.KE.ES.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"svt",get:function(){return this.Bft.GS()}},{key:"Kl",get:function(){var t=this.KE.Kl;return t>ll.S_&&(this.Cft||this.KU)?ll.S_:t}},{key:"_y",get:function(){return this.KE.ES}},{key:"vy",get:function(){return this.eft?this.eft.vy:this.KE.ES.buffered}},{key:"DL",get:function(){return this.eft?this.eft.DL:yO}},{key:"OL",get:function(){return this.eft?this.eft.OL:yO}},{key:"volume",get:function(){return this.KE.ES.volume},set:function(t){this.KE.ES.volume=t}},{key:"duration",get:function(){return this.KE.ES.duration}},{key:"muted",get:function(){return this.KE.ES.muted},set:function(t){this.KE.ES.muted=t}},{key:"paused",get:function(){return this.KE.H_&&!this.Lft}},{key:"played",get:function(){return this.KE.ES.played}},{key:"poster",get:function(){return this.KE.ES.poster},set:function(t){t?this.KE.ES.poster=t:this.KE.ES.removeAttribute("poster")}},{key:"controls",get:function(){return this.KE.ES.controls},set:function(t){t?this.KE.ES.controls=t:this.KE.ES.removeAttribute("controls")}},{key:"ended",get:function(){return this.M_}},{key:"seeking",get:function(){return this.X_}},{key:"error",get:function(){return this.Go||this.KE.ES.error}},{key:"width",get:function(){return this.KE.ES.offsetWidth||this.KE.ES.parentNode.offsetWidth}},{key:"height",get:function(){return this.KE.ES.offsetHeight||this.KE.ES.parentNode.offsetHeight}},{key:"V_",get:function(){return this.Iht},set:function(t){var n=this.Iht;t>0&&(this.Xx(t),this.Iht!==n&&this.dispatchEvent("ratechange"))}},{key:"q_",get:function(){return this.KE.ES.videoWidth||0}},{key:"W_",get:function(){return this.KE.ES.videoHeight||0}},{key:"dat",get:function(){return this.ift}}]),i}(xC),bM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Ovt","k$",Ol.ll],TM=.04,EM=.25,SM=4,RM=.75,IM=1.5,NM=.25,CM=function(t){function n(){var n;return(n=t.call(this)||this).xvt=null,n.Pvt=null,n.kI=!1,n.TI=1,n.AI=1,n.Bvt=null,n.Lvt=void 0,n.Wct=function(t){n.dispatchEvent(t)},n.Mvt=function(t){n.Pvt||n.dispatchEvent(t)},n.Uvt=function(t){var i=t.error||n.Pvt.error;n.audioStream=null,n.Bvt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Bvt})},n.Fvt=function(){n.Pvt&&!n.Pvt.loaded||n.xvt&&!n.xvt.loaded||(n.Pvt&&(n.Pvt.removeEventListener("loaded",n.Fvt),n.Pvt.play()),n.xvt&&(n.xvt.removeEventListener("loaded",n.Fvt),n.xvt.play()))},n.Hvt=function(){n.Vvt(),n.Pvt&&n.xvt&&(n.Pvt.addEventListener("timeupdate",n.Xvt),n.xvt.addEventListener("timeupdate",n.Xvt))},n.Vvt=function(){h(n.Lvt),n.Pvt&&n.Pvt.removeEventListener("timeupdate",n.Xvt),n.xvt&&(n.xvt.V_=n.AI,n.xvt.removeEventListener("timeupdate",n.Xvt))},n.Wvt=function(){n.Kl<ll.R_&&n.Vvt()},n.Xvt=function(){if(h(n.Lvt),n.Pvt&&n.xvt){var t=n.Pvt.V_,i=n.Pvt.Qht()-n.xvt.Qht(),r=l.max(SM,IM*t),e=l.min(EM,RM*t);if(l.abs(i)<TM)n.xvt.V_!==t&&(n.xvt.V_=t);else{var s=NM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.xvt.V_=u,n.Lvt=o(n.Xvt,1e3*s)}}else n.Vvt()},n.addEventListener("playing",n.Hvt),n.addEventListener("ended",n.Vvt),n.addEventListener(Ol.ll,n.Wvt),n}U(n,t);var i=n.prototype;return i._$=function(t,n){n?(t.addEventListener("timeupdate",this.Wct),t.addEventListener("error",this.Uvt)):(t.addEventListener("timeupdate",this.Mvt),t.addEventListener("error",this.Wct));for(var i=0;i<bM.length;i++){var r=bM[i];t.addEventListener(r,this.Wct)}},i.Uo=function(t){t.removeEventListener("timeupdate",this.Wct),t.removeEventListener("timeupdate",this.Mvt),t.removeEventListener("timeupdate",this.Xvt),t.removeEventListener("error",this.Wct),t.removeEventListener("error",this.Uvt),t.removeEventListener("loaded",this.Fvt);for(var n=0;n<bM.length;n++){var i=bM[n];t.removeEventListener(i,this.Wct)}},i.qvt=function(t){this.Pvt&&this.Pvt.qvt(t),this.xvt&&this.xvt.qvt(t)},i.play=function(){if(this.Pvt&&!this.Pvt.loaded||this.xvt&&!this.xvt.loaded)return this.Pvt&&this.Pvt.addEventListener("loaded",this.Fvt),void(this.xvt&&this.xvt.addEventListener("loaded",this.Fvt));this.Fvt()},i.pause=function(){this.Pvt&&(this.Pvt.removeEventListener("loaded",this.Fvt),this.Pvt.pause()),this.xvt&&(this.xvt.removeEventListener("loaded",this.Fvt),this.xvt.pause()),this.Vvt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Pvt&&this.Pvt.load(),-1!==t.indexOf("video")&&this.xvt&&this.xvt.load()):(this.Pvt&&this.Pvt.load(),this.xvt&&this.xvt.load())},i.Pv=function(t){this.Bo(),this.Bvt=null,t?(-1!==t.indexOf("audio")&&this.Pvt&&(this.Pvt.Pv(),this.Pvt=null),-1!==t.indexOf("video")&&this.xvt&&(this.xvt.Pv(),this.xvt=null)):(this.Pvt&&(this.Pvt.Pv(),this.Pvt=null),this.xvt&&(this.xvt.Pv(),this.xvt=null))},i.k$=function(t){this.Pvt&&this.Pvt.pause(),this.xvt&&this.xvt.pause(),this.Vvt(),t&&-1===t.indexOf("audio")||!this.Pvt||this.Pvt.k$(),t&&-1===t.indexOf("video")||!this.xvt||this.xvt.k$()},i.R7=function(t){this.Pvt&&t.pZ&&this.Pvt.R7(t),this.xvt&&t.AZ&&this.xvt.R7(t)},i.zvt=function(t){return this.xvt?this.xvt.zvt(t):""},i.Gvt=function(){return this.xvt?this.xvt.Gvt():0},i.jvt=function(){return this.xvt?this.xvt.jvt():0},i.ny=function(){return this.xvt&&this.xvt.ny()},i.Qht=function(){return this.Pvt?this.Pvt.Qht():this.xvt?this.xvt.Qht():NaN},i.Nat=function(t,n){this.Pvt&&this.Pvt.Nat(t,n),this.xvt&&this.xvt.Nat(t,n)},L(n,[{key:"vy",get:function(){return this.Pvt&&this.xvt?pO(this.Pvt.vy,this.xvt.vy):this.Pvt?this.Pvt.vy:this.xvt?this.xvt.vy:yO}},{key:"volume",get:function(){return this.TI},set:function(t){this.TI!==t&&(this.TI=t,this.Pvt&&(this.Pvt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Pvt&&this.Pvt.duration||this.xvt&&this.xvt.duration||NaN}},{key:"muted",get:function(){return this.kI},set:function(t){this.kI!==t&&(this.kI=t,this.Pvt&&(this.Pvt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Pvt&&!this.xvt)&&(!(this.Pvt&&!this.Pvt.loaded)&&!(this.xvt&&!this.xvt.loaded))}},{key:"paused",get:function(){return!this.Pvt&&!this.xvt||(this.Pvt&&this.Pvt.paused||this.xvt&&this.xvt.paused||!1)}},{key:"ended",get:function(){return this.Pvt&&this.Pvt.ended||this.xvt&&this.xvt.ended||!1}},{key:"seeking",get:function(){return this.Pvt&&this.Pvt.seeking||this.xvt&&this.xvt.seeking||!1}},{key:"error",get:function(){return this.Pvt&&this.Pvt.error||this.xvt&&this.xvt.error}},{key:"warning",get:function(){return this.Bvt||this.Pvt&&this.Pvt.warning||this.xvt&&this.xvt.warning}},{key:"audioStream",get:function(){return this.Pvt},set:function(t){this.Pvt&&(this.Uo(this.Pvt),this.Pvt.Pv()),this.Pvt=t,this.Pvt&&(this.Pvt.volume=this.TI,this.Pvt.muted=this.kI,this.Pvt.V_=this.AI,this._$(this.Pvt,!0))}},{key:"videoStream",get:function(){return this.xvt},set:function(t){this.xvt&&(this.Uo(this.xvt),this.xvt.Pv()),this.xvt=t,this.xvt&&(this.xvt.V_=this.AI,this._$(this.xvt,!1))}},{key:"V_",get:function(){return this.AI},set:function(t){this.AI!==t&&(t<0||(this.AI=t,this.Pvt&&(this.Pvt.V_=t),this.xvt&&(this.xvt.V_=t),this.dispatchEvent("ratechange")))}},{key:"Kl",get:function(){return this.Pvt&&this.xvt?l.min(this.Pvt.Kl,this.xvt.Kl):this.Pvt?this.Pvt.Kl:this.xvt?this.xvt.Kl:ll.T_}},{key:"q_",get:function(){return this.xvt?this.xvt.q_:0}},{key:"W_",get:function(){return this.xvt?this.xvt.W_:0}}]),n}(xC),DM=function(){function t(t,n,i,r){var e=this;this.Qvt=void 0,this.Yvt=void 0,this.L_=void 0,this.ED=void 0,this.Zvt=void 0,this.Jvt=void 0,this.Gy=void 0,this.hv=0,this.Iv=0,this.running=!1,this.$vt=function(t){return e.xh(t)},this.Qvt=t,this.Yvt=n,this.L_=i,this.ED=r,this.Zvt=t.th(),this.Jvt=(n-this.Zvt)/(i||1)}var n=t.prototype;return n.Kvt=function(){return this.Qvt.Fa(this.Yvt),this.running=!1,this.tdt(),this.ED()},n.NR=function(){var t=this;this.running=!0,this.L_?this.ndt():OC(function(){t.running&&t.Kvt()})},n.xh=function(t){if(this.tdt(),this.running){void 0===this.Gy&&(this.Gy=t);var n=this.Zvt,i=this.Jvt,r=this.Yvt,e=this.Qvt,s=n+l.max(0,t-this.Gy)*i;if(n>=r&&s<=r||n<r&&s>=r)return this.Kvt();if(e.Fa(s))return this.Kvt();this.ndt()}},n.ndt=function(){this.hv=uT(this.$vt),this.Iv=rT(this.$vt)},n.tdt=function(){oT(this.hv),sT(this.Iv)},t}();var OM=function(t){function n(n,i){var r;return(r=t.call(this)||this).idt=void 0,r.xs=void 0,r.rdt=null,r.edt=null,r.sdt=NaN,r.udt=!1,r.odt=!1,r.hdt=1,r.adt=void 0,r.cdt=void 0,r.fdt=function(t){r.vdt(t)||r.dispatchEvent(t)},r.idt=n,r.xs=i,r}U(n,t);var i=n.prototype;return i.pause=function(){this.idt.pause()},i.play=function(){nM(this.idt.play()),this.ddt()},i.ldt=function(t){if(!(this.Kl<ll.R_))return this.a6(),this.udt=!0,this.fdt({type:"canplay"}),t&&t();this.adt=o(this.cdt,100)},i.Dh=function(t){this.odt=!0,this.udt=!1,this.idt.removeEventListener("canplay",this.cdt),this.cdt=this.ldt.bind(this,t),this.idt.addEventListener("canplay",this.cdt),this.idt.load(),this.adt=o(this.cdt,100)},i.a6=function(){this.odt=!1,this.idt.removeEventListener("canplay",this.cdt),void 0!==this.adt&&(h(this.adt),this.adt=void 0)},i._dt=function(t){if(this.pause(),this.a6(),null===t)return this.rdt=null,void(this.udt=!1);this.udt=!1,this.edt&&this.edt.X6(this.idt.src),this.edt=t[this.xs],this.idt.src=this.edt.W6,this.rdt=t},i.ny=function(){return this.idt},i.gdt=function(t){this.sdt=l.max(t||0,0),this.idt.currentTime=this.sdt},i.wdt=function(){return this.idt.currentTime},i.ydt=function(t){var n=this.rdt&&this.rdt.metadata,i=n&&n.NR,r=n&&n[this.xs].NR,e=n&&n[this.xs].L_;return!!this.L0&&(!(t<i)&&t<r+l.min(e,this.idt.duration))},i.ddt=function(){this.hdt!==this.idt.playbackRate&&(this.idt.playbackRate=this.hdt,qy&&this.hdt>0&&this.Kl!==ll.T_&&(this.idt.currentTime=this.idt.currentTime))},i.vdt=function(t){return!!(qy&&"seeked"===t.type&&l.abs(this.idt.currentTime-this.sdt)>.04)},i.addEventListener=function(n,i){this.xQ(n)||this.idt.addEventListener(n,this.fdt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.xQ(n)||this.idt.removeEventListener(n,this.fdt)},i.Bo=function(){for(var n=0,i=this.PQ();n<i.length;n++){var r=i[n];this.idt.removeEventListener(r,this.fdt)}t.prototype.Bo.call(this)},i.unload=function(){this.edt&&this.edt.X6(this.idt.src),this.Bo()},L(n,[{key:"volume",get:function(){return this.idt.volume},set:function(t){this.idt.volume=t}},{key:"muted",get:function(){return this.idt.muted},set:function(t){this.idt.muted=t}},{key:"style",get:function(){return this.idt.style}},{key:"NR",get:function(){return this.rdt?this.rdt.metadata[this.xs].NR:NaN}},{key:"OR",get:function(){return this.rdt?this.NR+this.rdt.metadata[this.xs].L_:NaN}},{key:"mdt",get:function(){return this.rdt?this.NR+this.kdt:NaN},set:function(t){this.rdt?this.kdt=t-this.NR:this.kdt=0}},{key:"kdt",get:function(){return this.wdt()},set:function(t){this.gdt(t)}},{key:"pdt",get:function(){return this.rdt},set:function(t){this._dt(t)}},{key:"H6",get:function(){return this.rdt&&this.rdt.metadata.d3}},{key:"L0",get:function(){return!(!this.udt||!this.rdt)}},{key:"Adt",get:function(){return!(!this.odt||!this.rdt)}},{key:"V_",get:function(){return this.hdt},set:function(t){t>=0&&this.hdt!==t&&(this.hdt=t,this.ddt())}},{key:"H_",get:function(){return this.idt.paused}},{key:"M_",get:function(){return this.idt.ended}},{key:"Go",get:function(){return this.idt.error}},{key:"q_",get:function(){return this.idt.videoWidth}},{key:"W_",get:function(){return this.idt.videoHeight}},{key:"Kl",get:function(){return this.idt.readyState}}]),n}(xC);function xM(t,n){return i=t.pdt.metadata.WZ,r=n.pdt.metadata.WZ,i.bandwidth&&r.bandwidth&&c_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&c_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||a_(i.KQ,r.KQ)||c_(t.OR,n.OR);var i,r}function PM(t){return{NR:t.NR,OR:t.OR}}function BM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.NR<=n&&n<r.OR)return i}return-1}function LM(t,n,i){return{NR:n?i.metadata.N6:i.metadata[t].NR,OR:i.metadata[t].NR+i.metadata[t].L_}}function MM(t,n,i){return new wO([LM(t,n,i)])}function UM(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(LM(t,n,s))}return kO(new wO(r))}function FM(t,n,i){if(!n)return!1;var r=n.metadata[t].NR,e=r+n.metadata[t].L_;return r<=i&&i<=e}function HM(t,n){var i=TO(t,n);return i<0?n:t.end(i)}var VM=function(){function t(t){this.Ku=void 0,this._1=[],this.bdt=yO,this.Tdt=yO,this.Ku=t}var n=t.prototype;return n.R7=function(t){var n,i;this._1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.pdt===t?e.OR=r:i.push({pdt:t,NR:n,OR:r})},e=0;e<t.length;e++){var s=t[e];if(s.OR<=n.NR)r(s.pdt,s.NR,s.OR);else if(s.NR>=n.OR)n.NR<n.OR&&(r(n.pdt,n.NR,n.OR),n.NR=n.OR),r(s.pdt,s.NR,s.OR);else{var u=void 0,o=void 0;xM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.NR,a=o.NR,c=l.min(o.OR,s.OR),f=l.min(u.OR,s.OR);h<a&&r(u.pdt,h,a),a<c&&r(o.pdt,a,c),c<f&&r(u.pdt,c,f),n.NR=l.max(n.NR,s.OR)}}return n.NR<n.OR&&r(n.pdt,n.NR,n.OR),i}(this._1,function(t,n){var i=n.metadata[t].NR;return{pdt:n,NR:i,OR:i+n.metadata[t].L_}}(this.Ku,t)),this.bdt=SO(this.bdt,MM(this.Ku,!1,t)),this.Tdt=SO(this.Tdt,MM(this.Ku,!0,t)),this.Tdt=(n=this.Tdt,i=this.bdt,pO(n,AO(i)))},n.Edt=function(t){t=this.Sdt(t);var n=BM(this._1,t);return n>=0?this._1[n].pdt:null},n.Rdt=function(t,n,i,r){t=this.Sdt(t);var e=this._1,s=BM(e,t);if(s<0)return null;var u=e[s];if(!i||!FM(this.Ku,i,t))return r&&FM(this.Ku,r,t)?null:u.pdt;if(i!==u.pdt){if(r&&r===u.pdt)return null;if(u.OR-t>n)return u.pdt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.pdt)return null;if(h.OR-t>n)return h.pdt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].pdt);var f=UM(this.Ku,!1,a);a.push(h.pdt);var v=UM(this.Ku,!1,a);if(HM(f,t)<HM(v,t))return h.pdt}return null},n.Idt=function(t,n){for(var i=this._1,r=i.length-1;r>=0;r--){var e=i[r];(e.OR<=t||e.NR>=n)&&ts(i,r)}},n.Il=function(){this._1.length=0,this.bdt=yO,this.Tdt=yO},n.Sdt=function(t){var n=lM(t,this.vy,this.Tdt,!1);return void 0===n?t:n},L(t,[{key:"vy",get:function(){var t=this._1.map(PM);return kO(new wO(t))}}]),t}(),XM=5,WM=30,qM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).Ndt=void 0,r.xs=void 0,r.Cdt=void 0,r.Ddt=void 0,r.Odt=void 0,r.da={pZ:{xdt:100,Pdt:100,Bdt:100},AZ:{xdt:500,Pdt:100,Bdt:200}},r.TI=void 0,r.nS=null,r.Bvt=null,r.Ldt=null,r.Mdt=void 0,r.Udt=void 0,r.Fdt=void 0,r.Hdt=void 0,r.Vdt=null,r.Xdt=void 0,r.Wdt=void 0,r.qdt=0,r.zdt=null,r.Gdt=!1,r.Sj=!1,r.jdt=0,r.Qdt=0,r.Ydt=ll.T_,r.pft=function(){var t=r.Qht();r.Odt.Idt(t-XM,t+WM)},r.Zdt={Jdt:(e=en(r),{Dh:function(){e.Fdt.addEventListener("ended",this.$dt),e.Hdt.addEventListener("ended",this.Kdt)},Pv:function(){e.Fdt.removeEventListener("ended",this.$dt),e.Hdt.removeEventListener("ended",this.Kdt)},tlt:function(){},$dt:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Fdt})},Kdt:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Hdt})}}),Fb:{hs:"Fb",Dh:function(){},Pv:function(){},tlt:function(){}},nlt:function(){var t=en(r),n=function n(){t.Fdt.removeEventListener("play",n),t.Fdt.removeEventListener("timeupdate",i),t.Fdt.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Fdt.H_||(!t.seeking&&t.Fdt.pdt?(i=t.Fdt,(r=t.Hdt).L0&&zM(i,r)>=0&&t.ilt(t.Zdt.rlt)):t.Fdt.removeEventListener("timeupdate",n))};return{hs:"nlt",Dh:function(){t.Zdt.Jdt.Dh.call(this),this.elt(),this.tlt()},Pv:function(){t.Zdt.Jdt.Pv.call(this),t.Fdt.removeEventListener("play",n),t.Fdt.removeEventListener("timeupdate",i)},tlt:function(){t.Fdt.pdt?t.tlt(t.Hdt,t.slt):t.tlt(t.Fdt,t.slt)},$dt:function(){var n=t.Hdt.pdt;if(n&&n.metadata.l3)return t.Hdt.ydt(t.Fdt.mdt)&&(t.Hdt.mdt=t.Fdt.mdt),t.ult(),void t.Fdt.play();t.Zdt.Jdt.$dt.call(this)},Kdt:function(){0},elt:function(){t.Fdt.removeEventListener("play",n),t.Fdt.H_?t.Fdt.addEventListener("play",n):n.call(t.Fdt)}}}(),rlt:function(){var t=en(r),n=function(){r.ilt(r.Zdt.olt)};return{hs:"rlt",Dh:function(){t.Zdt.Jdt.Dh.call(this),t.Hdt.addEventListener("seeked",n);var i=zM(t.Fdt,t.Hdt),r=t.da[t.xs].xdt/1e3,e=l.min(i+r,t.Hdt.OR);try{t.Hdt.kdt=e}catch(n){t.ilt(t.Zdt.nlt),t.hlt(n.message)}},Pv:function(){t.Zdt.Jdt.Pv.call(this),t.Hdt.removeEventListener("seeked",n)},tlt:function(){},$dt:function(){t.Zdt.Jdt.$dt.call(this)},Kdt:function(){}}}(),olt:function(){var t,n=en(r),i=function(){s()},e=function(){s()},s=function(){oT(t),r.Hdt.mdt-r.Fdt.mdt-1/60>0?t=uT(i):r.ilt(r.Zdt.clt)};return{hs:"olt",Dh:function(){n.Zdt.Jdt.Dh.call(this),n.Fdt.addEventListener("timeupdate",e),s()},Pv:function(){n.Zdt.Jdt.Pv.call(this),oT(t),n.Fdt.removeEventListener("timeupdate",e)},tlt:function(){},$dt:function(){n.Zdt.Jdt.$dt.call(this)},Kdt:function(){n.Zdt.Jdt.Kdt.call(this)}}}(),clt:function(){var t,n=en(r),i=function(){var t=r.flt(r.Hdt),n=r.da[r.xs].Pdt/l.max(1,r.Fdt.V_);return function(t,n,i,r){return new DM(t,n,i,r)}(t,t.vlt,n,function(){r.ilt(r.Zdt.dlt),r.Zdt.dlt.llt()})},e=function(){r.Ldt.NR(),r.ilt(r.Zdt.dlt)};return{hs:"clt",Dh:function(){n.Zdt.Jdt.Dh.call(this);var r=n.da[n.xs].Bdt/l.max(1,n.Fdt.V_);n.Ldt=i(),t=o(e,r),n.Hdt.play()},Pv:function(){n.Zdt.Jdt.Pv.call(this),h(t),t=0},tlt:function(){},$dt:function(){n.Zdt.Jdt.$dt.call(this)},Kdt:function(){n.Zdt.Jdt.Kdt.call(this)}}}(),dlt:function(){var t=en(r);return{hs:"dlt",Dh:function(){t.Zdt.Jdt.Dh.call(this)},Pv:function(){t.Zdt.Jdt.Pv.call(this),t.Ldt&&t.Ldt.Kvt()},tlt:function(){},$dt:function(){t.Zdt.Jdt.$dt.call(this)},Kdt:function(){t.Zdt.Jdt.Kdt.call(this)},llt:function(){t.Ldt=null,t.ult()}}}()},r._lt={glt:function(){var t=en(r);return{Dh:function(){},Pv:function(){},tlt:function(){t.Xdt.tlt()},Nat:function(n,i,r,e){t.qdt=n,t.zdt=e,t.ilt(t.Zdt.Fb);var s=t.Fdt===t.Mdt?i:r,u=t.Hdt===t.Mdt?i:r;s&&t.Fdt.ydt(n)?t.wlt(t._lt.ylt):u&&t.Hdt.ydt(n)?t.wlt(t._lt.mlt):t.wlt(t._lt.klt)}}}(),klt:function(){var t=en(r),n=function(){r.slt(),r.Hdt.L0?(r.Hdt.ydt(r.qdt)||(r.plt('Could not seek to exact timestamp "'+r.qdt+'", seeking instead to: "'+r.Hdt.NR+'"'),r.qdt=r.Hdt.NR),r.wlt(r._lt.mlt)):r.wlt(r._lt.glt)};return{Dh:function(){t.Alt(),t.Fdt.pdt=null,t.Hdt.pdt=null,t.Hdt.style.display="none",t.slt(),this.tlt()},Pv:function(){t.Hdt.a6(),t.Hdt.style.display=""},tlt:function(){t.Hdt.pdt||t.tlt(t.Hdt,n)},Nat:function(n,i,r,e){t.blt(),t.Wdt.Nat(n,i,r,e)}}}(),ylt:function(){var t=en(r),n=function(){r.wlt(r._lt.glt),r.ilt(r.Zdt.nlt),r.JU(),r.zdt&&(r.zdt.call(t),r.zdt=null)};return{Dh:function(){t.Fdt.addEventListener("seeked",n);try{t.Fdt.mdt=t.qdt,t.JU()}catch(n){t.hlt(n.message)}},Pv:function(){t.Fdt.removeEventListener("seeked",n)},tlt:function(){},Nat:function(n,i,r,e){t.blt(),t.Wdt.Nat(n,i,r,e)}}}(),mlt:function(){var t=en(r),n=function(){r.wlt(r._lt.glt),r.ult(),r.zdt&&(r.zdt.call(t),r.zdt=null)};return{Dh:function(){t.Hdt.style.display="none",t.Hdt.addEventListener("seeked",n);try{t.Hdt.mdt=t.qdt,t.JU()}catch(n){t.hlt(n.message)}},Pv:function(){t.Hdt.style.display="",t.Hdt.removeEventListener("seeked",n)},tlt:function(){},Nat:function(n,i,r,e){t.blt(),t.Wdt.Nat(n,i,r,e)}}}()},r.slt=function(){var t=r.Sj;r.Sj=r.Mdt.Adt||r.Udt.Adt,t&&!r.Sj&&r.dispatchEvent("updateend"),r.Tlt(),r.JU(),r.Elt()},r.JU=function(){var t=r.Kl;t!==r.Ydt&&(r.Ydt=t,r.dispatchEvent(Ol.ll))},r.Ndt=n,r.xs=i,r.Odt=new VM(i),r.TI="AZ"===i?0:1;var s=function(t){switch(t){case"pZ":return"audio";case"AZ":return"video"}}(i);return r.Cdt=GM(s),r.Ddt=GM(s),n.appendChild(r.Cdt),n.appendChild(r.Ddt),r.Mdt=new OM(r.Cdt,r.xs),r.Udt=new OM(r.Ddt,r.xs),r.Fdt=r.Mdt,r.Hdt=r.Udt,r.Xdt=r.Zdt.nlt,r.Wdt=r._lt.glt,r.Xdt.Dh(),r.Wdt.Dh(),r.$J(),r.Pl(),r}U(n,t);var i=n.prototype;return i.Slt=function(t){return t===this.Mdt?this.Udt:this.Mdt},i.plt=function(t){this.Bvt=t,this.dispatchEvent({type:"warning",warning:this.Bvt})},i.hlt=function(t){this.nS=t,this.dispatchEvent({type:"error",error:t})},i.flt=function(t){var n,i=this,r=this.Slt(t);return n="AZ"===this.xs?{th:function(){if(i.Vdt!==t)return 0;var n=g(t.style.opacity);return w(n)?1:n},Fa:function(n){n=qt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Vdt=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},vlt:1,Rlt:function(){if(n.th()!==n.vlt)return n.Fa(n.vlt)}}:{th:function(){return t.volume},Fa:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.vlt-i}catch(t){e=t}return e},vlt:this.TI,Rlt:function(){if(n.th()!==n.vlt)return n.Fa(n.vlt)}}},i.tlt=function(t,n){var i=this.Odt.Rdt(this.Qht(),1,this.Fdt.pdt,this.Hdt.pdt);return!!i&&(this.Alt(),t.pdt=i,t.Dh(n),t.H6&&this.dispatchEvent("durationchange"),!0)},i.Ilt=function(){this.Alt(),this.Odt.Il(),this.Mdt.a6(),this.Udt.a6(),this.slt()},i.ny=function(){return this.Fdt.ny()},i.Qht=function(){return this.seeking?this.qdt:this.Fdt.mdt},i.Nat=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.Wdt.Nat(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.ult=function(){var t=this.Fdt;this.ilt(this.Zdt.Fb),this.Fdt=this.Hdt,this.Hdt=t,this.flt(this.Fdt).Rlt(),this.Alt(),this.Hdt.pause(),this.Hdt.pdt=null,this.slt(),this.ilt(this.Zdt.nlt)},i.$J=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.hlt(new LC(BC.XQ,{code:"VEE"+i.error})):t.hlt(new LC(BC.XQ,{code:"VEE"+n.Go.code}));n===t.Fdt&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Mdt),e=i.bind(null,this.Udt),s=0;s<n.length;s++){var u=n[s];this.Mdt.addEventListener(u,r),this.Udt.addEventListener(u,e)}this.Mdt.addEventListener("error",r),this.Udt.addEventListener("error",e);for(var o=0;o<HS.length;o++){var h=HS[o];this.Mdt.addEventListener(h,this.JU),this.Udt.addEventListener(h,this.JU)}},i.Pl=function(){this.addEventListener("seeking",this.pft),this.addEventListener("timeupdate",this.pft)},i.ilt=function(t){var n;if(this.Xdt!==t){do{(n=this.Xdt).Pv()}while(n!==this.Xdt);this.Xdt=t,t.Dh()}},i.wlt=function(t){var n;if(this.Wdt!==t){do{(n=this.Wdt).Pv()}while(n!==this.Wdt);this.Wdt=t,t.Dh()}},i.blt=function(){this.zdt=null,this.wlt(this._lt.glt)},i.load=function(){this.pause(),this.blt(),this.Fdt.pdt=null,this.Hdt.pdt=null,this.ilt(this.Zdt.nlt)},i.Pv=function(){this.blt(),this.ilt(this.Zdt.Fb),this.Ilt(),this.Mdt.unload(),this.Udt.unload(),this.Ndt.removeChild(this.Cdt),this.Ndt.removeChild(this.Ddt),this.nS=null,this.Bvt=null},i.k$=function(){var t=this,n=this.Qht();this.Ilt(),this.Wdt.Nat(n,!1,!1,function(){t.dispatchEvent("k$",!0)})},i.play=function(){this.flt(this.Fdt).Rlt(),this.Fdt.L0&&this.Fdt.play()},i.pause=function(){this.Mdt.pause(),this.Udt.pause()},i.qvt=function(t){var n=this,i=function(){n.dispatchEvent("Ovt",!0)};this.pause(),this.Fdt.M_?this.Wdt.Nat(t,this.Hdt===this.Mdt,this.Hdt===this.Udt,i):this.Hdt.M_?this.Wdt.Nat(t,!1,!1,i):this.Hdt.ydt(t)?this.Wdt.Nat(t,this.Hdt===this.Mdt,this.Hdt===this.Udt,i):i()},i.R7=function(t){this.Alt(),this.Odt.R7(t),this.slt(),this.Wdt.tlt()},i.zvt=function(t){return this.Cdt.canPlayType('video/mp4; codecs="'+t+'"')},i.Gvt=function(){return l.max(this.Cdt.offsetWidth,this.Ddt.offsetWidth)},i.jvt=function(){return l.max(this.Cdt.offsetHeight,this.Ddt.offsetHeight)},i.Tlt=function(){!this.Gdt&&this.loaded&&(this.Gdt=!0,this.dispatchEvent("loaded"))},i.Elt=function(){if("AZ"===this.xs){var t=this.q_,n=this.W_;t>0&&n>0&&(this.jdt!==t||this.Qdt!==n)&&(this.jdt=t,this.Qdt=n,this.dispatchEvent("resize"))}},i.Alt=function(){var t=this.Sj;this.Sj=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"vy",get:function(){var t=[];return w(this.Mdt.NR)||t.push({NR:this.Mdt.NR,OR:this.Mdt.OR}),w(this.Udt.NR)||t.push({NR:this.Udt.NR,OR:this.Udt.OR}),SO(kO(new wO(t)),this.Odt.vy)}},{key:"duration",get:function(){return this.Fdt.H6?this.Fdt.OR:this.Hdt.H6?this.Hdt.OR:NaN}},{key:"paused",get:function(){return this.Fdt.H_}},{key:"ended",get:function(){return this.Fdt.M_}},{key:"muted",get:function(){return this.Fdt.muted&&this.Hdt.muted},set:function(t){this.Fdt.muted=t,this.Hdt.muted=t}},{key:"volume",get:function(){return this.TI},set:function(t){this.TI=t,this.Ldt&&this.Ldt.Kvt(),this.Hdt.volume=0,this.Fdt.volume=this.TI}},{key:"error",get:function(){return this.nS}},{key:"warning",get:function(){return this.Bvt}},{key:"seeking",get:function(){return this.Wdt!==this._lt.glt}},{key:"loaded",get:function(){return this.Fdt.L0}},{key:"V_",get:function(){return this.Fdt.V_},set:function(t){t>=0&&(this.Fdt.V_=t,this.Hdt.V_=t)}},{key:"q_",get:function(){return this.Fdt.q_}},{key:"W_",get:function(){return this.Fdt.W_}},{key:"aO",get:function(){return this.Sj}},{key:"Kl",get:function(){var t;if(this.Wdt===this._lt.klt||this.Wdt===this._lt.mlt)t=ll.E_;else{var n=this.Fdt.Kl;if(n<=ll.S_)t=n;else{var i=Yp.vI(this.vy).FR(),r=this.duration,e=this.Qht();w(r)||(e=l.min(e,r));var s=i.cI(e);if(s){var u=s.OR(0);t=u-e>=3*this.V_||!w(r)&&u>=r?ll.I_:ll.R_}else t=ll.S_}}return t===ll.T_&&this.Gdt?ll.E_:t}}]),n}(xC);function zM(t,n){return t.mdt-n.NR}function GM(t){var n=e.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),zr(n),n.controls=!1,n}var jM,QM=function(){function t(t){var n=this;this.fR=void 0,this.Ty=void 0,this.Nlt=void 0,this.Clt=void 0,this.Dlt=void 0,this.Olt=function(){(w(n.Clt)||n.Dlt)&&(n.Clt=n.Nx()),n.Nlt=n.Clt,n.Dlt=!1},this.xlt=function(){var t=n.Nx();n.Plt(t),n.Clt=t},this.Blt=function(){n.fR.Kl<=ll.S_&&n.xlt()},this.Llt=function(){n.Plt(n.Clt),n.Dlt=!0},this.Mlt=function(){n.Clt=n.Nx()},this.fR=t,this.Ty=Yp._I(),this.Nlt=NaN,this.Clt=NaN,this.Dlt=!1,t.addEventListener("playing",this.Olt),t.addEventListener("pause",this.xlt),t.addEventListener("seeking",this.Llt),t.addEventListener("timeupdate",this.Mlt),t.addEventListener(Ol.ll,this.Blt)}var n=t.prototype;return n.pU=function(){var t=this.Ty,n=this.Nlt;if(!w(n)){var i=this.Nx();n<i&&(t=t.JR(new Yp([n,i])))}return t.GS()},n.Nx=function(){return this.fR.Qht()},n.Plt=function(t){var n=this.Nlt;n<t&&(this.Ty=this.Ty.JR(new Yp([n,t]))),this.Nlt=NaN},n.Aat=function(){var t=this.Nx();this.Plt(t),this.Dlt=!0},n.Il=function(){this.Ty=Yp._I(),this.Nlt=NaN,this.Clt=NaN,this.Dlt=!1},n.wo=function(){var t=this.fR;t.removeEventListener("playing",this.Olt),t.removeEventListener("pause",this.xlt),t.removeEventListener("seeking",this.Llt),t.removeEventListener("timeupdate",this.Mlt),t.removeEventListener(Ol.ll,this.Blt),this.fR=null},t}(),YM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ult=void 0,r.KE=void 0,r.Wi=!1,r.QU=NaN,r.Flt=void 0,r.Uc=void 0,r.Ndt=void 0,r.Hlt=void 0,r.nS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Ydt=ll.T_,r.Vlt=function(){r.Hlt.seeking||(r.Hlt.removeEventListener("seeked",r.Vlt),r.dispatchEvent("seeked"),r.Xlt.paused?r.Uc=r.Wlt:r.qlt(),r.JU())},r.zlt=function(){r.Hlt.paused||(r.Hlt.removeEventListener("playing",r.zlt),r.dispatchEvent("playing"))},r.Glt=function(t){r.Uc=r.jlt,r.nS=t,r.dispatchEvent({type:"error",error:r.nS})},r.Qlt={paused:!0,play:function(){r.removeEventListener("ift",r.Qlt.Ylt),r.Wi?(r.Uc=r.Zlt,r.Hlt.removeEventListener("playing",r.zlt),r.Hlt.addEventListener("playing",r.zlt),r.Hlt.play(),r.dispatchEvent("play")):r.addEventListener("ift",r.Qlt.Ylt)},Ylt:function(){r.removeEventListener("ift",r.Qlt.Ylt),r.Uc.play()},stall:function(){},pause:function(){r.Qlt.Ylt&&r.removeEventListener("ift",r.Qlt.Ylt),r.Hlt.pause(),r.dispatchEvent("pause"),r.Uc=r.Wlt},load:function(t){},Qht:function(){return r.Wi?r.Hlt.Qht():0},Nat:function(t,n){var i=bO(r.vy,t);n=n||!i,r.Hlt.removeEventListener("seeked",r.Vlt),r.Hlt.addEventListener("seeked",r.Vlt),r.Xlt.seekTime=t,r.Uc=r.Xlt,r.dispatchEvent("Aat"),r.Hlt.Nat(t,n),r.dispatchEvent("seeking")},Gx:function(){return r.Hlt.Kl},k$:function(t){r.Xlt.seekTime=r.Qht(),r.Uc=r.Jlt,r.Hlt.removeEventListener("k$",r.Jlt.$lt),r.Hlt.addEventListener("k$",r.Jlt.$lt),r.Hlt.k$(t),r.JU()},forwardEvent:function(t){"pause"===t.type&&r.Hlt.ended||r.dispatchEvent(t)}},r.Wlt=_e({},r.Qlt,{pause:function(){r.removeEventListener("ift",r.Qlt.Ylt)},Nat:function(t){r.Xlt.paused=!0,r.Qlt.Nat(t)},k$:function(t){r.Xlt.paused=!0,r.Qlt.k$(t)}}),r.Klt=_e({},r.Wlt),r.t_t=_e({},r.Wlt,{load:function(t,n){r.removeEventListener("ift",r.t_t.n_t),n||r.dispatchEvent("loadstart"),r.Wi?r.Hlt.load(t):(r.t_t.i_t=t,r.addEventListener("ift",r.t_t.n_t))},n_t:function(){r.removeEventListener("ift",r.t_t.n_t),r.Uc.load(r.t_t.i_t,!0)},i_t:null,Qht:function(){return r.Wi?r.Hlt.Qht():r.t_t.r_t},Nat:function(t){r.removeEventListener("ift",r.t_t.e_t),r.Wi?(r.Uc=r.Wlt,r.Uc.Nat(t)):(r.t_t.r_t=t,r.addEventListener("ift",r.t_t.e_t),r.dispatchEvent("seeking"))},e_t:function(){r.removeEventListener("ift",r.t_t.e_t),r.Uc.Nat(r.t_t.r_t)},r_t:0,k$:function(t){}}),r.Zlt=_e({},r.Qlt,{Nat:function(t){r.Xlt.paused=!1,r.Qlt.Nat(t)},play:function(){},stall:function(){r.Uc=r.s_t,r.s_t.u_t=r.Hlt.Qht(),r.s_t.paused=!1,r.Hlt.addEventListener("Ovt",r.s_t.o_t),r.Hlt.qvt(r.s_t.u_t),r.JU()},k$:function(t){r.Xlt.paused=!1,r.Qlt.k$(t)}}),r.s_t=_e({},r.Zlt,{paused:!1,u_t:0,Nat:function(t){r.Hlt.removeEventListener("Ovt",r.s_t.o_t),r.s_t.paused?r.Uc=r.Wlt:r.Uc=r.Zlt,r.Uc.Nat(t),r.JU()},Qht:function(){return r.s_t.u_t},Gx:function(){return l.min(r.Hlt.Kl,ll.S_)},forwardEvent:function(){},play:function(){r.s_t.paused=!1,r.dispatchEvent("play")},pause:function(){r.s_t.paused=!0,r.dispatchEvent("pause")},stall:function(){},o_t:function(){r.Hlt.seeking||(r.Hlt.removeEventListener("Ovt",r.s_t.o_t),r.s_t.paused?r.Uc=r.Wlt:r.Qlt.play(),r.JU())}}),r.Xlt=_e({},r.Qlt,{paused:!1,seekTime:0,Qht:function(){return r.Xlt.seekTime},play:function(){r.Xlt.paused=!1},pause:function(){r.Xlt.paused=!0,r.Hlt.pause(),r.dispatchEvent("pause")}}),r.Jlt=_e({},r.Xlt,{Nat:function(t){r.Hlt.removeEventListener("k$",r.Jlt.$lt),r.Xlt.paused?r.Uc=r.Wlt:r.Uc=r.Zlt,r.Uc.Nat(t)},Gx:function(){return l.min(r.Hlt.Kl,ll.S_)},forwardEvent:function(){},stall:function(){},$lt:function(){r.Hlt.seeking||(r.Hlt.removeEventListener("k$",r.Jlt.$lt),r.Xlt.paused?r.Uc=r.Wlt:r.Qlt.play(),r.JU())}}),r.jlt=_e({},r.Qlt,{play:function(){},pause:function(){},load:function(){},Qht:function(){return NaN},Gx:function(){return ll.T_},Nat:function(t){r.Qlt.Nat(t,!0)},k$:function(t){}}),r.Co=function(t){r.dispatchEvent(t)},r.h_t=function(t){r.Uc.forwardEvent(t)},r.a_t=function(t){r.Glt(t.error)},r.c_t=function(t){if(t.origin&&t.origin.H6)return r.qw();r.Uc.stall()},r._vt=function(){var t=r.Hlt.duration;t&&r.QU!==t&&(r.QU=t,r.dispatchEvent("durationchange"))},r.f_t=function(){r.Hlt.loaded&&(r.loaded=!0)},r.JU=function(){var t=r.Kl;t!==r.Ydt&&(r.Ydt=t,r.dispatchEvent(Ol.ll))},r.Ult=n,r.KE=i,r.Flt=new QM(en(r)),r.Hlt=new CM,r.Uc=r.t_t,r.Ndt=e.createElement("div"),r.Ndt.style.position="absolute",r.Ndt.style.width="100%",r.Ndt.style.height="100%",r.v_t(),r}U(n,t);var i=n.prototype;return i.qlt=function(){this.Qlt.play()},i.v_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Hlt.addEventListener(r,this.Co)}for(var e=0;e<n.length;e++){var s=n[e];this.Hlt.addEventListener(s,this.h_t)}this.Hlt.addEventListener("ended",this.c_t),this.Hlt.addEventListener("error",this.a_t),this.Hlt.addEventListener("durationchange",this._vt),this.Hlt.addEventListener("loaded",this.f_t),this.Hlt.addEventListener(Ol.ll,this.JU)},i.setup=function(){this.KE.ES.parentNode===this.Ult?this.Ult.replaceChild(this.Ndt,this.KE.ES):(this.KE.ES.parentNode&&this.KE.ES.parentNode.removeChild(this.KE.ES),this.Ult.appendChild(this.Ndt))},i.play=function(){this.Uc.play()},i.pause=function(){this.Uc.pause()},i.d_t=function(t){this.Hlt&&this.Hlt.Pv(t),this.Wi=!1},i.qw=function(){this.pause(),this.Uc=this.Klt,this.nS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Uc.load(t)},i.unload=function(){return this.Hlt.Pv(),this.Flt.wo(),this.Ndt.parentNode===this.Ult?this.Ult.replaceChild(this.KE.ES,this.Ndt):(this.Ndt.parentNode&&this.Ndt.parentNode.removeChild(this.Ndt),this.Ult.appendChild(this.KE.ES)),this.Bo(),this.KE.ES},i.reset=function(t){this.Wi=!1,this.Uc=this.t_t,this.nS=void 0,this.QU=NaN,this.Ydt=ll.T_,this.Flt.Il(),this.d_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.k$=function(t){this.Uc.k$(t)},i.R7=function(t){return this.Hlt.R7(t),T.resolve()},i.ny=function(){return this.Hlt.ny()},i.Qht=function(){return this.Uc.Qht()},i.Nat=function(t){this.Flt.Aat(),this.Uc.Nat(t)},i.Ost=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.Hlt.zvt('video/mp4; codecs="'+t+'"')},i.lat=function(t,n,i){var r={};for(var e in t)if(Y.call(t,e)){var s=t[e];!this.Hlt.videoStream&&s.AZ&&(this.Hlt.videoStream=new qM(this.Ndt,"AZ"),r.AZ=this.Hlt.videoStream),!this.Hlt.audioStream&&s.pZ&&(this.Hlt.audioStream=new qM(this.Ndt,"pZ"),r.pZ=this.Hlt.audioStream,this.dispatchEvent("jct"))}return this.Wi=!0,this.dispatchEvent("ift"),T.resolve(r)},L(n,[{key:"dat",get:function(){return this.Wi}},{key:"_y",get:function(){return this.Ndt}},{key:"vy",get:function(){return this.Hlt.vy}},{key:"volume",get:function(){return this.Hlt.volume},set:function(t){this.Hlt.volume=t}},{key:"duration",get:function(){return this.QU}},{key:"muted",get:function(){return this.Hlt.muted},set:function(t){this.Hlt.muted=t}},{key:"paused",get:function(){return this.Uc.paused&&this.Hlt.paused}},{key:"played",get:function(){return this.Flt.pU()}},{key:"ended",get:function(){return this.Uc===this.Klt}},{key:"seeking",get:function(){return this.Uc===this.Xlt}},{key:"error",get:function(){return this.nS||this.Hlt.error}},{key:"warning",get:function(){return this.Hlt.warning}},{key:"width",get:function(){return this.Hlt.Gvt()}},{key:"height",get:function(){return this.Hlt.jvt()}},{key:"V_",get:function(){return this.Hlt.V_},set:function(t){this.Hlt.V_=t}},{key:"Kl",get:function(){return this.Uc.Gx()}},{key:"q_",get:function(){return this.Hlt.q_}},{key:"W_",get:function(){return this.Hlt.W_}}]),n}(xC);!function(t){t.JQ="unsupported",t.l_t="native",t.__t="hls-native",t.g_t="hls-mse",t.w_t="hls-switching-video"}(jM||(jM={}));var ZM=function(){function t(){this.y_t={},this.m_t(jM.l_t,sM),this.m_t(jM.__t,sM),this.m_t(jM.g_t,AM),this.m_t(jM.w_t,YM)}return t.prototype.m_t=function(t,n){this.y_t[t]=n},t.m_t=function(n,i){t.b0.m_t(n,i)},t.k_t=function(n,i,r){var e=t.b0.y_t[n];return e?new e(i,r):void 0},t}();ZM.b0=new ZM;var JM=function(t){function n(n){var i;return(i=t.call(this)||this).p_t=void 0,i.A_t=function(t){i.Do(t)},i.p_t=n,i.b_t(),i}U(n,t);var i=n.prototype;return i.b_t=function(){this.p_t.Oo("TD",this.A_t)},i.T_t=function(){this.p_t.Lo("TD",this.A_t)},i.Pv=function(){this.T_t()},L(n,[{key:"DD",get:function(){return this.p_t.DD}},{key:"OD",get:function(){return this.p_t.OD}},{key:"E_t",set:function(t){var n=this.p_t;n.DD===t.DD&&n.OD===t.OD||(this.T_t(),this.p_t=t,this.b_t(),this.Do(new $b(t.OD,t.DD)))}}]),n}(Ss);function $M(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function KM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function tU(t,n){var i=t.type;return i?xy?KM(i)?!Hy||n.useSwitchOverMSE||Q.Pe&&n.vr&&n.vr[360]?!Ly||Q.Ie||Q.Oe&&Q.ce?My?jM.w_t:jM.JQ:jM.__t:jM.g_t:jM.l_t:jM.JQ:jM.l_t}var nU=function(t,n,i,r,e){var s,u,a,c,v,_,y=this,m=null,k=null,p=null,A=!0,b=null,E=null,S=!1,R=null,I=null,N=null,C=$p,D=$p,O=!0,x=null,P={a2:0,Yvt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=ll.T_,Y=!1,Z=!1,J=NaN,$=null,tt=null,nt=Q.me&&By,it=!1,rt="",et=jM.JQ,st=null,ut=function(){var i=T.coroutine(le.mark(function i(){return le.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.vo=!0,y.Bo(),B&&Pt(null),_&&(_.Pv(),_=null),v&&(v.Il(),v=null),en(),k&&(k.unload(),k=null),!I.ES){i.next=11;break}return i.next=10,n.WS(I);case 10:I=null;case 11:if(!N.ES){i.next=15;break}return i.next=14,n.WS(N);case 14:N=null;case 15:s.Pv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new LC(BC.JQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.TS(F_.Tv)).ES:(r=n.TS(F_.Ev)).ES).preload="none",zr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",E.style.zIndex="0",b.style.display=A?"":"none",E.style.display=A&&S?"":"none"},ft=function(t){yt(t.I$),wt(t.N$),u&&(u.I$=a),pt()},vt=function(t,n){kt(t.I$,n),mt(t.N$),u&&(u.I$=a)},dt=function(){Xt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("jct",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===jM.l_t&&(G=!0,y.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Ol.ll,nn),k.setup(),_.Tat=k,n(["timeupdate","playing","ratechange","resize"],t),et){case jM.l_t:case jM.__t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case jM.g_t:n(["play","pause"],St)}k.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.dct(),k&&(m=new HL(t,nt,v,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=tM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Bct=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){a&&(a.Pv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener("durationchange",function(){J=a.L_,y.dispatchEvent("durationchange")}),a.addEventListener("Go",function(t){Zt(t.Go)}),a.addEventListener("Hv",At),a.addEventListener("by",At),a.hK.addEventListener("renditionUpdated",function(){Gt()}),_.hK=a.hK)},mt=function(t){var n;c&&(c.Pv(),c=null),k&&(c=t)&&(n=c.Ght,c.addEventListener("y$",function(t){var n=y.videoWidth,i=y.videoHeight;$=t.WZ,y.dispatchEvent(t),zy&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),c.addEventListener("Go",function(t){Zt(t.error)}),c.addEventListener("Tht",function(t){y.dispatchEvent(t)}),c.Tat=k,w(n)||Ht(n))},kt=function(t,n){a&&(a.Pv(),a=null,y.initialized=!1),(a=t)&&(y.dispatchEvent("loadstart",!0),a.addEventListener("loadedmetadata",function(){G=!0,nn()}),a.addEventListener(Zo.lc,function(t){y.dispatchEvent(t)}),a.addEventListener(Zo.gc,function(t){y.dispatchEvent(t)}),a.addEventListener("durationchange",function(){J=a.L_,y.dispatchEvent("durationchange")}),a.addEventListener("Go",function(t){Zt(t.Go)}),a.addEventListener("Hv",At),a.addEventListener("by",At),a.addEventListener("wK",function(){y.dispatchEvent("progress")}),a.hK.addEventListener("renditionUpdated",function(){Gt()}),a.hK.addEventListener("renditionUpdated",function(t){var i,r=t.WZ.SJ&&t.WZ.SJ.pZ;r&&-1!==r.indexOf("mp4a.40.3")&&("p6"!==n.A6||Fy||(i=B,OC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),_.hK=a.hK)},pt=function(){k.addEventListener("play",function(){y.play({fromNative:!0})}),k.addEventListener("pause",function(){y.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){y.volume=k.volume,y.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!a||a.by;z=n,n&&!t?y.dispatchEvent(Zo.ec):!n&&t&&y.dispatchEvent(Zo.rc)},bt=function(){V=!1,X=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Et),V&&(bt(),y.ended?Ht(0):jt(),k.play(),c&&c.Xw())},Et=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?y.play({fromNative:!0}):!n&&X&&y.pause({fromNative:!0})},Rt=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.Yvt="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.DI()),P.S_t=!1,!y.initialized||!k){if(t.onlyWhenInitialized){var i=new LC(BC.QQ,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),y.addEventListener("initialized",t.fromNative?Et:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(W&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.Ww()),y.dispatchEvent("pause",!0))},Ct=function(t){return{type:$M(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if($L(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(K(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if($M(i))return Ct(i)}return Ct(t[0])}if(K(t)&&$L(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(KM(e.type)||!e.type&&$M(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=tU(n,i);!function(t,n){switch(t){case jM.l_t:case jM.__t:n.A6=!1,n.R_t=!1;break;case jM.g_t:n.A6="p6",n.R_t=!0;break;case jM.w_t:n.A6="l9",n.R_t=Q.oe}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case jM.l_t:h=s=o=null;break;case jM.__t:h=null;var c=new DL(a,r);s=c,o=new ML(c);break;case jM.g_t:case jM.w_t:h=new WL(a,r);var f=new CL(a,h,r,e);s=f,o=new BL(f);break;default:return null}return new OD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.N$&&(o.N$.V_=y.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.ES,u=!1,o=!y.paused,h=et,a=y.playbackRate,c=y.I_t;tt&&(tt.Pv(),tt=null),en();var f=n&&n.bK||null;n&&n.pK||null,L=n&&n.cR||null,M=f&&f.configuration||null,et=n&&n.AK||jM.JQ,Jt();var v={type:"N_t",C_t:n,Vh:M,D_t:i};if(y.dispatchEvent(v),et!==jM.JQ){if(k){y.pause();var d=h===et||h===jM.__t&&et===jM.l_t||h===jM.l_t&&et===jM.__t,l=i&&!Q.me;if(d&&!l)k.reset(),m.Il();else{if(l?(p=k,e=(r=at(r)).ES):e=k.unload(),!(u=ZM.k_t(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=ll.T_,Y=!1,Z=!1,J=NaN,x=null,y.dispatchEvent("durationchange"),P.Yvt=0,P.a2=0,P.S_t=!0,y.dispatchEvent("timeupdate")}else{if(!(u=ZM.k_t(et,t,r)))return void ot();k=u,r.ES.removeAttribute("poster"),lt(),_t(r.ES)}switch(R=r,s.E_t=R.bB,b=k._y,p?(E=p._y,S=!0):(E=at(r).ES,S=!1),ct(),M.crossOrigin){case cl.y_:case cl.m_:R.ES.setAttribute("crossorigin",M.crossOrigin);break;default:R.ES.removeAttribute("crossorigin")}if(c!==y.I_t&&y.dispatchEvent(Zo.$a),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(et){case jM.l_t:case jM.__t:ft(t);break;case jM.g_t:case jM.w_t:vt(t,n);break;default:return}t.fR=y,t.LK(H)}(tt=n,M),k.src=L,m.act(f&&f.textTracks),y.playbackRate=a,B=L;var _={type:"O_t",C_t:n,Vh:M,D_t:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Q.me&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=y.Jct)!==t&&y.dispatchEvent("x_t")},Mt=function(){_&&(_.hH=nt&&it)},Ut=function(){return k&&k.dat?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.S_t)return P.Yvt;if(c){var t=c.Ght;return"start"===t?0:t}return k.Qht()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=y.live?1/0:0),t=g(t)||0,t=Kt(t),k){if(l.abs(P.Yvt-t)<.001&&Ub()-P.a2<50)return;Vt(),c?c.Ght=t:k.Nat(t),k.seeking||Xt(),P={Yvt:t,a2:Ub()}}},Vt=function(){W=!0,zt(),st=o(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),y.dispatchEvent("seeked"))},Wt=function(){zt(),y.dispatchEvent("seeking")},zt=function(){st&&(h(st),st=null)},Gt=function(){Z||(Z=!w(J)&&$t().length>0&&(Y||!y.live))&&y.dispatchEvent("ydt")},jt=function t(){y.removeEventListener("ydt",t),null!==x&&(Z?Ht(x):y.addEventListener("ydt",t))},Qt=function(){return k&&k.dat?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===BC.YQ)return n=!X,Pt(tt.cR),void(n&&It());var n;Yt()||Nt(),q=t,y.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return _O(c?c.Sy:J>0?new wO([{NR:0,OR:J}]):yO)},Kt=function(t){var n=$t();return n.length?qt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.Kl:ll.T_;return G&&(t=l.max(ll.E_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,y.dispatchEvent(Ol.ll))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,E=t||at(R).ES,ct()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!k){var t=new LC(BC.QQ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.P_t=xt,y.B_t=Bt,y.wo=ut,y.Gw=rn,y.Kw=function(){A=!0,ct()},y.ty=function(){A=!1,ct()},y.ny=function(){return k&&k.ny()},y.Sw=function(){return _e({},{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?cE(k.Tat):{wy:0,yy:0,my:0},{ky:8*hl.l_()})},d.defineProperty(y,"buffered",{get:function(){return _O(k?k.vy:yO)}}),d.defineProperty(y,"played",{get:function(){return k?_O(k.played):yO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!a||!KC.pw(a.hK.iJ))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=g(t))!==Ut()&&(k&&(k.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return s}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return c?c.ly:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&c&&(n=c.Vtt(t),w(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=Wp((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return k&&k.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return W}}),d.defineProperty(y,"error",{get:function(){return q||k&&k.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"I_t",{get:function(){return M&&M.vr&&M.vr[360]?$p:R===I?C:D}}),d.defineProperty(y,"videoWidth",{get:function(){return k?k.q_:$&&$.resolution?$.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return k?k.W_:$&&$.resolution?$.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return c&&c.NJ}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&k&&k.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return c?c.Rat(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=g(t),Ht(c.Iat(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return c&&c.V_||k&&k.V_||1},set:function(t){(t=g(t))>0&&(c?c.V_=t:k&&(k.V_=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return tt&&tt.Fw.Jd||null}}),d.defineProperty(y,"audioTracks",{get:function(){return tt&&tt.Uw.Jd||null}}),d.defineProperty(y,"Hw",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return z}}),d.defineProperty(y,"Yct",{get:function(){return k&&k.Yct}}),d.defineProperty(y,"Zct",{get:function(){return k&&k.Zct}}),d.defineProperty(y,"Jct",{get:function(){return k&&k.Jct||"inline"},set:function(t){k&&(k.Jct=t)}}),d.defineProperty(y,"L_t",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"Kl",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(Zo.ec,function(){y.live&&Ht("start")}),y.addEventListener("playing",en),v=new ty,_=new XL(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new xD),n=function(t){if("string"==typeof t)try{return PC.je.Pj(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.Qut=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),y.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.ES,E=N.ES,s=new JM(R.bB),C=I.FS,D=N.FS,ct(),Pt(null)}()};nU.prototype=new xC,nU.prototype.constructor=nU;var iU,rU=((iU={useSwitchOverMSE:!1,ManifestParser:"M_t",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),iU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Vy&&iU.abrRules.push("AvoidHighBitrateStreamsRule"),Q.pe&&iU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),iU);var eU=function(t){function n(n,i,r){var e;return(e=t.call(this,md.ml)||this).U_t=n,e.F_t=i,e.H_t=r,e}return U(n,t),n.prototype.$d=function(){return new sU(this.U_t&&this.U_t.Jd)},n}(yd),sU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return U(n,t),n}(Is),uU=function(t){function n(n,i){var r;return(r=t.call(this,md.pl)||this).zl=void 0,r.Kd=void 0,r.zl=n||[],r.Kd=i,r}return U(n,t),n.prototype.$d=function(){return new oU(this.zl.map(function(t){return t.Jd}))},n}(yd),oU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return U(n,t),n}(Is),hU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return U(n,t),n}(Is);function aU(t){return{get bandwidth(){return t.zE},get codecs(){return t.SJ},get id(){return t.Hl},get uid(){return t.Vl},get name(){return t.Wl},get averageBandwidth(){return t.zE},get label(){return t.Wl},set label(n){t.Wl=Hd(n)},get height(){return t.Ep},get width(){return t.fu},get frameRate(){return t.J$},get firstFrame(){return t.V_t},get available(){return t.wQ},addEventListener:function(n,i){t.Oo(n,i)},removeEventListener:function(n,i){t.Lo(n,i)}}}function cU(t){return{get bandwidth(){return t.zE},get codecs(){return t.SJ},get id(){return t.Hl},get uid(){return t.Vl},get name(){return t.Wl},get averageBandwidth(){return t.zE},get label(){return t.Wl},set label(n){if(!it(n))throw new f("Unexpected - The provided label is not a string");t.Wl=n},get audioSamplingRate(){return t.X_t},get available(){return t.wQ},addEventListener:function(n,i){t.Oo(n,i)},removeEventListener:function(n,i){t.Lo(n,i)}}}var fU=function(t){function n(n,i){var r;(r=t.call(this)||this).W_t=void 0,r.q_t=void 0,r.Oy=void 0,r.Ry=void 0,r.Zd=void 0,r.z_t=void 0,r.tK=void 0,r.G_t=function(){return r.j_t()},r.Q_t=function(){return r.Y_t()},r.Z_t=function(){return r.Do(new X_(en(r)))},r.Oy=z_(),r.W_t=n,r.q_t=i,r.Ry=new V_;for(var e=r.W_t.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.J_t(u);o.Oo("update",r.Z_t),r.Ry.cg(o)}return r.W_t.qualities.addEventListener("activequalitychanged",r.G_t),r.W_t.qualities.addEventListener("targetqualitychanged",r.Q_t),r.j_t(),r.Y_t(),r}U(n,t);var i=n.prototype;return i.$_t=function(t){t!==this.z_t&&(this.z_t=t,t&&this.Do(new eU(t)))},i.K_t=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&is(i,r));var i,r},i.tgt=function(t){for(var n=0,i=this.Ry.Nl;n<i.length;n++){var r=i[n];if(r.ngt===t)return r}},i.igt=function(t){for(var n=[],i=0,r=this.Ry.Nl;i<r.length;i++){var e=r[i];ns(t,e.ngt)&&n.push(e)}return n},i.j_t=function(){var t=this.Fl?this.W_t.qualities.activeQuality:void 0,n=t&&this.tgt(t)||void 0;this.$_t(n)},i.Y_t=function(){var t=this.W_t.qualities.targetQuality;t?$(t)?this.Gl=this.igt(t)||void 0:this.Gl=this.igt([t])||void 0:this.Gl=void 0},i.By=function(t){this.Fl=t},i.Pv=function(){this.W_t.qualities.removeEventListener("activequalitychanged",this.G_t),this.W_t.qualities.removeEventListener("targetqualitychanged",this.Q_t);for(var t=0,n=this.Ry.Nl;t<n.length;t++){var i=n[t];i.Lo("update",this.Z_t),i.Pv()}},L(n,[{key:"Ul",get:function(){return this.z_t}},{key:"Fl",get:function(){return this.W_t.enabled},set:function(t){t?this.q_t.enable(this.W_t):this.q_t.disable(this.W_t)}},{key:"Jd",get:function(){return this.Zd||(this.Zd=zd(this)),this.Zd}},{key:"Hl",get:function(){return this.W_t.id+""}},{key:"Vl",get:function(){return this.Oy}},{key:"Xl",get:function(){return this.W_t.kind}},{key:"Wl",get:function(){var t;return null!=(t=this.W_t.name)?t:""},set:function(t){t!==this.Wl&&(this.W_t.name=t,this.Do(new X_(this)))}},{key:"ql",get:function(){return this.W_t.language}},{key:"$l",get:function(){return this.Fl?"enabled":"disabled"}},{key:"zl",get:function(){return this.Ry}},{key:"Gl",get:function(){return this.tK},set:function(t){var n=this,i=this.tK,r=t?t.filter(function(t){return b.xu.nu(n.Ul,t)}):void 0;r&&0===r.length||this.K_t(r,i)||(this.tK=r,this.W_t.qualities.targetQuality=r?r.map(function(t){return t.ngt}):null,this.Do(new uU(r,this)))}}]),n}(Ss),vU=function(t){function n(n){var i,r;return(r=t.call(this)||this).ngt=void 0,r.Zd=void 0,r.tN=function(){return r.xh()},r.Hl=void 0,r.Vl=void 0,r.zE=void 0,r.SJ=void 0,r.zY=void 0,r.ngt=n,r.ngt.addEventListener("qualityupdated",r.tN),r.Hl=String(n.id),r.Vl=n.uid,r.zE=null!=(i=n.bandwidth)?i:NaN,r.SJ=n.codecs,r.zY=n.uri,r}U(n,t);var i=n.prototype;return i.xh=function(){this.rgt()&&this.Do(new hU(this.Jd))},i.rgt=function(){var t,n=this.ngt,i=n.uid,r=null!=(t=n.bandwidth)?t:NaN,e=n.codecs,s=n.uri,u=this.Vl!==i||!Qt(this.zE,r)||this.SJ!==e||this.zY!==s;return this.Vl=i,this.zE=r,this.SJ=e,this.zY=s,u},i.Pv=function(){this.ngt.removeEventListener("qualityupdated",this.tN)},i.bb=function(){},L(n,[{key:"Wl",get:function(){return this.ngt.name||""},set:function(t){this.Wl!==t&&(this.ngt.name=t,this.Do(new hU(this.Jd)))}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}},{key:"wQ",get:function(){return!0}}]),n}(Ss),dU=function(t){function n(n){var i;return(i=t.call(this,n)||this).X_t=void 0,i.X_t=NaN,i}return U(n,t),n.prototype.$d=function(){return cU(this)},n}(vU),lU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).J$=void 0,r.fu=void 0,r.Ep=void 0,r.egt=void 0,r.J$=n.frameRate,r.fu=n.resolution?n.resolution.width:NaN,r.Ep=n.resolution?n.resolution.height:NaN,r.egt=i,r}U(n,t);var i=n.prototype;return i.rgt=function(){var n=t.prototype.rgt.call(this),i=this.ngt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Qt(this.J$,r)||!Qt(this.fu,e)||!Qt(this.Ep,s),this.J$=r,this.fu=e,this.Ep=s,n},i.$d=function(){return aU(this)},L(n,[{key:"V_t",get:function(){return this.egt},set:function(t){this.egt!==t&&(this.egt=t,this.Do(new hU(this.Jd)))}}]),n}(vU),_U=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.J_t=function(t){return new dU(t)},n}(fU),gU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).sgt=void 0,n}U(n,t);var i=n.prototype;return i.J_t=function(t){return new lU(t,this.sgt)},i.ugt=function(t){this.sgt=t;for(var n=0,i=this.zl.Nl;n<i.length;n++){var r=i[n];void 0!==r.V_t&&(r.V_t=t)}},n}(fU),wU=function(t){function n(){return t.call(this,Zo.ec)||this}return U(n,t),n}(Is),yU=function(t){function n(){return t.call(this,Zo.rc)||this}return U(n,t),n}(Is),mU=function(){function t(t,n){this.Pw=void 0,this.XV=void 0,this.Pw=new ty,this.XV=new hI(t,n)}var n=t.prototype;return n.Bb=function(t,n,i,r,e,s){var u=new oR(t,n,i,r,e,s);return this.Pw.El(u),this.XV.El(u),u},n.Ub=function(t){this.Pw.Sl(t),this.XV.Sl(t)},n.Il=function(){this.Pw.Il(),this.XV.Il()},n.Pv=function(){this.Pw.Pv(),this.XV.Pv()},L(t,[{key:"Hw",get:function(){return this.Pw}}]),t}();function kU(t,n){for(var i=0;i<t.Cl;i++){var r=t.Tl(i);if(r.W_t===n)return r}}var pU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).EI=void 0,o.FG=void 0,o.ogt=void 0,o.hgt=void 0,o.agt=void 0,o.Ow=void 0,o.xw=void 0,o.FV=void 0,o.HV=void 0,o.Pw=void 0,o.Db=void 0,o.nj=void 0,o.ij=void 0,o.cgt=void 0,o.nS=void 0,o.iS=void 0,o.fgt=NaN,o.vgt=0,o.hS=new Np,o.dgt=function(){o.Do(new Bl(o.B_))},o.lgt=function(){o.Do(new Pl(o.B_))},o._gt=function(){o.Do(new zl(o.B_))},o.ggt=function(){o.Do(new Gl(o.B_))},o.wgt=function(){o.Do(new Vl(o.B_,o.V_))},o.ygt=function(){o.Do(new jl(o.B_,o.z_))},o.mgt=function(){o.Do(new hS(o.B_))},o.kgt=function(){o.Do(new Wl(o.B_))},o.pgt=function(){o.Do(new aS)},o.Agt=function(){o.Do(new wU)},o.bgt=function(){o.Do(new yU)},o.Tgt=function(){o.Egt(),o.agt.Il(),o.Sgt(),o.XS()},o.PB=function(){o.Sgt(),o.XS(),o.IS()},o.Egt=function(){var t=o.fgt,n=o.L_;o.fgt=n,t===n||w(t)&&w(n)||o.Do(new Hl(n))},o.Rgt=function(t){var n=t.error||o.ogt.error;if(n){var i,r=D_.DECODE;n.code===BC.XQ&&mr(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.nS=new B_(r,n.message,i),o.Do(new Jl(function(t){return new Co(U_(t.code),t.message,t)}(o.nS)))}},o.fS=function(){o.Do(new Xl(o.B_,o.ly))},o.Igt=function(){o.q_>0&&o.W_>0&&o.Do(new Sy)},o.Ngt=function(){o.Do(new ul)},o.Cgt=function(t){o.xw.Nl.forEach(function(n){return n.ugt(t.ptsOffset)})},o.Dgt=function(t){o.vgt+=t.py,o.Do(t)},o.Ogt=function(t){return o.xgt(t.track)},o.Pgt=function(t){return o.Bgt(t.track)},o.Lgt=function(t){var n=kU(o.Ow,t.track);n&&n.Do(new Rd(n))},o.Mgt=function(t){var n=kU(o.xw,t.track);n&&n.Do(new Rd(n))},o.FG=n,o.EI=i,e=function(t){var n,i={};return i=KL(t,i),(i=KL(rU,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Q.ve&&i.allowManualQualitySwitch,i.libraryLocation=Ir(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Y.call(n,t)?n[t]:t}),i}(e),o.ogt=new nU(o.FG,o.EI,e,r,s),o.Ugt(),o.hgt=new AU(o.ogt),o.agt=new Jy(o.hgt,!0),o.agt.Oo(Ul,o.Co),o.Ow=new H_,o.xw=new H_,o.Db=new mU(en(o),new aI),o.FV=new kI(en(o)),o.FV.Ll=o.ogt.Hw,o.HV=new pI(o.Db,o.FV),o.Pw=new hR([o.ogt.Hw,o.HV.ap]),o.nj=new GI,o.nj.cW(n),o.ij=new aC(o.nj._y,o.ogt.dimensions,o.Hw,u,o.ogt.I_t),o.IS(),o}U(n,t);var i=n.prototype;return i.ty=function(){this.ogt.ty(),this.nj.ty()},i.Kw=function(){this.ogt.Kw(),this.nj.Kw()},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cgt=n,this.ogt.Gw({sources:{src:n.src,type:fl.w_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:_e({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Xw=function(){this.ogt.play()},i.Ww=function(){this.ogt.pause()},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.cgt=void 0,this.nS=void 0,this.iS=void 0,this.vgt=0,this.ogt.Gw({sources:null}),this.agt.Il(),this.Db.Il(),this.Sgt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){return!1},i.Qw=function(){},i.Yw=function(){},i.ny=function(){return this.ogt.ny()||void 0},i.iy=function(){return this.ogt.I_t},i.ay=function(){},i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Il();case 2:return this.Bo(),this.agt.Pv(),this.hgt.Pv(),this.Fgt(),t.next=8,this.ogt.wo();case 8:return this.Ow.Pv(),this.xw.Pv(),this.FV.Pv(),t.next=13,this.HV.Pv();case 13:this.Db.Pv(),this.Pw.Pv(),this.ij.Pv(),this.nj.Pv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ugt=function(){this.ogt.addEventListener("N_t",this.Tgt),this.ogt.addEventListener("O_t",this.PB),this.ogt.addEventListener("durationchange",this.Egt),this.ogt.addEventListener("error",this.Rgt),this.ogt.addEventListener("timeupdate",this.fS),this.ogt.addEventListener("resize",this.Igt),this.ogt.addEventListener(Zo.$a,this.Ngt),this.ogt.addEventListener("Tht",this.Cgt),this.ogt.addEventListener(Zo.gc,this.Dgt),this.ogt.addEventListener("play",this.dgt),this.ogt.addEventListener("pause",this.lgt),this.ogt.addEventListener("seeking",this._gt),this.ogt.addEventListener("seeked",this.ggt),this.ogt.addEventListener("ratechange",this.wgt),this.ogt.addEventListener("volumechange",this.ygt),this.ogt.addEventListener("progress",this.mgt),this.ogt.addEventListener("ended",this.kgt),this.ogt.addEventListener("loadstart",this.pgt),this.ogt.addEventListener(Zo.ec,this.Agt),this.ogt.addEventListener(Zo.rc,this.bgt),this.ogt.addEventListener(Zo.lc,this.Co)},i.Fgt=function(){this.ogt.removeEventListener("N_t",this.Tgt),this.ogt.removeEventListener("O_t",this.PB),this.ogt.removeEventListener("durationchange",this.Egt),this.ogt.removeEventListener("error",this.Rgt),this.ogt.removeEventListener("timeupdate",this.fS),this.ogt.removeEventListener("resize",this.Igt),this.ogt.removeEventListener(Zo.$a,this.Ngt),this.ogt.removeEventListener("play",this.dgt),this.ogt.removeEventListener("pause",this.lgt),this.ogt.removeEventListener("seeking",this._gt),this.ogt.removeEventListener("seeked",this.ggt),this.ogt.removeEventListener("ratechange",this.wgt),this.ogt.removeEventListener("volumechange",this.ygt),this.ogt.removeEventListener("progress",this.mgt),this.ogt.removeEventListener("ended",this.kgt),this.ogt.removeEventListener("loadstart",this.pgt),this.ogt.removeEventListener(Zo.ec,this.Agt),this.ogt.removeEventListener(Zo.rc,this.bgt),this.ogt.removeEventListener(Zo.lc,this.Co),this.ogt.removeEventListener(Zo.gc,this.Dgt)},i.IS=function(){var t=this.ogt.audioTracks,n=this.ogt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.xgt(t.item(i));t.addEventListener("addtrack",this.Ogt),t.addEventListener("enabledtrack",this.Lgt),t.addEventListener("disabledtrack",this.Lgt)}if(n){for(var r=0;r<n.length;r++)this.Bgt(n.item(r));n.addEventListener("addtrack",this.Pgt),n.addEventListener("enabledtrack",this.Mgt),n.addEventListener("disabledtrack",this.Mgt)}},i.XS=function(){var t=this.ogt.audioTracks,n=this.ogt.videoTracks;t&&(t.removeEventListener("addtrack",this.Ogt),t.removeEventListener("enabledtrack",this.Lgt),t.removeEventListener("disabledtrack",this.Lgt)),n&&(n.removeEventListener("addtrack",this.Pgt),n.removeEventListener("enabledtrack",this.Mgt),n.removeEventListener("disabledtrack",this.Mgt))},i.Sgt=function(){for(var t=0,n=this.Ow.Nl;t<n.length;t++){n[t].Pv()}for(var i=0,r=this.xw.Nl;i<r.length;i++){r[i].Pv()}this.Ow.Il(),this.xw.Il()},i.xgt=function(t){kU(this.Ow,t)||this.Ow.El(new _U(t,this.ogt.audioTracks))},i.Bgt=function(t){kU(this.xw,t)||this.xw.El(new gU(t,this.ogt.videoTracks))},L(n,[{key:"Uw",get:function(){return this.Ow}},{key:"vy",get:function(){return this.ogt.buffered}},{key:"ly",get:function(){var t;return null!=(t=this.ogt.currentProgramDateTime)?t:void 0},set:function(t){this.ogt.currentProgramDateTime=null!=t?t:null}},{key:"B_",get:function(){var t=this.ogt.currentTime;return t===1/0&&w(this.ogt.duration)&&(t=0),t},set:function(t){this.ogt.currentTime=t}},{key:"L_",get:function(){var t=this.ogt.duration;return t<0?1/0:t}},{key:"M_",get:function(){return this.ogt.ended}},{key:"Go",get:function(){return this.nS}},{key:"U_",get:function(){return this.iS}},{key:"Vw",get:function(){}},{key:"gy",get:function(){return!1}},{key:"Sw",get:function(){return _e({},this.ogt.Sw(),{py:this.vgt})}},{key:"F_",get:function(){return this.ogt.muted},set:function(t){this.ogt.muted=t}},{key:"by",get:function(){return this.ogt.online}},{key:"H_",get:function(){return this.ogt.paused}},{key:"V_",get:function(){return this.ogt.playbackRate},set:function(t){this.ogt.playbackRate=t}},{key:"Ty",get:function(){return this.ogt.played}},{key:"Ey",get:function(){return this.ogt.preload||Vp._R},set:function(t){this.ogt.preload=t}},{key:"Kl",get:function(){return this.ogt.Kl}},{key:"Sy",get:function(){return this.ogt.seekable}},{key:"X_",get:function(){return this.ogt.seeking}},{key:"YS",get:function(){}},{key:"Hw",get:function(){return this.Pw}},{key:"Fw",get:function(){return this.xw}},{key:"W_",get:function(){return this.ogt.videoHeight}},{key:"q_",get:function(){return this.ogt.videoWidth}},{key:"z_",get:function(){return this.ogt.volume},set:function(t){this.ogt.volume=t}},{key:"ZS",get:function(){return this.hS}}]),n}(el),AU=function(t){function n(n){var i;return(i=t.call(this)||this).ogt=void 0,i.Hgt=function(){i.Do(new Zl(i.B_,i.ogt.Kl))},i.Vgt=function(){i.Do(new Zy(i.B_))},i.dgt=function(){i.Do(new Bl(i.B_))},i.lgt=function(){i.Do(new Pl(i.B_))},i.ogt=n,i.ogt.addEventListener(Ol.ll,i.Hgt),i.ogt.addEventListener(Ol.P_,i.Vgt),i.ogt.addEventListener(Zo.uc,i.dgt),i.ogt.addEventListener(Zo.sc,i.lgt),i}return U(n,t),n.prototype.Pv=function(){this.Bo(),this.ogt.removeEventListener(Ol.ll,this.Hgt),this.ogt.removeEventListener(Ol.P_,this.Vgt),this.ogt.removeEventListener(Zo.uc,this.dgt),this.ogt.removeEventListener(Zo.sc,this.lgt)},L(n,[{key:"B_",get:function(){var t=this.ogt.currentTime;return t===1/0&&w(this.ogt.duration)&&(t=0),t}},{key:"M_",get:function(){return this.ogt.ended}},{key:"Go",get:function(){return this.ogt.error||void 0}},{key:"H_",get:function(){return this.ogt.paused}}]),n}(Ss);function bU(t,n){return TU.apply(this,arguments)}function TU(){return(TU=T.coroutine(le.mark(function t(n,i,r,e,s){var u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),fs(t.t0),!(u<r)){t.next=20;break}return o=l.min(e*l.pow(2,u),s),u++,t.next=19,ps(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Fp(new(function(){function t(){this.JS=bp.w_}var n=t.prototype;return n.UT=function(t,n,i,r,e,s){return new pU(t,n,i,r,e,s)},n.$S=function(n,i){if((Q.me||Q.We)&&!i.manifestMetadataTrack)return!1;if(!kl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!xm(r)&&!t.Xgt(r))&&!!function(t){return tU(t,{})!==jM.JQ}(n)},t.Xgt=function(t){return!!t.aes128},n.KS=function(){return!0},t}()));var EU,SU=function(t){function n(){return t.call(this,"Wgt")||this}return U(n,t),n}(Is),RU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).qgt=void 0,e.zgt=void 0,e.Ggt=void 0,e.cgt=void 0,e.jgt=void 0,e.Ob=void 0,e.Wi=void 0,e.Qgt=void 0,e.Ygt=function(){e.Do(new SU)},e.cgt=n,e.jgt=_e({},i,{crossOrigin:e.cgt.crossOrigin,withCredentials:e.cgt.useCredentials,liveOffset:e.cgt.liveOffset,hlsDateRange:e.cgt.hlsDateRange}),e.Ob=r,e.zgt=[],e.Wi=!1,e}U(n,t);var i=n.prototype;return i.Zgt=function(){if(this.Ggt)return this.Ggt.Ew},i.NR=function(t){var n=this;ys(bU(function(){return n.LK()},t))},i.LK=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jgt();case 2:if((n=t.sent).isMasterPlaylist)for(this.qgt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new $P(this.Ob,this.jgt),this.zgt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new $P(this.Ob,this.jgt),this.zgt.push({stream:{uri:n.uri},updater:u});this.Qgt&&(this.$gt(this.Qgt.width,this.Qgt.height),this.Qgt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kgt=function(t,n){this.Wi?this.$gt(t,n):this.Qgt={width:t,height:n}},i.$gt=function(t,n){this.twt();var i=this.nwt(t,n);i&&(this.Ggt=i.updater,this.Ggt.addEventListener("Q8",this.Ygt),i.updater.NR(i.stream.uri))},i.twt=function(){this.Ggt&&(this.Ggt.qw(),this.Ggt.removeEventListener("Q8",this.Ygt),this.Ggt=void 0)},i.nwt=function(t,n){return 1===this.zgt.length?this.zgt[0]:Je(this.zgt,function(i){return i.stream.width===t&&i.stream.height===n})},i.Jgt=function(){var t=T.coroutine(le.mark(function t(){var n,i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new JP(this.jgt,jD.je.i0,this.Ob),t.next=3,n.Dh(this.cgt.src,{});case 3:return i=t.sent,t.abrupt("return",i.Ew);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pv=function(){this.twt();for(var t=0,n=this.zgt;t<n.length;t++){n[t].updater.Pv()}rs(this.zgt)},n}(Ss),IU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).iwt=void 0,e.rwt=void 0,e.xP=void 0,e.ewt=!1,e.QJ=void 0,e.XV=void 0,e.handleManifestUpdate=function(){var t=e.iwt.Zgt();if(t){var n=e.YS;if(n){var i=n.getTime(),r=e.QJ;r||(r=new tD,e.QJ=r),r.xh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.ewt&&r.t_.Cl>0&&(e.Hw.El(r),e.XV.El(r),e.ewt=!0)}}},e.Igt=function(){e.iwt&&e.iwt.Kgt(e.q_,e.W_)},e.rwt=i,e.xP=r,e.XV=new fI(en(e)),e.Oo(Zo.cc,e.Igt),e}U(n,t);var i=n.prototype;return i.Gw=function(){var n=T.coroutine(le.mark(function n(i,r,e){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Gw.call(this,i,r,e);case 2:i.hlsDateRange&&this.swt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.swt=function(t,n,i){this.iwt&&(this.iwt.Lo("Wgt",this.handleManifestUpdate),this.iwt.Pv()),this.iwt=new RU(t,n,this.rwt),this.iwt.Oo("Wgt",this.handleManifestUpdate),this.iwt.NR(i)},i.Il=function(){return this.QJ&&(this.Hw.Sl(this.QJ),this.XV.Sl(this.QJ),this.QJ.Pv(),this.QJ=void 0,this.ewt=!1),this.XV.Il(),t.prototype.Il.call(this)},i.Pv=function(){return this.Lo(Zo.cc,this.Igt),this.iwt&&(this.iwt.Lo("Wgt",this.handleManifestUpdate),this.iwt.Pv()),this.XV.Pv(),t.prototype.Pv.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).uwt=void 0,i.uwt=n,i.uwt.Po(i.Co),i}U(n,t);var i=n.prototype;return i.jw=function(){return this.uwt.jw()},i.iy=function(){return this.uwt.iy()},i.ny=function(){return this.uwt.ny()},i.ty=function(){return this.uwt.ty()},i.ay=function(){return this.uwt.ay()},i.Ww=function(){return this.uwt.Ww()},i.Xw=function(){return this.uwt.Xw()},i.Il=function(){return this.uwt.Il()},i.Gw=function(t,n,i){return this.uwt.Gw(t,n,i)},i.Kw=function(){return this.uwt.Kw()},i.Qw=function(){return this.uwt.Qw()},i.Yw=function(){return this.uwt.Yw()},i.Pv=function(){return this.Bo(),this.uwt.Pv()},L(n,[{key:"Uw",get:function(){return this.uwt.Uw}},{key:"vy",get:function(){return this.uwt.vy}},{key:"ly",get:function(){return this.uwt.ly},set:function(t){this.uwt.ly=t}},{key:"B_",get:function(){return this.uwt.B_},set:function(t){this.uwt.B_=t}},{key:"L_",get:function(){return this.uwt.L_}},{key:"M_",get:function(){return this.uwt.M_}},{key:"U_",get:function(){return this.uwt.U_}},{key:"Vw",get:function(){return this.uwt.Vw}},{key:"Go",get:function(){return this.uwt.Go}},{key:"gy",get:function(){return this.uwt.gy}},{key:"Sw",get:function(){return this.uwt.Sw}},{key:"F_",get:function(){return this.uwt.F_},set:function(t){this.uwt.F_=t}},{key:"by",get:function(){return this.uwt.by}},{key:"H_",get:function(){return this.uwt.H_}},{key:"V_",get:function(){return this.uwt.V_},set:function(t){this.uwt.V_=t}},{key:"Ty",get:function(){return this.uwt.Ty}},{key:"Ey",get:function(){return this.uwt.Ey},set:function(t){this.uwt.Ey=t}},{key:"Kl",get:function(){return this.uwt.Kl}},{key:"Sy",get:function(){return this.uwt.Sy}},{key:"X_",get:function(){return this.uwt.X_}},{key:"YS",get:function(){return this.uwt.YS}},{key:"Hw",get:function(){return this.uwt.Hw}},{key:"W_",get:function(){return this.uwt.W_}},{key:"Fw",get:function(){return this.uwt.Fw}},{key:"q_",get:function(){return this.uwt.q_}},{key:"z_",get:function(){return this.uwt.z_},set:function(t){this.uwt.z_=t}},{key:"ZS",get:function(){return this.uwt.ZS}}]),n}(el));EU=function(t,n,i){return new IU(t,n,i)},Mp.iR().rR(EU);var NU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return U(n,t),n}(Is);var CU=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).owt=void 0,s.Zd=void 0,s.hwt=void 0,s.awt=void 0,s.cwt=void 0,s.yR=void 0,s.fwt=void 0,s.jO=void 0,s.Uc=CA.UNAVAILABLE,s.vwt=new os,s.dwt=function(){var t,n=null==(t=s.jO.zw())?void 0:t.sources.filter(Dl);null!=n&&n.some(Pp)?s.lwt(CA.AVAILABLE):s.lwt(CA.UNAVAILABLE)},s.handleAirplayChangedEvent=function(){s.yR&&s.yR.gy?s._wt():s.v2===CA.CONNECTED&&s.gwt()},s.handleAirplayPlayerTimeUpdate=function(t){s.hwt=t.currentTime,s.awt=s.jO.ly},s.cwt=n,s.jO=i,s.owt=e,s.owt.ty(),s.jO.Mw(e),s.wwt(),s.cwt.Oo("sourcechange",s.dwt),b.xu.su&&s.lwt(CA.AVAILABLE),s}U(n,t);var i=n.prototype;return i.wwt=function(){this.yR&&this.yR.Lo(Zo.Va,this.handleAirplayChangedEvent),this.ywt?this.yR=this.jO:this.yR=this.owt,this.yR.Oo(Zo.Va,this.handleAirplayChangedEvent)},i._wt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.yR){t.next=2;break}return t.abrupt("return");case 2:if(this.ywt){t.next=24;break}return this.hwt=this.jO.B_,this.awt=this.jO.ly,this.owt.Oo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.fwt=this.jO.Ll,this.jO.Ll=this.owt,this.fwt.Ww(),this.fwt.ty(),this.owt.Kw(),this.owt.F_=this.fwt.F_,this.owt.V_=this.fwt.V_,this.owt.z_=this.fwt.z_,n=this.owt.Ho("seeked"),this.owt.B_=this.fwt.B_,t.next=18,n;case 18:this.owt.Xw(),this.owt.F_=this.fwt.F_,this.owt.V_=this.fwt.V_,this.owt.z_=this.fwt.z_,t.next=28;break;case 24:if(this.yR.H_){t.next=27;break}return t.next=27,this.yR.Ho(Zo.sc,this.vwt.So);case 27:this.yR.Xw();case 28:this.lwt(CA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gwt=function(){this.fwt?(this.owt.Lo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.fwt.F_=this.owt.F_,this.fwt.V_=this.owt.V_,this.fwt.z_=this.owt.z_,Q.Pe&&!Q.me&&this.jO.L_===1/0?this.awt?this.fwt.ly=this.awt:this.fwt.B_=1/0:this.fwt.B_=this.hwt,this.awt=void 0,this.hwt=void 0,this.fwt.Kw(),this.owt.ty(),this.owt.H_||this.fwt.Xw(),this.jO.Ll=this.fwt,this.owt.Il(),this.fwt=void 0):this.yR&&(this.yR.B_=this.yR.B_+1e-4);this.lwt(CA.AVAILABLE)},i.preloadPlayer=function(t){if(cs(t),this.yR.Kl<ll.E_){var n=this.yR.Ho("loadedmetadata",t);return this.yR.Ey=Vp.yk,n}return T.resolve()},i.lwt=function(t){t!==this.Uc&&(this.Uc=t,this.Do(new NU(this.Uc)))},i.Qw=function(){b.xu.su&&(this.cwt.Zw(),this.vwt.bo(),this.vwt=new os,this.ywt?ys(this.mwt(this.vwt.So)):ys(this.kwt(this.vwt.So)))},i.mwt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.jO.Qw();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.kwt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.owt.Il();case 3:return t.next=5,this.owt.Gw(this.jO.zw(),n);case 5:return i=this.owt.Ho("playing",n),this.owt.Xw(),t.next=9,As(i,3e3);case 9:this.owt.Ww(),cs(n),this.owt.Qw(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!as(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Yw=function(){b.xu.su&&this.yR.Yw()},i.Pv=function(){var t;this.Bo(),this.cwt.Lo("sourcechange",this.dwt),this.jO.uy(this.owt),this.vwt.bo(),null==(t=this.owt)||t.Pv()},L(n,[{key:"EP",get:function(){return this.v2===CA.CONNECTED}},{key:"ywt",get:function(){return this.jO.jw()}},{key:"v2",get:function(){return this.Uc}},{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{get casting(){return t.EP},get state(){return t.v2},start:function(){t.Qw()},stop:function(){t.Yw()},addEventListener:function(n,i){n=Vd(n,Hd),t.Oo(n,i)},removeEventListener:function(n,i){n=Vd(n,Hd),t.Lo(n,i)}})),this.Zd}}]),n}(el);DE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.$d=function(){var n=this.AB.Jd;return Od(t.prototype.$d.call(this),{get cast(){return n}})},n}(t)},bE.SB);var DU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).dR=void 0,o.pwt=void 0,o.Awt=void 0,o.mR=void 0,o.cgt=void 0,o.Ow=new Zd,o.xw=new Zd,o.Pw=new rl,o.dR=n,o.pwt=new Nr(s,u,1,[F_.Ev]),o.pwt.CI(n),o.Awt=new xp(n,o.pwt,i,r,e),o.Awt.Po(o.Co),o.Ow.Ll=o.Awt.Uw,o.xw.Ll=o.Awt.Fw,o.Pw.Ll=o.Awt.Hw,o}U(n,t);var i=n.prototype;return i.jw=function(){return this.Awt.jw()},i.Qw=function(){this.Awt.Qw()},i.Yw=function(){this.Awt.Yw()},i.Xw=function(){ys(this.Awt.Xw())},i.Ww=function(){this.Awt.Ww()},i.qw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){return this.cgt},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(i),this.cgt=n,!Sl(n.sources)){t.next=6;break}r=QA({src:""}),t.next=16;break;case 6:e=n.sources.filter(Dl),s=0;case 8:if(!(s<e.length)){t.next=16;break}if(!Pp(u=e[s])){t.next=13;break}return r=u,t.abrupt("break",16);case 13:s++,t.next=8;break;case 16:if(r){t.next=18;break}throw new f("Unsupported source.");case 18:return t.next=20,this.Awt.Gw(r,n,i);case 20:this.SR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.SR=function(t){this.mR!==t&&(this.mR=t,this.Do(new ol(t)))},i.ny=function(){},i.bwt=function(){},i.ey=function(){return[]},i.Zw=function(){this.pwt.DI()},i.Jw=function(t){n_(this,t)},i.$w=function(){},i.sy=function(t){return!1},i.ay=function(){},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mR=void 0,this.cgt=void 0,t.next=4,this.Awt.Il();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kw=function(){this.Awt.Kw()},i.ty=function(){this.Awt.ty()},i.iy=function(){return this.Awt.iy()},i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Bo(),this.pwt.Pv(),t.next=4,this.Awt.Pv();case 4:this.Ow.Pv(),this.xw.Pv(),this.Pw.Pv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Uw",get:function(){return this.Awt.Uw}},{key:"vy",get:function(){return this.Awt.vy}},{key:"hy",get:function(){return this.mR}},{key:"B_",get:function(){return this.Awt.B_},set:function(t){this.Awt.B_=t}},{key:"ly",get:function(){return this.Awt.ly}},{key:"L_",get:function(){return this.Awt.L_}},{key:"_y",get:function(){return this.dR}},{key:"M_",get:function(){return this.Awt.M_}},{key:"Go",get:function(){return this.Awt.Go}},{key:"gy",get:function(){return this.Awt.gy}},{key:"Sw",get:function(){return{wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"F_",get:function(){return this.Awt.F_},set:function(t){this.Awt.F_=t}},{key:"by",get:function(){return this.Awt.by}},{key:"H_",get:function(){return this.Awt.H_}},{key:"V_",get:function(){return this.Awt.V_},set:function(t){this.Awt.V_=t}},{key:"Ty",get:function(){return this.Awt.Ty}},{key:"Ey",get:function(){return this.Awt.Ey},set:function(t){this.Awt.Ey=t}},{key:"Kl",get:function(){return this.Awt.Kl}},{key:"Sy",get:function(){return this.Awt.Sy}},{key:"X_",get:function(){return this.Awt.X_}},{key:"Hw",get:function(){return this.Awt.Hw}},{key:"W_",get:function(){return this.Awt.W_}},{key:"q_",get:function(){return this.Awt.q_}},{key:"Fw",get:function(){return this.Awt.Fw}},{key:"z_",get:function(){return this.Awt.z_},set:function(t){this.Awt.z_=t}}]),n}(el);DE(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Twt=void 0;var e=new DU(r.yP._y,r.zd,r.Vh,r.kB,r.uB,r.EB);return r.Twt=new CU(en(r),r.yP,r.zd,e),r.AB.TP(r.Twt),r.Oo("currentsourcechange",function(){r.Twt.wwt()}),r}U(n,t);var i=n.prototype;return i.$d=function(){var n=this,i=t.prototype.$d.call(this);return Od(i.cast,{get airplay(){return n.Twt.Jd}}),i},i.Pv=function(){this.Twt.Pv(),t.prototype.Pv.call(this)},n}(t)},bE.SB);var OU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},xU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),PU=A(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function BU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function LU(t){return JSON.stringify(t,PU.getSerialize(BU))}var MU,UU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),FU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),HU=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),VU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=UU.isS,r=UU.isChar,e=UU.isNameStartChar,s=UU.isNameChar,u=UU.S_LIST,o=UU.NAME_RE,h=FU.isChar,a=HU.isNCNameStartChar,c=HU.isNCNameChar,v=HU.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:g},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.pa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.pa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.pa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?g:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),XU=function(){function t(){}return t.prototype.rs=function(t){var n=new VU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new YU,r=[i];function e(t){r[r.length-1].ks(t)}return n.on("text",function(t){r.length>1&&e(new jU(t))}),n.on("cdata",function(t){e(new QU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new zU({os:n,as:""===i?void 0:i,Ewt:""===s?void 0:s}),o=t.attributes,h=0,a=d.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,l=c.uri,_=c.value,g=new WU({os:v,fs:_,as:""===l?void 0:l,Ewt:""===f?void 0:f});u.Swt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new on(t)}),n.write(t).close(),i},t}(),WU=function(){function t(t){this.Rwt=void 0,this.Iwt=void 0,this.Nwt=void 0,this.xn=void 0,this.Rwt=t.os,this.xn=t.fs,this.Iwt=t.as,this.Nwt=t.Ewt}var n=t.prototype;return n.ss=function(t){return this===t||!!JU(this,t)&&(this.Rwt===t.Rwt&&this.Iwt===t.Iwt&&this.Nwt===t.Nwt&&this.xn===t.xn)},n.us=function(){return new t({os:this.os,fs:this.fs,as:this.as,Ewt:this.cs})},L(t,[{key:"Ye",get:function(){return $t.$e}},{key:"os",get:function(){return this.Rwt}},{key:"hs",get:function(){return void 0===this.Nwt?this.Rwt:this.Nwt+":"+this.Rwt}},{key:"as",get:function(){return this.Iwt}},{key:"cs",get:function(){return this.Nwt}},{key:"fs",get:function(){return this.xn}}]),t}(),qU=function(){function t(){this.ds=[]}var n=t.prototype;return n.ls=function(t){return this.ds.filter(function(n){return ZU(n)&&n.gs===t})},n.ys=function(t,n){return this.ds.filter(function(i){return ZU(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.ds.push(t)},L(t,[{key:"_s",get:function(){return this.ds}},{key:"As",get:function(){return this.ds.filter(ZU)}}]),t}(),zU=function(t){function n(n){var i;return(i=t.call(this)||this).Rwt=void 0,i.Iwt=void 0,i.Nwt=void 0,i.Cwt=[],i.Rwt=n.os,i.Iwt=n.as,i.Nwt=n.Ewt,i}U(n,t);var i=n.prototype;return i.Dwt=function(t){for(var n=0,i=this._s;n<i.length;n++){var r=i[n];ZU(r)?r.Dwt(t):t.push(r.Ds)}},i.Ts=function(t,n){for(var i=0,r=this.Cwt;i<r.length;i++){var e=r[i];if(e.os===n&&e.as===t)return e.fs}},i.bs=function(t){for(var n=0,i=this.Cwt;n<i.length;n++){var r=i[n];if(r.hs===t)return r.fs}},i.Swt=function(t){this.Cwt.push(t)},i.Es=function(t){for(var n=0;n<this.Cwt.length;n++)if(this.Cwt[n].hs===t)return void this.Cwt.splice(n,1)},i.Ss=function(t,n){for(var i=0;i<this.Cwt.length;i++)if(this.Cwt[i].os===n&&this.Cwt[i].as===t)return void this.Cwt.splice(i,1)},i.Rs=function(t,n){this.Es(t),this.Swt(new WU({os:t,fs:n}))},i.Is=function(t,n,i){this.Es(n);var r=n.split(":");this.Swt(new WU({os:r[r.length-1],fs:i,as:t,Ewt:r.length>1?r[0]:void 0}))},i.us=function(t){var i=new n({os:this.os,as:this.as,Ewt:this.cs});return this.Ns.forEach(function(t){return i.Swt(t.us())}),t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!JU(this,t)&&(this.Rwt===t.Rwt&&this.Nwt===t.Nwt&&this.Iwt===t.Iwt&&($U(this.Ns,t.Ns)&&$U(this._s,t._s)))},L(n,[{key:"Ye",get:function(){return $t.Ze}},{key:"Ns",get:function(){return this.Cwt}},{key:"os",get:function(){return this.Rwt}},{key:"as",get:function(){return this.Iwt}},{key:"cs",get:function(){return this.Nwt}},{key:"gs",get:function(){return void 0===this.Nwt?this.Rwt:this.Nwt+":"+this.Rwt}},{key:"Cs",get:function(){var t=[];return this.Dwt(t),t.join("")}}]),n}(qU),GU=function(){function t(t){this.nr=void 0,this.nr=t}return L(t,[{key:"Ds",get:function(){return this.nr}}]),t}(),jU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!JU(this,t)&&this.Ds===t.Ds},L(n,[{key:"Ye",get:function(){return $t.Je}}]),n}(GU),QU=function(t){function n(n){return t.call(this,n)||this}U(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!JU(this,t)&&this.Ds===t.Ds},L(n,[{key:"Ye",get:function(){return $t.Ke}}]),n}(GU),YU=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.us=function(t){var i=new n;return t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!JU(this,t)&&$U(this._s,t._s)},L(n,[{key:"Ye",get:function(){return $t.ts}},{key:"Os",get:function(){return this.As[0]}}]),n}(qU);function ZU(t){return nn(t)}function JU(t,n){return t.Ye===n.Ye}function $U(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ss(n[i]))return!1;return!0}function KU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:_e({},t,{adBreak:_e({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return km(t,["adBreak"])})})})}function tF(t){return void 0===t.ads?t:_e({},t,{ads:t.ads.map(function(t){t.adBreak;return km(t,["adBreak"])})})}function nF(t){return"string"==typeof t.date?new Date(t.date):t.date}function iF(t){var n;return t.cue.track?(n=eF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=eF(t.cue,""),n}function rF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function eF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new XU).rs(r.firstChild.outerHTML).Os.Ns.forEach(function(t){e[t.os]=t.fs}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=sF(o);s[u]={type:MU.Owt,value:h}}else oF(o)?s[u]={type:MU.xwt,value:o}:s[u]={type:MU.nq,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=sF(t.scte35Cmd),i.scte35Out=sF(t.scte35Out),i.scte35In=sF(t.scte35In),i.customAttributes=s}var a}(),i}function sF(t){if(void 0!==t)return zs(t)}function uF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(eF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(eF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function oF(t){return"number"==typeof t}!function(t){t.nq="daterange-ca-type_string",t.xwt="daterange-ca-type_number",t.Owt="daterange-ca-type_arraybuffer"}(MU||(MU={}));var hF={cue:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=iF(t)}return n},textTrack:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=vF().register(t.cue));var i=fF()[dF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=iF(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(eF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=vF().register(t)}),n.track=uF(t.track);case"removetrack":case"change":n.track=uF(t.track)}return n},default:function(t){var n={};switch(n.date=nF(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=_e({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=uF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=tF(t.ad);break;case"adloaded":case"adimpression":n.ad=KU(t.ad);break;case"aderror":t.Pwt&&(n.Pwt=t.Pwt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=KU(t.ad)}return rF(n)},minimizeCueHelper:function(t){var n={};return n.date=nF(t),n.type=t.type,n.cue=iF(t),n.track={uid:t.cue.track.uid},n},adReplacer:KU,adBreakReplacer:tF,removeCircularReferences:rF},aF=function(){this.stringify=LU,this.minimize=hF};function cF(){return Or.self}function fF(){return cF().THEOplayerBridge}function vF(){return cF().THEOCueMirrorMap}function dF(){return cF().THEOplayerGlobalID}function lF(){var t=cF();if(t.THEOplayerBridge){var n=new OU;t.THEOplayerBridge=Od(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new OU;t.THEOplayerUtils||(t.THEOplayerUtils=new aF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new xU)}lF();var _F,gF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return U(n,t),n}(Is),wF=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Do(new gF(t,n))},i.addEventListener=function(t,n){this.Oo(t,n)},i.removeEventListener=function(t,n){this.Lo(t,n)},n}(sl),yF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Bwt=void 0,r.Lwt=void 0,r.Mwt=function(t){r.Bwt.lj("THEOplayerABRSetTargetBuffer",t.tx),r.Do(t)},r.Uwt=function(t){r.Bwt.lj("THEOplayerABRSetStrategy",t.ix),r.Do(t)},r.Bwt=n,r.Lwt=i,r.Lwt.Oo("nx",r.Mwt),r.Lwt.Oo("ex",r.Uwt),r}return U(n,t),L(n,[{key:"gx",get:function(){var t;switch(this.ix.type){case LT.PERFORMANCE:return 1;case LT.QUALITY:return 0;case LT.BANDWIDTH:return null!=(t=this.ix.metadata)&&t.bitrate&&!w(this.ix.metadata.bitrate)?this.ix.metadata.bitrate:0;default:return 0}}},{key:"Jd",get:function(){return this.Lwt.Jd}},{key:"ix",get:function(){return this.Lwt.ix},set:function(t){this.Lwt.ix=t}},{key:"tx",get:function(){return this.Lwt.tx},set:function(t){this.Lwt.tx=t}},{key:"sx",get:function(){return this.Lwt.sx},set:function(t){this.Lwt.sx=t}}]),n}(Ss),mF=function(){function t(t,n,i){this.da=void 0,this.uo=void 0,this.Ea=void 0,this.Fh=void 0,this.da=t,this.uo=i,this.Ea=n}var n=t.prototype;return n.Ub=function(t){throw new f("Not implemented yet.")},n.pL=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uo.ao(n.to,i);case 2:return r=t.sent,t.next=5,r.Qh();case 5:return e=t.sent,t.next=8,this.AL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bL=function(t){return!1},n.TL=function(t){return T.resolve(void 0)},n.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.AL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.AL=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.SL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SL=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Fh)){t.next=5;break}return t.next=4,i.zh(this.Ea);case 4:this.Fh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.qh(this.Ea);case 8:this.Fh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bb=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"Vh",get:function(){return this.da}},{key:"Ey",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Sy",get:function(){return new Yp([0,1/0])}},{key:"Hw",get:function(){throw new f("Not implemented yet.")}},{key:"Fwt",get:function(){throw new f("Not implemented yet")}},{key:"Fw",get:function(){throw new f("Not implemented yet.")}},{key:"Hwt",get:function(){throw new f("Not implemented yet")}},{key:"Vwt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.Xwt="webkitneedkey",t.Wwt="webkitkeymessage",t.qwt="webkitkeyerror"}(_F||(_F={}));var kF=function(t){function n(n,i){var r;return(r=t.call(this,_F.Xwt)||this).initData=n,r.sessionId=i,r}return U(n,t),n}(Is),pF=function(t){function n(n,i){var r;return(r=t.call(this,_F.Wwt)||this).message=n,r.destinationURL=i,r}return U(n,t),n}(Is),AF=function(t){function n(){return t.call(this,_F.qwt)||this}return U(n,t),n}(Is),bF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ta=new Yu,u.la=void 0,u.ra=new Ms,u.ga=new Yu,u.zwt=function(t){u.la?(u.la.gh(void 0),u.la=void 0):u.ha("internal-error"),u.Do(new xs)},u.Gwt=function(t){u.la&&(u.la._h(void 0),u.la=void 0),u.Do(new Os(en(u),"license-request",Gu(t.message).buffer,t.destinationURL||void 0))},u.ca=n,u.Sh=i,u.jwt=r,u.ba=e,u.ya=s,u}U(n,t);var i=n.prototype;return i.Ch=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.ma){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Qwt(qu(i),e);case 5:this.ha("usable"),this.ga._h(),this.ga=new Yu;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Dh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.xh=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=qu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.la=new Yu,this.jwt.xh(this.ba,i),t.next=7,this.la.lh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Nh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ga;case 2:return this.jwt.Lo(_F.Wwt,this.Gwt),this.jwt.Lo(_F.qwt,this.zwt),this.ga.bo(),this.ta._h(void 0),t.abrupt("return",this.ta.lh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Oh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Qwt=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=No(n,i,this.ya),this.jwt.Oo(_F.Wwt,this.Gwt),this.jwt.Oo(_F.qwt,this.zwt),this.jwt.gV(this.ba,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ha=function(t){this.ra.rh(),this.ra.ih(Ls,t),this.Do(new Ds(this))},L(n,[{key:"Uh",get:function(){return this.ba}},{key:"Lh",get:function(){return NaN}},{key:"Bh",get:function(){return this.ta.lh}},{key:"Mh",get:function(){return this.ra}}]),n}(Ss),TF=function(){function t(t,n,i){this.Ywt=void 0,this.ba=void 0,this.ya=void 0,this.jwt=void 0,this.Sh=void 0,this.da=void 0,this.ca=void 0,this.jwt=t,this.Sh=n,this.da=i;var r=lo(i)||"video/mp4";this.ca=co(r)}var i=t.prototype;return i.Xh=function(){var t=T.coroutine(le.mark(function t(i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ya){t.next=2;break}throw new Co(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new bF(this.ca,this.Sh,this.jwt,this.ba,this.ya),this.Ywt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Wh=function(t){return this.ya=qu(t),T.resolve(!0)},i.qh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"Hh",get:function(){return this.Sh}},{key:"Vh",get:function(){return this.da}},{key:"sessionId",set:function(t){this.ba=t}}]),t}(),EF=function(){function t(t,n,i){this.Zwt=t,this.Sh=n,this.da=i}var n=t.prototype;return n.Yh=function(){return this.da},n.Qh=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new TF(this.Zwt,this.Sh,this.da));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"Hh",get:function(){return this.Sh}}]),t}(),SF=function(){function t(t){this.Zwt=void 0,this.Zwt=t}return t.prototype.ao=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=fo(RF,Cs,n,e))){t.next=6;break}return t.abrupt("return",new EF(this.Zwt,n,s));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function RF(t,n){return t===Be}var IF,NF=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.RV=function(t,n){return!0},n}(OI),CF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new SF(i)),(e=t.call(this)||this).tS=void 0,e.uo=void 0,e.wL=void 0,e.OV=new VE,e.Jwt=void 0,e.Zwt=void 0,e.$wt=!1,e.ba=void 0,e.wa=null,e.Kwt={wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.tyt=function(t){"boolean"==typeof t.detail.casting&&(e.$wt=t.detail.casting,e.Do(new ig(e.$wt)))},e.nyt=function(t){e.ba=t.sessionId,e.wa&&(e.wa.sessionId=e.ba);var n=t.initData;if(n){var i=FI(n);if(!i)return;e.Do(new Ps(Ne,i))}else e.Do(new Ps(Ne,new ArrayBuffer(0)))},e.Jwt=n,e.Zwt=i,e.Zwt.Oo(_F.Xwt,e.nyt),e.uo=r,e.wL=new NF(en(e)),e.iyt(),e}U(n,t);var i=n.prototype;return i.NL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Ku===Ey.Hb)return i}},i.wo=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Il();case 2:return this.Bo(),this.ryt(),this.Zwt.Lo(_F.Xwt,this.nyt),t.next=7,this.wL.wo();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ty=function(){throw new f("Not implemented yet")},i.Bb=function(t,n,i,r,e,s,u){throw new f("Not implemented yet")},i.PS=function(){return!1},i.MS=function(t,n,i,r){throw new f("Not implemented yet")},i.Ub=function(t){throw new f("Not implemented yet")},i.HS=function(){throw new f("Not implemented yet")},i.Dh=function(){var t=T.coroutine(le.mark(function t(n){var i=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.OV.XB(function(){var t=T.coroutine(le.mark(function t(r){var e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Ku!==Ey.Hb){t.next=8;break}return cs(r),e=new mF(n,i,i.uo),i.tS=e,i.wL.Dh(e,n),t.abrupt("return",e);case 8:throw new f("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ww=function(){throw new f("Not implemented yet")},i.Xw=function(){throw new f("Not implemented yet")},i.Il=function(){var t=this;return this.OV.bo(),this.OV.XB(T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.tS){n.next=4;break}return n.next=3,t.tS.wo();case 3:t.tS=void 0;case 4:return n.next=6,t.wL.Il();case 6:case"end":return n.stop()}},n)})))},i.oh=function(t,n){throw new f("Not implemented yet")},i.jS=function(t){throw new f("Not implemented yet")},i.Kw=function(){throw new f("Not implemented yet")},i.QS=function(){return this.Kwt},i.iyt=function(){this.Jwt.addEventListener("airPlayIsCasting",this.tyt)},i.ryt=function(){this.Jwt.removeEventListener("airPlayIsCasting",this.tyt)},i.webkitSetMediaKeys=function(t){this.wa=t||null,this.wa&&(this.wa.sessionId=this.ba)},i.hW=function(){},i.GU=function(){throw new f("Not implemented yet")},i.jU=function(){throw new f("Not implemented yet")},L(n,[{key:"ly",get:function(){throw new f("Not implemented yet")}},{key:"vy",get:function(){throw new f("Not implemented yet")}},{key:"B_",get:function(){throw new f("Not implemented yet")}},{key:"bB",get:function(){throw new f("Not implemented yet")}},{key:"L_",get:function(){throw new f("Not implemented yet")}},{key:"M_",get:function(){throw new f("Not implemented yet")}},{key:"Go",get:function(){throw new f("Not implemented yet")}},{key:"Ep",get:function(){throw new f("Not implemented yet")}},{key:"gy",get:function(){return this.$wt}},{key:"F_",get:function(){throw new f("Not implemented yet")}},{key:"H_",get:function(){throw new f("Not implemented yet")}},{key:"V_",get:function(){throw new f("Not implemented yet")}},{key:"Ty",get:function(){throw new f("Not implemented yet")}},{key:"Kl",get:function(){throw new f("Not implemented yet")}},{key:"Sy",get:function(){throw new f("Not implemented yet")}},{key:"X_",get:function(){throw new f("Not implemented yet")}},{key:"fW",get:function(){throw new f("Not implemented yet")}},{key:"z_",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"fu",get:function(){throw new f("Not implemented yet")}},{key:"FS",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.wa}},{key:"vW",get:function(){return rS}},{key:"Hw",get:function(){throw new f("Not implemented yet")}},{key:"EB",get:function(){throw new f("Not implemented yet")}},{key:"YS",get:function(){throw new f("Not implemented yet")}},{key:"aW",get:function(){return!0}},{key:"SS",get:function(){return this.wL.SS},set:function(t){this.wL.SS=t}},{key:"CV",get:function(){return this.wL.CV}}]),n}(el),DF=function(t){function n(n){var i;return(i=t.call(this,Zo.bc)||this).Kwt=n,i}return U(n,t),n}(Is);function OF(t){switch(t.type){case IF.nq:return t.value;case IF.xwt:return Ud(t.value);case IF.Owt:return Ws(t.value);default:return}}function xF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.nq="daterange-ca-type_string",t.xwt="daterange-ca-type_number",t.Owt="daterange-ca-type_arraybuffer"}(IF||(IF={}));var PF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).EE=void 0,u.eyt=void 0,u.EE=n,u.eyt=s,u}return U(n,t),L(n,[{key:"name",get:function(){return this.EE}},{key:"timestamp",get:function(){return this.eyt}}]),n}(Co),BF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return U(n,t),n}(PF),LF=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).mI=0,u.YU=!1,u.nS=void 0,u.iS=void 0,u.syt=void 0,u.pI=!0,u.AI=1,u.Ow=void 0,u.xw=void 0,u.MV=void 0,u.FV=void 0,u.HV=void 0,u.Pw=void 0,u.Db=void 0,u.QU=void 0,u.uyt=Yp._I(),u.IU=Yp._I(),u.kI=!1,u.ZV=Yp._I(),u.bI=void 0,u.oyt=void 0,u.hyt=void 0,u._F=ll.T_,u.Xb=ll.T_,u.Jwt=void 0,u.XV=void 0,u.sS=void 0,u.Bwt=void 0,u.cgt=void 0,u.II=void 0,u.KE=void 0,u.uS=void 0,u.Zwt=void 0,u.Kwt={wy:0,yy:0,my:0,ky:0,py:0,Ay:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.tS=void 0,u.ayt=void 0,u.hS=new Np,u.setCurrentTime=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Sy.length){t.next=4;break}return u.mI=n,t.next=4,u.Jwt.Ho("seekablechange");case 4:u.mI=u.updateCurrentTime(n),u.Bwt.lj("THEOplayerSetCurrentTime",u.mI),u.bI=!0,u.Do(new zl(u.mI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.cyt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.uyt=new Yp(i),u.Do(new hS(u.B_))}},u.fyt=function(t){u._F=t.detail.readyState,u.Do(new Ql(+t.detail.currentTime,u.Kl)),u.vyt()},u.dyt=function(t){u._F=t.detail.readyState,u.Do(new Yl(+t.detail.currentTime,u.Kl)),u.vyt()},u.lyt=function(t){if(t.detail){var n=+t.detail.duration;u.QU=n,u.Do(new Hl(u.L_))}},u.kgt=function(t){t.detail&&(u.YU=!0,u.Do(new Wl(+t.detail.currentTime)))},u.aS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);xF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.iS=new BF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.nS=M_(u.iS),u.Do(new Jl(u.iS))):xF(i)&&(u.iS=new PF(i.name,i.message,void 0,i.code,i.timestamp),u.nS=M_(u.iS),u.Do(new Jl(u.iS)))}},u.pgt=function(t){u.Do(new aS)},u._yt=function(t){u._F=t.detail.readyState,u.Do(new ql(+t.detail.currentTime,u.Kl)),u.vyt()},u.gyt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Sy.length){t.next=3;break}return t.next=3,u.Jwt.Ho("seekablechange");case 3:u._F=n.detail.readyState,u.Do(new Fl(+n.detail.currentTime,u.Kl)),u.vyt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.dgt=function(t){t.detail&&u.Do(new Bl(+t.detail.currentTime))},u.lgt=function(t){t.detail&&(u.pI||(u.pI=!0,u.Do(new Pl(+t.detail.currentTime))))},u.wyt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.ZV=new Yp(i).ZR(.05)}},u.Vgt=function(t){t.detail&&u.Do(new Zy(+t.detail.currentTime))},u.wgt=function(t){t.detail&&(u.AI=t.detail.playbackRate,u.Do(new Vl(+t.detail.currentTime,u.AI)))},u.yyt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.IU=new Yp(i)}},u.ggt=function(t){t.detail&&(u.mI=+t.detail.currentTime,u.bI=!1,u.Do(new Xl(u.mI,u.syt)),u.Do(new Gl(u.mI)))},u._gt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.QU&&(u.YU=!1),u.bI=!0,u.Do(new zl(n))}},u.myt=function(t){t.detail&&(t.detail.currentDate&&(u.syt=new Date(1e3*t.detail.currentDate)),u.mI=+t.detail.currentTime,u.Do(new Xl(u.mI,u.syt)))},u.kyt=function(t){u.oyt=t.detail.height,u.hyt=t.detail.width},u.pyt=function(t){t.detail&&u.Do(new Yy(+t.detail.currentTime))},u.Ogt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Uw.El(new Z_(n))},u.Ayt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u.Ow.Cl;s++){var o=u.Uw.Tl(s);o.ql==r&&o.Wl==e?i=u.Ow.Tl(s):1==o.Fl&&(n=u.Ow.Tl(s))}i&&n&&(i.Fl=!0,n.Fl=!1)},u.Pgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Fw.El(new ng(n))},u.XG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Kw.yk&&r===K_.ID3?(n=new lI("",t.detail.label)).$l=Qd.Ql:i===Kw.yk&&r===K_.DATE_RANGE?(n=new tD,u.ayt=n):n=new oR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.MV.El(n),u.XV.El(n)},u.byt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new vI(Ud(r.startTime),s,r.uid),h=u.Tyt();h&&h.Mb(o)}},u.Eyt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new yg(Ud(e.startTime),Ud(e.endTime),e.content,!1),o=null!=(r=u.Syt(Kw.gk))?r:u.Syt(Kw.Eb);o&&(o.Ku=K_.WEBVTT,o.Mb(s))}},u.FX=function(t){t.type===Zo.za&&(u.nS=M_(t.errorObject)),u.Co(t)},u.Ryt=function(t){t.detail&&(u.Kwt.yy=t.detail.corruptedVideoFrames,u.Kwt.wy=t.detail.droppedVideoFrames,u.Do(new DF(u.Sw)))},u.Iyt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Hl:t.id};if(void 0!==t.startDate&&(n.YS=new Date(t.startDate)),void 0!==t.endDate&&(n.TY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=OF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.MY=r}void 0!==t.scte35Cmd&&(n.UY=Ws(t.scte35Cmd)),void 0!==t.scte35In&&(n.HY=Ws(t.scte35In)),void 0!==t.scte35Out&&(n.FY=Ws(t.scte35Out)),void 0!==t.startTime&&(n.Gy=t.startTime),n.PY=t.class,n.L_=Ud(t.duration),n.BY=Ud(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Gy?t.Gy:(new Date).getTime(),r=new jC(t,i);u.ayt.Mb(r),u.ayt.xh(n,i)})};var o=e.uid;u.Bwt=u.getSdkBridge(o),u.Jwt=new wF,fF()[o].sdkEventBus=u.Jwt,u.Ow=new H_,u.xw=new H_;var h=u.Nyt(r);return u.Db=new mU(en(u),new aI),u.XV=new fI(en(u)),u.sS=new my(u.Db,h),u.MV=new ty,u.FV=new kI(en(u)),u.FV.Ll=u.MV,u.HV=new pI(u.Db,u.FV),u.Pw=new hR([u.MV,u.sS.ap,u.HV.ap]),u.Zwt=u.getFairPlayControllerBridge(u.Bwt),u.KE=new CF(u.Jwt,u.Zwt),u.uS=new Cp(h),u.KE.SS=u.uS,u.observeMediaElement(),u.IS(),u.II=new yF(u.Bwt,s),u.II.Oo("nx",function(){u.Bwt.lj("THEOplayerSetPreferredForwardBufferDuration",u.II.tx)}),u}U(n,t);var i=n.prototype;return i.iy=function(){return $p},i.Kw=function(){this.Bwt.lj("THEOplayerShow",{})},i.ty=function(){this.Bwt.lj("THEOplayerHide",{})},i.Cyt=function(){var t=this;this.Bwt.lj("THEOplayerSetInitialPreferredPeakBitRate",this.II.gx);this.Oo("playing",function n(){t.Bwt.lj("THEOplayerSetInitialPreferredPeakBitRate",0),t.Lo("playing",n)})},i.Gw=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cgt=n,r=_e({},i,{sources:{src:n.src,type:fl.w_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Bwt.lj("THEOplayerSourceChange",r),e={Ku:Ey.Hb,i_:n.src,qf:n.type,NS:this.CS(n),DS:n.crossOrigin,OS:i.metadata&&i.metadata.title},this.uS.QE(n.contentProtection),t.next=7,this.KE.Dh(e);case 7:this.tS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==K_.WEBVTT})).length>0&&this.xS(s),Ty(this.Hw),this.Cyt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Hh:Ue,qS:[{initDataTypes:[Ue.io],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Xw=function(){this.pI=!1,this.Do(new Bl(this.B_)),this.Bwt.lj("THEOplayerPlay",{})},i.Ww=function(){this.pI=!0,this.Do(new Pl(this.B_)),this.Bwt.lj("THEOplayerPause",{})},i.ny=function(){},i.Il=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mI=0,this.YU=!1,this.nS=void 0,this.iS=void 0,this.pI=!0,this.AI=1,this.QU=void 0,this.IU=Yp._I(),this.uyt=Yp._I(),this.oyt=void 0,this.hyt=void 0,this._F=ll.T_,this.Xb=ll.T_,this.Ow.Il(),this.xw.Il(),this.MV.Il(),this.Pw.Il(),t.next=19,this.HV.Il();case 19:return this.FV.Il(),t.next=22,this.sS.Il();case 22:return this.Db.Il(),this.XV.Il(),this.cgt=void 0,t.next=27,this.KE.Il();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qw=function(){this.Bwt.lj("THEOplayerShowAirPlayPicker",{})},i.Yw=function(){this.Bwt.lj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Sw.yy=t.yy,this.Sw.wy=t.wy},i.Pv=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Il();case 2:return this.Bo(),this.unobserveMediaElement(),this.XS(),this.KE.SS=void 0,t.next=8,this.KE.wo();case 8:return this.Ow.Pv(),this.xw.Pv(),this.MV.Pv(),this.Pw.Pv(),this.FV.Pv(),t.next=15,this.HV.Pv();case 15:return t.next=17,this.sS.Pv();case 17:this.Db.Pv(),this.XV.Pv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.sS.Pb(i)}},i.vyt=function(){var t=this.Xb,n=this._F;t!==n&&(this.Xb=n,this.Do(new Zl(this.B_,n)))},i.observeMediaElement=function(){this.KE.Oo(Zo.Va,this.Co),this.KE.Oo([Zo.Ga,Zo.za],this.FX),this.Jwt.addEventListener("play",this.dgt),this.Jwt.addEventListener("pause",this.lgt),this.Jwt.addEventListener("seeking",this._gt),this.Jwt.addEventListener("seeked",this.ggt),this.Jwt.addEventListener("ratechange",this.wgt),this.Jwt.addEventListener("durationchange",this.lyt),this.Jwt.addEventListener("timeupdate",this.myt),this.Jwt.addEventListener("waiting",this.pyt),this.Jwt.addEventListener("playing",this.Vgt),this.Jwt.addEventListener("ended",this.kgt),this.Jwt.addEventListener("loadedmetadata",this.gyt),this.Jwt.addEventListener("loadeddata",this._yt),this.Jwt.addEventListener("loadstart",this.pgt),this.Jwt.addEventListener("canplay",this.fyt),this.Jwt.addEventListener("canplaythrough",this.dyt),this.Jwt.addEventListener("error",this.aS),this.Jwt.addEventListener("seekablechange",this.yyt),this.Jwt.addEventListener("videosizechange",this.kyt),this.Jwt.addEventListener("bufferedchange",this.cyt),this.Jwt.addEventListener("playedchange",this.wyt),this.Jwt.addEventListener("metricschange",this.Ryt),this.Jwt.addEventListener("addDateRangeCues",this.Iyt)},i.unobserveMediaElement=function(){this.KE.Lo(Zo.Va,this.Co),this.KE.Lo([Zo.Ga,Zo.za],this.FX),this.Jwt.removeEventListener("play",this.dgt),this.Jwt.removeEventListener("pause",this.lgt),this.Jwt.removeEventListener("seeking",this._gt),this.Jwt.removeEventListener("seeked",this.ggt),this.Jwt.removeEventListener("ratechange",this.wgt),this.Jwt.removeEventListener("durationchange",this.lyt),this.Jwt.removeEventListener("timeupdate",this.myt),this.Jwt.removeEventListener("waiting",this.pyt),this.Jwt.removeEventListener("playing",this.Vgt),this.Jwt.removeEventListener("ended",this.kgt),this.Jwt.removeEventListener("loadedmetadata",this.gyt),this.Jwt.removeEventListener("loadeddata",this._yt),this.Jwt.removeEventListener("loadstart",this.pgt),this.Jwt.removeEventListener("canplay",this.fyt),this.Jwt.removeEventListener("canplaythrough",this.dyt),this.Jwt.removeEventListener("error",this.aS),this.Jwt.removeEventListener("seekablechange",this.yyt),this.Jwt.removeEventListener("videosizechange",this.kyt),this.Jwt.removeEventListener("bufferedchange",this.cyt),this.Jwt.removeEventListener("playedchange",this.wyt),this.Jwt.removeEventListener("metricschange",this.Ryt),this.Jwt.removeEventListener("addDateRangeCues",this.Iyt)},i.updateCurrentTime=function(t){var n=this.Sy.start(0),i=this.Sy.end(0);return l.min(l.max(t,n),i)},i.Tyt=function(){for(var t=0,n=this.Pw.Nl;t<n.length;t++){var i=n[t];if(i.Xl===Kw.yk&&i.Ku===K_.ID3)return i}},i.Syt=function(t){for(var n=0,i=this.Pw.Nl;n<i.length;n++){var r=i[n],e=r.$l===Qd.Yl,s=r.Xl===t;if(e&&s)return r}},i.IS=function(){this.Jwt.addEventListener("addaudiotrack",this.Ogt),this.Jwt.addEventListener("enableaudiotrack",this.Ayt),this.Jwt.addEventListener("addvideotrack",this.Pgt),this.Jwt.addEventListener("addtexttrack",this.XG),this.Jwt.addEventListener("addtexttrackid3cues",this.byt),this.Jwt.addEventListener("addtexttrackcues",this.Eyt)},i.XS=function(){this.Jwt.removeEventListener("addaudiotrack",this.Ogt),this.Jwt.removeEventListener("enableaudiotrack",this.Ayt),this.Jwt.removeEventListener("addvideotrack",this.Pgt),this.Jwt.removeEventListener("addtexttrack",this.XG),this.Jwt.removeEventListener("addtexttrackid3cues",this.byt),this.Jwt.removeEventListener("addtexttrackcues",this.Dyt)},i.ay=function(){},L(n,[{key:"Uw",get:function(){return this.Ow}},{key:"vy",get:function(){return this.uyt.GS()}},{key:"ly",get:function(){return this.syt?this.syt:null},set:function(t){this.Bwt.lj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.syt=t}},{key:"B_",get:function(){return this.mI},set:function(t){this.setCurrentTime(t)}},{key:"L_",get:function(){return this.QU}},{key:"M_",get:function(){return this.YU}},{key:"Go",get:function(){return this.nS}},{key:"U_",get:function(){return this.iS}},{key:"Vw",get:function(){}},{key:"gy",get:function(){return this.KE.gy}},{key:"Sw",get:function(){return this.Kwt}},{key:"F_",get:function(){return this.kI},set:function(t){this.kI!==t&&(this.Bwt.lj("THEOplayerSetMuted",t),this.kI=t,this.Do(new jl(this.B_,t?0:1)))}},{key:"H_",get:function(){return this.pI}},{key:"V_",get:function(){return this.AI},set:function(t){this.Bwt.lj("THEOplayerSetPlaybackRate",t),this.AI=t}},{key:"Ty",get:function(){return this.ZV.GS()}},{key:"Ey",get:function(){return Vp._R},set:function(t){}},{key:"Kl",get:function(){return this._F}},{key:"Sy",get:function(){return this.IU.GS()}},{key:"X_",get:function(){return this.bI}},{key:"YS",get:function(){}},{key:"Hw",get:function(){return this.Pw}},{key:"W_",get:function(){return this.oyt}},{key:"q_",get:function(){return this.hyt}},{key:"z_",get:function(){return 1},set:function(t){}},{key:"Fw",get:function(){return this.xw}},{key:"ZS",get:function(){return this.hS}},{key:"by",get:function(){return!0}}]),n}(el),MF=function(){function t(){this.JS=bp.VE}var n=t.prototype;return n.$S=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(ml(n.type))return!1;var r=n.contentProtection;if(r&&!xm(r)){if(!Lm(r))return!1;if(!t.Xgt(r))return!1}return!0},t.Xgt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.KS=function(){return!1},t}(),UF=function(){function t(){this.Oyt=r.webkit}return t.prototype.lj=function(t,n){this.Oyt.messageHandlers[t]&&this.Oyt.messageHandlers[t].postMessage(n)},t}(),FF=function(t){function n(n){var i;return(i=t.call(this)||this).Bwt=void 0,i.Jwt=void 0,i.xyt=function(t){var n=Ws(t.detail.initData),r=t.detail.sessionId;i.Do(new kF(n,r))},i.Pyt=function(t){var n=new y(Zs(t.detail.message)),r=t.detail.destinationURL;i.Do(new pF(n,r))},i.Byt=function(t){i.Do(new AF)},i.Bwt=n,i.Jwt=new wF,fF().fairplayController={sdkEventBus:i.Jwt},i._$(),i}U(n,t);var i=n.prototype;return i._$=function(){this.Jwt.addEventListener(_F.Xwt,this.xyt),this.Jwt.addEventListener(_F.Wwt,this.Pyt),this.Jwt.addEventListener(_F.qwt,this.Byt)},i.gV=function(t,n){var i={playerId:dF(),data:Js(n.buffer),sessionId:t};this.Bwt.lj("THEOplayerCreateKeySession",i)},i.xh=function(t,n){var i={playerId:dF(),data:Js(n.buffer),sessionId:t};this.Bwt.lj("THEOplayerUpdateKey",i)},n}(el),HF=function(t){var n=this;this.Jwt=void 0,this.Lyt=void 0,this.Myt=function(){n.Lyt.ZG()},this.Uyt=function(){n.Lyt.YG()},this.Jwt=new wF,this.Lyt=t,this.Jwt.addEventListener("showTracks",this.Myt),this.Jwt.addEventListener("hideTracks",this.Uyt),fF().texttracks={sdkEventBus:this.Jwt}},VF=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).nj=void 0,o.ij=void 0,o.Fyt=void 0;var h=i.TS(F_.Ev);return o.nj=new GI,o.nj.cW(n),o.ij=new aC(o.nj._y,h.bB,o.Hw,u,h.FS),o.Fyt=new HF(o.ij),i.WS(h),Or.document.querySelector(".vjs-tech")?Or.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Or.document.querySelector(".player-div").style.background="transparent",o}U(n,t);var i=n.prototype;return i.Kw=function(){t.prototype.Kw.call(this),this.nj.Kw()},i.ty=function(){t.prototype.ty.call(this),this.nj.ty()},i.jw=function(){return!0},i.getSdkBridge=function(){return new UF},i.getFairPlayControllerBridge=function(){return WF},i.Nyt=function(t){return t},i.Pv=function(){var n=T.coroutine(le.mark(function n(){return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Or.document.querySelector(".vjs-tech")?Or.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Or.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Pv.call(this);case 3:this.ij.Pv(),this.nj.Pv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(LF);Fp(new(function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.UT=function(t,n,i,r,e,s){return new VF(t,n,i,r,e,s)},i.$S=function(n,i){if(n.type){var r=Zr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.$S.call(this,n,i)},n}(MF)));var XF,WF=new FF(new UF),qF=function(t){function n(){return t.call(this,"Hyt")||this}return U(n,t),n.prototype.$d=function(){return new zF},n}(yd),zF=function(t){function n(){return t.call(this,"statechange")||this}return U(n,t),n}(Is);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(XF||(XF={}));var GF=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Vyt=new el,n.Co=function(t){n.Do(t)},n}U(n,t);var i=n.prototype;return i.$d=function(){return n=jF(t=this),i=new KT(t,n),n.addEventListener=function(t,n){i.Oo(t,n)},n.removeEventListener=function(t,n){i.Lo(t,n)},n;var t,n,i},i.Oo=function(t,n){this.Vyt.Oo(t,n)},i.Po=function(t){this.Vyt.Po(t)},i.Bo=function(){this.Vyt.Bo()},i.Do=function(t){this.Vyt.Do(t)},i.Lo=function(t,n){this.Vyt.Lo(t,n)},i.Uo=function(t){this.Vyt.Uo(t)},i.Fo=function(t){this.Vyt.Fo(t)},i.Ho=function(t,n){return this.Vyt.Ho(t,n)},n}(function(){function t(){this.$o=[],this.Zd=void 0}var n=t.prototype;return n.$d=function(){return jF(this)},n.Tl=function(t){return this.$o[t]},n.cg=function(t){this.$o.push(t),this.Zd&&this.Zd.push(t.Jd),this.Xyt(t)},n.Wyt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.cg(i)}},n.qyt=function(t,n){n>=0&&n<=this.$o.length&&(this.$o.splice(n,0,t),this.Zd&&this.Zd.splice(n,0,t.Jd),this.Xyt(t))},n.Iy=function(t){return ns(this.$o,t)},n.Oh=function(t){this.zyt(this.$o.indexOf(t))},n.zyt=function(t){if(t>=0&&t<this.$o.length){var n=this.$o[t];ts(this.$o,t),this.Zd&&ts(this.Zd,t),this.Gyt(n)}},n.rh=function(){var t=this.$o.slice();rs(this.$o),this.Zd&&rs(this.Zd);for(var n=0;n<t.length;n++){var i=t[n];this.Gyt(i)}},L(t,[{key:"jyt",get:function(){return this.$o}},{key:"Cl",get:function(){return this.$o.length}},{key:"Jd",get:function(){return this.Zd||(this.Zd=this.$d()),this.Zd}}]),t}());function jF(t){var n=t.jyt.map(function(t){return t.Jd});return n.item=function(n){n|=0;var i=t.Tl(n);return i&&i.Jd||void 0},n}var QF,YF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return U(n,t),n}(Is),ZF=function(t){function n(n){var i;return(i=t.call(this,"Yyt")||this).Qyt=n,i}return U(n,t),n.prototype.$d=function(){return new YF(this.Qyt.Jd)},n}(yd),JF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return U(n,t),n}(Is),$F=function(t){function n(n){var i;return(i=t.call(this,"Zyt")||this).task=n,i}return U(n,t),n.prototype.$d=function(){return new JF(this.task.Jd)},n}(yd),KF=function(t){function n(){return t.call(this)||this}U(n,t);var i=n.prototype;return i.Xyt=function(t){this.Do(new ZF(t))},i.Gyt=function(t){this.Do(new $F(t))},n}(GF);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(QF||(QF={}));var tH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Jyt=QF.UNINITIALISED,e.UB=new KF,e.P8=void 0,e.$yt=void 0,e.Kyt=void 0,e.Kyt=i,e.$yt=r,e.P8=n,e.Zw(),e}U(n,t);var i=n.prototype;return i.Zw=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tmt();case 2:this.nmt(QF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tmt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.imt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.imt=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.P8.YK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.Kyt.rmt(r.id,r.sourceDescription,r.parameters,this.$yt),this.emt(e),this.UB.cg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nmt=function(t){this.Jyt=t,this.Do(new qF)},i.rmt=function(t,n,i){void 0===i&&(i="persistent");var r=this.Kyt.smt(t,n,i);return this.umt(r,i),this.UB.cg(r),this.emt(r),r},i.umt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.omt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.omt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.P8.GK({key:n.Hl,id:n.Hl,sourceDescription:n.cR,parameters:n.Zh},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.emt=function(t){var n=this;t.Oo("Hyt",function(){t.rv===XF.EVICTED&&n.UB.Oh(t)})},L(n,[{key:"rv",get:function(){return this.Jyt}},{key:"hmt",get:function(){return this.UB}}]),n}(Ss);function nH(t,n){return function(t,n){var i=t.fu&&n.fu,r=t.Ep&&n.Ep;return i||r?i&&r?t.fu*t.Ep-n.fu*n.Ep:i?t.fu-n.fu:r?t.Ep-n.Ep:(t.fu||1)*(t.Ep||1)-(n.fu||1)*(n.Ep||1):0}(t,n)||function(t,n){return t.zE-n.zE}(t,n)}var iH=function(t){function n(){return t.call(this,"progress")||this}return U(n,t),n}(Is),rH=function(t){function n(){return t.call(this,"wK")||this}return U(n,t),n.prototype.$d=function(){return new iH},n}(yd),eH=function(){function t(t,n,i){if(this.amt=void 0,this.cmt=t,this.Ry=n,this.fmt=i,0===this.Ry.size)this.amt=Yp._I();else{var r=new Yp([-1/0,1/0]);this.Ry.forEach(function(t){r=r.zR(t.timeRanges)}),this.amt=r}}return t.prototype.eg=function(t){return!!Pd(this.Ry,t.Ry)&&(!!Qt(this.cmt,t.cmt)&&(!!Qt(this.fI,t.fI)&&(!!Qt(this.vmt,t.vmt)&&this.dmt.sI(t.dmt))))},t.lmt=function(){return uH},L(t,[{key:"fI",get:function(){return this.fmt}},{key:"_mt",get:function(){return this.cmt}},{key:"vmt",get:function(){return this.dmt.fI}},{key:"gmt",get:function(){var t=0,n=0;return this.Ry.forEach(function(i){t+=i.timeRanges.fI,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"dmt",get:function(){return this.amt}}]),t}(),sH=we(),uH=new eH(0,sH,NaN);function oH(t,n){if(it(t)){if(yr(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var hH,aH=function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),L(n,[{key:"name",get:function(){return"wmt"}}]),n}(un);function cH(t,n,i,r){var e=[],s=Je(i,function(t){return t.ymt===Se});if(void 0!==s){var u=s.fs?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.fs.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.ymt!==Se)for(var a=0,c=Ve(h.ymt);a<c.length;a++){var f=c[a];e.push({Hh:f,ZE:h.mmt?[h.mmt]:[],_E:void 0})}}if(e.length)return{eT:t,kmt:{pmt:u,sT:s.sT},Amt:e,bmt:n===F_.Tv?r.slice():[],Tmt:n===F_.Ev?r.slice():[],TV:!1}}}}function fH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=we();return vH(r,e,t.Amt),vH(r,e,n.Amt),{eT:t.eT,kmt:{pmt:t.kmt.pmt,sT:null!=(i=t.kmt.sT)?i:n.kmt.pmt},Amt:r,bmt:dH(t.bmt,n.bmt,ns),Tmt:dH(t.Tmt,n.Tmt,ns),TV:t.TV||n.TV||!1}}function vH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.Hh.eo,u=void 0;n.has(s)?(u=n.get(s)).ZE=dH(u.ZE,e.ZE,lH):(u=_e({},e),t.push(u),n.set(s,u))}}function dH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function lH(t,n){for(var i=0;i<t.length;i++){if(Qs(t[i],n))return!0}return!1}function _H(t,n){var i,r=t.Emt;if(r){for(var e=t.YC,s=[],u=0,o=t.SJ;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=cH(n||{},t.Ku,r,s)}for(var a=0,c=t.Smt;a<c.length;a++){i=fH(i,gH(c[a],n))}return i}function gH(t,n){return cH(n||{},t.Ku,t.Emt||[],[t.qf])}function wH(t,n,i){return yH.apply(this,arguments)}function yH(){return(yH=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Rmt;s<u.length;s++)o=u[s],e.push(mH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{L_:n.Nmt.Imt(),Cmt:[n.Dmt],Rmt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mH(t,n,i){return kH.apply(this,arguments)}function kH(){return(kH=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Omt;s<u.length;s++)o=u[s],e.push(pH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{xmt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pH(t,n,i){return AH.apply(this,arguments)}function AH(){return(AH=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Pmt;s<u.length;s++)bH(o=u[s])||e.push(RH(o,i,r));return t.next=4,T.all(e);case 4:return h=t.sent,t.abrupt("return",{ap:h,Ku:n.Ku});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bH(t){return t.Smt.every(SH)}!function(t){t[t.g_=0]="g_",t[t.w_=1]="w_"}(hH||(hH={}));var TH,EH=1;function SH(t){return t.Bmt!==EH&&Boolean(t.Bmt)}function RH(t,n,i){return IH.apply(this,arguments)}function IH(){return(IH=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Smt;s<u.length;s++)SH(o=u[s])||e.push(CH(o,r));return t.next=4,T.all(e);case 4:return h=t.sent,a=n.SJ[0],c=n.Emt,f=c?NH(a,c):void 0,v=_H(n,i),t.abrupt("return",{zl:h,ql:n.Lmt,Ku:n.Ku,NS:f,Mmt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function NH(t,n){for(var i=[],r=function(t){return t?yr(t,"avc")?so.VIDEO_H264:yr(t,"hev")||yr(t,"hvc")||yr(t,"hvt")||yr(t,"lhv")||yr(t,"lhe")||yr(t,"lht")?so.VIDEO_H265:yr(t,"mp4")?so.VIDEO_MP4:yr(t,"mpeg2")?so.VIDEO_MPEG2:yr(t,"mpeg")?so.VIDEO_MPEG:so.VIDEO_UNKNOWN:so.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s.ymt.split(":").pop(),o=s.mmt;i.push({mimeType:r,uuid:u,data:o})}return{type:hH.g_,schemeType:Re,schemeDatas:i}}function CH(t,n){return DH.apply(this,arguments)}function DH(){return(DH=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OH(n,i);case 2:s=t.sent,u={Hl:BH(n),cb:s,s8:n.a8,zE:n.zE,vu:n.vu,Ep:n.Ep,Ku:n.Ku,fu:n.fu},t.t0=n.Ku,t.next=t.t0===F_.Je?7:t.t0===F_.Ev?8:t.t0===F_.Tv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.J$=null!=(r=null==(e=n.J$)?void 0:e.Z_())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.X_t,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OH(t,n){return xH.apply(this,arguments)}function xH(){return(xH=T.coroutine(le.mark(function t(n,i){var r,e,s,u,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Umt,s=e.Fmt(),u=s;case 4:if(!u){t.next=16;break}if(!e.Hmt(u.K5)){t.next=12;break}return t.next=8,n.Vmt(u,i,(new os).So);case 8:for(o=t.sent,h=0;h<o.Cl;h++)r.push(PH(o.Xmt(h),n));t.next=13;break;case 12:r.push(PH(u,n));case 13:u=e.Rdt(u),t.next=4;break;case 16:return a=e.Wmt(),c=a.jy-s.Gy,t.abrupt("return",{L_:c,n0:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function PH(t,n){return{Gy:t.Gy,L_:t.L_,qmt:n.zmt(t)}}function BH(t){return t.Gmt.NR+"-"+(""+t.Hl)}function LH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=MH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={Ku:r.type,yp:[]}),n[r["group-id"]].yp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.yp;s<u.length;s++){var o=u[s];i[e.Ku]||(i[e.Ku]={}),i[e.Ku][o.name]||(i[e.Ku][o.name]=[]),i[e.Ku][o.name].push(o)}return i}(t),n)}function MH(t,n,i){for(var r=t["group-id"],e={WZ:t,E$:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.E$.push(u)}return e}function UH(t,n){return FH.apply(this,arguments)}function FH(){return(FH=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.C8([n],{});case 2:return r=t.sent,e=new VP,t.abrupt("return",e.Yk(r.k8,r.av,ZP(r.av)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HH(t,n){return VH.apply(this,arguments)}function VH(){return(VH=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",XH(n,i));case 4:return t.abrupt("return",(e=void 0,e=iV(r=n),{L_:r.duration,Cmt:[r.uri],Rmt:[{xmt:[{ap:[{zl:[{Hl:r.uri,cb:e,zE:0,vu:"",Ep:0,Ku:null,fu:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function XH(t,n){return WH.apply(this,arguments)}function WH(){return(WH=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=LH(n.media,n.streams),t.next=3,jH(r,i);case 3:return e=t.sent,t.next=6,zH(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{L_:qH(e),Cmt:[n.uri],Rmt:[{xmt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].ap;r<e.length;r++){var s=e[r];n=l.max.apply(l,[n].concat(s.zl.map(function(t){return t.cb.L_})))}return n}function zH(t,n){return GH.apply(this,arguments)}function GH(){return(GH=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return s=n[e],t.next=6,tV(s.uri,i);case 6:(u=t.sent).zE=s.bandwidth,u.vu=s.codecs,u.Ep=s.resolution&&s.resolution.height,u.fu=s.resolution&&s.resolution.width,r.push(u);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{ap:[{zl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function jH(t,n){return QH.apply(this,arguments)}function QH(){return(QH=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=le.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,YH(s,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function YH(t,n){return ZH.apply(this,arguments)}function ZH(){return(ZH=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=le.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,JH(s,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",{ap:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function JH(t,n){return $H.apply(this,arguments)}function $H(){return($H=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return s=n[e],t.next=6,KH(s,i);case 6:u=t.sent,r.push(u);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{zl:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function KH(t,n){var i,r,e;return tV((r=(i=t).WZ.uri,e=i.E$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function tV(t,n){return nV.apply(this,arguments)}function nV(){return(nV=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UH(n,i);case 2:return r=t.sent,e=iV(r),t.abrupt("return",{Hl:n,jmt:n,cb:e,zE:0,vu:"",Ep:0,Ku:null,fu:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function iV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(rV(e))}return{L_:t.duration,n0:n}}function rV(t){return{Gy:t.start,L_:t.duration,qmt:eV(t.uri)}}function eV(t){return iD(t)?{cv:t.zY,GY:[t.GY.NR,t.GY.OR],Dv:!1}:{cv:t.toString(),Dv:!1}}!function(t){t.Hb="static",t.Vb="dynamic"}(TH||(TH={}));var sV,uV=31536e3,oV=2592e3,hV=86400,aV=3600,cV=60,fV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,vV=function(){function t(t){this.Qmt=void 0;var n=t.match(fV);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Qmt=i*uV+r*oV+e*hV+s*aV+u*cV+o}var n=t.prototype;return n.Imt=function(){return this.Qmt},n.Ymt=function(){return 1e3*this.Qmt},L(t,[{key:"a2",get:function(){return E_.iw(this.Qmt,1e3)}}]),t}();!function(t){t.Zmt="progressive",t.Jmt="interlaced",t.vv="unknown"}(sV||(sV={}));var dV=function(){function t(t,n){this.$mt=t,this.Kmt=n}return t.prototype.Z_=function(){return this.$mt/this.Kmt},t}(),lV=/^(?:true|false)$/i,_V=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function gV(t){if(void 0!==t)return new vV(t)}function wV(t){if(void 0!==t){var n=t.match(_V);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(r),g=Number(e)-1,y=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=l.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,g,y,m,k,p,b));if(w(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function yV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[kV(n[1]),kV(n[2])]}}function mV(t){if(void 0!==t){if(!w(Number(t)))try{return Xt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function kV(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function pV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new dV(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function AV(t){if(void 0!==t){if(lV.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function bV(t){return{cv:t.Cs,tkt:AV(t.bs("availabilityTimeComplete")),nkt:kV(t.bs("availabilityTimeOffset"))}}function TV(t){return t.map(bV)}function EV(t){var n,i,r,e,s,u,o=LV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Ts(r,i))&&(s=n.bs(e+":"+i)),s),a=Lw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Zs(a.Cs)),!u){var c=Lw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Ws(t.Cs),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new y(s),o=new DataView(s),h=new ju;mu(o,h,e),mu(o,h,1886614376),mu(o,h,0),du(o,h,i),mu(o,h,r),du(o,h,n),0;return u.buffer}(c))}return{sT:h,mmt:u,ymt:o.ymt,fs:o.fs}}function SV(t){return{ikt:t.bs("sourceURL"),GY:yV(t.bs("range"))}}function RV(t,n){var i=t.bs("d"),r=t.bs("t"),e=kV(t.bs("r"));n.push({L_:i,Gy:r,rkt:e})}function IV(t){return{K5:t.bs("index"),ekt:yV(t.bs("indexRange")),yp:t.bs("media"),skt:yV(t.bs("mediaRange"))}}function NV(t){var n,i;return _e({},OV(t),{ukt:(n=t.ls("SegmentURL"),(i=n.map(IV)).length>0?i:void 0),okt:t.bs("xlink:href"),hkt:t.bs("xlink:actuate")})}function CV(t){var n=t.map(NV);return n.length>0?n:void 0}function DV(t){var n=AV(t.bs("availabilityTimeComplete")),i=kV(t.bs("availabilityTimeOffset")),r=yV(t.bs("indexRange")),e=AV(t.bs("indexRangeExact")),s=t.ls("Initialization");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one Initialization element.");var u=1===s.length?SV(s[0]):void 0,o=mV(t.bs("presentationTimeOffset")),h=t.ls("RepresentationIndex");if(h.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one RepresentationIndex element.");return{tkt:n,nkt:i,ekt:r,akt:e,ckt:u,fkt:o,vkt:1===h.length?SV(h[0]):void 0,dkt:gV(t.bs("timeShiftBufferDepth")),zg:kV(t.bs("timescale"))}}function OV(t){var n=DV(t),i=t.ls("BitstreamSwitching"),r=i.length>0?SV(i[0]):void 0,e=kV(t.bs("duration")),s=t.ls("SegmentTimeline");if(s.length>1)throw new f("The provided MPEG-DASH document's "+t.gs+" element can not have more than one SegmentTimeline element.");return _e({},n,{lkt:r,L_:e,Umt:1===s.length?function(t){for(var n=[],i=t.ls("S"),r=0;r<i.length;r++)RV(i[r],n);return n}(s[0]):void 0,_kt:kV(t.bs("startNumber")),gkt:kV(t.bs("endNumber"))})}function xV(t){return _e({},OV(t),{wkt:t.bs("bitstreamSwitching"),ykt:t.bs("index"),mkt:t.bs("initialization"),kkt:t.bs("media")})}function PV(t){return{X_t:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(kV)):1===n.length?n.map(kV)[0]:void 0}}(t.bs("audioSamplingRate")),SJ:t.bs("codecs"),pkt:AV(t.bs("codingDependency")),Emt:function(t){if(0!==t.length)return t.map(EV)}(t.ls("ContentProtection")),Akt:t.ls("EssentialProperty").map(MV),J$:pV(t.bs("frameRate")),Ep:kV(t.bs("height")),Bmt:kV(t.bs("maxPlayoutRate")),bkt:kV(t.bs("maximumSAPPeriod")),YC:t.bs("mimeType"),Tkt:t.bs("profiles"),Ekt:t.bs("sar"),Skt:function(t){switch(t){case sV.Zmt:case sV.Jmt:case sV.vv:return t;default:return}}(t.bs("scanType")),Rkt:t.bs("segmentProfiles"),Ikt:kV(t.bs("startWithSAP")),fu:kV(t.bs("width"))}}function BV(t){var n=PV(t),i=kV(t.bs("bandwidth")),r=TV(t.ls("BaseURL")),e=t.bs("dependencyId"),s=t.bs("id"),u=t.bs("mediaStreamStructureId"),o=kV(t.bs("qualityRanking")),h=t.ls("SegmentBase");if(h.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?DV(h[0]):void 0,c=CV(t.ls("SegmentList")),v=t.ls("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return _e({},n,{zE:i,Nkt:r,Ckt:e,Hl:s,Dkt:u,Okt:o,xkt:a,Pkt:c,Bkt:1===v.length?xV(v[0]):void 0})}function LV(t){return{ymt:t.bs("schemeIdUri"),fs:t.bs("value")}}function MV(t){return LV(t)}function UV(t){return LV(t)}function FV(t){return LV(t)}function HV(t){var n=PV(t),i=function(t){return t.map(FV)}(t.ls("Accessibility")),r=TV(t.ls("BaseURL")),e=AV(t.bs("bitstreamSwitching")),s=t.bs("contentType"),u=kV(t.bs("group")),o=kV(t.bs("id")),h=t.bs("lang"),a=kV(t.bs("maxBandwidth")),c=pV(t.bs("maxFrameRate")),v=kV(t.bs("maxHeight")),d=kV(t.bs("maxWidth")),l=kV(t.bs("minBandwidth")),_=pV(t.bs("minFrameRate")),g=kV(t.bs("minHeight")),w=kV(t.bs("minWidth")),y=t.bs("par"),m=t.ls("Representation").map(BV);if(0===m.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(UV)}(t.ls("Role")),p=AV(t.bs("segmentAlignment"))||!1,A=t.ls("SegmentBase");if(A.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?DV(A[0]):void 0,T=CV(t.ls("SegmentList")),E=t.ls("SegmentTemplate");if(E.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?xV(E[0]):void 0,R=kV(t.bs("selectionPriority"));return _e({},n,{Lkt:i,Nkt:r,lkt:e,qf:s,Mkt:u,Hl:o,ql:h,Ukt:a,Fkt:c,Hkt:v,Vkt:d,Xkt:l,Wkt:_,qkt:g,zkt:w,Gkt:y,Smt:m,jkt:k,Qkt:p,xkt:b,Pkt:T,Bkt:S,JS:R||1,Ykt:AV(t.bs("subsegmentAlignment"))||!1,Zkt:kV(t.bs("subsegmentStartsWithSAP")),Jkt:t.bs("xlink:actuate")||"onRequest",$kt:t.bs("xlink:href")})}function VV(t){var n=mV(t.bs("presentationTime"))||Xt.ZERO,i=mV(t.bs("duration")),r=kV(t.bs("id")),e=function(t){for(var n=t.Ns,i={},r=0;r<n.length;r++)i[n[r].hs]=n[r].fs;return i}(t),s=t.Cs;return{zA:n,L_:i,Hl:r,Ns:e,Ds:""!==s.trim()?s:t.bs("messageData")||""}}function XV(t){return{$kt:t.bs("xlink:href"),Jkt:t.bs("xlink:actuate"),ymt:t.bs("schemeIdUri"),fs:t.bs("value"),zg:kV(t.bs("timescale")),fkt:mV(t.bs("presentationTimeOffset")),ZC:t.ls("Event").map(VV)}}function WV(t,n){var i=t.ls("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?LV(i[0]):void 0,e=t.ls("AdaptationSet").map(HV),s=TV(t.ls("BaseURL")),u=AV(t.bs("bitstreamSwitching")),o=gV(t.bs("duration")),h=t.ls("EventStream").map(XV),a=t.bs("id"),c=n&&gV(n.bs("start")),v=t.ls("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?DV(v[0]):void 0,l=CV(t.ls("SegmentBase")),_=t.ls("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?xV(_[0]):void 0,w=gV(t.bs("start")),y=(t.ls("Subset"),t.bs("xlink:href"));return{Pmt:e,Kkt:r,Nkt:s,lkt:u,L_:o,tpt:h,Hl:a,npt:c,xkt:d,Pkt:l,Bkt:g,NR:w,Jkt:t.bs("xlink:actuate"),$kt:y}}function qV(t){var n=t.bs("schemeIdUri");if(n)return{ymt:n,fs:t.bs("value")}}function zV(t,n){var i=wV(t.bs("availabilityEndTime")),r=wV(t.bs("availabilityStartTime")),e=TV(t.ls("BaseURL")),s=t.bs("id"),u=t.ls("Location").map(function(t){return""+t.Cs}),o=gV(t.bs("maxSegmentDuration")),h=gV(t.bs("maxSubsegmentDuration")),a=gV(t.bs("mediaPresentationDuration")),c=(t.ls("Metrics"),gV(t.bs("minBufferTime")));if(!c)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=gV(t.bs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(WV(t[i],t[i+1]));return n}(t.ls("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.bs("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{ipt:i,rpt:r,Nkt:e,Hl:s,ept:u,spt:n,upt:o,hpt:h,Nmt:a,apt:c,cpt:v,Rmt:d,Tkt:l,fpt:wV(t.bs("publishTime")),vpt:gV(t.bs("suggestedPresentationDelay")),dkt:gV(t.bs("timeShiftBufferDepth")),Ku:function(t){switch(t){case TH.Hb:case TH.Vb:return t;default:return}}(t.bs("type")),dpt:function(t){for(var n=[],i=0;i<t.length;i++){var r=qV(t[i]);r&&n.push(r)}return n}(t.ls("UTCTiming"))}}var GV,jV=function(){function t(){}return t.prototype.swt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return zV(t,n)}(b.rs(t).Os,n)},t}(),QV=0,YV=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Vl=void 0,u.Dy=void 0,u.lpt=void 0,u.Hl=n,u.zE=i,u.SJ=r,u.zY=s,u.Vl=QV++,u.Dy=e||"",u.lpt=!0,u}return U(n,t),n.prototype.bb=function(){this.lpt=!1,this.Do(new hU(this.Jd))},L(n,[{key:"Wl",get:function(){return this.Dy},set:function(t){this.Dy!==t&&(this.Dy=t,this.Do(new hU(this.Jd)))}},{key:"wQ",get:function(){return this.lpt}}]),n}(Ss),ZV=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).Zd=void 0,c.J$=u,c.fu=o,c.Ep=h,c.V_t=a,c}return U(n,t),L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=aU(this)),this.Zd}}]),n}(YV),JV=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).Zd=void 0,o.X_t=u,o}return U(n,t),L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=cU(this)),this.Zd}}]),n}(YV);!function(t){t._pt="gpt",t.wpt="ypt"}(GV||(GV={}));var $V=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).mpt=function(t){n.Do(t)},n}return U(n,t),L(n,[{key:"kpt",get:function(){var t=this.ppt();return null==t?void 0:t.NR}},{key:"Apt",get:function(){var t=this.ppt();return null==t?void 0:t.OR}}]),n}(Ss);function KV(t){return ut(t.bpt)}var tX=function(t){function n(n,i){var r;if((r=t.call(this)||this).Tpt=void 0,r.Zd=void 0,r.Ept=void 0,r.Spt=void 0,r.Rpt=void 0,r.Tpt=n,r.Ept=i,r.Ept.Oo(GV._pt,r.mpt),r.Ku===F_.Ev){var e,s,u=null!=(e=null==(s=r.J$)?void 0:s.Z_())?e:NaN;r.Spt=new ZV(r.Hl,r.zE,r.vu,"","",u,r.fu,r.Ep)}else r.Ku===F_.Tv?r.Spt=new JV(r.Hl,r.zE,r.vu,"","",r.X_t):r.Spt=void 0;return r}U(n,t);var i=n.prototype;return i.zmt=function(t){var n=KV(t)?this.Ept.Ipt(t):this.Ept.zmt(t);return{cv:n.cv,GY:n.GY,Dv:this.Npt.Dv}},i.Cpt=function(){return this.Ept.Cpt()},i.ppt=function(){return this.Ept.ppt()},i.Dpt=function(){return this.Ept.Dpt()},i.Vmt=function(t,n,i){return this.Ept.Umt.Vmt(t,this.Ept,this.Npt.Dv,n,i)},i.Opt=function(t){return KV(t)?this.Umt.xpt(t):this.Umt.Opt(t)},i.H6=function(t){return KV(t)?this.Umt.Ppt(t):this.Umt.H6(t)},i.Pv=function(){this.Ept.Lo(GV._pt,this.mpt)},L(n,[{key:"Bpt",get:function(){return this.Tpt}},{key:"X_t",get:function(){var t;return null!=(t=this.Ept.Ds.X_t)?t:this.Bpt.X_t}},{key:"zE",get:function(){return this.Ept.Ds.zE||0}},{key:"SJ",get:function(){var t=this.Ept.Ds;return t.SJ?[t.SJ]:this.Bpt.SJ}},{key:"Lpt",get:function(){var t=this.Ept.Ds;return t.SJ?[t.SJ]:[]}},{key:"vu",get:function(){return this.Ept.Ds.SJ||this.Bpt.vu}},{key:"pkt",get:function(){return this.Ept.Ds.pkt||this.Bpt.pkt}},{key:"Emt",get:function(){return this.Ept.Ds.Emt||this.Bpt.Emt}},{key:"qf",get:function(){return this.YC+'; codecs="'+this.vu+'"'}},{key:"Akt",get:function(){var t=this.Ept.Ds;return t.Akt.length?t.Akt:this.Bpt.Akt}},{key:"Jd",get:function(){return this.Zd||(this.Zd=(t=this,{get id(){return t.Hl},get type(){return t.Ku},get bandwidth(){return t.zE},get width(){return t.fu},get height(){return t.Ep},get frameRate(){var n,i;return null!=(n=null==(i=t.J$)?void 0:i.Z_())?n:NaN},get audioSamplingRate(){return t.X_t}}));var t}},{key:"J$",get:function(){var t;return null!=(t=this.Ept.Ds.J$)?t:this.Bpt.J$}},{key:"Ep",get:function(){return this.Ept.Ds.Ep||this.Bpt.Ep}},{key:"Hl",get:function(){return this.Ept.Ds.Hl||""}},{key:"P4",get:function(){return this.Rpt},set:function(t){this.Rpt=t}},{key:"a8",get:function(){var t=this.Ept.Mpt();if(t)return{cv:t.cv,GY:t.GY,Dv:this.Npt.Dv}}},{key:"Bmt",get:function(){return this.Ept.Ds.Bmt||this.Bpt.Bmt||1}},{key:"bkt",get:function(){return this.Ept.Ds.bkt||this.Bpt.bkt}},{key:"Npt",get:function(){return this.Gmt.Npt}},{key:"YC",get:function(){return this.Ept.Ds.YC||this.Bpt.YC}},{key:"Gmt",get:function(){return this.Bpt.Gmt}},{key:"Tkt",get:function(){return this.Ept.Ds.Tkt||this.Bpt.Tkt}},{key:"U_t",get:function(){return this.Spt}},{key:"Ekt",get:function(){return this.Ept.Ds.Ekt||this.Bpt.Ekt}},{key:"Skt",get:function(){return this.Ept.Ds.Skt||this.Bpt.Skt}},{key:"Upt",get:function(){return this.Ept.Upt}},{key:"Rkt",get:function(){return this.Ept.Ds.Rkt||this.Bpt.Rkt}},{key:"Umt",get:function(){return this.Ept.Umt}},{key:"Ikt",get:function(){return this.Ept.Ds.Ikt||this.Bpt.Ikt}},{key:"Ku",get:function(){var t=this.YC.split("/")[0];return"application"===t||"text"===t||cy(this.YC,this.SJ)?F_.Je:"video"===t?F_.Ev:"audio"===t?F_.Tv:"image"===t?F_.Sv:F_.vv}},{key:"fu",get:function(){return this.Ept.Ds.fu||this.Bpt.fu}}]),n}($V),nX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fpt=[],r.Ept=void 0,r.Hpt=void 0,r.Vpt=[],r.Hpt=n,r.Ept=i,r.Ept.Oo(GV._pt,r.mpt),r}U(n,t);var i=n.prototype;return i.xh=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Vpt.length){t.next=6;break}return this.Vpt=[],r=this.Ept.Smt.map(function(t){return e.Xpt(t,n,i)}),t.next=5,T.all(r);case 5:this.Vpt=t.sent.filter(J);case 6:this.Wpt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Xpt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new tX(this,n),t.next=3,i(e);case 3:if(s=t.sent,cs(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Wpt=function(){if(!this.Vpt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.ppt=function(){return this.Ept.ppt()},i.Dpt=function(){return this.Ept.Dpt()},i.Pv=function(){this.Ept.Lo(GV._pt,this.mpt);for(var t=0,n=this.Vpt;t<n.length;t++){n[t].Pv()}rs(this.Vpt)},L(n,[{key:"Lkt",get:function(){return this.Ept.Ds.Lkt}},{key:"X_t",get:function(){var t;return null!=(t=this.Ept.Ds.X_t)?t:-1}},{key:"SJ",get:function(){if(this.Ept.Ds.SJ)return[this.Ept.Ds.SJ];for(var t=[],n=0,i=this.Smt;n<i.length;n++){var r=i[n];r.Lpt.length&&-1===t.indexOf(r.vu)&&t.push(r.vu)}return t}},{key:"vu",get:function(){return this.SJ.join()}},{key:"pkt",get:function(){return this.Ept.Ds.pkt}},{key:"Emt",get:function(){return this.Ept.Ds.Emt}},{key:"qf",get:function(){return this.YC+'; codecs="'+this.vu+'"'}},{key:"Akt",get:function(){return this.Fpt}},{key:"J$",get:function(){return this.Ept.Ds.J$}},{key:"Mkt",get:function(){return this.Ept.Ds.Mkt}},{key:"Ep",get:function(){return this.Ept.Ds.Ep||0}},{key:"Hl",get:function(){return this.Ept.Ds.Hl}},{key:"Bmt",get:function(){return this.Ept.Ds.Bmt}},{key:"bkt",get:function(){return this.Ept.Ds.bkt}},{key:"Npt",get:function(){return this.Gmt.Npt}},{key:"YC",get:function(){return this.Ept.Ds.YC||this.Vpt[0].YC}},{key:"Gmt",get:function(){return this.Hpt}},{key:"Tkt",get:function(){return this.Ept.Ds.Tkt}},{key:"Smt",get:function(){return this.Vpt}},{key:"jkt",get:function(){return this.Ept.Ds.jkt||[]}},{key:"Ekt",get:function(){return this.Ept.Ds.Ekt}},{key:"Skt",get:function(){return this.Ept.Ds.Skt}},{key:"Rkt",get:function(){return this.Ept.Ds.Rkt}},{key:"JS",get:function(){return this.Ept.Ds.JS}},{key:"Ikt",get:function(){return this.Ept.Ds.Ikt}},{key:"Ku",get:function(){var t=(this.Ept.Ds.qf||this.YC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||cy(this.YC,this.SJ)?F_.Je:"video"===t?F_.Ev:"audio"===t?F_.Tv:"image"===t?F_.Sv:F_.vv}},{key:"fu",get:function(){return this.Ept.Ds.fu||0}},{key:"Lmt",get:function(){return this.Ept.Ds.ql||""}},{key:"qpt",get:function(){return this.kpt}},{key:"zpt",get:function(){var t=this.qpt,n=this.Apt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Npt.Gpt);return l.max(t,i)}}}]),n}($V);function iX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(b.Zs(u,e))}return i}var rX=function(){function t(t,n){this.Hpt=void 0,this.jpt=void 0,this.Tj=void 0,this.Qpt=void 0,this.Ypt=void 0,this.Hpt=t,this.jpt=n,this.Tj=n.zg,this.Qpt=n.nkt,this.Ypt=n.fkt}var n=t.prototype;return n.Zpt=function(t){var n=t-this.Hpt.NR;if(!(n<0||n>=this.Hpt.L_)){var i=this.Jpt();return void 0!==i&&zt(i,n,1e-5)?this.Fmt():this.$pt(n)}},n.Kpt=function(t){var n=t-this.Hpt.NR;if(!(n<0))return this.tAt(l.min(n,this.Hpt.L_))},n.Fmt=function(){return this.nAt(0)},n.Wmt=function(){var t=this.Hpt.L_;if(isFinite(t))return this.tAt(t)},n.Cpt=function(t){if(this.Hpt.iAt.Ku===TH.Vb){var n=this.rAt(t);if(!n)return;return{eAt:t,sAt:this.uAt(t),oAt:n}}var i=this.Fmt();if(i)return{eAt:t,sAt:i,oAt:this.Wmt()}},n.Dpt=function(t,n){if(n){var i=this.hAt(n.sAt),r=this.Rdt(n.oAt);if(r){var e=this.aAt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Fmt();if(s){var u=this.aAt(s);if(t.getTime()<u.getTime())return u}var o=this.Hpt.iAt.rpt;return t.getTime()<o.getTime()?o:void 0},n.rAt=function(t){var n=(t.getTime()-this.Hpt.iAt.rpt.getTime())/1e3-this.Hpt.NR+this.Qpt,i=this.tAt(qt(n,0,this.Hpt.L_));if(i&&(i=this.cAt(i,t))){for(var r=this.Rdt(i);r&&this.fAt(r,t);)i=r,r=this.Rdt(i);return i}},n.uAt=function(t){var n,i=this.jpt.dkt;if(i){var r=(t.getTime()-this.Hpt.iAt.rpt.getTime())/1e3-this.Hpt.NR-i.Imt();(n=this.tAt(qt(r,0,this.Hpt.L_)))||(n=this.Fmt())}else n=this.Fmt();if(n&&(n=this.cAt(n,t))){for(var e=this.vAt(n);e&&this.fAt(e,t);)n=e,e=this.vAt(n);return n}},n.cAt=function(t,n){for(var i=t;i&&this.aAt(i).getTime()>n.getTime();)i=this.vAt(i);if(i){var r=this.hAt(i);if(r&&r.getTime()<=n.getTime()){var e=this.vAt(i);for(e&&this.fAt(e,n)&&(i=e);i;){if(this.aAt(i).getTime()>n.getTime())return;if(this.fAt(i,n))break;i=this.Rdt(i)}if(!i)return}return i}},n.fAt=function(t,n){if(this.aAt(t).getTime()>n.getTime())return!1;var i=this.hAt(t);return!(i&&n.getTime()>=i.getTime())},n.dAt=function(t,n){if(this.lAt(t).getTime()>n.getTime())return!1;var i=this.hAt(t);return!(i&&n.getTime()>=i.getTime())},n._At=function(t,n,i){var r=tn(n,this.Tj)+this.Hpt.NR;return{K5:t,gAt:n,Gy:r,L_:i,jy:r+i}},n.lAt=function(t){return this.Hpt.iAt.Ku===TH.Vb?new Date(this.Hpt.iAt.rpt.getTime()+1e3*(t.Gy+t.L_)):this.Hpt.iAt.rpt},n.aAt=function(t){var n=this.lAt(t);return this.Hpt.iAt.Ku===TH.Vb?new Date(n.getTime()-1e3*this.Qpt):n},n.hAt=function(t){var n=1/0;if(this.Hpt.iAt.Ku===TH.Vb){var i=this.jpt.dkt;i&&(n=this.lAt(t).getTime()+1e3*t.L_+i.Ymt())}var r=this.Hpt.iAt.ipt;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.wAt=function(t,n){return t.K5+n},n.Hmt=function(t){return!1},n.Vmt=function(t,n,i,r,e){var s=this.yAt(t);if(!s)return T.reject(new f("Invalid segment"));var u=this.mAt(s.K5);return u?T.resolve(u):this.kAt(s.K5,n,i,r,e)},n.mAt=function(t){},n.kAt=function(t,n,i,r,e){return T.reject(new f("Not supported"))},n.vAt=function(t){var n=this.yAt(t);if(n)return this.nAt(n.K5-1)},n.Rdt=function(t){var n=this.yAt(t);if(n)return this.nAt(n.K5+1)},n.yAt=function(t){var n=this.nAt(t.K5);if(n&&n.Gy===t.Gy)return n;var i=this.Zpt(t.Gy);return i&&i.Gy===t.Gy?i:void 0},n.pAt=function(t){var n=this.AAt(t);if(n&&this.Hmt(n.K5)){var i=this.mAt(n.K5);if(i)return i.pAt(t)}},n.AAt=function(t){return this.nAt(t.bAt)},n.Opt=function(t){var n=this.yAt(t);return!!n&&0===n.K5},n.xpt=function(t){var n=this.pAt(t);return!!n&&0===n.bpt},n.H6=function(t){var n=this.yAt(t);if(!n)return!1;var i=this.Wmt();return!!i&&n.K5===i.K5},n.Ppt=function(t){var n=this.pAt(t);if(!n)return!1;var i=this.Wmt();if(!i||n.bAt!==i.K5)return!1;var r=this.mAt(n.bAt);return n.bpt+1===r.Cl},L(t,[{key:"bm",get:function(){return tn(this.Ypt,this.Tj)-this.Hpt.NR}},{key:"fkt",get:function(){return tn(this.Ypt,this.Tj)}}]),t}(),eX=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).TAt=void 0,r.EAt=void 0;var e=n.SAt,s=n.L_;if(void 0===e||void 0===s)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.EAt=e,r.TAt=s,r}U(n,t);var i=n.prototype;return i.nAt=function(t){if(!(t<0)){var n=this.EAt.multiply(t),i=tn(n,this.Tj),r=this.Hpt.L_;if(!(i>=r)){var e=this.RAt();if(void 0!==e){if(t>e)return;if(t===e)return this._At(t,n,r-i)}return isFinite(r)&&i+this.TAt>r?this._At(t,n,r-i):this._At(t,n,this.TAt)}}},i.Jpt=function(){return 0},i.$pt=function(t){var n=l.floor(t/this.TAt),i=this.RAt();return void 0!==i&&n>=i?this.nAt(i):this.nAt(n)},i.tAt=function(t){if(t>=this.Hpt.L_){var n=l.ceil(this.Hpt.L_/this.TAt)-1,i=this.RAt();return void 0!==i&&n>=i?this.nAt(i):this.nAt(n)}return this.$pt(t)},i.RAt=function(){var t,n=this.jpt.gkt;if(void 0!==n)return n-(null!=(t=this.jpt._kt)?t:1);if(isFinite(this.Hpt.L_)){var i=this.jpt.IAt;if(void 0!==i&&i>0)return i-1}},i.NAt=function(){if(isFinite(this.Hpt.L_))return this.Wmt()},i.CAt=function(t,n){return this.EAt.multiply(t.K5+(n-1))},i.xh=function(){},n}(rX);function sX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].Gy,u=t[e].jy;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+l.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.Gy,c=o+1<i?t[o+1].Gy:h.jy;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var uX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).DAt=[],r.OAt=void 0,r.xAt=Xt.ZERO,r.xh(),r}U(n,t);var i=n.prototype;return i.nAt=function(t){if(!(t<0))return t<this.DAt.length?this.DAt[t].pdt:this.PAt(t-this.DAt.length)},i.Jpt=function(){if(this.DAt.length>0)return tn(this.DAt[0].Gy,this.Tj)},i.$pt=function(t){if(this.OAt&&tn(this.OAt.Gy,this.Tj)<=t){var n=tn(this.OAt.Gy,this.Tj),i=tn(this.OAt.L_,this.Tj),r=l.floor((t-n)/i);return this.PAt(r)}if(this.DAt.length>0&&zt(t,tn(this.DAt[0].Gy,this.Tj),1e-5))return this.DAt[0].pdt;var e=sX(this.DAt,Xt.fromNumber(t*this.Tj));return e<0?void 0:this.DAt[e].pdt},i.tAt=function(t){if(!this.OAt&&this.DAt.length>0){var n=this.DAt[this.DAt.length-1];if(i=t,r=tn(n.jy,this.Tj),f_(i,r,1e-5)>=0)return n.pdt}var i,r,e=this.Jpt();return e&&t<e?this.DAt[0].pdt:this.$pt(t)},i.NAt=function(){return isFinite(this.Hpt.L_)?this.Wmt():this.nAt(this.DAt.length-1)},i.CAt=function(t){return this.BAt(t)},i.PAt=function(t){if(this.OAt){var n=this.OAt.Gy,i=this.OAt.L_,r=n.add(i.multiply(t)),e=tn(r,this.Tj),s=this.Hpt.L_;if(!(e>=s)){var u=this.DAt.length+t,o=l.min(tn(i,this.Tj),e+s);return this._At(u,r,o)}}},i.BAt=function(t){return t.gAt.add(this.Ypt)},i.xh=function(){var t=this.jpt.Ds.Umt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.LAt(t)},i.LAt=function(t){var n=this.Ypt;this.MAt(t,n);var i=this.UAt(t);this.FAt(t,n,i.HAt,i.bAt)},i.MAt=function(t,n){var i=this.DAt;if(0===t.length)rs(i);else{for(var r=t[0],e=r.Gy?Xt.fromString(r.Gy,!1).subtract(n):Xt.ZERO,s=0;s<i.length&&i[s].Gy.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.UAt=function(t){for(var n=this.DAt,i=this.xAt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].rkt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].Gy.greaterThanOrEqual(i))break;if(n[e].pdt.K5===e)e=u+1;else for(;e<=u;)n[e].pdt.K5=e,e++;0,r++}return{HAt:r,bAt:e}},i.FAt=function(t,n,i,r){for(var e,s=this.DAt,u=i,o=r;u<t.length;){var h=t[u],a=Xt.fromString(h.L_,!1),c=h.rkt||0,f=void 0;if(h.Gy){if(f=Xt.fromString(h.Gy,!1).subtract(n),o>0){var v=s[o-1];v.jy.greaterThan(f)&&(v.L_=f.subtract(v.Gy),v.jy=v.Gy.add(v.L_))}}else f=o>0?s[o-1].jy:Xt.ZERO;if(c<0){if(u+1===t.length){e={Gy:f,L_:a};break}for(var d=Xt.fromString(t[u+1].Gy,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.VAt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.VAt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.xAt=s[s.length-1].Gy),this.OAt=e},i.VAt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.L_.equals(r)?s.pdt.K5=n:t[n]={Gy:i,L_:r,jy:e,pdt:this._At(n,i,tn(r,this.Tj))}}else t.push({Gy:i,L_:r,jy:e,pdt:this._At(n,i,tn(r,this.Tj))})},n}(rX),oX=function(){function t(t,n,i){this.Gmt=void 0,this.XAt=void 0,this.nr=void 0,this.WAt=void 0,this.qAt=void 0,this.Gmt=t,this.XAt=n,this.nr=i}var n=t.prototype;return n.zAt=function(){if(this.qAt=this.GAt(),this.qAt)return this.qAt;if(this.XAt)return this.XAt.Umt;throw new f("Missing media segment information.")},n.Mpt=function(t){var n=this.ckt;if(n)return{cv:(void 0!==n.ikt?b.Zs(n.ikt,t.Nkt[0]):t.Nkt[0]).href,GY:n.GY};var i=this.ekt;return i?{cv:t.Nkt[0].href,GY:[0,i[0]-1]}:void 0},n.xh=function(t){this.nr=t,this.qAt&&this.qAt.xh()},L(t,[{key:"Ds",get:function(){return this.nr}},{key:"nkt",get:function(){return this.nr&&void 0!==this.nr.nkt?this.nr.nkt:this.XAt?this.XAt.nkt:0}},{key:"fkt",get:function(){return this.nr&&void 0!==this.nr.fkt?this.nr.fkt:this.XAt?this.XAt.fkt:Xt.ZERO}},{key:"dkt",get:function(){return this.nr&&void 0!==this.nr.dkt?this.nr.dkt:this.XAt?this.XAt.dkt:this.Gmt.iAt.dkt}},{key:"zg",get:function(){return this.nr&&void 0!==this.nr.zg?this.nr.zg:this.XAt&&this.XAt.zg?this.XAt.zg:1}},{key:"ekt",get:function(){return this.nr&&void 0!==this.nr.ekt?this.nr.ekt:this.XAt?this.XAt.ekt:void 0}},{key:"ckt",get:function(){return this.nr&&void 0!==this.nr.ckt?this.nr.ckt:this.XAt?this.XAt.ckt:void 0}},{key:"Umt",get:function(){return this.WAt||(this.WAt=this.zAt()),this.WAt}}]),t}(),hX=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.GAt=function(){return this.nr.Umt?new uX(this,this.Gmt):void 0!==this.nr.L_?new eX(this,this.Gmt):void 0},L(n,[{key:"L_",get:function(){return void 0!==this.nr.L_?this.nr.L_/this.zg:this.XAt&&this.XAt instanceof n?this.XAt.L_:void 0}},{key:"SAt",get:function(){return void 0!==this.nr.L_?Xt.fromNumber(this.nr.L_):this.XAt&&this.XAt instanceof n?this.XAt.SAt:void 0}},{key:"_kt",get:function(){return void 0!==this.nr._kt?this.nr._kt:this.XAt&&this.XAt instanceof n?this.XAt._kt:void 0}},{key:"gkt",get:function(){return void 0!==this.nr.gkt?this.nr.gkt:this.XAt&&this.XAt instanceof n?this.XAt.gkt:void 0}}]),n}(oX),aX=function(){function t(t){this.jAt=void 0,this.jAt=t}return t.prototype._h=function(t){return this.jAt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=br(u,Number(r),"0")})},t}();var cX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).QAt=void 0,e.YAt=void 0,e.QAt=r.mkt?new aX(r.mkt):void 0,e.YAt=r.kkt?new aX(r.kkt):void 0,e}U(n,t);var i=n.prototype;return i.Mpt=function(n){var i=this.mkt;if(!i)return t.prototype.Mpt.call(this,n);var r=i._h({Bandwidth:n.Ds.zE,RepresentationID:n.Ds.Hl});return{cv:b.Ys(r,n.Nkt[0])}},i.zmt=function(t,n){var i,r=null!=(i=n.Upt._kt)?i:1,e=this.kkt._h({Bandwidth:n.Ds.zE,Number:n.Umt.wAt(t,r),RepresentationID:n.Ds.Hl,Time:n.Umt.CAt(t,r)});return{cv:b.Ys(e,n.Nkt[0])}},i.Ipt=function(t,n){},L(n,[{key:"mkt",get:function(){return this.QAt?this.QAt:this.XAt&&this.XAt instanceof n?this.XAt.mkt:void 0}},{key:"kkt",get:function(){return this.YAt?this.YAt:this.XAt&&this.XAt instanceof n?this.XAt.kkt:void 0}},{key:"IAt",get:function(){}}]),n}(hX),fX=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.zmt=function(t,n){var i=this.nr.ukt[t.K5],r=n.Nkt[0];return{cv:(i.yp?b.Zs(i.yp,r):r).href,GY:i.skt}},i.Ipt=function(t,n){},L(n,[{key:"IAt",get:function(){return void 0!==this.nr.ukt?this.nr.ukt.length:this.XAt&&this.XAt instanceof hX?this.XAt.IAt:void 0}}]),n}(hX),vX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).bAt=void 0,u.ZAt=void 0,u.zg=void 0,u.JAt=void 0,u.fkt=void 0,u.$At=void 0,u.bAt=n,u.ZAt=i,u.zg=r.zg,u.JAt=e,u.fkt=s,u.$At=u.KAt(r),u}U(n,t);var i=n.prototype;return i.Xmt=function(t){if(t>=0&&t<this.Cl)return this.tbt(this.$At[t])},i.nbt=function(t){var n=this.ibt(t);if(this.$At.length>0){var i=this.$At[0];if(n<=tn(i.Gy,this.zg))return this.tbt(i)}var r=sX(this.$At,Xt.fromNumber(n*this.zg));if(!(r<0))return this.tbt(this.$At[r])},i.rbt=function(t){var n=this.ibt(t);if(this.$At.length>0){var i=this.$At[this.$At.length-1];if(n>=tn(i.jy,this.zg))return this.tbt(i)}return this.nbt(t)},i.tbt=function(t){var n=tn(t.Gy,this.zg)-this.fkt,i=n+this.JAt,r=tn(t.L_,this.zg);return{bAt:this.bAt,bpt:t.K5,Gy:i,gAt:Xt.fromNumber(n*this.zg),L_:r,jy:i+r,ebt:[this.ZAt+t.ZAt,this.ZAt+t.sbt]}},i.KAt=function(t){for(var n=[],i=t.ob,r=t.hb.toNumber(),e=0,s=0,u=t.cb;s<u.length;s++){var o=u[s],h=o.ib,a=Xt.fromNumber(o.L_),c=i.add(a);0===o.nb&&n.push({K5:e++,Gy:i,L_:a,jy:c,ZAt:r,sbt:r+h-1}),r+=h,i=c}return n},i.ibt=function(t){return t-this.JAt+this.fkt},L(n,[{key:"Cl",get:function(){return this.$At.length}}]),n}(function(){function t(){}return t.prototype.pAt=function(t){var n=this.Xmt(t.bpt);if(n&&n.Gy===t.Gy)return n;var i=this.nbt(t.Gy);return i&&i.Gy===t.Gy?i:void 0},t}()),dX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).ubt=void 0,r.rdt=void 0,r.obt=void 0,r.ubt=n.ekt,r.rdt=r._At(0,Xt.ZERO,r.Hpt.L_),r}U(n,t);var i=n.prototype;return i.nAt=function(t){if(0===t)return this.rdt},i.Jpt=function(){return 0},i.$pt=function(t){return this.rdt},i.tAt=function(t){return this.$pt(t)},i.NAt=function(){return this.rdt},i.CAt=function(t,n){return Xt.ZERO},i.Cpt=function(t){var n=this.hbt(t);return n&&{eAt:t,sAt:n,oAt:n}},i.hbt=function(t){var n=this.rdt;return this.fAt(n,t)?n:void 0},i.rAt=function(t){return this.hbt(t)},i.uAt=function(t){return this.hbt(t)},i.xh=function(){},i.Hmt=function(t){return 0===t&&void 0!==this.ubt},i.mAt=function(t){return this.obt},i.kAt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e,s){var u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.Nkt[0].href,o=this.ubt,t.next=4,e.abt(u,o,r,s);case 4:return h=t.sent,this.obt=this.cbt(n,h),t.abrupt("return",this.obt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.cbt=function(t,n){var i=this.ubt,r=Sw.Fk(new DataView(n),new ju);if(r.Ku!==Lg.fk)throw new f("Invalid segment index");var e=Dw.rp(r.Ds),s=i[1]+1;return new vX(t,s,e,this.Hpt.NR,tn(this.Ypt,this.Tj))},n}(rX),lX=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.zmt=function(t,n){return{cv:n.Nkt[0].href}},i.Ipt=function(t,n){return{cv:n.Nkt[0].href,GY:t.ebt}},i.GAt=function(){return new dX(this,this.Gmt)},L(n,[{key:"_kt",get:function(){}}]),n}(oX),_X=function(t){function n(){return t.call(this,GV._pt)||this}return U(n,t),n}(Is);var gX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.fbt=void 0,e.jpt=void 0,e.vbt=1/0,e.dbt=void 0,e.an=i,e.lbt(n,r),e}U(n,t);var i=n.prototype;return i._bt=function(){return this.jpt||this.an&&this.an._bt()},i.gbt=function(t){var n=this.Gmt,i=this.an&&this.an._bt();this.nr.Bkt?this.jpt=new cX(n,i,this.nr.Bkt):this.nr.Pkt?this.jpt=new fX(n,i,this.nr.Pkt[0]):this.nr.xkt?this.jpt=new lX(n,i,this.nr.xkt):t&&!i&&(this.jpt=new lX(n,i,void 0))},i.lbt=function(t,n){this.nr=t,this.fbt=t.Nkt&&t.Nkt.length>0?iX(t.Nkt.map(function(t){return t.cv}),n):n.slice(),this.jpt&&(t.Bkt?this.jpt.xh(t.Bkt):t.Pkt?this.jpt.xh(t.Pkt[0]):t.xkt&&this.jpt.xh(t.xkt))},i.ppt=function(){var t;return null==(t=this.dbt)?void 0:t.wbt},i.Dpt=function(){var t;return null==(t=this.dbt)?void 0:t.ybt},i.mbt=function(t){var n=this.vbt,i=this.Gmt.L_,r=this.dbt,e=this.kbt(t);r&&zt(i,n,1e-5)&&kX(r,e)||(this.vbt=i,this.dbt=e,this.Do(new _X))},i.wo=function(){this.Bo()},L(n,[{key:"Ds",get:function(){return this.nr}},{key:"Nkt",get:function(){return this.fbt}}]),n}(Ss);function wX(t){for(var n,i=0;i<t.length;i++){var r=t[i].ppt();if(r){n=r.NR;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].ppt();if(u){e=u.OR;break}}if(void 0!==e)return{NR:n,OR:e}}}function yX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].ppt();if(!e)return;if((n=l.max(n,e.NR))>=(i=l.min(i,e.OR)))return}return{NR:n,OR:i}}}function mX(t){for(var n,i=0;i<t.length;i++){var r=t[i].Dpt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function kX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.ybt,n.ybt)&&function(t,n){return t&&n?zt(t.NR,n.NR,1e-5)&&zt(t.OR,n.OR,1e-5):t===n}(t.wbt,n.wbt)}var pX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Hpt=void 0,e.Cy=void 0,e.pbt=void 0,e.Hpt=n,e.Cy=i,e.pbt=r.slice();for(var s=0;s<r.length;s++){r[s].Oo(GV._pt,e.mpt)}return e}U(n,t);var i=n.prototype;return i.ppt=function(){return yX(this.pbt)},i.Dpt=function(){for(var t,n=0,i=this.pbt;n<i.length;n++){var r=i[n].Dpt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Pv=function(){this.Bo();for(var t=0,n=this.pbt;t<n.length;t++){n[t].Lo(GV._pt,this.mpt)}},L(n,[{key:"Pmt",get:function(){return this.pbt}},{key:"SJ",get:function(){return this.Pmt.reduce(function(t,n){for(var i=0,r=n.SJ;i<r.length;i++){var e=r[i];ns(t,e)||t.push(e)}return t},[])}},{key:"vu",get:function(){return this.SJ.length>0?this.SJ[0]:""}},{key:"Ku",get:function(){return this.pbt[0].Ku}},{key:"Hl",get:function(){return this.Cy}},{key:"Npt",get:function(){return this.Hpt.Npt}},{key:"YC",get:function(){return this.pbt[0].YC}},{key:"Gmt",get:function(){return this.Hpt}},{key:"Smt",get:function(){return ss(this.Pmt,function(t){return t.Smt})}}]),n}($V),AX=function(t){function n(){return t.call(this,GV.wpt)||this}return U(n,t),n}(Is);function bX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Mkt;void 0===s||(e=Je(n,function(t){return t.Hl===s})),e||(e={Hl:s,Pmt:[]},n.push(e)),e.Pmt.push(r)},r=0;r<t.length;r++)i(r);return n}var TX,EX=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ept=void 0,r.pbt=[],r.Abt=[],r.bbt=void 0,r.Tbt=!1,r.bbt=n,r.Ept=i,r.Ept.Oo(GV._pt,r.mpt),r}U(n,t);var i=n.prototype;return i.Ebt=function(t,n){if(0!==this.Abt.length){for(var i=t,r=0,e=this.Abt;r<e.length;r++){var s=e[r],u=s.Ku;if(u===F_.Tv||u===F_.Ev){var o=s.Apt;if(void 0===o)return;i=n(i,o)}}return i}},i.Sbt=function(){this.Tbt||(this.Tbt=!0,this.Do(new AX),this.Pv())},i.xh=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.pbt.length){t.next=7;break}return t.next=3,this.Rbt(this.Ept.Pmt,n,i);case 3:this.Ibt(this.pbt),cs(i),t.next=9;break;case 7:return t.next=9,this.Nbt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Rbt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new nX(this,s),t.prev=4,t.next=7,u.xh(i,r);case 7:this.pbt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),fs(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ibt=function(t){for(var n=bX(t),i=0;i<n.length;i++){var r=n[i],e=new pX(this,r.Hl,r.Pmt);this.Abt.push(e)}},i.Nbt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.pbt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.xh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ppt=function(){return this.Ept.ppt()},i.Dpt=function(){return this.Ept.Dpt()},i.Pv=function(){this.Bo(),this.Ept.Lo(GV._pt,this.mpt);for(var t=0,n=this.Abt;t<n.length;t++){n[t].Pv()}for(var i=0,r=this.pbt;i<r.length;i++){r[i].Pv()}rs(this.pbt),rs(this.Abt)},L(n,[{key:"Pmt",get:function(){return this.pbt}},{key:"Omt",get:function(){return this.Abt}},{key:"Kkt",get:function(){return this.Ept.Ds.Kkt}},{key:"L_",get:function(){return this.Ept.L_}},{key:"OR",get:function(){return this.NR+this.L_}},{key:"tpt",get:function(){return this.Ept.Ds.tpt||[]}},{key:"Hl",get:function(){return this.Ept.Hl}},{key:"ypt",get:function(){return this.Tbt}},{key:"Npt",get:function(){return this.bbt}},{key:"Cbt",get:function(){return this.bbt.Dbt(this)}},{key:"Gmt",get:function(){return this}},{key:"Obt",get:function(){return this.bbt.xbt(this)}},{key:"Pbt",get:function(){return this.Ebt(1/0,l.min)}},{key:"Bbt",get:function(){return this.Ebt(0,l.max)}},{key:"NR",get:function(){return this.Ept.NR}},{key:"Dv",get:function(){return this.Npt.Dv}}]),n}($V),SX=function(t){function n(){return t.call(this,Zo.nc)||this}return U(n,t),n}(Is);!function(t){t.Lbt="Mbt"}(TX||(TX={}));var RX=function(t){function n(){return t.call(this,TX.Lbt)||this}return U(n,t),n}(Is),IX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Nkt)||this).Tpt=void 0,r.Ubt=void 0,r.Tpt=i,r.gbt(!0),r}U(n,t);var i=n.prototype;return i.Mpt=function(){return this.Upt.Mpt(this)},i.zmt=function(t){return this.Upt.zmt(t,this)},i.Ipt=function(t){return this.Upt.Ipt(t,this)},i.Cpt=function(){return this.Ubt},i.kbt=function(t){var n=this.Umt,i=n.Cpt(t),r=i&&function(t,n){var i,r=t.sAt,e=t.oAt,s=t.eAt,u=r.Gy,o=n.lAt(e);if(o.getTime()<=s.getTime())i=e.jy;else{var h=(o.getTime()-s.getTime())/1e3,a=l.max(e.L_-h,0);i=e.Gy+a}return{NR:u,OR:i}}(i,n),e=this.Umt.Dpt(t,i);return this.Ubt=i,{eAt:t,wbt:r,ybt:e}},i.xh=function(t){this.lbt(t,this.Tpt.Nkt)},L(n,[{key:"Bpt",get:function(){return this.Tpt}},{key:"Gmt",get:function(){return this.Tpt.Gmt}},{key:"iAt",get:function(){return this.Tpt.iAt}},{key:"Upt",get:function(){return this._bt()}},{key:"Umt",get:function(){return this.Upt.Umt}}]),n}(gX),NX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Nkt)||this).Hpt=void 0,r.Vpt=void 0,r.Hpt=i,r.gbt(!1),r.Vpt=n.Smt.map(function(t){return new IX(t,en(r))}),r}U(n,t);var i=n.prototype;return i.xh=function(t){this.lbt(t,this.Hpt.Nkt);var n=t.Smt||[];if(this.Vpt.length!==n.length)throw new f("Expected "+this.Vpt.length+' representations in adaptation set "'+t.Hl+'", found '+n.length);for(var i=0;i<n.length;i++)this.Vpt[i].xh(n[i])},i.mbt=function(n){for(var i=0,r=this.Vpt;i<r.length;i++){r[i].mbt(n)}t.prototype.mbt.call(this,n)},i.kbt=function(t){return{eAt:t,wbt:yX(this.Vpt),ybt:mX(this.Vpt)}},i.wo=function(){for(var n=0,i=this.Vpt;n<i.length;n++){i[n].wo()}t.prototype.wo.call(this)},L(n,[{key:"Smt",get:function(){return this.Vpt}},{key:"Gmt",get:function(){return this.Hpt}},{key:"iAt",get:function(){return this.Hpt.iAt}},{key:"Mkt",get:function(){return this.nr.Mkt}}]),n}(gX),CX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.Nkt)||this).Fbt=void 0,s.wb=void 0,s.QU=void 0,s.pbt=void 0,s.Abt=[],s.Fbt=n,s.wb=r,s.QU=e,s.gbt(!1),s.pbt=(i.Pmt||[]).map(function(t){return new NX(t,en(s))}),s.Abt=bX(s.pbt),s}U(n,t);var i=n.prototype;return i.xh=function(t,n){this.lbt(t,this.Fbt.Nkt),this.QU=n;var i=t.Pmt||[];if(this.pbt.length!==i.length)throw new f("Expected "+this.pbt.length+' adaptation sets in period "'+t.Hl+'", found '+i.length);for(var r=0;r<i.length;r++)this.pbt[r].xh(i[r])},i.mbt=function(n){for(var i=0,r=this.pbt;i<r.length;i++){r[i].mbt(n)}t.prototype.mbt.call(this,n)},i.kbt=function(t){return{eAt:t,wbt:yX(this.pbt),ybt:mX(this.pbt)}},i.wo=function(){for(var n=0,i=this.pbt;n<i.length;n++){i[n].wo()}t.prototype.wo.call(this)},L(n,[{key:"Pmt",get:function(){return this.pbt}},{key:"Omt",get:function(){return this.Abt}},{key:"Gmt",get:function(){return this}},{key:"iAt",get:function(){return this.Fbt}},{key:"Hl",get:function(){return this.nr.Hl}},{key:"NR",get:function(){return this.wb}},{key:"L_",get:function(){return this.QU}}]),n}(gX),DX=new Date("2000-01-01"),OX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.Hbt=void 0,s.Vbt=void 0,s.wH=void 0,s.Xbt=void 0,s.dbt=void 0,s.fbt=void 0,s.Wbt=void 0,s.qbt=void 0,s.zbt=void 0,s.Gbt=[],s.Hbt=i,s.xh(n,r,e),n.Ku===TH.Vb){var u=s.NAt();u&&u.ipt&&u.ipt.getTime()<DX.getTime()&&(s.zbt=new Date(s.fpt.getTime()-1e3*(u.pdt.Gy+u.pdt.L_)),s.mbt(e))}return s}U(n,t);var i=n.prototype;return i.ppt=function(){var t;return null==(t=this.dbt)?void 0:t.wbt},i.Dpt=function(){var t;return null==(t=this.dbt)?void 0:t.ybt},i.xh=function(t,n,i,r){var e;this.nr=t,this.Vbt=n,this.Xbt=null!=r?r:i,this.wH=i;var s,u=[(s=n,b.Zs(".",s))];this.fbt=t.Nkt&&t.Nkt.length>0?iX(t.Nkt.map(function(t){return t.cv}),u):u,this.Wbt=t.ept&&t.ept.length>0?iX(t.ept,this.fbt):[];var o=this.Wbt.map(function(t){return t.href}),h=n.href;ns(o,h)||(this.Wbt.push(n),o.push(h));var a=this.Hbt.href;ns(o,a)||(this.Wbt.push(this.Hbt),o.push(a)),this.qbt=null==(e=t.Nmt)?void 0:e.Imt();var c=t.Ku===TH.Vb,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.NR)u=s.NR.Imt();else if(e>0&&t[e-1].L_){var o=r[e-1],h=t[e-1].L_.Imt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Ds:t[c],NR:r[c],L_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.L_?v.L_.Imt():i-d),a.push({Ds:v,NR:d,L_:l})}return a}(t.Rmt,c,this.qbt);this.jbt(f),this.mbt(i)},i.jbt=function(t){var n=this.Gbt;if(0!==t.length){for(var i=t[0].Ds.Hl,r=0;r<n.length&&n[r].Hl!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].wo()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.xh(o.Ds,o.L_)}else n.push(new CX(this,o.Ds,o.NR,o.L_))}}else rs(n)},i.mbt=function(t){for(var n=0,i=this.Gbt;n<i.length;n++){i[n].mbt(t)}var r=this.dbt,e=this.kbt(t);r&&kX(r,e)||(this.dbt=e,this.Do(new _X))},i.kbt=function(t){return{eAt:t,wbt:wX(this.Gbt),ybt:mX(this.Gbt)}},i.NAt=function(){if(0!==this.Gbt.length){var t=this.Gbt[this.Gbt.length-1];if(!isFinite(t.L_)&&0!==t.Pmt.length){var n=t.Pmt[0];if(0!==n.Smt.length){var i=n.Smt[0].Umt,r=i.NAt();if(r)return{pdt:r,ipt:i.hAt(r)}}}}},i.wo=function(){this.Bo();for(var t=0,n=this.Gbt;t<n.length;t++){n[t].wo()}},L(n,[{key:"Ds",get:function(){return this.nr}},{key:"Ku",get:function(){return this.nr.Ku||TH.Hb}},{key:"rpt",get:function(){return this.zbt||this.nr.rpt||this.fpt}},{key:"ipt",get:function(){return this.nr.ipt}},{key:"Nmt",get:function(){return this.qbt}},{key:"Nkt",get:function(){return this.fbt}},{key:"ept",get:function(){return this.Wbt}},{key:"Rmt",get:function(){return this.Gbt}},{key:"fpt",get:function(){return this.nr.fpt||this.wH}},{key:"dkt",get:function(){return this.nr.dkt}},{key:"Qbt",get:function(){return this.Xbt}},{key:"Ybt",get:function(){return this.wH}}]),n}(Ss);var xX=function(){function t(t,n,i){this.Zbt=0,this.Ob=t,this.Jbt=n,this.$bt=i}var n=t.prototype;return n._x=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Kbt(n,this.Ob,this.Jbt,this.$bt).catch(vs);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tTt=function(){return new Date(Zt()+this.Zbt)},n.Kbt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.nTt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}cs(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.iTt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.Zbt=void 0===s?0:s-Zt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.iTt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.ymt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.fs)){t.next=9;break}return t.next=8,this.nTt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.fs)){t.next=15;break}if(o=new Date(u).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.nTt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.hv({cv:i,Rv:Rf.GET,sv:Jo.Je,So:r});case 3:return e=t.sent,t.next=6,e.Hf();case 6:if(s=t.sent,u=new Date(s).getTime(),w(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),fs(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),PX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).rTt=void 0,s.Ept=void 0,s.eTt=void 0,s.DZ=!0,s.Gbt=[],s.sTt=void 0,s.uTt=void 0,s.oTt=void 0,s.Ob=void 0,s.hTt=void 0,s.sTt=n,s.eTt=n.i_,s.uTt=i,s.Ob=r,s.rTt=e,s.hTt=new xX(s.Ob,s.rTt,s.sTt.aTt),s}U(n,t);var i=n.prototype;return i.Gut=function(t){var n=this.by;this.DZ=t,n!==this.by&&this.Do(new RX)},i.xh=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.spt?b.Zs(n.spt,this.eTt):this.eTt,void 0!==this.Ept){t.next=10;break}return t.next=6,this.hTt._x(n.dpt);case 6:this.Ept=new OX(n,this.eTt,o,this.tTt()),this.Ept.Oo(GV._pt,this.Co),t.next=11;break;case 10:this.Ept.xh(n,o,this.tTt(),i);case 11:if(0===(h=this.Ept.Rmt).length)a=this.Gbt.slice(),rs(this.Gbt);else{for(c=h[0].Hl,f=0;f<this.Gbt.length&&this.Gbt[f].Hl!==c;)f++;for(a=this.Gbt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.Gbt.length?l=this.Gbt[v]:(l=new EX(this,d),s.push(l)),u.push(l.xh(this.uTt,r))}return t.next=15,T.all(u);case 15:for((e=this.Gbt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].Sbt();this.Do(new SX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tTt=function(){return this.hTt.tTt()},i.xbt=function(t){var n=this.Gbt.indexOf(t);if(n>0)return this.Gbt[n-1]},i.Dbt=function(t){var n=this.Gbt.indexOf(t);if(n>=0&&n+1<this.Gbt.length)return this.Gbt[n+1]},i.ppt=function(){return this.Ept?this.Ept.ppt():void 0},i.Dpt=function(){return this.Ept&&this.Ept.Dpt()},i.mbt=function(t){this.Ept&&this.Ept.mbt(t)},i.Pv=function(){this.Bo(),this.oTt=void 0,this.Gut(!1);for(var t=0,n=this.Gbt;t<n.length;t++){n[t].Pv()}rs(this.Gbt),this.Ept&&this.Ept.wo()},L(n,[{key:"ipt",get:function(){return this.Ept&&this.Ept.ipt}},{key:"rpt",get:function(){return this.Ept&&this.Ept.rpt}},{key:"Hl",get:function(){return this.Ept&&this.Ept.Ds.Hl}},{key:"Qbt",get:function(){var t;return null==(t=this.Ept)?void 0:t.Qbt}},{key:"cTt",get:function(){var t;return null==(t=this.Ept)?void 0:t.Ybt}},{key:"ept",get:function(){return this.Ept?this.Ept.ept.map(function(t){return t.href}):[this.Dmt]}},{key:"Dmt",get:function(){return this.eTt.href}},{key:"upt",get:function(){return this.Ept&&this.Ept.Ds.upt}},{key:"hpt",get:function(){return this.Ept&&this.Ept.Ds.hpt}},{key:"Nmt",get:function(){return this.Ept&&this.Ept.Ds.Nmt}},{key:"apt",get:function(){return this.Ept&&this.Ept.Ds.apt}},{key:"cpt",get:function(){var t,n,i=(null==(t=this.Ept)?void 0:null==(n=t.Ds.cpt)?void 0:n.Ymt())||0;return l.max(i,LX)}},{key:"by",get:function(){return this.DZ}},{key:"Rmt",get:function(){return this.Gbt}},{key:"fTt",get:function(){return this.Ku===TH.Vb?this.Gpt:this.vTt}},{key:"dTt",get:function(){var t=this.fTt;if(void 0!==t)for(var n=0,i=this.Rmt;n<i.length;n++){var r=i[n];if(r.NR<=t&&r.OR>t)return r}}},{key:"Tkt",get:function(){return this.Ept&&this.Ept.Ds.Tkt}},{key:"fpt",get:function(){return this.Ept&&this.Ept.fpt}},{key:"Pbt",get:function(){for(var t=this.Gbt.length-1;t>=0;t-=1){var n=this.Gbt[t].Pbt;if(n)return n}}},{key:"Gpt",get:function(){var t=this.Pbt;if(void 0!==t){var n=t-this.lTt;return l.max(n,this.vTt)}}},{key:"vTt",get:function(){for(var t=0,n=this.Gbt;t<n.length;t++){var i=n[t].kpt;if(void 0!==i)return i}}},{key:"Dv",get:function(){return Boolean(this.sTt.Dv)}},{key:"lTt",get:function(){var t=this.Ept&&this.Ept.Ds.vpt;return t?t.Imt():this.Ku===TH.Vb?this.Gtt:0}},{key:"Gtt",get:function(){return this.sTt.Gtt?this.sTt.Gtt:1.5*this.apt.Imt()}},{key:"dkt",get:function(){return this.Ept&&this.Ept.dkt}},{key:"Ku",get:function(){return this.Ept?this.Ept.Ku:void 0}}]),n}(Ss),BX=function(){function t(t,n,i,r){this.bbt=void 0,this.bbt=new PX(t,n,i,r)}return L(t,[{key:"Npt",get:function(){return this.bbt}}]),t}(),LX=1e3,MX=l.pow(2,31)-1,UX=function(){function t(t,n,i,r){var e=this;this.x8=void 0,this.Ept=void 0,this._Tt=void 0,this.gTt=void 0,this.wTt=void 0,this.yTt=new os,this.mTt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.Ept.Npt.tTt(),t.next=4,e.kTt(e.Ept.Npt.ept,n);case 4:return r=t.sent,t.next=7,e.Ept.Npt.xh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),uy(t.t0)&&e.Ept.Npt.Gut(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.x8=r,this.Ept=new BX(t,n,i,this.yTt.So)}var n=t.prototype;return n.Cd=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ept.Npt.Do(new aS),t.prev=1,t.next=4,bU(this.mTt,n);case 4:this.Ept.Npt.Gut(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),fs(t.t0),this.gTt=void 0,this.Ept.Npt.Gut(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this._Tt=this.pTt(this.yTt.So);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.pTt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.Ept.Npt.Ku!==TH.Vb){t.next=6;break}return t.next=4,ds(this.ATt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.bTt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(n),!((i=this.TTt())>0)){t.next=6;break}return r=l.min(i,MX),t.next=6,ps(r,n);case 6:return t.prev=6,t.next=9,bU(this.mTt,n,1/0,LX,3e4);case 9:this.Ept.Npt.Gut(!0);case 10:return t.prev=10,this.wTt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.TTt=function(){var t=this.Ept.Npt.tTt().getTime()-this.Ept.Npt.Qbt.getTime();return this.Ept.Npt.cpt-t},n.ETt=function(t){var n=this.Ept.Npt.Dpt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Ept.Npt.mbt(t);var r=this.Ept.Npt.Dpt();return r?r.getTime()-t.getTime():NaN},n.STt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wTt||(this.wTt=this.bTt(n)),(i=new os).To(n),t.prev=3,t.next=6,T.race([this.wTt,this.RTt(i.So)].filter(J));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),vs(t.t0);case 11:return t.prev=11,i.bo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.RTt=function(t){var n=this.Ept.Npt.tTt(),i=this.ETt(n);if(!w(i))return this.ITt(i,t)},n.ITt=function(){var t=T.coroutine(le.mark(function t(n,i){var r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ps(n,i);case 2:r=this.Ept.Npt.tTt(),this.Ept.Npt.mbt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.kTt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.x8.C8(n,{},i,!1);case 2:return r=t.sent,e=new jV,t.abrupt("return",e.swt(r.k8,r.av));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Pv=function(){return this.yTt.bo(),this._Tt=void 0,this.gTt=void 0,this.wTt=void 0,this.Ept.Npt.Pv(),T.resolve()},L(t,[{key:"NTt",get:function(){return this.Ept}},{key:"L0",get:function(){return this.gTt||(this.gTt=this.Cd(this.yTt.So),ys(this.gTt)),this.gTt}},{key:"ATt",get:function(){return this.Ept.Npt.cTt&&this.Ept.Npt.Ku===TH.Vb?this.STt(this.yTt.So):this.L0}}]),t}(),FX=function(){function t(t,n,i){this.x8=t,this.CTt=n,this.DTt=i}var n=t.prototype;return n.OTt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!kl(i=n.type)){t.next=9;break}return t.next=6,this.xTt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!ml(i)){t.next=15;break}return t.next=12,this.PTt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xTt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,UH(n.src,this.x8);case 3:return i=t.sent,t.next=6,HH(i,this.x8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.PTt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new UX({i_:b.Zs(n.src),Gtt:n.liveOffset,aTt:n.timeServer,Dv:n.useCredentials},this.DTt,Bf.Hv,this.x8),t.next=4,i.L0;case 4:return t.next=6,wH(i.NTt.Npt,n.contentProtection,this.CTt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),HX=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.qf,MediaSource.isTypeSupported(r)||fy(n.YC,n.SJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!Q.Re&&!Q.Ee||-1===(null==(i=n.vu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Emt){t.next=19;break}e=n.Emt,s=ss(e,function(t){return Ve(t.ymt)}).filter(J),u=0;case 9:if(!(u<s.length)){t.next=18;break}return o=s[u],t.next=13,b.Cu(o,r);case 13:if(!t.sent){t.next=15;break}return t.abrupt("return",!0);case 15:u++,t.next=9;break;case 18:return t.abrupt("return",!1);case 19:return t.abrupt("return",!0);case 20:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),VX=function(){function t(t){this.BTt=void 0,this.LTt=[],this.MTt=0,this.BTt=t}var n=t.prototype;return n.UTt=function(){var t=new Yu;return this.LTt.push(t),this.FTt(),t.lh},n.HTt=function(){var t=T.coroutine(le.mark(function t(n,i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.MTt-=1,this.FTt(),0===this.LTt.length&&0===this.MTt&&i._h(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.FTt=function(){this.LTt.length>0&&this.MTt<this.BTt&&(this.LTt.shift()._h(),this.MTt+=1)},t}();function XX(t,n){for(var i=0,r=0,e=t.cb.n0.map(function(t){return t.L_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var WX=function(t){function n(n,i,r,e,s,u,o,h){var a;void 0===h&&(h=HX),(a=t.call(this)||this).B8=void 0,a.VTt=void 0,a.XTt=new Yu,a.WTt=void 0,a.HJ=void 0,a.qTt=eH.lmt(),a.fmt=void 0,a.zTt=void 0,a.Dw=void 0,a.GTt=void 0,a.h0=void 0,a.x8=void 0,a.jTt=void 0,a.CTt=void 0,a.DTt=void 0,a.$yt=void 0,a.B8=n,a.h0=i,a.x8=r,a.GTt=e,a.jTt=s,a.CTt=u,a.DTt=h,a.$yt=o,a.zTt=-1;var c=a.B8.cR.sources[0];return a.WTt=c,a.Dw=a.Zw(),a.VTt=new VX(a.B8.Zh.parallelTasksThreshold),a}U(n,t);var i=n.prototype;return i.Zw=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,_,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FX(this.x8,this.CTt,this.DTt),t.next=3,n.OTt(this.WTt);case 3:return this.HJ=t.sent,i=this.B8.Zh.amount,r=this.HJ.L_,e=oH(i,r),this.fmt=e,u=QD(this.HJ.Cmt[0]),t.next=11,this.h0.KK.ZK(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return ns(t.references,N.B8.Hl)}),h=[],a=this.B8.Zh.bandwidth,c=0,f=this.HJ.Rmt;c<f.length;c++)for(v=f[c],d=0,_=v.xmt;d<_.length;d++)for(g=_[d],w=0,y=GX(g.ap);w<y.length;w++)for(m=y[w],k=0,p=jX(m.zl,a);k<p.length;k++)A=p[k],h.push(A);if(this.zTt=l.ceil(h.map(function(t){return t.zE*XX(t,e)/8}).reduce(function(t,n){return t+n},0)),b=we(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new Yp(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.JR(r).ZR(5e-4);else{var e,s=Je(h,function(t){return t.Hl===i}),u=l.min(N.fmt,null!=(e=null==s?void 0:s.cb.L_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new eH(T,b,this.fmt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.Hl,{timeRanges:Yp._I(),totalQualityDurationToCache:l.min(I.cb.L_,this.fmt)});s=new eH(0,b,this.fmt)}this.QTt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.YTt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Dw;case 2:return t.next=4,this.ZTt(this.HJ,n);case 4:return t.next=6,this.XTt.lh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ZTt=function(){var t=T.coroutine(le.mark(function t(n,i){var r,e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Cmt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.JTt();case 4:for(r=[],e=0,s=n.Rmt;e<s.length;e++)u=s[e],r.push(this.$Tt(u,n.Cmt[0],i));return t.abrupt("return",T.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JTt=function(){var t=T.coroutine(le.mark(function t(){var n,i,r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GTt.YK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.h0.i0.th(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,qX(e,this.B8.Hl,this.h0.i0,this.$yt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.h0.i0.GK(r,this.$yt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new aH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.GTt.$K();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.$Tt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.xmt;s<u.length;s++)for(o=u[s],h=GX(o.ap),a=0;a<h.length;a++)c=h[a],e.push(this.KTt(c,i,r));return t.abrupt("return",T.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.KTt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.B8.Zh.bandwidth,s=jX(n.zl,e),n.Ku!==F_.Ev||!n.Mmt||!n.Mmt.eT.widevine||"persistent"!==n.Mmt.eT.widevine.licenseType){t.next=6;break}return t.next=5,this.tEt(n.Mmt);case 5:cs(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.nEt(h,i,r));return t.abrupt("return",T.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nEt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cs(r),!n.s8){t.next=7;break}return e={Gy:0,L_:0,qmt:n.s8},t.next=5,this.VTt.UTt();case 5:cs(r),ys(this.VTt.HTt(this.iEt(e,n,i),this.XTt));case 7:s=n.cb.n0[0].Gy,u=s+this.fmt,o=0,h=n.cb.n0;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Gy>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.rEt(r);case 16:return t.next=18,this.VTt.UTt();case 18:ys(this.VTt.HTt(this.iEt(a,n,i),this.XTt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rEt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.fo){t.next=4;break}return t.next=3,this.XTt.lh;case 3:throw new hs;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.eEt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Dw;case 2:return t.abrupt("return",this.HJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tEt=function(t){return T.resolve()},i.sEt=function(){var t=T.coroutine(le.mark(function t(){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return lt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.iEt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.h0.KK,s=YD(n.qmt.cv,n.qmt.GY),t.next=4,e.th(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,qX(u,this.B8.Hl,e,this.$yt);case 8:this.uEt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.oEt(n.qmt);case 14:return o=t.sent,h=this.hEt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.h0.s0(function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.KK.GK(a,f.$yt);case 2:return t.next=4,n.n0.GK(c,f.$yt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.uEt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new aH("Unable to store segment with url: "+n.qmt.cv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.oEt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.jTt.aEt(n,!1);case 2:return i=t.sent,t.next=5,this.cEt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.cEt=function(){var t=T.coroutine(le.mark(function t(n){var i;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Xf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.hEt=function(t,n,i,r){var e=YD(t.qmt.cv,t.qmt.GY),s=t.Gy,u=t.L_,o=this.fEt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QD(i),qualityId:n.Hl,byteSize:o,startsAndEnds:new Yp([s,s+u]).PR,references:[this.B8.Hl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:QD(i),data:r}}},i.fEt=function(t){return t.buffer.byteLength},i.uEt=function(t,n){var i=t.qualityId,r=this.qTt,e=r.Ry;e.get(i).timeRanges=e.get(i).timeRanges.JR(new Yp(t.startsAndEnds)).ZR(5e-4),this.QTt=new eH(n?r._mt+t.byteSize:r._mt,e,this.fmt)},L(n,[{key:"vEt",get:function(){return this.zTt}},{key:"QTt",get:function(){return this.qTt},set:function(t){this.qTt.eg(t)||(this.qTt=t,t.eg(eH.lmt())||this.Do(new rH))}}]),n}(Ss);function qX(t,n,i,r){return zX.apply(this,arguments)}function zX(){return(zX=T.coroutine(le.mark(function t(n,i,r,e){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ns(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.GK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GX(t){return t.length?[t[0]]:[]}function jX(t,n){if(!t.length)return[];var i=[].concat(t).sort(nH),r=i.filter(function(t){return t.zE<=n});return r.length>0?[r.pop()]:[i.shift()]}var QX=function(){function t(t){this.Ob=void 0,this.KB=new VE,this.Ob=t}var n=t.prototype;return n.hv=function(t){var n=this,i=new Yu;return this.KB.XB(function(r){return n.dEt(i,t,r)},t.So).catch(S),i.lh},n.xv=function(t){return this.Ob.xv(t)},n.dEt=function(){var t=T.coroutine(le.mark(function t(n,i,r){var e,s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cs(r),e=new Of({cv:i.cv,So:r},i),s=this.Ob.hv(e),n._h(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.Jf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Pv=function(){this.KB.Pv()},t}(),YX=function(){function t(t){this.lEt=void 0,this.Ob=t,this.lEt=new QX(this.Ob)}var n=t.prototype;return n.aEt=function(t,n,i){return this.yst(t,n,!0,!1,void 0,i)},n._Et=function(t,n,i,r){return this.yst(t,n,!1,!1,i,r)},n.gEt=function(t,n,i,r){return this.yst(t,n,!1,!0,i,r)},n.yst=function(){var n=T.coroutine(le.mark(function n(i,r,e,s,u,o){var h;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cs(o),n.next=3,this.wEt(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.yEt(h));case 8:return n.abrupt("return",this.mEt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.mEt=function(t){return t},t.yEt=function(t){return t},n.wEt=function(t,n,i,r,e){var s=new Of({cv:t.cv,sv:Jo.Tc,ev:t.GY?{Range:"bytes="+t.GY[0]+"-"+t.GY[1]}:void 0,Dv:t.Dv,Rv:Rf.GET,Ku:If.lv,Nv:i?Nf.gv:Nf.vv,Cv:this.kEt,Iv:r,So:e});return n?this.lEt.hv(s):this.Ob.hv(s)},L(t,[{key:"kEt",get:function(){return Cf.vv}}]),t}(),ZX=function(){function t(t){this.Ob=void 0,this.Ob=t}return t.prototype.abt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ob.hv({cv:n,sv:Jo.Tc,ev:{Range:"bytes="+i[0]+"-"+i[1]},Dv:r,Rv:Rf.GET,Ku:If.vv,So:e});case 2:return s=t.sent,t.next=5,s.Xf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),JX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).pdt=void 0,e.pdt=n,e}return U(n,t),n}(un),$X=function(){function t(t){this.D8=void 0,this.D8=t}return t.prototype.abt=function(){var t=T.coroutine(le.mark(function t(n,i,r,e){var s,u;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.D8.I8(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.D8.I8(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",zu(new y(u.buffer),i[0],i[1]));case 10:throw new JX({cv:n,GY:i,Dv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),KX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new Yp([0,0]).PR,references:[]},tW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},nW=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).pEt=void 0,u.AEt=void 0,u.h0=void 0,u.$yt=void 0,u.pEt=new ZX(i),u.h0=r,u.AEt=e,u.$yt=s,u}U(n,t);var i=n.prototype;return i.abt=function(){var n=T.coroutine(le.mark(function n(i,r,e,s){var u;return le.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.abt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),fs(n.t0);case 9:return n.next=11,this.pEt.abt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.bEt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.bEt=function(){var t=T.coroutine(le.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.AEt){t.next=2;break}return t.abrupt("return");case 2:return s=this.h0.KK,u=YD(i,r),t.next=6,s.th(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,qX(o,this.AEt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.hEt(u,h,this.AEt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.h0.s0(function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.KK.GK(c,v.$yt);case 2:return t.next=4,n.n0.GK(f,v.$yt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new aH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.hEt=function(t,n,i){return{segmentMetadataEntry:_e({},KX,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:_e({},tW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}($X);var iW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.TEt=function(t,n,i,r,e,s,u){return new WX(t,n,i,r,e,s,u)},n}(function(){function t(t){this.Ob=t}return t.prototype.Pj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.cR.sources[0].useCredentials),e=new YX(this.Ob),s=new WP(this.Ob,r),u=new qP(n.i0,n.KK,n.n0,n.e0),o=function(t,n,i,r,e){return new nW(n,t,i,r,e)}(this.Ob,u,n,t.Hl,i),h=new VD,a=new YP(QP(s,u),h,t);return this.TEt(t,n,a,h,e,o,i)},t}());function rW(t){var n,i={get id(){return t.Hl},get status(){return t.rv},get source(){return t.cR},get parameters(){return t.Zh},get duration(){return t.L_},get cached(){return t.EEt.GS()},get secondsCached(){return t.SEt},get percentageCached(){return t.REt},get bytes(){return t.IEt},get bytesCached(){return t.NEt},get license(){return t.fD.Jd},start:function(){t.NR()},pause:function(){t.Ww()},remove:function(){t.Oh()},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)}};return n=new KT(t,i),i}var eW=function(){function t(t,n,i){this.B8=t,this.h0=n,this.HJ=i}var n=t.prototype;return n.CEt=function(){var t=T.coroutine(le.mark(function t(){var n=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.h0.s0(function(){var t=T.coroutine(le.mark(function t(i){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.DEt(i);case 2:return t.next=4,n.OEt(i);case 4:return t.next=6,n.xEt(i);case 6:return t.next=8,n.PEt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.DEt=function(){var t=T.coroutine(le.mark(function t(n){var i,r;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.r0,r=this.B8.Hl,t.next=4,i.Oh(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.OEt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o,h=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.KK,r=n.n0,e=QD(this.B8.cR.sources[0].src),t.next=5,i.ZK(e,"manifestURL");case 5:s=t.sent.filter(function(t){return ns(t.references,h.B8.Hl)}),u=0;case 7:if(!(u<s.length)){t.next=22;break}if(Ke((o=s[u]).references,this.B8.Hl),0!==o.references.length){t.next=17;break}return t.next=13,i.Oh(o.key);case 13:return t.next=15,r.Oh(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.GK(o);case 19:u++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xEt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u,o=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.i0,r=this.BEt(),t.next=4,i.QK(r);case 4:e=t.sent.filter(function(t){return ns(t.references,o.B8.Hl)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(Ke((u=e[s]).references,this.B8.Hl),0!==u.references.length){t.next=14;break}return t.next=12,i.Oh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.GK(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BEt=function(){if(!this.HJ)return[];var t=QD(this.B8.cR.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.Rmt;i<r.length;i++)for(var e=0,s=r[i].xmt;e<s.length;e++)for(var u=0,o=s[e].ap;u<o.length;u++)for(var h=0,a=o[u].zl;h<a.length;h++){var c=a[h];c.jmt&&n.push(c.jmt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.HJ).map(function(t){return{src:t}}).map(function(t){return QD(t.src)});return[t].concat(n)},n.PEt=function(){var t=T.coroutine(le.mark(function t(n){var i,r,e,s,u=this;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.e0,t.next=3,i.YK();case 3:r=t.sent.filter(function(t){return ns(t.references,u.B8.Hl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Ke((s=r[e]).references,this.B8.Hl),0!==s.references.length){t.next=14;break}return t.next=11,i.Oh(s.key);case 11:this.LEt(s),t.next=16;break;case 14:return t.next=16,i.GK(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LEt=function(t){},t}(),sW=new(function(){function t(){}return t.prototype.Pj=function(t,n,i){return new eW(t,n,i)},t}());var uW=function(){function t(t,n){this.Zd=void 0,this.an=t,this.MEt=n}var n=t.prototype;return n.q4=function(t){this.UEt(t)},n.UEt=function(){var t=T.coroutine(le.mark(function t(n){return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.MEt.sEt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.nmt(XF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"Jd",get:function(){var t;return this.Zd||(this.Zd=(t=this,{renew:function(n){t.q4(n)}})),this.Zd}}]),t}(),oW=function(t){function n(n,i,r,e,s,u){var h;(h=t.call(this)||this).Cy=void 0,h.Jyt=void 0,h.Zd=void 0,h.cgt=void 0,h.FEt=void 0,h.h0=void 0,h.MEt=void 0,h.HEt=new os,h.VEt=void 0,h.evictOnLoading=function(){h.Lo("Hyt",h.evictOnLoading),h.XEt()},h.Cy=n,h.cgt=i,h.FEt=r,h.h0=e,h.MEt=s.Pj(en(h),h.h0,u),h.VEt=new uW(en(h),h.MEt),h.Jyt=1===h.MEt.QTt.gmt?XF.DONE:XF.IDLE,h.MEt.Oo("wK",function(t){h.Co(t),1===h.REt&&h.nmt(XF.DONE)});var a=new Date,c=h.FEt.expirationDate.getTime()-a.getTime();return c<2147483647&&o(function(){return h.XEt()},c),h}U(n,t);var i=n.prototype;return i.nmt=function(t){this.Jyt!==t&&(this.Jyt=t,this.Do(new qF))},i.NR=function(){this.Jyt===XF.EVICTED||this.Jyt===XF.DONE||this.WEt()},i.WEt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.nmt(XF.LOADING),n=new os,this.HEt=n,t.next=6,this.MEt.YTt(n.So);case 6:this.nmt(XF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),as(t.t0)?this.nmt(XF.IDLE):this.nmt(XF.ERROR);case 12:return t.prev=12,this.HEt.wo(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Ww=function(){this.HEt.bo()},i.Oh=function(){this.rv===XF.LOADING?(this.Oo("Hyt",this.evictOnLoading),this.Ww()):this.XEt()},i.XEt=function(){var t=T.coroutine(le.mark(function t(){var n;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.MEt.eEt();case 3:return n=t.sent,t.next=6,sW.Pj(this,this.h0,n).CEt();case 6:this.MEt.QTt=eH.lmt(),this.nmt(XF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.nmt(XF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=rW(this)),this.Zd}},{key:"Hl",get:function(){return this.Cy}},{key:"fD",get:function(){return this.VEt}},{key:"rv",get:function(){return this.Jyt}},{key:"cR",get:function(){return this.cgt}},{key:"Zh",get:function(){return this.FEt}},{key:"L_",get:function(){return this.MEt.QTt.fI}},{key:"EEt",get:function(){return this.MEt.QTt.dmt}},{key:"SEt",get:function(){return this.MEt.QTt.vmt}},{key:"REt",get:function(){return this.MEt.QTt.gmt}},{key:"IEt",get:function(){return this.MEt.vEt}},{key:"NEt",get:function(){return this.MEt.QTt._mt}}]),n}(el);var hW=function(){function t(t,n){this.h0=t,this.qEt=n}var n=t.prototype;return n.smt=function(t,n,i){var r=Lb();return this.rmt(r,t,n,i)},n.rmt=function(t,n,i,r){return new oW(t,n,i,this.h0,this.qEt,r)},t}(),aW=30,cW=5;function fW(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(it(t)&&!yr(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,it(i)&&yr(i,"%")){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!it(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+aW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(st(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return cW;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var vW=function(t){function n(n,i){var r;return(r=t.call(this)||this).Zd=void 0,r.zEt=n,r.fB=i,r.zEt.Oo("Hyt",r.Co),r}return U(n,t),n.prototype.GEt=function(t,n,i){var r,e;if(!t)throw new f("Unexpected - The source description is undefined");if(r=ub(t),e=fW(n),ZA(r))throw new f("Invalid source description");return this.zEt.rmt(r,e).Jd},L(n,[{key:"Jd",get:function(){var t,n,i;return this.Zd||(this.Zd=(i={get status(){return t.rv},get tasks(){return t.hmt},get network(){return t.TB.Jd},createTask:function(n,i){return t.GEt(n,i)},addEventListener:function(t,i){n.Oo(t,i)},removeEventListener:function(t,i){n.Lo(t,i)}},n=new KT(t=this,i),i)),this.Zd}},{key:"rv",get:function(){return this.zEt.rv}},{key:"hmt",get:function(){return this.zEt.hmt.Jd}},{key:"TB",get:function(){return this.fB}}]),n}(el);(dW=new MT(b.zd,!1),lW=jD.je,_W=new iW(dW),gW=new hW(lW,_W),wW=new FT(dW),yW=new tH(lW.r0,gW,"persistent"),new vW(yW,wW)).Jd;var dW,lW,_W,gW,wW,yW,mW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Cy=void 0,s.Jyt=void 0,s.Zd=void 0,s.cgt=void 0,s.FEt=void 0,s.QU=0,s.jEt=Yp._I(),s.QEt=0,s.YEt=0,s.zEt=void 0,s.Cy=n,s.Jyt=XF.IDLE,s.cgt=i,s.FEt=r,s.zEt=e,s}U(n,t);var i=n.prototype;return i.NR=function(){this.zEt.startCachingTask(this)},i.Oh=function(){this.zEt.removeCachingTask(this)},L(n,[{key:"Jd",get:function(){return this.Zd||(this.Zd=rW(this)),this.Zd}},{key:"Hl",get:function(){return this.Cy}},{key:"rv",get:function(){return this.Jyt},set:function(t){this.Jyt!==t&&(this.Jyt=t,this.Do(new qF))}},{key:"cR",get:function(){return this.cgt}},{key:"Zh",get:function(){return this.FEt}},{key:"L_",get:function(){return this.QU},set:function(t){this.QU=t}},{key:"EEt",get:function(){return this.jEt},set:function(t){this.jEt=t}},{key:"SEt",get:function(){return this.QEt},set:function(t){this.QEt=t}},{key:"REt",get:function(){return this.YEt},set:function(t){this.YEt=t,this.Do(new rH)}}]),n}(sl),kW=30;function pW(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+kW),n&&((i=n)&&!(st(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var AW=function(t){function n(){var n;return(n=t.call(this)||this).Jyt=QF.UNINITIALISED,n.UB=new KF,n.Bwt=void 0,n.Jwt=void 0,n.ZEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.rv=XF.EVICTED,i.REt=0,i.SEt=0,i.L_=0,i.EEt=Yp._I(),n.UB.Oh(i))}},n.JEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.rv=r);var e=t.detail.percentage;e&&(i.REt=e);var s=t.detail.duration;s&&(i.L_=s);var u=t.detail.seconds;u&&(i.SEt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.EEt=new Yp(h)}}}},n.$Et=function(t){if(t.detail){var i=ub(JSON.parse(t.detail.source));if(!n.KEt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.rmt(i,pW(r),s)}}},n.tSt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.rmt(ub(e),pW(i),s);u.rv=t.detail.status,u.REt=t.detail.percentage,u.L_=t.detail.duration,u.SEt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.EEt=new Yp(h)}},n.nSt=function(t){t.detail&&n.nmt(t.detail.status)},n.Bwt=new UF,n.Jwt=new wF,fF().cache={sdkEventBus:n.Jwt},n._$(),n}U(n,t);var i=n.prototype;return i.nmt=function(t){this.Jyt!==t&&(this.Jyt=t,this.Do(new qF))},i.rmt=function(t,n,i){void 0===i&&(i=void 0);var r=new mW(i||Lb(),t,n,this);return this.UB.cg(r),i||this.Bwt.lj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Hl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.UB.jyt;n<i.length;n++){var r=i[n];if(r.Hl===t)return r}},i.KEt=function(t){for(var n=TW(t.sources),i=0,r=this.UB.jyt;i<r.length;i++){if(TW(r[i].cR.sources).src===n.src)return!0}return!1},i._$=function(){this.Jwt.addEventListener("deleteTask",this.ZEt),this.Jwt.addEventListener("updateValues",this.JEt),this.Jwt.addEventListener("newTask",this.$Et),this.Jwt.addEventListener("restoreTask",this.tSt),this.Jwt.addEventListener("setCacheStatus",this.nSt)},i.startCachingTask=function(t){this.Bwt.lj("THEOplayerCacheStartCachingTask",{id:t.Hl})},i.removeCachingTask=function(t){this.Bwt.lj("THEOplayerCacheRemoveCachingTask",{id:t.Hl})},L(n,[{key:"rv",get:function(){return this.Jyt}},{key:"hmt",get:function(){return this.UB}}]),n}(Ss),bW=function(t){function n(n){var i;return(i=t.call(this,n)||this).iSt=n,i.iSt.Oo("Hyt",i.Co),i}return U(n,t),n.prototype.GEt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=ub(t),r=pW(n),ZA(i))throw new f("Invalid source description");if(!TW(i.sources))throw new f("The provided sources can't be cached");return this.iSt.rmt(i,r).Jd},n}(vW);function TW(t){for(var n=0;n<t.length;n++){var i=t[n];if(kl(i.type))return i}}var EW,SW,RW=function(){var t=new AW;return new bW(t)}().Jd;!function(t){t.rSt="any",t.eSt="natural",t.sSt="landscape",t.uSt="portrait",t.oSt="portrait-primary",t.hSt="portrait-secondary",t.aSt="landscape-primary",t.cSt="landscape-secondary"}(EW||(EW={})),function(t){t.oSt="portrait-primary",t.hSt="portrait-secondary",t.aSt="landscape-primary",t.cSt="landscape-secondary"}(SW||(SW={}));var IW,NW,CW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Bwt=new UF,n.fSt=EW.eSt,n.vSt=SW.oSt,n.dSt=SW.oSt,n.lSt=SW.oSt,n}U(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,r){n.fSt=t,n.Bwt.lj("THEOplayerOrientationLock",t),n._St(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.fSt=EW.eSt,t.Bwt.lj("THEOplayerOrientationUnlock"),t.type=t.dSt,t._St(),n()})},i._St=function(){var t=this.lSt,n=this.type;t!==n&&(this.lSt=n,this.Do(new Is("change")))},i.addEventListener=function(t,n){this.Oo(t,n)},i.removeEventListener=function(t,n){this.Lo(t,n)},n.gSt=function(t){switch(t){case EW.oSt:return[SW.oSt];case EW.hSt:return[SW.hSt];case EW.uSt:return[SW.oSt,SW.hSt];case EW.aSt:return[SW.aSt];case EW.cSt:return[SW.cSt];case EW.sSt:return[SW.aSt,SW.cSt];case EW.eSt:return[SW.oSt,SW.aSt,SW.cSt];case EW.rSt:return[SW.oSt,SW.hSt,SW.aSt,SW.cSt]}},n.wSt=function(t,i){return n.gSt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.vSt},set:function(t){this.dSt=t,n.wSt(t,this.fSt)?(this.vSt=t,this._St()):(t===SW.aSt&&this.fSt===EW.cSt&&(this.vSt=SW.cSt,this._St()),t===SW.cSt&&this.fSt===EW.aSt&&(this.vSt=SW.aSt,this._St()))}},{key:"angle",get:function(){switch(this.type){case SW.aSt:return-90;case SW.cSt:return 90;case SW.oSt:return 0;case SW.hSt:return 180;default:return 0}}}]),n}(sl);CW.je=new CW,r.screen.orientation=CW.je,u&&-1===u.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.ySt="unavailable",t.mSt="available",t.kSt="presenting"}(IW||(IW={})),DE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return U(n,t),n.prototype.Gw=function(n){t.prototype.Gw.call(this,n);var i=this.Jd;this.Jd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===IW.kSt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(EW.cSt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},bE.RB),function(t){t.Gd="addtrack",t.Qd="removetrack",t.vl="change",t.yl="update"}(NW||(NW={}));var DW=function(t,n,i){this.type=NW.vl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},OW=function(t,n){this.type=NW.Gd,this.mediaType=t,this.mediaTrack=n},xW=function(t,n){this.type=NW.Qd,this.mediaType=t,this.mediaTrack=n},PW=function(t,n){this.type=NW.yl,this.mediaType=t,this.mediaTrack=n},BW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.pSt=function(t){var n=new DW(r.type,t.track,r.mediaTracks);r.messageDispatcher.ASt(n)},this.bSt=function(t){var n=new OW(r.type,t.track);r.messageDispatcher.ASt(n),t.track.addEventListener("update",r.TSt)},this.ESt=function(t){var n=new xW(r.type,t.track);r.messageDispatcher.ASt(n)},this.TSt=function(t){var n=new PW(r.type,t.track);r.messageDispatcher.ASt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this._$()}return t.prototype._$=function(){this.mediaTracks.addEventListener("change",this.pSt),this.mediaTracks.addEventListener("addtrack",this.bSt),this.mediaTracks.addEventListener("removetrack",this.ESt)},t}(),LW=function(){function t(){this.SSt=void 0,this.SSt=new UF}return t.prototype.ASt=function(t){this.SSt.lj(t.type,LU(t))},t}();PE(function(t){if(t.Jd.audioTracks){var n=new LW;new BW("audio",t.Jd.audioTracks,n)}if(t.Jd.videoTracks){var i=new LW;new BW("video",t.Jd.videoTracks,i)}});var MW,UW,FW=function(t){function n(){return t.apply(this,arguments)||this}return U(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case MW.RSt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Do(new HW(i));break;default:0}},n}(wF),HW=function(t){function n(n){var i;return(i=t.call(this,MW.RSt)||this).detail=n,i}return U(n,t),n}(Is);!function(t){t.RSt="registerContentProtectionIntegration"}(MW||(MW={})),function(t){t.ISt="certifiateRequest",t.NSt="certifiateResponse",t.CSt="licenseRequest",t.DSt="licenseResponse",t.OSt="extractFairplayContentId",t.xSt="buildContentProtection",t.PSt="registerContentProtectionCallback"}(UW||(UW={}));var VW,XW=function(t,n){this.type=UW.PSt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(VW||(VW={}));var WW,qW=function(t,n){this.type=UW.xSt,this.value=t,this.integrationId=n},zW=function(t,n){this.type=UW.ISt,this.value=t,this.integrationId=n},GW=function(t,n){this.type=UW.NSt,this.value=t,this.integrationId=n},jW=function(t,n){this.type=UW.OSt,this.value=t,this.integrationId=n},QW=function(t,n){this.type=UW.CSt,this.value=t,this.integrationId=n},YW=function(t,n){this.type=UW.DSt,this.value=t,this.integrationId=n},ZW=function(){function t(t,n){this.BSt=void 0,this.FT=void 0,this.BSt=t,this.FT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine(le.mark(function t(i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new zW(r,this.FT),t.prev=2,t.next=5,this.BSt.LSt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.MSt(u)){t.next=13;break}return o=_e({},u),t.abrupt("return",o);case 13:if(!this.USt(u)){t.next=16;break}return h=new y(u),t.abrupt("return",h);case 16:throw new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine(le.mark(function t(i){var r,e,s,u,o;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new GW(e,this.FT),t.next=5,this.BSt.LSt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new y(o));case 11:throw new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine(le.mark(function t(i){var r,e,s,u,o,h,a;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new QW(e,this.FT),t.prev=3,t.next=6,this.BSt.LSt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.MSt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.USt(o)){t.next=17;break}return a=new y(o),t.abrupt("return",a);case 17:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new P_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine(le.mark(function t(i){var r,e,s,u,o,h;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=_e({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new YW(s,this.FT),t.next=6,this.BSt.LSt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new y(h));case 12:throw new P_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine(le.mark(function t(i){var r,e;return le.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new jW(i,this.FT),t.next=3,this.BSt.LSt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",T.reject(new P_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.MSt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.USt=function(t){return!!new y(t)},t}(),JW=function(){function t(t){this.BSt=void 0,this.BSt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new ZW(this.BSt,t.integration),i=new qW({drmConfiguration:t},t.integration);return this.BSt.LSt(i),n},t}(),$W=function(){var t=this;this.Jwt=void 0,this.FSt=function(n){var i=new JW(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:Sm.zT.VT(e,s,i)};t.messageDispatcher.LSt(new XW(u,e))},this.Jwt=new FW,fF().contentProtectionIntegration={sdkEventBus:this.Jwt},this.Jwt.addEventListener(MW.RSt,this.FSt)},KW="nativePromiseCallback",tq=function(t){function n(n){var i;return(i=t.call(this,KW)||this).detail=n,i}return U(n,t),n}(Is);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(WW||(WW={}));var nq=function(t){function n(){return t.apply(this,arguments)||this}U(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Do(new tq(n))},i.addEventListener=function(t,n){this.Oo(t,n)},i.removeEventListener=function(t,n){this.Lo(t,n)},n}(wF),iq=function(){function t(){var t=this;this.SSt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case WW.RESOLVE:i._h(n.detail.data);break;case WW.REJECT:i.gh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new nq;fF().nativePromise={sdkEventBus:n},n.addEventListener(KW,this.handleNativePromiseEvent)}return t.prototype.LSt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=_e({},n,{promiseId:r}),s=new Yu;return this.promisesMap[r]=s,null==(i=this.SSt)||i.lj(n.type,PU(e)),s.lh},t}();iq.messageIdTracker=-1;var rq,eq=function(t){function n(){var n;return(n=t.call(this)||this).SSt=new UF,n}return U(n,t),n}(iq),sq=function(t){function n(){var n;return(n=t.call(this)||this).BSt=new eq,n}return U(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.BSt}}]),n}($W);PE(function(t){new sq}),function(t){t.HSt="airplaystatechange"}(rq||(rq={}));var uq=function(t){this.type=rq.HSt,this.state=t},oq=function(t){function n(n){var i;return(i=t.call(this)||this).VSt=void 0,i.XSt=function(t){var n=new uq(t.state);i.ASt(n)},i.VSt=n,i._$(n),i}return U(n,t),n.prototype._$=function(t){t.addEventListener("statechange",this.XSt)},n}(LW);PE(function(t){var n;null!=(n=t.Jd.cast)&&n.airplay&&new oq(t.Jd.cast.airplay)}),n.ChromelessPlayer=$E,n.Player=$E,n.cache=RW,n.createGlobals=lF,n.features=["hls","airplay"],n.getCueMirrorMap=vF,n.getGlobalId=dF,n.getSdkEventBridge=fF,n.playerSuiteVersion="2021.3.1",n.players=nS,n.registerContentProtectionIntegration=iS,n.utils=tS,n.version="2.88.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
