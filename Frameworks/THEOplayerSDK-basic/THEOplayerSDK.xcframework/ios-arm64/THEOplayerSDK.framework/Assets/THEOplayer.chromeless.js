/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.1 (3.1.1)
 Created: 2022-02-22T09:02:03.470Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,y=t.isNaN,m=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),A="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E=b(function(n,i){n.exports=function t(n,i,e){function s(o,h){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new v("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return s(i||t)},f,f.exports,t,n,i,e)}return i[o].exports}for(var u="function"==typeof r&&r,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function o(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function f(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},o.prototype.hasCustomScheduler=function(){return this.g},o.prototype.enableTrampoline=function(){this.M=!0},o.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},o.prototype.haveItemsQueued=function(){return this.R||this.B},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==h)h(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){h(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.M?f.call(this,t):this.F(function(){t.j()})}):(o.prototype.invokeLater=a,o.prototype.invoke=c,o.prototype.settlePromises=f),o.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},o.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},o.prototype.Y=function(){this.R=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=_.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===v||null!=f&&f.prototype instanceof v){if(h instanceof f)return e(u).call(a,h)}else if("function"==typeof f){var d=e(f).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Xt,a=n.ct,c=t("./errors").Warning,f=t("./util"),_=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;h(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",e,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+f.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?f.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}f.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,p=t,A=n;var i=v.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new v).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return h(i,v),i}var f=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,v);var p=v.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(v,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function v(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var d=i(h,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}d.isPending()&&d.rn(new a(this))}return d.J(f,v,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,f=a.tryCatch,d=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(d):d,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=f(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=f(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=f(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=f(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=f(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=_,e=(new v).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function v(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new v(t,i,u,s).promise()}h.inherits(v,i),v.prototype.Hn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},v.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},v.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},v.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&o.getPrototypeOf(t)===v.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&l(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new d(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new d("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=l(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,d),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,u,o,a,c,f=t("./util"),d=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=A.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(A,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in s.documentElement?(u=s.createElement("div"),o={attributes:!0},a=!1,c=s.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,o),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==h?function(t){h(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){a(this.handle)};var o=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,a;return void 0!==e?(s=n.resolve(e).J(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),a=h(function(){s.En()},+t),r.cancellation()&&s.ot(new u(a)),s.nn()),s.ti(),s};function f(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new u(h(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.J(f,d,void 0,a,void 0)).ot(a)):i=this.J(f,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){h(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+o.classString(s));var h=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,h=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=h?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,u=n("./es5"),h=void 0===o,a={e:{}},c=void 0!==t?t:void 0!==e?e:void 0!==A?A:void 0!==this?this:null;function f(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(u.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var o=0;o<s.length;++o){var h=s[o];if(!e[h]){e[h]=!0;var a=l.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=u.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&u.propertyIsWritable(t,"stack")}var b="stack"in new v?function(t){return p(t)?t:new v(m(t))}:function(t){if(p(t))return t;try{throw new v(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return u.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return u.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=u.names(t.prototype),i=u.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&u.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!u.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:u.isArray,asArray:E,notEnumerableProp:_,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof v.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=u.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{u.defineProperty(n,s,u.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new v}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var S,R=function(){},I=function(t){return t};function N(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&T.sr(r),r=T.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(S=E)&&S.config({warnings:!1,longStackTraces:!1});var C,D,O,x,P,B;S&&(x=S.setScheduler(R),C=x,P={hr:function(t){D=t,C(O)},ar:O=function(){var t=D;t&&(D=void 0,t())}},S.setScheduler(P.hr));function L(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function M(t,n,i){return n&&L(t.prototype,n),i&&L(t,i),t}function U(t,n){return(U=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function F(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,U(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(B||(B={}));var H=o?o.userAgent:"",V=H.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),X=H.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),W=H.match(/Android ([0-9\.]+)/i),q=H.match(/Windows NT ([0-9\.]+)/i),z=H.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),G=H.match(/Firefox\/([0-9\.]+)/i),j=H.match(/OPR\/(\d+\.\d+)/i),Q=H.match(/Tizen ([0-9\.]+)/i),Y=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(H)||/(macintosh|mac(?=_powerpc)\s)/i.test(H),this.pr=/Windows NT/i.test(H),this.Ar=q?w(q[1]):0,this.Tr=/Android/i.test(H),this.Er=W?w(W[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(H),this.Rr=/iPhone/i.test(H),this.Ir=/iPad/i.test(H),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(H),this.Dr=/Mobile Safari/i.test(H),this.Or=/EOSSTB/i.test(H),this.xr=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.Pr=this.Sr||this.xr||this.Tr||this.Dr,this.Br=/CriOS/i.test(H),this.Lr=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Br,this.Mr=this.Lr&&/Edg\//i.test(o.userAgent),this.Ur=X?g(X[1],10):0,this.Fr=Boolean(t.chrome||/Chrome/i.test(H)||/CriOS/i.test(H)),this.Hr=V?g(V[1],10):0,this.Vr=/SMART-TV.*Tizen/i.test(H),this.Xr=Q?w(Q[1]):0,this.Wr=/webos|web0s/i.test(H),this.qr=/Edge\/\d+/i.test(H),this.zr=/Trident/i.test(H),this.Gr=this.zr&&!t.ActiveXObject&&"ActiveXObject"in t,this.jr=/Vivaldi/i.test(H),this.Qr=/Firefox/i.test(H)&&!/Seamonkey/i.test(H),this.Yr=G?w(G[1]):0,this.Zr=/Safari/i.test(H)&&!/Chrome/i.test(H)&&!this.Sr&&!this.Vr,this.Jr=z?w(z[2]):0,this.$r=Boolean(j),this.Kr=j?w(j[1]):0,this.te=/CrKey/.test(H),this.ie=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(H),this.re="ios"===B._r,this.ee="ios"===B.dr,this.se=this.ee||this.re,this.ue="ios"===B.gr,this.oe="ios"===B.wr,this.he="ios"===B.yr}return M(n,[{key:"ae",get:function(){return this.mr}},{key:"ce",get:function(){return this.kr}},{key:"fe",get:function(){return this.pr}},{key:"ve",get:function(){return this.Ar}},{key:"de",get:function(){return this.Tr}},{key:"_e",get:function(){return this.Er}},{key:"we",get:function(){return this.Sr}},{key:"ye",get:function(){return this.Rr}},{key:"me",get:function(){return this.Ir}},{key:"ke",get:function(){return this.Nr}},{key:"pe",get:function(){return this.Cr}},{key:"Ae",get:function(){return this.xr}},{key:"be",get:function(){return this.Or}},{key:"Te",get:function(){return this.Dr}},{key:"Ee",get:function(){return this.Pr}},{key:"Se",get:function(){return this.Br}},{key:"Re",get:function(){return this.Lr}},{key:"Ie",get:function(){return this.Hr}},{key:"Ne",get:function(){return this.Mr}},{key:"Ce",get:function(){return this.Ur}},{key:"De",get:function(){return this.Vr}},{key:"Oe",get:function(){return this.Xr}},{key:"xe",get:function(){return this.Wr}},{key:"Pe",get:function(){return this.qr}},{key:"Be",get:function(){return this.zr}},{key:"Le",get:function(){return this.Gr}},{key:"Me",get:function(){return this.jr}},{key:"Ue",get:function(){return this.Qr}},{key:"Fe",get:function(){return this.Yr}},{key:"He",get:function(){return this.Zr}},{key:"Ve",get:function(){return this.Jr}},{key:"Xe",get:function(){return this.$r}},{key:"We",get:function(){return this.Kr}},{key:"qe",get:function(){return this.te}},{key:"ze",get:function(){return this.ie}},{key:"Ge",get:function(){if(!(this.xe||this.De))return!1;var t=this.Ie;return void 0===t||Number(t)<56}},{key:"je",get:function(){return this.re}},{key:"Qe",get:function(){return this.ee}},{key:"Ye",get:function(){return this.se}},{key:"Ze",get:function(){return this.ue}},{key:"Je",get:function(){return this.oe}},{key:"$e",get:function(){return this.he}},{key:"Ke",get:function(){return this.Fr}}]),n}();Y.ts=new Y;var Z=Y.ts,J={}.hasOwnProperty,$={}.toString;function K(t){return null!=t}var tt=Array.isArray||function(t){return"[object Array]"===$.call(t)};function nt(t){return it(t)&&J.call(t,"length")&&ht(t.length)}function it(t){return"object"==typeof t&&null!==t}function rt(t){return it(t)&&t.constructor&&t.constructor===l}function et(t){return"string"==typeof t}function st(t){return"boolean"==typeof t}function ut(t){return Boolean(t)&&"function"==typeof t.then}function ot(t){return"[object Date]"===$.call(t)}function ht(t){return"number"==typeof t}var at=!(Z.Be&&!Z.Le),ct=t.console;function ft(t){if(it(t))try{return JSON.stringify(t)}catch(t){}return t}function vt(t){return t.map(ft).join(" ")}function dt(t){var n=ct&&ct[t];return n?n.bind&&at?n.bind(ct):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ct[t](vt(i))}:void 0}var lt,_t=dt("log")||R,gt=dt("warn")||_t.bind(void 0,"WARNING:"),wt=dt("error")||_t.bind(void 0,"ERROR:"),yt=(lt=ct&&ct.assert)?lt.bind&&at?lt.bind(ct):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ct.assert(t,vt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.apply(void 0,["Assertion failed:"].concat(i))}},mt=pt,kt=null;try{kt=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function pt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function At(t){return!0===(t&&t.rs)}pt.prototype.rs,l.defineProperty(pt.prototype,"rs",{value:!0}),pt.isLong=At;var bt={},Tt={};function Et(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Tt[t])?r:(i=Rt(t,(0|t)<0?-1:0,!0),e&&(Tt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=bt[t])?r:(i=Rt(t,t<0?-1:0,!1),e&&(bt[t]=i),i)}function St(t,n){if(y(t))return n?Lt:Bt;if(n){if(t<0)return Lt;if(t>=Ot)return Vt}else{if(t<=-xt)return Xt;if(t+1>=xt)return Ht}return t<0?St(-t,n).neg():Rt(t%Dt|0,t/Dt|0,n)}function Rt(t,n,i){return new pt(t,n,i)}pt.fromInt=Et,pt.fromNumber=St,pt.fromBits=Rt;var It=_.pow;function Nt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Bt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return Nt(t.substring(1),n,i).neg();for(var e=St(It(i,8)),s=Bt,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=St(It(i,o));s=s.mul(a).add(St(h))}else s=(s=s.mul(e)).add(St(h))}return s.unsigned=n,s}function Ct(t,n){return"number"==typeof t?St(t,n):"string"==typeof t?Nt(t,n):Rt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}pt.fromString=Nt,pt.fromValue=Ct;var Dt=4294967296,Ot=Dt*Dt,xt=Ot/2,Pt=Et(1<<24),Bt=Et(0);pt.ZERO=Bt;var Lt=Et(0,!0);pt.UZERO=Lt;var Mt=Et(1);pt.ONE=Mt;var Ut=Et(1,!0);pt.UONE=Ut;var Ft=Et(-1);pt.NEG_ONE=Ft;var Ht=Rt(-1,2147483647,!1);pt.MAX_VALUE=Ht;var Vt=Rt(-1,-1,!0);pt.MAX_UNSIGNED_VALUE=Vt;var Xt=Rt(0,-2147483648,!1);pt.MIN_VALUE=Xt;var Wt=pt.prototype;Wt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Wt.toNumber=function(){return this.unsigned?(this.high>>>0)*Dt+(this.low>>>0):this.high*Dt+(this.low>>>0)},Wt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var n=St(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=St(It(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Wt.getHighBits=function(){return this.high},Wt.getHighBitsUnsigned=function(){return this.high>>>0},Wt.getLowBits=function(){return this.low},Wt.getLowBitsUnsigned=function(){return this.low>>>0},Wt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Wt.isZero=function(){return 0===this.high&&0===this.low},Wt.eqz=Wt.isZero,Wt.isNegative=function(){return!this.unsigned&&this.high<0},Wt.isPositive=function(){return this.unsigned||this.high>=0},Wt.isOdd=function(){return 1==(1&this.low)},Wt.isEven=function(){return 0==(1&this.low)},Wt.equals=function(t){return At(t)||(t=Ct(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Wt.eq=Wt.equals,Wt.notEquals=function(t){return!this.eq(t)},Wt.neq=Wt.notEquals,Wt.ne=Wt.notEquals,Wt.lessThan=function(t){return this.comp(t)<0},Wt.lt=Wt.lessThan,Wt.lessThanOrEqual=function(t){return this.comp(t)<=0},Wt.lte=Wt.lessThanOrEqual,Wt.le=Wt.lessThanOrEqual,Wt.greaterThan=function(t){return this.comp(t)>0},Wt.gt=Wt.greaterThan,Wt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Wt.gte=Wt.greaterThanOrEqual,Wt.ge=Wt.greaterThanOrEqual,Wt.compare=function(t){if(At(t)||(t=Ct(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Wt.comp=Wt.compare,Wt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Mt)},Wt.neg=Wt.negate,Wt.add=function(t){At(t)||(t=Ct(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,Rt((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Wt.subtract=function(t){return At(t)||(t=Ct(t)),this.add(t.neg())},Wt.sub=Wt.subtract,Wt.multiply=function(t){if(this.isZero())return Bt;if(At(t)||(t=Ct(t)),kt)return Rt(kt.mul(this.low,this.high,t.low,t.high),kt.get_high(),this.unsigned);if(t.isZero())return Bt;if(this.eq(Xt))return t.isOdd()?Xt:Bt;if(t.eq(Xt))return this.isOdd()?Xt:Bt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Pt)&&t.lt(Pt))return St(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,Rt((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Wt.mul=Wt.multiply,Wt.divide=function(t){if(At(t)||(t=Ct(t)),t.isZero())throw v("division by zero");var n,i,r;if(kt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Rt((this.unsigned?kt.div_u:kt.div_s)(this.low,this.high,t.low,t.high),kt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Lt:Bt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Lt;if(t.gt(this.shru(1)))return Ut;r=Lt}else{if(this.eq(Xt))return t.eq(Mt)||t.eq(Ft)?Xt:t.eq(Xt)?Mt:(n=this.shr(1).div(t).shl(1)).eq(Bt)?t.isNegative()?Mt:Ft:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Xt))return this.unsigned?Lt:Bt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Bt}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var e=_.ceil(_.log(n)/_.LN2),s=e<=48?1:It(2,e-48),u=St(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=St(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Mt),r=r.add(u),i=i.sub(o)}return r},Wt.div=Wt.divide,Wt.modulo=function(t){return At(t)||(t=Ct(t)),kt?Rt((this.unsigned?kt.rem_u:kt.rem_s)(this.low,this.high,t.low,t.high),kt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Wt.mod=Wt.modulo,Wt.rem=Wt.modulo,Wt.not=function(){return Rt(~this.low,~this.high,this.unsigned)},Wt.and=function(t){return At(t)||(t=Ct(t)),Rt(this.low&t.low,this.high&t.high,this.unsigned)},Wt.or=function(t){return At(t)||(t=Ct(t)),Rt(this.low|t.low,this.high|t.high,this.unsigned)},Wt.xor=function(t){return At(t)||(t=Ct(t)),Rt(this.low^t.low,this.high^t.high,this.unsigned)},Wt.shiftLeft=function(t){return At(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Rt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Rt(0,this.low<<t-32,this.unsigned)},Wt.shl=Wt.shiftLeft,Wt.shiftRight=function(t){return At(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Rt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Rt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Wt.shr=Wt.shiftRight,Wt.shiftRightUnsigned=function(t){if(At(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Rt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Rt(32===t?n:n>>>t-32,0,this.unsigned)},Wt.shru=Wt.shiftRightUnsigned,Wt.shr_u=Wt.shiftRightUnsigned,Wt.toSigned=function(){return this.unsigned?Rt(this.low,this.high,!1):this},Wt.toUnsigned=function(){return this.unsigned?this:Rt(this.low,this.high,!0)},Wt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Wt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Wt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},pt.fromBytes=function(t,n,i){return i?pt.fromBytesLE(t,n):pt.fromBytesBE(t,n)},pt.fromBytesLE=function(t,n){return new pt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},pt.fromBytesBE=function(t,n){return new pt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var qt=mt,zt=_.pow(2,-52);function Gt(t,n,i){return _.min(_.max(t,n),i)}function jt(t,n,i){return t===n||_.abs(t-n)<=i}function Qt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<zt||i<_.max(_.abs(t),_.abs(n))*zt}function Yt(t){return t!=t}function Zt(t,n){return t===n||Yt(t)&&Yt(n)}function Jt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function $t(){return Date.now()||(new Date).getTime()}function Kt(t){return t/1e3}var tn,nn=qt.fromNumber(9007199254740991);function rn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(nn))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function en(t){return t.es===tn.ss}function sn(t){return t.es===tn.us}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.ss=1]="ss",t[t.os=2]="os",t[t.us=3]="us",t[t.hs=4]="hs",t[t.as=9]="as"}(tn||(tn={}));var on=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(on.prototype=l.create(v.prototype)).constructor=on;var hn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(un(r),r.constructor),r}return F(n,t),M(n,[{key:"name",get:function(){return"BaseError"}}]),n}(on),an=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return F(n,t),n}(hn),cn=function(){function t(){}return t.prototype.cs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new an(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new an;return new wn(n)},t}(),fn=function(){function t(t){this.fs=void 0,this.fs=t}var n=t.prototype;return n.vs=function(t){return this.fs.isEqualNode(t.fs)},n.ds=function(n){return new t(this.fs.cloneNode(n))},M(t,[{key:"es",get:function(){return tn.os}},{key:"ls",get:function(){var t;return null!=(t=this.fs.localName)?t:kn(this.fs.nodeName)}},{key:"_s",get:function(){return this.fs.nodeName}},{key:"gs",get:function(){var t;return null!=(t=this.fs.namespaceURI)?t:void 0}},{key:"ys",get:function(){var t;return null!=(t=this.fs.prefix)?t:void 0}},{key:"ks",get:function(){return this.fs.nodeValue}}]),t}(),vn=function(){function t(t){this.ps=void 0,this.As=void 0,this.ps=t}var n=t.prototype;return n.bs=function(t){return this.Ts.filter(function(n){return yn(n)&&n.Es===t})},n.Ss=function(t,n){return this.Ts.filter(function(i){return yn(i)&&i.ls===n&&i.gs===t})},n.Rs=function(t){this.ps.appendChild(t.Is),this.As&&this.As.push(t)},n.vs=function(t){return this.ps.isEqualNode(t.Is)},M(t,[{key:"Ts",get:function(){return void 0===this.As&&(this.As=function(t){for(var n=[],i=0;i<t.length;i++){var r=mn(t.item(i));r&&n.push(r)}return n}(this.ps.childNodes)),this.As}},{key:"Ns",get:function(){return this.Ts.filter(yn)}},{key:"Is",get:function(){return this.ps}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.Cs=function(t){if(this.ps.hasAttribute(t))return this.ps.getAttribute(t)},i.Ds=function(t,n){if(this.ps.hasAttributeNS(t,n))return this.ps.getAttributeNS(t,n)},i.Os=function(t){this.ps.removeAttribute(t)},i.xs=function(t,n){this.ps.removeAttributeNS(t,n)},i.Ps=function(t,n){this.ps.setAttribute(t,n)},i.Bs=function(t,n,i){this.ps.setAttributeNS(t,n,i)},i.ds=function(t){return new n(this.ps.cloneNode(t))},M(n,[{key:"es",get:function(){return tn.ss}},{key:"ls",get:function(){var t;return null!=(t=this.ps.localName)?t:kn(this.ps.nodeName)}},{key:"gs",get:function(){var t;return null!=(t=this.ps.namespaceURI)?t:void 0}},{key:"ys",get:function(){var t;return null!=(t=this.ps.prefix)?t:void 0}},{key:"Es",get:function(){return this.ps.nodeName}},{key:"Ls",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.ps.attributes)}},{key:"Ms",get:function(){return this.ps.textContent}}]),n}(vn),ln=function(){function t(t){this.ps=void 0,this.ps=t}return t.prototype.vs=function(t){return this.Us===t.Us},M(t,[{key:"Us",get:function(){return this.ps.nodeValue}},{key:"Is",get:function(){return this.ps}}]),t}(),_n=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.ds=function(t){return new n(this.ps.cloneNode(t))},M(n,[{key:"es",get:function(){return tn.us}}]),n}(ln),gn=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.ds=function(t){return new n(this.ps.cloneNode(t))},M(n,[{key:"es",get:function(){return tn.hs}}]),n}(ln),wn=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.ds=function(t){return new n(this.ps.cloneNode(t))},M(n,[{key:"es",get:function(){return tn.as}},{key:"Fs",get:function(){return new dn(this.ps.documentElement)}}]),n}(vn);function yn(t){return en(t)}function mn(t){switch(t.nodeType){case tn.ss:return new dn(t);case tn.us:return new _n(t);case tn.hs:return new gn(t)}}function kn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function An(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){bn(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&bn(i,null,t.length,t),t}function bn(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var Tn=/[a-zA-Z]/,En=/[0-9]/,Sn=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,Nn=/^[0-9a-fA-F]+$/,Cn=/^[0-7]+$/,Dn=l.prototype.toString,On=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},xn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return On(t)?t:Array.from(t)}function Bn(t){return t>=65&&t<=90}function Ln(t){return Bn(t)||function(t){return t>=97&&t<=122}(t)}function Mn(t){return t>=48&&t<=57}function Un(t){return Mn(t)||Ln(t)}function Fn(t){return Mn(t)||t>=65&&t<=70||t>=97&&t<=102}function Hn(t){return Bn(t)?t+32:t}function Vn(t){return Mn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Xn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Wn=_.min,qn=String.fromCharCode,zn=16384;function Gn(t){for(var n=t.length,i=[],r=0;r<n;r+=zn){var e=Wn(r+zn,n);i.push(qn.apply(null,t.slice(r,e)))}return i.join("")}var jn=/[^\0-\x7E]/,Qn=/[\x2E\u3002\uFF0E\uFF61]/g,Yn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zn=_.floor,Jn=String.fromCharCode;function $n(t){throw new RangeError(Yn[t])}function Kn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var ti,ni,ii,ri=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var r=0;for(t=i?Zn(t/700):t>>1,t+=Zn(t/n);t>455;r+=36)t=Zn(t/35);return Zn(r+36*t/(t+38))},si=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Qn,".")).split("."),n).join(".");return r+e}(t,function(t){return jn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Kn(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Jn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Zn((2147483647-e)/_)&&$n("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&$n("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Jn(ri(p+A%b,0))),m=Zn(A/b)}n.push(Jn(ri(m,0))),s=ei(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Gn(n)}function oi(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function hi(t,n){return t>>n&63|128}function ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(oi(t),n.push(t>>12&15|224),n.push(hi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(hi(t,12)),n.push(hi(t,6))),n.push(63&t|128)):n.push(t)}function ci(t){for(var n=[],i=0;i<t.length;i++){ai(t[i],n)}return n}function fi(){if(ii>=ni)throw new v("Invalid byte index");var t=255&ti[ii];if(ii++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function vi(){var t,n;if(ii>ni)throw new v("Invalid byte index");if(ii===ni)return!1;if(t=255&ti[ii],ii++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return oi(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function di(t){return[37,Xn(t>>4),Xn(15&t)]}function li(t){return function(t){return t>=0&&t<=31}(t)||t>126}function _i(t){return li(t)||32===t||34===t||60===t||62===t||96===t}function gi(t){return _i(t)||35===t||63===t||123===t||125===t}function wi(t){return gi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function mi(t){return yi(t)||39===t}function ki(t,n){if(!n(t))return[t];for(var i=ci([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,di(s))}return r}function pi(t,n){for(var i=[],r=0,e=Kn(t);r<e.length;r++){var s=e[r];i.push.apply(i,ki(s,n))}return ui(i)}function Ai(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Fn(t[r+1])&&Fn(t[r+2])){var s=Vn(t[r+1])<<4|Vn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(ci(t))}function bi(t){return ui(function(t){ti=t.slice(),ni=ti.length,ii=0;for(var n,i=[];!1!==(n=vi());)i.push(n);return i}(Ai(Kn(t))))}function Ti(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Sn.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!En.test(t[a]))throw new d;for(;a<s&&En.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new d;return u}function Ei(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=Nn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Cn),""===t?0:i.test(t)?g(t,n):void 0}var Si={Hs:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Ni(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Hs:2,Vs:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new d("Invalid code point in opaque host");var n=pi(t,li);return""===n?Si:{Hs:3,nr:n}}(t);var i=function(t){return function(t){return si(t.toLowerCase())}(t)}(bi(t));if(Ri.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=Ei(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==r?{Hs:1,Vs:r}:""===i?Si:{Hs:0,Xs:i}}function Ci(t){switch(t.Hs){case 0:return t.Xs;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Vs);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Vs)+"]";case 3:return t.nr;case 4:return""}}var Di=/\+/g;function Oi(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Di," "),o=o.replace(Di," ");var h=bi(u),a=bi(o);i.push([h,a])}}return i}function xi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Pi(ci(Kn(r[0])))+"="+Pi(ci(Kn(r[1])))}return n}function Pi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Un(n)?i.push(e):i.push.apply(i,di(e))}return Gn(i)}var Bi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=Bi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Ui(s))if(Fi(s)||e===i-1)r.push(Mi);else{var u=t.charCodeAt(e+1);Fi(u)?(r.push(s,u),e++):r.push(Mi)}else r.push(s)}return t.slice(0,n)+Gn(r)}(n,i.index):n}var Mi=65533,Ui=function(t){return 55296==(63488&t)},Fi=function(t){return 0!=(1024&t)};function Hi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Vi(t){t.Ws.length=0}function Xi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ws,Oi(n))}function Wi(t){if(t.qs){var n=xi(t.Ws);""===n&&(n=null),t.qs.qs.zs=n}}var qi=function(){function t(t){if(void 0===t&&(t=void 0),this.qs=null,null==t)this.Ws=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof qi&&On(s.Ws)&&(!xn||s[Symbol.iterator]===zi))this.Ws=t.Ws.slice();else if(function(t){return null!=t&&(!!On(t)||!!xn&&"function"==typeof t[Symbol.iterator])}(t)){this.Ws=[];for(var n=0,i=Pn(t);n<i.length;n++){var r=Pn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Ws.push([Li(r[0]),Li(r[1])])}}else for(var e in this.Ws=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Ws.push([Li(e),Li(t[e])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ws=Oi(t);var s}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.Ws.push([t,n]),Wi(this)},n.delete=function(t){t=Li(t);for(var n=this.Ws,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Wi(this)},n.get=function(t){t=Li(t);for(var n=this.Ws,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.Ws,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Li(t);for(var n=this.Ws,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.Ws,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Wi(this)},n.sort=function(){An(this.Ws,Hi),Wi(this)},n.toString=function(){return xi(this.Ws)},n.entries=function(){return new Yi(this.Ws,Gi)},n.keys=function(){return new Yi(this.Ws,ji)},n.values=function(){return new Yi(this.Ws,Qi)},n.forEach=function(t){var n=this;this.Ws.forEach(function(i){return t(i[1],i[0],n)})},t}(),zi=qi.prototype.entries;xn&&(qi.prototype[Symbol.iterator]=zi);var Gi=function(t){return[t[0],t[1]]},ji=function(t){return t[0]},Qi=function(t){return t[1]},Yi=function(){function t(t,n){this.Gs=0,this.Ws=t,this.js=n}return t.prototype.next=function(){return this.Gs<this.Ws.length?{done:!1,value:this.js(this.Ws[this.Gs++])}:{done:!0,value:void 0}},t}(),Zi="null";var Ji=l.create(null);Ji.ftp=21,Ji.file=0,Ji.gopher=70,Ji.http=80,Ji.https=443,Ji.ws=80,Ji.wss=443;var $i=/^(?:\.|%2e)$/i,Ki=/^(?:\.|%2e){2}$/i;function tr(t){return $i.test(t)}function nr(t){return Ki.test(t)}function ir(t){return void 0!==Ji[t]}function rr(t){return ir(t.Qs)}function er(t){return""!==t.Ys||""!==t.Zs}function sr(t){var n=t.length;if(!(n>=2))return!1;if(!or(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ur(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function or(t){return 2===t.length&&ur(Gn(t))}function hr(t){return ur(t)&&":"===t[1]}function ar(t){var n=t.Js;0!==n.length&&("file"===t.Qs&&1===n.length&&hr(n[0])||n.pop())}function cr(t){return null===t.$s||Si===t.$s||t.Ks||"file"===t.Qs}var fr=-1,vr=/\t|\n|\r/g,dr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function lr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new gr,t=t.replace(dr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=Kn(t=t.replace(vr,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:fr;switch(e){case 0:if(!Ln(v)){if(null===r){s.length=0,e=2;continue}throw new d("Invalid scheme")}s.push(Hn(v)),e=1;break;case 1:if(Un(v)||43===v||45===v||46===v)s.push(Hn(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=ui(s);if(null!==r){if(ir(i.Qs)&&!ir(l))return;if(!ir(i.Qs)&&ir(l))return;if((er(i)||null!==i.tu)&&"file"===l)return;if("file"===i.Qs&&(i.$s===Si||null===i.$s))return}if(i.Qs=l,null!==r)return void(rr(i)&&i.tu===Ji[i.Qs]&&(i.tu=null));s.length=0,"file"===i.Qs?e=13:rr(i)&&n&&n.Qs===i.Qs?e=3:rr(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Ks=!0,i.Js.push(""),e=18)}break;case 2:if(!n||n.Ks&&35!==v)throw new d("Invalid scheme");n.Ks&&35===v?(i.Qs=n.Qs,i.Js=n.Js.slice(),i.zs=n.zs,i.nu="",i.Ks=!0,e=20):"file"!==n.Qs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Qs=n.Qs,fr===v?(i.Ys=n.Ys,i.Zs=n.Zs,i.$s=n.$s,i.tu=n.tu,i.Js=n.Js.slice(),i.zs=n.zs):47===v?e=6:63===v?(i.Ys=n.Ys,i.Zs=n.Zs,i.$s=n.$s,i.tu=n.tu,i.Js=n.Js.slice(),i.zs="",e=19):35===v?(i.Ys=n.Ys,i.Zs=n.Zs,i.$s=n.$s,i.tu=n.tu,i.Js=n.Js.slice(),i.zs=n.zs,i.nu="",e=20):92===v&&rr(i)?e=6:(i.Ys=n.Ys,i.Zs=n.Zs,i.$s=n.$s,i.tu=n.tu,i.Js=n.Js.slice(),i.Js.pop(),e=17,f-=1);break;case 6:!rr(i)||47!==v&&92!==v?47===v?e=9:(i.Ys=n.Ys,i.Zs=n.Zs,i.$s=n.$s,i.tu=n.tu,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var y=ui(ki(w,wi));h?i.Zs+=y:i.Ys+=y}else h=!0}s.length=0}else if(fr===v||47===v||63===v||35===v||rr(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Qs)f-=1,e=15;else if(58!==v||o)if(fr===v||47===v||63===v||35===v||rr(i)&&92===v){if(f-=1,rr(i)&&0===s.length)throw new d("Invalid host");if(null!==r&&0===s.length&&(er(i)||null!==i.tu))return;var m=Ni(ui(s),rr(i));if(i.$s=m,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=Ni(ui(s),rr(i));if(i.$s=k,s.length=0,e=12,11===r)return}break;case 12:if(Mn(v))s.push(v);else{if(!(fr===v||47===v||63===v||35===v||rr(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==s.length){var p=g(ui(s),10);if(p>65535)throw new d("Invalid port");i.tu=p===Ji[i.Qs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Qs="file",47===v||92===v?e=14:n&&"file"===n.Qs?fr===v?(i.$s=n.$s,i.Js=n.Js.slice(),i.zs=n.zs):63===v?(i.$s=n.$s,i.Js=n.Js.slice(),i.zs="",e=19):35===v?(i.$s=n.$s,i.Js=n.Js.slice(),i.zs=n.zs,i.nu="",e=20):(sr(a.slice(f))||(i.$s=n.$s,i.Js=n.Js.slice(),ar(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Qs&&!sr(a.slice(f))&&(hr(n.Js[0])?i.Js.push(n.Js[0]):i.$s=n.$s),e=17,f-=1);break;case 15:if(fr===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&or(s))e=17;else if(0===s.length){if(i.$s=Si,null!==r)return;e=16}else{var A=Ni(ui(s),rr(i));if(0===A.Hs&&"localhost"===A.Xs&&(A=Si),i.$s=A,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:rr(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.zs="",e=19):null===r&&35===v?(i.nu="",e=20):fr!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(fr===v||47===v||rr(i)&&92===v||null===r&&(63===v||35===v)){var b=ui(s);if(nr(b)?(ar(i),47===v||rr(i)&&92===v||i.Js.push("")):!tr(b)||47===v||rr(i)&&92===v?tr(b)||("file"===i.Qs&&0===i.Js.length&&or(s)&&(Si!==i.$s&&null!==i.$s&&(i.$s=Si),s[1]=58,b=ui(s)),i.Js.push(b)):i.Js.push(""),s.length=0,"file"===i.Qs&&(fr===v||63===v||35===v))for(;i.Js.length>1&&""===i.Js[0];)i.Js.shift();63===v?(i.zs="",e=19):35===v&&(i.nu="",e=20)}else s.push.apply(s,ki(v,gi));break;case 18:63===v?(i.zs="",e=19):35===v?(i.nu="",e=20):fr!==v&&(i.Js[0]+=ui(ki(v,li)));break;case 19:null===r&&35===v?(i.nu="",e=20):fr!==v&&(i.zs+=ui(ki(v,rr(i)?mi:yi)));break;case 20:fr===v||0===v||(i.nu+=ui(ki(v,_i)))}f++}return i}function _r(t,n,i,r){try{lr(t,n,i,r)}catch(t){}}var gr=function(){this.Qs="",this.Ys="",this.Zs="",this.$s=null,this.tu=null,this.Js=[],this.zs=null,this.nu=null,this.Ks=!1};function wr(t){switch(t.Qs){case"blob":var n;try{n=lr(t.Js[0],null)}catch(t){return Zi}return wr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Qs,r=t.$s,e=t.tu,i+"://"+Ci(r)+(null===e?"":":"+e);case"file":default:return Zi}var i,r,e}var yr,mr,kr,pr,Ar,br,Tr,Er=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Er&&"object"==typeof i.qs)e=n.qs;else try{e=lr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=lr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var s=r.zs;this.qs=r,this.zs=function(t){var n=new qi;return null!==t&&Xi(n,t),n}(s),this.zs.qs=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Qs+":";if(null!==t.$s?(i+="//",er(t)&&(i+=t.Ys,""!==t.Zs&&(i+=":"+t.Zs),i+="@"),i+=Ci(t.$s),null!==t.tu&&(i+=":"+t.tu)):null===t.$s&&"file"===t.Qs&&(i+="//"),t.Ks)i+=t.Js[0];else for(var r=0,e=t.Js;r<e.length;r++)i+="/"+e[r];return null!==t.zs&&(i+="?"+t.zs),n||null===t.nu||(i+="#"+t.nu),i}(this.qs)},set:function(t){var n;try{n=lr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.qs=n,Vi(this.zs);var i=this.qs.zs;null!==i&&Xi(this.zs,i)}},{key:"origin",get:function(){return wr(this.qs)}},{key:"protocol",get:function(){return this.qs.Qs+":"},set:function(t){_r(t+":",null,this.qs,0)}},{key:"username",get:function(){return this.qs.Ys},set:function(t){cr(this.qs)||(this.qs.Ys=pi(t,wi))}},{key:"password",get:function(){return this.qs.Zs},set:function(t){cr(this.qs)||(this.qs.Zs=pi(t,wi))}},{key:"host",get:function(){var t=this.qs,n=t.$s;if(null===n)return"";var i=t.tu,r=Ci(n);return null!==i&&(r+=":"+i),r},set:function(t){this.qs.Ks||_r(t,null,this.qs,10)}},{key:"hostname",get:function(){var t=this.qs.$s;return null===t?"":Ci(t)},set:function(t){this.qs.Ks||_r(t,null,this.qs,11)}},{key:"port",get:function(){var t=this.qs.tu;return null===t?"":""+t},set:function(t){cr(this.qs)||(""===t?this.qs.tu=null:_r(t,null,this.qs,12))}},{key:"pathname",get:function(){var t=this.qs.Js;return this.qs.Ks?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.qs.Ks||(this.qs.Js.length=0,_r(t,null,this.qs,16))}},{key:"search",get:function(){var t=this.qs.zs;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.qs;if(""===t)return n.zs=null,void Vi(this.zs);"?"===t[0]&&(t=t.slice(1)),n.zs="",_r(t,null,n,19),Xi(this.zs,t)}},{key:"searchParams",get:function(){return this.zs}},{key:"hash",get:function(){var t=this.qs.nu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.qs.nu="",_r(t,null,this.qs,20)):this.qs.nu=null}}])&&pn(n.prototype,i),r&&pn(n,r),t}();function Sr(t){return t.document&&t.document.baseURI||t.location.href||""}function Rr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ir(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Nr(t,n){Z.De&&Z.Oe<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Cr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Dr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Or(t){t.removeAttribute("title")}function xr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Pr(t){t.src&&(t.removeAttribute("src"),t.load())}function Br(){return void 0!==s?s.createElement("video"):void 0}function Lr(){return Tr||(Tr=Br()),Tr}var Mr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Ur=Lr(),Fr=!(!Ur||!Ur.webkitShowPlaybackTargetPicker),Hr=function(){function t(){this.iu=void 0,this.ru=!1,this.ae=Mr,this.Ee=!1,this.eu=!0,this.su=!0}var n=t.prototype;return n.uu=function(){return 0},n.ou=function(t,n){return!0},n.hu=function(t){return t>=1/6*2},M(t,[{key:"au",get:function(){return void 0===this.iu&&(this.iu=this.uu()),this.iu}},{key:"cu",get:function(){return e.devicePixelRatio||1}},{key:"fu",get:function(){return Fr}},{key:"vu",get:function(){return!1}},{key:"du",get:function(){return!0}},{key:"lu",get:function(){return Z.ce||Z.Ae}},{key:"_u",get:function(){return!0}},{key:"gu",get:function(){return!0}},{key:"wu",get:function(){}},{key:"yu",get:function(){return!0}}]),t}(),Vr=function(){var t=Br();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Z.ke)return!1;var t=Br();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Xr=function(t){function n(n){var i;return(i=t.call(this)||this).mu=void 0,i.mu=n,i.mu&&(i.ru=i.mu.ru,i.ae=i.mu.ae,i.eu=Vr&&i.mu.eu),i}F(n,t);var i=n.prototype;return i.uu=function(){return this.mu?this.mu.au:t.prototype.uu.call(this)},i.ou=function(n,i){return this.mu?this.mu.ou(n,i):t.prototype.ou.call(this,n,i)},i.hu=function(n){return this.mu?this.mu.hu(n):t.prototype.hu.call(this,n)},M(n,[{key:"wu",get:function(){var t;return null==(t=this.mu)?void 0:t.wu}},{key:"yu",get:function(){var t,n;return null==(t=null==(n=this.mu)?void 0:n.yu)||t}}]),n}(Hr),Wr=function(t){function n(n){var i;return(i=t.call(this,n)||this).ru=!0,i.Ee=!0,i}return F(n,t),n}(Xr),qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.uu=function(){return pr.MediaSource?t.prototype.uu.call(this):1},n}(Wr),zr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.ou=function(n,i){return!(i.ku>1920)&&t.prototype.ou.call(this,n,i)},M(n,[{key:"vu",get:function(){return Z.Oe<3}},{key:"du",get:function(){return Z.Oe>=3}}]),n}(Xr),Gr=function(t){function n(){return t.call(this)||this}return F(n,t),n}(Hr),jr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.ou=function(t,n){if(t&&t.pu&&n&&n.pu){var i=Qr(t.pu,"mp4a.40.2")&&Qr(n.pu,"mp4a.40.5"),r=Qr(t.pu,"mp4a.40.5")&&Qr(n.pu,"mp4a.40.2"),e=Qr(t.pu,"mp4a.40.2")&&Qr(n.pu,"mp4a.40.34"),s=Qr(t.pu,"mp4a.40.34")&&Qr(n.pu,"mp4a.40.2"),u=Qr(t.pu,"mp4a.40.5")&&Qr(n.pu,"mp4a.40.34"),o=Qr(t.pu,"mp4a.40.34")&&Qr(n.pu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},M(n,[{key:"wu",get:function(){if(Z.ce)return 4096}}]),n}(Gr);function Qr(t,n){return t.indexOf(n)>-1}var Yr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.hu=function(t){return t>=2},n}(Gr),Zr=function(t){function n(){var n;return(n=t.call(this)||this).ru=Z.Ve>=11,n.eu=Z.He&&!(Z.Ae&&Z.Ve<10),n}return F(n,t),n}(Gr),Jr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"_u",get:function(){return!1}}]),n}(Xr),$r=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"yu",get:function(){return!Z.fe||!!Z.Ne&&92!==Z.Ce}}]),n}(Gr),Kr=function(){function n(){var n;this.Au=void 0,this.bu=new cn,this.Tu=new te,this.Eu=(n=function(){if(Z.Ue)return new jr;if(Z.Pe||Z.Be)return new Yr;if(Z.He)return new Zr;if(Z.Re)return new $r;return new Gr}(),Z.Ae?new qr(n):Z.Ee?new Wr(n):Z.De?new zr(n):Z.xe?new Jr(n):new Xr(n)),this.Su=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Au=function(){return t.performance.now()}:this.Au=$t}var i=n.prototype;return i.Ru=function(){_t.apply(void 0,arguments)},i.Iu=function(){gt.apply(void 0,arguments)},i.Nu=function(){wt.apply(void 0,arguments)},i.Cu=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];yt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return h(t,n)},i.Du=function(t,n){return c(t,n)},i.sr=function(t){a(t)},i.Ou=function(t){f(t)},i.cs=function(t){return this.bu.cs(t)},i.xu=function(){return this.Pu.xu()},i.Bu=function(){return this.Pu.Bu()},i.Lu=function(){return this.Pu.Lu()},i.Mu=function(){return this.Pu.Mu()},i.Uu=function(){return this.Pu.Uu()},i.Fu=function(t,n){return this.Pu.Fu(t,n)},i.Hu=function(t){return this.Pu.Hu(t)},i.Vu=function(t,n){var i;return void 0===n&&(n=Sr(pr)),i="object"!=typeof n||n instanceof Er?n:n.href,new Er(t,i)},i.Xu=function(n,i){if(void 0===i&&(i=Sr(pr)),this.Su){var r=et(i)?i:i.toString();return new t.URL(n,r).href}return this.Vu(n,i).href},M(n,[{key:"Wu",get:function(){return this.Tu}},{key:"qu",get:function(){return this.Eu}},{key:"zu",get:function(){return{Gu:o&&o.userAgent.match(/Android /i)?"Android":"other",ju:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Qu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Yu",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),te=function(){function t(){}return M(t,[{key:"Zu",get:function(){return o.oscpu}},{key:"qu",get:function(){return o.platform}},{key:"Ju",get:function(){return o.vendor}},{key:"$u",get:function(){return o.vendorSub}}]),t}();var ne=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=l.create(e.prototype),u=new D(r||[]);return s.Ku=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new v("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.to=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=l.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Ku(n,t)}})}function R(t){var n;this.Ku=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"io")?Promise.resolve(c.io).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(E),t},t.awrap=function(t){return{io:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.to=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)});function ie(){return(ie=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function re(){var t=l.create(null);return t.ro=void 0,delete t.ro,t}function ee(){return new ae}function se(){return new fe}function ue(t){var n=ee();for(var i in t)J.call(t,i)&&n.set(i,t[i]);return n}var oe,he="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ae=he||(oe=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=re(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=re(),this.size=0},n.keys=function(){return new oe(this.data,function(t,n){return n})},n.values=function(){return new oe(this.data,function(t,n){return t[n]})},n.entries=function(){return new oe(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var ce,fe=he||(ce=function(){function t(t,n){this.eo=void 0,this.so=void 0,this.eo=t,this.so=n}var n=t.prototype;return n.next=function(){var t=this.eo.next();return t.done?t:{value:this.so(t.value),done:!1}},t}(),function(){function t(){this.uo=ee()}var n=t.prototype;return n.get=function(t){return this.uo.get(""+t)},n.set=function(t,n){return this.uo.set(""+t,n),this},n.has=function(t){return this.uo.has(""+t)},n.delete=function(t){return this.uo.delete(""+t)},n.clear=function(){this.uo.clear()},n.keys=function(){return new ce(this.uo.keys(),function(t){return Number(t)})},n.values=function(){return this.uo.values()},n.entries=function(){return new ce(this.uo.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.uo.forEach(function(n,i){t(n,Number(i))})},M(t,[{key:"size",get:function(){return this.uo.size}}]),t}());var ve,de="urn:mpeg:dash:mp4protection:2011",le="cenc",_e="sinf",ge="skd",we="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ye="com.microsoft.playready",me="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ke="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",pe="urn:uuid:"+ke,Ae="com.apple.fps.1_0";!function(t){t.oo="playready",t.ho="widevine",t.ao="fairplay",t.co="clearkey",t.fo="aes128"}(ve||(ve={}));var be={vo:ve.oo,do:ye,lo:"cenc",_o:"9a04f079-9840-4286-ab92-e65be0885f95",wo:we,yo:"PlayReady"},Te={vo:ve.ho,do:"com.widevine.alpha",lo:"cenc",_o:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",wo:me,yo:"Widevine"},Ee={vo:ve.ao,do:Ae,lo:"skd",_o:ke,wo:pe,yo:"FairPlay"},Se=(ve.ao,{vo:ve.co,do:"org.w3.clearkey",lo:"cenc",_o:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",wo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",yo:"ClearKey"}),Re=[be,Te,Ee,Se];function Ie(t){return Re.filter(function(n){return n.wo===t.toLowerCase()})}function Ne(t,n,i){return t.split(n).join(i)}function Ce(t,n){return null!=t&&-1!==t.indexOf(n)}function De(t,n){return null!=t&&t.substr(0,n.length)===n}function Oe(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function xe(t,n){return t.toUpperCase()===n.toUpperCase()}function Pe(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Be(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Pe(r,e/r.length)),r.slice(0,e)+t)}function Le(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ue(n)}var Me=16384;function Ue(t){var n=t.length;if(n<=Me)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Me)i.push(String.fromCharCode.apply(String,t.slice(r,r+Me)));return i.join("")}var Fe=Z.Re&&Z.Ie>=42||Z.Ue&&Z.Fe>=38||Z.Pe||Z.Le||Z.Xe&&Z.We>=29;function He(t,n){return Ce(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ie({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ie({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Ve(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Xe(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var We=function(){function t(t){this.mo=void 0,this.ko=ee(),this.po=void 0,this.mo=t}var n=t.prototype;return n.Uu=function(){return this.Hu(Te)},n.Bu=function(){return this.Hu(Se)},n.Mu=function(){return this.Hu(be)},n.Lu=function(){return this.Hu(Ee)},n.Hu=function(t){var n=t.wo,i=this.ko.get(n);if(i)return i;var r=this.Fu(t,'video/mp4; codecs="avc1.42000a"');return this.ko.set(n,r),r},n.Fu=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.mo.Ao(n.do,[He(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.mo.Ao(n.do,[He(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.xu=function(){return this.po||(this.po=this.bo()),this.po},n.bo=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==Ar.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Fe){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Bu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function qe(t,n){return Ge(t.slice(),n)}function ze(t,n){var i=Ge(t,n);return i!==t&&je(i,void 0,t.length,t),t}function Ge(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){je(i,n,s,e);var u=i;i=e,e=u}return i}function je(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function Qe(t,n,i){var r=Ye(t,n,i);return-1===r?void 0:t[r]}function Ye(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Ze(t,n){var i=t.indexOf(n);return-1!==i&&(Je(t,i),!0)}function Je(t,n){t.splice(n,1)}function $e(t,n){return-1!==t.indexOf(n)}function Ke(t){t.length=0}function ts(t){var n;return(n=[]).concat.apply(n,t)}function ns(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}function is(t,n){return rs.apply(this,arguments)}function rs(){return(rs=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=10;break}return e=n[r],t.next=5,i(e);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function es(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}var ss=function(){function t(){this.To=!1,this.Eo=!1,this.So=[],this.Ro=[]}var n=t.prototype;return n.Io=function(){if(!this.To&&!this.Eo){this.To=!0;for(var t=0,n=this.So.slice();t<n.length;t++){(0,n[t])()}this.No()}},n.No=function(){if(!this.Eo){this.Eo=!0;for(var t=0,n=this.Ro.slice();t<n.length;t++){(0,n[t])()}Ke(this.So),Ke(this.Ro)}},n.Co=function(t){this.Eo||this.So.push(t)},n.Do=function(t){this.Eo||Ze(this.So,t)},n.Oo=function(t){this.Eo||this.Ro.push(t)},n.xo=function(t){this.Eo||Ze(this.Ro,t)},t}(),us=function(){function t(){this.Po=new ss}var n=t.prototype;return n.Bo=function(){this.Po.Io()},n.No=function(){this.Po.No()},n.Lo=function(t){var n=this.Po;if(!n.To)if(t.To)n.Io();else if(!n.Eo&&!t.Eo){var i=function(){r(),n.Io()},r=function r(){t.Do(i),t.xo(r),n.Do(i),n.xo(r)};t.Co(i),t.Oo(r),n.Co(i),n.Oo(r)}},n.Mo=function(){var n=new t,i=new t,r=n.Uo,e=i.Uo,s=this.Po,u=function(){r.To&&e.Eo||e.To&&r.Eo?s.Io():r.Eo&&e.Eo&&s.No()};r.Co(u),e.Co(u),r.Oo(u),e.Oo(u),n.Lo(s),i.Lo(s);return s.Oo(function(){r.Do(u),e.Do(u),r.xo(u),e.xo(u)}),[n,i]},M(t,[{key:"Uo",get:function(){return this.Po}}]),t}(),os=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"AbortError"}}]),n}(hn);function hs(t){return t instanceof v&&"AbortError"===t.name}function as(t){if(t&&t.To)throw new os}function cs(t){if(hs(t))throw t}function fs(t){if(!hs(t))throw t}function vs(t,n){return n?new E(function(i,r){if(n.To)return t.catch(R),r(new os);var e=function t(){n.Do(t),r(new os)};n.Co(e),t.then(function(t){n.Do(e),i(t)},function(t){n.Do(e),r(t)})}):t}function ds(t,n){return t.then(function(t){return n.No(),t},function(t){throw n.No(),t})}function ls(t,n){var i=new us;return n&&i.Lo(n),t(i.Uo).then(function(t){return i.Bo(),t},function(t){throw i.Bo(),t})}var _s=E.resolve();function gs(t){_s.then(t)}function ws(t){t.then(R,R)}function ys(t){return ms.apply(this,arguments)}function ms(){return(ms=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,E.all(n.map(function(t){return t.catch(R)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ks(t,n){return new E(function(i,r){if(void 0!==n&&n.To)r(new os);else{var e=T.ur(function(){void 0!==n&&n.Do(s),i()},t),s=function(){T.sr(e),r(new os)};void 0!==n&&n.Co(s)}})}function ps(t){return t&&"function"!=typeof t?t.slice():t}function As(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var bs,Ts=function(){function t(t){var n=this;this.Fo=re(),this.Ho=void 0,this.Vo=void 0,this.Xo=function(t){n.Wo(t)},this.Vo=t||this}var n=t.prototype;return n.qo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.zo(r,n)}},n.zo=function(t,n){var i=this.Fo[t];i?"function"==typeof i?this.Fo[t]=[i,n]:i.push(n):this.Fo[t]=n},n.Go=function(t){if("function"==typeof t){var n=this.Ho;n?"function"==typeof n?this.Ho=[n,t]:n.push(t):this.Ho=t}},n.jo=function(){this.Fo=re(),this.Ho=void 0},n.Wo=function(t){var n=ps(this.Fo[t.type]),i=ps(this.Ho);As(this.Vo,t,n),As(this.Vo,t,i)},n.Qo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Yo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Yo(r,n)}},n.Yo=function(t,n){var i=this.Fo[t];i&&("function"==typeof i?i===n&&(this.Fo[t]=void 0):Ze(i,n))},n.Zo=function(t){if("string"==typeof t)this.Fo[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Fo[i]=void 0}},n.Jo=function(t){var n=this.Ho;n&&("function"==typeof n?n===t&&(this.Ho=void 0):Ze(n,t))},n.$o=function(t,n){var i=this;return new E(function(r,e){if(n&&n.To)return e(new os);var s=function(t){o(),r(t)},u=function(){o(),e(new os)},o=function(){i.Qo(t,s),n&&n.Do(u)};i.qo(t,s),n&&n.Co(u)})},t}(),Es=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Wo=function(n){var i=this;gs(function(){t.prototype.Wo.call(i,n)})},n}(Ts),Ss=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Rs=["cenc"],Is=["cbcs","cbcs-1-9"],Ns=function(t){function n(n){var i;return(i=t.call(this,"th")||this).Ko=n,i}return F(n,t),n}(Ss),Cs=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"nh")||this).Ko=n,s.ih=i,s.nh=r,s.rh=e,s}return F(n,t),n}(Ss),Ds=function(t){function n(){return t.call(this,"eh")||this}return F(n,t),n}(Ss);!function(t){t.sh="uh",t.oh="hh"}(bs||(bs={}));var Os=function(t){function n(n,i){var r;return(r=t.call(this,bs.sh)||this).lo=n,r.ah=i,r}return F(n,t),n}(Ss),xs=function(t){function n(){return t.call(this,bs.oh)||this}return F(n,t),n}(Ss),Ps=new m([0]).buffer,Bs=function(){function t(){this.fh=void 0,this.fh=[]}var n=t.prototype;return n.vh=function(t){for(var n=0,i=this.fh;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.dh=function(t){for(var n=0,i=this.fh;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.lh=function(t,n){this.fh.forEach(function(n){return t(n[1],n[0])},n)},n._h=function(t,n){this.fh.push([t,n])},n.gh=function(){Ke(this.fh)},M(t,[{key:"wh",get:function(){return this.fh.length}}]),t}(),Ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ms=16383,Us=/[\t\n\f\r ]/g;function Fs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hs()}function Hs(){throw new v("Invalid base64 input")}function Vs(t){var n=t;Us.test(n)&&(n=n.replace(Us,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Hs();for(var e,s=0===r?0:4-r,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Fs(n.charCodeAt(h))<<18|Fs(n.charCodeAt(h+1))<<12|Fs(n.charCodeAt(h+2))<<6|Fs(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Fs(n.charCodeAt(h))<<2|Fs(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Fs(n.charCodeAt(h))<<10|Fs(n.charCodeAt(h+1))<<4|Fs(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function Xs(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Ls[r>>2]+Ls[(3&r)<<4|e>>4]+Ls[(15&e)<<2|s>>6]+Ls[63&s]));return u.join("")}function Ws(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=Ms)r.push(Xs(t,s,_.min(e,s+Ms)));if(1===i){var u=t[n-1];r.push(Ls[u>>2]+Ls[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Ls[o>>2]+Ls[(3&o)<<4|h>>4]+Ls[(15&h)<<2]+"=")}return r.join("")}var qs=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],zs=ArrayBuffer.isView||function(t){return t&&$e(qs,$.call(t))};function Gs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function js(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Qs(t,n)}function Qs(t,n){for(var i=new m(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}function Ys(t){return Vs(t).buffer}function Zs(t){return Ws(new m(t))}function Js(t){return Ws(Ou(t))}var $s=function(){function t(t){void 0===t&&(t=0),this.yh=t}var n=t.prototype;return n.mh=function(t){this.yh+=t},n.kh=function(t){this.yh=t},n.ph=function(){return new t(this.Ah)},M(t,[{key:"Ah",get:function(){return this.yh}}]),t}();function Ks(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function tu(t,n){return t>>n&63|128}function nu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ks(t),n.push(t>>12&15|224),n.push(tu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(tu(t,12)),n.push(tu(t,6))),n.push(63&t|128)):n.push(t)}function iu(t,n){if(n.Ah>=t.length)throw new v("Invalid byte index");var i=255&t[n.Ah];if(n.mh(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function ru(t,n){var i=n.Ah;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.mh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|iu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|iu(t,n)<<6|iu(t,n);if(s>=2048)return Ks(s),s;throw new v("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|iu(t,n)<<12|iu(t,n)<<6|iu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var eu=65279;var su=[128,64,32,16,8,4,2,1],uu=function(){function t(t){this.bh=t}return t.prototype.Th=function(t){return ou(this.bh,t)},t}();function ou(t,n){return(t&n)===n}function hu(t,n){return ou(t,su[n])}function au(t,n){var i=t.getUint8(n.Ah);return n.mh(1),i}function cu(t,n,i){t.setUint8(n.Ah,i),n.mh(1)}function fu(t,n,i){var r=Uu(Vu(t),n.Ah,n.Ah+i);return n.mh(r.byteLength),r}function vu(t,n,i){Vu(t).set(Vu(i),n.Ah),n.mh(i.byteLength)}function du(t,n,i){return n.Ah+i<=t.byteLength}function lu(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=au(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+au(t,n);return r}(t,n,i)}function _u(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Ah,i);return n.mh(2),r}function gu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Ah,i,r),n.mh(2)}function wu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Ah,i);return n.mh(4),r}function yu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Ah,i,r),n.mh(4)}function mu(t,n,i){void 0===i&&(i=!1);var r=wu(t,n,i),e=wu(t,n,i),s=i?e:r,u=i?r:e;return qt.fromBits(u,s,!0)}function ku(t,n){var i=au(t,n);if(i)return String.fromCharCode(i)}function pu(t,n){return Tu(t,n)}function Au(t,n,i){for(var r="",e=0;e<i;e++)r+=ku(t,n);return r}function bu(t,n){var i,r=au(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&au(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&au(t,n))+(63&au(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&au(t,n))+64*(63&au(t,n))+(63&au(t,n))),i}function Tu(t,n){return Eu(t,n,!0)}function Eu(t,n,i){for(var r=[];n.Ah<t.byteLength;){var e=au(t,n);if(i&&!e)break;r.push(e)}return Ue(r)}function Su(t,n){if(n.Ah+2<=t.byteLength){var i=t.getUint8(n.Ah),r=t.getUint8(n.Ah+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Ru(t,n){var i=Su(t,n);return void 0!==i&&n.mh(2),Iu(t,n,!0===i)}function Iu(t,n,i){return void 0===i&&(i=!1),Nu(t,n,i,!0)}function Nu(t,n,i,r){for(var e=[];n.Ah+2<=t.byteLength;){var s=_u(t,n,i);if(r&&!s)break;e.push(s)}return Ue(e)}function Cu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){gu(t,n,i.charCodeAt(s),r)}}function Du(t){return Eu(Hu(t),new Gu,!1)}function Ou(t){var n=new m(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)cu(t,n,i.charCodeAt(e))}(Hu(n),new Gu,t),n}function xu(t,n){return void 0===n&&(n=!1),Nu(Hu(t),new Gu,n,!1)}function Pu(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return Cu(Hu(i),new Gu,t,n),i}function Bu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.Ah+3<=t.byteLength&&239===t.getUint8(n.Ah)&&187===t.getUint8(n.Ah+1)&&191===t.getUint8(n.Ah+2)})(t,n)&&n.mh(3);for(;n.Ah<t.byteLength;){var e=bu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Le(r)}(t,n,!0)}function Lu(t){return Le(function(t,n){var i,r=[],e=new Gu;if(!n){if(!1===(i=ru(t,e)))return r;i===eu||r.push(i)}for(;!1!==(i=ru(t,e));)r.push(i);return r}(Vu(t)))}function Mu(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)nu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Uu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Fu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Hu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vu(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Xu(t){return t instanceof ArrayBuffer||zs(t)}function Wu(t){return t instanceof ArrayBuffer?new m(t):Vu(t)}function qu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):zu(Uu(t,n,i))}function zu(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var Gu=function(){function t(t){void 0===t&&(t=0),this.yh=t}var n=t.prototype;return n.mh=function(t){this.yh+=t},n.kh=function(t){this.yh=t},n.ph=function(){return new t(this.Ah)},n.Eh=function(){return new $s(this.Ah<<3)},M(t,[{key:"Ah",get:function(){return this.yh}}]),t}();function ju(t){var n=t,i=0,r=0;De(n,"0x")&&(n=n.substring(2));var e=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var Qu=function(){function t(){var t=this;this.Sh=void 0,this.zn=void 0,this.Z=void 0,this.Sh=new E(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.Rh=function(t){this.zn&&(this.zn(t),this.No())},n.Ih=function(t){this.Z&&(this.Z(t),this.No())},n.Bo=function(){this.Sh.catch(R),this.Ih(new os)},n.No=function(){this.zn=void 0,this.Z=void 0},t}();function Yu(){return new m([8,4]).buffer}function Zu(t){return Gs(t,Yu())}function Ju(t,n){return t===ye?function(t){if(t.byteLength<2*$u.length)return t;if(xu(new DataView(t,0,2*$u.length),!0)===$u)return t;return n=t,Pu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Zs(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var $u="<PlayReady";var Ku=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).Nh=void 0,s.Ch=void 0,s.Nh=i,s.Ch=r,s}return F(n,t),n}(hn),to=function(t){function n(n,i){var r;(r=t.call(this)||this).Dh=void 0,r.Oh=!1,r.xh=void 0,r.Ph=void 0,r.Bh=function(){r.Lh()},r.Mh=function(t){r.Wo(new Cs(un(r),t.messageType,Ju(r.Uh,t.message)))},r.Fh=function(){r.Oh=!0,r.Dh.wh>0&&(r.Dh.gh(),r.Wo(new Ns(un(r)))),r.Hh.removeEventListener("keystatuseschange",r.Bh),r.Hh.removeEventListener("message",r.Mh)},r.Hh=n,r.Uh=i,r.Hh.addEventListener("keystatuseschange",r.Bh),r.Hh.addEventListener("message",r.Mh),r.Dh=new Bs;var e=[];return r.Hh.closed&&e.push(E.resolve(r.Hh.closed)),r.Ph=new Qu,e.push(r.Ph.Sh),r.xh=E.race(e).then(r.Fh,r.Fh),r.Lh(),r}F(n,t);var i=n.prototype;return i.Vh=function(){if(this.Oh)return this.xh;var t=[];return t.push(E.resolve(this.Hh.close())),t.push(ks(1e3)),this.Ph.Rh(E.race(t).catch(no)),this.Oh=!0,this.xh},i.Xh=function(t,n,i){return E.resolve(this.Hh.generateRequest(t,n)).catch(no)},i.Wh=function(t){return E.resolve(this.Hh.load(t)).catch(no)},i.qh=function(){return E.resolve(this.Hh.remove()).catch(no)},i.zh=function(t){return E.resolve(this.Hh.update(t)).catch(no)},i.Lh=function(){var t=this;this.Dh.gh(),this.Hh.keyStatuses.forEach(function(n,i){t.Gh(i,n)}),this.Wo(new Ns(this))},i.Gh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Wu(t);if(this.Uh===ye&&16===r.byteLength){var e=Hu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Uh===ye&&"status-pending"===n&&(n="usable"),this.Dh._h(r,n)},M(n,[{key:"jh",get:function(){return this.xh}},{key:"Qh",get:function(){return this.Hh.expiration}},{key:"Yh",get:function(){return this.Dh}},{key:"Zh",get:function(){return this.Hh.sessionId}}]),n}(Ts);function no(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new Ku(t.message,void 0,n,t)}var io=function(){function t(t,n,i){this.Jh=t,this.$h=n,this.Kh=i}var n=t.prototype;return n.ta=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new to(this.Jh.createSession(n),this.$h));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.na=function(t){return E.resolve(this.Jh.setServerCertificate(t))},n.ia=function(t){return E.resolve(t.setMediaKeys(this.Jh))},n.ra=function(t){return E.resolve(t.setMediaKeys(null))},t}(),ro=function(){function t(t,n,i){this.ea=t,this.Uh=n,this.sa=i}var n=t.prototype;return n.ua=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ea.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new io(n,this.Uh,this.sa));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.oa=function(){return this.sa},M(t,[{key:"$h",get:function(){return this.ea.keySystem}}]),t}(),eo={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function so(t){return Ce(t,eo.APPLICATION_MP4)||Ce(t,eo.VIDEO_MP4)||Ce(t,eo.AUDIO_MP4)}var uo=function(){function t(t,n){this.vo=void 0,this.ha=void 0,this.vo=t,this.ha=n}return t.prototype.aa=function(t){for(var n=0,i=this.ha;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function oo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new uo(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=ho(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=ho(e.substr(u));f&&s.push(f)}return new uo(r,s)}function ho(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ao(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function co(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ca:r.ca},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return fo(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return fo(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function fo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!$e(n,r.encryptionScheme))&&(!r.robustness&&t(i,ao(r.contentType))))}function vo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function lo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function _o(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(go))||!(!t.videoCapabilities||!t.videoCapabilities.some(go))}function go(t){return!t.robustness}function wo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(ie({},e,{robustness:n}))}return i}var yo=function(){function t(){}return t.prototype.Ao=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,h,a,c,f;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ca}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=lo(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=lo(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(_o)){t.next=14;break}return u=i.map(function(t){return i="SW_SECURE_CRYPTO",ie({},n=t,{videoCapabilities:n.videoCapabilities?wo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?wo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,u);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new ro(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new ro(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.fa=function(){return Ve()},t}(),mo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Oh=!1,r.va=void 0,r.da=void 0,r.la=void 0,r._a=void 0,r.ga=void 0,r.Fh=function(){r.Oh=!0,r.va.Rh(void 0),r.ga&&(r.ga.removeEventListener("mskeyclose",r.Fh),r.ga.removeEventListener("mskeymessage",r.wa),r.ga.removeEventListener("mskeyerror",r.ya),r.ga.removeEventListener("mskeyadded",r.ma))},r.wa=function(t){r.la&&(r.la.Rh(void 0),r.la=void 0),r.Wo(new Cs(un(r),"license-request",zu(t.message).buffer,t.destinationURL||void 0))},r.ya=function(){var t=r.ga&&r.ga.error;if(t){var n=new Ku("Unknown CDM error",t.code,t.systemCode);if(r.la)r.la.Ih(n),r.la=void 0;else if(r.da)r.da.Ih(n),r.da=void 0;else switch(n.Nh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ka("output-not-allowed");break;default:r.ka("internal-error")}}},r.ma=function(){r.la&&(r.ka("usable"),r.la.Rh(void 0),r.la=void 0),r.da&&(r.ka("usable"),r.da.Rh(void 0),r.da=void 0)},r.pa=n,r.Aa=i,r.va=new Qu,r._a=new Bs,r}F(n,t);var i=n.prototype;return i.Xh=function(){var t=E.coroutine(ne.mark(function t(n,i,r){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ba(),this.la=new Qu,this.ta(Wu(i),r),t.next=5,this.la.Sh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ta=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.Ta;return(i=n?this.pa.createSession(this.Aa,t,r):this.pa.createSession(this.Aa,t)).addEventListener("mskeyclose",this.Fh),i.addEventListener("mskeymessage",this.wa),i.addEventListener("mskeyerror",this.ya),i.addEventListener("mskeyadded",this.ma),this.ga=i,this.ka("status-pending"),i},i.Wh=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ba(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.da=new Qu,this.ba(),this.ga){t.next=4;break}return t.abrupt("return",E.resolve());case 4:if(0!==(i=Wu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.ga.update(i),t.next=10,this.da.Sh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Vh=function(){return!this.Oh&&this.ga&&(this.Oh=!0,this.ga.close()),this.va.Sh},i.qh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ba(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ba=function(){if(this.Oh)throw new d("Already closing or closed.")},i.ka=function(t){this._a.gh(),this._a._h(Ps,t),this.Wo(new Ns(this))},M(n,[{key:"Zh",get:function(){return this.ga&&this.ga.sessionId||""}},{key:"Qh",get:function(){return NaN}},{key:"jh",get:function(){return this.va.Sh}},{key:"Yh",get:function(){return this._a}}]),n}(Ts),ko=function(){function t(t,n,i){this.Aa=void 0,this.pa=t,this.$h=n,this.Kh=i;var r=vo(i)||"video/mp4";this.Aa=ao(r)}var n=t.prototype;return n.ta=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new mo(this.pa,this.Aa));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.na=function(t){return E.resolve(!1)},n.ia=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.pa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.pa),t.removeEventListener("loadedmetadata",i)}),E.resolve()},n.ra=function(t){return E.resolve()},t}(),po=function(){function t(t,n){this.Uh=t,this.Ea=n}var n=t.prototype;return n.oa=function(){return this.Ea},n.ua=function(){var t=new pr.MSMediaKeys(this.Uh);return E.resolve(new ko(t,this.Uh,this.Ea))},M(t,[{key:"$h",get:function(){return this.Uh}}]),t}(),Ao=function(){function t(){}return t.prototype.Ao=function(t,n){try{return E.resolve(function(t,n){if(!bo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(To,Rs,t,r);if(e)return new po(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.fa=function(){return bo()},t}();function bo(){return void 0!==pr.MSMediaKeys&&"function"==typeof pr.MSMediaKeys.isTypeSupported}function To(t,n){return pr.MSMediaKeys.isTypeSupported(t,n)}var Eo,So,Ro=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).va=new Qu,e.Sa=void 0,e._a=new Bs,e.Ra=void 0,e.Ia=new Qu,e.ya=function(){var t=e.Ra&&e.Ra.error;if(t){var n=new Ku("Unknown CDM error",t.code,t.systemCode);e.Sa?(e.Sa.Ih(n),e.Sa=void 0):n.Nh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ka("output-not-allowed"):e.ka("internal-error"),e.Wo(new Ds)}},e.wa=function(t){e.Sa&&(e.Sa.Rh(void 0),e.Sa=void 0),e.Wo(new Cs(un(e),"license-request",zu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Na=n,e.Aa=i,e.Ca=r,e}F(n,t);var i=n.prototype;return i.Xh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Da;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Io(Wu(n),r,this.Ca);return this.Ra=this.Na.createSession(this.Aa,e),this.Ra.addEventListener("webkitkeymessage",this.wa,!1),this.Ra.addEventListener("webkitkeyerror",this.ya,!1),this.ka("usable"),this.Ia.Rh(this.Ra),this.Ia=new Qu,E.resolve()},i.Wh=function(t){return E.resolve(!0)},i.zh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Wu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Sa=new Qu,t.t0=this.Ra,t.t0){t.next=9;break}return t.next=8,this.Ia.Sh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Sa.Sh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Vh=function(){var t=this.Ra;return t&&(t.removeEventListener("webkitkeymessage",this.wa,!1),t.removeEventListener("webkitkeyerror",this.ya,!1),t.close()),this.Ia.Bo(),this.va.Rh(void 0),this.va.Sh},i.qh=function(){return E.resolve(void 0)},i.ka=function(t){this._a.gh(),this._a._h(Ps,t),this.Wo(new Ns(this))},M(n,[{key:"Zh",get:function(){return this.Ra?this.Ra.sessionId:""}},{key:"Qh",get:function(){return NaN}},{key:"jh",get:function(){return this.va.Sh}},{key:"Yh",get:function(){return this._a}}]),n}(Ts);function Io(t,n,i){var r=Lu(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new Gu;return yu(o,h,e,!0),Cu(o,h,r,!0),yu(o,h,s,!0),Cu(o,h,n,!0),yu(o,h,i.byteLength,!0),vu(o,h,i),new m(u)}(Eo=n.ErrorCode||(n.ErrorCode={}))[Eo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Eo[Eo.LICENSE_ERROR=2e3]="LICENSE_ERROR",Eo[Eo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Eo[Eo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Eo[Eo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Eo[Eo.SOURCE_INVALID=3e3]="SOURCE_INVALID",Eo[Eo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Eo[Eo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Eo[Eo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Eo[Eo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Eo[Eo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Eo[Eo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Eo[Eo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Eo[Eo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Eo[Eo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Eo[Eo.NETWORK_ERROR=6e3]="NETWORK_ERROR",Eo[Eo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Eo[Eo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Eo[Eo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Eo[Eo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Eo[Eo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Eo[Eo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Eo[Eo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Eo[Eo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Eo[Eo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Eo[Eo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Eo[Eo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Eo[Eo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Eo[Eo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Eo[Eo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Eo[Eo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Eo[Eo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Eo[Eo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Eo[Eo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Eo[Eo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Eo[Eo.AD_ERROR=1e4]="AD_ERROR",Eo[Eo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Eo[Eo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(So=n.ErrorCategory||(n.ErrorCategory={}))[So.CONFIGURATION=1]="CONFIGURATION",So[So.LICENSE=2]="LICENSE",So[So.SOURCE=3]="SOURCE",So[So.MANIFEST=4]="MANIFEST",So[So.MEDIA=5]="MEDIA",So[So.NETWORK=6]="NETWORK",So[So.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",So[So.SUBTITLE=8]="SUBTITLE",So[So.VR=9]="VR",So[So.AD=10]="AD",So[So.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var No=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return F(i,t),M(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(hn),Co=function(){function t(t,n,i){this.Aa=void 0,this.Ca=void 0,this.Na=t,this.$h=n,this.Kh=i;var r=vo(i)||"video/mp4";this.Aa=ao(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Na},i.ta=function(){var t=E.coroutine(ne.mark(function t(i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ca){t.next=2;break}throw new No(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ro(this.Na,this.Aa,this.Ca));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.na=function(t){return this.Ca=Wu(t),E.resolve(!0)},i.ia=function(t){return t.webkitSetMediaKeys(this.Na),E.resolve()},i.ra=function(t){return t.webkitSetMediaKeys(null),E.resolve()},t}(),Do=function(){function t(t,n){this.Uh=t,this.Ea=n}var n=t.prototype;return n.oa=function(){return this.Ea},n.ua=function(){var t=new pr.WebKitMediaKeys(this.Uh);return E.resolve(new Co(t,this.Uh,this.Ea))},M(t,[{key:"$h",get:function(){return this.Uh}}]),t}(),Oo=function(){function t(){}return t.prototype.Ao=function(t,n){try{return E.resolve(function(t,n){if(t!==Ae)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!xo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Po,Is,t,r);if(e)return new Do(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.fa=function(){return xo()},t}();function xo(){return void 0!==pr.WebKitMediaKeys&&"function"==typeof pr.WebKitMediaKeys.isTypeSupported}function Po(t,n){return pr.WebKitMediaKeys.isTypeSupported(t,n)}var Bo,Lo=function(){function t(t){this.Oa=t}return t.prototype.Ao=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Oa;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.Ao(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Mo=function(t){function n(n){var i;return(i=t.call(this)||this).la=void 0,i.Sa=void 0,i.va=void 0,i.xa=!1,i.Pa=void 0,i.Ba=void 0,i.La=void 0,i.Ma=void 0,i.Ua=void 0,i.Uh=n,i.va=new Qu,i.Ba="",i.Ua=new Qu,i.La=new Bs,i}F(n,t);var i=n.prototype;return i.Fa=function(){this.Sa&&(this.ka("usable"),this.Sa.Rh(void 0),this.Sa=void 0)},i.Ha=function(t){var n=new Ku("Unknown CDM error",t.errorCode,t.systemCode);this.Sa?(this.Sa.Ih(n),this.Sa=void 0):this.la?(this.la.Ih(n),this.la=void 0):n.Nh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ka("output-restricted"):1===n.Ch?this.ka("expired"):this.ka("internal-error")},i.Va=function(t){0!==t.message.byteLength&&(this.la&&(this.la.Rh(void 0),this.la=void 0),this.Wo(new Cs(this,"license-request",Ju(this.Uh,zu(t.message).buffer),t.defaultURL||void 0)))},i.Xa=function(t){this.Ma||(this.Ma=t,this.Ua.Rh(t))},i.Vh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.xa=!0,this.va.Rh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Xh=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.la=new Qu,this.Pa=Wu(i),t.t0=this.Ma,t.t0){t.next=8;break}return t.next=7,this.Ua.Sh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Uh,this.Pa),t.next=12,this.la.Sh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wh=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zh=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Sa=new Qu,t.t0=this.Ma,t.t0){t.next=7;break}return t.next=6,this.Ua.Sh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Uh,Wu(n),this.Pa,this.Zh),t.next=11,this.Sa.Sh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.xa)throw new d("Already closing or closed.")},i.ka=function(t){this.La.gh(),this.La._h(Ps,t),this.Wo(new Ns(this))},M(n,[{key:"Yh",get:function(){return this.La}},{key:"Zh",get:function(){return this.Ba},set:function(t){this.Ba=t}},{key:"jh",get:function(){return this.va.Sh}},{key:"Qh",get:function(){return NaN}}]),n}(Ts),Uo=function(){function t(t,n){var i=this;this.Ma=void 0,this.Wa=ee(),this.qa=[],this.ma=function(t){var n=i.za(t.sessionId);n&&n.Fa()},this.Ga=function(t){var n=i.za(t.sessionId);n&&n.Ha(t)},this.ja=function(t){var n=i.za(t.sessionId);n&&n.Va(t)},this.$h=t,this.Kh=n}var n=t.prototype;return n.ia=function(t){return this.Ma=t,this.Ma.addEventListener("webkitkeyadded",this.ma),this.Ma.addEventListener("webkitkeyerror",this.Ga),this.Ma.addEventListener("webkitkeymessage",this.ja),this.Wa.forEach(function(n,i){return n.Xa(t)}),this.qa.forEach(function(n){return n.Xa(t)}),E.resolve()},n.ra=function(t){return t.removeEventListener("webkitkeyadded",this.ma),t.removeEventListener("webkitkeyerror",this.Ga),t.removeEventListener("webkitkeymessage",this.ja),this.Ma=void 0,E.resolve()},n.ta=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Mo(this.$h),this.Ma&&e.Xa(this.Ma),this.qa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.na=function(t){return E.resolve(!1)},n.za=function(t){if(t){var n=this.Wa.get(t);return n||((n=this.qa.shift())?(n.Zh=t,this.Wa.set(t,n),n):void 0)}},t}(),Fo=function(){function t(t,n){this.$h=t,this.Qa=n}var n=t.prototype;return n.ua=function(){return E.resolve(new Uo(this.$h,this.Qa))},n.oa=function(){return this.Qa},t}(),Ho=function(){function t(){}return t.prototype.Ao=function(t,n){try{return E.resolve(Vo(t,n))}catch(t){return E.reject(t)}},t.fa=function(){return Xe()},t}();function Vo(t,n){if(!Ho.fa())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=co(Xo,Rs,t,r);if(e)return new Fo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Xo(t,n){var i=Lr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Wo(){return Bo||(Bo=function(){var t=[];Oo.fa()&&t.push(new Oo);yo.fa()&&t.push(new yo);Ao.fa()&&t.push(new Ao);Ho.fa()&&t.push(new Ho);return new Lo(t)}()),Bo}var qo=function(){function t(){this.Ya=ee()}var n=t.prototype;return n.gh=function(t){this.Ya.delete(t)},n.Za=function(){this.Ya.clear()},n.dh=function(t){return this.Ya.get(t)},n.Ja=function(t,n){this.Ya.set(t,n)},t}(),zo=function(){function t(){}return t.$a=function(){return t.ts||(t.ts=Go.fa()?new Go:new qo),t.ts},t.gh=function(n){t.$a().gh(n)},t.Za=function(){t.$a().Za()},t.dh=function(n){return t.$a().dh(n)},t.Ja=function(n,i){t.$a().Ja(n,i)},t}();zo.ts=void 0;var Go=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.fa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.gh=function(n){t.sessionStorage.removeItem(n)},r.Za=function(){t.sessionStorage.clear()},r.dh=function(n){return t.sessionStorage[n]},r.Ja=function(n,i){t.sessionStorage[n]=i},i}(zo);var jo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function Qo(t,n,i){var r=jo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var Yo,Zo;!function(t){t.Ka="tc",t.nc="ic",t.rc="contentprotectionerror",t.ec="contentprotectionsuccess",t.sc="currentsourcechange",t.uc="destroy",t.oc="durationchange",t.hc="emptied",t.sh="encrypted",t.ac="ended",t.cc="fc",t.vc="loadstart",t.dc="manifestupdate",t.lc="nosupportedrepresentationfound",t._c="offline",t.gc="online",t.wc="pause",t.yc="play",t.mc="progress",t.kc="ratechange",t.pc="representationchange",t.Ac="resize",t.bc="seeked",t.Tc="seeking",t.Ec="segmentnotfound",t.Sc="Rc",t.Ic="Nc",t.Cc="sourcechange",t.Dc="timeupdate",t.Oc="volumechange",t.xc="Pc",t.Bc="metricschange"}(Yo||(Yo={})),function(t){t.Lc="arraybuffer",t.Mc="json",t.Uc="stream",t.us="text"}(Zo||(Zo={}));var Jo=function(){function t(n){var i=this;this.uo=void 0,this.uo={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=$o(i),r=Ko(r);var e=i.toLowerCase();if(this.uo.hasOwnProperty(e)){var s=this.uo[e],u=s[1];s[1]=u?u+", "+r:r}else this.uo[e]=[i,r]},n.delete=function(t){var n=$o(t).toLowerCase();delete this.uo[n]},n.get=function(t){var n=$o(t).toLowerCase();return this.uo.hasOwnProperty(n)?this.uo[n][1]:null},n.has=function(t){var n=$o(t).toLowerCase();return this.uo.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=$o(i)).toLowerCase();this.uo[r]=[i,Ko(n)]},n.forEach=function(t,n){for(var i in this.uo)this.uo.hasOwnProperty(i)&&t.call(n,this.uo[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.uo)if(this.uo.hasOwnProperty(n)){var i=this.uo[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Fc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Hc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Vc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function $o(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Ko(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function nh(){}var ih=Number.isNaN||function(t){return t!=t},rh=nh;function eh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function sh(t){return t.slice()}function uh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ih(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function oh(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function hh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ch(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ch(e,t,i)}}}return function(){return mh(void 0)}}function ah(t,n,i){var r=t[n];if(void 0!==r)return oh(r,t,i)}function ch(t,n,i){try{return mh(oh(t,n,i))}catch(t){return kh(t)}}function fh(t){return t}function vh(t){if(t=Number(t),ih(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function dh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var lh=E,_h=E.prototype.then,gh=E.resolve.bind(lh),wh=E.reject.bind(lh);function yh(t){return new lh(t)}function mh(t){return gh(t)}function kh(t){return wh(t)}function ph(t,n,i){return _h.call(t,n,i)}function Ah(t,n,i){ph(ph(t,n,i),void 0,rh)}function bh(t,n){Ah(t,n)}function Th(t,n){Ah(t,void 0,n)}function Eh(t,n,i){return ph(t,n,i)}function Sh(t){ph(t,void 0,rh)}var Rh=function(){function t(){this.Xc=0,this.Wc=0,this.Ni={qc:[],zc:void 0},this.Gc=this.Ni,this.Xc=0,this.Wc=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Wc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Gc,i=n;16383===n.qc.length&&(i={qc:[],zc:void 0}),n.qc.push(t),i!==n&&(this.Gc=i,n.zc=i),++this.Wc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Xc,r=i+1,e=t.qc,s=e[i];return 16384===r&&(n=t.zc,r=0),--this.Wc,this.Xc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Xc,i=this.Ni,r=i.qc;!(n===r.length&&void 0===i.zc||n===r.length&&(n=0,0===(r=(i=i.zc).qc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Xc;return t.qc[n]},t}();function Ih(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Nh(t,n){t.jc=!0,t.Qc=n,n.Yc=t,"readable"===n.Zc?xh(t):"closed"===n.Zc?function(t){xh(t),Lh(t)}(t):Ph(t,n.Jc)}function Ch(t,n){return Hc(t.Qc,n)}function Dh(t){"readable"===t.Qc.Zc?Bh(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ph(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Qc.Yc=void 0,t.Qc=void 0}function Oh(t){return new d("Cannot "+t+" a stream using a released reader")}function xh(t){t.xh=yh(function(n,i){t.$c=n,t.Kc=i})}function Ph(t,n){xh(t),Bh(t,n)}function Bh(t,n){Sh(t.xh),t.Kc(n),t.$c=void 0,t.Kc=void 0}function Lh(t){t.$c(void 0),t.$c=void 0,t.Kc=void 0}var Mh=th("[[CancelSteps]]"),Uh=th("[[PullSteps]]");function Fh(t,n){void 0===n&&(n=!1);var i=new Gh(t);return i.jc=n,i}function Hh(t){return yh(function(n,i){var r={zn:n,Z:i};t.Yc.tf.push(r)})}function Vh(t,n,i){var r=t.Yc;r.tf.shift().zn(Ih(n,i,r.jc))}function Xh(t){return t.Yc.tf.length}function Wh(t){var n=t.Yc;return void 0!==n&&!!jh(n)}var qh,zh,Gh=function(){function t(t){if(!1===Uc(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Fc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Nh(this,t),this.tf=new Rh}return l.defineProperty(t.prototype,"closed",{get:function(){return jh(this)?this.xh:kh(Yh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return jh(this)?void 0===this.Qc?kh(Oh("cancel")):Ch(this,t):kh(Yh("cancel"))},t.prototype.read=function(){return jh(this)?void 0===this.Qc?kh(Oh("read from")):Qh(this):kh(Yh("read"))},t.prototype.releaseLock=function(){if(!jh(this))throw Yh("releaseLock");if(void 0!==this.Qc){if(this.tf.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Dh(this)}},t}();function jh(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"tf")}function Qh(t){var n=t.Qc;return n.nf=!0,"closed"===n.Zc?mh(Ih(void 0,!0,t.jc)):"errored"===n.Zc?kh(n.Jc):n.if[Uh]()}function Yh(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof th.asyncIterator&&((qh={})[th.asyncIterator]=function(){return this},zh=qh,l.defineProperty(zh,th.asyncIterator,{enumerable:!1}));var Zh={next:function(){if(!1===Jh(this))return kh($h("next"));var t=this.rf;return void 0===t.Qc?kh(Oh("iterate")):Eh(Qh(t),function(n){var i=n.done;return i&&Dh(t),Ih(n.value,i,!0)})},return:function(t){if(!1===Jh(this))return kh($h("next"));var n=this.rf;if(void 0===n.Qc)return kh(Oh("finish iterating"));if(n.tf.length>0)return kh(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.ef){var i=Ch(n,t);return Dh(n),Eh(i,function(){return Ih(t,!0,!0)})}return Dh(n),mh(Ih(t,!0,!0))}};function Jh(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"rf")}function $h(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Kh(t){var n=t.Fn.shift();return t.sf-=n.size,t.sf<0&&(t.sf=0),n.value}function ta(t,n,i){if(!uh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.sf+=i}function na(t){t.Fn=new Rh,t.sf=0}void 0!==zh&&l.setPrototypeOf(Zh,zh),l.defineProperty(Zh,"next",{enumerable:!1}),l.defineProperty(Zh,"return",{enumerable:!1});var ia=th("[[AbortSteps]]"),ra=th("[[ErrorSteps]]"),ea=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ua(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=dh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Ta.prototype);var s=hh(n,"write",1,[e]),u=hh(n,"close",0,[]),o=hh(n,"abort",1,[]);Ea(t,e,function(){return ah(n,"start",[e])},s,u,o,i,r)}(this,t,r=vh(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===oa(this))throw Oa("locked");return ha(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===oa(this)?kh(Oa("abort")):!0===ha(this)?kh(new d("Cannot abort a stream that already has a writer")):aa(this,t)},t.prototype.close=function(){return!1===oa(this)?kh(Oa("close")):!0===ha(this)?kh(new d("Cannot close a stream that already has a writer")):!0===la(this)?kh(new d("Cannot close an already-closing stream")):ca(this)},t.prototype.getWriter=function(){if(!1===oa(this))throw Oa("getWriter");return sa(this)},t}();function sa(t){return new wa(t)}function ua(t){t.Zc="writable",t.Jc=void 0,t.uf=void 0,t.hf=void 0,t.af=new Rh,t.cf=void 0,t.ff=void 0,t.vf=void 0,t.df=void 0,t.lf=!1}function oa(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"hf")}function ha(t){return void 0!==t.uf}function aa(t,n){var i=t.Zc;if("closed"===i||"errored"===i)return mh(void 0);if(void 0!==t.df)return t.df._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=yh(function(i,e){t.df={_n:void 0,zn:i,Z:e,Pn:n,_f:r}});return t.df._n=e,!1===r&&va(t,n),e}function ca(t){var n=t.Zc;if("closed"===n||"errored"===n)return kh(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=yh(function(n,i){var r={zn:n,Z:i};t.ff=r}),e=t.uf;return void 0!==e&&!0===t.lf&&"writable"===n&&Wa(e),ta(i=t.hf,"close",0),Ia(i),r}function fa(t,n){"writable"!==t.Zc?da(t):va(t,n)}function va(t,n){var i=t.hf;t.Zc="erroring",t.Jc=n;var r=t.uf;void 0!==r&&pa(r,n),!1===function(t){if(void 0===t.cf&&void 0===t.vf)return!1;return!0}(t)&&!0===i.gf&&da(t)}function da(t){t.Zc="errored",t.hf[ra]();var n=t.Jc;if(t.af.forEach(function(t){t.Z(n)}),t.af=new Rh,void 0!==t.df){var i=t.df;if(t.df=void 0,!0===i._f)return i.Z(n),void _a(t);Ah(t.hf[ia](i.Pn),function(){i.zn(),_a(t)},function(n){i.Z(n),_a(t)})}else _a(t)}function la(t){return void 0!==t.ff||void 0!==t.vf}function _a(t){void 0!==t.ff&&(t.ff.Z(t.Jc),t.ff=void 0);var n=t.uf;void 0!==n&&Ma(n,t.Jc)}function ga(t,n){var i=t.uf;void 0!==i&&n!==t.lf&&(!0===n?function(t){Fa(t)}(i):Wa(i)),t.lf=n}var wa=function(){function t(t){if(!1===oa(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===ha(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.wf=t,t.uf=this;var n,i=t.Zc;if("writable"===i)!1===la(t)&&!0===t.lf?Fa(this):Va(this),Ba(this);else if("erroring"===i)Ha(this,t.Jc),Ba(this);else if("closed"===i)Va(this),Ba(n=this),Ua(n);else{var r=t.Jc;Ha(this,r),La(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===ya(this)?kh(xa("closed")):this.xh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ya(this))throw xa("desiredSize");if(void 0===this.wf)throw Pa("desiredSize");return function(t){var n=t.wf,i=n.Zc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ra(n.hf)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===ya(this)?kh(xa("ready")):this.yf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ya(this)?kh(xa("abort")):void 0===this.wf?kh(Pa("abort")):function(t,n){return aa(t.wf,n)}(this,t)},t.prototype.close=function(){if(!1===ya(this))return kh(xa("close"));var t=this.wf;return void 0===t?kh(Pa("close")):!0===la(t)?kh(new d("Cannot close an already-closing stream")):ma(this)},t.prototype.releaseLock=function(){if(!1===ya(this))throw xa("releaseLock");void 0!==this.wf&&Aa(this)},t.prototype.write=function(t){return!1===ya(this)?kh(xa("write")):void 0===this.wf?kh(Pa("write to")):ba(this,t)},t}();function ya(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"wf")}function ma(t){return ca(t.wf)}function ka(t,n){"pending"===t.mf?Ma(t,n):function(t,n){La(t,n)}(t,n)}function pa(t,n){"pending"===t.kf?Xa(t,n):function(t,n){Ha(t,n)}(t,n)}function Aa(t){var n=t.wf,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");pa(t,i),ka(t,i),n.uf=void 0,t.wf=void 0}function ba(t,n){var i=t.wf,r=i.hf,e=function(t,n){try{return t.pf(n)}catch(n){return Na(t,n),1}}(r,n);if(i!==t.wf)return kh(Pa("write to"));var s=i.Zc;if("errored"===s)return kh(i.Jc);if(!0===la(i)||"closed"===s)return kh(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return kh(i.Jc);var u=function(t){return yh(function(n,i){var r={zn:n,Z:i};t.af.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{ta(t,r,i)}catch(n){return void Na(t,n)}var e=t.Af;if(!1===la(e)&&"writable"===e.Zc){var s=Ca(t);ga(e,s)}Ia(t)}(r,n,e),u}var Ta=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!eh(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"Af"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Af.Zc&&Da(this,t)},t.prototype[ia]=function(t){var n=this.bf(t);return Sa(this),n},t.prototype[ra]=function(){na(this)},t}();function Ea(t,n,i,r,e,s,u,o){n.Af=t,t.hf=n,n.Fn=void 0,n.sf=void 0,na(n),n.gf=!1,n.pf=o,n.Tf=u,n.Ef=r,n.Sf=e,n.bf=s;var h=Ca(n);ga(t,h),Ah(mh(i()),function(){n.gf=!0,Ia(n)},function(i){n.gf=!0,fa(t,i)})}function Sa(t){t.Ef=void 0,t.Sf=void 0,t.bf=void 0,t.pf=void 0}function Ra(t){return t.Tf-t.sf}function Ia(t){var n=t.Af;if(!1!==t.gf&&void 0===n.cf)if("erroring"!==n.Zc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.Af;(function(t){t.vf=t.ff,t.ff=void 0})(n),Kh(t);var i=t.Sf();Sa(t),Ah(i,function(){!function(t){t.vf.zn(void 0),t.vf=void 0,"erroring"===t.Zc&&(t.Jc=void 0,void 0!==t.df&&(t.df.zn(),t.df=void 0)),t.Zc="closed";var n=t.uf;void 0!==n&&Ua(n)}(n)},function(t){!function(t,n){t.vf.Z(n),t.vf=void 0,void 0!==t.df&&(t.df.Z(n),t.df=void 0),fa(t,n)}(n,t)})}(t):function(t,n){var i=t.Af;(function(t){t.cf=t.af.shift()})(i),Ah(t.Ef(n),function(){!function(t){t.cf.zn(void 0),t.cf=void 0}(i);var n=i.Zc;if(Kh(t),!1===la(i)&&"writable"===n){var r=Ca(t);ga(i,r)}Ia(t)},function(n){"writable"===i.Zc&&Sa(t),function(t,n){t.cf.Z(n),t.cf=void 0,fa(t,n)}(i,n)})}(t,i.chunk)}}else da(n)}function Na(t,n){"writable"===t.Af.Zc&&Da(t,n)}function Ca(t){return Ra(t)<=0}function Da(t,n){var i=t.Af;Sa(t),va(i,n)}function Oa(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function xa(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Pa(t){return new d("Cannot "+t+" a stream using a released writer")}function Ba(t){t.xh=yh(function(n,i){t.$c=n,t.Kc=i,t.mf="pending"})}function La(t,n){Ba(t),Ma(t,n)}function Ma(t,n){Sh(t.xh),t.Kc(n),t.$c=void 0,t.Kc=void 0,t.mf="rejected"}function Ua(t){t.$c(void 0),t.$c=void 0,t.Kc=void 0,t.mf="resolved"}function Fa(t){t.yf=yh(function(n,i){t.Rf=n,t.If=i}),t.kf="pending"}function Ha(t,n){Fa(t),Xa(t,n)}function Va(t){Fa(t),Wa(t)}function Xa(t,n){Sh(t.yf),t.If(n),t.Rf=void 0,t.If=void 0,t.kf="rejected"}function Wa(t){t.Rf(void 0),t.Rf=void 0,t.If=void 0,t.kf="fulfilled"}function qa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var za="undefined"!=typeof DOMException?DOMException:void 0;var Ga,ja=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(za)?za:((Ga=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Ga.prototype,"constructor",{value:Ga,writable:!0,configurable:!0}),Ga);function Qa(t,n,i,r,e,s){var u=Fh(t),o=sa(n);t.nf=!0;var h=!1,a=mh(void 0);return yh(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new ja("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Zc?aa(n,i):mh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Zc?Hc(t,i):mh(void 0)}),k(function(){return E.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.xh,function(t){!1===r?k(function(){return aa(n,t)},!0,t):p(!0,t)}),m(n,o.xh,function(n){!1===e?k(function(){return Hc(t,n)},!0,n):p(!0,n)}),l=t,_=u.xh,g=function(){!1===i?k(function(){return function(t){var n=t.wf,i=n.Zc;return!0===la(n)||"closed"===i?mh(void 0):"errored"===i?kh(n.Jc):ma(t)}(o)}):p()},"closed"===l.Zc?g():bh(_,g),!0===la(n)||"closed"===n.Zc){var w=new d("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Hc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return ph(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Zc?i(t.Jc):Th(n,i)}function k(t,i,r){function e(){Ah(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Zc&&!1===la(n)?bh(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Zc&&!1===la(n)?bh(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Aa(o),Dh(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}Sh(yh(function(t,n){!function i(r){r?t():ph(!0===h?mh(!0):ph(o.yf,function(){return ph(Qh(u),function(t){return!0===t.done||(a=ph(ba(o,t.value),void 0,nh),!1)})}),i,n)}(!1)}))})}var Ya=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Za(this))throw uc("desiredSize");return rc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Za(this))throw uc("close");if(!1===ec(this))throw new d("The stream is not in a state that permits close");tc(this)},t.prototype.enqueue=function(t){if(!1===Za(this))throw uc("enqueue");if(!1===ec(this))throw new d("The stream is not in a state that permits enqueue");return nc(this,t)},t.prototype.error=function(t){if(!1===Za(this))throw uc("error");ic(this,t)},t.prototype[Mh]=function(t){na(this);var n=this.Nf(t);return Ka(this),n},t.prototype[Uh]=function(){var t=this.Cf;if(this.Fn.length>0){var n=Kh(this);return!0===this.Df&&0===this.Fn.length?(Ka(this),Vc(t)):Ja(this),mh(Ih(n,!1,t.Yc.jc))}var i=Hh(t);return Ja(this),i},t}();function Za(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Cf")}function Ja(t){!1!==$a(t)&&(!0!==t.Of?(t.Of=!0,Ah(t.xf(),function(){t.Of=!1,!0===t.Pf&&(t.Pf=!1,Ja(t))},function(n){ic(t,n)})):t.Pf=!0)}function $a(t){var n=t.Cf;return!1!==ec(t)&&(!1!==t.gf&&(!0===Fc(n)&&Xh(n)>0||rc(t)>0))}function Ka(t){t.xf=void 0,t.Nf=void 0,t.pf=void 0}function tc(t){var n=t.Cf;t.Df=!0,0===t.Fn.length&&(Ka(t),Vc(n))}function nc(t,n){var i=t.Cf;if(!0===Fc(i)&&Xh(i)>0)Vh(i,n,!1);else{var r=void 0;try{r=t.pf(n)}catch(n){throw ic(t,n),n}try{ta(t,n,r)}catch(n){throw ic(t,n),n}}Ja(t)}function ic(t,n){var i=t.Cf;"readable"===i.Zc&&(na(t),Ka(t),Xc(i,n))}function rc(t){var n=t.Cf.Zc;return"errored"===n?null:"closed"===n?0:t.Tf-t.sf}function ec(t){var n=t.Cf.Zc;return!1===t.Df&&"readable"===n}function sc(t,n,i,r,e,s,u){n.Cf=t,n.Fn=void 0,n.sf=void 0,na(n),n.gf=!1,n.Df=!1,n.Pf=!1,n.Of=!1,n.pf=u,n.Tf=s,n.xf=r,n.Nf=e,t.if=n,Ah(mh(i()),function(){n.gf=!0,Ja(n)},function(t){ic(n,t)})}function uc(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var oc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},hc=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===fc(this))throw Rc("view");return this.Bf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===fc(this))throw Rc("respond");if(void 0===this.Lf)throw new d("This BYOB request has been invalidated");this.Bf.buffer,function(t,n){if(!1===uh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");pc(t,n)}(this.Lf,t)},t.prototype.respondWithNewView=function(t){if(!1===fc(this))throw Rc("respond");if(void 0===this.Lf)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Mf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,pc(t,n.byteLength)}(this.Lf,t)},t}(),ac=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===cc(this))throw Ic("byobRequest");if(void 0===this.Uf&&this.Mf.length>0){var t=this.Mf.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(hc.prototype);!function(t,n,i){t.Lf=n,t.Bf=i}(i,this,n),this.Uf=i}return this.Uf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===cc(this))throw Ic("desiredSize");return Ec(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===cc(this))throw Ic("close");if(!0===this.Df)throw new d("The stream has already been closed; do not close it again!");var t=this.Ff.Zc;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Ff;if(t.sf>0)return void(t.Df=!0);if(t.Mf.length>0){var i=t.Mf.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Tc(t,r),r}}bc(t),Vc(n)}(this)},t.prototype.enqueue=function(t){if(!1===cc(this))throw Ic("enqueue");if(!0===this.Df)throw new d("stream is closed or draining");var n=this.Ff.Zc;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Ff,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=fh(r);if(!0===Wh(i))if(0===Xh(i))_c(t,u,e,s);else{var o=new m(u,e,s);Vh(i,o,!1)}else!0===Dc(i)?(_c(t,u,e,s),kc(t)):_c(t,u,e,s);vc(t)}(this,t)},t.prototype.error=function(t){if(!1===cc(this))throw Ic("error");Tc(this,t)},t.prototype[Mh]=function(t){this.Mf.length>0&&(this.Mf.peek().bytesFilled=0);na(this);var n=this.Nf(t);return bc(this),n},t.prototype[Uh]=function(){var t=this.Ff;if(this.sf>0){var n=this.Fn.shift();this.sf-=n.byteLength,yc(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return kh(t)}return mh(Ih(i,!1,t.Yc.jc))}var r=this.Hf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return kh(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.Mf.push(s)}var u=Hh(t);return vc(this),u},t}();function cc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Ff")}function fc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Lf")}function vc(t){!1!==function(t){var n=t.Ff;if("readable"!==n.Zc)return!1;if(!0===t.Df)return!1;if(!1===t.gf)return!1;if(!0===Wh(n)&&Xh(n)>0)return!0;if(!0===Dc(n)&&Cc(n)>0)return!0;if(Ec(t)>0)return!0;return!1}(t)&&(!0!==t.Of?(t.Of=!0,Ah(t.xf(),function(){t.Of=!1,!0===t.Pf&&(t.Pf=!1,vc(t))},function(n){Tc(t,n)})):t.Pf=!0)}function dc(t,n){var i=!1;"closed"===t.Zc&&(i=!0);var r=lc(n);"default"===n.readerType?Vh(t,r,i):function(t,n,i){var r=t.Yc;r.Vf.shift().zn(Ih(n,i,r.jc))}(t,r,i)}function lc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function _c(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.sf+=r}function gc(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=_.min(t.sf,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,l=t.Fn;o>0;){var g=l.peek(),w=_.min(o,g.byteLength),y=n.byteOffset+n.bytesFilled;a=n.buffer,c=y,f=g.buffer,v=g.byteOffset,d=w,new m(a).set(new m(f,v,d),c),g.byteLength===w?l.shift():(g.byteOffset+=w,g.byteLength-=w),t.sf-=w,wc(t,w,n),o-=w}return h}function wc(t,n,i){mc(t),i.bytesFilled+=n}function yc(t){0===t.sf&&!0===t.Df?(bc(t),Vc(t.Ff)):vc(t)}function mc(t){void 0!==t.Uf&&(t.Uf.Lf=void 0,t.Uf.Bf=void 0,t.Uf=void 0)}function kc(t){for(;t.Mf.length>0;){if(0===t.sf)return;var n=t.Mf.peek();!0===gc(t,n)&&(Ac(t),dc(t.Ff,n))}}function pc(t,n){var i=t.Mf.peek();if("closed"===t.Ff.Zc){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=fh(n.buffer);var i=t.Ff;if(!0===Dc(i))for(;Cc(i)>0;)dc(i,Ac(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(wc(t,n,i),!(i.bytesFilled<i.elementSize)){Ac(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);_c(t,s,0,s.byteLength)}i.buffer=fh(i.buffer),i.bytesFilled-=r,dc(t.Ff,i),kc(t)}}(t,n,i);vc(t)}function Ac(t){var n=t.Mf.shift();return mc(t),n}function bc(t){t.xf=void 0,t.Nf=void 0}function Tc(t,n){var i=t.Ff;"readable"===i.Zc&&(!function(t){mc(t),t.Mf=new Rh}(t),na(t),bc(t),Xc(i,n))}function Ec(t){var n=t.Ff.Zc;return"errored"===n?null:"closed"===n?0:t.Tf-t.sf}function Sc(t,n,i){var r=l.create(ac.prototype);var e=hh(n,"pull",0,[r]),s=hh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===oc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Ff=t,n.Pf=!1,n.Of=!1,n.Uf=void 0,n.Fn=n.sf=void 0,na(n),n.Df=!1,n.gf=!1,n.Tf=vh(s),n.xf=r,n.Nf=e,n.Hf=u,n.Mf=new Rh,t.if=n,Ah(mh(i()),function(){n.gf=!0,vc(n)},function(t){Tc(n,t)})}(t,r,function(){return ah(n,"start",[r])},e,s,i,u)}function Rc(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Ic(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Nc(t){return yh(function(n,i){var r={zn:n,Z:i};t.Yc.Vf.push(r)})}function Cc(t){return t.Yc.Vf.length}function Dc(t){var n=t.Yc;return void 0!==n&&!!xc(n)}var Oc=function(){function t(t){if(!Uc(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===cc(t.if))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Fc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Nh(this,t),this.Vf=new Rh}return l.defineProperty(t.prototype,"closed",{get:function(){return xc(this)?this.xh:kh(Pc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return xc(this)?void 0===this.Qc?kh(Oh("cancel")):Ch(this,t):kh(Pc("cancel"))},t.prototype.read=function(t){return xc(this)?void 0===this.Qc?kh(Oh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?kh(new d("view must have non-zero byteLength")):function(t,n){var i=t.Qc;if(i.nf=!0,"errored"===i.Zc)return kh(i.Jc);return function(t,n){var i=t.Ff,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:fh(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Mf.length>0)return t.Mf.push(s),Nc(i);if("closed"===i.Zc)return mh(Ih(new e(s.buffer,s.byteOffset,0),!0,i.Yc.jc));if(t.sf>0){if(!0===gc(t,s)){var u=lc(s);return yc(t),mh(Ih(u,!1,i.Yc.jc))}if(!0===t.Df){var o=new d("Insufficient bytes to fill elements in the given buffer");return Tc(t,o),kh(o)}}t.Mf.push(s);var h=Nc(i);return vc(t),h}(i.if,n)}(this,t)):kh(new d("view must be an array buffer view")):kh(Pc("read"))},t.prototype.releaseLock=function(){if(!xc(this))throw Pc("releaseLock");if(void 0!==this.Qc){if(this.Vf.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Dh(this)}},t}();function xc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Vf")}function Pc(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Bc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Mc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Sc(this,t,r=vh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=dh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Ya.prototype),s=hh(n,"pull",0,[e]),u=hh(n,"cancel",1,[]);sc(t,e,function(){return ah(n,"start",[e])},s,u,i,r)}(this,t,r=vh(r),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Uc(this))throw Wc("locked");return Fc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Uc(this)?kh(Wc("cancel")):!0===Fc(this)?kh(new d("Cannot cancel a stream that already has a reader")):Hc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Uc(this))throw Wc("getReader");if(void 0===n)return Fh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Oc(t);return i.jc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Uc(this))throw Wc("pipeThrough");if(!1===oa(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Uc(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!qa(h))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Fc(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===ha(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Sh(Qa(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Uc(this)?kh(Wc("pipeTo")):!1===oa(t)?kh(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||qa(u)?!0===Fc(this)?kh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===ha(t)?kh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qa(this,t,r,e,s,u):kh(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Uc(this))throw Wc("tee");var t=function(t,n){var i,r,e,s,u,o=Fh(t),h=!1,a=!1,c=!1,f=yh(function(t){u=t});function v(){return!0===h?mh(void 0):(h=!0,Sh(Eh(Qh(o),function(t){if(h=!1,!0===t.done)return!1===a&&tc(e.if),void(!1===c&&tc(s.if));var n=t.value,i=n,r=n;!1===a&&nc(e.if,i),!1===c&&nc(s.if,r)})),mh(void 0))}function d(){}return e=Lc(d,v,function(n){if(a=!0,i=n,!0===c){var e=sh([i,r]),s=Hc(t,e);u(s)}return f}),s=Lc(d,v,function(n){if(c=!0,r=n,!0===a){var e=sh([i,r]),s=Hc(t,e);u(s)}return f}),Th(o.xh,function(t){ic(e.if,t),ic(s.if,t)}),[e,s]}(this);return sh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Uc(this))throw Wc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Fh(t),r=l.create(Zh);return r.rf=i,r.ef=Boolean(n),r}(this,i)},t}();function Lc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=l.create(Bc.prototype);return Mc(s),sc(s,l.create(Ya.prototype),t,n,i,r,e),s}function Mc(t){t.Zc="readable",t.Yc=void 0,t.Jc=void 0,t.nf=!1}function Uc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"if")}function Fc(t){return void 0!==t.Yc}function Hc(t,n){return t.nf=!0,"closed"===t.Zc?mh(void 0):"errored"===t.Zc?kh(t.Jc):(Vc(t),Eh(t.if[Mh](n),nh))}function Vc(t){t.Zc="closed";var n=t.Yc;void 0!==n&&(jh(n)&&(n.tf.forEach(function(t){t.zn(Ih(void 0,!0,n.jc))}),n.tf=new Rh),Lh(n))}function Xc(t,n){t.Zc="errored",t.Jc=n;var i=t.Yc;void 0!==i&&(jh(i)?(i.tf.forEach(function(t){t.Z(n)}),i.tf=new Rh):(i.Vf.forEach(function(t){t.Z(n)}),i.Vf=new Rh),Bh(i,n))}function Wc(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof th.asyncIterator&&l.defineProperty(Bc.prototype,th.asyncIterator,{value:Bc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var qc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),zc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=dh(r);if(void 0===e&&(e=1),e=vh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=dh(s);void 0===u&&(u=0),u=vh(u),function(t,n,i,r,e,s){function u(){return n}t.Xf=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=l.create(ea.prototype);return ua(u),Ea(u,l.create(Ta.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.Wf;if(!0===t.lf){var r=t.qf;return Eh(r,function(){var r=t.Xf,e=r.Zc;if("erroring"===e)throw r.Jc;return tf(i,n)})}return tf(i,n)}(t,n)},function(){return function(t){var n=t.zf,i=t.Wf,r=i.Gf();return $c(i),Eh(r,function(){if("errored"===n.Zc)throw n.Jc;var t=n.if;!0===ec(t)&&tc(t)},function(i){throw jc(t,i),n.Jc})}(t)},function(n){return function(t,n){return jc(t,n),mh(void 0)}(t,n)},i,r),t.zf=Lc(u,function(){return function(t){return Yc(t,!1),t.qf}(t)},function(n){return Qc(t,n),mh(void 0)},e,s),t.lf=void 0,t.qf=void 0,t.jf=void 0,Yc(t,!0),t.Wf=void 0}(this,yh(function(t){h=t}),e,o,u,a),function(t,n){var i=l.create(Zc.prototype),r=function(t){try{return Kc(i,t),mh(void 0)}catch(t){return kh(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ch(e,n,[t,i])}}var s=hh(n,"flush",0,[i]);!function(t,n,i,r){n.Qf=t,t.Wf=n,n.Yf=i,n.Gf=r}(t,i,r,s)}(this,t);var c=ah(t,"start",[this.Wf]);h(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Gc(this))throw rf("readable");return this.zf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Gc(this))throw rf("writable");return this.Xf},enumerable:!0,configurable:!0}),t}();function Gc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Wf")}function jc(t,n){ic(t.zf.if,n),Qc(t,n)}function Qc(t,n){$c(t.Wf),Na(t.Xf.hf,n),!0===t.lf&&Yc(t,!1)}function Yc(t,n){void 0!==t.qf&&t.jf(),t.qf=yh(function(n){t.jf=n}),t.lf=n}var Zc=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Jc(this))throw nf("desiredSize");return rc(this.Qf.zf.if)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Jc(this))throw nf("enqueue");Kc(this,t)},t.prototype.error=function(t){if(!1===Jc(this))throw nf("error");var n;n=t,jc(this.Qf,n)},t.prototype.terminate=function(){if(!1===Jc(this))throw nf("terminate");!function(t){var n=t.Qf,i=n.zf.if;!0===ec(i)&&tc(i);var r=new d("TransformStream terminated");Qc(n,r)}(this)},t}();function Jc(t){return!!eh(t)&&!!l.prototype.hasOwnProperty.call(t,"Qf")}function $c(t){t.Yf=void 0,t.Gf=void 0}function Kc(t,n){var i=t.Qf,r=i.zf.if;if(!1===ec(r))throw new d("Readable side is not in a state that permits enqueue");try{nc(r,n)}catch(t){throw Qc(i,t),i.zf.Jc}(function(t){return!0!==$a(t)})(r)!==i.lf&&Yc(i,!0)}function tf(t,n){return Eh(t.Yf(n),void 0,function(n){throw jc(t.Qf,n),n})}function nf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function rf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var ef,sf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return F(n,t),M(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(hn);function uf(t){return n=[t],new Bc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function of(t){return uf(new m(t))}function hf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new Qu,s=function(){u();var t=new os;r.cancel(t).catch(R),e.Ih(t)},u=function(){i&&(i.Do(s),i=void 0)};i&&(i.To?s():i.Co(s));var o=[];return E.resolve(r.read()).then(function t(n){return n.done?(u(),E.resolve(o)):(o.push(n.value),E.resolve(r.read()).then(t))}).then(function(t){u(),e.Rh(t)},function(t){u(),e.Ih(t)}),e.Sh}(t,n).then(function(t){return js(t).buffer})}function af(t,n){var i=n,r=new zc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.Bo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(R)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(R)}),e}function cf(t){return Lu(new m(t))}function ff(t){return Mu(t).buffer}!function(t){t[t.Uc=0]="Uc",t[t.Zf=1]="Zf"}(ef||(ef={}));var vf="content-type",df="text/plain;charset=UTF-8",lf=function(){function t(){}var n=t.prototype;return n.Jf=function(t){return this.$f(t).then(JSON.parse)},n.Kf=function(t,n){switch(t){case Zo.Lc:return this.tv(n);case Zo.Mc:return this.Jf(n);case Zo.Uc:return this.nv();case Zo.us:return this.$f(n);default:throw new d}},t}();function _f(t,n,i){if(t instanceof lf)return t;if(t instanceof Bc)return function(t,n){return new wf({vo:ef.Uc,nv:t,rv:gf(n)})}(t,i);var r=gf(i),e=E.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{vo:Zo.us,ev:t,rv:n||df};if(t instanceof ArrayBuffer||zs(t))return{vo:Zo.Lc,ev:Tf(t),rv:n};if(rt(t)||tt(t))return{vo:Zo.Mc,ev:t,rv:n};throw new d("Unsupported BodyInit type")}return{vo:Zo.us,ev:null,rv:n}}(t,r)});return new wf({vo:ef.Zf,Sh:e,sv:n})}function gf(t){return(t.get(vf)||"").toLowerCase()}var wf=function(t){function n(n){var i;return(i=t.call(this)||this).uv=!1,i.ov=void 0,i.hv=new Qu,i.hv.Sh.catch(R),i.av(n),i}F(n,t);var i=n.prototype;return i.cv=function(){return this.hv.Sh},i.$f=function(t){return this.fv(yf,t)},i.Jf=function(t){return this.fv(kf,t)},i.tv=function(t){return this.fv(Af,t)},i.nv=function(){return this.vv((t=this.ov).vo===ef.Uc?t.nv:af(t.Sh.then(bf).then(of),t.sv));var t},i.fv=function(t,n){if(this.uv)return E.reject(new d("Already used"));this.uv=!0;var i=t(this.ov,n);return this.hv.Rh(i.then(R)),i},i.vv=function(t){if(this.uv)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.uv=!0;var n=new zc,i=E.resolve(t.pipeTo(n.writable));return this.hv.Rh(i),n.readable},i.av=function(t){this.ov=t,t.vo===ef.Zf&&t.Sh.catch(R)},i.dv=function(){if(this.uv)throw new d("Already used");var t=function(t){if(t.vo===ef.Uc){var n=t.nv.tee(),i=n[0],r=n[1];return[{vo:t.vo,nv:i,rv:t.rv},{vo:t.vo,nv:r,rv:t.rv}]}var e=t.sv.Mo(),s=e[0],u=e[1];return[{vo:t.vo,Sh:t.Sh,sv:s},{vo:t.vo,Sh:t.Sh,sv:u}]}(this.ov),i=t[0],r=t[1];return this.av(i),new n(r)},M(n,[{key:"lv",get:function(){return this.uv}}]),n}(lf);function yf(t,n){return t.vo===ef.Uc?hf(t.nv,n).then(cf):(n&&t.sv.Lo(n),ds(t.Sh.then(mf),t.sv))}function mf(t){switch(t.vo){case Zo.us:return E.resolve(t.ev||"");case Zo.Lc:return E.resolve(t.ev).then(cf);case Zo.Mc:return E.resolve(t.ev).then(JSON.stringify)}}function kf(t,n){return t.vo===ef.Uc?yf(t,n).then(JSON.parse):(n&&t.sv.Lo(n),ds(t.Sh.then(pf),t.sv))}function pf(t){return t.vo===Zo.Mc?E.resolve(t.ev):mf(t).then(JSON.parse)}function Af(t,n){return t.vo===ef.Uc?hf(t.nv,n):(n&&t.sv.Lo(n),ds(t.Sh.then(bf),t.sv))}function bf(t){switch(t.vo){case Zo.Lc:return E.resolve(t.ev);case Zo.us:case Zo.Mc:return mf(t).then(ff)}}function Tf(t){return t instanceof ArrayBuffer?t:zu(Vu(t)).buffer}function Ef(t){return t._v>=200&&t._v<=299||304===t._v}var Sf,Rf,If,Nf,Cf=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.gv,s=i.wv,u=i._v,o=i.yv,h=i.mv):(e=[],s=Zo.us,u=200,o="OK",h=!1);var a=n.kv,c=new Jo(n.gv||e),f=n.wv||s,v=n.pv||(i&&i.kv===a?i.pv:a.Av),d=i?i.bv:null,l=_f(void 0!==n.Us?n.Us:d,n.sv||new us,c);return(r=t.call(this,l)||this).gv=void 0,r.kv=void 0,r.pv=void 0,r.wv=void 0,r._v=void 0,r.yv=void 0,r.mv=void 0,r.gv=c,r.kv=a,r.pv=v,r.wv=f,r._v=void 0!==n._v?n._v:u,r.yv=void 0!==n.yv?String(n.yv):o,r.mv=n.mv||h,r}F(n,t);var i=n.prototype;return i.Us=function(t){return this.Kf(this.wv,t)},i.ph=function(){return new n({Us:this.dv(),kv:this.kv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).bv=void 0,i.bv=n,i}F(n,t);var i=n.prototype;return i.cv=function(){return this.bv.cv()},i.$f=function(t){return this.bv.$f(t)},i.Jf=function(t){return this.bv.Jf(t)},i.tv=function(t){return this.bv.tv(t)},i.nv=function(){return this.bv.nv()},i.dv=function(){return this.bv.dv()},M(n,[{key:"lv",get:function(){return this.bv.lv}}]),n}(lf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Sf||(Sf={})),function(t){t.Tv="",t.Ev="manifest",t.Sv="segment",t.Rv="content-protection"}(Rf||(Rf={})),function(t){t.Tv="",t.Iv="initialization-segment",t.Nv="fairplay-license",t.Cv="fairplay-certificate",t.Dv="widevine-license",t.Ov="widevine-certificate",t.xv="playready-license",t.Pv="clearkey-license",t.Bv="aes128-key"}(If||(If={})),function(t){t.Tv="",t.Lv="audio",t.Mv="video",t.us="text",t.Uv="image"}(Nf||(Nf={}));var Df=function(t,n){this.ev=void 0,this.gv=void 0,this.Fv=void 0,this.wv=void 0,this.Hv=void 0,this.Uo=void 0,this.vo=void 0,this.Vv=void 0,this.Xv=void 0,this.Av=void 0,this.Wv=void 0,this.qv=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t.Av;n?(i=n.ev,r=n.gv,e=n.Fv,s=n.wv,u=n.Hv,o=n.Uo,h=n.vo,a=n.Vv,c=n.Xv,f=n.Wv,v=n.qv):(i=null,r={},e=Sf.GET,s=Zo.us,u=0,h=Rf.Tv,a=If.Tv,c=Nf.Tv,f=!1),this.Av=d,this.ev=t.ev||i,this.gv=new Jo(t.gv||r),this.Fv=t.Fv||e,this.wv=t.wv||s,this.Hv=void 0!==t.Hv?Number(t.Hv)||0:u,this.Uo=t.Uo||o||(new us).Uo,this.vo=t.vo||h,this.Vv=t.Vv||a,this.Xv=t.Xv||c,this.Wv=void 0!==t.Wv?Boolean(t.Wv):f,this.qv=t.qv||v},Of=function(){function t(){}var n=t.prototype;return n.kv=function(t){var n=function(t){return new Cf({Us:null,gv:{},kv:t,pv:t.Av,wv:t.wv,_v:0,yv:Yo._c})}(new Df(t));return E.resolve(n)},n.zv=function(t){},n.Gv=function(){},t}();var xf=function(){function t(t,n){void 0===n&&(n=!0),this.jv=void 0,this.Qv=void 0,this.jv=t,this.Qv=n}var n=t.prototype;return n.kv=function(t){var n=this.Yv(t);return this.jv.kv(n)},n.zv=function(t){return this.jv.zv(this.Zv(t))},n.Yv=function(n){var i=new Df(n);if(!this.Qv){var r=t.Jv(i.Av);i=new Df({Av:r},i)}return i},n.Zv=function(n){var i=n.Av;return this.Qv||(i=t.Jv(i)),{Av:i,ev:n.ev}},t.Jv=function(t){return T.Qu&&De(t,"http://")?t.replace(":","s:"):t},n.Gv=function(){this.jv.Gv()},M(t,null,[{key:"$v",get:function(){return t.Kv||(t.Kv=new t(new Of)),t.Kv}}]),t}();function Pf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Bf(t,n){var i=T.Xu(t);return n&&!Oe(i,"/")&&(i+="/"),i}xf.Kv=void 0;var Lf,Mf=/cache:(.+)?(?=&|$)/,Uf="http://webcache.googleusercontent.com/search?q=cache:";function Ff(t){if(!De(t,Uf))return"";var n=T.Vu(t).search.match(Mf);return n&&n.length>1?n[1]:""}function Hf(t){return T.Vu(t).hostname}!function(t){t.td="HttpOpenError",t.nd="HttpResponseError",t.rd="HttpTimeoutError"}(Lf||(Lf={}));var Vf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).ed=void 0,e.ed=n,e}return F(n,t),M(n,[{key:"kv",get:function(){return this.ed}}]),n}(hn);var Xf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Av+". Invalid URL.",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Lf.td}}]),n}(Vf);var Wf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.kv,null!=r?r:function(t){return"Error while loading "+t.kv.Av+", status code "+t._v}(n),i)||this).sd=void 0,e.sd=n,e}return F(n,t),M(n,[{key:"name",get:function(){return Lf.nd}},{key:"ud",get:function(){return this.sd}}]),n}(Vf);var qf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Av+" timed out after "+t.Hv+" seconds."}(n),i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Lf.rd}}]),n}(Vf),zf=function(t,n){return(zf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Gf(t,n){function i(){this.constructor=t}zf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var jf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Qf=function(){var t=jf.Blob;if(t)try{return new t,function(t,n){return new jf.Blob(t,n)}}catch(t){}var n,i=jf.BlobBuilder||jf.WebKitBlobBuilder||jf.MozBlobBuilder||jf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),Yf="function"==typeof Bc?Bc:void 0;function Zf(t){return t&&"function"==typeof t.getReader}function Jf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Zf(i)}catch(t){return!1}}var $f=function(){function t(t,n){this.Yc=t,this.od=n}return t.prototype.pull=function(t){var n=this;return this.Yc.read().then(function(i){n.od&&n.od(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Yc.cancel(t)},t}();function Kf(t,n){return n.constructor===t?n:new t(new $f(n.getReader()),{highWaterMark:0})}var tv=function(){function t(t,n){this.hd=t,this.St=n}return t.prototype.pull=function(t){return this.hd().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function nv(t,n,i){return new t(new tv(n,i),{highWaterMark:0})}var iv={searchParams:"URLSearchParams"in jf,iterable:"Symbol"in jf&&"iterator"in Symbol,blob:"FileReader"in jf&&!!Qf,formData:"FormData"in jf,arrayBuffer:"ArrayBuffer"in jf,stream:Jf(Yf),streamRequest:"Request"in jf&&"body"in jf.Request.prototype,streamResponse:"Response"in jf&&"body"in jf.Response.prototype,abort:"AbortController"in jf&&"Request"in jf&&"signal"in jf.Request.prototype,encoding:"TextEncoder"in jf&&"TextDecoder"in jf,url:"URL"in jf&&function(t){try{return new jf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in jf&&/Firefox\//.test(jf.navigator.userAgent)};function rv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function ev(t){return"string"!=typeof t&&(t=String(t)),t}function sv(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return iv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var uv=function(){function t(t){var n=this;this.uo={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return iv.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=rv(t),n=ev(n);var i=t.toLowerCase();if(this.uo.hasOwnProperty(i)){var r=this.uo[i],e=r[1];r[1]=e?e+", "+n:n}else this.uo[i]=[t,n]},t.prototype.delete=function(t){var n=rv(t).toLowerCase();delete this.uo[n]},t.prototype.get=function(t){var n=rv(t).toLowerCase();return this.uo.hasOwnProperty(n)?this.uo[n][1]:null},t.prototype.has=function(t){var n=rv(t).toLowerCase();return this.uo.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=rv(t)).toLowerCase();this.uo[i]=[t,ev(n)]},t.prototype.forEach=function(t,n){for(var i in this.uo)this.uo.hasOwnProperty(i)&&t.call(n,this.uo[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),sv(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),sv(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),sv(t)},t.prototype.asList=function(){var t=[];for(var n in this.uo)if(this.uo.hasOwnProperty(n)){var i=this.uo[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ov(){}iv.iterable&&(uv.prototype[Symbol.iterator]=uv.prototype.entries);var hv,av,cv,fv=_.min,vv=String.fromCharCode,dv=16384;function lv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=dv){var e=fv(r+dv,n);i.push(vv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function _v(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function gv(t,n){return t>>n&63|128}function wv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(_v(t),n.push(t>>12&15|224),n.push(gv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(gv(t,12)),n.push(gv(t,6))),n.push(63&t|128)):n.push(t)}function yv(){if(cv>=av)throw new v("Invalid byte index");var t=255&hv[cv];if(cv++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function mv(){var t,n;if(cv>av)throw new v("Invalid byte index");if(cv===av)return!1;if(t=255&hv[cv],cv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|yv())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|yv()<<6|yv())>=2048)return _v(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|yv()<<12|yv()<<6|yv())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var kv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function pv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Av(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function bv(t){return t&&DataView.prototype.isPrototypeOf(t)}var Tv,Ev=ArrayBuffer.isView||function(t){return t&&(kv.indexOf(l.prototype.toString.call(t))>-1||bv(t))};function Sv(t){if(t.bodyUsed)return E.reject(new d("Already used"));t.bodyUsed=!0}function Rv(t){return new E(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Iv(t){return iv.encoding?new jf.TextDecoder("utf-8").decode(new m(t)):lv(function(t){av=(hv=t).length,cv=0;for(var n,i=[];!1!==(n=mv());)i.push(n);return i}(new m(t)))}function Nv(t){return iv.encoding?(new jf.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,r=t;i<r.length;i++)wv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Cv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?E.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Dv(t){return Cv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Ov(t){return t.slice?t.slice(0):xv(new m(t))}function xv(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Pv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Bv(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.fd===Tv.vd){if(!n.dd.tee)throw new v("could not clone ReadableStream body");var i=n.dd.tee(),r=i[0],e=i[1];return n.body=r,n.dd=r,n.ld=r,e}return n.fd===Tv.Lc?Ov(n.dd):n.fd===Tv.Zf?n.dd.then(Bv):n.ld}!function(t){t[t.us=0]="us",t[t._d=1]="_d",t[t.gd=2]="gd",t[t.Lc=3]="Lc",t[t.vd=4]="vd",t[t.Zf=5]="Zf"}(Tv||(Tv={}));var Lv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.ld=n||null,n)if("string"==typeof n)this.fd=Tv.us,this.dd=n;else if((s=n)&&"function"==typeof s.then)this.fd=Tv.Zf,this.dd=E.resolve(n).then(function(n){return new t(n,i)}),this.dd.catch(ov);else if(iv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.fd=Tv._d,this.dd=n;else if(iv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.fd=Tv.gd,this.dd=n;else if(iv.searchParams&&pv(n))this.fd=Tv.us,this.dd=n.toString();else if(iv.arrayBuffer&&(Av(n)||Ev(n)))bv(n)&&(this.ld=new m((e=n).buffer,e.byteOffset,e.byteLength)),this.fd=Tv.Lc,this.dd=Av(r=n)?Ov(r):xv(r);else{if(!iv.stream||!Zf(n))throw new v("unsupported BodyInit type");n=Kf(Yf,n),this.fd=Tv.vd,this.dd=n,this.ld=n}else this.fd=Tv.us,this.dd="";this.wd="",i.has("content-type")?this.wd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.wd="text/plain;charset=UTF-8":u.fd===Tv._d&&u.dd.type?this.wd=u.dd.type:iv.searchParams&&pv(n)&&(this.wd="application/x-www-form-urlencoded;charset=UTF-8"),this.wd&&i.set("content-type",this.wd)),iv.stream&&(null==n?this.body=null:u.fd===Tv.vd?this.body=u.dd:this.body=nv(Yf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Sv(this);return r||(this.fd===Tv._d?(t=this.dd,n=new FileReader,i=Rv(n),n.readAsText(t),i):this.fd===Tv.Lc?E.resolve(this.dd).then(Iv):this.fd===Tv.vd?Dv(this.dd).then(Iv):this.fd===Tv.Zf?this.dd.then(function(t){return t.text()}):this.fd===Tv.gd?E.reject(new v("could not read FormData body as text")):E.resolve(this.dd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();iv.blob&&(Lv.prototype.blob=function(){var t,n,i=Sv(this);return i||(this.fd===Tv._d?E.resolve(this.dd):this.fd===Tv.Lc?E.resolve(Qf([this.dd],{type:this.wd})):this.fd===Tv.vd?(t=this.dd,n=this.wd,Cv(t).then(function(t){return Qf(t,{type:n||""})})):this.fd===Tv.Zf?this.dd.then(function(t){return t.blob()}):this.fd===Tv.gd?E.reject(new v("could not read FormData body as Blob")):E.resolve(Qf([this.dd],{type:this.wd})))}),iv.arrayBuffer&&(Lv.prototype.arrayBuffer=function(){var t,n,i;return this.fd===Tv.Lc?Sv(this)||E.resolve(this.dd):this.fd===Tv._d?Sv(this)||(t=this.dd,n=new FileReader,i=Rv(n),n.readAsArrayBuffer(t),i):this.fd===Tv.vd?Dv(this.dd):this.fd===Tv.Zf?Sv(this)||this.dd.then(function(t){return t.arrayBuffer()}):this.fd===Tv.gd?E.reject(new v("could not read FormData body as ArrayBuffer")):E.resolve(this.dd).then(Nv)}),iv.formData&&(Lv.prototype.formData=function(){return this.fd===Tv.gd?Sv(this)||E.resolve(this.dd):this.text().then(Pv)});var Mv=[301,302,303,307,308],Uv=function(t){function n(n,i){var r=this,e=new uv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Gf(n,t),n.prototype.clone=function(){return new n(Bv(this),{status:this.status,statusText:this.statusText,headers:new uv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Mv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Lv);var Fv,Hv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Fv=Hv)&&Fv.__esModule&&l.prototype.hasOwnProperty.call(Fv,"default")&&Fv.default;Hv.AbortSignal;var Vv=Hv.AbortController,Xv=jf.DOMException;try{new Xv}catch(t){(Xv=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Xv.prototype.constructor=Xv}var Wv=Vv;function qv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function zv(t,n,i){return new E(function(r,e){if(n.signal.aborted)return t.catch(ov),e(Gv());var s=function(){n.signal.removeEventListener("abort",s),e(Gv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function Gv(){return new Xv("Aborted","AbortError")}var jv,Qv="moz-chunked-arraybuffer";function Yv(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(jv||(jv={}));var Zv=function(){function t(t,n){var i=this;this.yd=!1,this.ed=t,this.md=n,this.kd=new p,this.pd=new E(function(t,n){i.Ad=t,i.bd=n})}return t.prototype.send=function(){var t=this;return this.Td().then(function(n){return t.Ed(n,t.md),t.pd})},t.prototype.Td=function(){var t=this.ed;return t.fd===Tv.vd?t.arrayBuffer():E.resolve(t.ld)},t.prototype.Sd=function(t){this.ed.onprogress&&this.ed.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Rd=function(t){this.bd(t)},t.prototype.Id=function(){this.Rd(new d("Network request failed"))},t.prototype.Nd=function(){this.Rd(new d("Network request failed"))},t.prototype.Cd=function(){this.Rd(Gv())},t.prototype.Ed=function(t,n){var i=this,r=this.ed,e=this.kd,s=function(){return i.Dd()};if(r.signal.aborted)return this.Cd();e.onreadystatechange=function(){if(e.readyState>=jv.HEADERS_RECEIVED&&!i.yd){var t=function(t){var n=new uv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.yd=!0,i.Od(n)}},e.onprogress=function(t){return i.Sd(t)},e.onload=function(){return i.xd()},e.onerror=function(){return i.Id()},e.ontimeout=function(){return i.Nd()},e.onabort=function(){return i.Cd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.Dd=function(){this.Cd(),this.kd.abort()},t}(),Jv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Pd=void 0,r.Bd=void 0,r}return Gf(n,t),n.prototype.Od=function(t){var n=this;this.Pd=new E(function(t,i){n.Bd=t,n.Ld=i}),this.Ad(new Uv(this.Pd,t))},n.prototype.xd=function(){var t=this.kd.response||this.kd.responseText;this.Bd(t)},n.prototype.Rd=function(n){t.prototype.Rd.call(this,n),this.Ld&&this.Ld(n)},n}(Zv),$v=function(t){function n(n){var i=t.call(this,n,Qv)||this;return i.Md=void 0,i.Ud=void 0,i.Fd=!1,i}return Gf(n,t),n.prototype.Od=function(t){var n=this;this.Md=new Yf({start:function(t){n.Ud=t},cancel:function(){n.Fd=!0,n.Dd()}}),this.Ad(new Uv(this.Md,t))},n.prototype.Sd=function(n){this.Fd||this.Ud.enqueue(new m(this.kd.response)),t.prototype.Sd.call(this,n)},n.prototype.xd=function(){this.Ud.close()},n.prototype.Rd=function(n){t.prototype.Rd.call(this,n),this.Ud&&!this.Fd&&(this.Fd=!0,this.Ud.error(n))},n}(Zv),Kv=function(){var t=iv.firefox&&Yv(Qv);return Kv=function(){return t},t},td=function(){var t;return t=iv.arrayBuffer&&Yv("arraybuffer")?"arraybuffer":iv.blob&&Yv("blob")?"blob":"",td=function(){return t},t};function nd(t){return(iv.stream&&Kv()?new $v(t):new Jv(t,td())).send()}var id=jf.fetch,rd=jf.Request,ed=(jf.Response,jf.AbortController);var sd=["http:","https:"];var ud=function(){try{if(iv.streamRequest){var t=new rd("about:blank",{body:"",method:"POST"}).body;if(t&&Jf(t.constructor))return t.constructor}}catch(t){}}();function od(t,n,i){var r;if(iv.stream){var e=void 0;if(iv.streamResponse){var s=t.body;e=s&&Kf(Yf,s)}else e=nv(Yf,function(){return zv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new $f(n.getReader(),i),{highWaterMark:0})}(Yf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,hd(t.headers))),r=e}else{var u=zv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return E.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,hd(t.headers))),r=u}return new Uv(r,t)}function hd(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function ad(t){var n=new Wv;return t.signal&&qv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.fd===Tv.vd?iv.streamRequest&&ud?E.resolve(Kf(ud,e.dd)):zv(t.arrayBuffer(),n,!1):zv(E.resolve(t.ld),n,!1),iv.abort){var s=new ed;qv(s,n.signal),r=s.signal}return i.then(function(n){return new rd(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof uv?i:new uv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return id(i).then(function(i){return od(i,n,t.onprogress)})})}var cd=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var fd=function(t){function n(i,r){var e,s,u,o,h,a,c,f,v,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,s=i.credentials,r.headers||(u=new uv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.ld||(_=i.ld,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!r.headers&&u||(u=new uv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return cd.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Wv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return Gf(n,t),n.prototype.clone=function(){return new n(this,{body:Bv(this)})},n}(Lv),vd="function"==typeof id&&iv.stream&&iv.streamResponse&&iv.url;function dd(t,n){return new E(function(i){var r=new fd(t,n);i((vd&&function(t){try{return sd.indexOf(new jf.URL(t,jf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?ad:nd)(r))})}dd.polyfill=!0;var ld=function(){function t(t){this.ud=void 0,this.ed=void 0,this.Hd=new us,this.sd=void 0,this.Vd=!1,this.ed=t,this.Hd.Lo(t.Uo),this.ud=this.Xd()}var n=t.prototype;return n.Xd=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e,s,u,o,a,c=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.ed).Hv&&h(function(){c.Vd=!0,c.Hd.Bo()},n.Hv),t.prev=2,i=dd(n.Av,{method:n.Fv,headers:n.gv.Fc(),body:n.ev,credentials:n.Wv?"include":"same-origin",signal:wd(this.Hd.Uo),onprogress:n.qv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Xf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),hs(e=this.Wd(t.t1))&&this.Hd.Bo(),e;case 20:if(s=r.url||n.Av,u=0===r.status&&"file:"===(f=s,T.Vu(f).protocol)?200:r.status,o=new _d(this,r,this.Hd),a=new Cf({Us:o,kv:n,wv:n.wv,gv:new Jo(r.headers.asList()),_v:u,yv:r.statusText,pv:s}),this.sd=a,!Ef(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Wf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Wd=function(t){return hs(t)?this.Vd?new qf(this.ed):new os(t.message,t):this.sd?new Wf(this.sd,t):new Xf(this.ed,t)},t}(),_d=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.qd=void 0,e.Hd=void 0,e.hv=new Qu,e.an=n,e.qd=i,e.Hd=r,e.hv.Sh.catch(R),e}F(n,t);var i=n.prototype;return i.cv=function(){return this.hv.Sh},i.$f=function(t){return this.fv(this.qd.text(),t)},i.tv=function(t){return this.fv(this.qd.arrayBuffer(),t)},i.nv=function(){var t=this.qd.body;return t?this.vv(t):af(this.tv().then(of),this.Hd)},i.dv=function(){var t=this.qd.clone(),i=this.Hd.Mo(),r=i[0],e=i[1];return this.Hd=r,new n(this.an,t,e)},i.fv=function(t,n){var i=this;n&&this.Hd.Lo(n);var r=E.resolve(t).catch(function(t){throw i.an.Wd(t)});return r=ds(r,this.Hd),this.hv.Rh(r.then(R)),r},i.vv=function(t){var n=this,i=new zc,r=E.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.Wd(t);throw i.writable.abort(r).catch(R),r});return r=ds(r,this.Hd),this.hv.Rh(r.then(R)),i.readable},M(n,[{key:"lv",get:function(){return this.qd.bodyUsed}}]),n}(lf),gd="abort";function wd(t){var n=new Wv;if(t.To)n.abort();else if(!t.Eo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(gd,i),t.Do(i),t.xo(r)};n.signal.addEventListener(gd,i),t.Co(i),t.Oo(r)}return n.signal}function yd(t,n,i){return new E(function(r,e){if(i&&i.To)return e(new os);var s=function(t){o(),r(t)},u=function(){o(),e(new os)},o=function(){t.removeEventListener(n,s),i&&i.Do(u)};t.addEventListener(n,s),i&&i.Co(u)})}var md,kd,pd=function(){function t(){}var n=t.prototype;return n.kv=function(t){return new ld(t).ud},n.zv=function(t){if(br&&br.sendBeacon)br.sendBeacon(t.Av,jo([t.ev],{type:t.rv}));else{var n=t.rv?{"Content-type":t.rv}:void 0;ws(this.kv(new Df({Fv:Sf.POST,Av:t.Av,ev:t.ev,gv:n})))}},n.Gv=function(){},t}();md=new(function(n){function i(){for(var i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(i=n.call.apply(n,[this].concat(e))||this).zd=void 0,i.Gd=function(){if(Z.be)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.jd=Z.Ge,i.Qd=void 0,i}return F(i,n),M(i,[{key:"Pu",get:function(){return this.zd||(this.zd=new We(Wo())),this.zd}},{key:"Yd",get:function(){return this.Gd}},{key:"Zd",get:function(){return this.jd}},{key:"Jd",get:function(){return!1}},{key:"$d",get:function(){return zo.$a()}},{key:"Kd",get:function(){return{tl:Qo}}},{key:"nl",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"il",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"sl",get:function(){return this.Qd||(this.Qd=new xf(new pd)),this.Qd}}]),i}(Kr)),T=md,function(t){t.ul="ol",t.hl="al"}(kd||(kd={}));kd.ul,kd.hl;var Ad=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).cl=void 0,r}return F(n,t),M(n,[{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}}]),n}(Ss);function bd(t){return Boolean(t&&t.fl)}var Td,Ed=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Ad),Sd=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Ss),Rd=function(t){function n(n){var i;return(i=t.call(this,kd.ul)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new Id(this.dl.fl)},n}(Ed),Id=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return F(n,t),n}(Sd),Nd=function(t){function n(n){var i;return(i=t.call(this,kd.hl)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new Cd(this.dl.fl)},n}(Ed),Cd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return F(n,t),n}(Sd);!function(t){t.ll="_l",t.gl="wl",t.yl="ml",t.kl="pl",t.Al="bl",t.Tl="El",t.Sl="Rl",t.Il="Nl",t.Cl="zh",t.Dl="Ol",t.xl="Pl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Td||(Td={}));var Dd=function(t){function n(){var n;return(n=t.call(this)||this).Bl=[],n.cl=void 0,n}F(n,t);var i=n.prototype;return i.Ll=function(t){return this.Bl[t]},i.Ml=function(t){return!(!t||$e(this.Bl,t))&&(this.Bl.push(t),this.cl&&this.cl.push(t.fl),t.qo(Td.Tl,this.Xo),this.Wo(new Rd(t)),!0)},i.Ul=function(t){if(!t)return!1;var n=this.Bl.indexOf(t);return!(n<0)&&(Je(this.Bl,n),this.cl&&Je(this.cl,n),t.Qo(Td.Tl,this.Xo),this.Wo(new Nd(t)),!0)},i.Fl=function(t){return $e(this.Bl,t)},i.Hl=function(){for(var t=this.Bl,n=t.length-1;n>=0;n-=1)this.Ul(t[n])},i.Gv=function(){this.Hl(),this.jo()},M(n,[{key:"Vl",get:function(){return this.Bl}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"Xl",get:function(){return this.Bl.length}}]),n}(Ts),Od=function(t){function n(n){var i;return(i=t.call(this,Td.Tl)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new xd(this.dl.fl)},n}(Ed),xd=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return F(n,t),n}(Sd),Pd=function(t){function n(){var n;return(n=t.call(this)||this).Wl=void 0,n.ql=function(t){var i=t.dl;n.Ml(i)},n.zl=function(t){var i=t.dl;n.Ul(i)},n}F(n,t);var i=n.prototype;return i.Gl=function(t){t.qo(kd.ul,this.ql),t.qo(kd.hl,this.zl)},i.jl=function(t){t.Qo(kd.ul,this.ql),t.Qo(kd.hl,this.zl)},i.Gv=function(){this.Wl&&this.Wl.Gv(),t.prototype.Gv.call(this)},M(n,[{key:"Ql",get:function(){return this.Wl},set:function(t){var n=this.Wl;if(t!==n){if(n){this.jl(n);for(var i=0,r=n.Vl;i<r.length;i++){var e=r[i];t&&t.Fl(e)||this.Ul(e)}}if(this.Wl=t,t){for(var s=[],u=0,o=t.Vl;u<o.length;u++){var h=o[u];this.Ml(h),this.Yl(h)&&s.push(h)}this.Gl(t);for(var a=0;a<s.length;a++){var c=s[a];c.Wo(new Od(c))}}}}}]),n}(Dd),Bd=l.freeze||I;function Ld(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Md(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Ud(t){if(rt(t)){var n={};for(var i in t)J.call(t,i)&&(n[i]=Ud(t[i]));return n}if(tt(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Ud(t[e]));return r}return t}function Fd(t,n){return t===n||!(!t||!n)&&(!(!it(t)||!it(n))&&(nt(t)?!!nt(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Fd(t[e],n[e]))return!1;return!0}(t,n):!nt(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!J.call(n,s)||!Fd(t[s],n[s]))return!1}return!0}(t,n)))}function Hd(t,n){return t.constructor===n.constructor}function Vd(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Xd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Wd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function qd(t){var n=Wd(t);if(y(n))throw new v("Expected a valid number.");return n}function zd(t){return"string"==typeof t?t:""}function Gd(t,n){if(!nt(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function jd(t,n){return nt(t)?Gd(t,n):n(t)}var Qd=[kd.ul,kd.hl,Td.Tl];function Yd(t){var n,i=t.Vl.map(function(t){return t.fl});return i.item=function(n){var i=0|n,r=t.Ll(i);return r&&r.fl||void 0},i.addEventListener=function(t,i){n.qo(t,i)},i.removeEventListener=function(t,i){n.Qo(t,i)},n=new Es(i),t.qo(Qd,function(t){return n.Wo(t.fl)}),i}function Zd(){}function Jd(t){var n,i=[Td.Cl,Td.Tl,Td.Dl,Td.xl,Td.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Zl&&t.Zl.fl},get enabled(){return t.Jl},set enabled(n){t.Jl=Xd(n)},get id(){return t.$l},get uid(){return t.Kl},get kind(){return t.t_},get label(){return t.n_},set label(n){t.n_=zd(n)},get language(){return t.i_},get qualities(){return t.r_.fl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.r_.Vl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.fl===o&&i.push(s)}return i}(t,tt(n)?n:[n]):[]).length>0?t.e_=i:t.e_=void 0},get targetQuality(){if(t.e_)return 1===t.e_.length?t.e_[0].fl:t.e_.map(function(t){return t.fl})},addEventListener:function(t,i){var r=jd(t,zd);n.qo(r,i)},removeEventListener:function(t,i){var r=jd(t,zd);n.Qo(r,i)}};return n=new Es(r),t.qo(i,function(t){return n.Wo(t.fl)}),l.defineProperty(r,"constructor",{value:Zd}),r}function $d(){}function Kd(t){var n=Yd(t);return l.defineProperty(n,"constructor",{value:$d}),n}var tl,nl,il=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.vl=function(){return Kd(this)},i.Yl=function(t){return t.Jl},n}(Pd);function rl(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case tl.s_:case tl.u_:case tl.o_:return n}}else if("number"==typeof t)switch(t){case 0:return tl.s_;case 1:return tl.u_;case 2:return tl.o_}return tl.s_}function el(){}function sl(t){var n,i=[Td.Tl,Td.Cl,Td.ll,Td.gl,Td.yl,Td.kl,Td.Al,Td.Sl,Td.Il],r=[nl.h_],e={get kind(){return t.t_},get label(){return t.n_},set label(n){t.n_=zd(n)},get language(){return t.i_},get id(){return t.$l},get uid(){return t.Kl},get inBandMetadataTrackDispatchType(){return t.a_},get mode(){return t.c_},set mode(n){n!==tl.o_&&n!==tl.u_&&n!==tl.s_||t.f_(n)},get forced(){return Boolean(t.v_)},get type(){return t.vo},get readyState(){return hl(t.d_)},get cues(){return t.c_===tl.s_?null:t.l_.fl},get activeCues(){return t.c_===tl.s_?null:t.__.fl},get src(){return t.g_||""},addEventListener:function(t,i){var r=jd(t,zd);n.qo(r,i)},removeEventListener:function(t,i){var r=jd(t,zd);n.Qo(r,i)}};return n=new Es(t),t.qo(i,function(t){return n.Wo(t.fl)}),t.qo(r,function(t){return n.Wo(t)}),l.defineProperty(e,"constructor",{value:el}),e}function ul(){}function ol(t){var n=Yd(t);return l.defineProperty(n,"constructor",{value:ul}),n}function hl(t){return t}!function(t){t.s_="disabled",t.u_="hidden",t.o_="showing"}(tl||(tl={})),function(t){t.h_="error"}(nl||(nl={}));var al=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.vl=function(){return ol(this)},i.Yl=function(t){return t.c_===tl.o_},n}(Pd),cl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Go=function(n){t.prototype.Go.call(this,n)},i.Jo=function(n){t.prototype.Jo.call(this,n)},n}(Ts),fl=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(cl),vl=function(t){function n(){return t.call(this,Yo.cc)||this}return F(n,t),n}(Ss),dl=function(t){function n(n){var i;return(i=t.call(this,Yo.sc)||this).currentSource=n,i}return F(n,t),n}(Ss),ll=function(){function t(){}return t.w_=function(n,i){var r=t.y_(n,i);return r?t.m_(r):0},t.k_=function(){return T.nl||"default"},t.p_=function(){return T.il||"unknown"},t.y_=function(n,i){var r,e=null==(r=T.$d)?void 0:r.dh(i),s=e&&JSON.parse(e);if(s&&s[n])return t.A_(s,n,i)},t.m_=function(t){var n=t.availableBandwidth;return n||0},t.A_=function(n,i,r){if(!t.b_(n,i))return n[i];t.T_(n,i,r)},t.T_=function(t,n,i){var r;delete t[n],null==(r=T.$d)||r.Ja(i,JSON.stringify(t))},t.b_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.E_=function(t,n,i,r){var e;return ie({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.S_=function(n){var i=t.k_();t.R_(i,"theoplayer-stored-network-info",n,$t())},t.R_=function(n,i,r,e){var s,u,o=null==(s=T.$d)?void 0:s.dh(i),h=o?JSON.parse(o):void 0,a=t.E_(h,n,r,e);null==(u=T.$d)||u.Ja(i,JSON.stringify(a))},t.I_=function(){var n=t.k_();return t.w_(n,"theoplayer-stored-network-info")},t}();var _l,gl,wl,yl,ml,kl,pl="1ADD53F3";function Al(t){return{chromecast:function(t){return{appID:t&&t.appID?zd(t.appID):pl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return _l.AUTO;case"manual":return _l.MANUAL;case"disabled":return _l.DISABLED;default:return _l.MANUAL}}(t?t.strategy:void 0)}}function bl(t){var n,i=wl.N_;return(n=t)&&Ce(n,"mpd")&&(i=wl.C_),function(t){return!!t&&Ce(t,"m3u8")}(t)&&(i=wl.D_),i}function Tl(t){return!!t&&De(t.toLowerCase(),wl.C_)}function El(t){if(!t)return!1;var n=t.toLowerCase();return De(n,wl.D_)||De(n,wl.O_)}function Sl(t){return it(t)&&it(t.ssai)&&"google-dai"===t.ssai.integration}function Rl(t){return it(t)&&et(t.integration)&&"verizon-media"===t.integration}function Il(t){if(et(t))return!t;if(Rl(t))return!t.id;if(Sl(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Nl(t){return Boolean(it(t)&&et(t.src))}function Cl(t){return et(t)||Nl(t)||Sl(t)||Rl(t)}function Dl(t){if(t){if(Cl(t))return Il(t);for(var n=0;n<t.length;n++){if(!Il(t[n]))return!1}return!0}return!0}function Ol(){return{crossOrigin:gl.x_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function xl(){return ie({},Ol(),{src:void 0,type:wl.N_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Pl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:yl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ml.NONE;case"midroll-and-postroll":default:return ml.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Xd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return yl.INSECURE;case"disabled":return yl.DISABLED;case"enabled":default:return yl.ENABLED}}(t.vpaidMode)),tt(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(et)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Xd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Bl(t){if(!nt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];rt(e)&&n.push(e)}return n}function Ll(t){return et(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(_l||(_l={})),function(t){t.x_="",t.P_="anonymous",t.B_="use-credentials"}(gl||(gl={})),function(t){t.C_="application/dash+xml",t.D_="application/vnd.apple.mpegurl",t.O_="application/x-mpegurl",t.N_="video/mp4",t.L_="application/vnd.theoplayer.hesp+json",t.M_="application/vnd.theo.hesp+json"}(wl||(wl={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(yl||(yl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ml||(ml={})),function(t){t[t.U_=0]="U_",t[t.F_=1]="F_",t[t.H_=2]="H_",t[t.V_=3]="V_",t[t.X_=4]="X_"}(kl||(kl={}));var Ml,Ul=function(t){function n(n,i){var r;return void 0===i&&(i=kl.U_),(r=t.call(this,Yo.hc)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),Fl=function(t){function n(n){var i;return(i=t.call(this,Yo.wc)||this).currentTime=n,i}return F(n,t),n}(Ss),Hl=function(t){function n(n){var i;return(i=t.call(this,Yo.yc)||this).currentTime=n,i}return F(n,t),n}(Ss);!function(t){t.W_="canplay",t.q_="canplaythrough",t.z_="loadeddata",t.G_="loadedmetadata",t.Sl="readystatechange",t.j_="waiting",t.Q_="playing"}(Ml||(Ml={}));var Vl,Xl,Wl=[Ml.W_,Ml.q_,Ml.z_,Ml.G_,Ml.Sl,Ml.j_,Ml.Q_],ql=function(t){function n(n,i){var r;return void 0===i&&(i=kl.F_),(r=t.call(this,Ml.G_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),zl=function(t){function n(n){var i;return(i=t.call(this,Yo.oc)||this).duration=n,i}return F(n,t),n}(Ss),Gl=function(t){function n(n,i){var r;return(r=t.call(this,Yo.kc)||this).currentTime=n,r.playbackRate=i,r}return F(n,t),n}(Ss),jl=function(t){function n(n,i){var r;return(r=t.call(this,Yo.Dc)||this).currentTime=n,r.currentProgramDateTime=i,r}return F(n,t),n}(Ss),Ql=function(t){function n(n){var i;return(i=t.call(this,Yo.ac)||this).currentTime=n,i}return F(n,t),n}(Ss),Yl=function(t){function n(n,i){var r;return void 0===i&&(i=kl.H_),(r=t.call(this,Ml.z_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),Zl=function(t){function n(n){var i;return(i=t.call(this,Yo.Tc)||this).currentTime=n,i}return F(n,t),n}(Ss),Jl=function(t){function n(n){var i;return(i=t.call(this,Yo.bc)||this).currentTime=n,i}return F(n,t),n}(Ss),$l=function(t){function n(n,i){var r;return(r=t.call(this,Yo.Oc)||this).currentTime=n,r.volume=i,r}return F(n,t),n}(Ss),Kl=function(t){function n(n,i){var r;return void 0===i&&(i=kl.V_),(r=t.call(this,Ml.W_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),t_=function(t){function n(n,i){var r;return void 0===i&&(i=kl.X_),(r=t.call(this,Ml.q_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),n_=function(t){function n(n,i){var r;return(r=t.call(this,Ml.Sl)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Ss),i_=function(t){function n(n){var i;return(i=t.call(this,nl.h_)||this).errorObject=n,i}return F(n,t),n.prototype.vl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ad);function r_(t){switch(t){case Vl.ALL:case Vl.CONTENT:return t;default:return Vl.NONE}}function e_(t){var n,i,r,e=Ud(t||{});return e.libraryLocation&&(e.libraryLocation=Bf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=Al(e.cast),e.ads=Pl(e.ads),e.analytics=Bl(e.analytics),e.mutedAutoplay=r_(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=et(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Bf(t)}catch(t){return void T.Iu("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function s_(t){return{Y_:t.Y_,Z_:t.Z_,J_:t.J_,eh:t.eh,K_:t.K_,tg:t.tg,ng:t.ng,ig:t.ig,d_:t.d_,rg:t.rg,eg:t.eg,sg:t.sg,ug:t.ug}}function u_(t,n,i){if(n!==i){var r=n.Y_,e=n.Z_,s=n.tg,u=n.ng,o=n.ig,h=n.d_,a=n.rg,c=(n.sg,n.eg,n.ug),f=i.Y_,v=i.Z_,d=i.J_,l=i.K_,_=i.tg,g=i.ng,w=i.ig,m=i.d_,k=i.rg,p=(i.sg,i.eg,i.ug);h!==kl.U_&&t.Wo(new Ul(f,m)),g&&!u?t.Wo(new Fl(f)):!g&&u&&t.Wo(new Hl(f)),m>=kl.F_&&t.Wo(new ql(f,m)),v===e||y(v)&&y(e)||t.Wo(new zl(v)),w!==o&&t.Wo(new Gl(f,w)),f!==r&&t.Wo(new jl(f,void 0)),d&&t.Wo(new Ql(f)),m>=kl.H_&&t.Wo(new Yl(f,m)),k&&!a?t.Wo(new Zl(f)):!k&&a&&t.Wo(new Jl(f)),p===c&&_===s||t.Wo(new $l(f,p)),m>=kl.V_&&t.Wo(new Kl(f,m)),m>=kl.X_&&t.Wo(new t_(f,m)),m!==h&&t.Wo(new n_(f,m)),l&&t.Wo(new i_(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Vl||(Vl={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Xl||(Xl={}));var o_,h_=400,a_=.25,c_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},f_={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},v_={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},d_={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function l_(){var t;return t=T.qu.lu?v_:T.qu.gu?"Android"===T.zu.Gu?f_:c_:d_,T.zu.ju?function(t){if(T.zu.ju){var n=(h_+250)/1e3,i=_.max(n,t.windowStart),r=_.max(i+a_,t.target),e=_.max(r+a_,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:_.max(e+a_,t.maxOffset)}}return t}(t):t}function __(t){return{goLive:function(){return t.og()},get isLive(){return t.hg},get currentServerLiveTime(){return t.ag},get currentLatency(){return t.cg},get latency(){return t.fg},set latency(n){if(!function(t){if(!it(t))return!1;var n=t,i=K(n.target)&&"number"==typeof n.target&&K(n.windowEnd)&&"number"==typeof n.windowEnd&&K(n.windowStart)&&"number"==typeof n.windowStart&&K(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.fg=n},get manifest(){return t.vg},get metrics(){return t.dg},addEventListener:function(n,i){t.qo(w_(n),i)},removeEventListener:function(n,i){t.Qo(w_(n),i)}}}!function(t){t[t.s_=0]="s_",t[t.lg=1]="lg",t[t._g=2]="_g"}(o_||(o_={}));var g_=["analytic","golive","nogolive","bufferedchange"];function w_(t){var n=jd(t,zd);return(et(n)?[n]:n).filter(function(t){return $e(g_,t)})}var y_,m_=function(t){function n(){var n;return(n=t.call(this)||this).Wl=void 0,n.cl=void 0,n.gg=l_(),n.Wl=void 0,n}F(n,t);var i=n.prototype;return i.Gl=function(t){t.qo(g_,this.Xo)},i.jl=function(t){t.Qo(g_,this.Xo)},i.og=function(){var t;null==(t=this.Wl)||t.og()},i.Gv=function(){this.jo(),this.Wl&&this.jl(this.Wl),this.Wl=void 0},M(n,[{key:"Ql",get:function(){return this.Wl},set:function(t){var n=this.Wl;t!==n&&(n&&this.jl(n),t&&this.Gl(t),this.Wl=t,this.Wl&&(this.Wl.fg=this.gg))}},{key:"fl",get:function(){return this.cl||(this.cl=__(this)),this.cl}},{key:"ag",get:function(){var t;return null==(t=this.Wl)?void 0:t.ag}},{key:"cg",get:function(){var t;return null==(t=this.Wl)?void 0:t.cg}},{key:"hg",get:function(){return!!this.Wl&&this.Wl.hg}},{key:"fg",get:function(){return this.gg},set:function(t){this.Wl&&(this.Wl.fg=t),this.gg=t}},{key:"vg",get:function(){var t;return null==(t=this.Wl)?void 0:t.vg}},{key:"dg",get:function(){var t;return null==(t=this.Wl)?void 0:t.dg}}]),n}(Ts),k_=function(t){function n(n){var i;return(i=t.call(this)||this).Wl=void 0,i.wg=[],i.yg=!1,i.mg=new il,i.kg=new il,i.pg=new al,i.Ag=new m_,i.bg=!1,i.Tg(n),n.Go(i.Xo),i.Wl=n,i.mg.Ql=n.Eg,i.kg.Ql=n.Sg,i.pg.Ql=n.Rg,i.Ag.Ql=n.Ig,i}F(n,t);var i=n.prototype;return i.Ng=function(){this.Wl.Ng()},i.Cg=function(){this.Wl.Cg()},i.Dg=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ys(this.wg.map(function(t){return t.Dg()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Og=function(){return this.Wl.Og()},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(i),t.next=3,this.Wl.xg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Pg=function(){return this.Ql.Pg()},i.Bg=function(){this.Ql.Bg()},i.Lg=function(){this.Ql.Lg()},i.Mg=function(){if(!this.yg){for(var t=0,n=this.wg;t<n.length;t++){n[t].Mg()}this.yg=!0}},i.Ug=function(t){this.Wl.Ug(t)},i.Fg=function(){this.Wl.Fg()},i.Hg=function(){this.Wl.Hg()},i.Vg=function(){this.Wl.Vg()},i.Xg=function(){return this.Wl.Xg()},i.Wg=function(){return this.Wl.Wg()},i.qg=function(){for(var t=[],n=0,i=this.wg;n<i.length;n++){var r=i[n];t.push.apply(t,r.qg())}return t},i.zg=function(t){for(var n=!1,i=0,r=this.wg;i<r.length;i++){n=r[i].zg(t)||n}return n},i.Wo=function(n){this.zg(n)||t.prototype.Wo.call(this,n)},i.Tg=function(t){this.wg.push(t)},i.Gg=function(t){Ze(this.wg,t)},i.jg=function(t){if(t!==this.Wl){var n=this.Wl;n.Fg(),n.Jo(this.Xo);var i=s_(this),r=this.Qg,e=this.Wg();this.Wl=t,this.mg.Ql=t.Eg,this.kg.Ql=t.Sg,this.pg.Ql=t.Rg,this.Ag.Ql=t.Ig,u_(this,i,this);var s=this.Qg;s!==r&&this.Wo(new dl(s)),this.Wg()!==e&&this.Wo(new vl),t.Go(this.Xo),t.Ug(n)}},i.Yg=function(){},i.Gv=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jo(),this.Wl.Fg(),n=0,i=this.wg;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Gv();case 7:n++,t.next=3;break;case 10:this.mg.Gv(),this.kg.Gv(),this.pg.Gv(),this.Ag.Gv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ys(this.wg.map(function(t){return t.Hl()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Eg",get:function(){return this.mg}},{key:"Rg",get:function(){return this.pg}},{key:"Sg",get:function(){return this.kg}},{key:"Zg",get:function(){return this.Wl.Zg}},{key:"Jg",get:function(){return this.Wl.Jg},set:function(t){this.Wl.Jg=t}},{key:"Qg",get:function(){return this.Wl.Qg}},{key:"Y_",get:function(){return this.Wl.Y_},set:function(t){this.Wl.Y_=t}},{key:"Z_",get:function(){return this.Wl.Z_}},{key:"$g",get:function(){return this.Wl.$g}},{key:"J_",get:function(){return this.Wl.J_}},{key:"eh",get:function(){return this.Wl.eh}},{key:"K_",get:function(){return this.Wl.K_}},{key:"Ig",get:function(){return this.Ag}},{key:"Kg",get:function(){return this.Wl.Kg}},{key:"dg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.tw,i+=h.nw,r+=h.iw,e+=h.rw,s+=h.ew,u.amountOfBufferedAudioSegments+=h.sw.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.sw.amountOfBufferedVideoSegments}return{tw:n,nw:i,iw:r,rw:e,ew:s,sw:u}}(this.wg.map(function(t){return t.dg}))}},{key:"tg",get:function(){return this.Wl.tg},set:function(t){this.Wl.tg=t}},{key:"uw",get:function(){return this.Wl.uw}},{key:"ng",get:function(){return this.Wl.ng}},{key:"ig",get:function(){return this.Wl.ig},set:function(t){this.Wl.ig=t}},{key:"ow",get:function(){return this.Wl.ow}},{key:"hw",get:function(){return this.Wl.hw},set:function(t){this.Wl.hw=t}},{key:"d_",get:function(){return this.Wl.d_}},{key:"aw",get:function(){return this.Wl.aw}},{key:"rg",get:function(){return this.Wl.rg}},{key:"eg",get:function(){return this.Wl.eg}},{key:"sg",get:function(){return this.Wl.sg}},{key:"ug",get:function(){return this.Wl.ug},set:function(t){this.Wl.ug=t}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"Ql",get:function(){return this.Wl},set:function(t){this.jg(t)}}]),n}(fl),p_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return F(n,t),M(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(No);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(y_||(y_={}));var A_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,v.captureStackTrace&&v.captureStackTrace(un(s),s.constructor),s}return F(n,t),M(n,[{key:"name",get:function(){return"MediaError"}}]),n}(on);function b_(t){Ld(t,"MEDIA_ERR_ABORTED",y_.ABORTED),Ld(t,"MEDIA_ERR_NETWORK",y_.NETWORK),Ld(t,"MEDIA_ERR_DECODE",y_.DECODE),Ld(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",y_.SRC_NOT_SUPPORTED),Ld(t,"MEDIA_ERR_ENCRYPTED",y_.ENCRYPTED)}function T_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new A_(y_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new A_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return y_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return y_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return y_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return y_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return y_.NETWORK;if(i===n.ErrorCategory.SOURCE)return y_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return y_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return y_.ENCRYPTED;if(i===n.ErrorCategory.AD)return y_.ADVERTISEMENT_ERROR;return y_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function E_(t){switch(t){case y_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case y_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case y_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case y_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case y_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case y_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case y_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}b_(A_),b_(A_.prototype);var S_,R_=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Ml=function(n){return t.prototype.Ml.call(this,n)},i.vl=function(){return Kd(this)},n}(Dd);!function(t){t.Lv="audio",t.Mv="video",t.us="text",t.Uv="image",t.Tv="unknown"}(S_||(S_={}));var I_=function(){function t(){this.fw=[],this.cl=void 0}var n=t.prototype;return n.vw=function(t){this.fw.push(t),this.cl&&this.cl.push(t.fl)},n.Ll=function(t){return this.fw[t]},n.dw=function(t){return tt(t)?function(t,n){for(var i=0;i<n.length;i++)if(!$e(t,n[i]))return!1;return!0}(this.fw,t):$e(this.fw,t)},M(t,[{key:"Vl",get:function(){return this.fw}},{key:"Xl",get:function(){return this.fw.length}},{key:"fl",get:function(){var t,n;return this.cl||(this.cl=((n=(t=this).Vl.map(function(t){return t.fl})).item=function(n){var i=0|n,r=t.Ll(i);return r&&r.fl||void 0},n)),this.cl}}]),t}(),N_=function(t){function n(n){var i;return(i=t.call(this,Td.Cl)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new C_(this.dl.fl)},n}(Ed),C_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return F(n,t),n}(Sd),D_=0;function O_(){return D_++}var x_=0;var P_=0;var B_=0;function L_(){return B_++}var M_=0;var U_=function(t){function n(n){var i;return(i=t.call(this)||this).vo=S_.Lv,i.lw=void 0,i._w=void 0,i.gw=void 0,i.ww=void 0,i.yw=!1,i.fw=void 0,i.cl=void 0,i.lw=n,i.ww=O_(),i._w=M_+++"",i.gw=n.label,i.fw=new I_,i.mw(),i}F(n,t);var i=n.prototype;return i.kw=function(t){this.Jl=t},i.mw=function(){this.Jl=this.pw},M(n,[{key:"Zl",get:function(){}},{key:"Jl",get:function(){return this.yw},set:function(t){this.yw!==t&&(this.yw=t,this.pw=t,this.Wo(new Od(this)))}},{key:"pw",get:function(){return!!this.lw.enabled},set:function(t){this.lw.enabled=t}},{key:"fl",get:function(){return this.cl||(this.cl=Jd(this)),this.cl}},{key:"$l",get:function(){return this._w}},{key:"Kl",get:function(){return this.ww}},{key:"t_",get:function(){return this.lw.kind}},{key:"n_",get:function(){return this.gw},set:function(t){t!==this.gw&&(this.gw=t,this.Wo(new N_(this)))}},{key:"i_",get:function(){return this.lw.language}},{key:"c_",get:function(){return this.Jl?"enabled":"disabled"}},{key:"Aw",get:function(){return this.lw}},{key:"r_",get:function(){return this.fw}},{key:"e_",get:function(){},set:function(t){}}]),n}(Ts),F_=0;var H_,V_,X_,W_=function(t){function n(n){var i;return(i=t.call(this)||this).vo=S_.Mv,i.lw=void 0,i._w=void 0,i.ww=void 0,i.yw=!1,i.fw=void 0,i.gw=void 0,i.cl=void 0,i.lw=n,i.ww=O_(),i._w=F_+++"",i.fw=new I_,i.gw=n.label,i.mw(),i}F(n,t);var i=n.prototype;return i.mw=function(){this.Jl=this.pw},i.kw=function(t){this.Jl=t},M(n,[{key:"Zl",get:function(){}},{key:"Jl",get:function(){return this.yw},set:function(t){this.yw!==t&&(this.yw=t,this.pw=t,this.Wo(new Od(this)))}},{key:"pw",get:function(){return!!this.lw.selected},set:function(t){this.lw.selected=t}},{key:"fl",get:function(){return this.cl||(this.cl=Jd(this)),this.cl}},{key:"$l",get:function(){return this._w}},{key:"Kl",get:function(){return this.ww}},{key:"t_",get:function(){return"main"}},{key:"n_",get:function(){return this.gw},set:function(t){t!==this.gw&&(this.gw=t,this.Wo(new N_(this)))}},{key:"i_",get:function(){return this.lw.language}},{key:"c_",get:function(){return this.Jl?"enabled":"disabled"}},{key:"Aw",get:function(){return this.lw}},{key:"r_",get:function(){return this.fw}},{key:"e_",get:function(){},set:function(t){}}]),n}(Ts),q_=function(t){function n(n){var i;return(i=t.call(this,Yo.Ka)||this).Kg=n,i}return F(n,t),n}(Ss);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(H_||(H_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(V_||(V_={})),function(t){t.bw="cue",t.Tw="region",t.Ew="stylesheet"}(X_||(X_={}));var z_,G_,j_={"line-left":"start",center:"middle","line-right":"end"},Q_={start:"line-left",middle:"center",end:"line-right"};function Y_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Z_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:w(i),y(e)?r:e;var i,r,e}!function(t){t.Sw="Rw",t.Iw="Nw",t.Cl="zh"}(z_||(z_={})),function(t){t.Sw="enter",t.Iw="exit",t.Cl="update"}(G_||(G_={}));var J_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Cw=i,r}return F(n,t),n}(Ed),$_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return F(n,t),n}(Sd);function K_(t){var n,i=[z_.Sw,z_.Iw,z_.Cl],r={get track(){return t.dl.fl},get id(){return t.$l},get uid(){return t.Kl},get startTime(){return t.Dw},get endTime(){return t.Ow},get content(){return t.xw},addEventListener:function(t,i){var r=jd(t,zd);n.qo(r,i)},removeEventListener:function(t,i){var r=jd(t,zd);n.Qo(r,i)}};return n=new Es(r),t.qo(i,function(t){return n.Wo(t.fl)}),r}function tg(){}function ng(t){return Md(K_(t),{get align(){return t.Pw},get line(){return t.Bw},get lineAlign(){return t.Lw},get position(){return t.Mw},get positionAlign(){return t.Uw},get region(){return t.Fw?t.Fw.fl:null},get size(){return t.wh},get snapToLines(){return t.Hw},get text(){return t.xw},get vertical(){return t.Vw}})}var ig=.02;function rg(t,n){return jt(t.Dw,n.Dw,ig)&&jt(t.Ow,n.Ow,ig)&&t.$l===n.$l}var eg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ww=void 0,u._w=void 0,u.Xw=void 0,u.Ww=void 0,u.cl=void 0,u.qw=void 0,u.zw=!1,u.Gw=void 0,u.jw=void 0,u.Qw="",u.Yw=-1,u.ww=L_(),u.Xw=n,u.Ww=i,u.Gw=r,u.jw=Boolean(e),u._w=null!=s?s:"",u}F(n,t);var i=n.prototype;return i.vl=function(){return K_(this)},i.Zw=function(t){return this===t||Hd(this,t)&&rg(this,t)},i.Gv=function(){this.jo()},M(n,[{key:"Dw",get:function(){return this.Xw},set:function(t){this.Xw=t}},{key:"Ow",get:function(){return this.Ww},set:function(t){this.Ww=t}},{key:"$l",get:function(){return this._w}},{key:"Kl",get:function(){return this.ww}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"Jw",get:function(){return this.zw},set:function(t){this.zw=t}},{key:"dl",get:function(){return this.qw},set:function(t){this.qw=t}},{key:"xw",get:function(){return this.Gw},set:function(t){this.Gw=t}},{key:"$w",get:function(){return this.Qw},set:function(t){this.Qw=t}},{key:"Kw",get:function(){return this.jw},set:function(t){this.jw=t}}]),n}(Ts);function sg(t,n){return t.xw===n.xw&&t.Bw===n.Bw&&t.Lw===n.Lw&&t.Mw===n.Mw&&t.Uw===n.Uw&&t.Fw===n.Fw&&t.Hw===n.Hw&&t.wh===n.wh&&t.Pw===n.Pw&&t.Vw===n.Vw}var ug=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).Bw="auto",u.Lw="start",u.Mw="auto",u.Uw="auto",u.Fw=void 0,u.Hw=!0,u.wh=100,u.Pw="center",u.Vw="",u}return F(n,t),n.prototype.Zw=function(n){return this===n||Hd(this,n)&&t.prototype.Zw.call(this,n)&&sg(this,n)},M(n,[{key:"fl",get:function(){return this.cl||(this.cl=ng(this)),this.cl}},{key:"vo",get:function(){return X_.bw}}]),n}(eg);function og(t){var n="number"==typeof t.Bw?t.Bw:w(t.Bw);return y(n)||t.Hw||!(n<0||n>100)?y(n)?t.Hw?-1:100:n:100}function hg(t){return Z_(t.Mw,t.Pw)}function ag(t){return Y_(t.Uw,t.Pw)}function cg(t){var n=100,i=ag(t),r=hg(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.wh<n?t.wh:n}function fg(t){return{get id(){return t.$l},get identifier(){return t.$l},get lines(){return t.ty},get regionAnchorX(){return t.ny},get regionAnchorY(){return t.iy},get scrollValue(){return t.ey},get viewportAnchorX(){return t.sy},get viewportAnchorY(){return t.uy},get width(){return t.ku}}}var vg,dg=function(){function t(t,n,i,r,e,s,u,o){this.cl=void 0,this.$l=t,this.ku=n,this.ty=i,this.ny=r,this.iy=e,this.sy=s,this.uy=u,this.ey=o}return M(t,[{key:"fl",get:function(){return this.cl||(this.cl=fg(this)),this.cl}},{key:"vo",get:function(){return X_.Tw}}]),t}();!function(t){t[t.oy=0]="oy",t[t.hy=1]="hy",t[t.ay=-1]="ay"}(vg||(vg={}));var lg=function(t,n){return(0|t)-(0|n)},_g=function(t,n){return t===n?vg.oy:t<n?vg.ay:t>n?vg.hy:y(t)?y(n)?vg.oy:vg.hy:vg.ay};function gg(t,n,i){return jt(t,n,i)?vg.oy:_g(t,n)}var wg=function(t,n){return Qt(t,n)?vg.oy:_g(t,n)};var yg=function(){function t(){}var n=t.prototype;return n.vy=function(t){return this.ly()*t},n._y=function(t){return this.gy(t)>0},n.wy=function(t){return this.gy(t)>=0},n.yy=function(t,n){return this.ky(t).my(n)},n.Zw=function(t){return 0===this.gy(t)},n.py=function(t){return this.gy(t)<0},n.my=function(t){return this.gy(t)<=0},n.Ay=function(){return this.by()?this.Ty():this},n.Ey=function(t){return this.vw(t.Ty())},n.ky=function(t){return this.Ey(t).Ay()},t}();function mg(t,n){return t.Sy()?n.Sy()?vg.oy:vg.hy:n.Sy()?vg.ay:t.Ry()?n.Ry()&&t.by()===n.by()?vg.oy:t.by()?vg.ay:vg.hy:n.by()?vg.hy:vg.ay}var kg=function(){function t(t,n){this.Iy=void 0,this.Ny=void 0,this.Iy=t,this.Ny=n}t.Cy=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Dy=function(n){return n.unsigned?new t(n,qt.UZERO):new t(n,n.isNegative()?qt.NEG_ONE:qt.ZERO)},t.Oy=function(n,i){if(y(n))return i?t.xy:t.Py;if(i){if(n<0)return t.xy;if(n>=3.402823669209385e38)return t.By}else{if(n<=-1.7014118346046923e38)return t.Ly;if(n+1>=1.7014118346046923e38)return t.My}return n<0?t.Oy(-n,i).Ty():t.Cy(qt.fromNumber(n%0x10000000000000000),qt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Uy=function(){return this.Ny.unsigned},n.Fy=function(){return this.Iy.isZero()&&this.Ny.isZero()},n.by=function(){return this.Ny.isNegative()},n.Hy=function(){return this.Uy()?t.Cy(this.Iy,this.Ny,!1):this},n.Vy=function(){return this.Uy()?this:t.Cy(this.Iy,this.Ny,!0)},n.Xy=function(){return this.Iy},n.ly=function(){return this.by()?-this.Ty().ly():0x10000000000000000*this.Ny.toNumber()+this.Iy.toUnsigned().toNumber()},n.Wy=function(){return this.Iy.toInt()},n.Zw=function(t){return(this.Uy()===t.Uy()||this.Ny.getHighBits()>>>31!=1||t.Ny.getHighBits()>>>31!=1)&&(this.Ny.toUnsigned().eq(t.Ny.toUnsigned())&&this.Iy.toUnsigned().eq(t.Iy.toUnsigned()))},n.gy=function(t){if(this.Zw(t))return vg.oy;var n=this.by(),i=t.by();if(n&&!i)return vg.ay;if(!n&&i)return vg.hy;if(!this.Uy())return this.Ey(t).by()?vg.ay:vg.hy;var r=this.Vy(),e=t.Vy(),s=e.Ny.comp(r.Ny);return s>0||0===s&&e.Iy.gt(r.Iy)?vg.ay:vg.hy},n.py=function(t){return this.gy(t)<0},n.my=function(t){return this.gy(t)<=0},n.qy=function(t){return this.gy(t)>0},n.zy=function(t){return this.gy(t)>=0},n.Gy=function(){return new t(this.Iy.not(),this.Ny.not())},n.jy=function(n){return new t(this.Iy.and(n.Iy),this.Ny.and(n.Ny))},n.Qy=function(n){return new t(this.Iy.or(n.Iy),this.Ny.or(n.Ny))},n.Yy=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Iy.shl(i),this.Ny.shl(i).or(this.Iy.shru(64-i)),this.Uy()):t.Cy(qt.ZERO,this.Iy.shl(i-64),this.Uy())},n.Zy=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Iy.shru(i).or(this.Ny.shl(64-i)),this.Ny.shr(i),this.Uy()):t.Cy(this.Ny.shr(i-64),this.Ny.isNegative()?qt.NEG_ONE:qt.ZERO,this.Uy())},n.Jy=function(n){var i=127&n;return 0===i?this:i<64?t.Cy(this.Iy.shru(i).or(this.Ny.shl(64-i)),this.Ny.shru(i),this.Uy()):64===i?t.Cy(this.Ny,qt.ZERO,this.Uy()):t.Cy(this.Ny.shru(i-64),qt.ZERO,this.Uy())},n.vw=function(n){var i=this.Ny.high>>>16,r=65535&this.Ny.high,e=this.Ny.low>>>16,s=65535&this.Ny.low,u=this.Iy.high>>>16,o=65535&this.Iy.high,h=this.Iy.low>>>16,a=65535&this.Iy.low,c=n.Ny.high>>>16,f=65535&n.Ny.high,v=n.Ny.low>>>16,d=65535&n.Ny.low,l=n.Iy.high>>>16,_=65535&n.Iy.high,g=n.Iy.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.Iy.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.Uy(),S=qt.fromBits(m<<16|k,w<<16|y,E),R=qt.fromBits(b<<16|T,p<<16|A,E);return t.Cy(R,S,E)},n.Ey=function(t){return this.vw(t.Ty())},n.Ty=function(){return this.Gy().vw(t.$y)},n.Ky=function(n){if(this.Fy()||n.Fy())return this.Uy()?t.xy:t.Py;if(this.by())return n.by()?this.Ty().Ky(n.Ty()):this.Ty().Ky(n).Ty();if(n.by())return this.Ky(n.Ty()).Ty();if(this.Ny.isZero()&&0===this.Iy.high&&n.Ny.isZero()&&0===n.Iy.high)return t.Dy(this.Iy.multiply(n.Iy));var i=qt.fromBits(4294967295,0,!0),r=this.Iy.and(i),e=this.Iy.shru(32),s=this.Ny.and(i),u=this.Ny.shru(32),o=n.Iy.and(i),h=n.Iy.shru(32),a=n.Ny.and(i),c=n.Ny.shru(32),f=qt.UZERO,v=qt.UZERO,d=qt.UZERO,l=qt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=qt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=qt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Cy(_,g,this.Uy())},n.tm=function(n){var i,r,e=n;if(e.Fy())throw new RangeError("division by zero");if(this.Fy())return this.Uy()?[t.xy,t.xy]:[t.Py,t.Py];if(this.Uy()){if(e.Uy()||(e=e.Vy()),e.qy(this))return[t.xy,this];if(e.qy(this.Jy(1)))return[r=t.nm,i=this.Ey(e)];r=t.xy}else{if(this.Zw(t.Ly)){if(e.Zw(t.$y)||e.Zw(t.im))return[t.Ly,t.Py];if(e.Zw(t.Ly))return[t.$y,t.Py];var s=this.Zy(1).rm(e).Yy(1);return s.Zw(t.Py)?r=e.by()?t.$y:t.im:(i=this.Ey(e.Ky(s)),r=s.vw(i.rm(e))),[r,i=this.Ey(e.Ky(r))]}if(e.Zw(t.Ly))return this.Uy()?[t.xy,this]:[t.Py,this];if(this.by()){if(e.by())return this.Ty().tm(e.Ty());var u=this.Ty().tm(e);return r=u[0],i=u[1],[r.Ty(),i.Ty()]}if(e.by()){var o=this.tm(e.Ty());return r=o[0],i=o[1],[r.Ty(),i.Ty()]}r=t.Py}for(i=this;i.zy(e);){for(var h=_.max(1,_.floor(i.ly()/e.ly())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Oy(h),v=f.Ky(e);v.by()||v.qy(i);)h-=c,v=(f=t.Oy(h,this.Uy())).Ky(e);f.Fy()&&(f=t.$y),r=r.vw(f),i=i.Ey(v)}return[r,i]},n.rm=function(t){return this.tm(t)[0]},n.sm=function(t){return this.tm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Fy())return"0";if(this.by()){if(this.Zw(t.Ly)){var r=t.Oy(i),e=this.rm(r),s=e.Ky(r).Ey(this);return e.toString(i)+s.Wy().toString(i)}return"-"+this.Ty().toString(i)}for(var u=t.Oy(_.pow(i,6),this.Uy()),o=this,h="";;){var a=o.rm(u),c=(o.Ey(a.Ky(u)).Wy()>>>0).toString(i);if((o=a).Fy())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();kg.Py=kg.Dy(qt.ZERO),kg.xy=kg.Dy(qt.UZERO),kg.$y=kg.Dy(qt.ONE),kg.nm=kg.Dy(qt.UONE),kg.im=kg.Dy(qt.NEG_ONE),kg.My=kg.Cy(qt.NEG_ONE,qt.MAX_VALUE,!1),kg.By=kg.Cy(qt.MAX_UNSIGNED_VALUE,qt.MAX_UNSIGNED_VALUE,!0),kg.Ly=kg.Cy(qt.ZERO,qt.MIN_VALUE,!1);var pg=function(){function t(t,n){void 0===n&&(n=1),this.um=void 0,this.om=void 0,this.um=t,this.om=n}t.hm=function(n){return new t(_.ceil(n.um),n.om)},t.am=function(n){return new t(_.floor(n.um),n.om)},t.cm=function(t,n){return t.wy(n)?t:n},t.fm=function(t,n){return t.my(n)?t:n};var n=t.prototype;return n.vw=function(n){return this.om>=n.om?new t(this.um+n.vm(this.om).um,this.om):new t(this.vm(n.om).um+n.um,n.om)},n._y=function(t){return t.py(this)},n.wy=function(t){return t.my(this)},n.ky=function(n){return this.om>=n.om?new t(_.abs(this.um-n.vm(this.om).um),this.om):n.ky(this)},n.yy=function(t,n){return this.ky(t).my(n)},n.gy=function(t){return i=t,(n=this).om>=i.om?wg(n.um,i.vm(n.om).um):wg(n.vm(i.om).um,i.um);var n,i},n.Zw=function(t){return 0===this.gy(t)},n.py=function(t){return this.gy(t)<0},n.my=function(t){return this.gy(t)<=0},n.vm=function(n){return new t(this.um*(n/this.om),n)},n.Ey=function(n){return this.om>=n.om?new t(this.um-n.vm(this.om).um,this.om):new t(this.vm(n.om).um-n.um,n.om)},n.dm=function(n){return new t(this.um*n,this.om)},M(t,[{key:"Ry",get:function(){return!isFinite(this.um)}},{key:"lm",get:function(){return this.um/this.om}}]),t}();pg._m=new pg(1/6,1),pg.Py=new pg(0),pg.gm=new pg(1/0),pg.wm=1e6;var Ag=function(t){function n(n,i){var r;return(r=t.call(this)||this).ks=void 0,r.om=void 0,r.ks=n.toSigned(),r.om=i>>>0,r}F(n,t),n.ym=function(t,i){return void 0===i&&(i=1e6),n.Oy(t*i,i)},n.Oy=function(t,i){return y(t)?n.mm:t===1/0?n.km:t===-1/0?n.pm:new n(qt.fromNumber(t),i)},n.Dy=function(t,i){return new n(t,i)},n.Am=function(t){return n.ym(t.lm,1e6)},n.bm=function(t){return new n(qt.fromNumber(t.getTime()),1e3)},n.cm=function(t,n){return t.wy(n)?t:n},n.fm=function(t,n){return t.my(n)?t:n},n.Tm=function(t,i,r){return n.cm(i,n.fm(r,t))};var i=n.prototype;return i.by=function(){return this.ks.isNegative()},i.Fy=function(){return 0!==this.om&&this.ks.isZero()},i.Ry=function(){return 0===this.om&&!this.ks.isZero()},i.Sy=function(){return 0===this.om&&this.ks.isZero()},i.ly=function(){if(0===this.om)return this.ks.isZero()?NaN:this.ks.isNegative()?-1/0:1/0;var t=this.ks.divide(this.om),n=this.ks.subtract(t.multiply(this.om));return t.toNumber()+n.toNumber()/this.om},i.Xy=function(){if(0===this.om)throw new v("Failed to convert timestamp");return this.ks},i.Em=function(){return new Date(0===this.om?NaN:this.vm(1e3).ks.toNumber())},i.Sm=function(){return new pg(0===this.om?this.ly():this.ks.toNumber(),this.om)},i.vm=function(t,i){void 0===i&&(i=Eg.Rm);var r=this.om;if(r===t)return this;if(0===r)return this;var e=Jt(r,t);return new n(function(t,n,i){var r=t.tm(n),e=r[0],s=r[1];if(s.Fy())return e;if(i===Eg.Rm)return s.by()?e.Ey(kg.$y):e;if(i===Eg.Im)return s.by()?e:e.vw(kg.$y);var u=s.Ky(kg.Oy(2));return u.by()?u.Ty().py(n)?e:e.Ey(kg.$y):u.py(n)?e:e.vw(kg.$y)}(kg.Dy(this.ks).Ky(kg.Oy(t/e)),kg.Oy(r/e),i).Xy(),t)},i.gy=function(t){if(this===t)return vg.oy;if(0===this.om||0===t.om)return mg(this,t);if(this.Fy())return t.Fy()?vg.oy:t.by()?vg.hy:vg.ay;if(t.Fy())return this.by()?vg.ay:vg.hy;var n=_.min(this.om,t.om),i=this.vm(n,Eg.Nm).ks,r=t.vm(n,Eg.Nm).ks;return i.compare(r)},i.Ty=function(){return 0===this.om?bg(this):new n(this.ks.negate(),this.om)},i.vw=function(t){if(0===this.om||0===t.om)return Tg(this,t);if(this.Fy())return t;if(t.Fy())return this;var i=_.max(this.om,t.om),r=this.vm(i,Eg.Nm),e=t.vm(i,Eg.Nm);return new n(r.ks.add(e.ks),i)},i.Ky=function(t){if(this.Sy()||y(t))return n.mm;if(this.Ry()||!isFinite(t)){if(this.Fy()||0===t)return n.mm;var i=this.by()?n.pm:n.km;return t<0?i.Ty():i}return this.Fy()?this:new n(0===t?qt.ZERO:this.ks.multiply(t),this.om)},i.rm=function(t){if(this.Sy()||y(t))return n.mm;if(this.Ry())return isFinite(t)?0===t?1/t<0?this.Ty():this:t<0?this.Ty():this:n.mm;if(!isFinite(t))return new n(qt.ZERO,this.om);if(this.Fy())return 0===t?n.mm:new n(qt.ZERO,this.om);if(0===t){var i=this.by()?n.pm:n.km;return 1/t<0?i.Ty():i}return new n(this.ks.divide(t),this.om)},i.Cm=function(){return[this.ks.low,this.ks.high,this.om]},n}(yg);function bg(t){return t.Sy()?t:t.by()?Ag.km:Ag.pm}function Tg(t,n){return t.Sy()||n.Sy()?Ag.mm:t.Ry()&&n.Ry()?t.by()===n.by()?t:Ag.mm:t.Ry()?t:n}Ag.Py=new Ag(qt.ZERO,1e6),Ag.mm=new Ag(qt.ZERO,0),Ag.km=new Ag(qt.ONE,0),Ag.pm=new Ag(qt.NEG_ONE,0);var Eg,Sg=function(t){function n(n,i){var r;return(r=t.call(this)||this).ks=void 0,r.om=void 0,r.ks=BigInt.asIntN(64,n),r.om=i>>>0,r}F(n,t),n.ym=function(t,i){return void 0===i&&(i=1e6),n.Oy(t*i,i)},n.Oy=function(t,i){return y(t)?n.mm:t===1/0?n.km:t===-1/0?n.pm:new n(BigInt(_.floor(t)),i)},n.Dy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Am=function(t){return n.ym(t.lm,1e6)},n.bm=function(t){return n.Oy(t.getTime(),1e3)},n.cm=function(t,n){return t.wy(n)?t:n},n.fm=function(t,n){return t.my(n)?t:n},n.Tm=function(t,i,r){return n.cm(i,n.fm(r,t))};var i=n.prototype;return i.by=function(){return this.ks<BigInt(0)},i.Fy=function(){return 0!==this.om&&this.ks===BigInt(0)},i.Ry=function(){return 0===this.om&&this.ks!==BigInt(0)},i.Sy=function(){return 0===this.om&&this.ks===BigInt(0)},i.ly=function(){if(0===this.om)return this.ks===BigInt(0)?NaN:this.ks<BigInt(0)?-1/0:1/0;var t=this.ks/BigInt(this.om),n=this.ks-t*BigInt(this.om);return Number(t)+Number(n)/this.om},i.Xy=function(){if(0===this.om)throw new v("Failed to convert timestamp");return this.Dm()},i.Dm=function(){var t=this.ks&BigInt(4294967295),n=this.ks>>BigInt(32)&BigInt(4294967295);return qt.fromBits(Number(t),Number(n))},i.Em=function(){return new Date(0===this.om?NaN:Number(this.vm(1e3).ks))},i.Sm=function(){return new pg(0===this.om?this.ly():Number(this.ks),this.om)},i.vm=function(t,i){void 0===i&&(i=Eg.Rm);var r=this.om;if(r===t)return this;if(0===r)return this;var e=Jt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===Eg.Rm)return e<BigInt(0)?r-BigInt(1):r;if(i===Eg.Im)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.ks*BigInt(t/e),BigInt(r/e),i),t)},i.gy=function(t){if(this===t)return vg.oy;if(0===this.om||0===t.om)return mg(this,t);if(this.Fy())return t.Fy()?vg.oy:t.by()?vg.hy:vg.ay;if(t.Fy())return this.by()?vg.ay:vg.hy;var n=_.min(this.om,t.om),i=this.vm(n,Eg.Nm).ks,r=t.vm(n,Eg.Nm).ks;return i>r?vg.hy:i<r?vg.ay:vg.oy},i.Ty=function(){return 0===this.om?Rg(this):new n(-this.ks,this.om)},i.vw=function(t){if(0===this.om||0===t.om)return Ig(this,t);if(this.Fy())return t;if(t.Fy())return this;var i=_.max(this.om,t.om),r=this.vm(i,Eg.Nm),e=t.vm(i,Eg.Nm);return new n(r.ks+e.ks,i)},i.Ky=function(t){if(this.Sy()||y(t))return n.mm;if(this.Ry()||!isFinite(t)){if(this.Fy()||0===t)return n.mm;var i=this.by()?n.pm:n.km;return t<0?i.Ty():i}return this.Fy()?this:new n(0===t?BigInt(0):this.ks*BigInt(t),this.om)},i.rm=function(t){if(this.Sy()||y(t))return n.mm;if(this.Ry())return isFinite(t)?0===t?1/t<0?this.Ty():this:t<0?this.Ty():this:n.mm;if(!isFinite(t))return new n(BigInt(0),this.om);if(this.Fy())return 0===t?n.mm:new n(BigInt(0),this.om);if(0===t){var i=this.by()?n.pm:n.km;return 1/t<0?i.Ty():i}return new n(this.ks/BigInt(t),this.om)},i.Cm=function(){var t=this.Dm();return[t.low,t.high,this.om]},M(n,null,[{key:"Py",get:function(){return n.Om||(n.Om=new n(BigInt(0),1e6)),n.Om}},{key:"mm",get:function(){return n.xm||(n.xm=new n(BigInt(0),0)),n.xm}},{key:"km",get:function(){return n.Pm||(n.Pm=new n(BigInt(1),0)),n.Pm}},{key:"pm",get:function(){return n.Bm||(n.Bm=new n(BigInt(-1),0)),n.Bm}}]),n}(yg);function Rg(t){return t.Sy()?t:t.by()?Sg.km:Sg.pm}function Ig(t,n){return t.Sy()||n.Sy()?Sg.mm:t.Ry()&&n.Ry()?t.by()===n.by()?t:Sg.mm:t.Ry()?t:n}Sg.Om=void 0,Sg.xm=void 0,Sg.Pm=void 0,Sg.Bm=void 0,function(t){t[t.Rm=0]="Rm",t[t.Im=1]="Im",t[t.Nm=2]="Nm"}(Eg||(Eg={}));var Ng=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Sg:Ag;function Cg(t,n){return t.gy(n)}function Dg(t){return Ng.Dy(qt.fromBits(t[0],t[1],!1),t[2])}var Og=9e4,xg=_.pow(2,33),Pg=Ng.Oy(xg,Og),Bg=Pg.rm(2);function Lg(t){return null!=t&&!t.Sy()}function Mg(t,n){return t.Ry()||n.Ry()?Ng.cm(t,n):Hg(t,n)._y(Ng.Py)?t:n}function Ug(t,n){var i=t.Ey(n);return i.py(Ng.Py)&&(i=i.vw(Pg)),i}function Fg(t,n){var i=t.vw(n);return i.wy(Pg)&&(i=i.Ey(Pg)),i}function Hg(t,n){var i=t.Ey(n);return t.Ry()||n.Ry()?i:(i.wy(Bg)?i=i.Ey(Pg):i.py(Bg.Ty())&&(i=i.vw(Pg)),i)}function Vg(t,n){if(t||n)return t?n?Ng.fm(t,n):t:n}function Xg(t,n){if(t||n)return t?n?Ng.cm(t,n):t:n}var Wg,qg,zg,Gg,jg={Lm:0,Mm:1/0,Um:0},Qg=6,Yg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Zg=[" ","\t","\n","\f","\r"],Jg=/^\d*$/,$g=/.*[0-9]+.*/,Kg=/^[\d.-]+$/,tw=/(^\.|\.$)/,nw=/(\D\.|\.\D)/;function iw(t,n){void 0===n&&(n=jg);var i={l_:[],Fm:[],Hm:[]},r=rw(t),e=new Gu;if(dw(r),ew(r,function(t){return"\n"!==t},e),e.Ah>=r.length)return i;(e.mh(1),"\n"!==r.charAt(e.Ah))?hw(sw(r,e,!1,!0,i,n),i):e.mh(1);for(ew(r,function(t){return"\n"===t},e);e.Ah<r.length;){hw(sw(r,e,!1,!1,i,n),i),ew(r,function(t){return"\n"===t},e)}return i}function rw(t){var n=Ne(t,"\0"," "),i=Ne(n,"\r\n","\n");return Ne(i,"\r","\n")}function ew(t,n,i){for(var r=i.Ah;i.Ah<t.length&&n(t.charAt(i.Ah));)i.mh(1);return t.substring(r,i.Ah)}function sw(t,n,i,r,e,s){for(var u,o=0,h=n.Ah,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=ew(t,function(t){return"\n"!==t},n),o++,n.Ah>=t.length?c=!0:n.mh(1),Ce(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.kh(h);break}f=!0,h=n.Ah,v=new ug(0,0,"",!1,a);try{aw(u,e.Fm,v,s),a=""}catch(t){T.Iu(t),v=null}}else{if(""===u)break;r&&De(u,"X-TIMESTAMP-MAP")&&(e.Vm=uw(u)),r||2!==o||i||(xe("STYLE",a.replace(/ /g,""))?(d={vo:X_.Ew},a=""):xe("REGION",a.replace(/ /g,""))&&(l=new dg("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.Ah}if(v)return v.xw=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&Ce(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":Tw(o,n);break;case"WIDTH":Rw(o,n);break;case"LINES":Sw(o,n);break;case"REGIONANCHOR":var h=bw(o);h&&(n.ny=h[0],n.iy=h[1]);break;case"VIEWPORTANCHOR":var a=bw(o);a&&(n.sy=a[0],n.uy=a[1]);break;case"SCROLL":Ew(o,n)}}}}(a,l),l;return null}function uw(t){var n,i,r=t.split("=")[1].trim().split(","),e=ow(r[0].trim(),"MPEGTS")?r[0]:r[1],s=ow(r[0].trim(),"LOCAL")?r[0]:r[1];return{Xm:(i=Number(e.split(/:(.*)/)[1].trim())||0,Ng.Oy(i,Og)),Wm:Ng.ym(null!=(n=vw(s.split(/:(.*)/)[1].trim(),new Gu))?n:0)}}function ow(t,n){return De(t,n)}function hw(t,n){t&&function(t){return t.vo===X_.bw}(t)?n.l_.push(t):t&&function(t){return t.vo===X_.Tw}(t)?n.Fm.push(t):t&&function(t){return t.vo===X_.Ew}(t)&&n.Hm.push(t)}function aw(t,n,i,r){var e=new Gu;if(lw(t,e),i.Dw=cw(vw(t,e),r),lw(t,e),"--\x3e"!==t.substring(e.Ah,e.Ah+3))throw v("Something went wrong with parsing a WebVTT Cue");e.mh(3),lw(t,e),i.Ow=cw(vw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&Ce(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":mw(h,n,i);break;case"VERTICAL":pw(h,n);break;case"D":Aw(h,n);break;case"LINE":case"L":ww(h,n);break;case"POSITION":case"T":yw(h,n);break;case"SIZE":case"S":kw(h,n);break;case"ALIGN":case"A":gw(h,n)}}}}(t.substring(e.Ah,t.length),i,n)}function cw(t,n){return t+n.Lm}function fw(t){return/^[0-9]$/.test(t)}function vw(t,n){var i,r,e,s=Ne(t,",","."),u=!1;if(n.Ah>=s.length||!fw(s.charAt(n.Ah)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=ew(s,fw,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.Ah>=s.length||":"!==s.charAt(n.Ah))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.mh(1);var a=ew(s,fw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.Ah<s.length&&":"===s.charAt(n.Ah)){if(n.Ah>=s.length||":"!==s.charAt(n.Ah))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.mh(1);var f=ew(s,fw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=g(f,10)}else i=0,r=h,e=c;if(n.Ah>=s.length||"."!==s.charAt(n.Ah))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.mh(1);var d=ew(s,fw,n),l=g(d,10);if(c>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function dw(t){if(t.length<Qg)return!1;for(var n=0;n<Yg.length;n++){if(De(t,Yg[n]))return!0}return!1}function lw(t,n){for(;n.Ah<t.length&&(i=t.charAt(n.Ah),$e(Zg,i));)n.mh(1);var i}function _w(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function gw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Pw=i;break;case"middle":n.Pw="center"}}function ww(t,n){var i=t,r="";if(Ce(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),$g.test(i)){var e;if(Oe(i,"%")){var s=_w(i);if(null===s)return;e=s}else{if(!Kg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!nw.test(t)||tw.test(t))return;if(e=w(t),y(e))return}switch(n.Bw=e,n.Hw=Oe(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Lw=r;break;case"middle":n.Lw="center"}}}function yw(t,n){var i=t,r="";Ce(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=_w(i);if(null!==e)switch(n.Mw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Uw=r;break;case"start":n.Uw="line-left";break;case"middle":n.Uw="center";break;case"end":n.Uw="line-right"}}function mw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].$l===t)return void(n.Fw=i[r])}function kw(t,n){var i=_w(t);null!==i&&(n.wh=i)}function pw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Vw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Vw="lr";break;default:n.Vw=""}}function Aw(t,n){"VERTICAL"===t.toUpperCase()?n.Vw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Vw="lr")}function bw(t){if(t.indexOf(",")>=0){var n=_w(t.substring(0,t.indexOf(","))),i=_w(t.substring(t.indexOf(",")+1,t.length));return[Gt(n||0,0,100),Gt(i||100,0,100)]}return null}function Tw(t,n){n.$l=t}function Ew(t,n){"up"===t.toLowerCase()&&(n.ey="up")}function Sw(t,n){Jg.test(t)&&(n.ty=g(t))}function Rw(t,n){var i=_w(t);null!==i&&(n.ku=i)}!function(t){t.qm="moov",t.zm="mvhd",t.Gm="trak",t.jm="tkhd",t.Qm="mdia",t.Ym="mdhd",t.Zm="hdlr",t.Jm="minf",t.$m="stbl",t.Km="stsd",t.tk="stsc",t.nk="mvex",t.ik="trex",t.rk="avc1",t.ek="avcC",t.sk="hev1",t.uk="hvc1",t.hk="hvcC",t.ak="pasp",t.ck="mp4a",t.fk="esds",t.vk="wvtt",t.dk="vttC",t.lk="vlab",t._k="enca",t.gk="encv",t.wk="moof",t.yk="mfhd",t.mk="traf",t.kk="tfhd",t.pk="trun",t.Ak="tfdt",t.bk="mdat",t.Tk="pssh",t.Ek="emsg",t.Sk="sidx",t.Rk="styp",t.Ik="ftyp",t.Nk="sinf",t.Ck="frma"}(Wg||(Wg={})),function(t){t.Mv="vide",t.Lv="soun",t.Dk="subt",t.Ok="hint",t.xk="meta",t.Pk="auxv"}(qg||(qg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(zg||(zg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Gg||(Gg={}));var Iw=function(){function t(t,n){this.Us=void 0,this.Bk=void 0,this.Us=t,this.Bk=n}var n=t.prototype;return n.Lk=function(){return au(this.Us,this.Bk)},n.Mk=function(){return _u(this.Us,this.Bk)},n.Uk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Ah,i);return n.mh(2),r}(this.Us,this.Bk)},n.Fk=function(){return wu(this.Us,this.Bk)},n.Hk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Ah,i);return n.mh(4),r}(this.Us,this.Bk)},n.Vk=function(){return mu(this.Us,this.Bk)},n.Xk=function(t){return fu(this.Us,this.Bk,t)},n.Wk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(wu(t,n));return r}(this.Us,this.Bk,t)},n.qk=function(t){return Au(this.Us,this.Bk,t)},n.zk=function(){return Bu(this.Us,this.Bk)},n.Gk=function(t){this.Bk.mh(t)},n.ph=function(){return new t(this.Us,this.Bk.ph())},t}();function Nw(t,n){return t.vo===n}function Cw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Nw(r,n))return r}}function Dw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Nw(e,n)&&i.push(e)}return i}var Ow=function(t){function n(n,i){var r;return(r=t.call(this)||this).jk=n,r.Qk=i,r}return F(n,t),M(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(hn),xw=function(){function t(){}return t.Yk=function(n){var i=n.Us,r=n.Bk,e=t.Zk(i,r,!1);if(!e.Jk)throw new Ow(r.Ah,e.Ns);return e.Ns},t.Zk=function(n,i,r){for(var e=[];i.Ah<n.byteLength;){var s=t.$k(n,i,r);if(!s.Jk)return{Jk:!1,Ns:e};e.push(s.Kk)}return{Jk:!0,Ns:e}},t.tp=function(n,i){var r=t.$k(n,i,!1);if(!r.Jk)throw new Ow(i.Ah);return r.Kk},t.np=function(n,i){for(var r=n.Us,e=n.Bk;e.Ah<r.byteLength;){var s=t.$k(r,e,!1);if(!s.Jk)return;if(s.Kk.vo===i)return s.Kk}},t.$k=function(n,i,r){var e=i.Ah,s=t.ip(n,i);if(!s.Jk)return s;var u=s.rp,o=u.wh;if(0===o){if(r)return i.kh(e),{Jk:!1,ep:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.kh(e),{Jk:!1,ep:a}}var c={vo:u.vo,Ah:e,Us:new Iw(Fu(n,e,h),new Gu(u.sp))};return i.kh(h),{Jk:!0,Kk:c}},t.ip=function(t,n){var i=n.Ah;if(!du(t,n,8))return{Jk:!1,ep:n.Ah+8};var r=wu(t,n),e=Au(t,n,4);if(1===r){if(!du(t,n,8)){var s=n.Ah+8;return n.kh(i),{Jk:!1,ep:s}}r=mu(t,n).toNumber()}if("uuid"===e){if(!du(t,n,16)){var u=n.Ah+16;return n.kh(i),{Jk:!1,ep:u}}e=Au(t,n,16)}return{Jk:!0,rp:{vo:e,wh:r,sp:n.Ah-i}}},t.op=function(t,n,i){var r=t.Us,e=t.Bk,s=Uu(Vu(r),e.Ah,r.byteLength);return i&&(s=zu(s)),e.mh(s.byteLength),{vo:n,Us:s}},t.hp=function(n,i,r){var e=Mw(n.Fk());return{vo:i,ap:e.version,cp:e.flags,Us:t.op(n,i,r).Us}},t}();function Pw(t,n){var i=Bw(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Bw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.vo===n)return r.Us}}function Lw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.vo===n&&i.push(e.Us)}return i}function Mw(t){return{version:t>>24,flags:new uu(16777215&t)}}var Uw=function(){function t(){}return t.fp=function(n){for(var i=[],r=xw.Yk(new Iw(n,new Gu)),e=0;e<r.length;e++){var s=r[e],u=t.vp(s);u&&i.push(u)}return i},t.dp=function(t){return xw.Zk(t,new Gu,!1).Ns.some(function(t){return t.vo===Wg.wk||t.vo===Wg.Rk})},t.lp=function(n){return Lw(xw.Yk(new Iw(n,new Gu)),Wg.Tk).map(t._p)},t.gp=function(n){return Lw(xw.Yk(n.Us),Wg.Tk).map(t._p)},t.vp=function(n){switch(n.vo){case Wg.qm:return t.wp(n.Us);case Wg.wk:return t.yp(n.Us,n.Ah);case Wg.bk:return t.mp(n.Us);case Wg.Sk:return t.kp(n.Us);case Wg.Ek:return t.pp(n.Us)}},t.wp=function(n){var i=xw.Yk(n),r=Pw(i,Wg.zm),e=Lw(i,Wg.Gm),s=Bw(i,Wg.nk),u=t.Ap(r),o=e.map(t.bp),h=s?t.Tp(s):void 0;return{vo:Wg.qm,rp:u,Ep:o,Sp:h}},t.Ap=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=1===i?t.Vk():t.Fk(),s=1===i?t.Vk():t.Fk(),u=t.Fk(),o=1===i?t.Vk():t.Fk(),h=t.Fk(),a=t.Mk()>>8;t.Gk(2),t.Gk(8);var c=t.Wk(9);t.Gk(24);var f=t.Fk();return{vo:Wg.zm,ap:i,cp:r,Rp:e,Ip:s,om:u,Z_:o,Np:h,ug:a,Cp:c,Dp:f}},t.bp=function(n){var i=xw.Yk(n),r=Pw(i,Wg.jm),e=Pw(i,Wg.Qm),s=t.Op(r),u=t.xp(e);return{vo:Wg.Gm,rp:s,Pp:u}},t.Op=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=1===i?t.Vk():t.Fk(),s=1===i?t.Vk():t.Fk(),u=t.Fk();t.Gk(4);var o=1===i?t.Vk():t.Fk();t.Gk(8);var h=t.Uk(),a=t.Uk(),c=t.Uk()/_.pow(2,8);t.Gk(2);var f=t.Wk(9),v=t.Fk()/_.pow(2,16),d=t.Fk()/_.pow(2,16);return{vo:Wg.jm,Bp:r.Th(1),Lp:r.Th(2),Mp:r.Th(4),Rp:e,Ip:s,Up:u,Z_:o,Fp:h,Hp:a,ug:c,Cp:f,ku:v,Vp:d}},t.xp=function(n){var i=xw.Yk(n),r=Pw(i,Wg.Ym),e=Pw(i,Wg.Zm),s=Pw(i,Wg.Jm),u=t.Xp(r),o=t.Wp(e),h=t.qp(s);return{vo:Wg.Qm,rp:u,zp:o,Gp:h}},t.Xp=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=1===i?t.Vk():t.Fk(),s=1===i?t.Vk():t.Fk(),u=t.Fk(),o=1===i?t.Vk():t.Fk();t.Mk();return t.Gk(2),{vo:Wg.Ym,ap:i,cp:r,Rp:e,Ip:s,om:u,Z_:o}},t.Wp=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags;t.Gk(4);var e=t.qk(4);t.Gk(12);var s=t.zk();return{vo:Wg.Zm,ap:i,cp:r,jp:e,_s:s}},t.qp=function(n){var i=Pw(xw.Yk(n),Wg.$m),r=t.Qp(i);return{vo:Wg.Jm,Yp:r}},t.Qp=function(n){var i=Pw(xw.Yk(n),Wg.Km),r=t.Zp(i);return{vo:Wg.$m,Jp:r}},t.Zp=function(n){for(var i=Mw(n.Fk()),r=i.version,e=i.flags,s=(n.Fk(),[]),u=xw.Yk(n),o=0;o<u.length;o++){var h=u[o],a=t.$p(h.Us,h.vo);a&&s.push(a)}return{vo:Wg.Km,ap:r,cp:e,Kp:s}},t.$p=function(n,i){var r=t.tA(n,i);return r||((r=t.nA(n,i))||(i===Wg.vk?t.iA(n):void 0))},t.tA=function(n,i){return i===Wg.ck?t.rA(n):i===Wg._k?t.eA(n):void 0},t.nA=function(n,i){return i===Wg.rk?t.sA(n):i===Wg.sk||i===Wg.uk?t.uA(n,i):i===Wg.gk?t.oA(n):void 0},t.hA=function(t,n){return t.Gk(6),{vo:n,aA:t.Mk()}},t.cA=function(n,i){var r=t.hA(n,i);n.Gk(8);var e=n.Mk(),s=n.Mk();return n.Gk(2),n.Gk(2),ie({},r,{fA:e,vA:s,dA:n.Fk()>>>16})},t.lA=function(n,i){var r=t.hA(n,i);n.Gk(2),n.Gk(2),n.Gk(12);var e=n.Mk(),s=n.Mk(),u=n.Fk(),o=n.Fk();n.Gk(4);var h=n.Mk();n.Gk(32);var a=n.Mk();return n.Gk(2),ie({},r,{ku:e,Vp:s,_A:u,gA:o,wA:h,yA:a})},t.rA=function(n){var i=t.cA(n,Wg.ck),r=Pw(xw.Yk(n),Wg.fk);return ie({},i,{mA:t.kA(r)})},t.iA=function(n){var i=t.hA(n,Wg.vk),r=xw.Yk(n),e=Pw(r,Wg.dk),s=t.pA(e),u=Bw(r,Wg.lk);return ie({},i,{AA:s,bA:u?t.TA(u):u})},t.pA=function(t){return{vo:Wg.dk,Kh:t.zk()}},t.TA=function(t){return{vo:Wg.lk,n_:t.zk()}},t.kA=function(t){return xw.hp(t,Wg.fk,!0)},t.sA=function(n){var i=t.lA(n,Wg.rk),r=xw.Yk(n),e=Pw(r,Wg.ek),s=Bw(r,Wg.ak);return ie({},i,{EA:t.SA(e),RA:s?t.IA(s):void 0})},t.uA=function(n,i){var r=t.lA(n,i),e=Pw(xw.Yk(n),Wg.hk);return ie({},r,{NA:t.CA(e)})},t.oA=function(n){var i=n.ph(),r=t.lA(n,Wg.gk),e=Pw(xw.Yk(n),Wg.Nk),s=t.DA(e);return ie({},r,{OA:t.nA(i,s.PA.xA),BA:s})},t.eA=function(n){var i=n.ph(),r=t.cA(n,Wg._k),e=Pw(xw.Yk(n),Wg.Nk),s=t.DA(e);return ie({},r,{OA:t.tA(i,s.PA.xA),BA:s})},t.DA=function(n){var i=Pw(xw.Yk(n),Wg.Ck),r=t.LA(i);return{vo:Wg.Nk,PA:r}},t.LA=function(t){var n=t.qk(4);return{vo:Wg.Ck,xA:n}},t.SA=function(t){return xw.op(t,Wg.ek,!0)},t.CA=function(t){return xw.op(t,Wg.hk,!0)},t.IA=function(t){var n=t.Fk(),i=t.Fk();return{vo:Wg.ak,MA:n,UA:i}},t.Tp=function(n){var i=Lw(xw.Yk(n),Wg.ik).map(t.FA);return{vo:Wg.nk,Ep:i}},t.FA=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=t.Fk(),s=t.Fk(),u=t.Fk(),o=t.Fk(),h=t.Fk();return{vo:Wg.ik,ap:i,cp:r,Up:e,HA:s,VA:u,XA:o,WA:h}},t.yp=function(n,i){var r=xw.Yk(n),e=Pw(r,Wg.yk),s=Lw(r,Wg.mk),u=t.qA(e),o=s.map(t.zA);return{vo:Wg.wk,GA:i,rp:u,Ep:o}},t.qA=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=t.Fk();return{vo:Wg.yk,ap:i,cp:r,jA:e}},t.zA=function(n){var i=xw.Yk(n),r=Pw(i,Wg.kk),e=Lw(i,Wg.pk),s=Bw(i,Wg.Ak),u=t.QA(r),o=e.map(function(n){return t.YA(n,u)}),h=s?t.ZA(s):void 0;return{vo:Wg.mk,rp:u,JA:o,$A:h}},t.QA=function(t){var n=Mw(t.Fk()),i=n.version,r=n.flags,e=t.Fk(),s=r.Th(zg.BASE_DATA_OFFSET_PRESENT)?t.Vk():void 0,u=r.Th(zg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Fk():void 0,o=r.Th(zg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Fk():void 0,h=r.Th(zg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Fk():void 0,a=r.Th(zg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Fk():void 0;return{vo:Wg.kk,ap:i,cp:r,Up:e,KA:s,nb:u,VA:o,XA:h,WA:a}},t.YA=function(n,i){for(var r=Mw(n.Fk()),e=r.version,s=r.flags,u=n.Fk(),o=s.Th(Gg.DATA_OFFSET_PRESENT)?n.Hk():void 0,h=s.Th(Gg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Fk():void 0,a=[],c=0;c<u;c++){var f=t.ib(n,s,e,i);0===c&&void 0!==h&&(f.cp=h),a.push(f)}return{vo:Wg.pk,ap:e,cp:s,rb:u,GA:o,eb:h,sb:a}},t.ib=function(t,n,i,r){return{Z_:n.Th(Gg.SAMPLE_DURATION_PRESENT)?t.Fk():r.VA,wh:n.Th(Gg.SAMPLE_SIZE_PRESENT)?t.Fk():r.XA,cp:n.Th(Gg.SAMPLE_FLAGS_PRESENT)?t.Fk():r.WA,ub:n.Th(Gg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Fk():t.Hk():void 0}},t.pp=function(t){var n=t.Us,i=t.Bk,r=Mw(wu(n,i)),e=r.version,s=r.flags;if(1===e){var u=wu(n,i),o=mu(n,i),h=wu(n,i),a=wu(n,i),c=pu(n,i),f=pu(n,i),v=qu(Vu(n),i.Ah,n.byteLength);return i.mh(v.byteLength),{vo:Wg.Ek,ap:e,cp:s,ob:c,ks:f,om:u,hb:o,ab:h,$l:a,cb:v}}var d=pu(n,i),l=pu(n,i),_=wu(n,i),g=wu(n,i),w=wu(n,i),y=wu(n,i),m=qu(Vu(n),i.Ah,n.byteLength);return i.mh(m.byteLength),{vo:Wg.Ek,cp:s,ap:e,ob:d,ks:l,om:_,fb:g,ab:w,$l:y,cb:m}},t.mp=function(t){return xw.op(t,Wg.bk,!1)},t._p=function(n){var i=n.Us,r=n.Bk,e=zu(Vu(i)).buffer,s=Mw(wu(i,r)),u=s.version,o=s.flags,h=t.vb(i,r),a=[];if(u>0)for(var c=wu(i,r),f=0;f<c;f++){var v=fu(i,r,16);a.push(v)}var d=wu(i,r),l=new m(e,r.Ah,d);return r.mh(i.byteLength),{vo:Wg.Tk,ap:u,cp:o,lb:h,_b:a,gb:d,Us:l,wb:e}},t.vb=function(t,n){for(var i="",r=0;r<4;r++){var e=au(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=au(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=au(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=au(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=au(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.kp=function(t){var n,i,r=t.Us,e=t.Bk,s=Mw(wu(r,e)),u=s.version,o=s.flags,h=wu(r,e),a=wu(r,e);0===u?(n=qt.fromBits(wu(r,e),0,!0),i=qt.fromBits(wu(r,e),0,!0)):(n=mu(r,e),i=mu(r,e)),e.mh(2);for(var c=_u(r,e),f=[],v=0;v<c;v+=1){var d=wu(r,e),l=d>>31&1,_=2147483647&d,g=wu(r,e),w=wu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({yb:l,mb:_,Z_:g,kb:y,pb:m,Ab:k})}return{vo:Wg.Sk,ap:u,cp:o,bb:h,om:a,Tb:n,Eb:i,Sb:c,Rb:f}},t.ZA=function(t){var n,i=t.Us,r=t.Bk,e=Mw(wu(i,r)),s=e.version,u=e.flags;return n=0===s?qt.fromBits(wu(i,r),0,!0):mu(i,r),{vo:Wg.Ak,ap:s,cp:u,$A:n}},t}();function Fw(t){return t&&"Is"in t?t.Is:t}var Hw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this).Ib=void 0,h.Nb=void 0,h.Cb=void 0,h.Ib=s,h.Nb=u,h.Cb=o||void 0,h}return F(n,t),n.prototype.Zw=function(n){return this===n||!!Hd(this,n)&&(!!t.prototype.Zw.call(this,n)&&(!!Fd(this.Db,n.Db)&&(!!Fd(this.Fm,n.Fm)&&(this.Ob&&n.Ob?!!this.Ob.vs(n.Ob)&&(this.xw&&n.xw?this.xw.vs(n.xw):this.xw===n.xw):this.Ob===n.Ob))))},M(n,[{key:"Db",get:function(){return this.Ib}},{key:"Fm",get:function(){return this.Nb}},{key:"Ob",get:function(){return this.Cb}},{key:"fl",get:function(){var t;return this.cl||(this.cl=Md(K_(t=this),{get styles(){return t.Db},get regions(){return t.Fm},get metadata(){return Fw(t.Ob)},get content(){return Fw(t.xw)}})),this.cl}}]),n}(eg),Vw=function(){function t(t,n,i){this.Bf=void 0,this.xb=void 0,this.Pb=void 0,this.xb=t,this.Pb=n,en(i)?this.Bf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Os(s)}return i}(0,0,i):this.Bf=i}return M(t,[{key:"Bb",get:function(){return this.Bf.ds(!0)}},{key:"Dw",get:function(){return this.xb}},{key:"Ow",get:function(){return this.Pb}}]),t}();var Xw="http://www.w3.org/XML/1998/namespace";function Ww(t,n,i,r){var e=t.Ss(i,n);return 0===e.length&&(e=t.bs(r+":"+n)),e}function qw(t,n){return function(t,n){var i=t.Ns.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Ns)}return r}(t,function(t){return t.Es===n})}function zw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Gw(t,n){for(var i=t.Ls,r={},e=0;e<i.length;e++)r[zw(i[e]._s,n)]=i[e].ks;return r}var jw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Qw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Yw="http://www.w3.org/ns/ttml";function Zw(t,n,i){return void 0===i&&(i=jg),function(t,n,i){var r,e=[];try{r=T.cs(t)}catch(t){return e}var s=r.Fs;if("tt"!==s.ls)return e;var u=s&&s.Ss(Yw,"head")[0],o=s&&s.Ss(Yw,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.Ss(Yw,"styling")[0],e=r&&r.Ss(Yw,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ds(Xw,"id");i[o]=Gw(u,n)}return i}(u,h),c=function(t,n){var i=Ud(t),r=ty(n.Cs("tts:extent"));if(!r)return i;for(var e=0,s=l.keys(i);e<s.length;e++){var u=s[e],o=ty(i[u].extent);if(o){var h=$w(o[0],r[0]),a=$w(o[1],r[1]);i[u].extent=h+" "+a}var c=ty(i[u].origin);if(c){var f=$w(c[0],r[0]),v=$w(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.Ss(Yw,"layout")[0],e=r&&r.Ss(Yw,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ds(Xw,"id");if(o){i[o]=Gw(u,n);var h=ry(u,n);for(var a in h)J.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.Ss(Yw,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(en(n)){var c,f;s=null!=(c=iy(n.Cs("begin"),e))?c:s,u=iy(n.Cs("dur"),0),o=null!=(f=iy(n.Cs("end"),e))?f:void 0!==u?s+u:o;for(var v=n.Ts,d=0;d<v.length;d++)("body"===n.ls||"div"===n.ls)&&v[d].es>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.Dw,s.Ow)}r.sort(_g);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(Je(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=ny(l[_],l[_+1],h);if(g.length<=0&&ey(n)){var w=n.ds(!1);a.push(new Vw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.ds(!1);g.forEach(function(n){return t.Rs(n.Bb)}),a.push(new Vw(l[_],l[_+1],t))}()}return a}(o,i.Lm,i.Mm,i.Um),d=0;d<v.length;d++){var _=v[d],g=Jw(c,_);e.push(new Hw(_.Dw,_.Ow,_.Bb,!1,a,g,f))}return e}(t,0,i)}function Jw(t,n){for(var i=function t(n){var i=[];var r;if(en(n)){(r=n.Cs("region"))&&i.push(r);for(var e=n.Ts,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.Bb),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function $w(t,n){var i=Kw(t),r=Kw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return y(e)||y(s)?t:e/s*100+"%"}return t}function Kw(t){return Oe(t,"px")?"px":Oe(t,"em")?"em":Oe(t,"c")?"c":Oe(t,"%")?"%":void 0}function ty(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function ny(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].Dw,u=i[e].Ow;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function iy(t,n){if(t){if(jw.test(t)){var i=jw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(Qw.test(t)){var o=Qw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function ry(t,n){for(var i={},r=t.bs("style")||[],e=0;e<r.length;e++){var s=Gw(r[e],n);for(var u in s)J.call(s,u)&&(i[u]=s[u])}return i}function ey(t){if(en(t)){var n=t.ls.toUpperCase(),i=Boolean(t.Cs("smpte:backgroundImage"));return"BR"===n||i}return t.es===tn.us}function sy(t){var n=function(t){try{return T.cs(t).Fs}catch(t){}}(t);return"tt"===(null==n?void 0:n.ls)}var uy,oy=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Ml=function(n){return t.prototype.Ml.call(this,n)},i.Ul=function(n){var i=t.prototype.Ul.call(this,n);return i&&(n.c_=tl.s_),i},i.vl=function(){return ol(this)},n}(Dd),hy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Ep=new oy,n.Lb=function(t){var i=t.dl;n.Mb(i)},n}F(n,t);var i=n.prototype;return i.Ml=function(t){t.qo(Td.Tl,this.Lb),this.Ep.Ml(t),this.Mb(t)},i.Ul=function(t){t.Qo(Td.Tl,this.Lb),t.c_=tl.s_,this.Ep.Ul(t)},i.Ub=function(t){},i.Fb=function(t){},i.Mb=function(t){t.c_!==tl.s_?this.Ub(t):this.Fb(t)},i.Hb=function(){for(var t=0,n=this.Ep.Vl;t<n.length;t++){var i=n[t];i.Qo(Td.Tl,this.Lb),i.Gv()}},i.Hl=function(){return this.Hb(),this.Ep.Hl(),E.resolve()},i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),t.next=3,this.Hl();case 3:this.Ep.Gv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ts);!function(t){t.Dk="subtitles",t.Vb="captions",t.Xb="descriptions",t.Wb="chapters",t.xk="metadata",t.qb="thumbnails"}(uy||(uy={}));var ay=[uy.Dk,uy.Vb,uy.Xb,uy.Wb,uy.xk,uy.qb];function cy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&$e(ay,t)}(n)?n:n?uy.xk:uy.Dk}var fy,vy=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return F(n,t),n}(No);function dy(t){return t instanceof Vf}function ly(t){return Ce(t,fy.zb)}function _y(t){return t.some(gy)}function gy(t){return Ce(t,fy.Gb)||Ce(t,fy.vk)}function wy(t,n){return so(t)&&_y(n)}function yy(t,n){return!!t&&(so(t)?function(t){return t.some(ly)}(n)||_y(n):Ce(t,eo.APPLICATION_TTML_XML)||Ce(t,eo.TEXT_VTT)||Ce(t,eo.IMAGE_JPEG))}function my(t,n){return t===uy.qb||t===uy.xk&&n===uy.qb}function ky(t,n,i,r){for(var e=0,s=t.l_.Vl;e<s.length;e++){var u=s[e];if(u.Dw>i)break;n<=u.Ow&&r.push(u)}}function py(t,n){return lg(t.Kl,n.Kl)}function Ay(t,i){var r=i,e=0;if(dy(t)&&t.name===Lf.td)r=t.kv.Av;else if(t instanceof Wf){var s=t.ud;if(r=s.pv,0===(e=s._v))return new vy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new vy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function by(t,i,r,e){var s=function(t){switch(t){case V_.WEBVTT:return"WebVTT";case V_.SRT:return"SRT";case V_.TTML:return"TTML";default:return""}}(t);return new vy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,r,e)}function Ty(t){return dw(rw(t))?V_.WEBVTT:sy(t)?V_.TTML:V_.SRT}!function(t){t.Gb="vtt",t.vk="wvtt",t.zb="stpp"}(fy||(fy={}));var Ey=function(t){function n(n){var i;return(i=t.call(this,nl.h_)||this).errorObject=n,i}return F(n,t),n.prototype.vl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ad),Sy=function(t){function n(n,i){var r;return(r=t.call(this)||this).jb=void 0,r.Qb=void 0,r.Yb=new us,r.jb=n,r.Qb=i,r}F(n,t);var i=n.prototype;return i.Zb=function(t){if(t.src){var n=t.kind||uy.Dk,i=this.jb.Jb(n,t.id,t.label,t.srclang,t.default);return i.g_=Bf(t.src),this.Ml(i),i}},i.$b=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.d_=H_.LOADING,r=new Df({Av:n.g_,wv:Zo.us,Fv:Sf.GET,Uo:i}),t.prev=2,t.next=5,this.Qb.kv(r);case 5:return u=t.sent,s=u._v,t.next=9,u.$f();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),cs(t.t0),n.d_=H_.ERROR,n.Wo(new Ey(Ay(t.t0,n.g_))),t.abrupt("return");case 18:for(t.prev=18,o=Ty(e),n.vo=o,h=[],o===V_.WEBVTT||o===V_.SRT?(a=iw(e),h=a.l_):o===V_.TTML&&(h=Zw(e)),c=0,f=h;c<f.length;c++)v=f[c],n.Kb(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),cs(t.t1),n.d_=H_.ERROR,n.Wo(new Ey(by(n.vo,n.g_,s,t.t1))),t.abrupt("return");case 32:n.d_=H_.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Ub=function(t){$e(this.Ep.Vl,t)&&t.d_===H_.NONE&&this.$b(t,this.Yb.Uo).catch(fs)},i.Wh=function(){},i.Hl=function(){var n=E.coroutine(ne.mark(function n(){var i,r,e;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Yb.Bo(),this.Yb=new us,i=0,r=this.Ep.Vl;i<r.length;i++)e=r[i],this.jb.tT(e);return n.next=5,t.prototype.Hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(hy);function Ry(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.t_===n&&r.nT)return r}}function Iy(t,n){Ny(Ry(t.Vl,n))}function Ny(t){void 0!==t&&(t.c_=tl.o_)}function Cy(t,n){Ny(Ry(t.Vl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.t_===n)return r}}(t.Vl,n))}function Dy(t){for(var n=0;n<ay.length;n++){var i=ay[n];i===uy.Wb?Cy(t,i):Iy(t,i)}}var Oy,xy=function(t){function n(){return t.call(this,Yo.Ac)||this}return F(n,t),n}(Ss);!function(t){t[t.iT=0]="iT",t[t.rT=1]="rT"}(Oy||(Oy={}));var Py=t,By=Py.MediaSource,Ly=Py.WebKitMediaSource,My=Py.TextTrack,Uy=s&&s.createElement("video"),Fy=(s&&s.documentElement.style,Z.ce&&Z.Xe&&Z.We<=26),Hy=(Z.Ee,!!k),Vy=!(!By&&!Ly),Xy=!!My,Wy=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||Z.Ae,Z.Ue&&Z.Fe,Uy&&Uy.canPlayType&&(""!==Uy.canPlayType("application/vnd.apple.mpegURL")||Z.de&&!Z.Ue&&Z._e>=4)),qy=Uy&&Uy.canPlayType&&""!==Uy.canPlayType("video/mp4")&&!Fy,zy=Vy&&!Z.He&&!Z.Be&&!Z.Pe&&((By||Ly).isTypeSupported?(By||Ly).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Uy&&Uy.canPlayType&&""!==Uy.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Gy=Vy&&!Z.He&&(zy||((By||Ly).isTypeSupported?(By||Ly).isTypeSupported("audio/mpeg"):Uy&&Uy.canPlayType&&""!==Uy.canPlayType("audio/mpeg"))),jy=Vy&&!(Z.Me&&Z.ce)&&((By||Ly).isTypeSupported?(By||Ly).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):qy),Qy=(Z.He||Z.Be||Z.Pe,Z.Le),Yy=Qy&&!1,Zy=!Z.He,Jy=Z.Be&&Z.fe&&Z.ve<=6.1,$y=Uy&&"onresize"in Uy;try{e&&e.top!==e.self}catch(t){!0}var Ky=.001,tm=1e4,nm=3,im=function(t){function n(n){var i;return(i=t.call(this,Ml.j_)||this).currentTime=n,i}return F(n,t),n}(Ss),rm=function(t){function n(n){var i;return(i=t.call(this,Ml.Q_)||this).currentTime=n,i}return F(n,t),n}(Ss),em=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).eT=kl.U_,r.sT=!0,r.uT=!1,r.oT=!1,r.hT=function(t){var n=t.readyState;n!==r.eT&&r.Wo(t),n===kl.U_&&(r.uT=!1,r.oT=!1),r.aT(n),r.cT(n),r.fT(n),r.maybeDispatchCanPlayThroughEvent(n),r.vT(n),r.dT(n),r.eT=n},r.lT=function(){r.dT(r.eT),r.vT(r.eT),r.sT=r._T.ng},r.gT=function(){r.sT=r._T.ng},r._T=n,r.wT=i,r._T.qo(Ml.Sl,r.hT),r._T.qo(Yo.yc,r.lT),r._T.qo(Yo.wc,r.gT),r.wT&&r._T.qo(Ml.Q_,r.Xo),r}F(n,t);var i=n.prototype;return i.aT=function(t){!this.oT&&t>=kl.F_&&(this.oT=!0,this.Wo(new ql(this._T.Y_,t)))},i.cT=function(t){!this.uT&&t>=kl.H_&&(this.uT=!0,this.Wo(new Yl(this._T.Y_,t)))},i.vT=function(t){this.wT||(t>=kl.V_&&this.eT<kl.V_&&!this._T.ng||this.yT&&t>=kl.V_)&&this.Wo(new rm(this._T.Y_))},i.dT=function(t){!this.mT(t)||this._T.J_||this._T.eh||this.Wo(new im(this._T.Y_))},i.fT=function(t){this.eT<=kl.H_&&t>=kl.V_&&this.Wo(new Kl(this._T.Y_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===kl.X_&&this.Wo(new t_(this._T.Y_,t))},i.mT=function(t){var n=!this._T.ng&&t<=kl.H_,i=!this.sT&&this.eT<=kl.H_;return n&&!i},i.Hl=function(){this.eT=kl.U_,this.sT=!0,this.uT=!1,this.oT=!1},i.Gv=function(){this.jo(),this.wT&&this._T.Qo(Ml.Q_,this.Xo),this._T.Qo(Yo.yc,this.lT),this._T.Qo(Yo.wc,this.gT),this._T.Qo(Ml.Sl,this.hT)},M(n,[{key:"yT",get:function(){return!this._T.ng&&this.sT}}]),n}(Ts),sm="titanium",um="conax",om="ezdrm",hm="irdeto",am="vudrm",cm="verimatrix",fm="keyos",vm="drmtoday",dm="expressplay",lm="azure",_m="xstream",gm="vimond",wm="axinom",ym="uplynk",mm="comcast",km="custom",pm=function(){function t(t,n,i,r,e){this.$h=void 0,this.kT=void 0,this.pT=void 0,this.AT=void 0,this.Qb=void 0,this.bT=void 0,this.TT=void 0,this.$h=t,this.kT=n,this.pT=i,this.Qb=r,this.TT=e,this.AT=this.ET(n)}var i=t.prototype;return i.ST=function(){return this.bT},i.RT=function(t){this.bT=t},i.IT=function(){return this.AT.licenseAcquisitionURL||this.ST()},i.NT=function(t){return E.resolve()},i.CT=function(t,n){return E.resolve(void 0)},i.DT=function(){var t=E.coroutine(ne.mark(function t(i,r,e,s){var u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.OT(i,r,e,s)).Av){t.next=3;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.sl.kv(u);case 6:return o=t.sent,t.next=9,o.Kf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),cs(t.t0),t.next=17,this.xT(t.t0,u.Av,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.OT=function(t,n,i,r){var e=this.PT().Fc(),s=this.Wv,u={Av:this.BT(),wv:n,gv:e,ev:t,Wv:s,Fv:Sf.POST,Hv:0,Uo:r,vo:Rf.Rv,Vv:i};return new Df(u)},i.LT=function(t,n){return E.resolve(t)},i.MT=function(t,n,i,r){return E.resolve(t)},i.PT=function(){return new Jo(this.AT.headers||{})},i.xT=function(){var t=E.coroutine(ne.mark(function t(i,r,e){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.BT=function(t,n){var i=n,r=this.AT.queryParameters;if(!i){var e=this.IT();if(!e)return"";i=e}if(r||t){var s=T.Vu(i);t&&Pf(s,t),r&&Pf(s,r),i=s.href}return i},i.UT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return E.resolve(new m(Am(t,i)))}(t,this.AT)},i.FT=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HT(n,r);case 2:return e=t.sent,t.next=5,this.DT(e,this.TT,i,r);case 5:return s=t.sent,t.next=8,this.UT(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Gv=function(){},M(t,[{key:"sl",get:function(){return this.Qb}},{key:"VT",get:function(){return!1}},{key:"XT",get:function(){var t=this.AT.certificate;if(t)return et(t)?Vs(t):Wu(t)}},{key:"WT",get:function(){return!1}},{key:"Wv",get:function(){return Boolean(this.AT.useCredentials)}}]),t}();function Am(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function bm(t,n){var i=zu(t).buffer,r=n.licenseRequestProcessor;return E.resolve(Am(i,r))}var Tm,Em,Sm=function(t){function n(n,i,r,e){return t.call(this,Te,n,i,r,e)||this}F(n,t);var i=n.prototype;return i.ET=function(t){return t.widevine||{}},i.qT=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XT){t.next=2;break}return t.abrupt("return",this.XT);case 2:return t.abrupt("return",this.zT(new m(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zT=function(n,i){return t.prototype.FT.call(this,n,If.Dv,i)},n}(pm);function Rm(t,n){if(null==t)return{};var i,r,e={},s=l.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Im(t){return K(t.token&&t.deviceId)}function Nm(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&K(i.PreAuthorization)}function Cm(t){var n=t;return Im(n)&&""!==n.token&&""!==n.deviceId&&!Nm(n)}(Em=Tm||(Tm={})).GT=!1,Em.jT=!1,Em.QT=!1,Em.YT=!1,Em.LOG_ADS_DETAILS=!1,Em.LOG_CHROMECAST_DETAILS=!1,Em.LOG_CUSTOM_DRM=!1,Em.LOG_BUFFERING_VIDEO_MAIN=!1,Em.LOG_BUFFERING_VIDEO_SELECTION=!1,Em.LOG_BUFFERING_AUDIO_MAIN=!1,Em.LOG_BUFFERING_AUDIO_SELECTION=!1,Em.ZT=!1,Em.JT=!1;var Dm,Om=function(){function t(t,n,i){this.$T=t,this.Uh=n,this.KT=i}return t.prototype.tE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.KT.build(t))},M(t,[{key:"nE",get:function(){return this.$T}},{key:"$h",get:function(){return this.Uh}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Dm||(Dm={}));var xm=function(){function t(){this.iE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.rE(t,i,r)){case Dm.FAILED:throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Dm.OVERRIDDEN:var e=$m(i);T.Iu("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Dm.SUCCEEDED:$m(i);0}},i.rE=function(t,n,i){var r=$m(n);if(!r)return Dm.FAILED;for(var e=Dm.SUCCEEDED,s=0,u=this.iE.slice();s<u.length;s++){var o=u[s];o.nE===t&&o.$h===r&&(e=Dm.OVERRIDDEN,Ze(this.iE,o))}return this.iE.push(new Om(t,r,i)),e},i.eE=function(t,n){return void 0!==this.sE(t,n)},i.uE=function(t,n,i){var r=this.sE(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.tE(i)},i.sE=function(t,n){for(var i=0,r=this.iE;i<r.length;i++){var e=r[i];if(e.nE===t&&(!n||e.$h===n))return e}},t}();xm.oE=new xm;var Pm=["customdata"],Bm={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Lm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Mm(t){return t&&void 0!==t.licenseAcquisitionURL}var Um,Fm=Mm,Hm=Mm;function Vm(t){if(!t)return!0;if(zm(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return Lm(n)&&Lm(i)&&Lm(r)&&Lm(e)&&Lm(s)}function Xm(t){var n=Cm(t),i=function(t){var n,i=t;return Nm(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Im(i)}(t);return(!n||!i)&&(n||i)}function Wm(t){return t.integration===hm}function qm(t){var n=t;if(!n)return!1;if(Vm(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(zm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Fm(r))return!1;if(e&&!Hm(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(xm.oE.eE(n.integration))return!0;switch(n.integration){case sm:if(!function(t){return t.integration===sm&&(Gm(t)||jm(t))}(t))return!1;break;case am:if(!Qm(t))return!1;break;case cm:if(!function(t){return t.integration===cm}(t))return!1;break;case hm:if(!Wm(t))return!1;break;case um:if(!Xm(t))return!1;break;case om:if(!function(t){return t.integration===om}(t))return!1;break;case fm:if(!zm(t))return!1;break;case vm:if(!function(t){var n=t;return n.integration===vm&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case dm:if(!function(t){return t.integration===dm}(t))return!1;break;case _m:if(!Ym(t))return!1;break;case gm:if(!function(t){return t.integration===gm}(t))return!1;break;case wm:if(!Zm(t))return!1;break;case lm:if(!function(t){var n=t;return n.integration===lm&&void 0!==n.token}(t))return!1;break;case ym:if(!function(t){return t.integration===ym}(t))return!1;break;case mm:if(!function(t){var n=t;return n&&K(n.releasePid)&&K(n.accountId)&&K(n.token)}(t))return!1;break;case km:return!0;default:return!1}}return!0}function zm(t){return t.integration===fm}function Gm(t){return void 0!==t.authToken}function jm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Qm(t){var n=t;return n.integration===am&&void 0!==n.token}function Ym(t){var n=t;return n&&n.integration===_m&&et(n.ticketAcquisitionURL)&&et(n.streamId)}function Zm(t){var n=t;return n.integration===wm&&void 0!==n.token}function Jm(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Bm[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=ie({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return ie({},Rm(c,Pm),{licenseAcquisitionURL:u,headers:a})}function $m(t){switch(t.toLowerCase()){case"widevine":case me:return me;case"playready":case we:return we;case"fairplay":case pe:return pe}}function Km(t,i){switch(t){case le:return function(t){for(var n={},i=Uw.lp(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.lb]=e.wb}return n}(i);case _e:case ge:return function(t){var n;return(n={})[ke]=t,n}(i);default:throw new No(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ho="Widevine",t.oo="PlayreadyV2",t.hE="PlayreadyV2",t.aE="PlayreadyV3",t.ao="Fairplay"}(Um||(Um={}));var tk={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function nk(t,n){var i,r,e,s,u=tk[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=T.Wu)?void 0:i.qu,OSVersion:null==(r=T.Wu)?void 0:r.Zu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=T.Wu)?void 0:e.Ju,DeviceModel:null==(s=T.Wu)?void 0:s.$u}}}function ik(t,i){if(!t.accountName)throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function rk(t,n,i){var r;if(Gm(t))r={AuthToken:t.authToken,Payload:n};else{if(!jm(t))throw ik(t,i);r={LatensRegistration:nk(t,i),Payload:n}}return Js(JSON.stringify(r))}function ek(t,n,i){return sk.apply(this,arguments)}function sk(){return(sk=E.coroutine(ne.mark(function t(i,r,e){var s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.ud){t.next=3;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.Jf(e);case 7:o=t.sent,h=uk(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.kv.Av,u._v,u.yv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function uk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var ok=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Mc)||this).cE=void 0,e}F(i,t),i.fE=function(){return T.qu._u?"required":"optional"};var r=i.prototype;return r.xT=function(t,n,i){return ek(t,n,i)},r.NT=function(t){return this.cE?vs(this.cE.Sh,t):(this.cE=new Qu,E.resolve())},r.HT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.kT){t.next=3;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Ws(i),t.abrupt("return",rk(e,s,Um.ho));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.UT=function(t){var i;if(!t.license)throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Vs(t.license),E.resolve(i)},r.vE=function(t){return E.resolve(new m(t))},r.qT=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dE(),t.next=3,this.HT(n,i);case 3:return r=t.sent,t.next=6,this.DT(r,Zo.Lc,If.Ov,i);case 6:return e=t.sent,t.next=9,this.vE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.zT=function(){var n=E.coroutine(ne.mark(function n(i,r){var e;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.zT.call(this,i,r);case 2:return e=n.sent,this.dE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.dE=function(){this.cE||(this.cE=new Qu),this.cE.Rh()},r.Gv=function(){this.cE&&this.cE.Bo(),t.prototype.Gv.call(this)},i}(Sm),hk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Lc)||this).RT("https://widevine-proxy.drm.technology/proxy"),e}return F(i,t),i.prototype.HT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bm(i,this.AT);case 2:if(e=t.sent,s=this.pT,r=new m(e),u=[].slice.call(r),o=this.lE){t.next=8;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(i,[{key:"lE",get:function(){if(Qm(this.kT))return this.kT.token}}]),i}(Sm);function ak(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ie({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ie({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ck=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Lc)||this).RT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}F(n,t);var i=n.prototype;return i.HT=function(t,n){return bm(t,this.AT)},i.BT=function(n,i){var r=n;return Wm(this.kT)&&(r=ak(this.kT,r)),t.prototype.BT.call(this,r,i)},n}(Sm),fk="Conax-Custom-Data";function vk(t,n,i){var r=t&&Xm(t)&&t;if(r&&!i.has(fk)){var e=Cm(r)?r.token:void 0,s=Cm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(fk,u)}return i}var dk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Lc)||this).RT("https://connect.conax.com:8094/license"),e}F(n,t);var i=n.prototype;return i.HT=function(t,n){return bm(t,this.AT)},i.PT=function(){var n=t.prototype.PT.call(this);return vk(this.kT,"Widevine",n)},n}(Sm);function lk(t){var n=Du(new m(t));return Vs(JSON.parse(n).license)}function _k(t){return"string"==typeof t.token?t.token:Js(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function gk(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var wk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Lc)||this).RT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}F(n,t);var i=n.prototype;return i.HT=function(t,n){return bm(t,this.AT)},i.UT=function(t){return E.resolve(lk(t))},i.PT=function(){return gk(t.prototype.PT.call(this),this.lE,this.kT)},M(n,[{key:"lE",get:function(){return _k(this.kT)}}]),n}(Sm),yk=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.Lc)||this}F(n,t);var i=n.prototype;return i.HT=function(t,n){return bm(t,this.AT)},i.PT=function(){var n=t.prototype.PT.call(this),i=this.kT.token;return n.set("Authorization","Bearer "+i),n},n}(Sm);function mk(t,n,i,r){return kk.apply(this,arguments)}function kk(){return(kk=E.coroutine(ne.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ym(i)){t.next=2;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Jo).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={Av:i.ticketAcquisitionURL,wv:Zo.Mc,gv:u,Fv:Sf.POST,ev:JSON.stringify(c),Uo:s},t.next=13,e.kv(f);case 13:return v=t.sent,t.next=16,v.Jf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var pk=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.Mc)||this}F(n,t);var i=n.prototype;return i.PT=function(){var n=t.prototype.PT.call(this);return n.set("Content-Type","application/json"),n},i.HT=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Zs(n.buffer),e=this.kT,t.next=4,mk(e,"widevine_modular",this.sl,i);case 4:return s=t.sent,this.RT(s.licenseServerUrl),u=Ou(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",bm(u,this.AT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.UT=function(t){var n=t;return E.resolve(Vs(n.license))},n}(Sm),Ak=function(t){function i(n,i,r){return t.call(this,n,i,r,Zo.Lc)||this}F(i,t);var r=i.prototype;return r.HT=function(t,n){return bm(t,this.AT)},r.PT=function(){if(!Zm(this.kT))throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PT.call(this);return i.set("X-AxDRM-Message",this.kT.token),i},i}(Sm);function bk(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Tk=function(t){function n(n,i,r){var e;return(e=t.call(this,be,n,i,r,Zo.Lc)||this)._E=void 0,e}F(n,t);var i=n.prototype;return i.ET=function(t){return t.playready||{}},i.PT=function(){var n=new Jo(this._E);return n.Vc(t.prototype.PT.call(this)),n},i.gE=function(t){return t.length>=1&&t[0].Ts.length>0},i.CT=function(n){var i=this.kT.playready.customData;if(i){var r=bk(i),e=bk('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Ws(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return E.resolve({playready:{Ta:e}})}return t.prototype.CT.call(this,n)},i.HT=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bm(n,this.AT);case 2:return r=t.sent,t.abrupt("return",this.wE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wE=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Iu(o,new Gu,!0),t.prev=3,a=T.cs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.bs("PlayReadyKeyMessage")[0])?void 0:i.bs("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.bs("Challenge"))?r:[],this.gE(f)&&(u=Ys(f[0].Ms)),v=new Jo,d=null!=(e=null==c?void 0:null==(s=c.bs("HttpHeaders")[0])?void 0:s.bs("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.bs("name")[0].Ms,w=_.bs("value")[0].Ms,v.append(g,w);return this._E=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.qT=function(t,n){return E.resolve(t)},i.zT=function(n,i){return t.prototype.FT.call(this,n,If.xv,i)},n}(pm),Ek=function(){function t(n){this.yE=void 0,this.mE=n,this.yE=t.kE(n)}return t.kE=function(t){return"3"===t.version?Um.aE:Um.hE},t.prototype.pE=function(){var t={};if(this.yE===Um.aE){var n={LatensRegistration:nk(this.mE,Um.aE)};t["X-TITANIUM-DRM-CDATA"]=Js(JSON.stringify(n))}return t},M(t,[{key:"AE",get:function(){return this.yE}},{key:"ca",get:function(){return this.yE===Um.hE}}]),t}();var Sk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bE=void 0,e.bE=new Ek(e.kT),e}F(i,t);var r=i.prototype;return r.CT=function(t){var i=this.kT;if(!this.kT)throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(jm(i)){var r={};return r.playready={Ta:Rk(i,this.bE.AE)},E.resolve(r)}return E.reject(ik(i,Um.oo))},r.PT=function(){var n=new Jo(this.bE.pE());return n.Vc(t.prototype.PT.call(this)),n},r.xT=function(){var t=E.coroutine(ne.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.ud){t.next=3;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.tv(e);case 6:h=t.sent,a=Du(new m(h)),(c=T.cs(a))&&(f=qw(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Ms),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s._v,s.yv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.gE=function(t){if(1!==t.length)throw new p_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Tk);function Rk(t,n){var i=nk(t,n),r=i.DeviceInfo.FormatVersion,e=Js('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Pu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Pu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Ws(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Ik,Nk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://playready-license.drm.technology/rightsmanager.asmx"),e}F(i,t);var r=i.prototype;return r.gE=function(t){if(1!==t.length)throw new p_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.BT=function(n,i){var r=ie({},n||{},{token:this.lE});return t.prototype.BT.call(this,r,i)},M(i,[{key:"lE",get:function(){if(Qm(this.kT))return this.kT.token}}]),i}(Tk),Ck=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return F(n,t),n.prototype.BT=function(n,i){var r=n;return Wm(this.kT)&&(r=ak(this.kT,r)),t.prototype.BT.call(this,r,i)},n}(Tk),Dk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return F(n,t),n.prototype.PT=function(){var n=t.prototype.PT.call(this);return vk(this.kT,"PlayReady",n)},n}(Tk),Ok=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}F(n,t);var i=n.prototype;return i.UT=function(n){return(De(Du(new m(n)),"<?xml")?Ik.TE:Ik.Jf)===Ik.Jf?E.resolve(lk(n)):E.resolve(t.prototype.UT.call(this,new m(n)))},i.PT=function(){return gk(t.prototype.PT.call(this),this.lE,this.kT)},M(n,[{key:"lE",get:function(){return _k(this.kT)}}]),n}(Tk);!function(t){t[t.TE=0]="TE",t[t.Jf=1]="Jf"}(Ik||(Ik={}));var xk,Pk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EE=void 0,e}F(n,t);var i=n.prototype;return i.PT=function(){var n=t.prototype.PT.call(this);return this.EE&&n.set("Ticket",this.EE),n.set("Content-Type","text/xml"),n},i.HT=function(){var n=E.coroutine(ne.mark(function n(i,r){var e,s;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.kT,n.next=3,mk(e,"playready",this.sl,r);case 3:return s=n.sent,this.RT(s.licenseServerUrl),this.EE=s.ticket,n.abrupt("return",t.prototype.HT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(Tk),Bk=function(t){function i(){return t.apply(this,arguments)||this}return F(i,t),i.prototype.PT=function(){if(!Zm(this.kT))throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PT.call(this);return i.set("X-AxDRM-Message",this.kT.token),i},i}(Tk);!function(t){t.Mc="application/json",t.SE="application/x-www-form-urlencoded",t.RE="application/octet-stream",t.us="text/plain;charset=UTF-8"}(xk||(xk={}));var Lk=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.$h,i,r,e,s)||this).IE="",u.NE=void 0,u.CE=void 0,u.CE=n.DE,u}F(n,t);var i=n.prototype;return i.OE=function(){return this.AT.certificateURL||this.NE},i.xE=function(t){this.NE=t},i.HT=function(t){return E.resolve(this.PE(t,this.IE))},i.PE=function(t,n){return"spc="+encodeURIComponent(Ws(t))+"&assetId="+encodeURIComponent(n)},i.ET=function(t){return t.fairplay||{}},i.BE=function(t){var n=t.indexOf("?");if(n>=0)return E.resolve(t.substr(n+1));var i=t.split("/");return E.resolve(i[i.length-1])},i.CT=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.CE)?i:Lu(new m(n)),t.next=3,this.BE(r);case 3:return e=t.sent,this.IE=e,(s={}).fairplay={Da:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(){var n=t.prototype.PT.call(this);return n.set("Content-Type",this.LE),n},i.qT=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XT){t.next=2;break}return t.abrupt("return",this.XT);case 2:return t.next=4,this.ME(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zT=function(n,i){return t.prototype.FT.call(this,n,If.Nv,i)},i.UE=function(t){var n=this.OE(),i=this.PT(),r={Av:n,wv:Zo.Lc,gv:i,Fv:Sf.GET,Wv:!1,ev:null,Hv:0,Uo:t,vo:Rf.Rv,Vv:If.Cv};return new Df(r)},i.ME=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.UE(n),t.next=3,this.sl.kv(i);case 3:return r=t.sent,t.next=6,r.tv();case 6:return e=t.sent,t.abrupt("return",new m(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.UT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Vs(i)}else n=new m(t);return E.resolve(n)},i.BT=function(n,i){var r=t.prototype.BT.call(this,n,i);return De(r,"skd:")&&(r=r.substr("skd:".length)),r},M(n,[{key:"WT",get:function(){return!0}},{key:"LE",get:function(){return xk.SE}}]),n}(pm),Mk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Lc)||this}F(n,t);var i=n.prototype;return i.BE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return E.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return E.resolve(i)},i.HT=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UT=function(t){return E.resolve(new m(t))},i.BT=function(n,i){var r=n||{};return r.p1=$t(),t.prototype.BT.call(this,r,i)},M(n,[{key:"LE",get:function(){return xk.RE}}]),n}(Lk),Uk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Lc)||this).RT("https://fairplay-license.drm.technology/license"),s.xE("https://fairplay-license.drm.technology/certificate"),s}F(i,t);var r=i.prototype;return r.PE=function(t,n){var i={token:this.lE,contentId:n,payload:Ws(t)};return JSON.stringify(i)},r.UT=function(t){return E.resolve(new m(t))},r.PT=function(){var n=t.prototype.PT.call(this);return n.set("x-vudrm-token",this.lE),n},M(i,[{key:"LE",get:function(){return xk.Mc}},{key:"lE",get:function(){if(!Qm(this.kT))throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.kT.token}}]),i}(Lk),Fk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Hk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Vk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Lc)||this}return F(i,t),i.prototype.UT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Fk)}if(!i)throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Hk);return i}(Du(new DataView(i)));return t.prototype.UT.call(this,r)},i}(Lk);var Xk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Mc)||this}F(i,t);var r=i.prototype;return r.HT=function(){var t=E.coroutine(ne.mark(function t(i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.kT){t.next=3;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Ws(i),t.abrupt("return",rk(r,e,Um.ao));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.UT=function(t){try{var i;if(et(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Ys(i.license);return E.resolve(new m(e))}return E.reject(new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return E.reject(new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.xT=function(t,n,i){return ek(t,n,i)},M(i,[{key:"LE",get:function(){return xk.Mc}}]),i}(Lk),Wk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Lc)||this).RT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.xE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}F(n,t);var i=n.prototype;return i.OE=function(){var n=t.prototype.OE.call(this);if(!n)return n;var i=T.Vu(n),r=this.kT;return Wm(r)&&Pf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.BE=function(n){return Wm(this.kT)?E.resolve(this.kT.contentId):t.prototype.BE.call(this,n)},i.HT=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UT=function(t){return E.resolve(new m(t))},i.BT=function(n,i){var r=n;return Wm(this.kT)&&(r=function(t,n){return ie({},ak(t,n),{KeyId:t.keyId})}(this.kT,r)),t.prototype.BT.call(this,r,i)},M(n,[{key:"LE",get:function(){return xk.RE}}]),n}(Lk),qk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,Zo.us)||this,!Xm(r))throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.RT("https://connect.conax.com:8097/license"),u}F(i,t);var r=i.prototype;return r.PT=function(){var n=t.prototype.PT.call(this);return vk(this.kT,"FairPlay",n)},r.ME=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OE(),r={Av:i,wv:Zo.Lc,gv:{},Fv:Sf.GET,Wv:!1,ev:null,Hv:0,Uo:n,vo:Rf.Rv,Vv:If.Cv},t.next=4,this.sl.kv(r);case 4:return e=t.sent,t.next=7,e.tv();case 7:return s=t.sent,t.abrupt("return",new m(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.HT=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.BE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),E.resolve(Du(Vs(n)))):E.resolve("unknown")},r.UT=function(t){try{var n=JSON.parse(t);return E.resolve(new m(Ys(n.CkcMessage)))}catch(t){return E.reject("CFLRW-66")}},i}(Lk),zk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.us)||this).RT(Bm[ve.ao]),s}F(i,t);var r=i.prototype;return r.BE=function(t){return De(t,"skd://")?E.resolve(t.substring("skd://".length,40)):E.reject(new p_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.PE=function(t,n){return"spc="+Ws(t)+"&assetId="+n},i}(Lk),Gk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.us)||this).RT("https://lic.drmtoday.com/license-server-fairplay/"),s}F(n,t);var i=n.prototype;return i.PE=function(t,n){var i="spc="+encodeURIComponent(Ws(t))+"&"+encodeURI(n);return"persistent"===this.AT.licenseType?i+"&offline=true":i},i.PT=function(){return gk(t.prototype.PT.call(this),this.lE,this.kT)},M(n,[{key:"lE",get:function(){return _k(this.kT)}}]),n}(Lk),jk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Lc)||this}F(n,t);var i=n.prototype;return i.BE=function(t){var n=t;return De(n,"skd:")&&(n="http:"+n.substring(4)),De(n,"http:")||De(n,"https:")?E.resolve(T.Vu(n).hostname):E.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.HT=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UT=function(t){return E.resolve(new m(t))},M(n,[{key:"LE",get:function(){return xk.RE}}]),n}(Lk),Qk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.us)||this}return F(n,t),n.prototype.PT=function(){var n=t.prototype.PT.call(this),i=this.kT.token;return n.set("Authorization","Bearer "+i),n},n}(Lk),Yk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Zo.Mc)||this,!Ym(i))throw new v("Invalid Xstream DRM configuration");return s}F(n,t);var i=n.prototype;return i.ME=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OE(),r=this.PT(),e={Av:i,wv:Zo.Mc,gv:r,Fv:Sf.POST,Uo:n,vo:Rf.Rv,Vv:If.Cv},t.next=5,this.sl.kv(e);case 5:return s=t.sent,t.next=8,s.Jf();case 8:return u=t.sent,t.abrupt("return",new m(Vs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zT=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Zo.us),e=Ws(n),s=this.kT,t.next=5,mk(s,"fairplay",this.sl,i);case 5:return u=t.sent,o=Ou(JSON.stringify({spc:e,ticket:u.ticket})),h={Av:this.IT(),wv:Zo.Mc,gv:this.PT(),Fv:Sf.POST,ev:o,Hv:0,Uo:i,vo:Rf.Rv,Vv:If.Nv},t.next=10,this.sl.kv(h);case 10:return a=t.sent,t.next=13,a.Jf();case 13:return c=t.sent,t.abrupt("return",Vs(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"LE",get:function(){return xk.Mc}}]),n}(Lk),Zk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.us)||this}F(i,t);var r=i.prototype;return r.PE=function(t,n){return Ws(t)},r.UT=function(i){if(0===i.length)throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.UT.call(this,i)},r.PT=function(){var n=t.prototype.PT.call(this);return n.set("Content-Type","text/plain"),n},i}(Lk),Jk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Lc)||this}F(i,t);var r=i.prototype;return r.PE=function(t,n){return t},r.UT=function(t){return E.resolve(new m(t))},r.PT=function(){if(!Zm(this.kT))throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.PT.call(this);return i.set("X-AxDRM-Message",this.kT.token),i},M(i,[{key:"LE",get:function(){return xk.Mc}}]),i}(Lk),$k=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Mc)||this).FE=void 0,s}F(i,t);var r=i.prototype;return r.PE=function(t,n){var i={spc:Ws(t)};return JSON.stringify(i)},r.BE=function(t){var i=T.Vu(t);return this.FE=t,i.searchParams.has("b")?E.resolve(i.searchParams.get("b")):E.reject(new p_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.BT=function(n,i){var r=this.IT();return!r&&this.FE&&(r=this.FE),r&&(r=r.replace("skd://","https://")),t.prototype.BT.call(this,n,i||r)},r.UT=function(){var t=E.coroutine(ne.mark(function t(i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=et(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Vs(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),M(i,[{key:"LE",get:function(){return xk.us}}]),i}(Lk),Kk=function(){function t(t,n){this.HE=t,this.VE=n}var n=t.prototype;return n.XE=function(t){return this.HE(t)},n.WE=function(t,n){throw new d(n+" must be "+this.VE+". (Received: "+t+")")},t}(),tp=new Kk(ht,"a number"),np=new Kk(et,"a string"),ip=new Kk(st,"a boolean");var rp,ep=(rp={responseCode:tp,isException:ip,description:np,title:np,correlationId:np},{XE:function(t){if(!it(t))return!1;for(var n=0,i=l.keys(rp);n<i.length;n++){var r=i[n];if(!rp[r].XE(t[r]))return!1}return!0},WE:function(t,n){if(!it(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(rp);i<r.length;i++){var e=r[i],s=rp[e];if(!s.XE(t[e]))return s.WE(t[e],n+"."+e)}throw new d}});function sp(t,n,i,r,e){return up.apply(this,arguments)}function up(){return(up=E.coroutine(ne.mark(function t(n,i,r,e,s){var u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=op(n,i,r,s),t.next=3,hp(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function op(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=T.Vu(t);return Pf(i,n),i.toString()}(i,e)),u=new Jo({});u.append("Content-Type","application/json");var o=Ws(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{Av:s,wv:Zo.us,gv:u,Fv:Sf.POST,ev:JSON.stringify(h),Uo:r,vo:Rf.Rv,Vv:If.Nv}}function hp(t,n){return ap.apply(this,arguments)}function ap(){return(ap=E.coroutine(ne.mark(function t(i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.kv(i);case 2:return e=t.sent,t.next=5,e.Jf();case 5:if(s=t.sent,!ep.XE(s)){t.next=8;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.Av,s.responseCode);case 8:return t.abrupt("return",Vs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var cp=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Zo.Lc)||this).qE=void 0,s.qE=i,s}F(n,t);var i=n.prototype;return i.BE=function(n){var i=n.replace("FairPlay",this.qE.releasePid);return t.prototype.BE.call(this,i)},i.zT=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sp(n,this.qE,this.IT(),this.sl,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Lk),fp=function(t){function i(n,i,r){return t.call(this,Se,n,i,r,Zo.Lc)||this}F(i,t);var r=i.prototype;return r.ET=function(t){return t.clearkey||{}},r.HT=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",bm(n,this.AT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.DT=function(){var i=E.coroutine(ne.mark(function i(r,e,s,u){var o,h;return ne.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.AT,!this.IT()){i.next=5;break}return i.abrupt("return",t.prototype.DT.call(this,r,this.TT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Ou(JSON.stringify(h)).buffer);case 10:throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.qT=function(t,n){return E.resolve(new m(0))},r.zT=function(n,i){return t.prototype.FT.call(this,n,If.Pv,i)},i}(pm),vp=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.HT=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",bm(n,this.AT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Sm),dp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function lp(t,n,i){return _p.apply(this,arguments)}function _p(){return(_p=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Np(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,vs(E.resolve(s.call(n,e)),r);case 8:if(!Xu(u=t.sent)){t.next=11;break}return t.abrupt("return",Wu(u));case 11:return t.abrupt("return",Ip(ie({},dp,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r,e){return wp.apply(this,arguments)}function wp(){return(wp=E.coroutine(ne.mark(function t(n,i,r,e,s){var u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Rp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,vs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Wu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yp(t,n,i,r){return mp.apply(this,arguments)}function mp(){return(mp=E.coroutine(ne.mark(function t(n,i,r,e){var s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ap(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",Ip(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r,e,s){return pp.apply(this,arguments)}function pp(){return(pp=E.coroutine(ne.mark(function t(n,i,r,e,s,u){var o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=Sp(r,s),t.next=3,Tp(n,new m(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",Wu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ap(t,n,i,r){return bp.apply(this,arguments)}function bp(){return(bp=E.coroutine(ne.mark(function t(n,i,r,e){var s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=Sp(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(u));case 5:return t.next=8,vs(E.resolve(s.call(n,u)),e);case 8:if(!Xu(o=t.sent)){t.next=11;break}return t.abrupt("return",Wu(o).buffer);case 11:return t.abrupt("return",ie({fairplaySkdUrl:void 0},dp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=E.coroutine(ne.mark(function t(n,i,r,e,s){var u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Rp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,vs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Wu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n){return ie({},Np(t),{fairplaySkdUrl:n})}function Rp(t,n,i){return{url:i.pv,status:i._v,statusText:i.yv,headers:i.gv.Fc(),body:t,request:n}}function Ip(t){return new Df({Av:t.url,Fv:t.method,gv:t.headers,ev:t.body,Wv:t.useCredentials})}function Np(t){var n;return{url:t.Av,body:null!=(n=Cp(t.ev))?n:null,headers:t.gv.Fc(),method:t.Fv,useCredentials:t.Wv}}function Cp(t){if(t)return"string"==typeof t?Ou(t):t instanceof ArrayBuffer?new m(t):zs(t)?Vu(t):void 0}var Dp,Op=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).zE=void 0,s.zE=e,s}F(i,t);var r=i.prototype;return r.qT=function(t,n){return E.resolve(t)},r.zT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wE(zu(i).buffer);case 2:return e=t.sent,s=this.OT(e,Zo.Lc,If.xv,r),t.next=6,yp(this.zE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new m(u));case 10:if(""!==u.Av){t.next=12;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.sl.kv(u);case 15:return o=t.sent,t.next=18,o.tv(r);case 18:return h=t.sent,t.t0=m,t.next=22,kp(this.zE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),cs(t.t2),new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Tk),xp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,Zo.Lc)||this).zE=void 0,s.zE=e,s}F(i,t);var r=i.prototype;return r.qT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XT){t.next=2;break}return t.abrupt("return",this.XT);case 2:return e=this.OT(i,Zo.Lc,If.Ov,r),t.next=5,lp(this.zE,e,r);case 5:if(!((s=t.sent)instanceof m)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.Av){t.next=11;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.sl.kv(s);case 14:return u=t.sent,t.next=17,u.tv(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),cs(t.t0),new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=Sp(e,void 0),t.next=27,gp(this.zE,new m(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.zT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.OT(i,Zo.Lc,If.Dv,r),t.next=3,yp(this.zE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.Av){t.next=9;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.sl.kv(s);case 12:return u=t.sent,t.next=15,u.tv(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),cs(t.t0),new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=m,t.next=25,kp(this.zE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(vp),Pp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Zo.Lc)||this).zE=void 0,u.GE=void 0,u.zE=s,u}F(i,t);var r=i.prototype;return r.qT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XT){t.next=2;break}return t.abrupt("return",this.XT);case 2:return e=this.UE(r),t.next=5,lp(this.zE,e,r);case 5:if(s=t.sent,!zs(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.sl.kv(s);case 11:return u=t.sent,t.next=14,u.tv();case 14:return o=t.sent,h=Sp(e,void 0),t.next=18,gp(this.zE,new m(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),cs(t.t0),new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.zT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.OT(i,Zo.Lc,If.Nv,r),t.next=3,yp(this.zE,e,this.GE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.Av){t.next=9;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.sl.kv(s);case 12:return u=t.sent,t.next=15,u.tv(r);case 15:return o=t.sent,t.t0=m,t.next=19,kp(this.zE,o,e,u,this.GE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),cs(t.t2),new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.BE=function(n){var i;return this.GE=n,null!=(i=this.zE)&&i.extractFairplayContentId?E.resolve(this.zE.extractFairplayContentId(n)):t.prototype.BE.call(this,n)},i}(Lk),Bp=function(){function t(){}var n=t.prototype;return n.jE=function(t,n,i,r){switch(t.$h.vo){case ve.ho:return this.QE(n,i,r);case ve.oo:return this.YE(n,i,r);case ve.ao:return this.ZE(t,n,i,r);case ve.co:default:return this.JE(n,i,r)}},n.QE=function(t,n,i){var r,e=(r=t).integration===km&&et(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&xm.oE.eE(e,me)){var s=xm.oE.uE(e,me,t);return new xp(t,n,i,s)}switch(e){case sm:return new ok(t,n,i);case am:return new hk(t,n,i);case hm:return new ck(t,n,i);case um:return new dk(t,n,i);case vm:return new wk(t,n,i);case lm:return new yk(t,n,i);case _m:return new pk(t,n,i);case wm:return new Ak(t,n,i);case fm:default:return new vp(t,n,i,Zo.Lc)}},n.YE=function(t,n,i){var r=t.integration;if(r&&xm.oE.eE(r,we)){var e=xm.oE.uE(r,we,t);return new Op(t,n,i,e)}switch(r){case sm:return new Sk(t,n,i);case am:return new Nk(t,n,i);case hm:return new Ck(t,n,i);case um:return new Dk(t,n,i);case vm:return new Ok(t,n,i);case _m:return new Pk(t,n,i);case wm:return new Bk(t,n,i);case fm:default:return new Tk(t,n,i)}},n.ZE=function(t,n,i,r){var e=n.integration;if(e&&xm.oE.eE(e,pe)){var s=xm.oE.uE(e,pe,n);return new Pp(t,n,i,r,s)}switch(e){case om:return new Mk(t,n,i,r);case am:return new Uk(t,n,i,r);case cm:return new Vk(t,n,i,r);case sm:return new Xk(t,n,i,r);case hm:return new Wk(t,n,i,r);case um:return new qk(t,n,i,r);case fm:return new zk(t,n,i,r);case vm:return new Gk(t,n,i,r);case dm:return new jk(t,n,i,r);case lm:return new Qk(t,n,i,r);case _m:return new Yk(t,n,i,r);case gm:return new Zk(t,n,i,r);case wm:return new Jk(t,n,i,r);case ym:return new $k(t,n,i,r);case mm:return new cp(t,n,i,r);default:return new Lk(t,n,i,r,Zo.us)}},n.JE=function(t,n,i){return new fp(t,n,i)},n.$E=function(t){return t.vo===ve.oo||t.vo===ve.ho||t.vo===ve.ao||t.vo===ve.co},n.ca=function(t,n){var i;if(t.vo!==ve.oo)return!1;if(K(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!xm.oE.eE(r,pe))&&(r===sm&&new Ek(n).ca)},n.fE=function(t,n){if(t.vo===ve.ho){var i=n.integration;if(!i||!xm.oE.eE(i,pe))return i===sm?ok.fE():void 0}},t}();!function(t){t[t.KE=0]="KE",t[t.tS=1]="tS",t[t.nS=2]="nS",t[t.iS=3]="iS",t[t.D_=4]="D_",t[t.rS=5]="rS",t[t.M_=6]="M_",t[t.eS=7]="eS",t[t.sS=8]="sS"}(Dp||(Dp={}));var Lp,Mp=function(){function t(){}return t.prototype.uS=function(t){},M(t,[{key:"oS",get:function(){return 0}},{key:"hS",get:function(){return 0}}]),t}(),Up=function(){function t(t,n){void 0===n&&(n=new Bp),this.Qb=void 0,this.aS=void 0,this.mE=void 0,this.Qb=t,this.aS=n}var n=t.prototype;return n.cS=function(t){this.mE=t},n.fE=function(t){var n=this.mE;if(void 0!==n)return this.aS.fE(t,n)},n.ca=function(t){var n=this.mE;return void 0!==n&&this.aS.ca(t,n)},n.fS=function(t){var n={$h:t.$h,vS:t.vS||[],DE:t.DE},i=this.aS.jE(n,this.mE||{},t.pT,this.Qb);return new Fp(i)},t}(),Fp=function(){function t(t){this.dS=void 0,this.dS=t}var n=t.prototype;return n.NT=function(t){return this.dS.NT(t)},n.CT=function(t,n,i){return this.dS.CT(n,i)},n.WT=function(){return this.dS.WT||void 0!==this.dS.XT},n.qT=function(t,n){return this.dS.qT(t,n)},n.zT=function(t,n,i){return n&&this.dS.RT(n),this.dS.zT(t,i)},n.No=function(){this.dS.Gv()},t}(),Hp=function(t){function n(n){var i;(i=t.call(this)||this).lS=[],i._S=function(t){i.Ml(t.dl)},i.gS=function(t){var n=t.dl;i.wS(n)||i.Ul(n)};for(var r=0;r<n.length;r++){var e=n[r];i.yS(e)}return i}F(n,t);var i=n.prototype;return i.yS=function(t){this.lS.push(t);for(var n=0,i=t.Vl;n<i.length;n++){var r=i[n];this.Ml(r)}this.mS(t)},i.kS=function(t){Ze(this.lS,t),this.pS(t);for(var n=0,i=t.Vl;n<i.length;n++){var r=i[n];this.wS(r)||this.Ul(r)}},i.wS=function(t){for(var n=0,i=this.lS;n<i.length;n++){if(i[n].Fl(t))return!0}return!1},i.mS=function(t){t.qo(kd.ul,this._S),t.qo(kd.hl,this.gS)},i.pS=function(t){t.Qo(kd.ul,this._S),t.Qo(kd.hl,this.gS)},i.Gv=function(){for(;this.lS.length>0;)this.kS(this.lS[0]);t.prototype.Gv.call(this)},i.vl=function(){return ol(this)},n}(Dd);function Vp(){return Lp||(Lp=pr&&pr.document&&pr.document.createElement("video")),Lp}var Xp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Bp),void 0===o&&(o=Wo()),(h=t.call(this)||this).AS=void 0,h.bS=void 0,h.TS=void 0,h.mg=void 0,h.kg=void 0,h.pg=void 0,h.ES=void 0,h.SS=void 0,h.RS=void 0,h.IS=void 0,h.NS=void 0,h.Qb=void 0,h.mo=void 0,h.CS=void 0,h.DS=void 0,h.OS=new Mp,h.xS=function(t){var n=t.eh,i=n.code,r=new No(E_(i),"Something went wrong during native playback.",n),e=new A_(i,r.message,n.message);h.PS(r,e)},h.LS=function(){h.Wo(new jl(h.Y_,h.Jg))},h.MS=function(t){h.ng||(h.DS=void 0),h.Wo(t)},h.US=function(t){h.DS=void 0,h.Wo(t)},h.FS=function(){h.Wo(new q_(h.Kg))},h.HS=function(){h.sg>0&&h.eg>0&&h.Wo(new xy)},h.VS=function(t){h.mg.Ml(new U_(t.track))},h.XS=function(t){var n=qp(h.mg,t.track);n&&h.mg.Ul(n)},h.WS=function(){h.qS(h.mg)},h.zS=function(t){h.kg.Ml(new W_(t.track))},h.GS=function(t){var n=qp(h.kg,t.track);n&&h.kg.Ul(n)},h.jS=function(){h.qS(h.kg)},h.QS=function(t){h.Wo(t),h.PS(t.errorObject,T_(t.errorObject))},h.AS=i,h.Qb=r,h.mo=o,h.bS=h.AS.YS(S_.Mv),h.RS=h.bS.ZS.preload,h.IS=new em(h.bS,!0),h.IS.qo(Wl,h.Xo),h.CS=new Up(r,u),h.bS.JS=h.CS,h.$S(),h.mg=new R_,h.kg=new R_,h.KS(),h.NS=new Sy(h.bS,h.Qb),h.pg=new Hp([h.bS.Rg]),h.Hg(),h}F(n,t);var i=n.prototype;return i.Vg=function(){this.bS.Vg()},i.Hg=function(){this.bS.Hg()},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(r),e={vo:Oy.iT,g_:n.src,rv:n.type,tR:this.nR(n),hw:this.RS,iR:n.crossOrigin,rR:i.metadata&&i.metadata.title},this.CS.cS(n.contentProtection),t.next=5,this.bS.Wh(e);case 5:this.TS=t.sent,as(r),i.textTracks&&this.eR(i.textTracks),Dy(this.Rg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.bS.sR()&&Z.Ae&&Xy&&!my(i.kind,i.label)&&this.uR(i)){var r,e=null!=(r=i.kind)?r:uy.Dk;this.bS.oR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.NS.Zb(i)}}},i.uR=function(t){return!t.format||"webvtt"===t.format},i.Ng=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.bS.Ng();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.hR){t.next=12;break}return t.next=10,this.bS.$o(Yo.mc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Cg=function(){this.bS.Cg()},i.Pg=function(){return void 0!==this.bS.ZS.webkitShowPlaybackTargetPicker},i.Bg=function(){this.bS.ZS.webkitShowPlaybackTargetPicker&&this.bS.ZS.webkitShowPlaybackTargetPicker()},i.Lg=function(){this.bS.ZS.webkitShowPlaybackTargetPicker&&this.bS.ZS.webkitShowPlaybackTargetPicker()},i.Xg=function(){return this.bS.ZS},i.Wg=function(){return this.bS.aR},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ES=void 0,this.SS=void 0,this.TS=void 0,t.next=5,this.NS.Hl();case 5:return this.bS.cR(),t.next=8,this.bS.Hl();case 8:this.IS.Hl(),this.hw=this.RS,this.Eg.Hl(),this.Sg.Hl(),this.DS=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.jo(),this.fR(),this.vR(),this.IS.Gv(),this.bS.JS=void 0,t.next=9,this.AS.dR(this.bS);case 9:return this.mg.Gv(),this.kg.Gv(),this.pg.Gv(),t.next=14,this.NS.Gv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$S=function(){this.bS.qo(Yo.yc,this.Xo),this.bS.qo(Yo.wc,this.Xo),this.bS.qo(Yo.Dc,this.LS),this.bS.qo(Yo.mc,this.Xo),this.bS.qo(Yo.vc,this.Xo),this.bS.qo(Yo.Tc,this.Xo),this.bS.qo(Yo.bc,this.MS),this.bS.qo(Yo.ac,this.Xo),this.bS.qo(Yo.kc,this.Xo),this.bS.qo(Yo.Oc,this.Xo),this.bS.qo(Yo.oc,this.Xo),this.bS.qo(Yo.Ac,this.HS),this.bS.qo(Ml.Q_,this.US),this.bS.qo(nl.h_,this.xS),this.bS.qo(Yo.ec,this.Xo),this.bS.qo(Yo.rc,this.QS),this.bS.ZS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.FS)},i.fR=function(){this.bS.Qo(Yo.yc,this.Xo),this.bS.Qo(Yo.wc,this.Xo),this.bS.Qo(Yo.Dc,this.LS),this.bS.Qo(Yo.mc,this.Xo),this.bS.Qo(Yo.vc,this.Xo),this.bS.Qo(Yo.Tc,this.Xo),this.bS.Qo(Yo.bc,this.MS),this.bS.Qo(Yo.ac,this.Xo),this.bS.Qo(Yo.kc,this.Xo),this.bS.Qo(Yo.Oc,this.Xo),this.bS.Qo(Yo.oc,this.Xo),this.bS.Qo(Yo.Ac,this.HS),this.bS.Qo(Ml.Q_,this.US),this.bS.Qo(nl.h_,this.xS),this.bS.Qo(Yo.ec,this.Xo),this.bS.Qo(Yo.rc,this.QS),this.bS.ZS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.FS)},i.nR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$h:Ee,lR:[{initDataTypes:[Ee.lo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.KS=function(){var t=this.bS.ZS.audioTracks,n=this.bS.ZS.videoTracks;t&&(t.addEventListener("addtrack",this.VS),t.addEventListener("removetrack",this.XS),t.addEventListener("change",this.WS)),n&&(n.addEventListener("addtrack",this.zS),n.addEventListener("removetrack",this.GS),n.addEventListener("change",this.jS))},i.vR=function(){var t=this.bS.ZS.audioTracks,n=this.bS.ZS.videoTracks;t&&(t.removeEventListener("addtrack",this.VS),t.removeEventListener("removetrack",this.XS),t.removeEventListener("change",this.WS)),n&&(n.removeEventListener("addtrack",this.zS),n.removeEventListener("removetrack",this.GS),n.removeEventListener("change",this.jS))},i.qS=function(t){for(var n=0;n<t.Xl;n++){t.Ll(n).mw()}},i.Yg=function(){this.bS.Yg()},i.PS=function(t,n){this.ES||(this.ES=n,this.SS=t,this.Wo(new i_(t)))},M(n,[{key:"hR",get:function(){var t=this.bS.Zg,n=this.Y_;return t._R(n,.01)}},{key:"Eg",get:function(){return this.mg}},{key:"Zg",get:function(){return this.bS.Zg.gR()}},{key:"Jg",get:function(){return this.bS.Jg},set:function(t){t&&this.bS.wR(t)}},{key:"Y_",get:function(){return void 0!==this.DS?this.DS:this.bS.Y_},set:function(t){this.Kg&&(this.DS=t),this.bS.kh(t)}},{key:"Z_",get:function(){return this.bS.Z_}},{key:"J_",get:function(){return this.bS.J_}},{key:"eh",get:function(){return this.ES}},{key:"K_",get:function(){return this.SS}},{key:"Ig",get:function(){}},{key:"Kg",get:function(){return this.bS.Kg}},{key:"dg",get:function(){return ie({},{tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.bS.yR())}},{key:"tg",get:function(){return this.bS.tg},set:function(t){this.bS.tg=t}},{key:"uw",get:function(){return!0}},{key:"ng",get:function(){return this.bS.ng}},{key:"ig",get:function(){return this.bS.ig},set:function(t){this.bS.ig=t}},{key:"ow",get:function(){return this.bS.ZS.played}},{key:"hw",get:function(){return this.RS},set:function(t){this.RS=t,this.TS&&(this.TS.hw=t)}},{key:"d_",get:function(){return this.bS.d_}},{key:"aw",get:function(){return this.bS.aw.gR()}},{key:"rg",get:function(){return this.bS.rg}},{key:"mR",get:function(){return this.bS.mR}},{key:"Rg",get:function(){return this.pg}},{key:"Sg",get:function(){return this.kg}},{key:"eg",get:function(){return this.bS.eg}},{key:"sg",get:function(){return this.bS.sg}},{key:"ug",get:function(){return this.bS.ug},set:function(t){this.bS.ug=t}},{key:"cw",get:function(){return this.bS.cw},set:function(t){this.bS.cw=t}},{key:"kR",get:function(){return this.OS}}]),n}(cl);var Wp=function(){function t(){this.pR=Dp.sS}var n=t.prototype;return n.tE=function(t,n,i,r,e,s){return new Xp(t,n,i,r,e)},n.AR=function(t,n){return function(t){return!t.type||!(!Vp().canPlayType||!Vp().canPlayType(t.type))}(t)},n.bR=function(){return!1},t}();function qp(t,n){for(var i=0,r=t.Vl;i<r.length;i++){var e=r[i];if(e.Aw===n)return e}}var zp=function(){function t(){this.ER=new Wp,this.SR=[]}t.RR=function(){return this.ts};var n=t.prototype;return n.IR=function(t){this.SR.push(t)},n.tE=function(t,n,i,r,e,s){for(var u=this.ER.tE(t,n,i,r,e,s),o=0,h=this.SR;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.AR=function(t,n){return this.ER.AR(t,n)},n.bR=function(){return!1},M(t,[{key:"pR",get:function(){return this.ER.pR}}]),t}();function Gp(t,n){return lg(t.pR,n.pR)}function jp(t){Qp.ts.NR(t)}zp.ts=new zp;var Qp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).DR=zp.RR(),n}F(n,t);var i=n.prototype;return i.OR=function(t){this.DR=t},i.xR=function(){return this.DR},i.PR=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.LR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{MR:e,UR:s});case 8:r++,t.next=1;break;case 11:u=this.DR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.AR(h,i)){t.next=17;break}return t.abrupt("return",{MR:h,UR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{MR:n[0],UR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.FR=[]}var n=t.prototype;return n.NR=function(t){this.FR.push(t),this.FR.sort(Gp)},n.LR=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.FR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!ut(u=s.AR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Qp.ts=new Qp;var Yp,Zp=function(){function t(t){this.HR=void 0,this.HR=pr&&pr.document&&pr.document.createElement("div"),Dr(this.HR),t.appendChild(this.HR)}return t.prototype.Gv=function(){Rr(this.HR)},t}();function Jp(t){switch(t){case Yp.XR:case"":return Yp.XR;case Yp.xk:return Yp.xk;case Yp.WR:default:return Yp.WR}}!function(t){t.sS="",t.WR="none",t.xk="metadata",t.XR="auto"}(Yp||(Yp={}));var $p=[nl.h_,Yo.hc,Yo.sh,Yo.Bc,Yo.Ka,Yo.cc,Yo._c,Yo.gc,Yo.Sc,Yo.Ic,Ml.W_,Ml.q_,Ml.z_,Ml.G_,Ml.Sl,Ml.j_,Ml.Q_,Yo.rc,Yo.ec,Yo.oc,Yo.ac,Yo.vc,Yo.dc,Yo.yc,Yo.mc,Yo.wc,Yo.kc,Yo.Ac,Yo.Tc,Yo.bc,Yo.Dc,Yo.Oc,Yo.pc,Yo.lc,Yo.Ec],Kp=function(t){function n(n,i){var r;return(r=t.call(this)||this).qR=void 0,r.zR=void 0,r.GR=void 0,r.jR=void 0,r.RS=Yp.WR,r.QR=void 0,r.YR=!0,r.mg=new il,r.kg=new il,r.pg=new al,r.Ag=new m_,r.qR=n,r.GR=i,r.GR.hw=r.hw,r.ZR(),r}F(n,t);var i=n.prototype;return i.Cg=function(){this.GR.Cg()},i.Ng=function(){var t=this.GR.Ng();ut(t)&&ws(t)},i.Dg=function(){return this.xg(void 0)},i.Mg=function(){},i.zg=function(t){return!1},i.ZR=function(){this.mg.Ql=this.GR.Eg,this.kg.Ql=this.GR.Sg,this.pg.Ql=this.GR.Rg,this.Ag.Ql=this.GR.Ig,this.GR.qo($p,this.Xo)},i.JR=function(){this.GR.Qo($p,this.Xo),this.mg.Ql=void 0,this.kg.Ql=void 0,this.pg.Ql=void 0,this.Ag.Ql=void 0},i.Og=function(){return this.QR},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(i),this.QR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Dl(r=n.sources.filter(Ll))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.qR.PR(r,n);case 9:if(e=t.sent,as(i),s=e.MR,u=e.UR,o=this.Wg(),h=s_(this),this.zR===u&&!this.eh){t.next=25;break}return this.JR(),t.next=19,this.GR.Gv();case 19:as(i),this.zR=u,this.GR=this.$R(u),tA(this.GR,h),u_(this,h,this),this.ZR();case 25:return this.GR.hw=this.hw,this.YR?this.GR.Hg():this.GR.Vg(),t.next=29,this.GR.xg(s,n,i);case 29:as(i),this.KR(s),this.Wg()!==o&&this.Wo(new vl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.KR=function(t){this.jR!==t&&(this.jR=t,this.Wo(new dl(t)))},i.Pg=function(){return this.GR.Pg()},i.Bg=function(){this.GR.Bg()},i.Lg=function(){this.GR.Lg()},i.Wg=function(){return this.GR.Wg()},i.Yg=function(){this.GR.Yg()},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QR=void 0,this.KR(void 0),t.next=4,this.GR.Hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),t.next=3,this.Hl();case 3:return t.next=5,this.GR.Gv();case 5:this.mg.Gv(),this.kg.Gv(),this.pg.Gv(),this.Ag.Gv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hg=function(){this.YR=!0,this.GR.Hg()},i.Vg=function(){this.YR=!1,this.GR.Vg()},M(n,[{key:"Eg",get:function(){return this.mg}},{key:"Zg",get:function(){return this.GR.Zg}},{key:"eh",get:function(){return this.GR.eh}},{key:"K_",get:function(){return this.GR.K_}},{key:"Jg",get:function(){return this.GR.Jg},set:function(t){this.GR.Jg=t}},{key:"Qg",get:function(){return this.jR}},{key:"Y_",get:function(){return this.GR.Y_},set:function(t){this.GR.Y_=t}},{key:"Z_",get:function(){return this.GR.Z_}},{key:"J_",get:function(){return this.GR.J_}},{key:"Ig",get:function(){return this.Ag}},{key:"Kg",get:function(){return this.GR.Kg}},{key:"dg",get:function(){return this.GR.dg}},{key:"tg",get:function(){return this.GR.tg},set:function(t){this.GR.tg=t}},{key:"uw",get:function(){return this.GR.uw}},{key:"ng",get:function(){return this.GR.ng}},{key:"ig",get:function(){return this.GR.ig},set:function(t){this.GR.ig=t}},{key:"ow",get:function(){return this.GR.ow}},{key:"hw",get:function(){return this.RS},set:function(t){this.RS=t,this.GR&&(this.GR.hw=this.RS)}},{key:"d_",get:function(){return this.GR.d_}},{key:"aw",get:function(){return this.GR.aw}},{key:"rg",get:function(){return this.GR.rg}},{key:"Rg",get:function(){return this.pg}},{key:"eg",get:function(){return this.GR.eg}},{key:"Sg",get:function(){return this.kg}},{key:"sg",get:function(){return this.GR.sg}},{key:"ug",get:function(){return this.GR.ug},set:function(t){this.GR.ug=t}},{key:"kR",get:function(){return this.GR.kR}}]),n}(Ts);function tA(t,n){t.tg!==n.tg&&(t.tg=n.tg),t.ug!==n.ug&&(t.ug=n.ug),t.ig!==n.ig&&(t.ig=n.ig)}var nA,iA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xl=void 0,r.tI=void 0,r.nI=void 0,r.Xl=n.length>>1,r.tI=n,r.nI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Xl),r}F(n,t);var i=n.prototype;return i.iI=function(t){return this.tI[2*t]},i.rI=function(t){return this.nI[2*t]},i.eI=function(t){return this.tI[2*t+1]},i.sI=function(t){return this.nI[2*t+1]},M(n,[{key:"uI",get:function(){return this.tI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Zw=function(t,n){return 0===this.gy(t,n)},n.qy=function(t,n){return this.gy(t,n)>0},n.zy=function(t,n){return this.gy(t,n)>=0},n.py=function(t,n){return this.gy(t,n)<0},n.my=function(t,n){return this.gy(t,n)<=0},n.fm=function(t,n){return this.py(t,n)?t:n},n.cm=function(t,n){return this.qy(t,n)?t:n},n.oI=function(t,n,i){return i?this.my(t,n):this.py(t,n)},n.gR=function(){var t=this;return{get length(){return t.Xl},start:function(n){var i=0|n;return t.hI(i),t.aI(t.iI(i))},end:function(n){var i=0|n;return t.hI(i),t.aI(t.eI(i))}}},n.cI=function(){for(var t=new Array(2*this.Xl),n=new Array(2*this.Xl),i=0;i<this.Xl;i++)t[2*i]=this.iI(i),t[2*i+1]=this.eI(i),n[2*i]=!0,n[2*i+1]=!0;return this.fI(t,n)},n.hI=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Xl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Xl+")")},n.vI=function(t){if(0===this.Xl)return this.dI();if(this._R(t))return t;if(this.my(t,this.iI(0)))return this.iI(0);if(this.zy(t,this.eI(this.Xl-1)))return this.eI(this.Xl-1);for(var n,i=this.lI(),r=0;r<this.Xl;r++){var e=this.iI(r),s=this.ky(e,t);this.py(s,i)&&(n=e,i=s);var u=this.eI(r),o=this.ky(this.eI(r),t);this.py(o,i)&&(n=u,i=o)}return n},n._I=function(t){for(var n=0,i=0,r=[],e=[];n<this.Xl&&i<t.Xl;){var s=this.iI(n),u=this.eI(n),o=this.rI(n),h=this.sI(n),a=t.iI(i),c=t.eI(i),f=t.rI(i),v=t.sI(i),d=this.cm(s,a),l=this.fm(u,c),_=void 0;_=this.Zw(s,a)?o&&f:this.Zw(d,s)?o:f;var g=void 0;g=this.Zw(u,c)?h&&v:this.Zw(l,u)?h:v,(this.py(d,l)||_&&g&&this.Zw(d,l))&&(r.push(d,l),e.push(_,g));var w=this.gy(this.eI(n),t.eI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.fI(r,e)},n.gI=function(){var t=this.wI(),n=t.Xl;if(0===n)return this.fI([t.yI(),t.lI()],[!1,!1]);var i=[],r=[],e=t.iI(0);t.Zw(e,t.yI())||(i.push(t.yI(),e),r.push(!1,!t.rI(0)));for(var s=0;s<n-1;s++)i.push(t.eI(s),t.iI(s+1)),r.push(!t.sI(s),!t.rI(s+1));var u=t.eI(n-1);return t.Zw(u,t.lI())||(i.push(u,t.lI()),r.push(!t.sI(n-1),!1)),t.fI(i,r)},n.mI=function(t){for(var n=0,i=0,r=this.Xl,e=t.Xl,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.iI(n),a=this.eI(n),c=t.iI(i),f=t.eI(i);this.py(h,c)||this.Zw(h,c)&&this.py(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.rI(n),u[o+1]=this.sI(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.rI(i),u[o+1]=t.sI(i),i++),o+=2}for(;n<r;)s[o]=this.iI(n),s[o+1]=this.eI(n),u[o]=this.rI(n),u[o+1]=this.sI(n),n++,o+=2;for(;i<e;)s[o]=t.iI(i),s[o+1]=t.eI(i),u[o]=t.rI(i),u[o+1]=t.sI(i),i++,o+=2;return this.fI(s,u)},n.kI=function(t){void 0===t&&(t=this.dI());var n=this.Xl;if(n<2)return this;for(var i=[],r=[],e=this.iI(0),s=this.eI(0),u=this.rI(0),o=this.sI(0),h=1;h<n;h++){var a=this.iI(h),c=this.eI(h),f=this.rI(h),v=this.sI(h);this.py(e,a)&&this.qy(s,c)||(this.Zw(e,a)&&(u=f=u||f),this.Zw(s,c)&&(o=v=o||v),this.oI(a,this.vw(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.fI(i,r).wI()},n.wI=function(){for(var t=[],n=[],i=0;i<this.Xl;i++){var r=this.iI(i),e=this.eI(i),s=this.rI(i),u=this.sI(i);this.Zw(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.fI(t,n)},n.pI=function(t){return this.Xl?t.Xl?this.mI(t).kI():this:t},n.AI=function(t){var n=this.wI(),i=t.wI(),r=n.gI(),e=i.gI(),s=r._I(i),u=e._I(n);return s.pI(u)},n.mh=function(t){if(this.Zw(t,this.dI()))return this;for(var n=[],i=[],r=0;r<this.Xl;r++){var e=this.vw(this.iI(r),t),s=this.vw(this.eI(r),t);n.push(e,s),i.push(this.rI(r),this.sI(r))}return this.fI(n,i)},n.bI=function(t){return 0===this.Xl||0===t.Xl?this:this.wI()._I(t.wI().gI())},n._R=function(t,n){return this.TI(t,n)>=0},n.EI=function(t,n,i,r,e){return this.SI(t,n,i,r,e)>=0},n.RI=function(t,n,i,r,e){return this.II(t,n,i,r,e)>=0},n.NI=function(t){if(t.Xl!==this.Xl)return!1;for(var n=0;n<this.Xl;n++)if(!this.Zw(this.iI(n),t.iI(n))||!this.Zw(this.eI(n),t.eI(n))||this.rI(n)!==t.rI(n)||this.sI(n)!==t.sI(n))return!1;return!0},n.CI=function(t){for(var n=[],i=[],r=0;r<this.Xl;r++){var e=this.iI(r),s=this.eI(r),u=this.rI(r),o=this.sI(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.fI(n,i)},n.II=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.dI());for(var s=this.Ey(t,e),u=this.vw(n,e),o=0;o<this.Xl;o+=1)if(this.oI(this.iI(o),u,!r||this.rI(o))&&this.oI(s,this.eI(o),!i||this.sI(o)))return o;return-1},n.SI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.dI());for(var s=this.vw(t,e),u=this.Ey(n,e),o=0;o<this.Xl;o+=1)if(this.oI(this.iI(o),s,!i||this.rI(o))&&this.oI(u,this.eI(o),!r||this.sI(o)))return o;return-1},n.TI=function(t,n){return this.SI(t,t,!0,!0,n)},n.DI=function(t,n){void 0===n&&(n=this.dI());for(var i=this.vw(t,n),r=this.Xl-1;r>=0;r-=1)if(this.oI(this.iI(r),i,this.rI(r)))return r;return-1},n.OI=function(t,n){void 0===n&&(n=this.dI());for(var i=this.Ey(t,n),r=0;r<this.Xl;r+=1)if(this.oI(i,this.eI(r),this.sI(r)))return r;return-1},n.xI=function(t){return this.hI(t),this.fI([this.iI(t),this.eI(t)],[this.rI(t),this.sI(t)])},n.BI=function(t,n){var i=this.TI(t,n);return i<0?void 0:this.xI(i)},M(t,[{key:"LI",get:function(){for(var t=this.dI(),n=0;n<this.Xl;n++){var i=this.Ey(this.eI(n),this.iI(n));t=this.vw(t,i)}return t}}]),t}()),rA=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.gy=function(t,n){return t<n?vg.ay:t===n?vg.oy:vg.hy},i.vw=function(t,n){return t+n},i.Ey=function(t,n){return t-n},i.ky=function(t,n){return _.abs(t-n)},i.dI=function(){return 0},i.lI=function(){return 1/0},i.yI=function(){return-1/0},n.MI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.UI=function(t){for(var i=[],r=[],e=0;e<t.Xl;e++)i.push(t.iI(e).lm),i.push(t.eI(e).lm),r.push(t.rI(e)),r.push(t.sI(e));return new n(i,r)},n.FI=function(t){return new n([t,t],[!0,!0])},i.fI=function(t,i){return new n(t,i)},i.aI=function(t){return t},n.HI=function(){return eA},n}(iA),eA=new rA([]);!function(t){t.Tl="fullscreenchange",t.VI="fullscreensupportchange",t.h_="fullscreenerror"}(nA||(nA={}));var sA=function(t){function n(){return t.call(this,nA.h_)||this}return F(n,t),n}(Ss),uA=new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Rw=function(){this.Wo(new sA)},i.Nw=function(){},i.Gv=function(){this.jo()},M(n,[{key:"XI",get:function(){return!1}},{key:"WI",get:function(){return!1}}]),n}(Ts)),oA=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).AS=void 0,n.bS=void 0,n}F(n,t);var i=n.prototype;return i.Xg=function(){var t;return null==(t=this.bS)?void 0:t.ZS},i.Gv=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Gv.call(this);case 2:if(!this.bS){n.next=6;break}return n.next=5,this.AS.dR(this.bS);case 5:this.bS=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"qI",set:function(t){this.AS=t,this.bS=t.YS(S_.Mv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).zI=0,n.GI=!1,n.jI=!0,n.QI=1,n.YI=!1,n.ZI=1,n.Eg=new R_,n.Zg=rA.HI().gR(),n.Z_=NaN,n.J_=!1,n.eh=void 0,n.K_=void 0,n.Ig=void 0,n.Kg=!1,n.uw=!0,n.ow=rA.HI().gR(),n.hw=Yp.WR,n.d_=kl.U_,n.aw=rA.HI().gR(),n.mR=void 0,n.Rg=new oy,n.eg=0,n.Sg=new R_,n.sg=0,n.OS=new Mp,n}F(n,t);var i=n.prototype;return i.Hg=function(){},i.Vg=function(){},i.Ng=function(){this.jI&&(this.jI=!1,this.Wo(new Hl(this.Y_)),this.Wo(new im(this.Y_)))},i.Cg=function(){this.jI||(this.jI=!0,this.Wo(new jl(this.Y_,this.Jg)),this.Wo(new Fl(this.Y_)))},i.xg=function(t,n){return E.resolve()},i.Pg=function(){return!1},i.Bg=function(){},i.Lg=function(){},i.Wg=function(){return uA},i.Yg=function(){},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zI=0,this.YI=!1,this.Cg(),this.Wo(new Ul(this.zI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jo(),this.Eg.Gv(),this.Rg.Gv(),this.Sg.Gv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Jg",get:function(){},set:function(t){}},{key:"Y_",get:function(){return this.zI},set:function(t){this.zI!==t&&(this.zI=t,this.YI=!0,this.Wo(new Zl(this.Y_)))}},{key:"dg",get:function(){return{tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"tg",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.GI=t,this.Wo(new $l(this.Y_,this.ug)))}},{key:"ng",get:function(){return this.jI}},{key:"ig",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.Wo(new Gl(this.Y_,this.ig)))}},{key:"rg",get:function(){return this.YI}},{key:"ug",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.Wo(new $l(this.Y_,this.ug)))}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"kR",get:function(){return this.OS}}]),n}(Ts)),hA=function(t){function n(n,i,r,e,s,u){var o,h=new oA;return(o=t.call(this,Qp.ts,h)||this).Ea=void 0,o.JI=void 0,o.$I=void 0,o.KI=void 0,o.Qb=void 0,o.tN=void 0,o.nN=void 0,o.$I=n,o.Ea=i,o.Qb=r,o.tN=e,o.KI=u,o.JI=new yr(s,o.KI),o.JI.iN(o.$I),h.qI=o.JI,o.nN=new Zp(o.$I),o}F(n,t);var i=n.prototype;return i.Mg=function(){t.prototype.Mg.call(this),this.JI.rN()},i.Ug=function(t){var n,i,r,e;n=this,r=(i=t).ug,e=i.tg,n.ug=r,n.tg=e},i.Fg=function(){},i.$R=function(t){return t.tE(this.$I,this.JI,this.Qb,this.Ea,this.tN,this.KI)},i.Xg=function(){return this.GR.Xg()},i.qg=function(){return this.JI.eN.map(function(t){return t.ZS})},i.Go=function(n){t.prototype.Go.call(this,n)},i.Jo=function(n){t.prototype.Jo.call(this,n)},i.Gv=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Gv.call(this);case 2:this.JI.Gv(),this.nN.Gv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"$g",get:function(){return this.$I}},{key:"cw",get:function(){return this.GR.cw},set:function(t){this.GR.cw=t}}]),n}(Kp),aA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).$I=void 0,e.sN=void 0,e.uN=void 0,e.oN=void 0,e.hN=void 0,e.$I=n,e.sN=i,e.oN=new R_,e.hN=new oy,e.uN=r,e}F(n,t);var i=n.prototype;return i.zg=function(t){return!0},i.Vg=function(){},i.Ng=function(){throw this.Wo(new i_(this.uN)),this.sN},i.Cg=function(){},i.Og=function(){},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw as(i),this.Wo(new i_(this.uN)),this.sN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Hg=function(){},i.Dg=function(){return E.resolve()},i.Xg=function(){},i.Wg=function(){return uA},i.qg=function(){return[]},i.Mg=function(){},i.Ug=function(t){},i.Fg=function(){},i.Pg=function(){return!1},i.Bg=function(){},i.Lg=function(){},i.Yg=function(){},i.Hl=function(){return E.resolve()},i.Gv=function(){return this.jo(),this.oN.Gv(),this.hN.Gv(),E.resolve()},M(n,[{key:"Eg",get:function(){return this.oN}},{key:"Zg",get:function(){return rA.HI().gR()}},{key:"Jg",get:function(){return new Date(NaN)},set:function(t){}},{key:"Qg",get:function(){}},{key:"Y_",get:function(){return 0},set:function(t){}},{key:"Z_",get:function(){return 0}},{key:"$g",get:function(){return this.$I}},{key:"J_",get:function(){return!0}},{key:"eh",get:function(){return this.sN}},{key:"K_",get:function(){return this.uN}},{key:"Ig",get:function(){}},{key:"dg",get:function(){return{tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"tg",get:function(){return!1},set:function(t){}},{key:"uw",get:function(){return!0}},{key:"ng",get:function(){return!0}},{key:"ig",get:function(){return 0},set:function(t){}},{key:"ow",get:function(){return rA.HI().gR()}},{key:"hw",get:function(){return Yp.WR},set:function(t){}},{key:"d_",get:function(){return kl.U_}},{key:"aw",get:function(){return rA.HI().gR()}},{key:"rg",get:function(){return!1}},{key:"Rg",get:function(){return this.hN}},{key:"eg",get:function(){return 0}},{key:"Sg",get:function(){return this.oN}},{key:"sg",get:function(){return 0}},{key:"ug",get:function(){return 1},set:function(t){}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"Kg",get:function(){return!1}}]),n}(fl);function cA(t){if(t&&it(t))return ie({},t,{integration:fA(t.integration),fairplay:yA(t.fairplay),widevine:vA(t.widevine),playready:dA(t.playready),clearkey:mA(t.clearkey),aes128:kA(t.aes128),integrationParameters:pA(t.integrationParameters),preferredKeySystems:AA(t.preferredKeySystems)})}function fA(t){if(et(t))return t}function vA(t){if(t&&it(t))return{persistentState:lA(t.persistentState),distinctiveIdentifier:lA(t.distinctiveIdentifier),audioRobustness:_A(t.audioRobustness),videoRobustness:_A(t.videoRobustness),licenseAcquisitionURL:et(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:gA(t.licenseType),headers:t.headers,useCredentials:!!st(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:et(t.certificate)||Xu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:wA(t.certificateRequestProcessor),certificateResponseProcessor:wA(t.certificateResponseProcessor),licenseRequestProcessor:wA(t.licenseRequestProcessor),licenseResponseProcessor:wA(t.licenseResponseProcessor)}}function dA(t){if(t){var n=vA(t);if(n)return ie({},n,{customData:et(t.customData)?t.customData:void 0})}}function lA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function _A(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function gA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wA(t){if("function"==typeof t)return t}function yA(t){if(t){var n=vA(t);if(n)return ie({},n,{certificateURL:et(t.certificateURL)?t.certificateURL:void 0})}}function mA(t){if(t){var n=vA(t);if(n)return ie({},n,{keys:tt(t.keys)?t.keys.map(function(t){return function(t){if(!t||!it(t))return;var n=t.id,i=t.value;if(!et(n)||!et(i))return;return{id:n,value:i}}(t)}).filter(K):void 0})}}function kA(t){if(it(t))return{useCredentials:st(t.useCredentials)?t.useCredentials:void 0}}function pA(t){if(it(t))return t}function AA(t){return t&&tt(t)?t.map(function(t){return $m(t)}).filter(K):[me,we,pe]}var bA,TA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return F(n,t),n}(Ss),EA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).aN=[],r.cN=void 0,r.fN=function(t){gs(function(){r.Xo(t)})},r.cN=i?r.fN:r.Xo,r}F(n,t);var i=n.prototype;return i.vN=function(t){t.Go(this.cN),this.aN.push(t)},i.dN=function(t){t.Jo(this.cN),Ze(this.aN,t)},i.Gv=function(){this.jo();for(var t=0,n=this.aN;t<n.length;t++){n[t].Jo(this.cN)}Ke(this.aN)},n}(cl),SA=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(EA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(bA||(bA={}));var RA,IA=function(t){function i(n){var i;return(i=t.call(this)||this).lN=void 0,i._N=void 0,i.gN=!1,i.wN=!1,i.yN=void 0,i.mN=void 0,i.kN=void 0,i.cl=void 0,i.pN=function(){return i.AN()},i.bN=function(){return i.TN()},i.kN=n,i.lN=i._N=i.yN=i.mN=bA.INLINE,i.kN.qo(nA.Tl,i.pN),i.kN.qo(nA.h_,i.bN),i.EN(),i}F(i,t);var r=i.prototype;return r.vl=function(){return t=this,i={get currentMode(){return t.SN()},requestMode:function(n){var i=CA(n);i&&t.RN(i)},supportsMode:function(n){var i=CA(n);return!!i&&t.IN(i)},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)}},(n=new EA(i,!0)).vN(t),i;var t,n,i},r.RN=function(t){this.NN(t,t)},r.NN=function(t,n){this._N!==n&&(this.gN=!0,this.lN=t,this.CN(n,this._N),t!==bA.FULLSCREEN&&(this.yN=t),this.gN=!1,this.EN())},r.SN=function(){return this.wN?bA.FULLSCREEN:bA.INLINE},r.IN=function(t){switch(t){case bA.FULLSCREEN:return this.kN.WI;case bA.INLINE:return!0}return!1},r.EN=function(){if(!this.gN){var t=this._N,n=this.SN();this._N=n,n!==bA.FULLSCREEN&&(this.mN=n),t!==n&&this.Wo(new TA(n))}},r.CN=function(t,n){var i=t===bA.FULLSCREEN;this.wN=i,i!==this.kN.XI&&(i?this.kN.Rw():this.kN.Nw())},r.AN=function(){if(!this.gN){var t=this.kN.XI;this.wN=t,t?this.NN(bA.FULLSCREEN,bA.FULLSCREEN):t||this.lN!==bA.FULLSCREEN?this.EN():this.NN(this.yN,this.mN)}},r.TN=function(){this.AN(),this.Wo(new i_(new No(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Gv=function(){this.kN.Gv(),this.jo()},M(i,[{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}}]),i}(cl),NA={Y_:0,Z_:NaN,J_:!1,eh:void 0,K_:void 0,tg:!1,ng:!0,ig:1,d_:kl.U_,rg:!1,eg:0,sg:0,ug:1};function CA(t){switch(t){case bA.INLINE:case bA.FULLSCREEN:case bA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(RA||(RA={}));var DA,OA,xA,PA,BA,LA,MA,UA,FA=function(){function t(){this.DN=[]}var n=t.prototype;return n.ON=function(t){var n=this.xN.filter(function(n){return n.PN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.BN=function(t){this.DN.push(t)},M(t,[{key:"xN",get:function(){return this.DN}}]),t}();FA.ts=new FA,function(t){t.Q_="PLAYING",t._g="PAUSED",t.LN="SEEK",t.MN="STALLED",t.UN="FAILED",t.FN="INITIAL_BUFFERING",t.HN="NO_ACCESS"}(DA||(DA={})),function(t){t.VN="HTTP_REQUEST_STATUS_CODE_1XX",t.XN="HTTP_REQUEST_STATUS_CODE_2XX",t.WN="HTTP_REQUEST_STATUS_CODE_3XX",t.qN="HTTP_REQUEST_STATUS_CODE_4XX",t.zN="HTTP_REQUEST_STATUS_CODE_5XX",t.GN="BUFFER_LENGTH",t.jN="BYTES_RECEIVED",t.QN="SEGMENT_READ_BITRATE",t.YN="SEGMENT_PROFILE_BITRATE",t.ZN="NUMBER_OF_FRAMES_DROPPED",t.JN="PLAYBACK_POSITION",t.$N="NUMBER_OF_FRAMES_DECODED",t.KN="PLAYBACK_DELTA_TO_ORIGIN",t.tC="STREAM_DELTA_TO_ORIGIN",t.nC="ORIGIN_TIMESTAMP"}(OA||(OA={})),function(t){t.iC="MANIFEST_URI",t.rC="ASSET_DURATION",t.eC="NUMBER_OF_CONTENT_PROFILES",t.sC="CDN",t.uC="CONTENT_TITLE",t.oC="SERVICE_NAME",t.hC="CONTENT_TYPE",t.aC="CONTENT_DESCRIPTION"}(xA||(xA={})),function(t){t.cC="shutdown_normal_shutdown"}(PA||(PA={})),function(t){t.fC="session/",t.vC="internalError/",t.dC="drmError/",t.lC="caError/",t._C="networkError/"}(BA||(BA={})),function(t){t.gC="userAction",t.wC="endOfStreamReached"}(LA||(LA={})),function(t){t.PAUSE="yC",t.RESUME="mC"}(MA||(MA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(UA||(UA={}));var HA,VA,XA,WA,qA,zA="agama";function GA(t){return function(t){switch(t){case HA.NONE:case HA.HORIZONTAL:case HA.VERTICAL:return!0;default:return!1}}(t)?t:HA.NONE}function jA(t){switch(t){case"":return HA.NONE;case"horizontal":return HA.HORIZONTAL;case"vertical":return HA.VERTICAL;default:throw new d}}function QA(t){if(!t||!et(t))return VA.XR;switch(t){case"always":return VA.kC;case"never":return VA.pC;default:return VA.XR}}function YA(t){if(!t||!et(t))return XA.XR;switch(t){case"playlist":return XA.AC;case"media":return XA.bC;default:return XA.XR}}function ZA(t,n){return t.length>0?t:n.length>0?n:void 0}function JA(t){if(null!==t)return t}function $A(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:JA(t.streamActivityMonitorID),adTagParameters:it(t.adTagParameters)?t.adTagParameters:{},authToken:JA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?ie({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void T.Iu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void T.Iu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?ie({},i,{availabilityType:"live",assetKey:s}):void T.Iu("A Live DAI configuration was provided without valid assetKey which is required.")}T.Iu("A DAI configuration was provided without a valid availabilityType which is required.")}function KA(t){if(!qm(t)||!t.integration)return t;switch(t.integration){case fm:return n=t,i=Jm(ve.ho,n),r=Jm(ve.oo,n),e=n[ve.ao]&&Jm(ve.ao,n),ie({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function tb(t){if(!t)return!0;var n,i,r=!(Cl(n=t.sources)||nt(n)&&Cl(n[0]))||Dl(t.sources),e=!t.ads||(!(i=t.ads)||tt(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function nb(t){if(t&&t.sources)return function t(n){if(et(n))return n;if(Nl(n))return n.src;if(nt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function ib(t,n,i){return Rl(t)?function(t,n,i){var r=ie({},Ol(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:WA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:qA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,et(e)?e:nt(e)&&et(e[0])?e:it(s=e)&&et(s.userId)&&(nt(s.externalId)||et(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return qA.CHANNEL;case"event":return qA.EVENT;case"asset":default:return qA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Xd(t.contentProtected));t.assetInfo?r.assetInfo=Xd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!st(o.adImpressions)&&o.adImpressions,a=!!st(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=st(o.linearAdData)?o.linearAdData:u!==qA.ASSET):u!==qA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=eb(r=sb(r=rb(r,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=xl(),e=n&&(n.contentProtection||n.drm);if(et(t)){if(r.src=t,r.type=bl(t),e){var s=cA(e);r.contentProtection=KA(s)}}else if(Nl(t)||Sl(t)){r.src=t.src,r.type=t.type||bl(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===wl.L_||t.type===wl.M_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=cA(o);r.contentProtection=KA(h),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return $A(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=rb(r,t)}return r=eb(r=sb(r,n,i),t,i)}(t,n,i)}function rb(t,n){var i;n.useCredentials?t.crossOrigin=gl.B_:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case gl.P_:case gl.B_:return t;default:return gl.x_}}(n.crossOrigin)),et(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Xd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Xd(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:QA(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:YA(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Xd(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Xd(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function eb(t,n,i){return t.abr=function(t,n){var i=Gd(null==t?void 0:t.preferredAudioCodecs,zd),r=Gd(null==t?void 0:t.preferredVideoCodecs,zd),e=Gd(null==n?void 0:n.preferredAudioCodecs,zd),s=Gd(null==n?void 0:n.preferredVideoCodecs,zd),u=ZA(i,e),o=ZA(r,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(et(n)?void 0:n.abr,null==i?void 0:i.abr),t}function sb(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!K(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!K(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===gl.x_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=gl.P_),t.useCredentials=t.crossOrigin===gl.B_,et(e)&&!t.timeServer&&(t.timeServer=e),t}function ub(t){var n={src:""};if(t&&t.src){if(n.src=zd(t.src),"default"in t&&(n.default=Xd(t.default)),n.kind=cy(t.kind),function(t){switch(t){case V_.DEFAULT:case V_.SRT:case V_.TTML:case V_.WEBVTT:case V_.EMSG:case V_.EVENT_STREAM:case V_.ID3:case V_.CEA608:case V_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ob(t,n){if(rt(t))try{return n.ON(t).TC(t)}catch(t){return}}function hb(t){return et(t.sources)&&""!==t.sources||it(t.sources)&&et(t.sources.src)}function ab(t){return t.integration===RA.SPOTX&&!y(t.id)}function cb(t){return"freewheel"===t.integration}function fb(t,n,i){if(void 0===i&&(i=FA.ts),tb(t))return{sources:[xl()]};var r=Ud(t);if(r.sources=function(t,n,i){if(Cl(t))return[ib(t,n,i)];if(nt(t)&&Cl(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push(ib(s,n,i))}return r}return[xl()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!nt(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=ob(s,n))&&(hb(s)||ab(s)||cb(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Dl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!nt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ub(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=zd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=GA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?jA(u.stereoMode):HA.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Bl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Ud(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==zA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=r_(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(HA||(HA={})),function(t){t.XR="auto",t.kC="always",t.pC="never"}(VA||(VA={})),function(t){t.XR="auto",t.AC="playlist",t.bC="media"}(XA||(XA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(WA||(WA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(qA||(qA={}));var vb=function(){function t(t){this.EC=t}return t.prototype.SC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.EC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.EC.indexOf(t.charAt(n))<<18|this.EC.indexOf(t.charAt(n+1))<<12|(s=this.EC.indexOf(t.charAt(n+2)))<<6|(u=this.EC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.RC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.EC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.EC.charAt(r)+this.EC.charAt(e)+this.EC.charAt(s)+this.EC.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Wm=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.IC=new t(t.Wm.SC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function db(t){return"string"==typeof t}function lb(t){return"number"==typeof t}var _b={}.toString;var gb,wb=Array.isArray||function(t){return"[object Array]"===_b.call(t)};function yb(t,n){return wb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(gb||(gb={}));var mb,kb=l.keys(gb).map(function(t){return gb[t]});function pb(t){return-1!==kb.indexOf(t)}function Ab(t){try{var n=vb.IC.SC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=db(t.key),r=db(t.customer_id),e=lb(t.generation_date),s=lb(t.expiration_date),u=yb(t.domains_page,db),o=yb(t.domains_source,db),h=yb(t.sdks,pb),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function bb(){return mb||(mb={Av:Ar.href,NC:pr.parent&&pr.parent!==e,DC:Sb()}),mb}var Tb,Eb=["http:","https:","ftp:","ws:","wss:"];function Sb(){try{return pr.top.location.href}catch(t){return pr&&pr.document&&pr.document.referrer}}!function(t){t[t.OC=0]="OC",t[t.xC=1]="xC",t[t.BC=2]="BC"}(Tb||(Tb={}));var Rb,Ib=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.LC=t,this.MC=n,this.UC=i,this.FC=r,this.HC=e,this.VC=s,this.XC=u,this.WC=o};!function(t){t.xC="expired",t.qC="invaliddomain",t.zC="invalidsource",t.h_="error"}(Rb||(Rb={}));var Nb=function(){function t(t,n,i){this.GC=void 0,this.jC=t,this.QC=n,this.YC=i,this.GC=Bb(this.YC)}var n=t.prototype;return n.ZC=function(t,n){var i=this;if(!tb(t)&&0!==n.UC.length&&!Ob(n.UC)){var r=[];if(Cl(t.sources)?r=[t.sources]:nt(t.sources)&&(r=t.sources),!r.every(function(t){return i.JC(t,n)})){var e=Rb.zC,s=Mb.$C(e);throw new No(Cb(e),s)}}},n.KC=function(n){return this.tD(n.XC)&&this.nD(n)?t.iD(n.FC)?Tb.OC:Tb.xC:Tb.BC},n.tD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.rD(t)})},n.rD=function(t){return"ios"===function(t){switch(t){case gb.ANDROID:return B.dr;case gb.ANDROIDTV:case gb.FIRETV:return B._r;case gb.IOS:return B.gr;case gb.TVOS:return B.wr;case gb.CHROMECAST:case gb.CHROMECASTCAF:return B.yr;default:return B.cr}}(t)},t.iD=function(t){var n=Number(new Date);return!!t&&n<=t},n.nD=function(t){return!(this.GC&&0!==t.MC.length&&!Ob(t.MC))||!!(this.GC&&this.eD(t.MC)&&this.sD(t.MC))},n.eD=function(t){return xb(this.YC.Av,t)},n.sD=function(t){if(!this.YC.NC)return!0;if(this.jC)return!0;var n=this.uD();return!!n&&xb(n,t)},n.uD=function(){if(this.YC.NC){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.YC.DC?this.YC.DC:void 0}},n.JC=function(n,i){return!!t.oD(n,i.UC)},t.oD=function(t,n){return xb(this.hD(t),n)},t.hD=function(t){return et(t)?t:Nl(t)&&t.src||""},t}();function Cb(t){switch(t){case Rb.qC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Rb.zC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Rb.xC:return n.ErrorCode.LICENSE_EXPIRED;case Rb.h_:return n.ErrorCode.LICENSE_ERROR}}function Db(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Ob(t){return t.some(function(t){return"*"===t})}function xb(t,n){var i=T.Vu(t);if(!Pb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Db(i.hostname,e))return!0;if(Db(Ff(t),e))return!0}return!1}function Pb(t){return-1!==Eb.indexOf(t.protocol)}function Bb(t){var n=T.Vu(t.Av);return Pb(n)&&!Db(n.hostname,"localhost")&&!function(t){return Db(t.hostname,"theoplayer.doubleclick.net")}(n)}var Lb,Mb=function(){function t(){}return t.$C=function(t){return t===Rb.qC?this.aD:t===Rb.zC?this.cD:t===Rb.xC?this.fD:this.vD},t}();function Ub(t){var n=[t.jA,t.dD,t.lD];switch(t.dD){case Lb._D:n.push(t.g_);break;case Lb.gD:n.push(t.Y_),n.push(t.eh);break;case Lb.wD:n.push(t.eh)}return n}Mb.vD="The license for this player is invalid.",Mb.fD="The usage license for this video player has expired.",Mb.aD="The current domain is incompatible with the license for this player.",Mb.cD="The provided video source is incompatible with the license for this player.",function(t){t[t._D=1]="_D",t[t.gD=4]="gD",t[t.wD=5]="wD"}(Lb||(Lb={}));for(var Fb=new Array(256),Hb=0;Hb<256;Hb+=1)Fb[Hb]=(Hb<16?"0":"")+Hb.toString(16);function Vb(){var t=$t(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,r=(4294967296*_.random()|0)+t&1130486254,e=(4294967296*_.random()|0)+t&1284287105;return Fb[255&n]+Fb[n>>>8&255]+Fb[n>>>16&255]+Fb[n>>>24&255]+"-"+Fb[255&i]+Fb[i>>>8&255]+"-"+Fb[i>>>16&15|64]+Fb[i>>>24&255]+"-"+Fb[63&r|128]+Fb[r>>>8&255]+"-"+Fb[r>>>16&255]+Fb[r>>>24&255]+Fb[255&e]+Fb[e>>>8&255]+Fb[e>>>16&255]+Fb[e>>>24&255]}var Xb=function(){function t(t){this.EC=void 0,this.EC=t}var n=t.prototype;return n.SC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.EC.indexOf(t.charAt(n))<<18|this.EC.indexOf(t.charAt(n+1))<<12|(s=this.EC.indexOf(t.charAt(n+2)))<<6|(u=this.EC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.RC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.EC.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this.EC.charAt(i)+this.EC.charAt(r)+this.EC.charAt(e)+this.EC.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function Wb(){return T.Au()}Xb.Wm=new Xb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Xb.IC=new Xb(Xb.Wm.SC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var qb,zb="theoplayer-session-id";function Gb(){if(!qb){var t=zo.dh(zb);t?qb=t:(qb=Vb(),zo.Ja(zb,qb))}return qb}var jb=/[^\x00-\x7E]/g;function Qb(t){return"\\u"+Be(t.charCodeAt(0).toString(16),4,"0")}var Yb=0,Zb=1,Jb=6e4;function $b(t){var n,i,r,e,s,u=(n=function(t){return[t.yD,t.Zh,t.LC,t.ap,t.mD,t.kD,t.pD.map(Ub)]}(t),i=[],r=n,e=function(t,n){if(it(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace(jb,Qb));return Xb.IC.RC(u)}var Kb=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=Xb.Wm),void 0===e&&(e=Yb),void 0===s&&(s=Zb),this.bD=[],this.TD=null,this.ED=0,this.SD="unknown",this.RD=0,this.ND=function(){Wb()-u.ED>Jb&&u.ar()},this.CD=function(){u.ar(!0)},this.yE=t,this.Qb=n,this.DD=i,this.OD=r,this.xD=e,this.PD=s,kr.BD(this.CD),c(this.ND,Jb)}var n=t.prototype;return n.LD=function(){return Boolean(this.mD)},n.MD=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DD.UD();case 2:if(t.sent.WC){t.next=5;break}return t.abrupt("return");case 5:return i={dD:Lb._D,lD:$t(),g_:n},t.next=8,this.FD(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HD=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={dD:Lb.gD,lD:$t(),Y_:i,eh:n},t.next=3,this.FD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.VD=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={dD:Lb.wD,lD:$t(),eh:n},t.next=3,this.FD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FD=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DD.UD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.OD.RC(i.LC)){t.next=6;break}if(n.dD===Lb.wD){t.next=6;break}return t.abrupt("return");case 6:if(n.dD===Lb._D?this.XD():this.LD()||this.XD(),n.jA=this.RD++,this.bD.push(n),(r=n.dD)!==Lb._D&&r!==Lb.wD){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.bD.length>this.xD)){t.next=19;break}return t.next=17,this.WD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.bD.length>0)){t.next=6;break}return t.next=4,this.WD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qD=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DD.UD();case 2:return i=t.sent,t.abrupt("return",{yD:$t(),Zh:Gb(),LC:this.OD.RC(i.LC)||"dev",ap:this.yE,mD:this.TD,kD:this.SD,pD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.WD=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.bD.splice(0,this.PD),t.next=4,this.qD(i);case 4:r=t.sent,n?this.zv(r):this.zD(r),this.ED=Wb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.zD=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=$b(n),r=new Df({Av:"https://license.theoplayer.com",ev:i,Wv:!1,wv:Zo.us,gv:{"Content-Type":xk.SE},Hv:4e3,Fv:Sf.POST}),t.prev=2,t.next=5,this.Qb.kv(r);case 5:return e=t.sent,t.next=8,e.tv();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.zv=function(t){var n=$b(t);this.Qb.zv({Av:"https://license.theoplayer.com",ev:n,rv:xk.SE})},n.XD=function(){this.LD()&&this.ar(),this.TD=Vb(),this.RD=0},n.Gv=function(){kr.GD(this.CD),this.ar()},M(t,[{key:"pD",get:function(){return this.bD}},{key:"mD",get:function(){return this.TD}}]),t}();var tT=Z.Be||Z.Ae&&Z.Ve<13;function nT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var iT=function(){function t(t){this.UR=void 0,this.cl=void 0,this.jD=void 0,this.UR=t}var n=t.prototype;return n.QD=function(t){if(!t||!t.drawImage)return!1;var n=this.UR.Xg();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.YD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.UR,h=o.Xg();if(!h)return!1;if(tT){this.jD||(this.jD=s.createElement("canvas"));var a=this.jD,c=a.getContext("2d"),f=o.sg,d=o.eg,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&nT(c,f-1,0)&&(a.width=l,g=!0),d>0&&nT(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,r,e,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},M(t,[{key:"fl",get:function(){return this.cl||(this.cl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.QD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.YD(n,i,r,e,s,u)}}));var t}}]),t}(),rT=function(t){function n(n,i){var r;return(r=t.call(this,"ZD")||this).ku=n,r.Vp=i,r}return F(n,t),n.prototype.vl=function(){return new eT(this.ku,this.Vp)},n}(Ad),eT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return F(n,t),n}(Ss),sT=function(t,n){this.$g=void 0,this.JD=void 0,this.$g=t,this.JD=n},uT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$D=void 0,r.KD=0,r.tO=0,r.nO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.tO=n.width,r.KD=n.height,r.JD(r.tO,r.KD)}},r.$D=new pr.ResizeObserver(r.nO),r.$D.observe(r.$g),r}return F(n,t),n.prototype.Gv=function(){this.$D.disconnect()},M(n,[{key:"iO",get:function(){return this.KD}},{key:"rO",get:function(){return this.tO}}]),n}(sT),oT=0;function hT(t){var n=Wb(),i=_.max(0,16-(n-oT)),r=h(function(){return t(n+i)},i);return oT=n+i,r}var aT,cT=a,fT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,vT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function dT(){return aT||(aT=pr&&pr.document&&pr.document.createElement("span")),aT}fT&&vT||(fT=hT,vT=cT),fT=fT.bind(t),vT=vT.bind(t);var lT=["Webkit","Moz","O","ms"],_T=(function(){var t=!1;try{if(void 0!==pr&&"function"==typeof pr.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});pr.addEventListener("testPassiveEventSupport",R,n),pr.removeEventListener("testPassiveEventSupport",R,n)}}catch(t){}}(),ee());function gT(t){return _T.has(t)||_T.set(t,function(t){var n=dT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<lT.length;r++){var e=lT[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),_T.get(t)}function wT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function yT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[gT("transition")]="0s"}var mT=function(t){function n(n,i,r){var u;(u=t.call(this,n,i)||this).eO=void 0,u.sO=0,u.tO=NaN,u.KD=NaN,u.uO=void 0,u.oO=void 0,u.hO=void 0,u.aO=void 0,u.cO=void 0,u.Hl=function(){u.oO.style.width=1e5+"px",u.oO.style.height=1e5+"px",u.uO.scrollLeft=1e5,u.uO.scrollTop=1e5,u.hO.scrollLeft=1e5,u.hO.scrollTop=1e5,0===u.hO.scrollTop&&fT(u.Hl)},u.fO=function(){var t=u.rO,n=u.iO;u.JD(t,n),u.tO=t,u.KD=n,u.Hl(),u.sO=0},u.vO=function(){if(!u.sO){var t=u.rO,n=u.iO;t===u.tO&&n===u.KD||(u.sO=fT(u.fO))}},u.dO=function(){u.cO||(u.cO=h(u.lO,66))},u.lO=function(){u.cO=void 0,u._O()},u._O=function(){u.vO()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.eO=c,u.uO=s.createElement("div"),u.oO=s.createElement("div"),u.hO=s.createElement("div"),u.aO=s.createElement("div"),wT(u.uO),wT(u.hO),yT(u.oO),yT(a=u.aO),a.style.width="200%",a.style.height="200%",c.appendChild(u.uO),c.appendChild(u.hO),u.uO.appendChild(u.oO),u.hO.appendChild(u.aO),n.appendChild(c),u.uO.addEventListener("scroll",u.vO),u.hO.addEventListener("scroll",u.vO),e&&e.addEventListener("resize",u.dO),u.vO(),u}return F(n,t),n.prototype.Gv=function(){vT(this.sO),this.sO=0,this.uO.removeEventListener("scroll",this.vO),this.hO.removeEventListener("scroll",this.vO),Rr(this.eO),e&&e.removeEventListener("resize",this.dO)},M(n,[{key:"iO",get:function(){return this.$g.getBoundingClientRect().height||this.KD||0}},{key:"rO",get:function(){return this.$g.getBoundingClientRect().width||this.tO||0}}]),n}(sT),kT=function(t){function n(n){var i;return(i=t.call(this)||this).$g=void 0,i.$D=void 0,i.nO=function(t,n){i.Wo(new rT(t,n))},i.$g=n,i}F(n,t);var i=n.prototype;return i.ia=function(t){this.$D||("function"==typeof pr.ResizeObserver?this.$D=new uT(this.$g,this.nO):this.$D=new mT(this.$g,this.nO,t))},i.Gv=function(){this.jo(),this.$D&&(this.$D.Gv(),this.$D=void 0)},M(n,[{key:"iO",get:function(){return this.$D?this.$D.iO:0}},{key:"rO",get:function(){return this.$D?this.$D.rO:0}}]),n}(Ts),pT=function(t){function n(){return t.call(this,nA.Tl)||this}return F(n,t),n}(Ss);var AT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{gO:i[0],wO:i[1],yO:i[2],mO:i[3],kO:i[4],pO:i[5]}}}(),bT=function(t){function n(){return t.call(this,nA.VI)||this}return F(n,t),n}(Ss),TT=function(t){function n(i){var r;return(r=t.call(this)||this).$g=void 0,r.WI=void 0,r.XI=!1,r.AO=function(){return r.pN()},r.bO=function(){return r.bN()},r.$g=i,r.WI=n.TO(i),s.addEventListener(AT.kO,r.AO),r.pN(),r}F(n,t),n.TO=function(t){return Boolean(AT&&s[AT.mO]&&AT.gO in t)};var i=n.prototype;return i.Rw=function(){var t=this.$g[AT.gO]();t&&t.then?t.then(this.AO,this.bO):(s.removeEventListener(AT.pO,this.bO),s.addEventListener(AT.pO,this.bO))},i.Nw=function(){var t=s[AT.wO]();t&&t.then?t.then(this.AO,this.bO):(s.removeEventListener(AT.pO,this.bO),s.addEventListener(AT.pO,this.bO))},i.pN=function(){var t=this.XI,n=this.$g===s[AT.yO];this.XI=n,t!==n&&this.Wo(new pT)},i.bN=function(){this.Wo(new sA)},i.Gv=function(){this.jo(),s.removeEventListener(AT.kO,this.AO),s.removeEventListener(AT.pO,this.bO)},n}(Ts),ET=function(t){function n(i){var r;return(r=t.call(this)||this).$g=void 0,r.WI=void 0,r.XI=!1,r.AO=function(){return r.pN()},r.$g=i,r.WI=n.TO(i),r.$g.addEventListener("webkitbeginfullscreen",r.AO),r.$g.addEventListener("webkitendfullscreen",r.AO),r.$g.addEventListener("webkitpresentationmodechanged",r.AO),r.pN(),r}F(n,t),n.TO=function(t){return Z.Ae&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Rw=function(){var t=this;this.$g.webkitSupportsPresentationMode&&this.$g.webkitSupportsPresentationMode("fullscreen")?Z.Ae?requestAnimationFrame(function(){return t.$g.webkitSetPresentationMode("fullscreen")}):this.$g.webkitSetPresentationMode("fullscreen"):this.$g.webkitEnterFullscreen()},i.Nw=function(){this.$g.webkitSupportsPresentationMode&&this.$g.webkitSupportsPresentationMode("inline")?this.$g.webkitSetPresentationMode("inline"):this.$g.webkitExitFullscreen()},i.pN=function(){var t,n=this.XI;t=this.$g.webkitPresentationMode?"fullscreen"===this.$g.webkitPresentationMode:!!this.$g.webkitDisplayingFullscreen,this.XI=t,n!==t&&this.Wo(new pT)},i.Gv=function(){this.jo(),this.$g.removeEventListener("webkitbeginfullscreen",this.AO),this.$g.removeEventListener("webkitendfullscreen",this.AO),this.$g.removeEventListener("webkitpresentationmodechanged",this.AO)},n}(Ts),ST=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).EO=[],n.SO=void 0,n.wN=!1,n.pN=function(){var t=n.wN,i=n.RO();t!==i&&(n.wN=i,n.Wo(new pT))},n}F(n,t);var i=n.prototype;return i.Rw=function(){this.SO?this.SO.Rw():this.Wo(new sA)},i.Nw=function(){for(var t=0,n=this.EO;t<n.length;t++){var i=n[t];i.XI&&i.Nw()}},i.IO=function(t){this.SO=t},i.NO=function(t){this.EO.push(t),t.qo(nA.Tl,this.pN),t.qo(nA.h_,this.Xo),this.pN()},i.CO=function(t){Ze(this.EO,t),t.Qo(nA.Tl,this.pN),t.Qo(nA.h_,this.Xo)},i.RO=function(){for(var t=0,n=this.EO;t<n.length;t++){if(n[t].XI)return!0}return!1},i.Hl=function(){this.SO=void 0,this.wN=!1;for(var t=this.EO.slice(),n=0;n<t.length;n++){var i=t[n];this.CO(i),i.Gv()}this.pN()},i.Gv=function(){this.jo(),this.Hl()},M(n,[{key:"WI",get:function(){return!!this.SO&&this.SO.WI}},{key:"XI",get:function(){return this.wN}}]),n}(Ts),RT=function(t){function n(n,i){var r;return(r=t.call(this)||this).UR=void 0,r.DO=void 0,r.OO=void 0,r.xO=!1,r.PO=function(){return r.zh()},r.pN=function(t){r.xO||r.Wo(t)},r.UR=n,r.DO=i,r.OO=uA,r.BO(),r.UR.qo(Yo.cc,r.PO),r.zh(),r}F(n,t);var i=n.prototype;return i.Rw=function(){this.DO&&this.OO.Rw()},i.Nw=function(){this.OO.Nw()},i.BO=function(){this.OO.qo(nA.Tl,this.pN),this.OO.qo(nA.h_,this.Xo)},i.LO=function(){this.OO.Qo(nA.Tl,this.pN),this.OO.Qo(nA.h_,this.Xo)},i.zh=function(){var t=this.OO,n=this.UR.Wg();if(t!==n){this.xO=!0;var i=this.XI,r=this.WI;i&&this.Nw(),this.LO(),this.OO=n,this.BO(),i&&!this.XI&&this.WI?this.Rw():this.Nw(),this.xO=!1,r!==this.WI&&this.Wo(new bT),i!==this.XI&&this.Wo(new pT)}},i.Gv=function(){this.jo(),this.LO(),this.UR.Qo(Yo.cc,this.PO)},M(n,[{key:"WI",get:function(){return!!this.DO&&this.OO.WI}},{key:"XI",get:function(){return this.OO.XI}}]),n}(Ts);function IT(t){var n;return{get url(){return t.Av},get method(){return t.Fv},get headers(){return n||(n=t.gv.Fc()),n},get body(){return t.ev},get useCredentials(){return t.Wv},get type(){return xT(t.vo)},get subType(){return BT(t.Vv)},get mediaType(){return MT(t.Xv)},get responseType(){return CT(t.wv)}}}function NT(t){switch(t.toLowerCase()){case"arraybuffer":return Zo.Lc;case"json":return Zo.Mc;case"stream":return Zo.Uc;case"text":default:return Zo.us}}function CT(t){return t}function DT(t){switch(t.toUpperCase()){case"POST":return Sf.POST;case"PUT":return Sf.PUT;case"DELETE":return Sf.DELETE;case"HEAD":return Sf.HEAD;case"OPTIONS":return Sf.OPTIONS;case"GET":default:return Sf.GET}}function OT(t){switch(t.toLowerCase()){case"manifest":return Rf.Ev;case"segment":return Rf.Sv;case"content-protection":return Rf.Rv;default:return Rf.Tv}}function xT(t){return t}function PT(t){switch(t.toLowerCase()){case"initialization-segment":return If.Iv;case"fairplay-license":return If.Nv;case"fairplay-certificate":return If.Cv;case"widevine-license":return If.Dv;case"widevine-certificate":return If.Ov;case"playready-license":return If.xv;case"clearkey-license":return If.Pv;case"aes128-key":return If.Bv;default:return If.Tv}}function BT(t){return t}function LT(t){switch(t.toLowerCase()){case"audio":return Nf.Lv;case"video":return Nf.Mv;case"text":return Nf.us;case"image":return Nf.Uv;case"":default:return Nf.Tv}}function MT(t){return t}var UT=function(){function t(t,n){this.MO=new Qu,this.UO=[],this.cl=void 0,this.FO=!1,this.sd=void 0,this.HO=0,this.VO=t,this.XO=n}var n=t.prototype;return n.Jk=function(){this.FO=!0,this.MO.Rh(null)},n.WO=function(){this.MO.Ih(new sf(this.UO))},n.qO=function(t){if(!this.zO)throw new d("Cannot respond more than once");if(!it(t))throw new d("Expected valid response");this.sd=this.GO(t),this.Jk()},n.jO=function(){try{var t=this.XO(this.fl);t?this.QO(t):this.YO||this.ZO||this.Jk()}catch(t){this.UO.push(t),this.WO()}},n.QO=function(t){if(this.ZO)throw new v("Request has been redirected or a response already exists");if(ut(t))this.JO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Qu;try{var i=t(function(t){t?n.Ih(t):n.Rh(void 0)});ut(i)&&n.Rh(i)}catch(t){n.Ih(t)}this.JO(n.Sh)}},n.JO=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.HO++,t.next=4,n;case 4:this.HO--,this.YO||this.ZO||(this.UO.length?this.WO():this.Jk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.HO--,this.UO.push(t.t0),this.YO||this.ZO||this.WO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"$O",get:function(){return this.MO.Sh}},{key:"fl",get:function(){return this.cl||(this.cl=this.KO()),this.cl}},{key:"ZO",get:function(){return this.FO}},{key:"zO",get:function(){return!this.FO}},{key:"YO",get:function(){return this.HO>0}},{key:"ud",get:function(){return this.sd}}]),t}(),FT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).tx=void 0,e.tx=r,e.jO(),e}F(n,t),n.nx=function(t,n,i){var r=void 0===t.body?i:t.body;return new Cf({Us:r,kv:n.kv,wv:n.kv.wv,gv:t.headers,_v:t.status,yv:t.statusText,pv:t.url,mv:!0},n)};var i=n.prototype;return i.KO=function(){return i=IT((t=this).kv),{get closed(){return!t.zO},get request(){return i},get url(){return t.Av},get status(){return t._v},get statusText(){return t.yv},get headers(){return n||(n=t.gv.Fc()),n},get body(){return t.ev},respondWith:function(n){return t.qO(n)},waitUntil:function(n){return t.QO(n)}};var t,n,i},i.GO=function(t){return n.nx(t,this.VO,this.tx)},M(n,[{key:"ev",get:function(){return this.tx}},{key:"gv",get:function(){return this.VO.gv}},{key:"kv",get:function(){return this.VO.kv}},{key:"ud",get:function(){return this.sd}},{key:"_v",get:function(){return this.VO._v}},{key:"yv",get:function(){return this.VO.yv}},{key:"Av",get:function(){return this.VO.pv}}]),n}(UT),HT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).ix=void 0,e.ex=void 0,e.ex=r,e.jO(),e}F(n,t);var i=n.prototype;return i.KO=function(){return t=this,{get url(){return t.Av},get method(){return t.Fv},get headers(){return n||(n=t.gv.Fc()),n},get body(){return t.ev},get closed(){return!t.zO},get useCredentials(){return t.Wv},get type(){return xT(t.vo)},get subType(){return BT(t.Vv)},get mediaType(){return MT(t.Xv)},get responseType(){return CT(t.wv)},redirect:function(n){return t.sx(n)},respondWith:function(n){return t.qO(n)},waitUntil:function(n){return t.QO(n)}};var t,n},i.GO=function(t){var n=this.VO.ev,i=new Cf({Us:n,gv:{},kv:this.VO,pv:this.VO.Av,wv:this.VO.wv,_v:200,yv:"OK"});return FT.nx(t,i,n)},i.sx=function(t){if(!this.zO)throw new d("Cannot redirect, already redirected or has a response");var n;n=et(t)?{url:t}:t,this.ix=function(t,n){return new Df({Av:void 0===t.url?n.Av:t.url,Fv:void 0!==t.method?DT(t.method):void 0,gv:t.headers,ev:t.body,Wv:t.useCredentials,vo:void 0!==t.type?OT(t.type):void 0,Vv:void 0!==t.subType?PT(t.subType):void 0,Xv:void 0!==t.mediaType?LT(t.mediaType):void 0,wv:void 0!==t.responseType?NT(t.responseType):void 0},n)}(n,this.VO),this.Jk()},M(n,[{key:"ev",get:function(){return this.VO.ev}},{key:"zO",get:function(){return this.ex&&!this.FO}},{key:"gv",get:function(){return this.VO.gv}},{key:"Fv",get:function(){return this.VO.Fv}},{key:"ux",get:function(){return this.ix}},{key:"ud",get:function(){return this.sd}},{key:"wv",get:function(){return this.VO.wv}},{key:"Hv",get:function(){return this.VO.Hv}},{key:"Uo",get:function(){return this.VO.Uo}},{key:"vo",get:function(){return this.VO.vo}},{key:"Vv",get:function(){return this.VO.Vv}},{key:"Xv",get:function(){return this.VO.Xv}},{key:"Av",get:function(){return this.VO.Av}},{key:"Wv",get:function(){return this.VO.Wv}},{key:"qv",get:function(){return this.VO.qv}}]),n}(UT);var VT,XT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new WT(n);return(r=t.call(this,e,i)||this).ox=void 0,r.ox=e,r}F(n,t);var i=n.prototype;return i.hx=function(t){this.ox.hx(t)},i.ax=function(t){this.ox.ax(t)},i.vx=function(t){this.ox.vx(t)},i.lx=function(t){this.ox.lx(t)},i._x=function(t){this.ox._x(t)},n}(xf),WT=function(){function t(t){this.jv=void 0,this.gx=[],this.wx=[],this.jv=t}var n=t.prototype;return n.kv=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.yx(n,n.Uo);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Vf)){t.next=12;break}return t.next=11,this.mx(t.t0,n.Uo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.kx(i,n.Uo);case 15:if(!Ef(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Wf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.zv=function(t){return this.jv.zv(t)},n.yx=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:as(i),r=n,s=0,u=this.gx.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],as(i),(h=new HT(r,o,!e)).ZO){t.next=17;break}return t.prev=8,t.next=11,h.$O;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.ux&&!e?r=h.ux:h.ud&&!e&&(e=h.ud);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.jv.kv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.mx=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Wf?n.ud:new Cf({Us:null,kv:n.kv,_v:0,yv:""}),t.next=3,this.kx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Ef(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Wf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.kx=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.wx.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],as(i),t.next=7,E.resolve(r.ph().Us(i));case 7:if(o=t.sent,(h=new FT(r,u,o)).ZO){t.next=19;break}return t.prev=10,t.next=13,h.$O;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.ud||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.hx=function(t){this.gx.unshift(t)},n.ax=function(t){this.gx.push(t)},n.vx=function(t){Ze(this.gx,t)},n.lx=function(t){this.wx.unshift(t)},n._x=function(t){Ze(this.wx,t)},n.Gv=function(){this.jv.Gv(),Ke(this.gx),Ke(this.wx)},t}(),qT=function(){function t(t){this.cl=void 0,this.Qb=t}var n=t.prototype;return n.hx=function(t){this.Qb.hx(t)},n.vx=function(t){this.Qb.vx(t)},n.lx=function(t){this.Qb.lx(t)},n._x=function(t){this.Qb._x(t)},M(t,[{key:"fl",get:function(){var t;return this.cl||(this.cl=(t=this,{addRequestInterceptor:function(n){t.hx(n)},removeRequestInterceptor:function(n){t.vx(n)},addResponseInterceptor:function(n){t.lx(n)},removeResponseInterceptor:function(n){t._x(n)}})),this.cl}}]),t}(),zT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).cl=void 0,e.Ax=function(t){e.Wo(t)},e.bx=function(t){e.Wo(t)},e.Tx=n,e.Qb=i,e.tN=r,e.Tx.qo(Yo.gc,e.Ax),e.Tx.qo(Yo._c,e.bx),e}F(n,t);var i=n.prototype;return i.Ex=function(t){this.tN.Ex(t)},i.hx=function(t){this.Qb.hx(t)},i.vx=function(t){this.Qb.vx(t)},i.lx=function(t){this.Qb.lx(t)},i._x=function(t){this.Qb._x(t)},i.Gv=function(){this.jo(),this.Tx.Qo(Yo.gc,this.Ax),this.Tx.Qo(Yo._c,this.bx)},M(n,[{key:"fl",get:function(){var t;return this.cl||(this.cl=(t=this,{get online(){return t.uw},get estimator(){return n=t.Sx,{get bandwidth(){return n.oS},get roundTripTime(){return n.hS}};var n},setEstimator:function(n){t.Ex(function(t){if(t)return{get oS(){return qd(t.bandwidth)},get hS(){return qd(t.roundTripTime)},uS:function(n){return function(t){if(t)return{Rx:function(n){t.markRequestStart(n)},Ix:function(n){t.markResponseStart(n)},Nx:function(n,i){t.markResponseData(n,i)},Cx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(IT(n)))}}}(n))},addRequestInterceptor:function(n){t.hx(n)},removeRequestInterceptor:function(n){t.vx(n)},addResponseInterceptor:function(n){t.lx(n)},removeResponseInterceptor:function(n){t._x(n)},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.Qo(n,i)}})),this.cl}},{key:"uw",get:function(){return this.Tx.uw}},{key:"Sx",get:function(){return this.tN.Sx}}]),n}(Ts);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(VT||(VT={}));var GT=30,jT={type:VT.BANDWIDTH},QT=20,YT=60;function ZT(t){var n,i,r,e=Ud(jT);return et(t)?e.type=JT(t):it(t)&&function(t){switch(t){case VT.PERFORMANCE:case VT.QUALITY:case VT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=JT(t.type)),it(t)&&it(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Wd(n.bitrate),y(r)||(i.bitrate=r),i)),e}function JT(t){switch(t){case"bandwidth":return VT.BANDWIDTH;case"performance":return VT.PERFORMANCE;case"quality":return VT.QUALITY}}var $T=function(t){function n(n){var i;return(i=t.call(this,"Ox")||this).Dx=n,i}return F(n,t),n}(Ss),KT=function(t){function n(n){var i;return(i=t.call(this,"Px")||this).xx=n,i}return F(n,t),n}(Ss),tE=function(t){function n(n){var i;return(i=t.call(this,"Lx")||this).Bx=n,i}return F(n,t),n}(Ss),nE=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).cl=(i=un(n),{get strategy(){return{metadata:(t=i.xx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.xx=ZT(t)},get targetBuffer(){return i.Dx},set targetBuffer(t){var n=Wd(t);y(n)||(i.Dx=n>YT?YT:n)},get bufferLookbackWindow(){return i.Bx},set bufferLookbackWindow(t){var n=Wd(t);y(n)||(i.Bx=n<=0?GT:n)}}),n.Mx=jT,n.Ux=QT,n.Fx=GT,n.Hx=void 0,n.Vx=void 0,n}F(n,t);var i=n.prototype;return i.Xx=function(t){this.Vx=t},i.Ex=function(t){this.Hx=t},M(n,[{key:"Wx",get:function(){switch(this.Mx.type){case VT.PERFORMANCE:return 0;case VT.QUALITY:return 1/0;case VT.BANDWIDTH:return this.Mx.metadata&&void 0!==this.Mx.metadata.bitrate?this.Mx.metadata.bitrate:8*ll.I_();default:return 8*ll.I_()}}},{key:"fl",get:function(){return this.cl}},{key:"xx",get:function(){return this.Mx},set:function(t){this.Mx=t,this.Wo(new KT(t))}},{key:"Dx",get:function(){return this.Ux},set:function(t){this.Ux=t,this.Wo(new $T(t))}},{key:"Bx",get:function(){return this.Fx},set:function(t){this.Fx=t,this.Wo(new tE(t))}},{key:"Sx",get:function(){var t;return null!=(t=this.Hx)?t:this.Vx.kR}}]),n}(Ts),iE=function(t){function n(){return t.call(this,"El")||this}return F(n,t),n.prototype.vl=function(){return new rE},n}(Ad),rE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Ss),eE=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).qx=void 0,e.bD=void 0,e.zx=function(t){bd(t)&&gs(function(){e.Wo(t.fl)})},e.qx=n,e.bD=i;for(var s=0,u=e.bD;s<u.length;s++){var o=u[s];e.qx.qo(o,e.zx)}return e}return F(n,t),n.prototype.Gv=function(){this.jo();for(var t=0,n=this.bD;t<n.length;t++){var i=n[t];this.qx.Qo(i,this.zx)}},n}(Ts),sE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).qx=void 0,r.zx=function(t){bd(t)&&gs(function(){r.Wo(t.fl)})},r.qx=n,r.qx.Go(r.zx),r}return F(n,t),n.prototype.Gv=function(){this.jo(),this.qx.Jo(this.zx)},n}(cl),uE=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(sE);var oE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Xw=0,n.Ww=1/0,n.cl=void 0,n}F(n,t);var i=n.prototype;return i.Hl=function(){0===this.Xw&&this.Ww===1/0||(this.Xw=0,this.Ww=1/0,this.Wo(new iE))},i.Gx=function(){return new rA([this.Dw,this.Ow],[!0,!0])},M(n,[{key:"Dw",get:function(){return this.Xw},set:function(t){if(this.Ow<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Xw!==t&&(this.Xw=t,this.Wo(new iE))}},{key:"Ow",get:function(){return this.Ww},set:function(t){if(t<=this.Dw)throw new v("End time of a clip should be larger than the start time.");this.Ww!==t&&(this.Ww=t,this.Wo(new iE))}},{key:"fl",get:function(){var t,n,i;return this.cl||(this.cl=(i={get startTime(){return t.Dw},set startTime(n){t.Dw=n},get endTime(){return t.Ow},set endTime(n){t.Ow=n},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)}},n=new sE(t=this,i),i)),this.cl}}]),n}(cl),hE=function(t){function n(n){var i;return(i=t.call(this)||this).jx=function(t){i.Qx(t)||i.Wo(t)},i.Yx=n,i.Yx.Go(i.jx),i}F(n,t);var i=n.prototype;return i.Zx=function(){return this.Yx.Eg},i.qg=function(){return this.Yx.qg()},i.Jx=function(){return this.Yx.Zg},i.$x=function(){return this.Yx.Qg},i.Kx=function(){return this.Yx.Jg},i.tP=function(t){this.Yx.Jg=t},i.nP=function(){return this.Yx.Y_},i.iP=function(t){this.Yx.Y_=t},i.rP=function(){return this.Yx.Z_},i.eP=function(){return this.Yx.$g},i.sP=function(){return this.Yx.J_},i.uP=function(){return this.Yx.eh},i.oP=function(){return this.Yx.K_},i.hP=function(){return this.Yx.Kg},i.aP=function(){return this.Yx.tg},i.cP=function(t){this.Yx.tg=t},i.fP=function(){return this.Yx.uw},i.vP=function(){return this.Yx.ng},i.dP=function(){return this.Yx.ig},i.lP=function(t){this.Yx.ig=t},i._P=function(){return this.Yx.ow},i.gP=function(){return this.Yx.hw},i.wP=function(t){this.Yx.hw=t},i.yP=function(){return this.Yx.d_},i.mP=function(){return this.Yx.aw},i.kP=function(){return this.Yx.rg},i.Og=function(){return this.Yx.Og()},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(i),t.next=3,this.Yx.xg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.pP=function(){return this.Yx.Rg},i.AP=function(){return this.Yx.eg},i.bP=function(){return this.Yx.Sg},i.TP=function(){return this.Yx.sg},i.EP=function(){return this.Yx.ug},i.SP=function(t){this.Yx.ug=t},i.Wg=function(){return this.Yx.Wg()},i.Xg=function(){return this.Yx.Xg()},i.Ug=function(t){this.Yx.Ug(t)},i.Fg=function(){this.Yx.Fg()},i.Vg=function(){this.Yx.Vg()},i.Mg=function(){this.Yx.Mg()},i.Cg=function(){this.Yx.Cg()},i.Ng=function(){this.Yx.Ng()},i.Hg=function(){this.Yx.Hg()},i.Dg=function(){return this.Yx.Dg()},i.Pg=function(){return this.Yx.Pg()},i.Bg=function(){this.Yx.Bg()},i.Lg=function(){this.Yx.Lg()},i.Hl=function(){return this.Yx.Hl()},i.Gv=function(){return this.Yx.Gv()},i.Yg=function(){this.Yx.Yg()},i.zg=function(t){return this.Yx.zg(t)},i.Qx=function(t){return!1},M(n,[{key:"Eg",get:function(){return this.Zx()}},{key:"Zg",get:function(){return this.Jx()}},{key:"Jg",get:function(){return this.Kx()},set:function(t){this.tP(t)}},{key:"Qg",get:function(){return this.$x()}},{key:"Y_",get:function(){return this.nP()},set:function(t){this.iP(t)}},{key:"Z_",get:function(){return this.rP()}},{key:"$g",get:function(){return this.eP()}},{key:"J_",get:function(){return this.sP()}},{key:"eh",get:function(){return this.uP()}},{key:"K_",get:function(){return this.oP()}},{key:"Ig",get:function(){return this.Yx.Ig}},{key:"Kg",get:function(){return this.hP()}},{key:"dg",get:function(){return this.Yx.dg}},{key:"tg",get:function(){return this.aP()},set:function(t){this.cP(t)}},{key:"uw",get:function(){return this.fP()}},{key:"ng",get:function(){return this.vP()}},{key:"ig",get:function(){return this.dP()},set:function(t){this.lP(t)}},{key:"ow",get:function(){return this._P()}},{key:"hw",get:function(){return this.gP()},set:function(t){this.wP(t)}},{key:"d_",get:function(){return this.yP()}},{key:"aw",get:function(){return this.mP()}},{key:"rg",get:function(){return this.kP()}},{key:"Rg",get:function(){return this.pP()}},{key:"eg",get:function(){return this.AP()}},{key:"Sg",get:function(){return this.bP()}},{key:"sg",get:function(){return this.TP()}},{key:"ug",get:function(){return this.EP()},set:function(t){this.SP(t)}},{key:"cw",get:function(){return this.Yx.cw},set:function(t){this.Yx.cw=t}}]),n}(fl),aE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).RP=void 0,e.IP=!1,e.NP=void 0,e.CP=!1,e.DP=function(){e.OP(),e.xP()},e.LS=function(){e.PP(),e.xP(),e.BP&&e.Y_>=e.RP.Ow-n.LP&&!e.J_&&(e.NP=fT(e.LS))},e.MP=function(){e.CP=!0},e.UP=function(){e.CP&&(e.CP=!1,e.xP())},e.RP=r,e.RP.qo("El",e.DP),e.Yx.qo("timeupdate",e.LS),e}F(n,t);var i=n.prototype;return i.iP=function(n){var i=this.RP.Gx().vI(n);t.prototype.iP.call(this,i),this.xP()},i.sP=function(){return t.prototype.sP.call(this)||this.IP},i.mP=function(){return rA.MI(t.prototype.mP.call(this))._I(this.RP.Gx()).gR()},i.Ng=function(){this.sP()?this.iP(this.FP.start(0)):this.OP(),t.prototype.Ng.call(this),this.xP()},i.xg=function(){var n=E.coroutine(ne.mark(function n(i,r){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return as(r),this.IP=!1,this.RP.Hl(),n.next=5,t.prototype.xg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Gv=function(){return this.RP.Qo("El",this.DP),this.Yx.Qo("timeupdate",this.LS),this.PP(),t.prototype.Gv.call(this)},i.Qx=function(n){switch(n.type){case"seeking":return this.Wo(n),this.MP(),!0;case"seeked":case"emptied":return this.Wo(n),this.UP(),!0;case"ended":if(this.BP)return!0}return t.prototype.Qx.call(this,n)},i.PP=function(){this.NP&&(vT(this.NP),this.NP=void 0)},i.xP=function(){var t=this.Y_,i=this.BP&&t>=this.RP.Ow-n._m;this.IP&&!i?(this.IP=!1,this.ng&&this.Ng()):this.IP||!i||this.rg||this.CP||(this.IP=!0,this.Wo(new Ql(t)),this.Cg())},i.OP=function(){if(this.Z_!==1/0){var t=this.FP,i=rA.MI(t).vI(this.Y_);jt(this.Y_,i,n._m)||this.iP(i)}},M(n,[{key:"FP",get:function(){return this.mP().length?this.mP():this.RP.Gx().gR()}},{key:"BP",get:function(){return this.RP.Ow<this.Z_}}]),n}(hE);aE.LP=1,aE._m=.001;var cE=function(){function t(){this.HP=void 0,this.HP=!1}return M(t,[{key:"VP",get:function(){return this.HP},set:function(t){this.HP=t}}]),t}(),fE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).HP=void 0,r.XP=!1,r.WP=!1,r.HP=i,r}F(n,t);var i=n.prototype;return i.sP=function(){return!this.HP.VP&&t.prototype.sP.call(this)},i.Cg=function(){this.WP=!0,t.prototype.Cg.call(this)},i.Ng=function(){this.WP=!1,t.prototype.Ng.call(this)},i.Qx=function(n){if(this.HP.VP)switch(n.type){case"ended":return this.Y_=0,this.WP||(this.rg?this.XP=!0:this.Ng()),!0;case"seeked":this.XP&&(this.XP=!1,this.Ng());break;case"pause":if(this.XP||t.prototype.sP.call(this))return!0}return t.prototype.Qx.call(this,n)},n}(hE);var vE=function(){function t(t){var n;this.cl=(n=this,{get currentBandwidthEstimate(){return n.rw},get corruptedVideoFrames(){return n.nw},get droppedVideoFrames(){return n.tw},get totalBytesLoaded(){return n.ew},get bufferedSegments(){return n.sw}}),this.GR=t}return M(t,[{key:"fl",get:function(){return this.cl}},{key:"nw",get:function(){return this.GR.qP.dg.nw}},{key:"rw",get:function(){return this.GR.qP.dg.rw}},{key:"tw",get:function(){return this.GR.qP.dg.tw}},{key:"zP",get:function(){throw new v("Not implemented")}},{key:"GP",get:function(){throw new v("Not implemented")}},{key:"ew",get:function(){return this.GR.qP.dg.ew}},{key:"iw",get:function(){return this.GR.qP.dg.iw}},{key:"sw",get:function(){return this.GR.qP.dg.sw}}]),t}();function dE(t){if(!t||!xr(t))return{tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{tw:n.droppedVideoFrames,nw:n.corruptedVideoFrames||0,iw:n.totalVideoFrames}}return{tw:t.webkitDroppedFrameCount||0,nw:0,iw:t.webkitDecodedFrameCount||0}}var lE=function(t){function n(){return t.call(this,"jP")||this}return F(n,t),n.prototype.vl=function(){return new _E},n}(Ad),_E=function(t){function n(){return t.call(this,"castingchange")||this}return F(n,t),n}(Ss);var gE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).QP=[],n.cl=void 0,n.YP=function(){return n.Wo(new lE)},n}F(n,t);var i=n.prototype;return i.ZP=function(t){this.QP.push(t),t.qo("statechange",this.YP)},i.Gv=function(){var t=this;this.QP.forEach(function(n){n.Qo("statechange",t.YP)}),Ke(this.QP)},M(n,[{key:"JP",get:function(){return this.QP.some(function(t){return t.JP})}},{key:"fl",get:function(){var t,n,i;return this.cl||(this.cl=(i={get casting(){return t.JP},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)}},n=new uE(t=this,i),i)),this.cl}}]),n}(fl),wE=function(){function t(){}return t.$P=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Df({Av:n,wv:Zo.us,Fv:Sf.GET}),t.next=4,i.kv(r);case 4:return e=t.sent,t.next=7,e.Us();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),hs(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.KP=function(t){try{var i=Ab(t);return new Ib(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new No(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.tB=function(t){void 0===t&&(t=Xb.Wm),T.Iu("The baked-in license is used. Please update the configuration with your license.");var n=t.SC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.SC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.SC(n)}),e=Number(new Date(Number(t.SC("COD|aHpHa:p3Ceo3Co\"\""))));return new Ib(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Ib(t.LC,t.MC,t.UC,864e13,t.HC,Date.now(),t.XC,t.WC)},t}(),yE=function(){function t(){}return t.$a=function(){return t.ts||(t.ts=mE.fa()?new mE:new qo),t.ts},t.gh=function(n){t.$a().gh(n)},t.Za=function(){t.$a().Za()},t.dh=function(n){return t.$a().dh(n)},t.Ja=function(n,i){t.$a().Ja(n,i)},t.nB=function(n){var i=t.dh(n);if(void 0!==i)return w(i)},t.iB=function(n){return"true"===t.dh(n)},t}();yE.ts=void 0;var mE=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.fa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.gh=function(n){t.localStorage.removeItem(n)},r.Za=function(){t.localStorage.clear()},r.dh=function(n){return t.localStorage[n]},r.Ja=function(n,i){t.localStorage[n]=i},i}(yE),kE=_.floor(14399999*_.random()-72e5),pE=function(){function t(t,n,i,r,e,s){this.GC=void 0,this.Qb=t,this.rB=n,this.eB=i,this.DD=r,this.sB=e,this.YC=s,this.GC=Bb(s)}var i=t.prototype;return i.uB=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.oB(this.sB.license,this.sB.licenseUrl);case 2:n=t.sent,this.DD.hB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.oB=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=wE.KP(i):e||(s=wE.tB()),e||(e="https://validate.theoplayer.com/1/"+s.LC),u=this.aB(),!s){t.next=14;break}if((o=this.rB.KC(s))!==Tb.OC){t.next=14;break}if(!this.cB(s.FC)||!this.cB(null==u?void 0:u.FC)){t.next=13;break}return t.next=10,this.fB(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.rB.KC(u)!==Tb.OC){t.next=24;break}if(!this.cB(null==u?void 0:u.FC)){t.next=23;break}return t.next=20,this.fB(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:yE.gh("THEOplayer.license");case 25:return t.next=27,wE.$P(e,this.Qb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=wE.KP(c),this.rB.KC(f)!==Tb.OC){t.next=34;break}return yE.Ja("THEOplayer.license",c),t.abrupt("return",f);case 34:yE.gh("THEOplayer.license"),t.next=39;break;case 37:if(this.GC||!s||o!==Tb.xC||e!=="https://validate.theoplayer.com/1/"+s.LC){t.next=39;break}return t.abrupt("return",wE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.vB(null!=(v=s)?v:f,new No(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new No(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZC=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DD.UD();case 2:if(i=t.sent,!this.cB(i.FC)){t.next=9;break}return e=null!=(r=this.sB.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.LC,t.next=7,this.fB(e);case 7:(s=t.sent)&&(this.DD.hB(s),i=s);case 9:if(t.prev=9,(u=this.rB.KC(i))!==Tb.BC){t.next=16;break}throw o=Rb.qC,new No(Cb(o),Mb.$C(o));case 16:if(u!==Tb.xC){t.next=19;break}throw h=Rb.xC,new No(Cb(h),Mb.$C(h));case 19:this.rB.ZC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.dB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.fB=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wE.$P(n,this.Qb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=wE.KP(i),this.rB.KC(r)!==Tb.OC){t.next=11;break}return yE.Ja("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.cB=function(t){return!t||Number(new Date)+2592e5+kE>=t},i.aB=function(){var t=yE.dh("THEOplayer.license");if(t)return wE.KP(t)},i.vB=function(t,n){this.DD.hB(t),this.dB(n)},i.dB=function(t){throw wt(t.message),this.eB.VD(t.message),t},t}(),AE=function(){function t(){this.lB=void 0,this._B=new Qu}var n=t.prototype;return n.hB=function(t){this.lB=t,this._B.Rh()},n.UD=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lB){t.next=2;break}return t.abrupt("return",E.resolve(this.lB));case 2:return t.next=4,this._B.Sh;case 4:return t.abrupt("return",this.lB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"gB",get:function(){return this.lB}}]),t}(),bE=function(t){function n(){return t.call(this,"El")||this}return F(n,t),n.prototype.vl=function(){return new TE},n}(Ad),TE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Ss);function EE(t){var n,i={get fontFamily(){return t.wB},set fontFamily(n){t.wB=n},get fontColor(){return t.yB},set fontColor(n){t.yB=n},get fontSize(){return t.mB},set fontSize(n){t.mB=n},get backgroundColor(){return t.kB},set backgroundColor(n){t.kB=n},get windowColor(){return t.pB},set windowColor(n){t.pB=n},get edgeStyle(){return t.AB},set edgeStyle(n){t.AB=n},addEventListener:function(t,i){var r=jd(t,zd);n.qo(r,i)},removeEventListener:function(t,i){var r=jd(t,zd);n.Qo(r,i)}};return n=new Es(i),t.qo(["El"],function(t){return n.Wo(t.fl)}),i}var SE,RE,IE={wB:void 0,yB:void 0,mB:void 0,kB:void 0,pB:void 0,AB:void 0,bB:void 0},NE="THEOplayer.textTrackStyle.",CE=function(t){function n(){var i;return(i=t.call(this)||this).TB=void 0,i.cl=void 0,i.TB=n.EB(),i}return F(n,t),n.prototype.zh=function(t){this.TB=ie({},this.TB,t),n.SB(this.TB),this.Wo(new bE)},n.EB=function(){var t=ie({},IE);return t.wB=yE.dh(NE+"fontFamily")||t.wB,t.yB=yE.dh(NE+"fontColor")||t.yB,t.mB=yE.dh(NE+"fontSize")||t.mB,t.kB=yE.dh(NE+"backgroundColor")||t.kB,t.pB=yE.dh(NE+"windowColor")||t.pB,t.AB=yE.dh(NE+"edgeStyle")||t.AB,t},n.SB=function(t){yE.Ja(NE+"fontFamily",t.wB||""),yE.Ja(NE+"fontColor",t.yB||""),yE.Ja(NE+"fontSize",t.mB||""),yE.Ja(NE+"backgroundColor",t.kB||""),yE.Ja(NE+"windowColor",t.pB||""),yE.Ja(NE+"edgeStyle",t.AB||"")},M(n,[{key:"RB",get:function(){return this.TB}},{key:"wB",get:function(){return this.TB.wB},set:function(t){this.zh({wB:t})}},{key:"yB",get:function(){return this.TB.yB},set:function(t){this.zh({yB:t})}},{key:"mB",get:function(){return this.TB.mB},set:function(t){this.zh({mB:t})}},{key:"kB",get:function(){return this.TB.kB},set:function(t){this.zh({kB:t})}},{key:"pB",get:function(){return this.TB.pB},set:function(t){this.zh({pB:t})}},{key:"AB",get:function(){return this.TB.AB},set:function(t){this.zh({AB:t})}},{key:"bB",get:function(){return this.TB.bB}},{key:"fl",get:function(){return this.cl||(this.cl=EE(this)),this.cl}}]),n}(Ts),DE=function(t){function n(n,i){var r;(r=t.call(this)||this).IB=void 0,r.Kh=void 0,r.qP=void 0,r.NB=void 0,r.sl=void 0,r.RP=void 0,r.HP=void 0,r.CB=void 0,r.DB=void 0,r.tN=void 0,r.rB=void 0,r.OB=void 0,r.xB=void 0,r.KI=void 0,r.PB=!1,r.yg=!1,r.ww=void 0,r.BB=!1,r.LB=void 0,r.MB=void 0,r.UB=void 0,r.FB=void 0,r.HB=void 0,r.VB=function(t){if(!r.BB){r.BB=!0;var n=r.IB,i=T_(t);r.qP.Ql=new aA(r.$g,i,t),ws(n.Gv())}},r.XB=function(t){r.Wo(t.fl)},r.WB=function(t){t.type!==Yo.gc&&t.type!==Yo._c&&r.Wo(t)};var e=Wd(i.uid);y(e)?r.ww=x_++:r.ww=e,r.Kh=i;var s=T.sl,u=new AE;r.NB=new Kb("3.1.1",s,u),r.sl=new XT(s,i.allowMixedContent),r.tN=new nE,r.rB=new Nb(i.isEmbeddable,"3.1.1",bb()),r.HB=new pE(s,r.rB,r.NB,u,i,bb()),r.HB.uB().catch(r.VB),r.OB=new kT(n),r.OB.qo("ZD",r.XB),r.KI=new CE,r.RP=new oE,r.HP=new cE;var o=new hA(n,i,r.sl,r.tN,r.OB,r.KI);r.tN.Xx(o);var h=o;h=new aE(h,r.qB),h=new fE(h,r.VP),r.IB=h,r.qP=new k_(r.IB),r.qP.Go(r.WB),r.FB=new vE(un(r)),r.MB=new zT(r.qP,r.sl,r.tN),r.CB=new iT(un(r)),r.xB=new RT(r.qP,i.allowNativeFullscreen),r.DB=new IA(r.xB),r.OB.ia();var a=new yr(r.OB,r.KI,1,[S_.Mv]);return r.LB=new mr(a),r.UB=new gE,r}F(n,t);var i=n.prototype;return i.cP=function(t){this.qP.tg=t,t||this.ng||this.Mg()},i.SP=function(t){this.qP.ug=t},i.zB=function(){u_(this,NA,this)},i.Ng=function(){this.qP.Ng()},i.Cg=function(){this.qP.Cg()},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.HB.ZC(n).catch(this.VB),r=OE(n),t.next=5,this.qP.xg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Mg=function(){this.yg||(this.qP.Mg(),this.LB.Mg(),this.yg=!0)},i.XI=function(){return this.DB.SN()===bA.FULLSCREEN},i.Hg=function(){this.qP.Hg()},i.Vg=function(){this.qP.Vg()},i.Xg=function(){return this.qP.Xg()},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qP.Dg();case 2:return t.next=4,this.qP.Hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),this.UB.Gv(),this.sl.Gv(),this.MB.Gv(),this.xB.Gv(),this.DB.Gv(),this.OB.Gv(),this.NB.Gv(),this.LB.Gv(),t.next=11,this.qP.Gv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"GB",get:function(){return this.tN}},{key:"bg",get:function(){return this.PB},set:function(t){this.PB=t,this.qP.bg=t}},{key:"jB",get:function(){return this.LB}},{key:"Eg",get:function(){return this.qP.Eg}},{key:"QB",get:function(){return this.UB}},{key:"YB",get:function(){return this.OB}},{key:"Ig",get:function(){return this.qP.Ig}},{key:"dg",get:function(){return this.FB}},{key:"ZB",get:function(){return this.MB}},{key:"Rg",get:function(){return this.qP.Rg}},{key:"JB",get:function(){return this.KI}},{key:"Sg",get:function(){return this.qP.Sg}},{key:"Zg",get:function(){return this.qP.Zg}},{key:"qB",get:function(){return this.RP}},{key:"VP",get:function(){return this.HP}},{key:"Y_",get:function(){return this.qP.Y_},set:function(t){this.qP.Y_=t}},{key:"Jg",get:function(){return this.qP.Jg},set:function(t){this.qP.Jg=t}},{key:"Qg",get:function(){return this.qP.Qg}},{key:"Z_",get:function(){return this.qP.Z_}},{key:"$g",get:function(){return this.qP.$g}},{key:"J_",get:function(){return this.qP.J_}},{key:"eh",get:function(){return this.qP.eh}},{key:"K_",get:function(){return this.qP.K_}},{key:"tg",get:function(){return this.qP.tg},set:function(t){var n=Boolean(t);this.cP(n)}},{key:"ng",get:function(){return this.qP.ng}},{key:"ig",get:function(){return this.qP.ig},set:function(t){this.qP.ig=t}},{key:"ow",get:function(){return this.qP.ow}},{key:"hw",get:function(){return this.qP.hw},set:function(t){this.qP.hw=Jp(t)}},{key:"d_",get:function(){return this.qP.d_}},{key:"aw",get:function(){return this.qP.aw}},{key:"rg",get:function(){return this.qP.rg}},{key:"Kl",get:function(){return this.ww}},{key:"eg",get:function(){return this.qP.eg}},{key:"sg",get:function(){return this.qP.sg}},{key:"ug",get:function(){return this.qP.ug},set:function(t){var n=Gt(Number(t),0,1)||0;this.SP(n)}}]),n}(fl);function OE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.$B=0]="$B",t[t.KB=1]="KB"}(SE||(SE={})),function(t){t[t.tL=0]="tL"}(RE||(RE={}));var xE={};function PE(t,n){(xE[n]||(xE[n]=[])).push(t)}function BE(t,n){var i=t;if(xE[n])for(var r=0,e=xE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var LE=[];function ME(t){LE.push(t)}var UE=t.CustomEvent;var FE=function(){try{var t=new UE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},HE=function(){function t(t,n){var i=this;this.GR=void 0,this.nL=void 0,this.iL=!1,this.rL=function(t){i.nL.HD(t.error,i.Y_)},this.eL=function(){i.nL.MD(i.sL),i.GR.removeEventListener("playing",i.eL),i.iL=!1},this.uL=function(){i.iL||(i.GR.addEventListener("playing",i.eL),i.iL=!0)},this.nL=n,this.GR=t,this.GR.addEventListener("error",this.rL),this.GR.addEventListener("sourcechange",this.uL),this.uL()}return t.prototype.Hl=function(){},M(t,[{key:"Y_",get:function(){var t=this.GR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"sL",get:function(){return this.GR.src||""}}]),t}();ME(function(t){new HE(t.fl,t.NB)});var VE="theoplayer-stored-volume",XE="theoplayer-stored-mutedstate";PE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=yE.nB(VE);(void 0===e||y(e))&&(e=1);var s=yE.iB(XE)||!1;r.ug=e,r.tg=s}return r}F(n,t);var i=n.prototype;return i.cP=function(n){this.Kh.persistVolume&&yE.Ja(XE,""+Boolean(n)),t.prototype.cP.call(this,n)},i.SP=function(n){this.Kh.persistVolume&&yE.Ja(VE,""+Number(n)),t.prototype.SP.call(this,n)},n}(t)},SE.KB);var WE=new(function(){function t(){this.oL=[],this.cl=void 0}var n=t.prototype;return n.Ll=function(t){return this.oL[t]},n.hL=function(t){this.oL.push(t),this.fl.push(t.fl)},n.qh=function(t){var n=this.oL.indexOf(t);n<0||(Je(this.oL,n),this.cl&&Je(this.cl,n))},n.aL=function(t){for(var n=0,i=this.oL;n<i.length;n++){var r=i[n];if(r.Kl===t)return r}},M(t,[{key:"Xl",get:function(){return this.oL.length}},{key:"fl",get:function(){return this.cl||(this.cl=function(t){for(var n=[],i=0;i<t.Xl;i++)n[i]=t.Ll(i).fl;return n.getPlayerByUID=function(n){var i=t.aL(n);return i&&i.fl},n}(this)),this.cl}}]),t}()),qE=function(){function t(t){var n=this;this.cL=[],this.fL=void 0,this.Hd=new us,this.vL=void 0,this.Cn=function(){return 0===n.cL.length?n.vL?zE(n.vL,n.Hd.Uo).then(n.dL,n.dL):n.dL():n.cL.shift()().then(n.Cn)},this.dL=function(){if(0!==n.cL.length)return n.Cn();n.fL=void 0},this.vL=t}var n=t.prototype;return n.lL=function(t,n){var i=this;return new E(function(r){var e=new us;e.Lo(i.Hd.Uo),n&&e.Lo(n);var s=function(){e.No()};i.cL.push(function(){var n=zE(t,e.Uo);return r(n),n.then(s,s)}),i.fL||(i.fL=i.Cn())})},n.Bo=function(){return this._L(!0)},n.Gv=function(){return this.vL=void 0,this._L(!1)},n._L=function(t){var n=this.fL;return this.Hd.Bo(),t&&(this.Hd=new us),E.resolve(n)},t}();function zE(t,n){return new E(function(i){return i(t(n))})}var GE,jE=function(t){function n(n){var i;return(i=t.call(this,Yo.Cc)||this).source=n,i}return F(n,t),n}(Ss),QE=function(t){function n(){var n;return(n=t.call(this)||this).zI=void 0,n.jI=void 0,n.YI=void 0,n.QI=void 0,n.zI=0,n.jI=!0,n.YI=!1,n.QI=1,n}F(n,t);var i=n.prototype;return i.Ng=function(){this.jI&&(this.jI=!1,this.Wo(new Hl(this.Y_)),this.Wo(new im(this.Y_)))},i.Cg=function(){this.jI||(this.jI=!0,this.Wo(new jl(this.Y_,this.Jg)),this.Wo(new Fl(this.Y_)))},i.Hl=function(){this.zI=0,this.YI=!1,this.QI=1,this.Cg(),this.Wo(new Ul(this.zI))},i.Gv=function(){this.jo()},i.Vg=function(){},i.Hg=function(){},M(n,[{key:"Jg",get:function(){},set:function(t){}},{key:"Y_",get:function(){return this.zI},set:function(t){this.YI&&this.zI===t||(this.zI=t,this.YI=!0,this.Wo(new Zl(this.Y_)))}},{key:"ng",get:function(){return this.jI}},{key:"ig",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.Wo(new Gl(this.Y_,this.ig)))}},{key:"d_",get:function(){return kl.U_}},{key:"rg",get:function(){return this.YI}}]),n}(cl),YE=function(t){function n(){return t.call(this,Yo.uc)||this}return F(n,t),n}(Ss),ZE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},JE={visibility:"hidden"},$E={visibility:"visible"},KE=function(){function t(t){var n,i=this;this.HR=void 0,this.GR=void 0,this.gL=!1,this.wL=void 0,this.yL=void 0,this.mL=function(t){var n;i.gL=!1,i.wL=null==(n=t.source)?void 0:n.poster,i.zh()},this.lT=function(){i.gL=!0,i.Vg()},this.GR=t,this.ZR(),this.HR=((n=pr&&pr.document&&pr.document.createElement("div")).className="theoplayer-poster",Cr(ZE,n),n),t.$g.appendChild(this.HR)}var n=t.prototype;return n.zh=function(){var t=this.GR.ng,n=this.gL;this.Av?this.HR.style.backgroundImage='url("'+this.Av.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.HR.style.backgroundImage="",t&&this.Av&&!n?this.Hg():this.Vg()},n.Hg=function(){Cr(JE,this.GR.$g),Cr($E,this.HR)},n.Vg=function(){Cr(JE,this.HR),Cr($E,this.GR.$g)},n.ZR=function(){this.GR.qo("sourcechange",this.mL),this.GR.qo("play",this.lT)},n.Gv=function(){this.GR.Qo("sourcechange",this.mL),this.GR.Qo("play",this.lT),Rr(this.HR)},M(t,[{key:"Av",get:function(){return void 0!==this.wL?this.wL:void 0!==this.yL?this.yL:void 0}},{key:"kL",set:function(t){this.yL=t,this.zh()}}]),t}();function tS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).GR=void 0,e.pL=void 0,e.AL=void 0,e.bL=void 0,e.TL=void 0,e.EL=void 0,e.SL=void 0,e.RL=void 0,e.YR=void 0,e.QR=void 0,e.cl=void 0,e.IL=function(t){t.type!==Yo.kc&&e.RL.push(t)},e.pL=new t(i,r),e.AL=new QE,e.GR=e.pL,e.bL=new KE(un(e)),e.EL=new qE,e.SL=!1,e.RL=[],e.YR=!0,e.QR=void 0,e.ZR(),e}F(i,n);var r=i.prototype;return r.lL=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.EL.lL(n,i).catch(fs));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.NL=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(i),this.pL.Go(this.IL),t.next=4,this.pL.xg(n,i);case 4:this.pL.Jo(this.IL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.CL=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Og())&&!tb(n)&&this.bg&&this.ng){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Kh.mutedAutoplay,t.next=6,this.jB.DL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.OL(),t.abrupt("break",14);case 12:return(this.tg||i===Vl.ALL)&&(this.tg=!0,this.Ng()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xg=function(t){var n=this,i=this.QR;i&&!tb(i)&&this.Wo(new Ul(0,0)),this.Hl(),this.QR=t,ws(this.lL(function(){var i=E.coroutine(ne.mark(function i(r){return ne.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return as(r),i.prev=1,i.next=4,n.NL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.QR=void 0,i.t0;case 10:return i.next=12,n.xL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.xL=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.PL(this.pL),this.Wo(new jE(this.Og())),t.next=4,this.CL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.iP=function(t){this.GR.Y_=t},r.uP=function(){return this.pL.eh},r.oP=function(){return this.pL.K_},r.Ng=function(){this.GR.Ng()},r.OL=function(){this.tg||this.Mg(),this.Ng()},r.Mg=function(){this.pL.Mg()},r.Cg=function(){this.GR.Cg()},r.Dg=function(){this.xg(void 0)},r.Hg=function(){this.YR=!0,this.GR.Hg()},r.Vg=function(){this.YR=!1,this.GR.Vg()},r.zB=function(){this.pL.zB()},r.SP=function(t){this.pL.SP(t)},r.cP=function(t){this.pL.cP(t)},r.BL=function(t){this.TL=t,t.hL(this)},r.XI=function(){return this.pL.XI()},r.Og=function(){return this.QR},r.Xg=function(){return this.pL.Xg()},r.nP=function(){return this.pL.Y_},r.rP=function(){return this.pL.Z_},r.Jx=function(){return this.pL.Zg},r._P=function(){return this.pL.ow},r.mP=function(){return this.pL.aw},r.Hl=function(){var t=this;this.QR=void 0,Ke(this.RL),this.AL.Hl(),this.PL(this.AL),this.EL.Bo(),ws(this.EL.lL(function(){var n=E.coroutine(ne.mark(function n(i){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return as(i),n.next=3,t.pL.Hl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Gv=function(){var t=this;this.Wo(new YE),this.bL.Gv(),this.JR(),this.Hl(),ws(this.lL(E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.pL.Gv();case 2:t.TL&&(t.TL.qh(t),t.TL=void 0),t.EL.Gv();case 4:case"end":return n.stop()}},n)})))),this.jo()},r.PL=function(t){if(this.GR!==t){var n=this.GR.ng,i=this.GR.Y_,r=this.GR.ig,e=this.GR.rg;this.JR(),t===this.pL?((e||t.Y_!==i)&&(t.Y_=i),t.ig!==r&&(t.ig=r),n?t.Cg():t.Ng()):this.Kh.retainPlaybackRateOnSourceChange?t.ig=r:1!==r&&this.Wo(new Gl(this.nP(),1)),this.GR=t,this.ZR();for(var s=0,u=this.RL;s<u.length;s++){var o=u[s];this.Wo(o)}Ke(this.RL),this.YR?t.Hg():t.Vg()}},r.ZR=function(){this.GR.Go(this.Xo)},r.JR=function(){this.GR.Jo(this.Xo)},r.vl=function(){return t=this,r=function(n){i=n;var r=fb(n,t.Kh);t.xg(r)},e={get abr(){return t.GB.fl},get audioTracks(){return t.Eg.fl},get autoplay(){return t.bg},set autoplay(n){t.bg=Boolean(n)},get buffered(){return t.Jx()},get canvas(){return t.CB.fl},get clip(){return t.qB.fl},get currentProgramDateTime(){var n;return null!=(n=t.Jg)?n:null},set currentProgramDateTime(n){t.Jg=null!=n?n:void 0},get currentTime(){return t.nP()},set currentTime(n){t.iP(Number(n))},get duration(){return t.rP()},get element(){return t.$g},get ended(){return t.J_},get error(){return t.uP()},get errorObject(){return t.oP()},get loop(){return t.VP.VP},set loop(n){t.VP.VP=Boolean(n)},get metrics(){return t.dg.fl},get muted(){return t.tg},set muted(n){t.cP(n)},get network(){return t.ZB.fl},get paused(){return t.ng},get playbackRate(){return t.ig},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.ig=i},get played(){return t._P()},get poster(){return t.LL},set poster(n){t.LL=zd(n)},get preload(){return t.hw},set preload(n){t.hw=n},get presentation(){return t.DB.fl},get readyState(){return t.d_},get seekable(){return t.mP()},get seeking(){return t.rg},get source(){return i},set source(t){r(t)},get src(){return nb(t.Og())},set src(t){r({sources:t})},get textTracks(){return t.Rg.fl},get textTrackStyle(){return t.JB.fl},get uid(){return t.Kl},get videoHeight(){return t.eg},get videoTracks(){return t.Sg.fl},get videoWidth(){return t.sg},get volume(){return t.ug},set volume(n){t.SP(Number(n))},destroy:function(){t.Gv(),t=null,i=void 0},play:function(){t.OL()},pause:function(){t.Cg()},stop:function(){i=void 0,t.Dg()},prepareWithUserAction:function(){t.Mg()},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)},setSource:function(t){r(t)}},(n=new SA(e,!0)).vN(t),e;var t,n,i,r,e},M(i,[{key:"NB",get:function(){return this.pL.NB}},{key:"CB",get:function(){return this.pL.CB}},{key:"Kh",get:function(){return this.pL.Kh}},{key:"IB",get:function(){return this.pL.IB}},{key:"sl",get:function(){return this.pL.sl}},{key:"aR",get:function(){return this.pL.xB}},{key:"DB",get:function(){return this.pL.DB}},{key:"OB",get:function(){return this.pL.OB}},{key:"qP",get:function(){return this.pL.qP}},{key:"GB",get:function(){return this.pL.GB}},{key:"bg",get:function(){return this.pL.bg},set:function(t){this.pL.bg=t,this.CL()}},{key:"jB",get:function(){return this.pL.jB}},{key:"Eg",get:function(){return this.pL.Eg}},{key:"QB",get:function(){return this.pL.QB}},{key:"YB",get:function(){return this.pL.OB}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"Ig",get:function(){return this.pL.Ig}},{key:"dg",get:function(){return this.pL.dg}},{key:"ZB",get:function(){return this.pL.ZB}},{key:"Rg",get:function(){return this.pL.Rg}},{key:"JB",get:function(){return this.pL.JB}},{key:"Sg",get:function(){return this.pL.Sg}},{key:"qB",get:function(){return this.pL.qB}},{key:"VP",get:function(){return this.pL.VP}},{key:"Jg",get:function(){return this.GR.Jg},set:function(t){this.GR.Jg=t}},{key:"Qg",get:function(){return this.pL.Qg}},{key:"$g",get:function(){return this.pL.$g}},{key:"J_",get:function(){return this.pL.J_}},{key:"tg",get:function(){return this.pL.tg},set:function(t){this.pL.tg=t}},{key:"ng",get:function(){return this.GR.ng}},{key:"LL",get:function(){return this.bL.Av||""},set:function(t){this.bL.kL=t}},{key:"ig",get:function(){return this.pL.ig},set:function(t){this.GR.ig=t}},{key:"hw",get:function(){return this.pL.hw},set:function(t){this.pL.hw=Jp(t)}},{key:"d_",get:function(){return this.GR.d_}},{key:"rg",get:function(){return this.GR.rg}},{key:"Kl",get:function(){return this.pL.Kl}},{key:"eg",get:function(){return this.pL.eg}},{key:"sg",get:function(){return this.pL.sg}},{key:"ug",get:function(){return this.pL.ug},set:function(t){this.pL.ug=t}}]),i}(fl)}function nS(t,n){var i=e_(n),r=new(GE||(GE=BE(GE=tS(DE),SE.$B),GE=BE(GE,SE.KB)),GE)(t,i),e=r.fl;return r.zB(),r.BL(WE),l.defineProperty(e,"constructor",{value:nS}),e=Bd(e),function(t){for(var n=0;n<LE.length;n++)(0,LE[n])(t)}(r),e}gs(function(){t.dispatchEvent&&t.dispatchEvent(FE("theoplayerready"))});var iS,rS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Ws(t)},n.decode=function(t){return Vs(t)},t}())},eS=WE.fl,sS=xm.oE.registerContentProtectionIntegration.bind(xm.oE),uS=(Yo.yc,Yo.wc,Ml.Q_,Yo.Dc,Yo.mc,Yo.vc,Yo.Tc,Yo.bc,Yo.ac,Yo.kc,Yo.Oc,Yo.oc,Ml.Sl,Yo.Ac,nl.h_,bs.sh,bs.oh,Yo.ec,Yo.rc,Yo.xc,{ML:!1,UL:50}),oS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.wC="FL"}(iS||(iS={}));var hS,aS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this).Ea=void 0,s.bS=void 0,s.Ma=void 0,s.HL=!1,s.VL=new Qu,s.XL=!1,s.EL=new qE,s.WL=void 0,s.mo=void 0,s.Jh=void 0,s.qL=function(){s.XL=!0},s.zL=function(){s.GL(!0)},s.Ea=n,s.bS=i,s.Ma=i.ZS,s.WL=r,s.mo=e,s.Ma.addEventListener("loadedmetadata",s.qL);for(var u=0;u<oS.length;u++){var o=oS[u];s.Ma.addEventListener(o,s.zL)}return s}F(i,t);var r=i.prototype;return r.jL=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mo.Ao(n.do,i);case 2:return r=t.sent,t.next=5,r.ua();case 5:return e=t.sent,t.next=8,this.QL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.YL=function(t){var n=this.Jh;return n?0!==t.tR.length&&t.tR.some(function(t){return t.$h.do===n.$h}):0===t.tR.length||!this.XL},r.ZL=function(t){return this.WL.ZL(t),this.Ea=t,E.resolve()},r.No=function(){var t=E.coroutine(ne.mark(function t(){var n,i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.jo(),this.Ma.removeEventListener("loadedmetadata",this.qL),n=0;n<oS.length;n++)i=oS[n],this.Ma.removeEventListener(i,this.zL);return t.next=5,this.EL.Gv();case 5:return t.next=7,this.JL();case 7:return t.next=9,this.WL.Hl();case 9:return t.next=11,this.QL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.GL=function(t){t!==this.HL&&(this.HL=t,t?this.VL.Rh(void 0):this.VL=new Qu)},r.QL=function(t){var n=this;return this.EL.lL(function(){return n.$L(t)})},r.$L=function(){var t=E.coroutine(ne.mark(function t(i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ma.src){t.next=4;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ma.src){t.next=6;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.HL){t.next=9;break}return t.next=9,this.VL.Sh;case 9:if(!(r=this.Jh)){t.next=14;break}return t.next=13,r.ra(this.Ma);case 13:this.Jh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.ia(this.Ma);case 17:this.Jh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xg=function(t){var n=this;return this.EL.lL(function(){return n.KL(t)})},r.KL=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.GL(!1),i=this.bS.ig,this.Ma.src=n,this.bS.ig=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Wh=function(){var t=this;return this.EL.lL(function(){return t.Xd()})},r.Xd=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ma.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.JL=function(){var t=this;return this.EL.lL(function(){return t.tM()})},r.tM=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.GL(!1),Pr(this.Ma);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"Eg",get:function(){throw new v("Not implemented")}},{key:"Kh",get:function(){return this.Ea}},{key:"ZS",get:function(){return this.Ma}},{key:"Sg",get:function(){throw new v("Not implemented")}}]),i}(Ts),cS=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Xx=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Kh,t.t0=n.iR,t.next=t.t0===gl.P_?4:t.t0===gl.B_?4:(t.t0,gl.x_,6);break;case 4:return this.Ma.setAttribute("crossorigin",n.iR),t.abrupt("break",8);case 6:return this.Ma.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.hw?this.Ma.preload=n.hw:this.Ma.preload=Yp.sS,void 0!==n.rR?this.Ma.title=n.rR:Or(this.Ma),t.next=12,this.xg(n.g_);case 12:this.WL.Wh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.YL=function(t){return!1},i.ZL=function(t){return E.resolve(void 0)},i.No=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Or(this.Ma),n.next=3,t.prototype.No.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.nM=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.rv))},M(n,[{key:"Zg",get:function(){return rA.MI(this.Ma.buffered)}},{key:"Z_",get:function(){return this.Ma.duration}},{key:"iM",get:function(){var t=this.Z_;if(!isFinite(t))return!1;var n=this.Zg;return 0!==n.Xl&&t-n.eI(n.Xl-1)<1/6}},{key:"hw",get:function(){return this.Ma.preload},set:function(t){this.Ma.preload=t}},{key:"aw",get:function(){return rA.MI(this.Ma.seekable)}},{key:"rM",get:function(){return this.Zg}},{key:"eM",get:function(){if(xr(this.Ma)&&(this.Ma.videoWidth>0||this.Ma.videoHeight>0))return this.Zg}}]),n}(aS),fS=function(t){function n(n){var i;return(i=t.call(this,Yo.mc)||this).currentTime=n,i}return F(n,t),n}(Ss),vS=function(t){function n(){return t.call(this,Yo.vc)||this}return F(n,t),n}(Ss);!function(t){t.sM="uM"}(hS||(hS={}));var dS,lS;hS.sM;!function(t){t[t.oM=0]="oM",t[t.Uc=1]="Uc",t[t.hM=2]="hM"}(dS||(dS={})),function(t){t.aM="cM"}(lS||(lS={}));var _S=function(t){function n(n){var i;return(i=t.call(this,lS.aM)||this).fM=n,i}return F(n,t),n}(Ss),gS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vM=rA.HI(),n}F(n,t);var i=n.prototype;return i.dM=function(t,n){var i=new rA([t,n]);this.vM=this.vM.pI(i),this.Wo(new _S(i))},i.lM=function(t,n){this.vM=this.vM.bI(new rA([t,n]))},i.Hl=function(){this.vM=rA.HI()},i.Gv=function(){this.jo()},M(n,[{key:"_M",get:function(){return this.vM}}]),n}(Ts);function wS(t,n){return void 0===n&&(n=new qc({highWaterMark:1/0})),new Bc(new mS(t,n),{highWaterMark:0})}var yS,mS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Yc=void 0,this.gM=void 0,this.wM=void 0,this.Fn=[],this.sf=0,this._B=void 0,this.yM=!1,this.mM=void 0,this.kM=function(t){return t.done?(i.Xn(),void i._B.close()):(i.Fn.push(t.value),i.sf+=i.gM(t.value),i.yM&&i.Xn(),i.pM()?i.Yc.read().then(i.kM):void 0)},this.Id=function(t){i.Xn(),i._B.error(t)},this.Yc=t.getReader(),this.gM=e,this.wM=u}var n=t.prototype;return n.start=function(t){this._B=t,this.pM()&&this.AM()},n.pull=function(){this.Fn.length>0?this.Xn():this.yM=!0,this.pM()&&this.AM()},n.cancel=function(t){return Ke(this.Fn),this.sf=0,this.yM=!1,this.Yc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.sf=0,this.yM=!1,this._B.enqueue(t)}},n.pM=function(){return!!this.yM||this.wM-this.sf>0},n.AM=function(){var t=this;if(!this.mM){var n=this.Yc.read().then(this.kM).catch(this.Id);this.mM=n;var i=function(){t.mM===n&&(t.mM=void 0)};n.then(i,i)}},t}(),kS=function(){function t(){this.bM=[],this.wh=0}var n=t.prototype;return n.hL=function(t){this.bM.push(t),this.wh+=t.byteLength},n.TM=function(t){if(this.wh<=t)return this.EM();for(var n=this.bM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var s=t-i;0,e.push(Uu(n[r],0,s)),i+=s}return{bM:e,wh:i}},n.SM=function(t){var n=this.TM(t);return 1===n.bM.length?n.bM[0]:Qs(n.bM,n.wh)},n.EM=function(){return{bM:this.bM,wh:this.wh}},n.RM=function(t){if(this.wh<=t)return this.IM();for(var n=this.bM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var s=t-i;0,e.push(Uu(n[0],0,s)),n[0]=Uu(n[0],s),i+=s}return this.wh-=i,{bM:e,wh:i}},n.NM=function(t){var n=this.RM(t);return 1===n.bM.length?n.bM[0]:Qs(n.bM,n.wh)},n.IM=function(){var t=this.EM();return this.bM=[],this.wh=0,t},n.CM=function(){var t=1===this.bM.length?this.bM[0]:Qs(this.bM,this.wh);return this.bM=[],this.wh=0,t},t}();!function(t){t[t.DM=0]="DM",t[t.OM=1]="OM",t[t.xM=2]="xM"}(yS||(yS={}));var pS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this)._B=void 0,n.PM=1e5,n.BM=void 0,n.LM=void 0,n}F(n,t);var r=n.prototype;return r.start=function(t){this._B=t},r.transform=function(t){this.MM(t)},r.flush=function(){this.UM()},r.FM=function(t){return t===Wg.qm||t===Wg.wk||t===Wg.Sk},r.HM=function(t){var n=this.VM(t);this._B.enqueue(n)},r.XM=function(t){this._B.enqueue(t)},r.VM=function(t){var n=Vu(t.Us.Us);switch(t.vo){case"moov":return this.WM(n);case"sidx":return this.qM(n);case"moof":return this.zM(n)}return n},r.WM=function(t){for(var n=i.extractIsobmffMovieBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.MovieHeaderBoxV0?this.GM(s):s instanceof i.MovieHeaderBoxV1?this.jM(s):s instanceof i.TrackBox&&this.QM(s)}for(var u=0,o=n.boxes;u<o.length;u++){var h=o[u];h instanceof i.MovieExtendsBox&&this.YM(h)}return n.serialize().join()},r.GM=function(t){this.BM=t.timescale,t.timescale=this.PM,t.duration=t.duration/this.ZM*this.PM},r.jM=function(t){this.BM=t.timescale,t.timescale=this.PM,t.duration=qt.fromNumber(t.duration.toNumber()/this.ZM*this.PM)},r.QM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackHeaderBoxV0?this.JM(e):e instanceof i.TrackHeaderBoxV1?this.$M(e):e instanceof i.MediaBox?this.KM(e):e instanceof i.EditBox&&this.tU(e)}},r.JM=function(t){t.duration=t.duration/this.ZM*this.PM},r.$M=function(t){t.duration=qt.fromNumber(t.duration.toNumber()/this.ZM*this.PM)},r.KM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.MediaHeaderBoxV0?this.nU(e):e instanceof i.MediaHeaderBoxV1&&this.iU(e)}},r.nU=function(t){this.LM=t.timescale,t.timescale=this.PM,t.duration=t.duration/this.rU*this.PM},r.iU=function(t){this.LM=t.timescale,t.timescale=this.PM,t.duration=qt.fromNumber(t.duration.toNumber()/this.rU*this.PM)},r.tU=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.EditListBoxV0?this.eU(e):e instanceof i.EditListBoxV1&&this.sU(e)}},r.eU=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=r.mediaTime/this.ZM*this.PM,r.segmentDuration=r.segmentDuration/this.ZM*this.PM}},r.sU=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=qt.fromNumber(r.mediaTime.toNumber()/this.ZM*this.PM),r.segmentDuration=qt.fromNumber(r.segmentDuration.toNumber()/this.ZM*this.PM)}},r.YM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackExtendsBox?this.uU(e):e instanceof i.MovieExtendsHeaderBoxV0?this.oU(e):e instanceof i.MovieExtendsHeaderBoxV1&&this.hU(e)}},r.uU=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.rU*this.PM},r.oU=function(t){t.fragmentDuration=t.fragmentDuration/this.ZM*this.PM},r.hU=function(t){t.fragmentDuration=qt.fromNumber(t.fragmentDuration.toNumber()/this.ZM*this.PM)},r.qM=function(t){var n=i.extractIsobmffSegmentIndexBox(t);return n instanceof i.SegmentIndexBoxV0?this.aU(n):this.cU(n),n.serialize().join()},r.aU=function(t){var n=t.timescale;t.timescale=this.PM,t.earliestPresentationTime=t.earliestPresentationTime/n*this.PM;for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.PM}},r.cU=function(t){var n=t.timescale;t.timescale=this.PM,t.earliestPresentationTime=qt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.PM);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.PM}},r.zM=function(t){for(var n=i.extractIsobmffMovieFragmentBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.TrackFragmentBox&&this.fU(s)}return n.serialize().join()},r.fU=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackFragmentHeaderBox?this.vU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV0?this.dU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV1?this.lU(e):e instanceof i.TrackRunBox&&this._U(e)}},r.vU=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.rU*this.PM)},r.dU=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.rU*this.PM},r.lU=function(t){t.baseMediaDecodeTime=qt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.rU*this.PM)},r._U=function(t){for(var n=0,i=0,r=0,e=t.samples;r<e.length;r++){var s=e[r];if(void 0!==s.duration){var u=(i+=s.duration)/this.rU*this.PM;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.rU*this.PM)}},M(n,[{key:"ZM",get:function(){if(void 0===this.BM)throw new v("Expected to have found a movie header timescale.");return this.BM}},{key:"rU",get:function(){if(void 0===this.LM)throw new v("Expected to have found a media header timescale.");return this.LM}}]),n}(function(){var t=n.prototype;function n(){this.Fn=new kS,this.Zc=yS.DM,this.gU=0,this.wU=0,this.yU()}return t.mU=function(t,n){},t.kU=function(){},t.MM=function(t){this.Fn.hL(t),this.pU(!1)},t.UM=function(){this.pU(!0)},t.AU=function(){return this.Zc!==yS.DM||0!==this.Fn.wh},t.pU=function(t){for(;0!==this.Fn.wh;){if(!t&&this.gU>this.Fn.wh)return;switch(this.Zc){case yS.DM:this.bU(t);break;case yS.OM:this.TU(t);break;case yS.xM:this.EU(t)}}},t.yU=function(){this.Zc=yS.DM,this.gU=8},t.bU=function(t){var n=Hu(this.Fn.SM(this.gU)),i=new Gu,r=xw.ip(n,i);if(!r.Jk)return this.gU=r.ep,void(t&&this.gU>this.Fn.wh&&this.SU(this.Fn.wh));var e=r.rp.vo,s=r.rp.wh;0===s&&(s=1/0),this.mU(e,s),this.FM(e)?this.RU(s):this.SU(s)},t.RU=function(t){this.Zc=yS.OM,this.gU=t},t.TU=function(t){var n=Hu(this.Fn.NM(this.gU)),i=new Gu,r=xw.$k(n,i,!t);if(!r.Jk)throw new Ow(i.Ah);this.kU(),this.HM(r.Kk),this.yU()},t.SU=function(t){this.Zc=yS.xM,this.gU=0,this.wU=t},t.EU=function(t){var n=this.Fn.RM(this.wU);this.wU-=n.wh;for(var i=0,r=n.bM;i<r.length;i++){var e=r[i];this.XM(e)}(0===this.wU||t&&this.wU===1/0)&&(this.kU(),this.yU())},n}()),AS=function(){function t(){this.IU=void 0,this.IU=new pS}return t.prototype.NU=function(t){return t.pipeThrough(new zc(this.IU))},t}(),bS=20,TS=Z.De&&Z.Oe<3,ES=Z.He,SS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).CU=void 0,e.DU=void 0,e.OU=void 0,e.Ux=bS,e.Fx=GT,e.xU=!1,e.PU=!1,e.BU=void 0,e.LU=new us,e.MU=void 0,e.UU=!1,e.FU=void 0,e.HU=function(){e.xU=!1},e.CU=i,e.DU=n,e.OU=r,e.OU.addEventListener("updateend",e.HU),TS&&(e.MU=new AS),e}F(n,t);var i=n.prototype;return i.VU=function(t,n,i){var r=this;switch(t.vo){case dS.oM:case dS.Uc:return this.XU(function(i){return r.WU(t,n,i)},i);case dS.hM:throw new v("Opaque segments are not supported on web.")}},i.qU=function(t,n){var i=this;switch(t.vo){case dS.oM:return this.XU(function(n){return i.zU(t,n)},n);case dS.Uc:throw new v("Streaming initialization segments are not supported on web.");case dS.hM:throw new v("Opaque initialization segments are not supported on web.")}},i.zU=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GU(n,void 0,i);case 2:ES&&(this.UU=!1,this.FU=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WU=function(){var t=E.coroutine(ne.mark(function t(n,i,r){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(ES&&this.UU&&this.FU)){t.next=3;break}return t.next=3,this.zU(this.FU,r);case 3:return t.prev=3,as(r),t.next=7,this.GU(n,i,r);case 7:this.Wo(new Ss(hS.sM));case 8:return t.prev=8,n.vo===dS.Uc&&n.Us.cancel(new os).catch(R),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.GU=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:as(r),i&&this.jU(i),t.t0=n.vo,t.next=t.t0===dS.oM?5:t.t0===dS.Uc?13:21;break;case 5:if(!TS){t.next=10;break}return e=this.MU.NU(uf(n.Us)),t.next=9,this.QU(e,r);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.YU(n.Us);case 12:return t.abrupt("return",t.sent);case 13:if(!TS){t.next=18;break}return s=this.MU.NU(n.Us),t.next=17,this.QU(s,r);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.QU(n.Us,r);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QU=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.DU.Zg,e=wS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,vs(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return as(i),h=js(o.value),u=!0,t.next=17,this.YU(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(R),!u){t.next=35;break}return t.next=27,this.ZU();case 27:a=this.DU.Zg._I(r.gI()),c=0;case 29:if(!(c<a.Xl)){t.next=35;break}return t.next=32,this.JU(a.iI(c),a.eI(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.$U=function(t,n){var i=this;return this.XU(function(){return i.KU(t,n)})},i.KU=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.OU.appendWindowStart===n&&this.OU.appendWindowEnd===i){t.next=6;break}return t.next=3,this.ZU();case 3:this.OU.appendWindowStart=0,this.OU.appendWindowEnd=i,this.OU.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jU=function(t){this.OU.timestampOffset!==t.Um&&(this.OU.timestampOffset=t.Um)},i.YU=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OU.appendBuffer(n),this.PU=!0,t.next=4,this.tF();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nF=function(t,n,i){var r=this;return this.XU(function(i){return r.JU(t,n,i)},i)},i.JU=function(){var t=E.coroutine(ne.mark(function t(n,i,r){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(r),this.OU.remove(n,i),t.next=4,this.tF();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tF=function(){var t=this,n=this.DU.Zg;return new E(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.NI(t.DU.Zg)||t.Wo(new Ss(hS.sM)),i()):r(new v(e))},c=function(){t.OU.removeEventListener("update",u),t.OU.removeEventListener("error",o),t.OU.removeEventListener("abort",h),t.OU.removeEventListener("updateend",a)};t.OU.addEventListener("update",u),t.OU.addEventListener("error",o),t.OU.addEventListener("abort",h),t.OU.addEventListener("updateend",a)})},i.iF=function(){var t=this;return this.XU(function(){return t.ZU()})},i.ZU=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.CU.d_===WS.td){t.next=2;break}return t.abrupt("return");case 2:ES&&(this.UU=!0),this.OU.updating&&(this.xU=!0);try{this.OU.abort()}catch(t){0,this.xU=!1}if(!this.xO){t.next=8;break}return t.next=8,this.tF().catch(R);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rF=function(){return"function"==typeof this.OU.changeType},i.eF=function(t){this.sF(),this.CU.d_!==WS.uF&&this.OU.changeType(t)},i.oF=function(){this.CU.d_!==WS.ac||this.BU||this.xO||(this.OU.timestampOffset=this.OU.timestampOffset,this.CU.hF())},i.XU=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sF(),(r=new us).Lo(this.LU.Uo),i&&r.Lo(i),t.prev=4,this.BU=n(r.Uo),t.next=8,this.BU;case 8:if(this.CU.hF(),!this.xO){t.next=12;break}return t.next=12,this.tF();case 12:return t.prev=12,this.BU=void 0,r.No(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.sF=function(){if(this.BU)throw new v("Internal error")},i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jo(),this.LU.Bo(),!this.BU){t.next=6;break}return t.next=5,this.BU.catch(R);case 5:this.BU=void 0;case 6:this.OU.removeEventListener("updateend",this.HU);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Dx",get:function(){return this.Ux},set:function(t){this.Ux=t}},{key:"Bx",get:function(){return this.Fx},set:function(t){this.Fx=t}},{key:"xO",get:function(){return this.xU||this.OU.updating}}]),n}(Ts),RS=function(){function t(t,n){this.aF=void 0,this.OU=void 0,this.cF=void 0,this.aF=n,this.OU=t}var n=t.prototype;return n.iM=function(){return!!this.cF&&this.Zg.cI()._R(this.cF)},n.fF=function(){var t=this.Zg;this.cF=t.Xl>0?t.eI(t.Xl-1):0,this.aF.vF()},n.oF=function(){this.cF=void 0},M(t,[{key:"Zg",get:function(){if(this.aF.d_===WS.uF)return rA.HI();var t=rA.MI(this.OU.buffered)._I(new rA([0,1/0])),n=this.cF;return void 0!==n&&t.Xl>0&&t.eI(t.Xl-1)===n&&(t=t.pI(rA.FI(n))),t}}]),t}();function IS(t){var n=t.aa("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function NS(t,n){var i=CS(t)||DS(t),r=CS(n)||DS(n);return!i&&!r||t===n}function CS(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function DS(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function OS(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function xS(t,n,i,r,e,s){var u=new RS(e,t),o=new SS(u,t,e);return new PS(t,n,i,r,u,o,s)}var PS=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).CU=void 0,h.Ea=void 0,h.dF=void 0,h.bS=void 0,h.Aa=void 0,h.lF=void 0,h.DU=void 0,h._F=void 0,h.CU=n,h.Ea=r,h.Aa=r.rv,h.dF=e,h.bS=i,h.DU=s,h._F=u,h.lF=o,h._F.qo(hS.sM,h.Xo),h}F(n,t);var i=n.prototype;return i.iM=function(){return this.DU.iM()},i.fF=function(){this.DU.fF()},i.oF=function(){this.DU.oF(),this._F.oF()},i.gF=function(t,n){this.lF.dM(t,n)},i.wF=function(t,n){this.lF.lM(t,n)},i.yF=function(){return this._F.iF()},i.VU=function(t,n,i){return this._F.VU(t,n,i)},i.qU=function(t,n){return this._F.qU(t,n)},i.$U=function(t,n){return this._F.$U(t,n)},i.qh=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wF(n,i),e=this.Zg,t.next=4,this._F.nF(n,i,r);case 4:s=0!==e.Xl&&0===this.Zg.Xl,(Z.qe||Z.xe)&&s&&this.bS.kh(this.bS.Y_);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.YL=function(t){var n=t.rv;if(this.Aa===n)return!0;if(!MediaSource.isTypeSupported(n))return!1;var i=oo(this.Aa),r=oo(n),e=IS(i),s=IS(r);if(this._F.rF()){if(!function(t,n){return es(t,n,NS)}(e,s))return!1}else{if(i.vo!==r.vo)return!1;if(!function(t,n){return es(t,n,OS)}(e,s))return!1}return!0},i.ZL=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.rv,this.Aa!==i&&(this._F.rF()&&this._F.eF(i),this.Aa=i),this.Ea=n,this.CU.mF();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),this.lF.Gv(),t.prev=2,this._F.Qo(hS.sM,this.Xo),t.next=6,this._F.No();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Zg",get:function(){return this.DU.Zg}},{key:"Kh",get:function(){return this.Ea}},{key:"rv",get:function(){return this.Aa}},{key:"kF",get:function(){return this.lF._M}},{key:"Dx",get:function(){return this._F.Dx},set:function(t){this._F.Dx=t}},{key:"Bx",get:function(){return this._F.Bx},set:function(t){this._F.Bx=t}},{key:"xO",get:function(){return this._F.xO}}]),n}(Ts),BS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.pF=void 0,this.iI=t,this.eI=n,this.AF=i,this.bF=r,this.pF=Wb()}return t.prototype.TF=function(){var t=this.iI,n=this.eI;if(this.AF||this.bF){var i=.001*(Wb()-this.pF);this.AF&&(t+=i),this.bF&&(n+=i)}return t>=n?rA.HI():new rA([t,n])},t}(),LS=100,MS=1e3,US=1e4,FS=.01,HS=[Yo.yc,Yo.wc,Yo.Tc,Yo.bc,Yo.ac,Yo.kc,Ml.Sl,nl.h_],VS=function(){function t(t,n){var i=this;this.eT=kl.U_,this.EF=!1,this.SF=[],this.RF=void 0,this.IF=0,this.NF=0,this.CF=0,this.DF=0,this.OF=0,this.xF=MS,this.PF=function(t){var n=i.bS.Y_;t.fM._R(n)&&i.BF(n)},this.LF=N(function(){i.MF(Ml.Sl)},LS),this.UF=N(function(){i.MF(Yo.mc)},LS),this.FF=function(){i.HF()?i.VF():i.XF()},this.WF=function(){var t=i.IF,n=i.CF,r=i.bS.Y_,e=T.Au(),s=t!==r;if(s||!i.HF())return i.IF=r,i.CF=e,void(s&&(i.OF=0,i.xF=MS));if(n>0&&e>n+i.xF){var u=r+i.OF*FS,o=i.DU.Zg;o._R(u)||(u=i.qF(r,o)),i.IF=u,i.CF=e,i.OF++,i.xF=_.min(2*i.xF,US),i.bS.kh(u)}},this.DU=t,this.bS=n,this.bS.qo(Ml.Sl,this.LF),this.bS.qo(Yo.mc,this.UF),this.bS.qo(HS,this.FF)}var n=t.prototype;return n.zF=function(t){this.SF.push(t),t.qo(lS.aM,this.PF)},n.Gv=function(){var t=this;this.XF(),this.eT=kl.U_,this.bS.Qo(Ml.Sl,this.LF),this.bS.Qo(Yo.mc,this.UF),this.bS.Qo(HS,this.FF),this.SF.forEach(function(n){return n.Qo(lS.aM,t.PF)}),void 0!==this.RF&&(T.sr(this.RF),this.RF=void 0),this.EF=!0},n.MF=function(t){if(!this.EF){var n=this.bS.d_;if(n<=kl.H_){var i=this.bS.Y_,r=this.DU.Zg,e=r.TI(i),s=r.eI(e);-1!==e&&(t===Ml.Sl&&n<this.eT||t===Yo.mc&&n===this.eT)&&s<i+.5&&(i=s),this.BF(i)}t===Ml.Sl&&(this.eT=n)}},n.BF=function(t){var n=this;if(!this.bS.J_){var i=this._M.bI(this.DU.Zg).cI(),r=i.TI(t);if(-1!==r)if(!(_.abs(i.iI(r)-i.eI(r))<=.001))if(T.Zd){if(void 0!==this.RF)return;this.NF=this.bS.Y_,this.RF=T.ur(function(){n.NF===n.bS.Y_&&n.bS.kh(i.eI(r)),n.RF=void 0},1500)}else this.bS.kh(i.eI(r))}},n.VF=function(){0===this.DF&&(this.DF=T.Du(this.WF,250))},n.XF=function(){0!==this.DF&&(T.Ou(this.DF),this.DF=0),this.bS.rg||(this.CF=0)},n.HF=function(){return!this.bS.ng&&!this.bS.rg&&0!==this.bS.ig&&!this.bS.J_&&!this.bS.eh&&this.bS.d_>=kl.V_},n.qF=function(t,n){var i=n.TI(t);return i>-1?n.eI(i):t},M(t,[{key:"_M",get:function(){return this.SF.reduce(function(t,n){return t.pI(n._M)},rA.HI())}}]),t}();function XS(t){var n=[];if(t.GF&&n.push(t.GF.Zg),t.jF&&n.push(t.jF.Zg),0===n.length)return rA.HI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Xl>0&&(i=_.max(i,e.eI(e.Xl-1)))}for(var s=t.iM,u=new rA([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Xl>0&&(h=h.pI(new rA([h.eI(h.Xl-1),i],[!0,!0]))),u=u._I(h)}return u}var WS,qS=Z.Pe||Z.Be;!function(t){t.uF="closed",t.td="open",t.ac="ended"}(WS||(WS={}));var zS=function(){function t(){}return t.prototype.QF=function(){return new MediaSource},t}(),GS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new zS),(u=t.call(this,n,i,r,e)||this).YF=void 0,u.ZF=void 0,u.JF=void 0,u.KF=new BS(0,1/0),u.TS=void 0,u.tH=void 0,u.nH=void 0,u.iH=!1,u.rH=function(){u.eH()},u.sH=function(){u.bS.sH()},u.YF=s,u.TS=u.YF.QF(),u.bS.qo(Yo.Tc,u.rH),u.nH=new VS(un(u),u.bS),u}F(n,t);var i=n.prototype;return i.uH=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.oH()?this.hH(t):this.tH=t},i.hH=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.TS.setLiveSeekableRange){var r=_.pow(2,39);this.TS.setLiveSeekableRange(0,r)}this.TS.duration=i,this.tH=void 0},i.aH=function(t,n,i,r){this.KF=new BS(t,n,!!i,!!r)},i.Xx=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.Ea,i=Qe(n.cH,function(t){return De(t.rv,"audio")}),r=Qe(n.cH,function(t){return De(t.rv,"video")}),t.next=5,this.fH();case 5:i&&(e=new gS,this.nH.zF(e),s=this.TS.addSourceBuffer(i.rv),this.ZF=xS(this,this.bS,i,S_.Lv,s,e),this.ZF.qo(hS.sM,this.sH)),r&&(u=new gS,this.nH.zF(u),o=this.TS.addSourceBuffer(r.rv),this.JF=xS(this,this.bS,r,S_.Mv,o,u),this.JF.qo(hS.sM,this.sH)),this.WL.Wh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fH=function(){var n=E.coroutine(ne.mark(function n(){var i;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.TS),n.next=3,t.prototype.xg.call(this,i);case 3:return n.next=5,t.prototype.Wh.call(this);case 5:if(this.d_===WS.td){n.next=8;break}return n.next=8,yd(this.TS,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.oH=function(){if(this.d_!==WS.td)return!1;var t=this.ZF&&this.ZF.xO,n=this.JF&&this.JF.xO;return!(t||n)},i.fF=function(){this.iH=!0,this.ZF&&this.ZF.fF(),this.JF&&this.JF.fF(),this.iH=!1,this.eH()},i.oF=function(){this.ZF&&this.ZF.oF(),this.JF&&this.JF.oF()},i.YL=function(n){var i=Qe(n.cH,function(t){return De(t.rv,"audio")}),r=Qe(n.cH,function(t){return De(t.rv,"video")});if(this.ZF){if(!i)return!1;if(!this.ZF.YL(i))return!1}else if(i)return!1;if(this.JF){if(!r)return!1;if(!this.JF.YL(r))return!1}else if(r)return!1;return!!t.prototype.YL.call(this,n)},i.ZL=function(){var n=E.coroutine(ne.mark(function n(i){var r,e,s;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Qe(i.cH,function(t){return De(t.rv,"audio")}),e=Qe(i.cH,function(t){return De(t.rv,"video")}),s=[],this.ZF&&s.push(this.ZF.ZL(r)),this.JF&&s.push(this.JF.ZL(e)),n.next=7,E.all(s);case 7:return n.next=9,t.prototype.ZL.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.No=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.ZF){n.next=4;break}return n.next=3,this.ZF.No();case 3:this.ZF=void 0;case 4:if(!this.JF){n.next=8;break}return n.next=7,this.JF.No();case 7:this.JF=void 0;case 8:return this.Ma.src&&URL.revokeObjectURL(this.Ma.src),this.bS.Qo(Yo.Tc,this.rH),this.nH.Gv(),n.next=13,t.prototype.No.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.mF=function(){var t=this,n=this.Ea,i=n.cH.map(function(n){return De(n.rv,"audio")&&t.ZF?t.ZF.Kh:De(n.rv,"video")&&t.JF?t.JF.Kh:n});this.Ea=ie({},n,{cH:i})},i.vF=function(){this.iH||this.eH()},i.eH=function(){this.vH&&this.oH()&&(this.TS.endOfStream(),this.tH=void 0,this.Wo(new Ss(iS.wC)),this.bS.sH())},i.hF=function(){this.oH()&&(this.iM?this.eH():void 0!==this.tH&&this.hH(this.tH))},n.nM=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.cH;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.rv))return!1}return!0},M(n,[{key:"GF",get:function(){return this.ZF}},{key:"jF",get:function(){return this.JF}},{key:"Z_",get:function(){if(this.tH)return this.tH;var t=this.TS.duration;return 9007199254740991===t?1/0:t}},{key:"Zg",get:function(){return qS?XS(this):(t=this,n=rA.MI(this.Ma.buffered),(i=n).Xl>0&&t.iM&&(i=i.pI(rA.FI(i.eI(i.Xl-1)))),i);var t,n,i}},{key:"rM",get:function(){var t;return null==(t=this.ZF)?void 0:t.Zg}},{key:"eM",get:function(){var t;return null==(t=this.JF)?void 0:t.Zg}},{key:"aw",get:function(){return this.KF.TF()._I(new rA([0,this.Z_],[!0,!0]))}},{key:"iM",get:function(){return(!this.ZF||this.ZF.iM())&&(!this.JF||this.JF.iM())}},{key:"d_",get:function(){return this.TS.readyState}},{key:"vH",get:function(){if(!this.iM)return!1;var t=this.Zg;return 0!==t.Xl&&t.iI(t.Xl-1)<=this.bS.Y_}}]),n}(aS),jS=[Yo.Oc,Yo.kc,Yo.Tc,Yo.yc,Yo.wc],QS=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this)||this).zI=n,c.dH=i,c.lH=r,c.jI=e,c.YI=s,c.GI=u,c.QI=o,c.ZI=h,c._H=a,c}F(n,t);var i=n.prototype;return i.Cg=function(){this.jI||(this.jI=!0,this.Wo(new Fl(this.Y_)))},i.Ng=function(){this.jI&&(this.jI=!1,this.Wo(new Hl(this.Y_)))},i.No=function(){this.jo()},M(n,[{key:"Y_",get:function(){return this.zI},set:function(t){this.Y_!==t&&(this.zI=t,this.YI=!0,this.Wo(new Zl(this.Y_)))}},{key:"Z_",get:function(){return this.dH}},{key:"J_",get:function(){return this.lH}},{key:"ng",get:function(){return this.jI}},{key:"d_",get:function(){return this._H}},{key:"rg",get:function(){return this.YI}},{key:"tg",get:function(){return this.GI},set:function(t){this.tg!==t&&(this.GI=t,this.Wo(new $l(this.Y_,this.ug)))}},{key:"ig",get:function(){return this.QI},set:function(t){this.ig!==t&&(this.QI=t,this.Wo(new Gl(this.Y_,this.ig)))}},{key:"ug",get:function(){return this.ZI},set:function(t){this.ug!==t&&(this.ZI=t,this.Wo(new $l(this.Y_,this.ug)))}}]),n}(Ts);var YS=function(t){function n(n){var i;return(i=t.call(this)||this).bS=void 0,i.eT=kl.U_,i.gH=function(){i.wH()},i.bS=n,i}F(n,t);var i=n.prototype;return i.yH=function(t){this.eT!==t&&(this.eT=t,this.Wo(new n_(this.bS.Y_,t)))},i.wH=function(){this.yH(this.yP())},i.Hl=function(){this.yH(kl.U_)},i.No=function(){this.jo()},M(n,[{key:"d_",get:function(){return this.yP()}}]),n}(Ts),ZS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],JS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<ZS.length;r++){var e=ZS[r];i.bS.ZS.addEventListener(e,i.gH)}return i}F(n,t);var i=n.prototype;return i.yP=function(){var t=this.bS.ZS.readyState;return t>kl.H_&&this.bS.mH?kl.H_:(this.bS.ZS.seeking&&t>kl.F_&&(t=kl.F_),t)},i.No=function(){for(var n=0;n<ZS.length;n++){var i=ZS[n];this.bS.ZS.removeEventListener(i,this.gH)}t.prototype.No.call(this)},n}(YS),$S=function(t){function n(n){var i;(i=t.call(this,n)||this).bS.qo(Yo.Tc,i.gH);for(var r=0;r<ZS.length;r++){var e=ZS[r];i.bS.ZS.addEventListener(e,i.gH)}return i}F(n,t);var i=n.prototype;return i.yP=function(){if(this.bS.ZS.readyState===kl.U_)return kl.U_;var t=this.kH(),n=t?t.eI-t.iI:0;if(!t)return kl.F_;var i=this.bS.ig;return this.pH()||n>=3*i?kl.X_:n>=3?kl.V_:kl.H_},i.kH=function(){var t=this.bS.Y_,n=this.bS.Zg.kI(.04),i=n.TI(t);if(!(i<0))return{iI:t,eI:n.eI(i)}},i.pH=function(){if(this.bS.J_)return!0;var t=this.bS.Z_,n=this.kH();return!!n&&t-n.eI<=1/6},i.No=function(){this.bS.Qo(Yo.Tc,this.gH);for(var n=0;n<ZS.length;n++){var i=ZS[n];this.bS.ZS.removeEventListener(i,this.gH)}t.prototype.No.call(this)},n}(YS),KS=[Ml.Sl,Yo.yc,Yo.wc,Yo.Tc,Yo.bc,Yo.ac,nl.h_],tR=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ma=void 0,i.AH=!1,i.bH=function(){i.AH=!0,i.zh()},i.Ma=n.ZS,i.Ma.addEventListener(Ml.Q_,i.bH),i}F(n,t);var i=n.prototype;return i.TH=function(){return this.AH&&t.prototype.TH.call(this)},i.zh=function(){this.AH&&(this.Ma.paused||this.Ma.ended||this.Ma.error)&&(this.AH=!1),t.prototype.zh.call(this)},i.Hl=function(){t.prototype.Hl.call(this),this.AH=!1},i.No=function(){this.Ma.removeEventListener(Ml.Q_,this.bH),t.prototype.No.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this)._T=void 0,i.EH=!1,i.PO=function(){i.zh()},i._T=n,i._T.qo(KS,i.PO),i}F(n,t);var i=n.prototype;return i.SH=function(){return this._T.d_<kl.V_},i.TH=function(){return!this._T.rg&&!(this._T.ng||this._T.J_||this._T.eh||this.SH())},i.zh=function(){var t=this.EH;this.EH=this.TH(),!t&&this.EH&&this.Wo(new rm(this._T.Y_))},i.Hl=function(){this.EH=!1},i.No=function(){this.jo(),this._T.Qo(KS,this.PO)},n}(Ts)),nR=function(t){function n(n){var i;return(i=t.call(this,nl.h_)||this).eh=void 0,i.eh=n,i}return F(n,t),n}(Ss);function iR(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function rR(t,n){return t.Dw<=n&&t.Ow>n}function eR(t,n){return function(t,n){return gg(t.Dw,n.Dw,ig)}(t,n)||function(t,n){return gg(t.Ow,n.Ow,ig)}(t,n)}function sR(t,n){var i=iR(t,n,I,eR,!0);if(i<0)return i;for(;i<t.length&&eR(n,t[i])===vg.oy;i++)if(t[i].Zw(n))return i;return-(i+1)}function uR(t){var n=t.dl;if(!n)return-1;if(t instanceof eg)return n.RH(t);var i=n.l_;if(!i)return-1;var r=sR(i.Vl,t);return r>=0?r:-1}function oR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{IH:o,NH:h}}(t,n,eR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var hR=function(){function t(t){this.CH=void 0,this.cl=void 0,this.CH=t}var n=t.prototype;return n.vl=function(){return function(t){for(var n=[],i=0;i<t.Xl;i++)n[i]=t.dh(i).fl;return n.item=function(n){var i=0|n,r=t.dh(i);return r&&r.fl||void 0},l.defineProperty(n,"constructor",{value:tg}),n}(this)},n.dw=function(t){for(var n=this.CH,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Zw(r))return!0}return!1},n.dh=function(t){return this.CH[t]},M(t,[{key:"Vl",get:function(){return this.CH}},{key:"Xl",get:function(){return this.CH.length}},{key:"fl",get:function(){if(this.cl){var t=this.CH;this.cl.length=t.length;for(var n=0;n<t.length;n++)this.cl[n]=t[n].fl}else this.cl=this.vl();return this.cl}}]),t}(),aR=function(t){function n(n,i){var r;return(r=t.call(this,Td.Sl)||this).dl=n,r.d_=i,r}return F(n,t),n.prototype.vl=function(){return new cR(this.dl.fl,hl(this.d_))},n}(Ed),cR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return F(n,t),n}(Sd),fR=function(t){function n(n){var i;return(i=t.call(this,Td.Il)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new vR(this.dl.fl)},n}(Ed),vR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return F(n,t),n}(Sd),dR=function(t){function n(n){var i;return(i=t.call(this,Td.ll)||this).Cw=n,i}return F(n,t),n.prototype.vl=function(){return new lR(this.Cw.fl)},n}(Ed),lR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return F(n,t),n}(Sd),_R=function(t){function n(n){var i;return(i=t.call(this,Td.gl)||this).Cw=n,i}return F(n,t),n.prototype.vl=function(){return new gR(this.Cw.fl)},n}(Ed),gR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return F(n,t),n}(Sd),wR=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).cl=void 0,a._w=void 0,a.ww=O_(),a.DH=!1,a.OH=void 0,a.xH=void 0,a.gw=void 0,a.PH=void 0,a.lN=tl.s_,a._H=H_.NONE,a.BH=void 0,a.Hs=void 0,a.LH=void 0,a.CH=[],a.MH=[],a.UH=void 0,a.FH=void 0,a.HH=0,a.VH=0,a._w=i||"",a.OH=h||"",a.xH=n,a.PH=e||"",a.DH=Boolean(s),a.LH=Boolean(o),a.Hs=u||V_.DEFAULT,a.gw=r||"",a.UH=new hR(a.CH),a.FH=new hR(a.MH),a}F(n,t);var i=n.prototype;return i.XH=function(t){return Qe(this.UH.Vl,function(n){return n.$l===t})},i.vl=function(){return sl(this)},i.NN=function(t){var n=rl(t);n!==this.c_&&(this.lN=n,n===tl.s_&&(this.MH.forEach(function(t){t.Jw=!1}),Ke(this.MH),this.VH=0),this.Wo(new Od(this)))},i.Kb=function(t){if(t&&!t.dl){var n=sR(this.l_.Vl,t);if(!(n>=0)){t.dl=this;var i=-(n+1);this.CH.splice(i,0,t),this.WH(i),t.Yw=i,i<this.VH&&(this.VH=i),this.Wo(new dR(t))}}},i.qH=function(t){if(t&&t.dl===this){var n=this.RH(t);if(!(n<0)){t.Jw=!1;var i=this.MH,r=sR(i,t);r>=0&&Je(i,r),Je(this.CH,n),this.WH(n),t.Yw=-1,this.VH>n&&--this.VH,this.Wo(new _R(t))}}},i.zH=function(t,n){var i=this.MH,r=this.CH,e=this.VH,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){rR(i[u],t)||(s=!0,Je(i,u))}for(;e<r.length&&r[e].Dw<=t;){var o=r[e];if(0===t)break;rR(o,t)&&!$e(i,o)&&(s=!0,i.push(o)),e++}s&&ze(i,eR),this.VH=e},i.RH=function(t){return(-1===t.Yw||t.Yw>=this.HH)&&this.GH(),t.Yw},i.GH=function(){for(var t=this.CH,n=this.HH;n<t.length;n++)t[n].Yw=n;this.HH=t.length},i.WH=function(t){t<this.HH&&(this.HH=t)},i.f_=function(t){this.v_||(this.c_=t)},i.Gv=function(){this.jo();for(var t=this.CH.slice(),n=0;n<t.length;n++){t[n].Gv()}Ke(this.CH),Ke(this.MH)},M(n,[{key:"__",get:function(){return this.FH}},{key:"l_",get:function(){return this.UH}},{key:"nT",get:function(){return this.DH},set:function(t){this.DH=t}},{key:"v_",get:function(){return this.LH}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"$l",get:function(){return this._w}},{key:"Kl",get:function(){return this.ww}},{key:"a_",get:function(){return this.OH},set:function(t){this.OH=t}},{key:"t_",get:function(){return this.xH}},{key:"n_",get:function(){return this.gw},set:function(t){t!==this.gw&&(this.gw=t,this.Wo(new N_(this)))}},{key:"i_",get:function(){return this.PH}},{key:"c_",get:function(){return this.lN},set:function(t){this.NN(t)}},{key:"d_",get:function(){return this._H},set:function(t){this._H!==t&&(this._H=t,this.Wo(new aR(this,this._H)))}},{key:"g_",get:function(){return this.BH},set:function(t){this.BH=t}},{key:"vo",get:function(){return this.Hs},set:function(t){this.Hs!==t&&(this.Hs=t,this.Wo(new fR(this)))}}]),n}(Ts),yR=function(t){function n(n,i){var r;return(r=t.call(this,z_.Sw,n)||this).um=i,r}return F(n,t),n.prototype.vl=function(){return new mR(this.Cw.fl)},n}(J_),mR=function(t){function n(n){return t.call(this,G_.Sw,n)||this}return F(n,t),n}($_),kR=function(t){function n(n,i){var r;return(r=t.call(this,z_.Iw,n)||this).um=i,r}return F(n,t),n.prototype.vl=function(){return new pR(this.Cw.fl)},n}(J_),pR=function(t){function n(n){return t.call(this,G_.Iw,n)||this}return F(n,t),n}($_),AR=function(t){function n(n){var i;return(i=t.call(this,Td.yl)||this).Cw=n,i}return F(n,t),n.prototype.vl=function(){return new bR(this.Cw.fl)},n}(Ed),bR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return F(n,t),n}(Sd),TR=function(t){function n(n){var i;return(i=t.call(this,Td.kl)||this).Cw=n,i}return F(n,t),n.prototype.vl=function(){return new ER(this.Cw.fl)},n}(Ed),ER=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return F(n,t),n}(Sd),SR=function(t){function n(n){var i;return(i=t.call(this)||this).jH=void 0,i.ww=void 0,i.qw=void 0,i.cl=void 0,i.zw=!1,i.Qw="",i.QH=function(){i.Jw=!0},i.YH=function(){i.Jw=!1},i.ww=L_(),i.jH=n,i.jH.addEventListener("enter",i.QH),i.jH.addEventListener("exit",i.YH),i}F(n,t);var i=n.prototype;return i.vl=function(){return K_(this)},i.Zw=function(t){return this===t||Hd(this,t)&&rg(this,t)},i.Gv=function(){this.jo(),this.jH.removeEventListener("enter",this.QH),this.jH.removeEventListener("exit",this.YH)},M(n,[{key:"Kl",get:function(){return this.ww}},{key:"Dw",get:function(){return this.jH.startTime},set:function(t){this.jH.startTime=t}},{key:"Ow",get:function(){return this.jH.endTime},set:function(t){this.jH.endTime=t}},{key:"xw",get:function(){return this.jH.text},set:function(t){this.jH.text=t+""}},{key:"Kw",get:function(){return!!this.jH.pauseOnExit},set:function(t){this.jH.pauseOnExit=!!t}},{key:"dl",get:function(){return this.qw},set:function(t){this.qw=t}},{key:"$l",get:function(){return this.jH.id||""}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"$w",get:function(){return this.Qw},set:function(t){this.Qw=t}},{key:"Jw",get:function(){return this.zw},set:function(t){this.Jw!==t&&(this.zw=t,t?(this.Wo(new yR(this,this.Dw)),this.qw&&this.qw.Wo(new AR(this))):(this.Wo(new kR(this,this.Ow)),this.qw&&this.qw.Wo(new TR(this))))}}]),n}(cl),RR=function(t){function n(n){var i;return(i=t.call(this,Td.Al)||this).dl=n,i}return F(n,t),n.prototype.vl=function(){return new IR(this.dl.fl)},n}(Ed),IR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return F(n,t),n}(Sd);function NR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new CR(t),t.THEOplayerVTTRegion=n),n}}var CR=function(){function t(t){this.ZH=void 0,this.cl=void 0,this.ZH=t}return M(t,[{key:"JH",get:function(){return this.ZH}},{key:"$l",get:function(){return this.ZH.id||""}},{key:"ku",get:function(){return+this.ZH.width||0},set:function(t){this.ZH.width=t||0}},{key:"ty",get:function(){return+this.ZH.lines||0},set:function(t){this.ZH.lines=t||0}},{key:"ny",get:function(){return+this.ZH.regionAnchorX||0},set:function(t){this.ZH.regionAnchorX=t||0}},{key:"iy",get:function(){return+this.ZH.regionAnchorY||0},set:function(t){this.ZH.regionAnchorY=t||0}},{key:"sy",get:function(){return+this.ZH.viewportAnchorX||0},set:function(t){this.ZH.viewportAnchorX=t||0}},{key:"uy",get:function(){return+this.ZH.viewportAnchorY||0},set:function(t){this.ZH.viewportAnchorY=t||0}},{key:"ey",get:function(){return this.ZH.scroll||""}},{key:"fl",get:function(){return this.cl||(this.cl=fg(this)),this.cl}}]),t}(),DR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"Vw",get:function(){return this.jH.vertical||""},set:function(t){this.jH.vertical=t||""}},{key:"Hw",get:function(){return!!this.jH.snapToLines},set:function(t){this.jH.snapToLines=!!t}},{key:"Bw",get:function(){return this.jH.line},set:function(t){this.jH.line=t}},{key:"wh",get:function(){return+this.jH.size},set:function(t){this.jH.size=Gt(t,0,100)}}]),n}(SR),OR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Zw=function(n){return this===n||Hd(this,n)&&t.prototype.Zw.call(this,n)&&sg(this,n)},M(n,[{key:"Fw",get:function(){return NR(this.jH.region)}},{key:"Lw",get:function(){return this.jH.lineAlign||"start"},set:function(t){this.jH.lineAlign=t||"start"}},{key:"Mw",get:function(){return this.jH.position},set:function(t){this.jH.position=t}},{key:"Uw",get:function(){return this.jH.positionAlign||"auto"},set:function(t){this.jH.positionAlign=t||"auto"}},{key:"Pw",get:function(){return this.jH.align||"center"},set:function(t){this.jH.align=t||"center"}},{key:"fl",get:function(){return this.cl||(this.cl=ng(this)),this.cl}}]),n}(DR),xR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.Zw=function(n){return this===n||Hd(this,n)&&t.prototype.Zw.call(this,n)&&sg(this,n)},M(n,[{key:"Fw",get:function(){return NR(this.JH)}},{key:"JH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.jH.track,this.jH.regionId)}},{key:"Lw",get:function(){return"middle"===(t=this.jH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.jH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Mw",get:function(){return this.jH.position},set:function(t){var n,i;this.jH.position=(n=t,i=this.Pw,Z_(n,i))}},{key:"Uw",get:function(){return t=this.jH.positionAlign||"middle",Q_[t];var t},set:function(t){var n,i;this.jH.positionAlign=(n=t||"center",i=this.Pw,j_[Y_(n,i)])}},{key:"Pw",get:function(){return"middle"===(t=this.jH.align||"middle")?"center":t;var t},set:function(t){var n;this.jH.align="center"===(n=t||"center")?"middle":n}},{key:"fl",get:function(){return this.cl||(this.cl=ng(this)),this.cl}}]),n}(DR);function PR(t,n){return t.xw===n.xw}function BR(t,n,i){for(var r=t[n].Dw,e=n;e>=0&&t[e].Dw===r;e--)t[e].Ow=i}function LR(t){return K_(t)}var MR,UR,FR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).$H=void 0,r.$H=i,r}return F(n,t),n.prototype.Zw=function(n){return this===n||Hd(this,n)&&t.prototype.Zw.call(this,n)&&PR(this,n)},M(n,[{key:"xw",get:function(){return this.$H}},{key:"fl",get:function(){return this.cl||(this.cl=LR(this)),this.cl}}]),n}(SR);function HR(t){switch(t){case MR.ISO_8859_1:case MR.UTF16_BOM:case MR.UTF16:case MR.UTF8:return!0}return!1}function VR(t){switch(t){case MR.ISO_8859_1:return Tu;case MR.UTF16_BOM:return Ru;case MR.UTF16:return Iu;case MR.UTF8:return Bu}}function XR(t,n){var i=n.Ah,r=t.byteLength,e=Vu(t);return n.mh(r-i),qu(e,i,r).buffer}function WR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function qR(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r);return{id:i,language:Au(t,n,3),description:e(t,n),text:e(t,n)}}}function zR(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r);return{id:i,mimeType:Tu(t,n),fileName:e(t,n),description:e(t,n),data:XR(t,n)}}}function GR(t,n,i){var r=au(t,n);if(HR(r)){for(var e=VR(r),s=[];n.Ah<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function jR(t,n,i){var r=au(t,n);if(HR(r)){for(var e=VR(r),s=Au(t,n,3),u=au(t,n),o=au(t,n),h=e(t,n),a=!1,c=[];n.Ah<t.byteLength;){var f=void 0;if(r===MR.UTF16_BOM){var v=Su(t,n);void 0===v?v=a:a=v,f=Iu(t,n,v)}else f=e(t,n);if(!f||n.Ah+4>t.byteLength)break;c.push({text:f,timestamp:wu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function QR(t,n,i){return{id:i,ownerIdentifier:Tu(t,n),identifier:XR(t,n)}}function YR(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r);return{id:i,language:Au(t,n,3),description:e(t,n),text:e(t,n)}}}function ZR(t,n,i){var r=au(t,n);if(HR(r))return{id:i,text:VR(r)(t,n)}}function JR(t,n,i){return{id:i,url:Tu(t,n)}}function $R(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function KR(t,n,i){var r=au(t,n);if(HR(r))return{id:i,description:VR(r)(t,n),url:Tu(t,n)}}function tI(t,n,i){switch(i){case"COM":return qR(t,n,i);case"GEO":return zR(t,n,i);case"IPL":return GR(t,n,i);case"PIC":return function(t,n,i){var r=au(t,n);if(HR(r)){var e,s,u=VR(r),o=Au(t,n,3),h=au(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=Tu(t,n)):(e="image/"+o.toLowerCase(),s=XR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return jR(t,n,i);case"TXX":return $R(t,n,i);case"UFI":return QR(t,n,i);case"ULT":return YR(t,n,i);case"WXX":return KR(t,n,i);default:if("T"===i.charAt(0))return ZR(t,n,i);if("W"===i.charAt(0))return JR(t,n,i)}}function nI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r),s=Tu(t,n);return{id:i,mimeType:s,pictureType:au(t,n),description:e(t,n),data:"--\x3e"===s?Tu(t,n):XR(t,n)}}}(t,n,i);case"COMM":return qR(t,n,i);case"COMR":return function(t,n,i){var r=au(t,n);if(HR(r)){var e,s,u=VR(r),o=Tu(t,n),h=Au(t,n,8),a=Tu(t,n),c=au(t,n),f=u(t,n),v=u(t,n);return n.Ah<t.byteLength&&(e=Tu(t,n)||"image/",s=XR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return zR(t,n,i);case"IPLS":return GR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Tu(t,n),data:XR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:au(t,n),position:wu(t,n)}}(t,n,i);case"SYLT":return jR(t,n,i);case"TXXX":return $R(t,n,i);case"UFID":return QR(t,n,i);case"USER":return function(t,n,i){var r=au(t,n);if(HR(r)){var e=VR(r);return{id:i,language:Au(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return YR(t,n,i);case"WXXX":return KR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ZR(t,n,i);default:var r=i.charAt(0);if("T"===r)return ZR(t,n,i);if("W"===r)return JR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(MR||(MR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(UR||(UR={}));var iI=10;function rI(t,n){return(127&au(t,n))<<21|(127&au(t,n))<<14|(127&au(t,n))<<7|127&au(t,n)}function eI(t,n){switch(t){case UR.V24:return{KH:hu(n,0),tV:hu(n,1),nV:hu(n,2),iV:hu(n,3)};case UR.V23:return{KH:hu(n,0),tV:hu(n,1),nV:hu(n,2)};case UR.V22:return{KH:hu(n,0),rV:hu(n,1)}}}function sI(t,n,i){switch(i.ap){case UR.V23:i.cp.tV&&function(t,n){var i=n.Ah,r=wu(t,n)+4,e=32768&_u(t,n);n.kh(i+r),e&&wu(t,n)}(t,n);break;case UR.V24:i.cp.tV&&function(t,n){var i=n.Ah,r=rI(t,n);n.kh(i+r)}(t,n)}}function uI(t,n){if(t.byteLength-n.Ah<iI)return null;if(73!==au(t,n)||68!==au(t,n)||51!==au(t,n))return null;var i=au(t,n),r=au(t,n);if(!function(t){switch(t){case UR.V22:case UR.V23:case UR.V24:return!0}return!1}(i))return null;var e=au(t,n),s=rI(t,n);return{ap:i,eV:r,cp:eI(i,e),sV:s}}function oI(t,n,i){switch(i.ap){case UR.V22:return function(t,n,i){return{$l:Au(t,n,3),wh:lu(t,n,3)}}(t,n);case UR.V23:return function(t,n,i){var r=Au(t,n,4),e=wu(t,n);au(t,n);var s=au(t,n);return{$l:r,wh:e,cp:{rV:hu(s,0),uV:hu(s,1),groupingIdentity:hu(s,2)}}}(t,n);case UR.V24:return function(t,n,i){var r=Au(t,n,4),e=rI(t,n);au(t,n);var s=au(t,n);return{$l:r,wh:e,cp:{groupingIdentity:hu(s,1),rV:hu(s,4),uV:hu(s,5),KH:hu(s,6),oV:hu(s,7)}}}(t,n)}}function hI(t){for(var n=new m(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function aI(t,n){var i=n||new Gu,r=uI(t,i);return r?{rp:r,hV:function(t,n,i){var r=[],e=n.Ah,s=Fu(t,e,e+i.sV),u=new Gu;switch(n.mh(i.sV),i.ap){case UR.V22:case UR.V23:i.cp.KH&&(s=hI(s))}sI(t,n,i);for(;u.Ah<s.byteLength;)r.push(cI(s,u,i));return r}(t,i,r)}:null}function cI(t,n,i){var r,e,s=oI(t,n,i),u=n.Ah,o=Fu(t,u,u+s.wh);switch(n.mh(s.wh),i.ap){case UR.V22:var h=s;r=tI(e=o,new Gu,h.$l);break;case UR.V23:var a=s,c=new Gu;!function(t,n,i){var r,e,s,u=i.cp;u.rV&&(r=wu(t,n)),u.uV&&(e=au(t,n)),u.groupingIdentity&&(s=au(t,n))}(o,c,a),r=nI(e=Fu(o,c.Ah,o.byteLength),new Gu,a.$l);break;case UR.V24:var f=s,v=new Gu;f.cp.KH&&(o=hI(o)),function(t,n,i){var r,e,s,u,o=i.cp;o.groupingIdentity&&(r=au(t,n)),o.rV&&(e=wu(t,n)),o.uV&&(s=au(t,n)),o.oV&&(u=rI(t,n))}(o,v,f),r=nI(e=Fu(o,v.Ah,o.byteLength),new Gu,f.$l)}if(!r){var d=zu(Vu(e));r=WR(s.$l,d.buffer)}return r}function fI(t){return function(t,n,i){return ZR(t,n,i)}(new DataView(t.data),new Gu,t.key)}function vI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return fI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return WR(t.key,t.data)}(t)}var dI="org.id3";var lI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).lw=void 0,e.aV=void 0,e.CH=[],e.MH=[],e.UH=void 0,e.FH=void 0,e.ww=void 0,e.gw=void 0,e.lN=tl.s_,e._H=H_.NONE,e.cl=void 0,e.BH=void 0,e.Hs=V_.DEFAULT,e.cV=void 0,e.fV=function(){e.vV(),e.lw.removeEventListener("cuechange",e.fV)},e.dV=function(){e.c_!==tl.s_&&(e.lV(),e.zH(),e.CH.length&&e._V(H_.LOADING))},e.gV=function(){e._V(H_.LOADED)},e.wV=function(){e._V(H_.ERROR)},e.lw=n,e.cV=r,e.lw.addEventListener("cuechange",e.fV),e.lw.addEventListener("cuechange",e.dV),e.aV=i,e.aV&&(e.BH=Bf(e.aV.src),e.aV.addEventListener("load",e.gV),e.aV.addEventListener("error",e.wV)),e.ww=O_(),e.gw=n.label||"",e.UH=new hR(e.CH),e.FH=new hR(e.MH),e.c_=e.yV,gs(function(){e.dV(),e._V(H_.NONE)}),e}F(n,t);var i=n.prototype;return i.vl=function(){return sl(this)},i.vV=function(){var t=this.c_;this.mV||t!==tl.o_?this.yV=t:this.yV=tl.u_},i.kV=function(){var t=this.c_,n=this.yV;t!==n&&(this.mV||t!==tl.o_||n!==tl.u_)&&("metadata"===this.t_&&n===tl.s_?this.c_=t:this.c_=n)},i.wH=function(t){this._H!==t&&(this._H=t,this.Wo(new aR(this,t)))},i._V=function(t){var n=_.max(this._H,this.pV,t);this.wH(n)},i.AV=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.bV=function(t){var n=this.AV(t);if(n)return n;if(nt(n=this.TV(t)))for(var i=0,r=n;i<r.length;i++){r[i].dl=this}else n.dl=this;return t.THEOplayerTextTrackCue=n,n},i.TV=function(t){return(n=t)&&n.type===dI&&n.value?(this.vo=V_.ID3,function(t){var n;try{n=vI(t.value)}catch(t){n=WR("")}return new FR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.vo=V_.ID3,function(t){var n=[];try{var i=aI(new DataView(t.data));if(i)for(var r=0,e=i.hV;r<e.length;r++){var s=e[r];n.push(new FR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.vo=V_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new xR(t):new OR(t)):new SR(t);var n},i.EV=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.bV(t[r]||t.item(r));if(nt(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.lV=function(){for(var t=this.EV(this.lw.cues),n=oR(this.CH,t),i=0,r=n.NH;i<r.length;i++){var e=r[i];this.Wo(new _R(e))}for(var s=0,u=n.IH;s<u.length;s++){var o=u[s];this.Wo(new dR(o))}},i.zH=function(){for(var t=this.EV(this.lw.activeCues),n=oR(this.MH,t),i=0,r=n.NH;i<r.length;i++){r[i].Jw=!1}for(var e=0,s=n.IH;e<s.length;e++){s[e].Jw=!0}(n.IH.length||n.NH.length)&&this.Wo(new RR(this))},i.f_=function(t){this.c_=t},i.Gv=function(){this.jo();for(var t=this.CH.slice(),n=0;n<t.length;n++){t[n].Gv()}Ke(this.CH),Ke(this.MH),this.lw.removeEventListener("cuechange",this.dV),this.aV&&(this.lw.removeEventListener("load",this.gV),this.lw.removeEventListener("error",this.wV)),this.aV&&Rr(this.aV)},M(n,[{key:"__",get:function(){return this.FH}},{key:"nT",get:function(){return this.aV?this.aV.default:void 0}},{key:"l_",get:function(){return this.UH}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"$l",get:function(){return this.lw.id||this.aV&&this.aV.id||""}},{key:"Kl",get:function(){return this.ww}},{key:"a_",get:function(){return this.lw.inBandMetadataTrackDispatchType||""}},{key:"t_",get:function(){return this.lw.kind||uy.Dk}},{key:"n_",get:function(){return this.gw},set:function(t){t!==this.n_&&(this.gw=t,this.Wo(new N_(this)))}},{key:"i_",get:function(){return this.lw.language||""}},{key:"c_",get:function(){return this.lN},set:function(t){var n=this.c_;this.lN=rl(t),this.vV();var i=this.c_;n!==i&&this.Wo(new Od(this)),i!==tl.s_&&this._V(H_.LOADING)}},{key:"yV",get:function(){return rl(this.lw.mode)},set:function(t){this.lw.mode=t}},{key:"Aw",get:function(){return this.lw}},{key:"d_",get:function(){return this._H}},{key:"pV",get:function(){return this.aV?+this.aV.readyState||H_.NONE:H_.LOADED}},{key:"g_",get:function(){return this.BH}},{key:"vo",get:function(){return this.Hs},set:function(t){this.Hs!==t&&(this.Hs=t,this.Wo(new fR(this)))}},{key:"mV",get:function(){return this.cV},set:function(t){this.cV=t,this.vV()}}]),n}(Ts);function _I(t){return t instanceof lI}function gI(t,n){return _g(t.um,n.um)||function(t,n){return t.dl===n.dl?lg(uR(t),uR(n)):py(t.dl,n.dl)}(t.Cw,n.Cw)||function(t,n){return t===n?vg.oy:t===z_.Sw?vg.ay:vg.hy}(t.type,n.type)}var wI=function(){function t(t,n){var i=this;this.GR=void 0,this.SV=void 0,this.pg=[],this.RV=0,this.IV=0,this.NV=[],this.CV=!1,this.DV=!1,this.OV=void 0,this.xV=function(){i.RV=0,i.PV(),i.BV()},this.LV=function(){i.PV(),i.BV()},this.MV=function(){i.DV=!0,i.OV=i.GR.Y_,i.UV()},this.FV=function(){i.PV(),i.BV()},this.HV=function(){i.VV(),i.PV(),i.BV()},this.XV=function(){i.WV()},this.qV=function(t){Ze(i.NV,t.Cw),i.WV()},this.SV=n,this.GR=t,t.qo(Yo.Dc,this.LV),t.qo(Yo.yc,this.LV),t.qo(Ml.Q_,this.LV),t.qo(Yo.wc,this.LV),t.qo(Yo.Tc,this.MV),t.qo(Yo.bc,this.FV),this.WV()}var n=t.prototype;return n.Hl=function(){Ke(this.NV);for(var t=0,n=this.pg.slice();t<n.length;t++){var i=n[t];this.Ul(i)}this.UV(),this.RV=0,this.IV=0,this.CV=!1,this.DV=!1,this.OV=void 0},n.Ml=function(t){$e(this.pg,t)||(this.pg.push(t),t.qo(Td.ll,this.XV),t.qo(Td.gl,this.qV),t.qo(Td.Tl,this.HV),t.l_.Xl&&this.WV(),this.VV())},n.Ul=function(t){if(Ze(this.pg,t)){if(t.Qo(Td.ll,this.XV),t.Qo(Td.gl,this.qV),t.Qo(Td.Tl,this.HV),t.l_.Xl){for(var n=0,i=t.l_.Vl;n<i.length;n++){var r=i[n];Ze(this.NV,r)}this.WV()}this.VV()}},n.VV=function(){this.CV=this.pg.some(function(t){return t.c_!==tl.s_})},n.BV=function(){this.GR.rg||this.GR.ng?this.UV():this.WV()},n.WV=function(){this.CV&&(this.RV||(this.RV=this.SV.hr(this.xV)))},n.UV=function(){this.RV&&(this.SV.zV(this.RV),this.RV=0)},n.PV=function(){var t;if(this.CV&&!this.GR.rg){var n=this.pg,i=this.IV,r=null!=(t=this.OV)?t:this.GR.Y_,e=r-i<-.1,s=this.DV||e;s&&r>i&&r-i<.1&&(s=!1),this.DV=!1,this.OV=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.c_!==tl.s_){a.zH(r,s);for(var c=0,f=a.__.Vl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.NV;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.c_!==tl.s_&&ky(l,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)$e(o,u[g])&&Je(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Dw>=i&&m.Ow<=r&&(w.push(m),Je(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.Jw||k.push(new yR(b,b.Dw)),k.push(new kR(b,_.max(b.Dw,b.Ow)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.Jw&&(k.push(new kR(S,_.max(S.Dw,S.Ow))),S.Jw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.Jw||(k.push(new yR(I,I.Dw)),I.Jw=!0)}k.sort(gI);for(var N=0;N<k.length;N++){var C=k[N],D=C.Cw;D.Wo(C);var O=D.dl;O&&(C.type===z_.Sw?O.Wo(new AR(D)):O.Wo(new TR(D)),$e(p,O)||p.push(O))}p.sort(py);for(var x=0;x<p.length;x++){var P=p[x];P.Wo(new RR(P))}this.IV=r,this.NV=o}},n.Gv=function(){this.Hl(),this.GR.Qo(Yo.Dc,this.LV),this.GR.Qo(Yo.yc,this.LV),this.GR.Qo(Ml.Q_,this.LV),this.GR.Qo(Yo.wc,this.LV),this.GR.Qo(Yo.Tc,this.MV),this.GR.Qo(Yo.bc,this.FV)},t}(),yI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return fT(t)},n.zV=function(t){vT(t)},t}(),mI=new yI,kI=function(t){function n(n,i){return void 0===i&&(i=mI),t.call(this,n,i)||this}return F(n,t),n}(wI),pI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).GV=void 0,e}return F(n,t),n.prototype.Zw=function(n){return this===n||Hd(this,n)&&t.prototype.Zw.call(this,n)&&PR(this,n)},M(n,[{key:"fl",get:function(){return this.cl||(this.cl=LR(this)),this.cl}}]),n}(eg),AI=function(t){function n(n,i,r){return void 0===r&&(r=V_.DEFAULT),t.call(this,uy.xk,"",i||"","",!1,r,!1,n)||this}return F(n,t),n}(wR),bI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).vo=V_.ID3,r.GV=void 0,r}F(n,t);var i=n.prototype;return i.Kb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Dw<t.Dw)BR(n,i,t.Dw);else{var r=n[0];if(r.Dw>t.Dw)t.Ow=r.Dw;else{var e=sR(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].Dw<t.Dw&&BR(n,u,t.Dw),s<n.length){var o=n[s];t.Ow=o.Dw}}}}}}(n,this.CH),t.prototype.Kb.call(this,n)},i.vl=function(){return sl(this)},n}(AI);function TI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=vI(t.value);return t.THEOplayerTextTrackCue=new pI(i,r),t.THEOplayerTextTrackCue}var EI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).lw=void 0,i.dV=function(){i.c_!==tl.s_&&(i.lV(),i._V(H_.LOADED))},i.lw=n,i.lw.addEventListener("cuechange",i.dV),i.c_=i.yV,gs(function(){i.dV()}),i}F(n,t);var i=n.prototype;return i.NN=function(n){t.prototype.NN.call(this,n),this.yV=this.c_},i._V=function(t){this.d_=_.max(this.d_,t)},i.lV=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(TI(t[r]||t.item(r)));return ze(i,eR),i}(this.lw.cues),n=oR(this.l_.Vl.slice(),t),i=0,r=n.NH;i<r.length;i++){var e=r[i];this.qH(e)}for(var s=0,u=n.IH;s<u.length;s++){var o=u[s];this.Kb(o)}},i.Gv=function(){this.lw.removeEventListener("cuechange",this.dV),t.prototype.Gv.call(this)},M(n,[{key:"$l",get:function(){return this.lw.id||""}},{key:"a_",get:function(){return this.lw.inBandMetadataTrackDispatchType||""}},{key:"i_",get:function(){return this.lw.language||""}},{key:"yV",get:function(){return rl(this.lw.mode)},set:function(t){this.lw.mode=t}},{key:"Aw",get:function(){return this.lw}}]),n}(bI),SI=function(t){function n(n){var i;return(i=t.call(this,0,n.xw)||this).jV=void 0,i.jV=n,i.Ow=i.jV.Dw,i}return F(n,t),M(n,[{key:"$l",get:function(){return this.jV.$l}},{key:"Kw",get:function(){return this.jV.Kw},set:function(t){this.jV.Kw=t}},{key:"$w",get:function(){return this.jV.$w},set:function(t){this.jV.$w=t}}]),n}(pI);function RI(t){return void 0===t.GV&&(t.GV=new SI(t)),t.GV}var II=function(t){function n(n,i){var r;(r=t.call(this,n.a_,n.n_)||this).QV=void 0,r.YV=void 0,r.ZV=void 0,r.vo=V_.ID3,r.JV=function(t){r.$V(t.Cw)},r.KV=function(t){var n=t.Cw;if(void 0!==n.GV){var i=n.GV;n.GV=void 0,r.qH(i),i.Gv()}},r.tX=function(t){var n=RI(t.Cw);n.Jw||r.nX(n),r.iX(n)},r.rX=function(t){var n=t.Cw,i=RI(n);r.YV.Y_<n.Dw&&r.nX(i)},r.eX=function(){var t=r.ZV,n=r.c_;if(r.ZV=n,n===tl.s_)r.MH.forEach(function(t){return t.Jw=!1}),Ke(r.MH);else if(t===tl.s_)for(var i=r.YV.Y_,e=0,s=r.CH;e<s.length;e++){var u=s[e];i<u.Ow&&r.nX(u)}},r.YV=i,r.QV=n,r.ZV=n.c_,n.qo(Td.ll,r.JV),n.qo(Td.gl,r.KV),n.qo(Td.yl,r.tX),n.qo(Td.kl,r.rX),n.qo(Td.Tl,r.eX);for(var e=0,s=r.QV.l_.Vl;e<s.length;e++){var u=s[e];r.$V(u)}return r}F(n,t);var i=n.prototype;return i.nX=function(t){var n=sR(this.MH,t);if(!(n>=0)){var i=-(n+1);this.MH.splice(i,0,t),t.Jw=!0,t.Wo(new yR(t,this.YV.Y_)),this.Wo(new AR(t)),this.Wo(new RR(this))}},i.iX=function(t){var n=sR(this.MH,t);n>=0&&Je(this.MH,n),t.Jw=!1,t.Wo(new kR(t,this.YV.Y_)),this.Wo(new TR(t)),this.Wo(new RR(this))},i.Gv=function(){this.QV.Qo(Td.ll,this.JV),this.QV.Qo(Td.gl,this.KV),this.QV.Qo(Td.yl,this.tX),this.QV.Qo(Td.kl,this.rX),this.QV.Qo(Td.Tl,this.eX),t.prototype.Gv.call(this)},i.$V=function(t){var n=RI(t);(this.Kb(n),this.c_!==tl.s_)&&(this.YV.Y_<n.Ow&&this.nX(n))},M(n,[{key:"t_",get:function(){return this.QV.t_}},{key:"n_",get:function(){return this.QV.n_},set:function(t){this.QV.n_=t}},{key:"i_",get:function(){return this.QV.i_}},{key:"$l",get:function(){return this.QV.$l}},{key:"Kl",get:function(){return this.QV.Kl}},{key:"a_",get:function(){return this.QV.a_}},{key:"c_",get:function(){return this.QV.c_},set:function(t){this.QV.c_=t}},{key:"d_",get:function(){return this.QV.d_}},{key:"g_",get:function(){return this.QV.g_}}]),n}(AI),NI=function(t){function n(n){var i;return(i=t.call(this)||this).YV=void 0,i.YV=n,i}F(n,t);var i=n.prototype;return i.Ml=function(n){if(n.vo===V_.ID3){var i=n;return i.GV||(i.GV=new II(i,this.YV)),t.prototype.Ml.call(this,i.GV)}return t.prototype.Ml.call(this,n)},i.Ul=function(n){if(n.vo===V_.ID3){var i=n;return!!i.GV&&t.prototype.Ul.call(this,i.GV)}return t.prototype.Ul.call(this,n)},n}(al),CI=function(t){function n(n,i){var r;return(r=t.call(this)||this).sX=se(),r._S=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.dl).vo){t.next=4;break}return t.next=4,i.$o(Td.Il);case 4:if(i.vo===V_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.l_.Xl){t.next=11;break}return t.next=9,i.$o(Td.ll);case 9:t.next=6;break;case 11:r.uX(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.gS=function(t){var n=t.dl;if(n.vo===V_.ID3&&r.sX.has(n.Kl)){var i=r.sX.get(n.Kl);r.Ul(i),r.jb.tT(i),n.Qo(Td.ll,r.$V)}},r.$V=function(t){DI(t.Cw)&&r.oX(t.Cw)},r.jb=n,r.hX=i,r.aX(),r}F(n,t);var i=n.prototype;return i.aX=function(){this.hX.qo(kd.ul,this._S),this.hX.qo(kd.hl,this.gS)},i.cX=function(){this.hX.Qo(kd.ul,this._S),this.hX.Qo(kd.hl,this.gS)},i.uX=function(t){var n=t.l_.Vl[0];if(DI(n)){var i=function(t){var n=t.match(OI);if(!n)return;return{dl:n[1],i_:n[2]}}(n.xw.description),r=i.dl,e=i.i_;if(!this.fX(r,e)){var s=this.jb.Jb(uy.Dk,t.$l,r,e,!1,V_.TTML);this.Ml(s),this.sX.set(t.Kl,s);for(var u=0,o=t.l_.Vl;u<o.length;u++){var h=o[u];DI(h)&&this.oX(h)}t.qo(Td.ll,this.$V)}}},i.fX=function(t,n){return!!Qe(this.Ep.Vl,function(i){return i.n_===t&&i.i_===n})},i.oX=function(t){if(t.dl)for(var n=this.sX.get(t.dl.Kl),i=Zw(t.xw.text,0,{Lm:0,Mm:1/0,Um:-t.Ow}),r=0;r<i.length;r++){var e=i[r];n.Kb(e)}},i.Hl=function(){var n=E.coroutine(ne.mark(function n(){var i,r,e,s,u;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.hX.Vl;i<r.length;i++)r[i].Qo(Td.ll,this.$V);for(e=0,s=this.Ep.Vl;e<s.length;e++)u=s[e],this.jb.tT(u);return this.sX.clear(),n.next=5,t.prototype.Hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Gv=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.cX(),n.next=3,t.prototype.Gv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(hy);function DI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.xw)&&OI.test(n.description);var n}var OI=/^Track:(.+),Lang:(.+)$/;var xI=function(t){function n(n){var i;return(i=t.call(this,Yo.rc)||this).errorObject=void 0,i.errorObject=n,i}return F(n,t),M(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ss),PI=function(t){function n(){return t.call(this,Yo.ec)||this}return F(n,t),n}(Ss),BI=function(t){function n(n){var i;return(i=t.call(this,"Pc")||this).vX=n,i}return F(n,t),n}(Ss),LI=new qE,MI=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).jh=void 0,s.Wi=!1,s.dX=!1,s.Hd=new us,s.Mh=function(t){switch(t.ih){case"license-request":s.LT(t.nh,t.rh).catch(function(t){return s.ya(t)});break;default:s.ya(new p_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.ih))}},s.lX=function(t){s._X.Yh.lh(function(t,n){switch(t){case"usable":T.ur(function(){s.dX=!0,s.Wo(new PI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.Wo(new BI(n))}})},s.gX=function(t){s.ya(new p_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s._X=i,s.wX=r,s.yX=e,i.qo("nh",s.Mh),i.qo("th",s.lX),i.qo("eh",s.gX),s.jh=i.jh.then(function(){return s.mX()}),s}F(i,t);var r=i.prototype;return r.Xh=function(){var t=this;return this.Wi=!0,LI.lL(function(n){return t.kX(n)},this.Hd.Uo)},r.kX=function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,as(i),t.next=4,this.wX.NT(i);case 4:return t.next=6,this.wX.CT(this.yX.lo,this.yX.ah,i);case 6:return r=t.sent,t.next=9,this._X.Xh(this.yX.lo,this.yX.ah,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),cs(t.t0),e=t.t0 instanceof Ku?t.t0.Ch:void 0,s=new p_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ya(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(){var t=E.coroutine(ne.mark(function t(i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Zu(i)){t.next=7;break}return t.next=4,this.wX.qT(new m(i),this.Hd.Uo);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.wX.zT(new m(i),r,this.Hd.Uo);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!hs(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this._X.zh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof Ku?t.t1.Ch:void 0,new p_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ya=function(t){var i=t instanceof p_?t:new p_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Wo(new xI(i)),this.Vh()},r.mX=function(){this._X.Qo("nh",this.Mh),this._X.Qo("th",this.lX),this._X.Qo("eh",this.gX),this.dX=!1,this.Hd.Bo()},r.Vh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),this.mX(),t.next=4,this._X.Vh().catch(R);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Ts),UI=[Yo.ec,Yo.rc,Yo.xc],FI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Uh=void 0,e.Jh=void 0,e.pX=void 0,e.AX=[],e.bX=void 0,e.TX=[],e.Uh=n,e.Jh=i,e.pX=r,e}F(n,t);var i=n.prototype;return i.WT=function(){return this.pX.WT()},i.EX=function(t){return this.bX||(this.bX=this.SX(t)),this.bX},i.SX=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(n),t.next=3,this.pX.qT(new m(Yu()),n);case 3:return i=t.sent,as(n),t.next=7,this.Jh.na(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.RX=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.TX.push(n),t.next=4,this.Jh.ta("temporary");case 4:return i=t.sent,r=new MI(i,this.pX,n),this.AX.push(r),r.qo(UI,this.Xo),r.jh.then(function(){return e.IX(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ze(this.TX,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.NX=function(t){if(t.CX)return!1;for(var n=0,i=this.AX;n<i.length;n++){if(HI(i[n].yX,t))return!0}for(var r=0,e=this.TX;r<e.length;r++){if(HI(e[r],t))return!0}return!1},i.IX=function(t){t.Qo(UI,this.Xo),Ze(this.AX,t)},i.Gv=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),n=this.AX.slice(),Ke(this.AX),t.next=5,E.all(n.map(function(t){return t.Vh()}));case 5:this.pX.No();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"$h",get:function(){return this.Uh}}]),n}(Ts);function HI(t,n){return!t.CX&&t.lo===n.lo&&Gs(t.ah,n.ah)}var VI=function(t){function i(n){var i;return(i=t.call(this)||this).bS=void 0,i.Hd=new us,i.EL=new qE,i.Ea=void 0,i.pX=void 0,i.TS=void 0,i.Uh=void 0,i.DX=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.OX(n.lo,n.ah,i.Hd.Uo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),hs(t.t0)||i.ya(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.bS=n,i.bS.qo(bs.sh,i.DX),i}F(i,t);var r=i.prototype;return r.Wh=function(t,n){this.TS=t,this.ZL(n)},r.ZL=function(t){this.Ea=t,this.xX(this.Hd.Uo).catch(fs)},r.xX=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!T.qu.du){t.next=5;break}return t.next=3,this.PX(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Ea||!this.Ea.BX){t.next=9;break}return t.next=8,this.LX(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.PX=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Ea)?void 0:i.tR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this.Ea)?void 0:o.tR)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.vS)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.OX(h.$h.lo,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),cs(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.OX=function(){var t=E.coroutine(ne.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Ea&&this.Ea.tR.length){t.next=5;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===le||i===ge||i===_e){t.next=8;break}return t.abrupt("return");case 8:s=Km(i,r),u=this.Ea.tR,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],as(e),(c=s[a.$h._o])&&a.$h.lo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.MX(a,e);case 20:if(!(f=t.sent).WT()){t.next=24;break}return t.next=24,f.EX();case 24:if(v=this.bS.Kg,d={lo:a.$h.lo,ah:c,CX:v},!this.UX(f,d)){t.next=32;break}return t.next=29,f.RX(d);case 29:return l=t.sent,t.next=32,l.Xh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),cs(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,T.xu();case 44:if(!t.sent){t.next=48;break}throw new p_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new p_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.LX=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.Ea)?void 0:i.tR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],as(n),t.prev=7,t.next=10,this.MX(s,n);case 10:if(!(u=t.sent).WT()){t.next=14;break}return t.next=14,u.EX();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),cs(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.UX=function(t,n){return T.qu.vu||!t.NX(n)},r.MX=function(t,n){var i=this;return this.EL.lL(function(n){return i.FX(t,n)},n)},r.FX=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(i),this.Ea&&this.pX&&this.TS){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Uh){t.next=7;break}if(this.Uh.$h===n.$h){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Uh);case 7:return r=this.pX,e=ie({},n,{lR:n.lR.map(function(t){var i;return ie({},t,{persistentState:null!=(i=t.persistentState)?i:r.fE(n.$h),ca:t.ca||r.ca(n.$h)})})}),t.next=11,this.TS.jL(e.$h,e.lR);case 11:return s=t.sent,u=r.fS(e),(o=new FI(e.$h,s,u)).qo([Yo.ec,Yo.rc,Yo.xc],this.Xo),this.Uh=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ya=function(t){var i=t instanceof p_?t:new p_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Wo(new xI(i))},r.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TS=void 0,this.Ea=void 0,this.Hd.Bo(),this.Hd=new us,t.next=6,this.HX();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.HX=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EL.Bo();case 2:if(!(n=this.Uh)){t.next=8;break}return n.Qo(Yo.xc,this.Xo),this.Uh=void 0,t.next=8,n.Gv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),this.bS.Qo(bs.sh,this.DX),t.next=4,this.Hl();case 4:return t.next=6,this.EL.Gv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"VX",get:function(){var t;return null==(t=this.Uh)?void 0:t.$h}},{key:"JS",get:function(){return this.pX},set:function(t){this.pX=t}}]),i}(Ts),XI=Z.Pe||Z.Be,WI=Z.Ke,qI=.5,zI=5,GI=Z.He,jI=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ma=void 0,s.XX=void 0,s.ES=void 0,s.YR=!0,s.TS=void 0,s.WX=new qE,s.qX=void 0,s.zX=void 0,s.GX=void 0,s.WL=void 0,s.pg=void 0,s.KI=void 0,s.jX=[],s.QX=void 0,s.YX=void 0,s.ZX=void 0,s.JX=void 0,s.$X=void 0,s.KX=void 0,s.tW=void 0,s.nW=NaN,s.iW=void 0,s.rW=void 0,s.YI=!1,s.eW=E.resolve(),s.sW=new us,s.uW=[],s.oW=rA.HI(),s.hW=void 0,s.aW=1,s.cW=!1,s.fW=!1,s.vW=!1,s.dW=!1,s.mo=void 0,s.lW=!1,s._W=!1,s.gW=!1,s.wW=!1,s.yW=0,s.mW=function(t){var n=t.track,i=s.kW(n);s.pW(n,i)},s.AW=function(t){var n=JI(s.QX,t.track);n&&s.QX.Ul(n)},s.bW=function(){for(var t=0;t<s.pg.Xl;t++){var n=s.pg.Ll(t);n instanceof lI&&n.kV()}},s.TW=function(){s.QX.Hl()},s.EW=function(){var t=s.TS,n=t.GF,i=t.jF;if(n&&i)if(t.iM)s.SW();else if(t.d_!==WS.uF){var r=n.Zg,e=i.Zg;if(0!==r.Xl&&0!==e.Xl){var u=s.Y_;if(u<r.iI(0)||u<e.iI(0))s.SW();else if(r._R(u)!==e._R(u))s.RW();else if(s.SW(),!s.yW&&s.GX.TH())r.AI(e).RI(u,u+qI)&&(s.yW=fT(s.IW))}else s.SW()}},s.IW=function(){s.yW=0,s.EW()},s.NW=function(){if(!(s.rg||s.d_>=kl.V_)){0;var t=s.TS,n=t.GF,i=t.jF;if(n&&i){var r=s.Y_,e=n.Zg,u=i.Zg;if(e._R(r)&&u._R(r))e.AI(u).RI(r-zI,r)&&s.kh(r)}}},s.DW=function(){s.Wo(new Hl(s.Y_))},s.OW=function(){s.xW(new os),s.Wo(new Fl(s.Y_))},s.PW=function(){s.BW(),s.Wo(new rm(s.Y_))},s.LW=function(){s.MW(s.ig)},s.UW=function(){s.Wo(new zl(s.Z_))},s.FW=function(){s.Wo(new fS(s.Y_))},s.HW=function(){s.Wo(new vS)},s.VW=function(){var t=s.Y_,n=s.rg,i=s.d_<kl.V_&&!s.J_,r=void 0!==s.rW,e=r&&s.rW!==t;(n||!r||e&&!i)&&(s.Wo(new jl(s.Y_,void 0)),s.rW=t)},s.XW=function(){!s.cW&&s.J_&&(s.cW=!0,s.Wo(new Ql(s.Y_)))},s.WW=function(){if(null!==s.Ma.error){var t,n=s.Ma.error;s.PS(new A_(null!=(t=n.code)?t:y_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.qW=function(){s.fW&&(s.zW(),s.vW=!0)},s.GW=function(){s.Wo(new $l(s.Y_,s.ug))},s.jW=function(){s.sg>0&&s.eg>0&&s.Wo(new xy)},s.QW=function(t){s.Wo(new Os(t.initDataType,t.initData||new ArrayBuffer(0)))},s.YW=function(){s.Wo(new xs)},s.ZW=function(t){var n=t.initData,i=n?zu(n).buffer:new ArrayBuffer(0);s.Wo(new Os(le,i))},s.JW=function(t){if(t.initData){var n=QI(t.initData);if(!n)return;s.Wo(new Os(ge,n))}else s.Wo(new Os(ge,new ArrayBuffer(0)))},s.$W=function(t){var n=t.initData,i=n?zu(n).buffer:new ArrayBuffer(0);s.Wo(new Os(le,i))},s.KW=function(){s.BW()},s.tq=function(t){s.xW(t)},s.nq=function(t){s.Wo(t),t.type===Yo.rc&&s.PS(T_(t.errorObject))},s.Ma=n,s.mo=i,s.XX=r,s.KI=e,s.zX=new JS(un(s)),s.zX.qo(Ml.Sl,s.Xo),s.GX=new tR(un(s)),s.GX.qo(Ml.Q_,s.PW),s.WL=new VI(un(s)),s.WL.qo([Yo.ec,Yo.rc,Yo.xc],s.nq),s.pg=new oy,s.QX=new oy,s.YX=new Hp([s.pg,s.QX]),s.ZX=new NI(un(s)),s.ZX.Ql=s.YX,s.JX=new CI(un(s),s.ZX),s.$X=new Hp([s.YX,s.JX.Ep]),s.KX=new kI(un(s)),s.iq(),s.KS(),s}F(n,t);var i=n.prototype;return i.rq=function(){this.ZS.ended||this.Y_===this.Z_||(this.cW=!1)},i.sq=function(){return void 0!==this.tW&&this.Z_===this.tW},i.MW=function(t){this.aW!==t&&(this.aW=t,this.Wo(new Gl(this.Y_,t)))},i.yR=function(){return dE(this.Ma)},i.Ng=function(){var t=this.uq();return this.oq(),t},i.oq=function(){this.lW?this._W&&(this._W=!1,this.Wo(new Hl(this.Y_))):this.hq()},i.hq=function(){if(this.qX)this.qX.Ng();else{Z.He&&!Z.Ae&&this.Ma.preload===Yp.WR&&(this.Ma.preload=Yp.xk);var t=this.ig,n=this.Ma.play();t!==this.ZS.playbackRate&&(this.ig=t),ut(n)?n.then(this.KW,this.tq):this.GX.TH()&&this.BW()}},i.Cg=function(){this.lW?this._W||(this._W=!0,this.Wo(new Fl(this.Y_))):this.aq()},i.aq=function(){this.qX?this.qX.Cg():(this.Ma.pause(),this.GX.zh()),this.cq(new os)},i.uq=function(){var t=new Qu;return this.uW.push(t),t.Sh},i.fq=function(){for(var t=0,n=this.uW;t<n.length;t++){n[t].Rh(void 0)}Ke(this.uW)},i.cq=function(t){for(var n=0,i=this.uW;n<i.length;n++){i[n].Ih(t)}Ke(this.uW)},i.BW=function(){this.lW||this.qX||this.fq()},i.xW=function(t){this.lW||this.qX||this.cq(t)},i.kh=function(t,n){this.qX?this.qX.Y_=t:(this.sW.Bo(),this.sW=new us,this.eW=this.vq(t,this.eW,this.sW.Uo).catch(R))},i.wR=function(t){var n=this.mR;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.kh(i)}},i.vq=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.tW=n,this.nW=n,this.YI=!0,this.cW&&!this.sq()&&(this.cW=!1),this.Wo(new Zl(n)),t.next=8,i.catch(R);case 8:if(as(r),this.dW&&this.dq(),this.d_!==kl.U_){t.next=13;break}return t.next=13,this.$o(Ml.Sl,r);case 13:if(0!==this.Ma.seekable.length){t.next=19;break}return t.next=16,E.race([yd(this.Ma,"timeupdate",r),ks(100,r)]);case 16:as(r),t.next=13;break;case 19:e=this.lq(n),s=this.aw,u=!0,o=!1;case 23:if((s=this.aw).Xl>0&&!s._R(e)&&(e=s.vI(e),u=!0),GI&&void 0!==(h=this._q())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.gq())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.wq(a,r);case 33:return t.next=35,yd(this.Ma,"seeked",r);case 35:as(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.wq(e,r);case 41:as(r),c=this.Y_,s=this.aw,e=s.vI(e),f=1;case 46:if(!(_.abs(e-c)>=1/6)){t.next=56;break}return s=this.aw,e=ZI(e,s,f),t.next=51,this.wq(e,r);case 51:as(r),c=this.Y_,f++,t.next=46;break;case 56:if(this.Ma.seeking||this.d_<kl.H_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,ls(function(t){var n;return E.race([yd(v.Ma,"seeked",t),v.$o([Yo.mc,Yo.oc,Ml.Sl],t),null==(n=v.TS)?void 0:n.$o(iS.wC,t)].filter(K))},r);case 60:as(r),t.next=23;break;case 63:this.yq(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!hs(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.wq=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(i),r=this.aw,n=r.vI(n),!this.dW){t.next=18;break}e=!0;case 5:if(!(e||this.d_<kl.V_)){t.next=17;break}if((r=this.aw)._R(n)||(n=r.vI(n),e=!0),!e){t.next=13;break}return e=!1,this.tW=n,this.mq(this.Y_),t.abrupt("continue",5);case 13:return t.next=15,this.$o([Ml.Sl,Yo.oc],i);case 15:t.next=5;break;case 17:as(i);case 18:if(s=yd(this.Ma,"seeking",i),this.Ma.currentTime=n,this.tW=void 0,this.mq(this.Y_),!this.Ma.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lq=function(t){var n=this.Zg;if(n&&!n._R(t)){var i=n.TI(t,.05);if(i>-1){var r=n.iI(i);if(t<r)return r}}return t},i._q=function(){if(this.TS&&this.TS.iM){var t=this.TS.rM,n=this.TS.eM,i=t&&n?t._I(n):t||n;if(i&&0!==i.Xl){var r=i.iI(i.Xl-1),e=i.eI(i.Xl-1);return _.max(r,e-.001)}}},i.gq=function(){if(this.TS&&this.TS.iM){var t=this.TS.eM;if(t&&0!==t.Xl){var n=t.iI(t.Xl-1),i=t.eI(t.Xl-1)-.02;return i-=.001,_.max(n,i)}}},i.mq=function(t){this.nW!==t&&(this.nW=t,this.Wo(new Zl(t)))},i.yq=function(){this.YI=!1,this.nW=NaN,this.dW&&this.kq(),this.Wo(new Jl(this.Y_))},i.dq=function(){this.lW||(this._W=this.ng,this.lW=!0,this.aq())},i.kq=function(){this.lW&&(this.lW=!1,this._W||this.oq())},i.nM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vo===Oy.iT&&cS.nM(i,this.Ma))return i;if(i.vo===Oy.rT&&GS.nM(i))return i}},i.Vg=function(){this.YR=!1,xr(this.Ma)&&(this.Ma.style.display="none")},i.Hg=function(){this.YR=!0,xr(this.Ma)&&(this.Ma.style.display="block")},i.Jb=function(t,n,i,r,e,s,u,o){var h=new wR(t,n,i,r,e,s,u,o);return this.pg.Ml(h),this.KX.Ml(h),h},i.sR=function(){return!0},i.oR=function(t,n,i,r){var e=s.createElement("track");e.src=Bf(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=Vb(),this.Ma.appendChild(e);var u=this.Ma.textTracks.getTrackById(e.id),o=new lI(u,e);return this.QX.Ml(o),this.jX.push(o),o},i.tT=function(t){this.pg.Ul(t),this.KX.Ul(t)},i.cR=function(){for(var t=0,n=this.pg.Vl.slice();t<n.length;t++){n[t].Gv()}this.pg.Hl();for(var i=0,r=this.jX.slice();i<r.length;i++){var e=r[i];this.QX.Ul(e),e.Gv()}Ke(this.jX)},i.KS=function(){var t=this.Ma.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.mW),t.addEventListener("removetrack",this.AW),t.addEventListener("change",this.bW)),this.Ma.addEventListener("emptied",this.TW)},i.vR=function(){var t=this.Ma.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.mW),t.removeEventListener("removetrack",this.AW),t.removeEventListener("change",this.bW)),this.Ma.removeEventListener("emptied",this.TW)},i.pW=function(t,n){if(Z.He){if(t.kind===uy.xk)return void this.pq(t);if(t.kind===uy.Vb&&""===t.label&&""===t.language&&!$I(t))return void this.Aq(t,n)}JI(this.QX,t)||this.QX.Ml(new lI(t,n))},i.pq=function(t){t.mode=tl.u_;var n=new EI(t);this.QX.Ml(n),this.KX.Ml(n)},i.Aq=function(t,n){var i=this;t.addEventListener("cuechange",function r(){$I(t)&&(t.removeEventListener("cuechange",r),i.QX.Ml(new lI(t,n)))}),t.mode=tl.u_},i.kW=function(t){for(var n=this.Ma.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Wh=function(t){var n=this;return this.WX.lL(function(){var i=E.coroutine(ne.mark(function i(r){var e;return ne.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(as(r),!n.TS){i.next=3;break}throw new v("Already loaded a media source");case 3:if(t.vo!==Oy.iT){i.next=9;break}e=new cS(t,n,n.WL,n.mo),n.dW=!1,n.bq(new JS(n)),i.next=17;break;case 9:if(t.vo!==Oy.rT){i.next=16;break}e=new GS(t,n,n.WL,n.mo),n.dW=XI,n.bq(n.dW?new $S(n):new JS(n)),WI&&(n.qo(Yo.Dc,n.EW),n.qo(Ml.Sl,n.NW)),i.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.TS=e,i.next=20,e.Xx();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.RW=function(){if(!this.gW){var t=this.ig;this.gW=!0,this.ig=t,this.Ma.playbackRate=0,this.zX&&this.zX.wH()}},i.SW=function(){if(this.gW){var t=this.ig;this.gW=!1,this.ig=t,this.Ma.currentTime=this.Ma.currentTime,this.zX&&this.zX.wH()}},i.bq=function(t){var n=this.d_;this.zX.No(),this.zX=t,this.zX.qo(Ml.Sl,this.Xo);var i=this.d_;n!==i&&this.Wo(new n_(this.Y_,i))},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){var n=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.YI=!1,this.oW=rA.HI(),this.sW.Bo(),this.tW=void 0,this.nW=NaN,this.iW=void 0,this.dW=!1,this.lW=!1,this.ES=void 0,this.cW=!1,this.rW=void 0,this.fW=!1,this.vW&&(this.iq(),this.vW=!1),this.cq(new os),this.bq(new JS(this)),this.GX.Hl(),this.SW(),WI&&(vT(this.yW),this.yW=0,this.Qo(Yo.Dc,this.EW),this.Qo(Ml.Sl,this.NW)),t.next=20,this.WX.Bo();case 20:return t.next=22,this.WX.lL(E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.TS){t.next=4;break}return t.next=3,n.TS.No();case 3:n.TS=void 0;case 4:case"end":return t.stop()}},t)})));case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vW=!1,this.zW(),this.vR(),t.next=5,this.Hl();case 5:return t.next=7,this.WX.Gv();case 7:return this.GX.No(),this.zX.No(),t.next=11,this.WL.No();case 11:return this.cR(),this.pg.Gv(),this.ZX.Gv(),this.QX.Gv(),t.next=17,this.JX.Gv();case 17:this.YX.Gv(),this.$X.Gv(),this.jo();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iq=function(){this.ZS.addEventListener("play",this.DW),this.ZS.addEventListener("pause",this.OW),this.ZS.addEventListener("timeupdate",this.VW),this.ZS.addEventListener("progress",this.FW),this.ZS.addEventListener("loadstart",this.HW),this.ZS.addEventListener("ended",this.XW),this.ZS.addEventListener("ratechange",this.LW),this.ZS.addEventListener("volumechange",this.GW),this.ZS.addEventListener("durationchange",this.UW),this.ZS.addEventListener("resize",this.jW),this.ZS.addEventListener("loadedmetadata",this.jW),this.ZS.addEventListener("error",this.WW),this.ZS.addEventListener("emptied",this.qW),Ve()?(this.Ma.addEventListener("encrypted",this.QW),this.Ma.addEventListener("waitingforkey",this.YW)):void 0!==pr.WebKitMediaKeys&&"function"==typeof pr.WebKitMediaKeys.isTypeSupported?this.Ma.addEventListener("webkitneedkey",this.JW):Xe()?this.Ma.addEventListener("webkitneedkey",this.$W):void 0!==pr.MSMediaKeys&&"function"==typeof pr.MSMediaKeys.isTypeSupported&&this.Ma.addEventListener("msneedkey",this.ZW)},i.zW=function(){this.ZS.removeEventListener("play",this.DW),this.ZS.removeEventListener("pause",this.OW),this.ZS.removeEventListener("timeupdate",this.VW),this.ZS.removeEventListener("progress",this.FW),this.ZS.removeEventListener("loadstart",this.HW),this.ZS.removeEventListener("ended",this.XW),this.ZS.removeEventListener("ratechange",this.LW),this.ZS.removeEventListener("volumechange",this.GW),this.ZS.removeEventListener("durationchange",this.UW),this.ZS.removeEventListener("resize",this.jW),this.ZS.removeEventListener("loadedmetadata",this.jW),this.ZS.removeEventListener("error",this.WW),this.ZS.removeEventListener("encrypted",this.QW),this.ZS.removeEventListener("waitingforkey",this.YW),this.ZS.removeEventListener("webkitneedkey",this.JW),this.ZS.removeEventListener("webkitneedkey",this.$W),this.ZS.removeEventListener("msneedkey",this.ZW),this.ZS.removeEventListener("emptied",this.qW)},i.Tq=function(){var t;this.qX||(this.oW=this.ow,this.qX=new QS((t=this).Y_,t.Z_,t.J_,t.ng,t.rg,t.tg,t.ig,t.ug,t.d_),this.zW(),this.qX.qo(jS,this.Xo))},i.Eq=function(){if(this.qX){var t,n,i=this.qX;this.qX=void 0,this.zX.wH(),t=this,(n=i).Z_===t.Z_||y(n.Z_)&&y(t.Z_)||t.Wo(new zl(t.Z_)),t.tg=n.tg,t.ug=n.ug,t.ig=n.ig,n.ng?t.Cg():t.Ng().catch(R),n.Y_!==t.Y_||n.d_>kl.U_&&t.d_===kl.U_?t.kh(n.Y_):!n.rg&&t.rg?t.Wo(new Zl(t.Y_)):n.rg&&!t.rg&&t.d_>=kl.H_&&t.Wo(new Jl(t.Y_)),!n.J_&&t.J_&&t.Wo(new Ql(t.Y_)),i.No(),this.iq()}},i.PS=function(t){this.ES=t,this.cq(this.ES),this.Wo(new nR(this.ES))},i.Sq=function(){this.Rq||(MC(this.Ma,T.qu),this.wW=!0)},i.Iq=function(t){t.appendChild(this.Ma)},i.sH=function(){WI&&this.EW(),this.zX.wH()},i.Yg=function(){this.WL.HX().catch(R)},M(n,[{key:"mH",get:function(){return this.gW}},{key:"Zg",get:function(){return this.TS?this.TS.Zg:rA.HI()}},{key:"Jg",get:function(){var t=this.mR;if(t&&!y(t.getTime())){var n=1e3*this.Y_;return new Date(t.getTime()+n)}}},{key:"mR",get:function(){if(this.ZS.getStartDate)return this.YI&&this.iW||(this.iW=this.ZS.getStartDate()),this.iW}},{key:"Y_",get:function(){return this.qX?this.qX.Y_:void 0!==this.tW?this.tW:this.Ma.currentTime}},{key:"YB",get:function(){return this.XX}},{key:"Z_",get:function(){return this.qX?this.qX.Z_:this.TS?this.TS.Z_:this.Ma.duration}},{key:"J_",get:function(){return this.rg?this.sq():this.qX?this.qX.J_:this.Ma.ended||this.cW}},{key:"eh",get:function(){return this.ES}},{key:"ZS",get:function(){return this.Ma}},{key:"ng",get:function(){return this.lW?this._W:this.qX?this.qX.ng:this.Ma.paused}},{key:"ow",get:function(){return this.oW.pI(rA.MI(this.Ma.played))}},{key:"Vp",get:function(){return this.Ma.offsetHeight*T.qu.cu}},{key:"ku",get:function(){return this.Ma.offsetWidth*T.qu.cu}},{key:"aR",get:function(){return uA}},{key:"d_",get:function(){return this.zX.d_}},{key:"aw",get:function(){return this.TS?this.TS.aw:rA.HI()}},{key:"rg",get:function(){return this.qX?this.qX.rg:this.YI}},{key:"tg",get:function(){return this.qX?this.qX.tg:this.Ma.muted},set:function(t){this.qX?this.qX.tg=t:this.Ma.muted=t}},{key:"ig",get:function(){return this.qX?this.qX.ig:void 0!==this.hW?this.hW:this.Ma.playbackRate},set:function(t){this.qX?this.qX.ig=t:this.ng||this.gW?(this.hW=t,this.MW(t)):(this.hW=void 0,this.Ma.playbackRate=t)}},{key:"Nq",get:function(){return this.YR}},{key:"ug",get:function(){return this.qX?this.qX.ug:this.Ma.volume},set:function(t){this.qX?this.qX.ug=t:this.Ma.volume=t}},{key:"Rg",get:function(){return this.$X}},{key:"JB",get:function(){return this.KI}},{key:"Kg",get:function(){return!!this.Ma.webkitCurrentPlaybackTargetIsWireless}},{key:"Rq",get:function(){return this.wW}},{key:"Cq",get:function(){return ie({},uS)}},{key:"JS",get:function(){return this.WL.JS},set:function(t){this.WL.JS=t}},{key:"VX",get:function(){return this.WL.VX}},{key:"cw",get:function(){return this.fW},set:function(t){this.fW=t,this.vW&&!this.fW&&(this.vW=!1,this.iq())}}]),n}(Ts);function QI(t){try{var n=Hu(t),i=new Gu;return Ou(xu(fu(n,i,wu(n,i,!0)),!0))}catch(t){return}}var YI=.01;function ZI(t,n,i){if(void 0===i&&(i=0),!n.Xl)return 0;var r=n.vI(t),e=YI*i;return r===n.iI(0)?r+=e:r===n.eI(n.Xl-1)&&(r-=e),r}function JI(t,n){for(var i=0,r=t.Vl;i<r.length;i++){var e=r[i];if(e.Aw===n)return e}}function $I(t){return!!t.cues&&t.cues.length>0}var KI=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).cl=void 0,n}return F(n,t),M(n,[{key:"fl",get:function(){return this.cl||(this.cl=EE(this)),this.cl}},{key:"wB",get:function(){}},{key:"yB",get:function(){}},{key:"mB",get:function(){}},{key:"kB",get:function(){}},{key:"pB",get:function(){}},{key:"AB",get:function(){}},{key:"bB",get:function(){}}]),n}(Ts),tN=(new KI,function(t){function n(n,i,r){return t.call(this,n,i,r,new KI)||this}return F(n,t),n.prototype.Xg=function(){},M(n,[{key:"eg",get:function(){return 0}},{key:"sg",get:function(){return 0}}]),n}(jI)),nN="theoplayer-texttracks",iN=function(){function t(t){void 0===t&&(t=5),this.Dq=void 0;var n=pr.document.createElement("div");n.className=nN,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.Dq=n,this.Hg()}var n=t.prototype;return n.Vg=function(){this.Dq.style.display="none"},n.Hg=function(){Nr(this.Dq.style,"flex")},n.Iq=function(t){t.appendChild(this.Dq)},n.Gv=function(){Rr(this.Dq)},M(t,[{key:"$g",get:function(){return this.Dq}}]),t}();function rN(t,n){return t?ie({},n,Vd({kB:t.kB,mB:t.mB,yB:t.yB,wB:t.wB,pB:t.pB,AB:t.AB,bB:t.bB})):n}function eN(t){return t.mB&&Ce(t.mB,"%")?Number(t.mB.replace("%",""))/100:t.mB&&Ce(t.mB,"em")?Number(t.mB.replace("em","")):1}var sN,uN,oN=function(){function t(t,n,i,r,e){var s=this;this.Oq=ee(),this.xq=!0,this.Pq=void 0,this.qw=void 0,this.Ma=void 0,this.XX=void 0,this.Bq=void 0,this.Lq=function(t){return s.Oq.has(t.$w)},this.Mq=function(t){return!s.Lq(t)},this.Uq=function(t){return s.Kb(t.Cw)},this.Fq=function(t){return s.removeCue(t.Cw)},this.Hq=function(){return s.Vq()},this.Xq=function(t){return s.Wq(t.Cw)},this.qq=function(t){return s.zq(t.Cw)},this.Gq=function(t){s.jq(t.ku,t.Vp)},this.qw=t,this.Bq=this.Pq=e,this.Ma=this.Qq(i),this.XX=r,n.appendChild(this.Ma),this.Yq(),this.qw.l_.Vl.forEach(function(t){return s.Kb(t)}),this.YB.qo("ZD",this.Gq),this.jq(this.YB.rO,this.YB.iO)}var n=t.prototype;return n.Zq=function(t){this.Pq=rN(t,this.Bq),this.Pq.wB&&(this.ZS.style.fontFamily=this.Pq.wB),this.Pq.bB&&(this.ZS.style.visibility=this.Pq.bB),this.jq(this.YB.rO,this.YB.iO),this.Jq()},n.$q=function(){return this.Pq},n.Yq=function(){this.qw.qo(Td.ll,this.Uq),this.qw.qo(Td.gl,this.Fq),this.qw.qo(Td.Tl,this.Hq)},n.Kq=function(){var t=this;this.qw.Qo(Td.ll,this.Uq),this.qw.Qo(Td.gl,this.Fq),this.qw.Qo(Td.Tl,this.Hq),this.qw.l_.Vl.forEach(function(n){return t.tz(n)})},n.nz=function(t){t.qo(z_.Sw,this.Xq),t.qo(z_.Iw,this.qq)},n.tz=function(t){t.Qo(z_.Sw,this.Xq),t.Qo(z_.Iw,this.qq)},n.Kb=function(t){t.$w||(t.$w=this.iz),this.nz(t),t.Jw&&this.Wq(t)},n.removeCue=function(t){this.tz(t),this.zq(t)},n.Vq=function(){this.qw.c_===tl.o_?this.rz():this.ez()},n.rz=function(){var t=this,n=this.YB.rO,i=this.YB.iO,r=new rT(n,i);this.Gq(r),this.xq=!1,this.sz.forEach(function(n){return t.Wq(n)})},n.Wq=function(t){this.xq||this.Mq(t)&&(this.uz(t),this.Oq.set(t.$w,t))},n.uz=function(t){var n=this.Ma,i=this.oz(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.$w,n.appendChild(e)}},n.ez=function(){var t=this;this.xq=!0,this.Oq.forEach(function(n){return t.zq(n)})},n.zq=function(t){this.Lq(t)&&(this.hz(t),this.Oq.delete(t.$w))},n.hz=function(t){for(var n=this.Ma,i=n.getElementsByClassName(t.$w);i.length;)n.removeChild(i[0])},n.Jq=function(){for(var t=0,n=this.az;t<n.length;t++){var i=n[t];this.hz(i),this.uz(i)}},n.Gv=function(){Rr(this.ZS),this.Kq(),this.YB.Qo("ZD",this.Gq)},M(t,[{key:"dl",get:function(){return this.qw}},{key:"ZS",get:function(){return this.Ma}},{key:"YB",get:function(){return this.XX}},{key:"cz",get:function(){return this.Pq}},{key:"az",get:function(){return this.qw.__.Vl.filter(this.Lq)}},{key:"sz",get:function(){return this.qw.__.Vl.filter(this.Mq)}}]),t}();function hN(t){return aN[t||"none"]}!function(t){t.fz='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.vz='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.dz='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.lz='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(sN||(sN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(uN||(uN={}));var aN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function cN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var fN=ue({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),vN=ue({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),dN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=fN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Oe(t,"px")?t=g(t)/24+"em":Oe(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=vN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Oe(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},lN=0,_N={yB:uN.WHITE,wB:"Arial, Helvetica, Sans-Serif",mB:"100%",kB:uN.TRANSPARENT,pB:uN.TRANSPARENT,AB:"none",bB:"visible"},gN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,_N)||this}F(n,t);var i=n.prototype;return i.Qq=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.jq=function(t,n){var i=_.min(t,n)/15;this.ZS.style.fontSize=i+"px"},i.oz=function(t){if(t.dl&&t.dl.vo!==V_.TTML)return[];var n,i=[],r=t,e=r.Db,u=r.Fm,o=r.xw;if(0===l.keys(u).length){Ir(n=s.createElement("div"),r.$w),bN(n);for(var h=wN(o,e,r.Ob,void 0,this.ZS),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=l.keys(u);f<v.length;f++){var d=v[f],_=s.createElement("div");_.id=d,Ir(_,r.$w);var g=wN(o,e,r.Ob,_,this.ZS);if(g){bN(_),kN(_,u[d],e,this.ZS);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.Zq=function(t){},M(n,[{key:"iz",get:function(){return"theoplayer-ttmlcue-"+lN++}}]),n}(oN);function wN(t,n,i,r,e){var s,u;if(en(t)&&("SPAN"===(u=t).ls.toUpperCase()||"P"===u.ls.toUpperCase()||"BR"===u.ls.toUpperCase()||"DIV"===u.ls.toUpperCase()||"BODY"===u.ls.toUpperCase())){var o=function t(n){var i=n.Cs("region");if("p"===n.ls.toLowerCase())return i;var r=[];for(var e=0,s=n.Ns;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.Cs("style");AN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Ls).forEach(function(n){var r=zw(n._s,["ebutts","tts","xml"]);dN[r]&&dN[r](n.ks,t,i)})}(t,n,r)})(s="BODY"===t.ls.toUpperCase()?r:yN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.Cs("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.Ns)for(var e=0,s=null==n?void 0:n.Ns;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Ls.some(function(t){return"id"===t.ls&&t.ks===r})});e&&pN(t,e,n,!0)}!function(t,n){var i=n.Ns[0];if(!i||"metadata"!==i.ls.toLowerCase())return;var r=i.Ns[0];pN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t.Ts,c=0;c<a.length;c++){var f=wN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.ls.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else sn(t)&&(s=yN(t));if(s)return[s]}function yN(t){var n,i;if(sn(t))cN(n=s.createElement("text"),t.Us);else if(en(t))switch(t.ls.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",mN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),mN(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",mN(n,t)}return n}function mN(t,n){var i=n.Ds(Xw,"id");i&&(t.id=i)}function kN(t,n,i,r){AN(t,n.style,i,r),l.keys(n).forEach(function(i){dN[i]&&dN[i](n[i],t)})}function pN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t.Ts.length>0?t.Ts[0]:null;return n&&sn(n)?"data:image/png;base64,"+n.Us:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.Cs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.Cs("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function AN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(e){var s=zw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?AN(t,i[n][e],i,r):dN[s]&&dN[s](i[n][e],t,r)})})}function bN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var TN,EN,SN=void 0;function RN(t,n){for(var i,r=TN._z,e="",s=[],u=t.charAt(n.Ah),o="",h={vo:EN.gz,Es:"",wz:[]};n.Ah<t.length+1;){switch(u=n.Ah<t.length?t.charAt(n.Ah):"EOF",r){case TN._z:switch(u){case"&":var a=t.substr(n.Ah).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],SN||(SN=pr.document.createElement("textarea")),SN.innerHTML=i,SN.value),n.mh(a[0].length-1)):e+="&";break;case"<":if(e)return{vo:EN.yz,xw:e};r=TN.mz;break;case"EOF":return{vo:EN.yz,xw:e};default:e+=u}break;case TN.mz:switch(u){case"\t":case"\n":case"\f":case" ":r=TN.kz;break;case".":r=TN.pz;break;case"/":r=TN.Az;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=TN.bz;break;case">":return n.mh(1),h;case"EOF":return h;default:e=u,r=TN.Tz}break;case TN.Tz:switch(u){case"\t":case"\f":case" ":r=TN.kz;break;case"\n":o=u,r=TN.kz;break;case".":r=TN.pz;break;case">":return n.mh(1),{vo:EN.gz,Es:e,wz:[]};case"EOF":return{vo:EN.gz,Es:e,wz:[]};default:e+=u}break;case TN.pz:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=TN.kz;break;case"\n":s.push(o),o=u,r=TN.kz;break;case".":s.push(o),o="";break;case">":return n.mh(1),s.push(o),{vo:EN.gz,Es:e,wz:s};case"EOF":return s.push(o),{vo:EN.gz,Es:e,wz:s};default:o+=u}break;case TN.kz:switch(u){case"&":r=TN.Ez;break;case">":n.mh(1);var c=o.trim();return c=c.replace(/\s/," "),{vo:EN.gz,Es:e,wz:s,Sz:c};default:o+=u}break;case TN.Ez:for(var f="",v=n.Ah;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=TN.kz;break;case TN.Az:switch(u){case">":return n.mh(1),{vo:EN.Rz,Es:e};case"EOF":return{vo:EN.Rz,Es:e};default:e+=u}break;case TN.bz:switch(u){case">":return n.mh(1),{vo:EN.Iz,Nz:e};case"EOF":return{vo:EN.Iz,Nz:e};default:e+=u}}n.mh(1)}}!function(t){t._z="Data",t.mz="Tag",t.Tz="StartTag",t.pz="StartTagClass",t.kz="StartTagAnnotation",t.Ez="CharRefInAnnotation",t.Az="EndTag",t.bz="TimestampTag"}(TN||(TN={})),function(t){t.yz="string",t.gz="starttag",t.Rz="endtag",t.Iz="timestamp"}(EN||(EN={}));var IN,NN,CN={yB:uN.WHITE,wB:"sans-serif",mB:"100%",kB:"rgba(0,0,0,0.8)",pB:uN.TRANSPARENT,AB:"none",bB:"visible"},DN="theoplayer-webvtt-region-",ON="theoplayer-webvtt-styling-",xN="theoplayer-webvtt-voice-",PN=5.23,BN=1.14,LN=0,MN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,CN)||this).Cz={},s.Dz=XN(3),s}F(n,t);var i=n.prototype;return i.Qq=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Dr(n),Nr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.cz.wB,n.style.whiteSpace="pre-line",n},i.jq=function(t,n){for(var i=n/100,r=t/100,e=_.min(i,r),s=eN(this.cz),u=0,o=l.keys(this.Oz);u<o.length;u++){var h=o[u],a=this.Oz[h].xz;this.Pz(a,e,s,this.Oz[h].Fw)}this.Pz(this.Bz,e,s),this.Lz()},i.Lz=function(){var t=eN(this.cz);this.Bz.style.padding=t>=1.5?"0":1/t+"em"},i.uz=function(t){var n=this.ZS,i=this.YB.iO/100,r=this.Bz;t.Fw&&(this.Oz[t.Fw.$l]||(this.Oz[t.Fw.$l]={Fw:t.Fw,xz:WN(t.Fw,i)}),r=this.Oz[t.Fw.$l].xz),n.querySelector("."+r.className)||n.appendChild(r);var e=this.oz(t);r.children.length>=1&&t.Fw&&"up"===t.Fw.ey&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t.$w,r.appendChild(u)}},i.oz=function(t){var n=[];return t&&n.push(this.Mz(t)),n},i.Mz=function(t){for(var n=new Gu,i=t.xw,r=this.Uz(t),e=r,u="",o=[],h={};n.Ah<i.length;){var a=RN(i,n);if(a.vo===EN.yz){var c=this.Fz(a.xw);UN(c,h),e.appendChild(c)}else if(a.vo===EN.gz){switch(h[a.Es.toLowerCase()]||(h[a.Es.toLowerCase()]=[]),h[a.Es.toLowerCase()].push(a),a.Es.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(a.Sz)}u=a.Es||""}else if(a.vo===EN.Rz){h[a.Es.toLowerCase()]&&h[a.Es.toLowerCase()].pop(),(!a.Es||"C"!==a.Es.toUpperCase()&&"V"!==a.Es.toUpperCase())&&("LANG"===a.Es.toUpperCase()?o.pop():"RUBY"===a.Es.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===a.Es.toUpperCase()&&(e=e.parentNode)),u=a.Es||""}else if(a.vo===EN.Iz){var g=a.Nz,w=new Gu;try{vw(g,w)}catch(t){wt("ERROR collecting timestamp",t)}}}return r},i.Fz=function(t){var n=s.createElement("span");return cN(n,t),n.style.background=this.cz.kB,n.style.color=this.cz.yB,n},i.Pz=function(t,n,i,r){if(r){var e=FN(r,n);t.style.height=e*i+"px",t.style.left=HN(r)+"%",t.style.top=VN(r,n)+"px"}t.style.fontSize=PN*n*i+"px"},i.Uz=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Pw,function(t,n){"rl"===n.Vw?t.style.writingMode="vertical-rl":"lr"===n.Vw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=cg(n);qN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=ag(n),s=hg(n),u=cg(n);qN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.Hw?0:og(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.Hw?0:og(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.cz.pB,n.style.color=this.cz.yB,n.style.textShadow=hN(this.cz.AB),n},i.hz=function(t){for(var n=t.$w,i=this.ZS,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=l.keys(this.Oz);o<h.length;o++){var a=h[o];if(Ce(r[e].className,DN+a)){delete this.Oz[a];break}}i.removeChild(r[e])}}},M(n,[{key:"Oz",get:function(){return this.Cz||(this.Cz={}),this.Cz}},{key:"Bz",get:function(){return this.Dz||(this.Dz=XN(3)),this.Dz}},{key:"iz",get:function(){return"theoplayer-webvtt-cue-"+LN++}}]),n}(oN);function UN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.wz)for(var s=0,u=e.wz;s<u.length;s++){var o=u[s];Ir(t,ON+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.Sz&&Ir(t,xN+c.Sz)}}function FN(t,n){return t.ty*(PN*n)*BN}function HN(t){return t.sy-t.ny*t.ku/100}function VN(t,n){var i=t.uy,r=t.iy*FN(t,n)/100;return _.max(0,i-r)}function XN(t){var n=s.createElement("div");return n.className=DN+"default",Dr(n),Nr(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=PN*t+"px",n.style.lineHeight=BN+"em",n}function WN(t,n){var i=XN(n);i.className=DN+t.$l;var r=t.ku,e=FN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=HN(t)+"%",i.style.top=VN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function qN(t){return""===t.Vw}!function(t){t[t.Hz=0]="Hz",t[t.Vz=1]="Vz",t[t.Xz=2]="Xz",t[t.Wz=3]="Wz",t[t.qz=4]="qz",t[t.zz=5]="zz"}(IN||(IN={})),function(t){t[t.Gz=0]="Gz",t[t.jz=1]="jz",t[t.Qz=2]="Qz",t[t.Yz=3]="Yz"}(NN||(NN={}));var zN=15,GN=32,jN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),QN=function(){function t(){this.Zz=[],this.Jz=0,this.$z=void 0;for(var t=0;t<GN;t++)this.Zz.push(null);this.$z=!1}var n=t.prototype;return n.Kz=function(t){for(var n=0;n<GN;n++)t&&(this.Zz[n]=t.Zz[n])},n.Zw=function(t){for(var n=0;n<GN;n++)if(this.Zz[n]!==t.Zz[n])return!1;return!0},n.tG=function(){for(var t=0;t<GN;t++)if(null!==this.Zz[t])return!1;return!0},n.nG=function(t){this.Jz!==t&&(this.Jz=t),this.Jz<0?this.Jz=0:this.Jz>GN&&(this.Jz=GN-1)},n.iG=function(t){var n=this.Jz+t;this.nG(n)},n.rG=function(){this.iG(-1),this.Zz[this.Jz]=null},n.eG=function(t){t>=144&&this.rG();var n,i=jN[n=t]?String.fromCharCode(jN[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Jz>=GN||(32===Number(t)?(this.Zz[this.Jz]=this.$z?"</i>":"<i>",this.$z=!this.$z):this.Zz[this.Jz]=t,this.iG(1))},n.sG=function(t){for(var n=t;n<GN;n++)this.Zz[n]=null},n.gh=function(){this.sG(0),this.Jz=0},n.uG=function(){this.sG(this.Jz)},n.oG=function(t,n){for(var i=this.Zz,r=null,e=0;e<GN;e++){var s=i[e];null===s?r=null:(r||(r={hG:e,aG:t,ku:0,Vp:1,Zz:[[]]},n.push(r)),r.Zz[0].push(s),r.ku++)}},n.Cm=function(t,n){return t.cG(this.Zz,n)},t}();var YN=function(){function t(){this.fG=void 0,this.vG=void 0,this.dG=null,this.fG=[];for(var t=0;t<zN;t++)this.fG.push(new QN);this.vG=zN-1,this.Hl()}var n=t.prototype;return n.Kz=function(t){for(var n=0;n<zN;n++)this.fG[n].Kz(t.fG[n])},n.Zw=function(t){for(var n=!0,i=0;i<zN;i++)if(!this.fG[i].Zw(t.fG[i])){n=!1;break}return n},n.tG=function(){for(var t=!0,n=0;n<zN;n++)if(!this.fG[n].tG()){t=!1;break}return t},n.Hl=function(){for(var t=0;t<zN;t++)this.fG[t].gh();this.vG=zN-1},n.eG=function(t){this.fG[this.vG].eG(t)},n.lG=function(){this.fG[this.vG].rG()},n.uG=function(){this.fG[this.vG].uG()},n._G=function(){if(null!==this.dG){var t=this.vG+1-this.dG,n=this.fG[t];n&&(Je(this.fG,t),n.gh(),this.fG.splice(this.vG,0,n))}},n.iG=function(t){this.fG[this.vG].iG(t)},n.gG=function(t){this.dG=t},n.wG=function(t){var n=t.yG;this.dG&&n<this.dG-1&&(n=this.dG-1),this.vG=n;var i=this.fG[this.vG];null!==t.mG&&i.nG(t.mG)},n.kG=function(){for(var t=this.fG,n=[],i=0;i<t.length;i++){t[i].oG(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];JN(s,o)&&(s=ZN(s,o),Je(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map($N)},n.Cm=function(t){return t.pG(this.fG)},t}();function ZN(t,n){for(var i=_.min(t.hG,n.hG),r=_.min(t.aG,n.aG),e=_.max(t.hG+t.ku,n.hG+n.ku)-i,s=_.max(t.aG+t.Vp,n.aG+n.Vp)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.Zz[o+r-t.aG];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.hG]=a[c]);var f=n.Zz[o+r-n.aG];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.hG]=f[v]);u[o]=h}return{hG:i,aG:r,ku:e,Vp:s,Zz:u}}function JN(t,n){return t.hG<=n.hG+n.ku&&n.hG<=t.hG+t.ku&&t.aG<=n.aG+n.Vp&&n.aG<=t.aG+t.Vp}function $N(t){for(var n=new Array(t.Vp),i=t.Zz,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{hG:t.hG,aG:t.aG,ku:t.ku,Vp:t.Vp,xw:a}}var KN=function(){function t(t,n){this.yG=t,this.mG=n}return t.prototype.Zw=function(t){return this.yG===t.yG&&this.mG===t.mG},t}(),tC=function(){function t(t){this.AG=void 0,this.bG=void 0,this.TG=t,this.AG=this.EG(),this.bG=this.SG()}var n=t.prototype;return n.EG=function(){for(var t=new KN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.RG;n<i.length;n++){var r=i[n],e=_.min(t.yG,r.IG.yG),s=_.min(t.mG,r.IG.mG);t=new KN(e,s)}return t},n.SG=function(){for(var t=new KN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.RG;n<i.length;n++){var r=i[n],e=_.max(t.yG,r.NG.yG),s=_.max(t.mG,r.NG.mG);t=new KN(e,s)}return t},M(t,[{key:"IG",get:function(){return this.AG}},{key:"NG",get:function(){return this.bG}},{key:"RG",get:function(){return ts(this.TG.map(function(t){return t.RG}))}}]),t}(),nC=function(){function t(t,n){this.CG="",this.TB=t,this.AG=n}var n=t.prototype;return n.eG=function(t){this.CG+=t},n.DG=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eG(i)}},M(t,[{key:"OG",get:function(){return this.CG}},{key:"RG",get:function(){return[this]}},{key:"xG",get:function(){return this.TB}},{key:"IG",get:function(){return this.AG}},{key:"NG",get:function(){return new KN(this.IG.yG,this.IG.mG+this.OG.length-1)}}]),t}(),iC=function(){function t(){}var n=t.prototype;return n.PG=function(t){return t.Cm(this)},n.pG=function(t){var n=this;return ts(t.map(function(t,i){return t.Cm(n,i)}))},n.cG=function(t,n){return new rC(t,n).BG()},t}(),rC=function(){function t(t,n){this.LG=[],this.MG=null,this.yG=t,this.UG=n}var n=t.prototype;return n.BG=function(){if(this.FG)return[];for(var t=0;t<this.yG.length;t++)this.HG(t);return this.VG(),this.LG},n.XG=function(t){this.MG=new nC(fC,new KN(this.UG,t))},n.VG=function(){this.MG&&(this.LG.push(this.MG),this.MG=null)},n.HG=function(t){var n=this.yG[t];eC(n)?this.MG&&this.VG():(this.MG||this.XG(t),this.MG.eG(n))},M(t,[{key:"FG",get:function(){return this.yG.every(eC)}}]),t}();function eC(t){return null==t}var sC,uC=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return F(n,t),n}(eg),oC=function(t){function n(n,i){var r;return(r=t.call(this,"qG")||this).WG=n,r.Cw=i,r}return F(n,t),n}(Ss);!function(t){t[t.WR=0]="WR",t[t.zG=1]="zG",t[t.GG=2]="GG",t[t.jG=3]="jG",t[t.us=4]="us"}(sC||(sC={}));var hC,aC=function(t){function n(){var n;return(n=t.call(this)||this).um=0,n.Dw=0,n.QG=void 0,n.YG=void 0,n.ZG=void 0,n.JG=void 0,n.c_=sC.WR,n.QG=new YN,n.YG=new YN,n.ZG=new YN,n.JG=n.QG,n}F(n,t);var i=n.prototype;return i.eG=function(t){this.JG.eG(t),this.c_!==sC.zG&&this.c_!==sC.GG||this.$G()},i.NN=function(t){t!==this.c_&&(this.c_=t,this.c_===sC.jG?this.JG=this.YG:(this.JG=this.QG,this.JG.Hl()),this.c_!==sC.GG&&(this.QG.gG(null),this.YG.gG(null)))},i.wG=function(t){this.JG.wG(t)},i.KG=function(){this.NN(sC.jG)},i.tj=function(){this.c_!==sC.us&&(this.JG.lG(),this.JG===this.QG&&this.$G())},i.nj=function(){},i.ij=function(){},i.rj=function(){this.JG.uG(),this.$G()},i.ej=function(t){this.JG=this.QG,this.NN(sC.GG),this.JG.gG(t)},i.sj=function(){},i.uj=function(){this.NN(sC.zG)},i.oj=function(){this.NN(sC.us)},i.hj=function(){this.NN(sC.us)},i.aj=function(){this.QG.Hl(),this.$G()},i.cj=function(){this.JG._G(),this.$G()},i.fj=function(){this.YG.Hl()},i.vj=function(){if(this.c_===sC.jG){var t=this.QG;this.QG=this.YG,this.YG=t,this.JG=this.YG}this.$G()},i.dj=function(t){this.JG.iG(t)},i.$G=function(){if(null!==this.um){if((null===this.Dw||0===this.Dw)&&!this.QG.tG())this.Dw=this.um;else if(!this.QG.Zw(this.ZG)){var t=this.lj();if(this.um>this.Dw){var n=new uC(this.Dw,this.um,t);this.Wo(new oC(1,n))}this.Dw=this.QG.tG()?null:this.um}this.ZG.Kz(this.QG)}},i.lj=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t.NG.mG-n.IG.mG)<=1||_.abs(n.NG.mG-t.IG.mG)<=1||_.abs(t.NG.yG-n.IG.yG)<=1||_.abs(n.NG.yG-t.IG.yG)<=1}(o=r,h=u)||function(t,n){return cC(t.IG.yG,t.NG.yG,n.IG.yG,n.NG.yG)&&cC(t.IG.mG,t.NG.mG,n.IG.mG,n.NG.mG)}(o,h))&&(r=new tC([].concat(r.RG,u.RG)),Ze(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new iC).PG(this.ZG))},i.Hl=function(){this.um=0,this.Dw=0,this.QG.Hl(),this.QG.gG(null),this.YG.Hl(),this.YG.gG(null),this.ZG.Hl(),this.ZG.gG(null),this.JG=this.QG,this.c_=sC.WR},n}(Ts);function cC(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(hC||(hC={}));var fC={yB:uN.WHITE,wB:sN.dz,mB:"100%",kB:uN.BLACK,pB:"transparent",AB:"none",_j:hC.FONT_REGULAR,bB:"visible"},vC=[{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:0},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.GREEN,_j:hC.FONT_REGULAR,mG:0},{gj:uN.GREEN,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.BLUE,_j:hC.FONT_REGULAR,mG:0},{gj:uN.BLUE,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.CYAN,_j:hC.FONT_REGULAR,mG:0},{gj:uN.CYAN,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.RED,_j:hC.FONT_REGULAR,mG:0},{gj:uN.RED,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.YELLOW,_j:hC.FONT_REGULAR,mG:0},{gj:uN.YELLOW,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.MAGENTA,_j:hC.FONT_REGULAR,mG:0},{gj:uN.MAGENTA,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.WHITE,_j:hC.FONT_ITALICS,mG:0},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE_ITALICS,mG:0},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:0},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:0},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:4},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:4},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:8},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:8},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:12},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:12},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:16},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:16},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:20},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:20},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:24},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:24},{gj:uN.WHITE,_j:hC.FONT_REGULAR,mG:28},{gj:uN.WHITE,_j:hC.FONT_UNDERLINE,mG:28}],dC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],lC=function(t){function n(){var n;(n=t.call(this)||this).wj=void 0,n.yj=null,n.mj=null,n.kj=0;var i=new aC;return n.wj=[i,new aC],i.qo("qG",n.Xo),n}F(n,t);var i=n.prototype;return i.Hl=function(){for(var t=0,n=this.wj;t<n.length;t++){n[t].Hl()}},i.pj=function(t,n){if(n.vo===NN.Gz&&n.Aj){n.bj&&(this.kj=0),this.wj[this.kj].um=t;var i=127&n.Tj,r=127&n.Ej;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.Sj(),r>=48&&r<=63&&this.Rj(i,r);break;case 18:case 19:r>=32&&r<=63&&this.Rj(i,r);break;case 20:case 21:r>=32&&r<=47&&this.Ij(i,r);break;case 23:r>=33&&r<=35&&this.Ij(i,r),r>=46&&r<=47&&this.Sj()}16===i&&r>=64&&r<=95?this.Nj(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.Nj(i,r),i>=32&&this.Rj(i,r)}}},i.Ij=function(t,n){var i=null;if(t===this.yj&&n===this.mj)return this.yj=null,this.mj=null,!0;i=20===t||23===t?0:1;var r=this.wj[i];return 20===t||28===t?32===n?r.KG():33===n?r.tj():34===n?r.nj():35===n?r.ij():36===n?r.rj():37===n?r.ej(2):38===n?r.ej(3):39===n?r.ej(4):40===n?r.sj():41===n?r.uj():42===n?r.oj():43===n?r.hj():44===n?r.aj():45===n?r.cj():46===n?r.fj():47===n&&r.vj():r.dj(n-32),this.yj=t,this.mj=n,this.kj=i,!0},i.Nj=function(t,i){t===this.yj&&i===this.mj&&(this.yj=null,this.mj=null);var r=t<=23?0:1,e=dC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n.Cj(e,i);this.wj[r].wG(s),this.yj=t,this.mj=i,this.kj=r}},n.Cj=function(t,n){var i=n>95?n-96:n-64;return{gj:vC[i].gj,_j:vC[i]._j,mG:vC[i].mG,yG:t}},i.Rj=function(t,n){var i=t>=25?t-8:t,r=this.wj[this.kj],e=!1;switch(i){case 17:r.eG(n+80),e=!0;break;case 18:r.eG(n+112),e=!0;break;case 19:r.eG(n+144),e=!0;break;default:t>=32&&(r.eG(t),n>=32&&r.eG(n),e=!0)}e&&(this.yj=null,this.mj=null)},i.Sj=function(){this.wj[this.kj].JG.iG(1)},i.Gv=function(){this.jo()},M(n,[{key:"fA",get:function(){return this.wj.length}}]),n}(Ts),_C=function(){function t(t,n,i){this.Dj=void 0,this.Oj=t,this.xj=n,this.Pq=i}var n=t.prototype;return n.Pj=function(){return this.Dj=this.Bj(),this.Lj(),this.Mj(),this.Dj},n.Bj=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Uj/GN*this.xj.Fj*100+"%",t.style.height=1.2*this.Hj+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.xj.Vj?"calc(1em - 1ch)":"",t.style.fontFamily=this.Pq.wB,t.style.backgroundColor=this.Pq.pB,t},n.Lj=function(){var t=this.Xj.yG/zN*100,n=this.Xj.mG/GN*100,i=(GN-this.Wj.mG-1)/GN*100,r=(zN-this.Wj.yG-1)/zN*100;this.xj.qj||(n=i=1,this.Dj.style.width="98%"),r<t?this.Dj.style.bottom=r*this.xj.Fj+"%":this.Dj.style.top=t*this.xj.Fj+"%",i<n?this.Dj.style.right=i+"%":this.Dj.style.left=n+"%"},n.Mj=function(){for(var t=this.Oj.RG.sort(gC),n=0;n<t.length;n++)this.zj(t[n-1],t[n]),this.Gj(t[n]);this.zj(t[t.length-1],null)},n.Gj=function(n){var i=rN(this.Pq,n.xG),r=t.jj(i);cN(r,n.OG),this.Dj.appendChild(r)},t.jj=function(t){var n=s.createElement("span");return n.style.display="inline-block",t._j!==hC.FONT_ITALICS&&t._j!==hC.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t._j!==hC.FONT_UNDERLINE&&t._j!==hC.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.yB,n.style.backgroundColor=t.kB,n.style.textShadow=hN(t.AB),n.style.height="1.2em",n},n.zj=function(t,n){var i=t?t.NG.yG:this.Oj.IG.yG,r=n?n.IG.yG:this.Oj.NG.yG,e=t?t.NG.mG:this.Oj.IG.mG,s=n?n.IG.mG:this.Oj.NG.mG;i<r&&(!n||t&&t.IG.yG!==n.IG.yG?this.Qj():this.Yj(this.Oj.NG.mG-e),e=this.Oj.IG.mG),e<s&&(n?this.Yj(s-e):this.Qj())},n.Qj=function(){var t=s.createElement("br");this.Dj.appendChild(t)},n.Yj=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",cN(n,Pe(" ",t)),this.Dj.appendChild(n)}},M(t,[{key:"Xj",get:function(){return this.Oj.IG}},{key:"Wj",get:function(){return this.Oj.NG}},{key:"Uj",get:function(){return this.Oj.NG.mG-this.Oj.IG.mG+1}},{key:"Hj",get:function(){return this.Oj.NG.yG-this.Oj.IG.yG+1}}]),t}();function gC(t,n){return function(t,n){if(t.yG!==n.yG)return t.yG-n.yG;return t.mG-n.mG}(t.IG,n.IG)}var wC=0;var yC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,fC)||this).Zj=void 0,s.Jj=void 0,s}F(n,t);var i=n.prototype;return i.Qq=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.cz.wB&&(n.style.fontFamily=this.cz.wB),n},i.jq=function(t,n){this.$j()},i.$j=function(){var t,n=eN(this.cz);this.Jj={Fj:(t=100*n)/100,Vj:t<=100,qj:t<=150};var i=this.Kj/GN;this.Zj=i*n,this.ZS.style.fontSize=this.Zj+"px"},i.oz=function(t){var n=this;return this.Jj&&this.Jj.qj?this.tQ(80):this.tQ(100),this.$j(),t.xw.map(function(t){return new _C(t,n.Jj,n.cz).Pj()})},i.tQ=function(t){var n=(100-t)/2;this.ZS.style.left=n+"%",this.ZS.style.width=t+"%"},M(n,[{key:"Kj",get:function(){var t=this.ZS.offsetWidth;return this.Jj&&this.Jj.qj||(t*=.8),t}},{key:"iz",get:function(){return"theoplayer-cea608-texttrack-"+wC++}}]),n}(oN),mC=function(){function t(t,n,i,r,e){var s=this;this.nQ=void 0,this.XX=void 0,this.pg=void 0,this.iQ=void 0,this.rQ=[],this.KI=void 0,this.eQ=function(t){var n=t.dl;n.qo(Td.Sl,s.sQ),n.qo(Td.Il,s.sQ),n instanceof lI&&(n.mV=s.mV),s.uQ(n)},this.sQ=function(t){var n=t.dl;s.uQ(n)},this.oQ=function(t){var n=t.dl;n.Qo(Td.Sl,s.sQ),n.Qo(Td.Il,s.sQ),s.hQ(n)},this.aQ=function(){for(var t=s.mV,n=0,i=s.pg.Vl;n<i.length;n++){var r=i[n];r instanceof lI&&(r.mV=t)}},this.cQ=function(){for(var t=0,n=s.rQ;t<n.length;t++){n[t].Zq(s.KI)}},this.fQ=function(){for(var t=0,n=s.rQ;t<n.length;t++){var i=n[t];i.Zq(ie({},i.$q(),{bB:"hidden"}))}},this.vQ=function(){for(var t=0,n=s.rQ;t<n.length;t++){var i=n[t];i.Zq(ie({},i.$q(),{bB:"visible"}))}},this.nQ=t,this.XX=n,this.pg=i,this.iQ=e,this.KI=r,this.pg.qo(kd.ul,this.eQ),this.pg.qo(kd.hl,this.oQ),this.pg.qo("El",this.sQ),this.iQ.qo(nA.Tl,this.aQ),this.KI.qo("El",this.cQ),this.aQ()}var n=t.prototype;return n.dQ=function(t){for(var n=0,i=this.rQ;n<i.length;n++){var r=i[n];if(r.dl===t)return r}},n.lQ=function(t){switch(t.vo){case V_.TTML:case V_.SRT:case V_.WEBVTT:case V_.CEA608:return!0}return!1},n._Q=function(t){switch(t.vo){case V_.TTML:return new gN(t,this.nQ,t.n_,this.XX);case V_.SRT:case V_.WEBVTT:return new MN(t,this.nQ,t.n_,this.XX);case V_.CEA608:return new yC(t,this.nQ,t.n_,this.XX)}},n.gQ=function(t){var n=this.dQ(t);n||((n=this._Q(t)).Zq(this.KI),this.rQ.push(n),t.c_===tl.o_&&n.rz())},n.hQ=function(t){for(var n=this.rQ,i=n.length-1;i>=0;i-=1){var r=n[i];r.dl===t&&(r.Gv(),Je(n,i))}},n.uQ=function(t){var n;(n=t.t_)!==uy.Dk&&n!==uy.Vb||!this.lQ(t)||(t.d_===H_.ERROR?this.hQ(t):this.gQ(t))},n.Hl=function(){for(var t=0,n=this.rQ;t<n.length;t++){var i=n[t];i.dl.Qo(Td.Sl,this.sQ),i.dl.Qo(Td.Il,this.sQ),i.Gv()}Ke(this.rQ)},n.Gv=function(){this.Hl();for(var t=0,n=this.rQ;t<n.length;t++){n[t].Gv()}this.pg.Qo(kd.ul,this.eQ),this.pg.Qo(kd.hl,this.oQ),this.pg.Qo("El",this.sQ),this.iQ.Qo(nA.Tl,this.aQ),this.KI.Qo("El",this.cQ)},M(t,[{key:"mV",get:function(){return this.iQ.XI}}]),t}();function kC(t){var n=new ST,i=function(t){var n=[];return TT.TO(t)&&n.push(new TT(t)),ET.TO(t)&&n.push(new ET(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.NO(e)}n.IO(i[0])}return n}var pC,AC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).wQ=void 0,s.yQ=void 0,s.mQ=void 0,s.mQ=kC(n),s.wQ=new iN,s.yQ=new mC(s.wQ.$g,s.YB,s.Rg,s.JB,s.aR),s}F(n,t);var i=n.prototype;return i.Xg=function(){return this.Ma},i.No=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.mQ.Gv(),this.wQ.Gv(),this.yQ.Gv(),n.next=5,t.prototype.No.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Vg=function(){t.prototype.Vg.call(this),this.wQ.Vg()},i.Hg=function(){t.prototype.Hg.call(this),this.wQ.Hg()},i.Iq=function(n){t.prototype.Iq.call(this,n),this.wQ.Iq(n)},M(n,[{key:"ZS",get:function(){return this.Ma}},{key:"eg",get:function(){return this.Ma.videoHeight}},{key:"sg",get:function(){return this.Ma.videoWidth}},{key:"aR",get:function(){return this.mQ}}]),n}(jI);!function(t){t.kQ="HELLO",t.pQ="HI_THERE",t.AQ="INITIALIZE",t.bQ="APPEND_INIT",t.TQ="APPEND_DATA",t.EQ="ACK",t.SQ="REMOVE",t.RQ="DESTROY_SESSION"}(pC||(pC={}));var bC=function(){function t(){this.tu=void 0,this.Ba=void 0,this.EL=new qE}var n=t.prototype;return n.IQ=function(t){var n=this;return this.EL.lL(function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s,u,h,a;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(i),r=new MessageChannel,e=r.port1,s=r.port2,o.serviceWorker.controller){t.next=7;break}return t.next=7,yd(o.serviceWorker,"install",i);case 7:if("activated"===o.serviceWorker.controller.state){t.next=10;break}return t.next=10,yd(o.serviceWorker.controller,"activate",i);case 10:return u={kind:pC.kQ,port:s},o.serviceWorker.controller.postMessage(u,[s]),e.start(),n.tu=e,t.prev=15,t.next=18,yd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===pC.pQ){t.next=23;break}throw new v("Could not set up message channel");case 23:n.Ba=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),hs(t.t0)&&n.NQ(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.CQ=function(t,n){var i=this;return this.tu,this.EL.lL(E.coroutine(ne.mark(function r(){var e;return ne.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.tu){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.tu.postMessage(t,n),r.next=7,yd(i.tu,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.DQ=function(){var t=this;return this.EL.lL(function(){return t.NQ()})},n.NQ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.tu){var t={kind:pC.RQ};this.tu.postMessage(t),this.tu.close(),this.tu=void 0}},t}(),TC=function(){function t(){this.OQ=pg.gm}var n=t.prototype;return n.xQ=function(t,n){var i=t.Ey(n);this.OQ=i._y(this.PQ)?this.OQ:i},n.BQ=function(t){this.OQ=t},M(t,[{key:"PQ",get:function(){return this.OQ}}]),t}(),EC=function(t){function n(n,i){var r;return(r=t.call(this)||this).LQ=void 0,r.MQ=void 0,r.UQ=void 0,r.EL=new qE,r.FQ=!1,r.HQ=!1,r.SD=n,r.VQ=i,r}F(n,t);var i=n.prototype;return i.gF=function(t,n){},i.wF=function(t,n){},i.iM=function(){return this.HQ},i.yF=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.$U=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.VU=function(){var t=E.coroutine(ne.mark(function t(i,r,e){var s,u,o=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.vo===dS.oM){t.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return s=i.Us,u=function(){var t=E.coroutine(ne.mark(function t(){var i,r,e,u,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Uw.fp(new DataView(s.buffer)),(r=Dw(i,Wg.wk)).length){t.next=4;break}throw new v("Moof boxes not found");case 4:return e=o.UQ,u=n.XQ(r,e),h=o.WQ(r,e),a=s.buffer,c={kind:pC.TQ,mimeType:o.SD,segment:s,startPts:Ng.Am(u).Cm(),totalDuration:Ng.Am(h).Cm()},t.next=11,o.VQ.CQ(c,[a]);case 11:void 0===o.LQ&&(o.LQ=u),void 0===o.MQ&&(o.MQ=u),o.MQ=o.MQ.vw(h),o.Wo(new Ss(hS.sM));case 15:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.EL.lL(function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(n),t.prev=1,o.FQ=!0,t.next=5,u();case 5:return t.prev=5,o.FQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),e));case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qU=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.vo===dS.oM){t.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Us,e=function(){var t=E.coroutine(ne.mark(function t(){var n,i,e,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Uw.fp(new DataView(r.buffer)),i=Cw(n,Wg.qm)){t.next=4;break}throw new v("Moov Box not found");case 4:if(0!==i.Ep.length){t.next=6;break}throw new v("Tracks not found");case 6:return s.UQ=i.Ep[0].Pp.rp.om,e=r.buffer,u={kind:pC.bQ,mimeType:s.SD,segment:r},t.next=11,s.VQ.CQ(u,[e]);case 11:s.Wo(new Ss(hS.sM));case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.EL.lL(function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(n),t.prev=1,s.FQ=!0,t.next=5,e();case 5:return t.prev=5,s.FQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),i));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.fF=function(){this.HQ=!0},i.oF=function(){this.HQ=!1},i.qh=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={kind:pC.SQ,mimeType:s.SD,endTime:Ng.ym(i).Cm()},t.next=3,s.VQ.CQ(n);case 3:s.LQ=void 0,s.MQ=void 0,s.Wo(new Ss(hS.sM));case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.EL.lL(function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(n),t.prev=1,s.FQ=!0,t.next=5,e();case 5:return t.prev=5,s.FQ=!1,t.finish(5);case 8:case"end":return t.stop()}},t,null,[[1,,5,8]])}));return function(n){return t.apply(this,arguments)}}(),r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.YL=function(t){return this.SD===t.rv},i.ZL=function(t){return this.SD=t.rv,E.resolve()},n.XQ=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.Ep.length)throw new v("No tracks");if(!i.Ep[0].$A)throw new v("No decode time");return new pg(i.Ep[0].$A.$A.toNumber(),n)},i.WQ=function(t,n){var i=0;return t.forEach(function(t){t.Ep.forEach(function(t){t.JA.forEach(function(t){t.sb.forEach(function(t){var n;i+=null!=(n=t.Z_)?n:0})})})}),new pg(i,n)},i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jo(),t.next=3,this.EL.Gv();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Zg",get:function(){return void 0===this.LQ||void 0===this.MQ?rA.HI():new rA([this.LQ.lm,this.MQ.lm])}},{key:"Kh",get:function(){return{rv:this.SD}}},{key:"kD",get:function(){return this.SD}},{key:"kF",get:function(){return rA.HI()}},{key:"Dx",get:function(){return 30},set:function(t){}},{key:"Bx",get:function(){return 30},set:function(t){}},{key:"xO",get:function(){return this.FQ}},{key:"qQ",get:function(){return this.LQ}},{key:"Ow",get:function(){return this.MQ}}]),n}(Ts),SC=function(){function t(t,n){this.Ea=void 0,this.ZF=void 0,this.JF=void 0,this.Ea=t,this.JF=Qe(n,function(t){return Boolean(t.kD.match(/video/))}),this.ZF=Qe(n,function(t){return Boolean(t.kD.match(/audio/))}),this.zQ()}t.GQ=function(n,i){for(var r=[],e=0;e<n.cH.length;e++){var s=n.cH[e].rv;r.push(new EC(s,i))}return new t(n,r)};var n=t.prototype;return n.zQ=function(){},n.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.all([this.ZF,this.JF].filter(K).map(function(t){return t.No()}));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.uH=function(t){},n.aH=function(t,n,i,r){},n.fF=function(){var t,n;null==(t=this.ZF)||t.fF(),null==(n=this.JF)||n.fF()},n.oF=function(){var t,n;null==(t=this.ZF)||t.oF(),null==(n=this.JF)||n.oF()},n.YL=function(t){return t===this.Ea},n.ZL=function(t){return this.Ea=t,E.resolve()},M(t,[{key:"jQ",get:function(){return[this.ZF,this.JF].filter(K)}},{key:"GF",get:function(){return this.ZF}},{key:"Zg",get:function(){return XS(this)}},{key:"Kh",get:function(){return this.Ea}},{key:"Z_",get:function(){return 0}},{key:"iM",get:function(){var t,n,i,r,e=null==(t=null==(n=this.ZF)?void 0:n.iM())||t,s=null==(i=null==(r=this.JF)?void 0:r.iM())||i;return e&&s}},{key:"aw",get:function(){return new rA([0,1/0])}},{key:"jF",get:function(){return this.JF}},{key:"Sg",get:function(){throw new v("Not implemented")}}]),t}(),RC=pg.Py,IC=new pg(-1/0),NC=pg.gm,CC=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.gy=function(t,n){return t.py(n)?vg.ay:t.Zw(n)?vg.oy:vg.hy},i.vw=function(t,n){return t.vw(n)},i.Ey=function(t,n){return t.Ey(n)},i.ky=function(t,n){return t.ky(n)},i.dI=function(){return RC},i.lI=function(){return NC},i.yI=function(){return IC},n.MI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new pg(t.start(r)),new pg(t.end(r)));return new n(i)},n.QQ=function(t){for(var i=[],r=[],e=0;e<t.Xl;e++)i.push(new pg(t.iI(e))),i.push(new pg(t.eI(e))),r.push(t.rI(e)),r.push(t.sI(e));return new n(i,r)},n.FI=function(t){return new n([t,t],[!0,!0])},i.fI=function(t,i){return new n(t,i)},i.aI=function(t){return t.lm},n.HI=function(){return DC},n}(iA),DC=new CC([]),OC=function(t){function n(n){var i;return(i=t.call(this)||this).YQ=!0,i.VQ=new bC,i.ZQ=new TC,i.TS=void 0,i.zX=void 0,i.JQ=!0,i.$Q=new Qu,i.YI=!1,i.eW=E.resolve(),i.sW=new us,i.KQ=!0,i.oW=rA.HI(),i.mQ=void 0,i.tY=void 0,i.wW=!1,i.CS=void 0,i.nY=function(){i.ng||i.iY.Xl<=0||i.Zg.Xl<=0||i.ZQ.xQ(new pg(i.Zg.eI(i.Zg.Xl-1)),i.iY.eI(i.iY.Xl-1))},i.rY=function(){i.Wo(new Ql(i.Y_))},i.eY=function(){i.Wo(new jl(i.Y_,i.Jg))},i.sY=function(){i.Wo(new Gl(i.Y_,i.ig))},i.uY=function(){i.Wo(new $l(i.Y_,i.ug))},i.oY=function(){i.Wo(new zl(i.Z_))},i.hY=function(){i.Wo(new rm(i.Y_))},i.aY=function(){i.kh(i.Y_)},i.cY=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.KQ&&i.Wo(new Hl(i.Y_)),i.JQ=!1,i.KQ=!0;case 3:case"end":return t.stop()}},t)})),i.fY=function(){i.JQ=!0,i.Wo(new Fl(i.Y_))},i.tY=n,i.zX=new JS(un(i)),i.tY.setAttribute("id","player_video"),i.tY.setAttribute("x-webkit-airplay","deny"),i.tY.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.tY.playsInline=!0,i.tY.style.width="100%",i.tY.style.height="100%",i.vY(),i.dY(),i.mQ=kC(i.tY),i}F(n,t);var i=n.prototype;return i.vY=function(){this.tY.addEventListener("timeupdate",this.nY),this.tY.addEventListener("ended",this.rY),this.tY.addEventListener("timeupdate",this.eY),this.tY.addEventListener("ratechange",this.sY),this.tY.addEventListener("volumechange",this.uY),this.tY.addEventListener("durationchange",this.oY),this.tY.addEventListener("playing",this.hY),this.tY.addEventListener("seeking",this.aY),this.tY.addEventListener("play",this.cY),this.tY.addEventListener("pause",this.fY)},i.lY=function(){this.tY.removeEventListener("timeupdate",this.nY),this.tY.removeEventListener("ended",this.rY),this.tY.removeEventListener("timeupdate",this.eY),this.tY.removeEventListener("ratechange",this.sY),this.tY.removeEventListener("volumechange",this.uY),this.tY.removeEventListener("durationchange",this.oY),this.tY.removeEventListener("playing",this.hY),this.tY.removeEventListener("seeking",this.aY),this.tY.removeEventListener("play",this.cY),this.tY.removeEventListener("pause",this.fY)},i.dY=function(){this.zX.qo(Ml.Sl,this.Xo)},i._Y=function(){this.zX.Qo(Ml.Sl,this.Xo)},i.kh=function(t,n){this.sW.Bo(),this.sW=new us,this.eW=this.vq(t,this.eW,this.sW.Uo).catch(R)},i.vq=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oW=this.ow,s=null==(e=this.TS)?void 0:e.jQ){t.next=4;break}return t.abrupt("return");case 4:return u=_.max.apply(_,s.map(function(t){return t.qQ?t.qQ.lm:1/0})),this.YI=!0,this.Wo(new Zl(n)),t.next=9,i.catch(R);case 9:if(as(r),t.prev=10,this.YQ||this.gY(),this.tY.load(),this.JQ){t.next=17;break}return this.KQ=!1,t.next=17,vs(this.tY.play(),r);case 17:if(!(this.d_<kl.H_)){t.next=22;break}return t.next=20,this.zX.$o(Ml.Sl,r);case 20:t.next=17;break;case 22:this.$Q.Rh(),this.YQ=!1,this.YI=!1,this.Wo(new Jl(this.Y_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.$Q.Ih(t.t0),t.t0;case 32:return t.prev=32,this.wY(),this.ZQ.BQ(new pg(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Cg=function(){this.JQ=!0,this.tY.pause()},i.Ng=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.JQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.tY.src){t.next=9;break}return this.Sq(),t.next=7,this.$Q.Sh;case 7:t.next=11;break;case 9:return t.next=11,this.tY.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.JQ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.VQ&&this.VQ.DQ().catch(R),this.sW.Bo(),this.lY(),this._Y(),this.zX.No(),this.jo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.VQ&&this.VQ.DQ().catch(R),this.sW.Bo(),this.tY.removeAttribute("src"),this.tY.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.tY.removeAttribute("x-airplay-deny"),this.tY.load(),this.zX.Hl(),this.oW=rA.HI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sq=function(){this.Rq||(MC(this.tY,T.qu),this.wW=!0)},i.gY=function(){var t,n=this.tY.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.tY.videoWidth/this.tY.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.tY.style.width=i+"px",this.tY.style.height=r+"px",this.tY.style.marginLeft=(e-i)/2+"px",this.tY.style.marginTop=(u-r)/2+"px",this.tY.style.backgroundColor="black"}},i.wY=function(){this.tY.style.width="100%",this.tY.style.height="100%",this.tY.style.marginLeft="",this.tY.style.marginTop="",this.tY.style.backgroundColor=""},i.oR=function(t,n,i,r){},i.Jb=function(t,n,i,r,e,s){},i.nM=function(t){},i.yR=function(){return dE(this.tY)},i.Hg=function(){this.tY.style.display="block"},i.Vg=function(){this.tY.style.display="none"},i.Tq=function(){},i.Wh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.vo!==Oy.iT){t.next=2;break}throw new v("Not yet implemented");case 2:return t.next=4,this.VQ.IQ();case 4:return i={kind:pC.AQ,mediaBufferConfigs:n.cH.map(function(t){return t.rv})},t.next=7,this.VQ.CQ(i);case 7:return this.TS=SC.GQ(n,this.VQ),this.tY.preload="none",this.tY.src="https://theo.proxy/"+this.VQ.Ba+"/master.m3u8",t.abrupt("return",this.TS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Eq=function(){},i.tT=function(t){},i.cR=function(){},i.wR=function(t){},i.sR=function(){return!1},i.Iq=function(t){t.appendChild(this.tY)},i.Xg=function(){return this.tY},i.rq=function(){},i.Yg=function(){},M(n,[{key:"ZS",get:function(){return this.tY}},{key:"mH",get:function(){return!1}},{key:"Y_",get:function(){return this.tY.currentTime+this.ZQ.PQ.lm}},{key:"ng",get:function(){return this.tY.paused}},{key:"ug",get:function(){return this.tY.volume},set:function(t){this.tY.volume=t}},{key:"ig",get:function(){return this.tY.playbackRate},set:function(t){this.tY.playbackRate=t}},{key:"yY",get:function(){return this.tY.defaultPlaybackRate}},{key:"Zg",get:function(){var t,n;return null!=(t=null==(n=this.TS)?void 0:n.Zg)?t:rA.HI()}},{key:"iY",get:function(){return CC.MI(this.tY.buffered)}},{key:"ow",get:function(){var t=rA.UI(this.mY);return this.oW.pI(t.mh(this.ZQ.PQ.lm))}},{key:"mY",get:function(){return CC.MI(this.tY.played)}},{key:"rg",get:function(){return this.YI}},{key:"Z_",get:function(){return this.tY.duration}},{key:"tg",get:function(){return this.tY.muted},set:function(t){this.tY.muted=t}},{key:"xG",get:function(){return this.tY.style}},{key:"Cq",get:function(){return ie({},uS,{ML:!0,UL:300})}},{key:"d_",get:function(){return this.zX.d_}},{key:"eg",get:function(){return this.tY.videoHeight}},{key:"sg",get:function(){return this.tY.videoWidth}},{key:"J_",get:function(){return this.tY.ended}},{key:"Vp",get:function(){return 0}},{key:"ku",get:function(){return 0}},{key:"Kg",get:function(){return!1}},{key:"Rq",get:function(){return this.wW}},{key:"Jg",get:function(){}},{key:"YB",get:function(){}},{key:"eh",get:function(){}},{key:"aR",get:function(){return this.mQ}},{key:"aw",get:function(){return this.TS?this.TS.aw:rA.HI()}},{key:"mR",get:function(){}},{key:"Rg",get:function(){}},{key:"JB",get:function(){}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"Nq",get:function(){return"block"===this.tY.style.display}},{key:"JS",get:function(){return this.CS},set:function(t){this.CS=t}},{key:"VX",get:function(){}}]),n}(Ts),xC=2,PC=[S_.Lv,S_.Mv];function BC(t){var n=s.createElement(t);return xr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),LC(n),n}function LC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Pr(t),t.pause(),t.playbackRate=1,t.preload=Yp.XR,t.controls=!1,t.style.display="none",xr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function MC(t,n){if(n.eu){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();ut(r)&&ws(r),t.pause()}}var UC;yr=(UC={kY:function(){function t(t,n,i,r,e){void 0===i&&(i=xC),void 0===r&&(r=PC),void 0===e&&(e=Wo()),this.pY=void 0,this.AY=void 0,this.mo=void 0,this.bY=void 0,this.XX=void 0,this.KI=void 0,this.TY=void 0,this.pY=i,this.AY=[].concat(r),this.mo=e,this.XX=t,this.KI=n,this.bY=ee(),this.EY()}var n=t.prototype;return n.iN=function(t){for(var n=0,i=this.eN;n<i.length;n++){i[n].Iq(t)}},n.YS=function(t){var n=Qe(this.bY.get(t),function(t){return t.SY});if(n)return n.SY=!1,n.RY},n.IY=function(t){if(!this.TY)throw new v("Error creating iOS Safari MediaController");return this.TY},n.dR=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.ZS,r=i.tagName.toLowerCase(),t.next=4,n.Hl();case 4:LC(i),(e=Qe(this.bY.get(r)||[],function(t){return n===t.RY}))&&(e.SY=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rN=function(){for(var t=0,n=this.eN;t<n.length;t++){n[t].Sq()}},n.Gv=function(){for(var t=0,n=this.eN;t<n.length;t++){var i=n[t],r=i.ZS;i.No(),LC(r),Rr(r)}},n.EY=function(){for(var t=0,n=this.AY;t<n.length;t++){var i=n[t],r=[];this.bY.set(i,r);for(var e=0;e<this.pY;e++){var s=BC(i),u=i===S_.Lv?new tN(s,this.mo,this.XX):new AC(s,this.mo,this.XX,this.KI);r.push({RY:u,SY:!0})}}if(Z.He&&Z.Ae){var o=BC(S_.Mv);this.TY=new OC(o)}},M(t,[{key:"eN",get:function(){for(var t=[],n=0,i=this.AY;n<i.length;n++){var r=i[n],e=this.bY.get(r).map(function(t){return t.RY});t.push.apply(t,e)}return this.TY&&t.push(this.TY),t}}]),t}(),NY:function(){function t(n){var i=this;this.CY=new qE,this.DY=E.coroutine(ne.mark(function n(){var r,e,s;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.JI.YS(S_.Mv),e=r.ZS,n.next=4,t.OY(e);case 4:return s=n.sent,n.next=7,i.JI.dR(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.JI=n}var n=t.prototype;return n.DL=function(){return this.CY.lL(this.DY)},n.Mg=function(){this.JI.rN()},t.OY=function(){var n=E.coroutine(ne.mark(function n(i){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Z.xe&&!Z.De){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.xY();case 5:return n.next=7,t.PY(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.BY(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.PY=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,ut(i)){t.next=4;break}return t.abrupt("return",!Z.Ee);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.BY=function(){var n=E.coroutine(ne.mark(function n(i){var r;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.PY(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.xY=function(){return new E(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.Gv=function(){this.CY.Gv()},t}(),LY:{BD:function(t){pr.addEventListener("beforeunload",t)},GD:function(t){pr.removeEventListener("beforeunload",t)}},MY:e}).kY,mr=UC.NY,kr=UC.LY,pr=UC.MY,Ar=pr&&pr.location,br=pr&&pr.navigator;var FC=[];function HC(){FC.shift()()}function VC(t){FC.push(t),h(HC,0)}var XC=function(){function t(t){this.UY=void 0,this.FY=void 0,this.HY=void 0,this.HY=t}var n=t.prototype;return n.VY=function(t){return this.UY=this.UY||{},void 0===this.UY[t]&&(this.UY[t]=[]),this.UY[t]},n.addEventListener=function(t,n){var i=this.VY(t);-1===i.indexOf(n)&&i.push(n)},n.Go=function(t){(this.FY||(this.FY=[])).push(t)},n.removeEventListener=function(t,n){var i=this.VY(t);n?Ze(i,n):i.length=0},n.Jo=function(t){var n=this.FY;n&&Ze(n,t)},n.jo=function(){this.UY=void 0},n.dispatchEvent=function(t,n){if(n)return VC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.VY(t.type).slice(),r=this.FY&&this.FY.slice(),e=0;e<i.length;e++){i[e].call(this.HY||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.HY||this,t)}},n.XY=function(t){return Boolean(this.UY&&this.UY[t]&&this.UY[t].length)},n.WY=function(){return this.UY?l.keys(this.UY):[]},t}(),WC=function(){function t(){this.qY=[]}var n=t.prototype;return n.GQ=function(t,n){var i=this.qY[t];return i?new i(n):null},n.BL=function(t,n){this.qY[t]=n},t}();WC.ts=new WC;var qC,zC=function(t){function n(n,i){var r,e=jC[n];return(r=t.call(this,e?e.nh:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.zY,r.helpLinkText=e&&e.GY,r}return F(n,t),M(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(hn);!function(t){t.jY="LICENSE_INVALID",t.QY="MANIFEST_NOT_FOUND",t.YY="MANIFEST_CORS_ERROR",t.ZY="INVALID_HLS_MANIFEST",t.JY="PLAYBACK_ISSUE",t.$Y="AUDIO_ISSUE",t.KY="BROWSER_SUPPORT_ISSUE",t.tZ="INVALID_KEY",t.nZ="DECRYPTION_ERROR",t.iZ="AD_BLOCK_DETECTED",t.rZ="THEOPLAYER_NOT_INITIALIZED",t.h_="ERROR",t.eZ="MANIFEST_SEQUENCE_RESET_ERROR",t.sZ="PLAYER_INCORRECTLY_CONFIGURED",t.uZ="UNSUPPORTED"}(qC||(qC={}));for(var GC=[{Nh:qC.jY,nh:"The license for this player is invalid. Please contact your service provider for additional information."},{Nh:qC.QY,nh:"Could not load the manifest file."},{Nh:qC.YY,nh:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",zY:"https://www.theoplayer.com/documentation/cors.html",oZ:!1},{Nh:qC.ZY,nh:"The source of the player is an invalid HLS manifest.",zY:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Nh:qC.JY,nh:"There appears to be a playback issue."},{Nh:qC.$Y,nh:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Nh:qC.KY,nh:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Nh:qC.tZ,nh:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Nh:qC.nZ,nh:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Nh:qC.iZ,nh:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Nh:qC.rZ,nh:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Nh:qC.h_,nh:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Nh:qC.eZ,nh:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Nh:qC.sZ,nh:"The player is incorrectly configured.",zY:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Nh:qC.uZ,nh:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],jC={},QC=0;QC<GC.length;QC++){var YC=GC[QC];jC[YC.Nh]=YC}function ZC(t){return t.hZ}var JC=function(){function t(){this.qc=[],this.aZ={},this.cZ=0}var n=t.prototype;return n.fZ=function(t){var n=this.aZ[t];return void 0===n?-1:n-this.cZ},n.vZ=function(t){return this.qc[t]},n.dZ=function(t){return this.vZ(this.fZ(t))},n.lZ=function(t){return!!this.vZ(t)},n._Z=function(t){return!!this.dZ(t)},n.gZ=function(){return this.qc},n.vw=function(t){var n,i=this.qc,r=i.length?i[i.length-1]:null;if(this.fZ(t.hZ)>=0)return!1;if(r&&t.hZ>r.hZ)n=i.length;else{var e=iR(this.qc,t.hZ,ZC,lg);if(e>=0)return!1;n=-(e+1)}return this.wZ(t,n),!0},n.qh=function(t){var n=this.qc,i=this.aZ,r=this.fZ(t.hZ);return!(r<0)&&(n.splice(r,0,t),delete i[t.hZ],this.yZ(r),!0)},n.mZ=function(t){var n=this.qc,i=this.aZ;t=_.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].hZ];n.splice(0,t),this.cZ+=t},n.wZ=function(t,n){var i=this.qc;n>=i.length?i.push(t):i.splice(n,0,t),this.yZ(n)},n.yZ=function(t){for(var n=this.qc,i=this.aZ,r=this.cZ,e=n.length,s=t;s<e;s++)i[n[s].hZ]=s+r},M(t,[{key:"Xl",get:function(){return this.qc.length}}]),t}(),$C=function(){function t(t,n,i){this.kZ=void 0,this.pZ=void 0,this.AZ=void 0,this.kZ=t,this.pZ=n,this.AZ=i}var n=t.prototype;return n.compute=function(){return this.kZ.live?this.kZ.bZ?this.kZ.TZ:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.AZ&&(t+=this.EZ()),this.SZ()&&(t+=this.RZ(t)),t},n.SZ=function(){return void 0!==this.pZ.IZ.dZ(this.kZ.fragments[0].hZ)},n.RZ=function(t){var n=this.kZ.fragments[0];return this.pZ.IZ.dZ(n.hZ).NZ-(n.NZ+t)||0},n.EZ=function(){var t=KC(this.kZ),n=KC(this.AZ.CZ),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.AZ)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=_.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.CZ.fragments.length?this.AZ.DZ(t.CZ.fragments[0].hZ).NZ:0},t}();function KC(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.OZ&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var tD=function(t){function n(n){return t.call(this,z_.Cl,n)||this}return F(n,t),n.prototype.vl=function(){return new nD(this.Cw.fl)},n}(J_),nD=function(t){function n(n){return t.call(this,G_.Cl,n)||this}return F(n,t),n}($_),iD=function(t){function n(n,i){var r,e=rD(i,n.Z_,n.mR,n.xZ);return(r=t.call(this,i,e,void 0,!1,n.$l)||this).PZ=void 0,r.BZ=void 0,r.LZ=void 0,r.dH=void 0,r.MZ=void 0,r.UZ=void 0,r.FZ=void 0,r.HZ=void 0,r.VZ=void 0,r.XZ=void 0,r.PZ=n.WZ,r.BZ=n.mR,r.LZ=n.xZ,r.dH=n.Z_,r.MZ=n.qZ,r.UZ=Boolean(n.zZ),r.FZ=n.GZ||{},r.HZ=n.jZ,r.VZ=n.QZ,r.XZ=n.YZ,r.ZZ(),r.JZ(),r}F(n,t);var i=n.prototype;return i.zh=function(t){var n=!1;void 0===this.PZ&&void 0!==t.WZ&&(n=!0,this.PZ=t.WZ),void 0===this.LZ&&void 0!==t.xZ&&(n=!0,this.LZ=t.xZ),void 0===this.dH&&void 0!==t.Z_&&(n=!0,this.dH=t.Z_),void 0===this.MZ&&void 0!==t.qZ&&(n=!0,this.MZ=t.qZ),!this.UZ&&t.zZ&&(n=!0,this.UZ=t.zZ),n=this.updateCustomAttributes(t,n),void 0===this.HZ&&void 0!==t.jZ&&(n=!0,this.HZ=t.jZ),void 0===this.VZ&&void 0!==t.QZ&&(n=!0,this.VZ=t.QZ),void 0===this.XZ&&void 0!==t.YZ&&(n=!0,this.XZ=t.YZ),this.ZZ(),this.JZ(),this.$Z(),n&&this.Wo(new tD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.GZ)for(var r=0,e=l.keys(t.GZ);r<e.length;r++){var s=e[r];void 0===this.FZ[s]&&(i=!0,this.FZ[s]=t.GZ[s])}return i},i.ZZ=function(){this.dH&&!this.LZ&&(this.LZ=new Date(this.BZ.getTime()+1e3*this.dH))},i.JZ=function(){this.LZ&&!this.dH&&(this.dH=Kt(this.LZ.getTime()-this.BZ.getTime()))},i.$Z=function(){this.Ww===1/0&&(this.LZ||this.dH)&&(this.Ww=rD(this.Xw,this.dH,this.BZ,this.LZ))},M(n,[{key:"fl",get:function(){var t;return this.cl||(this.cl=Md(K_(t=this),{get content(){return t.xw},get class(){return t.WZ},get startDate(){return t.mR},get endDate(){return t.xZ},get duration(){return t.Z_},get plannedDuration(){return t.qZ},get endOnNext(){return t.zZ},get scte35Cmd(){return t.jZ},get scte35Out(){return t.QZ},get scte35In(){return t.YZ},get customAttributes(){return t.GZ}})),this.cl}},{key:"WZ",get:function(){return this.PZ}},{key:"mR",get:function(){return this.BZ}},{key:"xZ",get:function(){return this.LZ}},{key:"Z_",get:function(){return this.dH}},{key:"qZ",get:function(){return this.MZ}},{key:"zZ",get:function(){return this.UZ}},{key:"jZ",get:function(){return this.HZ}},{key:"QZ",get:function(){return this.VZ}},{key:"YZ",get:function(){return this.XZ}},{key:"GZ",get:function(){return this.FZ}}]),n}(eg);function rD(t,n,i,r){return K(n)?t+n:r?t+(Kt(r.getTime())-Kt(i.getTime())):1/0}var eD,sD,uD,oD,hD,aD=function(t){function n(){return t.call(this,void 0,void 0,V_.DATE_RANGE)||this}F(n,t);var i=n.prototype;return i.zh=function(t,n){for(var i=this,r=function(t){for(var n=ee(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.$l)){var s=n.get(e.$l),u=ie({},s,Vd(e),{GZ:ie({},s.GZ,e.GZ)});n.set(e.$l,u)}else n.set(e.$l,e),i.push(e.$l)}return i.map(function(t){return n.get(t)})}(t),e=this.l_.Vl,s=function(t){var n=e[t],s=Qe(r,function(t){return t.$l===n.$l});s?n.zh(s):i.qH(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h.mR;if(void 0!==a&&!this.XH(h.$l)){var c=n(a);this.Kb(new iD(h,c))}}},i.Kb=function(n){this.KZ(n),t.prototype.Kb.call(this,n)},i.KZ=function(t){var n=this.CH.filter(function(n){return n.WZ===t.WZ}).pop();n&&n.zZ&&n.zh({$l:n.$l,xZ:t.mR})},n}(AI);function cD(t){return fD(t)?{Av:t.tJ,nJ:[t.nJ.iI,t.nJ.eI],Wv:!0}:{Av:t.toString(),Wv:!0}}function fD(t){return void 0!==t.nJ}function vD(t){return t&&t.iJ&&Lg(t.iJ)||!1}function dD(t){if(!t)return Ng.Py;if(!vD(t))return Ng.ym(t.duration);var n=t.rJ||Ng.Py,i=t.eJ||Ng.Py,r=Ng.ym(t.duration);return n.Fy()||i.Fy()?n.Fy()?i.Fy()?r.Fy()?Ng.Py:r:i:n:Ng.fm(n,i)}function lD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nT)return i}return null}function _D(t){return lD(t)||function(t){return t.filter(function(t){return t.sJ})}(t)[0]||t[0]}function gD(t,n){for(var i=0;i<n.length;i++){var r=n[i];$e(t,r)||t.push(r)}return t}function wD(t){switch(t){case oD.Mv:case oD.uJ:return S_.Mv;case oD.Lv:return S_.Lv}}function yD(t){switch(t){case oD.Mv:case oD.uJ:return Nf.Mv;case oD.Lv:return Nf.Lv;default:return Nf.Tv}}!function(t){t.oJ="alternative",t.hJ="main",t.aJ="commentary",t.cJ="",t.Xb="descriptions",t.fJ="main-desc",t.vJ="translation"}(eD||(eD={})),function(t){t.oJ="alternative",t.hJ="main",t.aJ="commentary",t.cJ="",t.Vb="captions",t.dJ="sign",t.Dk="subtitles"}(sD||(sD={})),function(t){t.Mv="video",t.Lv="audio",t.lJ="closedCaption",t._J="variant"}(uD||(uD={})),function(t){t[t.Tv=-1]="Tv",t[t.Lv=0]="Lv",t[t.Mv=1]="Mv",t[t.uJ=2]="uJ"}(oD||(oD={})),function(t){t[t.Tv=-1]="Tv",t[t.gJ=1]="gJ",t[t.wJ=2]="wJ",t[t.yJ=3]="yJ",t[t.mJ=4]="mJ"}(hD||(hD={})),function(t){t.hg=function(t){return t>=hD.wJ},t.kJ=function(t){return t===hD.wJ||t===hD.yJ}}(hD||(hD={}));var mD=function(t){function n(){var n;return(n=t.call(this)||this).pJ=[],n.AJ=function(){return n.dispatchEvent("bJ")},n.TJ=function(){return n.dispatchEvent("EJ")},n}F(n,t);var i=n.prototype;return i.vw=function(t){this.pJ.push(t),t.addEventListener("EJ",this.TJ),t.addEventListener("SJ",this.AJ),this.dispatchEvent("RJ"),t.disabled||this.dispatchEvent("bJ")},i.qh=function(t){var n=this.pJ.indexOf(t);n<0||(Je(this.pJ,n),t.removeEventListener("EJ",this.TJ),t.removeEventListener("SJ",this.AJ),this.dispatchEvent("RJ"),t.disabled||this.dispatchEvent("bJ"))},i.gh=function(){for(var t=!!this.IJ.length,n=!!this.NJ.length,i=0,r=this.pJ;i<r.length;i++){r[i].removeEventListener("SJ",this.AJ)}this.pJ.length=0,t&&this.dispatchEvent("RJ"),n&&this.dispatchEvent("bJ")},i.Gv=function(){this.jo(),this.gh()},M(n,[{key:"IJ",get:function(){return this.pJ}},{key:"NJ",get:function(){return this.pJ.filter(function(t){return!t.disabled})}}]),n}(XC);function kD(t){if(!t)return null;for(var n={CJ:"",DJ:"",OJ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.CJ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.CJ="mp4a.40.2":"mp4a.40.29"===s?n.CJ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.CJ=s:"ec-3"===s?n.CJ=s:0===s.indexOf("avc")?n.DJ=e:n.OJ+=","+s}return n}var pD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).xJ=void 0,h.VE=void 0,h._w=void 0,h.PJ=new JC,h.BJ=NaN,h.LJ=void 0,h.MJ=void 0,h.PH=void 0,h.UJ=void 0,h.FJ=void 0,h.HJ=!0,h.VJ=!0,h.XJ=!0,h.WJ=!1,h.qJ=null,h.zJ=!1,h.xJ=n,h.VE=i,h._w=r||0===r?r:-1,h.MJ=e,h.UJ=Boolean(s),h.FJ=Boolean(u),h.PH=o,h}F(n,t);var i=n.prototype;return i.GJ=function(t,n){var i=Wb(),r=new $C(t,this,n).compute(),e=this.jJ(t.fragments),s=e.oldFragments,u=e.newFragments;this.QJ(s,i),this.YJ(u,i,r),this.LJ!==t&&this.ZJ(!0),this.LJ=t,this.dispatchEvent({type:"JJ",$J:this}),this.dispatchEvent("renditionUpdated")},i.DZ=function(t){return this.PJ.dZ(t)},i.KJ=function(){var t=this.HJ;this.HJ=this.VJ&&this.XJ,t!==this.HJ&&this.dispatchEvent("EJ")},i.ZJ=function(t){this.VJ=t,this.KJ()},i.t$=function(t){this.XJ=t,this.KJ()},i.n$=function(t){this.VE=t,this.dispatchEvent("renditionUpdated")},i.i$=function(){null!==this.qJ&&a(this.qJ),this.dispatchEvent("SJ"),this.dispatchEvent("renditionUpdated")},i.r$=function(t){this.zJ=t,this.i$()},i.e$=function(){this.s$(3e4)},i.s$=function(t){var n=this;this.WJ=!0,this.i$(),this.qJ=h(function(){n.WJ=!1,n.i$()},t)},i.jJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.PJ._Z(s.hZ)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.QJ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.PJ.dZ(r.hZ);e.u$=gD(e.u$,r.u$),e.o$=r.o$||e.o$,e.h$=n}},i.YJ=function(t,n,i){var r=this.a$(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.Rp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.NZ+=n}}(r,i),this.c$(r)},i.a$=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.$J=this;var e=ie({},r);n.push(e)}return n},i.c$=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.PJ.vw(i),y(this.BJ)&&(this.BJ=i.hZ)}},i.Gv=function(){this.jo(),null!==this.qJ&&a(this.qJ)},M(n,[{key:"disabled",get:function(){return this.WJ||this.zJ},set:function(t){this.WJ=t,this.i$()}},{key:"$l",get:function(){return this._w}},{key:"uw",get:function(){return this.HJ}},{key:"uri",get:function(){return this.MJ||this.LJ&&this.LJ.uri},set:function(t){this.MJ=t,this.dispatchEvent("renditionUpdated")}},{key:"CZ",get:function(){return this.LJ}},{key:"IZ",get:function(){return this.PJ}},{key:"f$",get:function(){return this.LJ?this.LJ.live?this.LJ.duration<-60?hD.yJ:hD.mJ:hD.gJ:hD.Tv}},{key:"_s",get:function(){return this.VE},set:function(t){this.n$(t)}},{key:"i_",get:function(){return this.PH}},{key:"nT",get:function(){return this.UJ}},{key:"sJ",get:function(){return this.FJ||this.UJ}},{key:"v$",get:function(){return this.BJ}},{key:"d$",get:function(){return!!this.CZ}},{key:"nv",get:function(){return this.xJ}}]),n}(XC),AD=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=eD.hJ),(w=t.call(this,n,i,r,s,u,o,d)||this).l$=void 0,w._$=void 0,w.g$=void 0,w.w$=void 0,w.y$=void 0,w.m$=void 0,w.k$=void 0,w.p$=void 0,w.A$=void 0,w.xH=void 0,w.b$=void 0,w.T$=void 0,w.E$=void 0,w.S$=void 0,w.R$=void 0,w.I$=void 0,w.N$=null,w.C$=void 0,w.l$=Boolean(l),w.y$=e,w._$=kD(h),w.g$=g,w.k$=a,w.p$=c,w.m$=f,w.w$=v,w.xH=_,w}F(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.hZ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.D$[0]?t.D$[0].t_:eD.hJ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Ce(t.characteristics,"public.accessibility.describes-video")?eD.fJ:eD.hJ;if(t.characteristics&&Ce(t.characteristics,"public.accessibility.describes-video"))return eD.Xb;return eD.oJ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.O$=function(t){this._$="string"==typeof t?kD(t):t,this.dispatchEvent("renditionUpdated")},i.x$=function(t,n){return t?!n&&t.CJ&&t.DJ?oD.uJ:t.DJ?oD.Mv:t.CJ?oD.Lv:oD.Tv:oD.Tv},M(n,[{key:"P$",set:function(t){this.l$=t}},{key:"B$",get:function(){return this._$}},{key:"bandwidth",get:function(){return this.w$},set:function(t){this.w$=t,this.dispatchEvent("renditionUpdated")}},{key:"t_",get:function(){return this.xH}},{key:"resolution",get:function(){return this.m$},set:function(t){this.m$=t,this.dispatchEvent("renditionUpdated")}},{key:"L$",get:function(){return void 0!==this.g$?this.g$:this.x$(this._$,this.l$)}},{key:"hZ",get:function(){return this.k$}},{key:"CJ",get:function(){return this.p$}},{key:"M$",get:function(){return this.y$}},{key:"U$",get:function(){return this.A$},set:function(t){var n=this.A$;this.A$=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(pD);var bD=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).Hs=void 0,c.F$=null,c.H$=void 0,c.V$=function(){return c.X$()},c.Hs=h,c.H$=new wR(a,String(r),c._s,c.i_,void 0,V_.WEBVTT),c.nT&&(c.H$.c_=tl.o_),c}F(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Ce(t.characteristics,"public.accessibility.describes-music-and-sound"))return uy.Vb;return uy.Dk}(i))};var i=n.prototype;return i.GJ=function(n){t.prototype.GJ.call(this,n),this.X$()},i.Gv=function(){t.prototype.Gv.call(this),this.Rb=null},i.n$=function(n){t.prototype.n$.call(this,n),this.H$.n_=n},i.X$=function(){this.F$&&this.F$.W$(this,this.IZ)},M(n,[{key:"q$",get:function(){return this.H$}},{key:"Rb",get:function(){return this.F$},set:function(t){this.F$&&this.F$.removeEventListener("z$",this.V$),this.F$=t,this.X$(),this.F$&&this.F$.addEventListener("z$",this.V$)}},{key:"tJ",get:function(){return this.uri}},{key:"vo",get:function(){return this.Hs}}]),n}(pD),TD=function(t){function n(n,i){var r;(r=t.call(this)||this).Ea=void 0,r.G$=void 0,r.j$=["renditionUpdated","JJ","Q$"],r.Y$=null,r.Z$=null,r.J$=null,r.K$=null,r.tK=new mD,r.nK=new mD,r.iK=new mD,r.pg={},r.rK=void 0,r.eK=void 0,r.sK=null,r.dH=NaN,r.uK=void 0,r.oK=void 0,r.Xo=function(t){return r.dispatchEvent(t)},r.Ea=n,r.G$=i;var e=un(r);return r.uK=function(){e.hH(this)},r.oK=function(t){e.hK(this,t)},r}F(n,t);var i=n.prototype;return i.aK=function(t,n){var i=new bI(n);return i.c_=tl.u_,this.pg[i.$l]=i,this.dispatchEvent({type:"cK",dl:i}),i},i.fK=function(t,n,i){var r=new AI(i,"manifest");return r.c_=tl.u_,this.pg[r.$l]=r,this.dispatchEvent({type:"cK",dl:r}),r},i.vK=function(t,n){if(t){var i=t.l_,r=t.dK,e=t&&this.pg[r];e||(e=new bI(t.a_),this.pg[r]=e,e.c_=tl.u_,this.dispatchEvent({type:"cK",dl:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Kb(u)}}},i.lK=function(t){t&&(this.rK||(this.rK=new wR(uy.Vb,void 0,"CC1","en",!0,V_.CEA608),this.pg.CC1=this.rK,this.dispatchEvent({type:"cK",dl:this.rK})),this.rK.Kb(t))},i._K=function(t,n,i){var r=this.pg[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.l_.Vl;e<s.length;e++){var u=s[e];if(u.Dw>=i)break;n<u.Ow&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.qH(u)}}},i.gK=function(t,n){return this.wK(t,n)},i.yK=function(t){var n;return(n=this.mK(t,this.tK))?n:(n=this.mK(t,this.nK))?n:n=this.mK(t,this.iK)},i.Gv=function(){this.Zo(this.tK),this.tK.Gv(),this.Zo(this.nK),this.nK.Gv(),this.Zo(this.iK),this.iK.Gv(),this.pg={},this.rK=void 0,this.eK&&(this.eK.Gv(),this.eK=void 0),this.sK=null,this.dH=NaN,this.Y$=null,this.Z$=null,this.J$=null,this.K$=null,this.dispatchEvent("Gv")},i.kK=function(t){var n=AD.createFromUri(this,t.uri);this.Zo(this.nK),this.nK.vw(n),n.addEventListener("renditionUpdated",this.uK)},i.hH=function(t){var n=t.CZ,i=t.f$;if(y(this.dH)||hD.hg(i)){if(hD.Tv===i)return;if(!n)return;this.dH=n.duration,this.dispatchEvent("pK")}y(this.dH)||hD.gJ!==i||t.removeEventListener("renditionUpdated",this.uK)},i.AK=function(t){var n=this;this.Zo(this.tK),this.tK.gh(),this.Zo(this.nK),this.nK.gh(),this.iK.gh(),this.sK=t;for(var i=t.streams.map(function(t){return AD.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.CJ&&!Ce(t.CJ,"mp4a")&&!Ce(t.CJ,"mp3"))return!1;if(t.DJ&&!Ce(t.DJ,"avc1"))return!1;return!0}(t.B$)}),r=i.some(function(t){return t.B$&&t.B$.CJ}),e=i.some(function(t){return t.B$&&t.B$.DJ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.B$&&u.B$.CJ),h=Boolean(u.B$&&u.B$.DJ);r&&!o||e&&!h||(this.nK.vw(u),u.addEventListener("renditionUpdated",this.uK))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.G$){var e=bD.createFromPlaylistMedia(n,r);n.iK.vw(e),n.dispatchEvent({type:"cK",dl:e.q$})}break;case"closed-captions":break;case"audio":var s=n.nK.IJ.filter(function(t){return t.CJ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.P$=!0});var u=r.uri?oD.Lv:oD.uJ,o=AD.createFromPlaylistMedia(n,r,!1,u);n.tK.vw(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.bK=_D(this.D$.NJ)||null,this.dispatchEvent("TK")},i.mK=function(t,n){for(var i=0,r=n.IJ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.hK=function(t,n){this.dispatchEvent(ie({},n,{$J:t}))},i.EK=function(t){for(var n=0,i=t.IJ;n<i.length;n++)for(var r=i[n],e=0,s=this.j$;e<s.length;e++){var u=s[e];r.addEventListener(u,this.oK)}},i.Zo=function(t){for(var n=0,i=t.IJ;n<i.length;n++){i[n].Gv()}},i.SK=function(t,n){0!==t.length&&this.Ea.hlsDateRange&&(this.eK||(this.eK=new aD,this.dispatchEvent({type:"cK",dl:this.eK})),this.eK.zh(t,n))},i.RK=function(t,n){if(this.Z$!==t){var i=this.Z$;this.Z$=t,this.dispatchEvent({type:"IK",L$:"CJ",$J:this.Z$,NK:i,CK:n})}},i.wK=function(t,n){if(this.J$!==t){var i=this.J$;this.J$=t,t&&this.dispatchEvent({type:"IK",L$:"DJ",$J:this.J$,NK:i,CK:n})}},i.DK=function(t){for(var n=0,i=t.IJ;n<i.length;n++){var r=i[n];if(r.f$!==hD.Tv)return r.f$}return null},M(n,[{key:"vg",get:function(){return this.Y$},set:function(t){t&&(0===t.streams.length?this.kK(t):this.AK(t),this.Y$=t,this.EK(this.nK),this.EK(this.tK),this.dispatchEvent("xK"))}},{key:"PK",get:function(){return this.sK}},{key:"Z_",get:function(){return this.dH}},{key:"Rg",get:function(){var t=this,n=this.iK.IJ.map(function(t){return t.q$}),i=l.keys(this.pg).map(function(n){return t.pg[n]});return this.rK&&i.push(this.rK),this.eK&&i.push(this.eK),n.concat(i)}},{key:"bK",get:function(){return this.Z$},set:function(t){this.RK(t,!0)}},{key:"BK",get:function(){return this.J$},set:function(t){this.wK(t,!1)}},{key:"D$",get:function(){return this.tK}},{key:"LK",get:function(){return this.nK}},{key:"MK",get:function(){return this.iK.IJ}},{key:"f$",get:function(){var t;return null!==(t=this.Z$&&this.Z$.f$)&&t!==hD.Tv?t:null!==(t=this.J$&&this.J$.f$)&&t!==hD.Tv?t:null!==(t=this.DK(this.tK))?t:null!==(t=this.DK(this.nK))?t:hD.Tv}}]),n}(XC);var ED=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this).Ep=[],e.UK={},e.FK=void 0,e.HK=void 0,e.VK=void 0,e.fl=void 0,e.Xo=function(t){return e.dispatchEvent(t)},e.XK=function(t){e.WK(t)},e.qK=function(t){e.handleRenditionUpdated(t)},e.zK=function(t){for(var n=0,i=e.Ep;n<i.length;n++){i[n].GK.zK(t)}},e.FK=n,e.HK=i,e.VK=r,e.HK&&e.HK.addEventListener("IK",e.XK),e.VK&&(e.VK.addEventListener("renditionUpdated",e.qK),e.VK.addEventListener("jK",e.zK)),e.fl=(s=un(e),u=new XC,o={get length(){return s.Ep.length},enable:function(t){s.Ub(s.QK(t&&t.id)||t)},disable:function(t){s.Fb(s.QK(t&&t.id)||t)},item:function(t){return s.Ep[t]&&s.Ep[t].fl},getTrackByID:function(t){var n=s.QK(t);return n&&n.fl},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}F(n,t);var i=n.prototype;return i.QK=function(t){return this.UK[t]},i.Ml=function(t){for(var n=0,i=t.GK.r_;n<i.length;n++){var r=i[n];r.$l===this.YK()&&(r.Jw=!0)}t.addEventListener("enabledtrack",this.Xo),t.addEventListener("disabledtrack",this.Xo),this.Ep.push(t),this.UK[t.$l]=t,this.dispatchEvent({type:"addtrack",track:t.fl})},i.Ub=function(t){if(t){var n=this.UK[t.$l];if(n&&!n.Jl){for(var i=this.Ep.length-1;i>=0;i--)this.Ep[i].Fg();n.Ug()}}},i.Fb=function(t){},M(n,[{key:"ZK",get:function(){return this.YK()}}]),n}(XC);var SD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).JK=void 0,e.JK=NaN,e}F(n,t);var i=n.prototype;return i.YK=function(){return this.JK},i.WK=function(t){t.$K?this.KK(t.n0):t.i0&&this.KK(t.i0)},i.KK=function(t){t&&(this.JK=t.$l),this.Ep.forEach(function(n){return n.r0(t)})},i.handleRenditionUpdated=function(t){if(t.$J&&t.$J.L$===oD.Lv)for(var n=0,i=this.Ep;n<i.length;n++){i[n].e0(t)}},i.Ub=function(n){var i=n;if(!i){var r=this.Ep.filter(function(t){return t.nT});r.length>0&&(i=r[0])}t.prototype.Ub.call(this,i)},M(n,[{key:"vo",get:function(){return"audio"}}]),n}(ED),RD=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).s0=void 0,e.s0=NaN,e}F(n,t);var i=n.prototype;return i.YK=function(){return this.s0},i.WK=function(t){(t.u0||t.n0)&&(t.n0&&(this.s0=t.n0.$l),this.Ep.forEach(function(n){return n.r0(t.n0)}))},i.handleRenditionUpdated=function(t){if(t.$J&&(t.$J.L$===oD.Mv||t.$J.L$===oD.uJ))for(var n=0,i=this.Ep;n<i.length;n++){i[n].e0(t)}},M(n,[{key:"vo",get:function(){return"video"}}]),n}(ED);function ID(t,n){for(var i,r=n-(i=t?nt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function ND(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var CD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).$J=void 0,i.Jw=!1,i.o0=!0,i.fl=void 0,i.$J=n,i.Jw=!1,i.fl=(r=un(i),e=new XC,s={get bandwidth(){return r.$J&&r.$J.bandwidth},get averageBandwidth(){return r.$J&&r.$J.averageBandwidth},get codecs(){return r.B$},get resolution(){return r.h0},get frameRate(){return ND(r.a0,2)},get id(){return r.$l},get uri(){return r.$J&&r.$J.uri},get name(){return r._s},set name(t){r._s=t},get enabled(){return r.Jl},set enabled(t){r.Jl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}F(n,t);var i=n.prototype;return i.c0=function(t){var n=!!t&&this.$l===t.$l;this.Jw!==n&&(this.Jw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.fl}))},i.e0=function(t){return this.$J.$l===t.$J.$l&&(this.$J=t.$J,this.dispatchEvent({type:"qualityupdated",quality:this.fl}),!0)},M(n,[{key:"Jl",get:function(){return this.o0},set:function(t){this.o0=t,this.$J.r$(!t)}},{key:"t_",get:function(){return this.$J.t_}},{key:"h0",get:function(){return this.$J.resolution?{width:this.$J.resolution.width,height:this.$J.resolution.height}:{width:NaN,height:NaN}}},{key:"_s",get:function(){return this.$J._s},set:function(t){this.$J._s=t,this.dispatchEvent({type:"qualityupdated",quality:this.fl})}},{key:"$l",get:function(){return this.$J.$l}}]),n}(XC);var DD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"B$",get:function(){return this.$J.B$&&this.$J.B$.DJ||""}},{key:"a0",get:function(){return ND(Number(this.$J.U$),2)}}]),n}(CD),OD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"B$",get:function(){return this.$J.B$&&this.$J.B$.CJ||""}},{key:"a0",get:function(){return ND(Number(this.$J.C$),2)}}]),n}(CD),xD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).r_=void 0,r.f0=null,r.v0={},r.VK=void 0,r.fl=void 0,r.Xo=function(t){return r.dispatchEvent(t)},r.r_=n,r.VK=i;for(var h=r.r_.length-1;h>=0;h--){var a=r.r_[h];r.v0[a.$l]=a}return r.r_.forEach(function(t){return t.addEventListener("activequalitychanged",r.Xo)}),r.fl=(e=un(r),s=new XC,u={item:function(t){var n=e.Ll(t);return n&&n.fl},getQualitiesByIDs:function(t){return e.d0(t).map(function(t){return t.fl})},get length(){return e.r_.length},get activeQuality(){return e.Zl&&e.Zl.fl},get targetQuality(){return e.e_?1===e.e_.length?e.e_[0].fl:e.e_.map(function(t){return t.fl}):null},set targetQuality(t){if(t){var n=tt(t)?t:[t];e.e_=e.d0(n.map(function(t){return t.id}))}else e.e_=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}F(n,t);var i=n.prototype;return i.l0=function(t){return!!t&&this.r_.some(function(n){return n.$l===t.$l})},i._0=function(t,n){for(var i=0,r=this.r_;i<r.length;i++){r[i].c0(t)}},i.d0=function(t){var n=this;return t&&t.map(function(t){return n.v0[t]}).filter(function(t){return t})},i.g0=function(){for(var t=this.r_.length-1;t>=0;t--)this.r_[t].Jw=!1},i.zK=function(t){var n=this.VK.w0,i=this.d0(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].fl}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Ll=function(t){return this.r_[t]},M(n,[{key:"Zl",get:function(){for(var t=0,n=this.r_;t<n.length;t++){var i=n[t];if(i.Jw)return i}return null}},{key:"e_",get:function(){return this.f0},set:function(t){this.f0=this.y0(t)}}]),n}(XC);var PD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Ug=function(){this.VK&&(this.VK.JK=this.r_[0].$l)},i.Fg=function(t){this.VK&&(this.VK.JK=null)},i.y0=function(t){},n}(xD),BD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Ug=function(){if(this.y0(this.e_),this.VK){var t=this.VK.FK;if(!t)return;var n=Qe(t.m0.D$.IJ,function(t){return!t.uri});this.VK.JK=n?n.$l:null}},i._0=function(n,i){"video"===i&&t.prototype._0.call(this,n,i)},i.Fg=function(t){"video"===t&&this.g0()},i.y0=function(t){if(!this.VK)return this.e_;var n=t?this.d0(t.map(function(t){return t.$l})):null;if(n&&n.length>0){var i=n.map(function(t){return t.$l});return this.VK.w0=i,n}return t?this.e_:(this.VK.w0=null,null)},n}(xD),LD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).vo=void 0,r.GK=void 0,r.$l=void 0,r.yw=void 0,r._s=void 0,r.fl=void 0,r.vo=n,r.GK=i,r.$l=i.Ll(0).$l,r.yw=r.GK.r_.some(function(t){return t.Jw}),r._s=i.Ll(0).$J._s,r.fl=(e=un(r),s=new XC,{get id(){return e.$l},get enabled(){return e.Jl},get qualities(){return e.GK&&e.GK.fl},get language(){return e.i_},get default(){return e.nT},get name(){return e._s},set name(t){e._s=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}F(n,t);var i=n.prototype;return i.r0=function(t){var n=this.GK.l0(t);this.kw(n),this.GK._0(t,this.vo)},i.kw=function(t){this.yw!==t&&(t?(this.yw=!0,this.dispatchEvent({type:"enabledtrack",track:this.fl})):(this.yw=!1,this.dispatchEvent({type:"disabledtrack",track:this.fl})))},i.Ug=function(){this.yw||this.GK.Ug()},i.Fg=function(){this.yw&&this.GK.Fg(this.vo)},i.e0=function(t){t.$J.$l===this.$l&&(this._s=t.$J._s);for(var n=0,i=this.GK.r_;n<i.length;n++){i[n].e0(t)}},M(n,[{key:"Jl",get:function(){return this.yw}},{key:"i_",get:function(){return this.k0()}},{key:"t_",get:function(){return this.p0()}},{key:"nT",get:function(){var t="video"===this.vo,n=this.GK.r_&&this.GK.r_[0].$J.nT;return t||n}}]),n}(XC);var MD=function(t){function n(n){return t.call(this,"video",n)||this}F(n,t);var i=n.prototype;return i.p0=function(){return sD.hJ},i.k0=function(){return""},n}(LD),UD=function(t){function n(n){return t.call(this,"audio",n)||this}F(n,t);var i=n.prototype;return i.p0=function(){return this.GK.r_[0].$J.t_},i.k0=function(){return this.GK.r_[0].$J.i_||""},n}(LD),FD=function(){function t(t,n,i){var r=this;this.A0=void 0,this.b0=void 0,this.T0=void 0,this.E0=void 0,this.S0=function(){var t=r.A0;t.removeEventListener("R0",r.S0);var n=t.m0.LK.IJ,i=t.m0.D$.IJ,e=n.map(function(t){return new DD(t)});if(e.length>0){var s=new BD(e,r.b0);r.E0.Ml(new MD(s));var u=Qe(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new UD(s);u&&(h._s=u._s),r.T0.Ml(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new OD(c),v=new PD([f],r.b0);r.T0.Ml(new UD(v))}}},this.A0=t,this.b0=i,this.T0=new SD(t,n,i),this.E0=new RD(t,n,i),t&&(t.R0?this.S0():t.addEventListener("R0",this.S0))}return M(t,[{key:"Eg",get:function(){return this.T0}},{key:"Sg",get:function(){return this.E0}}]),t}(),HD=["loadedmetadata","durationchange","eh","$v","uw","I0"],VD=["N0","IK","C0","eh"],XD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).D0=null,h.MR=void 0,h.O0=void 0,h.x0=void 0,h.P0=void 0,h.HK=void 0,h.B0=void 0,h.FK=void 0,h.Sg=void 0,h.Eg=void 0,h.L0=[],h.M0=[],h.U0=function(t){return h.dispatchEvent(t)},h.F0=function(t){return h.H0(t)},h.V0=function(t){return h.X0(t)},h.MR=n.src,h.O0=n.type,h.x0=i,h.P0=r,h.B0=e,h.FK=s,h.HK=u,h.FK&&(h.FK.addEventListener("W0",h.U0),h.FK.addEventListener("q0",h.U0));var a=new FD(h.FK,h.HK,o);return h.Sg=a.Sg,h.Eg=a.Eg,h.UR=null,h.MR&&(h.HK&&h.HK.Hl(),h.FK&&(h.FK.z0=h.MR)),h}F(n,t);var i=n.prototype;return i.G0=function(t){this.HK&&this.HK.Wh(t),this.FK&&this.FK.j0(),this.UR&&this.Q0()},i.Y0=function(){this.HK&&this.HK.Y0(),this.FK&&this.FK.Z0()},i.J0=function(){if(this.FK)for(var t=0;t<HD.length;t++){var n=HD[t];this.FK.addEventListener(n,this.F0)}if(this.HK)for(var i=0;i<VD.length;i++){var r=VD[i];this.HK.addEventListener(r,this.V0)}},i.$0=function(){if(this.FK)for(var t=0;t<HD.length;t++){var n=HD[t];this.FK.removeEventListener(n,this.F0)}if(this.HK)for(var i=0;i<VD.length;i++){var r=VD[i];this.HK.removeEventListener(r,this.V0)}},i.Q0=function(){if(this.FK&&this.L0.length){var t=this.L0.slice();Ke(this.L0);for(var n=0;n<t.length;n++){var i=t[n];this.FK.dispatchEvent(i)}}if(this.HK&&this.M0.length){var r=this.M0.slice();Ke(this.M0);for(var e=0;e<r.length;e++){var s=r[e];this.HK.dispatchEvent(s)}}},i.H0=function(t){this.L0.push(t)},i.X0=function(t){this.M0.push(t)},i.Gv=function(){this.dispatchEvent("Gv"),this.jo(),this.HK&&this.HK.Gv(),this.B0&&this.B0.Gv(),this.FK&&this.FK.Gv(),this.D0=null,Ke(this.L0),Ke(this.M0)},M(n,[{key:"UR",get:function(){return this.D0},set:function(t){this.$0(),this.D0=t,this.UR?this.dispatchEvent("ia"):this.J0()}}]),n}(XC),WD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).A0=null,n.Xo=function(t){n.dispatchEvent(t,!0)},n}return F(n,t),M(n,[{key:"JK",get:function(){var t=this.A0&&this.A0.m0.bK;return t?t.$l:null},set:function(t){var n;this.A0&&(n=null===t?_D(this.A0.m0.D$.IJ):this.A0.m0.D$.IJ.filter(function(n){return t===n.$l}).shift(),this.A0.m0.bK=n||null)}},{key:"w0",get:function(){return this.A0&&this.A0.K0||null},set:function(t){this.A0&&(this.A0.n1(t),this.dispatchEvent("jK"))}},{key:"FK",get:function(){return this.A0},set:function(t){this.A0&&(this.A0.m0.removeEventListener("xK",this.Xo),this.A0.m0.removeEventListener("renditionUpdated",this.Xo),this.A0.m0.removeEventListener("TK",this.Xo)),this.A0=t,this.A0&&(this.A0.m0.addEventListener("xK",this.Xo),this.A0.m0.addEventListener("renditionUpdated",this.Xo),this.A0.m0.addEventListener("TK",this.Xo))}}]),n}(XC),qD=function(){function t(){}var n=t.prototype;return n.i1=function(t){return E.resolve(!1)},n.e1=function(t){return E.reject(zD)},n.s1=function(t){return E.reject(zD)},n.vh=function(t){return E.resolve(!1)},n.dh=function(t){return E.resolve(void 0)},n.vZ=function(t,n){return E.resolve(void 0)},n.u1=function(t){return E.resolve([])},n.o1=function(){return E.resolve([])},n.h1=function(t){return E.resolve([])},n.a1=function(t,n){return E.resolve([])},n.qh=function(t){return E.reject(zD)},n.c1=function(t){return E.reject(zD)},n.f1=function(){return E.reject(zD)},t}(),zD="Storage disabled",GD=function(){function t(){this.v1=void 0,this.d1=void 0,this.l1=void 0,this._1=void 0,this.g1=void 0,this.v1=new qD,this.d1=new qD,this.l1=new qD,this._1=new qD,this.g1=new qD}return t.GQ=function(){return E.resolve(new t)},t.prototype.w1=function(t){return E.reject(jD)},t}(),jD="Storage disabled",QD=function(){function t(t){var n=this;this.Po=new Qu,this.m1=void 0,this.Po.Rh(t),this.Po.Sh.then(function(t){n.m1=t})}var n=t.prototype;return n.i1=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.i1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.e1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.e1(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.s1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.s1(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.vh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.dh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vZ=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.vZ(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.u1=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.u1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.o1=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.o1());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.h1=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.h1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.a1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.a1(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.qh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.qh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.c1=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.c1(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.f1=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.m1,t.t0){t.next=5;break}return t.next=4,this.A1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.f1());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"A1",get:function(){return this.Po.Sh}}]),t}(),YD=function(){function t(t){var n=this;this.Po=new Qu,this.b1=void 0,this.d1=void 0,this.v1=void 0,this.l1=void 0,this._1=void 0,this.g1=void 0,this.Po.Rh(t);var i=this.Po.Sh;i.then(function(t){n.b1=t}),this.d1=new QD(i.then(function(t){return t.d1})),this.v1=new QD(i.then(function(t){return t.v1})),this.l1=new QD(i.then(function(t){return t.l1})),this._1=new QD(i.then(function(t){return t._1})),this.g1=new QD(i.then(function(t){return t.g1}))}return t.prototype.w1=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.b1,t.t0){t.next=5;break}return t.next=4,this.T1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.w1(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"T1",get:function(){return this.Po.Sh}}]),t}(),ZD=function(){function t(){this.E1=[]}var n=t.prototype;return n.i1=function(t){return E.resolve("temporary"===t)},n.e1=function(t){return this.S1(t.key),this.E1.push(t),E.resolve()},n.s1=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.S1(i.key)}for(var r=0;r<t.length;r++){var e=t[r];this.E1.push(e)}return E.resolve()},n.vh=function(t){return E.resolve(Boolean(this.R1(t)))},n.dh=function(t){return E.resolve(this.R1(t))},n.vZ=function(t,n){return E.resolve(this.I1(t,n))},n.u1=function(t){var n=this,i=t?t.map(function(t){return n.R1(t)}):this.E1;return E.resolve(i.filter(K))},n.o1=function(){return E.resolve([].concat(this.E1))},n.h1=function(t){return this.a1(t,"key")},n.a1=function(t,n){var i=this.E1.filter(function(i){return i[n]===t});return E.resolve(i)},n.qh=function(t){return this.S1(t),E.resolve()},n.c1=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.S1(i)}return E.resolve()},n.f1=function(){return Ke(this.E1),E.resolve()},n.R1=function(t){return this.I1(t,"key")},n.I1=function(t,n){for(var i=0,r=this.E1;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.S1=function(t){var n=this.R1(t);n&&Ze(this.E1,n)},t}(),JD=function(){function t(){this.v1=void 0,this.d1=void 0,this.l1=void 0,this._1=void 0,this.g1=void 0,this.v1=new ZD,this.d1=new ZD,this.l1=new ZD,this._1=new ZD,this.g1=new ZD}return t.GQ=function(){return E.resolve(new t)},t.prototype.w1=function(t){return t(this)},t}(),$D=function(){function t(t){this.N1=t}var n=t.prototype;return n.i1=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.N1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.i1(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.e1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.N1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.i1(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.e1(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.s1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.N1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.i1(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.s1(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.vh=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.N1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.vh(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dh=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.N1;case 1:if(!(i<r.length)){t.next=11;break}return e=r[i],t.next=5,e.dh(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vZ=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.N1;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.vZ(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.u1=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.N1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.u1(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.o1=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.N1;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.o1();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.h1=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.N1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.h1(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.a1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.N1;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.a1(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.qh=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.N1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.qh(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.c1=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.N1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.c1(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.f1=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.N1;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.f1();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function KD(t){return E.coroutine(ne.mark(function n(){var i;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",tO.GQ(i));case 4:case"end":return n.stop()}},n)}))}var tO=function(){function t(t){this.C1=void 0,this.D1=void 0,this.O1=void 0,this.P1=void 0,this.B1=void 0,this.L1=void 0,this.C1=t,this.D1=new $D(t.map(function(t){return t._1})),this.O1=new $D(t.map(function(t){return t.g1})),this.P1=new $D(t.map(function(t){return t.l1})),this.B1=new $D(t.map(function(t){return t.v1})),this.L1=new $D(t.map(function(t){return t.d1}))}return t.GQ=function(n){return E.resolve(new t(n))},t.prototype.w1=function(n){var i=this;if(0===this.C1.length)return n(this);var r=[],e=0;return this.C1[e].w1(function s(u){return r.push(u),++e<i.C1.length?i.C1[e].w1(s):n(new t(r))})},M(t,[{key:"_1",get:function(){return this.D1}},{key:"g1",get:function(){return this.O1}},{key:"l1",get:function(){return this.P1}},{key:"v1",get:function(){return this.B1}},{key:"d1",get:function(){return this.L1}}]),t}(),nO=function(){function t(t){this.M1=void 0,this.U1=[],this.F1=!0,this.M1=t}var n=t.prototype;return n.GQ=function(){return new YD(this.H1())},n.H1=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.F1){t.next=4;break}return t.next=3,E.resolve();case 3:this.F1=!1;case 4:n=0,i=this.U1;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,KD([JD.GQ,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,KD([JD.GQ,this.M1])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.BL=function(t){if(!this.F1)throw new v("Registration overdue");this.U1.push(t)},t}(),iO=function(){function t(){}return t.BL=function(n){t.aS.BL(n)},M(t,null,[{key:"ts",get:function(){return t.V1||(t.V1=t.aS.GQ()),t.V1}}]),t}();function rO(t){return Bf(t)}function eO(t,n){var i=Bf(t);return n?""+i+n:""+i}function sO(t,n,i,r,e,s,u,o){var h=new Jo;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Df({Av:t,wv:i,gv:h,Wv:s,Fv:Sf.GET,vo:Rf.Sv,Vv:r,Xv:e,Uo:u,qv:o})}iO.aS=new nO(GD.GQ),iO.V1=void 0;var uO=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).Up=void 0,a.tJ=void 0,a.wv=void 0,a.Vv=void 0,a.Xv=void 0,a.X1=void 0,a.Qb=void 0,a.W1=void 0,a.q1=void 0,a.JD=void 0,a.z1=void 0,a.ud=null,a.G1=void 0,a.sv=new us,a.j1=function(t,n){return a.qv(t,n)},a.Up=n,a.tJ=i,a.wv=r,a.Vv=e,a.Xv=s,a.X1=u,a.JD=o,a.z1=new hO,a.Qb=h,a.W1=iO.ts.v1,a.q1=iO.ts.d1,a}F(n,t);var i=n.prototype;return i.iI=function(){return this.Q1(this.sv.Uo)},i.Q1=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return fD(i=this.tJ)?(r=i.tJ,e=[i.nJ.iI,i.nJ.eI]):(r=i,e=void 0),this.z1.Y1(),t.prev=3,t.next=6,this.Z1(r,e);case 6:if(s=t.sent,as(n),s){t.next=12;break}return t.next=11,this.J1(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Us();case 14:u=t.sent,as(n),this.K1(u,s._v),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!hs(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Wf?t.t0.ud._v:0,o=new v('Could not load fragment: "'+this.tJ+'", HTTP status '+h);case 27:return t.abrupt("return",this.n2(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.Z1=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=eO(n,i),t.next=4,this.W1.vh(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.q1.dh(r);case 7:return e=t.sent,s=sO(n,i,this.wv,this.Vv,this.Xv,this.X1),u=e.data.buffer,t.abrupt("return",new Cf({Us:u,gv:{},kv:s,pv:n,wv:this.wv,_v:200,yv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.J1=function(t,n,i){var r=sO(t,n,this.wv,this.Vv,this.Xv,this.X1,i,this.j1);return this.Qb.kv(r)},i.qv=function(t,n){var i={type:"I0",kv:this,i2:t,e2:n=void 0===n?NaN:n};this.z1.s2(t,n),this.dispatchEvent(i)},i.K1=function(t,n){var i=this.wv===Zo.Lc?t.byteLength:0;this.z1.u2(i),this.wv===Zo.us?this.ud=t:this.ud=new m(t),this.G1=n,t=null,this.n2(),this.ud=null},i.Bo=function(t){return this.sv.Bo(),t||((t=new v('Aborted fragment load: "'+this.tJ+'"')).aborted=!0),this.n2(t)},i.n2=function(t){this.z1.o2();var n={type:"Dg",kv:this};return this.dispatchEvent(n),this.JD(t||null,this)},n}(XC);function oO(){return Wb()/1e3}var hO=function(t){function n(){var n;return(n=t.call(this)||this).h2=NaN,n.a2=NaN,n.c2=NaN,n.f2=NaN,n.v2=0,n.d2=NaN,n.h2=oO(),n}F(n,t);var i=n.prototype;return i.Y1=function(){this.h2=oO(),this.dispatchEvent("zh")},i.s2=function(t,n){this.c2=oO(),this.W0||(this.a2=this.c2),this.v2=t,this.d2=n||this.d2||NaN,this.dispatchEvent("zh")},i.u2=function(t){this.s2(t,t)},i.o2=function(){this.f2=oO(),this.dispatchEvent("zh")},M(n,[{key:"W0",get:function(){return!y(this.a2)}},{key:"l2",get:function(){return!y(this.f2)}},{key:"fg",get:function(){return(this.a2||oO())-this.h2}},{key:"_2",get:function(){return(this.f2||this.c2)-this.a2}},{key:"g2",get:function(){return(this.f2||this.c2)-this.h2}}]),n}(XC),aO=function(t){function n(n,i){var r;return(r=t.call(this)||this).X1=void 0,r.w2=[],r.m2=null,r.A2=function(t){return r.b2(t)},r.Qb=void 0,r.X1=!(!i||i.crossOrigin!==gl.B_),r.Qb=n,r}F(n,t);var i=n.prototype;return i.Wh=function(t,n,i,r,e,s){var u=new uO(t,n,i,r,e,this.X1,s,this.Qb);return u.addEventListener("Dg",this.A2),this.w2.push(u),this.T2(),u},i.E2=function(t,n,i,r,e){var s=this;return new E(function(u,o){s.Wh(t,n,i,r,e,function(t,n){t?o(t):u(n.ud)})})},i.gh=function(t,n){var i=function(t){return!n||t.Up===n},r=this.w2.filter(i);!t&&this.m2&&i(this.m2)&&r.push(this.m2);for(var e=0;e<r.length;e++){r[e].Bo()}return r},i.T2=function(){if(!this.m2){var t=this.w2.shift();t&&(this.m2=t,t.iI())}},i.b2=function(t){var n=t.kv,i=this.w2.indexOf(n);-1!==i&&Je(this.w2,i),this.m2===n&&(this.m2=null,this.T2())},n}(XC);function cO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function fO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function vO(t,n){return jo([t],{type:n})}var dO="iframe.html",lO=0,_O=k&&(k.bind&&k.bind(k)||k),gO=function(t){function n(n){var i;return(i=t.call(this)||this).S2=void 0,i.R2=[],i.I2=!1,i.Xo=function(t){return i.dispatchEvent(t)},n&&i.ia(n),i}F(n,t);var i=n.prototype;return i.postMessage=function(t){this.I2||(this.S2?this.S2.postMessage(t):this.R2.push(t))},i.ia=function(t){if(this.I2)t.terminate();else{this.S2=t,this.S2.addEventListener("message",this.Xo,!1),this.S2.addEventListener("error",this.Xo,!1);for(var n=0,i=this.R2;n<i.length;n++){var r=i[n];this.S2.postMessage(r)}this.R2.length=0}},i.terminate=function(){this.jo(),this.I2=!0,this.R2.length=0,this.S2&&(this.S2.removeEventListener("message",this.Xo,!1),this.S2.removeEventListener("error",this.Xo,!1),this.S2.terminate(),this.S2=void 0)},n}(XC);var wO=function(n){function i(i,r,e){var u,o,h;return(u=n.call(this)||this).$l=void 0,u.N2=void 0,u.C2=void 0,u.D2=void 0,u.O2=void 0,u.P2=function(){return u.B2()},u.L2=function(t){return u.M2(t)},u.$l=i,u.N2=r,u.C2=(o=e+dO,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.D2=u.C2.contentWindow,u.O2=Hf(e),u.C2.addEventListener("load",u.P2),t.addEventListener("message",u.L2),u}F(i,n);var r=i.prototype;return r.B2=function(){this.C2.removeEventListener("load",this.P2),this.D2.postMessage({type:"initialize",id:this.$l,script:this.N2},"*")},r.M2=function(t){Hf(t.origin)===this.O2&&t.data.id===this.$l&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.D2.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.C2.removeEventListener("load",this.P2),t.removeEventListener("message",this.L2),this.D2.postMessage({type:"terminate"},"*"),this.C2.parentNode.removeChild(this.C2)},i}(XC);function yO(){return(yO=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=T.sl,t.prev=1,e=new Df({Av:n,Fv:Sf.GET,wv:Zo.us}),t.next=5,r.kv(e);case 5:return s=t.sent,t.next=8,s.Us();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new v("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Wf?t.t0.ud._v:-1,i({Nh:h,eh:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function mO(t,n){function i(i){return e(),rt(r=i.data)&&"3.1.1"===r.U2?n(void 0,t):n(new v("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function kO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new _O(t)}catch(t){return n({message:t.message})}return mO(i,n)}var pO=!0;function AO(t,n){var i=lO++,r=t+n,e=new gO;function u(){!function(t,n,i,r){var e;function u(){h(),mO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new wO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.ia(n),i&&e.dispatchEvent(i))}return kO(r,function(t,n,i){t?function(t,n){yO.apply(this,arguments)}(r,function(t,n){t?t.Nh>=400?o(t.eh):u():n&&function(t,n){if(!pO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});kO(cO(vO(t,"application/javascript")),function(t,i,r){return t&&(pO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function bO(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function TO(t){return{get length(){return t.length},start:function(n){return bO(t,n|=0),t.start(n)},end:function(n){return bO(t,n|=0),t.end(n)}}}function EO(t,n){return t.iI-n.iI}var SO=function(){function t(t){this.F2=void 0,this.F2=t}var n=t.prototype;return n.start=function(t){return this.F2[t].iI},n.end=function(t){return this.F2[t].eI},n.H2=function(){return this.F2},M(t,[{key:"length",get:function(){return this.F2.length}}]),t}(),RO=new SO([]),IO=new SO([{iI:-1/0,eI:1/0}]);function NO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({iI:e,eI:s}),e=o,s=h))}return r.push({iI:e,eI:s}),new SO(r)}(function(t){var n=PO(t);return n.sort(EO),new SO(n)}(t),n)}function CO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=_.max(t.start(r),n.start(e)),u=_.min(t.end(r),n.end(e));s<u&&i.push({iI:s,eI:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new SO(i)}function DO(t){var n=t.length;if(!n)return IO;var i=[],r=t.start(0);r!==-1/0&&i.push({iI:-1/0,eI:r});for(var e=0;e<n-1;e+=1)i.push({iI:t.end(e),eI:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({iI:s,eI:1/0}),new SO(i)}function OO(t,n){return-1!==xO(t,n)}function xO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function PO(t){if(t instanceof SO)return t.H2();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({iI:t.start(i),eI:t.end(i)});return n}function BO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(PO)),NO(new SO(e));var i,r,e}var LO=.001;function MO(t,n,i){return i=+i||0,t.iI-i<=n.eI&&n.iI<=t.eI+i}function UO(t){var n={iI:NaN,eI:NaN,IZ:t};return FO(n),n}function FO(t){var n=t.IZ;n.length?(n.sort(EO),t.iI=n[0].iI,t.eI=n[n.length-1].eI):(t.iI=NaN,t.eI=NaN)}function HO(t){return void 0!==t.IZ}function VO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=_.max(s.iI,n),o=_.min(s.eI,i);if(u<o){var h=void 0;h=s.iI===u&&s.eI===o?s:{iI:u,eI:o,Gp:s.Gp},r.push(h)}}return r}function XO(t,n){var i=_.min(t.iI,n.iI),r=_.max(t.eI,n.eI),e=t.IZ,s=n.IZ,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.Gp===h.Gp&&MO(o,h,LO)&&u.splice(e.length-1,2,function(t,n){var i=t.Gp||n.Gp;return{iI:_.min(t.iI,n.iI),eI:_.max(t.eI,n.eI),Gp:i}}(o,h)),UO(u=VO(u,i,r))}var WO,qO,zO,GO=function(){function t(t,n){this.F2=void 0,this.F2=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;HO(r)?FO(e=r):e=UO([r]),e.IZ.length&&e.iI<e.eI&&n.push(e)}return n}(t),n||this.V2()}var n=t.prototype;return n.start=function(t){return this.F2[t]&&this.F2[t].iI},n.end=function(t){return this.F2[t]&&this.F2[t].eI},n.IZ=function(t){return this.F2[t]&&this.F2[t].IZ},n.X2=function(t,n){return this.W2(t,t,n)},n.W2=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.q2=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.z2=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.G2=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.dw=function(t){return-1!==this.X2(t)},n.EI=function(t,n,i){return-1!==this.W2(t,n,i)},n.RI=function(t,n,i){return-1!==this.q2(t,n,i)},n._I=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=_.max(this.start(i),t.start(r)),s=_.min(this.end(i),t.end(r));if(e<s){var u=VO(this.IZ(i),e,s);n.push(UO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.GQ(n,!0)},n.Ey=function(t){return this.length&&t.length?this._I(DO(t)):this},n.pI=function(t){return this.length?t.length?this.GQ(this.F2.concat(t.F2)):this:t},n.j2=function(t){for(var n=[],i=0,r=this.F2;i<r.length;i++)for(var e=0,s=r[i].IZ;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.GQ(n)},n.CI=function(t){return this.j2(function(n){return t(n)?n:null})},n.Q2=function(){if(!this.length)return this;for(var t=this.F2.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.Y2(i,r)&&(t.splice(n,2,XO(i,r)),n-=1)}return this.GQ(t,!0)},n.Y2=function(t,n){var i=t.IZ,r=n.IZ,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.Z2(e,s)},n.V2=function(){var t=this.F2;t.sort(EO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&MO(i,r,LO)&&(t.splice(n,2,XO(i,r)),n-=1)}},M(t,[{key:"length",get:function(){return this.F2.length}}]),t}(),jO=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.GQ=function(t,i){return new n(t,i)},i.Z2=function(t,n){return n.Gp.$J===t.Gp.$J&&n.Gp.hZ===t.Gp.hZ+1},n}(GO);function QO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.J2(e),u=t.K2(e,s);i.push({iI:s.ly(),eI:u.ly(),Gp:e})}return new jO(i).Q2()}function YO(t){return t.t3!==WO.n3}function ZO(t){return 0===t.t3}function JO(t){return t.t3>=0}function $O(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.IZ(r);s<u.length;s++){var o=u[s];if(!e){var h=o.Gp;if(vD(h)&&YO(h)){if((e=JO(h))&&!ZO(h)){var a=t.i3(h,h.r3).ly();o={iI:_.max(o.iI,a),eI:o.eI,Gp:h}}}else e=!0;0}e&&i.push(o)}return new jO(i)}(qO=WO||(WO={})).n3=-1,qO.e3=-2,function(t){t.s3="h.264",t.u3="mp3",t.o3="aac-lc",t.h3="he-aac"}(zO||(zO={}));var KO,tx,nx,ix,rx=function(){function t(){this.a3=0,this.F2=[],this.Ob={}}var n=t.prototype;return n.c3=function(t){this.F2=this.F2.concat(t.F2),this.a3+=t.Xl},n.f3=function(t,n,i){var r=this.a3,e=i-n;e>0&&(this.F2.push({v3:n,d3:i,l3:e,_3:r,g3:t}),this.a3+=e)},n.dh=function(t){for(var n=0,i=this.F2;n<i.length;n++){var r=i[n];if(r._3<=t&&t<r._3+r.l3)return r.g3[t+r.v3-r._3]}},n.w3=function(t,n){for(var i=n,r=0,e=this.F2;r<e.length;r++)for(var s=e[r],u=s.d3,o=s.v3;o<u;o+=1,i+=1)t[i]=s.g3[o];return i},n.y3=function(){for(var t=new m(this.a3),n=0,i=0,r=this.F2;i<r.length;i++)for(var e=r[i],s=e.d3,u=e.v3;u<s;u+=1,n+=1)t[n]=e.g3[u];return t},n.ph=function(n){for(var i=new t,r=0,e=this.F2;r<e.length;r++){var s=e[r];i.f3(s.g3,s.v3,s.d3)}return i.Ob=n||ie({},this.Ob),i},M(t,[{key:"Xl",get:function(){return this.a3},set:function(t){var n=this.F2,i=this.a3-t;if(!(t>=this.a3))if(this.a3=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.l3)return e.d3-=i,e.l3-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.l3}else n.length=0}},{key:"Us",get:function(){for(var t=new Array(this.a3),n=0,i=0,r=this.F2;i<r.length;i++)for(var e=r[i],s=e.d3,u=e.v3;u<s;u+=1,n+=1)t[n]=e.g3[u];return t}}]),t}();function ex(t,n){return{audio:t.audio?fx(t.audio,n):void 0,video:t.video?wx(t.video,n):void 0,m3:t.m3?(i=t.m3,{A3:i.A3,dK:i.dK,a_:i.a_,b3:i.b3,T3:i.T3,E3:i.E3,S3:i.S3.map(sx),l_:[]}):void 0,R3:t.R3?t.R3.map(ox):t.R3,I3:t.I3.Cm()};var i}function sx(t){return{rp:t.rp,Ob:{N3:t.Ob.N3,C3:t.Ob.D3.Cm()},hV:t.hV}}function ux(t){return{rp:t.rp,Ob:{N3:t.Ob.N3,D3:Dg(t.Ob.C3)},hV:t.hV}}function ox(t){return{D3:t.D3.Cm(),jA:t.jA,bj:t.bj,Aj:t.Aj,vo:t.vo,O3:t.O3,Tj:t.Tj,Ej:t.Ej}}function hx(t){return{D3:Dg(t.D3),jA:t.jA,bj:t.bj,Aj:t.Aj,vo:t.vo,O3:t.O3,Tj:t.Tj,Ej:t.Ej}}function ax(t){return{A3:t.A3,hV:[],x3:t.x3,P3:t.P3,duration:t.duration,B3:t.B3,L3:t.L3.Cm(),M3:t.M3,U3:t.U3.Cm(),F3:t.F3,H3:t.H3.Cm(),V3:t.V3.Cm(),X3:t.X3.Cm(),W3:t.W3.Cm(),q3:t.q3.Cm(),z3:t.z3.Cm(),G3:t.G3.Cm()}}function cx(t){return{A3:t.A3,hV:[],x3:t.x3,P3:t.P3,duration:t.duration,B3:t.B3,L3:Dg(t.L3),M3:t.M3,U3:Dg(t.U3),F3:t.F3,H3:Dg(t.H3),V3:Dg(t.V3),X3:Dg(t.X3),W3:Dg(t.W3),q3:Dg(t.q3),z3:Dg(t.z3),G3:Dg(t.G3)}}function fx(t,n){switch(t.x3){case zO.o3:case zO.h3:return function(t,n){return ie({},dx(t),{x3:t.x3,hV:t.hV.map(function(t){return function(t,n){var i=(r=t.Ob,ie({},kx(r),{j3:r.j3,Q3:r.Q3,Y3:r.Y3}));var r;return _x(t.ph(i),n)}(t,n)}),N$:t.N$,Z3:t.Z3})}(t,n);case zO.u3:return function(t,n){return ie({},dx(t),{x3:t.x3,hV:t.hV.map(function(t){return function(t,n){var i=(r=t.Ob,ie({},kx(r),{ap:r.ap,Fp:r.Fp,J3:r.J3,K3:r.K3,t4:r.t4}));var r;return _x(t.ph(i),n)}(t,n)})})}(t,n)}}function vx(t){switch(t.x3){case zO.o3:case zO.h3:return function(t){return ie({},lx(t),{x3:t.x3,hV:t.hV.map(function(t){return function(t){var n=gx(t),i=(r=n.Ob,ie({},px(r),{j3:r.j3,Q3:r.Q3,Y3:r.Y3}));var r;return n.ph(i)}(t)}),N$:t.N$,Z3:t.Z3})}(t);case zO.u3:return function(t){return ie({},lx(t),{x3:t.x3,hV:t.hV.map(function(t){return function(t){var n=gx(t),i=(r=n.Ob,ie({},px(r),{ap:r.ap,Fp:r.Fp,J3:r.J3,K3:r.K3,t4:r.t4}));var r;return n.ph(i)}(t)})})}(t)}}function dx(t){return ie({},ax(t),{hV:[],x3:t.x3,n4:t.n4,i4:t.i4,r4:t.r4,e4:t.e4})}function lx(t){return ie({},cx(t),{hV:[],x3:t.x3,n4:t.n4,i4:t.i4,r4:t.r4,e4:t.e4})}function _x(t,n){var i=t.y3();return n.push(i.buffer),{s4:i,u4:t.Xl,o4:t.Ob}}function gx(t){var n=new rx;return n.f3(t.s4,0,t.u4),n.Ob=t.o4,n}function wx(t,n){return ie({},ax(t),{x3:t.x3,hV:t.hV.map(function(t){return function(t,n){var i=(r=t.Ob,ie({},yx(r),{Z_:r.Z_,h4:r.h4.Cm(),a4:r.a4,c4:r.c4,f4:r.f4&&r.f4.Cm(),v4:r.v4&&r.v4.Cm(),d4:r.d4,l4:r.l4,R3:r.R3,_4:r._4}));var r;return _x(t.ph(i),n)}(t,n)}),g4:t.g4,w4:t.w4,EA:t.EA,width:t.width,height:t.height,y4:t.y4,m4:t.m4,A4:t.A4,b$:t.b$,T$:t.T$,MA:t.MA,UA:t.UA})}function yx(t){var n;return ie({},{N3:(n=t).N3,C3:n.C3.Cm()},{b4:t.b4.Cm(),T4:t.T4.Cm()})}function mx(t){var n;return ie({},{N3:(n=t).N3,C3:Dg(n.C3)},{b4:Dg(t.b4),T4:Dg(t.T4)})}function kx(t){return ie({},yx(t))}function px(t){return ie({},mx(t))}function Ax(t){var n=t.video,i=n&&n.hV;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Ob.d4)return r}return NaN}function bx(t){var n=t.E4.video,i=n&&n.hV;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Ob.d4)return r}return NaN}function Tx(t){if(!t)return null;switch(t.x3){case zO.s3:return function(t){return t.EA?"avc1."+(t.y4<16?"0":"")+((t.y4<<16)+(t.m4<<8)+t.A4).toString(16):null}(t);case zO.u3:return"mp4a.40.34";case zO.o3:return t.Z3?"mp4a.40.5":"mp4a.40.2";case zO.h3:return"mp4a.40.5";default:return null}}function Ex(t,n){var i=t.info,r=i.$J,e=t.E4,s=r.DZ(t.info.hZ-1),u=e.audio||void 0,o=e.video||void 0,h=u&&Tx(u),a=o&&Tx(o),c=(!u||h)&&(!o||a)?{CJ:h,DJ:a}:null,f=u&&!y(u.F3)?u.F3:null,v=o&&!y(o.F3)?o.F3:null,d=Vg(u&&u.V3,o&&o.V3),l=Vg(u&&u.X3,o&&o.X3),g=Xg(u&&u.z3,o&&o.z3),w=Xg(u&&u.G3,o&&o.G3),m=o&&o.L3.vw(Ng.ym(o.duration)),k=u&&u.L3.vw(Ng.ym(u.duration)),p=vD(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),S4:i,duration:m&&k?Ng.fm(m,k).ly():(m||k||Ng.Py).ly(),R4:d,I4:l,N4:g,C4:w,audio:{start:_.max(0,f||0),duration:u&&u.B3||0,x3:h,a0:u&&u.M3,R4:u&&u.V3,I4:u&&u.X3,N4:u&&u.z3,C4:u&&u.G3},video:{start:_.max(0,v||0),duration:o&&o.B3||0,x3:a,a0:o&&o.M3,R4:o&&o.V3,I4:o&&o.X3,N4:o&&o.z3,C4:o&&o.G3},YB:o?{width:o.width||A,height:o.height||b}:null,hZ:i.hZ,size:n,quality:r,B$:c,D4:i.D4,O4:i.O4}}function Sx(t,n){var i,r,e,s,u={start:0,duration:0,x3:null,a0:null,R4:null,I4:null,N4:null,C4:null};return"CJ"===n?(r=u,e=i=ie({},u,t.video),s=t.YB):(r=i=ie({},u,t.audio),e=u,s=null),{start:i.start,S4:t.S4,duration:i.duration,R4:i.R4,I4:i.I4,N4:i.N4,C4:i.C4,audio:r,video:e,YB:s,hZ:t.hZ,size:t.size,quality:t.quality,B$:t.B$,D4:t.D4,O4:t.O4}}function Rx(t,n){return t+"x4"+n.hZ+"P4"+n.uri}!function(t){t.B4="L4",t.M4="U4"}(KO||(KO={})),function(t){t.F4="H4",t.nZ="V4"}(tx||(tx={})),function(t){t.X4="W4",t.M4="U4"}(nx||(nx={})),function(t){t.q4="z4",t.G4="j4"}(ix||(ix={}));var Ix=function(t){function n(n){var i;return(i=t.call(this)||this).Ea=void 0,i.Q4=ee(),i.Y4=void 0,i.Z4=void 0,i.J4=function(t){var n=t.data,r=n.K4;if(i.Q4.get(r))switch(n.t5){case tx.F4:0;var e=n.n5;i.i5(r,e);break;case tx.nZ:var s=n.r5;i.e5(r,new zC(qC.JY,{code:s}));default:0}},i.s5=function(t){var n,r,e,s,u=t.data,o=u.u5;if(i.Q4.get(o))switch(u.o5){case ix.q4:0;var h=u.h5;i.a5(o,{audio:(n=h).audio?vx(n.audio):void 0,video:n.video?(e=n.video,s=cx(e),ie({},s,{x3:e.x3,hV:e.hV.map(function(t){return function(t){var n,i=gx(t),r=ie({},mx(n=i.Ob),{Z_:n.Z_,h4:Dg(n.h4),a4:n.a4,c4:n.c4,f4:n.f4&&Dg(n.f4),v4:n.v4&&Dg(n.v4),d4:n.d4,l4:n.l4,R3:n.R3,_4:n._4});return i.ph(r)}(t)}),g4:e.g4,w4:e.w4,EA:e.EA,width:e.width,height:e.height,y4:e.y4,m4:e.m4,A4:e.A4,b$:e.b$,T$:e.T$,MA:e.MA,UA:e.UA})):void 0,m3:n.m3?(r=n.m3,{A3:r.A3,dK:r.dK,a_:r.a_,b3:r.b3,T3:r.T3,E3:r.E3,S3:r.S3.map(ux),l_:[]}):void 0,R3:n.R3?n.R3.map(hx):n.R3,I3:Dg(n.I3)});break;case ix.G4:var a=u.c5;i.e5(o,new zC(qC.JY,{code:a}));default:0}},i.f5=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"eh",eh:new zC(qC.sZ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};wt(n.eh.info.code),i.dispatchEvent(n)}else 0},i.Ea=n,i.Z4=i.v5(),i}F(n,t);var i=n.prototype;return i.Bo=function(t){var n=[];this.Q4.forEach(function(i,r){t&&i.Up!==t||n.push(r)}),this.d5(n)},i.d5=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Q4.delete(i)}if(t.length){if(this.Y4){var r={l5:KO.M4,_5:t};this.Y4.postMessage(r)}if(this.Z4){var e={g5:nx.M4,w5:t};this.Z4.postMessage(e)}}},i.e5=function(t,n){var i=this.Q4.get(t);if(i){var r=i.JD;this.Q4.delete(t),r(n)}},i.y5=function(t,n,i,r){this.Y4||(this.Y4=this.m5());var e={l5:KO.B4,k5:t,p5:n,A5:i,b5:r};this.Y4.postMessage(e)},i.T5=function(t,n){this.Z4||(this.Z4=this.v5());var i={g5:nx.X4,E5:t,S5:n,R5:this.Q4.get(t).I5};this.Z4.postMessage(i)},i.i5=function(t,n){this.T5(t,n)},i.m5=function(){var t=AO(this.Ea.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.J4),t.addEventListener("error",this.f5),t},i.N5=function(t){var n=t.E4.video,i=n&&n.hV&&n.hV[0];i&&i.Ob.d4},i.a5=function(t,n){var i=this.Q4.get(t),r=i.JD,e=i.C5,s={E4:n,info:i.D5,metadata:null};this.N5(s),function(t){var n=t.info.$J.DZ(t.info.hZ-1),i=t.E4;t.info.O4=t.info.OZ,n&&(i.audio||i.video?i.video&&!i.video.w4&&!i.video.g4&&i.video.M3&&n.U$&&i.video.M3!==n.U$?t.info.O4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.O4=!0):t.info.O4=!0)}(s),Ex(s,e),function(t){var n=t.info,i=n.$J,r=t.metadata,e=t.E4;if(n.O5=Ng.ym(r.duration),n.rJ=e.audio&&e.audio.L3.vw(Ng.ym(e.audio.duration))||Ng.Py,n.eJ=e.video&&e.video.L3.vw(Ng.ym(e.video.duration))||Ng.Py,n.x5=e.audio&&e.audio.L3||Ng.Py,n.P5=e.video&&e.video.L3||Ng.Py,n.B5=r.audio.R4,n.L5=r.audio.I4,n.M5=r.video.R4,n.U5=r.video.I4,n.iJ=r.R4,n.F5=r.I4,n.H5=r.audio.N4,n.V5=r.audio.C4,n.X5=r.video.N4,n.W5=r.video.C4,n.N4=r.N4,n.C4=r.C4,e.video){var s=Ax(t.E4),u=e.video.hV&&e.video.hV[s];u?(n.t3=s,n.r3=u.Ob.b4,n.q5=u.Ob.T4):n.t3=WO.e3}else n.t3=WO.n3;n.U$=e.video&&e.video.M3||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"Q$",D5:t.info}),!i.resolution&&r.YB&&(i.resolution=r.YB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.B$||i.B$&&!i.B$.CJ==!r.B$.CJ&&!i.B$.DJ==!r.B$.DJ||i.O$(r.B$),e.audio&&void 0!==e.audio.N$&&(i.N$=e.audio.N$),i.b$=e.video&&e.video.b$||i.b$,i.T$=e.video&&e.video.T$||i.T$,i.E$=e.audio&&e.audio.A3||void 0,i.S$=e.video&&e.video.A3||void 0,i.R$=e.audio&&e.audio.x3||void 0,i.I$=e.video&&e.video.x3||void 0,i.C$=e.audio&&e.audio.M3||void 0,i.U$=e.video&&e.video.M3||void 0}(s),this.Q4.delete(t),r(null,s)},i.v5=function(){var t=AO(this.Ea.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.s5),t.addEventListener("error",this.f5),t},i.z5=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.Q4.has(n)&&e.y5(n,s,t,r.iv)}).catch(function(t){i=void 0,e.Q4.has(n)&&e.e5(n,t)})},i.G5=function(t,n,i,r,e,s){var u=Rx(t,r),o=r.$J;this.Q4.set(u,{Up:t,D5:r,I5:{j5:r.duration,B$:o.B$,b$:o.b$,T$:o.T$,E$:o.E$,S$:o.S$,R$:o.R$,I$:o.I$,N$:!this.Ea.skipImplicitHEAACDetection&&o.N$,Q5:e},C5:i.length,JD:s}),r.key?this.z5(n,u,i,r.key):this.T5(u,i)},i.Y5=function(t){var n=[];return this.Q4.forEach(function(i){i.Up===t&&n.push(i.D5)}),n},i.Z5=function(t,n){var i=Rx(t,n);return this.Q4.has(i)},i.Gv=function(){this.Bo(),this.Y4&&(this.Y4.terminate(),this.Y4=void 0),this.Z4&&(this.Z4.terminate(),this.Z4=void 0)},n}(XC);function Nx(t,n){return t+"J5"+n}function Cx(t){return Nx(t.$J.$l,t.hZ)}function Dx(t){return!(!t||!t.E4)}var Ox=function(){function t(t,n,i){this.K5=void 0,this.Rb=void 0,this.t6=[],this.n6=ee(),this.i6=1,this.r6=void 0,this.Rb=t,this.K5=n,this.r6=i}var n=t.prototype;return n.e6=function(t){var n=Cx(t.info);if(this.n6.has(n))this.s6(t.info,t);else{this.t6.push(n),this.n6.set(n,t);for(var i=this.K5.u6+10;this.t6.length>8*this.o6&&this.h6>i*this.o6;){var r=this.n6.get(this.t6[0]),e=this.r6.a6,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new rA([u,o]),a=e,c=a+this.K5.u6;if(new rA([a,c])._I(h).Xl>0)break}this.n6.delete(this.t6.shift())}}},n.c6=function(t,n){var i=Nx(t,n),r=this.n6.get(i),e=this.t6.indexOf(i);return!(!r||-1===e)&&(Je(this.t6,e),this.n6.delete(i),!0)},n.gh=function(){this.t6.length=0,this.n6.clear()},n.f6=function(){for(var t={},n=0,i=this.t6;n<i.length;n++){var r=i[n],e=this.n6.get(r);Dx(e)&&(t[e.info.$J.$l]=(t[e.info.$J.$l]||0)+1)}return t},n.v6=function(t,n){var i=[],r=this.d6(t,n);if(!Dx(r))return i;do{i.push(r),n+=1,r=this.d6(t,n)}while(Dx(r));return i},n.l6=function(t,n){return!!this.d6(t,n)},n._6=function(t,n){return Dx(this.d6(t,n))},n.d6=function(t,n){return this.n6.get(Nx(t,n))},n.s6=function(t,n){var i=Cx(t),r=this.t6.indexOf(i);return-1!==r&&(Je(this.t6,r),this.t6.push(i),n&&this.n6.set(i,n),!0)},n.g6=function(){for(var t=[],n=0,i=this.t6;n<i.length;n++){var r=i[n],e=this.n6.get(r);t.push(e.info)}return t},n.w6=function(){for(var t=[],n=0,i=this.t6;n<i.length;n++){var r=i[n],e=this.n6.get(r);e&&Dx(e)&&t.push(e.info)}return t},M(t,[{key:"h6",get:function(){for(var t=QO(this.Rb,this.g6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"o6",get:function(){return this.i6},set:function(t){t>0&&(this.i6=_.max(t,1))}}]),t}();var xx=Z.He?function(t,n){return Hg(t.b4,n.b4)}:function(t,n){return Hg(t.T4,n.T4)};function Px(t,n,i,r){if(!t)return i;if(!i)return t;if(t.x3===i.x3){var e,s,u=t.g4||i.g4;if(u)s=1/(e=t.U3.vw(i.U3).rm(2)).ly();else{if(t.M3!==i.M3)return;if(!t.U3.Zw(i.U3))return;e=t.U3,s=t.M3}if(t.width===i.width&&t.height===i.height){var o,h=t.w4||i.w4||!t.U3.Zw(i.U3);if(t.hV)if(i.hV)if(r)o=t.hV.concat(i.hV),Bx(t.hV,i.hV,Mx);else{!function(t,n,i){var r=t.length,e=Ng.Py;t=qe(t,function(t,n){return xx(t.Ob,n.Ob).gy(Ng.Py)});for(var s=1;s<r;s+=1){var u=t[s-1].Ob,o=t[s].Ob,h=xx(o,u);h.my(Ng.Py)&&(h=n),e=e.vw(h),u.h4=h,u.Z_=h.ly()}if(r>0){var a=t[r-1].Ob,c=Ng.cm(Ng.ym(_.round(i-e.ly())),n);a.h4=c,a.Z_=c.ly()}}(n.hV.concat(i.hV),e,n.duration+i.duration),o=t.hV.concat(i.hV),Bx(t.hV,i.hV,Mx)}else o=t.hV;else o=i.hV;return{x3:t.x3,y4:t.y4,A4:t.A4,m4:t.m4,M3:s,U3:e,g4:u,w4:h,width:t.width,height:t.height,b$:t.b$,T$:t.T$,EA:t.EA,duration:t.duration+i.duration,B3:t.B3+i.B3,L3:t.L3,F3:t.F3,H3:t.H3,V3:t.V3,X3:t.X3,W3:Fx(i.W3,t.W3),q3:Fx(i.q3,t.q3),z3:Fx(i.z3,t.z3),G3:Fx(i.G3,t.G3),hV:o,P3:t.P3||i.P3,MA:t.MA,UA:t.UA}}}}function Bx(t,n,i){var r=n[0].Ob.C3,e=t[t.length-1].Ob.C3,s=r.Ey(e),u=Hg(r,e).Ey(s);if(!u.Fy())for(var o=0;o<n.length;o++){i(n[o].Ob,u)}}function Lx(t,n){t.T4=t.T4.vw(n),t.b4=t.b4.vw(n),t.C3=t.C3.vw(n)}function Mx(t,n){Lx(t,n),t.h4=t.h4.vw(n),t.v4=Ux(t.v4,n),t.f4=Ux(t.f4,n)}function Ux(t,n){if(t)return t.vw(n)}function Fx(t,n){return n.vw(Hg(t,n))}function Hx(t,n){var i={audio:void 0,video:void 0,I3:t.I3};if("video"===n){if(!t.audio)return i;i.audio={x3:t.audio.x3,M3:t.audio.M3,U3:t.audio.U3,duration:t.audio.duration,B3:t.audio.B3,L3:Ng.Py,F3:t.audio.F3,H3:t.audio.H3,V3:t.audio.V3,X3:t.audio.X3,W3:t.audio.W3,q3:t.audio.q3,z3:t.audio.z3,G3:t.audio.G3,hV:t.audio.hV,e4:t.audio.e4,r4:t.audio.r4,P3:t.audio.P3,n4:t.audio.n4,i4:t.audio.i4}}if("audio"===n){if(!t.video)return i;i.video={x3:t.video.x3,y4:t.video.y4,A4:t.video.A4,m4:t.video.m4,M3:t.video.M3,U3:t.video.U3,g4:t.video.g4,w4:t.video.w4,width:t.video.width,height:t.video.height,b$:t.video.b$,T$:t.video.T$,MA:t.video.MA,UA:t.video.UA,EA:t.video.EA,duration:t.video.duration,B3:t.video.B3,L3:Ng.Py,F3:t.video.F3,H3:t.video.H3,V3:t.video.V3,X3:t.video.X3,W3:t.video.W3,q3:t.video.q3,z3:t.video.z3,G3:t.video.G3,hV:t.video.hV,P3:t.video.P3}}return i}function Vx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.x3===n.x3||!t.x3||!n.x3)&&t.M3===n.M3&&t.U3.Zw(n.U3)&&t.r4===n.r4)return t.hV?n.hV?(i=t.hV.concat(n.hV),Bx(t.hV,n.hV,Lx)):i=t.hV:i=n.hV,{x3:t.x3,M3:t.M3,U3:t.U3,duration:t.duration+n.duration,B3:t.B3+n.B3,L3:t.L3,F3:t.F3,H3:t.H3,V3:t.V3,X3:t.X3,W3:Fx(n.W3,t.W3),q3:Fx(n.q3,t.q3),z3:Fx(n.z3,t.z3),G3:Fx(n.G3,t.G3),hV:i,r4:t.r4,e4:t.e4,P3:t.P3||n.P3,n4:t.n4,i4:t.i4}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Px(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,I3:t.I3}}}function Xx(t){return Hx(t,"audio")}function Wx(t){return Hx(t,"video")}var qx,zx,Gx,jx=function(){function t(t){this.y6=void 0,this.xQ=0,this.m6=0,this.y6=_.exp(_.log(.5)/t)}var n=t.prototype;return n.k6=function(t,n){var i=_.pow(this.y6,t),r=n*(1-i)+i*this.xQ;y(r)||(this.xQ=r,this.m6+=t)},n.p6=function(){var t=1-_.pow(this.y6,this.m6);return this.xQ/t},t}(),Qx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.A6=void 0,this.b6=void 0,this.T6=0,this.E6=void 0,this.S6=5e5,this.A6=new jx(t),this.b6=new jx(n),this.E6=i}var n=t.prototype;return n.k6=function(t,n){var i=8e3*n/t,r=t/1e3;this.T6+=n,this.A6.k6(r,i),this.b6.k6(r,i)},n.p6=function(){return this.R6()?_.min(this.A6.p6(),this.b6.p6()):this.S6},n.R6=function(){return this.T6>=this.E6},t}(),Yx=function(){function t(){this.A6=new jx(2),this.b6=new jx(5),this.I6=0,this.N6=1,this.S6=100}var n=t.prototype;return n.k6=function(t){this.I6+=1,this.A6.k6(1,t),this.b6.k6(1,t)},n.p6=function(){return this.R6()?_.min(this.A6.p6(),this.b6.p6()):this.S6},n.R6=function(){return this.I6>=this.N6},t}(),Zx=function(){function t(t,n){var i=this;this.C6=void 0,this.kv=void 0,this.z1=void 0,this.D6=!1,this.O6=0,this.x6=0,this.P6=function(){return i.B6()},this.C6=t,this.kv=n,this.z1=n.z1,this.z1.addEventListener("zh",this.P6)}return t.prototype.B6=function(){var t=this.z1.v2,n=1e3*this.z1._2,i=1e3*this.z1.fg;this.z1.W0&&(this.D6||(this.C6.L6(i),this.D6=!0),n>this.x6&&(this.C6.M6(n-this.x6,t-this.O6),this.O6=t,this.x6=n))},t}(),Jx=function(){function t(){this.U6=void 0,this.F6=void 0,this.U6=new Qx,this.F6=new Yx}var n=t.prototype;return n.H6=function(t){new Zx(this,t)},n.M6=function(t,n){this.U6.k6(t,n)},n.L6=function(t){this.F6.k6(t)},n.Gv=function(){},M(t,[{key:"V6",get:function(){return this.F6.p6()/1e3}},{key:"X6",get:function(){return this.U6.p6()}}]),t}(),$x=function(){function t(){this.W6=ee()}var n=t.prototype;return n.q6=function(t,n){var i,r,e=this.W6.get(t);return void 0!==e&&(i=e.tJ,r=n,et(i)?i===r:function(t,n){return t.tJ===n.tJ&&t.nJ.iI===n.nJ.iI&&t.nJ.eI===n.nJ.eI}(i,r))},n.z6=function(t,n){if(this.q6(t,n))return this.W6.get(t).Us},n.G6=function(t,n,i){this.W6.set(t,{tJ:n,Us:i})},n.gh=function(){this.W6.clear()},t}();!function(t){t[t.j6=0]="j6",t[t.Q6=5]="Q6",t[t.Y6=13]="Y6",t[t.Z6=14]="Z6",t[t.J6=15]="J6"}(qx||(qx={})),function(t){t[t.K6=0]="K6",t[t.t9=1]="t9",t[t.n9=2]="n9",t[t.i9=11]="i9",t[t.r9=13]="r9",t[t.e9=14]="e9"}(zx||(zx={})),function(t){t[t.s9=0]="s9",t[t.u9=1]="u9",t[t.o9=2]="o9",t[t.h9=3]="h9",t[t.a9=4]="a9",t[t.c9=5]="c9",t[t.f9=6]="f9",t[t.v9=7]="v9"}(Gx||(Gx={}));var Kx=5,tP=5,nP=.5;function iP(t){if(!t.E4.video)return[];for(var n=[],i=0;i<t.E4.video.hV.length;i++){var r=t.E4.video.hV[i].Ob;r.d4&&n.push({d9:i,l9:r.b4})}return n}var rP=Ng.ym(.04),eP=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).K5=void 0,s.Ea=void 0,s._9=void 0,s.Qb=void 0,s.g9=void 0,s.w9=void 0,s.y9=void 0,s.m9=ee(),s.k9=void 0,s.p9=ee(),s.A9=1,s.Ea=n,s._9=i,s.Qb=r,s.g9=new $x,s.K5=e,s.w9=new aO(r,n),s.y9=new Jx,s.k9=new Ix(n),s.k9.addEventListener("eh",function(t){s.dispatchEvent(t)}),s}F(n,t);var i=n.prototype;return i.b9=function(t){this.k9.Bo(t),this.w9.gh(!1,t)},i.gh=function(t){this.b9(t),t?this.m9.get(t).gh():this.m9.forEach(function(t){return t.gh()})},i.Gv=function(){this.jo(),this.w9.gh(),this.m9.forEach(function(t){return t.gh()}),this.m9.clear(),this.k9.Gv()},i.Ml=function(t,n,i){if(!this.m9.has(t)){var r=new Ox(n,this.K5,i);r.o6=this.o6,this.m9.set(t,r)}},i.T9=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=String(i.$l),!this.g9.q6(e,r)){t.next=3;break}return t.abrupt("return",this.g9.z6(e,r));case 3:return s=yD(i.L$),t.t0=m,t.next=7,this.w9.E2(n,r,Zo.Lc,If.Iv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.g9.G6(e,r,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.E9=function(t,n,i,r){var e=this.m9.get(t),s=e.d6(n.$J.$l,n.hZ);if(e._6(n.$J.$l,n.hZ))e.s6(n),this.dispatchEvent({type:"S9",Up:t,R9:s});else{if(!s)return this.I9(t,n,i,r);e.s6(n),this.N9(t,n,i,s.C9)}return r&&r(),null},i.I9=function(t,n,i,r){var e=this,s=this.m9.get(t),u=function(t,n){return t+"D9"+n.hZ+"P4"+n.uri}(t,n);if(this.p9.has(u))return null;this.p9.set(u,!0);var o=yD(n.$J.L$),h=this.w9.Wh(t,n.uri,Zo.Lc,If.Tv,o,function(o,a){return e.p9.delete(u),o?r&&r(o):(e.dispatchEvent({type:"O9",Up:t}),s._6(n.$J.$l,n.hZ)||s.e6({info:n,C9:h.ud}),e.E9(t,n,i),r&&r(o,a))});return this.y9.H6(h),h},i.N9=function(t,n,i,r){var e=this,s=this.m9.get(t);this.k9.Z5(t,n)||(n&&n.key&&this._9.getKey(n.key).catch(R),this.k9.G5(t,this._9,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"eh",eh:n});s.e6(i),e.dispatchEvent({type:"S9",Up:t,R9:i})}))},i.x9=function(t,n,i){var r=i.length,e="CJ"===t?uP:oP;if(!sP(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.O4){if("P9"===this.Ea.B9||e(u,o)){var h=i.splice(0,s);return sP(n,h)?h:this.x9(t,n,i)}0}}return i},i.L9=function(t,n,i,r){for(var e=this.m9.get(t).w6(),s=r.M9,u=function(t){var r=i[t],u=e.filter(function(t){return t.$J===r}),o=QO(n,u),h=o.X2(s.ly(),rP.ly());if(h>=0&&Ng.ym(o.end(h)).Ey(s).wy(rP))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.U9=function(t,n,i,r,e){if(!Z.Le)return!0;if(e.F9||this.L9(t,n,i,e))return!0;var s=Ng.cm(r,e.H9);return e.M9.Ey(s).wy(Ng.ym(2))},i.V9=function(t,n,i,r,e,s,u,o){var h=n.v6(e.$l,s),a=this.x9(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.J2(f.info),d=kP(t,r,f);if("DJ"!==t||function(t,n,i){return!!t&&t.Gp.$J===n&&i.wy(Ng.ym(t.eI))&&i.my(Ng.ym(t.eI).vw(rP))}(i,e,d))return{IZ:a,X9:Ng.fm(v,d)};f.E4.video&&(f=(a=dP(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=iP(o),a=0;a<h.length;a++){var c=h[a];if(n.i3(o.info,c.l9)._y(i.Ey(r)))return{W9:e,q9:s};e=u,s=c.d9}return{W9:e,q9:s}}(a,r,u,o)))[0]);if(d=kP(t,r,f),function(t){var n=t.E4.video,i=n&&n.hV,r=i&&i[0],e=r&&r.Ob.d4;if(!n)return!0;return!!e}(f))return{IZ:a,X9:Ng.fm(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Ax(t[n].E4);if(!y(i))return{W9:n,q9:i}}return null}(a),_=Ng.cm(u,wP(t,r,e.DZ(s)));if(f.info.hZ===s){if(l&&(d=kP(t,r,(c=dP(a,l))[0]),_.Ey(d).wy(o)))return{IZ:c,X9:Ng.fm(v,d)};for(var g=s-1;n._6(e.$l,g);){var w=n.v6(e.$l,g);if((f=(c=this.x9(t,s,w))&&c[0]&&vP(c[0],bx(c[0])))&&(d=kP(t,r,f),_.Ey(d).wy(o)))return c[0]=f,{IZ:c,X9:Ng.fm(v,d)};g-=1}}return function(t){if(t.OZ)return!1;var n=t.$J;if(n.CZ&&n.CZ.live)return!1;if(!n.DZ(t.hZ-1))return!1;return!0}(a[0].info)?null:l?{IZ:a=dP(a,l),X9:v}:null},i.z9=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.G9(o,h,n),v=f&&f.Gp;if(!v)return null;var d=v.hZ;do{var l=d,_=o.DZ(l),g=wP(n,s,_);if(!yP(n,s,_).py(h)||_.D4){if(g.vw(rP)._y(a))break;if(Ng.cm(Ng.Py,h.Ey(g)).py(c)&&i._6(o.$l,l-1)&&i._6(o.$l,l))i.d6(o.$l,l).metadata.O4||(l-=1);var w=this.j9(t,n,i,r,e,s,u,o,l,h,c);if(w&&(fP(w,h,a)||w.F9))return w}}while(i._6(o.$l,++d));return null},i.j9=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.DZ(h),v=this.V9(n,i,r,s,o,h,a,c),d=v&&v.IZ,l=v&&v.X9,g=d&&d[d.length-1],w=g&&g.metadata.D4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="CJ"===t?hP:aP;return n.map(i).filter(cP)}(n,d))||!d.length){if(w){var y=[],m=s.J2(g.info);return y.Q9=m,y.Y9=m,y.H9=m,y.Z9=m,y.M9=m,y.F9=w,y}return null}var k=d="DJ"===n?function(t,n,i){var r=i[0].E4.video;return i[0].info.OZ?function(t,n,i,r){var e=Ye(r.hV,function(t){return t.Ob.d4});if(e<0)return i;var s=r.hV[e].Ob,u=n.i3(i[0].info,s.b4),o=pP(t,u);if(o.Sy())return i;var h=u.Ey(o).vm(Og,Eg.Nm);if(h.my(Ng.Py))return i;var a=TP(r.hV.slice(e),h);return i[0]=_P(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.U3.Ky(Kx),s=r.hV[0].Ob,u=n.i3(i[0].info,s.T4),o=AP(t,u,e);if(o.Sy())return i;var h=u.Ey(o).vm(Og,Eg.Nm);if(h.my(Ng.Py)||h._y(e))return i;var a=TP(r.hV,h);return i[0]=_P(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].E4.audio)?void 0:r.x3)===zO.u3)return i;var e=i[0].E4.audio,s=e.hV[0].Ob;return i[0].info.OZ?function(t,n,i,r,e){var s=n.i3(i[0].info,e.b4),u=pP(t,s);if(u.Sy())return i;var o=s.Ey(u).ly(),h=_.floor(o/r.U3.ly());if(h<=0)return i;var a=bP(r,h);return i[0]=lP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.i3(i[0].info,e.T4),u=AP(t,s,r.U3.Ky(tP));if(u.Sy())return i;var o=s.Ey(u).ly(),h=_.round(o/r.U3.ly());if(0===h||_.abs(h)>tP)return i;var a=bP(r,h);return i[0]=lP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.hZ<p.info.hZ&&(l=s.J2(f)),k.Q9=l,k.Y9=function(t,n,i){return n.i3(i.info,mP(t,i).I4)}(n,s,p),k.H9=kP(n,s,p),k.Z9=function(t,n,i){return n.i3(i.info,mP(t,i).C4)}(n,s,k[k.length-1]),k.M9=function(t,n,i){return n.i3(i.info,mP(t,i).N4)}(n,s,k[k.length-1]),k.F9=w,!this.U9(t,s,u,a,k))return null;var A=p.E4.video;return!A||(A.b$=A.b$||o.b$,A.T$=A.T$||o.T$,A.b$&&A.T$)?k:null},i.J9=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.z9(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.H9.py(c.H9)||(c=d))}return c},i.K9=function(t,n,i,r,e,s,u,o,h){for(var a=Ng.ym(u),c=Ng.ym(o),f=Ng.ym(h),v=this.m9.get(t),d=new SO([{iI:a.ly(),eI:a.vw(c).ly()}]),l=e._I(d),_=function(t){if(0===t.length)return null;var n=t.IZ(t.length-1),i=n[n.length-1];if(!i.Gp.t8)return null;return i}(e),g=CO(DO(l),d),w=0;w<g.length;w++){var y=Ng.ym(g.start(w)),m=Ng.ym(g.end(w)),k=EP(l,y,m),p=y.vw(k).vm(Og,Eg.Nm),A=m.vm(Og,Eg.Nm);if(p.py(A)){if(_&&p.wy(Ng.ym(_.eI)))continue;var b=this.J9(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.w6=function(t){return this.m9.get(t).w6()},i.Y5=function(t){return this.k9.Y5(t)},M(n,[{key:"o6",get:function(){return this.A9},set:function(t){t>0&&(this.A9=t,this.m9.forEach(function(n){return n.o6=t}))}},{key:"V6",get:function(){return this.y9.V6}},{key:"X6",get:function(){return this.y9.X6}}]),n}(XC);function sP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.hZ===t)return!0}return!1}function uP(t,n){return t.metadata.audio.x3!==n.metadata.audio.x3||(t.metadata.audio.a0!==n.metadata.audio.a0||(!(!t.E4.audio||!n.E4.audio||t.E4.audio.r4===n.E4.audio.r4)||!Ug(t.metadata.audio.R4,t.metadata.audio.I4).Zw(Ug(n.metadata.audio.N4,n.metadata.audio.C4))))}function oP(t,n){return t.metadata.video.x3!==n.metadata.video.x3||(!(!t.metadata.YB||!n.metadata.YB||t.metadata.YB.height===n.metadata.YB.height&&t.metadata.YB.width===n.metadata.YB.width)||(!(!n.E4.video||n.E4.video.w4||t.metadata.video.a0===n.metadata.video.a0)||Ug(t.metadata.video.R4,t.metadata.video.I4)!==Ug(n.metadata.video.N4,n.metadata.video.C4)))}function hP(t){return t.E4.video&&(t={E4:Wx(t.E4),info:t.info,metadata:Sx(t.metadata,"DJ")}),t}function aP(t){return t.E4.audio&&(t={E4:Xx(t.E4),info:t.info,metadata:Sx(t.metadata,"CJ")}),t}function cP(t){return Boolean(t&&(t.E4.audio||t.E4.video))}function fP(t,n,i){var r=Ng.cm(n,t.H9),e=Ng.fm(i,t.M9),s=rP;return Z.Re&&(r.my(t.H9)?s=s.vw(t.H9).Ey(t.Y9):e.wy(t.M9)&&(s=s.vw(t.M9).Ey(t.Z9))),e.Ey(r).wy(s)}function vP(t,n){return y(n)?null:0===n?t:_P(t,t.E4.video.hV.slice(n))}function dP(t,n){return(t=t.slice(n.W9))[0]=vP(t[0],n.q9),t}function lP(t,n){var i={info:t.info,E4:{audio:Wx(t.E4).audio,video:null,I3:t.E4.I3},metadata:null},r=i.E4.audio;r.hV=n;var e=n[0].Ob;return r.H3=e.C3,r.F3=r.H3.ly(),gP(r,i.E4.I3,r.U3),Ex(i,t.metadata.size),i.metadata=Sx(i.metadata,"DJ"),i}function _P(t,n){var i={info:t.info,E4:{audio:null,video:Xx(t.E4).video,I3:t.E4.I3},metadata:null},r=i.E4.video;r.hV=n;var e=n[0].Ob;r.H3=e.C3,r.F3=r.H3.ly();var s=n[n.length-1].Ob.h4;return gP(r,i.E4.I3,s),Ex(i,t.metadata.size),i.metadata=Sx(i.metadata,"CJ"),i}function gP(t,n,i){for(var r=Ng.km,e=Ng.km,s=Ng.pm,u=Ng.pm,o=0,h=t.hV;o<h.length;o++){var a=h[o].Ob;r=Ng.fm(a.T4,r),e=Ng.fm(a.b4,e),s=Ng.cm(a.T4,s),u=Ng.cm(a.b4,u)}t.V3=e,t.X3=r,t.W3=u,t.q3=s,t.L3=Ng.cm(Hg(t.H3,n),Ng.Py),t.z3=Fg(t.W3,i),t.G3=Fg(t.q3,i),t.B3=Ug(t.z3,t.V3).ly(),t.duration=t.B3}function wP(t,n,i){if(vD(i)){var r="CJ"===t?i.B5:i.M5;return Lg(r)||(r=i.iJ),n.i3(i,r)}return i&&n.J2(i)}function yP(t,n,i){if(vD(i)){var r="CJ"===t?i.H5:i.X5;return Lg(r)||(r=i.iJ),n.i3(i,r)}return i&&n.J2(i).vw("CJ"===t?function(t){return vD(t)?t.rJ||Ng.Py:t&&Ng.ym(t.duration)||Ng.Py}(i):function(t){return vD(t)?t.eJ||Ng.Py:t&&Ng.ym(t.duration)||Ng.Py}(i))}function mP(t,n){return"CJ"===t?n.metadata.audio:n.metadata.video}function kP(t,n,i){return n.i3(i.info,mP(t,i).R4)}function pP(t,n){var i=t.z2(n.ly());if(-1!==i){var r=Ng.ym(t.end(i));if(n.Ey(r).my(Ng.ym(nP)))return r}return Ng.mm}function AP(t,n,i){var r=t.X2(n.ly(),i.ly());if(-1!==r)for(var e=t.IZ(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.Gp.IZ.length-1;o>=0;o--){var h=u.Gp.IZ[o];if(n.Ey(Ng.ym(h.eI)).Ay().my(i))return Ng.ym(h.eI);if(n.Ey(Ng.ym(h.iI)).Ay().my(i))return Ng.ym(h.iI)}return Ng.mm}function bP(t,n){var i;if(n<0)i=t.hV.slice(-n);else{0;var r=new rx,e=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.Z3,t.r4);r.f3(e,0,e.length),i=t.hV.slice();for(var s=0;s<n;s++){var u=i[0].Ob,o=r.ph(ie({},r.Ob,{C3:Ug(u.C3,t.U3),N3:u.N3-t.U3.ly(),T4:Ug(u.T4,t.U3),b4:Ug(u.b4,t.U3)}));i.unshift(o)}}return i}function TP(t,n){var i=t[0].Ob,r=t.slice();return r[0]=t[0].ph(ie({},i,{C3:Ng.cm(Ng.Py,i.C3.Ey(n)),N3:_.max(i.N3-n.ly(),0),T4:Ng.cm(Ng.Py,i.T4.Ey(n)),c4:_.max(i.c4-n.ly(),0),b4:Ng.cm(Ng.Py,i.b4.Ey(n)),a4:_.max(i.a4-n.ly(),0),h4:Ng.cm(Ng.Py,i.h4.vw(n)),Z_:_.max(0,i.Z_+n.ly())})),r}function EP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.IZ(r),s=t.IZ(r+1);if(e.length&&s.length&&Ng.ym(e[0].iI).my(n)&&Ng.ym(s[s.length-1].eI).wy(i)&&s[0].Gp.IZ[0].bh.S4.OZ)return rP.Ky(5)}return t.dw(n.ly())?rP:Ng.Py}function SP(t){return new xP(t.rv,t.Us)}var RP,IP,NP,CP,DP,OP,xP=function(){function t(t,n){this.rv=void 0,this.n8=void 0,this.n8=n,this.rv=t}return t.prototype.i8=function(t){fO(t)},M(t,[{key:"Us",get:function(){return this.n8}},{key:"r8",get:function(){return cO(vO(this.n8,this.rv))}}]),t}(),PP=function(){function t(t,n,i){this.tJ=void 0,this.tJ="data:"+t+";"+n+","+i}return t.prototype.i8=function(t){},M(t,[{key:"r8",get:function(){return this.tJ}}]),t}();!function(t){t.u3="e8",t.N_="s8",t.u8="o8",t.h8="a8",t.c8="f8"}(RP||(RP={})),function(t){t.v8="d8",t.l8="_8"}(IP||(IP={})),function(t){t.g8="audio/mp4",t.w8="audio/mpeg",t.y8="video/mp4"}(NP||(NP={})),function(t){t[t.m8=0]="m8",t[t.k8=1]="k8",t[t.h_=2]="h_",t[t.p8=3]="p8"}(CP||(CP={})),function(t){t.A8="b8",t.T8="E8"}(DP||(DP={})),function(t){t.S8="P9",t.T8="R8"}(OP||(OP={}));var BP=function(){function t(t,n,i,r,e,s,u,o,h,a){this.I8=void 0,this.N8=void 0,this.Up=void 0,this.rv=void 0,this.R9=void 0,this.C8=void 0,this.Tb=void 0,this.D8=void 0,this.O8=void 0,this.JD=void 0,this.x8=CP.m8,this.N8=t,this.I8=n,this.Up=i,this.rv=r,this.R9=e,this.C8=s,this.Tb=u,this.D8=o,this.O8=h,this.JD=a}return t.P8=function(t,n,i,r,e,s,u,o,h,a){switch(n){case DP.A8:return new LP(t,i,r,e,s,u,o,h,a);case DP.T8:return new MP(t,i,r,e,s,u,o,h,a)}},t}(),LP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,DP.A8,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.B8=function(){return{L8:"M8",U8:this.I8,F8:RP.c8,H8:IP.v8,V8:this.rv,X8:ex(this.R9,[]),W8:this.O8,q8:this.D8.Cm(),z8:this.C8.Cm(),G8:this.Tb.Cm()}},n}(BP),MP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,DP.T8,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.B8=function(){return{L8:"M8",U8:this.I8,F8:this.rv===NP.w8?RP.u3:RP.N_,H8:Yy?IP.l8:IP.v8,V8:this.rv,X8:ex(this.R9,[])}},n}(BP),UP=function(){function t(){this.j8=void 0,this.Q8=void 0,this.j8=ee(),this.Q8=1}var n=t.prototype;return n.Y8=function(){return(this.Q8++).toString()},n.P8=function(t,n,i,r,e,s,u,o,h){var a=this.Y8(),c=BP.P8(a,n,t,i,r,e,s,u,o,h);return this.Z8(c),c},n.J8=function(t){return this.j8.get(t)},n.Z8=function(t){this.j8.set(t.I8,t)},n.K8=function(t){this.j8.delete(t)},n.t7=function(t){this.J8(t).x8=CP.k8,this.K8(t)},n.n7=function(t,n){var i=this.J8(t).JD;this.J8(t).x8=CP.h_,this.K8(t),i(n)},n.i7=function(t,n){var i=this.J8(t).JD;this.J8(t).x8=CP.p8,this.K8(t),i(null,n)},n.gh=function(t){var n=[];this.j8.forEach(function(i,r){t&&i.Up!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.t7(r)}},t}();var FP,HP=function(){function t(n){var i=this;this.j8=void 0,this.r7=void 0,this.Ea=void 0,this.e7=void 0,this.s7=function(t){var n=t.data.u7,r=t.data.o7,e=t.data.h7,s=t.data.a7,u=i.j8.J8(r);if(u&&u.x8!==CP.k8)switch(n){case"c7":i.f7(u,e);break;case"v7":i.j8.n7(r,new zC(qC.JY,{code:s}));break;default:0}},this.d7=function(t){0},this.j8=new UP,this.Ea=n,this.e7=t.l7(n.B9),this._7()}t.l7=function(t){switch(t){case OP.S8:return DP.A8;case OP.T8:return DP.T8}};var n=t.prototype;return n.M8=function(t,n,i,r,e,s,u){var o={metadata:null,CJ:null,DJ:null,eh:null};i&&i.length||u(new zC(qC.JY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.hZ+1,f=h.info.$J,v=h.metadata,d=v.audio.x3?v.audio:void 0,l=v.video.x3?v.video:void 0,_=a.metadata,g=_.audio.x3?_.audio:void 0,w=_.video.x3?_.video:void 0,m=r.vw(Hg(v.I4,v.R4)),k=r.vw(Hg(v.R4,v.R4)),p=r.vw(d?Hg(d.I4,v.R4):Ng.Py),A=r.vw(d?Hg(d.R4,v.R4):Ng.Py),b=r.vw(l?Hg(l.I4,v.R4):Ng.Py),T=r.vw(l?Hg(l.R4,v.R4):Ng.Py),E=r.vw(Hg(_.C4,v.R4)),S=r.vw(Hg(_.N4,v.R4)),R=r.vw(g?Hg(g.C4,v.R4):Ng.Py),I=r.vw(g?Hg(g.N4,v.R4):Ng.Py),N=r.vw(w?Hg(w.C4,v.R4):Ng.Py),C=r.vw(w?Hg(w.N4,v.R4):Ng.Py);p=Ng.cm(Ng.Py,p),b=Ng.cm(Ng.Py,b);var D,O,x,P,B,L=hD.hg(n.f$)?Ng.ym(100079991719):Ng.ym(n.Z_),M=function(t){for(var n=t[0].E4,i=n,r=1;r<t.length;r++){if(!(n=Vx(i,t[r-1].E4,t[r].E4,t[r].info.O4)))return i;i=n}return i}(i);if(M.audio){O=(D=Wx(M)).audio.duration;x=this.j8.P8(t,this.e7,"mp3"===D.audio.x3?NP.w8:NP.g8,D,p,A,L,c,function(t,n){if(o.eh=o.eh||t,o.CJ=n,D=!0,P)return u(o.eh,o)}),this.g7(x),D=null}else D=!0;if(M.video){B=(P=Xx(M)).video.duration;x=this.j8.P8(t,this.e7,NP.y8,P,b,T,L,c,function(t,n){if(o.eh=o.eh||t,o.DJ=n,P=!0,D)return u(o.eh,o)}),this.g7(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=Ng.ym(O),W=Ng.ym(B),q=h.E4.audio&&h.E4.video?Ng.fm(h.E4.audio.L3.vw(X),h.E4.video.L3.vw(W)):h.E4.audio?h.E4.audio.L3.vw(X):h.E4.video?h.E4.video.L3.vw(W):Ng.Py;if(q.Fy()&&gt("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=Ax(M);if(y(z))gt("Segment without keyframes detected",h.info.uri),U=Ng.mm,F=Ng.mm,H=q.Ky(1.5);else{var G=M.video.hV[z].Ob;U=r.vw(Hg(G.T4,v.R4)),F=r.vw(Hg(G.b4,v.R4)),H=Ng.ym(G.a4-h.metadata.start)}}else U=p,F=A,H=Ng.Py;var j=Ng.cm(H,Ng.cm(h.E4.audio&&h.E4.audio.L3||Ng.Py,h.E4.video&&h.E4.video.L3||Ng.Py));o.metadata={hZ:c,iI:r.ly(),w7:m.ly(),Q9:k.ly(),Z9:E.ly(),M9:S.ly(),q5:U.ly(),r3:F.ly(),X9:Ng.fm(r,e).ly(),Z_:q.ly(),IZ:V,Ah:j.ly(),CJ:d&&{iI:A.ly(),w7:p.ly(),eI:I.ly(),Z9:R.ly(),Z_:O,x3:d.x3},DJ:l&&{iI:T.ly(),w7:b.ly(),eI:C.ly(),Z9:N.ly(),Z_:B,x3:l.x3,ku:v.YB.width,Vp:v.YB.height},B$:v.B$,O4:v.O4,$J:f,D4:s},i=null,M=null},n.Gv=function(){this.j8.gh(),this.r7&&(this.r7.terminate(),this.r7=null)},n.Bo=function(t){this.j8.gh(t)},n.f7=function(t,n){switch(t.N8){case DP.A8:var i=n;this.j8.i7(t.I8,{initializer:SP(i.y7),m4s:SP(i.m7)});break;case DP.T8:var r=n;this.j8.i7(t.I8,(e=r,Yy?new PP(e.rv,"base64",e.Us):new xP(e.rv,e.Us)));break;default:0}var e},n._7=function(){this.r7||(this.r7=AO(this.Ea.libraryLocation,"theoplayer.p.js"),this.r7.addEventListener("message",this.s7),this.r7.addEventListener("error",this.d7))},n.g7=function(t){this.r7||this._7(),this.r7.postMessage(t.B8())},t}();function VP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function XP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function WP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function qP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?ju(r[6]):void 0!==r[7]?{width:w(r[8]),height:w(r[10])}:void 0!==r[12]?w(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var zP,GP="x-";function jP(t,n,i,r){var e=t.split("@"),s=VP(n,i),u=g(e[0],10),o=e[1]?g(e[1],10):r;return{tJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},nJ:{iI:o,eI:o+u-1}}}function QP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new zC(qC.ZY,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),XP(T,"#EXT")){if(XP(T,"#EXTINF"))c=(c=w(WP(T)))||.5;else if(XP(T,"#EXT-X-BYTERANGE"))f=WP(T);else if(XP(T,"#EXT-X-KEY"))(s=qP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=VP(s.uri,i);else if(XP(T,"#EXT-X-DISCONTINUITY")&&!XP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(XP(T,"#EXT-X-STREAM-INF"))(e=qP(T)).hZ=a++,(b+=1)<p.length&&(e.uri=VP(p[b].trim(),i),A.streams.push(e));else if(XP(T,"#EXT-X-MEDIA")&&!XP(T,"#EXT-X-MEDIA-"))(u=qP(T)).uri&&(u.uri=VP(u.uri,i)),A.media.push(u);else if(XP(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(WP(T));else if(XP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.bZ=!0,A.TZ=g(WP(T),10);else if(XP(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(WP(T),10),A.k7=!0,A.p7=h;else if(XP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(WP(T),10),A.hasTargetDuration=!0;else if(XP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(XP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(XP(T,"#EXT-X-MAP")){var E=qP(T),S=E.uri,R=E.byterange;o=R?jP(R,S,i,0):VP(S,i)}else if(XP(T,"#EXT-X-VERSION"))A.version=g(WP(T),10);else if(XP(T,"#EXT-X-DATERANGE")){var I=YP(T);A.dateRanges.push(I)}}else if(XP(T,"#"));else if(0!==T.length){f?k=(r=jP(f,T,i,k)).nJ.eI+1:r=VP(T,i);var N,C=s&&ie({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,hZ:h,OZ:d,NZ:v,key:C,o$:y,u$:l,D4:!1,A7:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].D4=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=_.min(i,o.duration),r=_.max(r,o.duration)}return{b7:i,T7:r,E7:n?t.fragments[n-1].duration:0,S7:e/n,R7:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.hZ-n.hZ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Je(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function YP(t){var n=qP(t),i=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i];De(e,GP)&&(n[e.substr(GP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{$l:n.id,WZ:n.class,mR:r,xZ:e,Z_:n.duration,qZ:n["planned-duration"],zZ:s,GZ:i,jZ:u,QZ:o,YZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(zP||(zP={}));(FP={})[zP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",FP[zP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",FP[zP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",FP[zP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",FP[zP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",FP[zP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",FP[zP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var ZP=function(){function t(){}return t.prototype.fp=function(t,n,i){return QP(t,n,i)},t}(),JP=3,$P=function(){function t(t,n,i){void 0===i&&(i=JP),this.Qb=t,this.I7=n,this.N7=i}var n=t.prototype;return n.C7=function(t,n,i){return this.D7(t,n,!0,i)},n.O7=function(t,n,i){return this.D7(t,n,!1,i)},n.D7=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.N7)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ks(u,e);case 6:u<1e4&&(u=_.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Df({Av:a,wv:Zo.us,gv:i,Wv:this.I7,Fv:Sf.GET,vo:Rf.Ev,Vv:If.Tv,Uo:e}),t.next=14,this.Qb.kv(c);case 14:return f=t.sent,t.next=17,f.$f(e);case 17:return v=t.sent,t.abrupt("return",{x7:v,P7:a,pv:f.pv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),KP=function(){function t(t,n,i,r){this.B7=t,this.L7=n,this.M7=i,this.U7=r}var n=t.prototype;return n.F7=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B7.u1(n.map(rO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.H7=function(t,n){var i=eO(t,n);return this.L7.vh(i)},n.V7=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=eO(n,i),t.next=3,this.M7.dh(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.aB=function(t){return this.U7.dh(t)},t}(),tB=function(){function t(t){this.X7=void 0,this.X7=t}return t.prototype.W7=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.X7;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.W7(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),cs(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),nB=function(){function t(t){this.q7=t}return t.prototype.W7=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.q7.F7(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{x7:s.data,P7:s.locationURL,pv:s.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),iB=function(){function t(t){this.z7=t}return t.prototype.W7=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.z7.C7(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.z7.O7(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function rB(t,n){return new tB([new nB(n),new iB(t)])}var eB=function(){function t(t,n,i){this.G7=t,this.j7=n,this.Q7=i}var n=t.prototype;return n.W7=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.G7.W7(n,i,r,e);case 3:return s=t.sent,t.next=6,this.Y7(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Y7=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.j7.e1({key:rO(n.P7),locationURL:Bf(n.P7),responseURL:Bf(n.pv),data:n.x7,references:[this.Q7.$l]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function sB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var uB=function(){function t(t,n,i){this.Ea=void 0,this.Qb=void 0,this.G7=void 0,this.Z7=void 0,this.Z7=new ZP,this.Ea=t,this.Qb=i;var r=this.Ea&&this.Ea.crossOrigin===gl.B_,e=new $P(i,r,1);this.G7=rB(e,new KP(iO.ts.l1,iO.ts.v1,iO.ts.d1,iO.ts.g1))}var n=t.prototype;return n.Wh=function(t,n,i){var r=this.Xd(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Xd=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.G7.W7([n],i);case 3:return r=t.sent,n=r.pv,e=this.Z7.fp(r.x7,n,sB(n)),t.abrupt("return",{vg:e,J7:r.x7});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Xf)){t.next=16;break}throw new zC(qC.QY,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Wf)){t.next=24;break}if(0!==t.t0.ud._v){t.next=21;break}throw new zC(qC.YY,{code:"MFL3900",uri:n,status:t.t0.ud._v});case 21:throw new zC(qC.QY,{code:"MFL4100",uri:n,status:t.t0.ud._v});case 22:t.next=25;break;case 24:throw new zC(qC.h_,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),oB=function(t){function n(n,i){var r;return(r=t.call(this)||this).K7=void 0,r.ttt=void 0,r.ntt=void 0,r.itt=void 0,r.rtt=void 0,r.sK=void 0,r.Y$=void 0,r.ES=void 0,r.K7=new uB(i||{},iO.ts.l1,n),r}F(n,t);var i=n.prototype;return i.Dg=function(){void 0!==this.itt&&(a(this.itt),this.itt=void 0),this.ntt&&this.ntt.kv&&(this.ntt=void 0)},i.ett=function(t){if(this.Y$)for(var n=0,i=this.Y$.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.stt=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u.R7<3*s)?1e3*u.b7:s?1e3*s:1e4,i===n&&(e/=2),e=_.max(e-r,1e3)},i.utt=function(t){if(t.fragments.length>0)for(var n=this.ett(t.fragments[0].uri),i=n&&n.hZ||0,r=0,e=t.fragments;r<e.length;r++){e[r].hZ+=i}},i.ott=function(t,i,r,e,s,u){var o=this;if(this.ntt&&r===this.ntt.kv){var a=Wb()-i;if(e){this.ntt=void 0,this.ES=e;var c={type:"eh",eh:e};return this.dispatchEvent(c),s&&s(e)}this.ntt=void 0;var f=u.vg,v=u.J7;f.k7||this.utt(f),t===this.ttt&&(this.sK=f),this.Y$=f;var d=n.stt(f,v,this.rtt,a);f.live?f.isMasterPlaylist||(this.itt=h(function(){return o.Xd(t)},d)):this.Dg(),s&&s(e,u);var l={type:"htt",manifest:f,manifestText:v};this.dispatchEvent(l),this.rtt=v}},i.Xd=function(t,n){var i=this,r=Wb(),e=t;a(this.itt),this.itt=void 0;var s=this.K7.Wh(e,{},function(e,u){return i.ott(t,r,s,e,n,u)});this.ntt={kv:s,Av:t}},i.iI=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.Y$?this.Y$.uri:this.ttt))&&(this.ntt&&this.ntt.Av===t?n&&(i=function(t){s.removeEventListener("eh",r),s.removeEventListener("htt",i);var e=t;n(null,{vg:e.manifest,J7:e.manifestText})},r=function(t){s.removeEventListener("eh",r),s.removeEventListener("htt",i),n(t.eh)},this.addEventListener("eh",r),this.addEventListener("htt",i)):(this.Dg(),this.Xd(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.att=function(t){t&&(this.rtt=void 0,this.sK&&this.sK.isMasterPlaylist?this.iI(t.uri):this.Y$&&!this.ctt()&&this.iI(this.Y$.uri))},i.Gv=function(){this.Dg(),this.jo()},i.ctt=function(){return!!this.ntt||!!this.itt||!(!this.Y$||this.Y$.live)},M(n,[{key:"vg",get:function(){return this.Y$}},{key:"PK",get:function(){return this.sK}},{key:"z0",get:function(){return this.ttt},set:function(t){this.Dg(),this.rtt=void 0,this.sK=void 0,this.Y$=void 0,this.ttt=t}}]),n}(XC),hB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ea=void 0,r.Bl=void 0,r.ttt=void 0,r.ftt=void 0,r.Qb=void 0,r.Ea=i,r.Bl=ee(),r.ttt=null,r.ftt=null,r.Qb=n,r}F(n,t);var i=n.prototype;return i.iI=function(){var t=this,n=this.z0;if(n&&!this.ftt){var i=new oB(this.Qb,this.Ea);i.addEventListener("eh",function(i){var r=i.eh;t.dispatchEvent({type:"dtt",eh:r}),t.Bl.has(n)&&t.dispatchEvent({type:"eh",eh:r,ltt:n})}),i.addEventListener("htt",function n(r){i.removeEventListener("htt",n),i===t.ftt&&t.dispatchEvent({type:"_tt",vg:r.manifest})}),i.addEventListener("htt",function(i){t.Bl.has(n)&&t.dispatchEvent({type:n,vg:i.manifest})}),this.ftt=i,i.iI(n)}},i.gtt=function(t,n){this.wtt(t),this.ytt(n)},i.ytt=function(t){var n,i=this;this.Bl.has(t)||(t===this.z0?(this.iI(),(n=this.ftt).vg&&this.dispatchEvent({type:t,vg:n.vg},!0)):((n=new oB(this.Qb,this.Ea)).addEventListener("eh",function(n){i.dispatchEvent({type:n.type,eh:n.eh,ltt:t})}),n.addEventListener("htt",function(n){i.dispatchEvent({type:t,vg:n.manifest})})),this.Bl.set(t,n))},i.wtt=function(t){if(this.Bl.has(t)){var n=this.Bl.get(t);n!==this.ftt&&n.Gv(),this.Bl.delete(t),this.removeEventListener(t)}},i.mtt=function(t){if(this.Bl.has(t)){var n=this.Bl.get(t);n.ctt()||n.iI(t)}},i.ktt=function(){var t=this;this.Bl.forEach(function(n,i){return t.mtt(i)})},i.Hl=function(){this.Bl.forEach(function(t){return t.Gv()}),this.Bl.clear(),this.ftt&&(this.ftt.Gv(),this.ftt=null),this.ttt=null},M(n,[{key:"z0",get:function(){return this.ftt&&this.ftt.vg?this.ftt.vg.uri:this.ttt},set:function(t){this.Hl(),this.ttt=t}}]),n}(XC),aB=function(t){function n(){var n;return(n=t.call(this)||this).ptt=NaN,n}F(n,t);var i=n.prototype;return i.Att=function(t,n){for(var i=t.length?_.min.apply(_,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].Ah=Ng.ym(t[e]||0)}var s=t.length?_.max.apply(_,t):0;this.ptt=s,this.dispatchEvent({type:"btt",Ttt:s})},i.Ett=function(t,n){var i=[];if(n.length<2)return this.Att(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.Stt(t))return!1;i[e]=s.Ah.vw(s.Rtt(r,t)).ly()}return this.Att(i,n),!0},i.Itt=function(t,n){return this.Ett(t.NZ,n)},i.Ntt=function(t,n){if(n.length<2)return this.Att([],n),!0;var i=n[0].Ctt(t);if(y(i))return!1;for(var r=0;r<n.length;r++){if(n[r].Ctt(t)!==i)return!1}return this.Ett(i,n)},i.Hl=function(){this.ptt=NaN},i.Gv=function(){this.jo()},M(n,[{key:"Ttt",get:function(){return this.ptt}}]),n}(XC),cB=.001;function fB(t){return t.metadata.$J.$l+"Dtt"+t.metadata.hZ+"Ott"+t.metadata.iI+"xtt"+t.metadata.Z_}var vB=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.GQ=function(t,i){return new n(t,i)},i.Z2=function(t,n){return!1},n}(GO);function dB(t,n){var i=new vB([n]);return t.Ey(i).pI(i)}function lB(t,n){var i=function(t,n){var i=t.Q9,r=t.r3;if(!y(r)&&r===i)return!0;return!t.O4&&!!n&&n.Gp.$J===t.$J&&i>=n.eI&&i<=n.eI+cB}(t,n);return i||!y(t.r3)?{iI:i?t.Q9:t.r3,eI:t.M9,Gp:t}:null}var _B=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ptt=void 0,r.Rb=void 0,r.Btt=null,r.Ltt=function(){return r.Mtt()},r.Utt=[],r.Zg=[],r.Ftt=new vB([]),r.Htt=null,r.Ptt=n,r.Rb=i,r}F(n,t);var i=n.prototype;return i.Vtt=function(t){var n=t.metadata,i=n&&n.IZ;if(!i||!i.length)return E.resolve();for(var r=[],e=n.iI,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({iI:e,Z_:u.duration,eI:o,hZ:u.hZ,bh:u}),e=o}var h={$l:fB(t),iI:t.metadata.iI,w7:n.w7,Q9:n.Q9,Xtt:i[0].S4.o$?new Date(i[0].S4.o$.getTime()):null,Z_:t.metadata.Z_,eI:t.metadata.iI+t.metadata.Z_,Z9:n.Z9,M9:n.M9,q5:n.q5,r3:n.r3,IZ:r,$J:t.metadata.$J,t8:t.metadata.D4,O4:n.O4};return this.Utt.push(h),this.Wtt(this.Ptt.Vtt(t),h)},i.Wtt=function(t,n){var i=this;return t.then(function(){if(Ze(i.Utt,n)){i.Zg.push(n);var t=i.Htt,r=lB(n,t);r&&(i.Ftt=dB(i.Ftt,r)),i.Htt=r}i.Mtt(),i.qtt(n)}).catch(function(){Ze(i.Utt,n)})},i.qtt=function(t){var n=t.IZ[0],i=t.IZ[t.IZ.length-1],r=t.$J,e=r.DZ(n.hZ-1),s=hD.hg(r.f$);if(!e||s){var u=r.DZ(n.hZ),o=this.Rb.J2(u).ly(),h=t.w7,a=_.min(o,h);a<n.iI&&this.Ptt.gF(a,n.iI)}for(var c=0,f=this.Zg;c<f.length;c++){var v=f[c];if(v.$J===t.$J){var d=v.IZ[0],l=v.IZ[v.IZ.length-1];l.hZ+1===n.hZ&&l.eI!==n.iI?this.Ptt.gF(l.eI,n.iI):d.hZ-1===i.hZ&&i.eI!==d.iI&&this.Ptt.gF(i.eI,d.iI)}}},i.gh=function(){this.Utt.length=0,this.Zg.length=0,this.Ftt=new vB([]),this.Htt=null},i.Mtt=function(){if(this.ztt&&!this.ztt.xO){var t=this.ztt.Zg||RO;t=function(t,n){for(var i=PO(t),r=0;r<i.length;r++){var e=i[r],s=n.z2(e.eI,cB);if(s>=0){var u=n.IZ(s),o=u[u.length-1],h=o.Gp.Z9,a=o.Gp.M9;h-cB<e.eI&&e.eI<a&&(e.eI=a)}}return new SO(i)}(t,this.Ftt),this.Zg=this.Zg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.iI,n.eI)>=0}),this.Ftt=this.Ftt._I(t)}},i.Gv=function(){this.jo(),this.gh(),this.ztt=null},i.Gtt=function(t){var n=this.jtt(t);if(n)for(var i=0,r=n.IZ;i<r.length;i++){var e=r[i];if(e.iI<=t&&e.eI>t)return e}return null},i.jtt=function(t){for(var n=0,i=this.Zg;n<i.length;n++){var r=i[n];if(r.iI<=t&&r.eI>t)return r}return null},i.Qtt=function(t){for(var n=0,i=this.Zg;n<i.length;n++){var r=i[n];if(r.$J.$l===t.$J.$l)for(var e=0,s=r.IZ;e<s.length;e++){if(s[e].hZ===t.hZ)return!0}}return!1},i.Ytt=function(){return this.Ztt()[0]},i.Ztt=function(){for(var t=this.Ftt,n=this.Htt,i=0,r=this.Utt;i<r.length;i++){var e=lB(r[i],n);e&&(t=dB(t,e)),n=e}return[t,n]},M(n,[{key:"Xl",get:function(){return this.Utt.length+this.Zg.length}},{key:"ztt",get:function(){return this.Btt},set:function(t){this.Btt&&this.Btt.removeEventListener("updateend",this.Ltt),this.Btt=t,this.Btt&&(this.Btt.addEventListener("updateend",this.Ltt),this.Mtt())}}]),n}(XC);function gB(t,n,i){!function(t,n,i){for(var r=i.S3,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.i3(t,u.Ob.D3).ly(),h=0,a=u.hV;h<a.length;h++){var c=a[h];e.push(new pI(o,c))}i.l_=e}(t,n,i)}function wB(t,n){return t&&n?_.abs(t.hZ-n.hZ)<=1?Ng.Py:Ng.Oy(n.Rp-t.Rp,1e3):Ng.Py}var yB=function(){function t(t,n,i,r,e){this.OZ=void 0,this.W9=void 0,this.Jtt=void 0,this.$tt=void 0,this.vo=void 0,this.d9=void 0,this.Ah=Ng.Py,this.Ktt=!1,this.tnt=null,this.OZ=t,this.W9=t.$J.IZ.fZ(n.hZ),this.d9=this.W9,this.Jtt=i,this.$tt=r,this.vo=e||null}var n=t.prototype;return n.nnt=function(){if(this.tnt)return this.tnt;var t=this.int();return(t.rnt||t.eh)&&(this.tnt=t),t},n.ent=function(){return{rnt:!1,eh:!1,Ktt:this.Ktt,Dw:Ng.mm}},n.rnt=function(t){return t.Sy()?{rnt:!1,eh:!0,Ktt:this.Ktt,Dw:Ng.mm}:{rnt:!0,eh:!1,Ktt:this.Ktt,Dw:t}},t}();function mB(t,n){switch(n){case"CJ":return Lg(t.B5)?t.B5:t.iJ;case"DJ":return Lg(t.M5)?t.M5:t.iJ;default:return t.iJ}}var kB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.int=function(){var t=this.OZ,n=t.$J,i=n.IZ,r=i.vZ(this.d9);if(t.dw(r)){if(this.$tt&&t.snt&&vD(r)){var e=mB(r,this.vo),s=t.unt(e,r.ont);return this.rnt(s.Ey(this.Ah))}if(this.Jtt&&r===t.hnt){var u=t.Ow.Ey(dD(r));return this.rnt(u.Ey(this.Ah))}this.d9+=1;var o=wB(r,i.vZ(this.d9));return this.Ktt=this.Ktt||o._y(Ng.Py),this.Ah=this.Ah.vw(o).vw(dD(r)),this.ent()}return this.rnt(Ng.mm)},n}(yB),pB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.int=function(){var t=this.OZ,n=t.$J,i=n.IZ,r=i.vZ(this.d9);if(t.dw(r)){if(this.$tt&&t.snt&&vD(r)){var e=mB(r,this.vo),s=t.unt(e,r.ont);return this.rnt(s.vw(this.Ah))}if(this.Jtt&&r===t.ant){var u=t.Dw;return this.rnt(u.vw(this.Ah))}this.d9-=1;var o=i.vZ(this.d9),h=wB(o,r);return this.Ktt=this.Ktt||h._y(Ng.Py),this.Ah=this.Ah.vw(h).vw(dD(o)),this.ent()}return this.rnt(Ng.mm)},n}(yB);var AB=function(){function t(t,n,i){this.hZ=void 0,this.$J=void 0,this.Dw=Ng.Py,this.Ow=Ng.Py,this.ant=null,this.hnt=null,this.cnt=!1,this.fnt=Ng.mm,this.vnt=Ng.mm,this.dnt=!1,this.lnt=void 0,this.hZ=t,this.$J=n,this.lnt=i}var n=t.prototype;return n.dw=function(t){return t&&t.NZ===this.hZ},n.unt=function(t,n){var i=t.Ey(this.fnt).vw(this.vnt);if(void 0!==n){var r=i.Ey(n);if(r.Ay()._y(Bg)){var e=_.round(r.ly()/Pg.ly());i=i.Ey(Pg.Ky(e))}}return i},n._nt=function(t,n){var i=this.gnt(t);this.wnt(n);var r=this.ynt();return i||r||t===this.hnt&&this.mnt()},n.gnt=function(t){if(this.snt&&Cg(t.F5,this.fnt)>=0)return!1;var n;if(n=this.snt?this.knt(t,!0,!1):this.pnt(t,!0,!1),this.fnt.Sy())this.fnt=t.F5;else{var i=Hg(t.F5,this.fnt);this.fnt=this.fnt.vw(i)}return this.vnt=n,!0},n.wnt=function(t){if(!t)return!1;if(this.lnt)return!1;if(!this.Ant())return!1;var n=this.$J.IZ,i=this.ant,r=n.dZ(i.hZ-1);if(vD(i)&&vD(r)){var e=function(t,n,i){var r=t.i3(n,n.N4);if(!Lg(i.U5)||!Lg(i.M5))return r;var e,s=Lg(i.B5),u=Ug(i.M5,i.U5);if(s){var o=Mg(Ug(i.M5,i.B5),Ng.Py);e=Mg(Ug(u,o),Ng.Py)}else e=u;return Ug(r,e)}(t,r,i);return this.dnt=!0,this.bnt(e)}return!1},n.bnt=function(t){if(t.Zw(this.Dw))return!1;var n=t.Ey(this.Dw);return this.Dw=t,this.Ow=this.Ow.vw(n),this.vnt=this.vnt.vw(n),!0},n.ynt=function(){if(this.lnt)return!1;var t=this.hnt;if(!t)return!1;var n,i=new pB(this,t,!1,!0);do{n=i.nnt()}while(!n.rnt&&!n.eh&&!n.Ktt);if(n.rnt&&!n.Ktt){var r=n.Dw.vw(dD(t));if(!r.Zw(this.Ow))return this.Ow=r,!0}return!1},n.Tnt=function(t){var n=!1;return n=this.wnt(t)||n,n=this.Ent(t)||n},n.Ent=function(t){if(!t)return!1;if(this.dnt)return!1;var n=t.Ow.vw(wB(t.hnt,this.ant));return this.bnt(n)},n.Snt=function(t){var n=!1;return(!this.ant||this.ant.hZ>t.hZ)&&(this.Dw=this.Dw.Ey(wB(t,this.ant)),this.ant=t,n=!0),(!this.hnt||this.hnt.hZ<t.hZ)&&(this.Ow=this.Ow.vw(wB(this.hnt,t)).vw(dD(t)),this.hnt=t,n=!0),n},n.Rnt=function(t){if(!this.snt||!t.snt)return Ng.mm;if(this.fnt.my(t.fnt)){var n=this.unt(t.fnt,t.vnt);return t.vnt.Ey(n)}return t.unt(this.fnt,this.vnt).Ey(this.vnt)},n.Ant=function(){var t=this.ant;return!!t&&function(t,n){return n.NZ===t&&n.OZ}(this.hZ,t)},n.mnt=function(){var t=this.hnt;if(!t)return!1;var n=this.$J.IZ.dZ(t.hZ+1);return function(t,n,i){return n.NZ===t&&(!i||i.OZ)}(this.hZ,t,n)},n.Int=function(t,n){return this.knt(t,!0,!0,n)},n.pnt=function(t,n,i){if(!this.dw(t))return Ng.mm;var r,e=new pB(this,t,n,i);do{r=e.nnt()}while(!r.rnt&&!r.eh);if(!r.rnt)return Ng.mm;var s=r.Dw;return s.py(this.Dw)?this.Dw:s},n.knt=function(t,n,i,r){if(!this.dw(t))return Ng.mm;var e,s,u,o,h,a=new kB(this,t,n,i,r),c=new pB(this,t,n,i,r);do{e=a.nnt(),s=c.nnt()}while(!(e.rnt||s.rnt||e.eh&&s.eh));if(s.rnt)u=s,o=e,h=a;else{if(!e.rnt)return Ng.mm;u=e,o=s,h=c}if(u.Dw.py(this.Dw)){for(;!o.rnt&&!o.eh;)o=h.nnt();return o.rnt?Ng.cm(this.Dw,o.Dw):this.Dw}if(u.Ktt){for(;!o.Ktt&&!o.rnt&&!o.eh;)o=h.nnt();if(o.rnt&&!o.Ktt&&this.Dw.my(o.Dw))return o.Dw}return u.Dw},n.i3=function(t,n){return this.dw(t)&&this.snt?this.unt(n,t.ont):Ng.mm},n.Ztt=function(){0},M(t,[{key:"snt",get:function(){return!this.fnt.Sy()}}]),t}();function bB(t,n){return n.py(t.Dw)?vg.hy:n.wy(t.Ow)?vg.ay:vg.oy}var TB=function(){function t(){this.Nnt=new JC}var n=t.prototype;return n.dZ=function(t){return this.Nnt.dZ(t)},n.vZ=function(t){return this.Nnt.vZ(t)},n.Cnt=function(t){var n=this.Nnt.fZ(t);return n<0?null:this.Nnt.vZ(n-1)},n.nnt=function(t){var n=this.Nnt.fZ(t);return n<0?null:this.Nnt.vZ(n+1)},n.Dnt=function(){return this.Nnt.vZ(0)},n.Ont=function(){var t=this.Nnt.Xl;return 0===t?null:this.Nnt.vZ(t-1)},n.xnt=function(t){var n=this.Nnt,i=this.Ont();if(i&&function(t,n){return t.Dw.my(n)&&n.py(t.Ow)}(i,t))return i;var r=iR(this.Nnt.gZ(),t,I,bB);return n.vZ(r)},n.vw=function(t){var n=this.Nnt.vw(t);if(n&&!this.nnt(t.hZ)){t.cnt=!0;var i=this.Cnt(t.hZ);i&&(i.cnt=!1)}return n},n.qh=function(t){var n=this.Nnt.qh(t);if(n&&t.cnt){t.cnt=!1;var i=this.Cnt(t.hZ);i&&(i.cnt=!0)}return n},n.mZ=function(t){this.Nnt.mZ(t)},n.Ztt=function(){},M(t,[{key:"Xl",get:function(){return this.Nnt.Xl}}]),t}();var EB=Ng.ym(10),SB=function(){function t(t,n,i){this.$J=void 0,this.Pnt=!1,this.Bnt=!1,this.Lnt=new TB,this.Mnt=Ng.Py,this.Unt=void 0,this.Fnt=null,this.Hnt=null,this.lnt=void 0,this.$J=t,this.Unt=n.liveOffset,this.lnt=i}var n=t.prototype;return n.Vnt=function(t){var n=this.$J,i=t?t.fragments:null,r=n.IZ;if(!t||!i||!i.length)return!1;this.Pnt=!0;var e,s=!1;if(!this.Lnt.Xl){var u=r.dZ(i[0].hZ).NZ,o=new AB(u,n,this.lnt);o.bnt(this.Ah),this.Lnt.vw(o),s=!0}if(this.Hnt){var h=r.fZ(this.Hnt.hZ);e=h<0?0:h+1}else e=0;for(var a=e,c=r.vZ(a),f=null,v=!1;c;){var d=c.NZ;if(f&&f.hZ===d||(f&&v&&this.Xnt(f),f=this.Lnt.dZ(d),s=s||v,v=!1),!f){f=new AB(d,n,this.lnt),this.Lnt.vw(f);var l=this.Lnt.Cnt(d);f.Tnt(l||void 0)}v=f.Snt(c)||v,c=r.vZ(++a)}return f&&v&&this.Xnt(f),(s=s||v)&&this.Wnt(),this.Lnt.Ont()&&this.W$(n.IZ),this.Fnt=r.dZ(i[0].hZ),this.Hnt=r.dZ(i[i.length-1].hZ),s},n._nt=function(t){var n=this.Lnt.dZ(t.NZ);if(!n)return!1;this.Bnt=!0;var i=this.Lnt.Cnt(n.hZ),r=n._nt(t,i);return r&&this.Xnt(n),r},n.Xnt=function(t){for(var n=t,i=this.Lnt.nnt(t.hZ),r=!0;r&&i;)r=i.Tnt(n),n=i,i=this.Lnt.nnt(i.hZ)},n.Wnt=function(){for(var t=!1,n=this.Lnt.Dnt(),i=n&&this.Lnt.nnt(n.hZ);n&&i;)n.Ow._y(i.Dw)&&(i.bnt(n.Ow),t=!0),n=i,i=this.Lnt.nnt(n.hZ);return t},n.qnt=function(t){var n=this.Lnt.Ont(),i=t.Lnt.Ont();if(!this.lnt){if(n&&this.znt(t,n.hZ))return!0;if(i&&this.znt(t,i.hZ))return!0}return this.Gnt?!(!n||!this.jnt(t,n.hZ))||(!(!i||!this.jnt(t,i.hZ))||(!(!n||!this.Qnt(t,n.hZ))||(!(!i||!this.Qnt(t,i.hZ))||this.Ynt(t)))):this.Znt(t)},n.Znt=function(t){var n=this.Lnt.Dnt(),i=t.Lnt.Dnt();return!(!n||!i)&&(this.mh(i.Dw.Ey(n.Dw)),!0)},n.znt=function(t,n){var i=this.Lnt.dZ(n);if(!i||!i.snt)return!1;var r=t.Lnt.dZ(n);return!(!r||!r.snt)&&(this.mh(i.Rnt(r)),!0)},n.jnt=function(t,n){var i=this.Lnt.dZ(n);if(!i||!i.Ant())return!1;var r=t.Lnt.dZ(n);return!(!r||!r.Ant())&&(this.mh(r.Dw.Ey(i.Dw)),!0)},n.Qnt=function(t,n){var i=this.Lnt.dZ(n);if(!i)return!1;var r=this.Jnt(i.hnt.hZ);if(!r)return!1;var e=t.Lnt.dZ(n);if(!e)return!1;var s=t.Jnt(e.hnt.hZ);if(!s)return!1;var u=i.Int(i.hnt),o=e.Int(e.hnt),h=Ng.bm(r).Ey(Ng.bm(s)),a=u.Ey(o);return this.mh(h.Ey(a)),!0},n.Ynt=function(t){if(!this.Bnt&&!t.Bnt)return!1;var n=this.Lnt.Ont(),i=t.Lnt.Ont();if(n&&n.hnt&&i&&i.hnt){var r=Ng.Oy(n.hnt.Rp-i.hnt.Rp,1e3),e=n.Ow.Ey(i.Ow);return this.mh(r.Ey(e)),!0}return!1},n.W$=function(t){var n=this.Lnt.Ont();if(n)for(var i=n.Ow,r=t.Xl-1;r>=0;r--){var e=t.vZ(r);if(i=i.Ey(Ng.ym(e.duration)),void 0!==e.ont){0;break}e.ont=i}},n.Ctt=function(t){var n=this.Lnt.xnt(t);return n?n.hZ:NaN},n.J2=function(t,n){var i=this.Lnt.dZ(t.NZ);return i?i.Int(t,n):Ng.mm},n.K2=function(t,n){var i=this.$J.IZ.dZ(t.hZ+1);if(i){var r=this.J2(i);return r}return n.vw(function(t){if(!t)return Ng.Py;if(!vD(t))return Ng.ym(t.duration);var n=t.rJ||Ng.Py,i=t.eJ||Ng.Py,r=Ng.ym(t.duration);return n.Fy()||i.Fy()?n.Fy()?i.Fy()?r.Fy()?r:Ng.Py:i:n:Ng.cm(n,i)}(t))},n.i3=function(t,n){var i=this.Lnt.dZ(t.NZ);return i&&i.snt?i.i3(t,n):Ng.mm},n.G9=function(t,n){var i=this.$J.IZ;return i.Xl?function(t,n,i,r,e){var s,u,o=t.$J.IZ,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.J2(o.vZ(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.py(f))return{Gp:s=o.vZ(c),$nt:f};if(n.wy(d)&&(s=o.vZ(v)).D4)return{Gp:s,$nt:d};for(;f.my(n)&&n.my(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.Ey(f).ly()*(v-c)/d.Ey(f).ly())||0,g=a(l)),g._y(n))d=a(v=l-1);else{if(s=o.vZ(l),!(w=(u=l)===r?a(u).vw(dD(o.vZ(u))):a(u+1)).my(n))return s&&n.my(g.vw(dD(s)))?{Gp:s,$nt:g}:(s=o.vZ(l+1))&&{Gp:s,$nt:w};c=l+1,f=w}}if(d.my(n)){if((s=o.vZ(v))&&n.my(d.vw(dD(s))))return{Gp:s,$nt:d};if(v<r&&(s=o.vZ(v+1),d=a(v+1),s&&n.py(d)))return{Gp:s,$nt:d}}return null}(this,t,0,i.Xl-1,n):null},n.Jnt=function(t){var n=this.$J.IZ,i=n.fZ(t),r=n.vZ(i),e=r,s=Ng.Py;if(r.o$)return r.o$;for(var u=i-1;u>=0;u--){var o=n.vZ(u);if(s=s.vw(dD(o)).vw(wB(o,e)),o.o$)return new Date(o.o$.getTime()+1e3*s.ly());e=o}return null},n.Knt=function(t){for(var n=this.$J.IZ,i=void 0,r=0;r<n.Xl;r++){var e=n.vZ(r);if(e.o$){if(!(e.o$.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Ng.mm;var s=Ng.bm(t).Ey(Ng.bm(i.o$));return this.J2(i).vw(s)},n.mh=function(t){if(!t.Zw(Ng.Py))for(var n=this.Lnt.Xl,i=0;i<n;i++){var r=this.Lnt.vZ(i);r.bnt(r.Dw.vw(t))}},n.Stt=function(t){var n=this.Lnt.dZ(t);return n&&n.snt},n.Rtt=function(t,n){if(this===t)return Ng.Py;var i=this.Lnt.dZ(n),r=t.Lnt.dZ(n);return i&&r?i.Rnt(r):Ng.mm},n.Ztt=function(){0},M(t,[{key:"Gnt",get:function(){var t=this.$J.CZ;return!!t&&t.live}},{key:"tit",get:function(){var t=this.$J.CZ;return!!t&&t.isEvent}},{key:"nit",get:function(){var t=this.Fnt;return t?this.J2(t):Ng.Py}},{key:"iit",get:function(){var t=this.Lnt.Ont();return t?t.Ow:Ng.Py}},{key:"rit",get:function(){if(!this.Gnt)return Ng.Py;var t=this.iit.Ey(this.eit);return Ng.cm(this.nit,t)}},{key:"eit",get:function(){return this.Unt&&Ng.ym(this.Unt)||this.sit.Ky(3)}},{key:"uit",get:function(){return this.Gnt&&this.Hnt?Ng.Oy(Wb()-this.Hnt.Rp,1e3):Ng.Py}},{key:"sit",get:function(){var t=this.$J.CZ;return t&&t.targetDuration?Ng.ym(t.targetDuration):EB}},{key:"Ah",get:function(){return this.Mnt},set:function(t){var n=t.Ey(this.Mnt);this.Mnt=t,this.mh(n)}}]),t}(),RB=function(t){function n(n){var i;return(i=t.call(this)||this).oit=[],i.hit={},i.ait=null,i.cit=null,i.Mnt=Ng.Py,i.lnt=void 0,i.fit=void 0,i.fit=n,i}F(n,t);var i=n.prototype;return i.vit=function(t){return t&&this.hit[t.$l]||null},i.dit=function(t){var n=this.vit(t);return n||((n=new SB(t,this.fit,!!this.lnt)).Ah=this.Mnt,this.oit.push(n),this.hit[t.$l]=n),n},i.lit=function(t){var n;switch(null==(n=this.fit.hls)?void 0:n.discontinuityAlignment){case XA.AC:return!0;case XA.bC:return!1;default:return t.isEvent||t.hasEnd}},i.Vnt=function(t,n){void 0===this.lnt&&(this.lnt=this.lit(n));var i=this.vit(this.ait),r=i?i.nit:Ng.Py,e=i?i.iit:Ng.Py,s=this.dit(t),u=s.Pnt,o=s.Vnt(n);if(!u&&s.Pnt&&(s.mh(this._it(t)),o=!0),o=this.git(s)||o,this.wit(s,r,e)){var h=new zC(qC.eZ,{code:"MFU0166"});this.dispatchEvent({type:"eh",eh:h})}else this.ait=t,o&&this.dispatchEvent("z$")},i._nt=function(t,n){if(vD(n)){0;var i=this.dit(t),r=i._nt(n);r=this.git(i)||r,this.cit=t,r&&this.dispatchEvent("z$")}},i.git=function(t){var n=!1,i=!1,r=this.vit(this.cit);r&&(r===t?n=!0:i=(n=t.qnt(r))||i);var e=this.vit(this.ait);return e&&e!==t&&(i=n?e.qnt(t)||i:t.qnt(e)||i),i},i._it=function(t){var n=this.vit(t),i=!n.Gnt,r=t.CZ&&t.CZ.isEvent;return i||r?Ng.Py:n.sit.Ky(3)},i.wit=function(t,n,i){if(!t.Gnt)return!1;var r=t.nit,e=t.iit,s=Ng.fm(e,i).Ey(Ng.cm(r,n)),u=Ng.cm(t.sit.Ky(3),s.rm(2));return r.vw(u).py(n)},i.W$=function(t,n){var i=this.vit(t)||this.vit(this.ait);return i&&i.W$(n)},i.Ctt=function(t){var n=this.ait&&this.vit(this.ait);return n?n.Ctt(t):NaN},i.yit=function(t,n){var i=t.DZ(n);return this.J2(i)},i.J2=function(t){if(!t)return Ng.mm;var n=this.vit(t.$J)||this.vit(this.ait);return n?n.J2(t):Ng.mm},i.K2=function(t,n){if(!t)return Ng.mm;var i=this.vit(t.$J)||this.vit(this.ait);return i?i.K2(t,n):Ng.mm},i.i3=function(t,n){if(!t||!n)return Ng.mm;var i=this.vit(t.$J)||this.vit(this.ait);return i?i.i3(t,n):Ng.mm},i.G9=function(t,n,i){var r=this.vit(t);if(!r)return null;var e=r.G9(n,i);return e?{Gp:e.Gp,$nt:e.$nt}:null},i.Jnt=function(t,n){var i=this.vit(t)||this.vit(this.ait);return i?i.Jnt(n):null},i.Knt=function(t,n){var i=this.vit(t)||this.vit(this.ait);return i?i.Knt(n):Ng.mm},i.Stt=function(t){return void 0!==this.mit(t)},i.Rtt=function(t,n){if(this===t)return Ng.Py;var i=this.mit(n),r=t.mit(n);return i&&r?i.Rtt(r,n):Ng.mm},i.mit=function(t){return Qe(this.oit,function(n){return n.Stt(t)})},i.Gv=function(){this.jo(),this.oit.length=0,this.hit={},this.ait=null,this.cit=null,this.Mnt=Ng.Py},i.Ztt=function(){0},M(n,[{key:"kit",get:function(){return this.nit.Ey(this.sit.Ky(3))}},{key:"eit",get:function(){var t=this.fit.liveOffset;return Ng.ym(t||3*this.sit.ly())}},{key:"Gnt",get:function(){var t=this.vit(this.ait);return!!t&&t.Gnt}},{key:"aw",get:function(){return this.ait?new SO([{iI:this.nit.ly(),eI:this.iit.ly()}]):RO}},{key:"nit",get:function(){if(!this.ait)return Ng.Py;var t=this.vit(this.ait);return t.tit?t.nit:t.nit.vw(t.uit)}},{key:"iit",get:function(){if(!this.ait)return Ng.Py;var t=this.vit(this.ait);return t.iit.vw(t.uit)}},{key:"rit",get:function(){if(!this.ait)return Ng.Py;var t=this.vit(this.ait);return t.rit.vw(t.uit)}},{key:"sit",get:function(){return this.ait?this.vit(this.ait).sit:EB}},{key:"Ah",get:function(){return this.Mnt},set:function(t){if(!this.Mnt.Zw(t)){this.Mnt=t;for(var n=0,i=this.oit;n<i.length;n++){i[n].Ah=t}this.dispatchEvent("z$")}}}]),n}(XC),IB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype._it=function(t){return Ng.Py},n}(RB),NB=.25,CB=1/60;function DB(t,n){return gg(t,n,CB)}var OB,xB=function(t,n,i){this.$J=void 0,this.Dw=void 0,this.Z_=void 0,this.Ow=void 0,this.Gp=void 0,this.pit=NaN,this.Ait=NaN,this.bit=0,this.$J=t.$J,this.Dw=n,this.Ow=i,this.Z_=i-n,this.Gp=t},PB=function(t,n,i){this.$J=void 0,this.Dw=void 0,this.Z_=void 0,this.Ow=void 0,this.pit=NaN,this.Ait=NaN,this.bit=0,this.$J=t,this.Dw=n,this.Ow=i,this.Z_=i-n};function BB(t){return!(!t||!t.Gp)}function LB(t,n,i){return r=n,e=i,s=t.Dw,u=t.Ow,DB(r,u)<=0&&DB(s,e)<=0;var r,e,s,u}function MB(t,n){return DB(t.Dw,n)<=0?t.Ow:t.Dw}function UB(t,n,i){return(t-n)/i-NB}function FB(t,n){return n.Ey(t).pI(t)}function HB(t,n){var i=_.min(CB,t.Z_/2);return n.EI(t.Dw,t.Ow,i)}function VB(t,n){var i=n.X2(t);return-1===i?t:n.end(i)}function XB(t){return t.Ait<=t.pit}function WB(t,n){if(!XB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.bit+n.Ait>r.pit)return!1}return!0}function qB(t,n){for(var i=0;i<t.length;i++){t[i].bit+=n.Ait}n.bit=n.Ait,t.push(n)}!function(t){t[t.Tit=0]="Tit",t[t.Eit=1]="Eit",t[t.Sit=2]="Sit",t[t.p8=3]="p8"}(OB||(OB={}));var zB=function(){function t(t,n,i,r){this.Up=void 0,this.Rb=void 0,this.Rit=void 0,this.Iit=void 0,this.Nit=void 0,this.q1=void 0,this.Up=t,this.Rb=n,this.Rit=i,this.Iit=r,this.Nit=iO.ts.l1,this.q1=iO.ts.d1}var n=t.prototype;return n.Cit=function(){return this.Rit.IJ.reduce(function(t,n){return _.max(t,n.CZ&&n.CZ.targetDuration||0)},0)},n.Dit=function(t,n){void 0===n&&(n=this.Rb.J2(t).ly());var i=this.Rb.K2(t,Ng.ym(n));return new xB(t,n,i.ly())},n.Oit=function(t,n){var i=t.IZ.vZ(n);return i&&this.Dit(i)||null},n.xit=function(t){var n=t.$J,i=n.IZ.fZ(t.hZ);return i>=0&&this.Oit(n,i-1)||null},n.Pit=function(t){var n=t.$J,i=n.IZ.fZ(t.hZ);return i>=0&&this.Oit(n,i+1)||null},n.Bit=function(t,n){var i=this.Rb.G9(t,Ng.ym(n));return i&&this.Dit(i.Gp,i.$nt.ly())||null},n.Lit=function(t){var n=t.IZ.Xl-1;return n>=0&&this.Oit(t,n)||null},n.Mit=function(t,n,i){var r=t.CZ&&t.CZ.targetDuration||this.Cit()||10,e=_.max(0,n-r),s=e+r;return i&&LB(i,e,s)&&(s=(e=i.Ow)+r),new PB(t,e,s)},n.Uit=function(t,n,i){var r=this.Iit.V6,e=.8*this.Iit.X6,s=(n.bandwidth||0)*t.Z_;return i&&i.W0?((s=8*i.d2||s)-8*i.v2)/e:r+s/e},n.Fit=function(){for(var t=this.Iit.w6(this.Up),n=this.Iit.Y5(this.Up),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Hit=function(t,n){var i=n.filter(function(n){return n.$J===t});return QO(this.Rb,i).Q2()},n.Vit=function(t){return"audio"===this.Up&&t?[t]:this.Rit.IJ},n.Xit=function(t){for(var n=new jO([]),i=new jO([]),r=this.Fit(),e={Wit:{},qit:{},zit:{},Git:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Hit(u,r),h=$O(this.Rb,o);e.Wit[u.$l]=o,e.qit[u.$l]=h,e.zit[u.$l]=n=FB(n,o),e.Git[u.$l]=i=FB(i,h)}return e},n.jit=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].$l],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({iI:d,eI:l})}return 0===(s=CO(s=NO(new SO(a)),new SO([{iI:t,eI:n}]))).length||DB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,DB(u,t)<=0&&DB(h,o)<=0)?NaN:s.end(0)},n.Qit=function(t,n,i){var r=null,e=i.Wit[t.$l],s=i.zit[t.$l],u=i.Git[t.$l],o=s.X2(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new SO([{iI:h,eI:a}]),f=s._I(c).Ey(u),v=0;v<f.length;v++){var d=f.start(v),l=f.IZ(v)[0];if(l.Gp.$J===t){if(r=this.xit(l.Gp))return r}else{for(r=this.Bit(t,d);r&&HB(r,e);)r=this.xit(r.Gp);if(r)return r}}var g=s.IZ(o),w=g[g.length-1];if(w.Gp.$J===t&&(r=this.Pit(w.Gp)))return r}var y=this.Lit(t);if(!y||DB(y.Ow,n)<=0){if(!y||!y.Gp.D4)return r=this.Mit(t,n,y);r=y}for(r||(r=this.Bit(t,n));r&&HB(r,s);)r=this.Pit(r.Gp);return r},n.Yit=function(t,n){var i=this.Lit(t);return i&&i.Gp.D4&&DB(i.Ow,n)<=0?i:this.Bit(t,n)},n.Zit=function(t,n,i,r,e,s,u,o){var h=t.$J,a=u.zit[h.$l],c=!HB(t,a),f=c?n:MB(t,r);t.pit=UB(f,r,s),t.Ait=this.Uit(t,h);var v=o&&this.Dit(o);if(v&&!HB(v,a)){var d=MB(v,r);if(v.pit=UB(d,r,s),v.Ait=this.Uit(v,h,i&&i.z1),XB(v)&&(!c||function(t,n){var i=[];return!!WB(i,n)&&(qB(i,n),!(!BB(t)||!BB(n)||t.Gp!==n.Gp)||!!WB(i,t))}(t,v)))return v}if(c&&!XB(t))return null;var l=this.Jit(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Jit=function(t,n,i,r,e){for(var s=[],u=t.$J,o=t;o&&n<o.Ow&&i<=o.Dw;){if(!HB(o,e)){if(y(o.pit)){var h=MB(o,n);o.pit=UB(h,n,r),o.Ait=this.Uit(o,u)}WB(s,o)&&qB(s,o)}o=BB(o)&&this.xit(o.Gp)}return s},n.$it=function(t,n){return t.Dw<n?{t_:OB.Sit}:BB(t)?{t_:OB.Tit,Gp:t.Gp,Dw:t.Dw}:{t_:OB.Eit,$J:t.$J}},n.l6=function(t){if(fD(t.uri)){var n=t.uri,i=eO(n.tJ,[n.nJ.iI,n.nJ.eI]);return this.q1.vh(i)}var r=eO(t.uri);return this.q1.vh(r)},n.Kit=function(t){return this.Nit.vh(t.uri)},n.trt=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,w,m,k,p,A,b;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Vit(e),f=this.Xit(c),v=this.Rb.kit.ly(),d=this.jit(n,i,s,c,f.qit),g=null,m=!1,!y(d)){t.next=3;break}return t.abrupt("return",{t_:OB.p8});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{t_:OB.Sit});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=VB(d,f.qit[l.$l]),!(g=this.Qit(l,_,f))){t.next=24;break}if(p=!1,!BB(g)){t.next=18;break}return t.next=15,this.l6(g.Gp);case 15:p=t.sent,t.next=22;break;case 18:if(l.d$){t.next=22;break}return t.next=21,this.Kit(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.$it(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+NB&&a.length)){t.next=33;break}if(l=a[0],_=VB(d,f.qit[l.$l]),!(g=this.Qit(l,_,f))){t.next=33;break}return t.abrupt("return",this.$it(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=VB(d,f.qit[l.$l]),(g=this.Qit(l,_,f))?w=g:(m=!0,w=this.Yit(l,_)),!w){t.next=45;break}if(!(b=this.Zit(w,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.$it(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{t_:OB.p8});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.$it(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{t_:OB.p8});case 54:if(l=h[0],_=VB(d,f.qit[l.$l]),!(g=this.Qit(l,_,f))){t.next=61;break}return t.abrupt("return",this.$it(g,v));case 61:return t.abrupt("return",{t_:OB.p8});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),GB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).nrt=i,o.irt=r,o.jA=e,o.Up=s,o.Xv=u,o}return F(n,t),n}(Ss),jB=function(t){function n(n,i,r,e,s){return t.call(this,Yo.Sc,n,i,r,e,s)||this}return F(n,t),n}(GB),QB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,Yo.Ic,n,i,r,e,s)||this).rrt=u,h.ew=o,h}return F(n,t),n}(GB),YB=Ng.ym(.1);function ZB(t,n){return(t.R9===n.R9?Cg(t.D3,n.D3):Cg(t.ert,n.ert))||lg(t.jA,n.jA)}var JB,$B=function(){function t(){}return t.urt=function(t,n,i){if(!(n>=i)){var r=ns(t,function(t,n){return new rC(t.map(function(t){return t?t.ort():null}),n).BG()});if(0!==r.length)return new uC(n,i,r)}},t}(),KB="black",tL="white",nL=function(){function t(t,n){this.hrt=void 0,this.art=void 0,this.crt=void 0,this.frt=void 0,this.vrt=void 0,this.drt=void 0,this.lrt=void 0,this._rt=void 0,this.grt=void 0,this.hrt=new Array(iL+1);for(var i=0;i<=iL;i++)this.hrt[i]=new QN;this.art=1,this.crt=0,this.frt=t,this.vrt=n,this.drt=!1,this.lrt=!1,this._rt=tL,this.grt=KB,this.Hl()}var n=t.prototype;return n.wrt=function(t,n){var i="CC"+(this.frt<<1|this.vrt+1);if(t>=n)return null;var r=(new iC).pG(this.hrt.slice(1));return 0===r.length?null:{Cw:new uC(t,n,r),nv:i,WG:this.frt<<1|this.vrt+1}},n.Hl=function(){this.yrt(),this.art=1},n.mrt=function(){return this.art},n.krt=function(t){this.art=t},n.nG=function(t){this.hrt[this.art].nG(t)},n.iG=function(t){this.hrt[this.art].iG(t)},n.prt=function(){return this.crt},n.Art=function(t){this.crt=t},n.eG=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case JB.brt:i=void 0!==eL[n]?eL[n]:String.fromCharCode(n);break;case JB.Trt:i=sL[n];break;case JB.Ert:this.Srt(),i=uL[n];break;case JB.Rrt:this.Srt(),i=oL[n]}i&&this.hrt[this.art].addParsedChar(i)}},n.Srt=function(){this.hrt[this.art].rG()},n.Irt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.hrt[t+r]=this.hrt[n+r];else for(var e=0;e<i;e++)this.hrt[t+e]=this.hrt[n+e]},n.Nrt=function(t,n){for(var i=0;i<=n;i++)this.hrt[t+i]=new QN},n.yrt=function(){this.Nrt(0,iL)},n.Crt=function(){this.art=this.crt>0?this.crt:0,this.yrt()},n.Drt=function(t){this.drt=t},n.Ort=function(t){this.lrt=t},n.xrt=function(t){this._rt=t},n.Prt=function(t){this.grt=t},t}(),iL=15;!function(t){t[t.brt=0]="brt",t[t.Trt=1]="Trt",t[t.Ert=2]="Ert",t[t.Rrt=3]="Rrt"}(JB||(JB={}));var rL,eL={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},sL={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},uL={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},oL={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},hL=function(){function t(t,n){this.Hs=void 0,this.Brt=void 0,this.Lrt=void 0,this.Mrt=void 0,this.Urt=void 0,this.Frt=void 0,this.Hrt=void 0,this.Vrt=void 0,this.Hs=rL.WR,this.Brt=new nL(t,n),this.Lrt=new nL(t,n),this.Mrt=new nL(t,n),this.Urt=this.Lrt,this.Frt=0,this.Hrt=void 0,this.Vrt=!1}var n=t.prototype;return n.Hl=function(){this.Vrt=!0,this.Frt=0,this.Hs=rL.WR,this.Urt=this.Lrt,this.Hrt=void 0,this.Lrt.Hl(),this.Mrt.Hl(),this.Brt.Hl()},n.Xrt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Wrt=function(t,n){var i=this.Xrt(t,n),r=(30&n)>>1,e=tL,s=!1;r<7?e=vL[r]:7===r&&(s=!0);var u=1==(1&n);if(this.Hs!==rL.us){var o=this.Urt;if(this.Hs===rL.qrt&&i!==o.mrt()){var h=1+o.mrt()-o.prt(),a=1+i-o.prt();o.Irt(a,h,o.prt()),o.Nrt(0,a-1),o.Nrt(i+1,iL-i)}o.krt(i);var c=dC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=lC.Cj(c,n);o.nG(f.mG),this.Urt.Drt(u),this.Urt.Ort(s),this.Urt.xrt(e),this.Urt.Prt(KB)}}},n.zrt=function(t,n){this.Urt.Drt(!1),this.Urt.Ort(!1),this.Urt.xrt(tL);var i=this.Grt(t,JB.brt," ".charCodeAt(0)),r=tL,e=!1,s=1==(1&n);return"white_italics"===(r=vL[(14&n)>>1])&&(r="white",e=!0),this.Urt.Drt(s),this.Urt.Ort(e),this.Urt.xrt(r),i},n.Grt=function(t,n,i){if(this.Urt.eG(n,i),this.Hs===rL.jrt||this.Hs===rL.qrt){var r=this.Qrt(this.Urt,this.Frt,t);return this.Frt=t,r}return null},n.Qrt=function(t,n,i){return this.Vrt?null:t.wrt(n,i)},n.Yrt=function(t,n){var i=KB;0==(7&t)&&(i=fL[(14&n)>>1]),this.Urt.Prt(i)},n.Zrt=function(t){var n=aL,i=t.Jrt,r=t.l9,e=null;switch(i){case n.RCL:this.$rt();break;case n.BS:this.Krt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.tet(2,r);break;case n.RU3:e=this.tet(3,r);break;case n.RU4:e=this.tet(4,r);break;case n.FON:e=this.net(r);break;case n.RDC:this.iet(r);break;case n.TR:this.ret();break;case n.RTD:this.eet();break;case n.EDM:e=this.uet(r);break;case n.CR:e=this.oet(r);break;case n.ENM:this.het();break;case n.EOC:e=this.aet(r)}return e},n.oet=function(t){var n=this.Urt;if(this.Hs!==rL.qrt)return null;var i=this.Qrt(n,this.Frt,t),r=n.mrt()-n.prt()+1;return n.Irt(r-1,r,n.prt()),n.Nrt(0,r-1),n.Nrt(n.mrt(),iL-n.mrt()),this.Frt=t,i},n.tet=function(t,n){this.Urt=this.Lrt;var i=this.Urt,r=null;return this.Hs!==rL.qrt&&this.Hs!==rL.us&&(r=this.Qrt(i,this.Frt,n),this.Lrt.Crt(),this.Mrt.Crt(),this.Vrt=!1,i.krt(iL)),this.Hs=rL.qrt,i.Art(t),r},n.net=function(t){return this.Grt(t,JB.brt," ".charCodeAt(0))},n.uet=function(t){var n=this.Lrt,i=null;return this.Hs!==rL.us&&(i=this.Qrt(n,this.Frt,t)),n.yrt(),this.Vrt=!1,i},n.iet=function(t){this.Hs=rL.jrt,this.Urt=this.Lrt,this.Urt.Art(0),this.Frt=t},n.het=function(){this.Mrt.yrt()},n.aet=function(t){var n=null;this.Hs!==rL.us&&(n=this.Qrt(this.Lrt,this.Frt,t));var i=this.Mrt;return this.Mrt=this.Lrt,this.Lrt=i,this.$rt(),this.Frt=t,n},n.$rt=function(){this.Hs=rL.cet,this.Urt=this.Mrt,this.Urt.Art(0)},n.Krt=function(){this.Urt.Srt()},n.ret=function(){this.Brt.Hl(),this.Vrt=!1,this.eet()},n.eet=function(){this.Urt=this.Brt,this.Hs=rL.us},n.fet=function(t,n,i){return this.Urt.eG(JB.brt,n),this.Grt(t,JB.brt,i)},n.vet=function(t,n,i){var r=1&n?JB.Rrt:JB.Ert;return this.Grt(t,r,i)},n.det=function(t){var n=t.let,i=t.Jrt,r=t.l9;if(this.Hrt===(n<<8|i))return this.Hrt=void 0,null;if(this.Hrt=n<<8|i,this._et(n,i))this.Wrt(n,i);else{if(this.wet(n,i))return this.zrt(r,i);if(this.yet(n,i))this.Yrt(n,i);else{if(this.met(n,i))return this.Grt(r,JB.Trt,i);if(this.ket(n,i))return this.vet(r,n,i);if(this.pet(n,i))return this.Zrt(t);this.isTabOffset(n)&&this.Urt.iG(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.pet=function(t,n){return 20==(246&t)&&32==(240&n)},n._et=function(t,n){return 16==(240&t)&&64==(192&n)},n.wet=function(t,n){return 17==(247&t)&&32==(240&n)},n.yet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.met=function(t,n){return 17==(247&t)&&48==(240&n)},n.ket=function(t,n){return 18==(246&t)&&32==(224&n)},t.Aet=function(t){return 16==(112&t)},t}(),aL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.WR=0]="WR",t[t.cet=1]="cet",t[t.jrt=2]="jrt",t[t.qrt=3]="qrt",t[t.us=4]="us"}(rL||(rL={}));var cL,fL=["black","green","blue","cyan","red","yellow","magenta","black"],vL=["white","green","blue","cyan","red","yellow","magenta","white_italics"],dL=function(){function t(t,n,i,r,e){this.bet=void 0,this.drt=void 0,this.lrt=void 0,this.grt=void 0,this._rt=void 0,this.bet=t,this.drt=n,this.lrt=i,this.grt=r,this._rt=e}var n=t.prototype;return n.ort=function(){return this.bet},n.Tet=function(){return this.drt},n.Eet=function(){return this.lrt},n.Ret=function(){return this.grt},n.Iet=function(){return this._rt},t}(),lL=function(){function t(t){this.Net=void 0,this.YR=void 0,this.Cet=void 0,this.Det=void 0,this.Oet=void 0,this.xet=void 0,this.Pet=void 0,this.Bet=void 0,this.Let=void 0,this.Met=void 0,this.Xw=void 0,this.art=void 0,this.Uet=void 0,this.lrt=void 0,this.drt=void 0,this._rt=void 0,this.grt=void 0,this.Net=t,this.YR=!1,this.Cet=!1,this.Det=0,this.Oet=0,this.xet=0,this.Pet=0,this.Bet=0,this.Let=cL.Fet,this.Met=[],this.Xw=0,this.art=0,this.Uet=0,this.lrt=!1,this.drt=!1,this._rt=tL,this.grt=KB,this.Het()}var n=t.prototype;return n.Vet=function(t,n,i,r,e,s,u){this.YR=t,this.Oet=n,this.Det=i,this.xet=r,this.Cet=e,this.Pet=s,this.Bet=u},n.Het=function(){this.Met=[];for(var t=0;t<gL;t++)this.Met.push(this.Xet())},n.Xet=function(){for(var t=[],n=0;n<_L;n++)t.push(null);return t},n.Wet=function(t){this.qet()&&(this.Met[this.art][this.Uet]=new dL(t,this.drt,this.lrt,this.grt,this._rt),this.Uet++)},n.lG=function(){this.qet()&&(this.Uet<=0&&this.art<=0||(this.Uet<=0?(this.Uet=this.Bet-1,this.art--):this.Uet--,this.Met[this.art][this.Uet]=null))},n.qet=function(){var t=this.art<this.Pet&&this.art>=0,n=this.Uet<this.Bet&&this.Uet>=0;return t&&n},n.zet=function(){return this.YR},n.Get=function(t){for(var n=0,i=t;i<gL;i++,n++)this.Met[n]=this.Met[i];for(var r=0;r<t;r++,n++)this.Met[n]=this.Xet()},n.jet=function(){if(this.art+1>=this.Pet)return this.Get(1),void(this.Uet=0);this.art++,this.Uet=0},n.Qet=function(){this.Met[this.art]=this.Xet(),this.Uet=0},n.wrt=function(t,n){if(this.Xw>=t)return null;var i=$B.urt(this.Met,this.Xw,t);return i?(this.bnt(t),{Cw:i,nv:"svc"+n,WG:n}):null},n.Yet=function(t,n){this.art=t,this.Uet=n},n.Zet=function(t){this.grt=t},n.Jet=function(t){this._rt=t},n.$et=function(t){this.drt=t},n.Ket=function(t){this.lrt=t},n.tst=function(){this.art=0,this.Uet=0,this.drt=!1,this.lrt=!1,this._rt=tL,this.grt=KB},n.nst=function(t){this.Let=t},n.ist=function(){this.YR=!0},n.Vg=function(){this.YR=!1},n.rst=function(){this.YR=!this.YR},n.bnt=function(t){this.Xw=t},t}();!function(t){t[t.est=0]="est",t[t.sst=1]="sst",t[t.Fet=2]="Fet",t[t.ust=3]="ust"}(cL||(cL={}));var _L=42,gL=15,wL=function(){function t(t){this.ost=void 0,this.hst=void 0,this.ast=void 0,this.ost=t,this.hst=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.ast=void 0}var n=t.prototype;return n.cst=function(t){var n=t.fst(),i=n.ks,r=n.l9;i===AL&&(i=i<<16|t.fst().ks);return i>=0&&i<=31?this.vst(i,r):i>=128&&i<=159?this.dst(t,i,r):(i>=4096&&i<=4127?this.lst(t,255&i):i>=4224&&i<=4255?this._st(t,255&i):i>=32&&i<=127?this.gst(i):i>=160&&i<=255?this.wst(i):i>=4128&&i<=4223?this.yst(255&i):i>=4256&&i<=4351&&this.mst(255&i),null)},n.gst=function(t){this.ast&&(127!==t?this.ast.Wet(String.fromCharCode(t)):this.ast.Wet("\u266a"))},n.wst=function(t){this.ast&&this.ast.Wet(String.fromCharCode(t))},n.yst=function(t){if(this.ast)if(void 0!==bL[t]){var n=bL[t];this.ast.Wet(n)}else this.ast.Wet("_")},n.mst=function(t){this.ast&&(160===t?this.ast.Wet("[CC]"):this.ast.Wet("_"))},n.vst=function(t,n){if(!this.ast)return null;var i=this.ast,r=null;switch(t){case yL:i.lG();break;case kL:i.zet()&&(r=i.wrt(n,this.ost)),i.jet();break;case pL:i.zet()&&(r=i.wrt(n,this.ost)),i.Qet();break;case mL:i.zet()&&(r=i.wrt(n,this.ost)),i.Het(),i.Yet(0,0)}return r},n.dst=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.kst(r)}else{if(136===n){var e=t.fst().ks;return this.pst(e,i)}if(137===n){var s=t.fst().ks;this.Ast(s,i)}else{if(138===n){var u=t.fst().ks;return this.bst(u,i)}if(139===n){var o=t.fst().ks;return this.Tst(o,i)}if(140===n){var h=t.fst().ks;return this.Est(h,i)}if(143===n)return this.Hl(i);if(144===n)this.Sst(t);else if(145===n)this.Rst(t);else if(146===n)this.Yet(t);else if(151===n)this.Ist(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Vet(t,a,i)}}}return null},n.lst=function(t,n){n>=8&&n<=15?t.Gk(1):n>=16&&n<=23?t.Gk(2):n>=24&&n<=31&&t.Gk(3)},n._st=function(t,n){n>=128&&n<=135?t.Gk(4):n>=136&&n<=143&&t.Gk(5)},n.kst=function(t){this.hst[t]&&(this.ast=this.hst[t])},n.Nst=ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.hst[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.pst=function(t,n){for(var i=null,r=0,e=this.Nst(t);r<e.length;r++){var s=e[r],u=this.hst[s];u.zet()&&(i=u.wrt(n,this.ost)),u.Het()}return i},n.Ast=function(t,n){for(var i=0,r=this.Nst(t);i<r.length;i++){var e=r[i],s=this.hst[e];s.zet()||s.bnt(n),s.ist()}},n.bst=function(t,n){for(var i=null,r=0,e=this.Nst(t);r<e.length;r++){var s=e[r],u=this.hst[s];u.zet()&&(i=u.wrt(n,this.ost)),u.Vg()}return i},n.Tst=function(t,n){for(var i=null,r=0,e=this.Nst(t);r<e.length;r++){var s=e[r],u=this.hst[s];u.zet()?i=u.wrt(n,this.ost):u.bnt(n),u.rst()}return i},n.Est=function(t,n){for(var i=null,r=0,e=this.Nst(t);r<e.length;r++){var s=e[r],u=this.hst[s];u.zet()&&(i=u.wrt(n,this.ost)),this.hst[s]=void 0}return i},n.Hl=function(t){var n=this.Est(255,t);return this.gh(),n},n.gh=function(){this.ast=void 0,this.hst=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Sst=function(t){t.Gk(1);var n=t.fst().ks;if(this.ast){var i=(128&n)>0,r=(64&n)>0;this.ast.Ket(i),this.ast.$et(r)}},n.Rst=function(t){var n=t.fst().ks,i=t.fst().ks;if(t.Gk(1),this.ast){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.Cst(s,e,r),c=this.Cst(h,o,u);this.ast.Jet(a),this.ast.Zet(c)}},n.Yet=function(t){var n=t.fst().ks,i=t.fst().ks;if(this.ast){var r=15&n,e=63&i;this.ast.Yet(r,e)}},n.Ist=function(t){t.Gk(1),t.Gk(1);var n=t.fst().ks;if(t.Gk(1),this.ast){var i=3&n;this.ast.nst(i)}},n.Vet=function(t,n,i){var r=void 0!==this.hst[n];if(!r){var e=new lL(n);e.bnt(i),this.hst[n]=e}var s=t.fst().ks,u=t.fst().ks,o=t.fst().ks,h=t.fst().ks,a=t.fst().ks,c=t.fst().ks,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.hst[n].tst(),this.hst[n].Vet(f,v,l,g,d,_,w),this.ast=this.hst[n]},n.Cst=function(t,n,i){var r={0:0,1:0,2:1,3:1};return TL[r[t]<<2|r[n]<<1|r[i]]},t}(),yL=8,mL=12,kL=13,pL=14,AL=16,bL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},TL=["black","blue","green","cyan","red","magenta","yellow","white"],EL=function(){function t(){this.Dst=void 0,this.Ost=void 0,this.xst=void 0,this.Dst=[],this.Ost=null,this.xst=0}var n=t.prototype;return n.Pst=function(t){if(t.vo===NN.Yz){var n=63&t.ks;return this.xst=2*n-1,void(this.Ost=[])}if(this.Ost&&(this.xst>0&&(this.Ost.push(t),this.xst--),0===this.xst)){var i=new SL(this.Ost);this.Dst.push(i),this.Ost=null,this.xst=0}},n.Bst=function(){return this.Dst},n.Lst=function(){this.Dst=[]},n.gh=function(){this.Dst=[],this.Ost=[],this.xst=0},t}(),SL=function(){function t(t){this.Mst=void 0,this.Ust=void 0,this.Mst=0,this.Ust=t}var i=t.prototype;return i.Fst=function(){return this.Mst<this.Ust.length},i.Hst=function(){return this.Mst},i.fst=function(){if(!this.Fst())throw new No(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Ust[this.Mst++]},i.Gk=function(t){if(this.Mst+t>this.Ust.length)throw new No(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Mst+=t},t}(),RL=function(){function t(){this.Vst=void 0,this.Xst=void 0,this.Wst=void 0,this.qst=void 0,this.zst=void 0,this.Gst=void 0,this.jst=void 0,this.Qst=void 0,this.Yst=!1,this.Vst=[],this.Xst=[],this.Wst=new EL,this.qst=0,this.zst=ue({CC1:new hL(0,0),CC2:new hL(0,1),CC3:new hL(1,0),CC4:new hL(1,1)}),this.Gst=0,this.jst=0,this.Qst=se(),this.Hl()}var i=t.prototype;return i.gh=function(){this.qst=0,this.Vst=[],this.Xst=[],this.Wst.gh(),this.Hl(),this.Qst.forEach(function(t){t.gh()})},i.Hl=function(){this.Gst=0,this.jst=0,this.zst.forEach(function(t){t.Hl()})},i.W4=function(t,n){if(t.Aj){var i=t.Tj,r=t.Ej,e=t.vo;e===NN.Gz||e===NN.jz?this.Vst.push({l9:n,vo:e,let:i,Jrt:r,Zst:this.Vst.length}):this.Yst&&(this.Xst.push({l9:n,vo:e,ks:i,Zst:this.Xst.length}),this.Xst.push({l9:n,vo:NN.Qz,ks:r,Zst:this.Xst.length}))}},i.SC=function(){var t=[];qe(this.Vst,function(t,n){return t.l9-n.l9||t.Zst-n.Zst}),qe(this.Xst,function(t,n){return t.l9-n.l9||t.Zst-n.Zst});for(var n=0,i=this.Vst;n<i.length;n++){var r=i[n],e=this.Jst(r);e&&t.push(e)}for(var s=0,u=this.Xst;s<u.length;s++){var o=u[s];this.Wst.Pst(o)}for(var h=this.Wst.Bst(),a=0;a<h.length;a++){var c=h[a],f=this.$st(c);t.push.apply(t,f)}return this.Wst.Lst(),this.Vst=[],this.Xst=[],t},i.Jst=function(t){var n=t.vo;if(hL.Aet(t.let)){var i=t.let>>3&1;0===n?this.Gst=i:this.jst=i}var r="CC"+(n<<1|(n?this.jst:this.Gst)+1),e=this.zst.get(r);return 255===t.let&&255===t.Jrt||!t.let&&!t.Jrt||!this.Kst(t.let)||!this.Kst(t.Jrt)?(++this.qst>=45&&this.Hl(),null):(this.qst=0,t.let&=127,t.Jrt&=127,t.let||t.Jrt?hL.Aet(t.let)?e.det(t):e.fet(t.l9,t.let,t.Jrt):null)},i.$st=function(t){var i=[];try{for(;t.Fst();){var r=t.fst().ks,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.fst().ks;if(0!==e){if(!this.Qst.has(e)){var u=new wL(e);this.Qst.set(e,u)}for(var o=this.Qst.get(e),h=t.Hst();t.Hst()-h<s;){var a=o.cst(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof No&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Kst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),IL=function(t){function n(n){var i;return(i=t.call(this)||this).F$=void 0,i.tut=[],i.F$=n,i}F(n,t);var i=n.prototype;return i.nut=function(t,n,i){var r=this.iut(t),e=this.rut(r);this.eut(e,n,i),this.SC()},i.iut=function(t){if(0===t.length)return[];for(var n=t[0].R9,i=this.sut(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s.R9&&(n=s.R9,i=this.sut(s)),r.push(ie({},s,{ert:s.D3.vw(i)}))}return r},i.sut=function(t){var n=this.F$.i3(t.R9,t.D3),i=n.Ey(t.D3);return Hg(n,t.D3).Ey(i)},i.rut=function(t){var n,i,r,e,s,u=t.slice().sort(ZB),o=this.tut;if(o.length)if(u.length){var h=1/u[0].R9.U$,a=u[0].ert,c=o[0].ert,f=o[o.length-1].ert,v=(e=o[0].R9,s=u[0].R9,e.$J===s.$J);if(f.Ey(a).py(Ng.ym(2.5*h))&&v)n=o.concat(u).sort(ZB);else if(a.wy(c)){for(var d=0;d<o.length&&o[d].ert.py(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i.D3.Zw(r.D3)&&i.vo===r.vo&&i.Tj===r.Ej?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(ZB):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Hl())}else n=u,this.Hl()}else n=o;else n=u;return n},i.eut=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Ey(r.ert),s=Hg(n,r.ert).Ey(e),u=n.vw(s),o=YB.vm(u.om),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Ey(a.ert).py(o))return void(this.tut=t.slice(h));var c=this.F$.i3(a.R9,a.D3);this.pj(a,c.ly())}this.tut=[]}},M(n,[{key:"fA",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).uut=void 0,n.uut=new RL,n}F(n,t);var i=n.prototype;return i.pj=function(t,n){this.uut.W4(t,n)},i.SC=function(){for(var t=this.uut.SC(),n=0;n<t.length;n++){var i=t[n];this.Wo(new oC(i.WG,i.Cw))}},i.Hl=function(){this.uut.gh()},i.Gv=function(){this.jo(),this.uut.gh()},n}(Ts)),NL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).out=!1,f.hut=!1,f.K5=void 0,f.m0=void 0,f.aut=void 0,f.Iit=void 0,f.cut=void 0,f.Ptt=void 0,f.Kh=void 0,f.Rb=void 0,f.fut=void 0,f.vut=!1,f.dut=void 0,f.lut=void 0,f._ut=!1,f.gut=!1,f.wut=null,f.tN=void 0,f.Z$=void 0,f.yut=void 0,f.mut=null,f.Ow=-1,f.kut=null,f.Aut=!1,f.but=!1,f.Tut=1/0,f.Eut=void 0,f.Sut=null,f.Rut=0,f.Iut=void 0,f.Xo=function(t){f.dispatchEvent(t)},f.Nut=function(){!f.vut&&!f._ut&&f.Cut&&f.out&&(f._ut=f.Dut("CJ",f.dut,function(){f._ut=!1}))},f.Out=function(){!f.vut&&!f.gut&&f.xut&&f.hut&&(f.gut=f.Dut("DJ",f.lut,function(){f.gut=!1}))},f.Put=function(t){return f.But()},f.Lut=function(t){if(t.Up===f.Up){var n=t.R9,i=n.E4;i.m3&&f.Mut(i.m3,n.info),i.R3&&f.Uut(i.R3,n.info),f.But(f.K5.u6,!0)}},f.XK=function(t){var n=t;f.Fut(n.L$,n.$J)},f.Hut=function(t){if(1===t.WG){if(f.mut)for(var n=0;n<f.mut.fA;n++){var i="CC"+(n+1);f.m0._K(i,t.Cw.Dw,t.Cw.Ow)}f.m0.lK(t.Cw)}},f.tN=a,f.m0=i,f.aut=r,f.Iit=e,f.cut=s,f.Ptt=u,f.Kh=o,f.K5=c,f.Rb=new RB(o),f.fut=f.Vut(i),e.Ml(n,f.Rb,f.Ptt),f.dut=new _B(u,f.Rb),f.lut=new _B(u,f.Rb),f.mut=f.Xut(f.Rb),f.Iut=new zB(n,f.Rb,f.fut,e),e.addEventListener("S9",f.Lut),f.Rb.addEventListener("eh",f.Xo),i.addEventListener("IK",f.XK),f}F(n,t);var i=n.prototype;return i.Dut=function(t,n,i){var r=this,e=this.Ptt.a6,s=5*this.Ptt.ig,u=this.Wut(),o="audio"===this.Up?[this.qut]:this.fut.IJ,h=n.Ztt(),a=h[0],c=h[1],f=this.Iit.K9(this.Up,t,this.Rb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.F9?(this.Ptt.zut("CJ"===t,"DJ"===t),!1):!(!f||!f.length)&&(this.cut.M8(this.Up,this.m0,f,f.H9,f.Q9,f.F9,function(t,e){if(i(),t)r.dispatchEvent({type:"eh",eh:t});else{var s=e;n.Vtt(s).then(function(){return r.dispatchEvent("I0")}).catch(function(t){0})}}),!0)},i.Gut=function(){this.cut.Bo(this.Up),this._ut=!1,this.gut=!1},i.jut=function(){var t=this.Ptt.a6,n=this.dut.Gtt(t)||this.lut.Gtt(t);!n||this.wut&&this.wut.hZ===n.hZ||(this.But(this.K5.u6),this.wut=n,this.dispatchEvent({type:"Qut",Ob:this.wut.bh.S4}))},i.Yut=function(){this.Zut()},i.Jut=function(){this.Yut()},i.$ut=function(){this.But(this.K5.u6)},i.Kut=function(t,n){this.dut.Gtt(t)||this.lut.Gtt(t)||(this.wut=null)},i.tot=function(t){var n=!1;this.dut.Ytt().dw(t)||(this.Nut(),n=!0),this.lut.Ytt().dw(t)||(this.Out(),n=!0),n&&this.But(this.K5.u6,!0)},i.iot=function(){this.dut.gh()},i.rot=function(){this.lut.gh()},i.Wut=function(){return 0===this.dut.Xl+this.lut.Xl?0:"P9"===this.Kh.B9?0:1*this.Iit.o6},i.Zut=function(){this.Nut(),this.Out()},i.l0=function(t){return-1!==this.fut.IJ.indexOf(t)},i.eot=function(t){t&&this.l0(t)&&(this.X$(t),this.SK(t))},i.X$=function(t){this.Rb.Vnt(t,t.CZ)},i.SK=function(t){var n=this;if(t&&t.CZ&&this.Kh.hlsDateRange){this.m0.SK(t.CZ.dateRanges,function(i){return n.Rb.Knt(t,i).ly()})}},i.sot=function(t){this.l0(t.$J)&&this.Rb._nt(t.$J,t)},i.uot=function(t){var n,i,r,e=t,s=this.dut.Gtt(e)||this.lut.Gtt(e);if(s)i=s.bh.quality,r=s.hZ,n=s.iI;else{var u=this.qut;if(!u)return null;var o=this.Rb.G9(u,Ng.ym(e));if(!o)return null;i=u,r=o.Gp.hZ,n=o.$nt.ly()}var h=this.Rb.Jnt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Knt=function(t){var n=this.qut;return this.Rb.Knt(n,t).ly()},i.But=function(t,n){var i=this,r=this.oot(),e=this.Ptt.a6;t&&(this.Ow=e+t,n&&(this.Sut=null,this.Rut=0)),this.oot()||e>=this.Ow?this.hot(r):this.kut||this.Aut||!this.Jl||(this.aot(),this.cot(function(t){return i.fot(e,i.Ptt.ig,t)}))},i.vot=function(t){t&&this.aut.removeEventListener(t.uri,this.Put)},i.dot=function(t){t&&this.aut.addEventListener(t.uri,this.Put)},i.oot=function(){return-1===this.Ow},n.lot=function(t){return hD.hg(t.$J.f$)&&Wb()-t.Rp>2e3*t.$J.CZ.metadata.R7},i.cot=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.kut=new us,r=this.kut,t.prev=3,t.next=6,n(r.Uo);case 6:i=t.sent,as(r.Uo),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),fs(t.t0);case 13:return t.prev=13,this.kut===r&&(this.kut=null),t.finish(13);case 16:i&&this.But();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.aot=function(){this.kut&&(this.kut.Bo(),this.kut=null)},i._ot=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.got=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!BL.lot(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("wot"));case 2:if(i=_.min(16e3,1e3*_.pow(2,this.Rut)),this.Rut+=1,this.aot(),!(this.Rut>2)){t.next=8;break}return n.$J.t$(!1),t.abrupt("return",n.$J.e$());case 8:this.cot(function(t){return ks(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Mut=function(t,n){var i,r;r=ID((i=t).A3,4),i.dK="0000.0000.0000."+r,function(t){var n=ID(t.b3,4),i=ID(t.T3,3),r=ID(t.E3,2*t.T3);t.a_=(n+i+r).toUpperCase()}(t),gB(n,this.Rb,t),this.m0.vK(t,this.Rb)},i.Uut=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(ie({},e,{R9:n}))}this.mut&&this.mut.nut(i,n.X5,n.D4)},i.yot=function(t){this.Eut&&this.Eut.R9===t&&this.But()},i.mot=function(t,n){if(n){if(n.aborted)return;if(this.Sut===t)return this.got(t)}else t.$J.t$(!0);return this.But()},i.kot=function(t){var n=wD(t.$J.L$);n&&this.dispatchEvent(new jB(cD(t.uri),t.$J.bandwidth||0,t.hZ,t.$J.hZ,n))},i.pot=function(t,n){var i=this.Eut&&this.Eut.kv.G1||200,r=wD(t.$J.L$);r&&this.dispatchEvent(new QB(cD(t.uri),t.$J.bandwidth||0,t.hZ,t.$J.hZ,r,i,n&&n.z1.v2||0))},i.hot=function(t){this.Ow=-1,t||this.dispatchEvent("Aot")},i.bot=function(t){this.but=!0,this.hot(t),this.dispatchEvent("q0")},i.fot=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(r),e=this.qut,s=this.oot(),this.vot(e||void 0),!(n>=this.Ow)){t.next=7;break}return this.hot(s),t.abrupt("return",!1);case 7:return t.next=9,this.Iut.trt(n,this.Ow,i,e||void 0,this.Wut(),this.Eut&&this.Eut.kv,this.Eut&&this.Eut.R9,this.Tot,this.Eot);case 9:if(u=t.sent,ll.S_(this.Iit.X6/8),as(r),u.t_!==OB.Sit){t.next=18;break}return this.aot(),this.dispatchEvent("wot"),t.abrupt("return",!1);case 18:if(u.t_!==OB.Eit){t.next=29;break}if(u.$J!==e){t.next=24;break}return this.dot(e),t.abrupt("return",!1);case 24:return t.next=26,this._ot(u.$J,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.t_!==OB.p8){t.next=33;break}return this.dot(e||void 0),!hD.hg(e.f$)&&e.CZ&&this.bot(s),t.abrupt("return",!1);case 33:if(o=u.Gp,!this.Eut||this.Eut.R9!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.$J===e){t.next=40;break}return t.next=39,this._ot(o.$J,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.Eut&&(this.Eut.kv.Bo(),this.Eut=void 0),!(u.Dw>this.Tut)){t.next=46;break}return this.bot(s),t.abrupt("return",!1);case 46:if(!(u.Dw>this.Ow)){t.next=49;break}return this.hot(s),t.abrupt("return",!1);case 49:if(this.but=!1,this.Eut=void 0,o!==this.Sut&&(this.Rut=0),this.Sut=o,this.dispatchEvent("W0"),this.kot(o),!o.A7){t.next=59;break}return t.next=58,this.Iit.T9(this.Up,o.$J,o.A7);case 58:h=t.sent;case 59:return(a=this.Iit.E9(this.Up,o,h,function(t,n){c.aot(),c.pot(o,n),c.Eut=void 0,r&&r.To||c.mot(o,t)}))&&(this.Eut={R9:o,kv:a},a.addEventListener("I0",function(){r&&r.To||c.yot(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Sot=function(t){this.But(t||this.K5.u6,!0)},i.Rot=function(){var t=this.oot();this.Ow=-1,this.Eut&&this.Eut.kv.Bo(),this.Eut=void 0,this.vot(),this.but=!1,this.Sut=null,this.Rut=0,this.aot(),this.hot(t),this.mut=this.Xut(this.Rb)},i.Iot=function(){this.Aut=!0,this.vot(),this.aot()},i.Not=function(){this.Aut=!1,this.But()},i.Cot=function(){this.vut=!0},i.Dot=function(){this.vut=!1,this.Zut()},i.Gv=function(){this.jo(),this.Rot(),this.Gut(),this.Cut=null,this.xut=null,this.dut.Gv(),this.lut.Gv(),this.cut.Bo(this.Up),this.Rb.Gv(),this.m0.removeEventListener("IK",this.XK),this.Iit.removeEventListener("S9",this.Lut),this.fut=null,this.Oot()},i.Hl=function(){this.wut=null,this.Z$=void 0,this.yut=void 0,this.Oot(),this.mut=this.Xut(this.Rb)},i.Xut=function(t){var n=new IL(t);return n.qo("qG",this.Hut),n},i.Oot=function(){this.mut&&(this.mut.Qo("qG",this.Hut),this.mut.Gv(),this.mut=null)},M(n,[{key:"Y_",get:function(){return this.Ptt.a6}},{key:"xot",get:function(){return this.out}},{key:"Up",get:function(){return this.Pot()}},{key:"d$",get:function(){return this.Bot()}},{key:"Tot",get:function(){return this.Lot()}},{key:"Eot",get:function(){return this.Mot()}},{key:"Cut",get:function(){return this.dut.ztt},set:function(t){var n=this.dut.ztt;n&&n.removeEventListener("updateend",this.Nut),this.dut.ztt=t,t&&(t.addEventListener("updateend",this.Nut),this.Nut())}},{key:"xut",get:function(){return this.lut.ztt},set:function(t){var n=this.lut.ztt;n&&n.removeEventListener("updateend",this.Out),this.lut.ztt=t,t&&(t.addEventListener("updateend",this.Out),this.Out())}},{key:"Aot",get:function(){return this.oot()}},{key:"q0",get:function(){return this.but}},{key:"Uot",get:function(){return this.Tut},set:function(t){this.Tut=t}},{key:"qut",get:function(){return this.Fot()}},{key:"Hot",get:function(){return this.Vot()},set:function(t){this.Xot(t)}},{key:"Jl",get:function(){return this.Wot()}},{key:"uw",get:function(){return this.qot()}}]),n}(XC);function CL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function DL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){CL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function OL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var xL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).m0=void 0,o.Rb=void 0,o.Iit=void 0,o.Kh=void 0,o.zot=void 0,o.Got=void 0,o.jot=null,o.Qot=null,o.Yot=null,o.Zot=null,o.Jot=null,o.$ot=null,o.Kot=null,o.tht=!1,o.yw=!0,o.HJ=!0,o.nht=null,o.tN=void 0,o.iht=function(){o.nht&&o.nht.disabled&&o.rht(o.Kh.initialRendition||"default"),o.eht(!0)},o.sht=function(){var t=o.m0.LK.NJ.some(function(t){return t.uw});o.uht(t)},o.oht=function(t){"variant"===t.Up&&(o.Iit.removeEventListener("O9",o.oht),o.nht&&(o.nht=null,o.eht(!1)))},o.tN=u,o.m0=n,o.Rb=i,o.Iit=r,o.Kh=e,o.zot=e.hht||[],o.Got=new uB(e,iO.ts.l1,s),o.jot=null,o.Iit.addEventListener("O9",o.oht),o.aht(),o.cht(),o.rht(e.initialRendition||"default"),o}F(n,t);var i=n.prototype;return i.fht=function(t,n){var i=lD(t);if(i&&!i.disabled)return i;var r=this.vht(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.hZ<=n.hZ?t:n});case"high":var e=DL(r);return e[e.length-1];case"low":default:return DL(t)[0]}},i.dht=function(t,n){var i=this._ht||this.nht&&[this.nht],r=i&&i.filter(function(n){return $e(t,n)});return r&&r.length>0?DL(r):DL(this.vht(t,n))},i.vht=function(t,n){var i=this.Kh,r=this.zot,e=this.ght();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].wht(t,n,e,i))return!1}return!0})},i.yht=function(t,n){var i=this.dht(t,n);return i.length?i[i.length-1]:t[0]},i.mht=function(t,n){var i=this._ht;return i&&i.length>0?i.filter(function(n){return $e(t,n)}):t},i.kht=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Zot,e=this.Jot,!r||n!==this.$ot||i!==this.Kot){t.next=4;break}return t.abrupt("return",r);case 4:return s=new us,u=this.pht(n,i,s.Uo),r&&e&&e.Bo(),this.Zot=u,this.Jot=s,this.Kot=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Zot&&(this.Zot=null,this.Jot=null,this.Kot=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.pht=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.m0,s=this.Rb,u=e.BK,t.next=5,this.Aht(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.yit(u,i.hZ),h=s.G9(n,o),hD.hg(u.f$)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Aht=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Qot,e=this.Yot,!r||n!==this.$ot){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new us).Lo(i),u=this.bht(n,s.Uo),r&&e&&e.Bo(),this.Qot=u,this.Yot=s,this.$ot=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Qot&&(this.Qot=null,this.Yot=null,this.$ot=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.bht=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.m0,e=r.BK,!this.Jl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.Tht(n)){t.next=8;break}s=n.CZ,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Got.Wh(n.uri,{});case 11:u=t.sent,as(i),s=u.vg,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.ZJ(!1),n.e$(),t.abrupt("return",!1);case 21:n.GJ(s,e);case 22:if(!OL(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Tht=function(t){var n=t.CZ;return!n||!!n.live&&(!t.IZ.Xl||t.IZ.vZ(t.IZ.Xl-1).Rp+1e3*n.targetDuration<Wb())},i.kw=function(t){t?this.yw||(this.yw=!0,this.dispatchEvent("Jl")):this.yw&&(this.yw=!1)},i.uht=function(t){t&&!this.HJ?(this.HJ=!0,this.dispatchEvent("uw")):!t&&this.HJ&&(this.HJ=!1,this.dispatchEvent("$v"))},i.eht=function(t){var n=this,i=this.m0,r=i.BK,e=i.LK.NJ,s=this.mht(e,r),u=this.yht(s,r);u?this.kht(u,null).then(function(r){r&&(i.gK(u,t),n.kw(!0))}):this.kw(!1)},i.Eht=function(){this.nht=null,this.eht(!0)},i.cht=function(){this.m0.LK.addEventListener("EJ",this.sht)},i.Sht=function(){this.m0.LK.removeEventListener("EJ",this.sht)},i.aht=function(){this.m0.LK.addEventListener("bJ",this.iht)},i.Rht=function(){this.m0.LK.removeEventListener("bJ",this.iht)},i.rht=function(t){var n=this.m0,i=n.LK.NJ;if(Boolean(n.BK&&!n.BK.disabled))this.nht=null;else{if(i&&i.length){var r;switch(this.tN.xx.type){case VT.PERFORMANCE:r="low";break;case VT.QUALITY:r="high";break;case VT.BANDWIDTH:r=t}this.nht=this.fht(i,r),this.tht=!0}var e=this.mht(i,null),s=this.yht(e,null);s&&(n.BK=s)}},i.ght=function(){return this.tht?{X6:this.Iit.X6}:{X6:this.tN.Wx}},i.Bo=function(){this.Zot&&this.Jot&&(this.Jot.Bo(),this.Zot=null,this.Jot=null,this.Kot=null),this.Qot&&this.Yot&&(this.Yot.Bo(),this.Qot=null,this.Yot=null,this.$ot=null)},i.Gv=function(){this.Iit.removeEventListener("O9",this.oht),this.Rht(),this.Sht(),this.Bo(),this.jot=null,this.nht=null},i.Iht=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.m0,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.kht(n,i);case 5:return(e=t.sent)&&(r.BK=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"Jl",get:function(){return this.yw}},{key:"uw",get:function(){return this.HJ}},{key:"Eot",get:function(){var t=this.m0,n=t.BK,i=this.mht(t.LK.NJ,n);return this.dht(i,n)}},{key:"Tot",get:function(){return this.mht(this.m0.LK.NJ,this.m0.BK)}},{key:"_ht",get:function(){return this.jot},set:function(t){this.jot=t,this.Eht()}}]),n}(XC),PL=function(){function t(t,n){this.dl=void 0,this.Rb=void 0,this.Nht=-1,this.dl=t,this.Rb=n}return t.prototype.zh=function(t){for(var n=t.IZ,i=n.fZ(this.Nht),r=i<0?0:i+1;r<n.Xl;r++){var e=n.vZ(r);if(e.hZ>this.Nht){var s=this.Rb.J2(e),u=this.Rb.K2(e,s),o=new eg(s.ly(),u.ly(),[].concat(e.u$),!1,e.hZ.toString());this.dl.Kb(o),this.Nht=e.hZ}}},t}(),BL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,uD._J,n,i,r,e,s,u,o,h,a)||this).Cht=void 0,c.Dht=null,c.Oht=null,c.Cht=new xL(n,c.Rb,r,u,o,h),c.Cht.addEventListener("Jl",c.Xo),c.Cht.addEventListener("uw",c.Xo),c.Cht.addEventListener("$v",c.Xo),u.manifestMetadataTrack&&(c.Dht=n.fK("",c.Rb,""),c.Oht=new PL(c.Dht,c.Rb)),c.out=!c.m0.bK||!c.m0.bK.uri,c.hut=Boolean(c.m0.BK),c}F(n,t);var i=n.prototype;return i.Fut=function(t,n){if("CJ"===t){var i=n?n.uri:void 0;this.out=!i}},i.Pot=function(){return uD._J},i.Bot=function(){return this.qut&&this.qut.d$||!1},i.Fot=function(){return this.m0.BK},i.Lot=function(){return this.Cht.Tot},i.Mot=function(){return this.Cht.Eot},i.Vot=function(){var t=this.Cht._ht;return t&&t.map(function(t){return t.$l})},i.Xot=function(t){if(t&&t.length>0){var n=this.fut.IJ.filter(function(n){return-1!==t.indexOf(n.$l)});if(!(n.length>0))return void 0;this.Cht._ht=n}else this.Cht._ht=null},i.Wot=function(){return this.Cht.Jl},i.qot=function(){return this.Cht.uw},i._ot=function(){var n=E.coroutine(ne.mark(function n(i,r){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.Cht.Iht(i,r);case 2:return n.abrupt("return",t.prototype._ot.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Rot=function(){t.prototype.Rot.call(this),this.Cht.Bo()},i.X$=function(n){t.prototype.X$.call(this,n),this.Oht&&this.Oht.zh(n)},i.Gv=function(){t.prototype.Gv.call(this),this.Cht.Gv(),this.Cht.removeEventListener("uw",this.Xo),this.Cht.removeEventListener("$v",this.Xo)},i.Vut=function(t){return t.LK},i.xht=function(){var t=this.Y_,n=this.xot?this.dut.jtt(t):void 0,i=n?n.$J:void 0,r=this.lut.jtt(t),e=r?r.$J:void 0,s=this.Z$;this.Z$=i;var u=this.yut;return this.yut=e,!s&&i?{NK:s,Pht:i}:!u&&e?{NK:u,Pht:e}:u&&e&&u.$l!==e.$l?{NK:u,Pht:e}:void 0},n}(NL),LL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,uD.Lv,n,i,r,e,s,u,o,h,a)||this).out=!!c.m0.bK&&!!c.m0.bK.uri,c.hut=!1,c}F(n,t);var i=n.prototype;return i.Fut=function(t,n){if("CJ"===t){var i=n?n.uri:void 0;this.out=!!i}},i.Pot=function(){return uD.Lv},i.Bot=function(){return this.qut&&this.qut.d$||!1},i.Fot=function(){return this.m0.bK},i.Lot=function(){var t=this.Fot();return t?[t]:[]},i.Mot=function(){return this.Lot()},i.Vut=function(t){return t.D$},i.Vot=function(){return null},i.Xot=function(t){},i.Wot=function(){return!0},i.qot=function(){return!0},i.xht=function(){var t=this.xot?this.dut.jtt(this.Y_):void 0,n=t?t.$J:void 0,i=this.Z$;return this.Z$=n||void 0,!i&&n?{NK:i,Pht:n}:i&&n&&i.$l!==n.$l?{NK:i,Pht:n}:void 0},n}(NL),ML=function(){function t(t,i,r,e,s,u){var o=this;this.Bht=!1,this.pZ=void 0,this.Lht=void 0,this.r6=void 0,this.Mht=void 0,this.K5=void 0,this.Uht=rA.HI(),this.Fht=[],this.Hht=void 0,this.Vht=[],this.V$=function(){return o.Xht()},this.Wht=function(t){t.vg.live||o.Lht.removeEventListener(o.pZ.tJ,o.Wht),o.pZ.GJ(t.vg)},this.qht=function(){o.pZ.q$.c_===tl.s_?o.Bht&&o.zht():o.Bht||o.Ght()},this.ya=function(t){if(!hs(t)){var i=t instanceof vy?t:new vy(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.pZ.tJ,0,t);o.pZ.q$.d_=H_.ERROR,o.pZ.q$.Wo(new Ey(i))}},this.pZ=t,this.Lht=i,this.r6=r,this.K5=u,this.Mht=new aO(e,s),this.Hht=new us,t.q$.qo(Td.Tl,this.qht),t.Rb&&t.Rb.addEventListener("z$",this.V$),this.qht()}var i=t.prototype;return i.Ght=function(){this.Bht||this.pZ.q$.c_===tl.s_||(this.Lht.removeEventListener(this.pZ.tJ,this.Wht),this.Lht.addEventListener(this.pZ.tJ,this.Wht),this.Lht.ytt(this.pZ.tJ),this.Lht.mtt(this.pZ.tJ),this.Bht=!0,this.jht(this.Hht.Uo).catch(this.ya))},i.jht=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(n),t.next=4,this.Qht(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qht=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.r6.a6,r=this.K5.u6,e=new rA([i,i+r]),(s=e._I(this.Uht.gI())).Xl){t.next=9;break}return t.next=8,ks(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.iI(0),o=this.Yht(u)){t.next=15;break}return t.next=14,yd(this.pZ,"JJ",n);case 14:return t.abrupt("return");case 15:return h=o.Gp,a=o.$nt.ly(),c=a+h.duration,t.prev=18,t.next=21,this.Mht.E2("q$",h.uri,Zo.us,If.Tv,Nf.us);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),cs(t.t0),t.next=29,ks(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=iw(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),by(V_.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.Vm||{Xm:Ng.Py,Wm:Ng.Py},l=this.pZ.IZ.dZ(h.hZ),this.Uht=this.Uht.pI(new rA([a,c])),this.Fht.push(h.hZ),_=0,g=v.l_;_<g.length;_++)w=g[_],this.Vht.push({R9:l,$nt:UL(Ng.ym(w.Dw),d.Wm,d.Xm),Zht:UL(Ng.ym(w.Ow),d.Wm,d.Xm),Cw:w});this.Xht();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Xht=function(){var t=this.pZ.Rb;if(this.Vht.length&&t){for(var n=[],i=0,r=this.Vht;i<r.length;i++){var e=r[i],s=t.i3(e.R9,e.$nt);if(s.Sy())n.push(e);else{var u=t.i3(e.R9,e.Zht),o=new ug(s.ly(),u.ly(),e.Cw.xw,!1,e.Cw.$l);this.pZ.q$.Kb(o)}}this.Vht=n,this.pZ.q$.zH(this.r6.a6,!0)}},i.Yht=function(t){var n=this.pZ.Rb,i=this.pZ.IZ;if(n.Gnt)for(var r=n.iit.ly(),e=i.Xl-1;e>=0;e-=1){var s=i.vZ(e),u=r-s.duration;if(new rA([u,r])._R(t,.5)){var o={Gp:s,$nt:Ng.ym(u)};return this.Jht(i,o,e)}r=u}else for(var h=0,a=0;a<i.Xl;a+=1){var c=i.vZ(a),f=h+c.duration;if(new rA([h,f])._R(t,.5)){var v={Gp:c,$nt:Ng.ym(h)};return this.Jht(i,v,a)}h=f}},i.Jht=function(t,n,i){var r=n.Gp;if(-1===this.Fht.indexOf(r.hZ))return n;for(var e=n.$nt.ly()+r.duration,s=i+1;s<t.Xl;s+=1){var u=t.vZ(s);if(-1===this.Fht.indexOf(u.hZ))return{Gp:u,$nt:Ng.ym(e)};e+=u.duration}},i.zht=function(){this.Bht=!1,this.Lht.wtt(this.pZ.tJ),this.Hht.Bo(),this.Hht=new us},i.Hl=function(){this.zht(),this.Uht=rA.HI(),this.Fht.length=0,this.pZ.q$.Qo(Td.Tl,this.qht),this.pZ.Rb&&this.pZ.Rb.removeEventListener("z$",this.V$),this.Lht.removeEventListener(this.pZ.tJ,this.Wht)},t}();function UL(t,n,i){return Fg(i,t.Ey(n))}var FL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Kh=void 0,s.B0=void 0,s.Iit=void 0,s.cut=void 0,s.m0=void 0,s.aut=void 0,s.$ht=void 0,s.Kht=NaN,s.tat=!1,s.nat=1/0,s.iat=1/0,s.rat=null,s.eat=!0,s.sat=!0,s.Ptt=null,s.Qb=void 0,s.tN=void 0,s.uat=void 0,s.oat=void 0,s.hat=[],s.hH=function(){var t=s.m0.Z_;y(t)||s.Kht===t||(s.Kht=t,s.dispatchEvent("durationchange"))},s.aat=function(){s.R0&&(s.m0.removeEventListener("renditionUpdated",s.aat),s.dispatchEvent("R0"))},s.fat=function(){s.Aot&&s.dispatchEvent("Aot")},s.vat=function(){s.q0&&s.dispatchEvent("q0")},s.Xo=function(t){s.dispatchEvent(t)},s.dat=function(t){var n=s.m0.yK(t.ltt);n?n instanceof AD&&(n.ZJ(!1),n.e$()):s.dispatchEvent(t)},s.lat=function(t){s.m0.vg||(t.eh.code===qC.QY?(s.rat||(s.rat=h(s._at,tm)),s.sat=!1,s.KJ()):s.dispatchEvent({type:"eh",eh:t.eh}))},s.gat=function(t){s.wat(),s.yat(t.vg),s.mat(),s.m0.removeEventListener("pK",s.hH),s.m0.addEventListener("pK",s.hH),s.hH(),s.tat||(s.tat=!0,s.dispatchEvent("loadedmetadata")),s.aat(),s.sat=!0,s.KJ()},s._at=function(){s.wat();var t=s.z0;t&&(s.aut.Hl(),s.aut.z0=t,s.aut.iI())},s.kat=function(){s.aut.ktt()},s.pat=function(){s.Aat.forEach(function(t){return t.Dot()})},s.bat=function(t){s.Tat.forEach(function(n){return n.eot(t.$J)})},s.Eat=function(t){s.Aat.forEach(function(n){return n.sot(t.D5)}),s.$ht.Itt(t.D5,s.Aat.map(function(t){return t.Rb}))},s.KJ=function(){var t=s.eat,n=s.qot();s.eat=n,n&&!t?s.dispatchEvent("uw"):!n&&t&&s.dispatchEvent("$v")},s.tN=e,s.Kh=n,s.B0=i,s.Qb=r,s.Iit=new eP(n,i,r,un(s)),s.cut=new HP(n),s.m0=new TD(n),s.aut=new hB(r,n),s.$ht=new aB,s.aut.addEventListener("eh",s.dat),s.aut.addEventListener("dtt",s.lat),s.aut.addEventListener("_tt",s.gat),s.Iit.addEventListener("S9",s.Xo),s.Iit.addEventListener("eh",s.Xo),s.m0.addEventListener("IK",s.Xo),s.m0.addEventListener("JJ",s.bat),s.m0.addEventListener("Q$",s.Eat),s.m0.addEventListener("CK",s.Xo),s.$ht.addEventListener("btt",s.Xo),s.$ht.addEventListener("btt",s.pat),s.addEventListener("uw",s.kat),s}F(n,t);var i=n.prototype;return i.Sat=function(t){t.Uot=this.Uot,t.addEventListener("Qut",this.Xo),t.addEventListener("Rat",this.Xo),t.addEventListener("eh",this.Xo),t.addEventListener("wot",this.Xo),t.addEventListener("W0",this.Xo),t.addEventListener("Aot",this.fat),t.addEventListener("q0",this.vat),t.addEventListener("$v",this.KJ),t.addEventListener("uw",this.KJ),t.addEventListener("Jl",this.Xo),t.addEventListener("I0",this.Xo),t.addEventListener(Yo.Sc,this.Xo),t.addEventListener(Yo.Ic,this.Xo)},i.mat=function(){this.Iat();this.m0.LK.IJ;var t=this.m0.D$.IJ;this.uat=new BL(this.m0,this.aut,this.Iit,this.cut,this.Ptt,this.Kh,this.Qb,this.tN,this),this.Sat(this.uat),t.length&&(this.oat=new LL(this.m0,this.aut,this.Iit,this.cut,this.Ptt,this.Kh,this.Qb,this.tN,this),this.Sat(this.oat));for(var n=this.m0.MK,i=this.uat.Rb,r=0;r<n.length;r++){var e=n[r];e.Rb=i,this.hat.push(new ML(e,this.aut,this.Ptt,this.Qb,this.Kh,this))}},i.Iat=function(){this.uat&&(this.uat.Gv(),this.uat=void 0),this.oat&&(this.oat.Gv(),this.oat=void 0),this.hat.forEach(function(t){return t.Hl()}),this.hat.length=0,this.$ht.Hl()},i.Nat=function(t){this.Aat.forEach(function(n){return n.Sot(t)})},i.yat=function(t){this.m0.vg=t},i.Cat=function(){this.aut.iI()},i.Dat=function(t){this.$ht.Ntt(t,this.Aat.map(function(t){return t.Rb}))||this.Aat.forEach(function(t){t.Gut(),t.Cot()})},i.zht=function(){this.Iit.b9(),this.Aat.forEach(function(t){return t.Rot()})},i.Z0=function(){this.Iit.b9(),this.Aat.forEach(function(t){return t.Iot()})},i.j0=function(){this.Aat.forEach(function(t){return t.Not()})},i.Gv=function(){this.jo(),this.wat(),this.Iat(),this.Iit.Gv(),this.cut.Gv(),this.m0.Gv(),this.aut.Hl(),this.$ht.Gv()},i.Oat=function(t,n,i,r){var e=this.uat,s=this.oat;t&&(e.Rot(),this.Iit.gh(e.Up),e.Sot(r)),n&&s&&(s.Rot(),this.Iit.gh(s.Up),i&&s.Sot(r))},i.xat=function(){if(!this.uat)return RO;var t=this.uat;return QO(t.Rb,this.Iit.w6(t.Up))},i.gtt=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.vg.live||r.aut.removeEventListener(s,t),i&&i.GJ(n.vg)};s&&(this.aut.removeEventListener(s,u),this.aut.addEventListener(s,u)),this.aut.gtt(e,s),this.aut.mtt(s)},i.wat=function(){null!==this.rat&&a(this.rat),this.rat=null},i.qot=function(){return!!this.sat&&(!this.uat||this.uat.uw)},i.n1=function(t){this.uat&&(this.uat.Hot=t)},i.Hl=function(){this.Tat.forEach(function(t){return t.Hl()}),this.hat.forEach(function(t){return t.Hl()})},M(n,[{key:"Pat",get:function(){return this.uat}},{key:"Bat",get:function(){return this.oat}},{key:"Aat",get:function(){var t=[];return this.uat&&t.push(this.uat),this.oat&&this.oat.xot&&t.push(this.oat),t}},{key:"Tat",get:function(){return[this.uat,this.oat].filter(K)}},{key:"u6",get:function(){return Gt(this.tN.Dx*this.Iit.o6,1,this.Lat)}},{key:"z0",get:function(){return this.aut.z0},set:function(t){this.Kht=NaN,this.nat=1/0,this.tat=!1,this.eat=!0,this.sat=!0,this.m0.removeEventListener("renditionUpdated",this.aat),this.m0.removeEventListener("pK",this.hH),this.wat(),this.Iat(),this.Iit.gh(),this.cut.Bo(),this.m0.Gv(),this.m0.addEventListener("renditionUpdated",this.aat),this.aut.z0=t,this.KJ()}},{key:"Z_",get:function(){return this.Kht}},{key:"Gnt",get:function(){return this.m0&&hD.hg(this.m0.f$)}},{key:"uw",get:function(){return this.eat}},{key:"R0",get:function(){var t=this.Aat;return t.length>0&&t.every(function(t){return t.d$})}},{key:"o6",get:function(){return this.Iit.o6},set:function(t){t>0&&(this.Iit.o6=t)}},{key:"Aot",get:function(){return this.Aat.every(function(t){return t.Aot})}},{key:"q0",get:function(){return this.Aat.length>0&&this.Aat.every(function(t){return t.q0})}},{key:"Lat",get:function(){return this.iat},set:function(t){this.iat=t}},{key:"Uot",get:function(){return this.nat},set:function(t){var n=this;this.nat=t,this.Tat.forEach(function(t){return t.Uot=n.nat})}},{key:"aw",get:function(){return this.R0?new SO([{iI:this.nit,eI:this.iit}]):RO}},{key:"nit",get:function(){if(!this.R0)return 0;for(var t=-1/0,n=0,i=this.Aat;n<i.length;n++){var r=i[n];t=_.max(t,r.Rb.nit.ly())}return t}},{key:"iit",get:function(){if(!this.R0)return 0;for(var t=1/0,n=0,i=this.Aat;n<i.length;n++){var r=i[n];t=_.min(t,r.Rb.iit.ly())}return t}},{key:"rit",get:function(){if(!this.R0)return 0;for(var t=1/0,n=0,i=this.Aat;n<i.length;n++){var r=i[n];t=_.min(t,r.Rb.rit.ly())}return _.max(t,this.nit)}},{key:"K0",get:function(){return this.uat&&this.uat.Hot||void 0}}]),n}(XC),HL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Kh=void 0,r.Kht=NaN,r.tat=!1,r.m0=void 0,r.Rb=void 0,r.Mat=void 0,r.rat=null,r.eat=!0,r.Dht=null,r.Oht=null,r.Xo=function(t){r.dispatchEvent(t)},r.yat=function(t){if(r.m0.vg||(r.m0.vg=r.Mat.PK||null),!r.m0.BK){var n=r.m0.LK.IJ[0];n&&(r.m0.BK=n,r.Mat.att(n),r.dispatchEvent({type:"Uat",$J:n}))}t.manifest.isMasterPlaylist||r.m0.BK.GJ(t.manifest),void 0!==t.manifest.duration&&r.Kht!==t.manifest.duration&&(r.Kht=t.manifest.duration,r.dispatchEvent("durationchange")),r.tat||(r.tat=!0,r.dispatchEvent("loadedmetadata")),r.uht(!0),r.dispatchEvent({type:"htt",manifest:t.manifest})},r.lat=function(t){t.eh.code===qC.QY?(r.rat||(r.rat=h(r._at,tm)),r.uht(!1)):r.dispatchEvent({type:"eh",eh:t.eh})},r._at=function(){r.wat();var t=r.z0;t&&r.Mat.iI(t)},r.wat=function(){a(r.rat),r.rat=null},r.bat=function(t){var n=t.$J;r.Rb.Vnt(n,n.CZ),r.Kh.manifestMetadataTrack&&(r.Oht||(r.Dht=r.m0.fK("",r.Rb,""),r.Oht=new PL(r.Dht,r.Rb)),r.Oht.zh(n))},r.Kh=n,r.m0=new TD(n,!0),r.Rb=new IB(n),r.Mat=new oB(i,r.Kh),r.Rb.addEventListener("eh",r.Xo),r.Mat.addEventListener("htt",r.yat),r.Mat.addEventListener("eh",function(t){r.m0.vg?(r.rat||(r.rat=h(r._at,tm)),r.uht(!1)):r.lat(t)}),r.m0.addEventListener("JJ",r.bat),r}F(n,t);var i=n.prototype;return i.Cat=function(){this.m0.vg||this.Mat.iI()},i.xat=function(){return RO},i.uht=function(t){var n=this.eat;this.eat=t,t&&!n?this.dispatchEvent("uw"):!t&&n&&this.dispatchEvent("$v")},i.Gv=function(){this.jo(),this.wat(),this.m0.Gv(),this.Mat.Gv(),this.Oht=null,this.Rb.Gv()},i.Z0=function(){},i.j0=function(){},i.Nat=function(t){},i.n1=function(t){},M(n,[{key:"z0",get:function(){return this.Mat.z0},set:function(t){this.Kht=NaN,this.tat=!1,this.wat(),this.m0.Gv(),this.Oht=null,this.Mat.z0=t,this.uht(!0)}},{key:"Z_",get:function(){return this.Kht}},{key:"Gnt",get:function(){return this.m0&&hD.hg(this.m0.f$)}},{key:"uw",get:function(){return this.eat}},{key:"q0",get:function(){return!1}},{key:"Aot",get:function(){return!1}},{key:"K0",get:function(){return[]}}]),n}(XC),VL=1e3,XL="VEE3",WL=function(t){function n(n){var i;return(i=t.call(this,"Fat")||this).ptsOffset=n,i}return F(n,t),n}(Ss),qL=function(t){function n(n){var i;return(i=t.call(this)||this).FK=void 0,i.Hat=null,i.Vat=0,i.Xat="start",i.Wat=1,i.qat=!1,i.zat=!1,i.Gat=0,i.jat=null,i.Qat=null,i.Yat=null,i.Zat=null,i.Ttt=0,i.Jat=0,i.$at=new us,i.Kat=new Qu,i.tct=void 0,i.nct={},i.ict=!1,i.rct=null,i.ect=NaN,i.jut=function(){i.FK.Aat.map(function(t){t.jut()})},i.xht=function(){for(var t,n,r,e=0,s=i.FK.Tat;e<s.length;e++){var u=s[e],o=u.xht();if(o){var h=o.Pht;h&&h.L$!==oD.Lv&&(i.rct=h)}u.Up===uD.Lv?t=o:u.Up===uD._J&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"IK",sct:t&&t.NK,i0:t&&t.Pht,u0:n&&n.NK,n0:n&&n.Pht,$K:!!r&&r.xot})},i.Yut=function(){null!==i.jat&&a(i.jat),i.jat=h(i.Yut,VL),i.FK.Aat.forEach(function(t){return t.Yut()})},i.$ut=function(){null!==i.Qat&&a(i.Qat),i.qat&&(i.Qat=h(i.$ut,VL),i.FK.Aat.forEach(function(t){return t.$ut()}))},i.Jut=function(){i.FK.Aat.forEach(function(t){return t.Jut()})},i.uct=function(){if(i.FK.Gnt&&i.ig>1){var t=i.FK.rit;i.hct>t&&(i.ig=1,i.hct>=t+1&&(i.hct="start"))}},i.act=function(){i.Hat&&(0===i.Hat.cct()?i.hct="start":i.hct=i.fct(i.a6))},i.vct=function(){i.Gat=i.a6},i.dct=function(t){i.lct(),i.Hat.error&&(t.error.info.code===XL&&i.Jat<nm?(i.Jat+=1,i._ct()):i.dispatchEvent({type:"eh",error:t.error}))},i.gct=function(){i.Jat=0},i.wct=function(){i.removeEventListener("yct",i.mct),i.qat?i.mct():i.addEventListener("yct",i.mct)},i.mct=function(){var t=i.a6;i.FK.removeEventListener("R0",i.wct),i.FK.R0?i.FK.Aat.forEach(function(n){return n.tot(t)}):(i.FK.addEventListener("R0",i.wct),i.FK.Cat())},i.kct=function(){var t=i.a6;i.FK.Tat.forEach(function(n){return n.Kut(t,i.FK.Gnt)})},i.pct=function(){null!==i.jat&&a(i.jat),i.jat=null,null!==i.Qat&&a(i.Qat),i.Qat=null},i.Act=function(){i.bct(),i.FK.R0?i.G0():(i.FK.addEventListener("R0",i.Act),i.FK.Cat())},i.bct=function(){i.FK.removeEventListener("R0",i.Act)},i.WK=function(t){i.FK.gtt(t.L$,t.NK||void 0,t.$J||void 0),t.CK&&i.Tct(t.L$,t.NK,t.$J)},i.Ect=function(t){var n=t.Ttt-i.Ttt;_.abs(n)>Ky&&(i.Ttt=t.Ttt,i.a6=i.a6+n)},i.Sct=function(t){var n=t.R9.metadata;n.B$&&(i.nct[t.Up]=n.B$,i.Rct())},i.Rct=function(){if(i.FK.R0){var t=l.keys(i.nct).length===i.FK.Aat.length;i.Hat&&!i.Hat.Ict&&!i.tct&&t&&i.Nct(),i.Hat&&i.Ttt&&(i.Hat.Ttt=i.Ttt)}},i.Cct=function(){if(y(i.Dct))if(i.FK.Gnt)i.Dct=0;else{var t=i.rct,n=t&&t.v$,r=t&&K(n)&&!y(n)&&t.DZ(n)||void 0;i.Dct=vD(r)?r.P5.ly():NaN}i.N0&&(i.removeEventListener("IK",i.Cct),i.FK.removeEventListener("S9",i.Cct),i.dispatchEvent("N0",!0))},i.FK=n,n.Ptt=un(i),i}F(n,t);var i=n.prototype;return i._ct=function(){this.FK.Gnt?this.hct="start":(this.Gat+=.5,this.FK.Aat.map(function(t){t.Gut(),t.iot(),t.rot()}),this.hct=this.Gat),this.Rct(),this.Hat.play()},i.Oct=function(t){var n=this;this.Yat&&(this.FK.removeEventListener("R0",this.Yat),this.Yat=null),this.FK.R0?(this.zat=!0,this.ict=!0,this.FK.Dat(t),this.ict=!1):(this.Yat=function(){return n.Oct(t)},this.FK.Cat())},i.xct=function(t){this.Pct(),this.FK.Gnt&&(t="none"),"auto"===t&&this.Act()},i.Bct=function(t){var n=this;this.Pct(),"none"!==t&&(this.FK.R0?this.xct(t):(this.Zat=function(){return n.xct(t)},this.FK.addEventListener("R0",this.Zat),this.FK.Cat()))},i.Pct=function(){this.bct(),this.Zat&&(this.FK.removeEventListener("R0",this.Zat),this.Zat=null)},i.G0=function(){this.zat?this.FK.Nat():(this.hct=this.Xat,this.FK.Nat(22)),this.qat||(this.qat=!0,this.dispatchEvent("yct"))},i.Lct=function(){this.Hat&&(this.Hat.addEventListener("Mct",this.kct),this.Hat.addEventListener("seeking",this.wct),this.Hat.addEventListener("error",this.dct),this.Hat.addEventListener("playing",this.gct)),this.FK.addEventListener("IK",this.WK),this.FK.addEventListener("wot",this.act),this.FK.addEventListener("R0",this.Rct),this.FK.addEventListener("btt",this.Ect),this.FK.addEventListener("Jl",this.wct),this.J0()},i.Uct=function(){this.Hat&&(this.Hat.removeEventListener("Mct",this.kct),this.Hat.removeEventListener("seeking",this.wct),this.Hat.removeEventListener("error",this.dct),this.Hat.removeEventListener("playing",this.gct)),this.FK.removeEventListener("IK",this.WK),this.FK.removeEventListener("wot",this.act),this.FK.removeEventListener("R0",this.Rct),this.FK.removeEventListener("btt",this.Ect),this.FK.removeEventListener("Jl",this.wct),this.$0()},i.J0=function(){this.Hat&&(this.Hat.addEventListener("loadstart",this.Act),this.Hat.addEventListener("timeupdate",this.jut),this.Hat.addEventListener("playing",this.xht),this.Hat.addEventListener("timeupdate",this.xht),this.Hat.addEventListener("timeupdate",this.$ut),this.Hat.addEventListener("timeupdate",this.Yut),this.Hat.addEventListener("timeupdate",this.vct),this.Hat.addEventListener("timeupdate",this.uct),this.Hat.addEventListener("ended",this.pct)),this.FK.addEventListener("S9",this.Sct),this.FK.addEventListener("S9",this.Jut)},i.$0=function(){null!==this.jat&&a(this.jat),null!==this.Qat&&a(this.Qat),this.Hat&&(this.Hat.removeEventListener("loadstart",this.Act),this.Hat.removeEventListener("timeupdate",this.jut),this.Hat.removeEventListener("playing",this.xht),this.Hat.removeEventListener("timeupdate",this.xht),this.Hat.removeEventListener("timeupdate",this.$ut),this.Hat.removeEventListener("timeupdate",this.Yut),this.Hat.removeEventListener("timeupdate",this.vct),this.Hat.removeEventListener("timeupdate",this.uct),this.Hat.removeEventListener("ended",this.pct)),this.FK.removeEventListener("S9",this.Sct),this.FK.removeEventListener("S9",this.Jut)},i.Vtt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Kat.Sh;case 2:return i=this.Hat.Vtt(n),this.Hat.loading&&(this.Hat.loaded=!0,this.Hat.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gF=function(t,n){this.Fct.gF(t,n)},i.zut=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Kat.Sh;case 3:return t.next=5,this.Hat.zut(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),hs(t.t0)||this.dispatchEvent({type:"eh",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Nct=function(){var t=this,n=this.Kat,i=this.Hct(this.tct,this.$at.Uo);this.tct=i,i.then(function(){t.tct===i&&(t.tct=void 0,n.Rh())},function(r){t.tct===i&&(t.tct=void 0,n.Ih(r))})},i.Hct=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(R);case 3:return as(i),t.next=6,this.Hat.Nct(this.nct,this.FK.Z_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.FK.Tat;e<s.length;e++)u=s[e],r.CJ&&(u.Cut=r.CJ),r.DJ&&(u.xut=r.DJ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lct=function(){this.$at.Bo(),this.$at=new us,this.tct=void 0,this.Kat=new Qu},i.fct=function(t){var n=this.aw;return n.length?Gt(t,n.start(0),n.end(n.length-1)):0},i.uot=function(t){var n=this.FK.Pat;return n?n.uot(t):null},i.Knt=function(t){var n=this.FK.Pat;return n?n.Knt(t):NaN},i.Wh=function(t){var n=t||"none";this.Uct(),this.Lct(),this.Bct(n)},i.Y0=function(){this.Pct()},i.Gv=function(){this.jo(),this.nct={},this.Fct=null},i.Hl=function(){this.lct(),this.Vct(),this.nct={},this.Vat=0,this.Gat=0,this.Xat="start",this.Ttt=0,this.Wat=1,this.qat=!1,this.zat=!1,this.rct=null,this.FK.Hl()},i.Tct=function(t,n,i){if(n){this.dispatchEvent("C0"),this.$0();var r=!1,e=!1,s=!1;if("DJ"===t){e=!0;var u=this.FK.Pat;u&&u.xot&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Hat.CK("audio"),e&&this.Hat.CK("video"),this.FK.Tat.forEach(function(t){t.Gut(),r&&t.iot(),e&&t.rot()}),this.FK.Oat(e,r,s,22),this.FK.Tat.forEach(function(t){return t.Zut()}),this.J0()}},i.Cg=function(){this.$0(),this.FK.Gnt&&this.FK.zht()},i.Ng=function(){this.$0(),this.J0(),this.FK.j0()},i.Xct=function(t){var n=this.Dct||0;return this.U$?t-n<0?0:_.round((t-n)*this.U$-.5)||0:NaN},i.Wct=function(t){var n=this.Dct||0;return this.U$?n+(t+.5)/this.U$:NaN},i.Vct=function(){this.Dct=NaN,this.removeEventListener("IK",this.Cct),this.addEventListener("IK",this.Cct),this.FK.removeEventListener("S9",this.Cct),this.FK.addEventListener("S9",this.Cct)},M(n,[{key:"Fct",get:function(){return this.Hat},set:function(t){this.Uct(),this.lct(),this.gct(),this.Hat=t,this.Rct()}},{key:"a6",get:function(){return this.Hat&&!this.ict?this.Hat.cct():this.Vat},set:function(t){t=this.fct(t),this.Gat=this.Vat=t,this.Hat?this.Hat.qct(t):(this.kct(),this.wct())}},{key:"hct",get:function(){return this.Hat&&!this.ict?this.a6:this.Xat},set:function(t){"start"===t&&(t=this.FK.Gnt?1/0:0),t=this.fct(t),this.Xat=t,this.Gat=this.Vat=t,this.Oct(Ng.ym(this.Vat)),this.a6=t}},{key:"Ow",get:function(){return this.FK.Uot},set:function(t){this.FK.Uot=t}},{key:"ig",get:function(){return this.Hat?this.Hat.ig:this.Wat},set:function(t){var n=this.Wat;t>0&&(this.Wat=t,this.Hat&&(this.Hat.ig=t),this.FK.o6=t,this.Wat!==n&&this.dispatchEvent("zct"))}},{key:"aw",get:function(){var t=this.FK.aw;if(!t.length||!this.FK.Gnt)return t;var n=t.start(0),i=this.FK.rit;return i=_.max(this.a6,i),new SO([{iI:n,eI:i}])}},{key:"Jg",get:function(){return this.uot(this.a6)}},{key:"U$",get:function(){var t=this.rct;return t&&t.U$||NaN}},{key:"Dct",get:function(){return this.ect},set:function(t){this.ect!==t&&(this.dispatchEvent(new WL(t)),this.ect=t)}},{key:"N0",get:function(){return Boolean(this.U$)&&!y(this.Dct)}}]),n}(XC),zL=function(t){function n(n){var i;return(i=t.call(this)||this).Gct=null,i.m0=void 0,i.jct=[],i.Qct=function(t){return i.Yct(t)},i.Zct=function(){return i.Jct()},i.m0=n,i.jct=[],i}F(n,t);var i=n.prototype;return i.Jb=function(t){var n,i;"metadata"===t.kind&&(t.mode=tl.u_,n=this.m0.aK(t.id,t.inBandMetadataTrackDispatchType),i=this.$ct.bind(this,n),this.jct.push({Kct:t,tft:i,q$:n}),t.addEventListener("cuechange",i))},i.Xx=function(){for(var t=this.Gct.Rg,n=t&&t.length,i=0;i<n;i+=1)this.Jb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Qct),t.addEventListener("change",this.Zct))},i.$ct=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=vI(i[s].value),o=new pI(e,u);t.Kb(o)}},i.Jct=function(){for(var t=0,n=this.jct;t<n.length;t++){var i=n[t].Kct;i.mode!==tl.u_&&(i.mode=tl.u_)}},i.Yct=function(t){this.Jb(t.track)},i.nft=function(){for(var t=this.Gct,n=t&&t.Rg,i=0,r=this.jct;i<r.length;i++){var e=r[i];e.Kct.removeEventListener("cuechange",e.tft)}this.jct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Qct),n.removeEventListener("change",this.Zct))},i.Gv=function(){this.nft(),this.Gct=null,this.m0=null,this.Qct=null,this.Zct=null},i.Hl=function(){this.nft(),this.Gct&&this.Xx()},n}(XC),GL=function(t){function n(n){var i;return(i=t.call(this)||this).FK=void 0,i.ift=void 0,i.Hat=null,i.Xat="start",i.Wat=1,i.$v=!1,i.rft=null,i.eft=null,i.sft=NaN,i.uft=NaN,i.oft=null,i.hft=function(){i.Hat.removeEventListener("loadstart",i.hft),i.Hat.removeEventListener("play",i.hft),i.FK.Cat()},i.jut=function(){var t=i.FK.m0.BK;if(t&&(!i.rft||i.rft.iI>i.a6||i.rft.eI<i.a6)){var n=i.FK.Rb.G9(t,Ng.ym(i.a6));if(!n)return void i.Hat.addEventListener("timeupdate",i.jut);i.rft={iI:n.$nt.ly(),eI:n.$nt.vw(Ng.ym(n.Gp.duration)).ly(),hZ:n.Gp.hZ,o$:null},i.dispatchEvent({type:"Qut",Ob:n.Gp})}},i.xht=function(){var t=i.FK.m0,n=t.LK.IJ.length?t.LK.IJ:t.D$.IJ,r=i.Hat.sg,e=i.Hat.eg,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.eft&&(i.eft=u,i.dispatchEvent({type:"IK",$J:u}))},i.aft=function(t){i.dispatchEvent({type:"IK",$J:t.$J})},i.cft=function(){if(i.Hat){var t=i.Hat.aw,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.uft&&(i.uft=n,i.sft=Wb())}},i.fft=function(){i.$v=!0},i.vft=function(){i.$v&&(i.$v=!1,i.dft())},i.FK=n,i.ift=new zL(n.m0),n.addEventListener("$v",i.fft),n.addEventListener("uw",i.vft),i}F(n,t);var i=n.prototype;return i.fct=function(t){var n=this.Hat.aw;return n.length?Gt(t,n.start(0),n.end(n.length-1)):0},i.dft=function(){if(this.Hat){var t=this.Hat.currentTime,n=this.Hat.paused;this.Hat.load(),this.Hat.currentTime=t,n||this.Hat.play()}},i.lft=function(){this.Hat&&(this.Hat.addEventListener("loadstart",this.hft),this.Hat.addEventListener("play",this.hft),this.Hat.addEventListener("timeupdate",this.jut),this.Hat.addEventListener("timeupdate",this.xht),f(this.oft),this.oft=c(this.cft,250))},i._ft=function(){f(this.oft),this.Hat&&(this.Hat.removeEventListener("loadstart",this.hft),this.Hat.removeEventListener("play",this.hft),this.Hat.removeEventListener("timeupdate",this.jut),this.Hat.removeEventListener("timeupdate",this.xht))},i.Wh=function(t){t=t||"none",this._ft(),this.lft(),this.FK.removeEventListener("Uat",this.aft),this.FK.addEventListener("Uat",this.aft),"none"!==t&&this.hft()},i.Gv=function(){this.jo(),this.ift.Gv(),this.Fct=null,this.FK.removeEventListener("Uat",this.aft)},i.Hl=function(){this.Xat="start",this.Wat=1,this.$v=!1,this.rft=null,this.eft=null,this.sft=NaN,this.uft=NaN,f(this.oft),this.ift.Hl()},i.Ng=function(){},i.Cg=function(){},i.Y0=function(){},i.Tct=function(){},i.Knt=function(t){var n=this.FK.m0.BK;return this.FK.Rb.Knt(n,t).ly()},i.uot=function(t){var n,i,r=this.FK.m0.BK,e=this.FK.Rb,s=t,u=this.rft;if(u)u.o$||(u.o$=e.Jnt(r,u.hZ)),n=u.iI,i=u.o$;else{var o=e.G9(r,Ng.ym(s));if(!o)return null;n=o.$nt.ly(),i=e.Jnt(r,o.Gp.hZ)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Xct=function(t){return NaN},i.Wct=function(t){return NaN},M(n,[{key:"gft",get:function(){return null}},{key:"Jg",get:function(){return this.uot(this.a6)}},{key:"Fct",get:function(){return this.Hat},set:function(t){this._ft(),this.Hat=t,this.Hat&&(this.ift.Gct=this.Hat,this.ift.Xx())}},{key:"hct",get:function(){return this.Hat?this.Hat.cct():this.Xat},set:function(t){"start"===t&&(t=this.FK.Gnt?1/0:0),t=this.fct(t),this.Xat=t,this.Hat&&this.Hat.qct(t)}},{key:"a6",get:function(){return this.hct},set:function(t){t=this.fct(t),this.hct=t}},{key:"Ow",get:function(){return 1/0},set:function(t){}},{key:"ig",get:function(){return this.Hat?this.Hat.ig:this.Wat},set:function(t){t>0&&(this.Wat=t,this.Hat&&(this.Hat.ig=t))}},{key:"aw",get:function(){var t,n,i,r=this.Hat?this.Hat.aw:null,e=this.FK.Rb.aw;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.uft||r.end(r.length-1))+this.FK.Rb.eit.ly(),isFinite(this.sft)&&(i+=(Wb()-this.sft)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.FK.Rb.rit.ly()}return i=_.min(n,i),i=_.max(this.a6,i),new SO([{iI:t,eI:i}])}},{key:"U$",get:function(){return NaN}},{key:"Dct",get:function(){return NaN}},{key:"N0",get:function(){return!1}}]),n}(XC),jL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).wft=new us,o.yft=void 0,o.Qb=void 0,o.mft=function(){return o.kft()},o.vo=V_.WEBVTT,o.d_=H_.NONE,o.g_=Bf(s),o.qo(Td.Tl,o.mft),o.Qb=u,o}F(n,t);var i=n.prototype;return i.Wh=function(){this.g_&&!this.yft&&(this.yft=this.Xd(this.wft.Uo),this.yft.catch(fs))},i.Xd=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.g_,t.prev=1,this.d_=H_.LOADING,r=new Df({Av:i,Fv:Sf.GET,wv:Zo.us,Uo:n}),t.next=6,this.Qb.kv(r);case 6:return e=t.sent,t.next=9,e.Us();case 9:s=t.sent,this.u2(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),cs(t.t0),this.PS(Ay(t.t0,this.g_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.Y0=function(){this.d_!==H_.LOADED&&(this.d_=H_.NONE,this.wft.Bo(),this.wft=new us,this.yft=void 0)},i.PS=function(t){this.d_=H_.ERROR,this.Wo(new i_(t))},i.Gv=function(){this.Y0(),this.wft.No(),t.prototype.Gv.call(this)},i.kft=function(){switch(this.c_){case tl.o_:case tl.u_:this.Wh();break;case tl.s_:this.Y0()}},i.u2=function(t,n){try{for(var i=iw(n).l_,r=0;r<i.length;r++){var e=i[r];this.Kb(e)}this.d_=H_.LOADED}catch(n){this.PS(by(this.vo,this.g_,t._v,n))}},n}(wR);function QL(t){return cy(t.kind)}var YL=function(){function t(t,n,i,r){this.pft=void 0,this.Rg=void 0,this.Aft=void 0,this.Qb=void 0,this.pft=t,this.Rg=i,this.Aft=n,this.Qb=r,this.Hl()}var n=t.prototype;return n.bft=function(t){if(this.Tft(),t)if(this.Aft)for(var n=0;n<t.length;n++){var i=t[n];this.oR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.Eft(e)}},n.oR=function(t){var n=QL(t);if(my(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.pft.appendChild(i)}},n.Eft=function(t){var n=QL(t),i=new jL(n,t.id,t.label,t.srclang,t.src,this.Qb);t.default&&(i.c_=tl.o_),this.Rg.Ml(i)},n.Tft=function(){for(var t=this.Rg.Vl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Sft&&this.Rg.Ul(i)}},n.Rft=function(){this.Tft()},n.Hl=function(){this.Tft()},t}(),ZL=function(){function t(t){this.x0=void 0,this.x0=t}var n=t.prototype;return n.qo=function(t,n){this.x0.addEventListener(t,n)},n.Qo=function(t,n){this.x0.removeEventListener(t,n)},M(t,[{key:"Y_",get:function(){return this.x0.currentTime}},{key:"ng",get:function(){return this.x0.paused}},{key:"rg",get:function(){return this.x0.seeking}}]),t}(),JL=function(t){function n(n,i){var r;(r=t.call(this)||this).Ift=void 0,r.Rg=void 0,r.Nft=void 0,r.Cft=void 0,r.Hat=void 0,r.Dft=!0,r.Oft=function(t){return r.xft(t)},r.Pft=function(){return r.Bft()},r.Lft=function(){return r.Mft()},r.Uft=function(){return r.Fft()},r.Qct=function(t){return r.Yct(t.dl)},r.Hft=function(t){return r.Vft(t.dl)},r.Xft=function(){return r.Wft()},r.Ift=n,r.Rg=i,r.Ift.addEventListener("seeking",r.Xft),r.Ift.addEventListener("seeked",r.Xft),r.Nft=new kI(new ZL(n));for(var e=0,s=r.Rg.Vl;e<s.length;e++){var u=s[e];r.Yct(u)}return r.Rg.qo(kd.ul,r.Qct),r.Rg.qo(kd.hl,r.Hft),r}F(n,t);var i=n.prototype;return i.xft=function(t){this.Rg.Ml(t.dl)},i.Bft=function(){for(var t=this.Rg.Vl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Sft&&this.Rg.Ul(i)}},i.Mft=function(){var t=this.Fct,n=[],i=t&&t.Rg;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this.kW(e);s=new lI(e,u,this.mV),e.THEOplayerTextTrack=s,this.Rg.Ml(s)}n.push(s)}}for(var o=0,h=this.Rg.Vl;o<h.length;o++){var a=h[o];_I(a)&&-1===n.indexOf(a)&&this.Rg.Ul(a)}},i.kW=function(t){for(var n=this.Fct.$g.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Fft=function(){for(var t=0,n=this.Rg.Vl;t<n.length;t++){var i=n[t];_I(i)&&i.kV()}},i.Wft=function(){this.qft()},i.Yct=function(t){t instanceof wR&&this.Nft.Ml(t)},i.Vft=function(t){t instanceof wR&&this.Nft.Ul(t)},i.qft=function(){var t=this.Rg.Vl;if(t.length)for(var n=this.Ift.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof wR){for(var s=[],u=0,o=e.l_.Vl;u<o.length;u++){var h=o[u];if(!(h.Ow<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.qH(c)}}}},i.Gv=function(){this.Ift.removeEventListener("seeking",this.Xft),this.Ift.removeEventListener("seeked",this.Xft);for(var t=0,n=this.Rg.Vl;t<n.length;t++){var i=n[t];this.Vft(i)}this.Rg.Qo(kd.ul,this.Qct),this.Rg.Qo(kd.hl,this.Hft),this.Nft.Gv(),this.m0=null,this.Fct=null},M(n,[{key:"m0",get:function(){return this.Cft},set:function(t){var n=this.Cft;if(n){for(var i=0,r=n.Rg;i<r.length;i++){var e=r[i];this.Rg.Ul(e)}n.removeEventListener("cK",this.Oft),n.removeEventListener("Gv",this.Pft)}if(this.Cft=t,t){for(var s=0,u=t.Rg;s<u.length;s++){var o=u[s];this.Rg.Ml(o)}t.addEventListener("cK",this.Oft),t.addEventListener("Gv",this.Pft)}}},{key:"Fct",get:function(){return this.Hat},set:function(t){var n=this.Hat;n&&n.Rg&&n.Rg.removeEventListener&&(n.Rg.removeEventListener("addtrack",this.Lft),n.Rg.removeEventListener("removetrack",this.Lft),n.Rg.removeEventListener("change",this.Uft)),this.Hat=t,t&&t.Rg&&t.Rg.addEventListener&&(t.Rg.addEventListener("addtrack",this.Lft),t.Rg.addEventListener("removetrack",this.Lft),t.Rg.addEventListener("change",this.Uft)),this.Mft(),this.Fft()}},{key:"mV",get:function(){return this.Dft},set:function(t){if(this.Dft!==t){this.Dft=t;for(var n=0,i=this.Rg.Vl;n<i.length;n++){var r=i[n];_I(r)&&(r.mV=t)}}}}]),n}(XC),$L=function(){function t(t,n){this.Wv=void 0,this.sl=void 0,this.zft=[],this.Gft=new Jo,this.jft=ee(),this.Qft=new us,this.Wv=!(!t||t.crossOrigin!==gl.B_&&!t.Yft),this.sl=n}var n=t.prototype;return n.Zft=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h,a,c,f;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=T.Vu(n),e=0,s=this.zft;e<s.length;e++)null===(u=s[e]).ks||void 0===u.ks?r.searchParams.delete(u.Jft):r.searchParams.set(u.Jft,u.ks);return t.prev=2,o=new Df({Av:r.href,wv:Zo.Lc,gv:this.Gft,Wv:this.Wv,Fv:Sf.GET,Uo:i,vo:Rf.Rv,Vv:If.Bv}),t.next=6,this.sl.kv(o);case 6:return h=t.sent,t.next=9,h.Us();case 9:return a=t.sent,c=new m(a),f=new m(16),16!==c.length&&gt("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=qu(c,0,16)),f.set(c,16-c.length),t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t.catch(2),cs(t.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return E.reject(new zC(qC.tZ,{code:"CAD1603"}));var i=this.jft.get(n);return i||(i=this.Zft(n,this.Qft.Uo),this.jft.set(n,i)),i},n.Gv=function(){this.Qft.Bo(),this.jft.clear()},n.$ft=function(t,n){this.zft.push({Jft:t,ks:n})},n.Kft=function(t,n){this.Gft.append(t,n)},t}(),KL=function(t){this.Ift=void 0,this.Ift=t},tM=s.createElement("video");var nM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.wht=function(t){return!!function(t){return tM.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(KL);WC.ts.BL("AvoidUnsupportedCodecsRule",nM);var iM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.wht=function(t,n,i,r){return!("R8"===r.B9)||t.bandwidth<2e6},n}(KL);WC.ts.BL("AvoidHighBitrateStreamsRule",iM);var rM=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.tvt=function(t){if(!t.resolution)return!0;var n=this.Ift.element.getBoundingClientRect(),i=e.innerWidth||s.documentElement.clientWidth,r=e.innerHeight||s.documentElement.clientHeight,u=_.max(0,_.min(n.right,i)-_.max(0,n.left)),o=_.max(0,_.min(n.bottom,r)-_.max(0,n.top)),h=T.qu.cu;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.wht=function(t){return this.tvt(t)},n}(KL);WC.ts.BL("AvoidVideoResolutionGreaterThanDisplaySizeRule",rM);var eM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.wht=function(t,n,i){if(i.X6<=0)return!1;var r=i&&.8*i.X6;return!(r&&!y(r)&&t.bandwidth)||r>t.bandwidth*this.Ift.playbackRate},n}(KL);WC.ts.BL("DownloadMetricRule",eM);var sM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.wht=function(t){return!0},n}(KL);WC.ts.BL("LimitVideoQualityToDisplaySizeRule",sM);var uM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.wht=function(t,n){return!n||(n.L$===oD.Tv||t.L$===oD.Tv||(n.L$===oD.uJ||t.L$===oD.uJ||n.L$===t.L$))},n}(KL);function oM(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function hM(t,n){var i=n;for(var r in t)rt(t[r])?(i[r]=i[r]||{},hM(t[r],i[r])):J.call(i,r)||(i[r]=t[r]);return i}function aM(t,n){var i=hM(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case gl.P_:case gl.B_:break;default:n=gl.x_}return t&&t.withCredentials&&(n=gl.B_),t&&t.vr&&t.vr[360]&&n===gl.x_&&(n=gl.P_),n}(i),i}function cM(t){ut(t)&&t.then(R,R)}WC.ts.BL("OnlyAllowSameTrackTypeRenditionsRule",uM);var fM,vM=500,dM=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],lM=function(t){function n(n,i){var r;return(r=t.call(this)||this).nvt=void 0,r.bS=void 0,r.ivt=void 0,r.ES=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.gX=function(){var t=r.bS.ZS.error&&r.bS.ZS.error.code;t&&r.PS(new zC(qC.JY,{code:"VEE"+t}))},r.rvt=function(t){r.dispatchEvent({type:t.type,error:r.bS.ZS.error})},r.evt=function(){a(r.ivt),r.ivt=void 0,r.bS.ZS.removeEventListener("timeupdate",r.evt),r.bS.Qo(Ml.Q_,r.evt)},r.svt=function(){void 0!==r.ivt&&r.evt(),r.ivt=h(function(){r.bS.ZS.currentTime+=.1,r.evt()},vM),r.bS.ZS.addEventListener("timeupdate",r.evt),r.bS.qo(Ml.Q_,r.evt)},r.uvt=function(){switch(r.bS.ZS.readyState){case kl.H_:case kl.V_:case kl.X_:r.svt();break;case kl.F_:case kl.U_:}},r.nvt=n,r.bS=i,r}F(n,t);var i=n.prototype;return i.setup=function(){this.hK(),this.bS.ZS.parentNode!==this.nvt&&this.nvt.appendChild(this.bS.ZS),this.loaded=!1,this.bS.ZS.preload="metadata",this.bS.ZS.addEventListener("play",this.uvt),this.bS.ZS.addEventListener("loadeddata",this.uvt),this.dispatchEvent("ovt")},i.hK=function(){for(var t=0;t<dM.length;t++){var n=dM[t];this.bS.ZS.addEventListener(n,this.rvt,!0)}this.bS.ZS.addEventListener("error",this.gX,!0),this.bS.qo(Ml.Sl,this.rvt),this.bS.qo(Ml.Q_,this.rvt)},i.avt=function(){for(var t=0;t<dM.length;t++){var n=dM[t];this.bS.ZS.removeEventListener(n,this.rvt,!0)}this.bS.ZS.removeEventListener("error",this.gX,!0),this.bS.Qo(Ml.Sl,this.rvt),this.bS.Qo(Ml.Q_,this.rvt)},i.PS=function(t){this.ES=t,this.dispatchEvent({type:"error",error:t})},i.Vtt=function(){return E.resolve()},i.load=function(){this.bS.ZS.load(),this.loaded=!0},i.unload=function(){return this.evt(),this.jo(),this.avt(),this.bS.ZS.removeEventListener("play",this.uvt),this.bS.ZS.removeEventListener("loadeddata",this.uvt),Pr(this.bS.ZS),this.bS.ZS},i.play=function(){var t=this.ig;cM(this.bS.ZS.play()),this.ig=t},i.pause=function(){this.bS.ZS.pause()},i.Dg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.qct(0)}catch(t){}this.dispatchEvent("reset")},i.Xg=function(){return this.bS.ZS},i.cct=function(){return this.bS.ZS.currentTime},i.qct=function(t){this.bS.ZS.currentTime=t},i.canPlayCodecs=function(t){return this.bS.ZS.canPlayType('video/mp4; codecs="'+t+'"')},M(n,[{key:"Ict",get:function(){return!0}},{key:"$g",get:function(){return this.bS.ZS}},{key:"Zg",get:function(){return this.bS.ZS.buffered}},{key:"ug",get:function(){return this.bS.ZS.volume},set:function(t){this.bS.ZS.volume=t}},{key:"duration",get:function(){return this.bS.ZS.duration}},{key:"muted",get:function(){return this.bS.ZS.muted},set:function(t){this.bS.ZS.muted=t}},{key:"paused",get:function(){return this.bS.ZS.paused}},{key:"played",get:function(){return this.bS.ZS.played}},{key:"poster",get:function(){return this.bS.ZS.poster},set:function(t){t?this.bS.ZS.poster=t:this.bS.ZS.removeAttribute("poster")}},{key:"controls",get:function(){return this.bS.ZS.controls},set:function(t){t?this.bS.ZS.controls=t:this.bS.ZS.removeAttribute("controls")}},{key:"ended",get:function(){return this.bS.ZS.ended}},{key:"seeking",get:function(){return this.bS.ZS.seeking}},{key:"error",get:function(){return this.bS.ZS.error}},{key:"width",get:function(){return this.bS.ZS.offsetWidth}},{key:"height",get:function(){return this.bS.ZS.offsetHeight}},{key:"src",get:function(){return this.bS.ZS.src},set:function(t){this.bS.ZS.src=t}},{key:"sg",get:function(){return this.bS.ZS.videoWidth}},{key:"eg",get:function(){return this.bS.ZS.videoHeight}},{key:"Rg",get:function(){return this.bS.ZS.textTracks}},{key:"Gnt",get:function(){return this.bS.ZS.duration===1/0}},{key:"aw",get:function(){var t=this.bS.ZS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.cct()||0),new SO([{iI:n,eI:i}])}},{key:"ig",get:function(){return this.bS.ZS.playbackRate},set:function(t){t>0&&(this.bS.ZS.playbackRate=t)}},{key:"d_",get:function(){return this.bS.d_}},{key:"cvt",get:function(){return void 0!==this.bS.ZS.webkitSupportsPresentationMode&&this.bS.ZS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"fvt",get:function(){return"picture-in-picture"===this.bS.ZS.webkitPresentationMode}},{key:"vvt",get:function(){return this.bS.ZS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.bS.ZS.webkitSetPresentationMode(t)}}]),n}(XC);!function(t){t[t.dvt=0]="dvt",t[t.lvt=1]="lvt",t[t.SQ=2]="SQ",t[t._vt=3]="_vt",t[t.gvt=4]="gvt"}(fM||(fM={}));var _M=function(){function t(){this.wvt=!1,this.yvt=null,this.mvt=null,this.kvt=null,this.lL=[],this.pvt=null}var n=t.prototype;return n.Avt=function(){if(!this.wvt)return!1;for(var t=this.yvt,n=this.mvt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.bvt=function(t){switch(t.vo){case fM.dvt:return this.Tvt(t.Us,t.$nt,t.JD);case fM.lvt:return this.Evt(t.Svt);case fM.SQ:return this.Rvt(t.Ivt,t.Nvt);case fM._vt:return this._L();case fM.gvt:return this.Cvt(t.JD)}},n.Tvt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.mvt,y(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.Dvt();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Evt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.mvt,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=_.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.Dvt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Rvt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.yvt,r=this.mvt,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=_.max(e.start(0),n),o=_.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.Dvt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._L=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.yvt,i=this.mvt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,yd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.Cvt=function(t){return E.resolve(t())},n.Ovt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.eH(n)){t.next=5;break}return t.next=3,ks(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.eH=function(t){var n=this.yvt;if(!n.open||"open"!==n.readyState||!this.Avt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Dvt=function(){var t=this;return new E(function(n,i){var r,e=t.mvt,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new v(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.xvt=function(){var t=this;this.kvt||(0!==this.lL.length||this.pvt)&&this.Avt()&&(this.kvt=this.Pvt().then(function(){t.kvt=null}))},n.Pvt=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.lL.length>0)){t.next=9;break}if(this.Avt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.lL.shift(),t.next=7,this.bvt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.Ovt("decode").catch(R);case 16:if(!this.pvt){t.next=26;break}return t.prev=17,t.next=20,this.Ovt(this.pvt.eh);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.pvt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Xx=function(t,n){this.wvt||(this.wvt=!0,this.yvt=t,this.mvt=n,this.xvt())},n.vw=function(t,n,i){this.lL.push({vo:fM.dvt,Us:t,$nt:n,JD:i}),this.xvt()},n.Bvt=function(t,n){this.lL.push({vo:fM.SQ,Ivt:t,Nvt:n}),this.xvt()},n.Lvt=function(t){this.lL.push({vo:fM.lvt,Svt:t}),this.xvt()},n.Bo=function(){this.lL.push({vo:fM._vt}),this.xvt()},n.Mvt=function(t){this.lL.push({vo:fM.gvt,JD:t}),this.xvt()},n.zut=function(t){this.pvt={eh:t},this.xvt()},n.gh=function(){this.lL.length=0,this.pvt=null},t}();var gM=function(t){function n(n){var i;return(i=t.call(this)||this).yvt=void 0,i.mvt=null,i.Uvt=new _M,i.Ow=NaN,i.Fvt=null,i.Xo=function(t){return i.dispatchEvent(t)},i.Hvt=function(){return i.b9()},i.yvt=n,i.Hl(),i}F(n,t);var i=n.prototype;return i.Vvt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Vtt=function(t,n,i,r){var e=this;if(!this.mvt||!n)return E.resolve();var s=n.initializer.Us,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Fvt,s);if(r&&(Z.He||this.Uvt.Bo()),r)if(Z.He);else{var o=t&&t.iI,h=t&&t.iI+t.Z_-.5;this.Uvt.Bvt(o,h)}return u&&(this.Uvt.vw(s,i,this.Vvt.bind(this)),this.Fvt=s),new E(function(t,r){e.Uvt.vw(n.m4s.Us,i,function(n){n?r(n):t()})})},i.fF=function(){var t=this;return new E(function(n){t.Uvt.Mvt(function(){var i=t.Zg;i&&i.length&&(t.Ow=i.end(i.length-1)),n()})})},i.Xvt=function(t){if(!this.mvt){try{this.mvt=this.yvt.addSourceBuffer(t),this.mvt.addEventListener("updatestart",this.Xo),this.mvt.addEventListener("updateend",this.Xo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.yvt.addEventListener("sourceclose",this.Hvt),this.Uvt.Xx(this.yvt,this.mvt)}return!0},i.Avt=function(){for(var t=0;t<this.yvt.sourceBuffers.length;t++)if(this.yvt.sourceBuffers[t]===this.mvt)return!0;return!1},i.qh=function(t){var n=this,i=this.Zg;if(!(this.mvt&&i&&i.length))return t&&t();this.mvt.remove(0,i.end(i.length-1)),t&&this.mvt.addEventListener("updateend",function i(r){n.mvt.removeEventListener("updateend",i),t()})},i.Hl=function(t){this.Fvt=null,this.Ow=NaN,this.b9(),this.qh(t)},i.Lvt=function(t){this.mvt&&this.Uvt.Lvt(t)},i.zut=function(t){this.mvt&&this.Uvt.zut(t)},i.b9=function(){this.Uvt.gh(),"open"===this.yvt.readyState&&this.mvt&&this.mvt.updating&&this.mvt.abort()},M(n,[{key:"Zg",get:function(){return this.mvt&&this.Avt()?new SO(PO(this.mvt.buffered)):null}},{key:"xO",get:function(){return this.mvt&&this.mvt.updating}},{key:"J_",get:function(){var t=this.Zg;return!t||!y(this.Ow)&&OO(t,this.Ow)}}]),n}(XC),wM="mp4a.40.34";var yM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Wvt=!1,i.EN=function(){var t=i.Wvt;i.Wvt=i.xO,!t&&i.Wvt?i.dispatchEvent("updatestart"):t&&!i.Wvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new gM(n),i.videoTrackBuffer=new gM(n),i.audioTrackBuffer.addEventListener("updatestart",i.EN),i.videoTrackBuffer.addEventListener("updatestart",i.EN),i.audioTrackBuffer.addEventListener("updateend",i.EN),i.videoTrackBuffer.addEventListener("updateend",i.EN),i.Hl(),i}F(n,t);var i=n.prototype;return i.Vtt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.CJ&&i.push(this.audioTrackBuffer.Vtt(n.metadata.CJ,n.CJ,n.metadata.CJ&&n.metadata.CJ.x3===wM?n.metadata.CJ.iI:NaN,n.metadata.O4)),n.DJ&&i.push(this.videoTrackBuffer.Vtt(n.metadata.DJ,n.DJ,NaN,n.metadata.O4)),t.next=7,E.all(i);case 7:this.J_&&(this.audioTrackBuffer.zut(),this.videoTrackBuffer.zut());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zut=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.fF()),i&&r.push(this.videoTrackBuffer.fF()),t.next=5,E.all(r);case 5:this.J_&&(this.audioTrackBuffer.zut(),this.videoTrackBuffer.zut());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Xx=function(t){var n,i={};for(var r in t)if(J.call(t,r)){var e=t[r];if(e.DJ){var s='video/mp4; codecs="'+e.DJ+'"';this.videoTrackBuffer.Xvt(s),i.DJ=this.videoTrackBuffer}if(e.CJ){var u=(n=e.CJ)!==wM||zy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Xvt(u),i.CJ=this.audioTrackBuffer}0}return i},i.Hl=function(t){var n=!1,i=!1;this.Wvt=!1,this.audioTrackBuffer.Hl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Hl(function(){if(i=!0,n&&t)return t()})},i.Lvt=function(t){this.audioTrackBuffer.Lvt(t),this.videoTrackBuffer.Lvt(t)},i.b9=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.b9(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.b9()},M(n,[{key:"Zg",get:function(){var t=this.audioTrackBuffer.Zg,n=this.videoTrackBuffer.Zg;return t&&n?CO(t,n):t||n||RO}},{key:"rM",get:function(){return this.audioTrackBuffer.Zg||RO}},{key:"eM",get:function(){return this.videoTrackBuffer.Zg||RO}},{key:"xO",get:function(){return this.audioTrackBuffer.xO||this.videoTrackBuffer.xO}},{key:"J_",get:function(){return this.audioTrackBuffer.J_&&this.videoTrackBuffer.J_}}]),n}(XC),mM=1,kM=.05,pM=.01;function AM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function bM(t,n,i,r){var e=xO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-kM)){var u,o;do{if((u=AM(t,n))<0)return;t=(o=n.start(u)+pM)+kM}while(n.end(u)-o<kM);for(var h=o-s,a=CO(new SO([{iI:s,eI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<mM?o:void 0}}var TM=100,EM=1e-4,SM=500,RM=Zy,IM=Z.Re,NM=5,CM=["resize","volumechange"],DM=function(n){function i(t,i){var r;return(r=n.call(this)||this).qvt=void 0,r.bS=void 0,r.zvt=!0,r.J_=!1,r.Gvt=!1,r.jvt=!1,r.Qvt=null,r.eh=!1,r.yvt=null,r.mvt=null,r.Yvt=null,r.wvt=!1,r.Zvt=0,r.Jvt=rA.HI(),r.Wat=1,r.$vt=!1,r.mH=!1,r.rg=!1,r.Kvt=new us,r.tdt=!1,r.ndt=!1,r.idt=void 0,r.rdt=null,r.edt=null,r.sdt=kl.U_,r.udt=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.odt=function(){r.udt=!1,r.hdt(),r.adt(),r.cdt()},r.fdt=function(){r.vdt(),r.cdt(),r.ddt()},r.US=function(){r.ldt(),r.vdt(),r.TH()?r.dispatchEvent("playing"):r.udt=!0},r._dt=function(){r.udt=!1,r.hdt(),r.Dg()},r.rH=function(){r.gdt()},r.MS=function(){r.wdt(),r.ddt()},r.LF=function(){var t=r.sdt,n=r.d_;t!==n&&(r.sdt=n,r.dispatchEvent(new n_(r.cct(),n))),r.ddt()},r.adt=function(){r.Zvt&&(f(r.Zvt),r.Zvt=0,IM&&(r.bS.ZS.removeEventListener("timeupdate",r.EW),r.removeEventListener(Ml.Sl,r.NW)))},r.ydt=function(){r.Zvt||(r.Zvt=c(r.mdt,SM)),IM&&(r.bS.ZS.addEventListener("timeupdate",r.EW),r.addEventListener(Ml.Sl,r.NW),r.EW()),r.mdt()},r.kdt=function(){var t=r.cct(),n=OO(r.pdt,t);r.bS.ng||r.rg&&!n||r.Adt()||r.ydt()},r.mdt=function(t){if(!(r.rdt||void 0===t&&r.ndt)){var n,i=r.cct(),e=r.Zg;if(void 0===t){if(void 0===(n=bM(i,e,r.pdt,r.Gvt)))return}else{if(!OO(e,t))return;n=t}var s=function(){r.bS.ZS.currentTime=n,r.bdt(n),r.adt(),r.ndt=!0};Qt(n,i)?r.rdt=h(function(){r.rdt=null,i=r.cct(),Qt(n,i)&&(n+=1e3*SM,s())},SM):s()}},r.vq=function(){var t=r.Yvt;if(r.Tdt(),r.bS.ZS.readyState===kl.U_)return r.Yvt=t,void r.bS.ZS.addEventListener("loadedmetadata",r.vq);_.abs(r.bS.ZS.currentTime-t)<EM?r.MS():(r.bS.ZS.currentTime=t,r.ndt=!1,r.rH()),r.Yvt=null,r.lP(r.Wat),r.bS.rq(),r.Edt(t)&&r.Dg()},r.Sdt=function(){if(!r.Gvt){var t=r.bS.ZS,n=r.Zg,i=t.currentTime;r.Rdt(n,i)&&(r.Gvt=!0,r.vdt(),i=t.currentTime,r.Rdt(n,i)?r.Gvt=!0:r.Gvt=!1,r.LF()),r.edt=i}},r.ldt=function(){r.hdt(),r.Qvt=c(r.Sdt,TM)},r.hdt=function(){r.Gvt=!1,f(r.Qvt)},r.Idt=function(){r.Gvt&&(r.Gvt=!1,r.LF())},r.EW=function(){var t=r.mvt;if(t)if(t.J_)r.SW();else{var n=t.rM,i=t.eM;if(0!==n.length&&0!==i.length){var e=r.cct();if(e<n.start(0)||e<i.start(0))r.SW();else OO(n,e)!==OO(i,e)?r.RW():r.SW()}else r.SW()}},r.NW=function(){if(!(r.rg||r.ndt||r.bS.ZS.seeking||r.d_>=kl.V_)){var t=r.mvt;if(t){var n=r.cct(),i=rA.MI(t.rM),e=rA.MI(t.eM);if(i._R(n)&&e._R(n))i.AI(e).RI(n-NM,n)&&(r.bS.ZS.currentTime=n,r.ndt=!0)}}},r.Ndt=function(){r.yvt.open=!0,r.yvt.removeEventListener("sourceopen",r.Ndt),r.yvt.removeEventListener("webkitsourceopen",r.Ndt)},r.gX=function(t){var n=r.bS.ZS.error&&r.bS.ZS.error.code;n&&r.PS(new zC(qC.JY,{code:"VEE"+n}))},r.Xo=function(t){r.dispatchEvent({type:t.type})},r.Cdt=function(){r.mvt&&r.mvt.J_&&r.dispatchEvent("durationchange")},r.Ddt=function(){r.removeEventListener("Odt",r.Ddt),r.tdt=!1,r.xdt(r.Wat)},r.qvt=t,r.bS=i,r}F(i,n);var r=i.prototype;return r.xdt=function(t){this.mH&&(t=0),this.bS.ig=t,0!==t||RM?this.$vt&&(this.$vt=!1,cM(this.bS.Ng())):(this.$vt=!this.bS.ng||this.$vt,this.bS.Cg()),this.cdt()},r.lP=function(t){this.Wat=t,this.tdt||this.xdt(t)},r.Pdt=function(t){var n=xO(this.pdt,t);return-1===n?null:this.pdt.end(n)},r.gdt=function(){this.ndt||this.rg||(this.rg=!0,this.dispatchEvent("seeking"))},r.wdt=function(){this.ndt=!1,this.Bdt(),this.rg&&(this.rg=!1,this.dispatchEvent("seeked")),this.kdt()},r.vdt=function(){this.ndt||this.kdt()},r.Bdt=function(){this.idt&&(a(this.idt),this.idt=void 0)},r.bdt=function(t){var n=this;this.idt=h(function(){n.mdt(t+2)},750)},r.ddt=function(){this.udt&&this.TH()&&(this.udt=!1,this.dispatchEvent("playing"))},r.cdt=function(){var t=this.zvt,n=this.paused;this.zvt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.gF=function(t,n){if(!(t+.001>n)){var i=new rA([t,n]);this.Jvt=this.Jvt.pI(i).bI(rA.MI(this.Zg)),this.Jvt._R(this.cct())&&this.kdt()}},r.Edt=function(t){return t>=this.bS.ZS.duration-(this.paused?0:.5)},r.Ldt=function(t){return y(this.bS.ZS.duration)||(t=_.min(t,this.bS.ZS.duration)),_.max(0,t)},r.Tdt=function(){this.Yvt=null,this.bS.ZS.removeEventListener("loadedmetadata",this.vq)},r.SH=function(){return this.d_<kl.V_},r.TH=function(){return!(this.paused||this.ended||this.error||this.SH())},r.Rdt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-kM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.edt&&this.edt===n){if(this.Edt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.RW=function(){this.mH||(this.mH=!0,this.xdt(0),this.LF())},r.SW=function(){this.mH&&(this.mH=!1,this.lP(this.Wat),this.bS.ZS.currentTime=this.bS.ZS.currentTime,this.LF())},r.Mdt=function(){var t=this.bS.ZS;t.addEventListener("timeupdate",this.Idt),this.bS.qo(Yo.wc,this.odt),this.bS.qo(Yo.yc,this.fdt),this.bS.qo(Yo.ac,this._dt),t.addEventListener("seeking",this.rH),t.addEventListener("seeked",this.MS);for(var n=0;n<CM.length;n++){var i=CM[n];t.addEventListener(i,this.Xo)}t.addEventListener("error",this.gX),t.addEventListener("durationchange",this.Cdt),this.bS.qo(Yo.Dc,this.Xo),this.bS.qo(Ml.Sl,this.LF),this.bS.qo(Ml.Q_,this.US)},r.Udt=function(){var t=this.bS.ZS;t.removeEventListener("timeupdate",this.Idt),this.bS.Qo(Yo.wc,this.odt),this.bS.Qo(Yo.yc,this.fdt),this.bS.Qo(Yo.ac,this._dt),t.removeEventListener("seeking",this.rH),t.removeEventListener("seeked",this.MS);for(var n=0;n<CM.length;n++){var i=CM[n];t.removeEventListener(i,this.Xo)}t.removeEventListener("error",this.gX),t.removeEventListener("durationchange",this.Cdt),this.bS.Qo(Yo.Dc,this.Xo),this.bS.Qo(Ml.Sl,this.LF),this.bS.Qo(Ml.Q_,this.US)},r.Fdt=function(){var n=this.bS.ZS,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Hdt(),this.yvt=new i,this.yvt.addEventListener("sourceopen",this.Ndt),this.yvt.addEventListener("webkitsourceopen",this.Ndt),n.src=cO(this.yvt),n.load()):this.PS(new zC(qC.KY,{code:"MVE2720"})):this.PS(new zC(qC.KY,{code:"MVE2650"}))},r.Hdt=function(){if(this.wvt=!1,this.mvt&&(this.mvt.Hl(),this.mvt=null),this.yvt){this.Kvt.Bo();var t=this.bS.ZS;t.src&&(fO(t.src),Pr(t)),this.yvt=null}},r.setup=function(){this.Fdt(),this.Mdt(),this.bS.ZS.parentNode!==this.qvt&&this.qvt.appendChild(this.bS.ZS)},r.PS=function(t){this.eh=t,this.dispatchEvent({type:"error",error:t})},r.Adt=function(){return this.mvt&&this.mvt.xO},r.Vdt=function(t){var n=this.cct()-_.max(30,3*t.$J.CZ.targetDuration);this.dispatchEvent("Odt"),this.mvt&&!t.D4&&this.mvt.Lvt(n),this.kdt()},r.Vtt=function(t){if(!this.yvt.open||"closed"===this.yvt.readyState)return E.reject("Xdt");if(!this.mvt)return E.reject("Wdt");var n=this.qdt(t);return this.jvt||(this.jvt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.qdt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.mvt.Vtt(n)),i.D4&&r.push(this.zut(!!n.CJ,!!n.DJ)),n=null,t.next=7,E.all(r);case 7:this.Vdt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.zut=function(t,n){return this.yvt.open&&"closed"!==this.yvt.readyState?this.mvt?this.mvt.zut(t,n):E.reject("Wdt"):E.reject("Xdt")},r.play=function(){var t=this.bS.ig;this.J_=!1,0!==this.bS.ig||RM?(cM(this.bS.Ng()),this.bS.rq(),this.bS.ig=t):this.$vt=!0,this.cdt()},r.pause=function(){0!==this.bS.ig||RM?this.bS.Cg():this.$vt=!1,this.cdt()},r.Dg=function(){this.J_||(this.J_=!0,this.bS.Cg(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return f(this.Qvt),this.Qvt=null,this.adt(),this.Tdt(),this.Hdt(),this.Udt(),this.jo(),this.bS.ZS},r.reset=function(){f(this.Qvt),this.Qvt=null,this.adt(),this.Tdt(),this.zvt=!0,this.J_=!1,this.Gvt=!1,this.jvt=!1,this.eh=!1,this.rg=!1,this.udt=!1,this.SW(),this.Fdt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.Xg=function(){return this.bS.ZS},r.cct=function(){return null===this.Yvt?this.bS.ZS.currentTime:this.Yvt},r.qct=function(t){var n=this.Pdt(t);t=this.Ldt(t),this.Gvt=!1,this.bS.ZS.error&&(this.jvt=!1,this.eh=!1,this.Fdt()),this.J_&&(this.J_=this.Edt(t)),this.adt(),null!==n&&(t=n),this.Tdt(),this.Yvt=t,this.rg=!0,this.dispatchEvent("Mct"),this.dispatchEvent("seeking"),this.vq()},r.zdt=function(t){return this.yvt.open?E.resolve(null):yd(this.yvt,"sourceopen",t)},r.Gdt=function(t,n,i){as(i),n>0&&(this.yvt.duration=n),this.mvt=new yM(this.yvt);var r=this.mvt.Xx(t);return this.dispatchEvent("ovt"),this.mvt.addEventListener("updatestart",this.adt),this.mvt.addEventListener("updateend",this.kdt),this.wvt=!0,this.dispatchEvent("wvt"),r},r.Nct=function(t,n,i){var r=this;this.Kvt.Bo();var e=new us;return e.Lo(i),this.Kvt=e,this.mvt?E.resolve(null):this.zdt(e.Uo).then(function(){return r.Gdt(t,n,i)})},r.CK=function(t){Z.He&&(this.tdt=!0,this.xdt(0),this.removeEventListener("Odt",this.Ddt),this.addEventListener("Odt",this.Ddt),this.mvt&&this.mvt.b9(t))},r.canPlayCodecs=function(t){return this.bS.ZS.canPlayType('video/mp4; codecs="'+t+'"')},M(i,[{key:"pdt",get:function(){return this.Jvt.gR()}},{key:"d_",get:function(){var t=this.bS.d_;return t>kl.H_&&(this.Gvt||this.mH)?kl.H_:t}},{key:"$g",get:function(){return this.bS.ZS}},{key:"Zg",get:function(){return this.mvt?this.mvt.Zg:this.bS.ZS.buffered}},{key:"rM",get:function(){return this.mvt?this.mvt.rM:RO}},{key:"eM",get:function(){return this.mvt?this.mvt.eM:RO}},{key:"volume",get:function(){return this.bS.ZS.volume},set:function(t){this.bS.ZS.volume=t}},{key:"duration",get:function(){return this.bS.ZS.duration}},{key:"muted",get:function(){return this.bS.ZS.muted},set:function(t){this.bS.ZS.muted=t}},{key:"paused",get:function(){return this.bS.ng&&!this.$vt}},{key:"played",get:function(){return this.bS.ZS.played}},{key:"poster",get:function(){return this.bS.ZS.poster},set:function(t){t?this.bS.ZS.poster=t:this.bS.ZS.removeAttribute("poster")}},{key:"controls",get:function(){return this.bS.ZS.controls},set:function(t){t?this.bS.ZS.controls=t:this.bS.ZS.removeAttribute("controls")}},{key:"ended",get:function(){return this.J_}},{key:"seeking",get:function(){return this.rg}},{key:"error",get:function(){return this.eh||this.bS.ZS.error}},{key:"width",get:function(){return this.bS.ZS.offsetWidth||this.bS.ZS.parentNode.offsetWidth}},{key:"height",get:function(){return this.bS.ZS.offsetHeight||this.bS.ZS.parentNode.offsetHeight}},{key:"ig",get:function(){return this.Wat},set:function(t){var n=this.Wat;t>0&&(this.lP(t),this.Wat!==n&&this.dispatchEvent("ratechange"))}},{key:"sg",get:function(){return this.bS.ZS.videoWidth||0}},{key:"eg",get:function(){return this.bS.ZS.videoHeight||0}},{key:"Ict",get:function(){return this.wvt}}]),i}(XC),OM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","jdt","CK",Ml.Sl],xM=.04,PM=.25,BM=4,LM=.75,MM=1.5,UM=.25,FM=function(t){function n(){var n;return(n=t.call(this)||this).Qdt=null,n.Ydt=null,n.GI=!1,n.ZI=1,n.QI=1,n.Zdt=null,n.Jdt=void 0,n.rvt=function(t){n.dispatchEvent(t)},n.$dt=function(t){n.Ydt||n.dispatchEvent(t)},n.Kdt=function(t){var i=t.error||n.Ydt.error;n.audioStream=null,n.Zdt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Zdt})},n.tlt=function(){n.Ydt&&!n.Ydt.loaded||n.Qdt&&!n.Qdt.loaded||(n.Ydt&&(n.Ydt.removeEventListener("loaded",n.tlt),n.Ydt.play()),n.Qdt&&(n.Qdt.removeEventListener("loaded",n.tlt),n.Qdt.play()))},n.nlt=function(){n.ilt(),n.Ydt&&n.Qdt&&(n.Ydt.addEventListener("timeupdate",n.rlt),n.Qdt.addEventListener("timeupdate",n.rlt))},n.ilt=function(){a(n.Jdt),n.Ydt&&n.Ydt.removeEventListener("timeupdate",n.rlt),n.Qdt&&(n.Qdt.ig=n.QI,n.Qdt.removeEventListener("timeupdate",n.rlt))},n.elt=function(){n.d_<kl.V_&&n.ilt()},n.rlt=function(){if(a(n.Jdt),n.Ydt&&n.Qdt){var t=n.Ydt.ig,i=n.Ydt.cct()-n.Qdt.cct(),r=_.max(BM,MM*t),e=_.min(PM,LM*t);if(_.abs(i)<xM)n.Qdt.ig!==t&&(n.Qdt.ig=t);else{var s=UM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.Qdt.ig=u,n.Jdt=h(n.rlt,1e3*s)}}else n.ilt()},n.addEventListener("playing",n.nlt),n.addEventListener("ended",n.ilt),n.addEventListener(Ml.Sl,n.elt),n}F(n,t);var i=n.prototype;return i.EK=function(t,n){n?(t.addEventListener("timeupdate",this.rvt),t.addEventListener("error",this.Kdt)):(t.addEventListener("timeupdate",this.$dt),t.addEventListener("error",this.rvt));for(var i=0;i<OM.length;i++){var r=OM[i];t.addEventListener(r,this.rvt)}},i.Zo=function(t){t.removeEventListener("timeupdate",this.rvt),t.removeEventListener("timeupdate",this.$dt),t.removeEventListener("timeupdate",this.rlt),t.removeEventListener("error",this.rvt),t.removeEventListener("error",this.Kdt),t.removeEventListener("loaded",this.tlt);for(var n=0;n<OM.length;n++){var i=OM[n];t.removeEventListener(i,this.rvt)}},i.slt=function(t){this.Ydt&&this.Ydt.slt(t),this.Qdt&&this.Qdt.slt(t)},i.play=function(){if(this.Ydt&&!this.Ydt.loaded||this.Qdt&&!this.Qdt.loaded)return this.Ydt&&this.Ydt.addEventListener("loaded",this.tlt),void(this.Qdt&&this.Qdt.addEventListener("loaded",this.tlt));this.tlt()},i.pause=function(){this.Ydt&&(this.Ydt.removeEventListener("loaded",this.tlt),this.Ydt.pause()),this.Qdt&&(this.Qdt.removeEventListener("loaded",this.tlt),this.Qdt.pause()),this.ilt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Ydt&&this.Ydt.load(),-1!==t.indexOf("video")&&this.Qdt&&this.Qdt.load()):(this.Ydt&&this.Ydt.load(),this.Qdt&&this.Qdt.load())},i.Gv=function(t){this.jo(),this.Zdt=null,t?(-1!==t.indexOf("audio")&&this.Ydt&&(this.Ydt.Gv(),this.Ydt=null),-1!==t.indexOf("video")&&this.Qdt&&(this.Qdt.Gv(),this.Qdt=null)):(this.Ydt&&(this.Ydt.Gv(),this.Ydt=null),this.Qdt&&(this.Qdt.Gv(),this.Qdt=null))},i.CK=function(t){this.Ydt&&this.Ydt.pause(),this.Qdt&&this.Qdt.pause(),this.ilt(),t&&-1===t.indexOf("audio")||!this.Ydt||this.Ydt.CK(),t&&-1===t.indexOf("video")||!this.Qdt||this.Qdt.CK()},i.Vtt=function(t){this.Ydt&&t.CJ&&this.Ydt.Vtt(t),this.Qdt&&t.DJ&&this.Qdt.Vtt(t)},i.ult=function(t){return this.Qdt?this.Qdt.ult(t):""},i.olt=function(){return this.Qdt?this.Qdt.olt():0},i.hlt=function(){return this.Qdt?this.Qdt.hlt():0},i.Xg=function(){return this.Qdt&&this.Qdt.Xg()},i.cct=function(){return this.Ydt?this.Ydt.cct():this.Qdt?this.Qdt.cct():NaN},i.qct=function(t,n){this.Ydt&&this.Ydt.qct(t,n),this.Qdt&&this.Qdt.qct(t,n)},M(n,[{key:"Zg",get:function(){return this.Ydt&&this.Qdt?CO(this.Ydt.Zg,this.Qdt.Zg):this.Ydt?this.Ydt.Zg:this.Qdt?this.Qdt.Zg:RO}},{key:"volume",get:function(){return this.ZI},set:function(t){this.ZI!==t&&(this.ZI=t,this.Ydt&&(this.Ydt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Ydt&&this.Ydt.duration||this.Qdt&&this.Qdt.duration||NaN}},{key:"muted",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.GI=t,this.Ydt&&(this.Ydt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Ydt&&!this.Qdt)&&(!(this.Ydt&&!this.Ydt.loaded)&&!(this.Qdt&&!this.Qdt.loaded))}},{key:"paused",get:function(){return!this.Ydt&&!this.Qdt||(this.Ydt&&this.Ydt.paused||this.Qdt&&this.Qdt.paused||!1)}},{key:"ended",get:function(){return this.Ydt&&this.Ydt.ended||this.Qdt&&this.Qdt.ended||!1}},{key:"seeking",get:function(){return this.Ydt&&this.Ydt.seeking||this.Qdt&&this.Qdt.seeking||!1}},{key:"error",get:function(){return this.Ydt&&this.Ydt.error||this.Qdt&&this.Qdt.error}},{key:"warning",get:function(){return this.Zdt||this.Ydt&&this.Ydt.warning||this.Qdt&&this.Qdt.warning}},{key:"audioStream",get:function(){return this.Ydt},set:function(t){this.Ydt&&(this.Zo(this.Ydt),this.Ydt.Gv()),this.Ydt=t,this.Ydt&&(this.Ydt.volume=this.ZI,this.Ydt.muted=this.GI,this.Ydt.ig=this.QI,this.EK(this.Ydt,!0))}},{key:"videoStream",get:function(){return this.Qdt},set:function(t){this.Qdt&&(this.Zo(this.Qdt),this.Qdt.Gv()),this.Qdt=t,this.Qdt&&(this.Qdt.ig=this.QI,this.EK(this.Qdt,!1))}},{key:"ig",get:function(){return this.QI},set:function(t){this.QI!==t&&(t<0||(this.QI=t,this.Ydt&&(this.Ydt.ig=t),this.Qdt&&(this.Qdt.ig=t),this.dispatchEvent("ratechange")))}},{key:"d_",get:function(){return this.Ydt&&this.Qdt?_.min(this.Ydt.d_,this.Qdt.d_):this.Ydt?this.Ydt.d_:this.Qdt?this.Qdt.d_:kl.U_}},{key:"sg",get:function(){return this.Qdt?this.Qdt.sg:0}},{key:"eg",get:function(){return this.Qdt?this.Qdt.eg:0}}]),n}(XC),HM=function(){function t(t,n,i,r){var e=this;this.clt=void 0,this.flt=void 0,this.Z_=void 0,this.JD=void 0,this.vlt=void 0,this.dlt=void 0,this.Dw=void 0,this.kv=0,this.Hv=0,this.running=!1,this.llt=function(t){return e.zh(t)},this.clt=t,this.flt=n,this.Z_=i,this.JD=r,this.vlt=t.dh(),this.dlt=(n-this.vlt)/(i||1)}var n=t.prototype;return n._lt=function(){return this.clt.Ja(this.flt),this.running=!1,this.glt(),this.JD()},n.iI=function(){var t=this;this.running=!0,this.Z_?this.wlt():VC(function(){t.running&&t._lt()})},n.zh=function(t){if(this.glt(),this.running){void 0===this.Dw&&(this.Dw=t);var n=this.vlt,i=this.dlt,r=this.flt,e=this.clt,s=n+_.max(0,t-this.Dw)*i;if(n>=r&&s<=r||n<r&&s>=r)return this._lt();if(e.Ja(s))return this._lt();this.wlt()}},n.wlt=function(){this.kv=fT(this.llt),this.Hv=hT(this.llt)},n.glt=function(){vT(this.kv),cT(this.Hv)},t}();var VM=function(t){function n(n,i){var r;return(r=t.call(this)||this).ylt=void 0,r.Hs=void 0,r.mlt=null,r.klt=null,r.plt=NaN,r.Alt=!1,r.blt=!1,r.Tlt=1,r.Elt=void 0,r.Slt=void 0,r.Rlt=function(t){r.Ilt(t)||r.dispatchEvent(t)},r.ylt=n,r.Hs=i,r}F(n,t);var i=n.prototype;return i.pause=function(){this.ylt.pause()},i.play=function(){cM(this.ylt.play()),this.Nlt()},i.Clt=function(t){if(!(this.d_<kl.V_))return this.b9(),this.Alt=!0,this.Rlt({type:"canplay"}),t&&t();this.Elt=h(this.Slt,100)},i.Wh=function(t){this.blt=!0,this.Alt=!1,this.ylt.removeEventListener("canplay",this.Slt),this.Slt=this.Clt.bind(this,t),this.ylt.addEventListener("canplay",this.Slt),this.ylt.load(),this.Elt=h(this.Slt,100)},i.b9=function(){this.blt=!1,this.ylt.removeEventListener("canplay",this.Slt),void 0!==this.Elt&&(a(this.Elt),this.Elt=void 0)},i.Dlt=function(t){if(this.pause(),this.b9(),null===t)return this.mlt=null,void(this.Alt=!1);this.Alt=!1,this.klt&&this.klt.i8(this.ylt.src),this.klt=t[this.Hs],this.ylt.src=this.klt.r8,this.mlt=t},i.Xg=function(){return this.ylt},i.Olt=function(t){this.plt=_.max(t||0,0),this.ylt.currentTime=this.plt},i.xlt=function(){return this.ylt.currentTime},i.Plt=function(t){var n=this.mlt&&this.mlt.metadata,i=n&&n.iI,r=n&&n[this.Hs].iI,e=n&&n[this.Hs].Z_;return!!this.i2&&(!(t<i)&&t<r+_.min(e,this.ylt.duration))},i.Nlt=function(){this.Tlt!==this.ylt.playbackRate&&(this.ylt.playbackRate=this.Tlt,Jy&&this.Tlt>0&&this.d_!==kl.U_&&(this.ylt.currentTime=this.ylt.currentTime))},i.Ilt=function(t){return!!(Jy&&"seeked"===t.type&&_.abs(this.ylt.currentTime-this.plt)>.04)},i.addEventListener=function(n,i){this.XY(n)||this.ylt.addEventListener(n,this.Rlt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.XY(n)||this.ylt.removeEventListener(n,this.Rlt)},i.jo=function(){for(var n=0,i=this.WY();n<i.length;n++){var r=i[n];this.ylt.removeEventListener(r,this.Rlt)}t.prototype.jo.call(this)},i.unload=function(){this.klt&&this.klt.i8(this.ylt.src),this.jo()},M(n,[{key:"volume",get:function(){return this.ylt.volume},set:function(t){this.ylt.volume=t}},{key:"muted",get:function(){return this.ylt.muted},set:function(t){this.ylt.muted=t}},{key:"style",get:function(){return this.ylt.style}},{key:"iI",get:function(){return this.mlt?this.mlt.metadata[this.Hs].iI:NaN}},{key:"eI",get:function(){return this.mlt?this.iI+this.mlt.metadata[this.Hs].Z_:NaN}},{key:"Blt",get:function(){return this.mlt?this.iI+this.Llt:NaN},set:function(t){this.mlt?this.Llt=t-this.iI:this.Llt=0}},{key:"Llt",get:function(){return this.xlt()},set:function(t){this.Olt(t)}},{key:"Mlt",get:function(){return this.mlt},set:function(t){this.Dlt(t)}},{key:"t8",get:function(){return this.mlt&&this.mlt.metadata.D4}},{key:"i2",get:function(){return!(!this.Alt||!this.mlt)}},{key:"Ult",get:function(){return!(!this.blt||!this.mlt)}},{key:"ig",get:function(){return this.Tlt},set:function(t){t>=0&&this.Tlt!==t&&(this.Tlt=t,this.Nlt())}},{key:"ng",get:function(){return this.ylt.paused}},{key:"J_",get:function(){return this.ylt.ended}},{key:"eh",get:function(){return this.ylt.error}},{key:"sg",get:function(){return this.ylt.videoWidth}},{key:"eg",get:function(){return this.ylt.videoHeight}},{key:"d_",get:function(){return this.ylt.readyState}}]),n}(XC);function XM(t,n){return i=t.Mlt.metadata.$J,r=n.Mlt.metadata.$J,i.bandwidth&&r.bandwidth&&_g(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&_g(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||lg(i.hZ,r.hZ)||_g(t.eI,n.eI);var i,r}function WM(t){return{iI:t.iI,eI:t.eI}}function qM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.iI<=n&&n<r.eI)return i}return-1}function zM(t,n,i){return{iI:n?i.metadata.X9:i.metadata[t].iI,eI:i.metadata[t].iI+i.metadata[t].Z_}}function GM(t,n,i){return new SO([zM(t,n,i)])}function jM(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(zM(t,n,s))}return NO(new SO(r))}function QM(t,n,i){if(!n)return!1;var r=n.metadata[t].iI,e=r+n.metadata[t].Z_;return r<=i&&i<=e}function YM(t,n){var i=xO(t,n);return i<0?n:t.end(i)}var ZM=function(){function t(t){this.vo=void 0,this.F2=[],this.Flt=RO,this.Hlt=RO,this.vo=t}var n=t.prototype;return n.Vtt=function(t){var n,i;this.F2=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Mlt===t?e.eI=r:i.push({Mlt:t,iI:n,eI:r})},e=0;e<t.length;e++){var s=t[e];if(s.eI<=n.iI)r(s.Mlt,s.iI,s.eI);else if(s.iI>=n.eI)n.iI<n.eI&&(r(n.Mlt,n.iI,n.eI),n.iI=n.eI),r(s.Mlt,s.iI,s.eI);else{var u=void 0,o=void 0;XM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.iI,a=o.iI,c=_.min(o.eI,s.eI),f=_.min(u.eI,s.eI);h<a&&r(u.Mlt,h,a),a<c&&r(o.Mlt,a,c),c<f&&r(u.Mlt,c,f),n.iI=_.max(n.iI,s.eI)}}return n.iI<n.eI&&r(n.Mlt,n.iI,n.eI),i}(this.F2,function(t,n){var i=n.metadata[t].iI;return{Mlt:n,iI:i,eI:i+n.metadata[t].Z_}}(this.vo,t)),this.Flt=BO(this.Flt,GM(this.vo,!1,t)),this.Hlt=BO(this.Hlt,GM(this.vo,!0,t)),this.Hlt=(n=this.Hlt,i=this.Flt,CO(n,DO(i)))},n.Vlt=function(t){t=this.Xlt(t);var n=qM(this.F2,t);return n>=0?this.F2[n].Mlt:null},n.Wlt=function(t,n,i,r){t=this.Xlt(t);var e=this.F2,s=qM(e,t);if(s<0)return null;var u=e[s];if(!i||!QM(this.vo,i,t))return r&&QM(this.vo,r,t)?null:u.Mlt;if(i!==u.Mlt){if(r&&r===u.Mlt)return null;if(u.eI-t>n)return u.Mlt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.Mlt)return null;if(h.eI-t>n)return h.Mlt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].Mlt);var f=jM(this.vo,!1,a);a.push(h.Mlt);var v=jM(this.vo,!1,a);if(YM(f,t)<YM(v,t))return h.Mlt}return null},n.qlt=function(t,n){for(var i=this.F2,r=i.length-1;r>=0;r--){var e=i[r];(e.eI<=t||e.iI>=n)&&Je(i,r)}},n.Hl=function(){this.F2.length=0,this.Flt=RO,this.Hlt=RO},n.Xlt=function(t){var n=bM(t,this.Zg,this.Hlt,!1);return void 0===n?t:n},M(t,[{key:"Zg",get:function(){var t=this.F2.map(WM);return NO(new SO(t))}}]),t}(),JM=5,$M=30,KM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).zlt=void 0,r.Hs=void 0,r.Glt=void 0,r.jlt=void 0,r.Qlt=void 0,r.Ea={CJ:{Ylt:100,Zlt:100,Jlt:100},DJ:{Ylt:500,Zlt:100,Jlt:200}},r.ZI=void 0,r.ES=null,r.Zdt=null,r.$lt=null,r.Klt=void 0,r.t_t=void 0,r.n_t=void 0,r.i_t=void 0,r.r_t=null,r.e_t=void 0,r.s_t=void 0,r.u_t=0,r.o_t=null,r.h_t=!1,r.FQ=!1,r.a_t=0,r.c_t=0,r.f_t=kl.U_,r.Lvt=function(){var t=r.cct();r.Qlt.qlt(t-JM,t+$M)},r.v_t={d_t:(e=un(r),{Wh:function(){e.n_t.addEventListener("ended",this.l_t),e.i_t.addEventListener("ended",this.__t)},Gv:function(){e.n_t.removeEventListener("ended",this.l_t),e.i_t.removeEventListener("ended",this.__t)},g_t:function(){},l_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.n_t})},__t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.i_t})}}),nT:{_s:"nT",Wh:function(){},Gv:function(){},g_t:function(){}},w_t:function(){var t=un(r),n=function n(){t.n_t.removeEventListener("play",n),t.n_t.removeEventListener("timeupdate",i),t.n_t.addEventListener("timeupdate",i)},i=function n(){var i,r;t.n_t.ng||(!t.seeking&&t.n_t.Mlt?(i=t.n_t,(r=t.i_t).i2&&tU(i,r)>=0&&t.y_t(t.v_t.m_t)):t.n_t.removeEventListener("timeupdate",n))};return{_s:"w_t",Wh:function(){t.v_t.d_t.Wh.call(this),this.k_t(),this.g_t()},Gv:function(){t.v_t.d_t.Gv.call(this),t.n_t.removeEventListener("play",n),t.n_t.removeEventListener("timeupdate",i)},g_t:function(){t.n_t.Mlt?t.g_t(t.i_t,t.p_t):t.g_t(t.n_t,t.p_t)},l_t:function(){var n=t.i_t.Mlt;if(n&&n.metadata.O4)return t.i_t.Plt(t.n_t.Blt)&&(t.i_t.Blt=t.n_t.Blt),t.A_t(),void t.n_t.play();t.v_t.d_t.l_t.call(this)},__t:function(){0},k_t:function(){t.n_t.removeEventListener("play",n),t.n_t.ng?t.n_t.addEventListener("play",n):n.call(t.n_t)}}}(),m_t:function(){var t=un(r),n=function(){r.y_t(r.v_t.b_t)};return{_s:"m_t",Wh:function(){t.v_t.d_t.Wh.call(this),t.i_t.addEventListener("seeked",n);var i=tU(t.n_t,t.i_t),r=t.Ea[t.Hs].Ylt/1e3,e=_.min(i+r,t.i_t.eI);try{t.i_t.Llt=e}catch(n){t.y_t(t.v_t.w_t),t.T_t(n.message)}},Gv:function(){t.v_t.d_t.Gv.call(this),t.i_t.removeEventListener("seeked",n)},g_t:function(){},l_t:function(){t.v_t.d_t.l_t.call(this)},__t:function(){}}}(),b_t:function(){var t,n=un(r),i=function(){s()},e=function(){s()},s=function(){vT(t),r.i_t.Blt-r.n_t.Blt-1/60>0?t=fT(i):r.y_t(r.v_t.E_t)};return{_s:"b_t",Wh:function(){n.v_t.d_t.Wh.call(this),n.n_t.addEventListener("timeupdate",e),s()},Gv:function(){n.v_t.d_t.Gv.call(this),vT(t),n.n_t.removeEventListener("timeupdate",e)},g_t:function(){},l_t:function(){n.v_t.d_t.l_t.call(this)},__t:function(){n.v_t.d_t.__t.call(this)}}}(),E_t:function(){var t,n=un(r),i=function(){var t=r.S_t(r.i_t),n=r.Ea[r.Hs].Zlt/_.max(1,r.n_t.ig);return function(t,n,i,r){return new HM(t,n,i,r)}(t,t.R_t,n,function(){r.y_t(r.v_t.I_t),r.v_t.I_t.N_t()})},e=function(){r.$lt.iI(),r.y_t(r.v_t.I_t)};return{_s:"E_t",Wh:function(){n.v_t.d_t.Wh.call(this);var r=n.Ea[n.Hs].Jlt/_.max(1,n.n_t.ig);n.$lt=i(),t=h(e,r),n.i_t.play()},Gv:function(){n.v_t.d_t.Gv.call(this),a(t),t=0},g_t:function(){},l_t:function(){n.v_t.d_t.l_t.call(this)},__t:function(){n.v_t.d_t.__t.call(this)}}}(),I_t:function(){var t=un(r);return{_s:"I_t",Wh:function(){t.v_t.d_t.Wh.call(this)},Gv:function(){t.v_t.d_t.Gv.call(this),t.$lt&&t.$lt._lt()},g_t:function(){},l_t:function(){t.v_t.d_t.l_t.call(this)},__t:function(){t.v_t.d_t.__t.call(this)},N_t:function(){t.$lt=null,t.A_t()}}}()},r.C_t={D_t:function(){var t=un(r);return{Wh:function(){},Gv:function(){},g_t:function(){t.e_t.g_t()},qct:function(n,i,r,e){t.u_t=n,t.o_t=e,t.y_t(t.v_t.nT);var s=t.n_t===t.Klt?i:r,u=t.i_t===t.Klt?i:r;s&&t.n_t.Plt(n)?t.O_t(t.C_t.x_t):u&&t.i_t.Plt(n)?t.O_t(t.C_t.P_t):t.O_t(t.C_t.B_t)}}}(),B_t:function(){var t=un(r),n=function(){r.p_t(),r.i_t.i2?(r.i_t.Plt(r.u_t)||(r.L_t('Could not seek to exact timestamp "'+r.u_t+'", seeking instead to: "'+r.i_t.iI+'"'),r.u_t=r.i_t.iI),r.O_t(r.C_t.P_t)):r.O_t(r.C_t.D_t)};return{Wh:function(){t.M_t(),t.n_t.Mlt=null,t.i_t.Mlt=null,t.i_t.style.display="none",t.p_t(),this.g_t()},Gv:function(){t.i_t.b9(),t.i_t.style.display=""},g_t:function(){t.i_t.Mlt||t.g_t(t.i_t,n)},qct:function(n,i,r,e){t.U_t(),t.s_t.qct(n,i,r,e)}}}(),x_t:function(){var t=un(r),n=function(){r.O_t(r.C_t.D_t),r.y_t(r.v_t.w_t),r.wH(),r.o_t&&(r.o_t.call(t),r.o_t=null)};return{Wh:function(){t.n_t.addEventListener("seeked",n);try{t.n_t.Blt=t.u_t,t.wH()}catch(n){t.T_t(n.message)}},Gv:function(){t.n_t.removeEventListener("seeked",n)},g_t:function(){},qct:function(n,i,r,e){t.U_t(),t.s_t.qct(n,i,r,e)}}}(),P_t:function(){var t=un(r),n=function(){r.O_t(r.C_t.D_t),r.A_t(),r.o_t&&(r.o_t.call(t),r.o_t=null)};return{Wh:function(){t.i_t.style.display="none",t.i_t.addEventListener("seeked",n);try{t.i_t.Blt=t.u_t,t.wH()}catch(n){t.T_t(n.message)}},Gv:function(){t.i_t.style.display="",t.i_t.removeEventListener("seeked",n)},g_t:function(){},qct:function(n,i,r,e){t.U_t(),t.s_t.qct(n,i,r,e)}}}()},r.p_t=function(){var t=r.FQ;r.FQ=r.Klt.Ult||r.t_t.Ult,t&&!r.FQ&&r.dispatchEvent("updateend"),r.F_t(),r.wH(),r.H_t()},r.wH=function(){var t=r.d_;t!==r.f_t&&(r.f_t=t,r.dispatchEvent(Ml.Sl))},r.zlt=n,r.Hs=i,r.Qlt=new ZM(i),r.ZI="DJ"===i?0:1;var s=function(t){switch(t){case"CJ":return"audio";case"DJ":return"video"}}(i);return r.Glt=nU(s),r.jlt=nU(s),n.appendChild(r.Glt),n.appendChild(r.jlt),r.Klt=new VM(r.Glt,r.Hs),r.t_t=new VM(r.jlt,r.Hs),r.n_t=r.Klt,r.i_t=r.t_t,r.e_t=r.v_t.w_t,r.s_t=r.C_t.D_t,r.e_t.Wh(),r.s_t.Wh(),r.hK(),r.Gl(),r}F(n,t);var i=n.prototype;return i.V_t=function(t){return t===this.Klt?this.t_t:this.Klt},i.L_t=function(t){this.Zdt=t,this.dispatchEvent({type:"warning",warning:this.Zdt})},i.T_t=function(t){this.ES=t,this.dispatchEvent({type:"error",error:t})},i.S_t=function(t){var n,i=this,r=this.V_t(t);return n="DJ"===this.Hs?{dh:function(){if(i.r_t!==t)return 0;var n=w(t.style.opacity);return y(n)?1:n},Ja:function(n){n=Gt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.r_t=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},R_t:1,X_t:function(){if(n.dh()!==n.R_t)return n.Ja(n.R_t)}}:{dh:function(){return t.volume},Ja:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.R_t-i}catch(t){e=t}return e},R_t:this.ZI,X_t:function(){if(n.dh()!==n.R_t)return n.Ja(n.R_t)}}},i.g_t=function(t,n){var i=this.Qlt.Wlt(this.cct(),1,this.n_t.Mlt,this.i_t.Mlt);return!!i&&(this.M_t(),t.Mlt=i,t.Wh(n),t.t8&&this.dispatchEvent("durationchange"),!0)},i.W_t=function(){this.M_t(),this.Qlt.Hl(),this.Klt.b9(),this.t_t.b9(),this.p_t()},i.Xg=function(){return this.n_t.Xg()},i.cct=function(){return this.seeking?this.u_t:this.n_t.Blt},i.qct=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.s_t.qct(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.A_t=function(){var t=this.n_t;this.y_t(this.v_t.nT),this.n_t=this.i_t,this.i_t=t,this.S_t(this.n_t).X_t(),this.M_t(),this.i_t.pause(),this.i_t.Mlt=null,this.p_t(),this.y_t(this.v_t.w_t)},i.hK=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.T_t(new zC(qC.JY,{code:"VEE"+i.error})):t.T_t(new zC(qC.JY,{code:"VEE"+n.eh.code}));n===t.n_t&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Klt),e=i.bind(null,this.t_t),s=0;s<n.length;s++){var u=n[s];this.Klt.addEventListener(u,r),this.t_t.addEventListener(u,e)}this.Klt.addEventListener("error",r),this.t_t.addEventListener("error",e);for(var o=0;o<ZS.length;o++){var h=ZS[o];this.Klt.addEventListener(h,this.wH),this.t_t.addEventListener(h,this.wH)}},i.Gl=function(){this.addEventListener("seeking",this.Lvt),this.addEventListener("timeupdate",this.Lvt)},i.y_t=function(t){var n;if(this.e_t!==t){do{(n=this.e_t).Gv()}while(n!==this.e_t);this.e_t=t,t.Wh()}},i.O_t=function(t){var n;if(this.s_t!==t){do{(n=this.s_t).Gv()}while(n!==this.s_t);this.s_t=t,t.Wh()}},i.U_t=function(){this.o_t=null,this.O_t(this.C_t.D_t)},i.load=function(){this.pause(),this.U_t(),this.n_t.Mlt=null,this.i_t.Mlt=null,this.y_t(this.v_t.w_t)},i.Gv=function(){this.U_t(),this.y_t(this.v_t.nT),this.W_t(),this.Klt.unload(),this.t_t.unload(),this.zlt.removeChild(this.Glt),this.zlt.removeChild(this.jlt),this.ES=null,this.Zdt=null},i.CK=function(){var t=this,n=this.cct();this.W_t(),this.s_t.qct(n,!1,!1,function(){t.dispatchEvent("CK",!0)})},i.play=function(){this.S_t(this.n_t).X_t(),this.n_t.i2&&this.n_t.play()},i.pause=function(){this.Klt.pause(),this.t_t.pause()},i.slt=function(t){var n=this,i=function(){n.dispatchEvent("jdt",!0)};this.pause(),this.n_t.J_?this.s_t.qct(t,this.i_t===this.Klt,this.i_t===this.t_t,i):this.i_t.J_?this.s_t.qct(t,!1,!1,i):this.i_t.Plt(t)?this.s_t.qct(t,this.i_t===this.Klt,this.i_t===this.t_t,i):i()},i.Vtt=function(t){this.M_t(),this.Qlt.Vtt(t),this.p_t(),this.s_t.g_t()},i.ult=function(t){return this.Glt.canPlayType('video/mp4; codecs="'+t+'"')},i.olt=function(){return _.max(this.Glt.offsetWidth,this.jlt.offsetWidth)},i.hlt=function(){return _.max(this.Glt.offsetHeight,this.jlt.offsetHeight)},i.F_t=function(){!this.h_t&&this.loaded&&(this.h_t=!0,this.dispatchEvent("loaded"))},i.H_t=function(){if("DJ"===this.Hs){var t=this.sg,n=this.eg;t>0&&n>0&&(this.a_t!==t||this.c_t!==n)&&(this.a_t=t,this.c_t=n,this.dispatchEvent("resize"))}},i.M_t=function(){var t=this.FQ;this.FQ=!0,t||this.dispatchEvent("updatestart")},M(n,[{key:"Zg",get:function(){var t=[];return y(this.Klt.iI)||t.push({iI:this.Klt.iI,eI:this.Klt.eI}),y(this.t_t.iI)||t.push({iI:this.t_t.iI,eI:this.t_t.eI}),BO(NO(new SO(t)),this.Qlt.Zg)}},{key:"duration",get:function(){return this.n_t.t8?this.n_t.eI:this.i_t.t8?this.i_t.eI:NaN}},{key:"paused",get:function(){return this.n_t.ng}},{key:"ended",get:function(){return this.n_t.J_}},{key:"muted",get:function(){return this.n_t.muted&&this.i_t.muted},set:function(t){this.n_t.muted=t,this.i_t.muted=t}},{key:"volume",get:function(){return this.ZI},set:function(t){this.ZI=t,this.$lt&&this.$lt._lt(),this.i_t.volume=0,this.n_t.volume=this.ZI}},{key:"error",get:function(){return this.ES}},{key:"warning",get:function(){return this.Zdt}},{key:"seeking",get:function(){return this.s_t!==this.C_t.D_t}},{key:"loaded",get:function(){return this.n_t.i2}},{key:"ig",get:function(){return this.n_t.ig},set:function(t){t>=0&&(this.n_t.ig=t,this.i_t.ig=t)}},{key:"sg",get:function(){return this.n_t.sg}},{key:"eg",get:function(){return this.n_t.eg}},{key:"xO",get:function(){return this.FQ}},{key:"d_",get:function(){var t;if(this.s_t===this.C_t.B_t||this.s_t===this.C_t.P_t)t=kl.F_;else{var n=this.n_t.d_;if(n<=kl.H_)t=n;else{var i=rA.MI(this.Zg).cI(),r=this.duration,e=this.cct();y(r)||(e=_.min(e,r));var s=i.BI(e);if(s){var u=s.eI(0);t=u-e>=3*this.ig||!y(r)&&u>=r?kl.X_:kl.V_}else t=kl.H_}}return t===kl.U_&&this.h_t?kl.F_:t}}]),n}(XC);function tU(t,n){return t.Blt-n.iI}function nU(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Dr(n),n.controls=!1,n}var iU,rU=function(){function t(t){var n=this;this.UR=void 0,this.ow=void 0,this.q_t=void 0,this.z_t=void 0,this.G_t=void 0,this.j_t=function(){(y(n.z_t)||n.G_t)&&(n.z_t=n.nP()),n.q_t=n.z_t,n.G_t=!1},this.Q_t=function(){var t=n.nP();n.Y_t(t),n.z_t=t},this.Z_t=function(){n.UR.d_<=kl.H_&&n.Q_t()},this.J_t=function(){n.Y_t(n.z_t),n.G_t=!0},this.$_t=function(){n.z_t=n.nP()},this.UR=t,this.ow=rA.HI(),this.q_t=NaN,this.z_t=NaN,this.G_t=!1,t.addEventListener("playing",this.j_t),t.addEventListener("pause",this.Q_t),t.addEventListener("seeking",this.J_t),t.addEventListener("timeupdate",this.$_t),t.addEventListener(Ml.Sl,this.Z_t)}var n=t.prototype;return n.TF=function(){var t=this.ow,n=this.q_t;if(!y(n)){var i=this.nP();n<i&&(t=t.pI(new rA([n,i])))}return t.gR()},n.nP=function(){return this.UR.cct()},n.Y_t=function(t){var n=this.q_t;n<t&&(this.ow=this.ow.pI(new rA([n,t]))),this.q_t=NaN},n.Mct=function(){var t=this.nP();this.Y_t(t),this.G_t=!0},n.Hl=function(){this.ow=rA.HI(),this.q_t=NaN,this.z_t=NaN,this.G_t=!1},n.No=function(){var t=this.UR;t.removeEventListener("playing",this.j_t),t.removeEventListener("pause",this.Q_t),t.removeEventListener("seeking",this.J_t),t.removeEventListener("timeupdate",this.$_t),t.removeEventListener(Ml.Sl,this.Z_t),this.UR=null},t}(),eU=function(t){function n(n,i){var r;return(r=t.call(this)||this).K_t=void 0,r.bS=void 0,r.Wi=!1,r.dH=NaN,r.tgt=void 0,r.Zc=void 0,r.zlt=void 0,r.ngt=void 0,r.ES=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.f_t=kl.U_,r.igt=function(){r.ngt.seeking||(r.ngt.removeEventListener("seeked",r.igt),r.dispatchEvent("seeked"),r.rgt.paused?r.Zc=r.egt:r.sgt(),r.wH())},r.ugt=function(){r.ngt.paused||(r.ngt.removeEventListener("playing",r.ugt),r.dispatchEvent("playing"))},r.ogt=function(t){r.Zc=r.hgt,r.ES=t,r.dispatchEvent({type:"error",error:r.ES})},r.agt={paused:!0,play:function(){r.removeEventListener("wvt",r.agt.cgt),r.Wi?(r.Zc=r.fgt,r.ngt.removeEventListener("playing",r.ugt),r.ngt.addEventListener("playing",r.ugt),r.ngt.play(),r.dispatchEvent("play")):r.addEventListener("wvt",r.agt.cgt)},cgt:function(){r.removeEventListener("wvt",r.agt.cgt),r.Zc.play()},stall:function(){},pause:function(){r.agt.cgt&&r.removeEventListener("wvt",r.agt.cgt),r.ngt.pause(),r.dispatchEvent("pause"),r.Zc=r.egt},load:function(t){},cct:function(){return r.Wi?r.ngt.cct():0},qct:function(t,n){var i=OO(r.Zg,t);n=n||!i,r.ngt.removeEventListener("seeked",r.igt),r.ngt.addEventListener("seeked",r.igt),r.rgt.seekTime=t,r.Zc=r.rgt,r.dispatchEvent("Mct"),r.ngt.qct(t,n),r.dispatchEvent("seeking")},yP:function(){return r.ngt.d_},CK:function(t){r.rgt.seekTime=r.cct(),r.Zc=r.vgt,r.ngt.removeEventListener("CK",r.vgt.dgt),r.ngt.addEventListener("CK",r.vgt.dgt),r.ngt.CK(t),r.wH()},forwardEvent:function(t){"pause"===t.type&&r.ngt.ended||r.dispatchEvent(t)}},r.egt=ie({},r.agt,{pause:function(){r.removeEventListener("wvt",r.agt.cgt)},qct:function(t){r.rgt.paused=!0,r.agt.qct(t)},CK:function(t){r.rgt.paused=!0,r.agt.CK(t)}}),r.lgt=ie({},r.egt),r._gt=ie({},r.egt,{load:function(t,n){r.removeEventListener("wvt",r._gt.ggt),n||r.dispatchEvent("loadstart"),r.Wi?r.ngt.load(t):(r._gt.wgt=t,r.addEventListener("wvt",r._gt.ggt))},ggt:function(){r.removeEventListener("wvt",r._gt.ggt),r.Zc.load(r._gt.wgt,!0)},wgt:null,cct:function(){return r.Wi?r.ngt.cct():r._gt.ygt},qct:function(t){r.removeEventListener("wvt",r._gt.mgt),r.Wi?(r.Zc=r.egt,r.Zc.qct(t)):(r._gt.ygt=t,r.addEventListener("wvt",r._gt.mgt),r.dispatchEvent("seeking"))},mgt:function(){r.removeEventListener("wvt",r._gt.mgt),r.Zc.qct(r._gt.ygt)},ygt:0,CK:function(t){}}),r.fgt=ie({},r.agt,{qct:function(t){r.rgt.paused=!1,r.agt.qct(t)},play:function(){},stall:function(){r.Zc=r.kgt,r.kgt.pgt=r.ngt.cct(),r.kgt.paused=!1,r.ngt.addEventListener("jdt",r.kgt.Agt),r.ngt.slt(r.kgt.pgt),r.wH()},CK:function(t){r.rgt.paused=!1,r.agt.CK(t)}}),r.kgt=ie({},r.fgt,{paused:!1,pgt:0,qct:function(t){r.ngt.removeEventListener("jdt",r.kgt.Agt),r.kgt.paused?r.Zc=r.egt:r.Zc=r.fgt,r.Zc.qct(t),r.wH()},cct:function(){return r.kgt.pgt},yP:function(){return _.min(r.ngt.d_,kl.H_)},forwardEvent:function(){},play:function(){r.kgt.paused=!1,r.dispatchEvent("play")},pause:function(){r.kgt.paused=!0,r.dispatchEvent("pause")},stall:function(){},Agt:function(){r.ngt.seeking||(r.ngt.removeEventListener("jdt",r.kgt.Agt),r.kgt.paused?r.Zc=r.egt:r.agt.play(),r.wH())}}),r.rgt=ie({},r.agt,{paused:!1,seekTime:0,cct:function(){return r.rgt.seekTime},play:function(){r.rgt.paused=!1},pause:function(){r.rgt.paused=!0,r.ngt.pause(),r.dispatchEvent("pause")}}),r.vgt=ie({},r.rgt,{qct:function(t){r.ngt.removeEventListener("CK",r.vgt.dgt),r.rgt.paused?r.Zc=r.egt:r.Zc=r.fgt,r.Zc.qct(t)},yP:function(){return _.min(r.ngt.d_,kl.H_)},forwardEvent:function(){},stall:function(){},dgt:function(){r.ngt.seeking||(r.ngt.removeEventListener("CK",r.vgt.dgt),r.rgt.paused?r.Zc=r.egt:r.agt.play(),r.wH())}}),r.hgt=ie({},r.agt,{play:function(){},pause:function(){},load:function(){},cct:function(){return NaN},yP:function(){return kl.U_},qct:function(t){r.agt.qct(t,!0)},CK:function(t){}}),r.Xo=function(t){r.dispatchEvent(t)},r.bgt=function(t){r.Zc.forwardEvent(t)},r.Tgt=function(t){r.ogt(t.error)},r.Egt=function(t){if(t.origin&&t.origin.t8)return r.Dg();r.Zc.stall()},r.Cdt=function(){var t=r.ngt.duration;t&&r.dH!==t&&(r.dH=t,r.dispatchEvent("durationchange"))},r.Sgt=function(){r.ngt.loaded&&(r.loaded=!0)},r.wH=function(){var t=r.d_;t!==r.f_t&&(r.f_t=t,r.dispatchEvent(Ml.Sl))},r.K_t=n,r.bS=i,r.tgt=new rU(un(r)),r.ngt=new FM,r.Zc=r._gt,r.zlt=s.createElement("div"),r.zlt.style.position="absolute",r.zlt.style.width="100%",r.zlt.style.height="100%",r.Rgt(),r}F(n,t);var i=n.prototype;return i.sgt=function(){this.agt.play()},i.Rgt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.ngt.addEventListener(r,this.Xo)}for(var e=0;e<n.length;e++){var s=n[e];this.ngt.addEventListener(s,this.bgt)}this.ngt.addEventListener("ended",this.Egt),this.ngt.addEventListener("error",this.Tgt),this.ngt.addEventListener("durationchange",this.Cdt),this.ngt.addEventListener("loaded",this.Sgt),this.ngt.addEventListener(Ml.Sl,this.wH)},i.setup=function(){this.bS.ZS.parentNode===this.K_t?this.K_t.replaceChild(this.zlt,this.bS.ZS):(this.bS.ZS.parentNode&&this.bS.ZS.parentNode.removeChild(this.bS.ZS),this.K_t.appendChild(this.zlt))},i.play=function(){this.Zc.play()},i.pause=function(){this.Zc.pause()},i.Igt=function(t){this.ngt&&this.ngt.Gv(t),this.Wi=!1},i.Dg=function(){this.pause(),this.Zc=this.lgt,this.ES=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Zc.load(t)},i.unload=function(){return this.ngt.Gv(),this.tgt.No(),this.zlt.parentNode===this.K_t?this.K_t.replaceChild(this.bS.ZS,this.zlt):(this.zlt.parentNode&&this.zlt.parentNode.removeChild(this.zlt),this.K_t.appendChild(this.bS.ZS)),this.jo(),this.bS.ZS},i.reset=function(t){this.Wi=!1,this.Zc=this._gt,this.ES=void 0,this.dH=NaN,this.f_t=kl.U_,this.tgt.Hl(),this.Igt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.CK=function(t){this.Zc.CK(t)},i.Vtt=function(t){return this.ngt.Vtt(t),E.resolve()},i.Xg=function(){return this.ngt.Xg()},i.cct=function(){return this.Zc.cct()},i.qct=function(t){this.tgt.Mct(),this.Zc.qct(t)},i.zut=function(t,n){return E.resolve()},i.canPlayCodecs=function(t){return this.ngt.ult('video/mp4; codecs="'+t+'"')},i.Nct=function(t,n,i){var r={};for(var e in t)if(J.call(t,e)){var s=t[e];!this.ngt.videoStream&&s.DJ&&(this.ngt.videoStream=new KM(this.zlt,"DJ"),r.DJ=this.ngt.videoStream),!this.ngt.audioStream&&s.CJ&&(this.ngt.audioStream=new KM(this.zlt,"CJ"),r.CJ=this.ngt.audioStream,this.dispatchEvent("ovt"))}return this.Wi=!0,this.dispatchEvent("wvt"),E.resolve(r)},M(n,[{key:"Ict",get:function(){return this.Wi}},{key:"$g",get:function(){return this.zlt}},{key:"Zg",get:function(){return this.ngt.Zg}},{key:"volume",get:function(){return this.ngt.volume},set:function(t){this.ngt.volume=t}},{key:"duration",get:function(){return this.dH}},{key:"muted",get:function(){return this.ngt.muted},set:function(t){this.ngt.muted=t}},{key:"paused",get:function(){return this.Zc.paused&&this.ngt.paused}},{key:"played",get:function(){return this.tgt.TF()}},{key:"ended",get:function(){return this.Zc===this.lgt}},{key:"seeking",get:function(){return this.Zc===this.rgt}},{key:"error",get:function(){return this.ES||this.ngt.error}},{key:"warning",get:function(){return this.ngt.warning}},{key:"width",get:function(){return this.ngt.olt()}},{key:"height",get:function(){return this.ngt.hlt()}},{key:"ig",get:function(){return this.ngt.ig},set:function(t){this.ngt.ig=t}},{key:"d_",get:function(){return this.Zc.yP()}},{key:"sg",get:function(){return this.ngt.sg}},{key:"eg",get:function(){return this.ngt.eg}}]),n}(XC);!function(t){t.uZ="unsupported",t.Ngt="native",t.Cgt="hls-native",t.Dgt="hls-mse",t.Ogt="hls-switching-video"}(iU||(iU={}));var sU=function(){function t(){this.xgt={},this.Pgt(iU.Ngt,lM),this.Pgt(iU.Cgt,lM),this.Pgt(iU.Dgt,DM),this.Pgt(iU.Ogt,eU)}return t.prototype.Pgt=function(t,n){this.xgt[t]=n},t.Pgt=function(n,i){t.V1.Pgt(n,i)},t.Bgt=function(n,i,r){var e=t.V1.xgt[n];return e?new e(i,r):void 0},t}();sU.V1=new sU;var uU=function(t){function n(n){var i;return(i=t.call(this)||this).Lgt=void 0,i.Mgt=function(t){i.Wo(t)},i.Lgt=n,i.Ugt(),i}F(n,t);var i=n.prototype;return i.Ugt=function(){this.Lgt.qo("ZD",this.Mgt)},i.Fgt=function(){this.Lgt.Qo("ZD",this.Mgt)},i.Gv=function(){this.Fgt()},M(n,[{key:"iO",get:function(){return this.Lgt.iO}},{key:"rO",get:function(){return this.Lgt.rO}},{key:"Hgt",set:function(t){var n=this.Lgt;n.iO===t.iO&&n.rO===t.rO||(this.Fgt(),this.Lgt=t,this.Ugt(),this.Wo(new rT(t.rO,t.iO)))}}]),n}(Ts);function oU(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function hU(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function aU(t,n){var i=t.type;return i?Hy?hU(i)?!jy||n.useSwitchOverMSE||Z.He&&n.vr&&n.vr[360]?!Wy||Z.Pe||Z.Ue&&Z.de?qy?iU.Ogt:iU.uZ:iU.Cgt:iU.Dgt:iU.Ngt:iU.uZ:iU.Ngt}var cU=function(t,n,i,r,e){var s,u,o,c,f,d,g=this,m=null,k=null,p=null,A=!0,b=null,T=null,S=!1,R=null,I=null,N=null,C=uA,D=uA,O=!0,x=null,P={N3:0,flt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=kl.U_,Q=!1,Y=!1,J=NaN,$=null,K=null,tt=Z.Ae&&Xy,it=!1,rt="",et=iU.uZ,st=null,ut=function(){var i=E.coroutine(ne.mark(function i(){return ne.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.Eo=!0,g.jo(),B&&Pt(null),d&&(d.Gv(),d=null),f&&(f.Hl(),f=null),en(),k&&(k.unload(),k=null),!I.ZS){i.next=11;break}return i.next=10,n.dR(I);case 10:I=null;case 11:if(!N.ZS){i.next=15;break}return i.next=14,n.dR(N);case 14:N=null;case 15:s.Gv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new zC(qC.uZ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.YS(S_.Lv)).ZS:(r=n.YS(S_.Mv)).ZS).preload="none",Dr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&S?"":"none"},ft=function(t){yt(t.FK),wt(t.HK),u&&(u.FK=o),pt()},vt=function(t,n){kt(t.FK,n),mt(t.HK),u&&(u.FK=o)},dt=function(){Xt(),Nt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("ovt",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===iU.Ngt&&(G=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Ml.Sl,nn),k.setup(),d.Fct=k,n(["timeupdate","playing","ratechange","resize"],t),et){case iU.Ngt:case iU.Cgt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case iU.Dgt:n(["play","pause"],St)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},_t=function(t){m&&m.Rft(),k&&(m=new YL(t,tt,f,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=aM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Yft=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){o&&(o.Gv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener("durationchange",function(){J=o.Z_,g.dispatchEvent("durationchange")}),o.addEventListener("eh",function(t){Zt(t.eh)}),o.addEventListener("$v",At),o.addEventListener("uw",At),o.m0.addEventListener("renditionUpdated",function(){zt()}),d.m0=o.m0)},mt=function(t){var n;c&&(c.Gv(),c=null),k&&(c=t)&&(n=c.hct,c.addEventListener("IK",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.$J,g.dispatchEvent(t),$y&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("eh",function(t){Zt(t.error)}),c.addEventListener("Fat",function(t){g.dispatchEvent(t)}),c.Fct=k,y(n)||Ht(n))},kt=function(t,n){o&&(o.Gv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener(Yo.Sc,function(t){g.dispatchEvent(t)}),o.addEventListener(Yo.Ic,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.Z_,g.dispatchEvent("durationchange")}),o.addEventListener("eh",function(t){Zt(t.eh)}),o.addEventListener("$v",At),o.addEventListener("uw",At),o.addEventListener("I0",function(){g.dispatchEvent("progress")}),o.m0.addEventListener("renditionUpdated",function(){zt()}),o.m0.addEventListener("renditionUpdated",function(t){var i,r=t.$J.B$&&t.$J.B$.CJ;r&&-1!==r.indexOf("mp4a.40.3")&&("P9"!==n.B9||Gy||(i=B,VC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),d.m0=o.m0)},pt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!o||o.uw;z=n,n&&!t?g.dispatchEvent(Yo.gc):!n&&t&&g.dispatchEvent(Yo._c)},bt=function(){V=!1,X=!1,Q=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),zt()},Tt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",Et),V&&(bt(),g.ended?Ht(0):jt(),k.play(),c&&c.Ng())},Et=function t(){g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?g.play({fromNative:!0}):!n&&X&&g.pause({fromNative:!0})},Rt=function(){Q=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.flt="start"):k.loading||(k.load(),k.loading=!0),zt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.rN()),P.Vgt=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new zC(qC.rZ,{code:"MGB6720"});throw Zt(i),i}return g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),g.addEventListener("initialized",t.fromNative?Et:Tt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(V){if(W&&g.ended)return Nt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.Cg()),g.dispatchEvent("pause",!0))},Ct=function(t){return{type:oU(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if(oM(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(nt(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(oU(i))return Ct(i)}return Ct(t[0])}if(nt(t)&&oM(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(hU(e.type)||!e.type&&oU(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=aU(n,i);!function(t,n){switch(t){case iU.Ngt:case iU.Cgt:n.B9=!1,n.Xgt=!1;break;case iU.Dgt:n.B9="P9",n.Xgt=!0;break;case iU.Ogt:n.B9="R8",n.Xgt=Z.ce}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case iU.Ngt:h=s=o=null;break;case iU.Cgt:h=null;var c=new HL(a,r);s=c,o=new GL(c);break;case iU.Dgt:case iU.Ogt:h=new $L(a,r);var f=new FL(a,h,r,e);s=f,o=new qL(f);break;default:return null}return new XD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.HK&&(o.HK.ig=g.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.ZS,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.Wgt;K&&(K.Gv(),K=null),en();var f=n&&n.P0||null;n&&n.O0||null,L=n&&n.MR||null,M=f&&f.configuration||null,et=n&&n.x0||iU.uZ,Jt();var v={type:"qgt",zgt:n,Kh:M,Ggt:i};if(g.dispatchEvent(v),et!==iU.uZ){if(k){g.pause();var d=h===et||h===iU.Cgt&&et===iU.Ngt||h===iU.Ngt&&et===iU.Cgt,l=i&&!Z.Ae;if(d&&!l)k.reset(),m.Hl();else{if(l?(p=k,e=(r=at(r)).ZS):e=k.unload(),!(u=sU.Bgt(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=kl.U_,Q=!1,Y=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),P.flt=0,P.N3=0,P.Vgt=!0,g.dispatchEvent("timeupdate")}else{if(!(u=sU.Bgt(et,t,r)))return void ot();k=u,r.ZS.removeAttribute("poster"),lt(),_t(r.ZS)}switch(R=r,s.Hgt=R.YB,b=k.$g,p?(T=p.$g,S=!0):(T=at(r).ZS,S=!1),ct(),M.crossOrigin){case gl.P_:case gl.B_:R.ZS.setAttribute("crossorigin",M.crossOrigin);break;default:R.ZS.removeAttribute("crossorigin")}if(c!==g.Wgt&&g.dispatchEvent(Yo.cc),Lt(),Mt(),!L)return B=null,void(g.initialized=!1);!function(t,n){switch(et){case iU.Ngt:case iU.Cgt:ft(t);break;case iU.Dgt:case iU.Ogt:vt(t,n);break;default:return}t.UR=g,t.G0(H)}(K=n,M),k.src=L,m.bft(f&&f.textTracks),g.playbackRate=a,B=L;var _={type:"jgt",zgt:n,Kh:M,Ggt:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Z.Ae&&o&&Yt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=g.vvt)!==t&&g.dispatchEvent("Qgt")},Mt=function(){d&&(d.mV=tt&&it)},Ut=function(){return k&&k.Ict?k.volume:U},Ft=function(){if(!Y)return"start"===x?0:x||0;if(!k||P.Vgt)return P.flt;if(c){var t=c.hct;return"start"===t?0:t}return k.cct()},Ht=function(t){if(!Y){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Kt(t),k){if(_.abs(P.flt-t)<.001&&Wb()-P.N3<50)return;Vt(),c?c.hct=t:k.qct(t),k.seeking||Xt(),P={flt:t,N3:Wb()}}},Vt=function(){W=!0,qt(),st=h(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),g.dispatchEvent("seeked"))},Wt=function(){qt(),g.dispatchEvent("seeking")},qt=function(){st&&(a(st),st=null)},zt=function(){Y||(Y=!y(J)&&$t().length>0&&(Q||!g.live))&&g.dispatchEvent("Plt")},jt=function t(){g.removeEventListener("Plt",t),null!==x&&(Y?Ht(x):g.addEventListener("Plt",t))},Qt=function(){return k&&k.Ict?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===qC.eZ)return n=!X,Pt(K.MR),void(n&&It());var n;Yt()||Nt(),q=t,g.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return TO(c?c.aw:J>0?new SO([{iI:0,eI:J}]):RO)},Kt=function(t){var n=$t();return n.length?Gt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.d_:kl.U_;return G&&(t=_.max(kl.F_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,g.dispatchEvent(Ml.Sl))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,T=t||at(R).ZS,ct()}};g.initialized=!1,g.warning=null,g.play=It,g.pause=Nt,g.load=function(){if(!g.initialized||!k){var t=new zC(qC.rZ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},g.Ygt=xt,g.Zgt=Bt,g.No=ut,g.xg=rn,g.Hg=function(){A=!0,ct()},g.Vg=function(){A=!1,ct()},g.Xg=function(){return k&&k.Xg()},g.dg=function(){return ie({},{tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?dE(k.Fct):{tw:0,nw:0,iw:0},{rw:8*ll.I_()})},l.defineProperty(g,"buffered",{get:function(){return TO(k?k.Zg:RO)}}),l.defineProperty(g,"played",{get:function(){return k?TO(k.played):RO}}),l.defineProperty(g,"seekable",{get:$t}),l.defineProperty(g,"live",{get:function(){return!(!o||!hD.hg(o.m0.f$))}}),l.defineProperty(g,"volume",{get:Ut,set:function(t){(t=w(t))!==Ut()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ft,set:Ht}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.Jg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.Knt(t),y(n)||null===n||Ht(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Yt,set:function(t){t?Nt():It()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=Jp((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return W}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"Wgt",{get:function(){return M&&M.vr&&M.vr[360]?uA:R===I?C:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.sg:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.eg:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.U$}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Xct(Ft()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ht(c.Wct(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.ig||k&&k.ig||1},set:function(t){(t=w(t))>0&&(c?c.ig=t:k&&(k.ig=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Sg.fl||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.Eg.fl||null}}),l.defineProperty(g,"Rg",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return z}}),l.defineProperty(g,"cvt",{get:function(){return k&&k.cvt}}),l.defineProperty(g,"fvt",{get:function(){return k&&k.fvt}}),l.defineProperty(g,"vvt",{get:function(){return k&&k.vvt||"inline"},set:function(t){k&&(k.vvt=t)}}),l.defineProperty(g,"Jgt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),l.defineProperty(g,"d_",{get:tn}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Yo.gc,function(){g.live&&Ht("start")}),g.addEventListener("playing",en),f=new oy,d=new JL(g,f),g.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new WD),n=function(t){if("string"==typeof t)try{return WC.ts.GQ(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.hht=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),g.addEventListener("durationchange",zt),I=ht(),N=ht(),R=I,b=I.ZS,T=N.ZS,s=new uU(R.YB),C=I.aR,D=N.aR,ct(),Pt(null)}()};cU.prototype=new XC,cU.prototype.constructor=cU;var fU,vU=((fU={useSwitchOverMSE:!1,ManifestParser:"$gt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),fU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Qy&&fU.abrRules.push("AvoidHighBitrateStreamsRule"),Z.Ee&&fU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),fU);var dU=function(t){function n(n,i,r){var e;return(e=t.call(this,Td.Dl)||this).Kgt=n,e.twt=i,e.nwt=r,e}return F(n,t),n.prototype.vl=function(){return new lU(this.Kgt&&this.Kgt.fl)},n}(Ad),lU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return F(n,t),n}(Ss),_U=function(t){function n(n,i){var r;return(r=t.call(this,Td.xl)||this).r_=void 0,r.dl=void 0,r.r_=n||[],r.dl=i,r}return F(n,t),n.prototype.vl=function(){return new gU(this.r_.map(function(t){return t.fl}))},n}(Ad),gU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return F(n,t),n}(Ss),wU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return F(n,t),n}(Ss);function yU(t){return{get bandwidth(){return t.oS},get codecs(){return t.B$},get id(){return t.$l},get uid(){return t.Kl},get name(){return t.n_},get averageBandwidth(){return t.oS},get label(){return t.n_},set label(n){t.n_=zd(n)},get height(){return t.Vp},get width(){return t.ku},get frameRate(){return t.a0},get firstFrame(){return t.iwt},get available(){return t.SY},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.Qo(n,i)}}}function mU(t){return{get bandwidth(){return t.oS},get codecs(){return t.B$},get id(){return t.$l},get uid(){return t.Kl},get name(){return t.n_},get averageBandwidth(){return t.oS},get label(){return t.n_},set label(n){if(!et(n))throw new v("Unexpected - The provided label is not a string");t.n_=n},get audioSamplingRate(){return t.rwt},get available(){return t.SY},addEventListener:function(n,i){t.qo(n,i)},removeEventListener:function(n,i){t.Qo(n,i)}}}function kU(t){return{oS:t.oS,pu:t.B$,Vp:pU(t)?t.Vp:0,vo:pU(t)?S_.Mv:S_.Lv,ku:pU(t)?t.ku:0}}function pU(t){var n=t;return void 0!==n.Vp&&void 0!==n.ku}var AU=function(t){function n(n,i){var r;(r=t.call(this)||this).ewt=void 0,r.swt=void 0,r.ww=void 0,r.fw=void 0,r.cl=void 0,r.uwt=void 0,r.f0=void 0,r.owt=function(){return r.hwt()},r.awt=function(){return r.cwt()},r.fwt=function(){return r.Wo(new N_(un(r)))},r.ww=O_(),r.ewt=n,r.swt=i,r.fw=new I_;for(var e=r.ewt.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.vwt(u);o.qo("update",r.fwt),r.fw.vw(o)}return r.ewt.qualities.addEventListener("activequalitychanged",r.owt),r.ewt.qualities.addEventListener("targetqualitychanged",r.awt),r.hwt(),r.cwt(),r}F(n,t);var i=n.prototype;return i.dwt=function(t){t!==this.uwt&&(this.uwt=t,t&&this.Wo(new dU(t)))},i.lwt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!$e(n,t[i]))return!1;return!0}(t,n)},i._wt=function(t){for(var n=0,i=this.fw.Vl;n<i.length;n++){var r=i[n];if(r.gwt===t)return r}},i.wwt=function(t){for(var n=[],i=0,r=this.fw.Vl;i<r.length;i++){var e=r[i];$e(t,e.gwt)&&n.push(e)}return n},i.hwt=function(){var t=this.Jl?this.ewt.qualities.activeQuality:void 0,n=t&&this._wt(t)||void 0;this.dwt(n)},i.cwt=function(){var t=this.ewt.qualities.targetQuality;t?tt(t)?this.e_=this.wwt(t)||void 0:this.e_=this.wwt([t])||void 0:this.e_=void 0},i.kw=function(t){this.Jl=t},i.Gv=function(){this.ewt.qualities.removeEventListener("activequalitychanged",this.owt),this.ewt.qualities.removeEventListener("targetqualitychanged",this.awt);for(var t=0,n=this.fw.Vl;t<n.length;t++){var i=n[t];i.Qo("update",this.fwt),i.Gv()}},M(n,[{key:"Zl",get:function(){return this.uwt}},{key:"Jl",get:function(){return this.ewt.enabled},set:function(t){t?this.swt.enable(this.ewt):this.swt.disable(this.ewt)}},{key:"fl",get:function(){return this.cl||(this.cl=Jd(this)),this.cl}},{key:"$l",get:function(){return this.ewt.id+""}},{key:"Kl",get:function(){return this.ww}},{key:"t_",get:function(){return this.ewt.kind}},{key:"n_",get:function(){var t;return null!=(t=this.ewt.name)?t:""},set:function(t){t!==this.n_&&(this.ewt.name=t,this.Wo(new N_(this)))}},{key:"i_",get:function(){return this.ewt.language}},{key:"c_",get:function(){return this.Jl?"enabled":"disabled"}},{key:"r_",get:function(){return this.fw}},{key:"e_",get:function(){return this.f0},set:function(t){var n=this.f0,i=void 0!==this.Zl?kU(this.Zl):void 0,r=t?t.filter(function(t){return T.qu.ou(i,kU(t))}):void 0;r&&0===r.length||this.lwt(r,n)||(this.f0=r,this.ewt.qualities.targetQuality=r?r.map(function(t){return t.gwt}):null,this.Wo(new _U(r,this)))}}]),n}(Ts),bU=function(t){function n(n){var i,r,e;return(e=t.call(this)||this).gwt=void 0,e.cl=void 0,e.EN=function(){return e.zh()},e.$l=void 0,e.Kl=void 0,e.oS=void 0,e.B$=void 0,e.tJ=void 0,e.gwt=n,e.gwt.addEventListener("qualityupdated",e.EN),e.$l=String(n.id),e.Kl=null!=(i=n.uid)?i:P_++,e.oS=null!=(r=n.bandwidth)?r:NaN,e.B$=n.codecs,e.tJ=n.uri,e}F(n,t);var i=n.prototype;return i.zh=function(){this.ywt()&&this.Wo(new wU(this.fl))},i.ywt=function(){var t,n,i=this.gwt,r=null!=(t=i.uid)?t:this.Kl,e=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.Kl!==r||!Zt(this.oS,e)||this.B$!==s||this.tJ!==u;return this.Kl=r,this.oS=e,this.B$=s,this.tJ=u,o},i.Gv=function(){this.gwt.removeEventListener("qualityupdated",this.EN)},i.Fb=function(){},M(n,[{key:"n_",get:function(){return this.gwt.name||""},set:function(t){this.n_!==t&&(this.gwt.name=t,this.Wo(new wU(this.fl)))}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}},{key:"SY",get:function(){return!0}}]),n}(Ts),TU=function(t){function n(n){var i;return(i=t.call(this,n)||this).rwt=void 0,i.rwt=NaN,i}return F(n,t),n.prototype.vl=function(){return mU(this)},n}(bU),EU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).a0=void 0,r.ku=void 0,r.Vp=void 0,r.mwt=void 0,r.a0=n.frameRate,r.ku=n.resolution?n.resolution.width:NaN,r.Vp=n.resolution?n.resolution.height:NaN,r.mwt=i,r}F(n,t);var i=n.prototype;return i.ywt=function(){var n=t.prototype.ywt.call(this),i=this.gwt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Zt(this.a0,r)||!Zt(this.ku,e)||!Zt(this.Vp,s),this.a0=r,this.ku=e,this.Vp=s,n},i.vl=function(){return yU(this)},M(n,[{key:"iwt",get:function(){return this.mwt},set:function(t){this.mwt!==t&&(this.mwt=t,this.Wo(new wU(this.fl)))}}]),n}(bU),SU=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.vwt=function(t){return new TU(t)},n}(AU),RU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).kwt=void 0,n}F(n,t);var i=n.prototype;return i.vwt=function(t){return new EU(t,this.kwt)},i.pwt=function(t){this.kwt=t;for(var n=0,i=this.r_.Vl;n<i.length;n++){var r=i[n];void 0!==r.iwt&&(r.iwt=t)}},n}(AU),IU=function(t){function n(){return t.call(this,Yo.gc)||this}return F(n,t),n}(Ss),NU=function(t){function n(){return t.call(this,Yo._c)||this}return F(n,t),n}(Ss),CU=function(){function t(t,n){this.pg=void 0,this.KX=void 0,this.pg=new oy,this.KX=new wI(t,n)}var n=t.prototype;return n.Jb=function(t,n,i,r,e,s,u){var o=new wR(t,n,i,r,e,s,u);return this.pg.Ml(o),this.KX.Ml(o),o},n.tT=function(t){this.pg.Ul(t),this.KX.Ul(t),t.Gv()},n.Hl=function(){for(var t=0,n=this.pg.Vl.slice();t<n.length;t++){n[t].Gv()}this.pg.Hl(),this.KX.Hl()},n.Gv=function(){this.Hl(),this.pg.Gv(),this.KX.Gv()},M(t,[{key:"Rg",get:function(){return this.pg}}]),t}();function DU(t,n){for(var i=0;i<t.Xl;i++){var r=t.Ll(i);if(r.ewt===n)return r}}var OU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).JI=void 0,o.nQ=void 0,o.Awt=void 0,o.bwt=void 0,o.Twt=void 0,o.mg=void 0,o.kg=void 0,o.ZX=void 0,o.JX=void 0,o.pg=void 0,o.jb=void 0,o.wQ=void 0,o.yQ=void 0,o.Ewt=void 0,o.ES=void 0,o.SS=void 0,o.Swt=NaN,o.Rwt=0,o.OS=new Mp,o.Iwt=function(){o.Wo(new Hl(o.Y_))},o.Nwt=function(){o.Wo(new Fl(o.Y_))},o.Cwt=function(){o.Wo(new Zl(o.Y_))},o.Dwt=function(){o.Wo(new Jl(o.Y_))},o.Owt=function(){o.Wo(new Gl(o.Y_,o.ig))},o.xwt=function(){o.Wo(new $l(o.Y_,o.ug))},o.Pwt=function(){o.Wo(new fS(o.Y_))},o.Bwt=function(){o.Wo(new Ql(o.Y_))},o.Lwt=function(){o.Wo(new vS)},o.Mwt=function(){o.Wo(new IU)},o.Uwt=function(){o.Wo(new NU)},o.Fwt=function(){o.Hwt(),o.Twt.Hl(),o.Vwt(),o.vR()},o.uL=function(){o.Vwt(),o.vR(),o.KS()},o.Hwt=function(){var t=o.Swt,n=o.Z_;o.Swt=n,t===n||y(t)&&y(n)||o.Wo(new zl(n))},o.Xwt=function(t){var n=t.error||o.Awt.error;if(n){var i,r=y_.DECODE;n.code===qC.JY&&De(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.ES=new A_(r,n.message,i),o.Wo(new i_(function(t){return new No(E_(t.code),t.message,t)}(o.ES)))}},o.LS=function(){o.Wo(new jl(o.Y_,o.Jg))},o.Wwt=function(){o.sg>0&&o.eg>0&&o.Wo(new xy)},o.qwt=function(){o.Wo(new vl)},o.zwt=function(t){o.kg.Vl.forEach(function(n){return n.pwt(t.ptsOffset)})},o.Gwt=function(t){o.Rwt+=t.ew,o.Wo(t)},o.jwt=function(t){return o.Qwt(t.track)},o.Ywt=function(t){return o.Zwt(t.track)},o.Jwt=function(t){var n=DU(o.mg,t.track);n&&n.Wo(new Od(n))},o.$wt=function(t){var n=DU(o.kg,t.track);n&&n.Wo(new Od(n))},o.nQ=n,o.JI=i,e=function(t){var n,i={};return i=hM(t,i),(i=hM(vU,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Z.we&&i.allowManualQualitySwitch,i.libraryLocation=Bf(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return J.call(n,t)?n[t]:t}),i}(e),o.Awt=new cU(o.nQ,o.JI,e,r,s),o.Kwt(),o.bwt=new xU(o.Awt),o.Twt=new em(o.bwt,!0),o.Twt.qo(Wl,o.Xo),o.mg=new R_,o.kg=new R_,o.jb=new CU(un(o),new yI),o.ZX=new NI(un(o)),o.ZX.Ql=o.Awt.Rg,o.JX=new CI(o.jb,o.ZX),o.pg=new Hp([o.Awt.Rg,o.JX.Ep]),o.wQ=new iN,o.wQ.Iq(n),o.yQ=new mC(o.wQ.$g,o.Awt.dimensions,o.Rg,u,o.Awt.Wgt),o.KS(),o}F(n,t);var i=n.prototype;return i.Vg=function(){this.Awt.Vg(),this.wQ.Vg()},i.Hg=function(){this.Awt.Hg(),this.wQ.Hg()},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ewt=n,this.Awt.xg({sources:{src:n.src,type:wl.D_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:ie({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ng=function(){this.Awt.play()},i.Cg=function(){this.Awt.pause()},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ewt=void 0,this.ES=void 0,this.SS=void 0,this.Rwt=0,this.Awt.xg({sources:null}),this.Twt.Hl(),this.jb.Hl(),this.Vwt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pg=function(){return!1},i.Bg=function(){},i.Lg=function(){},i.Xg=function(){return this.Awt.Xg()||void 0},i.Wg=function(){return this.Awt.Wgt},i.Yg=function(){},i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.jo(),this.Twt.Gv(),this.bwt.Gv(),this.tyt(),t.next=8,this.Awt.No();case 8:return this.mg.Gv(),this.kg.Gv(),this.ZX.Gv(),t.next=13,this.JX.Gv();case 13:this.jb.Gv(),this.pg.Gv(),this.yQ.Gv(),this.wQ.Gv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kwt=function(){this.Awt.addEventListener("qgt",this.Fwt),this.Awt.addEventListener("jgt",this.uL),this.Awt.addEventListener("durationchange",this.Hwt),this.Awt.addEventListener("error",this.Xwt),this.Awt.addEventListener("timeupdate",this.LS),this.Awt.addEventListener("resize",this.Wwt),this.Awt.addEventListener(Yo.cc,this.qwt),this.Awt.addEventListener("Fat",this.zwt),this.Awt.addEventListener(Yo.Ic,this.Gwt),this.Awt.addEventListener("play",this.Iwt),this.Awt.addEventListener("pause",this.Nwt),this.Awt.addEventListener("seeking",this.Cwt),this.Awt.addEventListener("seeked",this.Dwt),this.Awt.addEventListener("ratechange",this.Owt),this.Awt.addEventListener("volumechange",this.xwt),this.Awt.addEventListener("progress",this.Pwt),this.Awt.addEventListener("ended",this.Bwt),this.Awt.addEventListener("loadstart",this.Lwt),this.Awt.addEventListener(Yo.gc,this.Mwt),this.Awt.addEventListener(Yo._c,this.Uwt),this.Awt.addEventListener(Yo.Sc,this.Xo)},i.tyt=function(){this.Awt.removeEventListener("qgt",this.Fwt),this.Awt.removeEventListener("jgt",this.uL),this.Awt.removeEventListener("durationchange",this.Hwt),this.Awt.removeEventListener("error",this.Xwt),this.Awt.removeEventListener("timeupdate",this.LS),this.Awt.removeEventListener("resize",this.Wwt),this.Awt.removeEventListener(Yo.cc,this.qwt),this.Awt.removeEventListener("play",this.Iwt),this.Awt.removeEventListener("pause",this.Nwt),this.Awt.removeEventListener("seeking",this.Cwt),this.Awt.removeEventListener("seeked",this.Dwt),this.Awt.removeEventListener("ratechange",this.Owt),this.Awt.removeEventListener("volumechange",this.xwt),this.Awt.removeEventListener("progress",this.Pwt),this.Awt.removeEventListener("ended",this.Bwt),this.Awt.removeEventListener("loadstart",this.Lwt),this.Awt.removeEventListener(Yo.gc,this.Mwt),this.Awt.removeEventListener(Yo._c,this.Uwt),this.Awt.removeEventListener(Yo.Sc,this.Xo),this.Awt.removeEventListener(Yo.Ic,this.Gwt)},i.KS=function(){var t=this.Awt.audioTracks,n=this.Awt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Qwt(t.item(i));t.addEventListener("addtrack",this.jwt),t.addEventListener("enabledtrack",this.Jwt),t.addEventListener("disabledtrack",this.Jwt)}if(n){for(var r=0;r<n.length;r++)this.Zwt(n.item(r));n.addEventListener("addtrack",this.Ywt),n.addEventListener("enabledtrack",this.$wt),n.addEventListener("disabledtrack",this.$wt)}},i.vR=function(){var t=this.Awt.audioTracks,n=this.Awt.videoTracks;t&&(t.removeEventListener("addtrack",this.jwt),t.removeEventListener("enabledtrack",this.Jwt),t.removeEventListener("disabledtrack",this.Jwt)),n&&(n.removeEventListener("addtrack",this.Ywt),n.removeEventListener("enabledtrack",this.$wt),n.removeEventListener("disabledtrack",this.$wt))},i.Vwt=function(){for(var t=0,n=this.mg.Vl;t<n.length;t++){n[t].Gv()}for(var i=0,r=this.kg.Vl;i<r.length;i++){r[i].Gv()}this.mg.Hl(),this.kg.Hl()},i.Qwt=function(t){DU(this.mg,t)||this.mg.Ml(new SU(t,this.Awt.audioTracks))},i.Zwt=function(t){DU(this.kg,t)||this.kg.Ml(new RU(t,this.Awt.videoTracks))},M(n,[{key:"Eg",get:function(){return this.mg}},{key:"Zg",get:function(){return this.Awt.buffered}},{key:"Jg",get:function(){var t;return null!=(t=this.Awt.currentProgramDateTime)?t:void 0},set:function(t){this.Awt.currentProgramDateTime=null!=t?t:null}},{key:"Y_",get:function(){var t=this.Awt.currentTime;return t===1/0&&y(this.Awt.duration)&&(t=0),t},set:function(t){this.Awt.currentTime=t}},{key:"Z_",get:function(){var t=this.Awt.duration;return t<0?1/0:t}},{key:"J_",get:function(){return this.Awt.ended}},{key:"eh",get:function(){return this.ES}},{key:"K_",get:function(){return this.SS}},{key:"Ig",get:function(){}},{key:"Kg",get:function(){return!1}},{key:"dg",get:function(){return ie({},this.Awt.dg(),{ew:this.Rwt})}},{key:"tg",get:function(){return this.Awt.muted},set:function(t){this.Awt.muted=t}},{key:"uw",get:function(){return this.Awt.online}},{key:"ng",get:function(){return this.Awt.paused}},{key:"ig",get:function(){return this.Awt.playbackRate},set:function(t){this.Awt.playbackRate=t}},{key:"ow",get:function(){return this.Awt.played}},{key:"hw",get:function(){return this.Awt.preload||Yp.WR},set:function(t){this.Awt.preload=t}},{key:"d_",get:function(){return this.Awt.d_}},{key:"aw",get:function(){return this.Awt.seekable}},{key:"rg",get:function(){return this.Awt.seeking}},{key:"mR",get:function(){}},{key:"Rg",get:function(){return this.pg}},{key:"Sg",get:function(){return this.kg}},{key:"eg",get:function(){return this.Awt.videoHeight}},{key:"sg",get:function(){return this.Awt.videoWidth}},{key:"ug",get:function(){return this.Awt.volume},set:function(t){this.Awt.volume=t}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"kR",get:function(){return this.OS}}]),n}(cl),xU=function(t){function n(n){var i;return(i=t.call(this)||this).Awt=void 0,i.nyt=function(){i.Wo(new n_(i.Y_,i.Awt.d_))},i.iyt=function(){i.Wo(new rm(i.Y_))},i.Iwt=function(){i.Wo(new Hl(i.Y_))},i.Nwt=function(){i.Wo(new Fl(i.Y_))},i.Awt=n,i.Awt.addEventListener(Ml.Sl,i.nyt),i.Awt.addEventListener(Ml.Q_,i.iyt),i.Awt.addEventListener(Yo.yc,i.Iwt),i.Awt.addEventListener(Yo.wc,i.Nwt),i}return F(n,t),n.prototype.Gv=function(){this.jo(),this.Awt.removeEventListener(Ml.Sl,this.nyt),this.Awt.removeEventListener(Ml.Q_,this.iyt),this.Awt.removeEventListener(Yo.yc,this.Iwt),this.Awt.removeEventListener(Yo.wc,this.Nwt)},M(n,[{key:"Y_",get:function(){var t=this.Awt.currentTime;return t===1/0&&y(this.Awt.duration)&&(t=0),t}},{key:"J_",get:function(){return this.Awt.ended}},{key:"eh",get:function(){return this.Awt.error||void 0}},{key:"ng",get:function(){return this.Awt.paused}}]),n}(Ts);function PU(t,n){return BU.apply(this,arguments)}function BU(){return(BU=E.coroutine(ne.mark(function t(n,i,r,e,s){var u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),cs(t.t0),!(u<r)){t.next=20;break}return o=_.min(e*_.pow(2,u),s),u++,t.next=19,ks(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}jp(new(function(){function t(){this.pR=Dp.D_}var n=t.prototype;return n.tE=function(t,n,i,r,e,s){return new OU(t,n,i,r,e,s)},n.AR=function(n,i){if((Z.Ae||Z.Ze)&&!i.manifestMetadataTrack)return!1;if(!El(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Vm(r)&&!t.ryt(r))&&!!function(t){return aU(t,{})!==iU.uZ}(n)},t.ryt=function(t){return!!t.aes128},n.bR=function(){return!0},t}()));var LU,MU=function(t){function n(){return t.call(this,"eyt")||this}return F(n,t),n}(Ss),UU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).syt=void 0,e.uyt=void 0,e.oyt=void 0,e.Ewt=void 0,e.hyt=void 0,e.Qb=void 0,e.Wi=void 0,e.ayt=void 0,e.cyt=function(){e.Wo(new MU)},e.Ewt=n,e.hyt=ie({},i,{crossOrigin:e.Ewt.crossOrigin,withCredentials:e.Ewt.useCredentials,liveOffset:e.Ewt.liveOffset,hlsDateRange:e.Ewt.hlsDateRange}),e.Qb=r,e.uyt=[],e.Wi=!1,e}F(n,t);var i=n.prototype;return i.fyt=function(){if(this.oyt)return this.oyt.vg},i.iI=function(t){var n=this;ws(PU(function(){return n.G0()},t))},i.G0=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vyt();case 2:if((n=t.sent).isMasterPlaylist)for(this.syt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new oB(this.Qb,this.hyt),this.uyt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new oB(this.Qb,this.hyt),this.uyt.push({stream:{uri:n.uri},updater:u});this.ayt&&(this.dyt(this.ayt.width,this.ayt.height),this.ayt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lyt=function(t,n){this.Wi?this.dyt(t,n):this.ayt={width:t,height:n}},i.dyt=function(t,n){this._yt();var i=this.gyt(t,n);i&&(this.oyt=i.updater,this.oyt.addEventListener("htt",this.cyt),i.updater.iI(i.stream.uri))},i._yt=function(){this.oyt&&(this.oyt.Dg(),this.oyt.removeEventListener("htt",this.cyt),this.oyt=void 0)},i.gyt=function(t,n){return 1===this.uyt.length?this.uyt[0]:Qe(this.uyt,function(i){return i.stream.width===t&&i.stream.height===n})},i.vyt=function(){var t=E.coroutine(ne.mark(function t(){var n,i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new uB(this.hyt,iO.ts.l1,this.Qb),t.next=3,n.Wh(this.Ewt.src,{});case 3:return i=t.sent,t.abrupt("return",i.vg);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Gv=function(){this._yt();for(var t=0,n=this.uyt;t<n.length;t++){n[t].updater.Gv()}Ke(this.uyt)},n}(Ts),FU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).wyt=void 0,e.yyt=void 0,e.sB=void 0,e.myt=!1,e.eK=void 0,e.KX=void 0,e.handleManifestUpdate=function(){var t=e.wyt.fyt();if(t){var n=e.mR;if(n){var i=n.getTime(),r=e.eK;r||(r=new aD,e.eK=r),r.zh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.myt&&r.l_.Xl>0&&(e.Rg.Ml(r),e.KX.Ml(r),e.myt=!0)}}},e.Wwt=function(){e.wyt&&e.wyt.lyt(e.sg,e.eg)},e.yyt=i,e.sB=r,e.KX=new kI(un(e)),e.qo(Yo.Ac,e.Wwt),e}F(n,t);var i=n.prototype;return i.xg=function(){var n=E.coroutine(ne.mark(function n(i,r,e){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.xg.call(this,i,r,e);case 2:i.hlsDateRange&&this.kyt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.kyt=function(t,n,i){this.wyt&&(this.wyt.Qo("eyt",this.handleManifestUpdate),this.wyt.Gv()),this.wyt=new UU(t,n,this.yyt),this.wyt.qo("eyt",this.handleManifestUpdate),this.wyt.iI(i)},i.Hl=function(){return this.eK&&(this.Rg.Ul(this.eK),this.KX.Ul(this.eK),this.eK.Gv(),this.eK=void 0,this.myt=!1),this.KX.Hl(),t.prototype.Hl.call(this)},i.Gv=function(){return this.Qo(Yo.Ac,this.Wwt),this.wyt&&(this.wyt.Qo("eyt",this.handleManifestUpdate),this.wyt.Gv()),this.KX.Gv(),t.prototype.Gv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).pyt=void 0,i.pyt=n;for(var r=0;r<$p.length;r++){var e=$p[r];i.pyt.qo(e,i.Xo)}return i}F(n,t);var i=n.prototype;return i.Pg=function(){return this.pyt.Pg()},i.Wg=function(){return this.pyt.Wg()},i.Xg=function(){return this.pyt.Xg()},i.Vg=function(){return this.pyt.Vg()},i.Yg=function(){return this.pyt.Yg()},i.Cg=function(){return this.pyt.Cg()},i.Ng=function(){return this.pyt.Ng()},i.Hl=function(){return this.pyt.Hl()},i.xg=function(t,n,i){return this.pyt.xg(t,n,i)},i.Hg=function(){return this.pyt.Hg()},i.Bg=function(){return this.pyt.Bg()},i.Lg=function(){return this.pyt.Lg()},i.Gv=function(){this.jo();for(var t=0;t<$p.length;t++){var n=$p[t];this.pyt.Qo(n,this.Xo)}return this.pyt.Gv()},M(n,[{key:"Eg",get:function(){return this.pyt.Eg}},{key:"Zg",get:function(){return this.pyt.Zg}},{key:"Jg",get:function(){return this.pyt.Jg},set:function(t){this.pyt.Jg=t}},{key:"Y_",get:function(){return this.pyt.Y_},set:function(t){this.pyt.Y_=t}},{key:"Z_",get:function(){return this.pyt.Z_}},{key:"J_",get:function(){return this.pyt.J_}},{key:"K_",get:function(){return this.pyt.K_}},{key:"Ig",get:function(){return this.pyt.Ig}},{key:"eh",get:function(){return this.pyt.eh}},{key:"Kg",get:function(){return this.pyt.Kg}},{key:"dg",get:function(){return this.pyt.dg}},{key:"tg",get:function(){return this.pyt.tg},set:function(t){this.pyt.tg=t}},{key:"uw",get:function(){return this.pyt.uw}},{key:"ng",get:function(){return this.pyt.ng}},{key:"ig",get:function(){return this.pyt.ig},set:function(t){this.pyt.ig=t}},{key:"ow",get:function(){return this.pyt.ow}},{key:"hw",get:function(){return this.pyt.hw},set:function(t){this.pyt.hw=t}},{key:"d_",get:function(){return this.pyt.d_}},{key:"aw",get:function(){return this.pyt.aw}},{key:"rg",get:function(){return this.pyt.rg}},{key:"mR",get:function(){return this.pyt.mR}},{key:"Rg",get:function(){return this.pyt.Rg}},{key:"eg",get:function(){return this.pyt.eg}},{key:"Sg",get:function(){return this.pyt.Sg}},{key:"sg",get:function(){return this.pyt.sg}},{key:"ug",get:function(){return this.pyt.ug},set:function(t){this.pyt.ug=t}},{key:"cw",get:function(){return this.pyt.cw},set:function(t){this.pyt.cw=t}},{key:"kR",get:function(){return this.pyt.kR}}]),n}(cl));LU=function(t,n,i){return new FU(t,n,i)},zp.RR().IR(LU);var HU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},VU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),XU=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function WU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function qU(t){return JSON.stringify(t,XU.getSerialize(WU))}var zU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),GU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),jU=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),QU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=zU.isS,r=zU.isChar,e=zU.isNameStartChar,s=zU.isNameChar,u=zU.S_LIST,o=zU.NAME_RE,h=GU.isChar,a=jU.isNCNameStartChar,c=jU.isNCNameChar,f=jU.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.xa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.xa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.xa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),YU=function(){function t(){}return t.prototype.cs=function(t){var n=new QU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new iF,r=[i];function e(t){r[r.length-1].Rs(t)}return n.on("text",function(t){r.length>1&&e(new tF(t))}),n.on("cdata",function(t){e(new nF(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new $U({ls:n,gs:""===i?void 0:i,Ayt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new ZU({ls:v,ks:_,gs:""===d?void 0:d,Ayt:""===f?void 0:f});u.byt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new an(t)}),n.write(t).close(),i},t}(),ZU=function(){function t(t){this.Tyt=void 0,this.Eyt=void 0,this.Syt=void 0,this.xn=void 0,this.Tyt=t.ls,this.xn=t.ks,this.Eyt=t.gs,this.Syt=t.Ayt}var n=t.prototype;return n.vs=function(t){return this===t||!!eF(this,t)&&(this.Tyt===t.Tyt&&this.Eyt===t.Eyt&&this.Syt===t.Syt&&this.xn===t.xn)},n.ds=function(){return new t({ls:this.ls,ks:this.ks,gs:this.gs,Ayt:this.ys})},M(t,[{key:"es",get:function(){return tn.os}},{key:"ls",get:function(){return this.Tyt}},{key:"_s",get:function(){return void 0===this.Syt?this.Tyt:this.Syt+":"+this.Tyt}},{key:"gs",get:function(){return this.Eyt}},{key:"ys",get:function(){return this.Syt}},{key:"ks",get:function(){return this.xn}}]),t}(),JU=function(){function t(){this.As=[]}var n=t.prototype;return n.bs=function(t){return this.As.filter(function(n){return rF(n)&&n.Es===t})},n.Ss=function(t,n){return this.As.filter(function(i){return rF(i)&&i.ls===n&&i.gs===t})},n.Rs=function(t){this.As.push(t)},M(t,[{key:"Ts",get:function(){return this.As}},{key:"Ns",get:function(){return this.As.filter(rF)}}]),t}(),$U=function(t){function n(n){var i;return(i=t.call(this)||this).Tyt=void 0,i.Eyt=void 0,i.Syt=void 0,i.Ryt=[],i.Tyt=n.ls,i.Eyt=n.gs,i.Syt=n.Ayt,i}F(n,t);var i=n.prototype;return i.Iyt=function(t){for(var n=0,i=this.Ts;n<i.length;n++){var r=i[n];rF(r)?r.Iyt(t):t.push(r.Us)}},i.Ds=function(t,n){for(var i=0,r=this.Ryt;i<r.length;i++){var e=r[i];if(e.ls===n&&e.gs===t)return e.ks}},i.Cs=function(t){for(var n=0,i=this.Ryt;n<i.length;n++){var r=i[n];if(r._s===t)return r.ks}},i.byt=function(t){this.Ryt.push(t)},i.Os=function(t){for(var n=0;n<this.Ryt.length;n++)if(this.Ryt[n]._s===t)return void this.Ryt.splice(n,1)},i.xs=function(t,n){for(var i=0;i<this.Ryt.length;i++)if(this.Ryt[i].ls===n&&this.Ryt[i].gs===t)return void this.Ryt.splice(i,1)},i.Ps=function(t,n){this.Os(t),this.byt(new ZU({ls:t,ks:n}))},i.Bs=function(t,n,i){this.Os(n);var r=n.split(":");this.byt(new ZU({ls:r[r.length-1],ks:i,gs:t,Ayt:r.length>1?r[0]:void 0}))},i.ds=function(t){var i=new n({ls:this.ls,gs:this.gs,Ayt:this.ys});return this.Ls.forEach(function(t){return i.byt(t.ds())}),t&&this.Ts.forEach(function(n){return i.Rs(n.ds(t))}),i},i.vs=function(t){return this===t||!!eF(this,t)&&(this.Tyt===t.Tyt&&this.Syt===t.Syt&&this.Eyt===t.Eyt&&(sF(this.Ls,t.Ls)&&sF(this.Ts,t.Ts)))},M(n,[{key:"es",get:function(){return tn.ss}},{key:"Ls",get:function(){return this.Ryt}},{key:"ls",get:function(){return this.Tyt}},{key:"gs",get:function(){return this.Eyt}},{key:"ys",get:function(){return this.Syt}},{key:"Es",get:function(){return void 0===this.Syt?this.Tyt:this.Syt+":"+this.Tyt}},{key:"Ms",get:function(){var t=[];return this.Iyt(t),t.join("")}}]),n}(JU),KU=function(){function t(t){this.nr=void 0,this.nr=t}return M(t,[{key:"Us",get:function(){return this.nr}}]),t}(),tF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.ds=function(){return new n(this.Us)},i.vs=function(t){return this===t||!!eF(this,t)&&this.Us===t.Us},M(n,[{key:"es",get:function(){return tn.us}}]),n}(KU),nF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.ds=function(){return new n(this.Us)},i.vs=function(t){return this===t||!!eF(this,t)&&this.Us===t.Us},M(n,[{key:"es",get:function(){return tn.hs}}]),n}(KU),iF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.ds=function(t){var i=new n;return t&&this.Ts.forEach(function(n){return i.Rs(n.ds(t))}),i},i.vs=function(t){return this===t||!!eF(this,t)&&sF(this.Ts,t.Ts)},M(n,[{key:"es",get:function(){return tn.as}},{key:"Fs",get:function(){return this.Ns[0]}}]),n}(JU);function rF(t){return en(t)}function eF(t,n){return t.es===n.es}function sF(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].vs(n[i]))return!1;return!0}var uF,oF=["adBreak"],hF=["adBreak"];function aF(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:ie({},t,{adBreak:ie({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Rm(t,oF)})})})}function cF(t){return void 0===t.ads?t:ie({},t,{ads:t.ads.map(function(t){t.adBreak;return Rm(t,hF)})})}function fF(t){return"string"==typeof t.date?new Date(t.date):t.date}function vF(t){var n;return t.cue.track?(n=lF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=lF(t.cue,""),n}function dF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function lF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new YU).cs(r.firstChild.outerHTML).Fs.Ls.forEach(function(t){e[t.ls]=t.ks}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=_F(o);s[u]={type:uF.Nyt,value:h}}else wF(o)?s[u]={type:uF.Cyt,value:o}:s[u]={type:uF.yz,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=_F(t.scte35Cmd),i.scte35Out=_F(t.scte35Out),i.scte35In=_F(t.scte35In),i.customAttributes=s}var a}(),i}function _F(t){if(void 0!==t)return Ws(t)}function gF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(lF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(lF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function wF(t){return"number"==typeof t}!function(t){t.yz="daterange-ca-type_string",t.Cyt="daterange-ca-type_number",t.Nyt="daterange-ca-type_arraybuffer"}(uF||(uF={}));var yF={cue:function(t){var n={};switch(n.date=fF(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=vF(t)}return n},textTrack:function(t){var n={};switch(n.date=fF(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=AF().register(t.cue));var i=pF()[bF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=vF(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(lF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=fF(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=AF().register(t)}),n.track=gF(t.track);case"removetrack":case"change":n.track=gF(t.track)}return n},default:function(t){var n={};switch(n.date=fF(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=ie({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=gF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=cF(t.ad);break;case"adloaded":case"adimpression":n.ad=aF(t.ad);break;case"aderror":t.Dyt&&(n.Dyt=t.Dyt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=aF(t.ad)}return dF(n)},minimizeCueHelper:function(t){var n={};return n.date=fF(t),n.type=t.type,n.cue=vF(t),n.track={uid:t.cue.track.uid},n},adReplacer:aF,adBreakReplacer:cF,removeCircularReferences:dF},mF=function(){this.stringify=qU,this.minimize=yF};function kF(){return pr.self}function pF(){return kF().THEOplayerBridge}function AF(){return kF().THEOCueMirrorMap}function bF(){return kF().THEOplayerGlobalID}function TF(){var t=kF();if(t.THEOplayerBridge){var n=new HU;t.THEOplayerBridge=Md(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new HU;t.THEOplayerUtils||(t.THEOplayerUtils=new mF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new VU)}TF();var EF,SF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return F(n,t),n}(Ss),RF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Wo(new SF(t,n))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.Qo(t,n)},n}(fl),IF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Oyt=void 0,r.xyt=void 0,r.Pyt=function(t){r.Oyt.CQ("THEOplayerABRSetTargetBuffer",t.Dx),r.Wo(t)},r.Byt=function(t){r.Oyt.CQ("THEOplayerABRSetStrategy",t.xx),r.Wo(t)},r.Oyt=n,r.xyt=i,r.xyt.qo("Ox",r.Pyt),r.xyt.qo("Px",r.Byt),r}return F(n,t),M(n,[{key:"Wx",get:function(){var t;switch(this.xx.type){case VT.PERFORMANCE:return 1;case VT.QUALITY:return 0;case VT.BANDWIDTH:return null!=(t=this.xx.metadata)&&t.bitrate&&!y(this.xx.metadata.bitrate)?this.xx.metadata.bitrate:0;default:return 0}}},{key:"fl",get:function(){return this.xyt.fl}},{key:"xx",get:function(){return this.xyt.xx},set:function(t){this.xyt.xx=t}},{key:"Dx",get:function(){return this.xyt.Dx},set:function(t){this.xyt.Dx=t}},{key:"Bx",get:function(){return this.xyt.Bx},set:function(t){this.xyt.Bx=t}}]),n}(Ts),NF=function(){function t(t,n,i){this.Ea=void 0,this.mo=void 0,this.Ma=void 0,this.Jh=void 0,this.Ea=t,this.mo=i,this.Ma=n}var n=t.prototype;return n.tT=function(t){throw new v("Not implemented yet.")},n.jL=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mo.Ao(n.do,i);case 2:return r=t.sent,t.next=5,r.ua();case 5:return e=t.sent,t.next=8,this.QL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.YL=function(t){return!1},n.ZL=function(t){return E.resolve(void 0)},n.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QL=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.$L(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$L=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Jh)){t.next=5;break}return t.next=4,i.ra(this.Ma);case 4:this.Jh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.ia(this.Ma);case 8:this.Jh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Jb=function(t,n,i){throw new v("Not implemented yet.")},M(t,[{key:"Kh",get:function(){return this.Ea}},{key:"hw",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"aw",get:function(){return new rA([0,1/0])}},{key:"Rg",get:function(){throw new v("Not implemented yet.")}},{key:"Lyt",get:function(){throw new v("Not implemented yet")}},{key:"Sg",get:function(){throw new v("Not implemented yet.")}},{key:"Myt",get:function(){throw new v("Not implemented yet")}},{key:"Uyt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Fyt="webkitneedkey",t.Hyt="webkitkeymessage",t.Vyt="webkitkeyerror"}(EF||(EF={}));var CF=function(t){function n(n,i){var r;return(r=t.call(this,EF.Fyt)||this).initData=n,r.sessionId=i,r}return F(n,t),n}(Ss),DF=function(t){function n(n,i){var r;return(r=t.call(this,EF.Hyt)||this).message=n,r.destinationURL=i,r}return F(n,t),n}(Ss),OF=function(t){function n(){return t.call(this,EF.Vyt)||this}return F(n,t),n}(Ss),xF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).va=new Qu,u.Sa=void 0,u._a=new Bs,u.Ia=new Qu,u.Xyt=function(t){u.Sa?(u.Sa.Ih(void 0),u.Sa=void 0):u.ka("internal-error"),u.Wo(new Ds)},u.Wyt=function(t){u.Sa&&(u.Sa.Rh(void 0),u.Sa=void 0),u.Wo(new Cs(un(u),"license-request",zu(t.message).buffer,t.destinationURL||void 0))},u.Aa=n,u.Uh=i,u.qyt=r,u.Ba=e,u.Ca=s,u}F(n,t);var i=n.prototype;return i.Xh=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Da){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.zyt(Wu(i),e);case 5:this.ka("usable"),this.Ia.Rh(),this.Ia=new Qu;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Wh=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Wu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Sa=new Qu,this.qyt.zh(this.Ba,i),t.next=7,this.Sa.Sh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Vh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ia;case 2:return this.qyt.Qo(EF.Hyt,this.Wyt),this.qyt.Qo(EF.Vyt,this.Xyt),this.Ia.Bo(),this.va.Rh(void 0),t.abrupt("return",this.va.Sh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qh=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.zyt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Io(n,i,this.Ca),this.qyt.qo(EF.Hyt,this.Wyt),this.qyt.qo(EF.Vyt,this.Xyt),this.qyt.RX(this.Ba,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ka=function(t){this._a.gh(),this._a._h(Ps,t),this.Wo(new Ns(this))},M(n,[{key:"Zh",get:function(){return this.Ba}},{key:"Qh",get:function(){return NaN}},{key:"jh",get:function(){return this.va.Sh}},{key:"Yh",get:function(){return this._a}}]),n}(Ts),PF=function(){function t(t,n,i){this.Gyt=void 0,this.Ba=void 0,this.Ca=void 0,this.qyt=void 0,this.Uh=void 0,this.Ea=void 0,this.Aa=void 0,this.qyt=t,this.Uh=n,this.Ea=i;var r=vo(i)||"video/mp4";this.Aa=ao(r)}var i=t.prototype;return i.ta=function(){var t=E.coroutine(ne.mark(function t(i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ca){t.next=2;break}throw new No(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new xF(this.Aa,this.Uh,this.qyt,this.Ba,this.Ca),this.Gyt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.na=function(t){return this.Ca=Wu(t),E.resolve(!0)},i.ia=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ra=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},M(t,[{key:"$h",get:function(){return this.Uh}},{key:"Kh",get:function(){return this.Ea}},{key:"sessionId",set:function(t){this.Ba=t}}]),t}(),BF=function(){function t(t,n,i){this.jyt=t,this.Uh=n,this.Ea=i}var n=t.prototype;return n.oa=function(){return this.Ea},n.ua=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new PF(this.jyt,this.Uh,this.Ea));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"$h",get:function(){return this.Uh}}]),t}(),LF=function(){function t(t){this.jyt=void 0,this.jyt=t}return t.prototype.Ao=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=co(MF,Is,n,e))){t.next=6;break}return t.abrupt("return",new BF(this.jyt,n,s));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function MF(t,n){return t===Ae}var UF,FF=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.UX=function(t,n){return!0},n}(VI),HF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new LF(i)),(e=t.call(this)||this).TS=void 0,e.mo=void 0,e.WL=void 0,e.WX=new qE,e.Qyt=void 0,e.jyt=void 0,e.Yyt=!1,e.Ba=void 0,e.Na=null,e.Zyt={tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.Jyt=function(t){"boolean"==typeof t.detail.casting&&(e.Yyt=t.detail.casting,e.Wo(new q_(e.Yyt)))},e.$yt=function(t){e.Ba=t.sessionId,e.Na&&(e.Na.sessionId=e.Ba);var n=t.initData;if(n){var i=QI(n);if(!i)return;e.Wo(new Os(ge,i))}else e.Wo(new Os(ge,new ArrayBuffer(0)))},e.Qyt=n,e.jyt=i,e.jyt.qo(EF.Fyt,e.$yt),e.mo=r,e.WL=new FF(un(e)),e.Kyt(),e}F(n,t);var i=n.prototype;return i.nM=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.vo===Oy.iT)return i}},i.No=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.jo(),this.tmt(),this.jyt.Qo(EF.Fyt,this.$yt),t.next=7,this.WL.No();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vg=function(){throw new v("Not implemented yet")},i.Jb=function(t,n,i,r,e,s,u,o){throw new v("Not implemented yet")},i.sR=function(){return!1},i.oR=function(t,n,i,r){throw new v("Not implemented yet")},i.tT=function(t){throw new v("Not implemented yet")},i.cR=function(){throw new v("Not implemented yet")},i.Wh=function(){var t=E.coroutine(ne.mark(function t(n){var i=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.WX.lL(function(){var t=E.coroutine(ne.mark(function t(r){var e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.vo!==Oy.iT){t.next=8;break}return as(r),e=new NF(n,i,i.mo),i.TS=e,i.WL.Wh(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Cg=function(){throw new v("Not implemented yet")},i.Ng=function(){throw new v("Not implemented yet")},i.Hl=function(){var t=this;return this.WX.Bo(),this.WX.lL(E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.TS){n.next=4;break}return n.next=3,t.TS.No();case 3:t.TS=void 0;case 4:return n.next=6,t.WL.Hl();case 6:case"end":return n.stop()}},n)})))},i.kh=function(t,n){throw new v("Not implemented yet")},i.wR=function(t){throw new v("Not implemented yet")},i.Hg=function(){throw new v("Not implemented yet")},i.yR=function(){return this.Zyt},i.Kyt=function(){this.Qyt.addEventListener("airPlayIsCasting",this.Jyt)},i.tmt=function(){this.Qyt.removeEventListener("airPlayIsCasting",this.Jyt)},i.webkitSetMediaKeys=function(t){this.Na=t||null,this.Na&&(this.Na.sessionId=this.Ba)},i.Sq=function(){},i.Tq=function(){throw new v("Not implemented yet")},i.Eq=function(){throw new v("Not implemented yet")},M(n,[{key:"Jg",get:function(){throw new v("Not implemented yet")}},{key:"Zg",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet")}},{key:"YB",get:function(){throw new v("Not implemented yet")}},{key:"Z_",get:function(){throw new v("Not implemented yet")}},{key:"J_",get:function(){throw new v("Not implemented yet")}},{key:"eh",get:function(){throw new v("Not implemented yet")}},{key:"Vp",get:function(){throw new v("Not implemented yet")}},{key:"Kg",get:function(){return this.Yyt}},{key:"tg",get:function(){throw new v("Not implemented yet")}},{key:"ng",get:function(){throw new v("Not implemented yet")}},{key:"ig",get:function(){throw new v("Not implemented yet")}},{key:"ow",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")}},{key:"aw",get:function(){throw new v("Not implemented yet")}},{key:"rg",get:function(){throw new v("Not implemented yet")}},{key:"Nq",get:function(){throw new v("Not implemented yet")}},{key:"ug",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"ku",get:function(){throw new v("Not implemented yet")}},{key:"aR",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Na}},{key:"Cq",get:function(){return uS}},{key:"Rg",get:function(){throw new v("Not implemented yet")}},{key:"JB",get:function(){throw new v("Not implemented yet")}},{key:"mR",get:function(){throw new v("Not implemented yet")}},{key:"Rq",get:function(){return!0}},{key:"JS",get:function(){return this.WL.JS},set:function(t){this.WL.JS=t}},{key:"VX",get:function(){return this.WL.VX}}]),n}(cl),VF=function(t){function n(n){var i;return(i=t.call(this,Yo.Bc)||this).Zyt=n,i}return F(n,t),n}(Ss);function XF(t){switch(t.type){case UF.yz:return t.value;case UF.Cyt:return Wd(t.value);case UF.Nyt:return Vs(t.value);default:return}}function WF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.yz="daterange-ca-type_string",t.Cyt="daterange-ca-type_number",t.Nyt="daterange-ca-type_arraybuffer"}(UF||(UF={}));var qF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).VE=void 0,u.nmt=void 0,u.VE=n,u.nmt=s,u}return F(n,t),M(n,[{key:"name",get:function(){return this.VE}},{key:"timestamp",get:function(){return this.nmt}}]),n}(No),zF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return F(n,t),n}(qF),GF=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).zI=0,u.lH=!1,u.ES=void 0,u.SS=void 0,u.imt=void 0,u.jI=!0,u.QI=1,u.mg=void 0,u.kg=void 0,u.QX=void 0,u.ZX=void 0,u.JX=void 0,u.pg=void 0,u.jb=void 0,u.dH=void 0,u.rmt=rA.HI(),u.KF=rA.HI(),u.GI=!1,u.oW=rA.HI(),u.YI=void 0,u.emt=void 0,u.smt=void 0,u._H=kl.U_,u.eT=kl.U_,u.Qyt=void 0,u.KX=void 0,u.NS=void 0,u.Oyt=void 0,u.Ewt=void 0,u.tN=void 0,u.bS=void 0,u.CS=void 0,u.jyt=void 0,u.Zyt={tw:0,nw:0,iw:0,rw:0,ew:0,sw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.TS=void 0,u.umt=void 0,u.OS=new Mp,u.setCurrentTime=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.aw.length){t.next=4;break}return u.zI=n,t.next=4,u.Qyt.$o("seekablechange");case 4:u.zI=u.updateCurrentTime(n),u.Oyt.CQ("THEOplayerSetCurrentTime",u.zI),u.YI=!0,u.Wo(new Zl(u.zI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.omt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.rmt=new rA(i),u.Wo(new fS(u.Y_))}},u.hmt=function(t){u._H=t.detail.readyState,u.Wo(new Kl(+t.detail.currentTime,u.d_)),u.amt()},u.cmt=function(t){u._H=t.detail.readyState,u.Wo(new t_(+t.detail.currentTime,u.d_)),u.amt()},u.fmt=function(t){if(t.detail){var n=+t.detail.duration;u.dH=n,u.Wo(new zl(u.Z_))}},u.Bwt=function(t){t.detail&&(u.lH=!0,u.Wo(new Ql(+t.detail.currentTime)))},u.xS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);WF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.SS=new zF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.ES=T_(u.SS),u.Wo(new i_(u.SS))):WF(i)&&(u.SS=new qF(i.name,i.message,void 0,i.code,i.timestamp),u.ES=T_(u.SS),u.Wo(new i_(u.SS)))}},u.Lwt=function(t){u.Wo(new vS)},u.vmt=function(t){u._H=t.detail.readyState,u.Wo(new Yl(+t.detail.currentTime,u.d_)),u.amt()},u.dmt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.aw.length){t.next=3;break}return t.next=3,u.Qyt.$o("seekablechange");case 3:u._H=n.detail.readyState,u.Wo(new ql(+n.detail.currentTime,u.d_)),u.amt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.Iwt=function(t){t.detail&&u.jI&&(u.jI=!1,u.Wo(new Hl(+t.detail.currentTime)))},u.Nwt=function(t){t.detail&&(u.jI||(u.jI=!0,u.Wo(new Fl(+t.detail.currentTime))))},u.lmt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.oW=new rA(i)}},u.iyt=function(t){t.detail&&u.Wo(new rm(+t.detail.currentTime))},u.Owt=function(t){t.detail&&(u.QI=t.detail.playbackRate,u.Wo(new Gl(+t.detail.currentTime,u.QI)))},u._mt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.KF=new rA(i)}},u.Dwt=function(t){t.detail&&(u.zI=+t.detail.currentTime,u.YI=!1,u.Wo(new jl(u.zI,u.imt)),u.Wo(new Jl(u.zI)))},u.Cwt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.dH&&(u.lH=!1),u.YI=!0,u.Wo(new Zl(n))}},u.gmt=function(t){t.detail&&(t.detail.currentDate&&(u.imt=new Date(1e3*t.detail.currentDate)),u.zI=+t.detail.currentTime,u.Wo(new jl(u.zI,u.imt)))},u.wmt=function(t){u.emt=t.detail.height,u.smt=t.detail.width},u.ymt=function(t){t.detail&&u.Wo(new im(+t.detail.currentTime))},u.jwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Eg.Ml(new U_(n))},u.mmt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u.mg.Xl;s++){var o=u.Eg.Ll(s);o.i_==r&&o.n_==e?i=u.mg.Ll(s):1==o.Jl&&(n=u.mg.Ll(s))}i&&n&&(i.Jl=!0,n.Jl=!1)},u.Ywt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Sg.Ml(new W_(n))},u.eQ=function(t){var n,i=t.detail.kind,r=t.detail.type;i===uy.xk&&r===V_.ID3?(n=new bI("",t.detail.label)).c_=tl.u_:i===uy.xk&&r===V_.DATE_RANGE?(n=new aD,u.umt=n):n=new wR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.QX.Ml(n),u.KX.Ml(n)},u.kmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new pI(Wd(r.startTime),s,r.uid),h=u.pmt();h&&h.Kb(o)}},u.Amt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new ug(Wd(e.startTime),Wd(e.endTime),e.content,!1),o=null!=(r=u.bmt(uy.Dk))?r:u.bmt(uy.Vb);o&&(o.vo=V_.WEBVTT,o.Kb(s))}},u.nq=function(t){t.type===Yo.rc&&(u.ES=T_(t.errorObject)),u.Xo(t)},u.Tmt=function(t){t.detail&&(u.Zyt.nw=t.detail.corruptedVideoFrames,u.Zyt.tw=t.detail.droppedVideoFrames,u.Wo(new VF(u.dg)))},u.Emt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={$l:t.id};if(void 0!==t.startDate&&(n.mR=new Date(t.startDate)),void 0!==t.endDate&&(n.xZ=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=XF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.GZ=r}void 0!==t.scte35Cmd&&(n.jZ=Vs(t.scte35Cmd)),void 0!==t.scte35In&&(n.YZ=Vs(t.scte35In)),void 0!==t.scte35Out&&(n.QZ=Vs(t.scte35Out)),void 0!==t.startTime&&(n.Dw=t.startTime),n.WZ=t.class,n.Z_=Wd(t.duration),n.qZ=Wd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Dw?t.Dw:(new Date).getTime(),r=new iD(t,i);u.umt.Kb(r),u.umt.zh(n,i)})};var o=e.uid;u.Oyt=u.getSdkBridge(o),u.Qyt=new RF,pF()[o].sdkEventBus=u.Qyt,u.mg=new R_,u.kg=new R_;var h=u.Smt(r);return u.jb=new CU(un(u),new yI),u.KX=new kI(un(u)),u.NS=new Sy(u.jb,h),u.QX=new oy,u.ZX=new NI(un(u)),u.ZX.Ql=u.QX,u.JX=new CI(u.jb,u.ZX),u.pg=new Hp([u.QX,u.NS.Ep,u.JX.Ep]),u.jyt=u.getFairPlayControllerBridge(u.Oyt),u.bS=new HF(u.Qyt,u.jyt),u.CS=new Up(h),u.bS.JS=u.CS,u.observeMediaElement(),u.KS(),u.tN=new IF(u.Oyt,s),u.tN.qo("Ox",function(){u.Oyt.CQ("THEOplayerSetPreferredForwardBufferDuration",u.tN.Dx)}),u}F(n,t);var i=n.prototype;return i.Wg=function(){return uA},i.Hg=function(){this.Oyt.CQ("THEOplayerShow",{})},i.Vg=function(){this.Oyt.CQ("THEOplayerHide",{})},i.Rmt=function(){var t=this;this.Oyt.CQ("THEOplayerSetInitialPreferredPeakBitRate",this.tN.Wx);this.qo("playing",function n(){t.Oyt.CQ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Qo("playing",n)})},i.xg=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ewt=n,r=ie({},i,{sources:{src:n.src,type:wl.D_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Oyt.CQ("THEOplayerSourceChange",r),e={vo:Oy.iT,g_:n.src,rv:n.type,tR:this.nR(n),iR:n.crossOrigin,rR:i.metadata&&i.metadata.title},this.CS.cS(n.contentProtection),t.next=7,this.bS.Wh(e);case 7:this.TS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==V_.WEBVTT})).length>0&&this.eR(s),Dy(this.Rg),this.Rmt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{$h:Ee,lR:[{initDataTypes:[Ee.lo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Ng=function(){this.jI=!1,this.Wo(new Hl(this.Y_)),this.Oyt.CQ("THEOplayerPlay",{})},i.Cg=function(){this.jI=!0,this.Wo(new Fl(this.Y_)),this.Oyt.CQ("THEOplayerPause",{})},i.Xg=function(){},i.Hl=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zI=0,this.lH=!1,this.ES=void 0,this.SS=void 0,this.jI=!0,this.QI=1,this.dH=void 0,this.KF=rA.HI(),this.rmt=rA.HI(),this.emt=void 0,this.smt=void 0,this._H=kl.U_,this.eT=kl.U_,this.mg.Hl(),this.kg.Hl(),this.QX.Hl(),this.pg.Hl(),t.next=19,this.JX.Hl();case 19:return this.ZX.Hl(),t.next=22,this.NS.Hl();case 22:return this.jb.Hl(),this.KX.Hl(),this.Ewt=void 0,t.next=27,this.bS.Hl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Bg=function(){this.Oyt.CQ("THEOplayerShowAirPlayPicker",{})},i.Lg=function(){this.Oyt.CQ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.dg.nw=t.nw,this.dg.tw=t.tw},i.Gv=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.jo(),this.unobserveMediaElement(),this.vR(),this.bS.JS=void 0,t.next=8,this.bS.No();case 8:return this.mg.Gv(),this.kg.Gv(),this.QX.Gv(),this.pg.Gv(),this.ZX.Gv(),t.next=15,this.JX.Gv();case 15:return t.next=17,this.NS.Gv();case 17:this.jb.Gv(),this.KX.Gv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.eR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.NS.Zb(i)}},i.amt=function(){var t=this.eT,n=this._H;t!==n&&(this.eT=n,this.Wo(new n_(this.Y_,n)))},i.observeMediaElement=function(){this.bS.qo(Yo.Ka,this.Xo),this.bS.qo([Yo.ec,Yo.rc],this.nq),this.Qyt.addEventListener("play",this.Iwt),this.Qyt.addEventListener("pause",this.Nwt),this.Qyt.addEventListener("seeking",this.Cwt),this.Qyt.addEventListener("seeked",this.Dwt),this.Qyt.addEventListener("ratechange",this.Owt),this.Qyt.addEventListener("durationchange",this.fmt),this.Qyt.addEventListener("timeupdate",this.gmt),this.Qyt.addEventListener("waiting",this.ymt),this.Qyt.addEventListener("playing",this.iyt),this.Qyt.addEventListener("ended",this.Bwt),this.Qyt.addEventListener("loadedmetadata",this.dmt),this.Qyt.addEventListener("loadeddata",this.vmt),this.Qyt.addEventListener("loadstart",this.Lwt),this.Qyt.addEventListener("canplay",this.hmt),this.Qyt.addEventListener("canplaythrough",this.cmt),this.Qyt.addEventListener("error",this.xS),this.Qyt.addEventListener("seekablechange",this._mt),this.Qyt.addEventListener("videosizechange",this.wmt),this.Qyt.addEventListener("bufferedchange",this.omt),this.Qyt.addEventListener("playedchange",this.lmt),this.Qyt.addEventListener("metricschange",this.Tmt),this.Qyt.addEventListener("addDateRangeCues",this.Emt)},i.unobserveMediaElement=function(){this.bS.Qo(Yo.Ka,this.Xo),this.bS.Qo([Yo.ec,Yo.rc],this.nq),this.Qyt.removeEventListener("play",this.Iwt),this.Qyt.removeEventListener("pause",this.Nwt),this.Qyt.removeEventListener("seeking",this.Cwt),this.Qyt.removeEventListener("seeked",this.Dwt),this.Qyt.removeEventListener("ratechange",this.Owt),this.Qyt.removeEventListener("durationchange",this.fmt),this.Qyt.removeEventListener("timeupdate",this.gmt),this.Qyt.removeEventListener("waiting",this.ymt),this.Qyt.removeEventListener("playing",this.iyt),this.Qyt.removeEventListener("ended",this.Bwt),this.Qyt.removeEventListener("loadedmetadata",this.dmt),this.Qyt.removeEventListener("loadeddata",this.vmt),this.Qyt.removeEventListener("loadstart",this.Lwt),this.Qyt.removeEventListener("canplay",this.hmt),this.Qyt.removeEventListener("canplaythrough",this.cmt),this.Qyt.removeEventListener("error",this.xS),this.Qyt.removeEventListener("seekablechange",this._mt),this.Qyt.removeEventListener("videosizechange",this.wmt),this.Qyt.removeEventListener("bufferedchange",this.omt),this.Qyt.removeEventListener("playedchange",this.lmt),this.Qyt.removeEventListener("metricschange",this.Tmt),this.Qyt.removeEventListener("addDateRangeCues",this.Emt)},i.updateCurrentTime=function(t){var n=this.aw.start(0),i=this.aw.end(0);return _.min(_.max(t,n),i)},i.pmt=function(){for(var t=0,n=this.pg.Vl;t<n.length;t++){var i=n[t];if(i.t_===uy.xk&&i.vo===V_.ID3)return i}},i.bmt=function(t){for(var n=0,i=this.pg.Vl;n<i.length;n++){var r=i[n],e=r.c_===tl.o_,s=r.t_===t;if(e&&s)return r}},i.KS=function(){this.Qyt.addEventListener("addaudiotrack",this.jwt),this.Qyt.addEventListener("enableaudiotrack",this.mmt),this.Qyt.addEventListener("addvideotrack",this.Ywt),this.Qyt.addEventListener("addtexttrack",this.eQ),this.Qyt.addEventListener("addtexttrackid3cues",this.kmt),this.Qyt.addEventListener("addtexttrackcues",this.Amt)},i.vR=function(){this.Qyt.removeEventListener("addaudiotrack",this.jwt),this.Qyt.removeEventListener("enableaudiotrack",this.mmt),this.Qyt.removeEventListener("addvideotrack",this.Ywt),this.Qyt.removeEventListener("addtexttrack",this.eQ),this.Qyt.removeEventListener("addtexttrackid3cues",this.kmt),this.Qyt.removeEventListener("addtexttrackcues",this.Imt)},i.Yg=function(){},M(n,[{key:"Eg",get:function(){return this.mg}},{key:"Zg",get:function(){return this.rmt.gR()}},{key:"Jg",get:function(){return this.imt?this.imt:null},set:function(t){this.Oyt.CQ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.imt=t}},{key:"Y_",get:function(){return this.zI},set:function(t){this.setCurrentTime(t)}},{key:"Z_",get:function(){return this.dH}},{key:"J_",get:function(){return this.lH}},{key:"eh",get:function(){return this.ES}},{key:"K_",get:function(){return this.SS}},{key:"Ig",get:function(){}},{key:"Kg",get:function(){return this.bS.Kg}},{key:"dg",get:function(){return this.Zyt}},{key:"tg",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.Oyt.CQ("THEOplayerSetMuted",t),this.GI=t,this.Wo(new $l(this.Y_,t?0:1)))}},{key:"ng",get:function(){return this.jI}},{key:"ig",get:function(){return this.QI},set:function(t){this.Oyt.CQ("THEOplayerSetPlaybackRate",t),this.QI=t}},{key:"ow",get:function(){return this.oW.gR()}},{key:"hw",get:function(){return Yp.WR},set:function(t){}},{key:"d_",get:function(){return this._H}},{key:"aw",get:function(){return this.KF.gR()}},{key:"rg",get:function(){return this.YI}},{key:"mR",get:function(){}},{key:"Rg",get:function(){return this.pg}},{key:"eg",get:function(){return this.emt}},{key:"sg",get:function(){return this.smt}},{key:"ug",get:function(){return 1},set:function(t){}},{key:"Sg",get:function(){return this.kg}},{key:"kR",get:function(){return this.OS}},{key:"cw",get:function(){return!1},set:function(t){}},{key:"uw",get:function(){return!0}}]),n}(cl),jF=function(){function t(){this.pR=Dp.rS}var n=t.prototype;return n.AR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Tl(n.type))return!1;var r=n.contentProtection;if(r&&!Vm(r)){if(!qm(r))return!1;if(!t.ryt(r))return!1}return!0},t.ryt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.bR=function(){return!1},t}(),QF=function(){function t(){this.Nmt=e.webkit}return t.prototype.CQ=function(t,n){this.Nmt.messageHandlers[t]&&this.Nmt.messageHandlers[t].postMessage(n)},t}(),YF=function(t){function n(n){var i;return(i=t.call(this)||this).Oyt=void 0,i.Qyt=void 0,i.Cmt=function(t){var n=Vs(t.detail.initData),r=t.detail.sessionId;i.Wo(new CF(n,r))},i.Dmt=function(t){var n=new m(Ys(t.detail.message)),r=t.detail.destinationURL;i.Wo(new DF(n,r))},i.Omt=function(t){i.Wo(new OF)},i.Oyt=n,i.Qyt=new RF,pF().fairplayController={sdkEventBus:i.Qyt},i.EK(),i}F(n,t);var i=n.prototype;return i.EK=function(){this.Qyt.addEventListener(EF.Fyt,this.Cmt),this.Qyt.addEventListener(EF.Hyt,this.Dmt),this.Qyt.addEventListener(EF.Vyt,this.Omt)},i.RX=function(t,n){var i={playerId:bF(),data:Zs(n.buffer),sessionId:t};this.Oyt.CQ("THEOplayerCreateKeySession",i)},i.zh=function(t,n){var i={playerId:bF(),data:Zs(n.buffer),sessionId:t};this.Oyt.CQ("THEOplayerUpdateKey",i)},n}(cl),ZF=function(t){var n=this;this.Qyt=void 0,this.xmt=void 0,this.Pmt=function(){n.xmt.vQ()},this.Bmt=function(){n.xmt.fQ()},this.Qyt=new RF,this.xmt=t,this.Qyt.addEventListener("showTracks",this.Pmt),this.Qyt.addEventListener("hideTracks",this.Bmt),pF().texttracks={sdkEventBus:this.Qyt}},JF=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).wQ=void 0,o.yQ=void 0,o.Lmt=void 0;var h=i.YS(S_.Mv);return o.wQ=new iN,o.wQ.Iq(n),o.yQ=new mC(o.wQ.$g,h.YB,o.Rg,u,h.aR),o.Lmt=new ZF(o.yQ),i.dR(h),pr.document.querySelector(".vjs-tech")?pr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):pr.document.querySelector(".player-div").style.background="transparent",o}F(n,t);var i=n.prototype;return i.Hg=function(){t.prototype.Hg.call(this),this.wQ.Hg()},i.Vg=function(){t.prototype.Vg.call(this),this.wQ.Vg()},i.Pg=function(){return!0},i.getSdkBridge=function(){return new QF},i.getFairPlayControllerBridge=function(){return KF},i.Smt=function(t){return t},i.Gv=function(){var n=E.coroutine(ne.mark(function n(){return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return pr.document.querySelector(".vjs-tech")?pr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):pr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Gv.call(this);case 3:this.yQ.Gv(),this.wQ.Gv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(GF);jp(new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.tE=function(t,n,i,r,e,s){return new JF(t,n,i,r,e,s)},i.AR=function(n,i){if(n.type){var r=Lr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.AR.call(this,n,i)},n}(jF)));var $F,KF=new YF(new QF),tH=function(t){function n(){return t.call(this,"Mmt")||this}return F(n,t),n.prototype.vl=function(){return new nH},n}(Ad),nH=function(t){function n(){return t.call(this,"statechange")||this}return F(n,t),n}(Ss);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}($F||($F={}));var iH=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Umt=new cl,n.Xo=function(t){n.Wo(t)},n}F(n,t);var i=n.prototype;return i.vl=function(){return n=function(t){var n=t.Fmt.map(function(t){return t.fl});return n.item=function(n){n|=0;var i=t.Ll(n);return i&&i.fl||void 0},n}(t=this),i=new sE(t,n),n.addEventListener=function(t,n){i.qo(t,n)},n.removeEventListener=function(t,n){i.Qo(t,n)},n;var t,n,i},i.qo=function(t,n){this.Umt.qo(t,n)},i.Go=function(t){this.Umt.Go(t)},i.jo=function(){this.Umt.jo()},i.Wo=function(t){this.Umt.Wo(t)},i.Qo=function(t,n){this.Umt.Qo(t,n)},i.Zo=function(t){this.Umt.Zo(t)},i.Jo=function(t){this.Umt.Jo(t)},i.$o=function(t,n){return this.Umt.$o(t,n)},n}(function(){function t(){this.fh=[],this.cl=void 0}var n=t.prototype;return n.Ll=function(t){return this.fh[t]},n.vw=function(t){this.fh.push(t),this.cl&&this.cl.push(t.fl),this.Hmt(t)},n.Vmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vw(i)}},n.Xmt=function(t,n){n>=0&&n<=this.fh.length&&(this.fh.splice(n,0,t),this.cl&&this.cl.splice(n,0,t.fl),this.Hmt(t))},n.dw=function(t){return $e(this.fh,t)},n.qh=function(t){this.Wmt(this.fh.indexOf(t))},n.Wmt=function(t){if(t>=0&&t<this.fh.length){var n=this.fh[t];Je(this.fh,t),this.cl&&Je(this.cl,t),this.qmt(n)}},n.gh=function(){var t=this.fh.slice();Ke(this.fh),this.cl&&Ke(this.cl);for(var n=0;n<t.length;n++){var i=t[n];this.qmt(i)}},M(t,[{key:"Fmt",get:function(){return this.fh}},{key:"Xl",get:function(){return this.fh.length}},{key:"fl",get:function(){return this.cl||(this.cl=this.vl()),this.cl}}]),t}());var rH,eH=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return F(n,t),n}(Ss),sH=function(t){function n(n){var i;return(i=t.call(this,"Gmt")||this).zmt=n,i}return F(n,t),n.prototype.vl=function(){return new eH(this.zmt.fl)},n}(Ad),uH=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return F(n,t),n}(Ss),oH=function(t){function n(n){var i;return(i=t.call(this,"jmt")||this).task=n,i}return F(n,t),n.prototype.vl=function(){return new uH(this.task.fl)},n}(Ad),hH=function(t){function n(){return t.call(this)||this}F(n,t);var i=n.prototype;return i.Hmt=function(t){this.Wo(new sH(t))},i.qmt=function(t){this.Wo(new oH(t))},n}(iH);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(rH||(rH={}));var aH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Qmt=rH.UNINITIALISED,e.cL=new hH,e.j7=void 0,e.Ymt=void 0,e.Zmt=void 0,e.Zmt=i,e.Ymt=r,e.j7=n,e.Mg(),e}F(n,t);var i=n.prototype;return i.Mg=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Jmt();case 2:this.$mt(rH.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jmt=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Kmt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.Kmt=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.j7.o1();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.Zmt.tkt(r.id,r.sourceDescription,r.parameters,this.Ymt),this.nkt(e),this.cL.vw(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$mt=function(t){this.Qmt=t,this.Wo(new tH)},i.tkt=function(t,n,i){void 0===i&&(i="persistent");var r=this.Zmt.ikt(t,n,i);return this.rkt(r,i),this.cL.vw(r),this.nkt(r),r},i.rkt=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ekt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),v("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.ekt=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.j7.e1({key:n.$l,id:n.$l,sourceDescription:n.MR,parameters:n.ha},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nkt=function(t){var n=this;t.qo("Mmt",function(){t._v===$F.EVICTED&&n.cL.qh(t)})},M(n,[{key:"_v",get:function(){return this.Qmt}},{key:"skt",get:function(){return this.cL}}]),n}(Ts);function cH(t,n){return function(t,n){var i=t.ku&&n.ku,r=t.Vp&&n.Vp;return i||r?i&&r?t.ku*t.Vp-n.ku*n.Vp:i?t.ku-n.ku:r?t.Vp-n.Vp:(t.ku||1)*(t.Vp||1)-(n.ku||1)*(n.Vp||1):0}(t,n)||function(t,n){return t.oS-n.oS}(t,n)}var fH=function(t){function n(){return t.call(this,"progress")||this}return F(n,t),n}(Ss),vH=function(t){function n(){return t.call(this,"I0")||this}return F(n,t),n.prototype.vl=function(){return new fH},n}(Ad),dH=function(){function t(t,n,i){if(this.ukt=void 0,this.okt=t,this.fw=n,this.hkt=i,0===this.fw.size)this.ukt=rA.HI();else{var r=new rA([-1/0,1/0]);this.fw.forEach(function(t){r=r._I(t.timeRanges)}),this.ukt=r}}return t.prototype.Zw=function(t){return!!Fd(this.fw,t.fw)&&(!!Zt(this.okt,t.okt)&&(!!Zt(this.LI,t.LI)&&(!!Zt(this.akt,t.akt)&&this.ckt.NI(t.ckt))))},t.fkt=function(){return _H},M(t,[{key:"LI",get:function(){return this.hkt}},{key:"vkt",get:function(){return this.okt}},{key:"akt",get:function(){return this.ckt.LI}},{key:"dkt",get:function(){var t=0,n=0;return this.fw.forEach(function(i){t+=i.timeRanges.LI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"ckt",get:function(){return this.ukt}}]),t}(),lH=ee(),_H=new dH(0,lH,NaN);function gH(t,n){if(et(t)){if(Ce(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var wH,yH=function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"lkt"}}]),n}(hn);function mH(t,n,i,r){var e=[],s=Qe(i,function(t){return t._kt===de});if(void 0!==s){var u=s.ks?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.ks.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h._kt!==de)for(var a=0,c=Ie(h._kt);a<c.length;a++){var f=c[a];e.push({$h:f,vS:h.gkt?[h.gkt]:[],DE:void 0})}}if(e.length)return{kT:t,wkt:{ykt:u,pT:s.pT},mkt:e,kkt:n===S_.Lv?r.slice():[],pkt:n===S_.Mv?r.slice():[],BX:!1}}}}function kH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=ee();return pH(r,e,t.mkt),pH(r,e,n.mkt),{kT:t.kT,wkt:{ykt:t.wkt.ykt,pT:null!=(i=t.wkt.pT)?i:n.wkt.pT},mkt:r,kkt:AH(t.kkt,n.kkt,$e),pkt:AH(t.pkt,n.pkt,$e),BX:t.BX||n.BX||!1}}function pH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.$h.wo,u=void 0;n.has(s)?(u=n.get(s)).vS=AH(u.vS,e.vS,bH):(u=ie({},e),t.push(u),n.set(s,u))}}function AH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function bH(t,n){for(var i=0;i<t.length;i++){if(Gs(t[i],n))return!0}return!1}function TH(t,n){var i,r=t.Akt;if(r){for(var e=t.kD,s=[],u=0,o=t.B$;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=mH(n||{},t.vo,r,s)}for(var a=0,c=t.bkt;a<c.length;a++){i=kH(i,EH(c[a],n))}return i}function EH(t,n){return mH(n||{},t.vo,t.Akt||[],[t.rv])}function SH(t,n,i){return RH.apply(this,arguments)}function RH(){return(RH=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Tkt;s<u.length;s++)o=u[s],e.push(IH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Z_:n.Skt.Ekt(),Rkt:[n.Ikt],Tkt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function IH(t,n,i){return NH.apply(this,arguments)}function NH(){return(NH=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Nkt;s<u.length;s++)o=u[s],e.push(CH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Ckt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function CH(t,n,i){return DH.apply(this,arguments)}function DH(){return(DH=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Dkt;s<u.length;s++)OH(o=u[s])||e.push(BH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Ep:h,vo:n.vo});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OH(t){return t.bkt.every(PH)}!function(t){t[t.C_=0]="C_",t[t.D_=1]="D_"}(wH||(wH={}));var xH=1;function PH(t){return t.Okt!==xH&&Boolean(t.Okt)}function BH(t,n,i){return LH.apply(this,arguments)}function LH(){return(LH=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.bkt;s<u.length;s++)PH(o=u[s])||e.push(UH(o,r));return t.next=4,E.all(e);case 4:return h=t.sent,a=n.B$[0],c=n.Akt,f=c?MH(a,c):void 0,v=TH(n,i),t.abrupt("return",{r_:h,i_:n.xkt,vo:n.vo,tR:f,Pkt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function MH(t,n){for(var i=[],r=function(t){return t?Ce(t,"avc")?eo.VIDEO_H264:Ce(t,"hev")||Ce(t,"hvc")||Ce(t,"hvt")||Ce(t,"lhv")||Ce(t,"lhe")||Ce(t,"lht")?eo.VIDEO_H265:Ce(t,"mp4")?eo.VIDEO_MP4:Ce(t,"mpeg2")?eo.VIDEO_MPEG2:Ce(t,"mpeg")?eo.VIDEO_MPEG:eo.VIDEO_UNKNOWN:eo.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s._kt.split(":").pop(),o=s.gkt;i.push({mimeType:r,uuid:u,data:o})}return{type:wH.C_,schemeType:le,schemeDatas:i}}function UH(t,n){return FH.apply(this,arguments)}function FH(){return(FH=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HH(n,i);case 2:s=t.sent,u={$l:WH(n),Rb:s,y7:n.A7,oS:n.oS,pu:n.pu,Vp:n.Vp,vo:n.vo,ku:n.ku},t.t0=n.vo,t.next=t.t0===S_.us?7:t.t0===S_.Mv?8:t.t0===S_.Lv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.a0=null!=(r=null==(e=n.a0)?void 0:e.ly())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.rwt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HH(t,n){return VH.apply(this,arguments)}function VH(){return(VH=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Bkt,s=e.Lkt(),u=s;case 4:if(!u){t.next=16;break}if(!n.Mkt(u)){t.next=12;break}return t.next=8,n.Ukt(u,i,(new us).Uo);case 8:for(o=t.sent,h=0;h<o.Xl;h++)r.push(XH(o.Fkt(h),n));t.next=13;break;case 12:r.push(XH(u,n));case 13:u=e.Wlt(u),t.next=4;break;case 16:return a=e.Hkt(),c=a.Ow-s.Dw,t.abrupt("return",{Z_:c,d1:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function XH(t,n){return{Dw:t.Dw,Z_:t.Z_,Vkt:n.Xkt(t)}}function WH(t){return t.Wkt.iI+"-"+(""+t.$l)}function qH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=zH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={vo:r.type,Pp:[]}),n[r["group-id"]].Pp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.Pp;s<u.length;s++){var o=u[s];i[e.vo]||(i[e.vo]={}),i[e.vo][o.name]||(i[e.vo][o.name]=[]),i[e.vo][o.name].push(o)}return i}(t),n)}function zH(t,n,i){for(var r=t["group-id"],e={$J:t,LK:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.LK.push(u)}return e}var GH,jH="und";function QH(t,n){return YH.apply(this,arguments)}function YH(){return(YH=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.W7([n],{});case 2:return r=t.sent,e=new ZP,t.abrupt("return",e.fp(r.x7,r.pv,sB(r.pv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ZH(t,n){return JH.apply(this,arguments)}function JH(){return(JH=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",$H(n,i));case 4:return t.abrupt("return",(e=void 0,e=dV(r=n),{Z_:r.duration,Rkt:[r.uri],Tkt:[{Ckt:[{vo:S_.Tv,Ep:[{vo:S_.Tv,i_:jH,r_:[{$l:r.uri,Rb:e,oS:0,pu:"",Vp:0,vo:S_.Tv,ku:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function $H(t,n){return KH.apply(this,arguments)}function KH(){return(KH=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=qH(n.media,n.streams),t.next=3,rV(r,i);case 3:return e=t.sent,t.next=6,nV(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{Z_:tV(e),Rkt:[n.uri],Tkt:[{Ckt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function tV(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Ep;r<e.length;r++){var s=e[r];n=_.max.apply(_,[n].concat(s.r_.map(function(t){return t.Rb.Z_})))}return n}function nV(t,n){return iV.apply(this,arguments)}function iV(){return(iV=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return a=n[e],t.next=6,fV(a.uri,i);case 6:(c=t.sent).oS=a.bandwidth,c.pu=a.codecs,c.Vp=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.ku=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,r.push(c);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{vo:S_.Tv,Ep:[{i_:jH,vo:S_.Tv,r_:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rV(t,n){return eV.apply(this,arguments)}function eV(){return(eV=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=ne.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,sV(s,e,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function sV(t,n,i){return uV.apply(this,arguments)}function uV(){return(uV=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=ne.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,oV(u,r);case 7:o=t.sent,e.push(o),t.next=2;break;case 11:return t.abrupt("return",{vo:aV(i),Ep:e});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function oV(t,n){return hV.apply(this,arguments)}function hV(){return(hV=E.coroutine(ne.mark(function t(n,i){var r,e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n[0].$J,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,cV(u,i);case 7:o=t.sent,r.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{i_:e.language||jH,vo:aV(e.type),r_:r});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aV(t){switch(t.toUpperCase()){case"AUDIO":return S_.Lv;case"VIDEO":return S_.Mv;case"SUBTITLES":case"CLOSED-CAPTIONS":return S_.us;default:return S_.Tv}}function cV(t,n){var i,r,e;return fV((r=(i=t).$J.uri,e=i.LK.map(function(t){return t.uri}),r||(e.length?e[0]:void 0)),n)}function fV(t,n){return vV.apply(this,arguments)}function vV(){return(vV=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,QH(n,i);case 3:e=t.sent,r=dV(e),t.next=8;break;case 7:r={Z_:0,d1:[]};case 8:return t.abrupt("return",{$l:n||"default",qkt:n,Rb:r,oS:0,pu:"",Vp:0,vo:S_.Tv,ku:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(lV(e))}return{Z_:t.duration,d1:n}}function lV(t){return{Dw:t.start,Z_:t.duration,Vkt:_V(t.uri)}}function _V(t){return fD(t)?{Av:t.tJ,nJ:[t.nJ.iI,t.nJ.eI],Wv:!1}:{Av:t.toString(),Wv:!1}}!function(t){t.iT="static",t.rT="dynamic"}(GH||(GH={}));var gV,wV=31536e3,yV=2592e3,mV=86400,kV=3600,pV=60,AV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,bV=function(){function t(t){this.zkt=void 0;var n=t.match(AV);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.zkt=i*wV+r*yV+e*mV+s*kV+u*pV+o}var n=t.prototype;return n.Ekt=function(){return this.zkt},n.Gkt=function(){return 1e3*this.zkt},M(t,[{key:"N3",get:function(){return Ng.ym(this.zkt,1e3)}}]),t}();!function(t){t.jkt="progressive",t.Qkt="interlaced",t.Tv="unknown"}(gV||(gV={}));var TV=function(){function t(t,n){this.Ykt=t,this.Zkt=n}return t.prototype.ly=function(){return this.Ykt/this.Zkt},t}(),EV=/^(?:true|false)$/i,SV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function RV(t){if(void 0!==t)return new bV(t)}function IV(t){if(void 0!==t){var n=t.match(SV);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(r),g=Number(e)-1,w=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=_.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,m,k,p,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function NV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[DV(n[1]),DV(n[2])]}}function CV(t){if(void 0!==t){if(!y(Number(t)))try{return qt.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function DV(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function OV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!y(i)&&!y(r))return new TV(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function xV(t){if(void 0!==t){if(EV.test(t))return"true"===t.toLowerCase();if(!y(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function PV(t){return{Av:t.Ms,Jkt:xV(t.Cs("availabilityTimeComplete")),$kt:DV(t.Cs("availabilityTimeOffset"))}}function BV(t){return t.map(PV)}function LV(t){var n,i,r,e,s,u,o=jV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Ds(r,i))&&(s=n.Cs(e+":"+i)),s),a=Ww(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Ys(a.Ms)),!u){var c=Ww(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Vs(t.Ms),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new m(s),o=new DataView(s),h=new Gu;yu(o,h,e),yu(o,h,1886614376),yu(o,h,0),vu(o,h,i),yu(o,h,r),vu(o,h,n),0;return u.buffer}(c))}return{pT:h,gkt:u,_kt:o._kt,ks:o.ks}}function MV(t){return{Kkt:t.Cs("sourceURL"),nJ:NV(t.Cs("range"))}}function UV(t,n){var i=t.Cs("d"),r=t.Cs("t"),e=DV(t.Cs("r"));n.push({Z_:i,Dw:r,tpt:e})}function FV(t){return{d9:t.Cs("index"),npt:NV(t.Cs("indexRange")),Pp:t.Cs("media"),ipt:NV(t.Cs("mediaRange"))}}function HV(t){var n,i;return ie({},WV(t),{rpt:(n=t.bs("SegmentURL"),(i=n.map(FV)).length>0?i:void 0),ept:t.Cs("xlink:href"),spt:t.Cs("xlink:actuate")})}function VV(t){var n=t.map(HV);return n.length>0?n:void 0}function XV(t){var n=xV(t.Cs("availabilityTimeComplete")),i=DV(t.Cs("availabilityTimeOffset")),r=NV(t.Cs("indexRange")),e=xV(t.Cs("indexRangeExact")),s=t.bs("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Es+" element can not have more than one Initialization element.");var u=1===s.length?MV(s[0]):void 0,o=CV(t.Cs("presentationTimeOffset")),h=t.bs("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.Es+" element can not have more than one RepresentationIndex element.");return{Jkt:n,$kt:i,npt:r,upt:e,hpt:u,apt:o,cpt:1===h.length?MV(h[0]):void 0,fpt:RV(t.Cs("timeShiftBufferDepth")),om:DV(t.Cs("timescale"))}}function WV(t){var n=XV(t),i=t.bs("BitstreamSwitching"),r=i.length>0?MV(i[0]):void 0,e=DV(t.Cs("duration")),s=t.bs("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Es+" element can not have more than one SegmentTimeline element.");return ie({},n,{vpt:r,Z_:e,Bkt:1===s.length?function(t){for(var n=[],i=t.bs("S"),r=0;r<i.length;r++)UV(i[r],n);return n}(s[0]):void 0,dpt:DV(t.Cs("startNumber")),lpt:DV(t.Cs("endNumber"))})}function qV(t){return ie({},WV(t),{_pt:t.Cs("bitstreamSwitching"),gpt:t.Cs("index"),wpt:t.Cs("initialization"),ypt:t.Cs("media")})}function zV(t){return{rwt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(DV)):1===n.length?n.map(DV)[0]:void 0}}(t.Cs("audioSamplingRate")),B$:t.Cs("codecs"),mpt:xV(t.Cs("codingDependency")),Akt:function(t){if(0!==t.length)return t.map(LV)}(t.bs("ContentProtection")),kpt:t.bs("EssentialProperty").map(QV),a0:OV(t.Cs("frameRate")),Vp:DV(t.Cs("height")),Okt:DV(t.Cs("maxPlayoutRate")),ppt:DV(t.Cs("maximumSAPPeriod")),kD:t.Cs("mimeType"),Apt:t.Cs("profiles"),bpt:t.Cs("sar"),Tpt:function(t){switch(t){case gV.jkt:case gV.Qkt:case gV.Tv:return t;default:return}}(t.Cs("scanType")),Ept:t.Cs("segmentProfiles"),Spt:DV(t.Cs("startWithSAP")),ku:DV(t.Cs("width"))}}function GV(t){var n=zV(t),i=DV(t.Cs("bandwidth")),r=BV(t.bs("BaseURL")),e=t.Cs("dependencyId"),s=t.Cs("id"),u=t.Cs("mediaStreamStructureId"),o=DV(t.Cs("qualityRanking")),h=t.bs("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?XV(h[0]):void 0,c=VV(t.bs("SegmentList")),f=t.bs("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return ie({},n,{oS:i,Rpt:r,Ipt:e,$l:s,Npt:u,Cpt:o,Dpt:a,Opt:c,xpt:1===f.length?qV(f[0]):void 0})}function jV(t){return{_kt:t.Cs("schemeIdUri"),ks:t.Cs("value")}}function QV(t){return jV(t)}function YV(t){return jV(t)}function ZV(t){return jV(t)}function JV(t){var n,i=zV(t),r=function(t){return t.map(ZV)}(t.bs("Accessibility")),e=BV(t.bs("BaseURL")),s=xV(t.Cs("bitstreamSwitching")),u=t.Cs("contentType"),o=DV(t.Cs("group")),h=DV(t.Cs("id")),a=(null==(n=t.bs("Label")[0])?void 0:n.Ms)||"",c=t.Cs("lang"),f=DV(t.Cs("maxBandwidth")),d=OV(t.Cs("maxFrameRate")),l=DV(t.Cs("maxHeight")),_=DV(t.Cs("maxWidth")),g=DV(t.Cs("minBandwidth")),w=OV(t.Cs("minFrameRate")),y=DV(t.Cs("minHeight")),m=DV(t.Cs("minWidth")),k=t.Cs("par"),p=t.bs("Representation").map(GV);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(YV)}(t.bs("Role")),b=xV(t.Cs("segmentAlignment"))||!1,T=t.bs("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var E=1===T.length?XV(T[0]):void 0,S=VV(t.bs("SegmentList")),R=t.bs("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I=1===R.length?qV(R[0]):void 0,N=DV(t.Cs("selectionPriority"));return ie({},i,{Ppt:r,Rpt:e,vpt:s,rv:u,Bpt:o,$l:h,n_:a,i_:c,Lpt:f,Mpt:d,Upt:l,Fpt:_,Hpt:g,Vpt:w,Xpt:y,Wpt:m,qpt:k,bkt:p,zpt:A,Gpt:b,Dpt:E,Opt:S,xpt:I,pR:N||1,jpt:xV(t.Cs("subsegmentAlignment"))||!1,Qpt:DV(t.Cs("subsegmentStartsWithSAP")),Ypt:t.Cs("xlink:actuate")||"onRequest",Zpt:t.Cs("xlink:href")})}function $V(t){var n=CV(t.Cs("presentationTime"))||qt.ZERO,i=CV(t.Cs("duration")),r=DV(t.Cs("id")),e=function(t){for(var n=t.Ls,i={},r=0;r<n.length;r++)i[n[r]._s]=n[r].ks;return i}(t),s=t.Ms;return{hb:n,Z_:i,$l:r,Ls:e,Us:""!==s.trim()?s:t.Cs("messageData")||""}}function KV(t){return{Zpt:t.Cs("xlink:href"),Ypt:t.Cs("xlink:actuate"),_kt:t.Cs("schemeIdUri"),ks:t.Cs("value"),om:DV(t.Cs("timescale")),apt:CV(t.Cs("presentationTimeOffset")),pD:t.bs("Event").map($V)}}function tX(t,n){var i=t.bs("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?jV(i[0]):void 0,e=t.bs("AdaptationSet").map(JV),s=BV(t.bs("BaseURL")),u=xV(t.Cs("bitstreamSwitching")),o=RV(t.Cs("duration")),h=t.bs("EventStream").map(KV),a=t.Cs("id"),c=n&&RV(n.Cs("start")),f=t.bs("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?XV(f[0]):void 0,l=VV(t.bs("SegmentBase")),_=t.bs("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?qV(_[0]):void 0,w=RV(t.Cs("start")),y=(t.bs("Subset"),t.Cs("xlink:href"));return{Dkt:e,Jpt:r,Rpt:s,vpt:u,Z_:o,$pt:h,$l:a,Kpt:c,Dpt:d,Opt:l,xpt:g,iI:w,Ypt:t.Cs("xlink:actuate"),Zpt:y}}function nX(t){var n=t.Cs("schemeIdUri");if(n)return{_kt:n,ks:t.Cs("value")}}function iX(t,n){var i=IV(t.Cs("availabilityEndTime")),r=IV(t.Cs("availabilityStartTime")),e=BV(t.bs("BaseURL")),s=t.Cs("id"),u=t.bs("Location").map(function(t){return""+t.Ms}),o=RV(t.Cs("maxSegmentDuration")),h=RV(t.Cs("maxSubsegmentDuration")),a=RV(t.Cs("mediaPresentationDuration")),c=(t.bs("Metrics"),RV(t.Cs("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=RV(t.Cs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(tX(t[i],t[i+1]));return n}(t.bs("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.Cs("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{tAt:i,nAt:r,Rpt:e,$l:s,iAt:u,rAt:n,eAt:o,sAt:h,Skt:a,uAt:c,oAt:f,Tkt:d,Apt:l,hAt:IV(t.Cs("publishTime")),aAt:RV(t.Cs("suggestedPresentationDelay")),fpt:RV(t.Cs("timeShiftBufferDepth")),vo:function(t){switch(t){case GH.iT:case GH.rT:return t;default:return}}(t.Cs("type")),cAt:function(t){for(var n=[],i=0;i<t.length;i++){var r=nX(t[i]);r&&n.push(r)}return n}(t.bs("UTCTiming"))}}var rX,eX=function(){function t(){}return t.prototype.kyt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return iX(t,n)}(T.cs(t).Fs,n)},t}(),sX=0,uX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Kl=void 0,u.gw=void 0,u.fAt=void 0,u.$l=n,u.oS=i,u.B$=r,u.tJ=s,u.Kl=sX++,u.gw=e||"",u.fAt=!0,u}return F(n,t),n.prototype.Fb=function(){this.fAt=!1,this.Wo(new wU(this.fl))},M(n,[{key:"n_",get:function(){return this.gw},set:function(t){this.gw!==t&&(this.gw=t,this.Wo(new wU(this.fl)))}},{key:"SY",get:function(){return this.fAt}}]),n}(Ts),oX=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).cl=void 0,c.a0=u,c.ku=o,c.Vp=h,c.iwt=a,c}return F(n,t),M(n,[{key:"fl",get:function(){return this.cl||(this.cl=yU(this)),this.cl}}]),n}(uX),hX=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).cl=void 0,o.rwt=u,o}return F(n,t),M(n,[{key:"fl",get:function(){return this.cl||(this.cl=mU(this)),this.cl}}]),n}(uX);!function(t){t.vAt="dAt",t.lAt="_At"}(rX||(rX={}));var aX=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).gAt=function(t){n.Wo(t)},n}return F(n,t),M(n,[{key:"wAt",get:function(){var t=this.yAt();return null==t?void 0:t.iI}},{key:"mAt",get:function(){var t=this.yAt();return null==t?void 0:t.eI}}]),n}(Ts);function cX(t){return ht(t.kAt)}var fX=function(t){function n(n,i){var r;if((r=t.call(this)||this).pAt=void 0,r.cl=void 0,r.AAt=void 0,r.bAt=void 0,r.TAt=void 0,r.pAt=n,r.AAt=i,r.AAt.qo(rX.vAt,r.gAt),r.vo===S_.Mv){var e,s,u=null!=(e=null==(s=r.a0)?void 0:s.ly())?e:NaN;r.bAt=new oX(r.$l,r.oS,r.pu,"","",u,r.ku,r.Vp)}else r.vo===S_.Lv?r.bAt=new hX(r.$l,r.oS,r.pu,"","",r.rwt):r.bAt=void 0;return r}F(n,t);var i=n.prototype;return i.Xkt=function(t){var n=cX(t)?this.AAt.EAt(t):this.AAt.Xkt(t);return{Av:n.Av,nJ:n.nJ,Wv:this.SAt.Wv}},i.RAt=function(){return this.AAt.RAt()},i.yAt=function(){return this.AAt.yAt()},i.IAt=function(){return this.AAt.IAt()},i.Mkt=function(t){return this.AAt.Mkt(t)},i.Ukt=function(t,n,i){return this.AAt.Ukt(t,this.SAt.Wv,n,i)},i.NAt=function(t){return cX(t)?this.Bkt.CAt(t):this.Bkt.NAt(t)},i.t8=function(t){return cX(t)?this.Bkt.DAt(t):this.Bkt.t8(t)},i.Gv=function(){this.AAt.Qo(rX.vAt,this.gAt)},M(n,[{key:"OAt",get:function(){return this.pAt}},{key:"rwt",get:function(){var t;return null!=(t=this.AAt.Us.rwt)?t:this.OAt.rwt}},{key:"oS",get:function(){return this.AAt.Us.oS||0}},{key:"B$",get:function(){var t=this.AAt.Us;return t.B$?[t.B$]:this.OAt.B$}},{key:"xAt",get:function(){var t=this.AAt.Us;return t.B$?[t.B$]:[]}},{key:"pu",get:function(){return this.AAt.Us.B$||this.OAt.pu}},{key:"mpt",get:function(){return this.AAt.Us.mpt||this.OAt.mpt}},{key:"Akt",get:function(){return this.AAt.Us.Akt||this.OAt.Akt}},{key:"rv",get:function(){return this.kD+'; codecs="'+this.pu+'"'}},{key:"kpt",get:function(){var t=this.AAt.Us;return t.kpt.length?t.kpt:this.OAt.kpt}},{key:"fl",get:function(){return this.cl||(this.cl=(t=this,{get id(){return t.$l},get type(){return t.vo},get bandwidth(){return t.oS},get width(){return t.ku},get height(){return t.Vp},get frameRate(){var n,i;return null!=(n=null==(i=t.a0)?void 0:i.ly())?n:NaN},get audioSamplingRate(){return t.rwt}}));var t}},{key:"a0",get:function(){var t;return null!=(t=this.AAt.Us.a0)?t:this.OAt.a0}},{key:"Vp",get:function(){return this.AAt.Us.Vp||this.OAt.Vp}},{key:"$l",get:function(){return this.AAt.Us.$l||""}},{key:"Q5",get:function(){return this.TAt},set:function(t){this.TAt=t}},{key:"A7",get:function(){var t=this.AAt.PAt();if(t)return{Av:t.Av,nJ:t.nJ,Wv:this.SAt.Wv}}},{key:"Okt",get:function(){return this.AAt.Us.Okt||this.OAt.Okt||1}},{key:"ppt",get:function(){return this.AAt.Us.ppt||this.OAt.ppt}},{key:"SAt",get:function(){return this.Wkt.SAt}},{key:"kD",get:function(){return this.AAt.Us.kD||this.OAt.kD}},{key:"Wkt",get:function(){return this.OAt.Wkt}},{key:"Apt",get:function(){return this.AAt.Us.Apt||this.OAt.Apt}},{key:"Kgt",get:function(){return this.bAt}},{key:"bpt",get:function(){return this.AAt.Us.bpt||this.OAt.bpt}},{key:"Tpt",get:function(){return this.AAt.Us.Tpt||this.OAt.Tpt}},{key:"BAt",get:function(){return this.AAt.BAt}},{key:"Ept",get:function(){return this.AAt.Us.Ept||this.OAt.Ept}},{key:"Bkt",get:function(){return this.AAt.Bkt}},{key:"Spt",get:function(){return this.AAt.Us.Spt||this.OAt.Spt}},{key:"vo",get:function(){var t=this.kD.split("/")[0];return"application"===t||"text"===t||wy(this.kD,this.B$)?S_.us:"video"===t?S_.Mv:"audio"===t?S_.Lv:"image"===t?S_.Uv:S_.Tv}},{key:"ku",get:function(){return this.AAt.Us.ku||this.OAt.ku}}]),n}(aX),vX=function(t){function n(n,i){var r;return(r=t.call(this)||this).LAt=[],r.AAt=void 0,r.MAt=void 0,r.UAt=[],r.MAt=n,r.AAt=i,r.AAt.qo(rX.vAt,r.gAt),r}F(n,t);var i=n.prototype;return i.zh=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.UAt.length){t.next=6;break}return this.UAt=[],r=this.AAt.bkt.map(function(t){return e.FAt(t,n,i)}),t.next=5,E.all(r);case 5:this.UAt=t.sent.filter(K);case 6:this.HAt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FAt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new fX(this,n),t.next=3,i(e);case 3:if(s=t.sent,as(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.HAt=function(){if(!this.UAt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.yAt=function(){return this.AAt.yAt()},i.IAt=function(){return this.AAt.IAt()},i.Gv=function(){this.AAt.Qo(rX.vAt,this.gAt);for(var t=0,n=this.UAt;t<n.length;t++){n[t].Gv()}Ke(this.UAt)},M(n,[{key:"Ppt",get:function(){return this.AAt.Us.Ppt}},{key:"rwt",get:function(){var t;return null!=(t=this.AAt.Us.rwt)?t:-1}},{key:"B$",get:function(){if(this.AAt.Us.B$)return[this.AAt.Us.B$];for(var t=[],n=0,i=this.bkt;n<i.length;n++){var r=i[n];r.xAt.length&&-1===t.indexOf(r.pu)&&t.push(r.pu)}return t}},{key:"pu",get:function(){return this.B$.join()}},{key:"mpt",get:function(){return this.AAt.Us.mpt}},{key:"Akt",get:function(){return this.AAt.Us.Akt}},{key:"rv",get:function(){return this.kD+'; codecs="'+this.pu+'"'}},{key:"kpt",get:function(){return this.LAt}},{key:"a0",get:function(){return this.AAt.Us.a0}},{key:"Bpt",get:function(){return this.AAt.Us.Bpt}},{key:"Vp",get:function(){return this.AAt.Us.Vp||0}},{key:"$l",get:function(){return this.AAt.Us.$l}},{key:"n_",get:function(){return this.AAt.Us.n_||""}},{key:"Okt",get:function(){return this.AAt.Us.Okt}},{key:"ppt",get:function(){return this.AAt.Us.ppt}},{key:"SAt",get:function(){return this.Wkt.SAt}},{key:"kD",get:function(){return this.AAt.Us.kD||this.UAt[0].kD}},{key:"Wkt",get:function(){return this.MAt}},{key:"Apt",get:function(){return this.AAt.Us.Apt}},{key:"bkt",get:function(){return this.UAt}},{key:"zpt",get:function(){return this.AAt.Us.zpt||[]}},{key:"bpt",get:function(){return this.AAt.Us.bpt}},{key:"Tpt",get:function(){return this.AAt.Us.Tpt}},{key:"Ept",get:function(){return this.AAt.Us.Ept}},{key:"pR",get:function(){return this.AAt.Us.pR}},{key:"Spt",get:function(){return this.AAt.Us.Spt}},{key:"vo",get:function(){var t=(this.AAt.Us.rv||this.kD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||wy(this.kD,this.B$)?S_.us:"video"===t?S_.Mv:"audio"===t?S_.Lv:"image"===t?S_.Uv:S_.Tv}},{key:"ku",get:function(){return this.AAt.Us.ku||0}},{key:"xkt",get:function(){return this.AAt.Us.i_||""}},{key:"VAt",get:function(){return this.wAt}},{key:"XAt",get:function(){var t=this.VAt,n=this.mAt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.SAt.WAt);return _.max(t,i)}}}]),n}(aX);function dX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(T.Vu(u,e))}return i}var lX=function(){function t(t,n){this.MAt=void 0,this.qAt=void 0,this.UQ=void 0,this.zAt=void 0,this.GAt=void 0,this.MAt=t,this.qAt=n,this.UQ=n.om,this.zAt=n.$kt,this.GAt=n.apt}var n=t.prototype;return n.jAt=function(t){var n=t-this.MAt.iI;if(!(n<0||n>=this.MAt.Z_)){var i=this.QAt();return void 0!==i&&jt(i,n,1e-5)?this.Lkt():this.YAt(n)}},n.ZAt=function(t){var n=t-this.MAt.iI;if(!(n<0))return this.JAt(_.min(n,this.MAt.Z_))},n.Lkt=function(){return this.$At(0)},n.Hkt=function(){var t=this.MAt.Z_;if(isFinite(t))return this.JAt(t)},n.RAt=function(t){if(this.MAt.KAt.vo===GH.rT){var n=this.tbt(t);if(!n)return;return{nbt:t,ibt:this.rbt(t),ebt:n}}var i=this.Lkt();if(i)return{nbt:t,ibt:i,ebt:this.Hkt()}},n.IAt=function(t,n){if(n){var i=this.sbt(n.ibt),r=this.Wlt(n.ebt);if(r){var e=this.ubt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Lkt();if(s){var u=this.ubt(s);if(t.getTime()<u.getTime())return u}var o=this.MAt.KAt.nAt;return t.getTime()<o.getTime()?o:void 0},n.tbt=function(t){var n=(t.getTime()-this.MAt.KAt.nAt.getTime())/1e3-this.MAt.iI+this.zAt,i=this.JAt(Gt(n,0,this.MAt.Z_));if(i&&(i=this.obt(i,t))){for(var r=this.Wlt(i);r&&this.hbt(r,t);)i=r,r=this.Wlt(i);return i}},n.rbt=function(t){var n,i=this.qAt.fpt;if(i){var r=(t.getTime()-this.MAt.KAt.nAt.getTime())/1e3-this.MAt.iI-i.Ekt();(n=this.JAt(Gt(r,0,this.MAt.Z_)))||(n=this.Lkt())}else n=this.Lkt();if(n&&(n=this.obt(n,t))){for(var e=this.abt(n);e&&this.hbt(e,t);)n=e,e=this.abt(n);return n}},n.obt=function(t,n){for(var i=t;i&&this.ubt(i).getTime()>n.getTime();)i=this.abt(i);if(i){var r=this.sbt(i);if(r&&r.getTime()<=n.getTime()){var e=this.abt(i);for(e&&this.hbt(e,n)&&(i=e);i;){if(this.ubt(i).getTime()>n.getTime())return;if(this.hbt(i,n))break;i=this.Wlt(i)}if(!i)return}return i}},n.hbt=function(t,n){if(this.ubt(t).getTime()>n.getTime())return!1;var i=this.sbt(t);return!(i&&n.getTime()>=i.getTime())},n.cbt=function(t,n){if(this.fbt(t).getTime()>n.getTime())return!1;var i=this.sbt(t);return!(i&&n.getTime()>=i.getTime())},n.vbt=function(t,n,i){var r=rn(n,this.UQ)+this.MAt.iI;return{d9:t,dbt:n,Dw:r,Z_:i,Ow:r+i}},n.fbt=function(t){return this.MAt.KAt.vo===GH.rT?new Date(this.MAt.KAt.nAt.getTime()+1e3*(t.Dw+t.Z_)):this.MAt.KAt.nAt},n.ubt=function(t){var n=this.fbt(t);return this.MAt.KAt.vo===GH.rT?new Date(n.getTime()-1e3*this.zAt):n},n.sbt=function(t){var n=1/0;if(this.MAt.KAt.vo===GH.rT){var i=this.qAt.fpt;i&&(n=this.fbt(t).getTime()+1e3*t.Z_+i.Gkt())}var r=this.MAt.KAt.tAt;return r&&(n=_.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.lbt=function(t,n){return t.d9+n},n.Mkt=function(t){return!1},n.Ukt=function(t,n,i,r,e){var s=this._bt(t);if(!s)return E.reject(new v("Invalid segment"));var u=this.gbt(s.d9);return u?E.resolve(u):this.wbt(s.d9,n,i,r,e)},n.gbt=function(t){},n.wbt=function(t,n,i,r,e){return E.reject(new v("Not supported"))},n.abt=function(t){var n=this._bt(t);if(n)return this.$At(n.d9-1)},n.Wlt=function(t){var n=this._bt(t);if(n)return this.$At(n.d9+1)},n._bt=function(t){var n=this.$At(t.d9);if(n&&n.Dw===t.Dw)return n;var i=this.jAt(t.Dw);return i&&i.Dw===t.Dw?i:void 0},n.ybt=function(t){var n=this.mbt(t);if(n&&this.Mkt(n.d9)){var i=this.gbt(n.d9);if(i)return i.ybt(t)}},n.mbt=function(t){return this.$At(t.kbt)},n.NAt=function(t){var n=this._bt(t);return!!n&&0===n.d9},n.CAt=function(t){var n=this.ybt(t);return!!n&&0===n.kAt},n.t8=function(t){var n=this._bt(t);if(!n)return!1;var i=this.Hkt();return!!i&&n.d9===i.d9},n.DAt=function(t){var n=this.ybt(t);if(!n)return!1;var i=this.Hkt();if(!i||n.kbt!==i.d9)return!1;var r=this.gbt(n.kbt);return n.kAt+1===r.Xl},M(t,[{key:"Um",get:function(){return rn(this.GAt,this.UQ)-this.MAt.iI}},{key:"apt",get:function(){return rn(this.GAt,this.UQ)}}]),t}(),_X=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).pbt=void 0,r.Abt=void 0;var e=n.bbt,s=n.Z_;if(void 0===e||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.Abt=e,r.pbt=s,r}F(n,t);var i=n.prototype;return i.$At=function(t){if(!(t<0)){var n=this.Abt.multiply(t),i=rn(n,this.UQ),r=this.MAt.Z_;if(!(i>=r)){var e=this.Tbt();if(void 0!==e){if(t>e)return;if(t===e)return this.vbt(t,n,r-i)}return isFinite(r)&&i+this.pbt>r?this.vbt(t,n,r-i):this.vbt(t,n,this.pbt)}}},i.QAt=function(){return 0},i.YAt=function(t){var n=_.floor(t/this.pbt),i=this.Tbt();return void 0!==i&&n>=i?this.$At(i):this.$At(n)},i.JAt=function(t){if(t>=this.MAt.Z_){var n=_.ceil(this.MAt.Z_/this.pbt)-1,i=this.Tbt();return void 0!==i&&n>=i?this.$At(i):this.$At(n)}return this.YAt(t)},i.Tbt=function(){var t,n=this.qAt.lpt;if(void 0!==n)return n-(null!=(t=this.qAt.dpt)?t:1);if(isFinite(this.MAt.Z_)){var i=this.qAt.Ebt;if(void 0!==i&&i>0)return i-1}},i.Sbt=function(){if(isFinite(this.MAt.Z_))return this.Hkt()},i.Rbt=function(t,n){return this.Abt.multiply(t.d9+(n-1))},i.zh=function(){},n}(lX);function gX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].Dw,u=t[e].Ow;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.Dw,c=o+1<i?t[o+1].Dw:h.Ow;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var wX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Ibt=[],r.Nbt=void 0,r.Cbt=qt.ZERO,r.zh(),r}F(n,t);var i=n.prototype;return i.$At=function(t){if(!(t<0))return t<this.Ibt.length?this.Ibt[t].Mlt:this.Dbt(t-this.Ibt.length)},i.QAt=function(){if(this.Ibt.length>0)return rn(this.Ibt[0].Dw,this.UQ)},i.YAt=function(t){if(this.Nbt&&rn(this.Nbt.Dw,this.UQ)<=t){var n=rn(this.Nbt.Dw,this.UQ),i=rn(this.Nbt.Z_,this.UQ),r=_.floor((t-n)/i);return this.Dbt(r)}if(this.Ibt.length>0&&jt(t,rn(this.Ibt[0].Dw,this.UQ),1e-5))return this.Ibt[0].Mlt;var e=gX(this.Ibt,qt.fromNumber(t*this.UQ));return e<0?void 0:this.Ibt[e].Mlt},i.JAt=function(t){if(!this.Nbt&&this.Ibt.length>0){var n=this.Ibt[this.Ibt.length-1];if(i=t,r=rn(n.Ow,this.UQ),gg(i,r,1e-5)>=0)return n.Mlt}var i,r,e=this.QAt();return e&&t<e?this.Ibt[0].Mlt:this.YAt(t)},i.Sbt=function(){return isFinite(this.MAt.Z_)?this.Hkt():this.$At(this.Ibt.length-1)},i.Rbt=function(t){return this.Obt(t)},i.Dbt=function(t){if(this.Nbt){var n=this.Nbt.Dw,i=this.Nbt.Z_,r=n.add(i.multiply(t)),e=rn(r,this.UQ),s=this.MAt.Z_;if(!(e>=s)){var u=this.Ibt.length+t,o=_.min(rn(i,this.UQ),e+s);return this.vbt(u,r,o)}}},i.Obt=function(t){return t.dbt.add(this.GAt)},i.zh=function(){var t=this.qAt.Us.Bkt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.xbt(t)},i.xbt=function(t){var n=this.GAt;this.Pbt(t,n);var i=this.Bbt(t);this.Lbt(t,n,i.Mbt,i.kbt)},i.Pbt=function(t,n){var i=this.Ibt;if(0===t.length)Ke(i);else{for(var r=t[0],e=r.Dw?qt.fromString(r.Dw,!1).subtract(n):qt.ZERO,s=0;s<i.length&&i[s].Dw.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.Bbt=function(t){for(var n=this.Ibt,i=this.Cbt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].tpt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].Dw.greaterThanOrEqual(i))break;if(n[e].Mlt.d9===e)e=u+1;else for(;e<=u;)n[e].Mlt.d9=e,e++;0,r++}return{Mbt:r,kbt:e}},i.Lbt=function(t,n,i,r){for(var e,s=this.Ibt,u=i,o=r;u<t.length;){var h=t[u],a=qt.fromString(h.Z_,!1),c=h.tpt||0,f=void 0;if(h.Dw){if(f=qt.fromString(h.Dw,!1).subtract(n),o>0){var v=s[o-1];v.Ow.greaterThan(f)&&(v.Z_=f.subtract(v.Dw),v.Ow=v.Dw.add(v.Z_))}}else f=o>0?s[o-1].Ow:qt.ZERO;if(c<0){if(u+1===t.length){e={Dw:f,Z_:a};break}for(var d=qt.fromString(t[u+1].Dw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Ubt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Ubt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Cbt=s[s.length-1].Dw),this.Nbt=e},i.Ubt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.Z_.equals(r)?s.Mlt.d9=n:t[n]={Dw:i,Z_:r,Ow:e,Mlt:this.vbt(n,i,rn(r,this.UQ))}}else t.push({Dw:i,Z_:r,Ow:e,Mlt:this.vbt(n,i,rn(r,this.UQ))})},n}(lX),yX=function(){function t(t,n,i){this.Wkt=void 0,this.Fbt=void 0,this.nr=void 0,this.Hbt=void 0,this.Vbt=void 0,this.Wkt=t,this.Fbt=n,this.nr=i}var n=t.prototype;return n.Xbt=function(){if(this.Vbt=this.Wbt(),this.Vbt)return this.Vbt;if(this.Fbt)return this.Fbt.Bkt;throw new v("Missing media segment information.")},n.PAt=function(t){var n=this.hpt;if(n)return{Av:(void 0!==n.Kkt?T.Vu(n.Kkt,t.Rpt[0]):t.Rpt[0]).href,nJ:n.nJ};var i=this.npt;return i?{Av:t.Rpt[0].href,nJ:[0,i[0]-1]}:void 0},n.zh=function(t){this.nr=t,this.Vbt&&this.Vbt.zh()},M(t,[{key:"Us",get:function(){return this.nr}},{key:"$kt",get:function(){return this.nr&&void 0!==this.nr.$kt?this.nr.$kt:this.Fbt?this.Fbt.$kt:0}},{key:"apt",get:function(){return this.nr&&void 0!==this.nr.apt?this.nr.apt:this.Fbt?this.Fbt.apt:qt.ZERO}},{key:"fpt",get:function(){return this.nr&&void 0!==this.nr.fpt?this.nr.fpt:this.Fbt?this.Fbt.fpt:this.Wkt.KAt.fpt}},{key:"om",get:function(){return this.nr&&void 0!==this.nr.om?this.nr.om:this.Fbt&&this.Fbt.om?this.Fbt.om:1}},{key:"npt",get:function(){return this.nr&&void 0!==this.nr.npt?this.nr.npt:this.Fbt?this.Fbt.npt:void 0}},{key:"hpt",get:function(){return this.nr&&void 0!==this.nr.hpt?this.nr.hpt:this.Fbt?this.Fbt.hpt:void 0}},{key:"Bkt",get:function(){return this.Hbt||(this.Hbt=this.Xbt()),this.Hbt}}]),t}(),mX=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Wbt=function(){return this.nr.Bkt?new wX(this,this.Wkt):void 0!==this.nr.Z_?new _X(this,this.Wkt):void 0},M(n,[{key:"Z_",get:function(){return void 0!==this.nr.Z_?this.nr.Z_/this.om:this.Fbt&&this.Fbt instanceof n?this.Fbt.Z_:void 0}},{key:"bbt",get:function(){return void 0!==this.nr.Z_?qt.fromNumber(this.nr.Z_):this.Fbt&&this.Fbt instanceof n?this.Fbt.bbt:void 0}},{key:"dpt",get:function(){return void 0!==this.nr.dpt?this.nr.dpt:this.Fbt&&this.Fbt instanceof n?this.Fbt.dpt:void 0}},{key:"lpt",get:function(){return void 0!==this.nr.lpt?this.nr.lpt:this.Fbt&&this.Fbt instanceof n?this.Fbt.lpt:void 0}}]),n}(yX),kX=function(){function t(t){this.qbt=void 0,this.qbt=t}return t.prototype.Rh=function(t){return this.qbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=Be(u,Number(r),"0")})},t}();var pX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).zbt=void 0,e.Gbt=void 0,e.zbt=r.wpt?new kX(r.wpt):void 0,e.Gbt=r.ypt?new kX(r.ypt):void 0,e}F(n,t);var i=n.prototype;return i.PAt=function(n){var i=this.wpt;if(!i)return t.prototype.PAt.call(this,n);var r=i.Rh({Bandwidth:n.Us.oS,RepresentationID:n.Us.$l});return{Av:T.Xu(r,n.Rpt[0])}},i.Xkt=function(t,n){var i,r=null!=(i=n.BAt.dpt)?i:1,e=this.ypt.Rh({Bandwidth:n.Us.oS,Number:n.Bkt.lbt(t,r),RepresentationID:n.Us.$l,Time:n.Bkt.Rbt(t,r)});return{Av:T.Xu(e,n.Rpt[0])}},i.EAt=function(t,n){},M(n,[{key:"wpt",get:function(){return this.zbt?this.zbt:this.Fbt&&this.Fbt instanceof n?this.Fbt.wpt:void 0}},{key:"ypt",get:function(){return this.Gbt?this.Gbt:this.Fbt&&this.Fbt instanceof n?this.Fbt.ypt:void 0}},{key:"Ebt",get:function(){}}]),n}(mX),AX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Xkt=function(t,n){var i=this.nr.rpt[t.d9],r=n.Rpt[0];return{Av:(i.Pp?T.Vu(i.Pp,r):r).href,nJ:i.ipt}},i.EAt=function(t,n){},M(n,[{key:"Ebt",get:function(){return void 0!==this.nr.rpt?this.nr.rpt.length:this.Fbt&&this.Fbt instanceof mX?this.Fbt.Ebt:void 0}}]),n}(mX),bX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).kbt=void 0,u.jbt=void 0,u.om=void 0,u.Qbt=void 0,u.apt=void 0,u.Ybt=void 0,u.kbt=n,u.jbt=i,u.om=r.om,u.Qbt=e,u.apt=s,u.Ybt=u.Zbt(r),u}F(n,t);var i=n.prototype;return i.Fkt=function(t){if(t>=0&&t<this.Xl)return this.Jbt(this.Ybt[t])},i.$bt=function(t){var n=this.Kbt(t);if(this.Ybt.length>0){var i=this.Ybt[0];if(n<=rn(i.Dw,this.om))return this.Jbt(i)}var r=gX(this.Ybt,qt.fromNumber(n*this.om));if(!(r<0))return this.Jbt(this.Ybt[r])},i.tTt=function(t){var n=this.Kbt(t);if(this.Ybt.length>0){var i=this.Ybt[this.Ybt.length-1];if(n>=rn(i.Ow,this.om))return this.Jbt(i)}return this.$bt(t)},i.Jbt=function(t){var n=rn(t.Dw,this.om)-this.apt,i=n+this.Qbt,r=rn(t.Z_,this.om);return{kbt:this.kbt,kAt:t.d9,Dw:i,dbt:qt.fromNumber(n*this.om),Z_:r,Ow:i+r,nTt:[this.jbt+t.jbt,this.jbt+t.iTt]}},i.Zbt=function(t){for(var n=[],i=t.Tb,r=t.Eb.toNumber(),e=0,s=0,u=t.Rb;s<u.length;s++){var o=u[s],h=o.mb,a=qt.fromNumber(o.Z_),c=i.add(a);0===o.yb&&n.push({d9:e++,Dw:i,Z_:a,Ow:c,jbt:r,iTt:r+h-1}),r+=h,i=c}return n},i.Kbt=function(t){return t-this.Qbt+this.apt},M(n,[{key:"Xl",get:function(){return this.Ybt.length}}]),n}(function(){function t(){}return t.prototype.ybt=function(t){var n=this.Fkt(t.kAt);if(n&&n.Dw===t.Dw)return n;var i=this.$bt(t.Dw);return i&&i.Dw===t.Dw?i:void 0},t}()),TX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).rTt=void 0,r.mlt=void 0,r.eTt=void 0,r.rTt=n.npt,r.mlt=r.vbt(0,qt.ZERO,r.MAt.Z_),r}F(n,t);var i=n.prototype;return i.$At=function(t){if(0===t)return this.mlt},i.QAt=function(){return 0},i.YAt=function(t){return this.mlt},i.JAt=function(t){return this.YAt(t)},i.Sbt=function(){return this.mlt},i.Rbt=function(t,n){return qt.ZERO},i.RAt=function(t){var n=this.sTt(t);return n&&{nbt:t,ibt:n,ebt:n}},i.sTt=function(t){var n=this.mlt;return this.hbt(n,t)?n:void 0},i.tbt=function(t){return this.sTt(t)},i.rbt=function(t){return this.sTt(t)},i.zh=function(){},i.Mkt=function(t){return 0===t&&void 0!==this.rTt},i.gbt=function(t){return this.eTt},i.wbt=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e,s){var u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.Rpt[0].href,o=this.rTt,t.next=4,e.uTt(u,o,r,s);case 4:return h=t.sent,this.eTt=this.oTt(n,h),t.abrupt("return",this.eTt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.oTt=function(t,n){var i=this.rTt,r=xw.tp(new DataView(n),new Gu);if(r.vo!==Wg.Sk)throw new v("Invalid segment index");var e=Uw.kp(r.Us),s=i[1]+1;return new bX(t,s,e,this.MAt.iI,rn(this.GAt,this.UQ))},n}(lX),EX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Xkt=function(t,n){return{Av:n.Rpt[0].href}},i.EAt=function(t,n){return{Av:n.Rpt[0].href,nJ:t.nTt}},i.Wbt=function(){return new TX(this,this.Wkt)},M(n,[{key:"dpt",get:function(){}}]),n}(yX),SX=function(t){function n(){return t.call(this,rX.vAt)||this}return F(n,t),n}(Ss);var RX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.hTt=void 0,e.qAt=void 0,e.aTt=1/0,e.cTt=void 0,e.an=i,e.fTt(n,r),e}F(n,t);var i=n.prototype;return i.vTt=function(){return this.qAt||this.an&&this.an.vTt()},i.dTt=function(t){var n=this.Wkt,i=this.an&&this.an.vTt();this.nr.xpt?this.qAt=new pX(n,i,this.nr.xpt):this.nr.Opt?this.qAt=new AX(n,i,this.nr.Opt[0]):this.nr.Dpt?this.qAt=new EX(n,i,this.nr.Dpt):t&&!i&&(this.qAt=new EX(n,i,void 0))},i.fTt=function(t,n){this.nr=t,this.hTt=t.Rpt&&t.Rpt.length>0?dX(t.Rpt.map(function(t){return t.Av}),n):n.slice(),this.qAt&&(t.xpt?this.qAt.zh(t.xpt):t.Opt?this.qAt.zh(t.Opt[0]):t.Dpt&&this.qAt.zh(t.Dpt))},i.yAt=function(){var t;return null==(t=this.cTt)?void 0:t.lTt},i.IAt=function(){var t;return null==(t=this.cTt)?void 0:t._Tt},i.gTt=function(t){var n=this.aTt,i=this.Wkt.Z_,r=this.cTt,e=this.wTt(t);r&&jt(i,n,1e-5)&&DX(r,e)||(this.aTt=i,this.cTt=e,this.Wo(new SX))},i.No=function(){this.jo()},M(n,[{key:"Us",get:function(){return this.nr}},{key:"Rpt",get:function(){return this.hTt}}]),n}(Ts);function IX(t){for(var n,i=0;i<t.length;i++){var r=t[i].yAt();if(r){n=r.iI;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].yAt();if(u){e=u.eI;break}}if(void 0!==e)return{iI:n,eI:e}}}function NX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].yAt();if(!e)return;if((n=_.max(n,e.iI))>=(i=_.min(i,e.eI)))return}return{iI:n,eI:i}}}function CX(t){for(var n,i=0;i<t.length;i++){var r=t[i].IAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function DX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t._Tt,n._Tt)&&function(t,n){return t&&n?jt(t.iI,n.iI,1e-5)&&jt(t.eI,n.eI,1e-5):t===n}(t.lTt,n.lTt)}var OX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).MAt=void 0,e._w=void 0,e.yTt=void 0,e.MAt=n,e._w=i,e.yTt=r.slice();for(var s=0;s<r.length;s++){r[s].qo(rX.vAt,e.gAt)}return e}F(n,t);var i=n.prototype;return i.yAt=function(){return NX(this.yTt)},i.IAt=function(){for(var t,n=0,i=this.yTt;n<i.length;n++){var r=i[n].IAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Gv=function(){this.jo();for(var t=0,n=this.yTt;t<n.length;t++){n[t].Qo(rX.vAt,this.gAt)}},M(n,[{key:"Dkt",get:function(){return this.yTt}},{key:"B$",get:function(){return this.Dkt.reduce(function(t,n){for(var i=0,r=n.B$;i<r.length;i++){var e=r[i];$e(t,e)||t.push(e)}return t},[])}},{key:"pu",get:function(){return this.B$.length>0?this.B$[0]:""}},{key:"vo",get:function(){return this.yTt[0].vo}},{key:"$l",get:function(){return this._w}},{key:"SAt",get:function(){return this.MAt.SAt}},{key:"kD",get:function(){return this.yTt[0].kD}},{key:"Wkt",get:function(){return this.MAt}},{key:"bkt",get:function(){return ns(this.Dkt,function(t){return t.bkt})}}]),n}(aX),xX=function(t){function n(){return t.call(this,rX.lAt)||this}return F(n,t),n}(Ss);function PX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Bpt;void 0===s||(e=Qe(n,function(t){return t.$l===s})),e||(e={$l:s,Dkt:[]},n.push(e)),e.Dkt.push(r)},r=0;r<t.length;r++)i(r);return n}var BX,LX=function(t){function n(n,i){var r;return(r=t.call(this)||this).AAt=void 0,r.yTt=[],r.mTt=[],r.kTt=void 0,r.pTt=!1,r.kTt=n,r.AAt=i,r.AAt.qo(rX.vAt,r.gAt),r}F(n,t);var i=n.prototype;return i.ATt=function(t,n){if(0!==this.mTt.length){for(var i=t,r=0,e=this.mTt;r<e.length;r++){var s=e[r],u=s.vo;if(u===S_.Lv||u===S_.Mv){var o=s.mAt;if(void 0===o)return;i=n(i,o)}}return i}},i.bTt=function(){this.pTt||(this.pTt=!0,this.Wo(new xX),this.Gv())},i.zh=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.yTt.length){t.next=7;break}return t.next=3,this.TTt(this.AAt.Dkt,n,i);case 3:this.ETt(this.yTt),as(i),t.next=9;break;case 7:return t.next=9,this.STt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TTt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new vX(this,s),t.prev=4,t.next=7,u.zh(i,r);case 7:this.yTt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),cs(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ETt=function(t){for(var n=PX(t),i=0;i<n.length;i++){var r=n[i],e=new OX(this,r.$l,r.Dkt);this.mTt.push(e)}},i.STt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.yTt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.zh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yAt=function(){return this.AAt.yAt()},i.IAt=function(){return this.AAt.IAt()},i.Gv=function(){this.jo(),this.AAt.Qo(rX.vAt,this.gAt);for(var t=0,n=this.mTt;t<n.length;t++){n[t].Gv()}for(var i=0,r=this.yTt;i<r.length;i++){r[i].Gv()}Ke(this.yTt),Ke(this.mTt)},M(n,[{key:"Dkt",get:function(){return this.yTt}},{key:"Nkt",get:function(){return this.mTt}},{key:"Jpt",get:function(){return this.AAt.Us.Jpt}},{key:"Z_",get:function(){return this.AAt.Z_}},{key:"eI",get:function(){return this.iI+this.Z_}},{key:"$pt",get:function(){return this.AAt.Us.$pt||[]}},{key:"$l",get:function(){return this.AAt.$l}},{key:"_At",get:function(){return this.pTt}},{key:"SAt",get:function(){return this.kTt}},{key:"RTt",get:function(){return this.kTt.ITt(this)}},{key:"Wkt",get:function(){return this}},{key:"NTt",get:function(){return this.kTt.CTt(this)}},{key:"DTt",get:function(){return this.ATt(1/0,_.min)}},{key:"OTt",get:function(){return this.ATt(0,_.max)}},{key:"iI",get:function(){return this.AAt.iI}},{key:"Wv",get:function(){return this.SAt.Wv}}]),n}(aX),MX=function(t){function n(){return t.call(this,Yo.dc)||this}return F(n,t),n}(Ss);!function(t){t.xTt="PTt"}(BX||(BX={}));var UX=function(t){function n(){return t.call(this,BX.xTt)||this}return F(n,t),n}(Ss),FX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Rpt)||this).pAt=void 0,r.BTt=void 0,r.pAt=i,r.dTt(!0),r}F(n,t);var i=n.prototype;return i.Mkt=function(t){return!!so(this.kD)&&this.Bkt.Mkt(t.d9)},i.Ukt=function(t,n,i,r){return this.Bkt.Ukt(t,this,n,i,r)},i.PAt=function(){return this.BAt.PAt(this)},i.Xkt=function(t){return this.BAt.Xkt(t,this)},i.EAt=function(t){return this.BAt.EAt(t,this)},i.RAt=function(){return this.BTt},i.wTt=function(t){var n=this.Bkt,i=n.RAt(t),r=i&&function(t,n){var i,r=t.ibt,e=t.ebt,s=t.nbt,u=r.Dw,o=n.fbt(e);if(o.getTime()<=s.getTime())i=e.Ow;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(e.Z_-h,0);i=e.Dw+a}return{iI:u,eI:i}}(i,n),e=this.Bkt.IAt(t,i);return this.BTt=i,{nbt:t,lTt:r,_Tt:e}},i.zh=function(t){this.fTt(t,this.pAt.Rpt)},M(n,[{key:"OAt",get:function(){return this.pAt}},{key:"Wkt",get:function(){return this.pAt.Wkt}},{key:"KAt",get:function(){return this.pAt.KAt}},{key:"kD",get:function(){return this.nr.kD||this.pAt.kD}},{key:"BAt",get:function(){return this.vTt()}},{key:"Bkt",get:function(){return this.BAt.Bkt}}]),n}(RX),HX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Rpt)||this).MAt=void 0,r.UAt=void 0,r.MAt=i,r.dTt(!1),r.UAt=n.bkt.map(function(t){return new FX(t,un(r))}),r}F(n,t);var i=n.prototype;return i.zh=function(t){this.fTt(t,this.MAt.Rpt);var n=t.bkt||[];if(this.UAt.length!==n.length)throw new v("Expected "+this.UAt.length+' representations in adaptation set "'+t.$l+'", found '+n.length);for(var i=0;i<n.length;i++)this.UAt[i].zh(n[i])},i.gTt=function(n){for(var i=0,r=this.UAt;i<r.length;i++){r[i].gTt(n)}t.prototype.gTt.call(this,n)},i.wTt=function(t){return{nbt:t,lTt:NX(this.UAt),_Tt:CX(this.UAt)}},i.No=function(){for(var n=0,i=this.UAt;n<i.length;n++){i[n].No()}t.prototype.No.call(this)},M(n,[{key:"bkt",get:function(){return this.UAt}},{key:"Wkt",get:function(){return this.MAt}},{key:"KAt",get:function(){return this.MAt.KAt}},{key:"Bpt",get:function(){return this.nr.Bpt}},{key:"kD",get:function(){var t;return this.nr.kD||(null==(t=this.UAt[0])?void 0:t.Us.kD)||""}}]),n}(RX),VX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.Rpt)||this).LTt=void 0,s.xb=void 0,s.dH=void 0,s.yTt=void 0,s.mTt=[],s.LTt=n,s.xb=r,s.dH=e,s.dTt(!1),s.yTt=(i.Dkt||[]).map(function(t){return new HX(t,un(s))}),s.mTt=PX(s.yTt),s}F(n,t);var i=n.prototype;return i.zh=function(t,n){this.fTt(t,this.LTt.Rpt),this.dH=n;var i=t.Dkt||[];if(this.yTt.length!==i.length)throw new v("Expected "+this.yTt.length+' adaptation sets in period "'+t.$l+'", found '+i.length);for(var r=0;r<i.length;r++)this.yTt[r].zh(i[r])},i.gTt=function(n){for(var i=0,r=this.yTt;i<r.length;i++){r[i].gTt(n)}t.prototype.gTt.call(this,n)},i.wTt=function(t){return{nbt:t,lTt:NX(this.yTt),_Tt:CX(this.yTt)}},i.No=function(){for(var n=0,i=this.yTt;n<i.length;n++){i[n].No()}t.prototype.No.call(this)},M(n,[{key:"Dkt",get:function(){return this.yTt}},{key:"Nkt",get:function(){return this.mTt}},{key:"Wkt",get:function(){return this}},{key:"KAt",get:function(){return this.LTt}},{key:"$l",get:function(){return this.nr.$l}},{key:"iI",get:function(){return this.xb}},{key:"Z_",get:function(){return this.dH}}]),n}(RX),XX=new Date("2000-01-01"),WX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.MTt=void 0,s.UTt=void 0,s.IV=void 0,s.FTt=void 0,s.cTt=void 0,s.hTt=void 0,s.HTt=void 0,s.VTt=void 0,s.XTt=void 0,s.WTt=[],s.MTt=i,s.zh(n,r,e),n.vo===GH.rT){var u=s.Sbt();u&&u.tAt&&u.tAt.getTime()<XX.getTime()&&(s.XTt=new Date(s.hAt.getTime()-1e3*(u.Mlt.Dw+u.Mlt.Z_)),s.gTt(e))}return s}F(n,t);var i=n.prototype;return i.yAt=function(){var t;return null==(t=this.cTt)?void 0:t.lTt},i.IAt=function(){var t;return null==(t=this.cTt)?void 0:t._Tt},i.zh=function(t,n,i,r){var e;this.nr=t,this.UTt=n,this.FTt=null!=r?r:i,this.IV=i;var s,u=[(s=n,T.Vu(".",s))];this.hTt=t.Rpt&&t.Rpt.length>0?dX(t.Rpt.map(function(t){return t.Av}),u):u,this.HTt=t.iAt&&t.iAt.length>0?dX(t.iAt,this.hTt):[];var o=this.HTt.map(function(t){return t.href}),h=n.href;$e(o,h)||(this.HTt.push(n),o.push(h));var a=this.MTt.href;$e(o,a)||(this.HTt.push(this.MTt),o.push(a)),this.VTt=null==(e=t.Skt)?void 0:e.Ekt();var c=t.vo===GH.rT,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.iI)u=s.iI.Ekt();else if(e>0&&t[e-1].Z_){var o=r[e-1],h=t[e-1].Z_.Ekt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Us:t[c],iI:r[c],Z_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.Z_?v.Z_.Ekt():i-d),a.push({Us:v,iI:d,Z_:l})}return a}(t.Tkt,c,this.VTt);this.qTt(f),this.gTt(i)},i.qTt=function(t){var n=this.WTt;if(0!==t.length){for(var i=t[0].Us.$l,r=0;r<n.length&&n[r].$l!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].No()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.zh(o.Us,o.Z_)}else n.push(new VX(this,o.Us,o.iI,o.Z_))}}else Ke(n)},i.gTt=function(t){for(var n=0,i=this.WTt;n<i.length;n++){i[n].gTt(t)}var r=this.cTt,e=this.wTt(t);r&&DX(r,e)||(this.cTt=e,this.Wo(new SX))},i.wTt=function(t){return{nbt:t,lTt:IX(this.WTt),_Tt:CX(this.WTt)}},i.Sbt=function(){if(0!==this.WTt.length){var t=this.WTt[this.WTt.length-1];if(!isFinite(t.Z_)&&0!==t.Dkt.length){var n=t.Dkt[0];if(0!==n.bkt.length){var i=n.bkt[0].Bkt,r=i.Sbt();if(r)return{Mlt:r,tAt:i.sbt(r)}}}}},i.No=function(){this.jo();for(var t=0,n=this.WTt;t<n.length;t++){n[t].No()}},M(n,[{key:"Us",get:function(){return this.nr}},{key:"vo",get:function(){return this.nr.vo||GH.iT}},{key:"nAt",get:function(){return this.XTt||this.nr.nAt||this.hAt}},{key:"tAt",get:function(){return this.nr.tAt}},{key:"Skt",get:function(){return this.VTt}},{key:"Rpt",get:function(){return this.hTt}},{key:"iAt",get:function(){return this.HTt}},{key:"Tkt",get:function(){return this.WTt}},{key:"hAt",get:function(){return this.nr.hAt||this.IV}},{key:"fpt",get:function(){return this.nr.fpt}},{key:"zTt",get:function(){return this.FTt}},{key:"GTt",get:function(){return this.IV}}]),n}(Ts);var qX=function(){function t(t,n,i){this.jTt=0,this.Qb=t,this.QTt=n,this.YTt=i}var n=t.prototype;return n.Xx=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ZTt(n,this.Qb,this.QTt,this.YTt).catch(fs);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JTt=function(){return new Date($t()+this.jTt)},n.ZTt=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.$Tt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}as(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.KTt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.jTt=void 0===s?0:s-$t();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.KTt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i._kt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.ks)){t.next=9;break}return t.next=8,this.$Tt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.ks)){t.next=15;break}if(o=new Date(u).getTime(),y(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.$Tt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.kv({Av:i,Fv:Sf.GET,wv:Zo.us,Uo:r});case 3:return e=t.sent,t.next=6,e.$f();case 6:if(s=t.sent,u=new Date(s).getTime(),y(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),cs(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),zX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).tEt=void 0,s.AAt=void 0,s.nEt=void 0,s.HJ=!0,s.WTt=[],s.iEt=void 0,s.rEt=void 0,s.eEt=void 0,s.Qb=void 0,s.sEt=void 0,s.iEt=n,s.nEt=n.g_,s.rEt=i,s.Qb=r,s.tEt=e,s.sEt=new qX(s.Qb,s.tEt,s.iEt.uEt),s}F(n,t);var i=n.prototype;return i.uht=function(t){var n=this.uw;this.HJ=t,n!==this.uw&&this.Wo(new UX)},i.zh=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.rAt?T.Vu(n.rAt,this.nEt):this.nEt,void 0!==this.AAt){t.next=10;break}return t.next=6,this.sEt.Xx(n.cAt);case 6:this.AAt=new WX(n,this.nEt,o,this.JTt()),this.AAt.qo(rX.vAt,this.Xo),t.next=11;break;case 10:this.AAt.zh(n,o,this.JTt(),i);case 11:if(0===(h=this.AAt.Tkt).length)a=this.WTt.slice(),Ke(this.WTt);else{for(c=h[0].$l,f=0;f<this.WTt.length&&this.WTt[f].$l!==c;)f++;for(a=this.WTt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.WTt.length?l=this.WTt[v]:(l=new LX(this,d),s.push(l)),u.push(l.zh(this.rEt,r))}return t.next=15,E.all(u);case 15:for((e=this.WTt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].bTt();this.Wo(new MX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.JTt=function(){return this.sEt.JTt()},i.CTt=function(t){var n=this.WTt.indexOf(t);if(n>0)return this.WTt[n-1]},i.ITt=function(t){var n=this.WTt.indexOf(t);if(n>=0&&n+1<this.WTt.length)return this.WTt[n+1]},i.yAt=function(){return this.AAt?this.AAt.yAt():void 0},i.IAt=function(){return this.AAt&&this.AAt.IAt()},i.gTt=function(t){this.AAt&&this.AAt.gTt(t)},i.Gv=function(){this.jo(),this.eEt=void 0,this.uht(!1);for(var t=0,n=this.WTt;t<n.length;t++){n[t].Gv()}Ke(this.WTt),this.AAt&&this.AAt.No()},M(n,[{key:"tAt",get:function(){return this.AAt&&this.AAt.tAt}},{key:"nAt",get:function(){return this.AAt&&this.AAt.nAt}},{key:"$l",get:function(){return this.AAt&&this.AAt.Us.$l}},{key:"zTt",get:function(){var t;return null==(t=this.AAt)?void 0:t.zTt}},{key:"oEt",get:function(){var t;return null==(t=this.AAt)?void 0:t.GTt}},{key:"iAt",get:function(){return this.AAt?this.AAt.iAt.map(function(t){return t.href}):[this.Ikt]}},{key:"Ikt",get:function(){return this.nEt.href}},{key:"eAt",get:function(){return this.AAt&&this.AAt.Us.eAt}},{key:"sAt",get:function(){return this.AAt&&this.AAt.Us.sAt}},{key:"Skt",get:function(){return this.AAt&&this.AAt.Us.Skt}},{key:"uAt",get:function(){return this.AAt&&this.AAt.Us.uAt}},{key:"oAt",get:function(){var t,n,i=(null==(t=this.AAt)?void 0:null==(n=t.Us.oAt)?void 0:n.Gkt())||0;return _.max(i,jX)}},{key:"uw",get:function(){return this.HJ}},{key:"Tkt",get:function(){return this.WTt}},{key:"hEt",get:function(){return this.vo===GH.rT?this.WAt:this.aEt}},{key:"cEt",get:function(){var t=this.hEt;if(void 0!==t)for(var n=0,i=this.Tkt;n<i.length;n++){var r=i[n];if(r.iI<=t&&r.eI>t)return r}}},{key:"Apt",get:function(){return this.AAt&&this.AAt.Us.Apt}},{key:"hAt",get:function(){return this.AAt&&this.AAt.hAt}},{key:"DTt",get:function(){for(var t=this.WTt.length-1;t>=0;t-=1){var n=this.WTt[t].DTt;if(n)return n}}},{key:"WAt",get:function(){var t=this.DTt;if(void 0!==t){var n=t-this.fEt;return _.max(n,this.aEt)}}},{key:"aEt",get:function(){for(var t=0,n=this.WTt;t<n.length;t++){var i=n[t].wAt;if(void 0!==i)return i}}},{key:"Wv",get:function(){return Boolean(this.iEt.Wv)}},{key:"fEt",get:function(){var t=this.AAt&&this.AAt.Us.aAt;return t?t.Ekt():this.vo===GH.rT?this.eit:0}},{key:"eit",get:function(){return this.iEt.eit?this.iEt.eit:1.5*this.uAt.Ekt()}},{key:"fpt",get:function(){return this.AAt&&this.AAt.fpt}},{key:"vo",get:function(){return this.AAt?this.AAt.vo:void 0}}]),n}(Ts),GX=function(){function t(t,n,i,r){this.kTt=void 0,this.kTt=new zX(t,n,i,r)}return M(t,[{key:"SAt",get:function(){return this.kTt}}]),t}(),jX=1e3,QX=_.pow(2,31)-1,YX=function(){function t(t,n,i,r){var e=this;this.G7=void 0,this.AAt=void 0,this.vEt=void 0,this.dEt=void 0,this.lEt=void 0,this._Et=new us,this.gEt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.AAt.SAt.JTt(),t.next=4,e.wEt(e.AAt.SAt.iAt,n);case 4:return r=t.sent,t.next=7,e.AAt.SAt.zh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),dy(t.t0)&&e.AAt.SAt.uht(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.G7=r,this.AAt=new GX(t,n,i,this._Et.Uo)}var n=t.prototype;return n.Xd=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.AAt.SAt.Wo(new vS),t.prev=1,t.next=4,PU(this.gEt,n);case 4:this.AAt.SAt.uht(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),cs(t.t0),this.dEt=void 0,this.AAt.SAt.uht(!1),new v("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.vEt=this.yEt(this._Et.Uo);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.yEt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.AAt.SAt.vo!==GH.rT){t.next=6;break}return t.next=4,vs(this.mEt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.kEt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(n),!((i=this.pEt())>0)){t.next=6;break}return r=_.min(i,QX),t.next=6,ks(r,n);case 6:return t.prev=6,t.next=9,PU(this.gEt,n,1/0,jX,3e4);case 9:this.AAt.SAt.uht(!0);case 10:return t.prev=10,this.lEt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.pEt=function(){var t=this.AAt.SAt.JTt().getTime()-this.AAt.SAt.zTt.getTime();return this.AAt.SAt.oAt-t},n.AEt=function(t){var n=this.AAt.SAt.IAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.AAt.SAt.gTt(t);var r=this.AAt.SAt.IAt();return r?r.getTime()-t.getTime():NaN},n.bEt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lEt||(this.lEt=this.kEt(n)),(i=new us).Lo(n),t.prev=3,t.next=6,E.race([this.lEt,this.TEt(i.Uo)].filter(K));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),fs(t.t0);case 11:return t.prev=11,i.Bo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.TEt=function(t){var n=this.AAt.SAt.JTt(),i=this.AEt(n);if(!y(i))return this.EEt(i,t)},n.EEt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ks(n,i);case 2:r=this.AAt.SAt.JTt(),this.AAt.SAt.gTt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.wEt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.G7.W7(n,{},i,!1);case 2:return r=t.sent,e=new eX,t.abrupt("return",e.kyt(r.x7,r.pv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Gv=function(){return this._Et.Bo(),this.vEt=void 0,this.dEt=void 0,this.lEt=void 0,this.AAt.SAt.Gv(),E.resolve()},M(t,[{key:"SEt",get:function(){return this.AAt}},{key:"i2",get:function(){return this.dEt||(this.dEt=this.Xd(this._Et.Uo),ws(this.dEt)),this.dEt}},{key:"mEt",get:function(){return this.AAt.SAt.oEt&&this.AAt.SAt.vo===GH.rT?this.bEt(this._Et.Uo):this.i2}}]),t}(),ZX=function(){function t(t,n,i){this.G7=t,this.REt=n,this.IEt=i}var n=t.prototype;return n.NEt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new v("Invalid typed source");case 2:if(!El(i=n.type)){t.next=9;break}return t.next=6,this.CEt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Tl(i)){t.next=15;break}return t.next=12,this.DEt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CEt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,QH(n.src,this.G7);case 3:return i=t.sent,t.next=6,ZH(i,this.G7);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.DEt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new YX({g_:T.Vu(n.src),eit:n.liveOffset,uEt:n.timeServer,Wv:n.useCredentials},this.IEt,xf.$v,this.G7),t.next=4,i.i2;case 4:return t.next=6,SH(i.SEt.SAt,n.contentProtection,this.REt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}();var JX=function(){function t(t){this.OEt=void 0,this.xEt=[],this.PEt=0,this.OEt=t}var n=t.prototype;return n.BEt=function(){var t=new Qu;return this.xEt.push(t),this.LEt(),t.Sh},n.MEt=function(){var t=E.coroutine(ne.mark(function t(n,i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.PEt-=1,this.LEt(),0===this.xEt.length&&0===this.PEt&&i.Rh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.LEt=function(){this.xEt.length>0&&this.PEt<this.OEt&&(this.xEt.shift().Rh(),this.PEt+=1)},t}();function $X(t,n){for(var i=0,r=0,e=t.Rb.d1.map(function(t){return t.Z_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var KX=function(t){function n(n,i,r,e,s,u,o,h){var a,c,f,v,d,l;void 0===h&&(f=Z.xe||Z.De,v=void 0!==c&&void 0!==c.preferredAudioCodecs&&c.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=f&&!v,l=E.coroutine(ne.mark(function t(n){var i,r,e,s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.rv,MediaSource.isTypeSupported(r)||yy(n.kD,n.B$)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!d||-1===(null==(i=n.pu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Akt){t.next=13;break}return e=n.Akt,s=ns(e,function(t){return Ie(t._kt)}).filter(K),t.next=10,is(s,function(t){return T.Fu(t,r)});case 10:if(t.sent){t.next=13;break}return t.abrupt("return",!1);case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}},t)})),h=function(t){return l.apply(this,arguments)}),(a=t.call(this)||this).Q7=void 0,a.UEt=void 0,a.FEt=new Qu,a.HEt=void 0,a.Y$=void 0,a.VEt=dH.fkt(),a.hkt=void 0,a.XEt=void 0,a.yg=void 0,a.WEt=void 0,a.b1=void 0,a.G7=void 0,a.qEt=void 0,a.REt=void 0,a.IEt=void 0,a.Ymt=void 0,a.Q7=n,a.b1=i,a.G7=r,a.WEt=e,a.qEt=s,a.REt=u,a.IEt=h,a.Ymt=o,a.XEt=-1;var _=a.Q7.MR.sources[0];return a.HEt=_,a.yg=a.Mg(),a.UEt=new JX(a.Q7.ha.parallelTasksThreshold),a}F(n,t);var i=n.prototype;return i.Mg=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,l,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new ZX(this.G7,this.REt,this.IEt),t.next=3,n.NEt(this.HEt);case 3:return this.Y$=t.sent,i=this.Q7.ha.amount,r=this.Y$.Z_,e=gH(i,r),this.hkt=e,u=rO(this.Y$.Rkt[0]),t.next=11,this.b1.v1.a1(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return $e(t.references,N.Q7.$l)}),h=[],a=this.Q7.ha.bandwidth,c=0,f=this.Y$.Tkt;c<f.length;c++)for(v=f[c],d=0,l=v.Ckt;d<l.length;d++)for(g=l[d],w=0,y=iW(g.Ep);w<y.length;w++)for(m=y[w],k=0,p=rW(m.r_,a);k<p.length;k++)A=p[k],h.push(A);if(this.XEt=_.ceil(h.map(function(t){return t.oS*$X(t,e)/8}).reduce(function(t,n){return t+n},0)),b=ee(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new rA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.pI(r).kI(5e-4);else{var e,s=Qe(h,function(t){return t.$l===i}),u=_.min(N.hkt,null!=(e=null==s?void 0:s.Rb.Z_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new dH(T,b,this.hkt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.$l,{timeRanges:rA.HI(),totalQualityDurationToCache:_.min(I.Rb.Z_,this.hkt)});s=new dH(0,b,this.hkt)}this.zEt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.GEt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yg;case 2:return t.next=4,this.jEt(this.Y$,n);case 4:return t.next=6,this.FEt.Sh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jEt=function(){var t=E.coroutine(ne.mark(function t(n,i){var r,e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Rkt){t.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return t.next=4,this.QEt();case 4:for(r=[],e=0,s=n.Tkt;e<s.length;e++)u=s[e],r.push(this.YEt(u,n.Rkt[0],i));return t.abrupt("return",E.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.QEt=function(){var t=E.coroutine(ne.mark(function t(){var n,i,r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WEt.o1();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.b1.l1.dh(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,tW(e,this.Q7.$l,this.b1.l1,this.Ymt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.b1.l1.e1(r,this.Ymt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new yH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.WEt.f1();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.YEt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Ckt;s<u.length;s++)for(o=u[s],h=iW(o.Ep),a=0;a<h.length;a++)c=h[a],e.push(this.ZEt(c,i,r));return t.abrupt("return",E.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ZEt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.Q7.ha.bandwidth,s=rW(n.r_,e),n.vo!==S_.Mv||!n.Pkt||!n.Pkt.kT.widevine||"persistent"!==n.Pkt.kT.widevine.licenseType){t.next=6;break}return t.next=5,this.JEt(n.Pkt);case 5:as(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.$Et(h,i,r));return t.abrupt("return",E.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$Et=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(as(r),!n.y7){t.next=7;break}return e={Dw:0,Z_:0,Vkt:n.y7},t.next=5,this.UEt.BEt();case 5:as(r),ws(this.UEt.MEt(this.KEt(e,n,i),this.FEt));case 7:s=n.Rb.d1[0].Dw,u=s+this.hkt,o=0,h=n.Rb.d1;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Dw>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.tSt(r);case 16:return t.next=18,this.UEt.BEt();case 18:ws(this.UEt.MEt(this.KEt(a,n,i),this.FEt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tSt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.To){t.next=4;break}return t.next=3,this.FEt.Sh;case 3:throw new os;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nSt=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yg;case 2:return t.abrupt("return",this.Y$);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.JEt=function(t){return E.resolve()},i.iSt=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return gt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.KEt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.b1.v1,s=eO(n.Vkt.Av,n.Vkt.nJ),t.next=4,e.dh(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,tW(u,this.Q7.$l,e,this.Ymt);case 8:this.rSt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.eSt(n.Vkt);case 14:return o=t.sent,h=this.sSt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.b1.w1(function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.v1.e1(a,f.Ymt);case 2:return t.next=4,n.d1.e1(c,f.Ymt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.rSt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new yH("Unable to store segment with url: "+n.Vkt.Av,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eSt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qEt.uSt(n,!1);case 2:return i=t.sent,t.next=5,this.oSt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oSt=function(){var t=E.coroutine(ne.mark(function t(n){var i;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.tv();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.sSt=function(t,n,i,r){var e=eO(t.Vkt.Av,t.Vkt.nJ),s=t.Dw,u=t.Z_,o=this.hSt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:rO(i),qualityId:n.$l,byteSize:o,startsAndEnds:new rA([s,s+u]).uI,references:[this.Q7.$l]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:rO(i),data:r}}},i.hSt=function(t){return t.buffer.byteLength},i.rSt=function(t,n){var i=t.qualityId,r=this.VEt,e=r.fw;e.get(i).timeRanges=e.get(i).timeRanges.pI(new rA(t.startsAndEnds)).kI(5e-4),this.zEt=new dH(n?r.vkt+t.byteSize:r.vkt,e,this.hkt)},M(n,[{key:"aSt",get:function(){return this.XEt}},{key:"zEt",get:function(){return this.VEt},set:function(t){this.VEt.Zw(t)||(this.VEt=t,t.Zw(dH.fkt())||this.Wo(new vH))}}]),n}(Ts);function tW(t,n,i,r){return nW.apply(this,arguments)}function nW(){return(nW=E.coroutine(ne.mark(function t(n,i,r,e){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if($e(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.e1(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function iW(t){return t.length?[t[0]]:[]}function rW(t,n){if(!t.length)return[];var i=[].concat(t).sort(cH),r=i.filter(function(t){return t.oS<=n});return r.length>0?[r.pop()]:[i.shift()]}var eW=function(){function t(t){this.Qb=void 0,this.EL=new qE,this.Qb=t}var n=t.prototype;return n.kv=function(t){var n=this,i=new Qu;return this.EL.lL(function(r){return n.cSt(i,t,r)},t.Uo).catch(R),i.Sh},n.zv=function(t){return this.Qb.zv(t)},n.cSt=function(){var t=E.coroutine(ne.mark(function t(n,i,r){var e,s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return as(r),e=new Df({Av:i.Av,Uo:r},i),s=this.Qb.kv(e),n.Rh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.cv();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Gv=function(){this.EL.Gv()},t}(),sW=function(){function t(t,n){this.Qb=void 0,this.fSt=void 0,this.vSt=void 0,this.Qb=t,this.fSt=new eW(t),this.vSt=n}var n=t.prototype;return n.uSt=function(t,n,i){return this.Dut(t,n,!0,!1,void 0,i)},n.dSt=function(t,n,i,r){return this.Dut(t,n,!1,!1,i,r)},n.lSt=function(t,n,i,r){return this.Dut(t,n,!1,!0,i,r)},n.Dut=function(){var n=E.coroutine(ne.mark(function n(i,r,e,s,u,o){var h;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return as(o),n.next=3,this._St(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.gSt(h));case 8:return n.abrupt("return",this.wSt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.wSt=function(t){return t},t.gSt=function(t){return t},n._St=function(t,n,i,r,e){var s=new Df({Av:t.Av,wv:Zo.Lc,gv:t.nJ?{Range:"bytes="+t.nJ[0]+"-"+t.nJ[1]}:void 0,Wv:t.Wv,Fv:Sf.GET,vo:Rf.Sv,Vv:i?If.Iv:If.Tv,Xv:this.vSt,Hv:r,Uo:e});return n?this.fSt.kv(s):this.Qb.kv(s)},t}(),uW=function(){function t(t){this.Qb=void 0,this.Qb=t}return t.prototype.uTt=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Qb.kv({Av:n,wv:Zo.Lc,gv:{Range:"bytes="+i[0]+"-"+i[1]},Wv:r,Fv:Sf.GET,vo:Rf.Tv,Uo:e});case 2:return s=t.sent,t.next=5,s.tv();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),oW=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Mlt=void 0,e.Mlt=n,e}return F(n,t),n}(hn),hW=function(){function t(t){this.q7=void 0,this.q7=t}return t.prototype.uTt=function(){var t=E.coroutine(ne.mark(function t(n,i,r,e){var s,u;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.q7.V7(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.q7.V7(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",qu(new m(u.buffer),i[0],i[1]));case 10:throw new oW({Av:n,nJ:i,Wv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),aW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new rA([0,0]).uI,references:[]},cW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},fW=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).ySt=void 0,u.mSt=void 0,u.b1=void 0,u.Ymt=void 0,u.ySt=new uW(i),u.b1=r,u.mSt=e,u.Ymt=s,u}F(n,t);var i=n.prototype;return i.uTt=function(){var n=E.coroutine(ne.mark(function n(i,r,e,s){var u;return ne.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.uTt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),cs(n.t0);case 9:return n.next=11,this.ySt.uTt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.kSt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.kSt=function(){var t=E.coroutine(ne.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.mSt){t.next=2;break}return t.abrupt("return");case 2:return s=this.b1.v1,u=eO(i,r),t.next=6,s.dh(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,tW(o,this.mSt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.sSt(u,h,this.mSt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.b1.w1(function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.v1.e1(c,v.Ymt);case 2:return t.next=4,n.d1.e1(f,v.Ymt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new yH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.sSt=function(t,n,i){return{segmentMetadataEntry:ie({},aW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ie({},cW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(hW);var vW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.pSt=function(t,n,i,r,e,s,u){return new KX(t,n,i,r,e,s,u)},n}(function(){function t(t){this.Qb=t}return t.prototype.GQ=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.MR.sources[0].useCredentials),e=new sW(this.Qb,Nf.Tv),s=new $P(this.Qb,r),u=new KP(n.l1,n.v1,n.d1,n.g1),o=function(t,n,i,r,e){return new fW(n,t,i,r,e)}(this.Qb,u,n,t.$l,i),h=new ZD,a=new eB(rB(s,u),h,t);return this.pSt(t,n,a,h,e,o,i)},t}());function dW(t){var n,i={get id(){return t.$l},get status(){return t._v},get source(){return t.MR},get parameters(){return t.ha},get duration(){return t.Z_},get cached(){return t.ASt.gR()},get secondsCached(){return t.bSt},get percentageCached(){return t.TSt},get bytes(){return t.ESt},get bytesCached(){return t.SSt},get license(){return t.UD.fl},start:function(){t.iI()},pause:function(){t.Cg()},remove:function(){t.qh()},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)}};return n=new eE(t,["I0","Mmt"],i),i}var lW=function(){function t(t,n,i){this.Q7=t,this.b1=n,this.Y$=i}var n=t.prototype;return n.RSt=function(){var t=E.coroutine(ne.mark(function t(){var n=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.b1.w1(function(){var t=E.coroutine(ne.mark(function t(i){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.ISt(i);case 2:return t.next=4,n.NSt(i);case 4:return t.next=6,n.CSt(i);case 6:return t.next=8,n.DSt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ISt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n._1,r=this.Q7.$l,t.next=4,i.qh(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NSt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o,h,a=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.v1,r=n.d1,Nl(e=this.Q7.MR.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=rO(e.src),t.next=8,i.a1(s,"manifestURL");case 8:u=t.sent.filter(function(t){return $e(t.references,a.Q7.$l)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(Ze((h=u[o]).references,this.Q7.$l),0!==h.references.length){t.next=20;break}return t.next=16,i.qh(h.key);case 16:return t.next=18,r.qh(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.e1(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CSt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u,o=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.l1,r=this.OSt(),t.next=4,i.u1(r);case 4:e=t.sent.filter(function(t){return $e(t.references,o.Q7.$l)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(Ze((u=e[s]).references,this.Q7.$l),0!==u.references.length){t.next=14;break}return t.next=12,i.qh(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.e1(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.OSt=function(){if(!this.Y$)return[];var t=this.Q7.MR.sources[0];if(!Nl(t))return[];var n=rO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Tkt;i<r.length;i++)for(var e=0,s=r[i].Ckt;e<s.length;e++)for(var u=0,o=s[e].Ep;u<o.length;u++)for(var h=0,a=o[u].r_;h<a.length;h++){var c=a[h];c.qkt&&n.push(c.qkt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Y$).map(function(t){return{src:t}}).map(function(t){return rO(t.src)});return[n].concat(i)},n.DSt=function(){var t=E.coroutine(ne.mark(function t(n){var i,r,e,s,u=this;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.g1,t.next=3,i.o1();case 3:r=t.sent.filter(function(t){return $e(t.references,u.Q7.$l)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Ze((s=r[e]).references,this.Q7.$l),0!==s.references.length){t.next=14;break}return t.next=11,i.qh(s.key);case 11:this.xSt(s),t.next=16;break;case 14:return t.next=16,i.e1(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xSt=function(t){},t}(),_W=new(function(){function t(){}return t.prototype.GQ=function(t,n,i){return new lW(t,n,i)},t}());var gW=function(){function t(t,n){this.cl=void 0,this.an=t,this.PSt=n}var n=t.prototype;return n.s6=function(t){this.BSt(t)},n.BSt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.PSt.iSt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.$mt($F.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"fl",get:function(){var t;return this.cl||(this.cl=(t=this,{renew:function(n){t.s6(n)}})),this.cl}}]),t}(),wW=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this)||this)._w=void 0,o.Qmt=void 0,o.cl=void 0,o.Ewt=void 0,o.LSt=void 0,o.b1=void 0,o.PSt=void 0,o.MSt=new us,o.USt=void 0,o.evictOnLoading=function(){o.Qo("Mmt",o.evictOnLoading),o.FSt()},o._w=n,o.Ewt=i,o.LSt=r,o.b1=e,o.PSt=s.GQ(un(o),o.b1,u),o.USt=new gW(un(o),o.PSt),o.Qmt=1===o.PSt.zEt.dkt?$F.DONE:$F.IDLE,o.PSt.qo("I0",function(t){o.Xo(t),1===o.TSt&&o.$mt($F.DONE)});var a=new Date,c=o.LSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.FSt()},c),o}F(n,t);var i=n.prototype;return i.$mt=function(t){this.Qmt!==t&&(this.Qmt=t,this.Wo(new tH))},i.iI=function(){this.Qmt===$F.EVICTED||this.Qmt===$F.DONE||this.HSt()},i.HSt=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$mt($F.LOADING),n=new us,this.MSt=n,t.next=6,this.PSt.GEt(n.Uo);case 6:this.$mt($F.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),hs(t.t0)?this.$mt($F.IDLE):this.$mt($F.ERROR);case 12:return t.prev=12,this.MSt.No(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.Cg=function(){this.MSt.Bo()},i.qh=function(){this._v===$F.LOADING?(this.qo("Mmt",this.evictOnLoading),this.Cg()):this.FSt()},i.FSt=function(){var t=E.coroutine(ne.mark(function t(){var n;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.PSt.nSt();case 3:return n=t.sent,t.next=6,_W.GQ(this,this.b1,n).RSt();case 6:this.PSt.zEt=dH.fkt(),this.$mt($F.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.$mt($F.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"fl",get:function(){return this.cl||(this.cl=dW(this)),this.cl}},{key:"$l",get:function(){return this._w}},{key:"UD",get:function(){return this.USt}},{key:"_v",get:function(){return this.Qmt}},{key:"MR",get:function(){return this.Ewt}},{key:"ha",get:function(){return this.LSt}},{key:"Z_",get:function(){return this.PSt.zEt.LI}},{key:"ASt",get:function(){return this.PSt.zEt.ckt}},{key:"bSt",get:function(){return this.PSt.zEt.akt}},{key:"TSt",get:function(){return this.PSt.zEt.dkt}},{key:"ESt",get:function(){return this.PSt.aSt}},{key:"SSt",get:function(){return this.PSt.zEt.vkt}}]),n}(cl);var yW=function(){function t(t,n){this.b1=t,this.VSt=n}var n=t.prototype;return n.ikt=function(t,n,i){var r=Vb();return this.tkt(r,t,n,i)},n.tkt=function(t,n,i,r){return new wW(t,n,i,this.b1,this.VSt,r)},t}(),mW=30,kW=5;function pW(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(et(t)&&!Ce(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,et(i)&&Ce(i,"%")){var n=w(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!et(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+mW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ot(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return kW;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var AW=function(t){function n(n,i){var r;return(r=t.call(this)||this).cl=void 0,r.XSt=n,r.MB=i,r.XSt.qo("Mmt",r.Xo),r}return F(n,t),n.prototype.WSt=function(t,n,i){var r,e;if(!t)throw new v("Unexpected - The source description is undefined");if(r=fb(t),e=pW(n),tb(r))throw new v("Invalid source description");return this.XSt.tkt(r,e).fl},M(n,[{key:"fl",get:function(){var t,n,i;return this.cl||(this.cl=(i={get status(){return t._v},get tasks(){return t.skt},get network(){return t.ZB.fl},createTask:function(n,i){return t.WSt(n,i)},addEventListener:function(t,i){n.qo(t,i)},removeEventListener:function(t,i){n.Qo(t,i)}},n=new sE(t=this,i),i)),this.cl}},{key:"_v",get:function(){return this.XSt._v}},{key:"skt",get:function(){return this.XSt.skt.fl}},{key:"ZB",get:function(){return this.MB}}]),n}(cl);(bW=new XT(T.sl,!1),TW=iO.ts,EW=new vW(bW),SW=new yW(TW,EW),RW=new qT(bW),IW=new aH(TW._1,SW,"persistent"),new AW(IW,RW)).fl;var bW,TW,EW,SW,RW,IW,NW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this)._w=void 0,s.Qmt=void 0,s.cl=void 0,s.Ewt=void 0,s.LSt=void 0,s.dH=0,s.qSt=rA.HI(),s.zSt=0,s.GSt=0,s.XSt=void 0,s._w=n,s.Qmt=$F.IDLE,s.Ewt=i,s.LSt=r,s.XSt=e,s}F(n,t);var i=n.prototype;return i.iI=function(){this.XSt.startCachingTask(this)},i.qh=function(){this.XSt.removeCachingTask(this)},M(n,[{key:"fl",get:function(){return this.cl||(this.cl=dW(this)),this.cl}},{key:"$l",get:function(){return this._w}},{key:"_v",get:function(){return this.Qmt},set:function(t){this.Qmt!==t&&(this.Qmt=t,this.Wo(new tH))}},{key:"MR",get:function(){return this.Ewt}},{key:"ha",get:function(){return this.LSt}},{key:"Z_",get:function(){return this.dH},set:function(t){this.dH=t}},{key:"ASt",get:function(){return this.qSt},set:function(t){this.qSt=t}},{key:"bSt",get:function(){return this.zSt},set:function(t){this.zSt=t}},{key:"TSt",get:function(){return this.GSt},set:function(t){this.GSt=t,this.Wo(new vH)}}]),n}(fl),CW=30;function DW(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+CW),n&&((i=n)&&!(ot(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var OW=function(t){function n(){var n;return(n=t.call(this)||this).Qmt=rH.UNINITIALISED,n.cL=new hH,n.Oyt=void 0,n.Qyt=void 0,n.jSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i._v=$F.EVICTED,i.TSt=0,i.bSt=0,i.Z_=0,i.ASt=rA.HI(),n.cL.qh(i))}},n.QSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i._v=r);var e=t.detail.percentage;e&&(i.TSt=e);var s=t.detail.duration;s&&(i.Z_=s);var u=t.detail.seconds;u&&(i.bSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.ASt=new rA(h)}}}},n.YSt=function(t){if(t.detail){var i=fb(JSON.parse(t.detail.source));if(!n.ZSt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.tkt(i,DW(r),s)}}},n.JSt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.tkt(fb(e),DW(i),s);u._v=t.detail.status,u.TSt=t.detail.percentage,u.Z_=t.detail.duration,u.bSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.ASt=new rA(h)}},n.$St=function(t){t.detail&&n.$mt(t.detail.status)},n.Oyt=new QF,n.Qyt=new RF,pF().cache={sdkEventBus:n.Qyt},n.EK(),n}F(n,t);var i=n.prototype;return i.$mt=function(t){this.Qmt!==t&&(this.Qmt=t,this.Wo(new tH))},i.tkt=function(t,n,i){void 0===i&&(i=void 0);var r=new NW(i||Vb(),t,n,this);return this.cL.vw(r),i||this.Oyt.CQ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.$l}),r},i.findTaskWithId=function(t){for(var n=0,i=this.cL.Fmt;n<i.length;n++){var r=i[n];if(r.$l===t)return r}},i.ZSt=function(t){for(var n=PW(t.sources),i=0,r=this.cL.Fmt;i<r.length;i++){if(PW(r[i].MR.sources).src===n.src)return!0}return!1},i.EK=function(){this.Qyt.addEventListener("deleteTask",this.jSt),this.Qyt.addEventListener("updateValues",this.QSt),this.Qyt.addEventListener("newTask",this.YSt),this.Qyt.addEventListener("restoreTask",this.JSt),this.Qyt.addEventListener("setCacheStatus",this.$St)},i.startCachingTask=function(t){this.Oyt.CQ("THEOplayerCacheStartCachingTask",{id:t.$l})},i.removeCachingTask=function(t){this.Oyt.CQ("THEOplayerCacheRemoveCachingTask",{id:t.$l})},M(n,[{key:"_v",get:function(){return this.Qmt}},{key:"skt",get:function(){return this.cL}}]),n}(Ts),xW=function(t){function n(n){var i;return(i=t.call(this,n)||this).KSt=n,i.KSt.qo("Mmt",i.Xo),i}return F(n,t),n.prototype.WSt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=fb(t),r=DW(n),tb(i))throw new v("Invalid source description");if(!PW(i.sources))throw new v("The provided sources can't be cached");return this.KSt.tkt(i,r).fl},n}(AW);function PW(t){for(var n=0;n<t.length;n++){var i=t[n];if(El(i.type))return i}}var BW,LW,MW=function(){var t=new OW;return new xW(t)}().fl;!function(t){t.tRt="any",t.nRt="natural",t.iRt="landscape",t.rRt="portrait",t.eRt="portrait-primary",t.sRt="portrait-secondary",t.uRt="landscape-primary",t.oRt="landscape-secondary"}(BW||(BW={})),function(t){t.eRt="portrait-primary",t.sRt="portrait-secondary",t.uRt="landscape-primary",t.oRt="landscape-secondary"}(LW||(LW={}));var UW,FW,HW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Oyt=new QF,n.hRt=BW.nRt,n.aRt=LW.eRt,n.cRt=LW.eRt,n.fRt=LW.eRt,n}F(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,r){n.hRt=t,n.Oyt.CQ("THEOplayerOrientationLock",t),n.vRt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.hRt=BW.nRt,t.Oyt.CQ("THEOplayerOrientationUnlock"),t.type=t.cRt,t.vRt(),n()})},i.vRt=function(){var t=this.fRt,n=this.type;t!==n&&(this.fRt=n,this.Wo(new Ss("change")))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.Qo(t,n)},n.dRt=function(t){switch(t){case BW.eRt:return[LW.eRt];case BW.sRt:return[LW.sRt];case BW.rRt:return[LW.eRt,LW.sRt];case BW.uRt:return[LW.uRt];case BW.oRt:return[LW.oRt];case BW.iRt:return[LW.uRt,LW.oRt];case BW.nRt:return[LW.eRt,LW.uRt,LW.oRt];case BW.tRt:return[LW.eRt,LW.sRt,LW.uRt,LW.oRt]}},n.lRt=function(t,i){return n.dRt(i).indexOf(t)>=0},M(n,[{key:"type",get:function(){return this.aRt},set:function(t){this.cRt=t,n.lRt(t,this.hRt)?(this.aRt=t,this.vRt()):(t===LW.uRt&&this.hRt===BW.oRt&&(this.aRt=LW.oRt,this.vRt()),t===LW.oRt&&this.hRt===BW.uRt&&(this.aRt=LW.uRt,this.vRt()))}},{key:"angle",get:function(){switch(this.type){case LW.uRt:return-90;case LW.oRt:return 90;case LW.eRt:return 0;case LW.sRt:return 180;default:return 0}}}]),n}(fl);HW.ts=new HW,e.screen.orientation=HW.ts,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t._Rt="unavailable",t.gRt="available",t.wRt="presenting"}(UW||(UW={})),PE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),n.prototype.xg=function(n){t.prototype.xg.call(this,n);var i=this.fl;this.fl.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===UW.wRt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(BW.oRt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},SE.KB),function(t){t.ul="addtrack",t.hl="removetrack",t.Tl="change",t.Cl="update"}(FW||(FW={}));var VW=function(t,n,i){this.type=FW.Tl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},XW=function(t,n){this.type=FW.ul,this.mediaType=t,this.mediaTrack=n},WW=function(t,n){this.type=FW.hl,this.mediaType=t,this.mediaTrack=n},qW=function(t,n){this.type=FW.Cl,this.mediaType=t,this.mediaTrack=n},zW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.yRt=function(t){var n=new VW(r.type,t.track,r.mediaTracks);r.messageDispatcher.mRt(n)},this.kRt=function(t){var n=new XW(r.type,t.track);r.messageDispatcher.mRt(n),t.track.addEventListener("update",r.pRt)},this.ARt=function(t){var n=new WW(r.type,t.track);r.messageDispatcher.mRt(n)},this.pRt=function(t){var n=new qW(r.type,t.track);r.messageDispatcher.mRt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.EK()}return t.prototype.EK=function(){this.mediaTracks.addEventListener("change",this.yRt),this.mediaTracks.addEventListener("addtrack",this.kRt),this.mediaTracks.addEventListener("removetrack",this.ARt)},t}(),GW=function(){function t(){this.bRt=void 0,this.bRt=new QF}return t.prototype.mRt=function(t){this.bRt.CQ(t.type,qU(t))},t}();ME(function(t){if(t.fl.audioTracks){var n=new GW;new zW("audio",t.fl.audioTracks,n)}if(t.fl.videoTracks){var i=new GW;new zW("video",t.fl.videoTracks,i)}});var jW,QW,YW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case jW.TRt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Wo(new ZW(i));break;default:0}},n}(RF),ZW=function(t){function n(n){var i;return(i=t.call(this,jW.TRt)||this).detail=n,i}return F(n,t),n}(Ss);!function(t){t.TRt="registerContentProtectionIntegration"}(jW||(jW={})),function(t){t.ERt="certifiateRequest",t.SRt="certifiateResponse",t.RRt="licenseRequest",t.IRt="licenseResponse",t.NRt="extractFairplayContentId",t.CRt="buildContentProtection",t.DRt="registerContentProtectionCallback"}(QW||(QW={}));var JW,$W=function(t,n){this.type=QW.DRt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(JW||(JW={}));var KW,tq=function(t,n){this.type=QW.CRt,this.value=t,this.integrationId=n},nq=function(t,n){this.type=QW.ERt,this.value=t,this.integrationId=n},iq=function(t,n){this.type=QW.SRt,this.value=t,this.integrationId=n},rq=function(t,n){this.type=QW.NRt,this.value=t,this.integrationId=n},eq=function(t,n){this.type=QW.RRt,this.value=t,this.integrationId=n},sq=function(t,n){this.type=QW.IRt,this.value=t,this.integrationId=n},uq=function(){function t(t,n){this.ORt=void 0,this.nE=void 0,this.ORt=t,this.nE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new nq(r,this.nE),t.prev=2,t.next=5,this.ORt.xRt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.PRt(u)){t.next=13;break}return o=ie({},u),t.abrupt("return",o);case 13:if(!this.BRt(u)){t.next=16;break}return h=new m(u),t.abrupt("return",h);case 16:throw new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s,u,o;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new iq(e,this.nE),t.next=5,this.ORt.xRt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new m(o));case 11:throw new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s,u,o,h,a;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new eq(e,this.nE),t.prev=3,t.next=6,this.ORt.xRt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.PRt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new m(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.BRt(o)){t.next=17;break}return a=new m(o),t.abrupt("return",a);case 17:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new p_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=E.coroutine(ne.mark(function t(i){var r,e,s,u,o,h;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=ie({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new sq(s,this.nE),t.next=6,this.ORt.xRt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new m(h));case 12:throw new p_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=E.coroutine(ne.mark(function t(i){var r,e;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new rq(i,this.nE),t.next=3,this.ORt.xRt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",E.reject(new p_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.PRt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.BRt=function(t){return!!new m(t)},t}(),oq=function(){function t(t){this.ORt=void 0,this.ORt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new uq(this.ORt,t.integration),i=new tq({drmConfiguration:t},t.integration);return this.ORt.xRt(i),n},t}(),hq=function(){var t=this;this.Qyt=void 0,this.LRt=function(n){var i=new oq(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:xm.oE.rE(e,s,i)};t.messageDispatcher.xRt(new $W(u,e))},this.Qyt=new YW,pF().contentProtectionIntegration={sdkEventBus:this.Qyt},this.Qyt.addEventListener(jW.TRt,this.LRt)},aq="nativePromiseCallback",cq=function(t){function n(n){var i;return(i=t.call(this,aq)||this).detail=n,i}return F(n,t),n}(Ss);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(KW||(KW={}));var fq=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Wo(new cq(n))},i.addEventListener=function(t,n){this.qo(t,n)},i.removeEventListener=function(t,n){this.Qo(t,n)},n}(RF),vq=function(){function t(){var t=this;this.bRt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case KW.RESOLVE:i.Rh(n.detail.data);break;case KW.REJECT:i.Ih(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new fq;pF().nativePromise={sdkEventBus:n},n.addEventListener(aq,this.handleNativePromiseEvent)}return t.prototype.xRt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=ie({},n,{promiseId:r}),s=new Qu;return this.promisesMap[r]=s,null==(i=this.bRt)||i.CQ(n.type,XU(e)),s.Sh},t}();vq.messageIdTracker=-1;var dq=function(t){function n(){var n;return(n=t.call(this)||this).bRt=new QF,n}return F(n,t),n}(vq),lq=function(t){function n(){var n;return(n=t.call(this)||this).ORt=new dq,n}return F(n,t),M(n,[{key:"messageDispatcher",get:function(){return this.ORt}}]),n}(hq);ME(function(t){new lq});var _q=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return F(n,t),n}(Ss);var gq,wq=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).MRt=function(){r.URt(UA.AVAILABLE)},r.FRt(),r}F(n,t);var i=n.prototype;return i.HRt=function(){this.GR&&this.GR.Qo(Yo.Ka,this.handleAirplayChangedEvent),this.GR=this.Tx,this.GR.qo(Yo.Ka,this.handleAirplayChangedEvent)},i.VRt=function(){var t=E.coroutine(ne.mark(function t(){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.GR){t.next=2;break}return t.abrupt("return");case 2:this.URt(UA.CONNECTED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.XRt=function(){this.URt(UA.AVAILABLE)},i.Bg=function(){T.qu.fu&&(this.WRt.Mg(),this.qRt.Bo(),this.qRt=new us,ws(this.zRt(this.qRt.Uo)))},n}(function(t){function n(n,i){var r;return(r=t.call(this)||this).cl=void 0,r.WRt=void 0,r.GR=void 0,r.Tx=void 0,r.Zc=UA.UNAVAILABLE,r.qRt=new us,r.MRt=void 0,r.handleAirplayChangedEvent=function(){r.GR&&r.GR.Kg?r.VRt():r.O3===UA.CONNECTED&&r.XRt()},r.WRt=n,r.Tx=i,r}F(n,t);var i=n.prototype;return i.FRt=function(){this.HRt(),this.WRt.qo("sourcechange",this.MRt),T.qu.fu&&this.URt(UA.AVAILABLE)},i.preloadPlayer=function(t){if(as(t),this.GR.d_<kl.F_){var n=this.GR.$o("loadedmetadata",t);return this.GR.hw=Yp.xk,n}return E.resolve()},i.URt=function(t){t!==this.Zc&&(this.Zc=t,this.Wo(new _q(this.Zc)))},i.zRt=function(){var t=E.coroutine(ne.mark(function t(n){return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Tx.Bg();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lg=function(){T.qu.fu&&this.GR.Lg()},i.Gv=function(){this.jo(),this.WRt.Qo("sourcechange",this.MRt),this.qRt.Bo()},M(n,[{key:"JP",get:function(){return this.O3===UA.CONNECTED}},{key:"O3",get:function(){return this.Zc}},{key:"fl",get:function(){var t;return this.cl||(this.cl=(t=this,{get casting(){return t.JP},get state(){return t.O3},start:function(){t.Bg()},stop:function(){t.Lg()},addEventListener:function(n,i){var r=jd(n,zd);t.qo(r,i)},removeEventListener:function(n,i){var r=jd(n,zd);t.Qo(r,i)}})),this.cl}}]),n}(Ts));PE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.vl=function(){var n=this.QB.fl;return Md(t.prototype.vl.call(this),{get cast(){return n}})},n}(t)},SE.$B),PE(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).GRt=void 0,r.GRt=new wq(un(r),r.qP),r.QB.ZP(r.GRt),r.qo("currentsourcechange",function(){r.GRt.HRt()}),r}F(n,t);var i=n.prototype;return i.vl=function(){var n=this,i=t.prototype.vl.call(this);return Md(i.cast,{get airplay(){return n.GRt.fl}}),i},i.Gv=function(){this.GRt.Gv(),t.prototype.Gv.call(this)},n}(t)},SE.$B),function(t){t.jRt="airplaystatechange"}(gq||(gq={}));var yq=function(t){this.type=gq.jRt,this.state=t},mq=function(t){function n(n){var i;return(i=t.call(this)||this).QRt=void 0,i.YRt=function(t){var n=new yq(t.state);i.mRt(n)},i.QRt=n,i.EK(n),i}return F(n,t),n.prototype.EK=function(t){t.addEventListener("statechange",this.YRt)},n}(GW);ME(function(t){var n;null!=(n=t.fl.cast)&&n.airplay&&new mq(t.fl.cast.airplay)}),n.ChromelessPlayer=nS,n.Player=nS,n.cache=MW,n.createGlobals=TF,n.features=["hls","airplay"],n.getCueMirrorMap=AF,n.getGlobalId=bF,n.getSdkEventBridge=pF,n.playerSuiteVersion="2022.1.1",n.players=eS,n.registerContentProtectionIntegration=sS,n.utils=rS,n.version="3.1.1",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
