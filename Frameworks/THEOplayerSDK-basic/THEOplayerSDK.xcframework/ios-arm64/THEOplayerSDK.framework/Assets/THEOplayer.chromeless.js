/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.2 (4.0.0)
 Created: 2022-09-01T15:08:43.074Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,l=t.TypeError,d=(t.SyntaxError,t.Object),w=t.Math,_=t.parseInt,g=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,b=(t.WorkerGlobalScope,t.XMLHttpRequest);function p(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&p(t.prototype,n),i&&p(t,i),d.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.M="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),P=E.match(/Firefox\/([0-9\.]+)/i),B=E.match(/OPR\/(\d+\.\d+)/i),O=E.match(/Tizen ([0-9\.]+)/i),x=function(){function n(){this.U=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.F=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.V=/Windows NT/i.test(E),this.G=D?g(D[1]):0,this.j=/Android/i.test(E),this.Y=N?g(N[1]):0,this.Z=/windows phone (8|8\.1)/i.test(E),this.K=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.nt=this.F&&this.U&&!this.J,this.ut=/iPod/i.test(E),this.ot=/Mobile Safari/i.test(E),this.ct=/EOSSTB/i.test(E),this.ft=(this.K||this.J||this.nt||this.ut)&&!this.Z,this.vt=this.Z||this.ft||this.j||this.ot,this.dt=/CriOS/i.test(E),this.wt=Boolean(t.chrome&&/google/i.test(o.vendor))||this.dt,this._t=this.wt&&/Edg\//i.test(o.userAgent),this.yt=R?_(R[1],10):0,this.kt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.bt=I?_(I[1],10):0,this.At=/SMART-TV.*Tizen/i.test(E),this.Tt=O?g(O[1]):0,this.St=/webos|web0s/i.test(E),this.Et=/Edge\/\d+/i.test(E),this.It=/Trident/i.test(E),this.Rt=this.It&&!t.ActiveXObject&&"ActiveXObject"in t,this.Nt=/Vivaldi/i.test(E),this.Dt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.Ct=P?g(P[1]):0,this.Pt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.Z&&!this.At,this.Bt=C?g(C[2]):0,this.Ot=Boolean(B),this.xt=B?g(B[1]):0,this.Lt=/CrKey/.test(E),this.Mt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Ut="ios"===e.I,this.Xt="ios"===e.g,this.Ft=this.Xt||this.Ut,this.Ht="ios"===e.R,this.zt="ios"===e.N,this.Vt="ios"===e.M}return A(n,[{key:"Wt",get:function(){return this.U}},{key:"Gt",get:function(){return this.F}},{key:"qt",get:function(){return this.V}},{key:"jt",get:function(){return this.G}},{key:"Yt",get:function(){return this.j}},{key:"Qt",get:function(){return this.Y}},{key:"Zt",get:function(){return this.Z}},{key:"Kt",get:function(){return this.K}},{key:"Jt",get:function(){return this.J}},{key:"$t",get:function(){return this.nt}},{key:"in",get:function(){return this.ut}},{key:"un",get:function(){return this.ft}},{key:"cn",get:function(){return this.ct}},{key:"hn",get:function(){return this.ot}},{key:"fn",get:function(){return this.vt}},{key:"vn",get:function(){return this.dt}},{key:"dn",get:function(){return this.wt}},{key:"wn",get:function(){return this.bt}},{key:"_n",get:function(){return this._t}},{key:"yn",get:function(){return this.yt}},{key:"pn",get:function(){return this.At}},{key:"An",get:function(){return this.Tt}},{key:"Tn",get:function(){return this.St}},{key:"Sn",get:function(){return this.Et}},{key:"En",get:function(){return this.It}},{key:"In",get:function(){return this.Rt}},{key:"Rn",get:function(){return this.Nt}},{key:"Nn",get:function(){return this.Dt}},{key:"Dn",get:function(){return this.Ct}},{key:"Cn",get:function(){return this.Pt}},{key:"Pn",get:function(){return this.Bt}},{key:"Bn",get:function(){return this.Ot}},{key:"On",get:function(){return this.xt}},{key:"xn",get:function(){return this.Lt}},{key:"Ln",get:function(){return this.Mt}},{key:"Mn",get:function(){if(!(this.Tn||this.pn))return!1;var t=this.wn;return void 0===t||Number(t)<56}},{key:"Un",get:function(){return this.Ut}},{key:"Xn",get:function(){return this.Xt}},{key:"Fn",get:function(){return this.Ft}},{key:"Hn",get:function(){return this.Ht}},{key:"zn",get:function(){return this.zt}},{key:"Vn",get:function(){return this.Vt}},{key:"Wn",get:function(){return this.kt}}]),n}();x.Gn=new x;var L=x.Gn,M={}.hasOwnProperty,U={}.toString;function X(t){return null!=t}function F(t){return void 0===t}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function z(t){return V(t)&&M.call(t,"length")&&Q(t.length)}function V(t){return"object"==typeof t&&null!==t}function W(t){return V(t)&&t.constructor&&t.constructor===d}function G(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function j(t){return Boolean(t)&&"function"==typeof t.then}function Y(t){return"[object Date]"===U.call(t)}function Q(t){return"number"==typeof t}var Z=function(){},K=function(t){return t};function J(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var a=this,c=e&&!r;void 0!==r&&i.qn(r),r=i.jn(function(){r=void 0,e||t.apply(a,u)},n),c&&t.apply(a,u)}}var $=!(L.En&&!L.In),tt=t.console;function nt(t){if(V(t))try{return JSON.stringify(t)}catch(t){}return t}function it(t){return t.map(nt).join(" ")}function et(t){var n=tt&&tt[t];return n?n.bind&&$?n.bind(tt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];tt[t](it(i))}:void 0}var rt,st=et("log")||Z,ut=et("warn")||st.bind(void 0,"WARNING:"),ot=et("error")||st.bind(void 0,"ERROR:"),at=(rt=tt&&tt.assert)?rt.bind&&$?rt.bind(tt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];tt.assert(t,it(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,["Assertion failed:"].concat(i))}},ct=null;try{ct=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ht(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ft(t){return!0===(t&&t.Yn)}function vt(t){var n=w.clz32(t&-t);return t?31-n:n}ht.prototype.Yn,d.defineProperty(ht.prototype,"Yn",{value:!0}),ht.isLong=ft;var lt={},dt={};function wt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=dt[t])?e:(i=gt(t,0,!0),r&&(dt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=lt[t])?e:(i=gt(t,t<0?-1:0,!1),r&&(lt[t]=i),i)}function _t(t,n){if(m(t))return n?Et:St;if(n){if(t<0)return Et;if(t>=pt)return Ct}else{if(t<=-At)return Pt;if(t+1>=At)return Dt}return t<0?_t(-t,n).neg():gt(t%bt|0,t/bt|0,n)}function gt(t,n,i){return new ht(t,n,i)}ht.fromInt=wt,ht.fromNumber=_t,ht.fromBits=gt;var mt=w.pow;function yt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Et:St;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return yt(t.substring(1),n,i).neg();for(var r=_t(mt(i,8)),s=St,u=0;u<t.length;u+=8){var o=w.min(8,t.length-u),a=_(t.substring(u,u+o),i);if(o<8){var c=_t(mt(i,o));s=s.mul(c).add(_t(a))}else s=(s=s.mul(r)).add(_t(a))}return s.unsigned=n,s}function kt(t,n){return"number"==typeof t?_t(t,n):"string"==typeof t?yt(t,n):gt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ht.fromString=yt,ht.fromValue=kt;var bt=4294967296,pt=bt*bt,At=pt/2,Tt=wt(1<<24),St=wt(0);ht.ZERO=St;var Et=wt(0,!0);ht.UZERO=Et;var It=wt(1);ht.ONE=It;var Rt=wt(1,!0);ht.UONE=Rt;var Nt=wt(-1);ht.NEG_ONE=Nt;var Dt=gt(-1,2147483647,!1);ht.MAX_VALUE=Dt;var Ct=gt(-1,-1,!0);ht.MAX_UNSIGNED_VALUE=Ct;var Pt=gt(0,-2147483648,!1);ht.MIN_VALUE=Pt;var Bt=ht.prototype;Bt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Bt.toNumber=function(){return this.unsigned?(this.high>>>0)*bt+(this.low>>>0):this.high*bt+(this.low>>>0)},Bt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Pt)){var n=_t(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=_t(mt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},Bt.getHighBits=function(){return this.high},Bt.getHighBitsUnsigned=function(){return this.high>>>0},Bt.getLowBits=function(){return this.low},Bt.getLowBitsUnsigned=function(){return this.low>>>0},Bt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Pt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Bt.isZero=function(){return 0===this.high&&0===this.low},Bt.eqz=Bt.isZero,Bt.isNegative=function(){return!this.unsigned&&this.high<0},Bt.isPositive=function(){return this.unsigned||this.high>=0},Bt.isOdd=function(){return 1==(1&this.low)},Bt.isEven=function(){return 0==(1&this.low)},Bt.equals=function(t){return ft(t)||(t=kt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Bt.eq=Bt.equals,Bt.notEquals=function(t){return!this.eq(t)},Bt.neq=Bt.notEquals,Bt.ne=Bt.notEquals,Bt.lessThan=function(t){return this.comp(t)<0},Bt.lt=Bt.lessThan,Bt.lessThanOrEqual=function(t){return this.comp(t)<=0},Bt.lte=Bt.lessThanOrEqual,Bt.le=Bt.lessThanOrEqual,Bt.greaterThan=function(t){return this.comp(t)>0},Bt.gt=Bt.greaterThan,Bt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Bt.gte=Bt.greaterThanOrEqual,Bt.ge=Bt.greaterThanOrEqual,Bt.compare=function(t){if(ft(t)||(t=kt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Bt.comp=Bt.compare,Bt.negate=function(){return!this.unsigned&&this.eq(Pt)?Pt:this.not().add(It)},Bt.neg=Bt.negate,Bt.add=function(t){ft(t)||(t=kt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=r+(65535&t.low))>>>16,c+=(h+=e+o)>>>16,a+=(c+=i+u)>>>16,a+=n+s,gt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Bt.subtract=function(t){return ft(t)||(t=kt(t)),this.add(t.neg())},Bt.sub=Bt.subtract,Bt.multiply=function(t){if(this.isZero())return this;if(ft(t)||(t=kt(t)),ct)return gt(ct.mul(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Et:St;if(this.eq(Pt))return t.isOdd()?Pt:St;if(t.eq(Pt))return this.isOdd()?Pt:St;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Tt)&&t.lt(Tt))return _t(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=r*a)>>>16,h+=(f+=e*a)>>>16,f&=65535,h+=(f+=r*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=e*o)>>>16,h&=65535,c+=(h+=r*u)>>>16,c+=n*a+i*o+e*u+r*s,gt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Bt.mul=Bt.multiply,Bt.divide=function(t){if(ft(t)||(t=kt(t)),t.isZero())throw v("division by zero");var n,i,e;if(ct)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?gt((this.unsigned?ct.div_u:ct.div_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Et:St;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Et;if(t.gt(this.shru(1)))return Rt;e=Et}else{if(this.eq(Pt))return t.eq(It)||t.eq(Nt)?Pt:t.eq(Pt)?It:(n=this.shr(1).div(t).shl(1)).eq(St)?t.isNegative()?It:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Pt))return this.unsigned?Et:St;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=St}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var r=w.ceil(w.log(n)/w.LN2),s=r<=48?1:mt(2,r-48),u=_t(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=_t(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=It),e=e.add(u),i=i.sub(o)}return e},Bt.div=Bt.divide,Bt.modulo=function(t){return ft(t)||(t=kt(t)),ct?gt((this.unsigned?ct.rem_u:ct.rem_s)(this.low,this.high,t.low,t.high),ct.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Bt.mod=Bt.modulo,Bt.rem=Bt.modulo,Bt.not=function(){return gt(~this.low,~this.high,this.unsigned)},Bt.countLeadingZeros=function(){return this.high?w.clz32(this.high):w.clz32(this.low)+32},Bt.clz=Bt.countLeadingZeros,Bt.countTrailingZeros=function(){return this.low?vt(this.low):vt(this.high)+32},Bt.ctz=Bt.countTrailingZeros,Bt.and=function(t){return ft(t)||(t=kt(t)),gt(this.low&t.low,this.high&t.high,this.unsigned)},Bt.or=function(t){return ft(t)||(t=kt(t)),gt(this.low|t.low,this.high|t.high,this.unsigned)},Bt.xor=function(t){return ft(t)||(t=kt(t)),gt(this.low^t.low,this.high^t.high,this.unsigned)},Bt.shiftLeft=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gt(0,this.low<<t-32,this.unsigned)},Bt.shl=Bt.shiftLeft,Bt.shiftRight=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Bt.shr=Bt.shiftRight,Bt.shiftRightUnsigned=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):gt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Bt.shru=Bt.shiftRightUnsigned,Bt.shr_u=Bt.shiftRightUnsigned,Bt.rotateLeft=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?gt(this.high,this.low,this.unsigned):t<32?(n=32-t,gt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),gt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Bt.rotl=Bt.rotateLeft,Bt.rotateRight=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?gt(this.high,this.low,this.unsigned):t<32?(n=32-t,gt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),gt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Bt.rotr=Bt.rotateRight,Bt.toSigned=function(){return this.unsigned?gt(this.low,this.high,!1):this},Bt.toUnsigned=function(){return this.unsigned?this:gt(this.low,this.high,!0)},Bt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Bt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Bt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ht.fromBytes=function(t,n,i){return i?ht.fromBytesLE(t,n):ht.fromBytesBE(t,n)},ht.fromBytesLE=function(t,n){return new ht(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ht.fromBytesBE=function(t,n){return new ht(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ot=9007199254740991,xt=w.pow(2,-52);function Lt(t,n,i){return w.min(w.max(t,n),i)}function Mt(t,n,i){return t===n||w.abs(t-n)<=i}function Ut(t){return t!=t}function Xt(t,n){return t===n||Ut(t)&&Ut(n)}function Ft(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Ht(t){return!m(t.getTime())}function zt(){return Date.now()||(new Date).getTime()}function Vt(t){return t/1e3}function Wt(t){return 1e3*t}var Gt,qt=ht.fromNumber(Ot);function jt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(qt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Yt(t){return t.Qn===Gt.Zn}function Qt(t){return t.Qn===Gt.Kn}function Zt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Zn=1]="Zn",t[t.Jn=2]="Jn",t[t.Kn=3]="Kn",t[t.$n=4]="$n",t[t.ni=9]="ni"}(Gt||(Gt={}));var Kt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(Kt.prototype=d.create(v.prototype)).constructor=Kt;var Jt=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Zt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(Kt),$t=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Jt),tn=function(){function t(){}return t.prototype.ei=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new $t(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new $t;return new an(n)},t}(),nn=function(){function t(t){this.ri=void 0,this.ri=t}var n=t.prototype;return n.ui=function(t){return this.ri.isEqualNode(t.ri)},n.oi=function(n){return new t(this.ri.cloneNode(n))},A(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){var t;return null!=(t=this.ri.localName)?t:fn(this.ri.nodeName)}},{key:"ci",get:function(){return this.ri.nodeName}},{key:"di",get:function(){var t;return null!=(t=this.ri.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.ri.prefix)?t:void 0}},{key:"_i",get:function(){return this.ri.nodeValue}}]),t}(),en=function(){function t(t){this.gi=void 0,this.Ai=void 0,this.gi=t}var n=t.prototype;return n.Ti=function(t){return this.Si.filter(function(n){return cn(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Si.filter(function(i){return cn(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.gi.appendChild(t.Ni),this.Ai&&this.Ai.push(t)},n.ui=function(t){return this.gi.isEqualNode(t.Ni)},A(t,[{key:"Si",get:function(){return void 0===this.Ai&&(this.Ai=function(t){for(var n=[],i=0;i<t.length;i++){var e=hn(t.item(i));e&&n.push(e)}return n}(this.gi.childNodes)),this.Ai}},{key:"Di",get:function(){return this.Si.filter(cn)}},{key:"Ni",get:function(){return this.gi}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Ci=function(t){if(this.gi.hasAttribute(t))return this.gi.getAttribute(t)},i.Pi=function(t,n){if(this.gi.hasAttributeNS(t,n))return this.gi.getAttributeNS(t,n)},i.Bi=function(t){this.gi.removeAttribute(t)},i.Oi=function(t,n){this.gi.removeAttributeNS(t,n)},i.xi=function(t,n){this.gi.setAttribute(t,n)},i.Li=function(t,n,i){this.gi.setAttributeNS(t,n,i)},i.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"ai",get:function(){var t;return null!=(t=this.gi.localName)?t:fn(this.gi.nodeName)}},{key:"di",get:function(){var t;return null!=(t=this.gi.namespaceURI)?t:void 0}},{key:"wi",get:function(){var t;return null!=(t=this.gi.prefix)?t:void 0}},{key:"Ei",get:function(){return this.gi.nodeName}},{key:"Mi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new nn(t.item(i)));return n}(this.gi.attributes)}},{key:"Ui",get:function(){return this.gi.textContent}}]),n}(en),sn=function(){function t(t){this.gi=void 0,this.gi=t}return t.prototype.ui=function(t){return this.Xi===t.Xi},A(t,[{key:"Xi",get:function(){return this.gi.nodeValue}},{key:"Ni",get:function(){return this.gi}}]),t}(),un=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(sn),on=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(sn),an=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.oi=function(t){return new n(this.gi.cloneNode(t))},A(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return new rn(this.gi.documentElement)}}]),n}(en);function cn(t){return Yt(t)}function hn(t){switch(t.nodeType){case Gt.Zn:return new rn(t);case Gt.Kn:return new un(t);case Gt.$n:return new on(t)}}function fn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function vn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function ln(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){dn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&dn(i,null,t.length,t),t}function dn(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(r=0;r<c;r+=f)for(u=(s=r+i)+i,s>c&&(s=c),u>c&&(u=c),o=r,a=s;;)if(o<s&&a<u)n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<s)e[h++]=t[o++];else{if(!(a<u))break;e[h++]=t[a++]}}var wn=/[a-zA-Z]/,_n=/[0-9]/,gn=/[0-9a-fA-F]/,mn=/^0x/i,yn=/^[0-9]+$/,kn=/^[0-9a-fA-F]+$/,bn=/^[0-7]+$/,pn=d.prototype.toString,An=Array.isArray||function(t){return"[object Array]"===pn.call(t)},Tn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Sn(t){return An(t)?t:Array.from(t)}function En(t){return t>=65&&t<=90}function In(t){return En(t)||function(t){return t>=97&&t<=122}(t)}function Rn(t){return t>=48&&t<=57}function Nn(t){return Rn(t)||In(t)}function Dn(t){return Rn(t)||t>=65&&t<=70||t>=97&&t<=102}function Cn(t){return En(t)?t+32:t}function Pn(t){return Rn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Bn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var On=w.min,xn=String.fromCharCode,Ln=16384;function Mn(t){for(var n=t.length,i=[],e=0;e<n;e+=Ln){var r=On(e+Ln,n);i.push(xn.apply(null,t.slice(e,r)))}return i.join("")}var Un=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Fn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Hn=w.floor,zn=String.fromCharCode;function Vn(t){throw new RangeError(Fn[t])}function Wn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Gn,qn,jn,Yn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qn=function(t,n,i){var e=0;for(t=i?Hn(t/700):t>>1,t+=Hn(t/n);t>455;e+=36)t=Hn(t/35);return Hn(e+36*t/(t+38))},Zn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return Un.test(t)?"xn--"+function(t){for(var n=[],i=(t=Wn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var a=o[u];a<128&&n.push(zn(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,l=t;v<l.length;v++){var d=l[v];d>=e&&d<f&&(f=d)}var w=h+1;f-e>Hn((2147483647-r)/w)&&Vn("overflow"),r+=(f-e)*w,e=f;for(var _=0,g=t;_<g.length;_++){var m=g[_];if(m<e&&++r>2147483647&&Vn("overflow"),m==e){for(var y=r,k=36;;k+=36){var b=k<=s?1:k>=s+26?26:k-s;if(y<b)break;var p=y-b,A=36-b;n.push(zn(Yn(b+p%A,0))),y=Hn(p/A)}n.push(zn(Yn(y,0))),s=Qn(r,w,h==c),r=0,++h}}++r,++e}return n.join("")}(t):t})};function Kn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Mn(n)}function Jn(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function $n(t,n){return t>>n&63|128}function ti(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Jn(t),n.push(t>>12&15|224),n.push($n(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push($n(t,12)),n.push($n(t,6))),n.push(63&t|128)):n.push(t)}function ni(t){for(var n=[],i=0;i<t.length;i++){ti(t[i],n)}return n}function ii(){if(jn>=qn)throw new v("Invalid byte index");var t=255&Gn[jn];if(jn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ei(){var t,n;if(jn>qn)throw new v("Invalid byte index");if(jn===qn)return!1;if(t=255&Gn[jn],jn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ii())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ii()<<6|ii())>=2048)return Jn(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ii()<<12|ii()<<6|ii())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ri(t){return[37,Bn(t>>4),Bn(15&t)]}function si(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ui(t){return si(t)||32===t||34===t||60===t||62===t||96===t}function oi(t){return ui(t)||35===t||63===t||123===t||125===t}function ai(t){return oi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function ci(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hi(t){return ci(t)||39===t}function fi(t,n){if(!n(t))return[t];for(var i=ni([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ri(s))}return e}function vi(t,n){for(var i=[],e=0,r=Wn(t);e<r.length;e++){var s=r[e];i.push.apply(i,fi(s,n))}return Kn(i)}function li(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Dn(t[e+1])&&Dn(t[e+2])){var s=Pn(t[e+1])<<4|Pn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(ni(t))}function di(t){return Kn(function(t){Gn=t.slice(),qn=Gn.length,jn=0;for(var n,i=[];!1!==(n=ei());)i.push(n);return i}(li(Wn(t))))}function wi(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<s&&":"===t[c]){if(!(c+1<s&&":"===t[c+1]))throw new l;c+=2,a=o+=1}for(;c<s;){if(8===o)throw new l("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<s&&gn.test(t[c]);)h=h<<4|_(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new l;if(c-=f,o>6)throw new l;for(var v=0;c<s;){var d=null;if(v>0){if(!("."===t[c]&&v<4))throw new l;c+=1}if(!_n.test(t[c]))throw new l;for(;c<s&&_n.test(t[c]);){var w=_(t[c],10);if(null===d)d=w;else{if(0===d)throw new l;if((d=10*d+w)>255)throw new l}c+=1}u[o]=u[o]<<8|d,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new l;break}if(":"===t[c]){if((c+=1)===s)throw new l}else if(c<s)throw new l;u[o]=h,o+=1}else{if(null!==a)throw new l("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var g=o-a;for(o=7;0!==o&&g>0;)e=a+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new l;return u}function _i(t){var n=10,i=yn;return mn.test(t)?(t=t.slice(2),n=16,i=kn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=bn),""===t?0:i.test(t)?_(t,n):void 0}var gi={Hi:4},mi=/[\0\t\n\r #%/:?@\[\\\]]/,yi=/[\0\t\n\r #/:?@\[\\\]]/;function ki(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new l("Invalid IPv6 address");return{Hi:2,zi:wi(t.slice(1,-1))}}if(!n)return function(t){if(yi.test(t))throw new l("Invalid code point in opaque host");var n=vi(t,si);return""===n?gi:{Hi:3,Vi:n}}(t);var i=function(t){return function(t){return Zn(t.toLowerCase())}(t)}(di(t));if(mi.test(i))throw new l("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=_i(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new l;if(i[i.length-1]>=w.pow(256,5-i.length))throw new l;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*w.pow(256,3-a);return o}}(i);return void 0!==e?{Hi:1,zi:e}:""===i?gi:{Hi:0,Wi:i}}function bi(t){switch(t.Hi){case 0:return t.Wi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.zi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.zi)+"]";case 3:return t.Vi;case 4:return""}}var pi=/\+/g;function Ai(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(pi," "),o=o.replace(pi," ");var a=di(u),c=di(o);i.push([a,c])}}return i}function Ti(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Si(ni(Wn(e[0])))+"="+Si(ni(Wn(e[1])))}return n}function Si(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Nn(n)?i.push(r):i.push.apply(i,ri(r))}return Mn(i)}var Ei=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Ii(t){var n=""+t,i=Ei.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ni(s))if(Di(s)||r===i-1)e.push(Ri);else{var u=t.charCodeAt(r+1);Di(u)?(e.push(s,u),r++):e.push(Ri)}else e.push(s)}return t.slice(0,n)+Mn(e)}(n,i.index):n}var Ri=65533,Ni=function(t){return 55296==(63488&t)},Di=function(t){return 0!=(1024&t)};function Ci(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Pi(t){t.Gi.length=0}function Bi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Gi,Ai(n))}function Oi(t){if(t.qi){var n=Ti(t.Gi);""===n&&(n=null),t.qi.qi.ji=n}}var xi=function(){function t(t){if(void 0===t&&(t=void 0),this.qi=null,null==t)this.Gi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof xi&&An(s.Gi)&&(!Tn||s[Symbol.iterator]===Li))this.Gi=t.Gi.slice();else if(function(t){return null!=t&&(!!An(t)||!!Tn&&"function"==typeof t[Symbol.iterator])}(t)){this.Gi=[];for(var n=0,i=Sn(t);n<i.length;n++){var e=Sn(i[n]);if(2!==e.length)throw new l("Invalid name-value pair");this.Gi.push([Ii(e[0]),Ii(e[1])])}}else for(var r in this.Gi=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.Gi.push([Ii(r),Ii(t[r])]);else(t=Ii(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Gi=Ai(t);var s}var n=t.prototype;return n.append=function(t,n){t=Ii(t),n=Ii(n),this.Gi.push([t,n]),Oi(this)},n.delete=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Oi(this)},n.get=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Ii(t);for(var n=this.Gi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Ii(t);for(var n=this.Gi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Ii(t),n=Ii(n);for(var i=this.Gi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),Oi(this)},n.sort=function(){ln(this.Gi,Ci),Oi(this)},n.toString=function(){return Ti(this.Gi)},n.entries=function(){return new Fi(this.Gi,Mi)},n.keys=function(){return new Fi(this.Gi,Ui)},n.values=function(){return new Fi(this.Gi,Xi)},n.forEach=function(t){var n=this;this.Gi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Li=xi.prototype.entries;Tn&&(xi.prototype[Symbol.iterator]=Li);var Mi=function(t){return[t[0],t[1]]},Ui=function(t){return t[0]},Xi=function(t){return t[1]},Fi=function(){function t(t,n){this.Yi=0,this.Gi=t,this.Qi=n}return t.prototype.next=function(){return this.Yi<this.Gi.length?{done:!1,value:this.Qi(this.Gi[this.Yi++])}:{done:!0,value:void 0}},t}(),Hi="null";var zi=d.create(null);zi.ftp=21,zi.file=0,zi.gopher=70,zi.http=80,zi.https=443,zi.ws=80,zi.wss=443;var Vi=/^(?:\.|%2e)$/i,Wi=/^(?:\.|%2e){2}$/i;function Gi(t){return Vi.test(t)}function qi(t){return Wi.test(t)}function ji(t){return void 0!==zi[t]}function Yi(t){return ji(t.Zi)}function Qi(t){return""!==t.Ki||""!==t.Ji}function Zi(t){var n=t.length;if(!(n>=2))return!1;if(!Ji(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Ki(t){return 2===t.length&&wn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ji(t){return 2===t.length&&Ki(Mn(t))}function $i(t){return Ki(t)&&":"===t[1]}function te(t){var n=t.$i;0!==n.length&&("file"===t.Zi&&1===n.length&&$i(n[0])||n.pop())}function ne(t){return null===t.re||gi===t.re||t.ue||"file"===t.Zi}var ie=-1,ee=/\t|\n|\r/g,re=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function se(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new oe,t=t.replace(re,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,a=!1,c=Wn(t=t.replace(ee,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:ie;switch(r){case 0:if(!In(v)){if(null===e){s.length=0,r=2;continue}throw new l("Invalid scheme")}s.push(Cn(v)),r=1;break;case 1:if(Nn(v)||43===v||45===v||46===v)s.push(Cn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new l("Invalid scheme")}var d=Kn(s);if(null!==e){if(ji(i.Zi)&&!ji(d))return;if(!ji(i.Zi)&&ji(d))return;if((Qi(i)||null!==i.oe)&&"file"===d)return;if("file"===i.Zi&&(i.re===gi||null===i.re))return}if(i.Zi=d,null!==e)return void(Yi(i)&&i.oe===zi[i.Zi]&&(i.oe=null));s.length=0,"file"===i.Zi?r=13:Yi(i)&&n&&n.Zi===i.Zi?r=3:Yi(i)?r=7:47===c[f+1]?(r=4,f+=1):(i.ue=!0,i.$i.push(""),r=18)}break;case 2:if(!n||n.ue&&35!==v)throw new l("Invalid scheme");n.ue&&35===v?(i.Zi=n.Zi,i.$i=n.$i.slice(),i.ji=n.ji,i.fe="",i.ue=!0,r=20):"file"!==n.Zi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===c[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Zi=n.Zi,ie===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.ji=n.ji):47===v?r=6:63===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.ji="",r=19):35===v?(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.ji=n.ji,i.fe="",r=20):92===v&&Yi(i)?r=6:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,i.$i=n.$i.slice(),i.$i.pop(),r=17,f-=1);break;case 6:!Yi(i)||47!==v&&92!==v?47===v?r=9:(i.Ki=n.Ki,i.Ji=n.Ji,i.re=n.re,i.oe=n.oe,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==c[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var w=0;w<s.length;w++){var g=s[w];if(58!==g||a){var m=Kn(fi(g,ai));a?i.Ji+=m:i.Ki+=m}else a=!0}s.length=0}else if(ie===v||47===v||63===v||35===v||Yi(i)&&92===v){if(u&&0===s.length)throw new l("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Zi)f-=1,r=15;else if(58!==v||o)if(ie===v||47===v||63===v||35===v||Yi(i)&&92===v){if(f-=1,Yi(i)&&0===s.length)throw new l("Invalid host");if(null!==e&&0===s.length&&(Qi(i)||null!==i.oe))return;var y=ki(Kn(s),Yi(i));if(i.re=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new l("Invalid host");var k=ki(Kn(s),Yi(i));if(i.re=k,s.length=0,r=12,11===e)return}break;case 12:if(Rn(v))s.push(v);else{if(!(ie===v||47===v||63===v||35===v||Yi(i)&&92===v||null!==e))throw new l("Invalid port");if(0!==s.length){var b=_(Kn(s),10);if(b>65535)throw new l("Invalid port");i.oe=b===zi[i.Zi]?null:b,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Zi="file",47===v||92===v?r=14:n&&"file"===n.Zi?ie===v?(i.re=n.re,i.$i=n.$i.slice(),i.ji=n.ji):63===v?(i.re=n.re,i.$i=n.$i.slice(),i.ji="",r=19):35===v?(i.re=n.re,i.$i=n.$i.slice(),i.ji=n.ji,i.fe="",r=20):(Zi(c.slice(f))||(i.re=n.re,i.$i=n.$i.slice(),te(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Zi&&!Zi(c.slice(f))&&($i(n.$i[0])?i.$i.push(n.$i[0]):i.re=n.re),r=17,f-=1);break;case 15:if(ie===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Ji(s))r=17;else if(0===s.length){if(i.re=gi,null!==e)return;r=16}else{var p=ki(Kn(s),Yi(i));if(0===p.Hi&&"localhost"===p.Wi&&(p=gi),i.re=p,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Yi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.ji="",r=19):null===e&&35===v?(i.fe="",r=20):ie!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(ie===v||47===v||Yi(i)&&92===v||null===e&&(63===v||35===v)){var A=Kn(s);if(qi(A)?(te(i),47===v||Yi(i)&&92===v||i.$i.push("")):!Gi(A)||47===v||Yi(i)&&92===v?Gi(A)||("file"===i.Zi&&0===i.$i.length&&Ji(s)&&(gi!==i.re&&null!==i.re&&(i.re=gi),s[1]=58,A=Kn(s)),i.$i.push(A)):i.$i.push(""),s.length=0,"file"===i.Zi&&(ie===v||63===v||35===v))for(;i.$i.length>1&&""===i.$i[0];)i.$i.shift();63===v?(i.ji="",r=19):35===v&&(i.fe="",r=20)}else s.push.apply(s,fi(v,oi));break;case 18:63===v?(i.ji="",r=19):35===v?(i.fe="",r=20):ie!==v&&(i.$i[0]+=Kn(fi(v,si)));break;case 19:null===e&&35===v?(i.fe="",r=20):ie!==v&&(i.ji+=Kn(fi(v,Yi(i)?hi:ci)));break;case 20:ie===v||0===v||(i.fe+=Kn(fi(v,ui)))}f++}return i}function ue(t,n,i,e){try{se(t,n,i,e)}catch(t){}}var oe=function(){this.Zi="",this.Ki="",this.Ji="",this.re=null,this.oe=null,this.$i=[],this.ji=null,this.fe=null,this.ue=!1};function ae(t){switch(t.Zi){case"blob":var n;try{n=se(t.$i[0],null)}catch(t){return Hi}return ae(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Zi,e=t.re,r=t.oe,i+"://"+bi(e)+(null===r?"":":"+r);case"file":default:return Hi}var i,e,r}var ce,he,fe,ve,le,de,we=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof we&&"object"==typeof i.qi)r=n.qi;else try{r=se(String(n),null)}catch(t){throw new l("Invalid base URL: "+t.message)}try{e=se(String(t),r)}catch(t){throw new l("Invalid URL: "+t.message)}var s=e.ji;this.qi=e,this.ji=function(t){var n=new xi;return null!==t&&Bi(n,t),n}(s),this.ji.qi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Zi+":";if(null!==t.re?(i+="//",Qi(t)&&(i+=t.Ki,""!==t.Ji&&(i+=":"+t.Ji),i+="@"),i+=bi(t.re),null!==t.oe&&(i+=":"+t.oe)):null===t.re&&"file"===t.Zi&&(i+="//"),t.ue)i+=t.$i[0];else for(var e=0,r=t.$i;e<r.length;e++)i+="/"+r[e];return null!==t.ji&&(i+="?"+t.ji),n||null===t.fe||(i+="#"+t.fe),i}(this.qi)},set:function(t){var n;try{n=se(String(t),null)}catch(t){throw new l("Invalid URL: "+t.message)}this.qi=n,Pi(this.ji);var i=this.qi.ji;null!==i&&Bi(this.ji,i)}},{key:"origin",get:function(){return ae(this.qi)}},{key:"protocol",get:function(){return this.qi.Zi+":"},set:function(t){ue(t+":",null,this.qi,0)}},{key:"username",get:function(){return this.qi.Ki},set:function(t){ne(this.qi)||(this.qi.Ki=vi(t,ai))}},{key:"password",get:function(){return this.qi.Ji},set:function(t){ne(this.qi)||(this.qi.Ji=vi(t,ai))}},{key:"host",get:function(){var t=this.qi,n=t.re;if(null===n)return"";var i=t.oe,e=bi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.qi.ue||ue(t,null,this.qi,10)}},{key:"hostname",get:function(){var t=this.qi.re;return null===t?"":bi(t)},set:function(t){this.qi.ue||ue(t,null,this.qi,11)}},{key:"port",get:function(){var t=this.qi.oe;return null===t?"":""+t},set:function(t){ne(this.qi)||(""===t?this.qi.oe=null:ue(t,null,this.qi,12))}},{key:"pathname",get:function(){var t=this.qi.$i;return this.qi.ue?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.qi.ue||(this.qi.$i.length=0,ue(t,null,this.qi,16))}},{key:"search",get:function(){var t=this.qi.ji;return null===t||""===t?"":"?"+t},set:function(t){t=Ii(t);var n=this.qi;if(""===t)return n.ji=null,void Pi(this.ji);"?"===t[0]&&(t=t.slice(1)),n.ji="",ue(t,null,n,19),Bi(this.ji,t)}},{key:"searchParams",get:function(){return this.ji}},{key:"hash",get:function(){var t=this.qi.fe;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.qi.fe="",ue(t,null,this.qi,20)):this.qi.fe=null}}])&&vn(n.prototype,i),e&&vn(n,e),t}();function _e(t){return t.document&&t.document.baseURI||t.location.href||""}var ge=a;function me(t){return Boolean(t&&void 0!==t.length)}function ye(){}function ke(t){if(!(this instanceof ke))throw new l("Promises must be constructed via new");if("function"!=typeof t)throw new l("not a function");this.we=0,this._e=!1,this.me=void 0,this.ye=[],Ee(t,this)}function be(t,n){for(;3===t.we;)t=t.me;0!==t.we?(t._e=!0,ke.ke(function(){var i=1===t.we?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.me)}catch(t){return void Ae(n.promise,t)}pe(n.promise,e)}else(1===t.we?pe:Ae)(n.promise,t.me)})):t.ye.push(n)}function pe(t,n){try{if(n===t)throw new l("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof ke)return t.we=3,t.me=n,void Te(t);if("function"==typeof i)return void Ee((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.we=1,t.me=n,Te(t)}catch(n){Ae(t,n)}var e,r}function Ae(t,n){t.we=2,t.me=n,Te(t)}function Te(t){2===t.we&&0===t.ye.length&&ke.ke(function(){t._e||ke.pe(t.me)});for(var n=0,i=t.ye.length;n<i;n++)be(t,t.ye[n]);t.ye=null}function Se(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Ee(t,n){var i=!1;try{t(function(t){i||(i=!0,pe(n,t))},function(t){i||(i=!0,Ae(n,t))})}catch(t){if(i)return;i=!0,Ae(n,t)}}ke.prototype.catch=function(t){return this.then(null,t)},ke.prototype.then=function(t,n){var i=new this.constructor(ye);return be(this,new Se(t,n,i)),i},ke.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},ke.all=function(t){return new ke(function(n,i){if(!me(t))return i(new l("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new l(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},ke.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ke?t:new ke(function(n){n(t)})},ke.reject=function(t){return new ke(function(n,i){i(t)})},ke.race=function(t){return new ke(function(n,i){if(!me(t))return i(new l("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)ke.resolve(t[e]).then(n,i)})},ke.ke="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){ge(t,0)},ke.pe=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Ie=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Re=o?o.userAgent:"",Ne=Re.match(/Firefox\/([0-9]+)/i),De=null!=Ne,Ce=Ne?Number(Ne[1]):0,Pe=Re.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Be=null!=Pe,Oe=Pe?Number(Pe[3]):0,xe=function(){function t(t){this.Ae=0,this.Te=0,this.Vi=[],this.Se=t}return t.prototype.Ee=function(t){var n=this.length();this.Ie(n+1);var i=this.Te+n&this.Se-1;this.Vi[i]=t,this.Ae=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Se<n)this.Ee(t);else{var i=this.Te+n-1,e=this.Se-1;this.Vi[i&e]=t,this.Ae=n}},t.prototype.shift=function(){var t=this.Te,n=this.Vi[t];return this.Vi[t]=void 0,this.Te=t+1&this.Se-1,this.Ae--,n},t.prototype.length=function(){return this.Ae},t.prototype.Ie=function(t){this.Se<t&&this.Re(this.Se<<1)},t.prototype.Re=function(t){var n=this.Se;this.Se=t;var i=this.Te+this.Ae&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.Vi,0,n,i)},t}();var Le="unhandledrejection",Me=t.PromiseRejectionEvent,Ue=t.CustomEvent;function Xe(t){return new Me(Le,{reason:t,promise:Ie.reject(t).catch(function(){}),cancelable:!0})}function Fe(t){var n=new Ue(Le,{detail:{reason:t},cancelable:!0});return d.defineProperty(n,"reason",{value:t}),n}function He(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Le,!1,!0,{reason:t}),n}var ze,Ve,We,Ge,qe,je,Ye,Qe=function(t){return(Qe=function(){try{var t=Ie.resolve(),n=new Me(Le,{reason:"error",promise:t});return Le===n.type&&"error"===n.reason}catch(t){}return!1}()?Xe:function(){try{var t=new Ue(Le,{detail:{reason:"error"}});return Le===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Fe:He)(t)};if(Ie&&!(De&&Ce<60||Be&&Oe<15))Ve=Ie;else{Ve=ke;var Ze=null!==(ze=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Ie;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==ze?ze:ke.ke,Ke=(We=Ze,Ge=new xe(16),qe=!1,{Ne:function(t){Ge.push(t),qe||(qe=!0,We(je))},De:je=function(){for(;Ge.length()>0;)Ge.shift()();qe=!1}});ke.ke=Ke.Ne,ke.pe=function(n){try{var i=Qe(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}a(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Je(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $e(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function tr(t,n){L.pn&&L.An<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function nr(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function ir(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function er(t){t.removeAttribute("title")}function rr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function sr(t){t.src&&(t.removeAttribute("src"),t.load())}function ur(){return void 0!==s?s.createElement("video"):void 0}function or(){return Ye||(Ye=ur()),Ye}var ar=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),cr=or(),hr=!(!cr||!cr.webkitShowPlaybackTargetPicker),fr=function(){function t(){this.Ce=void 0,this.Pe=!1,this.Wt=ar,this.fn=!1,this.Be=!0,this.Oe=!0}var n=t.prototype;return n.xe=function(){return 0},n.Le=function(t,n){return!0},n.Me=function(t){return t>=1/6*2},A(t,[{key:"Ue",get:function(){return void 0===this.Ce&&(this.Ce=this.xe()),this.Ce}},{key:"Xe",get:function(){return r.devicePixelRatio||1}},{key:"Fe",get:function(){return hr}},{key:"He",get:function(){return!1}},{key:"ze",get:function(){return!0}},{key:"Ve",get:function(){return L.Cn||L.un}},{key:"We",get:function(){return!0}},{key:"Ge",get:function(){return!0}},{key:"qe",get:function(){return!1}},{key:"je",get:function(){}},{key:"Ye",get:function(){return!0}},{key:"Qe",get:function(){return!1}}]),t}(),vr=function(){var t=ur();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.$t)return!1;var t=ur();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var lr=function(t){function n(n){var i;return(i=t.call(this)||this).Ze=void 0,i.Ze=n,i.Ze&&(i.Pe=i.Ze.Pe,i.Wt=i.Ze.Wt,i.Be=vr&&i.Ze.Be),i}S(n,t);var i=n.prototype;return i.xe=function(){return this.Ze?this.Ze.Ue:t.prototype.xe.call(this)},i.Le=function(n,i){return this.Ze?this.Ze.Le(n,i):t.prototype.Le.call(this,n,i)},i.Me=function(n){return this.Ze?this.Ze.Me(n):t.prototype.Me.call(this,n)},A(n,[{key:"je",get:function(){var t;return null==(t=this.Ze)?void 0:t.je}},{key:"Ye",get:function(){var t,n;return null==(t=null==(n=this.Ze)?void 0:n.Ye)||t}}]),n}(fr),dr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Pe=!0,i.fn=!0,i}return S(n,t),A(n,[{key:"qe",get:function(){return L.un}}]),n}(lr),wr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.xe=function(){return ve.MediaSource?t.prototype.xe.call(this):1},A(n,[{key:"qe",get:function(){return!0}}]),n}(dr),_r=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(n,i){return t.prototype.Le.call(this,n,i)},A(n,[{key:"He",get:function(){return L.An<3}},{key:"ze",get:function(){return L.An>=3}},{key:"Qe",get:function(){return L.An<3}}]),n}(lr),gr=function(t){function n(){return t.call(this)||this}return S(n,t),n}(fr),mr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Le=function(t,n){if(t&&t.Ke&&n&&n.Ke){var i=yr(t.Ke,"mp4a.40.2")&&yr(n.Ke,"mp4a.40.5"),e=yr(t.Ke,"mp4a.40.5")&&yr(n.Ke,"mp4a.40.2"),r=yr(t.Ke,"mp4a.40.2")&&yr(n.Ke,"mp4a.40.34"),s=yr(t.Ke,"mp4a.40.34")&&yr(n.Ke,"mp4a.40.2"),u=yr(t.Ke,"mp4a.40.5")&&yr(n.Ke,"mp4a.40.34"),o=yr(t.Ke,"mp4a.40.34")&&yr(n.Ke,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"je",get:function(){if(L.Gt)return 4096}}]),n}(gr);function yr(t,n){return t.indexOf(n)>-1}var kr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Me=function(t){return t>=2},n}(gr),br=function(t){function n(){var n;return(n=t.call(this)||this).Pe=L.Pn>=11,n.Be=L.Cn&&!(L.un&&L.Pn<10),n}return S(n,t),n}(gr),pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"We",get:function(){return!1}}]),n}(lr),Ar=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ye",get:function(){return!L.qt||(L._n?92!==L.yn:L.wn>=100)}}]),n}(gr),Tr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"qe",get:function(){return!0}}]),n}(lr),Sr=function(){function n(){var n;this.Je=void 0,this.$e=new tn,this.ir=new Er,this.er=(n=function(){if(L.Nn)return new mr;if(L.Sn||L.En)return new kr;if(L.Cn)return new br;if(L.dn)return new Ar;return new gr}(),L.un?new wr(n):L.fn?new dr(n):L.pn?new _r(n):L.Tn?new pr(n):L.Gt?new Tr(n):new lr(n)),this.rr=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Je=function(){return t.performance.now()}:this.Je=zt}var i=n.prototype;return i.dr=function(){st.apply(void 0,arguments)},i.wr=function(){ut.apply(void 0,arguments)},i._r=function(){ot.apply(void 0,arguments)},i.gr=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];at.apply(void 0,[t].concat(i))},i.jn=function(t,n){return a(t,n)},i.yr=function(t,n){return h(t,n)},i.qn=function(t){c(t)},i.pr=function(t){f(t)},i.ei=function(t){return this.$e.ei(t)},i.Ar=function(){return this.Tr.Ar()},i.Sr=function(){return this.Tr.Sr()},i.Er=function(){return this.Tr.Er()},i.Ir=function(){return this.Tr.Ir()},i.Rr=function(){return this.Tr.Rr()},i.Nr=function(t,n){return this.Tr.Nr(t,n)},i.Dr=function(t){return this.Tr.Dr(t)},i.Cr=function(t,n){var i;return void 0===n&&(n=_e(ve)),i="object"!=typeof n||n instanceof we?n:n.href,new we(t,i)},i.Pr=function(n,i){if(void 0===i&&(i=_e(ve)),this.rr){var e=G(i)?i:i.toString();return new t.URL(n,e).href}return this.Cr(n,i).href},A(n,[{key:"Br",get:function(){return this.ir}},{key:"Or",get:function(){return this.er}},{key:"xr",get:function(){return{Lr:o&&o.userAgent.match(/Android /i)?"Android":"other",Mr:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ur",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Xr",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Er=function(){function t(){}return A(t,[{key:"Fr",get:function(){return o.oscpu}},{key:"Or",get:function(){return o.platform}},{key:"Hr",get:function(){return o.vendor}},{key:"zr",get:function(){return o.vendorSub}}]),t}();var Ir={exports:{}};!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function a(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=d.create(r.prototype),u=new C(e||[]);return s.Vr=function(t,n,i){var e=h;return function(r,s){if(e===w)throw new v("Generator is already running");if(e===_){if("throw"===r)throw s;return B()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Wr=i.arg;else if("throw"===i.method){if(e===h)throw e=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var a=c(t,n,i);if("normal"===a.type){if(e=i.done?_:f,a.arg===g)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(e=_,i.method="throw",i.arg=a.arg)}}}(t,i,u),s}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",w="executing",_="completed",g={};function y(){}function k(){}function b(){}var p={};p[s]=function(){return this};var A=d.getPrototypeOf,T=A&&A(A(P([])));T&&T!==i&&e.call(T,s)&&(p=T);var S=b.prototype=y.prototype=d.create(p);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Vr(n,t)}})}function I(t){var n;this.Vr=function(i,r){function s(){return new Ve(function(n,s){!function n(i,r,s,u){var o=c(t[i],t,r);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&e.call(h,"Gr")?Ve.resolve(h.Gr).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Ve.resolve(h).then(function(t){a.value=t,s(a)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new l("The iterator does not provide a 'throw' method")}return g}var r=c(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new l("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:B}}function B(){return{value:n,done:!0}}k.prototype=S.constructor=b,b.constructor=k,b[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,b):(t.__proto__=b,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Gr:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(a(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Wr=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var a=e.call(u,"catchLoc"),c=e.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:P(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(Ir.exports);var Rr=Ir.exports;function Nr(){return(Nr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Dr(){var t=d.create(null);return t.qr=void 0,delete t.qr,t}function Cr(){return new Mr}function Pr(){return new Fr}function Br(t){var n=Cr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}function Or(t){var n=[];return t.forEach(function(t){return n.push(t)}),n}var xr,Lr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Mr=Lr||(xr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Dr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Dr(),this.size=0},n.keys=function(){return new xr(this.data,function(t,n){return n})},n.values=function(){return new xr(this.data,function(t,n){return t[n]})},n.entries=function(){return new xr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ur,Xr,Fr=Lr||(Ur=function(){function t(t,n){this.jr=void 0,this.Yr=void 0,this.jr=t,this.Yr=n}var n=t.prototype;return n.next=function(){var t=this.jr.next();return t.done?t:{value:this.Yr(t.value),done:!1}},t}(),function(){function t(){this.Qr=Cr()}var n=t.prototype;return n.get=function(t){return this.Qr.get(""+t)},n.set=function(t,n){return this.Qr.set(""+t,n),this},n.has=function(t){return this.Qr.has(""+t)},n.delete=function(t){return this.Qr.delete(""+t)},n.clear=function(){this.Qr.clear()},n.keys=function(){return new Ur(this.Qr.keys(),function(t){return Number(t)})},n.values=function(){return this.Qr.values()},n.entries=function(){return new Ur(this.Qr.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Qr.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.Qr.size}}]),t}());!function(t){t.Zr="9a04f079-9840-4286-ab92-e65be0885f95",t.Kr="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.Jr="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.$r="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Xr||(Xr={}));var Hr,zr="urn:mpeg:dash:mp4protection:2011",Vr="cenc",Wr="sinf",Gr="skd",qr=Xr.Zr,jr="urn:uuid:"+qr,Yr="com.microsoft.playready",Qr=Xr.Kr,Zr="urn:uuid:"+Qr,Kr=Xr.Jr,Jr="urn:uuid:"+Kr,$r=Xr.$r,ts="urn:uuid:"+$r,ns="com.apple.fps.1_0",is="com.apple.streamingkeydelivery";!function(t){t.Zr="playready",t.Kr="widevine",t.$r="fairplay",t.Jr="clearkey",t.rs="aes128"}(Hr||(Hr={}));var es={us:Hr.Zr,hs:Yr,fs:"cenc",vs:qr,ls:jr,ds:"PlayReady"},rs={us:Hr.Kr,hs:"com.widevine.alpha",fs:"cenc",vs:Qr,ls:Zr,ds:"Widevine"},ss={us:Hr.$r,hs:ns,fs:"skd",vs:$r,ls:ts,ds:"FairPlay"},us={us:Hr.$r,hs:"com.apple.fps",fs:"sinf",vs:$r,ls:ts,ds:"FairPlay"},os={us:Hr.Jr,hs:"org.w3.clearkey",fs:"cenc",vs:Kr,ls:Jr,ds:"ClearKey"},as=[es,rs,ss,os];function cs(t){return as.filter(function(n){return n.ls===t.toLowerCase()})}function hs(t,n,i){return t.split(n).join(i)}function fs(t,n){return null!=t&&-1!==t.indexOf(n)}function vs(t,n){return null!=t&&t.substr(0,n.length)===n}function ls(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ds(t,n){return t.toUpperCase()===n.toUpperCase()}function ws(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function _s(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=ws(e,r/e.length)),e.slice(0,r)+t)}function gs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ys(n)}var ms=16384;function ys(t){var n=t.length;if(n<=ms)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ms)i.push(String.fromCharCode.apply(String,t.slice(e,e+ms)));return i.join("")}var ks=L.dn&&L.wn>=42||L.Nn&&L.Dn>=38||L.Sn||L.In||L.Bn&&L.On>=29;function bs(t,n){return fs(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Nr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ps(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function As(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ts,Ss=function(){function t(t){this._s=void 0,this.gs=Cr(),this.ys=void 0,this._s=t}var n=t.prototype;return n.Rr=function(){return this.Dr(rs)},n.Sr=function(){return this.Dr(os)},n.Ir=function(){return this.Dr(es)},n.Er=function(){return this.Dr(ss)},n.Dr=function(t){var n=t.ls,i=this.gs.get(n);if(i)return i;var e=this.Nr(t,'video/mp4; codecs="avc1.42000a"');return this.gs.set(n,e),e},n.Nr=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this._s.As(t.hs,[bs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Rr.awrap(this._s.As(t.hs,[bs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],Ve)},n.Ar=function(){return this.ys||(this.ys=this.Ts()),this.ys},n.Ts=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==le.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ks){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Rr.awrap(this.Sr());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,Ve)},t}();function Es(t,n){return Rs(t.slice(),n)}function Is(t,n){var i=Rs(t,n);return i!==t&&Ns(i,void 0,t.length,t),t}function Rs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ns(i,n,s,r);var u=i;i=r,r=u}return i}function Ns(t,n,i,e){var r,s,u,o,a,c=t.length,h=0,f=2*i;for(s=0;s<c;s+=f)for(r=(u=s+i)+i,u>c&&(u=c),r>c&&(r=c),o=s,a=u;;)if(o<u&&a<r)n&&n(t[o],t[a])<=0?e[h++]=t[o++]:e[h++]=t[a++];else if(o<u)e[h++]=t[o++];else{if(!(a<r))break;e[h++]=t[a++]}}!function(t){t[t.Ss=0]="Ss",t[t.Es=1]="Es",t[t.Is=-1]="Is"}(Ts||(Ts={}));var Ds=function(t,n){return(0|t)-(0|n)},Cs=function(t,n){return t===n?Ts.Ss:t<n?Ts.Is:t>n?Ts.Es:m(t)?m(n)?Ts.Ss:Ts.Es:Ts.Is};function Ps(t,n,i){return Mt(t,n,i)?Ts.Ss:Cs(t,n)}var Bs=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<xt||i<w.max(w.abs(t),w.abs(n))*xt}(t,n)?Ts.Ss:Cs(t,n)};function Os(t,n,i){var e=Ls(t,n,i);return-1===e?void 0:t[e]}function xs(t,n,i){var e=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ls(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ms(t,n){var i=t.indexOf(n);return-1!==i&&(Us(t,i),!0)}function Us(t,n){t.splice(n,1)}function Xs(t,n){return-1!==t.indexOf(n)}function Fs(t,n){for(var i=0;i<n.length;i++){if(!Xs(t,n[i]))return!1}return!0}function Hs(t){t.length=0}function zs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Vs(t,n){return Gs(t,function(t,i){return Cs(n(t),n(i))})}function Ws(t,n){return function(t,n){return Gs(t,function(t,i){return n(i,t)})}(t,function(t,i){return Cs(n(t),n(i))})}function Gs(t,n){if(0!==t.length)return t.reduce(function(t,i){return n(t,i)<=0?t:i})}function qs(t,n){return Ve.all(t.map(n)).then(function(n){return t.filter(function(t,i){return n[i]})})}function js(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Rr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,Ve)}function Ys(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Qs=function(){function t(){this.Rs=!1,this.Ns=!1,this.Ds=[],this.Cs=[]}var n=t.prototype;return n.Ps=function(){if(!this.Rs&&!this.Ns){this.Rs=!0;for(var t=0,n=this.Ds.slice();t<n.length;t++){(0,n[t])()}this.Bs()}},n.Bs=function(){if(!this.Ns){this.Ns=!0;for(var t=0,n=this.Cs.slice();t<n.length;t++){(0,n[t])()}Hs(this.Ds),Hs(this.Cs)}},n.Os=function(t){this.Ns||this.Ds.push(t)},n.xs=function(t){this.Ns||Ms(this.Ds,t)},n.Ls=function(t){this.Ns||this.Cs.push(t)},n.Ms=function(t){this.Ns||Ms(this.Cs,t)},t}(),Zs=function(){function t(){this.Us=new Qs}var n=t.prototype;return n.Xs=function(){this.Us.Ps()},n.Bs=function(){this.Us.Bs()},n.Fs=function(t){var n=this.Us;if(!n.Rs)if(t.Rs)n.Ps();else if(!n.Ns&&!t.Ns){var i=function(){e(),n.Ps()},e=function e(){t.xs(i),t.Ms(e),n.xs(i),n.Ms(e)};t.Os(i),t.Ls(e),n.Os(i),n.Ls(e)}},n.Hs=function(){var n=new t,i=new t,e=n.zs,r=i.zs,s=this.Us,u=function(){e.Rs&&r.Ns||r.Rs&&e.Ns?s.Ps():e.Ns&&r.Ns&&s.Bs()};e.Os(u),r.Os(u),e.Ls(u),r.Ls(u),n.Fs(s),i.Fs(s);return s.Ls(function(){e.xs(u),r.xs(u),e.Ms(u),r.Ms(u)}),[n,i]},A(t,[{key:"zs",get:function(){return this.Us}}]),t}(),Ks=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Jt);function Js(t){return t instanceof v&&"AbortError"===t.name}function $s(t){if(t&&t.Rs)throw new Ks}function tu(t){if(Js(t))throw t}function nu(t){if(!Js(t))throw t}function iu(t,n){return n?new Ve(function(i,e){if(n.Rs)return t.catch(Z),e(new Ks);var r=function t(){n.xs(t),e(new Ks)};n.Os(r),t.then(function(t){n.xs(r),i(t)},function(t){n.xs(r),e(t)})}):t}function eu(t,n){return t.then(function(t){return n.Bs(),t},function(t){throw n.Bs(),t})}function ru(t,n){var i=new Zs;return n&&i.Fs(n),t(i.zs).then(function(t){return i.Xs(),t},function(t){throw i.Xs(),t})}var su=Ve.resolve();function uu(t){su.then(t)}function ou(t){t.then(Z,Z)}function au(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(Ve.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],Ve)}function cu(t,n){return new Ve(function(e,r){if(void 0!==n&&n.Rs)r(new Ks);else{var s=i.jn(function(){void 0!==n&&n.xs(u),e()},t),u=function(){i.qn(s),r(new Ks)};void 0!==n&&n.Os(u)}})}function hu(t){return t&&"function"!=typeof t?t.slice():t}function fu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var vu,lu=function(){function t(t){var n=this;this.Vs=Dr(),this.Ws=void 0,this.Gs=void 0,this.qs=function(t){n.js(t)},this.Gs=t||this}var n=t.prototype;return n.Ys=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Qs(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Qs(e,n)}},n.Qs=function(t,n){var i=this.Vs[t];i?"function"==typeof i?this.Vs[t]=[i,n]:i.push(n):this.Vs[t]=n},n.Zs=function(t){if("function"==typeof t){var n=this.Ws;n?"function"==typeof n?this.Ws=[n,t]:n.push(t):this.Ws=t}},n.Ks=function(){this.Vs=Dr(),this.Ws=void 0},n.js=function(t){var n=hu(this.Vs[t.type]),i=hu(this.Ws);fu(this.Gs,t,n),fu(this.Gs,t,i)},n.Js=function(t,n){if("function"==typeof n)if("string"==typeof t)this.$s(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.$s(e,n)}},n.$s=function(t,n){var i=this.Vs[t];i&&("function"==typeof i?i===n&&(this.Vs[t]=void 0):Ms(i,n))},n.tu=function(t){if("string"==typeof t)this.Vs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Vs[i]=void 0}},n.nu=function(t){var n=this.Ws;n&&("function"==typeof n?n===t&&(this.Ws=void 0):Ms(n,t))},n.uu=function(t,n){var i=this;return new Ve(function(e,r){if(n&&n.Rs)return r(new Ks);var s=function(t){o(),e(t)},u=function(){o(),r(new Ks)},o=function(){i.Js(t,s),n&&n.xs(u)};i.Ys(t,s),n&&n.Os(u)})},t}(),du=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.js=function(n){var i=this;uu(function(){t.prototype.js.call(i,n)})},n}(lu),wu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},_u=["cenc"],gu=["cbcs","cbcs-1-9"],mu=function(t){function n(n){var i;return(i=t.call(this,"au")||this).ou=n,i}return S(n,t),n}(wu),yu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"fu")||this).ou=n,s.vu=i,s.fu=e,s.du=r,s}return S(n,t),n}(wu),ku=function(t){function n(){return t.call(this,"wu")||this}return S(n,t),n}(wu);!function(t){t._u="mu",t.yu="bu"}(vu||(vu={}));var bu=function(t){function n(n,i){var e;return(e=t.call(this,vu._u)||this).fs=n,e.pu=i,e}return S(n,t),n}(wu),pu=function(t){function n(){return t.call(this,vu.yu)||this}return S(n,t),n}(wu),Au=new y([0]).buffer,Tu=function(){function t(){this.Au=void 0,this.Au=[]}var n=t.prototype;return n.Tu=function(t){for(var n=0,i=this.Au;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Su=function(t){for(var n=0,i=this.Au;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Eu=function(t,n){this.Au.forEach(function(n){return t(n[1],n[0])},n)},n.Iu=function(t,n){this.Au.push([t,n])},n.Ru=function(){Hs(this.Au)},A(t,[{key:"Nu",get:function(){return this.Au.length}}]),t}(),Su="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Eu=16383,Iu=/[\t\n\f\r ]/g;function Ru(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Nu()}function Nu(){throw new v("Invalid base64 input")}function Du(t){var n=t;Iu.test(n)&&(n=n.replace(Iu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Nu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,a=0,c=0;a<o;a+=4)r=Ru(n.charCodeAt(a))<<18|Ru(n.charCodeAt(a+1))<<12|Ru(n.charCodeAt(a+2))<<6|Ru(n.charCodeAt(a+3)),u[c++]=r>>16&255,u[c++]=r>>8&255,u[c++]=255&r;return 2===s?(r=Ru(n.charCodeAt(a))<<2|Ru(n.charCodeAt(a+1))>>4,u[c++]=255&r):1===s&&(r=Ru(n.charCodeAt(a))<<10|Ru(n.charCodeAt(a+1))<<4|Ru(n.charCodeAt(a+2))>>2,u[c++]=r>>8&255,u[c++]=255&r),u}function Cu(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Su[e>>2]+Su[(3&e)<<4|r>>4]+Su[(15&r)<<2|s>>6]+Su[63&s]));return u.join("")}function Pu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Eu)e.push(Cu(t,s,w.min(r,s+Eu)));if(1===i){var u=t[n-1];e.push(Su[u>>2]+Su[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];e.push(Su[o>>2]+Su[(3&o)<<4|a>>4]+Su[(15&a)<<2]+"=")}return e.join("")}var Bu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Ou=ArrayBuffer.isView||function(t){return t&&Xs(Bu,U.call(t))};function xu(t,n){return t===n||t.byteLength===n.byteLength&&Lu(new y(t),new y(n))}function Lu(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}function Mu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Uu(t,n)}function Uu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Xu(t){return Du(t).buffer}function Fu(t){return Pu(new y(t))}function Hu(t){return Pu(So(t))}function zu(t,n){var i=n.Du,e=t.getUint8(i>>3),r=1<<7-(7&i);return n.Cu(1),(e&r)===r?1:0}function Vu(t,n,i){for(var e=0,r=0;r<i;r++)e=2*e+zu(t,n);return e}var Wu=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},A(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function Gu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function qu(t,n){return t>>n&63|128}function ju(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Gu(t),n.push(t>>12&15|224),n.push(qu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(qu(t,12)),n.push(qu(t,6))),n.push(63&t|128)):n.push(t)}function Yu(t,n){if(n.Du>=t.length)throw new v("Invalid byte index");var i=255&t[n.Du];if(n.Cu(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Qu(t,n){var i=n.Du;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Cu(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Yu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Yu(t,n)<<6|Yu(t,n);if(s>=2048)return Gu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Yu(t,n)<<12|Yu(t,n)<<6|Yu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Zu=65279;var Ku=[128,64,32,16,8,4,2,1],Ju=function(){function t(t){this.xu=t}return t.prototype.Lu=function(t){return $u(this.xu,t)},t}();function $u(t,n){return(t&n)===n}function to(t,n){return $u(t,Ku[n])}function no(t,n){var i=t.getUint8(n.Du);return n.Cu(1),i}function io(t,n,i){t.setUint8(n.Du,i),n.Cu(1)}function eo(t,n,i){var e=Bo(Lo(t),n.Du,n.Du+i);return n.Cu(e.byteLength),e}function ro(t,n,i){Lo(t).set(Lo(i),n.Du),n.Cu(i.byteLength)}function so(t,n,i){return n.Du+i<=t.byteLength}function uo(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=no(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+no(t,n);return e}(t,n,i)}function oo(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Du,i);return n.Cu(2),e}function ao(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Du,i,e),n.Cu(2)}function co(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Du,i);return n.Cu(4),e}function ho(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Du,i,e),n.Cu(4)}function fo(t,n,i){void 0===i&&(i=!1);var e=co(t,n,i),r=co(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!0)}function vo(t,n){var i=no(t,n);if(i)return String.fromCharCode(i)}function lo(t,n){return go(t,n)}function wo(t,n,i){for(var e="",r=0;r<i;r++)e+=vo(t,n);return e}function _o(t,n){var i,e=no(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&no(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&no(t,n))+(63&no(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&no(t,n))+64*(63&no(t,n))+(63&no(t,n))),i}function go(t,n){return mo(t,n,!0)}function mo(t,n,i){for(var e=[];n.Du<t.byteLength;){var r=no(t,n);if(i&&!r)break;e.push(r)}return ys(e)}function yo(t,n){if(n.Du+2<=t.byteLength){var i=t.getUint8(n.Du),e=t.getUint8(n.Du+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function ko(t,n){var i=yo(t,n);return void 0!==i&&n.Cu(2),bo(t,n,!0===i)}function bo(t,n,i){return void 0===i&&(i=!1),po(t,n,i,!0)}function po(t,n,i,e){for(var r=[];n.Du+2<=t.byteLength;){var s=oo(t,n,i);if(e&&!s)break;r.push(s)}return ys(r)}function Ao(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){ao(t,n,i.charCodeAt(s),e)}}function To(t){return mo(xo(t),new zo,!1)}function So(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)io(t,n,i.charCodeAt(r))}(xo(n),new zo,t),n}function Eo(t,n){return void 0===n&&(n=!1),po(xo(t),new zo,n,!1)}function Io(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ao(xo(i),new zo,t,n),i}function Ro(t,n){return n.Du+3<=t.byteLength&&(239===t.getUint8(n.Du)&&187===t.getUint8(n.Du+1)&&191===t.getUint8(n.Du+2))}function No(t,n){return function(t,n,i){var e=[];Ro(t,n)&&n.Cu(3);for(;n.Du<t.byteLength;){var r=_o(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return gs(e)}(t,n,!0)}function Do(t){return gs(function(t,n){var i,e=[],r=new zo;if(!n){if(!1===(i=Qu(t,r)))return e;i===Zu||e.push(i)}for(;!1!==(i=Qu(t,r));)e.push(i);return e}(Lo(t)))}function Co(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ju(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function Po(t,n){if(Ro(t,n))return No(t,n);if(void 0!==yo(t,n))return ko(t,n);if(n.Du+4<=t.byteLength){if(0===t.getUint8(n.Du)&&0===t.getUint8(n.Du+2))return bo(t,n,!1);if(0===t.getUint8(n.Du+1)&&0===t.getUint8(n.Du+3))return bo(t,n,!0)}return No(t,n)}function Bo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function xo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Mo(t){return t instanceof ArrayBuffer||Ou(t)}function Uo(t){return t instanceof ArrayBuffer?new y(t):Lo(t)}function Xo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):Fo(Bo(t,n,i))}function Fo(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}function Ho(t){return[].slice.call(t)}var zo=function(){function t(t){void 0===t&&(t=0),this.Pu=t}var n=t.prototype;return n.Cu=function(t){this.Pu+=t},n.Bu=function(t){this.Pu=t},n.Ou=function(){return new t(this.Du)},n.Mu=function(){return new Wu(this.Du<<3)},A(t,[{key:"Du",get:function(){return this.Pu}}]),t}();function Vo(t){var n=t.toLowerCase(),i=0,e=0;vs(n,"0x")&&(n=n.substring(2));var r=new y(w.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=_(n[0],16));i<n.length;i+=2)r[e++]=_(n.substr(i,2),16);return r}var Wo=function(){function t(){var t=this;this.Uu=void 0,this.Xu=void 0,this.Fu=void 0,this.Uu=new Ve(function(n,i){t.Xu=n,t.Fu=i})}var n=t.prototype;return n.Hu=function(t){this.Xu&&(this.Xu(t),this.Bs())},n.Vu=function(t){this.Fu&&(this.Fu(t),this.Bs())},n.Xs=function(){this.Uu.catch(Z),this.Vu(new Ks)},n.Bs=function(){this.Xu=void 0,this.Fu=void 0},t}();function Go(){return new y([8,4]).buffer}function qo(t){return xu(t,Go())}function jo(t,n){return t===Yr?function(t){if(t.byteLength<2*Yo.length)return t;if(Eo(new DataView(t,0,2*Yo.length),!0)===Yo)return t;return n=t,Io('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Fu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Yo="<PlayReady";var Qo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Wu=void 0,s.Gu=void 0,s.Wu=i,s.Gu=e,s}return S(n,t),n}(Jt),Zo=function(t,n){return(Zo=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Ko(t,n){if("function"!=typeof n&&null!==n)throw new l("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Zo(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function Jo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function $o(t,n,i){return w.min(w.max(t,n),i)}function ta(t,n){return t>>8-n}function na(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.ju=t,this.Yu=n}t.prototype.get=function(t){var n=this.ju.get(t);if(0===this.Yu||void 0===n)return n;var i=this.ju.get(t+1)||0,e=n&(1<<8-this.Yu)-1,r=i>>8-this.Yu;return(e<<this.Yu)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.ju.get(w.floor((t+this.Yu)/8));if(void 0!==n)return(n&1<<7-this.Yu-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.ju.bitLength-this.Yu},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.ju.length},enumerable:!1,configurable:!0})}();var ia=function(){function t(t){this.Qu=t,this.Zu=0,this.Ku=0}return d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Zu+this.Ku},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.Zu===this.Qu.length&&0===this.Ku},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Zu,bit:this.Ku}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Qu);return n.seek(this.Zu,this.Ku),n},t.prototype.canReadBits=function(t){return 8*this.Zu+t+this.Ku<=8*this.Qu.length},t.prototype.canReadBytes=function(t){return 0===this.Ku?this.Zu+t<=this.Qu.length:this.Zu+t<this.Qu.length},t.prototype.incBit=function(){this.Ku++,this.Ku>7&&(this.Zu++,this.Ku=0)},t.prototype.seek=function(t,n){this.Zu=t,this.Ku=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Qu.get(this.Zu)>>7-this.Ku&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ku)return this.Qu.get(this.Zu++);var t=na(this.Qu.get(this.Zu),8-this.Ku),n=ta(this.Qu.get(this.Zu+1),this.Ku);return this.Zu++,t<<this.Ku|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ku&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-w.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ku+t;this.Zu+=n>>3,this.Ku=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),ea=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},ra=function(){function t(){this.Ju=[],this.$u=[],this.Ae=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.$u.length)this.$u.push(0);else{var e=this.$u[this.$u.length-1]+this.Ju[this.Ju.length-1].length;this.$u.push(e)}this.Ju.push(t.subarray(n,n+i)),this.Ae+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ju;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ju=[],this.$u=[],this.Ae=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.$u[n];return this.Ju[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ju.length<1)return-1;if(this.Ju.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ju[0];return"number"==typeof t?Jo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Jo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,a=1;u<o&&t[u]===n[a];u++,a++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=w.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.$u,t,ea)},t.prototype.join=function(){if(1===this.Ju.length)return this.Ju[0];var t=new y(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*w.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=$o(n,0,this.length),r=$o(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ju[u],a=e,c=a-this.$u[u];a+o.length-c<r;)s.pushRange(o,c,o.length-c),u+=1,c=(a+=o.length-c)-this.$u[u],o=this.Ju[u];var h=r-a;return s.pushRange(o,c,h),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ju.length-1,e=this.Ju[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ju[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),sa=function(){function t(n){this.uo=n||t.BUFFER_CHUNK_SIZE,this.oo=!1,this.ao=new ra,this.Qu=new y(this.uo),this.do=0,this._o=0,this.Ku=7}return t.prototype.closeByte=function(){this.Qu[this.do++]=this._o,this.do>=this.uo&&this.closeBuffer(),this._o=0,this.Ku=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.do&&(this.ao.pushRange(this.Qu,0,this.do),t&&(this.Qu=new y(this.uo)),this.do=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ku},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.oo)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.oo=!0,this.ao},t.prototype.writeBit=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this._o|=t<<this.Ku,0===this.Ku?this.closeByte():this.Ku--},t.prototype.writeByte=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this._o=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ku;this._o|=ta(t,n+1),this.closeByte(),this._o=na(t,8-n)<<n+1,this.Ku=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.oo)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.do+t.length<=this.uo?(this.Qu.set(t,this.do),this.do+=t.length,this.do===this.uo&&this.closeBuffer()):(this.closeBuffer(),this.ao.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ku;this._o|=ta(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=na(t[i-1],8-n),r=ta(t[i],n+1);this._o=e<<n+1|r,this.closeByte()}this._o=na(t[t.length-1],8-n)<<n+1,this.Ku=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=w.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(w.abs(t)>=w.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+w.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=w.floor(w.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ua=function(){function t(t){this.rb=new ra,this.mo=t}return t.prototype.closeWriter=function(){void 0!==this.mo&&(this.rb=this.rb.concat(this.mo.close()),this.mo=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.mo&&(this.mo=new sa),this.mo},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),oa=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(w.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ua;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=w.pow(2,32),t}();function aa(t,n){return t instanceof ht?64===n:t<w.pow(2,n)}function ca(t,n){return w.round(t*w.pow(2,n))}function ha(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function fa(t,n){return t/w.pow(2,n)}var va=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(oa),la=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(ra.from(this.data))},n}(oa),da=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function wa(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=_a)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=_a)i.push(String.fromCharCode.apply(String,t.slice(e,e+_a)));return i.join("")}(n)}var _a=16384;var ga=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function ma(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ya(t,n,i){return n.offset+i<=t.byteLength}function ka(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function ba(t,n,i){void 0===i&&(i=!1);var e=ka(t,n,i),r=ka(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!0)}function pa(t,n){var i=ma(t,n);if(i)return String.fromCharCode(i)}function Aa(t,n,i){for(var e="",r=0;r<i;r++)e+=pa(t,n);return e}function Ta(t,n){var i,e=ma(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&ma(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&ma(t,n))+(63&ma(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&ma(t,n))+64*(63&ma(t,n))+(63&ma(t,n))),i}function Sa(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Ta(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return wa(e)}(t,n,!0)}function Ea(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Ia(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ra(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Na=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new da(this.offset<<3)},t}(),Da=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return ma(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return ka(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=ka(t,n,i),r=ka(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return ba(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=Ea(Ra(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ka(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Aa(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Sa(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Ca(t,n){return t.type===n}var Pa=8;function Ba(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=Oa(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function Oa(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ya(t,n,Pa)){var e=n.offset+Pa;return{complete:!1,neededOffset:e}}var r=ka(t,n),s=Aa(t,n,4);if(1===r){if(!ya(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=ba(t,n).toNumber()}if("uuid"===s){if(!ya(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Aa(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var a,c,h,f={type:r.type,offset:i,data:new Da((a=t,c=i,h=u,void 0===c&&(c=0),void 0===h&&(h=a.byteLength),new DataView(a.buffer,a.byteOffset+c,h-c)),new Na(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function xa(t){return{version:t>>24,flags:new ga(16777215&t)}}function La(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Ma(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function Ua(t){var n=t.nextUint32Array(9);return{a:fa(n[0],16),b:fa(n[1],16),u:fa(n[2],30),c:fa(n[3],16),d:fa(n[4],16),v:fa(n[5],30),x:fa(n[6],16),y:fa(n[7],16),w:fa(n[8],30)}}function Xa(t){return new la(t.type,Ea(Ra(t.data.data),t.data.cursor.offset))}var Fa=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Ko(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.Ao},set:function(t){this.Ao=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(va);function Ha(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Fa(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Ko(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Fa);var za=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.To},set:function(t){if(!aa(t,8))throw new v("Provided tag does not fit in 8 bits.");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a=t.call(this,4,o.fixed28BitMode)||this;return a.upStream=e,a.decoderSpecificInfo=u,a.objectTypeIndication=n,a.streamType=i,a.bufferSizeDb=r,a.maxBitrate=s.max,a.avgBitrate=s.avg,a}Ko(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.So},set:function(t){if(!aa(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.So=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.Eo},set:function(t){if(!aa(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.Eo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!aa(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Ro},set:function(t){if(!aa(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Ro=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.No},set:function(t){if(!aa(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.No=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(za),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Ko(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(ra.from(this.data))}}(za);var Va=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Ko(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(za);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Va(r.fixed28BitMode),s}Ko(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.Do},set:function(t){if(!aa(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Do=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.Co},set:function(t){if(!aa(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.Co=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.Po},set:function(t){if(t&&!aa(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.Po=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.Bo},set:function(t){if(t&&!aa(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(za);var Wa=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Ko(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(oa),Ga=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Wa),qa=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Ko(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.Oo},set:function(t){if(!aa(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ga),ja=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Ko(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.xo},set:function(t){if(!aa(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.Lo},set:function(t){if(!aa(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.Lo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.Mo},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ca(this.sampleRate,16),32),this.extra&&ha(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Ko(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.Xo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.Xo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.Fo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.Fo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.Ho},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.Ho=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.zo},set:function(t){if(!aa(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.zo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.Vo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.Vo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.Wo},set:function(t){if(!aa(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.Wo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.Go},set:function(t){if(!aa(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.Go=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.qo},set:function(t){if(!aa(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this.qo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(oa),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(va),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.jo},set:function(t){this.flags=void 0===t?1:0,this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Ko(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.jo},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.jo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(va),function(t){function n(){return t.call(this,"dinf")||this}Ko(n,t)}(Ga);var Ya=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!aa(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Ko(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.po},set:function(t){this.po=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Wa);!function(t){function n(){return t.call(this,"dref",0,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ya);var Qa=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!aa(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!aa(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(va),Za=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa),Ka=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Qa);function Ja(t){for(var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var a=void 0,c=void 0;0===e?(a=n.nextUint32(),c=n.nextInt32()):(a=n.nextUint64(),c=n.nextInt64());var h=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:a,mediaTime:c,mediaRateFraction:f,mediaRateInteger:h})}return 0===e?new Za(u,r.raw):new Ka(u,r.raw)}var $a=function(t){function n(){return t.call(this,"edts")||this}return Ko(n,t),n}(Ga);function tc(t){for(var n=new $a,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"elst")?n.boxes.push(Ja(r)):n.boxes.push(Xa(r))}return n}var nc=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Ko(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.Yo},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.Yo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.Qo},set:function(t){if(!aa(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.Qo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.Zo},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.Zo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(oa),ic=function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}return Ko(n,t),n}(nc);function ec(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new ic(i,e,r)}var rc=function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}return Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(ra.from(this.data))},n}(oa),sc=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Ko(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.ra},set:function(t){if(!cc(t))throw new v("Expected an ISO-639-2/T language code");this.ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(va),uc=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(sc),oc=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Ko(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(sc);function ac(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=new ia(ra.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],a=0;a<3;a++)o.push(u.readUInt(5));var c=o.map(function(t){return String.fromCharCode(t+96)}).join("");return cc(c)||(c="und"),n.skip(2),0===e?new uc(s,c,r.raw):new oc(s,c,r.raw)}function cc(t){return/^[a-z]{3}$/.test(t)}var hc=function(t){function n(){return t.call(this,"mdia")||this}return Ko(n,t),n}(Ga);function fc(t){for(var n=new hc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mdhd")?n.boxes.push(ac(r)):Ca(r,"hdlr")?n.boxes.push(Ha(r)):n.boxes.push(Xa(r))}return n}var vc,lc=function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new ra,n}return Ko(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)},n}(oa);function dc(t){var n=t.data,i=n.nextUint8Array(n.data.byteLength-n.cursor.offset),e=new lc;return e.data.pushRange(i),e}!function(t){function n(){return t.call(this,"minf")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Ya),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(vc||(vc={}));var wc,_c,gc={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mc(t,n){n.writer.writeUInt(ca(t.a,16),32),n.writer.writeUInt(ca(t.b,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.c,16),32),n.writer.writeUInt(ca(t.d,16),32),n.writer.writeUInt(ca(0,30),32),n.writer.writeUInt(ca(t.x,16),32),n.writer.writeUInt(ca(t.y,16),32),n.writer.writeUInt(ca(1,30),32)}function yc(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:wc.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:_c.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:_c.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:_c.UNKNOWN,2)}function kc(t,n){var i,e,r;n.writer.writeUInt(0,4),yc(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(wc||(wc={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(_c||(_c={}));var bc=function(){return function(){}}(),pc=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Ko(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.ua},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.ua=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Vi},set:function(t){if(!aa(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.Vi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(ra.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(ra.from(this.data))},n}(va),Ac=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Ko(n,t),n}(pc),Tc=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Ko(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.oa},set:function(t){if(!aa(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.oa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(ra.from(e))}},n}(pc);function Sc(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Tc(i,o,e):new Ac(i,o)}var Ec=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.va},set:function(t){if(!aa(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),Ic=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Ec),Rc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Ec);function Nc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Ic(n.nextUint32(),r.raw):new Rc(n.nextUint64(),r.raw)}var Dc=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,a=this;return(a=t.call(this,"trex",e,r)||this).trackId=n,a.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,a.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,a.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,a.defaultSampleFlags=i.sampleFlags,a}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!aa(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(!aa(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!aa(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),kc(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(va);function Cc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),a=n.nextUint32(),c=Ma(new ia(ra.from(n.nextUint8Array(4))));return new Dc(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:a,sampleFlags:c},e,r.raw)}var Pc=function(t){function n(){return t.call(this,"mvex")||this}return Ko(n,t),n}(Ga);function Bc(t){for(var n=new Pc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mehd")?n.boxes.push(Nc(r)):Ca(r,"trex")?n.boxes.push(Cc(r)):n.boxes.push(Xa(r))}return n}var Oc=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,a,c,h=this;return(h=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,h.volume=null!==(a=r.volume)&&void 0!==a?a:n.DEFAULT_VOLUME,h.matrix=null!==(c=r.matrix)&&void 0!==c?c:gc,h.Sa=e,h}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.Ea},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!aa(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Sa},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!aa(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Sa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ca(this.rate,16),32),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mc(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(va),xc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Oc),Lc=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Ko(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Oc);function Mc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags,s=La(n,e),u=fa(n.nextUint32(),16),o=fa(n.nextUint16(),8);n.skip(2),n.skip(8);var a=Ua(n);n.skip(24);var c=n.nextUint32();return 0===e?new xc(s,c,{rate:u,volume:o,matrix:a},r.raw):new Lc(s,c,{rate:u,volume:o,matrix:a},r.raw)}var Uc=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var a,c,h,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(a=o.layer)&&void 0!==a?a:0,f.alternateGroup=null!==(c=o.alternateGroup)&&void 0!==c?c:0,f.matrix=null!==(h=o.matrix)&&void 0!==h?h:gc,f}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.Ko},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Ko=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.Jo},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Jo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!aa(t,32))throw new v("trackId cannot exceed 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.ea},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ea=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.Ia},set:function(t){if(!aa(ca(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Ia=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.Ca},set:function(t){if(!aa(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Ca=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Pa},set:function(t){if(!aa(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Pa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.Ra},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Ra=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ca(this.volume,8),16),n.writer.writeUInt(0,16),mc(this.matrix,n),n.writer.writeUInt(ca(this.width,16),32),n.writer.writeUInt(ca(this.height,16),32)},n}(va),Xc=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Uc),Fc=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uc);function Hc(t){var n,i,e,r,s=t.data,u=xa(s.nextUint32()),o=u.version,a=u.flags,c=a.isSet(8),h=a.isSet(4),f=a.isSet(2),v=a.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var l=s.nextInt16(),d=s.nextInt16(),w=fa(s.nextInt16(),8);s.skip(2);var _=Ua(s),g=fa(s.nextUint32(),16),m=fa(s.nextUint32(),16);return 0===o?new Xc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f}):new Fc({creation:n,modification:i,duration:r},e,w,g,m,{layer:l,matrix:_,alternateGroup:d,trackSizeIsAspectRatio:c,trackEnabled:v,trackInPreview:h,trackInMovie:f})}var zc=function(t){function n(){return t.call(this,"trak")||this}return Ko(n,t),n}(Ga);function Vc(t){for(var n=new zc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tkhd")?n.boxes.push(Hc(r)):Ca(r,"mdia")?n.boxes.push(fc(r)):Ca(r,"edts")?n.boxes.push(tc(r)):n.boxes.push(Xa(r))}return n}var Wc=function(t){function n(){return t.call(this,"moov")||this}return Ko(n,t),n}(Ga);function Gc(t){for(var n=new Wc,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"mvhd")?n.boxes.push(Mc(r)):Ca(r,"trak")?n.boxes.push(Vc(r)):Ca(r,"mvex")?n.boxes.push(Bc(r)):Ca(r,"pssh")?n.boxes.push(Sc(r)):n.boxes.push(Xa(r))}return n}var qc=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Ba},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.Ba=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(va),jc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(qc),Yc=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Ko(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(qc);function Qc(t){var n=t.data,i=xa(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new jc(n.nextUint32(),r.raw):new Yc(n.nextUint64(),r.raw)}var Zc=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("Provided track id does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Oa},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!aa(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Oa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.xa},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!aa(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.xa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.ya},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.ya=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ta},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ta=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&kc(this.defaultSampleFlags,n)},n}(va);function Kc(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=Boolean(e.readBit()),f=n.nextUint32(),v=h?n.nextUint64():void 0,l=c?n.nextUint32():void 0,d=a?n.nextUint32():void 0,w=o?n.nextUint32():void 0,_=u?Ma(new ia(ra.from(n.nextUint8Array(4)))):void 0;return new Zc({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:l,defaultSampleDuration:d,defaultSampleSize:w,defaultSampleFlags:_},i)}var Jc=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Ko(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.La},set:function(t){if(t&&!aa(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.La=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.Ma},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!aa(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!aa(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ma=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n,i;if(!aa(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!aa(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!aa(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!aa(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!aa(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!aa(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&kc(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&kc(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(va);function $c(t){var n=t.data,i=n.nextUint8(),e=new ia(ra.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var a=Boolean(e.readBit());e.skipBits(1);var c=Boolean(e.readBit()),h=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};c&&(f.dataOffset=n.nextInt32()),a&&(f.firstSampleFlags=Ma(new ia(ra.from(n.nextUint8Array(4)))));for(var v=[],l=0;l<h;l++){var d={};o&&(d.duration=n.nextUint32()),u&&(d.size=n.nextUint32()),s&&(d.flags=Ma(new ia(ra.from(n.nextUint8Array(4))))),r&&(d.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(d)}return new Jc(i,f,v)}var th=function(t){function n(){return t.call(this,"traf")||this}return Ko(n,t),n}(Ga);function nh(t){for(var n=new th,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"tfhd")?n.boxes.push(Kc(r)):Ca(r,"tfdt")?n.boxes.push(Qc(r)):Ca(r,"trun")?n.boxes.push($c(r)):n.boxes.push(Xa(r))}return n}var ih=function(t){function n(){return t.call(this,"moof")||this}return Ko(n,t),n}(Ga);function eh(t){for(var n=new ih,i=0,e=Ba(t.data);i<e.length;i++){var r=e[i];Ca(r,"traf")?n.boxes.push(nh(r)):Ca(r,"pssh")?n.boxes.push(Sc(r)):n.boxes.push(Xa(r))}return n}!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Ko(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Xa},set:function(t){if(!aa(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Xa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(va);var rh=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Ko(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.Fa},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Fa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(oa);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Ko(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.Ha},set:function(t){if(!aa(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.Ha=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Va},set:function(t){if(!aa(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Va=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(oa),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ga),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new rh(n),r}Ko(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(oa);var sh=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){var n=this;if(!aa(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.Uo=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(va);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(sh),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Ko(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(sh),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.Ga},set:function(t){if(!aa(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.Ga=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.qa},set:function(t){if(!aa(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!aa(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.qa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Wa},set:function(t){if(void 0===t)this.flags=0;else{if(!aa(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!aa(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Wa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(va),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){yc(e[i],n)}}}(va),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Ya);var uh=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Ko(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.Ya},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.Ya=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(va);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Ko(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(uh),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Ko(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.Qa},set:function(t){if(!aa(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.Qa=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(uh),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.ma},set:function(t){if(!aa(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.ma=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(uh),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Ko(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.Za},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.Za=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Ko(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Aa},set:function(t){if(!aa(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Aa=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){if(!aa(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(va),function(t){function n(){return t.call(this,"stbl")||this}Ko(n,t)}(Ga),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.firstChunk,32)||!aa(t.sampleDescriptionIndex,32)||!aa(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(va),function(t){function n(){return t.call(this,"schi")||this}Ko(n,t)}(Ga),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Ko(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.Ka},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.Ka=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.Ja},set:function(t){if(!aa(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.Ja=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.$a},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.$a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(va);var oh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var a=t.call(this,"sidx",n,o)||this;return a.referenceId=i,a.timescale=e,a.earliestPresentationTime=r,a.firstOffset=s,a.references=u,a}return Ko(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.tc},set:function(t){if(!aa(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.tc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.nc},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.nc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ic},set:function(t){if(!aa(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this.ec},set:function(t){if(!aa(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!aa(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!aa(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!aa(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!aa(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.ec=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(va),ah=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(oh),ch=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Ko(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(oh);var hh=function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}return Ko(n,t),n}(nc);function fh(t){for(var n=t.data,i=n.nextChars(4),e=n.nextUint32(),r=[];n.cursor.offset<n.data.byteLength;)r.push(n.nextChars(4));return new hh(i,e,r)}!function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Ko(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.rc},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!aa(ca(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.rc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ca(this.balance,8),16),n.writer.writeUInt(0,16)}}(va),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(va),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Ko(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.Uo},set:function(t){if(!aa(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!aa(t.sampleCount,32)||!aa(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.Uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(va),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Ko(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this._a},set:function(t){if(!aa(t,32))throw new v("The provided trackId does not fit in 32 bits.");this._a=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Ya),function(t){function n(){return t.call(this,"udta")||this}Ko(n,t)}(Ga);var vh={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=vh);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Ko(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.uc},set:function(t){if(!aa(t.red,16)||!aa(t.green,16)||!aa(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.uc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(va);var lh=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,a,c,h,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(a=r.compressorName)&&void 0!==a?a:"",f.frameCount=null!==(c=r.frameCount)&&void 0!==c?c:1,f.depth=null!==(h=r.depth)&&void 0!==h?h:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Ko(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.Na},set:function(t){if(!aa(t,16))throw new v("Provided width does not fit in 16 bits.");this.Na=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.Da},set:function(t){if(!aa(t,16))throw new v("Provided height does not fit in 16 bits.");this.Da=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.ac},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.ac=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.cc},set:function(t){if(!aa(ca(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.cc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.hc},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this.hc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.fc},set:function(t){if(!aa(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.fc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.vc},set:function(t){if(!aa(t,16))throw new v("Provided depth does not fit in 16 bits.");this.vc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ca(this.horizontalResolution,16),32),n.writer.writeUInt(ca(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&ha(n.writer,this.extra)},n}(qa);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(ra.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(va),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(ja),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(lh),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Ko(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(qa),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Ko(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(oa),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.lc},set:function(t){if(!aa(t,8))throw new v("Provided version does not fit in 8 bits.");this.lc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.dc},set:function(t){if(!aa(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.dc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.wc},set:function(t){if(!aa(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.wc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this._c},set:function(t){if(!aa(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this._c=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.gc},set:function(t){if(!aa(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.gc=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.mc},set:function(t){if(!aa(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.mc=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(ra.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(ra.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Ko(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(lh),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Ko(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Io},set:function(t){if(!aa(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Io=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.yc},set:function(t){if(!aa(t,32))throw new v("Provided max does not fit in 32 bits.");this.yc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.kc},set:function(t){if(!aa(t,32))throw new v("Provided avg does not fit in 32 bits.");this.kc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(oa);var dh=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Ko(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.bc},set:function(t){if(!aa(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.bc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.pc},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.pc=t,this.Ac=new y(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.Tc},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Tc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.Ac},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.Ac=t,this.pc=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),ha(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),ha(t.writer,this.constantIv))},n}(va);!function(t){function n(n){return t.call(this,0,n)||this}Ko(n,t)}(dh);var wh=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Ko(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Sc},set:function(t){if(!aa(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Sc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Ec},set:function(t){if(!aa(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Ec=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(dh);function _h(t){return void 0!==t.iv}function gh(t){return void 0!==t.subsamples}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new wh(n),i}Ko(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(bc),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Ko(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.Ua},set:function(t){var n;if(!aa(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(_h(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=gh(r)),!0===n&&!gh(r)||!1===n&&gh(r))throw new v("Mix of samples with and without subsamples detected.");if(gh(r)){if(!aa(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!aa(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!aa(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Ua=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];_h(r)&&(n+=r.iv.length),gh(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(_h(r)&&ha(n.writer,r.iv),gh(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(va),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Ko(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.$o},set:function(t){if(!aa(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.$o=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Ic},set:function(t){if(!aa(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Ic=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Rc},set:function(t){if(!aa(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Rc=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Nc},set:function(t){if(!aa(t,32))throw new v("The provided id does not fit in 32 bits.");this.Nc=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(ra.from(this.data))}}(va);var mh=function(){function t(){this.boxes=[]}return t.prototype.serialize=function(){for(var t=new ua,n=0,i=this.boxes;n<i.length;n++){var e=i[n];t.concat(e.serialize())}return t.toRangedBuffer()},t}();function yh(t,n){return function(i){var e=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=Oa(i,e);if(!r.complete)return;if(Ca(r.box,n))return r.box}}(new Da(Ia(i),new Na),t);if(!e)throw new v("".concat(t," box not found"));return n(e)}}var kh=yh("moov",Gc),bh=yh("sidx",function(t){var n,i,e=t.data,r=xa(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),a=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var c=e.nextUint16(),h=[],f=0;f<c;f++){var v=new ia(ra.from(e.nextUint8Array(12))),l=v.readBit(),d=v.readUInt(31),w=v.readUInt(32),_=Boolean(v.readBit()),g=v.readUInt(3),m=v.readUInt(28);h.push({referenceType:l,referencedSize:d,subsegmentDuration:w,startsWithSap:_,sapType:g,sapDeltaTime:m})}return 0===s?new ah(o,a,n,i,h,u.raw):new ch(o,a,n,i,h,u.raw)}),ph=yh("moof",eh),Ah=yh("pssh",Sc);function Th(t){return function(t){for(var n=new mh,i=0,e=Ba(t);i<e.length;i++){var r=e[i];Ca(r,"ftyp")?n.boxes.push(ec(r)):Ca(r,"styp")?n.boxes.push(fh(r)):Ca(r,"moov")?n.boxes.push(Gc(r)):Ca(r,"moof")?n.boxes.push(eh(r)):Ca(r,"mdat")?n.boxes.push(dc(r)):n.boxes.push(Xa(r))}return n}(new Da(Ia(t),new Na))}var Sh=function(t){function n(n,i){var e;(e=t.call(this)||this).Dc=void 0,e.Cc=!1,e.Pc=void 0,e.Bc=void 0,e.Oc=function(){e.xc()},e.Lc=function(t){e.js(new yu(Zt(e),t.messageType,jo(e.Mc,t.message)))},e.Uc=function(){e.Cc=!0,e.Dc.Nu>0&&(e.Dc.Ru(),e.js(new mu(Zt(e)))),e.Xc.removeEventListener("keystatuseschange",e.Oc),e.Xc.removeEventListener("message",e.Lc)},e.Xc=n,e.Mc=i,e.Xc.addEventListener("keystatuseschange",e.Oc),e.Xc.addEventListener("message",e.Lc),e.Dc=new Tu;var r=[];return e.Xc.closed&&r.push(Ve.resolve(e.Xc.closed)),e.Bc=new Wo,r.push(e.Bc.Uu),e.Pc=Ve.race(r).then(e.Uc,e.Uc),e.xc(),e}S(n,t);var i=n.prototype;return i.Fc=function(){if(this.Cc)return this.Pc;var t=[];return t.push(Ve.resolve(this.Xc.close())),t.push(cu(1e3)),this.Bc.Hu(Ve.race(t).catch(Eh)),this.Cc=!0,this.Pc},i.Hc=function(t,n,i){if(L.cn){var e=Ah(Uo(n));if(1===e.version)n=new Ac(e.systemId,e.data).serialize().join()}return Ve.resolve(this.Xc.generateRequest(t,n)).catch(Eh)},i.zc=function(t){return Ve.resolve(this.Xc.load(t)).catch(Eh)},i.Vc=function(){return Ve.resolve(this.Xc.remove()).catch(Eh)},i.Wc=function(t){return Ve.resolve(this.Xc.update(t)).catch(Eh)},i.xc=function(){var t=this;this.Dc.Ru(),this.Xc.keyStatuses.forEach(function(n,i){t.Gc(i,n)}),this.js(new mu(this))},i.Gc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Uo(t);if(this.Mc===Yr&&16===e.byteLength){var r=xo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Mc===Yr&&"status-pending"===n&&(n="usable"),this.Dc.Iu(e,n)},A(n,[{key:"qc",get:function(){return this.Pc}},{key:"jc",get:function(){return this.Xc.expiration}},{key:"Yc",get:function(){return this.Dc}},{key:"Qc",get:function(){return this.Xc.sessionId}}]),n}(lu);function Eh(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new Qo(t.message,void 0,n,t)}var Ih=function(){function t(t,n,i){this.Zc=t,this.Kc=n,this.Jc=i}var n=t.prototype;return n.$c=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Sh(this.Zc.createSession(t),this.Kc));case 1:case"end":return n.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(this.Zc.setServerCertificate(t))},n.ih=function(t){return Ve.resolve(t.setMediaKeys(this.Zc))},n.eh=function(t){return Ve.resolve(t.setMediaKeys(null))},t}(),Rh=function(){function t(t,n,i){this.rh=t,this.Mc=n,this.sh=i}var n=t.prototype;return n.uh=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.rh.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Ih(t,this.Mc,this.sh));case 4:case"end":return n.stop()}},null,this,null,Ve)},n.oh=function(){return this.sh},A(t,[{key:"Kc",get:function(){return this.rh.keySystem}}]),t}(),Nh={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Dh(t){return fs(t,Nh.APPLICATION_MP4)||fs(t,Nh.VIDEO_MP4)||fs(t,Nh.AUDIO_MP4)}var Ch=function(){function t(t,n){this.us=void 0,this.ah=void 0,this.us=t,this.ah=n}return t.prototype.hh=function(t){for(var n=0,i=this.ah;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Ph(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ch(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,a=0;a<r.length;a++){var c=r[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=Bh(r.substr(u,a));h&&s.push(h),u=a+1}}if(u!==r.length){var f=Bh(r.substr(u));f&&s.push(f)}return new Ch(e,s)}function Bh(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function Oh(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function xh(t){var n=t,i=n.match(/^avc1\.(\d+)\.(\d+)$/);i&&(n="avc1."+_s((Number(i[1])<<16|Number(i[2])).toString(16),6,"0"));return n}function Lh(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,fh:e.fh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return Mh(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var a=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(s.videoCapabilities=a.filter(function(e){return Mh(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function Mh(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Xs(n,e.encryptionScheme))&&(!e.robustness&&t(i,Oh(e.contentType))))}function Uh(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Xh(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Fh(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Hh))||!(!t.videoCapabilities||!t.videoCapabilities.some(Hh))}function Hh(t){return!t.robustness}function zh(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Nr({},r,{robustness:n}))}return i}var Vh=function(){function t(){}return t.prototype.As=function(t,n){var i,e,r,s,u,a,c,h;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.fh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Xh(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Xh(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Fh)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Nr({},n=t,{videoCapabilities:n.videoCapabilities?zh(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?zh(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Rr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,a=u.getConfiguration(),f.abrupt("return",new Rh(u,t,a));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Rr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return c=f.sent,h=c.getConfiguration(),f.abrupt("return",new Rh(c,t,h));case 19:case"end":return f.stop()}},null,null,[[4,12]],Ve)},t.vh=function(){return ps()},t}(),Wh=function(t){function n(n,i){var e;return(e=t.call(this)||this).Cc=!1,e.lh=void 0,e.dh=void 0,e.wh=void 0,e._h=void 0,e.gh=void 0,e.Uc=function(){e.Cc=!0,e.lh.Hu(void 0),e.gh&&(e.gh.removeEventListener("mskeyclose",e.Uc),e.gh.removeEventListener("mskeymessage",e.yh),e.gh.removeEventListener("mskeyerror",e.kh),e.gh.removeEventListener("mskeyadded",e.ph))},e.yh=function(t){e.wh&&(e.wh.Hu(void 0),e.wh=void 0),e.js(new yu(Zt(e),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},e.kh=function(){var t=e.gh&&e.gh.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);if(e.wh)e.wh.Vu(n),e.wh=void 0;else if(e.dh)e.dh.Vu(n),e.dh=void 0;else switch(n.Wu){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ah("output-not-allowed");break;default:e.Ah("internal-error")}}},e.ph=function(){e.wh&&(e.Ah("usable"),e.wh.Hu(void 0),e.wh=void 0),e.dh&&(e.Ah("usable"),e.dh.Hu(void 0),e.dh=void 0)},e.Th=n,e.Sh=i,e.lh=new Wo,e._h=new Tu,e}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),this.wh=new Wo,this.$c(Uo(n),i),t.next=5,Rr.awrap(this.wh.Uu);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.$c=function(t,n){if(!t)throw new l("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Ih;return(i=n?this.Th.createSession(this.Sh,t,e):this.Th.createSession(this.Sh,t)).addEventListener("mskeyclose",this.Uc),i.addEventListener("mskeymessage",this.yh),i.addEventListener("mskeyerror",this.kh),i.addEventListener("mskeyadded",this.ph),this.gh=i,this.Ah("status-pending"),i},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.dh=new Wo,this.Eh(),this.gh){i.next=4;break}return i.abrupt("return",Ve.resolve());case 4:if(0!==(n=Uo(t)).byteLength){i.next=7;break}throw new l("Cannot call update with an empty response.");case 7:return this.gh.update(n),i.next=10,Rr.awrap(this.dh.Uu);case 10:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){return!this.Cc&&this.gh&&(this.Cc=!0,this.gh.close()),this.lh.Uu},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Eh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Eh=function(){if(this.Cc)throw new l("Already closing or closed.")},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.js(new mu(this))},A(n,[{key:"Qc",get:function(){return this.gh&&this.gh.sessionId||""}},{key:"jc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"Yc",get:function(){return this._h}}]),n}(lu),Gh=function(){function t(t,n,i){this.Sh=void 0,this.Th=t,this.Kc=n,this.Jc=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var n=t.prototype;return n.$c=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wh(this.Th,this.Sh));case 1:case"end":return t.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(!1)},n.ih=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Th):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Th),t.removeEventListener("loadedmetadata",i)}),Ve.resolve()},n.eh=function(t){return Ve.resolve()},t}(),qh=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new ve.MSMediaKeys(this.Mc);return Ve.resolve(new Gh(t,this.Mc,this.Rh))},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),jh=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(function(t,n){if(!Yh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(Qh,_u,t,e);if(r)return new qh(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return Yh()},t}();function Yh(){return void 0!==ve.MSMediaKeys&&"function"==typeof ve.MSMediaKeys.isTypeSupported}function Qh(t,n){return ve.MSMediaKeys.isTypeSupported(t,n)}var Zh,Kh,Jh=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).lh=new Wo,r.Nh=void 0,r._h=new Tu,r.Dh=void 0,r.Ch=new Wo,r.kh=function(){var t=r.Dh&&r.Dh.error;if(t){var n=new Qo("Unknown CDM error",t.code,t.systemCode);r.Nh?(r.Nh.Vu(n),r.Nh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Ah("output-not-allowed"):r.Ah("internal-error"),r.js(new ku)}},r.yh=function(t){r.Nh&&(r.Nh.Hu(void 0),r.Nh=void 0),r.js(new yu(Zt(r),"license-request",Fo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Ph=n,r.Sh=i,r.Bh=e,r}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Oh;if(!e)throw new l("Expected FairPlay contentId to be defined but was "+e+".");var r=$h(Uo(n),e,this.Bh);return this.Dh=this.Ph.createSession(this.Sh,r),this.Dh.addEventListener("webkitkeymessage",this.yh,!1),this.Dh.addEventListener("webkitkeyerror",this.kh,!1),this.Ah("usable"),this.Ch.Hu(this.Dh),this.Ch=new Wo,Ve.resolve()},i.zc=function(t){return Ve.resolve(!0)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:if(this.Nh=new Wo,i.t0=this.Dh,i.t0){i.next=9;break}return i.next=8,Rr.awrap(this.Ch.Uu);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Rr.awrap(this.Nh.Uu);case 13:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){var t=this.Dh;return t&&(t.removeEventListener("webkitkeymessage",this.yh,!1),t.removeEventListener("webkitkeyerror",this.kh,!1),t.close()),this.Ch.Xs(),this.lh.Hu(void 0),this.lh.Uu},i.Vc=function(){return Ve.resolve(void 0)},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.js(new mu(this))},A(n,[{key:"Qc",get:function(){return this.Dh?this.Dh.sessionId:""}},{key:"jc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"Yc",get:function(){return this._h}}]),n}(lu);function $h(t,n,i){var e=Do(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),a=new zo;return ho(o,a,r,!0),Ao(o,a,e,!0),ho(o,a,s,!0),Ao(o,a,n,!0),ho(o,a,i.byteLength,!0),ro(o,a,i),new y(u)}n.ErrorCode=void 0,(Zh=n.ErrorCode||(n.ErrorCode={}))[Zh.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Zh[Zh.LICENSE_ERROR=2e3]="LICENSE_ERROR",Zh[Zh.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Zh[Zh.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Zh[Zh.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Zh[Zh.SOURCE_INVALID=3e3]="SOURCE_INVALID",Zh[Zh.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Zh[Zh.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Zh[Zh.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Zh[Zh.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Zh[Zh.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Zh[Zh.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Zh[Zh.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Zh[Zh.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Zh[Zh.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Zh[Zh.NETWORK_ERROR=6e3]="NETWORK_ERROR",Zh[Zh.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Zh[Zh.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Zh[Zh.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Zh[Zh.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Zh[Zh.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Zh[Zh.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Zh[Zh.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Zh[Zh.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Zh[Zh.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Zh[Zh.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Zh[Zh.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Zh[Zh.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Zh[Zh.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Zh[Zh.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Zh[Zh.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Zh[Zh.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Zh[Zh.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Zh[Zh.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Zh[Zh.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Zh[Zh.AD_ERROR=1e4]="AD_ERROR",Zh[Zh.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Zh[Zh.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(Kh=n.ErrorCategory||(n.ErrorCategory={}))[Kh.CONFIGURATION=1]="CONFIGURATION",Kh[Kh.LICENSE=2]="LICENSE",Kh[Kh.SOURCE=3]="SOURCE",Kh[Kh.MANIFEST=4]="MANIFEST",Kh[Kh.MEDIA=5]="MEDIA",Kh[Kh.NETWORK=6]="NETWORK",Kh[Kh.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Kh[Kh.SUBTITLE=8]="SUBTITLE",Kh[Kh.VR=9]="VR",Kh[Kh.AD=10]="AD",Kh[Kh.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new l("Invalid error code: "+t)}}();var tf=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Jt);var nf=function(){function t(t,n,i){this.Sh=void 0,this.Bh=void 0,this.Ph=t,this.Kc=n,this.Jc=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ph},i.$c=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Jh(this.Ph,this.Sh,this.Bh));case 3:case"end":return t.stop()}},null,this,null,Ve)},i.nh=function(t){return this.Bh=Uo(t),Ve.resolve(!0)},i.ih=function(t){return t.webkitSetMediaKeys(this.Ph),Ve.resolve()},i.eh=function(t){return t.webkitSetMediaKeys(null),Ve.resolve()},t}(),ef=function(){function t(t,n){this.Mc=t,this.Rh=n}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){var t=new ve.WebKitMediaKeys(this.Mc);return Ve.resolve(new nf(t,this.Mc,this.Rh))},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),rf=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(function(t,n){if(t!==ns)throw new l(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!sf())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(uf,gu,t,e);if(r)return new ef(t,r)}throw new l("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return sf()},t}();function sf(){return void 0!==ve.WebKitMediaKeys&&"function"==typeof ve.WebKitMediaKeys.isTypeSupported}function uf(t,n){return ve.WebKitMediaKeys.isTypeSupported(t,n)}var of,af=function(){function t(t){this.Lh=t}return t.prototype.As=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Lh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Rr.awrap(r.As(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new l("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],Ve)},t}(),cf=function(t){function n(n){var i;return(i=t.call(this)||this).wh=void 0,i.Nh=void 0,i.lh=void 0,i.oo=!1,i.Mh=void 0,i.Uh=void 0,i.Xh=void 0,i.Fh=void 0,i.Hh=void 0,i.Mc=n,i.lh=new Wo,i.Uh="",i.Hh=new Wo,i.Xh=new Tu,i}S(n,t);var i=n.prototype;return i.Vh=function(){this.Nh&&(this.Ah("usable"),this.Nh.Hu(void 0),this.Nh=void 0)},i.Wh=function(t){var n=new Qo("Unknown CDM error",t.errorCode,t.systemCode);this.Nh?(this.Nh.Vu(n),this.Nh=void 0):this.wh?(this.wh.Vu(n),this.wh=void 0):n.Wu===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ah("output-restricted"):1===n.Gu?this.Ah("expired"):this.Ah("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.wh&&(this.wh.Hu(void 0),this.wh=void 0),this.js(new yu(this,"license-request",jo(this.Mc,Fo(t.message).buffer),t.defaultURL||void 0)))},i.qh=function(t){this.Fh||(this.Fh=t,this.Hh.Hu(t))},i.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oo=!0,this.lh.Hu(void 0);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Hc=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.wh=new Wo,this.Mh=Uo(n),t.t0=this.Fh,t.t0){t.next=8;break}return t.next=7,Rr.awrap(this.Hh.Uu);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Mc,this.Mh),t.next=12,Rr.awrap(this.wh.Uu);case 12:case"end":return t.stop()}},null,this,null,Ve)},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,Ve)},i.Wc=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Nh=new Wo,n.t0=this.Fh,n.t0){n.next=7;break}return n.next=6,Rr.awrap(this.Hh.Uu);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Mc,Uo(t),this.Mh,this.Qc),n.next=11,Rr.awrap(this.Nh.Uu);case 11:case"end":return n.stop()}},null,this,null,Ve)},i.throwIfClosed=function(){if(this.oo)throw new l("Already closing or closed.")},i.Ah=function(t){this.Xh.Ru(),this.Xh.Iu(Au,t),this.js(new mu(this))},A(n,[{key:"Yc",get:function(){return this.Xh}},{key:"Qc",get:function(){return this.Uh},set:function(t){this.Uh=t}},{key:"qc",get:function(){return this.lh.Uu}},{key:"jc",get:function(){return NaN}}]),n}(lu),hf=function(){function t(t,n){var i=this;this.Fh=void 0,this.jh=Cr(),this.Yh=[],this.ph=function(t){var n=i.Qh(t.sessionId);n&&n.Vh()},this.Zh=function(t){var n=i.Qh(t.sessionId);n&&n.Wh(t)},this.Kh=function(t){var n=i.Qh(t.sessionId);n&&n.Gh(t)},this.Kc=t,this.Jc=n}var n=t.prototype;return n.ih=function(t){return this.Fh=t,this.Fh.addEventListener("webkitkeyadded",this.ph),this.Fh.addEventListener("webkitkeyerror",this.Zh),this.Fh.addEventListener("webkitkeymessage",this.Kh),this.jh.forEach(function(n,i){return n.qh(t)}),this.Yh.forEach(function(n){return n.qh(t)}),Ve.resolve()},n.eh=function(t){return t.removeEventListener("webkitkeyadded",this.ph),t.removeEventListener("webkitkeyerror",this.Zh),t.removeEventListener("webkitkeymessage",this.Kh),this.Fh=void 0,Ve.resolve()},n.$c=function(t,n,i){var e;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new cf(this.Kc),this.Fh&&e.qh(this.Fh),this.Yh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,Ve)},n.nh=function(t){return Ve.resolve(!1)},n.Qh=function(t){if(t){var n=this.jh.get(t);return n||((n=this.Yh.shift())?(n.Qc=t,this.jh.set(t,n),n):void 0)}},t}(),ff=function(){function t(t,n){this.Kc=t,this.Jh=n}var n=t.prototype;return n.uh=function(){return Ve.resolve(new hf(this.Kc,this.Jh))},n.oh=function(){return this.Jh},t}(),vf=function(){function t(){}return t.prototype.As=function(t,n){try{return Ve.resolve(lf(t,n))}catch(t){return Ve.reject(t)}},t.vh=function(){return As()},t}();function lf(t,n){if(!vf.vh())throw new l("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Lh(df,_u,t,e);if(r)return new ff(t,r)}throw new l("Unsupported key system configuration for "+t)}function df(t,n){var i=or();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function wf(){return of||(of=function(){var t=[];rf.vh()&&t.push(new rf);Vh.vh()&&t.push(new Vh);jh.vh()&&t.push(new jh);vf.vh()&&t.push(new vf);return new af(t)}()),of}var _f=function(){function t(){this.$h=Cr()}var n=t.prototype;return n.Ru=function(t){this.$h.delete(t)},n.tf=function(){this.$h.clear()},n.Su=function(t){return this.$h.get(t)},n.nf=function(t,n){this.$h.set(t,n)},t}(),gf=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=mf.vh()?new mf:new _f),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t}();gf.Gn=void 0;var mf=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.vh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ru=function(n){t.sessionStorage.removeItem(n)},e.tf=function(){t.sessionStorage.clear()},e.Su=function(n){return t.sessionStorage[n]},e.nf=function(n,i){t.sessionStorage[n]=i},i}(gf);var yf=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function kf(t,n,i){var e=yf([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var bf,pf;!function(t){t.ef="rf",t.sf="uf",t.cf="contentprotectionerror",t.hf="contentprotectionsuccess",t.vf="currentsourcechange",t.lf="destroy",t.df="durationchange",t.wf="emptied",t._u="encrypted",t._f="ended",t.gf="mf",t.yf="loadstart",t.kf="manifestupdate",t.bf="nosupportedrepresentationfound",t.pf="offline",t.Af="online",t.Tf="pause",t.Sf="play",t.Ef="progress",t.If="ratechange",t.Rf="representationchange",t.Nf="resize",t.Df="seeked",t.Cf="seeking",t.Pf="segmentnotfound",t.Bf="Of",t.xf="Lf",t.Mf="sourcechange",t.Uf="timeupdate",t.Xf="volumechange",t.Ff="Hf",t.zf="metricschange"}(bf||(bf={})),function(t){t.Vf="arraybuffer",t.Wf="json",t.Gf="stream",t.Kn="text"}(pf||(pf={}));var Af=function(){function t(n){var i=this;this.Qr=void 0,this.Qr={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Tf(i),e=Sf(e);var r=i.toLowerCase();if(this.Qr.hasOwnProperty(r)){var s=this.Qr[r],u=s[1];s[1]=u?u+", "+e:e}else this.Qr[r]=[i,e]},n.delete=function(t){var n=Tf(t).toLowerCase();delete this.Qr[n]},n.get=function(t){var n=Tf(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},n.has=function(t){var n=Tf(t).toLowerCase();return this.Qr.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Tf(i)).toLowerCase();this.Qr[e]=[i,Sf(n)]},n.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},n.qf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.jf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Yf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Tf(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new l("Invalid character in header field name");return n}function Sf(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function If(){}var Rf=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Nf(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Df=If,Cf=Ve,Pf=Ve.prototype.then,Bf=Ve.resolve.bind(Cf),Of=Ve.reject.bind(Cf);function xf(t){return new Cf(t)}function Lf(t){return Bf(t)}function Mf(t){return Of(t)}function Uf(t,n,i){return Pf.call(t,n,i)}function Xf(t,n,i){Uf(Uf(t,n,i),void 0,Df)}function Ff(t,n){Xf(t,n)}function Hf(t,n){Xf(t,void 0,n)}function zf(t,n,i){return Uf(t,n,i)}function Vf(t){Uf(t,void 0,Df)}var Wf=function(){var t=Rf&&Rf.queueMicrotask;if("function"==typeof t)return t;var n=Lf(void 0);return function(t){return Uf(n,t)}}();function Gf(t,n,i){if("function"!=typeof t)throw new l("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function qf(t,n,i){try{return Lf(Gf(t,n,i))}catch(t){return Mf(t)}}var jf=function(){function t(){this.Qf=0,this.Zf=0,this.Te={Kf:[],Jf:void 0},this.$f=this.Te,this.Qf=0,this.Zf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Zf},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.$f,i=n;16383===n.Kf.length&&(i={Kf:[],Jf:void 0}),n.Kf.push(t),i!==n&&(this.$f=i,n.Jf=i),++this.Zf},t.prototype.shift=function(){var t=this.Te,n=t,i=this.Qf,e=i+1,r=t.Kf,s=r[i];return 16384===e&&(n=t.Jf,e=0),--this.Zf,this.Qf=e,t!==n&&(this.Te=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qf,i=this.Te,e=i.Kf;!(n===e.length&&void 0===i.Jf||n===e.length&&(n=0,0===(e=(i=i.Jf).Kf).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Te,n=this.Qf;return t.Kf[n]},t}();function Yf(t,n){t.tv=n,n.ev=t,"readable"===n.we?Jf(t):"closed"===n.we?function(t){Jf(t),nv(t)}(t):$f(t,n.rv)}function Qf(t,n){return Zd(t.tv,n)}function Zf(t){"readable"===t.tv.we?tv(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){$f(t,n)}(t,new l("Reader was released and can no longer be used to monitor the stream's closedness")),t.tv.ev=void 0,t.tv=void 0}function Kf(t){return new l("Cannot "+t+" a stream using a released reader")}function Jf(t){t.Pc=xf(function(n,i){t.uv=n,t.ov=i})}function $f(t,n){Jf(t),tv(t,n)}function tv(t,n){void 0!==t.ov&&(Vf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0)}function nv(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0)}var iv=Ef("[[AbortSteps]]"),ev=Ef("[[ErrorSteps]]"),rv=Ef("[[CancelSteps]]"),sv=Ef("[[PullSteps]]"),uv=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},ov=w.trunc||function(t){return t<0?w.ceil(t):w.floor(t)};function av(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new l(n+" is not an object.");var i}function cv(t,n){if("function"!=typeof t)throw new l(n+" is not a function.")}function hv(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new l(n+" is not an object.")}function fv(t,n,i){if(void 0===t)throw new l("Parameter "+n+" is required in '"+i+"'.")}function vv(t,n,i){if(void 0===t)throw new l(n+" is required in '"+i+"'.")}function lv(t){return Number(t)}function dv(t){return 0===t?0:t}function wv(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=dv(e),!uv(e))throw new l(n+" is not a finite number");if((e=function(t){return dv(ov(t))}(e))<0||e>i)throw new l(n+" is outside the accepted range of 0 to "+i+", inclusive");return uv(e)&&0!==e?e:0}function _v(t,n){if(!Yd(t))throw new l(n+" is not a ReadableStream.")}function gv(t){return new Tv(t)}function mv(t,n){t.ev.hv.push(n)}function yv(t,n,i){var e=t.ev.hv.shift();i?e.fv():e.vv(n)}function kv(t){return t.ev.hv.length}function bv(t){var n=t.ev;return void 0!==n&&!!Sv(n)}var pv,Av,Tv=function(){function t(t){if(fv(t,1,"ReadableStreamDefaultReader"),_v(t,"First parameter"),Qd(t))throw new l("This stream has already been locked for exclusive reading by another reader");Yf(this,t),this.hv=new jf}return d.defineProperty(t.prototype,"closed",{get:function(){return Sv(this)?this.Pc:Mf(Iv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Sv(this)?void 0===this.tv?Mf(Kf("cancel")):Qf(this,t):Mf(Iv("cancel"))},t.prototype.read=function(){if(!Sv(this))return Mf(Iv("read"));if(void 0===this.tv)return Mf(Kf("read from"));var t,n,i=xf(function(i,e){t=i,n=e});return Ev(this,{vv:function(n){return t({value:n,done:!1})},fv:function(){return t({value:void 0,done:!0})},wv:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Sv(this))throw Iv("releaseLock");if(void 0!==this.tv){if(this.hv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zf(this)}},t}();function Sv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"hv")&&t instanceof Tv)}function Ev(t,n){var i=t.tv;i._v=!0,"closed"===i.we?n.fv():"errored"===i.we?n.wv(i.rv):i.mv[sv](n)}function Iv(t){return new l("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}d.defineProperties(Tv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Tv.prototype,Ef.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Ef.asyncIterator&&((pv={})[Ef.asyncIterator]=function(){return this},Av=pv,d.defineProperty(Av,Ef.asyncIterator,{enumerable:!1}));var Rv=function(){function t(t,n){this.yv=void 0,this.bv=!1,this.ev=t,this.pv=n}return t.prototype.next=function(){var t=this,n=function(){return t.Av()};return this.yv=this.yv?zf(this.yv,n,n):n(),this.yv},t.prototype.return=function(t){var n=this,i=function(){return n.Tv(t)};return this.yv?zf(this.yv,i,i):i()},t.prototype.Av=function(){var t=this;if(this.bv)return Ve.resolve({value:void 0,done:!0});var n,i,e=this.ev;if(void 0===e.tv)return Mf(Kf("iterate"));var r=xf(function(t,e){n=t,i=e});return Ev(e,{vv:function(i){t.yv=void 0,Wf(function(){return n({value:i,done:!1})})},fv:function(){t.yv=void 0,t.bv=!0,Zf(e),n({value:void 0,done:!0})},wv:function(n){t.yv=void 0,t.bv=!0,Zf(e),i(n)}}),r},t.prototype.Tv=function(t){if(this.bv)return Ve.resolve({value:t,done:!0});this.bv=!0;var n=this.ev;if(void 0===n.tv)return Mf(Kf("finish iterating"));if(!this.pv){var i=Qf(n,t);return Zf(n),zf(i,function(){return{value:t,done:!0}})}return Zf(n),Lf({value:t,done:!0})},t}(),Nv={next:function(){return Dv(this)?this.Sv.next():Mf(Cv("next"))},return:function(t){return Dv(this)?this.Sv.return(t):Mf(Cv("return"))}};function Dv(t){if(!Nf(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Sv"))return!1;try{return t.Sv instanceof Rv}catch(t){return!1}}function Cv(t){return new l("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Av&&d.setPrototypeOf(Nv,Av);var Pv=Number.isNaN||function(t){return t!=t};function Bv(t){return t.slice()}function Ov(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function xv(t){return t}function Lv(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Ov(r,0,t,n,e),r}function Mv(t){var n=Lv(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Uv(t){var n=t.Ev.shift();return t.Iv-=n.size,t.Iv<0&&(t.Iv=0),n.value}function Xv(t,n,i){if("number"!=typeof(e=i)||Pv(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t.Ev.push({value:n,size:i}),t.Iv+=i}function Fv(t){t.Ev=new jf,t.Iv=0}var Hv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"view",{get:function(){if(!Wv(this))throw vl("view");return this.Rv},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Wv(this))throw vl("respond");if(fv(t,1,"respond"),t=wv(t,"First parameter"),void 0===this.Nv)throw new l("This BYOB request has been invalidated");this.Rv.buffer,cl(this.Nv,t)},t.prototype.respondWithNewView=function(t){if(!Wv(this))throw vl("respondWithNewView");if(fv(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new l("You can only respond with array buffer views");if(void 0===this.Nv)throw new l("This BYOB request has been invalidated");t.buffer,hl(this.Nv,t)},t}();d.defineProperties(Hv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Hv.prototype,Ef.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var zv=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Vv(this))throw ll("byobRequest");return ol(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Vv(this))throw ll("desiredSize");return al(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Vv(this))throw ll("close");if(this.Dv)throw new l("The stream has already been closed; do not close it again!");var t=this.Cv.we;if("readable"!==t)throw new l("The stream (in "+t+" state) is not in the readable state and cannot be closed");rl(this)},t.prototype.enqueue=function(t){if(!Vv(this))throw ll("enqueue");if(fv(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new l("chunk must be an array buffer view");if(0===t.byteLength)throw new l("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new l("chunk's buffer must have non-zero byteLength");if(this.Dv)throw new l("stream is closed or draining");var n=this.Cv.we;if("readable"!==n)throw new l("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");sl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Vv(this))throw ll("error");ul(this,t)},t.prototype[rv]=function(t){qv(this),Fv(this);var n=this.Pv(t);return el(this),n},t.prototype[sv]=function(t){var n=this.Cv;if(this.Iv>0){var i=this.Ev.shift();this.Iv-=i.byteLength,Jv(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.vv(e)}else{var r=this.Bv;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.wv(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Ov.push(u)}mv(n,t),Gv(this)}},t}();function Vv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Cv")&&t instanceof zv)}function Wv(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Nv")&&t instanceof Hv)}function Gv(t){(function(t){var n=t.Cv;if("readable"!==n.we)return!1;if(t.Dv)return!1;if(!t.xv)return!1;if(bv(n)&&kv(n)>0)return!0;if(gl(n)&&_l(n)>0)return!0;if(al(t)>0)return!0;return!1})(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Xf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,Gv(t))},function(n){ul(t,n)})))}function qv(t){$v(t),t.Ov=new jf}function jv(t,n){var i=!1;"closed"===t.we&&(i=!0);var e=Yv(n);"default"===n.readerType?yv(t,e,i):function(t,n,i){var e=t.ev.Xv.shift();i?e.fv(n):e.vv(n)}(t,e,i)}function Yv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Qv(t,n,i,e){t.Ev.push({buffer:n,byteOffset:i,byteLength:e}),t.Iv+=e}function Zv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=w.min(t.Iv,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,a=!1;u>e&&(o=u-n.bytesFilled,a=!0);for(var c=t.Ev;o>0;){var h=c.peek(),f=w.min(o,h.byteLength),v=n.byteOffset+n.bytesFilled;Ov(n.buffer,v,h.buffer,h.byteOffset,f),h.byteLength===f?c.shift():(h.byteOffset+=f,h.byteLength-=f),t.Iv-=f,Kv(t,f,n),o-=f}return a}function Kv(t,n,i){i.bytesFilled+=n}function Jv(t){0===t.Iv&&t.Dv?(el(t),Kd(t.Cv)):Gv(t)}function $v(t){null!==t.Fv&&(t.Fv.Nv=void 0,t.Fv.Rv=null,t.Fv=null)}function tl(t){for(;t.Ov.length>0;){if(0===t.Iv)return;var n=t.Ov.peek();Zv(t,n)&&(il(t),jv(t.Cv,n))}}function nl(t,n){var i=t.Ov.peek();$v(t),"closed"===t.Cv.we?function(t,n){var i=t.Cv;if(gl(i))for(;_l(i)>0;)jv(i,il(t))}(t):function(t,n,i){if(Kv(0,n,i),!(i.bytesFilled<i.elementSize)){il(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Lv(i.buffer,r-e,r);Qv(t,s,0,s.byteLength)}i.bytesFilled-=e,jv(t.Cv,i),tl(t)}}(t,n,i),Gv(t)}function il(t){return t.Ov.shift()}function el(t){t.Uv=void 0,t.Pv=void 0}function rl(t){var n=t.Cv;if(!t.Dv&&"readable"===n.we)if(t.Iv>0)t.Dv=!0;else{if(t.Ov.length>0)if(t.Ov.peek().bytesFilled>0){var i=new l("Insufficient bytes to fill elements in the given buffer");throw ul(t,i),i}el(t),Kd(n)}}function sl(t,n){var i=t.Cv;if(!t.Dv&&"readable"===i.we){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=xv(e);if(t.Ov.length>0){var o=t.Ov.peek();o.buffer,0,o.buffer=xv(o.buffer)}if($v(t),bv(i))if(0===kv(i))Qv(t,u,r,s);else t.Ov.length>0&&il(t),yv(i,new y(u,r,s),!1);else gl(i)?(Qv(t,u,r,s),tl(t)):Qv(t,u,r,s);Gv(t)}}function ul(t,n){var i=t.Cv;"readable"===i.we&&(qv(t),Fv(t),el(t),Jd(i,n))}function ol(t){if(null===t.Fv&&t.Ov.length>0){var n=t.Ov.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=d.create(Hv.prototype);!function(t,n,i){t.Nv=n,t.Rv=i}(e,t,i),t.Fv=e}return t.Fv}function al(t){var n=t.Cv.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function cl(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n)throw new l("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new l("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=xv(i.buffer),nl(t,n)}function hl(t,n){var i=t.Ov.peek();if("closed"===t.Cv.we){if(0!==n.byteLength)throw new l("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new l("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=xv(n.buffer),nl(t,e)}function fl(t,n,i,e,r,s,u){n.Cv=t,n.Mv=!1,n.Lv=!1,n.Fv=null,n.Ev=n.Iv=void 0,Fv(n),n.Dv=!1,n.xv=!1,n.Hv=s,n.Uv=e,n.Pv=r,n.Bv=u,n.Ov=new jf,t.mv=n,Xf(Lf(i()),function(){n.xv=!0,Gv(n)},function(t){ul(n,t)})}function vl(t){return new l("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function ll(t){return new l("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function dl(t){return new ml(t)}function wl(t,n){t.ev.Xv.push(n)}function _l(t){return t.ev.Xv.length}function gl(t){var n=t.ev;return void 0!==n&&!!yl(n)}d.defineProperties(zv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(zv.prototype,Ef.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ml=function(){function t(t){if(fv(t,1,"ReadableStreamBYOBReader"),_v(t,"First parameter"),Qd(t))throw new l("This stream has already been locked for exclusive reading by another reader");if(!Vv(t.mv))throw new l("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Yf(this,t),this.Xv=new jf}return d.defineProperty(t.prototype,"closed",{get:function(){return yl(this)?this.Pc:Mf(bl("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),yl(this)?void 0===this.tv?Mf(Kf("cancel")):Qf(this,t):Mf(bl("cancel"))},t.prototype.read=function(t){if(!yl(this))return Mf(bl("read"));if(!ArrayBuffer.isView(t))return Mf(new l("view must be an array buffer view"));if(0===t.byteLength)return Mf(new l("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Mf(new l("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.tv)return Mf(Kf("read from"));var n,i,e=xf(function(t,e){n=t,i=e});return kl(this,t,{vv:function(t){return n({value:t,done:!1})},fv:function(t){return n({value:t,done:!0})},wv:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!yl(this))throw bl("releaseLock");if(void 0!==this.tv){if(this.Xv.length>0)throw new l("Tried to release a reader lock when that reader has pending read() calls un-settled");Zf(this)}},t}();function yl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Xv")&&t instanceof ml)}function kl(t,n,i){var e=t.tv;e._v=!0,"errored"===e.we?i.wv(e.rv):function(t,n,i){var e=t.Cv,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=xv(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ov.length>0)return t.Ov.push(o),void wl(e,i);if("closed"!==e.we){if(t.Iv>0){if(Zv(t,o)){var a=Yv(o);return Jv(t),void i.vv(a)}if(t.Dv){var c=new l("Insufficient bytes to fill elements in the given buffer");return ul(t,c),void i.wv(c)}}t.Ov.push(o),wl(e,i),Gv(t)}else{var h=new s(o.buffer,o.byteOffset,0);i.fv(h)}}(e.mv,n,i)}function bl(t){return new l("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function pl(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Pv(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Al(t){var n=t.size;return n||function(){return 1}}function Tl(t,n){av(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:lv(i),size:void 0===e?void 0:Sl(e,n+" has member 'size' that")}}function Sl(t,n){return cv(t,n),function(n){return lv(t(n))}}function El(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Il(t,n,i){return cv(t,i),function(){return qf(t,n,[])}}function Rl(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function Nl(t,n,i){return cv(t,i),function(i,e){return qf(t,n,[i,e])}}function Dl(t,n){if(!xl(t))throw new l(n+" is not a WritableStream.")}d.defineProperties(ml.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(ml.prototype,Ef.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Cl="function"==typeof AbortController;var Pl=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:hv(t,"First parameter");var i=Tl(n,"Second parameter"),e=function(t,n){av(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:El(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Il(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Rl(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Nl(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Ol(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Al(i);!function(t,n,i,e){var r=d.create($l.prototype),s=function(){},u=function(){return Lf(void 0)},o=function(){return Lf(void 0)},a=function(){return Lf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(a=function(t){return n.abort(t)});nd(t,r,s,u,o,a,i,e)}(this,e,pl(i,1),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!xl(this))throw ad("locked");return Ll(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),xl(this)?Ll(this)?Mf(new l("Cannot abort a stream that already has a writer")):Ml(this,t):Mf(ad("abort"))},t.prototype.close=function(){return xl(this)?Ll(this)?Mf(new l("Cannot close a stream that already has a writer")):zl(this)?Mf(new l("Cannot close an already-closing stream")):Ul(this):Mf(ad("close"))},t.prototype.getWriter=function(){if(!xl(this))throw ad("getWriter");return Bl(this)},t}();function Bl(t){return new Gl(t)}function Ol(t){t.we="writable",t.rv=void 0,t.mo=void 0,t.zv=void 0,t.Vv=new jf,t.Wv=void 0,t.Gv=void 0,t.qv=void 0,t.Yv=void 0,t.Qv=!1}function xl(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"zv")&&t instanceof Pl)}function Ll(t){return void 0!==t.mo}function Ml(t,n){var i;if("closed"===t.we||"errored"===t.we)return Lf(void 0);t.zv.Zv=n,null===(i=t.zv.Kv)||void 0===i||i.abort();var e=t.we;if("closed"===e||"errored"===e)return Lf(void 0);if(void 0!==t.Yv)return t.Yv.Jv;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=xf(function(i,e){t.Yv={Jv:void 0,Xu:i,Fu:e,$v:n,il:r}});return t.Yv.Jv=s,r||Fl(t,n),s}function Ul(t){var n=t.we;if("closed"===n||"errored"===n)return Mf(new l("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=xf(function(n,i){var e={Xu:n,Fu:i};t.Gv=e}),r=t.mo;return void 0!==r&&t.Qv&&"writable"===n&&kd(r),Xv(i=t.zv,Jl,0),rd(i),e}function Xl(t,n){"writable"!==t.we?Hl(t):Fl(t,n)}function Fl(t,n){var i=t.zv;t.we="erroring",t.rv=n;var e=t.mo;void 0!==e&&Ql(e,n),!function(t){if(void 0===t.Wv&&void 0===t.qv)return!1;return!0}(t)&&i.xv&&Hl(t)}function Hl(t){t.we="errored",t.zv[ev]();var n=t.rv;if(t.Vv.forEach(function(t){t.Fu(n)}),t.Vv=new jf,void 0!==t.Yv){var i=t.Yv;if(t.Yv=void 0,i.il)return i.Fu(n),void Vl(t);Xf(t.zv[iv](i.$v),function(){i.Xu(),Vl(t)},function(n){i.Fu(n),Vl(t)})}else Vl(t)}function zl(t){return void 0!==t.Gv||void 0!==t.qv}function Vl(t){void 0!==t.Gv&&(t.Gv.Fu(t.rv),t.Gv=void 0);var n=t.mo;void 0!==n&&dd(n,t.rv)}function Wl(t,n){var i=t.mo;void 0!==i&&n!==t.Qv&&(n?function(t){_d(t)}(i):kd(i)),t.Qv=n}d.defineProperties(Pl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Pl.prototype,Ef.toStringTag,{value:"WritableStream",configurable:!0});var Gl=function(){function t(t){if(fv(t,1,"WritableStreamDefaultWriter"),Dl(t,"First parameter"),Ll(t))throw new l("This stream has already been locked for exclusive writing by another writer");this.ul=t,t.mo=this;var n,i=t.we;if("writable"===i)!zl(t)&&t.Qv?_d(this):md(this),vd(this);else if("erroring"===i)gd(this,t.rv),vd(this);else if("closed"===i)md(this),vd(n=this),wd(n);else{var e=t.rv;gd(this,e),ld(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return ql(this)?this.Pc:Mf(hd("closed"))},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!ql(this))throw hd("desiredSize");if(void 0===this.ul)throw fd("desiredSize");return function(t){var n=t.ul,i=n.we;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return ed(n.zv)}(this)},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return ql(this)?this.ol:Mf(hd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ql(this)?void 0===this.ul?Mf(fd("abort")):function(t,n){return Ml(t.ul,n)}(this,t):Mf(hd("abort"))},t.prototype.close=function(){if(!ql(this))return Mf(hd("close"));var t=this.ul;return void 0===t?Mf(fd("close")):zl(t)?Mf(new l("Cannot close an already-closing stream")):jl(this)},t.prototype.releaseLock=function(){if(!ql(this))throw hd("releaseLock");void 0!==this.ul&&Zl(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),ql(this)?void 0===this.ul?Mf(fd("write to")):Kl(this,t):Mf(hd("write"))},t}();function ql(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"ul")&&t instanceof Gl)}function jl(t){return Ul(t.ul)}function Yl(t,n){"pending"===t.al?dd(t,n):function(t,n){ld(t,n)}(t,n)}function Ql(t,n){"pending"===t.cl?yd(t,n):function(t,n){gd(t,n)}(t,n)}function Zl(t){var n=t.ul,i=new l("Writer was released and can no longer be used to monitor the stream's closedness");Ql(t,i),Yl(t,i),n.mo=void 0,t.ul=void 0}function Kl(t,n){var i=t.ul,e=i.zv,r=function(t,n){try{return t.hl(n)}catch(n){return sd(t,n),1}}(e,n);if(i!==t.ul)return Mf(fd("write to"));var s=i.we;if("errored"===s)return Mf(i.rv);if(zl(i)||"closed"===s)return Mf(new l("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Mf(i.rv);var u=function(t){return xf(function(n,i){var e={Xu:n,Fu:i};t.Vv.push(e)})}(i);return function(t,n,i){try{Xv(t,n,i)}catch(n){return void sd(t,n)}var e=t.fl;if(!zl(e)&&"writable"===e.we){var r=ud(t);Wl(e,r)}rd(t)}(e,n,r),u}d.defineProperties(Gl.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Gl.prototype,Ef.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Jl={},$l=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"abortReason",{get:function(){if(!td(this))throw cd("abortReason");return this.Zv},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"signal",{get:function(){if(!td(this))throw cd("signal");if(void 0===this.Kv)throw new l("WritableStreamDefaultController.prototype.signal is not supported");return this.Kv.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!td(this))throw cd("error");"writable"===this.fl.we&&od(this,t)},t.prototype[iv]=function(t){var n=this.vl(t);return id(this),n},t.prototype[ev]=function(){Fv(this)},t}();function td(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"fl")&&t instanceof $l)}function nd(t,n,i,e,r,s,u,o){n.fl=t,t.zv=n,n.Ev=void 0,n.Iv=void 0,Fv(n),n.Zv=void 0,n.Kv=function(){if(Cl)return new AbortController}(),n.xv=!1,n.hl=o,n.Hv=u,n.ll=e,n.dl=r,n.vl=s;var a=ud(n);Wl(t,a),Xf(Lf(i()),function(){n.xv=!0,rd(n)},function(i){n.xv=!0,Xl(t,i)})}function id(t){t.ll=void 0,t.dl=void 0,t.vl=void 0,t.hl=void 0}function ed(t){return t.Hv-t.Iv}function rd(t){var n=t.fl;if(t.xv&&void 0===n.Wv)if("erroring"!==n.we){if(0!==t.Ev.length){var i=t.Ev.peek().value;i===Jl?function(t){var n=t.fl;(function(t){t.qv=t.Gv,t.Gv=void 0})(n),Uv(t);var i=t.dl();id(t),Xf(i,function(){!function(t){t.qv.Xu(void 0),t.qv=void 0,"erroring"===t.we&&(t.rv=void 0,void 0!==t.Yv&&(t.Yv.Xu(),t.Yv=void 0)),t.we="closed";var n=t.mo;void 0!==n&&wd(n)}(n)},function(t){!function(t,n){t.qv.Fu(n),t.qv=void 0,void 0!==t.Yv&&(t.Yv.Fu(n),t.Yv=void 0),Xl(t,n)}(n,t)})}(t):function(t,n){var i=t.fl;(function(t){t.Wv=t.Vv.shift()})(i),Xf(t.ll(n),function(){!function(t){t.Wv.Xu(void 0),t.Wv=void 0}(i);var n=i.we;if(Uv(t),!zl(i)&&"writable"===n){var e=ud(t);Wl(i,e)}rd(t)},function(n){"writable"===i.we&&id(t),function(t,n){t.Wv.Fu(n),t.Wv=void 0,Xl(t,n)}(i,n)})}(t,i)}}else Hl(n)}function sd(t,n){"writable"===t.fl.we&&od(t,n)}function ud(t){return ed(t)<=0}function od(t,n){var i=t.fl;id(t),Fl(i,n)}function ad(t){return new l("WritableStream.prototype."+t+" can only be used on a WritableStream")}function cd(t){return new l("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function hd(t){return new l("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function fd(t){return new l("Cannot "+t+" a stream using a released writer")}function vd(t){t.Pc=xf(function(n,i){t.uv=n,t.ov=i,t.al="pending"})}function ld(t,n){vd(t),dd(t,n)}function dd(t,n){void 0!==t.ov&&(Vf(t.Pc),t.ov(n),t.uv=void 0,t.ov=void 0,t.al="rejected")}function wd(t){void 0!==t.uv&&(t.uv(void 0),t.uv=void 0,t.ov=void 0,t.al="resolved")}function _d(t){t.ol=xf(function(n,i){t.wl=n,t._l=i}),t.cl="pending"}function gd(t,n){_d(t),yd(t,n)}function md(t){_d(t),kd(t)}function yd(t,n){void 0!==t._l&&(Vf(t.ol),t._l(n),t.wl=void 0,t._l=void 0,t.cl="rejected")}function kd(t){void 0!==t.wl&&(t.wl(void 0),t.wl=void 0,t._l=void 0,t.cl="fulfilled")}d.defineProperties($l.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty($l.prototype,Ef.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var bd="undefined"!=typeof DOMException?DOMException:void 0;var pd,Ad=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(bd)?bd:((pd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),d.defineProperty(pd.prototype,"constructor",{value:pd,writable:!0,configurable:!0}),pd);function Td(t,n,i,e,r,s){var u=gv(t),o=Bl(n);t._v=!0;var a=!1,c=Lf(void 0);return xf(function(h,f){var v,d,w,_;if(void 0!==s){if(v=function(){var i=new Ad("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.we?Ml(n,i):Lf(void 0)}),r||s.push(function(){return"readable"===t.we?Zd(t,i):Lf(void 0)}),k(function(){return Ve.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Pc,function(t){e?b(!0,t):k(function(){return Ml(n,t)},!0,t)}),y(n,o.Pc,function(n){r?b(!0,n):k(function(){return Zd(t,n)},!0,n)}),d=t,w=u.Pc,_=function(){i?b():k(function(){return function(t){var n=t.ul,i=n.we;return zl(n)||"closed"===i?Lf(void 0):"errored"===i?Mf(n.rv):jl(t)}(o)})},"closed"===d.we?_():Ff(w,_),zl(n)||"closed"===n.we){var g=new l("the destination writable stream closed before all data could be piped to it");r?b(!0,g):k(function(){return Zd(t,g)},!0,g)}function m(){var t=c;return Uf(c,function(){return t!==c?m():void 0})}function y(t,n,i){"errored"===t.we?i(t.rv):Hf(n,i)}function k(t,i,e){function r(){Xf(t(),function(){return p(i,e)},function(t){return p(!0,t)})}a||(a=!0,"writable"!==n.we||zl(n)?r():Ff(m(),r))}function b(t,i){a||(a=!0,"writable"!==n.we||zl(n)?p(t,i):Ff(m(),function(){return p(t,i)}))}function p(t,n){Zl(o),Zf(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):h(void 0)}Vf(xf(function(t,n){!function i(e){e?t():Uf(a?Lf(!0):Uf(o.ol,function(){return xf(function(t,n){Ev(u,{vv:function(n){c=Uf(Kl(o,n),void 0,If),t(!1)},fv:function(){return t(!0)},wv:n})})}),i,n)}(!1)}))})}var Sd=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ed(this))throw Ld("desiredSize");return Bd(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ed(this))throw Ld("close");if(!Od(this))throw new l("The stream is not in a state that permits close");Dd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ed(this))throw Ld("enqueue");if(!Od(this))throw new l("The stream is not in a state that permits enqueue");return Cd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ed(this))throw Ld("error");Pd(this,t)},t.prototype[rv]=function(t){Fv(this);var n=this.Pv(t);return Nd(this),n},t.prototype[sv]=function(t){var n=this.yl;if(this.Ev.length>0){var i=Uv(this);this.Dv&&0===this.Ev.length?(Nd(this),Kd(n)):Id(this),t.vv(i)}else mv(n,t),Id(this)},t}();function Ed(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"yl")&&t instanceof Sd)}function Id(t){Rd(t)&&(t.Lv?t.Mv=!0:(t.Lv=!0,Xf(t.Uv(),function(){t.Lv=!1,t.Mv&&(t.Mv=!1,Id(t))},function(n){Pd(t,n)})))}function Rd(t){var n=t.yl;return!!Od(t)&&(!!t.xv&&(!!(Qd(n)&&kv(n)>0)||Bd(t)>0))}function Nd(t){t.Uv=void 0,t.Pv=void 0,t.hl=void 0}function Dd(t){if(Od(t)){var n=t.yl;t.Dv=!0,0===t.Ev.length&&(Nd(t),Kd(n))}}function Cd(t,n){if(Od(t)){var i=t.yl;if(Qd(i)&&kv(i)>0)yv(i,n,!1);else{var e=void 0;try{e=t.hl(n)}catch(n){throw Pd(t,n),n}try{Xv(t,n,e)}catch(n){throw Pd(t,n),n}}Id(t)}}function Pd(t,n){var i=t.yl;"readable"===i.we&&(Fv(t),Nd(t),Jd(i,n))}function Bd(t){var n=t.yl.we;return"errored"===n?null:"closed"===n?0:t.Hv-t.Iv}function Od(t){var n=t.yl.we;return!t.Dv&&"readable"===n}function xd(t,n,i,e,r,s,u){n.yl=t,n.Ev=void 0,n.Iv=void 0,Fv(n),n.xv=!1,n.Dv=!1,n.Mv=!1,n.Lv=!1,n.hl=u,n.Hv=s,n.Uv=e,n.Pv=r,t.mv=n,Xf(Lf(i()),function(){n.xv=!0,Id(n)},function(t){Pd(n,t)})}function Ld(t){return new l("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Md(t,n){return Vv(t.mv)?function(t){var n,i,e,r,s,u=gv(t),o=!1,a=!1,c=!1,h=!1,f=!1,v=xf(function(t){s=t});function l(t){Hf(t.Pc,function(n){t===u&&(ul(e.mv,n),ul(r.mv,n),h&&f||s(void 0))})}function d(){yl(u)&&(Zf(u),l(u=gv(t)));var n={vv:function(n){Wf(function(){a=!1,c=!1;var i=n,u=n;if(!h&&!f)try{u=Mv(n)}catch(n){return ul(e.mv,n),ul(r.mv,n),void s(Zd(t,n))}h||sl(e.mv,i),f||sl(r.mv,u),o=!1,a?_():c&&g()})},fv:function(){o=!1,h||rl(e.mv),f||rl(r.mv),e.mv.Ov.length>0&&cl(e.mv,0),r.mv.Ov.length>0&&cl(r.mv,0),h&&f||s(void 0)},wv:function(){o=!1}};Ev(u,n)}function w(n,i){Sv(u)&&(Zf(u),l(u=dl(t)));var v=i?r:e,d=i?e:r,w={vv:function(n){Wf(function(){a=!1,c=!1;var e=i?f:h,r=i?h:f;if(r)e||hl(v.mv,n);else{var u=void 0;try{u=Mv(n)}catch(n){return ul(v.mv,n),ul(d.mv,n),void s(Zd(t,n))}e||hl(v.mv,n),sl(d.mv,u)}o=!1,a?_():c&&g()})},fv:function(t){o=!1;var n=i?f:h,e=i?h:f;n||rl(v.mv),e||rl(d.mv),void 0!==t&&(n||hl(v.mv,t),!e&&d.mv.Ov.length>0&&cl(d.mv,0)),n&&e||s(void 0)},wv:function(){o=!1}};kl(u,n,w)}function _(){if(o)return a=!0,Lf(void 0);o=!0;var t=ol(e.mv);return null===t?d():w(t.Rv,!1),Lf(void 0)}function g(){if(o)return c=!0,Lf(void 0);o=!0;var t=ol(r.mv);return null===t?d():w(t.Rv,!0),Lf(void 0)}function m(){}return e=qd(m,_,function(e){if(h=!0,n=e,f){var r=Bv([n,i]),u=Zd(t,r);s(u)}return v}),r=qd(m,g,function(e){if(f=!0,i=e,h){var r=Bv([n,i]),u=Zd(t,r);s(u)}return v}),l(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=gv(t),a=!1,c=!1,h=!1,f=!1,v=xf(function(t){u=t});function l(){if(a)return c=!0,Lf(void 0);a=!0;var t={vv:function(t){Wf(function(){c=!1;var n=t,i=t;h||Cd(r.mv,n),f||Cd(s.mv,i),a=!1,c&&l()})},fv:function(){a=!1,h||Dd(r.mv),f||Dd(s.mv),h&&f||u(void 0)},wv:function(){a=!1}};return Ev(o,t),Lf(void 0)}function d(){}return r=Gd(d,l,function(n){if(h=!0,i=n,f){var r=Bv([i,e]),s=Zd(t,r);u(s)}return v}),s=Gd(d,l,function(n){if(f=!0,e=n,h){var r=Bv([i,e]),s=Zd(t,r);u(s)}return v}),Hf(o.Pc,function(t){Pd(r.mv,t),Pd(s.mv,t),h&&f||u(void 0)}),[r,s]}(t)}function Ud(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Xd(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function Fd(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function Hd(t,n){if("bytes"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function zd(t,n){if("byob"!==(t=""+t))throw new l(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Vd(t,n){av(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new l(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}d.defineProperties(Sd.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Sd.prototype,Ef.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Wd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:hv(t,"First parameter");var i=Tl(n,"Second parameter"),e=function(t,n){av(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:wv(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Ud(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Xd(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Fd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Hd(o,n+" has member 'type' that")}}(t,"First parameter");if(jd(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=d.create(zv.prototype),r=function(){},s=function(){return Lf(void 0)},u=function(){return Lf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new l("autoAllocateChunkSize must be greater than 0");fl(t,e,r,s,u,i,o)}(this,e,pl(i,0))}else{var r=Al(i);!function(t,n,i,e){var r=d.create(Sd.prototype),s=function(){},u=function(){return Lf(void 0)},o=function(){return Lf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),xd(t,r,s,u,o,i,e)}(this,e,pl(i,1),r)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!Yd(this))throw $d("locked");return Qd(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Yd(this)?Qd(this)?Mf(new l("Cannot cancel a stream that already has a reader")):Zd(this,t):Mf($d("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Yd(this))throw $d("getReader");return void 0===function(t,n){av(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:zd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?gv(this):dl(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Yd(this))throw $d("pipeThrough");fv(t,1,"pipeThrough");var i=function(t,n){av(t,n);var i=null==t?void 0:t.readable;vv(i,"readable","ReadableWritablePair"),_v(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return vv(e,"writable","ReadableWritablePair"),Dl(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Vd(n,"Second parameter");if(Qd(this))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ll(i.writable))throw new l("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Vf(Td(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Yd(this))return Mf($d("pipeTo"));if(void 0===t)return Mf("Parameter 1 is required in 'pipeTo'.");if(!xl(t))return Mf(new l("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Vd(n,"Second parameter")}catch(t){return Mf(t)}return Qd(this)?Mf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ll(t)?Mf(new l("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Td(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Yd(this))throw $d("tee");return Bv(Md(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Yd(this))throw $d("values");var n,i,e,r,s,u=function(t,n){av(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=gv(n),r=new Rv(e,i),(s=d.create(Nv)).Sv=r,s},t}();function Gd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=d.create(Wd.prototype);return jd(s),xd(s,d.create(Sd.prototype),t,n,i,e,r),s}function qd(t,n,i){var e=d.create(Wd.prototype);return jd(e),fl(e,d.create(zv.prototype),t,n,i,0,void 0),e}function jd(t){t.we="readable",t.ev=void 0,t.rv=void 0,t._v=!1}function Yd(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"mv")&&t instanceof Wd)}function Qd(t){return void 0!==t.ev}function Zd(t,n){if(t._v=!0,"closed"===t.we)return Lf(void 0);if("errored"===t.we)return Mf(t.rv);Kd(t);var i=t.ev;return void 0!==i&&yl(i)&&(i.Xv.forEach(function(t){t.fv(void 0)}),i.Xv=new jf),zf(t.mv[rv](n),If)}function Kd(t){t.we="closed";var n=t.ev;void 0!==n&&(nv(n),Sv(n)&&(n.hv.forEach(function(t){t.fv()}),n.hv=new jf))}function Jd(t,n){t.we="errored",t.rv=n;var i=t.ev;void 0!==i&&(tv(i,n),Sv(i)?(i.hv.forEach(function(t){t.wv(n)}),i.hv=new jf):(i.Xv.forEach(function(t){t.wv(n)}),i.Xv=new jf))}function $d(t){return new l("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function tw(t,n){av(t,n);var i=null==t?void 0:t.highWaterMark;return vv(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:lv(i)}}d.defineProperties(Wd.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(Wd.prototype,Ef.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Ef.asyncIterator&&d.defineProperty(Wd.prototype,Ef.asyncIterator,{value:Wd.prototype.values,writable:!0,configurable:!0});var nw=function(t){return t.byteLength};try{d.defineProperty(nw,"name",{value:"size",configurable:!0})}catch(pv){}var iw=function(){function t(t){fv(t,1,"ByteLengthQueuingStrategy"),t=tw(t,"First parameter"),this.bl=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!rw(this))throw ew("highWaterMark");return this.bl},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!rw(this))throw ew("size");return nw},enumerable:!1,configurable:!0}),t}();function ew(t){return new l("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function rw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"bl")&&t instanceof iw)}d.defineProperties(iw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(iw.prototype,Ef.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var sw=function(){return 1};try{d.defineProperty(sw,"name",{value:"size",configurable:!0})}catch(pv){}var uw=function(){function t(t){fv(t,1,"CountQueuingStrategy"),t=tw(t,"First parameter"),this.Al=t.highWaterMark}return d.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!aw(this))throw ow("highWaterMark");return this.Al},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"size",{get:function(){if(!aw(this))throw ow("size");return sw},enumerable:!1,configurable:!0}),t}();function ow(t){return new l("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function aw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Al")&&t instanceof uw)}function cw(t,n,i){return cv(t,i),function(i){return qf(t,n,[i])}}function hw(t,n,i){return cv(t,i),function(i){return Gf(t,n,[i])}}function fw(t,n,i){return cv(t,i),function(i,e){return qf(t,n,[i,e])}}d.defineProperties(uw.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(uw.prototype,Ef.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var vw=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Tl(n,"Second parameter"),r=Tl(i,"Third parameter"),s=function(t,n){av(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:cw(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:hw(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:fw(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=pl(r,0),a=Al(r),c=pl(e,1),h=Al(e);!function(t,n,i,e,r,s){function u(){return n}t.Tl=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=d.create(Pl.prototype);return Ol(u),nd(u,d.create($l.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Sl;if(t.Qv){var e=t.El;return zf(e,function(){var e=t.Tl,r=e.we;if("erroring"===r)throw e.rv;return bw(i,n)})}return bw(i,n)}(t,n)},function(){return function(t){var n=t.Il,i=t.Sl,e=i.Rl();return yw(i),zf(e,function(){if("errored"===n.we)throw n.rv;Dd(n.mv)},function(i){throw dw(t,i),n.rv})}(t)},function(n){return function(t,n){return dw(t,n),Lf(void 0)}(t,n)},i,e),t.Il=Gd(u,function(){return function(t){return _w(t,!1),t.El}(t)},function(n){return ww(t,n),Lf(void 0)},r,s),t.Qv=void 0,t.El=void 0,t.Nl=void 0,_w(t,!0),t.Sl=void 0}(this,xf(function(t){u=t}),c,h,o,a),function(t,n){var i=d.create(gw.prototype),e=function(t){try{return kw(i,t),Lf(void 0)}catch(t){return Mf(t)}},r=function(){return Lf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.Dl=t,t.Sl=n,n.Cl=i,n.Rl=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.Sl)):u(void 0)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!lw(this))throw Aw("readable");return this.Il},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!lw(this))throw Aw("writable");return this.Tl},enumerable:!1,configurable:!0}),t}();function lw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Sl")&&t instanceof vw)}function dw(t,n){Pd(t.Il.mv,n),ww(t,n)}function ww(t,n){yw(t.Sl),sd(t.Tl.zv,n),t.Qv&&_w(t,!1)}function _w(t,n){void 0!==t.El&&t.Nl(),t.El=xf(function(n){t.Nl=n}),t.Qv=n}d.defineProperties(vw.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(vw.prototype,Ef.toStringTag,{value:"TransformStream",configurable:!0});var gw=function(){function t(){throw new l("Illegal constructor")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!mw(this))throw pw("desiredSize");return Bd(this.Dl.Il.mv)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!mw(this))throw pw("enqueue");kw(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!mw(this))throw pw("error");var n;n=t,dw(this.Dl,n)},t.prototype.terminate=function(){if(!mw(this))throw pw("terminate");!function(t){var n=t.Dl;Dd(n.Il.mv);var i=new l("TransformStream terminated");ww(n,i)}(this)},t}();function mw(t){return!!Nf(t)&&(!!d.prototype.hasOwnProperty.call(t,"Dl")&&t instanceof gw)}function yw(t){t.Cl=void 0,t.Rl=void 0}function kw(t,n){var i=t.Dl,e=i.Il.mv;if(!Od(e))throw new l("Readable side is not in a state that permits enqueue");try{Cd(e,n)}catch(t){throw ww(i,t),i.Il.rv}(function(t){return!Rd(t)})(e)!==i.Qv&&_w(i,!0)}function bw(t,n){return zf(t.Cl(n),void 0,function(n){throw dw(t.Dl,n),n})}function pw(t){return new l("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Aw(t){return new l("TransformStream.prototype."+t+" can only be used on a TransformStream")}d.defineProperties(gw.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Ef.toStringTag&&d.defineProperty(gw.prototype,Ef.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Tw=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Jt);function Sw(t){return n=[t],new Wd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Ew(t){return Sw(new y(t))}function Iw(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Wo,s=function(){u();var t=new Ks;e.cancel(t).catch(Z),r.Vu(t)},u=function(){i&&(i.xs(s),i=void 0)};i&&(i.Rs?s():i.Os(s));var o=[];return Ve.resolve(e.read()).then(function t(n){return n.done?(u(),Ve.resolve(o)):(o.push(n.value),Ve.resolve(e.read()).then(t))}).then(function(t){u(),r.Hu(t)},function(t){u(),r.Vu(t)}),r.Uu}(t,n).then(function(t){return Mu(t).buffer})}function Rw(t,n){var i=n,e=new vw,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Xs()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function Nw(t){var n=new vw,i=n.readable,e=n.writable;return t.pipeTo(e,{preventCancel:!0}).catch(function(n){var i;i=H(n)?n[0]===n[1]||Js(n[0])&&Js(n[1])?n[0]:new Tw(n):n,t.cancel(i).catch(Z)}),i.tee()}function Dw(t,n,i){var e=new vw({},{},n),r=t.pipeTo(e.writable,{signal:Cw(i)});return[e.readable,r]}function Cw(t){return t?new Bw(t):void 0}var Pw,Bw=function(){function t(t){this.Pl=t}var n=t.prototype;return n.addEventListener=function(t,n){this.Pl.Os(n)},n.removeEventListener=function(t,n){this.Pl.xs(n)},A(t,[{key:"aborted",get:function(){return this.Pl.Rs}}]),t}();function Ow(t){return Do(new y(t))}function xw(t){return Co(t).buffer}!function(t){t[t.Gf=0]="Gf",t[t.Bl=1]="Bl"}(Pw||(Pw={}));var Lw="content-type",Mw="text/plain;charset=UTF-8",Uw=function(){function t(){}var n=t.prototype;return n.Ol=function(t){return this.xl(t).then(JSON.parse)},n.Ll=function(t,n){switch(t){case pf.Vf:return this.Ml(n);case pf.Wf:return this.Ol(n);case pf.Gf:return this.Ul();case pf.Kn:return this.xl(n);default:throw new l}},t}();function Xw(t,n,i){if(t instanceof Uw)return t;if(t instanceof Wd)return function(t,n){return new Hw({us:Pw.Gf,Ul:t,Xl:Fw(n)})}(t,i);var e=Fw(i),r=Ve.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{us:pf.Kn,Fl:t,Xl:n||Mw};if(t instanceof ArrayBuffer||Ou(t))return{us:pf.Vf,Fl:Yw(t),Xl:n};if(W(t)||H(t))return{us:pf.Wf,Fl:t,Xl:n};throw new l("Unsupported BodyInit type")}return{us:pf.Kn,Fl:null,Xl:n}}(t,e)});return new Hw({us:Pw.Bl,Uu:r,Hl:n})}function Fw(t){return(t.get(Lw)||"").toLowerCase()}var Hw=function(t){function n(n){var i;return(i=t.call(this)||this).zl=!1,i.Vl=void 0,i.Wl=new Wo,i.Wl.Uu.catch(Z),i.Gl(n),i}S(n,t);var i=n.prototype;return i.ql=function(){return this.Wl.Uu},i.xl=function(t){return this.jl(zw,t)},i.Ol=function(t){return this.jl(Ww,t)},i.Ml=function(t){return this.jl(qw,t)},i.Ul=function(){return this.Yl((t=this.Vl).us===Pw.Gf?t.Ul:Rw(t.Uu.then(jw).then(Ew),t.Hl));var t},i.jl=function(t,n){if(this.zl)return Ve.reject(new l("Already used"));this.zl=!0;var i=t(this.Vl,n);return this.Wl.Hu(i.then(Z)),i},i.Yl=function(t){if(this.zl)throw new l("Already used");if(t.locked)throw new l("Body stream is locked");this.zl=!0;var n=new vw,i=Ve.resolve(t.pipeTo(n.writable));return this.Wl.Hu(i),n.readable},i.Gl=function(t){this.Vl=t,t.us===Pw.Bl&&t.Uu.catch(Z)},i.Ql=function(){if(this.zl)throw new l("Already used");var t=function(t){if(t.us===Pw.Gf){var n=t.Ul.tee(),i=n[0],e=n[1];return[{us:t.us,Ul:i,Xl:t.Xl},{us:t.us,Ul:e,Xl:t.Xl}]}var r=t.Hl.Hs(),s=r[0],u=r[1];return[{us:t.us,Uu:t.Uu,Hl:s},{us:t.us,Uu:t.Uu,Hl:u}]}(this.Vl),i=t[0],e=t[1];return this.Gl(i),new n(e)},A(n,[{key:"Zl",get:function(){return this.zl}}]),n}(Uw);function zw(t,n){return t.us===Pw.Gf?Iw(t.Ul,n).then(Ow):(n&&t.Hl.Fs(n),eu(t.Uu.then(Vw),t.Hl))}function Vw(t){switch(t.us){case pf.Kn:return Ve.resolve(t.Fl||"");case pf.Vf:return Ve.resolve(t.Fl).then(Ow);case pf.Wf:return Ve.resolve(t.Fl).then(JSON.stringify)}}function Ww(t,n){return t.us===Pw.Gf?zw(t,n).then(JSON.parse):(n&&t.Hl.Fs(n),eu(t.Uu.then(Gw),t.Hl))}function Gw(t){return t.us===pf.Wf?Ve.resolve(t.Fl):Vw(t).then(JSON.parse)}function qw(t,n){return t.us===Pw.Gf?Iw(t.Ul,n):(n&&t.Hl.Fs(n),eu(t.Uu.then(jw),t.Hl))}function jw(t){switch(t.us){case pf.Vf:return Ve.resolve(t.Fl);case pf.Kn:case pf.Wf:return Vw(t).then(xw)}}function Yw(t){return t instanceof ArrayBuffer?t:Fo(Lo(t)).buffer}function Qw(t){return t.Kl>=200&&t.Kl<=299||304===t.Kl}var Zw,Kw,Jw,$w,t_=function(t){function n(n,i){var e,r,s,u,o,a;i?(r=i.Jl,s=i.$l,u=i.Kl,o=i.td,a=i.ed):(r=[],s=pf.Kn,u=200,o="OK",a=!1);var c=n.rd,h=new Af(n.Jl||r),f=n.$l||s,v=n.ud||(i&&i.rd===c?i.ud:c.od),l=i?i.hd:null,d=Xw(void 0!==n.Xi?n.Xi:l,n.Hl||new Zs,h);return(e=t.call(this,d)||this).Jl=void 0,e.rd=void 0,e.ud=void 0,e.$l=void 0,e.Kl=void 0,e.td=void 0,e.ed=void 0,e.Jl=h,e.rd=c,e.ud=v,e.$l=f,e.Kl=void 0!==n.Kl?n.Kl:u,e.td=void 0!==n.td?String(n.td):o,e.ed=n.ed||a,e}S(n,t);var i=n.prototype;return i.Xi=function(t){return this.Ll(this.$l,t)},i.Ou=function(){return new n({Xi:this.Ql(),rd:this.rd},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).hd=void 0,i.hd=n,i}S(n,t);var i=n.prototype;return i.ql=function(){return this.hd.ql()},i.xl=function(t){return this.hd.xl(t)},i.Ol=function(t){return this.hd.Ol(t)},i.Ml=function(t){return this.hd.Ml(t)},i.Ul=function(){return this.hd.Ul()},i.Ql=function(){return this.hd.Ql()},A(n,[{key:"Zl",get:function(){return this.hd.Zl}}]),n}(Uw));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Zw||(Zw={})),function(t){t.fd="",t.vd="manifest",t.ld="segment",t.dd="content-protection"}(Kw||(Kw={})),function(t){t.fd="",t.wd="initialization-segment",t._d="fairplay-license",t.md="fairplay-certificate",t.yd="widevine-license",t.kd="widevine-certificate",t.bd="playready-license",t.pd="clearkey-license",t.Ad="aes128-key"}(Jw||(Jw={})),function(t){t.fd="",t.Td="audio",t.Sd="video",t.Kn="text",t.Ed="image"}($w||($w={}));var n_=function(t,n){this.Fl=void 0,this.Jl=void 0,this.Id=void 0,this.$l=void 0,this.Rd=void 0,this.zs=void 0,this.us=void 0,this.Nd=void 0,this.Dd=void 0,this.od=void 0,this.Cd=void 0,this.Pd=void 0;var i,e,r,s,u,o,a,c,h,f,v,l=t.od;n?(i=n.Fl,e=n.Jl,r=n.Id,s=n.$l,u=n.Rd,o=n.zs,a=n.us,c=n.Nd,h=n.Dd,f=n.Cd,v=n.Pd):(i=null,e={},r=Zw.GET,s=pf.Kn,u=0,a=Kw.fd,c=Jw.fd,h=$w.fd,f=!1),this.od=l,this.Fl=t.Fl||i,this.Jl=new Af(t.Jl||e),this.Id=t.Id||r,this.$l=t.$l||s,this.Rd=void 0!==t.Rd?Number(t.Rd)||0:u,this.zs=t.zs||o||(new Zs).zs,this.us=t.us||a,this.Nd=t.Nd||c,this.Dd=t.Dd||h,this.Cd=void 0!==t.Cd?Boolean(t.Cd):f,this.Pd=t.Pd||v},i_=function(){function t(){}var n=t.prototype;return n.rd=function(t){var n=function(t){return new t_({Xi:null,Jl:{},rd:t,ud:t.od,$l:t.$l,Kl:0,td:bf.pf})}(new n_(t));return Ve.resolve(n)},n.Bd=function(t){},n.Od=function(){},t}();var e_=function(){function t(t,n){void 0===n&&(n=!0),this.xd=void 0,this.Ld=void 0,this.xd=t,this.Ld=n}var n=t.prototype;return n.rd=function(t){var n=this.Md(t);return this.xd.rd(n)},n.Bd=function(t){return this.xd.Bd(this.Ud(t))},n.Md=function(n){var i=new n_(n);if(!this.Ld){var e=t.Xd(i.od);i=new n_({od:e},i)}return i},n.Ud=function(n){var i=n.od;return this.Ld||(i=t.Xd(i)),{od:i,Fl:n.Fl}},t.Xd=function(t){return i.Ur&&vs(t,"http://")?t.replace(":","s:"):t},n.Od=function(){this.xd.Od()},A(t,null,[{key:"Fd",get:function(){return t.Hd||(t.Hd=new t(new i_)),t.Hd}}]),t}();function r_(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function s_(t,n){var e=i.Pr(t);return n&&!ls(e,"/")&&(e+="/"),e}e_.Hd=void 0;var u_,o_=/cache:(.+)?(?=&|$)/,a_="http://webcache.googleusercontent.com/search?q=cache:";function c_(t){if(!vs(t,a_))return"";var n=i.Cr(t).search.match(o_);return n&&n.length>1?n[1]:""}!function(t){t.zd="HttpOpenError",t.Vd="HttpResponseError",t.Wd="HttpTimeoutError"}(u_||(u_={}));var h_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Gd=void 0,r.Gd=n,r}return S(n,t),A(n,[{key:"rd",get:function(){return this.Gd}}]),n}(Jt);var f_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.od+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return u_.zd}}]),n}(h_);var v_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.rd,null!=e?e:function(t){return"Error while loading "+t.rd.od+", status code "+t.Kl}(n),i)||this).qd=void 0,r.qd=n,r}return S(n,t),A(n,[{key:"name",get:function(){return u_.Vd}},{key:"jd",get:function(){return this.qd}}]),n}(h_);var l_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.od+" timed out after "+t.Rd+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return u_.Wd}}]),n}(h_),d_=function(t,n){return(d_=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function w_(t,n){function i(){this.constructor=t}d_(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var __="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var g_=function(){var t=__.Blob;if(t)try{return new t,function(t,n){return new __.Blob(t,n)}}catch(t){}var n,i=__.BlobBuilder||__.WebKitBlobBuilder||__.MozBlobBuilder||__.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),m_="function"==typeof Wd?Wd:void 0;function y_(t){return t&&"function"==typeof t.getReader}function k_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&y_(i)}catch(t){return!1}}var b_=function(){function t(t,n){this.ev=t,this.Yd=n}return t.prototype.pull=function(t){var n=this;return this.ev.read().then(function(i){n.Yd&&n.Yd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.ev.cancel(t)},t}();function p_(t,n){return n.constructor===t?n:new t(new b_(n.getReader()),{highWaterMark:0})}var A_=function(){function t(t,n){this.Qd=t,this.Zd=n}return t.prototype.pull=function(t){return this.Qd().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Zd&&this.Zd(t)},t}();function T_(t,n,i){return new t(new A_(n,i),{highWaterMark:0})}var S_={searchParams:"URLSearchParams"in __,iterable:"Symbol"in __&&"iterator"in Symbol,blob:"FileReader"in __&&!!g_,formData:"FormData"in __,arrayBuffer:"ArrayBuffer"in __,stream:k_(m_),streamRequest:"Request"in __&&"body"in __.Request.prototype,streamResponse:"Response"in __&&"body"in __.Response.prototype,abort:"AbortController"in __&&"Request"in __&&"signal"in __.Request.prototype,encoding:"TextEncoder"in __&&"TextDecoder"in __,url:"URL"in __&&function(t){try{return new __.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in __&&/Firefox\//.test(__.navigator.userAgent)};function E_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new l("Invalid character in header field name");return t}function I_(t){return"string"!=typeof t&&(t=String(t)),t}function R_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return S_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var N_=function(){function t(t){var n=this;this.Qr={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return S_.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=E_(t),n=I_(n);var i=t.toLowerCase();if(this.Qr.hasOwnProperty(i)){var e=this.Qr[i],r=e[1];e[1]=r?r+", "+n:n}else this.Qr[i]=[t,n]},t.prototype.delete=function(t){var n=E_(t).toLowerCase();delete this.Qr[n]},t.prototype.get=function(t){var n=E_(t).toLowerCase();return this.Qr.hasOwnProperty(n)?this.Qr[n][1]:null},t.prototype.has=function(t){var n=E_(t).toLowerCase();return this.Qr.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=E_(t)).toLowerCase();this.Qr[i]=[t,I_(n)]},t.prototype.forEach=function(t,n){for(var i in this.Qr)this.Qr.hasOwnProperty(i)&&t.call(n,this.Qr[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),R_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),R_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),R_(t)},t.prototype.asList=function(){var t=[];for(var n in this.Qr)if(this.Qr.hasOwnProperty(n)){var i=this.Qr[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function D_(){}S_.iterable&&(N_.prototype[Symbol.iterator]=N_.prototype.entries);var C_,P_,B_,O_=w.min,x_=String.fromCharCode,L_=16384;function M_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=L_){var r=O_(e+L_,n);i.push(x_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function U_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function X_(t,n){return t>>n&63|128}function F_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(U_(t),n.push(t>>12&15|224),n.push(X_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(X_(t,12)),n.push(X_(t,6))),n.push(63&t|128)):n.push(t)}function H_(){if(B_>=P_)throw new v("Invalid byte index");var t=255&C_[B_];if(B_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function z_(){var t,n;if(B_>P_)throw new v("Invalid byte index");if(B_===P_)return!1;if(t=255&C_[B_],B_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|H_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|H_()<<6|H_())>=2048)return U_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|H_()<<12|H_()<<6|H_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var V_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function W_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function G_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function q_(t){return t&&DataView.prototype.isPrototypeOf(t)}var j_,Y_=ArrayBuffer.isView||function(t){return t&&(V_.indexOf(d.prototype.toString.call(t))>-1||q_(t))};function Q_(t){if(t.bodyUsed)return Ve.reject(new l("Already used"));t.bodyUsed=!0}function Z_(t){return new Ve(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function K_(t){return S_.encoding?new __.TextDecoder("utf-8").decode(new y(t)):M_(function(t){P_=(C_=t).length,B_=0;for(var n,i=[];!1!==(n=z_());)i.push(n);return i}(new y(t)))}function J_(t){return S_.encoding?(new __.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)F_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function $_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?Ve.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function tg(t){return $_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(a=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var a=o[u];r.set(a,s),s+=a.byteLength}return r}(t).buffer})}function ng(t){return t.slice?t.slice(0):ig(new y(t))}function ig(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function eg(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function rg(t){var n=t;if(n.bodyUsed)throw new l("Already used");if(n.Kd===j_.Jd){if(!n.$d.tee)throw new v("could not clone ReadableStream body");var i=n.$d.tee(),e=i[0],r=i[1];return n.body=e,n.$d=e,n.nw=e,r}return n.Kd===j_.Vf?ng(n.$d):n.Kd===j_.Bl?n.$d.then(rg):n.nw}!function(t){t[t.Kn=0]="Kn",t[t.iw=1]="iw",t[t.ew=2]="ew",t[t.Vf=3]="Vf",t[t.Jd=4]="Jd",t[t.Bl=5]="Bl"}(j_||(j_={}));var sg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.nw=n||null,n)if("string"==typeof n)this.Kd=j_.Kn,this.$d=n;else if((s=n)&&"function"==typeof s.then)this.Kd=j_.Bl,this.$d=Ve.resolve(n).then(function(n){return new t(n,i)}),this.$d.catch(D_);else if(S_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Kd=j_.iw,this.$d=n;else if(S_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Kd=j_.ew,this.$d=n;else if(S_.searchParams&&W_(n))this.Kd=j_.Kn,this.$d=n.toString();else if(S_.arrayBuffer&&(G_(n)||Y_(n)))q_(n)&&(this.nw=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Kd=j_.Vf,this.$d=G_(e=n)?ng(e):ig(e);else{if(!S_.stream||!y_(n))throw new v("unsupported BodyInit type");n=p_(m_,n),this.Kd=j_.Jd,this.$d=n,this.nw=n}else this.Kd=j_.Kn,this.$d="";this.uw="",i.has("content-type")?this.uw=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.uw="text/plain;charset=UTF-8":u.Kd===j_.iw&&u.$d.type?this.uw=u.$d.type:S_.searchParams&&W_(n)&&(this.uw="application/x-www-form-urlencoded;charset=UTF-8"),this.uw&&i.set("content-type",this.uw)),S_.stream&&(null==n?this.body=null:u.Kd===j_.Jd?this.body=u.$d:this.body=T_(m_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=Q_(this);return e||(this.Kd===j_.iw?(t=this.$d,n=new FileReader,i=Z_(n),n.readAsText(t),i):this.Kd===j_.Vf?Ve.resolve(this.$d).then(K_):this.Kd===j_.Jd?tg(this.$d).then(K_):this.Kd===j_.Bl?this.$d.then(function(t){return t.text()}):this.Kd===j_.ew?Ve.reject(new v("could not read FormData body as text")):Ve.resolve(this.$d))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();S_.blob&&(sg.prototype.blob=function(){var t,n,i=Q_(this);return i||(this.Kd===j_.iw?Ve.resolve(this.$d):this.Kd===j_.Vf?Ve.resolve(g_([this.$d],{type:this.uw})):this.Kd===j_.Jd?(t=this.$d,n=this.uw,$_(t).then(function(t){return g_(t,{type:n||""})})):this.Kd===j_.Bl?this.$d.then(function(t){return t.blob()}):this.Kd===j_.ew?Ve.reject(new v("could not read FormData body as Blob")):Ve.resolve(g_([this.$d],{type:this.uw})))}),S_.arrayBuffer&&(sg.prototype.arrayBuffer=function(){var t,n,i;return this.Kd===j_.Vf?Q_(this)||Ve.resolve(this.$d):this.Kd===j_.iw?Q_(this)||(t=this.$d,n=new FileReader,i=Z_(n),n.readAsArrayBuffer(t),i):this.Kd===j_.Jd?tg(this.$d):this.Kd===j_.Bl?Q_(this)||this.$d.then(function(t){return t.arrayBuffer()}):this.Kd===j_.ew?Ve.reject(new v("could not read FormData body as ArrayBuffer")):Ve.resolve(this.$d).then(J_)}),S_.formData&&(sg.prototype.formData=function(){return this.Kd===j_.ew?Q_(this)||Ve.resolve(this.$d):this.text().then(eg)});var ug=[301,302,303,307,308],og=function(t){function n(n,i){var e=this,r=new N_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return w_(n,t),n.prototype.clone=function(){return new n(rg(this),{status:this.status,statusText:this.statusText,headers:new N_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===ug.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(sg);var ag,cg=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new l("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function o(t,n){return(o=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?c(e):r).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new l("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(ag=cg)&&ag.__esModule&&d.prototype.hasOwnProperty.call(ag,"default")&&ag.default,cg.AbortSignal;var hg=cg.AbortController,fg=__.DOMException;try{new fg}catch(t){(fg=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=d.create(v.prototype),fg.prototype.constructor=fg}var vg=hg;function lg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function dg(t,n,i){return new Ve(function(e,r){if(n.signal.aborted)return t.catch(D_),r(wg());var s=function(){n.signal.removeEventListener("abort",s),r(wg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function wg(){return new fg("Aborted","AbortError")}var _g,gg="moz-chunked-arraybuffer";function mg(t){try{var n=new b;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(_g||(_g={}));var yg=function(){function t(t,n){var i=this;this.ow=!1,this.Gd=t,this.aw=n,this.cw=new b,this.hw=new Ve(function(t,n){i.fw=t,i.vw=n})}return t.prototype.send=function(){var t=this;return this.lw().then(function(n){return t.dw(n,t.aw),t.hw})},t.prototype.lw=function(){var t=this.Gd;return t.Kd===j_.Jd?t.arrayBuffer():Ve.resolve(t.nw)},t.prototype.ww=function(t){this.Gd.onprogress&&this.Gd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype._w=function(t){this.vw(t)},t.prototype.gw=function(){this._w(new l("Network request failed"))},t.prototype.mw=function(){this._w(new l("Network request failed"))},t.prototype.yw=function(){this._w(wg())},t.prototype.dw=function(t,n){var i=this,e=this.Gd,r=this.cw,s=function(){return i.bw()};if(e.signal.aborted)return this.yw();r.onreadystatechange=function(){if(r.readyState>=_g.HEADERS_RECEIVED&&!i.ow){var t=function(t){var n=new N_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.ow=!0,i.pw(n)}},r.onprogress=function(t){return i.ww(t)},r.onload=function(){return i.Aw()},r.onerror=function(){return i.gw()},r.ontimeout=function(){return i.mw()},r.onabort=function(){return i.yw()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.bw=function(){this.yw(),this.cw.abort()},t}(),kg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Tw=void 0,e.Sw=void 0,e}return w_(n,t),n.prototype.pw=function(t){var n=this;this.Tw=new Ve(function(t,i){n.Sw=t,n.Ew=i}),this.fw(new og(this.Tw,t))},n.prototype.Aw=function(){var t=this.cw.response;if(null==t){var n=this.aw;""===n||"text"===n?t=this.cw.responseText:"document"===n?t=this.cw.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=g_([]))}this.Sw(t)},n.prototype._w=function(n){t.prototype._w.call(this,n),this.Ew&&this.Ew(n)},n}(yg),bg=function(t){function n(n){var i=t.call(this,n,gg)||this;return i.Iw=void 0,i.Rw=void 0,i.Nw=!1,i}return w_(n,t),n.prototype.pw=function(t){var n=this;this.Iw=new m_({start:function(t){n.Rw=t},cancel:function(){n.Nw=!0,n.bw()}}),this.fw(new og(this.Iw,t))},n.prototype.ww=function(n){this.Nw||this.Rw.enqueue(new y(this.cw.response)),t.prototype.ww.call(this,n)},n.prototype.Aw=function(){this.Rw.close()},n.prototype._w=function(n){t.prototype._w.call(this,n),this.Rw&&!this.Nw&&(this.Nw=!0,this.Rw.error(n))},n}(yg),pg=function(){var t=S_.firefox&&mg(gg);return pg=function(){return t},t},Ag=function(){var t;return t=S_.arrayBuffer&&mg("arraybuffer")?"arraybuffer":S_.blob&&mg("blob")?"blob":"",Ag=function(){return t},t};function Tg(t){return(S_.stream&&pg()?new bg(t):new kg(t,Ag())).send()}var Sg=__.fetch,Eg=__.Request;__.Response;var Ig=__.AbortController;var Rg=["http:","https:"];var Ng=function(){try{if(S_.streamRequest){var t=new Eg("about:blank",{body:"",method:"POST"}).body;if(t&&k_(t.constructor))return t.constructor}}catch(t){}}();function Dg(t,n,i){var e;if(S_.stream){var r=void 0;if(S_.streamResponse){var s=t.body;r=s&&p_(m_,s)}else r=T_(m_,function(){return dg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new b_(n.getReader(),i),{highWaterMark:0})}(m_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Cg(t.headers))),e=r}else{var u=dg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return Ve.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Cg(t.headers))),e=u}return new og(e,t)}function Cg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Pg(t){var n=new vg;return t.signal&&lg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Kd===j_.Jd?S_.streamRequest&&Ng?Ve.resolve(p_(Ng,r.$d)):dg(t.arrayBuffer(),n,!1):dg(Ve.resolve(t.nw),n,!1),S_.abort){var s=new Ig;lg(s,n.signal),e=s.signal}return i.then(function(n){return new Eg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof N_?i:new N_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return Sg(i).then(function(i){return Dg(i,n,t.onprogress)})})}var Bg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Og=function(t){function n(i,e){var r,s,u,o,a,c,h,f,v,d=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new l("Already used");r=i.url,s=i.credentials,e.headers||(u=new N_(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,w||null==i.nw||(w=i.nw,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!e.headers&&u||(u=new N_(e.headers)),e&&(c="about:client",h=""),(d=t.call(this,w,u)||this).url=r,d.headers=u,d.credentials=e.credentials||s,d.method=function(t){var n=t.toUpperCase();return Bg.indexOf(n)>-1?n:t}(e.method||o),d.mode=e.mode||a,d.signal=e.signal||f||(new vg).signal,d.referrer=void 0!==e.referrer?e.referrer:c,d.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,d.onprogress=e.onprogress||v,("GET"===d.method||"HEAD"===d.method)&&w)throw new l("Body not allowed for GET or HEAD requests");return d}return w_(n,t),n.prototype.clone=function(){return new n(this,{body:rg(this)})},n}(sg),xg="function"==typeof Sg&&S_.stream&&S_.streamResponse&&S_.url;function Lg(t,n){return new Ve(function(i){var e=new Og(t,n);i((xg&&function(t){try{return Rg.indexOf(new __.URL(t,__.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Pg:Tg)(e))})}Lg.polyfill=!0;var Mg=function(){function t(t){this.jd=void 0,this.Gd=void 0,this.Kv=new Zs,this.qd=void 0,this.Dw=!1,this.Gd=t,this.Kv.Fs(t.zs),this.jd=this.Cw()}var n=t.prototype;return n.Cw=function(){var t,n,e,r,s,u,o,c,h=this;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.Gd).Rd&&a(function(){h.Dw=!0,h.Kv.Xs()},t.Rd),f.prev=2,n=Lg(t.od,{method:t.Id,headers:t.Jl.qf(),body:t.Fl,credentials:t.Cd?"include":"same-origin",signal:Fg(this.Kv.zs),onprogress:t.Pd}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new f_(t,f.t0);case 9:return f.prev=9,f.next=12,Rr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),Js(r=this.Pw(f.t1))&&this.Kv.Xs(),r;case 20:if(s=e.url||t.od,u=0===e.status&&"file:"===(v=s,i.Cr(v).protocol)?200:e.status,o=new Ug(this,e,this.Kv),c=new t_({Xi:o,rd:t,$l:t.$l,Jl:new Af(e.headers.asList()),Kl:u,td:e.statusText,ud:s}),this.qd=c,!Qw(c)){f.next=29;break}return f.abrupt("return",c);case 29:throw new v_(c);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],Ve)},n.Pw=function(t){return Js(t)?this.Dw?new l_(this.Gd):new Ks(t.message,t):this.qd?new v_(this.qd,t):new f_(this.Gd,t)},t}(),Ug=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Bw=void 0,r.Ow=void 0,r.Kv=void 0,r.Wl=new Wo,r.Bw=n,r.Ow=i,r.Kv=e,r.Wl.Uu.catch(Z),r}S(n,t);var i=n.prototype;return i.ql=function(){return this.Wl.Uu},i.xl=function(t){return this.jl(this.Ow.text(),t)},i.Ml=function(t){return this.jl(this.Ow.arrayBuffer(),t)},i.Ul=function(){var t=this.Ow.body;return t?this.Yl(t):Rw(this.Ml().then(Ew),this.Kv)},i.Ql=function(){var t=this.Ow.clone(),i=this.Kv.Hs(),e=i[0],r=i[1];return this.Kv=e,new n(this.Bw,t,r)},i.jl=function(t,n){var i=this;n&&this.Kv.Fs(n);var e=Ve.resolve(t).catch(function(t){throw i.Bw.Pw(t)});return e=eu(e,this.Kv),this.Wl.Hu(e.then(Z)),e},i.Yl=function(t){var n=this,i=new vw,e=Ve.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Bw.Pw(t);throw i.writable.abort(e).catch(Z),e});return e=eu(e,this.Kv),this.Wl.Hu(e.then(Z)),i.readable},A(n,[{key:"Zl",get:function(){return this.Ow.bodyUsed}}]),n}(Uw),Xg="abort";function Fg(t){var n=new vg;if(t.Rs)n.abort();else if(!t.Ns){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Xg,i),t.xs(i),t.Ms(e)};n.signal.addEventListener(Xg,i),t.Os(i),t.Ls(e)}return n.signal}function Hg(t,n,i){return new Ve(function(e,r){if(i&&i.Rs)return r(new Ks);var s=function(t){o(),e(t)},u=function(){o(),r(new Ks)},o=function(){t.removeEventListener(n,s),i&&i.xs(u)};t.addEventListener(n,s),i&&i.Os(u)})}var zg,Vg,Wg=function(){function t(){}var n=t.prototype;return n.rd=function(t){return new Mg(t).jd},n.Bd=function(t){if(de&&de.sendBeacon)de.sendBeacon(t.od,yf([t.Fl],{type:t.Xl}));else{var n=t.Xl?{"Content-type":t.Xl}:void 0;ou(this.rd(new n_({Id:Zw.POST,od:t.od,Fl:t.Fl,Jl:n})))}},n.Od=function(){},t}();zg=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).xw=void 0,i.Lw=function(){if(L.cn)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Mw=L.Mn,i.Uw=void 0,i}return S(i,n),A(i,[{key:"Tr",get:function(){return this.xw||(this.xw=new Ss(wf())),this.xw}},{key:"Xw",get:function(){return this.Lw}},{key:"Fw",get:function(){return this.Mw}},{key:"Hw",get:function(){return!1}},{key:"zw",get:function(){return gf.if()}},{key:"Vw",get:function(){return{Ww:kf}}},{key:"Gw",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"qw",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"jw",get:function(){return this.Uw||(this.Uw=new e_(new Wg)),this.Uw}}]),i}(Sr)),i=zg,function(t){t.Yw="Qw",t.Zw="Kw"}(Vg||(Vg={})),Vg.Yw,Vg.Zw;var Gg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Jw=void 0,e}return S(n,t),A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}}]),n}(wu);function qg(t){return Boolean(t&&t.$w)}var jg,Yg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Gg),Qg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(wu),Zg=function(t){function n(n){var i;return(i=t.call(this,Vg.Yw)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new Kg(this.n_.$w)},n}(Yg),Kg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(Qg),Jg=function(t){function n(n){var i;return(i=t.call(this,Vg.Zw)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new $g(this.n_.$w)},n}(Yg),$g=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(Qg);!function(t){t.i_="e_",t.r_="s_",t.u_="o_",t.a_="c_",t.h_="f_",t.v_="l_",t.d_="w_",t.__="g_",t.m_="Wc",t.y_="k_",t.b_="p_",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(jg||(jg={}));var tm=function(t){function n(){var n;return(n=t.call(this)||this).A_=[],n.Jw=void 0,n}S(n,t);var i=n.prototype;return i.T_=function(t){return this.A_[t]},i.S_=function(t){return!(!t||Xs(this.A_,t))&&(this.A_.push(t),this.Jw&&this.Jw.push(t.$w),t.Ys(jg.v_,this.qs),this.js(new Zg(t)),!0)},i.E_=function(t){if(!t)return!1;var n=this.A_.indexOf(t);return!(n<0)&&(Us(this.A_,n),this.Jw&&Us(this.Jw,n),t.Js(jg.v_,this.qs),this.js(new Jg(t)),!0)},i.I_=function(t){return Xs(this.A_,t)},i.R_=function(){for(var t=this.A_,n=t.length-1;n>=0;n-=1)this.E_(t[n])},i.Od=function(){this.R_(),this.Ks()},A(n,[{key:"N_",get:function(){return this.A_}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"D_",get:function(){return this.A_.length}}]),n}(lu),nm=function(t){function n(n){var i;return(i=t.call(this,jg.v_)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new im(this.n_.$w)},n}(Yg),im=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(Qg),em=function(t){function n(){var n;return(n=t.call(this)||this).C_=void 0,n.P_=function(t){var i=t.n_;n.S_(i)},n.B_=function(t){var i=t.n_;n.E_(i)},n}S(n,t);var i=n.prototype;return i.O_=function(t){t.Ys(Vg.Yw,this.P_),t.Ys(Vg.Zw,this.B_)},i.x_=function(t){t.Js(Vg.Yw,this.P_),t.Js(Vg.Zw,this.B_)},i.Od=function(){this.C_&&this.C_.Od(),t.prototype.Od.call(this)},A(n,[{key:"L_",get:function(){return this.C_},set:function(t){var n=this.C_;if(t!==n){if(n){this.x_(n);for(var i=0,e=n.N_;i<e.length;i++){var r=e[i];t&&t.I_(r)||this.E_(r)}}if(this.C_=t,t){for(var s=[],u=0,o=t.N_;u<o.length;u++){var a=o[u];this.S_(a),this.M_(a)&&s.push(a)}this.O_(t);for(var c=0;c<s.length;c++){var h=s[c];h.js(new nm(h))}}}}}]),n}(tm),rm=d.freeze||K;function sm(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function um(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function om(t){if(W(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=om(t[i]));return n}if(H(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=om(t[r]));return e}return t}function am(t,n){return t===n||!(!t||!n)&&(!(!V(t)||!V(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!am(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!am(t[s],n[s]))return!1}return!0}(t,n)))}function cm(t,n){return t.constructor===n.constructor}function hm(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function fm(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function vm(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function lm(t){var n=vm(t);if(m(n))throw new v("Expected a valid number.");return n}function dm(t){return"string"==typeof t?t:""}function wm(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function _m(t,n){return z(t)?wm(t,n):n(t)}var gm=[Vg.Yw,Vg.Zw,jg.v_];function mm(t){var n,i=t.N_.map(function(t){return t.$w});return i.item=function(n){var i=0|n,e=t.T_(i);return e&&e.$w||void 0},i.addEventListener=function(t,i){n.Ys(t,i)},i.removeEventListener=function(t,i){n.Js(t,i)},n=new du(i),t.Ys(gm,function(t){return n.js(t.$w)}),i}function ym(){}function km(t){var n,i=[jg.m_,jg.v_,jg.y_,jg.b_,jg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.U_&&t.U_.$w},get enabled(){return t.X_},set enabled(n){t.X_=fm(n)},get id(){return t.F_},get uid(){return t.H_},get kind(){return t.z_},get label(){return t.V_},set label(n){t.V_=dm(n)},get language(){return t.W_},get qualities(){return t.G_.$w},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.G_.N_;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.$w===o&&i.push(s)}return i}(t,H(n)?n:[n]):[]).length>0?t.q_=i:t.q_=void 0},get targetQuality(){if(t.q_)return 1===t.q_.length?t.q_[0].$w:t.q_.map(function(t){return t.$w})},addEventListener:function(t,i){var e=_m(t,dm);n.Ys(e,i)},removeEventListener:function(t,i){var e=_m(t,dm);n.Js(e,i)}};return n=new du(e),t.Ys(i,function(t){return n.js(t.$w)}),d.defineProperty(e,"constructor",{value:ym}),e}function bm(){}function pm(t){var n=mm(t);return d.defineProperty(n,"constructor",{value:bm}),n}var Am,Tm,Sm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.t_=function(){return pm(this)},i.M_=function(t){return t.X_},n}(em);function Em(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Am.j_:case Am.Y_:case Am.Q_:return n}}else if("number"==typeof t)switch(t){case 0:return Am.j_;case 1:return Am.Y_;case 2:return Am.Q_}return Am.j_}function Im(){}function Rm(t){var n,i=[jg.v_,jg.m_,jg.i_,jg.r_,jg.u_,jg.a_,jg.h_,jg.d_,jg.__],e=[Tm.Z_],r={get kind(){return t.z_},get label(){return t.V_},set label(n){t.V_=dm(n)},get language(){return t.W_},get id(){return t.F_},get uid(){return t.H_},get inBandMetadataTrackDispatchType(){return t.K_},get mode(){return t.J_},set mode(n){n!==Am.Q_&&n!==Am.Y_&&n!==Am.j_||t.eg(n)},get forced(){return Boolean(t.rg)},get type(){return t.us},get readyState(){return Cm(t.og)},get cues(){return t.J_===Am.j_?null:t.ag.$w},get activeCues(){return t.J_===Am.j_?null:t.cg.$w},get src(){return t.hg||""},addEventListener:function(t,i){var e=_m(t,dm);n.Ys(e,i)},removeEventListener:function(t,i){var e=_m(t,dm);n.Js(e,i)}};return n=new du(t),t.Ys(i,function(t){return n.js(t.$w)}),t.Ys(e,function(t){return n.js(t)}),d.defineProperty(r,"constructor",{value:Im}),r}function Nm(){}function Dm(t){var n=mm(t);return d.defineProperty(n,"constructor",{value:Nm}),n}function Cm(t){return t}!function(t){t.j_="disabled",t.Y_="hidden",t.Q_="showing"}(Am||(Am={})),function(t){t.Z_="error"}(Tm||(Tm={}));var Pm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.t_=function(){return Dm(this)},i.M_=function(t){return t.J_===Am.Q_},n}(em),Bm=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},n}(lu),Om=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Bm),xm=function(t){function n(){return t.call(this,bf.gf)||this}return S(n,t),n}(wu),Lm=function(t){function n(n){var i;return(i=t.call(this,bf.vf)||this).currentSource=n,i}return S(n,t),n}(wu),Mm=function(){function t(){}return t.fg=function(n,i){var e=t.vg(n,i);return e?t.dg(e):0},t.wg=function(){return i.Gw||"default"},t._g=function(){return i.qw||"unknown"},t.vg=function(n,e){var r,s=null==(r=i.zw)?void 0:r.Su(e),u=s&&JSON.parse(s);if(u&&u[n])return t.gg(u,n,e)},t.dg=function(t){var n=t.availableBandwidth;return n||0},t.gg=function(n,i,e){if(!t.yg(n,i))return n[i];t.pg(n,i,e)},t.pg=function(t,n,e){var r;delete t[n],null==(r=i.zw)||r.nf(e,JSON.stringify(t))},t.yg=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Ag=function(t,n,i,e){var r;return Nr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Tg=function(n){var i=t.wg();t.Sg(i,"theoplayer-stored-network-info",n,zt())},t.Sg=function(n,e,r,s){var u,o,a=null==(u=i.zw)?void 0:u.Su(e),c=a?JSON.parse(a):void 0,h=t.Ag(c,n,r,s);null==(o=i.zw)||o.nf(e,JSON.stringify(h))},t.Eg=function(){var n=t.wg();return t.fg(n,"theoplayer-stored-network-info")},t}();var Um,Xm,Fm,Hm,zm,Vm,Wm="1ADD53F3";function Gm(t){return{chromecast:function(t){return{appID:t&&t.appID?dm(t.appID):Wm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Um.AUTO;case"manual":return Um.MANUAL;case"disabled":return Um.DISABLED;default:return Um.MANUAL}}(t?t.strategy:void 0)}}function qm(t){var n,i=Fm.Ig;return(n=t)&&fs(n,"mpd")&&(i=Fm.Rg),function(t){return!!t&&fs(t,"m3u8")}(t)&&(i=Fm.Ng),i}function jm(t){return!!t&&vs(t.toLowerCase(),Fm.Rg)}function Ym(t){if(!t)return!1;var n=t.toLowerCase();return vs(n,Fm.Ng)||vs(n,Fm.Dg)}function Qm(t){return V(t)&&V(t.ssai)&&"google-dai"===t.ssai.integration}function Zm(t){return V(t)&&G(t.integration)&&"verizon-media"===t.integration}function Km(t){if(G(t))return!t;if(Zm(t))return!t.id;if(Qm(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Jm(t){return Boolean(V(t)&&G(t.src))}function $m(t){return G(t)||Jm(t)||Qm(t)||Zm(t)}function ty(t){if(t){if($m(t))return Km(t);for(var n=0;n<t.length;n++){if(!Km(t[n]))return!1}return!0}return!0}function ny(){return{crossOrigin:Xm.Cg,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function iy(){return Nr({},ny(),{src:void 0,type:Fm.Ig,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function ey(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Hm.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return zm.NONE;case"midroll-and-postroll":default:return zm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=fm(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Hm.INSECURE;case"disabled":return Hm.DISABLED;case"enabled":default:return Hm.ENABLED}}(t.vpaidMode)),H(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(G)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:fm(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function ry(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function sy(t){return G(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Um||(Um={})),function(t){t.Cg="",t.Pg="anonymous",t.Bg="use-credentials"}(Xm||(Xm={})),function(t){t.Rg="application/dash+xml",t.Ng="application/vnd.apple.mpegurl",t.Dg="application/x-mpegurl",t.Ig="video/mp4",t.Og="application/vnd.theoplayer.hesp+json",t.xg="application/vnd.theo.hesp+json"}(Fm||(Fm={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Hm||(Hm={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(zm||(zm={})),function(t){t[t.Lg=0]="Lg",t[t.Mg=1]="Mg",t[t.Ug=2]="Ug",t[t.Xg=3]="Xg",t[t.Fg=4]="Fg"}(Vm||(Vm={}));var uy,oy=function(t){function n(n,i){var e;return void 0===i&&(i=Vm.Lg),(e=t.call(this,bf.wf)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),ay=function(t){function n(n){var i;return(i=t.call(this,bf.Tf)||this).currentTime=n,i}return S(n,t),n}(wu),cy=function(t){function n(n){var i;return(i=t.call(this,bf.Sf)||this).currentTime=n,i}return S(n,t),n}(wu);!function(t){t.Hg="canplay",t.zg="canplaythrough",t.Vg="loadeddata",t.Wg="loadedmetadata",t.d_="readystatechange",t.Gg="waiting",t.qg="playing"}(uy||(uy={}));var hy,fy,vy=[uy.Hg,uy.zg,uy.Vg,uy.Wg,uy.d_,uy.Gg,uy.qg],ly=function(t){function n(n,i){var e;return void 0===i&&(i=Vm.Mg),(e=t.call(this,uy.Wg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),dy=function(t){function n(n){var i;return(i=t.call(this,bf.df)||this).duration=n,i}return S(n,t),n}(wu),wy=function(t){function n(n,i){var e;return(e=t.call(this,bf.If)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(wu),_y=function(t){function n(n,i){var e;return(e=t.call(this,bf.Uf)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(wu),gy=function(t){function n(n){var i;return(i=t.call(this,bf._f)||this).currentTime=n,i}return S(n,t),n}(wu),my=function(t){function n(n,i){var e;return void 0===i&&(i=Vm.Ug),(e=t.call(this,uy.Vg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),yy=function(t){function n(n){var i;return(i=t.call(this,bf.Cf)||this).currentTime=n,i}return S(n,t),n}(wu),ky=function(t){function n(n){var i;return(i=t.call(this,bf.Df)||this).currentTime=n,i}return S(n,t),n}(wu),by=function(t){function n(n,i){var e;return(e=t.call(this,bf.Xf)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(wu),py=function(t){function n(n,i){var e;return void 0===i&&(i=Vm.Xg),(e=t.call(this,uy.Hg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),Ay=function(t){function n(n,i){var e;return void 0===i&&(i=Vm.Fg),(e=t.call(this,uy.zg)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),Ty=function(t){function n(n,i){var e;return(e=t.call(this,uy.d_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(wu),Sy=function(t){function n(n){var i;return(i=t.call(this,Tm.Z_)||this).errorObject=n,i}return S(n,t),n.prototype.t_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Gg);function Ey(t){switch(t){case hy.ALL:case hy.CONTENT:return t;default:return hy.NONE}}function Iy(t){var n,e,r,s=om(t||{});return s.libraryLocation&&(s.libraryLocation=s_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Gm(s.cast),s.ads=ey(s.ads),s.analytics=ry(s.analytics),s.mutedAutoplay=Ey(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=G(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return s_(t)}catch(t){return void i.wr("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Ry(t){return{jg:t.jg,Yg:t.Yg,Qg:t.Qg,wu:t.wu,Zg:t.Zg,Kg:t.Kg,Jg:t.Jg,$g:t.$g,og:t.og,tm:t.tm,nm:t.nm,im:t.im,um:t.um}}function Ny(t,n,i){if(n!==i){var e=n.jg,r=n.Yg,s=n.Kg,u=n.Jg,o=n.$g,a=n.og,c=n.tm;n.im,n.nm;var h=n.um,f=i.jg,v=i.Yg,l=i.Qg,d=i.Zg,w=i.Kg,_=i.Jg,g=i.$g,y=i.og,k=i.tm;i.im,i.nm;var b=i.um;a!==Vm.Lg&&t.js(new oy(f,y)),_&&!u?t.js(new ay(f)):!_&&u&&t.js(new cy(f)),y>=Vm.Mg&&t.js(new ly(f,y)),v===r||m(v)&&m(r)||t.js(new dy(v)),g!==o&&t.js(new wy(f,g)),f!==e&&t.js(new _y(f,void 0)),l&&t.js(new gy(f)),y>=Vm.Ug&&t.js(new my(f,y)),k&&!c?t.js(new yy(f)):!k&&c&&t.js(new ky(f)),b===h&&w===s||t.js(new by(f,b)),y>=Vm.Xg&&t.js(new py(f,y)),y>=Vm.Fg&&t.js(new Ay(f,y)),y!==a&&t.js(new Ty(f,y)),d&&t.js(new Sy(d))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(hy||(hy={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(fy||(fy={}));var Dy=400,Cy=.25,Py={cm:.2,hm:.45,fm:.7,vm:3,lm:Xy,dm:Fy},By={cm:.4,hm:.65,fm:1,vm:3,lm:Xy,dm:Fy},Oy={cm:.4,hm:.7,fm:.9,vm:3,lm:Xy,dm:Fy},xy={cm:.4,hm:.65,fm:1,vm:3,lm:Xy,dm:Fy},Ly={cm:.5,hm:1.125,fm:1.75,vm:2.55,lm:Xy,dm:Fy};function My(){var t;return t=i.Or.Ve?xy:i.Or.qe?By:i.Or.Ge?"Android"===i.xr.Lr?Oy:Py:Ly,i.xr.Mr?function(t){if(i.xr.Mr){var n=(Dy+250)/1e3,e=w.max(n,t.cm),r=w.max(e+Cy,t.hm),s=w.max(r+Cy,t.fm);return{cm:e,hm:r,fm:s,vm:w.max(s+Cy,t.vm),lm:Xy,dm:Fy}}return t}(t):t}var Uy,Xy=.92,Fy=1.08;function Hy(t){return{goLive:function(){return t.wm()},get isLive(){return t._m},get currentServerLiveTime(){return t.gm},get currentLatency(){return t.mm},get latency(){return t.ym},set latency(n){if(!function(t){if(!V(t))return!1;var n=t,i=X(n.target)&&"number"==typeof n.target&&X(n.windowEnd)&&"number"==typeof n.windowEnd&&X(n.windowStart)&&"number"==typeof n.windowStart&&X(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.ym=n},get manifest(){return t.pm},get metrics(){return t.Am},addEventListener:function(n,i){t.Ys(Vy(n),i)},removeEventListener:function(n,i){t.Js(Vy(n),i)}}}!function(t){t[t.j_=0]="j_",t[t.Tm=1]="Tm",t[t.Sm=2]="Sm"}(Uy||(Uy={}));var zy=["analytic","golive","nogolive","bufferedchange"];function Vy(t){var n=_m(t,dm);return(G(n)?[n]:n).filter(function(t){return Xs(zy,t)})}var Wy,Gy=function(t){function n(){var n,i;return(n=t.call(this)||this).C_=void 0,n.Jw=void 0,n.Em={windowStart:(i=My()).cm,windowEnd:i.fm,target:i.hm,maxOffset:i.vm},n.C_=void 0,n}S(n,t);var i=n.prototype;return i.O_=function(t){t.Ys(zy,this.qs)},i.x_=function(t){t.Js(zy,this.qs)},i.wm=function(){var t;null==(t=this.C_)||t.wm()},i.Od=function(){this.Ks(),this.C_&&this.x_(this.C_),this.C_=void 0},A(n,[{key:"L_",get:function(){return this.C_},set:function(t){var n=this.C_;t!==n&&(n&&this.x_(n),t&&this.O_(t),this.C_=t,this.C_&&(this.C_.ym=this.Em))}},{key:"$w",get:function(){return this.Jw||(this.Jw=Hy(this)),this.Jw}},{key:"gm",get:function(){var t;return null==(t=this.C_)?void 0:t.gm}},{key:"mm",get:function(){var t;return null==(t=this.C_)?void 0:t.mm}},{key:"_m",get:function(){return!!this.C_&&this.C_._m}},{key:"ym",get:function(){return this.C_?this.C_.ym:this.Em},set:function(t){this.C_&&(this.C_.ym=t),this.Em=t}},{key:"pm",get:function(){var t;return null==(t=this.C_)?void 0:t.pm}},{key:"Am",get:function(){var t;return null==(t=this.C_)?void 0:t.Am}}]),n}(lu),qy=function(t){function n(n){var i;return(i=t.call(this)||this).C_=void 0,i.Im=[],i.Rm=!1,i.Nm=new Sm,i.Dm=new Sm,i.Cm=new Pm,i.Pm=new Gy,i.Bm=!1,i.Om(n),n.Zs(i.qs),i.C_=n,i.Nm.L_=n.xm,i.Dm.L_=n.Lm,i.Cm.L_=n.Mm,i.Pm.L_=n.Um,i}S(n,t);var i=n.prototype;return i.Xm=function(){this.C_.Xm()},i.Fm=function(){this.C_.Fm()},i.Hm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",au(this.Im.map(function(t){return t.Hm()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ve)},i.zm=function(){return this.C_.zm()},i.Vm=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(this.C_.Vm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.Wm=function(){return this.L_.Wm()},i.Gm=function(){this.L_.Gm()},i.qm=function(){this.L_.qm()},i.jm=function(){if(!this.Rm){for(var t=0,n=this.Im;t<n.length;t++){n[t].jm()}this.Rm=!0}},i.Ym=function(t){this.C_.Ym(t)},i.Qm=function(){this.C_.Qm()},i.Zm=function(){this.C_.Zm()},i.Km=function(){this.C_.Km()},i.Jm=function(){return this.C_.Jm()},i.$m=function(){return this.C_.$m()},i.iy=function(){for(var t=[],n=0,i=this.Im;n<i.length;n++){var e=i[n];t.push.apply(t,e.iy())}return t},i.ey=function(t){for(var n=!1,i=0,e=this.Im;i<e.length;i++){n=e[i].ey(t)||n}return n},i.js=function(n){this.ey(n)||t.prototype.js.call(this,n)},i.Om=function(t){this.Im.push(t)},i.sy=function(t){Ms(this.Im,t)},i.uy=function(t){if(t!==this.C_){var n=this.C_;n.Qm(),n.nu(this.qs);var i=Ry(this),e=this.oy,r=this.$m();this.C_=t,this.Nm.L_=t.xm,this.Dm.L_=t.Lm,this.Cm.L_=t.Mm,this.Pm.L_=t.Um,Ny(this,i,this);var s=this.oy;s!==e&&this.js(new Lm(s)),this.$m()!==r&&this.js(new xm),t.Zs(this.qs),t.Ym(n)}},i.vy=function(){},i.Od=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Ks(),this.C_.Qm(),t=0,n=this.Im;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Rr.awrap(i.Od());case 7:t++,e.next=3;break;case 10:this.Nm.Od(),this.Dm.Od(),this.Cm.Od(),this.Pm.Od();case 14:case"end":return e.stop()}},null,this,null,Ve)},i.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",au(this.Im.map(function(t){return t.R_()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"xm",get:function(){return this.Nm}},{key:"Mm",get:function(){return this.Cm}},{key:"Lm",get:function(){return this.Dm}},{key:"ly",get:function(){return this.C_.ly}},{key:"wy",get:function(){return this.C_.wy},set:function(t){this.C_.wy=t}},{key:"oy",get:function(){return this.C_.oy}},{key:"jg",get:function(){return this.C_.jg},set:function(t){this.C_.jg=t}},{key:"Yg",get:function(){return this.C_.Yg}},{key:"_y",get:function(){return this.C_._y}},{key:"Qg",get:function(){return this.C_.Qg}},{key:"wu",get:function(){return this.C_.wu}},{key:"Zg",get:function(){return this.C_.Zg}},{key:"Um",get:function(){return this.Pm}},{key:"gy",get:function(){return this.C_.gy}},{key:"Am",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.yy,i+=a.by,e+=a.py,r+=a.Ay,s+=a.Ty,u.amountOfBufferedAudioSegments+=a.Sy.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=a.Sy.amountOfBufferedVideoSegments}return{yy:n,by:i,py:e,Ay:r,Ty:s,Sy:u}}(this.Im.map(function(t){return t.Am}))}},{key:"Kg",get:function(){return this.C_.Kg},set:function(t){this.C_.Kg=t}},{key:"Ey",get:function(){return this.C_.Ey}},{key:"Jg",get:function(){return this.C_.Jg}},{key:"$g",get:function(){return this.C_.$g},set:function(t){this.C_.$g=t}},{key:"Iy",get:function(){return this.C_.Iy}},{key:"Ry",get:function(){return this.C_.Ry},set:function(t){this.C_.Ry=t}},{key:"og",get:function(){return this.C_.og}},{key:"Ny",get:function(){return this.C_.Ny}},{key:"tm",get:function(){return this.C_.tm}},{key:"nm",get:function(){return this.C_.nm}},{key:"im",get:function(){return this.C_.im}},{key:"um",get:function(){return this.C_.um},set:function(t){this.C_.um=t}},{key:"Dy",get:function(){return this.C_.Dy}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"L_",get:function(){return this.C_},set:function(t){this.uy(t)}}]),n}(Om),jy=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e)||this).url=void 0,c.status=void 0,c.statusText=void 0,c.response=void 0,c.systemCode=void 0,c.url=r,c.status=s,c.statusText=u,c.response=o,c.systemCode=a,c}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(tf);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Wy||(Wy={}));var Yy=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Zt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(Kt);function Qy(t){sm(t,"MEDIA_ERR_ABORTED",Wy.ABORTED),sm(t,"MEDIA_ERR_NETWORK",Wy.NETWORK),sm(t,"MEDIA_ERR_DECODE",Wy.DECODE),sm(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Wy.SRC_NOT_SUPPORTED),sm(t,"MEDIA_ERR_ENCRYPTED",Wy.ENCRYPTED)}function Zy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Yy(Wy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Yy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Wy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Wy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Wy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Wy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Wy.NETWORK;if(i===n.ErrorCategory.SOURCE)return Wy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Wy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Wy.ENCRYPTED;if(i===n.ErrorCategory.AD)return Wy.ADVERTISEMENT_ERROR;return Wy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Qy(Yy),Qy(Yy.prototype);var Ky,Jy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.S_=function(n){return t.prototype.S_.call(this,n)},i.t_=function(){return pm(this)},n}(tm);!function(t){t.Td="audio",t.Sd="video",t.Kn="text",t.Ed="image",t.fd="unknown"}(Ky||(Ky={}));var $y=function(){function t(){this.Py=[],this.Jw=void 0}var n=t.prototype;return n.By=function(t){this.Py.push(t),this.Jw&&this.Jw.push(t.$w)},n.T_=function(t){return this.Py[t]},n.Oy=function(t){return H(t)?Fs(this.Py,t):Xs(this.Py,t)},A(t,[{key:"N_",get:function(){return this.Py}},{key:"D_",get:function(){return this.Py.length}},{key:"$w",get:function(){var t,n;return this.Jw||(this.Jw=((n=(t=this).N_.map(function(t){return t.$w})).item=function(n){var i=0|n,e=t.T_(i);return e&&e.$w||void 0},n)),this.Jw}}]),t}(),tk=function(t){function n(n){var i;return(i=t.call(this,jg.m_)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new nk(this.n_.$w)},n}(Yg),nk=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(Qg),ik=0;function ek(){return ik++}var rk=0;var sk=0;function uk(){return sk++}var ok=0;function ak(){return ok++}var ck=0;var hk=function(t){function n(n){var i;return(i=t.call(this)||this).us=Ky.Td,i.xy=void 0,i.Nc=void 0,i.Ly=void 0,i.My=void 0,i.Uy=!1,i.Py=void 0,i.Jw=void 0,i.xy=n,i.My=ek(),i.Nc=ck+++"",i.Ly=n.label,i.Py=new $y,i.Xy(),i}S(n,t);var i=n.prototype;return i.Fy=function(t){this.X_=t},i.Xy=function(){this.X_=this.Hy},A(n,[{key:"U_",get:function(){}},{key:"X_",get:function(){return this.Uy},set:function(t){this.Uy!==t&&(this.Uy=t,this.Hy=t,this.js(new nm(this)))}},{key:"Hy",get:function(){return this.xy.enabled},set:function(t){this.xy.enabled=t}},{key:"$w",get:function(){return this.Jw||(this.Jw=km(this)),this.Jw}},{key:"F_",get:function(){return this.Nc}},{key:"H_",get:function(){return this.My}},{key:"z_",get:function(){return this.xy.kind}},{key:"V_",get:function(){return this.Ly},set:function(t){t!==this.Ly&&(this.Ly=t,this.js(new tk(this)))}},{key:"W_",get:function(){return this.xy.language}},{key:"J_",get:function(){return this.X_?"enabled":"disabled"}},{key:"zy",get:function(){return this.xy}},{key:"G_",get:function(){return this.Py}},{key:"q_",get:function(){},set:function(t){}}]),n}(lu),fk=0;var vk,lk,dk,wk=function(t){function n(n){var i;return(i=t.call(this)||this).us=Ky.Sd,i.xy=void 0,i.Nc=void 0,i.My=void 0,i.Uy=!1,i.Py=void 0,i.Ly=void 0,i.Jw=void 0,i.xy=n,i.My=ek(),i.Nc=fk+++"",i.Py=new $y,i.Ly=n.label,i.Xy(),i}S(n,t);var i=n.prototype;return i.Xy=function(){this.X_=this.Hy},i.Fy=function(t){this.X_=t},A(n,[{key:"U_",get:function(){}},{key:"X_",get:function(){return this.Uy},set:function(t){this.Uy!==t&&(this.Uy=t,this.Hy=t,this.js(new nm(this)))}},{key:"Hy",get:function(){return!!this.xy.selected},set:function(t){this.xy.selected=t}},{key:"$w",get:function(){return this.Jw||(this.Jw=km(this)),this.Jw}},{key:"F_",get:function(){return this.Nc}},{key:"H_",get:function(){return this.My}},{key:"z_",get:function(){return"main"}},{key:"V_",get:function(){return this.Ly},set:function(t){t!==this.Ly&&(this.Ly=t,this.js(new tk(this)))}},{key:"W_",get:function(){return this.xy.language}},{key:"J_",get:function(){return this.X_?"enabled":"disabled"}},{key:"zy",get:function(){return this.xy}},{key:"G_",get:function(){return this.Py}},{key:"q_",get:function(){},set:function(t){}}]),n}(lu),_k=function(t){function n(n){var i;return(i=t.call(this,bf.ef)||this).gy=n,i}return S(n,t),n}(wu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(vk||(vk={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(lk||(lk={})),function(t){t.Vy="cue",t.Wy="region",t.Gy="stylesheet"}(dk||(dk={}));var gk,mk={"line-left":"start",center:"middle","line-right":"end"},yk={start:"line-left",middle:"center",end:"line-right"};function kk(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function bk(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),m(r)?e:r;var i,e,r}!function(t){t.qy="jy",t.Yy="Qy",t.m_="Wc"}(gk||(gk={}));var pk=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Zy=i,e}return S(n,t),n}(Yg),Ak=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(Qg);function Tk(t){var n,i=[gk.qy,gk.Yy,gk.m_],e={get track(){return t.n_.$w},get id(){return t.F_},get uid(){return t.H_},get startTime(){return t.Ky},get endTime(){return t.Jy},get content(){return t.$y},addEventListener:function(t,i){var e=_m(t,dm);n.Ys(e,i)},removeEventListener:function(t,i){var e=_m(t,dm);n.Js(e,i)}};return n=new du(e),t.Ys(i,function(t){return n.js(t.$w)}),e}function Sk(){}function Ek(t){return um(Tk(t),{get align(){return t.nk},get line(){return t.ek},get lineAlign(){return t.rk},get position(){return t.ck},get positionAlign(){return t.hk},get region(){return t.fk?t.fk.$w:null},get size(){return t.Nu},get snapToLines(){return t.vk},get text(){return t.$y},get vertical(){return t.lk}})}var Ik=function(t){function n(n){return t.call(this,gk.m_,n)||this}return S(n,t),n.prototype.t_=function(){return new Rk(this.Zy.$w)},n}(pk),Rk=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Ak),Nk=.02;function Dk(t,n){return Mt(t.Ky,n.Ky,Nk)&&Mt(t.Jy,n.Jy,Nk)&&t.F_===n.F_}var Ck=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).My=void 0,u.Nc=void 0,u.dk=void 0,u.wk=void 0,u.Jw=void 0,u._k=void 0,u.gk=!1,u.yk=void 0,u.bk=void 0,u.pk=-1,u.My=ak(),u.dk=n,u.wk=i,u.yk=e,u.bk=Boolean(r),u.Nc=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.t_=function(){return Tk(this)},i.Ak=function(t){return this===t||cm(this,t)&&Dk(this,t)},i.Od=function(){this.Ks()},A(n,[{key:"Ky",get:function(){return this.dk},set:function(t){this.dk!==t&&(this.dk=t,this.js(new Ik(this)))}},{key:"Jy",get:function(){return this.wk},set:function(t){this.wk!==t&&(this.wk=t,this.js(new Ik(this)))}},{key:"F_",get:function(){return this.Nc}},{key:"H_",get:function(){return this.My}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"Tk",get:function(){return this.gk},set:function(t){this.gk=t}},{key:"n_",get:function(){return this._k},set:function(t){this._k=t}},{key:"$y",get:function(){return this.yk},set:function(t){this.yk!==t&&(this.yk=t,this.js(new Ik(this)))}},{key:"Sk",get:function(){return this.bk},set:function(t){this.bk=t}}]),n}(lu);function Pk(t,n){return t.$y===n.$y&&t.ek===n.ek&&t.rk===n.rk&&t.ck===n.ck&&t.hk===n.hk&&t.fk===n.fk&&t.vk===n.vk&&t.Nu===n.Nu&&t.nk===n.nk&&t.lk===n.lk}var Bk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).ek="auto",u.rk="start",u.ck="auto",u.hk="auto",u.fk=void 0,u.vk=!0,u.Nu=100,u.nk="center",u.lk="",u}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&Pk(this,n)},A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=Ek(this)),this.Jw}},{key:"us",get:function(){return dk.Vy}}]),n}(Ck);function Ok(t){var n=Q(t.ek)?t.ek:g(t.ek);return m(n)||t.vk||!(n<0||n>100)?m(n)?t.vk?-1:100:n:100}function xk(t){return bk(t.ck,t.nk)}function Lk(t){return kk(t.hk,t.nk)}function Mk(t){var n,i=Lk(t),e=xk(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return w.min(t.Nu,n)}function Uk(t){return{get id(){return t.F_},get identifier(){return t.F_},get lines(){return t.Ek},get regionAnchorX(){return t.Ik},get regionAnchorY(){return t.Rk},get scrollValue(){return t.Nk},get viewportAnchorX(){return t.Dk},get viewportAnchorY(){return t.Ck},get width(){return t.Pk}}}var Xk=function(){function t(t,n,i,e,r,s,u,o){this.Jw=void 0,this.F_=t,this.Pk=n,this.Ek=i,this.Ik=e,this.Rk=r,this.Dk=s,this.Ck=u,this.Nk=o}return A(t,[{key:"$w",get:function(){return this.Jw||(this.Jw=Uk(this)),this.Jw}},{key:"us",get:function(){return dk.Wy}}]),t}(),Fk=function(){function t(){}var n=t.prototype;return n.Bk=function(t){return this.Ok()*t},n.xk=function(t){return this.Lk(t)>0},n.Mk=function(t){return this.Lk(t)>=0},n.Uk=function(t,n){return this.Fk(t).Xk(n)},n.Ak=function(t){return 0===this.Lk(t)},n.Hk=function(t){return this.Lk(t)<0},n.Xk=function(t){return this.Lk(t)<=0},n.zk=function(){return this.Vk()?this.Wk():this},n.Gk=function(t){return this.By(t.Wk())},n.Fk=function(t){return this.Gk(t).zk()},t}();function Hk(t,n){return t.qk()?n.qk()?Ts.Ss:Ts.Es:n.qk()?Ts.Is:t.jk()?n.jk()&&t.Vk()===n.Vk()?Ts.Ss:t.Vk()?Ts.Is:Ts.Es:n.Vk()?Ts.Es:Ts.Is}var zk=function(){function t(t,n){this.Yk=void 0,this.Qk=void 0,this.Yk=t,this.Qk=n}t.Zk=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Kk=function(n){return n.unsigned?new t(n,ht.UZERO):new t(n,n.isNegative()?ht.NEG_ONE:ht.ZERO)},t.Jk=function(n,i){if(m(n))return i?t.$k:t.ib;if(i){if(n<0)return t.$k;if(n>=3.402823669209385e38)return t.eb}else{if(n<=-1.7014118346046923e38)return t.sb;if(n+1>=1.7014118346046923e38)return t.ub}return n<0?t.Jk(-n,i).Wk():t.Zk(ht.fromNumber(n%0x10000000000000000),ht.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.ob=function(){return this.Qk.unsigned},n.cb=function(){return this.Yk.isZero()&&this.Qk.isZero()},n.Vk=function(){return this.Qk.isNegative()},n.hb=function(){return this.ob()?t.Zk(this.Yk,this.Qk,!1):this},n.fb=function(){return this.ob()?this:t.Zk(this.Yk,this.Qk,!0)},n.vb=function(){return this.Yk},n.Ok=function(){return this.Vk()?-this.Wk().Ok():0x10000000000000000*this.Qk.toNumber()+this.Yk.toUnsigned().toNumber()},n.wb=function(){return this.Yk.toInt()},n.Ak=function(t){return(this.ob()===t.ob()||this.Qk.getHighBits()>>>31!=1||t.Qk.getHighBits()>>>31!=1)&&(this.Qk.toUnsigned().eq(t.Qk.toUnsigned())&&this.Yk.toUnsigned().eq(t.Yk.toUnsigned()))},n.Lk=function(t){if(this.Ak(t))return Ts.Ss;var n=this.Vk(),i=t.Vk();if(n&&!i)return Ts.Is;if(!n&&i)return Ts.Es;if(!this.ob())return this.Gk(t).Vk()?Ts.Is:Ts.Es;var e=this.fb(),r=t.fb(),s=r.Qk.comp(e.Qk);return s>0||0===s&&r.Yk.gt(e.Yk)?Ts.Is:Ts.Es},n.Hk=function(t){return this.Lk(t)<0},n.Xk=function(t){return this.Lk(t)<=0},n._b=function(t){return this.Lk(t)>0},n.gb=function(t){return this.Lk(t)>=0},n.mb=function(){return new t(this.Yk.not(),this.Qk.not())},n.yb=function(n){return new t(this.Yk.and(n.Yk),this.Qk.and(n.Qk))},n.kb=function(n){return new t(this.Yk.or(n.Yk),this.Qk.or(n.Qk))},n.bb=function(n){var i=127&n;return 0===i?this:i<64?t.Zk(this.Yk.shl(i),this.Qk.shl(i).or(this.Yk.shru(64-i)),this.ob()):t.Zk(ht.ZERO,this.Yk.shl(i-64),this.ob())},n.pb=function(n){var i=127&n;return 0===i?this:i<64?t.Zk(this.Yk.shru(i).or(this.Qk.shl(64-i)),this.Qk.shr(i),this.ob()):t.Zk(this.Qk.shr(i-64),this.Qk.isNegative()?ht.NEG_ONE:ht.ZERO,this.ob())},n.Ab=function(n){var i=127&n;return 0===i?this:i<64?t.Zk(this.Yk.shru(i).or(this.Qk.shl(64-i)),this.Qk.shru(i),this.ob()):64===i?t.Zk(this.Qk,ht.ZERO,this.ob()):t.Zk(this.Qk.shru(i-64),ht.ZERO,this.ob())},n.By=function(n){var i=this.Qk.high>>>16,e=65535&this.Qk.high,r=this.Qk.low>>>16,s=65535&this.Qk.low,u=this.Yk.high>>>16,o=65535&this.Yk.high,a=this.Yk.low>>>16,c=65535&this.Yk.low,h=n.Qk.high>>>16,f=65535&n.Qk.high,v=n.Qk.low>>>16,l=65535&n.Qk.low,d=n.Yk.high>>>16,w=65535&n.Yk.high,_=n.Yk.low>>>16,g=0,m=0,y=0,k=0,b=0,p=0,A=0,T=0;A+=(T+=c+(65535&n.Yk.low))>>>16,T&=65535,p+=(A+=a+_)>>>16,A&=65535,b+=(p+=o+w)>>>16,p&=65535,k+=(b+=u+d)>>>16,b&=65535,y+=(k+=s+l)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,g+=(m+=e+f)>>>16,m&=65535,g+=i+h,g&=65535;var S=this.ob(),E=ht.fromBits(y<<16|k,g<<16|m,S),I=ht.fromBits(A<<16|T,b<<16|p,S);return t.Zk(I,E,S)},n.Gk=function(t){return this.By(t.Wk())},n.Wk=function(){return this.mb().By(t.Tb)},n.Sb=function(n){if(this.cb()||n.cb())return this.ob()?t.$k:t.ib;if(this.Vk())return n.Vk()?this.Wk().Sb(n.Wk()):this.Wk().Sb(n).Wk();if(n.Vk())return this.Sb(n.Wk()).Wk();if(this.Qk.isZero()&&0===this.Yk.high&&n.Qk.isZero()&&0===n.Yk.high)return t.Kk(this.Yk.multiply(n.Yk));var i=ht.fromBits(4294967295,0,!0),e=this.Yk.and(i),r=this.Yk.shru(32),s=this.Qk.and(i),u=this.Qk.shru(32),o=n.Yk.and(i),a=n.Yk.shru(32),c=n.Qk.and(i),h=n.Qk.shru(32),f=ht.UZERO,v=ht.UZERO,l=ht.UZERO,d=ht.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),l=l.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(a)),l=l.add(v.shru(32)),v=v.and(i),l=l.add(s.mul(o)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(r.mul(a)),d=d.add(l.shru(32)),l=(l=l.and(i)).add(e.mul(c)),d=d.add(l.shru(32)),l=l.and(i),d=d.add(u.mul(o)).add(s.mul(a)).add(r.mul(c)).add(e.mul(h)).and(i);var w=ht.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),_=ht.fromBits(l.getLowBitsUnsigned(),d.getLowBitsUnsigned(),!0);return t.Zk(w,_,this.ob())},n.Eb=function(n){var i,e,r=n;if(r.cb())throw new RangeError("division by zero");if(this.cb())return this.ob()?[t.$k,t.$k]:[t.ib,t.ib];if(this.ob()){if(r.ob()||(r=r.fb()),r._b(this))return[t.$k,this];if(r._b(this.Ab(1)))return[e=t.Ib,i=this.Gk(r)];e=t.$k}else{if(this.Ak(t.sb)){if(r.Ak(t.Tb)||r.Ak(t.Rb))return[t.sb,t.ib];if(r.Ak(t.sb))return[t.Tb,t.ib];var s=this.pb(1).Nb(r).bb(1);return s.Ak(t.ib)?e=r.Vk()?t.Tb:t.Rb:(i=this.Gk(r.Sb(s)),e=s.By(i.Nb(r))),[e,i=this.Gk(r.Sb(e))]}if(r.Ak(t.sb))return this.ob()?[t.$k,this]:[t.ib,this];if(this.Vk()){if(r.Vk())return this.Wk().Eb(r.Wk());var u=this.Wk().Eb(r);return e=u[0],i=u[1],[e.Wk(),i.Wk()]}if(r.Vk()){var o=this.Eb(r.Wk());return e=o[0],i=o[1],[e.Wk(),i.Wk()]}e=t.ib}for(i=this;i.gb(r);){for(var a=w.max(1,w.floor(i.Ok()/r.Ok())),c=w.ceil(w.log(a)/w.LN2),h=c<=48?1:w.pow(2,c-48),f=t.Jk(a),v=f.Sb(r);v.Vk()||v._b(i);)a-=h,v=(f=t.Jk(a,this.ob())).Sb(r);f.cb()&&(f=t.Tb),e=e.By(f),i=i.Gk(v)}return[e,i]},n.Nb=function(t){return this.Eb(t)[0]},n.Db=function(t){return this.Eb(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.cb())return"0";if(this.Vk()){if(this.Ak(t.sb)){var e=t.Jk(i),r=this.Nb(e),s=r.Sb(e).Gk(this);return r.toString(i)+s.wb().toString(i)}return"-"+this.Wk().toString(i)}for(var u=t.Jk(w.pow(i,6),this.ob()),o=this,a="";;){var c=o.Nb(u),h=(o.Gk(c.Sb(u)).wb()>>>0).toString(i);if((o=c).cb())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();zk.ib=zk.Kk(ht.ZERO),zk.$k=zk.Kk(ht.UZERO),zk.Tb=zk.Kk(ht.ONE),zk.Ib=zk.Kk(ht.UONE),zk.Rb=zk.Kk(ht.NEG_ONE),zk.ub=zk.Zk(ht.NEG_ONE,ht.MAX_VALUE,!1),zk.eb=zk.Zk(ht.MAX_UNSIGNED_VALUE,ht.MAX_UNSIGNED_VALUE,!0),zk.sb=zk.Zk(ht.ZERO,ht.MIN_VALUE,!1);var Vk=function(){function t(t,n){void 0===n&&(n=1),this.Cb=void 0,this.Pb=void 0,this.Cb=t,this.Pb=n}t.Bb=function(n){return new t(w.ceil(n.Cb),n.Pb)},t.Ob=function(n){return new t(w.floor(n.Cb),n.Pb)},t.xb=function(t,n){return t.Mk(n)?t:n},t.Lb=function(t,n){return t.Xk(n)?t:n};var n=t.prototype;return n.By=function(n){return this.Pb>=n.Pb?new t(this.Cb+n.Mb(this.Pb).Cb,this.Pb):new t(this.Mb(n.Pb).Cb+n.Cb,n.Pb)},n.xk=function(t){return t.Hk(this)},n.Mk=function(t){return t.Xk(this)},n.Fk=function(n){return this.Pb>=n.Pb?new t(w.abs(this.Cb-n.Mb(this.Pb).Cb),this.Pb):n.Fk(this)},n.Uk=function(t,n){return this.Fk(t).Xk(n)},n.Lk=function(t){return i=t,(n=this).Pb>=i.Pb?Bs(n.Cb,i.Mb(n.Pb).Cb):Bs(n.Mb(i.Pb).Cb,i.Cb);var n,i},n.Ak=function(t){return 0===this.Lk(t)},n.Hk=function(t){return this.Lk(t)<0},n.Xk=function(t){return this.Lk(t)<=0},n.Mb=function(n){return new t(this.Cb*(n/this.Pb),n)},n.Gk=function(n){return this.Pb>=n.Pb?new t(this.Cb-n.Mb(this.Pb).Cb,this.Pb):new t(this.Mb(n.Pb).Cb-n.Cb,n.Pb)},n.Ub=function(n){return new t(this.Cb*n,this.Pb)},A(t,[{key:"jk",get:function(){return!isFinite(this.Cb)}},{key:"Xb",get:function(){return this.Cb/this.Pb}}]),t}();Vk.Fb=new Vk(1/6,1),Vk.ib=new Vk(0),Vk.Hb=new Vk(1/0),Vk.zb=1e6;var Wk=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Pb=void 0,e._i=n.toSigned(),e.Pb=i>>>0,e}S(n,t),n.Vb=function(t,i){return void 0===i&&(i=1e6),n.Jk(t*i,i)},n.Jk=function(t,i){return m(t)?n.Wb:t===1/0?n.Gb:t===-1/0?n.qb:new n(ht.fromNumber(t),i)},n.Kk=function(t,i){return new n(t,i)},n.jb=function(t){return n.Vb(t.Xb,1e6)},n.Yb=function(t){return new n(ht.fromNumber(t.getTime()),1e3)},n.xb=function(t,n){return t.Mk(n)?t:n},n.Lb=function(t,n){return t.Xk(n)?t:n},n.Qb=function(t,i,e){return n.xb(i,n.Lb(e,t))};var i=n.prototype;return i.Vk=function(){return this._i.isNegative()},i.cb=function(){return 0!==this.Pb&&this._i.isZero()},i.jk=function(){return 0===this.Pb&&!this._i.isZero()},i.qk=function(){return 0===this.Pb&&this._i.isZero()},i.Ok=function(){if(0===this.Pb)return this._i.isZero()?NaN:this._i.isNegative()?-1/0:1/0;var t=this._i.divide(this.Pb),n=this._i.subtract(t.multiply(this.Pb));return t.toNumber()+n.toNumber()/this.Pb},i.vb=function(){if(0===this.Pb)throw new v("Failed to convert timestamp");return this._i},i.Zb=function(){return new Date(0===this.Pb?NaN:this.Mb(1e3)._i.toNumber())},i.Kb=function(){return new Vk(0===this.Pb?this.Ok():this._i.toNumber(),this.Pb)},i.Mb=function(t,i){void 0===i&&(i=jk.Jb);var e=this.Pb;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t.Eb(n),r=e[0],s=e[1];if(s.cb())return r;if(i===jk.Jb)return s.Vk()?r.Gk(zk.Tb):r;if(i===jk.$b)return s.Vk()?r:r.By(zk.Tb);var u=s.Sb(zk.Jk(2));return u.Vk()?u.Wk().Hk(n)?r:r.Gk(zk.Tb):u.Hk(n)?r:r.By(zk.Tb)}(zk.Kk(this._i).Sb(zk.Jk(t/r)),zk.Jk(e/r),i).vb(),t)},i.Lk=function(t){if(this===t)return Ts.Ss;if(0===this.Pb||0===t.Pb)return Hk(this,t);if(this.cb())return t.cb()?Ts.Ss:t.Vk()?Ts.Es:Ts.Is;if(t.cb())return this.Vk()?Ts.Is:Ts.Es;var n=w.min(this.Pb,t.Pb),i=this.Mb(n,jk.tp)._i,e=t.Mb(n,jk.tp)._i;return i.compare(e)},i.Wk=function(){return 0===this.Pb?Gk(this):new n(this._i.negate(),this.Pb)},i.By=function(t){if(0===this.Pb||0===t.Pb)return qk(this,t);if(this.cb())return t;if(t.cb())return this;var i=w.max(this.Pb,t.Pb),e=this.Mb(i,jk.tp),r=t.Mb(i,jk.tp);return new n(e._i.add(r._i),i)},i.Sb=function(t){if(this.qk()||m(t))return n.Wb;if(this.jk()||!isFinite(t)){if(this.cb()||0===t)return n.Wb;var i=this.Vk()?n.qb:n.Gb;return t<0?i.Wk():i}return this.cb()?this:new n(0===t?ht.ZERO:this._i.multiply(t),this.Pb)},i.Nb=function(t){if(this.qk()||m(t))return n.Wb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Wk():this:t<0?this.Wk():this:n.Wb;if(!isFinite(t))return new n(ht.ZERO,this.Pb);if(this.cb())return 0===t?n.Wb:new n(ht.ZERO,this.Pb);if(0===t){var i=this.Vk()?n.qb:n.Gb;return 1/t<0?i.Wk():i}return new n(this._i.divide(t),this.Pb)},i.np=function(){return[this._i.low,this._i.high,this.Pb]},n}(Fk);function Gk(t){return t.qk()?t:t.Vk()?Wk.Gb:Wk.qb}function qk(t,n){return t.qk()||n.qk()?Wk.Wb:t.jk()&&n.jk()?t.Vk()===n.Vk()?t:Wk.Wb:t.jk()?t:n}Wk.ib=new Wk(ht.ZERO,1e6),Wk.Wb=new Wk(ht.ZERO,0),Wk.Gb=new Wk(ht.ONE,0),Wk.qb=new Wk(ht.NEG_ONE,0);var jk,Yk=function(t){function n(n,i){var e;return(e=t.call(this)||this)._i=void 0,e.Pb=void 0,e._i=BigInt.asIntN(64,n),e.Pb=i>>>0,e}S(n,t),n.Vb=function(t,i){return void 0===i&&(i=1e6),n.Jk(t*i,i)},n.Jk=function(t,i){return m(t)?n.Wb:t===1/0?n.Gb:t===-1/0?n.qb:new n(BigInt(w.floor(t)),i)},n.Kk=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.jb=function(t){return n.Vb(t.Xb,1e6)},n.Yb=function(t){return n.Jk(t.getTime(),1e3)},n.xb=function(t,n){return t.Mk(n)?t:n},n.Lb=function(t,n){return t.Xk(n)?t:n},n.Qb=function(t,i,e){return n.xb(i,n.Lb(e,t))};var i=n.prototype;return i.Vk=function(){return this._i<BigInt(0)},i.cb=function(){return 0!==this.Pb&&this._i===BigInt(0)},i.jk=function(){return 0===this.Pb&&this._i!==BigInt(0)},i.qk=function(){return 0===this.Pb&&this._i===BigInt(0)},i.Ok=function(){if(0===this.Pb)return this._i===BigInt(0)?NaN:this._i<BigInt(0)?-1/0:1/0;var t=this._i/BigInt(this.Pb),n=this._i-t*BigInt(this.Pb);return Number(t)+Number(n)/this.Pb},i.vb=function(){if(0===this.Pb)throw new v("Failed to convert timestamp");return this.ip()},i.ip=function(){var t=this._i&BigInt(4294967295),n=this._i>>BigInt(32)&BigInt(4294967295);return ht.fromBits(Number(t),Number(n))},i.Zb=function(){return new Date(0===this.Pb?NaN:Number(this.Mb(1e3)._i))},i.Kb=function(){return new Vk(0===this.Pb?this.Ok():Number(this._i),this.Pb)},i.Mb=function(t,i){void 0===i&&(i=jk.Jb);var e=this.Pb;if(e===t)return this;if(0===e)return this;var r=Ft(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===jk.Jb)return r<BigInt(0)?e-BigInt(1):e;if(i===jk.$b)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this._i*BigInt(t/r),BigInt(e/r),i),t)},i.Lk=function(t){if(this===t)return Ts.Ss;if(0===this.Pb||0===t.Pb)return Hk(this,t);if(this.cb())return t.cb()?Ts.Ss:t.Vk()?Ts.Es:Ts.Is;if(t.cb())return this.Vk()?Ts.Is:Ts.Es;var n=w.min(this.Pb,t.Pb),i=this.Mb(n,jk.tp)._i,e=t.Mb(n,jk.tp)._i;return i>e?Ts.Es:i<e?Ts.Is:Ts.Ss},i.Wk=function(){return 0===this.Pb?Qk(this):new n(-this._i,this.Pb)},i.By=function(t){if(0===this.Pb||0===t.Pb)return Zk(this,t);if(this.cb())return t;if(t.cb())return this;var i=w.max(this.Pb,t.Pb),e=this.Mb(i,jk.tp),r=t.Mb(i,jk.tp);return new n(e._i+r._i,i)},i.Sb=function(t){if(this.qk()||m(t))return n.Wb;if(this.jk()||!isFinite(t)){if(this.cb()||0===t)return n.Wb;var i=this.Vk()?n.qb:n.Gb;return t<0?i.Wk():i}return this.cb()?this:new n(0===t?BigInt(0):this._i*BigInt(t),this.Pb)},i.Nb=function(t){if(this.qk()||m(t))return n.Wb;if(this.jk())return isFinite(t)?0===t?1/t<0?this.Wk():this:t<0?this.Wk():this:n.Wb;if(!isFinite(t))return new n(BigInt(0),this.Pb);if(this.cb())return 0===t?n.Wb:new n(BigInt(0),this.Pb);if(0===t){var i=this.Vk()?n.qb:n.Gb;return 1/t<0?i.Wk():i}return new n(this._i/BigInt(t),this.Pb)},i.np=function(){var t=this.ip();return[t.low,t.high,this.Pb]},A(n,null,[{key:"ib",get:function(){return n.ep||(n.ep=new n(BigInt(0),1e6)),n.ep}},{key:"Wb",get:function(){return n.rp||(n.rp=new n(BigInt(0),0)),n.rp}},{key:"Gb",get:function(){return n.sp||(n.sp=new n(BigInt(1),0)),n.sp}},{key:"qb",get:function(){return n.op||(n.op=new n(BigInt(-1),0)),n.op}}]),n}(Fk);function Qk(t){return t.qk()?t:t.Vk()?Yk.Gb:Yk.qb}function Zk(t,n){return t.qk()||n.qk()?Yk.Wb:t.jk()&&n.jk()?t.Vk()===n.Vk()?t:Yk.Wb:t.jk()?t:n}Yk.ep=void 0,Yk.rp=void 0,Yk.sp=void 0,Yk.op=void 0,function(t){t[t.Jb=0]="Jb",t[t.$b=1]="$b",t[t.tp=2]="tp"}(jk||(jk={}));var Kk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Yk:Wk;var Jk=9e4,$k=w.pow(2,33),tb=Kk.Jk($k,Jk),nb=tb.Nb(2);var ib,eb,rb,sb,ub={ap:0,cp:1/0,hp:0},ob=6,ab=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],cb=[" ","\t","\n","\f","\r"],hb=/^\d*$/,fb=/.*[0-9]+.*/,vb=/^[\d.-]+$/,lb=/(^\.|\.$)/,db=/(\D\.|\.\D)/;function wb(t,n){void 0===n&&(n=ub);var i={ag:[],fp:[],vp:[]},e=_b(t),r=new zo;if(Ib(e),gb(e,function(t){return"\n"!==t},r),r.Du>=e.length)return i;(r.Cu(1),"\n"!==e.charAt(r.Du))?bb(mb(e,r,!1,!0,i,n),i):r.Cu(1);for(gb(e,function(t){return"\n"===t},r);r.Du<e.length;){bb(mb(e,r,!1,!1,i,n),i),gb(e,function(t){return"\n"===t},r)}return i}function _b(t){var n=hs(t,"\0"," "),i=hs(n,"\r\n","\n");return hs(i,"\r","\n")}function gb(t,n,i){for(var e=i.Du;i.Du<t.length&&n(t.charAt(i.Du));)i.Cu(1);return t.substring(e,i.Du)}function mb(t,n,e,r,s,u){for(var o,a=0,c=n.Du,h="",f=!1,v=!1,l=null,d=null,w=null;!f;)if(o=gb(t,function(t){return"\n"!==t},n),a++,n.Du>=t.length?f=!0:n.Cu(1),fs(o,"--\x3e")){if(r||1!==a&&(2!==a||v)){n.Bu(c);break}v=!0,c=n.Du,l=new Bk(0,0,"",!1,h);try{pb(o,s.fp,l,u),h=""}catch(t){i.wr(t),l=null}}else{if(""===o)break;r&&vs(o,"X-TIMESTAMP-MAP")&&(s.lp=yb(o)),r||2!==a||e||(ds("STYLE",h.replace(/ /g,""))?(d={us:dk.Gy},h=""):ds("REGION",h.replace(/ /g,""))&&(w=new Xk("",100,3,0,100,0,100,""),h="")),h&&(h+="\n"),h+=o,c=n.Du}if(l)return l.$y=h,l;if(d);else if(w)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&fs(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":Ub(o,n);break;case"WIDTH":Hb(o,n);break;case"LINES":Fb(o,n);break;case"REGIONANCHOR":var a=Mb(o);a&&(n.Ik=a[0],n.Rk=a[1]);break;case"VIEWPORTANCHOR":var c=Mb(o);c&&(n.Dk=c[0],n.Ck=c[1]);break;case"SCROLL":Xb(o,n)}}}}(h,w),w;return null}function yb(t){var n,i,e=t.split("=")[1].trim().split(","),r=kb(e[0].trim(),"MPEGTS")?e[0]:e[1],s=kb(e[0].trim(),"LOCAL")?e[0]:e[1];return{dp:(i=Number(r.split(/:(.*)/)[1].trim())||0,Kk.Jk(i,Jk)),wp:Kk.Vb(null!=(n=Sb(s.split(/:(.*)/)[1].trim(),new zo))?n:0)}}function kb(t,n){return vs(t,n)}function bb(t,n){t&&function(t){return t.us===dk.Vy}(t)?n.ag.push(t):t&&function(t){return t.us===dk.Wy}(t)?n.fp.push(t):t&&function(t){return t.us===dk.Gy}(t)&&n.vp.push(t)}function pb(t,n,i,e){var r=new zo;if(Rb(t,r),i.Ky=Ab(Sb(t,r),e),Rb(t,r),"--\x3e"!==t.substring(r.Du,r.Du+3))throw v("Something went wrong with parsing a WebVTT Cue");r.Cu(3),Rb(t,r),i.Jy=Ab(Sb(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&fs(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),a=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Bb(a,n,i);break;case"VERTICAL":xb(a,n);break;case"D":Lb(a,n);break;case"LINE":case"L":Cb(a,n);break;case"POSITION":case"T":Pb(a,n);break;case"SIZE":case"S":Ob(a,n);break;case"ALIGN":case"A":Db(a,n)}}}}(t.substring(r.Du,t.length),i,n)}function Ab(t,n){return t+n.ap}function Tb(t){return/^[0-9]$/.test(t)}function Sb(t,n){var i,e,r,s=hs(t,",","."),u=!1;if(n.Du>=s.length||!Tb(s.charAt(n.Du)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=gb(s,Tb,n),a=_(o,10);if((o.length>2||a>59)&&(u=!0),n.Du>=s.length||":"!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var c=gb(s,Tb,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(c,10);if(u||n.Du<s.length&&":"===s.charAt(n.Du)){if(n.Du>=s.length||":"!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var f=gb(s,Tb,n);if(2!==c.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=a,e=h,r=_(f,10)}else i=0,e=a,r=h;if(n.Du>=s.length||"."!==s.charAt(n.Du))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Cu(1);var l=gb(s,Tb,n),d=_(l,10);if(h>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+d/1e3}function Eb(t){return Ib(_b(t))}function Ib(t){if(t.length<ob)return!1;for(var n=0;n<ab.length;n++){if(vs(t,ab[n]))return!0}return!1}function Rb(t,n){for(;n.Du<t.length&&(i=t.charAt(n.Du),Xs(cb,i));)n.Cu(1);var i}function Nb(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Db(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.nk=i;break;case"middle":n.nk="center"}}function Cb(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),fb.test(i)){var s,u;if(ls(i,"%")){var o=Nb(i);if(null===o)return;s=o,u=!1}else{if(!vb.test(i)||i.lastIndexOf("-")>0)return;var a=i.indexOf(".");if(a>=0&&(a!==i.lastIndexOf(".")||!db.test(i)||lb.test(i)))return;if(s=g(i),m(s))return;u=!0}switch(n.ek=s,n.vk=u,e=e.toLowerCase()){case"start":case"center":case"end":n.rk=e;break;case"middle":n.rk="center"}}}function Pb(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Nb(i);if(null!==s)switch(n.ck=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.hk=e;break;case"start":n.hk="line-left";break;case"middle":n.hk="center";break;case"end":n.hk="line-right"}}function Bb(t,n,i){var e=xs(i,function(n){return n.F_===t});void 0!==e&&(n.fk=e)}function Ob(t,n){var i=Nb(t);null!==i&&(n.Nu=i)}function xb(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.lk="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.lk="lr";break;default:n.lk=""}}function Lb(t,n){"VERTICAL"===t.toUpperCase()?n.lk="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.lk="lr")}function Mb(t){if(t.indexOf(",")>=0){var n=Nb(t.substring(0,t.indexOf(","))),i=Nb(t.substring(t.indexOf(",")+1,t.length));return[Lt(n||0,0,100),Lt(i||100,0,100)]}return null}function Ub(t,n){n.F_=t}function Xb(t,n){"up"===t.toLowerCase()&&(n.Nk="up")}function Fb(t,n){hb.test(t)&&(n.Ek=_(t))}function Hb(t,n){var i=Nb(t);null!==i&&(n.Pk=i)}!function(t){t._p="moov",t.gp="mvhd",t.mp="trak",t.yp="tkhd",t.kp="mdia",t.bp="mdhd",t.pp="hdlr",t.Ap="minf",t.Tp="stbl",t.Sp="stsd",t.Ep="stsc",t.Ip="mvex",t.Rp="trex",t.Np="avc1",t.Dp="avcC",t.Cp="hev1",t.Pp="hvc1",t.Bp="hvcC",t.Op="pasp",t.xp="mp4a",t.Lp="esds",t.Mp="wvtt",t.Up="vttC",t.Xp="vlab",t.Fp="enca",t.Hp="encv",t.zp="moof",t.Vp="mfhd",t.Wp="traf",t.Gp="tfhd",t.qp="trun",t.jp="tfdt",t.Yp="senc",t.Qp="mdat",t.Zp="pssh",t.Kp="emsg",t.Jp="sidx",t.$p="styp",t.tA="ftyp",t.nA="sinf",t.iA="frma"}(ib||(ib={})),function(t){t.Sd="vide",t.Td="soun",t.eA="subt",t.rA="hint",t.sA="meta",t.uA="auxv"}(eb||(eb={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(rb||(rb={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(sb||(sb={}));var zb=function(){function t(t,n){this.Xi=void 0,this.oA=void 0,this.Xi=t,this.oA=n}var n=t.prototype;return n.aA=function(){return no(this.Xi,this.oA)},n.cA=function(){return oo(this.Xi,this.oA)},n.hA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Du,i);return n.Cu(2),e}(this.Xi,this.oA)},n.fA=function(){return co(this.Xi,this.oA)},n.vA=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Du,i);return n.Cu(4),e}(this.Xi,this.oA)},n.lA=function(){return fo(this.Xi,this.oA)},n.dA=function(t){return eo(this.Xi,this.oA,t)},n.wA=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(co(t,n));return e}(this.Xi,this.oA,t)},n._A=function(t){return wo(this.Xi,this.oA,t)},n.gA=function(){return No(this.Xi,this.oA)},n.mA=function(t){this.oA.Cu(t)},n.Ou=function(){return new t(this.Xi,this.oA.Ou())},t}();function Vb(t,n){return t.us===n}function Wb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Vb(e,n))return e}}function Gb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Vb(r,n)&&i.push(r)}return i}var qb=function(t){function n(n,i){var e;return(e=t.call(this)||this).yA=n,e.kA=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Jt),jb=function(){function t(){}return t.bA=function(n){var i=n.Xi,e=n.oA,r=t.pA(i,e,!1);if(!r.AA)throw new qb(e.Du,r.Di);return r.Di},t.pA=function(n,i,e){for(var r=[];i.Du<n.byteLength;){var s=t.TA(n,i,e);if(!s.AA)return{AA:!1,Di:r};r.push(s.SA)}return{AA:!0,Di:r}},t.EA=function(n,i){var e=t.TA(n,i,!1);if(!e.AA)throw new qb(i.Du);return e.SA},t.IA=function(n,i){for(var e=n.Xi,r=n.oA;r.Du<e.byteLength;){var s=t.TA(e,r,!1);if(!s.AA)return;if(s.SA.us===i)return s.SA}},t.TA=function(n,i,e){var r=i.Du,s=t.RA(n,i);if(!s.AA)return s;var u=s.NA,o=u.Nu;if(0===o){if(e)return i.Bu(r),{AA:!1,DA:1/0};o=n.byteLength-r}var a=r+o;if(a>n.byteLength){var c=a;return i.Bu(r),{AA:!1,DA:c}}var h={us:u.us,Du:r,Xi:new zb(Oo(n,r,a),new zo(u.CA))};return i.Bu(a),{AA:!0,SA:h}},t.RA=function(t,n){var i=n.Du;if(!so(t,n,8))return{AA:!1,DA:n.Du+8};var e=co(t,n),r=wo(t,n,4);if(1===e){if(!so(t,n,8)){var s=n.Du+8;return n.Bu(i),{AA:!1,DA:s}}e=fo(t,n).toNumber()}if("uuid"===r){if(!so(t,n,16)){var u=n.Du+16;return n.Bu(i),{AA:!1,DA:u}}r=wo(t,n,16)}return{AA:!0,NA:{us:r,Nu:e,CA:n.Du-i}}},t.PA=function(t,n,i){var e=t.Xi,r=t.oA,s=Bo(Lo(e),r.Du,e.byteLength);return i&&(s=Fo(s)),r.Cu(s.byteLength),{us:n,Xi:s}},t.BA=function(n,i,e){var r=Kb(n.fA());return{us:i,OA:r.version,xA:r.flags,Xi:t.PA(n,i,e).Xi}},t}();function Yb(t,n){var i=Qb(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Qb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.us===n)return e.Xi}}function Zb(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.us===n&&i.push(r.Xi)}return i}function Kb(t){return{version:t>>24,flags:new Ju(16777215&t)}}var Jb=function(){function t(){}return t.LA=function(n){for(var i=[],e=jb.bA(new zb(n,new zo)),r=0;r<e.length;r++){var s=e[r],u=t.MA(s);u&&i.push(u)}return i},t.UA=function(t){return jb.pA(t,new zo,!1).Di.some(this.XA)},t.FA=function(n){return Zb(jb.bA(new zb(n,new zo)),ib.Zp).map(t.HA)},t.zA=function(n){return Zb(jb.bA(n.Xi),ib.Zp).map(t.HA)},t.XA=function(t){return t.us===ib.tA||t.us===ib.$p||t.us===ib._p||t.us===ib.zp||t.us===ib.Qp||t.us===ib.Jp||t.us===ib.Kp},t.MA=function(n){switch(n.us){case ib._p:return t.VA(n.Xi);case ib.zp:return t.WA(n.Xi,n.Du);case ib.Qp:return t.GA(n.Xi);case ib.Jp:return t.qA(n.Xi);case ib.Kp:return t.jA(n.Xi)}},t.VA=function(n){var i=jb.bA(n),e=Yb(i,ib.gp),r=Zb(i,ib.mp),s=Qb(i,ib.Ip),u=t.YA(e),o=r.map(t.QA),a=s?t.ZA(s):void 0;return{us:ib._p,NA:u,KA:o,JA:a}},t.YA=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=1===i?t.lA():t.fA(),s=1===i?t.lA():t.fA(),u=t.fA(),o=1===i?t.lA():t.fA(),a=t.fA(),c=t.cA()>>8;t.mA(2),t.mA(8);var h=t.wA(9);t.mA(24);var f=t.fA();return{us:ib.gp,OA:i,xA:e,$A:r,tT:s,Pb:u,Yg:o,nT:a,um:c,iT:h,eT:f}},t.QA=function(n){var i=jb.bA(n),e=Yb(i,ib.yp),r=Yb(i,ib.kp),s=t.rT(e),u=t.sT(r);return{us:ib.mp,NA:s,uT:u}},t.rT=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=1===i?t.lA():t.fA(),s=1===i?t.lA():t.fA(),u=t.fA();t.mA(4);var o=1===i?t.lA():t.fA();t.mA(8);var a=t.hA(),c=t.hA(),h=t.hA()/w.pow(2,8);t.mA(2);var f=t.wA(9),v=t.fA()/w.pow(2,16),l=t.fA()/w.pow(2,16);return{us:ib.yp,oT:e.Lu(1),aT:e.Lu(2),cT:e.Lu(4),$A:r,tT:s,hT:u,Yg:o,fT:a,vT:c,um:h,iT:f,Pk:v,lT:l}},t.sT=function(n){var i=jb.bA(n),e=Yb(i,ib.bp),r=Yb(i,ib.pp),s=Yb(i,ib.Ap),u=t.dT(e),o=t.wT(r),a=t._T(s);return{us:ib.kp,NA:u,gT:o,mT:a}},t.dT=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=1===i?t.lA():t.fA(),s=1===i?t.lA():t.fA(),u=t.fA(),o=1===i?t.lA():t.fA();return t.cA(),t.mA(2),{us:ib.bp,OA:i,xA:e,$A:r,tT:s,Pb:u,Yg:o}},t.wT=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags;t.mA(4);var r=t._A(4);t.mA(12);var s=t.gA();return{us:ib.pp,OA:i,xA:e,yT:r,ci:s}},t._T=function(n){var i=Yb(jb.bA(n),ib.Tp),e=t.kT(i);return{us:ib.Ap,bT:e}},t.kT=function(n){var i=Yb(jb.bA(n),ib.Sp),e=t.pT(i);return{us:ib.Tp,AT:e}},t.pT=function(n){var i=Kb(n.fA()),e=i.version,r=i.flags;n.fA();for(var s=[],u=jb.bA(n),o=0;o<u.length;o++){var a=u[o],c=t.TT(a.Xi,a.us);c&&s.push(c)}return{us:ib.Sp,OA:e,xA:r,ST:s}},t.TT=function(n,i){var e=t.ET(n,i);return e||((e=t.IT(n,i))||(i===ib.Mp?t.RT(n):void 0))},t.ET=function(n,i){return i===ib.xp?t.NT(n):i===ib.Fp?t.DT(n):void 0},t.IT=function(n,i){return i===ib.Np?t.CT(n):i===ib.Cp||i===ib.Pp?t.PT(n,i):i===ib.Hp?t.BT(n):void 0},t.OT=function(t,n){return t.mA(6),{us:n,xT:t.cA()}},t.LT=function(n,i){var e=t.OT(n,i);n.mA(8);var r=n.cA(),s=n.cA();return n.mA(2),n.mA(2),Nr({},e,{MT:r,UT:s,XT:n.fA()>>>16})},t.FT=function(n,i){var e=t.OT(n,i);n.mA(2),n.mA(2),n.mA(12);var r=n.cA(),s=n.cA(),u=n.fA(),o=n.fA();n.mA(4);var a=n.cA();n.mA(32);var c=n.cA();return n.mA(2),Nr({},e,{Pk:r,lT:s,HT:u,zT:o,VT:a,WT:c})},t.NT=function(n){var i=t.LT(n,ib.xp),e=Yb(jb.bA(n),ib.Lp);return Nr({},i,{GT:t.qT(e)})},t.RT=function(n){var i=t.OT(n,ib.Mp),e=jb.bA(n),r=Yb(e,ib.Up),s=t.jT(r),u=Qb(e,ib.Xp);return Nr({},i,{YT:s,QT:u?t.ZT(u):u})},t.jT=function(t){return{us:ib.Up,Jc:t.gA()}},t.ZT=function(t){return{us:ib.Xp,V_:t.gA()}},t.qT=function(t){return jb.BA(t,ib.Lp,!0)},t.CT=function(n){var i=t.FT(n,ib.Np),e=jb.bA(n),r=Yb(e,ib.Dp),s=Qb(e,ib.Op);return Nr({},i,{KT:t.JT(r),$T:s?t.tS(s):void 0})},t.PT=function(n,i){var e=t.FT(n,i),r=Yb(jb.bA(n),ib.Bp);return Nr({},e,{nS:t.iS(r)})},t.BT=function(n){var i=n.Ou(),e=t.FT(n,ib.Hp),r=Yb(jb.bA(n),ib.nA),s=t.eS(r);return Nr({},e,{rS:t.IT(i,s.uS.sS),oS:s})},t.DT=function(n){var i=n.Ou(),e=t.LT(n,ib.Fp),r=Yb(jb.bA(n),ib.nA),s=t.eS(r);return Nr({},e,{rS:t.ET(i,s.uS.sS),oS:s})},t.eS=function(n){var i=Yb(jb.bA(n),ib.iA),e=t.aS(i);return{us:ib.nA,uS:e}},t.aS=function(t){var n=t._A(4);return{us:ib.iA,sS:n}},t.JT=function(t){return jb.PA(t,ib.Dp,!0)},t.iS=function(t){return jb.PA(t,ib.Bp,!0)},t.tS=function(t){var n=t.fA(),i=t.fA();return{us:ib.Op,cS:n,hS:i}},t.ZA=function(n){var i=Zb(jb.bA(n),ib.Rp).map(t.fS);return{us:ib.Ip,KA:i}},t.fS=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=t.fA(),s=t.fA(),u=t.fA(),o=t.fA(),a=t.fA();return{us:ib.Rp,OA:i,xA:e,hT:r,vS:s,lS:u,dS:o,wS:a}},t.WA=function(n,i){var e=jb.bA(n),r=Yb(e,ib.Vp),s=Zb(e,ib.Wp),u=t._S(r),o=s.map(t.gS);return{us:ib.zp,mS:i,NA:u,KA:o}},t._S=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=t.fA();return{us:ib.Vp,OA:i,xA:e,yS:r}},t.gS=function(n){var i=jb.bA(n),e=Yb(i,ib.Gp),r=Zb(i,ib.qp),s=Qb(i,ib.jp),u=t.kS(e),o=r.map(function(n){return t.bS(n,u)}),a=s?t.pS(s):void 0;return{us:ib.Wp,NA:u,AS:o,TS:a}},t.kS=function(t){var n=Kb(t.fA()),i=n.version,e=n.flags,r=t.fA(),s=e.Lu(rb.BASE_DATA_OFFSET_PRESENT)?t.lA():void 0,u=e.Lu(rb.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.fA():void 0,o=e.Lu(rb.DEFAULT_SAMPLE_DURATION_PRESENT)?t.fA():void 0,a=e.Lu(rb.DEFAULT_SAMPLE_SIZE_PRESENT)?t.fA():void 0,c=e.Lu(rb.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.fA():void 0;return{us:ib.Gp,OA:i,xA:e,hT:r,SS:s,ES:u,lS:o,dS:a,wS:c}},t.bS=function(n,i){for(var e=Kb(n.fA()),r=e.version,s=e.flags,u=n.fA(),o=s.Lu(sb.DATA_OFFSET_PRESENT)?n.vA():void 0,a=s.Lu(sb.FIRST_SAMPLE_FLAGS_PRESENT)?n.fA():void 0,c=[],h=0;h<u;h++){var f=t.IS(n,s,r,i);0===h&&void 0!==a&&(f.xA=a),c.push(f)}return{us:ib.qp,OA:r,xA:s,RS:u,mS:o,NS:a,DS:c}},t.IS=function(t,n,i,e){return{Yg:n.Lu(sb.SAMPLE_DURATION_PRESENT)?t.fA():e.lS,Nu:n.Lu(sb.SAMPLE_SIZE_PRESENT)?t.fA():e.dS,xA:n.Lu(sb.SAMPLE_FLAGS_PRESENT)?t.fA():e.wS,CS:n.Lu(sb.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.fA():t.vA():void 0}},t.jA=function(t){var n=t.Xi,i=t.oA,e=Kb(co(n,i)),r=e.version,s=e.flags;if(1===r){var u=co(n,i),o=fo(n,i),a=co(n,i),c=co(n,i),h=lo(n,i),f=lo(n,i),v=Xo(Lo(n),i.Du,n.byteLength);return i.Cu(v.byteLength),{us:ib.Kp,OA:r,xA:s,PS:h,_i:f,Pb:u,OS:o,xS:a,F_:c,LS:v}}var l=lo(n,i),d=lo(n,i),w=co(n,i),_=co(n,i),g=co(n,i),m=co(n,i),y=Xo(Lo(n),i.Du,n.byteLength);return i.Cu(y.byteLength),{us:ib.Kp,xA:s,OA:r,PS:l,_i:d,Pb:w,MS:_,xS:g,F_:m,LS:y}},t.GA=function(t){return jb.PA(t,ib.Qp,!1)},t.HA=function(n){var i=n.Xi,e=n.oA,r=Fo(Lo(i)).buffer,s=Kb(co(i,e)),u=s.version,o=s.flags,a=t.US(i,e),c=[];if(u>0)for(var h=co(i,e),f=0;f<h;f++){var v=eo(i,e,16);c.push(v)}var l=co(i,e),d=new y(r,e.Du,l);return e.Cu(i.byteLength),{us:ib.Zp,OA:u,xA:o,XS:a,FS:c,HS:l,Xi:d,zS:r}},t.US=function(t,n){for(var i="",e=0;e<4;e++){var r=no(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=no(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var a=no(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=no(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=no(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.qA=function(t){var n,i,e=t.Xi,r=t.oA,s=Kb(co(e,r)),u=s.version,o=s.flags,a=co(e,r),c=co(e,r);0===u?(n=ht.fromBits(co(e,r),0,!0),i=ht.fromBits(co(e,r),0,!0)):(n=fo(e,r),i=fo(e,r)),r.Cu(2);for(var h=oo(e,r),f=[],v=0;v<h;v+=1){var l=co(e,r),d=l>>31&1,w=2147483647&l,_=co(e,r),g=co(e,r),m=g>>31&1,y=g>>28&7,k=268435455&g;f.push({VS:d,WS:w,Yg:_,GS:m,qS:y,jS:k})}return{us:ib.Jp,OA:u,xA:o,YS:a,Pb:c,QS:n,ZS:i,KS:h,JS:f}},t.pS=function(t){var n,i=t.Xi,e=t.oA,r=Kb(co(i,e)),s=r.version,u=r.flags;return n=0===s?ht.fromBits(co(i,e),0,!0):fo(i,e),{us:ib.jp,OA:s,xA:u,TS:n}},t}();function $b(t){return t&&"Ni"in t?t.Ni:t}var tp=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this,n,i,e,r)||this).$S=void 0,a.tE=void 0,a.nE=void 0,a.$S=s,a.tE=u,a.nE=o||void 0,a}return S(n,t),n.prototype.Ak=function(n){return this===n||!!cm(this,n)&&(!!t.prototype.Ak.call(this,n)&&(!!am(this.iE,n.iE)&&(!!am(this.fp,n.fp)&&(this.eE&&n.eE?!!this.eE.ui(n.eE)&&(this.$y&&n.$y?this.$y.ui(n.$y):this.$y===n.$y):this.eE===n.eE))))},A(n,[{key:"iE",get:function(){return this.$S}},{key:"fp",get:function(){return this.tE}},{key:"eE",get:function(){return this.nE}},{key:"$w",get:function(){var t;return this.Jw||(this.Jw=um(Tk(t=this),{get styles(){return t.iE},get regions(){return t.fp},get metadata(){return $b(t.eE)},get content(){return $b(t.$y)}})),this.Jw}}]),n}(Ck),np=function(){function t(t,n,i){this.Rv=void 0,this.rE=void 0,this.sE=void 0,this.rE=t,this.sE=n,Yt(i)?this.Rv=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.Bi(s)}return i}(0,0,i):this.Rv=i}return A(t,[{key:"uE",get:function(){return this.Rv.oi(!0)}},{key:"Ky",get:function(){return this.rE}},{key:"Jy",get:function(){return this.sE}}]),t}();var ip="http://www.w3.org/XML/1998/namespace";function ep(t,n,i,e){var r=t.Ii(i,n);return 0===r.length&&(r=t.Ti(e+":"+n)),r}function rp(t,n){return function(t,n){var i=t.Di.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Di)}return e}(t,function(t){return t.Ei===n})}function sp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function up(t,n){for(var i=t.Mi,e={},r=0;r<i.length;r++)e[sp(i[r].ci,n)]=i[r]._i;return e}var op=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,ap=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,cp="http://www.w3.org/ns/ttml";function hp(t,n,i,e){void 0===i&&(i=ub),void 0===e&&(e=Nh.APPLICATION_TTML_XML);var r=[],s=xo(t);return e===Nh.APPLICATION_MP4?r=function(t,n,i){var e=Wb(Jb.LA(t),ib.Qp);if(!e)return[];return lp(xo(e.Xi),n,i)}(s,n,i):e===Nh.APPLICATION_TTML_XML&&(r=lp(s,n,i)),r}function fp(t,n,i){return void 0===i&&(i=ub),dp(t,n,i)}function vp(t,n){for(var i=function t(n){var i=[];var e;if(Yt(n)){(e=n.Ci("region"))&&i.push(e);for(var r=n.Si,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.uE),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function lp(t,n,i){return dp(Po(t,new zo),n,i)}function dp(t,n,e){var r,s=[];try{r=i.ei(t)}catch(t){return s}var u=r.Fi;if("tt"!==u.ai)return s;var o=u&&u.Ii(cp,"head")[0],a=u&&u.Ii(cp,"body")[0],c=["ebutts","tts","xml"];if(!a||!o)return s;for(var h=function(t,n){for(var i={},e=t.Ii(cp,"styling")[0],r=e&&e.Ii(cp,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi(ip,"id");i[o]=up(u,n)}return i}(o,c),f=function(t,n){var i=om(t),e=gp(n.Ci("tts:extent"));if(!e)return i;for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r],o=gp(i[u].extent);if(o){var a=wp(o[0],e[0]),c=wp(o[1],e[1]);i[u].extent=a+" "+c}var h=gp(i[u].origin);if(h){var f=wp(h[0],e[0]),v=wp(h[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Ii(cp,"layout")[0],r=e&&e.Ii(cp,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.Pi(ip,"id");if(o){i[o]=up(u,n);var a=kp(u,n);for(var c in a)M.call(a,c)&&(i[o][c]=a[c])}}return i}(o,c),u),v=o.Ii(cp,"metadata")[0],l=function t(n,i,e,r){var s=i;var u;var o=e;var a=[];var c=[];if(Yt(n)){var h,f;s=null!=(h=yp(n.Ci("begin"),r))?h:s,u=yp(n.Ci("dur"),0),o=null!=(f=yp(n.Ci("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Si,l=0;l<v.length;l++)("body"===n.ai||"div"===n.ai)&&v[l].Qn>1||(a=a.concat(t(v[l],s,o,r)))}var d=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Ky,s.Jy)}e.sort(Cs);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Us(e,o+1),o--,u=e.length);return e}(s,o,a);for(var w=0;w<d.length-1;w++){var _=mp(d[w],d[w+1],a);if(_.length<=0&&bp(n)){var g=n.oi(!1);c.push(new np(d[w],d[w+1],g))}else _.length>0&&function(){var t=n.oi(!1);_.forEach(function(n){return t.Ri(n.uE)}),c.push(new np(d[w],d[w+1],t))}()}return c}(a,e.ap,e.cp,e.hp),w=0;w<l.length;w++){var _=l[w],g=vp(f,_);s.push(new tp(_.Ky,_.Jy,_.uE,!1,h,g,v))}return s}function wp(t,n){var i=_p(t),e=_p(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function _p(t){return ls(t,"px")?"px":ls(t,"em")?"em":ls(t,"c")?"c":ls(t,"%")?"%":void 0}function gp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function mp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Ky,u=i[r].Jy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function yp(t,n){if(t){if(op.test(t)){var i=op.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*w.pow(.1,u.length):0)+n}if(ap.test(t)){var o=ap.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a+n}}}function kp(t,n){for(var i={},e=t.Ti("style")||[],r=0;r<e.length;r++){var s=up(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function bp(t){if(Yt(t)){var n=t.ai.toUpperCase(),i=Boolean(t.Ci("smpte:backgroundImage"));return"BR"===n||i}return t.Qn===Gt.Kn}function pp(t){var n=function(t){try{return i.ei(t).Fi}catch(t){}}(t);return"tt"===(null==n?void 0:n.ai)}var Ap,Tp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.S_=function(n){return t.prototype.S_.call(this,n)},i.E_=function(n){var i=t.prototype.E_.call(this,n);return i&&(n.J_=Am.j_),i},i.t_=function(){return Dm(this)},n}(tm);!function(t){t.eA="subtitles",t.oE="captions",t.aE="descriptions",t.cE="chapters",t.sA="metadata",t.hE="thumbnails"}(Ap||(Ap={}));var Sp=[Ap.eA,Ap.oE,Ap.aE,Ap.cE,Ap.sA,Ap.hE];function Ep(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Xs(Sp,t)}(n)?n:n?Ap.sA:Ap.eA}var Ip,Rp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(tf);function Np(t){return t instanceof h_}function Dp(t){return t instanceof v_}function Cp(t){return fs(t,Ip.fE)}function Pp(t){return t.some(Bp)}function Bp(t){return fs(t,Ip.vE)||fs(t,Ip.Mp)}function Op(t,n){return Dh(t)&&Pp(n)}function xp(t,n){return!!t&&(Dh(t)?function(t){return t.some(Cp)}(n)||Pp(n):fs(t,Nh.APPLICATION_TTML_XML)||fs(t,Nh.TEXT_VTT)||fs(t,Nh.IMAGE_JPEG))}function Lp(t,n){return t===Ap.hE||t===Ap.sA&&n===Ap.hE}function Mp(t,n,i,e){for(var r=0,s=t.ag.N_;r<s.length;r++){var u=s[r];if(u.Ky>i)break;n<=u.Jy&&e.push(u)}}function Up(t,n){return Ds(t.H_,n.H_)}function Xp(t,i){var e=i,r=0;if(Np(t)&&t.name===u_.zd)e=t.rd.od;else if(Dp(t)){var s=t.jd;if(e=s.ud,0===(r=s.Kl))return new Rp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Rp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Fp(t,i,e,r){var s=function(t){switch(t){case lk.WEBVTT:return"WebVTT";case lk.SRT:return"SRT";case lk.TTML:return"TTML";default:return""}}(t);return new Rp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Hp(t){return Eb(t)?lk.WEBVTT:pp(t)?lk.TTML:lk.SRT}function zp(t,n){for(var i=[],e=0,r=t.ag.N_;e<r.length;e++){var s=r[e];if(s.Jy<=n)i.push(s);else if(s.Ky>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.lE(o)}}!function(t){t.vE="vtt",t.Mp="wvtt",t.fE="stpp"}(Ip||(Ip={}));var Vp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).KA=new Tp,n.dE=function(t){var i=t.n_;n.wE(i)},n}S(n,t);var i=n.prototype;return i.S_=function(t){t.Ys(jg.v_,this.dE),this.KA.S_(t),this.wE(t)},i.E_=function(t){t.Js(jg.v_,this.dE),t.J_=Am.j_,this.KA.E_(t)},i._E=function(t){},i.gE=function(t){},i.wE=function(t){t.J_!==Am.j_?this._E(t):this.gE(t)},i.mE=function(){for(var t=0,n=this.KA.N_;t<n.length;t++){var i=n[t];i.Js(jg.v_,this.dE),i.Od()}},i.yE=function(t){if(t>0)for(var n=0,i=this.KA.N_;n<i.length;n++){zp(i[n],t)}},i.R_=function(){return this.mE(),this.KA.R_(),Ve.resolve()},i.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.R_());case 3:this.KA.Od();case 4:case"end":return t.stop()}},null,this,null,Ve)},n}(lu),Wp=function(t){function n(n){var i;return(i=t.call(this,Tm.Z_)||this).errorObject=n,i}return S(n,t),n.prototype.t_=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Gg),Gp=function(t){function n(n,i){var e;return(e=t.call(this)||this).kE=void 0,e.bE=void 0,e.pE=new Zs,e.kE=n,e.bE=i,e}S(n,t);var i=n.prototype;return i.AE=function(t){if(t.src){var n=t.kind||Ap.eA,i=this.kE.TE(n,t.id,t.label,t.srclang,t.default);return i.hg=s_(t.src),this.S_(i),i}},i.SE=function(t,n){var i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.og=vk.LOADING,i=new n_({od:t.hg,$l:pf.Kn,Id:Zw.GET,zs:n}),v.prev=2,v.next=5,Rr.awrap(this.bE.rd(i));case 5:return s=v.sent,r=s.Kl,v.next=9,Rr.awrap(s.xl());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),tu(v.t0),t.og=vk.ERROR,t.js(new Wp(Xp(v.t0,t.hg))),v.abrupt("return");case 18:for(v.prev=18,u=Hp(e),t.us=u,o=[],u===lk.WEBVTT||u===lk.SRT?(a=wb(e),o=a.ag):u===lk.TTML&&(o=fp(e,t)),c=0,h=o;c<h.length;c++)f=h[c],t.EE(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),tu(v.t1),t.og=vk.ERROR,t.js(new Wp(Fp(t.us,t.hg,r,v.t1))),v.abrupt("return");case 32:t.og=vk.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],Ve)},i._E=function(t){Xs(this.KA.N_,t)&&t.og===vk.NONE&&this.SE(t,this.pE.zs).catch(nu)},i.zc=function(){},i.R_=function(){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.pE.Xs(),this.pE=new Zs,n=0,i=this.KA.N_;n<i.length;n++)e=i[n],this.kE.IE(e);return r.next=5,Rr.awrap(t.prototype.R_.call(this));case 5:case"end":return r.stop()}},null,this,null,Ve)},n}(Vp);function qp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.z_===n&&e.RE)return e}}function jp(t,n){Yp(qp(t.N_,n))}function Yp(t){void 0!==t&&(t.J_=Am.Q_)}function Qp(t,n){Yp(qp(t.N_,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.z_===n)return e}}(t.N_,n))}function Zp(t){for(var n=0;n<Sp.length;n++){var i=Sp[n];i===Ap.cE?Qp(t,i):jp(t,i)}}var Kp,Jp=function(t){function n(){return t.call(this,bf.Nf)||this}return S(n,t),n}(wu);!function(t){t[t.NE=0]="NE",t[t.DE=1]="DE"}(Kp||(Kp={}));var $p=t,tA=$p.MediaSource,nA=$p.WebKitMediaSource,iA=$p.TextTrack,eA=s&&s.createElement("video");s&&s.documentElement.style;var rA=L.Gt&&L.Bn&&L.On<=26;L.fn;var sA=!(!tA&&!nA),uA=!!iA;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.un,L.Nn&&L.Dn,eA&&eA.canPlayType&&(""!==eA.canPlayType("application/vnd.apple.mpegURL")||L.Yt&&!L.Nn&&L.Qt);eA&&eA.canPlayType&&eA.canPlayType("video/mp4");var oA=sA&&!L.Cn&&!L.En&&!L.Sn&&((tA||nA).isTypeSupported?(tA||nA).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):eA&&eA.canPlayType&&""!==eA.canPlayType('audio/mp4; codecs="mp4a.40.34"'));sA&&!L.Cn&&(oA||((tA||nA).isTypeSupported?(tA||nA).isTypeSupported("audio/mpeg"):eA&&eA.canPlayType&&eA.canPlayType("audio/mpeg"))),sA&&(!L.Rn||!L.Gt)&&(tA||nA).isTypeSupported&&(tA||nA).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),L.Cn||L.En||L.Sn,L.In,L.Cn,L.En&&L.qt&&L.jt;try{r&&r.top!==r.self}catch(t){!0}var aA=function(t){function n(n){var i;return(i=t.call(this,uy.Gg)||this).currentTime=n,i}return S(n,t),n}(wu),cA=function(t){function n(n){var i;return(i=t.call(this,uy.qg)||this).currentTime=n,i}return S(n,t),n}(wu),hA=[uy.d_,uy.qg,bf.Sf,bf.Tf],fA=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).CE=Vm.Lg,e.PE=!0,e.BE=!1,e.OE=!1,e.xE=function(t){var n=e.LE.og;n!==e.CE&&e.js(new Ty(t.currentTime,n)),n===Vm.Lg&&(e.BE=!1,e.OE=!1),e.ME(n),e.UE(n),e.XE(n),e.maybeDispatchCanPlayThroughEvent(n),e.FE(n),e.HE(n),e.CE=n},e.zE=function(){e.HE(e.CE),e.FE(e.CE),e.PE=e.LE.Jg},e.VE=function(){e.PE=e.LE.Jg},e.LE=n,e.WE=i,e.LE.Ys(uy.d_,e.xE),e.LE.Ys(bf.Sf,e.zE),e.LE.Ys(bf.Tf,e.VE),e.WE&&e.LE.Ys(uy.qg,e.qs),e}S(n,t);var i=n.prototype;return i.ME=function(t){!this.OE&&t>=Vm.Mg&&(this.OE=!0,this.js(new ly(this.LE.jg,t)))},i.UE=function(t){!this.BE&&t>=Vm.Ug&&(this.BE=!0,this.js(new my(this.LE.jg,t)))},i.FE=function(t){this.WE||(t>=Vm.Xg&&this.CE<Vm.Xg&&!this.LE.Jg||this.GE&&t>=Vm.Xg)&&this.js(new cA(this.LE.jg))},i.HE=function(t){!this.qE(t)||this.LE.Qg||this.LE.wu||this.js(new aA(this.LE.jg))},i.XE=function(t){this.CE<=Vm.Ug&&t>=Vm.Xg&&this.js(new py(this.LE.jg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Vm.Fg&&this.js(new Ay(this.LE.jg,t))},i.qE=function(t){var n=!this.LE.Jg&&t<=Vm.Ug,i=!this.PE&&this.CE<=Vm.Ug;return n&&!i},i.R_=function(){this.CE=Vm.Lg,this.PE=!0,this.BE=!1,this.OE=!1},i.Od=function(){this.Ks(),this.WE&&this.LE.Js(uy.qg,this.qs),this.LE.Js(bf.Sf,this.zE),this.LE.Js(bf.Tf,this.VE),this.LE.Js(uy.d_,this.xE)},A(n,[{key:"GE",get:function(){return!this.LE.Jg&&this.PE}}]),n}(lu),vA=function(t){function n(n){var i;return(i=t.call(this)||this).LE=n,i.LE.Ys(hA,i.qs),i}return S(n,t),n.prototype.Bs=function(){this.Ks(),this.LE.Js(hA,this.qs)},A(n,[{key:"jg",get:function(){return this.LE.jg}},{key:"Qg",get:function(){return this.LE.Qg}},{key:"wu",get:function(){return this.LE.wu}},{key:"Jg",get:function(){return this.LE.Jg}},{key:"og",get:function(){return this.LE.og}}]),n}(lu),lA="titanium",dA="conax",wA="ezdrm",_A="irdeto",gA="vudrm",mA="verimatrix",yA="keyos",kA="drmtoday",bA="expressplay",pA="azure",AA="xstream",TA="vimond",SA="axinom",EA="uplynk",IA="comcast",RA="custom",NA=function(){function t(t,n,i,e,r){this.Kc=void 0,this.jE=void 0,this.YE=void 0,this.QE=void 0,this.bE=void 0,this.ZE=void 0,this.KE=void 0,this.Kc=t,this.jE=n,this.YE=i,this.bE=e,this.KE=r,this.QE=this.JE(n)}var e=t.prototype;return e.$E=function(){return this.ZE},e.tI=function(t){this.ZE=t},e.nI=function(){return this.QE.licenseAcquisitionURL||this.$E()},e.iI=function(t){return Ve.resolve()},e.eI=function(t,n){return Ve.resolve(void 0)},e.rI=function(t,i,e,r){var s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.sI(t,i,e,r)).od){o.next=3;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Rr.awrap(this.jw.rd(s));case 6:return u=o.sent,o.next=9,Rr.awrap(u.Ll(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),tu(o.t0),o.next=17,Rr.awrap(this.uI(o.t0,s.od,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],Ve)},e.sI=function(t,n,i,e){var r=this.oI().qf(),s=this.Cd,u={od:this.aI(),$l:n,Jl:r,Fl:t,Cd:s,Id:Zw.POST,Rd:0,zs:e,us:Kw.dd,Nd:i};return new n_(u)},e.cI=function(t,n){return Ve.resolve(t)},e.hI=function(t,n,i,e){return Ve.resolve(t)},e.oI=function(){return new Af(this.QE.headers||{})},e.uI=function(t,i,e){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,Ve)},e.aI=function(t,n){var e=n,r=this.QE.queryParameters;if(!e){var s=this.nI();if(!s)return"";e=s}if(r||t){var u=i.Cr(e);t&&r_(u,t),r&&r_(u,r),e=u.href}return e},e.fI=function(t,n){return DA(t)},e.vI=function(t){return new y(t)},e.lI=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.fI(t,i));case 2:return e=u.sent,u.next=5,Rr.awrap(this.rI(e,this.KE,n,i));case 5:return r=u.sent,s=this.vI(r),u.abrupt("return",s);case 8:case"end":return u.stop()}},null,this,null,Ve)},e.Od=function(){},A(t,[{key:"jw",get:function(){return this.bE}},{key:"dI",get:function(){return!1}},{key:"wI",get:function(){var t=this.QE.certificate;if(t)return G(t)?Du(t):Uo(t)}},{key:"_I",get:function(){return!1}},{key:"Cd",get:function(){return Boolean(this.QE.useCredentials)}}]),t}();function DA(t){return Ve.resolve(Fo(t).buffer)}var CA,PA,BA=function(t){function n(n,i,e,r){return t.call(this,rs,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.JE=function(t){return t.widevine||{}},i.gI=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.wI){i.next=2;break}return i.abrupt("return",this.wI);case 2:return i.abrupt("return",this.mI(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.mI=function(n,i){return t.prototype.lI.call(this,n,Jw.yd,i)},n}(NA);function OA(t,n){if(null==t)return{};var i,e,r={},s=d.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function xA(t){return X(t.token&&t.deviceId)}function LA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&X(i.PreAuthorization)}function MA(t){var n=t;return xA(n)&&""!==n.token&&""!==n.deviceId&&!LA(n)}(PA=CA||(CA={})).yI=!1,PA.kI=!1,PA.bI=!1,PA.pI=!1,PA.LOG_ADS_DETAILS=!1,PA.LOG_CHROMECAST_DETAILS=!1,PA.LOG_CUSTOM_DRM=!1,PA.LOG_BUFFERING_VIDEO_MAIN=!1,PA.LOG_BUFFERING_VIDEO_SELECTION=!1,PA.LOG_BUFFERING_AUDIO_MAIN=!1,PA.LOG_BUFFERING_AUDIO_SELECTION=!1,PA.AI=!1,PA.TI=!1,PA.LOG_LCEVC_DETAILS=!1;var UA,XA=function(){function t(t,n,i){this.SI=t,this.Mc=n,this.EI=i}return t.prototype.II=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new l("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new l("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new l("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new l("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new l("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.EI.build(t))},A(t,[{key:"RI",get:function(){return this.SI}},{key:"Kc",get:function(){return this.Mc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(UA||(UA={}));var FA=function(){function t(){this.NI=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.DI(t,e,r)){case UA.FAILED:throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case UA.OVERRIDDEN:var s=sT(e);i.wr("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case UA.SUCCEEDED:sT(e);0}},e.DI=function(t,n,i){var e=sT(n);if(!e)return UA.FAILED;for(var r=UA.SUCCEEDED,s=0,u=this.NI.slice();s<u.length;s++){var o=u[s];o.RI===t&&o.Kc===e&&(r=UA.OVERRIDDEN,Ms(this.NI,o))}return this.NI.push(new XA(t,e,i)),r},e.CI=function(t,n){return void 0!==this.BI(t,n)},e.OI=function(t,n,i){var e=this.BI(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.II(i)},e.BI=function(t,n){for(var i=0,e=this.NI;i<e.length;i++){var r=e[i];if(r.RI===t&&(!n||r.Kc===n))return r}},t}();FA.xI=new FA;var HA=["customdata"],zA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function VA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters;return!(n||i||e||r||s||u)}function WA(t){return t&&void 0!==t.licenseAcquisitionURL}var GA,qA=WA,jA=WA;function YA(t){if(!t)return!0;if(JA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return VA(n)&&VA(i)&&VA(e)&&VA(r)&&VA(s)}function QA(t){var n=MA(t),i=function(t){var n,i=t;return LA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!xA(i)}(t);return(!n||!i)&&(n||i)}function ZA(t){return t.integration===_A}function KA(t){var n=t;if(!n)return!1;if(YA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(JA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!qA(e))return!1;if(r&&!jA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(FA.xI.CI(n.integration))return!0;switch(n.integration){case lA:if(!function(t){return t.integration===lA&&($A(t)||tT(t))}(t))return!1;break;case gA:if(!nT(t))return!1;break;case mA:if(!function(t){return t.integration===mA}(t))return!1;break;case _A:if(!ZA(t))return!1;break;case dA:if(!QA(t))return!1;break;case wA:if(!function(t){return t.integration===wA}(t))return!1;break;case yA:if(!JA(t))return!1;break;case kA:if(!function(t){var n=t;return n.integration===kA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case bA:if(!function(t){return t.integration===bA}(t))return!1;break;case AA:if(!iT(t))return!1;break;case TA:if(!function(t){return t.integration===TA}(t))return!1;break;case SA:if(!eT(t))return!1;break;case pA:if(!function(t){var n=t;return n.integration===pA&&void 0!==n.token}(t))return!1;break;case EA:if(!function(t){return t.integration===EA}(t))return!1;break;case IA:if(!function(t){var n=t;return n&&X(n.releasePid)&&X(n.accountId)&&X(n.token)}(t))return!1;break;case RA:return!0;default:return!1}}return!0}function JA(t){return t.integration===yA}function $A(t){return void 0!==t.authToken}function tT(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function nT(t){var n=t;return n.integration===gA&&void 0!==n.token}function iT(t){var n=t;return n&&n.integration===AA&&G(n.ticketAcquisitionURL)&&G(n.streamId)}function eT(t){var n=t;return n.integration===SA&&void 0!==n.token}function rT(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:zA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,a=o?{customData:o}:{},c=Nr({},null!=(r=null==s?void 0:s.headers)?r:{},a),h=null!=s?s:{};return h.customdata,Nr({},OA(h,HA),{licenseAcquisitionURL:u,headers:c})}function sT(t){switch(t.toLowerCase()){case"widevine":case Zr:return Zr;case"playready":case jr:return jr;case"fairplay":case ts:return ts}}function uT(t,i){switch(t){case Vr:return function(t){for(var n={},i=Jb.FA(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.XS]=r.zS}return n}(i);case Wr:case Gr:return function(t){var n;return(n={})[$r]=t,n}(i);default:throw new tf(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Kr="Widevine",t.Zr="PlayreadyV2",t.LI="PlayreadyV2",t.MI="PlayreadyV3",t.$r="Fairplay"}(GA||(GA={}));var oT={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function aT(t,n){var e,r,s,u,o=oT[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Br)?void 0:e.Or,OSVersion:null==(r=i.Br)?void 0:r.Fr,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Br)?void 0:s.Hr,DeviceModel:null==(u=i.Br)?void 0:u.zr}}}function cT(t,i){if(!t.accountName)throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function hT(t,n,i){var e;if($A(t))e={AuthToken:t.authToken,Payload:n};else{if(!tT(t))throw cT(t,i);e={LatensRegistration:aT(t,i),Payload:n}}return Hu(JSON.stringify(e))}function fT(t,i,e){var r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=t.jd){a.next=3;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,a.prev=4,a.next=7,Rr.awrap(s.Ol(e));case 7:u=a.sent,o=vT(u),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),o="";case 14:throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.rd.od,s.Kl,s.td,o);case 15:case"end":return a.stop()}},null,null,[[4,11]],Ve)}function vT(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var lT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Wf)||this).UI=void 0,r}S(e,t),e.XI=function(){return i.Or.We?"required":"optional"};var r=e.prototype;return r.uI=function(t,n,i){return fT(t,n,i)},r.iI=function(t){return this.UI?iu(this.UI.Uu,t):(this.UI=new Wo,Ve.resolve())},r.fI=function(t,i){var e,r;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.jE){i.next=3;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Pu(t),i.abrupt("return",hT(e,r,GA.Kr));case 5:case"end":return i.stop()}},null,this,null,Ve)},r.vI=function(t){if(!t.license)throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return Du(t.license)},r.FI=function(t){return Ve.resolve(new y(t))},r.gI=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.HI(),r.next=3,Rr.awrap(this.fI(t,n));case 3:return i=r.sent,r.next=6,Rr.awrap(this.rI(i,pf.Vf,Jw.kd,n));case 6:return e=r.sent,r.next=9,Rr.awrap(this.FI(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},r.mI=function(n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.prototype.mI.call(this,n,i));case 2:return e=r.sent,this.HI(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,Ve)},r.HI=function(){this.UI||(this.UI=new Wo),this.UI.Hu()},r.Od=function(){this.UI&&this.UI.Xs(),t.prototype.Od.call(this)},e}(BA),dT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).tI("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.fI=function(t,i){var e,r,s,u;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(DA(t));case 2:if(e=i.sent,r=this.YE,s=Ho(new y(e)),u=this.zI){i.next=8;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}},null,this,null,Ve)},A(i,[{key:"zI",get:function(){if(nT(this.jE))return this.jE.token}}]),i}(BA);function wT(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Nr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Nr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var _T=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).tI("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}return S(n,t),n.prototype.aI=function(n,i){var e=n;return ZA(this.jE)&&(e=wT(this.jE,e)),t.prototype.aI.call(this,e,i)},n}(BA),gT="Conax-Custom-Data";function mT(t,n,i){var e=t&&QA(t)&&t;if(e&&!i.has(gT)){var r=MA(e)?e.token:void 0,s=MA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(gT,u)}return i}var yT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).tI("https://connect.conax.com:8094/license"),r}return S(n,t),n.prototype.oI=function(){var n=t.prototype.oI.call(this);return mT(this.jE,"Widevine",n)},n}(BA);function kT(t){var n=To(new y(t));return Du(JSON.parse(n).license)}function bT(t){return"string"==typeof t.token?t.token:Hu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function pT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var AT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pf.Vf)||this).tI("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.vI=function(t){return kT(t)},i.oI=function(){return pT(t.prototype.oI.call(this),this.zI,this.jE)},A(n,[{key:"zI",get:function(){return bT(this.jE)}}]),n}(BA),TT=function(t){function n(n,i,e){return t.call(this,n,i,e,pf.Vf)||this}return S(n,t),n.prototype.oI=function(){var n=t.prototype.oI.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(BA);function ST(t,i,e,r){var s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(iT(t)){v.next=2;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Af).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,a=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",c={drmType:i,licenseType:a,streamId:o},h={od:t.ticketAcquisitionURL,$l:pf.Wf,Jl:s,Id:Zw.POST,Fl:JSON.stringify(c),zs:r},v.next=13,Rr.awrap(e.rd(h));case 13:return f=v.sent,v.next=16,Rr.awrap(f.Ol());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,Ve)}var ET=function(t){function n(n,i,e){return t.call(this,n,i,e,pf.Wf)||this}S(n,t);var i=n.prototype;return i.oI=function(){var n=t.prototype.oI.call(this);return n.set("Content-Type","application/json"),n},i.fI=function(n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=Fu(n.buffer),r=this.jE,o.next=4,Rr.awrap(ST(r,"widevine_modular",this.jw,i));case 4:return s=o.sent,this.tI(s.licenseServerUrl),u=So(JSON.stringify({payload:e,ticket:s.ticket})),o.abrupt("return",t.prototype.fI.call(this,u,i));case 8:case"end":return o.stop()}},null,this,null,Ve)},i.vI=function(t){return Du(t.license)},n}(BA),IT=function(t){function i(n,i,e){return t.call(this,n,i,e,pf.Vf)||this}return S(i,t),i.prototype.oI=function(){if(!eT(this.jE))throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(BA);function RT(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var NT=function(t){function n(n,i,e){var r;return(r=t.call(this,es,n,i,e,pf.Vf)||this).VI=void 0,r}S(n,t);var e=n.prototype;return e.JE=function(t){return t.playready||{}},e.oI=function(){var n=new Af(this.VI);return n.Yf(t.prototype.oI.call(this)),n},e.WI=function(t){return t.length>=1&&t[0].Si.length>0},e.eI=function(n){var i=this.jE.playready.customData;if(i){var e=RT(i),r=RT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Pu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ve.resolve({playready:{Ih:r}})}return t.prototype.eI.call(this,n)},e.fI=function(t,n){var i;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(DA(t));case 2:return i=n.sent,n.abrupt("return",this.GI(i));case 4:case"end":return n.stop()}},null,this,null,Ve)},e.GI=function(t){var n,e,r,s,u,o,a,c,h,f,v,l,d,w,_,g;return Rr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),a=bo(o,new zo,!0),m.prev=3,c=i.ei(a),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(h=null==(n=c.Ti("PlayReadyKeyMessage")[0])?void 0:n.Ti("LicenseAcquisition")[0],f=null!=(e=null==h?void 0:h.Ti("Challenge"))?e:[],this.WI(f)&&(u=Xu(f[0].Ui)),v=new Af,l=null!=(r=null==h?void 0:null==(s=h.Ti("HttpHeaders")[0])?void 0:s.Ti("HttpHeader"))?r:[],d=0;d<l.length;d++)w=l[d],_=w.Ti("name")[0].Ui,g=w.Ti("value")[0].Ui,v.append(_,g);return this.VI=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],Ve)},e.gI=function(t,n){return Ve.resolve(t)},e.mI=function(n,i){return t.prototype.lI.call(this,n,Jw.bd,i)},n}(NA),DT=function(){function t(n){this.lc=void 0,this.qI=n,this.lc=t.jI(n)}return t.jI=function(t){return"3"===t.version?GA.MI:GA.LI},t.prototype.YI=function(){var t={};if(this.lc===GA.MI){var n={LatensRegistration:aT(this.qI,GA.MI)};t["X-TITANIUM-DRM-CDATA"]=Hu(JSON.stringify(n))}return t},A(t,[{key:"QI",get:function(){return this.lc}},{key:"fh",get:function(){return this.lc===GA.LI}}]),t}();var CT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).ZI=void 0,r.ZI=new DT(r.jE),r}S(e,t);var r=e.prototype;return r.eI=function(t){var i=this.jE;if(!this.jE)throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(tT(i)){var e={};return e.playready={Ih:PT(i,this.ZI.QI)},Ve.resolve(e)}return Ve.reject(cT(i,GA.Zr))},r.oI=function(){var n=new Af(this.ZI.YI());return n.Yf(t.prototype.oI.call(this)),n},r.uI=function(t,e,r){var s,u,o,a,c,h,f,v;return Rr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=t.jd){l.next=3;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return l.prev=3,l.next=6,Rr.awrap(s.Ml(r));case 6:a=l.sent,c=To(new y(a)),(h=i.ei(c))&&(f=rp(h,"CustomData")).length>0&&(u=JSON.parse(f[0].Ui),o=null==(v=u.DrmErr)?void 0:v.desc),l.next=14;break;case 12:l.prev=12,l.t0=l.catch(3);case 14:throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Kl,s.td,o);case 15:case"end":return l.stop()}},null,null,[[3,12]],Ve)},r.WI=function(t){if(1!==t.length)throw new jy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(NT);function PT(t,n){var i=aT(t,n),e=i.DeviceInfo.FormatVersion,r=Hu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=Io(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Io('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Pu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var BT,OT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tI("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.WI=function(t){if(1!==t.length)throw new jy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.aI=function(n,i){var e=Nr({},n||{},{token:this.zI});return t.prototype.aI.call(this,e,i)},A(i,[{key:"zI",get:function(){if(nT(this.jE))return this.jE.token}}]),i}(NT),xT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tI("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.aI=function(n,i){var e=n;return ZA(this.jE)&&(e=wT(this.jE,e)),t.prototype.aI.call(this,e,i)},n}(NT),LT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tI("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.oI=function(){var n=t.prototype.oI.call(this);return mT(this.jE,"PlayReady",n)},n}(NT),MT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).tI("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.vI=function(n){return(vs(To(new y(n)),"<?xml")?BT.KI:BT.Ol)===BT.Ol?kT(n):t.prototype.vI.call(this,new y(n))},i.oI=function(){return pT(t.prototype.oI.call(this),this.zI,this.jE)},A(n,[{key:"zI",get:function(){return bT(this.jE)}}]),n}(NT);!function(t){t[t.KI=0]="KI",t[t.Ol=1]="Ol"}(BT||(BT={}));var UT,XT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JI=void 0,r}S(n,t);var i=n.prototype;return i.oI=function(){var n=t.prototype.oI.call(this);return this.JI&&n.set("Ticket",this.JI),n.set("Content-Type","text/xml"),n},i.fI=function(n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.jE,s.next=3,Rr.awrap(ST(e,"playready",this.jw,i));case 3:return r=s.sent,this.tI(r.licenseServerUrl),this.JI=r.ticket,s.abrupt("return",t.prototype.fI.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,Ve)},n}(NT),FT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.oI=function(){if(!eT(this.jE))throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},i}(NT);!function(t){t.Wf="application/json",t.$I="application/x-www-form-urlencoded",t.tR="application/octet-stream",t.Kn="text/plain;charset=UTF-8"}(UT||(UT={}));var HT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.Kc,i,e,r,s)||this).nR="",u.iR=void 0,u.eR=void 0,u.eR=n.rR,u}S(n,t);var i=n.prototype;return i.sR=function(){return this.QE.certificateURL||this.iR},i.uR=function(t){this.iR=t},i.fI=function(t){return Ve.resolve(this.oR(t,this.nR))},i.oR=function(t,n){return"spc="+encodeURIComponent(Pu(t))+"&assetId="+encodeURIComponent(n)},i.JE=function(t){return t.fairplay||{}},i.aR=function(t){var n=t.indexOf("?");if(n>=0)return Ve.resolve(t.substr(n+1));var i=t.split("/");return Ve.resolve(i[i.length-1])},i.eI=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.eR)?n:Do(new y(t)),s.next=3,Rr.awrap(this.aR(i));case 3:return e=s.sent,this.nR=e,(r={}).fairplay={Oh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.oI=function(){var n=t.prototype.oI.call(this);return n.set("Content-Type",this.cR),n},i.gI=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wI){t.next=2;break}return t.abrupt("return",this.wI);case 2:return t.next=4,Rr.awrap(this.hR(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.mI=function(n,i){return t.prototype.lI.call(this,n,Jw._d,i)},i.fR=function(t){var n=this.sR(),i=this.oI(),e={od:n,$l:pf.Vf,Jl:i,Id:Zw.GET,Cd:!1,Fl:null,Rd:0,zs:t,us:Kw.dd,Nd:Jw.md};return new n_(e)},i.hR=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.fR(t),r.next=3,Rr.awrap(this.jw.rd(n));case 3:return i=r.sent,r.next=6,Rr.awrap(i.Ml());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,Ve)},i.vI=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Du(i)}else n=new y(t);return n},i.aI=function(n,i){var e=t.prototype.aI.call(this,n,i);return vs(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"_I",get:function(){return!0}},{key:"cR",get:function(){return UT.$I}}]),n}(NA),zT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(n,t);var i=n.prototype;return i.aR=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return Ve.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return Ve.resolve(i)},i.fI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.vI=function(t){return new y(t)},i.aI=function(n,i){var e=n||{};return e.p1=zt(),t.prototype.aI.call(this,e,i)},A(n,[{key:"cR",get:function(){return UT.tR}}]),n}(HT),VT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this).tI("https://fairplay-license.drm.technology/license"),s.uR("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.oR=function(t,n){var i={token:this.zI,contentId:n,payload:Pu(t)};return JSON.stringify(i)},e.vI=function(t){return new y(t)},e.oI=function(){var n=t.prototype.oI.call(this);return n.set("x-vudrm-token",this.zI),n},A(i,[{key:"cR",get:function(){return UT.Wf}},{key:"zI",get:function(){if(!nT(this.jE))throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.jE.token}}]),i}(HT),WT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",GT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",qT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}return S(i,t),i.prototype.vI=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,WT)}if(!i)throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,GT);return i}(To(new DataView(i)));return t.prototype.vI.call(this,e)},i}(HT);var jT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Wf)||this}S(i,t);var e=i.prototype;return e.fI=function(t){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.jE){r.next=3;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Pu(t),r.abrupt("return",hT(i,e,GA.$r));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.vI=function(t){try{var i;if(G(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Xu(i.license);return new y(r)}throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server")}catch(t){throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server")}},e.uI=function(t,n,i){return fT(t,n,i)},A(i,[{key:"cR",get:function(){return UT.Wf}}]),i}(HT),YT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this).tI("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.uR("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.sR=function(){var n=t.prototype.sR.call(this);if(!n)return n;var e=i.Cr(n),r=this.jE;return ZA(r)&&r_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.aR=function(n){return ZA(this.jE)?Ve.resolve(this.jE.contentId):t.prototype.aR.call(this,n)},e.fI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.vI=function(t){return new y(t)},e.aI=function(n,i){var e=n;return ZA(this.jE)&&(e=function(t,n){return Nr({},wT(t,n),{KeyId:t.keyId})}(this.jE,e)),t.prototype.aI.call(this,e,i)},A(n,[{key:"cR",get:function(){return UT.tR}}]),n}(HT),QT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,pf.Kn)||this,!QA(e))throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.tI("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.oI=function(){var n=t.prototype.oI.call(this);return mT(this.jE,"FairPlay",n)},e.hR=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.sR(),i={od:n,$l:pf.Vf,Jl:{},Id:Zw.GET,Cd:!1,Fl:null,Rd:0,zs:t,us:Kw.dd,Nd:Jw.md},s.next=4,Rr.awrap(this.jw.rd(i));case 4:return e=s.sent,s.next=7,Rr.awrap(e.Ml());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,Ve)},e.fI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.aR=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ve.resolve(To(Du(n)))):Ve.resolve("unknown")},e.vI=function(t){try{var n=JSON.parse(t);return new y(Xu(n.CkcMessage))}catch(t){throw new v("CFLRW-66")}},i}(HT),ZT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Kn)||this).tI(zA[Hr.$r]),s}S(i,t);var e=i.prototype;return e.aR=function(t){return vs(t,"skd://")?Ve.resolve(t.substring("skd://".length,40)):Ve.reject(new jy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.oR=function(t,n){return"spc="+Pu(t)+"&assetId="+n},i}(HT),KT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Kn)||this).tI("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.oR=function(t,n){var i="spc="+encodeURIComponent(Pu(t))+"&"+encodeURI(n);return"persistent"===this.QE.licenseType?i+"&offline=true":i},i.oI=function(){return pT(t.prototype.oI.call(this),this.zI,this.jE)},A(n,[{key:"zI",get:function(){return bT(this.jE)}}]),n}(HT),JT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(n,t);var e=n.prototype;return e.aR=function(t){var n=t;return vs(n,"skd:")&&(n="http:"+n.substring(4)),vs(n,"http:")||vs(n,"https:")?Ve.resolve(i.Cr(n).hostname):Ve.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.fI=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.vI=function(t){return new y(t)},A(n,[{key:"cR",get:function(){return UT.tR}}]),n}(HT),$T=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pf.Kn)||this}return S(n,t),n.prototype.oI=function(){var n=t.prototype.oI.call(this),i=this.jE.token;return n.set("Authorization","Bearer "+i),n},n}(HT),tS=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,pf.Wf)||this,!iT(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.hR=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.sR(),i=this.oI(),e={od:n,$l:pf.Wf,Jl:i,Id:Zw.POST,zs:t,us:Kw.dd,Nd:Jw.md},u.next=5,Rr.awrap(this.jw.rd(e));case 5:return r=u.sent,u.next=8,Rr.awrap(r.Ol());case 8:return s=u.sent,u.abrupt("return",new y(Du(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,Ve)},i.mI=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=Pu(t),r=this.jE,i.next=5,Rr.awrap(ST(r,"fairplay",this.jw,n));case 5:return s=i.sent,u=So(JSON.stringify({spc:e,ticket:s.ticket})),o={od:this.nI(),$l:pf.Wf,Jl:this.oI(),Id:Zw.POST,Fl:u,Rd:0,zs:n,us:Kw.dd,Nd:Jw._d},i.next=10,Rr.awrap(this.jw.rd(o));case 10:return a=i.sent,i.next=13,Rr.awrap(a.Ol());case 13:return c=i.sent,i.abrupt("return",Du(c.licence));case 15:case"end":return i.stop()}},null,this,null,Ve)},A(n,[{key:"cR",get:function(){return UT.Wf}}]),n}(HT),nS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Kn)||this}S(i,t);var e=i.prototype;return e.oR=function(t,n){return Pu(t)},e.vI=function(i){if(0===i.length)throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.vI.call(this,i)},e.oI=function(){var n=t.prototype.oI.call(this);return n.set("Content-Type","text/plain"),n},i}(HT),iS=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pf.Vf)||this}S(i,t);var e=i.prototype;return e.oR=function(t,n){return t},e.vI=function(t){return new y(t)},e.oI=function(){if(!eT(this.jE))throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.oI.call(this);return i.set("X-AxDRM-Message",this.jE.token),i},A(i,[{key:"cR",get:function(){return UT.Wf}}]),i}(HT),eS=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Wf)||this).vR=void 0,s}S(e,t);var r=e.prototype;return r.oR=function(t,n){var i={spc:Pu(t)};return JSON.stringify(i)},r.aR=function(t){var e=i.Cr(t);return this.vR=t,e.searchParams.has("b")?Ve.resolve(e.searchParams.get("b")):Ve.reject(new jy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.aI=function(n,i){var e=this.nI();return!e&&this.vR&&(e=this.vR),e&&(e=e.replace("skd://","https://")),t.prototype.aI.call(this,n,i||e)},r.vI=function(t){try{var i;if((i=G(t)?JSON.parse(t.trim()):t).ckc)return Du(i.ckc)}catch(t){throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server")}throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server")},A(e,[{key:"cR",get:function(){return UT.Kn}}]),e}(HT),rS=function(){function t(t,n){this.lR=t,this.dR=n}var n=t.prototype;return n.wR=function(t){return this.lR(t)},n._R=function(t,n){throw new l(n+" must be "+this.dR+". (Received: "+t+")")},t}();new rS(function(t){return!0},"any");var sS=new rS(Q,"a number"),uS=new rS(G,"a string"),oS=new rS(q,"a boolean");new rS(Y,"a date"),new rS(F,"undefined"),new rS(V,"an object"),new rS(function(t){return null===t},"null"),new rS(function(t){return null==t},"null or undefined");var aS,cS=(aS={responseCode:sS,isException:oS,description:uS,title:uS,correlationId:uS},{wR:function(t){if(!V(t))return!1;for(var n=0,i=d.keys(aS);n<i.length;n++){var e=i[n];if(!aS[e].wR(t[e]))return!1}return!0},_R:function(t,n){if(!V(t))throw new l(n+" must be an object.");for(var i=0,e=d.keys(aS);i<e.length;i++){var r=e[i],s=aS[r];if(!s.wR(t[r]))return s._R(t[r],n+"."+String(r))}throw new l}});function hS(t,n,i,e,r){var s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=fS(t,n,i,r),u.next=3,Rr.awrap(vS(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,Ve)}function fS(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Cr(t);return r_(e,n),e.toString()}(e,s)),o=new Af({});o.append("Content-Type","application/json");var a=Pu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{od:u,$l:pf.Kn,Jl:o,Id:Zw.POST,Fl:JSON.stringify(c),zs:r,us:Kw.dd,Nd:Jw._d}}function vS(t,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(i.rd(t));case 2:return e=s.sent,s.next=5,Rr.awrap(e.Ol());case 5:if(r=s.sent,!cS.wR(r)){s.next=8;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.od,r.responseCode);case 8:return s.abrupt("return",Du(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,Ve)}var lS=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pf.Vf)||this).gR=void 0,s.gR=i,s}S(n,t);var i=n.prototype;return i.aR=function(n){var i=n.replace("FairPlay",this.gR.releasePid);return t.prototype.aR.call(this,i)},i.mI=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(hS(t,this.gR,this.nI(),this.jw,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ve)},n}(HT),dS=function(t){function i(n,i,e){return t.call(this,os,n,i,e,pf.Vf)||this}S(i,t);var e=i.prototype;return e.JE=function(t){return t.clearkey||{}},e.rI=function(i,e,r,s){var u,o;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.QE,!this.nI()){e.next=5;break}return e.abrupt("return",t.prototype.rI.call(this,i,this.KE,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",So(JSON.stringify(o)).buffer);case 10:throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,Ve)},e.gI=function(t,n){return Ve.resolve(new y(0))},e.mI=function(n,i){return t.prototype.lI.call(this,n,Jw.pd,i)},i}(NA),wS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(BA),_S={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function gS(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=ES(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",Ve.resolve(n));case 5:return u.next=8,Rr.awrap(iu(Ve.resolve(r.call(t,e)),i));case 8:if(!Mo(s=u.sent)){u.next=11;break}return u.abrupt("return",Uo(s));case 11:return u.abrupt("return",SS(Nr({},_S,s)));case 12:case"end":return u.stop()}},null,null,null,Ve)}function mS(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=t.onCertificateResponse,u=TS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ve.resolve(n));case 5:return a.next=8,Rr.awrap(iu(Ve.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,Ve)}function yS(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(bS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",SS(r));case 6:case"end":return s.stop()}},null,null,null,Ve)}function kS(t,n,i,e,r,s){var u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return u=AS(i,r),a.next=3,Rr.awrap(pS(t,new y(n),u,e,s));case 3:return o=a.sent,a.abrupt("return",Uo(o).buffer);case 5:case"end":return a.stop()}},null,null,null,Ve)}function bS(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=AS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",Ve.resolve(s));case 5:return o.next=8,Rr.awrap(iu(Ve.resolve(r.call(t,s)),e));case 8:if(!Mo(u=o.sent)){o.next=11;break}return o.abrupt("return",Uo(u).buffer);case 11:return o.abrupt("return",Nr({fairplaySkdUrl:void 0},_S,u));case 12:case"end":return o.stop()}},null,null,null,Ve)}function pS(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=TS(n,i,e),s&&"function"==typeof s){a.next=5;break}return a.abrupt("return",Ve.resolve(n));case 5:return a.next=8,Rr.awrap(iu(Ve.resolve(s.call(t,u)),r));case 8:return o=a.sent,a.abrupt("return",Uo(o));case 10:case"end":return a.stop()}},null,null,null,Ve)}function AS(t,n){return Nr({},ES(t),{fairplaySkdUrl:n})}function TS(t,n,i){return{url:i.ud,status:i.Kl,statusText:i.td,headers:i.Jl.qf(),body:t,request:n}}function SS(t){return new n_({od:t.url,Id:t.method,Jl:t.headers,Fl:t.body,Cd:t.useCredentials})}function ES(t){var n;return{url:t.od,body:null!=(n=IS(t.Fl))?n:null,headers:t.Jl.qf(),method:t.Id,useCredentials:t.Cd}}function IS(t){if(t)return"string"==typeof t?Co(t):t instanceof ArrayBuffer?new y(t):Ou(t)?Lo(t):void 0}var RS,NS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).mR=void 0,s.mR=r,s}S(i,t);var e=i.prototype;return e.gI=function(t,n){return Ve.resolve(t)},e.mI=function(t,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Rr.awrap(this.GI(Fo(t).buffer));case 2:return e=a.sent,r=this.sI(e,pf.Vf,Jw.bd,i),a.next=6,Rr.awrap(yS(this.mR,r,void 0,i));case 6:if(!((s=a.sent)instanceof ArrayBuffer)){a.next=10;break}return a.abrupt("return",new y(s));case 10:if(""!==s.od){a.next=12;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return a.prev=12,a.next=15,Rr.awrap(this.jw.rd(s));case 15:return u=a.sent,a.next=18,Rr.awrap(u.Ml(i));case 18:return o=a.sent,a.t0=y,a.next=22,Rr.awrap(kS(this.mR,o,r,u,void 0,i));case 22:return a.t1=a.sent,a.abrupt("return",new a.t0(a.t1));case 26:throw a.prev=26,a.t2=a.catch(12),tu(a.t2),new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",a.t2);case 30:case"end":return a.stop()}},null,this,[[12,26]],Ve)},i}(NT),DS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,pf.Vf)||this).mR=void 0,s.mR=r,s}S(i,t);var e=i.prototype;return e.gI=function(t,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.wI){a.next=2;break}return a.abrupt("return",this.wI);case 2:return e=this.sI(t,pf.Vf,Jw.kd,i),a.next=5,Rr.awrap(gS(this.mR,e,i));case 5:if(!((r=a.sent)instanceof y)){a.next=9;break}return a.abrupt("return",r);case 9:if(""!==r.od){a.next=11;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return a.prev=11,a.next=14,Rr.awrap(this.jw.rd(r));case 14:return s=a.sent,a.next=17,Rr.awrap(s.Ml(i));case 17:u=a.sent,a.next=24;break;case 20:throw a.prev=20,a.t0=a.catch(11),tu(a.t0),new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",a.t0);case 24:return o=AS(e,void 0),a.next=27,Rr.awrap(mS(this.mR,new y(u),o,s,i));case 27:return a.abrupt("return",a.sent);case 28:case"end":return a.stop()}},null,this,[[11,20]],Ve)},e.mI=function(t,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sI(t,pf.Vf,Jw.yd,i),o.next=3,Rr.awrap(yS(this.mR,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.od){o.next=9;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Rr.awrap(this.jw.rd(r));case 12:return s=o.sent,o.next=15,Rr.awrap(s.Ml(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),tu(o.t0),new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Rr.awrap(kS(this.mR,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],Ve)},i}(wS),CS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,pf.Vf)||this).mR=void 0,u.yR=void 0,u.mR=s,u}S(i,t);var e=i.prototype;return e.gI=function(t,i){var e,r,s,u,o;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.wI){t.next=2;break}return t.abrupt("return",this.wI);case 2:return e=this.fR(i),t.next=5,Rr.awrap(gS(this.mR,e,i));case 5:if(r=t.sent,!Ou(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Rr.awrap(this.jw.rd(r));case 11:return s=t.sent,t.next=14,Rr.awrap(s.Ml());case 14:return u=t.sent,o=AS(e,void 0),t.next=18,Rr.awrap(mS(this.mR,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),tu(t.t0),new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],Ve)},e.mI=function(t,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.sI(t,pf.Vf,Jw._d,i),o.next=3,Rr.awrap(yS(this.mR,e,this.yR,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.od){o.next=9;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Rr.awrap(this.jw.rd(r));case 12:return s=o.sent,o.next=15,Rr.awrap(s.Ml(i));case 15:return u=o.sent,o.t0=y,o.next=19,Rr.awrap(kS(this.mR,u,e,s,this.yR,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),tu(o.t2),new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],Ve)},e.aR=function(n){var i;return this.yR=n,null!=(i=this.mR)&&i.extractFairplayContentId?Ve.resolve(this.mR.extractFairplayContentId(n)):t.prototype.aR.call(this,n)},i}(HT),PS=function(){function t(){}var n=t.prototype;return n.kR=function(t,n,i,e){switch(t.Kc.us){case Hr.Kr:return this.bR(n,i,e);case Hr.Zr:return this.pR(n,i,e);case Hr.$r:return this.AR(t,n,i,e);case Hr.Jr:default:return this.SR(n,i,e)}},n.bR=function(t,n,i){var e,r=(e=t).integration===RA&&G(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&FA.xI.CI(r,Zr)){var s=FA.xI.OI(r,Zr,t);return new DS(t,n,i,s)}switch(r){case lA:return new lT(t,n,i);case gA:return new dT(t,n,i);case _A:return new _T(t,n,i);case dA:return new yT(t,n,i);case kA:return new AT(t,n,i);case pA:return new TT(t,n,i);case AA:return new ET(t,n,i);case SA:return new IT(t,n,i);case yA:default:return new wS(t,n,i,pf.Vf)}},n.pR=function(t,n,i){var e=t.integration;if(e&&FA.xI.CI(e,jr)){var r=FA.xI.OI(e,jr,t);return new NS(t,n,i,r)}switch(e){case lA:return new CT(t,n,i);case gA:return new OT(t,n,i);case _A:return new xT(t,n,i);case dA:return new LT(t,n,i);case kA:return new MT(t,n,i);case AA:return new XT(t,n,i);case SA:return new FT(t,n,i);case yA:default:return new NT(t,n,i)}},n.AR=function(t,n,i,e){var r=n.integration;if(r&&FA.xI.CI(r,ts)){var s=FA.xI.OI(r,ts,n);return new CS(t,n,i,e,s)}switch(r){case wA:return new zT(t,n,i,e);case gA:return new VT(t,n,i,e);case mA:return new qT(t,n,i,e);case lA:return new jT(t,n,i,e);case _A:return new YT(t,n,i,e);case dA:return new QT(t,n,i,e);case yA:return new ZT(t,n,i,e);case kA:return new KT(t,n,i,e);case bA:return new JT(t,n,i,e);case pA:return new $T(t,n,i,e);case AA:return new tS(t,n,i,e);case TA:return new nS(t,n,i,e);case SA:return new iS(t,n,i,e);case EA:return new eS(t,n,i,e);case IA:return new lS(t,n,i,e);default:return new HT(t,n,i,e,pf.Kn)}},n.SR=function(t,n,i){return new dS(t,n,i)},n.ER=function(t){return t.us===Hr.Zr||t.us===Hr.Kr||t.us===Hr.$r||t.us===Hr.Jr},n.fh=function(t,n){var i;if(t.us!==Hr.Zr)return!1;if(X(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!FA.xI.CI(e,ts))&&(e===lA&&new DT(n).fh)},n.XI=function(t,n){if(t.us===Hr.Kr){var i=n.integration;if(!i||!FA.xI.CI(i,ts))return i===lA?lT.XI():void 0}},t}();!function(t){t[t.IR=0]="IR",t[t.RR=1]="RR",t[t.NR=2]="NR",t[t.DR=3]="DR",t[t.PR=4]="PR",t[t.Ng=5]="Ng",t[t.OR=6]="OR",t[t.xR=7]="xR",t[t.xg=8]="xg",t[t.LR=9]="LR",t[t.MR=10]="MR"}(RS||(RS={}));var BS=function(){function t(){}return t.prototype.UR=function(t){},A(t,[{key:"XR",get:function(){return 0}},{key:"FR",get:function(){return 0}}]),t}(),OS=function(){function t(t,n){void 0===n&&(n=new PS),this.bE=void 0,this.HR=void 0,this.qI=void 0,this.bE=t,this.HR=n}var n=t.prototype;return n.zR=function(t){this.qI=t},n.XI=function(t){var n=this.qI;if(void 0!==n)return this.HR.XI(t,n)},n.fh=function(t){var n=this.qI;return void 0!==n&&this.HR.fh(t,n)},n.WR=function(t){var n={Kc:t.Kc,GR:t.GR||[],rR:t.rR},i=this.HR.kR(n,this.qI||{},t.YE,this.bE);return new xS(i)},t}(),xS=function(){function t(t){this.qR=void 0,this.qR=t}var n=t.prototype;return n.iI=function(t){return this.qR.iI(t)},n.eI=function(t,n,i){return this.qR.eI(n,i)},n._I=function(){return this.qR._I||void 0!==this.qR.wI},n.gI=function(t,n){return this.qR.gI(t,n)},n.mI=function(t,n,i){return n&&this.qR.tI(n),this.qR.mI(t,i)},n.Bs=function(){this.qR.Od()},t}(),LS=function(t){function n(n){var i;(i=t.call(this)||this).jR=[],i.YR=function(t){i.S_(t.n_)},i.QR=function(t){var n=t.n_;i.ZR(n)||i.E_(n)};for(var e=0;e<n.length;e++){var r=n[e];i.KR(r)}return i}S(n,t);var i=n.prototype;return i.KR=function(t){this.jR.push(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.S_(e)}this.JR(t)},i.$R=function(t){Ms(this.jR,t),this.tN(t);for(var n=0,i=t.N_;n<i.length;n++){var e=i[n];this.ZR(e)||this.E_(e)}},i.ZR=function(t){for(var n=0,i=this.jR;n<i.length;n++){if(i[n].I_(t))return!0}return!1},i.JR=function(t){t.Ys(Vg.Yw,this.YR),t.Ys(Vg.Zw,this.QR)},i.tN=function(t){t.Js(Vg.Yw,this.YR),t.Js(Vg.Zw,this.QR)},i.Od=function(){for(;this.jR.length>0;)this.$R(this.jR[0]);t.prototype.Od.call(this)},i.t_=function(){return Dm(this)},n}(tm);function MS(t){return{get enabled(){return t.X_},set enabled(n){t.X_=fm(n)},get currentLatency(){return t.mm},get streamConfiguration(){if(void 0!==t.nN)return function(t){return{get minimumOffset(){return t.cm},get maximumOffset(){return t.fm},get targetOffset(){return t.hm},get forceSeekOffset(){return t.vm},get minimumPlaybackRate(){return t.lm},get maximumPlaybackRate(){return t.dm}}}(t.nN)},get configuration(){return function(t){return{get minimumOffset(){return t.cm},set minimumOffset(n){t.cm=vm(n)},get maximumOffset(){return t.fm},set maximumOffset(n){t.fm=vm(n)},get targetOffset(){return t.hm},set targetOffset(n){t.hm=vm(n)},get forceSeekOffset(){return t.vm},set forceSeekOffset(n){t.vm=vm(n)},get minimumPlaybackRate(){return t.lm},set minimumPlaybackRate(n){t.lm=vm(n)},get maximumPlaybackRate(){return t.dm},set maximumPlaybackRate(n){t.dm=vm(n)},update:function(n){t.Wc(function(t){var n={};void 0!==t.minimumOffset&&(n.cm=vm(t.minimumOffset));void 0!==t.maximumOffset&&(n.fm=vm(t.maximumOffset));void 0!==t.targetOffset&&(n.hm=vm(t.targetOffset));void 0!==t.forceSeekOffset&&(n.vm=vm(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.lm=vm(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.dm=vm(t.maximumPlaybackRate));return n}(n))}}}(t.Jc)}}}var US,XS=function(){function t(){this.Jw=void 0,this.iN=void 0,this.iN={vm:0,fm:0,dm:0,cm:0,lm:0,hm:0,Wc:Z}}return A(t,[{key:"$w",get:function(){return null!=this.Jw||(this.Jw=MS(this)),this.Jw}},{key:"X_",get:function(){return!1},set:function(t){}},{key:"mm",get:function(){}},{key:"nN",get:function(){}},{key:"Jc",get:function(){return this.iN}}]),t}();function FS(){return US||(US=ve&&ve.document&&ve.document.createElement("video")),US}var HS=function(t){function i(i,e,r,s,u,o,a){var c;return void 0===o&&(o=new PS),void 0===a&&(a=wf()),(c=t.call(this)||this).eN=void 0,c.rN=void 0,c.sN=void 0,c.Nm=void 0,c.Dm=void 0,c.Cm=void 0,c.uN=void 0,c.oN=void 0,c.aN=void 0,c.cN=void 0,c.hN=void 0,c.bE=void 0,c._s=void 0,c.fN=void 0,c.vN=void 0,c.lN=new BS,c.dN=new XS,c.wN=function(t){var i=t.wu,e=i.code,r=new tf(function(t){switch(t){case Wy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Wy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Wy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Wy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Wy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Wy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Wy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),s=new Yy(e,r.message,i.message);c._N(r,s)},c.gN=function(){c.js(new _y(c.jg,c.wy))},c.mN=function(t){c.Jg||(c.vN=void 0),c.js(t)},c.yN=function(t){c.vN=void 0,c.js(t)},c.kN=function(){c.js(new _k(c.gy))},c.bN=function(){c.im>0&&c.nm>0&&c.js(new Jp)},c.pN=function(t){c.Nm.S_(new hk(t.track))},c.AN=function(t){var n=VS(c.Nm,t.track);n&&c.Nm.E_(n)},c.TN=function(){c.SN(c.Nm)},c.EN=function(t){c.Dm.S_(new wk(t.track))},c.IN=function(t){var n=VS(c.Dm,t.track);n&&c.Dm.E_(n)},c.RN=function(){c.SN(c.Dm)},c.NN=function(t){c.js(t),c._N(t.errorObject,Zy(t.errorObject))},c.eN=e,c.bE=r,c._s=a,c.rN=c.eN.DN(Ky.Sd),c.aN=c.rN.CN.preload,c.cN=new fA(c.rN,!0),c.cN.Ys(vy,c.qs),c.fN=new OS(r,o),c.rN.PN=c.fN,c.BN(),c.Nm=new Jy,c.Dm=new Jy,c.ON(),c.hN=new Gp(c.rN,c.bE),c.Cm=new LS([c.rN.Mm]),c.Zm(),c}S(i,t);var e=i.prototype;return e.Km=function(){this.rN.Km()},e.Zm=function(){this.rN.Zm()},e.Vm=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return $s(i),e={us:Kp.NE,hg:t.src,Xl:t.type,xN:this.LN(t),Ry:this.aN,MN:t.crossOrigin,UN:n.metadata&&n.metadata.title},this.fN.zR(t.contentProtection),r.next=5,Rr.awrap(this.rN.zc(e));case 5:this.sN=r.sent,$s(i),n.textTracks&&this.XN(n.textTracks),Zp(this.Mm);case 9:case"end":return r.stop()}},null,this,null,Ve)},e.XN=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.rN.FN()&&L.un&&uA&&!Lp(i.kind,i.label)&&this.HN(i)){var e,r=null!=(e=i.kind)?e:Ap.eA;this.rN.zN(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.hN.AE(i)}}},e.HN=function(t){return!t.format||"webvtt"===t.format},e.Xm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.awrap(this.rN.Xm());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.VN){t.next=12;break}return t.next=10,Rr.awrap(this.rN.uu(bf.Ef));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],Ve)},e.Fm=function(){this.rN.Fm()},e.Wm=function(){return void 0!==this.rN.CN.webkitShowPlaybackTargetPicker},e.Gm=function(){this.rN.CN.webkitShowPlaybackTargetPicker&&this.rN.CN.webkitShowPlaybackTargetPicker()},e.qm=function(){this.rN.CN.webkitShowPlaybackTargetPicker&&this.rN.CN.webkitShowPlaybackTargetPicker()},e.Jm=function(){return this.rN.CN},e.$m=function(){return this.rN.WN},e.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uN=void 0,this.oN=void 0,this.sN=void 0,t.next=5,Rr.awrap(this.hN.R_());case 5:return this.rN.GN(),t.next=8,Rr.awrap(this.rN.R_());case 8:this.cN.R_(),this.Ry=this.aN,this.xm.R_(),this.Lm.R_(),this.vN=void 0;case 13:case"end":return t.stop()}},null,this,null,Ve)},e.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.R_());case 2:return this.Ks(),this.qN(),this.jN(),this.cN.Od(),this.rN.PN=void 0,t.next=9,Rr.awrap(this.eN.YN(this.rN));case 9:return this.Nm.Od(),this.Dm.Od(),this.Cm.Od(),t.next=14,Rr.awrap(this.hN.Od());case 14:case"end":return t.stop()}},null,this,null,Ve)},e.BN=function(){this.rN.Ys(bf.Sf,this.qs),this.rN.Ys(bf.Tf,this.qs),this.rN.Ys(bf.Uf,this.gN),this.rN.Ys(bf.Ef,this.qs),this.rN.Ys(bf.yf,this.qs),this.rN.Ys(bf.Cf,this.qs),this.rN.Ys(bf.Df,this.mN),this.rN.Ys(bf._f,this.qs),this.rN.Ys(bf.If,this.qs),this.rN.Ys(bf.Xf,this.qs),this.rN.Ys(bf.df,this.qs),this.rN.Ys(bf.Nf,this.bN),this.rN.Ys(uy.qg,this.yN),this.rN.Ys(Tm.Z_,this.wN),this.rN.Ys(bf.hf,this.qs),this.rN.Ys(bf.cf,this.NN),this.rN.CN.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.kN)},e.qN=function(){this.rN.Js(bf.Sf,this.qs),this.rN.Js(bf.Tf,this.qs),this.rN.Js(bf.Uf,this.gN),this.rN.Js(bf.Ef,this.qs),this.rN.Js(bf.yf,this.qs),this.rN.Js(bf.Cf,this.qs),this.rN.Js(bf.Df,this.mN),this.rN.Js(bf._f,this.qs),this.rN.Js(bf.If,this.qs),this.rN.Js(bf.Xf,this.qs),this.rN.Js(bf.df,this.qs),this.rN.Js(bf.Nf,this.bN),this.rN.Js(uy.qg,this.yN),this.rN.Js(Tm.Z_,this.wN),this.rN.Js(bf.hf,this.qs),this.rN.Js(bf.cf,this.NN),this.rN.CN.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.kN)},e.LN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ss,QN:[{initDataTypes:[ss.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.ON=function(){var t=this.rN.CN.audioTracks,n=this.rN.CN.videoTracks;t&&(t.addEventListener("addtrack",this.pN),t.addEventListener("removetrack",this.AN),t.addEventListener("change",this.TN)),n&&(n.addEventListener("addtrack",this.EN),n.addEventListener("removetrack",this.IN),n.addEventListener("change",this.RN))},e.jN=function(){var t=this.rN.CN.audioTracks,n=this.rN.CN.videoTracks;t&&(t.removeEventListener("addtrack",this.pN),t.removeEventListener("removetrack",this.AN),t.removeEventListener("change",this.TN)),n&&(n.removeEventListener("addtrack",this.EN),n.removeEventListener("removetrack",this.IN),n.removeEventListener("change",this.RN))},e.SN=function(t){for(var n=0;n<t.D_;n++){t.T_(n).Xy()}},e.vy=function(){this.rN.vy()},e._N=function(t,n){this.uN||(this.uN=n,this.oN=t,this.js(new Sy(t)))},A(i,[{key:"VN",get:function(){var t=this.rN.ly,n=this.jg;return t.ZN(n,.01)}},{key:"xm",get:function(){return this.Nm}},{key:"ly",get:function(){return this.rN.ly.KN()}},{key:"wy",get:function(){return this.rN.wy},set:function(t){t&&this.rN.JN(t)}},{key:"jg",get:function(){return void 0!==this.vN?this.vN:this.rN.jg},set:function(t){this.gy&&(this.vN=t),this.rN.Bu(t)}},{key:"Yg",get:function(){return this.rN.Yg}},{key:"Qg",get:function(){return this.rN.Qg}},{key:"wu",get:function(){return this.uN}},{key:"Zg",get:function(){return this.oN}},{key:"Um",get:function(){}},{key:"gy",get:function(){return this.rN.gy}},{key:"Am",get:function(){return Nr({},{yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.rN.$N())}},{key:"Kg",get:function(){return this.rN.Kg},set:function(t){this.rN.Kg=t}},{key:"Ey",get:function(){return!0}},{key:"Jg",get:function(){return this.rN.Jg}},{key:"$g",get:function(){return this.rN.$g},set:function(t){this.rN.$g=t}},{key:"Iy",get:function(){return this.rN.CN.played}},{key:"Ry",get:function(){return this.aN},set:function(t){this.aN=t,this.sN&&(this.sN.Ry=t)}},{key:"og",get:function(){return this.rN.og}},{key:"Ny",get:function(){return this.rN.Ny.KN()}},{key:"tm",get:function(){return this.rN.tm}},{key:"tD",get:function(){return this.rN.tD}},{key:"Mm",get:function(){return this.Cm}},{key:"Lm",get:function(){return this.Dm}},{key:"nm",get:function(){return this.rN.nm}},{key:"im",get:function(){return this.rN.im}},{key:"um",get:function(){return this.rN.um},set:function(t){this.rN.um=t}},{key:"Dy",get:function(){return this.dN}},{key:"Cy",get:function(){return this.rN.Cy},set:function(t){this.rN.Cy=t}},{key:"nD",get:function(){return this.lN}}]),i}(Bm);var zS=function(){function t(){this.iD=RS.MR}var n=t.prototype;return n.II=function(t,n,i,e,r,s){return new HS(t,n,i,e,r)},n.eD=function(t,n){return function(t){return!t.type||!(!FS().canPlayType||!FS().canPlayType(t.type))}(t)},n.rD=function(){return!1},t}();function VS(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.zy===n)return r}}var WS=function(){function t(){this.sD=new zS,this.uD=[]}t.oD=function(){return this.Gn};var n=t.prototype;return n.aD=function(t){this.uD.push(t)},n.II=function(t,n,i,e,r,s){for(var u=this.sD.II(t,n,i,e,r,s),o=0,a=this.uD;o<a.length;o++){u=(0,a[o])(u,i,e)}return u},n.eD=function(t,n){return this.sD.eD(t,n)},n.rD=function(){return!1},A(t,[{key:"iD",get:function(){return this.sD.iD}}]),t}();function GS(t,n){return Ds(t.iD,n.iD)}function qS(t){jS.Gn.cD(t)}WS.Gn=new WS;var jS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).hD=WS.oD(),n}S(n,t);var i=n.prototype;return i.fD=function(t){this.hD=t},i.vD=function(){return this.hD},i.lD=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=0;case 1:if(!(i<t.length)){a.next=11;break}return e=t[i],a.next=5,Rr.awrap(this.dD(e,n));case 5:if(!(r=a.sent)){a.next=8;break}return a.abrupt("return",{wD:e,_D:r});case 8:i++,a.next=1;break;case 11:s=this.hD,u=0;case 13:if(!(u<t.length)){a.next=20;break}if(o=t[u],!s.eD(o,n)){a.next=17;break}return a.abrupt("return",{wD:o,_D:s});case 17:u++,a.next=13;break;case 20:return a.abrupt("return",{wD:t[0],_D:s});case 21:case"end":return a.stop()}},null,this,null,Ve)},n}(function(){function t(){this.gD=[]}var n=t.prototype;return n.cD=function(t){this.gD.push(t),this.gD.sort(GS)},n.dD=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.gD;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!j(s=r.eD(t,n))){u.next=10;break}return u.next=7,Rr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,Ve)},t}());jS.Gn=new jS;var YS,QS=function(){function t(t){this.mD=void 0,this.mD=ve&&ve.document&&ve.document.createElement("div"),ir(this.mD),t.appendChild(this.mD)}return t.prototype.Od=function(){Je(this.mD)},t}();function ZS(t){switch(t){case YS.yD:case"":return YS.yD;case YS.sA:return YS.sA;case YS.kD:default:return YS.kD}}!function(t){t.MR="",t.kD="none",t.sA="metadata",t.yD="auto"}(YS||(YS={}));var KS=[Tm.Z_,bf.wf,bf._u,bf.zf,bf.ef,bf.gf,bf.pf,bf.Af,bf.Bf,bf.xf,uy.Hg,uy.zg,uy.Vg,uy.Wg,uy.d_,uy.Gg,uy.qg,bf.cf,bf.hf,bf.df,bf._f,bf.yf,bf.kf,bf.Sf,bf.Ef,bf.Tf,bf.If,bf.Nf,bf.Cf,bf.Df,bf.Uf,bf.Xf,bf.Rf,bf.bf,bf.Pf],JS=function(t){function n(n,i){var e;return(e=t.call(this)||this).bD=void 0,e.pD=void 0,e.TD=void 0,e.SD=void 0,e.aN=YS.kD,e.ED=void 0,e.RD=!0,e.Nm=new Sm,e.Dm=new Sm,e.Cm=new Pm,e.Pm=new Gy,e.bD=n,e.TD=i,e.TD.Ry=e.Ry,e.ND(),e}S(n,t);var i=n.prototype;return i.Fm=function(){this.TD.Fm()},i.Xm=function(){var t=this.TD.Xm();j(t)&&ou(t)},i.Hm=function(){return this.Vm(void 0)},i.jm=function(){},i.ey=function(t){return!1},i.ND=function(){this.Nm.L_=this.TD.xm,this.Dm.L_=this.TD.Lm,this.Cm.L_=this.TD.Mm,this.Pm.L_=this.TD.Um,this.TD.Ys(KS,this.qs)},i.DD=function(){this.TD.Js(KS,this.qs),this.Nm.L_=void 0,this.Dm.L_=void 0,this.Cm.L_=void 0,this.Pm.L_=void 0},i.zm=function(){return this.ED},i.Vm=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if($s(n),this.ED=t,t){a.next=4;break}return a.abrupt("return");case 4:if(!ty(i=t.sources.filter(sy))){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,Rr.awrap(this.bD.lD(i,t));case 9:if(e=a.sent,$s(n),r=e.wD,s=e._D,u=this.$m(),o=Ry(this),this.pD===s&&!this.wu){a.next=25;break}return this.DD(),a.next=19,Rr.awrap(this.TD.Od());case 19:$s(n),this.pD=s,this.TD=this.CD(s),$S(this.TD,o),Ny(this,o,this),this.ND();case 25:return this.TD.Ry=this.Ry,this.RD?this.TD.Zm():this.TD.Km(),a.next=29,Rr.awrap(this.TD.Vm(r,t,n));case 29:$s(n),this.PD(r),this.$m()!==u&&this.js(new xm);case 32:case"end":return a.stop()}},null,this,null,Ve)},i.PD=function(t){this.SD!==t&&(this.SD=t,this.js(new Lm(t)))},i.Wm=function(){return this.TD.Wm()},i.Gm=function(){this.TD.Gm()},i.qm=function(){this.TD.qm()},i.$m=function(){return this.TD.$m()},i.vy=function(){this.TD.vy()},i.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ED=void 0,this.PD(void 0),t.next=4,Rr.awrap(this.TD.R_());case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.R_());case 3:return t.next=5,Rr.awrap(this.TD.Od());case 5:this.Nm.Od(),this.Dm.Od(),this.Cm.Od(),this.Pm.Od();case 9:case"end":return t.stop()}},null,this,null,Ve)},i.Zm=function(){this.RD=!0,this.TD.Zm()},i.Km=function(){this.RD=!1,this.TD.Km()},A(n,[{key:"xm",get:function(){return this.Nm}},{key:"ly",get:function(){return this.TD.ly}},{key:"wu",get:function(){return this.TD.wu}},{key:"Zg",get:function(){return this.TD.Zg}},{key:"wy",get:function(){return this.TD.wy},set:function(t){this.TD.wy=t}},{key:"oy",get:function(){return this.SD}},{key:"jg",get:function(){return this.TD.jg},set:function(t){this.TD.jg=t}},{key:"Yg",get:function(){return this.TD.Yg}},{key:"Qg",get:function(){return this.TD.Qg}},{key:"Um",get:function(){return this.Pm}},{key:"gy",get:function(){return this.TD.gy}},{key:"Am",get:function(){return this.TD.Am}},{key:"Kg",get:function(){return this.TD.Kg},set:function(t){this.TD.Kg=t}},{key:"Ey",get:function(){return this.TD.Ey}},{key:"Jg",get:function(){return this.TD.Jg}},{key:"$g",get:function(){return this.TD.$g},set:function(t){this.TD.$g=t}},{key:"Iy",get:function(){return this.TD.Iy}},{key:"Ry",get:function(){return this.aN},set:function(t){this.aN=t,this.TD&&(this.TD.Ry=this.aN)}},{key:"og",get:function(){return this.TD.og}},{key:"Ny",get:function(){return this.TD.Ny}},{key:"tm",get:function(){return this.TD.tm}},{key:"Mm",get:function(){return this.Cm}},{key:"nm",get:function(){return this.TD.nm}},{key:"Lm",get:function(){return this.Dm}},{key:"im",get:function(){return this.TD.im}},{key:"um",get:function(){return this.TD.um},set:function(t){this.TD.um=t}},{key:"Dy",get:function(){return this.TD.Dy}},{key:"nD",get:function(){return this.TD.nD}}]),n}(lu);function $S(t,n){t.Kg!==n.Kg&&(t.Kg=n.Kg),t.um!==n.um&&(t.um=n.um),t.$g!==n.$g&&(t.$g=n.$g)}var tE,nE=function(t){function n(n,i){var e;return(e=t.call(this)||this).D_=void 0,e.BD=void 0,e.OD=void 0,e.D_=n.length>>1,e.BD=n,e.OD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.D_),e}S(n,t);var i=n.prototype;return i.xD=function(t){return this.BD[2*t]},i.LD=function(t){return this.OD[2*t]},i.MD=function(t){return this.BD[2*t+1]},i.UD=function(t){return this.OD[2*t+1]},A(n,[{key:"XD",get:function(){return this.BD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Ak=function(t,n){return 0===this.Lk(t,n)},n._b=function(t,n){return this.Lk(t,n)>0},n.gb=function(t,n){return this.Lk(t,n)>=0},n.Hk=function(t,n){return this.Lk(t,n)<0},n.Xk=function(t,n){return this.Lk(t,n)<=0},n.Lb=function(t,n){return this.Hk(t,n)?t:n},n.xb=function(t,n){return this._b(t,n)?t:n},n.FD=function(t,n,i){return i?this.Xk(t,n):this.Hk(t,n)},n.KN=function(){var t=this;return{get length(){return t.D_},start:function(n){var i=0|n;return t.HD(i),t.zD(t.xD(i))},end:function(n){var i=0|n;return t.HD(i),t.zD(t.MD(i))}}},n.VD=function(){for(var t=new Array(2*this.D_),n=new Array(2*this.D_),i=0;i<this.D_;i++)t[2*i]=this.xD(i),t[2*i+1]=this.MD(i),n[2*i]=!0,n[2*i+1]=!0;return this.WD(t,n)},n.HD=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.D_)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.D_+")")},n.GD=function(t){if(0===this.D_)return this.qD();if(this.ZN(t))return t;if(this.Xk(t,this.xD(0)))return this.xD(0);if(this.gb(t,this.MD(this.D_-1)))return this.MD(this.D_-1);for(var n,i=this.jD(),e=0;e<this.D_;e++){var r=this.xD(e),s=this.Fk(r,t);this.Hk(s,i)&&(n=r,i=s);var u=this.MD(e),o=this.Fk(this.MD(e),t);this.Hk(o,i)&&(n=u,i=o)}return n},n.YD=function(t){for(var n=0,i=0,e=[],r=[];n<this.D_&&i<t.D_;){var s=this.xD(n),u=this.MD(n),o=this.LD(n),a=this.UD(n),c=t.xD(i),h=t.MD(i),f=t.LD(i),v=t.UD(i),l=this.xb(s,c),d=this.Lb(u,h),w=void 0;w=this.Ak(s,c)?o&&f:this.Ak(l,s)?o:f;var _=void 0;_=this.Ak(u,h)?a&&v:this.Ak(d,u)?a:v,(this.Hk(l,d)||w&&_&&this.Ak(l,d))&&(e.push(l,d),r.push(w,_));var g=this.Lk(this.MD(n),t.MD(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.WD(e,r)},n.QD=function(){var t=this.ZD(),n=t.D_;if(0===n)return this.WD([t.KD(),t.jD()],[!1,!1]);var i=[],e=[],r=t.xD(0);t.Ak(r,t.KD())||(i.push(t.KD(),r),e.push(!1,!t.LD(0)));for(var s=0;s<n-1;s++)i.push(t.MD(s),t.xD(s+1)),e.push(!t.UD(s),!t.LD(s+1));var u=t.MD(n-1);return t.Ak(u,t.jD())||(i.push(u,t.jD()),e.push(!t.UD(n-1),!1)),t.WD(i,e)},n.JD=function(t){for(var n=0,i=0,e=this.D_,r=t.D_,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var a=this.xD(n),c=this.MD(n),h=t.xD(i),f=t.MD(i);this.Hk(a,h)||this.Ak(a,h)&&this.Hk(c,f)?(s[o]=a,s[o+1]=c,u[o]=this.LD(n),u[o+1]=this.UD(n),n++):(s[o]=h,s[o+1]=f,u[o]=t.LD(i),u[o+1]=t.UD(i),i++),o+=2}for(;n<e;)s[o]=this.xD(n),s[o+1]=this.MD(n),u[o]=this.LD(n),u[o+1]=this.UD(n),n++,o+=2;for(;i<r;)s[o]=t.xD(i),s[o+1]=t.MD(i),u[o]=t.LD(i),u[o+1]=t.UD(i),i++,o+=2;return this.WD(s,u)},n.$D=function(t){void 0===t&&(t=this.qD());var n=this.D_;if(n<2)return this;for(var i=[],e=[],r=this.xD(0),s=this.MD(0),u=this.LD(0),o=this.UD(0),a=1;a<n;a++){var c=this.xD(a),h=this.MD(a),f=this.LD(a),v=this.UD(a);this.Hk(r,c)&&this._b(s,h)||(this.Ak(r,c)&&(u=f=u||f),this.Ak(s,h)&&(o=v=o||v),this.FD(c,this.By(s,t),o||f)?(s=h,o=v):(i.push(r,s),e.push(u,o),r=c,s=h,u=f,o=v))}return i.push(r,s),e.push(u,o),this.WD(i,e).ZD()},n.ZD=function(){for(var t=[],n=[],i=0;i<this.D_;i++){var e=this.xD(i),r=this.MD(i),s=this.LD(i),u=this.UD(i);this.Ak(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.WD(t,n)},n.tC=function(t){return this.D_?t.D_?this.JD(t).$D():this:t},n.nC=function(t){var n=this.ZD(),i=t.ZD(),e=n.QD(),r=i.QD(),s=e.YD(i),u=r.YD(n);return s.tC(u)},n.Cu=function(t){if(this.Ak(t,this.qD()))return this;for(var n=[],i=[],e=0;e<this.D_;e++){var r=this.By(this.xD(e),t),s=this.By(this.MD(e),t);n.push(r,s),i.push(this.LD(e),this.UD(e))}return this.WD(n,i)},n.iC=function(t){return 0===this.D_||0===t.D_?this:this.ZD().YD(t.ZD().QD())},n.ZN=function(t,n){return this.eC(t,n)>=0},n.rC=function(t,n,i,e,r){return this.sC(t,n,i,e,r)>=0},n.uC=function(t,n,i,e,r){return this.oC(t,n,i,e,r)>=0},n.aC=function(t){if(t.D_!==this.D_)return!1;for(var n=0;n<this.D_;n++)if(!this.Ak(this.xD(n),t.xD(n))||!this.Ak(this.MD(n),t.MD(n))||this.LD(n)!==t.LD(n)||this.UD(n)!==t.UD(n))return!1;return!0},n.cC=function(t){for(var n=[],i=[],e=0;e<this.D_;e++){var r=this.xD(e),s=this.MD(e),u=this.LD(e),o=this.UD(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.WD(n,i)},n.oC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.qD());for(var s=this.Gk(t,r),u=this.By(n,r),o=0;o<this.D_;o+=1)if(this.FD(this.xD(o),u,!e||this.LD(o))&&this.FD(s,this.MD(o),!i||this.UD(o)))return o;return-1},n.sC=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.qD());for(var s=this.By(t,r),u=this.Gk(n,r),o=0;o<this.D_;o+=1)if(this.FD(this.xD(o),s,!i||this.LD(o))&&this.FD(u,this.MD(o),!e||this.UD(o)))return o;return-1},n.eC=function(t,n){return this.sC(t,t,!0,!0,n)},n.hC=function(t,n){void 0===n&&(n=this.qD());for(var i=this.By(t,n),e=this.D_-1;e>=0;e-=1)if(this.FD(this.xD(e),i,this.LD(e)))return e;return-1},n.fC=function(t,n){void 0===n&&(n=this.qD());for(var i=this.Gk(t,n),e=0;e<this.D_;e+=1)if(this.FD(i,this.MD(e),this.UD(e)))return e;return-1},n.vC=function(t){return this.HD(t),this.WD([this.xD(t),this.MD(t)],[this.LD(t),this.UD(t)])},n.lC=function(t,n){var i=this.eC(t,n);return i<0?void 0:this.vC(i)},A(t,[{key:"dC",get:function(){for(var t=this.qD(),n=0;n<this.D_;n++){var i=this.Gk(this.MD(n),this.xD(n));t=this.By(t,i)}return t}}]),t}()),iE=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Lk=function(t,n){return t<n?Ts.Is:t===n?Ts.Ss:Ts.Es},i.By=function(t,n){return t+n},i.Gk=function(t,n){return t-n},i.Fk=function(t,n){return w.abs(t-n)},i.qD=function(){return 0},i.jD=function(){return 1/0},i.KD=function(){return-1/0},n.wC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n._C=function(t){for(var i=[],e=[],r=0;r<t.D_;r++)i.push(t.xD(r).Xb),i.push(t.MD(r).Xb),e.push(t.LD(r)),e.push(t.UD(r));return new n(i,e)},n.gC=function(t){return new n([t,t],[!0,!0])},i.WD=function(t,i){return new n(t,i)},i.zD=function(t){return t},n.mC=function(){return eE},n}(nE),eE=new iE([]);!function(t){t.v_="fullscreenchange",t.yC="fullscreensupportchange",t.Z_="fullscreenerror"}(tE||(tE={}));var rE=function(t){function n(){return t.call(this,tE.Z_)||this}return S(n,t),n}(wu),sE=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.jy=function(){this.js(new rE)},i.Qy=function(){},i.Od=function(){this.Ks()},A(n,[{key:"kC",get:function(){return!1}},{key:"bC",get:function(){return!1}}]),n}(lu)),uE=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eN=void 0,n.rN=void 0,n}S(n,t);var i=n.prototype;return i.Jm=function(){var t;return null==(t=this.rN)?void 0:t.CN},i.Od=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Od.call(this));case 2:if(!this.rN){n.next=6;break}return n.next=5,Rr.awrap(this.eN.YN(this.rN));case 5:this.rN=void 0;case 6:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"pC",set:function(t){this.eN=t,this.rN=t.DN(Ky.Sd)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).AC=0,n.TC=!1,n.SC=!0,n.EC=1,n.IC=!1,n.Ia=1,n.xm=new Jy,n.ly=iE.mC().KN(),n.Yg=NaN,n.Qg=!1,n.wu=void 0,n.Zg=void 0,n.Um=void 0,n.gy=!1,n.Ey=!0,n.Iy=iE.mC().KN(),n.Ry=YS.kD,n.og=Vm.Lg,n.Ny=iE.mC().KN(),n.tD=void 0,n.Mm=new Tp,n.nm=0,n.Lm=new Jy,n.im=0,n.Dy=new XS,n.lN=new BS,n}S(n,t);var i=n.prototype;return i.Zm=function(){},i.Km=function(){},i.Xm=function(){this.SC&&(this.SC=!1,this.js(new cy(this.jg)),this.js(new aA(this.jg)))},i.Fm=function(){this.SC||(this.SC=!0,this.js(new _y(this.jg,this.wy)),this.js(new ay(this.jg)))},i.Vm=function(t,n){return Ve.resolve()},i.Wm=function(){return!1},i.Gm=function(){},i.qm=function(){},i.$m=function(){return sE},i.vy=function(){},i.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.AC=0,this.IC=!1,this.Fm(),this.js(new oy(this.AC));case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ks(),this.xm.Od(),this.Mm.Od(),this.Lm.Od();case 4:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"wy",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.AC=t,this.IC=!0,this.js(new yy(this.jg)))}},{key:"Am",get:function(){return{yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Kg",get:function(){return this.TC},set:function(t){this.TC!==t&&(this.TC=t,this.js(new by(this.jg,this.um)))}},{key:"Jg",get:function(){return this.SC}},{key:"$g",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.EC=t,this.js(new wy(this.jg,this.$g)))}},{key:"tm",get:function(){return this.IC}},{key:"um",get:function(){return this.Ia},set:function(t){this.Ia!==t&&(this.Ia=t,this.js(new by(this.jg,this.um)))}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"nD",get:function(){return this.lN}}]),n}(lu)),oE=function(t){function n(n,i,e,r,s,u){var o,a=new uE;return(o=t.call(this,jS.Gn,a)||this).Rh=void 0,o.RC=void 0,o.NC=void 0,o.DC=void 0,o.bE=void 0,o.BC=void 0,o.OC=void 0,o.NC=n,o.Rh=i,o.bE=e,o.BC=r,o.DC=u,o.RC=new ce(s,o.DC),o.RC.xC(o.NC),a.pC=o.RC,o.OC=new QS(o.NC),o}S(n,t);var i=n.prototype;return i.jm=function(){t.prototype.jm.call(this),this.RC.LC()},i.Ym=function(t){var n,i,e,r;n=this,e=(i=t).um,r=i.Kg,n.um=e,n.Kg=r},i.Qm=function(){},i.CD=function(t){return t.II(this.NC,this.RC,this.bE,this.Rh,this.BC,this.DC)},i.Jm=function(){return this.TD.Jm()},i.iy=function(){return this.RC.MC.map(function(t){return t.CN})},i.Zs=function(n){t.prototype.Zs.call(this,n)},i.nu=function(n){t.prototype.nu.call(this,n)},i.Od=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Od.call(this));case 2:this.RC.Od(),this.OC.Od();case 4:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"_y",get:function(){return this.NC}},{key:"Cy",get:function(){return this.TD.Cy},set:function(t){this.TD.Cy=t}}]),n}(JS),aE=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).NC=void 0,r.UC=void 0,r.XC=void 0,r.FC=void 0,r.HC=void 0,r.dN=new XS,r.NC=n,r.UC=i,r.FC=new Jy,r.HC=new Tp,r.XC=e,r}S(n,t);var i=n.prototype;return i.ey=function(t){return!0},i.Km=function(){},i.Xm=function(){throw this.js(new Sy(this.XC)),this.UC},i.Fm=function(){},i.zm=function(){},i.Vm=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw $s(n),this.js(new Sy(this.XC)),this.UC;case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Zm=function(){},i.Hm=function(){return Ve.resolve()},i.Jm=function(){},i.$m=function(){return sE},i.iy=function(){return[]},i.jm=function(){},i.Ym=function(t){},i.Qm=function(){},i.Wm=function(){return!1},i.Gm=function(){},i.qm=function(){},i.vy=function(){},i.R_=function(){return Ve.resolve()},i.Od=function(){return this.Ks(),this.FC.Od(),this.HC.Od(),Ve.resolve()},A(n,[{key:"xm",get:function(){return this.FC}},{key:"ly",get:function(){return iE.mC().KN()}},{key:"wy",get:function(){return new Date(NaN)},set:function(t){}},{key:"oy",get:function(){}},{key:"jg",get:function(){return 0},set:function(t){}},{key:"Yg",get:function(){return 0}},{key:"_y",get:function(){return this.NC}},{key:"Qg",get:function(){return!0}},{key:"wu",get:function(){return this.UC}},{key:"Zg",get:function(){return this.XC}},{key:"Um",get:function(){}},{key:"Am",get:function(){return{yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Kg",get:function(){return!1},set:function(t){}},{key:"Ey",get:function(){return!0}},{key:"Jg",get:function(){return!0}},{key:"$g",get:function(){return 0},set:function(t){}},{key:"Iy",get:function(){return iE.mC().KN()}},{key:"Ry",get:function(){return YS.kD},set:function(t){}},{key:"og",get:function(){return Vm.Lg}},{key:"Ny",get:function(){return iE.mC().KN()}},{key:"tm",get:function(){return!1}},{key:"Mm",get:function(){return this.HC}},{key:"nm",get:function(){return 0}},{key:"Lm",get:function(){return this.FC}},{key:"im",get:function(){return 0}},{key:"um",get:function(){return 1},set:function(t){}},{key:"Dy",get:function(){return this.dN}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"gy",get:function(){return!1}}]),n}(Om);function cE(t){if(t&&V(t))return Nr({},t,{integration:hE(t.integration),fairplay:_E(t.fairplay),widevine:fE(t.widevine),playready:vE(t.playready),clearkey:gE(t.clearkey),aes128:mE(t.aes128),integrationParameters:yE(t.integrationParameters),preferredKeySystems:kE(t.preferredKeySystems)})}function hE(t){if(G(t))return t}function fE(t){if(t&&V(t))return{persistentState:lE(t.persistentState),distinctiveIdentifier:lE(t.distinctiveIdentifier),audioRobustness:dE(t.audioRobustness),videoRobustness:dE(t.videoRobustness),licenseAcquisitionURL:G(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:wE(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:G(t.certificate)||Mo(t.certificate)?t.certificate:void 0}}function vE(t){if(t){var n=fE(t);if(n)return Nr({},n,{customData:G(t.customData)?t.customData:void 0})}}function lE(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function dE(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function wE(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function _E(t){if(t){var n=fE(t);if(n)return Nr({},n,{certificateURL:G(t.certificateURL)?t.certificateURL:void 0})}}function gE(t){if(t){var n=fE(t);if(n)return Nr({},n,{keys:H(t.keys)?t.keys.map(function(t){return function(t){if(!t||!V(t))return;var n=t.id,i=t.value;if(!G(n)||!G(i))return;return{id:n,value:i}}(t)}).filter(X):void 0})}}function mE(t){if(V(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function yE(t){if(V(t))return t}function kE(t){return t&&H(t)?t.map(function(t){return sT(t)}).filter(X):[Zr,jr,ts]}var bE,pE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(wu),AE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).zC=[],e.VC=void 0,e.WC=function(t){uu(function(){e.qs(t)})},e.VC=i?e.WC:e.qs,e}S(n,t);var i=n.prototype;return i.GC=function(t){t.Zs(this.VC),this.zC.push(t)},i.qC=function(t){t.nu(this.VC),Ms(this.zC,t)},i.Od=function(){this.Ks();for(var t=0,n=this.zC;t<n.length;t++){n[t].nu(this.VC)}Hs(this.zC)},n}(Bm),TE=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(AE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(bE||(bE={}));var SE,EE=function(t){function i(n){var i;return(i=t.call(this)||this).jC=void 0,i.YC=void 0,i.QC=!1,i.ZC=!1,i.KC=void 0,i.JC=void 0,i.$C=void 0,i.Jw=void 0,i.tP=function(){return i.nP()},i.iP=function(){return i.eP()},i.$C=n,i.jC=i.YC=i.KC=i.JC=bE.INLINE,i.$C.Ys(tE.v_,i.tP),i.$C.Ys(tE.Z_,i.iP),i.rP(),i}S(i,t);var e=i.prototype;return e.t_=function(){return t=this,i={get currentMode(){return t.sP()},requestMode:function(n){var i=RE(n);i&&t.uP(i)},supportsMode:function(n){var i=RE(n);return!!i&&t.oP(i)},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},(n=new AE(i,!0)).GC(t),i;var t,n,i},e.uP=function(t){this.aP(t,t)},e.aP=function(t,n){this.YC!==n&&(this.QC=!0,this.jC=t,this.cP(n,this.YC),t!==bE.FULLSCREEN&&(this.KC=t),this.QC=!1,this.rP())},e.sP=function(){return this.ZC?bE.FULLSCREEN:bE.INLINE},e.oP=function(t){switch(t){case bE.FULLSCREEN:return this.$C.bC;case bE.INLINE:return!0}return!1},e.rP=function(){if(!this.QC){var t=this.YC,n=this.sP();this.YC=n,n!==bE.FULLSCREEN&&(this.JC=n),t!==n&&this.js(new pE(n))}},e.cP=function(t,n){var i=t===bE.FULLSCREEN;this.ZC=i,i!==this.$C.kC&&(i?this.$C.jy():this.$C.Qy())},e.nP=function(){if(!this.QC){var t=this.$C.kC;this.ZC=t,t?this.aP(bE.FULLSCREEN,bE.FULLSCREEN):t||this.jC!==bE.FULLSCREEN?this.rP():this.aP(this.KC,this.JC)}},e.eP=function(){this.nP(),this.js(new Sy(new tf(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Od=function(){this.$C.Od(),this.Ks()},A(i,[{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}}]),i}(Bm),IE={jg:0,Yg:NaN,Qg:!1,wu:void 0,Zg:void 0,Kg:!1,Jg:!0,$g:1,og:Vm.Lg,tm:!1,nm:0,im:0,um:1};function RE(t){switch(t){case bE.INLINE:case bE.FULLSCREEN:case bE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(SE||(SE={}));var NE,DE,CE,PE,BE,OE,xE,LE,ME=function(){function t(){this.hP=[]}var n=t.prototype;return n.fP=function(t){var n=this.vP.filter(function(n){return n.lP(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.dP=function(t){this.hP.push(t)},A(t,[{key:"vP",get:function(){return this.hP}}]),t}();ME.Gn=new ME,function(t){t.qg="PLAYING",t.Sm="PAUSED",t.wP="SEEK",t._P="STALLED",t.gP="FAILED",t.mP="INITIAL_BUFFERING",t.yP="NO_ACCESS"}(NE||(NE={})),function(t){t.kP="HTTP_REQUEST_STATUS_CODE_1XX",t.bP="HTTP_REQUEST_STATUS_CODE_2XX",t.pP="HTTP_REQUEST_STATUS_CODE_3XX",t.AP="HTTP_REQUEST_STATUS_CODE_4XX",t.TP="HTTP_REQUEST_STATUS_CODE_5XX",t.SP="BUFFER_LENGTH",t.EP="BYTES_RECEIVED",t.IP="SEGMENT_READ_BITRATE",t.RP="SEGMENT_PROFILE_BITRATE",t.NP="NUMBER_OF_FRAMES_DROPPED",t.DP="PLAYBACK_POSITION",t.CP="NUMBER_OF_FRAMES_DECODED",t.PP="PLAYBACK_DELTA_TO_ORIGIN",t.BP="STREAM_DELTA_TO_ORIGIN",t.OP="ORIGIN_TIMESTAMP"}(DE||(DE={})),function(t){t.xP="MANIFEST_URI",t.LP="ASSET_DURATION",t.MP="NUMBER_OF_CONTENT_PROFILES",t.UP="CDN",t.XP="CONTENT_TITLE",t.FP="SERVICE_NAME",t.HP="CONTENT_TYPE",t.zP="CONTENT_DESCRIPTION"}(CE||(CE={})),function(t){t.VP="shutdown_normal_shutdown"}(PE||(PE={})),function(t){t.WP="session/",t.GP="internalError/",t.qP="drmError/",t.jP="caError/",t.YP="networkError/"}(BE||(BE={})),function(t){t.QP="userAction",t.ZP="endOfStreamReached"}(OE||(OE={})),function(t){t.PAUSE="KP",t.RESUME="JP"}(xE||(xE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(LE||(LE={}));var UE,XE,FE,HE,zE,VE="agama";function WE(t){return function(t){switch(t){case UE.NONE:case UE.HORIZONTAL:case UE.VERTICAL:return!0;default:return!1}}(t)?t:UE.NONE}function GE(t){switch(t){case"":return UE.NONE;case"horizontal":return UE.HORIZONTAL;case"vertical":return UE.VERTICAL;default:throw new l}}function qE(t){if(!t||!G(t))return XE.yD;switch(t){case"always":return XE.$P;case"never":return XE.tB;default:return XE.yD}}function jE(t){if(!t||!G(t))return FE.yD;switch(t){case"playlist":return FE.nB;case"media":return FE.iB;default:return FE.yD}}function YE(t,n){return t.length>0?t:n.length>0?n:void 0}function QE(t){if(null!==t)return t}function ZE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:QE(t.streamActivityMonitorID),adTagParameters:V(t.adTagParameters)?t.adTagParameters:{},authToken:QE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Nr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.wr("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.wr("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Nr({},e,{availabilityType:"live",assetKey:u}):void i.wr("A Live DAI configuration was provided without valid assetKey which is required.")}i.wr("A DAI configuration was provided without a valid availabilityType which is required.")}function KE(t){if(!KA(t)||!t.integration)return t;switch(t.integration){case yA:return n=t,i=rT(Hr.Kr,n),e=rT(Hr.Zr,n),r=n[Hr.$r]&&rT(Hr.$r,n),Nr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(UE||(UE={})),function(t){t.yD="auto",t.$P="always",t.tB="never"}(XE||(XE={})),function(t){t.yD="auto",t.nB="playlist",t.iB="media"}(FE||(FE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(HE||(HE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(zE||(zE={}));var JE="https://content.uplynk.com";function $E(t){if(!t)return!0;var n,i,e=!($m(n=t.sources)||z(n)&&$m(n[0]))||ty(t.sources),r=!t.ads||(!(i=t.ads)||H(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function tI(t){if(t&&t.sources)return function t(n){if(G(n))return n;if(Jm(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function nI(t,n,i){return Zm(t)?function(t,n,i){var e=Nr({},ny(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:HE.VERIZON_MEDIA,id:"",prefix:JE,preplayParameters:{},playbackUrlParameters:{},assetType:zE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,G(r)?r:z(r)&&G(r[0])?r:V(s=r)&&G(s.userId)&&(z(s.externalId)||G(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return zE.CHANNEL;case"event":return zE.EVENT;case"asset":default:return zE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=fm(t.contentProtected));t.assetInfo?e.assetInfo=fm(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=dm(t.prefix)||JE);return e.ping=(u=e.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!q(o.adImpressions)&&o.adImpressions,c=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=q(o.linearAdData)?o.linearAdData:u!==zE.ASSET):u!==zE.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),e=eI(e=rI(e=iI(e,t),n,i),t,i);var u,o,a,c,h}(t,n,i):function(t,n,i){var e=iy(),r=n&&(n.contentProtection||n.drm);if(G(t)){if(e.src=t,e.type=qm(t),r){var s=cE(r);e.contentProtection=KE(s)}}else if(Jm(t)||Qm(t)){e.src=t.src,e.type=t.type||qm(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Fm.Og||t.type===Fm.xg}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=V(h=t)&&G(h.integration)&&"mediatailor"===h.integration;o&&(e.integration=t.integration);var a=t.contentProtection||t.drm||r,c=cE(a);e.contentProtection=KE(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return ZE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=iI(e,t)}var h;return e=eI(e=rI(e,n,i),t,i)}(t,n,i)}function iI(t,n){var i;n.useCredentials?t.crossOrigin=Xm.Bg:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Xm.Pg:case Xm.Bg:return t;default:return Xm.Cg}}(n.crossOrigin)),G(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=fm(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=fm(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:qE(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:jE(null==t?void 0:t.discontinuityAlignment),useLegacy:(n=null==t?void 0:t.useLegacy,X(n)?Boolean(n):void 0)};var n}(n.hls)),n.lcevc&&(t.lcevc=fm(n.lcevc));var e=void 0!==n.experimentalRendering?fm(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?fm(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function eI(t,n,i){return t.abr=function(t,n){var i=wm(null==t?void 0:t.preferredAudioCodecs,dm),e=wm(null==t?void 0:t.preferredVideoCodecs,dm),r=wm(null==n?void 0:n.preferredAudioCodecs,dm),s=wm(null==n?void 0:n.preferredVideoCodecs,dm),u=YE(i,r),o=YE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(G(n)?void 0:n.abr,null==i?void 0:i.abr),t}function rI(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!X(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!X(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===Xm.Cg&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=Xm.Pg),t.useCredentials=t.crossOrigin===Xm.Bg,G(r)&&!t.timeServer&&(t.timeServer=r),t}function sI(t){var n={src:""};if(t&&t.src){if(n.src=dm(t.src),"default"in t&&(n.default=fm(t.default)),n.kind=Ep(t.kind),function(t){switch(t){case lk.DEFAULT:case lk.SRT:case lk.TTML:case lk.WEBVTT:case lk.EMSG:case lk.EVENT_STREAM:case lk.ID3:case lk.CEA608:case lk.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function uI(t,n){if(W(t))try{return n.fP(t).eB(t)}catch(t){return}}function oI(t){return G(t.sources)&&""!==t.sources||V(t.sources)&&G(t.sources.src)}function aI(t){return t.integration===SE.SPOTX&&!m(t.id)}function cI(t){return"freewheel"===t.integration}function hI(t,n,i){if(void 0===i&&(i=ME.Gn),$E(t))return{sources:[iy()]};var e=om(t);if(e.sources=function(t,n,i){if($m(t))return[nI(t,n,i)];if(z(t)&&$m(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(nI(s,n,i))}return e}return[iy()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=uI(s,n))&&(oI(s)||aI(s)||cI(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,a=!ty(e.sources),c=e.ads&&e.ads.length>0;if(a&&!c?delete e.ads:c&&!a&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=sI(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=dm(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=WE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?GE(u.stereoMode):UE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=ry(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=om(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==VE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Ey(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=vm(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var fI=function(){function t(t){this.rB=t}return t.prototype.sB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.rB.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.rB.indexOf(t.charAt(n))<<18|this.rB.indexOf(t.charAt(n+1))<<12|(s=this.rB.indexOf(t.charAt(n+2)))<<6|(u=this.rB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.uB=function(t,n){var i,e,r,s,u,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.rB.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,c[o/3]=this.rB.charAt(e)+this.rB.charAt(r)+this.rB.charAt(s)+this.rB.charAt(u);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.wp=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.oB=new t(t.wp.sB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function vI(t){return"string"==typeof t}function lI(t){return"number"==typeof t}var dI={}.toString;var wI,_I=Array.isArray||function(t){return"[object Array]"===dI.call(t)};function gI(t,n){return _I(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(wI||(wI={}));var mI,yI=d.keys(wI).map(function(t){return wI[t]});function kI(t){return-1!==yI.indexOf(t)}function bI(t){try{var n=fI.oB.sB(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=vI(t.key),e=vI(t.customer_id),r=lI(t.generation_date),s=lI(t.expiration_date),u=gI(t.domains_page,vI),o=gI(t.domains_source,vI),a=gI(t.sdks,kI),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&e&&r&&s&&u&&o&&a&&c))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function pI(){return mI||(mI={od:le.href,aB:ve.parent&&ve.parent!==r,cB:SI()}),mI}var AI,TI=["http:","https:","ftp:","ws:","wss:"];function SI(){try{return ve.top.location.href}catch(t){return ve&&ve.document&&ve.document.referrer}}!function(t){t[t.hB=0]="hB",t[t.fB=1]="fB",t[t.vB=2]="vB"}(AI||(AI={}));var EI,II=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.lB=t,this.dB=n,this.wB=i,this._B=e,this.gB=r,this.mB=s,this.yB=u,this.kB=o};!function(t){t.fB="expired",t.bB="invaliddomain",t.pB="invalidsource",t.Z_="error"}(EI||(EI={}));var RI=function(){function t(t,n,i){this.AB=void 0,this.TB=t,this.SB=n,this.jo=i,this.AB=OI(this.jo)}var n=t.prototype;return n.EB=function(t,n){var i=this;if(!$E(t)&&0!==n.wB.length&&!CI(n.wB)){var e=[];if($m(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.IB(t,n)})){var r=EI.pB,s=LI.RB(r);throw new tf(NI(r),s)}}},n.NB=function(n){return this.DB(n.yB)&&this.CB(n)?t.PB(n._B)?AI.hB:AI.fB:AI.vB},n.DB=function(t){var n=this;return 0===t.length||t.some(function(t){return n.BB(t)})},n.BB=function(t){return"ios"===function(t){switch(t){case wI.ANDROID:return e.g;case wI.ANDROIDTV:case wI.FIRETV:return e.I;case wI.IOS:return e.R;case wI.TVOS:return e.N;case wI.CHROMECAST:case wI.CHROMECASTCAF:return e.M;default:return e.l}}(t)},t.PB=function(t){var n=Number(new Date);return!!t&&n<=t},n.CB=function(t){return!(this.AB&&0!==t.dB.length&&!CI(t.dB))||!!(this.AB&&this.OB(t.dB)&&this.xB(t.dB))},n.OB=function(t){return PI(this.jo.od,t)},n.xB=function(t){if(!this.jo.aB)return!0;if(this.TB)return!0;var n=this.LB();return!!n&&PI(n,t)},n.LB=function(){if(this.jo.aB){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.jo.cB?this.jo.cB:void 0}},n.IB=function(n,i){return!!t.MB(n,i.wB)},t.MB=function(t,n){return PI(this.UB(t),n)},t.UB=function(t){return G(t)?t:Jm(t)&&t.src||""},t}();function NI(t){switch(t){case EI.bB:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case EI.pB:return n.ErrorCode.LICENSE_INVALID_SOURCE;case EI.fB:return n.ErrorCode.LICENSE_EXPIRED;case EI.Z_:return n.ErrorCode.LICENSE_ERROR}}function DI(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),a=e.match(o),c=function(t){return"*"===t?"("+s+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+r+c(a[2])+r+c(a[3])+r+c(a[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function CI(t){return t.some(function(t){return"*"===t})}function PI(t,n){var e=i.Cr(t);if(!BI(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(DI(e.hostname,s))return!0;if(DI(c_(t),s))return!0}return!1}function BI(t){return-1!==TI.indexOf(t.protocol)}function OI(t){var n=i.Cr(t.od);return BI(n)&&!DI(n.hostname,"localhost")&&!function(t){return DI(t.hostname,"theoplayer.doubleclick.net")}(n)}var xI,LI=function(){function t(){}return t.RB=function(t){return t===EI.bB?this.XB:t===EI.pB?this.FB:t===EI.fB?this.HB:this.zB},t}();function MI(t){var n=[t.yS,t.VB,t.WB];switch(t.VB){case xI.GB:n.push(t.hg);break;case xI.qB:n.push(t.jg),n.push(t.wu);break;case xI.jB:n.push(t.wu)}return n}LI.zB="The license for this player is invalid.",LI.HB="The usage license for this video player has expired.",LI.XB="The current domain is incompatible with the license for this player.",LI.FB="The provided video source is incompatible with the license for this player.",function(t){t[t.GB=1]="GB",t[t.qB=4]="qB",t[t.jB=5]="jB"}(xI||(xI={}));for(var UI=new Array(256),XI=0;XI<256;XI+=1)UI[XI]=(XI<16?"0":"")+XI.toString(16);function FI(){var t=zt(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,e=(4294967296*w.random()|0)+t&1130486254,r=(4294967296*w.random()|0)+t&1284287105;return UI[255&n]+UI[n>>>8&255]+UI[n>>>16&255]+UI[n>>>24&255]+"-"+UI[255&i]+UI[i>>>8&255]+"-"+UI[i>>>16&15|64]+UI[i>>>24&255]+"-"+UI[63&e|128]+UI[e>>>8&255]+"-"+UI[e>>>16&255]+UI[e>>>24&255]+UI[255&r]+UI[r>>>8&255]+UI[r>>>16&255]+UI[r>>>24&255]}var HI=function(){function t(t){this.rB=void 0,this.rB=t}var n=t.prototype;return n.sB=function(t){var n,i,e,r,s,u,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.rB.indexOf(t.charAt(n))<<18|this.rB.indexOf(t.charAt(n+1))<<12|(s=this.rB.indexOf(t.charAt(n+2)))<<6|(u=this.rB.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,a[n/4]=String.fromCharCode(i,e,r),64===u&&(a[n/4]=String.fromCharCode(i,e)),64===s&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.uB=function(t){var n,i,e,r,s,u,o,a=[],c="";if((u=t.length%3)>0)for(;u++<3;)c+=this.rB.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,a[u/3]=this.rB.charAt(i)+this.rB.charAt(e)+this.rB.charAt(r)+this.rB.charAt(s);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function zI(){return i.Je()}HI.wp=new HI(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),HI.oB=new HI(HI.wp.sB("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var VI,WI="theoplayer-session-id";function GI(){if(!VI){var t=gf.Su(WI);t?VI=t:(VI=FI(),gf.nf(WI,VI))}return VI}var qI=/[^\x00-\x7E]/g;function jI(t){return"\\u"+_s(t.charCodeAt(0).toString(16),4,"0")}var YI=0,QI=1,ZI=6e4;function KI(t){var n,i,e,r,s,u=(n=function(t){return[t.YB,t.Qc,t.lB,t.OA,t.QB,t.ZB,t.KB.map(MI)]}(t),i=[],e=n,r=function(t,n){if(V(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(qI,jI));return HI.oB.uB(u)}var JI=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=HI.wp),void 0===r&&(r=YI),void 0===s&&(s=QI),this.JB=[],this.$B=null,this.tO=0,this.nO="unknown",this.Xa=0,this.iO=void 0,this.eO=function(){zI()-u.tO>ZI&&u.De()},this.rO=function(){u.De(!0)},this.lc=t,this.bE=n,this.sO=i,this.uO=e,this.oO=r,this.aO=s,fe.cO(this.rO),this.iO=h(this.eO,ZI)}var n=t.prototype;return n.hO=function(){return Boolean(this.QB)},n.fO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.sO.vO());case 2:if(i.sent.kB){i.next=5;break}return i.abrupt("return");case 5:return n={VB:xI.GB,WB:zt(),hg:t},i.next=8,Rr.awrap(this.lO(n));case 8:case"end":return i.stop()}},null,this,null,Ve)},n.dO=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={VB:xI.qB,WB:zt(),jg:n,wu:t},e.next=3,Rr.awrap(this.lO(i));case 3:case"end":return e.stop()}},null,this,null,Ve)},n.wO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={VB:xI.jB,WB:zt(),wu:t},i.next=3,Rr.awrap(this.lO(n));case 3:case"end":return i.stop()}},null,this,null,Ve)},n.lO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.sO.vO());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.uO.uB(n.lB)){i.next=6;break}if(t.VB===xI.jB){i.next=6;break}return i.abrupt("return");case 6:if(t.VB===xI.GB?this._O():this.hO()||this._O(),t.yS=this.Xa++,this.JB.push(t),(e=t.VB)!==xI.GB&&e!==xI.jB){i.next=14;break}return i.next=12,Rr.awrap(this.De());case 12:i.next=19;break;case 14:if(!(this.JB.length>this.oO)){i.next=19;break}return i.next=17,Rr.awrap(this.gO());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,Ve)},n.De=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.JB.length>0)){n.next=6;break}return n.next=4,Rr.awrap(this.gO(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,Ve)},n.mO=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.sO.vO());case 2:return n=i.sent,i.abrupt("return",{YB:zt(),Qc:GI(),lB:this.uO.uB(n.lB)||"dev",OA:this.lc,QB:this.$B,ZB:this.nO,KB:t});case 4:case"end":return i.stop()}},null,this,null,Ve)},n.gO=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.JB.splice(0,this.aO),e.next=4,Rr.awrap(this.mO(n));case 4:i=e.sent,t?this.Bd(i):this.yO(i),this.tO=zI();case 7:case"end":return e.stop()}},null,this,null,Ve)},n.yO=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=KI(t),i=new n_({od:"https://license.theoplayer.com",Fl:n,Cd:!1,$l:pf.Kn,Jl:{"Content-Type":UT.$I},Rd:4e3,Id:Zw.POST}),r.prev=2,r.next=5,Rr.awrap(this.bE.rd(i));case 5:return e=r.sent,r.next=8,Rr.awrap(e.Ml());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],Ve)},n.Bd=function(t){var n=KI(t);this.bE.Bd({od:"https://license.theoplayer.com",Fl:n,Xl:UT.$I})},n._O=function(){this.hO()&&this.De(),this.$B=FI(),this.Xa=0},n.Od=function(){fe.kO(this.rO),f(this.iO),this.De()},A(t,[{key:"KB",get:function(){return this.JB}},{key:"QB",get:function(){return this.$B}}]),t}();var $I=L.En||L.un&&L.Pn<13;function tR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var nR=function(){function t(t){this._D=void 0,this.Jw=void 0,this.bO=void 0,this._D=t}var n=t.prototype;return n.pO=function(t){if(!t||!t.drawImage)return!1;var n=this._D.Jm();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.AO=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this._D,a=o.Jm();if(!a)return!1;if($I){this.bO||(this.bO=s.createElement("canvas"));var c=this.bO,h=c.getContext("2d"),f=o.im,l=o.nm,d=c.width,w=c.height;h.clearRect(0,0,c.width,c.height),d===f&&w===l||(c.width=f,c.height=l),h.drawImage(a,0,0,f,l);var _=!1;f>0&&tR(h,f-1,0)&&(c.width=d,_=!0),l>0&&tR(h,0,l-1)&&(c.height=w,_=!0),_&&h.drawImage(a,0,0,f,l),a=c}try{t.texImage2D(n,i,e,r,u,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"$w",get:function(){return this.Jw||(this.Jw=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.pO.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.AO(n,i,e,r,s,u)}}));var t}}]),t}(),iR=function(t){function n(n,i){var e;return(e=t.call(this,"TO")||this).Pk=n,e.lT=i,e}return S(n,t),n.prototype.t_=function(){return new eR(this.Pk,this.lT)},n}(Gg),eR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(wu),rR=function(t,n){this._y=void 0,this.SO=void 0,this._y=t,this.SO=n},sR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).EO=void 0,e.IO=0,e.RO=0,e.DO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.RO=n.width,e.IO=n.height,e.SO(e.RO,e.IO)}},e.EO=new ve.ResizeObserver(e.DO),e.EO.observe(e._y),e}return S(n,t),n.prototype.Od=function(){this.EO.disconnect()},A(n,[{key:"CO",get:function(){return this.IO}},{key:"PO",get:function(){return this.RO}}]),n}(rR),uR=0;var oR,aR=c,cR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,hR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function fR(){return oR||(oR=ve&&ve.document&&ve.document.createElement("span")),oR}cR&&hR||(cR=function(t){var n=zI(),i=w.max(0,16-(n-uR)),e=a(function(){return t(n+i)},i);return uR=n+i,e},hR=aR),cR=cR.bind(t),hR=hR.bind(t);var vR=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==ve&&"function"==typeof ve.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});ve.addEventListener("testPassiveEventSupport",Z,n),ve.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}}();var lR=Cr();function dR(t){return lR.has(t)||lR.set(t,function(t){var n=fR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<vR.length;e++){var r=vR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),lR.get(t)}function wR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function _R(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[dR("transition")]="0s"}var gR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).BO=void 0,u.OO=0,u.RO=NaN,u.IO=NaN,u.xO=void 0,u.LO=void 0,u.MO=void 0,u.UO=void 0,u.XO=void 0,u.R_=function(){u.LO.style.width=1e5+"px",u.LO.style.height=1e5+"px",u.xO.scrollLeft=1e5,u.xO.scrollTop=1e5,u.MO.scrollLeft=1e5,u.MO.scrollTop=1e5,0===u.MO.scrollTop&&cR(u.R_)},u.FO=function(){var t=u.PO,n=u.CO;u.SO(t,n),u.RO=t,u.IO=n,u.R_(),u.OO=0},u.HO=function(){if(!u.OO){var t=u.PO,n=u.CO;t===u.RO&&n===u.IO||(u.OO=cR(u.FO))}},u.zO=function(){u.XO||(u.XO=a(u.VO,66))},u.VO=function(){u.XO=void 0,u.WO()},u.WO=function(){u.HO()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var c,h=s.createElement("div");return u.BO=h,u.xO=s.createElement("div"),u.LO=s.createElement("div"),u.MO=s.createElement("div"),u.UO=s.createElement("div"),wR(u.xO),wR(u.MO),_R(u.LO),_R(c=u.UO),c.style.width="200%",c.style.height="200%",h.appendChild(u.xO),h.appendChild(u.MO),u.xO.appendChild(u.LO),u.MO.appendChild(u.UO),n.appendChild(h),u.xO.addEventListener("scroll",u.HO),u.MO.addEventListener("scroll",u.HO),r&&r.addEventListener("resize",u.zO),u.HO(),u}return S(n,t),n.prototype.Od=function(){hR(this.OO),this.OO=0,this.xO.removeEventListener("scroll",this.HO),this.MO.removeEventListener("scroll",this.HO),Je(this.BO),r&&r.removeEventListener("resize",this.zO)},A(n,[{key:"CO",get:function(){return this._y.getBoundingClientRect().height||this.IO||0}},{key:"PO",get:function(){return this._y.getBoundingClientRect().width||this.RO||0}}]),n}(rR),mR=function(t){function n(n){var i;return(i=t.call(this)||this)._y=void 0,i.EO=void 0,i.DO=function(t,n){i.js(new iR(t,n))},i._y=n,i}S(n,t);var i=n.prototype;return i.ih=function(t){this.EO||("function"==typeof ve.ResizeObserver?this.EO=new sR(this._y,this.DO):this.EO=new gR(this._y,this.DO,t))},i.Od=function(){this.Ks(),this.EO&&(this.EO.Od(),this.EO=void 0)},A(n,[{key:"CO",get:function(){return this.EO?this.EO.CO:0}},{key:"PO",get:function(){return this.EO?this.EO.PO:0}}]),n}(lu),yR=function(t){function n(){return t.call(this,tE.v_)||this}return S(n,t),n}(wu);var kR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{GO:i[0],qO:i[1],jO:i[2],YO:i[3],QO:i[4],ZO:i[5]}}}(),bR=function(t){function n(){return t.call(this,tE.yC)||this}return S(n,t),n}(wu),pR=function(t){function n(i){var e;return(e=t.call(this)||this)._y=void 0,e.bC=void 0,e.kC=!1,e.KO=function(){return e.tP()},e.JO=function(){return e.iP()},e._y=i,e.bC=n.$O(i),s.addEventListener(kR.QO,e.KO),e.tP(),e}S(n,t),n.$O=function(t){return Boolean(kR&&s[kR.YO]&&kR.GO in t)};var i=n.prototype;return i.jy=function(){var t=this._y[kR.GO]();t&&t.then?t.then(this.KO,this.JO):(s.removeEventListener(kR.ZO,this.JO),s.addEventListener(kR.ZO,this.JO))},i.Qy=function(){var t=s[kR.qO]();t&&t.then?t.then(this.KO,this.JO):(s.removeEventListener(kR.ZO,this.JO),s.addEventListener(kR.ZO,this.JO))},i.tP=function(){var t=this.kC,n=this._y===s[kR.jO];this.kC=n,t!==n&&this.js(new yR)},i.iP=function(){this.js(new rE)},i.Od=function(){this.Ks(),s.removeEventListener(kR.QO,this.KO),s.removeEventListener(kR.ZO,this.JO)},n}(lu),AR=function(t){function n(i){var e;return(e=t.call(this)||this)._y=void 0,e.bC=void 0,e.kC=!1,e.KO=function(){return e.tP()},e._y=i,e.bC=n.$O(i),e._y.addEventListener("webkitbeginfullscreen",e.KO),e._y.addEventListener("webkitendfullscreen",e.KO),e._y.addEventListener("webkitpresentationmodechanged",e.KO),e.tP(),e}S(n,t),n.$O=function(t){return L.un&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.jy=function(){var t=this;this._y.webkitSupportsPresentationMode&&this._y.webkitSupportsPresentationMode("fullscreen")?L.un?requestAnimationFrame(function(){return t._y.webkitSetPresentationMode("fullscreen")}):this._y.webkitSetPresentationMode("fullscreen"):this._y.webkitEnterFullscreen()},i.Qy=function(){this._y.webkitSupportsPresentationMode&&this._y.webkitSupportsPresentationMode("inline")?this._y.webkitSetPresentationMode("inline"):this._y.webkitExitFullscreen()},i.tP=function(){var t,n=this.kC;t=this._y.webkitPresentationMode?"fullscreen"===this._y.webkitPresentationMode:!!this._y.webkitDisplayingFullscreen,this.kC=t,n!==t&&this.js(new yR)},i.Od=function(){this.Ks(),this._y.removeEventListener("webkitbeginfullscreen",this.KO),this._y.removeEventListener("webkitendfullscreen",this.KO),this._y.removeEventListener("webkitpresentationmodechanged",this.KO)},n}(lu),TR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).tx=[],n.nx=void 0,n.ZC=!1,n.tP=function(){var t=n.ZC,i=n.ix();t!==i&&(n.ZC=i,n.js(new yR))},n}S(n,t);var i=n.prototype;return i.jy=function(){this.nx?this.nx.jy():this.js(new rE)},i.Qy=function(){for(var t=0,n=this.tx;t<n.length;t++){var i=n[t];i.kC&&i.Qy()}},i.ex=function(t){this.nx=t},i.sx=function(t){this.tx.push(t),t.Ys(tE.v_,this.tP),t.Ys(tE.Z_,this.qs),this.tP()},i.ux=function(t){Ms(this.tx,t),t.Js(tE.v_,this.tP),t.Js(tE.Z_,this.qs)},i.ix=function(){for(var t=0,n=this.tx;t<n.length;t++){if(n[t].kC)return!0}return!1},i.R_=function(){this.nx=void 0,this.ZC=!1;for(var t=this.tx.slice(),n=0;n<t.length;n++){var i=t[n];this.ux(i),i.Od()}this.tP()},i.Od=function(){this.Ks(),this.R_()},A(n,[{key:"bC",get:function(){return!!this.nx&&this.nx.bC}},{key:"kC",get:function(){return this.ZC}}]),n}(lu),SR=function(t){function n(n,i){var e;return(e=t.call(this)||this)._D=void 0,e.ox=void 0,e.ax=void 0,e.hx=!1,e.vx=function(){return e.Wc()},e.tP=function(t){e.hx||e.js(t)},e._D=n,e.ox=i,e.ax=sE,e.lx(),e._D.Ys(bf.gf,e.vx),e.Wc(),e}S(n,t);var i=n.prototype;return i.jy=function(){this.ox&&this.ax.jy()},i.Qy=function(){this.ax.Qy()},i.lx=function(){this.ax.Ys(tE.v_,this.tP),this.ax.Ys(tE.Z_,this.qs)},i.wx=function(){this.ax.Js(tE.v_,this.tP),this.ax.Js(tE.Z_,this.qs)},i.Wc=function(){var t=this.ax,n=this._D.$m();if(t!==n){this.hx=!0;var i=this.kC,e=this.bC;i&&this.Qy(),this.wx(),this.ax=n,this.lx(),i&&!this.kC&&this.bC?this.jy():this.Qy(),this.hx=!1,e!==this.bC&&this.js(new bR),i!==this.kC&&this.js(new yR)}},i.Od=function(){this.Ks(),this.wx(),this._D.Js(bf.gf,this.vx)},A(n,[{key:"bC",get:function(){return!!this.ox&&this.ax.bC}},{key:"kC",get:function(){return this.ax.kC}}]),n}(lu);function ER(t){var n;return{get url(){return t.od},get method(){return t.Id},get headers(){return n||(n=t.Jl.qf()),n},get body(){return t.Fl},get useCredentials(){return t.Cd},get type(){return CR(t.us)},get subType(){return BR(t.Nd)},get mediaType(){return xR(t.Dd)},get responseType(){return RR(t.$l)}}}function IR(t){switch(t.toLowerCase()){case"arraybuffer":return pf.Vf;case"json":return pf.Wf;case"stream":return pf.Gf;case"text":default:return pf.Kn}}function RR(t){return t}function NR(t){switch(t.toUpperCase()){case"POST":return Zw.POST;case"PUT":return Zw.PUT;case"DELETE":return Zw.DELETE;case"HEAD":return Zw.HEAD;case"OPTIONS":return Zw.OPTIONS;case"GET":default:return Zw.GET}}function DR(t){switch(t.toLowerCase()){case"manifest":return Kw.vd;case"segment":return Kw.ld;case"content-protection":return Kw.dd;default:return Kw.fd}}function CR(t){return t}function PR(t){switch(t.toLowerCase()){case"initialization-segment":return Jw.wd;case"fairplay-license":return Jw._d;case"fairplay-certificate":return Jw.md;case"widevine-license":return Jw.yd;case"widevine-certificate":return Jw.kd;case"playready-license":return Jw.bd;case"clearkey-license":return Jw.pd;case"aes128-key":return Jw.Ad;default:return Jw.fd}}function BR(t){return t}function OR(t){switch(t.toLowerCase()){case"audio":return $w.Td;case"video":return $w.Sd;case"text":return $w.Kn;case"image":return $w.Ed;case"":default:return $w.fd}}function xR(t){return t}var LR=function(){function t(t,n){this._x=new Wo,this.gx=[],this.Jw=void 0,this.mx=!1,this.qd=void 0,this.yx=0,this.kx=t,this.bx=n}var n=t.prototype;return n.AA=function(){this.mx=!0,this._x.Hu(null)},n.Ax=function(){this._x.Vu(new Tw(this.gx))},n.Tx=function(t){if(!this.Sx)throw new l("Cannot respond more than once");if(!V(t))throw new l("Expected valid response");this.qd=this.Ex(t),this.AA()},n.Ix=function(){try{var t=this.bx(this.$w);t?this.Rx(t):this.Nx||this.Dx||this.AA()}catch(t){this.gx.push(t),this.Ax()}},n.Rx=function(t){if(this.Dx)throw new v("Request has been redirected or a response already exists");if(j(t))this.Cx(t);else{if("function"!=typeof t)throw new l("Expected promise or function");var n=new Wo;try{var i=t(function(t){t?n.Vu(t):n.Hu(void 0)});j(i)&&n.Hu(i)}catch(t){n.Vu(t)}this.Cx(n.Uu)}},n.Cx=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.yx++,n.next=4,Rr.awrap(t);case 4:this.yx--,this.Nx||this.Dx||(this.gx.length?this.Ax():this.AA()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.yx--,this.gx.push(n.t0),this.Nx||this.Dx||this.Ax();case 13:case"end":return n.stop()}},null,this,[[0,8]],Ve)},A(t,[{key:"Px",get:function(){return this._x.Uu}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.Bx()),this.Jw}},{key:"Dx",get:function(){return this.mx}},{key:"Sx",get:function(){return!this.mx}},{key:"Nx",get:function(){return this.yx>0}},{key:"jd",get:function(){return this.qd}}]),t}(),MR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Ox=void 0,r.Ox=e,r.Ix(),r}S(n,t),n.xx=function(t,n,i){var e=void 0===t.body?i:t.body;return new t_({Xi:e,rd:n.rd,$l:n.rd.$l,Jl:t.headers,Kl:t.status,td:t.statusText,ud:t.url,ed:!0},n)};var i=n.prototype;return i.Bx=function(){return i=ER((t=this).rd),{get closed(){return!t.Sx},get request(){return i},get url(){return t.od},get status(){return t.Kl},get statusText(){return t.td},get headers(){return n||(n=t.Jl.qf()),n},get body(){return t.Fl},respondWith:function(n){return t.Tx(n)},waitUntil:function(n){return t.Rx(n)}};var t,n,i},i.Ex=function(t){return n.xx(t,this.kx,this.Ox)},A(n,[{key:"Fl",get:function(){return this.Ox}},{key:"Jl",get:function(){return this.kx.Jl}},{key:"rd",get:function(){return this.kx.rd}},{key:"jd",get:function(){return this.qd}},{key:"Kl",get:function(){return this.kx.Kl}},{key:"td",get:function(){return this.kx.td}},{key:"od",get:function(){return this.kx.ud}}]),n}(LR),UR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Lx=void 0,r.Mx=void 0,r.Mx=e,r.Ix(),r}S(n,t);var i=n.prototype;return i.Bx=function(){return t=this,{get url(){return t.od},get method(){return t.Id},get headers(){return n||(n=t.Jl.qf()),n},get body(){return t.Fl},get closed(){return!t.Sx},get useCredentials(){return t.Cd},get type(){return CR(t.us)},get subType(){return BR(t.Nd)},get mediaType(){return xR(t.Dd)},get responseType(){return RR(t.$l)},redirect:function(n){return t.Ux(n)},respondWith:function(n){return t.Tx(n)},waitUntil:function(n){return t.Rx(n)}};var t,n},i.Ex=function(t){var n=this.kx.Fl,i=new t_({Xi:n,Jl:{},rd:this.kx,ud:this.kx.od,$l:this.kx.$l,Kl:200,td:"OK"});return MR.xx(t,i,n)},i.Ux=function(t){if(!this.Sx)throw new l("Cannot redirect, already redirected or has a response");var n;n=G(t)?{url:t}:t,this.Lx=function(t,n){return new n_({od:void 0===t.url?n.od:t.url,Id:void 0!==t.method?NR(t.method):void 0,Jl:t.headers,Fl:t.body,Cd:t.useCredentials,us:void 0!==t.type?DR(t.type):void 0,Nd:void 0!==t.subType?PR(t.subType):void 0,Dd:void 0!==t.mediaType?OR(t.mediaType):void 0,$l:void 0!==t.responseType?IR(t.responseType):void 0},n)}(n,this.kx),this.AA()},A(n,[{key:"Fl",get:function(){return this.kx.Fl}},{key:"Sx",get:function(){return this.Mx&&!this.mx}},{key:"Jl",get:function(){return this.kx.Jl}},{key:"Id",get:function(){return this.kx.Id}},{key:"Xx",get:function(){return this.Lx}},{key:"jd",get:function(){return this.qd}},{key:"$l",get:function(){return this.kx.$l}},{key:"Rd",get:function(){return this.kx.Rd}},{key:"zs",get:function(){return this.kx.zs}},{key:"us",get:function(){return this.kx.us}},{key:"Nd",get:function(){return this.kx.Nd}},{key:"Dd",get:function(){return this.kx.Dd}},{key:"od",get:function(){return this.kx.od}},{key:"Cd",get:function(){return this.kx.Cd}},{key:"Pd",get:function(){return this.kx.Pd}}]),n}(LR);var XR,FR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new HR(n);return(e=t.call(this,r,i)||this).Fx=void 0,e.Fx=r,e}S(n,t);var i=n.prototype;return i.Hx=function(t){this.Fx.Hx(t)},i.zx=function(t){this.Fx.zx(t)},i.Vx=function(t){this.Fx.Vx(t)},i.Wx=function(t){this.Fx.Wx(t)},i.Gx=function(t){this.Fx.Gx(t)},n}(e_),HR=function(){function t(t){this.xd=void 0,this.qx=[],this.jx=[],this.xd=t}var n=t.prototype;return n.rd=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.Yx(t,t.zs));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof h_)){i.next=12;break}return i.next=11,Rr.awrap(this.Qx(i.t0,t.zs));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Rr.awrap(this.Zx(n,t.zs));case 15:if(!Qw(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new v_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],Ve)},n.Bd=function(t){return this.xd.Bd(t)},n.Yx=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(n),i=t,r=0,s=this.qx.slice();case 3:if(!(r<s.length)){a.next=21;break}if(u=s[r],$s(n),(o=new UR(i,u,!e)).Dx){a.next=17;break}return a.prev=8,a.next=11,Rr.awrap(o.Px);case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(8),a.abrupt("continue",18);case 17:o.Xx&&!e?i=o.Xx:o.jd&&!e&&(e=o.jd);case 18:r++,a.next=3;break;case 21:if(!e){a.next=23;break}return a.abrupt("return",e);case 23:return a.abrupt("return",this.xd.rd(i));case 24:case"end":return a.stop()}},null,this,[[8,13]],Ve)},n.Qx=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof v_?t.jd:new t_({Xi:null,rd:t.rd,Kl:0,td:""}),r.next=3,Rr.awrap(this.Zx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Qw(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new v_(e);case 13:case"end":return r.stop()}},null,this,null,Ve)},n.Zx=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=t,e=0,r=this.jx.slice();case 2:if(!(e<r.length)){a.next=23;break}return s=r[e],$s(n),a.next=7,Rr.awrap(Ve.resolve(i.Ou().Xi(n)));case 7:if(u=a.sent,(o=new MR(i,s,u)).Dx){a.next=19;break}return a.prev=10,a.next=13,Rr.awrap(o.Px);case 13:a.next=19;break;case 15:return a.prev=15,a.t0=a.catch(10),a.abrupt("continue",20);case 19:i=o.jd||i;case 20:e++,a.next=2;break;case 23:return a.abrupt("return",i);case 24:case"end":return a.stop()}},null,this,[[10,15]],Ve)},n.Hx=function(t){this.qx.unshift(t)},n.zx=function(t){this.qx.push(t)},n.Vx=function(t){Ms(this.qx,t)},n.Wx=function(t){this.jx.unshift(t)},n.Gx=function(t){Ms(this.jx,t)},n.Od=function(){this.xd.Od(),Hs(this.qx),Hs(this.jx)},t}(),zR=function(){function t(t){this.Jw=void 0,this.bE=t}var n=t.prototype;return n.Hx=function(t){this.bE.Hx(t)},n.Vx=function(t){this.bE.Vx(t)},n.Wx=function(t){this.bE.Wx(t)},n.Gx=function(t){this.bE.Gx(t)},A(t,[{key:"$w",get:function(){var t;return this.Jw||(this.Jw=(t=this,{addRequestInterceptor:function(n){t.Hx(n)},removeRequestInterceptor:function(n){t.Vx(n)},addResponseInterceptor:function(n){t.Wx(n)},removeResponseInterceptor:function(n){t.Gx(n)}})),this.Jw}}]),t}(),VR=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Jw=void 0,r.Kx=function(t){r.js(t)},r.Jx=function(t){r.js(t)},r.$x=n,r.bE=i,r.BC=e,r.$x.Ys(bf.Af,r.Kx),r.$x.Ys(bf.pf,r.Jx),r}S(n,t);var i=n.prototype;return i.tL=function(t){this.BC.tL(t)},i.Hx=function(t){this.bE.Hx(t)},i.Vx=function(t){this.bE.Vx(t)},i.Wx=function(t){this.bE.Wx(t)},i.Gx=function(t){this.bE.Gx(t)},i.Od=function(){this.Ks(),this.$x.Js(bf.Af,this.Kx),this.$x.Js(bf.pf,this.Jx)},A(n,[{key:"$w",get:function(){var t;return this.Jw||(this.Jw=(t=this,{get online(){return t.Ey},get estimator(){return n=t.nL,{get bandwidth(){return n.XR},get roundTripTime(){return n.FR}};var n},setEstimator:function(n){t.tL(function(t){if(t)return{get XR(){return lm(t.bandwidth)},get FR(){return lm(t.roundTripTime)},UR:function(n){return function(t){if(t)return{iL:function(n){t.markRequestStart(n)},eL:function(n){t.markResponseStart(n)},rL:function(n,i){t.markResponseData(n,i)},sL:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(ER(n)))}}}(n))},addRequestInterceptor:function(n){t.Hx(n)},removeRequestInterceptor:function(n){t.Vx(n)},addResponseInterceptor:function(n){t.Wx(n)},removeResponseInterceptor:function(n){t.Gx(n)},addEventListener:function(n,i){t.Ys(n,i)},removeEventListener:function(n,i){t.Js(n,i)}})),this.Jw}},{key:"Ey",get:function(){return this.$x.Ey}},{key:"nL",get:function(){return this.BC.nL}}]),n}(lu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(XR||(XR={}));var WR=30,GR=1,qR=5;function jR(t,n,i,e,r,s){var u=[],o=t-w.max(s,GR),a=t+r;if(n&&i){var c=Lt(i,GR,qR),h=n-c;o=w.min(o,h);var f=n+i+c;a=w.max(a,f)}return 0!==o&&e.uC(0,o)&&u.push([0,o]),e.uC(a,1/0)&&u.push([a,1/0]),u}function YR(t){return t instanceof v&&"QuotaExceededError"===t.name}var QR={type:XR.BANDWIDTH},ZR=20,KR=60;function JR(t){var n,i,e,r=om(QR);return G(t)?r.type=$R(t):V(t)&&function(t){switch(t){case XR.PERFORMANCE:case XR.QUALITY:case XR.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=$R(t.type)),V(t)&&V(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=vm(n.bitrate),m(e)||(i.bitrate=e),i)),r}function $R(t){switch(t){case"bandwidth":return XR.BANDWIDTH;case"performance":return XR.PERFORMANCE;case"quality":return XR.QUALITY}}var tN=function(t){function n(n){var i;return(i=t.call(this,"oL")||this).uL=n,i}return S(n,t),n}(wu),nN=function(t){function n(n){var i;return(i=t.call(this,"cL")||this).aL=n,i}return S(n,t),n}(wu),iN=function(t){function n(n){var i;return(i=t.call(this,"fL")||this).hL=n,i}return S(n,t),n}(wu),eN=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Jw=(i=Zt(n),{get strategy(){return{metadata:(t=i.aL).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.aL=JR(t)},get targetBuffer(){return i.uL},set targetBuffer(t){var n=vm(t);m(n)||(i.uL=n>KR?KR:n)},get bufferLookbackWindow(){return i.hL},set bufferLookbackWindow(t){var n=vm(t);m(n)||(i.hL=n<=0?WR:n)},get maxBufferLength(){return i.vL}}),n.lL=QR,n.dL=ZR,n.wL=WR,n._L=1/0,n.gL=void 0,n.mL=void 0,n}S(n,t);var i=n.prototype;return i.yL=function(t){this.mL=t},i.tL=function(t){this.gL=t},i.kL=function(t){var n=w.min(t,.8*this._L);if(n=w.max(10,n),this._L===n)return!1;var i=this.bL;this._L=n;var e=this.bL;return e!==i&&this.js(new tN(e)),!0},A(n,[{key:"pL",get:function(){switch(this.lL.type){case XR.PERFORMANCE:return 0;case XR.QUALITY:return 1/0;case XR.BANDWIDTH:return this.lL.metadata&&void 0!==this.lL.metadata.bitrate?this.lL.metadata.bitrate:8*Mm.Eg();default:return 8*Mm.Eg()}}},{key:"$w",get:function(){return this.Jw}},{key:"aL",get:function(){return this.lL},set:function(t){this.lL=t,this.js(new nN(t))}},{key:"uL",get:function(){return this.dL},set:function(t){this.dL=t,this.js(new tN(t))}},{key:"bL",get:function(){return w.min(this.dL,this._L)}},{key:"hL",get:function(){return this.wL},set:function(t){this.wL=t,this.js(new iN(t))}},{key:"vL",get:function(){return this._L}},{key:"nL",get:function(){var t;return null!=(t=this.gL)?t:this.mL.nD}}]),n}(lu),rN=function(t){function n(){return t.call(this,"l_")||this}return S(n,t),n.prototype.t_=function(){return new sN},n}(Gg),sN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(wu),uN=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).AL=void 0,r.JB=void 0,r.TL=function(t){qg(t)&&uu(function(){r.js(t.$w)})},r.AL=n,r.JB=i;for(var s=0,u=r.JB;s<u.length;s++){var o=u[s];r.AL.Ys(o,r.TL)}return r}return S(n,t),n.prototype.Od=function(){this.Ks();for(var t=0,n=this.JB;t<n.length;t++){var i=n[t];this.AL.Js(i,this.TL)}},n}(lu),oN=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).AL=void 0,e.TL=function(t){qg(t)&&uu(function(){e.js(t.$w)})},e.AL=n,e.AL.Zs(e.TL),e}return S(n,t),n.prototype.Od=function(){this.Ks(),this.AL.nu(this.TL)},n}(Bm),aN=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(oN);var cN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).dk=0,n.wk=1/0,n.Jw=void 0,n}S(n,t);var i=n.prototype;return i.R_=function(){0===this.dk&&this.wk===1/0||(this.dk=0,this.wk=1/0,this.js(new rN))},i.SL=function(){return new iE([this.Ky,this.Jy],[!0,!0])},A(n,[{key:"Ky",get:function(){return this.dk},set:function(t){if(this.Jy<=t)throw new v("Start time of a clip should be smaller than the end time.");this.dk!==t&&(this.dk=t,this.js(new rN))}},{key:"Jy",get:function(){return this.wk},set:function(t){if(t<=this.Ky)throw new v("End time of a clip should be larger than the start time.");this.wk!==t&&(this.wk=t,this.js(new rN))}},{key:"$w",get:function(){var t,n,i;return this.Jw||(this.Jw=(i={get startTime(){return t.Ky},set startTime(n){t.Ky=n},get endTime(){return t.Jy},set endTime(n){t.Jy=n},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new oN(t=this,i),i)),this.Jw}}]),n}(Bm),hN=function(t){function n(n){var i;return(i=t.call(this)||this).EL=function(t){i.IL(t)||i.js(t)},i.RL=n,i.RL.Zs(i.EL),i}S(n,t);var i=n.prototype;return i.NL=function(){return this.RL.xm},i.iy=function(){return this.RL.iy()},i.DL=function(){return this.RL.ly},i.CL=function(){return this.RL.oy},i.PL=function(){return this.RL.wy},i.BL=function(t){this.RL.wy=t},i.OL=function(){return this.RL.jg},i.xL=function(t){this.RL.jg=t},i.LL=function(){return this.RL.Yg},i.ML=function(){return this.RL._y},i.UL=function(){return this.RL.Qg},i.XL=function(){return this.RL.wu},i.FL=function(){return this.RL.Zg},i.HL=function(){return this.RL.gy},i.zL=function(){return this.RL.Kg},i.VL=function(t){this.RL.Kg=t},i.WL=function(){return this.RL.Ey},i.GL=function(){return this.RL.Jg},i.qL=function(){return this.RL.$g},i.jL=function(t){this.RL.$g=t},i.YL=function(){return this.RL.Iy},i.QL=function(){return this.RL.Ry},i.ZL=function(t){this.RL.Ry=t},i.KL=function(){return this.RL.og},i.JL=function(){return this.RL.Ny},i.$L=function(){return this.RL.tm},i.zm=function(){return this.RL.zm()},i.Vm=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(this.RL.Vm(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.tM=function(){return this.RL.Mm},i.nM=function(){return this.RL.nm},i.iM=function(){return this.RL.Lm},i.eM=function(){return this.RL.im},i.rM=function(){return this.RL.um},i.sM=function(t){this.RL.um=t},i.$m=function(){return this.RL.$m()},i.Jm=function(){return this.RL.Jm()},i.Ym=function(t){this.RL.Ym(t)},i.Qm=function(){this.RL.Qm()},i.Km=function(){this.RL.Km()},i.jm=function(){this.RL.jm()},i.Fm=function(){this.RL.Fm()},i.Xm=function(){this.RL.Xm()},i.Zm=function(){this.RL.Zm()},i.Hm=function(){return this.RL.Hm()},i.Wm=function(){return this.RL.Wm()},i.Gm=function(){this.RL.Gm()},i.qm=function(){this.RL.qm()},i.R_=function(){return this.RL.R_()},i.Od=function(){return this.RL.Od()},i.vy=function(){this.RL.vy()},i.ey=function(t){return this.RL.ey(t)},i.IL=function(t){return!1},A(n,[{key:"xm",get:function(){return this.NL()}},{key:"ly",get:function(){return this.DL()}},{key:"wy",get:function(){return this.PL()},set:function(t){this.BL(t)}},{key:"oy",get:function(){return this.CL()}},{key:"jg",get:function(){return this.OL()},set:function(t){this.xL(t)}},{key:"Yg",get:function(){return this.LL()}},{key:"_y",get:function(){return this.ML()}},{key:"Qg",get:function(){return this.UL()}},{key:"wu",get:function(){return this.XL()}},{key:"Zg",get:function(){return this.FL()}},{key:"Um",get:function(){return this.RL.Um}},{key:"gy",get:function(){return this.HL()}},{key:"Am",get:function(){return this.RL.Am}},{key:"Kg",get:function(){return this.zL()},set:function(t){this.VL(t)}},{key:"Ey",get:function(){return this.WL()}},{key:"Jg",get:function(){return this.GL()}},{key:"$g",get:function(){return this.qL()},set:function(t){this.jL(t)}},{key:"Iy",get:function(){return this.YL()}},{key:"Ry",get:function(){return this.QL()},set:function(t){this.ZL(t)}},{key:"og",get:function(){return this.KL()}},{key:"Ny",get:function(){return this.JL()}},{key:"tm",get:function(){return this.$L()}},{key:"Mm",get:function(){return this.tM()}},{key:"nm",get:function(){return this.nM()}},{key:"Lm",get:function(){return this.iM()}},{key:"im",get:function(){return this.eM()}},{key:"um",get:function(){return this.rM()},set:function(t){this.sM(t)}},{key:"Dy",get:function(){return this.RL.Dy}},{key:"Cy",get:function(){return this.RL.Cy},set:function(t){this.RL.Cy=t}}]),n}(Om),fN=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).uM=void 0,r.oM=!1,r.aM=void 0,r.cM=!1,r.hM=function(){r.fM(),r.vM()},r.gN=function(){r.lM(),r.vM(),r.dM&&r.jg>=r.uM.Jy-n.wM&&!r.Qg&&(r.aM=cR(r.gN))},r._M=function(){r.cM=!0},r.gM=function(){r.cM&&(r.cM=!1,r.vM())},r.uM=e,r.uM.Ys("l_",r.hM),r.RL.Ys("timeupdate",r.gN),r}S(n,t);var i=n.prototype;return i.xL=function(n){var i=this.uM.SL().GD(n);t.prototype.xL.call(this,i),this.vM()},i.UL=function(){return t.prototype.UL.call(this)||this.oM},i.JL=function(){return iE.wC(t.prototype.JL.call(this)).YD(this.uM.SL()).KN()},i.Xm=function(){this.UL()?this.xL(this.mM.start(0)):this.fM(),t.prototype.Xm.call(this),this.vM()},i.Vm=function(n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),this.oM=!1,this.uM.R_(),e.next=5,Rr.awrap(t.prototype.Vm.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,Ve)},i.Od=function(){return this.uM.Js("l_",this.hM),this.RL.Js("timeupdate",this.gN),this.lM(),t.prototype.Od.call(this)},i.IL=function(n){switch(n.type){case"seeking":return this.js(n),this._M(),!0;case"seeked":case"emptied":return this.js(n),this.gM(),!0;case"ended":if(this.dM)return!0}return t.prototype.IL.call(this,n)},i.lM=function(){this.aM&&(hR(this.aM),this.aM=void 0)},i.vM=function(){var t=this.jg,i=this.dM&&t>=this.uM.Jy-n.Fb;this.oM&&!i?(this.oM=!1,this.Jg&&this.Xm()):this.oM||!i||this.tm||this.cM||(this.oM=!0,this.js(new gy(t)),this.Fm())},i.fM=function(){if(this.Yg!==1/0){var t=this.mM,i=iE.wC(t).GD(this.jg);Mt(this.jg,i,n.Fb)||this.xL(i)}},A(n,[{key:"mM",get:function(){return this.JL().length?this.JL():this.uM.SL().KN()}},{key:"dM",get:function(){return this.uM.Jy<this.Yg}}]),n}(hN);fN.wM=1,fN.Fb=.001;var vN=function(){function t(){this.yM=void 0,this.yM=!1}return A(t,[{key:"kM",get:function(){return this.yM},set:function(t){this.yM=t}}]),t}(),lN=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).yM=void 0,e.bM=!1,e.pM=!1,e.yM=i,e}S(n,t);var i=n.prototype;return i.UL=function(){return!this.yM.kM&&t.prototype.UL.call(this)},i.Fm=function(){this.pM=!0,t.prototype.Fm.call(this)},i.Xm=function(){this.pM=!1,t.prototype.Xm.call(this)},i.IL=function(n){if(this.yM.kM)switch(n.type){case"ended":return this.jg=0,this.pM||(this.tm?this.bM=!0:this.Xm()),!0;case"seeked":this.bM&&(this.bM=!1,this.Xm());break;case"pause":if(this.bM||t.prototype.UL.call(this))return!0}return t.prototype.IL.call(this,n)},n}(hN);var dN=function(){function t(t){var n;this.Jw=(n=this,{get currentBandwidthEstimate(){return n.Ay},get corruptedVideoFrames(){return n.by},get droppedVideoFrames(){return n.yy},get totalBytesLoaded(){return n.Ty},get bufferedSegments(){return n.Sy}}),this.TD=t}return A(t,[{key:"$w",get:function(){return this.Jw}},{key:"by",get:function(){return this.TD.AM.Am.by}},{key:"Ay",get:function(){return this.TD.AM.Am.Ay}},{key:"yy",get:function(){return this.TD.AM.Am.yy}},{key:"TM",get:function(){throw new v("Not implemented")}},{key:"SM",get:function(){throw new v("Not implemented")}},{key:"Ty",get:function(){return this.TD.AM.Am.Ty}},{key:"py",get:function(){return this.TD.AM.Am.py}},{key:"Sy",get:function(){return this.TD.AM.Am.Sy}}]),t}();function wN(t){if(!t||!rr(t))return{yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{yy:n.droppedVideoFrames,by:n.corruptedVideoFrames||0,py:n.totalVideoFrames}}return{yy:t.webkitDroppedFrameCount||0,by:0,py:t.webkitDecodedFrameCount||0}}var _N=function(t){function n(){return t.call(this,"EM")||this}return S(n,t),n.prototype.t_=function(){return new gN},n}(Gg),gN=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(wu);var mN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).IM=[],n.Jw=void 0,n.RM=function(){return n.js(new _N)},n}S(n,t);var i=n.prototype;return i.NM=function(t){this.IM.push(t),t.Ys("statechange",this.RM)},i.Od=function(){var t=this;this.IM.forEach(function(n){n.Js("statechange",t.RM)}),Hs(this.IM)},A(n,[{key:"DM",get:function(){return this.IM.some(function(t){return t.DM})}},{key:"$w",get:function(){var t,n,i;return this.Jw||(this.Jw=(i={get casting(){return t.DM},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new aN(t=this,i),i)),this.Jw}}]),n}(Om),yN=function(){function t(){}return t.CM=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new n_({od:t,$l:pf.Kn,Id:Zw.GET}),s.next=4,Rr.awrap(n.rd(i));case 4:return e=s.sent,s.next=7,Rr.awrap(e.Xi());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),Js(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],Ve)},t.PM=function(t){try{var i=bI(t);return new II(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new tf(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.BM=function(t){void 0===t&&(t=HI.wp),i.wr("The baked-in license is used. Please update the configuration with your license.");var n=t.sB(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.sB(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.sB(n)}),s=Number(new Date(Number(t.sB("COD|aHpHa:p3Ceo3Co\"\""))));return new II(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new II(t.lB,t.dB,t.wB,864e13,t.gB,Date.now(),t.yB,t.kB)},t}(),kN=function(){function t(){}return t.if=function(){return t.Gn||(t.Gn=bN.vh()?new bN:new _f),t.Gn},t.Ru=function(n){t.if().Ru(n)},t.tf=function(){t.if().tf()},t.Su=function(n){return t.if().Su(n)},t.nf=function(n,i){t.if().nf(n,i)},t.OM=function(n){var i=t.Su(n);if(void 0!==i)return g(i)},t.xM=function(n){return"true"===t.Su(n)},t}();kN.Gn=void 0;var bN=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.vh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ru=function(n){t.localStorage.removeItem(n)},e.tf=function(){t.localStorage.clear()},e.Su=function(n){return t.localStorage[n]},e.nf=function(n,i){t.localStorage[n]=i},i}(kN),pN=w.floor(14399999*w.random()-72e5),AN=function(){function t(t,n,i,e,r,s){this.AB=void 0,this.bE=t,this.LM=n,this.MM=i,this.sO=e,this.UM=r,this.jo=s,this.AB=OI(s)}var i=t.prototype;return i.XM=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.FM(this.UM.license,this.UM.licenseUrl));case 2:t=n.sent,this.sO.HM(t);case 4:case"end":return n.stop()}},null,this,null,Ve)},i.FM=function(t,i){var e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=yN.PM(t):e||(r=yN.BM()),e||(e="https://validate.theoplayer.com/1/"+r.lB),s=this.zM(),!r){v.next=14;break}if((u=this.LM.NB(r))!==AI.hB){v.next=14;break}if(!this.VM(r._B)||!this.VM(null==s?void 0:s._B)){v.next=13;break}return v.next=10,Rr.awrap(this.WM(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.LM.NB(s)!==AI.hB){v.next=24;break}if(!this.VM(null==s?void 0:s._B)){v.next=23;break}return v.next=20,Rr.awrap(this.WM(e));case 20:if(!(a=v.sent)){v.next=23;break}return v.abrupt("return",a);case 23:return v.abrupt("return",s);case 24:kN.Ru("THEOplayer.license");case 25:return v.next=27,Rr.awrap(yN.CM(e,this.bE));case 27:if(!(c=v.sent)){v.next=37;break}if(h=yN.PM(c),this.LM.NB(h)!==AI.hB){v.next=34;break}return kN.nf("THEOplayer.license",c),v.abrupt("return",h);case 34:kN.Ru("THEOplayer.license"),v.next=39;break;case 37:if(this.AB||!r||u!==AI.fB||e!=="https://validate.theoplayer.com/1/"+r.lB){v.next=39;break}return v.abrupt("return",yN.convertLicenseToDummyLicense(r));case 39:if(!r&&!h){v.next=43;break}this.GM(null!=(f=r)?f:h,new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new tf(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,Ve)},i.EB=function(t){var n,i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Rr.awrap(this.sO.vO());case 2:if(n=a.sent,!this.VM(n._B)){a.next=9;break}return e=null!=(i=this.UM.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.lB,a.next=7,Rr.awrap(this.WM(e));case 7:(r=a.sent)&&(this.sO.HM(r),n=r);case 9:if(a.prev=9,(s=this.LM.NB(n))!==AI.vB){a.next=16;break}throw u=EI.bB,new tf(NI(u),LI.RB(u));case 16:if(s!==AI.fB){a.next=19;break}throw o=EI.fB,new tf(NI(o),LI.RB(o));case 19:this.LM.EB(t,n),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(9),this.qM(a.t0);case 25:case"end":return a.stop()}},null,this,[[9,22]],Ve)},i.WM=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr.awrap(yN.CM(t,this.bE));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=yN.PM(n),this.LM.NB(i)!==AI.hB){e.next=11;break}return kN.nf("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],Ve)},i.VM=function(t){return!t||Number(new Date)+2592e5+pN>=t},i.zM=function(){var t=kN.Su("THEOplayer.license");if(t)return yN.PM(t)},i.GM=function(t,n){this.sO.HM(t),this.qM(n)},i.qM=function(t){throw ot(t.message),this.MM.wO(t.message),t},t}(),TN=function(){function t(){this.jM=void 0,this.YM=new Wo}var n=t.prototype;return n.HM=function(t){this.jM=t,this.YM.Hu()},n.vO=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jM){t.next=2;break}return t.abrupt("return",Ve.resolve(this.jM));case 2:return t.next=4,Rr.awrap(this.YM.Uu);case 4:return t.abrupt("return",this.jM);case 5:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"QM",get:function(){return this.jM}}]),t}(),SN=function(t){function n(){return t.call(this,"l_")||this}return S(n,t),n.prototype.t_=function(){return new EN},n}(Gg),EN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(wu);function IN(t){var n,i={get fontFamily(){return t.ZM},set fontFamily(n){t.ZM=n},get fontColor(){return t.KM},set fontColor(n){t.KM=n},get fontSize(){return t.JM},set fontSize(n){t.JM=n},get backgroundColor(){return t.$M},set backgroundColor(n){t.$M=n},get windowColor(){return t.tU},set windowColor(n){t.tU=n},get edgeStyle(){return t.nU},set edgeStyle(n){t.nU=n},addEventListener:function(t,i){var e=_m(t,dm);n.Ys(e,i)},removeEventListener:function(t,i){var e=_m(t,dm);n.Js(e,i)}};return n=new du(i),t.Ys(["l_"],function(t){return n.js(t.$w)}),i}var RN,NN,DN={ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0,iU:void 0},CN="THEOplayer.textTrackStyle.",PN=function(t){function n(){var i;return(i=t.call(this)||this).eU=void 0,i.Jw=void 0,i.eU=n.rU(),i}return S(n,t),n.prototype.Wc=function(t){this.eU=Nr({},this.eU,t),n.sU(this.eU),this.js(new SN)},n.rU=function(){var t=Nr({},DN);return t.ZM=kN.Su(CN+"fontFamily")||t.ZM,t.KM=kN.Su(CN+"fontColor")||t.KM,t.JM=kN.Su(CN+"fontSize")||t.JM,t.$M=kN.Su(CN+"backgroundColor")||t.$M,t.tU=kN.Su(CN+"windowColor")||t.tU,t.nU=kN.Su(CN+"edgeStyle")||t.nU,t},n.sU=function(t){kN.nf(CN+"fontFamily",t.ZM||""),kN.nf(CN+"fontColor",t.KM||""),kN.nf(CN+"fontSize",t.JM||""),kN.nf(CN+"backgroundColor",t.$M||""),kN.nf(CN+"windowColor",t.tU||""),kN.nf(CN+"edgeStyle",t.nU||"")},A(n,[{key:"uU",get:function(){return this.eU}},{key:"ZM",get:function(){return this.eU.ZM},set:function(t){this.Wc({ZM:t})}},{key:"KM",get:function(){return this.eU.KM},set:function(t){this.Wc({KM:t})}},{key:"JM",get:function(){return this.eU.JM},set:function(t){this.Wc({JM:t})}},{key:"$M",get:function(){return this.eU.$M},set:function(t){this.Wc({$M:t})}},{key:"tU",get:function(){return this.eU.tU},set:function(t){this.Wc({tU:t})}},{key:"nU",get:function(){return this.eU.nU},set:function(t){this.Wc({nU:t})}},{key:"iU",get:function(){return this.eU.iU}},{key:"$w",get:function(){return this.Jw||(this.Jw=IN(this)),this.Jw}}]),n}(lu),BN=function(t){function n(n,e){var r;(r=t.call(this)||this).oU=void 0,r.Jc=void 0,r.AM=void 0,r.aU=void 0,r.jw=void 0,r.uM=void 0,r.yM=void 0,r.cU=void 0,r.hU=void 0,r.BC=void 0,r.LM=void 0,r.fU=void 0,r.vU=void 0,r.DC=void 0,r.lU=!1,r.Rm=!1,r.My=void 0,r.dU=!1,r.wU=void 0,r._U=void 0,r.gU=void 0,r.mU=void 0,r.yU=void 0,r.kU=function(t){if(!r.dU){r.dU=!0;var n=r.oU,i=Zy(t);r.AM.L_=new aE(r._y,i,t),ou(n.Od())}},r.bU=function(t){r.js(t.$w)},r.pU=function(t){t.type!==bf.Af&&t.type!==bf.pf&&r.js(t)};var s=vm(e.uid);m(s)?r.My=rk++:r.My=s,r.Jc=e;var u=i.jw,o=new TN;r.aU=new JI("4.0.0",u,o),r.jw=new FR(u,e.allowMixedContent),r.BC=new eN,r.LM=new RI(e.isEmbeddable,"4.0.0",pI()),r.yU=new AN(u,r.LM,r.aU,o,e,pI()),r.yU.XM().catch(r.kU),r.fU=new mR(n),r.fU.Ys("TO",r.bU),r.DC=new PN,r.uM=new cN,r.yM=new vN;var a=new oE(n,e,r.jw,r.BC,r.fU,r.DC);r.BC.yL(a);var c=a;c=new fN(c,r.AU),c=new lN(c,r.kM),r.oU=c,r.AM=new qy(r.oU),r.AM.Zs(r.pU),r.mU=new dN(Zt(r)),r._U=new VR(r.AM,r.jw,r.BC),r.cU=new nR(Zt(r)),r.vU=new SR(r.AM,e.allowNativeFullscreen),r.hU=new EE(r.vU),r.fU.ih();var h=new ce(r.fU,r.DC,1,[Ky.Sd]);return r.wU=new he(h),r.gU=new mN,r}S(n,t);var e=n.prototype;return e.VL=function(t){this.AM.Kg=t,t||this.Jg||this.jm()},e.sM=function(t){this.AM.um=t},e.TU=function(){Ny(this,IE,this)},e.Xm=function(){this.AM.Xm()},e.Fm=function(){this.AM.Fm()},e.Vm=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.yU.EB(t).catch(this.kU),i=ON(t),e.next=5,Rr.awrap(this.AM.Vm(i,n));case 5:case"end":return e.stop()}},null,this,null,Ve)},e.jm=function(){this.Rm||(this.AM.jm(),this.wU.jm(),this.Rm=!0)},e.kC=function(){return this.hU.sP()===bE.FULLSCREEN},e.Zm=function(){this.AM.Zm()},e.Km=function(){this.AM.Km()},e.Jm=function(){return this.AM.Jm()},e.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.AM.Hm());case 2:return t.next=4,Rr.awrap(this.AM.R_());case 4:case"end":return t.stop()}},null,this,null,Ve)},e.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this.gU.Od(),this.jw.Od(),this._U.Od(),this.vU.Od(),this.hU.Od(),this.fU.Od(),this.aU.Od(),this.wU.Od(),t.next=11,Rr.awrap(this.AM.Od());case 11:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"SU",get:function(){return this.BC}},{key:"Bm",get:function(){return this.lU},set:function(t){this.lU=t,this.AM.Bm=t}},{key:"EU",get:function(){return this.wU}},{key:"xm",get:function(){return this.AM.xm}},{key:"IU",get:function(){return this.gU}},{key:"RU",get:function(){return this.fU}},{key:"Um",get:function(){return this.AM.Um}},{key:"Am",get:function(){return this.mU}},{key:"NU",get:function(){return this._U}},{key:"Mm",get:function(){return this.AM.Mm}},{key:"DU",get:function(){return this.DC}},{key:"Lm",get:function(){return this.AM.Lm}},{key:"ly",get:function(){return this.AM.ly}},{key:"AU",get:function(){return this.uM}},{key:"kM",get:function(){return this.yM}},{key:"jg",get:function(){return this.AM.jg},set:function(t){this.AM.jg=t}},{key:"wy",get:function(){return this.AM.wy},set:function(t){this.AM.wy=t}},{key:"oy",get:function(){return this.AM.oy}},{key:"Yg",get:function(){return this.AM.Yg}},{key:"_y",get:function(){return this.AM._y}},{key:"Qg",get:function(){return this.AM.Qg}},{key:"wu",get:function(){return this.AM.wu}},{key:"Zg",get:function(){return this.AM.Zg}},{key:"Kg",get:function(){return this.AM.Kg},set:function(t){var n=Boolean(t);this.VL(n)}},{key:"Jg",get:function(){return this.AM.Jg}},{key:"$g",get:function(){return this.AM.$g},set:function(t){this.AM.$g=t}},{key:"Iy",get:function(){return this.AM.Iy}},{key:"Ry",get:function(){return this.AM.Ry},set:function(t){this.AM.Ry=ZS(t)}},{key:"og",get:function(){return this.AM.og}},{key:"Ny",get:function(){return this.AM.Ny}},{key:"tm",get:function(){return this.AM.tm}},{key:"H_",get:function(){return this.My}},{key:"nm",get:function(){return this.AM.nm}},{key:"im",get:function(){return this.AM.im}},{key:"um",get:function(){return this.AM.um},set:function(t){var n=Lt(Number(t),0,1)||0;this.sM(n)}},{key:"Dy",get:function(){return this.AM.Dy}}]),n}(Om);function ON(t){t.sources;var n=t.sources.filter(function(t){return F(t.integration)});return t.sources=n,t}!function(t){t[t.CU=0]="CU",t[t.PU=1]="PU"}(RN||(RN={})),function(t){t[t.BU=0]="BU"}(NN||(NN={}));var xN={};function LN(t,n){(xN[n]||(xN[n]=[])).push(t)}function MN(t,n){var i=t;if(xN[n])for(var e=0,r=xN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var UN=[];function XN(t){UN.push(t)}var FN=t.CustomEvent;var HN=function(){try{var t=new FN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},zN=function(){function t(t,n){var i=this;this.TD=void 0,this.OU=void 0,this.xU=!1,this.LU=function(t){i.OU.dO(t.error,i.jg)},this.MU=function(){i.OU.fO(i.UU),i.TD.removeEventListener("playing",i.MU),i.xU=!1},this.XU=function(){i.xU||(i.TD.addEventListener("playing",i.MU),i.xU=!0)},this.OU=n,this.TD=t,this.TD.addEventListener("error",this.LU),this.TD.addEventListener("sourcechange",this.XU),this.XU()}return t.prototype.R_=function(){},A(t,[{key:"jg",get:function(){var t=this.TD.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"UU",get:function(){return this.TD.src||""}}]),t}();XN(function(t){new zN(t.$w,t.aU)});var VN="theoplayer-stored-volume",WN="theoplayer-stored-mutedstate";LN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=kN.OM(VN);(void 0===r||m(r))&&(r=1);var s=kN.xM(WN)||!1;e.um=r,e.Kg=s}return e}S(n,t);var i=n.prototype;return i.VL=function(n){this.Jc.persistVolume&&kN.nf(WN,""+Boolean(n)),t.prototype.VL.call(this,n)},i.sM=function(n){this.Jc.persistVolume&&kN.nf(VN,""+Number(n)),t.prototype.sM.call(this,n)},n}(t)},RN.PU);var GN=new(function(){function t(){this.FU=[],this.Jw=void 0}var n=t.prototype;return n.T_=function(t){return this.FU[t]},n.HU=function(t){this.FU.push(t),this.$w.push(t.$w)},n.Vc=function(t){var n=this.FU.indexOf(t);n<0||(Us(this.FU,n),this.Jw&&Us(this.Jw,n))},n.zU=function(t){for(var n=0,i=this.FU;n<i.length;n++){var e=i[n];if(e.H_===t)return e}},A(t,[{key:"D_",get:function(){return this.FU.length}},{key:"$w",get:function(){return this.Jw||(this.Jw=function(t){for(var n=[],i=0;i<t.D_;i++)n[i]=t.T_(i).$w;return n.getPlayerByUID=function(n){var i=t.zU(n);return i&&i.$w},n}(this)),this.Jw}}]),t}()),qN=function(){function t(t){var n=this;this.VU=[],this.WU=void 0,this.Kv=new Zs,this.GU=void 0,this.qU=function(){return 0===n.VU.length?n.GU?jN(n.GU,n.Kv.zs).then(n.jU,n.jU):n.jU():n.VU.shift()().then(n.qU)},this.jU=function(){if(0!==n.VU.length)return n.qU();n.WU=void 0},this.GU=t}var n=t.prototype;return n.YU=function(t,n){var i=this;return new Ve(function(e){var r=new Zs;r.Fs(i.Kv.zs),n&&r.Fs(n);var s=function(){r.Bs()};i.VU.push(function(){var n=jN(t,r.zs);return e(n),n.then(s,s)}),i.WU||(i.WU=i.qU())})},n.Xs=function(){return this.QU(!0)},n.Od=function(){return this.GU=void 0,this.QU(!1)},n.QU=function(t){var n=this.WU;return this.Kv.Xs(),t&&(this.Kv=new Zs),Ve.resolve(n)},t}();function jN(t,n){return new Ve(function(i){return i(t(n))})}var YN,QN=function(t){function n(n){var i;return(i=t.call(this,bf.Mf)||this).source=n,i}return S(n,t),n}(wu),ZN=function(t){function n(){var n;return(n=t.call(this)||this).AC=void 0,n.SC=void 0,n.IC=void 0,n.EC=void 0,n.AC=0,n.SC=!0,n.IC=!1,n.EC=1,n}S(n,t);var i=n.prototype;return i.Xm=function(){this.SC&&(this.SC=!1,this.js(new cy(this.jg)),this.js(new aA(this.jg)))},i.Fm=function(){this.SC||(this.SC=!0,this.js(new _y(this.jg,this.wy)),this.js(new ay(this.jg)))},i.R_=function(){this.AC=0,this.IC=!1,this.EC=1,this.Fm(),this.js(new oy(this.AC))},i.Od=function(){this.Ks()},i.Km=function(){},i.Zm=function(){},A(n,[{key:"wy",get:function(){},set:function(t){}},{key:"jg",get:function(){return this.AC},set:function(t){this.IC&&this.AC===t||(this.AC=t,this.IC=!0,this.js(new yy(this.jg)))}},{key:"Jg",get:function(){return this.SC}},{key:"$g",get:function(){return this.EC},set:function(t){this.EC!==t&&(this.EC=t,this.js(new wy(this.jg,this.$g)))}},{key:"og",get:function(){return Vm.Lg}},{key:"tm",get:function(){return this.IC}}]),n}(Bm),KN=function(t){function n(){return t.call(this,bf.lf)||this}return S(n,t),n}(wu),JN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},$N={visibility:"hidden"},tD={visibility:"visible"},nD=function(){function t(t){var n,i=this;this.mD=void 0,this.TD=void 0,this.ZU=!1,this.KU=void 0,this.JU=void 0,this.$U=function(t){var n;i.ZU=!1,i.KU=null==(n=t.source)?void 0:n.poster,i.Wc()},this.zE=function(){i.ZU=!0,i.Km()},this.TD=t,this.ND(),this.mD=((n=ve&&ve.document&&ve.document.createElement("div")).className="theoplayer-poster",nr(JN,n),n),t._y.appendChild(this.mD)}var n=t.prototype;return n.Wc=function(){var t=this.TD.Jg,n=this.ZU;this.od?this.mD.style.backgroundImage='url("'+this.od.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.mD.style.backgroundImage="",t&&this.od&&!n?this.Zm():this.Km()},n.Zm=function(){nr($N,this.TD._y),nr(tD,this.mD)},n.Km=function(){nr($N,this.mD),nr(tD,this.TD._y)},n.ND=function(){this.TD.Ys("sourcechange",this.$U),this.TD.Ys("play",this.zE)},n.Od=function(){this.TD.Js("sourcechange",this.$U),this.TD.Js("play",this.zE),Je(this.mD)},A(t,[{key:"od",get:function(){return void 0!==this.KU?this.KU:void 0!==this.JU?this.JU:void 0}},{key:"tX",set:function(t){this.JU=t,this.Wc()}}]),t}();function iD(t){return function(i){function e(n,e){var r;return(r=i.call(this,n)||this).TD=void 0,r.nX=void 0,r.iX=void 0,r.eX=void 0,r.rX=void 0,r.sX=void 0,r.uX=void 0,r.oX=void 0,r.RD=void 0,r.ED=void 0,r.uN=void 0,r.UC=void 0,r.Jw=void 0,r.aX=function(t){t.type!==bf.If&&r.oX.push(t)},r.nX=new t(n,e),r.iX=new ZN,r.TD=r.nX,r.eX=new nD(Zt(r)),r.sX=new qN,r.uX=!1,r.oX=[],r.RD=!0,r.ND(),r}S(e,i);var r=e.prototype;return r.YU=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.sX.YU(t,n).catch(nu));case 1:case"end":return i.stop()}},null,this,null,Ve)},r.cX=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),this.nX.Zs(this.aX),i.next=4,Rr.awrap(this.nX.Vm(t,n));case 4:this.nX.nu(this.aX);case 5:case"end":return i.stop()}},null,this,null,Ve)},r.hX=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.zm())&&!$E(t)&&this.Bm&&this.Jg){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.Jc.mutedAutoplay,e.next=6,Rr.awrap(this.EU.fX());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.vX(),e.abrupt("break",14);case 12:return(this.Kg||n===hy.ALL)&&(this.Kg=!0,this.Xm()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,Ve)},r.Vm=function(t){var i=this,e=this.ED;e&&!$E(e)&&this.js(new oy(0,0)),this.R_(),this.ED=t,ou(this.YU(function(e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return $s(e),r.prev=1,r.next=4,Rr.awrap(i.cX(t,e));case 4:r.next=11;break;case 6:return r.prev=6,r.t0=r.catch(1),i.ED=void 0,i._N((s=r.t0,u=n.ErrorCode.SOURCE_NOT_SUPPORTED,s instanceof tf?s:s instanceof v?new tf(u,s.message,s):new tf(u,String(s)))),r.abrupt("return");case 11:return r.next=13,Rr.awrap(i.lX());case 13:case"end":return r.stop()}var s,u},null,null,[[1,6]],Ve)}))},r.lX=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dX(this.nX),this.js(new QN(this.zm())),t.next=4,Rr.awrap(this.hX());case 4:case"end":return t.stop()}},null,this,null,Ve)},r.xL=function(t){this.TD.jg=t},r.XL=function(){var t;return null!=(t=this.UC)?t:this.nX.wu},r.FL=function(){var t;return null!=(t=this.uN)?t:this.nX.Zg},r._N=function(t){void 0===this.FL()&&(this.uN=t,this.UC=Zy(t),this.js(new Sy(t)))},r.Xm=function(){this.TD.Xm()},r.vX=function(){this.Kg||this.jm(),this.Xm()},r.jm=function(){this.nX.jm()},r.Fm=function(){this.TD.Fm()},r.Hm=function(){this.Vm(void 0)},r.Zm=function(){this.RD=!0,this.TD.Zm()},r.Km=function(){this.RD=!1,this.TD.Km()},r.TU=function(){this.nX.TU()},r.sM=function(t){this.nX.sM(t)},r.VL=function(t){this.nX.VL(t)},r.wX=function(t){this.rX=t,t.HU(this)},r.kC=function(){return this.nX.kC()},r.zm=function(){return this.ED},r.Jm=function(){return this.nX.Jm()},r.OL=function(){return this.nX.jg},r.LL=function(){return this.nX.Yg},r.DL=function(){return this.nX.ly},r.YL=function(){return this.nX.Iy},r.JL=function(){return this.nX.Ny},r.R_=function(){var t=this;this.ED=void 0,this.uN=void 0,this.UC=void 0,Hs(this.oX),this.iX.R_(),this.dX(this.iX),this.sX.Xs(),ou(this.sX.YU(function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(n),i.next=3,Rr.awrap(t.nX.R_());case 3:case"end":return i.stop()}},null,null,null,Ve)}))},r.Od=function(){var t=this;this.js(new KN),this.eX.Od(),this.DD(),this.R_(),ou(this.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.nX.Od());case 2:t.rX&&(t.rX.Vc(t),t.rX=void 0),t.sX.Od();case 4:case"end":return n.stop()}},null,null,null,Ve)})),this.Ks()},r.dX=function(t){if(this.TD!==t){var n=this.TD.Jg,i=this.TD.jg,e=this.TD.$g,r=this.TD.tm;this.DD(),t===this.nX?((r||t.jg!==i)&&(t.jg=i),t.$g!==e&&(t.$g=e),n?t.Fm():t.Xm()):this.Jc.retainPlaybackRateOnSourceChange?t.$g=e:1!==e&&this.js(new wy(this.OL(),1)),this.TD=t,this.ND();for(var s=0,u=this.oX;s<u.length;s++){var o=u[s];this.js(o)}Hs(this.oX),this.RD?t.Zm():t.Km()}},r.ND=function(){this.TD.Zs(this.qs)},r.DD=function(){this.TD.nu(this.qs)},r.t_=function(){return t=this,e=function(n){i=n;var e=hI(n,t.Jc);t.Vm(e)},r={get abr(){return t.SU.$w},get audioTracks(){return t.xm.$w},get autoplay(){return t.Bm},set autoplay(n){t.Bm=Boolean(n)},get buffered(){return t.DL()},get canvas(){return t.cU.$w},get clip(){return t.AU.$w},get currentProgramDateTime(){var n;return null!=(n=t.wy)?n:null},set currentProgramDateTime(n){t.wy=null!=n?n:void 0},get currentTime(){return t.OL()},set currentTime(n){t.xL(Number(n))},get duration(){return t.LL()},get element(){return t._y},get ended(){return t.Qg},get error(){return t.XL()},get errorObject(){return t.FL()},get loop(){return t.kM.kM},set loop(n){t.kM.kM=Boolean(n)},get metrics(){return t.Am.$w},get muted(){return t.Kg},set muted(n){t.VL(n)},get network(){return t.NU.$w},get paused(){return t.Jg},get playbackRate(){return t.$g},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.$g=i},get played(){return t.YL()},get poster(){return t._X},set poster(n){t._X=dm(n)},get preload(){return t.Ry},set preload(n){t.Ry=n},get presentation(){return t.hU.$w},get readyState(){return t.og},get seekable(){return t.JL()},get seeking(){return t.tm},get source(){return i},set source(t){e(t)},get src(){return tI(t.zm())},set src(t){e({sources:t})},get textTracks(){return t.Mm.$w},get textTrackStyle(){return t.DU.$w},get uid(){return t.H_},get videoHeight(){return t.nm},get videoTracks(){return t.Lm.$w},get videoWidth(){return t.im},get volume(){return t.um},set volume(n){t.sM(Number(n))},get latency(){return t.Dy.$w},destroy:function(){t.Od(),t=null,i=void 0},play:function(){t.vX()},pause:function(){t.Fm()},stop:function(){i=void 0,t.Hm()},prepareWithUserAction:function(){t.jm()},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)},setSource:function(t){e(t)}},(n=new TE(r,!0)).GC(t),r;var t,n,i,e,r},A(e,[{key:"aU",get:function(){return this.nX.aU}},{key:"cU",get:function(){return this.nX.cU}},{key:"Jc",get:function(){return this.nX.Jc}},{key:"oU",get:function(){return this.nX.oU}},{key:"jw",get:function(){return this.nX.jw}},{key:"WN",get:function(){return this.nX.vU}},{key:"hU",get:function(){return this.nX.hU}},{key:"fU",get:function(){return this.nX.fU}},{key:"AM",get:function(){return this.nX.AM}},{key:"SU",get:function(){return this.nX.SU}},{key:"Bm",get:function(){return this.nX.Bm},set:function(t){this.nX.Bm=t,this.hX()}},{key:"EU",get:function(){return this.nX.EU}},{key:"xm",get:function(){return this.nX.xm}},{key:"IU",get:function(){return this.nX.IU}},{key:"RU",get:function(){return this.nX.fU}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"Um",get:function(){return this.nX.Um}},{key:"Am",get:function(){return this.nX.Am}},{key:"NU",get:function(){return this.nX.NU}},{key:"Mm",get:function(){return this.nX.Mm}},{key:"DU",get:function(){return this.nX.DU}},{key:"Lm",get:function(){return this.nX.Lm}},{key:"AU",get:function(){return this.nX.AU}},{key:"kM",get:function(){return this.nX.kM}},{key:"wy",get:function(){return this.TD.wy},set:function(t){this.TD.wy=t}},{key:"oy",get:function(){return this.nX.oy}},{key:"_y",get:function(){return this.nX._y}},{key:"Qg",get:function(){return this.nX.Qg}},{key:"Kg",get:function(){return this.nX.Kg},set:function(t){this.nX.Kg=t}},{key:"Jg",get:function(){return this.TD.Jg}},{key:"_X",get:function(){return this.eX.od||""},set:function(t){this.eX.tX=t}},{key:"$g",get:function(){return this.nX.$g},set:function(t){this.TD.$g=t}},{key:"Ry",get:function(){return this.nX.Ry},set:function(t){this.nX.Ry=ZS(t)}},{key:"og",get:function(){return this.TD.og}},{key:"tm",get:function(){return this.TD.tm}},{key:"H_",get:function(){return this.nX.H_}},{key:"nm",get:function(){return this.nX.nm}},{key:"im",get:function(){return this.nX.im}},{key:"um",get:function(){return this.nX.um},set:function(t){this.nX.um=t}},{key:"Dy",get:function(){return this.nX.Dy}}]),e}(Om)}function eD(t,n){var i=Iy(n),e=new(YN||(YN=MN(YN=iD(BN),RN.CU),YN=MN(YN,RN.PU)),YN)(t,i),r=e.$w;return e.TU(),e.wX(GN),d.defineProperty(r,"constructor",{value:eD}),r=rm(r),function(t){for(var n=0;n<UN.length;n++)(0,UN[n])(t)}(e),r}uu(function(){t.dispatchEvent&&t.dispatchEvent(HN("theoplayerready"))});var rD,sD={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Pu(t)},n.decode=function(t){return Du(t)},t}())},uD=["hls","airplay"],oD=GN.$w,aD=FA.xI.registerContentProtectionIntegration.bind(FA.xI),cD=[bf.Sf,bf.Tf,uy.qg,bf.Uf,bf.Ef,bf.yf,bf.Cf,bf.Df,bf._f,bf.If,bf.Xf,bf.df,uy.d_,bf.Nf,Tm.Z_,vu._u,vu.yu,bf.hf,bf.cf,bf.Ff],hD={gX:!1,mX:50},fD=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.ZP="yX"}(rD||(rD={}));var vD,lD=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Rh=void 0,s.rN=void 0,s.Fh=void 0,s.kX=!1,s.bX=new Wo,s.pX=!1,s.sX=new qN,s.AX=void 0,s._s=void 0,s.Zc=void 0,s.TX=function(){s.pX=!0},s.SX=function(){s.EX(!0)},s.Rh=n,s.rN=i,s.Fh=i.CN,s.AX=e,s._s=r,s.Fh.addEventListener("loadedmetadata",s.TX);for(var u=0;u<fD.length;u++){var o=fD[u];s.Fh.addEventListener(o,s.SX)}return s}S(i,t);var e=i.prototype;return e.IX=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,Rr.awrap(i.uh());case 5:return e=r.sent,r.next=8,Rr.awrap(this.RX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},e.NX=function(t){var n=this.Zc;return n?0!==t.xN.length&&t.xN.some(function(t){return t.Kc.hs===n.Kc}):0===t.xN.length||!this.pX},e.DX=function(t){return this.AX.DX(t),this.Rh=t,Ve.resolve()},e.Bs=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Ks(),this.Fh.removeEventListener("loadedmetadata",this.TX),t=0;t<fD.length;t++)n=fD[t],this.Fh.removeEventListener(n,this.SX);return i.next=5,Rr.awrap(this.sX.Od());case 5:return i.next=7,Rr.awrap(this.CX());case 7:return i.next=9,Rr.awrap(this.AX.R_());case 9:return i.next=11,Rr.awrap(this.RX(void 0));case 11:case"end":return i.stop()}},null,this,null,Ve)},e.EX=function(t){t!==this.kX&&(this.kX=t,t?this.bX.Hu(void 0):this.bX=new Wo)},e.RX=function(t){var n=this;return this.sX.YU(function(){return n.PX(t)})},e.PX=function(t){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Fh.src){e.next=4;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Fh.src){e.next=6;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.kX){e.next=9;break}return e.next=9,Rr.awrap(this.bX.Uu);case 9:if(!(i=this.Zc)){e.next=14;break}return e.next=13,Rr.awrap(i.eh(this.Fh));case 13:this.Zc=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Rr.awrap(t.ih(this.Fh));case 17:this.Zc=t;case 18:case"end":return e.stop()}},null,this,null,Ve)},e.Vm=function(t){var n=this;return this.sX.YU(function(){return n.BX(t)})},e.BX=function(t){this.EX(!1);var n=this.rN.$g;this.Fh.src=t,this.rN.$g=n},e.OX=function(t){var n=this;return this.sX.YU(function(){return n.xX(t)})},e.xX=function(t){this.BX(t),this.Fh.load()},e.CX=function(){var t=this;return this.sX.YU(function(){return t.LX()})},e.LX=function(){this.EX(!1),sr(this.Fh)},A(i,[{key:"xm",get:function(){throw new v("Not implemented")}},{key:"Jc",get:function(){return this.Rh}},{key:"CN",get:function(){return this.Fh}},{key:"Lm",get:function(){throw new v("Not implemented")}}]),i}(lu),dD=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.yL=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.Jc,n.t0=t.MN,n.next=n.t0===Xm.Pg?4:n.t0===Xm.Bg?4:(n.t0,Xm.Cg,6);break;case 4:return this.Fh.setAttribute("crossorigin",t.MN),n.abrupt("break",8);case 6:return this.Fh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Ry?this.Fh.preload=t.Ry:this.Fh.preload=YS.MR,void 0!==t.UN?this.Fh.title=t.UN:er(this.Fh),n.next=12,Rr.awrap(this.Vm(t.hg));case 12:this.AX.zc(this,t);case 13:case"end":return n.stop()}},null,this,null,Ve)},i.NX=function(t){return!1},i.DX=function(t){return Ve.resolve(void 0)},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return er(this.Fh),n.next=3,Rr.awrap(t.prototype.Bs.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n.MX=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Xl))},A(n,[{key:"ly",get:function(){return iE.wC(this.Fh.buffered)}},{key:"Yg",get:function(){return this.Fh.duration}},{key:"UX",get:function(){var t=this.Yg;if(!isFinite(t))return!1;var n=this.ly;return 0!==n.D_&&t-n.MD(n.D_-1)<1/6}},{key:"Ry",get:function(){return this.Fh.preload},set:function(t){this.Fh.preload=t}},{key:"Ny",get:function(){return iE.wC(this.Fh.seekable)}},{key:"XX",get:function(){return this.ly}},{key:"FX",get:function(){if(rr(this.Fh)&&(this.Fh.videoWidth>0||this.Fh.videoHeight>0))return this.ly}}]),n}(lD),wD=function(t){function n(n){var i;return(i=t.call(this,bf.Ef)||this).currentTime=n,i}return S(n,t),n}(wu),_D=function(t){function n(){return t.call(this,bf.yf)||this}return S(n,t),n}(wu);!function(t){t.HX="zX"}(vD||(vD={}));var gD,mD,yD=[vD.HX];!function(t){t[t.VX=0]="VX",t[t.Gf=1]="Gf",t[t.WX=2]="WX"}(gD||(gD={})),function(t){t.GX="qX"}(mD||(mD={}));var kD=function(t){function n(n){var i;return(i=t.call(this,mD.GX)||this).jX=n,i}return S(n,t),n}(wu),bD=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).YX=iE.mC(),n}S(n,t);var i=n.prototype;return i.QX=function(t,n){var i=new iE([t,n]);this.YX=this.YX.tC(i),this.js(new kD(i))},i.ZX=function(t,n){this.YX=this.YX.iC(new iE([t,n]))},i.R_=function(){this.YX=iE.mC()},i.Od=function(){this.Ks()},A(n,[{key:"KX",get:function(){return this.YX}}]),n}(lu);function pD(t,n){return void 0===n&&(n=new uw({highWaterMark:1/0})),new Wd(new TD(t,n),{highWaterMark:0})}var AD,TD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.ev=void 0,this.JX=void 0,this.$X=void 0,this.Ev=[],this.Iv=0,this.YM=void 0,this.tF=!1,this.nF=void 0,this.iF=function(t){return t.done?(i.eF(),void i.YM.close()):(i.Ev.push(t.value),i.Iv+=i.JX(t.value),i.tF&&i.eF(),i.rF()?i.ev.read().then(i.iF):void 0)},this.gw=function(t){i.eF(),i.YM.error(t)},this.ev=t.getReader(),this.JX=r,this.$X=u}var n=t.prototype;return n.start=function(t){this.YM=t,this.rF()&&this.sF()},n.pull=function(){this.Ev.length>0?this.eF():this.tF=!0,this.rF()&&this.sF()},n.cancel=function(t){return Hs(this.Ev),this.Iv=0,this.tF=!1,this.ev.cancel(t)},n.eF=function(){if(0!==this.Ev.length){var t=this.Ev;this.Ev=[],this.Iv=0,this.tF=!1,this.YM.enqueue(t)}},n.rF=function(){return!!this.tF||this.$X-this.Iv>0},n.sF=function(){var t=this;if(!this.nF){var n=this.ev.read().then(this.iF).catch(this.gw);this.nF=n;var i=function(){t.nF===n&&(t.nF=void 0)};n.then(i,i)}},t}(),SD=function(){function t(){this.uF=[],this.Nu=0}var n=t.prototype;return n.HU=function(t){this.uF.push(t),this.Nu+=t.byteLength},n.oF=function(t){if(this.Nu<=t)return this.aF();for(var n=this.uF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(Bo(n[e],0,s)),i+=s}return{uF:r,Nu:i}},n.cF=function(t){var n=this.oF(t);return 1===n.uF.length?n.uF[0]:Uu(n.uF,n.Nu)},n.aF=function(){return{uF:this.uF,Nu:this.Nu}},n.hF=function(t){if(this.Nu<=t)return this.fF();for(var n=this.uF,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(Bo(n[0],0,s)),n[0]=Bo(n[0],s),i+=s}return this.Nu-=i,{uF:r,Nu:i}},n.vF=function(t){var n=this.hF(t);return 1===n.uF.length?n.uF[0]:Uu(n.uF,n.Nu)},n.fF=function(){var t=this.aF();return this.uF=[],this.Nu=0,t},n.lF=function(){var t=1===this.uF.length?this.uF[0]:Uu(this.uF,this.Nu);return this.uF=[],this.Nu=0,t},t}();!function(t){t[t.dF=0]="dF",t[t.wF=1]="wF",t[t._F=2]="_F"}(AD||(AD={}));var ED=function(){var t=n.prototype;function n(){this.Ev=new SD,this.we=AD.dF,this.gF=0,this.mF=0,this.yF()}return t.kF=function(t,n){},t.bF=function(){},t.pF=function(t){this.Ev.HU(t),this.AF(!1)},t.TF=function(){this.AF(!0)},t.SF=function(){return this.we!==AD.dF||0!==this.Ev.Nu},t.AF=function(t){for(;0!==this.Ev.Nu;){if(!t&&this.gF>this.Ev.Nu)return;switch(this.we){case AD.dF:this.EF(t);break;case AD.wF:this.IF(t);break;case AD._F:this.RF(t)}}},t.yF=function(){this.we=AD.dF,this.gF=8},t.EF=function(t){var n=xo(this.Ev.cF(this.gF)),i=new zo,e=jb.RA(n,i);if(!e.AA)return this.gF=e.DA,void(t&&this.gF>this.Ev.Nu&&this.NF(this.Ev.Nu));var r=e.NA.us,s=e.NA.Nu;0===s&&(s=1/0),this.kF(r,s),this.DF(r)?this.CF(s):this.NF(s)},t.CF=function(t){this.we=AD.wF,this.gF=t},t.IF=function(t){var n=xo(this.Ev.vF(this.gF)),i=new zo,e=jb.TA(n,i,!t);if(!e.AA)throw new qb(i.Du);this.bF(),this.PF(e.SA),this.yF()},t.NF=function(t){this.we=AD._F,this.gF=0,this.mF=t},t.RF=function(t){var n=this.Ev.hF(this.mF);this.mF-=n.Nu;for(var i=0,e=n.uF;i<e.length;i++){var r=e[i];this.BF(r)}(0===this.mF||t&&this.mF===1/0)&&(this.bF(),this.yF())},n}(),ID=function(t){function n(n){var i;return(i=t.call(this)||this).YM=void 0,i.OF=void 0,i.xF=void 0,i.LF=void 0,i.OF=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.YM=t},i.transform=function(t){this.pF(t)},i.flush=function(){this.TF()},i.DF=function(t){return t===ib._p||t===ib.zp||t===ib.Jp},i.PF=function(t){var n=this.MF(t);this.YM.enqueue(n)},i.BF=function(t){this.YM.enqueue(t)},i.MF=function(t){var n=Lo(t.Xi.Xi);switch(t.us){case"moov":return this.UF(n);case"sidx":return this.XF(n);case"moof":return this.FF(n)}return n},i.UF=function(t){for(var n=kh(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof xc?n.boxes[i]=this.HF(e):e instanceof Lc?n.boxes[i]=this.zF(e):e instanceof zc&&this.VF(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Pc&&this.WF(u)}return n.serialize().join()},i.HF=function(t){this.xF=t.timescale;var n=ND(ht.fromNumber(t.duration,!0),this.GF,this.OF);return 0!==n.getHighBits()?this.zF(function(t){return new Lc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ht.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.OF,t.duration=n.toInt(),t)},i.zF=function(t){return this.xF=t.timescale,t.timescale=this.OF,t.duration=ND(t.duration,this.GF,this.OF),t},i.VF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Xc?t.boxes[n]=this.qF(i):i instanceof Fc?t.boxes[n]=this.jF(i):i instanceof hc?this.YF(i):i instanceof $a&&this.QF(i)}},i.qF=function(t){var n=ND(ht.fromNumber(t.duration,!0),this.GF,this.OF);return 0!==n.getHighBits()?this.jF(function(t){return new Fc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),duration:ht.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.jF=function(t){return t.duration=ND(t.duration,this.GF,this.OF),t},i.YF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof uc?t.boxes[n]=this.ZF(i):i instanceof oc&&(t.boxes[n]=this.KF(i))}},i.ZF=function(t){this.LF=t.timescale;var n=ND(ht.fromNumber(t.duration,!0),this.JF,this.OF);return 0!==n.getHighBits()?this.KF(function(t){return new oc({creation:ht.fromNumber(t.creationTime,!0),modification:ht.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ht.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.OF,t.duration=n.toInt(),t)},i.KF=function(t){return this.LF=t.timescale,t.timescale=this.OF,t.duration=ND(t.duration,this.JF,this.OF),t},i.QF=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Za?this.tH(e):e instanceof Ka&&this.nH(e)}},i.tH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=RD(e.mediaTime,this.GF,this.OF),e.segmentDuration=RD(e.segmentDuration,this.GF,this.OF)}},i.nH=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=ND(e.mediaTime,this.GF,this.OF),e.segmentDuration=ND(e.segmentDuration,this.GF,this.OF)}},i.WF=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Dc?this.iH(i):i instanceof Ic?t.boxes[n]=this.eH(i):i instanceof Rc&&(t.boxes[n]=this.rH(i))}},i.iH=function(t){t.defaultSampleDuration=RD(t.defaultSampleDuration,this.JF,this.OF)},i.eH=function(t){var n=ND(ht.fromNumber(t.fragmentDuration,!0),this.GF,this.OF);return 0!==n.getHighBits()?this.rH(function(t){return new Rc(ht.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.rH=function(t){return t.fragmentDuration=ND(t.fragmentDuration,this.GF,this.OF),t},i.XF=function(t){var n=bh(t);return(n=n instanceof ah?this.sH(n):this.uH(n)).serialize().join()},i.sH=function(t){var n=t.timescale,i=ND(ht.fromNumber(t.earliestPresentationTime,!0),n,this.OF);if(0!==i.getHighBits())return this.uH(function(t){return new ch(t.referenceId,t.timescale,ht.fromNumber(t.earliestPresentationTime,!0),ht.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.OF,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=RD(s.subsegmentDuration,n,this.OF)}return t},i.uH=function(t){var n=t.timescale;t.timescale=this.OF,t.earliestPresentationTime=ND(t.earliestPresentationTime,n,this.OF);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=RD(r.subsegmentDuration,n,this.OF)}return t},i.FF=function(t){for(var n=ph(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof th&&this.oH(s)}var u=n.getSize();if(u!==i)for(var o=u-i,a=0,c=n.boxes;a<c.length;a++){var h=c[a];h instanceof th&&this.aH(h,o)}return n.serialize().join()},i.oH=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Zc?this.cH(i):i instanceof jc?t.boxes[n]=this.hH(i):i instanceof Yc?t.boxes[n]=this.fH(i):i instanceof Jc&&this.vH(i)}},i.cH=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=RD(t.defaultSampleDuration,this.JF,this.OF))},i.hH=function(t){var n=ND(ht.fromNumber(t.baseMediaDecodeTime,!0),this.JF,this.OF);return 0!==n.getHighBits()?this.fH(function(t){return new Yc(ht.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.fH=function(t){return t.baseMediaDecodeTime=ND(t.baseMediaDecodeTime,this.JF,this.OF),t},i.vH=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var a=o[u];if(void 0!==a.duration){var c=RD(s+=a.duration,this.JF,this.OF);a.duration=c-r,r=c}void 0!==a.compositionTimeOffset&&(a.compositionTimeOffset=(n=a.compositionTimeOffset,i=this.JF,e=this.OF,ht.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.aH=function(t,n){var i=Os(t.boxes,DD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Jc&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"GF",get:function(){if(void 0===this.xF)throw new v("Expected to have found a movie header timescale.");return this.xF}},{key:"JF",get:function(){if(void 0===this.LF)throw new v("Expected to have found a media header timescale.");return this.LF}}]),n}(ED);function RD(t,n,i){return ht.fromInt(t,!0).multiply(i).divide(n).toNumber()}function ND(t,n,i){return zk.Kk(t).Sb(zk.Jk(i,!0)).Nb(zk.Jk(n,!0)).vb()}function DD(t){return t instanceof Zc}var CD,PD,BD,OD=1e5,xD=function(){function t(t){this.lH=void 0,this.lH=new ID(t)}return t.prototype.dH=function(t){return t.pipeThrough(new vw(this.lH))},t}();function LD(t,n,i){var e=no(t,n);if(e!==i)throw new l("Expected descriptor with tag "+i+", but found "+e)}function MD(t,n){LD(t,n,CD.wH);var i,e,r,s=UD(t,n),u=n.Du+s,o=oo(t,n),a=no(t,n),c=0!=(64&a),h=0!=(32&a),f=31&a;(0!=(128&a)&&(i=oo(t,n)),c)&&(e=wo(t,n,no(t,n)));h&&(r=wo(t,n,2));var v=function(t,n){LD(t,n,CD._H);var i,e=UD(t,n),r=n.Du+e,s=no(t,n),u=no(t,n),o=u>>2,a=0!=(2&u),c=uo(t,n,3),h=co(t,n),f=co(t,n);if(n.Du<r){var v=function(t,n){return t.getUint8(n.Du)}(t,n);v===CD.gH&&(i=function(t,n){LD(t,n,CD.gH);var i=UD(t,n),e=eo(t,n,i);return{mH:CD.gH,yH:e}}(t,n))}return n.Bu(r),{mH:CD._H,kH:s,bH:o,pH:a,AH:c,TH:h,SH:f,EH:i}}(t,n);return n.Bu(u),{mH:CD.wH,F_:o,IH:i,od:e,RH:f,NH:r,DH:v}}function UD(t,n){for(var i=0,e=0;e<4;e++){var r=no(t,n);if(i=i<<7|127&r,!(128&r))break}return i}function XD(t,n){for(var i=no(t,n),e=no(t,n),r=no(t,n),s=no(t,n),u=3&no(t,n),o=31&no(t,n),a=[],c=0;c<o;c++){var h=oo(t,n);a.push(eo(t,n,h))}for(var f=no(t,n),v=[],l=0;l<f;l++){var d=oo(t,n);v.push(eo(t,n,d))}return{CH:i,PH:e,BH:r,OH:s,xH:u,LH:a,MH:v}}function FD(t,n){var i=Wb(Jb.LA(t),ib.zp);if(i&&0!==i.KA.length)return HD(i,n)}function HD(t,n){for(var i,e=0,r=t.KA;e<r.length;e++){var s,u=r[e],o=null==(s=u.TS)?void 0:s.TS;o&&function(){var t=u.NA.hT,e=Os(n.KA,function(n){return n.hT===t}),r=Kk.Kk(o,e.Pb);i=i?Kk.Lb(i,r):r}()}return i}function zD(t){var n=Wb(Jb.LA(t),ib._p);if(n){for(var i=n.NA.Pb,e=[],r=0,s=n.KA;r<s.length;r++){for(var u=s[r],o=u.NA.hT,a=u.uT.NA.Pb,c=void 0,h=void 0,f=0,v=u.uT.mT.bT.AT.ST;f<v.length;f++){var l,d,w=VD(v[f]);if(w)c=null!=(l=w.UH)?l:c,h=null!=(d=w.XH)?d:h}e.push({hT:o,Pb:a,FH:{UH:c,XH:h,HH:void 0}})}return{Pb:i,KA:e}}}function VD(t){var n,i;if(t.us===ib.Np)n=function(t){return"avc1."+WD(t.PH,2)+WD(t.BH,2)+WD(t.OH,2)}(XD(xo(t.KT.Xi),new zo));else if(t.us===ib.Cp||t.us===ib.Pp){var e=function(t,n){for(var i=n.Mu(),e=Vu(t,i,8),r=Vu(t,i,2),s=Vu(t,i,1),u=Vu(t,i,5),o=Vu(t,i,32),a=[],c=0;c<6;c++)a.push(Vu(t,i,8));var h=Vu(t,i,8);i.Cu(4);var f=Vu(t,i,12);i.Cu(6);var v=Vu(t,i,2);i.Cu(6);var l=Vu(t,i,2);i.Cu(5);var d=Vu(t,i,3);i.Cu(5);for(var w=Vu(t,i,3),_=Vu(t,i,16),g=Vu(t,i,2),m=Vu(t,i,3),y=Vu(t,i,1),k=Vu(t,i,2),b=Vu(t,i,8),p=[],A=0;A<b;A++){var T=Vu(t,i,1);i.Cu(1);for(var S=Vu(t,i,6),E=Vu(t,i,16),I=[],R=0;R<E;R++){var N=Vu(t,i,16),D=eo(t,new zo(i.Du>>3),N);i.Cu(8*N),I.push({zH:N,VH:D})}p.push({WH:T,GH:S,qH:E,jH:I})}return{CH:e,YH:r,QH:s,ZH:u,KH:a,JH:h,$H:f,tz:v,nz:o,iz:l,ez:d,rz:w,sz:_,oz:m,cz:y,fz:g,xH:k,vz:b,lz:p}}(xo(t.nS.Xi),new zo);n=function(t,n){var i=t.toString()+".";switch(n.YH){case 0:break;case 1:i+="A";break;case 2:i+="B";break;case 3:i+="C";break;default:return}switch(i+=n.ZH.toString()+".",i+=(e=n.nz,r=e,r=(r=(r=(r=(r=r>>>1&1431655765|(1431655765&r)<<1)>>>2&858993459|(858993459&r)<<2)>>>4&252645135|(252645135&r)<<4)>>>8&16711935|(16711935&r)<<8)>>>16|r<<16).toString(16)+".",n.QH){case 0:i+="L";break;case 1:i+="H";break;default:return}var e,r;i+=n.JH.toString();for(var s=n.KH.reduce(function(t,n){return 0===t?n:n+1},0),u=0;u<s;u++)i+="."+n.KH[u].toString(16).toUpperCase();return i}(t.us,e)}else{if(t.us!==ib.xp)return(t.us===ib.Hp||t.us===ib.Fp)&&t.rS?VD(t.rS):void 0;i=function(t){var n=t.DH;switch(n.kH){case PD.wz:return function(t){var n;if(null==(n=t.EH)||!n.yH)return"mp4a.40";return"mp4a.40."+function(t,n){var i=Vu(t,n,5);31===i&&(i=32+Vu(t,n,6));var e,r=Vu(t,n,4);return 15===r&&(e=Vu(t,n,24)),{_z:i,gz:r,mz:e,yz:Vu(t,n,4)}}(xo(t.EH.yH),new Wu)._z}(n);case PD.kz:return"mp4a.40.2";case PD.bz:return"mp4a.40.34"}}(MD(xo(t.GT.Xi),new zo))}return{UH:n,XH:i,HH:void 0}}function WD(t,n){return _s(t.toString(16),n,"0")}!function(t){t[t.wH=3]="wH",t[t._H=4]="_H",t[t.gH=5]="gH"}(CD||(CD={})),function(t){t[t.wz=64]="wz",t[t.kz=103]="kz",t[t.bz=107]="bz"}(PD||(PD={})),function(t){t[t.pz=0]="pz",t[t.Az=1]="Az",t[t.kz=2]="kz",t[t.Tz=5]="Tz",t[t.Sz=34]="Sz"}(BD||(BD={}));var GD=function(){function t(t){this.mo=t}var n=t.prototype;return n.transform=function(t,n){this.mo.write(t).catch(Z),n.enqueue(t)},n.flush=function(){this.mo.close().catch(Z)},t}();function qD(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.us,e.next=e.t0===gD.VX?3:e.t0===gD.Gf?4:e.t0===gD.WX?9:10;break;case 3:return e.abrupt("return",t);case 4:return e.next=6,Rr.awrap(Iw(t.Xi,n));case 6:return i=e.sent,$s(n),e.abrupt("return",{us:gD.VX,Xi:new y(i)});case 9:throw new v("MediaBufferWrapper - Cannot convert opaque SegmentData to ArraySegmentData.");case 10:case"end":return e.stop()}},null,null,null,Ve)}function jD(t){if(t.us===gD.Gf){var n=Nw(t.Xi),i=n[0],e=n[1];return[Nr({},t,{Xi:i}),Nr({},t,{Xi:e})]}return[t,t]}function YD(t){if(t.Xi.us===gD.Gf){var n=jD(t.Xi),i=n[0],e=n[1];return[Nr({},t,{Xi:i}),Nr({},t,{Xi:e})]}return[t,t]}function QD(t){if(t.us===gD.Gf){var n=(e=t.Xi,r=new vw,s=r.writable.getWriter(),u=new vw(new GD(s)),e.pipeTo(u.writable).catch(function(t){s.abort(t).catch(Z)}),[u.readable,r.readable]),i=n[1];return[Nr({},t,{Xi:n[0]}),Nr({},t,{Xi:i})]}return[t,t];var e,r,s,u}var ZD=20,KD=L.Cn,JD=function(t){function n(n,e,r,s,u){var o;return(o=t.call(this)||this).Ez=void 0,o.Iz=void 0,o.Rz=void 0,o.Nz=void 0,o.Dz=void 0,o.dL=ZD,o.wL=WR,o.Cz=!1,o.Pz=!1,o.Bz=void 0,o.Oz=new Zs,o.xz=void 0,o.Lz=!1,o.Mz=void 0,o.Uz=!1,o.Xz=void 0,o.Fz=function(){o.Cz=!1},o.Ez=e,o.Iz=n,o.Rz=r,o.Rz.addEventListener("updateend",o.Fz),o.Nz=s,o.Dz=u,o.Uz=$D(s.Xl,u),i.Or.Qe&&(o.xz=new xD(OD)),o}S(n,t);var e=n.prototype;return e.Hz=function(t,n,i){var e=this;switch(t.us){case gD.VX:case gD.Gf:return this.zz(function(i){return e.Vz(t,n,i)},i);case gD.WX:throw new v("Opaque segments are not supported on web.")}},e.Wz=function(t,n){var i=this;switch(t.us){case gD.VX:return this.zz(function(n){return i.Gz(t,n)},n);case gD.Gf:throw new v("Streaming initialization segments are not supported on web.");case gD.WX:throw new v("Opaque initialization segments are not supported on web.")}},e.Gz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Uz){i.next=3;break}return this.Xz=zD(xo(t.Xi)),i.abrupt("return");case 3:return i.next=5,Rr.awrap(this.qz(t,void 0,n));case 5:KD&&(this.Lz=!1,this.Mz=t);case 6:case"end":return i.stop()}},null,this,null,Ve)},e.Vz=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(KD&&this.Lz&&this.Mz)){u.next=3;break}return u.next=3,Rr.awrap(this.Gz(this.Mz,i));case 3:if(u.prev=3,$s(i),!this.Uz||!this.Xz){u.next=12;break}return u.next=8,Rr.awrap(qD(t,i));case 8:r=u.sent,o=r.Xi,a=this.Xz,c=void 0,h=void 0,f=void 0,c=Jb.LA(xo(o)),h=HD(Wb(c,ib.zp),a),f=Wb(c,ib.Qp),s={Ky:h.Ok(),jz:f.Xi},t={us:gD.VX,Xi:s.jz},n=Nr({},n,{hp:s.Ky+(null!=(e=n.hp)?e:0)});case 12:return u.next=14,Rr.awrap(this.qz(t,n,i));case 14:this.js(new wu(vD.HX));case 15:return u.prev=15,t.us===gD.Gf&&t.Xi.cancel(new Ks).catch(Z),u.finish(15);case 18:case"end":return u.stop()}var o,a,c,h,f},null,this,[[3,,15,18]],Ve)},e.qz=function(t,n,e){var r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:$s(e),n&&this.Yz(n),u.t0=t.us,u.next=u.t0===gD.VX?5:u.t0===gD.Gf?13:21;break;case 5:if(!i.Or.Qe){u.next=10;break}return r=this.xz.dH(Sw(t.Xi)),u.next=9,Rr.awrap(this.Qz(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,Rr.awrap(this.Zz(t.Xi));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Or.Qe){u.next=18;break}return s=this.xz.dH(t.Xi),u.next=17,Rr.awrap(this.Qz(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,Rr.awrap(this.Qz(t.Xi,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,Ve)},e.Qz=function(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=this.Iz.ly,e=pD(t),r=e.getReader(),s=!1,h.prev=4;case 5:return h.next=8,Rr.awrap(iu(r.read(),n));case 8:if(!(u=h.sent).done){h.next=12;break}return s=!1,h.abrupt("break",19);case 12:return $s(n),o=Mu(u.value),s=!0,h.next=17,Rr.awrap(this.Zz(o));case 17:h.next=5;break;case 19:h.next=36;break;case 21:if(h.prev=21,h.t0=h.catch(4),r.cancel(h.t0).catch(Z),!s){h.next=35;break}return h.next=27,Rr.awrap(this.Kz());case 27:a=this.Iz.ly.YD(i.QD()),c=0;case 29:if(!(c<a.D_)){h.next=35;break}return h.next=32,Rr.awrap(this.Jz(a.xD(c),a.MD(c)));case 32:c++,h.next=29;break;case 35:throw h.t0;case 36:case"end":return h.stop()}},null,this,[[4,21]],Ve)},e.$z=function(t,n){var i=this;return this.zz(function(){return i.tV(t,n)})},e.tV=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Rz.appendWindowStart===t&&this.Rz.appendWindowEnd===n){i.next=6;break}return i.next=3,Rr.awrap(this.Kz());case 3:this.Rz.appendWindowStart=0,this.Rz.appendWindowEnd=n,this.Rz.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,Ve)},e.Yz=function(t){this.Rz.timestampOffset!==t.hp&&(this.Rz.timestampOffset=t.hp)},e.Zz=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Rz.appendBuffer(t),this.Pz=!0,n.next=4,Rr.awrap(this.nV());case 4:case"end":return n.stop()}},null,this,null,Ve)},e.iV=function(t,n,i){var e=this;return this.zz(function(i){return e.Jz(t,n,i)},i)},e.Jz=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),this.Rz.remove(t,n),e.next=4,Rr.awrap(this.nV());case 4:case"end":return e.stop()}},null,this,null,Ve)},e.nV=function(){var t=this,n=this.Iz.ly;return new Ve(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},a=function(){s=!1,r="aborted"},c=function(){h(),s&&!r?(n.aC(t.Iz.ly)||t.js(new wu(vD.HX)),i()):e(new v(r))},h=function(){t.Rz.removeEventListener("update",u),t.Rz.removeEventListener("error",o),t.Rz.removeEventListener("abort",a),t.Rz.removeEventListener("updateend",c)};t.Rz.addEventListener("update",u),t.Rz.addEventListener("error",o),t.Rz.addEventListener("abort",a),t.Rz.addEventListener("updateend",c)})},e.eV=function(){var t=this;return this.zz(function(){return t.Kz()})},e.Kz=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ez.og===_C.zd){t.next=2;break}return t.abrupt("return");case 2:KD&&(this.Lz=!0),this.Rz.updating&&(this.Cz=!0);try{this.Rz.abort()}catch(t){0,this.Cz=!1}if(!this.hx){t.next=8;break}return t.next=8,Rr.awrap(this.nV().catch(Z));case 8:case"end":return t.stop()}},null,this,null,Ve)},e.rV=function(){return"function"==typeof this.Rz.changeType},e.DX=function(t){var n;this.sV(),this.Ez.og!==_C.uV&&(this.Nz=t,this.Dz=null!=(n=kC(t.Xl))?n:t.Xl,this.Uz=$D(t.Xl,this.Dz),this.rV()&&this.Rz.changeType(this.Dz))},e.oV=function(){this.Ez.og!==_C._f||this.Bz||this.hx||(this.Rz.timestampOffset=this.Rz.timestampOffset,this.Ez.aV())},e.zz=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.sV(),(i=new Zs).Fs(this.Oz.zs),n&&i.Fs(n),e.prev=4,this.Bz=t(i.zs),e.next=8,Rr.awrap(this.Bz);case 8:if(this.Ez.aV(),!this.hx){e.next=12;break}return e.next=12,Rr.awrap(this.nV());case 12:return e.prev=12,this.Bz=void 0,i.Bs(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],Ve)},e.sV=function(){if(this.Bz)throw new v("Internal error")},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.Oz.Xs(),!this.Bz){t.next=6;break}return t.next=5,Rr.awrap(this.Bz.catch(Z));case 5:this.Bz=void 0;case 6:this.Rz.removeEventListener("updateend",this.Fz);case 7:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"uL",get:function(){return this.dL},set:function(t){this.dL=t}},{key:"hL",get:function(){return this.wL},set:function(t){this.wL=t}},{key:"hx",get:function(){return this.Cz||this.Rz.updating}}]),n}(lu);function $D(t,n){return vs(t,"audio/mp4")&&vs(n,"audio/mpeg")}var tC=function(){function t(t,n){this.cV=void 0,this.Rz=void 0,this.hV=void 0,this.cV=n,this.Rz=t}var n=t.prototype;return n.UX=function(){return!!this.hV&&this.ly.VD().ZN(this.hV)},n.fV=function(){var t=this.ly;this.hV=t.D_>0?t.MD(t.D_-1):0,this.cV.vV()},n.oV=function(){this.hV=void 0},A(t,[{key:"ly",get:function(){if(this.cV.og===_C.uV)return iE.mC();var t=iE.wC(this.Rz.buffered).YD(new iE([0,1/0])),n=this.hV;return void 0!==n&&t.D_>0&&t.MD(t.D_-1)===n&&(t=t.tC(iE.gC(n))),t}}]),t}();function nC(t){var n=t.hh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function iC(t,n){var i=eC(t)||rC(t),e=eC(n)||rC(n);return!i&&!e||t===n}function eC(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function rC(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function sC(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],a=e[2];if(s!==o)return!1;if(Number(u)!==Number(a))return!1}return!0}function uC(t,n,i,e,r,s,u){var o=new tC(r,t),a=new JD(o,t,r,i,s);return new oC(t,n,i,e,o,a,u)}var oC=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Ez=void 0,a.Rh=void 0,a.lV=void 0,a.rN=void 0,a.Sh=void 0,a.dV=void 0,a.Iz=void 0,a.wV=void 0,a._V=Cr(),a.Ez=n,a.Rh=e,a.Sh=e.Xl,a.lV=r,a.rN=i,a.Iz=s,a.wV=u,a.dV=o,a.wV.Ys(vD.HX,a.qs),a}S(n,t);var i=n.prototype;return i.UX=function(){return this.Iz.UX()},i.fV=function(){this.Iz.fV()},i.oV=function(){this.Iz.oV(),this.wV.oV()},i.gV=function(t,n){this.dV.QX(t,n)},i.mV=function(t,n){this.dV.ZX(t,n)},i.yV=function(){return this.wV.eV()},i.Hz=function(t,n,i){return this.wV.Hz(t,n,i)},i.Wz=function(t,n,i){return this.wV.Wz(t,i)},i.$z=function(t,n){return this.wV.$z(t,n)},i.Vc=function(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.mV(t,n),e=this.ly,s.next=4,Rr.awrap(this.wV.iV(t,n,i));case 4:r=0!==e.D_&&0===this.ly.D_,(L.xn||L.Tn)&&r&&this.rN.Bu(this.rN.jg);case 6:case"end":return s.stop()}},null,this,null,Ve)},i.NX=function(t){var n=t.Xl;if(this.Sh===n)return!0;var i=this._V.get(n);if(void 0!==i)return i;var e=this.kV(t);return this._V.set(n,e),e},i.kV=function(t){var n=kC(t.Xl);if(void 0===n)return!1;var i=Ph(this.Sh),e=Ph(n),r=nC(i),s=nC(e);if(this.wV.rV()){if(!function(t,n){return Ys(t,n,iC)}(r,s))return!1}else{if(i.us!==e.us)return!1;if(!function(t,n){return Ys(t,n,sC)}(r,s))return!1}return!0},i.DX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.Xl,this.Sh!==n&&(this._V.clear(),this.wV.DX(t),this.Sh=n),this.Rh=t,this.Ez.bV();case 4:case"end":return i.stop()}},null,this,null,Ve)},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._V.clear(),this.Ks(),this.dV.Od(),t.prev=3,this.wV.Js(vD.HX,this.qs),t.next=7,Rr.awrap(this.wV.Bs());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],Ve)},A(n,[{key:"ly",get:function(){return this.Iz.ly}},{key:"Jc",get:function(){return this.Rh}},{key:"Xl",get:function(){return this.Sh}},{key:"pV",get:function(){return this.lV}},{key:"AV",get:function(){return this.dV.KX}},{key:"uL",get:function(){return this.wV.uL},set:function(t){this.wV.uL=t}},{key:"hL",get:function(){return this.wV.hL},set:function(t){this.wV.hL=t}},{key:"hx",get:function(){return this.wV.hx}}]),n}(lu),aC=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.TV=void 0,this.xD=t,this.MD=n,this.SV=i,this.EV=e,this.TV=zI()}return t.prototype.RV=function(){var t=this.xD,n=this.MD;if(this.SV||this.EV){var i=.001*(zI()-this.TV);this.SV&&(t+=i),this.EV&&(n+=i)}return t>=n?iE.mC():new iE([t,n])},t}(),cC=100,hC=1e3,fC=1e4,vC=.01,lC=[bf.Sf,bf.Tf,bf.Cf,bf.Df,bf._f,bf.If,uy.d_,Tm.Z_],dC=function(){function t(t,n){var e=this;this.CE=Vm.Lg,this.NV=!1,this.DV=[],this.CV=void 0,this.PV=0,this.BV=0,this.OV=0,this.xV=0,this.LV=0,this.MV=hC,this.UV=function(t){var n=e.rN.jg;t.jX.ZN(n)&&e.XV(n)},this.FV=J(function(){e.HV(uy.d_)},cC),this.zV=J(function(){e.HV(bf.Ef)},cC),this.VV=function(){e.WV()?e.GV():e.qV()},this.jV=function(){var t=e.PV,n=e.OV,r=e.rN.jg,s=i.Je(),u=t!==r;if(u||!e.WV())return e.PV=r,e.OV=s,void(u&&(e.LV=0,e.MV=hC));if(n>0&&s>n+e.MV){var o=r+e.LV*vC,a=e.Iz.ly;a.ZN(o)||(o=e.YV(r,a)),e.PV=o,e.OV=s,e.LV++,e.MV=w.min(2*e.MV,fC),e.rN.Bu(o)}},this.Iz=t,this.rN=n,this.rN.Ys(uy.d_,this.FV),this.rN.Ys(bf.Ef,this.zV),this.rN.Ys(lC,this.VV)}var n=t.prototype;return n.QV=function(t){this.DV.push(t),t.Ys(mD.GX,this.UV)},n.Od=function(){var t=this;this.qV(),this.CE=Vm.Lg,this.rN.Js(uy.d_,this.FV),this.rN.Js(bf.Ef,this.zV),this.rN.Js(lC,this.VV),this.DV.forEach(function(n){return n.Js(mD.GX,t.UV)}),void 0!==this.CV&&(i.qn(this.CV),this.CV=void 0),this.NV=!0},n.HV=function(t){if(!this.NV){var n=this.rN.og;if(n<=Vm.Ug){var i=this.rN.jg,e=this.Iz.ly,r=e.eC(i),s=e.MD(r);-1!==r&&(t===uy.d_&&n<this.CE||t===bf.Ef&&n===this.CE)&&s<i+.5&&(i=s),this.XV(i)}t===uy.d_&&(this.CE=n)}},n.XV=function(t){var n=this;if(this.rN.Qg)return!1;var e=this.KX.VD().iC(this.Iz.ly),r=e.eC(t);if(-1!==r&&!(w.abs(e.xD(r)-e.MD(r))<=.001)){if(i.Fw){if(void 0!==this.CV)return!1;this.BV=this.rN.jg,this.CV=i.jn(function(){n.BV===n.rN.jg&&n.rN.Bu(e.MD(r)),n.CV=void 0},1500)}else this.rN.Bu(e.MD(r));return!0}return!1},n.GV=function(){0===this.xV&&(this.xV=i.yr(this.jV,250))},n.qV=function(){0!==this.xV&&(i.pr(this.xV),this.xV=0),this.rN.tm||(this.OV=0)},n.WV=function(){return!this.rN.Jg&&!this.rN.tm&&0!==this.rN.$g&&!this.rN.Qg&&!this.rN.wu&&this.rN.og>=Vm.Xg},n.YV=function(t,n){var i=n.eC(t);return i>-1?n.MD(i):t},A(t,[{key:"KX",get:function(){return this.DV.reduce(function(t,n){return t.tC(n.KX)},iE.mC())}}]),t}();function wC(t){var n=[];if(t.ZV&&n.push(t.ZV.ly),t.KV&&n.push(t.KV.ly),0===n.length)return iE.mC();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.D_>0&&(i=w.max(i,r.MD(r.D_-1)))}for(var s=t.UX,u=new iE([0,i],[!0,s]),o=0;o<n.length;o++){var a=n[o];s&&a.D_>0&&(a=a.tC(new iE([a.MD(a.D_-1),i],[!0,!0]))),u=u.YD(a)}return u}var _C,gC=L.Sn||L.En;!function(t){t.uV="closed",t.zd="open",t._f="ended"}(_C||(_C={}));var mC=function(){function t(){}return t.prototype.JV=function(){return new MediaSource},t}(),yC=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new mC),(u=t.call(this,n,i,e,r)||this).$V=void 0,u.tW=void 0,u.nW=void 0,u.iW=new aC(0,1/0),u.sN=void 0,u.eW=void 0,u.rW=void 0,u.sW=!1,u.uW=function(){u.oW()},u.aW=function(){u.rN.aW()},u.$V=s,u.sN=u.$V.JV(),u.rN.Ys(bf.Cf,u.uW),u.rW=new dC(Zt(u),u.rN),u}S(n,t);var i=n.prototype;return i.cW=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.hW()?this.fW(t):this.eW=t},i.fW=function(t){var n=t===1/0,i=n?Ot:t;if(n&&this.sN.setLiveSeekableRange){var e=w.pow(2,39);this.sN.setLiveSeekableRange(0,e)}this.sN.duration=i,this.eW=void 0},i.vW=function(t,n,i,e){this.iW=new aC(t,n,!!i,!!e)},i.yL=function(){var t,n,i,e,r,s,u,o,a,c,h;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return t=this.Rh,n=Os(t.lW,function(t){return vs(t.Xl,"audio")}),i=Os(t.lW,function(t){return vs(t.Xl,"video")}),f.next=5,Rr.awrap(this.dW());case 5:n&&(r=new bD,this.rW.QV(r),s=null!=(e=kC(n.Xl))?e:n.Xl,u=this.sN.addSourceBuffer(s),this.tW=uC(this,this.rN,n,Ky.Td,u,s,r),this.tW.Ys(vD.HX,this.aW)),i&&(a=new bD,this.rW.QV(a),c=null!=(o=kC(i.Xl))?o:i.Xl,h=this.sN.addSourceBuffer(c),this.nW=uC(this,this.rN,i,Ky.Sd,h,c,a),this.nW.Ys(vD.HX,this.aW)),this.AX.zc(this,t);case 8:case"end":return f.stop()}},null,this,null,Ve)},i.dW=function(){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.sN),i.next=3,Rr.awrap(t.prototype.OX.call(this,n));case 3:if(this.og===_C.zd){i.next=6;break}return i.next=6,Rr.awrap(Hg(this.sN,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,Ve)},i.hW=function(){if(this.og!==_C.zd)return!1;var t=this.tW&&this.tW.hx,n=this.nW&&this.nW.hx;return!(t||n)},i.fV=function(){this.sW=!0,this.tW&&this.tW.fV(),this.nW&&this.nW.fV(),this.sW=!1,this.oW()},i.oV=function(){this.tW&&this.tW.oV(),this.nW&&this.nW.oV()},i.NX=function(n){var i=Os(n.lW,function(t){return vs(t.Xl,"audio")}),e=Os(n.lW,function(t){return vs(t.Xl,"video")});if(this.tW){if(!i)return!1;if(!this.tW.NX(i))return!1}else if(i)return!1;if(this.nW){if(!e)return!1;if(!this.nW.NX(e))return!1}else if(e)return!1;return!!t.prototype.NX.call(this,n)},i.DX=function(n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Os(n.lW,function(t){return vs(t.Xl,"audio")}),e=Os(n.lW,function(t){return vs(t.Xl,"video")}),r=[],this.tW&&r.push(this.tW.DX(i)),this.nW&&r.push(this.nW.DX(e)),s.next=7,Rr.awrap(Ve.all(r));case 7:return s.next=9,Rr.awrap(t.prototype.DX.call(this,n));case 9:case"end":return s.stop()}},null,this,null,Ve)},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.tW){n.next=4;break}return n.next=3,Rr.awrap(this.tW.Bs());case 3:this.tW=void 0;case 4:if(!this.nW){n.next=8;break}return n.next=7,Rr.awrap(this.nW.Bs());case 7:this.nW=void 0;case 8:return this.Fh.src&&URL.revokeObjectURL(this.Fh.src),this.rN.Js(bf.Cf,this.uW),this.rW.Od(),n.next=13,Rr.awrap(t.prototype.Bs.call(this));case 13:case"end":return n.stop()}},null,this,null,Ve)},i.bV=function(){var t=this,n=this.Rh,i=n.lW.map(function(n){return vs(n.Xl,"audio")&&t.tW?t.tW.Jc:vs(n.Xl,"video")&&t.nW?t.nW.Jc:n});this.Rh=Nr({},n,{lW:i})},i.vV=function(){this.sW||this.oW()},i.oW=function(){this.wW&&this.hW()&&(this.sN.endOfStream(),this.eW=void 0,this.js(new wu(rD.ZP)),this.rN.aW())},i.aV=function(){this.hW()&&(this.UX?this.oW():void 0!==this.eW&&this.fW(this.eW))},i.XV=function(t){return this.rW.XV(t)},n.MX=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.lW;n<i.length;n++){if(void 0===kC(i[n].Xl))return!1}return!0},A(n,[{key:"ZV",get:function(){return this.tW}},{key:"KV",get:function(){return this.nW}},{key:"Yg",get:function(){if(this.eW)return this.eW;var t=this.sN.duration;return t===Ot?1/0:t}},{key:"ly",get:function(){return gC?wC(this):(t=this,n=iE.wC(this.Fh.buffered),(i=n).D_>0&&t.UX&&(i=i.tC(iE.gC(i.MD(i.D_-1)))),i);var t,n,i}},{key:"XX",get:function(){var t;return null==(t=this.tW)?void 0:t.ly}},{key:"FX",get:function(){var t;return null==(t=this.nW)?void 0:t.ly}},{key:"Ny",get:function(){return this.iW.RV().YD(new iE([0,this.Yg],[!0,!0]))}},{key:"UX",get:function(){return(!this.tW||this.tW.UX())&&(!this.nW||this.nW.UX())}},{key:"og",get:function(){return this.sN.readyState}},{key:"wW",get:function(){if(!this.UX)return!1;var t=this.ly;return 0!==t.D_&&t.xD(t.D_-1)<=this.rN.jg}}]),n}(lD);function kC(t){var n=Ph(t),i="audio/mp4"===n.us&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(nC(n),["mp4a.40.34"]);if(MediaSource.isTypeSupported(t)&&(!i||!L.Cn))return t;if(i){var e=Os(['audio/mp4; codecs="mp3"',"audio/mpeg"],function(t){return MediaSource.isTypeSupported(t)});return void 0!==e?e:void 0}}var bC=[bf.Xf,bf.If,bf.Cf,bf.Sf,bf.Tf],pC=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return(h=t.call(this)||this).AC=n,h.ea=i,h._W=e,h.SC=r,h.IC=s,h.TC=u,h.EC=o,h.Ia=a,h.gW=c,h}S(n,t);var i=n.prototype;return i.Fm=function(){this.SC||(this.SC=!0,this.js(new ay(this.jg)))},i.Xm=function(){this.SC&&(this.SC=!1,this.js(new cy(this.jg)))},i.Bs=function(){this.Ks()},A(n,[{key:"jg",get:function(){return this.AC},set:function(t){this.jg!==t&&(this.AC=t,this.IC=!0,this.js(new yy(this.jg)))}},{key:"Yg",get:function(){return this.ea}},{key:"Qg",get:function(){return this._W}},{key:"Jg",get:function(){return this.SC}},{key:"og",get:function(){return this.gW}},{key:"tm",get:function(){return this.IC}},{key:"Kg",get:function(){return this.TC},set:function(t){this.Kg!==t&&(this.TC=t,this.js(new by(this.jg,this.um)))}},{key:"$g",get:function(){return this.EC},set:function(t){this.$g!==t&&(this.EC=t,this.js(new wy(this.jg,this.$g)))}},{key:"um",get:function(){return this.Ia},set:function(t){this.um!==t&&(this.Ia=t,this.js(new by(this.jg,this.um)))}}]),n}(lu);var AC=function(t){function n(n){var i;return(i=t.call(this)||this).rN=void 0,i.CE=Vm.Lg,i.mW=function(){i.yW()},i.rN=n,i}S(n,t);var i=n.prototype;return i.kW=function(t){this.CE!==t&&(this.CE=t,this.js(new Ty(this.rN.jg,t)))},i.yW=function(){this.kW(this.KL())},i.R_=function(){this.kW(Vm.Lg)},i.Bs=function(){this.Ks()},A(n,[{key:"og",get:function(){return this.KL()}}]),n}(lu),TC=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],SC=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<TC.length;e++){var r=TC[e];i.rN.CN.addEventListener(r,i.mW)}return i}S(n,t);var i=n.prototype;return i.KL=function(){var t=this.rN.CN.readyState;return t>Vm.Ug&&this.rN.bW?Vm.Ug:(this.rN.CN.seeking&&t>Vm.Mg&&(t=Vm.Mg),t)},i.Bs=function(){for(var n=0;n<TC.length;n++){var i=TC[n];this.rN.CN.removeEventListener(i,this.mW)}t.prototype.Bs.call(this)},n}(AC),EC=function(t){function n(n){var i;(i=t.call(this,n)||this).rN.Ys(bf.Cf,i.mW);for(var e=0;e<TC.length;e++){var r=TC[e];i.rN.CN.addEventListener(r,i.mW)}return i}S(n,t);var i=n.prototype;return i.KL=function(){if(this.rN.CN.readyState===Vm.Lg)return Vm.Lg;var t=this.pW(),n=t?t.MD-t.xD:0;if(!t)return Vm.Mg;var i=this.rN.$g;return this.AW()||n>=3*i?Vm.Fg:n>=3?Vm.Xg:Vm.Ug},i.pW=function(){var t=this.rN.jg,n=this.rN.ly.$D(.04),i=n.eC(t);if(!(i<0))return{xD:t,MD:n.MD(i)}},i.AW=function(){if(this.rN.Qg)return!0;var t=this.rN.Yg,n=this.pW();return!!n&&t-n.MD<=1/6},i.Bs=function(){this.rN.Js(bf.Cf,this.mW);for(var n=0;n<TC.length;n++){var i=TC[n];this.rN.CN.removeEventListener(i,this.mW)}t.prototype.Bs.call(this)},n}(AC),IC=[uy.d_,bf.Sf,bf.Tf,bf.Cf,bf.Df,bf._f,Tm.Z_],RC=function(t){function n(n){var i;return(i=t.call(this,n)||this).Fh=void 0,i.TW=!1,i.SW=function(){i.TW=!0,i.Wc()},i.Fh=n.CN,i.Fh.addEventListener(uy.qg,i.SW),i}S(n,t);var i=n.prototype;return i.EW=function(){return this.TW&&t.prototype.EW.call(this)},i.Wc=function(){this.TW&&(this.Fh.paused||this.Fh.ended||this.Fh.error)&&(this.TW=!1),t.prototype.Wc.call(this)},i.R_=function(){t.prototype.R_.call(this),this.TW=!1},i.Bs=function(){this.Fh.removeEventListener(uy.qg,this.SW),t.prototype.Bs.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).LE=void 0,i.IW=!1,i.vx=function(){i.Wc()},i.LE=n,i.LE.Ys(IC,i.vx),i}S(n,t);var i=n.prototype;return i.RW=function(){return this.LE.og<Vm.Xg},i.EW=function(){return!this.LE.tm&&!(this.LE.Jg||this.LE.Qg||this.LE.wu||this.RW())},i.Wc=function(){var t=this.IW;this.IW=this.EW(),!t&&this.IW&&this.js(new cA(this.LE.jg))},i.R_=function(){this.IW=!1},i.Bs=function(){this.Ks(),this.LE.Js(IC,this.vx)},n}(lu)),NC=function(t){function n(n){var i;return(i=t.call(this,Tm.Z_)||this).wu=void 0,i.wu=n,i}return S(n,t),n}(wu);function DC(t,n){return t.Ky<=n&&t.Jy>n}function CC(t,n){return function(t,n){return Ps(t.Ky,n.Ky,Nk)}(t,n)||function(t,n){return Ps(t.Jy,n.Jy,Nk)}(t,n)}function PC(t,n){var i=function(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,a=u-1;o<=a;){var c=o+(a-o>>1),h=e(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(r&&c>s&&0===e(i(t[c-1]),n)))return c;a=c-1}}return~o}(t,n,K,CC,!0);if(i<0)return i;for(;i<t.length&&CC(n,t[i])===Ts.Ss;i++)if(t[i].Ak(n))return i;return-(i+1)}function BC(t){var n=t.n_;if(!n)return-1;if(t instanceof Ck)return n.NW(t);var i=n.ag;if(!i)return-1;var e=PC(i.N_,t);return e>=0?e:-1}function OC(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],a=[];s<e&&u<r;){var c=t[s],h=n[u];c===h?(s++,u++):i(h,c)<=0?(o.push(h),u++):(a.push(c),s++)}for(;s<e;)a.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{DW:o,PW:a}}(t,n,CC);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var xC=function(){function t(t){this.BW=void 0,this.Jw=void 0,this.BW=t}var n=t.prototype;return n.t_=function(){return function(t){for(var n=[],i=0;i<t.D_;i++)n[i]=t.Su(i).$w;return n.item=function(n){var i=0|n,e=t.Su(i);return e&&e.$w||void 0},d.defineProperty(n,"constructor",{value:Sk}),n}(this)},n.Oy=function(t){for(var n=this.BW,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Ak(e))return!0}return!1},n.Su=function(t){return this.BW[t]},A(t,[{key:"N_",get:function(){return this.BW}},{key:"D_",get:function(){return this.BW.length}},{key:"$w",get:function(){if(this.Jw){var t=this.BW;this.Jw.length=t.length;for(var n=0;n<t.length;n++)this.Jw[n]=t[n].$w}else this.Jw=this.t_();return this.Jw}}]),t}(),LC=function(t){function n(n,i){var e;return(e=t.call(this,jg.d_)||this).n_=n,e.og=i,e}return S(n,t),n.prototype.t_=function(){return new MC(this.n_.$w,Cm(this.og))},n}(Yg),MC=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(Qg),UC=function(t){function n(n){var i;return(i=t.call(this,jg.__)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new XC(this.n_.$w)},n}(Yg),XC=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(Qg),FC=function(t){function n(n){var i;return(i=t.call(this,jg.i_)||this).Zy=n,i}return S(n,t),n.prototype.t_=function(){return new HC(this.Zy.$w)},n}(Yg),HC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(Qg),zC=function(t){function n(n){var i;return(i=t.call(this,jg.r_)||this).Zy=n,i}return S(n,t),n.prototype.t_=function(){return new VC(this.Zy.$w)},n}(Yg),VC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(Qg),WC=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this)||this).Jw=void 0,c.Nc=void 0,c.My=ek(),c.OW=!1,c.xW=void 0,c.LW=void 0,c.Ly=void 0,c.ra=void 0,c.jC=Am.j_,c.gW=vk.NONE,c.MW=void 0,c.Hi=void 0,c.UW=void 0,c.BW=[],c.XW=[],c.FW=void 0,c.HW=void 0,c.zW=0,c.VW=0,c.Nc=i||"",c.xW=a||"",c.LW=n,c.ra=r||"",c.OW=Boolean(s),c.UW=Boolean(o),c.Hi=u||lk.DEFAULT,c.Ly=e||"",c.FW=new xC(c.BW),c.HW=new xC(c.XW),c}S(n,t);var i=n.prototype;return i.WW=function(t){return Os(this.FW.N_,function(n){return n.F_===t})},i.t_=function(){return Rm(this)},i.aP=function(t){var n=Em(t);n!==this.J_&&(this.jC=n,n===Am.j_&&(this.XW.forEach(function(t){t.Tk=!1}),Hs(this.XW),this.VW=0),this.js(new nm(this)))},i.EE=function(t){if(t&&!t.n_){var n=PC(this.ag.N_,t);if(!(n>=0)){t.n_=this;var i=-(n+1);this.BW.splice(i,0,t),this.GW(i),t.pk=i,i<this.VW&&(this.VW=i),this.js(new FC(t))}}},i.lE=function(t){if(t&&t.n_===this){var n=this.NW(t);if(!(n<0)){t.Tk=!1;var i=this.XW,e=PC(i,t);e>=0&&Us(i,e),Us(this.BW,n),this.GW(n),t.pk=-1,this.VW>n&&--this.VW,this.js(new zC(t))}}},i.qW=function(t,n){var i=this.XW,e=this.BW,r=this.VW,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){DC(i[u],t)||(s=!0,Us(i,u))}for(;r<e.length&&e[r].Ky<=t;){var o=e[r];if(0===t)break;DC(o,t)&&!Xs(i,o)&&(s=!0,i.push(o)),r++}s&&Is(i,CC),this.VW=r},i.NW=function(t){return(-1===t.pk||t.pk>=this.zW)&&this.jW(),t.pk},i.jW=function(){for(var t=this.BW,n=this.zW;n<t.length;n++)t[n].pk=n;this.zW=t.length},i.GW=function(t){t<this.zW&&(this.zW=t)},i.eg=function(t){this.rg||(this.J_=t)},i.Od=function(){this.Ks();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Od()}Hs(this.BW),Hs(this.XW)},A(n,[{key:"cg",get:function(){return this.HW}},{key:"ag",get:function(){return this.FW}},{key:"RE",get:function(){return this.OW},set:function(t){this.OW=t}},{key:"rg",get:function(){return this.UW}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"F_",get:function(){return this.Nc}},{key:"H_",get:function(){return this.My}},{key:"K_",get:function(){return this.xW},set:function(t){this.xW=t}},{key:"z_",get:function(){return this.LW}},{key:"V_",get:function(){return this.Ly},set:function(t){t!==this.Ly&&(this.Ly=t,this.js(new tk(this)))}},{key:"W_",get:function(){return this.ra}},{key:"J_",get:function(){return this.jC},set:function(t){this.aP(t)}},{key:"og",get:function(){return this.gW},set:function(t){this.gW!==t&&(this.gW=t,this.js(new LC(this,this.gW)))}},{key:"hg",get:function(){return this.MW},set:function(t){this.MW=t}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.js(new UC(this)))}}]),n}(lu),GC=function(t){function n(n,i){var e;return(e=t.call(this,gk.qy,n)||this).Cb=i,e}return S(n,t),n.prototype.t_=function(){return new qC(this.Zy.$w)},n}(pk),qC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Ak),jC=function(t){function n(n,i){var e;return(e=t.call(this,gk.Yy,n)||this).Cb=i,e}return S(n,t),n.prototype.t_=function(){return new YC(this.Zy.$w)},n}(pk),YC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Ak),QC=function(t){function n(n){var i;return(i=t.call(this,jg.u_)||this).Zy=n,i}return S(n,t),n.prototype.t_=function(){return new ZC(this.Zy.$w)},n}(Yg),ZC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(Qg),KC=function(t){function n(n){var i;return(i=t.call(this,jg.a_)||this).Zy=n,i}return S(n,t),n.prototype.t_=function(){return new JC(this.Zy.$w)},n}(Yg),JC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(Qg),$C=function(t){function n(n){var i;return(i=t.call(this)||this).YW=void 0,i.yk=void 0,i.My=void 0,i._k=void 0,i.Jw=void 0,i.gk=!1,i.QW=function(){i.Tk=!0},i.ZW=function(){i.Tk=!1},i.My=ak(),i.YW=n,i.YW.addEventListener("enter",i.QW),i.YW.addEventListener("exit",i.ZW),i}S(n,t);var i=n.prototype;return i.t_=function(){return Tk(this)},i.Ak=function(t){return this===t||cm(this,t)&&Dk(this,t)},i.Od=function(){this.Ks(),this.YW.removeEventListener("enter",this.QW),this.YW.removeEventListener("exit",this.ZW)},A(n,[{key:"H_",get:function(){return this.My}},{key:"Ky",get:function(){return this.YW.startTime},set:function(t){this.YW.startTime=t}},{key:"Jy",get:function(){return this.YW.endTime},set:function(t){this.YW.endTime=t}},{key:"$y",get:function(){return this.yk},set:function(t){this.yk=t}},{key:"Sk",get:function(){return!!this.YW.pauseOnExit},set:function(t){this.YW.pauseOnExit=!!t}},{key:"n_",get:function(){return this._k},set:function(t){this._k=t}},{key:"F_",get:function(){return this.YW.id||""}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"Tk",get:function(){return this.gk},set:function(t){this.Tk!==t&&(this.gk=t,t?(this.js(new GC(this,this.Ky)),this._k&&this._k.js(new QC(this))):(this.js(new jC(this,this.Jy)),this._k&&this._k.js(new KC(this))))}}]),n}(Bm),tP=function(t){function n(n){var i;return(i=t.call(this,jg.h_)||this).n_=n,i}return S(n,t),n.prototype.t_=function(){return new nP(this.n_.$w)},n}(Yg),nP=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(Qg);function iP(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new eP(t),t.THEOplayerVTTRegion=n),n}}var eP=function(){function t(t){this.KW=void 0,this.Jw=void 0,this.KW=t}return A(t,[{key:"JW",get:function(){return this.KW}},{key:"F_",get:function(){return this.KW.id||""}},{key:"Pk",get:function(){return+this.KW.width||0},set:function(t){this.KW.width=t||0}},{key:"Ek",get:function(){return+this.KW.lines||0},set:function(t){this.KW.lines=t||0}},{key:"Ik",get:function(){return+this.KW.regionAnchorX||0},set:function(t){this.KW.regionAnchorX=t||0}},{key:"Rk",get:function(){return+this.KW.regionAnchorY||0},set:function(t){this.KW.regionAnchorY=t||0}},{key:"Dk",get:function(){return+this.KW.viewportAnchorX||0},set:function(t){this.KW.viewportAnchorX=t||0}},{key:"Ck",get:function(){return+this.KW.viewportAnchorY||0},set:function(t){this.KW.viewportAnchorY=t||0}},{key:"Nk",get:function(){return this.KW.scroll||""}},{key:"$w",get:function(){return this.Jw||(this.Jw=Uk(this)),this.Jw}}]),t}();var rP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"$y",get:function(){return this.YW.text},set:function(t){this.YW.text=t}},{key:"lk",get:function(){return this.YW.vertical||""},set:function(t){this.YW.vertical=t||""}},{key:"vk",get:function(){return this.YW.snapToLines},set:function(t){this.YW.snapToLines=t}},{key:"ek",get:function(){return this.YW.line},set:function(t){this.YW.line=t}},{key:"Nu",get:function(){return+this.YW.size},set:function(t){this.YW.size=Lt(t,0,100)}}]),n}($C),sP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&Pk(this,n)},A(n,[{key:"fk",get:function(){return iP(this.YW.region)}},{key:"rk",get:function(){return this.YW.lineAlign||"start"},set:function(t){this.YW.lineAlign=t||"start"}},{key:"ck",get:function(){return this.YW.position},set:function(t){this.YW.position=t}},{key:"hk",get:function(){return this.YW.positionAlign||"auto"},set:function(t){this.YW.positionAlign=t||"auto"}},{key:"nk",get:function(){return this.YW.align||"center"},set:function(t){this.YW.align=t||"center"}},{key:"$w",get:function(){return this.Jw||(this.Jw=Ek(this)),this.Jw}}]),n}(rP),uP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&Pk(this,n)},A(n,[{key:"fk",get:function(){return iP(this.JW)}},{key:"JW",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.YW.track,this.YW.regionId)}},{key:"rk",get:function(){return"middle"===(t=this.YW.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.YW.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"ck",get:function(){return this.YW.position},set:function(t){var n,i;this.YW.position=(n=t,i=this.nk,bk(n,i))}},{key:"hk",get:function(){return t=this.YW.positionAlign||"middle",yk[t];var t},set:function(t){var n,i;this.YW.positionAlign=(n=t||"center",i=this.nk,mk[kk(n,i)])}},{key:"nk",get:function(){return"middle"===(t=this.YW.align||"middle")?"center":t;var t},set:function(t){var n;this.YW.align="center"===(n=t||"center")?"middle":n}},{key:"$w",get:function(){return this.Jw||(this.Jw=Ek(this)),this.Jw}}]),n}(rP);function oP(t,n){return t.$y===n.$y}function aP(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Ky<t.Ky)cP(n,i,t.Ky);else{var e=n[0];if(e.Ky>t.Ky)t.Jy=e.Ky;else{var r=PC(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0)n[u].Ky<t.Ky&&cP(n,u,t.Ky);if(s<n.length){var o=n[s];t.Jy=o.Ky}}}}}}function cP(t,n,i){for(var e=t[n].Ky,r=n;r>=0&&t[r].Ky===e;r--)t[r].Jy=i}function hP(t){return Tk(t)}var fP,vP,lP=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).$W=void 0,e.$W=i,e}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&oP(this,n)},A(n,[{key:"$y",get:function(){return this.$W}},{key:"$w",get:function(){return this.Jw||(this.Jw=hP(this)),this.Jw}}]),n}($C);function dP(t){switch(t){case fP.ISO_8859_1:case fP.UTF16_BOM:case fP.UTF16:case fP.UTF8:return!0}return!1}function wP(t){switch(t){case fP.ISO_8859_1:return go;case fP.UTF16_BOM:return ko;case fP.UTF16:return bo;case fP.UTF8:return No}}function _P(t,n){var i=n.Du,e=t.byteLength,r=Lo(t);return n.Cu(e-i),Xo(r,i,e).buffer}function gP(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function mP(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function yP(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e);return{id:i,mimeType:go(t,n),fileName:r(t,n),description:r(t,n),data:_P(t,n)}}}function kP(t,n,i){var e=no(t,n);if(dP(e)){for(var r=wP(e),s=[];n.Du<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function bP(t,n,i){var e=no(t,n);if(dP(e)){for(var r=wP(e),s=wo(t,n,3),u=no(t,n),o=no(t,n),a=r(t,n),c=!1,h=[];n.Du<t.byteLength;){var f=void 0;if(e===fP.UTF16_BOM){var v=yo(t,n);void 0===v?v=c:c=v,f=bo(t,n,v)}else f=r(t,n);if(!f||n.Du+4>t.byteLength)break;h.push({text:f,timestamp:co(t,n)})}return{id:i,language:s,format:u,contentType:o,description:a,entries:h}}}function pP(t,n,i){return{id:i,ownerIdentifier:go(t,n),identifier:_P(t,n)}}function AP(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e);return{id:i,language:wo(t,n,3),description:r(t,n),text:r(t,n)}}}function TP(t,n,i){var e=no(t,n);if(dP(e))return{id:i,text:wP(e)(t,n)}}function SP(t,n,i){return{id:i,url:go(t,n)}}function EP(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e);return{id:i,description:r(t,n),text:r(t,n)}}}function IP(t,n,i){var e=no(t,n);if(dP(e))return{id:i,description:wP(e)(t,n),url:go(t,n)}}function RP(t,n,i){switch(i){case"COM":return mP(t,n,i);case"GEO":return yP(t,n,i);case"IPL":return kP(t,n,i);case"PIC":return function(t,n,i){var e=no(t,n);if(dP(e)){var r,s,u=wP(e),o=wo(t,n,3),a=no(t,n),c=u(t,n);return"--\x3e"===o?(r=o,s=go(t,n)):(r="image/"+o.toLowerCase(),s=_P(t,n)),{id:i,mimeType:r,pictureType:a,description:c,data:s}}}(t,n,i);case"SLT":return bP(t,n,i);case"TXX":return EP(t,n,i);case"UFI":return pP(t,n,i);case"ULT":return AP(t,n,i);case"WXX":return IP(t,n,i);default:if("T"===i.charAt(0))return TP(t,n,i);if("W"===i.charAt(0))return SP(t,n,i)}}function NP(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e),s=go(t,n);return{id:i,mimeType:s,pictureType:no(t,n),description:r(t,n),data:"--\x3e"===s?go(t,n):_P(t,n)}}}(t,n,i);case"COMM":return mP(t,n,i);case"COMR":return function(t,n,i){var e=no(t,n);if(dP(e)){var r,s,u=wP(e),o=go(t,n),a=wo(t,n,8),c=go(t,n),h=no(t,n),f=u(t,n),v=u(t,n);return n.Du<t.byteLength&&(r=go(t,n)||"image/",s=_P(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return yP(t,n,i);case"IPLS":return kP(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:go(t,n),data:_P(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:no(t,n),position:co(t,n)}}(t,n,i);case"SYLT":return bP(t,n,i);case"TXXX":return EP(t,n,i);case"UFID":return pP(t,n,i);case"USER":return function(t,n,i){var e=no(t,n);if(dP(e)){var r=wP(e);return{id:i,language:wo(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return AP(t,n,i);case"WXXX":return IP(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return TP(t,n,i);default:var e=i.charAt(0);if("T"===e)return TP(t,n,i);if("W"===e)return SP(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(fP||(fP={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(vP||(vP={}));var DP=10;function CP(t,n){return(127&no(t,n))<<21|(127&no(t,n))<<14|(127&no(t,n))<<7|127&no(t,n)}function PP(t,n){switch(t){case vP.V24:return{tG:to(n,0),nG:to(n,1),iG:to(n,2),eG:to(n,3)};case vP.V23:return{tG:to(n,0),nG:to(n,1),iG:to(n,2)};case vP.V22:return{tG:to(n,0),rG:to(n,1)}}}function BP(t,n,i){switch(i.OA){case vP.V23:i.xA.nG&&function(t,n){var i=n.Du,e=co(t,n)+4,r=32768&oo(t,n);n.Bu(i+e),r&&co(t,n)}(t,n);break;case vP.V24:i.xA.nG&&function(t,n){var i=n.Du,e=CP(t,n);n.Bu(i+e)}(t,n)}}function OP(t,n){if(t.byteLength-n.Du<DP)return null;if(73!==no(t,n)||68!==no(t,n)||51!==no(t,n))return null;var i=no(t,n),e=no(t,n);if(!function(t){switch(t){case vP.V22:case vP.V23:case vP.V24:return!0}return!1}(i))return null;var r=no(t,n),s=CP(t,n);return{OA:i,sG:e,xA:PP(i,r),uG:s}}function xP(t,n,i){switch(i.OA){case vP.V22:return function(t,n,i){return{F_:wo(t,n,3),Nu:uo(t,n,3)}}(t,n);case vP.V23:return function(t,n,i){var e=wo(t,n,4),r=co(t,n);no(t,n);var s=no(t,n);return{F_:e,Nu:r,xA:{rG:to(s,0),oG:to(s,1),groupingIdentity:to(s,2)}}}(t,n);case vP.V24:return function(t,n,i){var e=wo(t,n,4),r=CP(t,n);no(t,n);var s=no(t,n);return{F_:e,Nu:r,xA:{groupingIdentity:to(s,1),rG:to(s,4),oG:to(s,5),tG:to(s,6),aG:to(s,7)}}}(t,n)}}function LP(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function MP(t,n){var i=n||new zo,e=OP(t,i);return e?{NA:e,cG:function(t,n,i){var e=[],r=n.Du,s=Oo(t,r,r+i.uG),u=new zo;switch(n.Cu(i.uG),i.OA){case vP.V22:case vP.V23:i.xA.tG&&(s=LP(s))}BP(t,n,i);for(;u.Du<s.byteLength;)e.push(UP(s,u,i));return e}(t,i,e)}:null}function UP(t,n,i){var e,r,s=xP(t,n,i),u=n.Du,o=Oo(t,u,u+s.Nu);switch(n.Cu(s.Nu),i.OA){case vP.V22:var a=s;e=RP(r=o,new zo,a.F_);break;case vP.V23:var c=s,h=new zo;!function(t,n,i){var e,r,s,u=i.xA;u.rG&&(e=co(t,n)),u.oG&&(r=no(t,n)),u.groupingIdentity&&(s=no(t,n))}(o,h,c),e=NP(r=Oo(o,h.Du,o.byteLength),new zo,c.F_);break;case vP.V24:var f=s,v=new zo;f.xA.tG&&(o=LP(o)),function(t,n,i){var e,r,s,u,o=i.xA;o.groupingIdentity&&(e=no(t,n)),o.rG&&(r=co(t,n)),o.oG&&(s=no(t,n)),o.aG&&(u=CP(t,n))}(o,v,f),e=NP(r=Oo(o,v.Du,o.byteLength),new zo,f.F_)}if(!e){var l=Fo(Lo(r));e=gP(s.F_,l.buffer)}return e}function XP(t){return function(t,n,i){return TP(t,n,i)}(new DataView(t.data),new zo,t.key)}function FP(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return XP(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return gP(t.key,t.data)}(t)}var HP="org.id3";var zP=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).xy=void 0,r.hG=void 0,r.BW=[],r.XW=[],r.FW=void 0,r.HW=void 0,r.My=void 0,r.Ly=void 0,r.jC=Am.j_,r.gW=vk.NONE,r.Jw=void 0,r.MW=void 0,r.Hi=lk.DEFAULT,r.fG=void 0,r.vG=function(){r.lG(),r.xy.removeEventListener("cuechange",r.vG)},r.dG=function(){r.J_!==Am.j_&&(r.wG(),r.qW(),r.BW.length&&r._G(vk.LOADING))},r.gG=function(){r._G(vk.LOADED)},r.mG=function(){r._G(vk.ERROR)},r.xy=n,r.fG=e,r.xy.addEventListener("cuechange",r.vG),r.xy.addEventListener("cuechange",r.dG),r.hG=i,r.hG&&(r.MW=s_(r.hG.src),r.hG.addEventListener("load",r.gG),r.hG.addEventListener("error",r.mG)),r.My=ek(),r.Ly=n.label||"",r.FW=new xC(r.BW),r.HW=new xC(r.XW),r.J_=r.yG,uu(function(){r.dG(),r._G(vk.NONE)}),r}S(n,t);var i=n.prototype;return i.t_=function(){return Rm(this)},i.lG=function(){var t=this.J_;this.kG||t!==Am.Q_?this.yG=t:this.yG=Am.Y_},i.bG=function(){var t=this.J_,n=this.yG;t!==n&&(this.kG||t!==Am.Q_||n!==Am.Y_)&&("metadata"===this.z_&&n===Am.j_?this.J_=t:this.J_=n)},i.yW=function(t){this.gW!==t&&(this.gW=t,this.js(new LC(this,t)))},i._G=function(t){var n=w.max(this.gW,this.pG,t);this.yW(n)},n.AG=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.TG=function(t){var i=n.AG(t);if(i)return i;if(z(i=this.SG(t)))for(var e=0,r=i;e<r.length;e++){r[e].n_=this}else i.n_=this;return t.THEOplayerTextTrackCue=i,i},i.SG=function(t){return(n=t)&&n.type===HP&&n.value?(this.us=lk.ID3,function(t){var n;try{n=FP(t.value)}catch(t){n=gP("")}return new lP(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.us=lk.ID3,function(t){var n=[];try{var i=MP(new DataView(t.data));if(i)for(var e=0,r=i.cG;e<r.length;e++){var s=r[e];n.push(new lP(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.us=lk.WEBVTT,function(t){return"regionId"in t}(t)?new uP(t):new sP(t)):new $C(t);var n},i.EG=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.TG(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.wG=function(){for(var t=this.EG(this.xy.cues),n=OC(this.BW,t),i=0,e=n.PW;i<e.length;i++){var r=e[i];r.Js(gk.Yy,this.dG),r.Js(gk.qy,this.dG),this.js(new zC(r))}for(var s=0,u=n.DW;s<u.length;s++){var o=u[s];o.Ys(gk.qy,this.dG),o.Ys(gk.Yy,this.dG),this.js(new FC(o))}},i.qW=function(){for(var t=this.EG(this.xy.activeCues),n=OC(this.XW,t),i=0,e=n.PW;i<e.length;i++){e[i].Tk=!1}for(var r=0,s=n.DW;r<s.length;r++){s[r].Tk=!0}(n.DW.length||n.PW.length)&&this.js(new tP(this))},i.eg=function(t){this.J_=t},i.Od=function(){this.Ks();for(var t=this.BW.slice(),n=0;n<t.length;n++){t[n].Od()}Hs(this.BW),Hs(this.XW),this.xy.removeEventListener("cuechange",this.dG),this.hG&&(this.xy.removeEventListener("load",this.gG),this.xy.removeEventListener("error",this.mG)),this.hG&&Je(this.hG)},A(n,[{key:"cg",get:function(){return this.HW}},{key:"RE",get:function(){return this.hG?this.hG.default:void 0}},{key:"ag",get:function(){return this.FW}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}},{key:"F_",get:function(){return this.xy.id||this.hG&&this.hG.id||""}},{key:"H_",get:function(){return this.My}},{key:"K_",get:function(){return this.xy.inBandMetadataTrackDispatchType||""}},{key:"z_",get:function(){return this.xy.kind||Ap.eA}},{key:"V_",get:function(){return this.Ly},set:function(t){t!==this.V_&&(this.Ly=t,this.js(new tk(this)))}},{key:"W_",get:function(){return this.xy.language||""}},{key:"J_",get:function(){return this.jC},set:function(t){var n=this.J_;this.jC=Em(t),this.lG();var i=this.J_;n!==i&&this.js(new nm(this)),i!==Am.j_&&this._G(vk.LOADING)}},{key:"yG",get:function(){return Em(this.xy.mode)},set:function(t){this.xy.mode=t}},{key:"zy",get:function(){return this.xy}},{key:"og",get:function(){return this.gW}},{key:"pG",get:function(){return this.hG?+this.hG.readyState||vk.NONE:vk.LOADED}},{key:"hg",get:function(){return this.MW}},{key:"us",get:function(){return this.Hi},set:function(t){this.Hi!==t&&(this.Hi=t,this.js(new UC(this)))}},{key:"kG",get:function(){return this.fG},set:function(t){this.fG=t,this.lG()}}]),n}(lu);function VP(t,n){return Cs(t.Cb,n.Cb)||function(t,n){return t.n_===n.n_?Ds(BC(t),BC(n)):Up(t.n_,n.n_)}(t.Zy,n.Zy)||function(t,n){return t===n?Ts.Ss:t===gk.qy?Ts.Is:Ts.Es}(t.type,n.type)}var WP=function(){function t(t,n){var i=this;this.TD=void 0,this.IG=void 0,this.Cm=[],this.RG=0,this.NG=0,this.DG=[],this.CG=!1,this.PG=!1,this.BG=void 0,this.OG=function(){i.RG=0,i.xG(),i.LG()},this.MG=function(){i.xG(),i.LG()},this.UG=function(){i.PG=!0,i.BG=i.TD.jg,i.XG()},this.FG=function(){i.xG(),i.LG()},this.HG=function(){i.zG(),i.xG(),i.LG()},this.VG=function(){i.WG()},this.GG=function(t){Ms(i.DG,t.Zy),i.WG()},this.IG=n,this.TD=t,t.Ys(bf.Uf,this.MG),t.Ys(bf.Sf,this.MG),t.Ys(uy.qg,this.MG),t.Ys(bf.Tf,this.MG),t.Ys(bf.Cf,this.UG),t.Ys(bf.Df,this.FG),this.WG()}var n=t.prototype;return n.R_=function(){Hs(this.DG);for(var t=0,n=this.Cm.slice();t<n.length;t++){var i=n[t];this.E_(i)}this.XG(),this.RG=0,this.NG=0,this.CG=!1,this.PG=!1,this.BG=void 0},n.S_=function(t){Xs(this.Cm,t)||(this.Cm.push(t),t.Ys(jg.i_,this.VG),t.Ys(jg.r_,this.GG),t.Ys(jg.v_,this.HG),t.ag.D_&&this.WG(),this.zG())},n.E_=function(t){if(Ms(this.Cm,t)){if(t.Js(jg.i_,this.VG),t.Js(jg.r_,this.GG),t.Js(jg.v_,this.HG),t.ag.D_){for(var n=0,i=t.ag.N_;n<i.length;n++){var e=i[n];Ms(this.DG,e)}this.WG()}this.zG()}},n.zG=function(){this.CG=this.Cm.some(function(t){return t.J_!==Am.j_})},n.LG=function(){this.TD.tm||this.TD.Jg?this.XG():this.WG()},n.WG=function(){this.CG&&(this.RG||(this.RG=this.IG.Ne(this.OG)))},n.XG=function(){this.RG&&(this.IG.qG(this.RG),this.RG=0)},n.xG=function(){var t;if(this.CG&&!this.TD.tm){var n=this.Cm,i=this.NG,e=null!=(t=this.BG)?t:this.TD.jg,r=e-i<-.1,s=this.PG||r;s&&e>i&&e-i<.1&&(s=!1),this.PG=!1,this.BG=void 0;for(var u,o=[],a=0;a<n.length;a++){var c=n[a];if(c.J_!==Am.j_){c.qW(e,s);for(var h=0,f=c.cg.N_;h<f.length;h++){var v=f[h];o.push(v)}}}if(s)u=this.DG;else{u=[];for(var l=0;l<n.length;l++){var d=n[l];d.J_!==Am.j_&&Mp(d,i-1/6,e,u)}}for(var _=u.length-1;_>=0;_--)Xs(o,u[_])&&Us(u,_);var g=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.Ky>=i&&y.Jy<=e&&(g.push(y),Us(u,m))}for(var k=[],b=[],p=0;p<g.length;p++){var A=g[p];A.Tk||k.push(new GC(A,A.Ky)),k.push(new jC(A,w.max(A.Ky,A.Jy)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.Tk&&(k.push(new jC(E,w.max(E.Ky,E.Jy))),E.Tk=!1)}for(var I=0;I<o.length;I++){var R=o[I];R.Tk||(k.push(new GC(R,R.Ky)),R.Tk=!0)}k.sort(VP);for(var N=0;N<k.length;N++){var D=k[N],C=D.Zy;C.js(D);var P=C.n_;P&&(D.type===gk.qy?P.js(new QC(C)):P.js(new KC(C)),Xs(b,P)||b.push(P))}b.sort(Up);for(var B=0;B<b.length;B++){var O=b[B];O.js(new tP(O))}this.NG=e,this.DG=o}},n.Od=function(){this.R_(),this.TD.Js(bf.Uf,this.MG),this.TD.Js(bf.Sf,this.MG),this.TD.Js(uy.qg,this.MG),this.TD.Js(bf.Tf,this.MG),this.TD.Js(bf.Cf,this.UG),this.TD.Js(bf.Df,this.FG)},t}(),GP=function(){function t(){}var n=t.prototype;return n.Ne=function(t){return cR(t)},n.qG=function(t){hR(t)},t}(),qP=new GP,jP=function(t){function n(n,i){return void 0===i&&(i=qP),t.call(this,n,i)||this}return S(n,t),n}(WP),YP=function(t){function n(n,i,e){return t.call(this,n,1/0,i,!1,e)||this}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&oP(this,n)},A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=hP(this)),this.Jw}}]),n}(Ck),QP=function(t){function n(n,i,e){return void 0===e&&(e=lk.DEFAULT),t.call(this,Ap.sA,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(WC),ZP=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).us=lk.ID3,e}S(n,t);var i=n.prototype;return i.EE=function(n){aP(n,this.BW),t.prototype.EE.call(this,n)},i.t_=function(){return Rm(this)},n}(QP);function KP(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=FP(t.value);return t.THEOplayerTextTrackCue=new YP(i,e),t.THEOplayerTextTrackCue}var JP=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).xy=void 0,i.dG=function(){i.J_!==Am.j_&&(i.wG(),i._G(vk.LOADED))},i.xy=n,i.xy.addEventListener("cuechange",i.dG),i.J_=i.yG,uu(function(){i.dG()}),i}S(n,t);var i=n.prototype;return i.aP=function(n){t.prototype.aP.call(this,n),this.yG=this.J_},i._G=function(t){this.og=w.max(this.og,t)},i.wG=function(){var t=this.xy.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(KP(t[e]||t.item(e)));return Is(i,CC),i}(t),i=OC(this.ag.N_.slice(),n),e=0,r=i.PW;e<r.length;e++){var s=r[e];this.lE(s)}for(var u=0,o=i.DW;u<o.length;u++){var a=o[u];this.EE(a)}}},i.Od=function(){this.xy.removeEventListener("cuechange",this.dG),t.prototype.Od.call(this)},A(n,[{key:"F_",get:function(){return this.xy.id||""}},{key:"K_",get:function(){return this.xy.inBandMetadataTrackDispatchType||""}},{key:"W_",get:function(){return this.xy.language||""}},{key:"yG",get:function(){return Em(this.xy.mode)},set:function(t){this.xy.mode=t}},{key:"zy",get:function(){return this.xy}}]),n}(ZP),$P=function(t){function n(n,i){var e;return(e=t.call(this)||this).jG=Pr(),e.YR=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.n_).us){i.next=4;break}return i.next=4,Rr.awrap(n.uu(jg.__));case 4:if(n.us===lk.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.ag.D_){i.next=11;break}return i.next=9,Rr.awrap(n.uu(jg.i_));case 9:i.next=6;break;case 11:e.YG(n);case 12:case"end":return i.stop()}},null,null,null,Ve)},e.QR=function(t){var n=t.n_;if(n.us===lk.ID3&&e.jG.has(n.H_)){var i=e.jG.get(n.H_);e.E_(i),e.kE.IE(i),n.Js(jg.i_,e.QG)}},e.QG=function(t){tB(t.Zy)&&e.ZG(t.Zy)},e.kE=n,e.KG=i,e.JG(),e}S(n,t);var i=n.prototype;return i.JG=function(){this.KG.Ys(Vg.Yw,this.YR),this.KG.Ys(Vg.Zw,this.QR)},i.$G=function(){this.KG.Js(Vg.Yw,this.YR),this.KG.Js(Vg.Zw,this.QR)},i.YG=function(t){var n=t.ag.N_[0];if(tB(n)){var i=function(t){var n=t.match(nB);if(!n)return;return{n_:n[1],W_:n[2]}}(n.$y.description),e=i.n_,r=i.W_;if(!this.tq(e,r)){var s=this.kE.TE(Ap.eA,t.F_,e,r,!1,lk.TTML);this.S_(s),this.jG.set(t.H_,s);for(var u=0,o=t.ag.N_;u<o.length;u++){var a=o[u];tB(a)&&this.ZG(a)}t.Ys(jg.i_,this.QG)}}},i.tq=function(t,n){return this.KA.N_.some(function(i){return i.V_===t&&i.W_===n})},i.ZG=function(t){if(t.n_)for(var n=this.jG.get(t.n_.H_),i=fp(t.$y.text,n,{ap:0,cp:1/0,hp:t.Ky}),e=0;e<i.length;e++){var r=i[e];n.EE(r)}},i.R_=function(){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.KG.N_;n<i.length;n++)i[n].Js(jg.i_,this.QG);for(e=0,r=this.KA.N_;e<r.length;e++)s=r[e],this.kE.IE(s);return this.jG.clear(),u.next=5,Rr.awrap(t.prototype.R_.call(this));case 5:case"end":return u.stop()}},null,this,null,Ve)},i.Od=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$G(),n.next=3,Rr.awrap(t.prototype.Od.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n}(Vp);function tB(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.$y)&&nB.test(n.description);var n}var nB=/^Track:(.+),Lang:(.+)$/;var iB=function(t){function n(n){var i;return(i=t.call(this,bf.cf)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(wu),eB=function(t){function n(){return t.call(this,bf.hf)||this}return S(n,t),n}(wu),rB=function(t){function n(n){var i;return(i=t.call(this,"Hf")||this).nq=n,i}return S(n,t),n}(wu),sB=new qN,uB=function(t){function n(n){var i;return(i=t.call(this,"Fc")||this).session=n,i}return S(n,t),n}(wu),oB=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).iq=!1,u.rq=!1,u.Kv=new Zs,u.Lc=function(t){switch(t.vu){case"license-request":u.cI(t.fu,t.du).catch(function(t){return u.kh(t)});break;default:u.kh(new jy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.vu))}},u.uq=function(t){u.oq.Yc.Eu(function(t,n){switch(t){case"usable":i.jn(function(){u.rq=!0,u.js(new eB)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.js(new rB(n))}})},u.aq=function(t){u.kh(new jy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.oq=e,u.cq=r,u.hq=s,e.Ys("fu",u.Lc),e.Ys("au",u.uq),e.Ys("wu",u.aq),e.qc.then(function(){return u.fq()}),u}S(e,t);var r=e.prototype;return r.Hc=function(){var t=this;return this.iq=!0,sB.YU(function(n){return t.vq(n)},this.Kv.zs)},r.vq=function(t){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,$s(t),s.next=4,Rr.awrap(this.cq.iI(t));case 4:return s.next=6,Rr.awrap(this.cq.eI(this.hq.fs,this.hq.pu,t));case 6:return i=s.sent,s.next=9,Rr.awrap(this.oq.Hc(this.hq.fs,this.hq.pu,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),tu(s.t0),e=s.t0 instanceof Qo?s.t0.Gu:void 0,r=new jy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.kh(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],Ve)},r.cI=function(t,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!qo(t)){s.next=7;break}return s.next=4,Rr.awrap(this.cq.gI(new y(t),this.Kv.zs));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,Rr.awrap(this.cq.mI(new y(t),i,this.Kv.zs));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!Js(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,Rr.awrap(this.oq.Wc(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof Qo?s.t1.Gu:void 0,new jy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],Ve)},r.kh=function(t){var i=t instanceof jy?t:new jy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.js(new iB(i)),this.Fc()},r.fq=function(){this.oq.Js("fu",this.Lc),this.oq.Js("au",this.uq),this.oq.Js("wu",this.aq),this.rq=!1,this.Kv.Xs(),this.js(new uB(this))},r.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this.fq(),t.next=4,Rr.awrap(this.oq.Fc().catch(Z));case 4:case"end":return t.stop()}},null,this,null,Ve)},e}(lu),aB=[bf.hf,bf.cf,bf.Ff],cB=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Mc=void 0,r.Zc=void 0,r.lq=void 0,r.dq=[],r.wq=void 0,r._q=[],r.gq=function(t){t.session.Js(aB,r.qs),t.session.Js("Fc",r.gq),Ms(r.dq,t.session)},r.Mc=n,r.Zc=i,r.lq=e,r}S(n,t);var i=n.prototype;return i._I=function(){return this.lq._I()},i.mq=function(t){return this.wq||(this.wq=this.yq(t)),this.wq},i.yq=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return $s(t),i.next=3,Rr.awrap(this.lq.gI(new y(Go()),t));case 3:if(n=i.sent,$s(t),this.Zc){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Rr.awrap(this.Zc.nh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,Ve)},i.kq=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Zc){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this._q.push(t),e.next=6,Rr.awrap(this.Zc.$c("temporary"));case 6:return n=e.sent,i=new oB(n,this.lq,t),this.dq.push(i),i.Ys(aB,this.qs),i.Ys("Fc",this.gq),e.abrupt("return",i);case 12:return e.prev=12,Ms(this._q,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],Ve)},i.bq=function(t){if(t.pq)return!1;for(var n=0,i=this.dq;n<i.length;n++){if(hB(i[n].hq,t))return!0}for(var e=0,r=this._q;e<r.length;e++){if(hB(r[e],t))return!0}return!1},i.Od=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Zc=void 0,this.Ks(),t=this.dq.slice(),Hs(this.dq),n.next=6,Rr.awrap(Ve.all(t.map(function(t){return t.Fc()})));case 6:this.lq.Bs();case 7:case"end":return n.stop()}},null,this,null,Ve)},A(n,[{key:"Kc",get:function(){return this.Mc}}]),n}(lu);function hB(t,n){return!t.pq&&t.fs===n.fs&&xu(t.pu,n.pu)}var fB=function(t){function e(n){var i;return(i=t.call(this)||this).rN=void 0,i.Kv=new Zs,i.sX=new qN,i.Rh=void 0,i.lq=void 0,i.sN=void 0,i.Mc=void 0,i.Aq=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(i.Tq(t.fs,t.pu,i.Kv.zs));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Js(n.t0)||i.kh(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],Ve)},i.rN=n,i.rN.Ys(vu._u,i.Aq),i}S(e,t);var r=e.prototype;return r.zc=function(t,n){this.sN=t,this.DX(n)},r.DX=function(t){this.Rh=t,this.Sq(this.Kv.zs).catch(nu)},r.Sq=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Or.ze){n.next=5;break}return n.next=3,Rr.awrap(this.Eq(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Rh||!this.Rh.Iq){n.next=9;break}return n.next=8,Rr.awrap(this.Rq(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,Ve)},r.Eq=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Rh)?void 0:n.xN){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Rh)?void 0:u.xN)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],a=0,c=null!=(h=o.GR)?h:[];case 8:if(!(a<c.length)){v.next=22;break}return f=c[a],v.prev=10,v.next=13,Rr.awrap(this.Tq(o.Kc.fs,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),tu(v.t0);case 19:a++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],Ve)},r.Tq=function(t,e,r){var s,u,o,a,c,h,f,v,l,d;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if($s(r),e.byteLength){w.next=3;break}return w.abrupt("return");case 3:if(this.Rh&&this.Rh.xN.length){w.next=5;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Vr||t===Gr||t===Wr){w.next=8;break}return w.abrupt("return");case 8:s=uT(t,e),u=this.Rh.xN,a=0;case 11:if(!(a<u.length)){w.next=42;break}if(c=u[a],$s(r),(h=s[c.Kc.vs])&&c.Kc.fs===t){w.next=17;break}return w.abrupt("continue",39);case 17:return w.prev=17,w.next=20,Rr.awrap(this.Nq(c,r));case 20:if(!(f=w.sent)._I()){w.next=24;break}return w.next=24,Rr.awrap(f.mq());case 24:if(v=this.rN.gy,l={fs:c.Kc.fs,pu:h,pq:v},!this.Dq(f,l)){w.next=32;break}return w.next=29,Rr.awrap(f.kq(l));case 29:return d=w.sent,w.next=32,Rr.awrap(d.Hc());case 32:return w.abrupt("return");case 35:w.prev=35,w.t0=w.catch(17),tu(w.t0),o=w.t0;case 39:a++,w.next=11;break;case 42:return w.next=44,Rr.awrap(i.Ar());case 44:if(!w.sent){w.next=48;break}throw new jy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new jy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return w.stop()}},null,this,[[17,35]],Ve)},r.Rq=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Rh)?void 0:n.xN){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],$s(t),u.prev=7,u.next=10,Rr.awrap(this.Nq(r,t));case 10:if(!(s=u.sent)._I()){u.next=14;break}return u.next=14,Rr.awrap(s.mq());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),tu(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],Ve)},r.Dq=function(t,n){return i.Or.He||!t.bq(n)},r.Nq=function(t,n){var i=this;return this.sX.YU(function(n){return i.Cq(t,n)},n)},r.Cq=function(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if($s(n),this.Rh&&this.lq&&this.sN){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Mc){o.next=7;break}if(this.Mc.Kc===t.Kc){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Mc);case 7:return i=this.lq,e=Nr({},t,{QN:t.QN.map(function(n){var e;return Nr({},n,{persistentState:null!=(e=n.persistentState)?e:i.XI(t.Kc),fh:n.fh||i.fh(t.Kc)})})}),o.next=11,Rr.awrap(this.sN.IX(e.Kc,e.QN));case 11:return r=o.sent,s=i.WR(e),(u=new cB(e.Kc,r,s)).Ys([bf.hf,bf.cf,bf.Ff],this.qs),this.Mc=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,Ve)},r.kh=function(t){var i=t instanceof jy?t:new jy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.js(new iB(i))},r.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sN=void 0,this.Rh=void 0,this.Kv.Xs(),this.Kv=new Zs,t.next=6,Rr.awrap(this.Pq());case 6:case"end":return t.stop()}},null,this,null,Ve)},r.Pq=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.sX.Xs());case 2:if(!(t=this.Mc)){n.next=8;break}return t.Js(bf.Ff,this.qs),this.Mc=void 0,n.next=8,Rr.awrap(t.Od());case 8:case"end":return n.stop()}},null,this,null,Ve)},r.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),this.rN.Js(vu._u,this.Aq),t.next=4,Rr.awrap(this.R_());case 4:return t.next=6,Rr.awrap(this.sX.Od());case 6:case"end":return t.stop()}},null,this,null,Ve)},A(e,[{key:"Bq",get:function(){var t;return null==(t=this.Mc)?void 0:t.Kc}},{key:"PN",get:function(){return this.lq},set:function(t){this.lq=t}}]),e}(lu),vB=L.Sn||L.En,lB=L.Wn,dB=.5,wB=5,_B=L.Cn,gB=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Fh=void 0,s.Oq=void 0,s.uN=void 0,s.RD=!0,s.sN=void 0,s.xq=new qN,s.Lq=void 0,s.Mq=void 0,s.Uq=void 0,s.AX=void 0,s.Cm=void 0,s.DC=void 0,s.Xq=[],s.Fq=void 0,s.Hq=void 0,s.zq=void 0,s.Vq=void 0,s.Wq=void 0,s.Gq=void 0,s.qq=NaN,s.jq=void 0,s.Yq=void 0,s.IC=!1,s.Qq=Ve.resolve(),s.Zq=new Zs,s.Kq=[],s.Jq=iE.mC(),s.$q=void 0,s.tj=1,s.nj=!1,s.ij=!1,s.ej=!1,s.rj=!1,s._s=void 0,s.sj=!1,s.uj=!1,s.aj=!1,s.cj=!1,s.hj=0,s.vj=function(t){var n=t.track,i=s.lj(n);s.dj(n,i)},s.wj=function(t){var n=bB(s.Fq,t.track);n&&s.Fq.E_(n)},s._j=function(){for(var t=0;t<s.Cm.D_;t++){var n=s.Cm.T_(t);n instanceof zP&&n.bG()}},s.gj=function(){s.Fq.R_()},s.mj=function(){var t=s.sN,n=t.ZV,i=t.KV;if(n&&i)if(t.UX)s.yj();else if(t.og!==_C.uV){var e=n.ly,r=i.ly;if(0!==e.D_&&0!==r.D_){var u=s.jg;if(u<e.xD(0)||u<r.xD(0))s.yj();else if(e.ZN(u)!==r.ZN(u)){if(t.XV(u))return;s.bj()}else{if(s.yj(),!s.hj&&s.Uq.EW())e.nC(r).uC(u,u+dB)&&(s.hj=cR(s.pj))}}else s.yj()}},s.pj=function(){s.hj=0,s.mj()},s.Aj=function(){if(!(s.tm||s.og>=Vm.Xg)){0;var t=s.sN,n=t.ZV,i=t.KV;if(n&&i){var e=s.jg,r=n.ly,u=i.ly;if(r.ZN(e)&&u.ZN(e))r.nC(u).uC(e-wB,e)&&(s.aj?s.yj():s.Tj())}}},s.Sj=function(){s.js(new cy(s.jg))},s.Ej=function(){s.Ij(new Ks),s.js(new ay(s.jg))},s.Rj=function(){s.Nj(),s.js(new cA(s.jg))},s.Dj=function(){s.Cj(s.$g)},s.Pj=function(){s.js(new dy(s.Yg))},s.Bj=function(){s.js(new wD(s.jg))},s.Oj=function(){s.js(new _D)},s.xj=function(){var t=s.jg,n=s.tm,i=s.og<Vm.Xg&&!s.Qg,e=void 0!==s.Yq,r=e&&s.Yq!==t;(n||!e||r&&!i)&&(s.js(new _y(s.jg,void 0)),s.Yq=t)},s.Lj=function(){!s.nj&&s.Qg&&(s.nj=!0,s.js(new gy(s.jg)))},s.Mj=function(){if(null!==s.Fh.error){var t,n=s.Fh.error;s._N(new Yy(null!=(t=n.code)?t:Wy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.Uj=function(){s.ij&&(s.Xj(),s.ej=!0)},s.Fj=function(){s.js(new by(s.jg,s.um))},s.Hj=function(){s.im>0&&s.nm>0&&s.js(new Jp)},s.zj=function(t){s.js(new bu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.Vj=function(){s.js(new pu)},s.Wj=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.js(new bu(Vr,i))},s.Gj=function(t){if(t.initData){var n=mB(t.initData);if(!n)return;s.js(new bu(Gr,n))}else s.js(new bu(Gr,new ArrayBuffer(0)))},s.qj=function(t){var n=t.initData,i=n?Fo(n).buffer:new ArrayBuffer(0);s.js(new bu(Vr,i))},s.jj=function(){s.Nj()},s.Yj=function(t){s.Ij(t)},s.Qj=function(t){s.js(t),t.type===bf.cf&&s._N(Zy(t.errorObject))},s.Fh=n,s._s=i,s.Oq=e,s.DC=r,s.Mq=new SC(Zt(s)),s.Mq.Ys(uy.d_,s.qs),s.Uq=new RC(Zt(s)),s.Uq.Ys(uy.qg,s.Rj),s.AX=new fB(Zt(s)),s.AX.Ys([bf.hf,bf.cf,bf.Ff],s.Qj),s.Cm=new Tp,s.Fq=new Tp,s.Hq=new LS([s.Cm,s.Fq]),s.zq=new $P(Zt(s),s.Hq),s.Vq=new LS([s.Hq,s.zq.KA]),s.Wq=new jP(Zt(s)),s.Zj(),s.ON(),s}S(n,t);var e=n.prototype;return e.Kj=function(){this.CN.ended||this.jg===this.Yg||(this.nj=!1)},e.Jj=function(){return void 0!==this.Gq&&this.Yg===this.Gq},e.Cj=function(t){this.tj!==t&&(this.tj=t,this.js(new wy(this.jg,t)))},e.$N=function(){return wN(this.Fh)},e.Xm=function(){var t=this.$j();return this.tY(),t},e.tY=function(){this.sj?this.uj&&(this.uj=!1,this.js(new cy(this.jg))):this.nY()},e.nY=function(){if(this.Lq)this.Lq.Xm();else{L.Cn&&!L.un&&this.Fh.preload===YS.kD&&(this.Fh.preload=YS.sA);var t=this.$g,n=this.Fh.play();t!==this.CN.playbackRate&&(this.$g=t),j(n)?n.then(this.jj,this.Yj):this.Uq.EW()&&this.Nj()}},e.Fm=function(){this.sj?this.uj||(this.uj=!0,this.js(new ay(this.jg))):this.iY()},e.iY=function(){this.Lq?this.Lq.Fm():(this.Fh.pause(),this.Uq.Wc()),this.eY(new Ks)},e.$j=function(){var t=new Wo;return this.Kq.push(t),t.Uu},e.rY=function(){for(var t=0,n=this.Kq;t<n.length;t++){n[t].Hu(void 0)}Hs(this.Kq)},e.eY=function(t){for(var n=0,i=this.Kq;n<i.length;n++){i[n].Vu(t)}Hs(this.Kq)},e.Nj=function(){this.sj||this.Lq||this.rY()},e.Ij=function(t){this.sj||this.Lq||this.eY(t)},e.Bu=function(t,n){this.Lq?this.Lq.jg=t:(this.Zq.Xs(),this.Zq=new Zs,this.Qq=this.sY(t,this.Qq,this.Zq.zs).catch(Z))},e.JN=function(t){var n=this.tD;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.Bu(i)}},e.sY=function(t,n,i){var e,r,s,u,o,a,c,h,f=this;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.Gq=t,this.qq=t,this.IC=!0,this.nj&&!this.Jj()&&(this.nj=!1),this.js(new yy(t)),v.next=8,Rr.awrap(n.catch(Z));case 8:if($s(i),this.rj&&this.uY(),this.og!==Vm.Lg){v.next=13;break}return v.next=13,Rr.awrap(this.uu(uy.d_,i));case 13:if(0!==this.Fh.seekable.length){v.next=19;break}return v.next=16,Rr.awrap(Ve.race([Hg(this.Fh,"timeupdate",i),cu(100,i)]));case 16:$s(i),v.next=13;break;case 19:e=this.oY(t),r=this.Ny,s=!0,u=!1;case 23:if((r=this.Ny).D_>0&&!r.ZN(e)&&(e=r.GD(e),s=!0),_B&&void 0!==(o=this.aY())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(a=this.cY())&&e>a)){v.next=37;break}return u=!0,v.next=33,Rr.awrap(this.hY(a,i));case 33:return v.next=35,Rr.awrap(Hg(this.Fh,"seeked",i));case 35:$s(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Rr.awrap(this.hY(e,i));case 41:$s(i),c=this.jg,r=this.Ny,e=r.GD(e),h=1;case 46:if(!(w.abs(e-c)>=1/6)){v.next=56;break}return r=this.Ny,e=kB(e,r,h),v.next=51,Rr.awrap(this.hY(e,i));case 51:$s(i),c=this.jg,h++,v.next=46;break;case 56:if(this.Fh.seeking||this.og<Vm.Ug){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Rr.awrap(ru(function(t){var n;return Ve.race([Hg(f.Fh,"seeked",t),f.uu([bf.Ef,bf.df,uy.d_],t),null==(n=f.sN)?void 0:n.uu(rD.ZP,t)].filter(X))},i));case 60:$s(i),v.next=23;break;case 63:this.fY(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!Js(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],Ve)},e.hY=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if($s(n),i=this.Ny,t=i.GD(t),!this.rj){s.next=18;break}e=!0;case 5:if(!(e||this.og<Vm.Xg)){s.next=17;break}if((i=this.Ny).ZN(t)||(t=i.GD(t),e=!0),!e){s.next=13;break}return e=!1,this.Gq=t,this.vY(this.jg),s.abrupt("continue",5);case 13:return s.next=15,Rr.awrap(this.uu([uy.d_,bf.df],n));case 15:s.next=5;break;case 17:$s(n);case 18:if(r=Hg(this.Fh,"seeking",n),this.Fh.currentTime=t,this.Gq=void 0,this.vY(this.jg),!this.Fh.seeking){s.next=25;break}return s.next=25,Rr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,Ve)},e.oY=function(t){var n=this.ly;if(n&&!n.ZN(t)){var i=n.eC(t,.05);if(i>-1){var e=n.xD(i);if(t<e)return e}}return t},e.aY=function(){if(this.sN&&this.sN.UX){var t=this.sN.XX,n=this.sN.FX,i=t&&n?t.YD(n):t||n;if(i&&0!==i.D_){var e=i.xD(i.D_-1),r=i.MD(i.D_-1);return w.max(e,r-.001)}}},e.cY=function(){if(this.sN&&this.sN.UX){var t=this.sN.FX;if(t&&0!==t.D_){var n=t.xD(t.D_-1),i=t.MD(t.D_-1)-.02;return i-=.001,w.max(n,i)}}},e.vY=function(t){this.qq!==t&&(this.qq=t,this.js(new yy(t)))},e.fY=function(){this.IC=!1,this.qq=NaN,this.rj&&this.lY(),this.js(new ky(this.jg))},e.uY=function(){this.sj||(this.uj=this.Jg,this.sj=!0,this.iY())},e.lY=function(){this.sj&&(this.sj=!1,this.uj||this.tY())},e.MX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===Kp.NE&&dD.MX(i,this.Fh))return i;if(i.us===Kp.DE&&yC.MX(i))return i}},e.Km=function(){this.RD=!1,rr(this.Fh)&&(this.Fh.style.display="none")},e.Zm=function(){this.RD=!0,rr(this.Fh)&&(this.Fh.style.display="block")},e.TE=function(t,n,i,e,r,s,u,o){var a=new WC(t,n,i,e,r,s,u,o);return this.Cm.S_(a),this.Wq.S_(a),a},e.FN=function(){return!0},e.zN=function(t,n,i,e){var r=s.createElement("track");r.src=s_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=FI(),this.Fh.appendChild(r);var u=this.Fh.textTracks.getTrackById(r.id),o=new zP(u,r);return this.Fq.S_(o),this.Xq.push(o),o},e.IE=function(t){this.Cm.E_(t),this.Wq.E_(t)},e.GN=function(){for(var t=0,n=this.Cm.N_.slice();t<n.length;t++){n[t].Od()}this.Cm.R_();for(var i=0,e=this.Xq.slice();i<e.length;i++){var r=e[i];this.Fq.E_(r),r.Od()}Hs(this.Xq)},e.ON=function(){var t=this.Fh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.vj),t.addEventListener("removetrack",this.wj),t.addEventListener("change",this._j)),this.Fh.addEventListener("emptied",this.gj)},e.jN=function(){var t=this.Fh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.vj),t.removeEventListener("removetrack",this.wj),t.removeEventListener("change",this._j)),this.Fh.removeEventListener("emptied",this.gj)},e.dj=function(t,n){if(L.Cn){if(t.kind===Ap.sA)return void this.dY(t);if(t.kind===Ap.oE&&""===t.label&&""===t.language&&!pB(t))return void this.wY(t,n)}bB(this.Fq,t)||this.Fq.S_(new zP(t,n))},e.dY=function(t){t.mode=Am.Y_;var n=new JP(t);this.Fq.S_(n),this.Wq.S_(n)},e.wY=function(t,n){var i=this;t.addEventListener("cuechange",function e(){pB(t)&&(t.removeEventListener("cuechange",e),i.Fq.S_(new zP(t,n)))}),t.mode=Am.Y_},e.lj=function(t){for(var n=this.Fh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.zc=function(t){var n=this;return this.xq.YU(function(i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if($s(i),!n.sN){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.us!==Kp.NE){r.next=9;break}e=new dD(t,n,n.AX,n._s),n.rj=!1,n._Y(new SC(n)),r.next=17;break;case 9:if(t.us!==Kp.DE){r.next=16;break}e=new yC(t,n,n.AX,n._s),n.rj=vB,n._Y(n.rj?new EC(n):new SC(n)),lB&&(n.Ys(bf.Uf,n.mj),n.Ys(uy.d_,n.Aj)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.sN=e,r.next=20,Rr.awrap(e.yL());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,Ve)})},e.bj=function(){if(!this.aj){var t=this.$g;this.aj=!0,this.$g=t,this.Fh.playbackRate=0,this.Mq&&this.Mq.yW()}},e.yj=function(){if(this.aj){var t=this.$g;this.aj=!1,this.$g=t,this.Tj()}},e.Tj=function(){this.Fh.currentTime=this.Fh.currentTime,this.Mq&&this.Mq.yW()},e._Y=function(t){var n=this.og;this.Mq.Bs(),this.Mq=t,this.Mq.Ys(uy.d_,this.qs);var i=this.og;n!==i&&this.js(new Ty(this.jg,i))},e.R_=function(){var t=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.IC=!1,this.Jq=iE.mC(),this.Zq.Xs(),this.Gq=void 0,this.qq=NaN,this.jq=void 0,this.rj=!1,this.sj=!1,this.uN=void 0,this.nj=!1,this.Yq=void 0,this.ij=!1,this.ej&&(this.Zj(),this.ej=!1),this.eY(new Ks),this._Y(new SC(this)),this.Uq.R_(),this.yj(),lB&&(hR(this.hj),this.hj=0,this.Js(bf.Uf,this.mj),this.Js(uy.d_,this.Aj)),n.next=20,Rr.awrap(this.xq.Xs());case 20:return n.next=22,Rr.awrap(this.xq.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.sN){n.next=4;break}return n.next=3,Rr.awrap(t.sN.Bs());case 3:t.sN=void 0;case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 22:case"end":return n.stop()}},null,this,null,Ve)},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ej=!1,this.Xj(),this.jN(),t.next=5,Rr.awrap(this.R_());case 5:return t.next=7,Rr.awrap(this.xq.Od());case 7:return this.Uq.Bs(),this.Mq.Bs(),t.next=11,Rr.awrap(this.AX.Bs());case 11:return this.GN(),this.Cm.Od(),this.Fq.Od(),t.next=16,Rr.awrap(this.zq.Od());case 16:this.Hq.Od(),this.Vq.Od(),this.Ks();case 19:case"end":return t.stop()}},null,this,null,Ve)},e.Zj=function(){this.CN.addEventListener("play",this.Sj),this.CN.addEventListener("pause",this.Ej),this.CN.addEventListener("timeupdate",this.xj),this.CN.addEventListener("progress",this.Bj),this.CN.addEventListener("loadstart",this.Oj),this.CN.addEventListener("ended",this.Lj),this.CN.addEventListener("ratechange",this.Dj),this.CN.addEventListener("volumechange",this.Fj),this.CN.addEventListener("durationchange",this.Pj),this.CN.addEventListener("resize",this.Hj),this.CN.addEventListener("loadedmetadata",this.Hj),this.CN.addEventListener("error",this.Mj),this.CN.addEventListener("emptied",this.Uj),ps()?(this.Fh.addEventListener("encrypted",this.zj),this.Fh.addEventListener("waitingforkey",this.Vj)):void 0!==ve.WebKitMediaKeys&&"function"==typeof ve.WebKitMediaKeys.isTypeSupported?this.Fh.addEventListener("webkitneedkey",this.Gj):As()?this.Fh.addEventListener("webkitneedkey",this.qj):void 0!==ve.MSMediaKeys&&"function"==typeof ve.MSMediaKeys.isTypeSupported&&this.Fh.addEventListener("msneedkey",this.Wj)},e.Xj=function(){this.CN.removeEventListener("play",this.Sj),this.CN.removeEventListener("pause",this.Ej),this.CN.removeEventListener("timeupdate",this.xj),this.CN.removeEventListener("progress",this.Bj),this.CN.removeEventListener("loadstart",this.Oj),this.CN.removeEventListener("ended",this.Lj),this.CN.removeEventListener("ratechange",this.Dj),this.CN.removeEventListener("volumechange",this.Fj),this.CN.removeEventListener("durationchange",this.Pj),this.CN.removeEventListener("resize",this.Hj),this.CN.removeEventListener("loadedmetadata",this.Hj),this.CN.removeEventListener("error",this.Mj),this.CN.removeEventListener("encrypted",this.zj),this.CN.removeEventListener("waitingforkey",this.Vj),this.CN.removeEventListener("webkitneedkey",this.Gj),this.CN.removeEventListener("webkitneedkey",this.qj),this.CN.removeEventListener("msneedkey",this.Wj),this.CN.removeEventListener("emptied",this.Uj)},e.gY=function(){var t;this.Lq||(this.Jq=this.Iy,this.Lq=new pC((t=this).jg,t.Yg,t.Qg,t.Jg,t.tm,t.Kg,t.$g,t.um,t.og),this.Xj(),this.Lq.Ys(bC,this.qs))},e.mY=function(){if(this.Lq){var t,n,i=this.Lq;this.Lq=void 0,this.Mq.yW(),t=this,(n=i).Yg===t.Yg||m(n.Yg)&&m(t.Yg)||t.js(new dy(t.Yg)),t.Kg=n.Kg,t.um=n.um,t.$g=n.$g,n.Jg?t.Fm():t.Xm().catch(Z),n.jg!==t.jg||n.og>Vm.Lg&&t.og===Vm.Lg?t.Bu(n.jg):!n.tm&&t.tm?t.js(new yy(t.jg)):n.tm&&!t.tm&&t.og>=Vm.Ug&&t.js(new ky(t.jg)),!n.Qg&&t.Qg&&t.js(new gy(t.jg)),i.Bs(),this.Zj()}},e._N=function(t){this.uN=t,this.eY(this.uN),this.js(new NC(this.uN))},e.yY=function(){this.kY||(WO(this.Fh,i.Or),this.cj=!0)},e.bY=function(t){t.appendChild(this.Fh)},e.aW=function(){lB&&this.mj(),this.Mq.yW()},e.vy=function(){this.AX.Pq().catch(Z)},A(n,[{key:"bW",get:function(){return this.aj}},{key:"ly",get:function(){return this.sN?this.sN.ly:iE.mC()}},{key:"wy",get:function(){var t=this.tD;if(t&&!m(t.getTime())){var n=1e3*this.jg;return new Date(t.getTime()+n)}}},{key:"tD",get:function(){if(this.CN.getStartDate)return this.IC&&this.jq||(this.jq=this.CN.getStartDate()),this.jq}},{key:"jg",get:function(){return this.Lq?this.Lq.jg:void 0!==this.Gq?this.Gq:this.Fh.currentTime}},{key:"RU",get:function(){return this.Oq}},{key:"Yg",get:function(){return this.Lq?this.Lq.Yg:this.sN?this.sN.Yg:this.Fh.duration}},{key:"Qg",get:function(){return this.tm?this.Jj():this.Lq?this.Lq.Qg:this.Fh.ended||this.nj}},{key:"wu",get:function(){return this.uN}},{key:"CN",get:function(){return this.Fh}},{key:"Jg",get:function(){return this.sj?this.uj:this.Lq?this.Lq.Jg:this.Fh.paused}},{key:"Iy",get:function(){return this.Jq.tC(iE.wC(this.Fh.played))}},{key:"lT",get:function(){return this.Fh.offsetHeight*i.Or.Xe}},{key:"Pk",get:function(){return this.Fh.offsetWidth*i.Or.Xe}},{key:"WN",get:function(){return sE}},{key:"og",get:function(){return this.Mq.og}},{key:"Ny",get:function(){return this.sN?this.sN.Ny:iE.mC()}},{key:"tm",get:function(){return this.Lq?this.Lq.tm:this.IC}},{key:"Kg",get:function(){return this.Lq?this.Lq.Kg:this.Fh.muted},set:function(t){this.Lq?this.Lq.Kg=t:this.Fh.muted=t}},{key:"$g",get:function(){return this.Lq?this.Lq.$g:void 0!==this.$q?this.$q:this.Fh.playbackRate},set:function(t){this.Lq?this.Lq.$g=t:this.Jg||this.aj?(this.$q=t,this.Cj(t)):(this.$q=void 0,this.Fh.playbackRate=t)}},{key:"pY",get:function(){return this.RD}},{key:"um",get:function(){return this.Lq?this.Lq.um:this.Fh.volume},set:function(t){this.Lq?this.Lq.um=t:this.Fh.volume=t}},{key:"Mm",get:function(){return this.Vq}},{key:"DU",get:function(){return this.DC}},{key:"gy",get:function(){return!!this.Fh.webkitCurrentPlaybackTargetIsWireless}},{key:"kY",get:function(){return this.cj}},{key:"AY",get:function(){return Nr({},hD)}},{key:"PN",get:function(){return this.AX.PN},set:function(t){this.AX.PN=t}},{key:"Bq",get:function(){return this.AX.Bq}},{key:"Cy",get:function(){return this.ij},set:function(t){this.ij=t,this.ej&&!this.ij&&(this.ej=!1,this.Zj())}}]),n}(lu);function mB(t){try{var n=xo(t),i=new zo;return So(Eo(eo(n,i,co(n,i,!0)),!0))}catch(t){return}}var yB=.01;function kB(t,n,i){if(void 0===i&&(i=0),!n.D_)return 0;var e=n.GD(t),r=yB*i;return e===n.xD(0)?e+=r:e===n.MD(n.D_-1)&&(e-=r),e}function bB(t,n){for(var i=0,e=t.N_;i<e.length;i++){var r=e[i];if(r.zy===n)return r}}function pB(t){return!!t.cues&&t.cues.length>0}var AB={ZM:void 0,KM:void 0,JM:void 0,$M:void 0,tU:void 0,nU:void 0,iU:void 0},TB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Jw=void 0,n}return S(n,t),A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=IN(this)),this.Jw}},{key:"ZM",get:function(){}},{key:"KM",get:function(){}},{key:"JM",get:function(){}},{key:"$M",get:function(){}},{key:"tU",get:function(){}},{key:"nU",get:function(){}},{key:"iU",get:function(){}}]),n}(lu);new TB;var SB=function(t){function n(n,i,e){return t.call(this,n,i,e,new TB)||this}return S(n,t),n.prototype.Jm=function(){},A(n,[{key:"nm",get:function(){return 0}},{key:"im",get:function(){return 0}}]),n}(gB),EB="theoplayer-texttracks",IB=function(){function t(t){void 0===t&&(t=5),this.TY=void 0;var n=ve.document.createElement("div");n.className=EB,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.TY=n,this.Zm()}var n=t.prototype;return n.Km=function(){this.TY.style.display="none"},n.Zm=function(){this.TY.style.display="block"},n.bY=function(t){t.appendChild(this.TY)},n.Od=function(){Je(this.TY)},A(t,[{key:"_y",get:function(){return this.TY}}]),t}();function RB(t,n){return t?Nr({},n,hm({$M:t.$M,JM:t.JM,KM:t.KM,ZM:t.ZM,tU:t.tU,nU:t.nU,iU:t.iU})):n}function NB(t){return t.JM&&ls(t.JM,"%")?Number(t.JM.replace("%",""))/100:t.JM&&ls(t.JM,"em")?Number(t.JM.replace("em","")):1}var DB,CB,PB=function(){function t(t,n,i,e,r){var s=this;this.SY=Pr(),this.EY=!0,this.IY=void 0,this.RY=Nr({},AB),this.NY=[],this._k=void 0,this.Fh=void 0,this.Oq=void 0,this.DY=void 0,this.CY=function(t){return s.EE(t.Zy)},this.PY=function(t){return s.removeCue(t.Zy)},this.BY=function(){return s.OY()},this.xY=function(t){return s.LY(t.Zy)},this.MY=function(t){return s.UY(t.Zy)},this.XY=function(t){return s.FY(t.Zy)},this.HY=function(t){s.zY(t.Pk,t.lT)},this._k=t,this.DY=this.IY=r,this.Fh=this.VY(i),this.Oq=e,n.appendChild(this.Fh)}var n=t.prototype;return n.WY=function(t){var n=this.GY(t);if(!n)return!1;for(var i=0;i<n.length;i++){Je(n[i])}return this.qY(t),!0},n.yL=function(){var t=this;this.jY(),this._k.ag.N_.forEach(function(n){return t.EE(n)}),this.RU.Ys("TO",this.HY),this.zY(this.RU.PO,this.RU.CO)},n.YY=function(t){this.RY=t,this.IY=RB(this.RY,this.DY),this.IY.ZM&&(this.CN.style.fontFamily=this.IY.ZM),this.IY.iU&&(this.CN.style.visibility=this.IY.iU),this.zY(this.RU.PO,this.RU.CO),this.QY(!0)},n.ZY=function(){return this.IY},n.KY=function(t){return this.SY.has(t.H_)},n.jY=function(){this._k.Ys(jg.i_,this.CY),this._k.Ys(jg.r_,this.PY),this._k.Ys(jg.v_,this.BY)},n.JY=function(){this._k.Js(jg.i_,this.CY),this._k.Js(jg.r_,this.PY),this._k.Js(jg.v_,this.BY)},n.$Y=function(t){t.Ys(gk.qy,this.xY),t.Ys(gk.Yy,this.MY),t.Ys(gk.m_,this.XY)},n.tQ=function(t){t.Js(gk.qy,this.xY),t.Js(gk.Yy,this.MY),t.Js(gk.m_,this.XY)},n.EE=function(t){this.$Y(t),t.Tk&&this.LY(t)},n.removeCue=function(t){this.tQ(t),this.UY(t)},n.OY=function(){this._k.J_===Am.Q_?this.nQ():this.iQ()},n.nQ=function(){if(this.EY){this.EY=!1;var t=this.RU.PO,n=this.RU.CO;this.zY(t,n),this.QY(!1)}},n.iQ=function(){this.EY||(this.EY=!0,this.QY(!0))},n.LY=function(t){this.EY||t.Tk&&!this.KY(t)&&this.QY(!1)},n.UY=function(t){this.KY(t)&&this.QY(!1)},n.FY=function(t){(t.Tk||this.KY(t))&&this.QY(!0)},n.QY=function(t){var n=this.NY,i=this.EY?[]:this._k.cg.N_.slice();this.eQ(i,n,t),this.NY=i},n.GY=function(t){var n;return null==(n=this.SY.get(t.H_))?void 0:n.rQ},n.sQ=function(t,n){this.SY.set(t.H_,{Zy:t,rQ:n})},n.qY=function(t){this.SY.delete(t.H_)},n.uQ=function(){return this.NY.slice()},n.Od=function(){var t=this;Je(this.CN),this.SY.clear(),this.JY(),this._k.ag.N_.forEach(function(n){return t.tQ(n)}),this.RU.Js("TO",this.HY)},A(t,[{key:"n_",get:function(){return this._k}},{key:"CN",get:function(){return this.Fh}},{key:"RU",get:function(){return this.Oq}},{key:"oQ",get:function(){return this.IY}},{key:"aQ",get:function(){return this.RY}}]),t}();function BB(t){return OB[t||"none"]}!function(t){t.cQ='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.hQ='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.fQ='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.vQ='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(DB||(DB={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(CB||(CB={}));var OB={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function xB(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var LB=Br({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),MB={KM:CB.WHITE,ZM:"Arial, Helvetica, Sans-Serif",JM:"100%",$M:CB.TRANSPARENT,tU:CB.TRANSPARENT,nU:"none",iU:"visible"},UB=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,MB)||this}S(n,t);var i=n.prototype;return i.VY=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",tr(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.zY=function(t,n){var i=w.min(t,n)/15;this.CN.style.fontSize=i+"px"},i.eQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Tk||this.WY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.lQ(u)}},i.lQ=function(t){var n=this.GY(t);n||(n=this.dQ(t),this.sQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.CN.appendChild(r)}},i.dQ=function(t){var n,i=[],e=t.iE,r=t.fp,u=t.$y;if(0===d.keys(r).length){jB(n=s.createElement("div"));for(var o=XB(u,e,t.eE,void 0),a=0;a<o.length;a++){var c=o[a];n.appendChild(c)}i.push(n)}else for(var h=0,f=d.keys(r);h<f.length;h++){var v=f[h],l=s.createElement("div");l.id=v;var w=XB(u,e,t.eE,l);if(w){jB(l),zB(l,"region",r[v],e);for(var _=0;_<w.length;_++){var g=w[_];l.appendChild(g)}i.push(l)}i.push(l)}return i},i.YY=function(t){},n}(PB);function XB(t,n,i,e){var r,s;if(Yt(t)&&("SPAN"===(s=t).ai.toUpperCase()||"P"===s.ai.toUpperCase()||"BR"===s.ai.toUpperCase()||"DIV"===s.ai.toUpperCase()||"BODY"===s.ai.toUpperCase())){var u=function t(n){var i=n.Ci("region");if("p"===n.ai.toLowerCase())return i;var e=[];for(var r=0,s=n.Di;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!u||(null==e?void 0:e.id)===u){(r="BODY"===t.ai.toUpperCase()?e:FB(t))&&(function(t,n,i,e){var r=n.Ci("style");WB(t,n.ai,r,i,e),function(t,n,i){for(var e=0,r=n.Mi;e<r.length;e++){var s=r[e],u=sp(s.ci,["ebutts","tts","xml"]);GB(t,n.ai,u,s._i,i)}}(t,n,e)}(r,t,n,e),function(t,n,i){var e=null==n?void 0:n.Ci("smpte:backgroundImage");if(e){e=e.replace("#","");var r=i&&function t(n,i){if(i(n))return n;for(var e=0,r=n.Di;e<r.length;e++){var s=r[e],u=t(s,i);if(u)return u}return null}(i,function(t){return t.Mi.some(function(t){return"id"===t.ai&&t._i===e})});r&&VB(t,r,n,!0)}!function(t,n){var i=n.Di[0];if(!i||"metadata"!==i.ai.toLowerCase())return;var e=i.Di[0];VB(t,e,n)}(t,n)}(r,t,i));for(var o=[],a=t.Si,c=0;c<a.length;c++){var h=XB(a[c],n,i,e);h&&(o=o.concat(h))}if("BODY"!==t.ai.toUpperCase()){for(var f=0,v=o;f<v.length;f++){var l,d=v[f];null==(l=r)||l.appendChild(d)}return r?[r]:[]}return o}}else Qt(t)&&(r=FB(t));return r?[r]:[]}function FB(t){var n,i;if(Qt(t))xB(n=s.createElement("text"),t.Xi);else if(Yt(t))switch(t.ai.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":HB(n=s.createElement("span"),t);break;case"P":n=s.createElement("p"),(i=n).style.fontFamily="inherit",i.style.color="inherit",i.style.textAlign="inherit",i.style.padding="0",i.style.margin="0",i.style.lineHeight="inherit",HB(n,t);break;case"DIV":HB(n=s.createElement("div"),t)}return n}function HB(t,n){var i=n.Pi(ip,"id");i&&(t.id=i)}function zB(t,n,i,e){WB(t,n,i.style,e,t);for(var r=0,s=d.keys(i);r<s.length;r++){var u=s[r];GB(t,n,u,i[u],t)}}function VB(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Si.length>0?t.Si[0]:null;return n&&Qt(n)?"data:image/png;base64,"+n.Xi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){tr(t.style,"flex");var i=n.Ci("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.Ci("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function WB(t,n,i,e,r){if(i)for(var s=0,u=i.split(" ");s<u.length;s++){var o=u[s];if(e[o])for(var a=0,c=d.keys(e[o]);a<c.length;a++){var h=c[a],f=sp(h,["ebutts","tts","xml"]);"style"===f.toLowerCase()?WB(t,n,e[o][h],e,r):GB(t,n,f,e[o][h],r)}}}function GB(t,n,i,e,r){switch(i){case"backgroundColor":t.style.backgroundColor=e;break;case"color":t.style.color=e;break;case"direction":t.style.direction=e;break;case"display":"none"===e&&(t.style.display="none");break;case"fontFamily":var s=LB.get(e);t.style.fontFamily=s||e;break;case"fontSize":ls(e,"px")?e=_(e)/24+"em":ls(e,"c")&&(e=e.replace("c","em")),t.style.fontSize=e;break;case"fontStyle":t.style.fontStyle=e;break;case"fontWeight":t.style.fontWeight=e;break;case"lineHeight":t.style.lineHeight=e;break;case"opacity":t.style.opacity=e;break;case"overflow":t.style.overflow=e;break;case"padding":t.style.padding=e;break;case"textAlign":"right"===e?(t.style.textAlign="right",t.style.justifyContent="flex-end"):"start"===e?(t.style.textAlign="start",t.style.justifyContent="flex-start"):"center"===e?(t.style.textAlign="center",t.style.justifyContent="center"):"end"===e?(t.style.textAlign="end",t.style.justifyContent="flex-end"):"left"===e&&(t.style.textAlign="left",t.style.justifyContent="flex-start");break;case"textDecoration":var u=e;u=(u=(u=(u=u.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough","none")).replace("noOverline","none"),t.style.textDecoration=u;break;case"unicodeBidi":t.style.unicodeBidi=e.replace("bidiOverride","bidi-override");break;case"visibility":t.style.visibility=e;break;case"zIndex":t.style.zIndex=e;break;case"displayAlign":var o;if("before"===e.toLowerCase())o="flex-start";else if("center"===e.toLowerCase())o="center";else{if("after"!==e.toLowerCase())return;o="flex-end"}t.style.alignItems=o;break;case"extent":var a,c,h=qB(n.toLowerCase())?r:t,f=e.split(" ");f.length>=2?(a=f[0],c=f[1]):a=c="100%",h&&(h.style.height=c,h.style.width=a);break;case"origin":var v=qB(n.toLowerCase())?r:t,l=e.split(" "),d=l[0],w=l[1];v&&(d||w)&&(d&&(v.style.left=d),w&&(v.style.top=w));break;case"showBackground":break;case"wrapOption":t.style.whiteSpace=e.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap");break;case"writingMode":var g,m,y,k;switch(e){case"lrtb":g="horizontal-tb";break;case"rltb":g="horizontal-tb",m="rtl",k="bidi-override";break;case"tbrl":g="vertical-rl",y="upright";break;case"tblr":g="vertical-lr",y="upright";break;case"lr":g="horizontal-tb";break;case"rl":g="horizontal-tb",m="rtl";break;case"tb":g="vertical-rl",y="upright";break;default:return}t.style.writingMode=g,t.style.setProperty("-webkit-writing-mode",g),m&&(t.style.direction=m),y&&(t.style.textOrientation=y,t.style.setProperty("-webkit-text-orientation",y)),k&&(t.style.unicodeBidi=k);break;case"textOutline":break;case"linePadding":if(ls(e,"c")){var b=e.replace("c","em");t.style.paddingLeft=t.style.paddingRight=b}break;case"multiRowAlign":"auto"===e.toLowerCase()?t.style.textAlign="":t.style.textAlign="value"}}function qB(t){return"div"===t||"p"===t||"span"===t}function jB(t){tr(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px",t.style.textAlign="start",t.style.writingMode="horizontal-tb",t.style.setProperty("-webkit-writing-mode","horizontal-tb"),t.style.padding="0",t.style.margin="0",t.style.lineHeight="1.3em"}var YB,QB,ZB=void 0;function KB(t,n){for(var i,e=YB.wQ,r="",s=[],u=t.charAt(n.Du),o="",a={us:QB._Q,Ei:"",gQ:[]};n.Du<t.length+1;){switch(u=n.Du<t.length?t.charAt(n.Du):"EOF",e){case YB.wQ:switch(u){case"&":var c=t.substring(n.Du).match(/&#?[0-9a-zA-Z]+;/);c?(r+=(i=c[0],ZB||(ZB=ve.document.createElement("textarea")),ZB.innerHTML=i,ZB.value),n.Cu(c[0].length-1)):r+="&";break;case"<":if(r)return{us:QB.mQ,$y:r};e=YB.yQ;break;case"EOF":return{us:QB.mQ,$y:r};default:r+=u}break;case YB.yQ:switch(u){case"\t":case"\n":case"\f":case" ":e=YB.kQ;break;case".":e=YB.bQ;break;case"/":e=YB.pQ;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=YB.AQ;break;case">":return n.Cu(1),a;case"EOF":return a;default:r=u,e=YB.TQ}break;case YB.TQ:switch(u){case"\t":case"\f":case" ":e=YB.kQ;break;case"\n":o=u,e=YB.kQ;break;case".":e=YB.bQ;break;case">":return n.Cu(1),{us:QB._Q,Ei:r,gQ:[]};case"EOF":return{us:QB._Q,Ei:r,gQ:[]};default:r+=u}break;case YB.bQ:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=YB.kQ;break;case"\n":s.push(o),o=u,e=YB.kQ;break;case".":s.push(o),o="";break;case">":return n.Cu(1),s.push(o),{us:QB._Q,Ei:r,gQ:s};case"EOF":return s.push(o),{us:QB._Q,Ei:r,gQ:s};default:o+=u}break;case YB.kQ:switch(u){case"&":e=YB.SQ;break;case">":n.Cu(1);var h=o.trim();return h=h.replace(/\s/," "),{us:QB._Q,Ei:r,gQ:s,EQ:h};default:o+=u}break;case YB.SQ:for(var f="",v=n.Du;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=YB.kQ;break;case YB.pQ:switch(u){case">":return n.Cu(1),{us:QB.IQ,Ei:r};case"EOF":return{us:QB.IQ,Ei:r};default:r+=u}break;case YB.AQ:switch(u){case">":return n.Cu(1),{us:QB.RQ,NQ:r};case"EOF":return{us:QB.RQ,NQ:r};default:r+=u}}n.Cu(1)}return a}!function(t){t.wQ="Data",t.yQ="Tag",t.TQ="StartTag",t.bQ="StartTagClass",t.kQ="StartTagAnnotation",t.SQ="CharRefInAnnotation",t.pQ="EndTag",t.AQ="TimestampTag"}(YB||(YB={})),function(t){t.mQ="string",t._Q="starttag",t.IQ="endtag",t.RQ="timestamp"}(QB||(QB={}));var JB=function(){function t(t,n,i,e){this.DQ=void 0,this.CQ=void 0,this.Pk=void 0,this.lT=void 0,this.DQ=t,this.CQ=n,this.Pk=i,this.lT=e}var n=t.prototype;return n.BQ=function(t){return this.DQ<t.OQ&&this.OQ>t.DQ&&this.CQ<t.xQ&&this.xQ>t.CQ},n.Oy=function(t){return this.DQ<=t.DQ&&t.OQ<=this.OQ&&this.CQ<=t.CQ&&t.xQ<=this.xQ},n.Ou=function(){return new t(this.DQ,this.CQ,this.Pk,this.lT)},A(t,[{key:"OQ",get:function(){return this.DQ+this.Pk},set:function(t){this.DQ=t-this.Pk}},{key:"xQ",get:function(){return this.CQ+this.lT},set:function(t){this.CQ=t-this.lT}}]),t}(),$B={KM:CB.WHITE,ZM:"sans-serif",JM:"100%",$M:"rgba(0,0,0,0.8)",tU:CB.TRANSPARENT,nU:"none",iU:"visible"},tO="theoplayer-webvtt-region-",nO="theoplayer-webvtt-styling-",iO="theoplayer-webvtt-voice-",eO="theoplayer-webvtt-default-style",rO=5.23,sO=1.14,uO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,$B)||this).LQ=Cr(),s.MQ=fO(3),s}S(n,t);var i=n.prototype;return i.VY=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,ir(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.oQ.ZM;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",function(){if(s.getElementById(eO))return;for(var t=[],n=0;n<gO.length;n++){var i=gO[n],e=i[0],r=i[1];t.push("."+nO+e+" { color: "+r+" !important; }"),t.push("."+nO+"UQ"+e+" { background-color: "+r+" !important; }"),t.push("video::cue(."+e+") { color: "+r+"; }"),t.push("XQ"+e+") { background-color: "+r+"; }")}var u=s.createElement("style");u.id=eO,u.innerHTML=t.join("\n"),s.body.appendChild(u)}(),n},i.yL=function(){this.CN.appendChild(this.MQ),t.prototype.yL.call(this)},i.zY=function(t,n){var i=this,e=w.min(t/100,n/100),r=NB(this.oQ);this.LQ.forEach(function(t){var n=t.fk,s=t.FQ;i.HQ(s,e,r,n)}),this.HQ(this.MQ,e,r),this.zQ()},i.zQ=function(){var t=NB(this.oQ);this.MQ.style.margin=t>=1.5?"0":1/t+"em"},i.eQ=function(t,n,i){for(var e=this,r=this.CN,s=this.RU.CO/100,u=[],o=0;o<t.length;o++){var a=t[o];void 0!==a.fk&&(Xs(u,a.fk)||u.push(a.fk))}this.LQ.forEach(function(t,n){var r=t.fk,s=t.FQ;!i&&Xs(u,r)||(Je(s),e.LQ.delete(n))});for(var c=0;c<n.length;c++){var h=n[c];!i&&h.Tk||this.WY(h)}for(var f=[],v=0;v<u.length;v++){var l=u[v],d=void 0;this.LQ.has(l.F_)?d=this.LQ.get(l.F_).FQ:(d=vO(l,s),r.appendChild(d),this.LQ.set(l.F_,{fk:l,FQ:d})),f.push(wO(d.getBoundingClientRect()))}for(var w=wO(this.MQ.getBoundingClientRect()),_=0;_<t.length;_++){var g=t[_],m=this.lQ(g,f,w);void 0!==m&&f.push(m)}},i.lQ=function(t,n,i){var e,r;t.fk?(r=this.LQ.get(t.fk.F_).FQ,"up"===t.fk.Nk&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.MQ;var s=null==(e=this.GY(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.VQ(t),r.appendChild(s),t.fk||(t.vk?function(t,n,i,e){var r=lO(t),s=r?i.lT:i.Pk,u=g(getComputedStyle(n).lineHeight);if(0===u)return;var o=wO(n.getBoundingClientRect()),a=w.round(Ok(t));"rl"===t.lk&&(a=-(a+1));var c=u*a;"rl"===t.lk&&(c=c-o.Pk+u);a<0&&(c+=s,u=-u);r?o.CQ+=c:o.DQ+=c;var h=o.Ou(),f=!1;for(;!i.Oy(o)||dO(o,e);)if(r)if(u<0&&o.CQ<i.CQ||u>0&&o.xQ>i.xQ){if(o.CQ=h.CQ,f)break;u=-u,f=!0}else o.CQ+=u;else if(u<0&&o.DQ<i.DQ||u>0&&o.OQ>i.OQ){if(o.DQ=h.DQ,f)break;u=-u,f=!0}else o.DQ+=u;r?n.style.top=(o.CQ-i.CQ)/i.lT*100+"%":n.style.left=(o.DQ-i.DQ)/i.Pk*100+"%"}(t,s,i,n):function(t,n){if("start"===t.rk)return;var i,e=n.getBoundingClientRect();if(0===e.width||0===e.height)return;i=lO(t)?"center"===t.rk?"translateY(-100%)":"translateY(-50%)":(t.rk,"translateX(-50%)");n.style[dR("transform")]=i}(t,s)),this.sQ(t,[s])),!t.fk)return wO(s.getBoundingClientRect())},i.VQ=function(t){for(var n=new zo,i=t.$y,e=this.WQ(t),r={GQ:void 0,_y:e},u=r,o="",a="",c=[r],h=[],f=[];n.Du<i.length;){var v=KB(i,n);if(v.us===QB.mQ){var l=s.createElement("span");xB(l,v.$y),oO(l,c),""!==o&&(l.lang=o),this.qQ(l,a),u._y.appendChild(l)}else if(v.us===QB._Q){var d=v.Ei.toLowerCase();switch(d){case"i":case"b":case"u":case"ruby":var w=s.createElement(d);u._y.appendChild(w),u={GQ:v,_y:w},c.push(u);break;case"rt":var _;if("ruby"===(null==(_=u.GQ)?void 0:_.Ei.toLowerCase())){var g=s.createElement("rt");u._y.appendChild(g),u={GQ:v,_y:g},c.push(u)}break;case"c":case"v":u={GQ:v,_y:u._y},c.push(u);break;case"font":var m,y=null==(m=v.EQ)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(a=y[1],f.push(a),u={GQ:v,_y:u._y},c.push(u));break;case"lang":var k;o=null!=(k=v.EQ)?k:"",h.push(o)}}else if(v.us===QB.IQ){var b,p=v.Ei.toLowerCase(),A=null==(b=u.GQ)?void 0:b.Ei.toLowerCase();A===p?(c.pop(),u=c[c.length-1],"font"===p&&(f.pop(),a=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===p?(c.pop(),c.pop(),u=c[c.length-1]):"lang"===p&&(h.pop(),o=h.length>0?h[h.length-1]:"")}else if(v.us===QB.RQ){var T=v.NQ,S=new zo;try{Sb(T,S)}catch(t){ot("ERROR collecting timestamp",t)}}}return e},i.qQ=function(t,n){var i=this.oQ,e=this.aQ;i.$M&&(t.style.background=i.$M);var r=e.KM||n||i.KM;r&&(t.style.color=r)},i.HQ=function(t,n,i,e){if(e){var r=aO(e,n);t.style.height=r*i+"px",t.style.left=cO(e)+"%",t.style.top=hO(e,n)+"px"}t.style.fontSize=rO*n*i+"px"},i.WQ=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.nk,function(t,n){"rl"===n.lk?t.style.writingMode="vertical-rl":"lr"===n.lk?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Mk(n);lO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Lk(n),s=xk(n),u=Mk(n);if(lO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.vk?0:Ok(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.vk?0:Ok(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.oQ.tU;i&&(n.style.background=i);var e=this.oQ.KM;return e&&(n.style.color=e),n.style.textShadow=BB(this.oQ.nU),n},n}(PB);function oO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.GQ){for(var r=0,s=e.GQ.gQ;r<s.length;r++){var u=s[r];$e(t,nO+u)}"v"===e.GQ.Ei.toLowerCase()&&e.GQ.EQ&&$e(t,iO+e.GQ.EQ)}}}function aO(t,n){return t.Ek*(rO*n)*sO}function cO(t){return t.Dk-t.Ik*t.Pk/100}function hO(t,n){var i=t.Ck,e=t.Rk*aO(t,n)/100;return w.max(0,i-e)}function fO(t){var n=s.createElement("div");return n.className=tO+"default",ir(n),n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=rO*t+"px",n.style.lineHeight=sO+"em",n}function vO(t,n){var i=fO(n);i.className=tO+t.F_;var e=t.Pk,r=aO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=cO(t)+"%",i.style.right="",i.style.top=hO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function lO(t){return""===t.lk}function dO(t,n){return n.some(function(n){return t.BQ(n)})}function wO(t){return new JB(t.left,t.top,t.width,t.height)}var _O,gO=[["white","#fff"],["lime","#0f0"],["cyan","#0ff"],["red","#f00"],["yellow","#ff0"],["magenta","#f0f"],["blue","#00f"],["black","#000"]];!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(_O||(_O={}));var mO={KM:CB.WHITE,ZM:DB.fQ,JM:"100%",$M:CB.BLACK,tU:"transparent",nU:"none",jQ:_O.FONT_REGULAR,iU:"visible"},yO=[{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.GREEN,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.GREEN,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.BLUE,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.BLUE,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.CYAN,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.CYAN,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.RED,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.RED,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.YELLOW,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.YELLOW,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.MAGENTA,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.MAGENTA,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_ITALICS,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE_ITALICS,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:0},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:4},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:4},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:8},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:8},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:12},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:12},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:16},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:16},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:20},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:20},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:24},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:24},{YQ:CB.WHITE,jQ:_O.FONT_REGULAR,QQ:28},{YQ:CB.WHITE,jQ:_O.FONT_UNDERLINE,QQ:28}],kO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];function bO(t,n){return i=t.ZQ,e=n.ZQ,i.Lk(e)||Ds(t.yS,n.yS);var i,e}var pO=32,AO=function(){function t(t,n,i){this.KQ=void 0,this.JQ=t,this.$Q=n,this.IY=i}var n=t.prototype;return n.tZ=function(){return this.KQ=this.nZ(),this.iZ(),this.eZ(),this.KQ},n.nZ=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.rZ/pO*this.$Q.sZ*100+"%",t.style.height=1.2*this.uZ+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.$Q.oZ?"calc(1em - 1ch)":"";var n=this.IY.ZM;n&&(t.style.fontFamily=n);var i=this.IY.tU;return i&&(t.style.backgroundColor=i),t},n.iZ=function(){if(this.KQ){var t=this.cZ.aZ/15*100,n=this.cZ.QQ/pO*100,i=(pO-this.hZ.QQ-1)/pO*100,e=(15-this.hZ.aZ-1)/15*100;this.$Q.fZ||(n=i=1,this.KQ.style.width="98%"),e<t?this.KQ.style.bottom=e*this.$Q.sZ+"%":this.KQ.style.top=t*this.$Q.sZ+"%",i<n?this.KQ.style.right=i+"%":this.KQ.style.left=n+"%"}},n.eZ=function(){for(var t=this.JQ.vZ.sort(TO),n=0;n<t.length;n++)this.lZ(t[n-1],t[n]),this.dZ(t[n]);this.lZ(t[t.length-1],void 0)},n.dZ=function(n){var i,e=RB(this.IY,n.wZ),r=t._Z(e);xB(r,n.gZ),null==(i=this.KQ)||i.appendChild(r)},t._Z=function(t){var n=s.createElement("span");n.style.display="inline-block",t.jQ!==_O.FONT_ITALICS&&t.jQ!==_O.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.jQ!==_O.FONT_UNDERLINE&&t.jQ!==_O.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.KM;i&&(n.style.color=i);var e=t.$M;return e&&(n.style.backgroundColor=e),n.style.textShadow=BB(t.nU),n.style.height="1.2em",n},n.lZ=function(t,n){var i=t?t.mZ.aZ:this.JQ.yZ.aZ,e=n?n.yZ.aZ:this.JQ.mZ.aZ,r=t?t.mZ.QQ:this.JQ.yZ.QQ,s=n?n.yZ.QQ:this.JQ.mZ.QQ;i<e&&(!n||t&&t.yZ.aZ!==n.yZ.aZ?this.kZ():this.bZ(this.JQ.mZ.QQ-r),r=this.JQ.yZ.QQ),r<s&&(n?this.bZ(s-r):this.kZ())},n.kZ=function(){var t,n=s.createElement("br");null==(t=this.KQ)||t.appendChild(n)},n.bZ=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",xB(i,ws(" ",t)),null==(n=this.KQ)||n.appendChild(i)}},A(t,[{key:"cZ",get:function(){return this.JQ.yZ}},{key:"hZ",get:function(){return this.JQ.mZ}},{key:"rZ",get:function(){return this.JQ.mZ.QQ-this.JQ.yZ.QQ+1}},{key:"uZ",get:function(){return this.JQ.mZ.aZ-this.JQ.yZ.aZ+1}}]),t}();function TO(t,n){return function(t,n){if(t.aZ!==n.aZ)return t.aZ-n.aZ;return t.QQ-n.QQ}(t.yZ,n.yZ)}var SO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,mO)||this).pZ=void 0,s.AZ=void 0,s}S(n,t);var i=n.prototype;return i.VY=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.oQ.ZM&&(n.style.fontFamily=this.oQ.ZM),n},i.zY=function(t,n){this.TZ()},i.TZ=function(){var t,n=NB(this.oQ);this.AZ={sZ:(t=100*n)/100,oZ:t<=100,fZ:t<=150};var i=this.SZ/pO;this.pZ=i*n,this.CN.style.fontSize=this.pZ+"px"},i.eQ=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.Tk||this.WY(r)}for(var s=0;s<t.length;s++){var u=t[s];this.lQ(u)}},i.lQ=function(t){this.AZ&&this.AZ.fZ?this.EZ(80):this.EZ(100),this.TZ();var n=this.GY(t);n||(n=this.dQ(t),this.sQ(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.CN.appendChild(r)}},i.dQ=function(t){var n=this;return t.$y.map(function(t){return new AO(t,n.AZ,n.oQ).tZ()})},i.EZ=function(t){var n=(100-t)/2;this.CN.style.left=n+"%",this.CN.style.width=t+"%"},A(n,[{key:"SZ",get:function(){var t=this.CN.offsetWidth;return this.AZ&&this.AZ.fZ||(t*=.8),t}}]),n}(PB),EO=function(){function t(t,n,i,e,r){var s=this;this.IZ=void 0,this.Oq=void 0,this.Cm=void 0,this.RZ=void 0,this.NZ=[],this.DC=void 0,this.DZ=function(t){var n=t.n_;n.Ys(jg.d_,s.CZ),n.Ys(jg.__,s.CZ),n instanceof zP&&(n.kG=s.kG),s.PZ(n)},this.CZ=function(t){var n=t.n_;s.PZ(n)},this.BZ=function(t){var n=t.n_;n.Js(jg.d_,s.CZ),n.Js(jg.__,s.CZ),s.OZ(n)},this.xZ=function(){for(var t=s.kG,n=0,i=s.Cm.N_;n<i.length;n++){var e=i[n];e instanceof zP&&(e.kG=t)}},this.LZ=function(){for(var t=0,n=s.NZ;t<n.length;t++){n[t].YY(s.DC)}},this.MZ=function(){for(var t=0,n=s.NZ;t<n.length;t++){var i=n[t];i.YY(Nr({},i.ZY(),{iU:"hidden"}))}},this.UZ=function(){for(var t=0,n=s.NZ;t<n.length;t++){var i=n[t];i.YY(Nr({},i.ZY(),{iU:"visible"}))}},this.IZ=t,this.Oq=n,this.Cm=i,this.RZ=r,this.DC=e,this.Cm.Ys(Vg.Yw,this.DZ),this.Cm.Ys(Vg.Zw,this.BZ),this.Cm.Ys(jg.v_,this.CZ),this.RZ.Ys(tE.v_,this.xZ),this.DC.Ys("l_",this.LZ),this.xZ()}var n=t.prototype;return n.XZ=function(t){for(var n=0,i=this.NZ;n<i.length;n++){var e=i[n];if(e.n_===t)return e}},t.FZ=function(t){switch(t.us){case lk.TTML:case lk.SRT:case lk.WEBVTT:case lk.CEA608:return!0}return!1},n.HZ=function(t){switch(t.us){case lk.TTML:return new UB(t,this.IZ,t.V_,this.Oq);case lk.SRT:case lk.WEBVTT:return new uO(t,this.IZ,t.V_,this.Oq);case lk.CEA608:return new SO(t,this.IZ,t.V_,this.Oq)}},n.zZ=function(t){var n=this.XZ(t);n||(n=this.HZ(t))&&(n.yL(),n.YY(this.DC),this.NZ.push(n),t.J_===Am.Q_&&n.nQ())},n.OZ=function(t){for(var n=this.NZ,i=n.length-1;i>=0;i-=1){var e=n[i];e.n_===t&&(e.Od(),Us(n,i))}},n.PZ=function(n){var i;(i=n.z_)!==Ap.eA&&i!==Ap.oE||!t.FZ(n)||(n.og===vk.ERROR?this.OZ(n):this.zZ(n))},n.R_=function(){for(var t=0,n=this.NZ;t<n.length;t++){var i=n[t];i.n_.Js(jg.d_,this.CZ),i.n_.Js(jg.__,this.CZ),i.Od()}Hs(this.NZ)},n.Od=function(){this.R_();for(var t=0,n=this.NZ;t<n.length;t++){n[t].Od()}this.Cm.Js(Vg.Yw,this.DZ),this.Cm.Js(Vg.Zw,this.BZ),this.Cm.Js(jg.v_,this.CZ),this.RZ.Js(tE.v_,this.xZ),this.DC.Js("l_",this.LZ)},A(t,[{key:"kG",get:function(){return this.RZ.kC}}]),t}();function IO(t){var n=new TR,i=function(t){var n=[];return pR.$O(t)&&n.push(new pR(t)),AR.$O(t)&&n.push(new AR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.sx(r)}n.ex(i[0])}return n}var RO,NO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).VZ=void 0,s.WZ=void 0,s.GZ=void 0,s.GZ=IO(n),s.VZ=new IB,s.WZ=new EO(s.VZ._y,s.RU,s.Mm,s.DU,s.WN),s}S(n,t);var i=n.prototype;return i.Jm=function(){return this.Fh},i.Bs=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.GZ.Od(),this.VZ.Od(),this.WZ.Od(),n.next=5,Rr.awrap(t.prototype.Bs.call(this));case 5:case"end":return n.stop()}},null,this,null,Ve)},i.Km=function(){t.prototype.Km.call(this),this.VZ.Km()},i.Zm=function(){t.prototype.Zm.call(this),this.VZ.Zm()},i.bY=function(n){t.prototype.bY.call(this,n),this.VZ.bY(n)},A(n,[{key:"CN",get:function(){return this.Fh}},{key:"nm",get:function(){return this.Fh.videoHeight}},{key:"im",get:function(){return this.Fh.videoWidth}},{key:"WN",get:function(){return this.GZ}}]),n}(gB);!function(t){t.qZ="HELLO",t.jZ="HI_THERE",t.YZ="INITIALIZE",t.QZ="APPEND_INIT",t.ZZ="APPEND_DATA",t.KZ="ACK",t.JZ="REMOVE",t.$Z="DESTROY_SESSION"}(RO||(RO={}));var DO=function(){function t(){this.oe=void 0,this.Uh=void 0,this.sX=new qN}var n=t.prototype;return n.tK=function(t){var n=this;return this.sX.YU(function(t){var i,e,r,s,u,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if($s(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){c.next=7;break}return c.next=7,Rr.awrap(Hg(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){c.next=10;break}return c.next=10,Rr.awrap(Hg(o.serviceWorker.controller,"activate",t));case 10:return s={kind:RO.qZ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.oe=e,c.prev=15,c.next=18,Rr.awrap(Hg(e,"message",t));case 18:if(u=c.sent,(a=u.data).kind===RO.jZ){c.next=23;break}throw new v("Could not set up message channel");case 23:n.Uh=a.sessionId,c.next=30;break;case 26:throw c.prev=26,c.t0=c.catch(15),Js(c.t0)&&n.nK(),c.t0;case 30:case"end":return c.stop()}},null,null,[[15,26]],Ve)},t)},n.iK=function(t,n){var i=this;return this.oe,this.sX.YU(function(){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.oe){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.oe.postMessage(t,n),r.next=7,Rr.awrap(Hg(i.oe,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,Ve)})},n.eK=function(){var t=this;return this.sX.YU(function(){return t.nK()})},n.nK=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.oe){var t={kind:RO.$Z};this.oe.postMessage(t),this.oe.close(),this.oe=void 0}},t}(),CO=function(){function t(){this.rK=Vk.Hb}var n=t.prototype;return n.sK=function(t,n){var i=t.Gk(n);this.rK=i.xk(this.uK)?this.rK:i},n.oK=function(t){this.rK=t},A(t,[{key:"uK",get:function(){return this.rK}}]),t}(),PO=function(t){function n(n,i){var e;return(e=t.call(this)||this).aK=void 0,e.cK=void 0,e.$o=void 0,e.sX=new qN,e.hK=!1,e.fK=!1,e.nO=n,e.vK=i,e}S(n,t);var i=n.prototype;return i.gV=function(t,n){},i.mV=function(t,n){},i.UX=function(){return this.fK},i.yV=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.$z=function(t,n){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.Hz=function(t,i,e){var r,s,u=this;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us===gD.VX){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.Xi,s=function(){var t,i,e,s,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=Jb.LA(new DataView(r.buffer)),(i=Gb(t,ib.zp)).length){h.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.$o,s=n.lK(i,e),o=u.dK(i,e),a=r.buffer,c={kind:RO.ZZ,mimeType:u.nO,segment:r,startPts:Kk.jb(s).np(),totalDuration:Kk.jb(o).np()},h.next=11,Rr.awrap(u.vK.iK(c,[a]));case 11:void 0===u.aK&&(u.aK=s),void 0===u.cK&&(u.cK=s),u.cK=u.cK.By(o),u.js(new wu(vD.HX));case 15:case"end":return h.stop()}},null,null,null,Ve)},i.abrupt("return",this.sX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,u.hK=!0,n.next=5,Rr.awrap(s());case 5:return n.prev=5,u.hK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},e));case 5:case"end":return i.stop()}},null,this,null,Ve)},i.Wz=function(t,n,i){var e,r,s=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.us===gD.VX){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.Xi,r=function(){var t,n,i,r;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Jb.LA(new DataView(e.buffer)),n=Wb(t,ib._p)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.KA.length){u.next=6;break}throw new v("Tracks not found");case 6:return s.$o=n.KA[0].uT.NA.Pb,i=e.buffer,r={kind:RO.QZ,mimeType:s.nO,segment:e},u.next=11,Rr.awrap(s.vK.iK(r,[i]));case 11:s.js(new wu(vD.HX));case 12:case"end":return u.stop()}},null,null,null,Ve)},n.abrupt("return",this.sX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,s.hK=!0,n.next=5,Rr.awrap(r());case 5:return n.prev=5,s.hK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},i));case 5:case"end":return n.stop()}},null,this,null,Ve)},i.fV=function(){this.fK=!0},i.oV=function(){this.fK=!1},i.Vc=function(t,n,i){var e,r=this;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:RO.JZ,mimeType:r.nO,endTime:Kk.Vb(n).np()},i.next=3,Rr.awrap(r.vK.iK(t));case 3:r.aK=void 0,r.cK=void 0,r.js(new wu(vD.HX));case 6:case"end":return i.stop()}},null,null,null,Ve)},t.abrupt("return",this.sX.YU(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return $s(t),n.prev=1,r.hK=!0,n.next=5,Rr.awrap(e());case 5:return n.prev=5,r.hK=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},i));case 2:case"end":return t.stop()}},null,this,null,Ve)},i.NX=function(t){return this.nO===t.Xl},i.DX=function(t){return this.nO=t.Xl,Ve.resolve()},n.lK=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.KA.length)throw new v("No tracks");if(!i.KA[0].TS)throw new v("No decode time");return new Vk(i.KA[0].TS.TS.toNumber(),n)},i.dK=function(t,n){var i=0;return t.forEach(function(t){t.KA.forEach(function(t){t.AS.forEach(function(t){t.DS.forEach(function(t){var n;i+=null!=(n=t.Yg)?n:0})})})}),new Vk(i,n)},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ks(),t.next=3,Rr.awrap(this.sX.Od());case 3:case"end":return t.stop()}},null,this,null,Ve)},A(n,[{key:"ly",get:function(){return void 0===this.aK||void 0===this.cK?iE.mC():new iE([this.aK.Xb,this.cK.Xb])}},{key:"Jc",get:function(){return{Xl:this.nO}}},{key:"pV",get:function(){return Ky.fd}},{key:"ZB",get:function(){return this.nO}},{key:"AV",get:function(){return iE.mC()}},{key:"uL",get:function(){return 30},set:function(t){}},{key:"hL",get:function(){return 30},set:function(t){}},{key:"hx",get:function(){return this.hK}},{key:"wK",get:function(){return this.aK}},{key:"Jy",get:function(){return this.cK}}]),n}(lu),BO=function(){function t(t,n){this.Rh=void 0,this.tW=void 0,this.nW=void 0,this.Rh=t,this.nW=Os(n,function(t){return Boolean(t.ZB.match(/video/))}),this.tW=Os(n,function(t){return Boolean(t.ZB.match(/audio/))}),this._K()}t.gK=function(n,i){for(var e=[],r=0;r<n.lW.length;r++){var s=n.lW[r].Xl;e.push(new PO(s,i))}return new t(n,e)};var n=t.prototype;return n._K=function(){},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(Ve.all([this.tW,this.nW].filter(X).map(function(t){return t.Bs()})));case 2:case"end":return t.stop()}},null,this,null,Ve)},n.cW=function(t){},n.vW=function(t,n,i,e){},n.fV=function(){var t,n;null==(t=this.tW)||t.fV(),null==(n=this.nW)||n.fV()},n.oV=function(){var t,n;null==(t=this.tW)||t.oV(),null==(n=this.nW)||n.oV()},n.NX=function(t){return t===this.Rh},n.DX=function(t){return this.Rh=t,Ve.resolve()},A(t,[{key:"mK",get:function(){return[this.tW,this.nW].filter(X)}},{key:"ZV",get:function(){return this.tW}},{key:"ly",get:function(){return wC(this)}},{key:"Jc",get:function(){return this.Rh}},{key:"Yg",get:function(){return 0}},{key:"UX",get:function(){var t,n,i,e,r=null==(t=null==(n=this.tW)?void 0:n.UX())||t,s=null==(i=null==(e=this.nW)?void 0:e.UX())||i;return r&&s}},{key:"Ny",get:function(){return new iE([0,1/0])}},{key:"KV",get:function(){return this.nW}},{key:"Lm",get:function(){throw new v("Not implemented")}}]),t}(),OO=Vk.ib,xO=new Vk(-1/0),LO=Vk.Hb,MO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Lk=function(t,n){return t.Hk(n)?Ts.Is:t.Ak(n)?Ts.Ss:Ts.Es},i.By=function(t,n){return t.By(n)},i.Gk=function(t,n){return t.Gk(n)},i.Fk=function(t,n){return t.Fk(n)},i.qD=function(){return OO},i.jD=function(){return LO},i.KD=function(){return xO},n.wC=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Vk(t.start(e)),new Vk(t.end(e)));return new n(i)},n.yK=function(t){for(var i=[],e=[],r=0;r<t.D_;r++)i.push(new Vk(t.xD(r))),i.push(new Vk(t.MD(r))),e.push(t.LD(r)),e.push(t.UD(r));return new n(i,e)},n.gC=function(t){return new n([t,t],[!0,!0])},i.WD=function(t,i){return new n(t,i)},i.zD=function(t){return t.Xb},n.mC=function(){return UO},n}(nE),UO=new MO([]),XO=function(t){function n(n){var i;return(i=t.call(this)||this).kK=!0,i.vK=new DO,i.bK=new CO,i.sN=void 0,i.Mq=void 0,i.pK=!0,i.AK=new Wo,i.IC=!1,i.Qq=Ve.resolve(),i.Zq=new Zs,i.TK=!0,i.Jq=iE.mC(),i.GZ=void 0,i.SK=void 0,i.cj=!1,i.fN=void 0,i.EK=function(){i.Jg||i.IK.D_<=0||i.ly.D_<=0||i.bK.sK(new Vk(i.ly.MD(i.ly.D_-1)),i.IK.MD(i.IK.D_-1))},i.RK=function(){i.js(new gy(i.jg))},i.NK=function(){i.js(new _y(i.jg,i.wy))},i.DK=function(){i.js(new wy(i.jg,i.$g))},i.CK=function(){i.js(new by(i.jg,i.um))},i.PK=function(){i.js(new dy(i.Yg))},i.BK=function(){i.js(new cA(i.jg))},i.xK=function(){i.Bu(i.jg)},i.LK=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.TK&&i.js(new cy(i.jg)),i.pK=!1,i.TK=!0;case 3:case"end":return t.stop()}},null,null,null,Ve)},i.MK=function(){i.pK=!0,i.js(new ay(i.jg))},i.SK=n,i.Mq=new SC(Zt(i)),i.SK.setAttribute("id","player_video"),i.SK.setAttribute("x-webkit-airplay","deny"),i.SK.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.SK.playsInline=!0,i.SK.style.width="100%",i.SK.style.height="100%",i.UK(),i.XK(),i.GZ=IO(i.SK),i}S(n,t);var e=n.prototype;return e.UK=function(){this.SK.addEventListener("timeupdate",this.EK),this.SK.addEventListener("ended",this.RK),this.SK.addEventListener("timeupdate",this.NK),this.SK.addEventListener("ratechange",this.DK),this.SK.addEventListener("volumechange",this.CK),this.SK.addEventListener("durationchange",this.PK),this.SK.addEventListener("playing",this.BK),this.SK.addEventListener("seeking",this.xK),this.SK.addEventListener("play",this.LK),this.SK.addEventListener("pause",this.MK)},e.FK=function(){this.SK.removeEventListener("timeupdate",this.EK),this.SK.removeEventListener("ended",this.RK),this.SK.removeEventListener("timeupdate",this.NK),this.SK.removeEventListener("ratechange",this.DK),this.SK.removeEventListener("volumechange",this.CK),this.SK.removeEventListener("durationchange",this.PK),this.SK.removeEventListener("playing",this.BK),this.SK.removeEventListener("seeking",this.xK),this.SK.removeEventListener("play",this.LK),this.SK.removeEventListener("pause",this.MK)},e.XK=function(){this.Mq.Ys(uy.d_,this.qs)},e.HK=function(){this.Mq.Js(uy.d_,this.qs)},e.Bu=function(t,n){this.Zq.Xs(),this.Zq=new Zs,this.Qq=this.sY(t,this.Qq,this.Zq.zs).catch(Z)},e.sY=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Jq=this.Iy,r=null==(e=this.sN)?void 0:e.mK){u.next=4;break}return u.abrupt("return");case 4:return s=w.max.apply(w,r.map(function(t){return t.wK?t.wK.Xb:1/0})),this.IC=!0,this.js(new yy(t)),u.next=9,Rr.awrap(n.catch(Z));case 9:if($s(i),u.prev=10,this.kK||this.zK(),this.SK.load(),this.pK){u.next=17;break}return this.TK=!1,u.next=17,Rr.awrap(iu(this.SK.play(),i));case 17:if(!(this.og<Vm.Ug)){u.next=22;break}return u.next=20,Rr.awrap(this.Mq.uu(uy.d_,i));case 20:u.next=17;break;case 22:this.AK.Hu(),this.kK=!1,this.IC=!1,this.js(new ky(this.jg)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.AK.Vu(u.t0),u.t0;case 32:return u.prev=32,this.VK(),this.bK.oK(new Vk(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],Ve)},e.Fm=function(){this.pK=!0,this.SK.pause()},e.Xm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pK){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.SK.src){t.next=9;break}return this.yY(),t.next=7,Rr.awrap(this.AK.Uu);case 7:t.next=11;break;case 9:return t.next=11,Rr.awrap(this.SK.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.pK=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],Ve)},e.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.vK&&this.vK.eK().catch(Z),this.Zq.Xs(),this.FK(),this.HK(),this.Mq.Bs(),this.Ks();case 6:case"end":return t.stop()}},null,this,null,Ve)},e.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.vK&&this.vK.eK().catch(Z),this.Zq.Xs(),this.SK.removeAttribute("src"),this.SK.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.SK.removeAttribute("x-airplay-deny"),this.SK.load(),this.Mq.R_(),this.Jq=iE.mC();case 8:case"end":return t.stop()}},null,this,null,Ve)},e.yY=function(){this.kY||(WO(this.SK,i.Or),this.cj=!0)},e.zK=function(){var t,n=this.SK.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.SK.videoWidth/this.SK.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.SK.style.width=i+"px",this.SK.style.height=e+"px",this.SK.style.marginLeft=(r-i)/2+"px",this.SK.style.marginTop=(u-e)/2+"px",this.SK.style.backgroundColor="black"}},e.VK=function(){this.SK.style.width="100%",this.SK.style.height="100%",this.SK.style.marginLeft="",this.SK.style.marginTop="",this.SK.style.backgroundColor=""},e.zN=function(t,n,i,e){},e.TE=function(t,n,i,e,r,s){},e.MX=function(t){},e.$N=function(){return wN(this.SK)},e.Zm=function(){this.SK.style.display="block"},e.Km=function(){this.SK.style.display="none"},e.gY=function(){},e.zc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.us!==Kp.NE){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Rr.awrap(this.vK.tK());case 4:return n={kind:RO.YZ,mediaBufferConfigs:t.lW.map(function(t){return t.Xl})},i.next=7,Rr.awrap(this.vK.iK(n));case 7:return this.sN=BO.gK(t,this.vK),this.SK.preload="none",this.SK.src="https://theo.proxy/"+this.vK.Uh+"/master.m3u8",i.abrupt("return",this.sN);case 11:case"end":return i.stop()}},null,this,null,Ve)},e.mY=function(){},e.IE=function(t){},e.GN=function(){},e.JN=function(t){},e.FN=function(){return!1},e.bY=function(t){t.appendChild(this.SK)},e.Jm=function(){return this.SK},e.Kj=function(){},e.vy=function(){},A(n,[{key:"CN",get:function(){return this.SK}},{key:"bW",get:function(){return!1}},{key:"jg",get:function(){return this.SK.currentTime+this.bK.uK.Xb}},{key:"Jg",get:function(){return this.SK.paused}},{key:"um",get:function(){return this.SK.volume},set:function(t){this.SK.volume=t}},{key:"$g",get:function(){return this.SK.playbackRate},set:function(t){this.SK.playbackRate=t}},{key:"WK",get:function(){return this.SK.defaultPlaybackRate}},{key:"ly",get:function(){var t,n;return null!=(t=null==(n=this.sN)?void 0:n.ly)?t:iE.mC()}},{key:"IK",get:function(){return MO.wC(this.SK.buffered)}},{key:"Iy",get:function(){var t=iE._C(this.GK);return this.Jq.tC(t.Cu(this.bK.uK.Xb))}},{key:"GK",get:function(){return MO.wC(this.SK.played)}},{key:"tm",get:function(){return this.IC}},{key:"Yg",get:function(){return this.SK.duration}},{key:"Kg",get:function(){return this.SK.muted},set:function(t){this.SK.muted=t}},{key:"wZ",get:function(){return this.SK.style}},{key:"AY",get:function(){return Nr({},hD,{gX:!0,mX:300})}},{key:"og",get:function(){return this.Mq.og}},{key:"nm",get:function(){return this.SK.videoHeight}},{key:"im",get:function(){return this.SK.videoWidth}},{key:"Qg",get:function(){return this.SK.ended}},{key:"lT",get:function(){return 0}},{key:"Pk",get:function(){return 0}},{key:"gy",get:function(){return!1}},{key:"kY",get:function(){return this.cj}},{key:"wy",get:function(){}},{key:"RU",get:function(){}},{key:"wu",get:function(){}},{key:"WN",get:function(){return this.GZ}},{key:"Ny",get:function(){return this.sN?this.sN.Ny:iE.mC()}},{key:"tD",get:function(){}},{key:"Mm",get:function(){}},{key:"DU",get:function(){}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"pY",get:function(){return"block"===this.SK.style.display}},{key:"PN",get:function(){return this.fN},set:function(t){this.fN=t}},{key:"Bq",get:function(){}}]),n}(lu),FO=2,HO=[Ky.Td,Ky.Sd];function zO(t){var n=s.createElement(t);return rr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),VO(n),n}function VO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),sr(t),t.pause(),t.playbackRate=1,t.preload=YS.yD,t.controls=!1,t.style.display="none",rr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function WO(t,n){if(n.Be){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();j(e)&&ou(e),t.pause()}}var GO,qO,jO;function YO(t){return{get bandwidth(){return t.XR},get codecs(){return t.FH},get id(){return t.F_},get uid(){return t.H_},get name(){return t.V_},get averageBandwidth(){return t.qK},get label(){return t.V_},set label(n){t.V_=dm(n)},get height(){return t.lT},get width(){return t.Pk},get frameRate(){return t.jK},get firstFrame(){return t.YK},get available(){return t.QK},addEventListener:function(n,i){t.Ys(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}function QO(t){return{get bandwidth(){return t.XR},get codecs(){return t.FH},get id(){return t.F_},get uid(){return t.H_},get name(){return t.V_},get averageBandwidth(){return t.qK},get label(){return t.V_},set label(n){if(!G(n))throw new v("Unexpected - The provided label is not a string");t.V_=n},get audioSamplingRate(){return t.ZK},get available(){return t.QK},addEventListener:function(n,i){t.Ys(n,i)},removeEventListener:function(n,i){t.Js(n,i)}}}function ZO(t,n){return[t,void 0!==n?t+n-1:Ot]}function KO(t){return Boolean(t.uT)}function JO(t){return Boolean(t.KK)}ce=(GO={JK:function(){function t(t,n,i,e,r){void 0===i&&(i=FO),void 0===e&&(e=HO),void 0===r&&(r=wf()),this.$K=void 0,this.tJ=void 0,this._s=void 0,this.nJ=void 0,this.Oq=void 0,this.DC=void 0,this.iJ=void 0,this.$K=i,this.tJ=[].concat(e),this._s=r,this.Oq=t,this.DC=n,this.nJ=Cr(),this.eJ()}var n=t.prototype;return n.xC=function(t){for(var n=0,i=this.MC;n<i.length;n++){i[n].bY(t)}},n.DN=function(t){var n=Os(this.nJ.get(t),function(t){return t.QK});if(n)return n.QK=!1,n.rJ},n.sJ=function(t){if(!this.iJ)throw new v("Error creating iOS Safari MediaController");return this.iJ},n.YN=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.CN,i=n.tagName.toLowerCase(),r.next=4,Rr.awrap(t.R_());case 4:VO(n),(e=Os(this.nJ.get(i)||[],function(n){return t===n.rJ}))&&(e.QK=!0);case 7:case"end":return r.stop()}},null,this,null,Ve)},n.LC=function(){for(var t=0,n=this.MC;t<n.length;t++){n[t].yY()}},n.Od=function(){for(var t=0,n=this.MC;t<n.length;t++){var i=n[t],e=i.CN;i.Bs(),VO(e),Je(e)}},n.eJ=function(){for(var t=0,n=this.tJ;t<n.length;t++){var i=n[t],e=[];this.nJ.set(i,e);for(var r=0;r<this.$K;r++){var s=zO(i),u=i===Ky.Td?new SB(s,this._s,this.Oq):new NO(s,this._s,this.Oq,this.DC);e.push({rJ:u,QK:!0})}}if(L.Cn&&L.un){var o=zO(Ky.Sd);this.iJ=new XO(o)}},A(t,[{key:"MC",get:function(){for(var t=[],n=0,i=this.tJ;n<i.length;n++){var e=i[n],r=this.nJ.get(e).map(function(t){return t.rJ});t.push.apply(t,r)}return this.iJ&&t.push(this.iJ),t}}]),t}(),uJ:function(){function t(n){var i=this;this.oJ=new qN,this.aJ=function(){var n,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.RC.DN(Ky.Sd),e=n.CN,s.next=4,Rr.awrap(t.cJ(e));case 4:return r=s.sent,s.next=7,Rr.awrap(i.RC.YN(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ve)},this.RC=n}var n=t.prototype;return n.fX=function(){return this.oJ.YU(this.aJ)},n.jm=function(){this.RC.LC()},t.cJ=function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.Tn&&!L.pn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Rr.awrap(t.hJ());case 5:return i.next=7,Rr.awrap(t.fJ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Rr.awrap(t.vJ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,Ve)},t.fJ=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,j(n)){e.next=4;break}return e.abrupt("return",!L.fn);case 4:return i=cu(100),e.next=7,Rr.awrap(Ve.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],Ve)},t.vJ=function(n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Rr.awrap(t.fJ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,Ve)},t.hJ=function(){return new Ve(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Od=function(){this.oJ.Od()},t}(),lJ:{cO:function(t){ve.addEventListener("beforeunload",t)},kO:function(t){ve.removeEventListener("beforeunload",t)}},dJ:r}).JK,he=GO.uJ,fe=GO.lJ,ve=GO.dJ,le=ve&&ve.location,de=ve&&ve.navigator,function(t){t.wJ="currentbufferingrenditionchange",t._J="gJ",t.mJ="yJ",t.kJ="bJ"}(qO||(qO={})),function(t){t[t.Td=0]="Td",t[t.Sd=1]="Sd",t[t.eA=2]="eA",t[t.pJ=3]="pJ"}(jO||(jO={}));var $O,tx,nx,ix=[jO.Td,jO.Sd,jO.eA,jO.pJ];function ex(t){return void 0!==t.AJ}function rx(t){return void 0!==t.TJ}function sx(t){return t?t.SJ?t._i+"@"+t.SJ.xD+"-"+(null!=(n=t.SJ.D_)?n:""):""+t._i:"";var n}function ux(t,n){if(n===t)return!0;if(n._i!==t._i)return!1;if(!t.SJ)return!0;if(n.SJ){var i=ZO(t.SJ.xD,t.SJ.D_),e=ZO(n.SJ.xD,n.SJ.D_);return i[0]<=e[0]&&i[1]>=e[1]}return!1}function ox(t,n){return t===n||t._i===n._i&&(Boolean(t.SJ)===Boolean(n.SJ)&&(!t.SJ||!n.SJ||t.SJ.xD===n.SJ.xD&&t.SJ.D_===n.SJ.D_))}function ax(t){var n=!!t.EJ||void 0;return{F_:t.F_,IJ:t.IJ,tD:t.tD,RJ:t.RJ,Yg:t.Yg,NJ:t.NJ,EJ:n,DJ:t.CJ,PJ:t.BJ,OJ:t.OJ,xJ:t.xJ}}!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ"}($O||($O={})),function(t){t[t.kD=0]="kD",t[t.UJ=1]="UJ",t[t.XJ=2]="XJ"}(tx||(tx={})),function(t){t[t.fd=0]="fd",t[t.FJ=1]="FJ",t[t.HJ=2]="HJ"}(nx||(nx={}));var cx=function(){function t(t,n,i,e,r){this.zJ=void 0,this.VJ=void 0,this.Yg=void 0,this.WJ=void 0,this.GJ=void 0,this.qJ=void 0,this.jJ=void 0,this.dk=void 0,this.YJ=void 0,this.zJ=t,this.VJ=n,this.dk=i,this.jJ=e,this.Yg=r.Yg,this.WJ=r.WJ,this.GJ=r.GJ,this.qJ=r.qJ}return A(t,[{key:"Ky",get:function(){var t;return this.dk+(null!=(t=this.YJ)?t:0)}},{key:"QJ",get:function(){return this.zJ.QJ}}]),t}();var hx,fx=function(){function t(t,n,i){this.Yg=void 0,this.ZJ=void 0,this.WJ=void 0,this.KJ=void 0,this.qJ=void 0,this.jJ=void 0,this.JJ=void 0,this.$J=void 0,this.t$=void 0,this.QJ=void 0,this.dk=void 0,this.n$=[],this.i$=void 0,this.dk=t,this.KJ=i.KJ,this.jJ=n,this.Yg=i.Yg,this.ZJ=i.ZJ,this.WJ=i.WJ,this.qJ=i.qJ,this.JJ=i.JJ,this.$J=i.$J,this.t$=i.t$,this.QJ=i.QJ,this.e$(i)}var n=t.prototype;return n.r$=function(t){return this.n$[t]},n.s$=function(t){for(var n=0;n<this.n$.length;n++){var i=this.n$[n],e=i.Ky,r=e+i.Yg;if(e<=t&&t<=r)return t===r&&n+1<this.n$.length?this.n$[n+1]:i}},n.u$=function(t){for(var n=this.n$.length-1;n>=0;n--){var i=this.n$[n];if(i.Ky<=t)return i}},n.o$=function(t){for(var n=this.u$(t);n&&!n.GJ&&n.VJ>0;)n=this.r$(n.VJ-1);return n},n.e$=function(t){if(t.AJ.length)for(var n=0,i=0;i<t.AJ.length;i++){var e=t.AJ[i],r=!!this.jJ&&i===t.AJ.length-1,s=this.dk+n,u=new cx(this,i,s,r,e);this.n$.push(u),n+=e.Yg}},A(t,[{key:"Ky",get:function(){var t;return this.dk+(null!=(t=this.i$)?t:0)}},{key:"a$",get:function(){return this.dk}},{key:"AJ",get:function(){return this.n$}},{key:"YJ",get:function(){return this.i$},set:function(t){this.i$=t;for(var n=0,i=this.n$;n<i.length;n++){i[n].YJ=t}}}]),t}();function vx(t){return t.reduce(function(t,n){return t+n},0)}!function(t){t.c$="FATAL",t.Z_="ERROR",t.h$="WARNING",t.f$="INFO",t.v$="DEBUG"}(hx||(hx={}));var lx,dx=new(function(){function t(){this.X_=function(){return!1}}var n=t.prototype;return n.l$=function(t){if(!this.X_())return!1;var n=[];return!(n.length>0)||n.some(function(n){return n.toLowerCase()===t.toLowerCase()})},n.d$=function(t){if(this.l$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[hx.v$+" "+t+" -"].concat(e))}},n.mT=function(t){if(this.l$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.dr.apply(i,[hx.f$+" "+t+" -"].concat(e))}},n.w$=function(t){if(this.l$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i.wr.apply(i,[hx.h$+" "+t+" -"].concat(e))}},n.wu=function(t){if(this.l$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[hx.Z_+" "+t+" -"].concat(e))}},n._$=function(t){if(this.l$(t)){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];i._r.apply(i,[hx.c$+" "+t+" -"].concat(e))}},t}()),wx="HLSPlaylistParser";!function(t){t[t.nB=0]="nB",t[t.g$=1]="g$"}(lx||(lx={}));var _x=String.fromCharCode(95),gx=_x+"HLS_msn",mx=_x+"HLS_part",yx=function(){function t(t,n){this.H_=void 0,this.us=void 0,this.wD=void 0,this.m$=void 0,this.y$=void 0,this.k$=void 0,this.ci=void 0,this.W_=void 0,this.b$=void 0,this.p$=void 0,this.A$=void 0,this.T$=void 0,this.S$=void 0,this.E$=void 0,this.I$=void 0,this.R$=void 0,this.N$=void 0,this.D$=void 0,this.C$=[],this.i$=void 0,this.P$=!1,this.iW=iE.mC(),this.ea=void 0,this.B$=-1/0,this.H_=uk(),this.us=n.us,this.wD={WJ:t,us:lx.nB},this.m$=n.m$,this.y$=n.y$,this.k$=n.k$,this.ci=n.ci,this.W_=n.W_,this.b$=n.b$,this.p$=n.p$,this.A$=void 0===n.WJ}var n=t.prototype;return n.O$=function(t,n){var e=i.Cr(this.wD.WJ);return void 0!==t&&e.searchParams.append(gx,String(t)),void 0!==n&&e.searchParams.append(mx,String(n)),e.href},n.x$=function(t){return Os(this.C$,function(n){return n.JJ===t})},n.L$=function(t){for(var n=0;n<this.C$.length;n++){var i,e=this.C$[n],r=e.Ky,s=r+(null!=(i=e.Yg)?i:vx(e.AJ.map(function(t){return t.Yg})));if(r<=t&&t<=s)return t===s&&n+1<this.C$.length?this.C$[n+1]:e}},n.M$=function(t){switch(t){case $O.LJ:return this.S$;case $O.MJ:return this.E$;default:return}},n.U$=function(t){void 0!==this.I$||m(t.X$)||(this.I$=t.X$),void 0===this.I$&&(this.I$=this.F$(t)),void 0===this.N$&&void 0!==t.H$&&(this.N$=t.H$),void 0===this.R$&&void 0!==t.z$&&(this.R$=t.z$),void 0===this.D$&&void 0!==t.V$&&(this.D$=t.V$),this.P$=t.W$,this.G$(t);for(var n=0,e=t.q$;n<e.length;n++){var r=e[n];switch(r.us){case $O.LJ:this.S$={WJ:r.WJ,us:r.us,t$:t.t$};break;case $O.MJ:this.E$={WJ:r.WJ,us:r.us,t$:t.t$}}}this.T$=i.Je()/1e3,this.iW=this.j$(),this.ea=this.Y$()},n.j$=function(){var t,n,i,e=this.KK;if(0===e.length)return iE.mC();var r=e[0].Ky,s=e[e.length-1],u=s.Ky+(null!=(t=s.Yg)?t:vx(s.AJ.map(function(t){return t.Yg})))-(null!=(n=null!=(i=this.V$)?i:this.H$)?n:0);return u<r?iE.mC():new iE([r,u])},n.Y$=function(){var t;if(0===this.C$.length)return 0;if(!this.Q$)return 1/0;var n=vx(this.C$.slice(0,this.C$.length-1).map(function(t){var n;return null!=(n=t.Yg)?n:0})),i=this.C$[this.C$.length-1];return n+(null!=(t=i.Yg)?t:vx(i.AJ.map(function(t){return t.Yg})))},n.F$=function(t){for(var n,i=0,e=t.KK;i<e.length;i++){var r=e[i];if(ex(r)&&void 0!==r.Yg){var s=w.max(1,w.round(r.Yg));(void 0===n||n<s)&&(n=s)}}if(void 0===n)throw new v("HLSModel - Could not determine required segment target duration.");return n},n.G$=function(t){if(0===t.KK.length)return Hs(this.C$),void(this.YJ=void 0);var n=0;if(this.C$.length>0){var i=this.C$[0].JJ,e=this.C$[this.C$.length-1].JJ,r=t.KK[0].JJ,s=t.KK[t.KK.length-1].JJ;if(r<i)return void dx.w$("HLSRendition","Ignoring older playlist (first media sequence number is "+r+", but previous playlist already started at "+i+")");if(s<e)return void dx.w$("HLSRendition","Ignoring older playlist (last media sequence number is "+s+", but previous playlist already ended at "+e+")");if(e<r){var u;n=null!=(u=function(t,n){var i=xs(t,function(t){return void 0!==t.ZJ});if(void 0===i)return;var e=function(t){for(var n=0,i=0;i<t.length;i++){var e,r=t[i];if(rx(r))return;if(r.$J)return;if(r.ZJ)return[r,n];n+=null!=(e=r.Yg)?e:0}return}(n.KK);if(void 0===e)return;var r=e[0],s=e[1];if(i.t$!==r.t$)return;var u=(r.ZJ.getTime()-i.ZJ.getTime())/1e3;return i.Ky+u-s}(this.C$,t))?u:function(t,n,i){var e,r=t[t.length-1],s=n.KK[0],u=r.a$+(null!=(e=r.Yg)?e:i),o=s.JJ-r.JJ-1;return u+o*i}(this.C$,t,this.Z$),Hs(this.C$)}else{0;var o=Ls(this.C$,function(t){return t.JJ===r});0,n=this.C$[o].a$,o>0&&this.C$.splice(0,o)}}for(var a=0,c=n,h=[],f=0;f<t.KK.length;f++){var l=t.KK[f];if(rx(l)){if((a+=l.TJ)>this.C$.length)throw new v("HLSModel - #EXT-X-SKIP tag unexpectedly skipped too many segments.");c=this.C$[a].a$}else{var d=!!t.Q$&&f===t.KK.length-1,w=l.Yg,_=new fx(c,d,l);_.YJ=this.i$,h.push(_),void 0!==w&&(c+=w),a++}}this.C$=h},A(t,[{key:"K$",get:function(){return this.S$}},{key:"J$",get:function(){return this.E$}},{key:"Q$",get:function(){return Boolean(Os(this.C$,function(t){return t.jJ}))}},{key:"Yg",get:function(){return this.ea}},{key:"Ny",get:function(){return this.iW}},{key:"Z$",get:function(){return this.I$}},{key:"z$",get:function(){return this.R$}},{key:"H$",get:function(){return this.Q$?0:this.N$?this.N$:this.I$?3*this.I$:void 0}},{key:"V$",get:function(){var t;return null!=(t=this.D$)?t:this.R$?3*this.R$:void 0}},{key:"n0",get:function(){var t;if(!this.Q$&&this.C$.length){var n=this.C$[this.C$.length-1],i=null!=(t=this.V$)?t:0;return void 0===n.Yg?n.AJ.length?n.Ky+n.AJ[0].Yg*n.AJ.length-i:n.Ky-i:n.Ky+n.Yg-i}}},{key:"W$",get:function(){return this.P$}},{key:"i0",get:function(){return void 0!==this.z$}},{key:"e0",get:function(){if(this.Q$)return!0;var t=i.Je()/1e3,n=this.r0,e=this.s0;return void 0!==n&&t-n<e}},{key:"r0",get:function(){return this.T$}},{key:"YJ",get:function(){return this.i$},set:function(t){this.i$=t;for(var n=0,i=this.C$;n<i.length;n++){i[n].YJ=this.i$}}},{key:"s0",get:function(){var t;return null!=(t=this.I$)?t:1}},{key:"KK",get:function(){return this.C$}},{key:"u0",get:function(){return this.B$},set:function(t){this.B$=t}}]),t}();function kx(t,n){return t.us===n.us&&t.ci===n.ci}function bx(t,n){return t.wD.WJ===n.wD.WJ}function px(t,n){for(var i=0;i<t.length;i++){if(bx(t[i],n))return!0}return!1}var Ax,Tx,Sx=function(t){function n(n,i){var e;return(e=t.call(this,jg.b_)||this).G_=void 0,e.n_=void 0,e.G_=n||[],e.n_=i,e}return S(n,t),n.prototype.t_=function(){return new Ex(this.G_.map(function(t){return t.$w}))},n}(Gg),Ex=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(wu);!function(t){t.o0="alternative",t.a0="main",t.c0="commentary",t.h0="",t.aE="descriptions",t.f0="main-desc",t.v0="translation"}(Ax||(Ax={})),function(t){t.o0="alternative",t.a0="main",t.c0="commentary",t.h0="",t.oE="captions",t.l0="sign",t.eA="subtitles"}(Tx||(Tx={}));var Ix=function(t){function n(n,i,e){var r;return(r=t.call(this,jg.y_)||this).d0=n,r.w0=i,r._0=e,r}return S(n,t),n.prototype.t_=function(){return new Rx(this.d0&&this.d0.$w)},n}(Gg),Rx=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(wu);function Nx(t){return{XR:t.XR,Ke:t.FH,lT:Dx(t)?t.lT:0,us:Dx(t)?Ky.Sd:Ky.Td,Pk:Dx(t)?t.Pk:0}}function Dx(t){var n=t;return void 0!==n.lT&&void 0!==n.Pk}var Cx,Px=function(t){function n(){return t.call(this,jg.NO_QUALITY)||this}return S(n,t),n}(wu),Bx=function(t){function n(n,i,e){var r,s,u;(u=t.call(this)||this).Ly=void 0,u.ra=void 0,u.g0=void 0,u.m0=void 0,u.y0=void 0,u.Jw=void 0,u.My=void 0,u.k0=function(){var t=u.U_;t&&u.m0!==t&&(u.m0=t,u.js(new Ix(t)))},u.b0=function(){var t=u.X_;u.y0!==t&&(u.y0=t,u.p0.js(new nm(Zt(u))),u.js(new nm(Zt(u))))},u.TD=n,u.p0=i,u.G_=e,u.m0=u.U_,u.y0=u.X_;var o=e.T_(0);return u.Ly=null!=(r=null==o?void 0:o.A0.ci)?r:"",u.ra=null!=(s=null==o?void 0:o.A0.W_)?s:"",u.My=ek(),u.TD.Ys(qO.wJ,u.k0),u.TD.Ys(qO._J,u.b0),u}S(n,t);var e=n.prototype;return e.Fy=function(t){this.X_=t},e.Od=function(){this.TD.Js(qO.wJ,this.k0),this.TD.Js(qO._J,this.b0)},A(n,[{key:"X_",get:function(){var t=this.T0();if(!t)return!1;for(var n=0,i=this.G_.N_;n<i.length;n++){if(i[n].A0===t)return!0}return!1},set:function(t){if(t!==this.X_&&t){for(var n=this.G_.T_(0).A0,i=this.TD.S0,e=0,r=this.G_.N_;e<r.length;e++){var s=r[e];if(s.E0===i){n=s.A0;break}}this.I0(n)}}},{key:"U_",get:function(){if(this.X_)for(var t=this.TD.R0,n=0,i=this.G_.N_;n<i.length;n++){var e=i[n];if(px(t,e.A0))return e}}},{key:"$w",get:function(){return this.Jw||(this.Jw=km(this)),this.Jw}},{key:"F_",get:function(){return this.My.toString()}},{key:"H_",get:function(){return this.My}},{key:"V_",get:function(){return this.Ly},set:function(t){t!==this.Ly&&(this.Ly=t,this.js(new tk(this)))}},{key:"W_",get:function(){return this.ra}},{key:"J_",get:function(){return this.X_?"enabled":"disabled"}},{key:"q_",get:function(){return this.g0},set:function(t){var n=this,e=[];t?e=t.filter(function(t){var e=n.U_?Nx(n.U_):void 0;return i.Or.Le(e,Nx(t))}).filter(function(i){return n.G_.Oy(t)&&i.QK}):e=this.G_.N_.filter(function(t){return t.QK});0!==e.length?t!==this.g0&&(this.g0&&Fs(this.g0,e)&&Fs(e,this.g0)||(this.g0=t?e:void 0,1===e.length?(ou(this.TD.N0(e[0].E0,!1)),this.TD.D0([])):this.TD.D0(e.map(function(t){return t.E0})),this.js(new Sx(e,this)))):this.js(new Px)}}]),n}(lu),Ox=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.T0=function(){return this.TD.C0},i.I0=function(t){ou(this.TD.P0(t))},A(n,[{key:"z_",get:function(){return Ax.a0}}]),n}(Bx),xx=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.T0=function(){return this.TD.B0},i.I0=function(t){ou(this.TD.O0(t))},A(n,[{key:"z_",get:function(){return Tx.a0}}]),n}(Bx),Lx=function(t){function n(n,i){var e;return(e=t.call(this)||this).QK=!0,e.E0=n,e.A0=i,e}return S(n,t),n.prototype.gE=function(){},A(n,[{key:"F_",get:function(){return String(this.E0.F_)}},{key:"H_",get:function(){return this.E0.F_}},{key:"XR",get:function(){return this.E0.XR}},{key:"qK",get:function(){return this.E0.qK}},{key:"V_",get:function(){return this.A0.ci}},{key:"WJ",get:function(){return this.A0.O$()}}]),n}(lu),Mx=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Jw=void 0,e}return S(n,t),n.prototype.t_=function(){return QO(this)},A(n,[{key:"ZK",get:function(){return 0}},{key:"FH",get:function(){var t;return(null==(t=this.E0.FH)?void 0:t.XH)||""}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}}]),n}(Lx),Ux=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Jw=void 0,e}return S(n,t),n.prototype.t_=function(){return YO(this)},A(n,[{key:"FH",get:function(){var t;return(null==(t=this.E0.FH)?void 0:t.UH)||""}},{key:"YK",get:function(){return 0}},{key:"jK",get:function(){return 0}},{key:"lT",get:function(){var t,n;return null!=(t=null==(n=this.E0.x0)?void 0:n.lT)?t:0}},{key:"Pk",get:function(){var t,n;return null!=(t=null==(n=this.E0.x0)?void 0:n.Pk)?t:0}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}}]),n}(Lx),Xx=function(){function t(t,n){this.L0=t,this.M0=n}return t.prototype.U0=function(t){var n,i;dx.mT("LLHLSTrackConfigurator","Configuring text tracks.");var e=null==(n=t.X0)?void 0:n.F0;if(e&&e.length){for(var r=null!=(i=Os(e,function(t){return 0!==t.H0.length&&0!==t.z0.length}))?i:e[0],s=e.filter(function(t){return t!==r}),u=0,o=r.H0;u<o.length;u++){var a=o[u],c=new $y,h=[];c.By(new Mx(r,a)),h.push(a);for(var f=0;f<s.length;f++)for(var v=s[f],l=0,d=v.H0;l<d.length;l++){var w=d[l];if(kx(w,a)&&!px(h,w)){c.By(new Mx(v,w)),h.push(w);break}}this.L0.S_(new Ox(t,this.L0,c))}for(var _=0,g=r.z0;_<g.length;_++){var m=g[_],y=new $y,k=[];y.By(new Ux(r,m)),k.push(m);for(var b=0;b<s.length;b++)for(var p=s[b],A=0,T=p.z0;A<T.length;A++){var S=T[A];if(kx(S,m)&&!px(k,S)){y.By(new Ux(p,S)),k.push(S);break}}this.M0.S_(new xx(t,this.M0,y))}}else dx.w$("LLHLSTrackConfigurator","The HLSModel contains no variant streams.")},t}(),Fx=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).BC=void 0,e.BC=i,e}return S(n,t),n.prototype.rd=function(t){var n,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=new n_(t),e=this.BC.nL.UR(n)){o.next=4;break}return o.abrupt("return",this.bE.rd(n));case 4:return e.iL(i.Je()/1e3),o.next=7,Rr.awrap(this.bE.rd(t));case 7:return r=o.sent,e.eL(i.Je()/1e3),s=r.Ul().pipeThrough(new vw(new Hx(e))),u={Xi:s,rd:r.rd},o.abrupt("return",new t_(u,r));case 12:case"end":return o.stop()}},null,this,null,Ve)},n}(function(){function t(t){this.bE=void 0,this.bE=t}var n=t.prototype;return n.rd=function(t){return this.bE.rd(t)},n.Bd=function(t){this.bE.Bd(t)},n.Od=function(){this.bE.Od()},t}()),Hx=function(){function t(t){this.YM=void 0,this.V0=t}var n=t.prototype;return n.start=function(t){this.YM=t},n.transform=function(t){this.V0.rL(i.Je()/1e3,t),this.YM.enqueue(t)},n.flush=function(){this.V0.sL(i.Je()/1e3)},t}(),zx=function(){function t(t){this.W0=void 0,this.G0=0,this.q0=0,this.W0=w.exp(w.log(.5)/t)}var n=t.prototype;return n.j0=function(t,n){var i=w.pow(this.W0,t),e=n*(1-i)+i*this.G0;m(e)||(this.G0=e,this.q0+=t)},n.DX=function(t){var n=w.exp(w.log(.5)/t);if(n!==this.W0)if(0!==this.q0){var i=this.sK,e=1-w.pow(n,this.q0);this.G0=i*e,this.W0=n}else this.W0=n},A(t,[{key:"sK",get:function(){var t=1-w.pow(this.W0,this.q0);return this.G0/t}}]),t}();!function(t){t.Y0="sample"}(Cx||(Cx={}));var Vx=function(t){function n(i,e,r,s){var u;return void 0===r&&(r=n.Q0),void 0===s&&(s=n.Z0),(u=t.call(this)||this).K0=void 0,u.J0=void 0,u.$0=0,u.n1=void 0,u.i1=void 0,u.i1=r,u.K0=new zx(i),u.J0=new zx(e),u.n1=s,u}S(n,t);var i=n.prototype;return i.e1=function(t,n,i){if(0!==t){var e=8*n/t;this.K0.j0(i,e),this.J0.j0(i,e),this.$0+=n,this.js(new wu(Cx.Y0))}},i.s1=function(){return this.$0>=this.i1},A(n,[{key:"sK",get:function(){return this.s1()?w.min(this.K0.sK,this.J0.sK):this.n1}}]),n}(lu);Vx.Q0=128e3,Vx.Z0=5e5;var Wx=function(){function t(n,i,e,r){void 0===n&&(n=t.u1),void 0===i&&(i=t.o1),void 0===e&&(e=t.Z0),void 0===r&&(r=!1),this.K0=void 0,this.J0=void 0,this.a1=0,this.c1=[],this.h1=void 0,this.f1=6e4,this.v1=10,this.l1=void 0,this.d1=void 0,this.n1=void 0,this.w1=void 0,this.l1=n,this.d1=i,this.n1=e,this.w1=r,this.K0=new zx(n),this.J0=new zx(i)}var n=t.prototype;return n.j0=function(t){var n=i.Je(),e=t;this.w1&&void 0!==this.h1&&n-this.h1>=this.f1&&this.R_(),this.a1+=1,this.K0.j0(1,e),this.J0.j0(1,e),this.c1.push(e),this.c1.length>this.v1&&this.c1.shift(),this.h1=n},n.s1=function(){return void 0!==this.h1&&i.Je()-this.h1<=this.f1},n.R_=function(){this.K0=new zx(this.l1),this.J0=new zx(this.d1),this.a1=0,this.c1=[],this.h1=void 0},A(t,[{key:"sK",get:function(){return this.s1()?w.max(this.K0.sK,this.J0.sK):this.n1}}]),t}();Wx.u1=2,Wx.o1=5,Wx.Z0=.1;var Gx=function(){function t(t){this._1=t}var n=t.prototype;return n.iL=function(t){for(var n=0,i=this._1;n<i.length;n++){i[n].iL(t)}},n.eL=function(t){for(var n=0,i=this._1;n<i.length;n++){i[n].eL(t)}},n.rL=function(t,n){for(var i=0,e=this._1;i<e.length;i++){e[i].rL(t,n)}},n.sL=function(t){for(var n=0,i=this._1;n<i.length;n++){i[n].sL(t)}},t}(),qx=function(){function t(t){this.g1=void 0,this.m1=void 0,this.g1=t}var n=t.prototype;return n.iL=function(t){this.m1=t},n.eL=function(t){this.g1.j0(t-this.m1)},n.rL=function(t){},n.sL=function(t){},t}(),jx=function(){function t(t){this.b1=void 0,this.A1=void 0,this.T1=[],this.b1=t}var n=t.prototype;return n.rL=function(t,n){if(void 0!==this.A1){var i=t-this.A1,e=this.T1.length>0?this.T1.reduce(function(t,n){return n+t},0)/this.T1.length:0;i>e/2&&i<e+e/2&&this.b1.j0(i,n.length),this.T1.push(i),this.T1.length>100&&this.T1.shift(),this.A1=t}else this.A1=t},n.iL=function(t){},n.eL=function(t){},n.sL=function(t){},t}(),Yx=function(){function t(t,n){void 0===n&&(n=0),this.b1=void 0,this.S1=void 0,this.E1=new Qx,this.NG=0,this.I1=0,this.b1=t,this.S1=n}var n=t.prototype;return n.iL=function(t){},n.rL=function(t,n){var e=n.byteLength,r=this.I1;this.I1=e;var s=t-this.NG;this.NG=t,this.E1.pF(n);var u=!this.E1.R1(),o=e>=this.S1;r!==i.Or.je&&u&&o&&this.b1.j0(s,e)},n.eL=function(t){this.NG=t},n.sL=function(t){},t}(),Qx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).N1=void 0,n.D1=!1,n}S(n,t);var i=n.prototype;return i.R1=function(){return this.D1},i.pF=function(n){this.D1=!1,t.prototype.pF.call(this,n)},i.kF=function(n,i){this.N1&&this.N1!==ib.Qp||(this.D1=!0),t.prototype.kF.call(this,n,i),this.N1=n},i.DF=function(t){return!1},i.PF=function(t){},i.BF=function(t){},n}(ED),Zx=function(t){function n(i,e,r,s){return void 0===i&&(i=n.u1),void 0===e&&(e=n.o1),t.call(this,i,e,r,s)||this}return S(n,t),n.prototype.j0=function(t,n){this.e1(t,n,t)},n}(Vx);Zx.u1=.5,Zx.o1=5;var Kx=function(){function t(t){this.b1=void 0,this.C1=void 0;var n=t.XR>0?t.XR:Vx.Z0,i=t.FR>0?t.FR:Wx.Z0;this.b1=new Zx(Zx.u1,Zx.o1,1,n),this.C1=new Wx(Wx.u1,Wx.o1,i)}var n=t.prototype;return n.UR=function(t){if("segment"===t.us)return new Gx([new qx(this.C1),new jx(this.b1),new Gx([new jx(this.b1),new Yx(this.b1,1e3)])])},n.P1=function(t){this.b1=new Zx(Zx.u1,Zx.o1,1,t)},A(t,[{key:"XR",get:function(){return this.b1.sK}},{key:"FR",get:function(){return this.C1.sK}}]),t}(),Jx=function(t){function n(n){var i;return(i=t.call(this,qO.kJ)||this).wu=n,i}return S(n,t),n}(wu),$x=function(){function t(t){this.rJ=t}return t.prototype.MX=function(t){var n={us:Kp.DE,xN:[],lW:[{Xl:t}]};return Ve.resolve(void 0!==this.rJ.MX([n]))},t}(),tL=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){return!!Xs(r,t)||1.1*t.XR<=i.XR}))},nL=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){if(Xs(r,t))return!0;for(var s=1/0,u=0,o=t.B1;u<o.length;u++){var a,c,h=o[u];s=w.min(s,null!=(a=null!=(c=h.z$)?c:h.Z$)?a:1/0)}s===1/0&&(s=1);var f=3*i.FR+t.XR*s/i.XR;return t.XR<=n.XR||e>f}))},iL=function(t,n,i,e,r){return Ve.resolve(Es(t,function(t,n){return n.XR-t.XR}))},eL=function(t,n,i,e,r){return Ve.resolve(t.every(function(t){return t.O1&&!m(t.O1)})?Es(t,function(t,n){return n.O1-t.O1}):t)},rL=function(t,n,i,e,r){return Ve.resolve(Es(t,function(t,n){var i=Xs(r,t)?1:0;return(Xs(r,t)?1:0)-i}))},sL=function(t,n,i,e,r){return Ve.resolve(t.filter(function(t){return t.FH&&n.FH?t.FH.UH?!!n.FH.UH&&(t.FH.UH.split(".")[0]===n.FH.UH.split(".")[0]&&(t.FH.XH?!!n.FH.XH&&(t.FH.XH.split(".")[0]===n.FH.XH.split(".")[0]&&t.FH.HH===n.FH.HH):!n.FH.XH)):!n.FH.UH:t.FH===n.FH}))},uL=function(){function t(t){this.L1=[sL,tL,nL,iL,eL,rL],this.BC=t}var n=t.prototype;return n.M1=function(t){this.L1=t},n.U1=function(t,n,i,e){var r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.length){c.next=2;break}throw new v("AbrEvaluator - Unable to select optimal variant stream from an empty list.");case 2:dx.d$("AbrEvaluator","Performing optimal variant stream selection."),r=this.X1,s=t,u=0,o=this.L1;case 6:if(!(u<o.length)){c.next=14;break}return a=o[u],c.next=10,Rr.awrap(a(s,n,r,i,e));case 10:s=c.sent;case 11:u++,c.next=6;break;case 14:if(s.length){c.next=17;break}return dx.w$("AbrEvaluator","No possible variant stream remains after ABR rule evaluation. Selecting the lowest bandwidth variant stream."),c.abrupt("return",Vs(t,function(t){return t.XR}));case 17:return c.abrupt("return",s[0]);case 18:case"end":return c.stop()}},null,this,null,Ve)},A(t,[{key:"X1",get:function(){return this.BC.nL}}]),t}();var oL=function(t){function n(n,i){var e,r=aL(i,n.Yg,n.tD,n.RJ);return(e=t.call(this,i,r,void 0,!1,n.F_)||this).F1=void 0,e.H1=void 0,e.z1=void 0,e.ea=void 0,e.V1=void 0,e.W1=void 0,e.G1=void 0,e.q1=void 0,e.j1=void 0,e.Y1=void 0,e.F1=n.IJ,e.H1=n.tD,e.z1=n.RJ,e.ea=n.Yg,e.V1=n.NJ,e.W1=Boolean(n.EJ),e.G1=n.DJ||{},e.q1=n.PJ,e.j1=n.OJ,e.Y1=n.xJ,e.Q1(),e.Z1(),e}S(n,t);var i=n.prototype;return i.Wc=function(t){var n=!1;void 0===this.F1&&void 0!==t.IJ&&(n=!0,this.F1=t.IJ),void 0===this.z1&&void 0!==t.RJ&&(n=!0,this.z1=t.RJ),void 0===this.ea&&void 0!==t.Yg&&(n=!0,this.ea=t.Yg),void 0===this.V1&&void 0!==t.NJ&&(n=!0,this.V1=t.NJ),!this.W1&&t.EJ&&(n=!0,this.W1=t.EJ),n=this.updateCustomAttributes(t,n),void 0===this.q1&&void 0!==t.PJ&&(n=!0,this.q1=t.PJ),void 0===this.j1&&void 0!==t.OJ&&(n=!0,this.j1=t.OJ),void 0===this.Y1&&void 0!==t.xJ&&(n=!0,this.Y1=t.xJ),this.Q1(),this.Z1(),this.K1(),n&&this.js(new Ik(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.DJ)for(var e=0,r=d.keys(t.DJ);e<r.length;e++){var s=r[e];void 0===this.G1[s]&&(i=!0,this.G1[s]=t.DJ[s])}return i},i.Q1=function(){this.ea&&!this.z1&&(this.z1=new Date(this.H1.getTime()+Wt(this.ea)))},i.Z1=function(){this.z1&&!this.ea&&(this.ea=Vt(this.z1.getTime()-this.H1.getTime()))},i.K1=function(){this.wk===1/0&&(this.z1||this.ea)&&(this.wk=aL(this.dk,this.ea,this.H1,this.z1))},A(n,[{key:"$w",get:function(){var t;return this.Jw||(this.Jw=um(Tk(t=this),{get content(){return t.$y},get class(){return t.IJ},get startDate(){return t.tD},get endDate(){return t.RJ},get duration(){return t.Yg},get plannedDuration(){return t.NJ},get endOnNext(){return t.EJ},get scte35Cmd(){return t.PJ},get scte35Out(){return t.OJ},get scte35In(){return t.xJ},get customAttributes(){return t.DJ}})),this.Jw}},{key:"IJ",get:function(){return this.F1}},{key:"tD",get:function(){return this.H1}},{key:"RJ",get:function(){return this.z1}},{key:"Yg",get:function(){return this.ea}},{key:"NJ",get:function(){return this.V1}},{key:"EJ",get:function(){return this.W1}},{key:"PJ",get:function(){return this.q1}},{key:"OJ",get:function(){return this.j1}},{key:"xJ",get:function(){return this.Y1}},{key:"DJ",get:function(){return this.G1}}]),n}(Ck);function aL(t,n,i,e){return X(n)?t+n:e?t+(Vt(e.getTime())-Vt(i.getTime())):1/0}var cL=function(t){function n(){return t.call(this,void 0,void 0,lk.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Wc=function(t,n){for(var i=this,e=hL(t),r=this.ag.N_,s=function(t){var n=r[t],s=Os(e,function(t){return t.F_===n.F_});s?n.Wc(s):i.lE(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var a=e[o],c=a.tD;if(void 0!==c&&!this.WW(a.F_)){var h=n(c);this.EE(new oL(a,h))}}},i.EE=function(n){this.J1(n),t.prototype.EE.call(this,n)},i.J1=function(t){var n=this.BW.filter(function(n){return n.IJ===t.IJ}).pop();n&&n.EJ&&n.Wc({F_:n.F_,RJ:t.tD})},n}(QP);function hL(t){for(var n=Cr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.F_)){var s=n.get(r.F_),u=Nr({},s,hm(r),{DJ:Nr({},s.DJ,r.DJ)});n.set(r.F_,u)}else n.set(r.F_,r),i.push(r.F_)}return i.map(function(t){return n.get(t)})}var fL=function(){function t(t,n,i){var e=this;this.n2=void 0,this.i2=void 0,this.rN=void 0,this.e2=void 0,this.s2=void 0,this.u2=function(t){e.i2.hlsDateRange&&e.o2(t.A0,t.a2)},this.i2=t,this.n2=n,this.rN=i,this.e2=new Tp,this.n2.Ys("c2",this.u2)}var n=t.prototype;return n.o2=function(t,n){if(0!==n.length){this.s2||(this.s2=this.rN.TE(Ap.sA,void 0,void 0,void 0,void 0,lk.DATE_RANGE),this.e2.S_(this.s2));var i=n.map(ax);this.h2(i,function(n){var i=t.KK;if(!i.length)return NaN;for(var e=i.length-1;e>=0;e--){var r=i[e];if(void 0!==r.ZJ){var s=(n.getTime()-r.ZJ.getTime())/1e3;return r.Ky+s}}return NaN})}},n.h2=function(t,n){for(var i=this,e=hL(t),r=this.s2.ag.N_,s=function(t){var n=r[t],s=Os(e,function(t){return t.F_===n.F_});s?n.Wc(s):i.s2.lE(n)},u=r.length-1;u>=0;u--)s(u);for(var o=function(t){var s=e[t],u=s.tD,o=Os(r,function(t){return t.F_===s.F_});if(void 0!==u&&!o){var a=n(u),c=new oL(s,a);i.J1(r,c),i.s2.EE(c)}},a=0;a<e.length;a++)o(a)},n.J1=function(t,n){var i=t.filter(function(t){return t.IJ===n.IJ}).pop();i&&i.EJ&&i.Wc({F_:i.F_,RJ:n.tD})},A(t,[{key:"Mm",get:function(){return this.e2}}]),t}();function vL(t,n,i,e){var r=[],s=Os(i,function(t){return t.f2===zr});if(void 0!==s){var u=s._i?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s._i.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var a=i[o];if(a.f2!==zr)for(var c=0,h=cs(a.f2);c<h.length;c++){var f=h[c];r.push({Kc:f,GR:a.v2?[a.v2]:[],rR:void 0})}}if(r.length)return{jE:t,l2:{d2:u,YE:s.YE},w2:r,_2:n===Ky.Td?e.slice():[],g2:n===Ky.Sd?e.slice():[],Iq:!1}}}}function lL(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Cr();return dL(e,r,t.w2),dL(e,r,n.w2),{jE:t.jE,l2:{d2:t.l2.d2,YE:null!=(i=t.l2.YE)?i:n.l2.YE},w2:e,_2:wL(t._2,n._2,Xs),g2:wL(t.g2,n.g2,Xs),Iq:t.Iq||n.Iq||!1}}function dL(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.Kc.ls,u=void 0;n.has(s)?(u=n.get(s)).GR=wL(u.GR,r.GR,_L):(u=Nr({},r),t.push(u),n.set(s,u))}}function wL(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function _L(t,n){for(var i=0;i<t.length;i++){if(xu(t[i],n))return!0}return!1}function gL(t,n){var i,e=t.m2;if(e){for(var r=t.ZB,s=[],u=0,o=t.FH;u<o.length;u++){var a=o[u];s.push(r+'; codecs="'+a+'"')}i=vL(n||{},t.us,e,s)}for(var c=0,h=t.b2;c<h.length;c++){i=lL(i,mL(h[c],n))}return i}function mL(t,n){return vL(n||{},t.us,t.m2||[],[t.Xl])}function yL(t,n){switch(n.us){case Hr.Kr:return t.widevine;case Hr.Zr:return t.playready;case Hr.$r:return t.fairplay;case Hr.Jr:return t.clearkey}}function kL(t,n,i){if(0!==t.length)return t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}})}function bL(t,n,i,e){var r,s,u,o,a,c,h,f,v;return Rr.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=2;break}return l.abrupt("return",[]);case 2:return r=n.filter(function(t){return fs(t,"audio")}),s=n.filter(function(t){return fs(t,"video")}),u=[],o=i.map(function(t){return pL(t,e)}),l.next=8,Rr.awrap(Ve.all(o));case 8:for(a=l.sent.filter(X),c=TL(a,t.preferredKeySystems),h=0;h<c.length;h++)f=c[h],v=yL(t,f.Kc),"cbcs",u.push({Kc:f.Kc,GR:f.GR,rR:f.rR,QN:[{initDataTypes:[f.Kc.fs],audioCapabilities:kL(r,"cbcs",null==v?void 0:v.audioRobustness),videoCapabilities:kL(s,"cbcs",null==v?void 0:v.videoRobustness),persistentState:null==v?void 0:v.persistentState,distinctiveIdentifier:null==v?void 0:v.distinctiveIdentifier}]});return l.abrupt("return",u);case 12:case"end":return l.stop()}},null,null,null,Ve)}function pL(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.WJ){s.next=2;break}return s.abrupt("return");case 2:if(t.A2){s.next=4;break}return s.abrupt("return");case 4:if(t.Id===tx.XJ){s.next=6;break}return s.abrupt("return");case 6:if(i=AL(t.A2)){s.next=9;break}return s.abrupt("return");case 9:if(i.ls!==ts){s.next=13;break}return s.abrupt("return",{Kc:i,GR:[],rR:t.WJ});case 13:return dx.mT("HLSDrmUtils","Fetching key uri "+t.WJ+"."),s.next=16,Rr.awrap(n.rd({od:t.WJ}));case 16:return e=s.sent,s.next=19,Rr.awrap(e.Ml());case 19:return r=s.sent,s.abrupt("return",{Kc:i,GR:[r],rR:void 0});case 21:case"end":return s.stop()}},null,null,null,Ve)}function AL(t){return t===Zr?rs:t===Yr?es:t===is?us:void 0}function TL(t,n){var i=function(t){var i=n.indexOf(t.Kc.ls);return i>=0?i:n.length};return Es(t,function(t,n){return i(t)-i(n)})}function SL(t){if("#"!==t[0])throw new v("HLSPlaylistParser - Could not extract M3U8 tag or comment: "+t);return t.split(":",1)[0]}function EL(t){return"#"!==t[0]?t:t.split(":",1)[0]}function IL(t){var n=t.indexOf(":");if(-1===n||t.length<n+1)throw new v("HLSPlaylistParser - Could not extract M3U8 parameter: "+t);return t.substring(n+1)}function RL(t){var n=PL(IL(t));if(void 0===n)throw new v("HLSPlaylistParser - Could not extract M3U8 float parameter: "+t);return n}function NL(t){for(var n={},i=/[:,] ?([A-Z0-9-]+)=([^",]+|"([^"]*)")/gi,e=i.exec(t);null!==e;){var r=e[1],s=void 0;s=void 0!==e[3]?e[3]:e[2],null!==r?n[r]=s:dx.w$(wx,"Ignoring unparsable M3U8 attribute name: "+t+"."),e=i.exec(t)}return n}function DL(t,n){var e=NL(t),r=QL(function(){return e.URI?i.Pr(e.URI,n):void 0}),s=e["GROUP-ID"],u=e.LANGUAGE,o=e["ASSOC-LANGUAGE"],a=e.NAME,c="YES"===e.DEFAULT,h="YES"===e.AUTOSELECT,f="YES"===e.FORCED,l=e["INSTREAM-ID"],d=e.CHARACTERISTICS,w=e.CHANNELS,_=QL(function(){return function(t){switch(t){case"AUDIO":return jO.Td;case"VIDEO":return jO.Sd;case"SUBTITLES":return jO.eA;case"CLOSED-CAPTIONS":return jO.pJ}throw new v("HLSPlaylistParser - Could not parse M3U8 media type: "+t+".")}(e.TYPE)});if(s||dx.w$(wx,"#EXT-X-MEDIA tag has no GROUP-ID attribute: "+t+"."),u||dx.w$(wx,"#EXT-X-MEDIA tag has no LANGUAGE attribute: "+t+"."),a||dx.w$(wx,"#EXT-X-MEDIA tag has no NAME attribute: "+t+"."),_.T2===jO.pJ?(r&&dx.w$(wx,"#EXT-X-MEDIA tag of type CAPTIONS must not have a URI: "+t+"."),l?/^(CC[0-4])|(SERVICE([1-9]|[1-5][0-9]|6[0-3]))$/.test(l)||dx.w$(wx,"#EXT-X-MEDIA's INSTREAM-ID is invalid: "+t+"."):dx.w$(wx,"#EXT-X-MEDIA tag of type CAPTIONS must have an INSTREAM-ID attribute: "+t+".")):l&&dx.w$(wx,"#EXT-X-MEDIA tag must not have an INSTREAM-ID attribute if the TYPE is not CAPTIONS: "+t+"."),c&&!h&&(h=!0,e.AUTOSELECT&&dx.w$(wx,"#EXT-X-MEDIA tag with DEFAULT=YES attribute must have AUTOSELECT=YES attribute: "+t+".")),_.T2===jO.eA&&e.FORCED&&dx.w$(wx,"#EXT-X-MEDIA tag must not have a FORCED attribute if the TYPE is not SUBTITLES: "+t+"."),void 0===s||void 0===a||r.S2||_.S2)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MEDIA tag: "+t+".");var g=r.T2;return{E2:o,I2:w,R2:d,b$:s,y$:h,m$:c,k$:f,p$:l,W_:u,ci:a,us:_.T2,WJ:g}}function CL(t,n,e){var r=NL(t),s=QL(function(){var t;return i.Pr(null!=(t=e||r.URI)?t:"",n)}),u=PL(r.BANDWIDTH),o=PL(r["AVERAGE-BANDWIDTH"]),a=PL(r.SCORE),c=function(t){if(!t)return;for(var n,i,e,r=t.toLowerCase().split(","),s=0;s<r.length;s++){var u=r[s],o=u.trim();vs(o,"mp4a")?n="mp4a.40.05"===o?"mp4a.40.5":"mp4a.40.02"===o?"mp4a.40.2":o:"ac-3"===o||"ec-3"===o?n=o:vs(o,"avc")||vs(o,"hvc1")||vs(o,"hev1")||vs(o,"dvh")?i=u:e=e?e+","+o:o}return{XH:n,UH:i,HH:e}}(r.CODECS),h=QL(function(){return function(t){if(void 0===t)return;var n=t.split("x"),i=Number(n[0]),e=Number(n[1]);if(m(i)||m(e))throw new v("HLSPlaylistParser - Could not parse RESOLUTION attribute: "+t+".");return{Pk:i,lT:e}}(r.RESOLUTION)}),f=PL(r["FRAME-RATE"]),l=r["HDCP-LEVEL"],d=[];if(void 0!==r["ALLOWED-CPC"]){var w=r["ALLOWED-CPC"].split(",");d.push.apply(d,w.map(function(t){var n=t.split(":");return{keysystem:n[0],label:n[1]}}))}var _=r["VIDEO-RANGE"],g=r.AUDIO,y=r.VIDEO,k=r.SUBTITLES,b=r["CLOSED-CAPTIONS"];if(s.S2&&dx.w$(wx,"#EXT-X-STREAM-INF tag has no valid URI: "+t+"."),void 0===u?dx.w$(wx,"#EXT-X-STREAM-INF tag has no valid BANDWIDTH attribute: "+t+"."):void 0!==o&&o>u&&dx.w$(wx,"#EXT-X-STREAM-INF tag must have BANDWIDTH attribute higher or equal to AVERAGE-BANDWIDTH attribute: "+t+"."),c||dx.mT(wx,"#EXT-X-STREAM-INF tag should have a CODECS attribute: "+t+"."),c&&c.UH&&h.S2&&dx.mT(wx,"#EXT-X-STREAM-INF tag should have a valid RESOLUTION attribute if it contains video codecs: "+t+"."),void 0===l||Xs(["TYPE-0","TYPE-1","NONE"],l)||dx.w$(wx,"#EXT-X-STREAM-INF tag has an invalid HDCP-LEVEL attribute: "+t+"."),void 0===_||Xs(["SDR","PQ","HLG"],_)||dx.w$(wx,"#EXT-X-STREAM-INF tag has an invalid VIDEO-RANGE attribute: "+t+"."),void 0===u||s.S2||h.S2)throw new v("HLSPlaylistParser - Could not parse #EXT-X-STREAM-INF tag: "+t+".");var p=s.T2;return{N2:d,D2:g,qK:o,XR:u,C2:b,FH:c,jK:f,P2:l,x0:h.T2,O1:a,B2:k,WJ:p,O2:y,L2:_}}function PL(t){var n=Number(t);return m(n)?void 0:n}function BL(t,n){var e,r,s,u,o=NL(t),a=QL(function(){return function(t){switch(t){case"NONE":return tx.kD;case"AES-128":return tx.UJ;case"SAMPLE-AES":return tx.XJ;case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return t}throw new v("LLHLSPlaylistParser - Could not parse M3U8 key method: "+t+".")}(o.METHOD)}),c=QL(function(){var t;return i.Pr(null!=(t=o.URI)?t:"",n)}),h=o.KEYFORMAT,f=o.IV,l=o.KEYFORMATVERSIONS;if(!a.S2)if(a.T2!==tx.kD){if(e=h||"identity","SAMPLE-AES-CENC"===a.T2||"SAMPLE-AES-CTR"===a.T2)AL(e)!==rs?dx.w$(wx,"#EXT-X-KEY tag with METHOD="+a.T2+" is only compatible with Widevine."):r=tx.XJ;else r=a.T2;s=f?Vo(f):void 0,u=l?l.split("/").map(function(t){return Number(t)}):[1]}else r=tx.kD,(void 0!==o.URI||h||l||f)&&dx.w$(wx,"#EXT-X-KEY tag with METHOD=NONE must not have additional attributes: "+t+".");if(a.S2||c.S2||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-KEY tag: "+t+".");return{Id:r,WJ:c.T2,M2:s,A2:e,U2:u}}function OL(t){var n=IL(t);if(!n)return[void 0,""];var i=n.split(","),e=i[0],r=i[1];return[PL(e),r]}function xL(t,n){var i=t.split("@"),e=PL(i[0]),r=i.length>1?PL(i[1]):n;if(void 0===e||void 0===r)throw new v("HLSPlaylistParser - Could not parse #EXT-X-BYTERANGE tag: "+t+".");return{xD:r,D_:e}}function LL(t){if(void 0!==t)return xL(t,void 0)}function ML(t,n){return xL(IL(t),n)}function UL(t,n){var i=NL(t),e=QL(function(){return HL(i.URI,n)}),r=QL(function(){return LL(i.BYTERANGE)});if(e.S2||r.S2)throw new v("HLSPlaylistParser - Could not parse #EXT-X-MAP tag: "+t+".");return{_i:e.T2,SJ:r.T2}}function XL(t){var n=IL(t);if(!n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");var i=new Date(n);if(!Ht(i))throw new v("HLSPlaylistParser - Could not parse #EXT-X-PROGRAM-DATE-TIME tag: "+t+".");return i}function FL(t){var n,i,e,r=NL(t),s=r["START-DATE"],u=r["END-DATE"],o=PL(r["PLANNED-DURATION"]),a=PL(r.DURATION);void 0!==r["SCTE35-CMD"]&&(n=Vo(r["SCTE35-CMD"]).buffer),r["SCTE35-IN"]&&(i=Vo(r["SCTE35-IN"]).buffer),r["SCTE35-OUT"]&&(e=Vo(r["SCTE35-OUT"]).buffer);var c,h,f="YES"===r["END-ON-NEXT"],l=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],s=t[r];void 0!==s&&vs(r,"X-")&&(n[r]=s)}return n}(r),w=r.ID,_=r.CLASS;if(void 0===s)dx.w$(wx,"Could not parse #EXT-X-DATERANGE tag without START-DATE attribute: "+s+".");else if(c=new Date(s),h=void 0!==u?new Date(u):void 0,Ht(c)||dx.w$(wx,"Could not parse EXT-X-DATERANGE tag with invalid START-DATE attribute: "+c+"."),void 0!==a){var g=new Date(c.getTime()+1e3*a);h?h.getTime()!==g.getTime()&&(dx.w$(wx,"DURATION and END-DATE attributes of #EXT-X-DATERANGE tag are not aligned, updating the END-DATE: "+t+"."),h=g):h=g}else h&&(a=(c.getTime()-h.getTime())/1e3);if(f&&(r.CLASS||dx.w$(wx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute without CLASS attribute: "+t+"."),r.DURATION&&dx.w$(wx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with DURATION attribute: "+t+"."),h&&dx.w$(wx,"Could not parse #EXT-X-DATERANGE tag with END-ON-NEXT attribute with END-DATE attribute: "+t+".")),void 0===w&&dx.w$(wx,"Could not parse #EXT-X-DATERANGE tag without valid ID attribute: "+t+"."),void 0===w||void 0===c)throw new v("HLSPlaylistParser - Could not parse #EXT-X-DATERANGE tag: "+t+".");return{F_:w,IJ:_,tD:c,RJ:h,Yg:a,NJ:o,BJ:n,xJ:i,OJ:e,EJ:f,CJ:l}}function HL(t,n){if(void 0===t)throw new v("HLSPlaylistParser - Unable to parse URL from string: "+t+".");return i.Pr(t,n)}function zL(t,n){var i=NL(t),e=PL(i.DURATION),r=QL(function(){return HL(i.URI,n)}),s=QL(function(){return LL(i.BYTERANGE)}),u="YES"===i.INDEPENDENT,o="YES"===i.GAP;if(!e||r.S2)throw new v("HLSPlaylistParser - Unable to parse #EXT-X-PART without valid DURATION: "+t);return{Yg:e,WJ:{_i:r.T2,SJ:s.T2},GJ:u,qJ:o}}function VL(t){var n=NL(t);return["YES"===n["CAN-BLOCK-RELOAD"],PL(n["CAN-SKIP-UNTIL"]),PL(n["HOLD-BACK"]),PL(n["PART-HOLD-BACK"])]}function WL(t,n){var i=NL(t),e=QL(function(){var t;return HL(null!=(t=i.URI)?t:"",n)}),r=PL(i["LAST-MSN"]),s=PL(i["LAST-PART"]);if(void 0===i.URI&&dx.mT(wx,"Assuming #EXT-X-RENDITION-REPORT tag without URI attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-MSN"]&&dx.mT(wx,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-MSN attribute refers to the current media playlist: "+t+"."),void 0===i["LAST-PART"]&&dx.mT(wx,"Assuming #EXT-X-RENDITION-REPORT tag without LAST-PART attribute refers to the current media playlist: "+t+"."),e.S2)throw new v("HLSPlaylistParser - Could not parse #EXT-X-RENDITION-REPORT: "+t+".");return{WJ:e.T2,X2:r,F2:s}}function GL(t,n){var i=PL(NL(t)["SKIPPED-SEGMENTS"]);if(!i)throw new v("HLSPlaylistParser - Could not parse #EXT-X-SKIP tag without valid SKIPPED-SEGMENTS attribute: "+t+".");return{TJ:i,JJ:n}}function qL(t){var n=PL(NL(t)["PART-TARGET"]);if(void 0===n)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PART-TARGET-DURATION tag: "+t+".");return n}function jL(t){switch(IL(t)){case"VOD":return nx.FJ;case"EVENT":return nx.HJ;default:return dx.w$(wx,"Found #EXT-X-PLAYLIST-TYPE tag with invalid value: "+t+"."),nx.fd}}function YL(t,n){var i,e=NL(t),r=QL(function(){return function(t){if(void 0===t)throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".");if("MAP"===t)return $O.LJ;if("PART"===t)return $O.MJ;throw new v("HLSPlaylistParser - Could not parse PRELOAD-HINT type: "+t+".")}(e.TYPE)}),s=QL(function(){return HL(e.URI,n)}),u=PL(e["BYTERANGE-START"]),o=PL(e["BYTERANGE-LENGTH"]);if(void 0===u&&void 0===o||(i={xD:u||0,D_:o}),r.S2||s.S2)throw new v("HLSPlaylistParser - Could not parse #EXT-X-PRELOAD-HINT tag: "+t+".");return{us:r.T2,WJ:{_i:s.T2,SJ:i}}}function QL(t){var n;try{n=t()}catch(t){return dx.w$(wx,t.message),{T2:void 0,S2:!0}}return{T2:n,S2:!1}}var ZL=function(){function t(n){this.H2=0,this.z2=void 0,this.z2=t.V2(n)}var n=t.prototype;return n.W2=function(){var t=this.z2[this.H2];return this.H2+=1,t},n.G2=function(){return this.z2[this.H2]},n.Ou=function(){return new t(this.z2.slice(this.H2).join("\n"))},t.V2=function(t){return t?t.split(/[\r\n]+/).map(function(t){return t.trim()}).filter(function(t){return t}):[]},t}();function KL(t,n,i){var e=t.WJ,r=t.OA,s=t.q2,u=t.xD;switch(i){case"#EXT-X-VERSION":r=function(t){var n=RL(t);return m(n)?(dx.w$(wx,"Playlist version is NaN: "+t+"."),1):n}(n);break;case"#EXT-X-INDEPENDENT-SEGMENTS":s=!0;break;case"#EXT-X-START":u=function(t){var n=NL(t),i=PL(n["TIME-OFFSET"]);if(void 0===i)throw new v("HLSPlaylistParser - #EXT-X-START is missing a TIME-OFFSET: "+t+".");return{j2:i,Y2:"YES"===n.PRECISE}}(n);break;case"#EXT-X-DEFINE":dx.w$(wx,"Ignoring unsupported #EXT-X-DEFINE: "+n+".");break;default:dx.mT(wx,"Ignoring unrecognized line or comment: "+n+".")}return{WJ:e,OA:r,q2:s,xD:u}}function JL(t,n){return t.map(function(t){return t.Id===tx.kD||t.M2?t:Nr({},t,{M2:$L(n)})})}function $L(t){var n=new DataView(new ArrayBuffer(16)),i=new zo;return i.Cu(8),function(t,n,i,e){void 0===e&&(e=!1);var r=i.getHighBitsUnsigned(),s=i.getLowBitsUnsigned(),u=e?r:s;ho(t,n,e?s:r,e),ho(t,n,u,e)}(n,i,ht.fromNumber(t)),new y(n.buffer)}function tM(t,n){dx.mT(wx,"Parsing M3U8 playlist at "+t+".");var e=new ZL(n);if("#EXTM3U"!==e.W2())throw new v("HLSPlaylistParser - Could not parse M3U8 playlist. Playlist does not start with #EXTM3U.");return function(t){return/^#EXT-X-(MEDIA|STREAM-INF|I-FRAME-STREAM-INF|SESSION-DATA|SESSION-KEY):/m.test(t)}(n)?function(t,n){for(var e={WJ:t,q2:void 0,xD:void 0,OA:void 0},r=[],s=[],u=[],o=[];;){var a=n.W2();if(!a)break;try{var c=SL(a);switch(c){case"#EXT-X-MEDIA":var h=DL(a,t);r.push(h);break;case"#EXT-X-STREAM-INF":var f=CL(a,t,n.W2());s.push(f);break;case"#EXT-X-I-FRAME-STREAM-INF":var l=CL(a,t);u.push(l);break;case"#EXT-X-SESSION-DATA":dx.w$(wx,"Ignoring unsupported #EXT-X-SESSION-DATA: "+a+".");break;case"#EXT-X-SESSION-KEY":var d=BL(a,t);o.push(d);break;default:e=KL(e,a,c)}}catch(t){dx.w$(wx,"Ignoring unparsable line: "+a,t)}}var w=e.WJ,_=e.OA,g=e.q2,m=e.xD;if(void 0===w?dx.w$(wx,"The master playlist has no valid base URI: "+w+"."):w=i.Pr(w),void 0===g&&(dx.w$(wx,"The playlist has no #EXT-X-INDEPENDENT-SEGMENT, assuming segments are not independent."),g=!1),void 0===_&&(dx.w$(wx,"The playlist has no #EXT-X-VERSION, assuming version is 2."),_=2),_>=8&&(s.some(function(t){return void 0!==t.O1})||u.some(function(t){return void 0!==t.O1}))&&(s.some(function(t){return void 0===t.O1})||u.some(function(t){return void 0===t.O1}))&&dx.w$(wx,"If one master playlist variant stream has a SCORE, all variants should have it."),void 0===w)throw new v("HLSPlaylistParser - Could not parse HLS master playlist: "+w);return{WJ:w,OA:_,q2:g,xD:m,Q2:u,QJ:o,uT:r,Z2:s}}(t,e):function(t,n){for(var e,r,s,u,o,a,c,h,f,l,d,w,_,g,m,y,k={WJ:t,q2:void 0,xD:void 0,OA:void 0},b=[],p=!1,A=[],T=Cr(),S=[],E=[],I=!1,R=!1,N=[],D=[],C=0,P=!1,B=nx.fd,O=!1,x=n.Ou();void 0===m||void 0===y;){var L=x.W2();if(!L)break;try{switch(EL(L)){case"#EXT-X-MEDIA-SEQUENCE":m=RL(L);break;case"#EXT-X-DISCONTINUITY-SEQUENCE":y=RL(L)}}catch(t){dx.w$(wx,"Ignoring unparsable line: "+L,t)}}for(void 0===m&&(dx.mT(wx,"#EXT-X-MEDIA-SEQUENCE tag is missing, assuming first segment media sequence number is 0."),m=0),void 0===y&&(dx.mT(wx,"#EXT-X-DISCONTINUITY-SEQUENCE tag is missing, assuming first segment discontinuity sequence number is 0."),y=0);;){var M=n.W2();if(!M)break;var U=!1;try{var X=EL(M);switch(X){case"#EXTINF":U=!0;var F=OL(M);o=F[0],a=F[1];break;case"#EXT-X-BYTERANGE":U=!0,(c=ML(M,C))&&(C=c.xD+c.D_);break;case"#EXT-X-DISCONTINUITY":U=!0,I=!0,y++;break;case"#EXT-X-KEY":var H,z;U=!0;var V=BL(M,t);if(V.Id===tx.kD){T.clear(),_=void 0;break}var W=null!=(H=null==(z=V.A2)?void 0:z.toString())?H:"identity";T.set(W,V),V.Id===tx.UJ&&(_=V);break;case"#EXT-X-MAP":U=!0,f=UL(M,t),l=_;break;case"#EXT-X-PROGRAM-DATE-TIME":U=!0,d=XL(M);break;case"#EXT-X-GAP":U=!0,R=!0;break;case"#EXT-X-BITRATE":U=!0,w=RL(M);break;case"#EXT-X-TARGETDURATION":e=RL(M);break;case"#EXT-X-DATERANGE":var G=FL(M);b.push(G);break;case"#EXT-X-PART":U=!0;var q=zL(M,t);E.push(q);break;case"#EXT-X-PRELOAD-HINT":var j=YL(M,t);N.push(j);break;case"#EXT-X-SKIP":A.length>0&&dx.w$(wx,"#EXT-X-SKIP must appear before any #EXTINF tags."),U=!0;var Y=GL(M,m);m+=Y.TJ,A.push(Y);break;case"#EXT-X-SERVER-CONTROL":var Q=VL(M);p=Q[0],r=Q[1],s=Q[2],u=Q[3];break;case"#EXT-X-RENDITION-REPORT":var Z=WL(M,t);D.push(Z);break;case"#EXT-X-PART-INF":g=qL(M);break;case"#EXT-X-MEDIA-SEQUENCE":U&&dx.w$(wx,"#EXT-X-MEDIA-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-DISCONTINUITY-SEQUENCE":U&&dx.w$(wx,"#EXT-X-DISCONTINUITY-SEQUENCE must appear before any media segment tags.");break;case"#EXT-X-ENDLIST":P=!0;break;case"#EXT-X-PLAYLIST-TYPE":B=jL(M);break;case"#EXT-X-I-FRAMES-ONLY":O=!0;break;default:if(vs(X,"#"))k=KL(k,M,X);else{h=i.Pr(M,t);var K=f?{WJ:f,K2:l}:void 0,J={QJ:JL(Or(T),m),eE:S,AJ:E,Yg:o,UN:a,$J:I,WJ:{SJ:c,_i:h},KJ:K,ZJ:d,qJ:R,J2:w,JJ:m,t$:y};A.push(J),m++,S=[],E=[],o=void 0,o=void 0,a=void 0,I=!1,c=void 0,h=void 0,d=void 0,R=!1,w=void 0}}}catch(t){dx.w$(wx,"Ignoring unparsable line: "+M,t)}}if(E.length){var $=f?{WJ:f,K2:_}:void 0,tt={QJ:JL(Or(T),m),eE:S,AJ:E,Yg:o,UN:a,$J:I,WJ:void 0,KJ:$,ZJ:d,qJ:R,J2:w,JJ:m,t$:y};A.push(tt)}var nt=t,it=k.OA,et=k.q2,rt=k.xD;try{nt=i.Pr(nt)}catch(n){dx.w$(wx,"The media playlist has no valid base URI: "+t+".",n),nt=void 0}void 0===et&&(dx.w$(wx,"The media playlist has no #EXT-X-INDEPENDENT-SEGMENT tag, assuming segments are not independent."),et=!1),void 0===it&&(dx.w$(wx,"The media playlist has no #EXT-X-VERSION tag, assuming version is 2."),it=2),void 0===e&&dx.w$(wx,"Could not parse the HLS media playlist: no #EXT-X-TARGET-DURATION tag was found.");var st=A.filter(ex),ut=st.length,ot=Boolean(ut);ot||dx.w$(wx,"The HLS media playlist contains no segments.");var at=ot&&st[ut-1].AJ.length>0;at&&void 0===g&&dx.w$(wx,"Could not parse the HLS media playlist: no #EXT-X-PART-TARGET-DURATION tag was found, but it is required when some or all segments contain parts."),at&&void 0===u&&dx.w$(wx,"Could not parse the HLS media playlist: The #EXT-X-SERVER-CONTROL tag has no PART-HOLDBACK attribute, but it is required when some or all segments contain parts.");for(var ct=[],ht=0;ht<D.length;ht++){var ft=D[ht],vt=ft.WJ,lt=ft.X2,dt=ft.F2;if(void 0===vt||void 0===lt||void 0===dt){dx.w$(wx,"Detected #EXT-X-RENDITION-REPORT tag with missing required attributes, assuming it refers to the containing HLS media playlist."),vt=t,lt=m+A.length;var wt=A[A.length-1];dt=ex(wt)?wt.AJ.length-1:0}ct.push({WJ:vt,X2:lt,F2:dt})}if(void 0===nt||void 0===e)throw new v("HLSPlaylistParser - Could not parse HLS media playlist.");return{W$:p,n3:r,i3:b,t$:y,Q$:P,q2:et,H$:s,e3:O,JJ:m,V$:u,z$:g,r3:B,q$:N,s3:ct,X$:e,KK:A,xD:rt,WJ:nt,OA:it}}(t,e)}var nM=function(){function t(t,n,i){var e,r,s,u,o;this.F_=iM++,this.WJ=void 0,this.XR=void 0,this.O1=void 0,this.FH=void 0,this.x0=void 0,this.D2=void 0,this.O2=void 0,this.B2=void 0,this.C2=void 0,this.u3=void 0,this.o3=[],this.WJ=t.WJ,this.XR=t.XR,this.u3=t.qK,this.O1=t.O1,this.FH=t.FH?Nr({},o=t.FH,{UH:o.UH?xh(o.UH):void 0}):void 0,this.x0=t.x0,this.D2=null!=(e=t.D2)?e:"a3"+this.F_,this.O2=null!=(r=t.O2)?r:"c3"+this.F_,this.B2=null!=(s=t.B2)?s:"h3"+this.F_,this.C2=null!=(u=t.C2)?u:"f3"+this.F_,this.o3=i}var n=t.prototype;return n.v3=function(t){var n=this.l3();if(void 0!==n)return new Date(1e3*t+n)},n.d3=function(t){var n=this.l3();if(void 0!==n)return(t.getTime()-n)/1e3},n.l3=function(){if(this.o3.length)for(var t=0,n=this.o3;t<n.length;t++)for(var i=n[t].KK,e=i.length-1;e>=0;e--){var r=i[e];if(void 0!==r.ZJ)return r.ZJ.getTime()-1e3*r.Ky}},A(t,[{key:"qK",get:function(){return this.u3||this.XR}},{key:"w3",get:function(){var t,n;if(!this.o3.length)return iE.mC();var i=null!=(t=Ws(this.o3,function(t){var n;return null!=(n=t.r0)?n:0}))?t:this.B1[0],e=i.KK;if(!e.length||e.length<2)return iE.mC();var r=i.Q$?e[0].Ky:e[1].Ky,s=e[e.length-1],u=s.Ky+(null!=(n=s.Yg)?n:vx(s.AJ.map(function(t){return t.Yg})))-this.B1.reduce(function(t,n){var i,e;return w.max(null!=(i=null!=(e=n.V$)?e:n.H$)?i:0,t)},0);return u<r?iE.mC():new iE([r,u])}},{key:"B1",get:function(){return this.o3}},{key:"H0",get:function(){return this.o3.filter(function(t){return t.us===jO.Td})}},{key:"z0",get:function(){return this.o3.filter(function(t){return t.us===jO.Sd})}},{key:"_3",get:function(){return this.o3.filter(function(t){return t.us===jO.eA})}},{key:"g3",get:function(){return this.o3.filter(function(t){return t.us===jO.pJ})}}]),t}(),iM=0;var eM=function(){function t(t){this.m3=[],this.y3=[],this.o3=[],this.b3=t}var n=t.prototype;return n.U$=function(t,n){JO(t)?n?n.U$(t):0!==this.m3.length?dx.w$("HLSModel","No rendition was provided to update the playlist. Ignoring the update."):this.A3(t):this.T3(t)},n.A3=function(t){this.y3.length=0,this.m3.length=0;var n=this.S3(t,jO.Sd);this.o3.push(n);var i=new nM({WJ:t.WJ,XR:0,qK:0,O1:NaN,FH:void 0,x0:{Pk:1920,lT:1080},jK:0,N2:[],P2:void 0,L2:void 0,D2:void 0,O2:void 0,B2:void 0,C2:void 0},t,[n]);this.m3.push(i)},n.T3=function(t){var n;this.y3.length=0,(n=this.y3).push.apply(n,t.QJ),this.m3.length=0;var i=this.E3(t);this.o3=i;for(var e=0,r=t.Z2;e<r.length;e++){var s=r[e],u=this.I3(s);this.R3(s,u);var o=new nM(s,t,u);this.m3.push(o)}},n.I3=function(t){return this.o3.filter(function(n){return function(t,n){return rM(t.us,t.b$,n)&&(!t.A$||t.wD.WJ===n.WJ)}(n,t)})},n.E3=function(t){for(var n=[],i=0,e=t.uT;i<e.length;i++){var r=e[i];if(void 0===r.WJ)for(var s=0,u=t.Z2;s<u.length;s++){var o=u[s];if(rM(r.us,r.b$,o)){var a=new yx(o.WJ,r);n.push(a)}}else{var c=new yx(r.WJ,r);n.push(c)}}return n},n.N3=function(t,n){return new yx(t,{us:n,WJ:t,b$:"",W_:void 0,E2:void 0,ci:"",m$:!0,y$:!1,k$:!1,R2:void 0,p$:void 0,I2:void 0})},n.S3=function(t,n){var i=this.N3(t.WJ,n);return i.U$(t),i},n.R3=function(t,n){var i=n.filter(function(t){return t.us===jO.Td}),e=n.filter(function(t){return t.us===jO.Sd}),r=t.FH&&(t.FH.UH||t.FH.XH);if((!r||t.FH.UH)&&0===e.length){var s=this.N3(t.WJ,jO.Sd);n.push(s),this.o3.push(s)}if((!r||t.FH.XH)&&0===i.length){var u=this.N3(t.WJ,jO.Td);n.push(u),this.o3.push(u)}t.FH&&t.FH.HH},A(t,[{key:"D3",get:function(){return this.y3}},{key:"F0",get:function(){return this.m3}},{key:"B1",get:function(){return this.o3}}]),t}();function rM(t,n,i){switch(t){case jO.Td:return i.D2===n;case jO.Sd:return i.O2===n;case jO.eA:return i.B2===n;case jO.pJ:return i.C2===n}return!1}var sM=function(t){function n(n,i){var e;return(e=t.call(this,"c2")||this).A0=n,e.a2=i,e}return S(n,t),n}(wu);function uM(t,n,i,e,r){var s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Rr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),tu(o.t0),!(s<i)){o.next=20;break}return u=w.min(e*w.pow(2,s),r),s++,o.next=19,Rr.awrap(cu(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],Ve)}var oM=function(t){function n(n){var i;return(i=t.call(this,"C3")||this).A0=n,i}return S(n,t),n}(wu),aM="HlsModelUpdate",cM=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).P3=void 0,r.B3=!1,r.O3=void 0,r.x3=void 0,r.L3=Pr(),r.bE=n,r.M3=i,r.rootURI=e,r.P3=new eM(e),r}S(n,t);var e=n.prototype;return e.U3=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.P3.b3){e.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The provided source is empty.");case 3:return e.next=5,Rr.awrap(this.X3(n,2,t));case 5:if(KO(i=e.sent)||JO(i)){e.next=8;break}throw new v("HLSModelUpdater - Could not load HLS playlist: The playlist is invalid.");case 8:return KO(i)||dx.mT(aM,"Detected media playlist only HLS stream."),this.F3(i),e.next=12,Rr.awrap(this.H3(t));case 12:this.B3=!0;case 13:case"end":return e.stop()}},null,this,null,Ve)},e.z3=function(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=this.V3(t)){o.next=3;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");case 3:return s=r.O$(n,i),u=Wt(w.max(1,3*t.s0)),o.prev=5,o.next=8,Rr.awrap(this.W3(r,s,e,u));case 8:o.next=15;break;case 10:throw o.prev=10,o.t0=o.catch(5),tu(o.t0),this.G3(r),o.t0;case 15:case"end":return o.stop()}},null,this,[[5,10]],Ve)},e.q3=function(t,n){var i=this.V3(t);if(!i)throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the rendition does not exist on the internal model.");var e=t.O$(void 0,void 0),r=Wt(w.max(1,3*t.s0));return this.W3(i,e,n,r)},e.j3=function(t,n){return this.L3.has(t.H_)||this.L3.set(t.H_,new Wo),iu(this.L3.get(t.H_).Uu,n)},e.G3=function(t){this.js(new oM(t))},e.W3=function(t,n,e,r){var s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(this.X3(n,0,e,r));case 3:s=u.sent,u.next=11;break;case 6:throw u.prev=6,u.t0=u.catch(0),tu(u.t0),t.u0=i.Je(),u.t0;case 11:if(JO(s)){u.next=13;break}throw new v("HLSModelUpdater - Could not load HLS playlist for rendition: the playlist is not a media playlist.");case 13:if(this.F3(s,t),t!==this.O3){u.next=16;break}return u.abrupt("return");case 16:if(void 0===t.YJ){u.next=18;break}return u.abrupt("return");case 18:if(this.O3){u.next=23;break}this.O3=t,this.O3.YJ=0,u.next=35;break;case 23:if(this.O3.e0){u.next=34;break}return u.prev=24,u.next=27,Rr.awrap(this.q3(this.O3,e));case 27:u.next=34;break;case 29:u.prev=29,u.t1=u.catch(24),tu(u.t1),this.O3=t,this.Y3();case 34:this.Q3(t);case 35:case"end":return u.stop()}},null,this,[[0,6],[24,29]],Ve)},e.X3=function(t,n,i,e){var r,s,u,o=this;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return dx.mT(aM,"Loading HLS playlist at "+t+"."),a.prev=1,a.next=4,Rr.awrap(this.M3.Z3([t]));case 4:if(r=a.sent,$s(i),void 0===r){a.next=8;break}return a.abrupt("return",tM(r.responseURL,r.data));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),tu(a.t0);case 14:return s={od:t,$l:pf.Kn,Id:Zw.GET,us:Kw.vd,zs:i,Rd:e},a.next=17,Rr.awrap(uM(function(){return o.K3(s)},i,n));case 17:return u=a.sent,a.abrupt("return",tM(u.ud,u.Xi));case 19:case"end":return a.stop()}},null,this,[[1,10]],Ve)},e.K3=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.bE.rd(t));case 2:return n=e.sent,e.next=5,Rr.awrap(n.xl());case 5:return i=e.sent,e.abrupt("return",{Xi:i,ud:n.ud});case 7:case"end":return e.stop()}},null,this,null,Ve)},e.H3=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:$s(t),n=[],i=0,e=this.P3.B1;case 3:if(!(i<e.length)){u.next=20;break}return r=e[i],u.prev=5,u.next=8,Rr.awrap(this.M3.Z3([r.wD.WJ]));case 8:s=u.sent,$s(t),void 0===s||r.e0||n.push(this.q3(r,t)),u.next=17;break;case 13:u.prev=13,u.t0=u.catch(5),tu(u.t0);case 17:i++,u.next=3;break;case 20:return u.next=22,Rr.awrap(Ve.all(n));case 22:case"end":return u.stop()}},null,this,[[5,13]],Ve)},e.Y3=function(){for(var t=this.X0.B1,n=0;n<t.length;n++){var i=t[n];i!==this.O3&&(void 0!==i.YJ&&(i.e0?this.Q3(i):i.YJ=void 0))}},e.Q3=function(t){if(t.KK.length&&this.O3){if(t.KK.length&&t.Q$)return t.YJ=0,void dx.mT(aM,"Assuming global timeline offset of "+t.YJ+"s for rendition "+t.wD.WJ+".");var n=function(t,n){var i=fM(t);if(0===i.length)return;var e=fM(n);if(0===n.length)return;for(var r=e.length-1;r>=0;r--)for(var s=e[r],u=0;u<i.length;u++){var o=i[u];if(s.t$===o.t$)return{segment:o,referenceSegment:s}}return}(t.KK,this.O3.KK);if(void 0!==n){var i=n.segment,e=n.referenceSegment;return t.YJ=e.Ky-i.Ky,void dx.mT(aM,"Assuming global timeline offset of "+t.YJ+"s for rendition "+t.wD.WJ+".")}var r=vM(t.KK);if(void 0!==r){var s=vM(this.O3.KK);if(void 0!==s){var u=s.Ky-r.Ky,o=(s.ZJ.getTime()-r.ZJ.getTime())/1e3;return t.YJ=u-o,void dx.mT(aM,"Assuming global timeline offset of "+t.YJ+"s for rendition "+t.wD.WJ+".")}}t.YJ=hM(this.O3)-hM(t),dx.mT(aM,"Assuming global timeline offset of "+t.YJ+"s for rendition "+t.wD.WJ+".")}},e.F3=function(t,n){var i;(this.P3.U$(t,n),JO(t)&&n)&&(this.x3=n,this.js(new sM(n,t.i3)),null==(i=this.L3.get(n.H_))||i.Hu(),this.L3.delete(n.H_))},e.V3=function(t){for(var n=0,i=this.P3.F0;n<i.length;n++)for(var e=0,r=i[n].B1;e<r.length;e++){var s=r[e];if(s===t)return s}},A(n,[{key:"J3",get:function(){return this.B3}},{key:"X0",get:function(){return this.P3}},{key:"n4",get:function(){return this.x3}}]),n}(lu);function hM(t){var n,i=t.KK[t.KK.length-1];return i.Ky+(null!=(n=i.Yg)?n:vx(i.AJ.map(function(t){return t.Yg})))}function fM(t){return t.filter(function(t){return t.$J})}function vM(t){for(var n=t.length-1;n>=0;n--)if(void 0!==t[n].ZJ)return t[n]}var lM=function(t){function n(){return t.call(this,qO.wJ)||this}return S(n,t),n}(wu);var dM,wM=function(){function t(t){this.C$=[],this.Mz=void 0,this.i4=void 0,this.e4=t}var n=t.prototype;return n.r4=function(t){var n;return null==(n=this.s4(t))?void 0:n.A0},n.u4=function(t){this.Mz=t,this.o4()},n.a4=function(t,n,i,e,r,s){this.C$.push({JJ:n,A0:t,c4:new iE([r,s]),h4:new iE([i,e])}),this.o4()},n.s4=function(t){for(var n=0,i=this.C$;n<i.length;n++){var e=i[n];if(e.h4.ZN(t))return e}},n.f4=function(t){for(var n=0,i=this.C$;n<i.length;n++){var e=i[n];if(e.JJ===t)return e}},n.fV=function(){var t=this.ly;t.D_>0&&(this.i4=t.MD(t.D_-1))},n.o4=function(){var t=this.e4.ly;this.C$=this.C$.filter(function(n){return 0!==t.YD(n.h4).D_})},A(t,[{key:"v4",get:function(){return this.Mz}},{key:"ly",get:function(){return t=this.e4.ly,n=this.e4.AV,i=n.cC(function(n,i){return t.uC(n,i,!1,!1)}),t.tC(i);var t,n,i}},{key:"KK",get:function(){return this.C$}},{key:"l4",get:function(){return this.i4}}]),t}(),_M=function(){function t(t,n,i,e){var r=this;this.e4=void 0,this.d4=void 0,this.w4=void 0,this.Hi=void 0,this._4=void 0,this.Kv=new Zs,this.g4=iE.mC(),this.m4=function(t){r._4&&(t&&!Js(t)?r._4.Vu(t):r._4.Hu(),r._4=void 0)},this.Hi=t,this.w4=i,this.e4=n,this.d4=e}var n=t.prototype;return n.y4=function(){if(this.b4)throw new v("Cannot perform new operation while BufferAppender is still busy")},n.A4=function(t){this.e4!==t&&(this.y4(),this.e4=t,this.d4=new wM(t))},n.T4=function(){return this._4?this._4.Uu:Ve.resolve()},n.S4=function(t){var n,i,e=this.d4.l4,r=this.d4.ly;if(void 0===e)return!1;var s=w.min(t,e);return null!=(n=null==(i=r.VD().iC(this.E4).lC(s))?void 0:i.ZN(e))&&n},n.I4=function(t){return this.d4.r4(t)},n.Xs=function(){this.Kv.Xs(),this.Kv=new Zs},n.Wz=function(t){var n=this;this.y4(),this._4=new Wo;var i=function(i){n.w4.R4(t),n.m4(i)};this.Gz(t,this.Kv.zs).then(i,i)},n.Gz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return dx.d$("Buffering","Appending initializer",sx(t.N4.WJ)),i.next=3,Rr.awrap(this.e4.Wz(t,n));case 3:dx.d$("Buffering","Appended initializer",sx(t.N4.WJ)),this.d4.u4(t);case 5:case"end":return i.stop()}},null,this,null,Ve)},n.D4=function(t){var n=this;this.y4(),this._4=new Wo;var i=function(i){n.w4.R4(t),n.m4(i)};this.C4(t,this.Kv.zs).then(i,i)},n.C4=function(t,n){var i,e,r,s,u,o,a,c,h,f,l,d,w,_;return Rr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(e=t.A0,r=t.JJ,void 0!==e.Z$){g.next=4;break}throw new v("MediaBufferWrapper - Cannot append HLSAsset to "+this.Hi+" MediaBuffer for a HLSRendition with an undefined targetDuration.");case 4:return s=this.d4.ly.XD,u=this.e4.ly,dx.d$("Buffering","Appending",sx(t.N4.WJ)),g.next=9,Rr.awrap(this.e4.Hz(t,n));case 9:dx.d$("Buffering","Appended",sx(t.N4.WJ),s,this.d4.ly.XD),o=t.Ky,a=o+t.Yg,c=t.N4,h=c.Ky,f=c.Ky+(null!=(i=c.Yg)?i:0),this.d4.a4(e,r,o,a,h,f),l=this.e4.ly.iC(u),(d=this.d4.f4(r-1))?this.P4(d)?0===l.D_?Boolean(this.B4.f4(r))||(w=this.e4.AV.YD(new iE([o,a])),this.g4=this.g4.tC(w)):(this.g4=this.g4.iC(new iE([l.xD(0),a])),l.xD(0)>o&&(this.g4=this.g4.tC(new iE([o,l.xD(0)])))):this.g4=this.g4.iC(new iE([o,a])):0===l.D_?(_=this.e4.AV.YD(new iE([o,a])),this.g4=this.g4.tC(_)):l.xD(0)>o&&(this.g4=this.g4.tC(new iE([o,l.xD(0)]))),t.N4.jJ&&this.d4.fV();case 20:case"end":return g.stop()}},null,this,null,Ve)},n.P4=function(t){var n=t.h4,i=n.xD(0),e=n.MD(n.D_-1),r=n.LD(0),s=n.UD(n.D_-1);return this.g4.rC(i,e,r,s)},A(t,[{key:"us",get:function(){return this.Hi}},{key:"O4",get:function(){return this.Hi===Ky.Td||this.Hi===Ky.Sd}},{key:"B4",get:function(){return this.d4}},{key:"E4",get:function(){return this.g4}},{key:"b4",get:function(){return void 0!==this._4}}]),t}(),gM=function(){function t(t,n){this.x4=void 0,this.L4=t,this.bE=n}var n=t.prototype;return n.M4=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.U4(n,e));case 2:return r=s.sent,s.next=5,Rr.awrap(this.L4.M4(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},n.X4=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.U4(n,e));case 2:return r=s.sent,s.next=5,Rr.awrap(this.L4.X4(t,r,i));case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},n.U4=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if((null==(i=this.x4)?void 0:i.od)===t){u.next=10;break}return dx.d$("HLSDecryptor","Fetching new AES-128 decryption key from "+t+"."),u.next=4,Rr.awrap(this.bE.rd({od:t,$l:pf.Vf,Id:Zw.GET,zs:n,us:Kw.dd,Nd:Jw.Ad}));case 4:return e=u.sent,u.next=7,Rr.awrap(e.Ml());case 7:r=u.sent,s=new y(r),this.x4={od:t,Xi:s};case 10:return u.abrupt("return",this.x4.Xi);case 11:case"end":return u.stop()}},null,this,null,Ve)},t}(),mM=function(){function t(t,n,i,e,r){void 0===r&&(r=2),this.bE=t,this.M3=n,this.F4=i,this.H4=e,this.z4=r}return t.prototype.rd=function(t,n,i){var e,r,s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return t.SJ&&0===(e=ZO(t.SJ.xD,t.SJ.D_))[0]&&e[1]===Ot&&(e=void 0),c.prev=1,c.next=4,Rr.awrap(this.M3.V4(t._i,e));case 4:if(r=c.sent,$s(i),void 0===r){c.next=8;break}return c.abrupt("return",Ew(r.buffer));case 8:c.next=14;break;case 10:c.prev=10,c.t0=c.catch(1),tu(c.t0);case 14:return s=e?{Range:"bytes="+e[0]+"-"+e[1]}:void 0,u={od:t._i,$l:pf.Gf,Jl:s,Cd:this.H4,Id:Zw.GET,us:Kw.ld,Nd:n,Dd:this.F4,zs:i},c.next=18,Rr.awrap(uM(function(){return iu(a.bE.rd(u),u.zs)},i,this.z4));case 18:return o=c.sent,c.abrupt("return",o.Ul(i));case 20:case"end":return c.stop()}},null,this,[[1,10]],Ve)},t}(),yM=function(){function t(t,n){this.n2=void 0,this.W4=void 0,this.G4=void 0,this.q4=new Zs,this.NG=-1/0,this.j4=!1,this.n2=t,this.W4=n,this.Y4()}var n=t.prototype;return n.Q4=function(){return this.W4.W$},n.Z4=function(t,n,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.Q4()){r.next=2;break}throw new v("Could not perform blocking playlist update.");case 2:return r.prev=2,r.next=5,Rr.awrap(this.K4());case 5:return $s(e),r.next=8,Rr.awrap(this.n2.z3(this.W4,t,n,e));case 8:this.NG=i.Je(),r.next=15;break;case 11:throw r.prev=11,r.t0=r.catch(2),Js(r.t0)&&this.Y4(),r.t0;case 15:this.Y4();case 16:case"end":return r.stop()}},null,this,[[2,11]],Ve)},n.J4=function(t){return this.n2.j3(this.W4,t)},n.Y4=function(){var t=this;if(!this.G4&&!this.j4){var n=function(){t.G4=void 0};this.G4=this.n6(this.q4.zs).then(n,n)}},n.K4=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.G4){t.next=6;break}return this.q4.Xs(),this.q4=new Zs,t.next=5,Rr.awrap(this.G4.catch(Z));case 5:this.G4=void 0;case 6:case"end":return t.stop()}},null,this,null,Ve)},n.n6=function(t){var n,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.W4.Q$||!this.W4.e0){r.next=3;break}return r.abrupt("return");case 3:if(n=i.Je()-this.NG,e=1e3*this.W4.s0,!(n<e)){r.next=8;break}return r.next=8,Rr.awrap(cu(e-n,t));case 8:return r.prev=8,r.next=11,Rr.awrap(this.n2.q3(this.W4,t));case 11:r.next=18;break;case 13:throw r.prev=13,r.t0=r.catch(8),tu(r.t0),this.n2.G3(this.W4),r.t0;case 18:this.NG=i.Je(),r.next=0;break;case 21:case"end":return r.stop()}},null,this,[[8,13]],Ve)},n.Bs=function(){this.j4=!0,ou(this.K4())},t}();!function(t){t[t.LJ=0]="LJ",t[t.MJ=1]="MJ",t[t.ld=2]="ld",t[t.i6=3]="i6"}(dM||(dM={}));var kM="AssetExtractor",bM=function(){function t(){this.e6=[]}var n=t.prototype;return n.r6=function(t,n,i){for(var e=n,r=0,s=this.e6;r<s.length;r++){var u=s[r];if(e>=t)return!0;if(e<u.xD)return!1;if(e<u.MD){if(i<=u.MD)return!0;e=u.MD}}return e>=t},n.s6=function(t,n){for(var i=[],e=0;e<this.e6.length;e+=1){var r=this.e6[e],s=t-r.xD,u=r.Xi.length,o=w.min(u,w.max(s,0)),a=w.max(0,n+s),c=Xo(r.Xi,o,a);c.length&&(e=this.u6(e,r,t,o,a),i.push(c))}return i},n.o6=function(t,n){this.e6.push({xD:t,MD:t+n.length,Xi:n})},n.u6=function(t,n,i,e,r){var s=t;this.e6.splice(s,1),s-=1,n.xD<i&&(s+=1,this.e6.splice(s,0,{xD:n.xD,MD:i,Xi:Xo(n.Xi,0,e)}));var u=i+r-e;return u<n.MD&&(s+=1,this.e6.splice(s,0,{xD:u,MD:n.MD,Xi:Xo(n.Xi,r)})),s},t}(),pM=function(){function t(t,n){this.ev=void 0,this.a6=n,this.ev=t.getReader()}var n=t.prototype;return n.c6=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.ev.read());case 2:if(!(t=n.sent).done){n.next=6;break}throw this.a6=1/0,new v("No more data can be read from the given stream.");case 6:return this.a6+=t.value.length,n.abrupt("return",t.value);case 8:case"end":return n.stop()}},null,this,null,Ve)},n.h6=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.ev.cancel(t));case 2:case"end":return n.stop()}},null,this,null,Ve)},A(t,[{key:"f6",get:function(){return this.a6}}]),t}(),AM=function(){function t(t,n,i,e){this.v6=void 0,this.ev=void 0,this.l6=void 0,this.d6=void 0,this.w6=void 0,this._6=void 0,this.g6=new Wo,this.v6=t,this.ev=n,this.l6=i,this.d6=e,this.w6=new Wo,this._6=new Wo}var n=t.prototype;return n.m6=function(){this._6.Hu(),this._6=new Wo},n.y6=function(t){var n=SM(this.v6.SJ),i=n.k6,e=n.b6,r=this.l6.s6(i,e-i);dx.d$(kM,"Collected "+r.length+" chunks.");for(var s=0;s<r.length;s++){var u=r[s];t.enqueue(u)}},n.readAndSliceOutAssetBytes=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l;return Rr.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Rr.awrap(this.w6.Uu);case 2:n=SM(this.v6.SJ),i=n.k6,e=n.b6,d.prev=3;case 4:return r=this.ev.f6,d.next=8,Rr.awrap(this.ev.c6());case 8:if(s=d.sent,u=s.length,dx.d$(kM,"Read "+u+" at "+r+" for extraction of "+sx(this.v6)),o=w.min(r+u,i),!((a=o-r)>0)){d.next=25;break}if(c=Xo(s,0,a),h=Xo(s,a),dx.d$(kM,"Of the read "+u+" bytes, the first "+a+" will be stored locally for extraction of "+sx(this.v6)),this.l6.o6(r,c),!(h.length>0)){d.next=23;break}return dx.d$(kM,"Extracting "+h.length+" bytes for extraction of "+sx(this.v6)),t.enqueue(h),this.m6(),d.abrupt("return",ou(this.readAndSliceOutAssetBytes(t)));case 23:d.next=46;break;case 25:if(!(r+u<=e)){d.next=33;break}return dx.d$(kM,"Extracting the read data range for extraction of "+sx(this.v6)),t.enqueue(s),this.m6(),d.abrupt("return",ou(this.readAndSliceOutAssetBytes(t)));case 33:if(v=Xo(s,0,f=e-r),l=Xo(s,f),v.length>0&&(dx.d$(kM,"Extracting "+v.length+" bytes for extraction of "+sx(this.v6)),t.enqueue(v)),dx.d$(kM,"Of the read "+u+" bytes, the last "+l.length+" will be stored locally for extraction of "+sx(this.v6)),this.l6.o6(r+f,l),dx.d$(kM,"Extraction of "+sx(this.v6)+" completed as the entire request has been fulfilled."),this.p6(t),!this.d6){d.next=45;break}return dx.d$(kM,"Aborting stream upstream as no more bytes are needed from "+sx(this.v6)+"."),d.next=45,Rr.awrap(this.ev.h6("AssetExtraction - AbortOnEnd"));case 45:return d.abrupt("return");case 46:d.next=4;break;case 48:d.next=54;break;case 50:d.prev=50,d.t0=d.catch(3),dx.d$(kM,"Extraction of "+sx(this.v6)+" completed as the entire source stream has been read."),this.p6(t);case 54:case"end":return d.stop()}},null,this,[[3,50]],Ve)},n.p6=function(t){t.close(),this.m6(),this.g6.Hu()},n.start=function(t){dx.d$(kM,"Preparing to push all collected data to controller for extraction of "+sx(this.v6)),this.y6(t),dx.d$(kM,"Collected data pushed to controller for extraction of "+sx(this.v6));var n=SM(this.v6.SJ).b6;this.ev.f6>=n?(dx.d$(kM,"Extraction of "+sx(this.v6)+" completed as the entire request has been fulfilled."),this.p6(t)):(dx.d$(kM,"Continuing read from original stream for extraction of "+sx(this.v6)),ou(this.readAndSliceOutAssetBytes(t)))},n.pull=function(){return this.w6.Hu(),this.w6=new Wo,this._6.Uu},A(t,[{key:"A6",get:function(){return this.g6.Uu}}]),t}(),TM=function(){function t(t,n){this.l6=void 0,this.T6=void 0,this.S6=void 0,this.v6=n;var i=SM(this.v6.SJ).k6;this.T6=new pM(t,i),this.l6=new bM}var n=t.prototype;return n.Oy=function(t){if(!ux(this.v6,t))return!1;var n=SM(t.SJ),i=n.k6,e=n.b6;return this.l6.r6(this.T6.f6,i,e)},n.E6=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0===n&&(n=!1),i=this.T6,e=this.l6,dx.mT(kM,"Extracting data from "+sx(t)+" out of "+sx(this.v6)),!this.S6){s.next=8;break}return dx.d$(kM,"Awaiting previous extraction before extracting "+sx(t)+" out of "+sx(this.v6)),s.next=8,Rr.awrap(this.S6);case 8:if(this.Oy(t)){s.next=10;break}throw new v("The extractor does not contain the data requested");case 10:return r=new AM(t,i,e,n),this.S6=r.A6,s.abrupt("return",new Wd(r));case 13:case"end":return s.stop()}},null,this,null,Ve)},t}();function SM(t){if(t){var n=t.xD;return{k6:n,b6:void 0!==t.D_?n+t.D_:Ot}}return{k6:0,b6:Ot}}var EM,IM=function(){function t(t,n){this.Kv=new Zs,this.I6=void 0,this.v6=t,this.R6=n,this.I6=this.zc()}var n=t.prototype;return n.zc=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.R6.rd(this.v6,Jw.fd,this.Kv.zs));case 2:return t=n.sent,n.abrupt("return",new TM(t,this.v6));case 4:case"end":return n.stop()}},null,this,null,Ve)},n.Oy=function(t){return ux(this.v6,t)},n.E6=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n=!1),e.next=3,Rr.awrap(this.I6);case 3:return i=e.sent,e.next=6,Rr.awrap(iu(i.E6(t,n),this.Kv.zs));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Xs=function(){this.I6.catch(Z),this.Kv.Xs()},t}(),RM=function(t){function n(){return t.call(this,EM.N6)||this}return S(n,t),n}(wu),NM="HlsPlaylistDownloader";!function(t){t.N6="videosegmentdownloaded"}(EM||(EM={}));var DM=function(t){function n(n,i,e,r,s,u,o){var a;return(a=t.call(this)||this).Hi=void 0,a.n2=void 0,a.w4=void 0,a.R6=void 0,a.D6=void 0,a.W4=void 0,a.C6=void 0,a.P6=void 0,a.B6=void 0,a.O6=new Zs,a.x6=void 0,a.L6=void 0,a.M6=void 0,a.U6=void 0,a.X6=function(t){a.P6&&(a.W4=a.P6,a.P6=void 0,a.x6=void 0,a.L6=void 0),a.B6&&(t&&!Js(t)?a.B6.Vu(t):a.B6.Hu(),a.B6=void 0)},a.Hi=n,a.n2=e,a.w4=r,a.W4=i,a.C6=new yM(e,i),a.D6=new gM(o,s),a.R6=new mM(s,u,function(t){switch(t){case jO.Sd:return $w.Sd;case jO.Td:return $w.Td;case jO.eA:case jO.pJ:return $w.Kn;default:return $w.fd}}(i.us),!1),a}S(n,t);var e=n.prototype;return e.F6=function(t){this.C6.Bs(),this.C6=new yM(this.n2,t),this.b4?this.P6=t:(this.W4=t,this.x6=void 0,this.L6=void 0)},e.T4=function(){return this.B6?this.B6.Uu:Ve.resolve()},e.H6=function(){return this.w4.H6()},e.z6=function(t){this.w4.z6(t)},e.Xs=function(){var t,n;this.O6.Xs(),this.O6=new Zs,null==(t=this.U6)||t.Xs(),null==(n=this.M6)||n.Xs(),this.U6=void 0,this.M6=void 0,this.x6=void 0,this.L6=void 0},e.Bs=function(){this.C6.Bs()},e.V6=function(t){var n=this.W4.L$(t);if(!n)return!1;if(void 0!==this.x6){var i=n.JJ===this.x6;return void 0!==this.L6?n.s$(t)===n.r$(this.L6)&&i:i}return!1},e.W6=function(t){var n;if(void 0===this.x6)n=this.G6(t);else if(n=this.q6(this.x6,this.L6)){var i=n,e=i[0],r=i[1],s=(null!=r?r:e).Ky,u=3*this.A0.Z$;w.abs(s-t)>=u&&(n=this.G6(t))}if(n){var o=n,a=o[0],c=o[1];return 0===(null==c?void 0:c.VJ)&&void 0!==a.Yg?[a,void 0]:[a,c]}},e.G6=function(t){var n,i,e,r=this.W4.KK;if(0!==r.length){var s=r[r.length-1];if(s.Ky+(null!=(n=s.Yg)?n:vx(s.AJ.map(function(t){return t.Yg})))<=t)i=s,e=s.o$(t);else if(r[0].Ky>t)e=(i=r[0]).r$(0);else{var u;e=null==(u=i=this.W4.L$(t))?void 0:u.o$(t)}return i?[i,e]:void 0}},e.q6=function(t,n){var i,e,r;if((i=this.W4.x$(t))&&void 0!==n){if(0===i.AJ.length)return[i,void 0];e=i.r$(n+1)}void 0!==i&&void 0!==e||(e=null==(r=i=this.W4.x$(t+1))?void 0:r.r$(0));return i?[i,e]:void 0},e.y4=function(){if(this.b4)throw new v("Cannot perform new operation while PlaylistDownloader is still busy")},e.j6=function(t){this.y4(),this.B6=new Wo,this.Y6(t,this.O6.zs).then(this.X6,this.X6)},e.Q6=function(){this.C6.Y4()},e.Y6=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=this.W6(t))||!this.C6.Q4()||void 0===this.x6){e.next=5;break}return e.next=4,Rr.awrap(this.C6.Z4(void 0===this.L6?this.x6+1:this.x6,void 0!==this.L6?this.L6+1:void 0,n));case 4:i=this.W6(t);case 5:if(i||!this.C6.Q4()||void 0===this.x6){e.next=9;break}return e.next=8,Rr.awrap(this.C6.Z4(this.x6+1,0,n));case 8:i=this.W6(t);case 9:if(i){e.next=16;break}return dx.mT(NM,"No next segment / part available, need to update playlist before continuing."),e.next=13,Rr.awrap(this.C6.J4(n));case 13:i=this.W6(t),e.next=9;break;case 16:case"end":return e.stop()}},null,this,null,Ve)},e.Z6=function(){return this.w4.K6()},e.J6=function(){this.y4();try{var t=this.W4.M$($O.LJ);t&&this.n5(t);var n=this.W4.M$($O.MJ);n&&this.i5(n)}catch(t){throw tu(t),this.A0.u0=i.Je(),this.n2.G3(this.A0),t}},e.n5=function(t){this.M6&&!this.M6.Oy(t.WJ)&&(this.M6.Xs(),this.M6=void 0),this.M6||(this.M6=new IM(t.WJ,this.R6))},e.i5=function(t){this.U6&&!this.U6.Oy(t.WJ)&&(this.U6.Xs(),this.U6=void 0),this.U6||(this.U6=new IM(t.WJ,this.R6))},e.e5=function(t,n,e){var r=this;this.y4(),dx.mT(NM,"Starting download of segment "+sx(t.WJ)+" and part "+(null==n?void 0:n.VJ)),this.B6=new Wo,this.r5(t,n,e,this.O6.zs).catch(function(t){throw tu(t),r.A0.u0=i.Je(),r.n2.G3(r.A0),t}).then(this.X6,this.X6)},e.r5=function(t,n,i,e){var r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!t.KJ){h.next=5;break}if(i&&ox(i.N4.WJ,t.KJ.WJ)&&t.t$===i.t$){h.next=5;break}return h.next=4,Rr.awrap(this.s5(t.KJ,t,e));case 4:s=h.sent;case 5:if(s){h.next=9;break}return h.next=8,Rr.awrap(this.u5(t,n,e));case 8:s=h.sent;case 9:if("o5"!==s.us){h.next=20;break}if((u=s.o5.Xi).us!==gD.Gf){h.next=17;break}return o=Dw(u.Xi,{highWaterMark:1/0},e),a=o[0],c=o[1],u.Xi=a,this.w4.a5(s),h.next=17,Rr.awrap(c);case 17:this.Hi===Ky.Sd&&this.js(new RM),h.next=21;break;case 20:this.w4.a5(s);case 21:dx.d$("Buffering","Download complete",sx(null!=(r=null==n?void 0:n.WJ)?r:t.WJ));case 22:case"end":return h.stop()}},null,this,null,Ve)},e.u5=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!n){u.next=21;break}if(!this.U6){u.next=14;break}if(!this.U6.Oy(n.WJ)){u.next=12;break}return u.next=5,Rr.awrap(this.U6.E6(n.WJ));case 5:return r=u.sent,u.next=8,Rr.awrap(this.M4(r,n.QJ,i));case 8:s=u.sent,e=BM(n,s),u.next=14;break;case 12:this.U6.Xs(),this.U6=void 0;case 14:if(e){u.next=19;break}return dx.d$("Buffering","Start download",sx(n.WJ)),u.next=18,Rr.awrap(this.c5(n,i));case 18:e=u.sent;case 19:u.next=25;break;case 21:return dx.d$("Buffering","Start download",sx(t.WJ)),u.next=24,Rr.awrap(this.h5(t,i));case 24:e=u.sent;case 25:return this.x6=t.JJ,this.L6=null==n?void 0:n.VJ,u.abrupt("return",{us:"o5",JJ:t.JJ,o5:e,A0:this.W4,t$:t.t$});case 28:case"end":return u.stop()}},null,this,null,Ve)},e.s5=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.M6){o.next=14;break}if(!this.M6.Oy(t.WJ)){o.next=11;break}return o.next=4,Rr.awrap(iu(this.M6.E6(t.WJ),i));case 4:return s=o.sent,o.next=7,Rr.awrap(this.M4(s,t.K2?[t.K2]:[],i));case 7:return u=o.sent,o.next=10,Rr.awrap(CM(t,n,u));case 10:e=o.sent;case 11:dx.mT(NM,"MAP is required for segment, downloading MAP data."),null==(r=this.M6)||r.Xs(),this.M6=void 0;case 14:if(e){o.next=19;break}return dx.d$("Buffering","Start download",sx(t.WJ)),o.next=18,Rr.awrap(this.f5(t,n,i));case 18:e=o.sent;case 19:return o.abrupt("return",{us:"KJ",KJ:e,Ky:n.Ky,t$:n.t$,QJ:n.QJ});case 20:case"end":return o.stop()}},null,this,null,Ve)},e.f5=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.R6.rd(t.WJ,Jw.wd,i));case 2:return e=u.sent,r=t.K2?[t.K2]:[],u.next=6,Rr.awrap(this.M4(e,r,i));case 6:return s=u.sent,u.next=9,Rr.awrap(CM(t,n,s));case 9:return u.abrupt("return",u.sent);case 10:case"end":return u.stop()}},null,this,null,Ve)},e.h5=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.WJ){r.next=2;break}throw new v("Internal error: attempted to download an incomplete segment");case 2:return r.next=4,Rr.awrap(this.R6.rd(t.WJ,Jw.fd,n));case 4:return i=r.sent,r.next=7,Rr.awrap(this.M4(i,t.QJ,n));case 7:return e=r.sent,r.abrupt("return",PM(t,e));case 9:case"end":return r.stop()}},null,this,null,Ve)},e.c5=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.R6.rd(t.WJ,Jw.fd,n));case 2:return i=r.sent,r.next=5,Rr.awrap(this.M4(i,t.QJ,n));case 5:return e=r.sent,r.abrupt("return",BM(t,e));case 7:case"end":return r.stop()}},null,this,null,Ve)},e.M4=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=Os(n,function(t){return t.Id===tx.UJ})){r.next=3;break}return r.abrupt("return",t);case 3:if(e.WJ&&e.M2){r.next=6;break}return dx.wu(NM,"Encountered an AES-128 encrypted segment for which no initialization vector could be determined."),r.abrupt("return",t);case 6:return r.next=8,Rr.awrap(this.D6.M4(t,e.WJ,e.M2,i));case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}},null,this,null,Ve)},A(n,[{key:"b4",get:function(){return void 0!==this.B6}},{key:"A0",get:function(){var t;return null!=(t=this.P6)?t:this.W4}},{key:"v5",get:function(){if(!this.W4.Q$)return!1;if(void 0===this.x6)return!1;var t=this.W4.KK[this.W4.KK.length-1];return t.JJ===this.x6&&!(this.L6&&this.L6!==t.AJ.length-1)}}]),n}(lu);function CM(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=y,e.next=3,Rr.awrap(Iw(i));case 3:return e.t1=e.sent,e.t2=new e.t0(e.t1),e.t3=gD.VX,e.t4={Xi:e.t2,us:e.t3},e.t5=dM.LJ,e.t6=t,e.t7=n.t$,e.abrupt("return",{Xi:e.t4,us:e.t5,N4:e.t6,t$:e.t7});case 11:case"end":return e.stop()}},null,null,null,Ve)}function PM(t,n){return{Xi:{Xi:n,us:gD.Gf},us:dM.ld,N4:t,t$:t.t$}}function BM(t,n){return{Xi:{Xi:n,us:gD.Gf},us:dM.MJ,N4:t,t$:t.zJ.t$}}var OM=function(){function t(){this.l5=[],this.d5=Cr(),this.w5=void 0,this._5=void 0}var n=t.prototype;return n.a5=function(t){"KJ"===t.us&&(this._5=t.KJ),this.l5.push(t),this.w5&&(this.w5.Hu(),this.w5=void 0)},n.H6=function(){return this.l5[0]},n.z6=function(t){Ms(this.l5,t)},n.K6=function(){return null!=this.w5||(this.w5=new Wo),this.w5.Uu},n.g5=function(t){this.m5(t.y5).g5(t)},n.k5=function(t){return this.m5(t).k5()},n.R4=function(t){this.m5(t.y5).R4(t)},n.b5=function(t){var n;null==(n=this.d5.get(t))||n.Bs()},n.p5=function(t){return this.m5(t).p5()},n.m5=function(t){if(this.d5.has(t))return this.d5.get(t);var n=new xM;return this.d5.set(t,n),n},n.Ru=function(){this.A5(),this.T5()},n.A5=function(){this._5=void 0,Hs(this.l5)},n.T5=function(){this.d5.forEach(function(t){return t.Ru()})},n.Bs=function(){this.d5.forEach(function(t){return t.Bs()}),this.d5.clear(),this.Ru(),this.w5&&(this.w5.Vu(new Ks),this.w5=void 0)},A(t,[{key:"v4",get:function(){return this._5}},{key:"S5",get:function(){for(var t=iE.mC(),n=0,i=this.l5;n<i.length;n++){var e=i[n];if("o5"===e.us){var r,s=e.o5.N4;t=t.tC(new iE([s.Ky,s.Ky+(null!=(r=s.Yg)?r:0)]))}}return t}},{key:"E5",get:function(){var t=iE.mC();return this.d5.forEach(function(n){t=t.tC(n.E5)}),t}}]),t}(),xM=function(){function t(){this.I5=[],this.R5=void 0}var n=t.prototype;return n.g5=function(t){this.I5.push(t),this.R5&&(this.R5.Hu(),this.R5=void 0)},n.k5=function(){return this.I5[0]},n.R4=function(t){Ms(this.I5,t)},n.p5=function(){return null!=this.R5||(this.R5=new Wo),this.R5.Uu},n.Ru=function(){Hs(this.I5)},n.Bs=function(){this.Ru(),this.R5&&(this.R5.Vu(new Ks),this.R5=void 0)},A(t,[{key:"E5",get:function(){for(var t=iE.mC(),n=0,i=this.I5;n<i.length;n++){var e=i[n];"o5"===e.us&&(t=t.tC(new iE([e.Ky,e.Ky+e.Yg])))}return t}}]),t}(),LM=function(){function t(t,n){this.N5=void 0,this.D5=void 0,this.C5=iE.mC(),this.N5=t,this.D5=n}var n=t.prototype;return n.Wz=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=t.Xi.Xi,this.P5(i),this.N5.us!==lk.TTML){u.next=8;break}if(this.D5.B5(t.t$)){u.next=6;break}return u.next=6,Rr.awrap(iu(this.D5.O5(t.t$),n));case 6:for(e=this.x5(i,t.t$),r=0;r<e.length;r++)s=e[r],this.N5.EE(s);case 8:case"end":return u.stop()}},null,this,null,Ve)},n.Hz=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=t.Ky,e=i+t.Yg,this.C5=this.C5.tC(new iE([i,e])),s.next=5,Rr.awrap(qD(t.Xi,n));case 5:if(r=s.sent,this.D5.B5(t.t$)){s.next=9;break}return s.next=9,Rr.awrap(iu(this.D5.O5(t.t$),n));case 9:this.Vz(r.Xi,t.t$,t.N4);case 10:case"end":return s.stop()}},null,this,null,Ve)},n.Vz=function(t,n,i){this.P5(t);for(var e=0,r=this.N5.us===lk.WEBVTT?this.L5(t,i):this.x5(t,n);e<r.length;e++){var s=r[e];this.N5.EE(s)}},n.L5=function(t,n){for(var i,e,r=(void 0===e&&(e=ub),wb(Po(xo(t),new zo),e)),s=r.ag,u=null!=(i=r.lp)?i:{dp:Kk.ib,wp:Kk.ib},o=0;o<s.length;o++){var a=s[o],c=Kk.Vb(a.Ky).Gk(u.wp).By(u.dp),h=this.D5.M5(c,n).Ok(),f=h+(a.Jy-a.Ky);a.Ky=h,a.Jy=f}return s},n.x5=function(t,n){var i=this.D5.U5(n).Ok();return hp(t,this.N5,{ap:0,cp:1/0,hp:i},Nh.APPLICATION_MP4)},n.P5=function(t){this.N5.us===lk.DEFAULT&&(this.N5.us=this.X5(t)?lk.WEBVTT:lk.TTML)},n.X5=function(t){return Eb(Po(Oo(xo(t),0,w.min(t.byteLength,7)),new zo))},n.gV=function(t,n){},n.mV=function(t,n){},A(t,[{key:"ly",get:function(){return this.C5}},{key:"AV",get:function(){return iE.mC()}}]),t}(),MM=function(){function t(t,n,i,e){var r=this;this.W4=void 0,this.w4=void 0,this.D5=void 0,this.F5=void 0,this.H5=void 0,this.Kv=new Zs,this.z5=function(t){r.H5&&(t&&!Js(t)?r.H5.Vu(t):(r.H5.Hu(),r.H5=void 0))},this.W4=t,this.w4=n,this.D5=i,this.F5=e}var n=t.prototype;return n.F6=function(t){this.W4!==t&&(this.Xs(),this.W4=t)},n.V5=function(t){for(var n=0,i=this.F5;n<i.length;n++){var e=i[n];Xs(t,e)||this.w4.b5(e)}this.F5=t},n.T4=function(){var t,n;return null!=(t=null==(n=this.H5)?void 0:n.Uu)?t:Ve.resolve()},n.y4=function(){if(this.b4)throw new v("Cannot perform new operation while transmuxer is still busy")},n.W5=function(t){var n=this;this.y4(),this.H5=new Wo;var i=function(i){n.w4.z6(t),n.z5(i)};this.G5(t,this.Kv.zs).then(i,i)},n.q5=function(t){var n=this;this.y4(),this.H5=new Wo;var i=function(i){n.w4.z6(t),n.z5(i)};this.j5(t,this.Kv.zs).then(i,i)},n.g5=function(t){this.w4.g5(t)},n.Y5=function(t){return this.w4.k5(t)},n.R4=function(t){this.w4.R4(t)},n.Q5=function(t){return this.w4.p5(t)},n.Xs=function(){this.Kv.Xs(),this.Kv=new Zs},A(t,[{key:"A0",get:function(){return this.W4}},{key:"Z5",get:function(){return this.F5}},{key:"b4",get:function(){return void 0!==this.H5}}]),t}(),UM=function(t){function n(n,i,e,r){return t.call(this,n,i,e,[r])||this}S(n,t);var i=n.prototype;return i.G5=function(t,n){$s(n);var i={us:"K5",Xi:t.KJ.Xi,y5:this.Z5[0],t$:t.t$,J5:{FH:"",QJ:t.QJ},Ky:t.Ky,A0:this.A0,N4:t.KJ.N4};return this.g5(i),Ve.resolve()},i.j5=function(t,n){var i;$s(n);var e=t.o5.N4,r={us:"o5",Xi:t.o5.Xi,y5:this.Z5[0],JJ:t.JJ,Ky:e.Ky,Yg:null!=(i=e.Yg)?i:0,hp:0,t$:t.t$,A0:t.A0,N4:t.o5.N4};return this.g5(r),Ve.resolve()},n}(MM),XM=function(){function t(t,n,i){this.t8=[],this.n8=t,this.w4=n,this.i8=i}var n=t.prototype;return n.F6=function(t){this.n8.F6(t)},n.e8=function(t){for(var n=this,i=t.slice(),e=function(t){var e=n.t8[t];if(!e.O4)throw new v("Invalid state");var r=Ls(i,function(t){return t.us===e.us});r>=0?(e.A4(i[r]),Us(i,r)):Us(n.t8,t)},r=this.t8.length-1;r>=0;r--)e(r);for(var s=0;s<i.length;s++){var u=i[s],o=new wM(u);this.t8.push(new _M(u.us,u,this.w4,o))}i.length>0&&this.w4.Ru();var a=t.map(function(t){return t.us});this.i8.V5(a)},n.r8=function(t){for(var n=0,i=this.t8;n<i.length;n++){var e=i[n];if(e.us!==Ky.Kn||e.b4)throw new v("Invalid state")}var r=new wM(t),s=new _M(Ky.Kn,t,this.w4,r);this.t8=[s]},n.s8=function(){for(var t=0,n=this.t8;t<n.length;t++){n[t].B4.o4()}},n.u8=function(t){var n=this.o8.lC(t,.001);return n?n.MD(n.D_-1):t},n.V6=function(t){return!!this.o8.lC(t,.001)||this.n8.V6(t)},n.a8=function(t){return this.c8.ZN(t,.001)},n.h8=function(t,n,i){for(var e=0,r=this.t8;e<r.length;e++){var s=r[e].B4,u=s.l4;if(void 0!==u&&n>=u)return!s.ly.VD().ZN(u)}return n-t<i},n.Xs=function(){this.f8(),this.v8()},n.f8=function(){this.l8.Xs()},n.v8=function(){this.d8.Xs(),this.w8.forEach(function(t){return t.Xs()})},n.Bs=function(){this.Xs(),this.l8.Bs()},A(t,[{key:"w8",get:function(){return this.t8}},{key:"l8",get:function(){return this.n8}},{key:"d8",get:function(){return this.i8}},{key:"_8",get:function(){return this.w4}},{key:"A0",get:function(){return this.n8.A0}},{key:"v4",get:function(){var t=this.w4.v4;if(t)return t;if(this.t8.length>0){var n=this.t8[0].B4.v4;if(n&&this.t8.every(function(t){return t.B4.v4===n}))return n}}},{key:"o8",get:function(){if(0===this.t8.length)return iE.mC();for(var t=this.w4.S5.tC(this.w4.E5).VD(),n=new iE([0,1/0]),i=0,e=this.t8;i<e.length;i++){for(var r=e[i],s=r.B4.ly,u=r.B4.KK,o=r.E4,a=0;a<u.length;a++)for(var c=u[a],h=c.c4.iC(c.h4),f=0;f<h.D_;f++)t.uC(h.xD(f),h.MD(f),!0,!0)&&(s=s.tC(h.vC(f)));n=n.YD(s).iC(o)}return n=n.tC(t)}},{key:"c8",get:function(){if(0===this.t8.length)return iE.mC();for(var t=this.w4.E5.VD(),n=new iE([0,1/0]),i=0,e=this.t8;i<e.length;i++){for(var r=e[i],s=r.B4.ly,u=r.B4.KK,o=0;o<u.length;o++)for(var a=u[o],c=a.c4.iC(a.h4),h=0;h<c.D_;h++)t.uC(c.xD(h),c.MD(h),!0,!0)&&(s=s.tC(c.vC(h)));n=n.YD(s)}return n=n.tC(t)}}]),t}();var FM=function(t){function n(){return t.call(this,qO.mJ)||this}return S(n,t),n}(wu),HM=function(t){function n(){return t.call(this,qO._J)||this}return S(n,t),n}(wu),zM=function(t){function i(n,i){var e;return(e=t.call(this)||this).Sh=void 0,e.e4=void 0,e.g8=new Wo,e.dL=ZR,e.m8=!1,e.wL=WR,e.dV=new bD,e.Hi=n,e.y8=i,e}S(i,t);var e=i.prototype;return e.UX=function(){return this.e4?this.e4.UX():this.m8},e.gV=function(t,n){dx.d$("LazyMediaBuffer","Marking gap from "+t+" to "+n+"."),this.dV.QX(t,n),this.e4&&this.e4.gV(t,n)},e.mV=function(t,n){dx.d$("LazyMediaBuffer","Removing gap from "+t+" to "+n+"."),this.dV.ZX(t,n),this.e4&&this.e4.mV(t,n)},e.k8=function(t){this.e4=t,this.e4.hL=this.wL,this.e4.uL=this.dL;for(var n,i=this.dV.KX,e=0;e<i.D_;e++)this.e4.gV(i.xD(e),i.MD(e));this.m8&&(dx.d$("LazyMediaBuffer","End of stream"),null==(n=this.e4)||n.fV());this.e4.Ys(vD.HX,this.qs),this.g8.Hu(t)},e.b8=function(t){return iu(this.g8.Uu,t)},e.Hz=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.b8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Hz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.yV=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.b8());case 2:return t=n.sent,n.next=5,Rr.awrap(t.yV());case 5:case"end":return n.stop()}},null,this,null,Ve)},e.Wz=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.b8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Wz(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.Vc=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.b8(i));case 2:return e=r.sent,r.next=5,Rr.awrap(e.Vc(t,n,i));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.$z=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.b8());case 2:return i=e.sent,e.next=5,Rr.awrap(i.$z(t,n));case 5:case"end":return e.stop()}},null,this,null,Ve)},e.fV=function(){this.m8=!0,this.e4&&this.e4.fV()},e.NX=function(t){return!!this.e4&&this.e4.NX(t)},e.DX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.b8());case 2:return n=i.sent,i.next=5,Rr.awrap(n.DX(t));case 5:case"end":return i.stop()}},null,this,null,Ve)},e.Od=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:this.Ks(),null==(t=this.e4)||t.Js(vD.HX,this.qs);case 2:case"end":return n.stop()}},null,this,null,Ve)},A(i,[{key:"Xl",get:function(){return this.Sh}},{key:"pV",get:function(){return this.Hi}},{key:"Jc",get:function(){if(!this.e4)throw new tf(n.ErrorCode.MEDIA_LOAD_ERROR,"Cannot get the configuration of an uninitialized MediaBuffer.");return this.e4.Jc}},{key:"uL",get:function(){return this.dL},set:function(t){this.dL=t,this.e4&&(this.e4.uL=t)}},{key:"ly",get:function(){return this.e4?this.e4.ly:iE.mC()}},{key:"AV",get:function(){return this.e4?this.e4.AV:this.dV.KX}},{key:"hL",get:function(){return this.wL},set:function(t){this.wL=t,this.e4&&(this.e4.hL=t)}}]),i}(lu),VM="LazyMediaSource",WM=function(){function t(t,n,i){this.p8=void 0,this.A8=void 0,this.T8=new Wo,this.sN=void 0,this.S8=!1,this.ea=NaN,this.fK=!1,this.E8=0,this.I8=1/0,this.R8=!1,this.N8=!1,this.rN=t,n&&(dx.d$(VM,"Created lazy media buffer for audio."),this.p8=new zM(Ky.Td,this)),i&&(dx.d$(VM,"Created lazy media buffer for video."),this.A8=new zM(Ky.Sd,this))}var n=t.prototype;return n.cW=function(t){this.ea=t,this.sN&&this.sN.cW(t)},n.fV=function(){this.fK=!0,this.sN&&this.sN.fV()},n.oV=function(){this.fK=!1,this.sN&&this.sN.oV()},n.vW=function(t,n,i,e){this.E8=t,this.I8=n,this.R8=Boolean(i),this.N8=Boolean(e),this.sN&&this.sN.vW(t,n,i,e)},n.NX=function(t){return!this.sN||this.sN.NX(t)},n.DX=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(this.NX(t)){r.next=2;break}throw new v("LazyMediaSource - Unable to reconfigure MediaSource.");case 2:if(this.sN){r.next=19;break}return this.rN.gY(),r.next=6,Rr.awrap(this.rN.zc(t));case 6:e=r.sent,m(this.ea)||e.cW(this.ea),this.fK&&e.fV(),e.vW(this.E8,this.I8,this.R8,this.N8),dx.d$(VM,"The MediaSource has been loaded."),this.S8=!0,this.sN=e,null==(n=this.p8)||n.k8(this.sN.ZV),null==(i=this.A8)||i.k8(this.sN.KV),this.T8.Hu(e),this.rN.mY(),r.next=21;break;case 19:return r.next=21,Rr.awrap(this.sN.DX(t));case 21:case"end":return r.stop()}},null,this,null,Ve)},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sN){t.next=3;break}return t.next=3,Rr.awrap(this.sN.Bs());case 3:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"Jc",get:function(){return{us:Kp.DE,lW:[],xN:[]}}},{key:"Lm",get:function(){throw new v("Not implemented")}},{key:"ZV",get:function(){return this.p8}},{key:"KV",get:function(){return this.A8}},{key:"ly",get:function(){return this.sN?this.sN.ly:iE.mC()}},{key:"Yg",get:function(){return this.sN?this.sN.Yg:this.ea}},{key:"UX",get:function(){return!!this.sN&&this.sN.UX}},{key:"Ny",get:function(){return this.sN?this.sN.Ny:new iE([0,1/0])}}]),t}();function GM(t,n){return void 0===n&&(n=!1),function(i,e){void 0===e&&(e="*");var r,s,u,o=jM(i,"tag"),a=jM(null==e?"*":e,"range"),c=[],h=-1;for(;++h<a.length;)if(r=a[h].toLowerCase(),n||"*"!==r){for(s=-1,u=[];++s<o.length;)if(t(o[s].toLowerCase(),r)){if(!n)return o[s];c.push(o[s])}else u.push(o[s]);o=u}return n?c:void 0}}GM(function(t,n){return"*"===n||t===n||fs(t,n+"-")},!0),GM(function(t,n){var i=t.split("-"),e=n.split("-"),r=0,s=0;if("*"!==e[s]&&i[r]!==e[s])return!1;for(r++,s++;s<e.length;)if("*"!==e[s]){if(!i[r])return!1;if(i[r]!==e[s]){if(1===i[r].length)return!1;r++}else r++,s++}else s++;return!0},!0);var qM=GM(function(t,n){for(var i,e=n;;){if("*"===e||t===e)return!0;if((i=e.lastIndexOf("-"))<0)return!1;"-"===e.charAt(i-2)&&(i-=2),e=e.slice(0,i)}});function jM(t,n){var i=t&&"string"==typeof t?[t]:t;if(!(i&&"object"==typeof i&&"length"in i))throw new v("Invalid "+n+" `"+i+"`, expected non-empty string");return i}var YM,QM=function(t){function n(){return t.call(this,bf.Af)||this}return S(n,t),n}(wu),ZM=function(t){function n(){return t.call(this,bf.pf)||this}return S(n,t),n}(wu),KM=16384,JM=71,$M=188;function tU(t){return null!==OP(xo(t),new zo)?YM.D8:function(t){return function(t){if(t.length<3*$M)return-1;for(var n=w.min(1e3,t.length-3*$M),i=0;i<=n;i++)if(t[i]===JM&&t[i+$M]===JM&&t[i+2*$M]===JM)return i;return-1}(t)>=0}(t)?YM.C8:nU(t)?YM.Ig:YM.fd}function nU(t){var n=Bo(t,0,w.min(t.length,KM));return Jb.UA(xo(n))}!function(t){t[t.fd=0]="fd",t[t.Ig=1]="Ig",t[t.C8=2]="C8",t[t.D8=3]="D8"}(YM||(YM={}));var iU=function(){function t(t,n,i,e){this.Hi=void 0,this.e4=void 0,this.P8=void 0,this.B8=void 0,this.O8=void 0,this.Hi=t,this.e4=n,this.B8=i,this.O8=e}var n=t.prototype;return n.x8=function(t){return this.e4===t},n.Wz=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Rr.awrap(this.e4.Wz(t.Xi,{L8:t.A0.H_},n));case 3:this.Hi===Ky.Sd&&nU(t.Xi.Xi)&&this.O8.M8(t.Xi.Xi);case 4:case"end":return i.stop()}},null,this,null,Ve)},n.Hz=function(t,n){var i,e,r,s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return $s(n),dx.mT("HlsMediaBuffer","Got media data, appending to "+this.Hi+" MediaBuffer: "+sx(t.N4.WJ)),i=t.Ky,e=t.Ky+t.Yg,r={U8:t.Ky,Yg:t.Yg,hp:t.hp,L8:t.A0.H_},s=QD(t.Xi),u=s[0],o=s[1],c.next=9,Rr.awrap(ru(function(n){return au([a.e4.Hz(u,r,n),a.X8(o,t,n)])},n));case 9:this.F8(i,e);case 10:case"end":return c.stop()}},null,this,null,Ve)},n.X8=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Rr.awrap(qD(t,i));case 2:if(nU((e=o.sent).Xi)){o.next=5;break}return o.abrupt("return");case 5:r=n.Ky,s=r+n.Yg,u=n.hp,this.B8.a4(e.Xi,r,u),this.Hi===Ky.Sd&&this.O8.a4(e.Xi,r,s,u);case 10:case"end":return o.stop()}},null,this,null,Ve)},n.F8=function(t,n){for(var i=this.e4.ly,e=new iE([t,n]).iC(i),r=0;r<e.D_;r++)this.e4.gV(e.xD(r),e.MD(r));for(var s=0;s<i.D_;s++)this.e4.mV(i.xD(s),i.MD(s))},n.gV=function(t,n){this.e4.gV(t,n)},n.mV=function(t,n){this.e4.mV(t,n)},A(t,[{key:"us",get:function(){return this.Hi}},{key:"ly",get:function(){return this.e4.ly}},{key:"AV",get:function(){return this.e4.AV}}]),t}(),eU=function(){function t(){this.H8=[],this.z8=Pr()}var n=t.prototype;return n.B5=function(t){var n;return void 0!==(null==(n=this.z8.get(t))?void 0:n.hp)},n.O5=function(t){return this.W8(t).V8.Uu},n.U5=function(t){var n=this.z8.get(t);if(!n||!n.hp)throw new v("LLHLSPlayer - Missing timestamp mapping for discontinuity #"+t);return n.hp},n.G8=function(t,n){var i=void 0!==n.AJ?n:n.zJ;return t.By(this.U5(i.t$))},n.q8=function(t,n){return this.M5(t,n).Gk(t)},n.M5=function(t,n){var i=this.G8(t,n),e=Kk.Vb(n.Ky).Gk(i);if(e.zk().xk(nb)){var r=w.round(e.Ok()/tb.Ok());i=i.By(tb.Sb(r))}return i},n.j8=function(t,n,i,e,r){var s=this.W8(t);void 0===s.hp&&(s.Y8.some(function(t){return t.y5===n})||(s.Y8.push({y5:n,Q8:i,Z8:e.Mb(i.Pb),K8:r}),this.J8(s)))},n.J8=function(t){if(!t.hp&&this.t9(t)){var n=Gs(t.Y8,rU);Hs(t.Y8),t.hp=n.Z8.Gk(n.Q8),t.V8.Hu()}},n.t9=function(t){return this.H8.length>0&&this.H8.every(function(n){return t.Y8.some(function(t){return t.y5===n})})},n.W8=function(t){if(this.z8.has(t))return this.z8.get(t);var n={hp:void 0,V8:new Wo,Y8:[]};return this.z8.set(t,n),n},n.n9=function(t){var n=this;this.H8=t,this.z8.forEach(function(t){return n.J8(t)})},n.Bs=function(){this.z8.forEach(function(t){return t.V8.Xs()}),this.z8.clear()},t}();function rU(t,n){return t.K8||n.K8?(i=t.Q8,e=n.Q8,r=i.Gk(e),i.jk()||e.jk()?r:(r.Mk(nb)?r=r.Gk(tb):r.Hk(nb.Wk())&&(r=r.By(tb)),r)).Lk(Kk.ib):t.Q8.Lk(n.Q8);var i,e,r}var sU=500;var uU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,u,!1)||this).i9=void 0,o.me=void 0,o.e9=void 0,o.i9=e,o.me=r,o.e9=s,o}return S(n,t),n.prototype.Ak=function(n){return this===n||cm(this,n)&&t.prototype.Ak.call(this,n)&&am(this.$y,n.$y)},A(n,[{key:"PS",get:function(){return this.i9}},{key:"_i",get:function(){return this.me}},{key:"r9",get:function(){return this.e9}},{key:"$w",get:function(){var t;return this.Jw||(this.Jw=um(Tk(t=this),{get schemeIDURI(){return t.PS},get value(){return t._i},get emsgID(){return t.r9}})),this.Jw}}]),n}(Ck);function oU(t,n){return t+" "+n}var aU,cU,hU=function(t){function n(n){var i;return(i=t.call(this)||this).kE=void 0,i.kE=n,i}S(n,t);var i=n.prototype;return i.a4=function(t,i,e){var r=Jb.LA(xo(t));if(r){var s=Gb(r,ib.Kp);if(s.length){var u=n.s9(r,i,e);this.u9(s,u,e)}}},i.u9=function(t,n,i){for(var e=0;e<t.length;e++){var r=t[e],s=void 0,u=(s=1===r.OA?r.OS.toNumber()/r.Pb+i:n+r.MS/r.Pb)+r.xS/r.Pb;"https://aomedia.org/emsg/ID3"===r.PS?this.o9(r,s):this.a9(r,s,u)}},i.a9=function(t,n,i){var e=oU(t.PS,t._i),r=this.c9(e);r||(r=this.h9(e),this.f9(r)),r.EE(new uU(n,i,t.PS,t._i,t.F_,t.LS))},i.o9=function(t,n){var i=MP(xo(t.LS));if(i){var e=oU(t.PS,t._i),r=this.c9(e);r||(r=this.v9(e),this.f9(r));for(var s=0,u=i.cG;s<u.length;s++){var o=u[s],a=new YP(n,o);aP(a,r.ag.N_),r.EE(a)}}},n.s9=function(t,n,i){var e=Wb(t,ib.Jp);return e?jt(e.QS,e.Pb)+i:n},i.h9=function(t){var n=this.kE.TE(Ap.sA,"","","",void 0,lk.EMSG);return n.K_=t,n.J_=Am.Y_,n},i.v9=function(t){var n=this.kE.TE(Ap.sA,"","","",void 0,lk.ID3);return n.K_=t,n.J_=Am.Y_,n},i.R_=function(){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(n=0,i=this.KA.N_;n<i.length;n++)e=i[n],this.kE.IE(e);return r.next=3,Rr.awrap(t.prototype.R_.call(this));case 3:case"end":return r.stop()}},null,this,null,Ve)},n}(function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.f9=function(t){return t.og=vk.LOADED,this.S_(t),t},i.c9=function(t){for(var n=0,i=this.KA.N_;n<i.length;n++){var e=i[n];if(e.K_===t)return e}},n}(Vp));function fU(t){return"function"==typeof t.Su}function vU(t,n,i){if(!(i&&n.byte>=i)){var e=fU(t)?t.Su(n.byte):t[n.byte];return n.byte+=1,e}}function lU(t,n){return function(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=256*e+vU(t,n);return e}(t,n,2)}!function(t){t[t.l9=0]="l9",t[t.d9=1]="d9",t[t.w9=2]="w9",t[t._9=3]="_9",t[t.g9=4]="g9",t[t.m9=5]="m9"}(aU||(aU={})),function(t){t[t.y9=0]="y9",t[t.k9=1]="k9",t[t.b9=2]="b9",t[t.p9=3]="p9"}(cU||(cU={}));var dU,wU=function(){function t(){this.A9=0,this.T9=[],this.eE={}}var n=t.prototype;return n.S9=function(t){this.T9=this.T9.concat(t.T9),this.A9+=t.D_},n.E9=function(t,n,i){var e=this.A9,r=i-n;r>0&&(this.T9.push({I9:n,R9:i,N9:r,D9:e,C9:t}),this.A9+=r)},n.Su=function(t){for(var n=0,i=this.T9;n<i.length;n++){var e=i[n];if(e.D9<=t&&t<e.D9+e.N9)return e.C9[t+e.I9-e.D9]}},n.P9=function(t,n){for(var i=n,e=0,r=this.T9;e<r.length;e++)for(var s=r[e],u=s.R9,o=s.I9;o<u;o+=1,i+=1)t[i]=s.C9[o];return i},n.B9=function(){for(var t=new y(this.A9),n=0,i=0,e=this.T9;i<e.length;i++)for(var r=e[i],s=r.R9,u=r.I9;u<s;u+=1,n+=1)t[n]=r.C9[u];return t},n.Ou=function(n){for(var i=new t,e=0,r=this.T9;e<r.length;e++){var s=r[e];i.E9(s.C9,s.I9,s.R9)}return i.eE=n||Nr({},this.eE),i},A(t,[{key:"D_",get:function(){return this.A9},set:function(t){var n=this.T9,i=this.A9-t;if(!(t>=this.A9))if(this.A9=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.N9)return r.R9-=i,r.N9-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.N9}else n.length=0}},{key:"Xi",get:function(){for(var t=new Array(this.A9),n=0,i=0,e=this.T9;i<e.length;i++)for(var r=e[i],s=r.R9,u=r.I9;u<s;u+=1,n+=1)t[n]=r.C9[u];return t}}]),t}();function _U(t,n,i){return i===aU.l9?i:n!==cU.y9&&n!==cU.k9||i!==aU.d9&&i!==aU.w9?t?n===cU.b9?aU.g9:n===cU.p9?aU._9:aU.l9:aU.m9:aU.w9}function gU(t,n,i,e){var r={byte:i},s=aU.d9,u=[],o=31&vU(n,r,e);r.byte+=1;for(var a=0;a<o;a+=1){var c=vU(n,r,e),h=4&c,f=3&c;s=_U(Boolean(h),f,s);var v=vU(n,r,e),l=vU(n,r,e);u.push({ZQ:t,yS:-1,O9:!a,x9:Boolean(h),us:f,rQ:s,L9:v,M9:l})}return u}function mU(t,n,i){var e=vU(t,n,i);if(!m(e))return String.fromCharCode(e)}function yU(t){var n=t.U9,i={byte:t.X9},e=t.F9,r=vU(n,i,e);if(255===r&&(i.byte+=1),181===r){var s=lU(n,i);if(s===dU.H9||s===dU.z9){if(s===dU.z9)if("GA94"!==function(t,n,i){for(var e="",r=i;r>0;)r-=1,e+=mU(t,n);return e}(n,i,4))return;if(3===vU(n,i,e)){s===dU.H9&&(i.byte+=1);var u=t;return u.V9=i.byte,u}}}}function kU(t){return 4===t.W9}function bU(t){for(var n=t.filter(kU).map(yU).filter(X),i=[],e=0;e<n.length;e++){var r=n[e];i.push.apply(i,gU(r.G9,r.U9,r.V9,r.F9))}return i}!function(t){t[t.H9=47]="H9",t[t.z9=49]="z9"}(dU||(dU={}));var pU="und";var AU,TU=[{ci:"Abkhaz",wp:"\u0410\u04a7\u0441\u0443\u0430",1:"ab",2:"abk","2T":"abk","2B":"abk",3:"abk"},{ci:"Afar",wp:"Afaraf",1:"aa",2:"aar","2T":"aar","2B":"aar",3:"aar"},{ci:"Afrikaans",wp:"Afrikaans",1:"af",2:"afr","2T":"afr","2B":"afr",3:"afr"},{ci:"Akan",wp:"Akan",1:"ak",2:"aka","2T":"aka","2B":"aka",3:"aka"},{ci:"Albanian",wp:"Shqip",1:"sq",2:"sqi","2T":"sqi","2B":"alb",3:"sqi"},{ci:"Amharic",wp:"\u12a0\u121b\u122d\u129b",1:"am",2:"amh","2T":"amh","2B":"amh",3:"amh"},{ci:"Arabic",wp:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",1:"ar",2:"ara","2T":"ara","2B":"ara",3:"ara"},{ci:"Aragonese",wp:"Aragon\xe9s",1:"an",2:"arg","2T":"arg","2B":"arg",3:"arg"},{ci:"Armenian",wp:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",1:"hy",2:"hye","2T":"hye","2B":"arm",3:"hye"},{ci:"Assamese",wp:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be",1:"as",2:"asm","2T":"asm","2B":"asm",3:"asm"},{ci:"Avaric",wp:"\u0410\u0432\u0430\u0440",1:"av",2:"ava","2T":"ava","2B":"ava",3:"ava"},{ci:"Avestan",wp:"avesta",1:"ae",2:"ave","2T":"ave","2B":"ave",3:"ave"},{ci:"Aymara",wp:"Aymar",1:"ay",2:"aym","2T":"aym","2B":"aym",3:"aym"},{ci:"Azerbaijani",wp:"Az\u0259rbaycanca",1:"az",2:"aze","2T":"aze","2B":"aze",3:"aze"},{ci:"Bambara",wp:"Bamanankan",1:"bm",2:"bam","2T":"bam","2B":"bam",3:"bam"},{ci:"Bashkir",wp:"\u0411\u0430\u0448\u04a1\u043e\u0440\u0442\u0441\u0430",1:"ba",2:"bak","2T":"bak","2B":"bak",3:"bak"},{ci:"Basque",wp:"Euskara",1:"eu",2:"eus","2T":"eus","2B":"baq",3:"eus"},{ci:"Belarusian",wp:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f",1:"be",2:"bel","2T":"bel","2B":"bel",3:"bel"},{ci:"Bengali",wp:"\u09ac\u09be\u0982\u09b2\u09be",1:"bn",2:"ben","2T":"ben","2B":"ben",3:"ben"},{ci:"Bihari",wp:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940",1:"bh",2:"bih","2T":"bih","2B":"bih",3:"bih"},{ci:"Bislama",wp:"Bislama",1:"bi",2:"bis","2T":"bis","2B":"bis",3:"bis"},{ci:"Bosnian",wp:"Bosanski",1:"bs",2:"bos","2T":"bos","2B":"bos",3:"bos"},{ci:"Breton",wp:"Brezhoneg",1:"br",2:"bre","2T":"bre","2B":"bre",3:"bre"},{ci:"Bulgarian",wp:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",1:"bg",2:"bul","2T":"bul","2B":"bul",3:"bul"},{ci:"Burmese",wp:"\u1019\u103c\u1014\u103a\u1019\u102c\u1018\u102c\u101e\u102c",1:"my",2:"mya","2T":"mya","2B":"bur",3:"mya"},{ci:"Catalan",wp:"Catal\xe0",1:"ca",2:"cat","2T":"cat","2B":"cat",3:"cat"},{ci:"Chamorro",wp:"Chamoru",1:"ch",2:"cha","2T":"cha","2B":"cha",3:"cha"},{ci:"Chechen",wp:"\u041d\u043e\u0445\u0447\u0438\u0439\u043d",1:"ce",2:"che","2T":"che","2B":"che",3:"che"},{ci:"Chichewa",wp:"Chichewa",1:"ny",2:"nya","2T":"nya","2B":"nya",3:"nya"},{ci:"Chinese",wp:"\u4e2d\u6587",1:"zh",2:"zho","2T":"zho","2B":"chi",3:"zho"},{ci:"Chuvash",wp:"\u0427\u04d1\u0432\u0430\u0448\u043b\u0430",1:"cv",2:"chv","2T":"chv","2B":"chv",3:"chv"},{ci:"Cornish",wp:"Kernewek",1:"kw",2:"cor","2T":"cor","2B":"cor",3:"cor"},{ci:"Corsican",wp:"Corsu",1:"co",2:"cos","2T":"cos","2B":"cos",3:"cos"},{ci:"Cree",wp:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423",1:"cr",2:"cre","2T":"cre","2B":"cre",3:"cre"},{ci:"Croatian",wp:"Hrvatski",1:"hr",2:"hrv","2T":"hrv","2B":"hrv",3:"hrv"},{ci:"Czech",wp:"\u010ce\u0161tina",1:"cs",2:"ces","2T":"ces","2B":"cze",3:"ces"},{ci:"Danish",wp:"Dansk",1:"da",2:"dan","2T":"dan","2B":"dan",3:"dan"},{ci:"Divehi",wp:"Divehi",1:"dv",2:"div","2T":"div","2B":"div",3:"div"},{ci:"Dutch",wp:"Nederlands",1:"nl",2:"nld","2T":"nld","2B":"dut",3:"nld"},{ci:"Dzongkha",wp:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41",1:"dz",2:"dzo","2T":"dzo","2B":"dzo",3:"dzo"},{ci:"English",wp:"English",1:"en",2:"eng","2T":"eng","2B":"eng",3:"eng"},{ci:"Esperanto",wp:"Esperanto",1:"eo",2:"epo","2T":"epo","2B":"epo",3:"epo"},{ci:"Estonian",wp:"Eesti",1:"et",2:"est","2T":"est","2B":"est",3:"est"},{ci:"Ewe",wp:"E\u028begbe",1:"ee",2:"ewe","2T":"ewe","2B":"ewe",3:"ewe"},{ci:"Faroese",wp:"F\xf8royskt",1:"fo",2:"fao","2T":"fao","2B":"fao",3:"fao"},{ci:"Fijian",wp:"Na Vosa Vaka-Viti",1:"fj",2:"fij","2T":"fij","2B":"fij",3:"fij"},{ci:"Finnish",wp:"Suomi",1:"fi",2:"fin","2T":"fin","2B":"fin",3:"fin"},{ci:"French",wp:"Fran\xe7ais",1:"fr",2:"fra","2T":"fra","2B":"fre",3:"fra"},{ci:"Fula",wp:"Fulfulde",1:"ff",2:"ful","2T":"ful","2B":"ful",3:"ful"},{ci:"Galician",wp:"Galego",1:"gl",2:"glg","2T":"glg","2B":"glg",3:"glg"},{ci:"Georgian",wp:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8",1:"ka",2:"kat","2T":"kat","2B":"geo",3:"kat"},{ci:"German",wp:"Deutsch",1:"de",2:"deu","2T":"deu","2B":"ger",3:"deu"},{ci:"Greek",wp:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",1:"el",2:"ell","2T":"ell","2B":"gre",3:"ell"},{ci:"Guaran\xed",wp:"Ava\xf1e'\u1ebd",1:"gn",2:"grn","2T":"grn","2B":"grn",3:"grn"},{ci:"Gujarati",wp:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0",1:"gu",2:"guj","2T":"guj","2B":"guj",3:"guj"},{ci:"Haitian",wp:"Krey\xf2l Ayisyen",1:"ht",2:"hat","2T":"hat","2B":"hat",3:"hat"},{ci:"Hausa",wp:"\u0647\u064e\u0648\u064f\u0633\u064e",1:"ha",2:"hau","2T":"hau","2B":"hau",3:"hau"},{ci:"Hebrew",wp:"\u05e2\u05d1\u05e8\u05d9\u05ea",1:"he",2:"heb","2T":"heb","2B":"heb",3:"heb"},{ci:"Herero",wp:"Otjiherero",1:"hz",2:"her","2T":"her","2B":"her",3:"her"},{ci:"Hindi",wp:"\u0939\u093f\u0928\u094d\u0926\u0940",1:"hi",2:"hin","2T":"hin","2B":"hin",3:"hin"},{ci:"Hiri Motu",wp:"Hiri Motu",1:"ho",2:"hmo","2T":"hmo","2B":"hmo",3:"hmo"},{ci:"Hungarian",wp:"Magyar",1:"hu",2:"hun","2T":"hun","2B":"hun",3:"hun"},{ci:"Interlingua",wp:"Interlingua",1:"ia",2:"ina","2T":"ina","2B":"ina",3:"ina"},{ci:"Indonesian",wp:"Bahasa Indonesia",1:"id",2:"ind","2T":"ind","2B":"ind",3:"ind"},{ci:"Interlingue",wp:"Interlingue",1:"ie",2:"ile","2T":"ile","2B":"ile",3:"ile"},{ci:"Irish",wp:"Gaeilge",1:"ga",2:"gle","2T":"gle","2B":"gle",3:"gle"},{ci:"Igbo",wp:"Igbo",1:"ig",2:"ibo","2T":"ibo","2B":"ibo",3:"ibo"},{ci:"Inupiaq",wp:"I\xf1upiak",1:"ik",2:"ipk","2T":"ipk","2B":"ipk",3:"ipk"},{ci:"Ido",wp:"Ido",1:"io",2:"ido","2T":"ido","2B":"ido",3:"ido"},{ci:"Icelandic",wp:"\xcdslenska",1:"is",2:"isl","2T":"isl","2B":"ice",3:"isl"},{ci:"Italian",wp:"Italiano",1:"it",2:"ita","2T":"ita","2B":"ita",3:"ita"},{ci:"Inuktitut",wp:"\u1403\u14c4\u1483\u144e\u1450\u1466",1:"iu",2:"iku","2T":"iku","2B":"iku",3:"iku"},{ci:"Japanese",wp:"\u65e5\u672c\u8a9e",1:"ja",2:"jpn","2T":"jpn","2B":"jpn",3:"jpn"},{ci:"Javanese",wp:"Basa Jawa",1:"jv",2:"jav","2T":"jav","2B":"jav",3:"jav"},{ci:"Kalaallisut",wp:"Kalaallisut",1:"kl",2:"kal","2T":"kal","2B":"kal",3:"kal"},{ci:"Kannada",wp:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",1:"kn",2:"kan","2T":"kan","2B":"kan",3:"kan"},{ci:"Kanuri",wp:"Kanuri",1:"kr",2:"kau","2T":"kau","2B":"kau",3:"kau"},{ci:"Kashmiri",wp:"\u0643\u0634\u0645\u064a\u0631\u064a",1:"ks",2:"kas","2T":"kas","2B":"kas",3:"kas"},{ci:"Kazakh",wp:"\u049a\u0430\u0437\u0430\u049b\u0448\u0430",1:"kk",2:"kaz","2T":"kaz","2B":"kaz",3:"kaz"},{ci:"Khmer",wp:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a",1:"km",2:"khm","2T":"khm","2B":"khm",3:"khm"},{ci:"Kikuyu",wp:"G\u0129k\u0169y\u0169",1:"ki",2:"kik","2T":"kik","2B":"kik",3:"kik"},{ci:"Kinyarwanda",wp:"Kinyarwanda",1:"rw",2:"kin","2T":"kin","2B":"kin",3:"kin"},{ci:"Kyrgyz",wp:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430",1:"ky",2:"kir","2T":"kir","2B":"kir",3:"kir"},{ci:"Komi",wp:"\u041a\u043e\u043c\u0438",1:"kv",2:"kom","2T":"kom","2B":"kom",3:"kom"},{ci:"Kongo",wp:"Kongo",1:"kg",2:"kon","2T":"kon","2B":"kon",3:"kon"},{ci:"Korean",wp:"\ud55c\uad6d\uc5b4",1:"ko",2:"kor","2T":"kor","2B":"kor",3:"kor"},{ci:"Kurdish",wp:"Kurd\xee",1:"ku",2:"kur","2T":"kur","2B":"kur",3:"kur"},{ci:"Kwanyama",wp:"Kuanyama",1:"kj",2:"kua","2T":"kua","2B":"kua",3:"kua"},{ci:"Latin",wp:"Latina",1:"la",2:"lat","2T":"lat","2B":"lat",3:"lat"},{ci:"Luxembourgish",wp:"L\xebtzebuergesch",1:"lb",2:"ltz","2T":"ltz","2B":"ltz",3:"ltz"},{ci:"Ganda",wp:"Luganda",1:"lg",2:"lug","2T":"lug","2B":"lug",3:"lug"},{ci:"Limburgish",wp:"Limburgs",1:"li",2:"lim","2T":"lim","2B":"lim",3:"lim"},{ci:"Lingala",wp:"Ling\xe1la",1:"ln",2:"lin","2T":"lin","2B":"lin",3:"lin"},{ci:"Lao",wp:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7",1:"lo",2:"lao","2T":"lao","2B":"lao",3:"lao"},{ci:"Lithuanian",wp:"Lietuvi\u0173",1:"lt",2:"lit","2T":"lit","2B":"lit",3:"lit"},{ci:"Luba-Katanga",wp:"Tshiluba",1:"lu",2:"lub","2T":"lub","2B":"lub",3:"lub"},{ci:"Latvian",wp:"Latvie\u0161u",1:"lv",2:"lav","2T":"lav","2B":"lav",3:"lav"},{ci:"Manx",wp:"Gaelg",1:"gv",2:"glv","2T":"glv","2B":"glv",3:"glv"},{ci:"Macedonian",wp:"\u041c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438",1:"mk",2:"mkd","2T":"mkd","2B":"mac",3:"mkd"},{ci:"Malagasy",wp:"Malagasy",1:"mg",2:"mlg","2T":"mlg","2B":"mlg",3:"mlg"},{ci:"Malay",wp:"Bahasa Melayu",1:"ms",2:"msa","2T":"msa","2B":"may",3:"msa"},{ci:"Malayalam",wp:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02",1:"ml",2:"mal","2T":"mal","2B":"mal",3:"mal"},{ci:"Maltese",wp:"Malti",1:"mt",2:"mlt","2T":"mlt","2B":"mlt",3:"mlt"},{ci:"M\u0101ori",wp:"M\u0101ori",1:"mi",2:"mri","2T":"mri","2B":"mao",3:"mri"},{ci:"Marathi",wp:"\u092e\u0930\u093e\u0920\u0940",1:"mr",2:"mar","2T":"mar","2B":"mar",3:"mar"},{ci:"Marshallese",wp:"Kajin M\u0327aje\u013c",1:"mh",2:"mah","2T":"mah","2B":"mah",3:"mah"},{ci:"Mongolian",wp:"\u041c\u043e\u043d\u0433\u043e\u043b",1:"mn",2:"mon","2T":"mon","2B":"mon",3:"mon"},{ci:"Nauru",wp:"Dorerin Naoero",1:"na",2:"nau","2T":"nau","2B":"nau",3:"nau"},{ci:"Navajo",wp:"Din\xe9 Bizaad",1:"nv",2:"nav","2T":"nav","2B":"nav",3:"nav"},{ci:"Northern Ndebele",wp:"isiNdebele",1:"nd",2:"nde","2T":"nde","2B":"nde",3:"nde"},{ci:"Nepali",wp:"\u0928\u0947\u092a\u093e\u0932\u0940",1:"ne",2:"nep","2T":"nep","2B":"nep",3:"nep"},{ci:"Ndonga",wp:"Owambo",1:"ng",2:"ndo","2T":"ndo","2B":"ndo",3:"ndo"},{ci:"Norwegian Bokm\xe5l",wp:"Norsk (Bokm\xe5l)",1:"nb",2:"nob","2T":"nob","2B":"nob",3:"nob"},{ci:"Norwegian Nynorsk",wp:"Norsk (Nynorsk)",1:"nn",2:"nno","2T":"nno","2B":"nno",3:"nno"},{ci:"Norwegian",wp:"Norsk",1:"no",2:"nor","2T":"nor","2B":"nor",3:"nor"},{ci:"Nuosu",wp:"\ua188\ua320\ua4bf Nuosuhxop",1:"ii",2:"iii","2T":"iii","2B":"iii",3:"iii"},{ci:"Southern Ndebele",wp:"isiNdebele",1:"nr",2:"nbl","2T":"nbl","2B":"nbl",3:"nbl"},{ci:"Occitan",wp:"Occitan",1:"oc",2:"oci","2T":"oci","2B":"oci",3:"oci"},{ci:"Ojibwe",wp:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0",1:"oj",2:"oji","2T":"oji","2B":"oji",3:"oji"},{ci:"Old Church Slavonic",wp:"\u0421\u043b\u043e\u0432\u0463\u0301\u043d\u044c\u0441\u043a\u044a",1:"cu",2:"chu","2T":"chu","2B":"chu",3:"chu"},{ci:"Oromo",wp:"Afaan Oromoo",1:"om",2:"orm","2T":"orm","2B":"orm",3:"orm"},{ci:"Oriya",wp:"\u0b13\u0b21\u0b3f\u0b3c\u0b06",1:"or",2:"ori","2T":"ori","2B":"ori",3:"ori"},{ci:"Ossetian",wp:"\u0418\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433",1:"os",2:"oss","2T":"oss","2B":"oss",3:"oss"},{ci:"Panjabi",wp:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40",1:"pa",2:"pan","2T":"pan","2B":"pan",3:"pan"},{ci:"P\u0101li",wp:"\u092a\u093e\u0934\u093f",1:"pi",2:"pli","2T":"pli","2B":"pli",3:"pli"},{ci:"Persian",wp:"\u0641\u0627\u0631\u0633\u06cc",1:"fa",2:"fas","2T":"fas","2B":"per",3:"fas"},{ci:"Polish",wp:"Polski",1:"pl",2:"pol","2T":"pol","2B":"pol",3:"pol"},{ci:"Pashto",wp:"\u067e\u069a\u062a\u0648",1:"ps",2:"pus","2T":"pus","2B":"pus",3:"pus"},{ci:"Portuguese",wp:"Portugu\xeas",1:"pt",2:"por","2T":"por","2B":"por",3:"por"},{ci:"Quechua",wp:"Runa Simi",1:"qu",2:"que","2T":"que","2B":"que",3:"que"},{ci:"Romansh",wp:"Rumantsch",1:"rm",2:"roh","2T":"roh","2B":"roh",3:"roh"},{ci:"Kirundi",wp:"Kirundi",1:"rn",2:"run","2T":"run","2B":"run",3:"run"},{ci:"Romanian",wp:"Rom\xe2n\u0103",1:"ro",2:"ron","2T":"ron","2B":"rum",3:"ron"},{ci:"Russian",wp:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",1:"ru",2:"rus","2T":"rus","2B":"rus",3:"rus"},{ci:"Sanskrit",wp:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d",1:"sa",2:"san","2T":"san","2B":"san",3:"san"},{ci:"Sardinian",wp:"Sardu",1:"sc",2:"srd","2T":"srd","2B":"srd",3:"srd"},{ci:"Sindhi",wp:"\u0633\u0646\u068c\u064a\u200e",1:"sd",2:"snd","2T":"snd","2B":"snd",3:"snd"},{ci:"Northern Sami",wp:"S\xe1megiella",1:"se",2:"sme","2T":"sme","2B":"sme",3:"sme"},{ci:"Samoan",wp:"Gagana S\u0101moa",1:"sm",2:"smo","2T":"smo","2B":"smo",3:"smo"},{ci:"Sango",wp:"S\xe4ng\xf6",1:"sg",2:"sag","2T":"sag","2B":"sag",3:"sag"},{ci:"Serbian",wp:"\u0421\u0440\u043f\u0441\u043a\u0438",1:"sr",2:"srp","2T":"srp","2B":"srp",3:"srp"},{ci:"Gaelic",wp:"G\xe0idhlig",1:"gd",2:"gla","2T":"gla","2B":"gla",3:"gla"},{ci:"Shona",wp:"ChiShona",1:"sn",2:"sna","2T":"sna","2B":"sna",3:"sna"},{ci:"Sinhala",wp:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",1:"si",2:"sin","2T":"sin","2B":"sin",3:"sin"},{ci:"Slovak",wp:"Sloven\u010dina",1:"sk",2:"slk","2T":"slk","2B":"slo",3:"slk"},{ci:"Slovene",wp:"Sloven\u0161\u010dina",1:"sl",2:"slv","2T":"slv","2B":"slv",3:"slv"},{ci:"Somali",wp:"Soomaaliga",1:"so",2:"som","2T":"som","2B":"som",3:"som"},{ci:"Southern Sotho",wp:"Sesotho",1:"st",2:"sot","2T":"sot","2B":"sot",3:"sot"},{ci:"Spanish",wp:"Espa\xf1ol",1:"es",2:"spa","2T":"spa","2B":"spa",3:"spa"},{ci:"Sundanese",wp:"Basa Sunda",1:"su",2:"sun","2T":"sun","2B":"sun",3:"sun"},{ci:"Swahili",wp:"Kiswahili",1:"sw",2:"swa","2T":"swa","2B":"swa",3:"swa"},{ci:"Swati",wp:"SiSwati",1:"ss",2:"ssw","2T":"ssw","2B":"ssw",3:"ssw"},{ci:"Swedish",wp:"Svenska",1:"sv",2:"swe","2T":"swe","2B":"swe",3:"swe"},{ci:"Tamil",wp:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd",1:"ta",2:"tam","2T":"tam","2B":"tam",3:"tam"},{ci:"Telugu",wp:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41",1:"te",2:"tel","2T":"tel","2B":"tel",3:"tel"},{ci:"Tajik",wp:"\u0422\u043e\u04b7\u0438\u043a\u04e3",1:"tg",2:"tgk","2T":"tgk","2B":"tgk",3:"tgk"},{ci:"Thai",wp:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",1:"th",2:"tha","2T":"tha","2B":"tha",3:"tha"},{ci:"Tigrinya",wp:"\u1275\u130d\u122d\u129b",1:"ti",2:"tir","2T":"tir","2B":"tir",3:"tir"},{ci:"Tibetan Standard",wp:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42",1:"bo",2:"bod","2T":"bod","2B":"tib",3:"bod"},{ci:"Turkmen",wp:"T\xfcrkmen\xe7e",1:"tk",2:"tuk","2T":"tuk","2B":"tuk",3:"tuk"},{ci:"Tagalog",wp:"Tagalog",1:"tl",2:"tgl","2T":"tgl","2B":"tgl",3:"tgl"},{ci:"Tswana",wp:"Setswana",1:"tn",2:"tsn","2T":"tsn","2B":"tsn",3:"tsn"},{ci:"Tonga",wp:"faka Tonga",1:"to",2:"ton","2T":"ton","2B":"ton",3:"ton"},{ci:"Turkish",wp:"T\xfcrk\xe7e",1:"tr",2:"tur","2T":"tur","2B":"tur",3:"tur"},{ci:"Tsonga",wp:"Xitsonga",1:"ts",2:"tso","2T":"tso","2B":"tso",3:"tso"},{ci:"Tatar",wp:"\u0422\u0430\u0442\u0430\u0440\u0447\u0430",1:"tt",2:"tat","2T":"tat","2B":"tat",3:"tat"},{ci:"Twi",wp:"Twi",1:"tw",2:"twi","2T":"twi","2B":"twi",3:"twi"},{ci:"Tahitian",wp:"Reo M\u0101\u2019ohi",1:"ty",2:"tah","2T":"tah","2B":"tah",3:"tah"},{ci:"Uyghur",wp:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u0647",1:"ug",2:"uig","2T":"uig","2B":"uig",3:"uig"},{ci:"Ukrainian",wp:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",1:"uk",2:"ukr","2T":"ukr","2B":"ukr",3:"ukr"},{ci:"Urdu",wp:"\u0627\u0631\u062f\u0648",1:"ur",2:"urd","2T":"urd","2B":"urd",3:"urd"},{ci:"Uzbek",wp:"O\u2018zbek",1:"uz",2:"uzb","2T":"uzb","2B":"uzb",3:"uzb"},{ci:"Venda",wp:"Tshiven\u1e13a",1:"ve",2:"ven","2T":"ven","2B":"ven",3:"ven"},{ci:"Vietnamese",wp:"Ti\u1ebfng Vi\u1ec7t",1:"vi",2:"vie","2T":"vie","2B":"vie",3:"vie"},{ci:"Volap\xfck",wp:"Volap\xfck",1:"vo",2:"vol","2T":"vol","2B":"vol",3:"vol"},{ci:"Walloon",wp:"Walon",1:"wa",2:"wln","2T":"wln","2B":"wln",3:"wln"},{ci:"Welsh",wp:"Cymraeg",1:"cy",2:"cym","2T":"cym","2B":"wel",3:"cym"},{ci:"Wolof",wp:"Wolof",1:"wo",2:"wol","2T":"wol","2B":"wol",3:"wol"},{ci:"Western Frisian",wp:"Frysk",1:"fy",2:"fry","2T":"fry","2B":"fry",3:"fry"},{ci:"Xhosa",wp:"isiXhosa",1:"xh",2:"xho","2T":"xho","2B":"xho",3:"xho"},{ci:"Yiddish",wp:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9",1:"yi",2:"yid","2T":"yid","2B":"yid",3:"yid"},{ci:"Yoruba",wp:"Yor\xf9b\xe1",1:"yo",2:"yor","2T":"yor","2B":"yor",3:"yor"},{ci:"Zhuang",wp:"Cuengh",1:"za",2:"zha","2T":"zha","2B":"zha",3:"zha"},{ci:"Zulu",wp:"isiZulu",1:"zu",2:"zul","2T":"zul","2B":"zul",3:"zul"}],SU=[128,64,32,16,8,4,2,1];function EU(t,n){var i=w.floor(n.bit/8),e=0==((fU(t)?t.Su(i):t[i])&SU[n.bit%8])?0:1;return n.bit+=1,e}function IU(t,n,i){for(var e=0,r=i;r>0;)r-=1,e=2*e+EU(t,n);return e}function RU(t,n){for(var i=0;0===EU(t,n)&&i<32;)i+=1;return IU(t,n,i)+w.pow(2,i)-1}function NU(t,n){var i=RU(t,n);return 1&i?w.floor((i+1)/2):-w.floor(i/2)}function DU(t,n){var i,e=[],r={byte:1};do{e.push(PU(t,n,r)),i=n.Su(r.byte)}while(void 0!==i&&128!==i);return e}function CU(t,n){var i,e=0;do{e+=i=vU(t,n)}while(255===i);return e}function PU(t,n,i){var e=CU(n,i),r=CU(n,i),s=i.byte,u=s+r;return i.byte=u,{G9:t,W9:e,q9:r,X9:s,F9:u,U9:n}}!function(t){t[t.j9=1]="j9",t[t.Y9=2]="Y9",t[t.Q9=3]="Q9",t[t.Z9=4]="Z9",t[t.K9=5]="K9",t[t.J9=6]="J9",t[t.n7=7]="n7",t[t.i7=8]="i7",t[t.e7=9]="e7"}(AU||(AU={}));var BU=[void 0,[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]];function OU(t,n,i){for(var e=8,r=8,s=0;s<i;s+=1){if(0!==r)r=(e+NU(t,n)+256)%256;e=0===r?e:r}}var xU=function(){function t(t){this.r7=void 0,this.s7=[],this.u7=0,this.r7=t}var n=t.prototype;return n.o7=function(){for(var t=this.s7,n=w.max(0,this.u7+t.length-2),i=this.r7,e=i.D_,r=0;n<e;n+=1){var s=i.Su(n);0===s?r+=1:(3===s&&r>=2&&t.push(n),r=0)}this.u7=n-t.length},n.a7=function(t){for(var n=this.s7,i=t,e=0;e<n.length;e++){if(!(n[e]<=i))return i;i+=1}return i},n.Su=function(t){if(!(t>this.r7.D_))return t>this.u7&&this.o7(),this.r7.Su(this.a7(t))},t}();var LU=24;function MU(t){var n=t.LH,i=new wU;return i.E9(Lo(n),0,n.length),function(t){var n,i,e,r,s,u,o=new xU(t),a=0,c=0,h=0,f=0,v=o.Su(1),l={bit:32};if(RU(o,l),100===v||110===v||122===v||144===v){var d=RU(o,l);if(3===d&&(n=EU(o,l)),RU(o,l),RU(o,l),EU(o,l),1===EU(o,l))for(var _=0;_<(3!==d?8:12);_+=1)1===EU(o,l)&&OU(o,l,_<6?16:64)}var g=RU(o,l),m=RU(o,l);if(0===m)RU(o,l);else if(1===m){EU(o,l),NU(o,l),NU(o,l);for(var y=RU(o,l),k=0;k<y;k+=1)NU(o,l)}RU(o,l),EU(o,l);var b=RU(o,l),p=RU(o,l),A=EU(o,l);if(0===A&&EU(o,l),EU(o,l),1===EU(o,l)&&(a=RU(o,l),c=RU(o,l),h=RU(o,l),f=RU(o,l)),1===EU(o,l)){if(1===EU(o,l)){var T=IU(o,l,8);if(255===T)i=IU(o,l,16),e=IU(o,l,16);else{var S=BU[T];S&&(i=S[0],e=S[1])}}1===EU(o,l)&&EU(o,l),1===EU(o,l)&&(IU(o,l,3),EU(o,l),1===EU(o,l)&&(IU(o,l,8),IU(o,l,8),IU(o,l,8))),1===EU(o,l)&&(RU(o,l),RU(o,l)),1===(r=EU(o,l))&&(s=IU(o,l,32),u=IU(o,l,32),EU(o,l))}return{width:w.floor(16*(b+1)-2*a-2*c),height:w.floor((2-A)*(p+1)*16-2*h-2*f),cS:i,hS:e,c7:!!r&&u/(2*s),h7:n,f7:g}}(i).c7}function UU(t){var n=MU(t)||LU;return t.v7/n}function XU(t){return t.us===ib.zp}var FU,HU=65536;function zU(t,n,i,e,r){for(var s,u=function(t,n,i,e){var r=i.v7,s=ht.fromNumber(t.CS||0),u=e.By(Kk.Kk(s,r));return{l7:e.Ok(),d7:e,w7:u,_7:e}}(t,0,i,e),o=Kk.Jk(t.Yg||0,i.v7),a=t.xA||0,c=!(a&HU)&&(a>>24&3)!==FU.SAMPLE_DEPENDS_ON_OTHERS,h=xo(r),f=new zo;f.Du<h.byteLength;){var v=co(h,f);if((31&uo(h,f,1))===AU.J9){var l,d=new wU;d.E9(r,f.Du-1,f.Du+v-1);var w=DU(u.w7,d);(l=s=s||[]).push.apply(l,bU(w))}f.Cu(v-1)}return Nr({},u,{Yg:o.Ok(),g7:o,m7:u.w7.Ok(),y7:u.l7,k7:c,b7:s,p7:!1,A7:!1})}function VU(t){return t.us===ib._p}!function(t){t[t.SAMPLE_DEPENDS_ON_UNKNOWN=0]="SAMPLE_DEPENDS_ON_UNKNOWN",t[t.SAMPLE_DEPENDS_ON_OTHERS=1]="SAMPLE_DEPENDS_ON_OTHERS",t[t.SAMPLE_DEPENDS_ON_NO_OTHER=2]="SAMPLE_DEPENDS_ON_NO_OTHER",t[t.SAMPLE_DEPENDS_ON_RESERVED=3]="SAMPLE_DEPENDS_ON_RESERVED"}(FU||(FU={}));var WU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Ck),GU=function(){function t(t,n){this.aZ=t,this.QQ=n}return t.prototype.Ak=function(t){return this.aZ===t.aZ&&this.QQ===t.QQ},t}(),qU=function(){function t(t,n){this.T7="",this.eU=t,this.S7=n}var n=t.prototype;return n.E7=function(t){this.T7+=t},n.I7=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.E7(i)}},A(t,[{key:"gZ",get:function(){return this.T7}},{key:"vZ",get:function(){return[this]}},{key:"wZ",get:function(){return this.eU}},{key:"yZ",get:function(){return this.S7}},{key:"mZ",get:function(){return new GU(this.yZ.aZ,this.yZ.QQ+this.gZ.length-1)}}]),t}(),jU=function(){function t(){}var n=t.prototype;return n.R7=function(t){return t.np(this)},n.N7=function(t){var n,i,e=this,r=t.map(function(t,n){return t.np(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.D7=function(t,n){return new YU(t,n).C7()},t}(),YU=function(){function t(t,n){this.P7=[],this.B7=null,this.aZ=t,this.O7=n}var n=t.prototype;return n.C7=function(){if(this.x7)return[];for(var t=0;t<this.aZ.length;t++)this.L7(t);return this.M7(),this.P7},n.U7=function(t){this.B7=new qU(mO,new GU(this.O7,t))},n.M7=function(){this.B7&&(this.P7.push(this.B7),this.B7=null)},n.L7=function(t){var n=this.aZ[t];QU(n)?this.B7&&this.M7():(this.B7||this.U7(t),this.B7.E7(n))},A(t,[{key:"x7",get:function(){return this.aZ.every(QU)}}]),t}();function QU(t){return null==t}var ZU=function(){function t(){}return t.X7=function(t,n,i){if(!(n>=i)){var e=zs(t,function(t,n){return new YU(t.map(function(t){return t?t.F7():null}),n).C7()});if(0!==e.length)return new WU(n,i,e)}},t}(),KU="black",JU="white",$U=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),tX=function(){function t(){this.H7=[],this.z7=0,this.V7=void 0;for(var t=0;t<pO;t++)this.H7.push(null);this.V7=!1}var n=t.prototype;return n.W7=function(t){for(var n=0;n<pO;n++)t&&(this.H7[n]=t.H7[n])},n.Ak=function(t){for(var n=0;n<pO;n++)if(this.H7[n]!==t.H7[n])return!1;return!0},n.G7=function(){for(var t=0;t<pO;t++)if(null!==this.H7[t])return!1;return!0},n.q7=function(t){this.z7!==t&&(this.z7=t),this.z7<0?this.z7=0:this.z7>pO&&(this.z7=pO-1)},n.j7=function(t){var n=this.z7+t;this.q7(n)},n.Y7=function(){this.j7(-1),this.H7[this.z7]=null},n.E7=function(t){t>=144&&this.Y7();var n,i=$U[n=t]?String.fromCharCode($U[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.z7>=pO||(32===Number(t)?(this.H7[this.z7]=this.V7?"</i>":"<i>",this.V7=!this.V7):this.H7[this.z7]=t,this.j7(1))},n.Q7=function(t){for(var n=t;n<pO;n++)this.H7[n]=null},n.Ru=function(){this.Q7(0),this.z7=0},n.Z7=function(){this.Q7(this.z7)},n.K7=function(t,n){for(var i=this.H7,e=null,r=0;r<pO;r++){var s=i[r];null===s?e=null:(e||(e={J7:r,ttt:t,Pk:0,lT:1,H7:[[]]},n.push(e)),e.H7[0].push(s),e.Pk++)}},n.np=function(t,n){return t.D7(this.H7,n)},t}();var nX,iX=function(){function t(t,n){this.ntt=void 0,this.itt=void 0,this.ett=void 0,this.rtt=void 0,this.stt=void 0,this.utt=void 0,this.ott=void 0,this.att=void 0,this.ctt=void 0,this.ntt=new Array(eX+1);for(var i=0;i<=eX;i++)this.ntt[i]=new tX;this.itt=1,this.ett=0,this.rtt=t,this.stt=n,this.utt=!1,this.ott=!1,this.att=JU,this.ctt=KU,this.R_()}var n=t.prototype;return n.htt=function(t,n){var i="CC"+(this.rtt<<1|this.stt+1);if(t>=n)return null;var e=(new jU).N7(this.ntt.slice(1));return 0===e.length?null:{Zy:new WU(t,n,e),Ul:i,ftt:this.rtt<<1|this.stt+1}},n.R_=function(){this.ltt(),this.itt=1},n.dtt=function(){return this.itt},n.wtt=function(t){this.itt=t},n.q7=function(t){this.ntt[this.itt].q7(t)},n.j7=function(t){this.ntt[this.itt].j7(t)},n._tt=function(){return this.ett},n.gtt=function(t){this.ett=t},n.E7=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case nX.mtt:i=void 0!==sX[n]?sX[n]:String.fromCharCode(n);break;case nX.ytt:i=uX[n];break;case nX.ktt:this.btt(),i=oX[n];break;case nX.ptt:this.btt(),i=aX[n]}i&&this.ntt[this.itt].addParsedChar(i)}},n.btt=function(){this.ntt[this.itt].Y7()},n.Att=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.ntt[t+e]=this.ntt[n+e];else for(var r=0;r<i;r++)this.ntt[t+r]=this.ntt[n+r]},n.Ttt=function(t,n){for(var i=0;i<=n;i++)this.ntt[t+i]=new tX},n.ltt=function(){this.Ttt(0,eX)},n.Stt=function(){this.itt=this.ett>0?this.ett:0,this.ltt()},n.Ett=function(t){this.utt=t},n.Itt=function(t){this.ott=t},n.Rtt=function(t){this.att=t},n.Ntt=function(t){this.ctt=t},t}(),eX=15;!function(t){t[t.mtt=0]="mtt",t[t.ytt=1]="ytt",t[t.ktt=2]="ktt",t[t.ptt=3]="ptt"}(nX||(nX={}));var rX,sX={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},uX={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},oX={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},aX={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},cX=function(){function t(t,n){this.Hi=void 0,this.Dtt=void 0,this.Ctt=void 0,this.Ptt=void 0,this.Btt=void 0,this.Ott=void 0,this.xtt=void 0,this.Ltt=void 0,this.Hi=rX.kD,this.Dtt=new iX(t,n),this.Ctt=new iX(t,n),this.Ptt=new iX(t,n),this.Btt=this.Ctt,this.Ott=0,this.xtt=void 0,this.Ltt=!1}var n=t.prototype;return n.R_=function(){this.Ltt=!0,this.Ott=0,this.Hi=rX.kD,this.Btt=this.Ctt,this.xtt=void 0,this.Ctt.R_(),this.Ptt.R_(),this.Dtt.R_()},n.Mtt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Utt=function(t,n){var i=this.Mtt(t,n),e=(30&n)>>1,r=JU,s=!1;e<7?r=lX[e]:7===e&&(s=!0);var u=1==(1&n);if(this.Hi!==rX.Kn){var o=this.Btt;if(this.Hi===rX.Xtt&&i!==o.dtt()){var a=1+o.dtt()-o._tt(),c=1+i-o._tt();o.Att(c,a,o._tt()),o.Ttt(0,c-1),o.Ttt(i+1,eX-i)}o.wtt(i);var h=kO[t<<1&14|n>>5&1]-1;if(!(h<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{YQ:yO[i].YQ,jQ:yO[i].jQ,QQ:yO[i].QQ,aZ:t}}(h,n);o.q7(f.QQ),this.Btt.Ett(u),this.Btt.Itt(s),this.Btt.Rtt(r),this.Btt.Ntt(KU)}}},n.Ftt=function(t,n){this.Btt.Ett(!1),this.Btt.Itt(!1),this.Btt.Rtt(JU);var i=this.Htt(t,nX.mtt," ".charCodeAt(0)),e=JU,r=!1,s=1==(1&n);return"white_italics"===(e=lX[(14&n)>>1])&&(e="white",r=!0),this.Btt.Ett(s),this.Btt.Itt(r),this.Btt.Rtt(e),i},n.Htt=function(t,n,i){if(this.Btt.E7(n,i),this.Hi===rX.ztt||this.Hi===rX.Xtt){var e=this.Vtt(this.Btt,this.Ott,t);return this.Ott=t,e}return null},n.Vtt=function(t,n,i){return this.Ltt?null:t.htt(n,i)},n.Wtt=function(t,n){var i=KU;0==(7&t)&&(i=vX[(14&n)>>1]),this.Btt.Ntt(i)},n.Gtt=function(t){var n=hX,i=t.qtt,e=t.jtt,r=null;switch(i){case n.RCL:this.Ytt();break;case n.BS:this.Qtt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Ztt(2,e);break;case n.RU3:r=this.Ztt(3,e);break;case n.RU4:r=this.Ztt(4,e);break;case n.FON:r=this.Ktt(e);break;case n.RDC:this.Jtt(e);break;case n.TR:this.$tt();break;case n.RTD:this.tnt();break;case n.EDM:r=this.nnt(e);break;case n.CR:r=this.int(e);break;case n.ENM:this.ent();break;case n.EOC:r=this.rnt(e)}return r},n.int=function(t){var n=this.Btt;if(this.Hi!==rX.Xtt)return null;var i=this.Vtt(n,this.Ott,t),e=n.dtt()-n._tt()+1;return n.Att(e-1,e,n._tt()),n.Ttt(0,e-1),n.Ttt(n.dtt(),eX-n.dtt()),this.Ott=t,i},n.Ztt=function(t,n){this.Btt=this.Ctt;var i=this.Btt,e=null;return this.Hi!==rX.Xtt&&this.Hi!==rX.Kn&&(e=this.Vtt(i,this.Ott,n),this.Ctt.Stt(),this.Ptt.Stt(),this.Ltt=!1,i.wtt(eX)),this.Hi=rX.Xtt,i.gtt(t),e},n.Ktt=function(t){return this.Htt(t,nX.mtt," ".charCodeAt(0))},n.nnt=function(t){var n=this.Ctt,i=null;return this.Hi!==rX.Kn&&(i=this.Vtt(n,this.Ott,t)),n.ltt(),this.Ltt=!1,i},n.Jtt=function(t){this.Hi=rX.ztt,this.Btt=this.Ctt,this.Btt.gtt(0),this.Ott=t},n.ent=function(){this.Ptt.ltt()},n.rnt=function(t){var n=null;this.Hi!==rX.Kn&&(n=this.Vtt(this.Ctt,this.Ott,t));var i=this.Ptt;return this.Ptt=this.Ctt,this.Ctt=i,this.Ytt(),this.Ott=t,n},n.Ytt=function(){this.Hi=rX.snt,this.Btt=this.Ptt,this.Btt.gtt(0)},n.Qtt=function(){this.Btt.btt()},n.$tt=function(){this.Dtt.R_(),this.Ltt=!1,this.tnt()},n.tnt=function(){this.Btt=this.Dtt,this.Hi=rX.Kn},n.unt=function(t,n,i){return this.Btt.E7(nX.mtt,n),this.Htt(t,nX.mtt,i)},n.ont=function(t,n,i){var e=1&n?nX.ptt:nX.ktt;return this.Htt(t,e,i)},n.ant=function(t){var n=t.cnt,i=t.qtt,e=t.jtt;if(this.xtt===(n<<8|i))return this.xtt=void 0,null;if(this.xtt=n<<8|i,this.hnt(n,i))this.Utt(n,i);else{if(this.fnt(n,i))return this.Ftt(e,i);if(this.vnt(n,i))this.Wtt(n,i);else{if(this.lnt(n,i))return this.Htt(e,nX.ytt,i);if(this.dnt(n,i))return this.ont(e,n,i);if(this.wnt(n,i))return this.Gtt(t);this.isTabOffset(n)&&this.Btt.j7(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.wnt=function(t,n){return 20==(246&t)&&32==(240&n)},n.hnt=function(t,n){return 16==(240&t)&&64==(192&n)},n.fnt=function(t,n){return 17==(247&t)&&32==(240&n)},n.vnt=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.lnt=function(t,n){return 17==(247&t)&&48==(240&n)},n.dnt=function(t,n){return 18==(246&t)&&32==(224&n)},t._nt=function(t){return 16==(112&t)},t}(),hX={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.kD=0]="kD",t[t.snt=1]="snt",t[t.ztt=2]="ztt",t[t.Xtt=3]="Xtt",t[t.Kn=4]="Kn"}(rX||(rX={}));var fX,vX=["black","green","blue","cyan","red","yellow","magenta","black"],lX=["white","green","blue","cyan","red","yellow","magenta","white_italics"],dX=function(){function t(t,n,i,e,r){this.gnt=void 0,this.utt=void 0,this.ott=void 0,this.ctt=void 0,this.att=void 0,this.gnt=t,this.utt=n,this.ott=i,this.ctt=e,this.att=r}var n=t.prototype;return n.F7=function(){return this.gnt},n.mnt=function(){return this.utt},n.ynt=function(){return this.ott},n.knt=function(){return this.ctt},n.bnt=function(){return this.att},t}(),wX=function(){function t(t){this.pnt=void 0,this.RD=void 0,this.Ant=void 0,this.Tnt=void 0,this.Snt=void 0,this.Ent=void 0,this.Int=void 0,this.Rnt=void 0,this.Nnt=void 0,this.Dnt=void 0,this.dk=void 0,this.itt=void 0,this.Cnt=void 0,this.ott=void 0,this.utt=void 0,this.att=void 0,this.ctt=void 0,this.pnt=t,this.RD=!1,this.Ant=!1,this.Tnt=0,this.Snt=0,this.Ent=0,this.Int=0,this.Rnt=0,this.Nnt=fX.Pnt,this.Dnt=[],this.dk=0,this.itt=0,this.Cnt=0,this.ott=!1,this.utt=!1,this.att=JU,this.ctt=KU,this.Bnt()}var n=t.prototype;return n.Ont=function(t,n,i,e,r,s,u){this.RD=t,this.Snt=n,this.Tnt=i,this.Ent=e,this.Ant=r,this.Int=s,this.Rnt=u},n.Bnt=function(){this.Dnt=[];for(var t=0;t<gX;t++)this.Dnt.push(this.xnt())},n.xnt=function(){for(var t=[],n=0;n<_X;n++)t.push(null);return t},n.Lnt=function(t){this.Mnt()&&(this.Dnt[this.itt][this.Cnt]=new dX(t,this.utt,this.ott,this.ctt,this.att),this.Cnt++)},n.Unt=function(){this.Mnt()&&(this.Cnt<=0&&this.itt<=0||(this.Cnt<=0?(this.Cnt=this.Rnt-1,this.itt--):this.Cnt--,this.Dnt[this.itt][this.Cnt]=null))},n.Mnt=function(){var t=this.itt<this.Int&&this.itt>=0,n=this.Cnt<this.Rnt&&this.Cnt>=0;return t&&n},n.Xnt=function(){return this.RD},n.Fnt=function(t){for(var n=0,i=t;i<gX;i++,n++)this.Dnt[n]=this.Dnt[i];for(var e=0;e<t;e++,n++)this.Dnt[n]=this.xnt()},n.Hnt=function(){if(this.itt+1>=this.Int)return this.Fnt(1),void(this.Cnt=0);this.itt++,this.Cnt=0},n.znt=function(){this.Dnt[this.itt]=this.xnt(),this.Cnt=0},n.htt=function(t,n){if(this.dk>=t)return null;var i=ZU.X7(this.Dnt,this.dk,t);return i?(this.Vnt(t),{Zy:i,Ul:"svc"+n,ftt:n}):null},n.Wnt=function(t,n){this.itt=t,this.Cnt=n},n.Gnt=function(t){this.ctt=t},n.qnt=function(t){this.att=t},n.jnt=function(t){this.utt=t},n.Ynt=function(t){this.ott=t},n.Qnt=function(){this.itt=0,this.Cnt=0,this.utt=!1,this.ott=!1,this.att=JU,this.ctt=KU},n.Znt=function(t){this.Nnt=t},n.Knt=function(){this.RD=!0},n.Km=function(){this.RD=!1},n.Jnt=function(){this.RD=!this.RD},n.Vnt=function(t){this.dk=t},t}();!function(t){t[t.$nt=0]="$nt",t[t.tit=1]="tit",t[t.Pnt=2]="Pnt",t[t.nit=3]="nit"}(fX||(fX={}));var _X=42,gX=15,mX=function(){function t(t){this.iit=void 0,this.eit=void 0,this.rit=void 0,this.iit=t,this.eit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.rit=void 0}var n=t.prototype;return n.sit=function(t){var n=t.uit(),i=n._i,e=n.jtt;i===AX&&(i=i<<16|t.uit()._i);return i>=0&&i<=31?this.oit(i,e):i>=128&&i<=159?this.ait(t,i,e):(i>=4096&&i<=4127?this.cit(t,255&i):i>=4224&&i<=4255?this.hit(t,255&i):i>=32&&i<=127?this.fit(i):i>=160&&i<=255?this.vit(i):i>=4128&&i<=4223?this.dit(255&i):i>=4256&&i<=4351&&this.wit(255&i),null)},n.fit=function(t){this.rit&&(127!==t?this.rit.Lnt(String.fromCharCode(t)):this.rit.Lnt("\u266a"))},n.vit=function(t){this.rit&&this.rit.Lnt(String.fromCharCode(t))},n.dit=function(t){if(this.rit)if(void 0!==TX[t]){var n=TX[t];this.rit.Lnt(n)}else this.rit.Lnt("_")},n.wit=function(t){this.rit&&(160===t?this.rit.Lnt("[CC]"):this.rit.Lnt("_"))},n.oit=function(t,n){if(!this.rit)return null;var i=this.rit,e=null;switch(t){case yX:i.Unt();break;case bX:i.Xnt()&&(e=i.htt(n,this.iit)),i.Hnt();break;case pX:i.Xnt()&&(e=i.htt(n,this.iit)),i.znt();break;case kX:i.Xnt()&&(e=i.htt(n,this.iit)),i.Bnt(),i.Wnt(0,0)}return e},n.ait=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this._it(e)}else{if(136===n){var r=t.uit()._i;return this.git(r,i)}if(137===n){var s=t.uit()._i;this.mit(s,i)}else{if(138===n){var u=t.uit()._i;return this.yit(u,i)}if(139===n){var o=t.uit()._i;return this.kit(o,i)}if(140===n){var a=t.uit()._i;return this.pit(a,i)}if(143===n)return this.R_(i);if(144===n)this.Ait(t);else if(145===n)this.Tit(t);else if(146===n)this.Wnt(t);else if(151===n)this.Sit(t);else if(n>=152&&n<=159){var c=(15&n)-8;this.Ont(t,c,i)}}}return null},n.cit=function(t,n){n>=8&&n<=15?t.mA(1):n>=16&&n<=23?t.mA(2):n>=24&&n<=31&&t.mA(3)},n.hit=function(t,n){n>=128&&n<=135?t.mA(4):n>=136&&n<=143&&t.mA(5)},n._it=function(t){this.eit[t]&&(this.rit=this.eit[t])},n.Eit=Rr.mark(function t(n){var i;return Rr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.eit[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.git=function(t,n){for(var i=null,e=0,r=this.Eit(t);e<r.length;e++){var s=r[e],u=this.eit[s];u.Xnt()&&(i=u.htt(n,this.iit)),u.Bnt()}return i},n.mit=function(t,n){for(var i=0,e=this.Eit(t);i<e.length;i++){var r=e[i],s=this.eit[r];s.Xnt()||s.Vnt(n),s.Knt()}},n.yit=function(t,n){for(var i=null,e=0,r=this.Eit(t);e<r.length;e++){var s=r[e],u=this.eit[s];u.Xnt()&&(i=u.htt(n,this.iit)),u.Km()}return i},n.kit=function(t,n){for(var i=null,e=0,r=this.Eit(t);e<r.length;e++){var s=r[e],u=this.eit[s];u.Xnt()?i=u.htt(n,this.iit):u.Vnt(n),u.Jnt()}return i},n.pit=function(t,n){for(var i=null,e=0,r=this.Eit(t);e<r.length;e++){var s=r[e],u=this.eit[s];u.Xnt()&&(i=u.htt(n,this.iit)),this.eit[s]=void 0}return i},n.R_=function(t){var n=this.pit(255,t);return this.Ru(),n},n.Ru=function(){this.rit=void 0,this.eit=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Ait=function(t){t.mA(1);var n=t.uit()._i;if(this.rit){var i=(128&n)>0,e=(64&n)>0;this.rit.Ynt(i),this.rit.jnt(e)}},n.Tit=function(t){var n=t.uit()._i,i=t.uit()._i;if(t.mA(1),this.rit){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,a=(48&i)>>4,c=this.Iit(s,r,e),h=this.Iit(a,o,u);this.rit.qnt(c),this.rit.Gnt(h)}},n.Wnt=function(t){var n=t.uit()._i,i=t.uit()._i;if(this.rit){var e=15&n,r=63&i;this.rit.Wnt(e,r)}},n.Sit=function(t){t.mA(1),t.mA(1);var n=t.uit()._i;if(t.mA(1),this.rit){var i=3&n;this.rit.Znt(i)}},n.Ont=function(t,n,i){var e=void 0!==this.eit[n];if(!e){var r=new wX(n);r.Vnt(i),this.eit[n]=r}var s=t.uit()._i,u=t.uit()._i,o=t.uit()._i,a=t.uit()._i,c=t.uit()._i,h=t.uit()._i,f=(32&s)>0,v=127&u,l=(128&u)>0,d=o,w=1+(15&a),_=(240&a)>>4,g=1+(63&c);e&&0===(7&h)||this.eit[n].Qnt(),this.eit[n].Ont(f,v,d,_,l,w,g),this.rit=this.eit[n]},n.Iit=function(t,n,i){var e={0:0,1:0,2:1,3:1};return SX[e[t]<<2|e[n]<<1|e[i]]},t}(),yX=8,kX=12,bX=13,pX=14,AX=16,TX={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},SX=["black","blue","green","cyan","red","magenta","yellow","white"],EX=function(){function t(){this.Rit=void 0,this.Nit=void 0,this.Dit=void 0,this.Rit=[],this.Nit=null,this.Dit=0}var n=t.prototype;return n.Cit=function(t){if(t.us===cU.p9){var n=63&t._i;return this.Dit=2*n-1,void(this.Nit=[])}if(this.Nit&&(this.Dit>0&&(this.Nit.push(t),this.Dit--),0===this.Dit)){var i=new IX(this.Nit);this.Rit.push(i),this.Nit=null,this.Dit=0}},n.Pit=function(){return this.Rit},n.Bit=function(){this.Rit=[]},n.Ru=function(){this.Rit=[],this.Nit=[],this.Dit=0},t}(),IX=function(){function t(t){this.Oit=void 0,this.xit=void 0,this.Oit=0,this.xit=t}var i=t.prototype;return i.Lit=function(){return this.Oit<this.xit.length},i.Mit=function(){return this.Oit},i.uit=function(){if(!this.Lit())throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.xit[this.Oit++]},i.mA=function(t){if(this.Oit+t>this.xit.length)throw new tf(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Oit+=t},t}(),RX=function(){function t(){this.Uit=void 0,this.Xit=void 0,this.Fit=void 0,this.Hit=void 0,this.zit=void 0,this.Vit=void 0,this.Wit=void 0,this.Git=void 0,this.qit=!1,this.Uit=[],this.Xit=[],this.Fit=new EX,this.Hit=0,this.zit=Br({CC1:new cX(0,0),CC2:new cX(0,1),CC3:new cX(1,0),CC4:new cX(1,1)}),this.Vit=0,this.Wit=0,this.Git=Pr(),this.R_()}var i=t.prototype;return i.Ru=function(){this.Hit=0,this.Uit=[],this.Xit=[],this.Fit.Ru(),this.R_(),this.Git.forEach(function(t){t.Ru()})},i.R_=function(){this.Vit=0,this.Wit=0,this.zit.forEach(function(t){t.R_()})},i.E6=function(t,n){if(t.x9){var i=t.L9,e=t.M9,r=t.us;r===cU.y9||r===cU.k9?this.Uit.push({jtt:n,us:r,cnt:i,qtt:e,jit:this.Uit.length}):this.qit&&(this.Xit.push({jtt:n,us:r,_i:i,jit:this.Xit.length}),this.Xit.push({jtt:n,us:cU.b9,_i:e,jit:this.Xit.length}))}},i.sB=function(){var t=[];Es(this.Uit,function(t,n){return t.jtt-n.jtt||t.jit-n.jit}),Es(this.Xit,function(t,n){return t.jtt-n.jtt||t.jit-n.jit});for(var n=0,i=this.Uit;n<i.length;n++){var e=i[n],r=this.Yit(e);r&&t.push(r)}for(var s=0,u=this.Xit;s<u.length;s++){var o=u[s];this.Fit.Cit(o)}for(var a=this.Fit.Pit(),c=0;c<a.length;c++){var h=a[c],f=this.Qit(h);t.push.apply(t,f)}return this.Fit.Bit(),this.Uit=[],this.Xit=[],t},i.Yit=function(t){var n=t.us;if(cX._nt(t.cnt)){var i=t.cnt>>3&1;0===n?this.Vit=i:this.Wit=i}var e="CC"+(n<<1|(n?this.Wit:this.Vit)+1),r=this.zit.get(e);return 255===t.cnt&&255===t.qtt||!t.cnt&&!t.qtt||!this.Zit(t.cnt)||!this.Zit(t.qtt)?(++this.Hit>=45&&this.R_(),null):(this.Hit=0,t.cnt&=127,t.qtt&=127,t.cnt||t.qtt?cX._nt(t.cnt)?r.ant(t):r.unt(t.jtt,t.cnt,t.qtt):null)},i.Qit=function(t){var i=[];try{for(;t.Lit();){var e=t.uit()._i,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.uit()._i;if(0!==r){if(!this.Git.has(r)){var u=new mX(r);this.Git.set(r,u)}for(var o=this.Git.get(r),a=t.Mit();t.Mit()-a<s;){var c=o.sit(t);c&&i.push(c)}}}}catch(t){if(!(t instanceof tf&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Zit=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),NX=function(t){function n(n,i){var e;return(e=t.call(this,"Kit")||this).ftt=n,e.Zy=i,e}return S(n,t),n}(wu),DX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Jit=function(t,n){for(var i=0;i<t.length;i++){var e=t[i];this.$it(e,e.ZQ.Ok()+n)}this.sB()},n}(function(t){function n(){var n;return(n=t.call(this)||this).tet=void 0,n.tet=new RX,n}S(n,t);var i=n.prototype;return i.$it=function(t,n){this.tet.E6(t,n)},i.sB=function(){for(var t=this.tet.sB(),n=0;n<t.length;n++){var i=t[n];this.js(new NX(i.ftt,i.Zy))}},i.R_=function(){this.tet.Ru()},i.Od=function(){this.Ks(),this.tet.Ru()},n}(lu)),CX=function(t){function n(n){var i;return(i=t.call(this)||this).net=void 0,i.iet=void 0,i.eet=NaN,i.ret=NaN,i.uet=void 0,i.kE=void 0,i.oet=function(t){i.aet({cet:t.ftt,het:""}).EE(t.Zy)},i.kE=n,i.uet=Pr(),i.net=new DX,i.net.Ys("Kit",i.oet),i}S(n,t);var i=n.prototype;return i.fet=function(t){return this.uet.get(t)},i.aet=function(t){var n=this.uet.get(t.cet);return n||(n=this.vet(t),this.uet.set(t.cet,n)),n},i.vet=function(t){var n,i=function(t){if(t!==pU)for(var n=t.toLowerCase(),i=0;i<TU.length;i++){var e=TU[i];if(e[1]===n||e[2]===n||e["2T"]===n||e["2B"]===n||e[3]===n)return e}}(t.het),e=i?i.ci:"";t.let&&(e="easy "+e),n=t.V_?"CC "+t.V_:e?"CC "+e:"CC"+t.cet;var r=this.kE.TE(Ap.oE,n,n,e,!1,lk.CEA608);return this.S_(r),r},i.M8=function(t){var n=Jb.LA(xo(t));this.iet=function(t){for(var n=0;n<t.KA.length;n++){var i=t.KA[n],e={hT:(c=t.KA[n]).NA.hT,v7:c.uT.NA.Pb},r=i.uT.mT.bT.AT.ST,s=Os(r,function(t){return t.us===ib.Np});if(!s){var u=Os(r.filter(function(t){return t.us===ib.Hp}),function(t){var n;return(null==(n=t.rS)?void 0:n.us)===ib.Np});u&&(s=u.rS)}if(s){var o=XD(xo(s.KT.Xi),new zo),a=s.$T;return Nr({},e,{hT:i.NA.hT,KT:Ho(s.KT.Xi),Pk:s.Pk,lT:s.lT,hS:a&&a.hS,cS:a&&a.cS,det:o.PH,wet:o.BH,L8:o.OH,LH:o.LH[0],MH:o.MH[0]})}}var c}(n.filter(VU)[0])},i.a4=function(t,n,i,e){if(this.iet&&(m(this.eet)||!Mt(this.eet,n,1e-5))){m(this.ret)||Mt(n,this.ret,1e-5)||this.net.R_();var r=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.eE.b7&&n.push.apply(n,e.eE.b7),delete e.eE.b7}for(var r=0;r<n.length;r+=1)n[r].yS=r;return n.sort(bO)}(function(t,n,i,e,r){for(var s=[],u=n.filter(XU),o=e(i),a=0;a<u.length;a++){var c,h=u[a],f=Os(h.KA,function(t){return t.NA.hT===i.hT});if(f)for(var v=f.NA.lS||0,l=f.NA.dS||0,d=f.TS?f.TS.TS:ht.ZERO,w=h.mS+(null!=(c=f.NA.SS)?c:ht.ZERO).toNumber(),_=0,g=f.AS;_<g.length;_++)for(var m=g[_],y=w+(m.mS||0),k=0,b=m.DS;k<b.length;k++){var p=b[k],A=p.Nu||l,T=new wU;T.E9(t,y,y+A);var S=Kk.Kk(d,i.v7);T.eE=r(p,h,i,S,Xo(t,y,y+A)),s.push(T),y+=A,d=d.add(p.Yg||v||o)}}return s}(t,Jb.LA(xo(t)),this.iet,UU,zU));this.net.Jit(r,e),this.eet=n,this.ret=i}},i.Od=function(){var n=this;return this.net.Js("Kit",this.oet),this.net.Od(),this.uet.forEach(function(t){return n.E_(t)}),this.uet.clear(),this.iet=void 0,this.eet=NaN,this.ret=NaN,t.prototype.Od.call(this)},n}(Vp);function PX(t){if(t.us===jO.pJ&&void 0!==t.p$){var n=t.p$.match(/^CC([1-4])$/);if(n)return Number(n[1]);var i=t.p$.match(/^SERVICE([\d+])$/);return i?Number(i[1]):void 0}}var BX="LLHLSPlayer",OX=[uy.Hg,uy.zg,uy.Vg,uy.Wg,uy.d_],xX=[bf.yf,bf.If,bf.Nf,bf.hf],LX=50,MX=3e4,UX=function(t){function e(e,r,s,u,o,a){var c;return(c=t.call(this)||this).rN=void 0,c.bE=void 0,c.lN=void 0,c.fN=void 0,c._et=void 0,c.met=void 0,c.yet=void 0,c.ket=void 0,c.Nm=void 0,c.Dm=void 0,c.Cm=void 0,c.bet=Pr(),c.pet=void 0,c.Aet=void 0,c.hN=void 0,c.B8=void 0,c.O8=void 0,c.Tet=!1,c.pE=new Zs,c.Eet=void 0,c.i2=void 0,c.sN=void 0,c.I6=void 0,c.Iet=void 0,c.Ret=new Zs,c.Net=void 0,c.n2=void 0,c.Det=void 0,c.Cet=void 0,c.Pet=void 0,c.Bet=void 0,c.Oet=void 0,c.xet=[],c.tW=void 0,c.nW=void 0,c.Let=void 0,c.Met=void 0,c.Uet=void 0,c.D5=void 0,c.i8=void 0,c.Xet=new Zs,c.Fet=void 0,c.Zq=new Zs,c.Qq=void 0,c.Het=-1,c.zet=void 0,c.Vet=void 0,c.Wet=void 0,c.Get=void 0,c.qet=void 0,c.jet=void 0,c.Yet=!0,c.Qet=0,c.Zet=!1,c.EC=1,c.aN=YS.kD,c.uN=void 0,c.oN=void 0,c.iW=iE.mC(),c.Ket=[],c.Jet=void 0,c.$et=!1,c.trt=void 0,c.nrt=void 0,c.irt=!1,c.ert=void 0,c.rrt=void 0,c.dN=new XS,c.handleContentProtectionErrorEvent=function(t){c.uN=Zy(t.errorObject),c.oN=t.errorObject,c.qs(t)},c.handleBufferingErrorEvent=function(t){c._N(new tf(n.ErrorCode.MEDIA_LOAD_ERROR,t.wu.message,t.wu))},c.urt=function(){c.ort();var t=c.Yg;t!==c.trt&&(c.trt=t,c.js(new dy(c.trt)))},c.art=function(){c.Qg&&c.js(new gy(c.jg))},c.crt=function(){c.js(new ay(c.jg))},c.hrt=function(){c.js(new cy(c.jg))},c.yN=function(){void 0!==c.rrt&&i.qn(c.rrt),c.js(new cA(c.jg))},c.frt=function(){c.js(new wD(c.jg))},c.xE=function(){c.js(new Ty(c.jg,c.og))},c.MG=function(){var t=c.R0;Fs(c.Ket,t)&&Fs(t,c.Ket)||(c.js(new lM),c.Ket=t),c.js(new _y(c.jg,c.wy))},c.vrt=function(){ou(c.U1())},c.uW=function(){c.js(new yy(c.jg))},c.mN=function(){c.js(new ky(c.jg))},c.lrt=function(){c.js(new by(c.jg,c.um))},c.drt=function(){c.rN.tm?c.js(new aA(c.jg)):(c.rrt=i.jn(function(){c.ert=void 0,ou(c.wrt())},sU),c.js(new aA(c.jg)))},c._rt=function(t){Js(t)||Np(t)||Dp(t)||(c.grt(),ou(c.mrt()),c.js(new Jx(t)))},c.u2=function(){c.ort()},c.yrt=function(t){ou(c.krt(t.A0))},c.brt=J(function(t){var n=[c.I6,c.Fet,c.Qq].filter(X);c.Zq=new Zs,c.Qq=c.sY(n,t,c.Zq.zs).catch(c._rt)},LX),c.prt=function(t){if(!Js(t)){var i=t instanceof tf?t:new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.message,t);c._N(i)}},c.onTextTrackChange=function(t){if(c.Det){var n=t.n_,i=Os(c.Det._3,function(t){return n===c.bet.get(t.H_)});i&&(n.J_===Am.Y_||n.J_===Am.Q_?(ou(c.Art(i)),c.bet.forEach(function(t){t!==n&&(t.J_=Am.j_)})):c.Bet&&c.Bet===i&&ou(c.Trt(c.Cet,c.Pet,void 0)))}},c.retryOfflineRenditionsCallback=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(c.Srt===t||c.C0===t||c.B0===t){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,Rr.awrap(c.n2.q3(t,n));case 4:t.u0=-1/0;case 5:case"end":return i.stop()}},null,null,null,Ve)},c.Ert=function(){c.Irt()},c.Rrt=function(){c.Nrt()},c.BC=s,c.L4=u,c.Drt=o,c.M3=a,c.rN=e,c.bE=new Fx(r,c.BC),c.lN=new Kx(c.BC.nL),c.yet=new $x(c.rN),c.ket=new uL(c.BC),c.Nm=new Jy,c.Dm=new Jy,c.pet=new Xx(c.Nm,c.Dm),c.Aet=new Tp,c.hN=new Gp(c.rN,c.bE),c.B8=new hU(c.rN),c.O8=new CX(c.rN),c.Cm=new LS([c.Aet,c.hN.KA,c.B8.KA,c.O8.KA]),c.fN=new OS(c.bE),c.rN.PN=c.fN,c._et=new FX(Zt(c),c.rN),c.met=new fA(c._et,!0),c.Crt(),c}S(e,t);var r=e.prototype;return r.Prt=function(t){return Vs(t,function(t){return t.XR})},r.wrt=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.Brt());case 2:if(void 0!==(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Rr.awrap(this.Ort(t));case 7:if((n=e.sent).length>0&&(t=n),void 0===(i=this.Prt(t))){e.next=14;break}return e.next=13,Rr.awrap(this.N0(i,!0));case 13:this.lN.P1(i.XR);case 14:case"end":return e.stop()}},null,this,null,Ve)},r.ort=function(){var t=HX(this.xrt());0!==t.D_&&(this.sN&&this.sN.UX&&this.Lrt&&(t=new iE([t.xD(0),this.sN.Yg])),this.iW=t,this.B8.yE(t.xD(0)),this.O8.yE(t.xD(0)))},r.xrt=function(){return this.Cet&&this.Pet&&bx(this.Cet,this.Pet)?[this.Pet]:[this.Cet,this.Pet].filter(X)},r.Wm=function(){return!1},r.$m=function(){return sE},r.Km=function(){dx.mT(BX,"Hiding the player."),this.rN.Km()},r.Fm=function(){dx.mT(BX,"Pausing the player."),this.rN.Fm()},r.Xm=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.rN.Xm(),this.Tet){n.next=4;break}return n.next=4,Rr.awrap(this.zc());case 4:return n.next=6,Rr.awrap(t);case 6:case"end":return n.stop()}},null,this,null,Ve)},r.Mrt=function(){this.uN=void 0,this.oN=void 0},r._N=function(t){this.uN||(ou(this.R_()),this.uN=Zy(t),this.oN=t,this.js(new Sy(t)))},r.Zm=function(){dx.mT(BX,"Showing the player."),this.rN.Zm()},r.Gm=function(){throw new v("Not implemented")},r.qm=function(){throw new v("Not implemented")},r.vy=function(){},r.Vm=function(t,n,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(dx.mT(BX,"Setting the player source to "+t.src+"."),this.Mrt(),!this.Eet||ty(this.Eet)){r.next=6;break}return r.next=5,Rr.awrap(this.R_());case 5:$s(e);case 6:if(t.src&&!ty(t)){r.next=8;break}return r.abrupt("return");case 8:this.fN.zR(t.contentProtection),this.i2=t,this.Ys(qO.kJ,this.handleBufferingErrorEvent),this.n2=new cM(this.bE,this.M3,i.Pr(t.src)),this.n2.Ys("c2",this.u2),this.n2.Ys("C3",this.yrt),this.Net=new fL(t,this.n2,this.rN),this.Cm.KR(this.Net.Mm),this.i8=this.Drt.gK(),this.D5=new eU,n.textTracks&&this.XN(n.textTracks),Zp(this.Cm),this.Urt();case 21:case"end":return r.stop()}},null,this,null,Ve)},r.zc=function(){return this.I6?this.I6:(this.I6=this.Cw(this.pE.zs).catch(this.prt),this.I6)},r.Cw=function(t){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(dx.mT(BX,"Loading the player."),this.n2.J3){h.next=13;break}return h.prev=2,h.next=5,Rr.awrap(this.n2.U3(t));case 5:this.Xrt(),h.next=13;break;case 8:throw h.prev=8,h.t0=h.catch(2),tu(h.t0),this.Ey=!1,new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"The provided HLS document could not be loaded - "+h.t0.message,h.t0);case 13:if(this.Oet=this.n2.X0.F0,this.Oet.length){h.next=16;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant streams.");case 16:return h.next=18,Rr.awrap(this.Frt(this.Oet));case 18:if(0!==(e=h.sent).length){h.next=21;break}throw new tf(n.ErrorCode.MANIFEST_LOAD_ERROR,"LLHLSPlayer - Could not select initial variant stream: the HLS stream contains no variant stream with a supported codec.");case 21:return h.next=23,Rr.awrap(this.Ort(e));case 23:(r=h.sent).length>0&&(e=r),dx.mT(BX,"Selecting initial active variant stream."),s=VX(e,null==(i=this.i2)?void 0:i.abr,this.BC),(u=GX(s.H0))&&dx.mT(BX,"Detected initial audio rendition."),(o=GX(s.z0))&&dx.mT(BX,"Detected initial video rendition."),(a=zX(s._3))&&dx.mT(BX,"Detected initial subtitle rendition."),a||(c=zX(s.g3))&&dx.mT(BX,"Detected initial closed caption rendition."),this.Hrt(s),this.pet.U0(this),this.zrt(s,c),this.Trt(u,o,a).catch(Z),this.Tet=!0;case 39:case"end":return h.stop()}},null,this,[[2,8]],Ve)},r.Xrt=function(){this.irt||(this.irt=!0,this._et.Vrt())},r.XN=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.src&&this.hN.AE(i)}},r.zrt=function(t,n){for(var i=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],r=PX(e);void 0!==r&&n.push({cet:r,het:e.W_||"",V_:e.ci})}return n}(t.g3),e=0;e<i.length;e++){var r=i[e];this.O8.aet(r)}if(void 0!==n){var s=PX(n);this.O8.fet(s).J_=Am.Q_}},r.Urt=function(){this.Ret.Xs(),this.Ret=new Zs,this.Iet=this.Wrt(this.Iet,this.Ret.zs).catch(this.prt)},r.Wrt=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.aN,!t){e.next=5;break}return e.next=4,Rr.awrap(t);case 4:$s(n);case 5:if(i!==YS.kD&&this.n2){e.next=7;break}return e.abrupt("return");case 7:if($s(n),this.n2.J3){e.next=19;break}return e.prev=9,e.next=12,Rr.awrap(this.n2.U3(n));case 12:this.Xrt(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),tu(e.t0),e.abrupt("return");case 19:if(i!==YS.sA){e.next=21;break}return e.abrupt("return");case 21:$s(n),this.zc().catch(this.prt);case 23:case"end":return e.stop()}},null,this,[[9,15]],Ve)},r.D0=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(!this.Grt(i))throw new v("LLHLSPlayer - Could not set an allowed variant stream that does not exists in the internal HLS model.")}this.Oet=t},r.Grt=function(t){var n=this.X0;return!!n&&Xs(n.F0,t)},r.qrt=function(t){if(this.Det)return Os(this.Det.B1,function(n){return n===t})},r.Hrt=function(t){if(dx.mT(BX,"Setting active variant stream."),this.Det!==t){var n;if((null==(n=this.Det)?void 0:n.B2)!==(null==t?void 0:t.B2)){if(this.Det)for(var i=0,e=this.Det._3;i<e.length;i++){var r=e[i];this.IE(r)}if(t)for(var s=0,u=t._3;s<u.length;s++){var o=u[s];this.jrt(o)}}this.Det=t,this.js(new FM)}},r.jrt=function(t){var n=this.rN.TE(Ap.eA,void 0,t.ci,t.W_,t.m$);this.Aet.S_(n),this.bet.set(t.H_,n),n.Ys(jg.v_,this.onTextTrackChange)},r.IE=function(t){var n=this.bet.get(t.H_);n&&(n.Js(jg.v_,this.onTextTrackChange),this.Aet.E_(n),this.bet.delete(t.H_),this.rN.IE(n))},r.Brt=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(n=null!=(t=this.Oet)?t:this.X0.F0).length||this.Oet){r.next=4;break}return dx.mT(BX,"The HLS stream does not contain any variant streams, skipping ABR selection."),r.abrupt("return",void 0);case 4:if(1!==n.length||this.Oet){r.next=7;break}return dx.mT(BX,"The HLS stream contains only a single variant stream, skipping ABR selection."),r.abrupt("return",void 0);case 7:return r.next=9,Rr.awrap(this.Frt(n));case 9:if((i=r.sent).length){r.next=13;break}return dx.w$(BX,"LLHLSPlayer - No variant streams with supported codecs available to perform ABR selection on."),r.abrupt("return",void 0);case 13:if(0!==(e=qX(i)).length){r.next=22;break}if(!this.Zet){r.next=17;break}return r.abrupt("return",void 0);case 17:return dx.w$(BX,"LLHLSPlayer - No variant streams with online renditions available to perform ABR selection on."),this.Qet++,r.next=21,Rr.awrap(this.Yrt(i));case 21:return r.abrupt("return",void 0);case 22:return r.abrupt("return",e);case 23:case"end":return r.stop()}},null,this,null,Ve)},r.U1=function(){var t,n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.Brt());case 2:if(void 0!==(t=s.sent)){s.next=5;break}return s.abrupt("return");case 5:return u=this.rN,o=void 0,a=void 0,o=u.jg,a=u.ly.lC(o),n=a?a.MD(0)-o:0,s.next=8,Rr.awrap(this.Ort(t));case 8:return i=s.sent,s.next=11,Rr.awrap(this.ket.U1(t,this.Det,n,i));case 11:if(e=s.sent,r=!!this.Det&&e.XR<this.Det.XR,!(!!r||this.Qrt(e,t,n))){s.next=17;break}return s.next=17,Rr.awrap(this.N0(e,r));case 17:case"end":return s.stop()}var u,o,a},null,this,null,Ve)},r.Qrt=function(t,n,e){var r,s;if(t===this.S0)return!1;if(t===this.Prt(n))return!0;(!this.ert||this.ert.E0.XR>t.XR)&&(this.ert={E0:t,l7:i.Je()});var u=i.Je()-this.ert.l7,o=null!=(r=null==(s=this.B0)?void 0:s.Z$)?r:1/0;return e>=w.max(o-1,5)||u>1e3},r.Yrt=function(t){var n,i,e,r,s,u=this;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:this.Zet=!0,n=!1,i=0;case 3:if(!(i<t.length)){o.next=20;break}if(e=t[i],o.prev=5,void 0!==(r=this.Pet?Os(e.z0,function(t){return kx(t,u.Pet)}):void 0)){o.next=9;break}return o.abrupt("continue",17);case 9:return o.next=11,Rr.awrap(this.q3(r));case 11:r.u0=-1/0,n=!0,o.next=17;break;case 15:o.prev=15,o.t0=o.catch(5);case 17:i++,o.next=3;break;case 20:if(!n){o.next=26;break}return this.Qet=0,o.next=24,Rr.awrap(this.Zrt());case 24:o.next=29;break;case 26:return s=w.min(1e3*w.pow(2,this.Qet),MX),o.next=29,Rr.awrap(cu(s));case 29:return this.Zet=!1,o.next=32,Rr.awrap(this.U1());case 32:case"end":return o.stop()}},null,this,[[5,15]],Ve)},r.Frt=function(t){var n,i=this;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(qs(t,function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.FH){n.next=2;break}return n.abrupt("return",!0);case 2:if(n.t1=!t.FH.XH,n.t1){n.next=7;break}return n.next=6,Rr.awrap(i.yet.MX('audio/mp4; codecs="'+t.FH.XH+'"'));case 6:n.t1=n.sent;case 7:if(n.t0=n.t1,!n.t0){n.next=15;break}if(n.t2=!t.FH.UH,n.t2){n.next=14;break}return n.next=13,Rr.awrap(i.yet.MX('video/mp4; codecs="'+t.FH.UH+'"'));case 13:n.t2=n.sent;case 14:n.t0=n.t2;case 15:return n.abrupt("return",n.t0);case 16:case"end":return n.stop()}},null,null,null,Ve)}));case 2:return(n=e.sent).some(function(t){var n;return null==(n=t.FH)?void 0:n.UH})&&(n=n.filter(function(t){var n;return null==(n=t.FH)?void 0:n.UH})),n.some(function(t){var n;return null==(n=t.FH)?void 0:n.XH})&&(n=n.filter(function(t){var n;return null==(n=t.FH)?void 0:n.XH})),e.abrupt("return",n);case 6:case"end":return e.stop()}},null,null,null,Ve)},r.Ort=function(t){var n=this;return qs(t,function(t){var i,e,r,s,u=[GX(t.H0),GX(t.z0),zX(t._3),zX(t.g3)].filter(X);return i=u,e=function(t){return n.Krt(t)},Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=10;break}return s=i[r],t.next=5,Rr.awrap(e(s));case 5:if(t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}},null,null,null,Ve)})},r.Krt=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.KK.length){r.next=2;break}return r.abrupt("return",!1);case 2:if((n=t.KK[0]).WJ){r.next=5;break}return r.abrupt("return",!1);case 5:return i=n.WJ,e=i.SJ?ZO(i.SJ.xD,i.SJ.D_):void 0,r.prev=7,r.next=10,Rr.awrap(this.M3.Jrt(i._i,e));case 10:return r.abrupt("return",r.sent);case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",!1);case 16:case"end":return r.stop()}},null,this,[[7,13]],Ve)},r.N0=function(t,n){var i,e,r,s=this;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.Tet){u.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded.");case 2:if(t){u.next=4;break}throw new v("LLHLSPlayer - Cannot explicitly set the active variant stream to undefined.");case 4:if(this.Grt(t)){u.next=6;break}throw new v("LLHLSPlayer - Trying to set an active variant stream that does not exists on the internal model.");case 6:if(t!==this.Det){u.next=9;break}return dx.mT(BX,"Trying to set the already active variant stream, ignoring."),u.abrupt("return");case 9:return i=this.Cet?Os(t.H0,function(t){return kx(t,s.Cet)}):void 0,e=this.Pet?Os(t.z0,function(t){return kx(t,s.Pet)}):void 0,r=this.Bet?Os(t._3,function(t){return kx(t,s.Bet)}):void 0,this.Hrt(t),this.ert=void 0,u.next=16,Rr.awrap(this.Trt(i,e,r,n));case 16:case"end":return u.stop()}},null,this,null,Ve)},r.P0=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Tet){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Det){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active audio rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active audio rendition to undefined.");case 6:if(n=this.qrt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active audio rendition.");case 9:return dx.mT(BX,"Switching audio rendition"),i.next=12,Rr.awrap(this.Trt(n,this.Pet,this.Bet,!1,!0,!1));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.O0=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Tet){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Det){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active video rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.qrt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active video rendition.");case 9:return dx.mT(BX,"Switching video rendition"),i.next=12,Rr.awrap(this.Trt(this.Cet,n,this.Bet,!1,!1,!0));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.Art=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.Tet){i.next=2;break}throw new v("LLHLSPlayer - The LLHLSPlayer is not loaded");case 2:if(this.Det){i.next=4;break}throw new v("LLHLSPlayer - Cannot set the active subtitle rendition when there is no active variant stream.");case 4:if(t){i.next=6;break}throw new v("LLHLSPlayer - Cannot explicitly set the active video rendition to undefined.");case 6:if(n=this.qrt(t)){i.next=9;break}throw new v("LLHLSPlayer - Trying to set an invalid rendition as the active subtitle rendition.");case 9:return dx.mT(BX,"Switching subtitle rendition"),i.next=12,Rr.awrap(this.Trt(this.Cet,this.Pet,n));case 12:case"end":return i.stop()}},null,this,null,Ve)},r.krt=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Zet){e.next=2;break}return e.abrupt("return");case 2:if(t.us===jO.Sd){e.next=7;break}return e.next=5,Rr.awrap(this.$rt(t,n));case 5:e.next=17;break;case 7:if(0!==(null==(i=this.Oet)?void 0:i.length)){e.next=15;break}if(this.Pet===t){e.next=11;break}return e.next=11,Rr.awrap(this.Trt(this.Cet,t,this.Bet));case 11:return e.next=13,Rr.awrap(this.$rt(t,n));case 13:e.next=17;break;case 15:return e.next=17,Rr.awrap(this.U1());case 17:case"end":return e.stop()}},null,this,null,Ve)},r.q3=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.n2.q3(t,n));case 3:i.next=12;break;case 5:if(i.prev=5,i.t0=i.catch(0),tu(i.t0),!Np(i.t0)&&!Dp(i.t0)){i.next=11;break}return i.next=11,Rr.awrap(this.krt(t,n));case 11:throw i.t0;case 12:case"end":return i.stop()}},null,this,[[0,5]],Ve)},r.$rt=function(t,n){var i=this;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xs(this.xet,t)){e.next=2;break}return e.abrupt("return");case 2:return this.xet.push(t),e.prev=3,e.next=6,Rr.awrap(uM(function(){return i.retryOfflineRenditionsCallback(t,n)},n,1/0,1e3,MX));case 6:if(e.prev=6,Ms(this.xet,t),t.u0!==-1/0){e.next=11;break}return e.next=11,Rr.awrap(this.Zrt());case 11:return e.finish(6);case 12:case"end":return e.stop()}},null,this,[[3,,6,12]],Ve)},r.Trt=function(t,n,i,e,r,s){return void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===s&&(s=!1),this.Cet===t&&this.Pet===n&&this.Bet===i?Ve.resolve():void 0===t&&void 0===n?Ve.reject(new v("Trying to buffer no media renditions.")):(this.Cet=t,this.Pet=n,this.Bet=i,this.ort(),this.js(new HM),this.Zq.Xs(),this.Zq=new Zs,this.Xet.Xs(),this.Xet=new Zs,this.Fet=this.tst([this.Fet,this.Qq].filter(X),t,n,i,e,r,s,this.Xet.zs).catch(this._rt),this.Fet)},r.tst=function(t,n,i,e,r,s,u,o){var a,c,h,f=this;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 2:return this.grt(),v.next=5,Rr.awrap(this.mrt());case 5:if(!(s&&this.sN&&this.sN.ZV)){v.next=8;break}return v.next=8,Rr.awrap(this.sN.ZV.Vc(0,1/0));case 8:if(!(u&&this.sN&&this.sN.KV)){v.next=11;break}return v.next=11,Rr.awrap(this.sN.KV.Vc(0,1/0));case 11:return $s(o),v.next=14,Rr.awrap(this.nst(n,i,o));case 14:return this.ist(n,i,r),this.rst(e,r),$s(o),a=n&&i&&bx(n,i),c=[i,a?void 0:n,e].filter(X),v.prev=19,v.next=22,Rr.awrap(Ve.all(c.filter(function(t){return!t.e0}).map(function(t){var n;return null==(n=f.n2)?void 0:n.j3(t,o)})));case 22:v.next=27;break;case 24:v.prev=24,v.t0=v.catch(19),tu(v.t0);case 27:$s(o),this.fW(),this.ort(),void 0!==this.Jet?this.brt(this.Jet):!this.$et&&c.every(function(t){return!t.Q$})?(h=HX(c),this.brt(h.GD(1/0))):this.sst.length>0&&this.ust();case 31:case"end":return v.stop()}},null,this,[[19,24]],Ve)},r.nst=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=void 0!==t&&t!==n,r=void 0!==n,!this.sN){h.next=7;break}if(s=void 0!==this.sN.ZV,u=void 0!==this.sN.KV,e!==s||r!==u){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Rr.awrap(this.ost(t,n,this.Det));case 9:for(o=h.sent,$s(i),a=0,c=this.sst;a<c.length;a++)c[a].w8.forEach(function(t){return t.Xs()});if(this.rN.gY(),h.prev=13,!this.sN){h.next=17;break}return h.next=17,Rr.awrap(this.rN.R_());case 17:return h.next=19,Rr.awrap(this.ast(o,e,r));case 19:this.sN=h.sent;case 20:return h.prev=20,this.rN.mY(),h.finish(20);case 23:case"end":return h.stop()}},null,this,[[13,,20,23]],Ve)},r.ost=function(t,n,i){var e,r,s,u,o,a,c,h,f,v,l,d;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(o=i.FH,a=[],o&&o.XH&&(c='audio/mp4; codecs="'+o.XH+'"',dx.mT(BX,"Configuring MediaSource for initial audio rendition with codec: "+c+"."),a.push(c)),o&&o.UH&&(h='video/mp4; codecs="'+o.UH+'"',dx.mT(BX,"Configuring MediaSource for initial video rendition with codec: "+h+"."),a.push(h)),0!==a.length){w.next=7;break}return dx.w$(BX,"No codecs found on the active variant stream."),w.abrupt("return",void 0);case 7:return f=null!=(e=null==n?void 0:null==(r=n.KK[0])?void 0:r.QJ)?e:[],v=null!=(s=null==t?void 0:null==(u=t.KK[0])?void 0:u.QJ)?s:[],l=this.n2.X0,w.next=12,Rr.awrap(bL(this.i2.contentProtection,a,l.D3.concat(v).concat(f),this.bE));case 12:return d=w.sent,w.abrupt("return",{us:Kp.DE,lW:a.map(function(t){return{Xl:t}}),xN:d});case 14:case"end":return w.stop()}},null,this,null,Ve)},r.ast=function(t,n,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,Rr.awrap(this.rN.zc(t));case 3:e=r.sent,r.next=7;break;case 6:e=new WM(this.rN,n,i);case 7:return this.sN=e,this.fW(),this.Irt(),this.Nrt(),r.abrupt("return",e);case 12:case"end":return r.stop()}},null,this,null,Ve)},r.fW=function(){var t=this.sN;if(t&&m(t.Yg)){var n,i,e,r=null!=(n=null==(i=this.Cet)?void 0:i.Yg)?n:null==(e=this.Pet)?void 0:e.Yg;void 0!==r&&r>0&&t.cW(r)}this.ort()},r.Irt=function(){var t=this.sN;t&&(t.KV&&(t.KV.uL=this.BC.bL),t.ZV&&(t.ZV.uL=this.BC.bL))},r.Nrt=function(){var t=this.sN;t&&(t.KV&&(t.KV.hL=this.BC.hL),t.ZV&&(t.ZV.hL=this.BC.hL))},r.ist=function(t,n,i){if(!this.sN)throw new v("Invalid state");this.sN.ZV?this.tW&&this.tW.x8(this.sN.ZV)||(this.tW=new iU(Ky.Td,this.sN.ZV,this.B8,this.O8)):this.tW=void 0,this.sN.KV?this.nW&&this.nW.x8(this.sN.KV)||(this.nW=new iU(Ky.Sd,this.sN.KV,this.B8,this.O8)):this.nW=void 0;var e,r,s,u,o,a,c,h,f,l,d,w,_,g,m=t&&n&&bx(t,n);if(this.nW&&n){var y=m&&this.tW?[this.nW,this.tW]:[this.nW];this.Met?this.Met.A0!==n&&(i&&(this.Met.Xs(),this.Met._8.Ru()),this.Met.F6(n)):(this.Met=(e=n,r=y,this.rN,s=this.n2,u=this.bE,o=this.M3,a=this.L4,c=this.D5,h=this.i8,f=new OM,l=new DM(Ky.Sd,e,s,f,u,o,a),d=r.map(function(t){return t.us}),w=h.cst(e,f,c,d),(_=new XM(l,f,w)).e8(r),_),this.Met.l8.Ys(EM.N6,this.vrt)),this.Met.e8(y)}else{var k;null==(k=this.Met)||k.Bs(),this.Met=void 0}this.tW&&t&&!m?(this.Let?this.Let.A0!==t&&(i&&(this.Let.Xs(),this.Let._8.Ru()),this.Let.F6(t)):this.Let=function(t,n,i,e,r,s,u,o,a){var c=new OM,h=new DM(Ky.Td,t,e,c,r,s,u),f=a.cst(t,c,o,[n.us]),v=new XM(h,c,f);return v.e8([n]),v}(t,this.tW,this.rN,this.n2,this.bE,this.M3,this.L4,this.D5,this.i8),this.Let.e8([this.tW])):(null==(g=this.Let)||g.Bs(),this.Let=void 0);this.hst()},r.rst=function(t,n){this.Uet&&(this.Uet.l8.A0===t?n&&(this.Uet.Xs(),this.Uet._8.Ru()):(this.Uet.Bs(),this.Uet=void 0));if(!this.Uet&&t){var i=this.bet.get(t.H_);i.J_=Am.Q_,this.Uet=function(t,n,i,e,r,s,u){var o=new LM(n,u),a=new OM,c=new DM(Ky.Kn,t,i,a,e,r,s),h=new UM(t,a,u,Ky.Kn),f=new XM(c,a,h);return f.r8(o),f}(t,i,this.n2,this.bE,this.M3,this.L4,this.D5)}},r.hst=function(){var t=[this.tW,this.nW].filter(X).map(function(t){return t.us});this.D5.n9(t)},r.sY=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 2:return $s(i),e.next=5,Rr.awrap(this.mrt());case 5:$s(i),this.Jet=void 0,this.nrt=void 0,this.$et=!0,this.rN.Bu(n),this.Tet&&this.sst.length>0&&(this.fst(this.rN.jg),this.ust());case 11:case"end":return e.stop()}},null,this,null,Ve)},r.fst=function(t){for(var n=0,i=this.sst;n<i.length;n++){var e=i[n];e.V6(t)||(e.f8(),e._8.A5()),e.a8(t)||(e.v8(),e._8.T5())}},r.grt=function(){for(var t=0,n=this.sst;t<n.length;t++){n[t].Xs()}},r.mrt=function(){return Ve.all([this.vst(),this.lst(),this.dst()])},r.ust=function(){this.wst(),this._st(),this.gst()},r.Zrt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.Tet&&this.sst.length>0)){t.next=6;break}return this.sst.forEach(function(t){return t.f8()}),t.next=4,Rr.awrap(this.vst());case 4:this.wst(),this.sst.forEach(function(t){return t.l8.Q6()});case 6:case"end":return t.stop()}},null,this,null,Ve)},r.wst=function(){var t=this;if(!this.Get){var n=function(){t.Get=void 0};this.zet=new Zs,this.Get=this.mst(this.zet.zs).catch(this._rt).then(n,n)}},r.vst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.zet)||t.Xs(),n=this.Get,this.Get=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.mst=function(t){var n,i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:$s(t),n=this.sst;case 2:for(i=[],e=this.rN.jg,r=0;r<n.length;r++)s=n[r],u=s.l8,o=s.u8(e),u.b4?i.push(u.T4()):s.h8(e,o,this.BC.bL)&&((a=u.W6(o))?(h=a[0],f=a[1],u.e5(h,f,s.v4)):((c=u.A0.KK).length&&c[0].Ky>o&&(this.jg=this.Ny.end(this.Ny.length-1)),u.J6(),u.j6(o)),i.push(u.T4()));if(0!==i.length){v.next=13;break}if(!n.every(function(t){return t.l8.v5})){v.next=9;break}return v.abrupt("break",17);case 9:return v.next=11,Rr.awrap(this.rN.uu(bf.Uf,t));case 11:v.next=15;break;case 13:return v.next=15,Rr.awrap(iu(Ve.race(i),t));case 15:v.next=2;break;case 17:case"end":return v.stop()}},null,this,null,Ve)},r._st=function(){var t=this;if(!this.qet){var n=function(){t.qet=void 0};this.Vet=new Zs,this.qet=this.yst(this.Vet.zs).catch(this._rt).then(n,n)}},r.lst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Vet)||t.Xs(),n=this.qet,this.qet=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.yst=function(t){var n,i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(t),n=this.sst;case 2:for(i=[],e=0;e<n.length;e++)r=n[e],s=r.l8,(u=r.d8).b4?i.push(u.T4()):(o=s.H6())?"o5"===o.us?(u.q5(o),i.push(u.T4())):"KJ"===o.us&&(u.W5(o),i.push(u.T4())):i.push(s.Z6());if(0!==i.length){a.next=12;break}if(!n.every(function(t){return t.l8.v5})){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Rr.awrap(this.rN.uu(bf.Uf,t));case 10:a.next=14;break;case 12:return a.next=14,Rr.awrap(iu(Ve.race(i),t));case 14:a.next=2;break;case 16:case"end":return a.stop()}},null,this,null,Ve)},r.gst=function(){var t=this;if(!this.jet){this.Wet=new Zs;var n=function(){t.jet=void 0};this.jet=this.kst(this.Wet.zs).catch(this._rt).then(n,n)}},r.dst=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(null==(t=this.Wet)||t.Xs(),n=this.jet,this.jet=void 0,!n){i.next=6;break}return i.next=6,Rr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},r.kst=function(t){var n,i,e,r,s,u,o,a,c,h,f,v,l,d=this;return Rr.async(function(w){for(;;)switch(w.prev=w.next){case 0:for((n=this.sst).forEach(function(t){return t.s8()}),i=[],e=[],r=[],s=0;s<n.length;s++)for(u=n[s],o=u.d8,a=0,c=u.w8;a<c.length;a++)h=c[a],f=h.O4?i:e,h.b4?f.push(h.T4()):h.S4(this.rN.jg)||((v=o.Y5(h.us))?"o5"===v.us&&v.t$===this.Het?(h.D4(v),f.push(h.T4())):"K5"===v.us&&v.t$===this.Het&&(h.Wz(v),f.push(h.T4())):r.push(o.Q5(h.us)));if(0!==i.length){w.next=15;break}if(!((l=zs(n,function(t){return t.w8.filter(function(t){return t.O4}).map(function(n){return t.d8.Y5(n.us)})})).length>0&&l.every(function(t){return void 0!==t&&"K5"===t.us&&t.t$!==d.Het}))){w.next=15;break}return w.next=12,Rr.awrap(function(){var i,e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=Ws(i=l,function(t){return t.t$}).t$,!i.every(function(t){return t.t$===e})){v.next=20;break}return r=Vs(i,function(t){return t.Ky}).Ky,v.next=7,Rr.awrap(d.bst(i));case 7:if(s=v.sent,!d.sN.NX(s)){v.next=15;break}return dx.d$("Discontinuity","Seamless switch from",d.sN.Jc,"to",s),v.next=12,Rr.awrap(d.sN.DX(s));case 12:dx.d$("Discontinuity","Seamless switch complete."),v.next=17;break;case 15:return v.next=17,Rr.awrap(d.pst(r,s,t));case 17:d.Het=i[0].t$,v.next=21;break;case 20:for(u=0;u<n.length;u++)for(o=n[u],a=0,c=o.w8;a<c.length;a++)for(h=c[a],f=o.d8.Y5(h.us);f&&f.t$!==e;)o.d8.R4(f),f=o.d8.Y5(h.us);case 21:return v.abrupt("return","continue");case 22:case"end":return v.stop()}},null,null,null,Ve)}());case 12:if("continue"!==w.sent){w.next=15;break}return w.abrupt("continue",0);case 15:if(0!==i.length||0!==e.length||0!==r.length){w.next=19;break}return n.every(function(t){return t.w8.length>0&&t.w8.every(function(t){return t.S4(d.rN.jg)})})&&this.sN.fV(),w.abrupt("break",23);case 19:return w.next=21,Rr.awrap(iu(Ve.race([].concat(i,e,r)),t));case 21:w.next=0;break;case 23:case"end":return w.stop()}},null,this,null,Ve)},r.bst=function(t){var n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.map(function(t){return t.J5.FH}),i=n.map(function(t){return{Xl:t}}),(e=zs(t,function(t){return t.J5.QJ})).push.apply(e,this.n2.X0.D3),r=this.i2.contentProtection,u.next=7,Rr.awrap(bL(r,n,e,this.bE));case 7:return 0===(s=u.sent).length&&this.sN&&this.sN.Jc.xN.length>0&&(s=this.sN.Jc.xN),u.abrupt("return",{us:Kp.DE,lW:i,xN:s});case 10:case"end":return u.stop()}},null,this,null,Ve)},r.pst=function(t,n,i){var e,r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=this.sN,s=r.Yg,!(u=this.jg<t)){c.next=19;break}c.prev=4,dx.d$("Discontinuity","Marking end of stream and waiting for ended to switch discontinuity."),r.fV();case 7:if(this.rN.Qg||!(this.rN.jg<t)){c.next=12;break}return c.next=10,Rr.awrap(this.rN.uu([bf.Uf,bf._f],i));case 10:c.next=7;break;case 12:c.next=19;break;case 14:throw c.prev=14,c.t0=c.catch(4),r.oV(),r.cW(s),c.t0;case 19:return dx.d$("Discontinuity","Perform hard switch from",null==(e=this.sN)?void 0:e.Jc,"to",n),c.prev=20,this.jg<t&&(this.jg=t),this.rN.gY(),this.nW=void 0,this.tW=void 0,this.hst(),c.next=28,Rr.awrap(this.rN.R_());case 28:return c.next=30,Rr.awrap(this.rN.zc(n));case 30:this.sN=c.sent,this.fW(),this.Irt(),this.Nrt(),this.sN.KV&&(this.nW=new iU(Ky.Sd,this.sN.KV,this.B8,this.O8)),this.sN.ZV&&(this.tW=new iU(Ky.Td,this.sN.ZV,this.B8,this.O8)),this.hst();case 37:return c.prev=37,u&&ou(this.rN.Xm()),this.rN.mY(),c.finish(37);case 41:this.Met&&(o=void 0!==this.tW&&void 0===this.Let,a=o?[this.nW,this.tW]:[this.nW],this.Met.e8(a)),this.Let&&this.Let.e8([this.tW]),dx.d$("Discontinuity","Hard switch complete.");case 44:case"end":return c.stop()}},null,this,[[4,14],[20,,37,41]],Ve)},r.Ast=function(t){return iu(au(zs(this.sst,function(t){return t.w8.map(function(t){return t.T4()})})),t)},r.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return dx.mT(BX,"Unloading the player."),this.Tst(),this.Mrt(),t.next=5,Rr.awrap(this.R_());case 5:return this.rN.PN=void 0,this.Aet.Od(),t.next=9,Rr.awrap(this.hN.Od());case 9:return t.next=11,Rr.awrap(this.B8.Od());case 11:return t.next=13,Rr.awrap(this.O8.Od());case 13:this.Nm.Od(),this.Dm.Od(),this.Cm.Od(),this.met.Od(),this._et.Bs();case 18:case"end":return t.stop()}},null,this,null,Ve)},r.R_=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return dx.mT(BX,"Resetting the player."),this.Js(qO.kJ,this.handleBufferingErrorEvent),this.Het=-1,this.Ret.Xs(),this.Ret=new Zs,this.pE.Xs(),this.pE=new Zs,this.Zq.Xs(),this.Zq=new Zs,this.Xet.Xs(),this.Xet=new Zs,t=[this.Iet,this.I6,this.Qq,this.Fet].filter(X),n.next=14,Rr.awrap(Ve.all(t.map(function(t){return t.catch(Z)})));case 14:return this.Iet=void 0,this.I6=void 0,this.Qq=void 0,this.Fet=void 0,this.Cet=void 0,this.Pet=void 0,this.Bet=void 0,this.Oet=void 0,this.xet=[],this.Hrt(void 0),this.grt(),n.next=27,Rr.awrap(this.mrt());case 27:return this.Let&&(this.Let.Bs(),this.Let=void 0),this.Met&&(this.Met.Bs(),this.Met=void 0),this.Uet&&(this.Uet.Bs(),this.Uet=void 0),this.tW=void 0,this.nW=void 0,this.sN=void 0,this.i8&&(this.i8.Bs(),this.i8=void 0),this.D5&&(this.D5.Bs(),this.D5=void 0),this.n2&&(this.n2.Js("c2",this.u2),this.n2.Js("C3",this.yrt),this.n2=void 0),this.Net&&(this.Cm.$R(this.Net.Mm),this.Net=void 0),n.next=39,Rr.awrap(this.hN.R_());case 39:return n.next=41,Rr.awrap(this.B8.R_());case 41:return n.next=43,Rr.awrap(this.O8.R_());case 43:return this.rN.GN(),n.next=46,Rr.awrap(this.rN.R_());case 46:this.i2=void 0,this.Eet=void 0,this.Tet=!1,this.EC=1,this.iW=iE.mC(),this.Jet=void 0,this.trt=void 0,this.nrt=void 0,this.$et=!1,this.irt=!1,this.met.R_(),this.Sst(),this.js(new oy(this.jg,this.og));case 59:case"end":return n.stop()}},null,this,null,Ve)},r.Sst=function(){for(var t=0,n=this.Nm.N_;t<n.length;t++){n[t].Od()}for(var i=0,e=this.Dm.N_;i<e.length;i++){e[i].Od()}for(var r=0,s=this.Cm.N_;r<s.length;r++){s[r].Od()}this.Nm.R_(),this.Dm.R_(),this.Cm.R_(),this.bet.clear()},r.Crt=function(){this.met.Ys(OX,this.qs),this.met.Ys(uy.qg,this.yN),this.met.Ys(uy.Gg,this.drt),this.BC.Ys("oL",this.Ert),this.BC.Ys("fL",this.Rrt),this.rN.Ys(xX,this.qs),this.rN.Ys(bf.cf,this.handleContentProtectionErrorEvent),this.rN.Ys(bf.df,this.urt),this.rN.Ys(bf._f,this.art),this.rN.Ys(bf.Tf,this.crt),this.rN.Ys(bf.Sf,this.hrt),this.rN.Ys(bf.Ef,this.frt),this.rN.Ys(uy.d_,this.xE),this.rN.Ys(bf.Uf,this.MG),this.rN.Ys(bf.Cf,this.uW),this.rN.Ys(bf.Df,this.mN),this.rN.Ys(bf.Xf,this.lrt)},r.Tst=function(){this.met.Js(OX,this.qs),this.met.Js(uy.qg,this.yN),this.met.Js(uy.Gg,this.drt),this.BC.Js("oL",this.Ert),this.BC.Js("fL",this.Rrt),this.rN.Js(xX,this.qs),this.rN.Js(bf.cf,this.handleContentProtectionErrorEvent),this.rN.Js(bf.df,this.urt),this.rN.Js(bf._f,this.art),this.rN.Js(bf.Tf,this.crt),this.rN.Js(bf.Sf,this.hrt),this.rN.Js(bf.Ef,this.frt),this.rN.Js(uy.d_,this.xE),this.rN.Js(bf.Uf,this.MG),this.rN.Js(bf.Cf,this.uW),this.rN.Js(bf.Df,this.mN),this.rN.Js(bf.Xf,this.lrt)},A(e,[{key:"Lrt",get:function(){for(var t=this.xrt(),n=0;n<t.length;n++){var i=t[n];if(!i.Q$)return!1;var e=i.KK,r=e[e.length-1];if(r&&r.t$!==this.Het)return!1}return!0}},{key:"S0",get:function(){return this.Det}},{key:"C0",get:function(){return this.Cet}},{key:"B0",get:function(){return this.Pet}},{key:"Srt",get:function(){return this.Bet}},{key:"xm",get:function(){return this.Nm}},{key:"ly",get:function(){return this.rN.ly.KN()}},{key:"R0",get:function(){var t=[];if(this.Det)for(var n=this.rN.jg,i=0,e=this.sst;i<e.length;i++)for(var r=0,s=e[i].w8;r<s.length;r++){var u=s[r].I4(n);u&&!Xs(t,u)&&t.push(u)}return t}},{key:"wy",get:function(){if(this.Det){var t=this.rN.jg;return this.Det.v3(t)}},set:function(t){if(t&&this.Det){var n=this.Det.d3(t);void 0!==n&&(this.jg=n)}}},{key:"jg",get:function(){var t;return null!=(t=this.Jet)?t:this.rN.jg},set:function(t){dx.mT(BX,"Seeking to "+t+" s."),this.Jet=t,this.nrt=!0,this.$et=!0,this.js(new yy(t)),this.Zq.Xs(),this.brt(t)}},{key:"Yg",get:function(){var t,n,i,e,r,s,u;return this.Lrt?this.rN.Yg:null!=(t=null!=(n=null!=(i=null==(e=this.Cet)?void 0:e.Yg)?i:null==(r=this.Pet)?void 0:r.Yg)?n:null==(s=this.n2)?void 0:null==(u=s.n4)?void 0:u.Yg)?t:1/0}},{key:"Qg",get:function(){if(!this.Lrt)return!1;if(this.tm){var t,n,i=this.jg,e=null==(t=this.Cet)?void 0:t.Yg,r=null==(n=this.Pet)?void 0:n.Yg;return!(void 0!==e&&i<e)&&!(void 0!==r&&i<r)}return this.rN.Qg}},{key:"wu",get:function(){return this.uN}},{key:"Zg",get:function(){return this.oN}},{key:"Um",get:function(){}},{key:"gy",get:function(){return!1}},{key:"Am",get:function(){return Nr({},{yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.rN.$N())}},{key:"X0",get:function(){var t;return null==(t=this.n2)?void 0:t.X0}},{key:"Kg",get:function(){return this.rN.Kg},set:function(t){this.rN.Kg=t}},{key:"Ey",get:function(){return this.Yet},set:function(t){this.Yet!==t&&(this.Yet=t,this.js(t?new QM:new ZM))}},{key:"Jg",get:function(){return this.rN.Jg}},{key:"$g",get:function(){return this.rN.$g},set:function(t){dx.mT(BX,"Setting playback rate to "+t+"."),this.rN.$g=t}},{key:"Iy",get:function(){return this.rN.Iy.KN()}},{key:"Ry",get:function(){return this.aN},set:function(t){this.aN!==t&&(this.aN=t,this.Urt())}},{key:"og",get:function(){var t=this.rN.og;return this.irt&&(t=w.max(Vm.Mg,t)),t}},{key:"Ny",get:function(){return this.iW.KN()}},{key:"tm",get:function(){var t;return null!=(t=this.nrt)?t:this.rN.tm}},{key:"tD",get:function(){}},{key:"Mm",get:function(){return this.Cm}},{key:"Lm",get:function(){return this.Dm}},{key:"nm",get:function(){return this.rN.nm}},{key:"im",get:function(){return this.rN.im}},{key:"um",get:function(){return this.rN.um},set:function(t){dx.mT(BX,"Setting volume to "+t+"."),this.rN.um=t}},{key:"Dy",get:function(){return this.dN}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"nD",get:function(){return this.lN}},{key:"sst",get:function(){return[this.Let,this.Met,this.Uet].filter(X)}}]),e}(lu),XX=function(){function t(){}return t.prototype.eD=function(t,n){return Ym(t.type)},t}(),FX=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).TD=n,e}return S(n,t),n.prototype.Vrt=function(){this.js(new Ty(this.jg,this.og))},A(n,[{key:"og",get:function(){return this.TD.og}}]),n}(vA);function HX(t){return t.reduce(function(t,n){return t.YD(n.Ny)},new iE([0,1/0]))}function zX(t){var n=Os(t,function(t){return t.m$}),e=t.filter(function(t){return t.y$}),r=i.Xr,s=e.map(function(t){return t.W_}).filter(X),u=qM(s,r);return u?Os(e,function(t){return t.W_===u}):n}function VX(t,n,i){var e=function(t,n){if(void 0===n)return t;var i=n.preferredVideoCodecs,e=n.preferredAudioCodecs;if(void 0!==i){for(var r,s=function(n){var s=i[n],u=t.filter(function(t){return t.FH&&t.FH.UH&&sC(t.FH.UH,s)});if(0===u.length)return"continue";if(void 0===e)return{v:u};void 0===r&&(r=u);var o=WX(u,e);return void 0!==o?{v:o}:void 0},u=0;u<i.length;u++){var o=s(u);if("continue"!==o&&"object"==typeof o)return o.v}if(void 0!==r)return r}if(void 0!==e){var a=WX(t,e);if(void 0!==a)return a}return t}(t,n);switch(i.aL.type){case XR.BANDWIDTH:var r=i.pL,s=e.filter(function(t){return t.XR<=r});if(s.length>0)return Ws(s,function(t){return t.XR});case XR.PERFORMANCE:return Vs(e,function(t){return t.XR});case XR.QUALITY:return Ws(e,function(t){return t.XR})}}function WX(t,n){for(var i=function(i){var e=n[i],r=t.filter(function(t){return t.FH&&t.FH.XH&&sC(t.FH.XH,e)});return 0===r.length?"continue":{v:r}},e=0;e<n.length;e++){var r=i(e);if("continue"!==r&&"object"==typeof r)return r.v}}function GX(t){var n;return null!=(n=zX(t))?n:t[0]}function qX(t){return t.filter(function(t){return t.z0.some(function(t){return t.u0<i.Je()-MX})||0===t.z0.length})}var jX=function(){function t(){}var i=t.prototype;return i.X4=function(t,i,e){var r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(crypto.subtle.importKey("raw",i,{name:"AES-CBC"},!1,["decrypt"]));case 3:return r=u.sent,u.next=6,Rr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:e},r,t));case 6:return s=u.sent,u.abrupt("return",new y(s));case 10:throw u.prev=10,u.t0=u.catch(0),new tf(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error during AES128 decrypt.");case 13:case"end":return u.stop()}},null,null,[[0,10]],Ve)},i.M4=function(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(crypto.subtle.importKey("raw",n,{name:"AES-CBC"},!1,["encrypt","decrypt"]));case 2:return e=s.sent,r=pD(t,new iw({highWaterMark:1048576})),s.abrupt("return",r.pipeThrough(new vw(new QX(e,i))));case 5:case"end":return s.stop()}},null,null,null,Ve)},t}(),YX=16,QX=function(){function t(t,n){if(this.Est=void 0,this.Ist=void 0,this.Ev=new SD,n.byteLength!==YX)throw new l("Initialization vector must be "+YX+" bytes long");this.Est=t,this.Ist=n}var n=t.prototype;return n.transform=function(t,n){var i,e,r,s,u,o,a,c,h,f,v,l,d,w;return Rr.async(function(_){for(;;)switch(_.prev=_.next){case 0:for(i=0;i<t.length;i++)e=t[i],this.Ev.HU(e);if(!(this.Ev.Nu<2*YX)){_.next=3;break}return _.abrupt("return");case 3:for(r=this.Ev.Nu,u=new y((s=r-(YX+(r-YX)%YX))+YX),o=this.Ev.hF(s),a=0,c=0,h=o.uF;c<h.length;c++)f=h[c],u.set(f,a),a+=f.byteLength;return v=u.slice(s-YX,s),_.next=16,Rr.awrap(crypto.subtle.encrypt({name:"AES-CBC",iv:v},this.Est,new y(1)));case 16:return l=_.sent,u.set(new y(l),s),_.next=21,Rr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:this.Ist},this.Est,u));case 21:d=_.sent,this.Ist=v,w=new y(d,0,s),n.enqueue(w);case 26:case"end":return _.stop()}},null,this,null,Ve)},n.flush=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.Ev.Nu){e.next=2;break}return e.abrupt("return");case 2:return n=this.Ev.lF(),e.next=5,Rr.awrap(crypto.subtle.decrypt({name:"AES-CBC",iv:this.Ist},this.Est,n));case 5:i=e.sent,t.enqueue(new y(i));case 7:case"end":return e.stop()}},null,this,null,Ve)},t}();var ZX=function(){function t(t){this.Rst=Ve.resolve(new y(0)),this.ev=void 0,this.Nst=new y(0),this.ev=t.getReader()}var n=t.prototype;return n.c6=function(t,n){return this.Rst=this.Dst(t,this.Rst,n),this.Rst},n.Dst=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Rr.awrap(n);case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),nu(a.t0);case 8:if($s(i),0!==t){a.next=11;break}return a.abrupt("return",new y(0));case 11:if(e=t,r=[],!(this.Nst.length>=e)){a.next=19;break}return s=Xo(this.Nst,0,e),this.Nst=Xo(this.Nst,e),a.abrupt("return",s);case 19:this.Nst.length>0&&(r.push(this.Nst),e-=this.Nst.length,this.Nst=new y(0));case 20:return a.next=23,Rr.awrap(this.ev.read());case 23:if(u=a.sent,$s(i),!u.done){a.next=27;break}throw new v("StreamingByteReader - End of stream.");case 27:if(!((o=u.value).length>=e)){a.next=34;break}return r.push(Xo(o,0,e)),this.Nst=Xo(o,e),a.abrupt("return",Mu(r));case 34:r.push(o),e-=o.length;case 36:a.next=20;break;case 38:case"end":return a.stop()}},null,this,[[0,5]],Ve)},n.Cst=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.c6(1,t));case 2:return n=i.sent,i.abrupt("return",n[0]);case 4:case"end":return i.stop()}},null,this,null,Ve)},n.Pst=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.Bst(4,t));case 2:return n=i.sent,i.abrupt("return",n.getUint32(0));case 4:case"end":return i.stop()}},null,this,null,Ve)},n.Bst=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.c6(t,n));case 2:return i=e.sent,e.abrupt("return",xo(i));case 4:case"end":return e.stop()}},null,this,null,Ve)},n.Ost=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.c6(t,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ve)},n.xst=function(t){return this.Lst(1,t)},n.Lst=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.Ost(t,n));case 2:for(i=s.sent,e="",r=0;r<t;r+=1)e+=String.fromCharCode(i[r]);return s.abrupt("return",e);case 6:case"end":return s.stop()}},null,this,null,Ve)},n.h6=function(t){return this.ev.cancel(t)},t}();function KX(t,n){if(void 0===n.Mst)return{XH:void 0,UH:t};if(void 0===n.Ust)return{XH:t,UH:void 0};for(var i=Th(t),e=$X(i),r=$X(i),s=0;s<i.boxes.length;s++){var u=i.boxes[s];u instanceof ih&&(e.boxes[s]=eF(u,n.Ust),r.boxes[s]=eF(u,n.Mst))}var o=e.serialize().join(),a=r.serialize().join();return{XH:o,UH:a}}function JX(t){var n=Os(t.boxes,aF);if(n){var i=Os(n.boxes,cF);if(i)return i.handlerType}}function $X(t){var n,i=new mh;return(n=i.boxes).push.apply(n,t.boxes),i}function tF(t){var n,i=new Pc;return(n=i.boxes).push.apply(n,t.boxes),i}var nF=8;function iF(t,n){for(var i=function(t){var n,i=new Wc;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=rF(n),r=0;r<i.boxes.length;r++){var s=i.boxes[r];if(s===n)i.boxes[r]=new rc(new y(n.getSize()-nF));else if(s instanceof Pc){var u=s,o=Ls(u.boxes,function(t){return t instanceof Dc&&t.trackId===e});if(o>=0){var a=u.boxes[o],c=tF(u);c.boxes[o]=new rc(new y(a.getSize()-nF)),i.boxes[r]=c}}}return i}function eF(t,n){for(var i=function(t){var n,i=new ih;return(n=i.boxes).push.apply(n,t.boxes),i}(t),e=0;e<i.boxes.length;e++){var r=i.boxes[e];if(r instanceof th){var s=Os(r.boxes,hF);s&&s.trackId===n&&(i.boxes[e]=new rc(new y(r.getSize()-nF)))}}return i}function rF(t){return Os(t.boxes,oF).trackId}function sF(t){return t instanceof Wc}function uF(t){return t instanceof zc}function oF(t){return t instanceof Xc||t instanceof Fc}function aF(t){return t instanceof hc}function cF(t){return t instanceof Fa}function hF(t){return t instanceof Zc}var fF="Mp4Transmuxer";function vF(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(lF(t,i));case 2:if(e=s.sent,$s(i),void 0!==(r=e?FD(e,n):void 0)){s.next=7;break}throw new v("Mp4Transmuxer - Unable to parse segment or part.");case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ve)}function lF(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=t.us,i.next=i.t0===gD.VX?3:i.t0===gD.Gf?4:i.t0===gD.WX?7:8;break;case 3:return i.abrupt("return",xo(t.Xi));case 4:return i.next=6,Rr.awrap(dF(t.Xi,n));case 6:return i.abrupt("return",i.sent);case 7:return i.abrupt("return",void 0);case 8:case"end":return i.stop()}},null,null,null,Ve)}function dF(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:i=new ZX(t),a.prev=1;case 2:return a.next=5,Rr.awrap(i.Bst(8,n));case 5:return e=a.sent,r=new zo,s=co(e,r),u=wo(e,r,4),a.next=11,Rr.awrap(i.Ost(s-8,n));case 11:if(o=a.sent,u!==ib.zp){a.next=14;break}return a.abrupt("return",xo(Mu([Lo(e),o])));case 14:a.next=2;break;case 16:a.next=23;break;case 18:throw a.prev=18,a.t0=a.catch(1),tu(a.t0),dx._$(fF,"Could not read first MOOF from stream.",a.t0),new v("Could not read first MOOF from stream.");case 23:return a.prev=23,ou(i.h6()),a.finish(23);case 26:case"end":return a.stop()}},null,null,[[1,18,23,26]],Ve)}function wF(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],r=0,s=t.getReader(),o.prev=3;case 4:return $s(i),o.next=8,Rr.awrap(iu(s.read(),i));case 8:if(!(u=o.sent).done){o.next=13;break}return o.abrupt("return",Mu(e));case 13:if(e.push(u.value),!((r+=u.value.byteLength)>=n)){o.next=18;break}return s.cancel(new Ks).catch(Z),o.abrupt("return",Mu(e));case 18:o.next=4;break;case 20:o.next=26;break;case 22:throw o.prev=22,o.t0=o.catch(3),s.cancel(o.t0).catch(Z),o.t0;case 26:case"end":return o.stop()}},null,null,[[3,22]],Ve)}var _F,gF=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,i,e,r,s)||this).Bw=void 0,u.Xst=void 0,u.Fst=void 0,u.Hst=void 0,u.zst=0,u.Vst=0,u.Wst=Pr(),u.Bw=n,u}S(n,t);var e=n.prototype;return e.G5=function(n,i){return t.prototype.G5.call(this,n,i)},e.Gst=function(t,n){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=t.o5,!this.Wst.has(t.t$)){a.next=5;break}i=this.Wst.get(t.t$),a.next=12;break;case 5:return r=YD(t.o5),s=r[0],u=r[1],e=s,a.next=9,Rr.awrap(yF(u.Xi,n));case 9:o=a.sent,i=tU(o),this.Wst.set(t.t$,i);case 12:return a.abrupt("return",[i,e]);case 13:case"end":return a.stop()}},null,this,null,Ve)},e.j5=function(n,e){var r,s,u,o,a,c,h,f,v,l,d,w,_,g,m,y,k,b;return Rr.async(function(p){for(;;)switch(p.prev=p.next){case 0:return $s(e),p.next=3,Rr.awrap(this.Gst(n,e));case 3:if(s=p.sent,u=s[0],o=s[1],u===YM.C8||u===YM.D8){p.next=8;break}return p.abrupt("return",t.prototype.j5.call(this,Nr({},n,{o5:o}),e));case 8:return a=this.Bw.qst(),p.next=11,Rr.awrap(qD(o.Xi,e));case 11:if(c=p.sent,u!==YM.C8){p.next=18;break}return p.next=15,Rr.awrap(a.jst({data:c.Xi,metadata:this.Xst}));case 15:h=p.sent,p.next=21;break;case 18:return p.next=20,Rr.awrap(a.Yst({data:c.Xi,metadata:this.Xst}));case 20:h=p.sent;case 21:if($s(e),f=Kk.Kk(ht.fromBits(h.metadata.first_timestamp_low,h.metadata.first_timestamp_high),h.metadata.first_timestamp_timescale),i.Or.Qe&&(f=f.Mb(OD)),this.D5.B5(n.t$)){p.next=30;break}for(v=Kk.Vb(o.N4.Ky),l=0,d=this.Z5;l<d.length;l++)w=d[l],this.D5.j8(n.t$,w,f,v,!0);if(this.D5.B5(n.t$)){p.next=30;break}return p.next=30,Rr.awrap(iu(this.D5.O5(n.t$),e));case 30:_=this.D5.q8(f,o.N4),this.Xst=h.metadata,g={JJ:n.JJ,Ky:o.N4.Ky,Yg:null!=(r=o.N4.Yg)?r:0,hp:_.Ok(),t$:n.t$,A0:n.A0,N4:o.N4},void 0!==h.data.audio_media&&Xs(this.Z5,Ky.Td)&&(!h.data.audio_init||this.Fst&&this.zst===n.t$&&Lu(this.Fst,h.data.audio_init)||(m={us:"K5",Xi:{us:gD.VX,Xi:h.data.audio_init},y5:Ky.Td,t$:n.t$,J5:{FH:'audio/mp4; codecs="'+h.metadata.audio_codec+'"',QJ:o.N4.QJ},Ky:o.N4.Ky,A0:n.A0,N4:o.N4},this.Fst=h.data.audio_init,this.zst=n.t$,this.g5(m)),y=Nr({us:"o5",Xi:{us:gD.VX,Xi:h.data.audio_media},y5:Ky.Td},g),this.g5(y)),void 0!==h.data.video_media&&Xs(this.Z5,Ky.Sd)&&(!h.data.video_init||this.Hst&&this.Vst===n.t$&&Lu(this.Hst,h.data.video_init)||(k={us:"K5",Xi:{us:gD.VX,Xi:h.data.video_init},y5:Ky.Sd,t$:n.t$,J5:{FH:'video/mp4; codecs="'+h.metadata.video_codec+'"',QJ:o.N4.QJ},Ky:o.N4.Ky,A0:n.A0,N4:o.N4},this.Hst=h.data.video_init,this.Vst=n.t$,this.g5(k)),b=Nr({us:"o5",Xi:{us:gD.VX,Xi:h.data.video_media},y5:Ky.Sd},g),this.g5(b));case 35:case"end":return p.stop()}},null,this,null,Ve)},e.Xs=function(){this.Fst=void 0,this.Hst=void 0,t.prototype.Xs.call(this)},n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Xz=void 0,n.Qst=void 0,n}S(n,t);var i=n.prototype;return i.G5=function(t,n){$s(n);var i=this.A0.us,e=zD(xo(t.KJ.Xi.Xi));if(!e)throw new v("Mp4Transmuxer - Unable to parse "+i+" MP4 initializer.");this.Xz=e;var r=function(t){var n=Th(t),i=Os(n.boxes,sF),e=i.boxes.filter(uF),r=Os(e,function(t){return JX(t)===vc.AUDIO}),s=Os(e,function(t){return JX(t)===vc.VIDEO}),u={Mst:r?rF(r):void 0,Ust:s?rF(s):void 0};if(!r||!s)return{XH:r?t:void 0,UH:s?t:void 0,eE:u};var o=$X(n),a=$X(n),c=n.boxes.indexOf(i);o.boxes[c]=iF(i,s),a.boxes[c]=iF(i,r);var h=o.serialize().join(),f=a.serialize().join();return{XH:h,UH:f,eE:u}}(t.KJ.Xi.Xi);if(this.Qst=r.eE,r.UH&&Xs(this.Z5,Ky.Sd)){var s=Os(e.KA,function(t){return t.hT===r.eE.Ust}),u={us:"K5",Xi:{us:gD.VX,Xi:r.UH},y5:Ky.Sd,t$:t.t$,J5:{FH:'video/mp4; codecs="'+s.FH.UH+'"',QJ:t.QJ},Ky:t.Ky,A0:this.A0,N4:t.KJ.N4};this.g5(u)}if(r.XH&&Xs(this.Z5,Ky.Td)){var o=Os(e.KA,function(t){return t.hT===r.eE.Mst}),a={us:"K5",Xi:{us:gD.VX,Xi:r.XH},y5:Ky.Td,t$:t.t$,J5:{FH:'audio/mp4; codecs="'+o.FH.XH+'"',QJ:t.QJ},Ky:t.Ky,A0:this.A0,N4:t.KJ.N4};this.g5(a)}return Ve.resolve()},i.j5=function(t,n){var i,e,r,s,u,o,a,c,h,f,v,l,d,w,_,g,m,y,k,b,p,A,T;return Rr.async(function(S){for(;;)switch(S.prev=S.next){case 0:if($s(n),e=t.o5.N4,r=this.A0.us,dx.mT(fF,"Got media data, transmuxing for "+r+" track: "+sx(e.WJ)),s=t.o5.Xi,this.D5.B5(t.t$)){S.next=16;break}return u=jD(s),o=u[0],a=u[1],s=o,S.next=10,Rr.awrap(vF(a,this.Xz,n));case 10:for(c=S.sent,h=Kk.Vb(e.Ky),f=0,v=this.Z5;f<v.length;f++)l=v[f],this.D5.j8(t.t$,l,c,h,!1);if(this.D5.B5(t.t$)){S.next=16;break}return S.next=16,Rr.awrap(iu(this.D5.O5(t.t$),n));case 16:if(d=this.D5.U5(t.t$),w=this.Qst,_={JJ:t.JJ,Ky:e.Ky,Yg:null!=(i=e.Yg)?i:0,hp:d.Ok(),t$:t.t$,A0:t.A0,N4:t.o5.N4},void 0===w.Mst||void 0===w.Ust){S.next=29;break}return dx.d$(fF,"Split muxed media segment in "+r+" track"),S.next=23,Rr.awrap(qD(s,n));case 23:g=S.sent,(m=KX(g.Xi,w)).UH&&Xs(this.Z5,Ky.Sd)&&(y=Nr({us:"o5",Xi:{us:gD.VX,Xi:m.UH},y5:Ky.Sd},_),this.g5(y)),m.XH&&Xs(this.Z5,Ky.Td)&&(k=Nr({us:"o5",Xi:{us:gD.VX,Xi:m.XH},y5:Ky.Td},_),this.g5(k)),S.next=41;break;case 29:b=0,p=this.Z5;case 30:if(!(b<p.length)){S.next=41;break}if((A=p[b])!==Ky.Td||void 0!==w.Mst){S.next=34;break}return S.abrupt("continue",38);case 34:if(A!==Ky.Sd||void 0!==w.Ust){S.next=36;break}return S.abrupt("continue",38);case 36:T=Nr({us:"o5",Xi:s,y5:A},_),this.g5(T);case 38:b++,S.next=30;break;case 41:case"end":return S.stop()}},null,this,null,Ve)},n}(MM)),mF=function(){function t(){}return t.prototype.cst=function(t,n,i,e){return new gF(this,t,n,i,e)},t}();function yF(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=t.us,i.next=i.t0===gD.VX?3:i.t0===gD.Gf?4:i.t0===gD.WX?7:8;break;case 3:return i.abrupt("return",t.Xi);case 4:return i.next=6,Rr.awrap(wF(t.Xi,KM,n));case 6:return i.abrupt("return",i.sent);case 7:return i.abrupt("return",new y(0));case 8:case"end":return i.stop()}},null,null,null,Ve)}!function(t){t[t.MPEGTS_TO_FMP4=0]="MPEGTS_TO_FMP4",t[t.RAW_AUDIO_TO_FMP4=1]="RAW_AUDIO_TO_FMP4"}(_F||(_F={}));var kF=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(wu),bF=["message","messageerror","error"],pF=function(t){function n(n){var i;return(i=t.call(this,Tm.Z_)||this).error=n,i}return S(n,t),n}(wu),AF=function(t){function n(n){var i;return(i=t.call(this)||this).Zst=void 0,i.Kst=void 0,i.Jst=[],i.$st=function(t){if(i.tut)t.nut();else{i.Zst=t,i.Zst.Ys(bF,i.qs);for(var n=0,e=i.Jst;n<e.length;n++){var r=e[n];t.iut(r.fu,r.eut)}Hs(i.Jst)}},i.rut=function(t){if(!i.tut){var n=t instanceof v?t:new v("Could not create Worker.");i.js(new pF(n)),i.nut()}},i.Kst=new Zs,n(i.Kst.zs).then(i.$st,i.rut),i}S(n,t);var i=n.prototype;return i.iut=function(t,n){this.tut||(void 0!==this.Zst?this.Zst.iut(t,n):this.Jst.push({fu:t,eut:n}))},i.nut=function(){this.tut||(this.Kst.Xs(),Hs(this.Jst),void 0!==this.Zst&&this.Zst.nut())},A(n,[{key:"tut",get:function(){return this.Kst.zs.Rs}}]),n}(lu);var TF=function(t){function n(n){var i;return(i=t.call(this)||this).Zst=void 0,i.sut=function(t){i.js(new kF("message",t.data))},i.uut=function(t){i.js(new kF("messageerror",t.data))},i.Mj=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.js(new pF(n)),i.nut()},i.Zst=new k(n),i.Zst.addEventListener("message",i.sut),i.Zst.addEventListener("messageerror",i.uut),i.Zst.addEventListener("error",i.Mj),i}S(n,t);var i=n.prototype;return i.iut=function(t,n){n?this.Zst.postMessage(t,n):this.Zst.postMessage(t)},i.nut=function(){this.Ks(),this.Zst.removeEventListener("message",this.sut),this.Zst.removeEventListener("messageerror",this.uut),this.Zst.removeEventListener("error",this.Mj),this.Zst.terminate()},n}(lu),SF=0,EF="iframe.html",IF=function(n){function e(e,r){var u;(u=n.call(this)||this).Nc=void 0,u.out=void 0,u.aut=void 0,u.cut=void 0,u.hut=function(){u.aut.removeEventListener("load",u.hut),u.aut.contentWindow.postMessage({type:"initialize",id:u.Nc,script:u.out},"*")},u.fut=function(t){t.origin===u.cut&&t.data.id===u.Nc&&("initialized"===t.data.type||("error"===t.data.type?(u.js(new pF(new v(t.data.data.message))),u.nut()):u.js(new kF("message",t.data.data))))},u.Nc=SF++,u.out=e;var o,a,c=i.Cr(EF,r);return u.aut=(o=c.href,(a=s.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,s.body.appendChild(a),a),u.cut=c.origin,u.aut.addEventListener("load",u.hut),t.addEventListener("message",u.fut),u}S(e,n);var r=e.prototype;return r.iut=function(t,n){n?this.aut.contentWindow.postMessage({type:"message",data:t},"*",n):this.aut.contentWindow.postMessage({type:"message",data:t},"*")},r.nut=function(){var n;this.aut.removeEventListener("load",this.hut),t.removeEventListener("message",this.fut),null==(n=this.aut.contentWindow)||n.postMessage({type:"terminate"},"*"),Je(this.aut)},e}(lu);function RF(t,n){return t=i.Pr(t,n),new AF(function(e){return function(t,n,e){var r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new TF(t),v.next=4,Rr.awrap(DF(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.nut(),tu(v.t0);case 11:if(!NF||!yf){v.next=42;break}return v.prev=12,v.next=15,Rr.awrap(i.jw.rd({od:t,Id:Zw.GET,$l:pf.Kn,zs:e}));case 15:return o=v.sent,v.next=18,Rr.awrap(o.xl(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),tu(v.t1),CF(v.t1);case 25:return v.prev=25,c=yf([u],{type:"application/javascript"}),a=URL.createObjectURL(c),r=new TF(a),v.next=31,Rr.awrap(DF(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(h=r)||h.nut(),tu(v.t2),NF=!1;case 39:return v.prev=39,a&&URL.revokeObjectURL(a),v.finish(39);case 42:return v.prev=42,r=new IF(t,n),v.next=46,Rr.awrap(DF(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.nut(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],Ve)}(t,n,e)})}var NF=!0;function DF(t,i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.uu(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw CF(e.error);case 5:if(W(s=e.data)&&"4.0.0"===s.vut){r.next=7;break}throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (4.0.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,Ve)}function CF(t){return new tf(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}var PF=function(){function t(t){var e=this;this.lut=void 0,this.wut=void 0,this._ut=void 0,this.Zst=void 0,this.gut=0,this.mut=Pr(),this.yut=0,this.kut=function(t){var n=t.data;if(void 0!==n.requestId){var i=e.mut.get(n.requestId);if(!i)return;e.mut.delete(n.requestId),n.success?(i.Hu(n.output),e.but()):i.Vu(new tf(n.errorCode,n.error))}else n.success||e.Bs(new tf(n.errorCode,n.error))},this._w=function(t){var i=new tf(n.ErrorCode.MEDIA_DECODE_ERROR,t.error.message,t.error);e.Bs(i)},this.lut=t,this._ut="undefined"!=typeof WebAssembly;var r=this._ut?"THEOplayer.transmux.js":"THEOplayer.transmux.asmjs.js";try{this.wut=i.Pr(r,t)}catch(t){throw new tf(n.ErrorCode.CONFIGURATION_ERROR,"Invalid player configuration: missing libraryLocation",t)}this.Zst=this.Aut()}var e=t.prototype;return e.jst=function(t){return this.Tut(_F.MPEGTS_TO_FMP4,t)},e.Yst=function(t){return this.Tut(_F.RAW_AUDIO_TO_FMP4,t)},e.Aut=function(){var t=RF(this.wut,this.lut);return t.Ys("message",this.kut),t.Ys("error",this._w),t},e.but=function(){this._ut||this.mut.size>0||this.yut<10||(this.Zst&&this.Zst.nut(),this.Zst=this.Aut(),this.yut=0)},e.Tut=function(t,n){var i=++this.gut;this.yut+=1;var e={type:t,id:i,input:n},r=new Wo;return this.mut.set(i,r),this.Zst.iut(e,[n.data.buffer]),r.Uu},e.Bs=function(t){void 0===t&&(t=new Ks),this.mut.forEach(function(n){return n.Vu(t)}),this.mut.clear(),this.Zst.nut()},t}(),BF=function(t){function n(n){var i;return(i=t.call(this)||this).Zst=void 0,i.Sut=n,i}S(n,t);var i=n.prototype;return i.qst=function(){var t;return null!=(t=this.Zst)?t:this.Zst=new PF(this.Sut)},i.Bs=function(){this.Zst&&(this.Zst.Bs(),this.Zst=void 0)},n}(mF),OF=function(){function t(t){this.Sut=t}return t.prototype.gK=function(){return new BF(this.Sut)},t}(),xF=function(){function t(t){this.HR=void 0,this.HR=t}var n=t.prototype;return n.DN=function(t){return this.HR.DN(t)},n.sJ=function(t){return this.HR.sJ(t)},n.YN=function(t){return this.HR.YN(t)},t}(),LF=function(t){function n(n){var i;return(i=t.call(this)||this).rN=void 0,i.sN=void 0,i.Eut=new Pm,i.Iut=function(t){return i.ey(t)},i.rN=n,i.Eut.L_=n.Mm,i.rN.Ys(cD,i.Iut),i}S(n,t);var i=n.prototype;return i.DL=function(){return this.rN.ly},i.PL=function(){return this.rN.wy},i.OL=function(){return this.rN.jg},i.LL=function(){return this.rN.Yg},i.Rut=function(){return this.rN.tD},i.Nut=function(){return this.rN.Qg},i.Dut=function(){return this.rN.Jg},i.YL=function(){return this.rN.Iy},i.KL=function(){return this.rN.og},i.JL=function(){return this.rN.Ny},i.$L=function(){return this.rN.tm},i.tM=function(){return this.Eut},i.ZY=function(){return this.rN.DU},i.Cut=function(){return this.rN.PN},i.Put=function(t){this.rN.PN=t},i.But=function(){return this.rN.Bq},i.$N=function(){return this.rN.$N()},i.Xm=function(){return this.rN.Xm()},i.Fm=function(){this.rN.Fm()},i.Bu=function(t,n){this.rN.Bu(t,n)},i.JN=function(t){this.rN.JN(t)},i.Zm=function(){this.rN.Zm()},i.Km=function(){this.rN.Km()},i.TE=function(t,n,i,e,r,s,u){return this.rN.TE(t,n,i,e,r,s,u)},i.FN=function(){return this.rN.FN()},i.zN=function(t,n,i,e){return this.rN.zN(t,n,i,e)},i.IE=function(t){this.rN.IE(t)},i.GN=function(){this.rN.GN()},i.MX=function(t){return this.rN.MX(t)},i.zc=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(this.rN.zc(t));case 2:return n=e.sent,i=t.us===Kp.NE?this.Out(n):this.xut(n),this.sN=i,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,this,null,Ve)},i.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sN){t.next=4;break}return t.next=3,Rr.awrap(this.sN.Bs());case 3:this.sN=void 0;case 4:return t.next=6,Rr.awrap(this.rN.R_());case 6:case"end":return t.stop()}},null,this,null,Ve)},i.gY=function(){this.rN.gY()},i.mY=function(){this.rN.mY()},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ks(),this.rN.Js(cD,this.Iut),this.Eut.L_=void 0,this.Eut.Od(),!this.sN){t.next=8;break}return t.next=7,Rr.awrap(this.sN.Bs());case 7:this.sN=void 0;case 8:case"end":return t.stop()}},null,this,null,Ve)},i.yY=function(){this.rN.yY()},i.Lut=function(t){this.rN.Js(cD,this.Iut),this.rN=t,this.Eut.L_=t.Mm,this.rN.Ys(cD,this.Iut)},i.ey=function(t){this.js(t)},A(n,[{key:"Mut",get:function(){return this.rN}},{key:"ly",get:function(){return this.DL()}},{key:"wy",get:function(){return this.PL()}},{key:"jg",get:function(){return this.OL()}},{key:"RU",get:function(){return this.rN.RU}},{key:"Yg",get:function(){return this.LL()}},{key:"tD",get:function(){return this.Rut()}},{key:"Qg",get:function(){return this.Nut()}},{key:"wu",get:function(){return this.rN.wu}},{key:"lT",get:function(){return this.rN.lT}},{key:"Pk",get:function(){return this.rN.Pk}},{key:"WN",get:function(){return this.rN.WN}},{key:"Kg",get:function(){return this.rN.Kg},set:function(t){this.rN.Kg=t}},{key:"Jg",get:function(){return this.Dut()}},{key:"$g",get:function(){return this.rN.$g},set:function(t){this.rN.$g=t}},{key:"Iy",get:function(){return this.YL()}},{key:"og",get:function(){return this.KL()}},{key:"Ny",get:function(){return this.JL()}},{key:"tm",get:function(){return this.$L()}},{key:"Mm",get:function(){return this.tM()}},{key:"DU",get:function(){return this.ZY()}},{key:"pY",get:function(){return this.rN.pY}},{key:"um",get:function(){return this.rN.um},set:function(t){this.rN.um=t}},{key:"kY",get:function(){return this.rN.kY}},{key:"gy",get:function(){return this.rN.gy}},{key:"AY",get:function(){return this.rN.AY}},{key:"PN",get:function(){return this.Cut()},set:function(t){this.Put(t)}},{key:"Bq",get:function(){return this.But()}}]),n}(lu),MF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.bY=function(t){this.rN.bY(t)},i.Kj=function(){this.rN.Kj()},i.vy=function(){this.rN.vy()},A(n,[{key:"CN",get:function(){return this.rN.CN}},{key:"bW",get:function(){return this.rN.bW}},{key:"Cy",get:function(){return this.rN.Cy},set:function(t){this.rN.Cy=t}}]),n}(LF),UF=function(){function t(t){this.sN=void 0,this.sN=t}var n=t.prototype;return n.oh=function(){return this.sN.Jc},n.JL=function(){return this.sN.Ny},n.NX=function(t){return this.sN.NX(t)},n.DX=function(t){return this.sN.DX(t)},n.Bs=function(){return Ve.resolve()},A(t,[{key:"Jc",get:function(){return this.oh()}},{key:"Ny",get:function(){return this.JL()}},{key:"Lm",get:function(){return this.sN.Lm}}]),t}(),XF=function(t){function n(n){var i;return(i=t.call(this,n)||this).tW=void 0,i.nW=void 0,i.Uut=function(t){return i.Xut(t)},i}S(n,t);var i=n.prototype;return i.DL=function(){return this.sN.ly},i.LL=function(){return this.sN.Yg},i.Fut=function(){return this.sN.UX},i.cW=function(t){this.sN.cW(t)},i.vW=function(t,n,i,e){this.sN.vW(t,n,i,e)},i.fV=function(){this.sN.fV()},i.oV=function(){this.sN.oV()},i.Bs=function(){return this.tW&&(this.tW.Bs(),this.tW=void 0),this.nW&&(this.nW.Bs(),this.nW=void 0),t.prototype.Bs.call(this)},i.Hut=function(t){this.sN=t,this.tW?t.ZV?this.tW.A4(t.ZV):(this.tW.Bs(),this.tW=void 0):t.ZV&&(this.tW=this.zut(t.ZV),this.tW.Ys(yD,this.Uut)),this.nW?t.KV?this.nW.A4(t.KV):(this.nW.Bs(),this.nW=void 0):t.KV&&(this.nW=this.zut(t.KV),this.nW.Ys(yD,this.Uut))},i.Xut=function(t){},A(n,[{key:"ZV",get:function(){return this.tW}},{key:"KV",get:function(){return this.nW}},{key:"ly",get:function(){return this.DL()}},{key:"Yg",get:function(){return this.LL()}},{key:"UX",get:function(){return this.Fut()}}]),n}(UF),FF=function(t){function n(n){var i;return(i=t.call(this)||this).Rh=void 0,i.dL=0,i.wL=0,i.Rh=n,i}S(n,t);var i=n.prototype;return i.Hz=function(t,n,i){return Ve.reject(new v("Invalid media buffer"))},i.yV=function(){return Ve.reject(new v("Invalid media buffer"))},i.Wz=function(t,n,i){return Ve.reject(new v("Invalid media buffer"))},i.UX=function(){return!1},i.fV=function(){},i.gV=function(t,n){},i.mV=function(t,n){},i.Vc=function(t,n,i){return Ve.resolve()},i.$z=function(t,n){return Ve.reject(new v("Invalid media buffer"))},i.Fy=function(t,n){return Ve.reject(new v("Invalid media buffer"))},i.NX=function(t){return!1},i.DX=function(t){return Ve.reject(new v("Invalid media buffer"))},i.Bs=function(){this.Ks()},A(n,[{key:"hL",get:function(){return this.wL},set:function(t){this.wL=t}},{key:"ly",get:function(){return iE.mC()}},{key:"Jc",get:function(){return this.Rh}},{key:"pV",get:function(){return Ky.fd}},{key:"AV",get:function(){return iE.mC()}},{key:"Vut",get:function(){return!1}},{key:"uL",get:function(){return this.dL},set:function(t){this.dL=t}}]),n}(lu),HF=function(t){function n(n){var i;return(i=t.call(this,n)||this).rN=void 0,i}S(n,t);var i=n.prototype;return i.Hz=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return $s(i),e.next=3,Rr.awrap(this.Wut(this.rN.jg,null==n?void 0:n.U8,null==n?void 0:n.Yg));case 3:if($s(i),t.us!==gD.Gf){e.next=10;break}return e.next=7,Rr.awrap(this.Gut(t,n,i));case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,Rr.awrap(this.qut(t,n,i));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},null,this,null,Ve)},i.Gut=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=t;case 1:return r=Nw(e.Xi),s=r[0],u=r[1],e={us:gD.Gf,Xi:s},o.prev=4,o.next=7,Rr.awrap(this.jut(e,n,i));case 7:return u.cancel(new Ks).catch(Z),o.abrupt("return");case 11:if(o.prev=11,o.t0=o.catch(4),!YR(o.t0)){o.next=20;break}return o.next=16,Rr.awrap(this.Wut(this.rN.jg,n.U8,n.Yg,i));case 16:if(!o.sent){o.next=20;break}return e={us:gD.Gf,Xi:u},o.abrupt("continue",1);case 20:throw u.cancel(o.t0).catch(Z),o.t0;case 22:o.next=1;break;case 24:case"end":return o.stop()}},null,this,[[4,11]],Ve)},i.qut=function(t,n,i){return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,$s(i),e.next=5,Rr.awrap(this.jut(t,n,i));case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(1),!YR(e.t0)){e.next=16;break}return e.next=13,Rr.awrap(this.Wut(this.rN.jg,n.U8,n.Yg,i));case 13:if(!e.sent){e.next=16;break}return e.abrupt("continue",0);case 16:throw e.t0;case 17:e.next=0;break;case 19:case"end":return e.stop()}},null,this,[[1,8]],Ve)},i.Wut=function(t,n,i,e){var r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:r=jR(t,n,i,this.ly,this.uL,this.hL),s=0;case 2:if(!(s<r.length)){c.next=9;break}return u=r[s],o=u[0],a=u[1],c.next=6,Rr.awrap(this.Yut(o,a,e));case 6:s++,c.next=2;break;case 9:return c.abrupt("return",r.length>0);case 10:case"end":return c.stop()}},null,this,null,Ve)},i.jut=function(n,i,e){return t.prototype.Hz.call(this,n,i,e)},i.Yut=function(n,i,e){return t.prototype.Vc.call(this,n,i,e)},A(n,[{key:"rJ",get:function(){return this.rN},set:function(t){this.rN=t}}]),n}(function(t){function n(n){var i;return(i=t.call(this)||this).e4=void 0,i.Qut=function(t){return i.ey(t)},i.e4=n,i.e4.Ys(yD,i.Qut),i}S(n,t);var i=n.prototype;return i.Zut=function(){return this.e4.hL},i.Kut=function(t){this.e4.hL=t},i.DL=function(){return this.e4.ly},i.oh=function(){return this.e4.Jc},i.Jut=function(){return this.e4.AV},i.$ut=function(){return this.e4.uL},i.tot=function(t){this.e4.uL=t},i.Hz=function(t,n,i){return this.e4.Hz(t,n,i)},i.yV=function(){return this.e4.yV()},i.Wz=function(t,n,i){return this.e4.Wz(t,n,i)},i.UX=function(){return this.e4.UX()},i.fV=function(){this.e4.fV()},i.gV=function(t,n){this.e4.gV(t,n)},i.mV=function(t,n){this.e4.mV(t,n)},i.Vc=function(t,n,i){return this.e4.Vc(t,n,i)},i.$z=function(t,n){return this.e4.$z(t,n)},i.NX=function(t){return this.e4.NX(t)},i.DX=function(t){return this.e4.DX(t)},i.ey=function(t){this.js(t)},i.Bs=function(){this.Ks(),this.A4(new FF(this.Jc))},i.A4=function(t){this.e4.Js(yD,this.Qut),this.e4=t,this.e4.Ys(yD,this.Qut)},A(n,[{key:"hL",get:function(){return this.Zut()},set:function(t){this.Kut(t)}},{key:"ly",get:function(){return this.DL()}},{key:"Jc",get:function(){return this.oh()}},{key:"pV",get:function(){return this.e4.pV}},{key:"AV",get:function(){return this.Jut()}},{key:"uL",get:function(){return this.$ut()},set:function(t){this.tot(t)}}]),n}(lu)),zF=function(t){function n(n){var i;return(i=t.call(this,n)||this).rN=void 0,i.Hut(n),i}return S(n,t),n.prototype.zut=function(t){var n=new HF(t);return n.rJ=this.rN,n},A(n,[{key:"rJ",get:function(){return this.rN},set:function(t){this.rN=t,this.tW&&(this.tW.rJ=t),this.nW&&(this.nW.rJ=t)}}]),n}(XF),VF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"Ry",get:function(){return this.sN.Ry},set:function(t){this.sN.Ry=t}}]),n}(UF),WF=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.bY=function(t){this.rN.bY(t)},i.Kj=function(){this.rN.Kj()},i.vy=function(){this.rN.vy()},i.Jm=function(){return this.rN.Jm()},A(n,[{key:"CN",get:function(){return this.rN.CN}},{key:"bW",get:function(){return this.rN.bW}},{key:"im",get:function(){return this.rN.im}},{key:"nm",get:function(){return this.rN.nm}},{key:"Cy",get:function(){return this.rN.Cy},set:function(t){this.rN.Cy=t}}]),n}(LF),GF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.xut=function(t){var n=new zF(t);return n.rJ=this,n},i.Out=function(t){return new VF(t)},A(n,[{key:"Mut",get:function(){return this.rN}}]),n}(MF),qF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.xut=function(t){var n=new zF(t);return n.rJ=this,n},i.Out=function(t){return new VF(t)},A(n,[{key:"Mut",get:function(){return this.rN}}]),n}(WF),jF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.DN=function(n){return n===Ky.Sd?new qF(t.prototype.DN.call(this,n)):n===Ky.Td?new GF(t.prototype.DN.call(this,n)):void 0},i.YN=function(n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n,e.next=3,Rr.awrap(i.Bs());case 3:return e.next=5,Rr.awrap(t.prototype.YN.call(this,i.Mut));case 5:case"end":return e.stop()}},null,this,null,Ve)},n}(xF);function YF(t){return s_(t)}function QF(t,n){var i=s_(t);return n?""+i+n:""+i}var ZF=function(){function t(t,n,i,e){this.iot=t,this.eot=n,this.rot=i,this.uot=e}var n=t.prototype;return n.Z3=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.iot.oot(t.map(YF)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,Ve)},n.Jrt=function(t,n){var i=QF(t,n);return this.eot.Tu(i)},n.V4=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=QF(t,n),r.next=3,Rr.awrap(this.rot.Su(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,Ve)},n.zM=function(t){return this.uot.Su(t)},t}(),KF=function(){function t(){}var n=t.prototype;return n.aot=function(t){return Ve.resolve(!1)},n.cot=function(t){return Ve.reject(JF)},n.hot=function(t){return Ve.reject(JF)},n.Tu=function(t){return Ve.resolve(!1)},n.Su=function(t){return Ve.resolve(void 0)},n.fot=function(t,n){return Ve.resolve(void 0)},n.oot=function(t){return Ve.resolve([])},n.vot=function(){return Ve.resolve([])},n.lot=function(t){return Ve.resolve([])},n.dot=function(t,n){return Ve.resolve([])},n.Vc=function(t){return Ve.reject(JF)},n.wot=function(t){return Ve.reject(JF)},n._ot=function(){return Ve.reject(JF)},t}(),JF="Storage disabled",$F=function(){function t(){this.got=void 0,this.KK=void 0,this.mot=void 0,this.yot=void 0,this.kot=void 0,this.got=new KF,this.KK=new KF,this.mot=new KF,this.yot=new KF,this.kot=new KF}return t.gK=function(){return Ve.resolve(new t)},t.prototype.bot=function(t){return Ve.reject(tH)},t}(),tH="Storage disabled",nH=function(){function t(t){var n=this;this.Us=new Wo,this.pot=void 0,this.Us.Hu(t),this.Us.Uu.then(function(t){n.pot=t})}var n=t.prototype;return n.aot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.aot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.cot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Aot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.cot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.hot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Aot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.hot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Tu=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Tu(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.Su=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Su(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.fot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Aot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.fot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.oot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.oot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.vot=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.pot,n.t0){n.next=5;break}return n.next=4,Rr.awrap(this.Aot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.vot());case 7:case"end":return n.stop()}},null,this,null,Ve)},n.lot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.lot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.dot=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pot,e.t0){e.next=5;break}return e.next=4,Rr.awrap(this.Aot);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.dot(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.Vc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.Vc(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.wot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Aot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.wot(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n._ot=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.pot,n.t0){n.next=5;break}return n.next=4,Rr.awrap(this.Aot);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t._ot());case 7:case"end":return n.stop()}},null,this,null,Ve)},A(t,[{key:"Aot",get:function(){return this.Us.Uu}}]),t}(),iH=function(){function t(t){var n=this;this.Us=new Wo,this.Tot=void 0,this.KK=void 0,this.got=void 0,this.mot=void 0,this.yot=void 0,this.kot=void 0,this.Us.Hu(t);var i=this.Us.Uu;i.then(function(t){n.Tot=t}),this.KK=new nH(i.then(function(t){return t.KK})),this.got=new nH(i.then(function(t){return t.got})),this.mot=new nH(i.then(function(t){return t.mot})),this.yot=new nH(i.then(function(t){return t.yot})),this.kot=new nH(i.then(function(t){return t.kot}))}return t.prototype.bot=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.Tot,i.t0){i.next=5;break}return i.next=4,Rr.awrap(this.Sot);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Rr.awrap(n.bot(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,Ve)},A(t,[{key:"Sot",get:function(){return this.Us.Uu}}]),t}();function eH(t){return new v("This storage cannot handle persistency type "+t)}var rH=function(){function t(){this.Uo=[]}var n=t.prototype;return n.aot=function(t){return Ve.resolve("temporary"===t)},n.cot=function(t,n){return void 0===n&&(n="temporary"),"temporary"!==n?Ve.reject(eH(n)):(this.Eot(t.key),this.Uo.push(t),Ve.resolve())},n.hot=function(t,n){if(void 0===n&&(n="temporary"),"temporary"!==n)return Ve.reject(eH(n));for(var i=0;i<t.length;i++){var e=t[i];this.Eot(e.key)}for(var r=0;r<t.length;r++){var s=t[r];this.Uo.push(s)}return Ve.resolve()},n.Tu=function(t){return Ve.resolve(Boolean(this.Iot(t)))},n.Su=function(t){return Ve.resolve(this.Iot(t))},n.fot=function(t,n){return Ve.resolve(this.Rot(t,n))},n.oot=function(t){var n=this,i=t?t.map(function(t){return n.Iot(t)}):this.Uo;return Ve.resolve(i.filter(X))},n.vot=function(){return Ve.resolve([].concat(this.Uo))},n.lot=function(t){return this.dot(t,"key")},n.dot=function(t,n){var i=this.Uo.filter(function(i){return i[n]===t});return Ve.resolve(i)},n.Vc=function(t){return this.Eot(t),Ve.resolve()},n.wot=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Eot(i)}return Ve.resolve()},n._ot=function(){return Hs(this.Uo),Ve.resolve()},n.Iot=function(t){return this.Rot(t,"key")},n.Rot=function(t,n){for(var i=0,e=this.Uo;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.Eot=function(t){var n=this.Iot(t);n&&Ms(this.Uo,n)},t}(),sH=function(){function t(){this.got=void 0,this.KK=void 0,this.mot=void 0,this.yot=void 0,this.kot=void 0,this.got=new rH,this.KK=new rH,this.mot=new rH,this.yot=new rH,this.kot=new rH}return t.gK=function(){return Ve.resolve(new t)},t.prototype.bot=function(t){return t(this)},t}(),uH=function(){function t(t){this.Not=t}var n=t.prototype;return n.aot=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Not;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Rr.awrap(e.aot(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.cot=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Not;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Rr.awrap(r.aot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.cot(t));case 8:i++,s.next=2;break;case 11:throw eH(n);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.hot=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:void 0===n&&(n="persistent"),i=0,e=this.Not;case 2:if(!(i<e.length)){s.next=11;break}return r=e[i],s.next=6,Rr.awrap(r.aot(n));case 6:if(!s.sent){s.next=8;break}return s.abrupt("return",r.hot(t));case 8:i++,s.next=2;break;case 11:throw eH(n);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.Tu=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Not;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Rr.awrap(e.Tu(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.Su=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.Not;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Rr.awrap(e.Su(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.fot=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.Not;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Rr.awrap(r.fot(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,Ve)},n.oot=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Not;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Rr.awrap(r.oot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n.vot=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.Not;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Rr.awrap(e.vot());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,Ve)},n.lot=function(t){var n,i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.Not;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Rr.awrap(r.lot(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n.dot=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.Not;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Rr.awrap(s.dot(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,Ve)},n.Vc=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Not;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Rr.awrap(e.Vc(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n.wot=function(t){var n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.Not;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Rr.awrap(e.wot(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n._ot=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.Not;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Rr.awrap(i._ot());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ve)},t}();function oH(t){return function(){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(Ve.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",aH.gK(n));case 4:case"end":return i.stop()}},null,null,null,Ve)}}var aH=function(){function t(t){this.Dot=void 0,this.Cot=void 0,this.Pot=void 0,this.Bot=void 0,this.Oot=void 0,this.xot=void 0,this.Dot=t,this.Cot=new uH(t.map(function(t){return t.yot})),this.Pot=new uH(t.map(function(t){return t.kot})),this.Bot=new uH(t.map(function(t){return t.mot})),this.Oot=new uH(t.map(function(t){return t.got})),this.xot=new uH(t.map(function(t){return t.KK}))}return t.gK=function(n){return Ve.resolve(new t(n))},t.prototype.bot=function(n){var i=this;if(0===this.Dot.length)return n(this);var e=[],r=0;return this.Dot[r].bot(function s(u){return e.push(u),++r<i.Dot.length?i.Dot[r].bot(s):n(new t(e))})},A(t,[{key:"yot",get:function(){return this.Cot}},{key:"kot",get:function(){return this.Pot}},{key:"mot",get:function(){return this.Bot}},{key:"got",get:function(){return this.Oot}},{key:"KK",get:function(){return this.xot}}]),t}(),cH=function(){function t(t){this.Lot=void 0,this.Mot=[],this.Uot=!0,this.Lot=t}var n=t.prototype;return n.gK=function(){return new iH(this.Xot())},n.Xot=function(){var t,n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uot){e.next=4;break}return e.next=3,Rr.awrap(Ve.resolve());case 3:this.Uot=!1;case 4:t=0,n=this.Mot;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Rr.awrap(oH([sH.gK,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Rr.awrap(oH([sH.gK,this.Lot])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],Ve)},n.wX=function(t){if(!this.Uot)throw new v("Registration overdue");this.Mot.push(t)},t}(),hH=function(){function t(){}return t.wX=function(n){t.HR.wX(n)},A(t,null,[{key:"Gn",get:function(){return t.Fot||(t.Fot=t.HR.gK()),t.Fot}}]),t}();hH.HR=new cH($F.gK),hH.Fot=void 0;var fH=function(t){function n(n,i,e,r,s,u){var o,a=new jF(n),c=a.DN(Ky.Sd);return(o=t.call(this,c,i,e,r,s,u)||this).eN=void 0,o.eN=a,o}return S(n,t),n.prototype.Od=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.prototype.Od.call(this));case 2:return n.next=4,Rr.awrap(this.eN.YN(this.rN));case 4:case"end":return n.stop()}},null,this,null,Ve)},n}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Jm=function(){if(void 0!==this.rN.nm)return this.rN.Jm()},A(n,[{key:"Cy",get:function(){return!1},set:function(t){}}]),n}(UX));qS(new(function(t){function i(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).iD=RS.Ng,n}S(i,t);var e=i.prototype;return e.II=function(t,n,i,e,r,s){return new fH(n,i,r,new jX,new OF(e.libraryLocation),new ZF(hH.Gn.mot,hH.Gn.got,hH.Gn.KK,hH.Gn.kot))},e.eD=function(i,e){var r;if(!t.prototype.eD.call(this,i,e))return!1;if(null!=(r=i.hls)&&r.useLegacy){if(!Xs(uD,"hls-legacy"))throw new tf(n.ErrorCode.SOURCE_NOT_SUPPORTED,'The given source requires the "hls-legacy" feature to be enabled.');return!1}return!0},e.rD=function(){return!0},i}(function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.eD=function(n,i){var e;return!!r.MediaSource&&(!L.un&&!L.Hn&&(!i.manifestMetadataTrack&&((!L.Cn||null==(e=n.contentProtection)||!e.fairplay)&&t.prototype.eD.call(this,n,i))))},n}(XX)))),dx.X_=function(){return!(!r||!r.THEOplayerDebugLogsEnabled)};var vH=[];function lH(){vH.shift()()}var dH,wH=function(){function t(t){this.Hot=void 0,this.zot=void 0,this.Vot=void 0,this.Vot=t}var n=t.prototype;return n.Wot=function(t){return this.Hot=this.Hot||{},void 0===this.Hot[t]&&(this.Hot[t]=[]),this.Hot[t]},n.addEventListener=function(t,n){var i=this.Wot(t);-1===i.indexOf(n)&&i.push(n)},n.Zs=function(t){(this.zot||(this.zot=[])).push(t)},n.removeEventListener=function(t,n){var i=this.Wot(t);n?Ms(i,n):i.length=0},n.nu=function(t){var n=this.zot;n&&Ms(n,t)},n.Ks=function(){this.Hot=void 0},n.dispatchEvent=function(t,n){if(n)return i=this.dispatchEvent.bind(this,t),vH.push(i),void a(lH,0);var i;"string"==typeof t&&(t={type:t});for(var e=this.Wot(t.type).slice(),r=this.zot&&this.zot.slice(),s=0;s<e.length;s++){e[s].call(this.Vot||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.Vot||this,t)}},n.Got=function(t){return Boolean(this.Hot&&this.Hot[t]&&this.Hot[t].length)},n.qot=function(){return this.Hot?d.keys(this.Hot):[]},t}(),_H=function(t){function n(n,i){var e,r=yH[n];return(e=t.call(this,r?r.fu:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.jot,e.helpLinkText=r&&r.Yot,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Jt);!function(t){t.Qot="LICENSE_INVALID",t.Zot="MANIFEST_NOT_FOUND",t.Kot="MANIFEST_CORS_ERROR",t.Jot="INVALID_HLS_MANIFEST",t.$ot="PLAYBACK_ISSUE",t.nat="AUDIO_ISSUE",t.iat="BROWSER_SUPPORT_ISSUE",t.eat="INVALID_KEY",t.rat="DECRYPTION_ERROR",t.sat="AD_BLOCK_DETECTED",t.uat="THEOPLAYER_NOT_INITIALIZED",t.Z_="ERROR",t.oat="MANIFEST_SEQUENCE_RESET_ERROR",t.aat="PLAYER_INCORRECTLY_CONFIGURED",t.fat="UNSUPPORTED"}(dH||(dH={}));for(var gH,mH=[{Wu:dH.Qot,fu:"The license for this player is invalid. Please contact your service provider for additional information."},{Wu:dH.Zot,fu:"Could not load the manifest file."},{Wu:dH.Kot,fu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",jot:"https://www.theoplayer.com/documentation/cors.html",vat:!1},{Wu:dH.Jot,fu:"The source of the player is an invalid HLS manifest.",jot:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Wu:dH.$ot,fu:"There appears to be a playback issue."},{Wu:dH.nat,fu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Wu:dH.iat,fu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Wu:dH.eat,fu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Wu:dH.rat,fu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Wu:dH.sat,fu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Wu:dH.uat,fu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Wu:dH.Z_,fu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Wu:dH.oat,fu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Wu:dH.aat,fu:"The player is incorrectly configured.",jot:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Wu:dH.fat,fu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],yH={},kH=0;kH<mH.length;kH++){var bH=mH[kH];yH[bH.Wu]=bH}function pH(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function AH(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function TH(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function SH(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Vo(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var EH,IH="x-";function RH(t,n,i,e){var r=t.split("@"),s=pH(n,i),u=_(r[0],10),o=r[1]?_(r[1],10):e;return{WJ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},dat:{xD:o,MD:o+u-1}}}function NH(t,n,i){var e,r,s,u,o,a=0,c=0,h=0,f=null,v=0,l=!1,d=[],m=null,k=0,b=t.match(/[^\r\n]+/g);if(!b||"#EXTM3U"!==b[0].trim())throw new _H(dH.Jot,{code:"HMP2670",uri:n});for(var p={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<b.length;A+=1){var T=b[A].trim();if(d.push(T+""),AH(T,"#EXT")){if(AH(T,"#EXTINF"))h=(h=g(TH(T)))||.5;else if(AH(T,"#EXT-X-BYTERANGE"))f=TH(T);else if(AH(T,"#EXT-X-KEY"))(s=SH(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=pH(s.uri,i);else if(AH(T,"#EXT-X-DISCONTINUITY")&&!AH(T,"#EXT-X-DISCONTINUITY-"))l=!0,v+=1;else if(AH(T,"#EXT-X-STREAM-INF"))(r=SH(T)).VJ=c++,(A+=1)<b.length&&(r.uri=pH(b[A].trim(),i),p.streams.push(r));else if(AH(T,"#EXT-X-MEDIA")&&!AH(T,"#EXT-X-MEDIA-"))(u=SH(T)).uri&&(u.uri=pH(u.uri,i)),p.media.push(u);else if(AH(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(TH(T));else if(AH(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))p.wat=!0,p._at=_(TH(T),10);else if(AH(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(TH(T),10),p.gat=!0,p.mat=a;else if(AH(T,"#EXT-X-TARGETDURATION"))p.targetDuration=_(TH(T),10),p.hasTargetDuration=!0;else if(AH(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))p.isEvent=!0;else if(AH(T,"#EXT-X-ENDLIST"))p.live=!1,p.hasEnd=!0;else if(AH(T,"#EXT-X-MAP")){var S=SH(T),E=S.uri,I=S.byterange;o=I?RH(I,E,i,0):pH(E,i)}else if(AH(T,"#EXT-X-VERSION"))p.version=_(TH(T),10);else if(AH(T,"#EXT-X-DATERANGE")){var R=DH(T);p.dateRanges.push(R)}}else if(AH(T,"#"));else if(0!==T.length){f?k=(e=RH(f,T,i,k)).dat.MD+1:e=pH(T,i);var N,D=s&&Nr({},s);s&&void 0===s.iv&&(N=a%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),p.fragments.push({start:0,duration:h,uri:e,VJ:a,yat:l,t$:v,key:D,ZJ:m,bat:d,pat:!1,Aat:o}),a+=1,h=0,f=null,l=!1,m=null,d=[]}}return p.hasEnd&&p.fragments.length&&(p.fragments[p.fragments.length-1].pat=!0),p.isMasterPlaylist=0!==p.streams.length,p.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=w.min(i,o.duration),e=w.max(e,o.duration)}return{Tat:i,Sat:e,Eat:n?t.fragments[n-1].duration:0,Iat:r/n,Rat:r}}(p),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(p),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(p),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.VJ-n.VJ})}(p),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Us(t.media,s)}}(p,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(p),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(p),p}function DH(t){var n=SH(t),i=function(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i];vs(r,IH)&&(n[r.substr(IH.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{F_:n.id,IJ:n.class,tD:e,RJ:r,Yg:n.duration,NJ:n["planned-duration"],EJ:s,DJ:i,PJ:u,OJ:o,xJ:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(EH||(EH={}));(gH={})[EH.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",gH[EH.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",gH[EH.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",gH[EH.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",gH[EH.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",gH[EH.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",gH[EH.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var CH=function(){function t(){}return t.prototype.LA=function(t,n,i){return NH(t,n,i)},t}(),PH=3,BH=function(){function t(t,n,i){void 0===i&&(i=PH),this.bE=t,this.H4=n,this.Nat=i}var n=t.prototype;return n.Dat=function(t,n,i){return this.Cat(t,n,!0,i)},n.Pat=function(t,n,i){return this.Cat(t,n,!1,i)},n.Cat=function(t,n,i,e){var r,s,u,o,a,c,h,f;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.Nat)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Rr.awrap(cu(s,e));case 6:s<1e4&&(s=w.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return a=t[o],i.prev=10,c=new n_({od:a,$l:pf.Kn,Jl:n,Cd:this.H4,Id:Zw.GET,us:Kw.vd,Nd:Jw.fd,zs:e}),i.next=14,Rr.awrap(this.bE.rd(c));case 14:return h=i.sent,i.next=17,Rr.awrap(h.xl(e));case 17:return f=i.sent,i.abrupt("return",{Bat:f,Oat:a,ud:h.ud});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],Ve)},t}(),OH=function(){function t(t){this.xat=void 0,this.xat=t}return t.prototype.Lat=function(t,n,i,e){var r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:void 0===e&&(e=!1),s=0,u=this.xat;case 2:if(!(s<u.length)){a.next=17;break}return o=u[s],a.prev=4,a.next=7,Rr.awrap(o.Lat(t,n,i,e));case 7:return a.abrupt("return",a.sent);case 10:a.prev=10,a.t0=a.catch(4),tu(a.t0),r=a.t0;case 14:s++,a.next=2;break;case 17:throw r;case 18:case"end":return a.stop()}},null,this,[[4,10]],Ve)},t}(),xH=function(){function t(t){this.M3=t}return t.prototype.Lat=function(t,n,i,e){var r;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.M3.Z3(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Bat:r.data,Oat:r.locationURL,ud:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,Ve)},t}(),LH=function(){function t(t){this.Mat=t}return t.prototype.Lat=function(t,n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Rr.awrap(this.Mat.Dat(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Rr.awrap(this.Mat.Pat(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},t}();function MH(t,n){return new OH([new xH(n),new LH(t)])}var UH=function(){function t(t,n,i){this.Uat=t,this.Nst=n,this.Xat=i}var n=t.prototype;return n.Lat=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Rr.awrap(this.Uat.Lat(t,n,i,e));case 3:return r=s.sent,s.next=6,Rr.awrap(this.Fat(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,Ve)},n.Fat=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Nst.cot({key:YF(t.Oat),locationURL:s_(t.Oat),responseURL:s_(t.ud),data:t.Bat,references:[this.Xat.F_]}));case 2:case"end":return n.stop()}},null,this,null,Ve)},t}();function XH(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var FH,HH=function(){function t(t,n,i){this.Rh=void 0,this.bE=void 0,this.Uat=void 0,this.Hat=void 0,this.Hat=new CH,this.Rh=t,this.bE=i;var e=this.Rh&&this.Rh.crossOrigin===Xm.Bg,r=new BH(i,e,1);this.Uat=MH(r,new ZF(hH.Gn.mot,hH.Gn.got,hH.Gn.KK,hH.Gn.kot))}var n=t.prototype;return n.zc=function(t,n,i){var e=this.Cw(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Cw=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Rr.awrap(this.Uat.Lat([t],n));case 3:return i=r.sent,t=i.ud,e=this.Hat.LA(i.Bat,t,XH(t)),r.abrupt("return",{pm:e,zat:i.Bat});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof f_)){r.next=16;break}throw new _H(dH.Zot,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof v_)){r.next=24;break}if(0!==r.t0.jd.Kl){r.next=21;break}throw new _H(dH.Kot,{code:"MFL3900",uri:t,status:r.t0.jd.Kl});case 21:throw new _H(dH.Zot,{code:"MFL4100",uri:t,status:r.t0.jd.Kl});case 22:r.next=25;break;case 24:throw new _H(dH.Z_,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],Ve)},t}(),zH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Vat=void 0,e.Wat=void 0,e.Gat=void 0,e.qat=void 0,e.jat=void 0,e.Yat=void 0,e.Qat=void 0,e.uN=void 0,e.Vat=new HH(i||{},hH.Gn.mot,n),e}S(n,t);var i=n.prototype;return i.Hm=function(){void 0!==this.qat&&(c(this.qat),this.qat=void 0),this.Gat&&this.Gat.rd&&(this.Gat=void 0)},i.Zat=function(t){if(this.Qat)for(var n=0,i=this.Qat.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.Kat=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.Rat<3*s)?1e3*u.Tat:s?1e3*s:1e4,i===n&&(r/=2),r=w.max(r-e,1e3)},i.Jat=function(t){if(t.fragments.length>0)for(var n=this.Zat(t.fragments[0].uri),i=n&&n.VJ||0,e=0,r=t.fragments;e<r.length;e++){r[e].VJ+=i}},i.$at=function(t,i,e,r,s,u){var o=this;if(this.Gat&&e===this.Gat.rd){var c=zI()-i;if(r){this.Gat=void 0,this.uN=r;var h={type:"wu",wu:r};return this.dispatchEvent(h),s&&s(r)}this.Gat=void 0;var f=u.pm,v=u.zat;f.gat||this.Jat(f),t===this.Wat&&(this.Yat=f),this.Qat=f;var l=n.Kat(f,v,this.jat,c);f.live?f.isMasterPlaylist||(this.qat=a(function(){return o.Cw(t)},l)):this.Hm(),s&&s(r,u);var d={type:"tct",manifest:f,manifestText:v};this.dispatchEvent(d),this.jat=v}},i.Cw=function(t,n){var i=this,e=zI(),r=t;c(this.qat),this.qat=void 0;var s=this.Vat.zc(r,{},function(r,u){return i.$at(t,e,s,r,n,u)});this.Gat={rd:s,od:t}},i.xD=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.Qat?this.Qat.uri:this.Wat))&&(this.Gat&&this.Gat.od===t?n&&(i=function(t){s.removeEventListener("wu",e),s.removeEventListener("tct",i);var r=t;n(null,{pm:r.manifest,zat:r.manifestText})},e=function(t){s.removeEventListener("wu",e),s.removeEventListener("tct",i),n(t.wu)},this.addEventListener("wu",e),this.addEventListener("tct",i)):(this.Hm(),this.Cw(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.nct=function(t){t&&(this.jat=void 0,this.Yat&&this.Yat.isMasterPlaylist?this.xD(t.uri):this.Qat&&!this.ict()&&this.xD(this.Qat.uri))},i.Od=function(){this.Hm(),this.Ks()},i.ict=function(){return!!this.Gat||!!this.qat||!(!this.Qat||this.Qat.live)},A(n,[{key:"pm",get:function(){return this.Qat}},{key:"ect",get:function(){return this.Yat}},{key:"rct",get:function(){return this.Wat},set:function(t){this.Hm(),this.jat=void 0,this.Yat=void 0,this.Qat=void 0,this.Wat=t}}]),n}(wH),VH=function(t){function n(){return t.call(this,"sct")||this}return S(n,t),n}(wu),WH=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).uct=void 0,r.act=void 0,r.cct=void 0,r.Eet=void 0,r.hct=void 0,r.bE=void 0,r.iq=void 0,r.fct=void 0,r.vct=function(){r.js(new VH)},r.Eet=n,r.hct=Nr({},i,{crossOrigin:r.Eet.crossOrigin,withCredentials:r.Eet.useCredentials,liveOffset:r.Eet.liveOffset,hlsDateRange:r.Eet.hlsDateRange}),r.bE=e,r.act=[],r.iq=!1,r}S(n,t);var i=n.prototype;return i.lct=function(){if(this.cct)return this.cct.pm},i.xD=function(t){var n=this;ou(uM(function(){return n.dct()},t))},i.dct=function(){var t,n,i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(this.wct());case 2:if((t=u.sent).isMasterPlaylist)for(this.uct=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new zH(this.bE,this.hct),this.act.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new zH(this.bE,this.hct),this.act.push({stream:{uri:t.uri},updater:s});this.fct&&(this._ct(this.fct.width,this.fct.height),this.fct=void 0),this.iq=!0;case 6:case"end":return u.stop()}},null,this,null,Ve)},i.gct=function(t,n){this.iq?this._ct(t,n):this.fct={width:t,height:n}},i._ct=function(t,n){this.mct();var i=this.yct(t,n);i&&(this.cct=i.updater,this.cct.addEventListener("tct",this.vct),i.updater.xD(i.stream.uri))},i.mct=function(){this.cct&&(this.cct.Hm(),this.cct.removeEventListener("tct",this.vct),this.cct=void 0)},i.yct=function(t,n){return 1===this.act.length?this.act[0]:Os(this.act,function(i){return i.stream.width===t&&i.stream.height===n})},i.wct=function(){var t,n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new HH(this.hct,hH.Gn.mot,this.bE),i.next=3,Rr.awrap(t.zc(this.Eet.src,{}));case 3:return n=i.sent,i.abrupt("return",n.pm);case 5:case"end":return i.stop()}},null,this,null,Ve)},i.Od=function(){this.mct();for(var t=0,n=this.act;t<n.length;t++){n[t].updater.Od()}Hs(this.act)},n}(lu),GH=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).kct=void 0,r.bct=void 0,r.UM=void 0,r.pct=!1,r.s2=void 0,r.Wq=void 0,r.handleManifestUpdate=function(){var t=r.kct.lct();if(t){var n=r.tD;if(n){var i=n.getTime(),e=r.s2;e||(e=new cL,r.s2=e),e.Wc(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.pct&&e.ag.D_>0&&(r.Mm.S_(e),r.Wq.S_(e),r.pct=!0)}}},r.Act=function(){r.kct&&r.kct.gct(r.im,r.nm)},r.bct=i,r.UM=e,r.Wq=new jP(Zt(r)),r.Ys(bf.Nf,r.Act),r}S(n,t);var i=n.prototype;return i.Vm=function(n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(t.prototype.Vm.call(this,n,i,e));case 2:n.hlsDateRange&&this.Tct(n,i,e);case 3:case"end":return r.stop()}},null,this,null,Ve)},i.Tct=function(t,n,i){this.kct&&(this.kct.Js("sct",this.handleManifestUpdate),this.kct.Od()),this.kct=new WH(t,n,this.bct),this.kct.Ys("sct",this.handleManifestUpdate),this.kct.xD(i)},i.R_=function(){return this.s2&&(this.Mm.E_(this.s2),this.Wq.E_(this.s2),this.s2.Od(),this.s2=void 0,this.pct=!1),this.Wq.R_(),t.prototype.R_.call(this)},i.Od=function(){return this.Js(bf.Nf,this.Act),this.kct&&(this.kct.Js("sct",this.handleManifestUpdate),this.kct.Od()),this.Wq.Od(),t.prototype.Od.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Sct=void 0,i.Sct=n;for(var e=0;e<KS.length;e++){var r=KS[e];i.Sct.Ys(r,i.qs)}return i}S(n,t);var i=n.prototype;return i.Wm=function(){return this.Sct.Wm()},i.$m=function(){return this.Sct.$m()},i.Jm=function(){return this.Sct.Jm()},i.Km=function(){return this.Sct.Km()},i.vy=function(){return this.Sct.vy()},i.Fm=function(){return this.Sct.Fm()},i.Xm=function(){return this.Sct.Xm()},i.R_=function(){return this.Sct.R_()},i.Vm=function(t,n,i){return this.Sct.Vm(t,n,i)},i.Zm=function(){return this.Sct.Zm()},i.Gm=function(){return this.Sct.Gm()},i.qm=function(){return this.Sct.qm()},i.Od=function(){this.Ks();for(var t=0;t<KS.length;t++){var n=KS[t];this.Sct.Js(n,this.qs)}return this.Sct.Od()},A(n,[{key:"xm",get:function(){return this.Sct.xm}},{key:"ly",get:function(){return this.Sct.ly}},{key:"wy",get:function(){return this.Sct.wy},set:function(t){this.Sct.wy=t}},{key:"jg",get:function(){return this.Sct.jg},set:function(t){this.Sct.jg=t}},{key:"Yg",get:function(){return this.Sct.Yg}},{key:"Qg",get:function(){return this.Sct.Qg}},{key:"Zg",get:function(){return this.Sct.Zg}},{key:"Um",get:function(){return this.Sct.Um}},{key:"wu",get:function(){return this.Sct.wu}},{key:"gy",get:function(){return this.Sct.gy}},{key:"Am",get:function(){return this.Sct.Am}},{key:"Kg",get:function(){return this.Sct.Kg},set:function(t){this.Sct.Kg=t}},{key:"Ey",get:function(){return this.Sct.Ey}},{key:"Jg",get:function(){return this.Sct.Jg}},{key:"$g",get:function(){return this.Sct.$g},set:function(t){this.Sct.$g=t}},{key:"Iy",get:function(){return this.Sct.Iy}},{key:"Ry",get:function(){return this.Sct.Ry},set:function(t){this.Sct.Ry=t}},{key:"og",get:function(){return this.Sct.og}},{key:"Ny",get:function(){return this.Sct.Ny}},{key:"tm",get:function(){return this.Sct.tm}},{key:"tD",get:function(){return this.Sct.tD}},{key:"Mm",get:function(){return this.Sct.Mm}},{key:"nm",get:function(){return this.Sct.nm}},{key:"Lm",get:function(){return this.Sct.Lm}},{key:"im",get:function(){return this.Sct.im}},{key:"um",get:function(){return this.Sct.um},set:function(t){this.Sct.um=t}},{key:"Dy",get:function(){return this.Sct.Dy}},{key:"Cy",get:function(){return this.Sct.Cy},set:function(t){this.Sct.Cy=t}},{key:"nD",get:function(){return this.Sct.nD}}]),n}(Bm));FH=function(t,n,i){return new GH(t,n,i)},WS.oD().aD(FH);var qH=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},jH=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),YH={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(YH,YH.exports);var QH=YH.exports;function ZH(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function KH(t){return JSON.stringify(t,YH.exports.getSerialize(ZH))}var JH={},$H={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}($H);var tz={};!function(t){d.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(tz);var nz={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(nz),d.defineProperty(JH,"__esModule",{value:!0});var iz=$H.isS,ez=$H.isChar,rz=$H.isNameStartChar,sz=$H.isNameChar,uz=$H.S_LIST,oz=$H.NAME_RE,az=tz.isChar,cz=nz.isNCNameStartChar,hz=nz.isNCNameChar,fz=nz.NC_NAME_RE;const vz="http://www.w3.org/XML/1998/namespace",lz="http://www.w3.org/2000/xmlns/",dz={__proto__:null,xml:vz,xmlns:lz},wz={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_z=-1,gz=-2,mz=0,yz=1,kz=2,bz=3,pz=4,Az=5,Tz=6,Sz=7,Ez=8,Iz=9,Rz=10,Nz=11,Dz=12,Cz=13,Pz=14,Bz=15,Oz=16,xz=17,Lz=18,Mz=19,Uz=20,Xz=21,Fz=22,Hz=23,zz=24,Vz=25,Wz=26,Gz=27,qz=28,jz=29,Yz=30,Qz=31,Zz=32,Kz=33,Jz=34,$z=35,tV=36,nV=37,iV=38,eV=39,rV=40,sV=41,uV=42,oV=43,aV=44,cV=9,hV=10,fV=13,vV=32,lV=33,dV=38,wV=45,_V=47,gV=59,mV=60,yV=61,kV=62,bV=63,pV=91,AV=93,TV=133,SV=8232,EV=t=>34===t||39===t,IV=[34,39],RV=[...IV,pV,kV],NV=[...IV,mV,AV],DV=[yV,bV,...uz],CV=[...uz,kV,dV,mV];function PV(t,n,i){switch(n){case"xml":i!==vz&&t.fail(`xml prefix must be bound to ${vz}.`);break;case"xmlns":i!==lz&&t.fail(`xmlns prefix must be bound to ${lz}.`)}switch(i){case lz:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${lz}.`);break;case vz:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const BV=t=>fz.test(t),OV=t=>oz.test(t),xV=0,LV=1,MV=2;JH.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const UV={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var XV=JH.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=cz,this.nameCheck=hz,this.isName=BV,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},dz);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))PV(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=rz,this.nameCheck=sz,this.isName=OV,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.oo}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=xV,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?Cz:mz,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.oo=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(wz),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[UV[t]]=n}off(t){this[UV[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===fV||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _z;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=vV||i===cV)return i;switch(i){case hV:return this.line++,this.column=0,this.positionAtNewLine=this.position,hV;case fV:return t.charCodeAt(n+1)===hV&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,gz;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return _z;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==SV||i===cV)return i;switch(i){case hV:return this.line++,this.column=0,this.positionAtNewLine=this.position,hV;case fV:{const i=t.charCodeAt(n+1);i!==hV&&i!==TV||(this.i=n+2)}case TV:case SV:return this.line++,this.column=0,this.positionAtNewLine=this.position,gz;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===gz?hV:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===gz,s=r?hV:e;if(s===_z||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case gz:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=hV;break;case _z:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===_z)return this.name+=t.slice(n),_z;if(!sz(i))return this.name+=t.slice(n,this.prevI),i===gz?hV:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===_z||!iz(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=ez,this.getCode=this.getCode10):(this.isChar=az,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=yz}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case mV:if(this.state=Bz,0!==this.text.length)throw new v("no-empty text at start");break;case _z:break;default:this.unget(),this.state=Cz,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(RV);switch(n){case kV:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Cz,this.doctype=!0;break;case _z:break;default:this.text+=String.fromCodePoint(n),n===pV?this.state=pz:EV(n)&&(this.state=bz,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=kz)}sDTD(){const t=this.captureTo(NV);t!==_z&&(this.text+=String.fromCodePoint(t),t===AV?this.state=kz:t===mV?this.state=Tz:EV(t)&&(this.state=Az,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=pz,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case lV:this.state=Sz,this.openWakaBang="";break;case bV:this.state=Nz;break;default:this.state=pz}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?Ez:pz,this.openWakaBang="")}sDTDComment(){this.captureToChar(wV)&&(this.text+="-",this.state=Iz)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===wV?Rz:Ez}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===kV?this.state=pz:(this.fail("malformed comment."),this.state=Ez)}sDTDPI(){this.captureToChar(bV)&&(this.text+="?",this.state=Dz)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===kV&&(this.state=pz)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case gz:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case gV:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===Cz&&void 0===this.textHandler||(this.text+=r);break t}case _z:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(rz(t))this.state=Jz,this.unget(),this.xmlDeclPossible=!1;else switch(t){case _V:this.state=oV,this.xmlDeclPossible=!1;break;case lV:this.state=Oz,this.openWakaBang="",this.xmlDeclPossible=!1;break;case bV:this.state=Hz;break;default:this.fail("disallowed character in tag name"),this.state=Cz,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Uz,this.openWakaBang="";break;case"--":this.state=xz,this.openWakaBang="";break;case"DOCTYPE":this.state=kz,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(wV)&&(this.state=Lz)}sCommentEnding(){var t;const n=this.getCodeNorm();n===wV?(this.state=Mz,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=xz)}sCommentEnded(){const t=this.getCodeNorm();t!==kV?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=xz):this.state=Cz}sCData(){this.captureToChar(AV)&&(this.state=Xz)}sCDataEnding(){const t=this.getCodeNorm();t===AV?this.state=Fz:(this.text+=`]${String.fromCodePoint(t)}`,this.state=Uz)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case kV:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=Cz;break;case AV:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=Uz}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=zz):t===bV||iz(t)?(this.fail("processing instruction without a target."),this.state=t===bV?Wz:Vz):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=zz)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===_z)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===bV;e||iz(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?Kz:Gz):this.state=e?Wz:Vz:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===bV?this.state=Wz:iz(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(bV)&&(this.state=Wz)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===kV){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=Cz}else n===bV?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=Vz);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==bV?t!==_z&&(this.state=qz,this.name=String.fromCodePoint(t)):this.state=Kz}sXMLDeclName(){const t=this.captureTo(DV);if(t===bV)return this.state=Kz,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(iz(t)||t===yV){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===yV?Yz:jz}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===bV)return this.state=Kz,void this.fail("XML declaration is incomplete.");iz(t)||(t!==yV&&this.fail("value required."),this.state=Yz)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===bV)return this.state=Kz,void this.fail("XML declaration is incomplete.");iz(t)||(EV(t)?this.q=t:(this.fail("value must be quoted."),this.q=vV),this.state=Qz)}sXMLDeclValue(){const t=this.captureTo([this.q,bV]);if(t===bV)return this.state=Kz,this.text="",void this.fail("XML declaration is incomplete.");if(t===_z)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Zz}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==bV?(iz(t)||(this.fail("whitespace required."),this.unget()),this.state=Gz):this.state=Kz}sXMLDeclEnding(){var t;this.getCodeNorm()===kV?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Cz):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===_z)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case kV:this.openTag();break;case _V:this.state=$z;break;default:iz(n)||this.fail("disallowed character in tag name."),this.state=tV}}sOpenTagSlash(){this.getCode()===kV?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=tV)}sAttrib(){const t=this.skipSpaces();t!==_z&&(rz(t)?(this.unget(),this.state=nV):t===kV?this.openTag():t===_V?this.state=$z:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===yV?this.state=eV:iz(t)?this.state=iV:t===kV?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==_z&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case _z:return;case yV:this.state=eV;break;default:this.fail("attribute without value."),this.text="",this.name="",t===kV?this.openTag():rz(t)?(this.unget(),this.state=nV):(this.fail("disallowed character in attribute name."),this.state=tV)}}sAttribValue(){const t=this.getCodeNorm();EV(t)?(this.q=t,this.state=rV):iz(t)||(this.fail("unquoted attribute value."),this.state=uV,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=sV);case dV:return this.text+=n.slice(i,this.prevI),this.state=Pz,void(this.entityReturnState=rV);case hV:case gz:case cV:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case mV:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case _z:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();iz(t)?this.state=tV:t===kV?this.openTag():t===_V?this.state=$z:rz(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=nV):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(CV);switch(t){case dV:this.state=Pz,this.entityReturnState=uV;break;case mV:this.fail("disallowed character.");break;case _z:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===kV?this.openTag():this.state=tV}}sCloseTag(){const t=this.captureNameChars();t===kV?this.closeTag():iz(t)?this.state=aV:t!==_z&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case kV:this.closeTag();break;case _z:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case mV:if(this.state=Bz,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=xV;break t;case dV:this.state=Pz,this.entityReturnState=Cz,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=xV;break t;case AV:switch(n){case xV:n=LV;break;case LV:n=MV;break;case MV:break;default:throw new v("impossible state")}break;case kV:n===MV&&this.fail('the string "]]>" is disallowed in char data.'),n=xV;break;case gz:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=xV;break;case _z:void 0!==e&&(this.text+=i.slice(t));break t;default:n=xV}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case mV:if(this.state=Bz,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case dV:this.state=Pz,this.entityReturnState=Cz,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case gz:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case _z:void 0!==i&&(this.text+=n.slice(t));break t;default:iz(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,PV(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,PV(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==mz&&this.state!==Cz&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.oo=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?lz:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=Cz,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=Cz,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=Cz,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},FV=function(){function t(){}return t.prototype.ei=function(t){var n=new XV({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new jV,e=[i];function r(t){e[e.length-1].Ri(t)}return n.on("text",function(t){e.length>1&&r(new GV(t))}),n.on("cdata",function(t){r(new qV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new VV({ai:n,di:""===i?void 0:i,Ect:""===s?void 0:s}),o=t.attributes,a=0,c=d.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,l=h.uri,w=h.value,_=new HV({ai:v,_i:w,di:""===l?void 0:l,Ect:""===f?void 0:f});u.Ict(_)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new $t(t)}),n.write(t).close(),i},t}(),HV=function(){function t(t){this.Rct=void 0,this.Nct=void 0,this.Dct=void 0,this.me=void 0,this.Rct=t.ai,this.me=t._i,this.Nct=t.di,this.Dct=t.Ect}var n=t.prototype;return n.ui=function(t){return this===t||!!QV(this,t)&&(this.Rct===t.Rct&&this.Nct===t.Nct&&this.Dct===t.Dct&&this.me===t.me)},n.oi=function(){return new t({ai:this.ai,_i:this._i,di:this.di,Ect:this.wi})},A(t,[{key:"Qn",get:function(){return Gt.Jn}},{key:"ai",get:function(){return this.Rct}},{key:"ci",get:function(){return void 0===this.Dct?this.Rct:this.Dct+":"+this.Rct}},{key:"di",get:function(){return this.Nct}},{key:"wi",get:function(){return this.Dct}},{key:"_i",get:function(){return this.me}}]),t}(),zV=function(){function t(){this.Ai=[]}var n=t.prototype;return n.Ti=function(t){return this.Ai.filter(function(n){return YV(n)&&n.Ei===t})},n.Ii=function(t,n){return this.Ai.filter(function(i){return YV(i)&&i.ai===n&&i.di===t})},n.Ri=function(t){this.Ai.push(t)},A(t,[{key:"Si",get:function(){return this.Ai}},{key:"Di",get:function(){return this.Ai.filter(YV)}}]),t}(),VV=function(t){function n(n){var i;return(i=t.call(this)||this).Rct=void 0,i.Nct=void 0,i.Dct=void 0,i.Cct=[],i.Rct=n.ai,i.Nct=n.di,i.Dct=n.Ect,i}S(n,t);var i=n.prototype;return i.Pct=function(t){for(var n=0,i=this.Si;n<i.length;n++){var e=i[n];YV(e)?e.Pct(t):t.push(e.Xi)}},i.Pi=function(t,n){for(var i=0,e=this.Cct;i<e.length;i++){var r=e[i];if(r.ai===n&&r.di===t)return r._i}},i.Ci=function(t){for(var n=0,i=this.Cct;n<i.length;n++){var e=i[n];if(e.ci===t)return e._i}},i.Ict=function(t){this.Cct.push(t)},i.Bi=function(t){for(var n=0;n<this.Cct.length;n++)if(this.Cct[n].ci===t)return void this.Cct.splice(n,1)},i.Oi=function(t,n){for(var i=0;i<this.Cct.length;i++)if(this.Cct[i].ai===n&&this.Cct[i].di===t)return void this.Cct.splice(i,1)},i.xi=function(t,n){this.Bi(t),this.Ict(new HV({ai:t,_i:n}))},i.Li=function(t,n,i){this.Bi(n);var e=n.split(":");this.Ict(new HV({ai:e[e.length-1],_i:i,di:t,Ect:e.length>1?e[0]:void 0}))},i.oi=function(t){var i=new n({ai:this.ai,di:this.di,Ect:this.wi});return this.Mi.forEach(function(t){return i.Ict(t.oi())}),t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!QV(this,t)&&(this.Rct===t.Rct&&this.Dct===t.Dct&&this.Nct===t.Nct&&(ZV(this.Mi,t.Mi)&&ZV(this.Si,t.Si)))},A(n,[{key:"Qn",get:function(){return Gt.Zn}},{key:"Mi",get:function(){return this.Cct}},{key:"ai",get:function(){return this.Rct}},{key:"di",get:function(){return this.Nct}},{key:"wi",get:function(){return this.Dct}},{key:"Ei",get:function(){return void 0===this.Dct?this.Rct:this.Dct+":"+this.Rct}},{key:"Ui",get:function(){var t=[];return this.Pct(t),t.join("")}}]),n}(zV),WV=function(){function t(t){this.Vi=void 0,this.Vi=t}return A(t,[{key:"Xi",get:function(){return this.Vi}}]),t}(),GV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!QV(this,t)&&this.Xi===t.Xi},A(n,[{key:"Qn",get:function(){return Gt.Kn}}]),n}(WV),qV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.oi=function(){return new n(this.Xi)},i.ui=function(t){return this===t||!!QV(this,t)&&this.Xi===t.Xi},A(n,[{key:"Qn",get:function(){return Gt.$n}}]),n}(WV),jV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.oi=function(t){var i=new n;return t&&this.Si.forEach(function(n){return i.Ri(n.oi(t))}),i},i.ui=function(t){return this===t||!!QV(this,t)&&ZV(this.Si,t.Si)},A(n,[{key:"Qn",get:function(){return Gt.ni}},{key:"Fi",get:function(){return this.Di[0]}}]),n}(zV);function YV(t){return Yt(t)}function QV(t,n){return t.Qn===n.Qn}function ZV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ui(n[i]))return!1;return!0}var KV,JV=["adBreak"],$V=["adBreak"];function tW(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Nr({},t,{adBreak:Nr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,OA(t,JV)})})})}function nW(t){return void 0===t.ads?t:Nr({},t,{ads:t.ads.map(function(t){return t.adBreak,OA(t,$V)})})}function iW(t){return"string"==typeof t.date?new Date(t.date):t.date}function eW(t){var n;return t.cue.track?(n=sW(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=sW(t.cue,""),n}function rW(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function sW(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new FV).ei(e.firstChild.outerHTML).Fi.Mi.forEach(function(t){r[t.ai]=t._i}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(c=o)&&null!==c){var a=uW(o);s[u]={type:KV.Bct,value:a}}else aW(o)?s[u]={type:KV.Oct,value:o}:s[u]={type:KV.mQ,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=uW(t.scte35Cmd),i.scte35Out=uW(t.scte35Out),i.scte35In=uW(t.scte35In),i.customAttributes=s}var c}(),i}function uW(t){if(void 0!==t)return Pu(t)}function oW(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(sW(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(sW(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function aW(t){return"number"==typeof t}!function(t){t.mQ="daterange-ca-type_string",t.Oct="daterange-ca-type_number",t.Bct="daterange-ca-type_arraybuffer"}(KV||(KV={}));var cW={cue:function(t){var n={};switch(n.date=iW(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=eW(t)}return n},textTrack:function(t){var n={};switch(n.date=iW(t),n.type=t.type,t.type){case"addcue":var i=t.cue;lW().register(i);var e=vW()[dW()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=eW(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(sW(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:oW(t.track),date:iW(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=lW();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=iW(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case bf.Xf:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Nr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=oW(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=nW(t.ad);break;case"adloaded":case"adimpression":n.ad=tW(t.ad);break;case"aderror":t.xct&&(n.xct=t.xct),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=tW(t.ad)}return rW(n)},minimizeCueHelper:function(t){var n={};return n.date=iW(t),n.type=t.type,n.cue=eW(t),n.track={uid:t.cue.track.uid},n},adReplacer:tW,adBreakReplacer:nW,removeCircularReferences:rW},hW=function(){this.stringify=KH,this.minimize=cW};function fW(){return ve.self}function vW(){return fW().THEOplayerBridge}function lW(){return fW().THEOCueMirrorMap}function dW(){return fW().THEOplayerGlobalID}function wW(){var t=fW();if(t.THEOplayerBridge){var n=new qH;t.THEOplayerBridge=um(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new qH;t.THEOplayerUtils||(t.THEOplayerUtils=new hW),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new jH)}wW();var _W,gW=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(wu),mW=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.js(new gW(t,n))},i.addEventListener=function(t,n){this.Ys(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(Om),yW=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lct=void 0,e.Mct=void 0,e.Uct=function(t){e.Lct.iK("THEOplayerABRSetTargetBuffer",t.uL),e.js(t)},e.Xct=function(t){e.Lct.iK("THEOplayerABRSetStrategy",t.aL),e.js(t)},e.Lct=n,e.Mct=i,e.Mct.Ys("oL",e.Uct),e.Mct.Ys("cL",e.Xct),e}return S(n,t),n.prototype.kL=function(t){return this.Mct.kL(t)},A(n,[{key:"pL",get:function(){var t;switch(this.aL.type){case XR.PERFORMANCE:return 1;case XR.QUALITY:return 0;case XR.BANDWIDTH:return null!=(t=this.aL.metadata)&&t.bitrate&&!m(this.aL.metadata.bitrate)?this.aL.metadata.bitrate:0;default:return 0}}},{key:"$w",get:function(){return this.Mct.$w}},{key:"aL",get:function(){return this.Mct.aL},set:function(t){this.Mct.aL=t}},{key:"uL",get:function(){return this.Mct.uL},set:function(t){this.Mct.uL=t}},{key:"bL",get:function(){return this.Mct.bL}},{key:"hL",get:function(){return this.Mct.hL},set:function(t){this.Mct.hL=t}},{key:"vL",get:function(){return this.Mct.vL}},{key:"nL",get:function(){return this.Mct.nL}}]),n}(lu),kW=function(){function t(t,n,i){this.Rh=void 0,this._s=void 0,this.Fh=void 0,this.Zc=void 0,this.Rh=t,this._s=i,this.Fh=n}var n=t.prototype;return n.IE=function(t){throw new v("Not implemented yet.")},n.IX=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this._s.As(t.hs,n));case 2:return i=r.sent,r.next=5,Rr.awrap(i.uh());case 5:return e=r.sent,r.next=8,Rr.awrap(this.RX(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},n.NX=function(t){return!1},n.DX=function(t){return Ve.resolve(void 0)},n.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.RX(void 0));case 2:case"end":return t.stop()}},null,this,null,Ve)},n.RX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.PX(t),i.next=3,Rr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,Ve)},n.PX=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.Zc)){i.next=5;break}return i.next=4,Rr.awrap(n.eh(this.Fh));case 4:this.Zc=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Rr.awrap(t.ih(this.Fh));case 8:this.Zc=t;case 9:case"end":return i.stop()}},null,this,null,Ve)},n.TE=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"Jc",get:function(){return this.Rh}},{key:"Ry",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Ny",get:function(){return new iE([0,1/0])}},{key:"Mm",get:function(){throw new v("Not implemented yet.")}},{key:"Fct",get:function(){throw new v("Not implemented yet")}},{key:"Lm",get:function(){throw new v("Not implemented yet.")}},{key:"Hct",get:function(){throw new v("Not implemented yet")}},{key:"zct",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Vct="webkitneedkey",t.Wct="webkitkeymessage",t.Gct="webkitkeyerror"}(_W||(_W={}));var bW=function(t){function n(n,i){var e;return(e=t.call(this,_W.Vct)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(wu),pW=function(t){function n(n,i){var e;return(e=t.call(this,_W.Wct)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(wu),AW=function(t){function n(){return t.call(this,_W.Gct)||this}return S(n,t),n}(wu),TW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).lh=new Wo,u.Nh=void 0,u._h=new Tu,u.Ch=new Wo,u.qct=function(t){u.Nh?(u.Nh.Vu(void 0),u.Nh=void 0):u.Ah("internal-error"),u.js(new ku)},u.jct=function(t){u.Nh&&(u.Nh.Hu(void 0),u.Nh=void 0),u.js(new yu(Zt(u),"license-request",Fo(t.message).buffer,t.destinationURL||void 0))},u.Sh=n,u.Mc=i,u.Yct=e,u.Uh=r,u.Bh=s,u}S(n,t);var i=n.prototype;return i.Hc=function(t,n,i){var e;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Oh){t.next=3;break}throw new l("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Rr.awrap(this.Qct(Uo(n),e));case 5:this.Ah("usable"),this.Ch.Hu(),this.Ch=new Wo;case 8:case"end":return t.stop()}},null,this,null,Ve)},i.zc=function(t){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ve)},i.Wc=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Uo(t)).byteLength){i.next=3;break}throw new l("Cannot call update with an empty response.");case 3:return this.Nh=new Wo,this.Yct.Wc(this.Uh,n),i.next=7,Rr.awrap(this.Nh.Uu);case 7:case"end":return i.stop()}},null,this,null,Ve)},i.Fc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.Ch);case 2:return this.Yct.Js(_W.Wct,this.jct),this.Yct.Js(_W.Gct,this.qct),this.Ch.Xs(),this.lh.Hu(void 0),t.abrupt("return",this.lh.Uu);case 7:case"end":return t.stop()}},null,this,null,Ve)},i.Vc=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,Ve)},i.Qct=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=$h(t,n,this.Bh),this.Yct.Ys(_W.Wct,this.jct),this.Yct.Ys(_W.Gct,this.qct),this.Yct.kq(this.Uh,i);case 4:case"end":return e.stop()}},null,this,null,Ve)},i.Ah=function(t){this._h.Ru(),this._h.Iu(Au,t),this.js(new mu(this))},A(n,[{key:"Qc",get:function(){return this.Uh}},{key:"jc",get:function(){return NaN}},{key:"qc",get:function(){return this.lh.Uu}},{key:"Yc",get:function(){return this._h}}]),n}(lu),SW=function(){function t(t,n,i){this.Zct=void 0,this.Uh=void 0,this.Bh=void 0,this.Yct=void 0,this.Mc=void 0,this.Rh=void 0,this.Sh=void 0,this.Yct=t,this.Mc=n,this.Rh=i;var e=Uh(i)||"video/mp4";this.Sh=Oh(e)}var i=t.prototype;return i.$c=function(t){var i;return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Bh){t.next=2;break}throw new tf(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new TW(this.Sh,this.Mc,this.Yct,this.Uh,this.Bh),this.Zct=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.nh=function(t){return this.Bh=Uo(t),Ve.resolve(!0)},i.ih=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,Ve)},i.eh=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"Kc",get:function(){return this.Mc}},{key:"Jc",get:function(){return this.Rh}},{key:"sessionId",set:function(t){this.Uh=t}}]),t}(),EW=function(){function t(t,n,i){this.Kct=t,this.Mc=n,this.Rh=i}var n=t.prototype;return n.oh=function(){return this.Rh},n.uh=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new SW(this.Kct,this.Mc,this.Rh));case 1:case"end":return t.stop()}},null,this,null,Ve)},A(t,[{key:"Kc",get:function(){return this.Mc}}]),t}(),IW=function(){function t(t){this.Kct=void 0,this.Kct=t}return t.prototype.As=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Lh(RW,gu,t,e))){s.next=6;break}return s.abrupt("return",new EW(this.Kct,t,r));case 6:i++,s.next=1;break;case 9:throw new l("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,Ve)},t}();function RW(t,n){return t===ns}var NW,DW=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dq=function(t,n){return!0},n}(fB),CW=function(t){function n(n,i,e){var r;return void 0===e&&(e=new IW(i)),(r=t.call(this)||this).sN=void 0,r._s=void 0,r.AX=void 0,r.xq=new qN,r.Jct=void 0,r.Kct=void 0,r.$ct=!1,r.Uh=void 0,r.Ph=null,r.tht={yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.nht=function(t){"boolean"==typeof t.detail.casting&&(r.$ct=t.detail.casting,r.js(new _k(r.$ct)))},r.iht=function(t){r.Uh=t.sessionId,r.Ph&&(r.Ph.sessionId=r.Uh);var n=t.initData;if(n){var i=mB(n);if(!i)return;r.js(new bu(Gr,i))}else r.js(new bu(Gr,new ArrayBuffer(0)))},r.Jct=n,r.Kct=i,r.Kct.Ys(_W.Vct,r.iht),r._s=e,r.AX=new DW(Zt(r)),r.eht(),r}S(n,t);var i=n.prototype;return i.MX=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.us===Kp.NE)return i}},i.Bs=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.R_());case 2:return this.Ks(),this.rht(),this.Kct.Js(_W.Vct,this.iht),t.next=7,Rr.awrap(this.AX.Bs());case 7:case"end":return t.stop()}},null,this,null,Ve)},i.Km=function(){throw new v("Not implemented yet")},i.TE=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.FN=function(){return!1},i.zN=function(t,n,i,e){throw new v("Not implemented yet")},i.IE=function(t){throw new v("Not implemented yet")},i.GN=function(){throw new v("Not implemented yet")},i.zc=function(t){var n=this;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.xq.YU(function(i){var e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.us!==Kp.NE){r.next=8;break}return $s(i),e=new kW(t,n,n._s),n.sN=e,n.AX.zc(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,Ve)}));case 1:case"end":return i.stop()}},null,this,null,Ve)},i.Fm=function(){throw new v("Not implemented yet")},i.Xm=function(){throw new v("Not implemented yet")},i.R_=function(){var t=this;return this.xq.Xs(),this.xq.YU(function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.sN){n.next=4;break}return n.next=3,Rr.awrap(t.sN.Bs());case 3:t.sN=void 0;case 4:return n.next=6,Rr.awrap(t.AX.R_());case 6:case"end":return n.stop()}},null,null,null,Ve)})},i.Bu=function(t,n){throw new v("Not implemented yet")},i.JN=function(t){throw new v("Not implemented yet")},i.Zm=function(){throw new v("Not implemented yet")},i.$N=function(){return this.tht},i.eht=function(){this.Jct.addEventListener("airPlayIsCasting",this.nht)},i.rht=function(){this.Jct.removeEventListener("airPlayIsCasting",this.nht)},i.webkitSetMediaKeys=function(t){this.Ph=t||null,this.Ph&&(this.Ph.sessionId=this.Uh)},i.yY=function(){},i.gY=function(){throw new v("Not implemented yet")},i.mY=function(){throw new v("Not implemented yet")},A(n,[{key:"wy",get:function(){throw new v("Not implemented yet")}},{key:"ly",get:function(){throw new v("Not implemented yet")}},{key:"jg",get:function(){throw new v("Not implemented yet")}},{key:"RU",get:function(){throw new v("Not implemented yet")}},{key:"Yg",get:function(){throw new v("Not implemented yet")}},{key:"Qg",get:function(){throw new v("Not implemented yet")}},{key:"wu",get:function(){throw new v("Not implemented yet")}},{key:"lT",get:function(){throw new v("Not implemented yet")}},{key:"gy",get:function(){return this.$ct}},{key:"Kg",get:function(){throw new v("Not implemented yet")}},{key:"Jg",get:function(){throw new v("Not implemented yet")}},{key:"$g",get:function(){throw new v("Not implemented yet")}},{key:"Iy",get:function(){throw new v("Not implemented yet")}},{key:"og",get:function(){throw new v("Not implemented yet")}},{key:"Ny",get:function(){throw new v("Not implemented yet")}},{key:"tm",get:function(){throw new v("Not implemented yet")}},{key:"pY",get:function(){throw new v("Not implemented yet")}},{key:"um",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Pk",get:function(){throw new v("Not implemented yet")}},{key:"WN",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ph}},{key:"AY",get:function(){return hD}},{key:"Mm",get:function(){throw new v("Not implemented yet")}},{key:"DU",get:function(){throw new v("Not implemented yet")}},{key:"tD",get:function(){throw new v("Not implemented yet")}},{key:"kY",get:function(){return!0}},{key:"PN",get:function(){return this.AX.PN},set:function(t){this.AX.PN=t}},{key:"Bq",get:function(){return this.AX.Bq}}]),n}(Bm),PW=function(t){function n(n){var i;return(i=t.call(this,bf.zf)||this).tht=n,i}return S(n,t),n}(wu);function BW(t){switch(t.type){case NW.mQ:return t.value;case NW.Oct:return vm(t.value);case NW.Bct:return Du(t.value);default:return}}function OW(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.mQ="daterange-ca-type_string",t.Oct="daterange-ca-type_number",t.Bct="daterange-ca-type_arraybuffer"}(NW||(NW={}));var xW=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).dR=void 0,u.sht=void 0,u.dR=n,u.sht=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.dR}},{key:"timestamp",get:function(){return this.sht}}]),n}(tf),LW=function(t){function n(n,i,e,r,s,u,o,a){var c;return(c=t.call(this,n,i,e,r,a)||this).url=void 0,c.status=void 0,c.errorComment=void 0,c.url=s,c.status=u,c.errorComment=o,c}return S(n,t),n}(xW),MW=function(){function t(t,n){this.Cm=void 0,this.Wq=void 0,this.Cm=new Tp,this.Wq=new WP(t,n)}var n=t.prototype;return n.TE=function(t,n,i,e,r,s,u){var o=new WC(t,n,i,e,r,s,u);return this.Cm.S_(o),this.Wq.S_(o),o},n.IE=function(t){this.Cm.E_(t),this.Wq.E_(t),t.Od()},n.R_=function(){for(var t=0,n=this.Cm.N_.slice();t<n.length;t++){n[t].Od()}this.Cm.R_(),this.Wq.R_()},n.Od=function(){this.R_(),this.Cm.Od(),this.Wq.Od()},A(t,[{key:"Mm",get:function(){return this.Cm}}]),t}(),UW=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).AC=0,u._W=!1,u.uN=void 0,u.oN=void 0,u.uht=void 0,u.SC=!0,u.EC=1,u.Nm=void 0,u.Dm=void 0,u.Fq=void 0,u.zq=void 0,u.Cm=void 0,u.kE=void 0,u.ea=void 0,u.C5=iE.mC(),u.iW=iE.mC(),u.TC=!1,u.Jq=iE.mC(),u.IC=void 0,u.oht=void 0,u.aht=void 0,u.gW=Vm.Lg,u.CE=Vm.Lg,u.Jct=void 0,u.Wq=void 0,u.hN=void 0,u.Lct=void 0,u.Eet=void 0,u.BC=void 0,u.rN=void 0,u.fN=void 0,u.Kct=void 0,u.tht={yy:0,by:0,py:0,Ay:0,Ty:0,Sy:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.sN=void 0,u.cht=void 0,u.lN=new BS,u.dN=new XS,u.setCurrentTime=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=4;break}return u.AC=t,n.next=4,Rr.awrap(u.Jct.uu("seekablechange"));case 4:u.AC=u.updateCurrentTime(t),u.Lct.iK("THEOplayerSetCurrentTime",u.AC),u.IC=!0,u.js(new yy(u.AC));case 8:case"end":return n.stop()}},null,null,null,Ve)},u.hht=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.C5=new iE(i),u.js(new wD(u.jg))}},u.fht=function(t){u.gW=t.detail.readyState,u.js(new py(+t.detail.currentTime,u.og)),u.vht()},u.dht=function(t){u.gW=t.detail.readyState,u.js(new Ay(+t.detail.currentTime,u.og)),u.vht()},u.wht=function(t){if(t.detail){var n=+t.detail.duration;u.ea=n,u.js(new dy(u.Yg))}},u._ht=function(t){t.detail&&(u._W=!0,u.js(new gy(+t.detail.currentTime)))},u.wN=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);OW(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.oN=new LW(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.uN=Zy(u.oN),u.js(new Sy(u.oN))):OW(i)&&(u.oN=new xW(i.name,i.message,void 0,i.code,i.timestamp),u.uN=Zy(u.oN),u.js(new Sy(u.oN)))}},u.ght=function(t){u.js(new _D)},u.mht=function(t){u.gW=t.detail.readyState,u.js(new my(+t.detail.currentTime,u.og)),u.vht()},u.yht=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Ny.length){n.next=3;break}return n.next=3,Rr.awrap(u.Jct.uu("seekablechange"));case 3:u.gW=t.detail.readyState,u.js(new ly(+t.detail.currentTime,u.og)),u.vht();case 6:case"end":return n.stop()}},null,null,null,Ve)},u.kht=function(t){t.detail&&u.SC&&(u.SC=!1,u.js(new cy(+t.detail.currentTime)))},u.bht=function(t){t.detail&&(u.SC||(u.SC=!0,u.js(new ay(+t.detail.currentTime))))},u.pht=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.Jq=new iE(i)}},u.Aht=function(t){t.detail&&u.js(new cA(+t.detail.currentTime))},u.Tht=function(t){t.detail&&(u.EC=t.detail.playbackRate,u.js(new wy(+t.detail.currentTime,u.EC)))},u.Sht=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.iW=new iE(i)}},u.Eht=function(t){t.detail&&(u.AC=+t.detail.currentTime,u.IC=!1,u.js(new _y(u.AC,u.uht)),u.js(new ky(u.AC)))},u.Iht=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.ea&&(u._W=!1),u.IC=!0,u.js(new yy(n))}},u.Rht=function(t){t.detail&&(t.detail.currentDate&&(u.uht=new Date(1e3*t.detail.currentDate)),u.AC=+t.detail.currentTime,u.js(new _y(u.AC,u.uht)))},u.Nht=function(t){u.oht=t.detail.height,u.aht=t.detail.width},u.Dht=function(t){t.detail&&u.js(new aA(+t.detail.currentTime))},u.Cht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.xm.S_(new hk(n))},u.Pht=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.Nm.D_;s++){var o=u.xm.T_(s);o.W_==e&&o.V_==r?i=u.Nm.T_(s):1==o.X_&&(n=u.Nm.T_(s))}i&&n&&(i.X_=!0,n.X_=!1)},u.Bht=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Lm.S_(new wk(n))},u.DZ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Ap.sA&&e===lk.ID3?(n=new ZP("",t.detail.label)).J_=Am.Y_:i===Ap.sA&&e===lk.DATE_RANGE?(n=new cL,u.cht=n):n=new WC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.Fq.S_(n),u.Wq.S_(n)},u.Oht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new YP(vm(e.startTime),s,e.uid),a=u.xht();a&&a.EE(o)}},u.Lht=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Bk(vm(r.startTime),vm(r.endTime),r.content,!1),o=null!=(e=u.Mht(Ap.eA))?e:u.Mht(Ap.oE);o&&(o.us=lk.WEBVTT,o.EE(s))}},u.Qj=function(t){t.type===bf.cf&&(u.uN=Zy(t.errorObject)),u.qs(t)},u.Uht=function(t){t.detail&&(u.tht.by=t.detail.corruptedVideoFrames,u.tht.yy=t.detail.droppedVideoFrames,u.js(new PW(u.Am)))},u.Xht=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={F_:t.id};if(void 0!==t.startDate&&(n.tD=new Date(t.startDate)),void 0!==t.endDate&&(n.RJ=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=BW(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.DJ=e}void 0!==t.scte35Cmd&&(n.PJ=Du(t.scte35Cmd)),void 0!==t.scte35In&&(n.xJ=Du(t.scte35In)),void 0!==t.scte35Out&&(n.OJ=Du(t.scte35Out)),void 0!==t.startTime&&(n.Ky=t.startTime),n.IJ=t.class,n.Yg=vm(t.duration),n.NJ=vm(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Ky?t.Ky:(new Date).getTime(),e=new oL(t,i);u.cht.EE(e),u.cht.Wc(n,i)})};var o=r.uid;u.Lct=u.getSdkBridge(o),u.Jct=new mW,vW()[o].sdkEventBus=u.Jct,u.Nm=new Jy,u.Dm=new Jy;var a=u.Fht(e);return u.kE=new MW(Zt(u),new GP),u.Wq=new jP(Zt(u)),u.hN=new Gp(u.kE,a),u.Fq=new Tp,u.zq=new $P(u.kE,u.Fq),u.Cm=new LS([u.Fq,u.hN.KA,u.zq.KA]),u.Kct=u.getFairPlayControllerBridge(u.Lct),u.rN=new CW(u.Jct,u.Kct),u.fN=new OS(a),u.rN.PN=u.fN,u.observeMediaElement(),u.ON(),u.BC=new yW(u.Lct,s),u.BC.Ys("oL",function(){u.Lct.iK("THEOplayerSetPreferredForwardBufferDuration",u.BC.uL)}),u}S(n,t);var i=n.prototype;return i.$m=function(){return sE},i.Zm=function(){this.Lct.iK("THEOplayerShow",{})},i.Km=function(){this.Lct.iK("THEOplayerHide",{})},i.Hht=function(){var t=this;this.Lct.iK("THEOplayerSetInitialPreferredPeakBitRate",this.BC.pL);this.Ys("playing",function n(){t.Lct.iK("THEOplayerSetInitialPreferredPeakBitRate",0),t.Js("playing",n)})},i.Vm=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Eet=t,i=Nr({},n,{sources:{src:t.src,type:Fm.Ng,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Lct.iK("THEOplayerSourceChange",i),e={us:Kp.NE,hg:t.src,Xl:t.type,xN:this.LN(t),MN:t.crossOrigin,UN:n.metadata&&n.metadata.title},this.fN.zR(t.contentProtection),s.next=7,Rr.awrap(this.rN.zc(e));case 7:this.sN=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==lk.WEBVTT})).length>0&&this.XN(r),Zp(this.Mm),this.Hht();case 11:case"end":return s.stop()}},null,this,null,Ve)},i.LN=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Kc:ss,QN:[{initDataTypes:[ss.fs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.Xm=function(){this.SC=!1,this.js(new cy(this.jg)),this.Lct.iK("THEOplayerPlay",{})},i.Fm=function(){this.SC=!0,this.js(new ay(this.jg)),this.Lct.iK("THEOplayerPause",{})},i.Jm=function(){},i.R_=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.AC=0,this._W=!1,this.uN=void 0,this.oN=void 0,this.SC=!0,this.EC=1,this.ea=void 0,this.iW=iE.mC(),this.C5=iE.mC(),this.oht=void 0,this.aht=void 0,this.gW=Vm.Lg,this.CE=Vm.Lg,this.Nm.R_(),this.Dm.R_(),this.Fq.R_(),this.Cm.R_(),t.next=19,Rr.awrap(this.zq.R_());case 19:return t.next=21,Rr.awrap(this.hN.R_());case 21:return this.kE.R_(),this.Wq.R_(),this.Eet=void 0,t.next=26,Rr.awrap(this.rN.R_());case 26:case"end":return t.stop()}},null,this,null,Ve)},i.Gm=function(){this.Lct.iK("THEOplayerShowAirPlayPicker",{})},i.qm=function(){this.Lct.iK("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Am.by=t.by,this.Am.yy=t.yy},i.Od=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.R_());case 2:return this.Ks(),this.unobserveMediaElement(),this.jN(),this.rN.PN=void 0,t.next=8,Rr.awrap(this.rN.Bs());case 8:return this.Nm.Od(),this.Dm.Od(),this.Fq.Od(),this.Cm.Od(),t.next=14,Rr.awrap(this.zq.Od());case 14:return t.next=16,Rr.awrap(this.hN.Od());case 16:this.kE.Od(),this.Wq.Od();case 18:case"end":return t.stop()}},null,this,null,Ve)},i.XN=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.hN.AE(i)}},i.vht=function(){var t=this.CE,n=this.gW;t!==n&&(this.CE=n,this.js(new Ty(this.jg,n)))},i.observeMediaElement=function(){this.rN.Ys(bf.ef,this.qs),this.rN.Ys([bf.hf,bf.cf],this.Qj),this.Jct.addEventListener("play",this.kht),this.Jct.addEventListener("pause",this.bht),this.Jct.addEventListener("seeking",this.Iht),this.Jct.addEventListener("seeked",this.Eht),this.Jct.addEventListener("ratechange",this.Tht),this.Jct.addEventListener("durationchange",this.wht),this.Jct.addEventListener("timeupdate",this.Rht),this.Jct.addEventListener("waiting",this.Dht),this.Jct.addEventListener("playing",this.Aht),this.Jct.addEventListener("ended",this._ht),this.Jct.addEventListener("loadedmetadata",this.yht),this.Jct.addEventListener("loadeddata",this.mht),this.Jct.addEventListener("loadstart",this.ght),this.Jct.addEventListener("canplay",this.fht),this.Jct.addEventListener("canplaythrough",this.dht),this.Jct.addEventListener("error",this.wN),this.Jct.addEventListener("seekablechange",this.Sht),this.Jct.addEventListener("videosizechange",this.Nht),this.Jct.addEventListener("bufferedchange",this.hht),this.Jct.addEventListener("playedchange",this.pht),this.Jct.addEventListener("metricschange",this.Uht),this.Jct.addEventListener("addDateRangeCues",this.Xht)},i.unobserveMediaElement=function(){this.rN.Js(bf.ef,this.qs),this.rN.Js([bf.hf,bf.cf],this.Qj),this.Jct.removeEventListener("play",this.kht),this.Jct.removeEventListener("pause",this.bht),this.Jct.removeEventListener("seeking",this.Iht),this.Jct.removeEventListener("seeked",this.Eht),this.Jct.removeEventListener("ratechange",this.Tht),this.Jct.removeEventListener("durationchange",this.wht),this.Jct.removeEventListener("timeupdate",this.Rht),this.Jct.removeEventListener("waiting",this.Dht),this.Jct.removeEventListener("playing",this.Aht),this.Jct.removeEventListener("ended",this._ht),this.Jct.removeEventListener("loadedmetadata",this.yht),this.Jct.removeEventListener("loadeddata",this.mht),this.Jct.removeEventListener("loadstart",this.ght),this.Jct.removeEventListener("canplay",this.fht),this.Jct.removeEventListener("canplaythrough",this.dht),this.Jct.removeEventListener("error",this.wN),this.Jct.removeEventListener("seekablechange",this.Sht),this.Jct.removeEventListener("videosizechange",this.Nht),this.Jct.removeEventListener("bufferedchange",this.hht),this.Jct.removeEventListener("playedchange",this.pht),this.Jct.removeEventListener("metricschange",this.Uht),this.Jct.removeEventListener("addDateRangeCues",this.Xht)},i.updateCurrentTime=function(t){var n=this.Ny.start(0),i=this.Ny.end(0);return w.min(w.max(t,n),i)},i.xht=function(){for(var t=0,n=this.Cm.N_;t<n.length;t++){var i=n[t];if(i.z_===Ap.sA&&i.us===lk.ID3)return i}},i.Mht=function(t){for(var n=0,i=this.Cm.N_;n<i.length;n++){var e=i[n],r=e.J_===Am.Q_,s=e.z_===t;if(r&&s)return e}},i.ON=function(){this.Jct.addEventListener("addaudiotrack",this.Cht),this.Jct.addEventListener("enableaudiotrack",this.Pht),this.Jct.addEventListener("addvideotrack",this.Bht),this.Jct.addEventListener("addtexttrack",this.DZ),this.Jct.addEventListener("addtexttrackid3cues",this.Oht),this.Jct.addEventListener("addtexttrackcues",this.Lht)},i.jN=function(){this.Jct.removeEventListener("addaudiotrack",this.Cht),this.Jct.removeEventListener("enableaudiotrack",this.Pht),this.Jct.removeEventListener("addvideotrack",this.Bht),this.Jct.removeEventListener("addtexttrack",this.DZ),this.Jct.removeEventListener("addtexttrackid3cues",this.Oht),this.Jct.removeEventListener("addtexttrackcues",this.Lht)},i.vy=function(){},A(n,[{key:"xm",get:function(){return this.Nm}},{key:"ly",get:function(){return this.C5.KN()}},{key:"wy",get:function(){return this.uht?this.uht:null},set:function(t){this.Lct.iK("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.uht=t}},{key:"jg",get:function(){return this.AC},set:function(t){this.setCurrentTime(t)}},{key:"Yg",get:function(){return this.ea}},{key:"Qg",get:function(){return this._W}},{key:"wu",get:function(){return this.uN}},{key:"Zg",get:function(){return this.oN}},{key:"Um",get:function(){}},{key:"gy",get:function(){return this.rN.gy}},{key:"Am",get:function(){return this.tht}},{key:"Kg",get:function(){return this.TC},set:function(t){this.TC!==t&&(this.Lct.iK("THEOplayerSetMuted",t),this.TC=t,this.js(new by(this.jg,t?0:1)))}},{key:"Jg",get:function(){return this.SC}},{key:"$g",get:function(){return this.EC},set:function(t){this.Lct.iK("THEOplayerSetPlaybackRate",t),this.EC=t}},{key:"Iy",get:function(){return this.Jq.KN()}},{key:"Ry",get:function(){return YS.kD},set:function(t){}},{key:"og",get:function(){return this.gW}},{key:"Ny",get:function(){return this.iW.KN()}},{key:"tm",get:function(){return this.IC}},{key:"tD",get:function(){}},{key:"Mm",get:function(){return this.Cm}},{key:"nm",get:function(){return this.oht}},{key:"im",get:function(){return this.aht}},{key:"um",get:function(){return 1},set:function(t){}},{key:"Dy",get:function(){return this.dN}},{key:"Lm",get:function(){return this.Dm}},{key:"nD",get:function(){return this.lN}},{key:"Cy",get:function(){return!1},set:function(t){}},{key:"Ey",get:function(){return!0}}]),n}(Bm),XW=function(){function t(){this.iD=RS.xR}var n=t.prototype;return n.eD=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(jm(n.type))return!1;var e=n.contentProtection;if(e&&!YA(e)){if(!KA(e))return!1;if(!t.zht(e))return!1}return!0},t.zht=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.rD=function(){return!1},t}(),FW=function(){function t(){this.Vht=r.webkit}return t.prototype.iK=function(t,n){this.Vht.messageHandlers[t]&&this.Vht.messageHandlers[t].postMessage(n)},t}(),HW=function(t){function n(n){var i;return(i=t.call(this)||this).Lct=void 0,i.Jct=void 0,i.Wht=function(t){var n=Du(t.detail.initData),e=t.detail.sessionId;i.js(new bW(n,e))},i.Ght=function(t){var n=new y(Xu(t.detail.message)),e=t.detail.destinationURL;i.js(new pW(n,e))},i.qht=function(t){i.js(new AW)},i.Lct=n,i.Jct=new mW,vW().fairplayController={sdkEventBus:i.Jct},i.jht(),i}S(n,t);var i=n.prototype;return i.jht=function(){this.Jct.addEventListener(_W.Vct,this.Wht),this.Jct.addEventListener(_W.Wct,this.Ght),this.Jct.addEventListener(_W.Gct,this.qht)},i.kq=function(t,n){var i={playerId:dW(),data:Fu(n.buffer),sessionId:t};this.Lct.iK("THEOplayerCreateKeySession",i)},i.Wc=function(t,n){var i={playerId:dW(),data:Fu(n.buffer),sessionId:t};this.Lct.iK("THEOplayerUpdateKey",i)},n}(Bm),zW=function(t){var n=this;this.Jct=void 0,this.Yht=void 0,this.Qht=function(){n.Yht.UZ()},this.Zht=function(){n.Yht.MZ()},this.Jct=new mW,this.Yht=t,this.Jct.addEventListener("showTracks",this.Qht),this.Jct.addEventListener("hideTracks",this.Zht),vW().texttracks={sdkEventBus:this.Jct}},VW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).VZ=void 0,o.WZ=void 0,o.Kht=void 0;var a=i.DN(Ky.Sd);return o.VZ=new IB,o.VZ.bY(n),o.WZ=new EO(o.VZ._y,a.RU,o.Mm,u,a.WN),o.Kht=new zW(o.WZ),i.YN(a),ve.document.querySelector(".vjs-tech")?ve.document.querySelector(".player-div").classList.add("theo-ios-sdk"):ve.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.Zm=function(){t.prototype.Zm.call(this),this.VZ.Zm()},i.Km=function(){t.prototype.Km.call(this),this.VZ.Km()},i.Wm=function(){return!0},i.getSdkBridge=function(){return new FW},i.getFairPlayControllerBridge=function(){return GW},i.Fht=function(t){return t},i.Od=function(){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ve.document.querySelector(".vjs-tech")?ve.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):ve.document.querySelector(".player-div").style.background="#000000",n.next=3,Rr.awrap(t.prototype.Od.call(this));case 3:this.WZ.Od(),this.VZ.Od();case 5:case"end":return n.stop()}},null,this,null,Ve)},n}(UW);qS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.II=function(t,n,i,e,r,s){return new VW(t,n,i,e,r,s)},i.eD=function(n,i){if(n.type){var e=or();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.eD.call(this,n,i)},n}(XW)));var WW,GW=new HW(new FW),qW=function(t){function n(){return t.call(this,"Jht")||this}return S(n,t),n.prototype.t_=function(){return new jW},n}(Gg),jW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(wu);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(WW||(WW={}));var YW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$ht=new Bm,n.qs=function(t){n.js(t)},n}S(n,t);var i=n.prototype;return i.t_=function(){return n=function(t){var n=t.tft.map(function(t){return t.$w});return n.item=function(n){n|=0;var i=t.T_(n);return i&&i.$w||void 0},n}(t=this),i=new oN(t,n),n.addEventListener=function(t,n){i.Ys(t,n)},n.removeEventListener=function(t,n){i.Js(t,n)},n;var t,n,i},i.Ys=function(t,n){this.$ht.Ys(t,n)},i.Zs=function(t){this.$ht.Zs(t)},i.Ks=function(){this.$ht.Ks()},i.js=function(t){this.$ht.js(t)},i.Js=function(t,n){this.$ht.Js(t,n)},i.tu=function(t){this.$ht.tu(t)},i.nu=function(t){this.$ht.nu(t)},i.uu=function(t,n){return this.$ht.uu(t,n)},n}(function(){function t(){this.Au=[],this.Jw=void 0}var n=t.prototype;return n.T_=function(t){return this.Au[t]},n.By=function(t){this.Au.push(t),this.Jw&&this.Jw.push(t.$w),this.nft(t)},n.ift=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.By(i)}},n.eft=function(t,n){n>=0&&n<=this.Au.length&&(this.Au.splice(n,0,t),this.Jw&&this.Jw.splice(n,0,t.$w),this.nft(t))},n.Oy=function(t){return Xs(this.Au,t)},n.Vc=function(t){this.rft(this.Au.indexOf(t))},n.rft=function(t){if(t>=0&&t<this.Au.length){var n=this.Au[t];Us(this.Au,t),this.Jw&&Us(this.Jw,t),this.sft(n)}},n.Ru=function(){var t=this.Au.slice();Hs(this.Au),this.Jw&&Hs(this.Jw);for(var n=0;n<t.length;n++){var i=t[n];this.sft(i)}},A(t,[{key:"tft",get:function(){return this.Au}},{key:"D_",get:function(){return this.Au.length}},{key:"$w",get:function(){return this.Jw||(this.Jw=this.t_()),this.Jw}}]),t}());var QW,ZW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(wu),KW=function(t){function n(n){var i;return(i=t.call(this,"oft")||this).uft=n,i}return S(n,t),n.prototype.t_=function(){return new ZW(this.uft.$w)},n}(Gg),JW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(wu),$W=function(t){function n(n){var i;return(i=t.call(this,"aft")||this).task=n,i}return S(n,t),n.prototype.t_=function(){return new JW(this.task.$w)},n}(Gg),tG=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.nft=function(t){this.js(new KW(t))},i.sft=function(t){this.js(new $W(t))},n}(YW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(QW||(QW={}));var nG=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).cft=QW.UNINITIALISED,r.VU=new tG,r.Nst=void 0,r.hft=void 0,r.fft=void 0,r.fft=i,r.hft=e,r.Nst=n,r.jm(),r}S(n,t);var i=n.prototype;return i.jm=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.vft());case 2:this.lft(QW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.vft=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Rr.awrap(this.dft());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],Ve)},i.dft=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.Nst.vot());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.fft.wft(i.id,i.sourceDescription,i.parameters,this.hft),this._ft(e),this.VU.By(e);case 4:case"end":return r.stop()}},null,this,null,Ve)},i.lft=function(t){this.cft=t,this.js(new qW)},i.wft=function(t,n,i){void 0===i&&(i="persistent");var e=this.fft.gft(t,n,i);return this.mft(e,i),this.VU.By(e),this._ft(e),e},i.mft=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(this.yft(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],Ve)},i.yft=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.Nst.cot({key:t.F_,id:t.F_,sourceDescription:t.wD,parameters:t.ah},n));case 2:case"end":return i.stop()}},null,this,null,Ve)},i._ft=function(t){var n=this;t.Ys("Jht",function(){t.Kl===WW.EVICTED&&n.VU.Vc(t)})},A(n,[{key:"Kl",get:function(){return this.cft}},{key:"kft",get:function(){return this.VU}}]),n}(lu);function iG(t,n){return function(t,n){var i=t.Pk&&n.Pk,e=t.lT&&n.lT;return i||e?i&&e?t.Pk*t.lT-n.Pk*n.lT:i?t.Pk-n.Pk:e?t.lT-n.lT:(t.Pk||1)*(t.lT||1)-(n.Pk||1)*(n.lT||1):0}(t,n)||function(t,n){return t.XR-n.XR}(t,n)}var eG=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(wu),rG=function(t){function n(){return t.call(this,"bft")||this}return S(n,t),n.prototype.t_=function(){return new eG},n}(Gg),sG=function(){function t(t,n,i){if(this.pft=void 0,this.Aft=t,this.Py=n,this.Tft=i,0===this.Py.size)this.pft=iE.mC();else{var e=new iE([-1/0,1/0]);this.Py.forEach(function(t){e=e.YD(t.timeRanges)}),this.pft=e}}return t.prototype.Ak=function(t){return!!am(this.Py,t.Py)&&(!!Xt(this.Aft,t.Aft)&&(!!Xt(this.dC,t.dC)&&(!!Xt(this.Sft,t.Sft)&&this.Eft.aC(t.Eft))))},t.Ift=function(){return oG},A(t,[{key:"dC",get:function(){return this.Tft}},{key:"Rft",get:function(){return this.Aft}},{key:"Sft",get:function(){return this.Eft.dC}},{key:"Nft",get:function(){var t=0,n=0;return this.Py.forEach(function(i){t+=i.timeRanges.dC,n+=i.totalQualityDurationToCache}),0===n?0:w.min(1,t/n)}},{key:"Eft",get:function(){return this.pft}}]),t}(),uG=Cr(),oG=new sG(0,uG,NaN);function aG(t,n){if(G(t)){if(fs(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var cG,hG=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"Dft"}}]),n}(Jt);function fG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Cft;r<s.length;r++)u=s[r],e.push(vG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{Yg:t.Bft.Pft(),Oft:[t.xft],Cft:o});case 6:case"end":return a.stop()}},null,null,null,Ve)}function vG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Lft;r<s.length;r++)u=s[r],e.push(lG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{Mft:o});case 6:case"end":return a.stop()}},null,null,null,Ve)}function lG(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:for(e=[],r=0,s=t.Uft;r<s.length;r++)dG(u=s[r])||e.push(mG(u,n,i));return a.next=4,Rr.awrap(Ve.all(e));case 4:return o=a.sent,a.abrupt("return",{KA:o,us:t.us});case 6:case"end":return a.stop()}},null,null,null,Ve)}function dG(t){return t.b2.every(gG)}!function(t){t[t.Rg=0]="Rg",t[t.Ng=1]="Ng"}(cG||(cG={}));var wG,_G=1;function gG(t){return t.Xft!==_G&&Boolean(t.Xft)}function mG(t,n,i){var e,r,s,u,o,a,c,h,f;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.b2;r<s.length;r++)gG(u=s[r])||e.push(kG(u,i));return v.next=4,Rr.awrap(Ve.all(e));case 4:return o=v.sent,a=t.FH[0],c=t.m2,h=c?yG(a,c):void 0,f=gL(t,n),v.abrupt("return",{G_:o,W_:t.het,us:t.us,xN:h,Fft:f});case 10:case"end":return v.stop()}},null,null,null,Ve)}function yG(t,n){for(var i=[],e=function(t){return t?fs(t,"avc")?Nh.VIDEO_H264:fs(t,"hev")||fs(t,"hvc")||fs(t,"hvt")||fs(t,"lhv")||fs(t,"lhe")||fs(t,"lht")?Nh.VIDEO_H265:fs(t,"mp4")?Nh.VIDEO_MP4:fs(t,"mpeg2")?Nh.VIDEO_MPEG2:fs(t,"mpeg")?Nh.VIDEO_MPEG:Nh.VIDEO_UNKNOWN:Nh.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.f2.split(":").pop(),o=s.v2;i.push({mimeType:e,uuid:u,data:o})}return{type:cG.Rg,schemeType:Vr,schemeDatas:i}}function kG(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Rr.awrap(bG(t,n));case 2:r=u.sent,s={F_:AG(t),JS:r,XR:t.XR,Ke:t.Ke,lT:t.lT,us:t.us,Pk:t.Pk},u.t0=t.us,u.next=u.t0===Ky.Kn?7:u.t0===Ky.Sd?8:u.t0===Ky.Td?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.jK=null!=(i=null==(e=t.jK)?void 0:e.Ok())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.ZK,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,Ve)}function bG(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=t.Hft,t.Aat&&i.push({Ky:0,Yg:0,zft:t.Aat}),r=e.Vft(),s=r;case 5:if(!s){h.next=17;break}if(!t.Wft(s)){h.next=13;break}return h.next=9,Rr.awrap(t.Gft(s,n,(new Zs).zs));case 9:for(u=h.sent,o=0;o<u.D_;o++)i.push(pG(u.qft(o),t));h.next=14;break;case 13:i.push(pG(s,t));case 14:s=e.jft(s),h.next=5;break;case 17:return a=e.Yft(),c=a.Jy-r.Ky,h.abrupt("return",{Yg:c,KK:i});case 20:case"end":return h.stop()}},null,null,null,Ve)}function pG(t,n){return{Ky:t.Ky,Yg:t.Yg,zft:n.Qft(t)}}function AG(t){return t.Zft.xD+"-"+(""+t.F_)}function TG(t,n){return function(t,n){for(var i={},e=0;e<ix.length;e++){var r=ix[e],s=t[r],u={};for(var o in s){for(var a=[],c=s[o],h=0;h<c.length;h++){var f=c[h],v=SG(f,r,n);a.push(v)}u[o]=a}i[r]=u}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e.b$]||(n[e.b$]={us:e.us,uT:[]}),n[e.b$].uT.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.uT;s<u.length;s++){var o,a,c=u[s],h=null!=(a=i[o=r.us])?a:i[o]={};h[c.ci]||(h[c.ci]=[]),h[c.ci].push(c)}return i}(t),n)}function SG(t,n,i){for(var e=t.b$,r={A0:t,F0:[]},s=0;s<i.length;s++){var u=i[s];rM(n,e,u)&&r.F0.push(u)}return r}function EG(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(n.Lat([t],{}));case 2:return i=e.sent,e.abrupt("return",tM(i.ud,i.Bat));case 4:case"end":return e.stop()}},null,null,null,Ve)}function IG(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!KO(t)){i.next=4;break}return i.abrupt("return",RG(t,n));case 4:return i.abrupt("return",(r=void 0,{Yg:(r=MG(e=t)).Yg,Oft:[e.WJ],Cft:[{Mft:[{us:Ky.fd,KA:[{us:Ky.fd,W_:pU,G_:[{F_:e.WJ,JS:r,XR:0,Ke:"",lT:0,us:Ky.fd,Pk:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,Ve)}function RG(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=TG(t.uT,t.Z2),s.next=3,Rr.awrap(CG(i,n));case 3:return e=s.sent,s.next=6,Rr.awrap(DG(t.Z2,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{Yg:NG(e),Oft:[t.WJ],Cft:[{Mft:e}]});case 9:case"end":return s.stop()}},null,null,null,Ve)}function NG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].KA;e<r.length;e++){var s=r[e];n=w.max.apply(w,[n].concat(s.G_.map(function(t){return t.JS.Yg})))}return n}function DG(t,n){var i,e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){h.next=15;break}return a=t[e],h.next=6,Rr.awrap(LG(a.WJ,n));case 6:(c=h.sent).XR=a.XR,c.Ke=a.FH?[(f=a.FH).XH,f.UH,f.HH].filter(X).join(","):"",c.lT=null!=(r=null==(s=a.x0)?void 0:s.lT)?r:0,c.Pk=null!=(u=null==(o=a.x0)?void 0:o.Pk)?u:0,i.push(c);case 12:e++,h.next=2;break;case 15:return h.abrupt("return",{us:Ky.fd,KA:[{W_:pU,us:Ky.fd,G_:i}]});case 16:case"end":return h.stop()}var f},null,null,null,Ve)}function CG(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=0;case 2:if(!(e<ix.length)){o.next=13;break}if(r=ix[e],!(s=t[r])){o.next=10;break}return o.next=8,Rr.awrap(PG(s,r,n));case 8:u=o.sent,i.push(u);case 10:e++,o.next=2;break;case 13:return o.abrupt("return",i);case 14:case"end":return o.stop()}},null,null,null,Ve)}function PG(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Rr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Rr.awrap(BG(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{us:OG(n),KA:e});case 12:case"end":return o.stop()}},null,null,null,Ve)}function BG(t,n){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].A0,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Rr.awrap(xG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{W_:e.W_||pU,us:OG(e.us),G_:i});case 13:case"end":return o.stop()}},null,null,null,Ve)}function OG(t){switch(t){case jO.Td:return Ky.Td;case jO.Sd:return Ky.Sd;case jO.eA:case jO.pJ:return Ky.Kn;default:return Ky.fd}}function xG(t,n){var i,e,r;return LG((e=(i=t).A0.WJ,r=i.F0.map(function(t){return t.WJ}),e||(r.length?r[0]:void 0)),n)}function LG(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i={Yg:0,KK:[]},!t){r.next=6;break}return r.next=4,Rr.awrap(EG(t,n));case 4:JO(e=r.sent)&&(i=MG(e));case 6:return r.abrupt("return",{F_:t||"default",Kft:t,JS:i,XR:0,Ke:"",lT:0,us:Ky.fd,Pk:0});case 7:case"end":return r.stop()}},null,null,null,Ve)}function MG(t){for(var n,i=[],e=0,r=0,s=t.KK;r<s.length;r++){var u=s[r];if(ex(u)){var o=e;!u.KJ||void 0!==n&&ox(u.KJ.WJ,n)||(i.push(UG(u.KJ,o)),n=u.KJ.WJ),i.push(XG(u,o)),e+=u.Yg}}return{Yg:e,KK:i}}function UG(t,n){return{Ky:n,Yg:0,zft:FG(t.WJ)}}function XG(t,n){return{Ky:n,Yg:t.Yg,zft:FG(t.WJ)}}function FG(t){return{od:t._i,dat:t.SJ?[t.SJ.xD,t.SJ.xD+t.SJ.D_]:void 0,Cd:!1}}!function(t){t.NE="static",t.DE="dynamic"}(wG||(wG={}));var HG,zG=31536e3,VG=2592e3,WG=86400,GG=3600,qG=60,jG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,YG=function(){function t(t){this.Jft=void 0;var n=t.match(jG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Jft=i*zG+e*VG+r*WG+s*GG+u*qG+o}var n=t.prototype;return n.Pft=function(){return this.Jft},n.$ft=function(){return 1e3*this.Jft},A(t,[{key:"l7",get:function(){return Kk.Vb(this.Jft,1e3)}}]),t}();!function(t){t.tvt="progressive",t.nvt="interlaced",t.fd="unknown"}(HG||(HG={}));var QG=function(){function t(t,n){this.ivt=t,this.evt=n}return t.prototype.Ok=function(){return this.ivt/this.evt},t}(),ZG=/^(?:true|false)$/i,KG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function JG(t){if(void 0!==t)return new YG(t)}function $G(t){if(void 0!==t){var n=t.match(KG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],l=n[11],d=("-"===i?-1:1)*Number(e),_=Number(r)-1,g=Number(s),y=Number(u),k=Number(o),b=Number(a),p=Number("0."+(c||"")),A=w.round(1e3*p);if(h)k-=("-"===h?-1:1)*(60*Number(f)+Number(l));var T=new Date(Date.UTC(d,_,g,y,k,b,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function tq(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[iq(n[1]),iq(n[2])]}}function nq(t){if(void 0!==t){if(!m(Number(t)))try{return ht.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function iq(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function eq(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new QG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function rq(t){if(void 0!==t){if(ZG.test(t))return"true"===t.toLowerCase();if(!m(_(t)))return Boolean(_(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function sq(t){return{od:t.Ui,rvt:rq(t.Ci("availabilityTimeComplete")),svt:iq(t.Ci("availabilityTimeOffset"))}}function uq(t){return t.map(sq)}function oq(t){var n,i,e,r,s,u,o=mq(t),a=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).Pi(e,i))&&(s=n.Ci(r+":"+i)),s),c=ep(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(u=Xu(c.Ui)),!u){var h=ep(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(u=function(t){var n=Du(t.Ui),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),a=new zo;ho(o,a,r),ho(o,a,1886614376),ho(o,a,0),ro(o,a,i),ho(o,a,e),ro(o,a,n),0;return u.buffer}(h))}return{YE:a,v2:u,f2:o.f2,_i:o._i}}function aq(t){return{uvt:t.Ci("sourceURL"),dat:tq(t.Ci("range"))}}function cq(t,n){var i=t.Ci("d"),e=t.Ci("t"),r=iq(t.Ci("r"));n.push({Yg:i,Ky:e,ovt:r})}function hq(t){return{avt:t.Ci("index"),cvt:tq(t.Ci("indexRange")),uT:t.Ci("media"),fvt:tq(t.Ci("mediaRange"))}}function fq(t){var n,i;return Nr({},dq(t),{vvt:(n=t.Ti("SegmentURL"),(i=n.map(hq)).length>0?i:void 0),lvt:t.Ci("xlink:href"),dvt:t.Ci("xlink:actuate")})}function vq(t){var n=t.map(fq);return n.length>0?n:void 0}function lq(t){var n=rq(t.Ci("availabilityTimeComplete")),i=iq(t.Ci("availabilityTimeOffset")),e=tq(t.Ci("indexRange")),r=rq(t.Ci("indexRangeExact")),s=t.Ti("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one Initialization element.");var u=1===s.length?aq(s[0]):void 0,o=nq(t.Ci("presentationTimeOffset")),a=t.Ti("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one RepresentationIndex element.");return{rvt:n,svt:i,cvt:e,wvt:r,_vt:u,gvt:o,mvt:1===a.length?aq(a[0]):void 0,yvt:JG(t.Ci("timeShiftBufferDepth")),Pb:iq(t.Ci("timescale"))}}function dq(t){var n=lq(t),i=t.Ti("BitstreamSwitching"),e=i.length>0?aq(i[0]):void 0,r=iq(t.Ci("duration")),s=t.Ti("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Ei+" element can not have more than one SegmentTimeline element.");return Nr({},n,{kvt:e,Yg:r,Hft:1===s.length?function(t){for(var n=[],i=t.Ti("S"),e=0;e<i.length;e++)cq(i[e],n);return n}(s[0]):void 0,bvt:iq(t.Ci("startNumber")),pvt:iq(t.Ci("endNumber"))})}function wq(t){return Nr({},dq(t),{Avt:t.Ci("bitstreamSwitching"),Tvt:t.Ci("index"),Svt:t.Ci("initialization"),Evt:t.Ci("media")})}function _q(t){return{ZK:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(iq)):1===n.length?n.map(iq)[0]:void 0}}(t.Ci("audioSamplingRate")),FH:t.Ci("codecs"),Ivt:rq(t.Ci("codingDependency")),m2:function(t){if(0!==t.length)return t.map(oq)}(t.Ti("ContentProtection")),Rvt:t.Ti("EssentialProperty").map(yq),jK:eq(t.Ci("frameRate")),lT:iq(t.Ci("height")),Xft:iq(t.Ci("maxPlayoutRate")),Nvt:iq(t.Ci("maximumSAPPeriod")),ZB:t.Ci("mimeType"),Dvt:t.Ci("profiles"),Cvt:t.Ci("sar"),Pvt:function(t){switch(t){case HG.tvt:case HG.nvt:case HG.fd:return t;default:return}}(t.Ci("scanType")),Bvt:t.Ci("segmentProfiles"),Ovt:iq(t.Ci("startWithSAP")),Pk:iq(t.Ci("width"))}}function gq(t){var n=_q(t),i=iq(t.Ci("bandwidth")),e=uq(t.Ti("BaseURL")),r=t.Ci("dependencyId"),s=t.Ci("id"),u=t.Ci("mediaStreamStructureId"),o=iq(t.Ci("qualityRanking")),a=t.Ti("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?lq(a[0]):void 0,h=vq(t.Ti("SegmentList")),f=t.Ti("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Nr({},n,{XR:i,xvt:e,Lvt:r,F_:s,Mvt:u,Uvt:o,Xvt:c,Fvt:h,Hvt:1===f.length?wq(f[0]):void 0})}function mq(t){return{f2:t.Ci("schemeIdUri"),_i:t.Ci("value")}}function yq(t){return mq(t)}function kq(t){return mq(t)}function bq(t){return mq(t)}function pq(t){var n,i=_q(t),e=function(t){return t.map(bq)}(t.Ti("Accessibility")),r=uq(t.Ti("BaseURL")),s=rq(t.Ci("bitstreamSwitching")),u=t.Ci("contentType"),o=iq(t.Ci("group")),a=iq(t.Ci("id")),c=(null==(n=t.Ti("Label")[0])?void 0:n.Ui)||"",h=t.Ci("lang"),f=iq(t.Ci("maxBandwidth")),l=eq(t.Ci("maxFrameRate")),d=iq(t.Ci("maxHeight")),w=iq(t.Ci("maxWidth")),_=iq(t.Ci("minBandwidth")),g=eq(t.Ci("minFrameRate")),m=iq(t.Ci("minHeight")),y=iq(t.Ci("minWidth")),k=t.Ci("par"),b=t.Ti("Representation").map(gq);if(0===b.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var p=function(t){return t.map(kq)}(t.Ti("Role")),A=rq(t.Ci("segmentAlignment"))||!1,T=t.Ti("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?lq(T[0]):void 0,E=vq(t.Ti("SegmentList")),I=t.Ti("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R,N=1===I.length?wq(I[0]):void 0,D=iq(t.Ci("selectionPriority")),C=D||1,P=rq(t.Ci("subsegmentAlignment"))||!1;try{R=iq(t.Ci("subsegmentStartsWithSAP"))}catch(t){}return Nr({},i,{zvt:e,xvt:r,kvt:s,Xl:u,Vvt:o,F_:a,V_:c,W_:h,Wvt:f,Gvt:l,qvt:d,jvt:w,Yvt:_,Qvt:g,Zvt:m,Kvt:y,Jvt:k,b2:b,$vt:p,tlt:A,Xvt:S,Fvt:E,Hvt:N,iD:C,nlt:P,ilt:R,elt:t.Ci("xlink:actuate")||"onRequest",rlt:t.Ci("xlink:href")})}function Aq(t){var n=nq(t.Ci("presentationTime"))||ht.ZERO,i=nq(t.Ci("duration")),e=iq(t.Ci("id")),r=function(t){for(var n=t.Mi,i={},e=0;e<n.length;e++)i[n[e].ci]=n[e]._i;return i}(t),s=t.Ui;return{OS:n,Yg:i,F_:e,Mi:r,Xi:""!==s.trim()?s:t.Ci("messageData")||""}}function Tq(t){return{rlt:t.Ci("xlink:href"),elt:t.Ci("xlink:actuate"),f2:t.Ci("schemeIdUri"),_i:t.Ci("value"),Pb:iq(t.Ci("timescale")),gvt:nq(t.Ci("presentationTimeOffset")),KB:t.Ti("Event").map(Aq)}}function Sq(t,n){var i=t.Ti("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?mq(i[0]):void 0,r=t.Ti("AdaptationSet").map(pq),s=uq(t.Ti("BaseURL")),u=rq(t.Ci("bitstreamSwitching")),o=JG(t.Ci("duration")),a=t.Ti("EventStream").map(Tq),c=t.Ci("id"),h=n&&JG(n.Ci("start")),f=t.Ti("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var l=1===f.length?lq(f[0]):void 0,d=vq(t.Ti("SegmentBase")),w=t.Ti("SegmentTemplate");if(w.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var _=1===w.length?wq(w[0]):void 0,g=JG(t.Ci("start"));t.Ti("Subset");var m=t.Ci("xlink:href");return{Uft:r,slt:e,xvt:s,kvt:u,Yg:o,ult:a,F_:c,olt:h,Xvt:l,Fvt:d,Hvt:_,xD:g,elt:t.Ci("xlink:actuate"),rlt:m}}function Eq(t){var n=t.Ci("schemeIdUri");if(n)return{f2:n,_i:t.Ci("value")}}function Iq(t,n){var i=$G(t.Ci("availabilityEndTime")),e=$G(t.Ci("availabilityStartTime")),r=uq(t.Ti("BaseURL")),s=t.Ci("id"),u=t.Ti("Location").map(function(t){return""+t.Ui}),o=JG(t.Ci("maxSegmentDuration")),a=JG(t.Ci("maxSubsegmentDuration")),c=JG(t.Ci("mediaPresentationDuration"));t.Ti("Metrics");var h=JG(t.Ci("minBufferTime"));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=JG(t.Ci("minimumUpdatePeriod")),l=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(Sq(t[i],t[i+1]));return n}(t.Ti("Period"));if(!l.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var d=t.Ci("profiles");if(!d)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{clt:i,hlt:e,xvt:r,F_:s,flt:u,vlt:n,llt:o,dlt:a,Bft:c,wlt:h,_lt:f,Cft:l,Dvt:d,glt:$G(t.Ci("publishTime")),ylt:JG(t.Ci("suggestedPresentationDelay")),yvt:JG(t.Ci("timeShiftBufferDepth")),us:function(t){switch(t){case wG.NE:case wG.DE:return t;default:return}}(t.Ci("type")),klt:function(t){for(var n=[],i=0;i<t.length;i++){var e=Eq(t[i]);e&&n.push(e)}return n}(t.Ti("UTCTiming"))}}var Rq,Nq=function(){function t(){}return t.prototype.Tct=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return Iq(t,n)}(i.ei(t).Fi,n)},t}(),Dq=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(wu),Cq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).H_=void 0,u.Ly=void 0,u.blt=void 0,u.F_=n,u.XR=i,u.FH=e,u.WJ=s,u.H_=uk(),u.Ly=r||"",u.blt=!0,u}return S(n,t),n.prototype.gE=function(){this.blt=!1,this.js(new Dq(this.$w))},A(n,[{key:"V_",get:function(){return this.Ly},set:function(t){this.Ly!==t&&(this.Ly=t,this.js(new Dq(this.$w)))}},{key:"qK",get:function(){}},{key:"QK",get:function(){return this.blt}}]),n}(lu),Pq=function(t){function n(n,i,e,r,s,u,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,e,r,s)||this).Jw=void 0,h.jK=u,h.Pk=o,h.lT=a,h.YK=c,h}return S(n,t),A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=YO(this)),this.Jw}}]),n}(Cq),Bq=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Jw=void 0,o.ZK=u,o}return S(n,t),A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=QO(this)),this.Jw}}]),n}(Cq);!function(t){t.plt="Alt",t.Tlt="Slt"}(Rq||(Rq={}));var Oq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Elt=function(t){n.js(t)},n}return S(n,t),A(n,[{key:"Ilt",get:function(){var t=this.Rlt();return null==t?void 0:t.xD}},{key:"Nlt",get:function(){var t=this.Rlt();return null==t?void 0:t.MD}}]),n}(lu);function xq(t){return Q(t.Dlt)}var Lq=function(t){function n(n,i){var e;if((e=t.call(this)||this).Clt=void 0,e.Jw=void 0,e.P3=void 0,e.Plt=void 0,e.Blt=void 0,e.Clt=n,e.P3=i,e.P3.Ys(Rq.plt,e.Elt),e.us===Ky.Sd){var r,s,u=null!=(r=null==(s=e.jK)?void 0:s.Ok())?r:NaN;e.Plt=new Pq(e.F_,e.XR,e.Ke,"","",u,e.Pk,e.lT)}else e.us===Ky.Td?e.Plt=new Bq(e.F_,e.XR,e.Ke,"","",e.ZK):e.Plt=void 0;return e}S(n,t);var i=n.prototype;return i.Qft=function(t){var n=xq(t)?this.P3.Olt(t):this.P3.Qft(t);return{od:n.od,dat:n.dat,Cd:this.xlt.Cd}},i.Llt=function(){return this.P3.Llt()},i.Rlt=function(){return this.P3.Rlt()},i.Mlt=function(){return this.P3.Mlt()},i.Wft=function(t){return this.P3.Wft(t)},i.Gft=function(t,n,i){return this.P3.Gft(t,this.xlt.Cd,n,i)},i.Ult=function(t){return xq(t)?this.Hft.Xlt(t):this.Hft.Ult(t)},i.Flt=function(t){return xq(t)?this.Hft.Hlt(t):this.Hft.Flt(t)},i.Od=function(){this.P3.Js(Rq.plt,this.Elt)},A(n,[{key:"zlt",get:function(){return this.Clt}},{key:"ZK",get:function(){var t;return null!=(t=this.P3.Xi.ZK)?t:this.zlt.ZK}},{key:"XR",get:function(){return this.P3.Xi.XR||0}},{key:"FH",get:function(){var t=this.P3.Xi;return t.FH?[t.FH]:this.zlt.FH}},{key:"Vlt",get:function(){var t=this.P3.Xi;return t.FH?[t.FH]:[]}},{key:"Ke",get:function(){return this.P3.Xi.FH||this.zlt.Ke}},{key:"Ivt",get:function(){return this.P3.Xi.Ivt||this.zlt.Ivt}},{key:"m2",get:function(){return this.P3.Xi.m2||this.zlt.m2}},{key:"Xl",get:function(){return this.ZB+'; codecs="'+this.Ke+'"'}},{key:"Rvt",get:function(){var t=this.P3.Xi;return t.Rvt.length?t.Rvt:this.zlt.Rvt}},{key:"$w",get:function(){return this.Jw||(this.Jw=(t=this,{get id(){return t.F_},get type(){return t.us},get bandwidth(){return t.XR},get width(){return t.Pk},get height(){return t.lT},get frameRate(){var n,i;return null!=(n=null==(i=t.jK)?void 0:i.Ok())?n:NaN},get audioSamplingRate(){return t.ZK}}));var t}},{key:"jK",get:function(){var t;return null!=(t=this.P3.Xi.jK)?t:this.zlt.jK}},{key:"lT",get:function(){return this.P3.Xi.lT||this.zlt.lT}},{key:"F_",get:function(){return this.P3.Xi.F_||""}},{key:"Wlt",get:function(){return this.Blt},set:function(t){this.Blt=t}},{key:"Aat",get:function(){var t=this.P3.Glt();if(t)return{od:t.od,dat:t.dat,Cd:this.xlt.Cd}}},{key:"Xft",get:function(){return this.P3.Xi.Xft||this.zlt.Xft||1}},{key:"Nvt",get:function(){return this.P3.Xi.Nvt||this.zlt.Nvt}},{key:"xlt",get:function(){return this.Zft.xlt}},{key:"ZB",get:function(){return this.P3.Xi.ZB||this.zlt.ZB}},{key:"Zft",get:function(){return this.zlt.Zft}},{key:"Dvt",get:function(){return this.P3.Xi.Dvt||this.zlt.Dvt}},{key:"d0",get:function(){return this.Plt}},{key:"Cvt",get:function(){return this.P3.Xi.Cvt||this.zlt.Cvt}},{key:"Pvt",get:function(){return this.P3.Xi.Pvt||this.zlt.Pvt}},{key:"qlt",get:function(){return this.P3.qlt}},{key:"Bvt",get:function(){return this.P3.Xi.Bvt||this.zlt.Bvt}},{key:"Hft",get:function(){return this.P3.Hft}},{key:"Ovt",get:function(){return this.P3.Xi.Ovt||this.zlt.Ovt}},{key:"us",get:function(){var t=this.ZB.split("/")[0];return"application"===t||"text"===t||Op(this.ZB,this.FH)?Ky.Kn:"video"===t?Ky.Sd:"audio"===t?Ky.Td:"image"===t?Ky.Ed:Ky.fd}},{key:"Pk",get:function(){return this.P3.Xi.Pk||this.zlt.Pk}}]),n}(Oq),Mq=function(t){function n(n,i){var e;return(e=t.call(this)||this).jlt=[],e.P3=void 0,e.Ylt=void 0,e.Qlt=[],e.Ylt=n,e.P3=i,e.P3.Ys(Rq.plt,e.Elt),e}S(n,t);var i=n.prototype;return i.Wc=function(t,n){var i,e=this;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Qlt.length){r.next=6;break}return this.Qlt=[],i=this.P3.b2.map(function(i){return e.Zlt(i,t,n)}),r.next=5,Rr.awrap(Ve.all(i));case 5:this.Qlt=r.sent.filter(X);case 6:this.Klt();case 7:case"end":return r.stop()}},null,this,null,Ve)},i.Zlt=function(t,n,i){var e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new Lq(this,t),s.next=3,Rr.awrap(n(e));case 3:if(r=s.sent,$s(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.Klt=function(){if(!this.Qlt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Rlt=function(){return this.P3.Rlt()},i.Mlt=function(){return this.P3.Mlt()},i.Od=function(){this.P3.Js(Rq.plt,this.Elt);for(var t=0,n=this.Qlt;t<n.length;t++){n[t].Od()}Hs(this.Qlt)},A(n,[{key:"zvt",get:function(){return this.P3.Xi.zvt}},{key:"ZK",get:function(){var t;return null!=(t=this.P3.Xi.ZK)?t:-1}},{key:"FH",get:function(){if(this.P3.Xi.FH)return[this.P3.Xi.FH];for(var t=[],n=0,i=this.b2;n<i.length;n++){var e=i[n];e.Vlt.length&&-1===t.indexOf(e.Ke)&&t.push(e.Ke)}return t}},{key:"Ke",get:function(){return this.FH.join()}},{key:"Ivt",get:function(){return this.P3.Xi.Ivt}},{key:"m2",get:function(){return this.P3.Xi.m2}},{key:"Xl",get:function(){return this.ZB+'; codecs="'+this.Ke+'"'}},{key:"Rvt",get:function(){return this.jlt}},{key:"jK",get:function(){return this.P3.Xi.jK}},{key:"Vvt",get:function(){return this.P3.Xi.Vvt}},{key:"lT",get:function(){return this.P3.Xi.lT||0}},{key:"F_",get:function(){return this.P3.Xi.F_}},{key:"V_",get:function(){return this.P3.Xi.V_||""}},{key:"Xft",get:function(){return this.P3.Xi.Xft}},{key:"Nvt",get:function(){return this.P3.Xi.Nvt}},{key:"xlt",get:function(){return this.Zft.xlt}},{key:"ZB",get:function(){return this.P3.Xi.ZB||this.Qlt[0].ZB}},{key:"Zft",get:function(){return this.Ylt}},{key:"Dvt",get:function(){return this.P3.Xi.Dvt}},{key:"b2",get:function(){return this.Qlt}},{key:"$vt",get:function(){return this.P3.Xi.$vt||[]}},{key:"Cvt",get:function(){return this.P3.Xi.Cvt}},{key:"Pvt",get:function(){return this.P3.Xi.Pvt}},{key:"Bvt",get:function(){return this.P3.Xi.Bvt}},{key:"iD",get:function(){return this.P3.Xi.iD}},{key:"Ovt",get:function(){return this.P3.Xi.Ovt}},{key:"us",get:function(){var t=(this.P3.Xi.Xl||this.ZB).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Op(this.ZB,this.FH)?Ky.Kn:"video"===t?Ky.Sd:"audio"===t?Ky.Td:"image"===t?Ky.Ed:Ky.fd}},{key:"Pk",get:function(){return this.P3.Xi.Pk||0}},{key:"het",get:function(){return this.P3.Xi.W_||""}},{key:"Jlt",get:function(){return this.Ilt}},{key:"$lt",get:function(){var t=this.Jlt,n=this.Nlt;if(void 0!==t&&void 0!==n){var i=w.min(n,this.xlt.tdt);return w.max(t,i)}}}]),n}(Oq);function Uq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Cr(o,s))}return e}var Xq=function(){function t(t,n){this.Ylt=void 0,this.ndt=void 0,this.$o=void 0,this.idt=void 0,this.edt=void 0,this.Ylt=t,this.ndt=n,this.$o=n.Pb,this.idt=n.svt,this.edt=n.gvt}var n=t.prototype;return n.rdt=function(t){var n=t-this.Ylt.xD;if(!(n<0||n>=this.Ylt.Yg)){var i=this.sdt();return void 0!==i&&Mt(i,n,1e-5)?this.Vft():this.udt(n)}},n.odt=function(t){var n=t-this.Ylt.xD;if(!(n<0))return this.adt(w.min(n,this.Ylt.Yg))},n.Vft=function(){return this.cdt(0)},n.Yft=function(){var t=this.Ylt.Yg;if(isFinite(t))return this.adt(t)},n.Llt=function(t){if(this.Ylt.hdt.us===wG.DE){var n=this.fdt(t);if(!n)return;return{vdt:t,ldt:this.ddt(t),wdt:n}}var i=this.Vft();if(i)return{vdt:t,ldt:i,wdt:this.Yft()}},n.Mlt=function(t,n){if(n){var i=this._dt(n.ldt),e=this.jft(n.wdt);if(e){var r=this.gdt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Vft();if(s){var u=this.gdt(s);if(t.getTime()<u.getTime())return u}var o=this.Ylt.hdt.hlt;return t.getTime()<o.getTime()?o:void 0},n.fdt=function(t){var n=(t.getTime()-this.Ylt.hdt.hlt.getTime())/1e3-this.Ylt.xD+this.idt,i=this.adt(Lt(n,0,this.Ylt.Yg));if(i&&(i=this.mdt(i,t))){for(var e=this.jft(i);e&&this.ydt(e,t);)i=e,e=this.jft(i);return i}},n.ddt=function(t){var n,i=this.ndt.yvt;if(i){var e=(t.getTime()-this.Ylt.hdt.hlt.getTime())/1e3-this.Ylt.xD-i.Pft();(n=this.adt(Lt(e,0,this.Ylt.Yg)))||(n=this.Vft())}else n=this.Vft();if(n&&(n=this.mdt(n,t))){for(var r=this.kdt(n);r&&this.ydt(r,t);)n=r,r=this.kdt(n);return n}},n.mdt=function(t,n){for(var i=t;i&&this.gdt(i).getTime()>n.getTime();)i=this.kdt(i);if(i){var e=this._dt(i);if(e&&e.getTime()<=n.getTime()){var r=this.kdt(i);for(r&&this.ydt(r,n)&&(i=r);i;){if(this.gdt(i).getTime()>n.getTime())return;if(this.ydt(i,n))break;i=this.jft(i)}if(!i)return}return i}},n.ydt=function(t,n){if(this.gdt(t).getTime()>n.getTime())return!1;var i=this._dt(t);return!(i&&n.getTime()>=i.getTime())},n.bdt=function(t,n){if(this.pdt(t).getTime()>n.getTime())return!1;var i=this._dt(t);return!(i&&n.getTime()>=i.getTime())},n.Adt=function(t,n,i){var e=jt(n,this.$o)+this.Ylt.xD;return{avt:t,Tdt:n,Ky:e,Yg:i,Jy:e+i}},n.pdt=function(t){return this.Ylt.hdt.us===wG.DE?new Date(this.Ylt.hdt.hlt.getTime()+1e3*(t.Ky+t.Yg)):this.Ylt.hdt.hlt},n.gdt=function(t){var n=this.pdt(t);return this.Ylt.hdt.us===wG.DE?new Date(n.getTime()-1e3*this.idt):n},n._dt=function(t){var n=1/0;if(this.Ylt.hdt.us===wG.DE){var i=this.ndt.yvt;i&&(n=this.pdt(t).getTime()+1e3*t.Yg+i.$ft())}var e=this.Ylt.hdt.clt;return e&&(n=w.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.Sdt=function(t,n){return t.avt+n},n.Wft=function(t){return!1},n.Gft=function(t,n,i,e,r){var s=this.Edt(t);if(!s)return Ve.reject(new v("Invalid segment"));var u=this.Idt(s.avt);return u?Ve.resolve(u):this.Rdt(s.avt,n,i,e,r)},n.Idt=function(t){},n.Rdt=function(t,n,i,e,r){return Ve.reject(new v("Not supported"))},n.kdt=function(t){var n=this.Edt(t);if(n)return this.cdt(n.avt-1)},n.jft=function(t){var n=this.Edt(t);if(n)return this.cdt(n.avt+1)},n.Edt=function(t){var n=this.cdt(t.avt);if(n&&n.Ky===t.Ky)return n;var i=this.rdt(t.Ky);return i&&i.Ky===t.Ky?i:void 0},n.Ndt=function(t){var n=this.Ddt(t);if(n&&this.Wft(n.avt)){var i=this.Idt(n.avt);if(i)return i.Ndt(t)}},n.Ddt=function(t){return this.cdt(t.Cdt)},n.Ult=function(t){var n=this.Edt(t);return!!n&&0===n.avt},n.Xlt=function(t){var n=this.Ndt(t);return!!n&&0===n.Dlt},n.Flt=function(t){var n=this.Edt(t);if(!n)return!1;var i=this.Yft();return!!i&&n.avt===i.avt},n.Hlt=function(t){var n=this.Ndt(t);if(!n)return!1;var i=this.Yft();if(!i||n.Cdt!==i.avt)return!1;var e=this.Idt(n.Cdt);return n.Dlt+1===e.D_},A(t,[{key:"hp",get:function(){return this.Ylt.xD-jt(this.edt,this.$o)}},{key:"gvt",get:function(){return jt(this.edt,this.$o)}}]),t}(),Fq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Pdt=void 0,e.Bdt=void 0;var r=n.Odt,s=n.Yg;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Bdt=r,e.Pdt=s,e}S(n,t);var i=n.prototype;return i.cdt=function(t){if(!(t<0)){var n=this.Bdt.multiply(t),i=jt(n,this.$o),e=this.Ylt.Yg;if(!(i>=e)){var r=this.xdt();if(void 0!==r){if(t>r)return;if(t===r)return this.Adt(t,n,e-i)}return isFinite(e)&&i+this.Pdt>e?this.Adt(t,n,e-i):this.Adt(t,n,this.Pdt)}}},i.sdt=function(){return 0},i.udt=function(t){var n=w.floor(t/this.Pdt),i=this.xdt();return void 0!==i&&n>=i?this.cdt(i):this.cdt(n)},i.adt=function(t){if(t>=this.Ylt.Yg){var n=w.ceil(this.Ylt.Yg/this.Pdt)-1,i=this.xdt();return void 0!==i&&n>=i?this.cdt(i):this.cdt(n)}return this.udt(t)},i.xdt=function(){var t,n=this.ndt.pvt;if(void 0!==n)return n-(null!=(t=this.ndt.bvt)?t:1);if(isFinite(this.Ylt.Yg)){var i=this.ndt.Ldt;if(void 0!==i&&i>0)return i-1}},i.Mdt=function(){if(isFinite(this.Ylt.Yg))return this.Yft()},i.Udt=function(t,n){return this.Bdt.multiply(t.avt+(n-1))},i.Wc=function(){},n}(Xq);function Hq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Ky,u=t[r].Jy;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+w.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),a=t[o],c=a.Ky,h=o+1<i?t[o+1].Ky:a.Jy;if(h.lessThanOrEqual(n))e=o+1,s=h;else{if(!n.lessThan(c))return o;r=o-1,u=c}}return-1}var zq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).C$=[],e.Xdt=void 0,e.eet=ht.ZERO,e.Wc(),e}S(n,t);var i=n.prototype;return i.cdt=function(t){if(!(t<0))return t<this.C$.length?this.C$[t].o5:this.Fdt(t-this.C$.length)},i.sdt=function(){if(this.C$.length>0)return jt(this.C$[0].Ky,this.$o)},i.udt=function(t){if(this.Xdt&&jt(this.Xdt.Ky,this.$o)<=t){var n=jt(this.Xdt.Ky,this.$o),i=jt(this.Xdt.Yg,this.$o),e=w.floor((t-n)/i);return this.Fdt(e)}if(this.C$.length>0&&Mt(t,jt(this.C$[0].Ky,this.$o),1e-5))return this.C$[0].o5;var r=Hq(this.C$,ht.fromNumber(t*this.$o));return r<0?void 0:this.C$[r].o5},i.adt=function(t){if(!this.Xdt&&this.C$.length>0){var n=this.C$[this.C$.length-1];if(i=t,e=jt(n.Jy,this.$o),Ps(i,e,1e-5)>=0)return n.o5}var i,e,r=this.sdt();return r&&t<r?this.C$[0].o5:this.udt(t)},i.Mdt=function(){return isFinite(this.Ylt.Yg)?this.Yft():this.cdt(this.C$.length-1)},i.Udt=function(t){return this.Hdt(t)},i.Fdt=function(t){if(this.Xdt){var n=this.Xdt.Ky,i=this.Xdt.Yg,e=n.add(i.multiply(t)),r=jt(e,this.$o),s=this.Ylt.Yg;if(!(r>=s)){var u=this.C$.length+t,o=w.min(jt(i,this.$o),r+s);return this.Adt(u,e,o)}}},i.Hdt=function(t){return t.Tdt.add(this.edt)},i.Wc=function(){var t=this.ndt.Xi.Hft;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.G$(t)},i.G$=function(t){var n=this.edt;this.zdt(t,n);var i=this.Vdt(t);this.Wdt(t,n,i.Gdt,i.Cdt)},i.zdt=function(t,n){var i=this.C$;if(0===t.length)Hs(i);else{for(var e=t[0],r=e.Ky?ht.fromString(e.Ky,!1).subtract(n):ht.ZERO,s=0;s<i.length&&i[s].Ky.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Vdt=function(t){for(var n=this.C$,i=this.eet,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].ovt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Ky.greaterThanOrEqual(i))break;if(n[r].o5.avt===r)r=u+1;else for(;r<=u;)n[r].o5.avt=r,r++;0,e++}return{Gdt:e,Cdt:r}},i.Wdt=function(t,n,i,e){for(var r,s=this.C$,u=i,o=e;u<t.length;){var a=t[u],c=ht.fromString(a.Yg,!1),h=a.ovt||0,f=void 0;if(a.Ky){if(f=ht.fromString(a.Ky,!1).subtract(n),o>0){var v=s[o-1];v.Jy.greaterThan(f)&&(v.Yg=f.subtract(v.Ky),v.Jy=v.Ky.add(v.Yg))}}else f=o>0?s[o-1].Jy:ht.ZERO;if(h<0){if(u+1===t.length){r={Ky:f,Yg:c};break}for(var l=ht.fromString(t[u+1].Ky,!1).subtract(n);f.lessThan(l);){var d=f.add(c);this.qdt(s,o,f,c,d),f=d,o++}}else for(var w=o+h;o<=w;){var _=f.add(c);this.qdt(s,o,f,c,_),f=_,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.eet=s[s.length-1].Ky),this.Xdt=r},i.qdt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.Yg.equals(e)?s.o5.avt=n:t[n]={Ky:i,Yg:e,Jy:r,o5:this.Adt(n,i,jt(e,this.$o))}}else t.push({Ky:i,Yg:e,Jy:r,o5:this.Adt(n,i,jt(e,this.$o))})},n}(Xq),Vq=function(){function t(t,n,i){this.Zft=void 0,this.jdt=void 0,this.Vi=void 0,this.Ydt=void 0,this.Qdt=void 0,this.Zft=t,this.jdt=n,this.Vi=i}var n=t.prototype;return n.Zdt=function(){if(this.Qdt=this.Kdt(),this.Qdt)return this.Qdt;if(this.jdt)return this.jdt.Hft;throw new v("Missing media segment information.")},n.Glt=function(t){var n=this._vt;if(n)return{od:(void 0!==n.uvt?i.Cr(n.uvt,t.xvt[0]):t.xvt[0]).href,dat:n.dat};var e=this.cvt;return e?{od:t.xvt[0].href,dat:[0,e[0]-1]}:void 0},n.Wc=function(t){this.Vi=t,this.Qdt&&this.Qdt.Wc()},A(t,[{key:"Xi",get:function(){return this.Vi}},{key:"svt",get:function(){return this.Vi&&void 0!==this.Vi.svt?this.Vi.svt:this.jdt?this.jdt.svt:0}},{key:"gvt",get:function(){return this.Vi&&void 0!==this.Vi.gvt?this.Vi.gvt:this.jdt?this.jdt.gvt:ht.ZERO}},{key:"yvt",get:function(){return this.Vi&&void 0!==this.Vi.yvt?this.Vi.yvt:this.jdt?this.jdt.yvt:this.Zft.hdt.yvt}},{key:"Pb",get:function(){return this.Vi&&void 0!==this.Vi.Pb?this.Vi.Pb:this.jdt&&this.jdt.Pb?this.jdt.Pb:1}},{key:"cvt",get:function(){return this.Vi&&void 0!==this.Vi.cvt?this.Vi.cvt:this.jdt?this.jdt.cvt:void 0}},{key:"_vt",get:function(){return this.Vi&&void 0!==this.Vi._vt?this.Vi._vt:this.jdt?this.jdt._vt:void 0}},{key:"Hft",get:function(){return this.Ydt||(this.Ydt=this.Zdt()),this.Ydt}}]),t}(),Wq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Kdt=function(){return this.Vi.Hft?new zq(this,this.Zft):void 0!==this.Vi.Yg?new Fq(this,this.Zft):void 0},A(n,[{key:"Yg",get:function(){return void 0!==this.Vi.Yg?this.Vi.Yg/this.Pb:this.jdt&&this.jdt instanceof n?this.jdt.Yg:void 0}},{key:"Odt",get:function(){return void 0!==this.Vi.Yg?ht.fromNumber(this.Vi.Yg):this.jdt&&this.jdt instanceof n?this.jdt.Odt:void 0}},{key:"bvt",get:function(){return void 0!==this.Vi.bvt?this.Vi.bvt:this.jdt&&this.jdt instanceof n?this.jdt.bvt:void 0}},{key:"pvt",get:function(){return void 0!==this.Vi.pvt?this.Vi.pvt:this.jdt&&this.jdt instanceof n?this.jdt.pvt:void 0}}]),n}(Vq),Gq=function(){function t(t){this.Jdt=void 0,this.Jdt=t}return t.prototype.Hu=function(t){return this.Jdt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=_s(u,Number(e),"0")})},t}();var qq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).$dt=void 0,r.twt=void 0,r.$dt=e.Svt?new Gq(e.Svt):void 0,r.twt=e.Evt?new Gq(e.Evt):void 0,r}S(n,t);var e=n.prototype;return e.Glt=function(n){var e=this.Svt;if(!e)return t.prototype.Glt.call(this,n);var r=e.Hu({Bandwidth:n.Xi.XR,RepresentationID:n.Xi.F_});return{od:i.Pr(r,n.xvt[0])}},e.Qft=function(t,n){var e,r=null!=(e=n.qlt.bvt)?e:1,s=this.Evt.Hu({Bandwidth:n.Xi.XR,Number:n.Hft.Sdt(t,r),RepresentationID:n.Xi.F_,Time:n.Hft.Udt(t,r)});return{od:i.Pr(s,n.xvt[0])}},e.Olt=function(t,n){},A(n,[{key:"Svt",get:function(){return this.$dt?this.$dt:this.jdt&&this.jdt instanceof n?this.jdt.Svt:void 0}},{key:"Evt",get:function(){return this.twt?this.twt:this.jdt&&this.jdt instanceof n?this.jdt.Evt:void 0}},{key:"Ldt",get:function(){}}]),n}(Wq),jq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.Qft=function(t,n){var e=this.Vi.vvt[t.avt],r=n.xvt[0];return{od:(e.uT?i.Cr(e.uT,r):r).href,dat:e.fvt}},e.Olt=function(t,n){},A(n,[{key:"Ldt",get:function(){return void 0!==this.Vi.vvt?this.Vi.vvt.length:this.jdt&&this.jdt instanceof Wq?this.jdt.Ldt:void 0}}]),n}(Wq),Yq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Cdt=void 0,u.k6=void 0,u.Pb=void 0,u.nwt=void 0,u.gvt=void 0,u.iwt=void 0,u.Cdt=n,u.k6=i,u.Pb=e.Pb,u.nwt=r,u.gvt=s,u.iwt=u.ewt(e),u}S(n,t);var i=n.prototype;return i.qft=function(t){if(t>=0&&t<this.D_)return this.rwt(this.iwt[t])},i.swt=function(t){var n=this.uwt(t);if(this.iwt.length>0){var i=this.iwt[0];if(n<=jt(i.Ky,this.Pb))return this.rwt(i)}var e=Hq(this.iwt,ht.fromNumber(n*this.Pb));if(!(e<0))return this.rwt(this.iwt[e])},i.owt=function(t){var n=this.uwt(t);if(this.iwt.length>0){var i=this.iwt[this.iwt.length-1];if(n>=jt(i.Jy,this.Pb))return this.rwt(i)}return this.swt(t)},i.rwt=function(t){var n=jt(t.Ky,this.Pb)-this.gvt,i=n+this.nwt,e=jt(t.Yg,this.Pb);return{Cdt:this.Cdt,Dlt:t.avt,Ky:i,Tdt:ht.fromNumber(n*this.Pb),Yg:e,Jy:i+e,SJ:[this.k6+t.k6,this.k6+t.b6]}},i.ewt=function(t){for(var n=[],i=t.QS,e=t.ZS.toNumber(),r=0,s=0,u=t.JS;s<u.length;s++){var o=u[s],a=o.WS,c=ht.fromNumber(o.Yg),h=i.add(c);0===o.VS&&n.push({avt:r++,Ky:i,Yg:c,Jy:h,k6:e,b6:e+a-1}),e+=a,i=h}return n},i.uwt=function(t){return t-this.nwt+this.gvt},A(n,[{key:"D_",get:function(){return this.iwt.length}}]),n}(function(){function t(){}return t.prototype.Ndt=function(t){var n=this.qft(t.Dlt);if(n&&n.Ky===t.Ky)return n;var i=this.swt(t.Ky);return i&&i.Ky===t.Ky?i:void 0},t}()),Qq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).awt=void 0,e.cwt=void 0,e.hwt=void 0,e.awt=n.cvt,e.cwt=e.Adt(0,ht.ZERO,e.Ylt.Yg),e}S(n,t);var i=n.prototype;return i.cdt=function(t){if(0===t)return this.cwt},i.sdt=function(){return 0},i.udt=function(t){return this.cwt},i.adt=function(t){return this.udt(t)},i.Mdt=function(){return this.cwt},i.Udt=function(t,n){return ht.ZERO},i.Llt=function(t){var n=this.fwt(t);return n&&{vdt:t,ldt:n,wdt:n}},i.fwt=function(t){var n=this.cwt;return this.ydt(n,t)?n:void 0},i.fdt=function(t){return this.fwt(t)},i.ddt=function(t){return this.fwt(t)},i.Wc=function(){},i.Wft=function(t){return 0===t&&void 0!==this.awt},i.Idt=function(t){return this.hwt},i.Rdt=function(t,n,i,e,r){var s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return s=n.xvt[0].href,u=this.awt,a.next=4,Rr.awrap(e.vwt(s,u,i,r));case 4:return o=a.sent,this.hwt=this.lwt(t,o),a.abrupt("return",this.hwt);case 7:case"end":return a.stop()}},null,this,null,Ve)},i.lwt=function(t,n){var i=this.awt,e=jb.EA(new DataView(n),new zo);if(e.us!==ib.Jp)throw new v("Invalid segment index");var r=Jb.qA(e.Xi),s=i[1]+1;return new Yq(t,s,r,this.Ylt.xD,jt(this.edt,this.$o))},n}(Xq),Zq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Qft=function(t,n){return{od:n.xvt[0].href}},i.Olt=function(t,n){return{od:n.xvt[0].href,dat:t.SJ}},i.Kdt=function(){return new Qq(this,this.Zft)},A(n,[{key:"bvt",get:function(){}}]),n}(Vq),Kq=function(t){function n(){return t.call(this,Rq.plt)||this}return S(n,t),n}(wu);var Jq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Bw=void 0,r.Vi=void 0,r.dwt=void 0,r.ndt=void 0,r.wwt=1/0,r._wt=void 0,r.Bw=i,r.gwt(n,e),r}S(n,t);var i=n.prototype;return i.mwt=function(){return this.ndt||this.Bw&&this.Bw.mwt()},i.ywt=function(t){var n=this.Zft,i=this.Bw&&this.Bw.mwt();this.Vi.Hvt?this.ndt=new qq(n,i,this.Vi.Hvt):this.Vi.Fvt?this.ndt=new jq(n,i,this.Vi.Fvt[0]):this.Vi.Xvt?this.ndt=new Zq(n,i,this.Vi.Xvt):t&&!i&&(this.ndt=new Zq(n,i,void 0))},i.gwt=function(t,n){this.Vi=t,this.dwt=t.xvt&&t.xvt.length>0?Uq(t.xvt.map(function(t){return t.od}),n):n.slice(),this.ndt&&(t.Hvt?this.ndt.Wc(t.Hvt):t.Fvt?this.ndt.Wc(t.Fvt[0]):t.Xvt&&this.ndt.Wc(t.Xvt))},i.Rlt=function(){var t;return null==(t=this._wt)?void 0:t.kwt},i.Mlt=function(){var t;return null==(t=this._wt)?void 0:t.bwt},i.pwt=function(t){var n=this.wwt,i=this.Zft.Yg,e=this._wt,r=this.Awt(t);e&&Mt(i,n,1e-5)&&ij(e,r)||(this.wwt=i,this._wt=r,this.js(new Kq))},i.Bs=function(){this.Ks()},A(n,[{key:"Xi",get:function(){return this.Vi}},{key:"xvt",get:function(){return this.dwt}}]),n}(lu);function $q(t){for(var n,i=0;i<t.length;i++){var e=t[i].Rlt();if(e){n=e.xD;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Rlt();if(u){r=u.MD;break}}if(void 0!==r)return{xD:n,MD:r}}}function tj(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Rlt();if(!r)return;if((n=w.max(n,r.xD))>=(i=w.min(i,r.MD)))return}return{xD:n,MD:i}}}function nj(t){for(var n,i=0;i<t.length;i++){var e=t[i].Mlt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function ij(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.bwt,n.bwt)&&function(t,n){return t&&n?Mt(t.xD,n.xD,1e-5)&&Mt(t.MD,n.MD,1e-5):t===n}(t.kwt,n.kwt)}var ej=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Ylt=void 0,r.Nc=void 0,r.Twt=void 0,r.Ylt=n,r.Nc=i,r.Twt=e.slice();for(var s=0;s<e.length;s++){e[s].Ys(Rq.plt,r.Elt)}return r}S(n,t);var i=n.prototype;return i.Rlt=function(){return tj(this.Twt)},i.Mlt=function(){for(var t,n=0,i=this.Twt;n<i.length;n++){var e=i[n].Mlt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Od=function(){this.Ks();for(var t=0,n=this.Twt;t<n.length;t++){n[t].Js(Rq.plt,this.Elt)}},A(n,[{key:"Uft",get:function(){return this.Twt}},{key:"FH",get:function(){return this.Uft.reduce(function(t,n){for(var i=0,e=n.FH;i<e.length;i++){var r=e[i];Xs(t,r)||t.push(r)}return t},[])}},{key:"Ke",get:function(){return this.FH.length>0?this.FH[0]:""}},{key:"us",get:function(){return this.Twt[0].us}},{key:"F_",get:function(){return this.Nc}},{key:"xlt",get:function(){return this.Ylt.xlt}},{key:"ZB",get:function(){return this.Twt[0].ZB}},{key:"Zft",get:function(){return this.Ylt}},{key:"b2",get:function(){return zs(this.Uft,function(t){return t.b2})}}]),n}(Oq),rj=function(t){function n(){return t.call(this,Rq.Tlt)||this}return S(n,t),n}(wu);function sj(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Vvt;void 0===s||(r=Os(n,function(t){return t.F_===s})),r||(r={F_:s,Uft:[]},n.push(r)),r.Uft.push(e)},e=0;e<t.length;e++)i(e);return n}var uj,oj=function(t){function n(n,i){var e;return(e=t.call(this)||this).P3=void 0,e.Twt=[],e.Swt=[],e.Ewt=void 0,e.Iwt=!1,e.Ewt=n,e.P3=i,e.P3.Ys(Rq.plt,e.Elt),e}S(n,t);var i=n.prototype;return i.Rwt=function(t,n){if(0!==this.Swt.length){for(var i=t,e=0,r=this.Swt;e<r.length;e++){var s=r[e],u=s.us;if(u===Ky.Td||u===Ky.Sd){var o=s.Nlt;if(void 0===o)return;i=n(i,o)}}return i}},i.Nwt=function(){this.Iwt||(this.Iwt=!0,this.js(new rj),this.Od())},i.Wc=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Twt.length){i.next=7;break}return i.next=3,Rr.awrap(this.Dwt(this.P3.Uft,t,n));case 3:this.Cwt(this.Twt),$s(n),i.next=9;break;case 7:return i.next=9,Rr.awrap(this.Pwt(t,n));case 9:case"end":return i.stop()}},null,this,null,Ve)},i.Dwt=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new Mq(this,r),u.prev=4,u.next=7,Rr.awrap(s.Wc(n,i));case 7:this.Twt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),tu(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],Ve)},i.Cwt=function(t){for(var n=sj(t),i=0;i<n.length;i++){var e=n[i],r=new ej(this,e.F_,e.Uft);this.Swt.push(r)}},i.Pwt=function(t,n){var i,e,r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Twt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Rr.awrap(r.Wc(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,Ve)},i.Rlt=function(){return this.P3.Rlt()},i.Mlt=function(){return this.P3.Mlt()},i.Od=function(){this.Ks(),this.P3.Js(Rq.plt,this.Elt);for(var t=0,n=this.Swt;t<n.length;t++){n[t].Od()}for(var i=0,e=this.Twt;i<e.length;i++){e[i].Od()}Hs(this.Twt),Hs(this.Swt)},A(n,[{key:"Uft",get:function(){return this.Twt}},{key:"Lft",get:function(){return this.Swt}},{key:"slt",get:function(){return this.P3.Xi.slt}},{key:"Yg",get:function(){return this.P3.Yg}},{key:"MD",get:function(){return this.xD+this.Yg}},{key:"ult",get:function(){return this.P3.Xi.ult||[]}},{key:"F_",get:function(){return this.P3.F_}},{key:"Slt",get:function(){return this.Iwt}},{key:"xlt",get:function(){return this.Ewt}},{key:"Bwt",get:function(){return this.Ewt.Owt(this)}},{key:"Zft",get:function(){return this}},{key:"xwt",get:function(){return this.Ewt.Lwt(this)}},{key:"Mwt",get:function(){return this.Rwt(1/0,w.min)}},{key:"Uwt",get:function(){return this.Rwt(0,w.max)}},{key:"xD",get:function(){return this.P3.xD}},{key:"Cd",get:function(){return this.xlt.Cd}}]),n}(Oq),aj=function(t){function n(){return t.call(this,bf.kf)||this}return S(n,t),n}(wu);!function(t){t.Xwt="Fwt"}(uj||(uj={}));var cj=function(t){function n(){return t.call(this,uj.Xwt)||this}return S(n,t),n}(wu),hj=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.xvt)||this).Clt=void 0,e.Hwt=void 0,e.Clt=i,e.ywt(!0),e}S(n,t);var i=n.prototype;return i.Wft=function(t){return!!Dh(this.ZB)&&this.Hft.Wft(t.avt)},i.Gft=function(t,n,i,e){return this.Hft.Gft(t,this,n,i,e)},i.Glt=function(){return this.qlt.Glt(this)},i.Qft=function(t){return this.qlt.Qft(t,this)},i.Olt=function(t){return this.qlt.Olt(t,this)},i.Llt=function(){return this.Hwt},i.Awt=function(t){var n=this.Hft,i=n.Llt(t),e=i&&function(t,n){var i,e=t.ldt,r=t.wdt,s=t.vdt,u=e.Ky,o=n.pdt(r);if(o.getTime()<=s.getTime())i=r.Jy;else{var a=(o.getTime()-s.getTime())/1e3,c=w.max(r.Yg-a,0);i=r.Ky+c}return{xD:u,MD:i}}(i,n),r=this.Hft.Mlt(t,i);return this.Hwt=i,{vdt:t,kwt:e,bwt:r}},i.Wc=function(t){this.gwt(t,this.Clt.xvt)},A(n,[{key:"zlt",get:function(){return this.Clt}},{key:"Zft",get:function(){return this.Clt.Zft}},{key:"hdt",get:function(){return this.Clt.hdt}},{key:"ZB",get:function(){return this.Vi.ZB||this.Clt.ZB}},{key:"qlt",get:function(){return this.mwt()}},{key:"Hft",get:function(){return this.qlt.Hft}}]),n}(Jq),fj=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.xvt)||this).Ylt=void 0,e.Qlt=void 0,e.Ylt=i,e.ywt(!1),e.Qlt=n.b2.map(function(t){return new hj(t,Zt(e))}),e}S(n,t);var i=n.prototype;return i.Wc=function(t){this.gwt(t,this.Ylt.xvt);var n=t.b2||[];if(this.Qlt.length!==n.length)throw new v("Expected "+this.Qlt.length+' representations in adaptation set "'+t.F_+'", found '+n.length);for(var i=0;i<n.length;i++)this.Qlt[i].Wc(n[i])},i.pwt=function(n){for(var i=0,e=this.Qlt;i<e.length;i++){e[i].pwt(n)}t.prototype.pwt.call(this,n)},i.Awt=function(t){return{vdt:t,kwt:tj(this.Qlt),bwt:nj(this.Qlt)}},i.Bs=function(){for(var n=0,i=this.Qlt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},A(n,[{key:"b2",get:function(){return this.Qlt}},{key:"Zft",get:function(){return this.Ylt}},{key:"hdt",get:function(){return this.Ylt.hdt}},{key:"Vvt",get:function(){return this.Vi.Vvt}},{key:"ZB",get:function(){var t;return this.Vi.ZB||(null==(t=this.Qlt[0])?void 0:t.Xi.ZB)||""}}]),n}(Jq),vj=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.xvt)||this).zwt=void 0,s.rE=void 0,s.ea=void 0,s.Twt=void 0,s.Swt=[],s.zwt=n,s.rE=e,s.ea=r,s.ywt(!1),s.Twt=(i.Uft||[]).map(function(t){return new fj(t,Zt(s))}),s.Swt=sj(s.Twt),s}S(n,t);var i=n.prototype;return i.Wc=function(t,n){this.gwt(t,this.zwt.xvt),this.ea=n;var i=t.Uft||[];if(this.Twt.length!==i.length)throw new v("Expected "+this.Twt.length+' adaptation sets in period "'+t.F_+'", found '+i.length);for(var e=0;e<i.length;e++)this.Twt[e].Wc(i[e])},i.pwt=function(n){for(var i=0,e=this.Twt;i<e.length;i++){e[i].pwt(n)}t.prototype.pwt.call(this,n)},i.Awt=function(t){return{vdt:t,kwt:tj(this.Twt),bwt:nj(this.Twt)}},i.Bs=function(){for(var n=0,i=this.Twt;n<i.length;n++){i[n].Bs()}t.prototype.Bs.call(this)},A(n,[{key:"Uft",get:function(){return this.Twt}},{key:"Lft",get:function(){return this.Swt}},{key:"Zft",get:function(){return this}},{key:"hdt",get:function(){return this.zwt}},{key:"F_",get:function(){return this.Vi.F_}},{key:"xD",get:function(){return this.rE}},{key:"Yg",get:function(){return this.ea}}]),n}(Jq),lj=new Date("2000-01-01"),dj=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).Vi=void 0,s.Vwt=void 0,s.Wwt=void 0,s.NG=void 0,s.Gwt=void 0,s._wt=void 0,s.dwt=void 0,s.qwt=void 0,s.jwt=void 0,s.Ywt=void 0,s.Qwt=[],s.Vwt=i,s.Wc(n,e,r),n.us===wG.DE){var u=s.Mdt();u&&u.clt&&u.clt.getTime()<lj.getTime()&&(s.Ywt=new Date(s.glt.getTime()-1e3*(u.o5.Ky+u.o5.Yg)),s.pwt(r))}return s}S(n,t);var e=n.prototype;return e.Rlt=function(){var t;return null==(t=this._wt)?void 0:t.kwt},e.Mlt=function(){var t;return null==(t=this._wt)?void 0:t.bwt},e.Wc=function(t,n,e,r){var s;this.Vi=t,this.Wwt=n,this.Gwt=null!=r?r:e,this.NG=e;var u,o=[(u=n,i.Cr(".",u))];this.dwt=t.xvt&&t.xvt.length>0?Uq(t.xvt.map(function(t){return t.od}),o):o,this.qwt=t.flt&&t.flt.length>0?Uq(t.flt,this.dwt):[];var a=this.qwt.map(function(t){return t.href}),c=n.href;Xs(a,c)||(this.qwt.push(n),a.push(c));var h=this.Vwt.href;Xs(a,h)||(this.qwt.push(this.Vwt),a.push(h)),this.jwt=null==(s=t.Bft)?void 0:s.Pft();var f=t.us===wG.DE,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.xD)u=s.xD.Pft();else if(r>0&&t[r-1].Yg){var o=e[r-1],a=t[r-1].Yg.Pft();u=o+a}else{if(0!==r||n)break;u=0}e.push(u)}for(var c=[],h=0;h<e.length-1;h++)c.push({Xi:t[h],xD:e[h],Yg:e[h+1]-e[h]});if(e.length>0){var f=e.length-1,v=t[f],l=e[f],d=1/0;n||(d=v.Yg?v.Yg.Pft():i-l),c.push({Xi:v,xD:l,Yg:d})}return c}(t.Cft,f,this.jwt);this.Zwt(v),this.pwt(e)},e.Zwt=function(t){var n=this.Qwt;if(0!==t.length){for(var i=t[0].Xi.F_,e=0;e<n.length&&n[e].F_!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Bs()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var a=n[u];0,a.Wc(o.Xi,o.Yg)}else n.push(new vj(this,o.Xi,o.xD,o.Yg))}}else Hs(n)},e.pwt=function(t){for(var n=0,i=this.Qwt;n<i.length;n++){i[n].pwt(t)}var e=this._wt,r=this.Awt(t);e&&ij(e,r)||(this._wt=r,this.js(new Kq))},e.Awt=function(t){return{vdt:t,kwt:$q(this.Qwt),bwt:nj(this.Qwt)}},e.Mdt=function(){if(0!==this.Qwt.length){var t=this.Qwt[this.Qwt.length-1];if(!isFinite(t.Yg)&&0!==t.Uft.length){var n=t.Uft[0];if(0!==n.b2.length){var i=n.b2[0].Hft,e=i.Mdt();if(e)return{o5:e,clt:i._dt(e)}}}}},e.Bs=function(){this.Ks();for(var t=0,n=this.Qwt;t<n.length;t++){n[t].Bs()}},A(n,[{key:"Xi",get:function(){return this.Vi}},{key:"us",get:function(){return this.Vi.us||wG.NE}},{key:"hlt",get:function(){return this.Ywt||this.Vi.hlt||this.glt}},{key:"clt",get:function(){return this.Vi.clt}},{key:"Bft",get:function(){return this.jwt}},{key:"xvt",get:function(){return this.dwt}},{key:"flt",get:function(){return this.qwt}},{key:"Cft",get:function(){return this.Qwt}},{key:"glt",get:function(){return this.Vi.glt||this.NG}},{key:"yvt",get:function(){return this.Vi.yvt}},{key:"Kwt",get:function(){return this.Gwt}},{key:"Jwt",get:function(){return this.NG}}]),n}(lu);var wj=function(){function t(t,n,i){this.$wt=0,this.bE=t,this.Pl=n,this.t_t=i}var n=t.prototype;return n.yL=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.n_t(t,this.bE,this.Pl,this.t_t).catch(nu));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.i_t=function(){return new Date(zt()+this.$wt)},n.n_t=function(t,n,i,e){var r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Rr.awrap(this.e_t(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}$s(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Rr.awrap(this.r_t(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.$wt=void 0===r?0:r-zt();case 18:case"end":return o.stop()}},null,this,null,Ve)},n.r_t=function(t,n,i){var e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.f2,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n._i)){o.next=9;break}return o.next=8,Rr.awrap(this.e_t(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n._i)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,Ve)},n.e_t=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(t.rd({od:n,Id:Zw.GET,$l:pf.Kn,zs:i}));case 3:return e=u.sent,u.next=6,Rr.awrap(e.xl());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),tu(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],Ve)},t}(),_j=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).s_t=void 0,s.P3=void 0,s.u_t=void 0,s.Yet=!0,s.Qwt=[],s.o_t=void 0,s.a_t=void 0,s.c_t=void 0,s.bE=void 0,s.h_t=void 0,s.o_t=n,s.u_t=n.hg,s.a_t=i,s.bE=e,s.s_t=r,s.h_t=new wj(s.bE,s.s_t,s.o_t.f_t),s}S(n,t);var e=n.prototype;return e.v_t=function(t){var n=this.Ey;this.Yet=t,n!==this.Ey&&this.js(new cj)},e.Wc=function(t,n,e){var r,s,u,o,a,c,h,f,v,l,d,w,_;return Rr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t.vlt?i.Cr(t.vlt,this.u_t):this.u_t,void 0!==this.P3){g.next=10;break}return g.next=6,Rr.awrap(this.h_t.yL(t.klt));case 6:this.P3=new dj(t,this.u_t,o,this.i_t()),this.P3.Ys(Rq.plt,this.qs),g.next=11;break;case 10:this.P3.Wc(t,o,this.i_t(),n);case 11:if(0===(a=this.P3.Cft).length)c=this.Qwt.slice(),Hs(this.Qwt);else{for(h=a[0].F_,f=0;f<this.Qwt.length&&this.Qwt[f].F_!==h;)f++;for(c=this.Qwt.splice(0,f),v=0;v<a.length;v++)l=a[v],d=void 0,v<this.Qwt.length?d=this.Qwt[v]:(d=new oj(this,l),s.push(d)),u.push(d.Wc(this.a_t,e))}return g.next=15,Rr.awrap(Ve.all(u));case 15:for((r=this.Qwt).push.apply(r,s),w=0,_=c;w<_.length;w++)_[w].Nwt();this.js(new aj);case 18:case"end":return g.stop()}},null,this,null,Ve)},e.i_t=function(){return this.h_t.i_t()},e.Lwt=function(t){var n=this.Qwt.indexOf(t);if(n>0)return this.Qwt[n-1]},e.Owt=function(t){var n=this.Qwt.indexOf(t);if(n>=0&&n+1<this.Qwt.length)return this.Qwt[n+1]},e.Rlt=function(){return this.P3?this.P3.Rlt():void 0},e.Mlt=function(){return this.P3&&this.P3.Mlt()},e.pwt=function(t){this.P3&&this.P3.pwt(t)},e.Od=function(){this.Ks(),this.c_t=void 0,this.v_t(!1);for(var t=0,n=this.Qwt;t<n.length;t++){n[t].Od()}Hs(this.Qwt),this.P3&&this.P3.Bs()},A(n,[{key:"clt",get:function(){return this.P3&&this.P3.clt}},{key:"hlt",get:function(){return this.P3&&this.P3.hlt}},{key:"F_",get:function(){return this.P3&&this.P3.Xi.F_}},{key:"Kwt",get:function(){var t;return null==(t=this.P3)?void 0:t.Kwt}},{key:"l_t",get:function(){var t;return null==(t=this.P3)?void 0:t.Jwt}},{key:"flt",get:function(){return this.P3?this.P3.flt.map(function(t){return t.href}):[this.xft]}},{key:"xft",get:function(){return this.u_t.href}},{key:"llt",get:function(){return this.P3&&this.P3.Xi.llt}},{key:"dlt",get:function(){return this.P3&&this.P3.Xi.dlt}},{key:"Bft",get:function(){return this.P3&&this.P3.Xi.Bft}},{key:"wlt",get:function(){return this.P3&&this.P3.Xi.wlt}},{key:"_lt",get:function(){var t,n,i=(null==(t=this.P3)?void 0:null==(n=t.Xi._lt)?void 0:n.$ft())||0;return w.max(i,mj)}},{key:"Ey",get:function(){return this.Yet}},{key:"Cft",get:function(){return this.Qwt}},{key:"d_t",get:function(){return this.us===wG.DE?this.tdt:this.w_t}},{key:"__t",get:function(){var t=this.d_t;if(void 0!==t)for(var n=0,i=this.Cft;n<i.length;n++){var e=i[n];if(e.xD<=t&&e.MD>t)return e}}},{key:"Dvt",get:function(){return this.P3&&this.P3.Xi.Dvt}},{key:"glt",get:function(){return this.P3&&this.P3.glt}},{key:"Mwt",get:function(){for(var t=this.Qwt.length-1;t>=0;t-=1){var n=this.Qwt[t].Mwt;if(n)return n}}},{key:"tdt",get:function(){var t=this.Mwt;if(void 0!==t){var n=t-this.g_t;return w.max(n,this.w_t)}}},{key:"w_t",get:function(){for(var t=0,n=this.Qwt;t<n.length;t++){var i=n[t].Ilt;if(void 0!==i)return i}}},{key:"Cd",get:function(){return Boolean(this.o_t.Cd)}},{key:"g_t",get:function(){var t=this.P3&&this.P3.Xi.ylt;return t?t.Pft():this.us===wG.DE?this.m_t:0}},{key:"m_t",get:function(){return this.o_t.m_t?this.o_t.m_t:1.5*this.wlt.Pft()}},{key:"yvt",get:function(){return this.P3&&this.P3.yvt}},{key:"us",get:function(){return this.P3?this.P3.us:void 0}}]),n}(lu),gj=function(){function t(t,n,i,e){this.Ewt=void 0,this.Ewt=new _j(t,n,i,e)}return A(t,[{key:"xlt",get:function(){return this.Ewt}}]),t}(),mj=1e3,yj=w.pow(2,31)-1,kj=function(){function t(t,n,i,e){var r=this;this.Uat=void 0,this.P3=void 0,this.y_t=void 0,this.k_t=void 0,this.b_t=void 0,this.p_t=new Zs,this.A_t=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.P3.xlt.i_t(),e.next=4,Rr.awrap(r.T_t(r.P3.xlt.flt,t));case 4:return i=e.sent,e.next=7,Rr.awrap(r.P3.xlt.Wc(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Np(e.t0)&&r.P3.xlt.v_t(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],Ve)},this.Uat=e,this.P3=new gj(t,n,i,this.p_t.zs)}var n=t.prototype;return n.Cw=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.P3.xlt.js(new _D),n.prev=1,n.next=4,Rr.awrap(uM(this.A_t,t));case 4:this.P3.xlt.v_t(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),tu(n.t0),this.k_t=void 0,this.P3.xlt.v_t(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.y_t=this.S_t(this.p_t.zs);case 14:case"end":return n.stop()}},null,this,[[1,7]],Ve)},n.S_t=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.P3.xlt.us!==wG.DE){n.next=6;break}return n.next=4,Rr.awrap(iu(this.E_t,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],Ve)},n.I_t=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if($s(t),!((n=this.R_t())>0)){e.next=6;break}return i=w.min(n,yj),e.next=6,Rr.awrap(cu(i,t));case 6:return e.prev=6,e.next=9,Rr.awrap(uM(this.A_t,t,1/0,mj,3e4));case 9:this.P3.xlt.v_t(!0);case 10:return e.prev=10,this.b_t=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],Ve)},n.R_t=function(){var t=this.P3.xlt.i_t().getTime()-this.P3.xlt.Kwt.getTime();return this.P3.xlt._lt-t},n.N_t=function(t){var n=this.P3.xlt.Mlt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.P3.xlt.pwt(t);var e=this.P3.xlt.Mlt();return e?e.getTime()-t.getTime():NaN},n.D_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.b_t||(this.b_t=this.I_t(t)),(n=new Zs).Fs(t),i.prev=3,i.next=6,Rr.awrap(Ve.race([this.b_t,this.C_t(n.zs)].filter(X)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),nu(i.t0);case 11:return i.prev=11,n.Xs(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],Ve)},n.C_t=function(t){var n=this.P3.xlt.i_t(),i=this.N_t(n);if(!m(i))return this.P_t(i,t)},n.P_t=function(t,n){var i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rr.awrap(cu(t,n));case 2:i=this.P3.xlt.i_t(),this.P3.xlt.pwt(i);case 4:case"end":return e.stop()}},null,this,null,Ve)},n.T_t=function(t,n){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.Uat.Lat(t,{},n,!1));case 2:return i=r.sent,e=new Nq,r.abrupt("return",e.Tct(i.Bat,i.ud));case 5:case"end":return r.stop()}},null,this,null,Ve)},n.Od=function(){return this.p_t.Xs(),this.y_t=void 0,this.k_t=void 0,this.b_t=void 0,this.P3.xlt.Od(),Ve.resolve()},A(t,[{key:"X0",get:function(){return this.P3}},{key:"B_t",get:function(){return this.k_t||(this.k_t=this.Cw(this.p_t.zs),ou(this.k_t)),this.k_t}},{key:"E_t",get:function(){return this.P3.xlt.l_t&&this.P3.xlt.us===wG.DE?this.D_t(this.p_t.zs):this.B_t}}]),t}(),bj=function(){function t(t,n,i){this.Uat=t,this.O_t=n,this.x_t=i}var n=t.prototype;return n.L_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Ym(n=t.type)){i.next=9;break}return i.next=6,Rr.awrap(this.M_t(t));case 6:return i.abrupt("return",i.sent);case 9:if(!jm(n)){i.next=15;break}return i.next=12,Rr.awrap(this.U_t(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,Ve)},n.M_t=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Rr.awrap(EG(t.src,this.Uat));case 3:return n=i.sent,i.next=6,Rr.awrap(IG(n,this.Uat));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],Ve)},n.U_t=function(t){var n;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new kj({hg:i.Cr(t.src),m_t:t.liveOffset,f_t:t.timeServer,Cd:t.useCredentials},this.x_t,e_.Fd,this.Uat),e.next=4,Rr.awrap(n.B_t);case 4:return e.next=6,Rr.awrap(fG(n.X0.xlt,t.contentProtection,this.O_t));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],Ve)},t}();var pj=function(){function t(t){this.X_t=void 0,this.F_t=[],this.H_t=0,this.X_t=t}var n=t.prototype;return n.z_t=function(){var t=new Wo;return this.F_t.push(t),this.V_t(),t.Uu},n.W_t=function(t,n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t);case 2:this.H_t-=1,this.V_t(),0===this.F_t.length&&0===this.H_t&&n.Hu(!0);case 5:case"end":return i.stop()}},null,this,null,Ve)},n.V_t=function(){this.F_t.length>0&&this.H_t<this.X_t&&(this.F_t.shift().Hu(),this.H_t+=1)},t}();function Aj(t,n){for(var i=0,e=0,r=t.JS.KK.map(function(t){return t.Yg});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Tj=function(t){function n(n,e,r,s,u,o,a,c){var h,f,v,l,d;void 0===c&&(v=L.Tn||L.pn,l=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),d=v&&!l,c=function(t){var n,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.Xl,MediaSource.isTypeSupported(e)||xp(t.ZB,t.FH)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!d||-1===(null==(n=t.Ke)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.m2){u.next=13;break}return r=t.m2,s=zs(r,function(t){return cs(t.f2)}).filter(X),u.next=10,Rr.awrap(js(s,function(t){return i.Nr(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,Ve)}),(h=t.call(this)||this).Xat=void 0,h.G_t=void 0,h.q_t=new Wo,h.j_t=void 0,h.Qat=void 0,h.Y_t=sG.Ift(),h.Tft=void 0,h.Q_t=void 0,h.Rm=void 0,h.Z_t=void 0,h.Tot=void 0,h.Uat=void 0,h.K_t=void 0,h.O_t=void 0,h.x_t=void 0,h.hft=void 0,h.Xat=n,h.Tot=e,h.Uat=r,h.Z_t=s,h.K_t=u,h.O_t=o,h.x_t=c,h.hft=a,h.Q_t=-1;var w=h.Xat.wD.sources[0];return h.j_t=w,h.Rm=h.jm(),h.G_t=new pj(h.Xat.ah.parallelTasksThreshold),h}S(n,t);var e=n.prototype;return e.jm=function(){var t,n,i,e,r,s,u,o,a,c,h,f,v,l,d,_,g,m,y,k,b,p,A,T,S,E,I,R=this;return Rr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new bj(this.Uat,this.O_t,this.x_t),N.next=3,Rr.awrap(t.L_t(this.j_t));case 3:return this.Qat=N.sent,n=this.Xat.ah.amount,i=this.Qat.Yg,e=aG(n,i),this.Tft=e,s=YF(this.Qat.Oft[0]),N.next=11,Rr.awrap(this.Tot.got.dot(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Xs(t.references,R.Xat.F_)}),o=[],a=this.Xat.ah.bandwidth,c=0,h=this.Qat.Cft;c<h.length;c++)for(f=h[c],v=0,l=f.Mft;v<l.length;v++)for(d=l[v],_=0,g=Ej(d.KA);_<g.length;_++)for(m=g[_],y=0,k=Ij(m.G_,a);y<k.length;y++)b=k[y],o.push(b);if(this.Q_t=w.ceil(o.map(function(t){return t.XR*Aj(t,e)/8}).reduce(function(t,n){return t+n},0)),p=Cr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new iE(n.startsAndEnds);if(p.has(i))p.get(i).timeRanges=p.get(i).timeRanges.tC(e).$D(5e-4);else{var r,s=Os(o,function(t){return t.F_===i}),a=w.min(R.Tft,null!=(r=null==s?void 0:s.JS.Yg)?r:1/0);p.set(i,{timeRanges:e,totalQualityDurationToCache:a})}},S=0;S<u.length;S++)T(S);r=new sG(A,p,this.Tft)}else{for(E=0;E<o.length;E++)I=o[E],p.set(I.F_,{timeRanges:iE.mC(),totalQualityDurationToCache:w.min(I.JS.Yg,this.Tft)});r=new sG(0,p,this.Tft)}this.J_t=r;case 19:case"end":return N.stop()}},null,this,null,Ve)},e.$_t=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Rm);case 2:return n.next=4,Rr.awrap(this.tgt(this.Qat,t));case 4:return n.next=6,Rr.awrap(this.q_t.Uu);case 6:case"end":return n.stop()}},null,this,null,Ve)},e.tgt=function(t,n){var i,e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Oft){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Rr.awrap(this.ngt());case 4:for(i=[],e=0,r=t.Cft;e<r.length;e++)s=r[e],i.push(this.igt(s,t.Oft[0],n));return u.abrupt("return",Ve.all(i));case 7:case"end":return u.stop()}},null,this,null,Ve)},e.ngt=function(){var t,n,i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Rr.awrap(this.Z_t.vot());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Rr.awrap(this.Tot.mot.Su(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Rr.awrap(Sj(e,this.Xat.F_,this.Tot.mot,this.hft));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Rr.awrap(this.Tot.mot.cot(i,this.hft));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new hG("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Rr.awrap(this.Z_t._ot());case 27:case"end":return r.stop()}},null,this,[[14,19]],Ve)},e.igt=function(t,n,i){var e,r,s,u,o,a,c;return Rr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Mft;r<s.length;r++)for(u=s[r],o=Ej(u.KA),a=0;a<o.length;a++)c=o[a],e.push(this.egt(c,n,i));return h.abrupt("return",Ve.all(e));case 3:case"end":return h.stop()}},null,this,null,Ve)},e.egt=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.Xat.ah.bandwidth,r=Ij(t.G_,e),t.us!==Ky.Sd||!t.Fft||!t.Fft.jE.widevine||"persistent"!==t.Fft.jE.widevine.licenseType){a.next=6;break}return a.next=5,Rr.awrap(this.rgt(t.Fft));case 5:$s(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.sgt(o,n,i));return a.abrupt("return",Ve.all(s));case 9:case"end":return a.stop()}},null,this,null,Ve)},e.sgt=function(t,n,i){var e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:$s(i),e=t.JS.KK[0].Ky,r=e+this.Tft,s=0,u=t.JS.KK;case 4:if(!(s<u.length)){a.next=16;break}if(!((o=u[s]).Ky>=r)){a.next=8;break}return a.abrupt("break",16);case 8:return a.next=10,Rr.awrap(this.ugt(i));case 10:return a.next=12,Rr.awrap(this.G_t.z_t());case 12:ou(this.G_t.W_t(this.ogt(o,t,n),this.q_t));case 13:s++,a.next=4;break;case 16:case"end":return a.stop()}},null,this,null,Ve)},e.ugt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.Rs){n.next=4;break}return n.next=3,Rr.awrap(this.q_t.Uu);case 3:throw new Ks;case 4:case"end":return n.stop()}},null,this,null,Ve)},e.agt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rr.awrap(this.Rm);case 2:return t.abrupt("return",this.Qat);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.rgt=function(t){return Ve.resolve()},e.cgt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ut("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,Ve)},e.ogt=function(t,n,i){var e,r,s,u,o,a,c,h=this;return Rr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.Tot.got,r=QF(t.zft.od,t.zft.dat),f.next=4,Rr.awrap(e.Su(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Rr.awrap(Sj(s,this.Xat.F_,e,this.hft));case 8:this.hgt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Rr.awrap(this.fgt(t.zft));case 14:return u=f.sent,o=this.vgt(t,n,i,u),a=o.segmentMetadataEntry,c=o.segmentEntry,f.next=18,Rr.awrap(this.Tot.bot(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.got.cot(a,h.hft));case 2:return n.next=4,Rr.awrap(t.KK.cot(c,h.hft));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 18:this.hgt(a,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new hG("Unable to store segment with url: "+t.zft.od,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],Ve)},e.fgt=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.K_t.lgt(t,!1));case 2:return n=i.sent,i.next=5,Rr.awrap(this.dgt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,Ve)},e.dgt=function(t){var n;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t.Ml());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,Ve)},e.vgt=function(t,n,i,e){var r=QF(t.zft.od,t.zft.dat),s=t.Ky,u=t.Yg,o=this.wgt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:YF(i),qualityId:n.F_,byteSize:o,startsAndEnds:new iE([s,s+u]).XD,references:[this.Xat.F_]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:YF(i),data:e}}},e.wgt=function(t){return t.buffer.byteLength},e.hgt=function(t,n){var i=t.qualityId,e=this.Y_t,r=e.Py;r.get(i).timeRanges=r.get(i).timeRanges.tC(new iE(t.startsAndEnds)).$D(5e-4),this.J_t=new sG(n?e.Rft+t.byteSize:e.Rft,r,this.Tft)},A(n,[{key:"_gt",get:function(){return this.Q_t}},{key:"J_t",get:function(){return this.Y_t},set:function(t){this.Y_t.Ak(t)||(this.Y_t=t,t.Ak(sG.Ift())||this.js(new rG))}}]),n}(lu);function Sj(t,n,i,e){return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Xs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Rr.awrap(i.cot(t,e));case 4:case"end":return r.stop()}},null,null,null,Ve)}function Ej(t){return t.length?[t[0]]:[]}function Ij(t,n){if(!t.length)return[];var i=[].concat(t).sort(iG),e=i.filter(function(t){return t.XR<=n});return e.length>0?[e.pop()]:[i.shift()]}var Rj=function(){function t(t){this.bE=void 0,this.sX=new qN,this.bE=t}var n=t.prototype;return n.rd=function(t){var n=this,i=new Wo;return this.sX.YU(function(e){return n.ggt(i,t,e)},t.zs).catch(Z),i.Uu},n.Bd=function(t){return this.bE.Bd(t)},n.ggt=function(t,n,i){var e,r,s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return $s(i),e=new n_({od:n.od,zs:i},n),r=this.bE.rd(e),t.Hu(r),u.next=6,Rr.awrap(r);case 6:return s=u.sent,u.next=9,Rr.awrap(s.ql());case 9:case"end":return u.stop()}},null,this,null,Ve)},n.Od=function(){this.sX.Od()},t}(),Nj=function(){function t(t,n){this.bE=void 0,this.mgt=void 0,this.F4=void 0,this.bE=t,this.mgt=new Rj(t),this.F4=n}var n=t.prototype;return n.lgt=function(t,n,i){return this.x$(t,n,!0,!1,void 0,i)},n.e5=function(t,n,i,e){return this.x$(t,n,!1,!1,i,e)},n.ygt=function(t,n,i,e){return this.x$(t,n,!1,!0,i,e)},n.x$=function(n,i,e,r,s,u){var o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return $s(u),a.next=3,Rr.awrap(this.h5(n,e,r,s,u));case 3:if(o=a.sent,!i){a.next=8;break}return a.abrupt("return",t.kgt(o));case 8:return a.abrupt("return",this.bgt(o));case 9:case"end":return a.stop()}},null,this,null,Ve)},n.bgt=function(t){return t},t.kgt=function(t){return t},n.h5=function(t,n,i,e,r){var s=new n_({od:t.od,$l:pf.Vf,Jl:t.dat?{Range:"bytes="+t.dat[0]+"-"+t.dat[1]}:void 0,Cd:t.Cd,Id:Zw.GET,us:Kw.ld,Nd:i?Jw.wd:Jw.fd,Dd:this.F4,Rd:e,zs:r});return n?this.mgt.rd(s):this.bE.rd(s)},t}(),Dj=function(){function t(t){this.bE=void 0,this.bE=t}return t.prototype.vwt=function(t,n,i,e){var r;return Rr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Rr.awrap(this.bE.rd({od:t,$l:pf.Vf,Jl:{Range:"bytes="+n[0]+"-"+n[1]},Cd:i,Id:Zw.GET,us:Kw.fd,zs:e}));case 2:return r=s.sent,s.next=5,Rr.awrap(r.Ml());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},t}(),Cj=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).o5=void 0,r.o5=n,r}return S(n,t),n}(Jt),Pj=function(){function t(t){this.M3=void 0,this.M3=t}return t.prototype.vwt=function(t,n,i,e){var r,s;return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(this.M3.V4(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Rr.awrap(this.M3.V4(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Xo(new y(s.buffer),n[0],n[1]));case 10:throw new Cj({od:t,dat:n,Cd:!1});case 11:case"end":return i.stop()}},null,this,null,Ve)},t}(),Bj={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new iE([0,0]).XD,references:[]},Oj={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},xj=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).pgt=void 0,u.Agt=void 0,u.Tot=void 0,u.hft=void 0,u.pgt=new Dj(i),u.Tot=e,u.Agt=r,u.hft=s,u}S(n,t);var i=n.prototype;return i.vwt=function(n,i,e,r){var s;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Rr.awrap(t.prototype.vwt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),tu(u.t0);case 9:return u.next=11,Rr.awrap(this.pgt.vwt(n,i,e,r));case 11:return s=u.sent,u.next=14,Rr.awrap(this.Tgt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],Ve)},i.Tgt=function(t,i,e){var r,s,u,o,a,c,h,f=this;return Rr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.Agt){v.next=2;break}return v.abrupt("return");case 2:return r=this.Tot.got,s=QF(t,i),v.next=6,Rr.awrap(r.Su(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Rr.awrap(Sj(u,this.Agt,r,this.hft));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},a=n.vgt(s,o,this.Agt),c=a.segmentMetadataEntry,h=a.segmentEntry,v.next=17,Rr.awrap(this.Tot.bot(function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(t.got.cot(c,f.hft));case 2:return n.next=4,Rr.awrap(t.KK.cot(h,f.hft));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new hG("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],Ve)},n.vgt=function(t,n,i){return{segmentMetadataEntry:Nr({},Bj,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Nr({},Oj,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Pj);var Lj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Sgt=function(t,n,i,e,r,s,u){return new Tj(t,n,i,e,r,s,u)},n}(function(){function t(t){this.bE=t}return t.prototype.gK=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.wD.sources[0].useCredentials),r=new Nj(this.bE,$w.fd),s=new BH(this.bE,e),u=new ZF(n.mot,n.got,n.KK,n.kot),o=function(t,n,i,e,r){return new xj(n,t,i,e,r)}(this.bE,u,n,t.F_,i),a=new rH,c=new UH(MH(s,u),a,t);return this.Sgt(t,n,c,a,r,o,i)},t}());function Mj(t){var n,i={get id(){return t.F_},get status(){return t.Kl},get source(){return t.wD},get parameters(){return t.ah},get duration(){return t.Yg},get cached(){return t.Egt.KN()},get secondsCached(){return t.Igt},get percentageCached(){return t.Rgt},get bytes(){return t.Ngt},get bytesCached(){return t.Dgt},get license(){return t.vO.$w},start:function(){t.xD()},pause:function(){t.Fm()},remove:function(){t.Vc()},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)}};return n=new uN(t,["bft","Jht"],i),i}var Uj=function(){function t(t,n,i){this.Xat=t,this.Tot=n,this.Qat=i}var n=t.prototype;return n.Cgt=function(){var t=this;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.Tot.bot(function(n){return Rr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Rr.awrap(t.Pgt(n));case 2:return i.next=4,Rr.awrap(t.Bgt(n));case 4:return i.next=6,Rr.awrap(t.Ogt(n));case 6:return i.next=8,Rr.awrap(t.xgt(n));case 8:case"end":return i.stop()}},null,null,null,Ve)}));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.Pgt=function(t){var n,i;return Rr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.yot,i=this.Xat.F_,e.next=4,Rr.awrap(n.Vc(i));case 4:case"end":return e.stop()}},null,this,null,Ve)},n.Bgt=function(t){var n,i,e,r,s,u,o,a=this;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(n=t.got,i=t.KK,Jm(e=this.Xat.wD.sources[0])){c.next=5;break}return c.abrupt("return");case 5:return r=YF(e.src),c.next=8,Rr.awrap(n.dot(r,"manifestURL"));case 8:s=c.sent.filter(function(t){return Xs(t.references,a.Xat.F_)}),u=0;case 10:if(!(u<s.length)){c.next=25;break}if(Ms((o=s[u]).references,this.Xat.F_),0!==o.references.length){c.next=20;break}return c.next=16,Rr.awrap(n.Vc(o.key));case 16:return c.next=18,Rr.awrap(i.Vc(o.key));case 18:c.next=22;break;case 20:return c.next=22,Rr.awrap(n.cot(o));case 22:u++,c.next=10;break;case 25:case"end":return c.stop()}},null,this,null,Ve)},n.Ogt=function(t){var n,i,e,r,s,u=this;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.mot,i=this.Lgt(),o.next=4,Rr.awrap(n.oot(i));case 4:e=o.sent.filter(function(t){return Xs(t.references,u.Xat.F_)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ms((s=e[r]).references,this.Xat.F_),0!==s.references.length){o.next=14;break}return o.next=12,Rr.awrap(n.Vc(s.key));case 12:o.next=16;break;case 14:return o.next=16,Rr.awrap(n.cot(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,Ve)},n.Lgt=function(){if(!this.Qat)return[];var t=this.Xat.wD.sources[0];if(!Jm(t))return[];var n=YF(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Cft;i<e.length;i++)for(var r=0,s=e[i].Mft;r<s.length;r++)for(var u=0,o=s[r].KA;u<o.length;u++)for(var a=0,c=o[u].G_;a<c.length;a++){var h=c[a];h.Kft&&n.push(h.Kft)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.Qat).map(function(t){return{src:t}}).map(function(t){return YF(t.src)});return[n].concat(i)},n.xgt=function(t){var n,i,e,r,s=this;return Rr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.kot,u.next=3,Rr.awrap(n.vot());case 3:i=u.sent.filter(function(t){return Xs(t.references,s.Xat.F_)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ms((r=i[e]).references,this.Xat.F_),0!==r.references.length){u.next=14;break}return u.next=11,Rr.awrap(n.Vc(r.key));case 11:this.Mgt(r),u.next=16;break;case 14:return u.next=16,Rr.awrap(n.cot(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,Ve)},n.Mgt=function(t){},t}(),Xj=new(function(){function t(){}return t.prototype.gK=function(t,n,i){return new Uj(t,n,i)},t}());var Fj=function(){function t(t,n){this.Jw=void 0,this.Bw=t,this.Ugt=n}var n=t.prototype;return n.Xgt=function(t){this.Fgt(t)},n.Fgt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(this.Ugt.cgt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Bw.lft(WW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],Ve)},A(t,[{key:"$w",get:function(){var t;return this.Jw||(this.Jw=(t=this,{renew:function(n){t.Xgt(n)}})),this.Jw}}]),t}(),Hj=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Nc=void 0,o.cft=void 0,o.Jw=void 0,o.Eet=void 0,o.Hgt=void 0,o.Tot=void 0,o.Ugt=void 0,o.zgt=new Zs,o.Vgt=void 0,o.evictOnLoading=function(){o.Js("Jht",o.evictOnLoading),o.Wgt()},o.Nc=n,o.Eet=i,o.Hgt=e,o.Tot=r,o.Ugt=s.gK(Zt(o),o.Tot,u),o.Vgt=new Fj(Zt(o),o.Ugt),o.cft=1===o.Ugt.J_t.Nft?WW.DONE:WW.IDLE,o.Ugt.Ys("bft",function(t){o.qs(t),1===o.Rgt&&o.lft(WW.DONE)});var c=new Date,h=o.Hgt.expirationDate.getTime()-c.getTime();return h<2147483647&&a(function(){return o.Wgt()},h),o}S(n,t);var i=n.prototype;return i.lft=function(t){this.cft!==t&&(this.cft=t,this.js(new qW))},i.xD=function(){this.cft===WW.EVICTED||this.cft===WW.DONE||this.Ggt()},i.Ggt=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.lft(WW.LOADING),t=new Zs,this.zgt=t,n.next=6,Rr.awrap(this.Ugt.$_t(t.zs));case 6:this.lft(WW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Js(n.t0)?this.lft(WW.IDLE):this.lft(WW.ERROR);case 12:return n.prev=12,this.zgt.Bs(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],Ve)},i.Fm=function(){this.zgt.Xs()},i.Vc=function(){this.Kl===WW.LOADING?(this.Ys("Jht",this.evictOnLoading),this.Fm()):this.Wgt()},i.Wgt=function(){var t;return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Rr.awrap(this.Ugt.agt());case 3:return t=n.sent,n.next=6,Rr.awrap(Xj.gK(this,this.Tot,t).Cgt());case 6:this.Ugt.J_t=sG.Ift(),this.lft(WW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.lft(WW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],Ve)},A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=Mj(this)),this.Jw}},{key:"F_",get:function(){return this.Nc}},{key:"vO",get:function(){return this.Vgt}},{key:"Kl",get:function(){return this.cft}},{key:"wD",get:function(){return this.Eet}},{key:"ah",get:function(){return this.Hgt}},{key:"Yg",get:function(){return this.Ugt.J_t.dC}},{key:"Egt",get:function(){return this.Ugt.J_t.Eft}},{key:"Igt",get:function(){return this.Ugt.J_t.Sft}},{key:"Rgt",get:function(){return this.Ugt.J_t.Nft}},{key:"Ngt",get:function(){return this.Ugt._gt}},{key:"Dgt",get:function(){return this.Ugt.J_t.Rft}}]),n}(Bm);var zj=function(){function t(t,n){this.Tot=t,this.qgt=n}var n=t.prototype;return n.gft=function(t,n,i){var e=FI();return this.wft(e,t,n,i)},n.wft=function(t,n,i,e){return new Hj(t,n,i,this.Tot,this.qgt,e)},t}(),Vj=30,Wj=5;function Gj(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(G(t)&&!fs(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,G(i)&&fs(i,"%")){var n=g(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!G(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+Vj),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Y(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return Wj;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var qj,jj,Yj,Qj,Zj,Kj,Jj=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jw=void 0,e.jgt=n,e._U=i,e.jgt.Ys("Jht",e.qs),e}return S(n,t),n.prototype.Ygt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=hI(t),r=Gj(n),$E(e))throw new v("Invalid source description");return this.jgt.wft(e,r).$w},A(n,[{key:"$w",get:function(){var t,n,i;return this.Jw||(this.Jw=(i={get status(){return t.Kl},get tasks(){return t.kft},get network(){return t.NU.$w},createTask:function(n,i){return t.Ygt(n,i)},addEventListener:function(t,i){n.Ys(t,i)},removeEventListener:function(t,i){n.Js(t,i)}},n=new oN(t=this,i),i)),this.Jw}},{key:"Kl",get:function(){return this.jgt.Kl}},{key:"kft",get:function(){return this.jgt.kft.$w}},{key:"NU",get:function(){return this._U}}]),n}(Bm);(qj=new FR(i.jw,!1),jj=hH.Gn,Yj=new Lj(qj),Qj=new zj(jj,Yj),Zj=new zR(qj),Kj=new nG(jj.yot,Qj,"persistent"),new Jj(Kj,Zj)).$w;var $j=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Nc=void 0,s.cft=void 0,s.Jw=void 0,s.Eet=void 0,s.Hgt=void 0,s.ea=0,s.Qgt=iE.mC(),s.Zgt=0,s.Kgt=0,s.jgt=void 0,s.Nc=n,s.cft=WW.IDLE,s.Eet=i,s.Hgt=e,s.jgt=r,s}S(n,t);var i=n.prototype;return i.xD=function(){this.jgt.startCachingTask(this)},i.Vc=function(){this.jgt.removeCachingTask(this)},A(n,[{key:"$w",get:function(){return this.Jw||(this.Jw=Mj(this)),this.Jw}},{key:"F_",get:function(){return this.Nc}},{key:"Kl",get:function(){return this.cft},set:function(t){this.cft!==t&&(this.cft=t,this.js(new qW))}},{key:"wD",get:function(){return this.Eet}},{key:"ah",get:function(){return this.Hgt}},{key:"Yg",get:function(){return this.ea},set:function(t){this.ea=t}},{key:"Egt",get:function(){return this.Qgt},set:function(t){this.Qgt=t}},{key:"Igt",get:function(){return this.Zgt},set:function(t){this.Zgt=t}},{key:"Rgt",get:function(){return this.Kgt},set:function(t){this.Kgt=t,this.js(new rG)}}]),n}(Om),tY=30;function nY(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+tY),n&&((i=n)&&!(Y(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var iY=function(t){function n(){var n;return(n=t.call(this)||this).cft=QW.UNINITIALISED,n.VU=new tG,n.Lct=void 0,n.Jct=void 0,n.Jgt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Kl=WW.EVICTED,i.Rgt=0,i.Igt=0,i.Yg=0,i.Egt=iE.mC(),n.VU.Vc(i))}},n.$gt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Kl=e);var r=t.detail.percentage;r&&(i.Rgt=r);var s=t.detail.duration;s&&(i.Yg=s);var u=t.detail.seconds;u&&(i.Igt=u);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.Egt=new iE(a)}}}},n.tmt=function(t){if(t.detail){var i=hI(JSON.parse(t.detail.source));if(!n.nmt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.wft(i,nY(e),s)}}},n.imt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.wft(hI(r),nY(i),s);u.Kl=t.detail.status,u.Rgt=t.detail.percentage,u.Yg=t.detail.duration,u.Igt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}u.Egt=new iE(a)}},n.emt=function(t){t.detail&&n.lft(t.detail.status)},n.Lct=new FW,n.Jct=new mW,vW().cache={sdkEventBus:n.Jct},n.jht(),n}S(n,t);var i=n.prototype;return i.lft=function(t){this.cft!==t&&(this.cft=t,this.js(new qW))},i.wft=function(t,n,i){void 0===i&&(i=void 0);var e=new $j(i||FI(),t,n,this);return this.VU.By(e),i||this.Lct.iK("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.F_}),e},i.findTaskWithId=function(t){for(var n=0,i=this.VU.tft;n<i.length;n++){var e=i[n];if(e.F_===t)return e}},i.nmt=function(t){for(var n=rY(t.sources),i=0,e=this.VU.tft;i<e.length;i++){if(rY(e[i].wD.sources).src===n.src)return!0}return!1},i.jht=function(){this.Jct.addEventListener("deleteTask",this.Jgt),this.Jct.addEventListener("updateValues",this.$gt),this.Jct.addEventListener("newTask",this.tmt),this.Jct.addEventListener("restoreTask",this.imt),this.Jct.addEventListener("setCacheStatus",this.emt)},i.startCachingTask=function(t){this.Lct.iK("THEOplayerCacheStartCachingTask",{id:t.F_})},i.removeCachingTask=function(t){this.Lct.iK("THEOplayerCacheRemoveCachingTask",{id:t.F_})},A(n,[{key:"Kl",get:function(){return this.cft}},{key:"kft",get:function(){return this.VU}}]),n}(lu),eY=function(t){function n(n){var i;return(i=t.call(this,n)||this).rmt=n,i.rmt.Ys("Jht",i.qs),i}return S(n,t),n.prototype.Ygt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=hI(t),e=nY(n),$E(i))throw new v("Invalid source description");if(!rY(i.sources))throw new v("The provided sources can't be cached");return this.rmt.wft(i,e).$w},n}(Jj);function rY(t){for(var n=0;n<t.length;n++){var i=t[n];if(Ym(i.type))return i}}var sY,uY,oY=function(){var t=new iY;return new eY(t)}().$w;!function(t){t.smt="any",t.umt="natural",t.omt="landscape",t.amt="portrait",t.cmt="portrait-primary",t.hmt="portrait-secondary",t.fmt="landscape-primary",t.vmt="landscape-secondary"}(sY||(sY={})),function(t){t.cmt="portrait-primary",t.hmt="portrait-secondary",t.fmt="landscape-primary",t.vmt="landscape-secondary"}(uY||(uY={}));var aY,cY,hY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Lct=new FW,n.lmt=sY.umt,n.dmt=uY.cmt,n.wmt=uY.cmt,n._mt=uY.cmt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.lmt=t,n.Lct.iK("THEOplayerOrientationLock",t),n.gmt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.lmt=sY.umt,t.Lct.iK("THEOplayerOrientationUnlock"),t.type=t.wmt,t.gmt(),n()})},i.gmt=function(){var t=this._mt,n=this.type;t!==n&&(this._mt=n,this.js(new wu("change")))},i.addEventListener=function(t,n){this.Ys(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n.mmt=function(t){switch(t){case sY.cmt:return[uY.cmt];case sY.hmt:return[uY.hmt];case sY.amt:return[uY.cmt,uY.hmt];case sY.fmt:return[uY.fmt];case sY.vmt:return[uY.vmt];case sY.omt:return[uY.fmt,uY.vmt];case sY.umt:return[uY.cmt,uY.fmt,uY.vmt];case sY.smt:return[uY.cmt,uY.hmt,uY.fmt,uY.vmt]}},n.ymt=function(t,i){return n.mmt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.dmt},set:function(t){this.wmt=t,n.ymt(t,this.lmt)?(this.dmt=t,this.gmt()):(t===uY.fmt&&this.lmt===sY.vmt&&(this.dmt=uY.vmt,this.gmt()),t===uY.vmt&&this.lmt===sY.fmt&&(this.dmt=uY.fmt,this.gmt()))}},{key:"angle",get:function(){switch(this.type){case uY.fmt:return-90;case uY.vmt:return 90;case uY.cmt:return 0;case uY.hmt:return 180;default:return 0}}}]),n}(Om);hY.Gn=new hY,r.screen.orientation=hY.Gn,o&&-1===o.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.kmt="unavailable",t.bmt="available",t.pmt="presenting"}(aY||(aY={})),LN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.Vm=function(n){t.prototype.Vm.call(this,n);var i=this.$w;this.$w.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===aY.pmt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(sY.vmt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},RN.PU),function(t){t.Yw="addtrack",t.Zw="removetrack",t.v_="change",t.m_="update"}(cY||(cY={}));var fY=function(t,n,i){this.type=cY.v_,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},vY=function(t,n){this.type=cY.Yw,this.mediaType=t,this.mediaTrack=n},lY=function(t,n){this.type=cY.Zw,this.mediaType=t,this.mediaTrack=n},dY=function(t,n){this.type=cY.m_,this.mediaType=t,this.mediaTrack=n},wY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.Amt=function(t){var n=new fY(e.type,t.track,e.mediaTracks);e.messageDispatcher.Tmt(n)},this.Smt=function(t){var n=new vY(e.type,t.track);e.messageDispatcher.Tmt(n),t.track.addEventListener("update",e.Emt)},this.Imt=function(t){var n=new lY(e.type,t.track);e.messageDispatcher.Tmt(n)},this.Emt=function(t){var n=new dY(e.type,t.track);e.messageDispatcher.Tmt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.jht()}return t.prototype.jht=function(){this.mediaTracks.addEventListener("change",this.Amt),this.mediaTracks.addEventListener("addtrack",this.Smt),this.mediaTracks.addEventListener("removetrack",this.Imt)},t}(),_Y=function(){function t(){this.Rmt=void 0,this.Rmt=new FW}return t.prototype.Tmt=function(t){this.Rmt.iK(t.type,KH(t))},t}();XN(function(t){if(t.$w.audioTracks){var n=new _Y;new wY("audio",t.$w.audioTracks,n)}if(t.$w.videoTracks){var i=new _Y;new wY("video",t.$w.videoTracks,i)}});var gY,mY="nativePromiseCallback",yY=function(t){function n(n){var i;return(i=t.call(this,mY)||this).detail=n,i}return S(n,t),n}(wu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(gY||(gY={}));var kY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.js(new yY(n))},i.addEventListener=function(t,n){this.Ys(t,n)},i.removeEventListener=function(t,n){this.Js(t,n)},n}(mW),bY=function(){function t(){var t=this;this.Rmt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case gY.RESOLVE:i.Hu(n.detail.data);break;case gY.REJECT:i.Vu(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new kY;vW().nativePromise={sdkEventBus:n},n.addEventListener(mY,this.handleNativePromiseEvent)}return t.prototype.Nmt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Nr({},n,{promiseId:e}),s=new Wo;return this.promisesMap[e]=s,null==(i=this.Rmt)||i.iK(n.type,QH(r)),s.Uu},t}();bY.messageIdTracker=-1;var pY,AY=function(t){function n(){var n;return(n=t.call(this)||this).Rmt=new FW,n}return S(n,t),n}(bY),TY=function(){function n(t){this.playerID=t}return n.prototype.iK=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),SY=function(t){function n(n){var i;return(i=t.call(this)||this).Rmt=new TY(n),i}return S(n,t),n}(bY);!function(t){t.Yw="TextTrackListAddTrack",t.Zw="TextTrackListRemoveTrack",t.v_="TextTrackListChange"}(pY||(pY={}));var EY,IY=function(t){this.type=pY.Yw,this.textTrack=t},RY=function(t){this.type=pY.Zw,this.textTrack=t},NY=function(t){this.type=pY.v_,this.textTrack=t};!function(t){t.i_="TextTrackAddCue",t.r_="TextTrackRemoveCue",t.u_="TextTrackEnterCue",t.a_="TextTrackExitCue",t.h_="TextTrackCueChange"}(EY||(EY={}));var DY,CY=function(t,n){this.type=EY.i_,this.textTrackCue=t,this.textTrackUid=n},PY=function(t,n){this.type=EY.r_,this.textTrackCue=t,this.textTrackUid=n},BY=function(t,n){this.type=EY.u_,this.textTrackCue=t,this.textTrackUid=n},OY=function(t,n){this.type=EY.a_,this.textTrackCue=t,this.textTrackUid=n},xY=function(t){this.type=EY.h_,this.textTrackUid=t};!function(t){t.qy="TextTrackCueEnter",t.Yy="TextTrackCueExit",t.m_="TextTrackCueUpdate"}(DY||(DY={}));var LY=function(t){this.type=DY.qy,this.textTrackCue=t},MY=function(t){this.type=DY.Yy,this.textTrackCue=t},UY=function(t){this.type=DY.m_,this.textTrackCue=t},XY=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.Dmt=function(t){var i=FY(t.cue),e=new LY(i);n.messageDispatcher.Nmt(e).then()},this.Cmt=function(t){var i=FY(t.cue),e=new MY(i);n.messageDispatcher.Nmt(e).then()},this.Pmt=function(t){var i=FY(t.cue),e=new UY(i);n.messageDispatcher.Nmt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.jht=function(t){t.addEventListener("enter",this.Dmt),t.addEventListener("exit",this.Cmt),t.addEventListener("update",this.Pmt)},n.tu=function(t){t.removeEventListener("enter",this.Dmt),t.removeEventListener("exit",this.Cmt),t.removeEventListener("update",this.Pmt)},t}();function FY(t){var n=sW(t,t.track.type);return n.track=t.track,n}var HY=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.Bmt=function(t){var n,e=FY(t.cue),r=new CY(e,t.cue.track.uid);i.messageDispatcher.Nmt(r).then(),null==(n=i.textTrackCueBridge)||n.jht(t.cue)},this.Omt=function(t){var n,e=FY(t.cue),r=new PY(e,t.cue.track.uid);i.messageDispatcher.Nmt(r).then(),null==(n=i.textTrackCueBridge)||n.tu(t.cue)},this.Dmt=function(t){var n=FY(t.cue),e=new BY(n,t.cue.track.uid);i.messageDispatcher.Nmt(e).then()},this.Cmt=function(t){var n=FY(t.cue),e=new OY(n,t.cue.track.uid);i.messageDispatcher.Nmt(e).then()},this.xmt=function(t){var n=new xY(t.track.uid);i.messageDispatcher.Nmt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new XY(e))}var n=t.prototype;return n.jht=function(t){t.addEventListener("addcue",this.Bmt),t.addEventListener("removecue",this.Omt),t.addEventListener("entercue",this.Dmt),t.addEventListener("exitcue",this.Cmt),t.addEventListener("cuechange",this.xmt)},n.tu=function(t){t.removeEventListener("addcue",this.Bmt),t.removeEventListener("removecue",this.Omt),t.removeEventListener("entercue",this.Dmt),t.removeEventListener("exitcue",this.Cmt),t.removeEventListener("cuechange",this.xmt)},n.initMessageDispatcher=function(t){return L.Hn?new AY:L.zn&&void 0!==t?new SY(t):void 0},t}(),zY=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.Smt=function(t){var n,i=new IY(t.track);e.messageDispatcher.Nmt(i).then(),null==(n=e.textTrackBridge)||n.jht(t.track)},this.Imt=function(t){var n,i=new RY(t.track);e.messageDispatcher.Nmt(i).then(),null==(n=e.textTrackBridge)||n.tu(t.track)},this.Lmt=function(t){var n=new NY(t.track);e.messageDispatcher.Nmt(n).then()},this.Mmt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.Umt(i);r&&(this.textTrackBridge=new HY(r,i)),this.jht(),this.sdkEventBus=new mW,vW().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.Mmt)}var n=t.prototype;return n.jht=function(){this.textTracks.addEventListener("addtrack",this.Smt),this.textTracks.addEventListener("removetrack",this.Imt),this.textTracks.addEventListener("change",this.Lmt)},n.Umt=function(t){return L.Hn?new AY:L.zn&&void 0!==t?new SY(t):void 0},t}();XN(function(t){if(t.$w.textTracks){var n=new AY;new zY(t.$w.textTracks,n)}});var VY,WY,GY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case VY.Xmt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.js(new qY(i));break;default:0}},n}(mW),qY=function(t){function n(n){var i;return(i=t.call(this,VY.Xmt)||this).detail=n,i}return S(n,t),n}(wu);!function(t){t.Xmt="registerContentProtectionIntegration"}(VY||(VY={})),function(t){t.Fmt="certifiateRequest",t.Hmt="certifiateResponse",t.zmt="licenseRequest",t.Vmt="licenseResponse",t.Wmt="extractFairplayContentId",t.Gmt="buildContentProtection",t.qmt="registerContentProtectionCallback"}(WY||(WY={}));var jY,YY=function(t,n){this.type=WY.qmt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(jY||(jY={}));var QY=function(t,n){this.type=WY.Gmt,this.value=t,this.integrationId=n},ZY=function(t,n){this.type=WY.Fmt,this.value=t,this.integrationId=n},KY=function(t,n){this.type=WY.Hmt,this.value=t,this.integrationId=n},JY=function(t,n){this.type=WY.Wmt,this.value=t,this.integrationId=n},$Y=function(t,n){this.type=WY.zmt,this.value=t,this.integrationId=n},tQ=function(t,n){this.type=WY.Vmt,this.value=t,this.integrationId=n},nQ=function(){function t(t,n){this.jmt=void 0,this.RI=void 0,this.jmt=t,this.RI=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e=new ZY(i,this.RI),a.prev=2,a.next=5,Rr.awrap(this.jmt.Nmt(e));case 5:if(!(r=a.sent)){a.next=16;break}if(s=JSON.parse(r),!this.Ymt(s)){a.next=13;break}return u=Nr({},s),a.abrupt("return",u);case 13:if(!this.Qmt(s)){a.next=16;break}return o=new y(s),a.abrupt("return",o);case 16:throw new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw a.prev=19,a.t0=a.catch(2),new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 22:case"end":return a.stop()}},null,this,[[2,19]],Ve)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Rr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new KY(e,this.RI),o.next=5,Rr.awrap(this.jmt.Nmt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,Ve)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,a;return Rr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new $Y(e,this.RI),c.prev=3,c.next=6,Rr.awrap(this.jmt.Nmt(r));case 6:if(!(s=c.sent)){c.next=17;break}if(u=JSON.parse(s),!this.Ymt(u)){c.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},c.abrupt("return",o);case 14:if(!this.Qmt(u)){c.next=17;break}return a=new y(u),c.abrupt("return",a);case 17:throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw c.prev=20,c.t0=c.catch(3),new jy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,c.t0);case 23:case"end":return c.stop()}},null,this,[[3,20]],Ve)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Rr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Nr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new tQ(r,this.RI),a.next=6,Rr.awrap(this.jmt.Nmt(s));case 6:if(!(u=a.sent)){a.next=12;break}return o=JSON.parse(u),a.abrupt("return",new y(o));case 12:throw new jy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return a.stop()}},null,this,null,Ve)},i.extractFairplayContentId=function(t){var i,e;return Rr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new JY(t,this.RI),r.next=3,Rr.awrap(this.jmt.Nmt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",Ve.reject(new jy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,Ve)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Ymt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Qmt=function(t){return!!new y(t)},t}(),iQ=function(){function t(t){this.jmt=void 0,this.jmt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new nQ(this.jmt,t.integration),i=new QY({drmConfiguration:t},t.integration);return this.jmt.Nmt(i),n},t}(),eQ=function(t){function n(){var n;return(n=t.call(this)||this).jmt=new AY,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.jmt}}]),n}(function(){var t=this;this.Jct=void 0,this.Zmt=function(n){var i=new iQ(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:FA.xI.DI(r,s,i)};t.messageDispatcher.Nmt(new YY(u,r))},this.Jct=new GY,vW().contentProtectionIntegration={sdkEventBus:this.Jct},this.Jct.addEventListener(VY.Xmt,this.Zmt)});XN(function(t){new eQ});var rQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(wu);var sQ,uQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Kmt=function(){},e.Jmt(),e}S(n,t);var e=n.prototype;return e.$mt=function(){this.TD&&this.TD.Js(bf.ef,this.handleAirplayChangedEvent),this.TD=this.$x,this.TD.Ys(bf.ef,this.handleAirplayChangedEvent)},e.tyt=function(){return Rr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TD){t.next=2;break}return t.abrupt("return");case 2:this.nyt(LE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.iyt=function(){this.nyt(LE.AVAILABLE)},e.Gm=function(){i.Or.Fe&&(this.eyt.jm(),this.ryt.Xs(),this.ryt=new Zs,ou(this.syt(this.ryt.zs)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Jw=void 0,e.eyt=void 0,e.TD=void 0,e.$x=void 0,e.we=LE.UNAVAILABLE,e.ryt=new Zs,e.Kmt=void 0,e.handleAirplayChangedEvent=function(){e.TD&&e.TD.gy?e.tyt():e.rQ===LE.CONNECTED&&e.iyt()},e.eyt=n,e.$x=i,e}S(n,t);var e=n.prototype;return e.Jmt=function(){this.$mt(),this.eyt.Ys("sourcechange",this.Kmt),i.Or.Fe&&this.nyt(LE.AVAILABLE)},e.preloadPlayer=function(t){if($s(t),this.TD.og<Vm.Mg){var n=this.TD.uu("loadedmetadata",t);return this.TD.Ry=YS.sA,n}return Ve.resolve()},e.nyt=function(t){t!==this.we&&(this.we=t,this.js(new rQ(this.we)))},e.syt=function(t){return Rr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rr.awrap(this.preloadPlayer(t));case 2:this.$x.Gm();case 3:case"end":return n.stop()}},null,this,null,Ve)},e.qm=function(){i.Or.Fe&&this.TD.qm()},e.Od=function(){this.Ks(),this.eyt.Js("sourcechange",this.Kmt),this.ryt.Xs()},A(n,[{key:"DM",get:function(){return this.rQ===LE.CONNECTED}},{key:"rQ",get:function(){return this.we}},{key:"$w",get:function(){var t;return this.Jw||(this.Jw=(t=this,{get casting(){return t.DM},get state(){return t.rQ},start:function(){t.Gm()},stop:function(){t.qm()},addEventListener:function(n,i){var e=_m(n,dm);t.Ys(e,i)},removeEventListener:function(n,i){var e=_m(n,dm);t.Js(e,i)}})),this.Jw}}]),n}(lu));LN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.t_=function(){var n=this.IU.$w;return um(t.prototype.t_.call(this),{get cast(){return n}})},n}(t)},RN.CU),LN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).uyt=void 0,e.uyt=new uQ(Zt(e),e.AM),e.IU.NM(e.uyt),e.Ys("currentsourcechange",function(){e.uyt.$mt()}),e}S(n,t);var i=n.prototype;return i.t_=function(){var n=this,i=t.prototype.t_.call(this);return um(i.cast,{get airplay(){return n.uyt.$w}}),i},i.Od=function(){this.uyt.Od(),t.prototype.Od.call(this)},n}(t)},RN.CU),function(t){t.oyt="airplaystatechange"}(sQ||(sQ={}));var oQ=function(t){this.type=sQ.oyt,this.state=t},aQ=function(t){function n(n){var i;return(i=t.call(this)||this).ayt=void 0,i.cyt=function(t){var n=new oQ(t.state);i.Tmt(n)},i.ayt=n,i.jht(n),i}return S(n,t),n.prototype.jht=function(t){t.addEventListener("statechange",this.cyt)},n}(_Y);XN(function(t){var n;null!=(n=t.$w.cast)&&n.airplay&&new aQ(t.$w.cast.airplay)}),n.ChromelessPlayer=eD,n.Player=eD,n.cache=oY,n.createGlobals=wW,n.features=uD,n.getCueMirrorMap=lW,n.getGlobalId=dW,n.getSdkEventBridge=vW,n.playerSuiteVersion="2022.3.2",n.players=oD,n.registerContentProtectionIntegration=aD,n.utils=sD,n.version="4.0.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
