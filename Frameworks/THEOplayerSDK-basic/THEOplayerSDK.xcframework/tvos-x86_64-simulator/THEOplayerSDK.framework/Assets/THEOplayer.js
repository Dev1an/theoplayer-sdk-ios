/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), shaka-player
 (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.2 (2.89.1)
 Created: 2021-09-29T08:55:13.271Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,o=t.navigator,s=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,r,e){function u(s,c){if(!r[s]){if(!n[s]){var a="function"==typeof i&&i;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new h("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var v=r[s]={exports:{}};n[s][0].call(v.exports,function(t){var i=n[s][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[s].exports}for(var o="function"==typeof i&&i,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new h}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function v(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==s)s(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(c.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){s(function(){t.call(n,i)},100)})},c.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.B()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(o).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.At=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.At&&(this.At.Dt=null,i.push(this.At))},r.prototype.Ot=function(){if(void 0!==this.At){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,o,c=n.Pt,a=n.it,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;s(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",u,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var A=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=A(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.At=new it(this.xt())}function W(t,n){if(g(t)){var i=this.At;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function z(){this.At=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,h),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var i=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,i(t,n),h.stackTraceLimit-=6}}var r,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.At){for(var s=n.At.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:A,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(i,h),i}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,h);var k=h.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function d(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var v=i(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}v.isPending()&&v.Yt(new a(this))}return v.H(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=v(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=v(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function d(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.Cn=i,this.An=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new d(t,i,o,u).promise()}c.inherits(d,i),d.prototype.Nn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.Cn;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.An--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.An>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.An++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},d.prototype.xn=function(){for(var t=this.Dn,n=this.Cn,i=this.On;t.length>0&&this.An<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},d.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&s.getPrototypeOf(t)===h.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new h(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&d(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new A.PromiseInspection(this.Y())},e=function(t){return A.reject(new l(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(A,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(A,"it",{value:h});var v=t("./errors"),l=A.TypeError=v.TypeError;A.RangeError=v.RangeError;var w=A.CancellationError=v.CancellationError;A.TimeoutError=v.TimeoutError,A.OperationalError=v.OperationalError,A.RejectionError=v.OperationalError,A.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(A,y),m=t("./promise_array")(A,y,p,e,u),k=t("./context")(A),b=k.create,T=t("./debuggability")(A,k),E=(T.CapturedTrace,t("./finally")(A,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function A(t){t!==y&&function(t,n){if(null==t||t.constructor!==A)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new A(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},A.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},A.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},A.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},A.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},A.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},A.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},A.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},A.getNewLibraryCopy=n.exports,A.is=function(t){return t instanceof A},A.fromNode=A.fromCallback=function(t){var n=new A(y);n.Xt();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=C(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},A.all=function(t){return new m(t).promise()},A.cast=function(t){var n=p(t);return n instanceof A||((n=new A(y)).Xt(),n.$n(),n.Un=t),n},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(t){var n=new A(y);return n.Xt(),n.bn(t,!0),n},A.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},A.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new A(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},A.prototype.kt=function(){return 65535&this.j},A.prototype.Wn=function(){return 0!=(117506048&this.j)},A.prototype.ot=function(){return 67108864==(67108864&this.j)},A.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},A.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},A.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},A.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},A.prototype.jn=function(){this.j=4194304|this.j},A.prototype.Zn=function(){return(4194304&this.j)>0},A.prototype.ti=function(){this.j=-65537&this.j},A.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},A.prototype.ft=function(){this.j=8388608|this.j},A.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},A.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},A.prototype.ii=function(t){return this[4*t-4+2]},A.prototype.ri=function(t){return this[4*t-4+0]},A.prototype.ei=function(t){return this[4*t-4+1]},A.prototype.G=function(){},A.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},A.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},A.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},A.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},A.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof A))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},A.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},A.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},A.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=C(t).apply(this.G(),i):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(i)):u=C(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},A.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},A.prototype.st=function(){return this.Un},A.prototype.si=function(t){this.Un=t},A.prototype.ai=function(t,n,i,e){var o=t instanceof A,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.Ct(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,C(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},A.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof A?this.ci(n,r,e,i):n.call(r,e,i):i instanceof A&&i.V(e)},A.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},A.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},A.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},A.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},A.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},A.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},A.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(A.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),A.defer=A.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new A(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(A,"li",i),t("./method")(A,y,p,e,T),t("./bind")(A,y,p,T),t("./cancel")(A,m,e,T),t("./direct_resolve")(A),t("./synchronous_inspection")(A),t("./join")(A,m,p,y,h,o),A.Promise=A,A.version="3.5.5",t("./call_get.js")(A),t("./generators.js")(A,e,y,p,u,T),t("./map.js")(A,m,e,p,y,T),t("./nodeify.js")(A),t("./promisify.js")(A,y),t("./props.js")(A,m,p,e),t("./race.js")(A,y,p,e),t("./reduce.js")(A,m,e,p,y,T),t("./settle.js")(A,m,T),t("./some.js")(A,m,e),t("./timers.js")(A,y,T),t("./using.js")(A,e,p,b,y,T),t("./any.js")(A),t("./each.js")(A,y),t("./filter.js")(A,y),c.toFastProperties(A),c.toFastProperties(A.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new A(y)),T.setBounds(f.firstLineError,c.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,l),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ci(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ci=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ai=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ai,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,o,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(o=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==s?function(t){s(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).H(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),c=s(function(){u.yn()},+t),r.cancellation()&&u.J(new o(c)),u.Xt()),u.zn(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,c,a=new o(s(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,c)},t=+t));return r.cancellation()?(c=this.then(),(i=c.H(v,d,void 0,a,void 0)).J(a)):i=this.H(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){s(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+c.classString(u));var s=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,s=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=s?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,s=n("./es5"),c=void 0===o,a={e:{}},f=void 0!==t?t:void 0!==r?r:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var c=u[o];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&s.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),A="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:A,env:function(t){return A?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new h}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var A,D,N={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return C.resolve()},nr:function(){}}},n.ir=function(t){throw new h("Not implemented")},n.rr=function(t){return C.resolve()},n.er=function(t){return C.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return C.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function O(t){D=t}Element.prototype.style={},b=(A=N).Ki,T=A.cr,E=A.dr,S=A.gr,R=S&&S.location,I=S&&S.navigator;var x,P=function(){},L=function(t){return t};(x=C)&&x.config({warnings:!1,longStackTraces:!1});var F,M,B,U,V,q;x&&(U=x.setScheduler(P),F=U,V={_r:function(t){M=t,F(B)},pr:B=function(){var t=M;t&&(M=void 0,t())}},x.setScheduler(V._r));function H(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function j(t,n,i){return n&&H(t.prototype,n),i&&H(t,i),t}function W(t,n){return(W=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function z(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,W(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(q||(q={}));var $=o?o.userAgent:"",X=$.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),G=$.match(/Android ([0-9\.]+)/i),Y=$.match(/Windows NT ([0-9\.]+)/i),K=$.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),J=$.match(/Firefox\/([0-9\.]+)/i),Q=$.match(/OPR\/(\d+\.\d+)/i),Z=$.match(/Tizen ([0-9\.]+)/i),tt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test($)||/(macintosh|mac(?=_powerpc)\s)/i.test($),this.Cr=/Windows NT/i.test($),this.Ar=Y?y(Y[1]):0,this.Dr=/Android/i.test($),this.Nr=G?y(G[1]):0,this.Or=/windows phone (8|8\.1)/i.test($),this.xr=/iPhone/i.test($),this.Pr=/iPad/i.test($),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test($),this.Mr=/Mobile Safari/i.test($),this.Br=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Ur=this.Or||this.Br||this.Dr||this.Mr,this.Vr=/CriOS/i.test($),this.qr=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Vr,this.Hr=Boolean(t.chrome||/Chrome/i.test($)||/CriOS/i.test($)),this.jr=X?w(X[1],10):0,this.Wr=/SMART-TV.*Tizen/i.test($),this.zr=Z?y(Z[1]):0,this.$r=/webos|web0s/i.test($),this.Xr=/Edge\/\d+/i.test($),this.Gr=/Trident/i.test($),this.Yr=this.Gr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Kr=/Vivaldi/i.test($),this.Jr=/Firefox/i.test($)&&!/Seamonkey/i.test($),this.Qr=J?y(J[1]):0,this.Zr=/Safari/i.test($)&&!/Chrome/i.test($)&&!this.Or&&!this.Wr,this.te=K?y(K[2]):0,this.ie=Boolean(Q),this.re=Q?y(Q[1]):0,this.ee=/CrKey/.test($),this.ue=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test($),this.oe="tvos"===q.br,this.se="tvos"===q.kr,this.ce=this.se||this.oe,this.ae="tvos"===q.Tr,this.fe="tvos"===q.Er,this.he="tvos"===q.Sr}return j(n,[{key:"ve",get:function(){return this.Rr}},{key:"de",get:function(){return this.Ir}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.Ar}},{key:"_e",get:function(){return this.Dr}},{key:"pe",get:function(){return this.Nr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.xr}},{key:"be",get:function(){return this.Pr}},{key:"Te",get:function(){return this.Lr}},{key:"Ee",get:function(){return this.Fr}},{key:"Se",get:function(){return this.Br}},{key:"Re",get:function(){return this.Mr}},{key:"Ie",get:function(){return this.Ur}},{key:"Ce",get:function(){return this.Vr}},{key:"Ae",get:function(){return this.qr}},{key:"De",get:function(){return this.jr}},{key:"Ne",get:function(){return this.Wr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.$r}},{key:"Pe",get:function(){return this.Xr}},{key:"Le",get:function(){return this.Gr}},{key:"Fe",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Kr}},{key:"Be",get:function(){return this.Jr}},{key:"Ue",get:function(){return this.Qr}},{key:"Ve",get:function(){return this.Zr}},{key:"qe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}},{key:"je",get:function(){return this.re}},{key:"We",get:function(){return this.ee}},{key:"ze",get:function(){return this.ue}},{key:"$e",get:function(){return this.oe}},{key:"Xe",get:function(){return this.se}},{key:"Ge",get:function(){return this.ce}},{key:"Ye",get:function(){return this.ae}},{key:"Ke",get:function(){return this.fe}},{key:"Je",get:function(){return this.he}},{key:"Qe",get:function(){return this.Hr}}]),n}();tt.Ze=new tt;var nt=tt.Ze,it={}.hasOwnProperty,rt={}.toString;function et(t){return null!=t}var ut=Array.isArray||function(t){return"[object Array]"===rt.call(t)};function ot(t){return st(t)&&it.call(t,"length")&&vt(t.length)}function st(t){return"object"==typeof t&&null!==t}function ct(t){return st(t)&&t.constructor&&t.constructor===d}function at(t){return"string"==typeof t}function ft(t){return"boolean"==typeof t}function ht(t){return Boolean(t)&&"function"==typeof t.then}function vt(t){return"number"==typeof t}var dt=!(nt.Le&&!nt.Fe),lt=t.console;function wt(t){if(st(t))try{return JSON.stringify(t)}catch(t){}return t}function yt(t){return t.map(wt).join(" ")}function gt(t){var n=lt&&lt[t];return n?n.bind&&dt?n.bind(lt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];lt[t](yt(i))}:void 0}var _t,pt=gt("log")||P,mt=gt("warn")||pt.bind(void 0,"WARNING:"),kt=gt("error")||pt.bind(void 0,"ERROR:"),bt=(_t=lt&&lt.assert)?_t.bind&&dt?_t.bind(lt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lt.assert(t,yt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];kt.apply(void 0,["Assertion failed:"].concat(i))}},Tt=St,Et=null;try{Et=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function St(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Rt(t){return!0===(t&&t.tu)}St.prototype.tu,d.defineProperty(St.prototype,"tu",{value:!0}),St.isLong=Rt;var It={},Ct={};function At(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Ct[t])?r:(i=Nt(t,(0|t)<0?-1:0,!0),e&&(Ct[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=It[t])?r:(i=Nt(t,t<0?-1:0,!1),e&&(It[t]=i),i)}function Dt(t,n){if(g(t))return n?Vt:Ut;if(n){if(t<0)return Vt;if(t>=Ft)return zt}else{if(t<=-Mt)return $t;if(t+1>=Mt)return Wt}return t<0?Dt(-t,n).neg():Nt(t%Lt|0,t/Lt|0,n)}function Nt(t,n,i){return new St(t,n,i)}St.fromInt=At,St.fromNumber=Dt,St.fromBits=Nt;var Ot=l.pow;function xt(t,n,i){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ut;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw h("interior hyphen");if(0===r)return xt(t.substring(1),n,i).neg();for(var e=Dt(Ot(i,8)),u=Ut,o=0;o<t.length;o+=8){var s=l.min(8,t.length-o),c=w(t.substring(o,o+s),i);if(s<8){var a=Dt(Ot(i,s));u=u.mul(a).add(Dt(c))}else u=(u=u.mul(e)).add(Dt(c))}return u.unsigned=n,u}function Pt(t,n){return"number"==typeof t?Dt(t,n):"string"==typeof t?xt(t,n):Nt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}St.fromString=xt,St.fromValue=Pt;var Lt=4294967296,Ft=Lt*Lt,Mt=Ft/2,Bt=At(1<<24),Ut=At(0);St.ZERO=Ut;var Vt=At(0,!0);St.UZERO=Vt;var qt=At(1);St.ONE=qt;var Ht=At(1,!0);St.UONE=Ht;var jt=At(-1);St.NEG_ONE=jt;var Wt=Nt(-1,2147483647,!1);St.MAX_VALUE=Wt;var zt=Nt(-1,-1,!0);St.MAX_UNSIGNED_VALUE=zt;var $t=Nt(0,-2147483648,!1);St.MIN_VALUE=$t;var Xt=St.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Lt+(this.low>>>0):this.high*Lt+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($t)){var n=Dt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Dt(Ot(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq($t)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return Rt(t)||(t=Pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(Rt(t)||(t=Pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq($t)?$t:this.not().add(qt)},Xt.neg=Xt.negate,Xt.add=function(t){Rt(t)||(t=Pt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,Nt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return Rt(t)||(t=Pt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Ut;if(Rt(t)||(t=Pt(t)),Et)return Nt(Et.mul(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned);if(t.isZero())return Ut;if(this.eq($t))return t.isOdd()?$t:Ut;if(t.eq($t))return this.isOdd()?$t:Ut;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Bt)&&t.lt(Bt))return Dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,Nt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(Rt(t)||(t=Pt(t)),t.isZero())throw h("division by zero");var n,i,r;if(Et)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Nt((this.unsigned?Et.div_u:Et.div_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Vt:Ut;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Vt;if(t.gt(this.shru(1)))return Ht;r=Vt}else{if(this.eq($t))return t.eq(qt)||t.eq(jt)?$t:t.eq($t)?qt:(n=this.shr(1).div(t).shl(1)).eq(Ut)?t.isNegative()?qt:jt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq($t))return this.unsigned?Vt:Ut;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ut}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Ot(2,e-48),o=Dt(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Dt(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=qt),r=r.add(o),i=i.sub(s)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return Rt(t)||(t=Pt(t)),Et?Nt((this.unsigned?Et.rem_u:Et.rem_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return Nt(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Nt(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Nt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(Rt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Nt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Nt(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?Nt(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:Nt(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},St.fromBytes=function(t,n,i){return i?St.fromBytesLE(t,n):St.fromBytesBE(t,n)},St.fromBytesLE=function(t,n){return new St(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},St.fromBytesBE=function(t,n){return new St(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Gt=Tt,Yt=l.pow(2,-52);function Kt(t,n,i){return l.min(l.max(t,n),i)}function Jt(t,n,i){return t===n||l.abs(t-n)<=i}function Qt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function tn(t){return t/1e3}var nn;Gt.fromNumber(9007199254740991);function rn(t){return t.nu===nn.iu}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.iu=1]="iu",t[t.ru=2]="ru",t[t.eu=3]="eu",t[t.uu=4]="uu",t[t.ou=9]="ou"}(nn||(nn={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(un.prototype=d.create(h.prototype)).constructor=un;var on=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,h.captureStackTrace&&h.captureStackTrace(en(r),r.constructor),r}return z(n,t),j(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return z(n,t),n}(on),cn=function(){function t(){}return t.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new wn(n)},t}(),an=function(){function t(t){this.cu=void 0,this.cu=t}var n=t.prototype;return n.au=function(t){return this.cu.isEqualNode(t.cu)},n.fu=function(n){return new t(this.cu.cloneNode(n))},j(t,[{key:"nu",get:function(){return nn.ru}},{key:"hu",get:function(){var t;return null!=(t=this.cu.localName)?t:_n(this.cu.nodeName)}},{key:"vu",get:function(){return this.cu.nodeName}},{key:"du",get:function(){var t;return null!=(t=this.cu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.cu.prefix)?t:void 0}},{key:"wu",get:function(){return this.cu.nodeValue}}]),t}(),fn=function(){function t(t){this.yu=void 0,this.gu=void 0,this.yu=t}var n=t.prototype;return n._u=function(t){return this.pu.filter(function(n){return yn(n)&&n.mu===t})},n.ku=function(t,n){return this.pu.filter(function(i){return yn(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.yu.appendChild(t.Tu),this.gu&&this.gu.push(t)},n.au=function(t){return this.yu.isEqualNode(t.Tu)},j(t,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=function(t){for(var n=[],i=0;i<t.length;i++){var r=gn(t.item(i));r&&n.push(r)}return n}(this.yu.childNodes)),this.gu}},{key:"Eu",get:function(){return this.pu.filter(yn)}},{key:"Tu",get:function(){return this.yu}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.Su=function(t){if(this.yu.hasAttribute(t))return this.yu.getAttribute(t)},i.Ru=function(t,n){if(this.yu.hasAttributeNS(t,n))return this.yu.getAttributeNS(t,n)},i.Iu=function(t){this.yu.removeAttribute(t)},i.Cu=function(t,n){this.yu.removeAttributeNS(t,n)},i.Au=function(t,n){this.yu.setAttribute(t,n)},i.Du=function(t,n,i){this.yu.setAttributeNS(t,n,i)},i.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.iu}},{key:"hu",get:function(){var t;return null!=(t=this.yu.localName)?t:_n(this.yu.nodeName)}},{key:"du",get:function(){var t;return null!=(t=this.yu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.yu.prefix)?t:void 0}},{key:"mu",get:function(){return this.yu.nodeName}},{key:"Nu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.yu.attributes)}},{key:"Ou",get:function(){return this.yu.textContent}}]),n}(fn),vn=function(){function t(t){this.yu=void 0,this.yu=t}return t.prototype.au=function(t){return this.xu===t.xu},j(t,[{key:"xu",get:function(){return this.yu.nodeValue}},{key:"Tu",get:function(){return this.yu}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.eu}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.uu}}]),n}(vn),wn=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.ou}},{key:"Pu",get:function(){return new hn(this.yu.documentElement)}}]),n}(fn);function yn(t){return rn(t)}function gn(t){switch(t.nodeType){case nn.iu:return new hn(t);case nn.eu:return new dn(t);case nn.uu:return new ln(t)}}function _n(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function mn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){kn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Cn=/^[0-7]+$/,An=d.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Nn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return Dn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Fn(t){return Ln(t)||Pn(t)}function Mn(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return xn(t)?t+32:t}function Un(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var qn=l.min,Hn=String.fromCharCode,jn=16384;function Wn(t){for(var n=t.length,i=[],r=0;r<n;r+=jn){var e=qn(r+jn,n);i.push(Hn.apply(null,t.slice(r,e)))}return i.join("")}var zn=/[^\0-\x7E]/,$n=/[\x2E\u3002\uFF0E\uFF61]/g,Xn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Gn=l.floor,Yn=String.fromCharCode;function Kn(t){throw new RangeError(Xn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Qn,Zn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Gn(t/700):t>>1,t+=Gn(t/n);t>455;r+=36)t=Gn(t/35);return Gn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace($n,".")).split("."),n).join(".");return r+e}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Yn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Gn((2147483647-e)/w)&&Kn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Kn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Yn(ni(k+b%T,0))),p=Gn(b/T)}n.push(Yn(ni(p,0))),u=ii(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Wn(n)}function ui(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function si(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ci(t){for(var n=[],i=0;i<t.length;i++){si(t[i],n)}return n}function ai(){if(ti>=Zn)throw new h("Invalid byte index");var t=255&Qn[ti];if(ti++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function fi(){var t,n;if(ti>Zn)throw new h("Invalid byte index");if(ti===Zn)return!1;if(t=255&Qn[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ui(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function hi(t){return[37,Vn(t>>4),Vn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function wi(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function gi(t){return yi(t)||39===t}function _i(t,n){if(!n(t))return[t];for(var i=ci([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,hi(u))}return r}function pi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var u=e[r];i.push.apply(i,_i(u,n))}return ei(i)}function mi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var u=Un(t[r+1])<<4|Un(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ci(t))}function ki(t){return ei(function(t){Qn=t.slice(),Zn=Qn.length,ti=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(mi(Jn(t))))}function bi(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&En.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,s>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!Tn.test(t[a]))throw new v;for(;a<u&&Tn.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}o[s]=o[s]<<8|l,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;o[s]=f,s+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new v;return o}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Cn),""===t?0:i.test(t)?w(t,n):void 0}var Ei={Lu:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Lu:2,Fu:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new v("Invalid code point in opaque host");var n=pi(t,vi);return""===n?Ei:{Lu:3,$i:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Si.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ti(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*l.pow(256,3-c);return s}}(i);return void 0!==r?{Lu:1,Fu:r}:""===i?Ei:{Lu:0,Mu:i}}function Ci(t){switch(t.Lu){case 0:return t.Mu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Fu)+"]";case 3:return t.$i;case 4:return""}}var Ai=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Ai," "),s=s.replace(Ai," ");var c=ki(o),a=ki(s);i.push([c,a])}}return i}function Ni(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(ci(Jn(r[0])))+"="+Oi(ci(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Fn(n)?i.push(e):i.push.apply(i,hi(e))}return Wn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Fi(u))if(Mi(u)||e===i-1)r.push(Li);else{var o=t.charCodeAt(e+1);Mi(o)?(r.push(u,o),e++):r.push(Li)}else r.push(u)}return t.slice(0,n)+Wn(r)}(n,i.index):n}var Li=65533,Fi=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ui(t){t.Bu.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Bu,Di(n))}function qi(t){if(t.Uu){var n=Ni(t.Bu);""===n&&(n=null),t.Uu.Uu.Vu=n}}var Hi=function(){function t(t){if(void 0===t&&(t=void 0),this.Uu=null,null==t)this.Bu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Hi&&Dn(u.Bu)&&(!Nn||u[Symbol.iterator]===ji))this.Bu=t.Bu.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!Nn&&"function"==typeof t[Symbol.iterator])}(t)){this.Bu=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Bu.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Bu=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Bu.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Bu=Di(t);var u}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Bu.push([t,n]),qi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}qi(this)},n.get=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Bu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Bu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),qi(this)},n.sort=function(){mn(this.Bu,Bi),qi(this)},n.toString=function(){return Ni(this.Bu)},n.entries=function(){return new Xi(this.Bu,Wi)},n.keys=function(){return new Xi(this.Bu,zi)},n.values=function(){return new Xi(this.Bu,$i)},n.forEach=function(t){var n=this;this.Bu.forEach(function(i){return t(i[1],i[0],n)})},t}(),ji=Hi.prototype.entries;Nn&&(Hi.prototype[Symbol.iterator]=ji);var Wi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},$i=function(t){return t[1]},Xi=function(){function t(t,n){this.qu=0,this.Bu=t,this.Hu=n}return t.prototype.next=function(){return this.qu<this.Bu.length?{done:!1,value:this.Hu(this.Bu[this.qu++])}:{done:!0,value:void 0}},t}(),Gi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Ki=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function Qi(t){return Ki.test(t)}function Zi(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.ju)}function ir(t){return""!==t.Wu||""!==t.zu}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&er(Wn(t))}function or(t){return er(t)&&":"===t[1]}function sr(t){var n=t.$u;0!==n.length&&("file"===t.ju&&1===n.length&&or(n[0])||n.pop())}function cr(t){return null===t.Xu||Ei===t.Xu||t.Gu||"file"===t.ju}var ar=-1,fr=/\t|\n|\r/g,hr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(hr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Jn(t=t.replace(fr,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Bn(d)),e=1;break;case 1:if(Fn(d)||43===d||45===d||46===d)u.push(Bn(d));else{if(58!==d){if(null===r){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=ei(u);if(null!==r){if(tr(i.ju)&&!tr(l))return;if(!tr(i.ju)&&tr(l))return;if((ir(i)||null!==i.Yu)&&"file"===l)return;if("file"===i.ju&&(i.Xu===Ei||null===i.Xu))return}if(i.ju=l,null!==r)return void(nr(i)&&i.Yu===Yi[i.ju]&&(i.Yu=null));u.length=0,"file"===i.ju?e=13:nr(i)&&n&&n.ju===i.ju?e=3:nr(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Gu=!0,i.$u.push(""),e=18)}break;case 2:if(!n||n.Gu&&35!==d)throw new v("Invalid scheme");n.Gu&&35===d?(i.ju=n.ju,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",i.Gu=!0,e=20):"file"!==n.ju?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:i.ju=n.ju,ar===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu):47===d?e=6:63===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu="",e=19):35===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):92===d&&nr(i)?e=6:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.$u.pop(),e=17,h-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=ei(_i(g,wi));c?i.zu+=_:i.Wu+=_}else c=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(o&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.ju)h-=1,e=15;else if(58!==d||s)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(h-=1,nr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(ir(i)||null!==i.Yu))return;var p=Ii(ei(u),nr(i));if(i.Xu=p,u.length=0,e=16,null!==r)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Ii(ei(u),nr(i));if(i.Xu=m,u.length=0,e=12,11===r)return}break;case 12:if(Ln(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var k=w(ei(u),10);if(k>65535)throw new v("Invalid port");i.Yu=k===Yi[i.ju]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.ju="file",47===d||92===d?e=14:n&&"file"===n.ju?ar===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu):63===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu="",e=19):35===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):(rr(a.slice(h))||(i.Xu=n.Xu,i.$u=n.$u.slice(),sr(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.ju&&!rr(a.slice(h))&&(or(n.$u[0])?i.$u.push(n.$u[0]):i.Xu=n.Xu),e=17,h-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(h-=1,null===r&&ur(u))e=17;else if(0===u.length){if(i.Xu=Ei,null!==r)return;e=16}else{var b=Ii(ei(u),nr(i));if(0===b.Lu&&"localhost"===b.Mu&&(b=Ei),i.Xu=b,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(h-=1)):null===r&&63===d?(i.Vu="",e=19):null===r&&35===d?(i.Ku="",e=20):ar!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var T=ei(u);if(Zi(T)?(sr(i),47===d||nr(i)&&92===d||i.$u.push("")):!Qi(T)||47===d||nr(i)&&92===d?Qi(T)||("file"===i.ju&&0===i.$u.length&&ur(u)&&(Ei!==i.Xu&&null!==i.Xu&&(i.Xu=Ei),u[1]=58,T=ei(u)),i.$u.push(T)):i.$u.push(""),u.length=0,"file"===i.ju&&(ar===d||63===d||35===d))for(;i.$u.length>1&&""===i.$u[0];)i.$u.shift();63===d?(i.Vu="",e=19):35===d&&(i.Ku="",e=20)}else u.push.apply(u,_i(d,li));break;case 18:63===d?(i.Vu="",e=19):35===d?(i.Ku="",e=20):ar!==d&&(i.$u[0]+=ei(_i(d,vi)));break;case 19:null===r&&35===d?(i.Ku="",e=20):ar!==d&&(i.Vu+=ei(_i(d,nr(i)?gi:yi)));break;case 20:ar===d||0===d||(i.Ku+=ei(_i(d,di)))}h++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.ju="",this.Wu="",this.zu="",this.Xu=null,this.Yu=null,this.$u=[],this.Vu=null,this.Ku=null,this.Gu=!1};function wr(t){switch(t.ju){case"blob":var n;try{n=vr(t.$u[0],null)}catch(t){return Gi}return wr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ju,r=t.Xu,e=t.Yu,i+"://"+Ci(r)+(null===e?"":":"+e);case"file":default:return Gi}var i,r,e}var yr,gr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof gr&&"object"==typeof i.Uu)e=n.Uu;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Vu;this.Uu=r,this.Vu=function(t){var n=new Hi;return null!==t&&Vi(n,t),n}(u),this.Vu.Uu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ju+":";if(null!==t.Xu?(i+="//",ir(t)&&(i+=t.Wu,""!==t.zu&&(i+=":"+t.zu),i+="@"),i+=Ci(t.Xu),null!==t.Yu&&(i+=":"+t.Yu)):null===t.Xu&&"file"===t.ju&&(i+="//"),t.Gu)i+=t.$u[0];else for(var r=0,e=t.$u;r<e.length;r++)i+="/"+e[r];return null!==t.Vu&&(i+="?"+t.Vu),n||null===t.Ku||(i+="#"+t.Ku),i}(this.Uu)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Uu=n,Ui(this.Vu);var i=this.Uu.Vu;null!==i&&Vi(this.Vu,i)}},{key:"origin",get:function(){return wr(this.Uu)}},{key:"protocol",get:function(){return this.Uu.ju+":"},set:function(t){dr(t+":",null,this.Uu,0)}},{key:"username",get:function(){return this.Uu.Wu},set:function(t){cr(this.Uu)||(this.Uu.Wu=pi(t,wi))}},{key:"password",get:function(){return this.Uu.zu},set:function(t){cr(this.Uu)||(this.Uu.zu=pi(t,wi))}},{key:"host",get:function(){var t=this.Uu,n=t.Xu;if(null===n)return"";var i=t.Yu,r=Ci(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Uu.Gu||dr(t,null,this.Uu,10)}},{key:"hostname",get:function(){var t=this.Uu.Xu;return null===t?"":Ci(t)},set:function(t){this.Uu.Gu||dr(t,null,this.Uu,11)}},{key:"port",get:function(){var t=this.Uu.Yu;return null===t?"":""+t},set:function(t){cr(this.Uu)||(""===t?this.Uu.Yu=null:dr(t,null,this.Uu,12))}},{key:"pathname",get:function(){var t=this.Uu.$u;return this.Uu.Gu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Uu.Gu||(this.Uu.$u.length=0,dr(t,null,this.Uu,16))}},{key:"search",get:function(){var t=this.Uu.Vu;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Uu;if(""===t)return n.Vu=null,void Ui(this.Vu);"?"===t[0]&&(t=t.slice(1)),n.Vu="",dr(t,null,n,19),Vi(this.Vu,t)}},{key:"searchParams",get:function(){return this.Vu}},{key:"hash",get:function(){var t=this.Uu.Ku;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Uu.Ku="",dr(t,null,this.Uu,20)):this.Uu.Ku=null}}])&&pn(n.prototype,i),r&&pn(n,r),t}();function _r(t){return t.document&&t.document.baseURI||t.location.href||""}function pr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function mr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function kr(){return void 0!==e?e.createElement("video"):void 0}function br(){return yr||(yr=kr()),yr}var Tr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Er=br(),Sr=!(!Er||!Er.webkitShowPlaybackTargetPicker),Rr=function(){function t(){this.Ju=void 0,this.Qu=!1,this.ve=Tr,this.Ie=!1,this.Zu=!0,this.to=!0}var n=t.prototype;return n.io=function(){return 0},n.ro=function(t,n){return!0},n.eo=function(t){return t>=1/6*2},j(t,[{key:"uo",get:function(){return void 0===this.Ju&&(this.Ju=this.io()),this.Ju}},{key:"oo",get:function(){return r.devicePixelRatio||1}},{key:"so",get:function(){return Sr}},{key:"co",get:function(){return!1}},{key:"ao",get:function(){return!0}},{key:"fo",get:function(){return nt.Ve}},{key:"ho",get:function(){return!0}}]),t}(),Ir=function(){var t=kr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(nt.Te)return!1;var t=kr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Cr=function(t){function n(n){var i;return(i=t.call(this)||this).vo=void 0,i.vo=n,i.vo&&(i.Qu=i.vo.Qu,i.ve=i.vo.ve,i.Zu=Ir&&i.vo.Zu),i}z(n,t);var i=n.prototype;return i.io=function(){return this.vo?this.vo.uo:t.prototype.io.call(this)},i.ro=function(n,i){return this.vo?this.vo.ro(n,i):t.prototype.ro.call(this,n,i)},i.eo=function(n){return this.vo?this.vo.eo(n):t.prototype.eo.call(this,n)},n}(Rr),Ar=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qu=!0,i.Ie=!0,i}return z(n,t),n}(Cr),Dr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.io=function(){return S.MediaSource?t.prototype.io.call(this):1},n}(Ar),Nr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.ro=function(n,i){return!(i.do>1920)&&t.prototype.ro.call(this,n,i)},j(n,[{key:"co",get:function(){return nt.Oe<3}},{key:"ao",get:function(){return nt.Oe>=3}}]),n}(Cr),Or=function(t){function n(){return t.call(this)||this}return z(n,t),n}(Rr),xr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.ro=function(t,n){if(t&&t.lo&&n&&n.lo){var i=Pr(t.lo,"mp4a.40.2")&&Pr(n.lo,"mp4a.40.5"),r=Pr(t.lo,"mp4a.40.5")&&Pr(n.lo,"mp4a.40.2"),e=Pr(t.lo,"mp4a.40.2")&&Pr(n.lo,"mp4a.40.34"),u=Pr(t.lo,"mp4a.40.34")&&Pr(n.lo,"mp4a.40.2"),o=Pr(t.lo,"mp4a.40.5")&&Pr(n.lo,"mp4a.40.34"),s=Pr(t.lo,"mp4a.40.34")&&Pr(n.lo,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},n}(Or);function Pr(t,n){return t.indexOf(n)>-1}var Lr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.eo=function(t){return t>=2},n}(Or),Fr=function(t){function n(){var n;return(n=t.call(this)||this).Qu=nt.qe>=11,n.Zu=nt.Ve&&!(nt.Se&&nt.qe<10),n}return z(n,t),n}(Or),Mr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),j(n,[{key:"ho",get:function(){return!1}}]),n}(Cr),Br=function(){function n(){var n;this.wo=void 0,this.yo=new cn,this._o=new Ur,this.po=(n=function(){if(nt.Be)return new xr;if(nt.Pe||nt.Le)return new Lr;if(nt.Ve)return new Fr;return new Or}(),nt.Se?new Dr(n):nt.Ie?new Ar(n):nt.Ne?new Nr(n):nt.xe?new Mr(n):new Cr(n)),this.mo=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wo=function(){return t.performance.now()}:this.wo=Zt}var i=n.prototype;return i.ko=function(){pt.apply(void 0,arguments)},i.bo=function(){mt.apply(void 0,arguments)},i.To=function(){kt.apply(void 0,arguments)},i.Eo=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,[t].concat(i))},i.So=function(t,n){return s(t,n)},i.Ro=function(t,n){return a(t,n)},i.Io=function(t){c(t)},i.Co=function(t){f(t)},i.su=function(t){return this.yo.su(t)},i.Ao=function(){return this.Do.Ao()},i.No=function(){return this.Do.No()},i.Oo=function(){return this.Do.Oo()},i.xo=function(){return this.Do.xo()},i.Po=function(){return this.Do.Po()},i.Lo=function(t,n){return this.Do.Lo(t,n)},i.Fo=function(t){return this.Do.Fo(t)},i.Mo=function(t,n){var i;return void 0===n&&(n=_r(S)),i="object"!=typeof n||n instanceof gr?n:n.href,new gr(t,i)},i.Bo=function(n,i){if(void 0===i&&(i=_r(S)),this.mo){var r=at(i)?i:i.toString();return new t.URL(n,r).href}return this.Mo(n,i).href},j(n,[{key:"Uo",get:function(){return this._o}},{key:"Vo",get:function(){return this.po}},{key:"qo",get:function(){return{Ho:o&&o.userAgent.match(/Android /i)?"Android":"other",jo:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Wo",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"zo",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ur=function(){function t(){}return j(t,[{key:"$o",get:function(){return o.oscpu}},{key:"Vo",get:function(){return o.platform}},{key:"Xo",get:function(){return o.vendor}},{key:"Go",get:function(){return o.vendorSub}}]),t}();var Vr=k(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=d.create(e.prototype),o=new N(r||[]);return u.Yo=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new h("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=C(o,i);if(s){if(s===_)continue;return s}}if("next"===i.method)i.sent=i.Ko=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:l,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Yo(n,t)}})}function I(t){var n;this.Yo=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"Jo")?Promise.resolve(f.Jo).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,C(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return _}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,_;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,_):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,_)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Jo:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ko=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function qr(){return(qr=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Hr(){var t=d.create(null);return t.__=void 0,delete t.__,t}function jr(){return new Xr}function Wr(t){var n=jr();for(var i in t)it.call(t,i)&&n.set(i,t[i]);return n}var zr,$r="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Xr=$r||(zr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Hr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Hr(),this.size=0},n.keys=function(){return new zr(this.data,function(t,n){return n})},n.values=function(){return new zr(this.data,function(t,n){return t[n]})},n.entries=function(){return new zr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Gr,Yr=$r||(Gr=function(){function t(t,n){this.Zo=void 0,this.ts=void 0,this.Zo=t,this.ts=n}var n=t.prototype;return n.next=function(){var t=this.Zo.next();return t.done?t:{value:this.ts(t.value),done:!1}},t}(),function(){function t(){this.rs=jr()}var n=t.prototype;return n.get=function(t){return this.rs.get(""+t)},n.set=function(t,n){return this.rs.set(""+t,n),this},n.has=function(t){return this.rs.has(""+t)},n.delete=function(t){return this.rs.delete(""+t)},n.clear=function(){this.rs.clear()},n.keys=function(){return new Gr(this.rs.keys(),function(t){return Number(t)})},n.values=function(){return this.rs.values()},n.entries=function(){return new Gr(this.rs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.rs.forEach(function(n,i){t(n,Number(i))})},j(t,[{key:"size",get:function(){return this.rs.size}}]),t}());var Kr,Jr="cenc",Qr="sinf",Zr="skd",te="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ne="com.microsoft.playready",ie="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",re="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ee="urn:uuid:"+re,ue="com.apple.fps.1_0";!function(t){t.es="playready",t.us="widevine",t.os="fairplay",t.ss="clearkey",t.cs="aes128"}(Kr||(Kr={}));var oe={as:Kr.es,fs:ne,hs:"cenc",vs:"9a04f079-9840-4286-ab92-e65be0885f95",ds:te,ls:"PlayReady"},se={as:Kr.us,fs:"com.widevine.alpha",hs:"cenc",vs:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ds:ie,ls:"Widevine"},ce={as:Kr.os,fs:ue,hs:"skd",vs:re,ds:ee,ls:"FairPlay"},ae=(Kr.os,{as:Kr.ss,fs:"org.w3.clearkey",hs:"cenc",vs:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ds:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ls:"ClearKey"});function fe(t,n,i){return t.split(n).join(i)}function he(t,n){return null!=t&&-1!==t.indexOf(n)}function ve(t,n){return null!=t&&t.substr(0,n.length)===n}function de(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function le(t,n){return t.toUpperCase()===n.toUpperCase()}function we(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return ge(n)}var ye=16384;function ge(t){var n=t.length;if(n<=ye)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ye)i.push(String.fromCharCode.apply(String,t.slice(r,r+ye)));return i.join("")}var _e=nt.Ae&&nt.De>=42||nt.Be&&nt.Ue>=38||nt.Pe||nt.Fe||nt.He&&nt.je>=29;function pe(t,n){return he(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[qr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[qr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var me=function(){function t(t){this.ys=void 0,this.gs=jr(),this._s=void 0,this.ys=t}var n=t.prototype;return n.Po=function(){return this.Fo(se)},n.No=function(){return this.Fo(ae)},n.xo=function(){return this.Fo(oe)},n.Oo=function(){return this.Fo(ce)},n.Fo=function(t){var n=t.ds,i=this.gs.get(n);if(i)return i;var r=this.Lo(t,'video/mp4; codecs="avc1.42000a"');return this.gs.set(n,r),r},n.Lo=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ys.ps(n.fs,[pe(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ys.ps(n.fs,[pe(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Ao=function(){return this._s||(this._s=this.ks()),this._s},n.ks=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(_e){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.No();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function ke(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){be(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&be(i,void 0,t.length,t),t}function be(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Te(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Ee(t,n){var i=t.indexOf(n);return-1!==i&&(Se(t,i),!0)}function Se(t,n){t.splice(n,1)}function Re(t,n){return-1!==t.indexOf(n)}function Ie(t){t.length=0}var Ce=function(){function t(){this.bs=!1,this.Ts=!1,this.Es=[],this.Ss=[]}var n=t.prototype;return n.Rs=function(){if(!this.bs&&!this.Ts){this.bs=!0;for(var t=0,n=this.Es.slice();t<n.length;t++){(0,n[t])()}this.Is()}},n.Is=function(){if(!this.Ts){this.Ts=!0;for(var t=0,n=this.Ss.slice();t<n.length;t++){(0,n[t])()}Ie(this.Es),Ie(this.Ss)}},n.Cs=function(t){this.Ts||this.Es.push(t)},n.As=function(t){this.Ts||Ee(this.Es,t)},n.Ds=function(t){this.Ts||this.Ss.push(t)},n.Ns=function(t){this.Ts||Ee(this.Ss,t)},t}(),Ae=function(){function t(){this.Os=new Ce}var n=t.prototype;return n.xs=function(){this.Os.Rs()},n.Is=function(){this.Os.Is()},n.Ps=function(t){var n=this.Os;if(!n.bs)if(t.bs)n.Rs();else if(!n.Ts&&!t.Ts){var i=function(){r(),n.Rs()},r=function r(){t.As(i),t.Ns(r),n.As(i),n.Ns(r)};t.Cs(i),t.Ds(r),n.Cs(i),n.Ds(r)}},n.Ls=function(){var n=new t,i=new t,r=n.Fs,e=i.Fs,u=this.Os,o=function(){r.bs&&e.Ts||e.bs&&r.Ts?u.Rs():r.Ts&&e.Ts&&u.Is()};r.Cs(o),e.Cs(o),r.Ds(o),e.Ds(o),n.Ps(u),i.Ps(u);return u.Ds(function(){r.As(o),e.As(o),r.Ns(o),e.Ns(o)}),[n,i]},j(t,[{key:"Fs",get:function(){return this.Os}}]),t}(),De=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return z(n,t),j(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function Ne(t){return t instanceof h&&"AbortError"===t.name}function Oe(t){if(t&&t.bs)throw new De}function xe(t){if(Ne(t))throw t}function Pe(t){if(!Ne(t))throw t}function Le(t,n){return n?new C(function(i,r){if(n.bs)return t.catch(P),r(new De);var e=function t(){n.As(t),r(new De)};n.Cs(e),t.then(function(t){n.As(e),i(t)},function(t){n.As(e),r(t)})}):t}function Fe(t,n){return t.then(function(t){return n.Is(),t},function(t){throw n.Is(),t})}var Me=C.resolve();function Be(t){Me.then(t)}function Ue(t){t.then(P,P)}function Ve(t){return qe.apply(this,arguments)}function qe(){return(qe=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(P)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function He(t){return t&&"function"!=typeof t?t.slice():t}function je(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var We,ze=function(){function t(t){var n=this;this.Ms=Hr(),this.Bs=void 0,this.Us=void 0,this.Vs=function(t){n.qs(t)},this.Us=t||this}var n=t.prototype;return n.Hs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.js(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.js(r,n)}},n.js=function(t,n){var i=this.Ms[t];i?"function"==typeof i?this.Ms[t]=[i,n]:i.push(n):this.Ms[t]=n},n.Ws=function(t){if("function"==typeof t){var n=this.Bs;n?"function"==typeof n?this.Bs=[n,t]:n.push(t):this.Bs=t}},n.zs=function(){this.Ms=Hr(),this.Bs=void 0},n.qs=function(t){var n=He(this.Ms[t.type]),i=He(this.Bs);je(this.Us,t,n),je(this.Us,t,i)},n.$s=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Xs(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Xs(r,n)}},n.Xs=function(t,n){var i=this.Ms[t];i&&("function"==typeof i?i===n&&(this.Ms[t]=void 0):Ee(i,n))},n.Gs=function(t){if("string"==typeof t)this.Ms[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ms[i]=void 0}},n.Ys=function(t){var n=this.Bs;n&&("function"==typeof n?n===t&&(this.Bs=void 0):Ee(n,t))},n.Ks=function(t,n){var i=this;return new C(function(r,e){if(n&&n.bs)return e(new De);var u=function(t){s(),r(t)},o=function(){s(),e(new De)},s=function(){i.$s(t,u),n&&n.As(o)};i.Hs(t,u),n&&n.Cs(o)})},t}(),$e=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.qs=function(n){var i=this;Be(function(){t.prototype.qs.call(i,n)})},n}(ze),Xe=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ge=["cenc"],Ye=["cbcs","cbcs-1-9"],Ke=function(t){function n(n){var i;return(i=t.call(this,"Qs")||this).Js=n,i}return z(n,t),n}(Xe),Je=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Zs")||this).Js=n,u.tc=i,u.Zs=r,u.nc=e,u}return z(n,t),n}(Xe),Qe=function(t){function n(){return t.call(this,"ic")||this}return z(n,t),n}(Xe);!function(t){t.rc="ec",t.uc="oc"}(We||(We={}));var Ze=function(t){function n(n,i){var r;return(r=t.call(this,We.rc)||this).hs=n,r.sc=i,r}return z(n,t),n}(Xe),tu=new _([0]).buffer,nu=function(){function t(){this.cc=void 0,this.cc=[]}var n=t.prototype;return n.ac=function(t){for(var n=0,i=this.cc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.fc=function(t){for(var n=0,i=this.cc;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.hc=function(t,n){this.cc.forEach(function(n){return t(n[1],n[0])},n)},n.vc=function(t,n){this.cc.push([t,n])},n.dc=function(){Ie(this.cc)},j(t,[{key:"lc",get:function(){return this.cc.length}}]),t}(),iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ru=16383,eu=/[\t\n\f\r ]/g;function uu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:ou()}function ou(){throw new h("Invalid base64 input")}function su(t){var n=t;eu.test(n)&&(n=n.replace(eu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return ou();for(var e,u=0===r?0:4-r,o=new _(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=uu(n.charCodeAt(c))<<18|uu(n.charCodeAt(c+1))<<12|uu(n.charCodeAt(c+2))<<6|uu(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=uu(n.charCodeAt(c))<<2|uu(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=uu(n.charCodeAt(c))<<10|uu(n.charCodeAt(c+1))<<4|uu(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function cu(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],iu[r>>2]+iu[(3&r)<<4|e>>4]+iu[(15&e)<<2|u>>6]+iu[63&u]));return o.join("")}function au(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ru)r.push(cu(t,u,l.min(e,u+ru)));if(1===i){var o=t[n-1];r.push(iu[o>>2]+iu[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(iu[s>>2]+iu[(3&s)<<4|c>>4]+iu[(15&c)<<2]+"=")}return r.join("")}var fu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],hu=ArrayBuffer.isView||function(t){return t&&Re(fu,rt.call(t))};function vu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new _(t),new _(n))}function du(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new _(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function lu(t){return su(t).buffer}function wu(t){return au(new _(t))}function yu(t){return au(Hu(t))}var gu=function(){function t(t){void 0===t&&(t=0),this.wc=t}var n=t.prototype;return n.yc=function(t){this.wc+=t},n.gc=function(t){this.wc=t},n._c=function(){return new t(this.pc)},j(t,[{key:"pc",get:function(){return this.wc}}]),t}();function _u(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function pu(t,n){return t>>n&63|128}function mu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(_u(t),n.push(t>>12&15|224),n.push(pu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(pu(t,12)),n.push(pu(t,6))),n.push(63&t|128)):n.push(t)}function ku(t,n){if(n.pc>=t.length)throw new h("Invalid byte index");var i=255&t[n.pc];if(n.yc(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function bu(t,n){var i=n.pc;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.yc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|ku(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|ku(t,n)<<6|ku(t,n);if(u>=2048)return _u(u),u;throw new h("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|ku(t,n)<<12|ku(t,n)<<6|ku(t,n);if(o>=65536&&o<=1114111)return o}throw new h("Invalid UTF-8 detected")}var Tu=65279;var Eu=function(){function t(t){this.mc=t}return t.prototype.kc=function(t){return function(t,n){return(t&n)===n}(this.mc,t)},t}();function Su(t,n){var i=t.getUint8(n.pc);return n.yc(1),i}function Ru(t,n,i){t.setUint8(n.pc,i),n.yc(1)}function Iu(t,n,i){var r=Gu(Ku(t),n.pc,n.pc+i);return n.yc(r.byteLength),r}function Cu(t,n,i){return n.pc+i<=t.byteLength}function Au(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.pc,i);return n.yc(2),r}function Du(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.pc,i,r),n.yc(2)}function Nu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.pc,i);return n.yc(4),r}function Ou(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.pc,i,r),n.yc(4)}function xu(t,n,i){void 0===i&&(i=!1);var r=Nu(t,n,i),e=Nu(t,n,i),u=i?e:r,o=i?r:e;return Gt.fromBits(o,u,!0)}function Pu(t,n){var i=Su(t,n);if(i)return String.fromCharCode(i)}function Lu(t,n){return function(t,n){return Bu(t,n,!0)}(t,n)}function Fu(t,n,i){for(var r="",e=0;e<i;e++)r+=Pu(t,n);return r}function Mu(t,n){var i,r=Su(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Su(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Su(t,n))+(63&Su(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Su(t,n))+64*(63&Su(t,n))+(63&Su(t,n))),i}function Bu(t,n,i){for(var r=[];n.pc<t.byteLength;){var e=Su(t,n);if(i&&!e)break;r.push(e)}return ge(r)}function Uu(t,n,i,r){for(var e=[];n.pc+2<=t.byteLength;){var u=Au(t,n,i);if(r&&!u)break;e.push(u)}return ge(e)}function Vu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Du(t,n,i.charCodeAt(u),r)}}function qu(t){return Bu(Yu(t),new no,!1)}function Hu(t){var n=new _(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Ru(t,n,i.charCodeAt(e))}(Yu(n),new no,t),n}function ju(t,n){return void 0===n&&(n=!1),Uu(Yu(t),new no,n,!1)}function Wu(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return Vu(Yu(i),new no,t,n),i}function zu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.pc+3<=t.byteLength&&239===t.getUint8(n.pc)&&187===t.getUint8(n.pc+1)&&191===t.getUint8(n.pc+2)})(t,n)&&n.yc(3);for(;n.pc<t.byteLength;){var e=Mu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return we(r)}(t,n,!0)}function $u(t){return we(function(t,n){var i,r=[],e=new no;if(!n){if(!1===(i=bu(t,e)))return r;i===Tu||r.push(i)}for(;!1!==(i=bu(t,e));)r.push(i);return r}(Ku(t)))}function Xu(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)mu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Gu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function Yu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ku(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function Ju(t){return t instanceof ArrayBuffer||hu(t)}function Qu(t){return t instanceof ArrayBuffer?new _(t):Ku(t)}function Zu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):to(Gu(t,n,i))}function to(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var no=function(){function t(t){void 0===t&&(t=0),this.wc=t}var n=t.prototype;return n.yc=function(t){this.wc+=t},n.gc=function(t){this.wc=t},n._c=function(){return new t(this.pc)},n.bc=function(){return new gu(this.pc<<3)},j(t,[{key:"pc",get:function(){return this.wc}}]),t}(),io=function(){function t(){var t=this;this.Tc=void 0,this.Fn=void 0,this.V=void 0,this.Tc=new C(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.Ec=function(t){this.Fn&&(this.Fn(t),this.Is())},n.Sc=function(t){this.V&&(this.V(t),this.Is())},n.xs=function(){this.Tc.catch(P),this.Sc(new De)},n.Is=function(){this.Fn=void 0,this.V=void 0},t}();function ro(){return new _([8,4]).buffer}function eo(t){return vu(t,ro())}function uo(t,n){return t===ne?function(t){if(t.byteLength<2*oo.length)return t;if(ju(new DataView(t,0,2*oo.length),!0)===oo)return t;return n=t,Wu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+wu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var oo="<PlayReady";var so=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Rc=void 0,u.Ic=void 0,u.Rc=i,u.Ic=r,u}return z(n,t),n}(on),co=function(t){function n(n,i){var r;(r=t.call(this)||this).Cc=void 0,r.Ac=!1,r.Dc=void 0,r.Nc=void 0,r.Oc=function(){r.xc()},r.Pc=function(t){r.qs(new Je(en(r),t.messageType,uo(r.Lc,t.message)))},r.Fc=function(){r.Ac=!0,r.Cc.lc>0&&(r.Cc.dc(),r.qs(new Ke(en(r)))),r.Mc.removeEventListener("keystatuseschange",r.Oc),r.Mc.removeEventListener("message",r.Pc)},r.Mc=n,r.Lc=i,r.Mc.addEventListener("keystatuseschange",r.Oc),r.Mc.addEventListener("message",r.Pc),r.Cc=new nu;var e=[];return r.Mc.closed&&e.push(C.resolve(r.Mc.closed)),r.Nc=new io,e.push(r.Nc.Tc),r.Dc=C.race(e).then(r.Fc,r.Fc),r.xc(),r}z(n,t);var i=n.prototype;return i.Bc=function(){if(this.Ac)return this.Dc;var t,n,i=[];return i.push(C.resolve(this.Mc.close())),i.push((t=1e3,new C(function(i,r){if(void 0!==n&&n.bs)r(new De);else{var e=D.So(function(){void 0!==n&&n.As(u),i()},t),u=function(){D.Io(e),r(new De)};void 0!==n&&n.Cs(u)}}))),this.Nc.Ec(C.race(i).catch(ao)),this.Ac=!0,this.Dc},i.Uc=function(t,n,i){return C.resolve(this.Mc.generateRequest(t,n)).catch(ao)},i.Vc=function(t){return C.resolve(this.Mc.load(t)).catch(ao)},i.qc=function(){return C.resolve(this.Mc.remove()).catch(ao)},i.Hc=function(t){return C.resolve(this.Mc.update(t)).catch(ao)},i.xc=function(){var t=this;this.Cc.dc(),this.Mc.keyStatuses.forEach(function(n,i){t.jc(i,n)}),this.qs(new Ke(this))},i.jc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Qu(t);if(this.Lc===ne&&16===r.byteLength){var e=Yu(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.Lc===ne&&"status-pending"===n&&(n="usable"),this.Cc.vc(r,n)},j(n,[{key:"Wc",get:function(){return this.Dc}},{key:"zc",get:function(){return this.Mc.expiration}},{key:"$c",get:function(){return this.Cc}},{key:"Xc",get:function(){return this.Mc.sessionId}}]),n}(ze);function ao(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new so(t.message,void 0,n,t)}var fo=function(){function t(t,n,i){this.Gc=t,this.Yc=n,this.Kc=i}var n=t.prototype;return n.Jc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new co(this.Gc.createSession(n),this.Yc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qc=function(t){return C.resolve(this.Gc.setServerCertificate(t))},n.Zc=function(t){return C.resolve(t.setMediaKeys(this.Gc))},n.ta=function(t){return C.resolve(t.setMediaKeys(null))},t}(),ho=function(){function t(t,n,i){this.na=t,this.Lc=n,this.ia=i}var n=t.prototype;return n.ra=function(){var t=C.coroutine(Vr.mark(function t(){var n;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.na.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new fo(n,this.Lc,this.ia));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ea=function(){return this.ia},j(t,[{key:"Yc",get:function(){return this.na.keySystem}}]),t}();function vo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function lo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ua:r.ua},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return wo(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return wo(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function wo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Re(n,r.encryptionScheme))&&(!r.robustness&&t(i,vo(r.contentType))))}function yo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function go(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function _o(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(po))||!(!t.videoCapabilities||!t.videoCapabilities.some(po))}function po(t){return!t.robustness}function mo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(qr({},e,{robustness:n}))}return i}var ko=function(){function t(){}return t.prototype.ps=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,s,c,a,f,h;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ua}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=go(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=go(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(_o)){t.next=14;break}return s=i.map(function(t){return i="SW_SECURE_CRYPTO",qr({},n=t,{videoCapabilities:n.videoCapabilities?mo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?mo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,s);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new ho(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new ho(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.oa=function(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess},t}(),bo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ac=!1,r.sa=void 0,r.ca=void 0,r.aa=void 0,r.fa=void 0,r.ha=void 0,r.Fc=function(){r.Ac=!0,r.sa.Ec(void 0),r.ha&&(r.ha.removeEventListener("mskeyclose",r.Fc),r.ha.removeEventListener("mskeymessage",r.va),r.ha.removeEventListener("mskeyerror",r.da),r.ha.removeEventListener("mskeyadded",r.la))},r.va=function(t){r.aa&&(r.aa.Ec(void 0),r.aa=void 0),r.qs(new Je(en(r),"license-request",to(t.message).buffer,t.destinationURL||void 0))},r.da=function(){var t=r.ha&&r.ha.error;if(t){var n=new so("Unknown CDM error",t.code,t.systemCode);if(r.aa)r.aa.Sc(n),r.aa=void 0;else if(r.ca)r.ca.Sc(n),r.ca=void 0;else switch(n.Rc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.wa("output-not-allowed");break;default:r.wa("internal-error")}}},r.la=function(){r.aa&&(r.wa("usable"),r.aa.Ec(void 0),r.aa=void 0),r.ca&&(r.wa("usable"),r.ca.Ec(void 0),r.ca=void 0)},r.ya=n,r.ga=i,r.sa=new io,r.fa=new nu,r}z(n,t);var i=n.prototype;return i.Uc=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),this.aa=new io,this.Jc(Qu(i),r),t.next=5,this.aa.Tc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Jc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.pa;return(i=n?this.ya.createSession(this.ga,t,r):this.ya.createSession(this.ga,t)).addEventListener("mskeyclose",this.Fc),i.addEventListener("mskeymessage",this.va),i.addEventListener("mskeyerror",this.da),i.addEventListener("mskeyadded",this.la),this.ha=i,this.wa("status-pending"),i},i.Vc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hc=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ca=new io,this._a(),this.ha){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(i=Qu(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ha.update(i),t.next=10,this.ca.Tc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){return!this.Ac&&this.ha&&(this.Ac=!0,this.ha.close()),this.sa.Tc},i.qc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._a=function(){if(this.Ac)throw new v("Already closing or closed.")},i.wa=function(t){this.fa.dc(),this.fa.vc(tu,t),this.qs(new Ke(this))},j(n,[{key:"Xc",get:function(){return this.ha&&this.ha.sessionId||""}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}(ze),To=function(){function t(t,n,i){this.ga=void 0,this.ya=t,this.Yc=n,this.Kc=i;var r=yo(i)||"video/mp4";this.ga=vo(r)}var n=t.prototype;return n.Jc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new bo(this.ya,this.ga));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qc=function(t){return C.resolve(!1)},n.Zc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.ya):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.ya),t.removeEventListener("loadedmetadata",i)}),C.resolve()},n.ta=function(t){return C.resolve()},t}(),Eo=function(){function t(t,n){this.Lc=t,this.ma=n}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=new S.MSMediaKeys(this.Lc);return C.resolve(new To(t,this.Lc,this.ma))},j(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),So=function(){function t(){}return t.prototype.ps=function(t,n){try{return C.resolve(function(t,n){if(!Ro())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=lo(Io,Ge,t,r);if(e)return new Eo(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.oa=function(){return Ro()},t}();function Ro(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Io(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var Co,Ao,Do=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sa=new io,e.ka=void 0,e.fa=new nu,e.ba=void 0,e.Ta=new io,e.da=function(){var t=e.ba&&e.ba.error;if(t){var n=new so("Unknown CDM error",t.code,t.systemCode);e.ka?(e.ka.Sc(n),e.ka=void 0):n.Rc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.wa("output-not-allowed"):e.wa("internal-error"),e.qs(new Qe)}},e.va=function(t){e.ka&&(e.ka.Ec(void 0),e.ka=void 0),e.qs(new Je(en(e),"license-request",to(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Ea=n,e.ga=i,e.Sa=r,e}z(n,t);var i=n.prototype;return i.Uc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ra;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=No(Qu(n),r,this.Sa);return this.ba=this.Ea.createSession(this.ga,e),this.ba.addEventListener("webkitkeymessage",this.va,!1),this.ba.addEventListener("webkitkeyerror",this.da,!1),this.wa("usable"),this.Ta.Ec(this.ba),this.Ta=new io,C.resolve()},i.Vc=function(t){return C.resolve(!0)},i.Hc=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Qu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.ka=new io,t.t0=this.ba,t.t0){t.next=9;break}return t.next=8,this.Ta.Tc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ka.Tc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){var t=this.ba;return t&&(t.removeEventListener("webkitkeymessage",this.va,!1),t.removeEventListener("webkitkeyerror",this.da,!1),t.close()),this.Ta.xs(),this.sa.Ec(void 0),this.sa.Tc},i.qc=function(){return C.resolve(void 0)},i.wa=function(t){this.fa.dc(),this.fa.vc(tu,t),this.qs(new Ke(this))},j(n,[{key:"Xc",get:function(){return this.ba?this.ba.sessionId:""}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}(ze);function No(t,n,i){var r=$u(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new no;return Ou(s,c,e,!0),Vu(s,c,r,!0),Ou(s,c,u,!0),Vu(s,c,n,!0),Ou(s,c,i.byteLength,!0),function(t,n,i){Ku(t).set(Ku(i),n.pc),n.yc(i.byteLength)}(s,c,i),new _(o)}(Co=n.ErrorCode||(n.ErrorCode={}))[Co.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Co[Co.LICENSE_ERROR=2e3]="LICENSE_ERROR",Co[Co.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Co[Co.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Co[Co.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Co[Co.SOURCE_INVALID=3e3]="SOURCE_INVALID",Co[Co.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Co[Co.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Co[Co.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Co[Co.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Co[Co.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Co[Co.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Co[Co.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Co[Co.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Co[Co.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Co[Co.NETWORK_ERROR=6e3]="NETWORK_ERROR",Co[Co.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Co[Co.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Co[Co.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Co[Co.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Co[Co.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Co[Co.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Co[Co.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Co[Co.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Co[Co.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Co[Co.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Co[Co.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Co[Co.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Co[Co.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Co[Co.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Co[Co.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Co[Co.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Co[Co.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Co[Co.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Co[Co.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Co[Co.AD_ERROR=1e4]="AD_ERROR",Co[Co.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Co[Co.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Ao=n.ErrorCategory||(n.ErrorCategory={}))[Ao.CONFIGURATION=1]="CONFIGURATION",Ao[Ao.LICENSE=2]="LICENSE",Ao[Ao.SOURCE=3]="SOURCE",Ao[Ao.MANIFEST=4]="MANIFEST",Ao[Ao.MEDIA=5]="MEDIA",Ao[Ao.NETWORK=6]="NETWORK",Ao[Ao.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ao[Ao.SUBTITLE=8]="SUBTITLE",Ao[Ao.VR=9]="VR",Ao[Ao.AD=10]="AD",Ao[Ao.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Oo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return z(i,t),j(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),xo=function(){function t(t,n,i){this.ga=void 0,this.Sa=void 0,this.Ea=t,this.Yc=n,this.Kc=i;var r=yo(i)||"video/mp4";this.ga=vo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ea},i.Jc=function(){var t=C.coroutine(Vr.mark(function t(i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sa){t.next=2;break}throw new Oo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Do(this.Ea,this.ga,this.Sa));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(t){return this.Sa=Qu(t),C.resolve(!0)},i.Zc=function(t){return t.webkitSetMediaKeys(this.Ea),C.resolve()},i.ta=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Po=function(){function t(t,n){this.Lc=t,this.ma=n}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=new S.WebKitMediaKeys(this.Lc);return C.resolve(new xo(t,this.Lc,this.ma))},j(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),Lo=function(){function t(){}return t.prototype.ps=function(t,n){try{return C.resolve(function(t,n){if(t!==ue)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Fo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=lo(Mo,Ye,t,r);if(e)return new Po(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.oa=function(){return Fo()},t}();function Fo(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function Mo(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var Bo,Uo=function(){function t(t){this.Ia=t}return t.prototype.ps=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ia;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.ps(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Vo=function(t){function n(n){var i;return(i=t.call(this)||this).aa=void 0,i.ka=void 0,i.sa=void 0,i.Ca=!1,i.Aa=void 0,i.Da=void 0,i.Na=void 0,i.Oa=void 0,i.xa=void 0,i.Lc=n,i.sa=new io,i.Da="",i.xa=new io,i.Na=new nu,i}z(n,t);var i=n.prototype;return i.Pa=function(){this.ka&&(this.wa("usable"),this.ka.Ec(void 0),this.ka=void 0)},i.La=function(t){var n=new so("Unknown CDM error",t.errorCode,t.systemCode);this.ka?(this.ka.Sc(n),this.ka=void 0):this.aa?(this.aa.Sc(n),this.aa=void 0):n.Rc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.wa("output-restricted"):1===n.Ic?this.wa("expired"):this.wa("internal-error")},i.Fa=function(t){0!==t.message.byteLength&&(this.aa&&(this.aa.Ec(void 0),this.aa=void 0),this.qs(new Je(this,"license-request",uo(this.Lc,to(t.message).buffer),t.defaultURL||void 0)))},i.Ma=function(t){this.Oa||(this.Oa=t,this.xa.Ec(t))},i.Bc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ca=!0,this.sa.Ec(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uc=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.aa=new io,this.Aa=Qu(i),t.t0=this.Oa,t.t0){t.next=8;break}return t.next=7,this.xa.Tc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Lc,this.Aa),t.next=12,this.aa.Tc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ka=new io,t.t0=this.Oa,t.t0){t.next=7;break}return t.next=6,this.xa.Tc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Lc,Qu(n),this.Aa,this.Xc),t.next=11,this.ka.Tc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Ca)throw new v("Already closing or closed.")},i.wa=function(t){this.Na.dc(),this.Na.vc(tu,t),this.qs(new Ke(this))},j(n,[{key:"$c",get:function(){return this.Na}},{key:"Xc",get:function(){return this.Da},set:function(t){this.Da=t}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"zc",get:function(){return NaN}}]),n}(ze),qo=function(){function t(t,n){var i=this;this.Oa=void 0,this.Ba=jr(),this.Ua=[],this.la=function(t){var n=i.Va(t.sessionId);n&&n.Pa()},this.qa=function(t){var n=i.Va(t.sessionId);n&&n.La(t)},this.Ha=function(t){var n=i.Va(t.sessionId);n&&n.Fa(t)},this.Yc=t,this.Kc=n}var n=t.prototype;return n.Zc=function(t){return this.Oa=t,this.Oa.addEventListener("webkitkeyadded",this.la),this.Oa.addEventListener("webkitkeyerror",this.qa),this.Oa.addEventListener("webkitkeymessage",this.Ha),this.Ba.forEach(function(n,i){return n.Ma(t)}),this.Ua.forEach(function(n){return n.Ma(t)}),C.resolve()},n.ta=function(t){return t.removeEventListener("webkitkeyadded",this.la),t.removeEventListener("webkitkeyerror",this.qa),t.removeEventListener("webkitkeymessage",this.Ha),this.Oa=void 0,C.resolve()},n.Jc=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){var e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Vo(this.Yc),this.Oa&&e.Ma(this.Oa),this.Ua.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Qc=function(t){return C.resolve(!1)},n.Va=function(t){if(t){var n=this.Ba.get(t);return n||((n=this.Ua.shift())?(n.Xc=t,this.Ba.set(t,n),n):void 0)}},t}(),Ho=function(){function t(t,n){this.Yc=t,this.ja=n}var n=t.prototype;return n.ra=function(){return C.resolve(new qo(this.Yc,this.ja))},n.ea=function(){return this.ja},t}(),jo=function(){function t(){}return t.prototype.ps=function(t,n){try{return C.resolve(Wo(t,n))}catch(t){return C.reject(t)}},t.oa=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Wo(t,n){if(!jo.oa())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=lo(zo,Ge,t,r);if(e)return new Ho(t,e)}throw new v("Unsupported key system configuration for "+t)}function zo(t,n){var i=br();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function $o(){return Bo||(Bo=function(){var t=[];Lo.oa()&&t.push(new Lo);ko.oa()&&t.push(new ko);So.oa()&&t.push(new So);jo.oa()&&t.push(new jo);return new Uo(t)}()),Bo}var Xo=function(){function t(){this.Wa=jr()}var n=t.prototype;return n.dc=function(t){this.Wa.delete(t)},n.za=function(){this.Wa.clear()},n.fc=function(t){return this.Wa.get(t)},n.$a=function(t,n){this.Wa.set(t,n)},t}(),Go=function(){function t(){}return t.Xa=function(){return t.Ze||(t.Ze=Yo.oa()?new Yo:new Xo),t.Ze},t.dc=function(n){t.Xa().dc(n)},t.za=function(){t.Xa().za()},t.fc=function(n){return t.Xa().fc(n)},t.$a=function(n,i){t.Xa().$a(n,i)},t}();Go.Ze=void 0;var Yo=function(n){function i(){return n.apply(this,arguments)||this}z(i,n),i.oa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.dc=function(n){t.sessionStorage.removeItem(n)},r.za=function(){t.sessionStorage.clear()},r.fc=function(n){return t.sessionStorage[n]},r.$a=function(n,i){t.sessionStorage[n]=i},i}(Go);var Ko=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Jo(t,n,i){var r=Ko([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=e.createElement("a");s.href=u,s.download=o,e.body.appendChild(s),s.click(),e.body.removeChild(s),URL.revokeObjectURL(u)}var Qo,Zo;!function(t){t.Ga="Ya",t.Ka="Ja",t.Qa="contentprotectionerror",t.Za="contentprotectionsuccess",t.tf="currentsourcechange",t.nf="destroy",t.if="durationchange",t.rf="emptied",t.rc="encrypted",t.ef="ended",t.uf="sf",t.cf="loadstart",t.af="manifestupdate",t.ff="nosupportedrepresentationfound",t.hf="offline",t.vf="online",t.df="pause",t.lf="play",t.wf="progress",t.yf="ratechange",t.gf="representationchange",t._f="resize",t.pf="seeked",t.mf="seeking",t.kf="segmentnotfound",t.bf="Tf",t.Ef="Sf",t.Rf="sourcechange",t.If="timeupdate",t.Cf="volumechange",t.Af="Df",t.Nf="metricschange"}(Qo||(Qo={})),function(t){t.Of="arraybuffer",t.xf="json",t.Pf="stream",t.eu="text"}(Zo||(Zo={}));var ts=function(){function t(n){var i=this;this.rs=void 0,this.rs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=ns(i),r=is(r);var e=i.toLowerCase();if(this.rs.hasOwnProperty(e)){var u=this.rs[e],o=u[1];u[1]=o?o+", "+r:r}else this.rs[e]=[i,r]},n.delete=function(t){var n=ns(t).toLowerCase();delete this.rs[n]},n.get=function(t){var n=ns(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},n.has=function(t){var n=ns(t).toLowerCase();return this.rs.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=ns(i)).toLowerCase();this.rs[r]=[i,is(n)]},n.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Lf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Ff=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Mf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function ns(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function is(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function es(){}var us=Number.isNaN||function(t){return t!=t},os=es;function ss(t){return"object"==typeof t&&null!==t||"function"==typeof t}function cs(t){return t.slice()}function as(t){return!1!==function(t){if("number"!=typeof t)return!1;if(us(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function fs(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function hs(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return ds(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ds(e,t,i)}}}return function(){return bs(void 0)}}function vs(t,n,i){var r=t[n];if(void 0!==r)return fs(r,t,i)}function ds(t,n,i){try{return bs(fs(t,n,i))}catch(t){return Ts(t)}}function ls(t){return t}function ws(t){if(t=Number(t),us(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ys(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var gs=C,_s=C.prototype.then,ps=C.resolve.bind(gs),ms=C.reject.bind(gs);function ks(t){return new gs(t)}function bs(t){return ps(t)}function Ts(t){return ms(t)}function Es(t,n,i){return _s.call(t,n,i)}function Ss(t,n,i){Es(Es(t,n,i),void 0,os)}function Rs(t,n){Ss(t,n)}function Is(t,n){Ss(t,void 0,n)}function Cs(t,n,i){return Es(t,n,i)}function As(t){Es(t,void 0,os)}var Ds=function(){function t(){this.Bf=0,this.Uf=0,this.mi={Vf:[],qf:void 0},this.Hf=this.mi,this.Bf=0,this.Uf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Uf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Hf,i=n;16383===n.Vf.length&&(i={Vf:[],qf:void 0}),n.Vf.push(t),i!==n&&(this.Hf=i,n.qf=i),++this.Uf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.Bf,r=i+1,e=t.Vf,u=e[i];return 16384===r&&(n=t.qf,r=0),--this.Uf,this.Bf=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Bf,i=this.mi,r=i.Vf;!(n===r.length&&void 0===i.qf||n===r.length&&(n=0,0===(r=(i=i.qf).Vf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.Bf;return t.Vf[n]},t}();function Ns(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Os(t,n){t.jf=!0,t.Wf=n,n.zf=t,"readable"===n.$f?Fs(t):"closed"===n.$f?function(t){Fs(t),Us(t)}(t):Ms(t,n.Xf)}function xs(t,n){return ja(t.Wf,n)}function Ps(t){"readable"===t.Wf.$f?Bs(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Ms(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Wf.zf=void 0,t.Wf=void 0}function Ls(t){return new v("Cannot "+t+" a stream using a released reader")}function Fs(t){t.Dc=ks(function(n,i){t.Gf=n,t.Yf=i})}function Ms(t,n){Fs(t),Bs(t,n)}function Bs(t,n){As(t.Dc),t.Yf(n),t.Gf=void 0,t.Yf=void 0}function Us(t){t.Gf(void 0),t.Gf=void 0,t.Yf=void 0}var Vs=rs("[[CancelSteps]]"),qs=rs("[[PullSteps]]");function Hs(t,n){void 0===n&&(n=!1);var i=new Ys(t);return i.jf=n,i}function js(t){return ks(function(n,i){var r={Fn:n,V:i};t.zf.Kf.push(r)})}function Ws(t,n,i){var r=t.zf;r.Kf.shift().Fn(Ns(n,i,r.jf))}function zs(t){return t.zf.Kf.length}function $s(t){var n=t.zf;return void 0!==n&&!!Ks(n)}var Xs,Gs,Ys=function(){function t(t){if(!1===qa(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ha(t))throw new v("This stream has already been locked for exclusive reading by another reader");Os(this,t),this.Kf=new Ds}return d.defineProperty(t.prototype,"closed",{get:function(){return Ks(this)?this.Dc:Ts(Qs("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ks(this)?void 0===this.Wf?Ts(Ls("cancel")):xs(this,t):Ts(Qs("cancel"))},t.prototype.read=function(){return Ks(this)?void 0===this.Wf?Ts(Ls("read from")):Js(this):Ts(Qs("read"))},t.prototype.releaseLock=function(){if(!Ks(this))throw Qs("releaseLock");if(void 0!==this.Wf){if(this.Kf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ps(this)}},t}();function Ks(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Kf")}function Js(t){var n=t.Wf;return n.Jf=!0,"closed"===n.$f?bs(Ns(void 0,!0,t.jf)):"errored"===n.$f?Ts(n.Xf):n.Qf[qs]()}function Qs(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof rs.asyncIterator&&((Xs={})[rs.asyncIterator]=function(){return this},Gs=Xs,d.defineProperty(Gs,rs.asyncIterator,{enumerable:!1}));var Zs={next:function(){if(!1===tc(this))return Ts(nc("next"));var t=this.Zf;return void 0===t.Wf?Ts(Ls("iterate")):Cs(Js(t),function(n){var i=n.done;return i&&Ps(t),Ns(n.value,i,!0)})},return:function(t){if(!1===tc(this))return Ts(nc("next"));var n=this.Zf;if(void 0===n.Wf)return Ts(Ls("finish iterating"));if(n.Kf.length>0)return Ts(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.th){var i=xs(n,t);return Ps(n),Cs(i,function(){return Ns(t,!0,!0)})}return Ps(n),bs(Ns(t,!0,!0))}};function tc(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Zf")}function nc(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ic(t){var n=t.Dn.shift();return t.nh-=n.size,t.nh<0&&(t.nh=0),n.value}function rc(t,n,i){if(!as(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.nh+=i}function ec(t){t.Dn=new Ds,t.nh=0}void 0!==Gs&&d.setPrototypeOf(Zs,Gs),d.defineProperty(Zs,"next",{enumerable:!1}),d.defineProperty(Zs,"return",{enumerable:!1});var uc=rs("[[AbortSteps]]"),oc=rs("[[ErrorSteps]]"),sc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ac(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=ys(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Ic.prototype);var u=hs(n,"write",1,[e]),o=hs(n,"close",0,[]),s=hs(n,"abort",1,[]);Cc(t,e,function(){return vs(n,"start",[e])},u,o,s,i,r)}(this,t,r=ws(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fc(this))throw Lc("locked");return hc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===fc(this)?Ts(Lc("abort")):!0===hc(this)?Ts(new v("Cannot abort a stream that already has a writer")):vc(this,t)},t.prototype.close=function(){return!1===fc(this)?Ts(Lc("close")):!0===hc(this)?Ts(new v("Cannot close a stream that already has a writer")):!0===gc(this)?Ts(new v("Cannot close an already-closing stream")):dc(this)},t.prototype.getWriter=function(){if(!1===fc(this))throw Lc("getWriter");return cc(this)},t}();function cc(t){return new mc(t)}function ac(t){t.$f="writable",t.Xf=void 0,t.ih=void 0,t.rh=void 0,t.eh=new Ds,t.uh=void 0,t.oh=void 0,t.sh=void 0,t.ah=void 0,t.fh=!1}function fc(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"rh")}function hc(t){return void 0!==t.ih}function vc(t,n){var i=t.$f;if("closed"===i||"errored"===i)return bs(void 0);if(void 0!==t.ah)return t.ah.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=ks(function(i,e){t.ah={un:void 0,Fn:i,V:e,Sn:n,hh:r}});return t.ah.un=e,!1===r&&wc(t,n),e}function dc(t){var n=t.$f;if("closed"===n||"errored"===n)return Ts(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=ks(function(n,i){var r={Fn:n,V:i};t.oh=r}),e=t.ih;return void 0!==e&&!0===t.fh&&"writable"===n&&$c(e),rc(i=t.rh,"close",0),Nc(i),r}function lc(t,n){"writable"!==t.$f?yc(t):wc(t,n)}function wc(t,n){var i=t.rh;t.$f="erroring",t.Xf=n;var r=t.ih;void 0!==r&&Ec(r,n),!1===function(t){if(void 0===t.uh&&void 0===t.sh)return!1;return!0}(t)&&!0===i.vh&&yc(t)}function yc(t){t.$f="errored",t.rh[oc]();var n=t.Xf;if(t.eh.forEach(function(t){t.V(n)}),t.eh=new Ds,void 0!==t.ah){var i=t.ah;if(t.ah=void 0,!0===i.hh)return i.V(n),void _c(t);Ss(t.rh[uc](i.Sn),function(){i.Fn(),_c(t)},function(n){i.V(n),_c(t)})}else _c(t)}function gc(t){return void 0!==t.oh||void 0!==t.sh}function _c(t){void 0!==t.oh&&(t.oh.V(t.Xf),t.oh=void 0);var n=t.ih;void 0!==n&&Vc(n,t.Xf)}function pc(t,n){var i=t.ih;void 0!==i&&n!==t.fh&&(!0===n?function(t){Hc(t)}(i):$c(i)),t.fh=n}var mc=function(){function t(t){if(!1===fc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===hc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.dh=t,t.ih=this;var n,i=t.$f;if("writable"===i)!1===gc(t)&&!0===t.fh?Hc(this):Wc(this),Bc(this);else if("erroring"===i)jc(this,t.Xf),Bc(this);else if("closed"===i)Wc(this),Bc(n=this),qc(n);else{var r=t.Xf;jc(this,r),Uc(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===kc(this)?Ts(Fc("closed")):this.Dc},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===kc(this))throw Fc("desiredSize");if(void 0===this.dh)throw Mc("desiredSize");return function(t){var n=t.dh,i=n.$f;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Dc(n.rh)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===kc(this)?Ts(Fc("ready")):this.lh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===kc(this)?Ts(Fc("abort")):void 0===this.dh?Ts(Mc("abort")):function(t,n){return vc(t.dh,n)}(this,t)},t.prototype.close=function(){if(!1===kc(this))return Ts(Fc("close"));var t=this.dh;return void 0===t?Ts(Mc("close")):!0===gc(t)?Ts(new v("Cannot close an already-closing stream")):bc(this)},t.prototype.releaseLock=function(){if(!1===kc(this))throw Fc("releaseLock");void 0!==this.dh&&Sc(this)},t.prototype.write=function(t){return!1===kc(this)?Ts(Fc("write")):void 0===this.dh?Ts(Mc("write to")):Rc(this,t)},t}();function kc(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"dh")}function bc(t){return dc(t.dh)}function Tc(t,n){"pending"===t.wh?Vc(t,n):function(t,n){Uc(t,n)}(t,n)}function Ec(t,n){"pending"===t.yh?zc(t,n):function(t,n){jc(t,n)}(t,n)}function Sc(t){var n=t.dh,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Ec(t,i),Tc(t,i),n.ih=void 0,t.dh=void 0}function Rc(t,n){var i=t.dh,r=i.rh,e=function(t,n){try{return t.gh(n)}catch(n){return Oc(t,n),1}}(r,n);if(i!==t.dh)return Ts(Mc("write to"));var u=i.$f;if("errored"===u)return Ts(i.Xf);if(!0===gc(i)||"closed"===u)return Ts(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Ts(i.Xf);var o=function(t){return ks(function(n,i){var r={Fn:n,V:i};t.eh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{rc(t,r,i)}catch(n){return void Oc(t,n)}var e=t._h;if(!1===gc(e)&&"writable"===e.$f){var u=xc(t);pc(e,u)}Nc(t)}(r,n,e),o}var Ic=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ss(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"_h"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._h.$f&&Pc(this,t)},t.prototype[uc]=function(t){var n=this.ph(t);return Ac(this),n},t.prototype[oc]=function(){ec(this)},t}();function Cc(t,n,i,r,e,u,o,s){n._h=t,t.rh=n,n.Dn=void 0,n.nh=void 0,ec(n),n.vh=!1,n.gh=s,n.mh=o,n.kh=r,n.bh=e,n.ph=u;var c=xc(n);pc(t,c),Ss(bs(i()),function(){n.vh=!0,Nc(n)},function(i){n.vh=!0,lc(t,i)})}function Ac(t){t.kh=void 0,t.bh=void 0,t.ph=void 0,t.gh=void 0}function Dc(t){return t.mh-t.nh}function Nc(t){var n=t._h;if(!1!==t.vh&&void 0===n.uh)if("erroring"!==n.$f){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t._h;(function(t){t.sh=t.oh,t.oh=void 0})(n),ic(t);var i=t.bh();Ac(t),Ss(i,function(){!function(t){t.sh.Fn(void 0),t.sh=void 0,"erroring"===t.$f&&(t.Xf=void 0,void 0!==t.ah&&(t.ah.Fn(),t.ah=void 0)),t.$f="closed";var n=t.ih;void 0!==n&&qc(n)}(n)},function(t){!function(t,n){t.sh.V(n),t.sh=void 0,void 0!==t.ah&&(t.ah.V(n),t.ah=void 0),lc(t,n)}(n,t)})}(t):function(t,n){var i=t._h;(function(t){t.uh=t.eh.shift()})(i),Ss(t.kh(n),function(){!function(t){t.uh.Fn(void 0),t.uh=void 0}(i);var n=i.$f;if(ic(t),!1===gc(i)&&"writable"===n){var r=xc(t);pc(i,r)}Nc(t)},function(n){"writable"===i.$f&&Ac(t),function(t,n){t.uh.V(n),t.uh=void 0,lc(t,n)}(i,n)})}(t,i.chunk)}}else yc(n)}function Oc(t,n){"writable"===t._h.$f&&Pc(t,n)}function xc(t){return Dc(t)<=0}function Pc(t,n){var i=t._h;Ac(t),wc(i,n)}function Lc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Fc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Mc(t){return new v("Cannot "+t+" a stream using a released writer")}function Bc(t){t.Dc=ks(function(n,i){t.Gf=n,t.Yf=i,t.wh="pending"})}function Uc(t,n){Bc(t),Vc(t,n)}function Vc(t,n){As(t.Dc),t.Yf(n),t.Gf=void 0,t.Yf=void 0,t.wh="rejected"}function qc(t){t.Gf(void 0),t.Gf=void 0,t.Yf=void 0,t.wh="resolved"}function Hc(t){t.lh=ks(function(n,i){t.Th=n,t.Eh=i}),t.yh="pending"}function jc(t,n){Hc(t),zc(t,n)}function Wc(t){Hc(t),$c(t)}function zc(t,n){As(t.lh),t.Eh(n),t.Th=void 0,t.Eh=void 0,t.yh="rejected"}function $c(t){t.Th(void 0),t.Th=void 0,t.Eh=void 0,t.yh="fulfilled"}function Xc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Gc="undefined"!=typeof DOMException?DOMException:void 0;var Yc,Kc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Gc)?Gc:((Yc=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(Yc.prototype,"constructor",{value:Yc,writable:!0,configurable:!0}),Yc);function Jc(t,n,i,r,e,u){var o=Hs(t),s=cc(n);t.Jf=!0;var c=!1,a=bs(void 0);return ks(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var i=new Kc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.$f?vc(n,i):bs(void 0)}),!1===e&&u.push(function(){return"readable"===t.$f?ja(t,i):bs(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,o.Dc,function(t){!1===r?m(function(){return vc(n,t)},!0,t):k(!0,t)}),p(n,s.Dc,function(n){!1===e?m(function(){return ja(t,n)},!0,n):k(!0,n)}),l=t,w=o.Dc,y=function(){!1===i?m(function(){return function(t){var n=t.dh,i=n.$f;return!0===gc(n)||"closed"===i?bs(void 0):"errored"===i?Ts(n.Xf):bc(t)}(s)}):k()},"closed"===l.$f?y():Rs(w,y),!0===gc(n)||"closed"===n.$f){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return ja(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Es(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.$f?i(t.Xf):Is(n,i)}function m(t,i,r){function e(){Ss(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.$f&&!1===gc(n)?Rs(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.$f&&!1===gc(n)?Rs(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Sc(s),Ps(o),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}As(ks(function(t,n){!function i(r){r?t():Es(!0===c?bs(!0):Es(s.lh,function(){return Es(Js(o),function(t){return!0===t.done||(a=Es(Rc(s,t.value),void 0,es),!1)})}),i,n)}(!1)}))})}var Qc=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Zc(this))throw aa("desiredSize");return oa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Zc(this))throw aa("close");if(!1===sa(this))throw new v("The stream is not in a state that permits close");ra(this)},t.prototype.enqueue=function(t){if(!1===Zc(this))throw aa("enqueue");if(!1===sa(this))throw new v("The stream is not in a state that permits enqueue");return ea(this,t)},t.prototype.error=function(t){if(!1===Zc(this))throw aa("error");ua(this,t)},t.prototype[Vs]=function(t){ec(this);var n=this.Sh(t);return ia(this),n},t.prototype[qs]=function(){var t=this.Rh;if(this.Dn.length>0){var n=ic(this);return!0===this.Ih&&0===this.Dn.length?(ia(this),Wa(t)):ta(this),bs(Ns(n,!1,t.zf.jf))}var i=js(t);return ta(this),i},t}();function Zc(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Rh")}function ta(t){!1!==na(t)&&(!0!==t.Ch?(t.Ch=!0,Ss(t.Ah(),function(){t.Ch=!1,!0===t.Dh&&(t.Dh=!1,ta(t))},function(n){ua(t,n)})):t.Dh=!0)}function na(t){var n=t.Rh;return!1!==sa(t)&&(!1!==t.vh&&(!0===Ha(n)&&zs(n)>0||oa(t)>0))}function ia(t){t.Ah=void 0,t.Sh=void 0,t.gh=void 0}function ra(t){var n=t.Rh;t.Ih=!0,0===t.Dn.length&&(ia(t),Wa(n))}function ea(t,n){var i=t.Rh;if(!0===Ha(i)&&zs(i)>0)Ws(i,n,!1);else{var r=void 0;try{r=t.gh(n)}catch(n){throw ua(t,n),n}try{rc(t,n,r)}catch(n){throw ua(t,n),n}}ta(t)}function ua(t,n){var i=t.Rh;"readable"===i.$f&&(ec(t),ia(t),za(i,n))}function oa(t){var n=t.Rh.$f;return"errored"===n?null:"closed"===n?0:t.mh-t.nh}function sa(t){var n=t.Rh.$f;return!1===t.Ih&&"readable"===n}function ca(t,n,i,r,e,u,o){n.Rh=t,n.Dn=void 0,n.nh=void 0,ec(n),n.vh=!1,n.Ih=!1,n.Dh=!1,n.Ch=!1,n.gh=o,n.mh=u,n.Ah=r,n.Sh=e,t.Qf=n,Ss(bs(i()),function(){n.vh=!0,ta(n)},function(t){ua(n,t)})}function aa(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var fa=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},ha=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===la(this))throw Da("view");return this.Nh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===la(this))throw Da("respond");if(void 0===this.Oh)throw new v("This BYOB request has been invalidated");this.Nh.buffer,function(t,n){if(!1===as(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ea(t,n)}(this.Oh,t)},t.prototype.respondWithNewView=function(t){if(!1===la(this))throw Da("respond");if(void 0===this.Oh)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.xh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ea(t,n.byteLength)}(this.Oh,t)},t}(),va=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===da(this))throw Na("byobRequest");if(void 0===this.Ph&&this.xh.length>0){var t=this.xh.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(ha.prototype);!function(t,n,i){t.Oh=n,t.Nh=i}(i,this,n),this.Ph=i}return this.Ph},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===da(this))throw Na("desiredSize");return Ca(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===da(this))throw Na("close");if(!0===this.Ih)throw new v("The stream has already been closed; do not close it again!");var t=this.Lh.$f;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Lh;if(t.nh>0)return void(t.Ih=!0);if(t.xh.length>0){var i=t.xh.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw Ia(t,r),r}}Ra(t),Wa(n)}(this)},t.prototype.enqueue=function(t){if(!1===da(this))throw Na("enqueue");if(!0===this.Ih)throw new v("stream is closed or draining");var n=this.Lh.$f;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Lh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=ls(r);if(!0===$s(i))if(0===zs(i))_a(t,o,e,u);else{var s=new _(o,e,u);Ws(i,s,!1)}else!0===Pa(i)?(_a(t,o,e,u),Ta(t)):_a(t,o,e,u);wa(t)}(this,t)},t.prototype.error=function(t){if(!1===da(this))throw Na("error");Ia(this,t)},t.prototype[Vs]=function(t){this.xh.length>0&&(this.xh.peek().bytesFilled=0);ec(this);var n=this.Sh(t);return Ra(this),n},t.prototype[qs]=function(){var t=this.Lh;if(this.nh>0){var n=this.Dn.shift();this.nh-=n.byteLength,ka(this);var i=void 0;try{i=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Ts(t)}return bs(Ns(i,!1,t.zf.jf))}var r=this.Fh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Ts(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.xh.push(u)}var o=js(t);return wa(this),o},t}();function da(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Lh")}function la(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Oh")}function wa(t){!1!==function(t){var n=t.Lh;if("readable"!==n.$f)return!1;if(!0===t.Ih)return!1;if(!1===t.vh)return!1;if(!0===$s(n)&&zs(n)>0)return!0;if(!0===Pa(n)&&xa(n)>0)return!0;if(Ca(t)>0)return!0;return!1}(t)&&(!0!==t.Ch?(t.Ch=!0,Ss(t.Ah(),function(){t.Ch=!1,!0===t.Dh&&(t.Dh=!1,wa(t))},function(n){Ia(t,n)})):t.Dh=!0)}function ya(t,n){var i=!1;"closed"===t.$f&&(i=!0);var r=ga(n);"default"===n.readerType?Ws(t,r,i):function(t,n,i){var r=t.zf;r.Mh.shift().Fn(Ns(n,i,r.jf))}(t,r,i)}function ga(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function _a(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.nh+=r}function pa(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.nh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.Dn;s>0;){var y=w.peek(),g=l.min(s,y.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,f=p,h=y.buffer,v=y.byteOffset,d=g,new _(a).set(new _(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.nh-=g,ma(t,g,n),s-=g}return c}function ma(t,n,i){ba(t),i.bytesFilled+=n}function ka(t){0===t.nh&&!0===t.Ih?(Ra(t),Wa(t.Lh)):wa(t)}function ba(t){void 0!==t.Ph&&(t.Ph.Oh=void 0,t.Ph.Nh=void 0,t.Ph=void 0)}function Ta(t){for(;t.xh.length>0;){if(0===t.nh)return;var n=t.xh.peek();!0===pa(t,n)&&(Sa(t),ya(t.Lh,n))}}function Ea(t,n){var i=t.xh.peek();if("closed"===t.Lh.$f){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ls(n.buffer);var i=t.Lh;if(!0===Pa(i))for(;xa(i)>0;)ya(i,Sa(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ma(t,n,i),!(i.bytesFilled<i.elementSize)){Sa(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);_a(t,u,0,u.byteLength)}i.buffer=ls(i.buffer),i.bytesFilled-=r,ya(t.Lh,i),Ta(t)}}(t,n,i);wa(t)}function Sa(t){var n=t.xh.shift();return ba(t),n}function Ra(t){t.Ah=void 0,t.Sh=void 0}function Ia(t,n){var i=t.Lh;"readable"===i.$f&&(!function(t){ba(t),t.xh=new Ds}(t),ec(t),Ra(t),za(i,n))}function Ca(t){var n=t.Lh.$f;return"errored"===n?null:"closed"===n?0:t.mh-t.nh}function Aa(t,n,i){var r=d.create(va.prototype);var e=hs(n,"pull",0,[r]),u=hs(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===fa(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.Lh=t,n.Dh=!1,n.Ch=!1,n.Ph=void 0,n.Dn=n.nh=void 0,ec(n),n.Ih=!1,n.vh=!1,n.mh=ws(u),n.Ah=r,n.Sh=e,n.Fh=o,n.xh=new Ds,t.Qf=n,Ss(bs(i()),function(){n.vh=!0,wa(n)},function(t){Ia(n,t)})}(t,r,function(){return vs(n,"start",[r])},e,u,i,o)}function Da(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Na(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Oa(t){return ks(function(n,i){var r={Fn:n,V:i};t.zf.Mh.push(r)})}function xa(t){return t.zf.Mh.length}function Pa(t){var n=t.zf;return void 0!==n&&!!Fa(n)}var La=function(){function t(t){if(!qa(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===da(t.Qf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ha(t))throw new v("This stream has already been locked for exclusive reading by another reader");Os(this,t),this.Mh=new Ds}return d.defineProperty(t.prototype,"closed",{get:function(){return Fa(this)?this.Dc:Ts(Ma("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Fa(this)?void 0===this.Wf?Ts(Ls("cancel")):xs(this,t):Ts(Ma("cancel"))},t.prototype.read=function(t){return Fa(this)?void 0===this.Wf?Ts(Ls("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Ts(new v("view must have non-zero byteLength")):function(t,n){var i=t.Wf;if(i.Jf=!0,"errored"===i.$f)return Ts(i.Xf);return function(t,n){var i=t.Lh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ls(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.xh.length>0)return t.xh.push(u),Oa(i);if("closed"===i.$f)return bs(Ns(new e(u.buffer,u.byteOffset,0),!0,i.zf.jf));if(t.nh>0){if(!0===pa(t,u)){var o=ga(u);return ka(t),bs(Ns(o,!1,i.zf.jf))}if(!0===t.Ih){var s=new v("Insufficient bytes to fill elements in the given buffer");return Ia(t,s),Ts(s)}}t.xh.push(u);var c=Oa(i);return wa(t),c}(i.Qf,n)}(this,t)):Ts(new v("view must be an array buffer view")):Ts(Ma("read"))},t.prototype.releaseLock=function(){if(!Fa(this))throw Ma("releaseLock");if(void 0!==this.Wf){if(this.Mh.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Ps(this)}},t}();function Fa(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Mh")}function Ma(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ba=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Va(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Aa(this,t,r=ws(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=ys(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Qc.prototype),u=hs(n,"pull",0,[e]),o=hs(n,"cancel",1,[]);ca(t,e,function(){return vs(n,"start",[e])},u,o,i,r)}(this,t,r=ws(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===qa(this))throw $a("locked");return Ha(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===qa(this)?Ts($a("cancel")):!0===Ha(this)?Ts(new v("Cannot cancel a stream that already has a reader")):ja(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===qa(this))throw $a("getReader");if(void 0===n)return Hs(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new La(t);return i.jf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===qa(this))throw $a("pipeThrough");if(!1===fc(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===qa(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Xc(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ha(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===hc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return As(Jc(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===qa(this)?Ts($a("pipeTo")):!1===fc(t)?Ts(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Xc(o)?!0===Ha(this)?Ts(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===hc(t)?Ts(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Jc(this,t,r,e,u,o):Ts(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===qa(this))throw $a("tee");var t=function(t,n){var i,r,e,u,o,s=Hs(t),c=!1,a=!1,f=!1,h=ks(function(t){o=t});function v(){return!0===c?bs(void 0):(c=!0,As(Cs(Js(s),function(t){if(c=!1,!0===t.done)return!1===a&&ra(e.Qf),void(!1===f&&ra(u.Qf));var n=t.value,i=n,r=n;!1===a&&ea(e.Qf,i),!1===f&&ea(u.Qf,r)})),bs(void 0))}function d(){}return e=Ua(d,v,function(n){if(a=!0,i=n,!0===f){var e=cs([i,r]),u=ja(t,e);o(u)}return h}),u=Ua(d,v,function(n){if(f=!0,r=n,!0===a){var e=cs([i,r]),u=ja(t,e);o(u)}return h}),Is(s.Dc,function(t){ua(e.Qf,t),ua(u.Qf,t)}),[e,u]}(this);return cs(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===qa(this))throw $a("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Hs(t),r=d.create(Zs);return r.Zf=i,r.th=Boolean(n),r}(this,i)},t}();function Ua(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(Ba.prototype);return Va(u),ca(u,d.create(Qc.prototype),t,n,i,r,e),u}function Va(t){t.$f="readable",t.zf=void 0,t.Xf=void 0,t.Jf=!1}function qa(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Qf")}function Ha(t){return void 0!==t.zf}function ja(t,n){return t.Jf=!0,"closed"===t.$f?bs(void 0):"errored"===t.$f?Ts(t.Xf):(Wa(t),Cs(t.Qf[Vs](n),es))}function Wa(t){t.$f="closed";var n=t.zf;void 0!==n&&(Ks(n)&&(n.Kf.forEach(function(t){t.Fn(Ns(void 0,!0,n.jf))}),n.Kf=new Ds),Us(n))}function za(t,n){t.$f="errored",t.Xf=n;var i=t.zf;void 0!==i&&(Ks(i)?(i.Kf.forEach(function(t){t.V(n)}),i.Kf=new Ds):(i.Mh.forEach(function(t){t.V(n)}),i.Mh=new Ds),Bs(i,n))}function $a(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof rs.asyncIterator&&d.defineProperty(Ba.prototype,rs.asyncIterator,{value:Ba.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Xa=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=ys(r);if(void 0===e&&(e=1),e=ws(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=ys(u);void 0===o&&(o=0),o=ws(o),function(t,n,i,r,e,u){function o(){return n}t.Bh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=d.create(sc.prototype);return ac(o),Cc(o,d.create(Ic.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Uh;if(!0===t.fh){var r=t.Vh;return Cs(r,function(){var r=t.Bh,e=r.$f;if("erroring"===e)throw r.Xf;return rf(i,n)})}return rf(i,n)}(t,n)},function(){return function(t){var n=t.qh,i=t.Uh,r=i.Hh();return tf(i),Cs(r,function(){if("errored"===n.$f)throw n.Xf;var t=n.Qf;!0===sa(t)&&ra(t)},function(i){throw Ya(t,i),n.Xf})}(t)},function(n){return function(t,n){return Ya(t,n),bs(void 0)}(t,n)},i,r),t.qh=Ua(o,function(){return function(t){return Ja(t,!1),t.Vh}(t)},function(n){return Ka(t,n),bs(void 0)},e,u),t.fh=void 0,t.Vh=void 0,t.jh=void 0,Ja(t,!0),t.Uh=void 0}(this,ks(function(t){c=t}),e,s,o,a),function(t,n){var i=d.create(Qa.prototype),r=function(t){try{return nf(i,t),bs(void 0)}catch(t){return Ts(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return ds(e,n,[t,i])}}var u=hs(n,"flush",0,[i]);!function(t,n,i,r){n.Wh=t,t.Uh=n,n.zh=i,n.Hh=r}(t,i,r,u)}(this,t);var f=vs(t,"start",[this.Uh]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ga(this))throw uf("readable");return this.qh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ga(this))throw uf("writable");return this.Bh},enumerable:!0,configurable:!0}),t}();function Ga(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Uh")}function Ya(t,n){ua(t.qh.Qf,n),Ka(t,n)}function Ka(t,n){tf(t.Uh),Oc(t.Bh.rh,n),!0===t.fh&&Ja(t,!1)}function Ja(t,n){void 0!==t.Vh&&t.jh(),t.Vh=ks(function(n){t.jh=n}),t.fh=n}var Qa=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Za(this))throw ef("desiredSize");return oa(this.Wh.qh.Qf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Za(this))throw ef("enqueue");nf(this,t)},t.prototype.error=function(t){if(!1===Za(this))throw ef("error");var n;n=t,Ya(this.Wh,n)},t.prototype.terminate=function(){if(!1===Za(this))throw ef("terminate");!function(t){var n=t.Wh,i=n.qh.Qf;!0===sa(i)&&ra(i);var r=new v("TransformStream terminated");Ka(n,r)}(this)},t}();function Za(t){return!!ss(t)&&!!d.prototype.hasOwnProperty.call(t,"Wh")}function tf(t){t.zh=void 0,t.Hh=void 0}function nf(t,n){var i=t.Wh,r=i.qh.Qf;if(!1===sa(r))throw new v("Readable side is not in a state that permits enqueue");try{ea(r,n)}catch(t){throw Ka(i,t),i.qh.Xf}(function(t){return!0!==na(t)})(r)!==i.fh&&Ja(i,!0)}function rf(t,n){return Cs(t.zh(n),void 0,function(n){throw Ya(t.Wh,n),n})}function ef(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function uf(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var of,sf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return z(n,t),j(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function cf(t){return n=[t],new Ba({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function af(t){return cf(new _(t))}function ff(t,n){return function(t,n){var i=n,r=t.getReader(),e=new io,u=function(){o();var t=new De;r.cancel(t).catch(P),e.Sc(t)},o=function(){i&&(i.As(u),i=void 0)};i&&(i.bs?u():i.Cs(u));var s=[];return C.resolve(r.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(r.read()).then(t))}).then(function(t){o(),e.Ec(t)},function(t){o(),e.Sc(t)}),e.Tc}(t,n).then(function(t){return du(t).buffer})}function hf(t,n){var i=n,r=new Xa,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.xs()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(P)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(P)}),e}function vf(t){return $u(new _(t))}function df(t){return Xu(t).buffer}!function(t){t[t.Pf=0]="Pf",t[t.$h=1]="$h"}(of||(of={}));var lf="content-type",wf="text/plain;charset=UTF-8",yf=function(){function t(){}var n=t.prototype;return n.Xh=function(t){return this.Gh(t).then(JSON.parse)},n.Yh=function(t,n){switch(t){case Zo.Of:return this.Kh(n);case Zo.xf:return this.Xh(n);case Zo.Pf:return this.Jh();case Zo.eu:return this.Gh(n);default:throw new v}},t}();function gf(t,n,i){if(t instanceof yf)return t;if(t instanceof Ba)return function(t,n){return new pf({as:of.Pf,Jh:t,Qh:_f(n)})}(t,i);var r=_f(i),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{as:Zo.eu,Zh:t,Qh:n||wf};if(t instanceof ArrayBuffer||hu(t))return{as:Zo.Of,Zh:Rf(t),Qh:n};if(ct(t)||ut(t))return{as:Zo.xf,Zh:t,Qh:n};throw new v("Unsupported BodyInit type")}return{as:Zo.eu,Zh:null,Qh:n}}(t,r)});return new pf({as:of.$h,Tc:e,tv:n})}function _f(t){return(t.get(lf)||"").toLowerCase()}var pf=function(t){function n(n){var i;return(i=t.call(this)||this).nv=!1,i.iv=void 0,i.rv=new io,i.rv.Tc.catch(P),i.ev(n),i}z(n,t);var i=n.prototype;return i.uv=function(){return this.rv.Tc},i.Gh=function(t){return this.ov(mf,t)},i.Xh=function(t){return this.ov(bf,t)},i.Kh=function(t){return this.ov(Ef,t)},i.Jh=function(){return this.sv((t=this.iv).as===of.Pf?t.Jh:hf(t.Tc.then(Sf).then(af),t.tv));var t},i.ov=function(t,n){if(this.nv)return C.reject(new v("Already used"));this.nv=!0;var i=t(this.iv,n);return this.rv.Ec(i.then(P)),i},i.sv=function(t){if(this.nv)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.nv=!0;var n=new Xa,i=C.resolve(t.pipeTo(n.writable));return this.rv.Ec(i),n.readable},i.ev=function(t){this.iv=t,t.as===of.$h&&t.Tc.catch(P)},i.cv=function(){if(this.nv)throw new v("Already used");var t=function(t){if(t.as===of.Pf){var n=t.Jh.tee(),i=n[0],r=n[1];return[{as:t.as,Jh:i,Qh:t.Qh},{as:t.as,Jh:r,Qh:t.Qh}]}var e=t.tv.Ls(),u=e[0],o=e[1];return[{as:t.as,Tc:t.Tc,tv:u},{as:t.as,Tc:t.Tc,tv:o}]}(this.iv),i=t[0],r=t[1];return this.ev(i),new n(r)},j(n,[{key:"av",get:function(){return this.nv}}]),n}(yf);function mf(t,n){return t.as===of.Pf?ff(t.Jh,n).then(vf):(n&&t.tv.Ps(n),Fe(t.Tc.then(kf),t.tv))}function kf(t){switch(t.as){case Zo.eu:return C.resolve(t.Zh||"");case Zo.Of:return C.resolve(t.Zh).then(vf);case Zo.xf:return C.resolve(t.Zh).then(JSON.stringify)}}function bf(t,n){return t.as===of.Pf?mf(t,n).then(JSON.parse):(n&&t.tv.Ps(n),Fe(t.Tc.then(Tf),t.tv))}function Tf(t){return t.as===Zo.xf?C.resolve(t.Zh):kf(t).then(JSON.parse)}function Ef(t,n){return t.as===of.Pf?ff(t.Jh,n):(n&&t.tv.Ps(n),Fe(t.Tc.then(Sf),t.tv))}function Sf(t){switch(t.as){case Zo.Of:return C.resolve(t.Zh);case Zo.eu:case Zo.xf:return kf(t).then(df)}}function Rf(t){return t instanceof ArrayBuffer?t:to(Ku(t)).buffer}function If(t){return t.fv>=200&&t.fv<=299||304===t.fv}var Cf,Af,Df,Nf,Of=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.hv,u=i.vv,o=i.fv,s=i.dv,c=i.lv):(e=[],u=Zo.eu,o=200,s="OK",c=!1);var a=n.wv,f=new ts(n.hv||e),h=n.vv||u,v=n.yv||(i&&i.wv===a?i.yv:a.gv),d=i?i._v:null,l=gf(void 0!==n.xu?n.xu:d,n.tv||new Ae,f);return(r=t.call(this,l)||this).hv=void 0,r.wv=void 0,r.yv=void 0,r.vv=void 0,r.fv=void 0,r.dv=void 0,r.lv=void 0,r.hv=f,r.wv=a,r.yv=v,r.vv=h,r.fv=void 0!==n.fv?n.fv:o,r.dv=void 0!==n.dv?String(n.dv):s,r.lv=n.lv||c,r}z(n,t);var i=n.prototype;return i.xu=function(t){return this.Yh(this.vv,t)},i._c=function(){return new n({xu:this.cv(),wv:this.wv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this)._v=void 0,i._v=n,i}z(n,t);var i=n.prototype;return i.uv=function(){return this._v.uv()},i.Gh=function(t){return this._v.Gh(t)},i.Xh=function(t){return this._v.Xh(t)},i.Kh=function(t){return this._v.Kh(t)},i.Jh=function(){return this._v.Jh()},i.cv=function(){return this._v.cv()},j(n,[{key:"av",get:function(){return this._v.av}}]),n}(yf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Cf||(Cf={})),function(t){t.pv="",t.mv="manifest",t.kv="segment",t.bv="content-protection"}(Af||(Af={})),function(t){t.pv="",t.Tv="initialization-segment",t.Ev="fairplay-license",t.Sv="fairplay-certificate",t.Rv="widevine-license",t.Iv="widevine-certificate",t.Cv="playready-license",t.Av="clearkey-license",t.Dv="aes128-key"}(Df||(Df={})),function(t){t.pv="",t.Nv="audio",t.Ov="video",t.eu="text",t.xv="image"}(Nf||(Nf={}));var xf=function(t,n){this.Zh=void 0,this.hv=void 0,this.Pv=void 0,this.vv=void 0,this.Lv=void 0,this.Fs=void 0,this.as=void 0,this.Fv=void 0,this.Mv=void 0,this.gv=void 0,this.Bv=void 0,this.Uv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.gv;n?(i=n.Zh,r=n.hv,e=n.Pv,u=n.vv,o=n.Lv,s=n.Fs,c=n.as,a=n.Fv,f=n.Mv,h=n.Bv,v=n.Uv):(i=null,r={},e=Cf.GET,u=Zo.eu,o=0,c=Af.pv,a=Df.pv,f=Nf.pv,h=!1),this.gv=d,this.Zh=t.Zh||i,this.hv=new ts(t.hv||r),this.Pv=t.Pv||e,this.vv=t.vv||u,this.Lv=void 0!==t.Lv?Number(t.Lv)||0:o,this.Fs=t.Fs||s||(new Ae).Fs,this.as=t.as||c,this.Fv=t.Fv||a,this.Mv=t.Mv||f,this.Bv=void 0!==t.Bv?Boolean(t.Bv):h,this.Uv=t.Uv||v},Pf=function(){function t(){}var n=t.prototype;return n.wv=function(t){var n=function(t){return new Of({xu:null,hv:{},wv:t,yv:t.gv,vv:t.vv,fv:0,dv:Qo.hf})}(new xf(t));return C.resolve(n)},n.Vv=function(t){},n.sr=function(){},t}();var Lf=function(){function t(t,n){void 0===n&&(n=!0),this.qv=void 0,this.Hv=void 0,this.qv=t,this.Hv=n}var n=t.prototype;return n.wv=function(t){var n=this.jv(t);return this.qv.wv(n)},n.Vv=function(t){return this.qv.Vv(this.Wv(t))},n.jv=function(n){var i=new xf(n);if(!this.Hv){var r=t.zv(i.gv);i=new xf({gv:r},i)}return i},n.Wv=function(n){var i=n.gv;return this.Hv||(i=t.zv(i)),{gv:i,Zh:n.Zh}},t.zv=function(t){return D.Wo&&ve(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.qv.sr()},j(t,null,[{key:"$v",get:function(){return t.Xv||(t.Xv=new t(new Pf)),t.Xv}}]),t}();function Ff(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Mf(t,n){var i=D.Bo(t);return n&&!de(i,"/")&&(i+="/"),i}Lf.Xv=void 0;var Bf,Uf=/cache:(.+)?(?=&|$)/,Vf="http://webcache.googleusercontent.com/search?q=cache:";function qf(t){if(!ve(t,Vf))return"";var n=D.Mo(t).search.match(Uf);return n&&n.length>1?n[1]:""}!function(t){t.Gv="HttpOpenError",t.Yv="HttpResponseError",t.Kv="HttpTimeoutError"}(Bf||(Bf={}));var Hf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Jv=void 0,e.Jv=n,e}return z(n,t),j(n,[{key:"wv",get:function(){return this.Jv}}]),n}(on);var jf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.gv+". Invalid URL.",i)||this}return z(n,t),j(n,[{key:"name",get:function(){return Bf.Gv}}]),n}(Hf);var Wf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.wv,null!=r?r:function(t){return"Error while loading "+t.wv.gv+", status code "+t.fv}(n),i)||this).Qv=void 0,e.Qv=n,e}return z(n,t),j(n,[{key:"name",get:function(){return Bf.Yv}},{key:"Zv",get:function(){return this.Qv}}]),n}(Hf);var zf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.gv+" timed out after "+t.Lv+" seconds."}(n),i)||this}return z(n,t),j(n,[{key:"name",get:function(){return Bf.Kv}}]),n}(Hf),$f=function(t,n){return($f=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Xf(t,n){function i(){this.constructor=t}$f(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Gf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Yf=function(){var t=Gf.Blob;if(t)try{return new t,function(t,n){return new Gf.Blob(t,n)}}catch(t){}var n,i=Gf.BlobBuilder||Gf.WebKitBlobBuilder||Gf.MozBlobBuilder||Gf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Kf="function"==typeof Ba?Ba:void 0;function Jf(t){return t&&"function"==typeof t.getReader}function Qf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Jf(i)}catch(t){return!1}}var Zf=function(){function t(t,n){this.zf=t,this.td=n}return t.prototype.pull=function(t){var n=this;return this.zf.read().then(function(i){n.td&&n.td(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.zf.cancel(t)},t}();function th(t,n){return n.constructor===t?n:new t(new Zf(n.getReader()),{highWaterMark:0})}var nh=function(){function t(t,n){this.nd=t,this.yt=n}return t.prototype.pull=function(t){return this.nd().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function ih(t,n,i){return new t(new nh(n,i),{highWaterMark:0})}var rh={searchParams:"URLSearchParams"in Gf,iterable:"Symbol"in Gf&&"iterator"in Symbol,blob:"FileReader"in Gf&&!!Yf,formData:"FormData"in Gf,arrayBuffer:"ArrayBuffer"in Gf,stream:Qf(Kf),streamRequest:"Request"in Gf&&"body"in Gf.Request.prototype,streamResponse:"Response"in Gf&&"body"in Gf.Response.prototype,abort:"AbortController"in Gf&&"Request"in Gf&&"signal"in Gf.Request.prototype,encoding:"TextEncoder"in Gf&&"TextDecoder"in Gf,url:"URL"in Gf&&function(t){try{return new Gf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Gf&&/Firefox\//.test(Gf.navigator.userAgent)};function eh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function uh(t){return"string"!=typeof t&&(t=String(t)),t}function oh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return rh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var sh=function(){function t(t){var n=this;this.rs={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return rh.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=eh(t),n=uh(n);var i=t.toLowerCase();if(this.rs.hasOwnProperty(i)){var r=this.rs[i],e=r[1];r[1]=e?e+", "+n:n}else this.rs[i]=[t,n]},t.prototype.delete=function(t){var n=eh(t).toLowerCase();delete this.rs[n]},t.prototype.get=function(t){var n=eh(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},t.prototype.has=function(t){var n=eh(t).toLowerCase();return this.rs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=eh(t)).toLowerCase();this.rs[i]=[t,uh(n)]},t.prototype.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),oh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),oh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),oh(t)},t.prototype.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ch(){}rh.iterable&&(sh.prototype[Symbol.iterator]=sh.prototype.entries);var ah,fh,hh,vh=l.min,dh=String.fromCharCode,lh=16384;function wh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=lh){var e=vh(r+lh,n);i.push(dh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function yh(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function gh(t,n){return t>>n&63|128}function _h(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(yh(t),n.push(t>>12&15|224),n.push(gh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(gh(t,12)),n.push(gh(t,6))),n.push(63&t|128)):n.push(t)}function ph(){if(hh>=fh)throw new h("Invalid byte index");var t=255&ah[hh];if(hh++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function mh(){var t,n;if(hh>fh)throw new h("Invalid byte index");if(hh===fh)return!1;if(t=255&ah[hh],hh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ph())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ph()<<6|ph())>=2048)return yh(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ph()<<12|ph()<<6|ph())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var kh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function bh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Th(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Eh(t){return t&&DataView.prototype.isPrototypeOf(t)}var Sh,Rh=ArrayBuffer.isView||function(t){return t&&(kh.indexOf(d.prototype.toString.call(t))>-1||Eh(t))};function Ih(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Ch(t){return new C(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Ah(t){return rh.encoding?new Gf.TextDecoder("utf-8").decode(new _(t)):wh(function(t){fh=(ah=t).length,hh=0;for(var n,i=[];!1!==(n=mh());)i.push(n);return i}(new _(t)))}function Dh(t){return rh.encoding?(new Gf.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,r=t;i<r.length;i++)_h(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Nh(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?C.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Oh(t){return Nh(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new _(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function xh(t){return t.slice?t.slice(0):Ph(new _(t))}function Ph(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Lh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Fh(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.rd===Sh.ed){if(!n.ud.tee)throw new h("could not clone ReadableStream body");var i=n.ud.tee(),r=i[0],e=i[1];return n.body=r,n.ud=r,n.od=r,e}return n.rd===Sh.Of?xh(n.ud):n.rd===Sh.$h?n.ud.then(Fh):n.od}!function(t){t[t.eu=0]="eu",t[t.sd=1]="sd",t[t.fd=2]="fd",t[t.Of=3]="Of",t[t.ed=4]="ed",t[t.$h=5]="$h"}(Sh||(Sh={}));var Mh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this.od=n||null,n)if("string"==typeof n)this.rd=Sh.eu,this.ud=n;else if((u=n)&&"function"==typeof u.then)this.rd=Sh.$h,this.ud=C.resolve(n).then(function(n){return new t(n,i)}),this.ud.catch(ch);else if(rh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.rd=Sh.sd,this.ud=n;else if(rh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.rd=Sh.fd,this.ud=n;else if(rh.searchParams&&bh(n))this.rd=Sh.eu,this.ud=n.toString();else if(rh.arrayBuffer&&(Th(n)||Rh(n)))Eh(n)&&(this.od=new _((e=n).buffer,e.byteOffset,e.byteLength)),this.rd=Sh.Of,this.ud=Th(r=n)?xh(r):Ph(r);else{if(!rh.stream||!Jf(n))throw new h("unsupported BodyInit type");n=th(Kf,n),this.rd=Sh.ed,this.ud=n,this.od=n}else this.rd=Sh.eu,this.ud="";this.hd="",i.has("content-type")?this.hd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.hd="text/plain;charset=UTF-8":o.rd===Sh.sd&&o.ud.type?this.hd=o.ud.type:rh.searchParams&&bh(n)&&(this.hd="application/x-www-form-urlencoded;charset=UTF-8"),this.hd&&i.set("content-type",this.hd)),rh.stream&&(null==n?this.body=null:o.rd===Sh.ed?this.body=o.ud:this.body=ih(Kf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ih(this);return r||(this.rd===Sh.sd?(t=this.ud,n=new FileReader,i=Ch(n),n.readAsText(t),i):this.rd===Sh.Of?C.resolve(this.ud).then(Ah):this.rd===Sh.ed?Oh(this.ud).then(Ah):this.rd===Sh.$h?this.ud.then(function(t){return t.text()}):this.rd===Sh.fd?C.reject(new h("could not read FormData body as text")):C.resolve(this.ud))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();rh.blob&&(Mh.prototype.blob=function(){var t,n,i=Ih(this);return i||(this.rd===Sh.sd?C.resolve(this.ud):this.rd===Sh.Of?C.resolve(Yf([this.ud],{type:this.hd})):this.rd===Sh.ed?(t=this.ud,n=this.hd,Nh(t).then(function(t){return Yf(t,{type:n||""})})):this.rd===Sh.$h?this.ud.then(function(t){return t.blob()}):this.rd===Sh.fd?C.reject(new h("could not read FormData body as Blob")):C.resolve(Yf([this.ud],{type:this.hd})))}),rh.arrayBuffer&&(Mh.prototype.arrayBuffer=function(){var t,n,i;return this.rd===Sh.Of?Ih(this)||C.resolve(this.ud):this.rd===Sh.sd?Ih(this)||(t=this.ud,n=new FileReader,i=Ch(n),n.readAsArrayBuffer(t),i):this.rd===Sh.ed?Oh(this.ud):this.rd===Sh.$h?Ih(this)||this.ud.then(function(t){return t.arrayBuffer()}):this.rd===Sh.fd?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.ud).then(Dh)}),rh.formData&&(Mh.prototype.formData=function(){return this.rd===Sh.fd?Ih(this)||C.resolve(this.ud):this.text().then(Lh)});var Bh=[301,302,303,307,308],Uh=function(t){function n(n,i){var r=this,e=new sh((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Xf(n,t),n.prototype.clone=function(){return new n(Fh(this),{status:this.status,statusText:this.statusText,headers:new sh(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Bh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Mh);var Vh,qh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Vh=qh)&&Vh.__esModule&&d.prototype.hasOwnProperty.call(Vh,"default")&&Vh.default;qh.AbortSignal;var Hh=qh.AbortController,jh=Gf.DOMException;try{new jh}catch(t){(jh=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),jh.prototype.constructor=jh}var Wh=Hh;function zh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function $h(t,n,i){return new C(function(r,e){if(n.signal.aborted)return t.catch(ch),e(Xh());var u=function(){n.signal.removeEventListener("abort",u),e(Xh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Xh(){return new jh("Aborted","AbortError")}var Gh,Yh="moz-chunked-arraybuffer";function Kh(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Gh||(Gh={}));var Jh=function(){function t(t,n){var i=this;this.vd=!1,this.Jv=t,this.dd=n,this.ld=new p,this.wd=new C(function(t,n){i.yd=t,i.gd=n})}return t.prototype.send=function(){var t=this;return this._d().then(function(n){return t.pd(n,t.dd),t.wd})},t.prototype._d=function(){var t=this.Jv;return t.rd===Sh.ed?t.arrayBuffer():C.resolve(t.od)},t.prototype.md=function(t){this.Jv.onprogress&&this.Jv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.kd=function(t){this.gd(t)},t.prototype.bd=function(){this.kd(new v("Network request failed"))},t.prototype.Td=function(){this.kd(new v("Network request failed"))},t.prototype.Ed=function(){this.kd(Xh())},t.prototype.pd=function(t,n){var i=this,r=this.Jv,e=this.ld,u=function(){return i.Sd()};if(r.signal.aborted)return this.Ed();e.onreadystatechange=function(){if(e.readyState>=Gh.HEADERS_RECEIVED&&!i.vd){var t=function(t){var n=new sh;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.vd=!0,i.Rd(n)}},e.onprogress=function(t){return i.md(t)},e.onload=function(){return i.Id()},e.onerror=function(){return i.bd()},e.ontimeout=function(){return i.Td()},e.onabort=function(){return i.Ed()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Sd=function(){this.Ed(),this.ld.abort()},t}(),Qh=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Cd=void 0,r.Ad=void 0,r}return Xf(n,t),n.prototype.Rd=function(t){var n=this;this.Cd=new C(function(t,i){n.Ad=t,n.Dd=i}),this.yd(new Uh(this.Cd,t))},n.prototype.Id=function(){var t=this.ld.response||this.ld.responseText;this.Ad(t)},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Dd&&this.Dd(n)},n}(Jh),Zh=function(t){function n(n){var i=t.call(this,n,Yh)||this;return i.Nd=void 0,i.Od=void 0,i.xd=!1,i}return Xf(n,t),n.prototype.Rd=function(t){var n=this;this.Nd=new Kf({start:function(t){n.Od=t},cancel:function(){n.xd=!0,n.Sd()}}),this.yd(new Uh(this.Nd,t))},n.prototype.md=function(n){this.xd||this.Od.enqueue(new _(this.ld.response)),t.prototype.md.call(this,n)},n.prototype.Id=function(){this.Od.close()},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Od&&!this.xd&&(this.xd=!0,this.Od.error(n))},n}(Jh),tv=function(){var t=rh.firefox&&Kh(Yh);return tv=function(){return t},t},nv=function(){var t;return t=rh.arrayBuffer&&Kh("arraybuffer")?"arraybuffer":rh.blob&&Kh("blob")?"blob":"",nv=function(){return t},t};function iv(t){return(rh.stream&&tv()?new Zh(t):new Qh(t,nv())).send()}var rv=Gf.fetch,ev=Gf.Request,uv=(Gf.Response,Gf.AbortController);var ov=["http:","https:"];var sv=function(){try{if(rh.streamRequest){var t=new ev("about:blank",{body:"",method:"POST"}).body;if(t&&Qf(t.constructor))return t.constructor}}catch(t){}}();function cv(t,n,i){var r;if(rh.stream){var e=void 0;if(rh.streamResponse){var u=t.body;e=u&&th(Kf,u)}else e=ih(Kf,function(){return $h(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Zf(n.getReader(),i),{highWaterMark:0})}(Kf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,av(t.headers))),r=e}else{var o=$h(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return C.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,av(t.headers))),r=o}return new Uh(r,t)}function av(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function fv(t){var n=new Wh;return t.signal&&zh(n,t.signal),function(t,n){var i,r,e=t;if(i=e.rd===Sh.ed?rh.streamRequest&&sv?C.resolve(th(sv,e.ud)):$h(t.arrayBuffer(),n,!1):$h(C.resolve(t.od),n,!1),rh.abort){var u=new uv;zh(u,n.signal),r=u.signal}return i.then(function(n){return new ev(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof sh?i:new sh(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return rv(i).then(function(i){return cv(i,n,t.onprogress)})})}var hv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var vv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,d,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(o=new sh(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,d=i.onprogress,w||null==i.od||(w=i.od,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,d=null;if(!r.headers&&o||(o=new sh(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return hv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new Wh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return Xf(n,t),n.prototype.clone=function(){return new n(this,{body:Fh(this)})},n}(Mh),dv="function"==typeof rv&&rh.stream&&rh.streamResponse&&rh.url;function lv(t,n){return new C(function(i){var r=new vv(t,n);i((dv&&function(t){try{return ov.indexOf(new Gf.URL(t,Gf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?fv:iv)(r))})}lv.polyfill=!0;var wv=function(){function t(t){this.Zv=void 0,this.Jv=void 0,this.Pd=new Ae,this.Qv=void 0,this.Ld=!1,this.Jv=t,this.Pd.Ps(t.Fs),this.Zv=this.Fd()}var n=t.prototype;return n.Fd=function(){var t=C.coroutine(Vr.mark(function t(){var n,i,r,e,u,o,c,a,f=this;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Jv).Lv&&s(function(){f.Ld=!0,f.Pd.xs()},n.Lv),t.prev=2,i=lv(n.gv,{method:n.Pv,headers:n.hv.Lf(),body:n.Zh,credentials:n.Bv?"include":"same-origin",signal:_v(this.Pd.Fs),onprogress:n.Uv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new jf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Ne(e=this.Md(t.t1))&&this.Pd.xs(),e;case 20:if(u=r.url||n.gv,o=0===r.status&&"file:"===(h=u,D.Mo(h).protocol)?200:r.status,c=new yv(this,r,this.Pd),a=new Of({xu:c,wv:n,vv:n.vv,hv:new ts(r.headers.asList()),fv:o,dv:r.statusText,yv:u}),this.Qv=a,!If(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Wf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Md=function(t){return Ne(t)?this.Ld?new zf(this.Jv):new De(t.message,t):this.Qv?new Wf(this.Qv,t):new jf(this.Jv,t)},t}(),yv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.Bd=void 0,e.Pd=void 0,e.rv=new io,e.Zt=n,e.Bd=i,e.Pd=r,e.rv.Tc.catch(P),e}z(n,t);var i=n.prototype;return i.uv=function(){return this.rv.Tc},i.Gh=function(t){return this.ov(this.Bd.text(),t)},i.Kh=function(t){return this.ov(this.Bd.arrayBuffer(),t)},i.Jh=function(){var t=this.Bd.body;return t?this.sv(t):hf(this.Kh().then(af),this.Pd)},i.cv=function(){var t=this.Bd.clone(),i=this.Pd.Ls(),r=i[0],e=i[1];return this.Pd=r,new n(this.Zt,t,e)},i.ov=function(t,n){var i=this;n&&this.Pd.Ps(n);var r=C.resolve(t).catch(function(t){throw i.Zt.Md(t)});return r=Fe(r,this.Pd),this.rv.Ec(r.then(P)),r},i.sv=function(t){var n=this,i=new Xa,r=C.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Md(t);throw i.writable.abort(r).catch(P),r});return r=Fe(r,this.Pd),this.rv.Ec(r.then(P)),i.readable},j(n,[{key:"av",get:function(){return this.Bd.bodyUsed}}]),n}(yf),gv="abort";function _v(t){var n=new Wh;if(t.bs)n.abort();else if(!t.Ts){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(gv,i),t.As(i),t.Ns(r)};n.signal.addEventListener(gv,i),t.Cs(i),t.Ds(r)}return n.signal}var pv,mv=function(){function t(){}var n=t.prototype;return n.wv=function(t){return new wv(t).Zv},n.Vv=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.gv,Ko([t.Zh],{type:t.Qh}));else{var n=t.Qh?{"Content-type":t.Qh}:void 0;Ue(this.wv(new xf({Pv:Cf.POST,gv:t.gv,Zh:t.Zh,hv:n})))}},n.sr=function(){},t}(),kv=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Ud=void 0,n.Vd=bv(42),n.qd=!bv(56),n.Hd=void 0,n}return z(n,t),j(n,[{key:"Do",get:function(){return this.Ud||(this.Ud=new me($o())),this.Ud}},{key:"jd",get:function(){return this.Vd}},{key:"Wd",get:function(){return this.qd}},{key:"zd",get:function(){return!1}},{key:"$d",get:function(){return Go.Xa()}},{key:"Xd",get:function(){return{Gd:Jo}}},{key:"Yd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Kd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Jd",get:function(){return this.Hd||(this.Hd=new Lf(new mv)),this.Hd}}]),n}(Br);function bv(t){if(nt.xe||nt.Ne){var n=nt.De;if(void 0===n||Number(n)<t)return!1}return!0}O(new kv),function(t){t.Qd="Zd",t.tl="nl"}(pv||(pv={}));pv.Qd,pv.tl;var Tv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).il=void 0,r}return z(n,t),j(n,[{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}}]),n}(Xe);var Ev,Sv=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n}(Tv),Rv=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n}(Xe),Iv=function(t){function n(n){var i;return(i=t.call(this,pv.Qd)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new Cv(this.sl.ul)},n}(Sv),Cv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return z(n,t),n}(Rv),Av=function(t){function n(n){var i;return(i=t.call(this,pv.tl)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new Dv(this.sl.ul)},n}(Sv),Dv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return z(n,t),n}(Rv);!function(t){t.cl="al",t.fl="hl",t.vl="dl",t.ll="wl",t.yl="gl",t._l="pl",t.ml="kl",t.bl="Tl",t.El="Hc",t.Sl="Rl",t.Il="Cl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Ev||(Ev={}));var Nv=function(t){function n(){var n;return(n=t.call(this)||this).Al=[],n.il=void 0,n}z(n,t);var i=n.prototype;return i.Dl=function(t){return this.Al[t]},i.Nl=function(t){return!(!t||Re(this.Al,t))&&(this.Al.push(t),this.il&&this.il.push(t.ul),t.Hs(Ev._l,this.Vs),this.qs(new Iv(t)),!0)},i.Ol=function(t){if(!t)return!1;var n=this.Al.indexOf(t);return!(n<0)&&(Se(this.Al,n),this.il&&Se(this.il,n),t.$s(Ev._l,this.Vs),this.qs(new Av(t)),!0)},i.xl=function(t){return Re(this.Al,t)},i.Pl=function(){for(var t=this.Al,n=t.length-1;n>=0;n-=1)this.Ol(t[n])},i.sr=function(){this.Pl(),this.zs()},j(n,[{key:"Ll",get:function(){return this.Al}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"Fl",get:function(){return this.Al.length}}]),n}(ze),Ov=function(t){function n(n){var i;return(i=t.call(this,Ev._l)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new xv(this.sl.ul)},n}(Sv),xv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return z(n,t),n}(Rv),Pv=function(t){function n(){var n;return(n=t.call(this)||this).Ml=void 0,n.Bl=function(t){var i=t.sl;n.Nl(i)},n.Ul=function(t){var i=t.sl;n.Ol(i)},n}z(n,t);var i=n.prototype;return i.Vl=function(t){t.Hs(pv.Qd,this.Bl),t.Hs(pv.tl,this.Ul)},i.ql=function(t){t.$s(pv.Qd,this.Bl),t.$s(pv.tl,this.Ul)},i.sr=function(){this.Ml&&this.Ml.sr(),t.prototype.sr.call(this)},j(n,[{key:"Hl",get:function(){return this.Ml},set:function(t){var n=this.Ml;if(t!==n){if(n){this.ql(n);for(var i=0,r=n.Ll;i<r.length;i++){var e=r[i];t&&t.xl(e)||this.Ol(e)}}if(this.Ml=t,t){for(var u=[],o=0,s=t.Ll;o<s.length;o++){var c=s[o];this.Nl(c),this.jl(c)&&u.push(c)}this.Vl(t);for(var a=0;a<u.length;a++){var f=u[a];f.qs(new Ov(f))}}}}}]),n}(Nv),Lv=d.freeze||L;function Fv(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Mv(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Bv(t){if(ct(t)){var n={};for(var i in t)it.call(t,i)&&(n[i]=Bv(t[i]));return n}if(ut(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Bv(t[e]));return r}return t}function Uv(t,n){return t===n||!(!t||!n)&&(!(!st(t)||!st(n))&&(ot(t)?!!ot(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Uv(t[e],n[e]))return!1;return!0}(t,n):!ot(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!it.call(n,u)||!Uv(t[u],n[u]))return!1}return!0}(t,n)))}function Vv(t,n){return t.constructor===n.constructor}function qv(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Hv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wv(t){var n=jv(t);if(g(n))throw new h("Expected a valid number.");return n}function zv(t){return"string"==typeof t?t:""}function $v(t,n){return ot(t)?function(t,n){if(!ot(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Xv=[pv.Qd,pv.tl,Ev._l];function Gv(t){var n,i=t.Ll.map(function(t){return t.ul});return i.item=function(n){var i=0|n,r=t.Dl(i);return r&&r.ul||void 0},i.addEventListener=function(t,i){n.Hs(t,i)},i.removeEventListener=function(t,i){n.$s(t,i)},n=new $e(i),t.Hs(Xv,function(t){return n.qs(t.ul)}),i}function Yv(){}function Kv(t){var n,i=[Ev.El,Ev._l,Ev.Sl,Ev.Il,Ev.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Wl&&t.Wl.ul},get enabled(){return t.zl},set enabled(n){t.zl=Hv(n)},get id(){return t.$l},get uid(){return t.Xl},get kind(){return t.Gl},get label(){return t.Yl},set label(n){t.Yl=zv(n)},get language(){return t.Kl},get qualities(){return t.Jl.ul},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Jl.Ll;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.ul===s&&i.push(u)}return i}(t,ut(n)?n:[n]):[]).length>0?t.Ql=i:t.Ql=void 0},get targetQuality(){if(t.Ql)return 1===t.Ql.length?t.Ql[0].ul:t.Ql.map(function(t){return t.ul})},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new $e(r),t.Hs(i,function(t){return n.qs(t.ul)}),d.defineProperty(r,"constructor",{value:Yv}),r}function Jv(){}function Qv(t){var n=Gv(t);return d.defineProperty(n,"constructor",{value:Jv}),n}var Zv,td,nd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.ol=function(){return Qv(this)},i.jl=function(t){return t.zl},n}(Pv);function id(){}function rd(t){var n,i=[Ev._l,Ev.El,Ev.cl,Ev.fl,Ev.vl,Ev.ll,Ev.yl,Ev.ml,Ev.bl],r=[td.Zl],e={get kind(){return t.Gl},get label(){return t.Yl},set label(n){t.Yl=zv(n)},get language(){return t.Kl},get id(){return t.$l},get uid(){return t.Xl},get inBandMetadataTrackDispatchType(){return t.tw},get mode(){return t.nw},set mode(n){n!==Zv.iw&&n!==Zv.rw&&n!==Zv.ew||(t.nw=n)},get type(){return t.as},get readyState(){return od(t.uw)},get cues(){return t.nw===Zv.ew?null:t.ow.ul},get activeCues(){return t.nw===Zv.ew?null:t.sw.ul},get src(){return t.cw||""},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new $e(t),t.Hs(i,function(t){return n.qs(t.ul)}),t.Hs(r,function(t){return n.qs(t)}),d.defineProperty(e,"constructor",{value:id}),e}function ed(){}function ud(t){var n=Gv(t);return d.defineProperty(n,"constructor",{value:ed}),n}function od(t){return t}!function(t){t.ew="disabled",t.rw="hidden",t.iw="showing"}(Zv||(Zv={})),function(t){t.Zl="error"}(td||(td={}));var sd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.ol=function(){return ud(this)},i.jl=function(t){return t.nw===Zv.iw},n}(Pv),cd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Ws=function(n){t.prototype.Ws.call(this,n)},i.Ys=function(n){t.prototype.Ys.call(this,n)},n}(ze),ad=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(cd),fd=function(t){function n(){return t.call(this,Qo.uf)||this}return z(n,t),n}(Xe),hd=function(t){function n(n){var i;return(i=t.call(this,Qo.tf)||this).currentSource=n,i}return z(n,t),n}(Xe),vd=function(){function t(){}return t.aw=function(n,i){var r=t.fw(n,i);return r?t.hw(r):0},t.vw=function(){return D.Yd||"default"},t.dw=function(){return D.Kd||"unknown"},t.fw=function(n,i){var r,e=null==(r=D.$d)?void 0:r.fc(i),u=e&&JSON.parse(e);if(u&&u[n])return t.lw(u,n,i)},t.hw=function(t){var n=t.availableBandwidth;return n||0},t.lw=function(n,i,r){if(!t.ww(n,i))return n[i];t.yw(n,i,r)},t.yw=function(t,n,i){var r;delete t[n],null==(r=D.$d)||r.$a(i,JSON.stringify(t))},t.ww=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.gw=function(t,n,i,r){var e;return qr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t._w=function(n){var i=t.vw();t.pw(i,"theoplayer-stored-network-info",n,Zt())},t.pw=function(n,i,r,e){var u,o,s=null==(u=D.$d)?void 0:u.fc(i),c=s?JSON.parse(s):void 0,a=t.gw(c,n,r,e);null==(o=D.$d)||o.$a(i,JSON.stringify(a))},t.mw=function(){var n=t.vw();return t.aw(n,"theoplayer-stored-network-info")},t}();var dd,ld,wd,yd,gd,_d,pd="1ADD53F3";function md(t){return{chromecast:function(t){return{appID:t&&t.appID?zv(t.appID):pd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dd.AUTO;case"manual":return dd.MANUAL;case"disabled":return dd.DISABLED;default:return dd.MANUAL}}(t?t.strategy:void 0)}}function kd(t){var n,i=wd.kw;return(n=t)&&he(n,"mpd")&&(i=wd.bw),function(t){return!!t&&he(t,"m3u8")}(t)&&(i=wd.Tw),i}function bd(t){return st(t)&&st(t.ssai)&&"google-dai"===t.ssai.integration}function Td(t){return st(t)&&at(t.integration)&&"verizon-media"===t.integration}function Ed(t){if(at(t))return!t;if(Td(t))return!t.id;if(bd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Sd(t){return Boolean(st(t)&&at(t.src))}function Rd(t){return at(t)||Sd(t)||bd(t)||Td(t)}function Id(t){if(t){if(Rd(t))return Ed(t);for(var n=0;n<t.length;n++){if(!Ed(t[n]))return!1}return!0}return!0}function Cd(){return{crossOrigin:ld.Ew,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ad(){return qr({},Cd(),{src:void 0,type:wd.kw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Dd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:yd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return gd.NONE;case"midroll-and-postroll":default:return gd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Hv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return yd.INSECURE;case"disabled":return yd.DISABLED;case"enabled":default:return yd.ENABLED}}(t.vpaidMode)),ut(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(at)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Hv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Nd(t){if(!ot(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];ct(e)&&n.push(e)}return n}function Od(t){return at(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dd||(dd={})),function(t){t.Ew="",t.Sw="anonymous",t.Rw="use-credentials"}(ld||(ld={})),function(t){t.bw="application/dash+xml",t.Tw="application/vnd.apple.mpegurl",t.Iw="application/x-mpegurl",t.kw="video/mp4",t.Cw="application/vnd.theoplayer.hesp+json",t.Aw="application/vnd.theo.hesp+json"}(wd||(wd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(yd||(yd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(gd||(gd={})),function(t){t[t.Dw=0]="Dw",t[t.Nw=1]="Nw",t[t.Ow=2]="Ow",t[t.xw=3]="xw",t[t.Pw=4]="Pw"}(_d||(_d={}));var xd,Pd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Dw),(r=t.call(this,Qo.rf)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),Ld=function(t){function n(n){var i;return(i=t.call(this,Qo.df)||this).currentTime=n,i}return z(n,t),n}(Xe),Fd=function(t){function n(n){var i;return(i=t.call(this,Qo.lf)||this).currentTime=n,i}return z(n,t),n}(Xe);!function(t){t.Lw="canplay",t.Fw="canplaythrough",t.Mw="loadeddata",t.Bw="loadedmetadata",t.ml="readystatechange",t.Uw="waiting",t.Vw="playing"}(xd||(xd={}));var Md,Bd,Ud=[xd.Lw,xd.Fw,xd.Mw,xd.Bw,xd.ml,xd.Uw,xd.Vw],Vd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Nw),(r=t.call(this,xd.Bw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),qd=function(t){function n(n){var i;return(i=t.call(this,Qo.if)||this).duration=n,i}return z(n,t),n}(Xe),Hd=function(t){function n(n,i){var r;return(r=t.call(this,Qo.yf)||this).currentTime=n,r.playbackRate=i,r}return z(n,t),n}(Xe),jd=function(t){function n(n,i){var r;return(r=t.call(this,Qo.If)||this).currentTime=n,r.currentProgramDateTime=i,r}return z(n,t),n}(Xe),Wd=function(t){function n(n){var i;return(i=t.call(this,Qo.ef)||this).currentTime=n,i}return z(n,t),n}(Xe),zd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Ow),(r=t.call(this,xd.Mw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),$d=function(t){function n(n){var i;return(i=t.call(this,Qo.mf)||this).currentTime=n,i}return z(n,t),n}(Xe),Xd=function(t){function n(n){var i;return(i=t.call(this,Qo.pf)||this).currentTime=n,i}return z(n,t),n}(Xe),Gd=function(t){function n(n,i){var r;return(r=t.call(this,Qo.Cf)||this).currentTime=n,r.volume=i,r}return z(n,t),n}(Xe),Yd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.xw),(r=t.call(this,xd.Lw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),Kd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Pw),(r=t.call(this,xd.Fw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),Jd=function(t){function n(n,i){var r;return(r=t.call(this,xd.ml)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Xe),Qd=function(t){function n(n){var i;return(i=t.call(this,td.Zl)||this).errorObject=n,i}return z(n,t),n.prototype.ol=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv);function Zd(t){switch(t){case Md.ALL:case Md.CONTENT:return t;default:return Md.NONE}}function tl(t){var n,i,r,e=Bv(t||{});return e.libraryLocation&&(e.libraryLocation=Mf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=md(e.cast),e.ads=Dd(e.ads),e.analytics=Nd(e.analytics),e.mutedAutoplay=Zd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=at(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Mf(t)}catch(t){return void D.bo("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function nl(t){return{qw:t.qw,Hw:t.Hw,jw:t.jw,ic:t.ic,Ww:t.Ww,zw:t.zw,$w:t.$w,Xw:t.Xw,uw:t.uw,Gw:t.Gw,Yw:t.Yw,Kw:t.Kw,Jw:t.Jw}}function il(t,n,i){if(n!==i){var r=n.qw,e=n.Hw,u=n.zw,o=n.$w,s=n.Xw,c=n.uw,a=n.Gw,f=(n.Kw,n.Yw,n.Jw),h=i.qw,v=i.Hw,d=i.jw,l=i.Ww,w=i.zw,y=i.$w,_=i.Xw,p=i.uw,m=i.Gw,k=(i.Kw,i.Yw,i.Jw);c!==_d.Dw&&t.qs(new Pd(h,p)),y&&!o?t.qs(new Ld(h)):!y&&o&&t.qs(new Fd(h)),p>=_d.Nw&&t.qs(new Vd(h,p)),v===e||g(v)&&g(e)||t.qs(new qd(v)),_!==s&&t.qs(new Hd(h,_)),h!==r&&t.qs(new jd(h,void 0)),d&&t.qs(new Wd(h)),p>=_d.Ow&&t.qs(new zd(h,p)),m&&!a?t.qs(new $d(h)):!m&&a&&t.qs(new Xd(h)),k===f&&w===u||t.qs(new Gd(h,k)),p>=_d.xw&&t.qs(new Yd(h,p)),p>=_d.Pw&&t.qs(new Kd(h,p)),p!==c&&t.qs(new Jd(h,p)),l&&t.qs(new Qd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Md||(Md={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Bd||(Bd={}));var rl,el=400,ul={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},ol=sl(.5,ul);function sl(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function cl(){var t;return t="Android"===D.qo.Ho?ol:ul,D.qo.jo?function(t){var n=t;D.qo.jo&&(n=sl((el+250)/1e3,n));return n}(t):t}!function(t){t[t.Qw=0]="Qw",t[t.Zw=1]="Zw",t[t.ty=-1]="ty"}(rl||(rl={}));var al=function(t,n){return(0|t)-(0|n)},fl=function(t,n){return t===n?rl.Qw:t<n?rl.ty:t>n?rl.Zw:g(t)?g(n)?rl.Qw:rl.Zw:rl.ty};function hl(t,n,i){return Jt(t,n,i)?rl.Qw:fl(t,n)}var vl=function(t,n){return function(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Yt||i<l.max(l.abs(t),l.abs(n))*Yt}(t,n)?rl.Qw:fl(t,n)},dl=function(){function t(){}var n=t.prototype;return n.ny=function(t){return this.iy()*t},n.ey=function(t){return this.uy(t)>0},n.oy=function(t){return this.uy(t)>=0},n.sy=function(t,n){return this.hy(t).ay(n)},n.vy=function(t){return 0===this.uy(t)},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.wy=function(){return this.yy()?this.gy():this},n._y=function(t){return this.py(t.gy())},n.hy=function(t){return this._y(t).wy()},t}();function ll(t,n){return t.my()?n.my()?rl.Qw:rl.Zw:n.my()?rl.ty:t.ky()?n.ky()&&t.yy()===n.yy()?rl.Qw:t.yy()?rl.ty:rl.Zw:n.yy()?rl.Zw:rl.ty}var wl=function(){function t(t,n){this.by=void 0,this.Ty=void 0,this.by=t,this.Ty=n}t.Ey=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Sy=function(n){return n.unsigned?new t(n,Gt.UZERO):new t(n,n.isNegative()?Gt.NEG_ONE:Gt.ZERO)},t.Ry=function(n,i){if(g(n))return i?t.Iy:t.Cy;if(i){if(n<0)return t.Iy;if(n>=3.402823669209385e38)return t.Ay}else{if(n<=-1.7014118346046923e38)return t.Dy;if(n+1>=1.7014118346046923e38)return t.Ny}return n<0?t.Ry(-n,i).gy():t.Ey(Gt.fromNumber(n%0x10000000000000000),Gt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Oy=function(){return this.Ty.unsigned},n.xy=function(){return this.by.isZero()&&this.Ty.isZero()},n.yy=function(){return this.Ty.isNegative()},n.Py=function(){return this.Oy()?t.Ey(this.by,this.Ty,!1):this},n.Ly=function(){return this.Oy()?this:t.Ey(this.by,this.Ty,!0)},n.Fy=function(){return this.by},n.iy=function(){return this.yy()?-this.gy().iy():0x10000000000000000*this.Ty.toNumber()+this.by.toUnsigned().toNumber()},n.My=function(){return this.by.toInt()},n.vy=function(t){return(this.Oy()===t.Oy()||this.Ty.getHighBits()>>>31!=1||t.Ty.getHighBits()>>>31!=1)&&(this.Ty.toUnsigned().eq(t.Ty.toUnsigned())&&this.by.toUnsigned().eq(t.by.toUnsigned()))},n.uy=function(t){if(this.vy(t))return rl.Qw;var n=this.yy(),i=t.yy();if(n&&!i)return rl.ty;if(!n&&i)return rl.Zw;if(!this.Oy())return this._y(t).yy()?rl.ty:rl.Zw;var r=this.Ly(),e=t.Ly(),u=e.Ty.comp(r.Ty);return u>0||0===u&&e.by.gt(r.by)?rl.ty:rl.Zw},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.By=function(t){return this.uy(t)>0},n.Uy=function(t){return this.uy(t)>=0},n.Vy=function(){return new t(this.by.not(),this.Ty.not())},n.qy=function(n){return new t(this.by.and(n.by),this.Ty.and(n.Ty))},n.Hy=function(n){return new t(this.by.or(n.by),this.Ty.or(n.Ty))},n.jy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shl(i),this.Ty.shl(i).or(this.by.shru(64-i)),this.Oy()):t.Ey(Gt.ZERO,this.by.shl(i-64),this.Oy())},n.Wy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shru(i).or(this.Ty.shl(64-i)),this.Ty.shr(i),this.Oy()):t.Ey(this.Ty.shr(i-64),this.Ty.isNegative()?Gt.NEG_ONE:Gt.ZERO,this.Oy())},n.zy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shru(i).or(this.Ty.shl(64-i)),this.Ty.shru(i),this.Oy()):64===i?t.Ey(this.Ty,Gt.ZERO,this.Oy()):t.Ey(this.Ty.shru(i-64),Gt.ZERO,this.Oy())},n.py=function(n){var i=this.Ty.high>>>16,r=65535&this.Ty.high,e=this.Ty.low>>>16,u=65535&this.Ty.low,o=this.by.high>>>16,s=65535&this.by.high,c=this.by.low>>>16,a=65535&this.by.low,f=n.Ty.high>>>16,h=65535&n.Ty.high,v=n.Ty.low>>>16,d=65535&n.Ty.low,l=n.by.high>>>16,w=65535&n.by.high,y=n.by.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.by.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.Oy(),R=Gt.fromBits(p<<16|m,g<<16|_,S),I=Gt.fromBits(T<<16|E,k<<16|b,S);return t.Ey(I,R,S)},n._y=function(t){return this.py(t.gy())},n.gy=function(){return this.Vy().py(t.$y)},n.Xy=function(n){if(this.xy()||n.xy())return this.Oy()?t.Iy:t.Cy;if(this.yy())return n.yy()?this.gy().Xy(n.gy()):this.gy().Xy(n).gy();if(n.yy())return this.Xy(n.gy()).gy();if(this.Ty.isZero()&&0===this.by.high&&n.Ty.isZero()&&0===n.by.high)return t.Sy(this.by.multiply(n.by));var i=Gt.fromBits(4294967295,0,!0),r=this.by.and(i),e=this.by.shru(32),u=this.Ty.and(i),o=this.Ty.shru(32),s=n.by.and(i),c=n.by.shru(32),a=n.Ty.and(i),f=n.Ty.shru(32),h=Gt.UZERO,v=Gt.UZERO,d=Gt.UZERO,l=Gt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Gt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Gt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Ey(w,y,this.Oy())},n.Gy=function(n){var i,r,e=n;if(e.xy())throw new RangeError("division by zero");if(this.xy())return this.Oy()?[t.Iy,t.Iy]:[t.Cy,t.Cy];if(this.Oy()){if(e.Oy()||(e=e.Ly()),e.By(this))return[t.Iy,this];if(e.By(this.zy(1)))return[r=t.Yy,i=this._y(e)];r=t.Iy}else{if(this.vy(t.Dy)){if(e.vy(t.$y)||e.vy(t.Ky))return[t.Dy,t.Cy];if(e.vy(t.Dy))return[t.$y,t.Cy];var u=this.Wy(1).Jy(e).jy(1);return u.vy(t.Cy)?r=e.yy()?t.$y:t.Ky:(i=this._y(e.Xy(u)),r=u.py(i.Jy(e))),[r,i=this._y(e.Xy(r))]}if(e.vy(t.Dy))return this.Oy()?[t.Iy,this]:[t.Cy,this];if(this.yy()){if(e.yy())return this.gy().Gy(e.gy());var o=this.gy().Gy(e);return r=o[0],i=o[1],[r.gy(),i.gy()]}if(e.yy()){var s=this.Gy(e.gy());return r=s[0],i=s[1],[r.gy(),i.gy()]}r=t.Cy}for(i=this;i.Uy(e);){for(var c=l.max(1,l.floor(i.iy()/e.iy())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.Ry(c),v=h.Xy(e);v.yy()||v.By(i);)c-=f,v=(h=t.Ry(c,this.Oy())).Xy(e);h.xy()&&(h=t.$y),r=r.py(h),i=i._y(v)}return[r,i]},n.Jy=function(t){return this.Gy(t)[0]},n.Qy=function(t){return this.Gy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.xy())return"0";if(this.yy()){if(this.vy(t.Dy)){var r=t.Ry(i),e=this.Jy(r),u=e.Xy(r)._y(this);return e.toString(i)+u.My().toString(i)}return"-"+this.gy().toString(i)}for(var o=t.Ry(l.pow(i,6),this.Oy()),s=this,c="";;){var a=s.Jy(o),f=(s._y(a.Xy(o)).My()>>>0).toString(i);if((s=a).xy())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();wl.Cy=wl.Sy(Gt.ZERO),wl.Iy=wl.Sy(Gt.UZERO),wl.$y=wl.Sy(Gt.ONE),wl.Yy=wl.Sy(Gt.UONE),wl.Ky=wl.Sy(Gt.NEG_ONE),wl.Ny=wl.Ey(Gt.NEG_ONE,Gt.MAX_VALUE,!1),wl.Ay=wl.Ey(Gt.MAX_UNSIGNED_VALUE,Gt.MAX_UNSIGNED_VALUE,!0),wl.Dy=wl.Ey(Gt.ZERO,Gt.MIN_VALUE,!1);var yl=function(){function t(t,n){void 0===n&&(n=1),this.Zy=void 0,this.tg=void 0,this.Zy=t,this.tg=n}t.ng=function(n){return new t(l.ceil(n.Zy),n.tg)},t.ig=function(n){return new t(l.floor(n.Zy),n.tg)},t.rg=function(t,n){return t.oy(n)?t:n},t.eg=function(t,n){return t.ay(n)?t:n};var n=t.prototype;return n.py=function(n){return this.tg>=n.tg?new t(this.Zy+n.ug(this.tg).Zy,this.tg):new t(this.ug(n.tg).Zy+n.Zy,n.tg)},n.ey=function(t){return t.ly(this)},n.oy=function(t){return t.ay(this)},n.hy=function(n){return this.tg>=n.tg?new t(l.abs(this.Zy-n.ug(this.tg).Zy),this.tg):n.hy(this)},n.sy=function(t,n){return this.hy(t).ay(n)},n.uy=function(t){return i=t,(n=this).tg>=i.tg?vl(n.Zy,i.ug(n.tg).Zy):vl(n.ug(i.tg).Zy,i.Zy);var n,i},n.vy=function(t){return 0===this.uy(t)},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.ug=function(n){return new t(this.Zy*(n/this.tg),n)},n._y=function(n){return this.tg>=n.tg?new t(this.Zy-n.ug(this.tg).Zy,this.tg):new t(this.ug(n.tg).Zy-n.Zy,n.tg)},n.og=function(n){return new t(this.Zy*n,this.tg)},j(t,[{key:"ky",get:function(){return!isFinite(this.Zy)}},{key:"sg",get:function(){return this.Zy/this.tg}}]),t}();yl.cg=new yl(1/6,1),yl.Cy=new yl(0),yl.ag=new yl(1/0),yl.fg=1e6;var gl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.tg=void 0,r.wu=n.toSigned(),r.tg=i>>>0,r}z(n,t),n.hg=function(t,i){return void 0===i&&(i=1e6),n.Ry(t*i,i)},n.Ry=function(t,i){return g(t)?n.vg:t===1/0?n.dg:t===-1/0?n.lg:new n(Gt.fromNumber(t),i)},n.Sy=function(t,i){return new n(t,i)},n.wg=function(t){return n.hg(t.sg,1e6)},n.yg=function(t){return new n(Gt.fromNumber(t.getTime()),1e3)},n.rg=function(t,n){return t.oy(n)?t:n},n.eg=function(t,n){return t.ay(n)?t:n},n.gg=function(t,i,r){return n.rg(i,n.eg(r,t))};var i=n.prototype;return i.yy=function(){return this.wu.isNegative()},i.xy=function(){return 0!==this.tg&&this.wu.isZero()},i.ky=function(){return 0===this.tg&&!this.wu.isZero()},i.my=function(){return 0===this.tg&&this.wu.isZero()},i.iy=function(){if(0===this.tg)return this.wu.isZero()?NaN:this.wu.isNegative()?-1/0:1/0;var t=this.wu.divide(this.tg),n=this.wu.subtract(t.multiply(this.tg));return t.toNumber()+n.toNumber()/this.tg},i.Fy=function(){if(0===this.tg)throw new h("Failed to convert timestamp");return this.wu},i._g=function(){return new Date(0===this.tg?NaN:this.ug(1e3).wu.toNumber())},i.pg=function(){return new yl(0===this.tg?this.iy():this.wu.toNumber(),this.tg)},i.ug=function(t,i){void 0===i&&(i=ml.mg);var r=this.tg;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t.Gy(n),e=r[0],u=r[1];if(u.xy())return e;if(i===ml.mg)return u.yy()?e._y(wl.$y):e;if(i===ml.kg)return u.yy()?e:e.py(wl.$y);var o=u.Xy(wl.Ry(2));return o.yy()?o.gy().ly(n)?e:e._y(wl.$y):o.ly(n)?e:e.py(wl.$y)}(wl.Sy(this.wu).Xy(wl.Ry(t/e)),wl.Ry(r/e),i).Fy(),t)},i.uy=function(t){if(this===t)return rl.Qw;if(0===this.tg||0===t.tg)return ll(this,t);if(this.xy())return t.xy()?rl.Qw:t.yy()?rl.Zw:rl.ty;if(t.xy())return this.yy()?rl.ty:rl.Zw;var n=l.min(this.tg,t.tg),i=this.ug(n,ml.bg).wu,r=t.ug(n,ml.bg).wu;return i.compare(r)},i.gy=function(){return 0===this.tg?_l(this):new n(this.wu.negate(),this.tg)},i.py=function(t){if(0===this.tg||0===t.tg)return pl(this,t);if(this.xy())return t;if(t.xy())return this;var i=l.max(this.tg,t.tg),r=this.ug(i,ml.bg),e=t.ug(i,ml.bg);return new n(r.wu.add(e.wu),i)},i.Xy=function(t){if(this.my()||g(t))return n.vg;if(this.ky()||!isFinite(t)){if(this.xy()||0===t)return n.vg;var i=this.yy()?n.lg:n.dg;return t<0?i.gy():i}return this.xy()?this:new n(0===t?Gt.ZERO:this.wu.multiply(t),this.tg)},i.Jy=function(t){if(this.my()||g(t))return n.vg;if(this.ky())return isFinite(t)?0===t?1/t<0?this.gy():this:t<0?this.gy():this:n.vg;if(!isFinite(t))return new n(Gt.ZERO,this.tg);if(this.xy())return 0===t?n.vg:new n(Gt.ZERO,this.tg);if(0===t){var i=this.yy()?n.lg:n.dg;return 1/t<0?i.gy():i}return new n(this.wu.divide(t),this.tg)},i.Tg=function(){return[this.wu.low,this.wu.high,this.tg]},n}(dl);function _l(t){return t.my()?t:t.yy()?gl.dg:gl.lg}function pl(t,n){return t.my()||n.my()?gl.vg:t.ky()&&n.ky()?t.yy()===n.yy()?t:gl.vg:t.ky()?t:n}gl.Cy=new gl(Gt.ZERO,1e6),gl.vg=new gl(Gt.ZERO,0),gl.dg=new gl(Gt.ONE,0),gl.lg=new gl(Gt.NEG_ONE,0);var ml,kl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.tg=void 0,r.wu=BigInt.asIntN(64,n),r.tg=i>>>0,r}z(n,t),n.hg=function(t,i){return void 0===i&&(i=1e6),n.Ry(t*i,i)},n.Ry=function(t,i){return g(t)?n.vg:t===1/0?n.dg:t===-1/0?n.lg:new n(BigInt(l.floor(t)),i)},n.Sy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.wg=function(t){return n.hg(t.sg,1e6)},n.yg=function(t){return n.Ry(t.getTime(),1e3)},n.rg=function(t,n){return t.oy(n)?t:n},n.eg=function(t,n){return t.ay(n)?t:n},n.gg=function(t,i,r){return n.rg(i,n.eg(r,t))};var i=n.prototype;return i.yy=function(){return this.wu<BigInt(0)},i.xy=function(){return 0!==this.tg&&this.wu===BigInt(0)},i.ky=function(){return 0===this.tg&&this.wu!==BigInt(0)},i.my=function(){return 0===this.tg&&this.wu===BigInt(0)},i.iy=function(){if(0===this.tg)return this.wu===BigInt(0)?NaN:this.wu<BigInt(0)?-1/0:1/0;var t=this.wu/BigInt(this.tg),n=this.wu-t*BigInt(this.tg);return Number(t)+Number(n)/this.tg},i.Fy=function(){if(0===this.tg)throw new h("Failed to convert timestamp");return this.Eg()},i.Eg=function(){var t=this.wu&BigInt(4294967295),n=this.wu>>BigInt(32)&BigInt(4294967295);return Gt.fromBits(Number(t),Number(n))},i._g=function(){return new Date(0===this.tg?NaN:Number(this.ug(1e3).wu))},i.pg=function(){return new yl(0===this.tg?this.iy():Number(this.wu),this.tg)},i.ug=function(t,i){void 0===i&&(i=ml.mg);var r=this.tg;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ml.mg)return e<BigInt(0)?r-BigInt(1):r;if(i===ml.kg)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.wu*BigInt(t/e),BigInt(r/e),i),t)},i.uy=function(t){if(this===t)return rl.Qw;if(0===this.tg||0===t.tg)return ll(this,t);if(this.xy())return t.xy()?rl.Qw:t.yy()?rl.Zw:rl.ty;if(t.xy())return this.yy()?rl.ty:rl.Zw;var n=l.min(this.tg,t.tg),i=this.ug(n,ml.bg).wu,r=t.ug(n,ml.bg).wu;return i>r?rl.Zw:i<r?rl.ty:rl.Qw},i.gy=function(){return 0===this.tg?bl(this):new n(-this.wu,this.tg)},i.py=function(t){if(0===this.tg||0===t.tg)return Tl(this,t);if(this.xy())return t;if(t.xy())return this;var i=l.max(this.tg,t.tg),r=this.ug(i,ml.bg),e=t.ug(i,ml.bg);return new n(r.wu+e.wu,i)},i.Xy=function(t){if(this.my()||g(t))return n.vg;if(this.ky()||!isFinite(t)){if(this.xy()||0===t)return n.vg;var i=this.yy()?n.lg:n.dg;return t<0?i.gy():i}return this.xy()?this:new n(0===t?BigInt(0):this.wu*BigInt(t),this.tg)},i.Jy=function(t){if(this.my()||g(t))return n.vg;if(this.ky())return isFinite(t)?0===t?1/t<0?this.gy():this:t<0?this.gy():this:n.vg;if(!isFinite(t))return new n(BigInt(0),this.tg);if(this.xy())return 0===t?n.vg:new n(BigInt(0),this.tg);if(0===t){var i=this.yy()?n.lg:n.dg;return 1/t<0?i.gy():i}return new n(this.wu/BigInt(t),this.tg)},i.Tg=function(){var t=this.Eg();return[t.low,t.high,this.tg]},j(n,null,[{key:"Cy",get:function(){return n.Sg||(n.Sg=new n(BigInt(0),1e6)),n.Sg}},{key:"vg",get:function(){return n.Rg||(n.Rg=new n(BigInt(0),0)),n.Rg}},{key:"dg",get:function(){return n.Ig||(n.Ig=new n(BigInt(1),0)),n.Ig}},{key:"lg",get:function(){return n.Cg||(n.Cg=new n(BigInt(-1),0)),n.Cg}}]),n}(dl);function bl(t){return t.my()?t:t.yy()?kl.dg:kl.lg}function Tl(t,n){return t.my()||n.my()?kl.vg:t.ky()&&n.ky()?t.yy()===n.yy()?t:kl.vg:t.ky()?t:n}kl.Sg=void 0,kl.Rg=void 0,kl.Ig=void 0,kl.Cg=void 0,function(t){t[t.mg=0]="mg",t[t.kg=1]="kg",t[t.bg=2]="bg"}(ml||(ml={}));var El,Sl=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?kl:gl;function Rl(t){return{goLive:function(){return t.Ag()},get isLive(){return t.Dg},get currentServerLiveTime(){return t.Ng},get currentLatency(){return t.Og},get latency(){return t.xg},set latency(n){if(!function(t){if(!st(t))return!1;var n=t,i=et(n.target)&&"number"==typeof n.target&&et(n.windowEnd)&&"number"==typeof n.windowEnd&&et(n.windowStart)&&"number"==typeof n.windowStart&&et(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new h("Invalid latency configuration");t.xg=n},get manifest(){return t.Pg},get metrics(){return t.Lg},addEventListener:function(n,i){t.Hs(Cl(n),i)},removeEventListener:function(n,i){t.$s(Cl(n),i)}}}!function(t){t[t.ew=0]="ew",t[t.Fg=1]="Fg",t[t.Mg=2]="Mg"}(El||(El={}));var Il=["analytic","golive","nogolive","bufferedchange"];function Cl(t){var n=$v(t,zv);return(at(n)?[n]:n).filter(function(t){return n=t,-1!==Il.indexOf(n);var n})}var Al,Dl=function(t){function n(){var n;return(n=t.call(this)||this).Ml=void 0,n.il=void 0,n.Bg=cl(),n.Ml=void 0,n}z(n,t);var i=n.prototype;return i.Vl=function(t){t.Hs(Il,this.Vs)},i.ql=function(t){t.$s(Il,this.Vs)},i.Ag=function(){var t;null==(t=this.Ml)||t.Ag()},i.sr=function(){this.zs(),this.Ml&&this.ql(this.Ml),this.Ml=void 0},j(n,[{key:"Hl",get:function(){return this.Ml},set:function(t){var n=this.Ml;t!==n&&(n&&this.ql(n),t&&this.Vl(t),this.Ml=t,this.Ml&&(this.Ml.xg=this.Bg))}},{key:"ul",get:function(){return this.il||(this.il=Rl(this)),this.il}},{key:"Ng",get:function(){var t;return null==(t=this.Ml)?void 0:t.Ng}},{key:"Og",get:function(){var t;return null==(t=this.Ml)?void 0:t.Og}},{key:"Dg",get:function(){return!!this.Ml&&this.Ml.Dg}},{key:"xg",get:function(){return this.Bg},set:function(t){this.Ml&&(this.Ml.xg=t),this.Bg=t}},{key:"Pg",get:function(){var t;return null==(t=this.Ml)?void 0:t.Pg}},{key:"Lg",get:function(){var t;return null==(t=this.Ml)?void 0:t.Lg}}]),n}(ze),Nl=function(t){function n(n){var i;return(i=t.call(this)||this).Ml=void 0,i.Ug=[],i.Vg=!1,i.qg=new nd,i.Hg=new nd,i.jg=new sd,i.Wg=new Dl,i.zg=!1,i.$g(n),n.Ws(i.Vs),i.Ml=n,i.qg.Hl=n.Xg,i.Hg.Hl=n.Gg,i.jg.Hl=n.Yg,i.Wg.Hl=n.Kg,i}z(n,t);var i=n.prototype;return i.tr=function(){this.Ml.tr()},i.nr=function(){this.Ml.nr()},i.Jg=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ve(this.Ug.map(function(t){return t.Jg()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qg=function(){return this.Ml.Qg()},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(i),t.next=3,this.Ml.Zg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.t_=function(){return this.Hl.t_()},i.n_=function(){this.Hl.n_()},i.i_=function(){this.Hl.i_()},i.hr=function(){if(!this.Vg){for(var t=0,n=this.Ug;t<n.length;t++){n[t].hr()}this.Vg=!0}},i.r_=function(t){this.Ml.r_(t)},i.e_=function(){this.Ml.e_()},i.u_=function(){this.Ml.u_()},i.o_=function(){this.Ml.o_()},i.s_=function(){return this.Ml.s_()},i.c_=function(){return this.Ml.c_()},i.a_=function(){for(var t=[],n=0,i=this.Ug;n<i.length;n++){var r=i[n];t.push.apply(t,r.a_())}return t},i.f_=function(t){for(var n=!1,i=0,r=this.Ug;i<r.length;i++){n=r[i].f_(t)||n}return n},i.qs=function(n){this.f_(n)||t.prototype.qs.call(this,n)},i.$g=function(t){this.Ug.push(t)},i.h_=function(t){Ee(this.Ug,t)},i.v_=function(t){if(t!==this.Ml){var n=this.Ml;n.e_(),n.Ys(this.Vs);var i=nl(this),r=this.d_,e=this.c_();this.Ml=t,this.qg.Hl=t.Xg,this.Hg.Hl=t.Gg,this.jg.Hl=t.Yg,this.Wg.Hl=t.Kg,il(this,i,this);var u=this.d_;u!==r&&this.qs(new hd(u)),this.c_()!==e&&this.qs(new fd),t.Ws(this.Vs),t.r_(n)}},i.l_=function(){},i.sr=function(){var t=C.coroutine(Vr.mark(function t(){var n,i,r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zs(),this.Ml.e_(),n=0,i=this.Ug;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.qg.sr(),this.Hg.sr(),this.jg.sr(),this.Wg.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ve(this.Ug.map(function(t){return t.Pl()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"Xg",get:function(){return this.qg}},{key:"Yg",get:function(){return this.jg}},{key:"Gg",get:function(){return this.Hg}},{key:"w_",get:function(){return this.Ml.w_}},{key:"y_",get:function(){return this.Ml.y_},set:function(t){this.Ml.y_=t}},{key:"d_",get:function(){return this.Ml.d_}},{key:"qw",get:function(){return this.Ml.qw},set:function(t){this.Ml.qw=t}},{key:"Hw",get:function(){return this.Ml.Hw}},{key:"g_",get:function(){return this.Ml.g_}},{key:"jw",get:function(){return this.Ml.jw}},{key:"ic",get:function(){return this.Ml.ic}},{key:"Ww",get:function(){return this.Ml.Ww}},{key:"Kg",get:function(){return this.Wg}},{key:"__",get:function(){return this.Ml.__}},{key:"Lg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.p_,i+=c.m_,r+=c.k_,e+=c.b_,u+=c.T_,o.amountOfBufferedAudioSegments+=c.E_.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.E_.amountOfBufferedVideoSegments}return{p_:n,m_:i,k_:r,b_:e,T_:u,E_:o}}(this.Ug.map(function(t){return t.Lg}))}},{key:"zw",get:function(){return this.Ml.zw},set:function(t){this.Ml.zw=t}},{key:"S_",get:function(){return this.Ml.S_}},{key:"$w",get:function(){return this.Ml.$w}},{key:"Xw",get:function(){return this.Ml.Xw},set:function(t){this.Ml.Xw=t}},{key:"R_",get:function(){return this.Ml.R_}},{key:"I_",get:function(){return this.Ml.I_},set:function(t){this.Ml.I_=t}},{key:"uw",get:function(){return this.Ml.uw}},{key:"C_",get:function(){return this.Ml.C_}},{key:"Gw",get:function(){return this.Ml.Gw}},{key:"Yw",get:function(){return this.Ml.Yw}},{key:"Kw",get:function(){return this.Ml.Kw}},{key:"Jw",get:function(){return this.Ml.Jw},set:function(t){this.Ml.Jw=t}},{key:"Hl",get:function(){return this.Ml},set:function(t){this.v_(t)}}]),n}(ad),Ol=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return z(n,t),j(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Oo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Al||(Al={}));var xl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(en(u),u.constructor),u}return z(n,t),j(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function Pl(t){Fv(t,"MEDIA_ERR_ABORTED",Al.ABORTED),Fv(t,"MEDIA_ERR_NETWORK",Al.NETWORK),Fv(t,"MEDIA_ERR_DECODE",Al.DECODE),Fv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Al.SRC_NOT_SUPPORTED),Fv(t,"MEDIA_ERR_ENCRYPTED",Al.ENCRYPTED)}function Ll(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new xl(Al.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new xl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Al.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Al.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Al.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Al.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Al.NETWORK;if(i===n.ErrorCategory.SOURCE)return Al.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Al.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Al.ENCRYPTED;if(i===n.ErrorCategory.AD)return Al.ADVERTISEMENT_ERROR;return Al.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}Pl(xl),Pl(xl.prototype);var Fl,Ml=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Nl=function(n){return t.prototype.Nl.call(this,n)},i.ol=function(){return Qv(this)},n}(Nv);!function(t){t.Nv="audio",t.Ov="video",t.eu="text",t.xv="image",t.pv="unknown"}(Fl||(Fl={}));var Bl=function(){function t(){this.A_=[],this.il=void 0}var n=t.prototype;return n.py=function(t){this.A_.push(t),this.il&&this.il.push(t.ul)},n.Dl=function(t){return this.A_[t]},n.D_=function(t){return ut(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Re(t,n[i]))return!1;return!0}(this.A_,t):Re(this.A_,t)},j(t,[{key:"Ll",get:function(){return this.A_}},{key:"Fl",get:function(){return this.A_.length}},{key:"ul",get:function(){var t,n;return this.il||(this.il=((n=(t=this).Ll.map(function(t){return t.ul})).item=function(n){var i=0|n,r=t.Dl(i);return r&&r.ul||void 0},n)),this.il}}]),t}(),Ul=function(t){function n(n){var i;return(i=t.call(this,Ev.El)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new Vl(this.sl.ul)},n}(Sv),Vl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return z(n,t),n}(Rv),ql=0;function Hl(){return ql++}var jl=0;var Wl=0;var zl=0;var $l=function(t){function n(n){var i;return(i=t.call(this)||this).as=Fl.Nv,i.N_=void 0,i.O_=void 0,i.x_=void 0,i.P_=void 0,i.L_=!1,i.A_=void 0,i.il=void 0,i.N_=n,i.P_=Hl(),i.O_=zl+++"",i.x_=n.label,i.A_=new Bl,i.F_(),i}z(n,t);var i=n.prototype;return i.M_=function(t){this.zl=t},i.F_=function(){this.zl=this.B_},j(n,[{key:"Wl",get:function(){}},{key:"zl",get:function(){return this.L_},set:function(t){this.L_!==t&&(this.L_=t,this.B_=t,this.qs(new Ov(this)))}},{key:"B_",get:function(){return!!this.N_.enabled},set:function(t){this.N_.enabled=t}},{key:"ul",get:function(){return this.il||(this.il=Kv(this)),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"Gl",get:function(){return this.N_.kind}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.N_.language}},{key:"nw",get:function(){return this.zl?"enabled":"disabled"}},{key:"U_",get:function(){return this.N_}},{key:"Jl",get:function(){return this.A_}},{key:"Ql",get:function(){},set:function(t){}}]),n}(ze),Xl=0;var Gl,Yl,Kl,Jl,Ql,Zl=function(t){function n(n){var i;return(i=t.call(this)||this).as=Fl.Ov,i.N_=void 0,i.O_=void 0,i.P_=void 0,i.L_=!1,i.A_=void 0,i.x_=void 0,i.il=void 0,i.N_=n,i.P_=Hl(),i.O_=Xl+++"",i.A_=new Bl,i.x_=n.label,i.F_(),i}z(n,t);var i=n.prototype;return i.F_=function(){this.zl=this.B_},i.M_=function(t){this.zl=t},j(n,[{key:"Wl",get:function(){}},{key:"zl",get:function(){return this.L_},set:function(t){this.L_!==t&&(this.L_=t,this.B_=t,this.qs(new Ov(this)))}},{key:"B_",get:function(){return!!this.N_.selected},set:function(t){this.N_.selected=t}},{key:"ul",get:function(){return this.il||(this.il=Kv(this)),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"Gl",get:function(){return"main"}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.N_.language}},{key:"nw",get:function(){return this.zl?"enabled":"disabled"}},{key:"U_",get:function(){return this.N_}},{key:"Jl",get:function(){return this.A_}},{key:"Ql",get:function(){},set:function(t){}}]),n}(ze),tw=function(t){function n(n){var i;return(i=t.call(this,Qo.Ga)||this).__=n,i}return z(n,t),n}(Xe);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Gl||(Gl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Yl||(Yl={})),function(t){t.V_="cue",t.q_="region",t.H_="stylesheet"}(Kl||(Kl={})),function(t){t.j_="W_",t.z_="X_",t.El="Hc"}(Jl||(Jl={})),function(t){t.j_="enter",t.z_="exit",t.El="update"}(Ql||(Ql={}));var nw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).G_=i,r}return z(n,t),n}(Sv),iw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return z(n,t),n}(Rv);function rw(t){var n,i=[Jl.j_,Jl.z_,Jl.El],r={get track(){return t.sl.ul},get id(){return t.$l},get uid(){return t.Xl},get startTime(){return t.Y_},get endTime(){return t.K_},get content(){return t.J_},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new $e(r),t.Hs(i,function(t){return n.qs(t.ul)}),r}function ew(){}var uw=.02;var ow=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).P_=void 0,o.O_=void 0,o.Q_=void 0,o.Z_=void 0,o.il=void 0,o.tp=void 0,o.np=!1,o.ip=void 0,o.rp=void 0,o.ep="",o.op=-1,o.P_=Wl++,o.Q_=n,o.Z_=i,o.ip=r,o.rp=Boolean(e),o.O_=null!=u?u:"",o}z(n,t);var i=n.prototype;return i.ol=function(){return rw(this)},i.vy=function(t){return this===t||Vv(this,t)&&(i=t,Jt((n=this).Y_,i.Y_,uw)&&Jt(n.K_,i.K_,uw)&&n.$l===i.$l);var n,i},i.sr=function(){this.zs()},j(n,[{key:"Y_",get:function(){return this.Q_},set:function(t){this.Q_=t}},{key:"K_",get:function(){return this.Z_},set:function(t){this.Z_=t}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"sp",get:function(){return this.np},set:function(t){this.np=t}},{key:"sl",get:function(){return this.tp},set:function(t){this.tp=t}},{key:"J_",get:function(){return this.ip},set:function(t){this.ip=t}},{key:"cp",get:function(){return this.ep},set:function(t){this.ep=t}},{key:"ap",get:function(){return this.rp},set:function(t){this.rp=t}}]),n}(ze);var sw=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).fp="auto",o.hp="start",o.vp="auto",o.dp="auto",o.lp=void 0,o.wp=!0,o.lc=100,o.yp="center",o.gp="",o}return z(n,t),n.prototype.vy=function(n){return this===n||Vv(this,n)&&t.prototype.vy.call(this,n)&&(r=n,(i=this).J_===r.J_&&i.fp===r.fp&&i.hp===r.hp&&i.vp===r.vp&&i.dp===r.dp&&i.lp===r.lp&&i.wp===r.wp&&i.lc===r.lc&&i.yp===r.yp&&i.gp===r.gp);var i,r},j(n,[{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get align(){return t.yp},get line(){return t.fp},get lineAlign(){return t.hp},get position(){return t.vp},get positionAlign(){return t.dp},get region(){return t.lp?t.lp.ul:null},get size(){return t.lc},get snapToLines(){return t.wp},get text(){return t.J_},get vertical(){return t.gp}})),this.il}},{key:"as",get:function(){return Kl.V_}}]),n}(ow);var cw,aw,fw,hw,vw=function(){function t(t,n,i,r,e,u,o,s){this.il=void 0,this.$l=t,this.do=n,this._p=i,this.pp=r,this.mp=e,this.kp=u,this.bp=o,this.Tp=s}return j(t,[{key:"ul",get:function(){var t;return this.il||(this.il=(t=this,{get id(){return t.$l},get identifier(){return t.$l},get lines(){return t._p},get regionAnchorX(){return t.pp},get regionAnchorY(){return t.mp},get scrollValue(){return t.Tp},get viewportAnchorX(){return t.kp},get viewportAnchorY(){return t.bp},get width(){return t.do}})),this.il}},{key:"as",get:function(){return Kl.q_}}]),t}(),dw=9e4,lw=l.pow(2,33),ww=(Sl.Ry(lw,dw).Jy(2),{Ep:0,Sp:1/0,Rp:0}),yw=6,gw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],_w=[" ","\t","\n","\f","\r"],pw=/^\d*$/,mw=/.*[0-9]+.*/,kw=/^[\d.-]+$/,bw=/(^\.|\.$)/,Tw=/(\D\.|\.\D)/;function Ew(t,n){void 0===n&&(n=ww);var i={ow:[],Ip:[],Cp:[]},r=Sw(t),e=new no;if(Lw(r),Rw(r,function(t){return"\n"!==t},e),e.pc>=r.length)return i;(e.yc(1),"\n"!==r.charAt(e.pc))?Dw(Iw(r,e,!1,!0,i,n),i):e.yc(1);for(Rw(r,function(t){return"\n"===t},e);e.pc<r.length;){Dw(Iw(r,e,!1,!1,i,n),i),Rw(r,function(t){return"\n"===t},e)}return i}function Sw(t){var n=fe(t,"\0"," "),i=fe(n,"\r\n","\n");return fe(i,"\r","\n")}function Rw(t,n,i){for(var r=i.pc;i.pc<t.length&&n(t.charAt(i.pc));)i.yc(1);return t.substring(r,i.pc)}function Iw(t,n,i,r,e,u){for(var o,s=0,c=n.pc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Rw(t,function(t){return"\n"!==t},n),s++,n.pc>=t.length?f=!0:n.yc(1),he(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.gc(c);break}h=!0,c=n.pc,v=new sw(0,0,"",!1,a);try{Nw(o,e.Ip,v,u),a=""}catch(t){D.bo(t),v=null}}else{if(""===o)break;r&&ve(o,"X-TIMESTAMP-MAP")&&(e.Ap=Cw(o)),r||2!==s||i||(le("STYLE",a.replace(/ /g,""))?(d={as:Kl.H_},a=""):le("REGION",a.replace(/ /g,""))&&(l=new vw("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.pc}if(v)return v.J_=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&he(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":$w(s,n);break;case"WIDTH":Yw(s,n);break;case"LINES":Gw(s,n);break;case"REGIONANCHOR":var c=zw(s);c&&(n.pp=c[0],n.mp=c[1]);break;case"VIEWPORTANCHOR":var a=zw(s);a&&(n.kp=a[0],n.bp=a[1]);break;case"SCROLL":Xw(s,n)}}}}(a,l),l;return null}function Cw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Aw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Aw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Dp:(i=Number(e.split(/:(.*)/)[1].trim())||0,Sl.Ry(i,dw)),Np:Sl.hg(null!=(n=Pw(u.split(/:(.*)/)[1].trim(),new no))?n:0)}}function Aw(t,n){return ve(t,n)}function Dw(t,n){t&&function(t){return t.as===Kl.V_}(t)?n.ow.push(t):t&&function(t){return t.as===Kl.q_}(t)?n.Ip.push(t):t&&function(t){return t.as===Kl.H_}(t)&&n.Cp.push(t)}function Nw(t,n,i,r){var e=new no;if(Fw(t,e),i.Y_=Ow(Pw(t,e),r),Fw(t,e),"--\x3e"!==t.substring(e.pc,e.pc+3))throw h("Something went wrong with parsing a WebVTT Cue");e.yc(3),Fw(t,e),i.K_=Ow(Pw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&he(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":qw(c,n,i);break;case"VERTICAL":jw(c,n);break;case"D":Ww(c,n);break;case"LINE":case"L":Uw(c,n);break;case"POSITION":case"T":Vw(c,n);break;case"SIZE":case"S":Hw(c,n);break;case"ALIGN":case"A":Bw(c,n)}}}}(t.substring(e.pc,t.length),i,n)}function Ow(t,n){return t+n.Ep}function xw(t){return/^[0-9]$/.test(t)}function Pw(t,n){var i,r,e,u=fe(t,",","."),o=!1;if(n.pc>=u.length||!xw(u.charAt(n.pc)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var s=Rw(u,xw,n),c=w(s,10);if((s.length>2||c>59)&&(o=!0),n.pc>=u.length||":"!==u.charAt(n.pc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var a=Rw(u,xw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(o||n.pc<u.length&&":"===u.charAt(n.pc)){if(n.pc>=u.length||":"!==u.charAt(n.pc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var v=Rw(u,xw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=w(v,10)}else i=0,r=c,e=f;if(n.pc>=u.length||"."!==u.charAt(n.pc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var d=Rw(u,xw,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Lw(t){if(t.length<yw)return!1;for(var n=0;n<gw.length;n++){if(ve(t,gw[n]))return!0}return!1}function Fw(t,n){for(;n.pc<t.length&&(i=t.charAt(n.pc),Re(_w,i));)n.yc(1);var i}function Mw(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Bw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.yp=i;break;case"middle":n.yp="center"}}function Uw(t,n){var i=t,r="";if(he(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),mw.test(i)){var e;if(de(i,"%")){var u=Mw(i);if(null===u)return;e=u}else{if(!kw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Tw.test(t)||bw.test(t))return;if(e=y(t),g(e))return}switch(n.fp=e,n.wp=de(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.hp=r;break;case"middle":n.hp="center"}}}function Vw(t,n){var i=t,r="";he(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Mw(i);if(null!==e)switch(n.vp=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.dp=r;break;case"start":n.dp="line-left";break;case"middle":n.dp="center";break;case"end":n.dp="line-right"}}function qw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].$l===t)return void(n.lp=i[r])}function Hw(t,n){var i=Mw(t);null!==i&&(n.lc=i)}function jw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.gp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.gp="lr";break;default:n.gp=""}}function Ww(t,n){"VERTICAL"===t.toUpperCase()?n.gp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.gp="lr")}function zw(t){if(t.indexOf(",")>=0){var n=Mw(t.substring(0,t.indexOf(","))),i=Mw(t.substring(t.indexOf(",")+1,t.length));return[Kt(n||0,0,100),Kt(i||100,0,100)]}return null}function $w(t,n){n.$l=t}function Xw(t,n){"up"===t.toLowerCase()&&(n.Tp="up")}function Gw(t,n){pw.test(t)&&(n._p=w(t))}function Yw(t,n){var i=Mw(t);null!==i&&(n.do=i)}!function(t){t.Op="moov",t.xp="mvhd",t.Pp="trak",t.Lp="tkhd",t.Fp="mdia",t.Mp="mdhd",t.Bp="hdlr",t.Up="minf",t.Vp="stbl",t.qp="stsd",t.Hp="stsc",t.jp="mvex",t.Wp="trex",t.zp="avc1",t.$p="avcC",t.Xp="hev1",t.Gp="hvc1",t.Yp="hvcC",t.Kp="pasp",t.Jp="mp4a",t.Qp="esds",t.Zp="wvtt",t.tm="vttC",t.nm="vlab",t.im="enca",t.rm="encv",t.um="moof",t.om="mfhd",t.sm="traf",t.cm="tfhd",t.am="trun",t.fm="tfdt",t.hm="mdat",t.vm="pssh",t.dm="emsg",t.lm="sidx",t.wm="styp",t.ym="ftyp",t.gm="sinf",t._m="frma"}(cw||(cw={})),function(t){t.Ov="vide",t.Nv="soun",t.pm="subt",t.mm="hint",t.km="meta",t.bm="auxv"}(aw||(aw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(fw||(fw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(hw||(hw={}));var Kw=function(){function t(t,n){this.xu=void 0,this.Tm=void 0,this.xu=t,this.Tm=n}var n=t.prototype;return n.Em=function(){return Su(this.xu,this.Tm)},n.Sm=function(){return Au(this.xu,this.Tm)},n.Rm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.pc,i);return n.yc(2),r}(this.xu,this.Tm)},n.Im=function(){return Nu(this.xu,this.Tm)},n.Cm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.pc,i);return n.yc(4),r}(this.xu,this.Tm)},n.Am=function(){return xu(this.xu,this.Tm)},n.Dm=function(t){return Iu(this.xu,this.Tm,t)},n.Nm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Nu(t,n));return r}(this.xu,this.Tm,t)},n.Om=function(t){return Fu(this.xu,this.Tm,t)},n.xm=function(){return zu(this.xu,this.Tm)},n.Pm=function(t){this.Tm.yc(t)},n._c=function(){return new t(this.xu,this.Tm._c())},t}(),Jw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lm=n,r.Fm=i,r}return z(n,t),j(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Qw=function(){function t(){}return t.Mm=function(n){var i=n.xu,r=n.Tm,e=t.Bm(i,r,!1);if(!e.Um)throw new Jw(r.pc,e.Eu);return e.Eu},t.Bm=function(n,i,r){for(var e=[];i.pc<n.byteLength;){var u=t.Vm(n,i,r);if(!u.Um)return{Um:!1,Eu:e};e.push(u.qm)}return{Um:!0,Eu:e}},t.Hm=function(n,i){var r=t.Vm(n,i,!1);if(!r.Um)throw new Jw(i.pc);return r.qm},t.jm=function(n,i){for(var r=n.xu,e=n.Tm;e.pc<r.byteLength;){var u=t.Vm(r,e,!1);if(!u.Um)return;if(u.qm.as===i)return u.qm}},t.Vm=function(n,i,r){var e=i.pc,u=t.Wm(n,i);if(!u.Um)return u;var o=u.zm,s=o.lc;if(0===s){if(r)return i.gc(e),{Um:!1,$m:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.gc(e),{Um:!1,$m:a}}var f,h,v,d={as:o.as,pc:e,xu:new Kw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new no(o.Xm))};return i.gc(c),{Um:!0,qm:d}},t.Wm=function(t,n){var i=n.pc;if(!Cu(t,n,8))return{Um:!1,$m:n.pc+8};var r=Nu(t,n),e=Fu(t,n,4);if(1===r){if(!Cu(t,n,8)){var u=n.pc+8;return n.gc(i),{Um:!1,$m:u}}r=xu(t,n).toNumber()}if("uuid"===e){if(!Cu(t,n,16)){var o=n.pc+16;return n.gc(i),{Um:!1,$m:o}}e=Fu(t,n,16)}return{Um:!0,zm:{as:e,lc:r,Xm:n.pc-i}}},t.Gm=function(t,n,i){var r=t.xu,e=t.Tm,u=Gu(Ku(r),e.pc,r.byteLength);return i&&(u=to(u)),e.yc(u.byteLength),{as:n,xu:u}},t.Ym=function(n,i,r){var e=iy(n.Im());return{as:i,Km:e.version,Jm:e.flags,xu:t.Gm(n,i,r).xu}},t}();function Zw(t,n){var i=ty(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function ty(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.as===n)return r.xu}}function ny(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.as===n&&i.push(e.xu)}return i}function iy(t){return{version:t>>24,flags:new Eu(16777215&t)}}var ry=function(){function t(){}return t.Qm=function(n){for(var i=[],r=Qw.Mm(new Kw(n,new no)),e=0;e<r.length;e++){var u=r[e],o=t.Zm(u);o&&i.push(o)}return i},t.tk=function(t){return Qw.Bm(t,new no,!1).Eu.some(function(t){return t.as===cw.um||t.as===cw.wm})},t.nk=function(n){return ny(Qw.Mm(new Kw(n,new no)),cw.vm).map(t.ik)},t.rk=function(n){return ny(Qw.Mm(n.xu),cw.vm).map(t.ik)},t.Zm=function(n){switch(n.as){case cw.Op:return t.ek(n.xu);case cw.um:return t.uk(n.xu,n.pc);case cw.hm:return t.sk(n.xu);case cw.lm:return t.ck(n.xu);case cw.dm:return t.ak(n.xu)}},t.ek=function(n){var i=Qw.Mm(n),r=Zw(i,cw.xp),e=ny(i,cw.Pp),u=ty(i,cw.jp),o=t.fk(r),s=e.map(t.hk),c=u?t.vk(u):void 0;return{as:cw.Op,zm:o,dk:s,lk:c}},t.fk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im(),s=1===i?t.Am():t.Im(),c=t.Im(),a=t.Sm()>>8;t.Pm(2),t.Pm(8);var f=t.Nm(9);t.Pm(24);var h=t.Im();return{as:cw.xp,Km:i,Jm:r,wk:e,yk:u,tg:o,Hw:s,gk:c,Jw:a,_k:f,pk:h}},t.hk=function(n){var i=Qw.Mm(n),r=Zw(i,cw.Lp),e=Zw(i,cw.Fp),u=t.mk(r),o=t.kk(e);return{as:cw.Pp,zm:u,bk:o}},t.mk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im();t.Pm(4);var s=1===i?t.Am():t.Im();t.Pm(8);var c=t.Rm(),a=t.Rm(),f=t.Rm()/l.pow(2,8);t.Pm(2);var h=t.Nm(9),v=t.Im()/l.pow(2,16),d=t.Im()/l.pow(2,16);return{as:cw.Lp,Tk:r.kc(1),Ek:r.kc(2),Sk:r.kc(4),wk:e,yk:u,Rk:o,Hw:s,Ik:c,Ck:a,Jw:f,_k:h,do:v,Ak:d}},t.kk=function(n){var i=Qw.Mm(n),r=Zw(i,cw.Mp),e=Zw(i,cw.Bp),u=Zw(i,cw.Up),o=t.Dk(r),s=t.Nk(e),c=t.Ok(u);return{as:cw.Fp,zm:o,xk:s,Pk:c}},t.Dk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im(),s=1===i?t.Am():t.Im();t.Sm();return t.Pm(2),{as:cw.Mp,Km:i,Jm:r,wk:e,yk:u,tg:o,Hw:s}},t.Nk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags;t.Pm(4);var e=t.Om(4);t.Pm(12);var u=t.xm();return{as:cw.Bp,Km:i,Jm:r,Lk:e,vu:u}},t.Ok=function(n){var i=Zw(Qw.Mm(n),cw.Vp),r=t.Fk(i);return{as:cw.Up,Mk:r}},t.Fk=function(n){var i=Zw(Qw.Mm(n),cw.qp),r=t.Bk(i);return{as:cw.Vp,Uk:r}},t.Bk=function(n){for(var i=iy(n.Im()),r=i.version,e=i.flags,u=(n.Im(),[]),o=Qw.Mm(n),s=0;s<o.length;s++){var c=o[s],a=t.Vk(c.xu,c.as);a&&u.push(a)}return{as:cw.qp,Km:r,Jm:e,qk:u}},t.Vk=function(n,i){var r=t.Hk(n,i);return r||((r=t.jk(n,i))||(i===cw.Zp?t.Wk(n):void 0))},t.Hk=function(n,i){return i===cw.Jp?t.zk(n):i===cw.im?t.$k(n):void 0},t.jk=function(n,i){return i===cw.zp?t.Xk(n):i===cw.Xp||i===cw.Gp?t.Gk(n,i):i===cw.rm?t.Yk(n):void 0},t.Kk=function(t,n){return t.Pm(6),{as:n,Jk:t.Sm()}},t.Qk=function(n,i){var r=t.Kk(n,i);n.Pm(8);var e=n.Sm(),u=n.Sm();return n.Pm(2),n.Pm(2),qr({},r,{Zk:e,nb:u,ib:n.Im()>>>16})},t.rb=function(n,i){var r=t.Kk(n,i);n.Pm(2),n.Pm(2),n.Pm(12);var e=n.Sm(),u=n.Sm(),o=n.Im(),s=n.Im();n.Pm(4);var c=n.Sm();n.Pm(32);var a=n.Sm();return n.Pm(2),qr({},r,{do:e,Ak:u,eb:o,ub:s,ob:c,sb:a})},t.zk=function(n){var i=t.Qk(n,cw.Jp),r=Zw(Qw.Mm(n),cw.Qp);return qr({},i,{cb:t.ab(r)})},t.Wk=function(n){var i=t.Kk(n,cw.Zp),r=Qw.Mm(n),e=Zw(r,cw.tm),u=t.fb(e),o=ty(r,cw.nm);return qr({},i,{hb:u,vb:o?t.lb(o):o})},t.fb=function(t){return{as:cw.tm,Kc:t.xm()}},t.lb=function(t){return{as:cw.nm,Yl:t.xm()}},t.ab=function(t){return Qw.Ym(t,cw.Qp,!0)},t.Xk=function(n){var i=t.rb(n,cw.zp),r=Qw.Mm(n),e=Zw(r,cw.$p),u=ty(r,cw.Kp);return qr({},i,{wb:t.yb(e),gb:u?t._b(u):void 0})},t.Gk=function(n,i){var r=t.rb(n,i),e=Zw(Qw.Mm(n),cw.Yp);return qr({},r,{pb:t.mb(e)})},t.Yk=function(n){var i=n._c(),r=t.rb(n,cw.rm),e=Zw(Qw.Mm(n),cw.gm),u=t.kb(e);return qr({},r,{bb:t.jk(i,u.Eb.Tb),Sb:u})},t.$k=function(n){var i=n._c(),r=t.Qk(n,cw.im),e=Zw(Qw.Mm(n),cw.gm),u=t.kb(e);return qr({},r,{bb:t.Hk(i,u.Eb.Tb),Sb:u})},t.kb=function(n){var i=Zw(Qw.Mm(n),cw._m),r=t.Rb(i);return{as:cw.gm,Eb:r}},t.Rb=function(t){var n=t.Om(4);return{as:cw._m,Tb:n}},t.yb=function(t){return Qw.Gm(t,cw.$p,!0)},t.mb=function(t){return Qw.Gm(t,cw.Yp,!0)},t._b=function(t){var n=t.Im(),i=t.Im();return{as:cw.Kp,Ib:n,Cb:i}},t.vk=function(n){var i=ny(Qw.Mm(n),cw.Wp).map(t.Ab);return{as:cw.jp,dk:i}},t.Ab=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im(),u=t.Im(),o=t.Im(),s=t.Im(),c=t.Im();return{as:cw.Wp,Km:i,Jm:r,Rk:e,Db:u,Nb:o,Ob:s,xb:c}},t.uk=function(n,i){var r=Qw.Mm(n),e=Zw(r,cw.om),u=ny(r,cw.sm),o=t.Pb(e),s=u.map(t.Lb);return{as:cw.um,Fb:i,zm:o,dk:s}},t.Pb=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im();return{as:cw.om,Km:i,Jm:r,Mb:e}},t.Lb=function(n){var i=Qw.Mm(n),r=Zw(i,cw.cm),e=ny(i,cw.am),u=ty(i,cw.fm),o=t.Bb(r),s=e.map(function(n){return t.Ub(n,o)}),c=u?t.Vb(u):void 0;return{as:cw.sm,zm:o,qb:s,Hb:c}},t.Bb=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im(),u=r.kc(fw.BASE_DATA_OFFSET_PRESENT)?t.Am():void 0,o=r.kc(fw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Im():void 0,s=r.kc(fw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Im():void 0,c=r.kc(fw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Im():void 0,a=r.kc(fw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Im():void 0;return{as:cw.cm,Km:i,Jm:r,Rk:e,jb:u,Wb:o,Nb:s,Ob:c,xb:a}},t.Ub=function(n,i){for(var r=iy(n.Im()),e=r.version,u=r.flags,o=n.Im(),s=u.kc(hw.DATA_OFFSET_PRESENT)?n.Cm():void 0,c=u.kc(hw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Im():void 0,a=[],f=0;f<o;f++){var h=t.zb(n,u,e,i);0===f&&void 0!==c&&(h.Jm=c),a.push(h)}return{as:cw.am,Km:e,Jm:u,$b:o,Fb:s,Xb:c,Gb:a}},t.zb=function(t,n,i,r){return{Hw:n.kc(hw.SAMPLE_DURATION_PRESENT)?t.Im():r.Nb,lc:n.kc(hw.SAMPLE_SIZE_PRESENT)?t.Im():r.Ob,Jm:n.kc(hw.SAMPLE_FLAGS_PRESENT)?t.Im():r.xb,Yb:n.kc(hw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Im():t.Cm():void 0}},t.ak=function(t){var n=t.xu,i=t.Tm,r=iy(Nu(n,i)),e=r.version,u=r.flags;if(1===e){var o=Nu(n,i),s=xu(n,i),c=Nu(n,i),a=Nu(n,i),f=Lu(n,i),h=Lu(n,i),v=Zu(Ku(n),i.pc,n.byteLength);return i.yc(v.byteLength),{as:cw.dm,Km:e,Jm:u,Kb:f,wu:h,tg:o,Jb:s,Qb:c,$l:a,Zb:v}}var d=Lu(n,i),l=Lu(n,i),w=Nu(n,i),y=Nu(n,i),g=Nu(n,i),_=Nu(n,i),p=Zu(Ku(n),i.pc,n.byteLength);return i.yc(p.byteLength),{as:cw.dm,Jm:u,Km:e,Kb:d,wu:l,tg:w,tT:y,Qb:g,$l:_,Zb:p}},t.sk=function(t){return Qw.Gm(t,cw.hm,!1)},t.ik=function(n){var i=n.xu,r=n.Tm,e=to(Ku(i)).buffer,u=iy(Nu(i,r)),o=u.version,s=u.flags,c=t.nT(i,r),a=[];if(o>0)for(var f=Nu(i,r),h=0;h<f;h++){var v=Iu(i,r,16);a.push(v)}var d=Nu(i,r),l=new _(e,r.pc,d);return r.yc(i.byteLength),{as:cw.vm,Km:o,Jm:s,iT:c,rT:a,eT:d,xu:l,uT:e}},t.nT=function(t,n){for(var i="",r=0;r<4;r++){var e=Su(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Su(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Su(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Su(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Su(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.ck=function(t){var n,i,r=t.xu,e=t.Tm,u=iy(Nu(r,e)),o=u.version,s=u.flags,c=Nu(r,e),a=Nu(r,e);0===o?(n=Gt.fromBits(Nu(r,e),0,!0),i=Gt.fromBits(Nu(r,e),0,!0)):(n=xu(r,e),i=xu(r,e)),e.yc(2);for(var f=Au(r,e),h=[],v=0;v<f;v+=1){var d=Nu(r,e),l=d>>31&1,w=2147483647&d,y=Nu(r,e),g=Nu(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({oT:l,sT:w,Hw:y,cT:_,aT:p,fT:m})}return{as:cw.lm,Km:o,Jm:s,hT:c,tg:a,vT:n,dT:i,lT:f,wT:h}},t.Vb=function(t){var n,i=t.xu,r=t.Tm,e=iy(Nu(i,r)),u=e.version,o=e.flags;return n=0===u?Gt.fromBits(Nu(i,r),0,!0):xu(i,r),{as:cw.fm,Km:u,Jm:o,Hb:n}},t}();function ey(t){return t&&"Tu"in t?t.Tu:t}var uy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).yT=void 0,c.gT=void 0,c._T=void 0,c.yT=u,c.gT=o,c._T=s||void 0,c}return z(n,t),n.prototype.vy=function(n){return this===n||!!Vv(this,n)&&(!!t.prototype.vy.call(this,n)&&(!!Uv(this.pT,n.pT)&&(!!Uv(this.Ip,n.Ip)&&(this.mT&&n.mT?!!this.mT.au(n.mT)&&(this.J_&&n.J_?this.J_.au(n.J_):this.J_===n.J_):this.mT===n.mT))))},j(n,[{key:"pT",get:function(){return this.yT}},{key:"Ip",get:function(){return this.gT}},{key:"mT",get:function(){return this._T}},{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get styles(){return t.pT},get regions(){return t.Ip},get metadata(){return ey(t.mT)},get content(){return ey(t.J_)}})),this.il}}]),n}(ow),oy=function(){function t(t,n,i){this.Nh=void 0,this.kT=void 0,this.bT=void 0,this.kT=t,this.bT=n,rn(i)?this.Nh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Iu(u)}return i}(0,0,i):this.Nh=i}return j(t,[{key:"TT",get:function(){return this.Nh.fu(!0)}},{key:"Y_",get:function(){return this.kT}},{key:"K_",get:function(){return this.bT}}]),t}();var sy="http://www.w3.org/XML/1998/namespace";function cy(t,n){return function(t,n){var i=t.Eu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Eu)}return r}(t,function(t){return t.mu===n})}function ay(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function fy(t,n){for(var i=t.Nu,r={},e=0;e<i.length;e++)r[ay(i[e].vu,n)]=i[e].wu;return r}var hy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,vy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,dy="http://www.w3.org/ns/ttml";function ly(t,n,i){return void 0===i&&(i=ww),function(t,n,i){var r,e=[];try{r=D.su(t)}catch(t){return e}var u=r.Pu;if("tt"!==u.hu)return e;var o=u&&u.ku(dy,"head")[0],s=u&&u.ku(dy,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.ku(dy,"styling")[0],e=r&&r.ku(dy,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");i[s]=fy(o,n)}return i}(o,c),f=function(t,n){var i=Bv(t),r=_y(n.Su("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var o=u[e],s=_y(i[o].extent);if(s){var c=yy(s[0],r[0]),a=yy(s[1],r[1]);i[o].extent=c+" "+a}var f=_y(i[o].origin);if(f){var h=yy(f[0],r[0]),v=yy(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.ku(dy,"layout")[0],e=r&&r.ku(dy,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");if(s){i[s]=fy(o,n);var c=ky(o,n);for(var a in c)it.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.ku(dy,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(rn(n)){var f,h;u=null!=(f=my(n.Su("begin"),e))?f:u,o=my(n.Su("dur"),0),s=null!=(h=my(n.Su("end"),e))?h:void 0!==o?u+o:s;for(var v=n.pu,d=0;d<v.length;d++)("body"===n.hu||"div"===n.hu)&&v[d].nu>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Y_,u.K_)}r.sort(fl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(Se(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=py(l[w],l[w+1],c);if(y.length<=0&&by(n)){var g=n.fu(!1);a.push(new oy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.fu(!1);y.forEach(function(n){return t.bu(n.TT)}),a.push(new oy(l[w],l[w+1],t))}()}return a}(s,i.Ep,i.Sp,i.Rp),l=0;l<v.length;l++){var w=v[l],y=wy(f,w);e.push(new uy(w.Y_,w.K_,w.TT,!1,a,y,h))}return e}(t,0,i)}function wy(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.Su("region"))&&i.push(r);for(var e=n.pu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.TT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function yy(t,n){var i=gy(t),r=gy(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function gy(t){return de(t,"px")?"px":de(t,"em")?"em":de(t,"c")?"c":de(t,"%")?"%":void 0}function _y(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function py(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Y_,o=i[e].K_;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function my(t,n){if(t){if(hy.test(t)){var i=hy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*l.pow(.1,o.length):0)-n}if(vy.test(t)){var s=vy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function ky(t,n){for(var i={},r=t._u("style")||[],e=0;e<r.length;e++){var u=fy(r[e],n);for(var o in u)it.call(u,o)&&(i[o]=u[o])}return i}function by(t){if(rn(t)){var n=t.hu.toUpperCase(),i=Boolean(t.Su("smpte:backgroundImage"));return"BR"===n||i}return t.nu===nn.eu}function Ty(t){var n=function(t){try{return D.su(t).Pu}catch(t){}}(t);return"tt"===(null==n?void 0:n.hu)}var Ey,Sy=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Nl=function(n){return t.prototype.Nl.call(this,n)},i.Ol=function(n){var i=t.prototype.Ol.call(this,n);return i&&(n.nw=Zv.ew),i},i.ol=function(){return ud(this)},n}(Nv),Ry=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).dk=new Sy,n.ET=function(t){var i=t.sl;n.ST(i)},n}z(n,t);var i=n.prototype;return i.Nl=function(t){t.Hs(Ev._l,this.ET),this.dk.Nl(t),this.ST(t)},i.Ol=function(t){t.$s(Ev._l,this.ET),t.nw=Zv.ew,this.dk.Ol(t)},i.RT=function(t){},i.IT=function(t){},i.ST=function(t){t.nw!==Zv.ew?this.RT(t):this.IT(t)},i.CT=function(){for(var t=0,n=this.dk.Ll;t<n.length;t++){var i=n[t];i.$s(Ev._l,this.ET),i.sr()}},i.Pl=function(){return this.CT(),this.dk.Pl(),C.resolve()},i.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),t.next=3,this.Pl();case 3:this.dk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(ze);!function(t){t.pm="subtitles",t.AT="captions",t.DT="descriptions",t.NT="chapters",t.km="metadata",t.OT="thumbnails"}(Ey||(Ey={}));var Iy=[Ey.pm,Ey.AT,Ey.DT,Ey.NT,Ey.km,Ey.OT];function Cy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Re(Iy,t)}(n)?n:n?Ey.km:Ey.pm}var Ay,Dy=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return z(n,t),n}(Oo);function Ny(t,n){return t===Ey.OT||t===Ey.km&&n===Ey.OT}function Oy(t,n,i,r){for(var e=0,u=t.ow.Ll;e<u.length;e++){var o=u[e];if(o.Y_>i)break;n<=o.K_&&r.push(o)}}function xy(t,n){return al(t.Xl,n.Xl)}function Py(t,i){var r=i,e=0;if(t instanceof Hf&&t.name===Bf.Gv)r=t.wv.gv;else if(function(t){return t instanceof Wf}(t)){var u=t.Zv;if(r=u.yv,0===(e=u.fv))return new Dy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Dy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ly(t){switch(t){case Yl.WEBVTT:return"WebVTT";case Yl.SRT:return"SRT";case Yl.TTML:return"TTML";default:return""}}function Fy(t){return Lw(Sw(t))?Yl.WEBVTT:Ty(t)?Yl.TTML:Yl.SRT}!function(t){t.xT="vtt",t.Zp="wvtt",t.PT="stpp"}(Ay||(Ay={}));var My=function(t){function n(n){var i;return(i=t.call(this,td.Zl)||this).errorObject=n,i}return z(n,t),n.prototype.ol=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv),By=function(t){function i(n,i){var r;return(r=t.call(this)||this).LT=void 0,r.FT=void 0,r.MT=new Ae,r.LT=n,r.FT=i,r}z(i,t);var r=i.prototype;return r.BT=function(t){if(t.src){var n=t.kind||Ey.pm,i=this.LT.UT(n,t.id,t.label,t.srclang,t.default);return i.cw=Mf(t.src),this.Nl(i),i}},r.VT=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v,d,l;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.uw=Gl.LOADING,e=new xf({gv:i.cw,vv:Zo.eu,Pv:Cf.GET,Fs:r}),t.prev=2,t.next=5,this.FT.wv(e);case 5:return s=t.sent,o=s.fv,t.next=9,s.Gh();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),xe(t.t0),i.uw=Gl.ERROR,i.qs(new My(Py(t.t0,i.cw))),t.abrupt("return");case 18:for(t.prev=18,c=Fy(u),i.as=c,a=[],c===Yl.WEBVTT||c===Yl.SRT?(f=Ew(u),a=f.ow):c===Yl.TTML&&(a=ly(u)),h=0,v=a;h<v.length;h++)d=v[h],i.qT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),xe(t.t1),i.uw=Gl.ERROR,l=Ly(i.as),i.qs(new My(new Dy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.cw,o,t.t1))),t.abrupt("return");case 33:i.uw=Gl.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.RT=function(t){Re(this.dk.Ll,t)&&t.uw===Gl.NONE&&this.VT(t,this.MT.Fs).catch(Pe)},r.Vc=function(){},r.Pl=function(){var n=C.coroutine(Vr.mark(function n(){var i,r,e;return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.MT.xs(),this.MT=new Ae,i=0,r=this.dk.Ll;i<r.length;i++)e=r[i],this.LT.HT(e);return n.next=5,t.prototype.Pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Ry);function Uy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Gl===n&&r.jT)return r}}function Vy(t,n){qy(Uy(t.Ll,n))}function qy(t){void 0!==t&&(t.nw=Zv.iw)}function Hy(t,n){qy(Uy(t.Ll,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Gl===n)return r}}(t.Ll,n))}function jy(t){for(var n=0;n<Iy.length;n++){var i=Iy[n];i===Ey.NT?Hy(t,i):Vy(t,i)}}var Wy,zy=function(t){function n(){return t.call(this,Qo._f)||this}return z(n,t),n}(Xe);!function(t){t[t.WT=0]="WT",t[t.zT=1]="zT"}(Wy||(Wy={}));var $y=t,Xy=$y.MediaSource,Gy=$y.WebKitMediaSource,Yy=$y.TextTrack,Ky=e&&e.createElement("video"),Jy=(e&&e.documentElement.style,nt.de&&nt.He&&nt.je<=26),Qy=(nt.Ie,!(!Xy&&!Gy)),Zy=!!Yy,tg=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||nt.Se,nt.Be&&nt.Ue,Ky&&Ky.canPlayType&&(""!==Ky.canPlayType("application/vnd.apple.mpegURL")||nt._e&&!nt.Be&&nt.pe),Ky&&Ky.canPlayType&&""!==Ky.canPlayType("video/mp4")&&!Jy),ng=Qy&&!nt.Ve&&!nt.Le&&!nt.Pe&&((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ky&&Ky.canPlayType&&""!==Ky.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Qy&&!nt.Ve&&(ng||((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported("audio/mpeg"):Ky&&Ky.canPlayType&&Ky.canPlayType("audio/mpeg"))),Qy&&!(nt.Me&&nt.de)&&(Xy||Gy).isTypeSupported&&(Xy||Gy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),nt.Ve||nt.Le||nt.Pe,nt.Fe,nt.Ve,nt.Le&&nt.we&&nt.ye;try{r&&r.top!==r.self}catch(t){!0}var ig=function(t){function n(n){var i;return(i=t.call(this,xd.Uw)||this).currentTime=n,i}return z(n,t),n}(Xe),rg=function(t){function n(n){var i;return(i=t.call(this,xd.Vw)||this).currentTime=n,i}return z(n,t),n}(Xe),eg=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).$T=_d.Dw,r.XT=!0,r.GT=!1,r.YT=!1,r.KT=function(t){var n=t.readyState;n!==r.$T&&r.qs(t),n===_d.Dw&&(r.GT=!1,r.YT=!1),r.JT(n),r.QT(n),r.ZT(n),r.maybeDispatchCanPlayThroughEvent(n),r.tE(n),r.nE(n),r.$T=n},r.iE=function(){r.nE(r.$T),r.tE(r.$T),r.XT=r.rE.$w},r.eE=function(){r.XT=r.rE.$w},r.rE=n,r.uE=i,r.rE.Hs(xd.ml,r.KT),r.rE.Hs(Qo.lf,r.iE),r.rE.Hs(Qo.df,r.eE),r.uE&&r.rE.Hs(xd.Vw,r.Vs),r}z(n,t);var i=n.prototype;return i.JT=function(t){!this.YT&&t>=_d.Nw&&(this.YT=!0,this.qs(new Vd(this.rE.qw,t)))},i.QT=function(t){!this.GT&&t>=_d.Ow&&(this.GT=!0,this.qs(new zd(this.rE.qw,t)))},i.tE=function(t){this.uE||(t>=_d.xw&&this.$T<_d.xw&&!this.rE.$w||this.oE&&t>=_d.xw)&&this.qs(new rg(this.rE.qw))},i.nE=function(t){!this.sE(t)||this.rE.jw||this.rE.ic||this.qs(new ig(this.rE.qw))},i.ZT=function(t){this.$T<=_d.Ow&&t>=_d.xw&&this.qs(new Yd(this.rE.qw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===_d.Pw&&this.qs(new Kd(this.rE.qw,t))},i.sE=function(t){var n=!this.rE.$w&&t<=_d.Ow,i=!this.XT&&this.$T<=_d.Ow;return n&&!i},i.Pl=function(){this.$T=_d.Dw,this.XT=!0,this.GT=!1,this.YT=!1},i.sr=function(){this.zs(),this.uE&&this.rE.$s(xd.Vw,this.Vs),this.rE.$s(Qo.lf,this.iE),this.rE.$s(Qo.df,this.eE),this.rE.$s(xd.ml,this.KT)},j(n,[{key:"oE",get:function(){return!this.rE.$w&&this.XT}}]),n}(ze),ug="titanium",og="conax",sg="ezdrm",cg="irdeto",ag="vudrm",fg="verimatrix",hg="keyos",vg="drmtoday",dg="expressplay",lg="azure",wg="xstream",yg="vimond",gg="axinom",_g="uplynk",pg="comcast",mg="custom",kg=function(){function t(t,n,i,r,e){this.Yc=void 0,this.cE=void 0,this.aE=void 0,this.fE=void 0,this.FT=void 0,this.hE=void 0,this.vE=void 0,this.Yc=t,this.cE=n,this.aE=i,this.FT=r,this.vE=e,this.fE=this.dE(n)}var i=t.prototype;return i.lE=function(){return this.hE},i.wE=function(t){this.hE=t},i.yE=function(){return this.fE.licenseAcquisitionURL||this.lE()},i.gE=function(t){return C.resolve()},i._E=function(t,n){return C.resolve(void 0)},i.pE=function(){var t=C.coroutine(Vr.mark(function t(i,r,e,u){var o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.mE(i,r,e,u)).gv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Jd.wv(o);case 6:return s=t.sent,t.next=9,s.Yh(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),xe(t.t0),t.next=17,this.kE(t.t0,o.gv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.mE=function(t,n,i,r){var e=this.bE().Lf(),u=this.Bv,o={gv:this.TE(),vv:n,hv:e,Zh:t,Bv:u,Pv:Cf.POST,Lv:0,Fs:r,as:Af.bv,Fv:i};return new xf(o)},i.EE=function(t,n){return C.resolve(t)},i.SE=function(t,n,i,r){return C.resolve(t)},i.bE=function(){return new ts(this.fE.headers||{})},i.kE=function(){var t=C.coroutine(Vr.mark(function t(i,r,e){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.TE=function(t,n){var i=n,r=this.fE.queryParameters;if(!i){var e=this.yE();if(!e)return"";i=e}if(r||t){var u=D.Mo(i);t&&Ff(u,t),r&&Ff(u,r),i=u.href}return i},i.RE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return C.resolve(new _(bg(t,i)))}(t,this.fE)},i.IE=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){var e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CE(n,r);case 2:return e=t.sent,t.next=5,this.pE(e,this.vE,i,r);case 5:return u=t.sent,t.next=8,this.RE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},j(t,[{key:"Jd",get:function(){return this.FT}},{key:"AE",get:function(){return!1}},{key:"DE",get:function(){var t=this.fE.certificate;if(t)return at(t)?su(t):Qu(t)}},{key:"NE",get:function(){return!1}},{key:"Bv",get:function(){return Boolean(this.fE.useCredentials)}}]),t}();function bg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Tg(t,n){var i=to(t).buffer,r=n.licenseRequestProcessor;return C.resolve(bg(i,r))}var Eg,Sg,Rg=function(t){function n(n,i,r,e){return t.call(this,se,n,i,r,e)||this}z(n,t);var i=n.prototype;return i.dE=function(t){return t.widevine||{}},i.OE=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.abrupt("return",this.xE(new _(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xE=function(n,i){return t.prototype.IE.call(this,n,Df.Rv,i)},n}(kg);function Ig(t,n){if(null==t)return{};var i,r,e={},u=d.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Cg(t){return et(t.token&&t.deviceId)}function Ag(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&et(i.PreAuthorization)}function Dg(t){var n=t;return Cg(n)&&""!==n.token&&""!==n.deviceId&&!Ag(n)}(Sg=Eg||(Eg={})).PE=!1,Sg.LE=!1,Sg.FE=!1,Sg.ME=!1,Sg.LOG_ADS_DETAILS=!1,Sg.LOG_CHROMECAST_DETAILS=!1,Sg.LOG_CUSTOM_DRM=!1,Sg.LOG_BUFFERING_VIDEO_MAIN=!1,Sg.LOG_BUFFERING_VIDEO_SELECTION=!1,Sg.LOG_BUFFERING_AUDIO_MAIN=!1,Sg.LOG_BUFFERING_AUDIO_SELECTION=!1,Sg.BE=!1,Sg.UE=!1;var Ng,Og=function(){function t(t,n,i){this.VE=t,this.Lc=n,this.qE=i}return t.prototype.HE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.qE.build(t))},j(t,[{key:"jE",get:function(){return this.VE}},{key:"Yc",get:function(){return this.Lc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ng||(Ng={}));var xg=function(){function t(){this.WE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.zE(t,i,r)){case Ng.FAILED:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ng.OVERRIDDEN:var e=Jg(i);D.bo("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Ng.SUCCEEDED:Jg(i);0}},i.zE=function(t,n,i){var r=Jg(n);if(!r)return Ng.FAILED;for(var e=Ng.SUCCEEDED,u=0,o=this.WE.slice();u<o.length;u++){var s=o[u];s.jE===t&&s.Yc===r&&(e=Ng.OVERRIDDEN,Ee(this.WE,s))}return this.WE.push(new Og(t,r,i)),e},i.$E=function(t,n){return void 0!==this.XE(t,n)},i.GE=function(t,n,i){var r=this.XE(t,n);if(!r)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.HE(i)},i.XE=function(t,n){for(var i=0,r=this.WE;i<r.length;i++){var e=r[i];if(e.jE===t&&(!n||e.Yc===n))return e}},t}();xg.YE=new xg;var Pg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Lg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Fg(t){return t&&void 0!==t.licenseAcquisitionURL}var Mg,Bg=Fg,Ug=Fg;function Vg(t){if(!t)return!0;if(Wg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Lg(n)&&Lg(i)&&Lg(r)&&Lg(e)&&Lg(u)}function qg(t){var n=Dg(t),i=function(t){var n,i=t;return Ag(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Cg(i)}(t);return(!n||!i)&&(n||i)}function Hg(t){return t.integration===cg}function jg(t){var n=t;if(!n)return!1;if(Vg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Wg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Bg(r))return!1;if(e&&!Ug(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(xg.YE.$E(n.integration))return!0;switch(n.integration){case ug:if(!function(t){return t.integration===ug&&(zg(t)||$g(t))}(t))return!1;break;case ag:if(!Xg(t))return!1;break;case fg:if(!function(t){return t.integration===fg}(t))return!1;break;case cg:if(!Hg(t))return!1;break;case og:if(!qg(t))return!1;break;case sg:if(!function(t){return t.integration===sg}(t))return!1;break;case hg:if(!Wg(t))return!1;break;case vg:if(!function(t){var n=t;return n.integration===vg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case dg:if(!function(t){return t.integration===dg}(t))return!1;break;case wg:if(!Gg(t))return!1;break;case yg:if(!function(t){return t.integration===yg}(t))return!1;break;case gg:if(!Yg(t))return!1;break;case lg:if(!function(t){var n=t;return n.integration===lg&&void 0!==n.token}(t))return!1;break;case _g:if(!function(t){return t.integration===_g}(t))return!1;break;case pg:if(!function(t){var n=t;return n&&et(n.releasePid)&&et(n.accountId)&&et(n.token)}(t))return!1;break;case mg:return!0;default:return!1}}return!0}function Wg(t){return t.integration===hg}function zg(t){return void 0!==t.authToken}function $g(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Xg(t){var n=t;return n.integration===ag&&void 0!==n.token}function Gg(t){var n=t;return n&&n.integration===wg&&at(n.ticketAcquisitionURL)&&at(n.streamId)}function Yg(t){var n=t;return n.integration===gg&&void 0!==n.token}function Kg(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Pg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=qr({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return qr({},Ig(f,["customdata"]),{licenseAcquisitionURL:o,headers:a})}function Jg(t){switch(t.toLowerCase()){case"widevine":case ie:return ie;case"playready":case te:return te;case"fairplay":case ee:return ee}}function Qg(t,i){switch(t){case Jr:return function(t){for(var n={},i=ry.nk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.iT]=e.uT}return n}(i);case Qr:case Zr:return function(t){var n;return(n={})[re]=t,n}(i);default:throw new Oo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.us="Widevine",t.es="PlayreadyV2",t.KE="PlayreadyV2",t.JE="PlayreadyV3",t.os="Fairplay"}(Mg||(Mg={}));var Zg={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function t_(t,n){var i,r,e,u,o=Zg[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=D.Uo)?void 0:i.Vo,OSVersion:null==(r=D.Uo)?void 0:r.$o,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=D.Uo)?void 0:e.Xo,DeviceModel:null==(u=D.Uo)?void 0:u.Go}}}function n_(t,i){if(!t.accountName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function i_(t,n,i){var r;if(zg(t))r={AuthToken:t.authToken,Payload:n};else{if(!$g(t))throw n_(t,i);r={LatensRegistration:t_(t,i),Payload:n}}return yu(JSON.stringify(r))}function r_(t,n,i){return e_.apply(this,arguments)}function e_(){return(e_=C.coroutine(Vr.mark(function t(i,r,e){var u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Zv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.Xh(e);case 7:s=t.sent,c=u_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.wv.gv,o.fv,o.dv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function u_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var o_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.xf)||this).QE=void 0,e}z(i,t),i.ZE=function(){return D.Vo.ho?"required":"optional"};var r=i.prototype;return r.kE=function(t,n,i){return r_(t,n,i)},r.gE=function(t){return this.QE?Le(this.QE.Tc,t):(this.QE=new io,C.resolve())},r.CE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.cE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=au(i),t.abrupt("return",i_(e,u,Mg.us));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.RE=function(t){var i;if(!t.license)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=su(t.license),C.resolve(i)},r.tS=function(t){return C.resolve(new _(t))},r.OE=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nS(),t.next=3,this.CE(n,i);case 3:return r=t.sent,t.next=6,this.pE(r,Zo.Of,Df.Iv,i);case 6:return e=t.sent,t.next=9,this.tS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var n=C.coroutine(Vr.mark(function n(i,r){var e;return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.xE.call(this,i,r);case 2:return e=n.sent,this.nS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.nS=function(){this.QE||(this.QE=new io),this.QE.Ec()},r.sr=function(){this.QE&&this.QE.xs(),t.prototype.sr.call(this)},i}(Rg),s_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Of)||this).wE("https://widevine-proxy.drm.technology/proxy"),e}return z(i,t),i.prototype.CE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(i,this.fE);case 2:if(e=t.sent,u=this.aE,r=new _(e),o=[].slice.call(r),s=this.iS){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(i,[{key:"iS",get:function(){if(Xg(this.cE))return this.cE.token}}]),i}(Rg);function c_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=qr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),qr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var a_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Of)||this).wE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}z(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.TE=function(n,i){var r=n;return Hg(this.cE)&&(r=c_(this.cE,r)),t.prototype.TE.call(this,r,i)},n}(Rg),f_="Conax-Custom-Data";function h_(t,n,i){var r=t&&qg(t)&&t;if(r&&!i.has(f_)){var e=Dg(r)?r.token:void 0,u=Dg(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(f_,o)}return i}var v_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Of)||this).wE("https://connect.conax.com:8094/license"),e}z(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.bE=function(){var n=t.prototype.bE.call(this);return h_(this.cE,"Widevine",n)},n}(Rg);function d_(t){var n=qu(new _(t));return su(JSON.parse(n).license)}function l_(t){return"string"==typeof t.token?t.token:yu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function w_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Zo.Of)||this).wE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}z(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.RE=function(t){return C.resolve(d_(t))},i.bE=function(){return w_(t.prototype.bE.call(this),this.iS,this.cE)},j(n,[{key:"iS",get:function(){return l_(this.cE)}}]),n}(Rg),g_=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.Of)||this}z(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.bE=function(){var n=t.prototype.bE.call(this),i=this.cE.token;return n.set("Authorization","Bearer "+i),n},n}(Rg);function __(t,n,i,r){return p_.apply(this,arguments)}function p_(){return(p_=C.coroutine(Vr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Gg(i)){t.next=2;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new ts).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={gv:i.ticketAcquisitionURL,vv:Zo.xf,hv:o,Pv:Cf.POST,Zh:JSON.stringify(f),Fs:u},t.next=13,e.wv(h);case 13:return v=t.sent,t.next=16,v.Xh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var m_=function(t){function n(n,i,r){return t.call(this,n,i,r,Zo.xf)||this}z(n,t);var i=n.prototype;return i.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type","application/json"),n},i.CE=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=wu(n.buffer),e=this.cE,t.next=4,__(e,"widevine_modular",this.Jd,i);case 4:return u=t.sent,this.wE(u.licenseServerUrl),o=Hu(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Tg(o,this.fE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.RE=function(t){var n=t;return C.resolve(su(n.license))},n}(Rg),k_=function(t){function i(n,i,r){return t.call(this,n,i,r,Zo.Of)||this}z(i,t);var r=i.prototype;return r.CE=function(t,n){return Tg(t,this.fE)},r.bE=function(){if(!Yg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},i}(Rg);function b_(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var T_=function(t){function n(n,i,r){var e;return(e=t.call(this,oe,n,i,r,Zo.Of)||this).rS=void 0,e}z(n,t);var i=n.prototype;return i.dE=function(t){return t.playready||{}},i.bE=function(){var n=new ts(this.rS);return n.Mf(t.prototype.bE.call(this)),n},i.eS=function(t){return t.length>=1&&t[0].pu.length>0},i._E=function(n){var i=this.cE.playready.customData;if(i){var r=b_(i),e=b_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+au(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{pa:e}})}return t.prototype._E.call(this,n)},i.CE=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(n,this.fE);case 2:return r=t.sent,t.abrupt("return",this.uS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uS=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new no,void 0===(m=!0)&&(m=!1),c=Uu(_,p,m,!0),t.prev=3,a=D.su(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a._u("PlayReadyKeyMessage")[0])?void 0:i._u("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f._u("Challenge"))?r:[],this.eS(h)&&(o=lu(h[0].Ou)),v=new ts,d=null!=(e=null==f?void 0:null==(u=f._u("HttpHeaders")[0])?void 0:u._u("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w._u("name")[0].Ou,g=w._u("value")[0].Ou,v.append(y,g);return this.rS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.OE=function(t,n){return C.resolve(t)},i.xE=function(n,i){return t.prototype.IE.call(this,n,Df.Cv,i)},n}(kg),E_=function(){function t(n){this.oS=void 0,this.sS=n,this.oS=t.cS(n)}return t.cS=function(t){return"3"===t.version?Mg.JE:Mg.KE},t.prototype.aS=function(){var t={};if(this.oS===Mg.JE){var n={LatensRegistration:t_(this.sS,Mg.JE)};t["X-TITANIUM-DRM-CDATA"]=yu(JSON.stringify(n))}return t},j(t,[{key:"fS",get:function(){return this.oS}},{key:"ua",get:function(){return this.oS===Mg.KE}}]),t}();var S_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).hS=void 0,e.hS=new E_(e.cE),e}z(i,t);var r=i.prototype;return r._E=function(t){var i=this.cE;if(!this.cE)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if($g(i)){var r={};return r.playready={pa:R_(i,this.hS.fS)},C.resolve(r)}return C.reject(n_(i,Mg.es))},r.bE=function(){var n=new ts(this.hS.aS());return n.Mf(t.prototype.bE.call(this)),n},r.kE=function(){var t=C.coroutine(Vr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Zv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Kh(e);case 6:c=t.sent,a=qu(new _(c)),(f=D.su(a))&&(h=cy(f,"CustomData")).length>0&&(o=JSON.parse(h[0].Ou),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.fv,u.dv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.eS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(T_);function R_(t,n){var i=t_(t,n),r=i.DeviceInfo.FormatVersion,e=yu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Wu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Wu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+au(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var I_,C_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://playready-license.drm.technology/rightsmanager.asmx"),e}z(i,t);var r=i.prototype;return r.eS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.TE=function(n,i){var r=qr({},n||{},{token:this.iS});return t.prototype.TE.call(this,r,i)},j(i,[{key:"iS",get:function(){if(Xg(this.cE))return this.cE.token}}]),i}(T_),A_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return z(n,t),n.prototype.TE=function(n,i){var r=n;return Hg(this.cE)&&(r=c_(this.cE,r)),t.prototype.TE.call(this,r,i)},n}(T_),D_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return z(n,t),n.prototype.bE=function(){var n=t.prototype.bE.call(this);return h_(this.cE,"PlayReady",n)},n}(T_),N_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}z(n,t);var i=n.prototype;return i.RE=function(n){return(ve(qu(new _(n)),"<?xml")?I_.vS:I_.Xh)===I_.Xh?C.resolve(d_(n)):C.resolve(t.prototype.RE.call(this,new _(n)))},i.bE=function(){return w_(t.prototype.bE.call(this),this.iS,this.cE)},j(n,[{key:"iS",get:function(){return l_(this.cE)}}]),n}(T_);!function(t){t[t.vS=0]="vS",t[t.Xh=1]="Xh"}(I_||(I_={}));var O_,x_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).dS=void 0,e}z(n,t);var i=n.prototype;return i.bE=function(){var n=t.prototype.bE.call(this);return this.dS&&n.set("Ticket",this.dS),n.set("Content-Type","text/xml"),n},i.CE=function(){var n=C.coroutine(Vr.mark(function n(i,r){var e,u;return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.cE,n.next=3,__(e,"playready",this.Jd,r);case 3:return u=n.sent,this.wE(u.licenseServerUrl),this.dS=u.ticket,n.abrupt("return",t.prototype.CE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(T_),P_=function(t){function i(){return t.apply(this,arguments)||this}return z(i,t),i.prototype.bE=function(){if(!Yg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},i}(T_);!function(t){t.xf="application/json",t.lS="application/x-www-form-urlencoded",t.wS="application/octet-stream",t.eu="text/plain;charset=UTF-8"}(O_||(O_={}));var L_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.Yc,i,r,e,u)||this).yS="",o.gS=void 0,o._S=void 0,o._S=n.pS,o}z(n,t);var i=n.prototype;return i.mS=function(){return this.fE.certificateURL||this.gS},i.kS=function(t){this.gS=t},i.CE=function(t){return C.resolve(this.bS(t,this.yS))},i.bS=function(t,n){return"spc="+encodeURIComponent(au(t))+"&assetId="+encodeURIComponent(n)},i.dE=function(t){return t.fairplay||{}},i.TS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var i=t.split("/");return C.resolve(i[i.length-1])},i._E=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this._S)?i:$u(new _(n)),t.next=3,this.TS(r);case 3:return e=t.sent,this.yS=e,(u={}).fairplay={Ra:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type",this.ES),n},i.OE=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.next=4,this.SS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xE=function(n,i){return t.prototype.IE.call(this,n,Df.Ev,i)},i.RS=function(t){var n=this.mS(),i=this.bE(),r={gv:n,vv:Zo.Of,hv:i,Pv:Cf.GET,Bv:!1,Zh:null,Lv:0,Fs:t,as:Af.bv,Fv:Df.Sv};return new xf(r)},i.SS=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.RS(n),t.next=3,this.Jd.wv(i);case 3:return r=t.sent,t.next=6,r.Kh();case 6:return e=t.sent,t.abrupt("return",new _(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=su(i)}else n=new _(t);return C.resolve(n)},i.TE=function(n,i){var r=t.prototype.TE.call(this,n,i);return ve(r,"skd:")&&(r=r.substr("skd:".length)),r},j(n,[{key:"NE",get:function(){return!0}},{key:"ES",get:function(){return O_.lS}}]),n}(kg),F_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Of)||this}z(n,t);var i=n.prototype;return i.TS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return C.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return C.resolve(i)},i.CE=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return C.resolve(new _(t))},i.TE=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.TE.call(this,r,i)},j(n,[{key:"ES",get:function(){return O_.wS}}]),n}(L_),M_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.Of)||this).wE("https://fairplay-license.drm.technology/license"),u.kS("https://fairplay-license.drm.technology/certificate"),u}z(i,t);var r=i.prototype;return r.bS=function(t,n){var i={token:this.iS,contentId:n,payload:au(t)};return JSON.stringify(i)},r.RE=function(t){return C.resolve(new _(t))},r.bE=function(){var n=t.prototype.bE.call(this);return n.set("x-vudrm-token",this.iS),n},j(i,[{key:"ES",get:function(){return O_.xf}},{key:"iS",get:function(){if(!Xg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.cE.token}}]),i}(L_),B_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",U_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",V_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Of)||this}return z(i,t),i.prototype.RE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,B_)}if(!i)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,U_);return i}(qu(new DataView(i)));return t.prototype.RE.call(this,r)},i}(L_);var q_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.xf)||this}z(i,t);var r=i.prototype;return r.CE=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.cE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=au(i),t.abrupt("return",i_(r,e,Mg.os));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RE=function(t){try{var i;if(at(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=lu(i.license);return C.resolve(new _(e))}return C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.kE=function(t,n,i){return r_(t,n,i)},j(i,[{key:"ES",get:function(){return O_.xf}}]),i}(L_),H_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.Of)||this).wE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.kS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}z(n,t);var i=n.prototype;return i.mS=function(){var n=t.prototype.mS.call(this);if(!n)return n;var i=D.Mo(n),r=this.cE;return Hg(r)&&Ff(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.TS=function(n){return Hg(this.cE)?C.resolve(this.cE.contentId):t.prototype.TS.call(this,n)},i.CE=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return C.resolve(new _(t))},i.TE=function(n,i){var r=n;return Hg(this.cE)&&(r=function(t,n){return qr({},c_(t,n),{KeyId:t.keyId})}(this.cE,r)),t.prototype.TE.call(this,r,i)},j(n,[{key:"ES",get:function(){return O_.wS}}]),n}(L_),j_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,Zo.eu)||this,!qg(r))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.wE("https://connect.conax.com:8097/license"),o}z(i,t);var r=i.prototype;return r.bE=function(){var n=t.prototype.bE.call(this);return h_(this.cE,"FairPlay",n)},r.SS=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mS(),r={gv:i,vv:Zo.Of,hv:{},Pv:Cf.GET,Bv:!1,Zh:null,Lv:0,Fs:n,as:Af.bv,Fv:Df.Sv},t.next=4,this.Jd.wv(r);case 4:return e=t.sent,t.next=7,e.Kh();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.CE=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.TS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),C.resolve(qu(su(n)))):C.resolve("unknown")},r.RE=function(t){try{var n=JSON.parse(t);return C.resolve(new _(lu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},i}(L_),W_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.eu)||this).wE(Pg[Kr.os]),u}z(i,t);var r=i.prototype;return r.TS=function(t){return ve(t,"skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.bS=function(t,n){return"spc="+au(t)+"&assetId="+n},i}(L_),z_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.eu)||this).wE("https://lic.drmtoday.com/license-server-fairplay/"),u}z(n,t);var i=n.prototype;return i.bS=function(t,n){var i="spc="+encodeURIComponent(au(t))+"&"+encodeURI(n);return"persistent"===this.fE.licenseType?i+"&offline=true":i},i.bE=function(){return w_(t.prototype.bE.call(this),this.iS,this.cE)},j(n,[{key:"iS",get:function(){return l_(this.cE)}}]),n}(L_),$_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.Of)||this}z(n,t);var i=n.prototype;return i.TS=function(t){var n=t;return ve(n,"skd:")&&(n="http:"+n.substring(4)),ve(n,"http:")||ve(n,"https:")?C.resolve(D.Mo(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.CE=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return C.resolve(new _(t))},j(n,[{key:"ES",get:function(){return O_.wS}}]),n}(L_),X_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Zo.eu)||this}return z(n,t),n.prototype.bE=function(){var n=t.prototype.bE.call(this),i=this.cE.token;return n.set("Authorization","Bearer "+i),n},n}(L_),G_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,Zo.xf)||this,!Gg(i))throw new h("Invalid Xstream DRM configuration");return u}z(n,t);var i=n.prototype;return i.SS=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mS(),r=this.bE(),e={gv:i,vv:Zo.xf,hv:r,Pv:Cf.POST,Fs:n,as:Af.bv,Fv:Df.Sv},t.next=5,this.Jd.wv(e);case 5:return u=t.sent,t.next=8,u.Xh();case 8:return o=t.sent,t.abrupt("return",new _(su(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xE=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Zo.eu),e=au(n),u=this.cE,t.next=5,__(u,"fairplay",this.Jd,i);case 5:return o=t.sent,s=Hu(JSON.stringify({spc:e,ticket:o.ticket})),c={gv:this.yE(),vv:Zo.xf,hv:this.bE(),Pv:Cf.POST,Zh:s,Lv:0,Fs:i,as:Af.bv,Fv:Df.Ev},t.next=10,this.Jd.wv(c);case 10:return a=t.sent,t.next=13,a.Xh();case 13:return f=t.sent,t.abrupt("return",su(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(n,[{key:"ES",get:function(){return O_.xf}}]),n}(L_),Y_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.eu)||this}z(i,t);var r=i.prototype;return r.bS=function(t,n){return au(t)},r.RE=function(i){if(0===i.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.RE.call(this,i)},r.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type","text/plain"),n},i}(L_),K_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Zo.Of)||this}z(i,t);var r=i.prototype;return r.bS=function(t,n){return t},r.RE=function(t){return C.resolve(new _(t))},r.bE=function(){if(!Yg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},j(i,[{key:"ES",get:function(){return O_.xf}}]),i}(L_),J_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.xf)||this).IS=void 0,u}z(i,t);var r=i.prototype;return r.bS=function(t,n){var i={spc:au(t)};return JSON.stringify(i)},r.TS=function(t){var i=D.Mo(t);return this.IS=t,i.searchParams.has("b")?C.resolve(i.searchParams.get("b")):C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.TE=function(n,i){var r=this.yE();return!r&&this.IS&&(r=this.IS),r&&(r=r.replace("skd://","https://")),t.prototype.TE.call(this,n,i||r)},r.RE=function(){var t=C.coroutine(Vr.mark(function t(i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=at(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",su(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),j(i,[{key:"ES",get:function(){return O_.eu}}]),i}(L_),Q_=function(){function t(t,n){this.CS=t,this.AS=n}var n=t.prototype;return n.DS=function(t){return this.CS(t)},n.NS=function(t,n){throw new v(n+" must be "+this.AS+". (Received: "+t+")")},t}(),Z_=new Q_(vt,"a number"),tp=new Q_(at,"a string"),np=new Q_(ft,"a boolean");var ip,rp=(ip={responseCode:Z_,isException:np,description:tp,title:tp,correlationId:tp},{DS:function(t){if(!st(t))return!1;for(var n=0,i=d.keys(ip);n<i.length;n++){var r=i[n];if(!ip[r].DS(t[r]))return!1}return!0},NS:function(t,n){if(!st(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(ip);i<r.length;i++){var e=r[i],u=ip[e];if(!u.DS(t[e]))return u.NS(t[e],n+"."+e)}throw new v}});function ep(t,n,i,r,e){return up.apply(this,arguments)}function up(){return(up=C.coroutine(Vr.mark(function t(n,i,r,e,u){var o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=op(n,i,r,u),t.next=3,sp(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function op(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=D.Mo(t);return Ff(i,n),i.toString()}(i,e)),o=new ts({});o.append("Content-Type","application/json");var s=au(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{gv:u,vv:Zo.eu,hv:o,Pv:Cf.POST,Zh:JSON.stringify(c),Fs:r,as:Af.bv,Fv:Df.Ev}}function sp(t,n){return cp.apply(this,arguments)}function cp(){return(cp=C.coroutine(Vr.mark(function t(i,r){var e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.wv(i);case 2:return e=t.sent,t.next=5,e.Xh();case 5:if(u=t.sent,!rp.DS(u)){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.gv,u.responseCode);case 8:return t.abrupt("return",su(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ap=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,Zo.Of)||this).OS=void 0,u.OS=i,u}z(n,t);var i=n.prototype;return i.TS=function(n){var i=n.replace("FairPlay",this.OS.releasePid);return t.prototype.TS.call(this,i)},i.xE=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ep(n,this.OS,this.yE(),this.Jd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(L_),fp=function(t){function i(n,i,r){return t.call(this,ae,n,i,r,Zo.Of)||this}z(i,t);var r=i.prototype;return r.dE=function(t){return t.clearkey||{}},r.CE=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.fE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.pE=function(){var i=C.coroutine(Vr.mark(function i(r,e,u,o){var s,c;return Vr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.fE,!this.yE()){i.next=5;break}return i.abrupt("return",t.prototype.pE.call(this,r,this.vE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Hu(JSON.stringify(c)).buffer);case 10:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.OE=function(t,n){return C.resolve(new _(0))},r.xE=function(n,i){return t.prototype.IE.call(this,n,Df.Av,i)},i}(kg),hp=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.CE=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.fE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Rg),vp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function dp(t,n,i){return lp.apply(this,arguments)}function lp(){return(lp=C.coroutine(Vr.mark(function t(n,i,r){var e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Cp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Le(C.resolve(u.call(n,e)),r);case 8:if(!Ju(o=t.sent)){t.next=11;break}return t.abrupt("return",Qu(o));case 11:return t.abrupt("return",Ip(qr({},vp,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r,e){return yp.apply(this,arguments)}function yp(){return(yp=C.coroutine(Vr.mark(function t(n,i,r,e,u){var o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Rp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Le(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Qu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r){return _p.apply(this,arguments)}function _p(){return(_p=C.coroutine(Vr.mark(function t(n,i,r,e){var u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Ip(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r,e,u){return mp.apply(this,arguments)}function mp(){return(mp=C.coroutine(Vr.mark(function t(n,i,r,e,u,o){var s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Sp(r,u),t.next=3,Tp(n,new _(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",Qu(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r){return bp.apply(this,arguments)}function bp(){return(bp=C.coroutine(Vr.mark(function t(n,i,r,e){var u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Sp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Le(C.resolve(u.call(n,o)),e);case 8:if(!Ju(s=t.sent)){t.next=11;break}return t.abrupt("return",Qu(s).buffer);case 11:return t.abrupt("return",qr({fairplaySkdUrl:void 0},vp,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=C.coroutine(Vr.mark(function t(n,i,r,e,u){var o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Rp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Le(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Qu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n){return qr({},Cp(t),{fairplaySkdUrl:n})}function Rp(t,n,i){return{url:i.yv,status:i.fv,statusText:i.dv,headers:i.hv.Lf(),body:t,request:n}}function Ip(t){return new xf({gv:t.url,Pv:t.method,hv:t.headers,Zh:t.body,Bv:t.useCredentials})}function Cp(t){var n;return{url:t.gv,body:null!=(n=Ap(t.Zh))?n:null,headers:t.hv.Lf(),method:t.Pv,useCredentials:t.Bv}}function Ap(t){if(t)return"string"==typeof t?Hu(t):t instanceof ArrayBuffer?new _(t):hu(t)?Ku(t):void 0}var Dp,Np=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).xS=void 0,u.xS=e,u}z(i,t);var r=i.prototype;return r.OE=function(t,n){return C.resolve(t)},r.xE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uS(to(i).buffer);case 2:return e=t.sent,u=this.mE(e,Zo.Of,Df.Cv,r),t.next=6,gp(this.xS,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(o));case 10:if(""!==o.gv){t.next=12;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Jd.wv(o);case 15:return s=t.sent,t.next=18,s.Kh(r);case 18:return c=t.sent,t.t0=_,t.next=22,pp(this.xS,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),xe(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(T_),Op=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Zo.Of)||this).xS=void 0,u.xS=e,u}z(i,t);var r=i.prototype;return r.OE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.mE(i,Zo.Of,Df.Iv,r),t.next=5,dp(this.xS,e,r);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.gv){t.next=11;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Jd.wv(u);case 14:return o=t.sent,t.next=17,o.Kh(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),xe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Sp(e,void 0),t.next=27,wp(this.xS,new _(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mE(i,Zo.Of,Df.Rv,r),t.next=3,gp(this.xS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.gv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Jd.wv(u);case 12:return o=t.sent,t.next=15,o.Kh(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),xe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,pp(this.xS,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(hp),xp=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,Zo.Of)||this).xS=void 0,o.PS=void 0,o.xS=u,o}z(i,t);var r=i.prototype;return r.OE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.RS(r),t.next=5,dp(this.xS,e,r);case 5:if(u=t.sent,!hu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Jd.wv(u);case 11:return o=t.sent,t.next=14,o.Kh();case 14:return s=t.sent,c=Sp(e,void 0),t.next=18,wp(this.xS,new _(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),xe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mE(i,Zo.Of,Df.Ev,r),t.next=3,gp(this.xS,e,this.PS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.gv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Jd.wv(u);case 12:return o=t.sent,t.next=15,o.Kh(r);case 15:return s=t.sent,t.t0=_,t.next=19,pp(this.xS,s,e,o,this.PS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),xe(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.TS=function(n){var i;return this.PS=n,null!=(i=this.xS)&&i.extractFairplayContentId?C.resolve(this.xS.extractFairplayContentId(n)):t.prototype.TS.call(this,n)},i}(L_),Pp=function(){function t(){}var n=t.prototype;return n.LS=function(t,n,i,r){switch(t.Yc.as){case Kr.us:return this.FS(n,i,r);case Kr.es:return this.MS(n,i,r);case Kr.os:return this.BS(t,n,i,r);case Kr.ss:default:return this.US(n,i,r)}},n.FS=function(t,n,i){var r,e=(r=t).integration===mg&&at(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&xg.YE.$E(e,ie)){var u=xg.YE.GE(e,ie,t);return new Op(t,n,i,u)}switch(e){case ug:return new o_(t,n,i);case ag:return new s_(t,n,i);case cg:return new a_(t,n,i);case og:return new v_(t,n,i);case vg:return new y_(t,n,i);case lg:return new g_(t,n,i);case wg:return new m_(t,n,i);case gg:return new k_(t,n,i);case hg:default:return new hp(t,n,i,Zo.Of)}},n.MS=function(t,n,i){var r=t.integration;if(r&&xg.YE.$E(r,te)){var e=xg.YE.GE(r,te,t);return new Np(t,n,i,e)}switch(r){case ug:return new S_(t,n,i);case ag:return new C_(t,n,i);case cg:return new A_(t,n,i);case og:return new D_(t,n,i);case vg:return new N_(t,n,i);case wg:return new x_(t,n,i);case gg:return new P_(t,n,i);case hg:default:return new T_(t,n,i)}},n.BS=function(t,n,i,r){var e=n.integration;if(e&&xg.YE.$E(e,ee)){var u=xg.YE.GE(e,ee,n);return new xp(t,n,i,r,u)}switch(e){case sg:return new F_(t,n,i,r);case ag:return new M_(t,n,i,r);case fg:return new V_(t,n,i,r);case ug:return new q_(t,n,i,r);case cg:return new H_(t,n,i,r);case og:return new j_(t,n,i,r);case hg:return new W_(t,n,i,r);case vg:return new z_(t,n,i,r);case dg:return new $_(t,n,i,r);case lg:return new X_(t,n,i,r);case wg:return new G_(t,n,i,r);case yg:return new Y_(t,n,i,r);case gg:return new K_(t,n,i,r);case _g:return new J_(t,n,i,r);case pg:return new ap(t,n,i,r);default:return new L_(t,n,i,r,Zo.eu)}},n.US=function(t,n,i){return new fp(t,n,i)},n.VS=function(t){return t.as===Kr.es||t.as===Kr.us||t.as===Kr.os||t.as===Kr.ss},n.ua=function(t,n){var i;if(t.as!==Kr.es)return!1;if(et(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!xg.YE.$E(r,ee))&&(r===ug&&new E_(n).ua)},n.ZE=function(t,n){if(t.as===Kr.us){var i=n.integration;if(!i||!xg.YE.$E(i,ee))return i===ug?o_.ZE():void 0}},t}();!function(t){t[t.qS=0]="qS",t[t.HS=1]="HS",t[t.jS=2]="jS",t[t.WS=3]="WS",t[t.Tw=4]="Tw",t[t.zS=5]="zS",t[t.Aw=6]="Aw",t[t.$S=7]="$S",t[t.XS=8]="XS"}(Dp||(Dp={}));var Lp,Fp=function(){function t(){}return t.prototype.GS=function(t){},j(t,[{key:"YS",get:function(){return 0}},{key:"KS",get:function(){return 0}}]),t}(),Mp=function(){function t(t,n){void 0===n&&(n=new Pp),this.FT=void 0,this.JS=void 0,this.sS=void 0,this.FT=t,this.JS=n}var n=t.prototype;return n.QS=function(t){this.sS=t},n.ZE=function(t){var n=this.sS;if(void 0!==n)return this.JS.ZE(t,n)},n.ua=function(t){var n=this.sS;return void 0!==n&&this.JS.ua(t,n)},n.ZS=function(t){var n={Yc:t.Yc,tR:t.tR||[],pS:t.pS},i=this.JS.LS(n,this.sS||{},t.aE,this.FT);return new Bp(i)},t}(),Bp=function(){function t(t){this.nR=void 0,this.nR=t}var n=t.prototype;return n.gE=function(t){return this.nR.gE(t)},n._E=function(t,n,i){return this.nR._E(n,i)},n.NE=function(){return this.nR.NE||void 0!==this.nR.DE},n.OE=function(t,n){return this.nR.OE(t,n)},n.xE=function(t,n,i){return n&&this.nR.wE(n),this.nR.xE(t,i)},n.Is=function(){this.nR.sr()},t}(),Up=function(t){function n(n){var i;(i=t.call(this)||this).iR=[],i.rR=function(t){i.Nl(t.sl)},i.eR=function(t){var n=t.sl;i.uR(n)||i.Ol(n)};for(var r=0;r<n.length;r++){var e=n[r];i.oR(e)}return i}z(n,t);var i=n.prototype;return i.oR=function(t){this.iR.push(t);for(var n=0,i=t.Ll;n<i.length;n++){var r=i[n];this.Nl(r)}this.sR(t)},i.cR=function(t){Ee(this.iR,t),this.aR(t);for(var n=0,i=t.Ll;n<i.length;n++){var r=i[n];this.uR(r)||this.Ol(r)}},i.uR=function(t){for(var n=0,i=this.iR;n<i.length;n++){if(i[n].xl(t))return!0}return!1},i.sR=function(t){t.Hs(pv.Qd,this.rR),t.Hs(pv.tl,this.eR)},i.aR=function(t){t.$s(pv.Qd,this.rR),t.$s(pv.tl,this.eR)},i.sr=function(){for(;this.iR.length>0;)this.cR(this.iR[0]);t.prototype.sr.call(this)},i.ol=function(){return ud(this)},n}(Nv);function Vp(){return Lp||(Lp=S&&S.document&&S.document.createElement("video")),Lp}var qp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Pp),void 0===c&&(c=$o()),(a=t.call(this)||this).fR=void 0,a.hR=void 0,a.vR=void 0,a.qg=void 0,a.Hg=void 0,a.jg=void 0,a.dR=void 0,a.lR=void 0,a.wR=void 0,a.yR=void 0,a.gR=void 0,a.FT=void 0,a.ys=void 0,a._R=void 0,a.pR=void 0,a.mR=new Fp,a.kR=function(t){var i=t.ic,r=i.code,e=new Oo(function(t){switch(t){case Al.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Al.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Al.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Al.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Al.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Al.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Al.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new xl(r,e.message,i.message);a.bR(e,u)},a.TR=function(){a.qs(new jd(a.qw,a.y_))},a.ER=function(t){a.$w||(a.pR=void 0),a.qs(t)},a.SR=function(t){a.pR=void 0,a.qs(t)},a.RR=function(){a.qs(new tw(a.__))},a.IR=function(){a.Kw>0&&a.Yw>0&&a.qs(new zy)},a.CR=function(t){a.qg.Nl(new $l(t.track))},a.AR=function(t){var n=jp(a.qg,t.track);n&&a.qg.Ol(n)},a.DR=function(){a.NR(a.qg)},a.OR=function(t){a.Hg.Nl(new Zl(t.track))},a.xR=function(t){var n=jp(a.Hg,t.track);n&&a.Hg.Ol(n)},a.PR=function(){a.NR(a.Hg)},a.LR=function(t){a.qs(t),a.bR(t.errorObject,Ll(t.errorObject))},a.fR=r,a.FT=e,a.ys=c,a.hR=a.fR.Zi(Fl.Ov),a.wR=a.hR.FR.preload,a.yR=new eg(a.hR,!0),a.yR.Hs(Ud,a.Vs),a._R=new Mp(e,s),a.hR.MR=a._R,a.UR(),a.qg=new Ml,a.Hg=new Ml,a.qR(),a.gR=new By(a.hR,a.FT),a.jg=new Up([a.hR.Yg]),a.u_(),a}z(i,t);var r=i.prototype;return r.o_=function(){this.hR.o_()},r.u_=function(){this.hR.u_()},r.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){var e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(r),e={as:Wy.WT,cw:n.src,Qh:n.type,HR:this.jR(n),I_:this.wR,WR:n.crossOrigin,zR:i.metadata&&i.metadata.title},this._R.QS(n.contentProtection),t.next=5,this.hR.Vc(e);case 5:this.vR=t.sent,Oe(r),i.textTracks&&this.$R(i.textTracks),jy(this.Yg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.$R=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.hR.XR()&&nt.Se&&Zy&&!Ny(i.kind,i.label)&&this.GR(i)){var r,e=null!=(r=i.kind)?r:Ey.pm;this.hR.YR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.gR.BT(i)}}},r.GR=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hR.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.KR){t.next=12;break}return t.next=10,this.hR.Ks(Qo.wf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.hR.nr()},r.t_=function(){return void 0!==this.hR.FR.webkitShowPlaybackTargetPicker},r.n_=function(){this.hR.FR.webkitShowPlaybackTargetPicker&&this.hR.FR.webkitShowPlaybackTargetPicker()},r.i_=function(){this.hR.FR.webkitShowPlaybackTargetPicker&&this.hR.FR.webkitShowPlaybackTargetPicker()},r.s_=function(){return this.hR.FR},r.c_=function(){return this.hR.JR},r.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dR=void 0,this.lR=void 0,this.vR=void 0,t.next=5,this.gR.Pl();case 5:return this.hR.QR(),t.next=8,this.hR.Pl();case 8:this.yR.Pl(),this.I_=this.wR,this.Xg.Pl(),this.Gg.Pl(),this.pR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.ZR(),this.tI(),this.yR.sr(),this.hR.MR=void 0,t.next=9,this.fR.er(this.hR);case 9:return this.qg.sr(),this.Hg.sr(),this.jg.sr(),t.next=14,this.gR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.UR=function(){this.hR.Hs(Qo.lf,this.Vs),this.hR.Hs(Qo.df,this.Vs),this.hR.Hs(Qo.If,this.TR),this.hR.Hs(Qo.wf,this.Vs),this.hR.Hs(Qo.cf,this.Vs),this.hR.Hs(Qo.mf,this.Vs),this.hR.Hs(Qo.pf,this.ER),this.hR.Hs(Qo.ef,this.Vs),this.hR.Hs(Qo.yf,this.Vs),this.hR.Hs(Qo.Cf,this.Vs),this.hR.Hs(Qo.if,this.Vs),this.hR.Hs(Qo._f,this.IR),this.hR.Hs(xd.Vw,this.SR),this.hR.Hs(td.Zl,this.kR),this.hR.Hs(Qo.Za,this.Vs),this.hR.Hs(Qo.Qa,this.LR),this.hR.FR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.RR)},r.ZR=function(){this.hR.$s(Qo.lf,this.Vs),this.hR.$s(Qo.df,this.Vs),this.hR.$s(Qo.If,this.TR),this.hR.$s(Qo.wf,this.Vs),this.hR.$s(Qo.cf,this.Vs),this.hR.$s(Qo.mf,this.Vs),this.hR.$s(Qo.pf,this.ER),this.hR.$s(Qo.ef,this.Vs),this.hR.$s(Qo.yf,this.Vs),this.hR.$s(Qo.Cf,this.Vs),this.hR.$s(Qo.if,this.Vs),this.hR.$s(Qo._f,this.IR),this.hR.$s(xd.Vw,this.SR),this.hR.$s(td.Zl,this.kR),this.hR.$s(Qo.Za,this.Vs),this.hR.$s(Qo.Qa,this.LR),this.hR.FR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.RR)},r.jR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Yc:ce,nI:[{initDataTypes:[ce.hs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.qR=function(){var t=this.hR.FR.audioTracks,n=this.hR.FR.videoTracks;t&&(t.addEventListener("addtrack",this.CR),t.addEventListener("removetrack",this.AR),t.addEventListener("change",this.DR)),n&&(n.addEventListener("addtrack",this.OR),n.addEventListener("removetrack",this.xR),n.addEventListener("change",this.PR))},r.tI=function(){var t=this.hR.FR.audioTracks,n=this.hR.FR.videoTracks;t&&(t.removeEventListener("addtrack",this.CR),t.removeEventListener("removetrack",this.AR),t.removeEventListener("change",this.DR)),n&&(n.removeEventListener("addtrack",this.OR),n.removeEventListener("removetrack",this.xR),n.removeEventListener("change",this.PR))},r.NR=function(t){for(var n=0;n<t.Fl;n++){t.Dl(n).F_()}},r.l_=function(){this.hR.l_()},r.bR=function(t,n){this.dR||(this.dR=n,this.lR=t,this.qs(new Qd(t)))},j(i,[{key:"KR",get:function(){var t=this.hR.w_,n=this.qw;return t.iI(n,.01)}},{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.hR.w_.rI()}},{key:"y_",get:function(){return this.hR.y_},set:function(t){t&&this.hR.eI(t)}},{key:"qw",get:function(){return void 0!==this.pR?this.pR:this.hR.qw},set:function(t){this.__&&(this.pR=t),this.hR.gc(t)}},{key:"Hw",get:function(){return this.hR.Hw}},{key:"jw",get:function(){return this.hR.jw}},{key:"ic",get:function(){return this.dR}},{key:"Ww",get:function(){return this.lR}},{key:"Kg",get:function(){}},{key:"__",get:function(){return this.hR.__}},{key:"Lg",get:function(){return qr({},{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.hR.uI())}},{key:"zw",get:function(){return this.hR.zw},set:function(t){this.hR.zw=t}},{key:"S_",get:function(){return!0}},{key:"$w",get:function(){return this.hR.$w}},{key:"Xw",get:function(){return this.hR.Xw},set:function(t){this.hR.Xw=t}},{key:"R_",get:function(){return this.hR.FR.played}},{key:"I_",get:function(){return this.wR},set:function(t){this.wR=t,this.vR&&(this.vR.I_=t)}},{key:"uw",get:function(){return this.hR.uw}},{key:"C_",get:function(){return this.hR.C_.rI()}},{key:"Gw",get:function(){return this.hR.Gw}},{key:"oI",get:function(){return this.hR.oI}},{key:"Yg",get:function(){return this.jg}},{key:"Gg",get:function(){return this.Hg}},{key:"Yw",get:function(){return this.hR.Yw}},{key:"Kw",get:function(){return this.hR.Kw}},{key:"Jw",get:function(){return this.hR.Jw},set:function(t){this.hR.Jw=t}},{key:"sI",get:function(){return this.mR}}]),i}(cd);var Hp=function(){function t(){this.cI=Dp.XS}var n=t.prototype;return n.HE=function(t,n,i,r,e,u){return new qp(t,n,i,r,e)},n.aI=function(t,n){return function(t){return!t.type||!(!Vp().canPlayType||!Vp().canPlayType(t.type))}(t)},n.fI=function(){return!1},t}();function jp(t,n){for(var i=0,r=t.Ll;i<r.length;i++){var e=r[i];if(e.U_===n)return e}}var Wp=function(){function t(){this.hI=new Hp,this.vI=[]}t.dI=function(){return this.Ze};var n=t.prototype;return n.lI=function(t){this.vI.push(t)},n.HE=function(t,n,i,r,e,u){for(var o=this.hI.HE(t,n,i,r,e,u),s=0,c=this.vI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n.aI=function(t,n){return this.hI.aI(t,n)},n.fI=function(){return!1},j(t,[{key:"cI",get:function(){return this.hI.cI}}]),t}();function zp(t,n){return al(t.cI,n.cI)}Wp.Ze=new Wp;var $p=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).wI=Wp.dI(),n}z(n,t);var i=n.prototype;return i.yI=function(t){this.wI=t},i.gI=function(){return this.wI},i._I=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.pI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{mI:e,kI:u});case 8:r++,t.next=1;break;case 11:o=this.wI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.aI(c,i)){t.next=17;break}return t.abrupt("return",{mI:c,kI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{mI:n[0],kI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.bI=[]}var n=t.prototype;return n.TI=function(t){this.bI.push(t),this.bI.sort(zp)},n.pI=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.bI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!ht(o=u.aI(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());$p.Ze=new $p;var Xp,Gp=function(){function t(t){var n,i;this.EI=void 0,this.EI=S&&S.document&&S.document.createElement("div"),n=this.EI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.EI)}return t.prototype.sr=function(){pr(this.EI)},t}();function Yp(t){switch(t){case Xp.SI:case"":return Xp.SI;case Xp.km:return Xp.km;case Xp.RI:default:return Xp.RI}}!function(t){t.XS="",t.RI="none",t.km="metadata",t.SI="auto"}(Xp||(Xp={}));var Kp=[td.Zl,Qo.rf,Qo.rc,Qo.Nf,Qo.Ga,Qo.uf,Qo.hf,Qo.vf,Qo.bf,Qo.Ef,xd.Lw,xd.Fw,xd.Mw,xd.Bw,xd.ml,xd.Uw,xd.Vw,Qo.Qa,Qo.Za,Qo.if,Qo.ef,Qo.cf,Qo.af,Qo.lf,Qo.wf,Qo.df,Qo.yf,Qo._f,Qo.mf,Qo.pf,Qo.If,Qo.Cf,Qo.gf,Qo.ff,Qo.kf],Jp=function(t){function n(n,i){var r;return(r=t.call(this)||this).II=void 0,r.CI=void 0,r.AI=void 0,r.DI=void 0,r.wR=Xp.RI,r.NI=void 0,r.OI=!0,r.qg=new nd,r.Hg=new nd,r.jg=new sd,r.Wg=new Dl,r.II=n,r.AI=i,r.AI.I_=r.I_,r.xI(),r}z(n,t);var i=n.prototype;return i.nr=function(){this.AI.nr()},i.tr=function(){var t=this.AI.tr();ht(t)&&Ue(t)},i.Jg=function(){return this.Zg(void 0)},i.hr=function(){},i.f_=function(t){return!1},i.xI=function(){this.qg.Hl=this.AI.Xg,this.Hg.Hl=this.AI.Gg,this.jg.Hl=this.AI.Yg,this.Wg.Hl=this.AI.Kg,this.AI.Hs(Kp,this.Vs)},i.LI=function(){this.AI.$s(Kp,this.Vs),this.qg.Hl=void 0,this.Hg.Hl=void 0,this.jg.Hl=void 0,this.Wg.Hl=void 0},i.Qg=function(){return this.NI},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Oe(i),this.NI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Id(r=n.sources.filter(Od))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.II._I(r,n);case 9:if(e=t.sent,Oe(i),u=e.mI,o=e.kI,s=this.c_(),c=nl(this),this.CI===o&&!this.ic){t.next=25;break}return this.LI(),t.next=19,this.AI.sr();case 19:Oe(i),this.CI=o,this.AI=this.FI(o),Qp(this.AI,c),il(this,c,this),this.xI();case 25:return this.AI.I_=this.I_,this.OI?this.AI.u_():this.AI.o_(),t.next=29,this.AI.Zg(u,n,i);case 29:Oe(i),this.MI(u),this.c_()!==s&&this.qs(new fd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MI=function(t){this.DI!==t&&(this.DI=t,this.qs(new hd(t)))},i.t_=function(){return this.AI.t_()},i.n_=function(){this.AI.n_()},i.i_=function(){this.AI.i_()},i.c_=function(){return this.AI.c_()},i.l_=function(){this.AI.l_()},i.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NI=void 0,this.MI(void 0),t.next=4,this.AI.Pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),t.next=3,this.Pl();case 3:return t.next=5,this.AI.sr();case 5:this.qg.sr(),this.Hg.sr(),this.jg.sr(),this.Wg.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.u_=function(){this.OI=!0,this.AI.u_()},i.o_=function(){this.OI=!1,this.AI.o_()},j(n,[{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.AI.w_}},{key:"ic",get:function(){return this.AI.ic}},{key:"Ww",get:function(){return this.AI.Ww}},{key:"y_",get:function(){return this.AI.y_},set:function(t){this.AI.y_=t}},{key:"d_",get:function(){return this.DI}},{key:"qw",get:function(){return this.AI.qw},set:function(t){this.AI.qw=t}},{key:"Hw",get:function(){return this.AI.Hw}},{key:"jw",get:function(){return this.AI.jw}},{key:"Kg",get:function(){return this.Wg}},{key:"__",get:function(){return this.AI.__}},{key:"Lg",get:function(){return this.AI.Lg}},{key:"zw",get:function(){return this.AI.zw},set:function(t){this.AI.zw=t}},{key:"S_",get:function(){return this.AI.S_}},{key:"$w",get:function(){return this.AI.$w}},{key:"Xw",get:function(){return this.AI.Xw},set:function(t){this.AI.Xw=t}},{key:"R_",get:function(){return this.AI.R_}},{key:"I_",get:function(){return this.wR},set:function(t){this.wR=t,this.AI&&(this.AI.I_=this.wR)}},{key:"uw",get:function(){return this.AI.uw}},{key:"C_",get:function(){return this.AI.C_}},{key:"Gw",get:function(){return this.AI.Gw}},{key:"Yg",get:function(){return this.jg}},{key:"Yw",get:function(){return this.AI.Yw}},{key:"Gg",get:function(){return this.Hg}},{key:"Kw",get:function(){return this.AI.Kw}},{key:"Jw",get:function(){return this.AI.Jw},set:function(t){this.AI.Jw=t}},{key:"sI",get:function(){return this.AI.sI}}]),n}(ze);function Qp(t,n){t.zw!==n.zw&&(t.zw=n.zw),t.Jw!==n.Jw&&(t.Jw=n.Jw),t.Xw!==n.Xw&&(t.Xw=n.Xw)}var Zp,tm=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fl=void 0,r.BI=void 0,r.UI=void 0,r.Fl=n.length>>1,r.BI=n,r.UI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Fl),r}z(n,t);var i=n.prototype;return i.VI=function(t){return this.BI[2*t]},i.qI=function(t){return this.UI[2*t]},i.HI=function(t){return this.BI[2*t+1]},i.jI=function(t){return this.UI[2*t+1]},j(n,[{key:"WI",get:function(){return this.BI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.vy=function(t,n){return 0===this.uy(t,n)},n.By=function(t,n){return this.uy(t,n)>0},n.Uy=function(t,n){return this.uy(t,n)>=0},n.ly=function(t,n){return this.uy(t,n)<0},n.ay=function(t,n){return this.uy(t,n)<=0},n.eg=function(t,n){return this.ly(t,n)?t:n},n.rg=function(t,n){return this.By(t,n)?t:n},n.zI=function(t,n,i){return i?this.ay(t,n):this.ly(t,n)},n.rI=function(){var t=this;return{get length(){return t.Fl},start:function(n){var i=0|n;return t.$I(i),t.XI(t.VI(i))},end:function(n){var i=0|n;return t.$I(i),t.XI(t.HI(i))}}},n.GI=function(){for(var t=new Array(2*this.Fl),n=new Array(2*this.Fl),i=0;i<this.Fl;i++)t[2*i]=this.VI(i),t[2*i+1]=this.HI(i),n[2*i]=!0,n[2*i+1]=!0;return this.YI(t,n)},n.$I=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Fl)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Fl+")")},n.KI=function(t){if(0===this.Fl)return this.JI();if(this.iI(t))return t;if(this.ay(t,this.VI(0)))return this.VI(0);if(this.Uy(t,this.HI(this.Fl-1)))return this.HI(this.Fl-1);for(var n,i=this.QI(),r=0;r<this.Fl;r++){var e=this.VI(r),u=this.hy(e,t);this.ly(u,i)&&(n=e,i=u);var o=this.HI(r),s=this.hy(this.HI(r),t);this.ly(s,i)&&(n=o,i=s)}return n},n.ZI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Fl&&i<t.Fl;){var u=this.VI(n),o=this.HI(n),s=this.qI(n),c=this.jI(n),a=t.VI(i),f=t.HI(i),h=t.qI(i),v=t.jI(i),d=this.rg(u,a),l=this.eg(o,f),w=void 0;w=this.vy(u,a)?s&&h:this.vy(d,u)?s:h;var y=void 0;y=this.vy(o,f)?c&&v:this.vy(l,o)?c:v,(this.ly(d,l)||w&&y&&this.vy(d,l))&&(r.push(d,l),e.push(w,y));var g=this.uy(this.HI(n),t.HI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.YI(r,e)},n.tC=function(){var t=this.nC(),n=t.Fl;if(0===n)return this.YI([t.iC(),t.QI()],[!1,!1]);var i=[],r=[],e=t.VI(0);t.vy(e,t.iC())||(i.push(t.iC(),e),r.push(!1,!t.qI(0)));for(var u=0;u<n-1;u++)i.push(t.HI(u),t.VI(u+1)),r.push(!t.jI(u),!t.qI(u+1));var o=t.HI(n-1);return t.vy(o,t.QI())||(i.push(o,t.QI()),r.push(!t.jI(n-1),!1)),t.YI(i,r)},n.rC=function(t){for(var n=0,i=0,r=this.Fl,e=t.Fl,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.VI(n),a=this.HI(n),f=t.VI(i),h=t.HI(i);this.ly(c,f)||this.vy(c,f)&&this.ly(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.qI(n),o[s+1]=this.jI(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.qI(i),o[s+1]=t.jI(i),i++),s+=2}for(;n<r;)u[s]=this.VI(n),u[s+1]=this.HI(n),o[s]=this.qI(n),o[s+1]=this.jI(n),n++,s+=2;for(;i<e;)u[s]=t.VI(i),u[s+1]=t.HI(i),o[s]=t.qI(i),o[s+1]=t.jI(i),i++,s+=2;return this.YI(u,o)},n.eC=function(t){void 0===t&&(t=this.JI());var n=this.Fl;if(n<2)return this;for(var i=[],r=[],e=this.VI(0),u=this.HI(0),o=this.qI(0),s=this.jI(0),c=1;c<n;c++){var a=this.VI(c),f=this.HI(c),h=this.qI(c),v=this.jI(c);this.ly(e,a)&&this.By(u,f)||(this.vy(e,a)&&(o=h=o||h),this.vy(u,f)&&(s=v=s||v),this.zI(a,this.py(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.YI(i,r).nC()},n.nC=function(){for(var t=[],n=[],i=0;i<this.Fl;i++){var r=this.VI(i),e=this.HI(i),u=this.qI(i),o=this.jI(i);this.vy(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.YI(t,n)},n.uC=function(t){return this.Fl?t.Fl?this.rC(t).eC():this:t},n.oC=function(t){var n=this.nC(),i=t.nC(),r=n.tC(),e=i.tC(),u=r.ZI(i),o=e.ZI(n);return u.uC(o)},n.yc=function(t){if(this.vy(t,this.JI()))return this;for(var n=[],i=[],r=0;r<this.Fl;r++){var e=this.py(this.VI(r),t),u=this.py(this.HI(r),t);n.push(e,u),i.push(this.qI(r),this.jI(r))}return this.YI(n,i)},n.sC=function(t){return 0===this.Fl||0===t.Fl?this:this.nC().ZI(t.nC().tC())},n.iI=function(t,n){return this.cC(t,n)>=0},n.aC=function(t,n,i,r,e){return this.fC(t,n,i,r,e)>=0},n.hC=function(t,n,i,r,e){return this.vC(t,n,i,r,e)>=0},n.dC=function(t){if(t.Fl!==this.Fl)return!1;for(var n=0;n<this.Fl;n++)if(!this.vy(this.VI(n),t.VI(n))||!this.vy(this.HI(n),t.HI(n))||this.qI(n)!==t.qI(n)||this.jI(n)!==t.jI(n))return!1;return!0},n.lC=function(t){for(var n=[],i=[],r=0;r<this.Fl;r++){var e=this.VI(r),u=this.HI(r),o=this.qI(r),s=this.jI(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.YI(n,i)},n.vC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.JI());for(var u=this._y(t,e),o=this.py(n,e),s=0;s<this.Fl;s+=1)if(this.zI(this.VI(s),o,!r||this.qI(s))&&this.zI(u,this.HI(s),!i||this.jI(s)))return s;return-1},n.fC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.JI());for(var u=this.py(t,e),o=this._y(n,e),s=0;s<this.Fl;s+=1)if(this.zI(this.VI(s),u,!i||this.qI(s))&&this.zI(o,this.HI(s),!r||this.jI(s)))return s;return-1},n.cC=function(t,n){return this.fC(t,t,!0,!0,n)},n.wC=function(t,n){void 0===n&&(n=this.JI());for(var i=this.py(t,n),r=this.Fl-1;r>=0;r-=1)if(this.zI(this.VI(r),i,this.qI(r)))return r;return-1},n.yC=function(t,n){void 0===n&&(n=this.JI());for(var i=this._y(t,n),r=0;r<this.Fl;r+=1)if(this.zI(i,this.HI(r),this.jI(r)))return r;return-1},n.gC=function(t){return this.$I(t),this.YI([this.VI(t),this.HI(t)],[this.qI(t),this.jI(t)])},n._C=function(t,n){var i=this.cC(t,n);return i<0?void 0:this.gC(i)},j(t,[{key:"pC",get:function(){for(var t=this.JI(),n=0;n<this.Fl;n++){var i=this._y(this.HI(n),this.VI(n));t=this.py(t,i)}return t}}]),t}()),nm=function(t){function n(n,i){return t.call(this,n,i)||this}z(n,t);var i=n.prototype;return i.uy=function(t,n){return t<n?rl.ty:t===n?rl.Qw:rl.Zw},i.py=function(t,n){return t+n},i._y=function(t,n){return t-n},i.hy=function(t,n){return l.abs(t-n)},i.JI=function(){return 0},i.QI=function(){return 1/0},i.iC=function(){return-1/0},n.mC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.kC=function(t){for(var i=[],r=[],e=0;e<t.Fl;e++)i.push(t.VI(e).sg),i.push(t.HI(e).sg),r.push(t.qI(e)),r.push(t.jI(e));return new n(i,r)},n.bC=function(t){return new n([t,t],[!0,!0])},i.YI=function(t,i){return new n(t,i)},i.XI=function(t){return t},n.TC=function(){return im},n}(tm),im=new nm([]);!function(t){t._l="fullscreenchange",t.EC="fullscreensupportchange",t.Zl="fullscreenerror"}(Zp||(Zp={}));var rm=function(t){function n(){return t.call(this,Zp.Zl)||this}return z(n,t),n}(Xe),em=new(function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.W_=function(){this.qs(new rm)},i.X_=function(){},i.sr=function(){this.zs()},j(n,[{key:"SC",get:function(){return!1}},{key:"RC",get:function(){return!1}}]),n}(ze)),um=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.s_=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).IC=0,n.CC=!1,n.AC=!0,n.DC=1,n.NC=!1,n.OC=1,n.Xg=new Ml,n.w_=nm.TC().rI(),n.Hw=NaN,n.jw=!1,n.ic=void 0,n.Ww=void 0,n.Kg=void 0,n.__=!1,n.S_=!0,n.R_=nm.TC().rI(),n.I_=Xp.RI,n.uw=_d.Dw,n.C_=nm.TC().rI(),n.oI=void 0,n.Yg=new Sy,n.Yw=0,n.Gg=new Ml,n.Kw=0,n.mR=new Fp,n}z(n,t);var i=n.prototype;return i.u_=function(){},i.o_=function(){},i.tr=function(){this.AC&&(this.AC=!1,this.qs(new Fd(this.qw)),this.qs(new ig(this.qw)))},i.nr=function(){this.AC||(this.AC=!0,this.qs(new jd(this.qw,this.y_)),this.qs(new Ld(this.qw)))},i.Zg=function(t,n){return C.resolve()},i.t_=function(){return!1},i.n_=function(){},i.i_=function(){},i.c_=function(){return em},i.l_=function(){},i.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.IC=0,this.NC=!1,this.nr(),this.qs(new Pd(this.IC));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zs(),this.Xg.sr(),this.Yg.sr(),this.Gg.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"y_",get:function(){},set:function(t){}},{key:"qw",get:function(){return this.IC},set:function(t){this.IC!==t&&(this.IC=t,this.NC=!0,this.qs(new $d(this.qw)))}},{key:"Lg",get:function(){return{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"zw",get:function(){return this.CC},set:function(t){this.CC!==t&&(this.CC=t,this.qs(new Gd(this.qw,this.Jw)))}},{key:"$w",get:function(){return this.AC}},{key:"Xw",get:function(){return this.DC},set:function(t){this.DC!==t&&(this.DC=t,this.qs(new Hd(this.qw,this.Xw)))}},{key:"Gw",get:function(){return this.NC}},{key:"Jw",get:function(){return this.OC},set:function(t){this.OC!==t&&(this.OC=t,this.qs(new Gd(this.qw,this.Jw)))}},{key:"sI",get:function(){return this.mR}}]),n}(ze)),om=function(t){function n(n,i,r,e,u,o){var s;return(s=t.call(this,$p.Ze,new um)||this).ma=void 0,s.xC=void 0,s.LC=void 0,s.FC=void 0,s.FT=void 0,s.MC=void 0,s.BC=void 0,s.LC=n,s.ma=i,s.FT=r,s.MC=e,s.FC=o,s.xC=new b(u,s.FC),s.xC.ur(s.LC),s.BC=new Gp(s.LC),s}z(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.xC.Qi()},i.r_=function(t){var n,i,r,e;n=this,r=(i=t).Jw,e=i.zw,n.Jw=r,n.zw=e},i.e_=function(){},i.FI=function(t){return t.HE(this.LC,this.xC,this.FT,this.ma,this.MC,this.FC)},i.s_=function(){return this.AI.s_()},i.a_=function(){return this.xC.Ji.map(function(t){return t.FR})},i.Ws=function(n){t.prototype.Ws.call(this,n)},i.Ys=function(n){t.prototype.Ys.call(this,n)},i.sr=function(){var n=C.coroutine(Vr.mark(function n(){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.xC.sr(),this.BC.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),j(n,[{key:"g_",get:function(){return this.LC}}]),n}(Jp),sm=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).LC=void 0,e.UC=void 0,e.VC=void 0,e.qC=void 0,e.HC=void 0,e.LC=n,e.UC=i,e.qC=new Ml,e.HC=new Sy,e.VC=r,e}z(n,t);var i=n.prototype;return i.f_=function(t){return!0},i.o_=function(){},i.tr=function(){throw this.qs(new Qd(this.VC)),this.UC},i.nr=function(){},i.Qg=function(){},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Oe(i),this.qs(new Qd(this.VC)),this.UC;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.u_=function(){},i.Jg=function(){return C.resolve()},i.s_=function(){},i.c_=function(){return em},i.a_=function(){return[]},i.hr=function(){},i.r_=function(t){},i.e_=function(){},i.t_=function(){return!1},i.n_=function(){},i.i_=function(){},i.l_=function(){},i.Pl=function(){return C.resolve()},i.sr=function(){return this.zs(),this.qC.sr(),this.HC.sr(),C.resolve()},j(n,[{key:"Xg",get:function(){return this.qC}},{key:"w_",get:function(){return nm.TC().rI()}},{key:"y_",get:function(){return new Date(NaN)},set:function(t){}},{key:"d_",get:function(){}},{key:"qw",get:function(){return 0},set:function(t){}},{key:"Hw",get:function(){return 0}},{key:"g_",get:function(){return this.LC}},{key:"jw",get:function(){return!0}},{key:"ic",get:function(){return this.UC}},{key:"Ww",get:function(){return this.VC}},{key:"Kg",get:function(){}},{key:"Lg",get:function(){return{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"zw",get:function(){return!1},set:function(t){}},{key:"S_",get:function(){return!0}},{key:"$w",get:function(){return!0}},{key:"Xw",get:function(){return 0},set:function(t){}},{key:"R_",get:function(){return nm.TC().rI()}},{key:"I_",get:function(){return Xp.RI},set:function(t){}},{key:"uw",get:function(){return _d.Dw}},{key:"C_",get:function(){return nm.TC().rI()}},{key:"Gw",get:function(){return!1}},{key:"Yg",get:function(){return this.HC}},{key:"Yw",get:function(){return 0}},{key:"Gg",get:function(){return this.qC}},{key:"Kw",get:function(){return 0}},{key:"Jw",get:function(){return 1},set:function(t){}},{key:"__",get:function(){return!1}}]),n}(ad);function cm(t){if(t&&st(t))return qr({},t,{integration:am(t.integration),fairplay:ym(t.fairplay),widevine:fm(t.widevine),playready:hm(t.playready),clearkey:gm(t.clearkey),aes128:_m(t.aes128),integrationParameters:pm(t.integrationParameters),preferredKeySystems:mm(t.preferredKeySystems)})}function am(t){if(at(t))return t}function fm(t){if(t&&st(t))return{persistentState:vm(t.persistentState),distinctiveIdentifier:vm(t.distinctiveIdentifier),audioRobustness:dm(t.audioRobustness),videoRobustness:dm(t.videoRobustness),licenseAcquisitionURL:at(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:lm(t.licenseType),headers:t.headers,useCredentials:!!ft(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:at(t.certificate)||Ju(t.certificate)?t.certificate:void 0,certificateRequestProcessor:wm(t.certificateRequestProcessor),certificateResponseProcessor:wm(t.certificateResponseProcessor),licenseRequestProcessor:wm(t.licenseRequestProcessor),licenseResponseProcessor:wm(t.licenseResponseProcessor)}}function hm(t){if(t){var n=fm(t);if(n)return qr({},n,{customData:at(t.customData)?t.customData:void 0})}}function vm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function dm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function lm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function wm(t){if("function"==typeof t)return t}function ym(t){if(t){var n=fm(t);if(n)return qr({},n,{certificateURL:at(t.certificateURL)?t.certificateURL:void 0})}}function gm(t){if(t){var n=fm(t);if(n)return qr({},n,{keys:ut(t.keys)?t.keys.map(function(t){return function(t){if(!t||!st(t))return;var n=t.id,i=t.value;if(!at(n)||!at(i))return;return{id:n,value:i}}(t)}).filter(et):void 0})}}function _m(t){if(st(t))return{useCredentials:ft(t.useCredentials)?t.useCredentials:void 0}}function pm(t){if(st(t))return t}function mm(t){return t&&ut(t)?t.map(function(t){return Jg(t)}).filter(et):[ie,te,ee]}var km,bm=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return z(n,t),n}(Xe),Tm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).jC=[],r.WC=void 0,r.zC=function(t){Be(function(){r.Vs(t)})},r.WC=i?r.zC:r.Vs,r}z(n,t);var i=n.prototype;return i.$C=function(t){t.Ws(this.WC),this.jC.push(t)},i.XC=function(t){t.Ys(this.WC),Ee(this.jC,t)},i.sr=function(){this.zs();for(var t=0,n=this.jC;t<n.length;t++){n[t].Ys(this.WC)}Ie(this.jC)},n}(cd),Em=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(Tm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(km||(km={}));var Sm,Rm=function(t){function i(n){var i;return(i=t.call(this)||this).GC=void 0,i.YC=void 0,i.KC=!1,i.JC=!1,i.QC=void 0,i.ZC=void 0,i.tA=void 0,i.il=void 0,i.nA=function(){return i.iA()},i.rA=function(){return i.eA()},i.tA=n,i.GC=i.YC=i.QC=i.ZC=km.INLINE,i.tA.Hs(Zp._l,i.nA),i.tA.Hs(Zp.Zl,i.rA),i.uA(),i}z(i,t);var r=i.prototype;return r.ol=function(){return t=this,i={get currentMode(){return t.oA()},requestMode:function(n){var i=Cm(n);i&&t.sA(i)},supportsMode:function(n){var i=Cm(n);return!!i&&t.cA(i)},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},(n=new Tm(i,!0)).$C(t),i;var t,n,i},r.sA=function(t){this.aA(t,t)},r.aA=function(t,n){this.YC!==n&&(this.KC=!0,this.GC=t,this.fA(n,this.YC),t!==km.FULLSCREEN&&(this.QC=t),this.KC=!1,this.uA())},r.oA=function(){return this.JC?km.FULLSCREEN:km.INLINE},r.cA=function(t){switch(t){case km.FULLSCREEN:return this.tA.RC;case km.INLINE:return!0}return!1},r.uA=function(){if(!this.KC){var t=this.YC,n=this.oA();this.YC=n,n!==km.FULLSCREEN&&(this.ZC=n),t!==n&&this.qs(new bm(n))}},r.fA=function(t,n){var i=t===km.FULLSCREEN;this.JC=i,i!==this.tA.SC&&(i?this.tA.W_():this.tA.X_())},r.iA=function(){if(!this.KC){var t=this.tA.SC;this.JC=t,t?this.aA(km.FULLSCREEN,km.FULLSCREEN):t||this.GC!==km.FULLSCREEN?this.uA():this.aA(this.QC,this.ZC)}},r.eA=function(){this.iA(),this.qs(new Qd(new Oo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.tA.sr(),this.zs()},j(i,[{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}}]),i}(cd),Im={qw:0,Hw:NaN,jw:!1,ic:void 0,Ww:void 0,zw:!1,$w:!0,Xw:1,uw:_d.Dw,Gw:!1,Yw:0,Kw:0,Jw:1};function Cm(t){switch(t){case km.INLINE:case km.FULLSCREEN:case km.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Sm||(Sm={}));var Am,Dm,Nm,Om,xm,Pm,Lm,Fm,Mm=function(){function t(){this.hA=[]}var n=t.prototype;return n.vA=function(t){var n=this.dA.filter(function(n){return n.lA(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.wA=function(t){this.hA.push(t)},j(t,[{key:"dA",get:function(){return this.hA}}]),t}();Mm.Ze=new Mm,function(t){t.Vw="PLAYING",t.Mg="PAUSED",t.yA="SEEK",t.gA="STALLED",t._A="FAILED",t.pA="INITIAL_BUFFERING",t.mA="NO_ACCESS"}(Am||(Am={})),function(t){t.kA="HTTP_REQUEST_STATUS_CODE_1XX",t.bA="HTTP_REQUEST_STATUS_CODE_2XX",t.TA="HTTP_REQUEST_STATUS_CODE_3XX",t.EA="HTTP_REQUEST_STATUS_CODE_4XX",t.SA="HTTP_REQUEST_STATUS_CODE_5XX",t.RA="BUFFER_LENGTH",t.IA="BYTES_RECEIVED",t.CA="SEGMENT_READ_BITRATE",t.AA="SEGMENT_PROFILE_BITRATE",t.DA="NUMBER_OF_FRAMES_DROPPED",t.NA="PLAYBACK_POSITION",t.OA="NUMBER_OF_FRAMES_DECODED",t.xA="PLAYBACK_DELTA_TO_ORIGIN",t.PA="STREAM_DELTA_TO_ORIGIN",t.LA="ORIGIN_TIMESTAMP"}(Dm||(Dm={})),function(t){t.FA="MANIFEST_URI",t.MA="ASSET_DURATION",t.BA="NUMBER_OF_CONTENT_PROFILES",t.UA="CDN",t.VA="CONTENT_TITLE",t.qA="SERVICE_NAME",t.HA="CONTENT_TYPE",t.jA="CONTENT_DESCRIPTION"}(Nm||(Nm={})),function(t){t.WA="shutdown_normal_shutdown"}(Om||(Om={})),function(t){t.zA="session/",t.$A="internalError/",t.XA="drmError/",t.GA="caError/",t.YA="networkError/"}(xm||(xm={})),function(t){t.KA="userAction",t.JA="endOfStreamReached"}(Pm||(Pm={})),function(t){t.PAUSE="QA",t.RESUME="ZA"}(Lm||(Lm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Fm||(Fm={}));var Bm,Um,Vm,qm,Hm,jm="agama";function Wm(t){return function(t){switch(t){case Bm.NONE:case Bm.HORIZONTAL:case Bm.VERTICAL:return!0;default:return!1}}(t)?t:Bm.NONE}function zm(t){switch(t){case"":return Bm.NONE;case"horizontal":return Bm.HORIZONTAL;case"vertical":return Bm.VERTICAL;default:throw new v}}function $m(t){if(!t||!at(t))return Um.SI;switch(t){case"always":return Um.tD;case"never":return Um.nD;default:return Um.SI}}function Xm(t){if(!t||!at(t))return Vm.SI;switch(t){case"playlist":return Vm.iD;case"media":return Vm.rD;default:return Vm.SI}}function Gm(t){if(null!==t)return t}function Ym(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Gm(t.streamActivityMonitorID),adTagParameters:st(t.adTagParameters)?t.adTagParameters:{},authToken:Gm(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?qr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void D.bo("A VOD DAI configuration was provided without valid contentSourceID which is required."):void D.bo("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?qr({},i,{availabilityType:"live",assetKey:u}):void D.bo("A Live DAI configuration was provided without valid assetKey which is required.")}D.bo("A DAI configuration was provided without a valid availabilityType which is required.")}function Km(t){if(!jg(t)||!t.integration)return t;switch(t.integration){case hg:return n=t,i=Kg(Kr.us,n),r=Kg(Kr.es,n),e=n[Kr.os]&&Kg(Kr.os,n),qr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function Jm(t){if(!t)return!0;var n,i,r=!(Rd(n=t.sources)||ot(n)&&Rd(n[0]))||Id(t.sources),e=!t.ads||(!(i=t.ads)||ut(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function Qm(t){if(t&&t.sources)return function t(n){if(at(n))return n;if(Sd(n))return n.src;if(ot(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Zm(t,n,i){return Td(t)?function(t,n,i){var r=qr({},Cd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:qm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Hm.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,at(e)?e:ot(e)&&at(e[0])?e:st(u=e)&&at(u.userId)&&(ot(u.externalId)||at(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return Hm.CHANNEL;case"event":return Hm.EVENT;case"asset":default:return Hm.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Hv(t.contentProtected));t.assetInfo?r.assetInfo=Hv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!ft(s.adImpressions)&&s.adImpressions,a=!!ft(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=ft(s.linearAdData)?s.linearAdData:o!==Hm.ASSET):o!==Hm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=nk(r=tk(r,t),n,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Ad(),e=n&&(n.contentProtection||n.drm);if(at(t)){if(r.src=t,r.type=kd(t),e){var u=cm(e);r.contentProtection=Km(u)}}else if(Sd(t)||bd(t)){r.src=t.src,r.type=t.type||kd(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===wd.Cw||t.type===wd.Aw}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=cm(s);r.contentProtection=Km(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return Ym(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=tk(r,t)}return r=nk(r,n,i)}(t,n,i)}function tk(t,n){var i;n.useCredentials?t.crossOrigin=ld.Rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ld.Sw:case ld.Rw:return t;default:return ld.Ew}}(n.crossOrigin)),at(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Hv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Hv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:$m(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Xm(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Hv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Hv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function nk(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!et(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!et(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ld.Ew&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ld.Sw),t.useCredentials=t.crossOrigin===ld.Rw,at(e)&&!t.timeServer&&(t.timeServer=e),t}function ik(t){var n={src:""};if(t&&t.src){if(n.src=zv(t.src),"default"in t&&(n.default=Hv(t.default)),n.kind=Cy(t.kind),function(t){switch(t){case Yl.DEFAULT:case Yl.SRT:case Yl.TTML:case Yl.WEBVTT:case Yl.EMSG:case Yl.EVENT_STREAM:case Yl.ID3:case Yl.CEA608:case Yl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function rk(t,n){if(ct(t))try{return n.vA(t).eD(t)}catch(t){return}}function ek(t){return at(t.sources)&&""!==t.sources||st(t.sources)&&at(t.sources.src)}function uk(t){return t.integration===Sm.SPOTX&&!g(t.id)}function ok(t){return"freewheel"===t.integration}function sk(t,n,i){if(void 0===i&&(i=Mm.Ze),Jm(t))return{sources:[Ad()]};var r=Bv(t);if(r.sources=function(t,n,i){if(Rd(t))return[Zm(t,n,i)];if(ot(t)&&Rd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(Zm(u,n,i))}return r}return[Ad()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!ot(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=rk(u,n))&&(ek(u)||uk(u)||ok(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Id(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!ot(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ik(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=zv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=Wm(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?zm(o.stereoMode):Bm.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Nd(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Bv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==jm&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Zd(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Bm||(Bm={})),function(t){t.SI="auto",t.tD="always",t.nD="never"}(Um||(Um={})),function(t){t.SI="auto",t.iD="playlist",t.rD="media"}(Vm||(Vm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(qm||(qm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Hm||(Hm={}));var ck=function(){function t(t){this.uD=t}return t.prototype.oD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.uD.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.uD.indexOf(t.charAt(n))<<18|this.uD.indexOf(t.charAt(n+1))<<12|(u=this.uD.indexOf(t.charAt(n+2)))<<6|(o=this.uD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.sD=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.uD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.uD.charAt(r)+this.uD.charAt(e)+this.uD.charAt(u)+this.uD.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Np=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.cD=new t(t.Np.oD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ak(t){return"string"==typeof t}function fk(t){return"number"==typeof t}var hk={}.toString;var vk,dk=Array.isArray||function(t){return"[object Array]"===hk.call(t)};function lk(t,n){return dk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(vk||(vk={}));var wk,yk=d.keys(vk).map(function(t){return vk[t]});function gk(t){return-1!==yk.indexOf(t)}function _k(t){try{var n=ck.cD.oD(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=ak(t.key),r=ak(t.customer_id),e=fk(t.generation_date),u=fk(t.expiration_date),o=lk(t.domains_page,ak),s=lk(t.domains_source,ak),c=lk(t.sdks,gk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function pk(){return wk||(wk={gv:R.href,aD:S.parent&&S.parent!==r,fD:bk()}),wk}var mk,kk=["http:","https:","ftp:","ws:","wss:"];function bk(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.hD=0]="hD",t[t.vD=1]="vD",t[t.dD=2]="dD"}(mk||(mk={}));var Tk,Ek=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.lD=t,this.wD=n,this.yD=i,this.gD=r,this._D=e,this.pD=u,this.mD=o,this.kD=s};!function(t){t.vD="expired",t.bD="invaliddomain",t.TD="invalidsource",t.Zl="error"}(Tk||(Tk={}));var Sk=function(){function t(t,n,i){this.ED=void 0,this.SD=t,this.RD=n,this.CD=i,this.ED=Nk(this.CD)}var n=t.prototype;return n.DD=function(t,n){var i=this;if(!Jm(t)&&0!==n.yD.length&&!Ck(n.yD)){var r=[];if(Rd(t.sources)?r=[t.sources]:ot(t.sources)&&(r=t.sources),!r.every(function(t){return i.ND(t,n)})){var e=Tk.TD,u=xk.OD(e);throw new Oo(Rk(e),u)}}},n.xD=function(n){return this.PD(n.mD)&&this.LD(n)?t.FD(n.gD)?mk.hD:mk.vD:mk.dD},n.PD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.MD(t)})},n.MD=function(t){return"tvos"===function(t){switch(t){case vk.ANDROID:return q.kr;case vk.ANDROIDTV:case vk.FIRETV:return q.br;case vk.IOS:return q.Tr;case vk.TVOS:return q.Er;case vk.CHROMECAST:case vk.CHROMECASTCAF:return q.Sr;default:return q.mr}}(t)},t.FD=function(t){var n=Number(new Date);return!!t&&n<=t},n.LD=function(t){return!(this.ED&&0!==t.wD.length&&!Ck(t.wD))||!!(this.ED&&this.BD(t.wD)&&this.UD(t.wD))},n.BD=function(t){return Ak(this.CD.gv,t)},n.UD=function(t){if(!this.CD.aD)return!0;if(this.SD)return!0;var n=this.VD();return!!n&&Ak(n,t)},n.VD=function(){if(this.CD.aD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.CD.fD?this.CD.fD:void 0}},n.ND=function(n,i){return!!t.qD(n,i.yD)},t.qD=function(t,n){return Ak(this.HD(t),n)},t.HD=function(t){return at(t)?t:Sd(t)&&t.src||""},t}();function Rk(t){switch(t){case Tk.bD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Tk.TD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Tk.vD:return n.ErrorCode.LICENSE_EXPIRED;case Tk.Zl:return n.ErrorCode.LICENSE_ERROR}}function Ik(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Ck(t){return t.some(function(t){return"*"===t})}function Ak(t,n){var i=D.Mo(t);if(!Dk(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ik(i.hostname,e))return!0;if(Ik(qf(t),e))return!0}return!1}function Dk(t){return-1!==kk.indexOf(t.protocol)}function Nk(t){var n=D.Mo(t.gv);return Dk(n)&&!Ik(n.hostname,"localhost")&&!function(t){return Ik(t.hostname,"theoplayer.doubleclick.net")}(n)}var Ok,xk=function(){function t(){}return t.OD=function(t){return t===Tk.bD?this.jD:t===Tk.TD?this.WD:t===Tk.vD?this.zD:this.$D},t}();function Pk(t){var n=[t.Mb,t.XD,t.GD];switch(t.XD){case Ok.YD:n.push(t.cw);break;case Ok.KD:n.push(t.qw),n.push(t.ic);break;case Ok.JD:n.push(t.ic)}return n}xk.$D="The license for this player is invalid.",xk.zD="The usage license for this video player has expired.",xk.jD="The current domain is incompatible with the license for this player.",xk.WD="The provided video source is incompatible with the license for this player.",function(t){t[t.YD=1]="YD",t[t.KD=4]="KD",t[t.JD=5]="JD"}(Ok||(Ok={}));for(var Lk=new Array(256),Fk=0;Fk<256;Fk+=1)Lk[Fk]=(Fk<16?"0":"")+Fk.toString(16);function Mk(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Lk[255&n]+Lk[n>>>8&255]+Lk[n>>>16&255]+Lk[n>>>24&255]+"-"+Lk[255&i]+Lk[i>>>8&255]+"-"+Lk[i>>>16&15|64]+Lk[i>>>24&255]+"-"+Lk[63&r|128]+Lk[r>>>8&255]+"-"+Lk[r>>>16&255]+Lk[r>>>24&255]+Lk[255&e]+Lk[e>>>8&255]+Lk[e>>>16&255]+Lk[e>>>24&255]}var Bk=function(){function t(t){this.uD=void 0,this.uD=t}var n=t.prototype;return n.oD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.uD.indexOf(t.charAt(n))<<18|this.uD.indexOf(t.charAt(n+1))<<12|(u=this.uD.indexOf(t.charAt(n+2)))<<6|(o=this.uD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.sD=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.uD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.uD.charAt(i)+this.uD.charAt(r)+this.uD.charAt(e)+this.uD.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function Uk(){return D.wo()}Bk.Np=new Bk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Bk.cD=new Bk(Bk.Np.oD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Vk,qk="theoplayer-session-id";function Hk(){if(!Vk){var t=Go.fc(qk);t?Vk=t:(Vk=Mk(),Go.$a(qk,Vk))}return Vk}var jk=/[^\x00-\x7E]/g;function Wk(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var zk=0,$k=1,Xk=6e4;function Gk(t){var n,i,r,e,u,o=(n=function(t){return[t.QD,t.Xc,t.lD,t.Km,t.ZD,t.tN,t.nN.map(Pk)]}(t),i=[],r=n,e=function(t,n){if(st(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(jk,Wk));return Bk.cD.sD(o)}var Yk=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=Bk.Np),void 0===e&&(e=zk),void 0===u&&(u=$k),this.iN=[],this.rN=null,this.eN=0,this.uN="unknown",this.oN=0,this.sN=function(){Uk()-o.eN>Xk&&o.pr()},this.cN=function(){o.pr(!0)},this.oS=t,this.FT=n,this.aN=i,this.fN=r,this.hN=e,this.vN=u,E.wr(this.cN),a(this.sN,Xk)}var n=t.prototype;return n.dN=function(){return Boolean(this.ZD)},n.lN=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aN.wN();case 2:if(t.sent.kD){t.next=5;break}return t.abrupt("return");case 5:return i={XD:Ok.YD,GD:Zt(),cw:n},t.next=8,this.yN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gN=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={XD:Ok.KD,GD:Zt(),qw:i,ic:n},t.next=3,this.yN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._N=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={XD:Ok.JD,GD:Zt(),ic:n},t.next=3,this.yN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.yN=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aN.wN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.fN.sD(i.lD)){t.next=6;break}if(n.XD===Ok.JD){t.next=6;break}return t.abrupt("return");case 6:if(n.XD===Ok.YD?this.pN():this.dN()||this.pN(),n.Mb=this.oN++,this.iN.push(n),(r=n.XD)!==Ok.YD&&r!==Ok.JD){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.iN.length>this.hN)){t.next=19;break}return t.next=17,this.mN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.iN.length>0)){t.next=6;break}return t.next=4,this.mN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.kN=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aN.wN();case 2:return i=t.sent,t.abrupt("return",{QD:Zt(),Xc:Hk(),lD:this.fN.sD(i.lD)||"dev",Km:this.oS,ZD:this.rN,tN:this.uN,nN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.mN=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.iN.splice(0,this.vN),t.next=4,this.kN(i);case 4:r=t.sent,n?this.Vv(r):this.bN(r),this.eN=Uk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.bN=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Gk(n),r=new xf({gv:"https://license.theoplayer.com",Zh:i,Bv:!1,vv:Zo.eu,hv:{"Content-Type":O_.lS},Lv:4e3,Pv:Cf.POST}),t.prev=2,t.next=5,this.FT.wv(r);case 5:return e=t.sent,t.next=8,e.Kh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Vv=function(t){var n=Gk(t);this.FT.Vv({gv:"https://license.theoplayer.com",Zh:n,Qh:O_.lS})},n.pN=function(){this.dN()&&this.pr(),this.rN=Mk(),this.oN=0},n.sr=function(){E.yr(this.cN),this.pr()},j(t,[{key:"nN",get:function(){return this.iN}},{key:"ZD",get:function(){return this.rN}}]),t}();var Kk=!nt.Se&&!nt.Le;function Jk(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Qk=function(){function t(t){this.kI=void 0,this.il=void 0,this.TN=void 0,this.kI=t}var n=t.prototype;return n.EN=function(t){if(!t||!t.drawImage)return!1;var n=this.kI.s_();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.SN=function(t,n,i,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.kI,c=s.s_();if(!c)return!1;if(!Kk){this.TN||(this.TN=e.createElement("canvas"));var a=this.TN,f=a.getContext("2d"),v=s.Kw,d=s.Yw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&Jk(f,v-1,0)&&(a.width=l,y=!0),d>0&&Jk(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,o,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},j(t,[{key:"ul",get:function(){return this.il||(this.il=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.EN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.SN(n,i,r,e,u,o)}}));var t}}]),t}(),Zk=function(t){function n(n,i){var r;return(r=t.call(this,"RN")||this).do=n,r.Ak=i,r}return z(n,t),n.prototype.ol=function(){return new tb(this.do,this.Ak)},n}(Tv),tb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return z(n,t),n}(Xe),nb=function(t,n){this.g_=void 0,this.IN=void 0,this.g_=t,this.IN=n},ib=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).CN=void 0,r.AN=0,r.DN=0,r.NN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.DN=n.width,r.AN=n.height,r.IN(r.DN,r.AN)}},r.CN=new S.ResizeObserver(r.NN),r.CN.observe(r.g_),r}return z(n,t),n.prototype.sr=function(){this.CN.disconnect()},j(n,[{key:"ON",get:function(){return this.AN}},{key:"xN",get:function(){return this.DN}}]),n}(nb),rb=0;var eb,ub=c,ob=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,sb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function cb(){return eb||(eb=S&&S.document&&S.document.createElement("span")),eb}ob&&sb||(ob=function(t){var n=Uk(),i=l.max(0,16-(n-rb)),r=s(function(){return t(n+i)},i);return rb=n+i,r},sb=ub),ob=ob.bind(t),sb=sb.bind(t);var ab=["Webkit","Moz","O","ms"],fb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",P,n),S.removeEventListener("testPassiveEventSupport",P,n)}}catch(t){}}(),jr());function hb(t){return fb.has(t)||fb.set(t,function(t){var n=cb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<ab.length;r++){var e=ab[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),fb.get(t)}function vb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function db(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[hb("transition")]="0s"}var lb=function(t){function n(n,i,u){var o;(o=t.call(this,n,i)||this).PN=void 0,o.LN=0,o.DN=NaN,o.AN=NaN,o.FN=void 0,o.MN=void 0,o.BN=void 0,o.UN=void 0,o.VN=void 0,o.Pl=function(){o.MN.style.width=1e5+"px",o.MN.style.height=1e5+"px",o.FN.scrollLeft=1e5,o.FN.scrollTop=1e5,o.BN.scrollLeft=1e5,o.BN.scrollTop=1e5,0===o.BN.scrollTop&&ob(o.Pl)},o.qN=function(){var t=o.xN,n=o.ON;o.IN(t,n),o.DN=t,o.AN=n,o.Pl(),o.LN=0},o.HN=function(){if(!o.LN){var t=o.xN,n=o.ON;t===o.DN&&n===o.AN||(o.LN=ob(o.qN))}},o.jN=function(){o.VN||(o.VN=s(o.WN,66))},o.WN=function(){o.VN=void 0,o.zN()},o.zN=function(){o.HN()};var c=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var a,f=e.createElement("div");return o.PN=f,o.FN=e.createElement("div"),o.MN=e.createElement("div"),o.BN=e.createElement("div"),o.UN=e.createElement("div"),vb(o.FN),vb(o.BN),db(o.MN),db(a=o.UN),a.style.width="200%",a.style.height="200%",f.appendChild(o.FN),f.appendChild(o.BN),o.FN.appendChild(o.MN),o.BN.appendChild(o.UN),n.appendChild(f),o.FN.addEventListener("scroll",o.HN),o.BN.addEventListener("scroll",o.HN),r&&r.addEventListener("resize",o.jN),o.HN(),o}return z(n,t),n.prototype.sr=function(){sb(this.LN),this.LN=0,this.FN.removeEventListener("scroll",this.HN),this.BN.removeEventListener("scroll",this.HN),pr(this.PN),r&&r.removeEventListener("resize",this.jN)},j(n,[{key:"ON",get:function(){return this.g_.getBoundingClientRect().height||this.AN||0}},{key:"xN",get:function(){return this.g_.getBoundingClientRect().width||this.DN||0}}]),n}(nb),wb=function(t){function n(n){var i;return(i=t.call(this)||this).g_=void 0,i.CN=void 0,i.NN=function(t,n){i.qs(new Zk(t,n))},i.g_=n,i}z(n,t);var i=n.prototype;return i.Zc=function(t){this.CN||("function"==typeof S.ResizeObserver?this.CN=new ib(this.g_,this.NN):this.CN=new lb(this.g_,this.NN,t))},i.sr=function(){this.zs(),this.CN&&(this.CN.sr(),this.CN=void 0)},j(n,[{key:"ON",get:function(){return this.CN?this.CN.ON:0}},{key:"xN",get:function(){return this.CN?this.CN.xN:0}}]),n}(ze),yb=function(t){function n(){return t.call(this,Zp._l)||this}return z(n,t),n}(Xe);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{$N:i[0],XN:i[1],GN:i[2],YN:i[3],KN:i[4],JN:i[5]}}}();var gb=function(t){function n(){return t.call(this,Zp.EC)||this}return z(n,t),n}(Xe),_b=function(t){function n(n,i){var r;return(r=t.call(this)||this).kI=void 0,r.QN=void 0,r.ZN=void 0,r.tO=!1,r.nO=function(){return r.Hc()},r.nA=function(t){r.tO||r.qs(t)},r.kI=n,r.QN=i,r.ZN=em,r.iO(),r.kI.Hs(Qo.uf,r.nO),r.Hc(),r}z(n,t);var i=n.prototype;return i.W_=function(){this.QN&&this.ZN.W_()},i.X_=function(){this.ZN.X_()},i.iO=function(){this.ZN.Hs(Zp._l,this.nA),this.ZN.Hs(Zp.Zl,this.Vs)},i.rO=function(){this.ZN.$s(Zp._l,this.nA),this.ZN.$s(Zp.Zl,this.Vs)},i.Hc=function(){var t=this.ZN,n=this.kI.c_();if(t!==n){this.tO=!0;var i=this.SC,r=this.RC;i&&this.X_(),this.rO(),this.ZN=n,this.iO(),i&&!this.SC&&this.RC?this.W_():this.X_(),this.tO=!1,r!==this.RC&&this.qs(new gb),i!==this.SC&&this.qs(new yb)}},i.sr=function(){this.zs(),this.rO(),this.kI.$s(Qo.uf,this.nO)},j(n,[{key:"RC",get:function(){return!!this.QN&&this.ZN.RC}},{key:"SC",get:function(){return this.ZN.SC}}]),n}(ze);function pb(t){var n;return{get url(){return t.gv},get method(){return t.Pv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},get useCredentials(){return t.Bv},get type(){return Eb(t.as)},get subType(){return Rb(t.Fv)},get mediaType(){return Cb(t.Mv)},get responseType(){return kb(t.vv)}}}function mb(t){switch(t.toLowerCase()){case"arraybuffer":return Zo.Of;case"json":return Zo.xf;case"stream":return Zo.Pf;case"text":default:return Zo.eu}}function kb(t){return t}function bb(t){switch(t.toUpperCase()){case"POST":return Cf.POST;case"PUT":return Cf.PUT;case"DELETE":return Cf.DELETE;case"HEAD":return Cf.HEAD;case"OPTIONS":return Cf.OPTIONS;case"GET":default:return Cf.GET}}function Tb(t){switch(t.toLowerCase()){case"manifest":return Af.mv;case"segment":return Af.kv;case"content-protection":return Af.bv;default:return Af.pv}}function Eb(t){return t}function Sb(t){switch(t.toLowerCase()){case"initialization-segment":return Df.Tv;case"fairplay-license":return Df.Ev;case"fairplay-certificate":return Df.Sv;case"widevine-license":return Df.Rv;case"widevine-certificate":return Df.Iv;case"playready-license":return Df.Cv;case"clearkey-license":return Df.Av;case"aes128-key":return Df.Dv;default:return Df.pv}}function Rb(t){return t}function Ib(t){switch(t.toLowerCase()){case"audio":return Nf.Nv;case"video":return Nf.Ov;case"text":return Nf.eu;case"image":return Nf.xv;case"":default:return Nf.pv}}function Cb(t){return t}var Ab=function(){function t(t,n){this.eO=new io,this.uO=[],this.il=void 0,this.oO=!1,this.Qv=void 0,this.sO=0,this.cO=t,this.aO=n}var n=t.prototype;return n.Um=function(){this.oO=!0,this.eO.Ec(null)},n.fO=function(){this.eO.Sc(new sf(this.uO))},n.hO=function(t){if(!this.vO)throw new v("Cannot respond more than once");if(!st(t))throw new v("Expected valid response");this.Qv=this.dO(t),this.Um()},n.lO=function(){try{var t=this.aO(this.ul);t?this.wO(t):this.yO||this.gO||this.Um()}catch(t){this.uO.push(t),this.fO()}},n.wO=function(t){if(this.gO)throw new h("Request has been redirected or a response already exists");if(ht(t))this._O(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new io;try{var i=t(function(t){t?n.Sc(t):n.Ec(void 0)});ht(i)&&n.Ec(i)}catch(t){n.Sc(t)}this._O(n.Tc)}},n._O=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.sO++,t.next=4,n;case 4:this.sO--,this.yO||this.gO||(this.uO.length?this.fO():this.Um()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.sO--,this.uO.push(t.t0),this.yO||this.gO||this.fO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),j(t,[{key:"pO",get:function(){return this.eO.Tc}},{key:"ul",get:function(){return this.il||(this.il=this.mO()),this.il}},{key:"gO",get:function(){return this.oO}},{key:"vO",get:function(){return!this.oO}},{key:"yO",get:function(){return this.sO>0}},{key:"Zv",get:function(){return this.Qv}}]),t}(),Db=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).kO=void 0,e.kO=r,e.lO(),e}z(n,t),n.bO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Of({xu:r,wv:n.wv,vv:n.wv.vv,hv:t.headers,fv:t.status,dv:t.statusText,yv:t.url,lv:!0},n)};var i=n.prototype;return i.mO=function(){return i=pb((t=this).wv),{get closed(){return!t.vO},get request(){return i},get url(){return t.gv},get status(){return t.fv},get statusText(){return t.dv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},respondWith:function(n){return t.hO(n)},waitUntil:function(n){return t.wO(n)}};var t,n,i},i.dO=function(t){return n.bO(t,this.cO,this.kO)},j(n,[{key:"Zh",get:function(){return this.kO}},{key:"hv",get:function(){return this.cO.hv}},{key:"wv",get:function(){return this.cO.wv}},{key:"Zv",get:function(){return this.Qv}},{key:"fv",get:function(){return this.cO.fv}},{key:"dv",get:function(){return this.cO.dv}},{key:"gv",get:function(){return this.cO.yv}}]),n}(Ab),Nb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).TO=void 0,e.EO=void 0,e.EO=r,e.lO(),e}z(n,t);var i=n.prototype;return i.mO=function(){return t=this,{get url(){return t.gv},get method(){return t.Pv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},get closed(){return!t.vO},get useCredentials(){return t.Bv},get type(){return Eb(t.as)},get subType(){return Rb(t.Fv)},get mediaType(){return Cb(t.Mv)},get responseType(){return kb(t.vv)},redirect:function(n){return t.SO(n)},respondWith:function(n){return t.hO(n)},waitUntil:function(n){return t.wO(n)}};var t,n},i.dO=function(t){var n=this.cO.Zh,i=new Of({xu:n,hv:{},wv:this.cO,yv:this.cO.gv,vv:this.cO.vv,fv:200,dv:"OK"});return Db.bO(t,i,n)},i.SO=function(t){if(!this.vO)throw new v("Cannot redirect, already redirected or has a response");var n;n=at(t)?{url:t}:t,this.TO=function(t,n){return new xf({gv:void 0===t.url?n.gv:t.url,Pv:void 0!==t.method?bb(t.method):void 0,hv:t.headers,Zh:t.body,Bv:t.useCredentials,as:void 0!==t.type?Tb(t.type):void 0,Fv:void 0!==t.subType?Sb(t.subType):void 0,Mv:void 0!==t.mediaType?Ib(t.mediaType):void 0,vv:void 0!==t.responseType?mb(t.responseType):void 0},n)}(n,this.cO),this.Um()},j(n,[{key:"Zh",get:function(){return this.cO.Zh}},{key:"vO",get:function(){return this.EO&&!this.oO}},{key:"hv",get:function(){return this.cO.hv}},{key:"Pv",get:function(){return this.cO.Pv}},{key:"RO",get:function(){return this.TO}},{key:"Zv",get:function(){return this.Qv}},{key:"vv",get:function(){return this.cO.vv}},{key:"Lv",get:function(){return this.cO.Lv}},{key:"Fs",get:function(){return this.cO.Fs}},{key:"as",get:function(){return this.cO.as}},{key:"Fv",get:function(){return this.cO.Fv}},{key:"Mv",get:function(){return this.cO.Mv}},{key:"gv",get:function(){return this.cO.gv}},{key:"Bv",get:function(){return this.cO.Bv}},{key:"Uv",get:function(){return this.cO.Uv}}]),n}(Ab);var Ob,xb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Pb(n);return(r=t.call(this,e,i)||this).IO=void 0,r.IO=e,r}z(n,t);var i=n.prototype;return i.CO=function(t){this.IO.CO(t)},i.AO=function(t){this.IO.AO(t)},i.DO=function(t){this.IO.DO(t)},i.NO=function(t){this.IO.NO(t)},i.OO=function(t){this.IO.OO(t)},n}(Lf),Pb=function(){function t(t){this.qv=void 0,this.xO=[],this.PO=[],this.qv=t}var n=t.prototype;return n.wv=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.LO(n,n.Fs);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Hf)){t.next=12;break}return t.next=11,this.FO(t.t0,n.Fs);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.MO(i,n.Fs);case 15:if(!If(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Wf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Vv=function(t){return this.qv.Vv(t)},n.LO=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Oe(i),r=n,u=0,o=this.xO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Oe(i),(c=new Nb(r,s,!e)).gO){t.next=17;break}return t.prev=8,t.next=11,c.pO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.RO&&!e?r=c.RO:c.Zv&&!e&&(e=c.Zv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.qv.wv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.FO=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Wf?n.Zv:new Of({xu:null,wv:n.wv,fv:0,dv:""}),t.next=3,this.MO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!If(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Wf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MO=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.PO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],Oe(i),t.next=7,C.resolve(r._c().xu(i));case 7:if(s=t.sent,(c=new Db(r,o,s)).gO){t.next=19;break}return t.prev=10,t.next=13,c.pO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.Zv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.CO=function(t){this.xO.unshift(t)},n.AO=function(t){this.xO.push(t)},n.DO=function(t){Ee(this.xO,t)},n.NO=function(t){this.PO.unshift(t)},n.OO=function(t){Ee(this.PO,t)},n.sr=function(){this.qv.sr(),Ie(this.xO),Ie(this.PO)},t}(),Lb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).il=void 0,e.BO=function(t){e.qs(t)},e.UO=function(t){e.qs(t)},e.VO=n,e.FT=i,e.MC=r,e.VO.Hs(Qo.vf,e.BO),e.VO.Hs(Qo.hf,e.UO),e}z(n,t);var i=n.prototype;return i.qO=function(t){this.MC.qO(t)},i.CO=function(t){this.FT.CO(t)},i.DO=function(t){this.FT.DO(t)},i.NO=function(t){this.FT.NO(t)},i.OO=function(t){this.FT.OO(t)},i.sr=function(){this.zs(),this.VO.$s(Qo.vf,this.BO),this.VO.$s(Qo.hf,this.UO)},j(n,[{key:"ul",get:function(){var t;return this.il||(this.il=(t=this,{get online(){return t.S_},get estimator(){return n=t.HO,{get bandwidth(){return n.YS},get roundTripTime(){return n.KS}};var n},setEstimator:function(n){t.qO(function(t){if(t)return{get YS(){return Wv(t.bandwidth)},get KS(){return Wv(t.roundTripTime)},GS:function(n){return function(t){if(t)return{jO:function(n){t.markRequestStart(n)},WO:function(n){t.markResponseStart(n)},zO:function(n,i){t.markResponseData(n,i)},$O:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(pb(n)))}}}(n))},addRequestInterceptor:function(n){t.CO(n)},removeRequestInterceptor:function(n){t.DO(n)},addResponseInterceptor:function(n){t.NO(n)},removeResponseInterceptor:function(n){t.OO(n)},addEventListener:function(n,i){t.Hs(n,i)},removeEventListener:function(n,i){t.$s(n,i)}})),this.il}},{key:"S_",get:function(){return this.VO.S_}},{key:"HO",get:function(){return this.MC.HO}}]),n}(ze);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Ob||(Ob={}));var Fb=30,Mb={type:Ob.BANDWIDTH},Bb=20,Ub=60;function Vb(t){var n,i,r,e=Bv(Mb);return at(t)?e.type=qb(t):st(t)&&function(t){switch(t){case Ob.PERFORMANCE:case Ob.QUALITY:case Ob.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=qb(t.type)),st(t)&&st(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=jv(n.bitrate),g(r)||(i.bitrate=r),i)),e}function qb(t){switch(t){case"bandwidth":return Ob.BANDWIDTH;case"performance":return Ob.PERFORMANCE;case"quality":return Ob.QUALITY}}var Hb=function(t){function n(n){var i;return(i=t.call(this,"GO")||this).XO=n,i}return z(n,t),n}(Xe),jb=function(t){function n(n){var i;return(i=t.call(this,"KO")||this).YO=n,i}return z(n,t),n}(Xe),Wb=function(t){function n(n){var i;return(i=t.call(this,"QO")||this).JO=n,i}return z(n,t),n}(Xe),zb=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).il=(i=en(n),{get strategy(){return{metadata:(t=i.YO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.YO=Vb(t)},get targetBuffer(){return i.XO},set targetBuffer(t){var n=jv(t);g(n)||(i.XO=n>Ub?Ub:n)},get bufferLookbackWindow(){return i.JO},set bufferLookbackWindow(t){var n=jv(t);g(n)||(i.JO=n<=0?Fb:n)}}),n.ZO=Mb,n.tx=Bb,n.nx=Fb,n.ix=void 0,n.ex=void 0,n}z(n,t);var i=n.prototype;return i.ux=function(t){this.ex=t},i.qO=function(t){this.ix=t},j(n,[{key:"ox",get:function(){switch(this.ZO.type){case Ob.PERFORMANCE:return 0;case Ob.QUALITY:return 1/0;case Ob.BANDWIDTH:return this.ZO.metadata&&void 0!==this.ZO.metadata.bitrate?this.ZO.metadata.bitrate:8*vd.mw();default:return 8*vd.mw()}}},{key:"ul",get:function(){return this.il}},{key:"YO",get:function(){return this.ZO},set:function(t){this.ZO=t,this.qs(new jb(t))}},{key:"XO",get:function(){return this.tx},set:function(t){this.tx=t,this.qs(new Hb(t))}},{key:"JO",get:function(){return this.nx},set:function(t){this.nx=t,this.qs(new Wb(t))}},{key:"HO",get:function(){var t;return null!=(t=this.ix)?t:this.ex.sI}}]),n}(ze),$b=function(t){function n(){return t.call(this,"pl")||this}return z(n,t),n.prototype.ol=function(){return new Xb},n}(Tv),Xb=function(t){function n(){return t.call(this,"change")||this}return z(n,t),n}(Xe),Gb=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).sx=void 0,r.ax=function(t){var n;n=t,Boolean(n&&n.ul)&&Be(function(){r.qs(t.ul)})},r.sx=n,r.sx.Ws(r.ax),r}return z(n,t),n.prototype.sr=function(){this.zs(),this.sx.Ys(this.ax)},n}(cd),Yb=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(Gb);var Kb=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Q_=0,n.Z_=1/0,n.il=void 0,n}z(n,t);var i=n.prototype;return i.Pl=function(){0===this.Q_&&this.Z_===1/0||(this.Q_=0,this.Z_=1/0,this.qs(new $b))},i.hx=function(){return new nm([this.Y_,this.K_],[!0,!0])},j(n,[{key:"Y_",get:function(){return this.Q_},set:function(t){if(this.K_<=t)throw new h("Start time of a clip should be smaller than the end time.");this.Q_!==t&&(this.Q_=t,this.qs(new $b))}},{key:"K_",get:function(){return this.Z_},set:function(t){if(t<=this.Y_)throw new h("End time of a clip should be larger than the start time.");this.Z_!==t&&(this.Z_=t,this.qs(new $b))}},{key:"ul",get:function(){var t,n,i;return this.il||(this.il=(i={get startTime(){return t.Y_},set startTime(n){t.Y_=n},get endTime(){return t.K_},set endTime(n){t.K_=n},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},n=new Gb(t=this,i),i)),this.il}}]),n}(cd),Jb=function(t){function n(n){var i;return(i=t.call(this)||this).vx=function(t){i.lx(t)||i.qs(t)},i.wx=n,i.wx.Ws(i.vx),i}z(n,t);var i=n.prototype;return i.yx=function(){return this.wx.Xg},i.a_=function(){return this.wx.a_()},i.gx=function(){return this.wx.w_},i._x=function(){return this.wx.d_},i.mx=function(){return this.wx.y_},i.kx=function(t){this.wx.y_=t},i.bx=function(){return this.wx.qw},i.Tx=function(t){this.wx.qw=t},i.Ex=function(){return this.wx.Hw},i.Sx=function(){return this.wx.g_},i.Rx=function(){return this.wx.jw},i.Ix=function(){return this.wx.ic},i.Cx=function(){return this.wx.Ww},i.Ax=function(){return this.wx.__},i.Dx=function(){return this.wx.zw},i.Nx=function(t){this.wx.zw=t},i.Ox=function(){return this.wx.S_},i.xx=function(){return this.wx.$w},i.Px=function(){return this.wx.Xw},i.Lx=function(t){this.wx.Xw=t},i.Fx=function(){return this.wx.R_},i.Mx=function(){return this.wx.I_},i.Bx=function(t){this.wx.I_=t},i.Ux=function(){return this.wx.uw},i.Vx=function(){return this.wx.C_},i.qx=function(){return this.wx.Gw},i.Qg=function(){return this.wx.Qg()},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(i),t.next=3,this.wx.Zg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Hx=function(){return this.wx.Yg},i.jx=function(){return this.wx.Yw},i.Wx=function(){return this.wx.Gg},i.zx=function(){return this.wx.Kw},i.$x=function(){return this.wx.Jw},i.Xx=function(t){this.wx.Jw=t},i.c_=function(){return this.wx.c_()},i.s_=function(){return this.wx.s_()},i.r_=function(t){this.wx.r_(t)},i.e_=function(){this.wx.e_()},i.o_=function(){this.wx.o_()},i.hr=function(){this.wx.hr()},i.nr=function(){this.wx.nr()},i.tr=function(){this.wx.tr()},i.u_=function(){this.wx.u_()},i.Jg=function(){return this.wx.Jg()},i.t_=function(){return this.wx.t_()},i.n_=function(){this.wx.n_()},i.i_=function(){this.wx.i_()},i.Pl=function(){return this.wx.Pl()},i.sr=function(){return this.wx.sr()},i.l_=function(){this.wx.l_()},i.f_=function(t){return this.wx.f_(t)},i.lx=function(t){return!1},j(n,[{key:"Xg",get:function(){return this.yx()}},{key:"w_",get:function(){return this.gx()}},{key:"y_",get:function(){return this.mx()},set:function(t){this.kx(t)}},{key:"d_",get:function(){return this._x()}},{key:"qw",get:function(){return this.bx()},set:function(t){this.Tx(t)}},{key:"Hw",get:function(){return this.Ex()}},{key:"g_",get:function(){return this.Sx()}},{key:"jw",get:function(){return this.Rx()}},{key:"ic",get:function(){return this.Ix()}},{key:"Ww",get:function(){return this.Cx()}},{key:"Kg",get:function(){return this.wx.Kg}},{key:"__",get:function(){return this.Ax()}},{key:"Lg",get:function(){return this.wx.Lg}},{key:"zw",get:function(){return this.Dx()},set:function(t){this.Nx(t)}},{key:"S_",get:function(){return this.Ox()}},{key:"$w",get:function(){return this.xx()}},{key:"Xw",get:function(){return this.Px()},set:function(t){this.Lx(t)}},{key:"R_",get:function(){return this.Fx()}},{key:"I_",get:function(){return this.Mx()},set:function(t){this.Bx(t)}},{key:"uw",get:function(){return this.Ux()}},{key:"C_",get:function(){return this.Vx()}},{key:"Gw",get:function(){return this.qx()}},{key:"Yg",get:function(){return this.Hx()}},{key:"Yw",get:function(){return this.jx()}},{key:"Gg",get:function(){return this.Wx()}},{key:"Kw",get:function(){return this.zx()}},{key:"Jw",get:function(){return this.$x()},set:function(t){this.Xx(t)}}]),n}(ad),Qb=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Gx=void 0,e.Yx=!1,e.Kx=void 0,e.Jx=!1,e.Qx=function(){e.Zx(),e.tP()},e.TR=function(){e.nP(),e.tP(),e.iP&&e.qw>=e.Gx.K_-n.rP&&!e.jw&&(e.Kx=ob(e.TR))},e.eP=function(){e.Jx=!0},e.uP=function(){e.Jx&&(e.Jx=!1,e.tP())},e.Gx=r,e.Gx.Hs("pl",e.Qx),e.wx.Hs("timeupdate",e.TR),e}z(n,t);var i=n.prototype;return i.Tx=function(n){var i=this.Gx.hx().KI(n);t.prototype.Tx.call(this,i),this.tP()},i.Rx=function(){return t.prototype.Rx.call(this)||this.Yx},i.Vx=function(){return nm.mC(t.prototype.Vx.call(this)).ZI(this.Gx.hx()).rI()},i.tr=function(){this.Rx()?this.Tx(this.oP.start(0)):this.Zx(),t.prototype.tr.call(this),this.tP()},i.Zg=function(){var n=C.coroutine(Vr.mark(function n(i,r){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Oe(r),this.Yx=!1,this.Gx.Pl(),n.next=5,t.prototype.Zg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.Gx.$s("pl",this.Qx),this.wx.$s("timeupdate",this.TR),this.nP(),t.prototype.sr.call(this)},i.lx=function(n){switch(n.type){case"seeking":return this.qs(n),this.eP(),!0;case"seeked":case"emptied":return this.qs(n),this.uP(),!0;case"ended":if(this.iP)return!0}return t.prototype.lx.call(this,n)},i.nP=function(){this.Kx&&(sb(this.Kx),this.Kx=void 0)},i.tP=function(){var t=this.qw,i=this.iP&&t>=this.Gx.K_-n.cg;this.Yx&&!i?(this.Yx=!1,this.$w&&this.tr()):this.Yx||!i||this.Gw||this.Jx||(this.Yx=!0,this.qs(new Wd(t)),this.nr())},i.Zx=function(){if(this.Hw!==1/0){var t=this.oP,i=nm.mC(t).KI(this.qw);Jt(this.qw,i,n.cg)||this.Tx(i)}},j(n,[{key:"oP",get:function(){return this.Vx().length?this.Vx():this.Gx.hx().rI()}},{key:"iP",get:function(){return this.Gx.K_<this.Hw}}]),n}(Jb);Qb.rP=1,Qb.cg=.001;var Zb=function(){function t(){this.sP=void 0,this.sP=!1}return j(t,[{key:"cP",get:function(){return this.sP},set:function(t){this.sP=t}}]),t}(),tT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).sP=void 0,r.aP=!1,r.fP=!1,r.sP=i,r}z(n,t);var i=n.prototype;return i.Rx=function(){return!this.sP.cP&&t.prototype.Rx.call(this)},i.nr=function(){this.fP=!0,t.prototype.nr.call(this)},i.tr=function(){this.fP=!1,t.prototype.tr.call(this)},i.lx=function(n){if(this.sP.cP)switch(n.type){case"ended":return this.qw=0,this.fP||(this.Gw?this.aP=!0:this.tr()),!0;case"seeked":this.aP&&(this.aP=!1,this.tr());break;case"pause":if(this.aP||t.prototype.Rx.call(this))return!0}return t.prototype.lx.call(this,n)},n}(Jb);var nT=function(){function t(t){var n;this.il=(n=this,{get currentBandwidthEstimate(){return n.b_},get corruptedVideoFrames(){return n.m_},get droppedVideoFrames(){return n.p_},get totalBytesLoaded(){return n.T_},get bufferedSegments(){return n.E_}}),this.AI=t}return j(t,[{key:"ul",get:function(){return this.il}},{key:"m_",get:function(){return this.AI.hP.Lg.m_}},{key:"b_",get:function(){return this.AI.hP.Lg.b_}},{key:"p_",get:function(){return this.AI.hP.Lg.p_}},{key:"vP",get:function(){throw new h("Not implemented")}},{key:"dP",get:function(){throw new h("Not implemented")}},{key:"T_",get:function(){return this.AI.hP.Lg.T_}},{key:"k_",get:function(){return this.AI.hP.Lg.k_}},{key:"E_",get:function(){return this.AI.hP.Lg.E_}}]),t}(),iT=function(t){function n(){return t.call(this,"lP")||this}return z(n,t),n.prototype.ol=function(){return new rT},n}(Tv),rT=function(t){function n(){return t.call(this,"castingchange")||this}return z(n,t),n}(Xe);var eT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).wP=[],n.il=void 0,n.yP=function(){return n.qs(new iT)},n}z(n,t);var i=n.prototype;return i.gP=function(t){this.wP.push(t),t.Hs("statechange",this.yP)},i.sr=function(){var t=this;this.wP.forEach(function(n){n.$s("statechange",t.yP)}),Ie(this.wP)},j(n,[{key:"_P",get:function(){return this.wP.some(function(t){return t._P})}},{key:"ul",get:function(){var t,n,i;return this.il||(this.il=(i={get casting(){return t._P},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},n=new Yb(t=this,i),i)),this.il}}]),n}(ad),uT=function(){function t(){}return t.pP=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new xf({gv:n,vv:Zo.eu,Pv:Cf.GET}),t.next=4,i.wv(r);case 4:return e=t.sent,t.next=7,e.xu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Ne(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.mP=function(t){try{var i=_k(t);return new Ek(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Oo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.kP=function(t){void 0===t&&(t=Bk.Np),D.bo("The baked-in license is used. Please update the configuration with your license.");var n=t.oD(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.oD(n)}),e=Number(new Date(Number(t.oD("COD|aHpHa:p3Ceo3Co\"\""))));return new Ek(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Ek(t.lD,t.wD,t.yD,864e13,t._D,Date.now(),t.mD,t.kD)},t}(),oT=function(){function t(){}return t.Xa=function(){return t.Ze||(t.Ze=sT.oa()?new sT:new Xo),t.Ze},t.dc=function(n){t.Xa().dc(n)},t.za=function(){t.Xa().za()},t.fc=function(n){return t.Xa().fc(n)},t.$a=function(n,i){t.Xa().$a(n,i)},t.bP=function(n){var i=t.fc(n);if(void 0!==i)return y(i)},t.TP=function(n){return"true"===t.fc(n)},t}();oT.Ze=void 0;var sT=function(n){function i(){return n.apply(this,arguments)||this}z(i,n),i.oa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.dc=function(n){t.localStorage.removeItem(n)},r.za=function(){t.localStorage.clear()},r.fc=function(n){return t.localStorage[n]},r.$a=function(n,i){t.localStorage[n]=i},i}(oT),cT=l.floor(14399999*l.random()-72e5),aT=function(){function t(t,n,i,r,e,u){this.ED=void 0,this.FT=t,this.EP=n,this.SP=i,this.aN=r,this.RP=e,this.CD=u,this.ED=Nk(u)}var i=t.prototype;return i.IP=function(){var t=C.coroutine(Vr.mark(function t(){var n;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CP(this.RP.license,this.RP.licenseUrl);case 2:n=t.sent,this.aN.AP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.CP=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=uT.mP(i):e||(u=uT.kP()),e||(e="https://validate.theoplayer.com/1/"+u.lD),o=this.DP(),!u){t.next=14;break}if((s=this.EP.xD(u))!==mk.hD){t.next=14;break}if(!this.NP(u.gD)||!this.NP(null==o?void 0:o.gD)){t.next=13;break}return t.next=10,this.OP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.EP.xD(o)!==mk.hD){t.next=24;break}if(!this.NP(null==o?void 0:o.gD)){t.next=23;break}return t.next=20,this.OP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:oT.dc("THEOplayer.license");case 25:return t.next=27,uT.pP(e,this.FT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=uT.mP(f),this.EP.xD(h)!==mk.hD){t.next=34;break}return oT.$a("THEOplayer.license",f),t.abrupt("return",h);case 34:oT.dc("THEOplayer.license"),t.next=39;break;case 37:if(this.ED||!u||s!==mk.vD||e!=="https://validate.theoplayer.com/1/"+u.lD){t.next=39;break}return t.abrupt("return",uT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.xP(null!=(v=u)?v:h,new Oo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Oo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DD=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aN.wN();case 2:if(i=t.sent,!this.NP(i.gD)){t.next=9;break}return e=null!=(r=this.RP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.lD,t.next=7,this.OP(e);case 7:(u=t.sent)&&(this.aN.AP(u),i=u);case 9:if(t.prev=9,(o=this.EP.xD(i))!==mk.dD){t.next=16;break}throw s=Tk.bD,new Oo(Rk(s),xk.OD(s));case 16:if(o!==mk.vD){t.next=19;break}throw c=Tk.vD,new Oo(Rk(c),xk.OD(c));case 19:this.EP.DD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.PP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.OP=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,uT.pP(n,this.FT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=uT.mP(i),this.EP.xD(r)!==mk.hD){t.next=11;break}return oT.$a("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.NP=function(t){return!t||Number(new Date)+2592e5+cT>=t},i.DP=function(){var t=oT.fc("THEOplayer.license");if(t)return uT.mP(t)},i.xP=function(t,n){this.aN.AP(t),this.PP(n)},i.PP=function(t){throw kt(t.message),this.SP._N(t.message),t},t}(),fT=function(){function t(){this.LP=void 0,this.FP=new io}var n=t.prototype;return n.AP=function(t){this.LP=t,this.FP.Ec()},n.wN=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.LP){t.next=2;break}return t.abrupt("return",C.resolve(this.LP));case 2:return t.next=4,this.FP.Tc;case 4:return t.abrupt("return",this.LP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"MP",get:function(){return this.LP}}]),t}(),hT=function(t){function n(){return t.call(this,"pl")||this}return z(n,t),n.prototype.ol=function(){return new vT},n}(Tv),vT=function(t){function n(){return t.call(this,"change")||this}return z(n,t),n}(Xe);function dT(t){var n,i={get fontFamily(){return t.BP},set fontFamily(n){t.BP=n},get fontColor(){return t.UP},set fontColor(n){t.UP=n},get fontSize(){return t.VP},set fontSize(n){t.VP=n},get backgroundColor(){return t.qP},set backgroundColor(n){t.qP=n},get windowColor(){return t.HP},set windowColor(n){t.HP=n},get edgeStyle(){return t.jP},set edgeStyle(n){t.jP=n},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new $e(i),t.Hs(["pl"],function(t){return n.qs(t.ul)}),i}var lT,wT,yT={BP:void 0,UP:void 0,VP:void 0,qP:void 0,HP:void 0,jP:void 0,WP:void 0},gT="THEOplayer.textTrackStyle.",_T=function(t){function n(){var i;return(i=t.call(this)||this).zP=void 0,i.il=void 0,i.zP=n.$P(),i}return z(n,t),n.prototype.Hc=function(t){this.zP=qr({},this.zP,t),n.XP(this.zP),this.qs(new hT)},n.$P=function(){var t=qr({},yT);return t.BP=oT.fc(gT+"fontFamily")||t.BP,t.UP=oT.fc(gT+"fontColor")||t.UP,t.VP=oT.fc(gT+"fontSize")||t.VP,t.qP=oT.fc(gT+"backgroundColor")||t.qP,t.HP=oT.fc(gT+"windowColor")||t.HP,t.jP=oT.fc(gT+"edgeStyle")||t.jP,t},n.XP=function(t){oT.$a(gT+"fontFamily",t.BP||""),oT.$a(gT+"fontColor",t.UP||""),oT.$a(gT+"fontSize",t.VP||""),oT.$a(gT+"backgroundColor",t.qP||""),oT.$a(gT+"windowColor",t.HP||""),oT.$a(gT+"edgeStyle",t.jP||"")},j(n,[{key:"GP",get:function(){return this.zP}},{key:"BP",get:function(){return this.zP.BP},set:function(t){this.Hc({BP:t})}},{key:"UP",get:function(){return this.zP.UP},set:function(t){this.Hc({UP:t})}},{key:"VP",get:function(){return this.zP.VP},set:function(t){this.Hc({VP:t})}},{key:"qP",get:function(){return this.zP.qP},set:function(t){this.Hc({qP:t})}},{key:"HP",get:function(){return this.zP.HP},set:function(t){this.Hc({HP:t})}},{key:"jP",get:function(){return this.zP.jP},set:function(t){this.Hc({jP:t})}},{key:"WP",get:function(){return this.zP.WP}},{key:"ul",get:function(){return this.il||(this.il=dT(this)),this.il}}]),n}(ze),pT=function(t){function n(n,i){var r;(r=t.call(this)||this).YP=void 0,r.Kc=void 0,r.hP=void 0,r.KP=void 0,r.Jd=void 0,r.Gx=void 0,r.sP=void 0,r.JP=void 0,r.QP=void 0,r.MC=void 0,r.EP=void 0,r.ZP=void 0,r.tL=void 0,r.FC=void 0,r.nL=!1,r.Vg=!1,r.P_=void 0,r.iL=!1,r.rL=void 0,r.eL=void 0,r.uL=void 0,r.oL=void 0,r.sL=void 0,r.cL=function(t){if(!r.iL){r.iL=!0;var n=r.YP,i=Ll(t);r.hP.Hl=new sm(r.g_,i,t),Ue(n.sr())}},r.aL=function(t){r.qs(t.ul)},r.fL=function(t){t.type!==Qo.vf&&t.type!==Qo.hf&&r.qs(t)};var e=jv(i.uid);g(e)?r.P_=jl++:r.P_=e,r.Kc=i;var u=D.Jd,o=new fT;r.KP=new Yk("2.89.1",u,o),r.Jd=new xb(u,i.allowMixedContent),r.MC=new zb,r.EP=new Sk(i.isEmbeddable,"2.89.1",pk()),r.sL=new aT(u,r.EP,r.KP,o,i,pk()),r.sL.IP().catch(r.cL),r.ZP=new wb(n),r.ZP.Hs("RN",r.aL),r.FC=new _T,r.Gx=new Kb,r.sP=new Zb;var s=new om(n,i,r.Jd,r.MC,r.ZP,r.FC);r.MC.ux(s);var c=s;c=new Qb(c,r.hL),c=new tT(c,r.cP),r.YP=c,r.hP=new Nl(r.YP),r.hP.Ws(r.fL),r.oL=new nT(en(r)),r.eL=new Lb(r.hP,r.Jd,r.MC),r.JP=new Qk(en(r)),r.tL=new _b(r.hP,i.allowNativeFullscreen),r.QP=new Rm(r.tL),r.ZP.Zc();var a=new b(r.ZP,r.FC,1,[Fl.Ov]);return r.rL=new T(a),r.uL=new eT,r}z(n,t);var i=n.prototype;return i.Nx=function(t){this.hP.zw=t,t||this.$w||this.hr()},i.Xx=function(t){this.hP.Jw=t},i.vL=function(){il(this,Im,this)},i.tr=function(){this.hP.tr()},i.nr=function(){this.hP.nr()},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.sL.DD(n).catch(this.cL),r=mT(n),t.next=5,this.hP.Zg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.Vg||(this.hP.hr(),this.rL.hr(),this.Vg=!0)},i.SC=function(){return this.QP.oA()===km.FULLSCREEN},i.u_=function(){this.hP.u_()},i.o_=function(){this.hP.o_()},i.s_=function(){return this.hP.s_()},i.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hP.Jg();case 2:return t.next=4,this.hP.Pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.uL.sr(),this.Jd.sr(),this.eL.sr(),this.tL.sr(),this.QP.sr(),this.ZP.sr(),this.KP.sr(),this.rL.sr(),t.next=11,this.hP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"dL",get:function(){return this.MC}},{key:"zg",get:function(){return this.nL},set:function(t){this.nL=t,this.hP.zg=t}},{key:"lL",get:function(){return this.rL}},{key:"Xg",get:function(){return this.hP.Xg}},{key:"wL",get:function(){return this.uL}},{key:"yL",get:function(){return this.ZP}},{key:"Kg",get:function(){return this.hP.Kg}},{key:"Lg",get:function(){return this.oL}},{key:"gL",get:function(){return this.eL}},{key:"Yg",get:function(){return this.hP.Yg}},{key:"_L",get:function(){return this.FC}},{key:"Gg",get:function(){return this.hP.Gg}},{key:"w_",get:function(){return this.hP.w_}},{key:"hL",get:function(){return this.Gx}},{key:"cP",get:function(){return this.sP}},{key:"qw",get:function(){return this.hP.qw},set:function(t){this.hP.qw=t}},{key:"y_",get:function(){return this.hP.y_},set:function(t){this.hP.y_=t}},{key:"d_",get:function(){return this.hP.d_}},{key:"Hw",get:function(){return this.hP.Hw}},{key:"g_",get:function(){return this.hP.g_}},{key:"jw",get:function(){return this.hP.jw}},{key:"ic",get:function(){return this.hP.ic}},{key:"Ww",get:function(){return this.hP.Ww}},{key:"zw",get:function(){return this.hP.zw},set:function(t){var n=Boolean(t);this.Nx(n)}},{key:"$w",get:function(){return this.hP.$w}},{key:"Xw",get:function(){return this.hP.Xw},set:function(t){this.hP.Xw=t}},{key:"R_",get:function(){return this.hP.R_}},{key:"I_",get:function(){return this.hP.I_},set:function(t){this.hP.I_=Yp(t)}},{key:"uw",get:function(){return this.hP.uw}},{key:"C_",get:function(){return this.hP.C_}},{key:"Gw",get:function(){return this.hP.Gw}},{key:"Xl",get:function(){return this.P_}},{key:"Yw",get:function(){return this.hP.Yw}},{key:"Kw",get:function(){return this.hP.Kw}},{key:"Jw",get:function(){return this.hP.Jw},set:function(t){var n=Kt(Number(t),0,1)||0;this.Xx(n)}}]),n}(ad);function mT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.pL=0]="pL",t[t.mL=1]="mL"}(lT||(lT={})),function(t){t[t.kL=0]="kL"}(wT||(wT={}));var kT={};function bT(t,n){var i=t;if(kT[n])for(var r=0,e=kT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var TT=[];function ET(t){TT.push(t)}var ST=t.CustomEvent;var RT=function(){try{var t=new ST("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},IT=function(){function t(t,n){var i=this;this.AI=void 0,this.bL=void 0,this.TL=!1,this.EL=function(t){i.bL.gN(t.error,i.qw)},this.SL=function(){i.bL.lN(i.RL),i.AI.removeEventListener("playing",i.SL),i.TL=!1},this.IL=function(){i.TL||(i.AI.addEventListener("playing",i.SL),i.TL=!0)},this.bL=n,this.AI=t,this.AI.addEventListener("error",this.EL),this.AI.addEventListener("sourcechange",this.IL),this.IL()}return t.prototype.Pl=function(){},j(t,[{key:"qw",get:function(){var t=this.AI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"RL",get:function(){return this.AI.src||""}}]),t}();ET(function(t){new IT(t.ul,t.KP)});var CT,AT,DT="theoplayer-stored-volume",NT="theoplayer-stored-mutedstate";CT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=oT.bP(DT);(void 0===e||g(e))&&(e=1);var u=oT.TP(NT)||!1;r.Jw=e,r.zw=u}return r}z(n,t);var i=n.prototype;return i.Nx=function(n){this.Kc.persistVolume&&oT.$a(NT,""+Boolean(n)),t.prototype.Nx.call(this,n)},i.Xx=function(n){this.Kc.persistVolume&&oT.$a(DT,""+Number(n)),t.prototype.Xx.call(this,n)},n}(t)},AT=lT.mL,(kT[AT]||(kT[AT]=[])).push(CT);var OT=new(function(){function t(){this.CL=[],this.il=void 0}var n=t.prototype;return n.Dl=function(t){return this.CL[t]},n.AL=function(t){this.CL.push(t),this.ul.push(t.ul)},n.qc=function(t){var n=this.CL.indexOf(t);n<0||(Se(this.CL,n),this.il&&Se(this.il,n))},n.DL=function(t){for(var n=0,i=this.CL;n<i.length;n++){var r=i[n];if(r.Xl===t)return r}},j(t,[{key:"Fl",get:function(){return this.CL.length}},{key:"ul",get:function(){return this.il||(this.il=function(t){for(var n=[],i=0;i<t.Fl;i++)n[i]=t.Dl(i).ul;return n.getPlayerByUID=function(n){var i=t.DL(n);return i&&i.ul},n}(this)),this.il}}]),t}()),xT=function(){function t(t){var n=this;this.NL=[],this.OL=void 0,this.Pd=new Ae,this.xL=void 0,this.kn=function(){return 0===n.NL.length?n.xL?PT(n.xL,n.Pd.Fs).then(n.PL,n.PL):n.PL():n.NL.shift()().then(n.kn)},this.PL=function(){if(0!==n.NL.length)return n.kn();n.OL=void 0},this.xL=t}var n=t.prototype;return n.LL=function(t,n){var i=this;return new C(function(r){var e=new Ae;e.Ps(i.Pd.Fs),n&&e.Ps(n);var u=function(){e.Is()};i.NL.push(function(){var n=PT(t,e.Fs);return r(n),n.then(u,u)}),i.OL||(i.OL=i.kn())})},n.xs=function(){return this.FL(!0)},n.sr=function(){return this.xL=void 0,this.FL(!1)},n.FL=function(t){var n=this.OL;return this.Pd.xs(),t&&(this.Pd=new Ae),C.resolve(n)},t}();function PT(t,n){return new C(function(i){return i(t(n))})}var LT,FT=function(t){function n(n){var i;return(i=t.call(this,Qo.Rf)||this).source=n,i}return z(n,t),n}(Xe),MT=function(t){function n(){var n;return(n=t.call(this)||this).IC=void 0,n.AC=void 0,n.NC=void 0,n.DC=void 0,n.IC=0,n.AC=!0,n.NC=!1,n.DC=1,n}z(n,t);var i=n.prototype;return i.tr=function(){this.AC&&(this.AC=!1,this.qs(new Fd(this.qw)),this.qs(new ig(this.qw)))},i.nr=function(){this.AC||(this.AC=!0,this.qs(new jd(this.qw,this.y_)),this.qs(new Ld(this.qw)))},i.Pl=function(){this.IC=0,this.NC=!1,this.DC=1,this.nr(),this.qs(new Pd(this.IC))},i.sr=function(){this.zs()},i.o_=function(){},i.u_=function(){},j(n,[{key:"y_",get:function(){},set:function(t){}},{key:"qw",get:function(){return this.IC},set:function(t){this.NC&&this.IC===t||(this.IC=t,this.NC=!0,this.qs(new $d(this.qw)))}},{key:"$w",get:function(){return this.AC}},{key:"Xw",get:function(){return this.DC},set:function(t){this.DC!==t&&(this.DC=t,this.qs(new Hd(this.qw,this.Xw)))}},{key:"uw",get:function(){return _d.Dw}},{key:"Gw",get:function(){return this.NC}}]),n}(cd),BT=function(t){function n(){return t.call(this,Qo.nf)||this}return z(n,t),n}(Xe),UT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},VT={visibility:"hidden"},qT={visibility:"visible"},HT=function(){function t(t){var n,i=this;this.EI=void 0,this.AI=void 0,this.ML=!1,this.BL=void 0,this.UL=void 0,this.VL=function(t){var n;i.ML=!1,i.BL=null==(n=t.source)?void 0:n.poster,i.Hc()},this.iE=function(){i.ML=!0,i.o_()},this.AI=t,this.xI(),this.EI=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",mr(UT,n),n),t.g_.appendChild(this.EI)}var n=t.prototype;return n.Hc=function(){var t=this.AI.$w,n=this.ML;this.gv?this.EI.style.backgroundImage='url("'+this.gv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.EI.style.backgroundImage="",t&&this.gv&&!n?this.u_():this.o_()},n.u_=function(){mr(VT,this.AI.g_),mr(qT,this.EI)},n.o_=function(){mr(VT,this.EI),mr(qT,this.AI.g_)},n.xI=function(){this.AI.Hs("sourcechange",this.VL),this.AI.Hs("play",this.iE)},n.sr=function(){this.AI.$s("sourcechange",this.VL),this.AI.$s("play",this.iE),pr(this.EI)},j(t,[{key:"gv",get:function(){return void 0!==this.BL?this.BL:void 0!==this.UL?this.UL:void 0}},{key:"qL",set:function(t){this.UL=t,this.Hc()}}]),t}();function jT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).AI=void 0,e.HL=void 0,e.jL=void 0,e.WL=void 0,e.zL=void 0,e.$L=void 0,e.XL=void 0,e.GL=void 0,e.OI=void 0,e.NI=void 0,e.il=void 0,e.YL=function(t){t.type!==Qo.yf&&e.GL.push(t)},e.HL=new t(i,r),e.jL=new MT,e.AI=e.HL,e.WL=new HT(en(e)),e.$L=new xT,e.XL=!1,e.GL=[],e.OI=!0,e.NI=void 0,e.xI(),e}z(i,n);var r=i.prototype;return r.LL=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.$L.LL(n,i).catch(Pe));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.KL=function(){var t=C.coroutine(Vr.mark(function t(n,i){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(i),this.HL.Ws(this.YL),t.next=4,this.HL.Zg(n,i);case 4:this.HL.Ys(this.YL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.JL=function(){var t=C.coroutine(Vr.mark(function t(){var n,i,r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Qg())&&!Jm(n)&&this.zg&&this.$w){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Kc.mutedAutoplay,t.next=6,this.lL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.QL(),t.abrupt("break",14);case 12:return(this.zw||i===Md.ALL)&&(this.zw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Zg=function(t){var n=this,i=this.NI;i&&!Jm(i)&&this.qs(new Pd(0,0)),this.Pl(),this.NI=t,Ue(this.LL(function(){var i=C.coroutine(Vr.mark(function i(r){return Vr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Oe(r),i.prev=1,i.next=4,n.KL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.NI=void 0,i.t0;case 10:return i.next=12,n.ZL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.ZL=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tF(this.HL),this.qs(new FT(this.Qg())),t.next=4,this.JL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Tx=function(t){this.AI.qw=t},r.Ix=function(){return this.HL.ic},r.Cx=function(){return this.HL.Ww},r.tr=function(){this.AI.tr()},r.QL=function(){this.zw||this.hr(),this.tr()},r.hr=function(){this.HL.hr()},r.nr=function(){this.AI.nr()},r.Jg=function(){this.Zg(void 0)},r.u_=function(){this.OI=!0,this.AI.u_()},r.o_=function(){this.OI=!1,this.AI.o_()},r.vL=function(){this.HL.vL()},r.Xx=function(t){this.HL.Xx(t)},r.Nx=function(t){this.HL.Nx(t)},r.nF=function(t){this.zL=t,t.AL(this)},r.SC=function(){return this.HL.SC()},r.Qg=function(){return this.NI},r.s_=function(){return this.HL.s_()},r.bx=function(){return this.HL.qw},r.Ex=function(){return this.HL.Hw},r.gx=function(){return this.HL.w_},r.Fx=function(){return this.HL.R_},r.Vx=function(){return this.HL.C_},r.Pl=function(){var t=this;this.NI=void 0,Ie(this.GL),this.jL.Pl(),this.tF(this.jL),this.$L.xs(),Ue(this.$L.LL(function(){var n=C.coroutine(Vr.mark(function n(i){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Oe(i),n.next=3,t.HL.Pl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.qs(new BT),this.WL.sr(),this.LI(),this.Pl(),Ue(this.LL(C.coroutine(Vr.mark(function n(){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.HL.sr();case 2:t.zL&&(t.zL.qc(t),t.zL=void 0),t.$L.sr();case 4:case"end":return n.stop()}},n)})))),this.zs()},r.tF=function(t){if(this.AI!==t){var n=this.AI.$w,i=this.AI.qw,r=this.AI.Xw,e=this.AI.Gw;this.LI(),t===this.HL?((e||t.qw!==i)&&(t.qw=i),t.Xw!==r&&(t.Xw=r),n?t.nr():t.tr()):this.Kc.retainPlaybackRateOnSourceChange?t.Xw=r:1!==r&&this.qs(new Hd(this.bx(),1)),this.AI=t,this.xI();for(var u=0,o=this.GL;u<o.length;u++){var s=o[u];this.qs(s)}Ie(this.GL),this.OI?t.u_():t.o_()}},r.xI=function(){this.AI.Ws(this.Vs)},r.LI=function(){this.AI.Ys(this.Vs)},r.ol=function(){return t=this,r=function(n){i=n;var r=sk(n,t.Kc);t.Zg(r)},e={get abr(){return t.dL.ul},get audioTracks(){return t.Xg.ul},get autoplay(){return t.zg},set autoplay(n){t.zg=Boolean(n)},get buffered(){return t.gx()},get canvas(){return t.JP.ul},get clip(){return t.hL.ul},get currentProgramDateTime(){var n;return null!=(n=t.y_)?n:null},set currentProgramDateTime(n){t.y_=null!=n?n:void 0},get currentTime(){return t.bx()},set currentTime(n){t.Tx(Number(n))},get duration(){return t.Ex()},get element(){return t.g_},get ended(){return t.jw},get error(){return t.Ix()},get errorObject(){return t.Cx()},get loop(){return t.cP.cP},set loop(n){t.cP.cP=Boolean(n)},get metrics(){return t.Lg.ul},get muted(){return t.zw},set muted(n){t.Nx(n)},get network(){return t.gL.ul},get paused(){return t.$w},get playbackRate(){return t.Xw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Xw=i},get played(){return t.Fx()},get poster(){return t.iF},set poster(n){t.iF=zv(n)},get preload(){return t.I_},set preload(n){t.I_=n},get presentation(){return t.QP.ul},get readyState(){return t.uw},get seekable(){return t.Vx()},get seeking(){return t.Gw},get source(){return i},set source(t){r(t)},get src(){return Qm(t.Qg())},set src(t){r({sources:t})},get textTracks(){return t.Yg.ul},get textTrackStyle(){return t._L.ul},get uid(){return t.Xl},get videoHeight(){return t.Yw},get videoTracks(){return t.Gg.ul},get videoWidth(){return t.Kw},get volume(){return t.Jw},set volume(n){t.Xx(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.QL()},pause:function(){t.nr()},stop:function(){i=void 0,t.Jg()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)},setSource:function(t){r(t)}},(n=new Em(e,!0)).$C(t),e;var t,n,i,r,e},j(i,[{key:"KP",get:function(){return this.HL.KP}},{key:"JP",get:function(){return this.HL.JP}},{key:"Kc",get:function(){return this.HL.Kc}},{key:"YP",get:function(){return this.HL.YP}},{key:"Jd",get:function(){return this.HL.Jd}},{key:"JR",get:function(){return this.HL.tL}},{key:"QP",get:function(){return this.HL.QP}},{key:"ZP",get:function(){return this.HL.ZP}},{key:"hP",get:function(){return this.HL.hP}},{key:"dL",get:function(){return this.HL.dL}},{key:"zg",get:function(){return this.HL.zg},set:function(t){this.HL.zg=t,this.JL()}},{key:"lL",get:function(){return this.HL.lL}},{key:"Xg",get:function(){return this.HL.Xg}},{key:"wL",get:function(){return this.HL.wL}},{key:"yL",get:function(){return this.HL.ZP}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"Kg",get:function(){return this.HL.Kg}},{key:"Lg",get:function(){return this.HL.Lg}},{key:"gL",get:function(){return this.HL.gL}},{key:"Yg",get:function(){return this.HL.Yg}},{key:"_L",get:function(){return this.HL._L}},{key:"Gg",get:function(){return this.HL.Gg}},{key:"hL",get:function(){return this.HL.hL}},{key:"cP",get:function(){return this.HL.cP}},{key:"y_",get:function(){return this.AI.y_},set:function(t){this.AI.y_=t}},{key:"d_",get:function(){return this.HL.d_}},{key:"g_",get:function(){return this.HL.g_}},{key:"jw",get:function(){return this.HL.jw}},{key:"zw",get:function(){return this.HL.zw},set:function(t){this.HL.zw=t}},{key:"$w",get:function(){return this.AI.$w}},{key:"iF",get:function(){return this.WL.gv||""},set:function(t){this.WL.qL=t}},{key:"Xw",get:function(){return this.HL.Xw},set:function(t){this.AI.Xw=t}},{key:"I_",get:function(){return this.HL.I_},set:function(t){this.HL.I_=Yp(t)}},{key:"uw",get:function(){return this.AI.uw}},{key:"Gw",get:function(){return this.AI.Gw}},{key:"Xl",get:function(){return this.HL.Xl}},{key:"Yw",get:function(){return this.HL.Yw}},{key:"Kw",get:function(){return this.HL.Kw}},{key:"Jw",get:function(){return this.HL.Jw},set:function(t){this.HL.Jw=t}}]),i}(ad)}Be(function(){t.dispatchEvent&&t.dispatchEvent(RT("theoplayerready"))});var WT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return au(t)},n.decode=function(t){return su(t)},t}())},zT=OT.ul,$T=xg.YE.registerContentProtectionIntegration.bind(xg.YE),XT=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},GT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),YT=k(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function KT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function JT(t){return JSON.stringify(t,YT.getSerialize(KT))}var QT,ZT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),tE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),nE=k(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),iE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=ZT.isS,r=ZT.isChar,e=ZT.isNameStartChar,u=ZT.isNameChar,o=ZT.S_LIST,s=ZT.NAME_RE,c=tE.isChar,a=nE.isNCNameStartChar,f=nE.isNCNameChar,v=nE.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,A=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,At=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(i){case y:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Lt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ca}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ca=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new h(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Ct||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:At(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:At(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?A:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:A}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=A)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(At(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();At(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new h("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Ca=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?y:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),rE=function(){function t(){}return t.prototype.su=function(t){var n=new iE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new fE,r=[i];function e(t){r[r.length-1].bu(t)}return n.on("text",function(t){r.length>1&&e(new cE(t))}),n.on("cdata",function(t){e(new aE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new oE({hu:n,du:""===i?void 0:i,rF:""===u?void 0:u}),s=t.attributes,c=0,a=d.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new eE({hu:v,wu:w,du:""===l?void 0:l,rF:""===h?void 0:h});o.eF(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new sn(t)}),n.write(t).close(),i},t}(),eE=function(){function t(t){this.uF=void 0,this.oF=void 0,this.sF=void 0,this.En=void 0,this.uF=t.hu,this.En=t.wu,this.oF=t.du,this.sF=t.rF}var n=t.prototype;return n.au=function(t){return this===t||!!vE(this,t)&&(this.uF===t.uF&&this.oF===t.oF&&this.sF===t.sF&&this.En===t.En)},n.fu=function(){return new t({hu:this.hu,wu:this.wu,du:this.du,rF:this.lu})},j(t,[{key:"nu",get:function(){return nn.ru}},{key:"hu",get:function(){return this.uF}},{key:"vu",get:function(){return void 0===this.sF?this.uF:this.sF+":"+this.uF}},{key:"du",get:function(){return this.oF}},{key:"lu",get:function(){return this.sF}},{key:"wu",get:function(){return this.En}}]),t}(),uE=function(){function t(){this.gu=[]}var n=t.prototype;return n._u=function(t){return this.gu.filter(function(n){return hE(n)&&n.mu===t})},n.ku=function(t,n){return this.gu.filter(function(i){return hE(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.gu.push(t)},j(t,[{key:"pu",get:function(){return this.gu}},{key:"Eu",get:function(){return this.gu.filter(hE)}}]),t}(),oE=function(t){function n(n){var i;return(i=t.call(this)||this).uF=void 0,i.oF=void 0,i.sF=void 0,i.cF=[],i.uF=n.hu,i.oF=n.du,i.sF=n.rF,i}z(n,t);var i=n.prototype;return i.aF=function(t){for(var n=0,i=this.pu;n<i.length;n++){var r=i[n];hE(r)?r.aF(t):t.push(r.xu)}},i.Ru=function(t,n){for(var i=0,r=this.cF;i<r.length;i++){var e=r[i];if(e.hu===n&&e.du===t)return e.wu}},i.Su=function(t){for(var n=0,i=this.cF;n<i.length;n++){var r=i[n];if(r.vu===t)return r.wu}},i.eF=function(t){this.cF.push(t)},i.Iu=function(t){for(var n=0;n<this.cF.length;n++)if(this.cF[n].vu===t)return void this.cF.splice(n,1)},i.Cu=function(t,n){for(var i=0;i<this.cF.length;i++)if(this.cF[i].hu===n&&this.cF[i].du===t)return void this.cF.splice(i,1)},i.Au=function(t,n){this.Iu(t),this.eF(new eE({hu:t,wu:n}))},i.Du=function(t,n,i){this.Iu(n);var r=n.split(":");this.eF(new eE({hu:r[r.length-1],wu:i,du:t,rF:r.length>1?r[0]:void 0}))},i.fu=function(t){var i=new n({hu:this.hu,du:this.du,rF:this.lu});return this.Nu.forEach(function(t){return i.eF(t.fu())}),t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!vE(this,t)&&(this.uF===t.uF&&this.sF===t.sF&&this.oF===t.oF&&(dE(this.Nu,t.Nu)&&dE(this.pu,t.pu)))},j(n,[{key:"nu",get:function(){return nn.iu}},{key:"Nu",get:function(){return this.cF}},{key:"hu",get:function(){return this.uF}},{key:"du",get:function(){return this.oF}},{key:"lu",get:function(){return this.sF}},{key:"mu",get:function(){return void 0===this.sF?this.uF:this.sF+":"+this.uF}},{key:"Ou",get:function(){var t=[];return this.aF(t),t.join("")}}]),n}(uE),sE=function(){function t(t){this.$i=void 0,this.$i=t}return j(t,[{key:"xu",get:function(){return this.$i}}]),t}(),cE=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!vE(this,t)&&this.xu===t.xu},j(n,[{key:"nu",get:function(){return nn.eu}}]),n}(sE),aE=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!vE(this,t)&&this.xu===t.xu},j(n,[{key:"nu",get:function(){return nn.uu}}]),n}(sE),fE=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.fu=function(t){var i=new n;return t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!vE(this,t)&&dE(this.pu,t.pu)},j(n,[{key:"nu",get:function(){return nn.ou}},{key:"Pu",get:function(){return this.Eu[0]}}]),n}(uE);function hE(t){return rn(t)}function vE(t,n){return t.nu===n.nu}function dE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].au(n[i]))return!1;return!0}function lE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:qr({},t,{adBreak:qr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ig(t,["adBreak"])})})})}function wE(t){return void 0===t.ads?t:qr({},t,{ads:t.ads.map(function(t){t.adBreak;return Ig(t,["adBreak"])})})}function yE(t){return"string"==typeof t.date?new Date(t.date):t.date}function gE(t){var n;return t.cue.track?(n=pE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=pE(t.cue,""),n}function _E(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function pE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new rE).su(r.firstChild.outerHTML).Pu.Nu.forEach(function(t){e[t.hu]=t.wu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=mE(s);u[o]={type:QT.fF,value:c}}else bE(s)?u[o]={type:QT.hF,value:s}:u[o]={type:QT.vF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=mE(t.scte35Cmd),i.scte35Out=mE(t.scte35Out),i.scte35In=mE(t.scte35In),i.customAttributes=u}var a}(),i}function mE(t){if(void 0!==t)return au(t)}function kE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(pE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(pE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function bE(t){return"number"==typeof t}!function(t){t.vF="daterange-ca-type_string",t.hF="daterange-ca-type_number",t.fF="daterange-ca-type_arraybuffer"}(QT||(QT={}));var TE={cue:function(t){var n={};switch(n.date=yE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=gE(t)}return n},textTrack:function(t){var n={};switch(n.date=yE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=IE().register(t.cue));var i=RE()[CE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=gE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(pE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=yE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=IE().register(t)}),n.track=kE(t.track);case"removetrack":case"change":n.track=kE(t.track)}return n},default:function(t){var n={};switch(n.date=yE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=qr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=kE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=wE(t.ad);break;case"adloaded":case"adimpression":n.ad=lE(t.ad);break;case"aderror":t.dF&&(n.dF=t.dF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=lE(t.ad)}return _E(n)},minimizeCueHelper:function(t){var n={};return n.date=yE(t),n.type=t.type,n.cue=gE(t),n.track={uid:t.cue.track.uid},n},adReplacer:lE,adBreakReplacer:wE,removeCircularReferences:_E},EE=function(){this.stringify=JT,this.minimize=TE};function SE(){return S.self}function RE(){return SE().THEOplayerBridge}function IE(){return SE().THEOCueMirrorMap}function CE(){return SE().THEOplayerGlobalID}function AE(){var t=SE();if(t.THEOplayerBridge){var n=new XT;t.THEOplayerBridge=Mv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new XT;t.THEOplayerUtils||(t.THEOplayerUtils=new EE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new GT)}AE();var DE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new NE(n)},n}(cn),NE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=PE(this.yu.childNodes)),this.gu}},{key:"Pu",get:function(){return new OE(this.yu.documentElement)}}]),n}(wn),OE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.fu=function(t){var i=new n(this.yu.cloneNode(t));return i.Nu.length<1&&this.Nu.length>0&&this.Nu.forEach(function(t){i.Au(t.vu,t.wu)}),i},j(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=PE(this.yu.childNodes)),this.gu}}]),n}(hn);function xE(t){switch(t.nodeType){case nn.iu:return new OE(t)}return gn(t)}function PE(t){for(var n=[],i=0;i<t.length;i++){var r=xE(t.item(i));r&&n.push(r)}return n}O(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).lF=new DE,n}return z(n,t),n.prototype.su=function(t){return this.lF.su(t)},n}(kv)));var LE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return z(n,t),n}(Xe),FE=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new LE(t,n))},i.addEventListener=function(t,n){this.Hs(t,n)},i.removeEventListener=function(t,n){this.$s(t,n)},n}(ad);function ME(t,n){return t.Y_<=n&&t.K_>n}function BE(t,n){return function(t,n){return hl(t.Y_,n.Y_,uw)}(t,n)||function(t,n){return hl(t.K_,n.K_,uw)}(t,n)}function UE(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,L,BE,!0);if(i<0)return i;for(;i<t.length&&BE(n,t[i])===rl.Qw;i++)if(t[i].vy(n))return i;return-(i+1)}function VE(t){var n=t.sl;if(!n)return-1;if(t instanceof ow)return n.wF(t);var i=n.ow;if(!i)return-1;var r=UE(i.Ll,t);return r>=0?r:-1}var qE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.j_,n)||this).Zy=i,r}return z(n,t),n.prototype.ol=function(){return new HE(this.G_.ul)},n}(nw),HE=function(t){function n(n){return t.call(this,Ql.j_,n)||this}return z(n,t),n}(iw),jE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.z_,n)||this).Zy=i,r}return z(n,t),n.prototype.ol=function(){return new WE(this.G_.ul)},n}(nw),WE=function(t){function n(n){return t.call(this,Ql.z_,n)||this}return z(n,t),n}(iw),zE=function(t){function n(n){var i;return(i=t.call(this,Ev.vl)||this).G_=n,i}return z(n,t),n.prototype.ol=function(){return new $E(this.G_.ul)},n}(Sv),$E=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return z(n,t),n}(Rv),XE=function(t){function n(n){var i;return(i=t.call(this,Ev.ll)||this).G_=n,i}return z(n,t),n.prototype.ol=function(){return new GE(this.G_.ul)},n}(Sv),GE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return z(n,t),n}(Rv),YE=function(t){function n(n){var i;return(i=t.call(this,Ev.yl)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new KE(this.sl.ul)},n}(Sv),KE=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return z(n,t),n}(Rv);function JE(t,n){return fl(t.Zy,n.Zy)||function(t,n){return t.sl===n.sl?al(VE(t),VE(n)):xy(t.sl,n.sl)}(t.G_,n.G_)||function(t,n){return t===n?rl.Qw:t===Jl.j_?rl.ty:rl.Zw}(t.type,n.type)}var QE=function(){function t(t,n){var i=this;this.AI=void 0,this.yF=void 0,this.jg=[],this.gF=0,this._F=0,this.pF=[],this.mF=!1,this.kF=!1,this.bF=void 0,this.TF=function(){i.gF=0,i.EF(),i.SF()},this.RF=function(){i.EF(),i.SF()},this.IF=function(){i.kF=!0,i.bF=i.AI.qw,i.CF()},this.AF=function(){i.EF(),i.SF()},this.DF=function(){i.NF(),i.EF(),i.SF()},this.OF=function(){i.xF()},this.PF=function(t){Ee(i.pF,t.G_),i.xF()},this.yF=n,this.AI=t,t.Hs(Qo.If,this.RF),t.Hs(Qo.lf,this.RF),t.Hs(xd.Vw,this.RF),t.Hs(Qo.df,this.RF),t.Hs(Qo.mf,this.IF),t.Hs(Qo.pf,this.AF),this.xF()}var n=t.prototype;return n.Pl=function(){Ie(this.pF);for(var t=0,n=this.jg.slice();t<n.length;t++){var i=n[t];this.Ol(i)}this.CF(),this.gF=0,this._F=0,this.mF=!1,this.kF=!1,this.bF=void 0},n.Nl=function(t){Re(this.jg,t)||(this.jg.push(t),t.Hs(Ev.cl,this.OF),t.Hs(Ev.fl,this.PF),t.Hs(Ev._l,this.DF),t.ow.Fl&&this.xF(),this.NF())},n.Ol=function(t){if(Ee(this.jg,t)){if(t.$s(Ev.cl,this.OF),t.$s(Ev.fl,this.PF),t.$s(Ev._l,this.DF),t.ow.Fl){for(var n=0,i=t.ow.Ll;n<i.length;n++){var r=i[n];Ee(this.pF,r)}this.xF()}this.NF()}},n.NF=function(){this.mF=this.jg.some(function(t){return t.nw!==Zv.ew})},n.SF=function(){this.AI.Gw||this.AI.$w?this.CF():this.xF()},n.xF=function(){this.mF&&(this.gF||(this.gF=this.yF._r(this.TF)))},n.CF=function(){this.gF&&(this.yF.LF(this.gF),this.gF=0)},n.EF=function(){var t;if(this.mF&&!this.AI.Gw){var n=this.jg,i=this._F,r=null!=(t=this.bF)?t:this.AI.qw,e=r-i<-.1,u=this.kF||e;u&&r>i&&r-i<.1&&(u=!1),this.kF=!1,this.bF=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.nw!==Zv.ew){a.FF(r,u);for(var f=0,h=a.sw.Ll;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.pF;else{o=[];for(var d=0;d<n.length;d++){var w=n[d];w.nw!==Zv.ew&&Oy(w,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Re(s,o[y])&&Se(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.Y_>=i&&p.K_<=r&&(g.push(p),Se(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.sp||m.push(new qE(T,T.Y_)),m.push(new jE(T,l.max(T.Y_,T.K_)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.sp&&(m.push(new jE(R,l.max(R.Y_,R.K_))),R.sp=!1)}for(var I=0;I<s.length;I++){var C=s[I];C.sp||(m.push(new qE(C,C.Y_)),C.sp=!0)}m.sort(JE);for(var A=0;A<m.length;A++){var D=m[A],N=D.G_;N.qs(D);var O=N.sl;O&&(D.type===Jl.j_?O.qs(new zE(N)):O.qs(new XE(N)),Re(k,O)||k.push(O))}k.sort(xy);for(var x=0;x<k.length;x++){var P=k[x];P.qs(new YE(P))}this._F=r,this.pF=s}},n.sr=function(){this.Pl(),this.AI.$s(Qo.If,this.RF),this.AI.$s(Qo.lf,this.RF),this.AI.$s(xd.Vw,this.RF),this.AI.$s(Qo.df,this.RF),this.AI.$s(Qo.mf,this.IF),this.AI.$s(Qo.pf,this.AF)},t}(),ZE=function(){function t(){}var n=t.prototype;return n._r=function(t){return ob(t)},n.LF=function(t){sb(t)},t}(),tS=new ZE,nS=function(t){function n(n,i){return void 0===i&&(i=tS),t.call(this,n,i)||this}return z(n,t),n}(QE),iS=function(t){function n(){return t.call(this,Qo.cf)||this}return z(n,t),n}(Xe),rS=function(t){function n(n){var i;return(i=t.call(this,Qo.wf)||this).currentTime=n,i}return z(n,t),n}(Xe),eS=function(t){function n(n,i){var r;return(r=t.call(this)||this).MF=void 0,r.BF=void 0,r.UF=function(t){r.MF.VF("THEOplayerABRSetTargetBuffer",t.XO),r.qs(t)},r.qF=function(t){r.MF.VF("THEOplayerABRSetStrategy",t.YO),r.qs(t)},r.MF=n,r.BF=i,r.BF.Hs("GO",r.UF),r.BF.Hs("KO",r.qF),r}return z(n,t),j(n,[{key:"ox",get:function(){var t;switch(this.YO.type){case Ob.PERFORMANCE:return 1;case Ob.QUALITY:return 0;case Ob.BANDWIDTH:return null!=(t=this.YO.metadata)&&t.bitrate&&!g(this.YO.metadata.bitrate)?this.YO.metadata.bitrate:0;default:return 0}}},{key:"ul",get:function(){return this.BF.ul}},{key:"YO",get:function(){return this.BF.YO},set:function(t){this.BF.YO=t}},{key:"XO",get:function(){return this.BF.XO},set:function(t){this.BF.XO=t}},{key:"JO",get:function(){return this.BF.JO},set:function(t){this.BF.JO=t}}]),n}(ze),uS=function(){function t(t){this.HF=void 0,this.il=void 0,this.HF=t}var n=t.prototype;return n.ol=function(){return function(t){for(var n=[],i=0;i<t.Fl;i++)n[i]=t.fc(i).ul;return n.item=function(n){var i=0|n,r=t.fc(i);return r&&r.ul||void 0},d.defineProperty(n,"constructor",{value:ew}),n}(this)},n.D_=function(t){for(var n=this.HF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.vy(r))return!0}return!1},n.fc=function(t){return this.HF[t]},j(t,[{key:"Ll",get:function(){return this.HF}},{key:"Fl",get:function(){return this.HF.length}},{key:"ul",get:function(){if(this.il){var t=this.HF;this.il.length=t.length;for(var n=0;n<t.length;n++)this.il[n]=t[n].ul}else this.il=this.ol();return this.il}}]),t}(),oS=function(t){function n(n,i){var r;return(r=t.call(this,Ev.ml)||this).sl=n,r.uw=i,r}return z(n,t),n.prototype.ol=function(){return new sS(this.sl.ul,od(this.uw))},n}(Sv),sS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return z(n,t),n}(Rv),cS=function(t){function n(n){var i;return(i=t.call(this,Ev.bl)||this).sl=n,i}return z(n,t),n.prototype.ol=function(){return new aS(this.sl.ul)},n}(Sv),aS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return z(n,t),n}(Rv),fS=function(t){function n(n){var i;return(i=t.call(this,Ev.cl)||this).G_=n,i}return z(n,t),n.prototype.ol=function(){return new hS(this.G_.ul)},n}(Sv),hS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return z(n,t),n}(Rv),vS=function(t){function n(n){var i;return(i=t.call(this,Ev.fl)||this).G_=n,i}return z(n,t),n.prototype.ol=function(){return new dS(this.G_.ul)},n}(Sv),dS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return z(n,t),n}(Rv),lS=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this)||this).il=void 0,c.O_=void 0,c.P_=Hl(),c.jF=!1,c.WF=void 0,c.zF=void 0,c.x_=void 0,c.XF=void 0,c.GC=Zv.ew,c.GF=Gl.NONE,c.YF=void 0,c.Lu=void 0,c.HF=[],c.KF=[],c.JF=void 0,c.QF=void 0,c.ZF=0,c.tM=0,c.O_=i||"",c.WF=s||"",c.zF=n,c.XF=e||"",c.jF=Boolean(u),c.Lu=o||Yl.DEFAULT,c.x_=r||"",c.JF=new uS(c.HF),c.QF=new uS(c.KF),c}z(n,t);var i=n.prototype;return i.nM=function(t){return Te(this.JF.Ll,function(n){return n.$l===t})},i.ol=function(){return rd(this)},i.aA=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Zv.ew:case Zv.rw:case Zv.iw:return n}}else if("number"==typeof t)switch(t){case 0:return Zv.ew;case 1:return Zv.rw;case 2:return Zv.iw}return Zv.ew}(t);n!==this.nw&&(this.GC=n,n===Zv.ew&&(this.KF.forEach(function(t){t.sp=!1}),Ie(this.KF),this.tM=0))},i.qT=function(t){if(t&&!t.sl){var n=UE(this.ow.Ll,t);if(!(n>=0)){t.sl=this;var i=-(n+1);this.HF.splice(i,0,t),this.iM(i),t.op=i,i<this.tM&&(this.tM=i),this.qs(new fS(t))}}},i.rM=function(t){if(t&&t.sl===this){var n=this.wF(t);if(!(n<0)){t.sp=!1;var i=this.KF,r=UE(i,t);r>=0&&Se(i,r),Se(this.HF,n),this.iM(n),t.op=-1,this.tM>n&&--this.tM,this.qs(new vS(t))}}},i.FF=function(t,n){var i=this.KF,r=this.HF,e=this.tM,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){ME(i[o],t)||(u=!0,Se(i,o))}for(;e<r.length&&r[e].Y_<=t;){var s=r[e];if(0===t)break;ME(s,t)&&!Re(i,s)&&(u=!0,i.push(s)),e++}u&&ke(i,BE),this.tM=e},i.wF=function(t){return(-1===t.op||t.op>=this.ZF)&&this.eM(),t.op},i.eM=function(){for(var t=this.HF,n=this.ZF;n<t.length;n++)t[n].op=n;this.ZF=t.length},i.iM=function(t){t<this.ZF&&(this.ZF=t)},i.sr=function(){this.zs();for(var t=this.HF.slice(),n=0;n<t.length;n++){t[n].sr()}Ie(this.HF),Ie(this.KF)},j(n,[{key:"sw",get:function(){return this.QF}},{key:"ow",get:function(){return this.JF}},{key:"jT",get:function(){return this.jF},set:function(t){this.jF=t}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"tw",get:function(){return this.WF},set:function(t){this.WF=t}},{key:"Gl",get:function(){return this.zF}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.XF}},{key:"nw",get:function(){return this.GC},set:function(t){this.aA(t),this.qs(new Ov(this))}},{key:"uw",get:function(){return this.GF},set:function(t){this.GF!==t&&(this.GF=t,this.qs(new oS(this,this.GF)))}},{key:"cw",get:function(){return this.YF},set:function(t){this.YF=t}},{key:"as",get:function(){return this.Lu},set:function(t){this.Lu!==t&&(this.Lu=t,this.qs(new cS(this)))}}]),n}(ze);function wS(t,n,i){for(var r=t[n].Y_,e=n;e>=0&&t[e].Y_===r;e--)t[e].K_=i}var yS,gS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).uM=void 0,e}return z(n,t),n.prototype.vy=function(n){return this===n||Vv(this,n)&&t.prototype.vy.call(this,n)&&(i=n,this.J_===i.J_);var i},j(n,[{key:"ul",get:function(){return this.il||(this.il=rw(this)),this.il}}]),n}(ow),_S=function(t){function n(n,i,r){return void 0===r&&(r=Yl.DEFAULT),t.call(this,Ey.km,"",i||"","",!1,r,n)||this}return z(n,t),n}(lS),pS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).as=Yl.ID3,r.uM=void 0,r}z(n,t);var i=n.prototype;return i.qT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Y_<t.Y_)wS(n,i,t.Y_);else{var r=n[0];if(r.Y_>t.Y_)t.K_=r.Y_;else{var e=UE(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].Y_<t.Y_&&wS(n,o,t.Y_),u<n.length){var s=n[u];t.K_=s.Y_}}}}}}(n,this.HF),t.prototype.qT.call(this,n)},i.ol=function(){return rd(this)},n}(_S),mS=(Qo.lf,Qo.df,xd.Vw,Qo.If,Qo.wf,Qo.cf,Qo.mf,Qo.pf,Qo.ef,Qo.yf,Qo.Cf,Qo.if,xd.ml,Qo._f,td.Zl,We.rc,We.uc,Qo.Za,Qo.Qa,Qo.Af,{oM:!1,sM:50}),kS=function(){function t(t,n,i){this.ma=void 0,this.ys=void 0,this.Oa=void 0,this.Gc=void 0,this.ma=t,this.ys=i,this.Oa=n}var n=t.prototype;return n.HT=function(t){throw new h("Not implemented yet.")},n.cM=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ys.ps(n.fs,i);case 2:return r=t.sent,t.next=5,r.ra();case 5:return e=t.sent,t.next=8,this.aM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.fM=function(t){return!1},n.hM=function(t){return C.resolve(void 0)},n.Is=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.aM=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.vM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.vM=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Gc)){t.next=5;break}return t.next=4,i.ta(this.Oa);case 4:this.Gc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Zc(this.Oa);case 8:this.Gc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.UT=function(t,n,i){throw new h("Not implemented yet.")},j(t,[{key:"Kc",get:function(){return this.ma}},{key:"I_",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"C_",get:function(){return new nm([0,1/0])}},{key:"Yg",get:function(){throw new h("Not implemented yet.")}},{key:"dM",get:function(){throw new h("Not implemented yet")}},{key:"Gg",get:function(){throw new h("Not implemented yet.")}},{key:"lM",get:function(){throw new h("Not implemented yet")}},{key:"wM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.yM="webkitneedkey",t.gM="webkitkeymessage",t._M="webkitkeyerror"}(yS||(yS={}));var bS,TS,ES=function(t){function n(n,i){var r;return(r=t.call(this,yS.yM)||this).initData=n,r.sessionId=i,r}return z(n,t),n}(Xe),SS=function(t){function n(n,i){var r;return(r=t.call(this,yS.gM)||this).message=n,r.destinationURL=i,r}return z(n,t),n}(Xe),RS=function(t){function n(){return t.call(this,yS._M)||this}return z(n,t),n}(Xe),IS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).sa=new io,o.ka=void 0,o.fa=new nu,o.Ta=new io,o.pM=function(t){o.ka?(o.ka.Sc(void 0),o.ka=void 0):o.wa("internal-error"),o.qs(new Qe)},o.mM=function(t){o.ka&&(o.ka.Ec(void 0),o.ka=void 0),o.qs(new Je(en(o),"license-request",to(t.message).buffer,t.destinationURL||void 0))},o.ga=n,o.Lc=i,o.kM=r,o.Da=e,o.Sa=u,o}z(n,t);var i=n.prototype;return i.Uc=function(){var t=C.coroutine(Vr.mark(function t(n,i,r){var e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ra){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.bM(Qu(i),e);case 5:this.wa("usable"),this.Ta.Ec(),this.Ta=new io;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Hc=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Qu(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.ka=new io,this.kM.Hc(this.Da,i),t.next=7,this.ka.Tc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ta;case 2:return this.kM.$s(yS.gM,this.mM),this.kM.$s(yS._M,this.pM),this.Ta.xs(),this.sa.Ec(void 0),t.abrupt("return",this.sa.Tc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.bM=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=No(n,i,this.Sa),this.kM.Hs(yS.gM,this.mM),this.kM.Hs(yS._M,this.pM),this.kM.TM(this.Da,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wa=function(t){this.fa.dc(),this.fa.vc(tu,t),this.qs(new Ke(this))},j(n,[{key:"Xc",get:function(){return this.Da}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}(ze),CS=function(){function t(t,n,i){this.EM=void 0,this.Da=void 0,this.Sa=void 0,this.kM=void 0,this.Lc=void 0,this.ma=void 0,this.ga=void 0,this.kM=t,this.Lc=n,this.ma=i;var r=yo(i)||"video/mp4";this.ga=vo(r)}var i=t.prototype;return i.Jc=function(){var t=C.coroutine(Vr.mark(function t(i){var r;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sa){t.next=2;break}throw new Oo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new IS(this.ga,this.Lc,this.kM,this.Da,this.Sa),this.EM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(t){return this.Sa=Qu(t),C.resolve(!0)},i.Zc=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ta=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new h("Whoops.")},j(t,[{key:"Yc",get:function(){return this.Lc}},{key:"Kc",get:function(){return this.ma}},{key:"sessionId",set:function(t){this.Da=t}}]),t}(),AS=function(){function t(t,n,i){this.SM=t,this.Lc=n,this.ma=i}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new CS(this.SM,this.Lc,this.ma));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),DS=function(){function t(t){this.SM=void 0,this.SM=t}return t.prototype.ps=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=lo(NS,Ye,n,e))){t.next=6;break}return t.abrupt("return",new AS(this.SM,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function NS(t,n){return t===ue}!function(t){t.JA="RM"}(bS||(bS={})),function(t){t.IM="CM"}(TS||(TS={}));var OS,xS;TS.IM;!function(t){t[t.AM=0]="AM",t[t.Pf=1]="Pf",t[t.DM=2]="DM"}(OS||(OS={})),function(t){t.NM="OM"}(xS||(xS={}));var PS;nt.Ve,Qo.lf,Qo.df,Qo.mf,Qo.pf,Qo.ef,Qo.yf,xd.ml,td.Zl,nt.Pe||nt.Le;!function(t){t.xM="closed",t.Gv="open",t.ef="ended"}(PS||(PS={}));var LS,FS;Qo.Cf,Qo.yf,Qo.mf,Qo.lf,Qo.df,xd.ml,Qo.lf,Qo.df,Qo.mf,Qo.pf,Qo.ef,td.Zl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(LS||(LS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(FS||(FS={}));var MS=function(t){function n(n){var i;return(i=t.call(this,0,n.J_)||this).PM=void 0,i.PM=n,i.K_=i.PM.Y_,i}return z(n,t),j(n,[{key:"$l",get:function(){return this.PM.$l}},{key:"ap",get:function(){return this.PM.ap},set:function(t){this.PM.ap=t}},{key:"cp",get:function(){return this.PM.cp},set:function(t){this.PM.cp=t}}]),n}(gS);function BS(t){return void 0===t.uM&&(t.uM=new MS(t)),t.uM}var US=function(t){function n(n,i){var r;(r=t.call(this,n.tw,n.Yl)||this).LM=void 0,r.FM=void 0,r.MM=void 0,r.as=Yl.ID3,r.BM=function(t){r.UM(t.G_)},r.VM=function(t){var n=t.G_;if(void 0!==n.uM){var i=n.uM;n.uM=void 0,r.rM(i),i.sr()}},r.qM=function(t){var n=BS(t.G_);n.sp||r.HM(n),r.jM(n)},r.WM=function(t){var n=t.G_,i=BS(n);r.FM.qw<n.Y_&&r.HM(i)},r.zM=function(){var t=r.MM,n=r.nw;if(r.MM=n,n===Zv.ew)r.KF.forEach(function(t){return t.sp=!1}),Ie(r.KF);else if(t===Zv.ew)for(var i=r.FM.qw,e=0,u=r.HF;e<u.length;e++){var o=u[e];i<o.K_&&r.HM(o)}},r.FM=i,r.LM=n,r.MM=n.nw,n.Hs(Ev.cl,r.BM),n.Hs(Ev.fl,r.VM),n.Hs(Ev.vl,r.qM),n.Hs(Ev.ll,r.WM),n.Hs(Ev._l,r.zM);for(var e=0,u=r.LM.ow.Ll;e<u.length;e++){var o=u[e];r.UM(o)}return r}z(n,t);var i=n.prototype;return i.HM=function(t){var n=UE(this.KF,t);if(!(n>=0)){var i=-(n+1);this.KF.splice(i,0,t),t.sp=!0,t.qs(new qE(t,this.FM.qw)),this.qs(new zE(t)),this.qs(new YE(this))}},i.jM=function(t){var n=UE(this.KF,t);n>=0&&Se(this.KF,n),t.sp=!1,t.qs(new jE(t,this.FM.qw)),this.qs(new XE(t)),this.qs(new YE(this))},i.sr=function(){this.LM.$s(Ev.cl,this.BM),this.LM.$s(Ev.fl,this.VM),this.LM.$s(Ev.vl,this.qM),this.LM.$s(Ev.ll,this.WM),this.LM.$s(Ev._l,this.zM),t.prototype.sr.call(this)},i.UM=function(t){var n=BS(t);(this.qT(n),this.nw!==Zv.ew)&&(this.FM.qw<n.K_&&this.HM(n))},j(n,[{key:"Gl",get:function(){return this.LM.Gl}},{key:"Yl",get:function(){return this.LM.Yl},set:function(t){this.LM.Yl=t}},{key:"Kl",get:function(){return this.LM.Kl}},{key:"$l",get:function(){return this.LM.$l}},{key:"Xl",get:function(){return this.LM.Xl}},{key:"tw",get:function(){return this.LM.tw}},{key:"nw",get:function(){return this.LM.nw},set:function(t){this.LM.nw=t}},{key:"uw",get:function(){return this.LM.uw}},{key:"cw",get:function(){return this.LM.cw}}]),n}(_S),VS=function(t){function n(n){var i;return(i=t.call(this)||this).FM=void 0,i.FM=n,i}z(n,t);var i=n.prototype;return i.Nl=function(n){if(n.as===Yl.ID3){var i=n;return i.uM||(i.uM=new US(i,this.FM)),t.prototype.Nl.call(this,i.uM)}return t.prototype.Nl.call(this,n)},i.Ol=function(n){if(n.as===Yl.ID3){var i=n;return!!i.uM&&t.prototype.Ol.call(this,i.uM)}return t.prototype.Ol.call(this,n)},n}(sd),qS=function(t){function n(n,i){var r;return(r=t.call(this)||this).$M=new Yr,r.rR=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.sl).as){t.next=4;break}return t.next=4,i.Ks(Ev.bl);case 4:if(i.as===Yl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.ow.Fl){t.next=11;break}return t.next=9,i.Ks(Ev.cl);case 9:t.next=6;break;case 11:r.XM(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.eR=function(t){var n=t.sl;if(n.as===Yl.ID3&&r.$M.has(n.Xl)){var i=r.$M.get(n.Xl);r.Ol(i),r.LT.HT(i),n.$s(Ev.cl,r.UM)}},r.UM=function(t){HS(t.G_)&&r.GM(t.G_)},r.LT=n,r.YM=i,r.KM(),r}z(n,t);var i=n.prototype;return i.KM=function(){this.YM.Hs(pv.Qd,this.rR),this.YM.Hs(pv.tl,this.eR)},i.JM=function(){this.YM.$s(pv.Qd,this.rR),this.YM.$s(pv.tl,this.eR)},i.XM=function(t){var n=t.ow.Ll[0];if(HS(n)){var i=function(t){var n=t.match(jS);if(!n)return;return{sl:n[1],Kl:n[2]}}(n.J_.description),r=i.sl,e=i.Kl;if(!this.QM(r,e)){var u=this.LT.UT(Ey.pm,t.$l,r,e,!1,Yl.TTML);this.Nl(u),this.$M.set(t.Xl,u);for(var o=0,s=t.ow.Ll;o<s.length;o++){var c=s[o];HS(c)&&this.GM(c)}t.Hs(Ev.cl,this.UM)}}},i.QM=function(t,n){return!!Te(this.dk.Ll,function(i){return i.Yl===t&&i.Kl===n})},i.GM=function(t){if(t.sl)for(var n=this.$M.get(t.sl.Xl),i=ly(t.J_.text,0,{Ep:0,Sp:1/0,Rp:-t.K_}),r=0;r<i.length;r++){var e=i[r];n.qT(e)}},i.Pl=function(){var n=C.coroutine(Vr.mark(function n(){var i,r,e,u,o;return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.YM.Ll;i<r.length;i++)r[i].$s(Ev.cl,this.UM);for(e=0,u=this.dk.Ll;e<u.length;e++)o=u[e],this.LT.HT(o);return this.$M.clear(),n.next=5,t.prototype.Pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=C.coroutine(Vr.mark(function n(){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.JM(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ry);function HS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.J_)&&jS.test(n.description);var n}var jS=/^Track:(.+),Lang:(.+)$/;var WS,zS;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).il=void 0,n}return z(n,t),j(n,[{key:"ul",get:function(){return this.il||(this.il=dT(this)),this.il}},{key:"BP",get:function(){}},{key:"UP",get:function(){}},{key:"VP",get:function(){}},{key:"qP",get:function(){}},{key:"HP",get:function(){}},{key:"jP",get:function(){}},{key:"WP",get:function(){}}]),n}(ze));!function(t){t.ZM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.tB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.nB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.iB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(WS||(WS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(zS||(zS={}));var $S,XS;Wr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Wr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),zS.WHITE,zS.TRANSPARENT,zS.TRANSPARENT;!function(t){t.rB="Data",t.eB="Tag",t.uB="StartTag",t.oB="StartTagClass",t.sB="StartTagAnnotation",t.cB="CharRefInAnnotation",t.aB="EndTag",t.fB="TimestampTag"}($S||($S={})),function(t){t.vF="string",t.hB="starttag",t.vB="endtag",t.dB="timestamp"}(XS||(XS={}));var GS,YS;zS.WHITE,zS.TRANSPARENT;!function(t){t[t.lB=0]="lB",t[t.wB=1]="wB",t[t.yB=2]="yB",t[t.gB=3]="gB",t[t._B=4]="_B",t[t.pB=5]="pB"}(GS||(GS={})),function(t){t[t.mB=0]="mB",t[t.kB=1]="kB",t[t.bB=2]="bB",t[t.TB=3]="TB"}(YS||(YS={}));var KS,JS;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.RI=0]="RI",t[t.EB=1]="EB",t[t.SB=2]="SB",t[t.RB=3]="RB",t[t.eu=4]="eu"}(KS||(KS={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(JS||(JS={}));var QS;zS.WHITE,WS.nB,zS.BLACK,JS.FONT_REGULAR,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.GREEN,JS.FONT_REGULAR,zS.GREEN,JS.FONT_UNDERLINE,zS.BLUE,JS.FONT_REGULAR,zS.BLUE,JS.FONT_UNDERLINE,zS.CYAN,JS.FONT_REGULAR,zS.CYAN,JS.FONT_UNDERLINE,zS.RED,JS.FONT_REGULAR,zS.RED,JS.FONT_UNDERLINE,zS.YELLOW,JS.FONT_REGULAR,zS.YELLOW,JS.FONT_UNDERLINE,zS.MAGENTA,JS.FONT_REGULAR,zS.MAGENTA,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_ITALICS,zS.WHITE,JS.FONT_UNDERLINE_ITALICS,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE;!function(t){t.IB="HELLO",t.CB="HI_THERE",t.AB="INITIALIZE",t.DB="APPEND_INIT",t.NB="APPEND_DATA",t.OB="ACK",t.xB="REMOVE",t.PB="DESTROY_SESSION"}(QS||(QS={}));var ZS=yl.Cy,tR=new yl(-1/0),nR=yl.ag,iR=new(function(t){function n(n,i){return t.call(this,n,i)||this}z(n,t);var i=n.prototype;return i.uy=function(t,n){return t.ly(n)?rl.ty:t.vy(n)?rl.Qw:rl.Zw},i.py=function(t,n){return t.py(n)},i._y=function(t,n){return t._y(n)},i.hy=function(t,n){return t.hy(n)},i.JI=function(){return ZS},i.QI=function(){return nR},i.iC=function(){return tR},n.mC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new yl(t.start(r)),new yl(t.end(r)));return new n(i)},n.LB=function(t){for(var i=[],r=[],e=0;e<t.Fl;e++)i.push(new yl(t.VI(e))),i.push(new yl(t.HI(e))),r.push(t.qI(e)),r.push(t.jI(e));return new n(i,r)},n.bC=function(t){return new n([t,t],[!0,!0])},i.YI=function(t,i){return new n(t,i)},i.XI=function(t){return t.sg},n.TC=function(){return iR},n}(tm))([]),rR=(Fl.Nv,Fl.Ov,function(t){function n(n){var i;return(i=t.call(this,Qo.Qa)||this).errorObject=void 0,i.errorObject=n,i}return z(n,t),j(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Xe)),eR=function(t){function n(){return t.call(this,Qo.Za)||this}return z(n,t),n}(Xe),uR=function(t){function n(n){var i;return(i=t.call(this,"Df")||this).FB=n,i}return z(n,t),n}(Xe),oR=new xT,sR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Wc=void 0,u.Pi=!1,u.MB=!1,u.Pd=new Ae,u.Pc=function(t){switch(t.tc){case"license-request":u.EE(t.Zs,t.nc).catch(function(t){return u.da(t)});break;default:u.da(new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.tc))}},u.BB=function(t){u.UB.$c.hc(function(t,n){switch(t){case"usable":D.So(function(){u.MB=!0,u.qs(new eR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.qs(new uR(n))}})},u.VB=function(t){u.da(new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.UB=i,u.qB=r,u.HB=e,i.Hs("Zs",u.Pc),i.Hs("Qs",u.BB),i.Hs("ic",u.VB),u.Wc=i.Wc.then(function(){return u.jB()}),u}z(i,t);var r=i.prototype;return r.Uc=function(){var t=this;return this.Pi=!0,oR.LL(function(n){return t.WB(n)},this.Pd.Fs)},r.WB=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Oe(i),t.next=4,this.qB.gE(i);case 4:return t.next=6,this.qB._E(this.HB.hs,this.HB.sc,i);case 6:return r=t.sent,t.next=9,this.UB.Uc(this.HB.hs,this.HB.sc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),xe(t.t0),e=t.t0 instanceof so?t.t0.Ic:void 0,u=new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.da(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(){var t=C.coroutine(Vr.mark(function t(i,r){var e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!eo(i)){t.next=7;break}return t.next=4,this.qB.OE(new _(i),this.Pd.Fs);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.qB.xE(new _(i),r,this.Pd.Fs);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Ne(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.UB.Hc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof so?t.t1.Ic:void 0,new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.da=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new rR(i)),this.Bc()},r.jB=function(){this.UB.$s("Zs",this.Pc),this.UB.$s("Qs",this.BB),this.UB.$s("ic",this.VB),this.MB=!1,this.Pd.xs()},r.Bc=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.jB(),t.next=4,this.UB.Bc().catch(P);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(ze),cR=[Qo.Za,Qo.Qa,Qo.Af],aR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Lc=void 0,e.Gc=void 0,e.zB=void 0,e.$B=[],e.XB=void 0,e.GB=[],e.Lc=n,e.Gc=i,e.zB=r,e}z(n,t);var i=n.prototype;return i.NE=function(){return this.zB.NE()},i.YB=function(t){return this.XB||(this.XB=this.KB(t)),this.XB},i.KB=function(){var t=C.coroutine(Vr.mark(function t(n){var i;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(n),t.next=3,this.zB.OE(new _(ro()),n);case 3:return i=t.sent,Oe(n),t.next=7,this.Gc.Qc(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TM=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e=this;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.GB.push(n),t.next=4,this.Gc.Jc("temporary");case 4:return i=t.sent,r=new sR(i,this.zB,n),this.$B.push(r),r.Hs(cR,this.Vs),r.Wc.then(function(){return e.JB(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ee(this.GB,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.QB=function(t){if(t.ZB)return!1;for(var n=0,i=this.$B;n<i.length;n++){if(fR(i[n].HB,t))return!0}for(var r=0,e=this.GB;r<e.length;r++){if(fR(e[r],t))return!0}return!1},i.JB=function(t){t.$s(cR,this.Vs),Ee(this.$B,t)},i.sr=function(){var t=C.coroutine(Vr.mark(function t(){var n;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),n=this.$B.slice(),Ie(this.$B),t.next=5,C.all(n.map(function(t){return t.Bc()}));case 5:this.zB.Is();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"Yc",get:function(){return this.Lc}}]),n}(ze);function fR(t,n){return!t.ZB&&t.hs===n.hs&&vu(t.sc,n.sc)}var hR=function(t){function i(n){var i;return(i=t.call(this)||this).hR=void 0,i.Pd=new Ae,i.$L=new xT,i.ma=void 0,i.zB=void 0,i.vR=void 0,i.Lc=void 0,i.tU=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.nU(n.hs,n.sc,i.Pd.Fs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Ne(t.t0)||i.da(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.hR=n,i.hR.Hs(We.rc,i.tU),i}z(i,t);var r=i.prototype;return r.Vc=function(t,n){this.vR=t,this.hM(n)},r.hM=function(t){this.ma=t,this.iU(this.Pd.Fs).catch(Pe)},r.iU=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!D.Vo.ao){t.next=5;break}return t.next=3,this.rU(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.ma||!this.ma.eU){t.next=9;break}return t.next=8,this.uU(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.rU=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.ma)?void 0:i.HR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this.ma)?void 0:s.HR)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.tR)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.nU(c.Yc.hs,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),xe(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.nU=function(){var t=C.coroutine(Vr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Oe(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.ma&&this.ma.HR.length){t.next=5;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Jr||i===Zr||i===Qr){t.next=8;break}return t.abrupt("return");case 8:u=Qg(i,r),o=this.ma.HR,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],Oe(e),(f=u[a.Yc.vs])&&a.Yc.hs===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.oU(a,e);case 20:if(!(h=t.sent).NE()){t.next=24;break}return t.next=24,h.YB();case 24:if(v=this.hR.__,d={hs:a.Yc.hs,sc:f,ZB:v},!this.sU(h,d)){t.next=32;break}return t.next=29,h.TM(d);case 29:return l=t.sent,t.next=32,l.Uc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),xe(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,D.Ao();case 44:if(!t.sent){t.next=48;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.uU=function(){var t=C.coroutine(Vr.mark(function t(n){var i,r,e,u,o;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.ma)?void 0:i.HR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],Oe(n),t.prev=7,t.next=10,this.oU(u,n);case 10:if(!(o=t.sent).NE()){t.next=14;break}return t.next=14,o.YB();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),xe(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.sU=function(t,n){return D.Vo.co||!t.QB(n)},r.oU=function(t,n){var i=this;return this.$L.LL(function(n){return i.cU(t,n)},n)},r.cU=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Oe(i),this.ma&&this.zB&&this.vR){t.next=3;break}throw new h("Not initialized");case 3:if(!this.Lc){t.next=7;break}if(this.Lc.Yc===n.Yc){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.Lc);case 7:return r=this.zB,e=qr({},n,{nI:n.nI.map(function(t){var i;return qr({},t,{persistentState:null!=(i=t.persistentState)?i:r.ZE(n.Yc),ua:t.ua||r.ua(n.Yc)})})}),t.next=11,this.vR.cM(e.Yc,e.nI);case 11:return u=t.sent,o=r.ZS(e),(s=new aR(e.Yc,u,o)).Hs([Qo.Za,Qo.Qa,Qo.Af],this.Vs),this.Lc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.da=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new rR(i))},r.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vR=void 0,this.ma=void 0,this.Pd.xs(),this.Pd=new Ae,t.next=6,this.aU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.aU=function(){var t=C.coroutine(Vr.mark(function t(){var n;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$L.xs();case 2:if(!(n=this.Lc)){t.next=8;break}return n.$s(Qo.Af,this.Vs),this.Lc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Is=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.hR.$s(We.rc,this.tU),t.next=4,this.Pl();case 4:return t.next=6,this.$L.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(i,[{key:"fU",get:function(){var t;return null==(t=this.Lc)?void 0:t.Yc}},{key:"MR",get:function(){return this.zB},set:function(t){this.zB=t}}]),i}(ze);nt.Pe||nt.Le,nt.Qe,nt.Ve;var vR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.sU=function(t,n){return!0},n}(hR),dR=function(t){function n(n,i,r){var e;return void 0===r&&(r=new DS(i)),(e=t.call(this)||this).vR=void 0,e.ys=void 0,e.hU=void 0,e.vU=new xT,e.dU=void 0,e.SM=void 0,e.lU=!1,e.Da=void 0,e.Ea=null,e.wU={p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.yU=function(t){"boolean"==typeof t.detail.casting&&(e.lU=t.detail.casting,e.qs(new tw(e.lU)))},e.gU=function(t){e.Da=t.sessionId,e.Ea&&(e.Ea.sessionId=e.Da);var n=t.initData;if(n){var i=function(t){try{var n=Yu(t),i=new no;return Hu(ju(Iu(n,i,Nu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.qs(new Ze(Zr,i))}else e.qs(new Ze(Zr,new ArrayBuffer(0)))},e.dU=n,e.SM=i,e.SM.Hs(yS.yM,e.gU),e.ys=r,e.hU=new vR(en(e)),e._U(),e}z(n,t);var i=n.prototype;return i.pU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.as===Wy.WT)return i}},i.Is=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.mU(),this.SM.$s(yS.yM,this.gU),t.next=7,this.hU.Is();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.o_=function(){throw new h("Not implemented yet")},i.UT=function(t,n,i,r,e,u,o){throw new h("Not implemented yet")},i.XR=function(){return!1},i.YR=function(t,n,i,r){throw new h("Not implemented yet")},i.HT=function(t){throw new h("Not implemented yet")},i.QR=function(){throw new h("Not implemented yet")},i.Vc=function(){var t=C.coroutine(Vr.mark(function t(n){var i=this;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.vU.LL(function(){var t=C.coroutine(Vr.mark(function t(r){var e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.as!==Wy.WT){t.next=8;break}return Oe(r),e=new kS(n,i,i.ys),i.vR=e,i.hU.Vc(e,n),t.abrupt("return",e);case 8:throw new h("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new h("Not implemented yet")},i.tr=function(){throw new h("Not implemented yet")},i.Pl=function(){var t=this;return this.vU.xs(),this.vU.LL(C.coroutine(Vr.mark(function n(){return Vr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.vR){n.next=4;break}return n.next=3,t.vR.Is();case 3:t.vR=void 0;case 4:return n.next=6,t.hU.Pl();case 6:case"end":return n.stop()}},n)})))},i.gc=function(t,n){throw new h("Not implemented yet")},i.eI=function(t){throw new h("Not implemented yet")},i.u_=function(){throw new h("Not implemented yet")},i.uI=function(){return this.wU},i._U=function(){this.dU.addEventListener("airPlayIsCasting",this.yU)},i.mU=function(){this.dU.removeEventListener("airPlayIsCasting",this.yU)},i.webkitSetMediaKeys=function(t){this.Ea=t||null,this.Ea&&(this.Ea.sessionId=this.Da)},i.kU=function(){},i.bU=function(){throw new h("Not implemented yet")},i.TU=function(){throw new h("Not implemented yet")},j(n,[{key:"y_",get:function(){throw new h("Not implemented yet")}},{key:"w_",get:function(){throw new h("Not implemented yet")}},{key:"qw",get:function(){throw new h("Not implemented yet")}},{key:"yL",get:function(){throw new h("Not implemented yet")}},{key:"Hw",get:function(){throw new h("Not implemented yet")}},{key:"jw",get:function(){throw new h("Not implemented yet")}},{key:"ic",get:function(){throw new h("Not implemented yet")}},{key:"Ak",get:function(){throw new h("Not implemented yet")}},{key:"__",get:function(){return this.lU}},{key:"zw",get:function(){throw new h("Not implemented yet")}},{key:"$w",get:function(){throw new h("Not implemented yet")}},{key:"Xw",get:function(){throw new h("Not implemented yet")}},{key:"R_",get:function(){throw new h("Not implemented yet")}},{key:"uw",get:function(){throw new h("Not implemented yet")}},{key:"C_",get:function(){throw new h("Not implemented yet")}},{key:"Gw",get:function(){throw new h("Not implemented yet")}},{key:"EU",get:function(){throw new h("Not implemented yet")}},{key:"Jw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"do",get:function(){throw new h("Not implemented yet")}},{key:"JR",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ea}},{key:"SU",get:function(){return mS}},{key:"Yg",get:function(){throw new h("Not implemented yet")}},{key:"_L",get:function(){throw new h("Not implemented yet")}},{key:"oI",get:function(){throw new h("Not implemented yet")}},{key:"RU",get:function(){return!0}},{key:"MR",get:function(){return this.hU.MR},set:function(t){this.hU.MR=t}},{key:"fU",get:function(){return this.hU.fU}}]),n}(cd),lR=function(t){function n(n){var i;return(i=t.call(this,Qo.Nf)||this).wU=n,i}return z(n,t),n}(Xe);var wR=function(t){function n(n){return t.call(this,Jl.El,n)||this}return z(n,t),n.prototype.ol=function(){return new yR(this.G_.ul)},n}(nw),yR=function(t){function n(n){return t.call(this,Ql.El,n)||this}return z(n,t),n}(iw),gR=function(t){function n(n,i){var r,e=_R(i,n.Hw,n.oI,n.IU);return(r=t.call(this,i,e,void 0,!1,n.$l)||this).CU=void 0,r.AU=void 0,r.DU=void 0,r.NU=void 0,r.OU=void 0,r.xU=void 0,r.PU=void 0,r.LU=void 0,r.FU=void 0,r.MU=void 0,r.CU=n.BU,r.AU=n.oI,r.DU=n.IU,r.NU=n.Hw,r.OU=n.UU,r.xU=Boolean(n.VU),r.PU=n.qU||{},r.LU=n.HU,r.FU=n.jU,r.MU=n.WU,r.zU(),r.$U(),r}z(n,t);var i=n.prototype;return i.Hc=function(t){var n=!1;void 0===this.CU&&void 0!==t.BU&&(n=!0,this.CU=t.BU),void 0===this.DU&&void 0!==t.IU&&(n=!0,this.DU=t.IU),void 0===this.NU&&void 0!==t.Hw&&(n=!0,this.NU=t.Hw),void 0===this.OU&&void 0!==t.UU&&(n=!0,this.OU=t.UU),!this.xU&&t.VU&&(n=!0,this.xU=t.VU),n=this.updateCustomAttributes(t,n),void 0===this.LU&&void 0!==t.HU&&(n=!0,this.LU=t.HU),void 0===this.FU&&void 0!==t.jU&&(n=!0,this.FU=t.jU),void 0===this.MU&&void 0!==t.WU&&(n=!0,this.MU=t.WU),this.zU(),this.$U(),this.XU(),n&&this.qs(new wR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.qU)for(var r=0,e=d.keys(t.qU);r<e.length;r++){var u=e[r];void 0===this.PU[u]&&(i=!0,this.PU[u]=t.qU[u])}return i},i.zU=function(){this.NU&&!this.DU&&(this.DU=new Date(this.AU.getTime()+1e3*this.NU))},i.$U=function(){this.DU&&!this.NU&&(this.NU=tn(this.DU.getTime()-this.AU.getTime()))},i.XU=function(){this.Z_===1/0&&(this.DU||this.NU)&&(this.Z_=_R(this.Q_,this.NU,this.AU,this.DU))},j(n,[{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get content(){return t.J_},get class(){return t.BU},get startDate(){return t.oI},get endDate(){return t.IU},get duration(){return t.Hw},get plannedDuration(){return t.UU},get endOnNext(){return t.VU},get scte35Cmd(){return t.HU},get scte35Out(){return t.jU},get scte35In(){return t.WU},get customAttributes(){return t.qU}})),this.il}},{key:"BU",get:function(){return this.CU}},{key:"oI",get:function(){return this.AU}},{key:"IU",get:function(){return this.DU}},{key:"Hw",get:function(){return this.NU}},{key:"UU",get:function(){return this.OU}},{key:"VU",get:function(){return this.xU}},{key:"HU",get:function(){return this.LU}},{key:"jU",get:function(){return this.FU}},{key:"WU",get:function(){return this.MU}},{key:"qU",get:function(){return this.PU}}]),n}(ow);function _R(t,n,i,r){return et(n)?t+n:r?t+(tn(r.getTime())-tn(i.getTime())):1/0}var pR,mR=function(t){function n(){return t.call(this,void 0,void 0,Yl.DATE_RANGE)||this}z(n,t);var i=n.prototype;return i.Hc=function(t,n){for(var i=this,r=function(t){for(var n=jr(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.$l)){var u=n.get(e.$l),o=qr({},u,qv(e),{qU:qr({},u.qU,e.qU)});n.set(e.$l,o)}else n.set(e.$l,e),i.push(e.$l)}return i.map(function(t){return n.get(t)})}(t),e=this.ow.Ll,u=function(t){var n=e[t],u=Te(r,function(t){return t.$l===n.$l});u?n.Hc(u):i.rM(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.oI;if(void 0!==a&&!this.nM(c.$l)){var f=n(a);this.qT(new gR(c,f))}}},i.qT=function(n){this.GU(n),t.prototype.qT.call(this,n)},i.GU=function(t){var n=this.HF.filter(function(n){return n.BU===t.BU}).pop();n&&n.VU&&n.Hc({$l:n.$l,IU:t.oI})},n}(_S);function kR(t){switch(t.type){case pR.vF:return t.value;case pR.hF:return jv(t.value);case pR.fF:return su(t.value);default:return}}function bR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.vF="daterange-ca-type_string",t.hF="daterange-ca-type_number",t.fF="daterange-ca-type_arraybuffer"}(pR||(pR={}));var TR,ER,SR,RR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).AS=void 0,o.YU=void 0,o.AS=n,o.YU=u,o}return z(n,t),j(n,[{key:"name",get:function(){return this.AS}},{key:"timestamp",get:function(){return this.YU}}]),n}(Oo),IR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return z(n,t),n}(RR),CR=function(){function t(t,n){this.jg=void 0,this.KU=void 0,this.jg=new Sy,this.KU=new QE(t,n)}var n=t.prototype;return n.UT=function(t,n,i,r,e,u){var o=new lS(t,n,i,r,e,u);return this.jg.Nl(o),this.KU.Nl(o),o},n.HT=function(t){this.jg.Ol(t),this.KU.Ol(t),t.sr()},n.Pl=function(){for(var t=0,n=this.jg.Ll.slice();t<n.length;t++){n[t].sr()}this.jg.Pl(),this.KU.Pl()},n.sr=function(){this.Pl(),this.jg.sr(),this.KU.sr()},j(t,[{key:"Yg",get:function(){return this.jg}}]),t}(),AR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).IC=0,o.JU=!1,o.dR=void 0,o.lR=void 0,o.QU=void 0,o.AC=!0,o.DC=1,o.qg=void 0,o.Hg=void 0,o.ZU=void 0,o.tV=void 0,o.nV=void 0,o.jg=void 0,o.LT=void 0,o.NU=void 0,o.iV=nm.TC(),o.rV=nm.TC(),o.CC=!1,o.eV=nm.TC(),o.NC=void 0,o.uV=void 0,o.oV=void 0,o.GF=_d.Dw,o.$T=_d.Dw,o.dU=void 0,o.KU=void 0,o.gR=void 0,o.MF=void 0,o.sV=void 0,o.MC=void 0,o.hR=void 0,o._R=void 0,o.SM=void 0,o.wU={p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.vR=void 0,o.cV=void 0,o.mR=new Fp,o.setCurrentTime=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.C_.length){t.next=4;break}return o.IC=n,t.next=4,o.dU.Ks("seekablechange");case 4:o.IC=o.updateCurrentTime(n),o.MF.VF("THEOplayerSetCurrentTime",o.IC),o.NC=!0,o.qs(new $d(o.IC));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.aV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.iV=new nm(i),o.qs(new rS(o.qw))}},o.fV=function(t){o.GF=t.detail.readyState,o.qs(new Yd(+t.detail.currentTime,o.uw)),o.hV()},o.vV=function(t){o.GF=t.detail.readyState,o.qs(new Kd(+t.detail.currentTime,o.uw)),o.hV()},o.dV=function(t){if(t.detail){var n=+t.detail.duration;o.NU=n,o.qs(new qd(o.Hw))}},o.lV=function(t){t.detail&&(o.JU=!0,o.qs(new Wd(+t.detail.currentTime)))},o.kR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);bR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.lR=new IR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.dR=Ll(o.lR),o.qs(new Qd(o.lR))):bR(i)&&(o.lR=new RR(i.name,i.message,void 0,i.code,i.timestamp),o.dR=Ll(o.lR),o.qs(new Qd(o.lR)))}},o.wV=function(t){o.qs(new iS)},o.yV=function(t){o.GF=t.detail.readyState,o.qs(new zd(+t.detail.currentTime,o.uw)),o.hV()},o.gV=function(){var t=C.coroutine(Vr.mark(function t(n){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.C_.length){t.next=3;break}return t.next=3,o.dU.Ks("seekablechange");case 3:o.GF=n.detail.readyState,o.qs(new Vd(+n.detail.currentTime,o.uw)),o.hV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o._V=function(t){t.detail&&o.qs(new Fd(+t.detail.currentTime))},o.pV=function(t){t.detail&&(o.AC||(o.AC=!0,o.qs(new Ld(+t.detail.currentTime))))},o.mV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.eV=new nm(i).eC(.05)}},o.kV=function(t){t.detail&&o.qs(new rg(+t.detail.currentTime))},o.bV=function(t){t.detail&&(o.DC=t.detail.playbackRate,o.qs(new Hd(+t.detail.currentTime,o.DC)))},o.TV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.rV=new nm(i)}},o.EV=function(t){t.detail&&(o.IC=+t.detail.currentTime,o.NC=!1,o.qs(new jd(o.IC,o.QU)),o.qs(new Xd(o.IC)))},o.SV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.NU&&(o.JU=!1),o.NC=!0,o.qs(new $d(n))}},o.RV=function(t){t.detail&&(t.detail.currentDate&&(o.QU=new Date(1e3*t.detail.currentDate)),o.IC=+t.detail.currentTime,o.qs(new jd(o.IC,o.QU)))},o.IV=function(t){o.uV=t.detail.height,o.oV=t.detail.width},o.CV=function(t){t.detail&&o.qs(new ig(+t.detail.currentTime))},o.AV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Xg.Nl(new $l(n))},o.DV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.qg.Fl;u++){var s=o.Xg.Dl(u);s.Kl==r&&s.Yl==e?i=o.qg.Dl(u):1==s.zl&&(n=o.qg.Dl(u))}i&&n&&(i.zl=!0,n.zl=!1)},o.NV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Gg.Nl(new Zl(n))},o.OV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Ey.km&&r===Yl.ID3?(n=new pS("",t.detail.label)).nw=Zv.rw:i===Ey.km&&r===Yl.DATE_RANGE?(n=new mR,o.cV=n):n=new lS(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.ZU.Nl(n),o.KU.Nl(n)},o.xV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new gS(jv(r.startTime),u,r.uid),c=o.PV();c&&c.qT(s)}},o.LV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new sw(jv(e.startTime),jv(e.endTime),e.content,!1),s=null!=(r=o.FV(Ey.pm))?r:o.FV(Ey.AT);s&&(s.as=Yl.WEBVTT,s.qT(u))}},o.MV=function(t){t.type===Qo.Qa&&(o.dR=Ll(t.errorObject)),o.Vs(t)},o.BV=function(t){t.detail&&(o.wU.m_=t.detail.corruptedVideoFrames,o.wU.p_=t.detail.droppedVideoFrames,o.qs(new lR(o.Lg)))},o.UV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={$l:t.id};if(void 0!==t.startDate&&(n.oI=new Date(t.startDate)),void 0!==t.endDate&&(n.IU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=kR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.qU=r}void 0!==t.scte35Cmd&&(n.HU=su(t.scte35Cmd)),void 0!==t.scte35In&&(n.WU=su(t.scte35In)),void 0!==t.scte35Out&&(n.jU=su(t.scte35Out)),void 0!==t.startTime&&(n.Y_=t.startTime),n.BU=t.class,n.Hw=jv(t.duration),n.UU=jv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Y_?t.Y_:(new Date).getTime(),r=new gR(t,i);o.cV.qT(r),o.cV.Hc(n,i)})};var s=e.uid;o.MF=o.getSdkBridge(s),o.dU=new FE,RE()[s].sdkEventBus=o.dU,o.qg=new Ml,o.Hg=new Ml;var c=o.VV(r);return o.LT=new CR(en(o),new ZE),o.KU=new nS(en(o)),o.gR=new By(o.LT,c),o.ZU=new Sy,o.tV=new VS(en(o)),o.tV.Hl=o.ZU,o.nV=new qS(o.LT,o.tV),o.jg=new Up([o.ZU,o.gR.dk,o.nV.dk]),o.SM=o.getFairPlayControllerBridge(o.MF),o.hR=new dR(o.dU,o.SM),o._R=new Mp(c),o.hR.MR=o._R,o.observeMediaElement(),o.qR(),o.MC=new eS(o.MF,u),o.MC.Hs("GO",function(){o.MF.VF("THEOplayerSetPreferredForwardBufferDuration",o.MC.XO)}),o}z(n,t);var i=n.prototype;return i.c_=function(){return em},i.u_=function(){this.MF.VF("THEOplayerShow",{})},i.o_=function(){this.MF.VF("THEOplayerHide",{})},i.qV=function(){var t=this;this.MF.VF("THEOplayerSetInitialPreferredPeakBitRate",this.MC.ox);this.Hs("playing",function n(){t.MF.VF("THEOplayerSetInitialPreferredPeakBitRate",0),t.$s("playing",n)})},i.Zg=function(){var t=C.coroutine(Vr.mark(function t(n,i){var r,e,u;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sV=n,r=qr({},i,{sources:{src:n.src,type:wd.Tw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.MF.VF("THEOplayerSourceChange",r),e={as:Wy.WT,cw:n.src,Qh:n.type,HR:this.jR(n),WR:n.crossOrigin,zR:i.metadata&&i.metadata.title},this._R.QS(n.contentProtection),t.next=7,this.hR.Vc(e);case 7:this.vR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Yl.WEBVTT})).length>0&&this.$R(u),jy(this.Yg),this.qV();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Yc:ce,nI:[{initDataTypes:[ce.hs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this.AC=!1,this.qs(new Fd(this.qw)),this.MF.VF("THEOplayerPlay",{})},i.nr=function(){this.AC=!0,this.qs(new Ld(this.qw)),this.MF.VF("THEOplayerPause",{})},i.s_=function(){},i.Pl=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IC=0,this.JU=!1,this.dR=void 0,this.lR=void 0,this.AC=!0,this.DC=1,this.NU=void 0,this.rV=nm.TC(),this.iV=nm.TC(),this.uV=void 0,this.oV=void 0,this.GF=_d.Dw,this.$T=_d.Dw,this.qg.Pl(),this.Hg.Pl(),this.ZU.Pl(),this.jg.Pl(),t.next=19,this.nV.Pl();case 19:return this.tV.Pl(),t.next=22,this.gR.Pl();case 22:return this.LT.Pl(),this.KU.Pl(),this.sV=void 0,t.next=27,this.hR.Pl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.n_=function(){this.MF.VF("THEOplayerShowAirPlayPicker",{})},i.i_=function(){this.MF.VF("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Lg.m_=t.m_,this.Lg.p_=t.p_},i.sr=function(){var t=C.coroutine(Vr.mark(function t(){return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.unobserveMediaElement(),this.tI(),this.hR.MR=void 0,t.next=8,this.hR.Is();case 8:return this.qg.sr(),this.Hg.sr(),this.ZU.sr(),this.jg.sr(),this.tV.sr(),t.next=15,this.nV.sr();case 15:return t.next=17,this.gR.sr();case 17:this.LT.sr(),this.KU.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$R=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gR.BT(i)}},i.hV=function(){var t=this.$T,n=this.GF;t!==n&&(this.$T=n,this.qs(new Jd(this.qw,n)))},i.observeMediaElement=function(){this.hR.Hs(Qo.Ga,this.Vs),this.hR.Hs([Qo.Za,Qo.Qa],this.MV),this.dU.addEventListener("play",this._V),this.dU.addEventListener("pause",this.pV),this.dU.addEventListener("seeking",this.SV),this.dU.addEventListener("seeked",this.EV),this.dU.addEventListener("ratechange",this.bV),this.dU.addEventListener("durationchange",this.dV),this.dU.addEventListener("timeupdate",this.RV),this.dU.addEventListener("waiting",this.CV),this.dU.addEventListener("playing",this.kV),this.dU.addEventListener("ended",this.lV),this.dU.addEventListener("loadedmetadata",this.gV),this.dU.addEventListener("loadeddata",this.yV),this.dU.addEventListener("loadstart",this.wV),this.dU.addEventListener("canplay",this.fV),this.dU.addEventListener("canplaythrough",this.vV),this.dU.addEventListener("error",this.kR),this.dU.addEventListener("seekablechange",this.TV),this.dU.addEventListener("videosizechange",this.IV),this.dU.addEventListener("bufferedchange",this.aV),this.dU.addEventListener("playedchange",this.mV),this.dU.addEventListener("metricschange",this.BV),this.dU.addEventListener("addDateRangeCues",this.UV)},i.unobserveMediaElement=function(){this.hR.$s(Qo.Ga,this.Vs),this.hR.$s([Qo.Za,Qo.Qa],this.MV),this.dU.removeEventListener("play",this._V),this.dU.removeEventListener("pause",this.pV),this.dU.removeEventListener("seeking",this.SV),this.dU.removeEventListener("seeked",this.EV),this.dU.removeEventListener("ratechange",this.bV),this.dU.removeEventListener("durationchange",this.dV),this.dU.removeEventListener("timeupdate",this.RV),this.dU.removeEventListener("waiting",this.CV),this.dU.removeEventListener("playing",this.kV),this.dU.removeEventListener("ended",this.lV),this.dU.removeEventListener("loadedmetadata",this.gV),this.dU.removeEventListener("loadeddata",this.yV),this.dU.removeEventListener("loadstart",this.wV),this.dU.removeEventListener("canplay",this.fV),this.dU.removeEventListener("canplaythrough",this.vV),this.dU.removeEventListener("error",this.kR),this.dU.removeEventListener("seekablechange",this.TV),this.dU.removeEventListener("videosizechange",this.IV),this.dU.removeEventListener("bufferedchange",this.aV),this.dU.removeEventListener("playedchange",this.mV),this.dU.removeEventListener("metricschange",this.BV),this.dU.removeEventListener("addDateRangeCues",this.UV)},i.updateCurrentTime=function(t){var n=this.C_.start(0),i=this.C_.end(0);return l.min(l.max(t,n),i)},i.PV=function(){for(var t=0,n=this.jg.Ll;t<n.length;t++){var i=n[t];if(i.Gl===Ey.km&&i.as===Yl.ID3)return i}},i.FV=function(t){for(var n=0,i=this.jg.Ll;n<i.length;n++){var r=i[n],e=r.nw===Zv.iw,u=r.Gl===t;if(e&&u)return r}},i.qR=function(){this.dU.addEventListener("addaudiotrack",this.AV),this.dU.addEventListener("enableaudiotrack",this.DV),this.dU.addEventListener("addvideotrack",this.NV),this.dU.addEventListener("addtexttrack",this.OV),this.dU.addEventListener("addtexttrackid3cues",this.xV),this.dU.addEventListener("addtexttrackcues",this.LV)},i.tI=function(){this.dU.removeEventListener("addaudiotrack",this.AV),this.dU.removeEventListener("enableaudiotrack",this.DV),this.dU.removeEventListener("addvideotrack",this.NV),this.dU.removeEventListener("addtexttrack",this.OV),this.dU.removeEventListener("addtexttrackid3cues",this.xV),this.dU.removeEventListener("addtexttrackcues",this.HV)},i.l_=function(){},j(n,[{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.iV.rI()}},{key:"y_",get:function(){return this.QU?this.QU:null},set:function(t){this.MF.VF("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.QU=t}},{key:"qw",get:function(){return this.IC},set:function(t){this.setCurrentTime(t)}},{key:"Hw",get:function(){return this.NU}},{key:"jw",get:function(){return this.JU}},{key:"ic",get:function(){return this.dR}},{key:"Ww",get:function(){return this.lR}},{key:"Kg",get:function(){}},{key:"__",get:function(){return this.hR.__}},{key:"Lg",get:function(){return this.wU}},{key:"zw",get:function(){return this.CC},set:function(t){this.CC!==t&&(this.MF.VF("THEOplayerSetMuted",t),this.CC=t,this.qs(new Gd(this.qw,t?0:1)))}},{key:"$w",get:function(){return this.AC}},{key:"Xw",get:function(){return this.DC},set:function(t){this.MF.VF("THEOplayerSetPlaybackRate",t),this.DC=t}},{key:"R_",get:function(){return this.eV.rI()}},{key:"I_",get:function(){return Xp.RI},set:function(t){}},{key:"uw",get:function(){return this.GF}},{key:"C_",get:function(){return this.rV.rI()}},{key:"Gw",get:function(){return this.NC}},{key:"oI",get:function(){}},{key:"Yg",get:function(){return this.jg}},{key:"Yw",get:function(){return this.uV}},{key:"Kw",get:function(){return this.oV}},{key:"Jw",get:function(){return 1},set:function(t){}},{key:"Gg",get:function(){return this.Hg}},{key:"sI",get:function(){return this.mR}},{key:"S_",get:function(){return!0}}]),n}(cd),DR=function(){function t(){this.cI=Dp.zS}var n=t.prototype;return n.aI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if((r=n.type)&&ve(r.toLowerCase(),wd.bw))return!1;var r,e=n.contentProtection;if(e&&!Vg(e)){if(!jg(e))return!1;if(!t.jV(e))return!1}return!0},t.jV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.fI=function(){return!1},t}(),NR=function(){function n(t){this.playerID=t}return n.prototype.VF=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),OR=function(t){function n(n){var i;return(i=t.call(this)||this).MF=void 0,i.dU=void 0,i.WV=function(t){var n=su(t.detail.initData),r=t.detail.sessionId;i.qs(new ES(n,r))},i.zV=function(t){var n=new _(lu(t.detail.message)),r=t.detail.destinationURL;i.qs(new SS(n,r))},i.$V=function(t){i.qs(new RS)},i.MF=n,i.dU=new FE,RE().fairplayController={sdkEventBus:i.dU},i.XV(),i}z(n,t);var i=n.prototype;return i.XV=function(){this.dU.addEventListener(yS.yM,this.WV),this.dU.addEventListener(yS.gM,this.zV),this.dU.addEventListener(yS._M,this.$V)},i.TM=function(t,n){var i={playerId:CE(),data:wu(n.buffer),sessionId:t};this.MF.VF("THEOplayerCreateKeySession",i)},i.Hc=function(t,n){var i={playerId:CE(),data:wu(n.buffer),sessionId:t};this.MF.VF("THEOplayerUpdateKey",i)},n}(cd),xR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.wv=function(n){if(Ju(n.Zh)){var i=Qu(n.Zh);n.Zh=qu(i)}return t.prototype.wv.call(this,n)},n}(function(){function t(t){this.FT=void 0,this.FT=t}var n=t.prototype;return n.wv=function(t){return this.FT.wv(t)},n.Vv=function(t){this.FT.Vv(t)},n.sr=function(){this.FT.sr()},t}()),PR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}z(n,t);var i=n.prototype;return i.t_=function(){return!1},i.getSdkBridge=function(t){return new NR(t)},i.getFairPlayControllerBridge=function(t){return ER||(ER=new OR(t)),ER},i.VV=function(t){return new xR(t)},n}(AR);TR=new(function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.HE=function(t,n,i,r,e,u){return new PR(t,n,i,r,e)},n}(DR)),$p.Ze.yI(TR),function(t){t.Qd="addtrack",t.tl="removetrack",t._l="change",t.El="update"}(SR||(SR={}));var LR=function(t,n,i){this.type=SR._l,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},FR=function(t,n){this.type=SR.Qd,this.mediaType=t,this.mediaTrack=n},MR=function(t,n){this.type=SR.tl,this.mediaType=t,this.mediaTrack=n},BR=function(t,n){this.type=SR.El,this.mediaType=t,this.mediaTrack=n},UR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.GV=function(t){var n=new LR(r.type,t.track,r.mediaTracks);r.messageDispatcher.YV(n)},this.KV=function(t){var n=new FR(r.type,t.track);r.messageDispatcher.YV(n),t.track.addEventListener("update",r.JV)},this.QV=function(t){var n=new MR(r.type,t.track);r.messageDispatcher.YV(n)},this.JV=function(t){var n=new BR(r.type,t.track);r.messageDispatcher.YV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.XV()}return t.prototype.XV=function(){this.mediaTracks.addEventListener("change",this.GV),this.mediaTracks.addEventListener("addtrack",this.KV),this.mediaTracks.addEventListener("removetrack",this.QV)},t}(),VR=function(){function t(t){this.ZV=void 0,this.ZV=new NR(t)}return t.prototype.YV=function(t){this.ZV.VF(t.type,JT(t))},t}();ET(function(t){if(t.ul.audioTracks){var n=new VR(t.Xl);new UR("audio",t.ul.audioTracks,n)}if(t.ul.videoTracks){var i=new VR(t.Xl);new UR("video",t.ul.videoTracks,i)}});var qR,HR,jR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case qR.tq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.qs(new WR(i));break;default:0}},n}(FE),WR=function(t){function n(n){var i;return(i=t.call(this,qR.tq)||this).detail=n,i}return z(n,t),n}(Xe);!function(t){t.tq="registerContentProtectionIntegration"}(qR||(qR={})),function(t){t.nq="certifiateRequest",t.iq="certifiateResponse",t.rq="licenseRequest",t.uq="licenseResponse",t.oq="extractFairplayContentId",t.sq="buildContentProtection",t.cq="registerContentProtectionCallback"}(HR||(HR={}));var zR,$R=function(t,n){this.type=HR.cq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(zR||(zR={}));var XR,GR=function(t,n){this.type=HR.sq,this.value=t,this.integrationId=n},YR=function(t,n){this.type=HR.nq,this.value=t,this.integrationId=n},KR=function(t,n){this.type=HR.iq,this.value=t,this.integrationId=n},JR=function(t,n){this.type=HR.oq,this.value=t,this.integrationId=n},QR=function(t,n){this.type=HR.rq,this.value=t,this.integrationId=n},ZR=function(t,n){this.type=HR.uq,this.value=t,this.integrationId=n},tI=function(){function t(t,n){this.aq=void 0,this.jE=void 0,this.aq=t,this.jE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new YR(r,this.jE),t.prev=2,t.next=5,this.aq.fq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.hq(o)){t.next=13;break}return s=qr({},o),t.abrupt("return",s);case 13:if(!this.vq(o)){t.next=16;break}return c=new _(o),t.abrupt("return",c);case 16:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e,u,o,s;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new KR(e,this.jE),t.next=5,this.aq.fq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new _(s));case 11:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e,u,o,s,c,a;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new QR(e,this.jE),t.prev=3,t.next=6,this.aq.fq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.hq(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new _(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.vq(s)){t.next=17;break}return a=new _(s),t.abrupt("return",a);case 17:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e,u,o,s,c;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=qr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new ZR(u,this.jE),t.next=6,this.aq.fq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new _(c));case 12:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=C.coroutine(Vr.mark(function t(i){var r,e;return Vr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JR(i,this.jE),t.next=3,this.aq.fq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.hq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.vq=function(t){return!!new _(t)},t}(),nI=function(){function t(t){this.aq=void 0,this.aq=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new tI(this.aq,t.integration),i=new GR({drmConfiguration:t},t.integration);return this.aq.fq(i),n},t}(),iI=function(){var t=this;this.dU=void 0,this.dq=function(n){var i=new nI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:xg.YE.zE(e,u,i)};t.messageDispatcher.fq(new $R(o,e))},this.dU=new jR,RE().contentProtectionIntegration={sdkEventBus:this.dU},this.dU.addEventListener(qR.tq,this.dq)},rI="nativePromiseCallback",eI=function(t){function n(n){var i;return(i=t.call(this,rI)||this).detail=n,i}return z(n,t),n}(Xe);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(XR||(XR={}));var uI=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new eI(n))},i.addEventListener=function(t,n){this.Hs(t,n)},i.removeEventListener=function(t,n){this.$s(t,n)},n}(FE),oI=function(){function t(){var t=this;this.ZV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case XR.RESOLVE:i.Ec(n.detail.data);break;case XR.REJECT:i.Sc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new uI;RE().nativePromise={sdkEventBus:n},n.addEventListener(rI,this.handleNativePromiseEvent)}return t.prototype.fq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=qr({},n,{promiseId:r}),u=new io;return this.promisesMap[r]=u,null==(i=this.ZV)||i.VF(n.type,YT(e)),u.Tc},t}();oI.messageIdTracker=-1;var sI=function(t){function n(n){var i;return(i=t.call(this)||this).ZV=new NR(n),i}return z(n,t),n}(oI),cI=function(t){function n(n){var i;return(i=t.call(this)||this).aq=void 0,i.aq=new sI(n),i}return z(n,t),j(n,[{key:"messageDispatcher",get:function(){return this.aq}}]),n}(iI);ET(function(t){new cI(t.ul.uid)}),n.ChromelessPlayer=function t(n,i){var r=tl(i),e=new(LT||(LT=bT(LT=jT(pT),lT.pL),LT=bT(LT,lT.mL)),LT)(n,r),u=e.ul;return e.vL(),e.nF(OT),d.defineProperty(u,"constructor",{value:t}),u=Lv(u),function(t){for(var n=0;n<TT.length;n++)(0,TT[n])(t)}(e),u},n.createGlobals=AE,n.features=[],n.getCueMirrorMap=IE,n.getGlobalId=CE,n.getSdkEventBridge=RE,n.playerSuiteVersion="2021.3.2",n.players=zT,n.registerContentProtectionIntegration=$T,n.utils=WT,n.version="2.89.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
