/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.1.2 (2.82.0)
 Created: 2021-03-16T16:48:43.289Z
 */
!function(t){!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var r,e=t.window,i=t.document,u=t.location,o=t.navigator,s=t.setTimeout,c=t.clearTimeout,f=t.setInterval,a=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,e,i){function u(s,c){if(!e[s]){if(!n[s]){var f="function"==typeof r&&r;if(!c&&f)return f(s,!0);if(o)return o(s,!0);var a=new h("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var v=e[s]={exports:{}};n[s][0].call(v.exports,function(t){var r=n[s][1][t];return u(r||t)},v,v.exports,t,n,e,i)}return e[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)u(i[s]);return u}({1:[function(t,n,r){n.exports=function(t){var n=t.i;function r(t){var r=new n(t),e=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),e}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,n,r){var e;try{throw new h}catch(t){e=t}var i=t("./schedule"),u=t("./queue"),o=t("./util");function c(){this.u=!1,this.o=!1,this.v=new u(16),this.l=new u(16),this.g=!1,this.p=!0;var t=this;this.drainQueues=function(){t.R()},this.I=i}function f(t,n,r){this.v.push(t,n,r),this.C()}function a(t,n,r){this.l.push(t,n,r),this.C()}function v(t){this.l.N(t),this.C()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.F();else{var r=t.shift(),e=t.shift();n.call(r,e)}}c.prototype.setScheduler=function(t){var n=this.I;return this.I=t,this.u=!0,n},c.prototype.hasCustomScheduler=function(){return this.u},c.prototype.enableTrampoline=function(){this.p=!0},c.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.p=!1)},c.prototype.haveItemsQueued=function(){return this.o||this.g},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==s)s(function(){t(n)},0);else try{this.I(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(c.prototype.invokeLater=function(t,n,r){this.p?f.call(this,t,n,r):this.I(function(){s(function(){t.call(n,r)},100)})},c.prototype.invoke=function(t,n,r){this.p?a.call(this,t,n,r):this.I(function(){t.call(n,r)})},c.prototype.settlePromises=function(t){this.p?v.call(this,t):this.I(function(){t.F()})}):(c.prototype.invokeLater=f,c.prototype.invoke=a,c.prototype.settlePromises=v),c.prototype.R=function(){d(this.l),this.B(),this.g=!0,d(this.v)},c.prototype.C=function(){this.o||(this.o=!0,this.I(this.drainQueues))},c.prototype.B=function(){this.o=!1},n.exports=c,n.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,r){n.exports=function(t,n,r,e){var i=!1,u=function(t,n){this.M(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.U(u,u,null,this,t)},s=function(t,n){0==(50397184&this.q)&&this.j(n.target)},c=function(t,n){n.promiseRejectionQueued||this.M(t)};t.prototype.bind=function(u){i||(i=!0,t.prototype.V=e.propagateFromFunction(),t.prototype.H=e.boundValueFunction());var f=r(u),a=new t(n);a.V(this,1);var h=this.W();if(a.X(f),f instanceof t){var v={promiseRejectionQueued:!1,promise:a,target:h,bindingPromise:f};h.U(n,o,void 0,a,v),f.U(s,c,void 0,a,v),a.G(f)}else a.j(h);return a},t.prototype.X=function(t){void 0!==t?(this.q=2097152|this.q,this.Y=t):this.q=-2097153&this.q},t.prototype.K=function(){return 2097152==(2097152&this.q)},t.bind=function(n,r){return t.resolve(r).bind(n)}}},{}],4:[function(t,n,r){var e;"undefined"!=typeof Promise&&(e=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=e)}catch(t){}return i},n.exports=i},{"./promise":22}],5:[function(t,n,r){var e=d.create;if(e){var i=e(null),u=e(null);i[" size"]=u[" size"]=0}n.exports=function(n){var r=t("./util"),e=r.canEvaluate;function i(t){var e=this.pop(),i=function(t,e){var i;if(null!=t&&(i=t[e]),"function"!=typeof i){var u="Object "+r.classString(t)+" has no method '"+r.toString(e)+"'";throw new n.TypeError(u)}return i}(t,e);return i.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}r.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.U(i,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,r="number"==typeof t;if(r)n=o;else if(e){var i=(void 0)();n=null!==i?i:u}else n=u;return this.U(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,r){n.exports=function(n,r,e,i){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.J;n.prototype.break=n.prototype.cancel=function(){if(!i.cancellation())return this.Z("cancellation is disabled");for(var t=this,n=t;t.nt();){if(!t.rt(n)){n.et()?n.it().cancel():n.ut();break}var r=t.ot;if(null==r||!r.nt()){t.et()?t.it().cancel():t.ut();break}t.et()&&t.it().cancel(),t.st(),n=t,t=r}},n.prototype.ct=function(){this.ft--},n.prototype.at=function(){return void 0===this.ft||this.ft<=0},n.prototype.rt=function(t){return t===this?(this.ft=0,this.ht(),!0):(this.ct(),!!this.at()&&(this.ht(),!0))},n.prototype.ut=function(){this.at()&&this.vt()},n.prototype.vt=function(){this.nt()&&(this.dt(),c.invoke(this.wt,this,void 0))},n.prototype.wt=function(){this.yt()>0&&this.F()},n.prototype._t=function(){this.pt=void 0},n.prototype.nt=function(){return this.isPending()&&!this.kt()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.bt=function(t,n){if(u.isArray(t))for(var r=0;r<t.length;++r)this.bt(t[r],n);else if(void 0!==t)if("function"==typeof t){if(!n){var e=o(t).call(this.H());e===s&&(this.Tt(e.e),c.throwLater(e.e))}}else t._resultCancelled(this)},n.prototype.ht=function(){var t=this.Et();this._t(),c.invoke(this.bt,this,t)},n.prototype.St=function(){this.nt()&&(this.bt(this.Et(),!0),this._t())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,r){n.exports=function(n){var r=t("./util"),e=t("./es5").keys,i=r.tryCatch,u=r.errorObj;return function(t,o,s){return function(c){var f=s.H();t:for(var a=0;a<t.length;++a){var v=t[a];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return i(o).call(f,c)}else if("function"==typeof v){var d=i(v).call(f,c);if(d===u)return d;if(d)return i(o).call(f,c)}else if(r.isObject(c)){for(var l=e(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return i(o).call(f,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,r){n.exports=function(t){var n=!1,r=[];function e(){this.Rt=new e.CapturedTrace(i())}function i(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype.It=function(){},t.prototype.Ct=function(){},t.prototype.Nt=function(){return null},t.Ot=t.prototype.Ot=function(){},e.prototype.Ct=function(){void 0!==this.Rt&&(this.Rt.It=null,r.push(this.Rt))},e.prototype.Nt=function(){if(void 0!==this.Rt){var t=r.pop(),n=t.It;return t.It=null,n}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var r=t.prototype.Ct,u=t.prototype.Nt,o=t.Ot,s=t.prototype.Ot,c=t.prototype.It;e.deactivateLongStackTraces=function(){t.prototype.Ct=r,t.prototype.Nt=u,t.Ot=o,t.prototype.Ot=s,t.prototype.It=c,n=!1},n=!0,t.prototype.Ct=e.prototype.Ct,t.prototype.Nt=e.prototype.Nt,t.Ot=t.prototype.Ot=i,t.prototype.It=function(){var t=this.Ot();t&&null==t.It&&(t.It=this)}},e}},{}],9:[function(t,n,r){n.exports=function(n,r){var e,u,o,c=n.Dt,f=n.J,a=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.W();t.q=-1048577&t.q|524288},n.prototype.At=function(){if(0==(524288&this.q)){this.Pt();var t=this;s(function(){t.xt()},1)}},n.prototype.Ft=function(){$("rejectionHandled",e,void 0,this)},n.prototype.Bt=function(){this.q=268435456|this.q},n.prototype.Lt=function(){return 0!=(268435456&this.q)},n.prototype.xt=function(){if(this.Mt()){var t=this.Ut();this.qt(),$("unhandledRejection",u,t,this)}},n.prototype.qt=function(){this.q=262144|this.q},n.prototype.jt=function(){this.q=-262145&this.q},n.prototype.Vt=function(){return(262144&this.q)>0},n.prototype.Pt=function(){this.q=1048576|this.q},n.prototype.Ht=function(){this.q=-1048577&this.q,this.Vt()&&(this.jt(),this.Ft())},n.prototype.Mt=function(){return(1048576&this.q)>0},n.prototype.Z=function(t,n,r){return X(t,n,r||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();e="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(f.haveItemsQueued()&&!it.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!it.longStackTraces&&Q()){var t=n.prototype.Wt,e=n.prototype.Tt,i=n.prototype.zt;it.longStackTraces=!0,C=function(){if(f.haveItemsQueued()&&!it.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Wt=t,n.prototype.Tt=e,n.prototype.zt=i,r.deactivateLongStackTraces(),f.enableTrampoline(),it.longStackTraces=!1},n.prototype.Wt=H,n.prototype.Tt=W,n.prototype.zt=z,r.activateLongStackTraces(),f.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return it.longStackTraces&&Q()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r={detail:n,cancelable:!0};y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason});var e=new CustomEvent(t.toLowerCase(),r);return!l.global.dispatchEvent(e)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=n,y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason}),!l.global.dispatchEvent(r)}}var t=i.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var r=i.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),O=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),r=l.global[n];return!!r&&(r.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var A={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,r){return{promise:n,child:r}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,r){return{reason:n,promise:r}},rejectionHandled:D},P=function(t){var n=!1;try{n=O.apply(null,arguments)}catch(t){f.throwLater(t),n=!0}var r=!1;try{r=N(t,A[t].apply(null,arguments))}catch(t){f.throwLater(t),r=!0}return r||n};function x(){return!1}function F(t,n,r){var e=this;try{t(n,r,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));e.Xt(t)})}catch(t){return t}}function B(t){if(!this.nt())return this;var n=this.Et();void 0!==n?l.isArray(n)?n.push(t):this.G([n,t]):this.G(t)}function L(){return this.pt}function M(t){this.pt=t}function U(){this.ot=void 0,this.pt=void 0}function q(t,n){if(0!=(1&n)){this.ot=t;var r=t.ft;void 0===r&&(r=0),t.ft=r+1}0!=(2&n)&&t.K()&&this.X(t.Y)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var r=t.warnings;it.warnings=!!r,I=it.warnings,l.isObject(r)&&"wForgottenReturn"in r&&(I=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!it.cancellation){if(f.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Gt=U,n.prototype.V=q,n.prototype.Et=L,n.prototype.G=M,n.prototype.Xt=B,n.prototype.Yt=F,j=q,it.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!it.monitoring?(it.monitoring=!0,n.prototype.Kt=P):!t.monitoring&&it.monitoring&&(it.monitoring=!1,n.prototype.Kt=x)),n},n.prototype.Kt=x,n.prototype.Yt=function(t,n,r){try{t(n,r)}catch(t){return t}},n.prototype.Et=function(){},n.prototype.G=function(t){},n.prototype.Xt=function(t){},n.prototype.Wt=function(){},n.prototype.Tt=function(){},n.prototype.zt=function(){},n.prototype.Gt=function(){},n.prototype.V=function(t,n){};var j=function(t,n){0!=(2&n)&&t.K()&&this.X(t.Y)};function V(){var t=this.Y;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Rt=new rt(this.Ot())}function W(t,n){if(g(t)){var r=this.Rt;if(void 0!==r&&n&&(r=r.$t),void 0!==r)r.attachExtraTrace(t);else if(!t.Jt){var e=Y(t);l.notEnumerableProp(t,"stack",e.message+"\n"+e.stack.join("\n")),l.notEnumerableProp(t,"Jt",!0)}}}function z(){this.Rt=void 0}function X(t,r,e){if(it.warnings){var i,u=new a(t);if(r)e.Tt(u);else if(it.longStackTraces&&(i=n.Ot()))i.attachExtraTrace(u);else{var o=Y(u);u.stack=o.message+"\n"+o.stack.join("\n")}P("warning",u)||K(u,"",!0)}}function G(t){for(var n=[],r=0;r<t.length;++r){var e=t[r],i="    (No stack trace)"===e||k.test(e),u=i&&Z(e);i&&!u&&(T&&" "!==e.charAt(0)&&(e="    "+e),n.push(e))}return n}function Y(t){var n=t.stack,r=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<n.length;++r){var e=n[r];if("    (No stack trace)"===e||k.test(e))break}return r>0&&"SyntaxError"!=t.name&&(n=n.slice(r)),n}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?n:G(n)}}function K(t,n,r){if("undefined"!=typeof console){var e;if(l.isObject(t)){var i=t.stack;e=n+b(i,t)}else e=n+String(t);"function"==typeof o?o(e,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}}function $(t,n,r,e){var i=!1;try{"function"==typeof n&&(i=!0,"rejectionHandled"===t?n(e):n(r,e))}catch(t){f.throwLater(t)}"unhandledRejection"===t?P(t,r,e)||i||K(r,"Unhandled rejection "):P(t,e)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var r=JSON.stringify(t);n=r}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof et}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function rt(t){this.$t=t,this.Qt=0;var n=this.yt=1+(void 0===t?0:t.yt);et(this,rt),n>32&&this.uncycle()}l.inherits(rt,h),r.CapturedTrace=rt,rt.prototype.uncycle=function(){var t=this.yt;if(!(t<2)){for(var n=[],r={},e=0,i=this;void 0!==i;++e)n.push(i),i=i.$t;for(var e=(t=this.yt=e)-1;e>=0;--e){var u=n[e].stack;void 0===r[u]&&(r[u]=e)}for(var e=0;e<t;++e){var o=n[e].stack,s=r[o];if(void 0!==s&&s!==e){s>0&&(n[s-1].$t=void 0,n[s-1].yt=1),n[e].$t=void 0,n[e].yt=1;var c=e>0?n[e-1]:this;s<t-1?(c.$t=n[s+1],c.$t.uncycle(),c.yt=c.$t.yt+1):(c.$t=void 0,c.yt=1);for(var f=c.yt+1,a=e-2;a>=0;--a)n[a].yt=f,f++;return}}}},rt.prototype.attachExtraTrace=function(t){if(!t.Jt){this.uncycle();for(var n=Y(t),r=n.message,e=[n.stack],i=this;void 0!==i;)e.push(G(i.stack.split("\n"))),i=i.$t;!function(t){for(var n=t[0],r=1;r<t.length;++r){for(var e=t[r],i=n.length-1,u=n[i],o=-1,s=e.length-1;s>=0;--s)if(e[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=e[s];if(n[i]!==c)break;n.pop(),i--}n=e}}(e),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(e),l.notEnumerableProp(t,"stack",function(t,n){for(var r=0;r<n.length-1;++r)n[r].push("From previous event:"),n[r]=n[r].join("\n");return r<n.length&&(n[r]=n[r].join("\n")),t+"\n"+n.join("\n")}(r,e)),l.notEnumerableProp(t,"Jt",!0)}};var et=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var r=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,r(t,n),h.stackTraceLimit-=6}}var e,i=new h;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){e="stack"in t}return"stack"in i||!e||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?o=function(t,n){var r=n?"\x1b[33m":"\x1b[31m";console.warn(r+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var it={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return it.longStackTraces},warnings:function(){return it.warnings},cancellation:function(){return it.cancellation},monitoring:function(){return it.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return V},checkForgottenReturns:function(t,n,r,e,i){if(void 0===t&&null!==n&&I){if(void 0!==i&&i.Lt())return;if(0==(65535&e.q))return;r&&(r+=" ");var u="",o="";if(n.Rt){for(var s=n.Rt.stack.split("\n"),c=G(s),f=c.length-1;f>=0;--f){var a=c[f];if(!p.test(a)){var h=a.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],f=0;f<s.length;++f)if(s[f]===v){f>0&&(o="\n"+s[f-1]);break}}var d="a promise was created in a "+r+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;e.Z(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var r,e,i=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<i.length;++c){var f=nt(i[c]);if(f){r=f.fileName,o=f.line;break}}for(var c=0;c<u.length;++c){var f=nt(u[c]);if(f){e=f.fileName,s=f.line;break}}o<0||s<0||!r||!e||r!==e||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===r&&o<=n.line&&n.line<=s)})}},warn:X,deprecated:function(t,n){var r=t+" is deprecated and will be removed in a future version.";return n&&(r+=" Use "+n+" instead."),X(r)},CapturedTrace:rt,fireDomEvent:N,fireGlobalEvent:O}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,r){n.exports=function(t){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this.U(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.U(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.U(void 0,r,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this.U(void 0,n,void 0,{value:r},void 0);var e=arguments[1];return e instanceof t&&e.suppressUnhandledRejections(),this.caught(r,function(){return e})}}},{}],11:[function(t,n,r){n.exports=function(t,n){var r=t.reduce,e=t.all;function i(){return e(this)}t.prototype.each=function(t){return r(this,t,n,0).U(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,e){return r(t,e,n,0).U(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return r(t,e,n,n)}}},{}],12:[function(t,n,r){var e,i,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,f=s.notEnumerableProp;function a(t,n){function r(e){if(!(this instanceof r))return new r(e);f(this,"message","string"==typeof e?e:n),f(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(r,h),r}var d=a("Warning","warning"),l=a("CancellationError","cancellation error"),w=a("TimeoutError","timeout error"),y=a("AggregateError","aggregate error");try{e=v,i=RangeError}catch(t){e=a("TypeError","type error"),i=a("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(f(this,"message",t.message),f(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var r=0;r<this.length;++r){for(var e=this[r]===this?"[Circular AggregateError]":this[r]+"",i=e.split("\n"),u=0;u<i.length;++u)i[u]=t+i[u];e=i.join("\n"),n+=e+"\n"}return p--,n},c(m,h);var k=h.Zt;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"Zt",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:e,RangeError:i,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,r){var e=function(){return void 0===this}();if(e)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,n){var r=d.getOwnPropertyDescriptor(t,n);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var r in t)i.call(t,r)&&n.push(r);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,r){return t[n]=r.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return o}},isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,r){n.exports=function(t,n){var r=t.map;t.prototype.filter=function(t,e){return r(this,t,e,n)},t.filter=function(t,e,i){return r(t,e,i,n)}}},{}],15:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=n.CancellationError,o=i.errorObj,s=t("./catch_filter")(e);function c(t,n,r){this.promise=t,this.type=n,this.handler=r,this.called=!1,this.cancelPromise=null}function f(t){this.finallyHandler=t}function a(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.M(n):t.cancelPromise.vt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.W().Ut())}function d(t){if(!a(this,t))return o.e=t,o}function l(t){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(i.H()):s.call(i.H(),t);if(c===e)return c;if(void 0!==c){i.Bt();var v=r(c,i);if(v instanceof n){if(null!=this.cancelPromise){if(v.kt()){var l=new u("late cancellation observer");return i.Tt(l),o.e=l,o}v.isPending()&&v.Xt(new f(this))}return v.U(h,d,void 0,this,void 0)}}}return i.isRejected()?(a(this),o.e=t,o):(a(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){a(this.finallyHandler)},n.prototype.tn=function(t,n,r,e){return"function"!=typeof t?this.then():this.U(r,e,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.tn(t,0,l,l)},n.prototype.tap=function(t){return this.tn(t,1,l)},n.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this.tn(t,1,void 0,l);var e,u=new Array(r-1),o=0;for(e=0;e<r-1;++e){var c=arguments[e];if(!i.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+i.classString(c)));u[o++]=c}u.length=o;var f=arguments[e];return this.tn(s(u,f,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=t("./errors"),c=s.TypeError,f=t("./util"),a=f.errorObj,v=f.tryCatch,l=[];function w(t,r,i,u){if(o.cancellation()){var s=new n(e),c=this.nn=new n(e);this.rn=s.lastly(function(){return c}),s.Wt(),s.G(this)}else{var f=this.rn=new n(e);f.Wt()}this.en=u,this.in=t,this.un=r,this.sn=void 0,this.cn="function"==typeof i?[i].concat(l):l,this.fn=null,this.an=!1}f.inherits(w,u),w.prototype.hn=function(){return null===this.rn},w.prototype.vn=function(){this.rn=this.sn=null,o.cancellation()&&null!==this.nn&&(this.nn.dn(),this.nn=null)},w.prototype.ln=function(){if(!this.hn()){var t,r=void 0!==this.sn.return;if(r)this.rn.Ct(),t=v(this.sn.return).call(this.sn,void 0),this.rn.Nt();else{var e=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=e,this.rn.Tt(e),this.rn.Ct(),t=v(this.sn.throw).call(this.sn,e),this.rn.Nt()}this.an=!0,this.fn=null,this.wn(t)}},w.prototype.yn=function(t){this.fn=null,this.rn.Ct();var n=v(this.sn.next).call(this.sn,t);this.rn.Nt(),this.wn(n)},w.prototype.gn=function(t){this.fn=null,this.rn.Tt(t),this.rn.Ct();var n=v(this.sn.throw).call(this.sn,t);this.rn.Nt(),this.wn(n)},w.prototype._resultCancelled=function(){if(this.fn instanceof n){var t=this.fn;this.fn=null,t.cancel()}},w.prototype.promise=function(){return this.rn},w.prototype._n=function(){this.sn=this.in.call(this.un),this.un=this.in=void 0,this.yn(void 0)},w.prototype.wn=function(t){var r=this.rn;if(t===a)return this.vn(),this.an?r.cancel():r.pn(t.e,!1);var e=t.value;if(!0===t.done)return this.vn(),this.an?r.cancel():r.j(e);var u=i(e,this.rn);if(u instanceof n||null!==(u=function(t,r,e){for(var u=0;u<r.length;++u){e.Ct();var o=v(r[u])(t);if(e.Nt(),o===a){e.Ct();var s=n.reject(a.e);return e.Nt(),s}var c=i(o,e);if(c instanceof n)return c}return null}(u,this.cn,this.rn))){var o=(u=u.W()).q;0==(50397184&o)?(this.fn=u,u.mn(this,null)):0!=(33554432&o)?n.J.invoke(this.yn,this,u.kn()):0!=(16777216&o)?n.J.invoke(this.gn,this,u.bn()):this.ln()}else this.gn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(e))+"From coroutine:\n"+this.en.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=d(n).yieldHandler,e=w,i=(new h).stack;return function(){var n=t.apply(this,arguments),u=new e(void 0,void 0,r,i),o=u.promise();return u.sn=n,u.yn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+f.classString(t));l.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new w(t,this),i=e.promise();return e._n(n.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var e=[].slice.call(arguments);t&&e.pop();var i=new r(e).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=n.Dt,c=t("./util"),f=c.tryCatch,a=c.errorObj,h=n.J;function d(t,n,r,e){this.constructor$(t),this.rn.Wt();var i=s();this.Tn=null===i?n:c.domainBind(i,n),this.En=e===u?new Array(this.length()):null,this.Sn=r,this.Rn=0,this.In=[],h.invoke(this.Cn,this,void 0)}function l(t,r,i,u){if("function"!=typeof r)return e("expecting a function but got "+c.classString(r));var o=0;if(void 0!==i){if("object"!=typeof i||null===i)return n.reject(new v("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(i.concurrency)));o=i.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new d(t,r,o,u).promise()}c.inherits(d,r),d.prototype.Cn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.yn=function(t,r){var e=this.Nn,u=this.length(),s=this.En,c=this.Sn;if(r<0){if(e[r=-1*r-1]=t,c>=1&&(this.Rn--,this.On(),this.hn()))return!0}else{if(c>=1&&this.Rn>=c)return e[r]=t,this.In.push(r),!1;null!==s&&(s[r]=t);var h=this.rn,v=this.Tn,d=h.H();h.Ct();var l=f(v).call(d,t,r,u),w=h.Nt();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===a)return this.M(l.e),!0;var y=i(l,this.rn);if(y instanceof n){var g=(y=y.W()).q;if(0==(50397184&g))return c>=1&&this.Rn++,e[r]=y,y.mn(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.M(y.bn()),!0):(this.vt(),!0);l=y.kn()}e[r]=l}var _=++this.Dn;return _>=u&&(null!==s?this.An(e,s):this.Pn(e),!0)},d.prototype.On=function(){for(var t=this.In,n=this.Sn,r=this.Nn;t.length>0&&this.Rn<n;){if(this.hn())return;var e=t.pop();this.yn(r[e],e)}},d.prototype.An=function(t,n){for(var r=n.length,e=new Array(r),i=0,u=0;u<r;++u)t[u]&&(e[i++]=n[u]);e.length=i,this.Pn(e)},d.prototype.preservedValues=function(){return this.En},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,r,e){return l(t,n,r,e)}}},{"./util":36}],19:[function(t,n,r){n.exports=function(n,r,e,i,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var e=new n(r);e.Wt(),e.Ct();var i=s(t).apply(this,arguments),o=e.Nt();return u.checkForgottenReturns(i,o,"Promise.method",e),e.xn(i),e}},n.attempt=n.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+o.classString(t));var e,c=new n(r);if(c.Wt(),c.Ct(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],a=arguments[2];e=o.isArray(f)?s(t).apply(a,f):s(t).call(a,f)}else e=s(t)();var h=c.Nt();return u.checkForgottenReturns(e,h,"Promise.try",c),c.xn(e),c},n.prototype.xn=function(t){t===o.errorObj?this.pn(t.e,!1):this.j(t,!0)}}},{"./util":36}],20:[function(t,n,r){var e=t("./util"),i=e.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function f(t){var n;if(function(t){return t instanceof h&&s.getPrototypeOf(t)===h.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var r=s.keys(t),i=0;i<r.length;++i){var u=r[i];c.test(u)||(n[u]=t[u])}return n}return e.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(r,e){if(null!==t){if(r){var u=f(i(r));t.Tt(u),t.M(u)}else if(n){var o=[].slice.call(arguments,1);t.dn(o)}else t.dn(e);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,r){n.exports=function(n){var r=t("./util"),e=n.J,i=r.tryCatch,u=r.errorObj;function o(t,n){if(!r.isArray(t))return s.call(this,t,n);var o=i(n).apply(this.H(),[null].concat(t));o===u&&e.throwLater(o.e)}function s(t,n){var r=this.H(),o=void 0===t?i(n).call(r,null):i(n).call(r,null,t);o===u&&e.throwLater(o.e)}function c(t,n){if(!t){var r=new h(t+"");r.cause=t,t=r}var o=i(n).call(this.H(),t);o===u&&e.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var r=s;void 0!==n&&d(n).spread&&(r=o),this.U(r,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){n.exports=function(){var r=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},e=function(){return new N.PromiseInspection(this.W())},i=function(t){return N.reject(new l(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(N,"Dt",o);var f=t("./es5"),a=t("./async"),h=new a;f.defineProperty(N,"J",{value:h});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var w=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(N,y),m=t("./promise_array")(N,y,p,i,u),k=t("./context")(N),b=k.create,T=t("./debuggability")(N,k),E=(T.CapturedTrace,t("./finally")(N,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function N(t){t!==y&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.q=0,this.Fn=void 0,this.Bn=void 0,this.Ln=void 0,this.Mn=void 0,this.Un(t),this.It(),this.Kt("promiseCreated",this)}function O(t){this.promise.j(t)}function D(t){this.promise.pn(t,!1)}function A(t){var n=new N(y);n.Fn=t,n.Bn=t,n.Ln=t,n.Mn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var r,e=new Array(n-1),u=0;for(r=0;r<n-1;++r){var o=arguments[r];if(!c.isObject(o))return i("Catch statement predicate: expecting an object but got "+c.classString(o));e[u++]=o}if(e.length=u,"function"!=typeof(t=arguments[r]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(e,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.U(e,e,void 0,this,void 0)},N.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(n)),this.Z(r)}return this.U(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var r=this.U(t,n,void 0,void 0,void 0);r.qn()},N.prototype.spread=function(t){return"function"!=typeof t?i("expecting a function but got "+c.classString(t)):this.all().U(t,void 0,void 0,g,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Z(".all() was passed arguments but it does not take any"),new m(this).promise()},N.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(y);n.Wt();var r=arguments.length>1&&!!d(arguments[1]).multiArgs,e=C(t)(R(n,r));return e===I&&n.pn(e.e,!0),n.jn()||n.Vn(),n},N.all=function(t){return new m(t).promise()},N.cast=function(t){var n=p(t);return n instanceof N||((n=new N(y)).Wt(),n.Hn(),n.Bn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(y);return n.Wt(),n.pn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},N.prototype.U=function(t,n,r,e,i){var u=void 0!==i,s=u?i:new N(y),f=this.W(),a=f.q;u||(s.V(this,3),s.Wt(),void 0===e&&0!=(2097152&this.q)&&(e=0!=(50397184&a)?this.H():f===this?void 0:this.Y),this.Kt("promiseChained",this,s));var v=o();if(0!=(50397184&a)){var d,l,g=f.Wn;0!=(33554432&a)?(l=f.Bn,d=t):0!=(16777216&a)?(l=f.Fn,d=n,f.Ht()):(g=f.zn,l=new w("late cancellation observer"),f.Tt(l),d=n),h.invoke(g,f,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:e,value:l})}else f.Xn(t,n,s,e,v);return s},N.prototype.yt=function(){return 65535&this.q},N.prototype.jn=function(){return 0!=(117506048&this.q)},N.prototype.et=function(){return 67108864==(67108864&this.q)},N.prototype.Gn=function(t){this.q=-65536&this.q|65535&t},N.prototype.Hn=function(){this.q=33554432|this.q,this.Kt("promiseFulfilled",this)},N.prototype.Yn=function(){this.q=16777216|this.q,this.Kt("promiseRejected",this)},N.prototype.Kn=function(){this.q=67108864|this.q,this.Kt("promiseResolved",this)},N.prototype.qn=function(){this.q=4194304|this.q},N.prototype.$n=function(){return(4194304&this.q)>0},N.prototype.Jn=function(){this.q=-65537&this.q},N.prototype.dt=function(){this.q=65536|this.q,this.Kt("promiseCancelled",this)},N.prototype.st=function(){this.q=8388608|this.q},N.prototype.Vn=function(){h.hasCustomScheduler()||(this.q=134217728|this.q)},N.prototype.Qn=function(t){var n=0===t?this.Mn:this[4*t-4+3];if(n!==s)return void 0===n&&this.K()?this.H():n},N.prototype.Zn=function(t){return this[4*t-4+2]},N.prototype.tr=function(t){return this[4*t-4+0]},N.prototype.nr=function(t){return this[4*t-4+1]},N.prototype.H=function(){},N.prototype.rr=function(t){t.q;var n=t.Fn,r=t.Bn,e=t.Ln,i=t.Qn(0);void 0===i&&(i=s),this.Xn(n,r,e,i,null)},N.prototype.er=function(t,n){var r=t.tr(n),e=t.nr(n),i=t.Zn(n),u=t.Qn(n);void 0===u&&(u=s),this.Xn(r,e,i,u,null)},N.prototype.Xn=function(t,n,r,e,i){var u=this.yt();if(u>=65531&&(u=0,this.Gn(0)),0===u)this.Ln=r,this.Mn=e,"function"==typeof t&&(this.Fn=null===i?t:c.domainBind(i,t)),"function"==typeof n&&(this.Bn=null===i?n:c.domainBind(i,n));else{var o=4*u-4;this[o+2]=r,this[o+3]=e,"function"==typeof t&&(this[o+0]=null===i?t:c.domainBind(i,t)),"function"==typeof n&&(this[o+1]=null===i?n:c.domainBind(i,n))}return this.Gn(u+1),u},N.prototype.mn=function(t,n){this.Xn(void 0,void 0,n,t,null)},N.prototype.j=function(t,n){if(0==(117506048&this.q)){if(t===this)return this.pn(r(),!1);var e=p(t,this);if(!(e instanceof N))return this.dn(t);n&&this.V(e,2);var i=e.W();if(i!==this){var u=i.q;if(0==(50397184&u)){var o=this.yt();o>0&&i.rr(this);for(var s=1;s<o;++s)i.er(this,s);this.Kn(),this.Gn(0),this.ir(i)}else if(0!=(33554432&u))this.dn(i.kn());else if(0!=(16777216&u))this.M(i.bn());else{var c=new w("late cancellation observer");i.Tt(c),this.M(c)}}else this.M(r())}},N.prototype.pn=function(t,n,r){var e=c.ensureErrorObject(t),i=e===t;if(!i&&!r&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.Z(u,!0)}this.Tt(e,!!n&&i),this.M(t)},N.prototype.Un=function(t){if(t!==y){var n=this;this.Wt(),this.Ct();var r=!0,e=this.Yt(t,function(t){n.j(t)},function(t){n.pn(t,r)});r=!1,this.Nt(),void 0!==e&&n.pn(e,!0)}},N.prototype.ur=function(t,n,r,e){var i=e.q;if(0==(65536&i)){var u;e.Ct(),n===g?r&&"number"==typeof r.length?u=C(t).apply(this.H(),r):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(r)):u=C(t).call(n,r);var o=e.Nt();0==(65536&(i=e.q))&&(u===_?e.M(r):u===I?e.pn(u.e,!1):(T.checkForgottenReturns(u,o,"",e,this),e.j(u)))}},N.prototype.W=function(){for(var t=this;t.et();)t=t.it();return t},N.prototype.it=function(){return this.Bn},N.prototype.ir=function(t){this.Bn=t},N.prototype.sr=function(t,n,r,i){var o=t instanceof N,s=this.q,c=0!=(134217728&s);0!=(65536&s)?(o&&t.St(),r instanceof E&&r.isFinallyHandler()?(r.cancelPromise=t,C(n).call(r,i)===I&&t.M(I.e)):n===e?t.dn(e.call(r)):r instanceof u?r.ln(t):o||t instanceof m?t.vt():r.cancel()):"function"==typeof n?o?(c&&t.Vn(),this.ur(n,r,i,t)):n.call(r,i,t):r instanceof u?r.hn()||(0!=(33554432&s)?r.yn(i,t):r.gn(i,t)):o&&(c&&t.Vn(),0!=(33554432&s)?t.dn(i):t.M(i))},N.prototype.zn=function(t){var n=t.handler,r=t.promise,e=t.receiver,i=t.value;"function"==typeof n?r instanceof N?this.ur(n,e,i,r):n.call(e,i,r):r instanceof N&&r.M(i)},N.prototype.Wn=function(t){this.sr(t.promise,t.handler,t.receiver,t.value)},N.prototype.cr=function(t,n,r){var e=this.Ln,i=this.Qn(0);this.Ln=void 0,this.Mn=void 0,this.sr(e,t,i,n)},N.prototype.ar=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.dn=function(t){var n=this.q;if(!((117506048&n)>>>16)){if(t===this){var e=r();return this.Tt(e),this.M(e)}this.Hn(),this.Bn=t,(65535&n)>0&&(0!=(134217728&n)?this.F():h.settlePromises(this),this.zt())}},N.prototype.M=function(t){var n=this.q;if(!((117506048&n)>>>16)){if(this.Yn(),this.Fn=t,this.$n())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.At()}},N.prototype.hr=function(t,n){for(var r=1;r<t;r++){var e=this.tr(r),i=this.Zn(r),u=this.Qn(r);this.ar(r),this.sr(i,e,u,n)}},N.prototype.dr=function(t,n){for(var r=1;r<t;r++){var e=this.nr(r),i=this.Zn(r),u=this.Qn(r);this.ar(r),this.sr(i,e,u,n)}},N.prototype.F=function(){var t=this.q,n=65535&t;if(n>0){if(0!=(16842752&t)){var r=this.Fn;this.cr(this.Bn,r,t),this.dr(n,r)}else{var e=this.Bn;this.cr(this.Fn,e,t),this.hr(n,e)}this.Gn(0)}this.Gt()},N.prototype.Ut=function(){var t=this.q;return 0!=(33554432&t)?this.Bn:0!=(16777216&t)?this.Fn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&f.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new N(y);return{promise:t,resolve:O,reject:D}},c.notEnumerableProp(N,"wr",r),t("./method")(N,y,p,i,T),t("./bind")(N,y,p,T),t("./cancel")(N,m,i,T),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,m,p,y,h,o),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,i,y,p,u,T),t("./map.js")(N,m,i,p,y,T),t("./nodeify.js")(N),t("./promisify.js")(N,y),t("./props.js")(N,m,p,i),t("./race.js")(N,y,p,i),t("./reduce.js")(N,m,i,p,y,T),t("./settle.js")(N,m,T),t("./some.js")(N,m,i),t("./timers.js")(N,y,T),t("./using.js")(N,i,p,b,y,T),t("./any.js")(N),t("./each.js")(N,y),t("./filter.js")(N,y),c.toFastProperties(N),c.toFastProperties(N.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new N(y)),T.setBounds(a.firstLineError,c.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,r){n.exports=function(n,r,e,i,u){var o=t("./util");function s(t){var e=this.rn=new n(r);t instanceof n&&e.V(t,3),e.G(this),this.Nn=t,this.yt=0,this.Dn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.yt},s.prototype.promise=function(){return this.rn},s.prototype._init=function t(r,u){var s=e(this.Nn,this.rn);if(s instanceof n){var c=(s=s.W()).q;if(this.Nn=s,0==(50397184&c))return this.rn.Vn(),s.U(t,this.M,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.M(s.bn()):this.vt();s=s.kn()}if(null!==(s=o.asArray(s)))0!==s.length?this.yr(s):-5===u?this.gr():this.Pn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var f=i("expecting an array or an iterable object but got "+o.classString(s)).reason();this.rn.pn(f,!1)}},s.prototype.yr=function(t){var r=this.getActualLength(t.length);this.yt=r,this.Nn=this.shouldCopyValues()?new Array(r):this.Nn;for(var i=this.rn,u=!1,o=null,s=0;s<r;++s){var c=e(t[s],i);c instanceof n?(c=c.W(),o=c.q):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.mn(this,s),this.Nn[s]=c):u=0!=(33554432&o)?this.yn(c.kn(),s):0!=(16777216&o)?this.gn(c.bn(),s):this.ln(s):u=this.yn(c,s)}u||i.Vn()},s.prototype.hn=function(){return null===this.Nn},s.prototype.Pn=function(t){this.Nn=null,this.rn.dn(t)},s.prototype.vt=function(){!this.hn()&&this.rn.nt()&&(this.Nn=null,this.rn.vt())},s.prototype.M=function(t){this.Nn=null,this.rn.pn(t,!1)},s.prototype.yn=function(t,n){this.Nn[n]=t;var r=++this.Dn;return r>=this.yt&&(this.Pn(this.Nn),!0)},s.prototype.ln=function(){return this.vt(),!0},s.prototype.gn=function(t){return this.Dn++,this.M(t),!0},s.prototype._resultCancelled=function(){if(!this.hn()){var t=this.Nn;if(this.vt(),t instanceof n)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof n&&t[r].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,r){n.exports=function(n,r){var e={},i=t("./util"),u=t("./nodeback"),o=i.withAppended,s=i.maybeWrapAsError,c=i.canEvaluate,f=t("./errors").TypeError,a={_r:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","_r"].join("|")+")$"),v=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t._r}catch(t){return!1}}function y(t,n,r){var e=i.getDataPropertyOrDefault(t,n+r,a);return!!e&&w(e)}function g(t,n,r,e){for(var u=i.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],a=t[c],h=e===v||v(c);"function"!=typeof a||w(a)||y(t,c,n)||!e(c,a,t,h)||o.push(c,a)}return function(t,n,r){for(var e=0;e<t.length;e+=2){var i=t[e];if(r.test(i))for(var u=i.replace(r,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new f("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,r),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,f,a,h,v){var d=function(){return this}(),l=t;function w(){var i=c;c===e&&(i=this);var f=new n(r);f.Wt();var a="string"==typeof l&&this!==d?this[l]:t,h=u(f,v);try{a.apply(i,o(arguments,h))}catch(t){f.pn(s(t),!0,!0)}return f.jn()||f.Vn(),f}return"string"==typeof l&&(t=a),i.notEnumerableProp(w,"_r",!0),w};function m(t,n,r,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,r),f=0,a=c.length;f<a;f+=2){var h=c[f],v=c[f+1],d=h+n;if(u===p)t[d]=p(h,e,h,v,n,o);else{var l=u(v,function(){return p(h,e,h,v,n,o)});i.notEnumerableProp(l,"_r",!0),t[d]=l}}return i.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new f("expecting a function but got "+i.classString(t));if(w(t))return t;var r=void 0===(n=d(n)).context?e:n.context,u=!!n.multiArgs,o=function(t,n,r){return p(t,n,void 0,t,null,r)}(t,r,u);return i.copyDescriptors(t,o,l),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(n=d(n)).multiArgs,e=n.suffix;"string"!=typeof e&&(e="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!i.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(t),c=0;c<s.length;++c){var a=t[s[c]];"constructor"!==s[c]&&i.isClass(a)&&(m(a.prototype,e,u,o,r),m(a,e,u,o,r))}return m(t,e,u,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,r){n.exports=function(n,r,e,i){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var f=function(){var t=0,n=0;function r(r,e){this[t]=r,this[t+n]=e,t++}return function(e){n=e.size,t=0;var i=new Array(2*e.size);return e.forEach(r,i),i}}();function a(t){var n,r=!1;if(void 0!==u&&t instanceof u)n=f(t),r=!0;else{var e=c.keys(t),i=e.length;n=new Array(2*i);for(var o=0;o<i;++o){var s=e[o];n[o]=t[s],n[o+i]=s}}this.constructor$(n),this.pr=r,this._init$(void 0,r?-6:-3)}function h(t){var r,u=e(t);return s(u)?(r=u instanceof n?u.U(n.props,void 0,void 0,void 0,void 0):new a(u).promise(),u instanceof n&&r.V(u,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(a,r),a.prototype._init=function(){},a.prototype.yn=function(t,n){this.Nn[n]=t;var r=++this.Dn;if(r>=this.yt){var e;if(this.pr)e=function(t){for(var n=new u,r=t.length/2|0,e=0;e<r;++e){var i=t[r+e],o=t[e];n.set(i,o)}return n}(this.Nn);else{e={};for(var i=this.length(),o=0,s=this.length();o<s;++o)e[this.Nn[o+i]]=this.Nn[o]}return this.Pn(e),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,r){function e(t){this.mr=t,this.yt=0,this.kr=0}e.prototype.br=function(t){return this.mr<t},e.prototype.N=function(t){var n=this.length();this.Tr(n+1);var r=this.kr+n&this.mr-1;this[r]=t,this.yt=n+1},e.prototype.push=function(t,n,r){var e=this.length()+3;if(this.br(e))return this.N(t),this.N(n),void this.N(r);var i=this.kr+e-3;this.Tr(e);var u=this.mr-1;this[i+0&u]=t,this[i+1&u]=n,this[i+2&u]=r,this.yt=e},e.prototype.shift=function(){var t=this.kr,n=this[t];return this[t]=void 0,this.kr=t+1&this.mr-1,this.yt--,n},e.prototype.length=function(){return this.yt},e.prototype.Tr=function(t){this.mr<t&&this.Er(this.mr<<1)},e.prototype.Er=function(t){var n=this.mr;this.mr=t;var r=this.kr,e=this.yt,i=r+e&n-1;!function(t,n,r,e,i){for(var u=0;u<i;++u)r[u+e]=t[u+n],t[u+n]=void 0}(this,0,this,n,i)},n.exports=e},{}],27:[function(t,n,r){n.exports=function(n,r,e,i){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=e(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return i("expecting an array or an iterable object but got "+u.classString(t));var f=new n(r);void 0!==s&&f.V(s,3);for(var a=f.dn,h=f.M,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).U(a,h,void 0,f,null)}return f}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=n.Dt,c=t("./util"),f=c.tryCatch;function a(t,r,e,i){this.constructor$(t);var o=s();this.Sr=null===o?r:c.domainBind(o,r),void 0!==e&&(e=n.resolve(e)).Xt(this),this.Rr=e,this.Ir=null,this.Cr=i===u?Array(this.yt):0===i?null:void 0,this.rn.Wt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Pn(t):n.M(t)}function v(t,n,r,i){if("function"!=typeof n)return e("expecting a function but got "+c.classString(n));var u=new a(t,n,r,i);return u.promise()}function d(t){this.accum=t,this.array.Nr(t);var r=i(this.value,this.array.rn);return r instanceof n?(this.array.Ir=r,r.U(l,void 0,void 0,this,void 0)):l.call(this,r)}function l(t){var r,e=this.array,i=e.rn,u=f(e.Sr);i.Ct(),(r=void 0!==e.Cr?u.call(i.H(),t,this.index,this.length):u.call(i.H(),this.accum,t,this.index,this.length))instanceof n&&(e.Ir=r);var s=i.Nt();return o.checkForgottenReturns(r,s,void 0!==e.Cr?"Promise.each":"Promise.reduce",i),r}c.inherits(a,r),a.prototype.Nr=function(t){void 0!==this.Cr&&null!==this.Cr&&t!==u&&this.Cr.push(t)},a.prototype.Or=function(t){return null!==this.Cr&&this.Cr.push(t),this.Cr},a.prototype._init=function(){},a.prototype.gr=function(){this.Pn(void 0!==this.Cr?this.Cr:this.Rr)},a.prototype.shouldCopyValues=function(){return!1},a.prototype.Pn=function(t){this.rn.j(t),this.Nn=null},a.prototype._resultCancelled=function(t){if(t===this.Rr)return this.vt();this.hn()||(this._resultCancelled$(),this.Ir instanceof n&&this.Ir.cancel(),this.Rr instanceof n&&this.Rr.cancel())},a.prototype.yr=function(t){var r,e;this.Nn=t;var i=t.length;if(void 0!==this.Rr?(r=this.Rr,e=0):(r=n.resolve(t[0]),e=1),this.Ir=r,!r.isRejected())for(;e<i;++e){var u={accum:null,value:t[e],index:e,length:i,array:this};r=r.U(d,void 0,void 0,u,void 0)}void 0!==this.Cr&&(r=r.U(this.Or,void 0,void 0,this,void 0)),r.U(h,h,void 0,r,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,r,e){return v(t,n,r,e)}}},{"./util":36}],29:[function(t,n,r){var u,o,c,f,a,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in i.documentElement?(o=i.createElement("div"),c={attributes:!0},f=!1,a=i.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),f=!1}).observe(a,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,c),f||(f=!0,a.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==s?function(t){s(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,r){n.exports=function(n,r,e){var i=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,r),o.prototype.Dr=function(t,n){this.Nn[t]=n;var r=++this.Dn;return r>=this.yt&&(this.Pn(this.Nn),!0)},o.prototype.yn=function(t,n){var r=new i;return r.q=33554432,r.Ar=t,this.Dr(n,r)},o.prototype.gn=function(t,n){var r=new i;return r.q=16777216,r.Ar=t,this.Dr(n,r)},n.settle=function(t){return e.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=i.isArray,c={};function f(t){this.constructor$(t),this.Pr=0,this.xr=!1,this.Fr=!1}function a(t,n){if((0|n)!==n||n<0)return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new f(t),i=r.promise();return r.setHowMany(n),r.init(),i}i.inherits(f,r),f.prototype._init=function(){if(this.Fr)if(0!==this.Pr){this._init$(void 0,-5);var t=s(this.Nn);!this.hn()&&t&&this.Pr>this.Br()&&this.M(this.Lr(this.length()))}else this.Pn([])},f.prototype.init=function(){this.Fr=!0,this._init()},f.prototype.setUnwrap=function(){this.xr=!0},f.prototype.howMany=function(){return this.Pr},f.prototype.setHowMany=function(t){this.Pr=t},f.prototype.yn=function(t){return this.Mr(t),this.Ur()===this.howMany()&&(this.Nn.length=this.howMany(),1===this.howMany()&&this.xr?this.Pn(this.Nn[0]):this.Pn(this.Nn),!0)},f.prototype.gn=function(t){return this.qr(t),this.jr()},f.prototype.ln=function(){return this.Nn instanceof n||null==this.Nn?this.vt():(this.qr(c),this.jr())},f.prototype.jr=function(){if(this.howMany()>this.Br()){for(var t=new o,n=this.length();n<this.Nn.length;++n)this.Nn[n]!==c&&t.push(this.Nn[n]);return t.length>0?this.M(t):this.vt(),!0}return!1},f.prototype.Ur=function(){return this.Dn},f.prototype.Vr=function(){return this.Nn.length-this.length()},f.prototype.qr=function(t){this.Nn.push(t)},f.prototype.Mr=function(t){this.Nn[this.Dn++]=t},f.prototype.Br=function(){return this.length()-this.Vr()},f.prototype.Lr=function(t){var n="Input array must contain at least "+this.Pr+" items but contains only "+t+" items";return new u(n)},f.prototype.gr=function(){this.M(this.Lr(0))},n.some=function(t,n){return a(t,n)},n.prototype.some=function(t){return a(this,t)},n.i=f}},{"./errors":12,"./util":36}],32:[function(t,n,r){n.exports=function(t){function n(t){void 0!==t?(t=t.W(),this.q=t.q,this.Ar=t.jn()?t.Ut():void 0):(this.q=0,this.Ar=void 0)}n.prototype.Ut=function(){return this.Ar};var r=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ut()},e=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ut()},i=n.prototype.isFulfilled=function(){return 0!=(33554432&this.q)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.q)},o=n.prototype.isPending=function(){return 0==(50397184&this.q)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.q)};n.prototype.isCancelled=function(){return 0!=(8454144&this.q)},t.prototype.Hr=function(){return 65536==(65536&this.q)},t.prototype.kt=function(){return this.W().Hr()},t.prototype.isCancelled=function(){return 0!=(8454144&this.W().q)},t.prototype.isPending=function(){return o.call(this.W())},t.prototype.isRejected=function(){return u.call(this.W())},t.prototype.isFulfilled=function(){return i.call(this.W())},t.prototype.isResolved=function(){return s.call(this.W())},t.prototype.value=function(){return r.call(this.W())},t.prototype.reason=function(){var t=this.W();return t.Ht(),e.call(t)},t.prototype.kn=function(){return this.Ut()},t.prototype.bn=function(){return this.Ht(),this.Ut()},t.PromiseInspection=n}},{}],33:[function(t,n,r){n.exports=function(n,r){var e=t("./util"),i=e.errorObj,u=e.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(c===i){s&&s.Ct();var f=n.reject(c.e);return s&&s.Nt(),f}if("function"==typeof c){if(function(t){try{return o.call(t,"Ln")}catch(t){return!1}}(t)){var f=new n(r);return t.U(f.dn,f.M,void 0,f,null),f}return function(t,u,o){var s=new n(r),c=s;o&&o.Ct(),s.Wt(),o&&o.Nt();var f=!0,a=e.tryCatch(u).call(t,function(t){s&&(s.j(t),s=null)},function(t){s&&(s.pn(t,f,!0),s=null)});return f=!1,s&&a===i&&(s.pn(a.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){c(this.handle)};var f=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,i){var u,c;return void 0!==i?(u=n.resolve(i).U(f,null,null,t,void 0),e.cancellation()&&i instanceof n&&u.G(i)):(u=new n(r),c=s(function(){u.dn()},+t),e.cancellation()&&u.G(new o(c)),u.Wt()),u.Vn(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var r,c,f=new o(s(function(){r.isPending()&&function(t,n,r){var e;e="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),i.markAsOriginatingFromRejection(e),t.Tt(e),t.M(e),null!=r&&r.cancel()}(r,n,c)},t=+t));return e.cancellation()?(c=this.then(),(r=c.U(v,d,void 0,f,void 0)).G(f)):r=this.U(v,d,void 0,f,void 0),r}}},{"./util":36}],35:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var c=t("./util"),f=t("./errors").TypeError,a=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){s(function(){throw t},0)}function w(t,r){var i=0,o=t.length,s=new n(u);return function u(){if(i>=o)return s.dn();var c=function(t){var n=e(t);return n!==t&&"function"==typeof t.Wr&&"function"==typeof t.zr&&t.Wr()&&n.Xr(t.zr()),n}(t[i++]);if(c instanceof n&&c.Wr()){try{c=e(c.zr().tryDispose(r),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.U(u,l,null,null,null)}u()}(),s}function y(t,n,r){this.Gr=t,this.rn=n,this.Yr=r}function g(t,n,r){this.constructor$(t,n,r)}function _(t){return y.isDisposer(t)?(this.resources[this.index].Xr(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.Gr},y.prototype.promise=function(){return this.rn},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),r=this.Yr;void 0!==r&&r.Ct();var e=n!==d?this.doDispose(n,t):null;return void 0!==r&&r.Nt(),this.rn.Kr(),this.Gr=null,e},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},a(g,y),g.prototype.doDispose=function(t,n){var r=this.data();return r.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var e=this[r];e instanceof n&&e.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i,u=arguments[t-1];if("function"!=typeof u)return r("expecting a function but got "+c.classString(u));var s=!0;2===t&&Array.isArray(arguments[0])?(i=arguments[0],t=i.length,s=!1):(i=arguments,t--);for(var f=new p(t),a=0;a<t;++a){var d=i[a];if(y.isDisposer(d)){var l=d;(d=d.promise()).Xr(l)}else{var g=e(d);g instanceof n&&(d=g.U(_,null,null,{resources:f,index:a},void 0))}f[a]=d}for(var m=new Array(f.length),a=0;a<m.length;++a)m[a]=n.resolve(f[a]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var r=t[n];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void k.cancel();t[n]=r.value()}b.Ct(),u=v(u);var e=s?u.apply(void 0,t):u(t),i=b.Nt();return o.checkForgottenReturns(e,i,"Promise.using",b),e}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(f,t)});return f.promise=b,b.G(f),b},n.prototype.Xr=function(t){this.q=131072|this.q,this.$r=t},n.prototype.Wr=function(){return(131072&this.q)>0},n.prototype.zr=function(){return this.$r},n.prototype.Kr=function(){this.q=-131073&this.q,this.$r=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,i());throw new f}}},{"./errors":12,"./util":36}],36:[function(n,r,i){var u,s=n("./es5"),c=void 0===o,f={e:{}},a=void 0!==t?t:void 0!==e?e:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return f.e=t,f}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,r){if(l(t))return t;var e={value:r,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,e),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var r=0;r<t.length;++r)if(t[r]===n)return!0;return!1};if(s.isES5){var r=d.getOwnPropertyNames;return function(t){for(var e=[],i=d.create(null);null!=t&&!n(t);){var u;try{u=r(t)}catch(t){return e}for(var o=0;o<u.length;++o){var c=u[o];if(!i[c]){i[c]=!0;var f=d.getOwnPropertyDescriptor(t,c);null!=f&&null==f.get&&null==f.set&&e.push(c)}}t=s.getPrototypeOf(t)}return e}}var e={}.hasOwnProperty;return function(r){if(n(r))return[];var i=[];t:for(var u in r)if(e.call(r,u))i.push(u);else{for(var o=0;o<t.length;++o)if(e.call(t[o],u))continue t;i.push(u)}return i}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&s.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,r=[],e=t[Symbol.iterator]();!(n=e.next()).done;)r.push(n.value);return r};S=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,O={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),r=s.isES5&&n.length>1,e=n.length>0&&!(1===n.length&&"constructor"===n[0]),i=g.test(t+"")&&s.names(t).length>0;if(r||e||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,r){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var e=d.getOwnPropertyDescriptor(t,n);return null!=e?null==e.get&&null==e.set?e.value:r:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:f,tryCatch:function(t){return u=t,v},inherits:function(t,n){var r={}.hasOwnProperty;function e(){for(var e in this.constructor=t,this.constructor$=n,n.prototype)r.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(t,n){var r,e=t.length,i=new Array(e+1);for(r=0;r<e;++r)i[r]=t[r];return i[r]=n,i},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,r){for(var e=new Array(t),i=0;i<t;++i)e[i]=n+i+r;return e},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.Zt.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,r){for(var e=s.names(t),i=0;i<e.length;++i){var u=e[i];if(r(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};O.isRecentNode=O.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),O.isNode&&O.toFastProperties(process);try{throw new h}catch(t){O.lastLineError=t}r.exports=O},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var N,O,D,A={Jr:function(){function t(){this.Qr=[]}var n=t.prototype;return n.Zr=function(){},n.te=function(t){return{re:function(){return C.resolve()},ee:function(){}}},n.ie=function(t){return C.resolve()},n.ue=function(t){},n.oe=function(){},t}(),se:function(){function t(){}var n=t.prototype;return n.ce=function(){return C.resolve("all")},n.fe=function(){},n.oe=function(){},t}(),ae:{he:function(t){getActiveDocument().addEventListener("unload",t)},ve:function(t){getActiveDocument().removeEventListener("unload",t)}},de:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function P(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function x(t,n,r){return n&&P(t.prototype,n),r&&P(t,r),t}Element.prototype.style={},b=(N=A).Jr,T=N.se,E=N.ae,S=N.de,R=S&&S.location,I=S&&S.navigator,function(t){t.we="web",t.ye="android",t._e="android-tv",t.pe="ios",t.me="tvos",t.ke="chromecast"}(D||(D={}));var F=o?o.userAgent:"",B=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,L=F.match(/Android ([0-9\.]+)/i),M=F.match(/Windows NT ([0-9\.]+)/i),U=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),j=F.match(/OPR\/(\d+\.\d+)/i),V=F.match(/Tizen ([0-9\.]+)/i),H=function(){function n(){this.be=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.Te=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.Ee=/Windows NT/i.test(F),this.Se=M?y(M[1]):0,this.Re=/Android/i.test(F),this.Ie=L?y(L[1]):0,this.Ce=/windows phone (8|8\.1)/i.test(F),this.Ne=/iPhone/i.test(F),this.Oe=/iPad/i.test(F),this.De=this.Te&&this.be&&!this.Oe,this.Ae=/iPod/i.test(F),this.Pe=/Mobile Safari/i.test(F),this.xe=(this.Ne||this.Oe||this.De||this.Ae)&&!this.Ce,this.Fe=this.Ce||this.xe||this.Re||this.Pe,this.Be=/CriOS/i.test(F),this.Le=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Be,this.Me=B.exec(F)||[],this.Ue=/SMART-TV.*Tizen/i.test(F),this.qe=V?y(V[1]):0,this.je=/webos|web0s/i.test(F),this.Ve=/Edge\/\d+/i.test(F),this.He=/Trident/i.test(F),this.We=this.He&&!t.ActiveXObject&&"ActiveXObject"in t,this.ze=/Vivaldi/i.test(F),this.Xe=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Ge=q?y(q[1]):0,this.Ye=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Ce&&!this.Ue,this.Ke=U?y(U[2]):0,this.$e=Boolean(j),this.Je=j?y(j[1]):0,this.Qe="tvos"===D._e,this.Ze="tvos"===D.ye,this.ti=this.Ze||this.Qe,this.ni="tvos"===D.pe,this.ri="tvos"===D.me,this.ei="tvos"===D.ke}return x(n,[{key:"ii",get:function(){return this.be}},{key:"ui",get:function(){return this.Te}},{key:"oi",get:function(){return this.Ee}},{key:"si",get:function(){return this.Se}},{key:"ci",get:function(){return this.Re}},{key:"fi",get:function(){return this.Ie}},{key:"ai",get:function(){return this.Ce}},{key:"hi",get:function(){return this.Ne}},{key:"vi",get:function(){return this.Oe}},{key:"di",get:function(){return this.De}},{key:"li",get:function(){return this.Ae}},{key:"wi",get:function(){return this.xe}},{key:"yi",get:function(){return this.Pe}},{key:"gi",get:function(){return this.Fe}},{key:"_i",get:function(){return this.Be}},{key:"pi",get:function(){return this.Le}},{key:"mi",get:function(){return this.Me}},{key:"ki",get:function(){return this.Me[1]}},{key:"bi",get:function(){return this.Ue}},{key:"Ti",get:function(){return this.qe}},{key:"Ei",get:function(){return this.je}},{key:"Si",get:function(){return this.Ve}},{key:"Ri",get:function(){return this.He}},{key:"Ii",get:function(){return this.We}},{key:"Ci",get:function(){return this.ze}},{key:"Ni",get:function(){return this.Xe}},{key:"Oi",get:function(){return this.Ge}},{key:"Di",get:function(){return this.Ye}},{key:"Ai",get:function(){return this.Ke}},{key:"Pi",get:function(){return this.$e}},{key:"xi",get:function(){return this.Je}},{key:"Fi",get:function(){return this.Qe}},{key:"Bi",get:function(){return this.Ze}},{key:"Li",get:function(){return this.ti}},{key:"Mi",get:function(){return this.ni}},{key:"Ui",get:function(){return this.ri}},{key:"qi",get:function(){return this.ei}}]),n}();H.ji=new H;var W=H.ji,z={}.hasOwnProperty,X={}.toString;function G(t){return null!=t}var Y=Array.isArray||function(t){return"[object Array]"===X.call(t)};function K(t){return $(t)&&z.call(t,"length")&&nt(t.length)}function $(t){return"object"==typeof t&&null!==t}function J(t){return $(t)&&t.constructor&&t.constructor===d}function Q(t){return"string"==typeof t}function Z(t){return"boolean"==typeof t}function tt(t){return Boolean(t)&&"function"==typeof t.then}function nt(t){return"number"==typeof t}var rt=function(){},et=function(t){return t},it=!(W.Ri&&!W.Ii),ut=t.console;function ot(t){if($(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(ot).join(" ")}function ct(t){var n=ut&&ut[t];return n?n.bind&&it?n.bind(ut):function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];ut[t](st(r))}:void 0}var ft,at,ht=ct("log")||rt,vt=ct("warn")||ht.bind(void 0,"WARNING:"),dt=ct("error")||ht.bind(void 0,"ERROR:"),lt=(ft=ut&&ut.assert)?ft.bind&&it?ft.bind(ut):function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];ut.assert(t,st(r))}:function(t){if(!t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];dt.apply(void 0,["Assertion failed:"].concat(r))}};function wt(){return Date.now()||(new Date).getTime()}function yt(t){return t/1e3}function gt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function _t(t){return t.Vi===at.Hi}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Hi=1]="Hi",t[t.Wi=2]="Wi",t[t.zi=3]="zi",t[t.Xi=4]="Xi",t[t.Gi=9]="Gi"}(at||(at={}));var mt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h.apply(this,n)};(mt.prototype=d.create(h.prototype)).constructor=mt;var kt=function(t){function n(n,r){var e;return(e=t.call(this)||this).message=n||"Unknown error",e.cause=r,h.captureStackTrace&&h.captureStackTrace(pt(e),e.constructor),e}return gt(n,t),x(n,[{key:"name",get:function(){return"BaseError"}}]),n}(mt),bt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return gt(n,t),n}(kt),Tt=function(){function t(){}return t.prototype.Yi=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new bt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new bt;return new Ot(n)},t}(),Et=function(){function t(t){this.Ki=t}var n=t.prototype;return n.$i=function(t){return this.Ki.isEqualNode(t.Ki)},n.Ji=function(n){return new t(this.Ki.cloneNode(n))},x(t,[{key:"Vi",get:function(){return at.Wi}},{key:"Qi",get:function(){var t;return null!==(t=this.Ki.localName)&&void 0!==t?t:Pt(this.Ki.nodeName)}},{key:"Zi",get:function(){return this.Ki.nodeName}},{key:"tu",get:function(){var t;return null!==(t=this.Ki.namespaceURI)&&void 0!==t?t:void 0}},{key:"nu",get:function(){var t;return null!==(t=this.Ki.prefix)&&void 0!==t?t:void 0}},{key:"ru",get:function(){return this.Ki.nodeValue}}]),t}(),St=function(){function t(t){this.eu=void 0,this.iu=t}var n=t.prototype;return n.uu=function(t){return this.ou.filter(function(n){return Dt(n)&&n.su===t})},n.cu=function(t,n){return this.ou.filter(function(r){return Dt(r)&&r.Qi===n&&r.tu===t})},n.fu=function(t){this.iu.appendChild(t.au),this.eu&&this.eu.push(t)},n.$i=function(t){return this.iu.isEqualNode(t.au)},x(t,[{key:"ou",get:function(){return void 0===this.eu&&(this.eu=function(t){for(var n=[],r=0;r<t.length;r++){var e=At(t.item(r));e&&n.push(e)}return n}(this.iu.childNodes)),this.eu}},{key:"hu",get:function(){return this.ou.filter(Dt)}},{key:"au",get:function(){return this.iu}}]),t}(),Rt=function(t){function n(n){return t.call(this,n)||this}gt(n,t);var r=n.prototype;return r.vu=function(t){var n;return null!==(n=this.iu.getAttribute(t))&&void 0!==n?n:void 0},r.du=function(t,n){var r;return null!==(r=this.iu.getAttributeNS(t,n))&&void 0!==r?r:void 0},r.lu=function(t){this.iu.removeAttribute(t)},r.wu=function(t,n){this.iu.removeAttributeNS(t,n)},r.yu=function(t,n){this.iu.setAttribute(t,n)},r.gu=function(t,n,r){this.iu.setAttributeNS(t,n,r)},r.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Hi}},{key:"Qi",get:function(){var t;return null!==(t=this.iu.localName)&&void 0!==t?t:Pt(this.iu.nodeName)}},{key:"tu",get:function(){var t;return null!==(t=this.iu.namespaceURI)&&void 0!==t?t:void 0}},{key:"nu",get:function(){var t;return null!==(t=this.iu.prefix)&&void 0!==t?t:void 0}},{key:"su",get:function(){return this.iu.nodeName}},{key:"_u",get:function(){return function(t){for(var n=[],r=0;r<t.length;r++)n.push(new Et(t.item(r)));return n}(this.iu.attributes)}},{key:"pu",get:function(){return this.iu.textContent}}]),n}(St),It=function(){function t(t){this.iu=t}return t.prototype.$i=function(t){return this.mu===t.mu},x(t,[{key:"mu",get:function(){return this.iu.nodeValue}},{key:"au",get:function(){return this.iu}}]),t}(),Ct=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.zi}}]),n}(It),Nt=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Xi}}]),n}(It),Ot=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Gi}},{key:"ku",get:function(){return new Rt(this.iu.documentElement)}}]),n}(St);function Dt(t){return _t(t)}function At(t){switch(t.nodeType){case at.Hi:return new Rt(t);case at.zi:return new Ct(t);case at.Xi:return new Nt(t)}}function Pt(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var xt=k(function(t){!function(t){var n,r=d.prototype,e=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,n,r,e){var i=n&&n.prototype instanceof p?n:p,u=d.create(i.prototype),o=new D(e||[]);return u.bu=function(t,n,r){var e=a;return function(i,u){if(e===w)throw new h("Generator is already running");if(e===y){if("throw"===i)throw u;return P()}for(r.method=i,r.arg=u;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===_)continue;return s}}if("next"===r.method)r.sent=r.Tu=r.arg;else if("throw"===r.method){if(e===a)throw e=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=w;var c=f(t,n,r);if("normal"===c.type){if(e=r.done?y:l,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(e=y,r.method="throw",r.arg=c.arg)}}}(t,r,o),u}function f(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var a="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(A([])));E&&E!==r&&e.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.bu(n,t)}})}function I(t){var n;this.bu=function(r,i){function u(){return new Promise(function(n,u){!function n(r,i,u,o){var s=f(t[r],t,i);if("throw"!==s.type){var c=s.arg,a=c.value;return a&&"object"==typeof a&&e.call(a,"Eu")?Promise.resolve(a.Eu).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(a).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(r,i,n,u)})}return n=n?n.then(u,u):u()}}function C(t,r){var e=t.iterator[r.method];if(e===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,C(t,r),"throw"===r.method))return _;r.method="throw",r.arg=new v("The iterator does not provide a 'throw' method")}return _}var i=f(e,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,_;var u=i.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,_):u:(r.method="throw",r.arg=new v("iterator result is not an object"),r.delegate=null,_)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function O(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(e.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=n,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Eu:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,r,e,i){var u=new I(c(n,r,e,i));return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},t.values=A,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Tu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!g(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(e,i){return s.type="throw",s.arg=t,r.next=e,i&&(r.method="next",r.arg=n),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=e.call(o,"catchLoc"),f=e.call(o,"finallyLoc");if(c&&f){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!f)throw new h("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;O(r)}return i}}throw new h("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:A(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function Ft(){return(Ft=d.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)d.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}function Bt(){var t=d.create(null);return t.__=void 0,delete t.__,t}function Lt(){return new qt}var Mt,Ut="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,qt=Ut||(Mt=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Bt(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Bt(),this.size=0},n.keys=function(){return new Mt(this.data,function(t,n){return n})},n.values=function(){return new Mt(this.data,function(t,n){return t[n]})},n.entries=function(){return new Mt(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var jt,Vt=Ut||(jt=function(){function t(t,n){this.Ru=t,this.Iu=n}var n=t.prototype;return n.next=function(){var t=this.Ru.next();return t.done?t:{value:this.Iu(t.value),done:!1}},t}(),function(){function t(){this.Cu=Lt()}var n=t.prototype;return n.get=function(t){return this.Cu.get(""+t)},n.set=function(t,n){return this.Cu.set(""+t,n),this},n.has=function(t){return this.Cu.has(""+t)},n.delete=function(t){return this.Cu.delete(""+t)},n.clear=function(){this.Cu.clear()},n.keys=function(){return new jt(this.Cu.keys(),function(t){return Number(t)})},n.values=function(){return this.Cu.values()},n.entries=function(){return new jt(this.Cu.entries(),function(t){var n=t[0],r=t[1];return[Number(n),r]})},n.forEach=function(t){this.Cu.forEach(function(n,r){t(n,Number(r))})},x(t,[{key:"size",get:function(){return this.Cu.size}}]),t}());var Ht,Wt="cenc",zt="sinf",Xt="skd",Gt="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Yt="com.microsoft.playready",Kt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",$t="urn:uuid:"+Kt,Jt="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Qt="urn:uuid:"+Jt,Zt="com.apple.fps.1_0";!function(t){t.Nu="playready",t.Ou="widevine",t.Du="fairplay",t.Au="clearkey",t.Pu="aes128"}(Ht||(Ht={}));var tn={xu:Ht.Nu,Fu:Yt,Bu:"cenc",Lu:"9a04f079-9840-4286-ab92-e65be0885f95",Mu:Gt,Uu:"PlayReady"},nn={xu:Ht.Ou,Fu:"com.widevine.alpha",Bu:"cenc",Lu:Kt,Mu:$t,Uu:"Widevine"},rn={xu:Ht.Du,Fu:Zt,Bu:"skd",Lu:Jt,Mu:Qt,Uu:"FairPlay"},en=(Ht.Du,{xu:Ht.Au,Fu:"org.w3.clearkey",Bu:"cenc",Lu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"ClearKey"});function un(t,n,r){return t.split(n).join(r)}function on(t,n){return null!=t&&-1!==t.indexOf(n)}function sn(t,n){return null!=t&&t.substr(0,n.length)===n}function cn(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function fn(t,n){return t.toUpperCase()===n.toUpperCase()}function an(t){for(var n=[],r=0;r<t.length;r++){var e=t[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return String.fromCharCode.apply(String,n)}var hn=(W.pi&&Number(W.mi[1]))>=42||W.Ni&&W.Oi>=38||W.Si||W.Ii||W.Pi&&W.xi>=29;function vn(t,n){return on(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ft({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ft({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var dn=function(){function t(t){this.qu=Lt(),this.ju=void 0,this.Vu=t}var n=t.prototype;return n.Hu=function(){return this.Wu(nn)},n.zu=function(){return this.Wu(en)},n.Xu=function(){return this.Wu(tn)},n.Gu=function(){return this.Wu(rn)},n.Wu=function(t){var n=t.Mu,r=this.qu.get(n);if(r)return r;var e=this.Yu(t,'video/mp4; codecs="avc1.42000a"');return this.qu.set(n,e),e},n.Yu=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Vu.Ku(n.Fu,[vn(r,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Vu.Ku(n.Fu,[vn(r,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.$u=function(){return this.ju||(this.ju=this.Ju()),this.ju},n.Ju=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(hn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.zu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function ln(t,n){var r=function(t,n){var r=t,e=r.length;if(e<=1)return r;for(var i=new Array(e),u=1;u<e;u*=2){wn(r,n,u,i);var o=r;r=i,i=o}return r}(t,n);return r!==t&&wn(r,void 0,t.length,t),t}function wn(t,n,r,e){var i,u,o,s,c,f=t.length,a=0,h=2*r;for(u=0;u<f;u+=h)for(i=(o=u+r)+r,o>f&&(o=f),i>f&&(i=f),s=u,c=o;;)if(s<o&&c<i)n&&n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<o)e[a++]=t[s++];else{if(!(c<i))break;e[a++]=t[c++]}}function yn(t,n,r){var e=function(t,n,r){for(var e=0;e<t.length;e+=1){var i=t[e];if(n.call(r,i,e,t))return e}return-1}(t,n,r);return-1===e?void 0:t[e]}function gn(t,n){var r=t.indexOf(n);return-1!==r&&(_n(t,r),!0)}function _n(t,n){t.splice(n,1)}function pn(t,n){return-1!==t.indexOf(n)}function mn(t){t.length=0}var kn=function(){function t(){this.Qu=!1,this.Zu=!1,this.to=[],this.no=[]}var n=t.prototype;return n.ro=function(){if(!this.Qu&&!this.Zu){this.Qu=!0;for(var t=0,n=this.to.slice();t<n.length;t++){(0,n[t])()}this.eo()}},n.eo=function(){if(!this.Zu){this.Zu=!0;for(var t=0,n=this.no.slice();t<n.length;t++){(0,n[t])()}mn(this.to),mn(this.no)}},n.io=function(t){this.Zu||this.to.push(t)},n.uo=function(t){this.Zu||gn(this.to,t)},n.oo=function(t){this.Zu||this.no.push(t)},n.so=function(t){this.Zu||gn(this.no,t)},t}(),bn=function(){function t(){this.co=new kn}var n=t.prototype;return n.fo=function(){this.co.ro()},n.eo=function(){this.co.eo()},n.ao=function(t){var n=this.co;if(!n.Qu)if(t.Qu)n.ro();else if(!n.Zu&&!t.Zu){var r=function(){e(),n.ro()},e=function e(){t.uo(r),t.so(e),n.uo(r),n.so(e)};t.io(r),t.oo(e),n.io(r),n.oo(e)}},n.ho=function(){var n=new t,r=new t,e=n.vo,i=r.vo,u=this.co,o=function(){e.Qu&&i.Zu||i.Qu&&e.Zu?u.ro():e.Zu&&i.Zu&&u.eo()};e.io(o),i.io(o),e.oo(o),i.oo(o),n.ao(u),r.ao(u);return u.oo(function(){e.uo(o),i.uo(o),e.so(o),i.so(o)}),[n,r]},x(t,[{key:"vo",get:function(){return this.co}}]),t}(),Tn=function(t){function n(n,r){return t.call(this,n||"Aborted",r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return"AbortError"}}]),n}(kt);function En(t){return t instanceof h&&"AbortError"===t.name}function Sn(t){if(t&&t.Qu)throw new Tn}function Rn(t){if(En(t))throw t}function In(t){if(!En(t))throw t}function Cn(t,n){return n?new C(function(r,e){if(n.Qu)return t.catch(rt),e(new Tn);var i=function t(){n.uo(t),e(new Tn)};n.io(i),t.then(function(t){n.uo(i),r(t)},function(t){n.uo(i),e(t)})}):t}function Nn(t,n){return t.then(function(t){return n.eo(),t},function(t){throw n.eo(),t})}var On=C.resolve();function Dn(t){On.then(t)}function An(t){t.then(rt,rt)}function Pn(t){return xn.apply(this,arguments)}function xn(){return(xn=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(rt)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Fn(t){return t&&"function"!=typeof t?t.slice():t}function Bn(t,n,r){if(r)if("function"==typeof r)r.call(t,n);else for(var e=0;e<r.length;e++){r[e].call(t,n)}}var Ln,Mn=function(){function t(t){var n=this;this.do=Bt(),this.lo=function(t){n.wo(t)},this.yo=t||this}var n=t.prototype;return n._o=function(t,n){if("function"==typeof n)if("string"==typeof t)this.po(t,n);else for(var r=0;r<t.length;r++){var e=t[r];this.po(e,n)}},n.po=function(t,n){var r=this.do[t];r?"function"==typeof r?this.do[t]=[r,n]:r.push(n):this.do[t]=n},n.mo=function(){this.do=Bt()},n.wo=function(t){var n=Fn(this.do[t.type]);Bn(this.yo,t,n)},n.ko=function(t,n){if("function"==typeof n)if("string"==typeof t)this.bo(t,n);else for(var r=0;r<t.length;r++){var e=t[r];this.bo(e,n)}},n.bo=function(t,n){var r=this.do[t];r&&("function"==typeof r?r===n&&(this.do[t]=void 0):gn(r,n))},n.To=function(t){if("string"==typeof t)this.do[t]=void 0;else for(var n=0;n<t.length;n++){var r=t[n];this.do[r]=void 0}},n.Eo=function(t,n){var r=this;return new C(function(e,i){if(n&&n.Qu)return i(new Tn);var u=function(t){s(),e(t)},o=function(){s(),i(new Tn)},s=function(){r.ko(t,u),n&&n.uo(o)};r._o(t,u),n&&n.io(o)})},t}(),Un=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.wo=function(n){var r=this;Dn(function(){t.prototype.wo.call(r,n)})},n}(Mn),qn=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},jn=function(t){function n(n){var r;return(r=t.call(this,"Ro")||this).So=n,r}return gt(n,t),n}(qn),Vn=function(t){function n(n,r,e,i){var u;return(u=t.call(this,"Io")||this).So=n,u.Co=r,u.Io=e,u.No=i,u}return gt(n,t),n}(qn),Hn=function(t){function n(){return t.call(this,"Oo")||this}return gt(n,t),n}(qn);!function(t){t.Do="Ao",t.Po="xo"}(Ln||(Ln={}));var Wn=function(t){function n(n,r){var e;return(e=t.call(this,Ln.Do)||this).Bu=n,e.Fo=r,e}return gt(n,t),n}(qn),zn=new _([0]).buffer,Xn=function(){function t(){this.Bo=[]}var n=t.prototype;return n.Lo=function(t){for(var n=0,r=this.Bo;n<r.length;n++){if(r[n][0]===t)return!0}return!1},n.Mo=function(t){for(var n=0,r=this.Bo;n<r.length;n++){var e=r[n];if(e[0]===t)return e[1]}},n.Uo=function(t,n){this.Bo.forEach(function(n){return t(n[1],n[0])},n)},n.qo=function(t,n){this.Bo.push([t,n])},n.jo=function(){mn(this.Bo)},x(t,[{key:"Vo",get:function(){return this.Bo.length}}]),t}(),Gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Yn=16383,Kn=/[\t\n\f\r ]/g;function $n(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Jn()}function Jn(){throw new h("Invalid base64 input")}function Qn(t){var n=t;Kn.test(n)&&(n=n.replace(Kn,""));var r=n.length;r%4==0&&r>=1&&"="===n[r-1]&&(r>=2&&"="===n[r-2]?r-=2:r-=1,n=n.substr(0,r));var e=r%4;if(1===e)return Jn();for(var i,u=0===e?0:4-e,o=new _(function(t,n){return 3*(t+n)/4-n}(r,u)),s=u>0?r-4:r,c=0,f=0;c<s;c+=4)i=$n(n.charCodeAt(c))<<18|$n(n.charCodeAt(c+1))<<12|$n(n.charCodeAt(c+2))<<6|$n(n.charCodeAt(c+3)),o[f++]=i>>16&255,o[f++]=i>>8&255,o[f++]=255&i;return 2===u?(i=$n(n.charCodeAt(c))<<2|$n(n.charCodeAt(c+1))>>4,o[f++]=255&i):1===u&&(i=$n(n.charCodeAt(c))<<10|$n(n.charCodeAt(c+1))<<4|$n(n.charCodeAt(c+2))>>2,o[f++]=i>>8&255,o[f++]=255&i),o}function Zn(t,n,r){for(var e,i,u,o=[],s=n;s<r;s+=3)o.push((e=t[s],i=t[s+1],u=t[s+2],Gn[e>>2]+Gn[(3&e)<<4|i>>4]+Gn[(15&i)<<2|u>>6]+Gn[63&u]));return o.join("")}function tr(t){for(var n=t.length,r=n%3,e=[],i=n-r,u=0;u<i;u+=Yn)e.push(Zn(t,u,l.min(i,u+Yn)));if(1===r){var o=t[n-1];e.push(Gn[o>>2]+Gn[(3&o)<<4]+"==")}else if(2===r){var s=t[n-2],c=t[n-1];e.push(Gn[s>>2]+Gn[(3&s)<<4|c>>4]+Gn[(15&c)<<2]+"=")}return e.join("")}var nr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],rr=ArrayBuffer.isView||function(t){return t&&pn(nr,X.call(t))};function er(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}(new _(t),new _(n))}function ir(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var r=new _(n),e=0,i=0;i<t.length;i++){var u=t[i];r.set(u,e),e+=u.byteLength}return r}(t,n)}function ur(t){return Qn(t).buffer}function or(t){return tr(new _(t))}function sr(t){return tr(Zr(t))}var cr=function(){function t(t){void 0===t&&(t=0),this.Ho=t}var n=t.prototype;return n.Wo=function(t){this.Ho+=t},n.zo=function(t){this.Ho=t},n.Xo=function(){return new t(this.Go)},x(t,[{key:"Go",get:function(){return this.Ho}}]),t}(),fr=hr,ar=null;try{ar=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function hr(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function vr(t){return!0===(t&&t.Yo)}hr.prototype.Yo,d.defineProperty(hr.prototype,"Yo",{value:!0}),hr.isLong=vr;var dr={},lr={};function wr(t,n){var r,e,i;return n?(i=0<=(t>>>=0)&&t<256)&&(e=lr[t])?e:(r=gr(t,(0|t)<0?-1:0,!0),i&&(lr[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(e=dr[t])?e:(r=gr(t,t<0?-1:0,!1),i&&(dr[t]=r),r)}function yr(t,n){if(g(t))return n?Rr:Sr;if(n){if(t<0)return Rr;if(t>=br)return Dr}else{if(t<=-Tr)return Ar;if(t+1>=Tr)return Or}return t<0?yr(-t,n).neg():gr(t%kr|0,t/kr|0,n)}function gr(t,n,r){return new hr(t,n,r)}hr.fromInt=wr,hr.fromNumber=yr,hr.fromBits=gr;var _r=l.pow;function pr(t,n,r){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Sr;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw h("interior hyphen");if(0===e)return pr(t.substring(1),n,r).neg();for(var i=yr(_r(r,8)),u=Sr,o=0;o<t.length;o+=8){var s=l.min(8,t.length-o),c=w(t.substring(o,o+s),r);if(s<8){var f=yr(_r(r,s));u=u.mul(f).add(yr(c))}else u=(u=u.mul(i)).add(yr(c))}return u.unsigned=n,u}function mr(t,n){return"number"==typeof t?yr(t,n):"string"==typeof t?pr(t,n):gr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}hr.fromString=pr,hr.fromValue=mr;var kr=4294967296,br=kr*kr,Tr=br/2,Er=wr(1<<24),Sr=wr(0);hr.ZERO=Sr;var Rr=wr(0,!0);hr.UZERO=Rr;var Ir=wr(1);hr.ONE=Ir;var Cr=wr(1,!0);hr.UONE=Cr;var Nr=wr(-1);hr.NEG_ONE=Nr;var Or=gr(-1,2147483647,!1);hr.MAX_VALUE=Or;var Dr=gr(-1,-1,!0);hr.MAX_UNSIGNED_VALUE=Dr;var Ar=gr(0,-2147483648,!1);hr.MIN_VALUE=Ar;var Pr=hr.prototype;Pr.toInt=function(){return this.unsigned?this.low>>>0:this.low},Pr.toNumber=function(){return this.unsigned?(this.high>>>0)*kr+(this.low>>>0):this.high*kr+(this.low>>>0)},Pr.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ar)){var n=yr(t),r=this.div(n),e=r.mul(n).sub(this);return r.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=yr(_r(t,6),this.unsigned),u=this,o="";;){var s=u.div(i),c=(u.sub(s.mul(i)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Pr.getHighBits=function(){return this.high},Pr.getHighBitsUnsigned=function(){return this.high>>>0},Pr.getLowBits=function(){return this.low},Pr.getLowBitsUnsigned=function(){return this.low>>>0},Pr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ar)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Pr.isZero=function(){return 0===this.high&&0===this.low},Pr.eqz=Pr.isZero,Pr.isNegative=function(){return!this.unsigned&&this.high<0},Pr.isPositive=function(){return this.unsigned||this.high>=0},Pr.isOdd=function(){return 1==(1&this.low)},Pr.isEven=function(){return 0==(1&this.low)},Pr.equals=function(t){return vr(t)||(t=mr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Pr.eq=Pr.equals,Pr.notEquals=function(t){return!this.eq(t)},Pr.neq=Pr.notEquals,Pr.ne=Pr.notEquals,Pr.lessThan=function(t){return this.comp(t)<0},Pr.lt=Pr.lessThan,Pr.lessThanOrEqual=function(t){return this.comp(t)<=0},Pr.lte=Pr.lessThanOrEqual,Pr.le=Pr.lessThanOrEqual,Pr.greaterThan=function(t){return this.comp(t)>0},Pr.gt=Pr.greaterThan,Pr.greaterThanOrEqual=function(t){return this.comp(t)>=0},Pr.gte=Pr.greaterThanOrEqual,Pr.ge=Pr.greaterThanOrEqual,Pr.compare=function(t){if(vr(t)||(t=mr(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Pr.comp=Pr.compare,Pr.negate=function(){return!this.unsigned&&this.eq(Ar)?Ar:this.not().add(Ir)},Pr.neg=Pr.negate,Pr.add=function(t){vr(t)||(t=mr(t));var n=this.high>>>16,r=65535&this.high,e=this.low>>>16,i=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,f=0,a=0,h=0;return a+=(h+=i+(65535&t.low))>>>16,f+=(a+=e+s)>>>16,c+=(f+=r+o)>>>16,c+=n+u,gr((a&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},Pr.subtract=function(t){return vr(t)||(t=mr(t)),this.add(t.neg())},Pr.sub=Pr.subtract,Pr.multiply=function(t){if(this.isZero())return Sr;if(vr(t)||(t=mr(t)),ar)return gr(ar.mul(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned);if(t.isZero())return Sr;if(this.eq(Ar))return t.isOdd()?Ar:Sr;if(t.eq(Ar))return this.isOdd()?Ar:Sr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Er)&&t.lt(Er))return yr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,e=this.low>>>16,i=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,f=0,a=0,h=0,v=0;return h+=(v+=i*c)>>>16,a+=(h+=e*c)>>>16,h&=65535,a+=(h+=i*s)>>>16,f+=(a+=r*c)>>>16,a&=65535,f+=(a+=e*s)>>>16,a&=65535,f+=(a+=i*o)>>>16,f+=n*c+r*s+e*o+i*u,gr((h&=65535)<<16|(v&=65535),(f&=65535)<<16|(a&=65535),this.unsigned)},Pr.mul=Pr.multiply,Pr.divide=function(t){if(vr(t)||(t=mr(t)),t.isZero())throw h("division by zero");var n,r,e;if(ar)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?gr((this.unsigned?ar.div_u:ar.div_s)(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Rr:Sr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Rr;if(t.gt(this.shru(1)))return Cr;e=Rr}else{if(this.eq(Ar))return t.eq(Ir)||t.eq(Nr)?Ar:t.eq(Ar)?Ir:(n=this.shr(1).div(t).shl(1)).eq(Sr)?t.isNegative()?Ir:Nr:(r=this.sub(t.mul(n)),e=n.add(r.div(t)));if(t.eq(Ar))return this.unsigned?Rr:Sr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Sr}for(r=this;r.gte(t);){n=l.max(1,l.floor(r.toNumber()/t.toNumber()));for(var i=l.ceil(l.log(n)/l.LN2),u=i<=48?1:_r(2,i-48),o=yr(n),s=o.mul(t);s.isNegative()||s.gt(r);)s=(o=yr(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ir),e=e.add(o),r=r.sub(s)}return e},Pr.div=Pr.divide,Pr.modulo=function(t){return vr(t)||(t=mr(t)),ar?gr((this.unsigned?ar.rem_u:ar.rem_s)(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Pr.mod=Pr.modulo,Pr.rem=Pr.modulo,Pr.not=function(){return gr(~this.low,~this.high,this.unsigned)},Pr.and=function(t){return vr(t)||(t=mr(t)),gr(this.low&t.low,this.high&t.high,this.unsigned)},Pr.or=function(t){return vr(t)||(t=mr(t)),gr(this.low|t.low,this.high|t.high,this.unsigned)},Pr.xor=function(t){return vr(t)||(t=mr(t)),gr(this.low^t.low,this.high^t.high,this.unsigned)},Pr.shiftLeft=function(t){return vr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gr(0,this.low<<t-32,this.unsigned)},Pr.shl=Pr.shiftLeft,Pr.shiftRight=function(t){return vr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Pr.shr=Pr.shiftRight,Pr.shiftRightUnsigned=function(t){if(vr(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?gr(this.low>>>t|n<<32-t,n>>>t,this.unsigned):gr(32===t?n:n>>>t-32,0,this.unsigned)},Pr.shru=Pr.shiftRightUnsigned,Pr.shr_u=Pr.shiftRightUnsigned,Pr.toSigned=function(){return this.unsigned?gr(this.low,this.high,!1):this},Pr.toUnsigned=function(){return this.unsigned?this:gr(this.low,this.high,!0)},Pr.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Pr.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Pr.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},hr.fromBytes=function(t,n,r){return r?hr.fromBytesLE(t,n):hr.fromBytesBE(t,n)},hr.fromBytesLE=function(t,n){return new hr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},hr.fromBytesBE=function(t,n){return new hr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xr=fr,Fr=16384,Br=function(){function t(t){this.Ko=t}return t.prototype.$o=function(t){return function(t,n){return(t&n)===n}(this.Ko,t)},t}();function Lr(t,n){var r=t.getUint8(n.Go);return n.Wo(1),r}function Mr(t,n,r){t.setUint8(n.Go,r),n.Wo(1)}function Ur(t,n,r){var e=ie(oe(t),n.Go,n.Go+r);return n.Wo(e.byteLength),e}function qr(t,n,r){return n.Go+r<=t.byteLength}function jr(t,n,r){void 0===r&&(r=!1);var e=t.getUint16(n.Go,r);return n.Wo(2),e}function Vr(t,n,r,e){void 0===e&&(e=!1),t.setUint16(n.Go,r,e),n.Wo(2)}function Hr(t,n,r){void 0===r&&(r=!1);var e=t.getUint32(n.Go,r);return n.Wo(4),e}function Wr(t,n,r,e){void 0===e&&(e=!1),t.setUint32(n.Go,r,e),n.Wo(4)}function zr(t,n){var r=Lr(t,n);if(r)return String.fromCharCode(r)}function Xr(t,n){return function(t,n){return Kr(t,n,!0)}(t,n)}function Gr(t,n,r){for(var e="",i=0;i<r;i++)e+=zr(t,n);return e}function Yr(t,n){var r,e=Lr(t,n);return 0==(128&e)?r=e:192==(224&e)?r=64*(31&e)+(63&Lr(t,n)):224==(240&e)?r=4096*(15&e)+64*(63&Lr(t,n))+(63&Lr(t,n)):240==(248&e)&&(r=262144*(7&e)+4096*(63&Lr(t,n))+64*(63&Lr(t,n))+(63&Lr(t,n))),r}function Kr(t,n,r){for(var e=[],i=[];n.Go<t.byteLength;){var u=Lr(t,n);if(r&&!u)break;i.push(u),i.length>=Fr&&(e.push(String.fromCharCode.apply(String,i)),i.length=0)}return i.length&&e.push(String.fromCharCode.apply(String,i)),e.join("")}function $r(t,n,r,e){for(var i=[],u=[];n.Go+2<=t.byteLength;){var o=jr(t,n,r);if(e&&!o)break;u.push(o),u.length>=Fr&&(i.push(String.fromCharCode.apply(String,u)),u.length=0)}return u.length&&i.push(String.fromCharCode.apply(String,u)),i.join("")}function Jr(t,n,r,e){void 0===e&&(e=!1);for(var i=r.length,u=0;u<i;u+=1){Vr(t,n,r.charCodeAt(u),e)}}function Qr(t){return Kr(ue(t),new ae,!1)}function Zr(t){var n=new _(t.length);return function(t,n,r){for(var e=r.length,i=0;i<e;i+=1)Mr(t,n,r.charCodeAt(i))}(ue(n),new ae,t),n}function te(t,n){return void 0===n&&(n=!1),$r(ue(t),new ae,n,!1)}function ne(t,n){void 0===n&&(n=!1);var r=new _(2*t.length);return Jr(ue(r),new ae,t,n),r}function re(t,n,r){var e=[],i=[];for(function(t,n){return n.Go+3<=t.byteLength&&239===t.getUint8(n.Go)&&187===t.getUint8(n.Go+1)&&191===t.getUint8(n.Go+2)}(t,n)&&n.Wo(3);n.Go<t.byteLength;){var u=Yr(t,n);if(void 0===u)break;if(r&&0===u)break;i.push(u),i.length>=Fr&&(e.push(an(i)),i.length=0)}return i.length&&e.push(an(i)),e.join("")}function ee(t){return re(ue(t),new ae,!1)}function ie(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),new _(t.buffer,t.byteOffset+n,r-n)}function ue(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function oe(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function se(t){return t instanceof ArrayBuffer||rr(t)}function ce(t){return t instanceof ArrayBuffer?new _(t):oe(t)}function fe(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var ae=function(){function t(t){void 0===t&&(t=0),this.Ho=t}var n=t.prototype;return n.Wo=function(t){this.Ho+=t},n.zo=function(t){this.Ho=t},n.Xo=function(){return new t(this.Go)},n.Jo=function(){return new cr(this.Go<<3)},x(t,[{key:"Go",get:function(){return this.Ho}}]),t}(),he=function(){function t(){var t=this;this.Qo=new C(function(n,r){t.Pn=n,t.M=r})}var n=t.prototype;return n.Zo=function(t){this.Pn&&(this.Pn(t),this.eo())},n.ts=function(t){this.M&&(this.M(t),this.eo())},n.fo=function(){this.Qo.catch(rt),this.ts(new Tn)},n.eo=function(){this.Pn=void 0,this.M=void 0},t}();function ve(){return new _([8,4]).buffer}function de(t){return er(t,ve())}function le(t,n){return t===Yt?function(t){if(t.byteLength<2*we.length)return t;if(te(new DataView(t,0,2*we.length),!0)===we)return t;return n=t,ne('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+or(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var we="<PlayReady";var ye=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,i)||this).ns=r,u.rs=e,u}return gt(n,t),n}(kt),ge=function(t){function n(n,r){var e;(e=t.call(this)||this).es=n,e.us=r,e.os=!1,e.ss=function(){e.cs()},e.fs=function(t){e.wo(new Vn(pt(e),t.messageType,le(e.us,t.message)))},e.as=function(){e.os=!0,e.hs.Vo>0&&(e.hs.jo(),e.wo(new jn(pt(e)))),e.es.removeEventListener("keystatuseschange",e.ss),e.es.removeEventListener("message",e.fs)},e.es.addEventListener("keystatuseschange",e.ss),e.es.addEventListener("message",e.fs),e.hs=new Xn;var i=[];return e.es.closed&&i.push(C.resolve(e.es.closed)),e.vs=new he,i.push(e.vs.Qo),e.ds=C.race(i).then(e.as),e.cs(),e}gt(n,t);var r=n.prototype;return r.ls=function(){if(this.os)return this.ds;var t,n,r=[];return r.push(C.resolve(this.es.close())),r.push((t=1e3,new C(function(r,e){if(void 0!==n&&n.Qu)e(new Tn);else{var i=O.ys(function(){void 0!==n&&n.uo(u),r()},t),u=function(){O.gs(i),e(new Tn)};void 0!==n&&n.io(u)}}))),this.vs.Zo(C.race(r).catch(_e)),this.os=!0,this.ds},r._s=function(t,n,r){return C.resolve(this.es.generateRequest(t,n)).catch(_e)},r.ps=function(t){return C.resolve(this.es.load(t)).catch(_e)},r.ks=function(){return C.resolve(this.es.remove()).catch(_e)},r.bs=function(t){return C.resolve(this.es.update(t)).catch(_e)},r.cs=function(){var t=this;this.hs.jo(),this.es.keyStatuses.forEach(function(n,r){t.Ts(r,n)}),this.wo(new jn(this))},r.Ts=function(t,n){if("string"==typeof t){var r=t;t=n,n=r}var e=ce(t);if(this.us===Yt&&16===e.byteLength){var i=ue(e),u=i.getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,u,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}this.hs.qo(e,n)},x(n,[{key:"Es",get:function(){return this.ds}},{key:"Ss",get:function(){return this.es.expiration}},{key:"Rs",get:function(){return this.hs}},{key:"Is",get:function(){return this.es.sessionId}}]),n}(Mn);function _e(t){var n;if(t.message){var r=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);r&&(n=0|w(r[1],16))}throw new ye(t.message,void 0,n,t)}var pe=function(){function t(t,n){this.Cs=t,this.us=n}var n=t.prototype;return n.Ns=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ge(this.Cs.createSession(n),this.us));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Os=function(t){return C.resolve(this.Cs.setServerCertificate(t))},n.Ds=function(t){return C.resolve(t.setMediaKeys(this.Cs))},n.As=function(t){return C.resolve(t.setMediaKeys(null))},t}(),me=function(){function t(t,n){this.Ps=t,this.us=n}var n=t.prototype;return n.xs=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ps.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new pe(n,this.us));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Fs=function(){return this.Ps.getConfiguration()},x(t,[{key:"Bs",get:function(){return this.Ps.keySystem}}]),t}(),ke=function(){function t(){}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.filter(function(t){return!t.Ls}),t.next=3,o.requestMediaKeySystemAccess(n,r);case 3:return e=t.sent,t.abrupt("return",new me(e,n));case 5:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),t.Ms=function(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess},t}(),be=function(t){function n(n,r){var e;return(e=t.call(this)||this).Us=n,e.qs=r,e.os=!1,e.js=void 0,e.Vs=void 0,e.Hs=void 0,e.as=function(){e.os=!0,e.Ws.Zo(void 0),e.Hs&&(e.Hs.removeEventListener("mskeyclose",e.as),e.Hs.removeEventListener("mskeymessage",e.zs),e.Hs.removeEventListener("mskeyerror",e.Xs),e.Hs.removeEventListener("mskeyadded",e.Gs))},e.zs=function(t){e.Vs&&(e.Vs.Zo(void 0),e.Vs=void 0),e.wo(new Vn(pt(e),"license-request",fe(t.message).buffer,t.destinationURL||void 0))},e.Xs=function(){var t=e.Hs&&e.Hs.error;if(t){var n=new ye("Unknown CDM error",t.code,t.systemCode);if(e.Vs)e.Vs.ts(n),e.Vs=void 0;else if(e.js)e.js.ts(n),e.js=void 0;else switch(n.ns){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ys("output-not-allowed");break;default:e.Ys("internal-error")}}},e.Gs=function(){e.Vs&&(e.Ys("usable"),e.Vs.Zo(void 0),e.Vs=void 0),e.js&&(e.Ys("usable"),e.js.Zo(void 0),e.js=void 0)},e.Ws=new he,e.Ks=new Xn,e}gt(n,t);var r=n.prototype;return r._s=function(){var t=C.coroutine(xt.mark(function t(n,r,e){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.Vs=new he,this.Ns(ce(r),e),t.next=5,this.Vs.Qo;case 5:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.Ns=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var r,e=n&&n.playready&&n.playready.Js;return(r=n?this.Us.createSession(this.qs,t,e):this.Us.createSession(this.qs,t)).addEventListener("mskeyclose",this.as),r.addEventListener("mskeymessage",this.zs),r.addEventListener("mskeyerror",this.Xs),r.addEventListener("mskeyadded",this.Gs),this.Hs=r,this.Ys("status-pending"),r},r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.js=new he,this.$s(),this.Hs){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(r=ce(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Hs.update(r),t.next=10,this.js.Qo;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){return!this.os&&this.Hs&&(this.os=!0,this.Hs.close()),this.Ws.Qo},r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.$s=function(){if(this.os)throw new v("Already closing or closed.")},r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.Hs&&this.Hs.sessionId||""}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn),Te=function(){function t(t,n){this.Us=t,this.qs=n}var n=t.prototype;return n.Ns=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new be(this.Us,this.qs));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Os=function(t){return C.resolve(!1)},n.Ds=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Us):t.addEventListener("loadedmetadata",function r(){t.msSetMediaKeys(n.Us),t.removeEventListener("loadedmetadata",r)}),C.resolve()},n.As=function(t){return C.resolve()},t}();function Ee(t,n,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var i={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Ls:r.Ls},u=!1;if(r.audioCapabilities)for(var o=0,s=r.audioCapabilities;o<s.length;o++){var c=s[o];if(c.contentType){u=!0;var f=Re(c.contentType);!c.robustness&&t(n,f)&&(i.audioCapabilities.push(c),e=!0)}}if(r.videoCapabilities)for(var a=0,h=r.videoCapabilities;a<h.length;a++){var v=h[a];if(v.contentType){u=!0;var d=Re(v.contentType);!v.robustness&&t(n,d)&&(i.videoCapabilities.push(v),e=!0)}}return u||(e=t(n,"video/mp4")),e?i:void 0}}function Se(t){if(t.videoCapabilities)for(var n=0,r=t.videoCapabilities;n<r.length;n++){var e=r[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var i=0,u=t.audioCapabilities;i<u.length;i++){var o=u[i];if(o.contentType)return o.contentType}}function Re(t){return t.split(";")[0]}var Ie=function(){function t(t,n){this.us=t,this.Qs=n;var r=Se(n)||"video/mp4";this.qs=Re(r)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){return C.resolve(new Te(new S.MSMediaKeys(this.us),this.qs))},x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),Ce=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(function(t,n){if(!Ne())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=n[r],i=Ee(Oe,t,e);if(i)return new Ie(t,i)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return Ne()},t}();function Ne(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Oe(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var De,Ae,Pe=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).Zs=n,i.qs=r,i.tc=e,i.Ws=new he,i.nc=void 0,i.Ks=new Xn,i.rc=void 0,i.ec=new he,i.Xs=function(){var t=i.rc&&i.rc.error;if(t){var n=new ye("Unknown CDM error",t.code,t.systemCode);i.nc?(i.nc.ts(n),i.nc=void 0):n.ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?i.Ys("output-not-allowed"):i.Ys("internal-error"),i.wo(new Hn)}},i.zs=function(t){i.nc&&(i.nc.Zo(void 0),i.nc=void 0),i.wo(new Vn(pt(i),"license-request",fe(t.message).buffer,t.destinationURL||void 0))},i}gt(n,t);var r=n.prototype;return r._s=function(t,n,r){var e=r&&r.fairplay&&r.fairplay.ic;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var i=xe(ce(n),e,this.tc);return this.rc=this.Zs.createSession(this.qs,i),this.rc.addEventListener("webkitkeymessage",this.zs,!1),this.rc.addEventListener("webkitkeyerror",this.Xs,!1),this.Ys("usable"),this.ec.Zo(this.rc),this.ec=new he,C.resolve()},r.ps=function(t){return C.resolve(!0)},r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=ce(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.nc=new he,t.t0=this.rc,t.t0){t.next=9;break}return t.next=8,this.ec.Qo;case 8:t.t0=t.sent;case 9:return t.t0.update(r),t.next=13,this.nc.Qo;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){var t=this.rc;return t&&(t.removeEventListener("webkitkeymessage",this.zs,!1),t.removeEventListener("webkitkeyerror",this.Xs,!1),t.close()),this.ec.fo(),this.Ws.Zo(void 0),this.Ws.Qo},r.ks=function(){return C.resolve(void 0)},r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.rc?this.rc.sessionId:""}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn);function xe(t,n,r){var e=ee(t),i=2*e.length,u=2*n.length,o=new ArrayBuffer(4+i+4+u+4+r.byteLength),s=new DataView(o),c=new ae;return Wr(s,c,i,!0),Jr(s,c,e,!0),Wr(s,c,u,!0),Jr(s,c,n,!0),Wr(s,c,r.byteLength,!0),function(t,n,r){oe(t).set(oe(r),n.Go),n.Wo(r.byteLength)}(s,c,r),new _(o)}(De=n.ErrorCode||(n.ErrorCode={}))[De.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",De[De.LICENSE_ERROR=2e3]="LICENSE_ERROR",De[De.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",De[De.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",De[De.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",De[De.SOURCE_INVALID=3e3]="SOURCE_INVALID",De[De.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",De[De.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",De[De.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",De[De.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",De[De.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",De[De.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",De[De.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",De[De.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",De[De.MEDIA_ABORTED=5004]="MEDIA_ABORTED",De[De.NETWORK_ERROR=6e3]="NETWORK_ERROR",De[De.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",De[De.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",De[De.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",De[De.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",De[De.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",De[De.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",De[De.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",De[De.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",De[De.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",De[De.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",De[De.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",De[De.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",De[De.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",De[De.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",De[De.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",De[De.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",De[De.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",De[De.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",De[De.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",De[De.AD_ERROR=1e4]="AD_ERROR",De[De.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",De[De.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Ae=n.ErrorCategory||(n.ErrorCategory={}))[Ae.CONFIGURATION=1]="CONFIGURATION",Ae[Ae.LICENSE=2]="LICENSE",Ae[Ae.SOURCE=3]="SOURCE",Ae[Ae.MANIFEST=4]="MANIFEST",Ae[Ae.MEDIA=5]="MEDIA",Ae[Ae.NETWORK=6]="NETWORK",Ae[Ae.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ae[Ae.SUBTITLE=8]="SUBTITLE",Ae[Ae.VR=9]="VR",Ae[Ae.AD=10]="AD",Ae[Ae.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var r=l.floor(n/1e3);if(r in t)return r;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var Fe=function(t){function r(n,r,e){var i;return(i=t.call(this,r,e)||this).code=n,i}return gt(r,t),x(r,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),r}(kt),Be=function(){function t(t,n){this.Zs=t,this.qs=n,this.tc=void 0}var r=t.prototype;return r.getInternalMediaKeys=function(){return this.Zs},r.Ns=function(){var t=C.coroutine(xt.mark(function t(r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tc){t.next=2;break}throw new Fe(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Pe(this.Zs,this.qs,this.tc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Os=function(t){return this.tc=ce(t),C.resolve(!0)},r.Ds=function(t){return t.webkitSetMediaKeys(this.Zs),C.resolve()},r.As=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Le=function(){function t(t,n){this.us=t,this.Qs=n;var r=Se(n)||"video/mp4";this.qs=Re(r)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){return C.resolve(new Be(new S.WebKitMediaKeys(this.us),this.qs))},x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),Me=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(function(t,n){if(!Ue())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=n[r],i=Ee(qe,t,e);if(i)return new Le(t,i)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return Ue()},t}();function Ue(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function qe(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var je,Ve=function(){function t(t){this.uc=t}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.uc;case 1:if(!(e<i.length)){t.next=14;break}return u=i[e],t.prev=3,t.next=6,u.Ku(n,r);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:e++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,r){return t.apply(this,arguments)}}(),t}(),He=function(t){function n(n){var r;return(r=t.call(this)||this).us=n,r.Vs=void 0,r.nc=void 0,r.oc=!1,r.sc=void 0,r.cc=void 0,r.Ws=new he,r.fc="",r.ac=new he,r.hc=new Xn,r}gt(n,t);var r=n.prototype;return r.vc=function(){this.nc&&(this.Ys("usable"),this.nc.Zo(void 0),this.nc=void 0)},r.dc=function(t){var n=t,r=new ye("Unknown CDM error",n.errorCode,n.systemCode);this.nc?(this.nc.ts(r),this.nc=void 0):this.Vs?(this.Vs.ts(r),this.Vs=void 0):r.ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ys("output-restricted"):1===r.rs?this.Ys("expired"):this.Ys("internal-error")},r.lc=function(t){this.Vs&&(this.Vs.Zo(void 0),this.Vs=void 0),this.wo(new Vn(this,"license-request",le(this.us,fe(t.message).buffer),t.defaultURL||void 0))},r.wc=function(t){this.cc||(this.cc=t,this.ac.Zo(t))},r.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oc=!0,this.Ws.Zo(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r._s=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Vs=new he,this.sc=ce(r),t.t0=this.cc,t.t0){t.next=8;break}return t.next=7,this.ac.Qo;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.us,this.sc),t.next=12,this.Vs.Qo;case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.nc=new he,t.t0=this.cc,t.t0){t.next=7;break}return t.next=6,this.ac.Qo;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.us,ce(n),this.sc,this.Is),t.next=11,this.nc.Qo;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.throwIfClosed=function(){if(this.oc)throw new v("Already closing or closed.")},r.Ys=function(t){this.hc.jo(),this.hc.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Rs",get:function(){return this.hc}},{key:"Is",get:function(){return this.fc},set:function(t){this.fc=t}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Ss",get:function(){return NaN}}]),n}(Mn),We=function(){function t(t){var n=this;this.us=t,this.cc=void 0,this.yc=Lt(),this.gc=[],this.Gs=function(t){var r=n._c(t.sessionId);r&&r.vc()},this.pc=function(t){var r=n._c(t.sessionId);r&&r.dc(t)},this.mc=function(t){var r=t,e=n._c(r.sessionId);e&&e.lc(r)}}var n=t.prototype;return n.Ds=function(t){return this.cc=t,this.cc.addEventListener("webkitkeyadded",this.Gs),this.cc.addEventListener("webkitkeyerror",this.pc),this.cc.addEventListener("webkitkeymessage",this.mc),this.yc.forEach(function(n,r){return n.wc(t)}),this.gc.forEach(function(n){return n.wc(t)}),C.resolve()},n.As=function(t){return t.removeEventListener("webkitkeyadded",this.Gs),t.removeEventListener("webkitkeyerror",this.pc),t.removeEventListener("webkitkeymessage",this.mc),this.cc=void 0,C.resolve()},n.Ns=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new He(this.us),this.cc&&i.wc(this.cc),this.gc.push(i),t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),n.Os=function(t){return C.resolve(!1)},n._c=function(t){if(t){var n=this.yc.get(t);return n||((n=this.gc.shift())?(n.Is=t,this.yc.set(t,n),n):void 0)}},t}(),ze=function(){function t(t,n){this.Bs=t,this.kc=n}var n=t.prototype;return n.xs=function(){return C.resolve(new We(this.Bs))},n.Fs=function(){return this.kc},t}();function Xe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ge(t,n){var r=n.style;if(r)for(var e in t)r[e]=t[e]}function Ye(){return void 0!==i?i.createElement("video"):void 0}function Ke(){return je||(je=Ye()),je}var $e,Je=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(Qe(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Qe(t,n){if(!Je.Ms())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=Ee(Ze,t,n[r]);if(e)return new ze(t,e)}throw new v("Unsupported key system configuration for "+t)}function Ze(t,n){var r=Ke();return!(!r||!r.canPlayType||""===r.canPlayType(n,t))}function ti(){return $e||($e=function(){var t=[];Me.Ms()&&t.push(new Me);ke.Ms()&&t.push(new ke);Ce.Ms()&&t.push(new Ce);Je.Ms()&&t.push(new Je);return new Ve(t)}()),$e}function ni(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function ri(t,n){var r=function(t,n){var r=t.length;if(r<=1)return t;for(var e=new Array(r),i=1;i<r;i*=2){ei(t,n,i,e);var u=t;t=e,e=u}return t}(t,n);return r!==t&&ei(r,null,t.length,t),t}function ei(t,n,r,e){var i,u,o,s,c,f=t.length,a=0,h=2*r;for(i=0;i<f;i+=h)for(o=(u=i+r)+r,u>f&&(u=f),o>f&&(o=f),s=i,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<u)e[a++]=t[s++];else{if(!(c<o))break;e[a++]=t[c++]}}var ii=/[a-zA-Z]/,ui=/[0-9]/,oi=/[0-9a-fA-F]/,si=/^0x/i,ci=/^[0-9]+$/,fi=/^[0-9a-fA-F]+$/,ai=/^[0-7]+$/,hi=d.prototype.toString,vi=Array.isArray||function(t){return"[object Array]"===hi.call(t)},di="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function li(t){return vi(t)?t:Array.from(t)}function wi(t){return t>=65&&t<=90}function yi(t){return wi(t)||function(t){return t>=97&&t<=122}(t)}function gi(t){return t>=48&&t<=57}function _i(t){return gi(t)||yi(t)}function pi(t){return gi(t)||t>=65&&t<=70||t>=97&&t<=102}function mi(t){return wi(t)?t+32:t}function ki(t){return gi(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function bi(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ti=l.min,Ei=String.fromCharCode,Si=16384;function Ri(t){for(var n=t.length,r=[],e=0;e<n;e+=Si){var i=Ti(e+Si,n);r.push(Ei.apply(null,t.slice(e,i)))}return r.join("")}var Ii=/[^\0-\x7E]/,Ci=/[\x2E\u3002\uFF0E\uFF61]/g,Ni={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Oi=l.floor,Di=String.fromCharCode;function Ai(t){throw new RangeError(Ni[t])}function Pi(t){for(var n=[],r=0,e=t.length;r<e;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<e){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&i)<<10)+(1023&u)+65536):(n.push(i),r--)}else n.push(i)}return n}var xi,Fi,Bi,Li=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Mi=function(t,n,r){var e=0;for(t=r?Oi(t/700):t>>1,t+=Oi(t/n);t>455;e+=36)t=Oi(t/35);return Oi(e+36*t/(t+38))},Ui=function(t){return function(t,n){var r=t.split("@"),e="";r.length>1&&(e=r[0]+"@",t=r[1]);var i=function(t,n){for(var r=[],e=t.length;e--;)r[e]=n(t[e]);return r}((t=t.replace(Ci,".")).split("."),n).join(".");return e+i}(t,function(t){return Ii.test(t)?"xn--"+function(t){for(var n=[],r=(t=Pi(t)).length,e=128,i=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Di(c))}var f=n.length,a=f;for(f&&n.push("-");a<r;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=a+1;h-e>Oi((2147483647-i)/w)&&Ai("overflow"),i+=(h-e)*w,e=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<e&&++i>2147483647&&Ai("overflow"),_==e){for(var p=i,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Di(Li(k+b%T,0))),p=Oi(b/T)}n.push(Di(Li(p,0))),u=Mi(i,w,a==f),i=0,++a}}++i,++e}return n.join("")}(t):t})};function qi(t){for(var n=[],r=0;r<t.length;r++){var e=t[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ri(n)}function ji(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Vi(t,n){return t>>n&63|128}function Hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ji(t),n.push(t>>12&15|224),n.push(Vi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Vi(t,12)),n.push(Vi(t,6))),n.push(63&t|128)):n.push(t)}function Wi(t){for(var n=[],r=0;r<t.length;r++){Hi(t[r],n)}return n}function zi(){if(Bi>=Fi)throw new h("Invalid byte index");var t=255&xi[Bi];if(Bi++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Xi(){var t,n;if(Bi>Fi)throw new h("Invalid byte index");if(Bi===Fi)return!1;if(t=255&xi[Bi],Bi++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|zi())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|zi()<<6|zi())>=2048)return ji(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|zi()<<12|zi()<<6|zi())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function Gi(t){return[37,bi(t>>4),bi(15&t)]}function Yi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function Ki(t){return Yi(t)||32===t||34===t||60===t||62===t||96===t}function $i(t){return Ki(t)||35===t||63===t||123===t||125===t}function Ji(t){return $i(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Qi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Zi(t){return Qi(t)||39===t}function tu(t,n){if(!n(t))return[t];for(var r=Wi([t]),e=[],i=0;i<r.length;i++){var u=r[i];e.push.apply(e,Gi(u))}return e}function nu(t,n){for(var r=[],e=0,i=Pi(t);e<i.length;e++){var u=i[e];r.push.apply(r,tu(u,n))}return qi(r)}function ru(t){return function(t){for(var n=[],r=t.length,e=0;e<r;e++){var i=t[e];if(37===i&&e+2<r&&pi(t[e+1])&&pi(t[e+2])){var u=ki(t[e+1])<<4|ki(t[e+2]);n.push(u),e+=2}else n.push(i)}return n}(Wi(t))}function eu(t){return qi(function(t){xi=t.slice(),Fi=xi.length,Bi=0;for(var n,r=[];!1!==(n=Xi());)r.push(n);return r}(ru(Pi(t))))}function iu(t){var n,r,e,i,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,f=0;if(f<u&&":"===t[f]){if(!(f+1<u&&":"===t[f+1]))throw new v;f+=2,c=s+=1}for(;f<u;){if(8===s)throw new v("Too many groups");if(":"!==t[f]){for(var a=0,h=0;h<4&&f<u&&oi.test(t[f]);)a=a<<4|w(t[f],16),f+=1,h+=1;if("."===t[f]){if(0===h)throw new v;if(f-=h,s>6)throw new v;for(var d=0;f<u;){var l=null;if(d>0){if(!("."===t[f]&&d<4))throw new v;f+=1}if(!ui.test(t[f]))throw new v;for(;f<u&&ui.test(t[f]);){var y=w(t[f],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}f+=1}o[s]=o[s]<<8|l,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new v;break}if(":"===t[f]){if((f+=1)===u)throw new v}else if(f<u)throw new v;o[s]=a,s+=1}else{if(null!==c)throw new v("Too many :: groups");f+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)e=c+g-1,i=void 0,i=(n=o)[r=s],n[r]=n[e],n[e]=i,s-=1,g-=1}else if(8!==s)throw new v;return o}function uu(t){var n=10,r=ci;return si.test(t)?(t=t.slice(2),n=16,r=fi):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,r=ai),""===t?0:r.test(t)?w(t,n):void 0}var ou={bc:4},su=/[\0\t\n\r #%\/:?@\[\\\]]/,cu=/[\0\t\n\r #\/:?@\[\\\]]/;function fu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{bc:2,Tc:iu(t.slice(1,-1))}}if(!n)return function(t){if(cu.test(t))throw new v("Invalid code point in opaque host");var n=nu(t,Yi);return""===n?ou:{bc:3,Gr:n}}(t);var r=function(t){return function(t){return Ui(t.toLowerCase())}(t)}(eu(t));if(su.test(r))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var r=[],e=0;e<n.length;e++){var i=n[e];if(""===i)return;var u=uu(i);if(void 0===u)return;r.push(u)}for(var o=0;o<r.length-1;o++)if(r[o]>255)throw new v;if(r[r.length-1]>=l.pow(256,5-r.length))throw new v;for(var s=r.pop(),c=0;c<r.length;c++)s+=r[c]*l.pow(256,3-c);return s}}(r);return void 0!==e?{bc:1,Tc:e}:""===r?ou:{bc:0,Ec:r}}function au(t){switch(t.bc){case 0:return t.Ec;case 1:return function(t){for(var n=[],r=t,e=1;e<=4;e++)n.push(""+(255&r)),4!==e&&n.push("."),r>>>=8;return n.reverse().join("")}(t.Tc);case 2:return"["+function(t){for(var n="",r=function(t){for(var n=0,r=0,e=0,i=0,u=0;u<8;u++)0===t[u]?(0===i&&(e=u),i++):(i>r&&(n=e,r=i),i=0);return i>r&&(n=e,r=i),r>1?n:null}(t),e=!1,i=0;i<8;i++){if(e){if(0===t[i])continue;e=!1}r!==i?(n+=t[i].toString(16),7!==i&&(n+=":")):(n+=0===i?"::":":",e=!0)}return n}(t.Tc)+"]";case 3:return t.Gr;case 4:return""}}var hu=/\+/g;function vu(t){for(var n=t.split("&"),r=[],e=0;e<n.length;e++){var i=n[e];if(""!==i){var u=i.indexOf("="),o=void 0,s=void 0;-1!==u?(o=i.slice(0,u),s=i.slice(u+1)):(o=i,s=""),o=o.replace(hu," "),s=s.replace(hu," ");var c=eu(o),f=eu(s);r.push([c,f])}}return r}function du(t){for(var n="",r=0;r<t.length;r++){var e=t[r];r>0&&(n+="&"),n+=lu(Wi(Pi(e[0])))+"="+lu(Wi(Pi(e[1])))}return n}function lu(t){for(var n,r=[],e=0;e<t.length;e++){var i=t[e];32===i?r.push(43):42===(n=i)||45===n||46===n||95===n||_i(n)?r.push(i):r.push.apply(r,Gi(i))}return Ri(r)}var wu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function yu(t){var n=""+t,r=wu.exec(n);return r?function(t,n){for(var r=t.length,e=[],i=n;i<r;i++){var u=t.charCodeAt(i);if(_u(u))if(pu(u)||i===r-1)e.push(gu);else{var o=t.charCodeAt(i+1);pu(o)?(e.push(u,o),i++):e.push(gu)}else e.push(u)}return t.slice(0,n)+Ri(e)}(n,r.index):n}var gu=65533,_u=function(t){return 55296==(63488&t)},pu=function(t){return 0!=(1024&t)};function mu(t,n){var r=t[0],e=n[0];return r===e?0:r<e?-1:1}function ku(t){t.Sc.length=0}function bu(t,n){!function(t,n){for(var r=0;r<n.length;r++)t[r]=n[r];t.length=n.length}(t.Sc,vu(n))}function Tu(t){if(t.Rc){var n=du(t.Sc);""===n&&(n=null),t.Rc.Rc.Ic=n}}var Eu=function(){function t(t){if(void 0===t&&(t=void 0),this.Rc=null,null==t)this.Sc=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Eu&&vi(u.Sc)&&(!di||u[Symbol.iterator]===Su))this.Sc=t.Sc.slice();else if(function(t){return null!=t&&(!!vi(t)||!!di&&"function"==typeof t[Symbol.iterator])}(t)){this.Sc=[];for(var n=0,r=li(t);n<r.length;n++){var e=li(r[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Sc.push([yu(e[0]),yu(e[1])])}}else for(var i in this.Sc=[],t)d.prototype.hasOwnProperty.call(t,i)&&this.Sc.push([yu(i),yu(t[i])]);else(t=yu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Sc=vu(t);var u}var n=t.prototype;return n.append=function(t,n){t=yu(t),n=yu(n),this.Sc.push([t,n]),Tu(this)},n.delete=function(t){t=yu(t);for(var n=this.Sc,r=0;r<n.length;){n[r][0]===t?n.splice(r,1):r++}Tu(this)},n.get=function(t){t=yu(t);for(var n=this.Sc,r=0;r<n.length;r++){var e=n[r];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=yu(t);for(var n=this.Sc,r=[],e=0;e<n.length;e++){var i=n[e];i[0]===t&&r.push(i[1])}return r},n.has=function(t){t=yu(t);for(var n=this.Sc,r=0;r<n.length;r++){if(n[r][0]===t)return!0}return!1},n.set=function(t,n){t=yu(t),n=yu(n);for(var r=this.Sc,e=!1,i=0;i<r.length;){var u=r[i];u[0]===t?e?r.splice(i,1):(u[1]=n,e=!0,i++):i++}e||r.push([t,n]),Tu(this)},n.sort=function(){ri(this.Sc,mu),Tu(this)},n.toString=function(){return du(this.Sc)},n.entries=function(){return new Nu(this.Sc,Ru)},n.keys=function(){return new Nu(this.Sc,Iu)},n.values=function(){return new Nu(this.Sc,Cu)},n.forEach=function(t){var n=this;this.Sc.forEach(function(r){return t(r[1],r[0],n)})},t}(),Su=Eu.prototype.entries;di&&(Eu.prototype[Symbol.iterator]=Su);var Ru=function(t){return[t[0],t[1]]},Iu=function(t){return t[0]},Cu=function(t){return t[1]},Nu=function(){function t(t,n){this.Cc=0,this.Sc=t,this.Nc=n}return t.prototype.next=function(){return this.Cc<this.Sc.length?{done:!1,value:this.Nc(this.Sc[this.Cc++])}:{done:!0,value:void 0}},t}(),Ou="null";var Du=d.create(null);Du.ftp=21,Du.file=0,Du.gopher=70,Du.http=80,Du.https=443,Du.ws=80,Du.wss=443;var Au=/^(?:\.|%2e)$/i,Pu=/^(?:\.|%2e){2}$/i;function xu(t){return Au.test(t)}function Fu(t){return Pu.test(t)}function Bu(t){return void 0!==Du[t]}function Lu(t){return Bu(t.Oc)}function Mu(t){return""!==t.Dc||""!==t.Ac}function Uu(t){var n=t.length;if(!(n>=2))return!1;if(!ju(t.slice(0,2)))return!1;if(2!==n){var r=t[2];if(47!==r&&92!==r&&63!==r&&35!==r)return!1}return!0}function qu(t){return 2===t.length&&ii.test(t[0])&&(":"===t[1]||"|"===t[1])}function ju(t){return 2===t.length&&qu(Ri(t))}function Vu(t){return qu(t)&&":"===t[1]}function Hu(t){var n=t.Pc;0!==n.length&&("file"===t.Oc&&1===n.length&&Vu(n[0])||n.pop())}function Wu(t){return null===t.xc||ou===t.xc||t.Fc||"file"===t.Oc}var zu=-1,Xu=/\t|\n|\r/g,Gu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Yu(t,n,r,e){void 0===r&&(r=null),void 0===e&&(e=null),r||(r=new $u,t=t.replace(Gu,""));var i=null!==e?e:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,f=Pi(t=t.replace(Xu,"")),a=f.length,h=0;h<=a;){var d=h<a?f[h]:zu;switch(i){case 0:if(!yi(d)){if(null===e){u.length=0,i=2;continue}throw new v("Invalid scheme")}u.push(mi(d)),i=1;break;case 1:if(_i(d)||43===d||45===d||46===d)u.push(mi(d));else{if(58!==d){if(null===e){u.length=0,i=2,h=0;continue}throw new v("Invalid scheme")}var l=qi(u);if(null!==e){if(Bu(r.Oc)&&!Bu(l))return;if(!Bu(r.Oc)&&Bu(l))return;if((Mu(r)||null!==r.Bc)&&"file"===l)return;if("file"===r.Oc&&(r.xc===ou||null===r.xc))return}if(r.Oc=l,null!==e)return void(Lu(r)&&r.Bc===Du[r.Oc]&&(r.Bc=null));u.length=0,"file"===r.Oc?i=13:Lu(r)&&n&&n.Oc===r.Oc?i=3:Lu(r)?i=7:47===f[h+1]?(i=4,h+=1):(r.Fc=!0,r.Pc.push(""),i=18)}break;case 2:if(!n||n.Fc&&35!==d)throw new v("Invalid scheme");n.Fc&&35===d?(r.Oc=n.Oc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",r.Fc=!0,i=20):"file"!==n.Oc?(i=5,h-=1):(i=13,h-=1);break;case 3:47===d&&47===f[h+1]?i=8:(i=5,h-=1);break;case 4:47===d?i=9:(i=17,h-=1);break;case 5:r.Oc=n.Oc,zu===d?(r.Dc=n.Dc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic=n.Ic):47===d?i=6:63===d?(r.Dc=n.Dc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic="",i=19):35===d?(r.Dc=n.Dc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",i=20):92===d&&Lu(r)?i=6:(r.Dc=n.Dc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Pc.pop(),i=17,h-=1);break;case 6:!Lu(r)||47!==d&&92!==d?47===d?i=9:(r.Dc=n.Dc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,i=17,h-=1):i=8;break;case 7:if(47!==d||47!==f[h+1]){i=8;continue}i=8,h+=1;break;case 8:47!==d&&92!==d&&(i=9,h-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=qi(tu(g,Ji));c?r.Ac+=_:r.Dc+=_}else c=!0}u.length=0}else if(zu===d||47===d||63===d||35===d||Lu(r)&&92===d){if(o&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,i=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===r.Oc)h-=1,i=15;else if(58!==d||s)if(zu===d||47===d||63===d||35===d||Lu(r)&&92===d){if(h-=1,Lu(r)&&0===u.length)throw new v("Invalid host");if(null!==e&&0===u.length&&(Mu(r)||null!==r.Bc))return;var p=fu(qi(u),Lu(r));if(r.xc=p,u.length=0,i=16,null!==e)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=fu(qi(u),Lu(r));if(r.xc=m,u.length=0,i=12,11===e)return}break;case 12:if(gi(d))u.push(d);else{if(!(zu===d||47===d||63===d||35===d||Lu(r)&&92===d||null!==e))throw new v("Invalid port");if(0!==u.length){var k=w(qi(u),10);if(k>65535)throw new v("Invalid port");r.Bc=k===Du[r.Oc]?null:k,u.length=0}if(null!==e)return;i=16,h-=1}break;case 13:r.Oc="file",47===d||92===d?i=14:n&&"file"===n.Oc?zu===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic=n.Ic):63===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic="",i=19):35===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",i=20):(Uu(f.slice(h))||(r.xc=n.xc,r.Pc=n.Pc.slice(),Hu(r)),i=17,h-=1):(i=17,h-=1);break;case 14:47===d||92===d?i=15:(n&&"file"===n.Oc&&!Uu(f.slice(h))&&(Vu(n.Pc[0])?r.Pc.push(n.Pc[0]):r.xc=n.xc),i=17,h-=1);break;case 15:if(zu===d||47===d||92===d||63===d||35===d)if(h-=1,null===e&&ju(u))i=17;else if(0===u.length){if(r.xc=ou,null!==e)return;i=16}else{var b=fu(qi(u),Lu(r));if(0===b.bc&&"localhost"===b.Ec&&(b=ou),r.xc=b,null!==e)return;u.length=0,i=16}else u.push(d);break;case 16:Lu(r)?(i=17,47!==d&&92!==d&&(h-=1)):null===e&&63===d?(r.Ic="",i=19):null===e&&35===d?(r.Lc="",i=20):zu!==d&&(i=17,47!==d&&(h-=1));break;case 17:if(zu===d||47===d||Lu(r)&&92===d||null===e&&(63===d||35===d)){var T=qi(u);if(Fu(T)?(Hu(r),47===d||Lu(r)&&92===d||r.Pc.push("")):!xu(T)||47===d||Lu(r)&&92===d?xu(T)||("file"===r.Oc&&0===r.Pc.length&&ju(u)&&(ou!==r.xc&&null!==r.xc&&(r.xc=ou),u[1]=58,T=qi(u)),r.Pc.push(T)):r.Pc.push(""),u.length=0,"file"===r.Oc&&(zu===d||63===d||35===d))for(;r.Pc.length>1&&""===r.Pc[0];)r.Pc.shift();63===d?(r.Ic="",i=19):35===d&&(r.Lc="",i=20)}else u.push.apply(u,tu(d,$i));break;case 18:63===d?(r.Ic="",i=19):35===d?(r.Lc="",i=20):zu!==d&&(r.Pc[0]+=qi(tu(d,Yi)));break;case 19:null===e&&35===d?(r.Lc="",i=20):zu!==d&&(r.Ic+=qi(tu(d,Lu(r)?Zi:Qi)));break;case 20:zu===d||0===d||(r.Lc+=qi(tu(d,Ki)))}h++}return r}function Ku(t,n,r,e){try{Yu(t,n,r,e)}catch(t){}}var $u=function(){this.Oc="",this.Dc="",this.Ac="",this.xc=null,this.Bc=null,this.Pc=[],this.Ic=null,this.Lc=null,this.Fc=!1};function Ju(t){switch(t.Oc){case"blob":var n;try{n=Yu(t.Pc[0],null)}catch(t){return Ou}return Ju(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return r=t.Oc,e=t.xc,i=t.Bc,r+"://"+au(e)+(null===i?"":":"+i);case"file":default:return Ou}var r,e,i}var Qu=function(){function t(t,n){var r,e,i=null;if(null!=n)if(null!=(r=n)&&r instanceof Qu&&"object"==typeof r.Rc)i=n.Rc;else try{i=Yu(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=Yu(String(t),i)}catch(t){throw new v("Invalid URL: "+t.message)}var u=e.Ic;this.Rc=e,this.Ic=function(t){var n=new Eu;return null!==t&&bu(n,t),n}(u),this.Ic.Rc=this}var n,r,e,i=t.prototype;return i.toString=function(){return this.href},i.toJSON=function(){return this.href},n=t,(r=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var r=t.Oc+":";if(null!==t.xc?(r+="//",Mu(t)&&(r+=t.Dc,""!==t.Ac&&(r+=":"+t.Ac),r+="@"),r+=au(t.xc),null!==t.Bc&&(r+=":"+t.Bc)):null===t.xc&&"file"===t.Oc&&(r+="//"),t.Fc)r+=t.Pc[0];else for(var e=0,i=t.Pc;e<i.length;e++)r+="/"+i[e];return null!==t.Ic&&(r+="?"+t.Ic),n||null===t.Lc||(r+="#"+t.Lc),r}(this.Rc)},set:function(t){var n;try{n=Yu(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Rc=n,ku(this.Ic);var r=this.Rc.Ic;null!==r&&bu(this.Ic,r)}},{key:"origin",get:function(){return Ju(this.Rc)}},{key:"protocol",get:function(){return this.Rc.Oc+":"},set:function(t){Ku(t+":",null,this.Rc,0)}},{key:"username",get:function(){return this.Rc.Dc},set:function(t){Wu(this.Rc)||(this.Rc.Dc=nu(t,Ji))}},{key:"password",get:function(){return this.Rc.Ac},set:function(t){Wu(this.Rc)||(this.Rc.Ac=nu(t,Ji))}},{key:"host",get:function(){var t=this.Rc,n=t.xc;if(null===n)return"";var r=t.Bc,e=au(n);return null!==r&&(e+=":"+r),e},set:function(t){this.Rc.Fc||Ku(t,null,this.Rc,10)}},{key:"hostname",get:function(){var t=this.Rc.xc;return null===t?"":au(t)},set:function(t){this.Rc.Fc||Ku(t,null,this.Rc,11)}},{key:"port",get:function(){var t=this.Rc.Bc;return null===t?"":""+t},set:function(t){Wu(this.Rc)||(""===t?this.Rc.Bc=null:Ku(t,null,this.Rc,12))}},{key:"pathname",get:function(){var t=this.Rc.Pc;return this.Rc.Fc?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Rc.Fc||(this.Rc.Pc.length=0,Ku(t,null,this.Rc,16))}},{key:"search",get:function(){var t=this.Rc.Ic;return null===t||""===t?"":"?"+t},set:function(t){t=yu(t);var n=this.Rc;if(""===t)return n.Ic=null,void ku(this.Ic);"?"===t[0]&&(t=t.slice(1)),n.Ic="",Ku(t,null,n,19),bu(this.Ic,t)}},{key:"searchParams",get:function(){return this.Ic}},{key:"hash",get:function(){var t=this.Rc.Lc;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Rc.Lc="",Ku(t,null,this.Rc,20)):this.Rc.Lc=null}}])&&ni(n.prototype,r),e&&ni(n,e),t}();function Zu(t,n){for(var r=0,e=d.keys(n);r<e.length;r++){var i=e[r];t.searchParams.set(i,n[i])}}function to(t,n){var r=O.Mc(t).href;return n&&!cn(r,"/")&&(r+="/"),r}var no=/cache:(.+)?(?=&|$)/,ro="http://webcache.googleusercontent.com/search?q=cache:";function eo(t){if(!sn(t,ro))return"";var n=O.Mc(t).search.match(no);return n&&n.length>1?n[1]:""}var io,uo=l.pow(2,-52);function oo(t,n,r){return l.min(l.max(t,n),r)}function so(t,n,r){return t===n||l.abs(t-n)<=r}function co(t,n){for(var r=t,e=n;0!==e;){var i=r%e;r=e,e=i}return r<0?-r:r}!function(t){t[t.Uc=0]="Uc",t[t.qc=1]="qc",t[t.jc=-1]="jc"}(io||(io={}));var fo=function(t,n){return(0|t)-(0|n)},ao=function(t,n){return t===n?io.Uc:t<n?io.jc:t>n?io.qc:g(t)?g(n)?io.Uc:io.qc:io.jc};function ho(t,n,r){return so(t,n,r)?io.Uc:ao(t,n)}var vo=function(t,n){return function(t,n){if(t===n)return!0;var r=l.abs(t-n);return r<uo||r<l.max(l.abs(t),l.abs(n))*uo}(t,n)?io.Uc:ao(t,n)},lo=function(){function t(t,n){void 0===n&&(n=1),this.Vc=t,this.Hc=n}t.Wc=function(n){return new t(l.ceil(n.Vc),n.Hc)},t.zc=function(n){return new t(l.floor(n.Vc),n.Hc)},t.Xc=function(t,n){return t.Gc(n)?t:n},t.Yc=function(t,n){return t.Kc(n)?t:n};var n=t.prototype;return n.$c=function(n){return this.Hc>=n.Hc?new t(this.Vc+n.Jc(this.Hc).Vc,this.Hc):new t(this.Jc(n.Hc).Vc+n.Vc,n.Hc)},n.Qc=function(t){return t.Zc(this)},n.Gc=function(t){return t.Kc(this)},n.tf=function(n){return this.Hc>=n.Hc?new t(l.abs(this.Vc-n.Jc(this.Hc).Vc),this.Hc):n.tf(this)},n.nf=function(t,n){return this.tf(t).Kc(n)},n.rf=function(t){return wo(this,t)},n.ef=function(t){return 0===this.rf(t)},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.Jc=function(n){return new t(this.Vc*(n/this.Hc),n)},n.if=function(n){return this.Hc>=n.Hc?new t(this.Vc-n.Jc(this.Hc).Vc,this.Hc):new t(this.Jc(n.Hc).Vc-n.Vc,n.Hc)},n.uf=function(n){return new t(this.Vc*n,this.Hc)},x(t,[{key:"sf",get:function(){return!isFinite(this.Vc)}},{key:"cf",get:function(){return this.Vc/this.Hc}}]),t}();function wo(t,n){return t.Hc>=n.Hc?vo(t.Vc,n.Jc(t.Hc).Vc):vo(t.Jc(n.Hc).Vc,n.Vc)}lo.ff=new lo(1/6,1),lo.af=new lo(0),lo.hf=new lo(1/0),lo.vf=1e6;var yo=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),go=Ke(),_o=!(!go||!go.webkitShowPlaybackTargetPicker),po=function(){function t(){this.df=new lo(0,1),this.lf=!1,this.ii=yo,this.gi=!1,this.wf=!0,this.yf=!1}var n=t.prototype;return n.gf=function(t,n){return!0},n._f=function(t){return t.Gc(lo.ff.uf(2))},x(t,[{key:"pf",get:function(){return e.devicePixelRatio||1}},{key:"mf",get:function(){return _o}}]),t}(),mo=function(t){function n(){return t.call(this)||this}return gt(n,t),n}(po),ko=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.gf=function(t,n){if(t&&t.kf&&n&&n.kf){var r=bo(t.kf,"mp4a.40.2")&&bo(n.kf,"mp4a.40.5"),e=bo(t.kf,"mp4a.40.5")&&bo(n.kf,"mp4a.40.2"),i=bo(t.kf,"mp4a.40.2")&&bo(n.kf,"mp4a.40.34"),u=bo(t.kf,"mp4a.40.34")&&bo(n.kf,"mp4a.40.2"),o=bo(t.kf,"mp4a.40.5")&&bo(n.kf,"mp4a.40.34"),s=bo(t.kf,"mp4a.40.34")&&bo(n.kf,"mp4a.40.5");return!(r||e||i||u||o||s)}return!0},n}(mo);function bo(t,n){return t.indexOf(n)>-1}var To=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype._f=function(t){return t.Gc(new lo(2))},n}(mo),Eo=function(t){function n(){var n;return(n=t.call(this)||this).lf=W.Ai>=11,n.wf=W.Di&&!(W.wi&&W.Ai<10),n}return gt(n,t),n}(mo),So=function(){var t=Ye();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(W.di)return!1;var t=Ye();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ro=function(t){function n(n){var r;return(r=t.call(this)||this).bf=n,r.bf&&(r.df=r.bf.df,r.lf=r.bf.lf,r.ii=r.bf.ii,r.wf=So&&r.bf.wf,r.yf=W.Fi),r}gt(n,t);var r=n.prototype;return r.gf=function(n,r){return this.bf?this.bf.gf(n,r):t.prototype.gf.call(this,n,r)},r._f=function(n){return this.bf?this.bf._f(n):t.prototype._f.call(this,n)},n}(po),Io=function(t){function n(n){var r;return(r=t.call(this,n)||this).lf=!0,r.gi=!0,r}return gt(n,t),n}(Ro),Co=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.gf=function(n,r){return!(r.Tf>1920)&&t.prototype.gf.call(this,n,r)},n}(Ro),No=function(){function t(){this.Ef=Lt()}var n=t.prototype;return n.jo=function(t){this.Ef.delete(t)},n.Sf=function(){this.Ef.clear()},n.Mo=function(t){return this.Ef.get(t)},n.Rf=function(t,n){this.Ef.set(t,n)},t}(),Oo=function(){function t(){}return t.If=function(){return t.ji||(t.ji=Do.Ms()?new Do:new No),t.ji},t.jo=function(n){t.If().jo(n)},t.Sf=function(){t.If().Sf()},t.Mo=function(n){return t.If().Mo(n)},t.Rf=function(n,r){t.If().Rf(n,r)},t}();Oo.ji=void 0;var Do=function(n){function r(){return n.apply(this,arguments)||this}gt(r,n),r.Ms=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=r.prototype;return e.jo=function(n){t.sessionStorage.removeItem(n)},e.Sf=function(){t.sessionStorage.clear()},e.Mo=function(n){return t.sessionStorage[n]},e.Rf=function(n,r){t.sessionStorage[n]=r},r}(Oo);var Ao=function(){var n,r=t.Blob;if(r)try{return new r,n=r,function(t,r){return new n(t,r)}}catch(t){}var e,i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return i?(e=i,function(t,n){var r=new e;if(t)for(var i=0;i<t.length;i++){var u=t[i];r.append(u)}return r.getBlob(n&&n.type||"")}):null}();function Po(t,n,r){var e=Ao([n],{type:"application/octet-stream"}),u=URL.createObjectURL(e),o=function(t,n){var r=t,e=r.indexOf("?");if(e>=0&&(r=r.substr(0,e)),r=r.substr(r.lastIndexOf("/")+1),n){var i=r.indexOf(".");i<0&&(i=r.length),r=r.substr(0,i)+n+r.substr(i)}return r}(t,r),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}var xo,Fo,Bo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).df=new lo(2,1),n}return gt(n,t),n}(Io),Lo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).df=new lo(1,1),n}return gt(n,t),n}(Io),Mo=function(){function n(){var n;this.Cf=new Tt,this.Nf=new Uo,this.Of=void 0,this.Df=(n=function(){if(W.Ni)return new ko;if(W.Si||W.Ri)return new To;if(W.Di)return new Eo;return new mo}(),W.ci?new Bo(n):W.wi?new Lo(n):W.gi?new Io(n):W.bi?new Co(n):new Ro(n)),t.performance&&t.performance.now?this.Af=function(){return t.performance.now()}:this.Af=wt}var r=n.prototype;return r.Pf=function(){ht.apply(void 0,arguments)},r.xf=function(){vt.apply(void 0,arguments)},r.Ff=function(){dt.apply(void 0,arguments)},r.Bf=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];lt.apply(void 0,[t].concat(r))},r.ys=function(t,n){return s(t,n)},r.Lf=function(t,n){return f(t,n)},r.gs=function(t){c(t)},r.Mf=function(t){a(t)},r.Yi=function(t){return this.Cf.Yi(t)},r.$u=function(){return this.Uf.$u()},r.zu=function(){return this.Uf.zu()},r.Gu=function(){return this.Uf.Gu()},r.Xu=function(){return this.Uf.Xu()},r.Hu=function(){return this.Uf.Hu()},r.Yu=function(t,n){return this.Uf.Yu(t,n)},r.Wu=function(t){return this.Uf.Wu(t)},r.Mc=function(t,n){var r;return void 0===n&&(n=(r=S).document&&r.document.baseURI||r.location.href||""),new Qu(t,n)},x(n,[{key:"Uf",get:function(){return this.Of||(this.Of=new dn(ti())),this.Of}},{key:"qf",get:function(){return this.Nf}},{key:"jf",get:function(){return this.Df}},{key:"Vf",get:function(){return Oo.If()}},{key:"Hf",get:function(){return{Wf:Po}}},{key:"zf",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Xf",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Gf",get:function(){return{Yf:o&&o.userAgent.match(/Android /i)?"Android":"other",Kf:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}}]),n}(),Uo=function(){function t(){}return x(t,[{key:"$f",get:function(){return o.oscpu}},{key:"jf",get:function(){return o.platform}},{key:"Jf",get:function(){return o.vendor}},{key:"Qf",get:function(){return o.vendorSub}}]),t}();xo=new Mo,O=xo,function(t){t.Zf="ta",t.na="ra"}(Fo||(Fo={}));Fo.Zf,Fo.na;var qo=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).ea=void 0,e}return gt(n,t),x(n,[{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}}]),n}(qn);var jo,Vo=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n}(qo),Ho=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n}(qn),Wo=function(t){function n(n){var r;return(r=t.call(this,Fo.Zf)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new zo(this.oa.ia)},n}(Vo),zo=function(t){function n(n){var r;return(r=t.call(this,"addtrack")||this).track=n,r}return gt(n,t),n}(Ho),Xo=function(t){function n(n){var r;return(r=t.call(this,Fo.na)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new Go(this.oa.ia)},n}(Vo),Go=function(t){function n(n){var r;return(r=t.call(this,"removetrack")||this).track=n,r}return gt(n,t),n}(Ho);!function(t){t.sa="ca",t.fa="aa",t.ha="va",t.da="la",t.wa="ya",t.ga="_a",t.pa="ma",t.ka="ba",t.Ta="bs",t.Ea="Sa",t.Ra="Ia",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(jo||(jo={}));var Yo=function(t){function n(){var n;return(n=t.call(this)||this).Ca=[],n.ea=void 0,n}gt(n,t);var r=n.prototype;return r.Na=function(t){return this.Ca[t]},r.Oa=function(t){return!(!t||pn(this.Ca,t))&&(this.Ca.push(t),this.ea&&this.ea.push(t.ia),t._o(jo.ga,this.lo),this.wo(new Wo(t)),!0)},r.Da=function(t){if(!t)return!1;var n=this.Ca.indexOf(t);return!(n<0)&&(_n(this.Ca,n),this.ea&&_n(this.ea,n),t.ko(jo.ga,this.lo),this.wo(new Xo(t)),!0)},r.Aa=function(t){return pn(this.Ca,t)},r.Pa=function(){for(var t=this.Ca,n=t.length-1;n>=0;n-=1)this.Da(t[n])},r.oe=function(){this.Pa(),this.mo()},x(n,[{key:"xa",get:function(){return this.Ca}},{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}},{key:"Fa",get:function(){return this.Ca.length}}]),n}(Mn),Ko=function(t){function n(n){var r;return(r=t.call(this,jo.ga)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new $o(this.oa.ia)},n}(Vo),$o=function(t){function n(n){var r;return(r=t.call(this,"change")||this).track=n,r}return gt(n,t),n}(Ho),Jo=function(t){function n(){var n;return(n=t.call(this)||this).Ba=void 0,n.La=function(t){var r=t.oa;n.Oa(r)},n.Ma=function(t){var r=t.oa;n.Da(r)},n}gt(n,t);var r=n.prototype;return r.Ua=function(t){t._o(Fo.Zf,this.La),t._o(Fo.na,this.Ma)},r.qa=function(t){t.ko(Fo.Zf,this.La),t.ko(Fo.na,this.Ma)},r.oe=function(){this.Ba&&this.Ba.oe(),t.prototype.oe.call(this)},x(n,[{key:"ja",get:function(){return this.Ba},set:function(t){var n=this.Ba;if(t!==n){if(n){this.qa(n);for(var r=0,e=n.xa;r<e.length;r++){var i=e[r];t&&t.Aa(i)||this.Da(i)}}if(this.Ba=t,t){for(var u=[],o=0,s=t.xa;o<s.length;o++){var c=s[o];this.Oa(c),this.Va(c)&&u.push(c)}this.Ua(t);for(var f=0;f<u.length;f++){var a=u[f];a.wo(new Ko(a))}}}}}]),n}(Yo),Qo=d.freeze||et;function Zo(t,n,r){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:r})}function ts(t,n){for(var r=0,e=d.getOwnPropertyNames(n);r<e.length;r++){var i=e[r];d.defineProperty(t,i,d.getOwnPropertyDescriptor(n,i))}return t}function ns(t){if(J(t)){var n={};for(var r in t)z.call(t,r)&&(n[r]=ns(t[r]));return n}if(Y(t)){for(var e=new Array(t.length),i=0;i<e.length;i++)i in t&&(e[i]=ns(t[i]));return e}return t}function rs(t,n){return t===n||!(!t||!n)&&(!(!$(t)||!$(n))&&(K(t)?!!K(n)&&function(t,n){var r=t.length,e=n.length;if(r!==e)return!1;for(var i=0;i<r;i+=1)if(!rs(t[i],n[i]))return!1;return!0}(t,n):!K(n)&&function(t,n){var r=d.keys(t),e=d.keys(n);if(!r||!e||r.length!==e.length)return!1;for(var i=0;i<r.length;i++){var u=r[i];if(!z.call(n,u)||!rs(t[u],n[u]))return!1}return!0}(t,n)))}function es(t,n){return t.constructor===n.constructor}function is(t){for(var n={},r=0,e=d.keys(t);r<e.length;r++){var i=e[r],u=t[i];null!=u&&(n[i]=u)}return n}function us(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function os(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function ss(t){var n=os(t);if(g(n))throw new h("Expected a valid number.");return n}function cs(t){return"string"==typeof t?t:""}function fs(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var r=0|t.length,e=new Array(r),i=0;i<r;i++)e[i]=n(t[i]);return e}(t,n):n(t)}var as=[Fo.Zf,Fo.na,jo.ga];function hs(t){var n,r=t.xa.map(function(t){return t.ia});return r.item=function(n){var r=0|n,e=t.Na(r);return e&&e.ia||void 0},r.addEventListener=function(t,r){n._o(t,r)},r.removeEventListener=function(t,r){n.ko(t,r)},n=new Un(r),t._o(as,function(t){return n.wo(t.ia)}),r}function vs(){}function ds(t){var n,r=[jo.Ta,jo.ga,jo.Ea,jo.Ra,jo.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.Ha&&t.Ha.ia},get enabled(){return t.Wa},set enabled(n){t.Wa=us(n)},get id(){return t.za},get uid(){return t.Xa},get kind(){return t.Ga},get label(){return t.Ya},set label(n){t.Ya=cs(n)},get language(){return t.Ka},get qualities(){return t.$a.ia},set targetQuality(n){var r;(r=n?function(t,n){for(var r=[],e=0,i=t.$a.xa;e<i.length;e++)for(var u=i[e],o=0;o<n.length;o++){var s=n[o];u.ia===s&&r.push(u)}return r}(t,Y(n)?n:[n]):[]).length>0?t.Ja=r:t.Ja=void 0},get targetQuality(){if(t.Ja)return 1===t.Ja.length?t.Ja[0].ia:t.Ja.map(function(t){return t.ia})},addEventListener:function(t,r){var e=fs(t,cs);n._o(e,r)},removeEventListener:function(t,r){var e=fs(t,cs);n.ko(e,r)}};return n=new Un(e),t._o(r,function(t){return n.wo(t.ia)}),d.defineProperty(e,"constructor",{value:vs}),e}function ls(){}function ws(t){var n=hs(t);return d.defineProperty(n,"constructor",{value:ls}),n}var ys,gs,_s=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.ua=function(){return ws(this)},r.Va=function(t){return t.Wa},n}(Jo);function ps(){}function ms(t){var n,r=[jo.ga,jo.Ta,jo.sa,jo.fa,jo.ha,jo.da,jo.wa,jo.pa,jo.ka],e=[gs.Qa],i={get kind(){return t.Ga},get label(){return t.Ya},set label(n){t.Ya=cs(n)},get language(){return t.Ka},get id(){return t.za},get uid(){return t.Xa},get inBandMetadataTrackDispatchType(){return t.Za},get mode(){return t.th},set mode(n){n!==ys.nh&&n!==ys.rh&&n!==ys.eh||(t.th=n)},get type(){return t.xu},get readyState(){return Ts(t.ih)},get cues(){return t.th===ys.eh?null:t.uh.ia},get activeCues(){return t.th===ys.eh?null:t.oh.ia},get src(){return t.sh||""},addEventListener:function(t,r){var e=fs(t,cs);n._o(e,r)},removeEventListener:function(t,r){var e=fs(t,cs);n.ko(e,r)}};return n=new Un(t),t._o(r,function(t){return n.wo(t.ia)}),t._o(e,function(t){return n.wo(t)}),d.defineProperty(i,"constructor",{value:ps}),i}function ks(){}function bs(t){var n=hs(t);return d.defineProperty(n,"constructor",{value:ks}),n}function Ts(t){return t}!function(t){t.eh="disabled",t.rh="hidden",t.nh="showing"}(ys||(ys={})),function(t){t.Qa="error"}(gs||(gs={}));var Es,Ss=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.ua=function(){return bs(this)},r.Va=function(t){return t.th===ys.nh},n}(Jo),Rs=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).fh=void 0,n}gt(n,t);var r=n.prototype;return r.ah=function(t){if("function"==typeof t){var n=this.fh;n?"function"==typeof n?this.fh=[n,t]:n.push(t):this.fh=t}},r.hh=function(t){var n=this.fh;n&&("function"==typeof n?n===t&&(this.fh=void 0):gn(n,t))},r.mo=function(){t.prototype.mo.call(this),this.fh=void 0},r.wo=function(n){var r=Fn(this.fh);t.prototype.wo.call(this,n),Bn(this.yo,n,r)},n}(Mn),Is=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Rs);!function(t){t.vh="canplay",t.dh="canplaythrough",t.lh="loadeddata",t.wh="loadedmetadata",t.pa="readystatechange",t.yh="waiting",t.gh="playing"}(Es||(Es={}));var Cs,Ns=[Es.vh,Es.dh,Es.lh,Es.wh,Es.pa,Es.yh,Es.gh],Os=function(t){function n(n,r){var e;return(e=t.call(this,Es.pa)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn);!function(t){t[t._h=0]="_h",t[t.ph=1]="ph",t[t.mh=2]="mh",t[t.kh=3]="kh",t[t.bh=4]="bh"}(Cs||(Cs={}));var Ds,As=function(t){function n(n,r){var e;return void 0===r&&(r=Cs.bh),(e=t.call(this,Es.dh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),Ps=function(t){function n(n,r){var e;return void 0===r&&(r=Cs.kh),(e=t.call(this,Es.vh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn);!function(t){t.Th="Eh",t.Sh="Rh",t.Ih="contentprotectionerror",t.Ch="contentprotectionsuccess",t.Nh="currentsourcechange",t.Oh="destroy",t.Dh="durationchange",t.Ah="emptied",t.Do="encrypted",t.Ph="ended",t.xh="Fh",t.Bh="loadstart",t.Lh="manifestupdate",t.Mh="nosupportedrepresentationfound",t.Uh="offline",t.qh="online",t.jh="pause",t.Vh="play",t.Hh="progress",t.Wh="ratechange",t.zh="representationchange",t.Xh="resize",t.Gh="seeked",t.Yh="seeking",t.Kh="segmentnotfound",t.$h="Jh",t.Qh="Zh",t.tv="sourcechange",t.nv="timeupdate",t.rv="volumechange",t.ev="iv",t.uv="metricschange"}(Ds||(Ds={}));var xs,Fs=function(t){function n(n,r){var e;return(e=t.call(this,Ds.rv)||this).currentTime=n,e.volume=r,e}return gt(n,t),n}(qn),Bs=function(t){function n(n){var r;return(r=t.call(this,Ds.Gh)||this).currentTime=n,r}return gt(n,t),n}(qn),Ls=function(t){function n(n){var r;return(r=t.call(this,Ds.Yh)||this).currentTime=n,r}return gt(n,t),n}(qn),Ms=function(t){function n(n,r){var e;return void 0===r&&(r=Cs.mh),(e=t.call(this,Es.lh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),Us=function(t){function n(n){var r;return(r=t.call(this,Ds.Ph)||this).currentTime=n,r}return gt(n,t),n}(qn),qs=function(t){function n(n,r){var e;return(e=t.call(this,Ds.nv)||this).currentTime=n,e.currentProgramDateTime=r,e}return gt(n,t),n}(qn),js=function(t){function n(n,r){var e;return(e=t.call(this,Ds.Wh)||this).currentTime=n,e.playbackRate=r,e}return gt(n,t),n}(qn),Vs=function(t){function n(n){var r;return(r=t.call(this,Ds.Dh)||this).duration=n,r}return gt(n,t),n}(qn),Hs=function(t){function n(n,r){var e;return void 0===r&&(r=Cs.ph),(e=t.call(this,Es.wh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),Ws=function(t){function n(n){var r;return(r=t.call(this,Ds.Vh)||this).currentTime=n,r}return gt(n,t),n}(qn),zs=function(t){function n(n,r){var e;return void 0===r&&(r=Cs._h),(e=t.call(this,Ds.Ah)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),Xs=function(t){function n(n){var r;return(r=t.call(this,Ds.jh)||this).currentTime=n,r}return gt(n,t),n}(qn),Gs=function(t){function n(n){var r;return(r=t.call(this,"presentationmodechange")||this).presentationMode=n,r}return gt(n,t),n}(qn);!function(t){t.ga="fullscreenchange",t.ov="fullscreensupportchange",t.Qa="fullscreenerror"}(xs||(xs={}));var Ys=function(t){function n(n,r){var e;return void 0===r&&(r=!1),(e=t.call(this,n)||this).sv=[],e.cv=function(t){Dn(function(){e.lo(t)})},e.fv=r?e.cv:e.lo,e}gt(n,t);var r=n.prototype;return r.av=function(t){t.ah(this.fv),this.sv.push(t)},r.hv=function(t){t.hh(this.fv),gn(this.sv,t)},r.oe=function(){this.mo();for(var t=0,n=this.sv;t<n.length;t++){n[t].hh(this.fv)}mn(this.sv)},n}(Rs),Ks=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Ys);var $s,Js=function(t){function n(n){var r;return(r=t.call(this,gs.Qa)||this).errorObject=n,r}return gt(n,t),n.prototype.ua=function(){return this},x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qo);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}($s||($s={}));var Qs,Zs,tc,nc,rc,ec,ic=function(t){function r(n){var r;return(r=t.call(this)||this).vv=!1,r.dv=!1,r.ea=void 0,r.lv=function(){return r.wv()},r.yv=function(){return r.gv()},r._v=n,r.pv=r.mv=r.kv=r.bv=$s.INLINE,r._v._o(xs.ga,r.lv),r._v._o(xs.Qa,r.yv),r.Tv(),r}gt(r,t);var e=r.prototype;return e.ua=function(){return t=this,r={get currentMode(){return t.Ev()},requestMode:function(n){var r=Tc(n);r&&t.Sv(r)},supportsMode:function(n){var r=Tc(n);return!!r&&t.Rv(r)},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},(n=new Ys(r,!0)).av(t),r;var t,n,r},e.Sv=function(t){this.Iv(t,t)},e.Iv=function(t,n){this.mv!==n&&(this.vv=!0,this.pv=t,this.Cv(n,this.mv),t!==$s.FULLSCREEN&&(this.kv=t),this.vv=!1,this.Tv())},e.Ev=function(){return this.dv?$s.FULLSCREEN:$s.INLINE},e.Rv=function(t){switch(t){case $s.FULLSCREEN:return this._v.Nv;case $s.INLINE:return!0}return!1},e.Tv=function(){if(!this.vv){var t=this.mv,n=this.Ev();this.mv=n,n!==$s.FULLSCREEN&&(this.bv=n),t!==n&&this.wo(new Gs(n))}},e.Cv=function(t,n){var r=t===$s.FULLSCREEN;this.dv=r,r!==this._v.Ov&&(r?this._v.Dv():this._v.Av())},e.wv=function(){if(!this.vv){var t=this._v.Ov;this.dv=t,t?this.Iv($s.FULLSCREEN,$s.FULLSCREEN):t||this.pv!==$s.FULLSCREEN?this.Tv():this.Iv(this.kv,this.bv)}},e.gv=function(){this.wv(),this.wo(new Js(new Fe(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.oe=function(){this._v.oe(),this.mo()},x(r,[{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}}]),r}(Rs),uc="1ADD53F3";function oc(t){return{chromecast:function(t){return{appID:t&&t.appID?cs(t.appID):uc}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Qs.AUTO;case"manual":return Qs.MANUAL;case"disabled":return Qs.DISABLED;default:return Qs.MANUAL}}(t?t.strategy:void 0)}}function sc(t){var n,r=tc.Pv;return(n=t)&&on(n,"mpd")&&(r=tc.xv),function(t){return!!t&&on(t,"m3u8")}(t)&&(r=tc.Fv),r}function cc(t){return $(t)&&$(t.ssai)&&"google-dai"===t.ssai.integration}function fc(t){return $(t)&&Q(t.integration)&&"verizon-media"===t.integration}function ac(t){if(Q(t))return!t;if(fc(t))return!t.id;if(cc(t)){var n=t.ssai,r="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(r&&e)}return!t.src}function hc(t){return Boolean($(t)&&Q(t.src))}function vc(t){return Q(t)||hc(t)||cc(t)||fc(t)}function dc(t){if(t){if(vc(t))return ac(t);for(var n=0;n<t.length;n++){if(!ac(t[n]))return!1}return!0}return!0}function lc(){return{crossOrigin:Zs.Bv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function wc(){return Ft(Ft({},lc()),{src:void 0,type:tc.Pv,contentProtection:void 0,ssai:void 0,integrationData:void 0})}function yc(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:nc.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return rc.NONE;case"midroll-and-postroll":default:return rc.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=us(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return nc.INSECURE;case"disabled":return nc.DISABLED;case"enabled":default:return nc.ENABLED}}(t.vpaidMode)),Y(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:us(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function gc(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var e=t[r];J(e)&&n.push(e)}return n}function _c(t){switch(t){case ec.ALL:case ec.CONTENT:return t;default:return ec.NONE}}function pc(t){var n,r,e,i=ns(t||{});return i.libraryLocation&&(i.libraryLocation=to(i.libraryLocation)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=oc(i.cast),i.ads=yc(i.ads),i.analytics=gc(i.analytics),i.mutedAutoplay=_c(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=(n=i.liveOffset,Number(n)||void 0),i.hlsDateRange=(r=i.hlsDateRange,Boolean(r)),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=Q(e=i.license)?e:void 0,i.licenseUrl=function(t){if(!t)return;try{return to(t)}catch(t){return void O.xf("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Qs||(Qs={})),function(t){t.Bv="",t.Lv="anonymous",t.Mv="use-credentials"}(Zs||(Zs={})),function(t){t.xv="application/dash+xml",t.Fv="application/vnd.apple.mpegurl",t.Uv="application/x-mpegurl",t.Pv="video/mp4",t.qv="application/vnd.theoplayer.hesp+json"}(tc||(tc={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(nc||(nc={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(rc||(rc={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ec||(ec={}));var mc={jv:0,Vv:NaN,Hv:!1,Oo:void 0,Wv:void 0,zv:!1,Xv:!0,Gv:1,ih:Cs._h,Yv:!1,Kv:0,$v:0,Jv:1};function kc(t){return{jv:t.jv,Vv:t.Vv,Hv:t.Hv,Oo:t.Oo,Wv:t.Wv,zv:t.zv,Xv:t.Xv,Gv:t.Gv,ih:t.ih,Yv:t.Yv,Kv:t.Kv,$v:t.$v,Jv:t.Jv}}function bc(t,n,r){if(n!==r){var e=n.jv,i=n.Vv,u=n.zv,o=n.Xv,s=n.Gv,c=n.ih,f=n.Yv,a=(n.$v,n.Kv,n.Jv),h=r.jv,v=r.Vv,d=r.Hv,l=r.Wv,w=r.zv,y=r.Xv,_=r.Gv,p=r.ih,m=r.Yv,k=(r.$v,r.Kv,r.Jv);c!==Cs._h&&t.wo(new zs(h,p)),y&&!o?t.wo(new Xs(h)):!y&&o&&t.wo(new Ws(h)),p>=Cs.ph&&t.wo(new Hs(h,p)),v===i||g(v)&&g(i)||t.wo(new Vs(v)),_!==s&&t.wo(new js(h,_)),h!==e&&t.wo(new qs(h,void 0)),d&&t.wo(new Us(h)),p>=Cs.mh&&t.wo(new Ms(h,p)),m&&!f?t.wo(new Ls(h)):!m&&f&&t.wo(new Bs(h)),k===a&&w===u||t.wo(new Fs(h,k)),p>=Cs.kh&&t.wo(new Ps(h,p)),p>=Cs.bh&&t.wo(new As(h,p)),p!==c&&t.wo(new Os(h,p)),l&&t.wo(new Js(l))}}function Tc(t){switch(t){case $s.INLINE:case $s.FULLSCREEN:case $s.PICTURE_IN_PICTURE:return t;default:return}}var Ec=function(t){function n(){return t.call(this,Ds.xh)||this}return gt(n,t),n}(qn),Sc=function(t){function n(n){var r;return(r=t.call(this,Ds.Nh)||this).currentSource=n,r}return gt(n,t),n}(qn),Rc=function(){function t(){}return t.Qv=function(n,r){var e=t.Zv(n,r);return e?t.td(e):0},t.nd=function(){return O.zf||"default"},t.rd=function(){return O.Xf||"unknown"},t.Zv=function(n,r){var e,i=null===(e=O.Vf)||void 0===e?void 0:e.Mo(r),u=i&&JSON.parse(i);if(u&&u[n])return t.ed(u,n,r)},t.td=function(t){var n=t.availableBandwidth;return n||0},t.ed=function(n,r,e){if(!t.ud(n,r))return n[r];t.od(n,r,e)},t.od=function(t,n,r){var e;delete t[n],null===(e=O.Vf)||void 0===e||e.Rf(r,JSON.stringify(t))},t.ud=function(t,n){var r=t[n].storedTimestamp;if(!r)return!1;var e=new Date(r),i=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=i},t.sd=function(t,n,r,e){var i;return Ft(Ft({},t),((i={})[n]={availableBandwidth:r,storedTimestamp:e},i))},t.fd=function(n){var r=t.nd();t.hd(r,"theoplayer-stored-network-info",n,wt())},t.hd=function(n,r,e,i){var u,o,s=null===(u=O.Vf)||void 0===u?void 0:u.Mo(r),c=s?JSON.parse(s):void 0,f=t.sd(c,n,e,i);null===(o=O.Vf)||void 0===o||o.Rf(r,JSON.stringify(f))},t.vd=function(){var n=t.nd();return t.Qv(n,"theoplayer-stored-network-info")},t}();var Ic,Cc=function(t){function n(n){var r;return(r=t.call(this)||this).dd=[],r.ld=!1,r.wd=new _s,r.yd=new _s,r.gd=new Ss,r._d=!1,r.pd(n),n.ah(r.lo),r.Ba=n,r.wd.ja=n.md,r.yd.ja=n.kd,r.gd.ja=n.bd,r}gt(n,t);var r=n.prototype;return r.re=function(){this.Ba.re()},r.ee=function(){this.Ba.ee()},r.Td=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Pn(this.dd.map(function(t){return t.Td()})).then(rt));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ed=function(){return this.Ba.Ed()},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),t.next=3,this.Ba.Sd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Rd=function(){return this.ja.Rd()},r.Id=function(){this.ja.Id()},r.Cd=function(){this.ja.Cd()},r.fe=function(){if(!this.ld){for(var t=0,n=this.dd;t<n.length;t++){n[t].fe()}this.ld=!0}},r.Nd=function(t){this.Ba.Nd(t)},r.Od=function(){this.Ba.Od()},r.Dd=function(){this.Ba.Dd()},r.Ad=function(){this.Ba.Ad()},r.Pd=function(){return this.Ba.Pd()},r.xd=function(){return this.Ba.xd()},r.Fd=function(){for(var t=[],n=0,r=this.dd;n<r.length;n++){var e=r[n];t.push.apply(t,e.Fd())}return t},r.Bd=function(t){for(var n=!1,r=0,e=this.dd;r<e.length;r++){n=e[r].Bd(t)||n}return n},r.wo=function(n){this.Bd(n)||t.prototype.wo.call(this,n)},r.pd=function(t){this.dd.push(t)},r.Ld=function(t){gn(this.dd,t)},r.Md=function(t){if(t!==this.Ba){var n=this.Ba;n.Od(),n.hh(this.lo);var r=kc(this),e=this.Ud,i=this.xd();this.Ba=t,this.wd.ja=t.md,this.yd.ja=t.kd,this.gd.ja=t.bd,bc(this,r,this);var u=this.Ud;u!==e&&this.wo(new Sc(u)),this.xd()!==i&&this.wo(new Ec),t.ah(this.lo),t.Nd(n)}},r.qd=function(){},r.oe=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.mo(),this.Ba.Od(),n=0,r=this.dd;case 3:if(!(n<r.length)){t.next=10;break}return e=r[n],t.next=7,e.oe();case 7:n++,t.next=3;break;case 10:this.wd.oe(),this.yd.oe(),this.gd.oe();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Pa=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Pn(this.dd.map(function(t){return t.Pa()})).then(rt));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"md",get:function(){return this.wd}},{key:"bd",get:function(){return this.gd}},{key:"kd",get:function(){return this.yd}},{key:"jd",get:function(){return this.Ba.jd}},{key:"Vd",get:function(){return this.Ba.Vd},set:function(t){this.Ba.Vd=t}},{key:"Ud",get:function(){return this.Ba.Ud}},{key:"jv",get:function(){return this.Ba.jv},set:function(t){this.Ba.jv=t}},{key:"Vv",get:function(){return this.Ba.Vv}},{key:"Hd",get:function(){return this.Ba.Hd}},{key:"Hv",get:function(){return this.Ba.Hv}},{key:"Oo",get:function(){return this.Ba.Oo}},{key:"Wv",get:function(){return this.Ba.Wv}},{key:"Wd",get:function(){return this.ja.Wd}},{key:"zd",get:function(){return this.Ba.zd}},{key:"Xd",get:function(){return function(t){for(var n=0,r=0,e=0,i=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.Gd,r+=c.Yd,e+=c.Kd,i+=c.$d,u+=c.Jd,o.amountOfBufferedAudioSegments+=c.Qd.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.Qd.amountOfBufferedVideoSegments}return{Gd:n,Yd:r,Kd:e,$d:i,Jd:u,Qd:o}}(this.dd.map(function(t){return t.Xd}))}},{key:"zv",get:function(){return this.Ba.zv},set:function(t){this.Ba.zv=t}},{key:"Zd",get:function(){return this.Ba.Zd}},{key:"Xv",get:function(){return this.Ba.Xv}},{key:"Gv",get:function(){return this.Ba.Gv},set:function(t){this.Ba.Gv=t}},{key:"tl",get:function(){return this.Ba.tl}},{key:"nl",get:function(){return this.Ba.nl},set:function(t){this.Ba.nl=t}},{key:"ih",get:function(){return this.Ba.ih}},{key:"il",get:function(){return this.Ba.il}},{key:"Yv",get:function(){return this.Ba.Yv}},{key:"Kv",get:function(){return this.Ba.Kv}},{key:"$v",get:function(){return this.Ba.$v}},{key:"Jv",get:function(){return this.Ba.Jv},set:function(t){this.Ba.Jv=t}},{key:"ja",get:function(){return this.Ba},set:function(t){this.Md(t)}}]),n}(Is),Nc=function(t){function n(n,r,e,i,u,o,s,c){var f;return(f=t.call(this,n,r,e)||this).url=i,f.status=u,f.statusText=o,f.response=s,f.systemCode=c,f}return gt(n,t),x(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Fe);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Ic||(Ic={}));var Oc=function(t){function n(n,r,e,i){var u;return(u=t.call(this,r)||this).code=n,u.message=null!=r?r:"Unknown error",u.cause=e,u.systemCode=i,h.captureStackTrace&&h.captureStackTrace(pt(u),u.constructor),u}return gt(n,t),x(n,[{key:"name",get:function(){return"MediaError"}}]),n}(mt);function Dc(t){Zo(t,"MEDIA_ERR_ABORTED",Ic.ABORTED),Zo(t,"MEDIA_ERR_NETWORK",Ic.NETWORK),Zo(t,"MEDIA_ERR_DECODE",Ic.DECODE),Zo(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Ic.SRC_NOT_SUPPORTED),Zo(t,"MEDIA_ERR_ENCRYPTED",Ic.ENCRYPTED)}function Ac(t){var r,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Oc(Ic.ENCRYPTED,t.message,null===(r=t.cause)||void 0===r?void 0:r.message,t.systemCode):new Oc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Ic.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Ic.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Ic.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Ic.SRC_NOT_SUPPORTED;var r=n.ErrorCategory.fromCode(t);if(r===n.ErrorCategory.NETWORK)return Ic.NETWORK;if(r===n.ErrorCategory.SOURCE)return Ic.SRC_NOT_SUPPORTED;if(r===n.ErrorCategory.LICENSE)return Ic.LICENSE_INVALID;if(r===n.ErrorCategory.CONTENT_PROTECTION)return Ic.ENCRYPTED;if(r===n.ErrorCategory.AD)return Ic.ADVERTISEMENT_ERROR;return Ic.DECODE}(t.code),t.message,null===(e=t.cause)||void 0===e?void 0:e.message)}function Pc(t,n){var r={};for(var e in t)d.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(r[e]=t[e]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var i=0;for(e=d.getOwnPropertySymbols(t);i<e.length;i++)n.indexOf(e[i])<0&&d.prototype.propertyIsEnumerable.call(t,e[i])&&(r[e[i]]=t[e[i]])}return r}Dc(Oc),Dc(Oc.prototype);var xc,Fc="titanium",Bc="conax",Lc="ezdrm",Mc="irdeto",Uc="vudrm",qc="verimatrix",jc="keyos",Vc="drmtoday",Hc="expressplay",Wc="azure",zc="xstream",Xc="vimond",Gc="axinom",Yc="uplynk",Kc="comcast",$c="custom";function Jc(t){return G(t.token&&t.deviceId)}function Qc(t){var n,r=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==r&&G(r.PreAuthorization)}function Zc(t){var n=t;return Jc(n)&&""!==n.token&&""!==n.deviceId&&!Qc(n)}!function(t){t.ul=!1,t.ol=!1,t.sl=!1,t.cl=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.fl=!1}(xc||(xc={}));var tf,nf=function(){function t(t,n,r){this.al=t,this.us=n,this.hl=r}return t.prototype.vl=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var r=t.onCertificateResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var i=t.onLicenseResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.hl.build(t))},x(t,[{key:"dl",get:function(){return this.al}},{key:"Bs",get:function(){return this.us}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(tf||(tf={}));var rf,ef,uf,of,sf=function(){function t(){this.ll=[]}var r=t.prototype;return r.registerContentProtectionIntegration=function(t,r,e){switch(this.wl(t,r,e)){case tf.FAILED:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+r+".");case tf.OVERRIDDEN:var i=Ff(r);O.xf("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case tf.SUCCEEDED:Ff(r);0}},r.wl=function(t,n,r){var e=Ff(n);if(!e)return tf.FAILED;for(var i=tf.SUCCEEDED,u=0,o=this.ll.slice();u<o.length;u++){var s=o[u];s.dl===t&&s.Bs===e&&(i=tf.OVERRIDDEN,gn(this.ll,s))}return this.ll.push(new nf(t,e,r)),i},r.yl=function(t,n){return void 0!==this.gl(t,n)},r._l=function(t,n,r){var e=this.gl(t,n);if(!e)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.vl(r)},r.gl=function(t,n){for(var r=0,e=this.ll;r<e.length;r++){var i=e[r];if(i.dl===t&&(!n||i.Bs===n))return i}},t}();function cf(t,n,r){void 0===r&&(r=!1);var e=Hr(t,n,r),i=Hr(t,n,r),u=r?i:e,o=r?e:i;return xr.fromBits(o,u,!0)}sf.pl=new sf,function(t){t.ml="moov",t.kl="mvhd",t.bl="trak",t.Tl="tkhd",t.El="mdia",t.Sl="mdhd",t.Rl="hdlr",t.Il="minf",t.Cl="stbl",t.Nl="stsd",t.Ol="mvex",t.Dl="trex",t.Al="avc1",t.Pl="avcC",t.xl="hev1",t.Fl="hvc1",t.Bl="hvcC",t.Ll="pasp",t.Ml="mp4a",t.Ul="esds",t.ql="wvtt",t.jl="vttC",t.Vl="vlab",t.Hl="moof",t.Wl="mfhd",t.zl="traf",t.Xl="tfhd",t.Gl="trun",t.Yl="tfdt",t.Kl="mdat",t.$l="pssh",t.Jl="emsg",t.Ql="sidx"}(rf||(rf={})),function(t){t.Zl="vide",t.tw="soun",t.nw="hint",t.rw="meta",t.ew="auxv"}(ef||(ef={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(uf||(uf={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(of||(of={}));var ff,af=function(){function t(t,n){this.mu=t,this.iw=n}var n=t.prototype;return n.uw=function(){return Lr(this.mu,this.iw)},n.ow=function(){return jr(this.mu,this.iw)},n.sw=function(){return function(t,n,r){void 0===r&&(r=!1);var e=t.getInt16(n.Go,r);return n.Wo(2),e}(this.mu,this.iw)},n.cw=function(){return Hr(this.mu,this.iw)},n.fw=function(){return function(t,n,r){void 0===r&&(r=!1);var e=t.getInt32(n.Go,r);return n.Wo(4),e}(this.mu,this.iw)},n.aw=function(){return cf(this.mu,this.iw)},n.hw=function(t){return Ur(this.mu,this.iw,t)},n.vw=function(t){return function(t,n,r){for(var e=[],i=0;i<r;i++)e.push(Hr(t,n));return e}(this.mu,this.iw,t)},n.dw=function(t){return Gr(this.mu,this.iw,t)},n.lw=function(){return t=this.mu,n=this.iw,re(t,n,!0);var t,n},n.ww=function(t){this.iw.Wo(t)},t}(),hf=function(t){function n(n,r){var e;return(e=t.call(this)||this).yw=n,e.gw=r,e}return gt(n,t),n}(kt),vf=function(){function t(){}return t._w=function(n,r){void 0===r&&(r=!1);var e=[],i=n.mu,u=n.iw;try{for(;u.Go<i.byteLength;){var o=t.pw(i,u);e.push(o)}}catch(t){if(!(t instanceof hf))throw t;if(r)throw new hf(t.yw,e)}return e},t.pw=function(t,n){var r=n.Go;if(!qr(t,n,4))throw new hf(r);var e=Hr(t,n);if(!qr(t,n,4))throw new hf(r);var i,u=Gr(t,n,4),o=0;if(1===e){if(!qr(t,n,8))throw new hf(r);o=cf(t,n).toNumber()}if("uuid"===u){if(!qr(t,n,16))throw new hf(r);u=Gr(t,n,16)}switch(e){case 0:i=t.byteLength-r;break;case 1:i=o;break;default:i=e}var s=n.Go,c=r+i;if(c>t.byteLength)throw new hf(r);var f,a,h,v={xu:u,Go:r,mu:new af((f=t,a=r,h=c,void 0===a&&(a=0),void 0===h&&(h=f.byteLength),new DataView(f.buffer,f.byteOffset+a,h-a)),new ae(s-r))};return n.zo(c),v},t.mw=function(t,n,r){var e=t.mu,i=t.iw,u=ie(oe(e),i.Go,e.byteLength);return r&&(u=fe(u)),i.Wo(u.byteLength),{xu:n,mu:u}},t.kw=function(n,r,e){var i=yf(n.cw());return{xu:r,bw:i.version,Tw:i.flags,mu:t.mw(n,r,e).mu}},t}();function df(t,n){var r=lf(t,n);if(!r)throw new h("Missing "+n+" atom");return r}function lf(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.xu===n)return e.mu}}function wf(t,n){for(var r=[],e=0;e<t.length;e++){var i=t[e];i.xu===n&&r.push(i.mu)}return r}function yf(t){return{version:t>>24,flags:new Br(16777215&t)}}var gf=function(){function t(){}return t.Ew=function(n){return Boolean(t.Sw[n])},t.Rw=function(n){for(var r=[],e=vf._w(new af(n,new ae)),i=0;i<e.length;i++){var u=e[i];t.Ew(u.xu)&&r.push(t.Sw[u.xu](u.Go,u.mu))}return r},t.Iw=function(t){var n=new af(t,new ae);return vf._w(n).some(function(t){return t.xu===rf.Hl})},t.Cw=function(n){return wf(vf._w(new af(n,new ae)),rf.$l).map(t.Nw)},t.Ow=function(n,r){var e=vf._w(r),i=df(e,rf.kl),u=wf(e,rf.bl),o=lf(e,rf.Ol),s=t.Dw(i),c=u.map(t.Aw),f=o?t.Pw(o):void 0;return{xu:rf.ml,xw:s,Fw:c,Bw:f}},t.Dw=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=1===r?t.aw():t.cw(),u=1===r?t.aw():t.cw(),o=t.cw(),s=1===r?t.aw():t.cw(),c=t.cw(),f=t.ow()>>8;t.ww(2),t.ww(8);var a=t.vw(9);t.ww(24);var h=t.cw();return{xu:rf.kl,bw:r,Tw:e,Lw:i,Mw:u,Hc:o,Vv:s,Uw:c,Jv:f,qw:a,jw:h}},t.Aw=function(n){var r=vf._w(n),e=df(r,rf.Tl),i=df(r,rf.El),u=t.Vw(e),o=t.Hw(i);return{xu:rf.bl,xw:u,Ww:o}},t.Vw=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=1===r?t.aw():t.cw(),u=1===r?t.aw():t.cw(),o=t.cw();t.ww(4);var s=1===r?t.aw():t.cw();t.ww(8);var c=t.sw(),f=t.sw(),a=t.sw()/l.pow(2,8);t.ww(2);var h=t.vw(9),v=t.cw()/l.pow(2,16),d=t.cw()/l.pow(2,16);return{xu:rf.Tl,zw:e.$o(1),Xw:e.$o(2),Gw:e.$o(4),Lw:i,Mw:u,Yw:o,Vv:s,Kw:c,$w:f,Jv:a,qw:h,Tf:v,Jw:d}},t.Hw=function(n){var r=vf._w(n),e=df(r,rf.Sl),i=df(r,rf.Rl),u=df(r,rf.Il),o=t.Qw(e),s=t.Zw(i),c=t.ty(u,s.ny);return{xu:rf.El,xw:o,ey:s,iy:c}},t.Qw=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=1===r?t.aw():t.cw(),u=1===r?t.aw():t.cw(),o=t.cw(),s=1===r?t.aw():t.cw();t.ow();return t.ww(2),{xu:rf.Sl,bw:r,Tw:e,Lw:i,Mw:u,Hc:o,Vv:s}},t.Zw=function(t){var n=yf(t.cw()),r=n.version,e=n.flags;t.ww(4);var i=t.dw(4);t.ww(12);var u=t.lw();return{xu:rf.Rl,bw:r,Tw:e,ny:i,Zi:u}},t.ty=function(n,r){var e=df(vf._w(n),rf.Cl),i=t.uy(e,r);return{xu:rf.Il,oy:i}},t.uy=function(n,r){var e=df(vf._w(n),rf.Nl),i=t.sy(e,r);return{xu:rf.Cl,ay:i}},t.sy=function(n,r){for(var e=yf(n.cw()),i=e.version,u=e.flags,o=(n.cw(),[]),s=vf._w(n),c=0;c<s.length;c++){var f=s[c];f.xu===rf.Al?o.push(t.hy(f.mu)):f.xu===rf.xl||f.xu===rf.Fl?o.push(t.vy(f.mu,f.xu)):f.xu===rf.Ml?o.push(t.ly(f.mu)):f.xu===rf.ql&&o.push(t.wy(f.mu))}return{xu:rf.Nl,bw:i,Tw:u,yy:o}},t.gy=function(t,n){return t.ww(6),{xu:n,_y:t.ow()}},t.py=function(n,r){var e=t.gy(n,r);n.ww(8);var i=n.ow(),u=n.ow();n.ww(2),n.ww(2);var o=n.cw()>>>16;return Ft(Ft({},e),{my:i,ky:u,by:o})},t.Ty=function(n,r){var e=t.gy(n,r);n.ww(2),n.ww(2),n.ww(12);var i=n.ow(),u=n.ow(),o=n.cw(),s=n.cw();n.ww(4);var c=n.ow();n.ww(32);var f=n.ow();return n.ww(2),Ft(Ft({},e),{Tf:i,Jw:u,Ey:o,Sy:s,Ry:c,Iy:f})},t.ly=function(n){var r=t.py(n,rf.Ml),e=df(vf._w(n),rf.Ul),i=t.Cy(e);return Ft(Ft({},r),{Ny:i})},t.wy=function(n){var r=t.gy(n,rf.ql),e=vf._w(n),i=df(e,rf.jl),u=t.Oy(i),o=lf(e,rf.Vl),s=o?t.Dy(o):o;return Ft(Ft({},r),{Ay:u,Py:s})},t.Oy=function(t){return{xu:rf.jl,xy:t.lw()}},t.Dy=function(t){return{xu:rf.Vl,Ya:t.lw()}},t.Cy=function(t){return vf.kw(t,rf.Ul,!0)},t.hy=function(n){var r=t.Ty(n,rf.Al),e=vf._w(n),i=df(e,rf.Pl),u=lf(e,rf.Ll),o=t.Fy(i),s=u?t.By(u):void 0;return Ft(Ft({},r),{Ly:o,My:s})},t.vy=function(n,r){var e=t.Ty(n,r),i=df(vf._w(n),rf.Bl),u=t.Uy(i);return Ft(Ft({},e),{qy:u})},t.Fy=function(t){return vf.mw(t,rf.Pl,!0)},t.Uy=function(t){return vf.mw(t,rf.Bl,!0)},t.By=function(t){var n=t.cw(),r=t.cw();return{xu:rf.Ll,jy:n,Vy:r}},t.Pw=function(n){var r=wf(vf._w(n),rf.Dl).map(t.Hy);return{xu:rf.Ol,Fw:r}},t.Hy=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=t.cw(),u=t.cw(),o=t.cw(),s=t.cw(),c=t.cw();return{xu:rf.Dl,bw:r,Tw:e,Yw:i,Wy:u,zy:o,Xy:s,Gy:c}},t.Yy=function(n,r){var e=vf._w(r),i=df(e,rf.Wl),u=wf(e,rf.zl),o=t.Ky(i),s=u.map(t.$y);return{xu:rf.Hl,Jy:n,xw:o,Fw:s}},t.Ky=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=t.cw();return{xu:rf.Wl,bw:r,Tw:e,Qy:i}},t.$y=function(n){var r=vf._w(n),e=df(r,rf.Xl),i=wf(r,rf.Gl),u=lf(r,rf.Yl),o=t.Zy(e),s=i.map(function(n){return t.tg(n,o)}),c=u?t.ng(u):void 0;return{xu:rf.zl,xw:o,rg:s,eg:c}},t.Zy=function(t){var n=yf(t.cw()),r=n.version,e=n.flags,i=t.cw(),u=e.$o(uf.BASE_DATA_OFFSET_PRESENT)?t.cw():void 0,o=e.$o(uf.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.cw():void 0,s=e.$o(uf.DEFAULT_SAMPLE_DURATION_PRESENT)?t.cw():void 0,c=e.$o(uf.DEFAULT_SAMPLE_SIZE_PRESENT)?t.cw():void 0,f=e.$o(uf.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.cw():void 0;return{xu:rf.Xl,bw:r,Tw:e,Yw:i,ig:u,ug:o,zy:s,Xy:c,Gy:f}},t.tg=function(n,r){for(var e=yf(n.cw()),i=e.version,u=e.flags,o=n.cw(),s=u.$o(of.DATA_OFFSET_PRESENT)?n.fw():void 0,c=u.$o(of.FIRST_SAMPLE_FLAGS_PRESENT)?n.cw():void 0,f=[],a=0;a<o;a++){var h=t.og(n,u,i,r);0===a&&void 0!==c&&(h.Tw=c),f.push(h)}return{xu:rf.Gl,bw:i,Tw:u,sg:o,Jy:s,cg:c,fg:f}},t.og=function(t,n,r,e){return{Vv:n.$o(of.SAMPLE_DURATION_PRESENT)?t.cw():e.zy,Vo:n.$o(of.SAMPLE_SIZE_PRESENT)?t.cw():e.Xy,Tw:n.$o(of.SAMPLE_FLAGS_PRESENT)?t.cw():e.Gy,ag:n.$o(of.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===r?t.cw():t.fw():void 0}},t.hg=function(t,n){var r,e,i,u=n.mu,o=n.iw,s=yf(Hr(u,o)),c=s.version,f=s.flags,a=Xr(u,o),h=Xr(u,o),v=Hr(u,o),d=Hr(u,o),l=Hr(u,o),w=Hr(u,o),y=(r=oe(u),e=o.Go,i=u.byteLength,void 0===e&&(e=0),void 0===i&&(i=r.byteLength),r.slice?r.slice(e,i):fe(ie(r,e,i)));return o.Wo(y.byteLength),{xu:rf.Jl,bw:c,Tw:f,vg:a,ru:h,Hc:v,dg:d,lg:l,za:w,wg:y}},t.yg=function(t,n){return vf.mw(n,rf.Kl,!1)},t.Nw=function(n){var r=n.mu,e=n.iw,i=fe(oe(r)).buffer,u=yf(Hr(r,e)),o=u.version,s=u.flags,c=t.gg(r,e);if(o>0)for(var f=Hr(r,e),a=[],h=0;h<f;h++){for(var v="",d=0;d<16;d++){var l=Lr(r,e).toString(16);v+=1===l.length?"0"+l:l}a.push(v)}var w=Hr(r,e),y=new _(i,e.Go,w);return e.Wo(r.byteLength),{xu:rf.$l,bw:o,Tw:s,_g:c,pg:[],mg:w,mu:y,kg:i}},t.gg=function(t,n){for(var r="",e=0;e<4;e++){var i=Lr(t,n).toString(16);r+=1===i.length?"0"+i:i}r+="-";for(var u=0;u<2;u++){var o=Lr(t,n).toString(16);r+=1===o.length?"0"+o:o}r+="-";for(var s=0;s<2;s++){var c=Lr(t,n).toString(16);r+=1===c.length?"0"+c:c}r+="-";for(var f=0;f<2;f++){var a=Lr(t,n).toString(16);r+=1===a.length?"0"+a:a}r+="-";for(var h=0;h<6;h++){var v=Lr(t,n).toString(16);r+=1===v.length?"0"+v:v}return r.toLowerCase()},t.bg=function(t,n){var r,e,i=n.mu,u=n.iw,o=yf(Hr(i,u)),s=o.version,c=o.flags,f=Hr(i,u),a=Hr(i,u);0===s?(r=xr.fromBits(Hr(i,u),0,!0),e=xr.fromBits(Hr(i,u),0,!0)):(r=cf(i,u),e=cf(i,u)),u.Wo(2);for(var h=jr(i,u),v=[],d=0;d<h;d+=1){var l=Hr(i,u),w=l>>31&1,y=2147483647&l,g=Hr(i,u),_=Hr(i,u),p=_>>31&1,m=_>>28&7,k=268435455&_;v.push({Tg:w,Eg:y,Vv:g,Sg:p,Rg:m,Ig:k})}return{xu:rf.Ql,bw:s,Tw:c,Cg:f,Hc:a,Ng:r,Og:e,Dg:h,Ag:v}},t.ng=function(t){var n,r=t.mu,e=t.iw,i=yf(Hr(r,e)),u=i.version,o=i.flags;return n=0===u?xr.fromBits(Hr(r,e),0,!0):cf(r,e),{xu:rf.Yl,bw:u,Tw:o,eg:n}},t}();gf.Sw=((ff={})[rf.ml]=gf.Ow,ff[rf.Hl]=gf.Yy,ff[rf.Kl]=gf.yg,ff[rf.Ql]=gf.bg,ff[rf.Jl]=gf.hg,ff);var _f={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function pf(t){if(!t)return!0;var n=t.licenseAcquisitionURL,r=t.certificateURL,e=t.keys,i=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,f=t.licenseRequestProcessor,a=t.licenseResponseProcessor;return!(n||r||e||i||u||o||s||c||f||a)}function mf(t){return t&&void 0!==t.licenseAcquisitionURL}var kf,bf=mf,Tf=mf;function Ef(t){if(!t)return!0;if(Cf(t))return!1;var n=t.fairplay,r=t.playready,e=t.widevine,i=t.clearkey,u=t.aes128;return pf(n)&&pf(r)&&pf(e)&&pf(i)&&pf(u)}function Sf(t){var n=Zc(t),r=function(t){var n,r=t;return Qc(r)&&""!==(null===(n=r.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Jc(r)}(t);return(!n||!r)&&(n||r)}function Rf(t){return t.integration===Mc}function If(t){var n=t;if(!n)return!1;if(Ef(n))return!1;var r=n.fairplay,e=n.playready,i=n.widevine,u=n.clearkey;if(Cf(t))return!0;if(r&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(r))return!1;if(e&&!bf(e))return!1;if(i&&!Tf(i))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(sf.pl.yl(n.integration))return!0;switch(n.integration){case Fc:if(!function(t){return t.integration===Fc&&(Nf(t)||Of(t))}(t))return!1;break;case Uc:if(!Df(t))return!1;break;case qc:if(!function(t){return t.integration===qc}(t))return!1;break;case Mc:if(!Rf(t))return!1;break;case Bc:if(!Sf(t))return!1;break;case Lc:if(!function(t){return t.integration===Lc}(t))return!1;break;case jc:if(!Cf(t))return!1;break;case Vc:if(!function(t){var n=t;return n.integration===Vc&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Hc:if(!function(t){return t.integration===Hc}(t))return!1;break;case zc:if(!Af(t))return!1;break;case Xc:if(!function(t){return t.integration===Xc}(t))return!1;break;case Gc:if(!Pf(t))return!1;break;case Wc:if(!function(t){var n=t;return n.integration===Wc&&void 0!==n.token}(t))return!1;break;case Yc:if(!function(t){return t.integration===Yc}(t))return!1;break;case Kc:if(!function(t){var n=t;return n&&G(n.releasePid)&&G(n.accountId)&&G(n.token)}(t))return!1;break;case $c:return!0;default:return!1}}return!0}function Cf(t){return t.integration===jc}function Nf(t){return void 0!==t.authToken}function Of(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Df(t){var n=t;return n.integration===Uc&&void 0!==n.token}function Af(t){var n=t;return n&&n.integration===zc&&Q(n.ticketAcquisitionURL)&&Q(n.streamId)}function Pf(t){var n=t;return n.integration===Gc&&void 0!==n.token}function xf(t,n){var r,e,i,u=n[t],o=null!==(r=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==r?r:_f[t],s=null!==(e=null==u?void 0:u.customdata)&&void 0!==e?e:n.customdata,c=s?{customData:s}:{},f=Ft(Ft({},null!==(i=null==u?void 0:u.headers)&&void 0!==i?i:{}),c),a=null!=u?u:{};a.customdata;return Ft(Ft({},Pc(a,["customdata"])),{licenseAcquisitionURL:o,headers:f})}function Ff(t){switch(t.toLowerCase()){case"widevine":case $t:return $t;case"playready":case Gt:return Gt;case"fairplay":case Qt:return Qt}}function Bf(t,r){switch(t){case Wt:return function(t){for(var n={},r=gf.Cw(new DataView(t)),e=0;e<r.length;e++){var i=r[e];n[i._g]=i.kg}return n}(r);case zt:case Xt:return function(t){var n;return(n={})[Jt]=t,n}(r);default:throw new Fe(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Lf(t){if(t&&$(t))return Ft(Ft({},t),{integration:Mf(t.integration),fairplay:zf(t.fairplay),widevine:Uf(t.widevine),playready:qf(t.playready),clearkey:Xf(t.clearkey),aes128:Gf(t.aes128),integrationParameters:Yf(t.integrationParameters),preferredKeySystems:Kf(t.preferredKeySystems)})}function Mf(t){if(Q(t))return t}function Uf(t){if(t&&$(t))return{persistentState:jf(t.persistentState),distinctiveIdentifier:jf(t.distinctiveIdentifier),audioRobustness:Vf(t.audioRobustness),videoRobustness:Vf(t.videoRobustness),licenseAcquisitionURL:Q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Hf(t.licenseType),headers:t.headers,useCredentials:!!Z(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Q(t.certificate)||se(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Wf(t.certificateRequestProcessor),certificateResponseProcessor:Wf(t.certificateResponseProcessor),licenseRequestProcessor:Wf(t.licenseRequestProcessor),licenseResponseProcessor:Wf(t.licenseResponseProcessor)}}function qf(t){if(t){var n=Uf(t);if(n){var r=Q(t.customData)?t.customData:void 0;return Ft(Ft({},n),{customData:r})}}}function jf(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function Vf(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Hf(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Wf(t){if("function"==typeof t)return t}function zf(t){if(t){var n=Uf(t);if(n){var r=Q(t.certificateURL)?t.certificateURL:void 0;return Ft(Ft({},n),{certificateURL:r})}}}function Xf(t){if(t){var n=Uf(t);if(n){var r=Y(t.keys)?t.keys.map(function(t){return function(t){if(!t||!$(t))return;var n=t.id,r=t.value;if(!Q(n)||!Q(r))return;return{id:n,value:r}}(t)}).filter(G):void 0;return Ft(Ft({},n),{keys:r})}}}function Gf(t){if($(t))return{useCredentials:Z(t.useCredentials)?t.useCredentials:void 0}}function Yf(t){if($(t))return t}function Kf(t){return t&&Y(t)?t.map(function(t){return Ff(t)}).filter(G):[$t,Gt,Qt]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(kf||(kf={}));var $f,Jf,Qf,Zf,ta,na,ra,ea,ia,ua=function(){function t(){this.Pg=[]}var n=t.prototype;return n.xg=function(t){var n=this.Fg.filter(function(n){return n.Bg(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.Lg=function(t){this.Pg.push(t)},x(t,[{key:"Fg",get:function(){return this.Pg}}]),t}();ua.ji=new ua,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}($f||($f={})),function(t){t.gh="PLAYING",t.Mg="PAUSED",t.Ug="SEEK",t.qg="STALLED",t.jg="FAILED",t.Vg="INITIAL_BUFFERING",t.Hg="NO_ACCESS"}(Jf||(Jf={})),function(t){t.Wg="HTTP_REQUEST_STATUS_CODE_1XX",t.zg="HTTP_REQUEST_STATUS_CODE_2XX",t.Xg="HTTP_REQUEST_STATUS_CODE_3XX",t.Gg="HTTP_REQUEST_STATUS_CODE_4XX",t.Yg="HTTP_REQUEST_STATUS_CODE_5XX",t.Kg="BUFFER_LENGTH",t.$g="BYTES_RECEIVED",t.Jg="SEGMENT_READ_BITRATE",t.Qg="SEGMENT_PROFILE_BITRATE",t.Zg="NUMBER_OF_FRAMES_DROPPED",t.t_="PLAYBACK_POSITION",t.n_="NUMBER_OF_FRAMES_DECODED",t.r_="PLAYBACK_DELTA_TO_ORIGIN",t.e_="STREAM_DELTA_TO_ORIGIN",t.i_="ORIGIN_TIMESTAMP"}(Qf||(Qf={})),function(t){t.u_="MANIFEST_URI",t.o_="ASSET_DURATION",t.s_="NUMBER_OF_CONTENT_PROFILES",t.c_="CDN",t.f_="CONTENT_TITLE",t.a_="SERVICE_NAME",t.h_="CONTENT_TYPE",t.v_="CONTENT_DESCRIPTION"}(Zf||(Zf={})),function(t){t.d_="shutdown_normal_shutdown"}(ta||(ta={})),function(t){t.l_="session/",t.w_="internalError/",t.y_="drmError/",t.g_="caError/",t.__="networkError/"}(na||(na={})),function(t){t.p_="userAction",t.m_="endOfStreamReached"}(ra||(ra={})),function(t){t.PAUSE="k_",t.RESUME="b_"}(ea||(ea={})),function(t){t.tw="audio",t.Zl="video",t.zi="text",t.T_="image",t.E_="unknown"}(ia||(ia={}));var oa,sa=function(t){function n(n,r){var e;return(e=t.call(this)||this).Fa=l.floor(n.length/2),e.S_=n,e.R_=r||function(t){for(var n=new Array(2*t),r=0,e=0;r<t;r+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Fa),e}gt(n,t);var r=n.prototype;return r.I_=function(t){return this.S_[2*t]},r.C_=function(t){return this.R_[2*t]},r.N_=function(t){return this.S_[2*t+1]},r.O_=function(t){return this.R_[2*t+1]},x(n,[{key:"D_",get:function(){return this.S_.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ef=function(t,n){return 0===this.rf(t,n)},n.A_=function(t,n){return this.rf(t,n)>0},n.P_=function(t,n){return this.rf(t,n)>=0},n.Zc=function(t,n){return this.rf(t,n)<0},n.Kc=function(t,n){return this.rf(t,n)<=0},n.Yc=function(t,n){return this.Zc(t,n)?t:n},n.Xc=function(t,n){return this.A_(t,n)?t:n},n.x_=function(t,n,r){return r?this.Kc(t,n):this.Zc(t,n)},n.F_=function(){var t=this;return{get length(){return t.Fa},start:function(n){var r=0|n;return t.B_(r),t.L_(t.I_(r))},end:function(n){var r=0|n;return t.B_(r),t.L_(t.N_(r))}}},n.M_=function(){for(var t=new Array(2*this.Fa),n=new Array(2*this.Fa),r=0;r<this.Fa;r++)t[2*r]=this.I_(r),t[2*r+1]=this.N_(r),n[2*r]=!0,n[2*r+1]=!0;return this.U_(t,n)},n.B_=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Fa)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Fa+")")},n.q_=function(t){if(0===this.Fa)return this.j_();if(this.V_(t))return t;if(this.Kc(t,this.I_(0)))return this.I_(0);if(this.P_(t,this.N_(this.Fa-1)))return this.N_(this.Fa-1);for(var n,r=this.H_(),e=0;e<this.Fa;e++){var i=this.I_(e),u=this.tf(i,t);this.Zc(u,r)&&(n=i,r=u);var o=this.N_(e),s=this.tf(this.N_(e),t);this.Zc(s,r)&&(n=o,r=s)}return n},n.W_=function(t){for(var n=0,r=0,e=[],i=[];n<this.Fa&&r<t.Fa;){var u=this.I_(n),o=this.N_(n),s=this.C_(n),c=this.O_(n),f=t.I_(r),a=t.N_(r),h=t.C_(r),v=t.O_(r),d=this.Xc(u,f),l=this.Yc(o,a),w=void 0;w=this.ef(u,f)?s||h:this.ef(d,u)?s:h;var y=void 0;y=this.ef(o,a)?c||v:this.ef(l,o)?c:v,(this.Zc(d,l)||w&&y&&this.ef(d,l))&&(e.push(d,l),i.push(w,y));var g=this.rf(this.N_(n),t.N_(r));0===g?(n+=1,r+=1):g<0?n+=1:r+=1}return this.U_(e,i)},n.z_=function(){var t=this.X_(),n=t.Fa;if(0===n)return this.U_([t.G_(),t.H_()],[!1,!1]);var r=[],e=[],i=t.I_(0);t.ef(i,t.G_())||(r.push(t.G_(),i),e.push(!1,!t.C_(0)));for(var u=0;u<n-1;u++)r.push(t.N_(u),t.I_(u+1)),e.push(!t.O_(u),!t.C_(u+1));var o=t.N_(n-1);return t.ef(o,t.H_())||(r.push(o,t.H_()),e.push(!t.O_(n-1),!1)),t.U_(r,e)},n.Y_=function(t){for(var n=0,r=0,e=this.Fa,i=t.Fa,u=new Array(2*(e+i)),o=new Array(2*(e+i)),s=0;n<e&&r<i;){var c=this.I_(n),f=this.N_(n),a=t.I_(r),h=t.N_(r);this.Zc(c,a)||this.ef(c,a)&&this.Zc(f,h)?(u[s]=c,u[s+1]=f,o[s]=this.C_(n),o[s+1]=this.O_(n),n++):(u[s]=a,u[s+1]=h,o[s]=t.C_(r),o[s+1]=t.O_(r),r++),s+=2}for(;n<e;)u[s]=this.I_(n),u[s+1]=this.N_(n),o[s]=this.C_(n),o[s+1]=this.O_(n),n++,s+=2;for(;r<i;)u[s]=t.I_(r),u[s+1]=t.N_(r),o[s]=t.C_(r),o[s+1]=t.O_(r),r++,s+=2;return this.U_(u,o)},n.K_=function(t){void 0===t&&(t=this.j_());var n=this.Fa;if(n<2)return this;for(var r=[],e=[],i=this.I_(0),u=this.N_(0),o=this.C_(0),s=this.O_(0),c=1;c<n;c++){var f=this.I_(c),a=this.N_(c),h=this.C_(c),v=this.O_(c);this.Zc(i,f)&&this.A_(u,a)||(this.ef(i,f)&&(o=h=o||h),this.ef(u,a)&&(s=v=s||v),this.x_(f,this.$c(u,t),s||h)?(u=a,s=v):(r.push(i,u),e.push(o,s),i=f,u=a,o=h,s=v))}return r.push(i,u),e.push(o,s),this.U_(r,e).X_()},n.X_=function(){for(var t=[],n=[],r=0;r<this.Fa;r++){var e=this.I_(r),i=this.N_(r),u=this.C_(r),o=this.O_(r);this.ef(e,i)?(u||o)&&(t.push(e,i),n.push(!0,!0)):(t.push(e,i),n.push(u,o))}return this.U_(t,n)},n.J_=function(t){return this.Fa?t.Fa?this.Y_(t).K_():this:t},n.Q_=function(t){var n=this.X_(),r=t.X_(),e=n.z_(),i=r.z_(),u=e.W_(r),o=i.W_(n);return u.J_(o)},n.Wo=function(t){for(var n=[],r=[],e=0;e<this.Fa;e++){var i=this.$c(this.I_(e),t),u=this.$c(this.N_(e),t);n.push(i,u),r.push(this.C_(e),this.O_(e))}return this.U_(n,r)},n.Z_=function(t){return this.X_().W_(t.X_().z_())},n.V_=function(t,n){return this.tp(t,n)>=0},n.np=function(t,n,r,e,i){return this.rp(t,n,r,e,i)>=0},n.ep=function(t,n,r,e,i){return this.ip(t,n,r,e,i)>=0},n.op=function(t){if(t.Fa!==this.Fa)return!1;for(var n=0;n<this.Fa;n++)if(!this.ef(this.I_(n),t.I_(n))||!this.ef(this.N_(n),t.N_(n))||this.C_(n)!==t.C_(n)||this.O_(n)!==t.O_(n))return!1;return!0},n.sp=function(t){for(var n=[],r=[],e=0;e<this.Fa;e++)t(this.I_(e),this.N_(e))&&(n.push(this.I_(e),this.N_(e)),r.push(this.C_(e),this.O_(e)));return this.U_(n,r)},n.ip=function(t,n,r,e,i){void 0===r&&(r=!0),void 0===e&&(e=!0),void 0===i&&(i=this.j_());for(var u=this.if(t,i),o=this.$c(n,i),s=0;s<this.Fa;s+=1)if(this.x_(this.I_(s),o,!e||this.C_(s))&&this.x_(u,this.N_(s),!r||this.O_(s)))return s;return-1},n.rp=function(t,n,r,e,i){void 0===r&&(r=!0),void 0===e&&(e=!1),void 0===i&&(i=this.j_());for(var u=this.$c(t,i),o=this.if(n,i),s=0;s<this.Fa;s+=1)if(this.x_(this.I_(s),u,!r||this.C_(s))&&this.x_(o,this.N_(s),!e||this.O_(s)))return s;return-1},n.tp=function(t,n){return this.rp(t,t,!0,!0,n)},n.cp=function(t,n){void 0===n&&(n=this.j_());for(var r=this.$c(t,n),e=this.Fa-1;e>=0;e-=1)if(this.x_(this.I_(e),r,this.C_(e)))return e;return-1},n.fp=function(t,n){void 0===n&&(n=this.j_());for(var r=this.if(t,n),e=0;e<this.Fa;e+=1)if(this.x_(r,this.N_(e),this.O_(e)))return e;return-1},n.ap=function(t){return this.B_(t),this.U_([this.I_(t),this.N_(t)],[this.C_(t),this.O_(t)])},n.hp=function(t,n){var r=this.tp(t,n);return r<0?void 0:this.ap(r)},x(t,[{key:"vp",get:function(){for(var t=this.j_(),n=0;n<this.Fa;n++){var r=this.if(this.N_(n),this.I_(n));t=this.$c(t,r)}return t}}]),t}()),ca=function(t){function n(n,r){return t.call(this,n,r)||this}gt(n,t);var r=n.prototype;return r.rf=function(t,n){return t<n?io.jc:t===n?io.Uc:io.qc},r.$c=function(t,n){return t+n},r.if=function(t,n){return t-n},r.tf=function(t,n){return l.abs(t-n)},r.j_=function(){return 0},r.H_=function(){return 1/0},r.G_=function(){return-1/0},n.dp=function(t){for(var r=[],e=0;e<t.length;e++)r.push(t.start(e),t.end(e));return new n(r)},n.lp=function(t){return new n([t,t],[!0,!0])},r.U_=function(t,r){return new n(t,r)},r.L_=function(t){return t},n.wp=function(){return fa},n}(sa),fa=new ca([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(oa||(oa={}));var aa,ha,va,da,la,wa,ya="agama";function ga(t){return function(t){switch(t){case aa.NONE:case aa.HORIZONTAL:case aa.VERTICAL:return!0;default:return!1}}(t)?t:aa.NONE}function _a(t){switch(t){case"":return aa.NONE;case"horizontal":return aa.HORIZONTAL;case"vertical":return aa.VERTICAL;default:throw new v}}function pa(t){if(!t||!Q(t))return ha.yp;switch(t){case"always":return ha.gp;case"never":return ha._p;default:return ha.yp}}function ma(t){if(!t||!Q(t))return va.yp;switch(t){case"playlist":return va.pp;case"media":return va.mp;default:return va.yp}}function ka(t){if(null!==t)return t}function ba(t){var n,r={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:ka(t.streamActivityMonitorID),adTagParameters:$(t.adTagParameters)?t.adTagParameters:{},authToken:ka(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,i=t.contentSourceID;return e?i?Ft(Ft({},r),{availabilityType:"vod",videoID:e,contentSourceID:i}):void O.xf("A VOD DAI configuration was provided without valid contentSourceID which is required."):void O.xf("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ft(Ft({},r),{availabilityType:"live",assetKey:u}):void O.xf("A Live DAI configuration was provided without valid assetKey which is required.")}O.xf("A DAI configuration was provided without a valid availabilityType which is required.")}function Ta(t){if(!If(t)||!t.integration)return t;switch(t.integration){case jc:return n=t,r=xf(Ht.Ou,n),e=xf(Ht.Nu,n),i=n[Ht.Du]&&xf(Ht.Du,n),Ft({integration:"keyos",widevine:r,playready:e},i?{fairplay:i}:{});default:return t}var n,r,e,i}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(aa||(aa={})),function(t){t.yp="auto",t.gp="always",t._p="never"}(ha||(ha={})),function(t){t.yp="auto",t.pp="playlist",t.mp="media"}(va||(va={})),function(t){t.VERIZON_MEDIA="verizon-media"}(da||(da={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(la||(la={})),function(t){t.kp="subtitles",t.bp="captions",t.Tp="descriptions",t.Ep="chapters",t.rw="metadata",t.Sp="thumbnails"}(wa||(wa={}));var Ea=[wa.kp,wa.bp,wa.Tp,wa.Ep,wa.rw,wa.Sp];function Sa(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&pn(Ea,t)}(n)?n:n?wa.rw:wa.kp}function Ra(t){if(!t)return!0;var n,r,e=!(vc(n=t.sources)||K(n)&&vc(n[0]))||dc(t.sources),i=!t.ads||(!(r=t.ads)||Y(r)&&0===r.length),u=""!==t.poster&&!t.poster;return e&&i&&u}function Ia(t){return Q(t.src)}function Ca(t){if(t&&t.sources)return function t(n){if(Q(n))return n;if(hc(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Na(t,n,r){return fc(t)?function(t,n,r){var e=Ft(Ft({},lc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:da.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:la.ASSET,contentProtected:!1,assetInfo:!0});e.id=(i=t.id,Q(i)?i:K(i)&&Q(i[0])?i:$(u=i)&&Q(u.userId)&&(K(u.externalId)||Q(u.externalId))?i:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var i,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return la.CHANNEL;case"event":return la.EVENT;case"asset":default:return la.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=us(t.contentProtected));t.assetInfo?e.assetInfo=us(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(o=e.assetType,s=t.ping,c=!1,f=!1,a=!1,s?(c=!!Z(s.adImpressions)&&s.adImpressions,f=!!Z(s.freeWheelVideoViews)&&s.freeWheelVideoViews,a=Z(s.linearAdData)?s.linearAdData:o!==la.ASSET):o!==la.ASSET&&(a=!0),{adImpressions:c,freeWheelVideoViews:f,linearAdData:a}),e=Da(e=Oa(e,t),n,r);var o,s,c,f,a}(t,n,r):function(t,n,r){var e=wc(),i=n&&(n.contentProtection||n.drm);if(Q(t)){if(e.src=t,e.type=sc(t),i){var u=Lf(i);e.contentProtection=Ta(u)}}else if(hc(t)||cc(t)){e.src=t.src,e.type=t.type||sc(t.src);var o=function(t){return t.type===tc.qv}(t)?t.hesp:void 0;void 0!==o&&(e.hesp=o);var s=t.contentProtection||t.drm||i,c=Lf(s);e.contentProtection=Ta(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return ba(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){return{integration:t.integration}}(t);default:return{integration:t.integration}}}(t.ssai)),e=Oa(e,t)}return e=Da(e,n,r)}(t,n,r)}function Oa(t,n){var r;n.useCredentials?t.crossOrigin=Zs.Mv:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case Zs.Lv:case Zs.Mv:return t;default:return Zs.Bv}}(n.crossOrigin)),Q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=us(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=us(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:pa(null==(r=n.dash)?void 0:r.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:ma(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?us(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var i=void 0!==n.nativeUiRendering?us(n.nativeUiRendering):void 0;return void 0!==i&&(t.nativeUiRendering=i),t}function Da(t,n,r){var e,i=n&&n.timeServer;return r&&r.liveOffset&&!G(t.liveOffset)&&(t.liveOffset=r.liveOffset),r&&r.hlsDateRange&&!G(t.hlsDateRange)&&(t.hlsDateRange=r.hlsDateRange),t.crossOrigin===Zs.Bv&&(null===(e=null==n?void 0:n.vr)||void 0===e?void 0:e[360])&&(t.crossOrigin=Zs.Lv),t.useCredentials=t.crossOrigin===Zs.Mv,Q(i)&&!t.timeServer&&(t.timeServer=i),t}function Aa(t){var n={src:""};if(t&&t.src){if(n.src=cs(t.src),"default"in t&&(n.default=us(t.default)),n.kind=Sa(t.kind),function(t){switch(t){case $f.DEFAULT:case $f.SRT:case $f.TTML:case $f.WEBVTT:case $f.EMSG:case $f.EVENT_STREAM:case $f.ID3:case $f.CEA608:case $f.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(n.srclang=r)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function Pa(t,n){if(J(t))try{return n.xg(t).Rp(t)}catch(t){return}}function xa(t){return Q(t.sources)&&""!==t.sources||$(t.sources)&&Q(t.sources.src)}function Fa(t){return t.integration===kf.SPOTX&&!g(t.id)}function Ba(t){return"freewheel"===t.integration}function La(t,n,r){if(void 0===r&&(r=ua.ji),Ra(t))return{sources:[wc()]};var e=ns(t);if(e.sources=function(t,n,r){if(vc(t))return[Na(t,n,r)];if(K(t)&&vc(t[0])){for(var e=[],i=0;i<t.length;i++){var u=t[i];e.push(Na(u,n,r))}return e}return[wc()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var i=function(t,n){if(!K(t))return[];for(var r=[],e=0;e<t.length;e++){var i=t[e];(i=Pa(i,n))&&(xa(i)||Fa(i)||Ba(i))&&r.push(i)}return r}(e.ads,r);0===i.length?delete e.ads:e.ads=i}var u,o,s,c=!dc(e.sources),f=e.ads&&e.ads.length>0;if(c&&!f?delete e.ads:f&&!c&&(e.sources=[]),"textTracks"in e){var a=function(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var e=t[r];""!==(e=Aa(e)).src&&n.push(e)}return n}(e.textTracks);0===a.length?delete e.textTracks:e.textTracks=a}if("poster"in e&&(e.poster=cs(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(o=u||{}).stereoMode=ga(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?_a(o.stereoMode):aa.NONE})),"analytics"in e||(null==n?void 0:n.analytics)){var h=gc(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var r=ns(t),e=function(e){var i=n[e],u=!t.some(function(t){return t.integration===i.integration});u&&i.integration!==ya&&r.push(i)},i=0;i<n.length;i++)e(i);return r}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=_c(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(s=e.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),e}var Ma=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.Oa=function(n){return t.prototype.Oa.call(this,n)},r.ua=function(){return ws(this)},n}(Yo);var Ua=function(){function t(){this.Ip=[],this.ea=void 0}var n=t.prototype;return n.$c=function(t){this.Ip.push(t),this.ea&&this.ea.push(t.ia)},n.Na=function(t){return this.Ip[t]},n.Cp=function(t){return Y(t)?function(t,n){for(var r=0;r<n.length;r++)if(!pn(t,n[r]))return!1;return!0}(this.Ip,t):pn(this.Ip,t)},x(t,[{key:"xa",get:function(){return this.Ip}},{key:"Fa",get:function(){return this.Ip.length}},{key:"ia",get:function(){var t,n;return this.ea||(this.ea=((n=(t=this).xa.map(function(t){return t.ia})).item=function(n){var r=0|n,e=t.Na(r);return e&&e.ia||void 0},n)),this.ea}}]),t}(),qa=function(t){function n(n){var r;return(r=t.call(this,jo.Ta)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new ja(this.oa.ia)},n}(Vo),ja=function(t){function n(n){var r;return(r=t.call(this,"update")||this).track=n,r}return gt(n,t),n}(Ho),Va=0;function Ha(){return Va++}var Wa=0;var za=0;var Xa=0;var Ga=function(t){function n(n){var r;return(r=t.call(this)||this).xu=ia.tw,r.Np=!1,r.ea=void 0,r.Op=n,r.Dp=Ha(),r.Ap=Xa+++"",r.Pp=n.label,r.Ip=new Ua,r.xp(),r}gt(n,t);var r=n.prototype;return r.Fp=function(t){this.Wa=t},r.xp=function(){this.Wa=this.Bp},x(n,[{key:"Ha",get:function(){}},{key:"Wa",get:function(){return this.Np},set:function(t){this.Np!==t&&(this.Np=t,this.Bp=t,this.wo(new Ko(this)))}},{key:"Bp",get:function(){return!!this.Op.enabled},set:function(t){this.Op.enabled=t}},{key:"ia",get:function(){return this.ea||(this.ea=ds(this)),this.ea}},{key:"za",get:function(){return this.Ap}},{key:"Xa",get:function(){return this.Dp}},{key:"Ga",get:function(){return this.Op.kind}},{key:"Ya",get:function(){return this.Pp},set:function(t){t!==this.Pp&&(this.Pp=t,this.wo(new qa(this)))}},{key:"Ka",get:function(){return this.Op.language}},{key:"th",get:function(){return this.Wa?"enabled":"disabled"}},{key:"Lp",get:function(){return this.Op}},{key:"$a",get:function(){return this.Ip}},{key:"Ja",get:function(){},set:function(t){}}]),n}(Mn),Ya=0;var Ka,$a,Ja,Qa,Za=function(t){function n(n){var r;return(r=t.call(this)||this).xu=ia.Zl,r.Np=!1,r.ea=void 0,r.Op=n,r.Dp=Ha(),r.Ap=Ya+++"",r.Ip=new Ua,r.Pp=n.label,r.xp(),r}gt(n,t);var r=n.prototype;return r.xp=function(){this.Wa=this.Bp},r.Fp=function(t){this.Wa=t},x(n,[{key:"Ha",get:function(){}},{key:"Wa",get:function(){return this.Np},set:function(t){this.Np!==t&&(this.Np=t,this.Bp=t,this.wo(new Ko(this)))}},{key:"Bp",get:function(){return!!this.Op.selected},set:function(t){this.Op.selected=t}},{key:"ia",get:function(){return this.ea||(this.ea=ds(this)),this.ea}},{key:"za",get:function(){return this.Ap}},{key:"Xa",get:function(){return this.Dp}},{key:"Ga",get:function(){return"main"}},{key:"Ya",get:function(){return this.Pp},set:function(t){t!==this.Pp&&(this.Pp=t,this.wo(new qa(this)))}},{key:"Ka",get:function(){return this.Op.language}},{key:"th",get:function(){return this.Wa?"enabled":"disabled"}},{key:"Lp",get:function(){return this.Op}},{key:"$a",get:function(){return this.Ip}},{key:"Ja",get:function(){},set:function(t){}}]),n}(Mn),th=function(t){function n(n){var r;return(r=t.call(this,Ds.Th)||this).zd=n,r}return gt(n,t),n}(qn);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ka||(Ka={})),function(t){t.Mp="cue",t.Up="region",t.qp="stylesheet"}($a||($a={})),function(t){t.jp="Dv",t.Vp="Av",t.Ta="bs"}(Ja||(Ja={})),function(t){t.jp="enter",t.Vp="exit",t.Ta="update"}(Qa||(Qa={}));var nh=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).Hp=r,e}return gt(n,t),n}(Vo),rh=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).cue=r,e}return gt(n,t),n}(Ho);function eh(t){var n,r=[Ja.jp,Ja.Vp,Ja.Ta],e={get track(){return t.oa.ia},get id(){return t.za},get startTime(){return t.Wp},get endTime(){return t.zp},get content(){return t.Xp},addEventListener:function(t,r){var e=fs(t,cs);n._o(e,r)},removeEventListener:function(t,r){var e=fs(t,cs);n.ko(e,r)}};return n=new Un(e),t._o(r,function(t){return n.wo(t.ia)}),e}function ih(){}var uh=.02;var oh=function(t){function n(n,r,e,i,u){var o;return void 0===u&&(u=""),(o=t.call(this)||this).ea=void 0,o.Gp=void 0,o.Yp=!1,o.Kp="",o.$p=-1,o.Jp=n,o.Qp=r,o.Zp=e,o.tm=Boolean(i),o.Ap=u,o}gt(n,t);var r=n.prototype;return r.ua=function(){return eh(this)},r.ef=function(t){return this===t||es(this,t)&&(r=t,so((n=this).Wp,r.Wp,uh)&&so(n.zp,r.zp,uh)&&n.za===r.za);var n,r},r.oe=function(){this.mo()},x(n,[{key:"Wp",get:function(){return this.Jp},set:function(t){this.Jp=t}},{key:"zp",get:function(){return this.Qp},set:function(t){this.Qp=t}},{key:"za",get:function(){return this.Ap},set:function(t){this.Ap=t}},{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}},{key:"nm",get:function(){return this.Yp},set:function(t){this.Yp=t}},{key:"oa",get:function(){return this.Gp},set:function(t){this.Gp=t}},{key:"Xp",get:function(){return this.Zp},set:function(t){this.Zp=t}},{key:"rm",get:function(){return this.Kp},set:function(t){this.Kp=t}},{key:"im",get:function(){return this.tm},set:function(t){this.tm=t}}]),n}(Mn);var sh=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n,r,e,i)||this).um="auto",o.om="start",o.sm="auto",o.cm="auto",o.fm=void 0,o.am=!0,o.Vo=100,o.hm="center",o.vm="",o.za=u||"",o}return gt(n,t),n.prototype.ef=function(n){return this===n||es(this,n)&&t.prototype.ef.call(this,n)&&(e=n,(r=this).Xp===e.Xp&&r.um===e.um&&r.om===e.om&&r.sm===e.sm&&r.cm===e.cm&&r.fm===e.fm&&r.am===e.am&&r.Vo===e.Vo&&r.hm===e.hm&&r.vm===e.vm);var r,e},x(n,[{key:"ia",get:function(){var t;return this.ea||(this.ea=ts(eh(t=this),{get align(){return t.hm},get line(){return t.um},get lineAlign(){return t.om},get position(){return t.sm},get positionAlign(){return t.cm},get region(){return t.fm?t.fm.ia:null},get size(){return t.Vo},get snapToLines(){return t.am},get text(){return t.Xp},get vertical(){return t.vm}})),this.ea}},{key:"xu",get:function(){return $a.Mp}}]),n}(oh);var ch=function(){function t(t,n,r,e,i,u,o,s){this.za=t,this.Tf=n,this.dm=r,this.lm=e,this.wm=i,this.ym=u,this.gm=o,this._m=s}return x(t,[{key:"ia",get:function(){var t;return this.ea||(this.ea=(t=this,{get id(){return t.za},get identifier(){return t.za},get lines(){return t.dm},get regionAnchorX(){return t.lm},get regionAnchorY(){return t.wm},get scrollValue(){return t._m},get viewportAnchorX(){return t.ym},get viewportAnchorY(){return t.gm},get width(){return t.Tf}})),this.ea}},{key:"xu",get:function(){return $a.Up}}]),t}(),fh=function(){function t(){}var n=t.prototype;return n.Qc=function(t){return this.rf(t)>0},n.Gc=function(t){return this.rf(t)>=0},n.nf=function(t,n){return this.tf(t).Kc(n)},n.ef=function(t){return 0===this.rf(t)},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.pm=function(){return this.mm()?this.km():this},n.if=function(t){return this.$c(t.km())},n.tf=function(t){return this.if(t).pm()},t}();function ah(t,n){return t.bm()?n.bm()?io.Uc:io.qc:n.bm()?io.jc:t.sf()?n.sf()&&t.mm()===n.mm()?io.Uc:t.mm()?io.jc:io.qc:n.mm()?io.qc:io.jc}var hh=function(){function t(t,n){this.Tm=t,this.Em=n}t.Sm=function(n,r,e){return e?new t(n.toUnsigned(),r.toUnsigned()):new t(n.toSigned(),r.toSigned())},t.Rm=function(n){return n.unsigned?new t(n,xr.UZERO):new t(n,n.isNegative()?xr.NEG_ONE:xr.ZERO)},t.Im=function(n,r){if(g(n))return r?t.Cm:t.af;if(r){if(n<0)return t.Cm;if(n>=3.402823669209385e38)return t.Nm}else{if(n<=-1.7014118346046923e38)return t.Om;if(n+1>=1.7014118346046923e38)return t.Dm}return n<0?t.Im(-n,r).km():t.Sm(xr.fromNumber(n%0x10000000000000000),xr.fromNumber(n/0x10000000000000000),r)};var n=t.prototype;return n.Am=function(){return this.Em.unsigned},n.Pm=function(){return this.Tm.isZero()&&this.Em.isZero()},n.mm=function(){return this.Em.isNegative()},n.xm=function(){return this.Am()?t.Sm(this.Tm,this.Em,!1):this},n.Fm=function(){return this.Am()?this:t.Sm(this.Tm,this.Em,!0)},n.Bm=function(){return this.Tm},n.Lm=function(){return this.mm()?-this.km().Lm():0x10000000000000000*this.Em.toNumber()+this.Tm.toUnsigned().toNumber()},n.Mm=function(){return this.Tm.toInt()},n.ef=function(t){return(this.Am()===t.Am()||this.Em.getHighBits()>>>31!=1||t.Em.getHighBits()>>>31!=1)&&(this.Em.toUnsigned().eq(t.Em.toUnsigned())&&this.Tm.toUnsigned().eq(t.Tm.toUnsigned()))},n.rf=function(t){if(this.ef(t))return io.Uc;var n=this.mm(),r=t.mm();if(n&&!r)return io.jc;if(!n&&r)return io.qc;if(!this.Am())return this.if(t).mm()?io.jc:io.qc;var e=this.Fm(),i=t.Fm(),u=i.Em.comp(e.Em);return u>0||0===u&&i.Tm.gt(e.Tm)?io.jc:io.qc},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.A_=function(t){return this.rf(t)>0},n.P_=function(t){return this.rf(t)>=0},n.Um=function(){return new t(this.Tm.not(),this.Em.not())},n.qm=function(n){return new t(this.Tm.and(n.Tm),this.Em.and(n.Em))},n.jm=function(n){return new t(this.Tm.or(n.Tm),this.Em.or(n.Em))},n.Vm=function(n){var r=127&n;return 0===r?this:r<64?t.Sm(this.Tm.shl(r),this.Em.shl(r).or(this.Tm.shru(64-r)),this.Am()):t.Sm(xr.ZERO,this.Tm.shl(r-64),this.Am())},n.Hm=function(n){var r=127&n;return 0===r?this:r<64?t.Sm(this.Tm.shru(r).or(this.Em.shl(64-r)),this.Em.shr(r),this.Am()):t.Sm(this.Em.shr(r-64),this.Em.isNegative()?xr.NEG_ONE:xr.ZERO,this.Am())},n.Wm=function(n){var r=127&n;return 0===r?this:r<64?t.Sm(this.Tm.shru(r).or(this.Em.shl(64-r)),this.Em.shru(r),this.Am()):64===r?t.Sm(this.Em,xr.ZERO,this.Am()):t.Sm(this.Em.shru(r-64),xr.ZERO,this.Am())},n.$c=function(n){var r=this.Em.high>>>16,e=65535&this.Em.high,i=this.Em.low>>>16,u=65535&this.Em.low,o=this.Tm.high>>>16,s=65535&this.Tm.high,c=this.Tm.low>>>16,f=65535&this.Tm.low,a=n.Em.high>>>16,h=65535&n.Em.high,v=n.Em.low>>>16,d=65535&n.Em.low,l=n.Tm.high>>>16,w=65535&n.Tm.high,y=n.Tm.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=f+(65535&n.Tm.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=i+v)>>>16,p&=65535,g+=(_+=e+h)>>>16,_&=65535,g+=r+a,g&=65535;var S=this.Am(),R=xr.fromBits(p<<16|m,g<<16|_,S),I=xr.fromBits(T<<16|E,k<<16|b,S);return t.Sm(I,R,S)},n.if=function(t){return this.$c(t.km())},n.km=function(){return this.Um().$c(t.zm)},n.Xm=function(n){if(this.Pm()||n.Pm())return this.Am()?t.Cm:t.af;if(this.mm())return n.mm()?this.km().Xm(n.km()):this.km().Xm(n).km();if(n.mm())return this.Xm(n.km()).km();if(this.Em.isZero()&&0===this.Tm.high&&n.Em.isZero()&&0===n.Tm.high)return t.Rm(this.Tm.multiply(n.Tm));var r=xr.fromBits(4294967295,0,!0),e=this.Tm.and(r),i=this.Tm.shru(32),u=this.Em.and(r),o=this.Em.shru(32),s=n.Tm.and(r),c=n.Tm.shru(32),f=n.Em.and(r),a=n.Em.shru(32),h=xr.UZERO,v=xr.UZERO,d=xr.UZERO,l=xr.UZERO;h=h.add(e.mul(s)),v=v.add(h.shru(32)),h=h.and(r),v=v.add(i.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(r)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(r),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(i.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(e.mul(f)),l=l.add(d.shru(32)),d=d.and(r),l=l.add(o.mul(s)).add(u.mul(c)).add(i.mul(f)).add(e.mul(a)).and(r);var w=xr.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=xr.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Sm(w,y,this.Am())},n.Gm=function(n){var r,e,i=n;if(i.Pm())throw new RangeError("division by zero");if(this.Pm())return this.Am()?[t.Cm,t.Cm]:[t.af,t.af];if(this.Am()){if(i.Am()||(i=i.Fm()),i.A_(this))return[t.Cm,this];if(i.A_(this.Wm(1)))return[e=t.Ym,r=this.if(i)];e=t.Cm}else{if(this.ef(t.Om)){if(i.ef(t.zm)||i.ef(t.Km))return[t.Om,t.af];if(i.ef(t.Om))return[t.zm,t.af];var u=this.Hm(1).$m(i).Vm(1);return u.ef(t.af)?e=i.mm()?t.zm:t.Km:(r=this.if(i.Xm(u)),e=u.$c(r.$m(i))),[e,r=this.if(i.Xm(e))]}if(i.ef(t.Om))return this.Am()?[t.Cm,this]:[t.af,this];if(this.mm()){if(i.mm())return this.km().Gm(i.km());var o=this.km().Gm(i);return e=o[0],r=o[1],[e.km(),r.km()]}if(i.mm()){var s=this.Gm(i.km());return e=s[0],r=s[1],[e.km(),r.km()]}e=t.af}for(r=this;r.P_(i);){for(var c=l.max(1,l.floor(r.Lm()/i.Lm())),f=l.ceil(l.log(c)/l.LN2),a=f<=48?1:l.pow(2,f-48),h=t.Im(c),v=h.Xm(i);v.mm()||v.A_(r);)c-=a,v=(h=t.Im(c,this.Am())).Xm(i);h.Pm()&&(h=t.zm),e=e.$c(h),r=r.if(v)}return[e,r]},n.$m=function(t){return this.Gm(t)[0]},n.Jm=function(t){return this.Gm(t)[1]},n.toString=function(n){var r=n||10;if(r<2||r>36)throw new RangeError("radix");if(this.Pm())return"0";if(this.mm()){if(this.ef(t.Om)){var e=t.Im(r),i=this.$m(e),u=i.Xm(e).if(this);return i.toString(r)+u.Mm().toString(r)}return"-"+this.km().toString(r)}for(var o=t.Im(l.pow(r,6),this.Am()),s=this,c="";;){var f=s.$m(o),a=(s.if(f.Xm(o)).Mm()>>>0).toString(r);if((s=f).Pm())return a+c;for(;a.length<6;)a="0"+a;c=String(a)+c}},t}();hh.af=hh.Rm(xr.ZERO),hh.Cm=hh.Rm(xr.UZERO),hh.zm=hh.Rm(xr.ONE),hh.Ym=hh.Rm(xr.UONE),hh.Km=hh.Rm(xr.NEG_ONE),hh.Dm=hh.Sm(xr.NEG_ONE,xr.MAX_VALUE,!1),hh.Nm=hh.Sm(xr.MAX_UNSIGNED_VALUE,xr.MAX_UNSIGNED_VALUE,!0),hh.Om=hh.Sm(xr.ZERO,xr.MIN_VALUE,!1);var vh=function(t){function n(n,r){var e;return(e=t.call(this)||this).ru=n.toSigned(),e.Hc=r>>>0,e}gt(n,t),n.Qm=function(t,r){return void 0===r&&(r=1e6),n.Im(t*r,r)},n.Im=function(t,r){return g(t)?n.Zm:t===1/0?n.tk:t===-1/0?n.nk:new n(xr.fromNumber(t),r)},n.Rm=function(t,r){return new n(t,r)},n.rk=function(t){return new n(xr.fromNumber(l.round(t.Vc)),t.Hc)},n.ek=function(t){return new n(xr.fromNumber(t.getTime()),1e3)},n.Xc=function(t,n){return t.Gc(n)?t:n},n.Yc=function(t,n){return t.Kc(n)?t:n},n.ik=function(t,r,e){return n.Xc(r,n.Yc(e,t))};var r=n.prototype;return r.mm=function(){return this.ru.isNegative()},r.Pm=function(){return 0!==this.Hc&&this.ru.isZero()},r.sf=function(){return 0===this.Hc&&!this.ru.isZero()},r.bm=function(){return 0===this.Hc&&this.ru.isZero()},r.Lm=function(){if(0===this.Hc)return this.ru.isZero()?NaN:this.ru.isNegative()?-1/0:1/0;var t=this.ru.divide(this.Hc),n=this.ru.subtract(t.multiply(this.Hc));return t.toNumber()+n.toNumber()/this.Hc},r.Bm=function(){if(0===this.Hc)throw new h("Failed to convert timestamp");return this.ru},r.uk=function(){return new Date(0===this.Hc?NaN:this.Jc(1e3).ru.toNumber())},r.sk=function(){return new lo(0===this.Hc?this.Lm():this.ru.toNumber(),this.Hc)},r.Jc=function(t,r){void 0===r&&(r=wh.ck);var e=this.Hc;if(e===t)return this;if(0===e)return this;var i=co(e,t);return new n(function(t,n,r){var e=t.Gm(n),i=e[0],u=e[1];if(u.Pm())return i;if(r===wh.ck)return u.mm()?i.if(hh.zm):i;if(r===wh.fk)return u.mm()?i:i.$c(hh.zm);var o=u.Xm(hh.Im(2));return o.mm()?o.km().Zc(n)?i:i.if(hh.zm):o.Zc(n)?i:i.$c(hh.zm)}(hh.Rm(this.ru).Xm(hh.Im(t/i)),hh.Im(e/i),r).Bm(),t)},r.rf=function(t){if(this===t)return io.Uc;if(0===this.Hc||0===t.Hc)return ah(this,t);if(this.Pm())return t.Pm()?io.Uc:t.mm()?io.qc:io.jc;if(t.Pm())return this.mm()?io.jc:io.qc;var n=l.min(this.Hc,t.Hc),r=this.Jc(n,wh.ak).ru,e=t.Jc(n,wh.ak).ru;return r.compare(e)},r.km=function(){return 0===this.Hc?dh(this):new n(this.ru.negate(),this.Hc)},r.$c=function(t){if(0===this.Hc||0===t.Hc)return lh(this,t);if(this.Pm())return t;if(t.Pm())return this;var r=l.max(this.Hc,t.Hc),e=this.Jc(r,wh.ak),i=t.Jc(r,wh.ak);return new n(e.ru.add(i.ru),r)},r.Xm=function(t){if(this.bm()||g(t))return n.Zm;if(this.sf()||!isFinite(t)){if(this.Pm()||0===t)return n.Zm;var r=this.mm()?n.nk:n.tk;return t<0?r.km():r}return this.Pm()?this:new n(0===t?xr.ZERO:this.ru.multiply(t),this.Hc)},r.$m=function(t){if(this.bm()||g(t))return n.Zm;if(this.sf())return isFinite(t)?0===t?1/t<0?this.km():this:t<0?this.km():this:n.Zm;if(!isFinite(t))return new n(xr.ZERO,this.Hc);if(this.Pm())return 0===t?n.Zm:new n(xr.ZERO,this.Hc);if(0===t){var r=this.mm()?n.nk:n.tk;return 1/t<0?r.km():r}return new n(this.ru.divide(t),this.Hc)},r.hk=function(){return[this.ru.low,this.ru.high,this.Hc]},n}(fh);function dh(t){return t.bm()?t:t.mm()?vh.tk:vh.nk}function lh(t,n){return t.bm()||n.bm()?vh.Zm:t.sf()&&n.sf()?t.mm()===n.mm()?t:vh.Zm:t.sf()?t:n}vh.af=new vh(xr.ZERO,1e6),vh.Zm=new vh(xr.ZERO,0),vh.tk=new vh(xr.ONE,0),vh.nk=new vh(xr.NEG_ONE,0);var wh,yh=function(t){function n(n,r){var e;return(e=t.call(this)||this).ru=BigInt.asIntN(64,n),e.Hc=r>>>0,e}gt(n,t),n.Qm=function(t,r){return void 0===r&&(r=1e6),n.Im(t*r,r)},n.Im=function(t,r){return g(t)?n.Zm:t===1/0?n.tk:t===-1/0?n.nk:new n(BigInt(l.floor(t)),r)},n.Rm=function(t,r){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),r)},n.rk=function(t){return n.Im(l.round(t.Vc),t.Hc)},n.ek=function(t){return n.Im(t.getTime(),1e3)},n.Xc=function(t,n){return t.Gc(n)?t:n},n.Yc=function(t,n){return t.Kc(n)?t:n},n.ik=function(t,r,e){return n.Xc(r,n.Yc(e,t))};var r=n.prototype;return r.mm=function(){return this.ru<BigInt(0)},r.Pm=function(){return 0!==this.Hc&&this.ru===BigInt(0)},r.sf=function(){return 0===this.Hc&&this.ru!==BigInt(0)},r.bm=function(){return 0===this.Hc&&this.ru===BigInt(0)},r.Lm=function(){if(0===this.Hc)return this.ru===BigInt(0)?NaN:this.ru<BigInt(0)?-1/0:1/0;var t=this.ru/BigInt(this.Hc),n=this.ru-t*BigInt(this.Hc);return Number(t)+Number(n)/this.Hc},r.Bm=function(){if(0===this.Hc)throw new h("Failed to convert timestamp");return this.vk()},r.vk=function(){var t=this.ru&BigInt(4294967295),n=this.ru>>BigInt(32)&BigInt(4294967295);return xr.fromBits(Number(t),Number(n))},r.uk=function(){return new Date(0===this.Hc?NaN:Number(this.Jc(1e3).ru))},r.sk=function(){return new lo(0===this.Hc?this.Lm():Number(this.ru),this.Hc)},r.Jc=function(t,r){void 0===r&&(r=wh.ck);var e=this.Hc;if(e===t)return this;if(0===e)return this;var i=co(e,t);return new n(function(t,n,r){var e=t/n,i=t-e*n;if(i===BigInt(0))return e;if(r===wh.ck)return i<BigInt(0)?e-BigInt(1):e;if(r===wh.fk)return i<BigInt(0)?e:e+BigInt(1);var u=i*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.ru*BigInt(t/i),BigInt(e/i),r),t)},r.rf=function(t){if(this===t)return io.Uc;if(0===this.Hc||0===t.Hc)return ah(this,t);if(this.Pm())return t.Pm()?io.Uc:t.mm()?io.qc:io.jc;if(t.Pm())return this.mm()?io.jc:io.qc;var n=l.min(this.Hc,t.Hc),r=this.Jc(n,wh.ak).ru,e=t.Jc(n,wh.ak).ru;return r>e?io.qc:r<e?io.jc:io.Uc},r.km=function(){return 0===this.Hc?gh(this):new n(-this.ru,this.Hc)},r.$c=function(t){if(0===this.Hc||0===t.Hc)return _h(this,t);if(this.Pm())return t;if(t.Pm())return this;var r=l.max(this.Hc,t.Hc),e=this.Jc(r,wh.ak),i=t.Jc(r,wh.ak);return new n(e.ru+i.ru,r)},r.Xm=function(t){if(this.bm()||g(t))return n.Zm;if(this.sf()||!isFinite(t)){if(this.Pm()||0===t)return n.Zm;var r=this.mm()?n.nk:n.tk;return t<0?r.km():r}return this.Pm()?this:new n(0===t?BigInt(0):this.ru*BigInt(t),this.Hc)},r.$m=function(t){if(this.bm()||g(t))return n.Zm;if(this.sf())return isFinite(t)?0===t?1/t<0?this.km():this:t<0?this.km():this:n.Zm;if(!isFinite(t))return new n(BigInt(0),this.Hc);if(this.Pm())return 0===t?n.Zm:new n(BigInt(0),this.Hc);if(0===t){var r=this.mm()?n.nk:n.tk;return 1/t<0?r.km():r}return new n(this.ru/BigInt(t),this.Hc)},r.hk=function(){var t=this.vk();return[t.low,t.high,this.Hc]},x(n,null,[{key:"af",get:function(){return n.dk||(n.dk=new n(BigInt(0),1e6)),n.dk}},{key:"Zm",get:function(){return n.lk||(n.lk=new n(BigInt(0),0)),n.lk}},{key:"tk",get:function(){return n.wk||(n.wk=new n(BigInt(1),0)),n.wk}},{key:"nk",get:function(){return n.yk||(n.yk=new n(BigInt(-1),0)),n.yk}}]),n}(fh);function gh(t){return t.bm()?t:t.mm()?yh.tk:yh.nk}function _h(t,n){return t.bm()||n.bm()?yh.Zm:t.sf()&&n.sf()?t.mm()===n.mm()?t:yh.Zm:t.sf()?t:n}yh.dk=void 0,yh.lk=void 0,yh.wk=void 0,yh.yk=void 0,function(t){t[t.ck=0]="ck",t[t.fk=1]="fk",t[t.ak=2]="ak"}(wh||(wh={}));var ph=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?yh:vh,mh=9e4,kh=l.pow(2,33),bh=(ph.Im(kh,mh).$m(2),{gk:lo.af,_k:lo.hf,pk:lo.af}),Th=6,Eh=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Sh=[" ","\t","\n","\f","\r"],Rh=/^\d*$/,Ih=/.*[0-9]+.*/,Ch=/^[\d.-]+$/,Nh=/(^\.|\.$)/,Oh=/(\D\.|\.\D)/;function Dh(t,n){void 0===n&&(n=bh);var r={uh:[],mk:[],kk:[]},e=Ah(t),i=new ae;if(Vh(e),Ph(e,function(t){return"\n"!==t},i),i.Go>=e.length)return r;(i.Wo(1),"\n"!==e.charAt(i.Go))?Lh(xh(e,i,!1,!0,r,n),r):i.Wo(1);for(Ph(e,function(t){return"\n"===t},i);i.Go<e.length;){Lh(xh(e,i,!1,!1,r,n),r),Ph(e,function(t){return"\n"===t},i)}return r}function Ah(t){var n=un(t,"\0"," "),r=un(n,"\r\n","\n");return un(r,"\r","\n")}function Ph(t,n,r){for(var e=r.Go;r.Go<t.length&&n(t.charAt(r.Go));)r.Wo(1);return t.substring(e,r.Go)}function xh(t,n,r,e,i,u){for(var o,s=0,c=n.Go,f="",a=!1,h=!1,v=null,d=null,l=null;!a;)if(o=Ph(t,function(t){return"\n"!==t},n),s++,n.Go>=t.length?a=!0:n.Wo(1),on(o,"--\x3e")){if(e||1!==s&&(2!==s||h)){n.zo(c);break}h=!0,c=n.Go,v=new sh(0,0,"",!1,f);try{Mh(o,i.mk,v,u),f=""}catch(t){O.xf(t),v=null}}else{if(""===o)break;e&&sn(o,"X-TIMESTAMP-MAP")&&(i.bk=Fh(o)),e||2!==s||r||(fn("STYLE",f.replace(/ /g,""))?(d={xu:$a.qp},f=""):fn("REGION",f.replace(/ /g,""))&&(l=new ch("",100,3,0,100,0,100,""),f="")),f&&(f+="\n"),f+=o,c=n.Go}if(v)return v.Xp=f,v;if(d);else if(l)return function(t,n){for(var r=t.split(/\s/),e=0;e<r.length;e++){var i=r[e];if(0!==i.length&&on(i,":")&&":"!==i.charAt(0)&&":"!==i.charAt(i.length-1)){var u=i.indexOf(":"),o=i.substring(0,u),s=i.substring(u+1,i.length);switch(o.toUpperCase()){case"ID":Zh(s,n);break;case"WIDTH":rv(s,n);break;case"LINES":nv(s,n);break;case"REGIONANCHOR":var c=Qh(s);c&&(n.lm=c[0],n.wm=c[1]);break;case"VIEWPORTANCHOR":var f=Qh(s);f&&(n.ym=f[0],n.gm=f[1]);break;case"SCROLL":tv(s,n)}}}}(f,l),l;return null}function Fh(t){var n,r=t.split("=")[1].trim().split(","),e=Bh(r[0].trim(),"MPEGTS")?r[0]:r[1],i=Bh(r[0].trim(),"LOCAL")?r[0]:r[1];return{Tk:(n=Number(e.split(/:(.*)/)[1].trim())||0,ph.Im(n,mh)),Ek:jh(i.split(/:(.*)/)[1].trim(),new ae)||ph.af}}function Bh(t,n){return sn(t,n)}function Lh(t,n){t&&function(t){return t.xu===$a.Mp}(t)?n.uh.push(t):t&&function(t){return t.xu===$a.Up}(t)?n.mk.push(t):t&&function(t){return t.xu===$a.qp}(t)&&n.kk.push(t)}function Mh(t,n,r,e){var i=new ae;if(Hh(t,i),r.Wp=Uh(jh(t,i).sk(),e).cf,Hh(t,i),"--\x3e"!==t.substring(i.Go,i.Go+3))throw h("Something went wrong with parsing a WebVTT Cue");i.Wo(3),Hh(t,i),r.zp=Uh(jh(t,i).sk(),e).cf,function(t,n,r){for(var e=t.split(/\s/),i=0;i<e.length;i++){var u=e[i];if(0!==u.length&&on(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":Yh(c,n,r);break;case"VERTICAL":$h(c,n);break;case"D":Jh(c,n);break;case"LINE":case"L":Xh(c,n);break;case"POSITION":case"T":Gh(c,n);break;case"SIZE":case"S":Kh(c,n);break;case"ALIGN":case"A":zh(c,n)}}}}(t.substring(i.Go,t.length),r,n)}function Uh(t,n){return t.$c(n.gk)}function qh(t){return/^[0-9]$/.test(t)}function jh(t,n){var r,e,i,u=un(t,",","."),o=!1;if(n.Go>=u.length||!qh(u.charAt(n.Go)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var s=Ph(u,qh,n),c=w(s,10);if((s.length>2||c>59)&&(o=!0),n.Go>=u.length||":"!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var f=Ph(u,qh,n);if(2!==f.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var a=w(f,10);if(o||n.Go<u.length&&":"===u.charAt(n.Go)){if(n.Go>=u.length||":"!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var v=Ph(u,qh,n);if(2!==f.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");r=c,e=a,i=w(v,10)}else r=0,e=c,i=a;if(n.Go>=u.length||"."!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var d=Ph(u,qh,n),l=w(d,10);if(a>59||i>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var y=ph.Im(60*r*60+60*e+i,1),g=ph.Im(l,1e3);return y.$c(g)}function Vh(t){if(t.length<Th)return!1;for(var n=0;n<Eh.length;n++){if(sn(t,Eh[n]))return!0}return!1}function Hh(t,n){for(;n.Go<t.length&&(r=t.charAt(n.Go),pn(Sh,r));)n.Wo(1);var r}function Wh(t){var n=t.lastIndexOf("%");if(n>-1){var r=y(t.substring(0,n));if(!g(r)&&r>=0&&r<=100)return r}return null}function zh(t,n){var r=t.toLowerCase();switch(r){case"start":case"center":case"end":case"left":case"right":n.hm=r;break;case"middle":n.hm="center"}}function Xh(t,n){var r=t,e="";if(on(t,",")&&(r=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),Ih.test(r)){var i;if(cn(r,"%")){var u=Wh(r);if(null===u)return;i=u}else{if(!Ch.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Oh.test(t)||Nh.test(t))return;if(i=y(t),g(i))return}switch(n.um=i,n.am=cn(r,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.om=e;break;case"middle":n.om="center"}}}function Gh(t,n){var r=t,e="";on(t,",")&&(r=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var i=Wh(r);if(null!==i)switch(n.sm=i,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.cm=e;break;case"start":n.cm="line-left";break;case"middle":n.cm="center";break;case"end":n.cm="line-right"}}function Yh(t,n,r){for(var e=r.length-1;e>=0;e--)if(r[e].za===t)return void(n.fm=r[e])}function Kh(t,n){var r=Wh(t);null!==r&&(n.Vo=r)}function $h(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.vm="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.vm="lr";break;default:n.vm=""}}function Jh(t,n){"VERTICAL"===t.toUpperCase()?n.vm="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.vm="lr")}function Qh(t){if(t.indexOf(",")>=0){var n=Wh(t.substring(0,t.indexOf(","))),r=Wh(t.substring(t.indexOf(",")+1,t.length));return[oo(n||0,0,100),oo(r||100,0,100)]}return null}function Zh(t,n){n.za=t}function tv(t,n){"up"===t.toLowerCase()&&(n._m="up")}function nv(t,n){Rh.test(t)&&(n.dm=w(t))}function rv(t,n){var r=Wh(t);null!==r&&(n.Tf=r)}function ev(t){return t&&"au"in t?t.au:t}var iv=function(t){function n(n,r,e,i,u,o,s,c){var f;return(f=t.call(this,n,r,e,i,s)||this).Sk=u,f.Rk=o,f.Ik=c||void 0,f}return gt(n,t),n.prototype.ef=function(n){return this===n||!!es(this,n)&&(!!t.prototype.ef.call(this,n)&&(!!rs(this.Ck,n.Ck)&&(!!rs(this.mk,n.mk)&&(this.Nk&&n.Nk?!!this.Nk.$i(n.Nk)&&(this.Xp&&n.Xp?this.Xp.$i(n.Xp):this.Xp===n.Xp):this.Nk===n.Nk))))},x(n,[{key:"Ck",get:function(){return this.Sk}},{key:"mk",get:function(){return this.Rk}},{key:"Nk",get:function(){return this.Ik}},{key:"ia",get:function(){var t;return this.ea||(this.ea=ts(eh(t=this),{get styles(){return t.Ck},get regions(){return t.mk},get metadata(){return ev(t.Nk)},get content(){return ev(t.Xp)}})),this.ea}}]),n}(oh),uv=function(){function t(t,n,r){this.Ok=t,this.Dk=n,_t(r)?this.Ak=function(t,n,r){for(var e=0,i=["begin","end","dur"];e<i.length;e++){var u=i[e];r.lu(u)}return r}(0,0,r):this.Ak=r}return x(t,[{key:"Pk",get:function(){return this.Ak.Ji(!0)}},{key:"Wp",get:function(){return this.Ok}},{key:"zp",get:function(){return this.Dk}}]),t}();var ov="http://www.w3.org/XML/1998/namespace";function sv(t,n){return function(t,n){var r=t.hu.slice(),e=[];for(;r.length>0;){var i=r.shift();n(i)?e.push(i):r.push.apply(r,i.hu)}return e}(t,function(t){return t.su===n})}function cv(t,n){for(var r=t,e=0;e<n.length;e++){var i=n[e];r=r.replace(i+":","")}return r}function fv(t,n){for(var r=t._u,e={},i=0;i<r.length;i++)e[cv(r[i].Zi,n)]=r[i].ru;return e}var av=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,hv=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function vv(t,n,r){return void 0===r&&(r=bh),function(t,n,r){var e=[],i=O.Yi(t);if(!i)return e;var u=i.ku;if("tt"!==u.su)return e;var o=u&&u.uu("head")[0],s=u&&u.uu("body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var f=function(t,n){for(var r={},e=t.uu("styling")[0],i=e&&e.uu("style")||[],u=0;u<i.length;u++){var o=i[u],s=o.du(ov,"id");r[s]=fv(o,n)}return r}(o,c),a=function(t,n){var r=ns(t),e=yv(n.vu("tts:extent"));if(!e)return r;for(var i=0,u=d.keys(r);i<u.length;i++){var o=u[i],s=yv(r[o].extent);if(s){var c=lv(s[0],e[0]),f=lv(s[1],e[1]);r[o].extent=c+" "+f}var a=yv(r[o].origin);if(a){var h=lv(a[0],e[0]),v=lv(a[1],e[1]);r[o].origin=h+" "+v}}return r}(function(t,n){for(var r={},e=t.uu("layout")[0],i=e&&e.uu("region")||[],u=0;u<i.length;u++){var o=i[u],s=o.du(ov,"id");if(s){r[s]=fv(o,n);var c=pv(o,n);for(var f in c)z.call(c,f)&&(r[s][f]=c[f])}}return r}(o,c),u),h=o.uu("metadata")[0],v=function t(n,r,e,i){var u=r;var o;var s=e;var c=[];var f=[];if(_t(n)){u=_v(n.vu("begin"),i)||u,o=_v(n.vu("dur"),lo.af),s=_v(n.vu("end"),i)||o&&u.$c(o)||s;for(var a=n.ou,h=0;h<a.length;h++)("body"===n.Qi||"div"===n.Qi)&&a[h].Vi>1||(c=c.concat(t(a[h],u,s,i)))}var v=function(t,n,r){var e=[];e.push(t,n);for(var i=0;i<r.length;i++){var u=r[i];e.push(u.Wp,u.zp)}e.sort(wo);for(var o=e.length,s=0;s<o-1;s++)e[s+1].ef(e[s])&&(_n(e,s+1),s--,o=e.length);return e}(u,s,c);for(var d=0;d<v.length-1;d++){var l=gv(v[d],v[d+1],c);if(l.length<=0&&mv(n)){var w=n.Ji(!1);f.push(new uv(v[d],v[d+1],w))}else l.length>0&&function(){var t=n.Ji(!1);l.forEach(function(n){return t.fu(n.Pk)}),f.push(new uv(v[d],v[d+1],t))}()}return f}(s,r.gk,r._k,r.pk),l=0;l<v.length;l++){var w=v[l],y=dv(a,w);e.push(new iv(w.Wp.cf,w.zp.cf,w.Pk,!1,f,y,(za++).toString(),h))}return e}(t,0,r)}function dv(t,n){for(var r=function t(n){var r=[];var e;if(_t(n)){(e=n.vu("region"))&&r.push(e);for(var i=n.ou,u=0;u<i.length;u++)r=r.concat(t(i[u]))}return r}(n.Pk),e={},i=0;i<r.length;i++){var u=r[i];e[u]=t[u]}return e}function lv(t,n){var r=wv(t),e=wv(n);if(r&&e&&r===e){var i=Number(t.slice(0,-r.length)),u=Number(n.slice(0,-e.length));return g(i)||g(u)?t:i/u*100+"%"}return t}function wv(t){return cn(t,"px")?"px":cn(t,"em")?"em":cn(t,"c")?"c":cn(t,"%")?"%":void 0}function yv(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function gv(t,n,r){for(var e=[],i=0;i<r.length;i++){var u=r[i].Wp,o=r[i].zp;(u.Gc(t)&&o.Kc(n)||u.Zc(n)&&o.Gc(n)||u.Kc(t)&&o.Qc(t))&&e.push(r[i])}return e}function _v(t,n){if(t){if(av.test(t)){var r=av.exec(t);if(!r)return;var e=Number(r[1])||0,i=Number(r[2])||0,u=Number(r[3])||0,o=r[6],s=o?Number(o)*l.pow(.1,o.length):0;return new lo(3600*e+60*i+u+s).if(n)}if(hv.test(t)){var c=hv.exec(t);if(!c)return;var f,a=Number(c[1]);switch(c[4]){case"h":f=3600*a;break;case"m":f=60*a;break;case"s":f=a;break;case"ms":f=.001*a;break;case"f":case"t":default:f=NaN}return new lo(f).if(n)}}}function pv(t,n){for(var r={},e=t.uu("style")||[],i=0;i<e.length;i++){var u=fv(e[i],n);for(var o in u)z.call(u,o)&&(r[o]=u[o])}return r}function mv(t){if(_t(t)){var n=t.Qi.toUpperCase(),r=Boolean(t.vu("smpte:backgroundImage"));return"BR"===n||r}return t.Vi===at.zi}function kv(t){var n=function(t){var n=O.Yi(t);if(n)return n.ku}(t);return"tt"===(null==n?void 0:n.Qi)}var bv,Tv,Ev=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.Oa=function(n){return t.prototype.Oa.call(this,n)},r.Da=function(n){var r=t.prototype.Da.call(this,n);return r&&(n.th=ys.eh),r},r.ua=function(){return bs(this)},n}(Yo),Sv=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Fw=new Ev,n.xk=function(t){t.oa.th!==ys.eh?n.Fk(t.oa):n.Bk(t.oa)},n}gt(n,t);var r=n.prototype;return r.Oa=function(t){t._o(jo.ga,this.xk),this.Fw.Oa(t)},r.Da=function(t){t.ko(jo.ga,this.xk),t.th=ys.eh,this.Fw.Da(t)},r.Fk=function(t){},r.Bk=function(t){},r.Lk=function(){for(var t=0,n=this.Fw.xa;t<n.length;t++){var r=n[t];r.ko(jo.ga,this.xk),r.oe()}},r.Pa=function(){return this.Lk(),this.Fw.Pa(),C.resolve()},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Pa();case 3:this.Fw.oe();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Mn);!function(t){t.Mk="arraybuffer",t.Uk="json",t.qk="stream",t.zi="text",t.jk="blob",t.Gi="document"}(bv||(bv={})),function(t){t.Mk=bv.Mk,t.Uk=bv.Uk,t.qk=bv.qk,t.zi=bv.zi}(Tv||(Tv={}));var Rv,Iv,Cv,Nv,Ov=function(){function t(n){var r=this;this.Cu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];r.append(n,e)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var r=t,e=n;r=Dv(r),e=Av(e);var i=r.toLowerCase();if(this.Cu.hasOwnProperty(i)){var u=this.Cu[i],o=u[1];u[1]=o?o+", "+e:e}else this.Cu[i]=[r,e]},n.delete=function(t){var n=Dv(t).toLowerCase();delete this.Cu[n]},n.get=function(t){var n=Dv(t).toLowerCase();return this.Cu.hasOwnProperty(n)?this.Cu[n][1]:null},n.has=function(t){var n=Dv(t).toLowerCase();return this.Cu.hasOwnProperty(n)},n.set=function(t,n){var r=t,e=(r=Dv(r)).toLowerCase();this.Cu[e]=[r,Av(n)]},n.forEach=function(t,n){for(var r in this.Cu)this.Cu.hasOwnProperty(r)&&t.call(n,this.Cu[r][1],r,this)},n.asList=function(){var t=[];for(var n in this.Cu)if(this.Cu.hasOwnProperty(n)){var r=this.Cu[n],e=r[0],i=r[1];t.push([e,i])}return t},n.Vk=function(){var t={};return this.forEach(function(n,r){t[r]=n}),t},n.Hk=function(t){var n=this;t.forEach(function(t,r){n.append(r,t)})},n.Wk=function(t){var n=this;t.forEach(function(t,r){n.set(r,t)})},t}();function Dv(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Av(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Rv||(Rv={})),function(t){t.E_="",t.zk="manifest",t.Xk="segment",t.Gk="content-protection"}(Iv||(Iv={})),function(t){t.E_="",t.Yk="initialization-segment",t.Kk="fairplay-license",t.$k="fairplay-certificate",t.Jk="widevine-license",t.Qk="widevine-certificate",t.Zk="playready-license",t.tb="clearkey-license",t.nb="aes128-key"}(Cv||(Cv={})),function(t){t.E_="",t.tw="audio",t.Zl="video",t.zi="text",t.T_="image"}(Nv||(Nv={}));var Pv,xv,Fv=function(t,n){var r,e,i,u,o,s,c,f,a,h,v,d=t.rb;n?(r=n.eb,e=n.ib,i=n.ub,u=n.ob,o=n.sb,s=n.vo,c=n.xu,f=n.cb,a=n.fb,h=n.ab,v=n.hb):(r=null,e={},i=Rv.GET,u=Tv.zi,o=0,c=Iv.E_,f=Cv.E_,a=Nv.E_,h=!1),this.rb=d,this.eb=t.eb||r,this.ib=new Ov(t.ib||e),this.ub=t.ub||i,this.ob=t.ob||u,this.sb=void 0!==t.sb?Number(t.sb)||0:o,this.vo=t.vo||s||(new bn).vo,this.xu=t.xu||c,this.cb=t.cb||f,this.fb=t.fb||a,this.ab=void 0!==t.ab?Boolean(t.ab):h,this.hb=t.hb||v},Bv=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n,r,u)||this).url=e,o.status=i,o}return gt(n,t),n}(Fe);function Lv(t,n){return t===wa.Sp||t===wa.rw&&n===wa.Sp}function Mv(t,n,r,e){for(var i=0,u=t.uh.xa;i<u.length;i++){var o=u[i];if(o.Wp>r)break;n<=o.zp&&e.push(o)}}function Uv(t,n){return fo(t.Xa,n.Xa)}function qv(t,r){var e=r,i=0;if(function(t){switch(t.name){case Pv.vb:case Pv.lb:case Pv.wb:return!0;default:return!1}}(t)&&t.name===Pv.vb)e=t.yb.rb;else if(t.name===Pv.lb){var u=t.gb;if(e=u._b,0===(i=u.pb))return new Bv(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new Bv(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function jv(t){switch(t){case $f.WEBVTT:return"WebVTT";case $f.SRT:return"SRT";case $f.TTML:return"TTML";default:return""}}function Vv(t){return Vh(Ah(t))?$f.WEBVTT:kv(t)?$f.TTML:$f.SRT}!function(t){t.vb="HttpOpenError",t.lb="HttpResponseError",t.wb="HttpTimeoutError"}(Pv||(Pv={})),function(t){t.mb="vtt",t.ql="wvtt",t.kb="stpp"}(xv||(xv={}));var Hv=function(t){function n(n){var r;return(r=t.call(this,gs.Qa)||this).errorObject=n,r}return gt(n,t),n.prototype.ua=function(){return this},x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qo),Wv=function(t){function r(n,r){var e;return(e=t.call(this)||this).bb=new bn,e.Tb=n,e.Eb=r,e}gt(r,t);var e=r.prototype;return e.Sb=function(t){if(t.src){var n=t.kind||wa.kp,r=this.Tb.Rb(n,t.label,t.srclang,t.default);return r.sh=to(t.src),this.Oa(r),r}},e.Ib=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c,f,a,h,v,d,l;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.ih=Ka.LOADING,i=new Fv({rb:r.sh,ob:bv.zi,ub:Rv.GET,vo:e}),t.prev=2,t.next=5,this.Eb.yb(i);case 5:return s=t.sent,o=s.pb,t.next=9,s.Cb();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Rn(t.t0),r.ih=Ka.ERROR,r.wo(new Hv(qv(t.t0,r.sh))),t.abrupt("return");case 18:for(t.prev=18,c=Vv(u),r.xu=c,f=[],c===$f.WEBVTT||c===$f.SRT?(a=Dh(u),f=a.uh):c===$f.TTML&&(f=vv(u)),h=0,v=f;h<v.length;h++)d=v[h],r.Nb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Rn(t.t1),r.ih=Ka.ERROR,l=jv(r.xu),r.wo(new Hv(new Bv(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",r.sh,o,t.t1))),t.abrupt("return");case 33:r.ih=Ka.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,r){return t.apply(this,arguments)}}(),e.Fk=function(t){pn(this.Fw.xa,t)&&t.ih===Ka.NONE&&this.Ib(t,this.bb.vo).catch(In)},e.ps=function(){},e.Pa=function(){var n=C.coroutine(xt.mark(function n(){var r,e,i;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.bb.fo(),this.bb=new bn,r=0,e=this.Fw.xa;r<e.length;r++)i=e[r],this.Tb.Ob(i);return n.next=5,t.prototype.Pa.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(Sv);function zv(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.Ga===n&&e.Db)return e}}function Xv(t,n){Gv(zv(t.xa,n))}function Gv(t){void 0!==t&&(t.th=ys.nh)}function Yv(t,n){Gv(zv(t.xa,n)||function(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.Ga===n)return e}}(t.xa,n))}function Kv(t){for(var n=0;n<Ea.length;n++){var r=Ea[n];r===wa.Ep?Yv(t,r):Xv(t,r)}}var $v=function(t){function n(){return t.call(this,Ds.Xh)||this}return gt(n,t),n}(qn),Jv=function(){function t(t){var n=this;this.Ab=[],this.Pb=void 0,this.xb=new bn,this._n=function(){return 0===n.Ab.length?n.Fb?Qv(n.Fb,n.xb.vo).then(n.Bb,n.Bb):n.Bb():n.Ab.shift()().then(n._n)},this.Bb=function(){if(0!==n.Ab.length)return n._n();n.Pb=void 0},this.Fb=t}var n=t.prototype;return n.Lb=function(t,n){var r=this;return new C(function(e){var i=new bn;i.ao(r.xb.vo),n&&i.ao(n);var u=function(){i.eo()};r.Ab.push(function(){var n=Qv(t,i.vo);return e(n),n.then(u,u)}),r.Pb||(r.Pb=r._n())})},n.fo=function(){return this.Mb(!0)},n.oe=function(){return this.Fb=void 0,this.Mb(!1)},n.Mb=function(t){var n=this.Pb;return this.xb.fo(),t&&(this.xb=new bn),C.resolve(n)},t}();function Qv(t,n){return new C(function(r){return r(t(n))})}var Zv=function(t){function n(n){var r;return(r=t.call(this,Ds.Ih)||this).errorObject=n,r}return gt(n,t),x(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(qn),td=function(t){function n(n){var r;return(r=t.call(this)||this).Ub=void 0,r.xb=new bn,r.qb=n,r}gt(n,t);var r=n.prototype;return r.jb=function(t){t&&(this.Ub=t,this.Vb(this.xb.vo).catch(In))},r.Vb=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c,f;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.Ub,e=!1,i=0,u=r.Hb;case 3:if(!(i<u.length)){t.next=25;break}o=u[i],s=0,c=o.Wb;case 6:if(!(s<c.length)){t.next=20;break}return f=c[s],t.prev=8,t.next=11,this.zb(o.Bs.Bu,f,n);case 11:e=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Rn(t.t0);case 17:s++,t.next=6;break;case 20:if(!e){t.next=22;break}return t.abrupt("break",25);case 22:i++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),r.Xb=function(t,n){return this.zb(t,n,this.xb.vo)},r.Pa=function(){return this.Ub=void 0,this.xb.fo(),this.xb=new bn,this.Gb()},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Pa();case 3:this.xb.eo();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Yb=function(t,n){if(!this.Ub)return!1;var r=Bf(t,n);return Boolean(r[Kt])},x(n,[{key:"Bs",get:function(){return this.Kb()}}]),n}(Mn),nd=function(t){function n(n){var r;return(r=t.call(this,gs.Qa)||this).errorObject=n,r}return gt(n,t),x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qn),rd=function(t){function n(){return t.call(this,Ds.Ch)||this}return gt(n,t),n}(qn),ed=function(t){function n(n){var r;return(r=t.call(this,"iv")||this).$b=n,r}return gt(n,t),n}(qn),id=new Jv,ud=function(t){function r(r,e,i,u,o){var s;return(s=t.call(this)||this).Jb=r,s.Qb=e,s.Bu=i,s.Fo=u,s.Zb=o,s.Fr=!1,s.tT=!1,s.xb=new bn,s.fs=function(t){switch(t.Co){case"license-request":s.nT(t.Io,t.No).catch(function(t){return s.Xs(t)});break;default:s.Xs(new Nc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Co))}},s.rT=function(t){s.Jb.Rs.Uo(function(t,n){switch(t){case"usable":O.ys(function(){s.tT=!0,s.wo(new rd)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.wo(new ed(n))}})},s.eT=function(t){s.Xs(new Nc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},r._o("Io",s.fs),r._o("Ro",s.rT),r._o("Oo",s.eT),s.Es=r.Es.then(function(){return s.iT()}),s}gt(r,t);var e=r.prototype;return e._s=function(){var t=this;return this.Fr=!0,id.Lb(function(n){return t.uT(n)},this.xb.vo)},e.uT=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Sn(r),t.next=4,this.Qb.oT(this.Fo);case 4:return e=t.sent,t.next=7,this.Jb._s(this.Bu,this.Fo,e);case 7:if(!this.Qb.sT){t.next=10;break}return t.next=10,this.Qb.Eo("persistenttokenavailable",r);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Rn(t.t0),i=t.t0 instanceof ye?t.t0.rs:void 0,u=new Nc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,i),this.Xs(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.nT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this.Qb.cT(e),t.prev=1,!de(r)){t.next=8;break}return t.next=5,this.Qb.fT(new _(r),this.xb.vo);case 5:i=t.sent,t.next=11;break;case 8:return t.next=10,this.Qb.aT(new _(r),this.xb.vo);case 10:i=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!En(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.Jb.bs(i);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof ye?t.t1.rs:void 0,new Nc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,r){return t.apply(this,arguments)}}(),e.Xs=function(t){var r=t instanceof Nc?t:new Nc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.wo(new Zv(r)),this.ls()},e.iT=function(){this.Jb.ko("Io",this.fs),this.Jb.ko("Ro",this.rT),this.Jb.ko("Oo",this.eT),this.tT=!1,this.xb.fo()},e.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),this.iT(),t.next=4,this.Jb.ls().catch(rt);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r}(Mn),od=[Ds.Ch,Ds.Ih,Ds.ev],sd=function(t){function n(n,r,e){var i;(i=t.call(this)||this).hT=[],i.Cs=n,i.qb=e,i.vT=r;var u=r.dT;return u&&An(n.Os(u)),i}gt(n,t);var r=n.prototype;return r.lT=function(){return this.wT||(this.wT=this.yT()),this.wT},r.yT=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vT.fT(new _(ve()));case 2:return n=t.sent,t.next=5,this.Cs.Os(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.gT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cs.Ns("temporary");case 2:return i=t.sent,u=new ud(i,this.vT,n,r,e),this.hT.push(u),u._o(od,this.lo),u.Es.then(function(){return o._T(u)}),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.pT=function(t,n,r){if(r)return!1;for(var e=0,i=this.hT;e<i.length;e++){var u=i[e];if(!u.Zb&&u.Bu===t&&er(u.Fo,n))return!0}return!1},r._T=function(t){t.ko(od,this.lo),gn(this.hT,t)},r.oe=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),n=this.hT.slice(),this.hT.length=0,t.next=5,C.all(n.map(function(t){return t.ls()}));case 5:this.vT.oe();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"mT",get:function(){return this.vT.mT}},{key:"Bs",get:function(){return this.vT.Bs}},{key:"kT",get:function(){return this.vT.kT}},{key:"bT",get:function(){return this.vT.bT}},{key:"TT",get:function(){return this.vT.TT}}]),n}(Mn),cd=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return gt(n,t),n}(qn),fd=function(t){function r(n,r,e,i,u){var o;return(o=t.call(this)||this).ET=void 0,o.Bs=n,o.mT=r,o.bT=e,o.Eb=i,o.ST=u,o.kT=o.RT(r),o}gt(r,t);var e=r.prototype;return e.IT=function(){return this.ET},e.cT=function(t){this.ET=t},e.CT=function(){return this.kT.licenseAcquisitionURL||this.IT()},e.oT=function(t){return C.resolve(void 0)},e.NT=function(){var t=C.coroutine(xt.mark(function t(r,e,i,u){var o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.OT(r,e,i,u)).rb){t.next=3;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.DT.yb(o);case 6:return s=t.sent,t.next=9,s.AT(e);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Rn(t.t0),t.next=17,this.PT(t.t0,o.rb,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,r,e,i){return t.apply(this,arguments)}}(),e.OT=function(t,n,r,e){var i=this.xT().Vk(),u=this.ab,o={rb:this.FT(),ob:n,ib:i,eb:t,ab:u,ub:Rv.POST,sb:0,vo:e,xu:Iv.Gk,cb:r};return new Fv(o)},e.nT=function(t,n){return C.resolve(t)},e.BT=function(t,n,r,e){return C.resolve(t)},e.xT=function(){return new Ov(this.kT.headers||{})},e.PT=function(){var t=C.coroutine(xt.mark(function t(r,e,i){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",r);case 1:case"end":return t.stop()}},t)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.FT=function(t,n){var r=n,e=this.kT.queryParameters;if(!r){var i=this.CT();if(!i)return"";r=i}if(e||t){var u=O.Mc(r);t&&Zu(u,t),e&&Zu(u,e),r=u.href}return r},e.LT=function(t){return function(t,n){var r=n.licenseResponseProcessor;return C.resolve(new _(ad(t,r)))}(t,this.kT)},e.MT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UT(n,e);case 2:return i=t.sent,t.next=5,this.NT(i,this.ST,r,e);case 5:return u=t.sent,t.next=8,this.LT(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.oe=function(){this.mo()},x(r,[{key:"DT",get:function(){return this.Eb}},{key:"sT",get:function(){return!1}},{key:"dT",get:function(){var t=this.kT.certificate;if(t)return Q(t)?Qn(t):ce(t)}},{key:"qT",get:function(){return"optional"}},{key:"Ls",get:function(){return!1}},{key:"TT",get:function(){return!1}},{key:"ab",get:function(){return Boolean(this.kT.useCredentials)}}]),r}(Mn);function ad(t,r){if(!t||!r||"function"!=typeof r)return t;try{return r(t)}catch(t){throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function hd(t,n){var r=fe(t).buffer,e=n.licenseRequestProcessor;return C.resolve(ad(r,e))}var vd,dd=function(t){function n(n,r,e,i){return t.call(this,nn,n,r,e,i)||this}gt(n,t);var r=n.prototype;return r.RT=function(t){return t.widevine||{}},r.fT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dT){t.next=2;break}return t.abrupt("return",this.dT);case 2:return t.abrupt("return",this.aT(new _(n),r));case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.aT=function(n,r){return t.prototype.MT.call(this,n,Cv.Jk,r)},n}(fd);!function(t){t.Ou="Widevine",t.Nu="PlayreadyV2",t.jT="PlayreadyV2",t.VT="PlayreadyV3",t.Du="Fairplay"}(vd||(vd={}));var ld={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function wd(t,n){var r,e,i,u,o=ld[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(r=O.qf)||void 0===r?void 0:r.jf,OSVersion:null===(e=O.qf)||void 0===e?void 0:e.$f,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(i=O.qf)||void 0===i?void 0:i.Jf,DeviceModel:null===(u=O.qf)||void 0===u?void 0:u.Qf}}}function yd(t,r){if(!t.accountName)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, portalId is not set.");throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration.")}function gd(t,n,r){var e;if(Nf(t))e={AuthToken:t.authToken,Payload:n};else{if(!Of(t))throw yd(t,r);e={LatensRegistration:wd(t,r),Payload:n}}return sr(JSON.stringify(e))}function _d(t,n,r){return pd.apply(this,arguments)}function pd(){return(pd=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.gb){t.next=3;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,e);case 3:return o=u,t.prev=4,t.next=7,o.HT(i);case 7:s=t.sent,c=md(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,o.yb.rb,o.pb,o.WT,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function md(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var kd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e,Tv.Uk)||this).zT=!0,i}gt(r,t);var e=r.prototype;return e.PT=function(t,n,r){return _d(t,n,r)},e.UT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.mT){t.next=3;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=tr(r),t.abrupt("return",gd(i,u,vd.Ou));case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.LT=function(t){var r;if(!t.license)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return r=Qn(t.license),C.resolve(r)},e.XT=function(t){return C.resolve(new _(t))},e.fT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GT(),t.next=3,this.UT(n,r);case 3:return e=t.sent,t.next=6,this.NT(e,Tv.Mk,Cv.Qk,r);case 6:return i=t.sent,t.next=9,this.XT(i);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.aT=function(){var n=C.coroutine(xt.mark(function n(r,e){var i;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.aT.call(this,r,e);case 2:return i=n.sent,this.GT(),n.abrupt("return",i);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),e.GT=function(){this.wo(new cd),this.zT=!1},x(r,[{key:"sT",get:function(){return this.zT}},{key:"qT",get:function(){return"required"}}]),r}(dd),bd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e,Tv.Mk)||this).cT("https://widevine-proxy.drm.technology/proxy"),i}return gt(r,t),r.prototype.UT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hd(r,this.kT);case 2:if(i=t.sent,u=this.bT,e=new _(i),o=[].slice.call(e),s=this.YT){t.next=8;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var e},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),x(r,[{key:"YT",get:function(){if(Df(this.mT))return this.mT.token}}]),r}(dd);function Td(t,n){var r=n||{};return t.ticket&&t.sessionId&&(r=Ft(Ft({},r),{SessionId:t.sessionId,Ticket:t.ticket})),Ft(Ft({},r),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Ed=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,Tv.Mk)||this).cT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),i}gt(n,t);var r=n.prototype;return r.UT=function(t,n){return hd(t,this.kT)},r.FT=function(n,r){var e=n;return Rf(this.mT)&&(e=Td(this.mT,e)),t.prototype.FT.call(this,e,r)},n}(dd),Sd="Conax-Custom-Data";function Rd(t,n,r){var e=t&&Sf(t)&&t;if(e&&!r.has(Sd)){var i=Zc(e)?e.token:void 0,u=Zc(e)?e.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:i,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});r.set(Sd,o)}return r}var Id=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,Tv.Mk)||this).cT("https://connect.conax.com:8094/license"),i}gt(n,t);var r=n.prototype;return r.UT=function(t,n){return hd(t,this.kT)},r.xT=function(){var n=t.prototype.xT.call(this);return Rd(this.mT,"Widevine",n)},n}(dd);function Cd(t){var n=Qr(new _(t));return Qn(JSON.parse(n).license)}function Nd(t){return"string"==typeof t.token?t.token:sr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Od(t,n,r){var e;return e=r.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var Dd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,Tv.Mk)||this).cT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),i}gt(n,t);var r=n.prototype;return r.UT=function(t,n){return hd(t,this.kT)},r.LT=function(t){return C.resolve(Cd(t))},r.xT=function(){return Od(t.prototype.xT.call(this),this.YT,this.mT)},x(n,[{key:"YT",get:function(){return Nd(this.mT)}}]),n}(dd),Ad=function(t){function n(n,r,e){return t.call(this,n,r,e,Tv.Mk)||this}gt(n,t);var r=n.prototype;return r.UT=function(t,n){return hd(t,this.kT)},r.xT=function(){var n=t.prototype.xT.call(this),r=this.mT.token;return n.set("Authorization","Bearer "+r),n},n}(dd);function Pd(t,n,r,e){return xd.apply(this,arguments)}function xd(){return(xd=C.coroutine(xt.mark(function t(r,e,i,u){var o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Af(r)){t.next=2;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new Ov).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=r.sessionId)&&o.append("XSSESSION",s),c=r.streamId,f=r.fairplay?"persistent"===r.fairplay.licenseType?"persistent":"non-persistent":r.widevine&&"persistent"===r.widevine.licenseType?"persistent":"non-persistent",a={drmType:e,licenseType:f,streamId:c},h={rb:r.ticketAcquisitionURL,ob:Tv.Uk,ib:o,ub:Rv.POST,eb:JSON.stringify(a),vo:u},t.next=13,i.yb(h);case 13:return v=t.sent,t.next=16,v.HT();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Fd=function(t){function n(n,r,e){return t.call(this,n,r,e,Tv.Uk)||this}gt(n,t);var r=n.prototype;return r.xT=function(){var n=t.prototype.xT.call(this);return n.set("Content-Type","application/json"),n},r.UT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=or(n.buffer),i=this.mT,t.next=4,Pd(i,"widevine_modular",this.DT,r);case 4:return u=t.sent,this.cT(u.licenseServerUrl),o=Zr(JSON.stringify({payload:e,ticket:u.ticket})),t.abrupt("return",hd(o,this.kT));case 8:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.LT=function(t){var n=t;return C.resolve(Qn(n.license))},n}(dd),Bd=function(t){function r(n,r,e){return t.call(this,n,r,e,Tv.Mk)||this}gt(r,t);var e=r.prototype;return e.UT=function(t,n){return hd(t,this.kT)},e.xT=function(){if(!Pf(this.mT))throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.xT.call(this);return r.set("X-AxDRM-Message",this.mT.token),r},r}(dd);function Ld(t){for(var n=new _(2*t.length),r=0;r<t.length;r+=1)n[2*r]=t.charCodeAt(r),n[2*r+1]=0;return n}var Md=function(t){function n(n,r,e){var i;return(i=t.call(this,tn,n,r,e,Tv.Mk)||this).KT=void 0,i}gt(n,t);var r=n.prototype;return r.RT=function(t){return t.playready||{}},r.xT=function(){var n=new Ov(this.KT);return n.Wk(t.prototype.xT.call(this)),n},r.$T=function(t){return t.length>=1&&t[0].ou.length>0},r.oT=function(n){var r=this.mT.playready.customData;if(r){var e=Ld(r),i=Ld('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+tr(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{Js:i}})}return t.prototype.oT.call(this,n)},r.UT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hd(n,this.kT);case 2:return e=t.sent,t.abrupt("return",this.JT(e));case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.JT=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c,f,a,h,v,d,l,w,y,g;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new ae,void 0===(m=!0)&&(m=!1),c=$r(_,p,m,!0),t.prev=3,f=O.Yi(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(a=null===(r=f.uu("PlayReadyKeyMessage")[0])||void 0===r?void 0:r.uu("LicenseAcquisition")[0],h=null!==(e=null==a?void 0:a.uu("Challenge"))&&void 0!==e?e:[],this.$T(h)&&(o=ur(h[0].pu)),v=new Ov,d=null!==(u=null===(i=null==a?void 0:a.uu("HttpHeaders")[0])||void 0===i?void 0:i.uu("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)w=d[l],y=w.uu("name")[0].pu,g=w.uu("value")[0].pu,v.append(y,g);return this.KT=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),r.fT=function(t,n){return C.resolve(t)},r.aT=function(n,r){return t.prototype.MT.call(this,n,Cv.Zk,r)},x(n,[{key:"Ls",get:function(){return Boolean(this.mT.playready.customData)}}]),n}(fd),Ud=function(){function t(n){this.QT=n,this.ZT=t.tE(n)}return t.tE=function(t){return"3"===t.version?vd.VT:vd.jT},t.prototype.nE=function(){var t={};if(this.ZT===vd.VT){var n={LatensRegistration:wd(this.QT,vd.VT)};t["X-TITANIUM-DRM-CDATA"]=sr(JSON.stringify(n))}return t},x(t,[{key:"rE",get:function(){return this.ZT}},{key:"Ls",get:function(){return this.ZT===vd.jT}}]),t}();var qd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e)||this).eE=new Ud(i.mT),i}gt(r,t);var e=r.prototype;return e.oT=function(t){var r=this.mT;if(!this.mT)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Of(r)){var e={};return e.playready={Js:jd(r,this.eE.rE)},C.resolve(e)}return C.reject(yd(r,vd.Nu))},e.xT=function(){var n=new Ov(this.eE.nE());return n.Wk(t.prototype.xT.call(this)),n},e.PT=function(){var t=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.gb){t.next=3;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,e);case 3:return t.prev=3,t.next=6,o.iE(i);case 6:f=t.sent,a=Qr(new _(f)),(h=O.Yi(a))&&(v=sv(h,"CustomData")).length>0&&(s=JSON.parse(v[0].pu),c=null===(u=s.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,e,o.pb,o.WT,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,r,e){return t.apply(this,arguments)}}(),e.$T=function(t){if(1!==t.length)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},x(r,[{key:"Ls",get:function(){return this.eE.Ls}}]),r}(Md);function jd(t,n){var r=wd(t,n),e=r.DeviceInfo.FormatVersion,i=sr('<LatensRegistration formatversion="'+e+'"><AccountName>'+r.AccountName+"</AccountName><CustomerName>"+r.CustomerName+"</CustomerName><PortalID>"+r.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+r.DeviceInfo.DeviceType+"</DeviceType><OSType>"+r.DeviceInfo.OSType+"</OSType><OSVersion>"+r.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+r.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+r.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+r.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+r.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+r.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=ne(("<TitaniumCustomData>"+i+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return ne('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+tr(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Vd,Hd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e)||this).cT("https://playready-license.drm.technology/rightsmanager.asmx"),i}gt(r,t);var e=r.prototype;return e.$T=function(t){if(1!==t.length)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.FT=function(n,r){var e=Ft(Ft({},n||{}),{token:this.YT});return t.prototype.FT.call(this,e,r)},x(r,[{key:"YT",get:function(){if(Df(this.mT))return this.mT.token}}]),r}(Md),Wd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this).cT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),i}return gt(n,t),n.prototype.FT=function(n,r){var e=n;return Rf(this.mT)&&(e=Td(this.mT,e)),t.prototype.FT.call(this,e,r)},n}(Md),zd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this).cT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),i}return gt(n,t),n.prototype.xT=function(){var n=t.prototype.xT.call(this);return Rd(this.mT,"PlayReady",n)},n}(Md),Xd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this).cT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),i}gt(n,t);var r=n.prototype;return r.LT=function(n){return(sn(Qr(new _(n)),"<?xml")?Vd.uE:Vd.HT)===Vd.HT?C.resolve(Cd(n)):C.resolve(t.prototype.LT.call(this,new _(n)))},r.xT=function(){return Od(t.prototype.xT.call(this),this.YT,this.mT)},x(n,[{key:"YT",get:function(){return Nd(this.mT)}}]),n}(Md);!function(t){t[t.uE=0]="uE",t[t.HT=1]="HT"}(Vd||(Vd={}));var Gd,Yd=function(t){function n(n,r,e){return t.call(this,n,r,e)||this}gt(n,t);var r=n.prototype;return r.xT=function(){var n=t.prototype.xT.call(this);return this.oE&&n.set("Ticket",this.oE),n.set("Content-Type","text/xml"),n},r.UT=function(){var n=C.coroutine(xt.mark(function n(r,e){var i,u;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=this.mT,n.next=3,Pd(i,"playready",this.DT,e);case 3:return u=n.sent,this.cT(u.licenseServerUrl),this.oE=u.ticket,n.abrupt("return",t.prototype.UT.call(this,r,e));case 7:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),n}(Md),Kd=function(t){function r(){return t.apply(this,arguments)||this}return gt(r,t),r.prototype.xT=function(){if(!Pf(this.mT))throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.xT.call(this);return r.set("X-AxDRM-Message",this.mT.token),r},r}(Md);!function(t){t.Uk="application/json",t.sE="application/x-www-form-urlencoded",t.cE="application/octet-stream",t.zi="text/plain;charset=UTF-8"}(Gd||(Gd={}));var $d=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n.Bs,r,e,i,u)||this).fE="",o.aE=void 0,o.hE=n.ic,o}gt(n,t);var r=n.prototype;return r.vE=function(){return this.kT.certificateURL||this.aE},r.dE=function(t){this.aE=t},r.UT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.lE(n,this.fE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(tr(n))+"&assetId="+encodeURIComponent(r));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r.RT=function(t){return t.fairplay||{}},r.wE=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var r=t.split("/");return C.resolve(r[r.length-1])},r.oT=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!==(r=this.hE)&&void 0!==r?r:ee(new _(n)),t.next=3,this.wE(e);case 3:return i=t.sent,this.fE=i,(u={}).fairplay={ic:i},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xT=function(){var n=t.prototype.xT.call(this);return n.set("Content-Type",this.yE),n},r.fT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dT){t.next=2;break}return t.abrupt("return",this.dT);case 2:return t.next=4,this.gE(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.aT=function(n,r){return t.prototype.MT.call(this,n,Cv.Kk,r)},r._E=function(t){var n=this.vE(),r=this.xT(),e={rb:n,ob:Tv.Mk,ib:r,ub:Rv.GET,ab:!1,eb:null,sb:0,vo:t,xu:Iv.Gk,cb:Cv.$k};return new Fv(e)},r.gE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._E(n),t.next=3,this.DT.yb(r);case 3:return e=t.sent,t.next=6,e.iE();case 6:return i=t.sent,t.abrupt("return",new _(i));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(t){var n;if("string"==typeof t){var r=t.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n=Qn(r)}else n=new _(t);return C.resolve(n)},r.FT=function(n,r){var e=t.prototype.FT.call(this,n,r);return sn(e,"skd:")&&(e=e.substr("skd:".length)),e},x(n,[{key:"TT",get:function(){return!0}},{key:"yE",get:function(){return Gd.sE}}]),n}(fd),Jd=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,Tv.Mk)||this}gt(n,t);var r=n.prototype;return r.wE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split("://",1),e=r[0].slice(-3),r=n.split(";",2),i=r.length>1?r[1]:"",t.abrupt("return","skd"===e.toLowerCase()?i:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.UT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(t){return C.resolve(new _(t))},r.FT=function(n,r){var e=n||{};return e.p1=wt(),t.prototype.FT.call(this,e,r)},x(n,[{key:"yE",get:function(){return Gd.cE}}]),n}($d),Qd=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.Mk)||this).cT("https://fairplay-license.drm.technology/license"),u.dE("https://fairplay-license.drm.technology/certificate"),u}gt(r,t);var e=r.prototype;return e.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={token:this.YT,contentId:r,payload:tr(n)},t.abrupt("return",JSON.stringify(e));case 2:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.LT=function(t){return C.resolve(new _(t))},e.xT=function(){var n=t.prototype.xT.call(this);return n.set("x-vudrm-token",this.YT),n},x(r,[{key:"yE",get:function(){return Gd.Uk}},{key:"YT",get:function(){if(!Df(this.mT))throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.mT.token}}]),r}($d),Zd="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",tl="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",nl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,Tv.Mk)||this}return gt(r,t),r.prototype.LT=function(r){var e=function(t){var r;try{r=JSON.parse(t).ckc}catch(t){throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Zd)}if(!r)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,tl);return r}(Qr(new DataView(r)));return t.prototype.LT.call(this,e)},r}($d);var rl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,Tv.Uk)||this}gt(r,t);var e=r.prototype;return e.UT=function(){var t=C.coroutine(xt.mark(function t(r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.mT){t.next=3;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return i=tr(r),t.abrupt("return",gd(e,i,vd.Du));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.LT=function(t){try{var r;if(Q(t)){var e=t.trim();r=JSON.parse(e)}else r=t;if(r.license){var i=ur(r.license);return C.resolve(new _(i))}return C.reject(new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.PT=function(t,n,r){return _d(t,n,r)},x(r,[{key:"yE",get:function(){return Gd.Uk}}]),r}($d),el=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.Mk)||this).cT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.dE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}gt(n,t);var r=n.prototype;return r.vE=function(){var n=t.prototype.vE.call(this);if(!n)return n;var r=O.Mc(n),e=this.mT;return Rf(e)&&Zu(r,{accountId:e.accountId,applicationId:e.applicationId||""}),r.href},r.wE=function(){var n=C.coroutine(xt.mark(function n(r){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Rf(this.mT)){n.next=2;break}return n.abrupt("return",this.mT.contentId);case 2:return n.abrupt("return",t.prototype.wE.call(this,r));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r.UT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(t){return C.resolve(new _(t))},r.FT=function(n,r){var e=n;return Rf(this.mT)&&(e=function(t,n){return Ft(Ft({},Td(t,n)),{KeyId:t.keyId})}(this.mT,e)),t.prototype.FT.call(this,e,r)},x(n,[{key:"yE",get:function(){return Gd.cE}}]),n}($d),il=function(t){function r(r,e,i,u){var o;if(o=t.call(this,r,e,i,u,Tv.zi)||this,!Sf(e))throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.cT("https://connect.conax.com:8097/license"),o}gt(r,t);var e=r.prototype;return e.xT=function(){var n=t.prototype.xT.call(this);return Rd(this.mT,"FairPlay",n)},e.gE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.vE(),e={rb:r,ob:Tv.Mk,ib:{},ub:Rv.GET,ab:!1,eb:null,sb:0,vo:n,xu:Iv.Gk,cb:Cv.$k},t.next=4,this.DT.yb(e);case 4:return i=t.sent,t.next=7,i.iE();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.UT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.wE=function(t){var n,r=t.indexOf("?");return 0===t.indexOf("skd://")?(n=r>=0?t.substring("skd://".length,r):t.substring("skd://".length),C.resolve(Qr(Qn(n)))):C.resolve("unknown")},e.LT=function(t){try{var n=JSON.parse(t);return C.resolve(new _(ur(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},r}($d),ul=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.zi)||this).cT(_f[Ht.Du]),u}gt(r,t);var e=r.prototype;return e.wE=function(t){return 0===t.indexOf("skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new Nc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+tr(n)+"&assetId="+r);case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r}($d),ol=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.zi)||this).cT("https://lic.drmtoday.com/license-server-fairplay/"),u}gt(n,t);var r=n.prototype;return r.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="spc="+encodeURIComponent(tr(n))+"&"+encodeURI(r),"persistent"!==this.kT.licenseType){t.next=3;break}return t.abrupt("return",e+"&offline=true");case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.xT=function(){return Od(t.prototype.xT.call(this),this.YT,this.mT)},x(n,[{key:"YT",get:function(){return Nd(this.mT)}}]),n}($d),sl=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,Tv.Mk)||this}gt(n,t);var r=n.prototype;return r.wE=function(t){var n=t;return sn(n,"skd:")&&(n="http:"+n.substring(4)),sn(n,"http:")||sn(n,"https:")?C.resolve(O.Mc(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},r.UT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.LT=function(t){return C.resolve(new _(t))},x(n,[{key:"yE",get:function(){return Gd.cE}}]),n}($d),cl=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,Tv.zi)||this}return gt(n,t),n.prototype.xT=function(){var n=t.prototype.xT.call(this),r=this.mT.token;return n.set("Authorization","Bearer "+r),n},n}($d),fl=function(t){function n(n,r,e,i){var u;if(u=t.call(this,n,r,e,i,Tv.Uk)||this,!Af(r))throw new h("Invalid Xstream DRM configuration");return u}gt(n,t);var r=n.prototype;return r.gE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.vE(),e=this.xT(),i={rb:r,ob:Tv.Uk,ib:e,ub:Rv.POST,vo:n,xu:Iv.Gk,cb:Cv.$k},t.next=5,this.DT.yb(i);case 5:return u=t.sent,t.next=8,u.HT();case 8:return o=t.sent,t.abrupt("return",new _(Qn(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.aT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o,s,c,f,a;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=Tv.zi),i=tr(n),u=this.mT,t.next=5,Pd(u,"fairplay",this.DT,r);case 5:return o=t.sent,s=Zr(JSON.stringify({spc:i,ticket:o.ticket})),c={rb:this.CT(),ob:Tv.Uk,ib:this.xT(),ub:Rv.POST,eb:s,sb:0,vo:r,xu:Iv.Gk,cb:Cv.Kk},t.next=10,this.DT.yb(c);case 10:return f=t.sent,t.next=13,f.HT();case 13:return a=t.sent,t.abrupt("return",Qn(a.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),x(n,[{key:"yE",get:function(){return Gd.Uk}}]),n}($d),al=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,Tv.zi)||this}gt(r,t);var e=r.prototype;return e.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tr(n));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),e.LT=function(r){if(0===r.length)throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.LT.call(this,r)},e.xT=function(){var n=t.prototype.xT.call(this);return n.set("Content-Type","text/plain"),n},r}($d),hl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,Tv.Mk)||this}gt(r,t);var e=r.prototype;return e.lE=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.LT=function(t){return C.resolve(new _(t))},e.xT=function(){if(!Pf(this.mT))throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.xT.call(this);return r.set("X-AxDRM-Message",this.mT.token),r},x(r,[{key:"yE",get:function(){return Gd.Uk}}]),r}($d),vl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.Uk)||this).pE=void 0,u}gt(r,t);var e=r.prototype;return e.lE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={spc:tr(n)},t.abrupt("return",JSON.stringify(e));case 2:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),e.wE=function(t){var r=O.Mc(t);return this.pE=t,r.searchParams.has("b")?C.resolve(r.searchParams.get("b")):C.reject(new Nc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.FT=function(n,r){var e=this.CT();return!e&&this.pE&&(e=this.pE),e&&(e=e.replace("skd://","https://")),t.prototype.FT.call(this,n,r||e)},e.LT=function(){var t=C.coroutine(xt.mark(function t(r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=Q(r)?JSON.parse(r.trim()):r).ckc){t.next=4;break}return t.abrupt("return",Qn(e.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),x(r,[{key:"yE",get:function(){return Gd.zi}}]),r}($d),dl=function(){function t(t,n){this.mE=t,this.kE=n}var n=t.prototype;return n.bE=function(t){return this.mE(t)},n.TE=function(t,n){throw new v(n+" must be "+this.kE+". (Received: "+t+")")},t}(),ll=new dl(nt,"a number"),wl=new dl(Q,"a string"),yl=new dl(Z,"a boolean");var gl,_l=(gl={responseCode:ll,isException:yl,description:wl,title:wl,correlationId:wl},{bE:function(t){if(!$(t))return!1;for(var n=0,r=d.keys(gl);n<r.length;n++){var e=r[n];if(!gl[e].bE(t[e]))return!1}return!0},TE:function(t,n){if(!$(t))throw new v(n+" must be an object.");for(var r=0,e=d.keys(gl);r<e.length;r++){var i=e[r],u=gl[i];if(!u.bE(t[i]))return u.TE(t[i],n+"."+i)}throw new v}});function pl(t,n,r,e,i){return ml.apply(this,arguments)}function ml(){return(ml=C.coroutine(xt.mark(function t(n,r,e,i,u){var o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=kl(n,r,e,u),t.next=3,bl(o,i);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kl(t,n,r,e){var i={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var r=O.Mc(t);return Zu(r,n),r.toString()}(r,i)),o=new Ov({});o.append("Content-Type","application/json");var s=tr(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{rb:u,ob:Tv.zi,ib:o,ub:Rv.POST,eb:JSON.stringify(c),vo:e,xu:Iv.Gk,cb:Cv.Kk}}function bl(t,n){return Tl.apply(this,arguments)}function Tl(){return(Tl=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.yb(r);case 2:return i=t.sent,t.next=5,i.HT();case 5:if(u=t.sent,!_l.bE(u)){t.next=8;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,r.rb,u.responseCode);case 8:return t.abrupt("return",Qn(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var El=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,Tv.Mk)||this).EE=r,u}gt(n,t);var r=n.prototype;return r.wE=function(n){var r=n.replace("FairPlay",this.EE.releasePid);return t.prototype.wE.call(this,r)},r.aT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pl(n,this.EE,this.CT(),this.DT,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}($d),Sl=function(t){function r(n,r,e){return t.call(this,en,n,r,e,Tv.Mk)||this}gt(r,t);var e=r.prototype;return e.RT=function(t){return t.clearkey||{}},e.UT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hd(n,this.kT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.NT=function(){var r=C.coroutine(xt.mark(function r(e,i,u,o){var s,c;return xt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=this.kT,!this.CT()){r.next=5;break}return r.abrupt("return",t.prototype.NT.call(this,e,this.ST,u,o));case 5:if(!s.keys||!s.keys.length){r.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},r.abrupt("return",Zr(JSON.stringify(c)).buffer);case 10:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return r.stop()}},r,this)}));return function(t,n,e,i){return r.apply(this,arguments)}}(),e.fT=function(t,n){return C.resolve(new _(0))},e.aT=function(n,r){return t.prototype.MT.call(this,n,Cv.tb,r)},r}(fd),Rl=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.UT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",hd(n,this.kT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(dd),Il={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Cl(t,n,r){return Nl.apply(this,arguments)}function Nl(){return(Nl=C.coroutine(xt.mark(function t(n,r,e){var i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Hl(r),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(u.call(n,i)),e);case 8:if(!se(o=t.sent)){t.next=11;break}return t.abrupt("return",ce(o));case 11:return t.abrupt("return",Vl(Ft(Ft({},Il),o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ol(t,n,r,e,i){return Dl.apply(this,arguments)}function Dl(){return(Dl=C.coroutine(xt.mark(function t(n,r,e,i,u){var o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=jl(r,e,i),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",ce(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Al(t,n,r,e){return Pl.apply(this,arguments)}function Pl(){return(Pl=C.coroutine(xt.mark(function t(n,r,e,i){var u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bl(n,r,e,i);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Vl(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xl(t,n,r,e,i,u){return Fl.apply(this,arguments)}function Fl(){return(Fl=C.coroutine(xt.mark(function t(n,r,e,i,u,o){var s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=ql(e,u),t.next=3,Ml(n,new _(r),s,i,o);case 3:return c=t.sent,t.abrupt("return",ce(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Bl(t,n,r,e){return Ll.apply(this,arguments)}function Ll(){return(Ll=C.coroutine(xt.mark(function t(n,r,e,i){var u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=ql(r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Cn(C.resolve(u.call(n,o)),i);case 8:if(!se(s=t.sent)){t.next=11;break}return t.abrupt("return",ce(s).buffer);case 11:return t.abrupt("return",Ft(Ft({fairplaySkdUrl:void 0},Il),s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ml(t,n,r,e,i){return Ul.apply(this,arguments)}function Ul(){return(Ul=C.coroutine(xt.mark(function t(n,r,e,i,u){var o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=jl(r,e,i),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",ce(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ql(t,n){return Ft(Ft({},Hl(t)),{fairplaySkdUrl:n})}function jl(t,n,r){return{url:r._b,status:r.pb,statusText:r.WT,headers:r.ib.Vk(),body:t,request:n}}function Vl(t){return new Fv({rb:t.url,ub:t.method,ib:t.headers,eb:t.body,ab:t.useCredentials})}function Hl(t){var n;return{url:t.rb,body:null!==(n=Wl(t.eb))&&void 0!==n?n:null,headers:t.ib.Vk(),method:t.ub,useCredentials:t.ab}}function Wl(t){if(t)return"string"==typeof t?Zr(t):t instanceof ArrayBuffer?new _(t):rr(t)?oe(t):void 0}var zl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e)||this).SE=i,u}gt(r,t);var e=r.prototype;return e.fT=function(t,n){return C.resolve(t)},e.aT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.JT(fe(r).buffer);case 2:return i=t.sent,u=this.OT(i,Tv.Mk,Cv.Zk,e),t.next=6,Al(this.SE,u,void 0,e);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(o));case 10:if(""!==o.rb){t.next=12;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.DT.yb(o);case 15:return s=t.sent,t.next=18,s.iE(e);case 18:return c=t.sent,t.t0=_,t.next=22,xl(this.SE,c,u,s,void 0,e);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Rn(t.t2),new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Md),Xl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,Tv.Mk)||this).SE=i,u}gt(r,t);var e=r.prototype;return e.fT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dT){t.next=2;break}return t.abrupt("return",this.dT);case 2:return i=this.OT(r,Tv.Mk,Cv.Qk,e),t.next=5,Cl(this.SE,i,e);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.rb){t.next=11;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.DT.yb(u);case 14:return o=t.sent,t.next=17,o.iE(e);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Rn(t.t0),new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=ql(i,void 0),t.next=27,Ol(this.SE,new _(s),c,o,e);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,r){return t.apply(this,arguments)}}(),e.aT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OT(r,Tv.Mk,Cv.Jk,e),t.next=3,Al(this.SE,i,void 0,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.rb){t.next=9;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.DT.yb(u);case 12:return o=t.sent,t.next=15,o.iE(e);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Rn(t.t0),new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,xl(this.SE,s,i,o,void 0,e);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Rl),Gl=function(t){function r(n,r,e,i,u){var o;return(o=t.call(this,n,r,e,i,Tv.Mk)||this).SE=u,o}gt(r,t);var e=r.prototype;return e.fT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dT){t.next=2;break}return t.abrupt("return",this.dT);case 2:return i=this._E(e),t.next=5,Cl(this.SE,i,e);case 5:if(u=t.sent,!rr(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.DT.yb(u);case 11:return o=t.sent,t.next=14,o.iE();case 14:return s=t.sent,c=ql(i,void 0),t.next=18,Ol(this.SE,new _(s),c,o,e);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Rn(t.t0),new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,r){return t.apply(this,arguments)}}(),e.aT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.OT(r,Tv.Mk,Cv.Kk,e),t.next=3,Al(this.SE,i,this.RE,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.rb){t.next=9;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.DT.yb(u);case 12:return o=t.sent,t.next=15,o.iE(e);case 15:return s=t.sent,t.t0=_,t.next=19,xl(this.SE,s,i,o,this.RE,e);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Rn(t.t2),new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,r){return t.apply(this,arguments)}}(),e.wE=function(){var n=C.coroutine(xt.mark(function n(r){var e;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.RE=r,!(null===(e=this.SE)||void 0===e?void 0:e.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",C.resolve(this.SE.extractFairplayContentId(r)));case 3:return n.abrupt("return",t.prototype.wE.call(this,r));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r}($d),Yl=function(){function t(){}var n=t.prototype;return n.IE=function(t,n){return new sd(t,n,this)},n.CE=function(t,n,r,e){switch(t.Bs.xu){case Ht.Ou:return this.NE(n,r,e);case Ht.Nu:return this.OE(n,r,e);case Ht.Du:return this.DE(t,n,r,e);case Ht.Au:default:return this.AE(n,r,e)}},n.NE=function(t,n,r){var e,i=(e=t).integration===$c&&Q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(i&&sf.pl.yl(i,$t)){var u=sf.pl._l(i,$t,t);return new Xl(t,n,r,u)}switch(i){case Fc:return new kd(t,n,r);case Uc:return new bd(t,n,r);case Mc:return new Ed(t,n,r);case Bc:return new Id(t,n,r);case Vc:return new Dd(t,n,r);case Wc:return new Ad(t,n,r);case zc:return new Fd(t,n,r);case Gc:return new Bd(t,n,r);case jc:default:return new Rl(t,n,r,Tv.Mk)}},n.OE=function(t,n,r){var e=t.integration;if(e&&sf.pl.yl(e,Gt)){var i=sf.pl._l(e,Gt,t);return new zl(t,n,r,i)}switch(e){case Fc:return new qd(t,n,r);case Uc:return new Hd(t,n,r);case Mc:return new Wd(t,n,r);case Bc:return new zd(t,n,r);case Vc:return new Xd(t,n,r);case zc:return new Yd(t,n,r);case Gc:return new Kd(t,n,r);case jc:default:return new Md(t,n,r)}},n.DE=function(t,n,r,e){var i=n.integration;if(i&&sf.pl.yl(i,Qt)){var u=sf.pl._l(i,Qt,n);return new Gl(t,n,r,e,u)}switch(i){case Lc:return new Jd(t,n,r,e);case Uc:return new Qd(t,n,r,e);case qc:return new nl(t,n,r,e);case Fc:return new rl(t,n,r,e);case Mc:return new el(t,n,r,e);case Bc:return new il(t,n,r,e);case jc:return new ul(t,n,r,e);case Vc:return new ol(t,n,r,e);case Hc:return new sl(t,n,r,e);case Wc:return new cl(t,n,r,e);case zc:return new fl(t,n,r,e);case Xc:return new al(t,n,r,e);case Gc:return new hl(t,n,r,e);case Yc:return new vl(t,n,r,e);case Kc:return new El(t,n,r,e);default:return new $d(t,n,r,e,Tv.zi)}},n.AE=function(t,n,r){return new Sl(t,n,r)},n.PE=function(t){return t.xu===Ht.Nu||t.xu===Ht.Ou||t.xu===Ht.Du||t.xu===Ht.Au},t}();function Kl(t,n){switch(n){case Ht.Ou:return t.widevine;case Ht.Nu:return t.playready;case Ht.Du:return t.fairplay;default:return}}var $l,Jl=function(t){function r(n,r,e){var i;return void 0===e&&(e=new Yl),(i=t.call(this,e)||this).xE=void 0,i.us=void 0,i.FE=new Jv,i.BE=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Xb(n.Bu,n.Fo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),En(t.t0)||i.Xs(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t){i.wo(t)},i.ME=function(t){i.wo(t),i.wo(new nd(t.errorObject))},i.UE=n,i.Eb=r,i.UE._o(Ln.Do,i.BE),i}gt(r,t);var e=r.prototype;return e.Kb=function(){var t;return null===(t=this.us)||void 0===t?void 0:t.Bs},e.Ds=function(t){if(this.xE)throw new h("Invalid state");this.xE=t},e.jb=function(n){if(!this.xE)throw new h("Invalid state");t.prototype.jb.call(this,n)},e.zb=function(){var t=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c,f,a,h,v,d,l;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(i),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Ub&&this.Ub.Hb.length){t.next=5;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.Ub,r===Wt||r===Xt||r===zt){t.next=9;break}return t.abrupt("return");case 9:o=Bf(r,e),c=0,f=u.Hb;case 11:if(!(c<f.length)){t.next=41;break}if(a=f[c],Sn(i),(h=o[a.Bs.Lu])&&a.Bs.Bu===r){t.next=17;break}return t.abrupt("continue",38);case 17:return t.prev=17,t.next=20,this.qE(a.Bs,i);case 20:if(!(v=t.sent).TT){t.next=24;break}return t.next=24,v.lT();case 24:if(d=this.UE.zd,!this.jE(v,a.Bs.Bu,h,d)){t.next=31;break}return t.next=28,v.gT(a.Bs.Bu,h,d);case 28:return l=t.sent,t.next=31,l._s();case 31:return t.abrupt("return");case 34:t.prev=34,t.t0=t.catch(17),Rn(t.t0),s=t.t0;case 38:c++,t.next=11;break;case 41:return t.next=43,O.$u();case 43:if(!t.sent){t.next=47;break}throw new Nc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 47:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 48:case"end":return t.stop()}},t,this,[[17,34]])}));return function(n,r,e){return t.apply(this,arguments)}}(),e.jE=function(t,n,r,e){return!t.pT(n,r,e)},e.qE=function(t,n){var r=this;return this.FE.Lb(function(n){return r.VE(t,n)},n)},e.VE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(r),this.Ub){t.next=3;break}throw new h("Not initialized");case 3:if(!this.us){t.next=7;break}if(this.us.Bs===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.us);case 7:if(this.qb.PE(n)){t.next=9;break}throw new h("Unsupported "+n.Uu+" key system");case 9:if(e=this.HE(n)){t.next=12;break}throw new h("Missing configuration for "+n.Uu+" key system");case 12:return i=this.Ub,u=this.qb.CE(e,i.mT,e.bT,this.Eb),t.next=16,this.xs(n,e,u,r);case 16:return o=t.sent,(s=this.qb.IE(o,u))._o(Ds.Ch,this.LE),s._o(Ds.Ih,this.ME),s._o(Ds.ev,this.lo),this.us=s,t.abrupt("return",s);case 23:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.xs=function(){var t=C.coroutine(xt.mark(function t(n,r,e,i){var u,o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.Ub,o=n.Bu,s=Kl(u.mT,r.Bs.xu),c=(null==s?void 0:s.persistentState)||e.qT,f=(null==s?void 0:s.distinctiveIdentifier)||void 0,a=Boolean(null==s?void 0:s.audioRobustness)||Boolean(null==s?void 0:s.videoRobustness),t.prev=6,Sn(i),h=Ql(u,o,c,f,e.Ls,(null==s?void 0:s.audioRobustness)||"SW_SECURE_CRYPTO",(null==s?void 0:s.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.xE.WE(n,[h]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Rn(t.t0),Sn(i),!a){t.next=20;break}throw t.t0;case 20:return v=Ql(u,o,c,f,e.Ls,void 0,void 0),t.next=23,this.xE.WE(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,r,e,i){return t.apply(this,arguments)}}(),e.HE=function(t){if(this.Ub)for(var n=0,r=this.Ub.Hb;n<r.length;n++){var e=r[n];if(e.Bs===t)return e}},e.Xs=function(t){var r=t instanceof Nc?t:new Nc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.ME(new Zv(r))},e.zE=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.FE.fo();case 2:if(!(n=this.us)){t.next=8;break}return n.ko(Ds.ev,this.lo),this.us=void 0,t.next=8,n.oe();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Gb=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xE=void 0,t.next=3,this.zE();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.oe=function(){var n=C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.UE.ko(Ln.Do,this.BE),n.next=3,t.prototype.oe.call(this);case 3:return n.next=5,this.FE.oe();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(td);function Ql(t,n,r,e,i,u,o){return{initDataTypes:[n],audioCapabilities:Zl(t.XE,u),videoCapabilities:Zl(t.GE,o),persistentState:r,distinctiveIdentifier:e,Ls:i}}function Zl(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.YE=0]="YE",t[t.KE=1]="KE"}($l||($l={}));var tw=t,nw=tw.MediaSource,rw=tw.WebKitMediaSource,ew=tw.TextTrack,iw=i&&i.createElement("video"),uw=(i&&i.documentElement.style,W.ui&&W.Pi&&W.xi<=26),ow=(W.gi,!(!nw&&!rw)),sw=!!ew,cw=(i&&(i.fullscreenEnabled||i.webkitFullscreenEnabled||i.mozFullScreenEnabled||i.msFullscreenEnabled)||W.wi,W.Ni&&W.Oi,iw&&iw.canPlayType&&(""!==iw.canPlayType("application/vnd.apple.mpegURL")||W.ci&&!W.Ni&&W.fi),iw&&iw.canPlayType&&""!==iw.canPlayType("video/mp4")&&!uw),fw=ow&&!W.Di&&!W.Ri&&!W.Si&&((nw||rw).isTypeSupported?(nw||rw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):iw&&iw.canPlayType&&""!==iw.canPlayType('audio/mp4; codecs="mp4a.40.34"'));ow&&!W.Di&&(fw||((nw||rw).isTypeSupported?(nw||rw).isTypeSupported("audio/mpeg"):iw&&iw.canPlayType&&iw.canPlayType("audio/mpeg"))),ow&&!(W.Ci&&W.ui)&&(nw||rw).isTypeSupported&&(nw||rw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),W.Di||W.Ri||W.Si,W.Ii,W.Di,W.Ri&&W.oi&&W.si;try{e&&e.top!==e.self}catch(t){!0}var aw,hw=function(t){function n(n){var r;return(r=t.call(this,Es.yh)||this).currentTime=n,r}return gt(n,t),n}(qn),vw=function(t){function n(n){var r;return(r=t.call(this,Es.gh)||this).currentTime=n,r}return gt(n,t),n}(qn),dw=function(t){function n(n,r){var e;return void 0===r&&(r=!1),(e=t.call(this)||this).$E=n,e.JE=r,e.QE=Cs._h,e.ZE=!0,e.tS=!1,e.nS=!1,e.rS=function(t){var n=t.readyState;n!==e.QE&&e.wo(t),n===Cs._h&&(e.tS=!1,e.nS=!1),e.eS(n),e.iS(n),e.uS(n),e.maybeDispatchCanPlayThroughEvent(n),e.oS(n),e.sS(n),e.QE=n},e.cS=function(){e.sS(e.QE),e.oS(e.QE),e.ZE=e.$E.Xv},e.fS=function(){e.ZE=e.$E.Xv},e.$E._o(Es.pa,e.rS),e.$E._o(Ds.Vh,e.cS),e.$E._o(Ds.jh,e.fS),e.JE&&e.$E._o(Es.gh,e.lo),e}gt(n,t);var r=n.prototype;return r.eS=function(t){!this.nS&&t>=Cs.ph&&(this.nS=!0,this.wo(new Hs(this.$E.jv,t)))},r.iS=function(t){!this.tS&&t>=Cs.mh&&(this.tS=!0,this.wo(new Ms(this.$E.jv,t)))},r.oS=function(t){this.JE||(t>=Cs.kh&&this.QE<Cs.kh&&!this.$E.Xv||this.aS&&t>=Cs.kh)&&this.wo(new vw(this.$E.jv))},r.sS=function(t){!this.hS(t)||this.$E.Hv||this.$E.Oo||this.wo(new hw(this.$E.jv))},r.uS=function(t){this.QE<=Cs.mh&&t>=Cs.kh&&this.wo(new Ps(this.$E.jv,t))},r.maybeDispatchCanPlayThroughEvent=function(t){t===Cs.bh&&this.wo(new As(this.$E.jv,t))},r.hS=function(t){var n=!this.$E.Xv&&t<=Cs.mh,r=!this.ZE&&this.QE<=Cs.mh;return n&&!r},r.Pa=function(){this.QE=Cs._h,this.ZE=!0,this.tS=!1,this.nS=!1},r.oe=function(){this.mo(),this.JE&&this.$E.ko(Es.gh,this.lo),this.$E.ko(Ds.Vh,this.cS),this.$E.ko(Ds.jh,this.fS),this.$E.ko(Es.pa,this.rS)},x(n,[{key:"aS",get:function(){return!this.$E.Xv&&this.ZE}}]),n}(Mn);!function(t){t.vS="nokey",t.dS="keyexpired",t.lS="sessionnotopened",t.wS="insufficientoutputprotection",t.yS="insufficientsecurity",t.gS="frametoolarge",t._S="loststate",t.pS="resourcebusy",t.mS="unsupportedoperation"}(aw||(aw={}));var lw,ww,yw,gw=[aw.mS,aw.pS,aw._S,aw.gS,aw.yS,aw.wS,aw.lS,aw.dS,aw.vS],_w=[Ds.Ch,Ds.Ih,gs.Qa];[].concat(od,[gs.Qa],gw);function pw(){return yw||(yw=S&&S.document&&S.document.createElement("video")),yw}!function(t){t.Zl="video",t.tw="audio"}(lw||(lw={})),function(t){t[t.kS=0]="kS",t[t.bS=1]="bS",t[t.TS=2]="TS",t[t.Fv=3]="Fv",t[t.ES=4]="ES",t[t.qv=5]="qv",t[t.SS=6]="SS"}(ww||(ww={}));var mw=function(t){function r(r,e,i,u,o,s,c){var f;return void 0===s&&(s=new Yl),void 0===c&&(c=ti()),(f=t.call(this)||this).xE=void 0,f.RS=void 0,f.IS=void 0,f.CS=void 0,f.NS=function(t){var r=t.Oo,e=r.code,i=new Fe(function(t){switch(t){case Ic.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Ic.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Ic.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Ic.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Ic.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Ic.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Ic.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",r);f.RS=new Oc(e,i.message,r.message),f.IS=i,f.wo(new nd(i))},f.OS=function(){f.wo(new qs(f.jv,f.Vd))},f.DS=function(t){f.Xv||(f.CS=void 0),f.wo(t)},f.AS=function(t){f.CS=void 0,f.wo(t)},f.PS=function(){f.wo(new th(f.zd))},f.xS=function(){f.$v>0&&f.Kv>0&&f.wo(new $v)},f.FS=function(t){f.wd.Oa(new Ga(t.track))},f.BS=function(t){var n=bw(f.wd,t.track);n&&f.wd.Da(n)},f.LS=function(){f.MS(f.wd)},f.US=function(t){f.yd.Oa(new Za(t.track))},f.qS=function(t){var n=bw(f.yd,t.track);n&&f.yd.Da(n)},f.jS=function(){f.MS(f.yd)},f.VS=function(t){t.type===Ds.Ih&&(f.RS=Ac(t.errorObject),f.IS=t.errorObject),f.lo(t)},f.HS=e,f.Eb=i,f.Vu=c,f.UE=f.HS.te(ia.Zl),f.WS=f.UE.zS.preload,f.qb=s,f.XS=new dw(f.UE,!0),f.XS._o(Ns,f.lo),f.GS=new Jl(f.UE,f.Eb,f.qb),f.GS._o(_w,f.VS),f.YS(),f.wd=new Ma,f.yd=new Ma,f.KS(),f.$S=new Wv(f.UE,f.Eb),f.gd=new Ss,f.Dd(),f}gt(r,t);var e=r.prototype;return e.Ad=function(){this.UE.Ad()},e.Dd=function(){this.UE.Dd()},e.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(e),i={xu:$l.YE,sh:n.src,JS:n.type,QS:[],nl:this.WS,ZS:n.crossOrigin,tR:r.metadata&&r.metadata.title},t.next=4,this.UE.ps(i);case 4:return this.xE=t.sent,Sn(e),t.next=8,this.GS.Pa();case 8:this.GS.Ds(this.xE),this.GS.jb(this.nR(n)),this.gd.ja=this.UE.bd,r.textTracks&&this.rR(r.textTracks),Kv(this.bd);case 13:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.rR=function(t){for(var n,r=0;r<t.length;r++){var e=t[r];if(this.UE.eR()&&W.wi&&sw&&!Lv(e.kind,e.label)&&this.iR(e)){var i=null!==(n=e.kind)&&void 0!==n?n:wa.kp;this.UE.uR(e.src,i,e.label,e.srclang)}else{if(void 0===e.src)continue;this.$S.Sb(e)}}},e.iR=function(t){return!t.format||"webvtt"===t.format},e.re=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UE.re();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.oR){t.next=12;break}return t.next=10,this.UE.Eo(Ds.Hh);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),e.ee=function(){this.UE.ee()},e.Rd=function(){return void 0!==this.UE.zS.webkitShowPlaybackTargetPicker},e.Id=function(){this.UE.zS.webkitShowPlaybackTargetPicker&&this.UE.zS.webkitShowPlaybackTargetPicker()},e.Cd=function(){this.UE.zS.webkitShowPlaybackTargetPicker&&this.UE.zS.webkitShowPlaybackTargetPicker()},e.Pd=function(){return this.UE.zS},e.xd=function(){return this.UE.sR},e.Pa=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RS=void 0,this.IS=void 0,this.xE&&(this.xE=void 0),this.gd.Pa(),t.next=6,this.UE.Pa();case 6:return this.XS.Pa(),t.next=9,this.GS.Pa();case 9:return this.nl=this.WS,this.md.Pa(),this.kd.Pa(),t.next=14,this.$S.Pa();case 14:this.CS=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pa();case 2:return this.mo(),this.cR(),this.fR(),t.next=7,this.GS.oe();case 7:return this.XS.oe(),t.next=10,this.HS.ie(this.UE);case 10:return this.wd.oe(),this.yd.oe(),this.gd.oe(),t.next=15,this.$S.oe();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.YS=function(){this.UE._o(Ds.Vh,this.lo),this.UE._o(Ds.jh,this.lo),this.UE._o(Ds.nv,this.OS),this.UE._o(Ds.Hh,this.lo),this.UE._o(Ds.Bh,this.lo),this.UE._o(Ds.Yh,this.lo),this.UE._o(Ds.Gh,this.DS),this.UE._o(Ds.Ph,this.lo),this.UE._o(Ds.Wh,this.lo),this.UE._o(Ds.rv,this.lo),this.UE._o(Ds.Dh,this.lo),this.UE._o(Ds.Xh,this.xS),this.UE._o(Es.gh,this.AS),this.UE._o(gs.Qa,this.NS),this.UE.zS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.PS)},e.cR=function(){this.UE.ko(Ds.Vh,this.lo),this.UE.ko(Ds.jh,this.lo),this.UE.ko(Ds.nv,this.OS),this.UE.ko(Ds.Hh,this.lo),this.UE.ko(Ds.Bh,this.lo),this.UE.ko(Ds.Yh,this.lo),this.UE.ko(Ds.Gh,this.DS),this.UE.ko(Ds.Ph,this.lo),this.UE.ko(Ds.Wh,this.lo),this.UE.ko(Ds.rv,this.lo),this.UE.ko(Ds.Dh,this.lo),this.UE.ko(Ds.Xh,this.xS),this.UE.ko(Es.gh,this.AS),this.UE.ko(gs.Qa,this.NS),this.UE.zS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.PS)},e.nR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{mT:t.contentProtection||{},Hb:[{Bs:rn,Wb:[],bT:void 0,ic:void 0}],XE:[],GE:["video/mp4"]}}},e.KS=function(){var t=this.UE.zS.audioTracks,n=this.UE.zS.videoTracks;t&&(t.addEventListener("addtrack",this.FS),t.addEventListener("removetrack",this.BS),t.addEventListener("change",this.LS)),n&&(n.addEventListener("addtrack",this.US),n.addEventListener("removetrack",this.qS),n.addEventListener("change",this.jS))},e.fR=function(){var t=this.UE.zS.audioTracks,n=this.UE.zS.videoTracks;t&&(t.removeEventListener("addtrack",this.FS),t.removeEventListener("removetrack",this.BS),t.removeEventListener("change",this.LS)),n&&(n.removeEventListener("addtrack",this.US),n.removeEventListener("removetrack",this.qS),n.removeEventListener("change",this.jS))},e.MS=function(t){for(var n=0;n<t.Fa;n++){t.Na(n).xp()}},e.qd=function(){this.GS.zE().then(rt)},x(r,[{key:"oR",get:function(){var t=this.UE.jd,n=new lo(this.jv),r=new lo(.01);return t.V_(n,r)}},{key:"md",get:function(){return this.wd}},{key:"jd",get:function(){return this.UE.jd.F_()}},{key:"Vd",get:function(){return this.UE.Vd},set:function(t){t&&this.UE.aR(t)}},{key:"jv",get:function(){return void 0!==this.CS?this.CS:this.UE.jv},set:function(t){this.zd&&(this.CS=t),this.UE.zo(t)}},{key:"Vv",get:function(){return this.UE.Vv}},{key:"Hv",get:function(){return this.UE.Hv}},{key:"Oo",get:function(){return this.RS}},{key:"Wv",get:function(){return this.IS}},{key:"Wd",get:function(){}},{key:"zd",get:function(){return this.UE.zd}},{key:"Xd",get:function(){return Ft(Ft({},{Gd:0,Yd:0,Kd:0,$d:0,Jd:0,Qd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.UE.hR())}},{key:"zv",get:function(){return this.UE.zv},set:function(t){this.UE.zv=t}},{key:"Zd",get:function(){return!0}},{key:"Xv",get:function(){return this.UE.Xv}},{key:"Gv",get:function(){return this.UE.Gv},set:function(t){this.UE.Gv=t}},{key:"tl",get:function(){return this.UE.zS.played}},{key:"nl",get:function(){return this.WS},set:function(t){this.WS=t,this.xE&&(this.xE.nl=t)}},{key:"ih",get:function(){return this.UE.ih}},{key:"il",get:function(){return this.UE.il.F_()}},{key:"Yv",get:function(){return this.UE.Yv}},{key:"vR",get:function(){return this.UE.vR}},{key:"bd",get:function(){return this.gd}},{key:"kd",get:function(){return this.yd}},{key:"Kv",get:function(){return this.UE.Kv}},{key:"$v",get:function(){return this.UE.$v}},{key:"Jv",get:function(){return this.UE.Jv},set:function(t){this.UE.Jv=t}}]),r}(Rs);var kw=function(){function t(){this.dR=ww.SS}var n=t.prototype;return n.vl=function(t,n,r,e,i,u){return new mw(t,n,r,e,i)},n.lR=function(t,n){return function(t){return!t.type||!(!pw().canPlayType||!pw().canPlayType(t.type))}(t)},t}();function bw(t,n){for(var r=0,e=t.xa;r<e.length;r++){var i=e[r];if(i.Lp===n)return i}}var Tw=function(){function t(){this.wR=new kw,this.yR=[]}t.gR=function(){return this.ji};var n=t.prototype;return n._R=function(t){this.yR.push(t)},n.vl=function(t,n,r,e,i,u){for(var o=this.wR.vl(t,n,r,e,i,u),s=0,c=this.yR;s<c.length;s++){o=(0,c[s])(o,r,e)}return o},n.lR=function(t,n){return this.wR.lR(t,n)},x(t,[{key:"dR",get:function(){return this.wR.dR}}]),t}();function Ew(t,n){return Rw.ji.pR(t,n)}function Sw(t,n){return fo(t.dR,n.dR)}Tw.ji=new Tw;var Rw=function(){function t(){this.mR=Tw.gR(),this.kR=[]}var n=t.prototype;return n.bR=function(t){this.mR=t},n.TR=function(){return this.mR},n.ER=function(t){this.kR.push(t),this.kR.sort(Sw)},n.SR=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.kR;case 1:if(!(e<i.length)){t.next=17;break}if(u=i[e],!tt(o=u.lR(n,r))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:e++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.pR=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=11;break}return i=n[e],t.next=5,this.SR(i,r);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{RR:i,IR:u});case 8:e++,t.next=1;break;case 11:o=this.mR,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.lR(c,r)){t.next=17;break}return t.abrupt("return",{RR:c,IR:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{RR:n[0],IR:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();Rw.ji=new Rw;var Iw,Cw=function(){function t(t){var n,r;this.CR=S&&S.document&&S.document.createElement("div"),n=this.CR,(r=n.style).position="absolute",r.left="0",r.right="0",r.top="0",r.bottom="0",r.width="100%",r.height="100%",t.appendChild(this.CR)}return t.prototype.oe=function(){Xe(this.CR)},t}();function Nw(t){switch(t){case Iw.yp:case"":return Iw.yp;case Iw.rw:return Iw.rw;case Iw.NR:default:return Iw.NR}}!function(t){t.SS="",t.NR="none",t.rw="metadata",t.yp="auto"}(Iw||(Iw={}));var Ow=[gs.Qa,Ds.Ah,Ds.Do,Ds.uv,Ds.Th,Ds.xh,Ds.Uh,Ds.qh,Ds.$h,Ds.Qh,Es.vh,Es.dh,Es.lh,Es.wh,Es.pa,Es.yh,Es.gh,Ds.Ih,Ds.Ch,Ds.Dh,Ds.Ph,Ds.Bh,Ds.Lh,Ds.Vh,Ds.Hh,Ds.jh,Ds.Wh,Ds.Xh,Ds.Yh,Ds.Gh,Ds.nv,Ds.rv,Ds.zh,Ds.Mh,Ds.Kh],Dw=function(t){function n(n,r,e,i,u,o){var s;return(s=t.call(this)||this).OR=void 0,s.WS=Iw.NR,s.DR=void 0,s.AR=!0,s.wd=new _s,s.yd=new _s,s.gd=new Ss,s.PR=n,s.Qs=r,s.Eb=e,s.xR=i,s.FR=o,s.LR=new b(u,s.FR),s.LR.ue(s.PR),s.MR=new Cw(s.PR),s.UR=Rw.ji.TR(),s.qR=s.jR(s.UR),s.qR.nl=s.nl,s.HR(),s}gt(n,t);var r=n.prototype;return r.ee=function(){this.qR.ee()},r.re=function(){this.qR.re()},r.Td=function(){return this.Sd({sources:[]})},r.fe=function(){this.LR.Zr()},r.Nd=function(t){var n,r;r=t,(n=this).Jv=r.Jv,n.zv=r.zv},r.Od=function(){},r.Bd=function(t){return!1},r.jR=function(t){return t.vl(this.PR,this.LR,this.Eb,this.Qs,this.xR,this.FR)},r.HR=function(){this.wd.ja=this.qR.md,this.yd.ja=this.qR.kd,this.gd.ja=this.qR.bd,this.qR._o(Ow,this.lo)},r.WR=function(){this.qR.ko(Ow,this.lo),this.wd.ja=void 0,this.yd.ja=void 0,this.gd.ja=void 0},r.Ed=function(){return this.DR},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(r),this.DR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!dc(e=n.sources.filter(Ia))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Ew(e,n);case 9:if(i=t.sent,Sn(r),u=i.RR,o=i.IR,s=this.xd(),c=kc(this),this.UR===o&&!this.Oo){t.next=25;break}return this.WR(),t.next=19,this.qR.oe();case 19:Sn(r),this.UR=o,this.qR=this.jR(o),Aw(this.qR,c),bc(this,c,this),this.HR();case 25:return this.qR.nl=this.nl,this.AR?this.qR.Dd():this.qR.Ad(),t.next=29,this.qR.Sd(u,n,r);case 29:Sn(r),this.zR(u),this.xd()!==s&&this.wo(new Ec);case 32:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.zR=function(t){this.OR!==t&&(this.OR=t,this.wo(new Sc(t)))},r.Rd=function(){return this.qR.Rd()},r.Id=function(){this.qR.Id()},r.Cd=function(){this.qR.Cd()},r.Pd=function(){return this.qR.Pd()},r.xd=function(){return this.qR.xd()},r.Fd=function(){return this.LR.Qr.map(function(t){return t.zS})},r.qd=function(){this.qR.qd()},r.Pa=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DR=void 0,this.zR(void 0),t.next=4,this.qR.Pa();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Pa();case 3:return t.next=5,this.qR.oe();case 5:this.LR.oe(),this.MR.oe(),this.wd.oe(),this.yd.oe(),this.gd.oe();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Dd=function(){this.AR=!0,this.qR.Dd()},r.Ad=function(){this.AR=!1,this.qR.Ad()},x(n,[{key:"md",get:function(){return this.wd}},{key:"jd",get:function(){return this.qR.jd}},{key:"Hd",get:function(){return this.PR}},{key:"Oo",get:function(){return this.qR.Oo}},{key:"Wv",get:function(){return this.qR.Wv}},{key:"Vd",get:function(){return this.qR.Vd},set:function(t){this.qR.Vd=t}},{key:"Ud",get:function(){return this.OR}},{key:"jv",get:function(){return this.qR.jv},set:function(t){this.qR.jv=t}},{key:"Vv",get:function(){return this.qR.Vv}},{key:"Hv",get:function(){return this.qR.Hv}},{key:"Wd",get:function(){return this.qR.Wd}},{key:"zd",get:function(){return this.qR.zd}},{key:"Xd",get:function(){return this.qR.Xd}},{key:"zv",get:function(){return this.qR.zv},set:function(t){this.qR.zv=t}},{key:"Zd",get:function(){return this.qR.Zd}},{key:"Xv",get:function(){return this.qR.Xv}},{key:"Gv",get:function(){return this.qR.Gv},set:function(t){this.qR.Gv=t}},{key:"tl",get:function(){return this.qR.tl}},{key:"nl",get:function(){return this.WS},set:function(t){this.WS=t,this.qR&&(this.qR.nl=this.WS)}},{key:"ih",get:function(){return this.qR.ih}},{key:"il",get:function(){return this.qR.il}},{key:"Yv",get:function(){return this.qR.Yv}},{key:"bd",get:function(){return this.gd}},{key:"Kv",get:function(){return this.qR.Kv}},{key:"kd",get:function(){return this.yd}},{key:"$v",get:function(){return this.qR.$v}},{key:"Jv",get:function(){return this.qR.Jv},set:function(t){this.qR.Jv=t}}]),n}(Is);function Aw(t,n){t.zv!==n.zv&&(t.zv=n.zv),t.Jv!==n.Jv&&(t.Jv=n.Jv),t.Gv!==n.Gv&&(t.Gv=n.Gv)}var Pw=function(t){function n(){return t.call(this,xs.Qa)||this}return gt(n,t),n}(qn),xw=new(function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.Dv=function(){this.wo(new Pw)},r.Av=function(){},r.oe=function(){this.mo()},x(n,[{key:"Ov",get:function(){return!1}},{key:"Nv",get:function(){return!1}}]),n}(Mn)),Fw=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).PR=n,i.XR=r,i.GR=new Ma,i.YR=new Ev,i.KR=e,i}gt(n,t);var r=n.prototype;return r.Bd=function(t){return!0},r.Ad=function(){},r.re=function(){throw this.wo(new Js(this.KR)),this.XR},r.ee=function(){},r.Ed=function(){},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Sn(r),this.wo(new Js(this.KR)),this.XR;case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Dd=function(){},r.Td=function(){return C.resolve()},r.Pd=function(){},r.xd=function(){return xw},r.Fd=function(){return[]},r.fe=function(){},r.Nd=function(t){},r.Od=function(){},r.Rd=function(){return!1},r.Id=function(){},r.Cd=function(){},r.qd=function(){},r.Pa=function(){return C.resolve()},r.oe=function(){return this.mo(),this.GR.oe(),this.YR.oe(),C.resolve()},x(n,[{key:"md",get:function(){return this.GR}},{key:"jd",get:function(){return ca.wp().F_()}},{key:"Vd",get:function(){return new Date(NaN)},set:function(t){}},{key:"Ud",get:function(){}},{key:"jv",get:function(){return 0},set:function(t){}},{key:"Vv",get:function(){return 0}},{key:"Hd",get:function(){return this.PR}},{key:"Hv",get:function(){return!0}},{key:"Oo",get:function(){return this.XR}},{key:"Wv",get:function(){return this.KR}},{key:"Wd",get:function(){}},{key:"Xd",get:function(){return{Gd:0,Yd:0,Kd:0,$d:0,Jd:0,Qd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"zv",get:function(){return!1},set:function(t){}},{key:"Zd",get:function(){return!0}},{key:"Xv",get:function(){return!0}},{key:"Gv",get:function(){return 0},set:function(t){}},{key:"tl",get:function(){return ca.wp().F_()}},{key:"nl",get:function(){return Iw.NR},set:function(t){}},{key:"ih",get:function(){return Cs._h}},{key:"il",get:function(){return ca.wp().F_()}},{key:"Yv",get:function(){return!1}},{key:"bd",get:function(){return this.YR}},{key:"Kv",get:function(){return 0}},{key:"kd",get:function(){return this.GR}},{key:"$v",get:function(){return 0}},{key:"Jv",get:function(){return 1},set:function(t){}},{key:"zd",get:function(){return!1}}]),n}(Is);var Bw=function(){function t(t){this.$R=t}return t.prototype.JR=function(t){var n,r,e,i,u,o,s,c=[];if(!t)return"";var f=t.length%4;if(f>0)for(;f++<4;)t+=this.$R.charAt(64);for(n=0;n<t.length;n+=4)r=(s=this.$R.indexOf(t.charAt(n))<<18|this.$R.indexOf(t.charAt(n+1))<<12|(u=this.$R.indexOf(t.charAt(n+2)))<<6|(o=this.$R.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,i=255&s,c[n/4]=String.fromCharCode(r,e,i),64===o&&(c[n/4]=String.fromCharCode(r,e)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},t.prototype.QR=function(t,n){var r,e,i,u,o,s,c,f=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.$R.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)e=(r=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,i=r>>12&63,u=r>>6&63,o=63&r,f[s/3]=this.$R.charAt(e)+this.$R.charAt(i)+this.$R.charAt(u)+this.$R.charAt(o);return c=(c=f.join("")).slice(0,c.length-a.length),n||(c+=a),c},t.Ek=new t(function(){var t,n,r,e,i=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)e=n.charAt(r),-1===i.indexOf(e)&&i.push(e);return i.join("")}()),t.ZR=new t(t.Ek.JR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Lw(t){return"string"==typeof t}function Mw(t){return"number"==typeof t}var Uw={}.toString;var qw,jw=Array.isArray||function(t){return"[object Array]"===Uw.call(t)};function Vw(t,n){return jw(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(qw||(qw={}));var Hw,Ww=d.keys(qw).map(function(t){return qw[t]});function zw(t){return-1!==Ww.indexOf(t)}function Xw(t){try{var n=Bw.ZR.JR(t),r=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),r=Lw(t.key),e=Lw(t.customer_id),i=Mw(t.generation_date),u=Mw(t.expiration_date),o=Vw(t.domains_page,Lw),s=Vw(t.domains_source,Lw),c=Vw(t.sdks,zw),f=(a=t.send_impression,"boolean"==typeof a);var a;var h;if(!(n&&r&&e&&i&&u&&o&&s&&c&&f))return!1;return!0}(r))throw new h("The provided license could not be decoded correctly.");return r}catch(t){throw new h("The provided license could not be decoded correctly.")}}function Gw(){return Hw||(Hw={rb:R.href,tI:S.parent&&S.parent!==e,nI:$w()}),Hw}var Yw,Kw=["http:","https:","ftp:","ws:","wss:"];function $w(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.rI=0]="rI",t[t.eI=1]="eI",t[t.iI=2]="iI"}(Yw||(Yw={}));var Jw,Qw=function(t,n,r,e,i,u,o,s){void 0===i&&(i=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.uI=t,this.oI=n,this.sI=r,this.cI=e,this.fI=i,this.aI=u,this.hI=o,this.vI=s};!function(t){t.eI="expired",t.dI="invaliddomain",t.lI="invalidsource",t.Qa="error"}(Jw||(Jw={}));var Zw=function(){function t(t,n,r){this.wI=t,this.yI=n,this.gI=r,this._I=uy(this.gI)}var n=t.prototype;return n.pI=function(t,n){var r=this;if(!Ra(t)&&0!==n.sI.length&&!ry(n.sI)){var e=[];if(vc(t.sources)?e=[t.sources]:K(t.sources)&&(e=t.sources),!e.every(function(t){return r.mI(t,n)})){var i=Jw.lI,u=sy.kI(i);throw new Fe(ty(i),u)}}},n.bI=function(n){return this.TI(n.hI)&&this.EI(n)?t.SI(n.cI)?Yw.rI:Yw.eI:Yw.iI},n.TI=function(t){var n=this;return 0===t.length||t.some(function(t){return n.RI(t)})},n.RI=function(t){return"tvos"===function(t){switch(t){case qw.ANDROID:return D.ye;case qw.ANDROIDTV:case qw.FIRETV:return D._e;case qw.IOS:return D.pe;case qw.TVOS:return D.me;case qw.CHROMECAST:case qw.CHROMECASTCAF:return D.ke;default:return D.we}}(t)},t.SI=function(t){var n=Number(new Date);return!!t&&n<=t},n.EI=function(t){return!(this._I&&0!==t.oI.length&&!ry(t.oI))||!!(this._I&&this.II(t.oI)&&this.CI(t.oI))},n.II=function(t){return ey(this.gI.rb,t)},n.CI=function(t){if(!this.gI.tI)return!0;if(this.wI)return!0;var n=this.NI();return!!n&&ey(n,t)},n.NI=function(){if(this.gI.tI){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.gI.nI?this.gI.nI:void 0}},n.mI=function(n,r){return!!t.OI(n,r.sI)},t.OI=function(t,n){return ey(this.DI(t),n)},t.DI=function(t){return Q(t)?t:hc(t)&&t.src||""},t}();function ty(t){switch(t){case Jw.dI:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Jw.lI:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Jw.eI:return n.ErrorCode.LICENSE_EXPIRED;case Jw.Qa:return n.ErrorCode.LICENSE_ERROR}}function ny(t,n){var r=t,e=n;if(!r)return!1;if("*"===(e=e.trim()))return!0;if(e===(r=r.replace(/\.+$/,"")))return!0;var i="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+i+o+i+o+i+o+"\\)"),c=e.match(s),f=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var a=new RegExp("^"+c[1]+i+f(c[2])+i+f(c[3])+i+f(c[4])+"$");return null!==r.match(a)}return e="."+e,-1!==r.indexOf(e,r.length-e.length)}function ry(t){return t.some(function(t){return"*"===t})}function ey(t,n){var r=O.Mc(t);if(!iy(r))return!0;for(var e=0;e<n.length;e++){var i=n[e];if(ny(r.hostname,i))return!0;if(ny(eo(t),i))return!0}return!1}function iy(t){return-1!==Kw.indexOf(t.protocol)}function uy(t){var n=O.Mc(t.rb);return iy(n)&&!ny(n.hostname,"localhost")&&!function(t){return ny(t.hostname,"theoplayer.doubleclick.net")}(n)}var oy,sy=function(){function t(){}return t.kI=function(t){return t===Jw.dI?this.AI:t===Jw.lI?this.xI:t===Jw.eI?this.FI:this.BI},t}();function cy(t){var n=[t.Qy,t.LI,t.MI];switch(t.LI){case oy.UI:n.push(t.sh);break;case oy.qI:n.push(t.jv),n.push(t.Oo);break;case oy.jI:n.push(t.Oo)}return n}sy.BI="The license for this player is invalid.",sy.FI="The usage license for this video player has expired.",sy.AI="The current domain is incompatible with the license for this player.",sy.xI="The provided video source is incompatible with the license for this player.",function(t){t[t.UI=1]="UI",t[t.qI=4]="qI",t[t.jI=5]="jI"}(oy||(oy={}));for(var fy=new Array(256),ay=0;ay<256;ay+=1)fy[ay]=(ay<16?"0":"")+ay.toString(16);function hy(){var t=wt(),n=(4294967296*l.random()|0)+t&3029421624,r=(4294967296*l.random()|0)+t&3595553209,e=(4294967296*l.random()|0)+t&1130486254,i=(4294967296*l.random()|0)+t&1284287105;return fy[255&n]+fy[n>>>8&255]+fy[n>>>16&255]+fy[n>>>24&255]+"-"+fy[255&r]+fy[r>>>8&255]+"-"+fy[r>>>16&15|64]+fy[r>>>24&255]+"-"+fy[63&e|128]+fy[e>>>8&255]+"-"+fy[e>>>16&255]+fy[e>>>24&255]+fy[255&i]+fy[i>>>8&255]+fy[i>>>16&255]+fy[i>>>24&255]}var vy=function(){function t(t){this.$R=t}var n=t.prototype;return n.JR=function(t){var n,r,e,i,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)r=(s=this.$R.indexOf(t.charAt(n))<<18|this.$R.indexOf(t.charAt(n+1))<<12|(u=this.$R.indexOf(t.charAt(n+2)))<<6|(o=this.$R.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,i=255&s,c[n/4]=String.fromCharCode(r,e,i),64===o&&(c[n/4]=String.fromCharCode(r,e)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},n.QR=function(t){var n,r,e,i,u,o,s,c=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.$R.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=n>>12&63,i=n>>6&63,u=63&n,c[o/3]=this.$R.charAt(r)+this.$R.charAt(e)+this.$R.charAt(i)+this.$R.charAt(u);return(s=c.join("")).slice(0,s.length-f.length)+f},t}();function dy(){return O.Af()}vy.Ek=new vy(function(){var t,n,r,e,i=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)e=n.charAt(r),-1===i.indexOf(e)&&i.push(e);return i.join("")}()),vy.ZR=new vy(vy.Ek.JR("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var ly,wy="theoplayer-session-id";function yy(){if(!ly){var t=Oo.Mo(wy);t?ly=t:(ly=hy(),Oo.Rf(wy,ly))}return ly}var gy=/[^\x00-\x7E]/g;function _y(t){return"\\u"+function(t,n,r){void 0===r&&(r=" ");var e=r,i=(0|n)-t.length;return i<=0?t:(i>e.length&&(e+=function(t,n){var r=0|n;if(0===t.length||0===r)return"";for(var e=t,i="";1==(1&r)&&(i+=e),0!=(r>>>=1);)e+=e;return i}(e,i/e.length)),e.slice(0,i)+t)}(t.charCodeAt(0).toString(16),4,"0")}var py=function(t){function n(n,r){return t.call(this,n,r)||this}return gt(n,t),n}(Fv),my=0,ky=1,by=6e4;function Ty(t){var n,r,e,i,u,o=(n=function(t){return[t.VI,t.Is,t.uI,t.bw,t.HI,t.WI,t.zI.map(cy)]}(t),r=[],e=n,i=function(t,n){if($(n)){if(-1!==r.indexOf(n))return null;r.push(n)}return n},JSON.stringify(e,i,u).replace(gy,_y));return vy.ZR.QR(o)}var Ey=function(){function t(t,n,r,e,i,u){var o=this;void 0===e&&(e=vy.Ek),void 0===i&&(i=my),void 0===u&&(u=ky),this.ZT=t,this.Eb=n,this.XI=r,this.GI=e,this.YI=i,this.KI=u,this.$I=[],this.JI=null,this.QI=0,this.ZI="unknown",this.tC=0,this.nC=function(){dy()-o.QI>by&&o.rC()},this.eC=function(){o.rC(!0)},E.he(this.eC),f(this.nC,by)}var n=t.prototype;return n.iC=function(){return Boolean(this.HI)},n.uC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XI.oC();case 2:if(t.sent.vI){t.next=5;break}return t.abrupt("return");case 5:return r={LI:oy.UI,MI:wt(),sh:n},t.next=8,this.sC(r);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.cC=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={LI:oy.qI,MI:wt(),jv:r,Oo:n},t.next=3,this.sC(e);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.fC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={LI:oy.jI,MI:wt(),Oo:n},t.next=3,this.sC(r);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XI.oC();case 2:if(r=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.GI.QR(r.uI)){t.next=6;break}if(n.LI===oy.jI){t.next=6;break}return t.abrupt("return");case 6:if(n.LI===oy.UI?this.aC():this.iC()||this.aC(),n.Qy=this.tC++,this.$I.push(n),(e=n.LI)!==oy.UI&&e!==oy.jI){t.next=14;break}return t.next=12,this.rC();case 12:t.next=19;break;case 14:if(!(this.$I.length>this.YI)){t.next=19;break}return t.next=17,this.hC();case 17:t.next=19;break;case 19:case"end":return t.stop()}var e},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rC=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.$I.length>0)){t.next=6;break}return t.next=4,this.hC(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.vC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XI.oC();case 2:return r=t.sent,t.abrupt("return",{VI:wt(),Is:yy(),uI:this.GI.QR(r.uI)||"dev",bw:this.ZT,HI:this.JI,WI:this.ZI,zI:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.hC=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),r=this.$I.splice(0,this.KI),t.next=4,this.vC(r);case 4:e=t.sent,n?this.dC(e):this.lC(e),this.QI=dy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.lC=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ty(n),e=new py({rb:"https://license.theoplayer.com",eb:r,ab:!1,ob:bv.zi,ib:{"Content-Type":Gd.sE},sb:4e3,ub:Rv.POST}),t.prev=2,t.next=5,this.Eb.yb(e);case 5:return i=t.sent,t.next=8,i.iE();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+r;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.dC=function(t){var n=Ty(t);this.Eb.dC({rb:"https://license.theoplayer.com",eb:n,JS:Gd.sE})},n.aC=function(){this.iC()&&this.rC(),this.JI=hy(),this.tC=0},n.oe=function(){E.ve(this.eC),this.rC()},x(t,[{key:"zI",get:function(){return this.$I}},{key:"HI",get:function(){return this.JI}}]),t}();var Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Ry(){}var Iy=Number.isNaN||function(t){return t!=t},Cy=Ry;function Ny(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Oy(t){return t.slice()}function Dy(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Iy(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ay(t,n,r){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,r)}function Py(t,n,r,e){var i=t[n];if(void 0!==i){if("function"!=typeof i)throw new v(i+" is not a method");switch(r){case 0:return function(){return Fy(i,t,e)};case 1:return function(n){var r=[n].concat(e);return Fy(i,t,r)}}}return function(){return Wy(void 0)}}function xy(t,n,r){var e=t[n];if(void 0!==e)return Ay(e,t,r)}function Fy(t,n,r){try{return Wy(Ay(t,n,r))}catch(t){return zy(t)}}function By(t){return t}function Ly(t){if(t=Number(t),Iy(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function My(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Uy=C,qy=C.prototype.then,jy=C.resolve.bind(Uy),Vy=C.reject.bind(Uy);function Hy(t){return new Uy(t)}function Wy(t){return jy(t)}function zy(t){return Vy(t)}function Xy(t,n,r){return qy.call(t,n,r)}function Gy(t,n,r){Xy(Xy(t,n,r),void 0,Cy)}function Yy(t,n){Gy(t,n)}function Ky(t,n){Gy(t,void 0,n)}function $y(t,n,r){return Xy(t,n,r)}function Jy(t){Xy(t,void 0,Cy)}var Qy=function(){function t(){this.wC=0,this.yC=0,this.kr={gC:[],_C:void 0},this.pC=this.kr,this.wC=0,this.yC=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.yC},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.pC,r=n;16383===n.gC.length&&(r={gC:[],_C:void 0}),n.gC.push(t),r!==n&&(this.pC=r,n._C=r),++this.yC},t.prototype.shift=function(){var t=this.kr,n=t,r=this.wC,e=r+1,i=t.gC,u=i[r];return 16384===e&&(n=t._C,e=0),--this.yC,this.wC=e,t!==n&&(this.kr=n),i[r]=void 0,u},t.prototype.forEach=function(t){for(var n=this.wC,r=this.kr,e=r.gC;!(n===e.length&&void 0===r._C||n===e.length&&(n=0,0===(e=(r=r._C).gC).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.kr,n=this.wC;return t.gC[n]},t}();function Zy(t,n,r){var e=null;!0===r&&(e=d.prototype);var i=d.create(e);return i.value=t,i.done=n,i}function tg(t,n){t.mC=!0,t.kC=n,n.bC=t,"readable"===n.TC?ig(t):"closed"===n.TC?function(t){ig(t),sg(t)}(t):ug(t,n.EC)}function ng(t,n){return hp(t.kC,n)}function rg(t){"readable"===t.kC.TC?og(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ug(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.kC.bC=void 0,t.kC=void 0}function eg(t){return new v("Cannot "+t+" a stream using a released reader")}function ig(t){t.ds=Hy(function(n,r){t.SC=n,t.RC=r})}function ug(t,n){ig(t),og(t,n)}function og(t,n){Jy(t.ds),t.RC(n),t.SC=void 0,t.RC=void 0}function sg(t){t.SC(void 0),t.SC=void 0,t.RC=void 0}var cg=Sy("[[CancelSteps]]"),fg=Sy("[[PullSteps]]");function ag(t,n){void 0===n&&(n=!1);var r=new gg(t);return r.mC=n,r}function hg(t){return Hy(function(n,r){var e={Pn:n,M:r};t.bC.IC.push(e)})}function vg(t,n,r){var e=t.bC;e.IC.shift().Pn(Zy(n,r,e.mC))}function dg(t){return t.bC.IC.length}function lg(t){var n=t.bC;return void 0!==n&&!!_g(n)}var wg,yg,gg=function(){function t(t){if(!1===fp(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ap(t))throw new v("This stream has already been locked for exclusive reading by another reader");tg(this,t),this.IC=new Qy}return d.defineProperty(t.prototype,"closed",{get:function(){return _g(this)?this.ds:zy(mg("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return _g(this)?void 0===this.kC?zy(eg("cancel")):ng(this,t):zy(mg("cancel"))},t.prototype.read=function(){return _g(this)?void 0===this.kC?zy(eg("read from")):pg(this):zy(mg("read"))},t.prototype.releaseLock=function(){if(!_g(this))throw mg("releaseLock");if(void 0!==this.kC){if(this.IC.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");rg(this)}},t}();function _g(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"IC")}function pg(t){var n=t.kC;return n.CC=!0,"closed"===n.TC?Wy(Zy(void 0,!0,t.mC)):"errored"===n.TC?zy(n.EC):n.NC[fg]()}function mg(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Sy.asyncIterator&&((wg={})[Sy.asyncIterator]=function(){return this},yg=wg,d.defineProperty(yg,Sy.asyncIterator,{enumerable:!1}));var kg={next:function(){if(!1===bg(this))return zy(Tg("next"));var t=this.OC;return void 0===t.kC?zy(eg("iterate")):$y(pg(t),function(n){var r=n.done;return r&&rg(t),Zy(n.value,r,!0)})},return:function(t){if(!1===bg(this))return zy(Tg("next"));var n=this.OC;if(void 0===n.kC)return zy(eg("finish iterating"));if(n.IC.length>0)return zy(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.DC){var r=ng(n,t);return rg(n),$y(r,function(){return Zy(t,!0,!0)})}return rg(n),Wy(Zy(t,!0,!0))}};function bg(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"OC")}function Tg(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Eg(t){var n=t.In.shift();return t.AC-=n.size,t.AC<0&&(t.AC=0),n.value}function Sg(t,n,r){if(!Dy(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.In.push({value:n,size:r}),t.AC+=r}function Rg(t){t.In=new Qy,t.AC=0}void 0!==yg&&d.setPrototypeOf(kg,yg),d.defineProperty(kg,"next",{enumerable:!1}),d.defineProperty(kg,"return",{enumerable:!1});var Ig=Sy("[[AbortSteps]]"),Cg=Sy("[[ErrorSteps]]"),Ng=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Dg(this);var r=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var i=My(r);void 0===e&&(e=1),function(t,n,r,e){var i=d.create(Kg.prototype);var u=Py(n,"write",1,[i]),o=Py(n,"close",0,[]),s=Py(n,"abort",1,[]);$g(t,i,function(){return xy(n,"start",[i])},u,o,s,r,e)}(this,t,e=Ly(e),i)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ag(this))throw e_("locked");return Pg(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ag(this)?zy(e_("abort")):!0===Pg(this)?zy(new v("Cannot abort a stream that already has a writer")):xg(this,t)},t.prototype.close=function(){return!1===Ag(this)?zy(e_("close")):!0===Pg(this)?zy(new v("Cannot close a stream that already has a writer")):!0===Ug(this)?zy(new v("Cannot close an already-closing stream")):Fg(this)},t.prototype.getWriter=function(){if(!1===Ag(this))throw e_("getWriter");return Og(this)},t}();function Og(t){return new Vg(t)}function Dg(t){t.TC="writable",t.EC=void 0,t.xC=void 0,t.FC=void 0,t.BC=new Qy,t.LC=void 0,t.MC=void 0,t.UC=void 0,t.qC=void 0,t.jC=!1}function Ag(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"FC")}function Pg(t){return void 0!==t.xC}function xg(t,n){var r=t.TC;if("closed"===r||"errored"===r)return Wy(void 0);if(void 0!==t.qC)return t.qC.rn;var e=!1;"erroring"===r&&(e=!0,n=void 0);var i=Hy(function(r,i){t.qC={rn:void 0,Pn:r,M:i,bn:n,VC:e}});return t.qC.rn=i,!1===e&&Lg(t,n),i}function Fg(t){var n=t.TC;if("closed"===n||"errored"===n)return zy(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var r,e=Hy(function(n,r){var e={Pn:n,M:r};t.MC=e}),i=t.xC;return void 0!==i&&!0===t.jC&&"writable"===n&&l_(i),Sg(r=t.FC,"close",0),Zg(r),e}function Bg(t,n){"writable"!==t.TC?Mg(t):Lg(t,n)}function Lg(t,n){var r=t.FC;t.TC="erroring",t.EC=n;var e=t.xC;void 0!==e&&Xg(e,n),!1===function(t){if(void 0===t.LC&&void 0===t.UC)return!1;return!0}(t)&&!0===r.HC&&Mg(t)}function Mg(t){t.TC="errored",t.FC[Cg]();var n=t.EC;if(t.BC.forEach(function(t){t.M(n)}),t.BC=new Qy,void 0!==t.qC){var r=t.qC;if(t.qC=void 0,!0===r.VC)return r.M(n),void qg(t);Gy(t.FC[Ig](r.bn),function(){r.Pn(),qg(t)},function(n){r.M(n),qg(t)})}else qg(t)}function Ug(t){return void 0!==t.MC||void 0!==t.UC}function qg(t){void 0!==t.MC&&(t.MC.M(t.EC),t.MC=void 0);var n=t.xC;void 0!==n&&c_(n,t.EC)}function jg(t,n){var r=t.xC;void 0!==r&&n!==t.jC&&(!0===n?function(t){a_(t)}(r):l_(r)),t.jC=n}var Vg=function(){function t(t){if(!1===Ag(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Pg(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.WC=t,t.xC=this;var n,r=t.TC;if("writable"===r)!1===Ug(t)&&!0===t.jC?a_(this):v_(this),o_(this);else if("erroring"===r)h_(this,t.EC),o_(this);else if("closed"===r)v_(this),o_(n=this),f_(n);else{var e=t.EC;h_(this,e),s_(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Hg(this)?zy(i_("closed")):this.ds},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Hg(this))throw i_("desiredSize");if(void 0===this.WC)throw u_("desiredSize");return function(t){var n=t.WC,r=n.TC;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return Qg(n.FC)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Hg(this)?zy(i_("ready")):this.zC},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Hg(this)?zy(i_("abort")):void 0===this.WC?zy(u_("abort")):function(t,n){return xg(t.WC,n)}(this,t)},t.prototype.close=function(){if(!1===Hg(this))return zy(i_("close"));var t=this.WC;return void 0===t?zy(u_("close")):!0===Ug(t)?zy(new v("Cannot close an already-closing stream")):Wg(this)},t.prototype.releaseLock=function(){if(!1===Hg(this))throw i_("releaseLock");void 0!==this.WC&&Gg(this)},t.prototype.write=function(t){return!1===Hg(this)?zy(i_("write")):void 0===this.WC?zy(u_("write to")):Yg(this,t)},t}();function Hg(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"WC")}function Wg(t){return Fg(t.WC)}function zg(t,n){"pending"===t.XC?c_(t,n):function(t,n){s_(t,n)}(t,n)}function Xg(t,n){"pending"===t.GC?d_(t,n):function(t,n){h_(t,n)}(t,n)}function Gg(t){var n=t.WC,r=new v("Writer was released and can no longer be used to monitor the stream's closedness");Xg(t,r),zg(t,r),n.xC=void 0,t.WC=void 0}function Yg(t,n){var r=t.WC,e=r.FC,i=function(t,n){try{return t.YC(n)}catch(n){return t_(t,n),1}}(e,n);if(r!==t.WC)return zy(u_("write to"));var u=r.TC;if("errored"===u)return zy(r.EC);if(!0===Ug(r)||"closed"===u)return zy(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return zy(r.EC);var o=function(t){return Hy(function(n,r){var e={Pn:n,M:r};t.BC.push(e)})}(r);return function(t,n,r){var e={chunk:n};try{Sg(t,e,r)}catch(n){return void t_(t,n)}var i=t.KC;if(!1===Ug(i)&&"writable"===i.TC){var u=n_(t);jg(i,u)}Zg(t)}(e,n,i),o}var Kg=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Ny(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"KC"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.KC.TC&&r_(this,t)},t.prototype[Ig]=function(t){var n=this.$C(t);return Jg(this),n},t.prototype[Cg]=function(){Rg(this)},t}();function $g(t,n,r,e,i,u,o,s){n.KC=t,t.FC=n,n.In=void 0,n.AC=void 0,Rg(n),n.HC=!1,n.YC=s,n.JC=o,n.QC=e,n.ZC=i,n.$C=u;var c=n_(n);jg(t,c),Gy(Wy(r()),function(){n.HC=!0,Zg(n)},function(r){n.HC=!0,Bg(t,r)})}function Jg(t){t.QC=void 0,t.ZC=void 0,t.$C=void 0,t.YC=void 0}function Qg(t){return t.JC-t.AC}function Zg(t){var n=t.KC;if(!1!==t.HC&&void 0===n.LC)if("erroring"!==n.TC){if(0!==t.In.length){var r=t.In.peek().value;"close"===r?function(t){var n=t.KC;(function(t){t.UC=t.MC,t.MC=void 0})(n),Eg(t);var r=t.ZC();Jg(t),Gy(r,function(){!function(t){t.UC.Pn(void 0),t.UC=void 0,"erroring"===t.TC&&(t.EC=void 0,void 0!==t.qC&&(t.qC.Pn(),t.qC=void 0)),t.TC="closed";var n=t.xC;void 0!==n&&f_(n)}(n)},function(t){!function(t,n){t.UC.M(n),t.UC=void 0,void 0!==t.qC&&(t.qC.M(n),t.qC=void 0),Bg(t,n)}(n,t)})}(t):function(t,n){var r=t.KC;(function(t){t.LC=t.BC.shift()})(r),Gy(t.QC(n),function(){!function(t){t.LC.Pn(void 0),t.LC=void 0}(r);var n=r.TC;if(Eg(t),!1===Ug(r)&&"writable"===n){var e=n_(t);jg(r,e)}Zg(t)},function(n){"writable"===r.TC&&Jg(t),function(t,n){t.LC.M(n),t.LC=void 0,Bg(t,n)}(r,n)})}(t,r.chunk)}}else Mg(n)}function t_(t,n){"writable"===t.KC.TC&&r_(t,n)}function n_(t){return Qg(t)<=0}function r_(t,n){var r=t.KC;Jg(t),Lg(r,n)}function e_(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function i_(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function u_(t){return new v("Cannot "+t+" a stream using a released writer")}function o_(t){t.ds=Hy(function(n,r){t.SC=n,t.RC=r,t.XC="pending"})}function s_(t,n){o_(t),c_(t,n)}function c_(t,n){Jy(t.ds),t.RC(n),t.SC=void 0,t.RC=void 0,t.XC="rejected"}function f_(t){t.SC(void 0),t.SC=void 0,t.RC=void 0,t.XC="resolved"}function a_(t){t.zC=Hy(function(n,r){t.tN=n,t.nN=r}),t.GC="pending"}function h_(t,n){a_(t),d_(t,n)}function v_(t){a_(t),l_(t)}function d_(t,n){Jy(t.zC),t.nN(n),t.tN=void 0,t.nN=void 0,t.GC="rejected"}function l_(t){t.tN(void 0),t.tN=void 0,t.nN=void 0,t.GC="fulfilled"}function w_(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var y_="undefined"!=typeof DOMException?DOMException:void 0;var g_,__=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(y_)?y_:((g_=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(g_.prototype,"constructor",{value:g_,writable:!0,configurable:!0}),g_);function p_(t,n,r,e,i,u){var o=ag(t),s=Og(n);t.CC=!0;var c=!1,f=Wy(void 0);return Hy(function(a,h){var d,l,w,y;if(void 0!==u){if(d=function(){var r=new __("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.TC?xg(n,r):Wy(void 0)}),!1===i&&u.push(function(){return"readable"===t.TC?hp(t,r):Wy(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,r)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,o.ds,function(t){!1===e?m(function(){return xg(n,t)},!0,t):k(!0,t)}),p(n,s.ds,function(n){!1===i?m(function(){return hp(t,n)},!0,n):k(!0,n)}),l=t,w=o.ds,y=function(){!1===r?m(function(){return function(t){var n=t.WC,r=n.TC;return!0===Ug(n)||"closed"===r?Wy(void 0):"errored"===r?zy(n.EC):Wg(t)}(s)}):k()},"closed"===l.TC?y():Yy(w,y),!0===Ug(n)||"closed"===n.TC){var g=new v("the destination writable stream closed before all data could be piped to it");!1===i?m(function(){return hp(t,g)},!0,g):k(!0,g)}function _(){var t=f;return Xy(f,function(){return t!==f?_():void 0})}function p(t,n,r){"errored"===t.TC?r(t.EC):Ky(n,r)}function m(t,r,e){function i(){Gy(t(),function(){return b(r,e)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.TC&&!1===Ug(n)?Yy(_(),i):i())}function k(t,r){!0!==c&&(c=!0,"writable"===n.TC&&!1===Ug(n)?Yy(_(),function(){return b(t,r)}):b(t,r))}function b(t,n){Gg(s),rg(o),void 0!==u&&u.removeEventListener("abort",d),t?h(n):a(void 0)}Jy(Hy(function(t,n){!function r(e){e?t():Xy(!0===c?Wy(!0):Xy(s.zC,function(){return Xy(pg(o),function(t){return!0===t.done||(f=Xy(Yg(s,t.value),void 0,Ry),!1)})}),r,n)}(!1)}))})}var m_=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===k_(this))throw D_("desiredSize");return C_(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===k_(this))throw D_("close");if(!1===N_(this))throw new v("The stream is not in a state that permits close");S_(this)},t.prototype.enqueue=function(t){if(!1===k_(this))throw D_("enqueue");if(!1===N_(this))throw new v("The stream is not in a state that permits enqueue");return R_(this,t)},t.prototype.error=function(t){if(!1===k_(this))throw D_("error");I_(this,t)},t.prototype[cg]=function(t){Rg(this);var n=this.rN(t);return E_(this),n},t.prototype[fg]=function(){var t=this.eN;if(this.In.length>0){var n=Eg(this);return!0===this.iN&&0===this.In.length?(E_(this),vp(t)):b_(this),Wy(Zy(n,!1,t.bC.mC))}var r=hg(t);return b_(this),r},t}();function k_(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"eN")}function b_(t){!1!==T_(t)&&(!0!==t.uN?(t.uN=!0,Gy(t.oN(),function(){t.uN=!1,!0===t.sN&&(t.sN=!1,b_(t))},function(n){I_(t,n)})):t.sN=!0)}function T_(t){var n=t.eN;return!1!==N_(t)&&(!1!==t.HC&&(!0===ap(n)&&dg(n)>0||C_(t)>0))}function E_(t){t.oN=void 0,t.rN=void 0,t.YC=void 0}function S_(t){var n=t.eN;t.iN=!0,0===t.In.length&&(E_(t),vp(n))}function R_(t,n){var r=t.eN;if(!0===ap(r)&&dg(r)>0)vg(r,n,!1);else{var e=void 0;try{e=t.YC(n)}catch(n){throw I_(t,n),n}try{Sg(t,n,e)}catch(n){throw I_(t,n),n}}b_(t)}function I_(t,n){var r=t.eN;"readable"===r.TC&&(Rg(t),E_(t),dp(r,n))}function C_(t){var n=t.eN.TC;return"errored"===n?null:"closed"===n?0:t.JC-t.AC}function N_(t){var n=t.eN.TC;return!1===t.iN&&"readable"===n}function O_(t,n,r,e,i,u,o){n.eN=t,n.In=void 0,n.AC=void 0,Rg(n),n.HC=!1,n.iN=!1,n.sN=!1,n.uN=!1,n.YC=o,n.JC=u,n.oN=e,n.rN=i,t.NC=n,Gy(Wy(r()),function(){n.HC=!0,b_(n)},function(t){I_(n,t)})}function D_(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var A_=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},P_=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===B_(this))throw Q_("view");return this.Ak},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===B_(this))throw Q_("respond");if(void 0===this.cN)throw new v("This BYOB request has been invalidated");this.Ak.buffer,function(t,n){if(!1===Dy(n=Number(n)))throw new RangeError("bytesWritten must be a finite");X_(t,n)}(this.cN,t)},t.prototype.respondWithNewView=function(t){if(!1===B_(this))throw Q_("respond");if(void 0===this.cN)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var r=t.fN.peek();if(r.byteOffset+r.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=n.buffer,X_(t,n.byteLength)}(this.cN,t)},t}(),x_=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===F_(this))throw Z_("byobRequest");if(void 0===this.aN&&this.fN.length>0){var t=this.fN.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=d.create(P_.prototype);!function(t,n,r){t.cN=n,t.Ak=r}(r,this,n),this.aN=r}return this.aN},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===F_(this))throw Z_("desiredSize");return $_(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===F_(this))throw Z_("close");if(!0===this.iN)throw new v("The stream has already been closed; do not close it again!");var t=this.hN.TC;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.hN;if(t.AC>0)return void(t.iN=!0);if(t.fN.length>0){var r=t.fN.peek();if(r.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw K_(t,e),e}}Y_(t),vp(n)}(this)},t.prototype.enqueue=function(t){if(!1===F_(this))throw Z_("enqueue");if(!0===this.iN)throw new v("stream is closed or draining");var n=this.hN.TC;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var r=t.hN,e=n.buffer,i=n.byteOffset,u=n.byteLength,o=By(e);if(!0===lg(r))if(0===dg(r))q_(t,o,i,u);else{var s=new _(o,i,u);vg(r,s,!1)}else!0===rp(r)?(q_(t,o,i,u),z_(t)):q_(t,o,i,u);L_(t)}(this,t)},t.prototype.error=function(t){if(!1===F_(this))throw Z_("error");K_(this,t)},t.prototype[cg]=function(t){this.fN.length>0&&(this.fN.peek().bytesFilled=0);Rg(this);var n=this.rN(t);return Y_(this),n},t.prototype[fg]=function(){var t=this.hN;if(this.AC>0){var n=this.In.shift();this.AC-=n.byteLength,H_(this);var r=void 0;try{r=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return zy(t)}return Wy(Zy(r,!1,t.bC.mC))}var e=this.vN;if(void 0!==e){var i=void 0;try{i=new ArrayBuffer(e)}catch(t){return zy(t)}var u={buffer:i,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.fN.push(u)}var o=hg(t);return L_(this),o},t}();function F_(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"hN")}function B_(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"cN")}function L_(t){!1!==function(t){var n=t.hN;if("readable"!==n.TC)return!1;if(!0===t.iN)return!1;if(!1===t.HC)return!1;if(!0===lg(n)&&dg(n)>0)return!0;if(!0===rp(n)&&np(n)>0)return!0;if($_(t)>0)return!0;return!1}(t)&&(!0!==t.uN?(t.uN=!0,Gy(t.oN(),function(){t.uN=!1,!0===t.sN&&(t.sN=!1,L_(t))},function(n){K_(t,n)})):t.sN=!0)}function M_(t,n){var r=!1;"closed"===t.TC&&(r=!0);var e=U_(n);"default"===n.readerType?vg(t,e,r):function(t,n,r){var e=t.bC;e.dN.shift().Pn(Zy(n,r,e.mC))}(t,e,r)}function U_(t){var n=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/r)}function q_(t,n,r,e){t.In.push({buffer:n,byteOffset:r,byteLength:e}),t.AC+=e}function j_(t,n){var r=n.elementSize,e=n.bytesFilled-n.bytesFilled%r,i=l.min(t.AC,n.byteLength-n.bytesFilled),u=n.bytesFilled+i,o=u-u%r,s=i,c=!1;o>e&&(s=o-n.bytesFilled,c=!0);for(var f,a,h,v,d,w=t.In;s>0;){var y=w.peek(),g=l.min(s,y.byteLength),p=n.byteOffset+n.bytesFilled;f=n.buffer,a=p,h=y.buffer,v=y.byteOffset,d=g,new _(f).set(new _(h,v,d),a),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.AC-=g,V_(t,g,n),s-=g}return c}function V_(t,n,r){W_(t),r.bytesFilled+=n}function H_(t){0===t.AC&&!0===t.iN?(Y_(t),vp(t.hN)):L_(t)}function W_(t){void 0!==t.aN&&(t.aN.cN=void 0,t.aN.Ak=void 0,t.aN=void 0)}function z_(t){for(;t.fN.length>0;){if(0===t.AC)return;var n=t.fN.peek();!0===j_(t,n)&&(G_(t),M_(t.hN,n))}}function X_(t,n){var r=t.fN.peek();if("closed"===t.hN.TC){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=By(n.buffer);var r=t.hN;if(!0===rp(r))for(;np(r)>0;)M_(r,G_(t))}(t,r)}else!function(t,n,r){if(r.bytesFilled+n>r.byteLength)throw new RangeError("bytesWritten out of range");if(V_(t,n,r),!(r.bytesFilled<r.elementSize)){G_(t);var e=r.bytesFilled%r.elementSize;if(e>0){var i=r.byteOffset+r.bytesFilled,u=r.buffer.slice(i-e,i);q_(t,u,0,u.byteLength)}r.buffer=By(r.buffer),r.bytesFilled-=e,M_(t.hN,r),z_(t)}}(t,n,r);L_(t)}function G_(t){var n=t.fN.shift();return W_(t),n}function Y_(t){t.oN=void 0,t.rN=void 0}function K_(t,n){var r=t.hN;"readable"===r.TC&&(!function(t){W_(t),t.fN=new Qy}(t),Rg(t),Y_(t),dp(r,n))}function $_(t){var n=t.hN.TC;return"errored"===n?null:"closed"===n?0:t.JC-t.AC}function J_(t,n,r){var e=d.create(x_.prototype);var i=Py(n,"pull",0,[e]),u=Py(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===A_(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,r,e,i,u,o){n.hN=t,n.sN=!1,n.uN=!1,n.aN=void 0,n.In=n.AC=void 0,Rg(n),n.iN=!1,n.HC=!1,n.JC=Ly(u),n.oN=e,n.rN=i,n.vN=o,n.fN=new Qy,t.NC=n,Gy(Wy(r()),function(){n.HC=!0,L_(n)},function(t){K_(n,t)})}(t,e,function(){return xy(n,"start",[e])},i,u,r,o)}function Q_(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Z_(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function tp(t){return Hy(function(n,r){var e={Pn:n,M:r};t.bC.dN.push(e)})}function np(t){return t.bC.dN.length}function rp(t){var n=t.bC;return void 0!==n&&!!ip(n)}var ep=function(){function t(t){if(!fp(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===F_(t.NC))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ap(t))throw new v("This stream has already been locked for exclusive reading by another reader");tg(this,t),this.dN=new Qy}return d.defineProperty(t.prototype,"closed",{get:function(){return ip(this)?this.ds:zy(up("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ip(this)?void 0===this.kC?zy(eg("cancel")):ng(this,t):zy(up("cancel"))},t.prototype.read=function(t){return ip(this)?void 0===this.kC?zy(eg("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?zy(new v("view must have non-zero byteLength")):function(t,n){var r=t.kC;if(r.CC=!0,"errored"===r.TC)return zy(r.EC);return function(t,n){var r=t.hN,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var i=n.constructor,u={buffer:By(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:i,readerType:"byob"};if(t.fN.length>0)return t.fN.push(u),tp(r);if("closed"===r.TC)return Wy(Zy(new i(u.buffer,u.byteOffset,0),!0,r.bC.mC));if(t.AC>0){if(!0===j_(t,u)){var o=U_(u);return H_(t),Wy(Zy(o,!1,r.bC.mC))}if(!0===t.iN){var s=new v("Insufficient bytes to fill elements in the given buffer");return K_(t,s),zy(s)}}t.fN.push(u);var c=tp(r);return L_(t),c}(r.NC,n)}(this,t)):zy(new v("view must be an array buffer view")):zy(up("read"))},t.prototype.releaseLock=function(){if(!ip(this))throw up("releaseLock");if(void 0!==this.kC){if(this.dN.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");rg(this)}},t}();function ip(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"dN")}function up(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var op=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),cp(this);var r=n.size,e=n.highWaterMark,i=t.type;if("bytes"===String(i)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),J_(this,t,e=Ly(e))}else{if(void 0!==i)throw new RangeError("Invalid type is specified");var u=My(r);void 0===e&&(e=1),function(t,n,r,e){var i=d.create(m_.prototype),u=Py(n,"pull",0,[i]),o=Py(n,"cancel",1,[]);O_(t,i,function(){return xy(n,"start",[i])},u,o,r,e)}(this,t,e=Ly(e),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===fp(this))throw lp("locked");return ap(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===fp(this)?zy(lp("cancel")):!0===ap(this)?zy(new v("Cannot cancel a stream that already has a reader")):hp(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===fp(this))throw lp("getReader");if(void 0===n)return ag(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var r=new ep(t);return r.mC=n,r}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var r=t.writable,e=t.readable,i=void 0===n?{}:n,u=i.preventClose,o=i.preventAbort,s=i.preventCancel,c=i.signal;if(!1===fp(this))throw lp("pipeThrough");if(!1===Ag(r))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===fp(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!w_(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ap(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Pg(r))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Jy(p_(this,r,u,o,s,c)),e},t.prototype.pipeTo=function(t,n){var r=void 0===n?{}:n,e=r.preventClose,i=r.preventAbort,u=r.preventCancel,o=r.signal;return!1===fp(this)?zy(lp("pipeTo")):!1===Ag(t)?zy(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),i=Boolean(i),u=Boolean(u),void 0===o||w_(o)?!0===ap(this)?zy(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Pg(t)?zy(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):p_(this,t,e,i,u,o):zy(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===fp(this))throw lp("tee");var t=function(t,n){var r,e,i,u,o,s=ag(t),c=!1,f=!1,a=!1,h=Hy(function(t){o=t});function v(){return!0===c?Wy(void 0):(c=!0,Jy($y(pg(s),function(t){if(c=!1,!0===t.done)return!1===f&&S_(i.NC),void(!1===a&&S_(u.NC));var n=t.value,r=n,e=n;!1===f&&R_(i.NC,r),!1===a&&R_(u.NC,e)})),Wy(void 0))}function d(){}return i=sp(d,v,function(n){if(f=!0,r=n,!0===a){var i=Oy([r,e]),u=hp(t,i);o(u)}return h}),u=sp(d,v,function(n){if(a=!0,e=n,!0===f){var i=Oy([r,e]),u=hp(t,i);o(u)}return h}),Ky(s.ds,function(t){I_(i.NC,t),I_(u.NC,t)}),[i,u]}(this);return Oy(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,r=void 0!==n&&n;if(!1===fp(this))throw lp("getIterator");return function(t,n){void 0===n&&(n=!1);var r=ag(t),e=d.create(kg);return e.OC=r,e.DC=Boolean(n),e}(this,r)},t}();function sp(t,n,r,e,i){void 0===e&&(e=1),void 0===i&&(i=function(){return 1});var u=d.create(op.prototype);return cp(u),O_(u,d.create(m_.prototype),t,n,r,e,i),u}function cp(t){t.TC="readable",t.bC=void 0,t.EC=void 0,t.CC=!1}function fp(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"NC")}function ap(t){return void 0!==t.bC}function hp(t,n){return t.CC=!0,"closed"===t.TC?Wy(void 0):"errored"===t.TC?zy(t.EC):(vp(t),$y(t.NC[cg](n),Ry))}function vp(t){t.TC="closed";var n=t.bC;void 0!==n&&(_g(n)&&(n.IC.forEach(function(t){t.Pn(Zy(void 0,!0,n.mC))}),n.IC=new Qy),sg(n))}function dp(t,n){t.TC="errored",t.EC=n;var r=t.bC;void 0!==r&&(_g(r)?(r.IC.forEach(function(t){t.M(n)}),r.IC=new Qy):(r.dN.forEach(function(t){t.M(n)}),r.dN=new Qy),og(r,n))}function lp(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Sy.asyncIterator&&d.defineProperty(op.prototype,Sy.asyncIterator,{value:op.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var wp=function(){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r={});var e=n.size,i=n.highWaterMark,u=r.size,o=r.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=My(e);if(void 0===i&&(i=1),i=Ly(i),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,f=My(u);void 0===o&&(o=0),o=Ly(o),function(t,n,r,e,i,u){function o(){return n}t.lN=function(t,n,r,e,i,u){void 0===i&&(i=1),void 0===u&&(u=function(){return 1});var o=d.create(Ng.prototype);return Dg(o),$g(o,d.create(Kg.prototype),t,n,r,e,i,u),o}(o,function(n){return function(t,n){var r=t.wN;if(!0===t.jC){var e=t.yN;return $y(e,function(){var e=t.lN,i=e.TC;if("erroring"===i)throw e.EC;return Sp(r,n)})}return Sp(r,n)}(t,n)},function(){return function(t){var n=t.gN,r=t.wN,e=r._N();return Tp(r),$y(e,function(){if("errored"===n.TC)throw n.EC;var t=n.NC;!0===N_(t)&&S_(t)},function(r){throw gp(t,r),n.EC})}(t)},function(n){return function(t,n){return gp(t,n),Wy(void 0)}(t,n)},r,e),t.gN=sp(o,function(){return function(t){return pp(t,!1),t.yN}(t)},function(n){return _p(t,n),Wy(void 0)},i,u),t.jC=void 0,t.yN=void 0,t.pN=void 0,pp(t,!0),t.wN=void 0}(this,Hy(function(t){c=t}),i,s,o,f),function(t,n){var r=d.create(kp.prototype),e=function(t){try{return Ep(r,t),Wy(void 0)}catch(t){return zy(t)}},i=n.transform;if(void 0!==i){if("function"!=typeof i)throw new v("transform is not a method");e=function(t){return Fy(i,n,[t,r])}}var u=Py(n,"flush",0,[r]);!function(t,n,r,e){n.mN=t,t.wN=n,n.kN=r,n._N=e}(t,r,e,u)}(this,t);var a=xy(t,"start",[this.wN]);c(a)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===yp(this))throw Ip("readable");return this.gN},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===yp(this))throw Ip("writable");return this.lN},enumerable:!0,configurable:!0}),t}();function yp(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"wN")}function gp(t,n){I_(t.gN.NC,n),_p(t,n)}function _p(t,n){Tp(t.wN),t_(t.lN.FC,n),!0===t.jC&&pp(t,!1)}function pp(t,n){void 0!==t.yN&&t.pN(),t.yN=Hy(function(n){t.pN=n}),t.jC=n}var mp,kp=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bp(this))throw Rp("desiredSize");return C_(this.mN.gN.NC)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===bp(this))throw Rp("enqueue");Ep(this,t)},t.prototype.error=function(t){if(!1===bp(this))throw Rp("error");var n;n=t,gp(this.mN,n)},t.prototype.terminate=function(){if(!1===bp(this))throw Rp("terminate");!function(t){var n=t.mN,r=n.gN.NC;!0===N_(r)&&S_(r);var e=new v("TransformStream terminated");_p(n,e)}(this)},t}();function bp(t){return!!Ny(t)&&!!d.prototype.hasOwnProperty.call(t,"mN")}function Tp(t){t.kN=void 0,t._N=void 0}function Ep(t,n){var r=t.mN,e=r.gN.NC;if(!1===N_(e))throw new v("Readable side is not in a state that permits enqueue");try{R_(e,n)}catch(t){throw _p(r,t),r.gN.EC}(function(t){return!0!==T_(t)})(e)!==r.jC&&pp(r,!0)}function Sp(t,n){return $y(t.kN(n),void 0,function(n){throw gp(t.mN,n),n})}function Rp(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Ip(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function Cp(t){return n=[t],new op({start:function(t){for(var r=0;r<n.length;r++){var e=n[r];t.enqueue(e)}t.close()}});var n}function Np(t){return Cp(new _(t))}function Op(t,n){var r=n,e=t.getReader(),i=new he,u=function(){o();var t=new Tn;e.cancel(t).catch(rt),i.ts(t)},o=function(){r&&(r.uo(u),r=void 0)};r&&(r.Qu?u():r.io(u));var s=[];return C.resolve(e.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(e.read()).then(t))}).then(function(t){o(),i.Zo(t)},function(t){o(),i.ts(t)}),i.Qo}function Dp(t,n){var r=n,e=new wp,i=e.readable,u=e.writable,o=u.getWriter(),s=function(){r&&r.fo()};return o.closed.then(s,s),t.then(function(t){return r=void 0,o.releaseLock(),t.pipeTo(u).catch(rt)},function(t){return r=void 0,o.releaseLock(),u.abort(t).catch(rt)}),i}function Ap(t){return new C(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function Pp(t){var n=new FileReader,r=Ap(n);return n.readAsArrayBuffer(t),r}function xp(t){var n=new FileReader,r=Ap(n);return n.readAsText(t),r}function Fp(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function Bp(t){return function(t,n){var r=(new DOMParser).parseFromString(t,n);if(!r||r.getElementsByTagName("parsererror").length>0)throw new h("Invalid XML");return r}(t,"text/xml")}function Lp(t,n,r){return Op(t,r).then(function(t){return Ao(t,{type:n})})}!function(t){t[t.qk=0]="qk",t[t.bN=1]="bN"}(mp||(mp={}));var Mp="content-type",Up="text/plain;charset=UTF-8",qp="application/xml;charset=UTF-8",jp=function(){function t(){}var n=t.prototype;return n.HT=function(t){return this.Cb(t).then(JSON.parse)},n.TN=function(t){return this.Cb(t).then(Bp)},n.AT=function(t,n){switch(t){case bv.Mk:return this.iE(n);case bv.jk:return this.EN(n);case bv.Gi:return this.TN(n);case bv.Uk:return this.HT(n);case bv.qk:return this.SN();case bv.zi:return this.Cb(n);default:throw new v}},t}();function Vp(t,n,r){if(t instanceof jp)return t;var e,i=(r.get(Mp)||"").toLowerCase();if(t instanceof op)e={xu:mp.qk,SN:t,JS:i};else{var u=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{xu:bv.zi,eb:t,JS:n||Up};if(t instanceof ArrayBuffer||rr(t))return{xu:bv.Mk,eb:tm(t),JS:n};if(t instanceof Blob)return{xu:bv.jk,eb:t,JS:t.type||n};if(t instanceof Document)return{xu:bv.Gi,eb:t,JS:n||qp};if(J(t)||Y(t))return{xu:bv.Uk,eb:t,JS:n};throw new v("Unsupported BodyInit type")}return{xu:bv.zi,eb:null,JS:n}}(t,i)});e={xu:mp.bN,Qo:u,RN:n}}return new Hp(e)}var Hp=function(t){function n(n){var r;return(r=t.call(this)||this).IN=!1,r.CN=new he,r.CN.Qo.catch(rt),r.NN(n),r}gt(n,t);var r=n.prototype;return r.ON=function(){return this.CN.Qo},r.Cb=function(t){return this.DN(Wp,t)},r.HT=function(t){return this.DN(Xp,t)},r.EN=function(t){return this.DN(Yp,t)},r.iE=function(t){return this.DN($p,t)},r.SN=function(){return this.AN((t=this.PN).xu===mp.qk?t.SN:Dp(t.Qo.then(Jp).then(Np),t.RN));var t},r.TN=function(t){return this.DN(Qp,t)},r.DN=function(t,n){if(this.IN)return C.reject(new v("Already used"));this.IN=!0;var r=t(this.PN,n);return this.CN.Zo(r.then(rt)),r},r.AN=function(t){if(this.IN)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.IN=!0;var n=new wp,r=C.resolve(t.pipeTo(n.writable));return this.CN.Zo(r),n.readable},r.NN=function(t){this.PN=t,t.xu===mp.bN&&t.Qo.catch(rt)},r.xN=function(){if(this.IN)throw new v("Already used");var t=function(t){if(t.xu===mp.qk){var n=t.SN.tee(),r=n[0],e=n[1];return[{xu:t.xu,SN:r,JS:t.JS},{xu:t.xu,SN:e,JS:t.JS}]}var i=t.RN.ho(),u=i[0],o=i[1];return[{xu:t.xu,Qo:t.Qo,RN:u},{xu:t.xu,Qo:t.Qo,RN:o}]}(this.PN),r=t[0],e=t[1];return this.NN(r),new n(e)},x(n,[{key:"FN",get:function(){return this.IN}}]),n}(jp);function Wp(t,n){return t.xu===mp.qk?Lp(t.SN,t.JS,n).then(xp):(n&&t.RN.ao(n),Nn(t.Qo.then(zp),t.RN))}function zp(t){switch(t.xu){case bv.zi:return C.resolve(t.eb||"");case bv.Mk:return n=t.eb,xp(Ao([n]));case bv.jk:return xp(t.eb);case bv.Gi:return C.resolve(t.eb).then(Fp);case bv.Uk:return C.resolve(t.eb).then(JSON.stringify)}var n}function Xp(t,n){return t.xu===mp.qk?Wp(t,n).then(JSON.parse):(n&&t.RN.ao(n),Nn(t.Qo.then(Gp),t.RN))}function Gp(t){return t.xu===bv.Uk?C.resolve(t.eb):zp(t).then(JSON.parse)}function Yp(t,n){return t.xu===mp.qk?Lp(t.SN,t.JS,n):(n&&t.RN.ao(n),Nn(t.Qo.then(Kp),t.RN))}function Kp(t){return t.xu===bv.jk?C.resolve(t.eb):t.xu===bv.Mk?C.resolve(Ao([t.eb],{type:t.JS})):zp(t).then(function(n){return Ao([n],{type:t.JS})})}function $p(t,n){return t.xu===mp.qk?function(t,n){return Op(t,n).then(function(t){return ir(t).buffer})}(t.SN,n):(n&&t.RN.ao(n),Nn(t.Qo.then(Jp),t.RN))}function Jp(t){return t.xu===bv.Mk?C.resolve(t.eb):Kp(t).then(Pp)}function Qp(t,n){return t.xu===mp.qk?Wp(t,n).then(Bp):(n&&t.RN.ao(n),Nn(t.Qo.then(Zp),t.RN))}function Zp(t){return t.xu===bv.Gi?C.resolve(t.eb):zp(t).then(Bp)}function tm(t){return t instanceof ArrayBuffer?t:fe(oe(t)).buffer}function nm(t){return t.pb>=200&&t.pb<=299||304===t.pb}var rm=function(t){function n(n,r){var e,i,u,o,s,c;r?(i=r.ib,u=r.ob,o=r.pb,s=r.WT,c=r.BN):(i=[],u=bv.zi,o=200,s="OK",c=!1);var f=n.yb,a=new Ov(n.ib||i),h=n.ob||u,v=n._b||(r&&r.yb===f?r._b:f.rb),d=Vp(void 0!==n.mu?n.mu:r?r.LN:null,n.RN||new bn,a);return(e=t.call(this,d)||this).ib=a,e.yb=f,e._b=v,e.ob=h,e.pb=void 0!==n.pb?n.pb:o,e.WT=void 0!==n.WT?String(n.WT):s,e.BN=n.BN||c,e}gt(n,t);var r=n.prototype;return r.mu=function(t){return this.AT(this.ob,t)},r.Xo=function(){return new n({mu:this.xN(),yb:this.yb},this)},n}(function(t){function n(n){var r;return(r=t.call(this)||this).LN=n,r}gt(n,t);var r=n.prototype;return r.ON=function(){return this.LN.ON()},r.Cb=function(t){return this.LN.Cb(t)},r.HT=function(t){return this.LN.HT(t)},r.EN=function(t){return this.LN.EN(t)},r.iE=function(t){return this.LN.iE(t)},r.TN=function(t){return this.LN.TN(t)},r.SN=function(){return this.LN.SN()},r.xN=function(){return this.LN.xN()},x(n,[{key:"FN",get:function(){return this.LN.FN}}]),n}(jp)),em=function(t){function n(n,r,e){var i;return(i=t.call(this,r,e)||this).MN=n,i}return gt(n,t),x(n,[{key:"yb",get:function(){return this.MN}}]),n}(kt);var im=function(t){function n(n,r){return t.call(this,n,"Error while opening "+n.rb+". Invalid URL.",r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return Pv.vb}}]),n}(em);var um=function(t){function n(n,r){var e;return(e=t.call(this,n.yb,function(t){return"Error while loading "+t.yb.rb+", status code "+t.pb}(n),r)||this).UN=n,e}return gt(n,t),x(n,[{key:"name",get:function(){return Pv.lb}},{key:"gb",get:function(){return this.UN}}]),n}(em);var om=function(t){function n(n,r){return t.call(this,n,function(t){return"Request for "+t.rb+" timed out after "+t.sb+" seconds."}(n),r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return Pv.wb}}]),n}(em),sm=function(t,n){return(sm=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function cm(t,n){function r(){this.constructor=t}sm(t,n),t.prototype=null===n?d.create(n):(r.prototype=n.prototype,new r)}var fm="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var am=function(){var t=fm.Blob;if(t)try{return new t,function(t,n){return new fm.Blob(t,n)}}catch(t){}var n,r=fm.BlobBuilder||fm.WebKitBlobBuilder||fm.MozBlobBuilder||fm.MSBlobBuilder;return r?(n=r,function(t,r){var e=new n;if(t)for(var i=0,u=t;i<u.length;i++){var o=u[i];e.append(o)}return e.getBlob(r&&r.type||"")}):null}(),hm="function"==typeof op?op:void 0;function vm(t){return t&&"function"==typeof t.getReader}function dm(t){if("function"!=typeof t)return!1;try{var n=!1,r=new t({start:function(){n=!0}});return!!n&&vm(r)}catch(t){return!1}}var lm=function(){function t(t,n){this.bC=t,this.qN=n}return t.prototype.pull=function(t){var n=this;return this.bC.read().then(function(r){n.qN&&n.qN(r),r.done?t.close():t.enqueue(r.value)})},t.prototype.cancel=function(t){return this.bC.cancel(t)},t}();function wm(t,n){return n.constructor===t?n:new t(new lm(n.getReader()),{highWaterMark:0})}var ym=function(){function t(t,n){this.jN=t,this.vt=n}return t.prototype.pull=function(t){return this.jN().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.vt&&this.vt(t)},t}();function gm(t,n,r){return new t(new ym(n,r),{highWaterMark:0})}var _m={searchParams:"URLSearchParams"in fm,iterable:"Symbol"in fm&&"iterator"in Symbol,blob:"FileReader"in fm&&!!am,formData:"FormData"in fm,arrayBuffer:"ArrayBuffer"in fm,stream:dm(hm),streamRequest:"Request"in fm&&"body"in fm.Request.prototype,streamResponse:"Response"in fm&&"body"in fm.Response.prototype,abort:"AbortController"in fm&&"Request"in fm&&"signal"in fm.Request.prototype,encoding:"TextEncoder"in fm&&"TextDecoder"in fm,url:"URL"in fm&&function(t){try{return new fm.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in fm&&/Firefox\//.test(fm.navigator.userAgent)};function pm(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function mm(t){return"string"!=typeof t&&(t=String(t)),t}function km(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return _m.iterable&&(n[Symbol.iterator]=function(){return n}),n}var bm=function(){function t(n){var r,e=this;this.Cu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];e.append(n,r)}):Array.isArray(n)?n.forEach(function(t){e.append(t[0],t[1])}):(r=n,_m.iterable&&r&&r[Symbol.iterator]?Array.from(n).forEach(function(t){e.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){e.append(t,n[t])}))}return t.prototype.append=function(t,n){t=pm(t),n=mm(n);var r=t.toLowerCase();if(this.Cu.hasOwnProperty(r)){var e=this.Cu[r],i=e[1];e[1]=i?i+", "+n:n}else this.Cu[r]=[t,n]},t.prototype.delete=function(t){var n=pm(t).toLowerCase();delete this.Cu[n]},t.prototype.get=function(t){var n=pm(t).toLowerCase();return this.Cu.hasOwnProperty(n)?this.Cu[n][1]:null},t.prototype.has=function(t){var n=pm(t).toLowerCase();return this.Cu.hasOwnProperty(n)},t.prototype.set=function(t,n){var r=(t=pm(t)).toLowerCase();this.Cu[r]=[t,mm(n)]},t.prototype.forEach=function(t,n){for(var r in this.Cu)this.Cu.hasOwnProperty(r)&&t.call(n,this.Cu[r][1],r,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),km(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),km(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),km(t)},t.prototype.asList=function(){var t=[];for(var n in this.Cu)if(this.Cu.hasOwnProperty(n)){var r=this.Cu[n],e=r[0],i=r[1];t.push([e,i])}return t},t}();function Tm(){}_m.iterable&&(bm.prototype[Symbol.iterator]=bm.prototype.entries);var Em,Sm,Rm,Im=l.min,Cm=String.fromCharCode,Nm=16384;function Om(t){for(var n=[],r=0,e=t;r<e.length;r++){var i=e[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return function(t){for(var n=t.length,r=[],e=0;e<n;e+=Nm){var i=Im(e+Nm,n);r.push(Cm.apply(null,t.slice(e,i)))}return r.join("")}(n)}function Dm(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Am(t,n){return t>>n&63|128}function Pm(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Dm(t),n.push(t>>12&15|224),n.push(Am(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Am(t,12)),n.push(Am(t,6))),n.push(63&t|128)):n.push(t)}function xm(){if(Rm>=Sm)throw new h("Invalid byte index");var t=255&Em[Rm];if(Rm++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Fm(){var t,n;if(Rm>Sm)throw new h("Invalid byte index");if(Rm===Sm)return!1;if(t=255&Em[Rm],Rm++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|xm())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|xm()<<6|xm())>=2048)return Dm(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|xm()<<12|xm()<<6|xm())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var Bm=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Lm(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Mm(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Um(t){return t&&DataView.prototype.isPrototypeOf(t)}var qm,jm=ArrayBuffer.isView||function(t){return t&&(Bm.indexOf(d.prototype.toString.call(t))>-1||Um(t))};function Vm(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Hm(t){return new C(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function Wm(t){return _m.encoding?new fm.TextDecoder("utf-8").decode(new _(t)):Om(function(t){Sm=(Em=t).length,Rm=0;for(var n,r=[];!1!==(n=Fm());)r.push(n);return r}(new _(t)))}function zm(t){return _m.encoding?(new fm.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],r=0,e=t;r<e.length;r++)Pm(e[r],n);return n}(function(t){for(var n=[],r=0,e=t.length;r<e;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<e){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&i)<<10)+(1023&u)+65536):(n.push(i),r--)}else n.push(i)}return n}(t))).buffer}function Xm(t){var n=t.getReader(),r=[],e=function(t){var i=t.done,u=t.value;return i?C.resolve(r):(r.push(u),n.read().then(e))};return n.read().then(e)}function Gm(t){return Xm(t).then(function(t){return function(t){for(var n=0,r=0,e=t;r<e.length;r++)n+=(c=e[r]).byteLength;for(var i=new _(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];i.set(c,u),u+=c.byteLength}return i}(t).buffer})}function Ym(t){return t.slice?t.slice(0):Km(new _(t))}function Km(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function $m(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),e=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(i))}}),n}function Jm(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.VN===qm.HN){if(!n.WN.tee)throw new h("could not clone ReadableStream body");var r=n.WN.tee(),e=r[0],i=r[1];return n.body=e,n.WN=e,n.zN=e,i}return n.VN===qm.Mk?Ym(n.WN):n.VN===qm.bN?n.WN.then(Jm):n.zN}!function(t){t[t.zi=0]="zi",t[t.jk=1]="jk",t[t.XN=2]="XN",t[t.Mk=3]="Mk",t[t.HN=4]="HN",t[t.bN=5]="bN"}(qm||(qm={}));var Qm=function(){function t(n,r){this.bodyUsed=!1;var e,i,u,o=this;if(this.zN=n||null,n)if("string"==typeof n)this.VN=qm.zi,this.WN=n;else if((u=n)&&"function"==typeof u.then)this.VN=qm.bN,this.WN=C.resolve(n).then(function(n){return new t(n,r)}),this.WN.catch(Tm);else if(_m.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.VN=qm.jk,this.WN=n;else if(_m.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.VN=qm.XN,this.WN=n;else if(_m.searchParams&&Lm(n))this.VN=qm.zi,this.WN=n.toString();else if(_m.arrayBuffer&&(Mm(n)||jm(n)))Um(n)&&(this.zN=new _((i=n).buffer,i.byteOffset,i.byteLength)),this.VN=qm.Mk,this.WN=Mm(e=n)?Ym(e):Km(e);else{if(!_m.stream||!vm(n))throw new h("unsupported BodyInit type");n=wm(hm,n),this.VN=qm.HN,this.WN=n,this.zN=n}else this.VN=qm.zi,this.WN="";this.GN="",r.has("content-type")?this.GN=(r.get("content-type")||"").toLowerCase():("string"==typeof n?this.GN="text/plain;charset=UTF-8":o.VN===qm.jk&&o.WN.type?this.GN=o.WN.type:_m.searchParams&&Lm(n)&&(this.GN="application/x-www-form-urlencoded;charset=UTF-8"),this.GN&&r.set("content-type",this.GN)),_m.stream&&(null==n?this.body=null:o.VN===qm.HN?this.body=o.WN:this.body=gm(hm,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,r,e=Vm(this);return e||(this.VN===qm.jk?(t=this.WN,n=new FileReader,r=Hm(n),n.readAsText(t),r):this.VN===qm.Mk?C.resolve(this.WN).then(Wm):this.VN===qm.HN?Gm(this.WN).then(Wm):this.VN===qm.bN?this.WN.then(function(t){return t.text()}):this.VN===qm.XN?C.reject(new h("could not read FormData body as text")):C.resolve(this.WN))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();_m.blob&&(Qm.prototype.blob=function(){var t,n,r=Vm(this);return r||(this.VN===qm.jk?C.resolve(this.WN):this.VN===qm.Mk?C.resolve(am([this.WN],{type:this.GN})):this.VN===qm.HN?(t=this.WN,n=this.GN,Xm(t).then(function(t){return am(t,{type:n||""})})):this.VN===qm.bN?this.WN.then(function(t){return t.blob()}):this.VN===qm.XN?C.reject(new h("could not read FormData body as Blob")):C.resolve(am([this.WN],{type:this.GN})))}),_m.arrayBuffer&&(Qm.prototype.arrayBuffer=function(){var t,n,r;return this.VN===qm.Mk?Vm(this)||C.resolve(this.WN):this.VN===qm.jk?Vm(this)||(t=this.WN,n=new FileReader,r=Hm(n),n.readAsArrayBuffer(t),r):this.VN===qm.HN?Gm(this.WN):this.VN===qm.bN?Vm(this)||this.WN.then(function(t){return t.arrayBuffer()}):this.VN===qm.XN?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.WN).then(zm)}),_m.formData&&(Qm.prototype.formData=function(){return this.VN===qm.XN?Vm(this)||C.resolve(this.WN):this.text().then($m)});var Zm=[301,302,303,307,308],tk=function(t){function n(n,r){var e=this,i=new bm((r=r||{}).headers);return(e=t.call(this,n||null,i)||this).type="default",e.status=void 0===r.status?200:r.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==r.statusText?String(r.statusText):"",e.headers=i,e.url=r.url||"",e}return cm(n,t),n.prototype.clone=function(){return new n(Jm(this),{status:this.status,statusText:this.statusText,headers:new bm(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,r){if(-1===Zm.indexOf(r))throw new RangeError("Invalid status code");return new n(null,{status:r,headers:{location:t}})},n}(Qm);var nk,rk=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function r(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function u(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var i=d.getOwnPropertyDescriptor(e,n);return i.get?i.get.call(r):i.value}})(t,n,r||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){r(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var r=this.listeners[t],e=0,i=r.length;e<i;e++)if(r[e]===n)return void r.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var r=function(r){s(function(){return r.call(n,t)})},e=this.listeners[t.type],i=0,u=e.length;i<u;i++)r(e[i]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,i;return r(this,n),e=this,(t=!(i=o(n).call(this))||"object"!=typeof i&&"function"!=typeof i?f(e):i).listeners||h.call(f(t)),d.defineProperty(f(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(f(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){r(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(nk=rk)&&nk.__esModule&&d.prototype.hasOwnProperty.call(nk,"default")&&nk.default;rk.AbortSignal;var ek=rk.AbortController,ik=fm.DOMException;try{new ik}catch(t){(ik=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),ik.prototype.constructor=ik}var uk=ek;var ok,sk="moz-chunked-arraybuffer";function ck(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(ok||(ok={}));var fk=function(){function t(t,n){var r=this;this.YN=!1,this.MN=t,this.KN=n,this.$N=new p,this.JN=new C(function(t,n){r.QN=t,r.ZN=n})}return t.prototype.send=function(){var t=this;return this.tO().then(function(n){return t.nO(n,t.KN),t.JN})},t.prototype.tO=function(){var t=this.MN;return t.VN===qm.HN?t.arrayBuffer():C.resolve(t.zN)},t.prototype.rO=function(t){this.MN.onprogress&&this.MN.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.eO=function(t){this.ZN(t)},t.prototype.iO=function(){this.eO(new v("Network request failed"))},t.prototype.uO=function(){this.eO(new v("Network request failed"))},t.prototype.oO=function(){this.eO(new ik("Aborted","AbortError"))},t.prototype.nO=function(t,n){var r=this,e=this.MN,i=this.$N,u=function(){return r.sO()};if(e.signal.aborted)return this.oO();i.onreadystatechange=function(){if(i.readyState>=ok.HEADERS_RECEIVED&&!r.YN){var t=function(t){var n=new bm;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),e=r.shift().trim();if(e){var i=r.join(":").trim();n.append(e,i)}}),n}(i.getAllResponseHeaders()||""),n={status:i.status,statusText:i.statusText,headers:t,url:i.responseURL||t.get("X-Request-URL")};r.YN=!0,r.cO(n)}},i.onprogress=function(t){return r.rO(t)},i.onload=function(){return r.fO()},i.onerror=function(){return r.iO()},i.ontimeout=function(){return r.uO()},i.onabort=function(){return r.oO()},i.open(e.method,e.url,!0),i.withCredentials="include"===e.credentials,"responseType"in i&&n&&(i.responseType=n),e.headers.asList().forEach(function(t){var n=t[0],r=t[1];i.setRequestHeader(n,r)}),e.signal.addEventListener("abort",u),i.onloadend=function(){e.signal.removeEventListener("abort",u)},t?i.send(t):i.send()},t.prototype.sO=function(){this.$N.abort()},t}(),ak=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.aO=void 0,e.hO=void 0,e}return cm(n,t),n.prototype.cO=function(t){var n=this;this.aO=new C(function(t,r){n.hO=t,n.vO=r}),this.QN(new tk(this.aO,t))},n.prototype.fO=function(){var t=this.$N.response||this.$N.responseText;this.hO(t)},n.prototype.eO=function(n){t.prototype.eO.call(this,n),this.vO&&this.vO(n)},n}(fk),hk=function(t){function n(n){var r=t.call(this,n,sk)||this;return r.dO=void 0,r.lO=void 0,r.wO=!1,r}return cm(n,t),n.prototype.cO=function(t){var n=this;this.dO=new hm({start:function(t){n.lO=t},cancel:function(){n.wO=!0,n.sO()}}),this.QN(new tk(this.dO,t))},n.prototype.rO=function(n){this.wO||this.lO.enqueue(new _(this.$N.response)),t.prototype.rO.call(this,n)},n.prototype.fO=function(){this.lO.close()},n.prototype.eO=function(n){t.prototype.eO.call(this,n),this.lO&&!this.wO&&(this.wO=!0,this.lO.error(n))},n}(fk),vk=function(){var t=_m.firefox&&ck(sk);return vk=function(){return t},t},dk=function(){var t;return t=_m.arrayBuffer&&ck("arraybuffer")?"arraybuffer":_m.blob&&ck("blob")?"blob":"",dk=function(){return t},t};function lk(t){return(_m.stream&&vk()?new hk(t):new ak(t,dk())).send()}var wk=fm.fetch,yk=fm.Request,gk=(fm.Response,fm.AbortController);var _k=["http:","https:"];var pk=function(){try{if(_m.streamRequest){var t=new yk("about:blank",{body:"",method:"POST"}).body;if(t&&dm(t.constructor))return t.constructor}}catch(t){}}();function mk(t,n,r){var e;if(_m.stream){var i=void 0;if(_m.streamResponse){var u=t.body;i=u&&wm(hm,u)}else i=gm(hm,function(){return t.arrayBuffer()},function(){n.abort()});i&&r&&(i=function(t,n,r){var e=0;return function(t,n,r){return new t(new lm(n.getReader(),r),{highWaterMark:0})}(hm,t,function(t){var i=t.done,u=t.value;i?r=void 0===r?e:r:e+=u.byteLength,n(e,r)})}(i,r,kk(t.headers))),e=i}else{var o=t.arrayBuffer();r&&(o=function(t,n,r){return C.resolve().then(function(){return n(0,r),t}).then(function(t){var e=t.byteLength;return n(e,r=void 0===r?e:r),t})}(o,r,kk(t.headers))),e=o}return new tk(e,t)}function kk(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function bk(t){var n=new gk;return function(t,n){var r,e=t;return r=e.VN===qm.HN?_m.streamRequest&&pk?C.resolve(wm(pk,e.WN)):t.arrayBuffer():C.resolve(t.zN),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var r=function(){n.removeEventListener("abort",r),t.signal.removeEventListener("abort",r),t.abort()};n.addEventListener("abort",r),t.signal.addEventListener("abort",r)}}(n,t.signal),r.then(function(r){return new yk(t.url,{body:r||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof bm?e:new bm(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var e})}(t,n).then(wk).then(function(r){return mk(r,n,t.onprogress)})}var Tk=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Ek=function(t){function n(r,e){var i,u,o,s,c,f,a,h,d,l=this,w=(e=e||{}).body||null;if(r instanceof n){if(r.bodyUsed)throw new v("Already used");i=r.url,u=r.credentials,e.headers||(o=new bm(r.headers)),s=r.method,c=r.mode,f=r.referrer,a=r.referrerPolicy,h=r.signal,d=r.onprogress,w||null==r.zN||(w=r.zN,r.bodyUsed=!0)}else i=String(r),u="same-origin",s="GET",c="cors",f="about:client",a="",h=null,d=null;if(!e.headers&&o||(o=new bm(e.headers)),e&&(f="about:client",a=""),(l=t.call(this,w,o)||this).url=i,l.headers=o,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return Tk.indexOf(n)>-1?n:t}(e.method||s),l.mode=e.mode||c,l.signal=e.signal||h||(new uk).signal,l.referrer=void 0!==e.referrer?e.referrer:f,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:a,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return cm(n,t),n.prototype.clone=function(){return new n(this,{body:Jm(this)})},n}(Qm),Sk="function"==typeof wk&&_m.abort&&_m.stream&&_m.streamResponse&&_m.url;function Rk(t,n){return new C(function(r){var e=new Ek(t,n);r((Sk&&function(t){try{return _k.indexOf(new fm.URL(t,fm.location.href).protocol)>=0}catch(t){return!1}}(e.url)?bk:lk)(e))})}Rk.polyfill=!0;var Ik=function(){function t(t){this.xb=new bn,this.UN=void 0,this.yO=!1,this.MN=t,this.xb.ao(t.vo),this.gb=this.gO()}var n=t.prototype;return n.gO=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e,i,u,o,c,f,a=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.MN).sb&&s(function(){a.yO=!0,a.xb.fo()},n.sb),t.prev=2,r=Rk(n.rb,{method:n.ub,headers:n.ib.Vk(),body:n.eb,credentials:n.ab?"include":"same-origin",signal:Ok(this.xb.vo),onprogress:n.hb}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new im(n,t.t0);case 9:return t.prev=9,t.next=12,r;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),En(i=this._O(t.t1))&&this.xb.fo(),i;case 20:if(u=e.url||n.rb,o=0===e.status&&"file:"===(h=u,O.Mc(h).protocol)?200:e.status,c=new Ck(this,e,this.xb),f=new rm({mu:c,yb:n,ob:n.ob,ib:new Ov(e.headers.asList()),pb:o,WT:e.statusText,_b:u}),this.UN=f,!nm(f)){t.next=29;break}return t.abrupt("return",f);case 29:throw new um(f);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n._O=function(t){return En(t)?this.yO?new om(this.MN):new Tn(t.message,t):this.UN?new um(this.UN,t):new im(this.MN,t)},t}(),Ck=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).CN=new he,i.$t=n,i.pO=r,i.xb=e,i.CN.Qo.catch(rt),i}gt(n,t);var r=n.prototype;return r.ON=function(){return this.CN.Qo},r.Cb=function(t){return this.DN(this.pO.text(),t)},r.iE=function(t){return this.DN(this.pO.arrayBuffer(),t)},r.EN=function(t){return this.DN(this.pO.blob(),t)},r.SN=function(){var t=this.pO.body;return t?this.AN(t):Dp(this.iE().then(Np),this.xb)},r.xN=function(){var t=this.pO.clone(),r=this.xb.ho(),e=r[0],i=r[1];return this.xb=e,new n(this.$t,t,i)},r.DN=function(t,n){var r=this;n&&this.xb.ao(n);var e=C.resolve(t).catch(function(t){throw r.$t._O(t)});return e=Nn(e,this.xb),this.CN.Zo(e.then(rt)),e},r.AN=function(t){var n=this,r=new wp,e=C.resolve(t.pipeTo(r.writable,{preventAbort:!0})).catch(function(t){var e=n.$t._O(t);throw r.writable.abort(e).catch(rt),e});return e=Nn(e,this.xb),this.CN.Zo(e.then(rt)),r.readable},x(n,[{key:"FN",get:function(){return this.pO.bodyUsed}}]),n}(jp),Nk="abort";function Ok(t){var n=new uk;if(t.Qu)n.abort();else if(!t.Zu){var r=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Nk,r),t.uo(r),t.uo(e)};n.signal.addEventListener(Nk,r),t.io(r),t.oo(e)}return n.signal}var Dk=function(){function t(){}var n=t.prototype;return n.yb=function(t){return new Ik(t).gb},n.dC=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.rb,Ao([t.eb],{type:t.JS}));else{var n=t.JS?{"Content-type":t.JS}:void 0;An(this.yb(new py({ub:Rv.POST,rb:t.rb,eb:t.eb,ib:n})))}},n.oe=function(){},t}(),Ak=function(){function t(){}var n=t.prototype;return n.yb=function(t){var n=function(t){return new rm({mu:null,ib:{},yb:t,_b:t.rb,ob:t.ob,pb:0,WT:Ds.Uh})}(new py(t));return C.resolve(n)},n.dC=function(t){},n.oe=function(){},t}();var Pk=function(){function t(t){this.mO=0,this.kO=0,this.bO=l.exp(l.log(.5)/t)}return t.prototype.TO=function(t,n){var r=l.pow(this.bO,t),e=n*(1-r)+r*this.mO;g(e)||(this.mO=e,this.kO+=t)},x(t,[{key:"EO",get:function(){var t=1-l.pow(this.bO,this.kO);return this.mO/t}}]),t}(),xk=function(){function t(t,n,r,e){void 0===t&&(t=ph.Qm(.5)),void 0===n&&(n=ph.Qm(5)),void 0===r&&(r=128e3),void 0===e&&(e=!1),this.SO=t,this.RO=n,this.IO=r,this.CO=e,this.NO=0,this.OO=0,this.DO=[],this.AO=void 0,this.PO=5e5,this.xO=5e3,this.FO=new Pk(t.Lm()),this.BO=new Pk(n.Lm())}var n=t.prototype;return n.TO=function(t,n){var r=8*n/t.Lm(),e=t.Lm(),i=O.Af();for(this.CO&&void 0!==this.AO&&i-this.AO>=this.xO&&this.Pa(),this.FO.TO(e,r),this.BO.TO(e,r),this.DO.push([e,r]);;){for(var u=0,o=0,s=this.DO;o<s.length;o++){var c=s[o],f=c[0];c[1];u+=f}if(u<=this.SO.Lm())break;this.DO.shift()}this.NO+=n,this.OO+=n,this.AO=i},n.LO=function(){return void 0!==this.AO&&O.Af()-this.AO<this.xO&&this.OO>=this.IO},n.Pa=function(){this.FO=new Pk(this.SO.Lm()),this.BO=new Pk(this.RO.Lm()),this.OO=0,this.DO=[],this.AO=void 0},x(t,[{key:"EO",get:function(){return this.LO()?l.min(this.FO.EO,this.BO.EO):this.PO}},{key:"MO",get:function(){return this.NO}}]),t}(),Fk=function(){function t(t,n,r){void 0===t&&(t=ph.Qm(2)),void 0===n&&(n=ph.Qm(5)),void 0===r&&(r=!1),this.SO=t,this.RO=n,this.CO=r,this.UO=0,this.PO=ph.Qm(.1),this.DO=[],this.AO=void 0,this.xO=6e4,this.qO=10,this.FO=new Pk(t.Lm()),this.BO=new Pk(n.Lm())}var n=t.prototype;return n.TO=function(t){var n=O.Af(),r=t.Lm();this.CO&&void 0!==this.AO&&n-this.AO>=this.xO&&this.Pa(),this.UO+=1,this.FO.TO(1,r),this.BO.TO(1,r),this.DO.push(r),this.DO.length>this.qO&&this.DO.shift(),this.AO=n},n.LO=function(){return void 0!==this.AO&&O.Af()-this.AO<=this.xO},n.Pa=function(){this.FO=new Pk(this.SO.Lm()),this.BO=new Pk(this.RO.Lm()),this.UO=0,this.DO=[],this.AO=void 0},x(t,[{key:"EO",get:function(){return this.LO()?ph.Qm(l.min(this.FO.EO,this.BO.EO)):this.PO}}]),t}(),Bk=function(){function t(t,n,r){this.jO=t,this.VO=n,this.HO=r,this.WO=void 0,this.zO=void 0,this.XO=void 0,this.GO=void 0,this.YO=[]}var n=t.prototype;return n.KO=function(t){if(this.WO)throw new h("RequestMeasurer - The start of the request has already been marked.");this.WO=t},n.$O=function(t){if(!this.WO)throw new h("RequestMeasurer - The start of the request has not yet been marked.");if(this.zO)throw new h("RequestMeasurer - The start of the response has already been marked.");this.zO=t,this.HO.TO(this.zO.if(this.WO))},n.JO=function(t,n){if(!this.zO)throw new h("RequestMeasurer - The start of the response has not yet been marked.");if(this.XO){var r=t.if(this.XO),e=this.YO.reduce(function(t,n){return n.$c(t)},ph.af).$m(this.YO.length),i=r.Qc(e.$m(2)),u=r.Zc(e.$c(e.$m(2)));i&&u&&this.VO.TO(r,n.length),this.YO.push(r),this.YO.length>100&&this.YO.shift(),this.XO=t}else this.XO=t},n.QO=function(t){if(!this.zO)throw new h("RequestMeasurer - The start of the response has not yet been marked.");if(this.GO)throw new h("RequestMeasurer - The end of the response has already been marked.");this.GO=t},t}(),Lk=function(){function t(t){this.ZO=t}var n=t.prototype;return n.KO=function(t){this.ZO.markRequestStart(1e3*t.Lm())},n.$O=function(t){this.ZO.markResponseStart(1e3*t.Lm())},n.JO=function(t,n){this.ZO.markResponseData(1e3*t.Lm(),n)},n.QO=function(t){this.ZO.markResponseEnd(1e3*t.Lm())},t}();function Mk(t){var n;return{get url(){return t.rb},get method(){return t.ub},get headers(){return n||(n=t.ib.Vk()),n},get body(){return t.eb},get useCredentials(){return t.ab},get type(){return Hk(t.xu)},get subType(){return zk(t.cb)},get mediaType(){return Gk(t.fb)},get responseType(){return qk(t.ob)}}}function Uk(t){switch(t.toLowerCase()){case"arraybuffer":return bv.Mk;case"blob":return bv.jk;case"document":return bv.Gi;case"json":return bv.Uk;case"stream":return bv.qk;case"text":default:return bv.zi}}function qk(t){return t}function jk(t){switch(t.toUpperCase()){case"GET":default:return Rv.GET;case"POST":return Rv.POST;case"PUT":return Rv.PUT;case"DELETE":return Rv.DELETE;case"HEAD":return Rv.HEAD;case"OPTIONS":return Rv.OPTIONS}}function Vk(t){switch(t.toLowerCase()){case"manifest":return Iv.zk;case"segment":return Iv.Xk;case"content-protection":return Iv.Gk;default:return Iv.E_}}function Hk(t){return t}function Wk(t){switch(t.toLowerCase()){case"initialization-segment":return Cv.Yk;case"fairplay-license":return Cv.Kk;case"fairplay-certificate":return Cv.$k;case"widevine-license":return Cv.Jk;case"widevine-certificate":return Cv.Qk;case"playready-license":return Cv.Zk;case"clearkey-license":return Cv.tb;case"aes128-key":return Cv.nb;default:return Cv.E_}}function zk(t){return t}function Xk(t){switch(t.toLowerCase()){case"audio":return Nv.tw;case"video":return Nv.Zl;case"text":return Nv.zi;case"image":return Nv.T_;case"":default:return Nv.E_}}function Gk(t){return t}var Yk=function(t){function n(){var n;return(n=t.call(this)||this).tD=void 0,n}gt(n,t);var r=n.prototype;return r.nD=function(){return this.tD?this.tD.bandwidth:t.prototype.nD.call(this)},r.rD=function(){return this.tD?ph.Im(this.tD.roundTripTime,1e3):t.prototype.rD.call(this)},r.eD=function(n){return this.tD?new Lk(this.tD.createMeasurer(Mk(n))):t.prototype.eD.call(this,n)},n}(function(){function t(){this.ea=void 0,this.VO=new xk,this.HO=new Fk}var n=t.prototype;return n.nD=function(){return this.VO.EO},n.rD=function(){return this.HO.EO},n.eD=function(t){return new Bk(t.rb,this.VO,this.HO)},x(t,[{key:"iD",get:function(){return this.nD()}},{key:"uD",get:function(){return this.rD()}},{key:"ia",get:function(){var t;return this.ea||(this.ea=(t=this,{get bandwidth(){return t.iD},get roundTripTime(){return t.uD.Lm()},createMeasurer:function(t){throw new h("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.ea}}]),t}()),Kk=function(){function t(t,n){void 0===n&&(n=!0),this.oD=new Yk,this.sD=t,this.cD=n}var n=t.prototype;return n.yb=function(t){return G(Ao)?this.fD(t):this.sD.yb(this.aD(t))},n.fD=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.aD(n),(e=this.oD.eD(r)).KO(ph.Qm(O.Af()/1e3)),t.next=5,this.sD.yb(r);case 5:return i=t.sent,e.$O(ph.Qm(O.Af()/1e3)),u=i.SN().pipeThrough(new wp(new $k(e))),o={mu:u,yb:i.yb},t.abrupt("return",new rm(o,i));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dC=function(t){return this.sD.dC(this.hD(t))},n.aD=function(n){var r=new py(n);if(!this.cD){var e=t.vD(r.rb);r=new py({rb:e},r)}return r},n.hD=function(n){var r=n.rb;return this.cD||(r=t.vD(r)),{rb:r,eb:n.eb}},t.vD=function(t){return i&&i.location&&"https:"===i.location.protocol&&sn(t,"http://")?t.replace(":","s:"):t},n.oe=function(){this.sD.oe()},x(t,[{key:"dD",get:function(){return this.oD}},{key:"lD",get:function(){return this.oD.ia},set:function(t){this.oD.tD=t}}],[{key:"wD",get:function(){return t.yD}},{key:"gD",get:function(){return t._D}}]),t}();Kk.yD=new Kk(new Dk),Kk._D=new Kk(new Ak);var $k=function(){function t(t){this.pD=t}var n=t.prototype;return n.start=function(t){this.mD=t},n.transform=function(t){this.pD.JO(ph.Im(O.Af(),1e3),t),this.mD.enqueue(t)},n.flush=function(){this.pD.QO(ph.Im(O.Af(),1e3))},t}();var Jk=!W.wi&&!W.Ri;function Qk(t,n,r){var e=t.getImageData(n,r,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var Zk=function(){function t(t){this.ea=void 0,this.kD=void 0,this.IR=t}var n=t.prototype;return n.bD=function(t){if(!t||!t.drawImage)return!1;var n=this.IR.Pd();if(!n)return!1;for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return t.drawImage.apply(t,[n].concat(e)),!0},n.TD=function(t,n,r,e,u,o){if(!t||!t.texImage2D)return!1;var s=this.IR,c=s.Pd();if(!c)return!1;if(!Jk){this.kD||(this.kD=i.createElement("canvas"));var f=this.kD,a=f.getContext("2d"),v=s.$v,d=s.Kv,l=f.width,w=f.height;a.clearRect(0,0,f.width,f.height),l===v&&w===d||(f.width=v,f.height=d),a.drawImage(c,0,0,v,d);var y=!1;v>0&&Qk(a,v-1,0)&&(f.width=l,y=!0),d>0&&Qk(a,0,d-1)&&(f.height=w,y=!0),y&&a.drawImage(c,0,0,v,d),c=f}try{t.texImage2D(n,r,e,u,o,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},x(t,[{key:"ia",get:function(){return this.ea||(this.ea=(t=this,{drawImage:function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return t.bD.apply(t,[n].concat(e))},texImage2D:function(n,r,e,i,u,o){return t.TD(n,r,e,i,u,o)}}));var t}}]),t}(),tb=function(t){function n(n,r){var e;return(e=t.call(this,"ED")||this).Tf=n,e.Jw=r,e}return gt(n,t),n.prototype.ua=function(){return new nb(this.Tf,this.Jw)},n}(qo),nb=function(t){function n(n,r){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=r,e}return gt(n,t),n}(qn),rb=function(t,n){this.Hd=t,this.SD=n},eb=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).RD=0,e.CD=0,e.ND=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.CD=n.width,e.RD=n.height,e.SD(e.CD,e.RD)}},e.OD=new S.ResizeObserver(e.ND),e.OD.observe(e.Hd),e}return gt(n,t),n.prototype.oe=function(){this.OD.disconnect()},x(n,[{key:"DD",get:function(){return this.RD}},{key:"PD",get:function(){return this.CD}}]),n}(rb),ib=0;var ub,ob=c,sb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,cb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function fb(){return ub||(ub=S&&S.document&&S.document.createElement("span")),ub}sb&&cb||(sb=function(t){var n=dy(),r=l.max(0,16-(n-ib)),e=s(function(){return t(n+r)},r);return ib=n+r,e},cb=ob),sb=sb.bind(t),cb=cb.bind(t);var ab=["Webkit","Moz","O","ms"],hb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",rt,n),S.removeEventListener("testPassiveEventSupport",rt,n)}}catch(t){}}(),Lt());function vb(t){return hb.has(t)||hb.set(t,function(t){var n=fb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<ab.length;e++){var i=ab[e],u=i+r;if(void 0!==n.style[u])return u}return t}(t)),hb.get(t)}function db(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function lb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[vb("transition")]="0s"}var wb=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).xD=void 0,i.FD=0,i.CD=NaN,i.RD=NaN,i.BD=void 0,i.Pa=function(){i.LD.style.width=1e5+"px",i.LD.style.height=1e5+"px",i.MD.scrollLeft=1e5,i.MD.scrollTop=1e5,i.UD.scrollLeft=1e5,i.UD.scrollTop=1e5,0===i.UD.scrollTop&&sb(i.Pa)},i.qD=function(){var t=i.PD,n=i.DD;i.SD(t,n),i.CD=t,i.RD=n,i.Pa(),i.FD=0},i.jD=function(){if(!i.FD){var t=i.PD,n=i.DD;t===i.CD&&n===i.RD||(i.FD=sb(i.qD))}},i.VD=function(){i.BD||(i.BD=s(i.HD,66))},i.HD=function(){i.BD=void 0,i.WD()},i.WD=function(){i.jD()},i.Ds(e),i}gt(n,t);var r=n.prototype;return r.zD=function(){var t,n=this.Hd,r=i.createElement("div");return this.MD=i.createElement("div"),this.LD=i.createElement("div"),this.UD=i.createElement("div"),this.XD=i.createElement("div"),db(this.MD),db(this.UD),lb(this.LD),lb(t=this.XD),t.style.width="200%",t.style.height="200%",r.appendChild(this.MD),r.appendChild(this.UD),this.MD.appendChild(this.LD),this.UD.appendChild(this.XD),n&&n.appendChild(r),this.jD(),this.MD.addEventListener("scroll",this.jD),this.UD.addEventListener("scroll",this.jD),r},r.Ds=function(t){var n=this.Hd,r=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==r||(n.style.position="relative"),this.xD=this.zD(),e&&e.addEventListener("resize",this.VD)},r.oe=function(){this.xD&&(cb(this.FD),this.FD=0,this.MD.removeEventListener("scroll",this.jD),this.UD.removeEventListener("scroll",this.jD),Xe(this.xD),this.xD=void 0,e&&e.removeEventListener("resize",this.VD))},x(n,[{key:"DD",get:function(){return this.Hd&&this.Hd.getBoundingClientRect().height||this.RD||0}},{key:"PD",get:function(){return this.Hd&&this.Hd.getBoundingClientRect().width||this.CD||0}}]),n}(rb),yb=function(t){function n(n){var r;return(r=t.call(this)||this).OD=void 0,r.ND=function(t,n){r.wo(new tb(t,n))},r.Hd=n,r}gt(n,t);var r=n.prototype;return r.Ds=function(t){this.OD||("function"==typeof S.ResizeObserver?this.OD=new eb(this.Hd,this.ND):this.OD=new wb(this.Hd,this.ND,t))},r.oe=function(){this.mo(),this.OD&&(this.OD.oe(),this.OD=void 0)},x(n,[{key:"DD",get:function(){return this.OD?this.OD.DD:0}},{key:"PD",get:function(){return this.OD?this.OD.PD:0}}]),n}(Mn),gb=function(t){function n(){return t.call(this,xs.ga)||this}return gt(n,t),n}(qn);!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var r=t[n];if(r[1]in i)return{GD:r[0],YD:r[1],KD:r[2],$D:r[3],JD:r[4],QD:r[5]}}}();var _b=function(t){function n(){return t.call(this,xs.ov)||this}return gt(n,t),n}(qn),pb=function(t){function n(n,r){var e;return(e=t.call(this)||this).ZD=!1,e.tA=function(){return e.bs()},e.lv=function(t){e.ZD||e.wo(t)},e.IR=n,e.nA=r,e.rA=xw,e.eA(),e.IR._o(Ds.xh,e.tA),e.bs(),e}gt(n,t);var r=n.prototype;return r.Dv=function(){this.nA&&this.rA.Dv()},r.Av=function(){this.rA.Av()},r.eA=function(){this.rA._o(xs.ga,this.lv),this.rA._o(xs.Qa,this.lo)},r.iA=function(){this.rA.ko(xs.ga,this.lv),this.rA.ko(xs.Qa,this.lo)},r.bs=function(){var t=this.rA,n=this.IR.xd();if(t!==n){this.ZD=!0;var r=this.Ov,e=this.Nv;r&&this.Av(),this.iA(),this.rA=n,this.eA(),r&&!this.Ov&&this.Nv?this.Dv():this.Av(),this.ZD=!1,e!==this.Nv&&this.wo(new _b),r!==this.Ov&&this.wo(new gb)}},r.oe=function(){this.mo(),this.iA(),this.IR.ko(Ds.xh,this.tA)},x(n,[{key:"Nv",get:function(){return!!this.nA&&this.rA.Nv}},{key:"Ov",get:function(){return this.rA.Ov}}]),n}(Mn),mb=function(){function t(t,n){this.uA=t,this.oA=n,this.sA=new he,this.cA=[],this.ea=void 0,this.fA=!1,this.UN=void 0,this.aA=0}var n=t.prototype;return n.hA=function(){this.fA=!0,this.sA.Zo(null)},n.vA=function(){this.sA.ts(this.cA)},n.dA=function(t){if(!this.lA)throw new v("Cannot respond more than once");if(!$(t))throw new v("Expected valid response");this.UN=this.wA(t),this.hA()},n.yA=function(){try{var t=this.oA(this.ia);t?this.gA(t):this._A||this.pA||this.hA()}catch(t){this.vA()}},n.gA=function(t){if(this.pA)throw new h("Request has been redirected or a response already exists");if(tt(t))this.mA(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new he;try{var r=t(function(t){t?n.ts(t):n.Zo(void 0)});tt(r)&&n.Zo(r)}catch(t){n.ts(t)}this.mA(n.Qo)}},n.mA=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.aA++,t.next=4,n;case 4:this.aA--,this._A||this.pA||(this.cA.length?this.vA():this.hA()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.aA--,this.cA.push(t.t0),this._A||this.pA||this.vA();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),x(t,[{key:"kA",get:function(){return this.sA.Qo}},{key:"ia",get:function(){return this.ea||(this.ea=this.bA()),this.ea}},{key:"pA",get:function(){return this.fA}},{key:"lA",get:function(){return!this.fA}},{key:"_A",get:function(){return this.aA>0}},{key:"gb",get:function(){return this.UN}}]),t}(),kb=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).TA=e,i.yA(),i}gt(n,t),n.EA=function(t,n,r){var e=void 0===t.body?r:t.body;return new rm({mu:e,yb:n.yb,ob:n.yb.ob,ib:t.headers,pb:t.status,WT:t.statusText,_b:t.url,BN:!0},n)};var r=n.prototype;return r.bA=function(){return r=Mk((t=this).yb),{get closed(){return!t.lA},get request(){return r},get url(){return t.rb},get status(){return t.pb},get statusText(){return t.WT},get headers(){return n||(n=t.ib.Vk()),n},get body(){return t.eb},respondWith:function(n){return t.dA(n)},waitUntil:function(n){return t.gA(n)}};var t,n,r},r.wA=function(t){return n.EA(t,this.uA,this.TA)},x(n,[{key:"eb",get:function(){return this.TA}},{key:"ib",get:function(){return this.uA.ib}},{key:"yb",get:function(){return this.uA.yb}},{key:"gb",get:function(){return this.UN}},{key:"pb",get:function(){return this.uA.pb}},{key:"WT",get:function(){return this.uA.WT}},{key:"rb",get:function(){return this.uA._b}}]),n}(mb),bb=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).SA=void 0,i.RA=e,i.yA(),i}gt(n,t);var r=n.prototype;return r.bA=function(){return t=this,{get url(){return t.rb},get method(){return t.ub},get headers(){return n||(n=t.ib.Vk()),n},get body(){return t.eb},get closed(){return!t.lA},get useCredentials(){return t.ab},get type(){return Hk(t.xu)},get subType(){return zk(t.cb)},get mediaType(){return Gk(t.fb)},get responseType(){return qk(t.ob)},redirect:function(n){return t.IA(n)},respondWith:function(n){return t.dA(n)},waitUntil:function(n){return t.gA(n)}};var t,n},r.wA=function(t){var n=this.uA.eb,r=new rm({mu:n,ib:{},yb:this.uA,_b:this.uA.rb,ob:this.uA.ob,pb:200,WT:"OK"});return kb.EA(t,r,n)},r.IA=function(t){if(!this.lA)throw new v("Cannot redirect, already redirected or has a response");var n;n=Q(t)?{url:t}:t,this.SA=function(t,n){return new py({rb:void 0===t.url?n.rb:t.url,ub:void 0!==t.method?jk(t.method):void 0,ib:t.headers,eb:t.body,ab:t.useCredentials,xu:void 0!==t.type?Vk(t.type):void 0,cb:void 0!==t.subType?Wk(t.subType):void 0,fb:void 0!==t.mediaType?Xk(t.mediaType):void 0,ob:void 0!==t.responseType?Uk(t.responseType):void 0},n)}(n,this.uA),this.hA()},x(n,[{key:"eb",get:function(){return this.uA.eb}},{key:"lA",get:function(){return this.RA&&!this.fA}},{key:"ib",get:function(){return this.uA.ib}},{key:"ub",get:function(){return this.uA.ub}},{key:"CA",get:function(){return this.SA}},{key:"gb",get:function(){return this.UN}},{key:"ob",get:function(){return this.uA.ob}},{key:"sb",get:function(){return this.uA.sb}},{key:"vo",get:function(){return this.uA.vo}},{key:"xu",get:function(){return this.uA.xu}},{key:"cb",get:function(){return this.uA.cb}},{key:"fb",get:function(){return this.uA.fb}},{key:"rb",get:function(){return this.uA.rb}},{key:"ab",get:function(){return this.uA.ab}},{key:"hb",get:function(){return this.uA.hb}}]),n}(mb);var Tb,Eb=function(t){function n(n,r){var e;void 0===r&&(r=!0);var i=new Sb(n);return(e=t.call(this,i,r)||this).NA=i,e}gt(n,t);var r=n.prototype;return r.OA=function(t){this.NA.OA(t)},r.DA=function(t){this.NA.DA(t)},r.AA=function(t){this.NA.AA(t)},r.PA=function(t){this.NA.PA(t)},r.xA=function(t){this.NA.xA(t)},n}(Kk),Sb=function(){function t(t){this.FA=[],this.BA=[],this.sD=t}var n=t.prototype;return n.yb=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.LA(n,n.vo);case 3:r=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof em)){t.next=12;break}return t.next=11,this.MA(t.t0,n.vo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.UA(r,n.vo);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.dC=function(t){return this.sD.dC(t)},n.LA=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Sn(r),e=void 0,i=0,u=this.FA.slice();case 3:if(!(i<u.length)){t.next=21;break}if(o=u[i],Sn(r),(s=new bb(n,o,!e)).pA){t.next=17;break}return t.prev=8,t.next=11,s.kA;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:s.CA&&!e?n=s.CA:s.gb&&!e&&(e=s.gb);case 18:i++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.sD.yb(n));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,r){return t.apply(this,arguments)}}(),n.MA=function(t,n){var r;return r=t instanceof um?t.gb:new rm({mu:null,yb:t.yb,pb:0,WT:""}),this.UA(r,n)},n.UA=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.BA.slice();case 1:if(!(e<i.length)){t.next=22;break}return u=i[e],Sn(r),t.next=6,C.resolve(n.Xo().mu(r));case 6:if(o=t.sent,(s=new kb(n,u,o)).pA){t.next=18;break}return t.prev=9,t.next=12,s.kA;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=s.gb||n;case 19:e++,t.next=1;break;case 22:if(!nm(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new um(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.OA=function(t){this.FA.unshift(t)},n.DA=function(t){this.FA.push(t)},n.AA=function(t){gn(this.FA,t)},n.PA=function(t){this.BA.unshift(t)},n.xA=function(t){gn(this.BA,t)},n.oe=function(){this.sD.oe(),mn(this.FA),mn(this.BA)},t}(),Rb=function(t){function n(n,r){var e;return(e=t.call(this,r)||this).qA=n,e.Eb=r,e.jA=void 0,e.qA._o(Ds.qh,e.lo),e.qA._o(Ds.Uh,e.lo),e}gt(n,t);var r=n.prototype;return r.OA=function(t){this.Eb.OA(t)},r.AA=function(t){this.Eb.AA(t)},r.PA=function(t){this.Eb.PA(t)},r.xA=function(t){this.Eb.xA(t)},r.oe=function(){this.mo(),this.qA.ko(Ds.qh,this.lo),this.qA.ko(Ds.Uh,this.lo)},x(n,[{key:"ia",get:function(){var t;return this.ea||(this.ea=(t=this,{get online(){return t.Zd},get estimator(){return t.VA},set estimator(n){t.VA=n},addRequestInterceptor:function(n){t.OA(n)},removeRequestInterceptor:function(n){t.AA(n)},addResponseInterceptor:function(n){t.PA(n)},removeResponseInterceptor:function(n){t.xA(n)},addEventListener:function(n,r){t._o(n,r)},removeEventListener:function(n,r){t.ko(n,r)}})),this.ea}},{key:"Zd",get:function(){return this.qA.Zd}},{key:"VA",get:function(){var t;return null!==(t=this.jA)&&void 0!==t?t:this.Eb.lD},set:function(t){this.Eb.lD=function(t){return{get bandwidth(){return ss(t.bandwidth)},get roundTripTime(){return ss(t.roundTripTime)},createMeasurer:function(n){return r=t.createMeasurer(n),{markRequestStart:function(t){r.markRequestStart(t)},markResponseStart:function(t){r.markResponseStart(t)},markResponseData:function(t,n){r.markResponseData(t,n)},markResponseEnd:function(t){r.markResponseEnd(t)}};var r}}}(t),this.jA=t}}]),n}(Rs);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Tb||(Tb={}));var Ib=30,Cb={type:Tb.BANDWIDTH},Nb=20,Ob=60;function Db(t){var n,r,e,i=ns(Cb);return Q(t)?i.type=Ab(t):$(t)&&function(t){switch(t){case Tb.PERFORMANCE:case Tb.QUALITY:case Tb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(i.type=Ab(t.type)),$(t)&&$(t.metadata)&&(i.metadata=(n=t.metadata,r={},e=os(n.bitrate),g(e)||(r.bitrate=e),r)),i}function Ab(t){switch(t){case"bandwidth":return Tb.BANDWIDTH;case"performance":return Tb.PERFORMANCE;case"quality":return Tb.QUALITY}}var Pb=function(t){function n(n){var r;return(r=t.call(this,"WA")||this).HA=n,r}return gt(n,t),n}(qn),xb=function(t){function n(n){var r;return(r=t.call(this,"XA")||this).zA=n,r}return gt(n,t),n}(qn),Fb=function(t){function n(n){var r;return(r=t.call(this,"YA")||this).GA=n,r}return gt(n,t),n}(qn),Bb=function(t){function n(){var n,r;return(n=t.apply(this,arguments)||this).ea=(r=pt(n),{get strategy(){return{metadata:(t=r.zA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){r.zA=Db(t)},get targetBuffer(){return r.HA},set targetBuffer(t){var n=os(t);g(n)||(r.HA=n>Ob?Ob:n)},get bufferLookbackWindow(){return r.GA},set bufferLookbackWindow(t){var n=os(t);g(n)||(r.GA=n<=0?Ib:n)}}),n.KA=Cb,n.$A=Nb,n.JA=Ib,n}return gt(n,t),x(n,[{key:"QA",get:function(){switch(this.KA.type){case Tb.PERFORMANCE:return 0;case Tb.QUALITY:return 1/0;case Tb.BANDWIDTH:return this.KA.metadata&&void 0!==this.KA.metadata.bitrate?this.KA.metadata.bitrate:8*Rc.vd();default:return 8*Rc.vd()}}},{key:"ia",get:function(){return this.ea}},{key:"zA",get:function(){return this.KA},set:function(t){this.KA=t,this.wo(new xb(t))}},{key:"HA",get:function(){return this.$A},set:function(t){this.$A=t,this.wo(new Pb(t))}},{key:"GA",get:function(){return this.JA},set:function(t){this.JA=t,this.wo(new Fb(t))}}]),n}(Mn),Lb=function(t){function n(){return t.call(this,"_a")||this}return gt(n,t),n.prototype.ua=function(){return new Mb},n}(qo),Mb=function(t){function n(){return t.call(this,"change")||this}return gt(n,t),n}(qn),Ub=function(t){function n(n,r){var e;return(e=t.call(this,r)||this).ZA=function(t){var n;n=t,Boolean(n&&n.ia)&&Dn(function(){e.wo(t.ia)})},e.tP=n,e.tP.ah(e.ZA),e}return gt(n,t),n.prototype.oe=function(){this.mo(),this.tP.hh(this.ZA)},n}(Rs),qb=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Ub);var jb=lo.af,Vb=new lo(-1/0),Hb=lo.hf,Wb=function(t){function n(n,r){return t.call(this,n,r)||this}gt(n,t);var r=n.prototype;return r.rf=function(t,n){return t.Zc(n)?io.jc:t.ef(n)?io.Uc:io.qc},r.$c=function(t,n){return t.$c(n)},r.if=function(t,n){return t.if(n)},r.tf=function(t,n){return t.tf(n)},r.j_=function(){return jb},r.H_=function(){return Hb},r.G_=function(){return Vb},n.dp=function(t){for(var r=[],e=0;e<t.length;e++)r.push(new lo(t.start(e)),new lo(t.end(e)));return new n(r)},n.nP=function(t){for(var r=[],e=[],i=0;i<t.Fa;i++)r.push(new lo(t.I_(i))),r.push(new lo(t.N_(i))),e.push(t.C_(i)),e.push(t.O_(i));return new n(r,e)},n.lp=function(t){return new n([t,t],[!0,!0])},r.U_=function(t,r){return new n(t,r)},r.L_=function(t){return t.cf},n.wp=function(){return zb},n}(sa),zb=new Wb([]),Xb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Jp=0,n.Qp=1/0,n}gt(n,t);var r=n.prototype;return r.Pa=function(){0===this.Jp&&this.Qp===1/0||(this.Jp=0,this.Qp=1/0,this.wo(new Lb))},r.rP=function(){return new Wb([new lo(this.Wp),new lo(this.zp)],[!0,!0])},x(n,[{key:"Wp",get:function(){return this.Jp},set:function(t){if(this.zp<=t)throw new h("Start time of a clip should be smaller than the end time.");this.Jp!==t&&(this.Jp=t,this.wo(new Lb))}},{key:"zp",get:function(){return this.Qp},set:function(t){if(t<=this.Wp)throw new h("End time of a clip should be larger than the start time.");this.Qp!==t&&(this.Qp=t,this.wo(new Lb))}},{key:"ia",get:function(){var t,n,r;return this.ea||(this.ea=(r={get startTime(){return t.Wp},set startTime(n){t.Wp=n},get endTime(){return t.zp},set endTime(n){t.zp=n},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},n=new Ub(t=this,r),r)),this.ea}}]),n}(Rs),Gb=function(t){function n(n){var r;return(r=t.call(this)||this).eP=n,r.iP=function(t){r.uP(t)||r.wo(t)},r.eP.ah(r.iP),r}gt(n,t);var r=n.prototype;return r.oP=function(){return this.eP.md},r.Fd=function(){return this.eP.Fd()},r.sP=function(){return this.eP.jd},r.cP=function(){return this.eP.Ud},r.fP=function(){return this.eP.Vd},r.aP=function(t){this.eP.Vd=t},r.hP=function(){return this.eP.jv},r.vP=function(t){this.eP.jv=t},r.dP=function(){return this.eP.Vv},r.lP=function(){return this.eP.Hd},r.wP=function(){return this.eP.Hv},r.yP=function(){return this.eP.Oo},r.gP=function(){return this.eP.Wv},r._P=function(){return this.eP.zd},r.pP=function(){return this.eP.zv},r.mP=function(t){this.eP.zv=t},r.kP=function(){return this.eP.Zd},r.bP=function(){return this.eP.Xv},r.TP=function(){return this.eP.Gv},r.EP=function(t){this.eP.Gv=t},r.SP=function(){return this.eP.tl},r.RP=function(){return this.eP.nl},r.IP=function(t){this.eP.nl=t},r.CP=function(){return this.eP.ih},r.NP=function(){return this.eP.il},r.OP=function(){return this.eP.Yv},r.Ed=function(){return this.eP.Ed()},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),t.next=3,this.eP.Sd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.DP=function(){return this.eP.bd},r.AP=function(){return this.eP.Kv},r.PP=function(){return this.eP.kd},r.xP=function(){return this.eP.$v},r.FP=function(){return this.eP.Jv},r.BP=function(t){this.eP.Jv=t},r.xd=function(){return this.eP.xd()},r.Pd=function(){return this.eP.Pd()},r.Nd=function(t){this.eP.Nd(t)},r.Od=function(){this.eP.Od()},r.Ad=function(){this.eP.Ad()},r.fe=function(){this.eP.fe()},r.ee=function(){this.eP.ee()},r.re=function(){this.eP.re()},r.Dd=function(){this.eP.Dd()},r.Td=function(){return this.eP.Td()},r.Rd=function(){return this.eP.Rd()},r.Id=function(){this.eP.Id()},r.Cd=function(){this.eP.Cd()},r.Pa=function(){return this.eP.Pa()},r.oe=function(){return this.eP.oe()},r.qd=function(){this.eP.qd()},r.Bd=function(t){return this.eP.Bd(t)},r.uP=function(t){return!1},x(n,[{key:"md",get:function(){return this.oP()}},{key:"jd",get:function(){return this.sP()}},{key:"Vd",get:function(){return this.fP()},set:function(t){this.aP(t)}},{key:"Ud",get:function(){return this.cP()}},{key:"jv",get:function(){return this.hP()},set:function(t){this.vP(t)}},{key:"Vv",get:function(){return this.dP()}},{key:"Hd",get:function(){return this.lP()}},{key:"Hv",get:function(){return this.wP()}},{key:"Oo",get:function(){return this.yP()}},{key:"Wv",get:function(){return this.gP()}},{key:"Wd",get:function(){return this.eP.Wd}},{key:"zd",get:function(){return this._P()}},{key:"Xd",get:function(){return this.eP.Xd}},{key:"zv",get:function(){return this.pP()},set:function(t){this.mP(t)}},{key:"Zd",get:function(){return this.kP()}},{key:"Xv",get:function(){return this.bP()}},{key:"Gv",get:function(){return this.TP()},set:function(t){this.EP(t)}},{key:"tl",get:function(){return this.SP()}},{key:"nl",get:function(){return this.RP()},set:function(t){this.IP(t)}},{key:"ih",get:function(){return this.CP()}},{key:"il",get:function(){return this.NP()}},{key:"Yv",get:function(){return this.OP()}},{key:"bd",get:function(){return this.DP()}},{key:"Kv",get:function(){return this.AP()}},{key:"kd",get:function(){return this.PP()}},{key:"$v",get:function(){return this.xP()}},{key:"Jv",get:function(){return this.FP()},set:function(t){this.BP(t)}}]),n}(Is),Yb=function(t){function n(r,e){var i;return(i=t.call(this,r)||this).LP=!1,i.MP=void 0,i.UP=!1,i.qP=function(){i.jP(),i.VP()},i.OS=function(){i.HP(),i.VP(),i.WP&&i.jv>=i.zP.zp-n.XP&&!i.Hv&&(i.MP=sb(i.OS))},i.GP=function(){i.UP=!0},i.YP=function(){i.UP&&(i.UP=!1,i.VP())},i.zP=e,i.zP._o("_a",i.qP),i.eP._o("timeupdate",i.OS),i}gt(n,t);var r=n.prototype;return r.vP=function(n){var r=this.zP.rP().q_(new lo(n)).cf;t.prototype.vP.call(this,r),this.VP()},r.wP=function(){return t.prototype.wP.call(this)||this.LP},r.NP=function(){return Wb.dp(t.prototype.NP.call(this)).W_(this.zP.rP()).F_()},r.re=function(){this.wP()?this.vP(this.KP.start(0)):this.jP(),t.prototype.re.call(this),this.VP()},r.Sd=function(){var n=C.coroutine(xt.mark(function n(r,e){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Sn(e),this.LP=!1,this.zP.Pa(),n.next=5,t.prototype.Sd.call(this,r,e);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),r.oe=function(){return this.zP.ko("_a",this.qP),this.eP.ko("timeupdate",this.OS),this.HP(),t.prototype.oe.call(this)},r.uP=function(n){switch(n.type){case"seeking":return this.wo(n),this.GP(),!0;case"seeked":case"emptied":return this.wo(n),this.YP(),!0;case"ended":if(this.WP)return!0}return t.prototype.uP.call(this,n)},r.HP=function(){this.MP&&(cb(this.MP),this.MP=void 0)},r.VP=function(){var t=this.jv,r=this.WP&&t>=this.zP.zp-n.ff;this.LP&&!r?(this.LP=!1,this.Xv&&this.re()):this.LP||!r||this.Yv||this.UP||(this.LP=!0,this.wo(new Us(t)),this.ee())},r.jP=function(){if(this.Vv!==1/0){var t=this.KP,r=Wb.dp(t).q_(new lo(this.jv)).cf;so(this.jv,r,n.ff)||this.vP(r)}},x(n,[{key:"KP",get:function(){return this.NP().length?this.NP():this.zP.rP().F_()}},{key:"WP",get:function(){return this.zP.zp<this.Vv}}]),n}(Gb);Yb.XP=1,Yb.ff=.001;var Kb=function(){function t(){this.$P=!1}return x(t,[{key:"JP",get:function(){return this.$P},set:function(t){this.$P=t}}]),t}(),$b=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).QP=!1,e.ZP=!1,e.$P=r,e}gt(n,t);var r=n.prototype;return r.wP=function(){return!this.$P.JP&&t.prototype.wP.call(this)},r.ee=function(){this.ZP=!0,t.prototype.ee.call(this)},r.re=function(){this.ZP=!1,t.prototype.re.call(this)},r.uP=function(n){if(this.$P.JP)switch(n.type){case"ended":return this.jv=0,this.ZP||(this.Yv?this.QP=!0:this.re()),!0;case"seeked":this.QP&&(this.QP=!1,this.re());break;case"pause":if(this.QP||t.prototype.wP.call(this))return!0}return t.prototype.uP.call(this,n)},n}(Gb);var Jb=function(){function t(t){var n;this.qR=t,this.ea=(n=this,{get currentBandwidthEstimate(){return n.$d},get corruptedVideoFrames(){return n.Yd},get droppedVideoFrames(){return n.Gd},get totalBytesLoaded(){return n.Jd},get bufferedSegments(){return n.Qd}})}return x(t,[{key:"ia",get:function(){return this.ea}},{key:"Yd",get:function(){return this.qR.tx.Xd.Yd}},{key:"$d",get:function(){return this.qR.tx.Xd.$d}},{key:"Gd",get:function(){return this.qR.tx.Xd.Gd}},{key:"nx",get:function(){throw new h("Not implemented")}},{key:"ex",get:function(){throw new h("Not implemented")}},{key:"Jd",get:function(){return this.qR.tx.Xd.Jd}},{key:"Kd",get:function(){return this.qR.tx.Xd.Kd}},{key:"Qd",get:function(){return this.qR.tx.Xd.Qd}}]),t}(),Qb=function(t){function n(){return t.call(this,"ix")||this}return gt(n,t),n.prototype.ua=function(){return new Zb},n}(qo),Zb=function(t){function n(){return t.call(this,"castingchange")||this}return gt(n,t),n}(qn);var tT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ux=[],n.ea=void 0,n.ox=function(){return n.wo(new Qb)},n}gt(n,t);var r=n.prototype;return r.sx=function(t){this.ux.push(t),t._o("statechange",this.ox)},r.oe=function(){var t=this;this.ux.forEach(function(n){n.ko("statechange",t.ox)}),mn(this.ux)},x(n,[{key:"ax",get:function(){return this.ux.some(function(t){return t.ax})}},{key:"ia",get:function(){var t,n,r;return this.ea||(this.ea=(r={get casting(){return t.ax},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},n=new qb(t=this,r),r)),this.ea}}]),n}(Is),nT=function(){function t(){}return t.hx=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new py({rb:n,ob:bv.zi,ub:Rv.GET}),t.next=4,r.yb(e);case 4:return i=t.sent,t.next=7,i.mu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),En(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,r){return t.apply(this,arguments)}}(),t.vx=function(t){try{var r=Xw(t);return new Qw(r.key,r.domains_page,r.domains_source,r.expiration_date,r.customer_id,r.generation_date,r.sdks,r.send_impression)}catch(t){throw new Fe(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.lx=function(t){void 0===t&&(t=vy.Ek),O.xf("The baked-in license is used. Please update the configuration with your license.");var n=t.JR(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),r=["F$(:_L50F|aY"].map(function(n){return t.JR(n)}),e=["F$(:_L50F|aY"].map(function(n){return t.JR(n)}),i=Number(new Date(Number(t.JR("COD|aHpHa:p3Ceo3Co\"\""))));return new Qw(n,r,e,i)},t.getDummyLicense=function(t,n){return new Qw(t,[],[],864e13,n)},t}(),rT=function(){function t(){}return t.If=function(){return t.ji||(t.ji=eT.Ms()?new eT:new No),t.ji},t.jo=function(n){t.If().jo(n)},t.Sf=function(){t.If().Sf()},t.Mo=function(n){return t.If().Mo(n)},t.Rf=function(n,r){t.If().Rf(n,r)},t.wx=function(n){var r=t.Mo(n);if(void 0!==r)return y(r)},t.yx=function(n){return"true"===t.Mo(n)},t}();rT.ji=void 0;var eT=function(n){function r(){return n.apply(this,arguments)||this}gt(r,n),r.Ms=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=r.prototype;return e.jo=function(n){t.localStorage.removeItem(n)},e.Sf=function(){t.localStorage.clear()},e.Mo=function(n){return t.localStorage[n]},e.Rf=function(n,r){t.localStorage[n]=r},r}(rT),iT=l.floor(14399999*l.random()-72e5),uT=function(){function t(t,n,r,e,i,u){this.Eb=t,this.gx=n,this._x=r,this.XI=e,this.mx=i,this.gI=u,this._I=uy(u)}var r=t.prototype;return r.kx=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bx(this.mx.license,this.mx.licenseUrl);case 2:n=t.sent,this.XI.Tx(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bx=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c,f,a,h;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e,r?u=nT.vx(r):i||(u=nT.lx()),i||(i="https://validate.theoplayer.com/1/"+u.uI),o=this.Ex(),!u){t.next=14;break}if((s=this.gx.bI(u))!==Yw.rI){t.next=14;break}if(!this.Sx(u.cI)||!this.Sx(null==o?void 0:o.cI)){t.next=13;break}return t.next=10,this.Rx(i);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.gx.bI(o)!==Yw.rI){t.next=24;break}if(!this.Sx(null==o?void 0:o.cI)){t.next=23;break}return t.next=20,this.Rx(i);case 20:if(!(f=t.sent)){t.next=23;break}return t.abrupt("return",f);case 23:return t.abrupt("return",o);case 24:rT.jo("THEOplayer.license");case 25:return t.next=27,nT.hx(i,this.Eb);case 27:if(!(a=t.sent)){t.next=37;break}if(h=nT.vx(a),this.gx.bI(h)!==Yw.rI){t.next=34;break}return rT.Rf("THEOplayer.license",a),t.abrupt("return",h);case 34:rT.jo("THEOplayer.license"),t.next=39;break;case 37:if(this._I||!u||s!==Yw.eI||i!=="https://validate.theoplayer.com/1/"+u.uI){t.next=39;break}return t.abrupt("return",nT.getDummyLicense(u.uI,u.fI));case 39:if(!u&&!h){t.next=43;break}this.Ix(null!=u?u:h,new Fe(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Fe(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.pI=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XI.oC();case 2:if(e=t.sent,!this.Sx(e.cI)){t.next=9;break}return i=null!==(r=this.mx.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+e.uI,t.next=7,this.Rx(i);case 7:(u=t.sent)&&(this.XI.Tx(u),e=u);case 9:if(t.prev=9,(o=this.gx.bI(e))!==Yw.iI){t.next=16;break}throw s=Jw.dI,new Fe(ty(s),sy.kI(s));case 16:if(o!==Yw.eI){t.next=19;break}throw c=Jw.eI,new Fe(ty(c),sy.kI(c));case 19:this.gx.pI(n,e),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.Cx(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),r.Rx=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nT.hx(n,this.Eb);case 3:if(void 0!==(r=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(e=nT.vx(r),this.gx.bI(e)!==Yw.rI){t.next=11;break}return rT.Rf("THEOplayer.license",r),t.abrupt("return",e);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),r.Sx=function(t){return!t||Number(new Date)+2592e5+iT>=t},r.Ex=function(){var t=rT.Mo("THEOplayer.license");if(t)return nT.vx(t)},r.Ix=function(t,n){this.XI.Tx(t),this.Cx(n)},r.Cx=function(t){throw dt(t.message),this._x.fC(t.message),t},t}(),oT=function(){function t(){this.mD=new he}var n=t.prototype;return n.Tx=function(t){this.Nx=t,this.mD.Zo()},n.oC=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Nx){t.next=2;break}return t.abrupt("return",C.resolve(this.Nx));case 2:return t.next=4,this.mD.Qo;case 4:return t.abrupt("return",this.Nx);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(t,[{key:"Ox",get:function(){return this.Nx}}]),t}(),sT=function(t){function n(){return t.call(this,"_a")||this}return gt(n,t),n.prototype.ua=function(){return new cT},n}(qo),cT=function(t){function n(){return t.call(this,"change")||this}return gt(n,t),n}(qn);var fT,aT,hT={Dx:void 0,Ax:void 0,Px:void 0,xx:void 0,Fx:void 0,Bx:void 0},vT="THEOplayer.textTrackStyle.",dT=function(t){function n(){var r;return(r=t.call(this)||this).ea=void 0,r.Lx=n.Mx(),r}return gt(n,t),n.prototype.bs=function(t){this.Lx=Ft(Ft({},this.Lx),t),n.Ux(this.Lx),this.wo(new sT)},n.Mx=function(){var t=Ft({},hT);return t.Dx=rT.Mo(vT+"fontFamily")||t.Dx,t.Ax=rT.Mo(vT+"fontColor")||t.Ax,t.Px=rT.Mo(vT+"fontSize")||t.Px,t.xx=rT.Mo(vT+"backgroundColor")||t.xx,t.Fx=rT.Mo(vT+"windowColor")||t.Fx,t.Bx=rT.Mo(vT+"edgeStyle")||t.Bx,t},n.Ux=function(t){rT.Rf(vT+"fontFamily",t.Dx||""),rT.Rf(vT+"fontColor",t.Ax||""),rT.Rf(vT+"fontSize",t.Px||""),rT.Rf(vT+"backgroundColor",t.xx||""),rT.Rf(vT+"windowColor",t.Fx||""),rT.Rf(vT+"edgeStyle",t.Bx||"")},x(n,[{key:"qx",get:function(){return this.Lx}},{key:"Dx",get:function(){return this.Lx.Dx},set:function(t){this.bs({Dx:t})}},{key:"Ax",get:function(){return this.Lx.Ax},set:function(t){this.bs({Ax:t})}},{key:"Px",get:function(){return this.Lx.Px},set:function(t){this.bs({Px:t})}},{key:"xx",get:function(){return this.Lx.xx},set:function(t){this.bs({xx:t})}},{key:"Fx",get:function(){return this.Lx.Fx},set:function(t){this.bs({Fx:t})}},{key:"Bx",get:function(){return this.Lx.Bx},set:function(t){this.bs({Bx:t})}},{key:"ia",get:function(){var t,n,r;return this.ea||(this.ea=(t=this,r={get fontFamily(){return t.Dx},set fontFamily(n){t.Dx=n},get fontColor(){return t.Ax},set fontColor(n){t.Ax=n},get fontSize(){return t.Px},set fontSize(n){t.Px=n},get backgroundColor(){return t.xx},set backgroundColor(n){t.xx=n},get windowColor(){return t.Fx},set windowColor(n){t.Fx=n},get edgeStyle(){return t.Bx},set edgeStyle(n){t.Bx=n},addEventListener:function(t,r){var e=fs(t,cs);n._o(e,r)},removeEventListener:function(t,r){var e=fs(t,cs);n.ko(e,r)}},n=new Un(r),t._o(["_a"],function(t){return n.wo(t.ia)}),r)),this.ea}}]),n}(Mn),lT=function(t){function n(n,r){var e;(e=t.call(this)||this).jx=!1,e.ld=!1,e.Vx=!1,e.Hx=function(t){if(!e.Vx){e.Vx=!0;var n=e.Wx,r=Ac(t);e.tx.ja=new Fw(e.Hd,r,t),An(n.oe())}},e.zx=function(t){e.wo(t.ia)},e.Xx=function(t){t.type!==Ds.qh&&t.type!==Ds.Uh&&e.wo(t)};var i=os(r.uid);g(i)?e.Dp=Wa++:e.Dp=i,e.xy=r,e.Gx=new Bb;var u=Kk.wD,o=new oT;e.Yx=new Ey("2.82.0",u,o),e.DT=new Eb(u,r.allowMixedContent),e.gx=new Zw(r.isEmbeddable,"2.82.0",Gw()),e.Kx=new uT(u,e.gx,e.Yx,o,r,Gw()),e.Kx.kx().catch(e.Hx),e.$x=new yb(n),e.$x._o("ED",e.zx),e.FR=new dT,e.zP=new Xb,e.$P=new Kb;var s=new Dw(n,r,e.DT,e.Gx,e.$x,e.FR);s=new Yb(s,e.Jx),s=new $b(s,e.JP),e.Wx=s,e.tx=new Cc(e.Wx),e.tx.ah(e.Xx),e.Qx=new Jb(pt(e)),e.Zx=new Rb(e.tx,e.DT),e.tF=new Zk(pt(e)),e.nF=new pb(e.tx,r.allowNativeFullscreen),e.rF=new ic(e.nF),e.$x.Ds();var c=new b(e.$x,e.FR,1,[ia.Zl]);return e.eF=new T(c),e.iF=new tT,e}gt(n,t);var r=n.prototype;return r.mP=function(t){this.tx.zv=t,t||this.Xv||this.fe()},r.BP=function(t){this.tx.Jv=t},r.uF=function(){bc(this,mc,this)},r.re=function(){this.tx.re()},r.ee=function(){this.tx.ee()},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.Kx.pI(n).catch(this.Hx),e=wT(n),t.next=5,this.tx.Sd(e,r);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.fe=function(){this.ld||(this.tx.fe(),this.eF.fe(),this.ld=!0)},r.Ov=function(){return this.rF.Ev()===$s.FULLSCREEN},r.Dd=function(){this.tx.Dd()},r.Ad=function(){this.tx.Ad()},r.Pd=function(){return this.tx.Pd()},r.Pa=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tx.Td();case 2:return t.next=4,this.tx.Pa();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),this.iF.oe(),this.DT.oe(),this.Zx.oe(),this.nF.oe(),this.rF.oe(),this.$x.oe(),this.Yx.oe(),this.eF.oe(),t.next=11,this.tx.oe();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"_d",get:function(){return this.jx},set:function(t){this.jx=t,this.tx._d=t}},{key:"oF",get:function(){return this.eF}},{key:"md",get:function(){return this.tx.md}},{key:"sF",get:function(){return this.iF}},{key:"cF",get:function(){return this.$x}},{key:"Wd",get:function(){return this.tx.Wd}},{key:"Xd",get:function(){return this.Qx}},{key:"fF",get:function(){return this.Zx}},{key:"bd",get:function(){return this.tx.bd}},{key:"aF",get:function(){return this.FR}},{key:"kd",get:function(){return this.tx.kd}},{key:"jd",get:function(){return this.tx.jd}},{key:"Jx",get:function(){return this.zP}},{key:"JP",get:function(){return this.$P}},{key:"jv",get:function(){return this.tx.jv},set:function(t){this.tx.jv=t}},{key:"Vd",get:function(){return this.tx.Vd},set:function(t){this.tx.Vd=t}},{key:"Ud",get:function(){return this.tx.Ud}},{key:"Vv",get:function(){return this.tx.Vv}},{key:"Hd",get:function(){return this.tx.Hd}},{key:"Hv",get:function(){return this.tx.Hv}},{key:"Oo",get:function(){return this.tx.Oo}},{key:"Wv",get:function(){return this.tx.Wv}},{key:"zv",get:function(){return this.tx.zv},set:function(t){var n=Boolean(t);this.mP(n)}},{key:"Xv",get:function(){return this.tx.Xv}},{key:"Gv",get:function(){return this.tx.Gv},set:function(t){this.tx.Gv=t}},{key:"tl",get:function(){return this.tx.tl}},{key:"nl",get:function(){return this.tx.nl},set:function(t){this.tx.nl=Nw(t)}},{key:"ih",get:function(){return this.tx.ih}},{key:"il",get:function(){return this.tx.il}},{key:"Yv",get:function(){return this.tx.Yv}},{key:"Xa",get:function(){return this.Dp}},{key:"Kv",get:function(){return this.tx.Kv}},{key:"$v",get:function(){return this.tx.$v}},{key:"Jv",get:function(){return this.tx.Jv},set:function(t){var n=oo(Number(t),0,1)||0;this.BP(n)}}]),n}(Is);function wT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.hF=0]="hF",t[t.vF=1]="vF"}(fT||(fT={})),function(t){t[t.dF=0]="dF"}(aT||(aT={}));var yT={};function gT(t,n){var r=t;if(yT[n])for(var e=0,i=yT[n];e<i.length;e++){r=(0,i[e])(r)}return r}var _T=[];function pT(t){_T.push(t)}var mT=t.CustomEvent;var kT,bT=function(){try{var t=new mT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var r=i.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r};(kT=C)&&kT.config({warnings:!1,longStackTraces:!1});kT&&(RT=kT.setScheduler(rt),TT=RT,IT={lF:function(t){ET=t,TT(ST)},rC:ST=function(){var t=ET;t&&(ET=void 0,t())}},kT.setScheduler(IT.lF));var TT,ET,ST,RT,IT,CT=function(){function t(t,n){var r=this;this.wF=!1,this.yF=function(t){r.gF.cC(t.error,r.jv)},this._F=function(){r.gF.uC(r.pF),r.qR.removeEventListener("playing",r._F),r.wF=!1},this.mF=function(){r.wF||(r.qR.addEventListener("playing",r._F),r.wF=!0)},this.gF=n,this.qR=t,this.qR.addEventListener("error",this.yF),this.qR.addEventListener("sourcechange",this.mF),this.mF()}return t.prototype.Pa=function(){},x(t,[{key:"jv",get:function(){var t=this.qR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"pF",get:function(){return this.qR.src||""}}]),t}();pT(function(t){new CT(t.ia,t.Yx)});var NT,OT,DT="theoplayer-stored-volume",AT="theoplayer-stored-mutedstate";NT=function(t){return function(t){function n(n,r){var e;if(e=t.call(this,n,r)||this,r.persistVolume){var i=rT.wx(DT);(void 0===i||g(i))&&(i=1);var u=rT.yx(AT)||!1;e.Jv=i,e.zv=u}return e}gt(n,t);var r=n.prototype;return r.mP=function(n){this.xy.persistVolume&&rT.Rf(AT,n),t.prototype.mP.call(this,n)},r.BP=function(n){this.xy.persistVolume&&rT.Rf(DT,n),t.prototype.BP.call(this,n)},n}(t)},OT=fT.vF,(yT[OT]||(yT[OT]=[])).push(NT);var PT=new(function(){function t(){this.kF=[],this.ea=void 0}var n=t.prototype;return n.Na=function(t){return this.kF[t]},n.bF=function(t){this.kF.push(t),this.ia.push(t.ia)},n.ks=function(t){var n=this.kF.indexOf(t);n<0||(_n(this.kF,n),this.ea&&_n(this.ea,n))},n.TF=function(t){for(var n=0,r=this.kF;n<r.length;n++){var e=r[n];if(e.Xa===t)return e}},x(t,[{key:"Fa",get:function(){return this.kF.length}},{key:"ia",get:function(){return this.ea||(this.ea=function(t){for(var n=[],r=0;r<t.Fa;r++)n[r]=t.Na(r).ia;return n.getPlayerByUID=function(n){var r=t.TF(n);return r&&r.ia},n}(this)),this.ea}}]),t}());var xT,FT=function(t){function n(n){var r;return(r=t.call(this,Ds.tv)||this).source=n,r}return gt(n,t),n}(qn),BT=function(t){function n(){var n;return(n=t.call(this)||this).EF=0,n.SF=!0,n.RF=!1,n.IF=1,n}gt(n,t);var r=n.prototype;return r.re=function(){this.SF&&(this.SF=!1,this.wo(new Ws(this.jv)),this.wo(new hw(this.jv)))},r.ee=function(){this.SF||(this.SF=!0,this.wo(new qs(this.jv,this.Vd)),this.wo(new Xs(this.jv)))},r.Pa=function(){this.EF=0,this.RF=!1,this.IF=1,this.ee(),this.wo(new zs(this.EF))},r.oe=function(){this.mo()},r.Ad=function(){},r.Dd=function(){},r.ah=function(t){this._o("emptied",t),this._o("pause",t),this._o("play",t),this._o("seeking",t),this._o("timeupdate",t),this._o("waiting",t)},r.hh=function(t){this.ko("emptied",t),this.ko("pause",t),this.ko("play",t),this.ko("seeking",t),this.ko("timeupdate",t),this.ko("waiting",t)},x(n,[{key:"Vd",get:function(){},set:function(t){}},{key:"jv",get:function(){return this.EF},set:function(t){this.EF!==t&&(this.EF=t,this.RF=!0,this.wo(new Ls(this.jv)))}},{key:"Xv",get:function(){return this.SF}},{key:"Gv",get:function(){return this.IF},set:function(t){this.IF!==t&&(this.IF=t,this.wo(new js(this.jv,this.Gv)))}},{key:"ih",get:function(){return Cs._h}},{key:"Yv",get:function(){return this.RF}}]),n}(Mn),LT=function(t){function n(){return t.call(this,Ds.Oh)||this}return gt(n,t),n}(qn),MT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},UT={visibility:"hidden"},qT={visibility:"visible"},jT=function(){function t(t){var n,r=this;this.CF=!1,this.NF=function(t){r.CF=!1,r.OF=t.source&&t.source.poster,r.bs()},this.cS=function(){r.CF=!0,r.Ad()},this.qR=t,this.HR(),this.CR=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",Ge(MT,n),n),t.Hd.appendChild(this.CR)}var n=t.prototype;return n.bs=function(){var t=this.qR.Xv,n=this.CF;this.rb?this.CR.style.backgroundImage='url("'+this.rb.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.CR.style.backgroundImage="",t&&this.rb&&!n?this.Dd():this.Ad()},n.Dd=function(){Ge(UT,this.qR.Hd),Ge(qT,this.CR)},n.Ad=function(){Ge(UT,this.CR),Ge(qT,this.qR.Hd)},n.HR=function(){this.qR._o("sourcechange",this.NF),this.qR._o("play",this.cS)},n.oe=function(){this.qR.ko("sourcechange",this.NF),this.qR.ko("play",this.cS),Xe(this.CR)},x(t,[{key:"rb",get:function(){return void 0!==this.OF?this.OF:void 0!==this.DF?this.DF:void 0}},{key:"AF",set:function(t){this.DF=t,this.bs()}}]),t}();function VT(t){return function(n){function r(r,e){var i;return(i=n.call(this,r)||this).PF=function(t){t.type!==Ds.Wh&&i.xF.push(t)},i.FF=new t(r,e),i.BF=new BT,i.qR=i.FF,i.LF=new jT(pt(i)),i.FE=new Jv,i.MF=!1,i.xF=[],i.AR=!0,i.DR=void 0,i.HR(),i}gt(r,n);var e=r.prototype;return e.Lb=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.FE.Lb(n,r).catch(In));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.UF=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),this.FF.ah(this.PF),t.next=4,this.FF.Sd(n,r);case 4:this.FF.hh(this.PF);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.qF=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Ed())&&!Ra(n)&&this._d&&this.Xv){t.next=3;break}return t.abrupt("return");case 3:return r=n.mutedAutoplay||this.xy.mutedAutoplay,t.next=6,this.oF.ce();case 6:e=t.sent,t.t0=e,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.jF(),t.abrupt("break",14);case 12:return(this.zv||r===ec.ALL)&&(this.zv=!0,this.re()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Sd=function(t){var n=this,r=this.DR;r&&!Ra(r)&&this.wo(new zs(0,0)),this.Pa(),this.DR=t,An(this.Lb(function(){var r=C.coroutine(xt.mark(function r(e){return xt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Sn(e),r.prev=1,r.next=4,n.UF(t,e);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(1),n.DR=void 0,r.t0;case 10:return r.next=12,n.VF();case 12:case"end":return r.stop()}},r,null,[[1,6]])}));return function(t){return r.apply(this,arguments)}}()))},e.VF=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.HF(this.FF),this.wo(new FT(this.Ed())),t.next=4,this.qF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.vP=function(t){this.qR.jv=t},e.yP=function(){return this.FF.Oo},e.gP=function(){return this.FF.Wv},e.re=function(){this.qR.re()},e.jF=function(){this.zv||this.fe(),this.re()},e.fe=function(){this.FF.fe()},e.ee=function(){this.qR.ee()},e.Td=function(){this.Sd(void 0)},e.Dd=function(){this.AR=!0,this.qR.Dd()},e.Ad=function(){this.AR=!1,this.qR.Ad()},e.uF=function(){this.FF.uF()},e.BP=function(t){this.FF.BP(t)},e.mP=function(t){this.FF.mP(t)},e.WF=function(t){this.zF=t,t.bF(this)},e.Ov=function(){return this.FF.Ov()},e.Ed=function(){return this.DR},e.Pd=function(){return this.FF.Pd()},e.hP=function(){return this.FF.jv},e.dP=function(){return this.FF.Vv},e.sP=function(){return this.FF.jd},e.SP=function(){return this.FF.tl},e.NP=function(){return this.FF.il},e.Pa=function(){var t=this;this.DR=void 0,mn(this.xF),this.BF.Pa(),this.HF(this.BF),this.FE.fo(),An(this.FE.Lb(function(){var n=C.coroutine(xt.mark(function n(r){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Sn(r),n.next=3,t.FF.Pa();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},e.oe=function(){var t=this;this.wo(new LT),this.LF.oe(),this.WR(),this.Pa(),An(this.Lb(C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.FF.oe();case 2:t.zF&&(t.zF.ks(t),t.zF=void 0),t.FE.oe();case 4:case"end":return n.stop()}},n)})))),this.mo()},e.HF=function(t){if(this.qR!==t){var n=this.qR.Xv,r=this.qR.jv,e=this.qR.Gv;this.WR(),t===this.FF?(t.jv!==r&&(t.jv=r),t.Gv!==e&&(t.Gv=e),n?t.ee():t.re()):this.xy.retainPlaybackRateOnSourceChange?t.Gv=e:1!==e&&this.wo(new js(this.hP(),1)),this.qR=t,this.HR();for(var i=0,u=this.xF;i<u.length;i++){var o=u[i];this.wo(o)}mn(this.xF),this.AR?t.Dd():t.Ad()}},e.HR=function(){this.qR.ah(this.lo)},e.WR=function(){this.qR.hh(this.lo)},e.ua=function(){return t=this,e=function(n){r=n;var e=La(n,t.xy);t.Sd(e)},i={get abr(){return t.Gx.ia},get audioTracks(){return t.md.ia},get autoplay(){return t._d},set autoplay(n){t._d=Boolean(n)},get buffered(){return t.sP()},get canvas(){return t.tF.ia},get clip(){return t.Jx.ia},get currentProgramDateTime(){var n;return null!==(n=t.Vd)&&void 0!==n?n:null},set currentProgramDateTime(n){t.Vd=null!=n?n:void 0},get currentTime(){return t.hP()},set currentTime(n){t.vP(Number(n))},get duration(){return t.dP()},get element(){return t.Hd},get ended(){return t.Hv},get error(){return t.yP()},get errorObject(){return t.gP()},get hesp(){return t.Wd},get loop(){return t.JP.JP},set loop(n){t.JP.JP=Boolean(n)},get metrics(){return t.Xd.ia},get muted(){return t.zv},set muted(n){t.mP(n)},get network(){return t.fF.ia},get paused(){return t.Xv},get playbackRate(){return t.Gv},set playbackRate(n){var r=Number(n);if(r<0)throw new RangeError("playbackRate must be a positive number");t.Gv=r},get played(){return t.SP()},get poster(){return t.XF},set poster(n){t.XF=cs(n)},get preload(){return t.nl},set preload(n){t.nl=n},get presentation(){return t.rF.ia},get readyState(){return t.ih},get seekable(){return t.NP()},get seeking(){return t.Yv},get source(){return r},set source(t){e(t)},get src(){return Ca(t.Ed())},set src(t){e({sources:t})},get textTracks(){return t.bd.ia},get textTrackStyle(){return t.aF.ia},get uid(){return t.Xa},get videoHeight(){return t.Kv},get videoTracks(){return t.kd.ia},get videoWidth(){return t.$v},get volume(){return t.Jv},set volume(n){t.BP(Number(n))},destroy:function(){t.oe(),t=null,r=void 0},play:function(){t.jF()},pause:function(){t.ee()},stop:function(){r=void 0,t.Td()},prepareWithUserAction:function(){t.fe()},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)},setSource:function(t){e(t)}},(n=new Ks(i,!0)).av(t),i;var t,n,r,e,i},x(r,[{key:"Yx",get:function(){return this.FF.Yx}},{key:"tF",get:function(){return this.FF.tF}},{key:"xy",get:function(){return this.FF.xy}},{key:"Wx",get:function(){return this.FF.Wx}},{key:"DT",get:function(){return this.FF.DT}},{key:"sR",get:function(){return this.FF.nF}},{key:"rF",get:function(){return this.FF.rF}},{key:"$x",get:function(){return this.FF.$x}},{key:"tx",get:function(){return this.FF.tx}},{key:"Gx",get:function(){return this.FF.Gx}},{key:"_d",get:function(){return this.FF._d},set:function(t){this.FF._d=t,this.qF()}},{key:"oF",get:function(){return this.FF.oF}},{key:"md",get:function(){return this.FF.md}},{key:"sF",get:function(){return this.FF.sF}},{key:"cF",get:function(){return this.FF.$x}},{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}},{key:"Wd",get:function(){return this.FF.Wd}},{key:"Xd",get:function(){return this.FF.Xd}},{key:"fF",get:function(){return this.FF.fF}},{key:"bd",get:function(){return this.FF.bd}},{key:"aF",get:function(){return this.FF.aF}},{key:"kd",get:function(){return this.FF.kd}},{key:"Jx",get:function(){return this.FF.Jx}},{key:"JP",get:function(){return this.FF.JP}},{key:"Vd",get:function(){return this.qR.Vd},set:function(t){this.qR.Vd=t}},{key:"Ud",get:function(){return this.FF.Ud}},{key:"Hd",get:function(){return this.FF.Hd}},{key:"Hv",get:function(){return this.FF.Hv}},{key:"zv",get:function(){return this.FF.zv},set:function(t){this.FF.zv=t}},{key:"Xv",get:function(){return this.qR.Xv}},{key:"XF",get:function(){return this.LF.rb||""},set:function(t){this.LF.AF=t}},{key:"Gv",get:function(){return this.FF.Gv},set:function(t){this.qR.Gv=t}},{key:"nl",get:function(){return this.FF.nl},set:function(t){this.FF.nl=Nw(t)}},{key:"ih",get:function(){return this.qR.ih}},{key:"Yv",get:function(){return this.qR.Yv}},{key:"Xa",get:function(){return this.FF.Xa}},{key:"Kv",get:function(){return this.FF.Kv}},{key:"$v",get:function(){return this.FF.$v}},{key:"Jv",get:function(){return this.FF.Jv},set:function(t){this.FF.Jv=t}}]),r}(Is)}Dn(function(){t.dispatchEvent&&t.dispatchEvent(bT("theoplayerready"))});var HT,WT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return tr(t)},n.decode=function(t){return Qn(t)},t}())},zT=PT.ia,XT=sf.pl.registerContentProtectionIntegration.bind(sf.pl),GT=function(){},YT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),KT=k(function(t,n){function r(t,n){var r=[],e=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,r.indexOf(n)).join(".")+"]"}),function(i,u){if(r.length>0){var o=r.indexOf(this);~o?r.splice(o+1):r.push(this),~o?e.splice(o,1/0,i):e.push(i),~r.indexOf(u)&&(u=n.call(this,i,u))}else r.push(u);return null==t?u:t.call(this,i,u)}}(t.exports=function(t,n,e,i){return JSON.stringify(t,r(n,i),e)}).getSerialize=r});function $T(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],r=0;r<t.length;r++)n[r]={start:t.start(r),end:t.end(r)};return n}(n):n}function JT(t){return JSON.stringify(t,KT.getSerialize($T))}function QT(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ft(Ft({},t),{adBreak:Ft(Ft({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return Pc(t,["adBreak"])})})})}function ZT(t){return void 0===t.ads?t:Ft(Ft({},t),{ads:t.ads.map(function(t){t.adBreak;return Pc(t,["adBreak"])})})}function tE(t){return"string"==typeof t.date?new Date(t.date):t.date}function nE(t){var n;return t.cue.track?(n=eE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=eE(t.cue,""),n}function rE(t){var n=new Set;return function t(r){if(Array.isArray(r))return r.map(t);if("object"==typeof r&&null!==r){if(n.has(r))return"[Circular ~]";n.add(r);var e=d.entries(r);return d.fromEntries(e.map(function(n){return[n[0],t(n[1])]}))}return r}(t)}function eE(t,n){var r,e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=function t(n){var r=n.children;if(0!==r.length)for(var e=0;e<r.length;e++){var i=r.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:t(i)}}(t.content).innerHTML;break;case"daterange":var i={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(r=o)&&null!==r){var s=iE(o);i[u]={type:HT.GF,value:s}}else oE(o)?i[u]={type:HT.YF,value:o}:i[u]={type:HT.KF,value:String(o)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=iE(t.scte35Cmd),e.scte35Out=iE(t.scte35Out),e.scte35In=iE(t.scte35In),e.customAttributes=i}return e}function iE(t){if(void 0!==t)return tr(t)}function uE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var r=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var i=t.cues[e];r.push(eE(i,t.type))}n.cues=r;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(eE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function oE(t){return"number"==typeof t}!function(t){t.KF="daterange-ca-type_string",t.YF="daterange-ca-type_number",t.GF="daterange-ca-type_arraybuffer"}(HT||(HT={}));var sE={cue:function(t){var n={};switch(n.date=tE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=nE(t)}return n},textTrack:function(t){var n={};switch(n.date=tE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=hE().register(t.cue));var r=aE()[vE()].eventListeners;t.cue.addEventListener("enter",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){r.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=nE(t);break;case"cuechange":for(var e=[],i=0;i<t.track.activeCues.length;i++){var u=t.track.activeCues[i];e.push(eE(u,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=tE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=hE().register(t)}),n.track=uE(t.track);case"removetrack":case"change":n.track=uE(t.track)}return n},default:function(t){var n={};switch(n.date=tE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ft({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=uE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=ZT(t.ad);break;case"adloaded":case"adimpression":n.ad=QT(t.ad);break;case"aderror":t.JF&&(n.JF=t.JF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=QT(t.ad)}return rE(n)},minimizeCueHelper:function(t){var n={};return n.date=tE(t),n.type=t.type,n.cue=nE(t),n.track={uid:t.cue.track.uid},n},adReplacer:QT,adBreakReplacer:ZT,removeCircularReferences:rE},cE=function(){this.stringify=JT,this.minimize=sE};function fE(){return S.self}function aE(){return fE().THEOplayerBridge}function hE(){return fE().THEOCueMirrorMap}function vE(){return fE().THEOplayerGlobalID}function dE(){var t=fE();if(t.THEOplayerBridge){var n=new GT;t.THEOplayerBridge=ts(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new GT;t.THEOplayerUtils||(t.THEOplayerUtils=new cE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new YT)}dE();var lE=function(t){function n(n){var r;(r=t.call(this)||this).QF=[],r.ZF=function(t){r.Oa(t.oa)},r.tB=function(t){var n=t.oa;r.nB(n)||r.Da(n)};for(var e=0;e<n.length;e++){var i=n[e];r.rB(i)}return r}gt(n,t);var r=n.prototype;return r.rB=function(t){this.QF.push(t);for(var n=0,r=t.xa;n<r.length;n++){var e=r[n];this.Oa(e)}this.eB(t)},r.iB=function(t){gn(this.QF,t),this.uB(t);for(var n=0,r=t.xa;n<r.length;n++){var e=r[n];this.nB(e)||this.Da(e)}},r.nB=function(t){for(var n=0,r=this.QF;n<r.length;n++){if(r[n].Aa(t))return!0}return!1},r.eB=function(t){t._o(Fo.Zf,this.ZF),t._o(Fo.na,this.tB)},r.uB=function(t){t.ko(Fo.Zf,this.ZF),t.ko(Fo.na,this.tB)},r.oe=function(){for(;this.QF.length>0;)this.iB(this.QF[0]);t.prototype.oe.call(this)},r.ua=function(){return bs(this)},n}(Yo),wE=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).type=n,e.detail=r,e}return gt(n,t),n}(qn),yE=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.wo(new wE(t,n))},r.addEventListener=function(t,n){this._o(t,n)},r.removeEventListener=function(t,n){this.ko(t,n)},n}(Is);function gE(t,n){return t.Wp<=n&&t.zp>n}function _E(t,n){return function(t,n){return ho(t.Wp,n.Wp,uh)}(t,n)||function(t,n){return ho(t.zp,n.zp,uh)}(t,n)}function pE(t,n){var r=function(t,n,r,e,i,u,o){void 0===i&&(i=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var f=s+(c-s>>1),a=e(r(t[f]),n);if(a<0)s=f+1;else if(a>0)c=f-1;else{if(!(i&&f>u&&0===e(r(t[f-1]),n)))return f;c=f-1}}return~s}(t,n,et,_E,!0);if(r<0)return r;for(;r<t.length&&_E(n,t[r])===io.Uc;r++)if(t[r].ef(n))return r;return-(r+1)}function mE(t){var n=t.oa;if(!n)return-1;if(t instanceof oh)return n.oB(t);var r=n.uh;if(!r)return-1;var e=pE(r.xa,t);return e>=0?e:-1}var kE=function(t){function n(n,r){var e;return(e=t.call(this,Ja.jp,n)||this).Vc=r,e}return gt(n,t),n.prototype.ua=function(){return new bE(this.Hp.ia)},n}(nh),bE=function(t){function n(n){return t.call(this,Qa.jp,n)||this}return gt(n,t),n}(rh),TE=function(t){function n(n,r){var e;return(e=t.call(this,Ja.Vp,n)||this).Vc=r,e}return gt(n,t),n.prototype.ua=function(){return new EE(this.Hp.ia)},n}(nh),EE=function(t){function n(n){return t.call(this,Qa.Vp,n)||this}return gt(n,t),n}(rh),SE=function(t){function n(n){var r;return(r=t.call(this,jo.ha)||this).Hp=n,r}return gt(n,t),n.prototype.ua=function(){return new RE(this.Hp.ia)},n}(Vo),RE=function(t){function n(n){var r;return(r=t.call(this,"entercue")||this).cue=n,r}return gt(n,t),n}(Ho),IE=function(t){function n(n){var r;return(r=t.call(this,jo.da)||this).Hp=n,r}return gt(n,t),n.prototype.ua=function(){return new CE(this.Hp.ia)},n}(Vo),CE=function(t){function n(n){var r;return(r=t.call(this,"exitcue")||this).cue=n,r}return gt(n,t),n}(Ho),NE=function(t){function n(n){var r;return(r=t.call(this,jo.wa)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new OE(this.oa.ia)},n}(Vo),OE=function(t){function n(n){var r;return(r=t.call(this,"cuechange")||this).track=n,r}return gt(n,t),n}(Ho),DE=.1;function AE(t,n){return ao(t.Vc,n.Vc)||function(t,n){return t.oa===n.oa?fo(mE(t),mE(n)):Uv(t.oa,n.oa)}(t.Hp,n.Hp)||function(t,n){return t===n?io.Uc:t===Ja.jp?io.jc:io.qc}(t.type,n.type)}var PE=function(){function t(t,n){var r=this;this.gd=[],this.sB=0,this.cB=0,this.fB=[],this.aB=!1,this.hB=!1,this.vB=void 0,this.dB=!1,this.lB=function(){r.sB=0,r.wB(),r.yB()},this.gB=function(){r.wB(),r.yB()},this._B=function(){r.hB=!0,r.pB();var t=void 0!==r.vB?r.vB:r.cB,n=r.qR.jv;l.abs(t-n)>DE&&(r.vB=n,r.dB=!1)},this.mB=function(){r.hB=!0;var t=r.qR.jv;l.abs(r.cB-t)<=DE&&(r.dB=!0),r.wB(),r.yB()},this.kB=function(){r.bB(),r.wB(),r.yB()},this.TB=function(){r.EB()},this.SB=function(t){gn(r.fB,t.Hp),r.EB()},this.RB=n,this.qR=t,t._o(Ds.nv,this.gB),t._o(Ds.Vh,this.gB),t._o(Es.gh,this.gB),t._o(Ds.jh,this.gB),t._o(Ds.Yh,this._B),t._o(Ds.Gh,this.mB),this.EB()}var n=t.prototype;return n.Pa=function(){mn(this.fB);for(var t=0,n=this.gd.slice();t<n.length;t++){var r=n[t];this.Da(r)}this.pB(),this.sB=0,this.cB=0,this.aB=!1,this.hB=!1,this.vB=void 0},n.Oa=function(t){pn(this.gd,t)||(this.gd.push(t),t._o(jo.sa,this.TB),t._o(jo.fa,this.SB),t._o(jo.ga,this.kB),t.uh.Fa&&this.EB(),this.bB())},n.Da=function(t){if(gn(this.gd,t)){if(t.ko(jo.sa,this.TB),t.ko(jo.fa,this.SB),t.ko(jo.ga,this.kB),t.uh.Fa){for(var n=0,r=t.uh.xa;n<r.length;n++){var e=r[n];gn(this.fB,e)}this.EB()}this.bB()}},n.bB=function(){this.aB=this.gd.some(function(t){return t.th!==ys.eh})},n.yB=function(){this.qR.Yv||this.qR.Xv?this.pB():this.EB()},n.EB=function(){this.aB&&(this.sB||(this.sB=this.RB.lF(this.lB)))},n.pB=function(){this.sB&&(this.RB.IB(this.sB),this.sB=0)},n.wB=function(){if(this.aB&&!this.qR.Yv){var t=this.gd,n=this.hB&&!this.dB?this.vB:this.qR.jv,r=n-this.cB<-DE,e=this.hB||r,i=this.dB;this.hB&&(this.vB=void 0,this.hB=!1,this.dB=!1);for(var u,o=this.cB,s=[],c=0;c<t.length;c++){var f=t[c];if(f.th!==ys.eh){f.CB(n,e);for(var a=0,h=f.oh.xa;a<h.length;a++){var v=h[a];s.push(v)}}}if(e&&!i)u=this.fB;else{u=[];for(var d=lo.ff.cf,w=0;w<t.length;w++){var y=t[w];y.th!==ys.eh&&Mv(y,o-d,n,u)}}for(var g=u.length-1;g>=0;g--)pn(s,u[g])&&_n(u,g);var _=[];if(!e||i)for(var p=u.length-1;p>=0;p--){var m=u[p];m.Wp>=o&&m.zp<=n&&(_.push(m),_n(u,p))}for(var k=[],b=[],T=0;T<_.length;T++){var E=_[T];E.nm||k.push(new kE(E,E.Wp)),k.push(new TE(E,l.max(E.Wp,E.zp)))}for(var S=0,R=u;S<R.length;S++){var I=R[S];I.nm&&(k.push(new TE(I,l.max(I.Wp,I.zp))),I.nm=!1)}for(var C=0;C<s.length;C++){var N=s[C];N.nm||(k.push(new kE(N,N.Wp)),N.nm=!0)}k.sort(AE);for(var O=0;O<k.length;O++){var D=k[O],A=D.Hp;A.wo(D);var P=A.oa;P&&(D.type===Ja.jp?P.wo(new SE(A)):P.wo(new IE(A)),pn(b,P)||b.push(P))}b.sort(Uv);for(var x=0;x<b.length;x++){var F=b[x];F.wo(new NE(F))}this.cB=n,this.fB=s}},n.oe=function(){this.Pa(),this.qR.ko(Ds.nv,this.gB),this.qR.ko(Ds.Vh,this.gB),this.qR.ko(Es.gh,this.gB),this.qR.ko(Ds.jh,this.gB),this.qR.ko(Ds.Yh,this._B),this.qR.ko(Ds.Gh,this.mB)},t}(),xE=new(function(){function t(){}var n=t.prototype;return n.lF=function(t){return sb(t)},n.IB=function(t){cb(t)},t}()),FE=function(t){function n(n,r){return void 0===r&&(r=xE),t.call(this,n,r)||this}return gt(n,t),n}(PE),BE=function(t){function n(){return t.call(this,Ds.Bh)||this}return gt(n,t),n}(qn),LE=function(t){function n(n){var r;return(r=t.call(this,Ds.Hh)||this).currentTime=n,r}return gt(n,t),n}(qn),ME=function(t){function n(n,r){var e;return(e=t.call(this)||this).NB=function(t){e.DB.OB("THEOplayerABRSetTargetBuffer",t.HA),e.wo(t)},e.AB=function(t){e.DB.OB("THEOplayerABRSetStrategy",t.zA),e.wo(t)},e.DB=n,e.PB=r,e.PB._o("WA",e.NB),e.PB._o("XA",e.AB),e}return gt(n,t),x(n,[{key:"QA",get:function(){var t;switch(this.zA.type){case Tb.PERFORMANCE:return 1;case Tb.QUALITY:return 0;case Tb.BANDWIDTH:return(null===(t=this.zA.metadata)||void 0===t?void 0:t.bitrate)&&!g(this.zA.metadata.bitrate)?this.zA.metadata.bitrate:0;default:return 0}}},{key:"ia",get:function(){return this.PB.ia}},{key:"zA",get:function(){return this.PB.zA},set:function(t){this.PB.zA=t}},{key:"HA",get:function(){return this.PB.HA},set:function(t){this.PB.HA=t}},{key:"GA",get:function(){return this.PB.GA},set:function(t){this.PB.GA=t}}]),n}(Mn),UE=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.jE=function(t,n,r,e){return!0},n}(Jl),qE=function(){function t(t){this.ea=void 0,this.xB=t}var n=t.prototype;return n.ua=function(){return function(t){for(var n=[],r=0;r<t.Fa;r++)n[r]=t.Mo(r).ia;return n.item=function(n){var r=0|n,e=t.Mo(r);return e&&e.ia||void 0},d.defineProperty(n,"constructor",{value:ih}),n}(this)},n.Cp=function(t){for(var n=this.xB,r=n.length-1;r>=0;r-=1){var e=n[r];if(t.ef(e))return!0}return!1},n.Mo=function(t){return this.xB[t]},x(t,[{key:"xa",get:function(){return this.xB}},{key:"Fa",get:function(){return this.xB.length}},{key:"ia",get:function(){if(this.ea){var t=this.xB;this.ea.length=t.length;for(var n=0;n<t.length;n++)this.ea[n]=t[n].ia}else this.ea=this.ua();return this.ea}}]),t}(),jE=function(t){function n(n,r){var e;return(e=t.call(this,jo.pa)||this).oa=n,e.ih=r,e}return gt(n,t),n.prototype.ua=function(){return new VE(this.oa.ia,Ts(this.ih))},n}(Vo),VE=function(t){function n(n,r){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=r,e}return gt(n,t),n}(Ho),HE=function(t){function n(n){var r;return(r=t.call(this,jo.ka)||this).oa=n,r}return gt(n,t),n.prototype.ua=function(){return new WE(this.oa.ia)},n}(Vo),WE=function(t){function n(n){var r;return(r=t.call(this,"typechange")||this).track=n,r}return gt(n,t),n}(Ho),zE=function(t){function n(n){var r;return(r=t.call(this,jo.sa)||this).Hp=n,r}return gt(n,t),n.prototype.ua=function(){return new XE(this.Hp.ia)},n}(Vo),XE=function(t){function n(n){var r;return(r=t.call(this,"addcue")||this).cue=n,r}return gt(n,t),n}(Ho),GE=function(t){function n(n){var r;return(r=t.call(this,jo.fa)||this).Hp=n,r}return gt(n,t),n.prototype.ua=function(){return new YE(this.Hp.ia)},n}(Vo),YE=function(t){function n(n){var r;return(r=t.call(this,"removecue")||this).cue=n,r}return gt(n,t),n}(Ho),KE=function(t){function n(n,r,e,i,u,o){var s;return(s=t.call(this)||this).Ap=String($E++),s.Dp=Ha(),s.FB=!1,s.pv=ys.eh,s.BB=Ka.NONE,s.LB=void 0,s.xB=[],s.MB=[],s.UB=0,s.qB=0,s.jB=o||"",s.VB=n,s.HB=e||"",s.FB=Boolean(i),s.bc=u||$f.DEFAULT,s.Pp=r||"",s.WB=new qE(s.xB),s.zB=new qE(s.MB),s}gt(n,t);var r=n.prototype;return r.XB=function(t){return yn(this.WB.xa,function(n){return n.za===t})},r.ua=function(){return ms(this)},r.Iv=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case ys.eh:case ys.rh:case ys.nh:return n}}else if("number"==typeof t)switch(t){case 0:return ys.eh;case 1:return ys.rh;case 2:return ys.nh}return ys.eh}(t);n!==this.th&&(this.pv=n,n===ys.eh&&(this.MB.forEach(function(t){t.nm=!1}),mn(this.MB),this.qB=0))},r.Nb=function(t){if(t&&!t.oa){var n=pE(this.uh.xa,t);if(!(n>=0)){t.oa=this;var r=-(n+1);this.xB.splice(r,0,t),this.GB(r),t.$p=r,r<this.qB&&(this.qB=r),this.wo(new zE(t))}}},r.YB=function(t){if(t&&t.oa===this){var n=this.oB(t);if(!(n<0)){t.nm=!1;var r=this.MB,e=pE(r,t);e>=0&&_n(r,e),_n(this.xB,n),this.GB(n),t.$p=-1,this.qB>n&&--this.qB,this.wo(new GE(t))}}},r.CB=function(t,n){var r=this.MB,e=this.xB,i=this.qB,u=!1;n&&(i=0);for(var o=r.length-1;o>=0;o--){gE(r[o],t)||(u=!0,_n(r,o))}for(;i<e.length&&e[i].Wp<=t;){var s=e[i];gE(s,t)&&!pn(r,s)&&(u=!0,r.push(s)),i++}u&&ln(r,_E),this.qB=i},r.oB=function(t){return(-1===t.$p||t.$p>=this.UB)&&this.KB(),t.$p},r.KB=function(){for(var t=this.xB,n=this.UB;n<t.length;n++)t[n].$p=n;this.UB=t.length},r.GB=function(t){t<this.UB&&(this.UB=t)},r.oe=function(){this.mo();for(var t=this.xB.slice(),n=0;n<t.length;n++){t[n].oe()}mn(this.xB),mn(this.MB)},x(n,[{key:"oh",get:function(){return this.zB}},{key:"uh",get:function(){return this.WB}},{key:"Db",get:function(){return this.FB},set:function(t){this.FB=t}},{key:"ia",get:function(){return this.ea||(this.ea=this.ua()),this.ea}},{key:"za",get:function(){return this.Ap}},{key:"Xa",get:function(){return this.Dp}},{key:"Za",get:function(){return this.jB},set:function(t){this.jB=t}},{key:"Ga",get:function(){return this.VB}},{key:"Ya",get:function(){return this.Pp},set:function(t){t!==this.Pp&&(this.Pp=t,this.wo(new qa(this)))}},{key:"Ka",get:function(){return this.HB}},{key:"th",get:function(){return this.pv},set:function(t){this.Iv(t),this.wo(new Ko(this))}},{key:"ih",get:function(){return this.BB},set:function(t){this.BB!==t&&(this.BB=t,this.wo(new jE(this,this.BB)))}},{key:"sh",get:function(){return this.LB},set:function(t){this.LB=t}},{key:"xu",get:function(){return this.bc},set:function(t){this.bc!==t&&(this.bc=t,this.wo(new HE(this)))}}]),n}(Mn),$E=0;function JE(t,n,r){for(var e=t[n].Wp,i=n;i>=0&&t[i].Wp===e;i--)t[i].zp=r}var QE,ZE=function(t){function n(n,r){return t.call(this,n,1/0,r,!1)||this}return gt(n,t),n.prototype.ef=function(n){return this===n||es(this,n)&&t.prototype.ef.call(this,n)&&(r=n,this.Xp===r.Xp);var r},x(n,[{key:"ia",get:function(){return this.ea||(this.ea=eh(this)),this.ea}}]),n}(oh),tS=function(t){function n(n,r,e){return void 0===e&&(e=$f.DEFAULT),t.call(this,wa.rw,r||"","",!1,e,n)||this}return gt(n,t),n}(KE),nS=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).xu=$f.ID3,e}gt(n,t);var r=n.prototype;return r.Nb=function(n){!function(t,n){if(0!==n.length){var r=n.length-1;if(n[r].Wp<t.Wp)JE(n,r,t.Wp);else{var e=n[0];if(e.Wp>t.Wp)t.zp=e.Wp;else{var i=pE(n,t);if(!(i>=0)){var u=-(i+1),o=u-1;if(o>=0&&n[o].Wp<t.Wp&&JE(n,o,t.Wp),u<n.length){var s=n[u];t.zp=s.Wp}}}}}}(n,this.xB),t.prototype.Nb.call(this,n)},r.ua=function(){return ms(this)},n}(tS),rS={$B:!1,JB:50,QB:!1},eS=function(){function t(t,n,r){this.Cs=void 0,this.Qs=t,this.Vu=r,this.cc=n}var n=t.prototype;return n.Ob=function(t){throw new h("Not implemented yet.")},n.WE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vu.Ku(n.Fu,r);case 2:return e=t.sent,t.next=5,e.xs();case 5:return i=t.sent,t.next=8,this.ZB(i);case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.eo=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ZB(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZB=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.tL(n),t.next=3,r;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tL=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.Cs)){t.next=5;break}return t.next=4,r.As(this.cc);case 4:this.Cs=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Ds(this.cc);case 8:this.Cs=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Rb=function(t,n,r){throw new h("Not implemented yet.")},x(t,[{key:"xy",get:function(){return this.Qs}},{key:"nl",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"il",get:function(){throw new h("Not implemented yet.")}},{key:"bd",get:function(){throw new h("Not implemented yet.")}},{key:"nL",get:function(){throw new h("Not implemented yet")}},{key:"kd",get:function(){throw new h("Not implemented yet.")}},{key:"rL",get:function(){throw new h("Not implemented yet")}},{key:"eL",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.iL="webkitneedkey",t.uL="webkitkeymessage",t.oL="webkitkeyerror"}(QE||(QE={}));var iS,uS,oS,sS,cS,fS=function(t){function n(n,r){var e;return(e=t.call(this,QE.iL)||this).initData=n,e.sessionId=r,e}return gt(n,t),n}(qn),aS=function(t){function n(n,r){var e;return(e=t.call(this,QE.uL)||this).message=n,e.destinationURL=r,e}return gt(n,t),n}(qn),hS=function(t){function n(){return t.call(this,QE.oL)||this}return gt(n,t),n}(qn),vS=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this)||this).qs=n,o.us=r,o.sL=e,o.fc=i,o.tc=u,o.Ws=new he,o.nc=void 0,o.Ks=new Xn,o.ec=new he,o.cL=function(t){o.nc?(o.nc.ts(void 0),o.nc=void 0):o.Ys("internal-error"),o.wo(new Hn)},o.fL=function(t){o.nc&&(o.nc.Zo(void 0),o.nc=void 0),o.wo(new Vn(pt(o),"license-request",fe(t.message).buffer,t.destinationURL||void 0))},o}gt(n,t);var r=n.prototype;return r._s=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e&&e.fairplay&&e.fairplay.ic){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+i+".");case 3:return t.next=5,this.aL(ce(r),i);case 5:this.Ys("usable"),this.ec.Zo(),this.ec=new he;case 8:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=ce(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.nc=new he,this.sL.bs(this.fc,r),t.next=7,this.nc.Qo;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ec;case 2:return this.sL.ko(QE.uL,this.fL),this.sL.ko(QE.oL,this.cL),this.ec.fo(),this.Ws.Zo(void 0),t.abrupt("return",this.Ws.Qo);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r.aL=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=xe(n,r,this.tc),this.sL._o(QE.uL,this.fL),this.sL._o(QE.oL,this.cL),this.sL.gT(this.fc,e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.fc}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn),dS=function(){function t(t,n,r){this.us=n,this.qs=r,this.hL=void 0,this.fc=void 0,this.tc=void 0,this.sL=t}var r=t.prototype;return r.Ns=function(){var t=C.coroutine(xt.mark(function t(r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tc){t.next=2;break}throw new Fe(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return e=new vS(this.qs,this.us,this.sL,this.fc,this.tc),this.hL=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Os=function(t){return this.tc=ce(t),C.resolve(!0)},r.Ds=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.As=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.createSession=function(){throw new h("Whoops.")},x(t,[{key:"keySystem",get:function(){return this.us}},{key:"sessionId",set:function(t){this.fc=t}}]),t}(),lS=function(){function t(t,n,r){this.vL=t,this.us=n,this.Qs=r;var e=Se(r)||"video/mp4";this.qs=Re(e)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new dS(this.vL,this.us,this.qs));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),wS=function(){function t(t){this.vL=t}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<r.length)){t.next=9;break}if(i=r[e],!(u=Ee(yS,n,i))){t.next=6;break}return t.abrupt("return",new lS(this.vL,n,u));case 6:e++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();function yS(t,n){return t===Zt}!function(t){t.m_="dL"}(iS||(iS={})),function(t){t[t.lL=0]="lL",t[t.wL=1]="wL"}(uS||(uS={})),function(t){t.yL="gL"}(oS||(oS={})),function(t){t[t._L=0]="_L",t[t.qk=1]="qk",t[t.pL=2]="pL"}(sS||(sS={})),function(t){t.mL="kL"}(cS||(cS={}));var gS;W.Di,new lo(.001),new lo(.5),Ds.Vh,Ds.jh,Ds.Yh,Ds.Gh,Ds.Ph,Ds.Wh,Es.pa,gs.Qa,W.Si||W.Ri;!function(t){t.bL="closed",t.vb="open",t.Ph="ended"}(gS||(gS={}));var _S,pS;lo.ff.cf,new lo(40,1e3),Es.pa,Ds.Vh,Ds.jh,Ds.Yh,Ds.Gh,Ds.Ph,gs.Qa;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(_S||(_S={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(pS||(pS={}));var mS=function(t){function n(n){var r;return(r=t.call(this,0,n.Xp)||this).TL=n,r.zp=r.TL.Wp,r}return gt(n,t),x(n,[{key:"za",get:function(){return this.TL.za},set:function(t){this.TL.za=t}},{key:"im",get:function(){return this.TL.im},set:function(t){this.TL.im=t}},{key:"rm",get:function(){return this.TL.rm},set:function(t){this.TL.rm=t}}]),n}(ZE);function kS(t){return void 0===t.EL&&(t.EL=new mS(t)),t.EL}var bS=function(t){function n(n,r){var e;(e=t.call(this,n.Za,n.Ya)||this).xu=$f.ID3,e.SL=function(t){e.RL(t.Hp)},e.IL=function(t){var n=t.Hp;if(void 0!==n.EL){var r=n.EL;n.EL=void 0,e.YB(r),r.oe()}},e.CL=function(t){var n=kS(t.Hp);n.nm||e.NL(n),e.OL(n)},e.DL=function(t){var n=t.Hp,r=kS(n);e.AL.jv<n.Wp&&e.NL(r)},e.PL=function(){var t=e.xL,n=e.th;if(e.xL=n,n===ys.eh)e.MB.forEach(function(t){return t.nm=!1}),mn(e.MB);else if(t===ys.eh)for(var r=e.AL.jv,i=0,u=e.xB;i<u.length;i++){var o=u[i];r<o.zp&&e.NL(o)}},e.AL=r,e.FL=n,e.xL=n.th,n._o(jo.sa,e.SL),n._o(jo.fa,e.IL),n._o(jo.ha,e.CL),n._o(jo.da,e.DL),n._o(jo.ga,e.PL);for(var i=0,u=e.FL.uh.xa;i<u.length;i++){var o=u[i];e.RL(o)}return e}gt(n,t);var r=n.prototype;return r.NL=function(t){var n=pE(this.MB,t);if(!(n>=0)){var r=-(n+1);this.MB.splice(r,0,t),t.nm=!0,t.wo(new kE(t,this.AL.jv)),this.wo(new SE(t)),this.wo(new NE(this))}},r.OL=function(t){var n=pE(this.MB,t);n>=0&&_n(this.MB,n),t.nm=!1,t.wo(new TE(t,this.AL.jv)),this.wo(new IE(t)),this.wo(new NE(this))},r.oe=function(){this.FL.ko(jo.sa,this.SL),this.FL.ko(jo.fa,this.IL),this.FL.ko(jo.ha,this.CL),this.FL.ko(jo.da,this.DL),this.FL.ko(jo.ga,this.PL),t.prototype.oe.call(this)},r.RL=function(t){var n=kS(t);(this.Nb(n),this.th!==ys.eh)&&(this.AL.jv<n.zp&&this.NL(n))},x(n,[{key:"Ga",get:function(){return this.FL.Ga}},{key:"Ya",get:function(){return this.FL.Ya},set:function(t){this.FL.Ya=t}},{key:"Ka",get:function(){return this.FL.Ka}},{key:"za",get:function(){return this.FL.za}},{key:"Xa",get:function(){return this.FL.Xa}},{key:"Za",get:function(){return this.FL.Za}},{key:"th",get:function(){return this.FL.th},set:function(t){this.FL.th=t}},{key:"ih",get:function(){return this.FL.ih}},{key:"sh",get:function(){return this.FL.sh}}]),n}(tS),TS=function(t){function n(n){var r;return(r=t.call(this)||this).AL=n,r}gt(n,t);var r=n.prototype;return r.Oa=function(n){if(n.xu===$f.ID3){var r=n;return r.EL||(r.EL=new bS(r,this.AL)),t.prototype.Oa.call(this,r.EL)}return t.prototype.Oa.call(this,n)},r.Da=function(n){if(n.xu===$f.ID3){var r=n;return!!r.EL&&t.prototype.Da.call(this,r.EL)}return t.prototype.Da.call(this,n)},n}(Ss),ES=function(t){function n(n,r){var e;return(e=t.call(this)||this).Tb=n,e.BL=r,e.LL=new Vt,e.ZF=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.oa).xu){t.next=4;break}return t.next=4,r.Eo(jo.ka);case 4:if(r.xu===$f.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==r.uh.Fa){t.next=11;break}return t.next=9,r.Eo(jo.sa);case 9:t.next=6;break;case 11:e.ML(r);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.tB=function(t){var n=t.oa;if(n.xu===$f.ID3&&e.LL.has(n.Xa)){var r=e.LL.get(n.Xa);e.Da(r),e.Tb.Ob(r),n.ko(jo.sa,e.RL)}},e.RL=function(t){SS(t.Hp)&&e.UL(t.Hp)},e.qL(),e}gt(n,t);var r=n.prototype;return r.qL=function(){this.BL._o(Fo.Zf,this.ZF),this.BL._o(Fo.na,this.tB)},r.jL=function(){this.BL.ko(Fo.Zf,this.ZF),this.BL.ko(Fo.na,this.tB)},r.ML=function(t){var n=t.uh.xa[0];if(SS(n)){var r=function(t){var n=t.match(RS);if(!n)return;return{oa:n[1],Ka:n[2]}}(n.Xp.description),e=r.oa,i=r.Ka;if(!this.VL(e,i)){var u=this.Tb.Rb(wa.kp,e,i,!1,$f.TTML);this.Oa(u),this.LL.set(t.Xa,u);for(var o=0,s=t.uh.xa;o<s.length;o++){var c=s[o];SS(c)&&this.UL(c)}t._o(jo.sa,this.RL)}}},r.VL=function(t,n){return!!yn(this.Fw.xa,function(r){return r.Ya===t&&r.Ka===n})},r.UL=function(t){if(t.oa)for(var n=this.LL.get(t.oa.Xa),r=vv(t.Xp.text,0,{gk:new lo(0),_k:new lo(1/0),pk:new lo(-t.zp)}),e=0;e<r.length;e++){var i=r[e];n.Nb(i)}},r.Pa=function(){var n=C.coroutine(xt.mark(function n(){var r,e,i,u,o;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,e=this.BL.xa;r<e.length;r++)e[r].ko(jo.sa,this.RL);for(i=0,u=this.Fw.xa;i<u.length;i++)o=u[i],this.Tb.Ob(o);return this.LL.clear(),n.next=5,t.prototype.Pa.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r.oe=function(){var n=C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.jL(),n.next=3,t.prototype.oe.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Sv);function SS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Xp)&&RS.test(n.description);var n}var RS=/^Track:(.+),Lang:(.+)$/;new lo(50,1e3),W.Si||W.Ri,W.pi,new lo(500,1e3),new lo(5),new lo(.04),new lo(.001),W.Di,Ds.rv,Ds.Wh,Ds.Yh,Ds.Vh,Ds.jh;new lo(1,100);var IS=function(t){function n(n,r,e){var i;return void 0===e&&(e=new wS(r)),(i=t.call(this)||this).xE=void 0,i.HL=new Jv,i.WL=!1,i.Zs=null,i.zL={Gd:0,Yd:0,Kd:0,$d:0,Jd:0,Qd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},i.XL=function(t){"boolean"==typeof t.detail.casting&&(i.WL=t.detail.casting,i.wo(new th(i.WL)))},i.GL=function(t){i.fc=t.sessionId,i.Zs&&(i.Zs.sessionId=i.fc);var n=t.initData;if(n){var r=function(t){try{var n=ue(t),r=new ae;return Zr(te(Ur(n,r,Hr(n,r,!0)),!0))}catch(t){return}}(n);if(!r)return;i.wo(new Wn(Xt,r))}else i.wo(new Wn(Xt,new ArrayBuffer(0)))},i.YL=n,i.vL=r,i.vL._o(QE.iL,i.GL),i.Vu=e,i.KL(),i}gt(n,t);var r=n.prototype;return r.$L=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=8;break}if((e=n[r]).xu!==$l.YE){t.next=5;break}return t.abrupt("return",e);case 5:r++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.eo=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pa();case 2:this.mo(),this.JL(),this.vL.ko(QE.iL,this.GL);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ad=function(){throw new h("Not implemented yet")},r.Rb=function(t,n,r,e,i,u){throw new h("Not implemented yet")},r.eR=function(){return!1},r.uR=function(t,n,r,e){throw new h("Not implemented yet")},r.Ob=function(t){throw new h("Not implemented yet")},r.ps=function(){var t=C.coroutine(xt.mark(function t(n){var r=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.HL.Lb(function(){var t=C.coroutine(xt.mark(function t(e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xu!==$l.YE){t.next=7;break}return Sn(e),i=new eS(n,r,r.Vu),r.xE=i,t.abrupt("return",i);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ee=function(){throw new h("Not implemented yet")},r.re=function(){throw new h("Not implemented yet")},r.Pa=function(){var t=this;return this.HL.fo(),this.HL.Lb(C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.xE){n.next=4;break}return n.next=3,t.xE.eo();case 3:t.xE=void 0;case 4:case"end":return n.stop()}},n)})))},r.zo=function(t,n){throw new h("Not implemented yet")},r.aR=function(t){throw new h("Not implemented yet")},r.Dd=function(){throw new h("Not implemented yet")},r.hR=function(){return this.zL},r.KL=function(){this.YL.addEventListener("airPlayIsCasting",this.XL)},r.JL=function(){this.YL.removeEventListener("airPlayIsCasting",this.XL)},r.webkitSetMediaKeys=function(t){this.Zs=t||null,this.Zs&&(this.Zs.sessionId=this.fc)},r.QL=function(){},r.ZL=function(){throw new h("Not implemented yet")},r.tM=function(){throw new h("Not implemented yet")},r.nM=function(t){},x(n,[{key:"Vd",get:function(){throw new h("Not implemented yet")}},{key:"zS",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"jd",get:function(){throw new h("Not implemented yet")}},{key:"jv",get:function(){throw new h("Not implemented yet")}},{key:"cF",get:function(){throw new h("Not implemented yet")}},{key:"Vv",get:function(){throw new h("Not implemented yet")}},{key:"Hv",get:function(){throw new h("Not implemented yet")}},{key:"Oo",get:function(){throw new h("Not implemented yet")}},{key:"Jw",get:function(){throw new h("Not implemented yet")}},{key:"zd",get:function(){return this.WL}},{key:"zv",get:function(){throw new h("Not implemented yet")}},{key:"Xv",get:function(){throw new h("Not implemented yet")}},{key:"Gv",get:function(){throw new h("Not implemented yet")}},{key:"tl",get:function(){throw new h("Not implemented yet")}},{key:"ih",get:function(){throw new h("Not implemented yet")}},{key:"il",get:function(){throw new h("Not implemented yet")}},{key:"Yv",get:function(){throw new h("Not implemented yet")}},{key:"rM",get:function(){throw new h("Not implemented yet")}},{key:"Jv",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"Tf",get:function(){throw new h("Not implemented yet")}},{key:"sR",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Zs}},{key:"playbackProperties",get:function(){return rS}},{key:"bd",get:function(){throw new h("Not implemented yet")}},{key:"vR",get:function(){throw new h("Not implemented yet")}},{key:"eM",get:function(){return!0}}]),n}(Rs),CS=function(t){function n(n){var r;return(r=t.call(this,Ds.uv)||this).zL=n,r}return gt(n,t),n}(qn);var NS=function(t){function n(n){return t.call(this,Ja.Ta,n)||this}return gt(n,t),n.prototype.ua=function(){return new OS(this.Hp.ia)},n}(nh),OS=function(t){function n(n){return t.call(this,Qa.Ta,n)||this}return gt(n,t),n}(rh),DS=function(t){function n(n,r){var e,i=AS(r,n.Vv,n.vR,n.iM);return(e=t.call(this,r,i,void 0,!1,n.za)||this).uM=n.oM,e.sM=n.vR,e.cM=n.iM,e.fM=n.Vv,e.aM=n.hM,e.vM=Boolean(n.dM),e.lM=n.wM||{},e.yM=n.gM,e._M=n.pM,e.mM=n.kM,e.bM(),e.TM(),e}gt(n,t);var r=n.prototype;return r.bs=function(t){var n=!1;void 0===this.uM&&void 0!==t.oM&&(n=!0,this.uM=t.oM),void 0===this.cM&&void 0!==t.iM&&(n=!0,this.cM=t.iM),void 0===this.fM&&void 0!==t.Vv&&(n=!0,this.fM=t.Vv),void 0===this.aM&&void 0!==t.hM&&(n=!0,this.aM=t.hM),!this.vM&&t.dM&&(n=!0,this.vM=t.dM),n=this.updateCustomAttributes(t,n),void 0===this.yM&&void 0!==t.gM&&(n=!0,this.yM=t.gM),void 0===this._M&&void 0!==t.pM&&(n=!0,this._M=t.pM),void 0===this.mM&&void 0!==t.kM&&(n=!0,this.mM=t.kM),this.bM(),this.TM(),this.EM(),n&&this.wo(new NS(this))},r.updateCustomAttributes=function(t,n){var r=n;if(t.wM)for(var e=0,i=d.keys(t.wM);e<i.length;e++){var u=i[e];void 0===this.lM[u]&&(r=!0,this.lM[u]=t.wM[u])}return r},r.bM=function(){this.fM&&!this.cM&&(this.cM=new Date(this.sM.getTime()+1e3*this.fM))},r.TM=function(){this.cM&&!this.fM&&(this.fM=yt(this.cM.getTime()-this.sM.getTime()))},r.EM=function(){this.Qp===1/0&&(this.cM||this.fM)&&(this.Qp=AS(this.Jp,this.fM,this.sM,this.cM))},x(n,[{key:"ia",get:function(){var t;return this.ea||(this.ea=ts(eh(t=this),{get content(){return t.Xp},get class(){return t.oM},get startDate(){return t.vR},get endDate(){return t.iM},get duration(){return t.Vv},get plannedDuration(){return t.hM},get endOnNext(){return t.dM},get scte35Cmd(){return t.gM},get scte35Out(){return t.pM},get scte35In(){return t.kM},get customAttributes(){return t.wM}})),this.ea}},{key:"oM",get:function(){return this.uM}},{key:"vR",get:function(){return this.sM}},{key:"iM",get:function(){return this.cM}},{key:"Vv",get:function(){return this.fM}},{key:"hM",get:function(){return this.aM}},{key:"dM",get:function(){return this.vM}},{key:"gM",get:function(){return this.yM}},{key:"pM",get:function(){return this._M}},{key:"kM",get:function(){return this.mM}},{key:"wM",get:function(){return this.lM}}]),n}(oh);function AS(t,n,r,e){return G(n)?t+n:e?t+(yt(e.getTime())-yt(r.getTime())):1/0}var PS,xS=function(t){function n(){return t.call(this,void 0,void 0,$f.DATE_RANGE)||this}gt(n,t);var r=n.prototype;return r.bs=function(t,n){var r=this;t=function(t){for(var n=Lt(),r=[],e=0;e<t.length;e++){var i=t[e];if(n.has(i.za)){var u=n.get(i.za),o=Ft(Ft(Ft({},u),is(i)),{wM:Ft(Ft({},u.wM),i.wM)});n.set(i.za,o)}else n.set(i.za,i),r.push(i.za)}return r.map(function(t){return n.get(t)})}(t);for(var e=this.uh.xa,i=function(n){var i=e[n],u=yn(t,function(t){return t.za===i.za});u?i.bs(u):r.YB(i)},u=e.length-1;u>=0;u--)i(u);for(var o=0,s=t;o<s.length;o++){var c=s[o],f=c.vR;if(void 0!==f&&!this.XB(c.za)){var a=n(f);this.Nb(new DS(c,a))}}},r.Nb=function(n){this.SM(n),t.prototype.Nb.call(this,n)},r.SM=function(t){var n=this.xB.filter(function(n){return n.oM===t.oM}).pop();n&&n.dM&&n.bs({za:n.za,iM:t.vR})},n}(tS);function FS(t){switch(t.type){case PS.KF:return t.value;case PS.YF:return os(t.value);case PS.GF:return Qn(t.value);default:return}}function BS(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.KF="daterange-ca-type_string",t.YF="daterange-ca-type_number",t.GF="daterange-ca-type_arraybuffer"}(PS||(PS={}));var LS,MS,US,qS=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,i,r,e)||this).kE=n,o.RM=u,o}return gt(n,t),x(n,[{key:"name",get:function(){return this.kE}},{key:"timestamp",get:function(){return this.RM}}]),n}(Fe),jS=function(t){function n(n,r,e,i,u,o,s,c){var f;return(f=t.call(this,n,r,e,i,c)||this).url=u,f.status=o,f.errorComment=s,f}return gt(n,t),n}(qS),VS=function(){function t(t){this.gd=new Ev,this.IM=new FE(t)}var n=t.prototype;return n.Rb=function(t,n,r,e,i){var u=new KE(t,n,r,e,i);return this.gd.Oa(u),this.IM.Oa(u),u},n.Ob=function(t){this.gd.Da(t),this.IM.Da(t)},n.Pa=function(){this.gd.Pa(),this.IM.Pa()},n.oe=function(){this.gd.oe(),this.IM.oe()},x(t,[{key:"bd",get:function(){return this.gd}}]),t}(),HS=function(t){function n(n,r,e,i,u){var o;(o=t.call(this)||this).EF=0,o.CM=!1,o.RS=void 0,o.IS=void 0,o.SF=!0,o.IF=1,o.NM=new ca([]),o.OM=new ca([]),o.DM=!1,o.AM=new ca([]),o.BB=Cs._h,o.QE=Cs._h,o.zL={Gd:0,Yd:0,Kd:0,$d:0,Jd:0,Qd:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.xE=void 0,o.setCurrentTime=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.il.length){t.next=4;break}return o.EF=n,t.next=4,o.YL.Eo("seekablechange");case 4:o.EF=o.updateCurrentTime(n),o.DB.OB("THEOplayerSetCurrentTime",o.EF),o.RF=!0,o.wo(new Ls(o.EF));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.PM=function(t){if(t.detail){for(var n=t.detail.buffered,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.NM=new ca(r),o.wo(new LE(o.jv))}},o.xM=function(t){o.BB=t.detail.readyState,o.wo(new Ps(+t.detail.currentTime,o.ih)),o.FM()},o.BM=function(t){o.BB=t.detail.readyState,o.wo(new As(+t.detail.currentTime,o.ih)),o.FM()},o.LM=function(t){if(t.detail){var n=+t.detail.duration;o.fM=n,o.wo(new Vs(o.Vv))}},o.MM=function(t){t.detail&&(o.CM=!0,o.wo(new Us(+t.detail.currentTime)))},o.NS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,r=JSON.parse(t.detail.errorObject);BS(n=r)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.IS=new jS(r.name,r.message,void 0,r.code,r.url,r.status,r.errorComment,r.timestamp),o.RS=Ac(o.IS),o.wo(new Js(o.IS))):BS(r)&&(o.IS=new qS(r.name,r.message,void 0,r.code,r.timestamp),o.RS=Ac(o.IS),o.wo(new Js(o.IS)))}},o.UM=function(t){o.wo(new BE)},o.qM=function(t){o.BB=t.detail.readyState,o.wo(new Ms(+t.detail.currentTime,o.ih)),o.FM()},o.jM=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.il.length){t.next=3;break}return t.next=3,o.YL.Eo("seekablechange");case 3:o.BB=n.detail.readyState,o.wo(new Hs(+n.detail.currentTime,o.ih)),o.FM();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.VM=function(t){t.detail&&o.wo(new Ws(+t.detail.currentTime))},o.HM=function(t){t.detail&&o.wo(new Xs(+t.detail.currentTime))},o.WM=function(t){if(t.detail){for(var n=t.detail.played,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.AM=new ca(r).K_(.05)}},o.zM=function(t){t.detail&&o.wo(new vw(+t.detail.currentTime))},o.XM=function(t){t.detail&&(o.IF=t.detail.playbackRate,o.wo(new js(+t.detail.currentTime,o.IF)))},o.GM=function(t){if(t.detail){for(var n=t.detail.seekable,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.OM=new ca(r)}},o.YM=function(t){t.detail&&(o.EF=+t.detail.currentTime,o.RF=!1,o.wo(new qs(o.EF,o.KM)),o.wo(new Bs(o.EF)))},o.$M=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.fM&&(o.CM=!1),o.RF=!0,o.wo(new Ls(n))}},o.JM=function(t){t.detail&&(t.detail.currentDate&&(o.KM=new Date(1e3*t.detail.currentDate)),o.EF=+t.detail.currentTime,o.wo(new qs(o.EF,o.KM)))},o.QM=function(t){o.ZM=t.detail.height,o.tU=t.detail.width},o.nU=function(t){t.detail&&o.wo(new hw(+t.detail.currentTime))},o.rU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.md.Oa(new Ga(n))},o.eU=function(t){for(var n,r,e=t.detail.lang,i=t.detail.label,u=0;u<o.wd.Fa;u++){var s=o.md.Na(u);s.Ka==e&&s.Ya==i?r=o.wd.Na(u):1==s.Wa&&(n=o.wd.Na(u))}r&&n&&(r.Wa=!0,n.Wa=!1)},o.iU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.kd.Oa(new Za(n))},o.uU=function(t){var n,r=t.detail.kind,e=t.detail.type;r===wa.rw&&e===$f.ID3?(n=new nS("",t.detail.label)).th=ys.rh:r===wa.rw&&e===$f.DATE_RANGE?(n=new xS,o.oU=n):n=new KE(r,t.detail.label,t.detail.lang,t.detail.isDefault,e),o.sU.Oa(n),o.IM.Oa(n)},o.cU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var e=r[n],i=e.Id3FrameId,u={id:i,text:e.Id3FrameText};"TXXX"!==i&&"TXX"!==i||(u.description=e.Id3FrameDescription);var s=new ZE(os(e.startTime),u);s.za=e.uid;var c=o.fU();c&&c.Nb(s)}},o.aU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var e=r[n],i=new sh(os(e.startTime),os(e.endTime),e.content,!1),u=o.hU();u&&(u.xu=$f.WEBVTT,u.Nb(i))}},o.VS=function(t){t.type===Ds.Ih&&(o.RS=Ac(t.errorObject)),o.lo(t)},o.vU=function(t){t.detail&&(o.zL.Yd=t.detail.corruptedVideoFrames,o.zL.Gd=t.detail.droppedVideoFrames,o.wo(new CS(o.Xd)))},o.dU=function(t){var n=function(t){var n=t.detail,r=[];return n.forEach(function(t){var n={za:t.id};if(void 0!==t.startDate&&(n.vR=new Date(t.startDate)),void 0!==t.endDate&&(n.iM=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var i in t.customAttributes){var u=FS(t.customAttributes[i]);void 0!==u&&(e[i]=u)}n.wM=e}void 0!==t.scte35Cmd&&(n.gM=Qn(t.scte35Cmd)),void 0!==t.scte35In&&(n.kM=Qn(t.scte35In)),void 0!==t.scte35Out&&(n.pM=Qn(t.scte35Out)),void 0!==t.startTime&&(n.Wp=t.startTime),n.oM=t.class,n.Vv=os(t.duration),n.hM=os(t.plannedDuration),r.push(n)}),r}(t);n.forEach(function(t){var r=null!=t.Wp?t.Wp:(new Date).getTime(),e=new DS(t,r);o.oU.Nb(e),o.oU.bs(n,r)})};var s=i.uid;o.DB=o.getSdkBridge(s),o.YL=new yE,aE()[s].sdkEventBus=o.YL,o.wd=new Ma,o.yd=new Ma;var c=o.lU(e);return o.Tb=new VS(pt(o)),o.IM=new FE(pt(o)),o.$S=new Wv(o.Tb,c),o.sU=new Ev,o.wU=new TS(pt(o)),o.wU.ja=o.sU,o.yU=new ES(o.Tb,o.wU),o.gd=new lE([o.sU,o.$S.Fw,o.yU.Fw]),o.vL=o.getFairPlayControllerBridge(o.DB),o.UE=new IS(o.YL,o.vL),o.GS=new UE(o.UE,c),o.GS._o(_w,o.VS),o.observeMediaElement(),o.KS(),o.xR=new ME(o.DB,u),o.xR._o("WA",function(){o.DB.OB("THEOplayerSetPreferredForwardBufferDuration",o.xR.HA)}),o}gt(n,t);var r=n.prototype;return r.xd=function(){return xw},r.Dd=function(){this.DB.OB("THEOplayerShow",{})},r.Ad=function(){this.DB.OB("THEOplayerHide",{})},r.gU=function(){var t=this;this.DB.OB("THEOplayerSetInitialPreferredPeakBitRate",this.xR.QA);this._o("playing",function n(){t.DB.OB("THEOplayerSetInitialPreferredPeakBitRate",0),t.ko("playing",n)})},r.Sd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._U=n,e=Ft(Ft({},r),{sources:{src:n.src,type:tc.Fv,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange}}),this.DB.OB("THEOplayerSourceChange",e),i={xu:$l.YE,sh:n.src,JS:n.type,QS:[],ZS:n.crossOrigin,tR:r.metadata&&r.metadata.title},t.next=6,this.UE.ps(i);case 6:this.xE=t.sent,this.GS.Ds(this.xE),this.GS.jb(this.nR(n)),r.textTracks&&(u=r.textTracks.filter(function(t){return t.format!==$f.WEBVTT})).length>0&&this.rR(u),Kv(this.bd),this.gU();case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.nR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{mT:t.contentProtection||{},Hb:[{Bs:rn,Wb:[],bT:void 0,ic:void 0}],XE:[],GE:["video/mp4"]}}},r.re=function(){this.SF=!1,this.wo(new Ws(this.jv)),this.DB.OB("THEOplayerPlay",{})},r.ee=function(){this.SF=!0,this.wo(new Xs(this.jv)),this.DB.OB("THEOplayerPause",{})},r.Pd=function(){},r.Pa=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.EF=0,this.CM=!1,this.RS=void 0,this.IS=void 0,this.SF=!0,this.IF=1,this.fM=void 0,this.OM=new ca([]),this.NM=new ca([]),this.ZM=void 0,this.tU=void 0,this.BB=Cs._h,this.QE=Cs._h,this.wd.Pa(),this.yd.Pa(),this.sU.Pa(),this.gd.Pa(),t.next=19,this.yU.Pa();case 19:return this.wU.Pa(),t.next=22,this.$S.Pa();case 22:return this.Tb.Pa(),this.IM.Pa(),this._U=void 0,t.next=27,this.UE.Pa();case 27:return t.next=29,this.GS.Pa();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Id=function(){this.DB.OB("THEOplayerShowAirPlayPicker",{})},r.Cd=function(){this.DB.OB("THEOplayerStopAirPlayPicker",{})},r.updateMetrics=function(t){this.Xd.Yd=t.Yd,this.Xd.Gd=t.Gd},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pa();case 2:return this.mo(),this.unobserveMediaElement(),this.fR(),t.next=7,this.GS.oe();case 7:return t.next=9,this.UE.eo();case 9:return this.wd.oe(),this.yd.oe(),this.sU.oe(),this.gd.oe(),this.wU.oe(),t.next=16,this.yU.oe();case 16:return t.next=18,this.$S.oe();case 18:this.Tb.oe(),this.IM.oe();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.rR=function(t){for(var n=0;n<t.length;n++){var r=t[n];this.$S.Sb(r)}},r.FM=function(){var t=this.QE,n=this.BB;t!==n&&(this.QE=n,this.wo(new Os(this.jv,n)))},r.observeMediaElement=function(){this.UE._o(Ds.Th,this.lo),this.YL.addEventListener("play",this.VM),this.YL.addEventListener("pause",this.HM),this.YL.addEventListener("seeking",this.$M),this.YL.addEventListener("seeked",this.YM),this.YL.addEventListener("ratechange",this.XM),this.YL.addEventListener("durationchange",this.LM),this.YL.addEventListener("timeupdate",this.JM),this.YL.addEventListener("waiting",this.nU),this.YL.addEventListener("playing",this.zM),this.YL.addEventListener("ended",this.MM),this.YL.addEventListener("loadedmetadata",this.jM),this.YL.addEventListener("loadeddata",this.qM),this.YL.addEventListener("loadstart",this.UM),this.YL.addEventListener("canplay",this.xM),this.YL.addEventListener("canplaythrough",this.BM),this.YL.addEventListener("error",this.NS),this.YL.addEventListener("seekablechange",this.GM),this.YL.addEventListener("videosizechange",this.QM),this.YL.addEventListener("bufferedchange",this.PM),this.YL.addEventListener("playedchange",this.WM),this.YL.addEventListener("metricschange",this.vU),this.YL.addEventListener("addDateRangeCues",this.dU)},r.unobserveMediaElement=function(){this.UE.ko(Ds.Th,this.lo),this.YL.removeEventListener("play",this.VM),this.YL.removeEventListener("pause",this.HM),this.YL.removeEventListener("seeking",this.$M),this.YL.removeEventListener("seeked",this.YM),this.YL.removeEventListener("ratechange",this.XM),this.YL.removeEventListener("durationchange",this.LM),this.YL.removeEventListener("timeupdate",this.JM),this.YL.removeEventListener("waiting",this.nU),this.YL.removeEventListener("playing",this.zM),this.YL.removeEventListener("ended",this.MM),this.YL.removeEventListener("loadedmetadata",this.jM),this.YL.removeEventListener("loadeddata",this.qM),this.YL.removeEventListener("loadstart",this.UM),this.YL.removeEventListener("canplay",this.xM),this.YL.removeEventListener("canplaythrough",this.BM),this.YL.removeEventListener("error",this.NS),this.YL.removeEventListener("seekablechange",this.GM),this.YL.removeEventListener("videosizechange",this.QM),this.YL.removeEventListener("bufferedchange",this.PM),this.YL.removeEventListener("playedchange",this.WM),this.YL.removeEventListener("metricschange",this.vU),this.YL.removeEventListener("addDateRangeCues",this.dU)},r.updateCurrentTime=function(t){var n=this.il.start(0),r=this.il.end(0);return l.min(l.max(t,n),r)},r.fU=function(){for(var t=0,n=this.gd.xa;t<n.length;t++){var r=n[t];if(r.Ga===wa.rw&&r.xu===$f.ID3)return r}},r.hU=function(){for(var t=0,n=this.gd.xa;t<n.length;t++){var r=n[t];if(r.th===ys.nh)return r}},r.KS=function(){this.YL.addEventListener("addaudiotrack",this.rU),this.YL.addEventListener("enableaudiotrack",this.eU),this.YL.addEventListener("addvideotrack",this.iU),this.YL.addEventListener("addtexttrack",this.uU),this.YL.addEventListener("addtexttrackid3cues",this.cU),this.YL.addEventListener("addtexttrackcues",this.aU)},r.fR=function(){this.YL.removeEventListener("addaudiotrack",this.rU),this.YL.removeEventListener("enableaudiotrack",this.eU),this.YL.removeEventListener("addvideotrack",this.iU),this.YL.removeEventListener("addtexttrack",this.uU),this.YL.removeEventListener("addtexttrackid3cues",this.cU),this.YL.removeEventListener("addtexttrackcues",this.aU)},r.qd=function(){},x(n,[{key:"md",get:function(){return this.wd}},{key:"jd",get:function(){return this.NM.F_()}},{key:"Vd",get:function(){return this.KM?this.KM:null},set:function(t){this.DB.OB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.KM=t}},{key:"jv",get:function(){return this.EF},set:function(t){this.setCurrentTime(t)}},{key:"Vv",get:function(){return this.fM}},{key:"Hv",get:function(){return this.CM}},{key:"Oo",get:function(){return this.RS}},{key:"Wv",get:function(){return this.IS}},{key:"Wd",get:function(){}},{key:"zd",get:function(){return this.UE.zd}},{key:"Xd",get:function(){return this.zL}},{key:"zv",get:function(){return this.DM},set:function(t){this.DM!==t&&(this.DB.OB("THEOplayerSetMuted",t),this.DM=t,this.wo(new Fs(this.jv,t?0:1)))}},{key:"Xv",get:function(){return this.SF}},{key:"Gv",get:function(){return this.IF},set:function(t){this.DB.OB("THEOplayerSetPlaybackRate",t),this.IF=t}},{key:"tl",get:function(){return this.AM.F_()}},{key:"nl",get:function(){return Iw.NR},set:function(t){}},{key:"ih",get:function(){return this.BB}},{key:"il",get:function(){return this.OM.F_()}},{key:"Yv",get:function(){return this.RF}},{key:"vR",get:function(){}},{key:"bd",get:function(){return this.gd}},{key:"Kv",get:function(){return this.ZM}},{key:"$v",get:function(){return this.tU}},{key:"Jv",get:function(){return 1},set:function(t){}},{key:"kd",get:function(){return this.yd}},{key:"Zd",get:function(){return!0}}]),n}(Rs),WS=function(){function t(){this.dR=ww.ES}return t.prototype.lR=function(n,r){if(r.vr&&r.vr[360])return!1;if((e=n.type)&&sn(e.toLowerCase(),tc.xv))return!1;var e,i=n.contentProtection;if(i&&!Ef(i)){if(!If(i))return!1;if(!t.pU(i))return!1}return!0},t.pU=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}(),zS=function(){function n(t){this.playerID=t}return n.prototype.OB=function(n,r){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:r,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),XS=function(t){function n(n){var r;return(r=t.call(this)||this).mU=function(t){var n=Qn(t.detail.initData),e=t.detail.sessionId;r.wo(new fS(n,e))},r.kU=function(t){var n=new _(ur(t.detail.message)),e=t.detail.destinationURL;r.wo(new aS(n,e))},r.bU=function(t){r.wo(new hS)},r.DB=n,r.YL=new yE,aE().fairplayController={sdkEventBus:r.YL},r.TU(),r}gt(n,t);var r=n.prototype;return r.TU=function(){this.YL.addEventListener(QE.iL,this.mU),this.YL.addEventListener(QE.uL,this.kU),this.YL.addEventListener(QE.oL,this.bU)},r.gT=function(t,n){var r={data:or(n.buffer),sessionId:t};this.DB.OB("THEOplayerCreateKeySession",r)},r.bs=function(t,n){var r={data:or(n.buffer),sessionId:t};this.DB.OB("THEOplayerUpdateKey",r)},n}(Rs),GS=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.yb=function(n){if(se(n.eb)){var r=ce(n.eb);n.eb=Qr(r)}return t.prototype.yb.call(this,n)},n}(function(){function t(t){this.Eb=t}var n=t.prototype;return n.yb=function(t){return this.Eb.yb(t)},n.dC=function(t){this.Eb.dC(t)},n.oe=function(){this.Eb.oe()},t}()),YS=function(t){function n(n,r,e,i,u){return t.call(this,n,r,e,i,u)||this}gt(n,t);var r=n.prototype;return r.Rd=function(){return!1},r.getSdkBridge=function(t){return new zS(t)},r.getFairPlayControllerBridge=function(t){return MS||(MS=new XS(t)),MS},r.lU=function(t){return new GS(t)},n}(HS);LS=new(function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.vl=function(t,n,r,e,i,u){return new YS(t,n,r,e,i)},n}(WS)),Rw.ji.bR(LS),function(t){t.Zf="addtrack",t.na="removetrack",t.ga="change",t.Ta="update"}(US||(US={}));var KS=function(t,n,r){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=r,this.type=US.ga},$S=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=US.Zf},JS=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=US.na},QS=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=US.Ta},ZS=function(){function t(t,n,r){var e=this;this.EU=function(t){var n=new KS(e.type,t.track,e.mediaTracks);e.messageDispatcher.SU(n)},this.RU=function(t){var n=new $S(e.type,t.track);e.messageDispatcher.SU(n),t.track.addEventListener("update",e.IU)},this.CU=function(t){var n=new JS(e.type,t.track);e.messageDispatcher.SU(n)},this.IU=function(t){var n=new QS(e.type,t.track);e.messageDispatcher.SU(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=r,this.TU()}return t.prototype.TU=function(){this.mediaTracks.addEventListener("change",this.EU),this.mediaTracks.addEventListener("addtrack",this.RU),this.mediaTracks.addEventListener("removetrack",this.CU)},t}(),tR=function(){function t(t){this.NU=new zS(t)}return t.prototype.SU=function(t){this.NU.OB(t.type,JT(t))},t}();pT(function(t){if(t.ia.audioTracks){var n=new tR(t.Xa);new ZS("audio",t.ia.audioTracks,n)}if(t.ia.videoTracks){var r=new tR(t.Xa);new ZS("video",t.ia.videoTracks,r)}});var nR,rR,eR=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case nR.OU:var r={integrationId:n.integrationId,keySystem:n.keySystem};this.wo(new iR(r));break;default:0}},n}(yE),iR=function(t){function n(n){var r;return(r=t.call(this,nR.OU)||this).detail=n,r}return gt(n,t),n}(qn);!function(t){t.OU="registerContentProtectionIntegration"}(nR||(nR={})),function(t){t.DU="certifiateRequest",t.AU="certifiateResponse",t.PU="licenseRequest",t.xU="licenseResponse",t.FU="extractFairplayContentId",t.BU="buildContentProtection",t.LU="registerContentProtectionCallback"}(rR||(rR={}));var uR,oR,sR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.LU};!function(t){t.VOD="vod",t.LIVE="live"}(uR||(uR={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(oR||(oR={}));var cR,fR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.BU},aR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.DU},hR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.AU},vR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.FU},dR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.PU},lR=function(t,n){this.value=t,this.integrationId=n,this.type=rR.xU},wR=function(){function t(t,n){this.MU=t,this.dl=n}var r=t.prototype;return r.onCertificateRequest=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r),i=new aR(e,this.dl),t.prev=2,t.next=5,this.MU.UU(i);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.qU(o)){t.next=13;break}return s=Ft({},o),t.abrupt("return",s);case 13:if(!this.jU(o)){t.next=16;break}return c=new _(o),t.abrupt("return",c);case 16:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),r.onCertificateResponse=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r.request),i={request:e,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},u=new hR(i,this.dl),t.next=5,this.MU.UU(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new _(s));case 11:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseRequest=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c,f;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:r.fairplaySkdUrl},u=new dR(i,this.dl),t.prev=3,t.next=6,this.MU.UU(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.qU(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new _(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.jU(s)){t.next=17;break}return f=new _(s),t.abrupt("return",f);case 17:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Nc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseResponse=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r.request),i=Ft(Ft({},e),{fairplaySkdUrl:r.request.fairplaySkdUrl}),u={request:i,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},o=new lR(u,this.dl),t.next=6,this.MU.UU(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new _(c));case 12:throw new Nc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.extractFairplayContentId=function(){var t=C.coroutine(xt.mark(function t(r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vR(r,this.dl),t.next=3,this.MU.UU(e);case 3:if(!(i=t.sent)){t.next=6;break}return t.abrupt("return",i);case 6:return t.abrupt("return",C.reject(new Nc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},r.qU=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},r.jU=function(t){return!!new _(t)},t}(),yR=function(){function t(t){this.MU=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new wR(this.MU,t.integration),r=new fR({drmConfiguration:t},t.integration);return this.MU.UU(r),n},t}(),gR=function(){var t=this;this.VU=function(n){var r=new yR(t.messageDispatcher),e=n.detail,i=e.integrationId,u=e.keySystem,o={state:sf.pl.wl(i,u,r)};t.messageDispatcher.UU(new sR(o,i))},this.YL=new eR,aE().contentProtectionIntegration={sdkEventBus:this.YL},this.YL.addEventListener(nR.OU,this.VU)},_R="nativePromiseCallback",pR=function(t){function n(n){var r;return(r=t.call(this,_R)||this).detail=n,r}return gt(n,t),n}(qn);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(cR||(cR={}));var mR=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.wo(new pR(n))},r.addEventListener=function(t,n){this._o(t,n)},r.removeEventListener=function(t,n){this.ko(t,n)},n}(yE),kR=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var r=t.promisesMap[n.detail.promiseId];if(!r)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case cR.RESOLVE:r.Zo(n.detail.data);break;case cR.REJECT:r.ts(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new mR;aE().nativePromise={sdkEventBus:n},n.addEventListener(_R,this.handleNativePromiseEvent)}return t.prototype.UU=function(n){var r;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),i=Ft(Ft({},n),{promiseId:e}),u=new he;return this.promisesMap[e]=u,null===(r=this.NU)||void 0===r||r.OB(n.type,KT(i)),u.Qo},t}();kR.messageIdTracker=-1;var bR=function(t){function n(n){var r;return(r=t.call(this)||this).NU=new zS(n),r}return gt(n,t),n}(kR),TR=function(t){function n(n){var r;return(r=t.call(this)||this).MU=new bR(n),r}return gt(n,t),x(n,[{key:"messageDispatcher",get:function(){return this.MU}}]),n}(gR);pT(function(t){new TR(t.ia.uid)}),n.ChromelessPlayer=function t(n,r){var e=pc(r),i=new(xT||(xT=gT(xT=VT(lT),fT.hF),xT=gT(xT,fT.vF)),xT)(n,e),u=i.ia;return i.uF(),i.WF(PT),d.defineProperty(u,"constructor",{value:t}),u=Qo(u),function(t){for(var n=0;n<_T.length;n++)(0,_T[n])(t)}(i),u},n.createGlobals=dE,n.features=[],n.getCueMirrorMap=hE,n.getGlobalId=vE,n.getSdkEventBridge=aE,n.playerSuiteVersion="2021.1.2",n.players=zT,n.registerContentProtectionIntegration=XT,n.utils=WT,n.version="2.82.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
