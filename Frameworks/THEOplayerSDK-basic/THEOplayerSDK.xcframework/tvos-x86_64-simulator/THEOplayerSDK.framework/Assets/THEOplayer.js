/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.2 (2.86.1)
 Created: 2021-07-12T16:41:22.879Z
 */
!function(t){!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var r,i=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==i?i:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,i,e){function u(o,c){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!c&&a)return a(o,!0);if(s)return s(o,!0);var f=new h("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var v=i[o]={exports:{}};n[o][0].call(v.exports,function(t){var r=n[o][1][t];return u(r||t)},v,v.exports,t,n,i,e)}return i[o].exports}for(var s="function"==typeof r&&r,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,r){n.exports=function(t){var n=t.o;function r(t){var r=new n(t),i=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),i}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,n,r){var i;try{throw new h}catch(t){i=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,r){this.g.push(t,n,r),this.F()}function f(t,n,r){this.p.push(t,n,r),this.F()}function v(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var r=t.shift(),i=t.shift();n.call(r,i)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(c.prototype.invokeLater=function(t,n,r){this.I?a.call(this,t,n,r):this.N(function(){o(function(){t.call(n,r)},100)})},c.prototype.invoke=function(t,n,r){this.I?f.call(this,t,n,r):this.N(function(){t.call(n,r)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.B()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,r){n.exports=function(t,n,r,i){var e=!1,u=function(t,n){this.V(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.j(u,u,null,this,t)},o=function(t,n){0==(50397184&this.H)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=i.propagateFromFunction(),t.prototype.G=i.boundValueFunction());var a=r(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.j(n,s,void 0,f,v),a.j(o,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.H=2097152|this.H,this.Z=t):this.H=-2097153&this.H},t.prototype.nt=function(){return 2097152==(2097152&this.H)},t.bind=function(n,r){return t.resolve(r).bind(n)}}},{}],4:[function(t,n,r){var i;"undefined"!=typeof Promise&&(i=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=i)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,r){var i=d.create;if(i){var e=i(null),u=i(null);e[" size"]=u[" size"]=0}n.exports=function(n){var r=t("./util"),i=r.canEvaluate;function e(t){var i=this.pop(),e=function(t,i){var e;if(null!=t&&(e=t[i]),"function"!=typeof e){var u="Object "+r.classString(t)+" has no method '"+r.toString(i)+"'";throw new n.TypeError(u)}return e}(t,i);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}r.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.j(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,r="number"==typeof t;if(r)n=s;else if(i){var e=(void 0)();n=null!==e?e:u}else n=u;return this.j(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,c=n.rt;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.it("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.st()?n.ot().cancel():n.ct();break}var r=t.at;if(null==r||!r.et()){t.st()?t.ot().cancel():t.ct();break}t.st()&&t.ot().cancel(),t.ft(),n=t,t=r}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var r=0;r<t.length;++r)this.St(t[r],n);else if(void 0!==t)if("function"==typeof t){if(!n){var i=s(t).call(this.G());i===o&&(this.Rt(i.e),c.throwLater(i.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=t("./es5").keys,e=r.tryCatch,u=r.errorObj;return function(t,s,o){return function(c){var a=o.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(s).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(s).call(a,c)}else if(r.isObject(c)){for(var l=i(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(s).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,r){n.exports=function(t){var n=!1,r=[];function i(){this.Dt=new i.CapturedTrace(e())}function e(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype.Nt=function(){},t.prototype.At=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},i.prototype.At=function(){void 0!==this.Dt&&(this.Dt.Nt=null,r.push(this.Dt))},i.prototype.Ot=function(){if(void 0!==this.Dt){var t=r.pop(),n=t.Nt;return t.Nt=null,n}return null},i.CapturedTrace=null,i.create=function(){if(n)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var r=t.prototype.At,u=t.prototype.Ot,s=t.xt,o=t.prototype.xt,c=t.prototype.Nt;i.deactivateLongStackTraces=function(){t.prototype.At=r,t.prototype.Ot=u,t.xt=s,t.prototype.xt=o,t.prototype.Nt=c,n=!1},n=!0,t.prototype.At=i.prototype.At,t.prototype.Ot=i.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Nt=function(){var t=this.xt();t&&null==t.Nt&&(t.Nt=this)}},i}},{}],9:[function(t,n,r){n.exports=function(n,r){var i,u,s,c=n.Pt,a=n.rt,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.H=-1048577&t.H|524288},n.prototype.Lt=function(){if(0==(524288&this.H)){this.Ft();var t=this;o(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",i,void 0,this)},n.prototype.Ut=function(){this.H=268435456|this.H},n.prototype.Vt=function(){return 0!=(268435456&this.H)},n.prototype.Mt=function(){if(this.qt()){var t=this.jt();this.Ht(),K("unhandledRejection",u,t,this)}},n.prototype.Ht=function(){this.H=262144|this.H},n.prototype.Wt=function(){this.H=-262145&this.H},n.prototype.$t=function(){return(262144&this.H)>0},n.prototype.Ft=function(){this.H=1048576|this.H},n.prototype.zt=function(){this.H=-1048577&this.H,this.$t()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.H)>0},n.prototype.it=function(t,n,r){return z(t,n,r||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();i="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,i=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=i,n.prototype.Gt=e,r.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=H,n.prototype.Rt=W,n.prototype.Gt=$,r.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var D=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r={detail:n,cancelable:!0};y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason});var i=new CustomEvent(t.toLowerCase(),r);return!l.global.dispatchEvent(i)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=n,y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason}),!l.global.dispatchEvent(r)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var r=e.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),N=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),r=l.global[n];return!!r&&(r.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function A(t,n){return{promise:n}}var O={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(t,n,r){return{promise:n,child:r}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,r){return{reason:n,promise:r}},rejectionHandled:A},x=function(t){var n=!1;try{n=N.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var r=!1;try{r=D(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),r=!0}return r||n};function P(){return!1}function L(t,n,r){var i=this;try{t(n,r,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));i.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var r=t.vt;void 0===r&&(r=0),t.vt=r+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var r=t.warnings;et.warnings=!!r,I=et.warnings,l.isObject(r)&&"wForgottenReturn"in r&&(I=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,r){try{t(n,r)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function j(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Dt=new rt(this.xt())}function W(t,n){if(g(t)){var r=this.Dt;if(void 0!==r&&n&&(r=r.Zt),void 0!==r)r.attachExtraTrace(t);else if(!t.tn){var i=G(t);l.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function $(){this.Dt=void 0}function z(t,r,i){if(et.warnings){var e,u=new f(t);if(r)i.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var s=G(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],r=0;r<t.length;++r){var i=t[r],e="    (No stack trace)"===i||k.test(i),u=e&&Z(i);e&&!u&&(T&&" "!==i.charAt(0)&&(i="    "+i),n.push(i))}return n}function G(t){var n=t.stack,r=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<n.length;++r){var i=n[r];if("    (No stack trace)"===i||k.test(i))break}return r>0&&"SyntaxError"!=t.name&&(n=n.slice(r)),n}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,r){if("undefined"!=typeof console){var i;if(l.isObject(t)){var e=t.stack;i=n+b(e,t)}else i=n+String(t);"function"==typeof s?s(i,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function K(t,n,r,i){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(i):n(r,i))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,r,i)||e||Y(r,"Unhandled rejection "):x(t,i)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var r=JSON.stringify(t);n=r}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof it}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function rt(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);it(this,rt),n>32&&this.uncycle()}l.inherits(rt,h),r.CapturedTrace=rt,rt.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],r={},i=0,e=this;void 0!==e;++i)n.push(e),e=e.Zt;for(var i=(t=this.kt=i)-1;i>=0;--i){var u=n[i].stack;void 0===r[u]&&(r[u]=i)}for(var i=0;i<t;++i){var s=n[i].stack,o=r[s];if(void 0!==o&&o!==i){o>0&&(n[o-1].Zt=void 0,n[o-1].kt=1),n[i].Zt=void 0,n[i].kt=1;var c=i>0?n[i-1]:this;o<t-1?(c.Zt=n[o+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=i-2;f>=0;--f)n[f].kt=a,a++;return}}}},rt.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),r=n.message,i=[n.stack],e=this;void 0!==e;)i.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],r=1;r<t.length;++r){for(var i=t[r],e=n.length-1,u=n[e],s=-1,o=i.length-1;o>=0;--o)if(i[o]===u){s=o;break}for(var o=s;o>=0;--o){var c=i[o];if(n[e]!==c)break;n.pop(),e--}n=i}}(i),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(i),l.notEnumerableProp(t,"stack",function(t,n){for(var r=0;r<n.length-1;++r)n[r].push("From previous event:"),n[r]=n[r].join("\n");return r<n.length&&(n[r]=n[r].join("\n")),t+"\n"+n.join("\n")}(r,i)),l.notEnumerableProp(t,"tn",!0)}};var it=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var r=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,r(t,n),h.stackTraceLimit-=6}}var i,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){i="stack"in t}return"stack"in e||!i||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var r=n?"\x1b[33m":"\x1b[31m";console.warn(r+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return j},checkForgottenReturns:function(t,n,r,i,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&i.H))return;r&&(r+=" ");var u="",s="";if(n.Dt){for(var o=n.Dt.stack.split("\n"),c=X(o),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(s="\n"+o[a-1]);break}}var d="a promise was created in a "+r+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i.it(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var r,i,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){r=a.fileName,s=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){i=a.fileName,o=a.line;break}}s<0||o<0||!r||!i||r!==i||s>=o||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===r&&s<=n.line&&n.line<=o)})}},warn:z,deprecated:function(t,n){var r=t+" is deprecated and will be removed in a future version.";return n&&(r+=" Use "+n+" instead."),z(r)},CapturedTrace:rt,fireDomEvent:D,fireGlobalEvent:N}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,r){n.exports=function(t){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this.j(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.j(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.j(void 0,r,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this.j(void 0,n,void 0,{value:r},void 0);var i=arguments[1];return i instanceof t&&i.suppressUnhandledRejections(),this.caught(r,function(){return i})}}},{}],11:[function(t,n,r){n.exports=function(t,n){var r=t.reduce,i=t.all;function e(){return i(this)}t.prototype.each=function(t){return r(this,t,n,0).j(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,i){return r(t,i,n,0).j(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,i){return r(t,i,n,n)}}},{}],12:[function(t,n,r){var i,e,u=t("./es5"),s=u.freeze,o=t("./util"),c=o.inherits,a=o.notEnumerableProp;function f(t,n){function r(i){if(!(this instanceof r))return new r(i);a(this,"message","string"==typeof i?i:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(r,h),r}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{i=v,e=RangeError}catch(t){i=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var r=0;r<this.length;++r){for(var i=this[r]===this?"[Circular AggregateError]":this[r]+"",e=i.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];i=e.join("\n"),n+=i+"\n"}return p--,n},c(m,h);var k=h.rn;k||(k=s({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"rn",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:i,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,r){var i=function(){return void 0===this}();if(i)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,n){var r=d.getOwnPropertyDescriptor(t,n);return!(r&&!r.writable&&!r.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var r in t)e.call(t,r)&&n.push(r);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,r){return t[n]=r.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,r){n.exports=function(t,n){var r=t.map;t.prototype.filter=function(t,i){return r(this,t,i,n)},t.filter=function(t,i,e){return r(t,i,e,n)}}},{}],15:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(i);function c(t,n,r){this.promise=t,this.type=n,this.handler=r,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().jt())}function d(t){if(!f(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?o.call(e.G()):o.call(e.G(),t);if(c===i)return c;if(void 0!==c){e.Ut();var v=r(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),s.e=l,s}v.isPending()&&v.Yt(new a(this))}return v.j(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),s.e=t,s):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.in=function(t,n,r,i){return"function"!=typeof t?this.then():this.j(r,i,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.in(t,0,l,l)},n.prototype.tap=function(t){return this.in(t,1,l)},n.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this.in(t,1,void 0,l);var i,u=new Array(r-1),s=0;for(i=0;i<r-1;++i){var c=arguments[i];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[s++]=c}u.length=s;var a=arguments[i];return this.in(o(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./errors"),c=o.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,r,e,u){if(s.cancellation()){var o=new n(i),c=this.en=new n(i);this.un=o.lastly(function(){return c}),o.Xt(),o.J(this)}else{var a=this.un=new n(i);a.Xt()}this.sn=u,this.cn=t,this.an=r,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,s.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,r=void 0!==this.fn.return;if(r)this.un.At(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var i=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=i,this.un.Rt(i),this.un.At(),t=v(this.fn.throw).call(this.fn,i),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.At();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.At();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var r=this.un;if(t===f)return this.wn(),this.dn?r.cancel():r.bn(t.e,!1);var i=t.value;if(!0===t.done)return this.wn(),this.dn?r.cancel():r.W(i);var u=e(i,this.un);if(u instanceof n||null!==(u=function(t,r,i){for(var u=0;u<r.length;++u){i.At();var s=v(r[u])(t);if(i.Ot(),s===f){i.At();var o=n.reject(f.e);return i.Ot(),o}var c=e(s,i);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var s=(u=u.Y()).H;0==(50397184&s)?(this.vn=u,u.Tn(this,null)):0!=(33554432&s)?n.rt.invoke(this.pn,this,u.En()):0!=(16777216&s)?n.rt.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=d(n).yieldHandler,i=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new i(void 0,void 0,r,e),s=u.promise();return u.fn=n,u.pn(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new w(t,this),e=i.promise();return i.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var i=[].slice.call(arguments);t&&i.pop();var e=new r(i).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.rt;function d(t,n,r,i){this.constructor$(t),this.un.Xt();var e=o();this.Rn=null===e?n:c.domainBind(e,n),this.In=i===u?new Array(this.length()):null,this.Cn=r,this.Dn=0,this.Nn=[],h.invoke(this.An,this,void 0)}function l(t,r,e,u){if("function"!=typeof r)return i("expecting a function but got "+c.classString(r));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,r,s,u).promise()}c.inherits(d,r),d.prototype.An=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.pn=function(t,r){var i=this.On,u=this.length(),o=this.In,c=this.Cn;if(r<0){if(i[r=-1*r-1]=t,c>=1&&(this.Dn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Dn>=c)return i[r]=t,this.Nn.push(r),!1;null!==o&&(o[r]=t);var h=this.un,v=this.Rn,d=h.G();h.At();var l=a(v).call(d,t,r,u),w=h.Ot();if(s.checkForgottenReturns(l,w,null!==o?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).H;if(0==(50397184&g))return c>=1&&this.Dn++,i[r]=y,y.Tn(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}i[r]=l}var _=++this.Pn;return _>=u&&(null!==o?this.Ln(i,o):this.Fn(i),!0)},d.prototype.xn=function(){for(var t=this.Nn,n=this.Cn,r=this.On;t.length>0&&this.Dn<n;){if(this.ln())return;var i=t.pop();this.pn(r[i],i)}},d.prototype.Ln=function(t,n){for(var r=n.length,i=new Array(r),e=0,u=0;u<r;++u)t[u]&&(i[e++]=n[u]);i.length=e,this.Fn(i)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,r,i){return l(t,n,r,i)}}},{"./util":36}],19:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var i=new n(r);i.Xt(),i.At();var e=o(t).apply(this,arguments),s=i.Ot();return u.checkForgottenReturns(e,s,"Promise.method",i),i.Mn(e),i}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var i,c=new n(r);if(c.Xt(),c.At(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];i=s.isArray(a)?o(t).apply(f,a):o(t).call(f,a)}else i=o(t)();var h=c.Ot();return u.checkForgottenReturns(i,h,"Promise.try",c),c.Mn(i),c},n.prototype.Mn=function(t){t===s.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,r){var i=t("./util"),e=i.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&o.getPrototypeOf(t)===h.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var r=o.keys(t),e=0;e<r.length;++e){var u=r[e];c.test(u)||(n[u]=t[u])}return n}return i.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(r,i){if(null!==t){if(r){var u=a(e(r));t.Rt(u),t.V(u)}else if(n){var s=[].slice.call(arguments,1);t.yn(s)}else t.yn(i);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,r){n.exports=function(n){var r=t("./util"),i=n.rt,e=r.tryCatch,u=r.errorObj;function s(t,n){if(!r.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.G(),[null].concat(t));s===u&&i.throwLater(s.e)}function o(t,n){var r=this.G(),s=void 0===t?e(n).call(r,null):e(n).call(r,null,t);s===u&&i.throwLater(s.e)}function c(t,n){if(!t){var r=new h(t+"");r.cause=t,t=r}var s=e(n).call(this.G(),t);s===u&&i.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var r=o;void 0!==n&&d(n).spread&&(r=s),this.j(r,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){n.exports=function(){var r=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new D.PromiseInspection(this.Y())},e=function(t){return D.reject(new l(t))};function u(){}var s,o={},c=t("./util");s=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(D,"Pt",s);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(D,"rt",{value:h});var v=t("./errors"),l=D.TypeError=v.TypeError;D.RangeError=v.RangeError;var w=D.CancellationError=v.CancellationError;D.TimeoutError=v.TimeoutError,D.OperationalError=v.OperationalError,D.RejectionError=v.OperationalError,D.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(D,y),m=t("./promise_array")(D,y,p,e,u),k=t("./context")(D),b=k.create,T=t("./debuggability")(D,k),E=(T.CapturedTrace,t("./finally")(D,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function D(t){t!==y&&function(t,n){if(null==t||t.constructor!==D)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.H=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.jn(t),this.Nt(),this.Qt("promiseCreated",this)}function N(t){this.promise.W(t)}function A(t){this.promise.bn(t,!1)}function O(t){var n=new D(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype.catch=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),u=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!c.isObject(s))return e("Catch statement predicate: expecting an object but got "+c.classString(s));i[u++]=s}if(i.length=u,"function"!=typeof(t=arguments[r]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(i,t,this))}return this.then(void 0,t)},D.prototype.reflect=function(){return this.j(i,i,void 0,this,void 0)},D.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(n)),this.it(r)}return this.j(t,n,void 0,void 0,void 0)},D.prototype.done=function(t,n){var r=this.j(t,n,void 0,void 0,void 0);r.Hn()},D.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().j(t,void 0,void 0,g,void 0)},D.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},D.prototype.all=function(){return arguments.length>0&&this.it(".all() was passed arguments but it does not take any"),new m(this).promise()},D.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},D.getNewLibraryCopy=n.exports,D.is=function(t){return t instanceof D},D.fromNode=D.fromCallback=function(t){var n=new D(y);n.Xt();var r=arguments.length>1&&!!d(arguments[1]).multiArgs,i=C(t)(R(n,r));return i===I&&n.bn(i.e,!0),n.Wn()||n.$n(),n},D.all=function(t){return new m(t).promise()},D.cast=function(t){var n=p(t);return n instanceof D||((n=new D(y)).Xt(),n.zn(),n.Un=t),n},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(t){var n=new D(y);return n.Xt(),n.bn(t,!0),n},D.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},D.prototype.j=function(t,n,r,i,e){var u=void 0!==e,o=u?e:new D(y),a=this.Y(),f=a.H;u||(o.X(this,3),o.Xt(),void 0===i&&0!=(2097152&this.H)&&(i=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,o));var v=s();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.zt()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:o,receiver:i,value:l})}else a.Yn(t,n,o,i,v);return o},D.prototype.kt=function(){return 65535&this.H},D.prototype.Wn=function(){return 0!=(117506048&this.H)},D.prototype.st=function(){return 67108864==(67108864&this.H)},D.prototype.Kn=function(t){this.H=-65536&this.H|65535&t},D.prototype.zn=function(){this.H=33554432|this.H,this.Qt("promiseFulfilled",this)},D.prototype.Jn=function(){this.H=16777216|this.H,this.Qt("promiseRejected",this)},D.prototype.Qn=function(){this.H=67108864|this.H,this.Qt("promiseResolved",this)},D.prototype.Hn=function(){this.H=4194304|this.H},D.prototype.Zn=function(){return(4194304&this.H)>0},D.prototype.tr=function(){this.H=-65537&this.H},D.prototype._t=function(){this.H=65536|this.H,this.Qt("promiseCancelled",this)},D.prototype.ft=function(){this.H=8388608|this.H},D.prototype.$n=function(){h.hasCustomScheduler()||(this.H=134217728|this.H)},D.prototype.nr=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==o)return void 0===n&&this.nt()?this.G():n},D.prototype.rr=function(t){return this[4*t-4+2]},D.prototype.ir=function(t){return this[4*t-4+0]},D.prototype.er=function(t){return this[4*t-4+1]},D.prototype.G=function(){},D.prototype.ur=function(t){t.H;var n=t.Bn,r=t.Un,i=t.Vn,e=t.nr(0);void 0===e&&(e=o),this.Yn(n,r,i,e,null)},D.prototype.sr=function(t,n){var r=t.ir(n),i=t.er(n),e=t.rr(n),u=t.nr(n);void 0===u&&(u=o),this.Yn(r,i,e,u,null)},D.prototype.Yn=function(t,n,r,i,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=r,this.qn=i,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var s=4*u-4;this[s+2]=r,this[s+3]=i,"function"==typeof t&&(this[s+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},D.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},D.prototype.W=function(t,n){if(0==(117506048&this.H)){if(t===this)return this.bn(r(),!1);var i=p(t,this);if(!(i instanceof D))return this.yn(t);n&&this.X(i,2);var e=i.Y();if(e!==this){var u=e.H;if(0==(50397184&u)){var s=this.kt();s>0&&e.ur(this);for(var o=1;o<s;++o)e.sr(this,o);this.Qn(),this.Kn(0),this.cr(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(r())}},D.prototype.bn=function(t,n,r){var i=c.ensureErrorObject(t),e=i===t;if(!e&&!r&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.it(u,!0)}this.Rt(i,!!n&&e),this.V(t)},D.prototype.jn=function(t){if(t!==y){var n=this;this.Xt(),this.At();var r=!0,i=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,r)});r=!1,this.Ot(),void 0!==i&&n.bn(i,!0)}},D.prototype.ar=function(t,n,r,i){var e=i.H;if(0==(65536&e)){var u;i.At(),n===g?r&&"number"==typeof r.length?u=C(t).apply(this.G(),r):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(r)):u=C(t).call(n,r);var s=i.Ot();0==(65536&(e=i.H))&&(u===_?i.V(r):u===I?i.bn(u.e,!1):(T.checkForgottenReturns(u,s,"",i,this),i.W(u)))}},D.prototype.Y=function(){for(var t=this;t.st();)t=t.ot();return t},D.prototype.ot=function(){return this.Un},D.prototype.cr=function(t){this.Un=t},D.prototype.hr=function(t,n,r,e){var s=t instanceof D,o=this.H,c=0!=(134217728&o);0!=(65536&o)?(s&&t.Ct(),r instanceof E&&r.isFinallyHandler()?(r.cancelPromise=t,C(n).call(r,e)===I&&t.V(I.e)):n===i?t.yn(i.call(r)):r instanceof u?r.gn(t):s||t instanceof m?t.yt():r.cancel()):"function"==typeof n?s?(c&&t.$n(),this.ar(n,r,e,t)):n.call(r,e,t):r instanceof u?r.ln()||(0!=(33554432&o)?r.pn(e,t):r.mn(e,t)):s&&(c&&t.$n(),0!=(33554432&o)?t.yn(e):t.V(e))},D.prototype.Gn=function(t){var n=t.handler,r=t.promise,i=t.receiver,e=t.value;"function"==typeof n?r instanceof D?this.ar(n,i,e,r):n.call(i,e,r):r instanceof D&&r.V(e)},D.prototype.Xn=function(t){this.hr(t.promise,t.handler,t.receiver,t.value)},D.prototype.dr=function(t,n,r){var i=this.Vn,e=this.nr(0);this.Vn=void 0,this.qn=void 0,this.hr(i,t,e,n)},D.prototype.wr=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},D.prototype.yn=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(t===this){var i=r();return this.Rt(i),this.V(i)}this.zn(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},D.prototype.V=function(t){var n=this.H;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},D.prototype.yr=function(t,n){for(var r=1;r<t;r++){var i=this.ir(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},D.prototype.gr=function(t,n){for(var r=1;r<t;r++){var i=this.er(r),e=this.rr(r),u=this.nr(r);this.wr(r),this.hr(e,i,u,n)}},D.prototype.B=function(){var t=this.H,n=65535&t;if(n>0){if(0!=(16842752&t)){var r=this.Bn;this.dr(this.Un,r,t),this.gr(n,r)}else{var i=this.Un;this.dr(this.Bn,i,t),this.yr(n,i)}this.Kn(0)}this.Kt()},D.prototype.jt=function(){var t=this.H;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(D.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),D.defer=D.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new D(y);return{promise:t,resolve:N,reject:A}},c.notEnumerableProp(D,"_r",r),t("./method")(D,y,p,e,T),t("./bind")(D,y,p,T),t("./cancel")(D,m,e,T),t("./direct_resolve")(D),t("./synchronous_inspection")(D),t("./join")(D,m,p,y,h,s),D.Promise=D,D.version="3.5.5",t("./call_get.js")(D),t("./generators.js")(D,e,y,p,u,T),t("./map.js")(D,m,e,p,y,T),t("./nodeify.js")(D),t("./promisify.js")(D,y),t("./props.js")(D,m,p,e),t("./race.js")(D,y,p,e),t("./reduce.js")(D,m,e,p,y,T),t("./settle.js")(D,m,T),t("./some.js")(D,m,e),t("./timers.js")(D,y,T),t("./using.js")(D,e,p,b,y,T),t("./any.js")(D),t("./each.js")(D,y),t("./filter.js")(D,y),c.toFastProperties(D),c.toFastProperties(D.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new D(y)),T.setBounds(f.firstLineError,c.lastLineError),D}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,r){n.exports=function(n,r,i,e,u){var s=t("./util");function o(t){var i=this.un=new n(r);t instanceof n&&i.X(t,3),i.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.kt},o.prototype.promise=function(){return this.un},o.prototype._init=function t(r,u){var o=i(this.On,this.un);if(o instanceof n){var c=(o=o.Y()).H;if(this.On=o,0==(50397184&c))return this.un.$n(),o.j(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(o.Sn()):this.yt();o=o.En()}if(null!==(o=s.asArray(o)))0!==o.length?this.pr(o):-5===u?this.mr():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.un.bn(a,!1)}},o.prototype.pr=function(t){var r=this.getActualLength(t.length);this.kt=r,this.On=this.shouldCopyValues()?new Array(r):this.On;for(var e=this.un,u=!1,s=null,o=0;o<r;++o){var c=i(t[o],e);c instanceof n?(c=c.Y(),s=c.H):s=null,u?null!==s&&c.suppressUnhandledRejections():null!==s?0==(50397184&s)?(c.Tn(this,o),this.On[o]=c):u=0!=(33554432&s)?this.pn(c.En(),o):0!=(16777216&s)?this.mn(c.Sn(),o):this.gn(o):u=this.pn(c,o)}u||e.$n()},o.prototype.ln=function(){return null===this.On},o.prototype.Fn=function(t){this.On=null,this.un.yn(t)},o.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},o.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},o.prototype.pn=function(t,n){this.On[n]=t;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},o.prototype.gn=function(){return this.yt(),!0},o.prototype.mn=function(t){return this.Pn++,this.V(t),!0},o.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof n&&t[r].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,r){n.exports=function(n,r){var i={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={kr:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","kr"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.kr}catch(t){return!1}}function y(t,n,r){var i=e.getDataPropertyOrDefault(t,n+r,f);return!!i&&w(i)}function g(t,n,r,i){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var c=u[o],f=t[c],h=i===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!i(c,f,t,h)||s.push(c,f)}return function(t,n,r){for(var i=0;i<t.length;i+=2){var e=t[i];if(r.test(e))for(var u=e.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,r),s}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===i&&(e=this);var a=new n(r);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,s(arguments,h))}catch(t){a.bn(o(t),!0,!0)}return a.Wn()||a.$n(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"kr",!0),w};function m(t,n,r,u,s){for(var o=new RegExp(_(n)+"$"),c=g(t,n,o,r),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,i,h,v,n,s);else{var l=u(v,function(){return p(h,i,h,v,n,s)});e.notEnumerableProp(l,"kr",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var r=void 0===(n=d(n)).context?i:n.context,u=!!n.multiArgs,s=function(t,n,r){return p(t,n,void 0,t,null,r)}(t,r,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(n=d(n)).multiArgs,i=n.suffix;"string"!=typeof i&&(i="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=p),!e.isIdentifier(i))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),c=0;c<o.length;++c){var f=t[o[c]];"constructor"!==o[c]&&e.isClass(f)&&(m(f.prototype,i,u,s,r),m(f,i,u,s,r))}return m(t,i,u,s,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,r){n.exports=function(n,r,i,e){var u,s=t("./util"),o=s.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function r(r,i){this[t]=r,this[t+n]=i,t++}return function(i){n=i.size,t=0;var e=new Array(2*i.size);return i.forEach(r,e),e}}();function f(t){var n,r=!1;if(void 0!==u&&t instanceof u)n=a(t),r=!0;else{var i=c.keys(t),e=i.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=i[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.br=r,this._init$(void 0,r?-6:-3)}function h(t){var r,u=i(t);return o(u)?(r=u instanceof n?u.j(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&r.X(u,2),r):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,r),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var r=++this.Pn;if(r>=this.kt){var i;if(this.br)i=function(t){for(var n=new u,r=t.length/2|0,i=0;i<r;++i){var e=t[r+i],s=t[i];n.set(e,s)}return n}(this.On);else{i={};for(var e=this.length(),s=0,o=this.length();s<o;++s)i[this.On[s+e]]=this.On[s]}return this.Fn(i),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,r){function i(t){this.Tr=t,this.kt=0,this.Er=0}i.prototype.Sr=function(t){return this.Tr<t},i.prototype.M=function(t){var n=this.length();this.Rr(n+1);var r=this.Er+n&this.Tr-1;this[r]=t,this.kt=n+1},i.prototype.push=function(t,n,r){var i=this.length()+3;if(this.Sr(i))return this.M(t),this.M(n),void this.M(r);var e=this.Er+i-3;this.Rr(i);var u=this.Tr-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=r,this.kt=i},i.prototype.shift=function(){var t=this.Er,n=this[t];return this[t]=void 0,this.Er=t+1&this.Tr-1,this.kt--,n},i.prototype.length=function(){return this.kt},i.prototype.Rr=function(t){this.Tr<t&&this.Ir(this.Tr<<1)},i.prototype.Ir=function(t){var n=this.Tr;this.Tr=t;var r=this.Er,i=this.kt,e=r+i&n-1;!function(t,n,r,i,e){for(var u=0;u<e;++u)r[u+i]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=i},{}],27:[function(t,n,r){n.exports=function(n,r,i,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var c=i(t);if(c instanceof n)return s(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(r);void 0!==o&&a.X(o,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).j(f,h,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var o=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,r,i,e){this.constructor$(t);var s=o();this.Cr=null===s?r:c.domainBind(s,r),void 0!==i&&(i=n.resolve(i)).Yt(this),this.Dr=i,this.Nr=null,this.Ar=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,r,e){if("function"!=typeof n)return i("expecting a function but got "+c.classString(n));var u=new f(t,n,r,e);return u.promise()}function d(t){this.accum=t,this.array.Or(t);var r=e(this.value,this.array.un);return r instanceof n?(this.array.Nr=r,r.j(l,void 0,void 0,this,void 0)):l.call(this,r)}function l(t){var r,i=this.array,e=i.un,u=a(i.Cr);e.At(),(r=void 0!==i.Ar?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(i.Nr=r);var o=e.Ot();return s.checkForgottenReturns(r,o,void 0!==i.Ar?"Promise.each":"Promise.reduce",e),r}c.inherits(f,r),f.prototype.Or=function(t){void 0!==this.Ar&&null!==this.Ar&&t!==u&&this.Ar.push(t)},f.prototype.xr=function(t){return null!==this.Ar&&this.Ar.push(t),this.Ar},f.prototype._init=function(){},f.prototype.mr=function(){this.Fn(void 0!==this.Ar?this.Ar:this.Dr)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Dr)return this.yt();this.ln()||(this._resultCancelled$(),this.Nr instanceof n&&this.Nr.cancel(),this.Dr instanceof n&&this.Dr.cancel())},f.prototype.pr=function(t){var r,i;this.On=t;var e=t.length;if(void 0!==this.Dr?(r=this.Dr,i=0):(r=n.resolve(t[0]),i=1),this.Nr=r,!r.isRejected())for(;i<e;++i){var u={accum:null,value:t[i],index:i,length:e,array:this};r=r.j(d,void 0,void 0,u,void 0)}void 0!==this.Ar&&(r=r.j(this.xr,void 0,void 0,this,void 0)),r.j(h,h,void 0,r,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,r,i){return v(t,n,r,i)}}},{"./util":36}],29:[function(t,n,r){var u,s,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===i||!i.navigator||!i.navigator.standalone&&!i.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,r){n.exports=function(n,r,i){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,r),s.prototype.Pr=function(t,n){this.On[t]=n;var r=++this.Pn;return r>=this.kt&&(this.Fn(this.On),!0)},s.prototype.pn=function(t,n){var r=new e;return r.H=33554432,r.Lr=t,this.Pr(n,r)},s.prototype.mn=function(t,n){var r=new e;return r.H=16777216,r.Lr=t,this.Pr(n,r)},n.settle=function(t){return i.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,c={};function a(t){this.constructor$(t),this.Fr=0,this.Mr=!1,this.Br=!1}function f(t,n){if((0|n)!==n||n<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new a(t),e=r.promise();return r.setHowMany(n),r.init(),e}e.inherits(a,r),a.prototype._init=function(){if(this.Br)if(0!==this.Fr){this._init$(void 0,-5);var t=o(this.On);!this.ln()&&t&&this.Fr>this.Ur()&&this.V(this.Vr(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Br=!0,this._init()},a.prototype.setUnwrap=function(){this.Mr=!0},a.prototype.howMany=function(){return this.Fr},a.prototype.setHowMany=function(t){this.Fr=t},a.prototype.pn=function(t){return this.qr(t),this.jr()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.Mr?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Hr(t),this.Wr()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Hr(c),this.Wr())},a.prototype.Wr=function(){if(this.howMany()>this.Ur()){for(var t=new s,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.jr=function(){return this.Pn},a.prototype.$r=function(){return this.On.length-this.length()},a.prototype.Hr=function(t){this.On.push(t)},a.prototype.qr=function(t){this.On[this.Pn++]=t},a.prototype.Ur=function(){return this.length()-this.$r()},a.prototype.Vr=function(t){var n="Input array must contain at least "+this.Fr+" items but contains only "+t+" items";return new u(n)},a.prototype.mr=function(){this.V(this.Vr(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,r){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.H=t.H,this.Lr=t.Wn()?t.jt():void 0):(this.H=0,this.Lr=void 0)}n.prototype.jt=function(){return this.Lr};var r=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},i=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.H)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.H)},s=n.prototype.isPending=function(){return 0==(50397184&this.H)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.H)};n.prototype.isCancelled=function(){return 0!=(8454144&this.H)},t.prototype.zr=function(){return 65536==(65536&this.H)},t.prototype.Et=function(){return this.Y().zr()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().H)},t.prototype.isPending=function(){return s.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return o.call(this.Y())},t.prototype.value=function(){return r.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.zt(),i.call(t)},t.prototype.En=function(){return this.jt()},t.prototype.Sn=function(){return this.zt(),this.jt()},t.PromiseInspection=n}},{}],33:[function(t,n,r){n.exports=function(n,r){var i=t("./util"),e=i.errorObj,u=i.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){o&&o.At();var a=n.reject(c.e);return o&&o.Ot(),a}if("function"==typeof c){if(function(t){try{return s.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(r);return t.j(a.yn,a.V,void 0,a,null),a}return function(t,u,s){var o=new n(r),c=o;s&&s.At(),o.Xt(),s&&s.Ot();var a=!0,f=i.tryCatch(u).call(t,function(t){o&&(o.W(t),o=null)},function(t){o&&(o.bn(t,a,!0),o=null)});return a=!1,o&&f===e&&(o.bn(f.e,!0,!0),o=null),c}(t,c,o)}}return t}}},{"./util":36}],34:[function(t,n,r){n.exports=function(n,r,i){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).j(a,null,null,t,void 0),i.cancellation()&&e instanceof n&&u.J(e)):(u=new n(r),c=o(function(){u.yn()},+t),i.cancellation()&&u.J(new s(c)),u.Xt()),u.$n(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var r,c,a=new s(o(function(){r.isPending()&&function(t,n,r){var i;i="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(i),t.Rt(i),t.V(i),null!=r&&r.cancel()}(r,n,c)},t=+t));return i.cancellation()?(c=this.then(),(r=c.j(v,d,void 0,a,void 0)).J(a)):r=this.j(v,d,void 0,a,void 0),r}}},{"./util":36}],35:[function(t,n,r){n.exports=function(n,r,i,e,u,s){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){o(function(){throw t},0)}function w(t,r){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.yn();var c=function(t){var n=i(t);return n!==t&&"function"==typeof t.Xr&&"function"==typeof t.Gr&&t.Xr()&&n.Yr(t.Gr()),n}(t[e++]);if(c instanceof n&&c.Xr()){try{c=i(c.Gr().tryDispose(r),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.j(u,l,null,null,null)}u()}(),o}function y(t,n,r){this.Kr=t,this.un=n,this.Jr=r}function g(t,n,r){this.constructor$(t,n,r)}function _(t){return y.isDisposer(t)?(this.resources[this.index].Yr(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.Kr},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),r=this.Jr;void 0!==r&&r.At();var i=n!==d?this.doDispose(n,t):null;return void 0!==r&&r.Ot(),this.un.Qr(),this.Kr=null,i},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var r=this.data();return r.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var i=this[r];i instanceof n&&i.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return r("expecting a function but got "+c.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).Yr(l)}else{var g=i(d);g instanceof n&&(d=g.j(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var r=t[n];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void k.cancel();t[n]=r.value()}b.At(),u=v(u);var i=o?u.apply(void 0,t):u(t),e=b.Ot();return s.checkForgottenReturns(i,e,"Promise.using",b),i}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.Yr=function(t){this.H=131072|this.H,this.Zr=t},n.prototype.Xr=function(){return(131072&this.H)>0},n.prototype.Gr=function(){return this.Zr},n.prototype.Qr=function(){this.H=-131073&this.H,this.Zr=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,r,e){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==i?i:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,r){if(l(t))return t;var i={value:r,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,i),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var r=0;r<t.length;++r)if(t[r]===n)return!0;return!1};if(o.isES5){var r=d.getOwnPropertyNames;return function(t){for(var i=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=r(t)}catch(t){return i}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&i.push(c)}}t=o.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(r){if(n(r))return[];var e=[];t:for(var u in r)if(i.call(r,u))e.push(u);else{for(var s=0;s<t.length;++s)if(i.call(t[s],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,r=[],i=t[Symbol.iterator]();!(n=i.next()).done;)r.push(n.value);return r};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),D="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),r=o.isES5&&n.length>1,i=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(r||i||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,r){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var i=d.getOwnPropertyDescriptor(t,n);return null!=i?null==i.get&&null==i.set?i.value:r:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var r={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=n,n.prototype)r.call(n.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=n.prototype[i])}return i.prototype=n.prototype,t.prototype=new i,t.prototype},withAppended:function(t,n){var r,i=t.length,e=new Array(i+1);for(r=0;r<i;++r)e[r]=t[r];return e[r]=n,e},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,r){for(var i=new Array(t),e=0;e<t;++e)i[e]=n+e+r;return i},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.rn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,r){for(var i=o.names(t),e=0;e<i.length;++e){var u=i[e];if(r(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:D,env:function(t){return D?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),N.isNode&&N.toFastProperties(process);try{throw new h}catch(t){N.lastLineError=t}r.exports=N},{"./es5":13}]},{},[4])(4),null!=i?i.P=i.Promise:null!=t&&(t.P=t.Promise)});var D,N,A={ti:function(){function t(){this.ni=[]}var n=t.prototype;return n.ri=function(){},n.ii=function(t){return{ei:function(){return C.resolve()},ui:function(){}}},n.si=function(t){throw new h("Not implemented")},n.oi=function(t){return C.resolve()},n.ci=function(t){return C.resolve()},n.ai=function(t){},n.fi=function(){},t}(),hi:function(){function t(){}var n=t.prototype;return n.vi=function(){return C.resolve("all")},n.di=function(){},n.fi=function(){},t}(),li:{wi:function(t){getActiveDocument().addEventListener("unload",t)},yi:function(t){getActiveDocument().removeEventListener("unload",t)}},gi:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function O(t){N=t}Element.prototype.style={},b=(D=A).ti,T=D.hi,E=D.li,S=D.gi,R=S&&S.location,I=S&&S.navigator;var x,P=function(){},L=function(t){return t};(x=C)&&x.config({warnings:!1,longStackTraces:!1});var F,M,B,U,V,q;x&&(U=x.setScheduler(P),F=U,V={_i:function(t){M=t,F(B)},pi:B=function(){var t=M;t&&(M=void 0,t())}},x.setScheduler(V._i));function j(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function H(t,n,r){return n&&j(t.prototype,n),r&&j(t,r),t}function W(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}!function(t){t.mi="web",t.ki="android",t.bi="android-tv",t.Ti="ios",t.Ei="tvos",t.Si="chromecast"}(q||(q={}));var $=s?s.userAgent:"",z=$.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),X=$.match(/Android ([0-9\.]+)/i),G=$.match(/Windows NT ([0-9\.]+)/i),Y=$.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),K=$.match(/Firefox\/([0-9\.]+)/i),J=$.match(/OPR\/(\d+\.\d+)/i),Q=$.match(/Tizen ([0-9\.]+)/i),Z=function(){function n(){this.Ri=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ii=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test($)||/(macintosh|mac(?=_powerpc)\s)/i.test($),this.Ci=/Windows NT/i.test($),this.Di=G?y(G[1]):0,this.Ni=/Android/i.test($),this.Ai=X?y(X[1]):0,this.Oi=/windows phone (8|8\.1)/i.test($),this.xi=/iPhone/i.test($),this.Pi=/iPad/i.test($),this.Li=this.Ii&&this.Ri&&!this.Pi,this.Fi=/iPod/i.test($),this.Mi=/Mobile Safari/i.test($),this.Bi=(this.xi||this.Pi||this.Li||this.Fi)&&!this.Oi,this.Ui=this.Oi||this.Bi||this.Ni||this.Mi,this.Vi=/CriOS/i.test($),this.qi=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Vi,this.ji=z?w(z[1],10):0,this.Hi=/SMART-TV.*Tizen/i.test($),this.Wi=Q?y(Q[1]):0,this.$i=/webos|web0s/i.test($),this.zi=/Edge\/\d+/i.test($),this.Xi=/Trident/i.test($),this.Gi=this.Xi&&!t.ActiveXObject&&"ActiveXObject"in t,this.Yi=/Vivaldi/i.test($),this.Ki=/Firefox/i.test($)&&!/Seamonkey/i.test($),this.Ji=K?y(K[1]):0,this.Qi=/Safari/i.test($)&&!/Chrome/i.test($)&&!this.Oi&&!this.Hi,this.Zi=Y?y(Y[2]):0,this.te=Boolean(J),this.re=J?y(J[1]):0,this.ie="tvos"===q.bi,this.ee="tvos"===q.ki,this.ue=this.ee||this.ie,this.se="tvos"===q.Ti,this.oe="tvos"===q.Ei,this.ce="tvos"===q.Si}return H(n,[{key:"ae",get:function(){return this.Ri}},{key:"fe",get:function(){return this.Ii}},{key:"he",get:function(){return this.Ci}},{key:"ve",get:function(){return this.Di}},{key:"de",get:function(){return this.Ni}},{key:"we",get:function(){return this.Ai}},{key:"ye",get:function(){return this.Oi}},{key:"_e",get:function(){return this.xi}},{key:"pe",get:function(){return this.Pi}},{key:"me",get:function(){return this.Li}},{key:"ke",get:function(){return this.Fi}},{key:"be",get:function(){return this.Bi}},{key:"Te",get:function(){return this.Mi}},{key:"Ee",get:function(){return this.Ui}},{key:"Se",get:function(){return this.Vi}},{key:"Re",get:function(){return this.qi}},{key:"Ie",get:function(){return this.ji}},{key:"Ce",get:function(){return this.Hi}},{key:"De",get:function(){return this.Wi}},{key:"Ne",get:function(){return this.$i}},{key:"Ae",get:function(){return this.zi}},{key:"Oe",get:function(){return this.Xi}},{key:"xe",get:function(){return this.Gi}},{key:"Pe",get:function(){return this.Yi}},{key:"Le",get:function(){return this.Ki}},{key:"Fe",get:function(){return this.Ji}},{key:"Me",get:function(){return this.Qi}},{key:"Be",get:function(){return this.Zi}},{key:"Ue",get:function(){return this.te}},{key:"Ve",get:function(){return this.re}},{key:"qe",get:function(){return this.ie}},{key:"je",get:function(){return this.ee}},{key:"He",get:function(){return this.ue}},{key:"We",get:function(){return this.se}},{key:"$e",get:function(){return this.oe}},{key:"ze",get:function(){return this.ce}}]),n}();Z.Xe=new Z;var tt=Z.Xe,nt={}.hasOwnProperty,rt={}.toString;function it(t){return null!=t}var et=Array.isArray||function(t){return"[object Array]"===rt.call(t)};function ut(t){return st(t)&&nt.call(t,"length")&&ht(t.length)}function st(t){return"object"==typeof t&&null!==t}function ot(t){return st(t)&&t.constructor&&t.constructor===d}function ct(t){return"string"==typeof t}function at(t){return"boolean"==typeof t}function ft(t){return Boolean(t)&&"function"==typeof t.then}function ht(t){return"number"==typeof t}var vt=!(tt.Oe&&!tt.xe),dt=t.console;function lt(t){if(st(t))try{return JSON.stringify(t)}catch(t){}return t}function wt(t){return t.map(lt).join(" ")}function yt(t){var n=dt&&dt[t];return n?n.bind&&vt?n.bind(dt):function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];dt[t](wt(r))}:void 0}var gt,_t=yt("log")||P,pt=yt("warn")||_t.bind(void 0,"WARNING:"),mt=yt("error")||_t.bind(void 0,"ERROR:"),kt=(gt=dt&&dt.assert)?gt.bind&&vt?gt.bind(dt):function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];dt.assert(t,wt(r))}:function(t){if(!t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];mt.apply(void 0,["Assertion failed:"].concat(r))}},bt=Et,Tt=null;try{Tt=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Et(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function St(t){return!0===(t&&t.Ge)}Et.prototype.Ge,d.defineProperty(Et.prototype,"Ge",{value:!0}),Et.isLong=St;var Rt={},It={};function Ct(t,n){var r,i,e;return n?(e=0<=(t>>>=0)&&t<256)&&(i=It[t])?i:(r=Nt(t,(0|t)<0?-1:0,!0),e&&(It[t]=r),r):(e=-128<=(t|=0)&&t<128)&&(i=Rt[t])?i:(r=Nt(t,t<0?-1:0,!1),e&&(Rt[t]=r),r)}function Dt(t,n){if(g(t))return n?Ut:Bt;if(n){if(t<0)return Ut;if(t>=Lt)return Wt}else{if(t<=-Ft)return $t;if(t+1>=Ft)return Ht}return t<0?Dt(-t,n).neg():Nt(t%Pt|0,t/Pt|0,n)}function Nt(t,n,r){return new Et(t,n,r)}Et.fromInt=Ct,Et.fromNumber=Dt,Et.fromBits=Nt;var At=l.pow;function Ot(t,n,r){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Bt;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw h("interior hyphen");if(0===i)return Ot(t.substring(1),n,r).neg();for(var e=Dt(At(r,8)),u=Bt,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),c=w(t.substring(s,s+o),r);if(o<8){var a=Dt(At(r,o));u=u.mul(a).add(Dt(c))}else u=(u=u.mul(e)).add(Dt(c))}return u.unsigned=n,u}function xt(t,n){return"number"==typeof t?Dt(t,n):"string"==typeof t?Ot(t,n):Nt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Et.fromString=Ot,Et.fromValue=xt;var Pt=4294967296,Lt=Pt*Pt,Ft=Lt/2,Mt=Ct(1<<24),Bt=Ct(0);Et.ZERO=Bt;var Ut=Ct(0,!0);Et.UZERO=Ut;var Vt=Ct(1);Et.ONE=Vt;var qt=Ct(1,!0);Et.UONE=qt;var jt=Ct(-1);Et.NEG_ONE=jt;var Ht=Nt(-1,2147483647,!1);Et.MAX_VALUE=Ht;var Wt=Nt(-1,-1,!0);Et.MAX_UNSIGNED_VALUE=Wt;var $t=Nt(0,-2147483648,!1);Et.MIN_VALUE=$t;var zt=Et.prototype;zt.toInt=function(){return this.unsigned?this.low>>>0:this.low},zt.toNumber=function(){return this.unsigned?(this.high>>>0)*Pt+(this.low>>>0):this.high*Pt+(this.low>>>0)},zt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($t)){var n=Dt(t),r=this.div(n),i=r.mul(n).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Dt(At(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),c=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},zt.getHighBits=function(){return this.high},zt.getHighBitsUnsigned=function(){return this.high>>>0},zt.getLowBits=function(){return this.low},zt.getLowBitsUnsigned=function(){return this.low>>>0},zt.getNumBitsAbs=function(){if(this.isNegative())return this.eq($t)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},zt.isZero=function(){return 0===this.high&&0===this.low},zt.eqz=zt.isZero,zt.isNegative=function(){return!this.unsigned&&this.high<0},zt.isPositive=function(){return this.unsigned||this.high>=0},zt.isOdd=function(){return 1==(1&this.low)},zt.isEven=function(){return 0==(1&this.low)},zt.equals=function(t){return St(t)||(t=xt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},zt.eq=zt.equals,zt.notEquals=function(t){return!this.eq(t)},zt.neq=zt.notEquals,zt.ne=zt.notEquals,zt.lessThan=function(t){return this.comp(t)<0},zt.lt=zt.lessThan,zt.lessThanOrEqual=function(t){return this.comp(t)<=0},zt.lte=zt.lessThanOrEqual,zt.le=zt.lessThanOrEqual,zt.greaterThan=function(t){return this.comp(t)>0},zt.gt=zt.greaterThan,zt.greaterThanOrEqual=function(t){return this.comp(t)>=0},zt.gte=zt.greaterThanOrEqual,zt.ge=zt.greaterThanOrEqual,zt.compare=function(t){if(St(t)||(t=xt(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},zt.comp=zt.compare,zt.negate=function(){return!this.unsigned&&this.eq($t)?$t:this.not().add(Vt)},zt.neg=zt.negate,zt.add=function(t){St(t)||(t=xt(t));var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=i+o)>>>16,c+=(a+=r+s)>>>16,c+=n+u,Nt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},zt.subtract=function(t){return St(t)||(t=xt(t)),this.add(t.neg())},zt.sub=zt.subtract,zt.multiply=function(t){if(this.isZero())return Bt;if(St(t)||(t=xt(t)),Tt)return Nt(Tt.mul(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned);if(t.isZero())return Bt;if(this.eq($t))return t.isOdd()?$t:Bt;if(t.eq($t))return this.isOdd()?$t:Bt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Mt)&&t.lt(Mt))return Dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,i=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=i*c)>>>16,h&=65535,f+=(h+=e*o)>>>16,a+=(f+=r*c)>>>16,f&=65535,a+=(f+=i*o)>>>16,f&=65535,a+=(f+=e*s)>>>16,a+=n*c+r*o+i*s+e*u,Nt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},zt.mul=zt.multiply,zt.divide=function(t){if(St(t)||(t=xt(t)),t.isZero())throw h("division by zero");var n,r,i;if(Tt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Nt((this.unsigned?Tt.div_u:Tt.div_s)(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ut:Bt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ut;if(t.gt(this.shru(1)))return qt;i=Ut}else{if(this.eq($t))return t.eq(Vt)||t.eq(jt)?$t:t.eq($t)?Vt:(n=this.shr(1).div(t).shl(1)).eq(Bt)?t.isNegative()?Vt:jt:(r=this.sub(t.mul(n)),i=n.add(r.div(t)));if(t.eq($t))return this.unsigned?Ut:Bt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=Bt}for(r=this;r.gte(t);){n=l.max(1,l.floor(r.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:At(2,e-48),s=Dt(n),o=s.mul(t);o.isNegative()||o.gt(r);)o=(s=Dt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Vt),i=i.add(s),r=r.sub(o)}return i},zt.div=zt.divide,zt.modulo=function(t){return St(t)||(t=xt(t)),Tt?Nt((this.unsigned?Tt.rem_u:Tt.rem_s)(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},zt.mod=zt.modulo,zt.rem=zt.modulo,zt.not=function(){return Nt(~this.low,~this.high,this.unsigned)},zt.and=function(t){return St(t)||(t=xt(t)),Nt(this.low&t.low,this.high&t.high,this.unsigned)},zt.or=function(t){return St(t)||(t=xt(t)),Nt(this.low|t.low,this.high|t.high,this.unsigned)},zt.xor=function(t){return St(t)||(t=xt(t)),Nt(this.low^t.low,this.high^t.high,this.unsigned)},zt.shiftLeft=function(t){return St(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Nt(0,this.low<<t-32,this.unsigned)},zt.shl=zt.shiftLeft,zt.shiftRight=function(t){return St(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Nt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},zt.shr=zt.shiftRight,zt.shiftRightUnsigned=function(t){if(St(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Nt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Nt(32===t?n:n>>>t-32,0,this.unsigned)},zt.shru=zt.shiftRightUnsigned,zt.shr_u=zt.shiftRightUnsigned,zt.toSigned=function(){return this.unsigned?Nt(this.low,this.high,!1):this},zt.toUnsigned=function(){return this.unsigned?this:Nt(this.low,this.high,!0)},zt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},zt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},zt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Et.fromBytes=function(t,n,r){return r?Et.fromBytesLE(t,n):Et.fromBytesBE(t,n)},Et.fromBytesLE=function(t,n){return new Et(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Et.fromBytesBE=function(t,n){return new Et(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Xt=bt,Gt=l.pow(2,-52);function Yt(t,n,r){return l.min(l.max(t,n),r)}function Kt(t,n,r){return t===n||l.abs(t-n)<=r}function Jt(t,n){for(var r=t,i=n;0!==i;){var e=r%i;r=i,i=e}return r<0?-r:r}function Qt(){return Date.now()||(new Date).getTime()}function Zt(t){return t/1e3}var tn;Xt.fromNumber(9007199254740991);function nn(t){return t.Ye===tn.Ke}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ke=1]="Ke",t[t.Je=2]="Je",t[t.Qe=3]="Qe",t[t.Ze=4]="Ze",t[t.tu=9]="tu"}(tn||(tn={}));var en=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h.apply(this,n)};(en.prototype=d.create(h.prototype)).constructor=en;var un=function(t){function n(n,r){var i;return(i=t.call(this)||this).message=n||"Unknown error",i.cause=r,h.captureStackTrace&&h.captureStackTrace(rn(i),i.constructor),i}return W(n,t),H(n,[{key:"name",get:function(){return"BaseError"}}]),n}(en),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return W(n,t),n}(un),on=function(){function t(){}return t.prototype.nu=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new ln(n)},t}(),cn=function(){function t(t){this.ru=t}var n=t.prototype;return n.iu=function(t){return this.ru.isEqualNode(t.ru)},n.eu=function(n){return new t(this.ru.cloneNode(n))},H(t,[{key:"Ye",get:function(){return tn.Je}},{key:"uu",get:function(){var t;return null!==(t=this.ru.localName)&&void 0!==t?t:gn(this.ru.nodeName)}},{key:"su",get:function(){return this.ru.nodeName}},{key:"ou",get:function(){var t;return null!==(t=this.ru.namespaceURI)&&void 0!==t?t:void 0}},{key:"cu",get:function(){var t;return null!==(t=this.ru.prefix)&&void 0!==t?t:void 0}},{key:"au",get:function(){return this.ru.nodeValue}}]),t}(),an=function(){function t(t){this.fu=void 0,this.hu=t}var n=t.prototype;return n.vu=function(t){return this.du.filter(function(n){return wn(n)&&n.lu===t})},n.wu=function(t,n){return this.du.filter(function(r){return wn(r)&&r.uu===n&&r.ou===t})},n.yu=function(t){this.hu.appendChild(t.gu),this.fu&&this.fu.push(t)},n.iu=function(t){return this.hu.isEqualNode(t.gu)},H(t,[{key:"du",get:function(){return void 0===this.fu&&(this.fu=function(t){for(var n=[],r=0;r<t.length;r++){var i=yn(t.item(r));i&&n.push(i)}return n}(this.hu.childNodes)),this.fu}},{key:"_u",get:function(){return this.du.filter(wn)}},{key:"gu",get:function(){return this.hu}}]),t}(),fn=function(t){function n(n){return t.call(this,n)||this}W(n,t);var r=n.prototype;return r.pu=function(t){if(this.hu.hasAttribute(t))return this.hu.getAttribute(t)},r.mu=function(t,n){if(this.hu.hasAttributeNS(t,n))return this.hu.getAttributeNS(t,n)},r.ku=function(t){this.hu.removeAttribute(t)},r.bu=function(t,n){this.hu.removeAttributeNS(t,n)},r.Tu=function(t,n){this.hu.setAttribute(t,n)},r.Eu=function(t,n,r){this.hu.setAttributeNS(t,n,r)},r.eu=function(t){return new n(this.hu.cloneNode(t))},H(n,[{key:"Ye",get:function(){return tn.Ke}},{key:"uu",get:function(){var t;return null!==(t=this.hu.localName)&&void 0!==t?t:gn(this.hu.nodeName)}},{key:"ou",get:function(){var t;return null!==(t=this.hu.namespaceURI)&&void 0!==t?t:void 0}},{key:"cu",get:function(){var t;return null!==(t=this.hu.prefix)&&void 0!==t?t:void 0}},{key:"lu",get:function(){return this.hu.nodeName}},{key:"Su",get:function(){return function(t){for(var n=[],r=0;r<t.length;r++)n.push(new cn(t.item(r)));return n}(this.hu.attributes)}},{key:"Ru",get:function(){return this.hu.textContent}}]),n}(an),hn=function(){function t(t){this.hu=t}return t.prototype.iu=function(t){return this.Iu===t.Iu},H(t,[{key:"Iu",get:function(){return this.hu.nodeValue}},{key:"gu",get:function(){return this.hu}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.eu=function(t){return new n(this.hu.cloneNode(t))},H(n,[{key:"Ye",get:function(){return tn.Qe}}]),n}(hn),dn=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.eu=function(t){return new n(this.hu.cloneNode(t))},H(n,[{key:"Ye",get:function(){return tn.Ze}}]),n}(hn),ln=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.eu=function(t){return new n(this.hu.cloneNode(t))},H(n,[{key:"Ye",get:function(){return tn.tu}},{key:"Cu",get:function(){return new fn(this.hu.documentElement)}}]),n}(an);function wn(t){return nn(t)}function yn(t){switch(t.nodeType){case tn.Ke:return new fn(t);case tn.Qe:return new vn(t);case tn.Ze:return new dn(t)}}function gn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function _n(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function pn(t,n){var r=function(t,n){var r=t.length;if(r<=1)return t;for(var i=new Array(r),e=1;e<r;e*=2){mn(t,n,e,i);var u=t;t=i,i=u}return t}(t,n);return r!==t&&mn(r,null,t.length,t),t}function mn(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(e=0;e<a;e+=h)for(s=(u=e+r)+r,u>a&&(u=a),s>a&&(s=a),o=e,c=u;;)if(o<u&&c<s)n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<u)i[f++]=t[o++];else{if(!(c<s))break;i[f++]=t[c++]}}var kn=/[a-zA-Z]/,bn=/[0-9]/,Tn=/[0-9a-fA-F]/,En=/^0x/i,Sn=/^[0-9]+$/,Rn=/^[0-9a-fA-F]+$/,In=/^[0-7]+$/,Cn=d.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},Nn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function An(t){return Dn(t)?t:Array.from(t)}function On(t){return t>=65&&t<=90}function xn(t){return On(t)||function(t){return t>=97&&t<=122}(t)}function Pn(t){return t>=48&&t<=57}function Ln(t){return Pn(t)||xn(t)}function Fn(t){return Pn(t)||t>=65&&t<=70||t>=97&&t<=102}function Mn(t){return On(t)?t+32:t}function Bn(t){return Pn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Un(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Vn=l.min,qn=String.fromCharCode,jn=16384;function Hn(t){for(var n=t.length,r=[],i=0;i<n;i+=jn){var e=Vn(i+jn,n);r.push(qn.apply(null,t.slice(i,e)))}return r.join("")}var Wn=/[^\0-\x7E]/,$n=/[\x2E\u3002\uFF0E\uFF61]/g,zn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Xn=l.floor,Gn=String.fromCharCode;function Yn(t){throw new RangeError(zn[t])}function Kn(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}var Jn,Qn,Zn,tr=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},nr=function(t,n,r){var i=0;for(t=r?Xn(t/700):t>>1,t+=Xn(t/n);t>455;i+=36)t=Xn(t/35);return Xn(i+36*t/(t+38))},rr=function(t){return function(t,n){var r=t.split("@"),i="";r.length>1&&(i=r[0]+"@",t=r[1]);var e=function(t,n){for(var r=[],i=t.length;i--;)r[i]=n(t[i]);return r}((t=t.replace($n,".")).split("."),n).join(".");return i+e}(t,function(t){return Wn.test(t)?"xn--"+function(t){for(var n=[],r=(t=Kn(t)).length,i=128,e=0,u=72,s=0,o=t;s<o.length;s++){var c=o[s];c<128&&n.push(Gn(c))}var a=n.length,f=a;for(a&&n.push("-");f<r;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=i&&l<h&&(h=l)}var w=f+1;h-i>Xn((2147483647-e)/w)&&Yn("overflow"),e+=(h-i)*w,i=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<i&&++e>2147483647&&Yn("overflow"),_==i){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Gn(tr(k+b%T,0))),p=Xn(b/T)}n.push(Gn(tr(p,0))),u=nr(e,w,f==a),e=0,++f}}++e,++i}return n.join("")}(t):t})};function ir(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Hn(n)}function er(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ur(t,n){return t>>n&63|128}function sr(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(er(t),n.push(t>>12&15|224),n.push(ur(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ur(t,12)),n.push(ur(t,6))),n.push(63&t|128)):n.push(t)}function or(t){for(var n=[],r=0;r<t.length;r++){sr(t[r],n)}return n}function cr(){if(Zn>=Qn)throw new h("Invalid byte index");var t=255&Jn[Zn];if(Zn++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function ar(){var t,n;if(Zn>Qn)throw new h("Invalid byte index");if(Zn===Qn)return!1;if(t=255&Jn[Zn],Zn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|cr())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|cr()<<6|cr())>=2048)return er(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|cr()<<12|cr()<<6|cr())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function fr(t){return[37,Un(t>>4),Un(15&t)]}function hr(t){return function(t){return t>=0&&t<=31}(t)||t>126}function vr(t){return hr(t)||32===t||34===t||60===t||62===t||96===t}function dr(t){return vr(t)||35===t||63===t||123===t||125===t}function lr(t){return dr(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function wr(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yr(t){return wr(t)||39===t}function gr(t,n){if(!n(t))return[t];for(var r=or([t]),i=[],e=0;e<r.length;e++){var u=r[e];i.push.apply(i,fr(u))}return i}function _r(t,n){for(var r=[],i=0,e=Kn(t);i<e.length;i++){var u=e[i];r.push.apply(r,gr(u,n))}return ir(r)}function pr(t){return function(t){for(var n=[],r=t.length,i=0;i<r;i++){var e=t[i];if(37===e&&i+2<r&&Fn(t[i+1])&&Fn(t[i+2])){var u=Bn(t[i+1])<<4|Bn(t[i+2]);n.push(u),i+=2}else n.push(e)}return n}(or(t))}function mr(t){return ir(function(t){Jn=t.slice(),Qn=Jn.length,Zn=0;for(var n,r=[];!1!==(n=ar());)r.push(n);return r}(pr(Kn(t))))}function kr(t){var n,r,i,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=o+=1}for(;a<u;){if(8===o)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&Tn.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,o>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!bn.test(t[a]))throw new v;for(;a<u&&bn.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;s[o]=f,o+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=o+=1}}if(null!==c){var g=o-c;for(o=7;0!==o&&g>0;)i=c+g-1,e=void 0,e=(n=s)[r=o],n[r]=n[i],n[i]=e,o-=1,g-=1}else if(8!==o)throw new v;return s}function br(t){var n=10,r=Sn;return En.test(t)?(t=t.slice(2),n=16,r=Rn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,r=In),""===t?0:r.test(t)?w(t,n):void 0}var Tr={Du:4},Er=/[\0\t\n\r #%/:?@\[\\\]]/,Sr=/[\0\t\n\r #/:?@\[\\\]]/;function Rr(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Du:2,Nu:kr(t.slice(1,-1))}}if(!n)return function(t){if(Sr.test(t))throw new v("Invalid code point in opaque host");var n=_r(t,hr);return""===n?Tr:{Du:3,Kr:n}}(t);var r=function(t){return function(t){return rr(t.toLowerCase())}(t)}(mr(t));if(Er.test(r))throw new v("Invalid code point in host");var i=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var r=[],i=0;i<n.length;i++){var e=n[i];if(""===e)return;var u=br(e);if(void 0===u)return;r.push(u)}for(var s=0;s<r.length-1;s++)if(r[s]>255)throw new v;if(r[r.length-1]>=l.pow(256,5-r.length))throw new v;for(var o=r.pop(),c=0;c<r.length;c++)o+=r[c]*l.pow(256,3-c);return o}}(r);return void 0!==i?{Du:1,Nu:i}:""===r?Tr:{Du:0,Au:r}}function Ir(t){switch(t.Du){case 0:return t.Au;case 1:return function(t){for(var n=[],r=t,i=1;i<=4;i++)n.push(""+(255&r)),4!==i&&n.push("."),r>>>=8;return n.reverse().join("")}(t.Nu);case 2:return"["+function(t){for(var n="",r=function(t){for(var n=0,r=0,i=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(i=u),e++):(e>r&&(n=i,r=e),e=0);return e>r&&(n=i,r=e),r>1?n:null}(t),i=!1,e=0;e<8;e++){if(i){if(0===t[e])continue;i=!1}r!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",i=!0)}return n}(t.Nu)+"]";case 3:return t.Kr;case 4:return""}}var Cr=/\+/g;function Dr(t){for(var n=t.split("&"),r=[],i=0;i<n.length;i++){var e=n[i];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Cr," "),o=o.replace(Cr," ");var c=mr(s),a=mr(o);r.push([c,a])}}return r}function Nr(t){for(var n="",r=0;r<t.length;r++){var i=t[r];r>0&&(n+="&"),n+=Ar(or(Kn(i[0])))+"="+Ar(or(Kn(i[1])))}return n}function Ar(t){for(var n,r=[],i=0;i<t.length;i++){var e=t[i];32===e?r.push(43):42===(n=e)||45===n||46===n||95===n||Ln(n)?r.push(e):r.push.apply(r,fr(e))}return Hn(r)}var Or=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function xr(t){var n=""+t,r=Or.exec(n);return r?function(t,n){for(var r=t.length,i=[],e=n;e<r;e++){var u=t.charCodeAt(e);if(Lr(u))if(Fr(u)||e===r-1)i.push(Pr);else{var s=t.charCodeAt(e+1);Fr(s)?(i.push(u,s),e++):i.push(Pr)}else i.push(u)}return t.slice(0,n)+Hn(i)}(n,r.index):n}var Pr=65533,Lr=function(t){return 55296==(63488&t)},Fr=function(t){return 0!=(1024&t)};function Mr(t,n){var r=t[0],i=n[0];return r===i?0:r<i?-1:1}function Br(t){t.Ou.length=0}function Ur(t,n){!function(t,n){for(var r=0;r<n.length;r++)t[r]=n[r];t.length=n.length}(t.Ou,Dr(n))}function Vr(t){if(t.xu){var n=Nr(t.Ou);""===n&&(n=null),t.xu.xu.Pu=n}}var qr=function(){function t(t){if(void 0===t&&(t=void 0),this.xu=null,null==t)this.Ou=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof qr&&Dn(u.Ou)&&(!Nn||u[Symbol.iterator]===jr))this.Ou=t.Ou.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!Nn&&"function"==typeof t[Symbol.iterator])}(t)){this.Ou=[];for(var n=0,r=An(t);n<r.length;n++){var i=An(r[n]);if(2!==i.length)throw new v("Invalid name-value pair");this.Ou.push([xr(i[0]),xr(i[1])])}}else for(var e in this.Ou=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Ou.push([xr(e),xr(t[e])]);else(t=xr(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ou=Dr(t);var u}var n=t.prototype;return n.append=function(t,n){t=xr(t),n=xr(n),this.Ou.push([t,n]),Vr(this)},n.delete=function(t){t=xr(t);for(var n=this.Ou,r=0;r<n.length;){n[r][0]===t?n.splice(r,1):r++}Vr(this)},n.get=function(t){t=xr(t);for(var n=this.Ou,r=0;r<n.length;r++){var i=n[r];if(i[0]===t)return i[1]}return null},n.getAll=function(t){t=xr(t);for(var n=this.Ou,r=[],i=0;i<n.length;i++){var e=n[i];e[0]===t&&r.push(e[1])}return r},n.has=function(t){t=xr(t);for(var n=this.Ou,r=0;r<n.length;r++){if(n[r][0]===t)return!0}return!1},n.set=function(t,n){t=xr(t),n=xr(n);for(var r=this.Ou,i=!1,e=0;e<r.length;){var u=r[e];u[0]===t?i?r.splice(e,1):(u[1]=n,i=!0,e++):e++}i||r.push([t,n]),Vr(this)},n.sort=function(){pn(this.Ou,Mr),Vr(this)},n.toString=function(){return Nr(this.Ou)},n.entries=function(){return new zr(this.Ou,Hr)},n.keys=function(){return new zr(this.Ou,Wr)},n.values=function(){return new zr(this.Ou,$r)},n.forEach=function(t){var n=this;this.Ou.forEach(function(r){return t(r[1],r[0],n)})},t}(),jr=qr.prototype.entries;Nn&&(qr.prototype[Symbol.iterator]=jr);var Hr=function(t){return[t[0],t[1]]},Wr=function(t){return t[0]},$r=function(t){return t[1]},zr=function(){function t(t,n){this.Lu=0,this.Ou=t,this.Fu=n}return t.prototype.next=function(){return this.Lu<this.Ou.length?{done:!1,value:this.Fu(this.Ou[this.Lu++])}:{done:!0,value:void 0}},t}(),Xr="null";var Gr=d.create(null);Gr.ftp=21,Gr.file=0,Gr.gopher=70,Gr.http=80,Gr.https=443,Gr.ws=80,Gr.wss=443;var Yr=/^(?:\.|%2e)$/i,Kr=/^(?:\.|%2e){2}$/i;function Jr(t){return Yr.test(t)}function Qr(t){return Kr.test(t)}function Zr(t){return void 0!==Gr[t]}function ti(t){return Zr(t.Mu)}function ni(t){return""!==t.Bu||""!==t.Uu}function ri(t){var n=t.length;if(!(n>=2))return!1;if(!ei(t.slice(0,2)))return!1;if(2!==n){var r=t[2];if(47!==r&&92!==r&&63!==r&&35!==r)return!1}return!0}function ii(t){return 2===t.length&&kn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ei(t){return 2===t.length&&ii(Hn(t))}function ui(t){return ii(t)&&":"===t[1]}function si(t){var n=t.Vu;0!==n.length&&("file"===t.Mu&&1===n.length&&ui(n[0])||n.pop())}function oi(t){return null===t.qu||Tr===t.qu||t.ju||"file"===t.Mu}var ci=-1,ai=/\t|\n|\r/g,fi=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function hi(t,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),r||(r=new di,t=t.replace(fi,""));var e=null!==i?i:0;n=n||null;for(var u=[],s=!1,o=!1,c=!1,a=Kn(t=t.replace(ai,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:ci;switch(e){case 0:if(!xn(d)){if(null===i){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Mn(d)),e=1;break;case 1:if(Ln(d)||43===d||45===d||46===d)u.push(Mn(d));else{if(58!==d){if(null===i){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=ir(u);if(null!==i){if(Zr(r.Mu)&&!Zr(l))return;if(!Zr(r.Mu)&&Zr(l))return;if((ni(r)||null!==r.Hu)&&"file"===l)return;if("file"===r.Mu&&(r.qu===Tr||null===r.qu))return}if(r.Mu=l,null!==i)return void(ti(r)&&r.Hu===Gr[r.Mu]&&(r.Hu=null));u.length=0,"file"===r.Mu?e=13:ti(r)&&n&&n.Mu===r.Mu?e=3:ti(r)?e=7:47===a[h+1]?(e=4,h+=1):(r.ju=!0,r.Vu.push(""),e=18)}break;case 2:if(!n||n.ju&&35!==d)throw new v("Invalid scheme");n.ju&&35===d?(r.Mu=n.Mu,r.Vu=n.Vu.slice(),r.Pu=n.Pu,r.Wu="",r.ju=!0,e=20):"file"!==n.Mu?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:r.Mu=n.Mu,ci===d?(r.Bu=n.Bu,r.Uu=n.Uu,r.qu=n.qu,r.Hu=n.Hu,r.Vu=n.Vu.slice(),r.Pu=n.Pu):47===d?e=6:63===d?(r.Bu=n.Bu,r.Uu=n.Uu,r.qu=n.qu,r.Hu=n.Hu,r.Vu=n.Vu.slice(),r.Pu="",e=19):35===d?(r.Bu=n.Bu,r.Uu=n.Uu,r.qu=n.qu,r.Hu=n.Hu,r.Vu=n.Vu.slice(),r.Pu=n.Pu,r.Wu="",e=20):92===d&&ti(r)?e=6:(r.Bu=n.Bu,r.Uu=n.Uu,r.qu=n.qu,r.Hu=n.Hu,r.Vu=n.Vu.slice(),r.Vu.pop(),e=17,h-=1);break;case 6:!ti(r)||47!==d&&92!==d?47===d?e=9:(r.Bu=n.Bu,r.Uu=n.Uu,r.qu=n.qu,r.Hu=n.Hu,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=ir(gr(g,lr));c?r.Uu+=_:r.Bu+=_}else c=!0}u.length=0}else if(ci===d||47===d||63===d||35===d||ti(r)&&92===d){if(s&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==i&&"file"===r.Mu)h-=1,e=15;else if(58!==d||o)if(ci===d||47===d||63===d||35===d||ti(r)&&92===d){if(h-=1,ti(r)&&0===u.length)throw new v("Invalid host");if(null!==i&&0===u.length&&(ni(r)||null!==r.Hu))return;var p=Rr(ir(u),ti(r));if(r.qu=p,u.length=0,e=16,null!==i)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Rr(ir(u),ti(r));if(r.qu=m,u.length=0,e=12,11===i)return}break;case 12:if(Pn(d))u.push(d);else{if(!(ci===d||47===d||63===d||35===d||ti(r)&&92===d||null!==i))throw new v("Invalid port");if(0!==u.length){var k=w(ir(u),10);if(k>65535)throw new v("Invalid port");r.Hu=k===Gr[r.Mu]?null:k,u.length=0}if(null!==i)return;e=16,h-=1}break;case 13:r.Mu="file",47===d||92===d?e=14:n&&"file"===n.Mu?ci===d?(r.qu=n.qu,r.Vu=n.Vu.slice(),r.Pu=n.Pu):63===d?(r.qu=n.qu,r.Vu=n.Vu.slice(),r.Pu="",e=19):35===d?(r.qu=n.qu,r.Vu=n.Vu.slice(),r.Pu=n.Pu,r.Wu="",e=20):(ri(a.slice(h))||(r.qu=n.qu,r.Vu=n.Vu.slice(),si(r)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Mu&&!ri(a.slice(h))&&(ui(n.Vu[0])?r.Vu.push(n.Vu[0]):r.qu=n.qu),e=17,h-=1);break;case 15:if(ci===d||47===d||92===d||63===d||35===d)if(h-=1,null===i&&ei(u))e=17;else if(0===u.length){if(r.qu=Tr,null!==i)return;e=16}else{var b=Rr(ir(u),ti(r));if(0===b.Du&&"localhost"===b.Au&&(b=Tr),r.qu=b,null!==i)return;u.length=0,e=16}else u.push(d);break;case 16:ti(r)?(e=17,47!==d&&92!==d&&(h-=1)):null===i&&63===d?(r.Pu="",e=19):null===i&&35===d?(r.Wu="",e=20):ci!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(ci===d||47===d||ti(r)&&92===d||null===i&&(63===d||35===d)){var T=ir(u);if(Qr(T)?(si(r),47===d||ti(r)&&92===d||r.Vu.push("")):!Jr(T)||47===d||ti(r)&&92===d?Jr(T)||("file"===r.Mu&&0===r.Vu.length&&ei(u)&&(Tr!==r.qu&&null!==r.qu&&(r.qu=Tr),u[1]=58,T=ir(u)),r.Vu.push(T)):r.Vu.push(""),u.length=0,"file"===r.Mu&&(ci===d||63===d||35===d))for(;r.Vu.length>1&&""===r.Vu[0];)r.Vu.shift();63===d?(r.Pu="",e=19):35===d&&(r.Wu="",e=20)}else u.push.apply(u,gr(d,dr));break;case 18:63===d?(r.Pu="",e=19):35===d?(r.Wu="",e=20):ci!==d&&(r.Vu[0]+=ir(gr(d,hr)));break;case 19:null===i&&35===d?(r.Wu="",e=20):ci!==d&&(r.Pu+=ir(gr(d,ti(r)?yr:wr)));break;case 20:ci===d||0===d||(r.Wu+=ir(gr(d,vr)))}h++}return r}function vi(t,n,r,i){try{hi(t,n,r,i)}catch(t){}}var di=function(){this.Mu="",this.Bu="",this.Uu="",this.qu=null,this.Hu=null,this.Vu=[],this.Pu=null,this.Wu=null,this.ju=!1};function li(t){switch(t.Mu){case"blob":var n;try{n=hi(t.Vu[0],null)}catch(t){return Xr}return li(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return r=t.Mu,i=t.qu,e=t.Hu,r+"://"+Ir(i)+(null===e?"":":"+e);case"file":default:return Xr}var r,i,e}var wi=function(){function t(t,n){var r,i,e=null;if(null!=n)if(null!=(r=n)&&r instanceof wi&&"object"==typeof r.xu)e=n.xu;else try{e=hi(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{i=hi(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=i.Pu;this.xu=i,this.Pu=function(t){var n=new qr;return null!==t&&Ur(n,t),n}(u),this.Pu.xu=this}var n,r,i,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(r=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var r=t.Mu+":";if(null!==t.qu?(r+="//",ni(t)&&(r+=t.Bu,""!==t.Uu&&(r+=":"+t.Uu),r+="@"),r+=Ir(t.qu),null!==t.Hu&&(r+=":"+t.Hu)):null===t.qu&&"file"===t.Mu&&(r+="//"),t.ju)r+=t.Vu[0];else for(var i=0,e=t.Vu;i<e.length;i++)r+="/"+e[i];return null!==t.Pu&&(r+="?"+t.Pu),n||null===t.Wu||(r+="#"+t.Wu),r}(this.xu)},set:function(t){var n;try{n=hi(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.xu=n,Br(this.Pu);var r=this.xu.Pu;null!==r&&Ur(this.Pu,r)}},{key:"origin",get:function(){return li(this.xu)}},{key:"protocol",get:function(){return this.xu.Mu+":"},set:function(t){vi(t+":",null,this.xu,0)}},{key:"username",get:function(){return this.xu.Bu},set:function(t){oi(this.xu)||(this.xu.Bu=_r(t,lr))}},{key:"password",get:function(){return this.xu.Uu},set:function(t){oi(this.xu)||(this.xu.Uu=_r(t,lr))}},{key:"host",get:function(){var t=this.xu,n=t.qu;if(null===n)return"";var r=t.Hu,i=Ir(n);return null!==r&&(i+=":"+r),i},set:function(t){this.xu.ju||vi(t,null,this.xu,10)}},{key:"hostname",get:function(){var t=this.xu.qu;return null===t?"":Ir(t)},set:function(t){this.xu.ju||vi(t,null,this.xu,11)}},{key:"port",get:function(){var t=this.xu.Hu;return null===t?"":""+t},set:function(t){oi(this.xu)||(""===t?this.xu.Hu=null:vi(t,null,this.xu,12))}},{key:"pathname",get:function(){var t=this.xu.Vu;return this.xu.ju?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.xu.ju||(this.xu.Vu.length=0,vi(t,null,this.xu,16))}},{key:"search",get:function(){var t=this.xu.Pu;return null===t||""===t?"":"?"+t},set:function(t){t=xr(t);var n=this.xu;if(""===t)return n.Pu=null,void Br(this.Pu);"?"===t[0]&&(t=t.slice(1)),n.Pu="",vi(t,null,n,19),Ur(this.Pu,t)}},{key:"searchParams",get:function(){return this.Pu}},{key:"hash",get:function(){var t=this.xu.Wu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.xu.Wu="",vi(t,null,this.xu,20)):this.xu.Wu=null}}])&&_n(n.prototype,r),i&&_n(n,i),t}();function yi(t,n,r){return t.split(n).join(r)}function gi(t,n){return null!=t&&-1!==t.indexOf(n)}function _i(t,n){return null!=t&&t.substr(0,n.length)===n}function pi(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function mi(t,n){return t.toUpperCase()===n.toUpperCase()}function ki(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return Ti(n)}var bi=16384;function Ti(t){var n=t.length;if(n<=bi)return String.fromCharCode.apply(String,t);for(var r=[],i=0;i<n;i+=bi)r.push(String.fromCharCode.apply(String,t.slice(i,i+bi)));return r.join("")}function Ei(t,n){for(var r=0,i=d.keys(n);r<i.length;r++){var e=i[r];t.searchParams.set(e,n[e])}}function Si(t,n){var r=N.$u(t);return n&&!pi(r,"/")&&(r+="/"),r}var Ri,Ii=/cache:(.+)?(?=&|$)/,Ci="http://webcache.googleusercontent.com/search?q=cache:";function Di(t){if(!_i(t,Ci))return"";var n=N.zu(t).search.match(Ii);return n&&n.length>1?n[1]:""}function Ni(t){return t.document&&t.document.baseURI||t.location.href||""}function Ai(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Oi(t,n){var r=n.style;if(r)for(var i in t)r[i]=t[i]}function xi(){return void 0!==e?e.createElement("video"):void 0}function Pi(){return Ri||(Ri=xi()),Ri}var Li=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Fi=Pi(),Mi=!(!Fi||!Fi.webkitShowPlaybackTargetPicker),Bi=function(){function t(){this.Xu=void 0,this.Gu=!1,this.ae=Li,this.Ee=!1,this.Yu=!0}var n=t.prototype;return n.Ku=function(){return 0},n.Ju=function(t,n){return!0},n.Qu=function(t){return t>=1/6*2},H(t,[{key:"Zu",get:function(){return void 0===this.Xu&&(this.Xu=this.Ku()),this.Xu}},{key:"ts",get:function(){return i.devicePixelRatio||1}},{key:"rs",get:function(){return Mi}},{key:"es",get:function(){return!1}},{key:"us",get:function(){return!0}},{key:"ss",get:function(){return tt.Me}},{key:"os",get:function(){return!0}}]),t}(),Ui=function(){var t=xi();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(tt.me)return!1;var t=xi();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Vi=function(t){function n(n){var r;return(r=t.call(this)||this).cs=n,r.cs&&(r.Gu=r.cs.Gu,r.ae=r.cs.ae,r.Yu=Ui&&r.cs.Yu),r}W(n,t);var r=n.prototype;return r.Ku=function(){return this.cs?this.cs.Zu:t.prototype.Ku.call(this)},r.Ju=function(n,r){return this.cs?this.cs.Ju(n,r):t.prototype.Ju.call(this,n,r)},r.Qu=function(n){return this.cs?this.cs.Qu(n):t.prototype.Qu.call(this,n)},n}(Bi),qi=function(t){function n(n){var r;return(r=t.call(this,n)||this).Gu=!0,r.Ee=!0,r}return W(n,t),n}(Vi),ji=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Ku=function(){return S.MediaSource?t.prototype.Ku.call(this):1},n}(qi),Hi=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Ju=function(n,r){return!(r.as>1920)&&t.prototype.Ju.call(this,n,r)},H(n,[{key:"es",get:function(){return tt.De<3}},{key:"us",get:function(){return tt.De>=3}}]),n}(Vi),Wi=function(t){function n(){return t.call(this)||this}return W(n,t),n}(Bi),$i=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Ju=function(t,n){if(t&&t.fs&&n&&n.fs){var r=zi(t.fs,"mp4a.40.2")&&zi(n.fs,"mp4a.40.5"),i=zi(t.fs,"mp4a.40.5")&&zi(n.fs,"mp4a.40.2"),e=zi(t.fs,"mp4a.40.2")&&zi(n.fs,"mp4a.40.34"),u=zi(t.fs,"mp4a.40.34")&&zi(n.fs,"mp4a.40.2"),s=zi(t.fs,"mp4a.40.5")&&zi(n.fs,"mp4a.40.34"),o=zi(t.fs,"mp4a.40.34")&&zi(n.fs,"mp4a.40.5");return!(r||i||e||u||s||o)}return!0},n}(Wi);function zi(t,n){return t.indexOf(n)>-1}var Xi=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Qu=function(t){return t>=2},n}(Wi),Gi=function(t){function n(){var n;return(n=t.call(this)||this).Gu=tt.Be>=11,n.Yu=tt.Me&&!(tt.be&&tt.Be<10),n}return W(n,t),n}(Wi),Yi=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),H(n,[{key:"os",get:function(){return!1}}]),n}(Vi),Ki=function(){function n(){var n;this.hs=new on,this.vs=new Ji,this.ds=(n=function(){if(tt.Le)return new $i;if(tt.Ae||tt.Oe)return new Xi;if(tt.Me)return new Gi;return new Wi}(),tt.be?new ji(n):tt.Ee?new qi(n):tt.Ce?new Hi(n):tt.Ne?new Yi(n):new Vi(n)),this.ls=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ys=function(){return t.performance.now()}:this.ys=Qt}var r=n.prototype;return r.gs=function(){_t.apply(void 0,arguments)},r._s=function(){pt.apply(void 0,arguments)},r.ps=function(){mt.apply(void 0,arguments)},r.ks=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];kt.apply(void 0,[t].concat(r))},r.bs=function(t,n){return o(t,n)},r.Ts=function(t,n){return a(t,n)},r.Es=function(t){c(t)},r.Ss=function(t){f(t)},r.nu=function(t){return this.hs.nu(t)},r.Rs=function(){return this.Is.Rs()},r.Cs=function(){return this.Is.Cs()},r.Ds=function(){return this.Is.Ds()},r.Ns=function(){return this.Is.Ns()},r.As=function(){return this.Is.As()},r.Os=function(t,n){return this.Is.Os(t,n)},r.xs=function(t){return this.Is.xs(t)},r.zu=function(t,n){return void 0===n&&(n=Ni(S)),new wi(t,n)},r.$u=function(n,r){if(void 0===r&&(r=Ni(S)),this.ls){var i=ct(r)?r:r.toString();return new t.URL(n,i).href}return this.zu(n,r).href},H(n,[{key:"Ps",get:function(){return this.vs}},{key:"Ls",get:function(){return this.ds}},{key:"Fs",get:function(){return{Ms:s&&s.userAgent.match(/Android /i)?"Android":"other",Bs:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Us",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),Ji=function(){function t(){}return H(t,[{key:"Vs",get:function(){return s.oscpu}},{key:"Ls",get:function(){return s.platform}},{key:"qs",get:function(){return s.vendor}},{key:"js",get:function(){return s.vendorSub}}]),t}();var Qi=k(function(t){!function(t){var n,r=d.prototype,i=r.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function c(t,n,r,i){var e=n&&n.prototype instanceof p?n:p,u=d.create(e.prototype),s=new A(i||[]);return u.Hs=function(t,n,r){var i=f;return function(e,u){if(i===w)throw new h("Generator is already running");if(i===y){if("throw"===e)throw u;return x()}for(r.method=e,r.arg=u;;){var s=r.delegate;if(s){var o=C(s,r);if(o){if(o===_)continue;return o}}if("next"===r.method)r.sent=r.Ws=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=w;var c=a(t,n,r);if("normal"===c.type){if(i=r.done?y:l,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}(t,r,s),u}function a(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==r&&i.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Hs(n,t)}})}function I(t){var n;this.Hs=function(r,e){function u(){return new Promise(function(n,u){!function n(r,e,u,s){var o=a(t[r],t,e);if("throw"!==o.type){var c=o.arg,f=c.value;return f&&"object"==typeof f&&i.call(f,"$s")?Promise.resolve(f.$s).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,s)})}s(o.arg)}(r,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,r){var i=t.iterator[r.method];if(i===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,C(t,r),"throw"===r.method))return _;r.method="throw",r.arg=new v("The iterator does not provide a 'throw' method")}return _}var e=a(i,t.iterator,r.arg);if("throw"===e.type)return r.method="throw",r.arg=e.arg,r.delegate=null,_;var u=e.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,_):u:(r.method="throw",r.arg=new v("iterator result is not an object"),r.delegate=null,_)}function D(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function N(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(D,this),this.reset(!0)}function O(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,s=function r(){for(;++e<t.length;)if(i.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=n,r.done=!0,r};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[o]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{$s:t}},R(I.prototype),I.prototype[s]=function(){return this},t.AsyncIterator=I,t.async=function(n,r,i,e){var u=new I(c(n,r,i,e));return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[o]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var i=n.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ws=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!g(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(i,e){return o.type="throw",o.arg=t,r.next=i,e&&(r.method="next",r.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),a=i.call(s,"finallyLoc");if(c&&a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var e=i.arg;N(r)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:O(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function Zi(){return(Zi=d.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)d.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function te(){var t=d.create(null);return t.__=void 0,delete t.__,t}function ne(){return new ue}function re(t){var n=ne();for(var r in t)nt.call(t,r)&&n.set(r,t[r]);return n}var ie,ee="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ue=ee||(ie=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=te(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=te(),this.size=0},n.keys=function(){return new ie(this.data,function(t,n){return n})},n.values=function(){return new ie(this.data,function(t,n){return t[n]})},n.entries=function(){return new ie(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var se,oe=ee||(se=function(){function t(t,n){this.Xs=t,this.Gs=n}var n=t.prototype;return n.next=function(){var t=this.Xs.next();return t.done?t:{value:this.Gs(t.value),done:!1}},t}(),function(){function t(){this.Ys=ne()}var n=t.prototype;return n.get=function(t){return this.Ys.get(""+t)},n.set=function(t,n){return this.Ys.set(""+t,n),this},n.has=function(t){return this.Ys.has(""+t)},n.delete=function(t){return this.Ys.delete(""+t)},n.clear=function(){this.Ys.clear()},n.keys=function(){return new se(this.Ys.keys(),function(t){return Number(t)})},n.values=function(){return this.Ys.values()},n.entries=function(){return new se(this.Ys.entries(),function(t){var n=t[0],r=t[1];return[Number(n),r]})},n.forEach=function(t){this.Ys.forEach(function(n,r){t(n,Number(r))})},H(t,[{key:"size",get:function(){return this.Ys.size}}]),t}());var ce,ae="cenc",fe="sinf",he="skd",ve="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",de="com.microsoft.playready",le="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",we="urn:uuid:"+le,ye="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ge="urn:uuid:"+ye,_e="com.apple.fps.1_0";!function(t){t.Ks="playready",t.Js="widevine",t.Qs="fairplay",t.Zs="clearkey",t.to="aes128"}(ce||(ce={}));var pe={ro:ce.Ks,io:de,eo:"cenc",uo:"9a04f079-9840-4286-ab92-e65be0885f95",so:ve,oo:"PlayReady"},me={ro:ce.Js,io:"com.widevine.alpha",eo:"cenc",uo:le,so:we,oo:"Widevine"},ke={ro:ce.Qs,io:_e,eo:"skd",uo:ye,so:ge,oo:"FairPlay"},be=(ce.Qs,{ro:ce.Zs,io:"org.w3.clearkey",eo:"cenc",uo:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",so:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",oo:"ClearKey"}),Te=tt.Re&&tt.Ie>=42||tt.Le&&tt.Fe>=38||tt.Ae||tt.xe||tt.Ue&&tt.Ve>=29;function Ee(t,n){return gi(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Zi({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Zi({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Se=function(){function t(t){this.co=ne(),this.ao=void 0,this.fo=t}var n=t.prototype;return n.As=function(){return this.xs(me)},n.Cs=function(){return this.xs(be)},n.Ns=function(){return this.xs(pe)},n.Ds=function(){return this.xs(ke)},n.xs=function(t){var n=t.so,r=this.co.get(n);if(r)return r;var i=this.Os(t,'video/mp4; codecs="avc1.42000a"');return this.co.set(n,i),i},n.Os=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fo.ho(n.io,[Ee(r,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.fo.ho(n.io,[Ee(r,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.Rs=function(){return this.ao||(this.ao=this.vo()),this.ao},n.vo=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Te){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Cs();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Re(t,n){var r=function(t,n){var r=t,i=r.length;if(i<=1)return r;for(var e=new Array(i),u=1;u<i;u*=2){Ie(r,n,u,e);var s=r;r=e,e=s}return r}(t,n);return r!==t&&Ie(r,void 0,t.length,t),t}function Ie(t,n,r,i){var e,u,s,o,c,a=t.length,f=0,h=2*r;for(u=0;u<a;u+=h)for(e=(s=u+r)+r,s>a&&(s=a),e>a&&(e=a),o=u,c=s;;)if(o<s&&c<e)n&&n(t[o],t[c])<=0?i[f++]=t[o++]:i[f++]=t[c++];else if(o<s)i[f++]=t[o++];else{if(!(c<e))break;i[f++]=t[c++]}}function Ce(t,n,r){var i=function(t,n,r){for(var i=0;i<t.length;i+=1){var e=t[i];if(n.call(r,e,i,t))return i}return-1}(t,n,r);return-1===i?void 0:t[i]}function De(t,n){var r=t.indexOf(n);return-1!==r&&(Ne(t,r),!0)}function Ne(t,n){t.splice(n,1)}function Ae(t,n){return-1!==t.indexOf(n)}function Oe(t){t.length=0}var xe=function(){function t(){this.do=!1,this.lo=!1,this.wo=[],this.yo=[]}var n=t.prototype;return n._o=function(){if(!this.do&&!this.lo){this.do=!0;for(var t=0,n=this.wo.slice();t<n.length;t++){(0,n[t])()}this.po()}},n.po=function(){if(!this.lo){this.lo=!0;for(var t=0,n=this.yo.slice();t<n.length;t++){(0,n[t])()}Oe(this.wo),Oe(this.yo)}},n.mo=function(t){this.lo||this.wo.push(t)},n.ko=function(t){this.lo||De(this.wo,t)},n.bo=function(t){this.lo||this.yo.push(t)},n.To=function(t){this.lo||De(this.yo,t)},t}(),Pe=function(){function t(){this.Eo=new xe}var n=t.prototype;return n.So=function(){this.Eo._o()},n.po=function(){this.Eo.po()},n.Ro=function(t){var n=this.Eo;if(!n.do)if(t.do)n._o();else if(!n.lo&&!t.lo){var r=function(){i(),n._o()},i=function i(){t.ko(r),t.To(i),n.ko(r),n.To(i)};t.mo(r),t.bo(i),n.mo(r),n.bo(i)}},n.Io=function(){var n=new t,r=new t,i=n.Co,e=r.Co,u=this.Eo,s=function(){i.do&&e.lo||e.do&&i.lo?u._o():i.lo&&e.lo&&u.po()};i.mo(s),e.mo(s),i.bo(s),e.bo(s),n.Ro(u),r.Ro(u);return u.bo(function(){i.ko(s),e.ko(s),i.To(s),e.To(s)}),[n,r]},H(t,[{key:"Co",get:function(){return this.Eo}}]),t}(),Le=function(t){function n(n,r){return t.call(this,n||"Aborted",r)||this}return W(n,t),H(n,[{key:"name",get:function(){return"AbortError"}}]),n}(un);function Fe(t){return t instanceof h&&"AbortError"===t.name}function Me(t){if(t&&t.do)throw new Le}function Be(t){if(Fe(t))throw t}function Ue(t){if(!Fe(t))throw t}function Ve(t,n){return n?new C(function(r,i){if(n.do)return t.catch(P),i(new Le);var e=function t(){n.ko(t),i(new Le)};n.mo(e),t.then(function(t){n.ko(e),r(t)},function(t){n.ko(e),i(t)})}):t}function qe(t,n){return t.then(function(t){return n.po(),t},function(t){throw n.po(),t})}var je=C.resolve();function He(t){je.then(t)}function We(t){t.then(P,P)}function $e(t){return ze.apply(this,arguments)}function ze(){return(ze=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(P)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Xe(t){return t&&"function"!=typeof t?t.slice():t}function Ge(t,n,r){if(r)if("function"==typeof r)r.call(t,n);else for(var i=0;i<r.length;i++){r[i].call(t,n)}}var Ye,Ke=function(){function t(t){var n=this;this.Do=te(),this.No=void 0,this.Ao=function(t){n.Oo(t)},this.xo=t||this}var n=t.prototype;return n.Po=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Lo(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.Lo(i,n)}},n.Lo=function(t,n){var r=this.Do[t];r?"function"==typeof r?this.Do[t]=[r,n]:r.push(n):this.Do[t]=n},n.Fo=function(t){if("function"==typeof t){var n=this.No;n?"function"==typeof n?this.No=[n,t]:n.push(t):this.No=t}},n.Mo=function(){this.Do=te(),this.No=void 0},n.Oo=function(t){var n=Xe(this.Do[t.type]),r=Xe(this.No);Ge(this.xo,t,n),Ge(this.xo,t,r)},n.Bo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Uo(t,n);else for(var r=0;r<t.length;r++){var i=t[r];this.Uo(i,n)}},n.Uo=function(t,n){var r=this.Do[t];r&&("function"==typeof r?r===n&&(this.Do[t]=void 0):De(r,n))},n.Vo=function(t){if("string"==typeof t)this.Do[t]=void 0;else for(var n=0;n<t.length;n++){var r=t[n];this.Do[r]=void 0}},n.qo=function(t){var n=this.No;n&&("function"==typeof n?n===t&&(this.No=void 0):De(n,t))},n.jo=function(t,n){var r=this;return new C(function(i,e){if(n&&n.do)return e(new Le);var u=function(t){o(),i(t)},s=function(){o(),e(new Le)},o=function(){r.Bo(t,u),n&&n.ko(s)};r.Po(t,u),n&&n.mo(s)})},t}(),Je=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Oo=function(n){var r=this;He(function(){t.prototype.Oo.call(r,n)})},n}(Ke),Qe=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ze=["cenc"],tu=["cbcs","cbcs-1-9"],nu=function(t){function n(n){var r;return(r=t.call(this,"Wo")||this).Ho=n,r}return W(n,t),n}(Qe),ru=function(t){function n(n,r,i,e){var u;return(u=t.call(this,"$o")||this).Ho=n,u.zo=r,u.$o=i,u.Xo=e,u}return W(n,t),n}(Qe),iu=function(t){function n(){return t.call(this,"Go")||this}return W(n,t),n}(Qe);!function(t){t.Yo="Ko",t.Jo="Qo"}(Ye||(Ye={}));var eu=function(t){function n(n,r){var i;return(i=t.call(this,Ye.Yo)||this).eo=n,i.Zo=r,i}return W(n,t),n}(Qe),uu=new _([0]).buffer,su=function(){function t(){this.tc=[]}var n=t.prototype;return n.nc=function(t){for(var n=0,r=this.tc;n<r.length;n++){if(r[n][0]===t)return!0}return!1},n.rc=function(t){for(var n=0,r=this.tc;n<r.length;n++){var i=r[n];if(i[0]===t)return i[1]}},n.ic=function(t,n){this.tc.forEach(function(n){return t(n[1],n[0])},n)},n.ec=function(t,n){this.tc.push([t,n])},n.uc=function(){Oe(this.tc)},H(t,[{key:"sc",get:function(){return this.tc.length}}]),t}(),ou="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),cu=16383,au=/[\t\n\f\r ]/g;function fu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:hu()}function hu(){throw new h("Invalid base64 input")}function vu(t){var n=t;au.test(n)&&(n=n.replace(au,""));var r=n.length;r%4==0&&r>=1&&"="===n[r-1]&&(r>=2&&"="===n[r-2]?r-=2:r-=1,n=n.substr(0,r));var i=r%4;if(1===i)return hu();for(var e,u=0===i?0:4-i,s=new _(function(t,n){return 3*(t+n)/4-n}(r,u)),o=u>0?r-4:r,c=0,a=0;c<o;c+=4)e=fu(n.charCodeAt(c))<<18|fu(n.charCodeAt(c+1))<<12|fu(n.charCodeAt(c+2))<<6|fu(n.charCodeAt(c+3)),s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=255&e;return 2===u?(e=fu(n.charCodeAt(c))<<2|fu(n.charCodeAt(c+1))>>4,s[a++]=255&e):1===u&&(e=fu(n.charCodeAt(c))<<10|fu(n.charCodeAt(c+1))<<4|fu(n.charCodeAt(c+2))>>2,s[a++]=e>>8&255,s[a++]=255&e),s}function du(t,n,r){for(var i,e,u,s=[],o=n;o<r;o+=3)s.push((i=t[o],e=t[o+1],u=t[o+2],ou[i>>2]+ou[(3&i)<<4|e>>4]+ou[(15&e)<<2|u>>6]+ou[63&u]));return s.join("")}function lu(t){for(var n=t.length,r=n%3,i=[],e=n-r,u=0;u<e;u+=cu)i.push(du(t,u,l.min(e,u+cu)));if(1===r){var s=t[n-1];i.push(ou[s>>2]+ou[(3&s)<<4]+"==")}else if(2===r){var o=t[n-2],c=t[n-1];i.push(ou[o>>2]+ou[(3&o)<<4|c>>4]+ou[(15&c)<<2]+"=")}return i.join("")}var wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],yu=ArrayBuffer.isView||function(t){return t&&Ae(wu,rt.call(t))};function gu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}(new _(t),new _(n))}function _u(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var r=new _(n),i=0,e=0;e<t.length;e++){var u=t[e];r.set(u,i),i+=u.byteLength}return r}(t,n)}function pu(t){return vu(t).buffer}function mu(t){return lu(new _(t))}function ku(t){return lu(Xu(t))}var bu=function(){function t(t){void 0===t&&(t=0),this.oc=t}var n=t.prototype;return n.cc=function(t){this.oc+=t},n.ac=function(t){this.oc=t},n.fc=function(){return new t(this.hc)},H(t,[{key:"hc",get:function(){return this.oc}}]),t}();function Tu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Eu(t,n){return t>>n&63|128}function Su(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Tu(t),n.push(t>>12&15|224),n.push(Eu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Eu(t,12)),n.push(Eu(t,6))),n.push(63&t|128)):n.push(t)}function Ru(t,n){if(n.hc>=t.length)throw new h("Invalid byte index");var r=255&t[n.hc];if(n.cc(1),128==(192&r))return 63&r;throw new h("Invalid continuation byte")}function Iu(t,n){var r=n.hc;if(r>t.length)throw new h("Invalid byte index");if(r===t.length)return!1;var i=255&t[r];if(n.cc(1),0==(128&i))return i;if(192==(224&i)){var e=(31&i)<<6|Ru(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&i)){var u=(15&i)<<12|Ru(t,n)<<6|Ru(t,n);if(u>=2048)return Tu(u),u;throw new h("Invalid continuation byte")}if(240==(248&i)){var s=(7&i)<<18|Ru(t,n)<<12|Ru(t,n)<<6|Ru(t,n);if(s>=65536&&s<=1114111)return s}throw new h("Invalid UTF-8 detected")}var Cu=65279;var Du=function(){function t(t){this.vc=t}return t.prototype.dc=function(t){return function(t,n){return(t&n)===n}(this.vc,t)},t}();function Nu(t,n){var r=t.getUint8(n.hc);return n.cc(1),r}function Au(t,n,r){t.setUint8(n.hc,r),n.cc(1)}function Ou(t,n,r){var i=Zu(ns(t),n.hc,n.hc+r);return n.cc(i.byteLength),i}function xu(t,n,r){return n.hc+r<=t.byteLength}function Pu(t,n,r){void 0===r&&(r=!1);var i=t.getUint16(n.hc,r);return n.cc(2),i}function Lu(t,n,r,i){void 0===i&&(i=!1),t.setUint16(n.hc,r,i),n.cc(2)}function Fu(t,n,r){void 0===r&&(r=!1);var i=t.getUint32(n.hc,r);return n.cc(4),i}function Mu(t,n,r,i){void 0===i&&(i=!1),t.setUint32(n.hc,r,i),n.cc(4)}function Bu(t,n,r){void 0===r&&(r=!1);var i=Fu(t,n,r),e=Fu(t,n,r),u=r?e:i,s=r?i:e;return Xt.fromBits(s,u,!0)}function Uu(t,n){var r=Nu(t,n);if(r)return String.fromCharCode(r)}function Vu(t,n){return function(t,n){return Hu(t,n,!0)}(t,n)}function qu(t,n,r){for(var i="",e=0;e<r;e++)i+=Uu(t,n);return i}function ju(t,n){var r,i=Nu(t,n);return 0==(128&i)?r=i:192==(224&i)?r=64*(31&i)+(63&Nu(t,n)):224==(240&i)?r=4096*(15&i)+64*(63&Nu(t,n))+(63&Nu(t,n)):240==(248&i)&&(r=262144*(7&i)+4096*(63&Nu(t,n))+64*(63&Nu(t,n))+(63&Nu(t,n))),r}function Hu(t,n,r){for(var i=[];n.hc<t.byteLength;){var e=Nu(t,n);if(r&&!e)break;i.push(e)}return Ti(i)}function Wu(t,n,r,i){for(var e=[];n.hc+2<=t.byteLength;){var u=Pu(t,n,r);if(i&&!u)break;e.push(u)}return Ti(e)}function $u(t,n,r,i){void 0===i&&(i=!1);for(var e=r.length,u=0;u<e;u+=1){Lu(t,n,r.charCodeAt(u),i)}}function zu(t){return Hu(ts(t),new ss,!1)}function Xu(t){var n=new _(t.length);return function(t,n,r){for(var i=r.length,e=0;e<i;e+=1)Au(t,n,r.charCodeAt(e))}(ts(n),new ss,t),n}function Gu(t,n){return void 0===n&&(n=!1),Wu(ts(t),new ss,n,!1)}function Yu(t,n){void 0===n&&(n=!1);var r=new _(2*t.length);return $u(ts(r),new ss,t,n),r}function Ku(t,n){return function(t,n,r){var i=[];(function(t,n){return n.hc+3<=t.byteLength&&239===t.getUint8(n.hc)&&187===t.getUint8(n.hc+1)&&191===t.getUint8(n.hc+2)})(t,n)&&n.cc(3);for(;n.hc<t.byteLength;){var e=ju(t,n);if(void 0===e)break;if(r&&0===e)break;i.push(e)}return ki(i)}(t,n,!0)}function Ju(t){return ki(function(t,n){var r,i=[],e=new ss;if(!n){if(!1===(r=Iu(t,e)))return i;r===Cu||i.push(r)}for(;!1!==(r=Iu(t,e));)i.push(r);return i}(ns(t)))}function Qu(t){return new _(function(t){for(var n=[],r=0;r<t.length;r++)Su(t[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t)))}function Zu(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),new _(t.buffer,t.byteOffset+n,r-n)}function ts(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ns(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function rs(t){return t instanceof ArrayBuffer||yu(t)}function is(t){return t instanceof ArrayBuffer?new _(t):ns(t)}function es(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),t.slice?t.slice(n,r):us(Zu(t,n,r))}function us(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var ss=function(){function t(t){void 0===t&&(t=0),this.oc=t}var n=t.prototype;return n.cc=function(t){this.oc+=t},n.ac=function(t){this.oc=t},n.fc=function(){return new t(this.hc)},n.lc=function(){return new bu(this.hc<<3)},H(t,[{key:"hc",get:function(){return this.oc}}]),t}(),os=function(){function t(){var t=this;this.wc=new C(function(n,r){t.Fn=n,t.V=r})}var n=t.prototype;return n.yc=function(t){this.Fn&&(this.Fn(t),this.po())},n.gc=function(t){this.V&&(this.V(t),this.po())},n.So=function(){this.wc.catch(P),this.gc(new Le)},n.po=function(){this.Fn=void 0,this.V=void 0},t}();function cs(){return new _([8,4]).buffer}function as(t){return gu(t,cs())}function fs(t,n){return t===de?function(t){if(t.byteLength<2*hs.length)return t;if(Gu(new DataView(t,0,2*hs.length),!0)===hs)return t;return n=t,Yu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+mu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var hs="<PlayReady";var vs=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,e)||this)._c=r,u.pc=i,u}return W(n,t),n}(un),ds=function(t){function n(n,r){var i;(i=t.call(this)||this).mc=n,i.kc=r,i.bc=!1,i.Tc=function(){i.Ec()},i.Sc=function(t){i.Oo(new ru(rn(i),t.messageType,fs(i.kc,t.message)))},i.Rc=function(){i.bc=!0,i.Ic.sc>0&&(i.Ic.uc(),i.Oo(new nu(rn(i)))),i.mc.removeEventListener("keystatuseschange",i.Tc),i.mc.removeEventListener("message",i.Sc)},i.mc.addEventListener("keystatuseschange",i.Tc),i.mc.addEventListener("message",i.Sc),i.Ic=new su;var e=[];return i.mc.closed&&e.push(C.resolve(i.mc.closed)),i.Cc=new os,e.push(i.Cc.wc),i.Dc=C.race(e).then(i.Rc),i.Ec(),i}W(n,t);var r=n.prototype;return r.Nc=function(){if(this.bc)return this.Dc;var t,n,r=[];return r.push(C.resolve(this.mc.close())),r.push((t=1e3,new C(function(r,i){if(void 0!==n&&n.do)i(new Le);else{var e=N.bs(function(){void 0!==n&&n.ko(u),r()},t),u=function(){N.Es(e),i(new Le)};void 0!==n&&n.mo(u)}}))),this.Cc.yc(C.race(r).catch(ls)),this.bc=!0,this.Dc},r.Ac=function(t,n,r){return C.resolve(this.mc.generateRequest(t,n)).catch(ls)},r.Oc=function(t){return C.resolve(this.mc.load(t)).catch(ls)},r.xc=function(){return C.resolve(this.mc.remove()).catch(ls)},r.Pc=function(t){return C.resolve(this.mc.update(t)).catch(ls)},r.Ec=function(){var t=this;this.Ic.uc(),this.mc.keyStatuses.forEach(function(n,r){t.Lc(r,n)}),this.Oo(new nu(this))},r.Lc=function(t,n){if("string"==typeof t){var r=t;t=n,n=r}var i=is(t);if(this.kc===de&&16===i.byteLength){var e=ts(i),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.kc===de&&"status-pending"===n&&(n="usable"),this.Ic.ec(i,n)},H(n,[{key:"Fc",get:function(){return this.Dc}},{key:"Mc",get:function(){return this.mc.expiration}},{key:"Bc",get:function(){return this.Ic}},{key:"Uc",get:function(){return this.mc.sessionId}}]),n}(Ke);function ls(t){var n;if(t.message){var r=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);r&&(n=0|w(r[1],16))}throw new vs(t.message,void 0,n,t)}var ws=function(){function t(t,n){this.Vc=t,this.kc=n}var n=t.prototype;return n.qc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ds(this.Vc.createSession(n),this.kc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jc=function(t){return C.resolve(this.Vc.setServerCertificate(t))},n.Hc=function(t){return C.resolve(t.setMediaKeys(this.Vc))},n.Wc=function(t){return C.resolve(t.setMediaKeys(null))},t}(),ys=function(){function t(t,n,r){this.$c=t,this.kc=n,this.zc=r}var n=t.prototype;return n.Xc=function(){var t=C.coroutine(Qi.mark(function t(){var n;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$c.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new ws(n,this.kc));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Gc=function(){return this.zc},H(t,[{key:"Yc",get:function(){return this.$c.keySystem}}]),t}(),gs=function(){function t(){}return t.prototype.ho=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.filter(function(t){return!t.Kc}),t.next=3,s.requestMediaKeySystemAccess(n,r);case 3:return i=t.sent,e=i.getConfiguration(),t.abrupt("return",new ys(i,n,e));case 6:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),t.Jc=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),_s=function(t){function n(n,r){var i;return(i=t.call(this)||this).Qc=n,i.Zc=r,i.bc=!1,i.ta=void 0,i.na=void 0,i.ra=void 0,i.Rc=function(){i.bc=!0,i.ia.yc(void 0),i.ra&&(i.ra.removeEventListener("mskeyclose",i.Rc),i.ra.removeEventListener("mskeymessage",i.ea),i.ra.removeEventListener("mskeyerror",i.ua),i.ra.removeEventListener("mskeyadded",i.sa))},i.ea=function(t){i.na&&(i.na.yc(void 0),i.na=void 0),i.Oo(new ru(rn(i),"license-request",us(t.message).buffer,t.destinationURL||void 0))},i.ua=function(){var t=i.ra&&i.ra.error;if(t){var n=new vs("Unknown CDM error",t.code,t.systemCode);if(i.na)i.na.gc(n),i.na=void 0;else if(i.ta)i.ta.gc(n),i.ta=void 0;else switch(n._c){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:i.oa("output-not-allowed");break;default:i.oa("internal-error")}}},i.sa=function(){i.na&&(i.oa("usable"),i.na.yc(void 0),i.na=void 0),i.ta&&(i.oa("usable"),i.ta.yc(void 0),i.ta=void 0)},i.ia=new os,i.ca=new su,i}W(n,t);var r=n.prototype;return r.Ac=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aa(),this.na=new os,this.qc(is(r),i),t.next=5,this.na.wc;case 5:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.qc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var r,i=n&&n.playready&&n.playready.fa;return(r=n?this.Qc.createSession(this.Zc,t,i):this.Qc.createSession(this.Zc,t)).addEventListener("mskeyclose",this.Rc),r.addEventListener("mskeymessage",this.ea),r.addEventListener("mskeyerror",this.ua),r.addEventListener("mskeyadded",this.sa),this.ra=r,this.oa("status-pending"),r},r.Oc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aa(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Pc=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ta=new os,this.aa(),this.ra){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(r=is(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.ra.update(r),t.next=10,this.ta.wc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Nc=function(){return!this.bc&&this.ra&&(this.bc=!0,this.ra.close()),this.ia.wc},r.xc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aa(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.aa=function(){if(this.bc)throw new v("Already closing or closed.")},r.oa=function(t){this.ca.uc(),this.ca.ec(uu,t),this.Oo(new nu(this))},H(n,[{key:"Uc",get:function(){return this.ra&&this.ra.sessionId||""}},{key:"Mc",get:function(){return NaN}},{key:"Fc",get:function(){return this.ia.wc}},{key:"Bc",get:function(){return this.ca}}]),n}(Ke),ps=function(){function t(t,n){this.Qc=t,this.Zc=n}var n=t.prototype;return n.qc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _s(this.Qc,this.Zc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jc=function(t){return C.resolve(!1)},n.Hc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Qc):t.addEventListener("loadedmetadata",function r(){t.msSetMediaKeys(n.Qc),t.removeEventListener("loadedmetadata",r)}),C.resolve()},n.Wc=function(t){return C.resolve()},t}();function ms(t){var n=t.trim(),r=n.indexOf(";");return r<0?n:n.substr(0,r).trim()}function ks(t,n,r,i){var e=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,Kc:i.Kc},s=!1;if(i.audioCapabilities){var o=i.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(i){return bs(t,n,r,i)}),s=!0,u.audioCapabilities.length&&(e=!0))}if(i.videoCapabilities){var c=i.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(i){return bs(t,n,r,i)}),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(r,"video/mp4")),e?u:void 0}}function bs(t,n,r,i){return!!i.contentType&&(!(i.encryptionScheme&&!Ae(n,i.encryptionScheme))&&(!i.robustness&&t(r,ms(i.contentType))))}function Ts(t){if(t.videoCapabilities)for(var n=0,r=t.videoCapabilities;n<r.length;n++){var i=r[n];if(i.contentType)return i.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}var Es=function(){function t(t,n){this.kc=t,this.ha=n;var r=Ts(n)||"video/mp4";this.Zc=ms(r)}var n=t.prototype;return n.Gc=function(){return this.ha},n.Xc=function(){return C.resolve(new ps(new S.MSMediaKeys(this.kc),this.Zc))},H(t,[{key:"Yc",get:function(){return this.kc}}]),t}(),Ss=function(){function t(){}return t.prototype.ho=function(t,n){try{return C.resolve(function(t,n){if(!Rs())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=ks(Is,Ze,t,i);if(e)return new Es(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Jc=function(){return Rs()},t}();function Rs(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Is(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var Cs,Ds,Ns=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).va=n,e.Zc=r,e.da=i,e.ia=new os,e.la=void 0,e.ca=new su,e.wa=void 0,e.ya=new os,e.ua=function(){var t=e.wa&&e.wa.error;if(t){var n=new vs("Unknown CDM error",t.code,t.systemCode);e.la?(e.la.gc(n),e.la=void 0):n._c===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.oa("output-not-allowed"):e.oa("internal-error"),e.Oo(new iu)}},e.ea=function(t){e.la&&(e.la.yc(void 0),e.la=void 0),e.Oo(new ru(rn(e),"license-request",us(t.message).buffer,t.destinationURL||void 0))},e}W(n,t);var r=n.prototype;return r.Ac=function(t,n,r){var i=r&&r.fairplay&&r.fairplay.ga;if(!i)throw new v("Expected FairPlay contentId to be defined but was "+i+".");var e=As(is(n),i,this.da);return this.wa=this.va.createSession(this.Zc,e),this.wa.addEventListener("webkitkeymessage",this.ea,!1),this.wa.addEventListener("webkitkeyerror",this.ua,!1),this.oa("usable"),this.ya.yc(this.wa),this.ya=new os,C.resolve()},r.Oc=function(t){return C.resolve(!0)},r.Pc=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=is(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.la=new os,t.t0=this.wa,t.t0){t.next=9;break}return t.next=8,this.ya.wc;case 8:t.t0=t.sent;case 9:return t.t0.update(r),t.next=13,this.la.wc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Nc=function(){var t=this.wa;return t&&(t.removeEventListener("webkitkeymessage",this.ea,!1),t.removeEventListener("webkitkeyerror",this.ua,!1),t.close()),this.ya.So(),this.ia.yc(void 0),this.ia.wc},r.xc=function(){return C.resolve(void 0)},r.oa=function(t){this.ca.uc(),this.ca.ec(uu,t),this.Oo(new nu(this))},H(n,[{key:"Uc",get:function(){return this.wa?this.wa.sessionId:""}},{key:"Mc",get:function(){return NaN}},{key:"Fc",get:function(){return this.ia.wc}},{key:"Bc",get:function(){return this.ca}}]),n}(Ke);function As(t,n,r){var i=Ju(t),e=2*i.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+r.byteLength),o=new DataView(s),c=new ss;return Mu(o,c,e,!0),$u(o,c,i,!0),Mu(o,c,u,!0),$u(o,c,n,!0),Mu(o,c,r.byteLength,!0),function(t,n,r){ns(t).set(ns(r),n.hc),n.cc(r.byteLength)}(o,c,r),new _(s)}(Cs=n.ErrorCode||(n.ErrorCode={}))[Cs.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Cs[Cs.LICENSE_ERROR=2e3]="LICENSE_ERROR",Cs[Cs.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Cs[Cs.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Cs[Cs.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Cs[Cs.SOURCE_INVALID=3e3]="SOURCE_INVALID",Cs[Cs.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Cs[Cs.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Cs[Cs.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Cs[Cs.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Cs[Cs.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Cs[Cs.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Cs[Cs.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Cs[Cs.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Cs[Cs.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Cs[Cs.NETWORK_ERROR=6e3]="NETWORK_ERROR",Cs[Cs.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Cs[Cs.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Cs[Cs.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Cs[Cs.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Cs[Cs.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Cs[Cs.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Cs[Cs.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Cs[Cs.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Cs[Cs.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Cs[Cs.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Cs[Cs.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Cs[Cs.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Cs[Cs.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Cs[Cs.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Cs[Cs.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Cs[Cs.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Cs[Cs.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Cs[Cs.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Cs[Cs.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Cs[Cs.AD_ERROR=1e4]="AD_ERROR",Cs[Cs.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Cs[Cs.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Ds=n.ErrorCategory||(n.ErrorCategory={}))[Ds.CONFIGURATION=1]="CONFIGURATION",Ds[Ds.LICENSE=2]="LICENSE",Ds[Ds.SOURCE=3]="SOURCE",Ds[Ds.MANIFEST=4]="MANIFEST",Ds[Ds.MEDIA=5]="MEDIA",Ds[Ds.NETWORK=6]="NETWORK",Ds[Ds.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Ds[Ds.SUBTITLE=8]="SUBTITLE",Ds[Ds.VR=9]="VR",Ds[Ds.AD=10]="AD",Ds[Ds.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var r=l.floor(n/1e3);if(r in t)return r;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var Os=function(t){function r(n,r,i){var e;return(e=t.call(this,r,i)||this).code=n,e}return W(r,t),H(r,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),r}(un),xs=function(){function t(t,n){this.va=t,this.Zc=n,this.da=void 0}var r=t.prototype;return r.getInternalMediaKeys=function(){return this.va},r.qc=function(){var t=C.coroutine(Qi.mark(function t(r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.da){t.next=2;break}throw new Os(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ns(this.va,this.Zc,this.da));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.jc=function(t){return this.da=is(t),C.resolve(!0)},r.Hc=function(t){return t.webkitSetMediaKeys(this.va),C.resolve()},r.Wc=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Ps=function(){function t(t,n){this.kc=t,this.ha=n;var r=Ts(n)||"video/mp4";this.Zc=ms(r)}var n=t.prototype;return n.Gc=function(){return this.ha},n.Xc=function(){return C.resolve(new xs(new S.WebKitMediaKeys(this.kc),this.Zc))},H(t,[{key:"Yc",get:function(){return this.kc}}]),t}(),Ls=function(){function t(){}return t.prototype.ho=function(t,n){try{return C.resolve(function(t,n){if(t!==_e)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Fs())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=ks(Ms,tu,t,i);if(e)return new Ps(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Jc=function(){return Fs()},t}();function Fs(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function Ms(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var Bs,Us=function(){function t(t){this._a=t}return t.prototype.ho=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this._a;case 1:if(!(i<e.length)){t.next=14;break}return u=e[i],t.prev=3,t.next=6,u.ho(n,r);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:i++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,r){return t.apply(this,arguments)}}(),t}(),Vs=function(t){function n(n){var r;return(r=t.call(this)||this).kc=n,r.na=void 0,r.la=void 0,r.pa=!1,r.ma=void 0,r.ka=void 0,r.ia=new os,r.ba="",r.Ta=new os,r.Ea=new su,r}W(n,t);var r=n.prototype;return r.Sa=function(){this.la&&(this.oa("usable"),this.la.yc(void 0),this.la=void 0)},r.Ra=function(t){var n=new vs("Unknown CDM error",t.errorCode,t.systemCode);this.la?(this.la.gc(n),this.la=void 0):this.na?(this.na.gc(n),this.na=void 0):n._c===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.oa("output-restricted"):1===n.pc?this.oa("expired"):this.oa("internal-error")},r.Ia=function(t){0!==t.message.byteLength&&(this.na&&(this.na.yc(void 0),this.na=void 0),this.Oo(new ru(this,"license-request",fs(this.kc,us(t.message).buffer),t.defaultURL||void 0)))},r.Ca=function(t){this.ka||(this.ka=t,this.Ta.yc(t))},r.Nc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.pa=!0,this.ia.yc(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ac=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.na=new os,this.ma=is(r),t.t0=this.ka,t.t0){t.next=8;break}return t.next=7,this.Ta.wc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.kc,this.ma),t.next=12,this.na.wc;case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Oc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Pc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.la=new os,t.t0=this.ka,t.t0){t.next=7;break}return t.next=6,this.Ta.wc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.kc,is(n),this.ma,this.Uc),t.next=11,this.la.wc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.throwIfClosed=function(){if(this.pa)throw new v("Already closing or closed.")},r.oa=function(t){this.Ea.uc(),this.Ea.ec(uu,t),this.Oo(new nu(this))},H(n,[{key:"Bc",get:function(){return this.Ea}},{key:"Uc",get:function(){return this.ba},set:function(t){this.ba=t}},{key:"Fc",get:function(){return this.ia.wc}},{key:"Mc",get:function(){return NaN}}]),n}(Ke),qs=function(){function t(t){var n=this;this.kc=t,this.ka=void 0,this.Da=ne(),this.Na=[],this.sa=function(t){var r=n.Aa(t.sessionId);r&&r.Sa()},this.Oa=function(t){var r=n.Aa(t.sessionId);r&&r.Ra(t)},this.xa=function(t){var r=n.Aa(t.sessionId);r&&r.Ia(t)}}var n=t.prototype;return n.Hc=function(t){return this.ka=t,this.ka.addEventListener("webkitkeyadded",this.sa),this.ka.addEventListener("webkitkeyerror",this.Oa),this.ka.addEventListener("webkitkeymessage",this.xa),this.Da.forEach(function(n,r){return n.Ca(t)}),this.Na.forEach(function(n){return n.Ca(t)}),C.resolve()},n.Wc=function(t){return t.removeEventListener("webkitkeyadded",this.sa),t.removeEventListener("webkitkeyerror",this.Oa),t.removeEventListener("webkitkeymessage",this.xa),this.ka=void 0,C.resolve()},n.qc=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){var e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Vs(this.kc),this.ka&&e.Ca(this.ka),this.Na.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),n.jc=function(t){return C.resolve(!1)},n.Aa=function(t){if(t){var n=this.Da.get(t);return n||((n=this.Na.shift())?(n.Uc=t,this.Da.set(t,n),n):void 0)}},t}(),js=function(){function t(t,n){this.Yc=t,this.Pa=n}var n=t.prototype;return n.Xc=function(){return C.resolve(new qs(this.Yc))},n.Gc=function(){return this.Pa},t}(),Hs=function(){function t(){}return t.prototype.ho=function(t,n){try{return C.resolve(Ws(t,n))}catch(t){return C.reject(t)}},t.Jc=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Ws(t,n){if(!Hs.Jc())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var i=n[r],e=ks($s,Ze,t,i);if(e)return new js(t,e)}throw new v("Unsupported key system configuration for "+t)}function $s(t,n){var r=Pi();return!(!r||!r.canPlayType||""===r.canPlayType(n,t))}function zs(){return Bs||(Bs=function(){var t=[];Ls.Jc()&&t.push(new Ls);gs.Jc()&&t.push(new gs);Ss.Jc()&&t.push(new Ss);Hs.Jc()&&t.push(new Hs);return new Us(t)}()),Bs}var Xs=function(){function t(){this.La=ne()}var n=t.prototype;return n.uc=function(t){this.La.delete(t)},n.Fa=function(){this.La.clear()},n.rc=function(t){return this.La.get(t)},n.Ma=function(t,n){this.La.set(t,n)},t}(),Gs=function(){function t(){}return t.Ba=function(){return t.Xe||(t.Xe=Ys.Jc()?new Ys:new Xs),t.Xe},t.uc=function(n){t.Ba().uc(n)},t.Fa=function(){t.Ba().Fa()},t.rc=function(n){return t.Ba().rc(n)},t.Ma=function(n,r){t.Ba().Ma(n,r)},t}();Gs.Xe=void 0;var Ys=function(n){function r(){return n.apply(this,arguments)||this}W(r,n),r.Jc=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var i=r.prototype;return i.uc=function(n){t.sessionStorage.removeItem(n)},i.Fa=function(){t.sessionStorage.clear()},i.rc=function(n){return t.sessionStorage[n]},i.Ma=function(n,r){t.sessionStorage[n]=r},r}(Gs);var Ks=function(){var n,r=t.Blob;if(r)try{return new r,n=r,function(t,r){return new n(t,r)}}catch(t){}var i,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(i=e,function(t,n){var r=new i;if(t)for(var e=0;e<t.length;e++){var u=t[e];r.append(u)}return r.getBlob(n&&n.type||"")}):null}();function Js(t,n,r){var i=Ks([n],{type:"application/octet-stream"}),u=URL.createObjectURL(i),s=function(t,n){var r=t,i=r.indexOf("?");if(i>=0&&(r=r.substr(0,i)),r=r.substr(r.lastIndexOf("/")+1),n){var e=r.indexOf(".");e<0&&(e=r.length),r=r.substr(0,e)+n+r.substr(e)}return r}(t,r),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var Qs,Zs;!function(t){t.Ua="Va",t.qa="ja",t.Ha="contentprotectionerror",t.Wa="contentprotectionsuccess",t.$a="currentsourcechange",t.za="destroy",t.Xa="durationchange",t.Ga="emptied",t.Yo="encrypted",t.Ya="ended",t.Ka="Ja",t.Qa="loadstart",t.Za="manifestupdate",t.tf="nosupportedrepresentationfound",t.nf="offline",t.rf="online",t.if="pause",t.ef="play",t.uf="progress",t.sf="ratechange",t.cf="representationchange",t.af="resize",t.ff="seeked",t.hf="seeking",t.vf="segmentnotfound",t.df="lf",t.wf="yf",t.gf="sourcechange",t._f="timeupdate",t.pf="volumechange",t.mf="kf",t.bf="metricschange"}(Qs||(Qs={})),function(t){t.Tf="arraybuffer",t.Ef="json",t.Sf="stream",t.Qe="text"}(Zs||(Zs={}));var to=function(){function t(n){var r=this;this.Ys={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var r=t,i=n;r=no(r),i=ro(i);var e=r.toLowerCase();if(this.Ys.hasOwnProperty(e)){var u=this.Ys[e],s=u[1];u[1]=s?s+", "+i:i}else this.Ys[e]=[r,i]},n.delete=function(t){var n=no(t).toLowerCase();delete this.Ys[n]},n.get=function(t){var n=no(t).toLowerCase();return this.Ys.hasOwnProperty(n)?this.Ys[n][1]:null},n.has=function(t){var n=no(t).toLowerCase();return this.Ys.hasOwnProperty(n)},n.set=function(t,n){var r=t,i=(r=no(r)).toLowerCase();this.Ys[i]=[r,ro(n)]},n.forEach=function(t,n){for(var r in this.Ys)this.Ys.hasOwnProperty(r)&&t.call(n,this.Ys[r][1],r,this)},n.asList=function(){var t=[];for(var n in this.Ys)if(this.Ys.hasOwnProperty(n)){var r=this.Ys[n],i=r[0],e=r[1];t.push([i,e])}return t},n.Rf=function(){var t={};return this.forEach(function(n,r){t[r]=n}),t},n.If=function(t){var n=this;t.forEach(function(t,r){n.append(r,t)})},n.Cf=function(t){var n=this;t.forEach(function(t,r){n.set(r,t)})},t}();function no(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function ro(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function eo(){}var uo=Number.isNaN||function(t){return t!=t},so=eo;function oo(t){return"object"==typeof t&&null!==t||"function"==typeof t}function co(t){return t.slice()}function ao(t){return!1!==function(t){if("number"!=typeof t)return!1;if(uo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function fo(t,n,r){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,r)}function ho(t,n,r,i){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(r){case 0:return function(){return lo(e,t,i)};case 1:return function(n){var r=[n].concat(i);return lo(e,t,r)}}}return function(){return To(void 0)}}function vo(t,n,r){var i=t[n];if(void 0!==i)return fo(i,t,r)}function lo(t,n,r){try{return To(fo(t,n,r))}catch(t){return Eo(t)}}function wo(t){return t}function yo(t){if(t=Number(t),uo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function go(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _o=C,po=C.prototype.then,mo=C.resolve.bind(_o),ko=C.reject.bind(_o);function bo(t){return new _o(t)}function To(t){return mo(t)}function Eo(t){return ko(t)}function So(t,n,r){return po.call(t,n,r)}function Ro(t,n,r){So(So(t,n,r),void 0,so)}function Io(t,n){Ro(t,n)}function Co(t,n){Ro(t,void 0,n)}function Do(t,n,r){return So(t,n,r)}function No(t){So(t,void 0,so)}var Ao=function(){function t(){this.Df=0,this.Nf=0,this.Er={Af:[],Of:void 0},this.xf=this.Er,this.Df=0,this.Nf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Nf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.xf,r=n;16383===n.Af.length&&(r={Af:[],Of:void 0}),n.Af.push(t),r!==n&&(this.xf=r,n.Of=r),++this.Nf},t.prototype.shift=function(){var t=this.Er,n=t,r=this.Df,i=r+1,e=t.Af,u=e[r];return 16384===i&&(n=t.Of,i=0),--this.Nf,this.Df=i,t!==n&&(this.Er=n),e[r]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Df,r=this.Er,i=r.Af;!(n===i.length&&void 0===r.Of||n===i.length&&(n=0,0===(i=(r=r.Of).Af).length));)t(i[n]),++n},t.prototype.peek=function(){var t=this.Er,n=this.Df;return t.Af[n]},t}();function Oo(t,n,r){var i=null;!0===r&&(i=d.prototype);var e=d.create(i);return e.value=t,e.done=n,e}function xo(t,n){t.Pf=!0,t.Lf=n,n.Ff=t,"readable"===n.Mf?Mo(t):"closed"===n.Mf?function(t){Mo(t),Vo(t)}(t):Bo(t,n.Bf)}function Po(t,n){return Wa(t.Lf,n)}function Lo(t){"readable"===t.Lf.Mf?Uo(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Bo(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Lf.Ff=void 0,t.Lf=void 0}function Fo(t){return new v("Cannot "+t+" a stream using a released reader")}function Mo(t){t.Dc=bo(function(n,r){t.Uf=n,t.Vf=r})}function Bo(t,n){Mo(t),Uo(t,n)}function Uo(t,n){No(t.Dc),t.Vf(n),t.Uf=void 0,t.Vf=void 0}function Vo(t){t.Uf(void 0),t.Uf=void 0,t.Vf=void 0}var qo=io("[[CancelSteps]]"),jo=io("[[PullSteps]]");function Ho(t,n){void 0===n&&(n=!1);var r=new Ko(t);return r.Pf=n,r}function Wo(t){return bo(function(n,r){var i={Fn:n,V:r};t.Ff.qf.push(i)})}function $o(t,n,r){var i=t.Ff;i.qf.shift().Fn(Oo(n,r,i.Pf))}function zo(t){return t.Ff.qf.length}function Xo(t){var n=t.Ff;return void 0!==n&&!!Jo(n)}var Go,Yo,Ko=function(){function t(t){if(!1===ja(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ha(t))throw new v("This stream has already been locked for exclusive reading by another reader");xo(this,t),this.qf=new Ao}return d.defineProperty(t.prototype,"closed",{get:function(){return Jo(this)?this.Dc:Eo(Zo("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Jo(this)?void 0===this.Lf?Eo(Fo("cancel")):Po(this,t):Eo(Zo("cancel"))},t.prototype.read=function(){return Jo(this)?void 0===this.Lf?Eo(Fo("read from")):Qo(this):Eo(Zo("read"))},t.prototype.releaseLock=function(){if(!Jo(this))throw Zo("releaseLock");if(void 0!==this.Lf){if(this.qf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Lo(this)}},t}();function Jo(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"qf")}function Qo(t){var n=t.Lf;return n.jf=!0,"closed"===n.Mf?To(Oo(void 0,!0,t.Pf)):"errored"===n.Mf?Eo(n.Bf):n.Hf[jo]()}function Zo(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof io.asyncIterator&&((Go={})[io.asyncIterator]=function(){return this},Yo=Go,d.defineProperty(Yo,io.asyncIterator,{enumerable:!1}));var tc={next:function(){if(!1===nc(this))return Eo(rc("next"));var t=this.Wf;return void 0===t.Lf?Eo(Fo("iterate")):Do(Qo(t),function(n){var r=n.done;return r&&Lo(t),Oo(n.value,r,!0)})},return:function(t){if(!1===nc(this))return Eo(rc("next"));var n=this.Wf;if(void 0===n.Lf)return Eo(Fo("finish iterating"));if(n.qf.length>0)return Eo(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.$f){var r=Po(n,t);return Lo(n),Do(r,function(){return Oo(t,!0,!0)})}return Lo(n),To(Oo(t,!0,!0))}};function nc(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Wf")}function rc(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ic(t){var n=t.Nn.shift();return t.zf-=n.size,t.zf<0&&(t.zf=0),n.value}function ec(t,n,r){if(!ao(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Nn.push({value:n,size:r}),t.zf+=r}function uc(t){t.Nn=new Ao,t.zf=0}void 0!==Yo&&d.setPrototypeOf(tc,Yo),d.defineProperty(tc,"next",{enumerable:!1}),d.defineProperty(tc,"return",{enumerable:!1});var sc=io("[[AbortSteps]]"),oc=io("[[ErrorSteps]]"),cc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),fc(this);var r=n.size,i=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=go(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(Cc.prototype);var u=ho(n,"write",1,[e]),s=ho(n,"close",0,[]),o=ho(n,"abort",1,[]);Dc(t,e,function(){return vo(n,"start",[e])},u,s,o,r,i)}(this,t,i=yo(i),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===hc(this))throw Fc("locked");return vc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===hc(this)?Eo(Fc("abort")):!0===vc(this)?Eo(new v("Cannot abort a stream that already has a writer")):dc(this,t)},t.prototype.close=function(){return!1===hc(this)?Eo(Fc("close")):!0===vc(this)?Eo(new v("Cannot close a stream that already has a writer")):!0===_c(this)?Eo(new v("Cannot close an already-closing stream")):lc(this)},t.prototype.getWriter=function(){if(!1===hc(this))throw Fc("getWriter");return ac(this)},t}();function ac(t){return new kc(t)}function fc(t){t.Mf="writable",t.Bf=void 0,t.Xf=void 0,t.Gf=void 0,t.Yf=new Ao,t.Kf=void 0,t.Jf=void 0,t.Qf=void 0,t.Zf=void 0,t.th=!1}function hc(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Gf")}function vc(t){return void 0!==t.Xf}function dc(t,n){var r=t.Mf;if("closed"===r||"errored"===r)return To(void 0);if(void 0!==t.Zf)return t.Zf.un;var i=!1;"erroring"===r&&(i=!0,n=void 0);var e=bo(function(r,e){t.Zf={un:void 0,Fn:r,V:e,Sn:n,nh:i}});return t.Zf.un=e,!1===i&&yc(t,n),e}function lc(t){var n=t.Mf;if("closed"===n||"errored"===n)return Eo(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var r,i=bo(function(n,r){var i={Fn:n,V:r};t.Jf=i}),e=t.Xf;return void 0!==e&&!0===t.th&&"writable"===n&&Xc(e),ec(r=t.Gf,"close",0),Oc(r),i}function wc(t,n){"writable"!==t.Mf?gc(t):yc(t,n)}function yc(t,n){var r=t.Gf;t.Mf="erroring",t.Bf=n;var i=t.Xf;void 0!==i&&Sc(i,n),!1===function(t){if(void 0===t.Kf&&void 0===t.Qf)return!1;return!0}(t)&&!0===r.rh&&gc(t)}function gc(t){t.Mf="errored",t.Gf[oc]();var n=t.Bf;if(t.Yf.forEach(function(t){t.V(n)}),t.Yf=new Ao,void 0!==t.Zf){var r=t.Zf;if(t.Zf=void 0,!0===r.nh)return r.V(n),void pc(t);Ro(t.Gf[sc](r.Sn),function(){r.Fn(),pc(t)},function(n){r.V(n),pc(t)})}else pc(t)}function _c(t){return void 0!==t.Jf||void 0!==t.Qf}function pc(t){void 0!==t.Jf&&(t.Jf.V(t.Bf),t.Jf=void 0);var n=t.Xf;void 0!==n&&qc(n,t.Bf)}function mc(t,n){var r=t.Xf;void 0!==r&&n!==t.th&&(!0===n?function(t){Hc(t)}(r):Xc(r)),t.th=n}var kc=function(){function t(t){if(!1===hc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===vc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.ih=t,t.Xf=this;var n,r=t.Mf;if("writable"===r)!1===_c(t)&&!0===t.th?Hc(this):$c(this),Uc(this);else if("erroring"===r)Wc(this,t.Bf),Uc(this);else if("closed"===r)$c(this),Uc(n=this),jc(n);else{var i=t.Bf;Wc(this,i),Vc(this,i)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===bc(this)?Eo(Mc("closed")):this.Dc},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bc(this))throw Mc("desiredSize");if(void 0===this.ih)throw Bc("desiredSize");return function(t){var n=t.ih,r=n.Mf;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return Ac(n.Gf)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===bc(this)?Eo(Mc("ready")):this.eh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===bc(this)?Eo(Mc("abort")):void 0===this.ih?Eo(Bc("abort")):function(t,n){return dc(t.ih,n)}(this,t)},t.prototype.close=function(){if(!1===bc(this))return Eo(Mc("close"));var t=this.ih;return void 0===t?Eo(Bc("close")):!0===_c(t)?Eo(new v("Cannot close an already-closing stream")):Tc(this)},t.prototype.releaseLock=function(){if(!1===bc(this))throw Mc("releaseLock");void 0!==this.ih&&Rc(this)},t.prototype.write=function(t){return!1===bc(this)?Eo(Mc("write")):void 0===this.ih?Eo(Bc("write to")):Ic(this,t)},t}();function bc(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"ih")}function Tc(t){return lc(t.ih)}function Ec(t,n){"pending"===t.uh?qc(t,n):function(t,n){Vc(t,n)}(t,n)}function Sc(t,n){"pending"===t.sh?zc(t,n):function(t,n){Wc(t,n)}(t,n)}function Rc(t){var n=t.ih,r=new v("Writer was released and can no longer be used to monitor the stream's closedness");Sc(t,r),Ec(t,r),n.Xf=void 0,t.ih=void 0}function Ic(t,n){var r=t.ih,i=r.Gf,e=function(t,n){try{return t.oh(n)}catch(n){return xc(t,n),1}}(i,n);if(r!==t.ih)return Eo(Bc("write to"));var u=r.Mf;if("errored"===u)return Eo(r.Bf);if(!0===_c(r)||"closed"===u)return Eo(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Eo(r.Bf);var s=function(t){return bo(function(n,r){var i={Fn:n,V:r};t.Yf.push(i)})}(r);return function(t,n,r){var i={chunk:n};try{ec(t,i,r)}catch(n){return void xc(t,n)}var e=t.ah;if(!1===_c(e)&&"writable"===e.Mf){var u=Pc(t);mc(e,u)}Oc(t)}(i,n,e),s}var Cc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!oo(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"ah"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.ah.Mf&&Lc(this,t)},t.prototype[sc]=function(t){var n=this.fh(t);return Nc(this),n},t.prototype[oc]=function(){uc(this)},t}();function Dc(t,n,r,i,e,u,s,o){n.ah=t,t.Gf=n,n.Nn=void 0,n.zf=void 0,uc(n),n.rh=!1,n.oh=o,n.hh=s,n.vh=i,n.dh=e,n.fh=u;var c=Pc(n);mc(t,c),Ro(To(r()),function(){n.rh=!0,Oc(n)},function(r){n.rh=!0,wc(t,r)})}function Nc(t){t.vh=void 0,t.dh=void 0,t.fh=void 0,t.oh=void 0}function Ac(t){return t.hh-t.zf}function Oc(t){var n=t.ah;if(!1!==t.rh&&void 0===n.Kf)if("erroring"!==n.Mf){if(0!==t.Nn.length){var r=t.Nn.peek().value;"close"===r?function(t){var n=t.ah;(function(t){t.Qf=t.Jf,t.Jf=void 0})(n),ic(t);var r=t.dh();Nc(t),Ro(r,function(){!function(t){t.Qf.Fn(void 0),t.Qf=void 0,"erroring"===t.Mf&&(t.Bf=void 0,void 0!==t.Zf&&(t.Zf.Fn(),t.Zf=void 0)),t.Mf="closed";var n=t.Xf;void 0!==n&&jc(n)}(n)},function(t){!function(t,n){t.Qf.V(n),t.Qf=void 0,void 0!==t.Zf&&(t.Zf.V(n),t.Zf=void 0),wc(t,n)}(n,t)})}(t):function(t,n){var r=t.ah;(function(t){t.Kf=t.Yf.shift()})(r),Ro(t.vh(n),function(){!function(t){t.Kf.Fn(void 0),t.Kf=void 0}(r);var n=r.Mf;if(ic(t),!1===_c(r)&&"writable"===n){var i=Pc(t);mc(r,i)}Oc(t)},function(n){"writable"===r.Mf&&Nc(t),function(t,n){t.Kf.V(n),t.Kf=void 0,wc(t,n)}(r,n)})}(t,r.chunk)}}else gc(n)}function xc(t,n){"writable"===t.ah.Mf&&Lc(t,n)}function Pc(t){return Ac(t)<=0}function Lc(t,n){var r=t.ah;Nc(t),yc(r,n)}function Fc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Mc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Bc(t){return new v("Cannot "+t+" a stream using a released writer")}function Uc(t){t.Dc=bo(function(n,r){t.Uf=n,t.Vf=r,t.uh="pending"})}function Vc(t,n){Uc(t),qc(t,n)}function qc(t,n){No(t.Dc),t.Vf(n),t.Uf=void 0,t.Vf=void 0,t.uh="rejected"}function jc(t){t.Uf(void 0),t.Uf=void 0,t.Vf=void 0,t.uh="resolved"}function Hc(t){t.eh=bo(function(n,r){t.lh=n,t.wh=r}),t.sh="pending"}function Wc(t,n){Hc(t),zc(t,n)}function $c(t){Hc(t),Xc(t)}function zc(t,n){No(t.eh),t.wh(n),t.lh=void 0,t.wh=void 0,t.sh="rejected"}function Xc(t){t.lh(void 0),t.lh=void 0,t.wh=void 0,t.sh="fulfilled"}function Gc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Yc="undefined"!=typeof DOMException?DOMException:void 0;var Kc,Jc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Yc)?Yc:((Kc=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(Kc.prototype,"constructor",{value:Kc,writable:!0,configurable:!0}),Kc);function Qc(t,n,r,i,e,u){var s=Ho(t),o=ac(n);t.jf=!0;var c=!1,a=To(void 0);return bo(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var r=new Jc("Aborted","AbortError"),u=[];!1===i&&u.push(function(){return"writable"===n.Mf?dc(n,r):To(void 0)}),!1===e&&u.push(function(){return"readable"===t.Mf?Wa(t,r):To(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,r)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,s.Dc,function(t){!1===i?m(function(){return dc(n,t)},!0,t):k(!0,t)}),p(n,o.Dc,function(n){!1===e?m(function(){return Wa(t,n)},!0,n):k(!0,n)}),l=t,w=s.Dc,y=function(){!1===r?m(function(){return function(t){var n=t.ih,r=n.Mf;return!0===_c(n)||"closed"===r?To(void 0):"errored"===r?Eo(n.Bf):Tc(t)}(o)}):k()},"closed"===l.Mf?y():Io(w,y),!0===_c(n)||"closed"===n.Mf){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return Wa(t,g)},!0,g):k(!0,g)}function _(){var t=a;return So(a,function(){return t!==a?_():void 0})}function p(t,n,r){"errored"===t.Mf?r(t.Bf):Co(n,r)}function m(t,r,i){function e(){Ro(t(),function(){return b(r,i)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.Mf&&!1===_c(n)?Io(_(),e):e())}function k(t,r){!0!==c&&(c=!0,"writable"===n.Mf&&!1===_c(n)?Io(_(),function(){return b(t,r)}):b(t,r))}function b(t,n){Rc(o),Lo(s),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}No(bo(function(t,n){!function r(i){i?t():So(!0===c?To(!0):So(o.eh,function(){return So(Qo(s),function(t){return!0===t.done||(a=So(Ic(o,t.value),void 0,eo),!1)})}),r,n)}(!1)}))})}var Zc=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ta(this))throw fa("desiredSize");return oa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ta(this))throw fa("close");if(!1===ca(this))throw new v("The stream is not in a state that permits close");ea(this)},t.prototype.enqueue=function(t){if(!1===ta(this))throw fa("enqueue");if(!1===ca(this))throw new v("The stream is not in a state that permits enqueue");return ua(this,t)},t.prototype.error=function(t){if(!1===ta(this))throw fa("error");sa(this,t)},t.prototype[qo]=function(t){uc(this);var n=this.yh(t);return ia(this),n},t.prototype[jo]=function(){var t=this.gh;if(this.Nn.length>0){var n=ic(this);return!0===this._h&&0===this.Nn.length?(ia(this),$a(t)):na(this),To(Oo(n,!1,t.Ff.Pf))}var r=Wo(t);return na(this),r},t}();function ta(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"gh")}function na(t){!1!==ra(t)&&(!0!==t.ph?(t.ph=!0,Ro(t.mh(),function(){t.ph=!1,!0===t.kh&&(t.kh=!1,na(t))},function(n){sa(t,n)})):t.kh=!0)}function ra(t){var n=t.gh;return!1!==ca(t)&&(!1!==t.rh&&(!0===Ha(n)&&zo(n)>0||oa(t)>0))}function ia(t){t.mh=void 0,t.yh=void 0,t.oh=void 0}function ea(t){var n=t.gh;t._h=!0,0===t.Nn.length&&(ia(t),$a(n))}function ua(t,n){var r=t.gh;if(!0===Ha(r)&&zo(r)>0)$o(r,n,!1);else{var i=void 0;try{i=t.oh(n)}catch(n){throw sa(t,n),n}try{ec(t,n,i)}catch(n){throw sa(t,n),n}}na(t)}function sa(t,n){var r=t.gh;"readable"===r.Mf&&(uc(t),ia(t),za(r,n))}function oa(t){var n=t.gh.Mf;return"errored"===n?null:"closed"===n?0:t.hh-t.zf}function ca(t){var n=t.gh.Mf;return!1===t._h&&"readable"===n}function aa(t,n,r,i,e,u,s){n.gh=t,n.Nn=void 0,n.zf=void 0,uc(n),n.rh=!1,n._h=!1,n.kh=!1,n.ph=!1,n.oh=s,n.hh=u,n.mh=i,n.yh=e,t.Hf=n,Ro(To(r()),function(){n.rh=!0,na(n)},function(t){sa(n,t)})}function fa(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ha=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},va=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===wa(this))throw Aa("view");return this.bh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===wa(this))throw Aa("respond");if(void 0===this.Th)throw new v("This BYOB request has been invalidated");this.bh.buffer,function(t,n){if(!1===ao(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Sa(t,n)}(this.Th,t)},t.prototype.respondWithNewView=function(t){if(!1===wa(this))throw Aa("respond");if(void 0===this.Th)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var r=t.Eh.peek();if(r.byteOffset+r.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=n.buffer,Sa(t,n.byteLength)}(this.Th,t)},t}(),da=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===la(this))throw Oa("byobRequest");if(void 0===this.Sh&&this.Eh.length>0){var t=this.Eh.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=d.create(va.prototype);!function(t,n,r){t.Th=n,t.bh=r}(r,this,n),this.Sh=r}return this.Sh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===la(this))throw Oa("desiredSize");return Da(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===la(this))throw Oa("close");if(!0===this._h)throw new v("The stream has already been closed; do not close it again!");var t=this.Rh.Mf;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Rh;if(t.zf>0)return void(t._h=!0);if(t.Eh.length>0){var r=t.Eh.peek();if(r.bytesFilled>0){var i=new v("Insufficient bytes to fill elements in the given buffer");throw Ca(t,i),i}}Ia(t),$a(n)}(this)},t.prototype.enqueue=function(t){if(!1===la(this))throw Oa("enqueue");if(!0===this._h)throw new v("stream is closed or draining");var n=this.Rh.Mf;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var r=t.Rh,i=n.buffer,e=n.byteOffset,u=n.byteLength,s=wo(i);if(!0===Xo(r))if(0===zo(r))pa(t,s,e,u);else{var o=new _(s,e,u);$o(r,o,!1)}else!0===La(r)?(pa(t,s,e,u),Ea(t)):pa(t,s,e,u);ya(t)}(this,t)},t.prototype.error=function(t){if(!1===la(this))throw Oa("error");Ca(this,t)},t.prototype[qo]=function(t){this.Eh.length>0&&(this.Eh.peek().bytesFilled=0);uc(this);var n=this.yh(t);return Ia(this),n},t.prototype[jo]=function(){var t=this.Rh;if(this.zf>0){var n=this.Nn.shift();this.zf-=n.byteLength,ba(this);var r=void 0;try{r=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Eo(t)}return To(Oo(r,!1,t.Ff.Pf))}var i=this.Ih;if(void 0!==i){var e=void 0;try{e=new ArrayBuffer(i)}catch(t){return Eo(t)}var u={buffer:e,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.Eh.push(u)}var s=Wo(t);return ya(this),s},t}();function la(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Rh")}function wa(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Th")}function ya(t){!1!==function(t){var n=t.Rh;if("readable"!==n.Mf)return!1;if(!0===t._h)return!1;if(!1===t.rh)return!1;if(!0===Xo(n)&&zo(n)>0)return!0;if(!0===La(n)&&Pa(n)>0)return!0;if(Da(t)>0)return!0;return!1}(t)&&(!0!==t.ph?(t.ph=!0,Ro(t.mh(),function(){t.ph=!1,!0===t.kh&&(t.kh=!1,ya(t))},function(n){Ca(t,n)})):t.kh=!0)}function ga(t,n){var r=!1;"closed"===t.Mf&&(r=!0);var i=_a(n);"default"===n.readerType?$o(t,i,r):function(t,n,r){var i=t.Ff;i.Ch.shift().Fn(Oo(n,r,i.Pf))}(t,i,r)}function _a(t){var n=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/r)}function pa(t,n,r,i){t.Nn.push({buffer:n,byteOffset:r,byteLength:i}),t.zf+=i}function ma(t,n){var r=n.elementSize,i=n.bytesFilled-n.bytesFilled%r,e=l.min(t.zf,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%r,o=e,c=!1;s>i&&(o=s-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.Nn;o>0;){var y=w.peek(),g=l.min(o,y.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,f=p,h=y.buffer,v=y.byteOffset,d=g,new _(a).set(new _(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.zf-=g,ka(t,g,n),o-=g}return c}function ka(t,n,r){Ta(t),r.bytesFilled+=n}function ba(t){0===t.zf&&!0===t._h?(Ia(t),$a(t.Rh)):ya(t)}function Ta(t){void 0!==t.Sh&&(t.Sh.Th=void 0,t.Sh.bh=void 0,t.Sh=void 0)}function Ea(t){for(;t.Eh.length>0;){if(0===t.zf)return;var n=t.Eh.peek();!0===ma(t,n)&&(Ra(t),ga(t.Rh,n))}}function Sa(t,n){var r=t.Eh.peek();if("closed"===t.Rh.Mf){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=wo(n.buffer);var r=t.Rh;if(!0===La(r))for(;Pa(r)>0;)ga(r,Ra(t))}(t,r)}else!function(t,n,r){if(r.bytesFilled+n>r.byteLength)throw new RangeError("bytesWritten out of range");if(ka(t,n,r),!(r.bytesFilled<r.elementSize)){Ra(t);var i=r.bytesFilled%r.elementSize;if(i>0){var e=r.byteOffset+r.bytesFilled,u=r.buffer.slice(e-i,e);pa(t,u,0,u.byteLength)}r.buffer=wo(r.buffer),r.bytesFilled-=i,ga(t.Rh,r),Ea(t)}}(t,n,r);ya(t)}function Ra(t){var n=t.Eh.shift();return Ta(t),n}function Ia(t){t.mh=void 0,t.yh=void 0}function Ca(t,n){var r=t.Rh;"readable"===r.Mf&&(!function(t){Ta(t),t.Eh=new Ao}(t),uc(t),Ia(t),za(r,n))}function Da(t){var n=t.Rh.Mf;return"errored"===n?null:"closed"===n?0:t.hh-t.zf}function Na(t,n,r){var i=d.create(da.prototype);var e=ho(n,"pull",0,[i]),u=ho(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===ha(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,r,i,e,u,s){n.Rh=t,n.kh=!1,n.ph=!1,n.Sh=void 0,n.Nn=n.zf=void 0,uc(n),n._h=!1,n.rh=!1,n.hh=yo(u),n.mh=i,n.yh=e,n.Ih=s,n.Eh=new Ao,t.Hf=n,Ro(To(r()),function(){n.rh=!0,ya(n)},function(t){Ca(n,t)})}(t,i,function(){return vo(n,"start",[i])},e,u,r,s)}function Aa(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Oa(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xa(t){return bo(function(n,r){var i={Fn:n,V:r};t.Ff.Ch.push(i)})}function Pa(t){return t.Ff.Ch.length}function La(t){var n=t.Ff;return void 0!==n&&!!Ma(n)}var Fa=function(){function t(t){if(!ja(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===la(t.Hf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ha(t))throw new v("This stream has already been locked for exclusive reading by another reader");xo(this,t),this.Ch=new Ao}return d.defineProperty(t.prototype,"closed",{get:function(){return Ma(this)?this.Dc:Eo(Ba("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ma(this)?void 0===this.Lf?Eo(Fo("cancel")):Po(this,t):Eo(Ba("cancel"))},t.prototype.read=function(t){return Ma(this)?void 0===this.Lf?Eo(Fo("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Eo(new v("view must have non-zero byteLength")):function(t,n){var r=t.Lf;if(r.jf=!0,"errored"===r.Mf)return Eo(r.Bf);return function(t,n){var r=t.Rh,i=1;n.constructor!==DataView&&(i=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:wo(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:i,ctor:e,readerType:"byob"};if(t.Eh.length>0)return t.Eh.push(u),xa(r);if("closed"===r.Mf)return To(Oo(new e(u.buffer,u.byteOffset,0),!0,r.Ff.Pf));if(t.zf>0){if(!0===ma(t,u)){var s=_a(u);return ba(t),To(Oo(s,!1,r.Ff.Pf))}if(!0===t._h){var o=new v("Insufficient bytes to fill elements in the given buffer");return Ca(t,o),Eo(o)}}t.Eh.push(u);var c=xa(r);return ya(t),c}(r.Hf,n)}(this,t)):Eo(new v("view must be an array buffer view")):Eo(Ba("read"))},t.prototype.releaseLock=function(){if(!Ma(this))throw Ba("releaseLock");if(void 0!==this.Lf){if(this.Ch.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Lo(this)}},t}();function Ma(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Ch")}function Ba(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ua=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qa(this);var r=n.size,i=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),Na(this,t,i=yo(i))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=go(r);void 0===i&&(i=1),function(t,n,r,i){var e=d.create(Zc.prototype),u=ho(n,"pull",0,[e]),s=ho(n,"cancel",1,[]);aa(t,e,function(){return vo(n,"start",[e])},u,s,r,i)}(this,t,i=yo(i),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ja(this))throw Xa("locked");return Ha(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===ja(this)?Eo(Xa("cancel")):!0===Ha(this)?Eo(new v("Cannot cancel a stream that already has a reader")):Wa(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===ja(this))throw Xa("getReader");if(void 0===n)return Ho(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var r=new Fa(t);return r.Pf=n,r}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var r=t.writable,i=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,c=e.signal;if(!1===ja(this))throw Xa("pipeThrough");if(!1===hc(r))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===ja(i))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==c&&!Gc(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ha(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===vc(r))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return No(Qc(this,r,u,s,o,c)),i},t.prototype.pipeTo=function(t,n){var r=void 0===n?{}:n,i=r.preventClose,e=r.preventAbort,u=r.preventCancel,s=r.signal;return!1===ja(this)?Eo(Xa("pipeTo")):!1===hc(t)?Eo(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),e=Boolean(e),u=Boolean(u),void 0===s||Gc(s)?!0===Ha(this)?Eo(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===vc(t)?Eo(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qc(this,t,i,e,u,s):Eo(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===ja(this))throw Xa("tee");var t=function(t,n){var r,i,e,u,s,o=Ho(t),c=!1,a=!1,f=!1,h=bo(function(t){s=t});function v(){return!0===c?To(void 0):(c=!0,No(Do(Qo(o),function(t){if(c=!1,!0===t.done)return!1===a&&ea(e.Hf),void(!1===f&&ea(u.Hf));var n=t.value,r=n,i=n;!1===a&&ua(e.Hf,r),!1===f&&ua(u.Hf,i)})),To(void 0))}function d(){}return e=Va(d,v,function(n){if(a=!0,r=n,!0===f){var e=co([r,i]),u=Wa(t,e);s(u)}return h}),u=Va(d,v,function(n){if(f=!0,i=n,!0===a){var e=co([r,i]),u=Wa(t,e);s(u)}return h}),Co(o.Dc,function(t){sa(e.Hf,t),sa(u.Hf,t)}),[e,u]}(this);return co(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,r=void 0!==n&&n;if(!1===ja(this))throw Xa("getIterator");return function(t,n){void 0===n&&(n=!1);var r=Ho(t),i=d.create(tc);return i.Wf=r,i.$f=Boolean(n),i}(this,r)},t}();function Va(t,n,r,i,e){void 0===i&&(i=1),void 0===e&&(e=function(){return 1});var u=d.create(Ua.prototype);return qa(u),aa(u,d.create(Zc.prototype),t,n,r,i,e),u}function qa(t){t.Mf="readable",t.Ff=void 0,t.Bf=void 0,t.jf=!1}function ja(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Hf")}function Ha(t){return void 0!==t.Ff}function Wa(t,n){return t.jf=!0,"closed"===t.Mf?To(void 0):"errored"===t.Mf?Eo(t.Bf):($a(t),Do(t.Hf[qo](n),eo))}function $a(t){t.Mf="closed";var n=t.Ff;void 0!==n&&(Jo(n)&&(n.qf.forEach(function(t){t.Fn(Oo(void 0,!0,n.Pf))}),n.qf=new Ao),Vo(n))}function za(t,n){t.Mf="errored",t.Bf=n;var r=t.Ff;void 0!==r&&(Jo(r)?(r.qf.forEach(function(t){t.V(n)}),r.qf=new Ao):(r.Ch.forEach(function(t){t.V(n)}),r.Ch=new Ao),Uo(r,n))}function Xa(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof io.asyncIterator&&d.defineProperty(Ua.prototype,io.asyncIterator,{value:Ua.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ga=function(){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r={});var i=n.size,e=n.highWaterMark,u=r.size,s=r.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=go(i);if(void 0===e&&(e=1),e=yo(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=go(u);void 0===s&&(s=0),s=yo(s),function(t,n,r,i,e,u){function s(){return n}t.Dh=function(t,n,r,i,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(cc.prototype);return fc(s),Dc(s,d.create(Cc.prototype),t,n,r,i,e,u),s}(s,function(n){return function(t,n){var r=t.Nh;if(!0===t.th){var i=t.Ah;return Do(i,function(){var i=t.Dh,e=i.Mf;if("erroring"===e)throw i.Bf;return uf(r,n)})}return uf(r,n)}(t,n)},function(){return function(t){var n=t.Oh,r=t.Nh,i=r.xh();return rf(r),Do(i,function(){if("errored"===n.Mf)throw n.Bf;var t=n.Hf;!0===ca(t)&&ea(t)},function(r){throw Ka(t,r),n.Bf})}(t)},function(n){return function(t,n){return Ka(t,n),To(void 0)}(t,n)},r,i),t.Oh=Va(s,function(){return function(t){return Qa(t,!1),t.Ah}(t)},function(n){return Ja(t,n),To(void 0)},e,u),t.th=void 0,t.Ah=void 0,t.Ph=void 0,Qa(t,!0),t.Nh=void 0}(this,bo(function(t){c=t}),e,o,s,a),function(t,n){var r=d.create(tf.prototype),i=function(t){try{return ef(r,t),To(void 0)}catch(t){return Eo(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");i=function(t){return lo(e,n,[t,r])}}var u=ho(n,"flush",0,[r]);!function(t,n,r,i){n.Lh=t,t.Nh=n,n.Fh=r,n.xh=i}(t,r,i,u)}(this,t);var f=vo(t,"start",[this.Nh]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ya(this))throw of("readable");return this.Oh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ya(this))throw of("writable");return this.Dh},enumerable:!0,configurable:!0}),t}();function Ya(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Nh")}function Ka(t,n){sa(t.Oh.Hf,n),Ja(t,n)}function Ja(t,n){rf(t.Nh),xc(t.Dh.Gf,n),!0===t.th&&Qa(t,!1)}function Qa(t,n){void 0!==t.Ah&&t.Ph(),t.Ah=bo(function(n){t.Ph=n}),t.th=n}var Za,tf=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nf(this))throw sf("desiredSize");return oa(this.Lh.Oh.Hf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===nf(this))throw sf("enqueue");ef(this,t)},t.prototype.error=function(t){if(!1===nf(this))throw sf("error");var n;n=t,Ka(this.Lh,n)},t.prototype.terminate=function(){if(!1===nf(this))throw sf("terminate");!function(t){var n=t.Lh,r=n.Oh.Hf;!0===ca(r)&&ea(r);var i=new v("TransformStream terminated");Ja(n,i)}(this)},t}();function nf(t){return!!oo(t)&&!!d.prototype.hasOwnProperty.call(t,"Lh")}function rf(t){t.Fh=void 0,t.xh=void 0}function ef(t,n){var r=t.Lh,i=r.Oh.Hf;if(!1===ca(i))throw new v("Readable side is not in a state that permits enqueue");try{ua(i,n)}catch(t){throw Ja(r,t),r.Oh.Bf}(function(t){return!0!==ra(t)})(i)!==r.th&&Qa(r,!0)}function uf(t,n){return Do(t.Fh(n),void 0,function(n){throw Ka(t.Lh,n),n})}function sf(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function of(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function cf(t){return n=[t],new Ua({start:function(t){for(var r=0;r<n.length;r++){var i=n[r];t.enqueue(i)}t.close()}});var n}function af(t){return cf(new _(t))}function ff(t,n){return function(t,n){var r=n,i=t.getReader(),e=new os,u=function(){s();var t=new Le;i.cancel(t).catch(P),e.gc(t)},s=function(){r&&(r.ko(u),r=void 0)};r&&(r.do?u():r.mo(u));var o=[];return C.resolve(i.read()).then(function t(n){return n.done?(s(),C.resolve(o)):(o.push(n.value),C.resolve(i.read()).then(t))}).then(function(t){s(),e.yc(t)},function(t){s(),e.gc(t)}),e.wc}(t,n).then(function(t){return _u(t).buffer})}function hf(t,n){var r=n,i=new Ga,e=i.readable,u=i.writable,s=u.getWriter(),o=function(){r&&r.So()};return s.closed.then(o,o),t.then(function(t){return r=void 0,s.releaseLock(),t.pipeTo(u).catch(P)},function(t){return r=void 0,s.releaseLock(),u.abort(t).catch(P)}),e}function vf(t){return Ju(new _(t))}function df(t){return Qu(t).buffer}!function(t){t[t.Sf=0]="Sf",t[t.Mh=1]="Mh"}(Za||(Za={}));var lf="content-type",wf="text/plain;charset=UTF-8",yf=function(){function t(){}var n=t.prototype;return n.Bh=function(t){return this.Uh(t).then(JSON.parse)},n.Vh=function(t,n){switch(t){case Zs.Tf:return this.qh(n);case Zs.Ef:return this.Bh(n);case Zs.Sf:return this.jh();case Zs.Qe:return this.Uh(n);default:throw new v}},t}();function gf(t,n,r){if(t instanceof yf)return t;if(t instanceof Ua)return function(t,n){return new pf({ro:Za.Sf,jh:t,Hh:_f(n)})}(t,r);var i=_f(r),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ro:Zs.Qe,Wh:t,Hh:n||wf};if(t instanceof ArrayBuffer||yu(t))return{ro:Zs.Tf,Wh:Rf(t),Hh:n};if(ot(t)||et(t))return{ro:Zs.Ef,Wh:t,Hh:n};throw new v("Unsupported BodyInit type")}return{ro:Zs.Qe,Wh:null,Hh:n}}(t,i)});return new pf({ro:Za.Mh,wc:e,$h:n})}function _f(t){return(t.get(lf)||"").toLowerCase()}var pf=function(t){function n(n){var r;return(r=t.call(this)||this).zh=!1,r.Xh=new os,r.Xh.wc.catch(P),r.Gh(n),r}W(n,t);var r=n.prototype;return r.Yh=function(){return this.Xh.wc},r.Uh=function(t){return this.Kh(mf,t)},r.Bh=function(t){return this.Kh(bf,t)},r.qh=function(t){return this.Kh(Ef,t)},r.jh=function(){return this.Jh((t=this.Qh).ro===Za.Sf?t.jh:hf(t.wc.then(Sf).then(af),t.$h));var t},r.Kh=function(t,n){if(this.zh)return C.reject(new v("Already used"));this.zh=!0;var r=t(this.Qh,n);return this.Xh.yc(r.then(P)),r},r.Jh=function(t){if(this.zh)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.zh=!0;var n=new Ga,r=C.resolve(t.pipeTo(n.writable));return this.Xh.yc(r),n.readable},r.Gh=function(t){this.Qh=t,t.ro===Za.Mh&&t.wc.catch(P)},r.Zh=function(){if(this.zh)throw new v("Already used");var t=function(t){if(t.ro===Za.Sf){var n=t.jh.tee(),r=n[0],i=n[1];return[{ro:t.ro,jh:r,Hh:t.Hh},{ro:t.ro,jh:i,Hh:t.Hh}]}var e=t.$h.Io(),u=e[0],s=e[1];return[{ro:t.ro,wc:t.wc,$h:u},{ro:t.ro,wc:t.wc,$h:s}]}(this.Qh),r=t[0],i=t[1];return this.Gh(r),new n(i)},H(n,[{key:"tv",get:function(){return this.zh}}]),n}(yf);function mf(t,n){return t.ro===Za.Sf?ff(t.jh,n).then(vf):(n&&t.$h.Ro(n),qe(t.wc.then(kf),t.$h))}function kf(t){switch(t.ro){case Zs.Qe:return C.resolve(t.Wh||"");case Zs.Tf:return C.resolve(t.Wh).then(vf);case Zs.Ef:return C.resolve(t.Wh).then(JSON.stringify)}}function bf(t,n){return t.ro===Za.Sf?mf(t,n).then(JSON.parse):(n&&t.$h.Ro(n),qe(t.wc.then(Tf),t.$h))}function Tf(t){return t.ro===Zs.Ef?C.resolve(t.Wh):kf(t).then(JSON.parse)}function Ef(t,n){return t.ro===Za.Sf?ff(t.jh,n):(n&&t.$h.Ro(n),qe(t.wc.then(Sf),t.$h))}function Sf(t){switch(t.ro){case Zs.Tf:return C.resolve(t.Wh);case Zs.Qe:case Zs.Ef:return kf(t).then(df)}}function Rf(t){return t instanceof ArrayBuffer?t:us(ns(t)).buffer}function If(t){return t.nv>=200&&t.nv<=299||304===t.nv}var Cf,Df,Nf,Af,Of=function(t){function n(n,r){var i,e,u,s,o,c;r?(e=r.rv,u=r.iv,s=r.nv,o=r.ev,c=r.uv):(e=[],u=Zs.Qe,s=200,o="OK",c=!1);var a=n.sv,f=new to(n.rv||e),h=n.iv||u,v=n.ov||(r&&r.sv===a?r.ov:a.cv),d=r?r.av:null,l=gf(void 0!==n.Iu?n.Iu:d,n.$h||new Pe,f);return(i=t.call(this,l)||this).rv=f,i.sv=a,i.ov=v,i.iv=h,i.nv=void 0!==n.nv?n.nv:s,i.ev=void 0!==n.ev?String(n.ev):o,i.uv=n.uv||c,i}W(n,t);var r=n.prototype;return r.Iu=function(t){return this.Vh(this.iv,t)},r.fc=function(){return new n({Iu:this.Zh(),sv:this.sv},this)},n}(function(t){function n(n){var r;return(r=t.call(this)||this).av=n,r}W(n,t);var r=n.prototype;return r.Yh=function(){return this.av.Yh()},r.Uh=function(t){return this.av.Uh(t)},r.Bh=function(t){return this.av.Bh(t)},r.qh=function(t){return this.av.qh(t)},r.jh=function(){return this.av.jh()},r.Zh=function(){return this.av.Zh()},H(n,[{key:"tv",get:function(){return this.av.tv}}]),n}(yf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Cf||(Cf={})),function(t){t.fv="",t.hv="manifest",t.vv="segment",t.dv="content-protection"}(Df||(Df={})),function(t){t.fv="",t.lv="initialization-segment",t.wv="fairplay-license",t.yv="fairplay-certificate",t.gv="widevine-license",t._v="widevine-certificate",t.pv="playready-license",t.mv="clearkey-license",t.kv="aes128-key"}(Nf||(Nf={})),function(t){t.fv="",t.bv="audio",t.Tv="video",t.Qe="text",t.Ev="image"}(Af||(Af={}));var xf=function(t,n){var r,i,e,u,s,o,c,a,f,h,v,d=t.cv;n?(r=n.Wh,i=n.rv,e=n.Sv,u=n.iv,s=n.Rv,o=n.Co,c=n.ro,a=n.Iv,f=n.Cv,h=n.Dv,v=n.Nv):(r=null,i={},e=Cf.GET,u=Zs.Qe,s=0,c=Df.fv,a=Nf.fv,f=Af.fv,h=!1),this.cv=d,this.Wh=t.Wh||r,this.rv=new to(t.rv||i),this.Sv=t.Sv||e,this.iv=t.iv||u,this.Rv=void 0!==t.Rv?Number(t.Rv)||0:s,this.Co=t.Co||o||(new Pe).Co,this.ro=t.ro||c,this.Iv=t.Iv||a,this.Cv=t.Cv||f,this.Dv=void 0!==t.Dv?Boolean(t.Dv):h,this.Nv=t.Nv||v},Pf=function(){function t(){}var n=t.prototype;return n.sv=function(t){var n=function(t){return new Of({Iu:null,rv:{},sv:t,ov:t.cv,iv:t.iv,nv:0,ev:Qs.nf})}(new xf(t));return C.resolve(n)},n.Av=function(t){},n.fi=function(){},t}();var Lf,Ff=function(){function t(t,n){void 0===n&&(n=!0),this.Ov=t,this.xv=n}var n=t.prototype;return n.sv=function(t){var n=this.Pv(t);return this.Ov.sv(n)},n.Av=function(t){return this.Ov.Av(this.Lv(t))},n.Pv=function(n){var r=new xf(n);if(!this.xv){var i=t.Fv(r.cv);r=new xf({cv:i},r)}return r},n.Lv=function(n){var r=n.cv;return this.xv||(r=t.Fv(r)),{cv:r,Wh:n.Wh}},t.Fv=function(t){return N.Us&&_i(t,"http://")?t.replace(":","s:"):t},n.fi=function(){this.Ov.fi()},H(t,null,[{key:"Mv",get:function(){return t.Bv||(t.Bv=new t(new Pf)),t.Bv}}]),t}();Ff.Bv=void 0,function(t){t.Uv="HttpOpenError",t.Vv="HttpResponseError",t.qv="HttpTimeoutError"}(Lf||(Lf={}));var Mf=function(t){function n(n,r,i){var e;return(e=t.call(this,r,i)||this).jv=n,e}return W(n,t),H(n,[{key:"sv",get:function(){return this.jv}}]),n}(un);var Bf=function(t){function n(n,r){return t.call(this,n,"Error while opening "+n.cv+". Invalid URL.",r)||this}return W(n,t),H(n,[{key:"name",get:function(){return Lf.Uv}}]),n}(Mf);var Uf=function(t){function n(n,r,i){var e;return(e=t.call(this,n.sv,null!=i?i:function(t){return"Error while loading "+t.sv.cv+", status code "+t.nv}(n),r)||this).Hv=n,e}return W(n,t),H(n,[{key:"name",get:function(){return Lf.Vv}},{key:"Wv",get:function(){return this.Hv}}]),n}(Mf);var Vf=function(t){function n(n,r){return t.call(this,n,function(t){return"Request for "+t.cv+" timed out after "+t.Rv+" seconds."}(n),r)||this}return W(n,t),H(n,[{key:"name",get:function(){return Lf.qv}}]),n}(Mf),qf=function(t,n){return(qf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function jf(t,n){function r(){this.constructor=t}qf(t,n),t.prototype=null===n?d.create(n):(r.prototype=n.prototype,new r)}var Hf="object"==typeof i?i:"object"==typeof t?t:"object"==typeof global?global:null;var Wf=function(){var t=Hf.Blob;if(t)try{return new t,function(t,n){return new Hf.Blob(t,n)}}catch(t){}var n,r=Hf.BlobBuilder||Hf.WebKitBlobBuilder||Hf.MozBlobBuilder||Hf.MSBlobBuilder;return r?(n=r,function(t,r){var i=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];i.append(s)}return i.getBlob(r&&r.type||"")}):null}(),$f="function"==typeof Ua?Ua:void 0;function zf(t){return t&&"function"==typeof t.getReader}function Xf(t){if("function"!=typeof t)return!1;try{var n=!1,r=new t({start:function(){n=!0}});return!!n&&zf(r)}catch(t){return!1}}var Gf=function(){function t(t,n){this.Ff=t,this.$v=n}return t.prototype.pull=function(t){var n=this;return this.Ff.read().then(function(r){n.$v&&n.$v(r),r.done?t.close():t.enqueue(r.value)})},t.prototype.cancel=function(t){return this.Ff.cancel(t)},t}();function Yf(t,n){return n.constructor===t?n:new t(new Gf(n.getReader()),{highWaterMark:0})}var Kf=function(){function t(t,n){this.zv=t,this.yt=n}return t.prototype.pull=function(t){return this.zv().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function Jf(t,n,r){return new t(new Kf(n,r),{highWaterMark:0})}var Qf={searchParams:"URLSearchParams"in Hf,iterable:"Symbol"in Hf&&"iterator"in Symbol,blob:"FileReader"in Hf&&!!Wf,formData:"FormData"in Hf,arrayBuffer:"ArrayBuffer"in Hf,stream:Xf($f),streamRequest:"Request"in Hf&&"body"in Hf.Request.prototype,streamResponse:"Response"in Hf&&"body"in Hf.Response.prototype,abort:"AbortController"in Hf&&"Request"in Hf&&"signal"in Hf.Request.prototype,encoding:"TextEncoder"in Hf&&"TextDecoder"in Hf,url:"URL"in Hf&&function(t){try{return new Hf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Hf&&/Firefox\//.test(Hf.navigator.userAgent)};function Zf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function th(t){return"string"!=typeof t&&(t=String(t)),t}function nh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Qf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var rh=function(){function t(n){var r,i=this;this.Ys={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):(r=n,Qf.iterable&&r&&r[Symbol.iterator]?Array.from(n).forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])}))}return t.prototype.append=function(t,n){t=Zf(t),n=th(n);var r=t.toLowerCase();if(this.Ys.hasOwnProperty(r)){var i=this.Ys[r],e=i[1];i[1]=e?e+", "+n:n}else this.Ys[r]=[t,n]},t.prototype.delete=function(t){var n=Zf(t).toLowerCase();delete this.Ys[n]},t.prototype.get=function(t){var n=Zf(t).toLowerCase();return this.Ys.hasOwnProperty(n)?this.Ys[n][1]:null},t.prototype.has=function(t){var n=Zf(t).toLowerCase();return this.Ys.hasOwnProperty(n)},t.prototype.set=function(t,n){var r=(t=Zf(t)).toLowerCase();this.Ys[r]=[t,th(n)]},t.prototype.forEach=function(t,n){for(var r in this.Ys)this.Ys.hasOwnProperty(r)&&t.call(n,this.Ys[r][1],r,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),nh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),nh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),nh(t)},t.prototype.asList=function(){var t=[];for(var n in this.Ys)if(this.Ys.hasOwnProperty(n)){var r=this.Ys[n],i=r[0],e=r[1];t.push([i,e])}return t},t}();function ih(){}Qf.iterable&&(rh.prototype[Symbol.iterator]=rh.prototype.entries);var eh,uh,sh,oh=l.min,ch=String.fromCharCode,ah=16384;function fh(t){for(var n=[],r=0,i=t;r<i.length;r++){var e=i[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,r=[],i=0;i<n;i+=ah){var e=oh(i+ah,n);r.push(ch.apply(null,t.slice(i,e)))}return r.join("")}(n)}function hh(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function vh(t,n){return t>>n&63|128}function dh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(hh(t),n.push(t>>12&15|224),n.push(vh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(vh(t,12)),n.push(vh(t,6))),n.push(63&t|128)):n.push(t)}function lh(){if(sh>=uh)throw new h("Invalid byte index");var t=255&eh[sh];if(sh++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function wh(){var t,n;if(sh>uh)throw new h("Invalid byte index");if(sh===uh)return!1;if(t=255&eh[sh],sh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|lh())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|lh()<<6|lh())>=2048)return hh(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|lh()<<12|lh()<<6|lh())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var yh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function gh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function _h(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function ph(t){return t&&DataView.prototype.isPrototypeOf(t)}var mh,kh=ArrayBuffer.isView||function(t){return t&&(yh.indexOf(d.prototype.toString.call(t))>-1||ph(t))};function bh(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Th(t){return new C(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function Eh(t){return Qf.encoding?new Hf.TextDecoder("utf-8").decode(new _(t)):fh(function(t){uh=(eh=t).length,sh=0;for(var n,r=[];!1!==(n=wh());)r.push(n);return r}(new _(t)))}function Sh(t){return Qf.encoding?(new Hf.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],r=0,i=t;r<i.length;r++)dh(i[r],n);return n}(function(t){for(var n=[],r=0,i=t.length;r<i;){var e=t.charCodeAt(r++);if(e>=55296&&e<=56319&&r<i){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),r--)}else n.push(e)}return n}(t))).buffer}function Rh(t){var n=t.getReader(),r=[],i=function(t){var e=t.done,u=t.value;return e?C.resolve(r):(r.push(u),n.read().then(i))};return n.read().then(i)}function Ih(t){return Rh(t).then(function(t){return function(t){for(var n=0,r=0,i=t;r<i.length;r++)n+=(c=i[r]).byteLength;for(var e=new _(n),u=0,s=0,o=t;s<o.length;s++){var c=o[s];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Ch(t){return t.slice?t.slice(0):Dh(new _(t))}function Dh(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Nh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),e=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(i),decodeURIComponent(e))}}),n}function Ah(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Xv===mh.Gv){if(!n.Yv.tee)throw new h("could not clone ReadableStream body");var r=n.Yv.tee(),i=r[0],e=r[1];return n.body=i,n.Yv=i,n.Kv=i,e}return n.Xv===mh.Tf?Ch(n.Yv):n.Xv===mh.Mh?n.Yv.then(Ah):n.Kv}!function(t){t[t.Qe=0]="Qe",t[t.Jv=1]="Jv",t[t.Qv=2]="Qv",t[t.Tf=3]="Tf",t[t.Gv=4]="Gv",t[t.Mh=5]="Mh"}(mh||(mh={}));var Oh=function(){function t(n,r){this.bodyUsed=!1;var i,e,u,s=this;if(this.Kv=n||null,n)if("string"==typeof n)this.Xv=mh.Qe,this.Yv=n;else if((u=n)&&"function"==typeof u.then)this.Xv=mh.Mh,this.Yv=C.resolve(n).then(function(n){return new t(n,r)}),this.Yv.catch(ih);else if(Qf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Xv=mh.Jv,this.Yv=n;else if(Qf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Xv=mh.Qv,this.Yv=n;else if(Qf.searchParams&&gh(n))this.Xv=mh.Qe,this.Yv=n.toString();else if(Qf.arrayBuffer&&(_h(n)||kh(n)))ph(n)&&(this.Kv=new _((e=n).buffer,e.byteOffset,e.byteLength)),this.Xv=mh.Tf,this.Yv=_h(i=n)?Ch(i):Dh(i);else{if(!Qf.stream||!zf(n))throw new h("unsupported BodyInit type");n=Yf($f,n),this.Xv=mh.Gv,this.Yv=n,this.Kv=n}else this.Xv=mh.Qe,this.Yv="";this.Zv="",r.has("content-type")?this.Zv=(r.get("content-type")||"").toLowerCase():("string"==typeof n?this.Zv="text/plain;charset=UTF-8":s.Xv===mh.Jv&&s.Yv.type?this.Zv=s.Yv.type:Qf.searchParams&&gh(n)&&(this.Zv="application/x-www-form-urlencoded;charset=UTF-8"),this.Zv&&r.set("content-type",this.Zv)),Qf.stream&&(null==n?this.body=null:s.Xv===mh.Gv?this.body=s.Yv:this.body=Jf($f,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,r,i=bh(this);return i||(this.Xv===mh.Jv?(t=this.Yv,n=new FileReader,r=Th(n),n.readAsText(t),r):this.Xv===mh.Tf?C.resolve(this.Yv).then(Eh):this.Xv===mh.Gv?Ih(this.Yv).then(Eh):this.Xv===mh.Mh?this.Yv.then(function(t){return t.text()}):this.Xv===mh.Qv?C.reject(new h("could not read FormData body as text")):C.resolve(this.Yv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Qf.blob&&(Oh.prototype.blob=function(){var t,n,r=bh(this);return r||(this.Xv===mh.Jv?C.resolve(this.Yv):this.Xv===mh.Tf?C.resolve(Wf([this.Yv],{type:this.Zv})):this.Xv===mh.Gv?(t=this.Yv,n=this.Zv,Rh(t).then(function(t){return Wf(t,{type:n||""})})):this.Xv===mh.Mh?this.Yv.then(function(t){return t.blob()}):this.Xv===mh.Qv?C.reject(new h("could not read FormData body as Blob")):C.resolve(Wf([this.Yv],{type:this.Zv})))}),Qf.arrayBuffer&&(Oh.prototype.arrayBuffer=function(){var t,n,r;return this.Xv===mh.Tf?bh(this)||C.resolve(this.Yv):this.Xv===mh.Jv?bh(this)||(t=this.Yv,n=new FileReader,r=Th(n),n.readAsArrayBuffer(t),r):this.Xv===mh.Gv?Ih(this.Yv):this.Xv===mh.Mh?bh(this)||this.Yv.then(function(t){return t.arrayBuffer()}):this.Xv===mh.Qv?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.Yv).then(Sh)}),Qf.formData&&(Oh.prototype.formData=function(){return this.Xv===mh.Qv?bh(this)||C.resolve(this.Yv):this.text().then(Nh)});var xh=[301,302,303,307,308],Ph=function(t){function n(n,r){var i=this,e=new rh((r=r||{}).headers);return(i=t.call(this,n||null,e)||this).type="default",i.status=void 0===r.status?200:r.status,i.ok=i.status>=200&&i.status<300,i.statusText=void 0!==r.statusText?String(r.statusText):"",i.headers=e,i.url=r.url||"",i}return jf(n,t),n.prototype.clone=function(){return new n(Ah(this),{status:this.status,statusText:this.statusText,headers:new rh(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,r){if(-1===xh.indexOf(r))throw new RangeError("Invalid status code");return new n(null,{status:r,headers:{location:t}})},n}(Oh);var Lh,Fh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function r(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function i(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),d.defineProperty(t,i.key,i)}}function u(t,n,r){return n&&i(t.prototype,n),r&&i(t,r),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,r){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var i=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(i){var e=d.getOwnPropertyDescriptor(i,n);return e.get?e.get.call(r):e.value}})(t,n,r||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){r(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var r=this.listeners[t],i=0,e=r.length;i<e;i++)if(r[i]===n)return void r.splice(i,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var r=function(r){o(function(){return r.call(n,t)})},i=this.listeners[t.type],e=0,u=i.length;e<u;e++)r(i[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,i,e;return r(this,n),i=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(i):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){r(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Lh=Fh)&&Lh.__esModule&&d.prototype.hasOwnProperty.call(Lh,"default")&&Lh.default;Fh.AbortSignal;var Mh=Fh.AbortController,Bh=Hf.DOMException;try{new Bh}catch(t){(Bh=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),Bh.prototype.constructor=Bh}var Uh=Mh;function Vh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var r=function(){n.removeEventListener("abort",r),t.signal.removeEventListener("abort",r),t.abort()};n.addEventListener("abort",r),t.signal.addEventListener("abort",r)}}function qh(t,n,r){return new C(function(i,e){if(n.signal.aborted)return t.catch(ih),e(jh());var u=function(){n.signal.removeEventListener("abort",u),e(jh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),i(t),r&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),r&&n.abort()})})}function jh(){return new Bh("Aborted","AbortError")}var Hh,Wh="moz-chunked-arraybuffer";function $h(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Hh||(Hh={}));var zh=function(){function t(t,n){var r=this;this.td=!1,this.jv=t,this.nd=n,this.rd=new p,this.ed=new C(function(t,n){r.ud=t,r.sd=n})}return t.prototype.send=function(){var t=this;return this.od().then(function(n){return t.fd(n,t.nd),t.ed})},t.prototype.od=function(){var t=this.jv;return t.Xv===mh.Gv?t.arrayBuffer():C.resolve(t.Kv)},t.prototype.hd=function(t){this.jv.onprogress&&this.jv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.vd=function(t){this.sd(t)},t.prototype.dd=function(){this.vd(new v("Network request failed"))},t.prototype.ld=function(){this.vd(new v("Network request failed"))},t.prototype.wd=function(){this.vd(jh())},t.prototype.fd=function(t,n){var r=this,i=this.jv,e=this.rd,u=function(){return r.yd()};if(i.signal.aborted)return this.wd();e.onreadystatechange=function(){if(e.readyState>=Hh.HEADERS_RECEIVED&&!r.td){var t=function(t){var n=new rh;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),i=r.shift().trim();if(i){var e=r.join(":").trim();n.append(i,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};r.td=!0,r.gd(n)}},e.onprogress=function(t){return r.hd(t)},e.onload=function(){return r._d()},e.onerror=function(){return r.dd()},e.ontimeout=function(){return r.ld()},e.onabort=function(){return r.wd()},e.open(i.method,i.url,!0),e.withCredentials="include"===i.credentials,"responseType"in e&&n&&(e.responseType=n),i.headers.asList().forEach(function(t){var n=t[0],r=t[1];e.setRequestHeader(n,r)}),i.signal.addEventListener("abort",u),e.onloadend=function(){i.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.yd=function(){this.rd.abort()},t}(),Xh=function(t){function n(n,r){var i=t.call(this,n,r)||this;return i.pd=void 0,i.md=void 0,i}return jf(n,t),n.prototype.gd=function(t){var n=this;this.pd=new C(function(t,r){n.md=t,n.kd=r}),this.ud(new Ph(this.pd,t))},n.prototype._d=function(){var t=this.rd.response||this.rd.responseText;this.md(t)},n.prototype.vd=function(n){t.prototype.vd.call(this,n),this.kd&&this.kd(n)},n}(zh),Gh=function(t){function n(n){var r=t.call(this,n,Wh)||this;return r.bd=void 0,r.Td=void 0,r.Ed=!1,r}return jf(n,t),n.prototype.gd=function(t){var n=this;this.bd=new $f({start:function(t){n.Td=t},cancel:function(){n.Ed=!0,n.yd()}}),this.ud(new Ph(this.bd,t))},n.prototype.hd=function(n){this.Ed||this.Td.enqueue(new _(this.rd.response)),t.prototype.hd.call(this,n)},n.prototype._d=function(){this.Td.close()},n.prototype.vd=function(n){t.prototype.vd.call(this,n),this.Td&&!this.Ed&&(this.Ed=!0,this.Td.error(n))},n}(zh),Yh=function(){var t=Qf.firefox&&$h(Wh);return Yh=function(){return t},t},Kh=function(){var t;return t=Qf.arrayBuffer&&$h("arraybuffer")?"arraybuffer":Qf.blob&&$h("blob")?"blob":"",Kh=function(){return t},t};function Jh(t){return(Qf.stream&&Yh()?new Gh(t):new Xh(t,Kh())).send()}var Qh=Hf.fetch,Zh=Hf.Request,tv=(Hf.Response,Hf.AbortController);var nv=["http:","https:"];var rv=function(){try{if(Qf.streamRequest){var t=new Zh("about:blank",{body:"",method:"POST"}).body;if(t&&Xf(t.constructor))return t.constructor}}catch(t){}}();function iv(t,n,r){var i;if(Qf.stream){var e=void 0;if(Qf.streamResponse){var u=t.body;e=u&&Yf($f,u)}else e=Jf($f,function(){return qh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&r&&(e=function(t,n,r){var i=0;return function(t,n,r){return new t(new Gf(n.getReader(),r),{highWaterMark:0})}($f,t,function(t){var e=t.done,u=t.value;e?r=void 0===r?i:r:i+=u.byteLength,n(i,r)})}(e,r,ev(t.headers))),i=e}else{var s=qh(t.arrayBuffer(),n,!0);r&&(s=function(t,n,r){return C.resolve().then(function(){return n(0,r),t}).then(function(t){var i=t.byteLength;return n(i,r=void 0===r?i:r),t})}(s,r,ev(t.headers))),i=s}return new Ph(i,t)}function ev(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function uv(t){var n=new Uh;return t.signal&&Vh(n,t.signal),function(t,n){var r,i,e=t;if(r=e.Xv===mh.Gv?Qf.streamRequest&&rv?C.resolve(Yf(rv,e.Yv)):qh(t.arrayBuffer(),n,!1):qh(C.resolve(t.Kv),n,!1),Qf.abort){var u=new tv;Vh(u,n.signal),i=u.signal}return r.then(function(n){return new Zh(t.url,{body:n||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof rh?r:new rh(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:i});var r})}(t,n).then(Qh).then(function(r){return iv(r,n,t.onprogress)})}var sv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var ov=function(t){function n(r,i){var e,u,s,o,c,a,f,h,d,l=this,w=(i=i||{}).body||null;if(r instanceof n){if(r.bodyUsed)throw new v("Already used");e=r.url,u=r.credentials,i.headers||(s=new rh(r.headers)),o=r.method,c=r.mode,a=r.referrer,f=r.referrerPolicy,h=r.signal,d=r.onprogress,w||null==r.Kv||(w=r.Kv,r.bodyUsed=!0)}else e=String(r),u="same-origin",o="GET",c="cors",a="about:client",f="",h=null,d=null;if(!i.headers&&s||(s=new rh(i.headers)),i&&(a="about:client",f=""),(l=t.call(this,w,s)||this).url=e,l.headers=s,l.credentials=i.credentials||u,l.method=function(t){var n=t.toUpperCase();return sv.indexOf(n)>-1?n:t}(i.method||o),l.mode=i.mode||c,l.signal=i.signal||h||(new Uh).signal,l.referrer=void 0!==i.referrer?i.referrer:a,l.referrerPolicy=void 0!==i.referrerPolicy?i.referrerPolicy:f,l.onprogress=i.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return jf(n,t),n.prototype.clone=function(){return new n(this,{body:Ah(this)})},n}(Oh),cv="function"==typeof Qh&&Qf.stream&&Qf.streamResponse&&Qf.url;function av(t,n){return new C(function(r){var i=new ov(t,n);r((cv&&function(t){try{return nv.indexOf(new Hf.URL(t,Hf.location.href).protocol)>=0}catch(t){return!1}}(i.url)?uv:Jh)(i))})}av.polyfill=!0;var fv=function(){function t(t){this.Sd=new Pe,this.Hv=void 0,this.Rd=!1,this.jv=t,this.Sd.Ro(t.Co),this.Wv=this.Id()}var n=t.prototype;return n.Id=function(){var t=C.coroutine(Qi.mark(function t(){var n,r,i,e,u,s,c,a,f=this;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.jv).Rv&&o(function(){f.Rd=!0,f.Sd.So()},n.Rv),t.prev=2,r=av(n.cv,{method:n.Sv,headers:n.rv.Rf(),body:n.Wh,credentials:n.Dv?"include":"same-origin",signal:dv(this.Sd.Co),onprogress:n.Nv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Bf(n,t.t0);case 9:return t.prev=9,t.next=12,r;case 12:i=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Fe(e=this.Cd(t.t1))&&this.Sd.So(),e;case 20:if(u=i.url||n.cv,s=0===i.status&&"file:"===(h=u,N.zu(h).protocol)?200:i.status,c=new hv(this,i,this.Sd),a=new Of({Iu:c,sv:n,iv:n.iv,rv:new to(i.headers.asList()),nv:s,ev:i.statusText,ov:u}),this.Hv=a,!If(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Uf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Cd=function(t){return Fe(t)?this.Rd?new Vf(this.jv):new Le(t.message,t):this.Hv?new Uf(this.Hv,t):new Bf(this.jv,t)},t}(),hv=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).Xh=new os,e.Zt=n,e.Dd=r,e.Sd=i,e.Xh.wc.catch(P),e}W(n,t);var r=n.prototype;return r.Yh=function(){return this.Xh.wc},r.Uh=function(t){return this.Kh(this.Dd.text(),t)},r.qh=function(t){return this.Kh(this.Dd.arrayBuffer(),t)},r.jh=function(){var t=this.Dd.body;return t?this.Jh(t):hf(this.qh().then(af),this.Sd)},r.Zh=function(){var t=this.Dd.clone(),r=this.Sd.Io(),i=r[0],e=r[1];return this.Sd=i,new n(this.Zt,t,e)},r.Kh=function(t,n){var r=this;n&&this.Sd.Ro(n);var i=C.resolve(t).catch(function(t){throw r.Zt.Cd(t)});return i=qe(i,this.Sd),this.Xh.yc(i.then(P)),i},r.Jh=function(t){var n=this,r=new Ga,i=C.resolve(t.pipeTo(r.writable,{preventAbort:!0})).catch(function(t){var i=n.Zt.Cd(t);throw r.writable.abort(i).catch(P),i});return i=qe(i,this.Sd),this.Xh.yc(i.then(P)),r.readable},H(n,[{key:"tv",get:function(){return this.Dd.bodyUsed}}]),n}(yf),vv="abort";function dv(t){var n=new Uh;if(t.do)n.abort();else if(!t.lo){var r=function(){i(),n.abort()},i=function i(){n.signal.removeEventListener(vv,r),t.ko(r),t.ko(i)};n.signal.addEventListener(vv,r),t.mo(r),t.bo(i)}return n.signal}var lv,wv=function(){function t(){}var n=t.prototype;return n.sv=function(t){return new fv(t).Wv},n.Av=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.cv,Ks([t.Wh],{type:t.Hh}));else{var n=t.Hh?{"Content-type":t.Hh}:void 0;We(this.sv(new xf({Sv:Cf.POST,cv:t.cv,Wh:t.Wh,rv:n})))}},n.fi=function(){},t}(),yv=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Nd=void 0,n.Ad=function(){if(tt.Ne||tt.Ce){var t=tt.Ie;if(void 0===t||Number(t)<42)return!1}return!0}(),n.Od=void 0,n}return W(n,t),H(n,[{key:"Is",get:function(){return this.Nd||(this.Nd=new Se(zs())),this.Nd}},{key:"xd",get:function(){return this.Ad}},{key:"Pd",get:function(){return!1}},{key:"Ld",get:function(){return Gs.Ba()}},{key:"Fd",get:function(){return{Md:Js}}},{key:"Bd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Ud",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Vd",get:function(){return this.Od||(this.Od=new Ff(new wv)),this.Od}}]),n}(Ki);O(new yv),function(t){t.qd="jd",t.Hd="Wd"}(lv||(lv={}));lv.qd,lv.Hd;var gv=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).$d=void 0,i}return W(n,t),H(n,[{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}}]),n}(Qe);var _v,pv=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n}(gv),mv=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n}(Qe),kv=function(t){function n(n){var r;return(r=t.call(this,lv.qd)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new bv(this.Gd.zd)},n}(pv),bv=function(t){function n(n){var r;return(r=t.call(this,"addtrack")||this).track=n,r}return W(n,t),n}(mv),Tv=function(t){function n(n){var r;return(r=t.call(this,lv.Hd)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new Ev(this.Gd.zd)},n}(pv),Ev=function(t){function n(n){var r;return(r=t.call(this,"removetrack")||this).track=n,r}return W(n,t),n}(mv);!function(t){t.Yd="Kd",t.Jd="Qd",t.Zd="tl",t.nl="il",t.ul="sl",t.ol="cl",t.al="fl",t.hl="vl",t.dl="Pc",t.ll="wl",t.yl="gl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(_v||(_v={}));var Sv=function(t){function n(){var n;return(n=t.call(this)||this)._l=[],n.$d=void 0,n}W(n,t);var r=n.prototype;return r.pl=function(t){return this._l[t]},r.ml=function(t){return!(!t||Ae(this._l,t))&&(this._l.push(t),this.$d&&this.$d.push(t.zd),t.Po(_v.ol,this.Ao),this.Oo(new kv(t)),!0)},r.kl=function(t){if(!t)return!1;var n=this._l.indexOf(t);return!(n<0)&&(Ne(this._l,n),this.$d&&Ne(this.$d,n),t.Bo(_v.ol,this.Ao),this.Oo(new Tv(t)),!0)},r.bl=function(t){return Ae(this._l,t)},r.Tl=function(){for(var t=this._l,n=t.length-1;n>=0;n-=1)this.kl(t[n])},r.fi=function(){this.Tl(),this.Mo()},H(n,[{key:"El",get:function(){return this._l}},{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}},{key:"Sl",get:function(){return this._l.length}}]),n}(Ke),Rv=function(t){function n(n){var r;return(r=t.call(this,_v.ol)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new Iv(this.Gd.zd)},n}(pv),Iv=function(t){function n(n){var r;return(r=t.call(this,"change")||this).track=n,r}return W(n,t),n}(mv),Cv=function(t){function n(){var n;return(n=t.call(this)||this).Rl=void 0,n.Il=function(t){var r=t.Gd;n.ml(r)},n.Cl=function(t){var r=t.Gd;n.kl(r)},n}W(n,t);var r=n.prototype;return r.Dl=function(t){t.Po(lv.qd,this.Il),t.Po(lv.Hd,this.Cl)},r.Nl=function(t){t.Bo(lv.qd,this.Il),t.Bo(lv.Hd,this.Cl)},r.fi=function(){this.Rl&&this.Rl.fi(),t.prototype.fi.call(this)},H(n,[{key:"Al",get:function(){return this.Rl},set:function(t){var n=this.Rl;if(t!==n){if(n){this.Nl(n);for(var r=0,i=n.El;r<i.length;r++){var e=i[r];t&&t.bl(e)||this.kl(e)}}if(this.Rl=t,t){for(var u=[],s=0,o=t.El;s<o.length;s++){var c=o[s];this.ml(c),this.Ol(c)&&u.push(c)}this.Dl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Oo(new Rv(f))}}}}}]),n}(Sv),Dv=d.freeze||L;function Nv(t,n,r){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:r})}function Av(t,n){for(var r=0,i=d.getOwnPropertyNames(n);r<i.length;r++){var e=i[r];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Ov(t){if(ot(t)){var n={};for(var r in t)nt.call(t,r)&&(n[r]=Ov(t[r]));return n}if(et(t)){for(var i=new Array(t.length),e=0;e<i.length;e++)e in t&&(i[e]=Ov(t[e]));return i}return t}function xv(t,n){return t===n||!(!t||!n)&&(!(!st(t)||!st(n))&&(ut(t)?!!ut(n)&&function(t,n){var r=t.length,i=n.length;if(r!==i)return!1;for(var e=0;e<r;e+=1)if(!xv(t[e],n[e]))return!1;return!0}(t,n):!ut(n)&&function(t,n){var r=d.keys(t),i=d.keys(n);if(!r||!i||r.length!==i.length)return!1;for(var e=0;e<r.length;e++){var u=r[e];if(!nt.call(n,u)||!xv(t[u],n[u]))return!1}return!0}(t,n)))}function Pv(t,n){return t.constructor===n.constructor}function Lv(t){for(var n={},r=0,i=d.keys(t);r<i.length;r++){var e=i[r],u=t[e];null!=u&&(n[e]=u)}return n}function Fv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Mv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Bv(t){var n=Mv(t);if(g(n))throw new h("Expected a valid number.");return n}function Uv(t){return"string"==typeof t?t:""}function Vv(t,n){return ut(t)?function(t,n){if(!ut(t))return[];for(var r=0|t.length,i=new Array(r),e=0;e<r;e++)i[e]=n(t[e]);return i}(t,n):n(t)}var qv=[lv.qd,lv.Hd,_v.ol];function jv(t){var n,r=t.El.map(function(t){return t.zd});return r.item=function(n){var r=0|n,i=t.pl(r);return i&&i.zd||void 0},r.addEventListener=function(t,r){n.Po(t,r)},r.removeEventListener=function(t,r){n.Bo(t,r)},n=new Je(r),t.Po(qv,function(t){return n.Oo(t.zd)}),r}function Hv(){}function Wv(t){var n,r=[_v.dl,_v.ol,_v.ll,_v.yl,_v.QUALITY_UNAVAILABLE],i={get activeQuality(){return t.xl&&t.xl.zd},get enabled(){return t.Pl},set enabled(n){t.Pl=Fv(n)},get id(){return t.Ll},get uid(){return t.Fl},get kind(){return t.Ml},get label(){return t.Bl},set label(n){t.Bl=Uv(n)},get language(){return t.Ul},get qualities(){return t.Vl.zd},set targetQuality(n){var r;(r=n?function(t,n){for(var r=[],i=0,e=t.Vl.El;i<e.length;i++)for(var u=e[i],s=0;s<n.length;s++){var o=n[s];u.zd===o&&r.push(u)}return r}(t,et(n)?n:[n]):[]).length>0?t.ql=r:t.ql=void 0},get targetQuality(){if(t.ql)return 1===t.ql.length?t.ql[0].zd:t.ql.map(function(t){return t.zd})},addEventListener:function(t,r){var i=Vv(t,Uv);n.Po(i,r)},removeEventListener:function(t,r){var i=Vv(t,Uv);n.Bo(i,r)}};return n=new Je(i),t.Po(r,function(t){return n.Oo(t.zd)}),d.defineProperty(i,"constructor",{value:Hv}),i}function $v(){}function zv(t){var n=jv(t);return d.defineProperty(n,"constructor",{value:$v}),n}var Xv,Gv,Yv=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.Xd=function(){return zv(this)},r.Ol=function(t){return t.Pl},n}(Cv);function Kv(){}function Jv(t){var n,r=[_v.ol,_v.dl,_v.Yd,_v.Jd,_v.Zd,_v.nl,_v.ul,_v.al,_v.hl],i=[Gv.jl],e={get kind(){return t.Ml},get label(){return t.Bl},set label(n){t.Bl=Uv(n)},get language(){return t.Ul},get id(){return t.Ll},get uid(){return t.Fl},get inBandMetadataTrackDispatchType(){return t.Hl},get mode(){return t.Wl},set mode(n){n!==Xv.$l&&n!==Xv.zl&&n!==Xv.Xl||(t.Wl=n)},get type(){return t.ro},get readyState(){return td(t.Gl)},get cues(){return t.Wl===Xv.Xl?null:t.Yl.zd},get activeCues(){return t.Wl===Xv.Xl?null:t.Kl.zd},get src(){return t.Jl||""},addEventListener:function(t,r){var i=Vv(t,Uv);n.Po(i,r)},removeEventListener:function(t,r){var i=Vv(t,Uv);n.Bo(i,r)}};return n=new Je(t),t.Po(r,function(t){return n.Oo(t.zd)}),t.Po(i,function(t){return n.Oo(t)}),d.defineProperty(e,"constructor",{value:Kv}),e}function Qv(){}function Zv(t){var n=jv(t);return d.defineProperty(n,"constructor",{value:Qv}),n}function td(t){return t}!function(t){t.Xl="disabled",t.zl="hidden",t.$l="showing"}(Xv||(Xv={})),function(t){t.jl="error"}(Gv||(Gv={}));var nd=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.Xd=function(){return Zv(this)},r.Ol=function(t){return t.Wl===Xv.$l},n}(Cv),rd=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.Fo=function(n){t.prototype.Fo.call(this,n)},r.qo=function(n){t.prototype.qo.call(this,n)},n}(Ke),id=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(rd),ed=function(t){function n(){return t.call(this,Qs.Ka)||this}return W(n,t),n}(Qe),ud=function(t){function n(n){var r;return(r=t.call(this,Qs.$a)||this).currentSource=n,r}return W(n,t),n}(Qe),sd=function(){function t(){}return t.Ql=function(n,r){var i=t.Zl(n,r);return i?t.tw(i):0},t.nw=function(){return N.Bd||"default"},t.rw=function(){return N.Ud||"unknown"},t.Zl=function(n,r){var i,e=null===(i=N.Ld)||void 0===i?void 0:i.rc(r),u=e&&JSON.parse(e);if(u&&u[n])return t.iw(u,n,r)},t.tw=function(t){var n=t.availableBandwidth;return n||0},t.iw=function(n,r,i){if(!t.ew(n,r))return n[r];t.uw(n,r,i)},t.uw=function(t,n,r){var i;delete t[n],null===(i=N.Ld)||void 0===i||i.Ma(r,JSON.stringify(t))},t.ew=function(t,n){var r=t[n].storedTimestamp;if(!r)return!1;var i=new Date(r),e=(new Date).getTime();return i.setMonth(i.getMonth()+1)<=e},t.sw=function(t,n,r,i){var e;return Zi(Zi({},t),((e={})[n]={availableBandwidth:r,storedTimestamp:i},e))},t.ow=function(n){var r=t.nw();t.cw(r,"theoplayer-stored-network-info",n,Qt())},t.cw=function(n,r,i,e){var u,s,o=null===(u=N.Ld)||void 0===u?void 0:u.rc(r),c=o?JSON.parse(o):void 0,a=t.sw(c,n,i,e);null===(s=N.Ld)||void 0===s||s.Ma(r,JSON.stringify(a))},t.aw=function(){var n=t.nw();return t.Ql(n,"theoplayer-stored-network-info")},t}();var od,cd,ad,fd,hd,vd,dd="1ADD53F3";function ld(t){return{chromecast:function(t){return{appID:t&&t.appID?Uv(t.appID):dd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return od.AUTO;case"manual":return od.MANUAL;case"disabled":return od.DISABLED;default:return od.MANUAL}}(t?t.strategy:void 0)}}function wd(t){var n,r=ad.fw;return(n=t)&&gi(n,"mpd")&&(r=ad.hw),function(t){return!!t&&gi(t,"m3u8")}(t)&&(r=ad.vw),r}function yd(t){return st(t)&&st(t.ssai)&&"google-dai"===t.ssai.integration}function gd(t){return st(t)&&ct(t.integration)&&"verizon-media"===t.integration}function _d(t){if(ct(t))return!t;if(gd(t))return!t.id;if(yd(t)){var n=t.ssai,r="live"===n.availabilityType&&n.assetKey,i="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(r&&i)}return!t.src}function pd(t){return Boolean(st(t)&&ct(t.src))}function md(t){return ct(t)||pd(t)||yd(t)||gd(t)}function kd(t){if(t){if(md(t))return _d(t);for(var n=0;n<t.length;n++){if(!_d(t[n]))return!1}return!0}return!0}function bd(){return{crossOrigin:cd.dw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Td(){return Zi(Zi({},bd()),{src:void 0,type:ad.fw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Ed(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:fd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hd.NONE;case"midroll-and-postroll":default:return hd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Fv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return fd.INSECURE;case"disabled":return fd.DISABLED;case"enabled":default:return fd.ENABLED}}(t.vpaidMode)),et(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ct)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Fv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Sd(t){if(!ut(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];ot(i)&&n.push(i)}return n}function Rd(t){return ct(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(od||(od={})),function(t){t.dw="",t.lw="anonymous",t.ww="use-credentials"}(cd||(cd={})),function(t){t.hw="application/dash+xml",t.vw="application/vnd.apple.mpegurl",t.yw="application/x-mpegurl",t.fw="video/mp4",t.gw="application/vnd.theoplayer.hesp+json",t._w="application/vnd.theo.hesp+json"}(ad||(ad={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(fd||(fd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hd||(hd={})),function(t){t[t.pw=0]="pw",t[t.mw=1]="mw",t[t.kw=2]="kw",t[t.bw=3]="bw",t[t.Tw=4]="Tw"}(vd||(vd={}));var Id,Cd=function(t){function n(n,r){var i;return void 0===r&&(r=vd.pw),(i=t.call(this,Qs.Ga)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),Dd=function(t){function n(n){var r;return(r=t.call(this,Qs.if)||this).currentTime=n,r}return W(n,t),n}(Qe),Nd=function(t){function n(n){var r;return(r=t.call(this,Qs.ef)||this).currentTime=n,r}return W(n,t),n}(Qe);!function(t){t.Ew="canplay",t.Sw="canplaythrough",t.Rw="loadeddata",t.Iw="loadedmetadata",t.al="readystatechange",t.Cw="waiting",t.Dw="playing"}(Id||(Id={}));var Ad,Od=[Id.Ew,Id.Sw,Id.Rw,Id.Iw,Id.al,Id.Cw,Id.Dw],xd=function(t){function n(n,r){var i;return void 0===r&&(r=vd.mw),(i=t.call(this,Id.Iw)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),Pd=function(t){function n(n){var r;return(r=t.call(this,Qs.Xa)||this).duration=n,r}return W(n,t),n}(Qe),Ld=function(t){function n(n,r){var i;return(i=t.call(this,Qs.sf)||this).currentTime=n,i.playbackRate=r,i}return W(n,t),n}(Qe),Fd=function(t){function n(n,r){var i;return(i=t.call(this,Qs._f)||this).currentTime=n,i.currentProgramDateTime=r,i}return W(n,t),n}(Qe),Md=function(t){function n(n){var r;return(r=t.call(this,Qs.Ya)||this).currentTime=n,r}return W(n,t),n}(Qe),Bd=function(t){function n(n,r){var i;return void 0===r&&(r=vd.kw),(i=t.call(this,Id.Rw)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),Ud=function(t){function n(n){var r;return(r=t.call(this,Qs.hf)||this).currentTime=n,r}return W(n,t),n}(Qe),Vd=function(t){function n(n){var r;return(r=t.call(this,Qs.ff)||this).currentTime=n,r}return W(n,t),n}(Qe),qd=function(t){function n(n,r){var i;return(i=t.call(this,Qs.pf)||this).currentTime=n,i.volume=r,i}return W(n,t),n}(Qe),jd=function(t){function n(n,r){var i;return void 0===r&&(r=vd.bw),(i=t.call(this,Id.Ew)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),Hd=function(t){function n(n,r){var i;return void 0===r&&(r=vd.Tw),(i=t.call(this,Id.Sw)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),Wd=function(t){function n(n,r){var i;return(i=t.call(this,Id.al)||this).currentTime=n,i.readyState=r,i}return W(n,t),n}(Qe),$d=function(t){function n(n){var r;return(r=t.call(this,Gv.jl)||this).errorObject=n,r}return W(n,t),n.prototype.Xd=function(){return this},H(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gv);function zd(t){switch(t){case Ad.ALL:case Ad.CONTENT:return t;default:return Ad.NONE}}function Xd(t){var n,r,i,e=Ov(t||{});return e.libraryLocation&&(e.libraryLocation=Si(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=ld(e.cast),e.ads=Ed(e.ads),e.analytics=Sd(e.analytics),e.mutedAutoplay=zd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(r=e.hlsDateRange,Boolean(r)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=ct(i=e.license)?i:void 0,e.licenseUrl=function(t){if(!t)return;try{return Si(t)}catch(t){return void N._s("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function Gd(t){return{Nw:t.Nw,Aw:t.Aw,Ow:t.Ow,Go:t.Go,xw:t.xw,Pw:t.Pw,Lw:t.Lw,Fw:t.Fw,Gl:t.Gl,Mw:t.Mw,Bw:t.Bw,Uw:t.Uw,Vw:t.Vw}}function Yd(t,n,r){if(n!==r){var i=n.Nw,e=n.Aw,u=n.Pw,s=n.Lw,o=n.Fw,c=n.Gl,a=n.Mw,f=(n.Uw,n.Bw,n.Vw),h=r.Nw,v=r.Aw,d=r.Ow,l=r.xw,w=r.Pw,y=r.Lw,_=r.Fw,p=r.Gl,m=r.Mw,k=(r.Uw,r.Bw,r.Vw);c!==vd.pw&&t.Oo(new Cd(h,p)),y&&!s?t.Oo(new Dd(h)):!y&&s&&t.Oo(new Nd(h)),p>=vd.mw&&t.Oo(new xd(h,p)),v===e||g(v)&&g(e)||t.Oo(new Pd(v)),_!==o&&t.Oo(new Ld(h,_)),h!==i&&t.Oo(new Fd(h,void 0)),d&&t.Oo(new Md(h)),p>=vd.kw&&t.Oo(new Bd(h,p)),m&&!a?t.Oo(new Ud(h)):!m&&a&&t.Oo(new Vd(h)),k===f&&w===u||t.Oo(new qd(h,k)),p>=vd.bw&&t.Oo(new jd(h,p)),p>=vd.Tw&&t.Oo(new Hd(h,p)),p!==c&&t.Oo(new Wd(h,p)),l&&t.Oo(new $d(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Ad||(Ad={}));var Kd=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Jd(t){var n=Vv(t,Uv);return(ct(n)?[n]:n).filter(function(t){return n=t,-1!==Kd.indexOf(n);var n})}var Qd=400,Zd={windowStart:.4,target:.4+.2,windowEnd:.8,maxOffset:3,targetAbrOffset:1},tl=nl(.5,Zd);function nl(t,n){var r=l.max(1,t/n.windowStart);return{windowStart:r*n.windowStart,target:r*n.target,windowEnd:r*n.windowEnd,maxOffset:n.maxOffset+(r*n.windowEnd-n.windowEnd),targetAbrOffset:r*n.targetAbrOffset}}function rl(){var t;return t="Android"===N.Fs.Ms?tl:Zd,N.Fs.Bs?function(t){var n=t;N.Fs.Bs&&(n=nl((Qd+250)/1e3,n));return n}(t):t}var il,el=function(t){function n(){var n;return(n=t.call(this)||this).Rl=void 0,n.$d=void 0,n.qw=rl(),n.Rl=void 0,n}W(n,t);var r=n.prototype;return r.Dl=function(t){t.Po(Kd,this.Ao)},r.Nl=function(t){t.Bo(Kd,this.Ao)},r.jw=function(){return this.Rl?this.Rl.jw():C.resolve()},r.fi=function(){this.Mo(),this.Rl&&this.Nl(this.Rl),this.Rl=void 0},H(n,[{key:"Al",get:function(){return this.Rl},set:function(t){var n=this.Rl;t!==n&&(n&&this.Nl(n),t&&this.Dl(t),this.Rl=t,this.Rl&&(this.Rl.Hw=this.qw))}},{key:"zd",get:function(){var t;return this.$d||(this.$d=(t=this,{goLive:function(){return t.jw()},get isLive(){return t.Ww},get currentServerLiveTime(){return t.$w},get currentLatency(){return t.zw},get latency(){return t.Hw},set latency(n){t.Hw=n},get manifest(){return t.Xw},get metrics(){return t.Gw},addEventListener:function(n,r){t.Po(Jd(n),r)},removeEventListener:function(n,r){t.Bo(Jd(n),r)}})),this.$d}},{key:"$w",get:function(){var t;return null===(t=this.Rl)||void 0===t?void 0:t.$w}},{key:"zw",get:function(){var t;return null===(t=this.Rl)||void 0===t?void 0:t.zw}},{key:"Ww",get:function(){return!!this.Rl&&this.Rl.Ww}},{key:"Hw",get:function(){return this.qw},set:function(t){this.Rl&&(this.Rl.Hw=t),this.qw=t}},{key:"Xw",get:function(){var t;return null===(t=this.Rl)||void 0===t?void 0:t.Xw}},{key:"Gw",get:function(){var t;return null===(t=this.Rl)||void 0===t?void 0:t.Gw}}]),n}(Ke),ul=function(t){function n(n){var r;return(r=t.call(this)||this).Yw=[],r.Kw=!1,r.Jw=new Yv,r.Qw=new Yv,r.Zw=new nd,r.ty=new el,r.ny=!1,r.iy(n),n.Fo(r.Ao),r.Rl=n,r.Jw.Al=n.ey,r.Qw.Al=n.uy,r.Zw.Al=n.sy,r.ty.Al=n.oy,r}W(n,t);var r=n.prototype;return r.ei=function(){this.Rl.ei()},r.ui=function(){this.Rl.ui()},r.ay=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$e(this.Yw.map(function(t){return t.ay()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.hy=function(){return this.Rl.hy()},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(r),t.next=3,this.Rl.vy(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.ly=function(){return this.Al.ly()},r.wy=function(){this.Al.wy()},r.yy=function(){this.Al.yy()},r.di=function(){if(!this.Kw){for(var t=0,n=this.Yw;t<n.length;t++){n[t].di()}this.Kw=!0}},r.gy=function(t){this.Rl.gy(t)},r._y=function(){this.Rl._y()},r.py=function(){this.Rl.py()},r.my=function(){this.Rl.my()},r.ky=function(){return this.Rl.ky()},r.by=function(){return this.Rl.by()},r.Ty=function(){for(var t=[],n=0,r=this.Yw;n<r.length;n++){var i=r[n];t.push.apply(t,i.Ty())}return t},r.Ey=function(t){for(var n=!1,r=0,i=this.Yw;r<i.length;r++){n=i[r].Ey(t)||n}return n},r.Oo=function(n){this.Ey(n)||t.prototype.Oo.call(this,n)},r.iy=function(t){this.Yw.push(t)},r.Sy=function(t){De(this.Yw,t)},r.Ry=function(t){if(t!==this.Rl){var n=this.Rl;n._y(),n.qo(this.Ao);var r=Gd(this),i=this.Iy,e=this.by();this.Rl=t,this.Jw.Al=t.ey,this.Qw.Al=t.uy,this.Zw.Al=t.sy,this.ty.Al=t.oy,Yd(this,r,this);var u=this.Iy;u!==i&&this.Oo(new ud(u)),this.by()!==e&&this.Oo(new ed),t.Fo(this.Ao),t.gy(n)}},r.Cy=function(){},r.fi=function(){var t=C.coroutine(Qi.mark(function t(){var n,r,i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.Rl._y(),n=0,r=this.Yw;case 3:if(!(n<r.length)){t.next=10;break}return i=r[n],t.next=7,i.fi();case 7:n++,t.next=3;break;case 10:this.Jw.fi(),this.Qw.fi(),this.Zw.fi(),this.ty.fi();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$e(this.Yw.map(function(t){return t.Tl()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"ey",get:function(){return this.Jw}},{key:"sy",get:function(){return this.Zw}},{key:"uy",get:function(){return this.Qw}},{key:"Dy",get:function(){return this.Rl.Dy}},{key:"Ny",get:function(){return this.Rl.Ny},set:function(t){this.Rl.Ny=t}},{key:"Iy",get:function(){return this.Rl.Iy}},{key:"Nw",get:function(){return this.Rl.Nw},set:function(t){this.Rl.Nw=t}},{key:"Aw",get:function(){return this.Rl.Aw}},{key:"Ay",get:function(){return this.Rl.Ay}},{key:"Ow",get:function(){return this.Rl.Ow}},{key:"Go",get:function(){return this.Rl.Go}},{key:"xw",get:function(){return this.Rl.xw}},{key:"oy",get:function(){return this.ty}},{key:"Oy",get:function(){return this.Rl.Oy}},{key:"Gw",get:function(){return function(t){for(var n=0,r=0,i=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var c=t[o];n+=c.xy,r+=c.Py,i+=c.Ly,e+=c.Fy,u+=c.My,s.amountOfBufferedAudioSegments+=c.By.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=c.By.amountOfBufferedVideoSegments}return{xy:n,Py:r,Ly:i,Fy:e,My:u,By:s}}(this.Yw.map(function(t){return t.Gw}))}},{key:"Pw",get:function(){return this.Rl.Pw},set:function(t){this.Rl.Pw=t}},{key:"Uy",get:function(){return this.Rl.Uy}},{key:"Lw",get:function(){return this.Rl.Lw}},{key:"Fw",get:function(){return this.Rl.Fw},set:function(t){this.Rl.Fw=t}},{key:"Vy",get:function(){return this.Rl.Vy}},{key:"qy",get:function(){return this.Rl.qy},set:function(t){this.Rl.qy=t}},{key:"Gl",get:function(){return this.Rl.Gl}},{key:"jy",get:function(){return this.Rl.jy}},{key:"Mw",get:function(){return this.Rl.Mw}},{key:"Bw",get:function(){return this.Rl.Bw}},{key:"Uw",get:function(){return this.Rl.Uw}},{key:"Vw",get:function(){return this.Rl.Vw},set:function(t){this.Rl.Vw=t}},{key:"Al",get:function(){return this.Rl},set:function(t){this.Ry(t)}}]),n}(id),sl=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i)||this).url=e,a.status=u,a.statusText=s,a.response=o,a.systemCode=c,a}return W(n,t),H(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Os);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(il||(il={}));var ol=function(t){function n(n,r,i,e){var u;return(u=t.call(this,r)||this).code=n,u.message=null!=r?r:"Unknown error",u.cause=i,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(rn(u),u.constructor),u}return W(n,t),H(n,[{key:"name",get:function(){return"MediaError"}}]),n}(en);function cl(t){Nv(t,"MEDIA_ERR_ABORTED",il.ABORTED),Nv(t,"MEDIA_ERR_NETWORK",il.NETWORK),Nv(t,"MEDIA_ERR_DECODE",il.DECODE),Nv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",il.SRC_NOT_SUPPORTED),Nv(t,"MEDIA_ERR_ENCRYPTED",il.ENCRYPTED)}function al(t){var r,i;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new ol(il.ENCRYPTED,t.message,null===(r=t.cause)||void 0===r?void 0:r.message,t.systemCode):new ol(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return il.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return il.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return il.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return il.SRC_NOT_SUPPORTED;var r=n.ErrorCategory.fromCode(t);if(r===n.ErrorCategory.NETWORK)return il.NETWORK;if(r===n.ErrorCategory.SOURCE)return il.SRC_NOT_SUPPORTED;if(r===n.ErrorCategory.LICENSE)return il.LICENSE_INVALID;if(r===n.ErrorCategory.CONTENT_PROTECTION)return il.ENCRYPTED;if(r===n.ErrorCategory.AD)return il.ADVERTISEMENT_ERROR;return il.DECODE}(t.code),t.message,null===(i=t.cause)||void 0===i?void 0:i.message)}cl(ol),cl(ol.prototype);var fl,hl=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.ml=function(n){return t.prototype.ml.call(this,n)},r.Xd=function(){return zv(this)},n}(Sv);!function(t){t.bv="audio",t.Tv="video",t.Qe="text",t.Ev="image",t.fv="unknown"}(fl||(fl={}));var vl=function(){function t(){this.Hy=[],this.$d=void 0}var n=t.prototype;return n.Wy=function(t){this.Hy.push(t),this.$d&&this.$d.push(t.zd)},n.pl=function(t){return this.Hy[t]},n.$y=function(t){return et(t)?function(t,n){for(var r=0;r<n.length;r++)if(!Ae(t,n[r]))return!1;return!0}(this.Hy,t):Ae(this.Hy,t)},H(t,[{key:"El",get:function(){return this.Hy}},{key:"Sl",get:function(){return this.Hy.length}},{key:"zd",get:function(){var t,n;return this.$d||(this.$d=((n=(t=this).El.map(function(t){return t.zd})).item=function(n){var r=0|n,i=t.pl(r);return i&&i.zd||void 0},n)),this.$d}}]),t}(),dl=function(t){function n(n){var r;return(r=t.call(this,_v.dl)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new ll(this.Gd.zd)},n}(pv),ll=function(t){function n(n){var r;return(r=t.call(this,"update")||this).track=n,r}return W(n,t),n}(mv),wl=0;function yl(){return wl++}var gl=0;var _l=0;var pl=0;var ml=function(t){function n(n){var r;return(r=t.call(this)||this).ro=fl.bv,r.zy=!1,r.$d=void 0,r.Xy=n,r.Gy=yl(),r.Yy=pl+++"",r.Ky=n.label,r.Hy=new vl,r.Jy(),r}W(n,t);var r=n.prototype;return r.Qy=function(t){this.Pl=t},r.Jy=function(){this.Pl=this.Zy},H(n,[{key:"xl",get:function(){}},{key:"Pl",get:function(){return this.zy},set:function(t){this.zy!==t&&(this.zy=t,this.Zy=t,this.Oo(new Rv(this)))}},{key:"Zy",get:function(){return!!this.Xy.enabled},set:function(t){this.Xy.enabled=t}},{key:"zd",get:function(){return this.$d||(this.$d=Wv(this)),this.$d}},{key:"Ll",get:function(){return this.Yy}},{key:"Fl",get:function(){return this.Gy}},{key:"Ml",get:function(){return this.Xy.kind}},{key:"Bl",get:function(){return this.Ky},set:function(t){t!==this.Ky&&(this.Ky=t,this.Oo(new dl(this)))}},{key:"Ul",get:function(){return this.Xy.language}},{key:"Wl",get:function(){return this.Pl?"enabled":"disabled"}},{key:"tg",get:function(){return this.Xy}},{key:"Vl",get:function(){return this.Hy}},{key:"ql",get:function(){},set:function(t){}}]),n}(Ke),kl=0;var bl,Tl,El,Sl,Rl,Il=function(t){function n(n){var r;return(r=t.call(this)||this).ro=fl.Tv,r.zy=!1,r.$d=void 0,r.Xy=n,r.Gy=yl(),r.Yy=kl+++"",r.Hy=new vl,r.Ky=n.label,r.Jy(),r}W(n,t);var r=n.prototype;return r.Jy=function(){this.Pl=this.Zy},r.Qy=function(t){this.Pl=t},H(n,[{key:"xl",get:function(){}},{key:"Pl",get:function(){return this.zy},set:function(t){this.zy!==t&&(this.zy=t,this.Zy=t,this.Oo(new Rv(this)))}},{key:"Zy",get:function(){return!!this.Xy.selected},set:function(t){this.Xy.selected=t}},{key:"zd",get:function(){return this.$d||(this.$d=Wv(this)),this.$d}},{key:"Ll",get:function(){return this.Yy}},{key:"Fl",get:function(){return this.Gy}},{key:"Ml",get:function(){return"main"}},{key:"Bl",get:function(){return this.Ky},set:function(t){t!==this.Ky&&(this.Ky=t,this.Oo(new dl(this)))}},{key:"Ul",get:function(){return this.Xy.language}},{key:"Wl",get:function(){return this.Pl?"enabled":"disabled"}},{key:"tg",get:function(){return this.Xy}},{key:"Vl",get:function(){return this.Hy}},{key:"ql",get:function(){},set:function(t){}}]),n}(Ke),Cl=function(t){function n(n){var r;return(r=t.call(this,Qs.Ua)||this).Oy=n,r}return W(n,t),n}(Qe);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(bl||(bl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Tl||(Tl={})),function(t){t.ng="cue",t.rg="region",t.ig="stylesheet"}(El||(El={})),function(t){t.eg="ug",t.sg="og",t.dl="Pc"}(Sl||(Sl={})),function(t){t.eg="enter",t.sg="exit",t.dl="update"}(Rl||(Rl={}));var Dl=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).cg=r,i}return W(n,t),n}(pv),Nl=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).cue=r,i}return W(n,t),n}(mv);function Al(t){var n,r=[Sl.eg,Sl.sg,Sl.dl],i={get track(){return t.Gd.zd},get id(){return t.Ll},get startTime(){return t.ag},get endTime(){return t.fg},get content(){return t.hg},addEventListener:function(t,r){var i=Vv(t,Uv);n.Po(i,r)},removeEventListener:function(t,r){var i=Vv(t,Uv);n.Bo(i,r)}};return n=new Je(i),t.Po(r,function(t){return n.Oo(t.zd)}),i}function Ol(){}var xl=.02;var Pl=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).$d=void 0,s.vg=void 0,s.dg=!1,s.lg="",s.wg=-1,s.yg=n,s.gg=r,s._g=i,s.pg=Boolean(e),s.Yy=u||(_l++).toString(),s}W(n,t);var r=n.prototype;return r.Xd=function(){return Al(this)},r.mg=function(t){return this===t||Pv(this,t)&&(r=t,Kt((n=this).ag,r.ag,xl)&&Kt(n.fg,r.fg,xl)&&n.Ll===r.Ll);var n,r},r.fi=function(){this.Mo()},H(n,[{key:"ag",get:function(){return this.yg},set:function(t){this.yg=t}},{key:"fg",get:function(){return this.gg},set:function(t){this.gg=t}},{key:"Ll",get:function(){return this.Yy},set:function(t){this.Yy=t}},{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}},{key:"kg",get:function(){return this.dg},set:function(t){this.dg=t}},{key:"Gd",get:function(){return this.vg},set:function(t){this.vg=t}},{key:"hg",get:function(){return this._g},set:function(t){this._g=t}},{key:"bg",get:function(){return this.lg},set:function(t){this.lg=t}},{key:"Tg",get:function(){return this.pg},set:function(t){this.pg=t}}]),n}(Ke);var Ll=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,u)||this).Eg="auto",s.Sg="start",s.Rg="auto",s.Ig="auto",s.Cg=void 0,s.Dg=!0,s.sc=100,s.Ng="center",s.Ag="",s}return W(n,t),n.prototype.mg=function(n){return this===n||Pv(this,n)&&t.prototype.mg.call(this,n)&&(i=n,(r=this).hg===i.hg&&r.Eg===i.Eg&&r.Sg===i.Sg&&r.Rg===i.Rg&&r.Ig===i.Ig&&r.Cg===i.Cg&&r.Dg===i.Dg&&r.sc===i.sc&&r.Ng===i.Ng&&r.Ag===i.Ag);var r,i},H(n,[{key:"zd",get:function(){var t;return this.$d||(this.$d=Av(Al(t=this),{get align(){return t.Ng},get line(){return t.Eg},get lineAlign(){return t.Sg},get position(){return t.Rg},get positionAlign(){return t.Ig},get region(){return t.Cg?t.Cg.zd:null},get size(){return t.sc},get snapToLines(){return t.Dg},get text(){return t.hg},get vertical(){return t.Ag}})),this.$d}},{key:"ro",get:function(){return El.ng}}]),n}(Pl);var Fl,Ml=function(){function t(t,n,r,i,e,u,s,o){this.Ll=t,this.as=n,this.Og=r,this.xg=i,this.Pg=e,this.Lg=u,this.Fg=s,this.Mg=o}return H(t,[{key:"zd",get:function(){var t;return this.$d||(this.$d=(t=this,{get id(){return t.Ll},get identifier(){return t.Ll},get lines(){return t.Og},get regionAnchorX(){return t.xg},get regionAnchorY(){return t.Pg},get scrollValue(){return t.Mg},get viewportAnchorX(){return t.Lg},get viewportAnchorY(){return t.Fg},get width(){return t.as}})),this.$d}},{key:"ro",get:function(){return El.rg}}]),t}();!function(t){t[t.Bg=0]="Bg",t[t.Ug=1]="Ug",t[t.Vg=-1]="Vg"}(Fl||(Fl={}));var Bl=function(t,n){return(0|t)-(0|n)},Ul=function(t,n){return t===n?Fl.Bg:t<n?Fl.Vg:t>n?Fl.Ug:g(t)?g(n)?Fl.Bg:Fl.Ug:Fl.Vg};function Vl(t,n,r){return Kt(t,n,r)?Fl.Bg:Ul(t,n)}var ql=function(t,n){return function(t,n){if(t===n)return!0;var r=l.abs(t-n);return r<Gt||r<l.max(l.abs(t),l.abs(n))*Gt}(t,n)?Fl.Bg:Ul(t,n)},jl=function(){function t(){}var n=t.prototype;return n.qg=function(t){return this.jg()*t},n.Hg=function(t){return this.Wg(t)>0},n.$g=function(t){return this.Wg(t)>=0},n.zg=function(t,n){return this.Gg(t).Xg(n)},n.mg=function(t){return 0===this.Wg(t)},n.Yg=function(t){return this.Wg(t)<0},n.Xg=function(t){return this.Wg(t)<=0},n.Kg=function(){return this.Jg()?this.Qg():this},n.Zg=function(t){return this.Wy(t.Qg())},n.Gg=function(t){return this.Zg(t).Kg()},t}();function Hl(t,n){return t.t_()?n.t_()?Fl.Bg:Fl.Ug:n.t_()?Fl.Vg:t.n_()?n.n_()&&t.Jg()===n.Jg()?Fl.Bg:t.Jg()?Fl.Vg:Fl.Ug:n.Jg()?Fl.Ug:Fl.Vg}var Wl=function(){function t(t,n){this.r_=t,this.i_=n}t.e_=function(n,r,i){return i?new t(n.toUnsigned(),r.toUnsigned()):new t(n.toSigned(),r.toSigned())},t.u_=function(n){return n.unsigned?new t(n,Xt.UZERO):new t(n,n.isNegative()?Xt.NEG_ONE:Xt.ZERO)},t.s_=function(n,r){if(g(n))return r?t.o_:t.c_;if(r){if(n<0)return t.o_;if(n>=3.402823669209385e38)return t.a_}else{if(n<=-1.7014118346046923e38)return t.f_;if(n+1>=1.7014118346046923e38)return t.h_}return n<0?t.s_(-n,r).Qg():t.e_(Xt.fromNumber(n%0x10000000000000000),Xt.fromNumber(n/0x10000000000000000),r)};var n=t.prototype;return n.v_=function(){return this.i_.unsigned},n.d_=function(){return this.r_.isZero()&&this.i_.isZero()},n.Jg=function(){return this.i_.isNegative()},n.l_=function(){return this.v_()?t.e_(this.r_,this.i_,!1):this},n.w_=function(){return this.v_()?this:t.e_(this.r_,this.i_,!0)},n.y_=function(){return this.r_},n.jg=function(){return this.Jg()?-this.Qg().jg():0x10000000000000000*this.i_.toNumber()+this.r_.toUnsigned().toNumber()},n.g_=function(){return this.r_.toInt()},n.mg=function(t){return(this.v_()===t.v_()||this.i_.getHighBits()>>>31!=1||t.i_.getHighBits()>>>31!=1)&&(this.i_.toUnsigned().eq(t.i_.toUnsigned())&&this.r_.toUnsigned().eq(t.r_.toUnsigned()))},n.Wg=function(t){if(this.mg(t))return Fl.Bg;var n=this.Jg(),r=t.Jg();if(n&&!r)return Fl.Vg;if(!n&&r)return Fl.Ug;if(!this.v_())return this.Zg(t).Jg()?Fl.Vg:Fl.Ug;var i=this.w_(),e=t.w_(),u=e.i_.comp(i.i_);return u>0||0===u&&e.r_.gt(i.r_)?Fl.Vg:Fl.Ug},n.Yg=function(t){return this.Wg(t)<0},n.Xg=function(t){return this.Wg(t)<=0},n.__=function(t){return this.Wg(t)>0},n.p_=function(t){return this.Wg(t)>=0},n.m_=function(){return new t(this.r_.not(),this.i_.not())},n.k_=function(n){return new t(this.r_.and(n.r_),this.i_.and(n.i_))},n.b_=function(n){return new t(this.r_.or(n.r_),this.i_.or(n.i_))},n.T_=function(n){var r=127&n;return 0===r?this:r<64?t.e_(this.r_.shl(r),this.i_.shl(r).or(this.r_.shru(64-r)),this.v_()):t.e_(Xt.ZERO,this.r_.shl(r-64),this.v_())},n.E_=function(n){var r=127&n;return 0===r?this:r<64?t.e_(this.r_.shru(r).or(this.i_.shl(64-r)),this.i_.shr(r),this.v_()):t.e_(this.i_.shr(r-64),this.i_.isNegative()?Xt.NEG_ONE:Xt.ZERO,this.v_())},n.S_=function(n){var r=127&n;return 0===r?this:r<64?t.e_(this.r_.shru(r).or(this.i_.shl(64-r)),this.i_.shru(r),this.v_()):64===r?t.e_(this.i_,Xt.ZERO,this.v_()):t.e_(this.i_.shru(r-64),Xt.ZERO,this.v_())},n.Wy=function(n){var r=this.i_.high>>>16,i=65535&this.i_.high,e=this.i_.low>>>16,u=65535&this.i_.low,s=this.r_.high>>>16,o=65535&this.r_.high,c=this.r_.low>>>16,a=65535&this.r_.low,f=n.i_.high>>>16,h=65535&n.i_.high,v=n.i_.low>>>16,d=65535&n.i_.low,l=n.r_.high>>>16,w=65535&n.r_.high,y=n.r_.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.r_.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=o+w)>>>16,b&=65535,m+=(k+=s+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=i+h)>>>16,_&=65535,g+=r+f,g&=65535;var S=this.v_(),R=Xt.fromBits(p<<16|m,g<<16|_,S),I=Xt.fromBits(T<<16|E,k<<16|b,S);return t.e_(I,R,S)},n.Zg=function(t){return this.Wy(t.Qg())},n.Qg=function(){return this.m_().Wy(t.R_)},n.I_=function(n){if(this.d_()||n.d_())return this.v_()?t.o_:t.c_;if(this.Jg())return n.Jg()?this.Qg().I_(n.Qg()):this.Qg().I_(n).Qg();if(n.Jg())return this.I_(n.Qg()).Qg();if(this.i_.isZero()&&0===this.r_.high&&n.i_.isZero()&&0===n.r_.high)return t.u_(this.r_.multiply(n.r_));var r=Xt.fromBits(4294967295,0,!0),i=this.r_.and(r),e=this.r_.shru(32),u=this.i_.and(r),s=this.i_.shru(32),o=n.r_.and(r),c=n.r_.shru(32),a=n.i_.and(r),f=n.i_.shru(32),h=Xt.UZERO,v=Xt.UZERO,d=Xt.UZERO,l=Xt.UZERO;h=h.add(i.mul(o)),v=v.add(h.shru(32)),h=h.and(r),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(r)).add(i.mul(c)),d=d.add(v.shru(32)),v=v.and(r),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(i.mul(a)),l=l.add(d.shru(32)),d=d.and(r),l=l.add(s.mul(o)).add(u.mul(c)).add(e.mul(a)).add(i.mul(f)).and(r);var w=Xt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Xt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.e_(w,y,this.v_())},n.C_=function(n){var r,i,e=n;if(e.d_())throw new RangeError("division by zero");if(this.d_())return this.v_()?[t.o_,t.o_]:[t.c_,t.c_];if(this.v_()){if(e.v_()||(e=e.w_()),e.__(this))return[t.o_,this];if(e.__(this.S_(1)))return[i=t.D_,r=this.Zg(e)];i=t.o_}else{if(this.mg(t.f_)){if(e.mg(t.R_)||e.mg(t.N_))return[t.f_,t.c_];if(e.mg(t.f_))return[t.R_,t.c_];var u=this.E_(1).A_(e).T_(1);return u.mg(t.c_)?i=e.Jg()?t.R_:t.N_:(r=this.Zg(e.I_(u)),i=u.Wy(r.A_(e))),[i,r=this.Zg(e.I_(i))]}if(e.mg(t.f_))return this.v_()?[t.o_,this]:[t.c_,this];if(this.Jg()){if(e.Jg())return this.Qg().C_(e.Qg());var s=this.Qg().C_(e);return i=s[0],r=s[1],[i.Qg(),r.Qg()]}if(e.Jg()){var o=this.C_(e.Qg());return i=o[0],r=o[1],[i.Qg(),r.Qg()]}i=t.c_}for(r=this;r.p_(e);){for(var c=l.max(1,l.floor(r.jg()/e.jg())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.s_(c),v=h.I_(e);v.Jg()||v.__(r);)c-=f,v=(h=t.s_(c,this.v_())).I_(e);h.d_()&&(h=t.R_),i=i.Wy(h),r=r.Zg(v)}return[i,r]},n.A_=function(t){return this.C_(t)[0]},n.O_=function(t){return this.C_(t)[1]},n.toString=function(n){var r=n||10;if(r<2||r>36)throw new RangeError("radix");if(this.d_())return"0";if(this.Jg()){if(this.mg(t.f_)){var i=t.s_(r),e=this.A_(i),u=e.I_(i).Zg(this);return e.toString(r)+u.g_().toString(r)}return"-"+this.Qg().toString(r)}for(var s=t.s_(l.pow(r,6),this.v_()),o=this,c="";;){var a=o.A_(s),f=(o.Zg(a.I_(s)).g_()>>>0).toString(r);if((o=a).d_())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();Wl.c_=Wl.u_(Xt.ZERO),Wl.o_=Wl.u_(Xt.UZERO),Wl.R_=Wl.u_(Xt.ONE),Wl.D_=Wl.u_(Xt.UONE),Wl.N_=Wl.u_(Xt.NEG_ONE),Wl.h_=Wl.e_(Xt.NEG_ONE,Xt.MAX_VALUE,!1),Wl.a_=Wl.e_(Xt.MAX_UNSIGNED_VALUE,Xt.MAX_UNSIGNED_VALUE,!0),Wl.f_=Wl.e_(Xt.ZERO,Xt.MIN_VALUE,!1);var $l=function(){function t(t,n){void 0===n&&(n=1),this.x_=t,this.P_=n}t.L_=function(n){return new t(l.ceil(n.x_),n.P_)},t.F_=function(n){return new t(l.floor(n.x_),n.P_)},t.M_=function(t,n){return t.$g(n)?t:n},t.B_=function(t,n){return t.Xg(n)?t:n};var n=t.prototype;return n.Wy=function(n){return this.P_>=n.P_?new t(this.x_+n.U_(this.P_).x_,this.P_):new t(this.U_(n.P_).x_+n.x_,n.P_)},n.Hg=function(t){return t.Yg(this)},n.$g=function(t){return t.Xg(this)},n.Gg=function(n){return this.P_>=n.P_?new t(l.abs(this.x_-n.U_(this.P_).x_),this.P_):n.Gg(this)},n.zg=function(t,n){return this.Gg(t).Xg(n)},n.Wg=function(t){return r=t,(n=this).P_>=r.P_?ql(n.x_,r.U_(n.P_).x_):ql(n.U_(r.P_).x_,r.x_);var n,r},n.mg=function(t){return 0===this.Wg(t)},n.Yg=function(t){return this.Wg(t)<0},n.Xg=function(t){return this.Wg(t)<=0},n.U_=function(n){return new t(this.x_*(n/this.P_),n)},n.Zg=function(n){return this.P_>=n.P_?new t(this.x_-n.U_(this.P_).x_,this.P_):new t(this.U_(n.P_).x_-n.x_,n.P_)},n.V_=function(n){return new t(this.x_*n,this.P_)},H(t,[{key:"n_",get:function(){return!isFinite(this.x_)}},{key:"q_",get:function(){return this.x_/this.P_}}]),t}();$l.j_=new $l(1/6,1),$l.c_=new $l(0),$l.H_=new $l(1/0),$l.W_=1e6;var zl=function(t){function n(n,r){var i;return(i=t.call(this)||this).au=n.toSigned(),i.P_=r>>>0,i}W(n,t),n.z_=function(t,r){return void 0===r&&(r=1e6),n.s_(t*r,r)},n.s_=function(t,r){return g(t)?n.X_:t===1/0?n.G_:t===-1/0?n.Y_:new n(Xt.fromNumber(t),r)},n.u_=function(t,r){return new n(t,r)},n.K_=function(t){return n.z_(t.q_,1e6)},n.J_=function(t){return new n(Xt.fromNumber(t.getTime()),1e3)},n.M_=function(t,n){return t.$g(n)?t:n},n.B_=function(t,n){return t.Xg(n)?t:n},n.Q_=function(t,r,i){return n.M_(r,n.B_(i,t))};var r=n.prototype;return r.Jg=function(){return this.au.isNegative()},r.d_=function(){return 0!==this.P_&&this.au.isZero()},r.n_=function(){return 0===this.P_&&!this.au.isZero()},r.t_=function(){return 0===this.P_&&this.au.isZero()},r.jg=function(){if(0===this.P_)return this.au.isZero()?NaN:this.au.isNegative()?-1/0:1/0;var t=this.au.divide(this.P_),n=this.au.subtract(t.multiply(this.P_));return t.toNumber()+n.toNumber()/this.P_},r.y_=function(){if(0===this.P_)throw new h("Failed to convert timestamp");return this.au},r.Z_=function(){return new Date(0===this.P_?NaN:this.U_(1e3).au.toNumber())},r.tp=function(){return new $l(0===this.P_?this.jg():this.au.toNumber(),this.P_)},r.U_=function(t,r){void 0===r&&(r=Yl.np);var i=this.P_;if(i===t)return this;if(0===i)return this;var e=Jt(i,t);return new n(function(t,n,r){var i=t.C_(n),e=i[0],u=i[1];if(u.d_())return e;if(r===Yl.np)return u.Jg()?e.Zg(Wl.R_):e;if(r===Yl.rp)return u.Jg()?e:e.Wy(Wl.R_);var s=u.I_(Wl.s_(2));return s.Jg()?s.Qg().Yg(n)?e:e.Zg(Wl.R_):s.Yg(n)?e:e.Wy(Wl.R_)}(Wl.u_(this.au).I_(Wl.s_(t/e)),Wl.s_(i/e),r).y_(),t)},r.Wg=function(t){if(this===t)return Fl.Bg;if(0===this.P_||0===t.P_)return Hl(this,t);if(this.d_())return t.d_()?Fl.Bg:t.Jg()?Fl.Ug:Fl.Vg;if(t.d_())return this.Jg()?Fl.Vg:Fl.Ug;var n=l.min(this.P_,t.P_),r=this.U_(n,Yl.ip).au,i=t.U_(n,Yl.ip).au;return r.compare(i)},r.Qg=function(){return 0===this.P_?Xl(this):new n(this.au.negate(),this.P_)},r.Wy=function(t){if(0===this.P_||0===t.P_)return Gl(this,t);if(this.d_())return t;if(t.d_())return this;var r=l.max(this.P_,t.P_),i=this.U_(r,Yl.ip),e=t.U_(r,Yl.ip);return new n(i.au.add(e.au),r)},r.I_=function(t){if(this.t_()||g(t))return n.X_;if(this.n_()||!isFinite(t)){if(this.d_()||0===t)return n.X_;var r=this.Jg()?n.Y_:n.G_;return t<0?r.Qg():r}return this.d_()?this:new n(0===t?Xt.ZERO:this.au.multiply(t),this.P_)},r.A_=function(t){if(this.t_()||g(t))return n.X_;if(this.n_())return isFinite(t)?0===t?1/t<0?this.Qg():this:t<0?this.Qg():this:n.X_;if(!isFinite(t))return new n(Xt.ZERO,this.P_);if(this.d_())return 0===t?n.X_:new n(Xt.ZERO,this.P_);if(0===t){var r=this.Jg()?n.Y_:n.G_;return 1/t<0?r.Qg():r}return new n(this.au.divide(t),this.P_)},r.ep=function(){return[this.au.low,this.au.high,this.P_]},n}(jl);function Xl(t){return t.t_()?t:t.Jg()?zl.G_:zl.Y_}function Gl(t,n){return t.t_()||n.t_()?zl.X_:t.n_()&&n.n_()?t.Jg()===n.Jg()?t:zl.X_:t.n_()?t:n}zl.c_=new zl(Xt.ZERO,1e6),zl.X_=new zl(Xt.ZERO,0),zl.G_=new zl(Xt.ONE,0),zl.Y_=new zl(Xt.NEG_ONE,0);var Yl,Kl=function(t){function n(n,r){var i;return(i=t.call(this)||this).au=BigInt.asIntN(64,n),i.P_=r>>>0,i}W(n,t),n.z_=function(t,r){return void 0===r&&(r=1e6),n.s_(t*r,r)},n.s_=function(t,r){return g(t)?n.X_:t===1/0?n.G_:t===-1/0?n.Y_:new n(BigInt(l.floor(t)),r)},n.u_=function(t,r){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),r)},n.K_=function(t){return n.z_(t.q_,1e6)},n.J_=function(t){return n.s_(t.getTime(),1e3)},n.M_=function(t,n){return t.$g(n)?t:n},n.B_=function(t,n){return t.Xg(n)?t:n},n.Q_=function(t,r,i){return n.M_(r,n.B_(i,t))};var r=n.prototype;return r.Jg=function(){return this.au<BigInt(0)},r.d_=function(){return 0!==this.P_&&this.au===BigInt(0)},r.n_=function(){return 0===this.P_&&this.au!==BigInt(0)},r.t_=function(){return 0===this.P_&&this.au===BigInt(0)},r.jg=function(){if(0===this.P_)return this.au===BigInt(0)?NaN:this.au<BigInt(0)?-1/0:1/0;var t=this.au/BigInt(this.P_),n=this.au-t*BigInt(this.P_);return Number(t)+Number(n)/this.P_},r.y_=function(){if(0===this.P_)throw new h("Failed to convert timestamp");return this.sp()},r.sp=function(){var t=this.au&BigInt(4294967295),n=this.au>>BigInt(32)&BigInt(4294967295);return Xt.fromBits(Number(t),Number(n))},r.Z_=function(){return new Date(0===this.P_?NaN:Number(this.U_(1e3).au))},r.tp=function(){return new $l(0===this.P_?this.jg():Number(this.au),this.P_)},r.U_=function(t,r){void 0===r&&(r=Yl.np);var i=this.P_;if(i===t)return this;if(0===i)return this;var e=Jt(i,t);return new n(function(t,n,r){var i=t/n,e=t-i*n;if(e===BigInt(0))return i;if(r===Yl.np)return e<BigInt(0)?i-BigInt(1):i;if(r===Yl.rp)return e<BigInt(0)?i:i+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?i:i-BigInt(1):u<n?i:i+BigInt(1)}(this.au*BigInt(t/e),BigInt(i/e),r),t)},r.Wg=function(t){if(this===t)return Fl.Bg;if(0===this.P_||0===t.P_)return Hl(this,t);if(this.d_())return t.d_()?Fl.Bg:t.Jg()?Fl.Ug:Fl.Vg;if(t.d_())return this.Jg()?Fl.Vg:Fl.Ug;var n=l.min(this.P_,t.P_),r=this.U_(n,Yl.ip).au,i=t.U_(n,Yl.ip).au;return r>i?Fl.Ug:r<i?Fl.Vg:Fl.Bg},r.Qg=function(){return 0===this.P_?Jl(this):new n(-this.au,this.P_)},r.Wy=function(t){if(0===this.P_||0===t.P_)return Ql(this,t);if(this.d_())return t;if(t.d_())return this;var r=l.max(this.P_,t.P_),i=this.U_(r,Yl.ip),e=t.U_(r,Yl.ip);return new n(i.au+e.au,r)},r.I_=function(t){if(this.t_()||g(t))return n.X_;if(this.n_()||!isFinite(t)){if(this.d_()||0===t)return n.X_;var r=this.Jg()?n.Y_:n.G_;return t<0?r.Qg():r}return this.d_()?this:new n(0===t?BigInt(0):this.au*BigInt(t),this.P_)},r.A_=function(t){if(this.t_()||g(t))return n.X_;if(this.n_())return isFinite(t)?0===t?1/t<0?this.Qg():this:t<0?this.Qg():this:n.X_;if(!isFinite(t))return new n(BigInt(0),this.P_);if(this.d_())return 0===t?n.X_:new n(BigInt(0),this.P_);if(0===t){var r=this.Jg()?n.Y_:n.G_;return 1/t<0?r.Qg():r}return new n(this.au/BigInt(t),this.P_)},r.ep=function(){var t=this.sp();return[t.low,t.high,this.P_]},H(n,null,[{key:"c_",get:function(){return n.op||(n.op=new n(BigInt(0),1e6)),n.op}},{key:"X_",get:function(){return n.cp||(n.cp=new n(BigInt(0),0)),n.cp}},{key:"G_",get:function(){return n.ap||(n.ap=new n(BigInt(1),0)),n.ap}},{key:"Y_",get:function(){return n.fp||(n.fp=new n(BigInt(-1),0)),n.fp}}]),n}(jl);function Jl(t){return t.t_()?t:t.Jg()?Kl.G_:Kl.Y_}function Ql(t,n){return t.t_()||n.t_()?Kl.X_:t.n_()&&n.n_()?t.Jg()===n.Jg()?t:Kl.X_:t.n_()?t:n}Kl.op=void 0,Kl.cp=void 0,Kl.ap=void 0,Kl.fp=void 0,function(t){t[t.np=0]="np",t[t.rp=1]="rp",t[t.ip=2]="ip"}(Yl||(Yl={}));var Zl,tw,nw,rw,iw=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Kl:zl,ew=9e4,uw=l.pow(2,33),sw=(iw.s_(uw,ew).A_(2),{hp:0,vp:1/0,dp:0}),ow=6,cw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],aw=[" ","\t","\n","\f","\r"],fw=/^\d*$/,hw=/.*[0-9]+.*/,vw=/^[\d.-]+$/,dw=/(^\.|\.$)/,lw=/(\D\.|\.\D)/;function ww(t,n){void 0===n&&(n=sw);var r={Yl:[],lp:[],wp:[]},i=yw(t),e=new ss;if(Rw(i),gw(i,function(t){return"\n"!==t},e),e.hc>=i.length)return r;(e.cc(1),"\n"!==i.charAt(e.hc))?kw(_w(i,e,!1,!0,r,n),r):e.cc(1);for(gw(i,function(t){return"\n"===t},e);e.hc<i.length;){kw(_w(i,e,!1,!1,r,n),r),gw(i,function(t){return"\n"===t},e)}return r}function yw(t){var n=yi(t,"\0"," "),r=yi(n,"\r\n","\n");return yi(r,"\r","\n")}function gw(t,n,r){for(var i=r.hc;r.hc<t.length&&n(t.charAt(r.hc));)r.cc(1);return t.substring(i,r.hc)}function _w(t,n,r,i,e,u){for(var s,o=0,c=n.hc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(s=gw(t,function(t){return"\n"!==t},n),o++,n.hc>=t.length?f=!0:n.cc(1),gi(s,"--\x3e")){if(i||1!==o&&(2!==o||h)){n.ac(c);break}h=!0,c=n.hc,v=new Ll(0,0,"",!1,a);try{bw(s,e.lp,v,u),a=""}catch(t){N._s(t),v=null}}else{if(""===s)break;i&&_i(s,"X-TIMESTAMP-MAP")&&(e.yp=pw(s)),i||2!==o||r||(mi("STYLE",a.replace(/ /g,""))?(d={ro:El.ig},a=""):mi("REGION",a.replace(/ /g,""))&&(l=new Ml("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=s,c=n.hc}if(v)return v.hg=a,v;if(d);else if(l)return function(t,n){for(var r=t.split(/\s/),i=0;i<r.length;i++){var e=r[i];if(0!==e.length&&gi(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Mw(o,n);break;case"WIDTH":Vw(o,n);break;case"LINES":Uw(o,n);break;case"REGIONANCHOR":var c=Fw(o);c&&(n.xg=c[0],n.Pg=c[1]);break;case"VIEWPORTANCHOR":var a=Fw(o);a&&(n.Lg=a[0],n.Fg=a[1]);break;case"SCROLL":Bw(o,n)}}}}(a,l),l;return null}function pw(t){var n,r,i=t.split("=")[1].trim().split(","),e=mw(i[0].trim(),"MPEGTS")?i[0]:i[1],u=mw(i[0].trim(),"LOCAL")?i[0]:i[1];return{gp:(r=Number(e.split(/:(.*)/)[1].trim())||0,iw.s_(r,ew)),_p:iw.z_(null!==(n=Sw(u.split(/:(.*)/)[1].trim(),new ss))&&void 0!==n?n:0)}}function mw(t,n){return _i(t,n)}function kw(t,n){t&&function(t){return t.ro===El.ng}(t)?n.Yl.push(t):t&&function(t){return t.ro===El.rg}(t)?n.lp.push(t):t&&function(t){return t.ro===El.ig}(t)&&n.wp.push(t)}function bw(t,n,r,i){var e=new ss;if(Iw(t,e),r.ag=Tw(Sw(t,e),i),Iw(t,e),"--\x3e"!==t.substring(e.hc,e.hc+3))throw h("Something went wrong with parsing a WebVTT Cue");e.cc(3),Iw(t,e),r.fg=Tw(Sw(t,e),i),function(t,n,r){for(var i=t.split(/\s/),e=0;e<i.length;e++){var u=i[e];if(0!==u.length&&gi(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),c=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Ow(c,n,r);break;case"VERTICAL":Pw(c,n);break;case"D":Lw(c,n);break;case"LINE":case"L":Nw(c,n);break;case"POSITION":case"T":Aw(c,n);break;case"SIZE":case"S":xw(c,n);break;case"ALIGN":case"A":Dw(c,n)}}}}(t.substring(e.hc,t.length),r,n)}function Tw(t,n){return t+n.hp}function Ew(t){return/^[0-9]$/.test(t)}function Sw(t,n){var r,i,e,u=yi(t,",","."),s=!1;if(n.hc>=u.length||!Ew(u.charAt(n.hc)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var o=gw(u,Ew,n),c=w(o,10);if((o.length>2||c>59)&&(s=!0),n.hc>=u.length||":"!==u.charAt(n.hc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.cc(1);var a=gw(u,Ew,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(s||n.hc<u.length&&":"===u.charAt(n.hc)){if(n.hc>=u.length||":"!==u.charAt(n.hc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.cc(1);var v=gw(u,Ew,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");r=c,i=f,e=w(v,10)}else r=0,i=c,e=f;if(n.hc>=u.length||"."!==u.charAt(n.hc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.cc(1);var d=gw(u,Ew,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*r*60+60*i+e+l/1e3}function Rw(t){if(t.length<ow)return!1;for(var n=0;n<cw.length;n++){if(_i(t,cw[n]))return!0}return!1}function Iw(t,n){for(;n.hc<t.length&&(r=t.charAt(n.hc),Ae(aw,r));)n.cc(1);var r}function Cw(t){var n=t.lastIndexOf("%");if(n>-1){var r=y(t.substring(0,n));if(!g(r)&&r>=0&&r<=100)return r}return null}function Dw(t,n){var r=t.toLowerCase();switch(r){case"start":case"center":case"end":case"left":case"right":n.Ng=r;break;case"middle":n.Ng="center"}}function Nw(t,n){var r=t,i="";if(gi(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length)),hw.test(r)){var e;if(pi(r,"%")){var u=Cw(r);if(null===u)return;e=u}else{if(!vw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!lw.test(t)||dw.test(t))return;if(e=y(t),g(e))return}switch(n.Eg=e,n.Dg=pi(r,"%"),i=t.toLowerCase()){case"start":case"center":case"end":n.Sg=i;break;case"middle":n.Sg="center"}}}function Aw(t,n){var r=t,i="";gi(t,",")&&(r=t.substring(0,t.indexOf(",")),i=t.substring(t.indexOf(",")+1,t.length));var e=Cw(r);if(null!==e)switch(n.Rg=e,i=i.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Ig=i;break;case"start":n.Ig="line-left";break;case"middle":n.Ig="center";break;case"end":n.Ig="line-right"}}function Ow(t,n,r){for(var i=r.length-1;i>=0;i--)if(r[i].Ll===t)return void(n.Cg=r[i])}function xw(t,n){var r=Cw(t);null!==r&&(n.sc=r)}function Pw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Ag="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Ag="lr";break;default:n.Ag=""}}function Lw(t,n){"VERTICAL"===t.toUpperCase()?n.Ag="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Ag="lr")}function Fw(t){if(t.indexOf(",")>=0){var n=Cw(t.substring(0,t.indexOf(","))),r=Cw(t.substring(t.indexOf(",")+1,t.length));return[Yt(n||0,0,100),Yt(r||100,0,100)]}return null}function Mw(t,n){n.Ll=t}function Bw(t,n){"up"===t.toLowerCase()&&(n.Mg="up")}function Uw(t,n){fw.test(t)&&(n.Og=w(t))}function Vw(t,n){var r=Cw(t);null!==r&&(n.as=r)}!function(t){t.pp="moov",t.mp="mvhd",t.kp="trak",t.bp="tkhd",t.Tp="mdia",t.Ep="mdhd",t.Sp="hdlr",t.Rp="minf",t.Ip="stbl",t.Cp="stsd",t.Dp="stsc",t.Np="mvex",t.Ap="trex",t.Op="avc1",t.xp="avcC",t.Pp="hev1",t.Lp="hvc1",t.Fp="hvcC",t.Mp="pasp",t.Bp="mp4a",t.Up="esds",t.Vp="wvtt",t.qp="vttC",t.jp="vlab",t.Hp="enca",t.Wp="encv",t.$p="moof",t.zp="mfhd",t.Xp="traf",t.Gp="tfhd",t.Yp="trun",t.Kp="tfdt",t.Jp="mdat",t.Qp="pssh",t.Zp="emsg",t.tm="sidx",t.nm="styp",t.rm="ftyp",t.im="sinf",t.um="frma"}(Zl||(Zl={})),function(t){t.Tv="vide",t.bv="soun",t.sm="hint",t.om="meta",t.cm="auxv"}(tw||(tw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(nw||(nw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(rw||(rw={}));var qw=function(){function t(t,n){this.Iu=t,this.am=n}var n=t.prototype;return n.fm=function(){return Nu(this.Iu,this.am)},n.hm=function(){return Pu(this.Iu,this.am)},n.vm=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt16(n.hc,r);return n.cc(2),i}(this.Iu,this.am)},n.dm=function(){return Fu(this.Iu,this.am)},n.lm=function(){return function(t,n,r){void 0===r&&(r=!1);var i=t.getInt32(n.hc,r);return n.cc(4),i}(this.Iu,this.am)},n.wm=function(){return Bu(this.Iu,this.am)},n.ym=function(t){return Ou(this.Iu,this.am,t)},n.gm=function(t){return function(t,n,r){for(var i=[],e=0;e<r;e++)i.push(Fu(t,n));return i}(this.Iu,this.am,t)},n._m=function(t){return qu(this.Iu,this.am,t)},n.pm=function(){return Ku(this.Iu,this.am)},n.mm=function(t){this.am.cc(t)},n.fc=function(){return new t(this.Iu,this.am.fc())},t}(),jw=function(t){function n(n,r){var i;return(i=t.call(this)||this).km=n,i.bm=r,i}return W(n,t),H(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(un),Hw=function(){function t(){}return t.Tm=function(n){var r=n.Iu,i=n.am,e=t.Em(r,i,!1);if(!e.Sm)throw new jw(i.hc,e._u);return e._u},t.Em=function(n,r,i){for(var e=[];r.hc<n.byteLength;){var u=t.Rm(n,r,i);if(!u.Sm)return{Sm:!1,_u:e};e.push(u.Im)}return{Sm:!0,_u:e}},t.Cm=function(n,r){var i=t.Rm(n,r,!1);if(!i.Sm)throw new jw(r.hc);return i.Im},t.Dm=function(n,r){for(var i=n.Iu,e=n.am;e.hc<i.byteLength;){var u=t.Rm(i,e,!1);if(!u.Sm)return;if(u.Im.ro===r)return u.Im}},t.Rm=function(n,r,i){var e=r.hc,u=t.Nm(n,r);if(!u.Sm)return u;var s=u.Am,o=s.sc;if(0===o){if(i)return r.ac(e),{Sm:!1,Om:1/0};o=n.byteLength-e}var c=e+o;if(c>n.byteLength){var a=c;return r.ac(e),{Sm:!1,Om:a}}var f,h,v,d={ro:s.ro,hc:e,Iu:new qw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new ss(s.xm))};return r.ac(c),{Sm:!0,Im:d}},t.Nm=function(t,n){var r=n.hc;if(!xu(t,n,8))return{Sm:!1,Om:n.hc+8};var i=Fu(t,n),e=qu(t,n,4);if(1===i){if(!xu(t,n,8)){var u=n.hc+8;return n.ac(r),{Sm:!1,Om:u}}i=Bu(t,n).toNumber()}if("uuid"===e){if(!xu(t,n,16)){var s=n.hc+16;return n.ac(r),{Sm:!1,Om:s}}e=qu(t,n,16)}return{Sm:!0,Am:{ro:e,sc:i,xm:n.hc-r}}},t.Pm=function(t,n,r){var i=t.Iu,e=t.am,u=Zu(ns(i),e.hc,i.byteLength);return r&&(u=us(u)),e.cc(u.byteLength),{ro:n,Iu:u}},t.Lm=function(n,r,i){var e=Xw(n.dm());return{ro:r,Fm:e.version,Mm:e.flags,Iu:t.Pm(n,r,i).Iu}},t}();function Ww(t,n){var r=$w(t,n);if(!r)throw new h("Missing "+n+" atom");return r}function $w(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.ro===n)return i.Iu}}function zw(t,n){for(var r=[],i=0;i<t.length;i++){var e=t[i];e.ro===n&&r.push(e.Iu)}return r}function Xw(t){return{version:t>>24,flags:new Du(16777215&t)}}var Gw=function(){function t(){}return t.Bm=function(n){for(var r=[],i=Hw.Tm(new qw(n,new ss)),e=0;e<i.length;e++){var u=i[e],s=t.Um(u);s&&r.push(s)}return r},t.Vm=function(t){return Hw.Em(t,new ss,!1)._u.some(function(t){return t.ro===Zl.$p||t.ro===Zl.nm})},t.qm=function(n){return zw(Hw.Tm(new qw(n,new ss)),Zl.Qp).map(t.jm)},t.Um=function(n){switch(n.ro){case Zl.pp:return t.Hm(n.Iu);case Zl.$p:return t.Wm(n.Iu,n.hc);case Zl.Jp:return t.$m(n.Iu);case Zl.tm:return t.zm(n.Iu);case Zl.Zp:return t.Xm(n.Iu)}},t.Hm=function(n){var r=Hw.Tm(n),i=Ww(r,Zl.mp),e=zw(r,Zl.kp),u=$w(r,Zl.Np),s=t.Gm(i),o=e.map(t.Ym),c=u?t.Km(u):void 0;return{ro:Zl.pp,Am:s,Jm:o,Qm:c}},t.Gm=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=1===r?t.wm():t.dm(),u=1===r?t.wm():t.dm(),s=t.dm(),o=1===r?t.wm():t.dm(),c=t.dm(),a=t.hm()>>8;t.mm(2),t.mm(8);var f=t.gm(9);t.mm(24);var h=t.dm();return{ro:Zl.mp,Fm:r,Mm:i,Zm:e,tk:u,P_:s,Aw:o,nk:c,Vw:a,rk:f,ik:h}},t.Ym=function(n){var r=Hw.Tm(n),i=Ww(r,Zl.bp),e=Ww(r,Zl.Tp),u=t.ek(i),s=t.uk(e);return{ro:Zl.kp,Am:u,sk:s}},t.ek=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=1===r?t.wm():t.dm(),u=1===r?t.wm():t.dm(),s=t.dm();t.mm(4);var o=1===r?t.wm():t.dm();t.mm(8);var c=t.vm(),a=t.vm(),f=t.vm()/l.pow(2,8);t.mm(2);var h=t.gm(9),v=t.dm()/l.pow(2,16),d=t.dm()/l.pow(2,16);return{ro:Zl.bp,ck:i.dc(1),ak:i.dc(2),fk:i.dc(4),Zm:e,tk:u,hk:s,Aw:o,vk:c,dk:a,Vw:f,rk:h,as:v,lk:d}},t.uk=function(n){var r=Hw.Tm(n),i=Ww(r,Zl.Ep),e=Ww(r,Zl.Sp),u=Ww(r,Zl.Rp),s=t.wk(i),o=t.yk(e),c=t.gk(u);return{ro:Zl.Tp,Am:s,_k:o,pk:c}},t.wk=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=1===r?t.wm():t.dm(),u=1===r?t.wm():t.dm(),s=t.dm(),o=1===r?t.wm():t.dm();t.hm();return t.mm(2),{ro:Zl.Ep,Fm:r,Mm:i,Zm:e,tk:u,P_:s,Aw:o}},t.yk=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags;t.mm(4);var e=t._m(4);t.mm(12);var u=t.pm();return{ro:Zl.Sp,Fm:r,Mm:i,mk:e,su:u}},t.gk=function(n){var r=Ww(Hw.Tm(n),Zl.Ip),i=t.kk(r);return{ro:Zl.Rp,bk:i}},t.kk=function(n){var r=Ww(Hw.Tm(n),Zl.Cp),i=t.Tk(r);return{ro:Zl.Ip,Ek:i}},t.Tk=function(n){for(var r=Xw(n.dm()),i=r.version,e=r.flags,u=(n.dm(),[]),s=Hw.Tm(n),o=0;o<s.length;o++){var c=s[o],a=t.Sk(c.Iu,c.ro);a&&u.push(a)}return{ro:Zl.Cp,Fm:i,Mm:e,Rk:u}},t.Sk=function(n,r){var i=t.Ik(n,r);return i||((i=t.Ck(n,r))||(r===Zl.Vp?t.Dk(n):void 0))},t.Ik=function(n,r){return r===Zl.Bp?t.Nk(n):r===Zl.Hp?t.Ak(n):void 0},t.Ck=function(n,r){return r===Zl.Op?t.Ok(n):r===Zl.Pp||r===Zl.Lp?t.xk(n,r):r===Zl.Wp?t.Pk(n):void 0},t.Lk=function(t,n){return t.mm(6),{ro:n,Fk:t.hm()}},t.Mk=function(n,r){var i=t.Lk(n,r);n.mm(8);var e=n.hm(),u=n.hm();n.mm(2),n.mm(2);var s=n.dm()>>>16;return Zi(Zi({},i),{Bk:e,Uk:u,Vk:s})},t.qk=function(n,r){var i=t.Lk(n,r);n.mm(2),n.mm(2),n.mm(12);var e=n.hm(),u=n.hm(),s=n.dm(),o=n.dm();n.mm(4);var c=n.hm();n.mm(32);var a=n.hm();return n.mm(2),Zi(Zi({},i),{as:e,lk:u,jk:s,Hk:o,Wk:c,$k:a})},t.Nk=function(n){var r=t.Mk(n,Zl.Bp),i=Ww(Hw.Tm(n),Zl.Up),e=t.zk(i);return Zi(Zi({},r),{Xk:e})},t.Dk=function(n){var r=t.Lk(n,Zl.Vp),i=Hw.Tm(n),e=Ww(i,Zl.qp),u=t.Gk(e),s=$w(i,Zl.jp),o=s?t.Yk(s):s;return Zi(Zi({},r),{Kk:u,Jk:o})},t.Gk=function(t){return{ro:Zl.qp,Qk:t.pm()}},t.Yk=function(t){return{ro:Zl.jp,Bl:t.pm()}},t.zk=function(t){return Hw.Lm(t,Zl.Up,!0)},t.Ok=function(n){var r=t.qk(n,Zl.Op),i=Hw.Tm(n),e=Ww(i,Zl.xp),u=$w(i,Zl.Mp),s=t.Zk(e),o=u?t.nb(u):void 0;return Zi(Zi({},r),{rb:s,ib:o})},t.xk=function(n,r){var i=t.qk(n,r),e=Ww(Hw.Tm(n),Zl.Fp),u=t.eb(e);return Zi(Zi({},i),{ub:u})},t.Pk=function(n){var r=n.fc(),i=t.qk(n,Zl.Wp),e=Ww(Hw.Tm(n),Zl.im),u=t.sb(e),s=t.Ck(r,u.cb.ob);return Zi(Zi({},i),{ab:s,fb:u})},t.Ak=function(n){var r=n.fc(),i=t.Mk(n,Zl.Hp),e=Ww(Hw.Tm(n),Zl.im),u=t.sb(e),s=t.Ik(r,u.cb.ob);return Zi(Zi({},i),{ab:s,fb:u})},t.sb=function(n){var r=Ww(Hw.Tm(n),Zl.um),i=t.hb(r);return{ro:Zl.im,cb:i}},t.hb=function(t){var n=t._m(4);return{ro:Zl.um,ob:n}},t.Zk=function(t){return Hw.Pm(t,Zl.xp,!0)},t.eb=function(t){return Hw.Pm(t,Zl.Fp,!0)},t.nb=function(t){var n=t.dm(),r=t.dm();return{ro:Zl.Mp,vb:n,lb:r}},t.Km=function(n){var r=zw(Hw.Tm(n),Zl.Ap).map(t.wb);return{ro:Zl.Np,Jm:r}},t.wb=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=t.dm(),u=t.dm(),s=t.dm(),o=t.dm(),c=t.dm();return{ro:Zl.Ap,Fm:r,Mm:i,hk:e,yb:u,gb:s,_b:o,pb:c}},t.Wm=function(n,r){var i=Hw.Tm(n),e=Ww(i,Zl.zp),u=zw(i,Zl.Xp),s=t.mb(e),o=u.map(t.kb);return{ro:Zl.$p,bb:r,Am:s,Jm:o}},t.mb=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=t.dm();return{ro:Zl.zp,Fm:r,Mm:i,Tb:e}},t.kb=function(n){var r=Hw.Tm(n),i=Ww(r,Zl.Gp),e=zw(r,Zl.Yp),u=$w(r,Zl.Kp),s=t.Eb(i),o=e.map(function(n){return t.Sb(n,s)}),c=u?t.Rb(u):void 0;return{ro:Zl.Xp,Am:s,Ib:o,Cb:c}},t.Eb=function(t){var n=Xw(t.dm()),r=n.version,i=n.flags,e=t.dm(),u=i.dc(nw.BASE_DATA_OFFSET_PRESENT)?t.wm():void 0,s=i.dc(nw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.dm():void 0,o=i.dc(nw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.dm():void 0,c=i.dc(nw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.dm():void 0,a=i.dc(nw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.dm():void 0;return{ro:Zl.Gp,Fm:r,Mm:i,hk:e,Db:u,Nb:s,gb:o,_b:c,pb:a}},t.Sb=function(n,r){for(var i=Xw(n.dm()),e=i.version,u=i.flags,s=n.dm(),o=u.dc(rw.DATA_OFFSET_PRESENT)?n.lm():void 0,c=u.dc(rw.FIRST_SAMPLE_FLAGS_PRESENT)?n.dm():void 0,a=[],f=0;f<s;f++){var h=t.Ab(n,u,e,r);0===f&&void 0!==c&&(h.Mm=c),a.push(h)}return{ro:Zl.Yp,Fm:e,Mm:u,Ob:s,bb:o,xb:c,Pb:a}},t.Ab=function(t,n,r,i){return{Aw:n.dc(rw.SAMPLE_DURATION_PRESENT)?t.dm():i.gb,sc:n.dc(rw.SAMPLE_SIZE_PRESENT)?t.dm():i._b,Mm:n.dc(rw.SAMPLE_FLAGS_PRESENT)?t.dm():i.pb,Lb:n.dc(rw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===r?t.dm():t.lm():void 0}},t.Xm=function(t){var n=t.Iu,r=t.am,i=Xw(Fu(n,r)),e=i.version,u=i.flags;if(1===e){var s=Fu(n,r),o=Bu(n,r),c=Fu(n,r),a=Fu(n,r),f=Vu(n,r),h=Vu(n,r),v=es(ns(n),r.hc,n.byteLength);return r.cc(v.byteLength),{ro:Zl.Zp,Fm:e,Mm:u,Fb:f,au:h,P_:s,Mb:o,Bb:c,Ll:a,Ub:v}}var d=Vu(n,r),l=Vu(n,r),w=Fu(n,r),y=Fu(n,r),g=Fu(n,r),_=Fu(n,r),p=es(ns(n),r.hc,n.byteLength);return r.cc(p.byteLength),{ro:Zl.Zp,Mm:u,Fm:e,Fb:d,au:l,P_:w,Vb:y,Bb:g,Ll:_,Ub:p}},t.$m=function(t){return Hw.Pm(t,Zl.Jp,!1)},t.jm=function(n){var r=n.Iu,i=n.am,e=us(ns(r)).buffer,u=Xw(Fu(r,i)),s=u.version,o=u.flags,c=t.qb(r,i),a=[];if(s>0)for(var f=Fu(r,i),h=0;h<f;h++){var v=Ou(r,i,16);a.push(v)}var d=Fu(r,i),l=new _(e,i.hc,d);return i.cc(r.byteLength),{ro:Zl.Qp,Fm:s,Mm:o,jb:c,Hb:a,Wb:d,Iu:l,$b:e}},t.qb=function(t,n){for(var r="",i=0;i<4;i++){var e=Nu(t,n).toString(16);r+=1===e.length?"0"+e:e}r+="-";for(var u=0;u<2;u++){var s=Nu(t,n).toString(16);r+=1===s.length?"0"+s:s}r+="-";for(var o=0;o<2;o++){var c=Nu(t,n).toString(16);r+=1===c.length?"0"+c:c}r+="-";for(var a=0;a<2;a++){var f=Nu(t,n).toString(16);r+=1===f.length?"0"+f:f}r+="-";for(var h=0;h<6;h++){var v=Nu(t,n).toString(16);r+=1===v.length?"0"+v:v}return r.toLowerCase()},t.zm=function(t){var n,r,i=t.Iu,e=t.am,u=Xw(Fu(i,e)),s=u.version,o=u.flags,c=Fu(i,e),a=Fu(i,e);0===s?(n=Xt.fromBits(Fu(i,e),0,!0),r=Xt.fromBits(Fu(i,e),0,!0)):(n=Bu(i,e),r=Bu(i,e)),e.cc(2);for(var f=Pu(i,e),h=[],v=0;v<f;v+=1){var d=Fu(i,e),l=d>>31&1,w=2147483647&d,y=Fu(i,e),g=Fu(i,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({zb:l,Xb:w,Aw:y,Gb:_,Yb:p,Kb:m})}return{ro:Zl.tm,Fm:s,Mm:o,Jb:c,P_:a,Qb:n,Zb:r,tT:f,nT:h}},t.Rb=function(t){var n,r=t.Iu,i=t.am,e=Xw(Fu(r,i)),u=e.version,s=e.flags;return n=0===u?Xt.fromBits(Fu(r,i),0,!0):Bu(r,i),{ro:Zl.Kp,Fm:u,Mm:s,Cb:n}},t}();function Yw(t){return t&&"gu"in t?t.gu:t}var Kw=function(t){function n(n,r,i,e,u,s,o){var c;return(c=t.call(this,n,r,i,e)||this).rT=u,c.iT=s,c.eT=o||void 0,c}return W(n,t),n.prototype.mg=function(n){return this===n||!!Pv(this,n)&&(!!t.prototype.mg.call(this,n)&&(!!xv(this.uT,n.uT)&&(!!xv(this.lp,n.lp)&&(this.sT&&n.sT?!!this.sT.iu(n.sT)&&(this.hg&&n.hg?this.hg.iu(n.hg):this.hg===n.hg):this.sT===n.sT))))},H(n,[{key:"uT",get:function(){return this.rT}},{key:"lp",get:function(){return this.iT}},{key:"sT",get:function(){return this.eT}},{key:"zd",get:function(){var t;return this.$d||(this.$d=Av(Al(t=this),{get styles(){return t.uT},get regions(){return t.lp},get metadata(){return Yw(t.sT)},get content(){return Yw(t.hg)}})),this.$d}}]),n}(Pl),Jw=function(){function t(t,n,r){this.oT=t,this.cT=n,nn(r)?this.bh=function(t,n,r){for(var i=0,e=["begin","end","dur"];i<e.length;i++){var u=e[i];r.ku(u)}return r}(0,0,r):this.bh=r}return H(t,[{key:"aT",get:function(){return this.bh.eu(!0)}},{key:"ag",get:function(){return this.oT}},{key:"fg",get:function(){return this.cT}}]),t}();var Qw="http://www.w3.org/XML/1998/namespace";function Zw(t,n){return function(t,n){var r=t._u.slice(),i=[];for(;r.length>0;){var e=r.shift();n(e)?i.push(e):r.push.apply(r,e._u)}return i}(t,function(t){return t.lu===n})}function ty(t,n){for(var r=t,i=0;i<n.length;i++){var e=n[i];r=r.replace(e+":","")}return r}function ny(t,n){for(var r=t.Su,i={},e=0;e<r.length;e++)i[ty(r[e].su,n)]=r[e].au;return i}var ry=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,iy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,ey="http://www.w3.org/ns/ttml";function uy(t,n,r){return void 0===r&&(r=sw),function(t,n,r){var i=[],e=N.nu(t);if(!e)return i;var u=e.Cu;if("tt"!==u.uu)return i;var s=u&&u.wu(ey,"head")[0],o=u&&u.wu(ey,"body")[0],c=["ebutts","tts","xml"];if(!o||!s)return i;for(var a=function(t,n){for(var r={},i=t.wu(ey,"styling")[0],e=i&&i.wu(ey,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.mu(Qw,"id");r[o]=ny(s,n)}return r}(s,c),f=function(t,n){var r=Ov(t),i=ay(n.pu("tts:extent"));if(!i)return r;for(var e=0,u=d.keys(r);e<u.length;e++){var s=u[e],o=ay(r[s].extent);if(o){var c=oy(o[0],i[0]),a=oy(o[1],i[1]);r[s].extent=c+" "+a}var f=ay(r[s].origin);if(f){var h=oy(f[0],i[0]),v=oy(f[1],i[1]);r[s].origin=h+" "+v}}return r}(function(t,n){for(var r={},i=t.wu(ey,"layout")[0],e=i&&i.wu(ey,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.mu(Qw,"id");if(o){r[o]=ny(s,n);var c=vy(s,n);for(var a in c)nt.call(c,a)&&(r[o][a]=c[a])}}return r}(s,c),u),h=s.wu(ey,"metadata")[0],v=function t(n,r,i,e){var u,s;var o=r;var c;var a=i;var f=[];var h=[];if(nn(n)){o=null!==(u=hy(n.pu("begin"),e))&&void 0!==u?u:o,c=hy(n.pu("dur"),0),a=null!==(s=hy(n.pu("end"),e))&&void 0!==s?s:void 0!==c?o+c:a;for(var v=n.du,d=0;d<v.length;d++)("body"===n.uu||"div"===n.uu)&&v[d].Ye>1||(f=f.concat(t(v[d],o,a,e)))}var l=function(t,n,r){var i=[];i.push(t,n);for(var e=0;e<r.length;e++){var u=r[e];i.push(u.ag,u.fg)}i.sort(Ul);for(var s=i.length,o=0;o<s-1;o++)i[o+1]===i[o]&&(Ne(i,o+1),o--,s=i.length);return i}(o,a,f);for(var w=0;w<l.length-1;w++){var y=fy(l[w],l[w+1],f);if(y.length<=0&&dy(n)){var g=n.eu(!1);h.push(new Jw(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.eu(!1);y.forEach(function(n){return t.yu(n.aT)}),h.push(new Jw(l[w],l[w+1],t))}()}return h}(o,r.hp,r.vp,r.dp),l=0;l<v.length;l++){var w=v[l],y=sy(f,w);i.push(new Kw(w.ag,w.fg,w.aT,!1,a,y,h))}return i}(t,0,r)}function sy(t,n){for(var r=function t(n){var r=[];var i;if(nn(n)){(i=n.pu("region"))&&r.push(i);for(var e=n.du,u=0;u<e.length;u++)r=r.concat(t(e[u]))}return r}(n.aT),i={},e=0;e<r.length;e++){var u=r[e];i[u]=t[u]}return i}function oy(t,n){var r=cy(t),i=cy(n);if(r&&i&&r===i){var e=Number(t.slice(0,-r.length)),u=Number(n.slice(0,-i.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function cy(t){return pi(t,"px")?"px":pi(t,"em")?"em":pi(t,"c")?"c":pi(t,"%")?"%":void 0}function ay(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function fy(t,n,r){for(var i=[],e=0;e<r.length;e++){var u=r[e].ag,s=r[e].fg;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&i.push(r[e])}return i}function hy(t,n){if(t){if(ry.test(t)){var r=ry.exec(t);if(!r)return;var i=Number(r[1])||0,e=Number(r[2])||0,u=Number(r[3])||0,s=r[6];return 3600*i+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(iy.test(t)){var o=iy.exec(t);if(!o)return;var c,a=Number(o[1]);switch(o[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function vy(t,n){for(var r={},i=t.vu("style")||[],e=0;e<i.length;e++){var u=ny(i[e],n);for(var s in u)nt.call(u,s)&&(r[s]=u[s])}return r}function dy(t){if(nn(t)){var n=t.uu.toUpperCase(),r=Boolean(t.pu("smpte:backgroundImage"));return"BR"===n||r}return t.Ye===tn.Qe}function ly(t){var n=function(t){var n=N.nu(t);if(n)return n.Cu}(t);return"tt"===(null==n?void 0:n.uu)}var wy,yy=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.ml=function(n){return t.prototype.ml.call(this,n)},r.kl=function(n){var r=t.prototype.kl.call(this,n);return r&&(n.Wl=Xv.Xl),r},r.Xd=function(){return Zv(this)},n}(Sv),gy=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Jm=new yy,n.fT=function(t){t.Gd.Wl!==Xv.Xl?n.hT(t.Gd):n.vT(t.Gd)},n}W(n,t);var r=n.prototype;return r.ml=function(t){t.Po(_v.ol,this.fT),this.Jm.ml(t)},r.kl=function(t){t.Bo(_v.ol,this.fT),t.Wl=Xv.Xl,this.Jm.kl(t)},r.hT=function(t){},r.vT=function(t){},r.dT=function(){for(var t=0,n=this.Jm.El;t<n.length;t++){var r=n[t];r.Bo(_v.ol,this.fT),r.fi()}},r.Tl=function(){return this.dT(),this.Jm.Tl(),C.resolve()},r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Tl();case 3:this.Jm.fi();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ke);!function(t){t.lT="subtitles",t.wT="captions",t.yT="descriptions",t.gT="chapters",t.om="metadata",t._T="thumbnails"}(wy||(wy={}));var _y=[wy.lT,wy.wT,wy.yT,wy.gT,wy.om,wy._T];function py(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ae(_y,t)}(n)?n:n?wy.om:wy.lT}var my,ky=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n,r,u)||this).url=i,s.status=e,s}return W(n,t),n}(Os);function by(t,n){return t===wy._T||t===wy.om&&n===wy._T}function Ty(t,n,r,i){for(var e=0,u=t.Yl.El;e<u.length;e++){var s=u[e];if(s.ag>r)break;n<=s.fg&&i.push(s)}}function Ey(t,n){return Bl(t.Fl,n.Fl)}function Sy(t,r){var i=r,e=0;if(t instanceof Mf&&t.name===Lf.Uv)i=t.sv.cv;else if(function(t){return t instanceof Uf}(t)){var u=t.Wv;if(i=u.ov,0===(e=u.nv))return new ky(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",i,e,t)}return new ky(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",i,e,t)}function Ry(t){switch(t){case Tl.WEBVTT:return"WebVTT";case Tl.SRT:return"SRT";case Tl.TTML:return"TTML";default:return""}}function Iy(t){return Rw(yw(t))?Tl.WEBVTT:ly(t)?Tl.TTML:Tl.SRT}!function(t){t.pT="vtt",t.Vp="wvtt",t.mT="stpp"}(my||(my={}));var Cy=function(t){function n(n){var r;return(r=t.call(this,Gv.jl)||this).errorObject=n,r}return W(n,t),n.prototype.Xd=function(){return this},H(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(gv),Dy=function(t){function r(n,r){var i;return(i=t.call(this)||this).kT=new Pe,i.bT=n,i.TT=r,i}W(r,t);var i=r.prototype;return i.ET=function(t){if(t.src){var n=t.kind||wy.lT,r=this.bT.ST(n,t.label,t.srclang,t.default);return r.Jl=Si(t.src),this.ml(r),r}},i.RT=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o,c,a,f,h,v,d,l;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.Gl=bl.LOADING,e=new xf({cv:r.Jl,iv:Zs.Qe,Sv:Cf.GET,Co:i}),t.prev=2,t.next=5,this.TT.sv(e);case 5:return o=t.sent,s=o.nv,t.next=9,o.Uh();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Be(t.t0),r.Gl=bl.ERROR,r.Oo(new Cy(Sy(t.t0,r.Jl))),t.abrupt("return");case 18:for(t.prev=18,c=Iy(u),r.ro=c,a=[],c===Tl.WEBVTT||c===Tl.SRT?(f=ww(u),a=f.Yl):c===Tl.TTML&&(a=uy(u)),h=0,v=a;h<v.length;h++)d=v[h],r.IT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Be(t.t1),r.Gl=bl.ERROR,l=Ry(r.ro),r.Oo(new Cy(new ky(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",r.Jl,s,t.t1))),t.abrupt("return");case 33:r.Gl=bl.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,r){return t.apply(this,arguments)}}(),i.hT=function(t){Ae(this.Jm.El,t)&&t.Gl===bl.NONE&&this.RT(t,this.kT.Co).catch(Ue)},i.Oc=function(){},i.Tl=function(){var n=C.coroutine(Qi.mark(function n(){var r,i,e;return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.kT.So(),this.kT=new Pe,r=0,i=this.Jm.El;r<i.length;r++)e=i[r],this.bT.CT(e);return n.next=5,t.prototype.Tl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(gy);function Ny(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Ml===n&&i.DT)return i}}function Ay(t,n){Oy(Ny(t.El,n))}function Oy(t){void 0!==t&&(t.Wl=Xv.$l)}function xy(t,n){Oy(Ny(t.El,n)||function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(i.Ml===n)return i}}(t.El,n))}function Py(t){for(var n=0;n<_y.length;n++){var r=_y[n];r===wy.gT?xy(t,r):Ay(t,r)}}var Ly=function(t){function n(){return t.call(this,Qs.af)||this}return W(n,t),n}(Qe),Fy=function(){function t(t){var n=this;this.NT=[],this.AT=void 0,this.Sd=new Pe,this.kn=function(){return 0===n.NT.length?n.OT?My(n.OT,n.Sd.Co).then(n.xT,n.xT):n.xT():n.NT.shift()().then(n.kn)},this.xT=function(){if(0!==n.NT.length)return n.kn();n.AT=void 0},this.OT=t}var n=t.prototype;return n.PT=function(t,n){var r=this;return new C(function(i){var e=new Pe;e.Ro(r.Sd.Co),n&&e.Ro(n);var u=function(){e.po()};r.NT.push(function(){var n=My(t,e.Co);return i(n),n.then(u,u)}),r.AT||(r.AT=r.kn())})},n.So=function(){return this.LT(!0)},n.fi=function(){return this.OT=void 0,this.LT(!1)},n.LT=function(t){var n=this.AT;return this.Sd.So(),t&&(this.Sd=new Pe),C.resolve(n)},t}();function My(t,n){return new C(function(r){return r(t(n))})}var By=function(t){function n(n){var r;return(r=t.call(this,Qs.Ha)||this).errorObject=n,r}return W(n,t),H(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Qe);function Uy(t,n){var r={};for(var i in t)d.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(r[i]=t[i]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var e=0;for(i=d.getOwnPropertySymbols(t);e<i.length;e++)n.indexOf(i[e])<0&&d.prototype.propertyIsEnumerable.call(t,i[e])&&(r[i[e]]=t[i[e]])}return r}var Vy,qy="titanium",jy="conax",Hy="ezdrm",Wy="irdeto",$y="vudrm",zy="verimatrix",Xy="keyos",Gy="drmtoday",Yy="expressplay",Ky="azure",Jy="xstream",Qy="vimond",Zy="axinom",tg="uplynk",ng="comcast",rg="custom";function ig(t){return it(t.token&&t.deviceId)}function eg(t){var n,r=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==r&&it(r.PreAuthorization)}function ug(t){var n=t;return ig(n)&&""!==n.token&&""!==n.deviceId&&!eg(n)}!function(t){t.FT=!1,t.MT=!1,t.BT=!1,t.UT=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.VT=!1}(Vy||(Vy={}));var sg,og=function(){function t(t,n,r){this.qT=t,this.kc=n,this.jT=r}return t.prototype.HT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var r=t.onCertificateResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var i=t.onLicenseRequest;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.jT.build(t))},H(t,[{key:"WT",get:function(){return this.qT}},{key:"Yc",get:function(){return this.kc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(sg||(sg={}));var cg=function(){function t(){this.$T=[]}var r=t.prototype;return r.registerContentProtectionIntegration=function(t,r,i){switch(this.zT(t,r,i)){case sg.FAILED:throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+r+".");case sg.OVERRIDDEN:var e=Sg(r);N._s("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case sg.SUCCEEDED:Sg(r);0}},r.zT=function(t,n,r){var i=Sg(n);if(!i)return sg.FAILED;for(var e=sg.SUCCEEDED,u=0,s=this.$T.slice();u<s.length;u++){var o=s[u];o.WT===t&&o.Yc===i&&(e=sg.OVERRIDDEN,De(this.$T,o))}return this.$T.push(new og(t,i,r)),e},r.XT=function(t,n){return void 0!==this.GT(t,n)},r.YT=function(t,n,r){var i=this.GT(t,n);if(!i)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return i.HT(r)},r.GT=function(t,n){for(var r=0,i=this.$T;r<i.length;r++){var e=i[r];if(e.WT===t&&(!n||e.Yc===n))return e}},t}();cg.KT=new cg;var ag={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function fg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,r=t.certificateURL,i=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||r||i||e||u||s||o||c||a||f)}function hg(t){return t&&void 0!==t.licenseAcquisitionURL}var vg=hg,dg=hg;function lg(t){if(!t)return!0;if(_g(t))return!1;var n=t.fairplay,r=t.playready,i=t.widevine,e=t.clearkey,u=t.aes128;return fg(n)&&fg(r)&&fg(i)&&fg(e)&&fg(u)}function wg(t){var n=ug(t),r=function(t){var n,r=t;return eg(r)&&""!==(null===(n=r.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!ig(r)}(t);return(!n||!r)&&(n||r)}function yg(t){return t.integration===Wy}function gg(t){var n=t;if(!n)return!1;if(lg(n))return!1;var r=n.fairplay,i=n.playready,e=n.widevine,u=n.clearkey;if(_g(t))return!0;if(r&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(r))return!1;if(i&&!vg(i))return!1;if(e&&!dg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(cg.KT.XT(n.integration))return!0;switch(n.integration){case qy:if(!function(t){return t.integration===qy&&(pg(t)||mg(t))}(t))return!1;break;case $y:if(!kg(t))return!1;break;case zy:if(!function(t){return t.integration===zy}(t))return!1;break;case Wy:if(!yg(t))return!1;break;case jy:if(!wg(t))return!1;break;case Hy:if(!function(t){return t.integration===Hy}(t))return!1;break;case Xy:if(!_g(t))return!1;break;case Gy:if(!function(t){var n=t;return n.integration===Gy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Yy:if(!function(t){return t.integration===Yy}(t))return!1;break;case Jy:if(!bg(t))return!1;break;case Qy:if(!function(t){return t.integration===Qy}(t))return!1;break;case Zy:if(!Tg(t))return!1;break;case Ky:if(!function(t){var n=t;return n.integration===Ky&&void 0!==n.token}(t))return!1;break;case tg:if(!function(t){return t.integration===tg}(t))return!1;break;case ng:if(!function(t){var n=t;return n&&it(n.releasePid)&&it(n.accountId)&&it(n.token)}(t))return!1;break;case rg:return!0;default:return!1}}return!0}function _g(t){return t.integration===Xy}function pg(t){return void 0!==t.authToken}function mg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function kg(t){var n=t;return n.integration===$y&&void 0!==n.token}function bg(t){var n=t;return n&&n.integration===Jy&&ct(n.ticketAcquisitionURL)&&ct(n.streamId)}function Tg(t){var n=t;return n.integration===Zy&&void 0!==n.token}function Eg(t,n){var r,i,e,u=n[t],s=null!==(r=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==r?r:ag[t],o=null!==(i=null==u?void 0:u.customdata)&&void 0!==i?i:n.customdata,c=o?{customData:o}:{},a=Zi(Zi({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),c),f=null!=u?u:{};f.customdata;return Zi(Zi({},Uy(f,["customdata"])),{licenseAcquisitionURL:s,headers:a})}function Sg(t){switch(t.toLowerCase()){case"widevine":case we:return we;case"playready":case ve:return ve;case"fairplay":case ge:return ge}}function Rg(t,r){switch(t){case ae:return function(t){for(var n={},r=Gw.qm(new DataView(t)),i=0;i<r.length;i++){var e=r[i];n[e.jb]=e.$b}return n}(r);case fe:case he:return function(t){var n;return(n={})[ye]=t,n}(r);default:throw new Os(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var Ig=function(t){function n(n){var r;return(r=t.call(this)||this).JT=void 0,r.Sd=new Pe,r.QT=n,r}W(n,t);var r=n.prototype;return r.ZT=function(t){t&&(this.JT=t,this.tE(this.Sd.Co).catch(Ue))},r.tE=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.JT,!N.Ls.us){t.next=6;break}return t.next=4,this.nE(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!r.rE){t.next=10;break}return t.next=9,this.iE(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.nE=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u,s,o,c,a;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.JT,i=!1,e=0,u=r.eE;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,c=s.uE;case 6:if(!(o<c.length)){t.next=20;break}return a=c[o],t.prev=8,t.next=11,this.sE(s.Yc.eo,a,n);case 11:i=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Be(t.t0);case 17:o++,t.next=6;break;case 20:if(!i){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),r.oE=function(t,n){return this.sE(t,n,this.Sd.Co)},r.Tl=function(){return this.JT=void 0,this.Sd.So(),this.Sd=new Pe,this.cE()},r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Tl();case 3:this.Sd.po();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.aE=function(t,n){if(!this.JT)return!1;var r=Rg(t,n);return Boolean(r[le])},H(n,[{key:"Yc",get:function(){return this.fE()}}]),n}(Ke),Cg=function(t){function n(){return t.call(this,Qs.Wa)||this}return W(n,t),n}(Qe),Dg=function(t){function n(n){var r;return(r=t.call(this,"kf")||this).hE=n,r}return W(n,t),n}(Qe),Ng=new Fy,Ag=function(t){function r(r,i,e){var u;return(u=t.call(this)||this).vE=r,u.dE=i,u.lE=e,u.Br=!1,u.wE=!1,u.Sd=new Pe,u.Sc=function(t){switch(t.zo){case"license-request":u.yE(t.$o,t.Xo).catch(function(t){return u.ua(t)});break;default:u.ua(new sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.zo))}},u.gE=function(t){u.vE.Bc.ic(function(t,n){switch(t){case"usable":N.bs(function(){u.wE=!0,u.Oo(new Cg)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Oo(new Dg(n))}})},u._E=function(t){u.ua(new sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},r.Po("$o",u.Sc),r.Po("Wo",u.gE),r.Po("Go",u._E),u.Fc=r.Fc.then(function(){return u.pE()}),u}W(r,t);var i=r.prototype;return i.Ac=function(){var t=this;return this.Br=!0,Ng.PT(function(n){return t.mE(n)},this.Sd.Co)},i.mE=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Me(r),t.next=4,this.dE.kE(this.lE.Zo);case 4:return i=t.sent,t.next=7,this.vE.Ac(this.lE.eo,this.lE.Zo,i);case 7:if(!this.dE.bE){t.next=10;break}return t.next=10,this.dE.jo("persistenttokenavailable",r);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Be(t.t0),e=t.t0 instanceof vs?t.t0.pc:void 0,u=new sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ua(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),i.yE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i&&this.dE.TE(i),t.prev=1,!as(r)){t.next=8;break}return t.next=5,this.dE.EE(new _(r),this.Sd.Co);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.dE.SE(new _(r),this.Sd.Co);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Fe(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.vE.Pc(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof vs?t.t1.pc:void 0,new sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.ua=function(t){var r=t instanceof sl?t:new sl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Oo(new By(r)),this.Nc()},i.pE=function(){this.vE.Bo("$o",this.Sc),this.vE.Bo("Wo",this.gE),this.vE.Bo("Go",this._E),this.wE=!1,this.Sd.So()},i.Nc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.pE(),t.next=4,this.vE.Nc().catch(P);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r}(Ke),Og=[Qs.Wa,Qs.Ha,Qs.mf],xg=function(t){function n(n,r,i){var e;(e=t.call(this)||this).RE=[],e.IE=[],e.Vc=n,e.QT=i,e.CE=r;var u=r.DE;return u&&We(n.jc(u)),e}W(n,t);var r=n.prototype;return r.NE=function(){return this.AE||(this.AE=this.OE()),this.AE},r.OE=function(){var t=C.coroutine(Qi.mark(function t(){var n;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CE.EE(new _(cs()));case 2:return n=t.sent,t.next=5,this.Vc.jc(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xE=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e=this;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.IE.push(n),t.next=4,this.Vc.qc("temporary");case 4:return r=t.sent,i=new Ag(r,this.CE,n),this.RE.push(i),i.Po(Og,this.Ao),i.Fc.then(function(){return e.PE(i)}),t.abrupt("return",i);case 10:return t.prev=10,De(this.IE,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),r.LE=function(t){if(t.FE)return!1;for(var n=0,r=this.RE;n<r.length;n++){if(Pg(r[n].lE,t))return!0}for(var i=0,e=this.IE;i<e.length;i++){if(Pg(e[i],t))return!0}return!1},r.PE=function(t){t.Bo(Og,this.Ao),De(this.RE,t)},r.fi=function(){var t=C.coroutine(Qi.mark(function t(){var n;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),n=this.RE.slice(),this.RE.length=0,t.next=5,C.all(n.map(function(t){return t.Nc()}));case 5:this.CE.fi();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"ME",get:function(){return this.CE.ME}},{key:"Yc",get:function(){return this.CE.Yc}},{key:"BE",get:function(){return this.CE.BE}},{key:"UE",get:function(){return this.CE.UE}},{key:"VE",get:function(){return this.CE.VE}}]),n}(Ke);function Pg(t,n){return!t.FE&&t.eo===n.eo&&gu(t.Zo,n.Zo)}var Lg=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return W(n,t),n}(Qe),Fg=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this)||this).qE=void 0,s.Yc=n,s.ME=r,s.UE=i,s.TT=e,s.jE=u,s.BE=s.HE(r),s}W(r,t);var i=r.prototype;return i.WE=function(){return this.qE},i.TE=function(t){this.qE=t},i.$E=function(){return this.BE.licenseAcquisitionURL||this.WE()},i.kE=function(t){return C.resolve(void 0)},i.zE=function(){var t=C.coroutine(Qi.mark(function t(r,i,e,u){var s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.XE(r,i,e,u)).cv){t.next=3;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Vd.sv(s);case 6:return o=t.sent,t.next=9,o.Vh(i);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Be(t.t0),t.next=17,this.GE(t.t0,s.cv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.XE=function(t,n,r,i){var e=this.YE().Rf(),u=this.Dv,s={cv:this.KE(),iv:n,rv:e,Wh:t,Dv:u,Sv:Cf.POST,Rv:0,Co:i,ro:Df.dv,Iv:r};return new xf(s)},i.yE=function(t,n){return C.resolve(t)},i.JE=function(t,n,r,i){return C.resolve(t)},i.YE=function(){return new to(this.BE.headers||{})},i.GE=function(){var t=C.coroutine(Qi.mark(function t(r,i,e){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",r);case 1:case"end":return t.stop()}},t)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.KE=function(t,n){var r=n,i=this.BE.queryParameters;if(!r){var e=this.$E();if(!e)return"";r=e}if(i||t){var u=N.zu(r);t&&Ei(u,t),i&&Ei(u,i),r=u.href}return r},i.QE=function(t){return function(t,n){var r=n.licenseResponseProcessor;return C.resolve(new _(Mg(t,r)))}(t,this.BE)},i.ZE=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){var e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tS(n,i);case 2:return e=t.sent,t.next=5,this.zE(e,this.jE,r,i);case 5:return u=t.sent,t.next=8,this.QE(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.fi=function(){this.Mo()},H(r,[{key:"Vd",get:function(){return this.TT}},{key:"bE",get:function(){return!1}},{key:"DE",get:function(){var t=this.BE.certificate;if(t)return ct(t)?vu(t):is(t)}},{key:"nS",get:function(){return"optional"}},{key:"Kc",get:function(){return!1}},{key:"VE",get:function(){return!1}},{key:"Dv",get:function(){return Boolean(this.BE.useCredentials)}}]),r}(Ke);function Mg(t,r){if(!t||!r||"function"!=typeof r)return t;try{return r(t)}catch(t){throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Bg(t,n){var r=us(t).buffer,i=n.licenseRequestProcessor;return C.resolve(Mg(r,i))}var Ug,Vg=function(t){function n(n,r,i,e){return t.call(this,me,n,r,i,e)||this}W(n,t);var r=n.prototype;return r.HE=function(t){return t.widevine||{}},r.EE=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.abrupt("return",this.SE(new _(n),r));case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.SE=function(n,r){return t.prototype.ZE.call(this,n,Nf.gv,r)},n}(Fg);!function(t){t.Js="Widevine",t.Ks="PlayreadyV2",t.rS="PlayreadyV2",t.iS="PlayreadyV3",t.Qs="Fairplay"}(Ug||(Ug={}));var qg={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function jg(t,n){var r,i,e,u,s=qg[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(r=N.Ps)||void 0===r?void 0:r.Ls,OSVersion:null===(i=N.Ps)||void 0===i?void 0:i.Vs,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null===(e=N.Ps)||void 0===e?void 0:e.qs,DeviceModel:null===(u=N.Ps)||void 0===u?void 0:u.js}}}function Hg(t,r){if(!t.accountName)throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, accountName is not set.");if(!t.customerName)throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, customerName is not set.");if(!t.portalId)throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, portalId is not set.");throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration.")}function Wg(t,n,r){var i;if(pg(t))i={AuthToken:t.authToken,Payload:n};else{if(!mg(t))throw Hg(t,r);i={LatensRegistration:jg(t,r),Payload:n}}return ku(JSON.stringify(i))}function $g(t,n,r){return zg.apply(this,arguments)}function zg(){return(zg=C.coroutine(Qi.mark(function t(r,i,e){var u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.Wv){t.next=3;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,i);case 3:return s=u,t.prev=4,t.next=7,s.Bh(e);case 7:o=t.sent,c=Xg(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,s.sv.cv,s.nv,s.ev,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Xg(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Gg=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Zs.Ef)||this).eS=!0,e}W(r,t);var i=r.prototype;return i.GE=function(t,n,r){return $g(t,n,r)},i.tS=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.ME){t.next=3;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=lu(r),t.abrupt("return",Wg(e,u,Ug.Js));case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.QE=function(t){var r;if(!t.license)throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return r=vu(t.license),C.resolve(r)},i.uS=function(t){return C.resolve(new _(t))},i.EE=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sS(),t.next=3,this.tS(n,r);case 3:return i=t.sent,t.next=6,this.zE(i,Zs.Tf,Nf._v,r);case 6:return e=t.sent,t.next=9,this.uS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.SE=function(){var n=C.coroutine(Qi.mark(function n(r,i){var e;return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.SE.call(this,r,i);case 2:return e=n.sent,this.sS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),i.sS=function(){this.Oo(new Lg),this.eS=!1},H(r,[{key:"bE",get:function(){return this.eS}},{key:"nS",get:function(){return N.Ls.os?"required":"optional"}}]),r}(Vg),Yg=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i,Zs.Tf)||this).TE("https://widevine-proxy.drm.technology/proxy"),e}return W(r,t),r.prototype.tS=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bg(r,this.BE);case 2:if(e=t.sent,u=this.UE,i=new _(e),s=[].slice.call(i),o=this.oS){t.next=8;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var i},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),H(r,[{key:"oS",get:function(){if(kg(this.ME))return this.ME.token}}]),r}(Vg);function Kg(t,n){var r=n||{};return t.ticket&&t.sessionId&&(r=Zi(Zi({},r),{SessionId:t.sessionId,Ticket:t.ticket})),Zi(Zi({},r),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Jg=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Zs.Tf)||this).TE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}W(n,t);var r=n.prototype;return r.tS=function(t,n){return Bg(t,this.BE)},r.KE=function(n,r){var i=n;return yg(this.ME)&&(i=Kg(this.ME,i)),t.prototype.KE.call(this,i,r)},n}(Vg),Qg="Conax-Custom-Data";function Zg(t,n,r){var i=t&&wg(t)&&t;if(i&&!r.has(Qg)){var e=ug(i)?i.token:void 0,u=ug(i)?i.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});r.set(Qg,s)}return r}var t_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Zs.Tf)||this).TE("https://connect.conax.com:8094/license"),e}W(n,t);var r=n.prototype;return r.tS=function(t,n){return Bg(t,this.BE)},r.YE=function(){var n=t.prototype.YE.call(this);return Zg(this.ME,"Widevine",n)},n}(Vg);function n_(t){var n=zu(new _(t));return vu(JSON.parse(n).license)}function r_(t){return"string"==typeof t.token?t.token:ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function i_(t,n,r){var i;return i=r.token?"x-dt-auth-token":"dt-custom-data",t.set(i,n),t}var e_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i,Zs.Tf)||this).TE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}W(n,t);var r=n.prototype;return r.tS=function(t,n){return Bg(t,this.BE)},r.QE=function(t){return C.resolve(n_(t))},r.YE=function(){return i_(t.prototype.YE.call(this),this.oS,this.ME)},H(n,[{key:"oS",get:function(){return r_(this.ME)}}]),n}(Vg),u_=function(t){function n(n,r,i){return t.call(this,n,r,i,Zs.Tf)||this}W(n,t);var r=n.prototype;return r.tS=function(t,n){return Bg(t,this.BE)},r.YE=function(){var n=t.prototype.YE.call(this),r=this.ME.token;return n.set("Authorization","Bearer "+r),n},n}(Vg);function s_(t,n,r,i){return o_.apply(this,arguments)}function o_(){return(o_=C.coroutine(Qi.mark(function t(r,i,e,u){var s,o,c,a,f,h,v;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(bg(r)){t.next=2;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new to).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=r.sessionId)&&s.append("XSSESSION",o),c=r.streamId,a=r.fairplay?"persistent"===r.fairplay.licenseType?"persistent":"non-persistent":r.widevine&&"persistent"===r.widevine.licenseType?"persistent":"non-persistent",f={drmType:i,licenseType:a,streamId:c},h={cv:r.ticketAcquisitionURL,iv:Zs.Ef,rv:s,Sv:Cf.POST,Wh:JSON.stringify(f),Co:u},t.next=13,e.sv(h);case 13:return v=t.sent,t.next=16,v.Bh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var c_=function(t){function n(n,r,i){return t.call(this,n,r,i,Zs.Ef)||this}W(n,t);var r=n.prototype;return r.YE=function(){var n=t.prototype.YE.call(this);return n.set("Content-Type","application/json"),n},r.tS=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=mu(n.buffer),e=this.ME,t.next=4,s_(e,"widevine_modular",this.Vd,r);case 4:return u=t.sent,this.TE(u.licenseServerUrl),s=Xu(JSON.stringify({payload:i,ticket:u.ticket})),t.abrupt("return",Bg(s,this.BE));case 8:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.QE=function(t){var n=t;return C.resolve(vu(n.license))},n}(Vg),a_=function(t){function r(n,r,i){return t.call(this,n,r,i,Zs.Tf)||this}W(r,t);var i=r.prototype;return i.tS=function(t,n){return Bg(t,this.BE)},i.YE=function(){if(!Tg(this.ME))throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.YE.call(this);return r.set("X-AxDRM-Message",this.ME.token),r},r}(Vg);function f_(t){for(var n=new _(2*t.length),r=0;r<t.length;r+=1)n[2*r]=t.charCodeAt(r),n[2*r+1]=0;return n}var h_=function(t){function n(n,r,i){var e;return(e=t.call(this,pe,n,r,i,Zs.Tf)||this).cS=void 0,e}W(n,t);var r=n.prototype;return r.HE=function(t){return t.playready||{}},r.YE=function(){var n=new to(this.cS);return n.Cf(t.prototype.YE.call(this)),n},r.aS=function(t){return t.length>=1&&t[0].du.length>0},r.kE=function(n){var r=this.ME.playready.customData;if(r){var i=f_(r),e=f_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+lu(i)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{fa:e}})}return t.prototype.kE.call(this,n)},r.tS=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bg(n,this.BE);case 2:return i=t.sent,t.abrupt("return",this.fS(i));case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.fS=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u,s,o,c,a,f,h,v,d,l,w,y,g;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),_=o,p=new ss,void 0===(m=!0)&&(m=!1),c=Wu(_,p,m,!0),t.prev=3,a=N.nu(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(f=null===(r=a.vu("PlayReadyKeyMessage")[0])||void 0===r?void 0:r.vu("LicenseAcquisition")[0],h=null!==(i=null==f?void 0:f.vu("Challenge"))&&void 0!==i?i:[],this.aS(h)&&(s=pu(h[0].Ru)),v=new to,d=null!==(u=null===(e=null==f?void 0:f.vu("HttpHeaders")[0])||void 0===e?void 0:e.vu("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)w=d[l],y=w.vu("name")[0].Ru,g=w.vu("value")[0].Ru,v.append(y,g);return this.cS=v,t.abrupt("return",s);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(t,n){return C.resolve(t)},r.SE=function(n,r){return t.prototype.ZE.call(this,n,Nf.pv,r)},H(n,[{key:"Kc",get:function(){return Boolean(this.ME.playready.customData)}}]),n}(Fg),v_=function(){function t(n){this.hS=n,this.vS=t.dS(n)}return t.dS=function(t){return"3"===t.version?Ug.iS:Ug.rS},t.prototype.lS=function(){var t={};if(this.vS===Ug.iS){var n={LatensRegistration:jg(this.hS,Ug.iS)};t["X-TITANIUM-DRM-CDATA"]=ku(JSON.stringify(n))}return t},H(t,[{key:"wS",get:function(){return this.vS}},{key:"Kc",get:function(){return this.vS===Ug.rS}}]),t}();var d_=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).yS=new v_(e.ME),e}W(r,t);var i=r.prototype;return i.kE=function(t){var r=this.ME;if(!this.ME)throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(mg(r)){var i={};return i.playready={fa:l_(r,this.yS.wS)},C.resolve(i)}return C.reject(Hg(r,Ug.Ks))},i.YE=function(){var n=new to(this.yS.lS());return n.Cf(t.prototype.YE.call(this)),n},i.GE=function(){var t=C.coroutine(Qi.mark(function t(r,i,e){var u,s,o,c,a,f,h,v;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.Wv){t.next=3;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i);case 3:return t.prev=3,t.next=6,s.qh(e);case 6:a=t.sent,f=zu(new _(a)),(h=N.nu(f))&&(v=Zw(h,"CustomData")).length>0&&(o=JSON.parse(v[0].Ru),c=null===(u=o.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,i,s.nv,s.ev,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.aS=function(t){if(1!==t.length)throw new sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},H(r,[{key:"Kc",get:function(){return this.yS.Kc}}]),r}(h_);function l_(t,n){var r=jg(t,n),i=r.DeviceInfo.FormatVersion,e=ku('<LatensRegistration formatversion="'+i+'"><AccountName>'+r.AccountName+"</AccountName><CustomerName>"+r.CustomerName+"</CustomerName><PortalID>"+r.PortalId+'</PortalID><DeviceInfo formatversion="'+i+'"><DeviceType>'+r.DeviceInfo.DeviceType+"</DeviceType><OSType>"+r.DeviceInfo.OSType+"</OSType><OSVersion>"+r.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+r.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+r.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+r.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+r.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+r.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Yu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Yu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+lu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var w_,y_=function(t){function r(n,r,i){var e;return(e=t.call(this,n,r,i)||this).TE("https://playready-license.drm.technology/rightsmanager.asmx"),e}W(r,t);var i=r.prototype;return i.aS=function(t){if(1!==t.length)throw new sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},i.KE=function(n,r){var i=Zi(Zi({},n||{}),{token:this.oS});return t.prototype.KE.call(this,i,r)},H(r,[{key:"oS",get:function(){if(kg(this.ME))return this.ME.token}}]),r}(h_),g_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).TE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return W(n,t),n.prototype.KE=function(n,r){var i=n;return yg(this.ME)&&(i=Kg(this.ME,i)),t.prototype.KE.call(this,i,r)},n}(h_),__=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).TE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return W(n,t),n.prototype.YE=function(){var n=t.prototype.YE.call(this);return Zg(this.ME,"PlayReady",n)},n}(h_),p_=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r,i)||this).TE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}W(n,t);var r=n.prototype;return r.QE=function(n){return(_i(zu(new _(n)),"<?xml")?w_.gS:w_.Bh)===w_.Bh?C.resolve(n_(n)):C.resolve(t.prototype.QE.call(this,new _(n)))},r.YE=function(){return i_(t.prototype.YE.call(this),this.oS,this.ME)},H(n,[{key:"oS",get:function(){return r_(this.ME)}}]),n}(h_);!function(t){t[t.gS=0]="gS",t[t.Bh=1]="Bh"}(w_||(w_={}));var m_,k_=function(t){function n(n,r,i){return t.call(this,n,r,i)||this}W(n,t);var r=n.prototype;return r.YE=function(){var n=t.prototype.YE.call(this);return this._S&&n.set("Ticket",this._S),n.set("Content-Type","text/xml"),n},r.tS=function(){var n=C.coroutine(Qi.mark(function n(r,i){var e,u;return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.ME,n.next=3,s_(e,"playready",this.Vd,i);case 3:return u=n.sent,this.TE(u.licenseServerUrl),this._S=u.ticket,n.abrupt("return",t.prototype.tS.call(this,r,i));case 7:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),n}(h_),b_=function(t){function r(){return t.apply(this,arguments)||this}return W(r,t),r.prototype.YE=function(){if(!Tg(this.ME))throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.YE.call(this);return r.set("X-AxDRM-Message",this.ME.token),r},r}(h_);!function(t){t.Ef="application/json",t.pS="application/x-www-form-urlencoded",t.mS="application/octet-stream",t.Qe="text/plain;charset=UTF-8"}(m_||(m_={}));var T_=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,n.Yc,r,i,e,u)||this).kS="",s.bS=void 0,s.TS=n.ga,s}W(n,t);var r=n.prototype;return r.ES=function(){return this.BE.certificateURL||this.bS},r.SS=function(t){this.bS=t},r.tS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.RS(n,this.kS));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(lu(n))+"&assetId="+encodeURIComponent(r));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r.HE=function(t){return t.fairplay||{}},r.IS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var r=t.split("/");return C.resolve(r[r.length-1])},r.kE=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=null!==(r=this.TS)&&void 0!==r?r:Ju(new _(n)),t.next=3,this.IS(i);case 3:return e=t.sent,this.kS=e,(u={}).fairplay={ga:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.YE=function(){var n=t.prototype.YE.call(this);return n.set("Content-Type",this.CS),n},r.EE=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.next=4,this.DS(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.SE=function(n,r){return t.prototype.ZE.call(this,n,Nf.wv,r)},r.NS=function(t){var n=this.ES(),r=this.YE(),i={cv:n,iv:Zs.Tf,rv:r,Sv:Cf.GET,Dv:!1,Wh:null,Rv:0,Co:t,ro:Df.dv,Iv:Nf.yv};return new xf(i)},r.DS=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.NS(n),t.next=3,this.Vd.sv(r);case 3:return i=t.sent,t.next=6,i.qh();case 6:return e=t.sent,t.abrupt("return",new _(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.QE=function(t){var n;if("string"==typeof t){var r=t.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n=vu(r)}else n=new _(t);return C.resolve(n)},r.KE=function(n,r){var i=t.prototype.KE.call(this,n,r);return _i(i,"skd:")&&(i=i.substr("skd:".length)),i},H(n,[{key:"VE",get:function(){return!0}},{key:"CS",get:function(){return m_.pS}}]),n}(Fg),E_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Zs.Tf)||this}W(n,t);var r=n.prototype;return r.IS=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split("://",1),i=r[0].slice(-3),r=n.split(";",2),e=r.length>1?r[1]:"",t.abrupt("return","skd"===i.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.tS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.QE=function(t){return C.resolve(new _(t))},r.KE=function(n,r){var i=n||{};return i.p1=Qt(),t.prototype.KE.call(this,i,r)},H(n,[{key:"CS",get:function(){return m_.mS}}]),n}(T_),S_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Tf)||this).TE("https://fairplay-license.drm.technology/license"),u.SS("https://fairplay-license.drm.technology/certificate"),u}W(r,t);var i=r.prototype;return i.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={token:this.oS,contentId:r,payload:lu(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.QE=function(t){return C.resolve(new _(t))},i.YE=function(){var n=t.prototype.YE.call(this);return n.set("x-vudrm-token",this.oS),n},H(r,[{key:"CS",get:function(){return m_.Ef}},{key:"oS",get:function(){if(!kg(this.ME))throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.ME.token}}]),r}(T_),R_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",I_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",C_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Zs.Tf)||this}return W(r,t),r.prototype.QE=function(r){var i=function(t){var r;try{r=JSON.parse(t).ckc}catch(t){throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,R_)}if(!r)throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,I_);return r}(zu(new DataView(r)));return t.prototype.QE.call(this,i)},r}(T_);var D_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Zs.Ef)||this}W(r,t);var i=r.prototype;return i.tS=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.ME){t.next=3;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=lu(r),t.abrupt("return",Wg(i,e,Ug.Qs));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.QE=function(t){try{var r;if(ct(t)){var i=t.trim();r=JSON.parse(i)}else r=t;if(r.license){var e=pu(r.license);return C.resolve(new _(e))}return C.reject(new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},i.GE=function(t,n,r){return $g(t,n,r)},H(r,[{key:"CS",get:function(){return m_.Ef}}]),r}(T_),N_=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Tf)||this).TE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.SS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}W(n,t);var r=n.prototype;return r.ES=function(){var n=t.prototype.ES.call(this);if(!n)return n;var r=N.zu(n),i=this.ME;return yg(i)&&Ei(r,{accountId:i.accountId,applicationId:i.applicationId||""}),r.href},r.IS=function(){var n=C.coroutine(Qi.mark(function n(r){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!yg(this.ME)){n.next=2;break}return n.abrupt("return",this.ME.contentId);case 2:return n.abrupt("return",t.prototype.IS.call(this,r));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r.tS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.QE=function(t){return C.resolve(new _(t))},r.KE=function(n,r){var i=n;return yg(this.ME)&&(i=function(t,n){return Zi(Zi({},Kg(t,n)),{KeyId:t.keyId})}(this.ME,i)),t.prototype.KE.call(this,i,r)},H(n,[{key:"CS",get:function(){return m_.mS}}]),n}(T_),A_=function(t){function r(r,i,e,u){var s;if(s=t.call(this,r,i,e,u,Zs.Qe)||this,!wg(i))throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.TE("https://connect.conax.com:8097/license"),s}W(r,t);var i=r.prototype;return i.YE=function(){var n=t.prototype.YE.call(this);return Zg(this.ME,"FairPlay",n)},i.DS=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.ES(),i={cv:r,iv:Zs.Tf,rv:{},Sv:Cf.GET,Dv:!1,Wh:null,Rv:0,Co:n,ro:Df.dv,Iv:Nf.yv},t.next=4,this.Vd.sv(i);case 4:return e=t.sent,t.next=7,e.qh();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.IS=function(t){var n,r=t.indexOf("?");return 0===t.indexOf("skd://")?(n=r>=0?t.substring("skd://".length,r):t.substring("skd://".length),C.resolve(zu(vu(n)))):C.resolve("unknown")},i.QE=function(t){try{var n=JSON.parse(t);return C.resolve(new _(pu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},r}(T_),O_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Qe)||this).TE(ag[ce.Qs]),u}W(r,t);var i=r.prototype;return i.IS=function(t){return 0===t.indexOf("skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},i.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+lu(n)+"&assetId="+r);case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r}(T_),x_=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Qe)||this).TE("https://lic.drmtoday.com/license-server-fairplay/"),u}W(n,t);var r=n.prototype;return r.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i="spc="+encodeURIComponent(lu(n))+"&"+encodeURI(r),"persistent"!==this.BE.licenseType){t.next=3;break}return t.abrupt("return",i+"&offline=true");case 3:return t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.YE=function(){return i_(t.prototype.YE.call(this),this.oS,this.ME)},H(n,[{key:"oS",get:function(){return r_(this.ME)}}]),n}(T_),P_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Zs.Tf)||this}W(n,t);var r=n.prototype;return r.IS=function(t){var n=t;return _i(n,"skd:")&&(n="http:"+n.substring(4)),_i(n,"http:")||_i(n,"https:")?C.resolve(N.zu(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},r.tS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.QE=function(t){return C.resolve(new _(t))},H(n,[{key:"CS",get:function(){return m_.mS}}]),n}(T_),L_=function(t){function n(n,r,i,e){return t.call(this,n,r,i,e,Zs.Qe)||this}return W(n,t),n.prototype.YE=function(){var n=t.prototype.YE.call(this),r=this.ME.token;return n.set("Authorization","Bearer "+r),n},n}(T_),F_=function(t){function n(n,r,i,e){var u;if(u=t.call(this,n,r,i,e,Zs.Ef)||this,!bg(r))throw new h("Invalid Xstream DRM configuration");return u}W(n,t);var r=n.prototype;return r.DS=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.ES(),i=this.YE(),e={cv:r,iv:Zs.Ef,rv:i,Sv:Cf.POST,Co:n,ro:Df.dv,Iv:Nf.yv},t.next=5,this.Vd.sv(e);case 5:return u=t.sent,t.next=8,u.Bh();case 8:return s=t.sent,t.abrupt("return",new _(vu(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.SE=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){var e,u,s,o,c,a,f;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i=Zs.Qe),e=lu(n),u=this.ME,t.next=5,s_(u,"fairplay",this.Vd,r);case 5:return s=t.sent,o=Xu(JSON.stringify({spc:e,ticket:s.ticket})),c={cv:this.$E(),iv:Zs.Ef,rv:this.YE(),Sv:Cf.POST,Wh:o,Rv:0,Co:r,ro:Df.dv,Iv:Nf.wv},t.next=10,this.Vd.sv(c);case 10:return a=t.sent,t.next=13,a.Bh();case 13:return f=t.sent,t.abrupt("return",vu(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),H(n,[{key:"CS",get:function(){return m_.Ef}}]),n}(T_),M_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Zs.Qe)||this}W(r,t);var i=r.prototype;return i.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",lu(n));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.QE=function(r){if(0===r.length)throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.QE.call(this,r)},i.YE=function(){var n=t.prototype.YE.call(this);return n.set("Content-Type","text/plain"),n},r}(T_),B_=function(t){function r(n,r,i,e){return t.call(this,n,r,i,e,Zs.Tf)||this}W(r,t);var i=r.prototype;return i.RS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.QE=function(t){return C.resolve(new _(t))},i.YE=function(){if(!Tg(this.ME))throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.YE.call(this);return r.set("X-AxDRM-Message",this.ME.token),r},H(r,[{key:"CS",get:function(){return m_.Ef}}]),r}(T_),U_=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Ef)||this).AS=void 0,u}W(r,t);var i=r.prototype;return i.RS=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={spc:lu(n)},t.abrupt("return",JSON.stringify(i));case 2:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),i.IS=function(t){var r=N.zu(t);return this.AS=t,r.searchParams.has("b")?C.resolve(r.searchParams.get("b")):C.reject(new sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},i.KE=function(n,r){var i=this.$E();return!i&&this.AS&&(i=this.AS),i&&(i=i.replace("skd://","https://")),t.prototype.KE.call(this,n,r||i)},i.QE=function(){var t=C.coroutine(Qi.mark(function t(r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(i=ct(r)?JSON.parse(r.trim()):r).ckc){t.next=4;break}return t.abrupt("return",vu(i.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),H(r,[{key:"CS",get:function(){return m_.Qe}}]),r}(T_),V_=function(){function t(t,n){this.OS=t,this.xS=n}var n=t.prototype;return n.PS=function(t){return this.OS(t)},n.LS=function(t,n){throw new v(n+" must be "+this.xS+". (Received: "+t+")")},t}(),q_=new V_(ht,"a number"),j_=new V_(ct,"a string"),H_=new V_(at,"a boolean");var W_,$_=(W_={responseCode:q_,isException:H_,description:j_,title:j_,correlationId:j_},{PS:function(t){if(!st(t))return!1;for(var n=0,r=d.keys(W_);n<r.length;n++){var i=r[n];if(!W_[i].PS(t[i]))return!1}return!0},LS:function(t,n){if(!st(t))throw new v(n+" must be an object.");for(var r=0,i=d.keys(W_);r<i.length;r++){var e=i[r],u=W_[e];if(!u.PS(t[e]))return u.LS(t[e],n+"."+e)}throw new v}});function z_(t,n,r,i,e){return X_.apply(this,arguments)}function X_(){return(X_=C.coroutine(Qi.mark(function t(n,r,i,e,u){var s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=G_(n,r,i,u),t.next=3,Y_(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function G_(t,n,r,i){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var r=N.zu(t);return Ei(r,n),r.toString()}(r,e)),s=new to({});s.append("Content-Type","application/json");var o=lu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{cv:u,iv:Zs.Qe,rv:s,Sv:Cf.POST,Wh:JSON.stringify(c),Co:i,ro:Df.dv,Iv:Nf.wv}}function Y_(t,n){return K_.apply(this,arguments)}function K_(){return(K_=C.coroutine(Qi.mark(function t(r,i){var e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.sv(r);case 2:return e=t.sent,t.next=5,e.Bh();case 5:if(u=t.sent,!$_.PS(u)){t.next=8;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,r.cv,u.responseCode);case 8:return t.abrupt("return",vu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var J_=function(t){function n(n,r,i,e){var u;return(u=t.call(this,n,r,i,e,Zs.Tf)||this).FS=r,u}W(n,t);var r=n.prototype;return r.IS=function(n){var r=n.replace("FairPlay",this.FS.releasePid);return t.prototype.IS.call(this,r)},r.SE=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z_(n,this.FS,this.$E(),this.Vd,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(T_),Q_=function(t){function r(n,r,i){return t.call(this,be,n,r,i,Zs.Tf)||this}W(r,t);var i=r.prototype;return i.HE=function(t){return t.clearkey||{}},i.tS=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Bg(n,this.BE));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.zE=function(){var r=C.coroutine(Qi.mark(function r(i,e,u,s){var o,c;return Qi.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=this.BE,!this.$E()){r.next=5;break}return r.abrupt("return",t.prototype.zE.call(this,i,this.jE,u,s));case 5:if(!o.keys||!o.keys.length){r.next=10;break}return c={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},r.abrupt("return",Xu(JSON.stringify(c)).buffer);case 10:throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return r.stop()}},r,this)}));return function(t,n,i,e){return r.apply(this,arguments)}}(),i.EE=function(t,n){return C.resolve(new _(0))},i.SE=function(n,r){return t.prototype.ZE.call(this,n,Nf.mv,r)},r}(Fg),Z_=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.tS=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Bg(n,this.BE));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(Vg),tp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function np(t,n,r){return rp.apply(this,arguments)}function rp(){return(rp=C.coroutine(Qi.mark(function t(n,r,i){var e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=yp(r),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Ve(C.resolve(u.call(n,e)),i);case 8:if(!rs(s=t.sent)){t.next=11;break}return t.abrupt("return",is(s));case 11:return t.abrupt("return",wp(Zi(Zi({},tp),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ip(t,n,r,i,e){return ep.apply(this,arguments)}function ep(){return(ep=C.coroutine(Qi.mark(function t(n,r,i,e,u){var s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=lp(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Ve(C.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",is(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function up(t,n,r,i){return sp.apply(this,arguments)}function sp(){return(sp=C.coroutine(Qi.mark(function t(n,r,i,e){var u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ap(n,r,i,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",wp(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function op(t,n,r,i,e,u){return cp.apply(this,arguments)}function cp(){return(cp=C.coroutine(Qi.mark(function t(n,r,i,e,u,s){var o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=dp(i,u),t.next=3,hp(n,new _(r),o,e,s);case 3:return c=t.sent,t.abrupt("return",is(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ap(t,n,r,i){return fp.apply(this,arguments)}function fp(){return(fp=C.coroutine(Qi.mark(function t(n,r,i,e){var u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=dp(r,i),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(s));case 5:return t.next=8,Ve(C.resolve(u.call(n,s)),e);case 8:if(!rs(o=t.sent)){t.next=11;break}return t.abrupt("return",is(o).buffer);case 11:return t.abrupt("return",Zi(Zi({fairplaySkdUrl:void 0},tp),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hp(t,n,r,i,e){return vp.apply(this,arguments)}function vp(){return(vp=C.coroutine(Qi.mark(function t(n,r,i,e,u){var s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=lp(r,i,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Ve(C.resolve(s.call(n,o)),u);case 8:return c=t.sent,t.abrupt("return",is(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dp(t,n){return Zi(Zi({},yp(t)),{fairplaySkdUrl:n})}function lp(t,n,r){return{url:r.ov,status:r.nv,statusText:r.ev,headers:r.rv.Rf(),body:t,request:n}}function wp(t){return new xf({cv:t.url,Sv:t.method,rv:t.headers,Wh:t.body,Dv:t.useCredentials})}function yp(t){var n;return{url:t.cv,body:null!==(n=gp(t.Wh))&&void 0!==n?n:null,headers:t.rv.Rf(),method:t.Sv,useCredentials:t.Dv}}function gp(t){if(t)return"string"==typeof t?Xu(t):t instanceof ArrayBuffer?new _(t):yu(t)?ns(t):void 0}var _p=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i)||this).MS=e,u}W(r,t);var i=r.prototype;return i.EE=function(t,n){return C.resolve(t)},i.SE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fS(us(r).buffer);case 2:return e=t.sent,u=this.XE(e,Zs.Tf,Nf.pv,i),t.next=6,up(this.MS,u,void 0,i);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(s));case 10:if(""!==s.cv){t.next=12;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Vd.sv(s);case 15:return o=t.sent,t.next=18,o.qh(i);case 18:return c=t.sent,t.t0=_,t.next=22,op(this.MS,c,u,o,void 0,i);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Be(t.t2),new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(h_),pp=function(t){function r(n,r,i,e){var u;return(u=t.call(this,n,r,i,Zs.Tf)||this).MS=e,u}W(r,t);var i=r.prototype;return i.EE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.XE(r,Zs.Tf,Nf._v,i),t.next=5,np(this.MS,e,i);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.cv){t.next=11;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Vd.sv(u);case 14:return s=t.sent,t.next=17,s.qh(i);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Be(t.t0),new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=dp(e,void 0),t.next=27,ip(this.MS,new _(o),c,s,i);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,r){return t.apply(this,arguments)}}(),i.SE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.XE(r,Zs.Tf,Nf.gv,i),t.next=3,up(this.MS,e,void 0,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.cv){t.next=9;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Vd.sv(u);case 12:return s=t.sent,t.next=15,s.qh(i);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Be(t.t0),new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,op(this.MS,o,e,s,void 0,i);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Z_),mp=function(t){function r(n,r,i,e,u){var s;return(s=t.call(this,n,r,i,e,Zs.Tf)||this).MS=u,s}W(r,t);var i=r.prototype;return i.EE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.NS(i),t.next=5,np(this.MS,e,i);case 5:if(u=t.sent,!yu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Vd.sv(u);case 11:return s=t.sent,t.next=14,s.qh();case 14:return o=t.sent,c=dp(e,void 0),t.next=18,ip(this.MS,new _(o),c,s,i);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Be(t.t0),new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,r){return t.apply(this,arguments)}}(),i.SE=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.XE(r,Zs.Tf,Nf.wv,i),t.next=3,up(this.MS,e,this.BS,i);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.cv){t.next=9;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Vd.sv(u);case 12:return s=t.sent,t.next=15,s.qh(i);case 15:return o=t.sent,t.t0=_,t.next=19,op(this.MS,o,e,s,this.BS,i);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Be(t.t2),new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,r){return t.apply(this,arguments)}}(),i.IS=function(){var n=C.coroutine(Qi.mark(function n(r){var i;return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.BS=r,!(null===(i=this.MS)||void 0===i?void 0:i.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",C.resolve(this.MS.extractFairplayContentId(r)));case 3:return n.abrupt("return",t.prototype.IS.call(this,r));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r}(T_),kp=function(){function t(){}var n=t.prototype;return n.US=function(t,n){return new xg(t,n,this)},n.VS=function(t,n,r,i){switch(t.Yc.ro){case ce.Js:return this.qS(n,r,i);case ce.Ks:return this.jS(n,r,i);case ce.Qs:return this.HS(t,n,r,i);case ce.Zs:default:return this.WS(n,r,i)}},n.qS=function(t,n,r){var i,e=(i=t).integration===rg&&ct(i.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&cg.KT.XT(e,we)){var u=cg.KT.YT(e,we,t);return new pp(t,n,r,u)}switch(e){case qy:return new Gg(t,n,r);case $y:return new Yg(t,n,r);case Wy:return new Jg(t,n,r);case jy:return new t_(t,n,r);case Gy:return new e_(t,n,r);case Ky:return new u_(t,n,r);case Jy:return new c_(t,n,r);case Zy:return new a_(t,n,r);case Xy:default:return new Z_(t,n,r,Zs.Tf)}},n.jS=function(t,n,r){var i=t.integration;if(i&&cg.KT.XT(i,ve)){var e=cg.KT.YT(i,ve,t);return new _p(t,n,r,e)}switch(i){case qy:return new d_(t,n,r);case $y:return new y_(t,n,r);case Wy:return new g_(t,n,r);case jy:return new __(t,n,r);case Gy:return new p_(t,n,r);case Jy:return new k_(t,n,r);case Zy:return new b_(t,n,r);case Xy:default:return new h_(t,n,r)}},n.HS=function(t,n,r,i){var e=n.integration;if(e&&cg.KT.XT(e,ge)){var u=cg.KT.YT(e,ge,n);return new mp(t,n,r,i,u)}switch(e){case Hy:return new E_(t,n,r,i);case $y:return new S_(t,n,r,i);case zy:return new C_(t,n,r,i);case qy:return new D_(t,n,r,i);case Wy:return new N_(t,n,r,i);case jy:return new A_(t,n,r,i);case Xy:return new O_(t,n,r,i);case Gy:return new x_(t,n,r,i);case Yy:return new P_(t,n,r,i);case Ky:return new L_(t,n,r,i);case Jy:return new F_(t,n,r,i);case Qy:return new M_(t,n,r,i);case Zy:return new B_(t,n,r,i);case tg:return new U_(t,n,r,i);case ng:return new J_(t,n,r,i);default:return new T_(t,n,r,i,Zs.Qe)}},n.WS=function(t,n,r){return new Q_(t,n,r)},n.$S=function(t){return t.ro===ce.Ks||t.ro===ce.Js||t.ro===ce.Qs||t.ro===ce.Zs},t}();function bp(t,n){switch(n){case ce.Js:return t.widevine;case ce.Ks:return t.playready;case ce.Qs:return t.fairplay;default:return}}var Tp,Ep=function(t){function r(n,r,i){var e;return void 0===i&&(i=new kp),(e=t.call(this,i)||this).zS=void 0,e.kc=void 0,e.XS=new Fy,e.GS=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.oE(n.eo,n.Zo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Fe(t.t0)||e.ua(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.YS=function(t){e.Oo(t)},e.KS=function(t){e.Oo(t),e.Oo(new $d(t.errorObject))},e.JS=n,e.TT=r,e.JS.Po(Ye.Yo,e.GS),e}W(r,t);var i=r.prototype;return i.fE=function(){var t;return null===(t=this.kc)||void 0===t?void 0:t.Yc},i.Hc=function(t){if(this.zS)throw new h("Invalid state");this.zS=t},i.ZT=function(n){if(!this.zS)throw new h("Invalid state");t.prototype.ZT.call(this,n)},i.sE=function(){var t=C.coroutine(Qi.mark(function t(r,i,e){var u,s,o,c,a,f,h,v,d,l,w;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(e),i.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.JT&&this.JT.eE.length){t.next=5;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.JT,r===ae||r===he||r===fe){t.next=9;break}return t.abrupt("return");case 9:s=Rg(r,i),c=0,a=u.eE;case 11:if(!(c<a.length)){t.next=42;break}if(f=a[c],Me(e),(h=s[f.Yc.uo])&&f.Yc.eo===r){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.QS(f.Yc,e);case 20:if(!(v=t.sent).VE){t.next=24;break}return t.next=24,v.NE();case 24:if(d=this.JS.Oy,l={eo:f.Yc.eo,Zo:h,FE:d},!this.ZS(v,l)){t.next=32;break}return t.next=29,v.xE(l);case 29:return w=t.sent,t.next=32,w.Ac();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Be(t.t0),o=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.Rs();case 44:if(!t.sent){t.next=48;break}throw new sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,r,i){return t.apply(this,arguments)}}(),i.ZS=function(t,n){return N.Ls.es||!t.LE(n)},i.iE=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.JT){t.next=3;break}return t.abrupt("return");case 3:i=0,e=r.eE;case 4:if(!(i<e.length)){t.next=23;break}return u=e[i],Me(n),t.prev=7,t.next=10,this.QS(u.Yc,n);case 10:if(!(s=t.sent).VE){t.next=14;break}return t.next=14,s.NE();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Be(t.t0);case 20:i++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),i.QS=function(t,n){var r=this;return this.XS.PT(function(n){return r.tR(t,n)},n)},i.tR=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(r),this.JT){t.next=3;break}throw new h("Not initialized");case 3:if(!this.kc){t.next=7;break}if(this.kc.Yc===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.kc);case 7:if(this.QT.$S(n)){t.next=9;break}throw new h("Unsupported "+n.oo+" key system");case 9:if(i=this.nR(n)){t.next=12;break}throw new h("Missing configuration for "+n.oo+" key system");case 12:return e=this.JT,u=this.QT.VS(i,e.ME,e.rR.UE,this.TT),t.next=16,this.Xc(n,i,u,r);case 16:return s=t.sent,(o=this.QT.US(s,u)).Po(Qs.Wa,this.YS),o.Po(Qs.Ha,this.KS),o.Po(Qs.mf,this.Ao),this.kc=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.Xc=function(){var t=C.coroutine(Qi.mark(function t(n,r,i,e){var u,s,o,c,a,f,h,v,d;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.JT,s=n.eo,o=bp(u.ME,r.Yc.ro),c=(null==o?void 0:o.persistentState)||i.nS,a=(null==o?void 0:o.distinctiveIdentifier)||void 0,f=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),h=r.Yc.ro===ce.Js,t.prev=7,Me(e),v=Sp(u,s,c,a,i.Kc,u.rR.iR,(null==o?void 0:o.audioRobustness)||(h?"SW_SECURE_CRYPTO":void 0),(null==o?void 0:o.videoRobustness)||(h?"SW_SECURE_CRYPTO":void 0)),t.next=12,this.zS.eR(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),Be(t.t0),Me(e),h){t.next=21;break}throw t.t0;case 21:if(!f){t.next=23;break}throw t.t0;case 23:return d=Sp(u,s,c,a,i.Kc,u.rR.iR,void 0,void 0),t.next=26,this.zS.eR(n,[d]);case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,r,i,e){return t.apply(this,arguments)}}(),i.nR=function(t){if(this.JT)for(var n=0,r=this.JT.eE;n<r.length;n++){var i=r[n];if(i.Yc===t)return i}},i.ua=function(t){var r=t instanceof sl?t:new sl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.KS(new By(r))},i.uR=function(){var t=C.coroutine(Qi.mark(function t(){var n;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XS.So();case 2:if(!(n=this.kc)){t.next=8;break}return n.Bo(Qs.mf,this.Ao),this.kc=void 0,t.next=8,n.fi();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cE=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zS=void 0,t.next=3,this.uR();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fi=function(){var n=C.coroutine(Qi.mark(function n(){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.JS.Bo(Ye.Yo,this.GS),n.next=3,t.prototype.fi.call(this);case 3:return n.next=5,this.XS.fi();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(Ig);function Sp(t,n,r,i,e,u,s,o){return{initDataTypes:[n],audioCapabilities:Rp(t.sR,u,s),videoCapabilities:Rp(t.oR,u,o),persistentState:r,distinctiveIdentifier:i,Kc:e}}function Rp(t,n,r){if(0!==t.length){var i=t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:r}});return n&&(i=i.concat(t.map(function(t){return{contentType:t,robustness:r}}))),i}}!function(t){t[t.cR=0]="cR",t[t.aR=1]="aR"}(Tp||(Tp={}));var Ip=t,Cp=Ip.MediaSource,Dp=Ip.WebKitMediaSource,Np=Ip.TextTrack,Ap=e&&e.createElement("video"),Op=(e&&e.documentElement.style,tt.fe&&tt.Ue&&tt.Ve<=26),xp=(tt.Ee,!(!Cp&&!Dp)),Pp=!!Np,Lp=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||tt.be,tt.Le&&tt.Fe,Ap&&Ap.canPlayType&&(""!==Ap.canPlayType("application/vnd.apple.mpegURL")||tt.de&&!tt.Le&&tt.we),Ap&&Ap.canPlayType&&""!==Ap.canPlayType("video/mp4")&&!Op),Fp=xp&&!tt.Me&&!tt.Oe&&!tt.Ae&&((Cp||Dp).isTypeSupported?(Cp||Dp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ap&&Ap.canPlayType&&""!==Ap.canPlayType('audio/mp4; codecs="mp4a.40.34"'));xp&&!tt.Me&&(Fp||((Cp||Dp).isTypeSupported?(Cp||Dp).isTypeSupported("audio/mpeg"):Ap&&Ap.canPlayType&&Ap.canPlayType("audio/mpeg"))),xp&&!(tt.Pe&&tt.fe)&&(Cp||Dp).isTypeSupported&&(Cp||Dp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),tt.Me||tt.Oe||tt.Ae,tt.xe,tt.Me,tt.Oe&&tt.he&&tt.ve;try{i&&i.top!==i.self}catch(t){!0}var Mp,Bp=function(t){function n(n){var r;return(r=t.call(this,Id.Cw)||this).currentTime=n,r}return W(n,t),n}(Qe),Up=function(t){function n(n){var r;return(r=t.call(this,Id.Dw)||this).currentTime=n,r}return W(n,t),n}(Qe),Vp=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this)||this).fR=n,i.hR=r,i.vR=vd.pw,i.dR=!0,i.lR=!1,i.wR=!1,i.yR=function(t){var n=t.readyState;n!==i.vR&&i.Oo(t),n===vd.pw&&(i.lR=!1,i.wR=!1),i.gR(n),i._R(n),i.pR(n),i.maybeDispatchCanPlayThroughEvent(n),i.mR(n),i.kR(n),i.vR=n},i.bR=function(){i.kR(i.vR),i.mR(i.vR),i.dR=i.fR.Lw},i.TR=function(){i.dR=i.fR.Lw},i.fR.Po(Id.al,i.yR),i.fR.Po(Qs.ef,i.bR),i.fR.Po(Qs.if,i.TR),i.hR&&i.fR.Po(Id.Dw,i.Ao),i}W(n,t);var r=n.prototype;return r.gR=function(t){!this.wR&&t>=vd.mw&&(this.wR=!0,this.Oo(new xd(this.fR.Nw,t)))},r._R=function(t){!this.lR&&t>=vd.kw&&(this.lR=!0,this.Oo(new Bd(this.fR.Nw,t)))},r.mR=function(t){this.hR||(t>=vd.bw&&this.vR<vd.bw&&!this.fR.Lw||this.ER&&t>=vd.bw)&&this.Oo(new Up(this.fR.Nw))},r.kR=function(t){!this.SR(t)||this.fR.Ow||this.fR.Go||this.Oo(new Bp(this.fR.Nw))},r.pR=function(t){this.vR<=vd.kw&&t>=vd.bw&&this.Oo(new jd(this.fR.Nw,t))},r.maybeDispatchCanPlayThroughEvent=function(t){t===vd.Tw&&this.Oo(new Hd(this.fR.Nw,t))},r.SR=function(t){var n=!this.fR.Lw&&t<=vd.kw,r=!this.dR&&this.vR<=vd.kw;return n&&!r},r.Tl=function(){this.vR=vd.pw,this.dR=!0,this.lR=!1,this.wR=!1},r.fi=function(){this.Mo(),this.hR&&this.fR.Bo(Id.Dw,this.Ao),this.fR.Bo(Qs.ef,this.bR),this.fR.Bo(Qs.if,this.TR),this.fR.Bo(Id.al,this.yR)},H(n,[{key:"ER",get:function(){return!this.fR.Lw&&this.dR}}]),n}(Ke);!function(t){t.RR="nokey",t.IR="keyexpired",t.CR="sessionnotopened",t.DR="insufficientoutputprotection",t.NR="insufficientsecurity",t.AR="frametoolarge",t.OR="loststate",t.xR="resourcebusy",t.PR="unsupportedoperation"}(Mp||(Mp={}));var qp,jp,Hp=[Mp.PR,Mp.xR,Mp.OR,Mp.AR,Mp.NR,Mp.DR,Mp.CR,Mp.IR,Mp.RR],Wp=[Qs.Wa,Qs.Ha,Gv.jl];[].concat(Og,[Gv.jl],Hp);!function(t){t.Tv="video",t.bv="audio"}(qp||(qp={})),function(t){t[t.LR=0]="LR",t[t.FR=1]="FR",t[t.MR=2]="MR",t[t.UR=3]="UR",t[t.vw=4]="vw",t[t.qR=5]="qR",t[t._w=6]="_w",t[t.jR=7]="jR",t[t.HR=8]="HR"}(jp||(jp={}));var $p,zp=function(){function t(){}return t.prototype.WR=function(t){},H(t,[{key:"$R",get:function(){return 0}},{key:"zR",get:function(){return 0}}]),t}();function Xp(){return $p||($p=S&&S.document&&S.document.createElement("video")),$p}var Gp=function(t){function r(r,i,e,u,s,o,c){var a;return void 0===o&&(o=new kp),void 0===c&&(c=zs()),(a=t.call(this)||this).zS=void 0,a.XR=void 0,a.GR=void 0,a.YR=void 0,a.KR=new zp,a.JR=function(t){var r=t.Go,i=r.code,e=new Os(function(t){switch(t){case il.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case il.NETWORK:return n.ErrorCode.NETWORK_ERROR;case il.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case il.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case il.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case il.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case il.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(i),"Something went wrong during native playback.",r);a.XR=new ol(i,e.message,r.message),a.GR=e,a.Oo(new $d(e))},a.QR=function(){a.Oo(new Fd(a.Nw,a.Ny))},a.ZR=function(t){a.Lw||(a.YR=void 0),a.Oo(t)},a.tI=function(t){a.YR=void 0,a.Oo(t)},a.nI=function(){a.Oo(new Cl(a.Oy))},a.rI=function(){a.Uw>0&&a.Bw>0&&a.Oo(new Ly)},a.iI=function(t){a.Jw.ml(new ml(t.track))},a.eI=function(t){var n=Kp(a.Jw,t.track);n&&a.Jw.kl(n)},a.uI=function(){a.sI(a.Jw)},a.oI=function(t){a.Qw.ml(new Il(t.track))},a.cI=function(t){var n=Kp(a.Qw,t.track);n&&a.Qw.kl(n)},a.aI=function(){a.sI(a.Qw)},a.fI=function(t){t.type===Qs.Ha&&(a.XR=al(t.errorObject),a.GR=t.errorObject),a.Ao(t)},a.hI=i,a.TT=e,a.fo=c,a.JS=a.hI.ii(fl.Tv),a.vI=a.JS.dI.preload,a.QT=o,a.lI=new Vp(a.JS,!0),a.lI.Po(Od,a.Ao),a.wI=new Ep(a.JS,a.TT,a.QT),a.wI.Po(Wp,a.fI),a.yI(),a.Jw=new hl,a.Qw=new hl,a.gI(),a._I=new Dy(a.JS,a.TT),a.Zw=new nd,a.py(),a}W(r,t);var i=r.prototype;return i.my=function(){this.JS.my()},i.py=function(){this.JS.py()},i.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){var e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(i),e={ro:Tp.cR,Jl:n.src,Hh:n.type,pI:[],qy:this.vI,mI:n.crossOrigin,kI:r.metadata&&r.metadata.title},t.next=4,this.JS.Oc(e);case 4:return this.zS=t.sent,Me(i),t.next=8,this.wI.Tl();case 8:this.wI.Hc(this.zS),this.wI.ZT(this.bI(n)),this.Zw.Al=this.JS.sy,r.textTracks&&this.TI(r.textTracks),Py(this.sy);case 13:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),i.TI=function(t){for(var n,r=0;r<t.length;r++){var i=t[r];if(this.JS.EI()&&tt.be&&Pp&&!by(i.kind,i.label)&&this.SI(i)){var e=null!==(n=i.kind)&&void 0!==n?n:wy.lT;this.JS.RI(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this._I.ET(i)}}},i.SI=function(t){return!t.format||"webvtt"===t.format},i.ei=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.JS.ei();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.II){t.next=12;break}return t.next=10,this.JS.jo(Qs.uf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ui=function(){this.JS.ui()},i.ly=function(){return void 0!==this.JS.dI.webkitShowPlaybackTargetPicker},i.wy=function(){this.JS.dI.webkitShowPlaybackTargetPicker&&this.JS.dI.webkitShowPlaybackTargetPicker()},i.yy=function(){this.JS.dI.webkitShowPlaybackTargetPicker&&this.JS.dI.webkitShowPlaybackTargetPicker()},i.ky=function(){return this.JS.dI},i.by=function(){return this.JS.CI},i.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XR=void 0,this.GR=void 0,this.zS&&(this.zS=void 0),t.next=5,this._I.Tl();case 5:return this.Zw.Tl(),this.JS.DI(),t.next=9,this.JS.Tl();case 9:return this.lI.Tl(),t.next=12,this.wI.Tl();case 12:this.qy=this.vI,this.ey.Tl(),this.uy.Tl(),this.YR=void 0;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tl();case 2:return this.Mo(),this.NI(),this.AI(),t.next=7,this.wI.fi();case 7:return this.lI.fi(),t.next=10,this.hI.ci(this.JS);case 10:return this.Jw.fi(),this.Qw.fi(),this.Zw.fi(),t.next=15,this._I.fi();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yI=function(){this.JS.Po(Qs.ef,this.Ao),this.JS.Po(Qs.if,this.Ao),this.JS.Po(Qs._f,this.QR),this.JS.Po(Qs.uf,this.Ao),this.JS.Po(Qs.Qa,this.Ao),this.JS.Po(Qs.hf,this.Ao),this.JS.Po(Qs.ff,this.ZR),this.JS.Po(Qs.Ya,this.Ao),this.JS.Po(Qs.sf,this.Ao),this.JS.Po(Qs.pf,this.Ao),this.JS.Po(Qs.Xa,this.Ao),this.JS.Po(Qs.af,this.rI),this.JS.Po(Id.Dw,this.tI),this.JS.Po(Gv.jl,this.JR),this.JS.dI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.nI)},i.NI=function(){this.JS.Bo(Qs.ef,this.Ao),this.JS.Bo(Qs.if,this.Ao),this.JS.Bo(Qs._f,this.QR),this.JS.Bo(Qs.uf,this.Ao),this.JS.Bo(Qs.Qa,this.Ao),this.JS.Bo(Qs.hf,this.Ao),this.JS.Bo(Qs.ff,this.ZR),this.JS.Bo(Qs.Ya,this.Ao),this.JS.Bo(Qs.sf,this.Ao),this.JS.Bo(Qs.pf,this.Ao),this.JS.Bo(Qs.Xa,this.Ao),this.JS.Bo(Qs.af,this.rI),this.JS.Bo(Id.Dw,this.tI),this.JS.Bo(Gv.jl,this.JR),this.JS.dI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.nI)},i.bI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{ME:t.contentProtection||{},rR:{iR:"cbcs"},eE:[{Yc:ke,uE:[],ga:void 0}],sR:[],oR:["video/mp4"]}}},i.gI=function(){var t=this.JS.dI.audioTracks,n=this.JS.dI.videoTracks;t&&(t.addEventListener("addtrack",this.iI),t.addEventListener("removetrack",this.eI),t.addEventListener("change",this.uI)),n&&(n.addEventListener("addtrack",this.oI),n.addEventListener("removetrack",this.cI),n.addEventListener("change",this.aI))},i.AI=function(){var t=this.JS.dI.audioTracks,n=this.JS.dI.videoTracks;t&&(t.removeEventListener("addtrack",this.iI),t.removeEventListener("removetrack",this.eI),t.removeEventListener("change",this.uI)),n&&(n.removeEventListener("addtrack",this.oI),n.removeEventListener("removetrack",this.cI),n.removeEventListener("change",this.aI))},i.sI=function(t){for(var n=0;n<t.Sl;n++){t.pl(n).Jy()}},i.Cy=function(){this.wI.uR().then(P)},H(r,[{key:"II",get:function(){var t=this.JS.Dy,n=this.Nw;return t.OI(n,.01)}},{key:"ey",get:function(){return this.Jw}},{key:"Dy",get:function(){return this.JS.Dy.xI()}},{key:"Ny",get:function(){return this.JS.Ny},set:function(t){t&&this.JS.LI(t)}},{key:"Nw",get:function(){return void 0!==this.YR?this.YR:this.JS.Nw},set:function(t){this.Oy&&(this.YR=t),this.JS.ac(t)}},{key:"Aw",get:function(){return this.JS.Aw}},{key:"Ow",get:function(){return this.JS.Ow}},{key:"Go",get:function(){return this.XR}},{key:"xw",get:function(){return this.GR}},{key:"oy",get:function(){}},{key:"Oy",get:function(){return this.JS.Oy}},{key:"Gw",get:function(){return Zi(Zi({},{xy:0,Py:0,Ly:0,Fy:0,My:0,By:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.JS.FI())}},{key:"Pw",get:function(){return this.JS.Pw},set:function(t){this.JS.Pw=t}},{key:"Uy",get:function(){return!0}},{key:"Lw",get:function(){return this.JS.Lw}},{key:"Fw",get:function(){return this.JS.Fw},set:function(t){this.JS.Fw=t}},{key:"Vy",get:function(){return this.JS.dI.played}},{key:"qy",get:function(){return this.vI},set:function(t){this.vI=t,this.zS&&(this.zS.qy=t)}},{key:"Gl",get:function(){return this.JS.Gl}},{key:"jy",get:function(){return this.JS.jy.xI()}},{key:"Mw",get:function(){return this.JS.Mw}},{key:"MI",get:function(){return this.JS.MI}},{key:"sy",get:function(){return this.Zw}},{key:"uy",get:function(){return this.Qw}},{key:"Bw",get:function(){return this.JS.Bw}},{key:"Uw",get:function(){return this.JS.Uw}},{key:"Vw",get:function(){return this.JS.Vw},set:function(t){this.JS.Vw=t}},{key:"BI",get:function(){return this.KR}}]),r}(rd);var Yp=function(){function t(){this.UI=jp.HR}var n=t.prototype;return n.HT=function(t,n,r,i,e,u){return new Gp(t,n,r,i,e)},n.VI=function(t,n){return function(t){return!t.type||!(!Xp().canPlayType||!Xp().canPlayType(t.type))}(t)},n.qI=function(){return!1},t}();function Kp(t,n){for(var r=0,i=t.El;r<i.length;r++){var e=i[r];if(e.tg===n)return e}}var Jp=function(){function t(){this.jI=new Yp,this.HI=[]}t.WI=function(){return this.Xe};var n=t.prototype;return n.$I=function(t){this.HI.push(t)},n.HT=function(t,n,r,i,e,u){for(var s=this.jI.HT(t,n,r,i,e,u),o=0,c=this.HI;o<c.length;o++){s=(0,c[o])(s,r,i)}return s},n.VI=function(t,n){return this.jI.VI(t,n)},n.qI=function(){return!1},H(t,[{key:"UI",get:function(){return this.jI.UI}}]),t}();function Qp(t,n){return Bl(t.UI,n.UI)}Jp.Xe=new Jp;var Zp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).zI=Jp.WI(),n}W(n,t);var r=n.prototype;return r.XI=function(t){this.zI=t},r.GI=function(){return this.zI},r.YI=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=11;break}return e=n[i],t.next=5,this.KI(e,r);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{JI:e,QI:u});case 8:i++,t.next=1;break;case 11:s=this.zI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(c=n[o],!s.VI(c,r)){t.next=17;break}return t.abrupt("return",{JI:c,QI:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{JI:n[0],QI:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(function(){function t(){this.ZI=[]}var n=t.prototype;return n.tC=function(t){this.ZI.push(t),this.ZI.sort(Qp)},n.KI=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,e=this.ZI;case 1:if(!(i<e.length)){t.next=17;break}if(u=e[i],!ft(s=u.VI(n,r))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:i++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}());Zp.Xe=new Zp;var tm,nm=function(){function t(t){var n,r;this.nC=S&&S.document&&S.document.createElement("div"),n=this.nC,(r=n.style).position="absolute",r.left="0",r.right="0",r.top="0",r.bottom="0",r.width="100%",r.height="100%",t.appendChild(this.nC)}return t.prototype.fi=function(){Ai(this.nC)},t}();function rm(t){switch(t){case tm.rC:case"":return tm.rC;case tm.om:return tm.om;case tm.iC:default:return tm.iC}}!function(t){t.HR="",t.iC="none",t.om="metadata",t.rC="auto"}(tm||(tm={}));var im=[Gv.jl,Qs.Ga,Qs.Yo,Qs.bf,Qs.Ua,Qs.Ka,Qs.nf,Qs.rf,Qs.df,Qs.wf,Id.Ew,Id.Sw,Id.Rw,Id.Iw,Id.al,Id.Cw,Id.Dw,Qs.Ha,Qs.Wa,Qs.Xa,Qs.Ya,Qs.Qa,Qs.Za,Qs.ef,Qs.uf,Qs.if,Qs.sf,Qs.af,Qs.hf,Qs.ff,Qs._f,Qs.pf,Qs.cf,Qs.tf,Qs.vf],em=function(t){function n(n,r){var i;return(i=t.call(this)||this).eC=void 0,i.uC=void 0,i.vI=tm.iC,i.sC=void 0,i.oC=!0,i.Jw=new Yv,i.Qw=new Yv,i.Zw=new nd,i.ty=new el,i.cC=n,i.aC=r,i.aC.qy=i.qy,i.fC(),i}W(n,t);var r=n.prototype;return r.ui=function(){this.aC.ui()},r.ei=function(){this.aC.ei()},r.ay=function(){return this.vy(void 0)},r.di=function(){},r.Ey=function(t){return!1},r.fC=function(){this.Jw.Al=this.aC.ey,this.Qw.Al=this.aC.uy,this.Zw.Al=this.aC.sy,this.ty.Al=this.aC.oy,this.aC.Po(im,this.Ao)},r.hC=function(){this.aC.Bo(im,this.Ao),this.Jw.Al=void 0,this.Qw.Al=void 0,this.Zw.Al=void 0,this.ty.Al=void 0},r.hy=function(){return this.sC},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(r),this.sC=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!kd(i=n.sources.filter(Rd))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.cC.YI(i,n);case 9:if(e=t.sent,Me(r),u=e.JI,s=e.QI,o=this.by(),c=Gd(this),this.eC===s&&!this.Go){t.next=25;break}return this.hC(),t.next=19,this.aC.fi();case 19:Me(r),this.eC=s,this.aC=this.vC(s),um(this.aC,c),Yd(this,c,this),this.fC();case 25:return this.aC.qy=this.qy,this.oC?this.aC.py():this.aC.my(),t.next=29,this.aC.vy(u,n,r);case 29:Me(r),this.dC(u),this.by()!==o&&this.Oo(new ed);case 32:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.dC=function(t){this.uC!==t&&(this.uC=t,this.Oo(new ud(t)))},r.ly=function(){return this.aC.ly()},r.wy=function(){this.aC.wy()},r.yy=function(){this.aC.yy()},r.by=function(){return this.aC.by()},r.Cy=function(){this.aC.Cy()},r.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sC=void 0,this.dC(void 0),t.next=4,this.aC.Tl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Tl();case 3:return t.next=5,this.aC.fi();case 5:this.Jw.fi(),this.Qw.fi(),this.Zw.fi(),this.ty.fi();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.py=function(){this.oC=!0,this.aC.py()},r.my=function(){this.oC=!1,this.aC.my()},H(n,[{key:"ey",get:function(){return this.Jw}},{key:"Dy",get:function(){return this.aC.Dy}},{key:"Go",get:function(){return this.aC.Go}},{key:"xw",get:function(){return this.aC.xw}},{key:"Ny",get:function(){return this.aC.Ny},set:function(t){this.aC.Ny=t}},{key:"Iy",get:function(){return this.uC}},{key:"Nw",get:function(){return this.aC.Nw},set:function(t){this.aC.Nw=t}},{key:"Aw",get:function(){return this.aC.Aw}},{key:"Ow",get:function(){return this.aC.Ow}},{key:"oy",get:function(){return this.ty}},{key:"Oy",get:function(){return this.aC.Oy}},{key:"Gw",get:function(){return this.aC.Gw}},{key:"Pw",get:function(){return this.aC.Pw},set:function(t){this.aC.Pw=t}},{key:"Uy",get:function(){return this.aC.Uy}},{key:"Lw",get:function(){return this.aC.Lw}},{key:"Fw",get:function(){return this.aC.Fw},set:function(t){this.aC.Fw=t}},{key:"Vy",get:function(){return this.aC.Vy}},{key:"qy",get:function(){return this.vI},set:function(t){this.vI=t,this.aC&&(this.aC.qy=this.vI)}},{key:"Gl",get:function(){return this.aC.Gl}},{key:"jy",get:function(){return this.aC.jy}},{key:"Mw",get:function(){return this.aC.Mw}},{key:"sy",get:function(){return this.Zw}},{key:"Bw",get:function(){return this.aC.Bw}},{key:"uy",get:function(){return this.Qw}},{key:"Uw",get:function(){return this.aC.Uw}},{key:"Vw",get:function(){return this.aC.Vw},set:function(t){this.aC.Vw=t}},{key:"BI",get:function(){return this.aC.BI}}]),n}(Ke);function um(t,n){t.Pw!==n.Pw&&(t.Pw=n.Pw),t.Vw!==n.Vw&&(t.Vw=n.Vw),t.Fw!==n.Fw&&(t.Fw=n.Fw)}var sm,om=function(t){function n(n,r){var i;return(i=t.call(this)||this).Sl=n.length>>1,i.lC=n,i.wC=r||function(t){for(var n=new Array(2*t),r=0,i=0;r<t;r+=1,i+=2)n[i]=!0,n[i+1]=!1;return n}(i.Sl),i}W(n,t);var r=n.prototype;return r.yC=function(t){return this.lC[2*t]},r.gC=function(t){return this.wC[2*t]},r._C=function(t){return this.lC[2*t+1]},r.pC=function(t){return this.wC[2*t+1]},H(n,[{key:"mC",get:function(){return this.lC.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.mg=function(t,n){return 0===this.Wg(t,n)},n.__=function(t,n){return this.Wg(t,n)>0},n.p_=function(t,n){return this.Wg(t,n)>=0},n.Yg=function(t,n){return this.Wg(t,n)<0},n.Xg=function(t,n){return this.Wg(t,n)<=0},n.B_=function(t,n){return this.Yg(t,n)?t:n},n.M_=function(t,n){return this.__(t,n)?t:n},n.kC=function(t,n,r){return r?this.Xg(t,n):this.Yg(t,n)},n.xI=function(){var t=this;return{get length(){return t.Sl},start:function(n){var r=0|n;return t.bC(r),t.TC(t.yC(r))},end:function(n){var r=0|n;return t.bC(r),t.TC(t._C(r))}}},n.EC=function(){for(var t=new Array(2*this.Sl),n=new Array(2*this.Sl),r=0;r<this.Sl;r++)t[2*r]=this.yC(r),t[2*r+1]=this._C(r),n[2*r]=!0,n[2*r+1]=!0;return this.SC(t,n)},n.bC=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Sl)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Sl+")")},n.RC=function(t){if(0===this.Sl)return this.IC();if(this.OI(t))return t;if(this.Xg(t,this.yC(0)))return this.yC(0);if(this.p_(t,this._C(this.Sl-1)))return this._C(this.Sl-1);for(var n,r=this.CC(),i=0;i<this.Sl;i++){var e=this.yC(i),u=this.Gg(e,t);this.Yg(u,r)&&(n=e,r=u);var s=this._C(i),o=this.Gg(this._C(i),t);this.Yg(o,r)&&(n=s,r=o)}return n},n.DC=function(t){for(var n=0,r=0,i=[],e=[];n<this.Sl&&r<t.Sl;){var u=this.yC(n),s=this._C(n),o=this.gC(n),c=this.pC(n),a=t.yC(r),f=t._C(r),h=t.gC(r),v=t.pC(r),d=this.M_(u,a),l=this.B_(s,f),w=void 0;w=this.mg(u,a)?o&&h:this.mg(d,u)?o:h;var y=void 0;y=this.mg(s,f)?c&&v:this.mg(l,s)?c:v,(this.Yg(d,l)||w&&y&&this.mg(d,l))&&(i.push(d,l),e.push(w,y));var g=this.Wg(this._C(n),t._C(r));0===g?(n+=1,r+=1):g<0?n+=1:r+=1}return this.SC(i,e)},n.NC=function(){var t=this.AC(),n=t.Sl;if(0===n)return this.SC([t.OC(),t.CC()],[!1,!1]);var r=[],i=[],e=t.yC(0);t.mg(e,t.OC())||(r.push(t.OC(),e),i.push(!1,!t.gC(0)));for(var u=0;u<n-1;u++)r.push(t._C(u),t.yC(u+1)),i.push(!t.pC(u),!t.gC(u+1));var s=t._C(n-1);return t.mg(s,t.CC())||(r.push(s,t.CC()),i.push(!t.pC(n-1),!1)),t.SC(r,i)},n.xC=function(t){for(var n=0,r=0,i=this.Sl,e=t.Sl,u=new Array(2*(i+e)),s=new Array(2*(i+e)),o=0;n<i&&r<e;){var c=this.yC(n),a=this._C(n),f=t.yC(r),h=t._C(r);this.Yg(c,f)||this.mg(c,f)&&this.Yg(a,h)?(u[o]=c,u[o+1]=a,s[o]=this.gC(n),s[o+1]=this.pC(n),n++):(u[o]=f,u[o+1]=h,s[o]=t.gC(r),s[o+1]=t.pC(r),r++),o+=2}for(;n<i;)u[o]=this.yC(n),u[o+1]=this._C(n),s[o]=this.gC(n),s[o+1]=this.pC(n),n++,o+=2;for(;r<e;)u[o]=t.yC(r),u[o+1]=t._C(r),s[o]=t.gC(r),s[o+1]=t.pC(r),r++,o+=2;return this.SC(u,s)},n.LC=function(t){void 0===t&&(t=this.IC());var n=this.Sl;if(n<2)return this;for(var r=[],i=[],e=this.yC(0),u=this._C(0),s=this.gC(0),o=this.pC(0),c=1;c<n;c++){var a=this.yC(c),f=this._C(c),h=this.gC(c),v=this.pC(c);this.Yg(e,a)&&this.__(u,f)||(this.mg(e,a)&&(s=h=s||h),this.mg(u,f)&&(o=v=o||v),this.kC(a,this.Wy(u,t),o||h)?(u=f,o=v):(r.push(e,u),i.push(s,o),e=a,u=f,s=h,o=v))}return r.push(e,u),i.push(s,o),this.SC(r,i).AC()},n.AC=function(){for(var t=[],n=[],r=0;r<this.Sl;r++){var i=this.yC(r),e=this._C(r),u=this.gC(r),s=this.pC(r);this.mg(i,e)?(u||s)&&(t.push(i,e),n.push(!0,!0)):(t.push(i,e),n.push(u,s))}return this.SC(t,n)},n.FC=function(t){return this.Sl?t.Sl?this.xC(t).LC():this:t},n.MC=function(t){var n=this.AC(),r=t.AC(),i=n.NC(),e=r.NC(),u=i.DC(r),s=e.DC(n);return u.FC(s)},n.cc=function(t){if(this.mg(t,this.IC()))return this;for(var n=[],r=[],i=0;i<this.Sl;i++){var e=this.Wy(this.yC(i),t),u=this.Wy(this._C(i),t);n.push(e,u),r.push(this.gC(i),this.pC(i))}return this.SC(n,r)},n.BC=function(t){return this.AC().DC(t.AC().NC())},n.OI=function(t,n){return this.UC(t,n)>=0},n.VC=function(t,n,r,i,e){return this.qC(t,n,r,i,e)>=0},n.jC=function(t,n,r,i,e){return this.HC(t,n,r,i,e)>=0},n.WC=function(t){if(t.Sl!==this.Sl)return!1;for(var n=0;n<this.Sl;n++)if(!this.mg(this.yC(n),t.yC(n))||!this.mg(this._C(n),t._C(n))||this.gC(n)!==t.gC(n)||this.pC(n)!==t.pC(n))return!1;return!0},n.$C=function(t){for(var n=[],r=[],i=0;i<this.Sl;i++)t(this.yC(i),this._C(i))&&(n.push(this.yC(i),this._C(i)),r.push(this.gC(i),this.pC(i)));return this.SC(n,r)},n.HC=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===e&&(e=this.IC());for(var u=this.Zg(t,e),s=this.Wy(n,e),o=0;o<this.Sl;o+=1)if(this.kC(this.yC(o),s,!i||this.gC(o))&&this.kC(u,this._C(o),!r||this.pC(o)))return o;return-1},n.qC=function(t,n,r,i,e){void 0===r&&(r=!0),void 0===i&&(i=!1),void 0===e&&(e=this.IC());for(var u=this.Wy(t,e),s=this.Zg(n,e),o=0;o<this.Sl;o+=1)if(this.kC(this.yC(o),u,!r||this.gC(o))&&this.kC(s,this._C(o),!i||this.pC(o)))return o;return-1},n.UC=function(t,n){return this.qC(t,t,!0,!0,n)},n.zC=function(t,n){void 0===n&&(n=this.IC());for(var r=this.Wy(t,n),i=this.Sl-1;i>=0;i-=1)if(this.kC(this.yC(i),r,this.gC(i)))return i;return-1},n.XC=function(t,n){void 0===n&&(n=this.IC());for(var r=this.Zg(t,n),i=0;i<this.Sl;i+=1)if(this.kC(r,this._C(i),this.pC(i)))return i;return-1},n.GC=function(t){return this.bC(t),this.SC([this.yC(t),this._C(t)],[this.gC(t),this.pC(t)])},n.YC=function(t,n){var r=this.UC(t,n);return r<0?void 0:this.GC(r)},H(t,[{key:"KC",get:function(){for(var t=this.IC(),n=0;n<this.Sl;n++){var r=this.Zg(this._C(n),this.yC(n));t=this.Wy(t,r)}return t}}]),t}()),cm=function(t){function n(n,r){return t.call(this,n,r)||this}W(n,t);var r=n.prototype;return r.Wg=function(t,n){return t<n?Fl.Vg:t===n?Fl.Bg:Fl.Ug},r.Wy=function(t,n){return t+n},r.Zg=function(t,n){return t-n},r.Gg=function(t,n){return l.abs(t-n)},r.IC=function(){return 0},r.CC=function(){return 1/0},r.OC=function(){return-1/0},n.JC=function(t){for(var r=[],i=0;i<t.length;i++)r.push(t.start(i),t.end(i));return new n(r)},n.QC=function(t){for(var r=[],i=[],e=0;e<t.Sl;e++)r.push(t.yC(e).q_),r.push(t._C(e).q_),i.push(t.gC(e)),i.push(t.pC(e));return new n(r,i)},n.ZC=function(t){return new n([t,t],[!0,!0])},r.SC=function(t,r){return new n(t,r)},r.TC=function(t){return t},n.tD=function(){return am},n}(om),am=new cm([]);!function(t){t.ol="fullscreenchange",t.nD="fullscreensupportchange",t.jl="fullscreenerror"}(sm||(sm={}));var fm=function(t){function n(){return t.call(this,sm.jl)||this}return W(n,t),n}(Qe),hm=new(function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.ug=function(){this.Oo(new fm)},r.og=function(){},r.fi=function(){this.Mo()},H(n,[{key:"rD",get:function(){return!1}},{key:"iD",get:function(){return!1}}]),n}(Ke)),vm=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.ky=function(){},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eD=0,n.uD=!1,n.sD=!0,n.oD=1,n.cD=!1,n.aD=1,n.ey=new hl,n.Dy=cm.tD().xI(),n.Aw=NaN,n.Ow=!1,n.Go=void 0,n.xw=void 0,n.oy=void 0,n.Oy=!1,n.Uy=!0,n.Vy=cm.tD().xI(),n.qy=tm.iC,n.Gl=vd.pw,n.jy=cm.tD().xI(),n.MI=void 0,n.sy=new yy,n.Bw=0,n.uy=new hl,n.Uw=0,n.KR=new zp,n}W(n,t);var r=n.prototype;return r.py=function(){},r.my=function(){},r.ei=function(){this.sD&&(this.sD=!1,this.Oo(new Nd(this.Nw)),this.Oo(new Bp(this.Nw)))},r.ui=function(){this.sD||(this.sD=!0,this.Oo(new Fd(this.Nw,this.Ny)),this.Oo(new Dd(this.Nw)))},r.vy=function(t,n){return C.resolve()},r.ly=function(){return!1},r.wy=function(){},r.yy=function(){},r.by=function(){return hm},r.Cy=function(){},r.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eD=0,this.cD=!1,this.ui(),this.Oo(new Cd(this.eD));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.ey.fi(),this.sy.fi(),this.uy.fi();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"Ny",get:function(){},set:function(t){}},{key:"Nw",get:function(){return this.eD},set:function(t){this.eD!==t&&(this.eD=t,this.cD=!0,this.Oo(new Ud(this.Nw)))}},{key:"Gw",get:function(){return{xy:0,Py:0,Ly:0,Fy:0,My:0,By:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Pw",get:function(){return this.uD},set:function(t){this.uD!==t&&(this.uD=t,this.Oo(new qd(this.Nw,this.Vw)))}},{key:"Lw",get:function(){return this.sD}},{key:"Fw",get:function(){return this.oD},set:function(t){this.oD!==t&&(this.oD=t,this.Oo(new Ld(this.Nw,this.Fw)))}},{key:"Mw",get:function(){return this.cD}},{key:"Vw",get:function(){return this.aD},set:function(t){this.aD!==t&&(this.aD=t,this.Oo(new qd(this.Nw,this.Vw)))}},{key:"BI",get:function(){return this.KR}}]),n}(Ke)),dm=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this,Zp.Xe,new vm)||this).fD=n,o.ha=r,o.TT=i,o.hD=e,o.vD=s,o.dD=new b(u,o.vD),o.dD.ai(o.fD),o.lD=new nm(o.fD),o}W(n,t);var r=n.prototype;return r.di=function(){t.prototype.di.call(this),this.dD.ri()},r.gy=function(t){var n,r,i,e;n=this,i=(r=t).Vw,e=r.Pw,n.Vw=i,n.Pw=e},r._y=function(){},r.vC=function(t){return t.HT(this.fD,this.dD,this.TT,this.ha,this.hD,this.vD)},r.ky=function(){return this.aC.ky()},r.Ty=function(){return this.dD.ni.map(function(t){return t.dI})},r.Fo=function(n){t.prototype.Fo.call(this,n)},r.qo=function(n){t.prototype.qo.call(this,n)},r.fi=function(){var n=C.coroutine(Qi.mark(function n(){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.fi.call(this);case 2:this.dD.fi(),this.lD.fi();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),H(n,[{key:"Ay",get:function(){return this.fD}}]),n}(em),lm=function(t){function n(n,r,i){var e;return(e=t.call(this)||this).fD=n,e.wD=r,e.yD=new hl,e.gD=new yy,e._D=i,e}W(n,t);var r=n.prototype;return r.Ey=function(t){return!0},r.my=function(){},r.ei=function(){throw this.Oo(new $d(this._D)),this.wD},r.ui=function(){},r.hy=function(){},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Me(r),this.Oo(new $d(this._D)),this.wD;case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.py=function(){},r.ay=function(){return C.resolve()},r.ky=function(){},r.by=function(){return hm},r.Ty=function(){return[]},r.di=function(){},r.gy=function(t){},r._y=function(){},r.ly=function(){return!1},r.wy=function(){},r.yy=function(){},r.Cy=function(){},r.Tl=function(){return C.resolve()},r.fi=function(){return this.Mo(),this.yD.fi(),this.gD.fi(),C.resolve()},H(n,[{key:"ey",get:function(){return this.yD}},{key:"Dy",get:function(){return cm.tD().xI()}},{key:"Ny",get:function(){return new Date(NaN)},set:function(t){}},{key:"Iy",get:function(){}},{key:"Nw",get:function(){return 0},set:function(t){}},{key:"Aw",get:function(){return 0}},{key:"Ay",get:function(){return this.fD}},{key:"Ow",get:function(){return!0}},{key:"Go",get:function(){return this.wD}},{key:"xw",get:function(){return this._D}},{key:"oy",get:function(){}},{key:"Gw",get:function(){return{xy:0,Py:0,Ly:0,Fy:0,My:0,By:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Pw",get:function(){return!1},set:function(t){}},{key:"Uy",get:function(){return!0}},{key:"Lw",get:function(){return!0}},{key:"Fw",get:function(){return 0},set:function(t){}},{key:"Vy",get:function(){return cm.tD().xI()}},{key:"qy",get:function(){return tm.iC},set:function(t){}},{key:"Gl",get:function(){return vd.pw}},{key:"jy",get:function(){return cm.tD().xI()}},{key:"Mw",get:function(){return!1}},{key:"sy",get:function(){return this.gD}},{key:"Bw",get:function(){return 0}},{key:"uy",get:function(){return this.yD}},{key:"Uw",get:function(){return 0}},{key:"Vw",get:function(){return 1},set:function(t){}},{key:"Oy",get:function(){return!1}}]),n}(id);function wm(t){if(t&&st(t))return Zi(Zi({},t),{integration:ym(t.integration),fairplay:Tm(t.fairplay),widevine:gm(t.widevine),playready:_m(t.playready),clearkey:Em(t.clearkey),aes128:Sm(t.aes128),integrationParameters:Rm(t.integrationParameters),preferredKeySystems:Im(t.preferredKeySystems)})}function ym(t){if(ct(t))return t}function gm(t){if(t&&st(t))return{persistentState:pm(t.persistentState),distinctiveIdentifier:pm(t.distinctiveIdentifier),audioRobustness:mm(t.audioRobustness),videoRobustness:mm(t.videoRobustness),licenseAcquisitionURL:ct(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:km(t.licenseType),headers:t.headers,useCredentials:!!at(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ct(t.certificate)||rs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:bm(t.certificateRequestProcessor),certificateResponseProcessor:bm(t.certificateResponseProcessor),licenseRequestProcessor:bm(t.licenseRequestProcessor),licenseResponseProcessor:bm(t.licenseResponseProcessor)}}function _m(t){if(t){var n=gm(t);if(n){var r=ct(t.customData)?t.customData:void 0;return Zi(Zi({},n),{customData:r})}}}function pm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function mm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function km(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function bm(t){if("function"==typeof t)return t}function Tm(t){if(t){var n=gm(t);if(n){var r=ct(t.certificateURL)?t.certificateURL:void 0;return Zi(Zi({},n),{certificateURL:r})}}}function Em(t){if(t){var n=gm(t);if(n){var r=et(t.keys)?t.keys.map(function(t){return function(t){if(!t||!st(t))return;var n=t.id,r=t.value;if(!ct(n)||!ct(r))return;return{id:n,value:r}}(t)}).filter(it):void 0;return Zi(Zi({},n),{keys:r})}}}function Sm(t){if(st(t))return{useCredentials:at(t.useCredentials)?t.useCredentials:void 0}}function Rm(t){if(st(t))return t}function Im(t){return t&&et(t)?t.map(function(t){return Sg(t)}).filter(it):[we,ve,ge]}var Cm,Dm=function(t){function n(n){var r;return(r=t.call(this,"presentationmodechange")||this).presentationMode=n,r}return W(n,t),n}(Qe),Nm=function(t){function n(n,r){var i;return void 0===r&&(r=!1),(i=t.call(this,n)||this).pD=[],i.mD=function(t){He(function(){i.Ao(t)})},i.kD=r?i.mD:i.Ao,i}W(n,t);var r=n.prototype;return r.bD=function(t){t.Fo(this.kD),this.pD.push(t)},r.TD=function(t){t.qo(this.kD),De(this.pD,t)},r.fi=function(){this.Mo();for(var t=0,n=this.pD;t<n.length;t++){n[t].qo(this.kD)}Oe(this.pD)},n}(rd),Am=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(Nm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Cm||(Cm={}));var Om,xm=function(t){function r(n){var r;return(r=t.call(this)||this).ED=!1,r.SD=!1,r.$d=void 0,r.RD=function(){return r.CD()},r.DD=function(){return r.ND()},r.OD=n,r.xD=r.PD=r.LD=r.FD=Cm.INLINE,r.OD.Po(sm.ol,r.RD),r.OD.Po(sm.jl,r.DD),r.MD(),r}W(r,t);var i=r.prototype;return i.Xd=function(){return t=this,r={get currentMode(){return t.BD()},requestMode:function(n){var r=Lm(n);r&&t.UD(r)},supportsMode:function(n){var r=Lm(n);return!!r&&t.VD(r)},addEventListener:function(t,r){n.Po(t,r)},removeEventListener:function(t,r){n.Bo(t,r)}},(n=new Nm(r,!0)).bD(t),r;var t,n,r},i.UD=function(t){this.qD(t,t)},i.qD=function(t,n){this.PD!==n&&(this.ED=!0,this.xD=t,this.jD(n,this.PD),t!==Cm.FULLSCREEN&&(this.LD=t),this.ED=!1,this.MD())},i.BD=function(){return this.SD?Cm.FULLSCREEN:Cm.INLINE},i.VD=function(t){switch(t){case Cm.FULLSCREEN:return this.OD.iD;case Cm.INLINE:return!0}return!1},i.MD=function(){if(!this.ED){var t=this.PD,n=this.BD();this.PD=n,n!==Cm.FULLSCREEN&&(this.FD=n),t!==n&&this.Oo(new Dm(n))}},i.jD=function(t,n){var r=t===Cm.FULLSCREEN;this.SD=r,r!==this.OD.rD&&(r?this.OD.ug():this.OD.og())},i.CD=function(){if(!this.ED){var t=this.OD.rD;this.SD=t,t?this.qD(Cm.FULLSCREEN,Cm.FULLSCREEN):t||this.xD!==Cm.FULLSCREEN?this.MD():this.qD(this.LD,this.FD)}},i.ND=function(){this.CD(),this.Oo(new $d(new Os(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},i.fi=function(){this.OD.fi(),this.Mo()},H(r,[{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}}]),r}(rd),Pm={Nw:0,Aw:NaN,Ow:!1,Go:void 0,xw:void 0,Pw:!1,Lw:!0,Fw:1,Gl:vd.pw,Mw:!1,Bw:0,Uw:0,Vw:1};function Lm(t){switch(t){case Cm.INLINE:case Cm.FULLSCREEN:case Cm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Om||(Om={}));var Fm,Mm,Bm,Um,Vm,qm,jm,Hm,Wm=function(){function t(){this.HD=[]}var n=t.prototype;return n.WD=function(t){var n=this.$D.filter(function(n){return n.zD(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.XD=function(t){this.HD.push(t)},H(t,[{key:"$D",get:function(){return this.HD}}]),t}();Wm.Xe=new Wm,function(t){t.Dw="PLAYING",t.GD="PAUSED",t.YD="SEEK",t.KD="STALLED",t.JD="FAILED",t.QD="INITIAL_BUFFERING",t.ZD="NO_ACCESS"}(Fm||(Fm={})),function(t){t.tN="HTTP_REQUEST_STATUS_CODE_1XX",t.nN="HTTP_REQUEST_STATUS_CODE_2XX",t.rN="HTTP_REQUEST_STATUS_CODE_3XX",t.iN="HTTP_REQUEST_STATUS_CODE_4XX",t.eN="HTTP_REQUEST_STATUS_CODE_5XX",t.uN="BUFFER_LENGTH",t.sN="BYTES_RECEIVED",t.oN="SEGMENT_READ_BITRATE",t.cN="SEGMENT_PROFILE_BITRATE",t.aN="NUMBER_OF_FRAMES_DROPPED",t.fN="PLAYBACK_POSITION",t.hN="NUMBER_OF_FRAMES_DECODED",t.vN="PLAYBACK_DELTA_TO_ORIGIN",t.dN="STREAM_DELTA_TO_ORIGIN",t.lN="ORIGIN_TIMESTAMP"}(Mm||(Mm={})),function(t){t.wN="MANIFEST_URI",t.yN="ASSET_DURATION",t.gN="NUMBER_OF_CONTENT_PROFILES",t._N="CDN",t.pN="CONTENT_TITLE",t.mN="SERVICE_NAME",t.kN="CONTENT_TYPE",t.bN="CONTENT_DESCRIPTION"}(Bm||(Bm={})),function(t){t.TN="shutdown_normal_shutdown"}(Um||(Um={})),function(t){t.EN="session/",t.SN="internalError/",t.RN="drmError/",t.IN="caError/",t.CN="networkError/"}(Vm||(Vm={})),function(t){t.DN="userAction",t.NN="endOfStreamReached"}(qm||(qm={})),function(t){t.PAUSE="AN",t.RESUME="ON"}(jm||(jm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Hm||(Hm={}));var $m,zm,Xm,Gm,Ym,Km="agama";function Jm(t){return function(t){switch(t){case $m.NONE:case $m.HORIZONTAL:case $m.VERTICAL:return!0;default:return!1}}(t)?t:$m.NONE}function Qm(t){switch(t){case"":return $m.NONE;case"horizontal":return $m.HORIZONTAL;case"vertical":return $m.VERTICAL;default:throw new v}}function Zm(t){if(!t||!ct(t))return zm.rC;switch(t){case"always":return zm.xN;case"never":return zm.PN;default:return zm.rC}}function tk(t){if(!t||!ct(t))return Xm.rC;switch(t){case"playlist":return Xm.LN;case"media":return Xm.FN;default:return Xm.rC}}function nk(t){if(null!==t)return t}function rk(t){var n,r={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:nk(t.streamActivityMonitorID),adTagParameters:st(t.adTagParameters)?t.adTagParameters:{},authToken:nk(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var i=t.videoID,e=t.contentSourceID;return i?e?Zi(Zi({},r),{availabilityType:"vod",videoID:i,contentSourceID:e}):void N._s("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N._s("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Zi(Zi({},r),{availabilityType:"live",assetKey:u}):void N._s("A Live DAI configuration was provided without valid assetKey which is required.")}N._s("A DAI configuration was provided without a valid availabilityType which is required.")}function ik(t){if(!gg(t)||!t.integration)return t;switch(t.integration){case Xy:return n=t,r=Eg(ce.Js,n),i=Eg(ce.Ks,n),e=n[ce.Qs]&&Eg(ce.Qs,n),Zi({integration:"keyos",widevine:r,playready:i},e?{fairplay:e}:{});default:return t}var n,r,i,e}function ek(t){if(!t)return!0;var n,r,i=!(md(n=t.sources)||ut(n)&&md(n[0]))||kd(t.sources),e=!t.ads||(!(r=t.ads)||et(r)&&0===r.length),u=""!==t.poster&&!t.poster;return i&&e&&u}function uk(t){if(t&&t.sources)return function t(n){if(ct(n))return n;if(pd(n))return n.src;if(ut(n)&&n.length>0)return t(n[0]);return}(t.sources)}function sk(t,n,r){return gd(t)?function(t,n,r){var i=Zi(Zi({},bd()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Gm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Ym.ASSET,contentProtected:!1,assetInfo:!0});i.id=(e=t.id,ct(e)?e:ut(e)&&ct(e[0])?e:st(u=e)&&ct(u.userId)&&(ut(u.externalId)||ct(u.externalId))?e:""),t.preplayParameters&&(i.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(i.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(i.assetType=function(t){switch(t){case"channel":return Ym.CHANNEL;case"event":return Ym.EVENT;case"asset":default:return Ym.ASSET}}(t.assetType));t.contentProtected&&(i.contentProtected=Fv(t.contentProtected));t.assetInfo?i.assetInfo=Fv(t.assetInfo):i.assetInfo="asset"===i.assetType;return i.ping=(s=i.assetType,o=t.ping,c=!1,a=!1,f=!1,o?(c=!!at(o.adImpressions)&&o.adImpressions,a=!!at(o.freeWheelVideoViews)&&o.freeWheelVideoViews,f=at(o.linearAdData)?o.linearAdData:s!==Ym.ASSET):s!==Ym.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),i=ck(i=ok(i,t),n,r);var s,o,c,a,f}(t,n,r):function(t,n,r){var i=Td(),e=n&&(n.contentProtection||n.drm);if(ct(t)){if(i.src=t,i.type=wd(t),e){var u=wm(e);i.contentProtection=ik(u)}}else if(pd(t)||yd(t)){i.src=t.src,i.type=t.type||wd(t.src),i.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===ad.gw||t.type===ad._w}(t)?t.hesp:void 0;void 0!==s&&(i.hesp=s);var o=t.contentProtection||t.drm||e,c=wm(o);i.contentProtection=ik(c),t.ssai&&(i.ssai=function(t){switch(t.integration){case"google-dai":return rk(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),i=ok(i,t)}return i=ck(i,n,r)}(t,n,r)}function ok(t,n){var r;n.useCredentials?t.crossOrigin=cd.ww:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case cd.lw:case cd.ww:return t;default:return cd.dw}}(n.crossOrigin)),ct(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Fv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Fv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Zm(null==(r=n.dash)?void 0:r.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:tk(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var i=void 0!==n.experimentalRendering?Fv(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var e=void 0!==n.nativeUiRendering?Fv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function ck(t,n,r){var i,e=n&&n.timeServer;return r&&r.liveOffset&&!it(t.liveOffset)&&(t.liveOffset=r.liveOffset),r&&r.hlsDateRange&&!it(t.hlsDateRange)&&(t.hlsDateRange=r.hlsDateRange),t.crossOrigin===cd.dw&&(null===(i=null==n?void 0:n.vr)||void 0===i?void 0:i[360])&&(t.crossOrigin=cd.lw),t.useCredentials=t.crossOrigin===cd.ww,ct(e)&&!t.timeServer&&(t.timeServer=e),t}function ak(t){var n={src:""};if(t&&t.src){if(n.src=Uv(t.src),"default"in t&&(n.default=Fv(t.default)),n.kind=py(t.kind),function(t){switch(t){case Tl.DEFAULT:case Tl.SRT:case Tl.TTML:case Tl.WEBVTT:case Tl.EMSG:case Tl.EVENT_STREAM:case Tl.ID3:case Tl.CEA608:case Tl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(n.srclang=r)}if("label"in t){var i=t.label;"string"==typeof i&&""!==i&&(n.label=i)}}return n}function fk(t,n){if(ot(t))try{return n.WD(t).MN(t)}catch(t){return}}function hk(t){return ct(t.sources)&&""!==t.sources||st(t.sources)&&ct(t.sources.src)}function vk(t){return t.integration===Om.SPOTX&&!g(t.id)}function dk(t){return"freewheel"===t.integration}function lk(t,n,r){if(void 0===r&&(r=Wm.Xe),ek(t))return{sources:[Td()]};var i=Ov(t);if(i.sources=function(t,n,r){if(md(t))return[sk(t,n,r)];if(ut(t)&&md(t[0])){for(var i=[],e=0;e<t.length;e++){var u=t[e];i.push(sk(u,n,r))}return i}return[Td()]}(i.sources,i,n),"contentProtection"in i&&delete i.contentProtection,"drm"in i&&delete i.drm,"ads"in i){var e=function(t,n){if(!ut(t))return[];for(var r=[],i=0;i<t.length;i++){var e=t[i];(e=fk(e,n))&&(hk(e)||vk(e)||dk(e))&&r.push(e)}return r}(i.ads,r);0===e.length?delete i.ads:i.ads=e}var u,s,o,c=!kd(i.sources),a=i.ads&&i.ads.length>0;if(c&&!a?delete i.ads:a&&!c&&(i.sources=[]),"textTracks"in i){var f=function(t){if(!ut(t))return[];for(var n=[],r=0;r<t.length;r++){var i=t[r];""!==(i=ak(i)).src&&n.push(i)}return n}(i.textTracks);0===f.length?delete i.textTracks:i.textTracks=f}if("poster"in i&&(i.poster=Uv(i.poster)),"vr"in i&&(i.vr=(u=i.vr,(s=u||{}).stereoMode=Jm(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?Qm(s.stereoMode):$m.NONE})),"analytics"in i||(null==n?void 0:n.analytics)){var h=Sd(i.analytics),v=n&&n.analytics||[];i.analytics=function(t,n){for(var r=Ov(t),i=function(i){var e=n[i],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Km&&r.push(e)},e=0;e<n.length;e++)i(e);return r}(h,v)}return"mutedAutoplay"in i&&(i.mutedAutoplay=zd(i.mutedAutoplay)),"timeServer"in i&&delete i.timeServer,i.blockContentIfAdError=void 0!==(o=i.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),i}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}($m||($m={})),function(t){t.rC="auto",t.xN="always",t.PN="never"}(zm||(zm={})),function(t){t.rC="auto",t.LN="playlist",t.FN="media"}(Xm||(Xm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Gm||(Gm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Ym||(Ym={}));var wk=function(){function t(t){this.BN=t}return t.prototype.UN=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.BN.charAt(64);for(n=0;n<t.length;n+=4)r=(o=this.BN.indexOf(t.charAt(n))<<18|this.BN.indexOf(t.charAt(n+1))<<12|(u=this.BN.indexOf(t.charAt(n+2)))<<6|(s=this.BN.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},t.prototype.VN=function(t,n){var r,i,e,u,s,o,c,a=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.BN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(r=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=r>>12&63,u=r>>6&63,s=63&r,a[o/3]=this.BN.charAt(i)+this.BN.charAt(e)+this.BN.charAt(u)+this.BN.charAt(s);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t._p=new t(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),t.qN=new t(t._p.UN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function yk(t){return"string"==typeof t}function gk(t){return"number"==typeof t}var _k={}.toString;var pk,mk=Array.isArray||function(t){return"[object Array]"===_k.call(t)};function kk(t,n){return mk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(pk||(pk={}));var bk,Tk=d.keys(pk).map(function(t){return pk[t]});function Ek(t){return-1!==Tk.indexOf(t)}function Sk(t){try{var n=wk.qN.UN(t),r=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),r=yk(t.key),i=yk(t.customer_id),e=gk(t.generation_date),u=gk(t.expiration_date),s=kk(t.domains_page,yk),o=kk(t.domains_source,yk),c=kk(t.sdks,Ek),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&r&&i&&e&&u&&s&&o&&c&&a))return!1;return!0}(r))throw new h("The provided license could not be decoded correctly.");return r}catch(t){throw new h("The provided license could not be decoded correctly.")}}function Rk(){return bk||(bk={cv:R.href,jN:S.parent&&S.parent!==i,HN:Dk()}),bk}var Ik,Ck=["http:","https:","ftp:","ws:","wss:"];function Dk(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.WN=0]="WN",t[t.$N=1]="$N",t[t.zN=2]="zN"}(Ik||(Ik={}));var Nk,Ak=function(t,n,r,i,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.XN=t,this.GN=n,this.YN=r,this.KN=i,this.JN=e,this.QN=u,this.ZN=s,this.tA=o};!function(t){t.$N="expired",t.nA="invaliddomain",t.rA="invalidsource",t.jl="error"}(Nk||(Nk={}));var Ok=function(){function t(t,n,r){this.iA=t,this.eA=n,this.uA=r,this.sA=Bk(this.uA)}var n=t.prototype;return n.oA=function(t,n){var r=this;if(!ek(t)&&0!==n.YN.length&&!Lk(n.YN)){var i=[];if(md(t.sources)?i=[t.sources]:ut(t.sources)&&(i=t.sources),!i.every(function(t){return r.cA(t,n)})){var e=Nk.rA,u=Vk.aA(e);throw new Os(xk(e),u)}}},n.fA=function(n){return this.hA(n.ZN)&&this.vA(n)?t.dA(n.KN)?Ik.WN:Ik.$N:Ik.zN},n.hA=function(t){var n=this;return 0===t.length||t.some(function(t){return n.lA(t)})},n.lA=function(t){return"tvos"===function(t){switch(t){case pk.ANDROID:return q.ki;case pk.ANDROIDTV:case pk.FIRETV:return q.bi;case pk.IOS:return q.Ti;case pk.TVOS:return q.Ei;case pk.CHROMECAST:case pk.CHROMECASTCAF:return q.Si;default:return q.mi}}(t)},t.dA=function(t){var n=Number(new Date);return!!t&&n<=t},n.vA=function(t){return!(this.sA&&0!==t.GN.length&&!Lk(t.GN))||!!(this.sA&&this.wA(t.GN)&&this.yA(t.GN))},n.wA=function(t){return Fk(this.uA.cv,t)},n.yA=function(t){if(!this.uA.jN)return!0;if(this.iA)return!0;var n=this.gA();return!!n&&Fk(n,t)},n.gA=function(){if(this.uA.jN){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.uA.HN?this.uA.HN:void 0}},n.cA=function(n,r){return!!t._A(n,r.YN)},t._A=function(t,n){return Fk(this.pA(t),n)},t.pA=function(t){return ct(t)?t:pd(t)&&t.src||""},t}();function xk(t){switch(t){case Nk.nA:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Nk.rA:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Nk.$N:return n.ErrorCode.LICENSE_EXPIRED;case Nk.jl:return n.ErrorCode.LICENSE_ERROR}}function Pk(t,n){var r=t,i=n;if(!r)return!1;if("*"===(i=i.trim()))return!0;if(i===(r=r.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),c=i.match(o),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==r.match(f)}return i="."+i,-1!==r.indexOf(i,r.length-i.length)}function Lk(t){return t.some(function(t){return"*"===t})}function Fk(t,n){var r=N.zu(t);if(!Mk(r))return!0;for(var i=0;i<n.length;i++){var e=n[i];if(Pk(r.hostname,e))return!0;if(Pk(Di(t),e))return!0}return!1}function Mk(t){return-1!==Ck.indexOf(t.protocol)}function Bk(t){var n=N.zu(t.cv);return Mk(n)&&!Pk(n.hostname,"localhost")&&!function(t){return Pk(t.hostname,"theoplayer.doubleclick.net")}(n)}var Uk,Vk=function(){function t(){}return t.aA=function(t){return t===Nk.nA?this.mA:t===Nk.rA?this.kA:t===Nk.$N?this.bA:this.TA},t}();function qk(t){var n=[t.Tb,t.EA,t.SA];switch(t.EA){case Uk.RA:n.push(t.Jl);break;case Uk.IA:n.push(t.Nw),n.push(t.Go);break;case Uk.CA:n.push(t.Go)}return n}Vk.TA="The license for this player is invalid.",Vk.bA="The usage license for this video player has expired.",Vk.mA="The current domain is incompatible with the license for this player.",Vk.kA="The provided video source is incompatible with the license for this player.",function(t){t[t.RA=1]="RA",t[t.IA=4]="IA",t[t.CA=5]="CA"}(Uk||(Uk={}));for(var jk=new Array(256),Hk=0;Hk<256;Hk+=1)jk[Hk]=(Hk<16?"0":"")+Hk.toString(16);function Wk(){var t=Qt(),n=(4294967296*l.random()|0)+t&3029421624,r=(4294967296*l.random()|0)+t&3595553209,i=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return jk[255&n]+jk[n>>>8&255]+jk[n>>>16&255]+jk[n>>>24&255]+"-"+jk[255&r]+jk[r>>>8&255]+"-"+jk[r>>>16&15|64]+jk[r>>>24&255]+"-"+jk[63&i|128]+jk[i>>>8&255]+"-"+jk[i>>>16&255]+jk[i>>>24&255]+jk[255&e]+jk[e>>>8&255]+jk[e>>>16&255]+jk[e>>>24&255]}var $k=function(){function t(t){this.BN=t}var n=t.prototype;return n.UN=function(t){var n,r,i,e,u,s,o,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)r=(o=this.BN.indexOf(t.charAt(n))<<18|this.BN.indexOf(t.charAt(n+1))<<12|(u=this.BN.indexOf(t.charAt(n+2)))<<6|(s=this.BN.indexOf(t.charAt(n+3))))>>>16&255,i=o>>>8&255,e=255&o,c[n/4]=String.fromCharCode(r,i,e),64===s&&(c[n/4]=String.fromCharCode(r,i)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},n.VN=function(t){var n,r,i,e,u,s,o,c=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.BN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,i=n>>12&63,e=n>>6&63,u=63&n,c[s/3]=this.BN.charAt(r)+this.BN.charAt(i)+this.BN.charAt(e)+this.BN.charAt(u);return(o=c.join("")).slice(0,o.length-a.length)+a},t}();function zk(){return N.ys()}$k._p=new $k(function(){var t,n,r,i,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)i=n.charAt(r),-1===e.indexOf(i)&&e.push(i);return e.join("")}()),$k.qN=new $k($k._p.UN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Xk,Gk="theoplayer-session-id";function Yk(){if(!Xk){var t=Gs.rc(Gk);t?Xk=t:(Xk=Wk(),Gs.Ma(Gk,Xk))}return Xk}var Kk=/[^\x00-\x7E]/g;function Jk(t){return"\\u"+function(t,n,r){void 0===r&&(r=" ");var i=r,e=(0|n)-t.length;return e<=0?t:(e>i.length&&(i+=function(t,n){var r=0|n;if(0===t.length||0===r)return"";for(var i=t,e="";1==(1&r)&&(e+=i),0!=(r>>>=1);)i+=i;return e}(i,e/i.length)),i.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Qk=0,Zk=1,tb=6e4;function nb(t){var n,r,i,e,u,s=(n=function(t){return[t.DA,t.Uc,t.XN,t.Fm,t.NA,t.AA,t.OA.map(qk)]}(t),r=[],i=n,e=function(t,n){if(st(n)){if(-1!==r.indexOf(n))return null;r.push(n)}return n},JSON.stringify(i,e,u).replace(Kk,Jk));return $k.qN.VN(s)}var rb=function(){function t(t,n,r,i,e,u){var s=this;void 0===i&&(i=$k._p),void 0===e&&(e=Qk),void 0===u&&(u=Zk),this.vS=t,this.TT=n,this.xA=r,this.PA=i,this.LA=e,this.FA=u,this.MA=[],this.BA=null,this.UA=0,this.VA="unknown",this.qA=0,this.jA=function(){zk()-s.UA>tb&&s.pi()},this.HA=function(){s.pi(!0)},E.wi(this.HA),a(this.jA,tb)}var n=t.prototype;return n.WA=function(){return Boolean(this.NA)},n.$A=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xA.zA();case 2:if(t.sent.tA){t.next=5;break}return t.abrupt("return");case 5:return r={EA:Uk.RA,SA:Qt(),Jl:n},t.next=8,this.XA(r);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GA=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={EA:Uk.IA,SA:Qt(),Nw:r,Go:n},t.next=3,this.XA(i);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.YA=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={EA:Uk.CA,SA:Qt(),Go:n},t.next=3,this.XA(r);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XA=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xA.zA();case 2:if(r=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.PA.VN(r.XN)){t.next=6;break}if(n.EA===Uk.CA){t.next=6;break}return t.abrupt("return");case 6:if(n.EA===Uk.RA?this.KA():this.WA()||this.KA(),n.Tb=this.qA++,this.MA.push(n),(i=n.EA)!==Uk.RA&&i!==Uk.CA){t.next=14;break}return t.next=12,this.pi();case 12:t.next=19;break;case 14:if(!(this.MA.length>this.LA)){t.next=19;break}return t.next=17,this.JA();case 17:t.next=19;break;case 19:case"end":return t.stop()}var i},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pi=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.MA.length>0)){t.next=6;break}return t.next=4,this.JA(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QA=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xA.zA();case 2:return r=t.sent,t.abrupt("return",{DA:Qt(),Uc:Yk(),XN:this.PA.VN(r.XN)||"dev",Fm:this.vS,NA:this.BA,AA:this.VA,OA:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.JA=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),r=this.MA.splice(0,this.FA),t.next=4,this.QA(r);case 4:i=t.sent,n?this.Av(i):this.ZA(i),this.UA=zk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ZA=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=nb(n),i=new xf({cv:"https://license.theoplayer.com",Wh:r,Dv:!1,iv:Zs.Qe,rv:{"Content-Type":m_.pS},Rv:4e3,Sv:Cf.POST}),t.prev=2,t.next=5,this.TT.sv(i);case 5:return e=t.sent,t.next=8,e.qh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+r;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Av=function(t){var n=nb(t);this.TT.Av({cv:"https://license.theoplayer.com",Wh:n,Hh:m_.pS})},n.KA=function(){this.WA()&&this.pi(),this.BA=Wk(),this.qA=0},n.fi=function(){E.yi(this.HA),this.pi()},H(t,[{key:"OA",get:function(){return this.MA}},{key:"NA",get:function(){return this.BA}}]),t}();var ib=!tt.be&&!tt.Oe;function eb(t,n,r){var i=t.getImageData(n,r,1,1).data;return 0===i[0]&&0===i[1]&&0===i[2]&&0===i[3]}var ub=function(){function t(t){this.$d=void 0,this.tO=void 0,this.QI=t}var n=t.prototype;return n.nO=function(t){if(!t||!t.drawImage)return!1;var n=this.QI.ky();if(!n)return!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(i)),!0},n.rO=function(t,n,r,i,u,s){if(!t||!t.texImage2D)return!1;var o=this.QI,c=o.ky();if(!c)return!1;if(!ib){this.tO||(this.tO=e.createElement("canvas"));var a=this.tO,f=a.getContext("2d"),v=o.Uw,d=o.Bw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&eb(f,v-1,0)&&(a.width=l,y=!0),d>0&&eb(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,r,i,u,s,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},H(t,[{key:"zd",get:function(){return this.$d||(this.$d=(t=this,{drawImage:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),e=1;e<r;e++)i[e-1]=arguments[e];return t.nO.apply(t,[n].concat(i))},texImage2D:function(n,r,i,e,u,s){return t.rO(n,r,i,e,u,s)}}));var t}}]),t}(),sb=function(t){function n(n,r){var i;return(i=t.call(this,"iO")||this).as=n,i.lk=r,i}return W(n,t),n.prototype.Xd=function(){return new ob(this.as,this.lk)},n}(gv),ob=function(t){function n(n,r){var i;return(i=t.call(this,"dimensionchange")||this).width=n,i.height=r,i}return W(n,t),n}(Qe),cb=function(t,n){this.Ay=t,this.eO=n},ab=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).uO=0,i.sO=0,i.oO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;i.sO=n.width,i.uO=n.height,i.eO(i.sO,i.uO)}},i.cO=new S.ResizeObserver(i.oO),i.cO.observe(i.Ay),i}return W(n,t),n.prototype.fi=function(){this.cO.disconnect()},H(n,[{key:"aO",get:function(){return this.uO}},{key:"fO",get:function(){return this.sO}}]),n}(cb),fb=0;var hb,vb=c,db=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,lb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function wb(){return hb||(hb=S&&S.document&&S.document.createElement("span")),hb}db&&lb||(db=function(t){var n=zk(),r=l.max(0,16-(n-fb)),i=o(function(){return t(n+r)},r);return fb=n+r,i},lb=vb),db=db.bind(t),lb=lb.bind(t);var yb=["Webkit","Moz","O","ms"],gb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",P,n),S.removeEventListener("testPassiveEventSupport",P,n)}}catch(t){}}(),ne());function _b(t){return gb.has(t)||gb.set(t,function(t){var n=wb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<yb.length;i++){var e=yb[i],u=e+r;if(void 0!==n.style[u])return u}return t}(t)),gb.get(t)}function pb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[_b("transition")]="0s"}var kb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).hO=void 0,e.vO=0,e.sO=NaN,e.uO=NaN,e.dO=void 0,e.Tl=function(){e.lO.style.width=1e5+"px",e.lO.style.height=1e5+"px",e.wO.scrollLeft=1e5,e.wO.scrollTop=1e5,e.yO.scrollLeft=1e5,e.yO.scrollTop=1e5,0===e.yO.scrollTop&&db(e.Tl)},e.gO=function(){var t=e.fO,n=e.aO;e.eO(t,n),e.sO=t,e.uO=n,e.Tl(),e.vO=0},e._O=function(){if(!e.vO){var t=e.fO,n=e.aO;t===e.sO&&n===e.uO||(e.vO=db(e.gO))}},e.pO=function(){e.dO||(e.dO=o(e.mO,66))},e.mO=function(){e.dO=void 0,e.kO()},e.kO=function(){e._O()},e.Hc(i),e}W(n,t);var r=n.prototype;return r.bO=function(){var t,n=this.Ay,r=e.createElement("div");return this.wO=e.createElement("div"),this.lO=e.createElement("div"),this.yO=e.createElement("div"),this.TO=e.createElement("div"),pb(this.wO),pb(this.yO),mb(this.lO),mb(t=this.TO),t.style.width="200%",t.style.height="200%",r.appendChild(this.wO),r.appendChild(this.yO),this.wO.appendChild(this.lO),this.yO.appendChild(this.TO),n&&n.appendChild(r),this._O(),this.wO.addEventListener("scroll",this._O),this.yO.addEventListener("scroll",this._O),r},r.Hc=function(t){var n=this.Ay,r=function(t,n){return i.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==r||(n.style.position="relative"),this.hO=this.bO(),i&&i.addEventListener("resize",this.pO)},r.fi=function(){this.hO&&(lb(this.vO),this.vO=0,this.wO.removeEventListener("scroll",this._O),this.yO.removeEventListener("scroll",this._O),Ai(this.hO),this.hO=void 0,i&&i.removeEventListener("resize",this.pO))},H(n,[{key:"aO",get:function(){return this.Ay&&this.Ay.getBoundingClientRect().height||this.uO||0}},{key:"fO",get:function(){return this.Ay&&this.Ay.getBoundingClientRect().width||this.sO||0}}]),n}(cb),bb=function(t){function n(n){var r;return(r=t.call(this)||this).cO=void 0,r.oO=function(t,n){r.Oo(new sb(t,n))},r.Ay=n,r}W(n,t);var r=n.prototype;return r.Hc=function(t){this.cO||("function"==typeof S.ResizeObserver?this.cO=new ab(this.Ay,this.oO):this.cO=new kb(this.Ay,this.oO,t))},r.fi=function(){this.Mo(),this.cO&&(this.cO.fi(),this.cO=void 0)},H(n,[{key:"aO",get:function(){return this.cO?this.cO.aO:0}},{key:"fO",get:function(){return this.cO?this.cO.fO:0}}]),n}(Ke),Tb=function(t){function n(){return t.call(this,sm.ol)||this}return W(n,t),n}(Qe);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var r=t[n];if(r[1]in e)return{EO:r[0],SO:r[1],RO:r[2],IO:r[3],CO:r[4],DO:r[5]}}}();var Eb=function(t){function n(){return t.call(this,sm.nD)||this}return W(n,t),n}(Qe),Sb=function(t){function n(n,r){var i;return(i=t.call(this)||this).NO=!1,i.AO=function(){return i.Pc()},i.RD=function(t){i.NO||i.Oo(t)},i.QI=n,i.OO=r,i.xO=hm,i.PO(),i.QI.Po(Qs.Ka,i.AO),i.Pc(),i}W(n,t);var r=n.prototype;return r.ug=function(){this.OO&&this.xO.ug()},r.og=function(){this.xO.og()},r.PO=function(){this.xO.Po(sm.ol,this.RD),this.xO.Po(sm.jl,this.Ao)},r.LO=function(){this.xO.Bo(sm.ol,this.RD),this.xO.Bo(sm.jl,this.Ao)},r.Pc=function(){var t=this.xO,n=this.QI.by();if(t!==n){this.NO=!0;var r=this.rD,i=this.iD;r&&this.og(),this.LO(),this.xO=n,this.PO(),r&&!this.rD&&this.iD?this.ug():this.og(),this.NO=!1,i!==this.iD&&this.Oo(new Eb),r!==this.rD&&this.Oo(new Tb)}},r.fi=function(){this.Mo(),this.LO(),this.QI.Bo(Qs.Ka,this.AO)},H(n,[{key:"iD",get:function(){return!!this.OO&&this.xO.iD}},{key:"rD",get:function(){return this.xO.rD}}]),n}(Ke);function Rb(t){var n;return{get url(){return t.cv},get method(){return t.Sv},get headers(){return n||(n=t.rv.Rf()),n},get body(){return t.Wh},get useCredentials(){return t.Dv},get type(){return Ab(t.ro)},get subType(){return xb(t.Iv)},get mediaType(){return Lb(t.Cv)},get responseType(){return Cb(t.iv)}}}function Ib(t){switch(t.toLowerCase()){case"arraybuffer":return Zs.Tf;case"json":return Zs.Ef;case"stream":return Zs.Sf;case"text":default:return Zs.Qe}}function Cb(t){return t}function Db(t){switch(t.toUpperCase()){case"POST":return Cf.POST;case"PUT":return Cf.PUT;case"DELETE":return Cf.DELETE;case"HEAD":return Cf.HEAD;case"OPTIONS":return Cf.OPTIONS;case"GET":default:return Cf.GET}}function Nb(t){switch(t.toLowerCase()){case"manifest":return Df.hv;case"segment":return Df.vv;case"content-protection":return Df.dv;default:return Df.fv}}function Ab(t){return t}function Ob(t){switch(t.toLowerCase()){case"initialization-segment":return Nf.lv;case"fairplay-license":return Nf.wv;case"fairplay-certificate":return Nf.yv;case"widevine-license":return Nf.gv;case"widevine-certificate":return Nf._v;case"playready-license":return Nf.pv;case"clearkey-license":return Nf.mv;case"aes128-key":return Nf.kv;default:return Nf.fv}}function xb(t){return t}function Pb(t){switch(t.toLowerCase()){case"audio":return Af.bv;case"video":return Af.Tv;case"text":return Af.Qe;case"image":return Af.Ev;case"":default:return Af.fv}}function Lb(t){return t}var Fb=function(){function t(t,n){this.FO=t,this.MO=n,this.BO=new os,this.UO=[],this.$d=void 0,this.VO=!1,this.Hv=void 0,this.qO=0}var n=t.prototype;return n.Sm=function(){this.VO=!0,this.BO.yc(null)},n.jO=function(){this.BO.gc(this.UO)},n.HO=function(t){if(!this.WO)throw new v("Cannot respond more than once");if(!st(t))throw new v("Expected valid response");this.Hv=this.$O(t),this.Sm()},n.zO=function(){try{var t=this.MO(this.zd);t?this.XO(t):this.GO||this.YO||this.Sm()}catch(t){this.jO()}},n.XO=function(t){if(this.YO)throw new h("Request has been redirected or a response already exists");if(ft(t))this.KO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new os;try{var r=t(function(t){t?n.gc(t):n.yc(void 0)});ft(r)&&n.yc(r)}catch(t){n.gc(t)}this.KO(n.wc)}},n.KO=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.qO++,t.next=4,n;case 4:this.qO--,this.GO||this.YO||(this.UO.length?this.jO():this.Sm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.qO--,this.UO.push(t.t0),this.GO||this.YO||this.jO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),H(t,[{key:"JO",get:function(){return this.BO.wc}},{key:"zd",get:function(){return this.$d||(this.$d=this.QO()),this.$d}},{key:"YO",get:function(){return this.VO}},{key:"WO",get:function(){return!this.VO}},{key:"GO",get:function(){return this.qO>0}},{key:"Wv",get:function(){return this.Hv}}]),t}(),Mb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).ZO=i,e.zO(),e}W(n,t),n.tx=function(t,n,r){var i=void 0===t.body?r:t.body;return new Of({Iu:i,sv:n.sv,iv:n.sv.iv,rv:t.headers,nv:t.status,ev:t.statusText,ov:t.url,uv:!0},n)};var r=n.prototype;return r.QO=function(){return r=Rb((t=this).sv),{get closed(){return!t.WO},get request(){return r},get url(){return t.cv},get status(){return t.nv},get statusText(){return t.ev},get headers(){return n||(n=t.rv.Rf()),n},get body(){return t.Wh},respondWith:function(n){return t.HO(n)},waitUntil:function(n){return t.XO(n)}};var t,n,r},r.$O=function(t){return n.tx(t,this.FO,this.ZO)},H(n,[{key:"Wh",get:function(){return this.ZO}},{key:"rv",get:function(){return this.FO.rv}},{key:"sv",get:function(){return this.FO.sv}},{key:"Wv",get:function(){return this.Hv}},{key:"nv",get:function(){return this.FO.nv}},{key:"ev",get:function(){return this.FO.ev}},{key:"cv",get:function(){return this.FO.ov}}]),n}(Fb),Bb=function(t){function n(n,r,i){var e;return(e=t.call(this,n,r)||this).nx=void 0,e.ix=i,e.zO(),e}W(n,t);var r=n.prototype;return r.QO=function(){return t=this,{get url(){return t.cv},get method(){return t.Sv},get headers(){return n||(n=t.rv.Rf()),n},get body(){return t.Wh},get closed(){return!t.WO},get useCredentials(){return t.Dv},get type(){return Ab(t.ro)},get subType(){return xb(t.Iv)},get mediaType(){return Lb(t.Cv)},get responseType(){return Cb(t.iv)},redirect:function(n){return t.ex(n)},respondWith:function(n){return t.HO(n)},waitUntil:function(n){return t.XO(n)}};var t,n},r.$O=function(t){var n=this.FO.Wh,r=new Of({Iu:n,rv:{},sv:this.FO,ov:this.FO.cv,iv:this.FO.iv,nv:200,ev:"OK"});return Mb.tx(t,r,n)},r.ex=function(t){if(!this.WO)throw new v("Cannot redirect, already redirected or has a response");var n;n=ct(t)?{url:t}:t,this.nx=function(t,n){return new xf({cv:void 0===t.url?n.cv:t.url,Sv:void 0!==t.method?Db(t.method):void 0,rv:t.headers,Wh:t.body,Dv:t.useCredentials,ro:void 0!==t.type?Nb(t.type):void 0,Iv:void 0!==t.subType?Ob(t.subType):void 0,Cv:void 0!==t.mediaType?Pb(t.mediaType):void 0,iv:void 0!==t.responseType?Ib(t.responseType):void 0},n)}(n,this.FO),this.Sm()},H(n,[{key:"Wh",get:function(){return this.FO.Wh}},{key:"WO",get:function(){return this.ix&&!this.VO}},{key:"rv",get:function(){return this.FO.rv}},{key:"Sv",get:function(){return this.FO.Sv}},{key:"ux",get:function(){return this.nx}},{key:"Wv",get:function(){return this.Hv}},{key:"iv",get:function(){return this.FO.iv}},{key:"Rv",get:function(){return this.FO.Rv}},{key:"Co",get:function(){return this.FO.Co}},{key:"ro",get:function(){return this.FO.ro}},{key:"Iv",get:function(){return this.FO.Iv}},{key:"Cv",get:function(){return this.FO.Cv}},{key:"cv",get:function(){return this.FO.cv}},{key:"Dv",get:function(){return this.FO.Dv}},{key:"Nv",get:function(){return this.FO.Nv}}]),n}(Fb);var Ub,Vb=function(t){function n(n,r){var i;void 0===r&&(r=!0);var e=new qb(n);return(i=t.call(this,e,r)||this).sx=e,i}W(n,t);var r=n.prototype;return r.ox=function(t){this.sx.ox(t)},r.ax=function(t){this.sx.ax(t)},r.hx=function(t){this.sx.hx(t)},r.vx=function(t){this.sx.vx(t)},r.lx=function(t){this.sx.lx(t)},n}(Ff),qb=function(){function t(t){this.wx=[],this.yx=[],this.Ov=t}var n=t.prototype;return n.sv=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.gx(n,n.Co);case 3:r=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Mf)){t.next=12;break}return t.next=11,this._x(t.t0,n.Co);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.mx(r,n.Co);case 15:if(!If(r=t.sent)){t.next=20;break}return t.abrupt("return",r);case 20:throw new Uf(r);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Av=function(t){return this.Ov.Av(t)},n.gx=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Me(r),i=n,u=0,s=this.wx.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],Me(r),(c=new Bb(i,o,!e)).YO){t.next=17;break}return t.prev=8,t.next=11,c.JO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.ux&&!e?i=c.ux:c.Wv&&!e&&(e=c.Wv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Ov.sv(i));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,r){return t.apply(this,arguments)}}(),n._x=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n instanceof Uf?n.Wv:new Of({Iu:null,sv:n.sv,nv:0,ev:""}),t.next=3,this.mx(i,r);case 3:if((e=t.sent)!==i){t.next=8;break}throw n;case 8:if(!If(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Uf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.mx=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n,e=0,u=this.yx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],Me(r),t.next=7,C.resolve(i.fc().Iu(r));case 7:if(o=t.sent,(c=new Mb(i,s,o)).YO){t.next=19;break}return t.prev=10,t.next=13,c.JO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:i=c.Wv||i;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",i);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,r){return t.apply(this,arguments)}}(),n.ox=function(t){this.wx.unshift(t)},n.ax=function(t){this.wx.push(t)},n.hx=function(t){De(this.wx,t)},n.vx=function(t){this.yx.unshift(t)},n.lx=function(t){De(this.yx,t)},n.fi=function(){this.Ov.fi(),Oe(this.wx),Oe(this.yx)},t}(),jb=function(t){function n(n,r,i){var e;return(e=t.call(this,r)||this).kx=n,e.TT=r,e.hD=i,e.kx.Po(Qs.rf,e.Ao),e.kx.Po(Qs.nf,e.Ao),e}W(n,t);var r=n.prototype;return r.bx=function(t){this.hD.bx(t)},r.ox=function(t){this.TT.ox(t)},r.hx=function(t){this.TT.hx(t)},r.vx=function(t){this.TT.vx(t)},r.lx=function(t){this.TT.lx(t)},r.fi=function(){this.Mo(),this.kx.Bo(Qs.rf,this.Ao),this.kx.Bo(Qs.nf,this.Ao)},H(n,[{key:"zd",get:function(){var t;return this.$d||(this.$d=(t=this,{get online(){return t.Uy},get estimator(){return n=t.Tx,{get bandwidth(){return n.$R},get roundTripTime(){return n.zR}};var n},setEstimator:function(n){t.bx(function(t){if(t)return{get $R(){return Bv(t.bandwidth)},get zR(){return Bv(t.roundTripTime)},WR:function(n){return function(t){if(t)return{Ex:function(n){t.markRequestStart(n)},Sx:function(n){t.markResponseStart(n)},Rx:function(n,r){t.markResponseData(n,r)},Ix:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(Rb(n)))}}}(n))},addRequestInterceptor:function(n){t.ox(n)},removeRequestInterceptor:function(n){t.hx(n)},addResponseInterceptor:function(n){t.vx(n)},removeResponseInterceptor:function(n){t.lx(n)},addEventListener:function(n,r){t.Po(n,r)},removeEventListener:function(n,r){t.Bo(n,r)}})),this.$d}},{key:"Uy",get:function(){return this.kx.Uy}},{key:"Tx",get:function(){return this.hD.Tx}}]),n}(rd);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Ub||(Ub={}));var Hb=30,Wb={type:Ub.BANDWIDTH},$b=20,zb=60;function Xb(t){var n,r,i,e=Ov(Wb);return ct(t)?e.type=Gb(t):st(t)&&function(t){switch(t){case Ub.PERFORMANCE:case Ub.QUALITY:case Ub.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Gb(t.type)),st(t)&&st(t.metadata)&&(e.metadata=(n=t.metadata,r={},i=Mv(n.bitrate),g(i)||(r.bitrate=i),r)),e}function Gb(t){switch(t){case"bandwidth":return Ub.BANDWIDTH;case"performance":return Ub.PERFORMANCE;case"quality":return Ub.QUALITY}}var Yb=function(t){function n(n){var r;return(r=t.call(this,"Dx")||this).Cx=n,r}return W(n,t),n}(Qe),Kb=function(t){function n(n){var r;return(r=t.call(this,"Ax")||this).Nx=n,r}return W(n,t),n}(Qe),Jb=function(t){function n(n){var r;return(r=t.call(this,"xx")||this).Ox=n,r}return W(n,t),n}(Qe),Qb=function(t){function n(){var n,r;return(n=t.apply(this,arguments)||this).$d=(r=rn(n),{get strategy(){return{metadata:(t=r.Nx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){r.Nx=Xb(t)},get targetBuffer(){return r.Cx},set targetBuffer(t){var n=Mv(t);g(n)||(r.Cx=n>zb?zb:n)},get bufferLookbackWindow(){return r.Ox},set bufferLookbackWindow(t){var n=Mv(t);g(n)||(r.Ox=n<=0?Hb:n)}}),n.Px=Wb,n.Lx=$b,n.Fx=Hb,n.Mx=void 0,n}W(n,t);var r=n.prototype;return r.ZT=function(t){this.Bx=t},r.bx=function(t){this.Mx=t},H(n,[{key:"Ux",get:function(){switch(this.Px.type){case Ub.PERFORMANCE:return 0;case Ub.QUALITY:return 1/0;case Ub.BANDWIDTH:return this.Px.metadata&&void 0!==this.Px.metadata.bitrate?this.Px.metadata.bitrate:8*sd.aw();default:return 8*sd.aw()}}},{key:"zd",get:function(){return this.$d}},{key:"Nx",get:function(){return this.Px},set:function(t){this.Px=t,this.Oo(new Kb(t))}},{key:"Cx",get:function(){return this.Lx},set:function(t){this.Lx=t,this.Oo(new Yb(t))}},{key:"Ox",get:function(){return this.Fx},set:function(t){this.Fx=t,this.Oo(new Jb(t))}},{key:"Tx",get:function(){var t;return null!==(t=this.Mx)&&void 0!==t?t:this.Bx.BI}}]),n}(Ke),Zb=function(t){function n(){return t.call(this,"cl")||this}return W(n,t),n.prototype.Xd=function(){return new tT},n}(gv),tT=function(t){function n(){return t.call(this,"change")||this}return W(n,t),n}(Qe),nT=function(t){function n(n,r){var i;return(i=t.call(this,r)||this).Vx=function(t){var n;n=t,Boolean(n&&n.zd)&&He(function(){i.Oo(t.zd)})},i.qx=n,i.qx.Fo(i.Vx),i}return W(n,t),n.prototype.fi=function(){this.Mo(),this.qx.qo(this.Vx)},n}(rd),rT=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(nT);var iT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).yg=0,n.gg=1/0,n}W(n,t);var r=n.prototype;return r.Tl=function(){0===this.yg&&this.gg===1/0||(this.yg=0,this.gg=1/0,this.Oo(new Zb))},r.jx=function(){return new cm([this.ag,this.fg],[!0,!0])},H(n,[{key:"ag",get:function(){return this.yg},set:function(t){if(this.fg<=t)throw new h("Start time of a clip should be smaller than the end time.");this.yg!==t&&(this.yg=t,this.Oo(new Zb))}},{key:"fg",get:function(){return this.gg},set:function(t){if(t<=this.ag)throw new h("End time of a clip should be larger than the start time.");this.gg!==t&&(this.gg=t,this.Oo(new Zb))}},{key:"zd",get:function(){var t,n,r;return this.$d||(this.$d=(r={get startTime(){return t.ag},set startTime(n){t.ag=n},get endTime(){return t.fg},set endTime(n){t.fg=n},addEventListener:function(t,r){n.Po(t,r)},removeEventListener:function(t,r){n.Bo(t,r)}},n=new nT(t=this,r),r)),this.$d}}]),n}(rd),eT=function(t){function n(n){var r;return(r=t.call(this)||this).Hx=n,r.Wx=function(t){r.$x(t)||r.Oo(t)},r.Hx.Fo(r.Wx),r}W(n,t);var r=n.prototype;return r.zx=function(){return this.Hx.ey},r.Ty=function(){return this.Hx.Ty()},r.Xx=function(){return this.Hx.Dy},r.Gx=function(){return this.Hx.Iy},r.Yx=function(){return this.Hx.Ny},r.Kx=function(t){this.Hx.Ny=t},r.Jx=function(){return this.Hx.Nw},r.Qx=function(t){this.Hx.Nw=t},r.Zx=function(){return this.Hx.Aw},r.tP=function(){return this.Hx.Ay},r.nP=function(){return this.Hx.Ow},r.rP=function(){return this.Hx.Go},r.iP=function(){return this.Hx.xw},r.eP=function(){return this.Hx.Oy},r.uP=function(){return this.Hx.Pw},r.sP=function(t){this.Hx.Pw=t},r.oP=function(){return this.Hx.Uy},r.cP=function(){return this.Hx.Lw},r.aP=function(){return this.Hx.Fw},r.fP=function(t){this.Hx.Fw=t},r.hP=function(){return this.Hx.Vy},r.vP=function(){return this.Hx.qy},r.dP=function(t){this.Hx.qy=t},r.lP=function(){return this.Hx.Gl},r.wP=function(){return this.Hx.jy},r.yP=function(){return this.Hx.Mw},r.hy=function(){return this.Hx.hy()},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(r),t.next=3,this.Hx.vy(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.gP=function(){return this.Hx.sy},r._P=function(){return this.Hx.Bw},r.pP=function(){return this.Hx.uy},r.mP=function(){return this.Hx.Uw},r.kP=function(){return this.Hx.Vw},r.bP=function(t){this.Hx.Vw=t},r.by=function(){return this.Hx.by()},r.ky=function(){return this.Hx.ky()},r.gy=function(t){this.Hx.gy(t)},r._y=function(){this.Hx._y()},r.my=function(){this.Hx.my()},r.di=function(){this.Hx.di()},r.ui=function(){this.Hx.ui()},r.ei=function(){this.Hx.ei()},r.py=function(){this.Hx.py()},r.ay=function(){return this.Hx.ay()},r.ly=function(){return this.Hx.ly()},r.wy=function(){this.Hx.wy()},r.yy=function(){this.Hx.yy()},r.Tl=function(){return this.Hx.Tl()},r.fi=function(){return this.Hx.fi()},r.Cy=function(){this.Hx.Cy()},r.Ey=function(t){return this.Hx.Ey(t)},r.$x=function(t){return!1},H(n,[{key:"ey",get:function(){return this.zx()}},{key:"Dy",get:function(){return this.Xx()}},{key:"Ny",get:function(){return this.Yx()},set:function(t){this.Kx(t)}},{key:"Iy",get:function(){return this.Gx()}},{key:"Nw",get:function(){return this.Jx()},set:function(t){this.Qx(t)}},{key:"Aw",get:function(){return this.Zx()}},{key:"Ay",get:function(){return this.tP()}},{key:"Ow",get:function(){return this.nP()}},{key:"Go",get:function(){return this.rP()}},{key:"xw",get:function(){return this.iP()}},{key:"oy",get:function(){return this.Hx.oy}},{key:"Oy",get:function(){return this.eP()}},{key:"Gw",get:function(){return this.Hx.Gw}},{key:"Pw",get:function(){return this.uP()},set:function(t){this.sP(t)}},{key:"Uy",get:function(){return this.oP()}},{key:"Lw",get:function(){return this.cP()}},{key:"Fw",get:function(){return this.aP()},set:function(t){this.fP(t)}},{key:"Vy",get:function(){return this.hP()}},{key:"qy",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"Gl",get:function(){return this.lP()}},{key:"jy",get:function(){return this.wP()}},{key:"Mw",get:function(){return this.yP()}},{key:"sy",get:function(){return this.gP()}},{key:"Bw",get:function(){return this._P()}},{key:"uy",get:function(){return this.pP()}},{key:"Uw",get:function(){return this.mP()}},{key:"Vw",get:function(){return this.kP()},set:function(t){this.bP(t)}}]),n}(id),uT=function(t){function n(r,i){var e;return(e=t.call(this,r)||this).TP=!1,e.EP=void 0,e.SP=!1,e.RP=function(){e.IP(),e.CP()},e.QR=function(){e.DP(),e.CP(),e.NP&&e.Nw>=e.AP.fg-n.OP&&!e.Ow&&(e.EP=db(e.QR))},e.xP=function(){e.SP=!0},e.PP=function(){e.SP&&(e.SP=!1,e.CP())},e.AP=i,e.AP.Po("cl",e.RP),e.Hx.Po("timeupdate",e.QR),e}W(n,t);var r=n.prototype;return r.Qx=function(n){var r=this.AP.jx().RC(n);t.prototype.Qx.call(this,r),this.CP()},r.nP=function(){return t.prototype.nP.call(this)||this.TP},r.wP=function(){return cm.JC(t.prototype.wP.call(this)).DC(this.AP.jx()).xI()},r.ei=function(){this.nP()?this.Qx(this.LP.start(0)):this.IP(),t.prototype.ei.call(this),this.CP()},r.vy=function(){var n=C.coroutine(Qi.mark(function n(r,i){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Me(i),this.TP=!1,this.AP.Tl(),n.next=5,t.prototype.vy.call(this,r,i);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),r.fi=function(){return this.AP.Bo("cl",this.RP),this.Hx.Bo("timeupdate",this.QR),this.DP(),t.prototype.fi.call(this)},r.$x=function(n){switch(n.type){case"seeking":return this.Oo(n),this.xP(),!0;case"seeked":case"emptied":return this.Oo(n),this.PP(),!0;case"ended":if(this.NP)return!0}return t.prototype.$x.call(this,n)},r.DP=function(){this.EP&&(lb(this.EP),this.EP=void 0)},r.CP=function(){var t=this.Nw,r=this.NP&&t>=this.AP.fg-n.j_;this.TP&&!r?(this.TP=!1,this.Lw&&this.ei()):this.TP||!r||this.Mw||this.SP||(this.TP=!0,this.Oo(new Md(t)),this.ui())},r.IP=function(){if(this.Aw!==1/0){var t=this.LP,r=cm.JC(t).RC(this.Nw);Kt(this.Nw,r,n.j_)||this.Qx(r)}},H(n,[{key:"LP",get:function(){return this.wP().length?this.wP():this.AP.jx().xI()}},{key:"NP",get:function(){return this.AP.fg<this.Aw}}]),n}(eT);uT.OP=1,uT.j_=.001;var sT=function(){function t(){this.FP=!1}return H(t,[{key:"MP",get:function(){return this.FP},set:function(t){this.FP=t}}]),t}(),oT=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).BP=!1,i.UP=!1,i.FP=r,i}W(n,t);var r=n.prototype;return r.nP=function(){return!this.FP.MP&&t.prototype.nP.call(this)},r.ui=function(){this.UP=!0,t.prototype.ui.call(this)},r.ei=function(){this.UP=!1,t.prototype.ei.call(this)},r.$x=function(n){if(this.FP.MP)switch(n.type){case"ended":return this.Nw=0,this.UP||(this.Mw?this.BP=!0:this.ei()),!0;case"seeked":this.BP&&(this.BP=!1,this.ei());break;case"pause":if(this.BP||t.prototype.nP.call(this))return!0}return t.prototype.$x.call(this,n)},n}(eT);var cT=function(){function t(t){var n;this.aC=t,this.$d=(n=this,{get currentBandwidthEstimate(){return n.Fy},get corruptedVideoFrames(){return n.Py},get droppedVideoFrames(){return n.xy},get totalBytesLoaded(){return n.My},get bufferedSegments(){return n.By}})}return H(t,[{key:"zd",get:function(){return this.$d}},{key:"Py",get:function(){return this.aC.VP.Gw.Py}},{key:"Fy",get:function(){return this.aC.VP.Gw.Fy}},{key:"xy",get:function(){return this.aC.VP.Gw.xy}},{key:"qP",get:function(){throw new h("Not implemented")}},{key:"jP",get:function(){throw new h("Not implemented")}},{key:"My",get:function(){return this.aC.VP.Gw.My}},{key:"Ly",get:function(){return this.aC.VP.Gw.Ly}},{key:"By",get:function(){return this.aC.VP.Gw.By}}]),t}(),aT=function(t){function n(){return t.call(this,"HP")||this}return W(n,t),n.prototype.Xd=function(){return new fT},n}(gv),fT=function(t){function n(){return t.call(this,"castingchange")||this}return W(n,t),n}(Qe);var hT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).WP=[],n.$d=void 0,n.$P=function(){return n.Oo(new aT)},n}W(n,t);var r=n.prototype;return r.zP=function(t){this.WP.push(t),t.Po("statechange",this.$P)},r.fi=function(){var t=this;this.WP.forEach(function(n){n.Bo("statechange",t.$P)}),Oe(this.WP)},H(n,[{key:"XP",get:function(){return this.WP.some(function(t){return t.XP})}},{key:"zd",get:function(){var t,n,r;return this.$d||(this.$d=(r={get casting(){return t.XP},addEventListener:function(t,r){n.Po(t,r)},removeEventListener:function(t,r){n.Bo(t,r)}},n=new rT(t=this,r),r)),this.$d}}]),n}(id),vT=function(){function t(){}return t.GP=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new xf({cv:n,iv:Zs.Qe,Sv:Cf.GET}),t.next=4,r.sv(i);case 4:return e=t.sent,t.next=7,e.Iu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Fe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,r){return t.apply(this,arguments)}}(),t.YP=function(t){try{var r=Sk(t);return new Ak(r.key,r.domains_page,r.domains_source,r.expiration_date,r.customer_id,r.generation_date,r.sdks,r.send_impression)}catch(t){throw new Os(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.KP=function(t){void 0===t&&(t=$k._p),N._s("The baked-in license is used. Please update the configuration with your license.");var n=t.UN(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.UN(n)}),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.UN(n)}),e=Number(new Date(Number(t.UN("COD|aHpHa:p3Ceo3Co\"\""))));return new Ak(n,r,i,e)},t.convertLicenseToDummyLicense=function(t){return new Ak(t.XN,t.GN,t.YN,864e13,t.JN,Date.now(),t.ZN,t.tA)},t}(),dT=function(){function t(){}return t.Ba=function(){return t.Xe||(t.Xe=lT.Jc()?new lT:new Xs),t.Xe},t.uc=function(n){t.Ba().uc(n)},t.Fa=function(){t.Ba().Fa()},t.rc=function(n){return t.Ba().rc(n)},t.Ma=function(n,r){t.Ba().Ma(n,r)},t.JP=function(n){var r=t.rc(n);if(void 0!==r)return y(r)},t.QP=function(n){return"true"===t.rc(n)},t}();dT.Xe=void 0;var lT=function(n){function r(){return n.apply(this,arguments)||this}W(r,n),r.Jc=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var i=r.prototype;return i.uc=function(n){t.localStorage.removeItem(n)},i.Fa=function(){t.localStorage.clear()},i.rc=function(n){return t.localStorage[n]},i.Ma=function(n,r){t.localStorage[n]=r},r}(dT),wT=l.floor(14399999*l.random()-72e5),yT=function(){function t(t,n,r,i,e,u){this.TT=t,this.ZP=n,this.tL=r,this.xA=i,this.nL=e,this.uA=u,this.sA=Bk(u)}var r=t.prototype;return r.rL=function(){var t=C.coroutine(Qi.mark(function t(){var n;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iL(this.nL.license,this.nL.licenseUrl);case 2:n=t.sent,this.xA.eL(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.iL=function(){var t=C.coroutine(Qi.mark(function t(r,i){var e,u,s,o,c,a,f,h;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i,r?u=vT.YP(r):e||(u=vT.KP()),e||(e="https://validate.theoplayer.com/1/"+u.XN),s=this.uL(),!u){t.next=14;break}if((o=this.ZP.fA(u))!==Ik.WN){t.next=14;break}if(!this.sL(u.KN)||!this.sL(null==s?void 0:s.KN)){t.next=13;break}return t.next=10,this.oL(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this.ZP.fA(s)!==Ik.WN){t.next=24;break}if(!this.sL(null==s?void 0:s.KN)){t.next=23;break}return t.next=20,this.oL(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",s);case 24:dT.uc("THEOplayer.license");case 25:return t.next=27,vT.GP(e,this.TT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=vT.YP(f),this.ZP.fA(h)!==Ik.WN){t.next=34;break}return dT.Ma("THEOplayer.license",f),t.abrupt("return",h);case 34:dT.uc("THEOplayer.license"),t.next=39;break;case 37:if(this.sA||!u||o!==Ik.$N||e!=="https://validate.theoplayer.com/1/"+u.XN){t.next=39;break}return t.abrupt("return",vT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.cL(null!=u?u:h,new Os(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Os(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.oA=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xA.zA();case 2:if(i=t.sent,!this.sL(i.KN)){t.next=9;break}return e=null!==(r=this.nL.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+i.XN,t.next=7,this.oL(e);case 7:(u=t.sent)&&(this.xA.eL(u),i=u);case 9:if(t.prev=9,(s=this.ZP.fA(i))!==Ik.zN){t.next=16;break}throw o=Nk.nA,new Os(xk(o),Vk.aA(o));case 16:if(s!==Ik.$N){t.next=19;break}throw c=Nk.$N,new Os(xk(c),Vk.aA(c));case 19:this.ZP.oA(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.aL(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),r.oL=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vT.GP(n,this.TT);case 3:if(void 0!==(r=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(i=vT.YP(r),this.ZP.fA(i)!==Ik.WN){t.next=11;break}return dT.Ma("THEOplayer.license",r),t.abrupt("return",i);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),r.sL=function(t){return!t||Number(new Date)+2592e5+wT>=t},r.uL=function(){var t=dT.rc("THEOplayer.license");if(t)return vT.YP(t)},r.cL=function(t,n){this.xA.eL(t),this.aL(n)},r.aL=function(t){throw mt(t.message),this.tL.YA(t.message),t},t}(),gT=function(){function t(){this.fL=new os}var n=t.prototype;return n.eL=function(t){this.hL=t,this.fL.yc()},n.zA=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hL){t.next=2;break}return t.abrupt("return",C.resolve(this.hL));case 2:return t.next=4,this.fL.wc;case 4:return t.abrupt("return",this.hL);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(t,[{key:"vL",get:function(){return this.hL}}]),t}(),_T=function(t){function n(){return t.call(this,"cl")||this}return W(n,t),n.prototype.Xd=function(){return new pT},n}(gv),pT=function(t){function n(){return t.call(this,"change")||this}return W(n,t),n}(Qe);var mT,kT,bT={dL:void 0,lL:void 0,wL:void 0,yL:void 0,gL:void 0,_L:void 0},TT="THEOplayer.textTrackStyle.",ET=function(t){function n(){var r;return(r=t.call(this)||this).$d=void 0,r.pL=n.mL(),r}return W(n,t),n.prototype.Pc=function(t){this.pL=Zi(Zi({},this.pL),t),n.kL(this.pL),this.Oo(new _T)},n.mL=function(){var t=Zi({},bT);return t.dL=dT.rc(TT+"fontFamily")||t.dL,t.lL=dT.rc(TT+"fontColor")||t.lL,t.wL=dT.rc(TT+"fontSize")||t.wL,t.yL=dT.rc(TT+"backgroundColor")||t.yL,t.gL=dT.rc(TT+"windowColor")||t.gL,t._L=dT.rc(TT+"edgeStyle")||t._L,t},n.kL=function(t){dT.Ma(TT+"fontFamily",t.dL||""),dT.Ma(TT+"fontColor",t.lL||""),dT.Ma(TT+"fontSize",t.wL||""),dT.Ma(TT+"backgroundColor",t.yL||""),dT.Ma(TT+"windowColor",t.gL||""),dT.Ma(TT+"edgeStyle",t._L||"")},H(n,[{key:"bL",get:function(){return this.pL}},{key:"dL",get:function(){return this.pL.dL},set:function(t){this.Pc({dL:t})}},{key:"lL",get:function(){return this.pL.lL},set:function(t){this.Pc({lL:t})}},{key:"wL",get:function(){return this.pL.wL},set:function(t){this.Pc({wL:t})}},{key:"yL",get:function(){return this.pL.yL},set:function(t){this.Pc({yL:t})}},{key:"gL",get:function(){return this.pL.gL},set:function(t){this.Pc({gL:t})}},{key:"_L",get:function(){return this.pL._L},set:function(t){this.Pc({_L:t})}},{key:"zd",get:function(){var t,n,r;return this.$d||(this.$d=(t=this,r={get fontFamily(){return t.dL},set fontFamily(n){t.dL=n},get fontColor(){return t.lL},set fontColor(n){t.lL=n},get fontSize(){return t.wL},set fontSize(n){t.wL=n},get backgroundColor(){return t.yL},set backgroundColor(n){t.yL=n},get windowColor(){return t.gL},set windowColor(n){t.gL=n},get edgeStyle(){return t._L},set edgeStyle(n){t._L=n},addEventListener:function(t,r){var i=Vv(t,Uv);n.Po(i,r)},removeEventListener:function(t,r){var i=Vv(t,Uv);n.Bo(i,r)}},n=new Je(r),t.Po(["cl"],function(t){return n.Oo(t.zd)}),r)),this.$d}}]),n}(Ke),ST=function(t){function n(n,r){var i;(i=t.call(this)||this).TL=!1,i.Kw=!1,i.EL=!1,i.SL=function(t){if(!i.EL){i.EL=!0;var n=i.RL,r=al(t);i.VP.Al=new lm(i.Ay,r,t),We(n.fi())}},i.IL=function(t){i.Oo(t.zd)},i.CL=function(t){t.type!==Qs.rf&&t.type!==Qs.nf&&i.Oo(t)};var e=Mv(r.uid);g(e)?i.Gy=gl++:i.Gy=e,i.Qk=r;var u=N.Vd,s=new gT;i.DL=new rb("2.86.1",u,s),i.Vd=new Vb(u,r.allowMixedContent),i.hD=new Qb,i.ZP=new Ok(r.isEmbeddable,"2.86.1",Rk()),i.NL=new yT(u,i.ZP,i.DL,s,r,Rk()),i.NL.rL().catch(i.SL),i.AL=new bb(n),i.AL.Po("iO",i.IL),i.vD=new ET,i.AP=new iT,i.FP=new sT;var o=new dm(n,r,i.Vd,i.hD,i.AL,i.vD);i.hD.ZT(o);var c=o;c=new uT(c,i.OL),c=new oT(c,i.MP),i.RL=c,i.VP=new ul(i.RL),i.VP.Fo(i.CL),i.xL=new cT(rn(i)),i.PL=new jb(i.VP,i.Vd,i.hD),i.LL=new ub(rn(i)),i.FL=new Sb(i.VP,r.allowNativeFullscreen),i.ML=new xm(i.FL),i.AL.Hc();var a=new b(i.AL,i.vD,1,[fl.Tv]);return i.BL=new T(a),i.UL=new hT,i}W(n,t);var r=n.prototype;return r.sP=function(t){this.VP.Pw=t,t||this.Lw||this.di()},r.bP=function(t){this.VP.Vw=t},r.VL=function(){Yd(this,Pm,this)},r.ei=function(){this.VP.ei()},r.ui=function(){this.VP.ui()},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.NL.oA(n).catch(this.SL),i=RT(n),t.next=5,this.VP.vy(i,r);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.di=function(){this.Kw||(this.VP.di(),this.BL.di(),this.Kw=!0)},r.rD=function(){return this.ML.BD()===Cm.FULLSCREEN},r.py=function(){this.VP.py()},r.my=function(){this.VP.my()},r.ky=function(){return this.VP.ky()},r.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.VP.ay();case 2:return t.next=4,this.VP.Tl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.UL.fi(),this.Vd.fi(),this.PL.fi(),this.FL.fi(),this.ML.fi(),this.AL.fi(),this.DL.fi(),this.BL.fi(),t.next=11,this.VP.fi();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(n,[{key:"qL",get:function(){return this.hD}},{key:"ny",get:function(){return this.TL},set:function(t){this.TL=t,this.VP.ny=t}},{key:"jL",get:function(){return this.BL}},{key:"ey",get:function(){return this.VP.ey}},{key:"HL",get:function(){return this.UL}},{key:"WL",get:function(){return this.AL}},{key:"oy",get:function(){return this.VP.oy}},{key:"Gw",get:function(){return this.xL}},{key:"$L",get:function(){return this.PL}},{key:"sy",get:function(){return this.VP.sy}},{key:"zL",get:function(){return this.vD}},{key:"uy",get:function(){return this.VP.uy}},{key:"Dy",get:function(){return this.VP.Dy}},{key:"OL",get:function(){return this.AP}},{key:"MP",get:function(){return this.FP}},{key:"Nw",get:function(){return this.VP.Nw},set:function(t){this.VP.Nw=t}},{key:"Ny",get:function(){return this.VP.Ny},set:function(t){this.VP.Ny=t}},{key:"Iy",get:function(){return this.VP.Iy}},{key:"Aw",get:function(){return this.VP.Aw}},{key:"Ay",get:function(){return this.VP.Ay}},{key:"Ow",get:function(){return this.VP.Ow}},{key:"Go",get:function(){return this.VP.Go}},{key:"xw",get:function(){return this.VP.xw}},{key:"Pw",get:function(){return this.VP.Pw},set:function(t){var n=Boolean(t);this.sP(n)}},{key:"Lw",get:function(){return this.VP.Lw}},{key:"Fw",get:function(){return this.VP.Fw},set:function(t){this.VP.Fw=t}},{key:"Vy",get:function(){return this.VP.Vy}},{key:"qy",get:function(){return this.VP.qy},set:function(t){this.VP.qy=rm(t)}},{key:"Gl",get:function(){return this.VP.Gl}},{key:"jy",get:function(){return this.VP.jy}},{key:"Mw",get:function(){return this.VP.Mw}},{key:"Fl",get:function(){return this.Gy}},{key:"Bw",get:function(){return this.VP.Bw}},{key:"Uw",get:function(){return this.VP.Uw}},{key:"Vw",get:function(){return this.VP.Vw},set:function(t){var n=Yt(Number(t),0,1)||0;this.bP(n)}}]),n}(id);function RT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.XL=0]="XL",t[t.GL=1]="GL"}(mT||(mT={})),function(t){t[t.YL=0]="YL"}(kT||(kT={}));var IT={};function CT(t,n){var r=t;if(IT[n])for(var i=0,e=IT[n];i<e.length;i++){r=(0,e[i])(r)}return r}var DT=[];function NT(t){DT.push(t)}var AT=t.CustomEvent;var OT=function(){try{var t=new AT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var r=e.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r},xT=function(){function t(t,n){var r=this;this.KL=!1,this.JL=function(t){r.QL.GA(t.error,r.Nw)},this.ZL=function(){r.QL.$A(r.tF),r.aC.removeEventListener("playing",r.ZL),r.KL=!1},this.nF=function(){r.KL||(r.aC.addEventListener("playing",r.ZL),r.KL=!0)},this.QL=n,this.aC=t,this.aC.addEventListener("error",this.JL),this.aC.addEventListener("sourcechange",this.nF),this.nF()}return t.prototype.Tl=function(){},H(t,[{key:"Nw",get:function(){var t=this.aC.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"tF",get:function(){return this.aC.src||""}}]),t}();NT(function(t){new xT(t.zd,t.DL)});var PT,LT,FT="theoplayer-stored-volume",MT="theoplayer-stored-mutedstate";PT=function(t){return function(t){function n(n,r){var i;if(i=t.call(this,n,r)||this,r.persistVolume){var e=dT.JP(FT);(void 0===e||g(e))&&(e=1);var u=dT.QP(MT)||!1;i.Vw=e,i.Pw=u}return i}W(n,t);var r=n.prototype;return r.sP=function(n){this.Qk.persistVolume&&dT.Ma(MT,n),t.prototype.sP.call(this,n)},r.bP=function(n){this.Qk.persistVolume&&dT.Ma(FT,n),t.prototype.bP.call(this,n)},n}(t)},LT=mT.GL,(IT[LT]||(IT[LT]=[])).push(PT);var BT=new(function(){function t(){this.rF=[],this.$d=void 0}var n=t.prototype;return n.pl=function(t){return this.rF[t]},n.iF=function(t){this.rF.push(t),this.zd.push(t.zd)},n.xc=function(t){var n=this.rF.indexOf(t);n<0||(Ne(this.rF,n),this.$d&&Ne(this.$d,n))},n.eF=function(t){for(var n=0,r=this.rF;n<r.length;n++){var i=r[n];if(i.Fl===t)return i}},H(t,[{key:"Sl",get:function(){return this.rF.length}},{key:"zd",get:function(){return this.$d||(this.$d=function(t){for(var n=[],r=0;r<t.Sl;r++)n[r]=t.pl(r).zd;return n.getPlayerByUID=function(n){var r=t.eF(n);return r&&r.zd},n}(this)),this.$d}}]),t}());var UT,VT=function(t){function n(n){var r;return(r=t.call(this,Qs.gf)||this).source=n,r}return W(n,t),n}(Qe),qT=function(t){function n(){var n;return(n=t.call(this)||this).eD=0,n.sD=!0,n.cD=!1,n.oD=1,n}W(n,t);var r=n.prototype;return r.ei=function(){this.sD&&(this.sD=!1,this.Oo(new Nd(this.Nw)),this.Oo(new Bp(this.Nw)))},r.ui=function(){this.sD||(this.sD=!0,this.Oo(new Fd(this.Nw,this.Ny)),this.Oo(new Dd(this.Nw)))},r.Tl=function(){this.eD=0,this.cD=!1,this.oD=1,this.ui(),this.Oo(new Cd(this.eD))},r.fi=function(){this.Mo()},r.my=function(){},r.py=function(){},H(n,[{key:"Ny",get:function(){},set:function(t){}},{key:"Nw",get:function(){return this.eD},set:function(t){this.cD&&this.eD===t||(this.eD=t,this.cD=!0,this.Oo(new Ud(this.Nw)))}},{key:"Lw",get:function(){return this.sD}},{key:"Fw",get:function(){return this.oD},set:function(t){this.oD!==t&&(this.oD=t,this.Oo(new Ld(this.Nw,this.Fw)))}},{key:"Gl",get:function(){return vd.pw}},{key:"Mw",get:function(){return this.cD}}]),n}(rd),jT=function(t){function n(){return t.call(this,Qs.za)||this}return W(n,t),n}(Qe),HT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},WT={visibility:"hidden"},$T={visibility:"visible"},zT=function(){function t(t){var n,r=this;this.uF=!1,this.sF=function(t){r.uF=!1,r.oF=t.source&&t.source.poster,r.Pc()},this.bR=function(){r.uF=!0,r.my()},this.aC=t,this.fC(),this.nC=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",Oi(HT,n),n),t.Ay.appendChild(this.nC)}var n=t.prototype;return n.Pc=function(){var t=this.aC.Lw,n=this.uF;this.cv?this.nC.style.backgroundImage='url("'+this.cv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.nC.style.backgroundImage="",t&&this.cv&&!n?this.py():this.my()},n.py=function(){Oi(WT,this.aC.Ay),Oi($T,this.nC)},n.my=function(){Oi(WT,this.nC),Oi($T,this.aC.Ay)},n.fC=function(){this.aC.Po("sourcechange",this.sF),this.aC.Po("play",this.bR)},n.fi=function(){this.aC.Bo("sourcechange",this.sF),this.aC.Bo("play",this.bR),Ai(this.nC)},H(t,[{key:"cv",get:function(){return void 0!==this.oF?this.oF:void 0!==this.cF?this.cF:void 0}},{key:"aF",set:function(t){this.cF=t,this.Pc()}}]),t}();function XT(t){return function(n){function r(r,i){var e;return(e=n.call(this,r)||this).fF=function(t){t.type!==Qs.sf&&e.hF.push(t)},e.vF=new t(r,i),e.dF=new qT,e.aC=e.vF,e.lF=new zT(rn(e)),e.XS=new Fy,e.wF=!1,e.hF=[],e.oC=!0,e.sC=void 0,e.fC(),e}W(r,n);var i=r.prototype;return i.PT=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.XS.PT(n,r).catch(Ue));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.yF=function(){var t=C.coroutine(Qi.mark(function t(n,r){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(r),this.vF.Fo(this.fF),t.next=4,this.vF.vy(n,r);case 4:this.vF.qo(this.fF);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),i.gF=function(){var t=C.coroutine(Qi.mark(function t(){var n,r,i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.hy())&&!ek(n)&&this.ny&&this.Lw){t.next=3;break}return t.abrupt("return");case 3:return r=n.mutedAutoplay||this.Qk.mutedAutoplay,t.next=6,this.jL.vi();case 6:i=t.sent,t.t0=i,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this._F(),t.abrupt("break",14);case 12:return(this.Pw||r===Ad.ALL)&&(this.Pw=!0,this.ei()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vy=function(t){var n=this,r=this.sC;r&&!ek(r)&&this.Oo(new Cd(0,0)),this.Tl(),this.sC=t,We(this.PT(function(){var r=C.coroutine(Qi.mark(function r(i){return Qi.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Me(i),r.prev=1,r.next=4,n.yF(t,i);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(1),n.sC=void 0,r.t0;case 10:return r.next=12,n.pF();case 12:case"end":return r.stop()}},r,null,[[1,6]])}));return function(t){return r.apply(this,arguments)}}()))},i.pF=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mF(this.vF),this.Oo(new VT(this.hy())),t.next=4,this.gF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qx=function(t){this.aC.Nw=t},i.rP=function(){return this.vF.Go},i.iP=function(){return this.vF.xw},i.ei=function(){this.aC.ei()},i._F=function(){this.Pw||this.di(),this.ei()},i.di=function(){this.vF.di()},i.ui=function(){this.aC.ui()},i.ay=function(){this.vy(void 0)},i.py=function(){this.oC=!0,this.aC.py()},i.my=function(){this.oC=!1,this.aC.my()},i.VL=function(){this.vF.VL()},i.bP=function(t){this.vF.bP(t)},i.sP=function(t){this.vF.sP(t)},i.kF=function(t){this.bF=t,t.iF(this)},i.rD=function(){return this.vF.rD()},i.hy=function(){return this.sC},i.ky=function(){return this.vF.ky()},i.Jx=function(){return this.vF.Nw},i.Zx=function(){return this.vF.Aw},i.Xx=function(){return this.vF.Dy},i.hP=function(){return this.vF.Vy},i.wP=function(){return this.vF.jy},i.Tl=function(){var t=this;this.sC=void 0,Oe(this.hF),this.dF.Tl(),this.mF(this.dF),this.XS.So(),We(this.XS.PT(function(){var n=C.coroutine(Qi.mark(function n(r){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Me(r),n.next=3,t.vF.Tl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},i.fi=function(){var t=this;this.Oo(new jT),this.lF.fi(),this.hC(),this.Tl(),We(this.PT(C.coroutine(Qi.mark(function n(){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.vF.fi();case 2:t.bF&&(t.bF.xc(t),t.bF=void 0),t.XS.fi();case 4:case"end":return n.stop()}},n)})))),this.Mo()},i.mF=function(t){if(this.aC!==t){var n=this.aC.Lw,r=this.aC.Nw,i=this.aC.Fw,e=this.aC.Mw;this.hC(),t===this.vF?((e||t.Nw!==r)&&(t.Nw=r),t.Fw!==i&&(t.Fw=i),n?t.ui():t.ei()):this.Qk.retainPlaybackRateOnSourceChange?t.Fw=i:1!==i&&this.Oo(new Ld(this.Jx(),1)),this.aC=t,this.fC();for(var u=0,s=this.hF;u<s.length;u++){var o=s[u];this.Oo(o)}Oe(this.hF),this.oC?t.py():t.my()}},i.fC=function(){this.aC.Fo(this.Ao)},i.hC=function(){this.aC.qo(this.Ao)},i.Xd=function(){return t=this,i=function(n){r=n;var i=lk(n,t.Qk);t.vy(i)},e={get abr(){return t.qL.zd},get audioTracks(){return t.ey.zd},get autoplay(){return t.ny},set autoplay(n){t.ny=Boolean(n)},get buffered(){return t.Xx()},get canvas(){return t.LL.zd},get clip(){return t.OL.zd},get currentProgramDateTime(){var n;return null!==(n=t.Ny)&&void 0!==n?n:null},set currentProgramDateTime(n){t.Ny=null!=n?n:void 0},get currentTime(){return t.Jx()},set currentTime(n){t.Qx(Number(n))},get duration(){return t.Zx()},get element(){return t.Ay},get ended(){return t.Ow},get error(){return t.rP()},get errorObject(){return t.iP()},get loop(){return t.MP.MP},set loop(n){t.MP.MP=Boolean(n)},get metrics(){return t.Gw.zd},get muted(){return t.Pw},set muted(n){t.sP(n)},get network(){return t.$L.zd},get paused(){return t.Lw},get playbackRate(){return t.Fw},set playbackRate(n){var r=Number(n);if(r<0)throw new RangeError("playbackRate must be a positive number");t.Fw=r},get played(){return t.hP()},get poster(){return t.TF},set poster(n){t.TF=Uv(n)},get preload(){return t.qy},set preload(n){t.qy=n},get presentation(){return t.ML.zd},get readyState(){return t.Gl},get seekable(){return t.wP()},get seeking(){return t.Mw},get source(){return r},set source(t){i(t)},get src(){return uk(t.hy())},set src(t){i({sources:t})},get textTracks(){return t.sy.zd},get textTrackStyle(){return t.zL.zd},get uid(){return t.Fl},get videoHeight(){return t.Bw},get videoTracks(){return t.uy.zd},get videoWidth(){return t.Uw},get volume(){return t.Vw},set volume(n){t.bP(Number(n))},destroy:function(){t.fi(),t=null,r=void 0},play:function(){t._F()},pause:function(){t.ui()},stop:function(){r=void 0,t.ay()},prepareWithUserAction:function(){t.di()},addEventListener:function(t,r){n.Po(t,r)},removeEventListener:function(t,r){n.Bo(t,r)},setSource:function(t){i(t)}},(n=new Am(e,!0)).bD(t),e;var t,n,r,i,e},H(r,[{key:"DL",get:function(){return this.vF.DL}},{key:"LL",get:function(){return this.vF.LL}},{key:"Qk",get:function(){return this.vF.Qk}},{key:"RL",get:function(){return this.vF.RL}},{key:"Vd",get:function(){return this.vF.Vd}},{key:"CI",get:function(){return this.vF.FL}},{key:"ML",get:function(){return this.vF.ML}},{key:"AL",get:function(){return this.vF.AL}},{key:"VP",get:function(){return this.vF.VP}},{key:"qL",get:function(){return this.vF.qL}},{key:"ny",get:function(){return this.vF.ny},set:function(t){this.vF.ny=t,this.gF()}},{key:"jL",get:function(){return this.vF.jL}},{key:"ey",get:function(){return this.vF.ey}},{key:"HL",get:function(){return this.vF.HL}},{key:"WL",get:function(){return this.vF.AL}},{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}},{key:"oy",get:function(){return this.vF.oy}},{key:"Gw",get:function(){return this.vF.Gw}},{key:"$L",get:function(){return this.vF.$L}},{key:"sy",get:function(){return this.vF.sy}},{key:"zL",get:function(){return this.vF.zL}},{key:"uy",get:function(){return this.vF.uy}},{key:"OL",get:function(){return this.vF.OL}},{key:"MP",get:function(){return this.vF.MP}},{key:"Ny",get:function(){return this.aC.Ny},set:function(t){this.aC.Ny=t}},{key:"Iy",get:function(){return this.vF.Iy}},{key:"Ay",get:function(){return this.vF.Ay}},{key:"Ow",get:function(){return this.vF.Ow}},{key:"Pw",get:function(){return this.vF.Pw},set:function(t){this.vF.Pw=t}},{key:"Lw",get:function(){return this.aC.Lw}},{key:"TF",get:function(){return this.lF.cv||""},set:function(t){this.lF.aF=t}},{key:"Fw",get:function(){return this.vF.Fw},set:function(t){this.aC.Fw=t}},{key:"qy",get:function(){return this.vF.qy},set:function(t){this.vF.qy=rm(t)}},{key:"Gl",get:function(){return this.aC.Gl}},{key:"Mw",get:function(){return this.aC.Mw}},{key:"Fl",get:function(){return this.vF.Fl}},{key:"Bw",get:function(){return this.vF.Bw}},{key:"Uw",get:function(){return this.vF.Uw}},{key:"Vw",get:function(){return this.vF.Vw},set:function(t){this.vF.Vw=t}}]),r}(id)}He(function(){t.dispatchEvent&&t.dispatchEvent(OT("theoplayerready"))});var GT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return lu(t)},n.decode=function(t){return vu(t)},t}())},YT=BT.zd,KT=cg.KT.registerContentProtectionIntegration.bind(cg.KT),JT=function(){},QT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),ZT=k(function(t,n){function r(t,n){var r=[],i=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+i.slice(0,r.indexOf(n)).join(".")+"]"}),function(e,u){if(r.length>0){var s=r.indexOf(this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,e):i.push(e),~r.indexOf(u)&&(u=n.call(this,e,u))}else r.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,i,e){return JSON.stringify(t,r(n,e),i)}).getSerialize=r});function tE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],r=0;r<t.length;r++)n[r]={start:t.start(r),end:t.end(r)};return n}(n):n}function nE(t){return JSON.stringify(t,ZT.getSerialize(tE))}var rE,iE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=u&&t<=55295||t===i||t===e||t===r||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),eE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var r=9,i=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,i,e,r],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===i||t===e||t===r},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),uE=k(function(t,n){function r(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=r,n.isNCNameChar=function(t){return r(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),sE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var r=iE.isS,i=iE.isChar,e=iE.isNameStartChar,u=iE.isNameChar,s=iE.S_LIST,o=iE.NAME_RE,c=eE.isChar,a=uE.isNCNameStartChar,f=uE.isNCNameChar,v=uE.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,D=8,N=9,A=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,j=21,H=22,W=23,$=24,z=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,rt=35,it=36,et=37,ut=38,st=39,ot=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,Dt=t=>34===t||39===t,Nt=[34,39],At=[...Nt,St,Tt],Ot=[...Nt,kt,Rt],xt=[bt,Et,...s],Pt=[...s,Tt,gt,kt];function Lt(t,n,r){switch(n){case"xml":r!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":r!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(r){case y:t.fail(""===n?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Mt=t=>o.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const r of d.keys(n))Lt(t,r,n[r])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.pa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(void 0===r){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this.pa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let r=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+=`${this.line}:${this.column}`),r.length>0&&(r+=": "),new h(r+t)}fail(t){const n=this.makeError(t),r=this.errorHandler;if(void 0===r)throw n;return r(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let r=t.length;const i=t.charCodeAt(r-1);!n&&(i===lt||i>=55296&&i<=56319)&&(this.carriedFromPrevious=t[r-1],r--,t=t.slice(0,r));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<r;)e[this.state].call(this);return this.chunkPosition+=r,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>=wt||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const r=t.charCodeAt(n);if(this.column++,r<55296){if(r>31&&r<127||r>159&&r!==Ct||r===vt)return r;switch(r){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const r=t.charCodeAt(n+1);r!==dt&&r!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const i=65536+1024*(r-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,i>1114111&&this.fail("disallowed character."),i}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:r}=this;for(;;){const i=this.getCode(),e=i===m,u=e?dt:i;if(u===p||t.includes(u))return this.text+=r.slice(n,this.prevI),u;e&&(this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:r}=this;for(;;){let i=this.getCode();switch(i){case m:this.text+=`${r.slice(n,this.prevI)}\n`,n=this.i,i=dt;break;case p:return this.text+=r.slice(n),!1}if(i===t)return this.text+=r.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const r=this.getCode();if(r===p)return this.name+=t.slice(n),p;if(!u(r))return this.name+=t.slice(n,this.prevI),r===m?dt:r}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!r(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=i,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(At);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Dt(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Dt(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?D:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=N)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?A:D}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=D)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:r}=this,i=this.entity+n.slice(t,this.prevI);let e;this.state=r,""===i?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(i),this.entity=""),r===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=j)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=H:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=$):t===Et||r(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=$)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===Et;e||r(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:r(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(r(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");r(t)||(Dt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(r(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const i=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=rt;break;default:r(n)||this.fail("disallowed character in tag name."),this.state=it}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=it)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=rt:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=st:r(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=it)}}sAttribValue(){const t=this.getCodeNorm();Dt(t)?(this.q=t,this.state=ot):r(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:r}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(r,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(r,this.prevI),this.state=L,void(this.entityReturnState=ot);case dt:case m:case vt:this.text+=`${n.slice(r,this.prevI)} `,r=this.i;break;case kt:return this.text+=n.slice(r,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(r))}}sAttribValueClosed(){const t=this.getCodeNorm();r(t)?this.state=it:t===Tt?this.openTag():t===pt?this.state=rt:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=it}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():r(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:r,textHandler:i}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==i){const{text:n}=this,e=r.slice(t,this.prevI);0!==n.length?(i(n+e),this.text=""):0!==e.length&&i(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=r.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new h("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==i&&(this.text+=`${r.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==i&&(this.text+=r.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==i){const{text:r}=this,e=n.slice(t,this.prevI);0!==r.length?(i(r+e),this.text=""):0!==e.length&&i(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==i&&(this.text+=n.slice(t));break t;default:r(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var r;const{prefix:i,local:e}=this.qname(t),u={name:t,prefix:i,local:e,value:n};if(this.attribList.push(u),null===(r=this.attributeHandler)||void 0===r||r.call(this,u),"xmlns"===i){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var r;const i={name:t,value:n};this.attribList.push(i),null===(r=this.attributeHandler)||void 0===r||r.call(this,i)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const t=r.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:i}=this;return 0!==i.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,i),this.text=""),this.pa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,r;let i=this.topNS[t];if(void 0!==i)return i;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(i=e[n].ns[t]))return i;return void 0!==(i=this.ns[t])?i:null===(r=(n=this.opt).resolvePrefix)||void 0===r?void 0:r.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const r=t.slice(n+1),i=t.slice(0,n);return(""===i||""===r||r.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:i,local:r}}processAttribsNS(){var t;const{attribList:n}=this,r=this.tag;{const{prefix:n,local:i}=this.qname(r.name);r.prefix=n,r.local=i;const e=r.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),r.uri=n))}if(0===n.length)return;const{attributes:i}=r,e=new Set;for(const t of n){const{name:n,prefix:r,local:u}=t;let s,o;""===r?(s="xmlns"===n?y:"",o=n):(void 0===(s=this.resolve(r))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(r)}.`),s=r),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,i[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:r,value:i}of t)void 0!==n[r]&&this.fail(`duplicate attribute: ${r}.`),n[r]=i;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,r=this.tag;r.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),n.push(r),this.state=P,this.name=""}openSelfClosingTag(){var t,n,r;this.processAttribs();const{tags:i}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(r=i[i.length-1])&&void 0!==r?r:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const r=this.closeTagHandler;let i=t.length;for(;i-- >0;){const i=this.tag=t.pop();if(this.topNS=i.ns,null==r||r(i),i.name===n)break;this.fail("unexpected close tag.")}0===i?this.closedRoot=!0:i<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),oE=function(){function t(){}return t.prototype.nu=function(t){var n=new sE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),r=new lE,i=[r];function e(t){i[i.length-1].yu(t)}return n.on("text",function(t){i.length>1&&e(new vE(t))}),n.on("cdata",function(t){e(new dE(t))}),n.on("opentag",function(t){for(var n=t.local,r=t.uri,u=t.prefix,s=new fE({uu:n,ou:""===r?void 0:r,EF:""===u?void 0:u}),o=t.attributes,c=0,a=d.keys(o);c<a.length;c++){var f=o[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new cE({uu:v,au:w,ou:""===l?void 0:l,EF:""===h?void 0:h});s.SF(y)}e(s),i.push(s)}),n.on("closetag",function(){i.pop()}),n.on("error",function(t){throw new sn(t)}),n.write(t).close(),r},t}(),cE=function(){function t(t){this.RF=t.uu,this.En=t.au,this.IF=t.ou,this.CF=t.EF}var n=t.prototype;return n.iu=function(t){return this===t||!!yE(this,t)&&(this.RF===t.RF&&this.IF===t.IF&&this.CF===t.CF&&this.En===t.En)},n.eu=function(){return new t({uu:this.uu,au:this.au,ou:this.ou,EF:this.cu})},H(t,[{key:"Ye",get:function(){return tn.Je}},{key:"uu",get:function(){return this.RF}},{key:"su",get:function(){return void 0===this.CF?this.RF:this.CF+":"+this.RF}},{key:"ou",get:function(){return this.IF}},{key:"cu",get:function(){return this.CF}},{key:"au",get:function(){return this.En}}]),t}(),aE=function(){function t(){this.fu=[]}var n=t.prototype;return n.vu=function(t){return this.fu.filter(function(n){return wE(n)&&n.lu===t})},n.wu=function(t,n){return this.fu.filter(function(r){return wE(r)&&r.uu===n&&r.ou===t})},n.yu=function(t){this.fu.push(t)},H(t,[{key:"du",get:function(){return this.fu}},{key:"_u",get:function(){return this.fu.filter(wE)}}]),t}(),fE=function(t){function n(n){var r;return(r=t.call(this)||this).DF=[],r.RF=n.uu,r.IF=n.ou,r.CF=n.EF,r}W(n,t);var r=n.prototype;return r.NF=function(t){for(var n=0,r=this.du;n<r.length;n++){var i=r[n];wE(i)?i.NF(t):t.push(i.Iu)}},r.mu=function(t,n){for(var r=0,i=this.DF;r<i.length;r++){var e=i[r];if(e.uu===n&&e.ou===t)return e.au}},r.pu=function(t){for(var n=0,r=this.DF;n<r.length;n++){var i=r[n];if(i.su===t)return i.au}},r.SF=function(t){this.DF.push(t)},r.ku=function(t){for(var n=0;n<this.DF.length;n++)if(this.DF[n].su===t)return void this.DF.splice(n,1)},r.bu=function(t,n){for(var r=0;r<this.DF.length;r++)if(this.DF[r].uu===n&&this.DF[r].ou===t)return void this.DF.splice(r,1)},r.Tu=function(t,n){this.ku(t),this.SF(new cE({uu:t,au:n}))},r.Eu=function(t,n,r){this.ku(n);var i=n.split(":");this.SF(new cE({uu:i[i.length-1],au:r,ou:t,EF:i.length>1?i[0]:void 0}))},r.eu=function(t){var r=new n({uu:this.uu,ou:this.ou,EF:this.cu});return this.Su.forEach(function(t){return r.SF(t.eu())}),t&&this.du.forEach(function(n){return r.yu(n.eu(t))}),r},r.iu=function(t){return this===t||!!yE(this,t)&&(this.RF===t.RF&&this.CF===t.CF&&this.IF===t.IF&&(gE(this.Su,t.Su)&&gE(this.du,t.du)))},H(n,[{key:"Ye",get:function(){return tn.Ke}},{key:"Su",get:function(){return this.DF}},{key:"uu",get:function(){return this.RF}},{key:"ou",get:function(){return this.IF}},{key:"cu",get:function(){return this.CF}},{key:"lu",get:function(){return void 0===this.CF?this.RF:this.CF+":"+this.RF}},{key:"Ru",get:function(){var t=[];return this.NF(t),t.join("")}}]),n}(aE),hE=function(){function t(t){this.Kr=t}return H(t,[{key:"Iu",get:function(){return this.Kr}}]),t}(),vE=function(t){function n(n){return t.call(this,n)||this}W(n,t);var r=n.prototype;return r.eu=function(){return new n(this.Iu)},r.iu=function(t){return this===t||!!yE(this,t)&&this.Iu===t.Iu},H(n,[{key:"Ye",get:function(){return tn.Qe}}]),n}(hE),dE=function(t){function n(n){return t.call(this,n)||this}W(n,t);var r=n.prototype;return r.eu=function(){return new n(this.Iu)},r.iu=function(t){return this===t||!!yE(this,t)&&this.Iu===t.Iu},H(n,[{key:"Ye",get:function(){return tn.Ze}}]),n}(hE),lE=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.eu=function(t){var r=new n;return t&&this.du.forEach(function(n){return r.yu(n.eu(t))}),r},r.iu=function(t){return this===t||!!yE(this,t)&&gE(this.du,t.du)},H(n,[{key:"Ye",get:function(){return tn.tu}},{key:"Cu",get:function(){return this._u[0]}}]),n}(aE);function wE(t){return nn(t)}function yE(t,n){return t.Ye===n.Ye}function gE(t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].iu(n[r]))return!1;return!0}function _E(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Zi(Zi({},t),{adBreak:Zi(Zi({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return Uy(t,["adBreak"])})})})}function pE(t){return void 0===t.ads?t:Zi(Zi({},t),{ads:t.ads.map(function(t){t.adBreak;return Uy(t,["adBreak"])})})}function mE(t){return"string"==typeof t.date?new Date(t.date):t.date}function kE(t){var n;return t.cue.track?(n=TE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=TE(t.cue,""),n}function bE(t){var n=[];return function t(r){if(Array.isArray(r))return r.map(t);if("object"==typeof r&&null!==r){if(n.includes(r))return"[Circular ~]";n.push(r);var i=d.entries(r);return d.fromEntries(i.map(function(r){var i=r[0],e=r[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[i,u]}))}return r}(t)}function TE(t,n){var r={};return r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,function(){switch(n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var r=n.children;if(0!==r.length)for(var i=0;i<r.length;i++){var e=r.item(i);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var i=t.content,e={};i.firstChild&&i.firstChild.outerHTML;){(new oE).nu(i.firstChild.outerHTML).Cu.Su.forEach(function(t){e[t.uu]=t.au}),i=i.firstChild}r.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(a=o)&&null!==a){var c=EE(o);u[s]={type:rE.AF,value:c}}else RE(o)?u[s]={type:rE.OF,value:o}:u[s]={type:rE.xF,value:String(o)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=EE(t.scte35Cmd),r.scte35Out=EE(t.scte35Out),r.scte35In=EE(t.scte35In),r.customAttributes=u}var a}(),r}function EE(t){if(void 0!==t)return lu(t)}function SE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var r=[];if(t.cues)for(var i=0;i<t.cues.length;i++){var e=t.cues[i];r.push(TE(e,t.type))}n.cues=r;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(TE(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function RE(t){return"number"==typeof t}!function(t){t.xF="daterange-ca-type_string",t.OF="daterange-ca-type_number",t.AF="daterange-ca-type_arraybuffer"}(rE||(rE={}));var IE={cue:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=kE(t)}return n},textTrack:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=AE().register(t.cue));var r=NE()[OE()].eventListeners;t.cue.addEventListener("enter",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){r.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=kE(t);break;case"cuechange":for(var i=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];i.push(TE(u,t.track.type))}n.track={activeCues:i,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=AE().register(t)}),n.track=SE(t.track);case"removetrack":case"change":n.track=SE(t.track)}return n},default:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Zi({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=SE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=pE(t.ad);break;case"adloaded":case"adimpression":n.ad=_E(t.ad);break;case"aderror":t.PF&&(n.PF=t.PF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=_E(t.ad)}return bE(n)},minimizeCueHelper:function(t){var n={};return n.date=mE(t),n.type=t.type,n.cue=kE(t),n.track={uid:t.cue.track.uid},n},adReplacer:_E,adBreakReplacer:pE,removeCircularReferences:bE},CE=function(){this.stringify=nE,this.minimize=IE};function DE(){return S.self}function NE(){return DE().THEOplayerBridge}function AE(){return DE().THEOCueMirrorMap}function OE(){return DE().THEOplayerGlobalID}function xE(){var t=DE();if(t.THEOplayerBridge){var n=new JT;t.THEOplayerBridge=Av(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new JT;t.THEOplayerUtils||(t.THEOplayerUtils=new CE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new QT)}xE();var PE=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.nu=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new LE(n)},n}(on),LE=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.eu=function(t){return new n(this.hu.cloneNode(t))},H(n,[{key:"du",get:function(){return void 0===this.fu&&(this.fu=BE(this.hu.childNodes)),this.fu}},{key:"Cu",get:function(){return new FE(this.hu.documentElement)}}]),n}(ln),FE=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.eu=function(t){var r=new n(this.hu.cloneNode(t));return r.Su.length<1&&this.Su.length>0&&this.Su.forEach(function(t){r.Tu(t.su,t.au)}),r},H(n,[{key:"du",get:function(){return void 0===this.fu&&(this.fu=BE(this.hu.childNodes)),this.fu}}]),n}(fn);function ME(t){switch(t.nodeType){case tn.Ke:return new FE(t)}return yn(t)}function BE(t){for(var n=[],r=0;r<t.length;r++){var i=ME(t.item(r));i&&n.push(i)}return n}O(new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).LF=new PE,n}return W(n,t),n.prototype.nu=function(t){return this.LF.nu(t)},n}(yv)));var UE=function(t){function n(n){var r;(r=t.call(this)||this).FF=[],r.MF=function(t){r.ml(t.Gd)},r.BF=function(t){var n=t.Gd;r.UF(n)||r.kl(n)};for(var i=0;i<n.length;i++){var e=n[i];r.VF(e)}return r}W(n,t);var r=n.prototype;return r.VF=function(t){this.FF.push(t);for(var n=0,r=t.El;n<r.length;n++){var i=r[n];this.ml(i)}this.qF(t)},r.jF=function(t){De(this.FF,t),this.HF(t);for(var n=0,r=t.El;n<r.length;n++){var i=r[n];this.UF(i)||this.kl(i)}},r.UF=function(t){for(var n=0,r=this.FF;n<r.length;n++){if(r[n].bl(t))return!0}return!1},r.qF=function(t){t.Po(lv.qd,this.MF),t.Po(lv.Hd,this.BF)},r.HF=function(t){t.Bo(lv.qd,this.MF),t.Bo(lv.Hd,this.BF)},r.fi=function(){for(;this.FF.length>0;)this.jF(this.FF[0]);t.prototype.fi.call(this)},r.Xd=function(){return Zv(this)},n}(Sv),VE=function(t){function n(n,r){var i;return(i=t.call(this,n)||this).type=n,i.detail=r,i}return W(n,t),n}(Qe),qE=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Oo(new VE(t,n))},r.addEventListener=function(t,n){this.Po(t,n)},r.removeEventListener=function(t,n){this.Bo(t,n)},n}(id);function jE(t,n){return t.ag<=n&&t.fg>n}function HE(t,n){return function(t,n){return Vl(t.ag,n.ag,xl)}(t,n)||function(t,n){return Vl(t.fg,n.fg,xl)}(t,n)}function WE(t,n){var r=function(t,n,r,i,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,c=s-1;o<=c;){var a=o+(c-o>>1),f=i(r(t[a]),n);if(f<0)o=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===i(r(t[a-1]),n)))return a;c=a-1}}return~o}(t,n,L,HE,!0);if(r<0)return r;for(;r<t.length&&HE(n,t[r])===Fl.Bg;r++)if(t[r].mg(n))return r;return-(r+1)}function $E(t){var n=t.Gd;if(!n)return-1;if(t instanceof Pl)return n.WF(t);var r=n.Yl;if(!r)return-1;var i=WE(r.El,t);return i>=0?i:-1}var zE=function(t){function n(n,r){var i;return(i=t.call(this,Sl.eg,n)||this).x_=r,i}return W(n,t),n.prototype.Xd=function(){return new XE(this.cg.zd)},n}(Dl),XE=function(t){function n(n){return t.call(this,Rl.eg,n)||this}return W(n,t),n}(Nl),GE=function(t){function n(n,r){var i;return(i=t.call(this,Sl.sg,n)||this).x_=r,i}return W(n,t),n.prototype.Xd=function(){return new YE(this.cg.zd)},n}(Dl),YE=function(t){function n(n){return t.call(this,Rl.sg,n)||this}return W(n,t),n}(Nl),KE=function(t){function n(n){var r;return(r=t.call(this,_v.Zd)||this).cg=n,r}return W(n,t),n.prototype.Xd=function(){return new JE(this.cg.zd)},n}(pv),JE=function(t){function n(n){var r;return(r=t.call(this,"entercue")||this).cue=n,r}return W(n,t),n}(mv),QE=function(t){function n(n){var r;return(r=t.call(this,_v.nl)||this).cg=n,r}return W(n,t),n.prototype.Xd=function(){return new ZE(this.cg.zd)},n}(pv),ZE=function(t){function n(n){var r;return(r=t.call(this,"exitcue")||this).cue=n,r}return W(n,t),n}(mv),tS=function(t){function n(n){var r;return(r=t.call(this,_v.ul)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new nS(this.Gd.zd)},n}(pv),nS=function(t){function n(n){var r;return(r=t.call(this,"cuechange")||this).track=n,r}return W(n,t),n}(mv);function rS(t,n){return Ul(t.x_,n.x_)||function(t,n){return t.Gd===n.Gd?Bl($E(t),$E(n)):Ey(t.Gd,n.Gd)}(t.cg,n.cg)||function(t,n){return t===n?Fl.Bg:t===Sl.eg?Fl.Vg:Fl.Ug}(t.type,n.type)}var iS=function(){function t(t,n){var r=this;this.Zw=[],this.zF=0,this.XF=0,this.GF=[],this.YF=!1,this.KF=!1,this.JF=void 0,this.QF=function(){r.zF=0,r.ZF(),r.tM()},this.nM=function(){r.ZF(),r.tM()},this.rM=function(){r.KF=!0,r.JF=r.aC.Nw,r.iM()},this.eM=function(){r.ZF(),r.tM()},this.uM=function(){r.sM(),r.ZF(),r.tM()},this.oM=function(){r.cM()},this.aM=function(t){De(r.GF,t.cg),r.cM()},this.fM=n,this.aC=t,t.Po(Qs._f,this.nM),t.Po(Qs.ef,this.nM),t.Po(Id.Dw,this.nM),t.Po(Qs.if,this.nM),t.Po(Qs.hf,this.rM),t.Po(Qs.ff,this.eM),this.cM()}var n=t.prototype;return n.Tl=function(){Oe(this.GF);for(var t=0,n=this.Zw.slice();t<n.length;t++){var r=n[t];this.kl(r)}this.iM(),this.zF=0,this.XF=0,this.YF=!1,this.KF=!1,this.JF=void 0},n.ml=function(t){Ae(this.Zw,t)||(this.Zw.push(t),t.Po(_v.Yd,this.oM),t.Po(_v.Jd,this.aM),t.Po(_v.ol,this.uM),t.Yl.Sl&&this.cM(),this.sM())},n.kl=function(t){if(De(this.Zw,t)){if(t.Bo(_v.Yd,this.oM),t.Bo(_v.Jd,this.aM),t.Bo(_v.ol,this.uM),t.Yl.Sl){for(var n=0,r=t.Yl.El;n<r.length;n++){var i=r[n];De(this.GF,i)}this.cM()}this.sM()}},n.sM=function(){this.YF=this.Zw.some(function(t){return t.Wl!==Xv.Xl})},n.tM=function(){this.aC.Mw||this.aC.Lw?this.iM():this.cM()},n.cM=function(){this.YF&&(this.zF||(this.zF=this.fM._i(this.QF)))},n.iM=function(){this.zF&&(this.fM.hM(this.zF),this.zF=0)},n.ZF=function(){var t;if(this.YF&&!this.aC.Mw){var n=this.Zw,r=this.XF,i=null!==(t=this.JF)&&void 0!==t?t:this.aC.Nw,e=i-r<-.1,u=this.KF||e;u&&i>r&&i-r<.1&&(u=!1),this.KF=!1,this.JF=void 0;for(var s,o=[],c=0;c<n.length;c++){var a=n[c];if(a.Wl!==Xv.Xl){a.vM(i,u);for(var f=0,h=a.Kl.El;f<h.length;f++){var v=h[f];o.push(v)}}}if(u)s=this.GF;else{s=[];for(var d=0;d<n.length;d++){var w=n[d];w.Wl!==Xv.Xl&&Ty(w,r-1/6,i,s)}}for(var y=s.length-1;y>=0;y--)Ae(o,s[y])&&Ne(s,y);var g=[];if(!u)for(var _=s.length-1;_>=0;_--){var p=s[_];p.ag>=r&&p.fg<=i&&(g.push(p),Ne(s,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.kg||m.push(new zE(T,T.ag)),m.push(new GE(T,l.max(T.ag,T.fg)))}for(var E=0,S=s;E<S.length;E++){var R=S[E];R.kg&&(m.push(new GE(R,l.max(R.ag,R.fg))),R.kg=!1)}for(var I=0;I<o.length;I++){var C=o[I];C.kg||(m.push(new zE(C,C.ag)),C.kg=!0)}m.sort(rS);for(var D=0;D<m.length;D++){var N=m[D],A=N.cg;A.Oo(N);var O=A.Gd;O&&(N.type===Sl.eg?O.Oo(new KE(A)):O.Oo(new QE(A)),Ae(k,O)||k.push(O))}k.sort(Ey);for(var x=0;x<k.length;x++){var P=k[x];P.Oo(new tS(P))}this.XF=i,this.GF=o}},n.fi=function(){this.Tl(),this.aC.Bo(Qs._f,this.nM),this.aC.Bo(Qs.ef,this.nM),this.aC.Bo(Id.Dw,this.nM),this.aC.Bo(Qs.if,this.nM),this.aC.Bo(Qs.hf,this.rM),this.aC.Bo(Qs.ff,this.eM)},t}(),eS=function(){function t(){}var n=t.prototype;return n._i=function(t){return db(t)},n.hM=function(t){lb(t)},t}(),uS=new eS,sS=function(t){function n(n,r){return void 0===r&&(r=uS),t.call(this,n,r)||this}return W(n,t),n}(iS),oS=function(t){function n(){return t.call(this,Qs.Qa)||this}return W(n,t),n}(Qe),cS=function(t){function n(n){var r;return(r=t.call(this,Qs.uf)||this).currentTime=n,r}return W(n,t),n}(Qe),aS=function(t){function n(n,r){var i;return(i=t.call(this)||this).dM=function(t){i.wM.lM("THEOplayerABRSetTargetBuffer",t.Cx),i.Oo(t)},i.yM=function(t){i.wM.lM("THEOplayerABRSetStrategy",t.Nx),i.Oo(t)},i.wM=n,i.gM=r,i.gM.Po("Dx",i.dM),i.gM.Po("Ax",i.yM),i}return W(n,t),H(n,[{key:"Ux",get:function(){var t;switch(this.Nx.type){case Ub.PERFORMANCE:return 1;case Ub.QUALITY:return 0;case Ub.BANDWIDTH:return(null===(t=this.Nx.metadata)||void 0===t?void 0:t.bitrate)&&!g(this.Nx.metadata.bitrate)?this.Nx.metadata.bitrate:0;default:return 0}}},{key:"zd",get:function(){return this.gM.zd}},{key:"Nx",get:function(){return this.gM.Nx},set:function(t){this.gM.Nx=t}},{key:"Cx",get:function(){return this.gM.Cx},set:function(t){this.gM.Cx=t}},{key:"Ox",get:function(){return this.gM.Ox},set:function(t){this.gM.Ox=t}}]),n}(Ke),fS=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.ZS=function(t,n,r,i){return!0},n}(Ep),hS=function(){function t(t){this.$d=void 0,this._M=t}var n=t.prototype;return n.Xd=function(){return function(t){for(var n=[],r=0;r<t.Sl;r++)n[r]=t.rc(r).zd;return n.item=function(n){var r=0|n,i=t.rc(r);return i&&i.zd||void 0},d.defineProperty(n,"constructor",{value:Ol}),n}(this)},n.$y=function(t){for(var n=this._M,r=n.length-1;r>=0;r-=1){var i=n[r];if(t.mg(i))return!0}return!1},n.rc=function(t){return this._M[t]},H(t,[{key:"El",get:function(){return this._M}},{key:"Sl",get:function(){return this._M.length}},{key:"zd",get:function(){if(this.$d){var t=this._M;this.$d.length=t.length;for(var n=0;n<t.length;n++)this.$d[n]=t[n].zd}else this.$d=this.Xd();return this.$d}}]),t}(),vS=function(t){function n(n,r){var i;return(i=t.call(this,_v.al)||this).Gd=n,i.Gl=r,i}return W(n,t),n.prototype.Xd=function(){return new dS(this.Gd.zd,td(this.Gl))},n}(pv),dS=function(t){function n(n,r){var i;return(i=t.call(this,"readystatechange")||this).track=n,i.readyState=r,i}return W(n,t),n}(mv),lS=function(t){function n(n){var r;return(r=t.call(this,_v.hl)||this).Gd=n,r}return W(n,t),n.prototype.Xd=function(){return new wS(this.Gd.zd)},n}(pv),wS=function(t){function n(n){var r;return(r=t.call(this,"typechange")||this).track=n,r}return W(n,t),n}(mv),yS=function(t){function n(n){var r;return(r=t.call(this,_v.Yd)||this).cg=n,r}return W(n,t),n.prototype.Xd=function(){return new gS(this.cg.zd)},n}(pv),gS=function(t){function n(n){var r;return(r=t.call(this,"addcue")||this).cue=n,r}return W(n,t),n}(mv),_S=function(t){function n(n){var r;return(r=t.call(this,_v.Jd)||this).cg=n,r}return W(n,t),n.prototype.Xd=function(){return new pS(this.cg.zd)},n}(pv),pS=function(t){function n(n){var r;return(r=t.call(this,"removecue")||this).cue=n,r}return W(n,t),n}(mv),mS=function(t){function n(n,r,i,e,u,s){var o;return(o=t.call(this)||this).Yy=String(kS++),o.Gy=yl(),o.pM=!1,o.xD=Xv.Xl,o.mM=bl.NONE,o.kM=void 0,o._M=[],o.bM=[],o.TM=0,o.EM=0,o.SM=s||"",o.RM=n,o.IM=i||"",o.pM=Boolean(e),o.Du=u||Tl.DEFAULT,o.Ky=r||"",o.CM=new hS(o._M),o.DM=new hS(o.bM),o}W(n,t);var r=n.prototype;return r.NM=function(t){return Ce(this.CM.El,function(n){return n.Ll===t})},r.Xd=function(){return Jv(this)},r.qD=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Xv.Xl:case Xv.zl:case Xv.$l:return n}}else if("number"==typeof t)switch(t){case 0:return Xv.Xl;case 1:return Xv.zl;case 2:return Xv.$l}return Xv.Xl}(t);n!==this.Wl&&(this.xD=n,n===Xv.Xl&&(this.bM.forEach(function(t){t.kg=!1}),Oe(this.bM),this.EM=0))},r.IT=function(t){if(t&&!t.Gd){var n=WE(this.Yl.El,t);if(!(n>=0)){t.Gd=this;var r=-(n+1);this._M.splice(r,0,t),this.AM(r),t.wg=r,r<this.EM&&(this.EM=r),this.Oo(new yS(t))}}},r.OM=function(t){if(t&&t.Gd===this){var n=this.WF(t);if(!(n<0)){t.kg=!1;var r=this.bM,i=WE(r,t);i>=0&&Ne(r,i),Ne(this._M,n),this.AM(n),t.wg=-1,this.EM>n&&--this.EM,this.Oo(new _S(t))}}},r.vM=function(t,n){var r=this.bM,i=this._M,e=this.EM,u=!1;n&&(e=0);for(var s=r.length-1;s>=0;s--){jE(r[s],t)||(u=!0,Ne(r,s))}for(;e<i.length&&i[e].ag<=t;){var o=i[e];jE(o,t)&&!Ae(r,o)&&(u=!0,r.push(o)),e++}u&&Re(r,HE),this.EM=e},r.WF=function(t){return(-1===t.wg||t.wg>=this.TM)&&this.xM(),t.wg},r.xM=function(){for(var t=this._M,n=this.TM;n<t.length;n++)t[n].wg=n;this.TM=t.length},r.AM=function(t){t<this.TM&&(this.TM=t)},r.fi=function(){this.Mo();for(var t=this._M.slice(),n=0;n<t.length;n++){t[n].fi()}Oe(this._M),Oe(this.bM)},H(n,[{key:"Kl",get:function(){return this.DM}},{key:"Yl",get:function(){return this.CM}},{key:"DT",get:function(){return this.pM},set:function(t){this.pM=t}},{key:"zd",get:function(){return this.$d||(this.$d=this.Xd()),this.$d}},{key:"Ll",get:function(){return this.Yy}},{key:"Fl",get:function(){return this.Gy}},{key:"Hl",get:function(){return this.SM},set:function(t){this.SM=t}},{key:"Ml",get:function(){return this.RM}},{key:"Bl",get:function(){return this.Ky},set:function(t){t!==this.Ky&&(this.Ky=t,this.Oo(new dl(this)))}},{key:"Ul",get:function(){return this.IM}},{key:"Wl",get:function(){return this.xD},set:function(t){this.qD(t),this.Oo(new Rv(this))}},{key:"Gl",get:function(){return this.mM},set:function(t){this.mM!==t&&(this.mM=t,this.Oo(new vS(this,this.mM)))}},{key:"Jl",get:function(){return this.kM},set:function(t){this.kM=t}},{key:"ro",get:function(){return this.Du},set:function(t){this.Du!==t&&(this.Du=t,this.Oo(new lS(this)))}}]),n}(Ke),kS=0;function bS(t,n,r){for(var i=t[n].ag,e=n;e>=0&&t[e].ag===i;e--)t[e].fg=r}var TS,ES=function(t){function n(n,r){return t.call(this,n,1/0,r,!1)||this}return W(n,t),n.prototype.mg=function(n){return this===n||Pv(this,n)&&t.prototype.mg.call(this,n)&&(r=n,this.hg===r.hg);var r},H(n,[{key:"zd",get:function(){return this.$d||(this.$d=Al(this)),this.$d}}]),n}(Pl),SS=function(t){function n(n,r,i){return void 0===i&&(i=Tl.DEFAULT),t.call(this,wy.om,r||"","",!1,i,n)||this}return W(n,t),n}(mS),RS=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).ro=Tl.ID3,i}W(n,t);var r=n.prototype;return r.IT=function(n){!function(t,n){if(0!==n.length){var r=n.length-1;if(n[r].ag<t.ag)bS(n,r,t.ag);else{var i=n[0];if(i.ag>t.ag)t.fg=i.ag;else{var e=WE(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].ag<t.ag&&bS(n,s,t.ag),u<n.length){var o=n[u];t.fg=o.ag}}}}}}(n,this._M),t.prototype.IT.call(this,n)},r.Xd=function(){return Jv(this)},n}(SS),IS=(Qs.ef,Qs.if,Id.Dw,Qs._f,Qs.uf,Qs.Qa,Qs.hf,Qs.ff,Qs.Ya,Qs.sf,Qs.pf,Qs.Xa,Id.al,Qs.af,Gv.jl,Ye.Yo,Ye.Jo,{PM:!1,LM:50}),CS=function(){function t(t,n,r){this.Vc=void 0,this.ha=t,this.fo=r,this.ka=n}var n=t.prototype;return n.CT=function(t){throw new h("Not implemented yet.")},n.eR=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fo.ho(n.io,r);case 2:return i=t.sent,t.next=5,i.Xc();case 5:return e=t.sent,t.next=8,this.FM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.po=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.FM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.FM=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.MM(n),t.next=3,r;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.MM=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.Vc)){t.next=5;break}return t.next=4,r.Wc(this.ka);case 4:this.Vc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Hc(this.ka);case 8:this.Vc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ST=function(t,n,r){throw new h("Not implemented yet.")},H(t,[{key:"Qk",get:function(){return this.ha}},{key:"qy",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"jy",get:function(){return new cm([0,1/0])}},{key:"sy",get:function(){throw new h("Not implemented yet.")}},{key:"BM",get:function(){throw new h("Not implemented yet")}},{key:"uy",get:function(){throw new h("Not implemented yet.")}},{key:"UM",get:function(){throw new h("Not implemented yet")}},{key:"VM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.qM="webkitneedkey",t.jM="webkitkeymessage",t.HM="webkitkeyerror"}(TS||(TS={}));var DS,NS,AS=function(t){function n(n,r){var i;return(i=t.call(this,TS.qM)||this).initData=n,i.sessionId=r,i}return W(n,t),n}(Qe),OS=function(t){function n(n,r){var i;return(i=t.call(this,TS.jM)||this).message=n,i.destinationURL=r,i}return W(n,t),n}(Qe),xS=function(t){function n(){return t.call(this,TS.HM)||this}return W(n,t),n}(Qe),PS=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this)||this).Zc=n,s.kc=r,s.WM=i,s.ba=e,s.da=u,s.ia=new os,s.la=void 0,s.ca=new su,s.ya=new os,s.$M=function(t){s.la?(s.la.gc(void 0),s.la=void 0):s.oa("internal-error"),s.Oo(new iu)},s.zM=function(t){s.la&&(s.la.yc(void 0),s.la=void 0),s.Oo(new ru(rn(s),"license-request",us(t.message).buffer,t.destinationURL||void 0))},s}W(n,t);var r=n.prototype;return r.Ac=function(){var t=C.coroutine(Qi.mark(function t(n,r,i){var e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.ga){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.XM(is(r),e);case 5:this.oa("usable"),this.ya.yc(),this.ya=new os;case 8:case"end":return t.stop()}},t,this)}));return function(n,r,i){return t.apply(this,arguments)}}(),r.Oc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.Pc=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=is(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.la=new os,this.WM.Pc(this.ba,r),t.next=7,this.la.wc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Nc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ya;case 2:return this.WM.Bo(TS.jM,this.zM),this.WM.Bo(TS.HM,this.$M),this.ya.So(),this.ia.yc(void 0),t.abrupt("return",this.ia.wc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r.XM=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=As(n,r,this.da),this.WM.Po(TS.jM,this.zM),this.WM.Po(TS.HM,this.$M),this.WM.xE(this.ba,i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.oa=function(t){this.ca.uc(),this.ca.ec(uu,t),this.Oo(new nu(this))},H(n,[{key:"Uc",get:function(){return this.ba}},{key:"Mc",get:function(){return NaN}},{key:"Fc",get:function(){return this.ia.wc}},{key:"Bc",get:function(){return this.ca}}]),n}(Ke),LS=function(){function t(t,n,r){this.kc=n,this.Zc=r,this.GM=void 0,this.ba=void 0,this.da=void 0,this.WM=t}var r=t.prototype;return r.qc=function(){var t=C.coroutine(Qi.mark(function t(r){var i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.da){t.next=2;break}throw new Os(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new PS(this.Zc,this.kc,this.WM,this.ba,this.da),this.GM=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.jc=function(t){return this.da=is(t),C.resolve(!0)},r.Hc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Wc=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.createSession=function(){throw new h("Whoops.")},H(t,[{key:"keySystem",get:function(){return this.kc}},{key:"sessionId",set:function(t){this.ba=t}}]),t}(),FS=function(){function t(t,n,r){this.YM=t,this.kc=n,this.ha=r;var i=Ts(r)||"video/mp4";this.Zc=ms(i)}var n=t.prototype;return n.Gc=function(){return this.ha},n.Xc=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new LS(this.YM,this.kc,this.Zc));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),H(t,[{key:"Yc",get:function(){return this.kc}}]),t}(),MS=function(){function t(t){this.YM=t}return t.prototype.ho=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<r.length)){t.next=9;break}if(e=r[i],!(u=ks(BS,tu,n,e))){t.next=6;break}return t.abrupt("return",new FS(this.YM,n,u));case 6:i++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();function BS(t,n){return t===_e}!function(t){t.NN="KM"}(DS||(DS={})),function(t){t.JM="QM"}(NS||(NS={}));var US,VS;NS.JM;!function(t){t[t.ZM=0]="ZM",t[t.Sf=1]="Sf",t[t.tB=2]="tB"}(US||(US={})),function(t){t.nB="rB"}(VS||(VS={}));var qS;tt.Me,Qs.ef,Qs.if,Qs.hf,Qs.ff,Qs.Ya,Qs.sf,Id.al,Gv.jl,tt.Ae||tt.Oe;!function(t){t.iB="closed",t.Uv="open",t.Ya="ended"}(qS||(qS={}));var jS,HS;Id.al,Qs.ef,Qs.if,Qs.hf,Qs.ff,Qs.Ya,Gv.jl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(jS||(jS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(HS||(HS={}));var WS=function(t){function n(n){var r;return(r=t.call(this,0,n.hg)||this).eB=n,r.fg=r.eB.ag,r}return W(n,t),H(n,[{key:"Ll",get:function(){return this.eB.Ll},set:function(t){this.eB.Ll=t}},{key:"Tg",get:function(){return this.eB.Tg},set:function(t){this.eB.Tg=t}},{key:"bg",get:function(){return this.eB.bg},set:function(t){this.eB.bg=t}}]),n}(ES);function $S(t){return void 0===t.uB&&(t.uB=new WS(t)),t.uB}var zS=function(t){function n(n,r){var i;(i=t.call(this,n.Hl,n.Bl)||this).ro=Tl.ID3,i.sB=function(t){i.oB(t.cg)},i.cB=function(t){var n=t.cg;if(void 0!==n.uB){var r=n.uB;n.uB=void 0,i.OM(r),r.fi()}},i.aB=function(t){var n=$S(t.cg);n.kg||i.fB(n),i.hB(n)},i.vB=function(t){var n=t.cg,r=$S(n);i.dB.Nw<n.ag&&i.fB(r)},i.lB=function(){var t=i.wB,n=i.Wl;if(i.wB=n,n===Xv.Xl)i.bM.forEach(function(t){return t.kg=!1}),Oe(i.bM);else if(t===Xv.Xl)for(var r=i.dB.Nw,e=0,u=i._M;e<u.length;e++){var s=u[e];r<s.fg&&i.fB(s)}},i.dB=r,i.yB=n,i.wB=n.Wl,n.Po(_v.Yd,i.sB),n.Po(_v.Jd,i.cB),n.Po(_v.Zd,i.aB),n.Po(_v.nl,i.vB),n.Po(_v.ol,i.lB);for(var e=0,u=i.yB.Yl.El;e<u.length;e++){var s=u[e];i.oB(s)}return i}W(n,t);var r=n.prototype;return r.fB=function(t){var n=WE(this.bM,t);if(!(n>=0)){var r=-(n+1);this.bM.splice(r,0,t),t.kg=!0,t.Oo(new zE(t,this.dB.Nw)),this.Oo(new KE(t)),this.Oo(new tS(this))}},r.hB=function(t){var n=WE(this.bM,t);n>=0&&Ne(this.bM,n),t.kg=!1,t.Oo(new GE(t,this.dB.Nw)),this.Oo(new QE(t)),this.Oo(new tS(this))},r.fi=function(){this.yB.Bo(_v.Yd,this.sB),this.yB.Bo(_v.Jd,this.cB),this.yB.Bo(_v.Zd,this.aB),this.yB.Bo(_v.nl,this.vB),this.yB.Bo(_v.ol,this.lB),t.prototype.fi.call(this)},r.oB=function(t){var n=$S(t);(this.IT(n),this.Wl!==Xv.Xl)&&(this.dB.Nw<n.fg&&this.fB(n))},H(n,[{key:"Ml",get:function(){return this.yB.Ml}},{key:"Bl",get:function(){return this.yB.Bl},set:function(t){this.yB.Bl=t}},{key:"Ul",get:function(){return this.yB.Ul}},{key:"Ll",get:function(){return this.yB.Ll}},{key:"Fl",get:function(){return this.yB.Fl}},{key:"Hl",get:function(){return this.yB.Hl}},{key:"Wl",get:function(){return this.yB.Wl},set:function(t){this.yB.Wl=t}},{key:"Gl",get:function(){return this.yB.Gl}},{key:"Jl",get:function(){return this.yB.Jl}}]),n}(SS),XS=function(t){function n(n){var r;return(r=t.call(this)||this).dB=n,r}W(n,t);var r=n.prototype;return r.ml=function(n){if(n.ro===Tl.ID3){var r=n;return r.uB||(r.uB=new zS(r,this.dB)),t.prototype.ml.call(this,r.uB)}return t.prototype.ml.call(this,n)},r.kl=function(n){if(n.ro===Tl.ID3){var r=n;return!!r.uB&&t.prototype.kl.call(this,r.uB)}return t.prototype.kl.call(this,n)},n}(nd),GS=function(t){function n(n,r){var i;return(i=t.call(this)||this).bT=n,i.gB=r,i._B=new oe,i.MF=function(){var t=C.coroutine(Qi.mark(function t(n){var r;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.Gd).ro){t.next=4;break}return t.next=4,r.jo(_v.hl);case 4:if(r.ro===Tl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==r.Yl.Sl){t.next=11;break}return t.next=9,r.jo(_v.Yd);case 9:t.next=6;break;case 11:i.pB(r);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.BF=function(t){var n=t.Gd;if(n.ro===Tl.ID3&&i._B.has(n.Fl)){var r=i._B.get(n.Fl);i.kl(r),i.bT.CT(r),n.Bo(_v.Yd,i.oB)}},i.oB=function(t){YS(t.cg)&&i.mB(t.cg)},i.kB(),i}W(n,t);var r=n.prototype;return r.kB=function(){this.gB.Po(lv.qd,this.MF),this.gB.Po(lv.Hd,this.BF)},r.bB=function(){this.gB.Bo(lv.qd,this.MF),this.gB.Bo(lv.Hd,this.BF)},r.pB=function(t){var n=t.Yl.El[0];if(YS(n)){var r=function(t){var n=t.match(QS);if(!n)return;return{Gd:n[1],Ul:n[2]}}(n.hg.description),i=r.Gd,e=r.Ul;if(!this.TB(i,e)){var u=this.bT.ST(wy.lT,i,e,!1,Tl.TTML);this.ml(u),this._B.set(t.Fl,u);for(var s=0,o=t.Yl.El;s<o.length;s++){var c=o[s];YS(c)&&this.mB(c)}t.Po(_v.Yd,this.oB)}}},r.TB=function(t,n){return!!Ce(this.Jm.El,function(r){return r.Bl===t&&r.Ul===n})},r.mB=function(t){if(t.Gd)for(var n=this._B.get(t.Gd.Fl),r=uy(t.hg.text,0,{hp:0,vp:1/0,dp:-t.fg}),i=0;i<r.length;i++){var e=r[i];n.IT(e)}},r.Tl=function(){var n=C.coroutine(Qi.mark(function n(){var r,i,e,u,s;return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,i=this.gB.El;r<i.length;r++)i[r].Bo(_v.Yd,this.oB);for(e=0,u=this.Jm.El;e<u.length;e++)s=u[e],this.bT.CT(s);return this._B.clear(),n.next=5,t.prototype.Tl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r.fi=function(){var n=C.coroutine(Qi.mark(function n(){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bB(),n.next=3,t.prototype.fi.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(gy);function YS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.hg)&&QS.test(n.description);var n}var KS,JS,QS=/^Track:(.+),Lang:(.+)$/;!function(t){t.EB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.SB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.RB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.IB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(KS||(KS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(JS||(JS={}));var ZS,tR;re({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),re({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),JS.WHITE,JS.TRANSPARENT,JS.TRANSPARENT;!function(t){t.CB="Data",t.DB="Tag",t.NB="StartTag",t.AB="StartTagClass",t.OB="StartTagAnnotation",t.xB="CharRefInAnnotation",t.PB="EndTag",t.LB="TimestampTag"}(ZS||(ZS={})),function(t){t.xF="string",t.FB="starttag",t.MB="endtag",t.BB="timestamp"}(tR||(tR={}));var nR,rR;JS.WHITE,JS.TRANSPARENT;!function(t){t[t.UB=0]="UB",t[t.VB=1]="VB",t[t.qB=2]="qB",t[t.jB=3]="jB",t[t.HB=4]="HB",t[t.WB=5]="WB"}(nR||(nR={})),function(t){t[t.$B=0]="$B",t[t.zB=1]="zB",t[t.XB=2]="XB",t[t.GB=3]="GB"}(rR||(rR={}));var iR,eR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.iC=0]="iC",t[t.YB=1]="YB",t[t.KB=2]="KB",t[t.JB=3]="JB",t[t.Qe=4]="Qe"}(iR||(iR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(eR||(eR={}));var uR;JS.WHITE,KS.RB,JS.BLACK,eR.FONT_REGULAR,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.GREEN,eR.FONT_REGULAR,JS.GREEN,eR.FONT_UNDERLINE,JS.BLUE,eR.FONT_REGULAR,JS.BLUE,eR.FONT_UNDERLINE,JS.CYAN,eR.FONT_REGULAR,JS.CYAN,eR.FONT_UNDERLINE,JS.RED,eR.FONT_REGULAR,JS.RED,eR.FONT_UNDERLINE,JS.YELLOW,eR.FONT_REGULAR,JS.YELLOW,eR.FONT_UNDERLINE,JS.MAGENTA,eR.FONT_REGULAR,JS.MAGENTA,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_ITALICS,JS.WHITE,eR.FONT_UNDERLINE_ITALICS,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE,JS.WHITE,eR.FONT_REGULAR,JS.WHITE,eR.FONT_UNDERLINE;!function(t){t.QB="HELLO",t.ZB="HI_THERE",t.tU="INITIALIZE",t.nU="APPEND_INIT",t.rU="APPEND_DATA",t.iU="ACK",t.eU="REMOVE",t.uU="DESTROY_SESSION"}(uR||(uR={}));var sR=$l.c_,oR=new $l(-1/0),cR=$l.H_,aR=new(function(t){function n(n,r){return t.call(this,n,r)||this}W(n,t);var r=n.prototype;return r.Wg=function(t,n){return t.Yg(n)?Fl.Vg:t.mg(n)?Fl.Bg:Fl.Ug},r.Wy=function(t,n){return t.Wy(n)},r.Zg=function(t,n){return t.Zg(n)},r.Gg=function(t,n){return t.Gg(n)},r.IC=function(){return sR},r.CC=function(){return cR},r.OC=function(){return oR},n.JC=function(t){for(var r=[],i=0;i<t.length;i++)r.push(new $l(t.start(i)),new $l(t.end(i)));return new n(r)},n.sU=function(t){for(var r=[],i=[],e=0;e<t.Sl;e++)r.push(new $l(t.yC(e))),r.push(new $l(t._C(e))),i.push(t.gC(e)),i.push(t.pC(e));return new n(r,i)},n.ZC=function(t){return new n([t,t],[!0,!0])},r.SC=function(t,r){return new n(t,r)},r.TC=function(t){return t.q_},n.tD=function(){return aR},n}(om))([]);fl.bv,fl.Tv,tt.Ae||tt.Oe,tt.Re,tt.Me,Qs.pf,Qs.sf,Qs.hf,Qs.ef,Qs.if;var fR=function(t){function n(n,r,i){var e;return void 0===i&&(i=new MS(r)),(e=t.call(this)||this).zS=void 0,e.oU=new Fy,e.cU=!1,e.va=null,e.aU={xy:0,Py:0,Ly:0,Fy:0,My:0,By:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.fU=function(t){"boolean"==typeof t.detail.casting&&(e.cU=t.detail.casting,e.Oo(new Cl(e.cU)))},e.hU=function(t){e.ba=t.sessionId,e.va&&(e.va.sessionId=e.ba);var n=t.initData;if(n){var r=function(t){try{var n=ts(t),r=new ss;return Xu(Gu(Ou(n,r,Fu(n,r,!0)),!0))}catch(t){return}}(n);if(!r)return;e.Oo(new eu(he,r))}else e.Oo(new eu(he,new ArrayBuffer(0)))},e.vU=n,e.YM=r,e.YM.Po(TS.qM,e.hU),e.fo=i,e.dU(),e}W(n,t);var r=n.prototype;return r.lU=function(){var t=C.coroutine(Qi.mark(function t(n){var r,i;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=8;break}if((i=n[r]).ro!==Tp.cR){t.next=5;break}return t.abrupt("return",i);case 5:r++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.po=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tl();case 2:this.Mo(),this.wU(),this.YM.Bo(TS.qM,this.hU);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.my=function(){throw new h("Not implemented yet")},r.ST=function(t,n,r,i,e,u){throw new h("Not implemented yet")},r.EI=function(){return!1},r.RI=function(t,n,r,i){throw new h("Not implemented yet")},r.CT=function(t){throw new h("Not implemented yet")},r.DI=function(){throw new h("Not implemented yet")},r.Oc=function(){var t=C.coroutine(Qi.mark(function t(n){var r=this;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.oU.PT(function(){var t=C.coroutine(Qi.mark(function t(i){var e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ro!==Tp.cR){t.next=7;break}return Me(i),e=new CS(n,r,r.fo),r.zS=e,t.abrupt("return",e);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ui=function(){throw new h("Not implemented yet")},r.ei=function(){throw new h("Not implemented yet")},r.Tl=function(){var t=this;return this.oU.So(),this.oU.PT(C.coroutine(Qi.mark(function n(){return Qi.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.zS){n.next=4;break}return n.next=3,t.zS.po();case 3:t.zS=void 0;case 4:case"end":return n.stop()}},n)})))},r.ac=function(t,n){throw new h("Not implemented yet")},r.LI=function(t){throw new h("Not implemented yet")},r.py=function(){throw new h("Not implemented yet")},r.FI=function(){return this.aU},r.dU=function(){this.vU.addEventListener("airPlayIsCasting",this.fU)},r.wU=function(){this.vU.removeEventListener("airPlayIsCasting",this.fU)},r.webkitSetMediaKeys=function(t){this.va=t||null,this.va&&(this.va.sessionId=this.ba)},r.yU=function(){},r.gU=function(){throw new h("Not implemented yet")},r._U=function(){throw new h("Not implemented yet")},r.pU=function(t){},H(n,[{key:"Ny",get:function(){throw new h("Not implemented yet")}},{key:"dI",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"Dy",get:function(){throw new h("Not implemented yet")}},{key:"Nw",get:function(){throw new h("Not implemented yet")}},{key:"WL",get:function(){throw new h("Not implemented yet")}},{key:"Aw",get:function(){throw new h("Not implemented yet")}},{key:"Ow",get:function(){throw new h("Not implemented yet")}},{key:"Go",get:function(){throw new h("Not implemented yet")}},{key:"lk",get:function(){throw new h("Not implemented yet")}},{key:"Oy",get:function(){return this.cU}},{key:"Pw",get:function(){throw new h("Not implemented yet")}},{key:"Lw",get:function(){throw new h("Not implemented yet")}},{key:"Fw",get:function(){throw new h("Not implemented yet")}},{key:"Vy",get:function(){throw new h("Not implemented yet")}},{key:"Gl",get:function(){throw new h("Not implemented yet")}},{key:"jy",get:function(){throw new h("Not implemented yet")}},{key:"Mw",get:function(){throw new h("Not implemented yet")}},{key:"mU",get:function(){throw new h("Not implemented yet")}},{key:"Vw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"as",get:function(){throw new h("Not implemented yet")}},{key:"CI",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.va}},{key:"kU",get:function(){return IS}},{key:"sy",get:function(){throw new h("Not implemented yet")}},{key:"MI",get:function(){throw new h("Not implemented yet")}},{key:"bU",get:function(){return!0}}]),n}(rd),hR=function(t){function n(n){var r;return(r=t.call(this,Qs.bf)||this).aU=n,r}return W(n,t),n}(Qe);var vR=function(t){function n(n){return t.call(this,Sl.dl,n)||this}return W(n,t),n.prototype.Xd=function(){return new dR(this.cg.zd)},n}(Dl),dR=function(t){function n(n){return t.call(this,Rl.dl,n)||this}return W(n,t),n}(Nl),lR=function(t){function n(n,r){var i,e=wR(r,n.Aw,n.MI,n.TU);return(i=t.call(this,r,e,void 0,!1,n.Ll)||this).EU=n.SU,i.RU=n.MI,i.IU=n.TU,i.CU=n.Aw,i.DU=n.NU,i.AU=Boolean(n.OU),i.xU=n.PU||{},i.LU=n.FU,i.MU=n.BU,i.UU=n.VU,i.qU(),i.jU(),i}W(n,t);var r=n.prototype;return r.Pc=function(t){var n=!1;void 0===this.EU&&void 0!==t.SU&&(n=!0,this.EU=t.SU),void 0===this.IU&&void 0!==t.TU&&(n=!0,this.IU=t.TU),void 0===this.CU&&void 0!==t.Aw&&(n=!0,this.CU=t.Aw),void 0===this.DU&&void 0!==t.NU&&(n=!0,this.DU=t.NU),!this.AU&&t.OU&&(n=!0,this.AU=t.OU),n=this.updateCustomAttributes(t,n),void 0===this.LU&&void 0!==t.FU&&(n=!0,this.LU=t.FU),void 0===this.MU&&void 0!==t.BU&&(n=!0,this.MU=t.BU),void 0===this.UU&&void 0!==t.VU&&(n=!0,this.UU=t.VU),this.qU(),this.jU(),this.HU(),n&&this.Oo(new vR(this))},r.updateCustomAttributes=function(t,n){var r=n;if(t.PU)for(var i=0,e=d.keys(t.PU);i<e.length;i++){var u=e[i];void 0===this.xU[u]&&(r=!0,this.xU[u]=t.PU[u])}return r},r.qU=function(){this.CU&&!this.IU&&(this.IU=new Date(this.RU.getTime()+1e3*this.CU))},r.jU=function(){this.IU&&!this.CU&&(this.CU=Zt(this.IU.getTime()-this.RU.getTime()))},r.HU=function(){this.gg===1/0&&(this.IU||this.CU)&&(this.gg=wR(this.yg,this.CU,this.RU,this.IU))},H(n,[{key:"zd",get:function(){var t;return this.$d||(this.$d=Av(Al(t=this),{get content(){return t.hg},get class(){return t.SU},get startDate(){return t.MI},get endDate(){return t.TU},get duration(){return t.Aw},get plannedDuration(){return t.NU},get endOnNext(){return t.OU},get scte35Cmd(){return t.FU},get scte35Out(){return t.BU},get scte35In(){return t.VU},get customAttributes(){return t.PU}})),this.$d}},{key:"SU",get:function(){return this.EU}},{key:"MI",get:function(){return this.RU}},{key:"TU",get:function(){return this.IU}},{key:"Aw",get:function(){return this.CU}},{key:"NU",get:function(){return this.DU}},{key:"OU",get:function(){return this.AU}},{key:"FU",get:function(){return this.LU}},{key:"BU",get:function(){return this.MU}},{key:"VU",get:function(){return this.UU}},{key:"PU",get:function(){return this.xU}}]),n}(Pl);function wR(t,n,r,i){return it(n)?t+n:i?t+(Zt(i.getTime())-Zt(r.getTime())):1/0}var yR,gR=function(t){function n(){return t.call(this,void 0,void 0,Tl.DATE_RANGE)||this}W(n,t);var r=n.prototype;return r.Pc=function(t,n){var r=this;t=function(t){for(var n=ne(),r=[],i=0;i<t.length;i++){var e=t[i];if(n.has(e.Ll)){var u=n.get(e.Ll),s=Zi(Zi(Zi({},u),Lv(e)),{PU:Zi(Zi({},u.PU),e.PU)});n.set(e.Ll,s)}else n.set(e.Ll,e),r.push(e.Ll)}return r.map(function(t){return n.get(t)})}(t);for(var i=this.Yl.El,e=function(n){var e=i[n],u=Ce(t,function(t){return t.Ll===e.Ll});u?e.Pc(u):r.OM(e)},u=i.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var c=o[s],a=c.MI;if(void 0!==a&&!this.NM(c.Ll)){var f=n(a);this.IT(new lR(c,f))}}},r.IT=function(n){this.WU(n),t.prototype.IT.call(this,n)},r.WU=function(t){var n=this._M.filter(function(n){return n.SU===t.SU}).pop();n&&n.OU&&n.Pc({Ll:n.Ll,TU:t.MI})},n}(SS);function _R(t){switch(t.type){case yR.xF:return t.value;case yR.OF:return Mv(t.value);case yR.AF:return vu(t.value);default:return}}function pR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.xF="daterange-ca-type_string",t.OF="daterange-ca-type_number",t.AF="daterange-ca-type_arraybuffer"}(yR||(yR={}));var mR,kR,bR,TR=function(t){function n(n,r,i,e,u){var s;return(s=t.call(this,e,r,i)||this).xS=n,s.$U=u,s}return W(n,t),H(n,[{key:"name",get:function(){return this.xS}},{key:"timestamp",get:function(){return this.$U}}]),n}(Os),ER=function(t){function n(n,r,i,e,u,s,o,c){var a;return(a=t.call(this,n,r,i,e,c)||this).url=u,a.status=s,a.errorComment=o,a}return W(n,t),n}(TR),SR=function(){function t(t,n){this.Zw=new yy,this.zU=new iS(t,n)}var n=t.prototype;return n.ST=function(t,n,r,i,e){var u=new mS(t,n,r,i,e);return this.Zw.ml(u),this.zU.ml(u),u},n.CT=function(t){this.Zw.kl(t),this.zU.kl(t)},n.Tl=function(){this.Zw.Tl(),this.zU.Tl()},n.fi=function(){this.Zw.fi(),this.zU.fi()},H(t,[{key:"sy",get:function(){return this.Zw}}]),t}(),RR=function(t){function n(n,r,i,e,u){var s;(s=t.call(this)||this).eD=0,s.XU=!1,s.XR=void 0,s.GR=void 0,s.sD=!0,s.oD=1,s.GU=cm.tD(),s.YU=cm.tD(),s.uD=!1,s.KU=cm.tD(),s.mM=vd.pw,s.vR=vd.pw,s.aU={xy:0,Py:0,Ly:0,Fy:0,My:0,By:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.zS=void 0,s.KR=new zp,s.setCurrentTime=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.jy.length){t.next=4;break}return s.eD=n,t.next=4,s.vU.jo("seekablechange");case 4:s.eD=s.updateCurrentTime(n),s.wM.lM("THEOplayerSetCurrentTime",s.eD),s.cD=!0,s.Oo(new Ud(s.eD));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.JU=function(t){if(t.detail){for(var n=t.detail.buffered,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.GU=new cm(r),s.Oo(new cS(s.Nw))}},s.QU=function(t){s.mM=t.detail.readyState,s.Oo(new jd(+t.detail.currentTime,s.Gl)),s.ZU()},s.tV=function(t){s.mM=t.detail.readyState,s.Oo(new Hd(+t.detail.currentTime,s.Gl)),s.ZU()},s.nV=function(t){if(t.detail){var n=+t.detail.duration;s.CU=n,s.Oo(new Pd(s.Aw))}},s.rV=function(t){t.detail&&(s.XU=!0,s.Oo(new Md(+t.detail.currentTime)))},s.JR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,r=JSON.parse(t.detail.errorObject);pR(n=r)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.GR=new ER(r.name,r.message,void 0,r.code,r.url,r.status,r.errorComment,r.timestamp),s.XR=al(s.GR),s.Oo(new $d(s.GR))):pR(r)&&(s.GR=new TR(r.name,r.message,void 0,r.code,r.timestamp),s.XR=al(s.GR),s.Oo(new $d(s.GR)))}},s.iV=function(t){s.Oo(new oS)},s.eV=function(t){s.mM=t.detail.readyState,s.Oo(new Bd(+t.detail.currentTime,s.Gl)),s.ZU()},s.uV=function(){var t=C.coroutine(Qi.mark(function t(n){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.jy.length){t.next=3;break}return t.next=3,s.vU.jo("seekablechange");case 3:s.mM=n.detail.readyState,s.Oo(new xd(+n.detail.currentTime,s.Gl)),s.ZU();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.sV=function(t){t.detail&&s.Oo(new Nd(+t.detail.currentTime))},s.oV=function(t){t.detail&&(s.sD||(s.sD=!0,s.Oo(new Dd(+t.detail.currentTime))))},s.cV=function(t){if(t.detail){for(var n=t.detail.played,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.KU=new cm(r).LC(.05)}},s.aV=function(t){t.detail&&s.Oo(new Up(+t.detail.currentTime))},s.fV=function(t){t.detail&&(s.oD=t.detail.playbackRate,s.Oo(new Ld(+t.detail.currentTime,s.oD)))},s.hV=function(t){if(t.detail){for(var n=t.detail.seekable,r=[],i=0;i<n.length;i++){var e=n[i];r.push(e.start,e.end)}s.YU=new cm(r)}},s.vV=function(t){t.detail&&(s.eD=+t.detail.currentTime,s.cD=!1,s.Oo(new Fd(s.eD,s.dV)),s.Oo(new Vd(s.eD)))},s.lV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.CU&&(s.XU=!1),s.cD=!0,s.Oo(new Ud(n))}},s.wV=function(t){t.detail&&(t.detail.currentDate&&(s.dV=new Date(1e3*t.detail.currentDate)),s.eD=+t.detail.currentTime,s.Oo(new Fd(s.eD,s.dV)))},s.yV=function(t){s.gV=t.detail.height,s._V=t.detail.width},s.pV=function(t){t.detail&&s.Oo(new Bp(+t.detail.currentTime))},s.mV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.ey.ml(new ml(n))},s.kV=function(t){for(var n,r,i=t.detail.lang,e=t.detail.label,u=0;u<s.Jw.Sl;u++){var o=s.ey.pl(u);o.Ul==i&&o.Bl==e?r=s.Jw.pl(u):1==o.Pl&&(n=s.Jw.pl(u))}r&&n&&(r.Pl=!0,n.Pl=!1)},s.bV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.uy.ml(new Il(n))},s.TV=function(t){var n,r=t.detail.kind,i=t.detail.type;r===wy.om&&i===Tl.ID3?(n=new RS("",t.detail.label)).Wl=Xv.zl:r===wy.om&&i===Tl.DATE_RANGE?(n=new gR,s.EV=n):n=new mS(r,t.detail.label,t.detail.lang,t.detail.isDefault,i),s.SV.ml(n),s.zU.ml(n)},s.RV=function(t){for(var n=0,r=t.detail;n<r.length;n++){var i=r[n],e=i.Id3FrameId,u={id:e,text:i.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=i.Id3FrameDescription);var o=new ES(Mv(i.startTime),u);o.Ll=i.uid;var c=s.IV();c&&c.IT(o)}},s.CV=function(t){for(var n,r=0,i=t.detail;r<i.length;r++){var e=i[r],u=new Ll(Mv(e.startTime),Mv(e.endTime),e.content,!1," "),o=null!==(n=s.DV(wy.lT))&&void 0!==n?n:s.DV(wy.wT);o&&(o.ro=Tl.WEBVTT,o.IT(u))}},s.fI=function(t){t.type===Qs.Ha&&(s.XR=al(t.errorObject)),s.Ao(t)},s.NV=function(t){t.detail&&(s.aU.Py=t.detail.corruptedVideoFrames,s.aU.xy=t.detail.droppedVideoFrames,s.Oo(new hR(s.Gw)))},s.AV=function(t){var n=function(t){var n=t.detail,r=[];return n.forEach(function(t){var n={Ll:t.id};if(void 0!==t.startDate&&(n.MI=new Date(t.startDate)),void 0!==t.endDate&&(n.TU=new Date(t.endDate)),void 0!==t.customAttributes){var i={};for(var e in t.customAttributes){var u=_R(t.customAttributes[e]);void 0!==u&&(i[e]=u)}n.PU=i}void 0!==t.scte35Cmd&&(n.FU=vu(t.scte35Cmd)),void 0!==t.scte35In&&(n.VU=vu(t.scte35In)),void 0!==t.scte35Out&&(n.BU=vu(t.scte35Out)),void 0!==t.startTime&&(n.ag=t.startTime),n.SU=t.class,n.Aw=Mv(t.duration),n.NU=Mv(t.plannedDuration),r.push(n)}),r}(t);n.forEach(function(t){var r=null!=t.ag?t.ag:(new Date).getTime(),i=new lR(t,r);s.EV.IT(i),s.EV.Pc(n,r)})};var o=e.uid;s.wM=s.getSdkBridge(o),s.vU=new qE,NE()[o].sdkEventBus=s.vU,s.Jw=new hl,s.Qw=new hl;var c=s.OV(i);return s.bT=new SR(rn(s),new eS),s.zU=new sS(rn(s)),s._I=new Dy(s.bT,c),s.SV=new yy,s.xV=new XS(rn(s)),s.xV.Al=s.SV,s.PV=new GS(s.bT,s.xV),s.Zw=new UE([s.SV,s._I.Jm,s.PV.Jm]),s.YM=s.getFairPlayControllerBridge(s.wM),s.JS=new fR(s.vU,s.YM),s.wI=new fS(s.JS,c),s.wI.Po(Wp,s.fI),s.observeMediaElement(),s.gI(),s.hD=new aS(s.wM,u),s.hD.Po("Dx",function(){s.wM.lM("THEOplayerSetPreferredForwardBufferDuration",s.hD.Cx)}),s}W(n,t);var r=n.prototype;return r.by=function(){return hm},r.py=function(){this.wM.lM("THEOplayerShow",{})},r.my=function(){this.wM.lM("THEOplayerHide",{})},r.LV=function(){var t=this;this.wM.lM("THEOplayerSetInitialPreferredPeakBitRate",this.hD.Ux);this.Po("playing",function n(){t.wM.lM("THEOplayerSetInitialPreferredPeakBitRate",0),t.Bo("playing",n)})},r.vy=function(){var t=C.coroutine(Qi.mark(function t(n,r){var i,e,u;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.FV=n,i=Zi(Zi({},r),{sources:{src:n.src,type:ad.vw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.wM.lM("THEOplayerSourceChange",i),e={ro:Tp.cR,Jl:n.src,Hh:n.type,pI:[],mI:n.crossOrigin,kI:r.metadata&&r.metadata.title},t.next=6,this.JS.Oc(e);case 6:this.zS=t.sent,this.wI.Hc(this.zS),this.wI.ZT(this.bI(n)),r.textTracks&&(u=r.textTracks.filter(function(t){return t.format!==Tl.WEBVTT})).length>0&&this.TI(u),Py(this.sy),this.LV();case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.bI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{ME:t.contentProtection||{},rR:{iR:"cbcs"},eE:[{Yc:ke,uE:[],ga:void 0}],sR:[],oR:["video/mp4"]}}},r.ei=function(){this.sD=!1,this.Oo(new Nd(this.Nw)),this.wM.lM("THEOplayerPlay",{})},r.ui=function(){this.sD=!0,this.Oo(new Dd(this.Nw)),this.wM.lM("THEOplayerPause",{})},r.ky=function(){},r.Tl=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eD=0,this.XU=!1,this.XR=void 0,this.GR=void 0,this.sD=!0,this.oD=1,this.CU=void 0,this.YU=cm.tD(),this.GU=cm.tD(),this.gV=void 0,this._V=void 0,this.mM=vd.pw,this.vR=vd.pw,this.Jw.Tl(),this.Qw.Tl(),this.SV.Tl(),this.Zw.Tl(),t.next=19,this.PV.Tl();case 19:return this.xV.Tl(),t.next=22,this._I.Tl();case 22:return this.bT.Tl(),this.zU.Tl(),this.FV=void 0,t.next=27,this.JS.Tl();case 27:return t.next=29,this.wI.Tl();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.wy=function(){this.wM.lM("THEOplayerShowAirPlayPicker",{})},r.yy=function(){this.wM.lM("THEOplayerStopAirPlayPicker",{})},r.updateMetrics=function(t){this.Gw.Py=t.Py,this.Gw.xy=t.xy},r.fi=function(){var t=C.coroutine(Qi.mark(function t(){return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Tl();case 2:return this.Mo(),this.unobserveMediaElement(),this.AI(),t.next=7,this.wI.fi();case 7:return t.next=9,this.JS.po();case 9:return this.Jw.fi(),this.Qw.fi(),this.SV.fi(),this.Zw.fi(),this.xV.fi(),t.next=16,this.PV.fi();case 16:return t.next=18,this._I.fi();case 18:this.bT.fi(),this.zU.fi();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.TI=function(t){for(var n=0;n<t.length;n++){var r=t[n];this._I.ET(r)}},r.ZU=function(){var t=this.vR,n=this.mM;t!==n&&(this.vR=n,this.Oo(new Wd(this.Nw,n)))},r.observeMediaElement=function(){this.JS.Po(Qs.Ua,this.Ao),this.vU.addEventListener("play",this.sV),this.vU.addEventListener("pause",this.oV),this.vU.addEventListener("seeking",this.lV),this.vU.addEventListener("seeked",this.vV),this.vU.addEventListener("ratechange",this.fV),this.vU.addEventListener("durationchange",this.nV),this.vU.addEventListener("timeupdate",this.wV),this.vU.addEventListener("waiting",this.pV),this.vU.addEventListener("playing",this.aV),this.vU.addEventListener("ended",this.rV),this.vU.addEventListener("loadedmetadata",this.uV),this.vU.addEventListener("loadeddata",this.eV),this.vU.addEventListener("loadstart",this.iV),this.vU.addEventListener("canplay",this.QU),this.vU.addEventListener("canplaythrough",this.tV),this.vU.addEventListener("error",this.JR),this.vU.addEventListener("seekablechange",this.hV),this.vU.addEventListener("videosizechange",this.yV),this.vU.addEventListener("bufferedchange",this.JU),this.vU.addEventListener("playedchange",this.cV),this.vU.addEventListener("metricschange",this.NV),this.vU.addEventListener("addDateRangeCues",this.AV)},r.unobserveMediaElement=function(){this.JS.Bo(Qs.Ua,this.Ao),this.vU.removeEventListener("play",this.sV),this.vU.removeEventListener("pause",this.oV),this.vU.removeEventListener("seeking",this.lV),this.vU.removeEventListener("seeked",this.vV),this.vU.removeEventListener("ratechange",this.fV),this.vU.removeEventListener("durationchange",this.nV),this.vU.removeEventListener("timeupdate",this.wV),this.vU.removeEventListener("waiting",this.pV),this.vU.removeEventListener("playing",this.aV),this.vU.removeEventListener("ended",this.rV),this.vU.removeEventListener("loadedmetadata",this.uV),this.vU.removeEventListener("loadeddata",this.eV),this.vU.removeEventListener("loadstart",this.iV),this.vU.removeEventListener("canplay",this.QU),this.vU.removeEventListener("canplaythrough",this.tV),this.vU.removeEventListener("error",this.JR),this.vU.removeEventListener("seekablechange",this.hV),this.vU.removeEventListener("videosizechange",this.yV),this.vU.removeEventListener("bufferedchange",this.JU),this.vU.removeEventListener("playedchange",this.cV),this.vU.removeEventListener("metricschange",this.NV),this.vU.removeEventListener("addDateRangeCues",this.AV)},r.updateCurrentTime=function(t){var n=this.jy.start(0),r=this.jy.end(0);return l.min(l.max(t,n),r)},r.IV=function(){for(var t=0,n=this.Zw.El;t<n.length;t++){var r=n[t];if(r.Ml===wy.om&&r.ro===Tl.ID3)return r}},r.DV=function(t){for(var n=0,r=this.Zw.El;n<r.length;n++){var i=r[n],e=i.Wl===Xv.$l,u=i.Ml===t;if(e&&u)return i}},r.gI=function(){this.vU.addEventListener("addaudiotrack",this.mV),this.vU.addEventListener("enableaudiotrack",this.kV),this.vU.addEventListener("addvideotrack",this.bV),this.vU.addEventListener("addtexttrack",this.TV),this.vU.addEventListener("addtexttrackid3cues",this.RV),this.vU.addEventListener("addtexttrackcues",this.CV)},r.AI=function(){this.vU.removeEventListener("addaudiotrack",this.mV),this.vU.removeEventListener("enableaudiotrack",this.kV),this.vU.removeEventListener("addvideotrack",this.bV),this.vU.removeEventListener("addtexttrack",this.TV),this.vU.removeEventListener("addtexttrackid3cues",this.RV),this.vU.removeEventListener("addtexttrackcues",this.MV)},r.Cy=function(){},H(n,[{key:"ey",get:function(){return this.Jw}},{key:"Dy",get:function(){return this.GU.xI()}},{key:"Ny",get:function(){return this.dV?this.dV:null},set:function(t){this.wM.lM("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.dV=t}},{key:"Nw",get:function(){return this.eD},set:function(t){this.setCurrentTime(t)}},{key:"Aw",get:function(){return this.CU}},{key:"Ow",get:function(){return this.XU}},{key:"Go",get:function(){return this.XR}},{key:"xw",get:function(){return this.GR}},{key:"oy",get:function(){}},{key:"Oy",get:function(){return this.JS.Oy}},{key:"Gw",get:function(){return this.aU}},{key:"Pw",get:function(){return this.uD},set:function(t){this.uD!==t&&(this.wM.lM("THEOplayerSetMuted",t),this.uD=t,this.Oo(new qd(this.Nw,t?0:1)))}},{key:"Lw",get:function(){return this.sD}},{key:"Fw",get:function(){return this.oD},set:function(t){this.wM.lM("THEOplayerSetPlaybackRate",t),this.oD=t}},{key:"Vy",get:function(){return this.KU.xI()}},{key:"qy",get:function(){return tm.iC},set:function(t){}},{key:"Gl",get:function(){return this.mM}},{key:"jy",get:function(){return this.YU.xI()}},{key:"Mw",get:function(){return this.cD}},{key:"MI",get:function(){}},{key:"sy",get:function(){return this.Zw}},{key:"Bw",get:function(){return this.gV}},{key:"Uw",get:function(){return this._V}},{key:"Vw",get:function(){return 1},set:function(t){}},{key:"uy",get:function(){return this.Qw}},{key:"BI",get:function(){return this.KR}},{key:"Uy",get:function(){return!0}}]),n}(rd),IR=function(){function t(){this.UI=jp.qR}var n=t.prototype;return n.VI=function(n,r){if(n.isAdvertisement)return!1;if(r.vr&&r.vr[360])return!1;if((i=n.type)&&_i(i.toLowerCase(),ad.hw))return!1;var i,e=n.contentProtection;if(e&&!lg(e)){if(!gg(e))return!1;if(!t.BV(e))return!1}return!0},t.BV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.qI=function(){return!1},t}(),CR=function(){function n(t){this.playerID=t}return n.prototype.lM=function(n,r){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var i={body:r,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(i)}},n}(),DR=function(t){function n(n){var r;return(r=t.call(this)||this).UV=function(t){var n=vu(t.detail.initData),i=t.detail.sessionId;r.Oo(new AS(n,i))},r.VV=function(t){var n=new _(pu(t.detail.message)),i=t.detail.destinationURL;r.Oo(new OS(n,i))},r.qV=function(t){r.Oo(new xS)},r.wM=n,r.vU=new qE,NE().fairplayController={sdkEventBus:r.vU},r.jV(),r}W(n,t);var r=n.prototype;return r.jV=function(){this.vU.addEventListener(TS.qM,this.UV),this.vU.addEventListener(TS.jM,this.VV),this.vU.addEventListener(TS.HM,this.qV)},r.xE=function(t,n){var r={playerId:OE(),data:mu(n.buffer),sessionId:t};this.wM.lM("THEOplayerCreateKeySession",r)},r.Pc=function(t,n){var r={playerId:OE(),data:mu(n.buffer),sessionId:t};this.wM.lM("THEOplayerUpdateKey",r)},n}(rd),NR=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.sv=function(n){if(rs(n.Wh)){var r=is(n.Wh);n.Wh=zu(r)}return t.prototype.sv.call(this,n)},n}(function(){function t(t){this.TT=t}var n=t.prototype;return n.sv=function(t){return this.TT.sv(t)},n.Av=function(t){this.TT.Av(t)},n.fi=function(){this.TT.fi()},t}()),AR=function(t){function n(n,r,i,e,u){return t.call(this,n,r,i,e,u)||this}W(n,t);var r=n.prototype;return r.ly=function(){return!1},r.getSdkBridge=function(t){return new CR(t)},r.getFairPlayControllerBridge=function(t){return kR||(kR=new DR(t)),kR},r.OV=function(t){return new NR(t)},n}(RR);mR=new(function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.HT=function(t,n,r,i,e,u){return new AR(t,n,r,i,e)},n}(IR)),Zp.Xe.XI(mR),function(t){t.qd="addtrack",t.Hd="removetrack",t.ol="change",t.dl="update"}(bR||(bR={}));var OR=function(t,n,r){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=r,this.type=bR.ol},xR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bR.qd},PR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bR.Hd},LR=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=bR.dl},FR=function(){function t(t,n,r){var i=this;this.HV=function(t){var n=new OR(i.type,t.track,i.mediaTracks);i.messageDispatcher.WV(n)},this.$V=function(t){var n=new xR(i.type,t.track);i.messageDispatcher.WV(n),t.track.addEventListener("update",i.zV)},this.XV=function(t){var n=new PR(i.type,t.track);i.messageDispatcher.WV(n)},this.zV=function(t){var n=new LR(i.type,t.track);i.messageDispatcher.WV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=r,this.jV()}return t.prototype.jV=function(){this.mediaTracks.addEventListener("change",this.HV),this.mediaTracks.addEventListener("addtrack",this.$V),this.mediaTracks.addEventListener("removetrack",this.XV)},t}(),MR=function(){function t(t){this.GV=new CR(t)}return t.prototype.WV=function(t){this.GV.lM(t.type,nE(t))},t}();NT(function(t){if(t.zd.audioTracks){var n=new MR(t.Fl);new FR("audio",t.zd.audioTracks,n)}if(t.zd.videoTracks){var r=new MR(t.Fl);new FR("video",t.zd.videoTracks,r)}});var BR,UR,VR=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case BR.YV:var r={integrationId:n.integrationId,keySystem:n.keySystem};this.Oo(new qR(r));break;default:0}},n}(qE),qR=function(t){function n(n){var r;return(r=t.call(this,BR.YV)||this).detail=n,r}return W(n,t),n}(Qe);!function(t){t.YV="registerContentProtectionIntegration"}(BR||(BR={})),function(t){t.KV="certifiateRequest",t.JV="certifiateResponse",t.QV="licenseRequest",t.ZV="licenseResponse",t.tq="extractFairplayContentId",t.nq="buildContentProtection",t.rq="registerContentProtectionCallback"}(UR||(UR={}));var jR,HR,WR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.rq};!function(t){t.VOD="vod",t.LIVE="live"}(jR||(jR={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(HR||(HR={}));var $R,zR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.nq},XR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.KV},GR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.JV},YR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.tq},KR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.QV},JR=function(t,n){this.value=t,this.integrationId=n,this.type=UR.ZV},QR=function(){function t(t,n){this.iq=t,this.WT=n}var r=t.prototype;return r.onCertificateRequest=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e=new XR(i,this.WT),t.prev=2,t.next=5,this.iq.uq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.sq(s)){t.next=13;break}return o=Zi({},s),t.abrupt("return",o);case 13:if(!this.oq(s)){t.next=16;break}return c=new _(s),t.abrupt("return",c);case 16:throw new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),r.onCertificateResponse=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e,u,s,o;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e={request:i,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},u=new GR(e,this.WT),t.next=5,this.iq.uq(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new _(o));case 11:throw new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseRequest=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e,u,s,o,c,a;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:r.fairplaySkdUrl},u=new KR(e,this.WT),t.prev=3,t.next=6,this.iq.uq(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.sq(o)){t.next=14;break}return c={url:o.url,method:o.method,headers:o.headers,body:o.body?new _(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.oq(o)){t.next=17;break}return a=new _(o),t.abrupt("return",a);case 17:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseResponse=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e,u,s,o,c;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.toCertificateRequestDTO(r.request),e=Zi(Zi({},i),{fairplaySkdUrl:r.request.fairplaySkdUrl}),u={request:e,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},s=new JR(u,this.WT),t.next=6,this.iq.uq(s);case 6:if(!(o=t.sent)){t.next=12;break}return c=JSON.parse(o),t.abrupt("return",new _(c));case 12:throw new sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.extractFairplayContentId=function(){var t=C.coroutine(Qi.mark(function t(r){var i,e;return Qi.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new YR(r,this.WT),t.next=3,this.iq.uq(i);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},r.sq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},r.oq=function(t){return!!new _(t)},t}(),ZR=function(){function t(t){this.iq=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new QR(this.iq,t.integration),r=new zR({drmConfiguration:t},t.integration);return this.iq.uq(r),n},t}(),tI=function(){var t=this;this.cq=function(n){var r=new ZR(t.messageDispatcher),i=n.detail,e=i.integrationId,u=i.keySystem,s={state:cg.KT.zT(e,u,r)};t.messageDispatcher.uq(new WR(s,e))},this.vU=new VR,NE().contentProtectionIntegration={sdkEventBus:this.vU},this.vU.addEventListener(BR.YV,this.cq)},nI="nativePromiseCallback",rI=function(t){function n(n){var r;return(r=t.call(this,nI)||this).detail=n,r}return W(n,t),n}(Qe);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}($R||($R={}));var iI=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.Oo(new rI(n))},r.addEventListener=function(t,n){this.Po(t,n)},r.removeEventListener=function(t,n){this.Bo(t,n)},n}(qE),eI=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var r=t.promisesMap[n.detail.promiseId];if(!r)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case $R.RESOLVE:r.yc(n.detail.data);break;case $R.REJECT:r.gc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new iI;NE().nativePromise={sdkEventBus:n},n.addEventListener(nI,this.handleNativePromiseEvent)}return t.prototype.uq=function(n){var r;t.messageIdTracker+=1;var i=t.messageIdTracker.toString(),e=Zi(Zi({},n),{promiseId:i}),u=new os;return this.promisesMap[i]=u,null===(r=this.GV)||void 0===r||r.lM(n.type,ZT(e)),u.wc},t}();eI.messageIdTracker=-1;var uI=function(t){function n(n){var r;return(r=t.call(this)||this).GV=new CR(n),r}return W(n,t),n}(eI),sI=function(t){function n(n){var r;return(r=t.call(this)||this).iq=new uI(n),r}return W(n,t),H(n,[{key:"messageDispatcher",get:function(){return this.iq}}]),n}(tI);NT(function(t){new sI(t.zd.uid)}),n.ChromelessPlayer=function t(n,r){var i=Xd(r),e=new(UT||(UT=CT(UT=XT(ST),mT.XL),UT=CT(UT,mT.GL)),UT)(n,i),u=e.zd;return e.VL(),e.kF(BT),d.defineProperty(u,"constructor",{value:t}),u=Dv(u),function(t){for(var n=0;n<DT.length;n++)(0,DT[n])(t)}(e),u},n.createGlobals=xE,n.features=[],n.getCueMirrorMap=AE,n.getGlobalId=OE,n.getSdkEventBridge=NE,n.playerSuiteVersion="2021.2.2",n.players=YT,n.registerContentProtectionIntegration=KT,n.utils=GT,n.version="2.86.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
