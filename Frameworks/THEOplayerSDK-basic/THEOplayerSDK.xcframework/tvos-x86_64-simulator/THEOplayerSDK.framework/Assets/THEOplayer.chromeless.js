/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.4.0 (2.90.0)
 Created: 2021-10-22T08:35:26.948Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,u=t.document,o=t.location,s=t.navigator,c=t.setTimeout,a=t.clearTimeout,f=t.setInterval,h=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),w=t.Math,y=t.parseInt,g=t.parseFloat,_=t.isNaN,p=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E,S,R,I,C,A=b(function(n,i){n.exports=function t(n,i,e){function u(s,c){if(!i[s]){if(!n[s]){var a="function"==typeof r&&r;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new v("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var i=n[s][1][t];return u(i||t)},h,h.exports,t,n,i,e)}return i[s].exports}for(var o="function"==typeof r&&r,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function s(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function h(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}s.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},s.prototype.hasCustomScheduler=function(){return this.v},s.prototype.enableTrampoline=function(){this.I=!0},s.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},s.prototype.haveItemsQueued=function(){return this.l||this.R},s.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(s.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){c(function(){t.call(n,i)},100)})},s.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},s.prototype.settlePromises=function(t){this.I?h.call(this,t):this.N(function(){t.B()})}):(s.prototype.invokeLater=a,s.prototype.invoke=f,s.prototype.settlePromises=h),s.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},s.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},s.prototype.U=function(){this.l=!1},n.exports=s,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=w.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var h=t[f];if(h===v||null!=h&&h.prototype instanceof v){if(c instanceof h)return e(o).call(a,c)}else if("function"==typeof h){var d=e(h).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(h),w=0;w<l.length;++w){var y=l[w];if(h[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.At=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.At&&(this.At.Dt=null,i.push(this.At))},r.prototype.Ot=function(){if(void 0!==this.At){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,o,s=n.Pt,a=n.it,f=t("./errors").Warning,h=t("./util"),w=t("./es5"),g=h.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==h.env("BLUEBIRD_DEBUG")),S=!(0==h.env("BLUEBIRD_WARNINGS")||!E&&!h.env("BLUEBIRD_WARNINGS")),R=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;c(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",e,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=s();e="function"==typeof t?null===n?t:h.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=s();r="function"==typeof t?null===n?t:h.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var A=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!h.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason}),!h.global.dispatchEvent(i)}}var t=u.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!h.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var n="on"+t.toLowerCase(),i=h.global[n];return!!i&&(i.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=A(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+h.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?h.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,h.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.At=new it(this.xt())}function W(t,n){if(g(t)){var i=this.At;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"tn",!0)}}}function z(){this.At=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(h.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:y(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}h.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),h.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),h.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,k=t,b=n;var i=v.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:h.isNode||"string"!=typeof(new v).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.At){for(var s=n.At.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:A,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return c(i,v),i}var h=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,v);var k=v.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(v,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function v(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var d=i(c,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}d.isPending()&&d.Yt(new a(this))}return d.H(h,v,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,h=a.tryCatch,d=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(d):d,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=h(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=h(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=h(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=h(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=h(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=w,e=(new v).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function v(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.Cn=i,this.An=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new v(t,i,o,u).promise()}c.inherits(v,i),v.prototype.Nn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.Cn;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.An--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.An>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.An++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},v.prototype.xn=function(){for(var t=this.Dn,n=this.Cn,i=this.On;t.length>0&&this.An<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},v.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},v.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&s.getPrototypeOf(t)===v.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&l(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new A.PromiseInspection(this.Y())},e=function(t){return A.reject(new d(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(A,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(A,"it",{value:h});var v=t("./errors"),d=A.TypeError=v.TypeError;A.RangeError=v.RangeError;var w=A.CancellationError=v.CancellationError;A.TimeoutError=v.TimeoutError,A.OperationalError=v.OperationalError,A.RejectionError=v.OperationalError,A.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(A,y),m=t("./promise_array")(A,y,p,e,u),k=t("./context")(A),b=k.create,T=t("./debuggability")(A,k),E=(T.CapturedTrace,t("./finally")(A,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function A(t){t!==y&&function(t,n){if(null==t||t.constructor!==A)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new A(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},A.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},A.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},A.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},A.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},A.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},A.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},A.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},A.getNewLibraryCopy=n.exports,A.is=function(t){return t instanceof A},A.fromNode=A.fromCallback=function(t){var n=new A(y);n.Xt();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=C(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},A.all=function(t){return new m(t).promise()},A.cast=function(t){var n=p(t);return n instanceof A||((n=new A(y)).Xt(),n.$n(),n.Un=t),n},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(t){var n=new A(y);return n.Xt(),n.bn(t,!0),n},A.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},A.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new A(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},A.prototype.kt=function(){return 65535&this.j},A.prototype.Wn=function(){return 0!=(117506048&this.j)},A.prototype.ot=function(){return 67108864==(67108864&this.j)},A.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},A.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},A.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},A.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},A.prototype.jn=function(){this.j=4194304|this.j},A.prototype.Zn=function(){return(4194304&this.j)>0},A.prototype.ti=function(){this.j=-65537&this.j},A.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},A.prototype.ft=function(){this.j=8388608|this.j},A.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},A.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},A.prototype.ii=function(t){return this[4*t-4+2]},A.prototype.ri=function(t){return this[4*t-4+0]},A.prototype.ei=function(t){return this[4*t-4+1]},A.prototype.G=function(){},A.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},A.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},A.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},A.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},A.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof A))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},A.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},A.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},A.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=C(t).apply(this.G(),i):(u=I).e=new d("cannot .spread() a non-array: "+c.classString(i)):u=C(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},A.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},A.prototype.st=function(){return this.Un},A.prototype.si=function(t){this.Un=t},A.prototype.ai=function(t,n,i,e){var o=t instanceof A,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.Ct(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,C(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},A.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof A?this.ci(n,r,e,i):n.call(r,e,i):i instanceof A&&i.V(e)},A.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},A.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},A.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},A.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},A.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},A.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},A.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(A.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),A.defer=A.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new A(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(A,"li",i),t("./method")(A,y,p,e,T),t("./bind")(A,y,p,T),t("./cancel")(A,m,e,T),t("./direct_resolve")(A),t("./synchronous_inspection")(A),t("./join")(A,m,p,y,h,o),A.Promise=A,A.version="3.5.5",t("./call_get.js")(A),t("./generators.js")(A,e,y,p,u,T),t("./map.js")(A,m,e,p,y,T),t("./nodeify.js")(A),t("./promisify.js")(A,y),t("./props.js")(A,m,p,e),t("./race.js")(A,y,p,e),t("./reduce.js")(A,m,e,p,y,T),t("./settle.js")(A,m,T),t("./some.js")(A,m,e),t("./timers.js")(A,y,T),t("./using.js")(A,e,p,b,y,T),t("./any.js")(A),t("./each.js")(A,y),t("./filter.js")(A,y),c.toFastProperties(A),c.toFastProperties(A.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new A(y)),T.setBounds(f.firstLineError,c.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=l(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,d),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ci(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ci=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ai=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ai,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,o,s,a,f,h=t("./util"),d=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,w=process.nextTick;r=h.isRecentNode?function(t){l.call(k,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();r=function(t){y.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in u.documentElement?(o=u.createElement("div"),s={attributes:!0},a=!1,f=u.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,s),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,s),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){a(this.handle)};var s=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).H(s,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),a=c(function(){u.yn()},+t),r.cancellation()&&u.J(new o(a)),u.Xt()),u.zn(),u};function h(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,s,a=new o(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,s)},t=+t));return r.cancellation()?(s=this.then(),(i=s.H(h,d,void 0,a,void 0)).J(a)):i=this.H(h,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=s.errorObj,v=s.tryCatch,d={};function l(t){c(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+s.classString(u));var c=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,c=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=c?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function h(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=l.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return m(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new v?function(t){return b(t)?t:new v(p(t))}:function(t){if(b(t))return t;try{throw new v(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),A="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,h},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof v.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:A,env:function(t){return A?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new v}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var D,N,O={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return A.resolve()},nr:function(){}}},n.ir=function(t){throw new v("Not implemented")},n.rr=function(t){return A.resolve()},n.er=function(t){return A.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return A.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t){N=t}Element.prototype.style={},T=(D=O).Ki,E=D.cr,S=D.dr,R=D.gr,I=R&&R.location,C=R&&R.navigator;var P,L=function(){},F=function(t){return t};(P=A)&&P.config({warnings:!1,longStackTraces:!1});var M,B,U,V,q,H;P&&(V=P.setScheduler(L),M=V,q={_r:function(t){B=t,M(U)},pr:U=function(){var t=B;t&&(B=void 0,t())}},P.setScheduler(q._r));function j(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function W(t,n,i){return n&&j(t.prototype,n),i&&j(t,i),t}function z(t,n){return(z=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function $(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,z(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(H||(H={}));var X=s?s.userAgent:"",G=X.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=X.match(/Android ([0-9\.]+)/i),K=X.match(/Windows NT ([0-9\.]+)/i),J=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Q=X.match(/Firefox\/([0-9\.]+)/i),Z=X.match(/OPR\/(\d+\.\d+)/i),tt=X.match(/Tizen ([0-9\.]+)/i),nt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(X)||/(macintosh|mac(?=_powerpc)\s)/i.test(X),this.Cr=/Windows NT/i.test(X),this.Ar=K?g(K[1]):0,this.Dr=/Android/i.test(X),this.Nr=Y?g(Y[1]):0,this.Or=/windows phone (8|8\.1)/i.test(X),this.xr=/iPhone/i.test(X),this.Pr=/iPad/i.test(X),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test(X),this.Mr=/Mobile Safari/i.test(X),this.Br=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Ur=this.Or||this.Br||this.Dr||this.Mr,this.Vr=/CriOS/i.test(X),this.qr=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Vr,this.Hr=Boolean(t.chrome||/Chrome/i.test(X)||/CriOS/i.test(X)),this.jr=G?y(G[1],10):0,this.Wr=/SMART-TV.*Tizen/i.test(X),this.zr=tt?g(tt[1]):0,this.$r=/webos|web0s/i.test(X),this.Xr=/Edge\/\d+/i.test(X),this.Gr=/Trident/i.test(X),this.Yr=this.Gr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Kr=/Vivaldi/i.test(X),this.Jr=/Firefox/i.test(X)&&!/Seamonkey/i.test(X),this.Qr=Q?g(Q[1]):0,this.Zr=/Safari/i.test(X)&&!/Chrome/i.test(X)&&!this.Or&&!this.Wr,this.te=J?g(J[2]):0,this.ie=Boolean(Z),this.re=Z?g(Z[1]):0,this.ee=/CrKey/.test(X),this.ue=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(X),this.oe="tvos"===H.br,this.se="tvos"===H.kr,this.ce=this.se||this.oe,this.ae="tvos"===H.Tr,this.fe="tvos"===H.Er,this.he="tvos"===H.Sr}return W(n,[{key:"ve",get:function(){return this.Rr}},{key:"de",get:function(){return this.Ir}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.Ar}},{key:"_e",get:function(){return this.Dr}},{key:"pe",get:function(){return this.Nr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.xr}},{key:"be",get:function(){return this.Pr}},{key:"Te",get:function(){return this.Lr}},{key:"Ee",get:function(){return this.Fr}},{key:"Se",get:function(){return this.Br}},{key:"Re",get:function(){return this.Mr}},{key:"Ie",get:function(){return this.Ur}},{key:"Ce",get:function(){return this.Vr}},{key:"Ae",get:function(){return this.qr}},{key:"De",get:function(){return this.jr}},{key:"Ne",get:function(){return this.Wr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.$r}},{key:"Pe",get:function(){return this.Xr}},{key:"Le",get:function(){return this.Gr}},{key:"Fe",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Kr}},{key:"Be",get:function(){return this.Jr}},{key:"Ue",get:function(){return this.Qr}},{key:"Ve",get:function(){return this.Zr}},{key:"qe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}},{key:"je",get:function(){return this.re}},{key:"We",get:function(){return this.ee}},{key:"ze",get:function(){return this.ue}},{key:"$e",get:function(){return this.oe}},{key:"Xe",get:function(){return this.se}},{key:"Ge",get:function(){return this.ce}},{key:"Ye",get:function(){return this.ae}},{key:"Ke",get:function(){return this.fe}},{key:"Je",get:function(){return this.he}},{key:"Qe",get:function(){return this.Hr}}]),n}();nt.Ze=new nt;var it=nt.Ze,rt={}.hasOwnProperty,et={}.toString;function ut(t){return null!=t}var ot=Array.isArray||function(t){return"[object Array]"===et.call(t)};function st(t){return ct(t)&&rt.call(t,"length")&&dt(t.length)}function ct(t){return"object"==typeof t&&null!==t}function at(t){return ct(t)&&t.constructor&&t.constructor===l}function ft(t){return"string"==typeof t}function ht(t){return"boolean"==typeof t}function vt(t){return Boolean(t)&&"function"==typeof t.then}function dt(t){return"number"==typeof t}var lt=!(it.Le&&!it.Fe),wt=t.console;function yt(t){if(ct(t))try{return JSON.stringify(t)}catch(t){}return t}function gt(t){return t.map(yt).join(" ")}function _t(t){var n=wt&&wt[t];return n?n.bind&&lt?n.bind(wt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];wt[t](gt(i))}:void 0}var pt,mt=_t("log")||L,kt=_t("warn")||mt.bind(void 0,"WARNING:"),bt=_t("error")||mt.bind(void 0,"ERROR:"),Tt=(pt=wt&&wt.assert)?pt.bind&&lt?pt.bind(wt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.assert(t,gt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,["Assertion failed:"].concat(i))}},Et=Rt,St=null;try{St=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Rt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function It(t){return!0===(t&&t.tu)}Rt.prototype.tu,l.defineProperty(Rt.prototype,"tu",{value:!0}),Rt.isLong=It;var Ct={},At={};function Dt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=At[t])?r:(i=Ot(t,(0|t)<0?-1:0,!0),e&&(At[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Ct[t])?r:(i=Ot(t,t<0?-1:0,!1),e&&(Ct[t]=i),i)}function Nt(t,n){if(_(t))return n?qt:Vt;if(n){if(t<0)return qt;if(t>=Mt)return $t}else{if(t<=-Bt)return Xt;if(t+1>=Bt)return zt}return t<0?Nt(-t,n).neg():Ot(t%Ft|0,t/Ft|0,n)}function Ot(t,n,i){return new Rt(t,n,i)}Rt.fromInt=Dt,Rt.fromNumber=Nt,Rt.fromBits=Ot;var xt=w.pow;function Pt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Vt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return Pt(t.substring(1),n,i).neg();for(var e=Nt(xt(i,8)),u=Vt,o=0;o<t.length;o+=8){var s=w.min(8,t.length-o),c=y(t.substring(o,o+s),i);if(s<8){var a=Nt(xt(i,s));u=u.mul(a).add(Nt(c))}else u=(u=u.mul(e)).add(Nt(c))}return u.unsigned=n,u}function Lt(t,n){return"number"==typeof t?Nt(t,n):"string"==typeof t?Pt(t,n):Ot(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Rt.fromString=Pt,Rt.fromValue=Lt;var Ft=4294967296,Mt=Ft*Ft,Bt=Mt/2,Ut=Dt(1<<24),Vt=Dt(0);Rt.ZERO=Vt;var qt=Dt(0,!0);Rt.UZERO=qt;var Ht=Dt(1);Rt.ONE=Ht;var jt=Dt(1,!0);Rt.UONE=jt;var Wt=Dt(-1);Rt.NEG_ONE=Wt;var zt=Ot(-1,2147483647,!1);Rt.MAX_VALUE=zt;var $t=Ot(-1,-1,!0);Rt.MAX_UNSIGNED_VALUE=$t;var Xt=Ot(0,-2147483648,!1);Rt.MIN_VALUE=Xt;var Gt=Rt.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ft+(this.low>>>0):this.high*Ft+(this.low>>>0)},Gt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var n=Nt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Nt(xt(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Gt.getHighBits=function(){return this.high},Gt.getHighBitsUnsigned=function(){return this.high>>>0},Gt.getLowBits=function(){return this.low},Gt.getLowBitsUnsigned=function(){return this.low>>>0},Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Gt.isZero=function(){return 0===this.high&&0===this.low},Gt.eqz=Gt.isZero,Gt.isNegative=function(){return!this.unsigned&&this.high<0},Gt.isPositive=function(){return this.unsigned||this.high>=0},Gt.isOdd=function(){return 1==(1&this.low)},Gt.isEven=function(){return 0==(1&this.low)},Gt.equals=function(t){return It(t)||(t=Lt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Gt.eq=Gt.equals,Gt.notEquals=function(t){return!this.eq(t)},Gt.neq=Gt.notEquals,Gt.ne=Gt.notEquals,Gt.lessThan=function(t){return this.comp(t)<0},Gt.lt=Gt.lessThan,Gt.lessThanOrEqual=function(t){return this.comp(t)<=0},Gt.lte=Gt.lessThanOrEqual,Gt.le=Gt.lessThanOrEqual,Gt.greaterThan=function(t){return this.comp(t)>0},Gt.gt=Gt.greaterThan,Gt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Gt.gte=Gt.greaterThanOrEqual,Gt.ge=Gt.greaterThanOrEqual,Gt.compare=function(t){if(It(t)||(t=Lt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Gt.comp=Gt.compare,Gt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Ht)},Gt.neg=Gt.negate,Gt.add=function(t){It(t)||(t=Lt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,Ot((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Gt.subtract=function(t){return It(t)||(t=Lt(t)),this.add(t.neg())},Gt.sub=Gt.subtract,Gt.multiply=function(t){if(this.isZero())return Vt;if(It(t)||(t=Lt(t)),St)return Ot(St.mul(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned);if(t.isZero())return Vt;if(this.eq(Xt))return t.isOdd()?Xt:Vt;if(t.eq(Xt))return this.isOdd()?Xt:Vt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ut)&&t.lt(Ut))return Nt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,Ot((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Gt.mul=Gt.multiply,Gt.divide=function(t){if(It(t)||(t=Lt(t)),t.isZero())throw v("division by zero");var n,i,r;if(St)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Ot((this.unsigned?St.div_u:St.div_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?qt:Vt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return qt;if(t.gt(this.shru(1)))return jt;r=qt}else{if(this.eq(Xt))return t.eq(Ht)||t.eq(Wt)?Xt:t.eq(Xt)?Ht:(n=this.shr(1).div(t).shl(1)).eq(Vt)?t.isNegative()?Ht:Wt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Xt))return this.unsigned?qt:Vt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Vt}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:xt(2,e-48),o=Nt(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Nt(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ht),r=r.add(o),i=i.sub(s)}return r},Gt.div=Gt.divide,Gt.modulo=function(t){return It(t)||(t=Lt(t)),St?Ot((this.unsigned?St.rem_u:St.rem_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Gt.mod=Gt.modulo,Gt.rem=Gt.modulo,Gt.not=function(){return Ot(~this.low,~this.high,this.unsigned)},Gt.and=function(t){return It(t)||(t=Lt(t)),Ot(this.low&t.low,this.high&t.high,this.unsigned)},Gt.or=function(t){return It(t)||(t=Lt(t)),Ot(this.low|t.low,this.high|t.high,this.unsigned)},Gt.xor=function(t){return It(t)||(t=Lt(t)),Ot(this.low^t.low,this.high^t.high,this.unsigned)},Gt.shiftLeft=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Ot(0,this.low<<t-32,this.unsigned)},Gt.shl=Gt.shiftLeft,Gt.shiftRight=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Ot(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Gt.shr=Gt.shiftRight,Gt.shiftRightUnsigned=function(t){if(It(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Ot(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Ot(32===t?n:n>>>t-32,0,this.unsigned)},Gt.shru=Gt.shiftRightUnsigned,Gt.shr_u=Gt.shiftRightUnsigned,Gt.toSigned=function(){return this.unsigned?Ot(this.low,this.high,!1):this},Gt.toUnsigned=function(){return this.unsigned?this:Ot(this.low,this.high,!0)},Gt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Gt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Gt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Rt.fromBytes=function(t,n,i){return i?Rt.fromBytesLE(t,n):Rt.fromBytesBE(t,n)},Rt.fromBytesLE=function(t,n){return new Rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Rt.fromBytesBE=function(t,n){return new Rt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Yt=Et,Kt=w.pow(2,-52);function Jt(t,n,i){return w.min(w.max(t,n),i)}function Qt(t,n,i){return t===n||w.abs(t-n)<=i}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var rn;Yt.fromNumber(9007199254740991);function en(t){return t.nu===rn.iu}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.iu=1]="iu",t[t.ru=2]="ru",t[t.eu=3]="eu",t[t.uu=4]="uu",t[t.ou=9]="ou"}(rn||(rn={}));var on=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(on.prototype=l.create(v.prototype)).constructor=on;var sn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(un(r),r.constructor),r}return $(n,t),W(n,[{key:"name",get:function(){return"BaseError"}}]),n}(on),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return $(n,t),n}(sn),an=function(){function t(){}return t.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new yn(n)},t}(),fn=function(){function t(t){this.cu=void 0,this.cu=t}var n=t.prototype;return n.au=function(t){return this.cu.isEqualNode(t.cu)},n.fu=function(n){return new t(this.cu.cloneNode(n))},W(t,[{key:"nu",get:function(){return rn.ru}},{key:"hu",get:function(){var t;return null!=(t=this.cu.localName)?t:pn(this.cu.nodeName)}},{key:"vu",get:function(){return this.cu.nodeName}},{key:"du",get:function(){var t;return null!=(t=this.cu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.cu.prefix)?t:void 0}},{key:"wu",get:function(){return this.cu.nodeValue}}]),t}(),hn=function(){function t(t){this.yu=void 0,this.gu=void 0,this.yu=t}var n=t.prototype;return n._u=function(t){return this.pu.filter(function(n){return gn(n)&&n.mu===t})},n.ku=function(t,n){return this.pu.filter(function(i){return gn(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.yu.appendChild(t.Tu),this.gu&&this.gu.push(t)},n.au=function(t){return this.yu.isEqualNode(t.Tu)},W(t,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=function(t){for(var n=[],i=0;i<t.length;i++){var r=_n(t.item(i));r&&n.push(r)}return n}(this.yu.childNodes)),this.gu}},{key:"Eu",get:function(){return this.pu.filter(gn)}},{key:"Tu",get:function(){return this.yu}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.Su=function(t){if(this.yu.hasAttribute(t))return this.yu.getAttribute(t)},i.Ru=function(t,n){if(this.yu.hasAttributeNS(t,n))return this.yu.getAttributeNS(t,n)},i.Iu=function(t){this.yu.removeAttribute(t)},i.Cu=function(t,n){this.yu.removeAttributeNS(t,n)},i.Au=function(t,n){this.yu.setAttribute(t,n)},i.Du=function(t,n,i){this.yu.setAttributeNS(t,n,i)},i.fu=function(t){return new n(this.yu.cloneNode(t))},W(n,[{key:"nu",get:function(){return rn.iu}},{key:"hu",get:function(){var t;return null!=(t=this.yu.localName)?t:pn(this.yu.nodeName)}},{key:"du",get:function(){var t;return null!=(t=this.yu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.yu.prefix)?t:void 0}},{key:"mu",get:function(){return this.yu.nodeName}},{key:"Nu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.yu.attributes)}},{key:"Ou",get:function(){return this.yu.textContent}}]),n}(hn),dn=function(){function t(t){this.yu=void 0,this.yu=t}return t.prototype.au=function(t){return this.xu===t.xu},W(t,[{key:"xu",get:function(){return this.yu.nodeValue}},{key:"Tu",get:function(){return this.yu}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},W(n,[{key:"nu",get:function(){return rn.eu}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},W(n,[{key:"nu",get:function(){return rn.uu}}]),n}(dn),yn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},W(n,[{key:"nu",get:function(){return rn.ou}},{key:"Pu",get:function(){return new vn(this.yu.documentElement)}}]),n}(hn);function gn(t){return en(t)}function _n(t){switch(t.nodeType){case rn.iu:return new vn(t);case rn.eu:return new ln(t);case rn.uu:return new wn(t)}}function pn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){bn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&bn(i,null,t.length,t),t}function bn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var Tn=/[a-zA-Z]/,En=/[0-9]/,Sn=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,Cn=/^[0-9a-fA-F]+$/,An=/^[0-7]+$/,Dn=l.prototype.toString,Nn=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Nn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Ln(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Fn(t){return t>=48&&t<=57}function Mn(t){return Fn(t)||Ln(t)}function Bn(t){return Fn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return Pn(t)?t+32:t}function Vn(t){return Fn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function qn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=w.min,jn=String.fromCharCode,Wn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Hn(r+Wn,n);i.push(jn.apply(null,t.slice(r,e)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=w.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return r+e}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Kn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Yn((2147483647-e)/w)&&Jn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Jn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Kn(ii(k+b%T,0))),p=Yn(b/T)}n.push(Kn(ii(p,0))),u=ri(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function oi(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(oi(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function fi(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function hi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return oi(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,qn(t>>4),qn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function yi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function _i(t){return gi(t)||39===t}function pi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,vi(u))}return r}function mi(t,n){for(var i=[],r=0,e=Qn(t);r<e.length;r++){var u=e[r];i.push.apply(i,pi(u,n))}return ui(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Bn(t[r+1])&&Bn(t[r+2])){var u=Vn(t[r+1])<<4|Vn(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ai(t))}function bi(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=hi());)i.push(n);return i}(ki(Qn(t))))}function Ti(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new d;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new d("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&Sn.test(t[a]);)f=f<<4|y(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new d;if(a-=h,s>6)throw new d;for(var v=0;a<u;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!En.test(t[a]))throw new d;for(;a<u&&En.test(t[a]);){var w=y(t[a],10);if(null===l)l=w;else{if(0===l)throw new d;if((l=10*l+w)>255)throw new d}a+=1}o[s]=o[s]<<8|l,2!==(v+=1)&&4!==v||(s+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===u)throw new d}else if(a<u)throw new d;o[s]=f,s+=1}else{if(null!==c)throw new d("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new d;return o}function Ei(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=Cn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=An),""===t?0:i.test(t)?y(t,n):void 0}var Si={Lu:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Ci(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Lu:2,Fu:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new d("Invalid code point in opaque host");var n=mi(t,di);return""===n?Si:{Lu:3,$i:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(bi(t));if(Ri.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ei(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new d;if(i[i.length-1]>=w.pow(256,5-i.length))throw new d;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*w.pow(256,3-c);return s}}(i);return void 0!==r?{Lu:1,Fu:r}:""===i?Si:{Lu:0,Mu:i}}function Ai(t){switch(t.Lu){case 0:return t.Mu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Fu)+"]";case 3:return t.$i;case 4:return""}}var Di=/\+/g;function Ni(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Di," "),s=s.replace(Di," ");var c=bi(o),a=bi(s);i.push([c,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai(Qn(r[0])))+"="+xi(ai(Qn(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Mi(u))if(Bi(u)||e===i-1)r.push(Fi);else{var o=t.charCodeAt(e+1);Bi(o)?(r.push(u,o),e++):r.push(Fi)}else r.push(u)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Fi=65533,Mi=function(t){return 55296==(63488&t)},Bi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Vi(t){t.Bu.length=0}function qi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Bu,Ni(n))}function Hi(t){if(t.Uu){var n=Oi(t.Bu);""===n&&(n=null),t.Uu.Uu.Vu=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Uu=null,null==t)this.Bu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ji&&Nn(u.Bu)&&(!On||u[Symbol.iterator]===Wi))this.Bu=t.Bu.slice();else if(function(t){return null!=t&&(!!Nn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Bu=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Bu.push([Li(r[0]),Li(r[1])])}}else for(var e in this.Bu=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Bu.push([Li(e),Li(t[e])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Bu=Ni(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.Bu.push([t,n]),Hi(this)},n.delete=function(t){t=Li(t);for(var n=this.Bu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=Li(t);for(var n=this.Bu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.Bu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Li(t);for(var n=this.Bu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.Bu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Hi(this)},n.sort=function(){kn(this.Bu,Ui),Hi(this)},n.toString=function(){return Oi(this.Bu)},n.entries=function(){return new Gi(this.Bu,zi)},n.keys=function(){return new Gi(this.Bu,$i)},n.values=function(){return new Gi(this.Bu,Xi)},n.forEach=function(t){var n=this;this.Bu.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=ji.prototype.entries;On&&(ji.prototype[Symbol.iterator]=Wi);var zi=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.qu=0,this.Bu=t,this.Hu=n}return t.prototype.next=function(){return this.qu<this.Bu.length?{done:!1,value:this.Hu(this.Bu[this.qu++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=l.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function tr(t){return Qi.test(t)}function nr(t){return void 0!==Ki[t]}function ir(t){return nr(t.ju)}function rr(t){return""!==t.Wu||""!==t.zu}function er(t){var n=t.length;if(!(n>=2))return!1;if(!or(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ur(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function or(t){return 2===t.length&&ur(zn(t))}function sr(t){return ur(t)&&":"===t[1]}function cr(t){var n=t.$u;0!==n.length&&("file"===t.ju&&1===n.length&&sr(n[0])||n.pop())}function ar(t){return null===t.Xu||Si===t.Xu||t.Gu||"file"===t.ju}var fr=-1,hr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new wr,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Qn(t=t.replace(hr,"")),f=a.length,h=0;h<=f;){var v=h<f?a[h]:fr;switch(e){case 0:if(!Ln(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(Un(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)u.push(Un(v));else{if(58!==v){if(null===r){u.length=0,e=2,h=0;continue}throw new d("Invalid scheme")}var l=ui(u);if(null!==r){if(nr(i.ju)&&!nr(l))return;if(!nr(i.ju)&&nr(l))return;if((rr(i)||null!==i.Yu)&&"file"===l)return;if("file"===i.ju&&(i.Xu===Si||null===i.Xu))return}if(i.ju=l,null!==r)return void(ir(i)&&i.Yu===Ki[i.ju]&&(i.Yu=null));u.length=0,"file"===i.ju?e=13:ir(i)&&n&&n.ju===i.ju?e=3:ir(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Gu=!0,i.$u.push(""),e=18)}break;case 2:if(!n||n.Gu&&35!==v)throw new d("Invalid scheme");n.Gu&&35===v?(i.ju=n.ju,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",i.Gu=!0,e=20):"file"!==n.ju?(e=5,h-=1):(e=13,h-=1);break;case 3:47===v&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===v?e=9:(e=17,h-=1);break;case 5:i.ju=n.ju,fr===v?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu):47===v?e=6:63===v?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu="",e=19):35===v?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):92===v&&ir(i)?e=6:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.$u.pop(),e=17,h-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,e=17,h-=1):e=8;break;case 7:if(47!==v||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==v&&92!==v&&(e=9,h-=1);break;case 9:if(64===v){o&&u.unshift(37,52,48),o=!0;for(var w=0;w<u.length;w++){var g=u[w];if(58!==g||c){var _=ui(pi(g,yi));c?i.zu+=_:i.Wu+=_}else c=!0}u.length=0}else if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(o&&0===u.length)throw new d("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.ju)h-=1,e=15;else if(58!==v||s)if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(h-=1,ir(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(rr(i)||null!==i.Yu))return;var p=Ci(ui(u),ir(i));if(i.Xu=p,u.length=0,e=16,null!==r)return}else 91===v?s=!0:93===v&&(s=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var m=Ci(ui(u),ir(i));if(i.Xu=m,u.length=0,e=12,11===r)return}break;case 12:if(Fn(v))u.push(v);else{if(!(fr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var k=y(ui(u),10);if(k>65535)throw new d("Invalid port");i.Yu=k===Ki[i.ju]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.ju="file",47===v||92===v?e=14:n&&"file"===n.ju?fr===v?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu):63===v?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu="",e=19):35===v?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):(er(a.slice(h))||(i.Xu=n.Xu,i.$u=n.$u.slice(),cr(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.ju&&!er(a.slice(h))&&(sr(n.$u[0])?i.$u.push(n.$u[0]):i.Xu=n.Xu),e=17,h-=1);break;case 15:if(fr===v||47===v||92===v||63===v||35===v)if(h-=1,null===r&&or(u))e=17;else if(0===u.length){if(i.Xu=Si,null!==r)return;e=16}else{var b=Ci(ui(u),ir(i));if(0===b.Lu&&"localhost"===b.Mu&&(b=Si),i.Xu=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(h-=1)):null===r&&63===v?(i.Vu="",e=19):null===r&&35===v?(i.Ku="",e=20):fr!==v&&(e=17,47!==v&&(h-=1));break;case 17:if(fr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var T=ui(u);if(tr(T)?(cr(i),47===v||ir(i)&&92===v||i.$u.push("")):!Zi(T)||47===v||ir(i)&&92===v?Zi(T)||("file"===i.ju&&0===i.$u.length&&or(u)&&(Si!==i.Xu&&null!==i.Xu&&(i.Xu=Si),u[1]=58,T=ui(u)),i.$u.push(T)):i.$u.push(""),u.length=0,"file"===i.ju&&(fr===v||63===v||35===v))for(;i.$u.length>1&&""===i.$u[0];)i.$u.shift();63===v?(i.Vu="",e=19):35===v&&(i.Ku="",e=20)}else u.push.apply(u,pi(v,wi));break;case 18:63===v?(i.Vu="",e=19):35===v?(i.Ku="",e=20):fr!==v&&(i.$u[0]+=ui(pi(v,di)));break;case 19:null===r&&35===v?(i.Ku="",e=20):fr!==v&&(i.Vu+=ui(pi(v,ir(i)?_i:gi)));break;case 20:fr===v||0===v||(i.Ku+=ui(pi(v,li)))}h++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var wr=function(){this.ju="",this.Wu="",this.zu="",this.Xu=null,this.Yu=null,this.$u=[],this.Vu=null,this.Ku=null,this.Gu=!1};function yr(t){switch(t.ju){case"blob":var n;try{n=dr(t.$u[0],null)}catch(t){return Yi}return yr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ju,r=t.Xu,e=t.Yu,i+"://"+Ai(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var gr,_r=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof _r&&"object"==typeof i.Uu)e=n.Uu;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var u=r.Vu;this.Uu=r,this.Vu=function(t){var n=new ji;return null!==t&&qi(n,t),n}(u),this.Vu.Uu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ju+":";if(null!==t.Xu?(i+="//",rr(t)&&(i+=t.Wu,""!==t.zu&&(i+=":"+t.zu),i+="@"),i+=Ai(t.Xu),null!==t.Yu&&(i+=":"+t.Yu)):null===t.Xu&&"file"===t.ju&&(i+="//"),t.Gu)i+=t.$u[0];else for(var r=0,e=t.$u;r<e.length;r++)i+="/"+e[r];return null!==t.Vu&&(i+="?"+t.Vu),n||null===t.Ku||(i+="#"+t.Ku),i}(this.Uu)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Uu=n,Vi(this.Vu);var i=this.Uu.Vu;null!==i&&qi(this.Vu,i)}},{key:"origin",get:function(){return yr(this.Uu)}},{key:"protocol",get:function(){return this.Uu.ju+":"},set:function(t){lr(t+":",null,this.Uu,0)}},{key:"username",get:function(){return this.Uu.Wu},set:function(t){ar(this.Uu)||(this.Uu.Wu=mi(t,yi))}},{key:"password",get:function(){return this.Uu.zu},set:function(t){ar(this.Uu)||(this.Uu.zu=mi(t,yi))}},{key:"host",get:function(){var t=this.Uu,n=t.Xu;if(null===n)return"";var i=t.Yu,r=Ai(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Uu.Gu||lr(t,null,this.Uu,10)}},{key:"hostname",get:function(){var t=this.Uu.Xu;return null===t?"":Ai(t)},set:function(t){this.Uu.Gu||lr(t,null,this.Uu,11)}},{key:"port",get:function(){var t=this.Uu.Yu;return null===t?"":""+t},set:function(t){ar(this.Uu)||(""===t?this.Uu.Yu=null:lr(t,null,this.Uu,12))}},{key:"pathname",get:function(){var t=this.Uu.$u;return this.Uu.Gu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Uu.Gu||(this.Uu.$u.length=0,lr(t,null,this.Uu,16))}},{key:"search",get:function(){var t=this.Uu.Vu;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Uu;if(""===t)return n.Vu=null,void Vi(this.Vu);"?"===t[0]&&(t=t.slice(1)),n.Vu="",lr(t,null,n,19),qi(this.Vu,t)}},{key:"searchParams",get:function(){return this.Vu}},{key:"hash",get:function(){var t=this.Uu.Ku;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Uu.Ku="",lr(t,null,this.Uu,20)):this.Uu.Ku=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function pr(t){return t.document&&t.document.baseURI||t.location.href||""}function mr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function kr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function br(){return void 0!==u?u.createElement("video"):void 0}function Tr(){return gr||(gr=br()),gr}var Er=!!("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Sr=Tr(),Rr=!(!Sr||!Sr.webkitShowPlaybackTargetPicker),Ir=function(){function t(){this.Ju=void 0,this.Qu=!1,this.ve=Er,this.Ie=!1,this.Zu=!0,this.to=!0}var n=t.prototype;return n.io=function(){return 0},n.ro=function(t,n){return!0},n.eo=function(t){return t>=1/6*2},W(t,[{key:"uo",get:function(){return void 0===this.Ju&&(this.Ju=this.io()),this.Ju}},{key:"oo",get:function(){return e.devicePixelRatio||1}},{key:"so",get:function(){return Rr}},{key:"co",get:function(){return!1}},{key:"ao",get:function(){return!0}},{key:"fo",get:function(){return it.Ve}},{key:"ho",get:function(){return!0}}]),t}(),Cr=function(){var t=br();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(it.Te)return!1;var t=br();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ar=function(t){function n(n){var i;return(i=t.call(this)||this).vo=void 0,i.vo=n,i.vo&&(i.Qu=i.vo.Qu,i.ve=i.vo.ve,i.Zu=Cr&&i.vo.Zu),i}$(n,t);var i=n.prototype;return i.io=function(){return this.vo?this.vo.uo:t.prototype.io.call(this)},i.ro=function(n,i){return this.vo?this.vo.ro(n,i):t.prototype.ro.call(this,n,i)},i.eo=function(n){return this.vo?this.vo.eo(n):t.prototype.eo.call(this,n)},n}(Ir),Dr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Qu=!0,i.Ie=!0,i}return $(n,t),n}(Ar),Nr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.io=function(){return R.MediaSource?t.prototype.io.call(this):1},n}(Dr),Or=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ro=function(n,i){return!(i.do>1920)&&t.prototype.ro.call(this,n,i)},W(n,[{key:"co",get:function(){return it.Oe<3}},{key:"ao",get:function(){return it.Oe>=3}}]),n}(Ar),xr=function(t){function n(){return t.call(this)||this}return $(n,t),n}(Ir),Pr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ro=function(t,n){if(t&&t.lo&&n&&n.lo){var i=Lr(t.lo,"mp4a.40.2")&&Lr(n.lo,"mp4a.40.5"),r=Lr(t.lo,"mp4a.40.5")&&Lr(n.lo,"mp4a.40.2"),e=Lr(t.lo,"mp4a.40.2")&&Lr(n.lo,"mp4a.40.34"),u=Lr(t.lo,"mp4a.40.34")&&Lr(n.lo,"mp4a.40.2"),o=Lr(t.lo,"mp4a.40.5")&&Lr(n.lo,"mp4a.40.34"),s=Lr(t.lo,"mp4a.40.34")&&Lr(n.lo,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},n}(xr);function Lr(t,n){return t.indexOf(n)>-1}var Fr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.eo=function(t){return t>=2},n}(xr),Mr=function(t){function n(){var n;return(n=t.call(this)||this).Qu=it.qe>=11,n.Zu=it.Ve&&!(it.Se&&it.qe<10),n}return $(n,t),n}(xr),Br=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"ho",get:function(){return!1}}]),n}(Ar),Ur=function(){function n(){var n;this.wo=void 0,this.yo=new an,this._o=new Vr,this.po=(n=function(){if(it.Be)return new Pr;if(it.Pe||it.Le)return new Fr;if(it.Ve)return new Mr;return new xr}(),it.Se?new Nr(n):it.Ie?new Dr(n):it.Ne?new Or(n):it.xe?new Br(n):new Ar(n)),this.mo=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.wo=function(){return t.performance.now()}:this.wo=tn}var i=n.prototype;return i.ko=function(){mt.apply(void 0,arguments)},i.bo=function(){kt.apply(void 0,arguments)},i.To=function(){bt.apply(void 0,arguments)},i.Eo=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Tt.apply(void 0,[t].concat(i))},i.So=function(t,n){return c(t,n)},i.Ro=function(t,n){return f(t,n)},i.Io=function(t){a(t)},i.Co=function(t){h(t)},i.su=function(t){return this.yo.su(t)},i.Ao=function(){return this.Do.Ao()},i.No=function(){return this.Do.No()},i.Oo=function(){return this.Do.Oo()},i.xo=function(){return this.Do.xo()},i.Po=function(){return this.Do.Po()},i.Lo=function(t,n){return this.Do.Lo(t,n)},i.Fo=function(t){return this.Do.Fo(t)},i.Mo=function(t,n){var i;return void 0===n&&(n=pr(R)),i="object"!=typeof n||n instanceof _r?n:n.href,new _r(t,i)},i.Bo=function(n,i){if(void 0===i&&(i=pr(R)),this.mo){var r=ft(i)?i:i.toString();return new t.URL(n,r).href}return this.Mo(n,i).href},W(n,[{key:"Uo",get:function(){return this._o}},{key:"Vo",get:function(){return this.po}},{key:"qo",get:function(){return{Ho:s&&s.userAgent.match(/Android /i)?"Android":"other",jo:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Wo",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"zo",get:function(){return"languages"in s?s.languages.slice():[s.language]}}]),n}(),Vr=function(){function t(){}return W(t,[{key:"$o",get:function(){return s.oscpu}},{key:"Vo",get:function(){return s.platform}},{key:"Xo",get:function(){return s.vendor}},{key:"Go",get:function(){return s.vendorSub}}]),t}();var qr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=l.create(e.prototype),o=new N(r||[]);return u.Yo=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new v("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=C(o,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i.Ko=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:h,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",w="executing",y="completed",g={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=l.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=l.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Yo(n,t)}})}function I(t){var n;this.Yo=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"Jo")?Promise.resolve(f.Jo).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,C(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,g;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):u:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!_(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{Jo:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ko=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!_(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function Hr(){return(Hr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function jr(){var t=l.create(null);return t.Qo=void 0,delete t.Qo,t}function Wr(){return new Gr}function zr(t){var n=Wr();for(var i in t)rt.call(t,i)&&n.set(i,t[i]);return n}var $r,Xr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Gr=Xr||($r=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=jr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=jr(),this.size=0},n.keys=function(){return new $r(this.data,function(t,n){return n})},n.values=function(){return new $r(this.data,function(t,n){return t[n]})},n.entries=function(){return new $r(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Yr,Kr=Xr||(Yr=function(){function t(t,n){this.Zo=void 0,this.ts=void 0,this.Zo=t,this.ts=n}var n=t.prototype;return n.next=function(){var t=this.Zo.next();return t.done?t:{value:this.ts(t.value),done:!1}},t}(),function(){function t(){this.rs=Wr()}var n=t.prototype;return n.get=function(t){return this.rs.get(""+t)},n.set=function(t,n){return this.rs.set(""+t,n),this},n.has=function(t){return this.rs.has(""+t)},n.delete=function(t){return this.rs.delete(""+t)},n.clear=function(){this.rs.clear()},n.keys=function(){return new Yr(this.rs.keys(),function(t){return Number(t)})},n.values=function(){return this.rs.values()},n.entries=function(){return new Yr(this.rs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.rs.forEach(function(n,i){t(n,Number(i))})},W(t,[{key:"size",get:function(){return this.rs.size}}]),t}());var Jr,Qr="cenc",Zr="sinf",te="skd",ne="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ie="com.microsoft.playready",re="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ee="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ue="urn:uuid:"+ee,oe="com.apple.fps.1_0";!function(t){t.es="playready",t.us="widevine",t.os="fairplay",t.ss="clearkey",t.cs="aes128"}(Jr||(Jr={}));var se={as:Jr.es,fs:ie,hs:"cenc",vs:"9a04f079-9840-4286-ab92-e65be0885f95",ds:ne,ls:"PlayReady"},ce={as:Jr.us,fs:"com.widevine.alpha",hs:"cenc",vs:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ds:re,ls:"Widevine"},ae={as:Jr.os,fs:oe,hs:"skd",vs:ee,ds:ue,ls:"FairPlay"},fe=(Jr.os,{as:Jr.ss,fs:"org.w3.clearkey",hs:"cenc",vs:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ds:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ls:"ClearKey"});function he(t,n,i){return t.split(n).join(i)}function ve(t,n){return null!=t&&-1!==t.indexOf(n)}function de(t,n){return null!=t&&t.substr(0,n.length)===n}function le(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function we(t,n){return t.toUpperCase()===n.toUpperCase()}function ye(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return _e(n)}var ge=16384;function _e(t){var n=t.length;if(n<=ge)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=ge)i.push(String.fromCharCode.apply(String,t.slice(r,r+ge)));return i.join("")}var pe=it.Ae&&it.De>=42||it.Be&&it.Ue>=38||it.Pe||it.Fe||it.He&&it.je>=29;function me(t,n){return ve(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Hr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Hr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var ke=function(){function t(t){this.ys=void 0,this.gs=Wr(),this._s=void 0,this.ys=t}var n=t.prototype;return n.Po=function(){return this.Fo(ce)},n.No=function(){return this.Fo(fe)},n.xo=function(){return this.Fo(se)},n.Oo=function(){return this.Fo(ae)},n.Fo=function(t){var n=t.ds,i=this.gs.get(n);if(i)return i;var r=this.Lo(t,'video/mp4; codecs="avc1.42000a"');return this.gs.set(n,r),r},n.Lo=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ys.ps(n.fs,[me(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ys.ps(n.fs,[me(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Ao=function(){return this._s||(this._s=this.ks()),this._s},n.ks=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==I.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(pe){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.No();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function be(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Te(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&Te(i,void 0,t.length,t),t}function Te(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Ee(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Se(t,n){var i=t.indexOf(n);return-1!==i&&(Re(t,i),!0)}function Re(t,n){t.splice(n,1)}function Ie(t,n){return-1!==t.indexOf(n)}function Ce(t){t.length=0}var Ae=function(){function t(){this.bs=!1,this.Ts=!1,this.Es=[],this.Ss=[]}var n=t.prototype;return n.Rs=function(){if(!this.bs&&!this.Ts){this.bs=!0;for(var t=0,n=this.Es.slice();t<n.length;t++){(0,n[t])()}this.Is()}},n.Is=function(){if(!this.Ts){this.Ts=!0;for(var t=0,n=this.Ss.slice();t<n.length;t++){(0,n[t])()}Ce(this.Es),Ce(this.Ss)}},n.Cs=function(t){this.Ts||this.Es.push(t)},n.As=function(t){this.Ts||Se(this.Es,t)},n.Ds=function(t){this.Ts||this.Ss.push(t)},n.Ns=function(t){this.Ts||Se(this.Ss,t)},t}(),De=function(){function t(){this.Os=new Ae}var n=t.prototype;return n.xs=function(){this.Os.Rs()},n.Is=function(){this.Os.Is()},n.Ps=function(t){var n=this.Os;if(!n.bs)if(t.bs)n.Rs();else if(!n.Ts&&!t.Ts){var i=function(){r(),n.Rs()},r=function r(){t.As(i),t.Ns(r),n.As(i),n.Ns(r)};t.Cs(i),t.Ds(r),n.Cs(i),n.Ds(r)}},n.Ls=function(){var n=new t,i=new t,r=n.Fs,e=i.Fs,u=this.Os,o=function(){r.bs&&e.Ts||e.bs&&r.Ts?u.Rs():r.Ts&&e.Ts&&u.Is()};r.Cs(o),e.Cs(o),r.Ds(o),e.Ds(o),n.Ps(u),i.Ps(u);return u.Ds(function(){r.As(o),e.As(o),r.Ns(o),e.Ns(o)}),[n,i]},W(t,[{key:"Fs",get:function(){return this.Os}}]),t}(),Ne=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function Oe(t){return t instanceof v&&"AbortError"===t.name}function xe(t){if(t&&t.bs)throw new Ne}function Pe(t){if(Oe(t))throw t}function Le(t){if(!Oe(t))throw t}function Fe(t,n){return n?new A(function(i,r){if(n.bs)return t.catch(L),r(new Ne);var e=function t(){n.As(t),r(new Ne)};n.Cs(e),t.then(function(t){n.As(e),i(t)},function(t){n.As(e),r(t)})}):t}function Me(t,n){return t.then(function(t){return n.Is(),t},function(t){throw n.Is(),t})}var Be=A.resolve();function Ue(t){Be.then(t)}function Ve(t){t.then(L,L)}function qe(t){return He.apply(this,arguments)}function He(){return(He=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,A.all(n.map(function(t){return t.catch(L)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function je(t){return t&&"function"!=typeof t?t.slice():t}function We(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var ze,$e=function(){function t(t){var n=this;this.Ms=jr(),this.Bs=void 0,this.Us=void 0,this.Vs=function(t){n.qs(t)},this.Us=t||this}var n=t.prototype;return n.Hs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.js(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.js(r,n)}},n.js=function(t,n){var i=this.Ms[t];i?"function"==typeof i?this.Ms[t]=[i,n]:i.push(n):this.Ms[t]=n},n.Ws=function(t){if("function"==typeof t){var n=this.Bs;n?"function"==typeof n?this.Bs=[n,t]:n.push(t):this.Bs=t}},n.zs=function(){this.Ms=jr(),this.Bs=void 0},n.qs=function(t){var n=je(this.Ms[t.type]),i=je(this.Bs);We(this.Us,t,n),We(this.Us,t,i)},n.$s=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Xs(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Xs(r,n)}},n.Xs=function(t,n){var i=this.Ms[t];i&&("function"==typeof i?i===n&&(this.Ms[t]=void 0):Se(i,n))},n.Gs=function(t){if("string"==typeof t)this.Ms[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ms[i]=void 0}},n.Ys=function(t){var n=this.Bs;n&&("function"==typeof n?n===t&&(this.Bs=void 0):Se(n,t))},n.Ks=function(t,n){var i=this;return new A(function(r,e){if(n&&n.bs)return e(new Ne);var u=function(t){s(),r(t)},o=function(){s(),e(new Ne)},s=function(){i.$s(t,u),n&&n.As(o)};i.Hs(t,u),n&&n.Cs(o)})},t}(),Xe=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.qs=function(n){var i=this;Ue(function(){t.prototype.qs.call(i,n)})},n}($e),Ge=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ye=["cenc"],Ke=["cbcs","cbcs-1-9"],Je=function(t){function n(n){var i;return(i=t.call(this,"Qs")||this).Js=n,i}return $(n,t),n}(Ge),Qe=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Zs")||this).Js=n,u.tc=i,u.Zs=r,u.nc=e,u}return $(n,t),n}(Ge),Ze=function(t){function n(){return t.call(this,"ic")||this}return $(n,t),n}(Ge);!function(t){t.rc="ec",t.uc="oc"}(ze||(ze={}));var tu=function(t){function n(n,i){var r;return(r=t.call(this,ze.rc)||this).hs=n,r.sc=i,r}return $(n,t),n}(Ge),nu=new p([0]).buffer,iu=function(){function t(){this.cc=void 0,this.cc=[]}var n=t.prototype;return n.ac=function(t){for(var n=0,i=this.cc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.fc=function(t){for(var n=0,i=this.cc;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.hc=function(t,n){this.cc.forEach(function(n){return t(n[1],n[0])},n)},n.vc=function(t,n){this.cc.push([t,n])},n.dc=function(){Ce(this.cc)},W(t,[{key:"lc",get:function(){return this.cc.length}}]),t}(),ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),eu=16383,uu=/[\t\n\f\r ]/g;function ou(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:su()}function su(){throw new v("Invalid base64 input")}function cu(t){var n=t;uu.test(n)&&(n=n.replace(uu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return su();for(var e,u=0===r?0:4-r,o=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=ou(n.charCodeAt(c))<<18|ou(n.charCodeAt(c+1))<<12|ou(n.charCodeAt(c+2))<<6|ou(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=ou(n.charCodeAt(c))<<2|ou(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=ou(n.charCodeAt(c))<<10|ou(n.charCodeAt(c+1))<<4|ou(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function au(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],ru[r>>2]+ru[(3&r)<<4|e>>4]+ru[(15&e)<<2|u>>6]+ru[63&u]));return o.join("")}function fu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=eu)r.push(au(t,u,w.min(e,u+eu)));if(1===i){var o=t[n-1];r.push(ru[o>>2]+ru[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(ru[s>>2]+ru[(3&s)<<4|c>>4]+ru[(15&c)<<2]+"=")}return r.join("")}var hu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],vu=ArrayBuffer.isView||function(t){return t&&Ie(hu,et.call(t))};function du(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new p(t),new p(n))}function lu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new p(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function wu(t){return cu(t).buffer}function yu(t){return fu(new p(t))}function gu(t){return fu(ju(t))}var _u=function(){function t(t){void 0===t&&(t=0),this.wc=t}var n=t.prototype;return n.yc=function(t){this.wc+=t},n.gc=function(t){this.wc=t},n._c=function(){return new t(this.pc)},W(t,[{key:"pc",get:function(){return this.wc}}]),t}();function pu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function mu(t,n){return t>>n&63|128}function ku(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(pu(t),n.push(t>>12&15|224),n.push(mu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(mu(t,12)),n.push(mu(t,6))),n.push(63&t|128)):n.push(t)}function bu(t,n){if(n.pc>=t.length)throw new v("Invalid byte index");var i=255&t[n.pc];if(n.yc(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Tu(t,n){var i=n.pc;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.yc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|bu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|bu(t,n)<<6|bu(t,n);if(u>=2048)return pu(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|bu(t,n)<<12|bu(t,n)<<6|bu(t,n);if(o>=65536&&o<=1114111)return o}throw new v("Invalid UTF-8 detected")}var Eu=65279;var Su=function(){function t(t){this.mc=t}return t.prototype.kc=function(t){return function(t,n){return(t&n)===n}(this.mc,t)},t}();function Ru(t,n){var i=t.getUint8(n.pc);return n.yc(1),i}function Iu(t,n,i){t.setUint8(n.pc,i),n.yc(1)}function Cu(t,n,i){var r=Yu(Ju(t),n.pc,n.pc+i);return n.yc(r.byteLength),r}function Au(t,n,i){return n.pc+i<=t.byteLength}function Du(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.pc,i);return n.yc(2),r}function Nu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.pc,i,r),n.yc(2)}function Ou(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.pc,i);return n.yc(4),r}function xu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.pc,i,r),n.yc(4)}function Pu(t,n,i){void 0===i&&(i=!1);var r=Ou(t,n,i),e=Ou(t,n,i),u=i?e:r,o=i?r:e;return Yt.fromBits(o,u,!0)}function Lu(t,n){var i=Ru(t,n);if(i)return String.fromCharCode(i)}function Fu(t,n){return function(t,n){return Uu(t,n,!0)}(t,n)}function Mu(t,n,i){for(var r="",e=0;e<i;e++)r+=Lu(t,n);return r}function Bu(t,n){var i,r=Ru(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Ru(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Ru(t,n))+(63&Ru(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Ru(t,n))+64*(63&Ru(t,n))+(63&Ru(t,n))),i}function Uu(t,n,i){for(var r=[];n.pc<t.byteLength;){var e=Ru(t,n);if(i&&!e)break;r.push(e)}return _e(r)}function Vu(t,n,i,r){for(var e=[];n.pc+2<=t.byteLength;){var u=Du(t,n,i);if(r&&!u)break;e.push(u)}return _e(e)}function qu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Nu(t,n,i.charCodeAt(u),r)}}function Hu(t){return Uu(Ku(t),new io,!1)}function ju(t){var n=new p(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Iu(t,n,i.charCodeAt(e))}(Ku(n),new io,t),n}function Wu(t,n){return void 0===n&&(n=!1),Vu(Ku(t),new io,n,!1)}function zu(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return qu(Ku(i),new io,t,n),i}function $u(t,n){return function(t,n,i){var r=[];(function(t,n){return n.pc+3<=t.byteLength&&239===t.getUint8(n.pc)&&187===t.getUint8(n.pc+1)&&191===t.getUint8(n.pc+2)})(t,n)&&n.yc(3);for(;n.pc<t.byteLength;){var e=Bu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return ye(r)}(t,n,!0)}function Xu(t){return ye(function(t,n){var i,r=[],e=new io;if(!n){if(!1===(i=Tu(t,e)))return r;i===Eu||r.push(i)}for(;!1!==(i=Tu(t,e));)r.push(i);return r}(Ju(t)))}function Gu(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)ku(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Yu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Ku(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ju(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function Qu(t){return t instanceof ArrayBuffer||vu(t)}function Zu(t){return t instanceof ArrayBuffer?new p(t):Ju(t)}function to(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):no(Yu(t,n,i))}function no(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var io=function(){function t(t){void 0===t&&(t=0),this.wc=t}var n=t.prototype;return n.yc=function(t){this.wc+=t},n.gc=function(t){this.wc=t},n._c=function(){return new t(this.pc)},n.bc=function(){return new _u(this.pc<<3)},W(t,[{key:"pc",get:function(){return this.wc}}]),t}(),ro=function(){function t(){var t=this;this.Tc=void 0,this.Fn=void 0,this.V=void 0,this.Tc=new A(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.Ec=function(t){this.Fn&&(this.Fn(t),this.Is())},n.Sc=function(t){this.V&&(this.V(t),this.Is())},n.xs=function(){this.Tc.catch(L),this.Sc(new Ne)},n.Is=function(){this.Fn=void 0,this.V=void 0},t}();function eo(){return new p([8,4]).buffer}function uo(t){return du(t,eo())}function oo(t,n){return t===ie?function(t){if(t.byteLength<2*so.length)return t;if(Wu(new DataView(t,0,2*so.length),!0)===so)return t;return n=t,zu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+yu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var so="<PlayReady";var co=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Rc=void 0,u.Ic=void 0,u.Rc=i,u.Ic=r,u}return $(n,t),n}(sn),ao=function(t){function n(n,i){var r;(r=t.call(this)||this).Cc=void 0,r.Ac=!1,r.Dc=void 0,r.Nc=void 0,r.Oc=function(){r.xc()},r.Pc=function(t){r.qs(new Qe(un(r),t.messageType,oo(r.Lc,t.message)))},r.Fc=function(){r.Ac=!0,r.Cc.lc>0&&(r.Cc.dc(),r.qs(new Je(un(r)))),r.Mc.removeEventListener("keystatuseschange",r.Oc),r.Mc.removeEventListener("message",r.Pc)},r.Mc=n,r.Lc=i,r.Mc.addEventListener("keystatuseschange",r.Oc),r.Mc.addEventListener("message",r.Pc),r.Cc=new iu;var e=[];return r.Mc.closed&&e.push(A.resolve(r.Mc.closed)),r.Nc=new ro,e.push(r.Nc.Tc),r.Dc=A.race(e).then(r.Fc,r.Fc),r.xc(),r}$(n,t);var i=n.prototype;return i.Bc=function(){if(this.Ac)return this.Dc;var t,n,i=[];return i.push(A.resolve(this.Mc.close())),i.push((t=1e3,new A(function(i,r){if(void 0!==n&&n.bs)r(new Ne);else{var e=N.So(function(){void 0!==n&&n.As(u),i()},t),u=function(){N.Io(e),r(new Ne)};void 0!==n&&n.Cs(u)}}))),this.Nc.Ec(A.race(i).catch(fo)),this.Ac=!0,this.Dc},i.Uc=function(t,n,i){return A.resolve(this.Mc.generateRequest(t,n)).catch(fo)},i.Vc=function(t){return A.resolve(this.Mc.load(t)).catch(fo)},i.qc=function(){return A.resolve(this.Mc.remove()).catch(fo)},i.Hc=function(t){return A.resolve(this.Mc.update(t)).catch(fo)},i.xc=function(){var t=this;this.Cc.dc(),this.Mc.keyStatuses.forEach(function(n,i){t.jc(i,n)}),this.qs(new Je(this))},i.jc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Zu(t);if(this.Lc===ie&&16===r.byteLength){var e=Ku(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.Lc===ie&&"status-pending"===n&&(n="usable"),this.Cc.vc(r,n)},W(n,[{key:"Wc",get:function(){return this.Dc}},{key:"zc",get:function(){return this.Mc.expiration}},{key:"$c",get:function(){return this.Cc}},{key:"Xc",get:function(){return this.Mc.sessionId}}]),n}($e);function fo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|y(i[1],16))}throw new co(t.message,void 0,n,t)}var ho=function(){function t(t,n,i){this.Gc=t,this.Yc=n,this.Kc=i}var n=t.prototype;return n.Jc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ao(this.Gc.createSession(n),this.Yc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qc=function(t){return A.resolve(this.Gc.setServerCertificate(t))},n.Zc=function(t){return A.resolve(t.setMediaKeys(this.Gc))},n.ta=function(t){return A.resolve(t.setMediaKeys(null))},t}(),vo=function(){function t(t,n,i){this.na=t,this.Lc=n,this.ia=i}var n=t.prototype;return n.ra=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.na.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new ho(n,this.Lc,this.ia));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ea=function(){return this.ia},W(t,[{key:"Yc",get:function(){return this.na.keySystem}}]),t}();function lo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function wo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ua:r.ua},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return yo(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return yo(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function yo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ie(n,r.encryptionScheme))&&(!r.robustness&&t(i,lo(r.contentType))))}function go(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function _o(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function po(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(mo))||!(!t.videoCapabilities||!t.videoCapabilities.some(mo))}function mo(t){return!t.robustness}function ko(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(Hr({},e,{robustness:n}))}return i}var bo=function(){function t(){}return t.prototype.ps=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,c,a,f,h;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ua}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=_o(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=_o(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(po)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",Hr({},n=t,{videoCapabilities:n.videoCapabilities?ko(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?ko(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,s.requestMediaKeySystemAccess(n,o);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new vo(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,s.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new vo(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.oa=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),To=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ac=!1,r.sa=void 0,r.ca=void 0,r.aa=void 0,r.fa=void 0,r.ha=void 0,r.Fc=function(){r.Ac=!0,r.sa.Ec(void 0),r.ha&&(r.ha.removeEventListener("mskeyclose",r.Fc),r.ha.removeEventListener("mskeymessage",r.va),r.ha.removeEventListener("mskeyerror",r.da),r.ha.removeEventListener("mskeyadded",r.la))},r.va=function(t){r.aa&&(r.aa.Ec(void 0),r.aa=void 0),r.qs(new Qe(un(r),"license-request",no(t.message).buffer,t.destinationURL||void 0))},r.da=function(){var t=r.ha&&r.ha.error;if(t){var n=new co("Unknown CDM error",t.code,t.systemCode);if(r.aa)r.aa.Sc(n),r.aa=void 0;else if(r.ca)r.ca.Sc(n),r.ca=void 0;else switch(n.Rc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.wa("output-not-allowed");break;default:r.wa("internal-error")}}},r.la=function(){r.aa&&(r.wa("usable"),r.aa.Ec(void 0),r.aa=void 0),r.ca&&(r.wa("usable"),r.ca.Ec(void 0),r.ca=void 0)},r.ya=n,r.ga=i,r.sa=new ro,r.fa=new iu,r}$(n,t);var i=n.prototype;return i.Uc=function(){var t=A.coroutine(qr.mark(function t(n,i,r){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),this.aa=new ro,this.Jc(Zu(i),r),t.next=5,this.aa.Tc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Jc=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.pa;return(i=n?this.ya.createSession(this.ga,t,r):this.ya.createSession(this.ga,t)).addEventListener("mskeyclose",this.Fc),i.addEventListener("mskeymessage",this.va),i.addEventListener("mskeyerror",this.da),i.addEventListener("mskeyadded",this.la),this.ha=i,this.wa("status-pending"),i},i.Vc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ca=new ro,this._a(),this.ha){t.next=4;break}return t.abrupt("return",A.resolve());case 4:if(0!==(i=Zu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.ha.update(i),t.next=10,this.ca.Tc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){return!this.Ac&&this.ha&&(this.Ac=!0,this.ha.close()),this.sa.Tc},i.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._a(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._a=function(){if(this.Ac)throw new d("Already closing or closed.")},i.wa=function(t){this.fa.dc(),this.fa.vc(nu,t),this.qs(new Je(this))},W(n,[{key:"Xc",get:function(){return this.ha&&this.ha.sessionId||""}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}($e),Eo=function(){function t(t,n,i){this.ga=void 0,this.ya=t,this.Yc=n,this.Kc=i;var r=go(i)||"video/mp4";this.ga=lo(r)}var n=t.prototype;return n.Jc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new To(this.ya,this.ga));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qc=function(t){return A.resolve(!1)},n.Zc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.ya):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.ya),t.removeEventListener("loadedmetadata",i)}),A.resolve()},n.ta=function(t){return A.resolve()},t}(),So=function(){function t(t,n){this.Lc=t,this.ma=n}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=new R.MSMediaKeys(this.Lc);return A.resolve(new Eo(t,this.Lc,this.ma))},W(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),Ro=function(){function t(){}return t.prototype.ps=function(t,n){try{return A.resolve(function(t,n){if(!Io())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo(Co,Ye,t,r);if(e)return new So(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return A.reject(t)}},t.oa=function(){return Io()},t}();function Io(){return void 0!==R.MSMediaKeys&&"function"==typeof R.MSMediaKeys.isTypeSupported}function Co(t,n){return R.MSMediaKeys.isTypeSupported(t,n)}var Ao,Do,No=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sa=new ro,e.ka=void 0,e.fa=new iu,e.ba=void 0,e.Ta=new ro,e.da=function(){var t=e.ba&&e.ba.error;if(t){var n=new co("Unknown CDM error",t.code,t.systemCode);e.ka?(e.ka.Sc(n),e.ka=void 0):n.Rc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.wa("output-not-allowed"):e.wa("internal-error"),e.qs(new Ze)}},e.va=function(t){e.ka&&(e.ka.Ec(void 0),e.ka=void 0),e.qs(new Qe(un(e),"license-request",no(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Ea=n,e.ga=i,e.Sa=r,e}$(n,t);var i=n.prototype;return i.Uc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ra;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Oo(Zu(n),r,this.Sa);return this.ba=this.Ea.createSession(this.ga,e),this.ba.addEventListener("webkitkeymessage",this.va,!1),this.ba.addEventListener("webkitkeyerror",this.da,!1),this.wa("usable"),this.Ta.Ec(this.ba),this.Ta=new ro,A.resolve()},i.Vc=function(t){return A.resolve(!0)},i.Hc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Zu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.ka=new ro,t.t0=this.ba,t.t0){t.next=9;break}return t.next=8,this.Ta.Tc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ka.Tc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){var t=this.ba;return t&&(t.removeEventListener("webkitkeymessage",this.va,!1),t.removeEventListener("webkitkeyerror",this.da,!1),t.close()),this.Ta.xs(),this.sa.Ec(void 0),this.sa.Tc},i.qc=function(){return A.resolve(void 0)},i.wa=function(t){this.fa.dc(),this.fa.vc(nu,t),this.qs(new Je(this))},W(n,[{key:"Xc",get:function(){return this.ba?this.ba.sessionId:""}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}($e);function Oo(t,n,i){var r=Xu(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new io;return xu(s,c,e,!0),qu(s,c,r,!0),xu(s,c,u,!0),qu(s,c,n,!0),xu(s,c,i.byteLength,!0),function(t,n,i){Ju(t).set(Ju(i),n.pc),n.yc(i.byteLength)}(s,c,i),new p(o)}(Ao=n.ErrorCode||(n.ErrorCode={}))[Ao.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ao[Ao.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ao[Ao.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ao[Ao.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ao[Ao.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ao[Ao.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ao[Ao.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ao[Ao.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ao[Ao.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ao[Ao.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ao[Ao.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ao[Ao.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ao[Ao.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ao[Ao.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ao[Ao.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ao[Ao.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ao[Ao.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ao[Ao.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ao[Ao.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ao[Ao.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ao[Ao.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ao[Ao.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ao[Ao.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ao[Ao.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ao[Ao.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ao[Ao.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ao[Ao.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ao[Ao.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ao[Ao.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ao[Ao.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ao[Ao.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ao[Ao.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ao[Ao.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ao[Ao.AD_ERROR=1e4]="AD_ERROR",Ao[Ao.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ao[Ao.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Do=n.ErrorCategory||(n.ErrorCategory={}))[Do.CONFIGURATION=1]="CONFIGURATION",Do[Do.LICENSE=2]="LICENSE",Do[Do.SOURCE=3]="SOURCE",Do[Do.MANIFEST=4]="MANIFEST",Do[Do.MEDIA=5]="MEDIA",Do[Do.NETWORK=6]="NETWORK",Do[Do.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Do[Do.SUBTITLE=8]="SUBTITLE",Do[Do.VR=9]="VR",Do[Do.AD=10]="AD",Do[Do.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var xo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return $(i,t),W(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),Po=function(){function t(t,n,i){this.ga=void 0,this.Sa=void 0,this.Ea=t,this.Yc=n,this.Kc=i;var r=go(i)||"video/mp4";this.ga=lo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Ea},i.Jc=function(){var t=A.coroutine(qr.mark(function t(i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sa){t.next=2;break}throw new xo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new No(this.Ea,this.ga,this.Sa));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(t){return this.Sa=Zu(t),A.resolve(!0)},i.Zc=function(t){return t.webkitSetMediaKeys(this.Ea),A.resolve()},i.ta=function(t){return t.webkitSetMediaKeys(null),A.resolve()},t}(),Lo=function(){function t(t,n){this.Lc=t,this.ma=n}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=new R.WebKitMediaKeys(this.Lc);return A.resolve(new Po(t,this.Lc,this.ma))},W(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),Fo=function(){function t(){}return t.prototype.ps=function(t,n){try{return A.resolve(function(t,n){if(t!==oe)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Mo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo(Bo,Ke,t,r);if(e)return new Lo(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return A.reject(t)}},t.oa=function(){return Mo()},t}();function Mo(){return void 0!==R.WebKitMediaKeys&&"function"==typeof R.WebKitMediaKeys.isTypeSupported}function Bo(t,n){return R.WebKitMediaKeys.isTypeSupported(t,n)}var Uo,Vo=function(){function t(t){this.Ia=t}return t.prototype.ps=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ia;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.ps(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),qo=function(t){function n(n){var i;return(i=t.call(this)||this).aa=void 0,i.ka=void 0,i.sa=void 0,i.Ca=!1,i.Aa=void 0,i.Da=void 0,i.Na=void 0,i.Oa=void 0,i.xa=void 0,i.Lc=n,i.sa=new ro,i.Da="",i.xa=new ro,i.Na=new iu,i}$(n,t);var i=n.prototype;return i.Pa=function(){this.ka&&(this.wa("usable"),this.ka.Ec(void 0),this.ka=void 0)},i.La=function(t){var n=new co("Unknown CDM error",t.errorCode,t.systemCode);this.ka?(this.ka.Sc(n),this.ka=void 0):this.aa?(this.aa.Sc(n),this.aa=void 0):n.Rc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.wa("output-restricted"):1===n.Ic?this.wa("expired"):this.wa("internal-error")},i.Fa=function(t){0!==t.message.byteLength&&(this.aa&&(this.aa.Ec(void 0),this.aa=void 0),this.qs(new Qe(this,"license-request",oo(this.Lc,no(t.message).buffer),t.defaultURL||void 0)))},i.Ma=function(t){this.Oa||(this.Oa=t,this.xa.Ec(t))},i.Bc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ca=!0,this.sa.Ec(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uc=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.aa=new ro,this.Aa=Zu(i),t.t0=this.Oa,t.t0){t.next=8;break}return t.next=7,this.xa.Tc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Lc,this.Aa),t.next=12,this.aa.Tc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ka=new ro,t.t0=this.Oa,t.t0){t.next=7;break}return t.next=6,this.xa.Tc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Lc,Zu(n),this.Aa,this.Xc),t.next=11,this.ka.Tc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Ca)throw new d("Already closing or closed.")},i.wa=function(t){this.Na.dc(),this.Na.vc(nu,t),this.qs(new Je(this))},W(n,[{key:"$c",get:function(){return this.Na}},{key:"Xc",get:function(){return this.Da},set:function(t){this.Da=t}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"zc",get:function(){return NaN}}]),n}($e),Ho=function(){function t(t,n){var i=this;this.Oa=void 0,this.Ba=Wr(),this.Ua=[],this.la=function(t){var n=i.Va(t.sessionId);n&&n.Pa()},this.qa=function(t){var n=i.Va(t.sessionId);n&&n.La(t)},this.Ha=function(t){var n=i.Va(t.sessionId);n&&n.Fa(t)},this.Yc=t,this.Kc=n}var n=t.prototype;return n.Zc=function(t){return this.Oa=t,this.Oa.addEventListener("webkitkeyadded",this.la),this.Oa.addEventListener("webkitkeyerror",this.qa),this.Oa.addEventListener("webkitkeymessage",this.Ha),this.Ba.forEach(function(n,i){return n.Ma(t)}),this.Ua.forEach(function(n){return n.Ma(t)}),A.resolve()},n.ta=function(t){return t.removeEventListener("webkitkeyadded",this.la),t.removeEventListener("webkitkeyerror",this.qa),t.removeEventListener("webkitkeymessage",this.Ha),this.Oa=void 0,A.resolve()},n.Jc=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new qo(this.Yc),this.Oa&&e.Ma(this.Oa),this.Ua.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Qc=function(t){return A.resolve(!1)},n.Va=function(t){if(t){var n=this.Ba.get(t);return n||((n=this.Ua.shift())?(n.Xc=t,this.Ba.set(t,n),n):void 0)}},t}(),jo=function(){function t(t,n){this.Yc=t,this.ja=n}var n=t.prototype;return n.ra=function(){return A.resolve(new Ho(this.Yc,this.ja))},n.ea=function(){return this.ja},t}(),Wo=function(){function t(){}return t.prototype.ps=function(t,n){try{return A.resolve(zo(t,n))}catch(t){return A.reject(t)}},t.oa=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function zo(t,n){if(!Wo.oa())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=wo($o,Ye,t,r);if(e)return new jo(t,e)}throw new d("Unsupported key system configuration for "+t)}function $o(t,n){var i=Tr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xo(){return Uo||(Uo=function(){var t=[];Fo.oa()&&t.push(new Fo);bo.oa()&&t.push(new bo);Ro.oa()&&t.push(new Ro);Wo.oa()&&t.push(new Wo);return new Vo(t)}()),Uo}var Go=function(){function t(){this.Wa=Wr()}var n=t.prototype;return n.dc=function(t){this.Wa.delete(t)},n.za=function(){this.Wa.clear()},n.fc=function(t){return this.Wa.get(t)},n.$a=function(t,n){this.Wa.set(t,n)},t}(),Yo=function(){function t(){}return t.Xa=function(){return t.Ze||(t.Ze=Ko.oa()?new Ko:new Go),t.Ze},t.dc=function(n){t.Xa().dc(n)},t.za=function(){t.Xa().za()},t.fc=function(n){return t.Xa().fc(n)},t.$a=function(n,i){t.Xa().$a(n,i)},t}();Yo.Ze=void 0;var Ko=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.oa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.dc=function(n){t.sessionStorage.removeItem(n)},r.za=function(){t.sessionStorage.clear()},r.fc=function(n){return t.sessionStorage[n]},r.$a=function(n,i){t.sessionStorage[n]=i},i}(Yo);var Jo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Qo(t,n,i){var r=Jo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=u.createElement("a");s.href=e,s.download=o,u.body.appendChild(s),s.click(),u.body.removeChild(s),URL.revokeObjectURL(e)}var Zo,ts;!function(t){t.Ga="Ya",t.Ka="Ja",t.Qa="contentprotectionerror",t.Za="contentprotectionsuccess",t.tf="currentsourcechange",t.nf="destroy",t.if="durationchange",t.rf="emptied",t.rc="encrypted",t.ef="ended",t.uf="sf",t.cf="loadstart",t.af="manifestupdate",t.ff="nosupportedrepresentationfound",t.hf="offline",t.vf="online",t.df="pause",t.lf="play",t.wf="progress",t.yf="ratechange",t.gf="representationchange",t._f="resize",t.pf="seeked",t.mf="seeking",t.kf="segmentnotfound",t.bf="Tf",t.Ef="Sf",t.Rf="sourcechange",t.If="timeupdate",t.Cf="volumechange",t.Af="Df",t.Nf="metricschange"}(Zo||(Zo={})),function(t){t.Of="arraybuffer",t.xf="json",t.Pf="stream",t.eu="text"}(ts||(ts={}));var ns=function(){function t(n){var i=this;this.rs=void 0,this.rs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=is(i),r=rs(r);var e=i.toLowerCase();if(this.rs.hasOwnProperty(e)){var u=this.rs[e],o=u[1];u[1]=o?o+", "+r:r}else this.rs[e]=[i,r]},n.delete=function(t){var n=is(t).toLowerCase();delete this.rs[n]},n.get=function(t){var n=is(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},n.has=function(t){var n=is(t).toLowerCase();return this.rs.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=is(i)).toLowerCase();this.rs[r]=[i,rs(n)]},n.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Lf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Ff=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Mf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function is(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function rs(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function us(){}var os=Number.isNaN||function(t){return t!=t},ss=us;function cs(t){return"object"==typeof t&&null!==t||"function"==typeof t}function as(t){return t.slice()}function fs(t){return!1!==function(t){if("number"!=typeof t)return!1;if(os(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function hs(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function vs(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ls(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ls(e,t,i)}}}return function(){return Ts(void 0)}}function ds(t,n,i){var r=t[n];if(void 0!==r)return hs(r,t,i)}function ls(t,n,i){try{return Ts(hs(t,n,i))}catch(t){return Es(t)}}function ws(t){return t}function ys(t){if(t=Number(t),os(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function gs(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var _s=A,ps=A.prototype.then,ms=A.resolve.bind(_s),ks=A.reject.bind(_s);function bs(t){return new _s(t)}function Ts(t){return ms(t)}function Es(t){return ks(t)}function Ss(t,n,i){return ps.call(t,n,i)}function Rs(t,n,i){Ss(Ss(t,n,i),void 0,ss)}function Is(t,n){Rs(t,n)}function Cs(t,n){Rs(t,void 0,n)}function As(t,n,i){return Ss(t,n,i)}function Ds(t){Ss(t,void 0,ss)}var Ns=function(){function t(){this.Bf=0,this.Uf=0,this.mi={Vf:[],qf:void 0},this.Hf=this.mi,this.Bf=0,this.Uf=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Uf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Hf,i=n;16383===n.Vf.length&&(i={Vf:[],qf:void 0}),n.Vf.push(t),i!==n&&(this.Hf=i,n.qf=i),++this.Uf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.Bf,r=i+1,e=t.Vf,u=e[i];return 16384===r&&(n=t.qf,r=0),--this.Uf,this.Bf=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Bf,i=this.mi,r=i.Vf;!(n===r.length&&void 0===i.qf||n===r.length&&(n=0,0===(r=(i=i.qf).Vf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.Bf;return t.Vf[n]},t}();function Os(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function xs(t,n){t.jf=!0,t.Wf=n,n.zf=t,"readable"===n.$f?Ms(t):"closed"===n.$f?function(t){Ms(t),Vs(t)}(t):Bs(t,n.Xf)}function Ps(t,n){return Wa(t.Wf,n)}function Ls(t){"readable"===t.Wf.$f?Us(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Bs(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Wf.zf=void 0,t.Wf=void 0}function Fs(t){return new d("Cannot "+t+" a stream using a released reader")}function Ms(t){t.Dc=bs(function(n,i){t.Gf=n,t.Yf=i})}function Bs(t,n){Ms(t),Us(t,n)}function Us(t,n){Ds(t.Dc),t.Yf(n),t.Gf=void 0,t.Yf=void 0}function Vs(t){t.Gf(void 0),t.Gf=void 0,t.Yf=void 0}var qs=es("[[CancelSteps]]"),Hs=es("[[PullSteps]]");function js(t,n){void 0===n&&(n=!1);var i=new Ks(t);return i.jf=n,i}function Ws(t){return bs(function(n,i){var r={Fn:n,V:i};t.zf.Kf.push(r)})}function zs(t,n,i){var r=t.zf;r.Kf.shift().Fn(Os(n,i,r.jf))}function $s(t){return t.zf.Kf.length}function Xs(t){var n=t.zf;return void 0!==n&&!!Js(n)}var Gs,Ys,Ks=function(){function t(t){if(!1===Ha(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===ja(t))throw new d("This stream has already been locked for exclusive reading by another reader");xs(this,t),this.Kf=new Ns}return l.defineProperty(t.prototype,"closed",{get:function(){return Js(this)?this.Dc:Es(Zs("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Js(this)?void 0===this.Wf?Es(Fs("cancel")):Ps(this,t):Es(Zs("cancel"))},t.prototype.read=function(){return Js(this)?void 0===this.Wf?Es(Fs("read from")):Qs(this):Es(Zs("read"))},t.prototype.releaseLock=function(){if(!Js(this))throw Zs("releaseLock");if(void 0!==this.Wf){if(this.Kf.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ls(this)}},t}();function Js(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Kf")}function Qs(t){var n=t.Wf;return n.Jf=!0,"closed"===n.$f?Ts(Os(void 0,!0,t.jf)):"errored"===n.$f?Es(n.Xf):n.Qf[Hs]()}function Zs(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof es.asyncIterator&&((Gs={})[es.asyncIterator]=function(){return this},Ys=Gs,l.defineProperty(Ys,es.asyncIterator,{enumerable:!1}));var tc={next:function(){if(!1===nc(this))return Es(ic("next"));var t=this.Zf;return void 0===t.Wf?Es(Fs("iterate")):As(Qs(t),function(n){var i=n.done;return i&&Ls(t),Os(n.value,i,!0)})},return:function(t){if(!1===nc(this))return Es(ic("next"));var n=this.Zf;if(void 0===n.Wf)return Es(Fs("finish iterating"));if(n.Kf.length>0)return Es(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.th){var i=Ps(n,t);return Ls(n),As(i,function(){return Os(t,!0,!0)})}return Ls(n),Ts(Os(t,!0,!0))}};function nc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Zf")}function ic(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function rc(t){var n=t.Dn.shift();return t.nh-=n.size,t.nh<0&&(t.nh=0),n.value}function ec(t,n,i){if(!fs(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.nh+=i}function uc(t){t.Dn=new Ns,t.nh=0}void 0!==Ys&&l.setPrototypeOf(tc,Ys),l.defineProperty(tc,"next",{enumerable:!1}),l.defineProperty(tc,"return",{enumerable:!1});var oc=es("[[AbortSteps]]"),sc=es("[[ErrorSteps]]"),cc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),fc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=gs(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Cc.prototype);var u=vs(n,"write",1,[e]),o=vs(n,"close",0,[]),s=vs(n,"abort",1,[]);Ac(t,e,function(){return ds(n,"start",[e])},u,o,s,i,r)}(this,t,r=ys(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===hc(this))throw Fc("locked");return vc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===hc(this)?Es(Fc("abort")):!0===vc(this)?Es(new d("Cannot abort a stream that already has a writer")):dc(this,t)},t.prototype.close=function(){return!1===hc(this)?Es(Fc("close")):!0===vc(this)?Es(new d("Cannot close a stream that already has a writer")):!0===_c(this)?Es(new d("Cannot close an already-closing stream")):lc(this)},t.prototype.getWriter=function(){if(!1===hc(this))throw Fc("getWriter");return ac(this)},t}();function ac(t){return new kc(t)}function fc(t){t.$f="writable",t.Xf=void 0,t.ih=void 0,t.rh=void 0,t.eh=new Ns,t.uh=void 0,t.oh=void 0,t.sh=void 0,t.ah=void 0,t.fh=!1}function hc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"rh")}function vc(t){return void 0!==t.ih}function dc(t,n){var i=t.$f;if("closed"===i||"errored"===i)return Ts(void 0);if(void 0!==t.ah)return t.ah.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=bs(function(i,e){t.ah={un:void 0,Fn:i,V:e,Sn:n,hh:r}});return t.ah.un=e,!1===r&&yc(t,n),e}function lc(t){var n=t.$f;if("closed"===n||"errored"===n)return Es(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=bs(function(n,i){var r={Fn:n,V:i};t.oh=r}),e=t.ih;return void 0!==e&&!0===t.fh&&"writable"===n&&Xc(e),ec(i=t.rh,"close",0),Oc(i),r}function wc(t,n){"writable"!==t.$f?gc(t):yc(t,n)}function yc(t,n){var i=t.rh;t.$f="erroring",t.Xf=n;var r=t.ih;void 0!==r&&Sc(r,n),!1===function(t){if(void 0===t.uh&&void 0===t.sh)return!1;return!0}(t)&&!0===i.vh&&gc(t)}function gc(t){t.$f="errored",t.rh[sc]();var n=t.Xf;if(t.eh.forEach(function(t){t.V(n)}),t.eh=new Ns,void 0!==t.ah){var i=t.ah;if(t.ah=void 0,!0===i.hh)return i.V(n),void pc(t);Rs(t.rh[oc](i.Sn),function(){i.Fn(),pc(t)},function(n){i.V(n),pc(t)})}else pc(t)}function _c(t){return void 0!==t.oh||void 0!==t.sh}function pc(t){void 0!==t.oh&&(t.oh.V(t.Xf),t.oh=void 0);var n=t.ih;void 0!==n&&qc(n,t.Xf)}function mc(t,n){var i=t.ih;void 0!==i&&n!==t.fh&&(!0===n?function(t){jc(t)}(i):Xc(i)),t.fh=n}var kc=function(){function t(t){if(!1===hc(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===vc(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.dh=t,t.ih=this;var n,i=t.$f;if("writable"===i)!1===_c(t)&&!0===t.fh?jc(this):zc(this),Uc(this);else if("erroring"===i)Wc(this,t.Xf),Uc(this);else if("closed"===i)zc(this),Uc(n=this),Hc(n);else{var r=t.Xf;Wc(this,r),Vc(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===bc(this)?Es(Mc("closed")):this.Dc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bc(this))throw Mc("desiredSize");if(void 0===this.dh)throw Bc("desiredSize");return function(t){var n=t.dh,i=n.$f;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Nc(n.rh)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===bc(this)?Es(Mc("ready")):this.lh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===bc(this)?Es(Mc("abort")):void 0===this.dh?Es(Bc("abort")):function(t,n){return dc(t.dh,n)}(this,t)},t.prototype.close=function(){if(!1===bc(this))return Es(Mc("close"));var t=this.dh;return void 0===t?Es(Bc("close")):!0===_c(t)?Es(new d("Cannot close an already-closing stream")):Tc(this)},t.prototype.releaseLock=function(){if(!1===bc(this))throw Mc("releaseLock");void 0!==this.dh&&Rc(this)},t.prototype.write=function(t){return!1===bc(this)?Es(Mc("write")):void 0===this.dh?Es(Bc("write to")):Ic(this,t)},t}();function bc(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"dh")}function Tc(t){return lc(t.dh)}function Ec(t,n){"pending"===t.wh?qc(t,n):function(t,n){Vc(t,n)}(t,n)}function Sc(t,n){"pending"===t.yh?$c(t,n):function(t,n){Wc(t,n)}(t,n)}function Rc(t){var n=t.dh,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Sc(t,i),Ec(t,i),n.ih=void 0,t.dh=void 0}function Ic(t,n){var i=t.dh,r=i.rh,e=function(t,n){try{return t.gh(n)}catch(n){return xc(t,n),1}}(r,n);if(i!==t.dh)return Es(Bc("write to"));var u=i.$f;if("errored"===u)return Es(i.Xf);if(!0===_c(i)||"closed"===u)return Es(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Es(i.Xf);var o=function(t){return bs(function(n,i){var r={Fn:n,V:i};t.eh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{ec(t,r,i)}catch(n){return void xc(t,n)}var e=t._h;if(!1===_c(e)&&"writable"===e.$f){var u=Pc(t);mc(e,u)}Oc(t)}(r,n,e),o}var Cc=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!cs(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"_h"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._h.$f&&Lc(this,t)},t.prototype[oc]=function(t){var n=this.ph(t);return Dc(this),n},t.prototype[sc]=function(){uc(this)},t}();function Ac(t,n,i,r,e,u,o,s){n._h=t,t.rh=n,n.Dn=void 0,n.nh=void 0,uc(n),n.vh=!1,n.gh=s,n.mh=o,n.kh=r,n.bh=e,n.ph=u;var c=Pc(n);mc(t,c),Rs(Ts(i()),function(){n.vh=!0,Oc(n)},function(i){n.vh=!0,wc(t,i)})}function Dc(t){t.kh=void 0,t.bh=void 0,t.ph=void 0,t.gh=void 0}function Nc(t){return t.mh-t.nh}function Oc(t){var n=t._h;if(!1!==t.vh&&void 0===n.uh)if("erroring"!==n.$f){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t._h;(function(t){t.sh=t.oh,t.oh=void 0})(n),rc(t);var i=t.bh();Dc(t),Rs(i,function(){!function(t){t.sh.Fn(void 0),t.sh=void 0,"erroring"===t.$f&&(t.Xf=void 0,void 0!==t.ah&&(t.ah.Fn(),t.ah=void 0)),t.$f="closed";var n=t.ih;void 0!==n&&Hc(n)}(n)},function(t){!function(t,n){t.sh.V(n),t.sh=void 0,void 0!==t.ah&&(t.ah.V(n),t.ah=void 0),wc(t,n)}(n,t)})}(t):function(t,n){var i=t._h;(function(t){t.uh=t.eh.shift()})(i),Rs(t.kh(n),function(){!function(t){t.uh.Fn(void 0),t.uh=void 0}(i);var n=i.$f;if(rc(t),!1===_c(i)&&"writable"===n){var r=Pc(t);mc(i,r)}Oc(t)},function(n){"writable"===i.$f&&Dc(t),function(t,n){t.uh.V(n),t.uh=void 0,wc(t,n)}(i,n)})}(t,i.chunk)}}else gc(n)}function xc(t,n){"writable"===t._h.$f&&Lc(t,n)}function Pc(t){return Nc(t)<=0}function Lc(t,n){var i=t._h;Dc(t),yc(i,n)}function Fc(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Mc(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Bc(t){return new d("Cannot "+t+" a stream using a released writer")}function Uc(t){t.Dc=bs(function(n,i){t.Gf=n,t.Yf=i,t.wh="pending"})}function Vc(t,n){Uc(t),qc(t,n)}function qc(t,n){Ds(t.Dc),t.Yf(n),t.Gf=void 0,t.Yf=void 0,t.wh="rejected"}function Hc(t){t.Gf(void 0),t.Gf=void 0,t.Yf=void 0,t.wh="resolved"}function jc(t){t.lh=bs(function(n,i){t.Th=n,t.Eh=i}),t.yh="pending"}function Wc(t,n){jc(t),$c(t,n)}function zc(t){jc(t),Xc(t)}function $c(t,n){Ds(t.lh),t.Eh(n),t.Th=void 0,t.Eh=void 0,t.yh="rejected"}function Xc(t){t.Th(void 0),t.Th=void 0,t.Eh=void 0,t.yh="fulfilled"}function Gc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Yc="undefined"!=typeof DOMException?DOMException:void 0;var Kc,Jc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Yc)?Yc:((Kc=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Kc.prototype,"constructor",{value:Kc,writable:!0,configurable:!0}),Kc);function Qc(t,n,i,r,e,u){var o=js(t),s=ac(n);t.Jf=!0;var c=!1,a=Ts(void 0);return bs(function(f,h){var v,l,w,y;if(void 0!==u){if(v=function(){var i=new Jc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.$f?dc(n,i):Ts(void 0)}),!1===e&&u.push(function(){return"readable"===t.$f?Wa(t,i):Ts(void 0)}),m(function(){return A.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(p(t,o.Dc,function(t){!1===r?m(function(){return dc(n,t)},!0,t):k(!0,t)}),p(n,s.Dc,function(n){!1===e?m(function(){return Wa(t,n)},!0,n):k(!0,n)}),l=t,w=o.Dc,y=function(){!1===i?m(function(){return function(t){var n=t.dh,i=n.$f;return!0===_c(n)||"closed"===i?Ts(void 0):"errored"===i?Es(n.Xf):Tc(t)}(s)}):k()},"closed"===l.$f?y():Is(w,y),!0===_c(n)||"closed"===n.$f){var g=new d("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return Wa(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Ss(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.$f?i(t.Xf):Cs(n,i)}function m(t,i,r){function e(){Rs(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.$f&&!1===_c(n)?Is(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.$f&&!1===_c(n)?Is(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Rc(s),Ls(o),void 0!==u&&u.removeEventListener("abort",v),t?h(n):f(void 0)}Ds(bs(function(t,n){!function i(r){r?t():Ss(!0===c?Ts(!0):Ss(s.lh,function(){return Ss(Qs(o),function(t){return!0===t.done||(a=Ss(Ic(s,t.value),void 0,us),!1)})}),i,n)}(!1)}))})}var Zc=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ta(this))throw fa("desiredSize");return sa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ta(this))throw fa("close");if(!1===ca(this))throw new d("The stream is not in a state that permits close");ea(this)},t.prototype.enqueue=function(t){if(!1===ta(this))throw fa("enqueue");if(!1===ca(this))throw new d("The stream is not in a state that permits enqueue");return ua(this,t)},t.prototype.error=function(t){if(!1===ta(this))throw fa("error");oa(this,t)},t.prototype[qs]=function(t){uc(this);var n=this.Sh(t);return ra(this),n},t.prototype[Hs]=function(){var t=this.Rh;if(this.Dn.length>0){var n=rc(this);return!0===this.Ih&&0===this.Dn.length?(ra(this),za(t)):na(this),Ts(Os(n,!1,t.zf.jf))}var i=Ws(t);return na(this),i},t}();function ta(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Rh")}function na(t){!1!==ia(t)&&(!0!==t.Ch?(t.Ch=!0,Rs(t.Ah(),function(){t.Ch=!1,!0===t.Dh&&(t.Dh=!1,na(t))},function(n){oa(t,n)})):t.Dh=!0)}function ia(t){var n=t.Rh;return!1!==ca(t)&&(!1!==t.vh&&(!0===ja(n)&&$s(n)>0||sa(t)>0))}function ra(t){t.Ah=void 0,t.Sh=void 0,t.gh=void 0}function ea(t){var n=t.Rh;t.Ih=!0,0===t.Dn.length&&(ra(t),za(n))}function ua(t,n){var i=t.Rh;if(!0===ja(i)&&$s(i)>0)zs(i,n,!1);else{var r=void 0;try{r=t.gh(n)}catch(n){throw oa(t,n),n}try{ec(t,n,r)}catch(n){throw oa(t,n),n}}na(t)}function oa(t,n){var i=t.Rh;"readable"===i.$f&&(uc(t),ra(t),$a(i,n))}function sa(t){var n=t.Rh.$f;return"errored"===n?null:"closed"===n?0:t.mh-t.nh}function ca(t){var n=t.Rh.$f;return!1===t.Ih&&"readable"===n}function aa(t,n,i,r,e,u,o){n.Rh=t,n.Dn=void 0,n.nh=void 0,uc(n),n.vh=!1,n.Ih=!1,n.Dh=!1,n.Ch=!1,n.gh=o,n.mh=u,n.Ah=r,n.Sh=e,t.Qf=n,Rs(Ts(i()),function(){n.vh=!0,na(n)},function(t){oa(n,t)})}function fa(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ha=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},va=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===wa(this))throw Na("view");return this.Nh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===wa(this))throw Na("respond");if(void 0===this.Oh)throw new d("This BYOB request has been invalidated");this.Nh.buffer,function(t,n){if(!1===fs(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Sa(t,n)}(this.Oh,t)},t.prototype.respondWithNewView=function(t){if(!1===wa(this))throw Na("respond");if(void 0===this.Oh)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.xh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Sa(t,n.byteLength)}(this.Oh,t)},t}(),da=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===la(this))throw Oa("byobRequest");if(void 0===this.Ph&&this.xh.length>0){var t=this.xh.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(va.prototype);!function(t,n,i){t.Oh=n,t.Nh=i}(i,this,n),this.Ph=i}return this.Ph},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===la(this))throw Oa("desiredSize");return Aa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===la(this))throw Oa("close");if(!0===this.Ih)throw new d("The stream has already been closed; do not close it again!");var t=this.Lh.$f;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Lh;if(t.nh>0)return void(t.Ih=!0);if(t.xh.length>0){var i=t.xh.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Ca(t,r),r}}Ia(t),za(n)}(this)},t.prototype.enqueue=function(t){if(!1===la(this))throw Oa("enqueue");if(!0===this.Ih)throw new d("stream is closed or draining");var n=this.Lh.$f;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Lh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=ws(r);if(!0===Xs(i))if(0===$s(i))pa(t,o,e,u);else{var s=new p(o,e,u);zs(i,s,!1)}else!0===La(i)?(pa(t,o,e,u),Ea(t)):pa(t,o,e,u);ya(t)}(this,t)},t.prototype.error=function(t){if(!1===la(this))throw Oa("error");Ca(this,t)},t.prototype[qs]=function(t){this.xh.length>0&&(this.xh.peek().bytesFilled=0);uc(this);var n=this.Sh(t);return Ia(this),n},t.prototype[Hs]=function(){var t=this.Lh;if(this.nh>0){var n=this.Dn.shift();this.nh-=n.byteLength,ba(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Es(t)}return Ts(Os(i,!1,t.zf.jf))}var r=this.Fh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Es(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.xh.push(u)}var o=Ws(t);return ya(this),o},t}();function la(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Lh")}function wa(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Oh")}function ya(t){!1!==function(t){var n=t.Lh;if("readable"!==n.$f)return!1;if(!0===t.Ih)return!1;if(!1===t.vh)return!1;if(!0===Xs(n)&&$s(n)>0)return!0;if(!0===La(n)&&Pa(n)>0)return!0;if(Aa(t)>0)return!0;return!1}(t)&&(!0!==t.Ch?(t.Ch=!0,Rs(t.Ah(),function(){t.Ch=!1,!0===t.Dh&&(t.Dh=!1,ya(t))},function(n){Ca(t,n)})):t.Dh=!0)}function ga(t,n){var i=!1;"closed"===t.$f&&(i=!0);var r=_a(n);"default"===n.readerType?zs(t,r,i):function(t,n,i){var r=t.zf;r.Mh.shift().Fn(Os(n,i,r.jf))}(t,r,i)}function _a(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function pa(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.nh+=r}function ma(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.nh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,l=t.Dn;s>0;){var y=l.peek(),g=w.min(s,y.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=y.buffer,v=y.byteOffset,d=g,new p(a).set(new p(h,v,d),f),y.byteLength===g?l.shift():(y.byteOffset+=g,y.byteLength-=g),t.nh-=g,ka(t,g,n),s-=g}return c}function ka(t,n,i){Ta(t),i.bytesFilled+=n}function ba(t){0===t.nh&&!0===t.Ih?(Ia(t),za(t.Lh)):ya(t)}function Ta(t){void 0!==t.Ph&&(t.Ph.Oh=void 0,t.Ph.Nh=void 0,t.Ph=void 0)}function Ea(t){for(;t.xh.length>0;){if(0===t.nh)return;var n=t.xh.peek();!0===ma(t,n)&&(Ra(t),ga(t.Lh,n))}}function Sa(t,n){var i=t.xh.peek();if("closed"===t.Lh.$f){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ws(n.buffer);var i=t.Lh;if(!0===La(i))for(;Pa(i)>0;)ga(i,Ra(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ka(t,n,i),!(i.bytesFilled<i.elementSize)){Ra(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);pa(t,u,0,u.byteLength)}i.buffer=ws(i.buffer),i.bytesFilled-=r,ga(t.Lh,i),Ea(t)}}(t,n,i);ya(t)}function Ra(t){var n=t.xh.shift();return Ta(t),n}function Ia(t){t.Ah=void 0,t.Sh=void 0}function Ca(t,n){var i=t.Lh;"readable"===i.$f&&(!function(t){Ta(t),t.xh=new Ns}(t),uc(t),Ia(t),$a(i,n))}function Aa(t){var n=t.Lh.$f;return"errored"===n?null:"closed"===n?0:t.mh-t.nh}function Da(t,n,i){var r=l.create(da.prototype);var e=vs(n,"pull",0,[r]),u=vs(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===ha(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.Lh=t,n.Dh=!1,n.Ch=!1,n.Ph=void 0,n.Dn=n.nh=void 0,uc(n),n.Ih=!1,n.vh=!1,n.mh=ys(u),n.Ah=r,n.Sh=e,n.Fh=o,n.xh=new Ns,t.Qf=n,Rs(Ts(i()),function(){n.vh=!0,ya(n)},function(t){Ca(n,t)})}(t,r,function(){return ds(n,"start",[r])},e,u,i,o)}function Na(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Oa(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xa(t){return bs(function(n,i){var r={Fn:n,V:i};t.zf.Mh.push(r)})}function Pa(t){return t.zf.Mh.length}function La(t){var n=t.zf;return void 0!==n&&!!Ma(n)}var Fa=function(){function t(t){if(!Ha(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===la(t.Qf))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(ja(t))throw new d("This stream has already been locked for exclusive reading by another reader");xs(this,t),this.Mh=new Ns}return l.defineProperty(t.prototype,"closed",{get:function(){return Ma(this)?this.Dc:Es(Ba("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ma(this)?void 0===this.Wf?Es(Fs("cancel")):Ps(this,t):Es(Ba("cancel"))},t.prototype.read=function(t){return Ma(this)?void 0===this.Wf?Es(Fs("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Es(new d("view must have non-zero byteLength")):function(t,n){var i=t.Wf;if(i.Jf=!0,"errored"===i.$f)return Es(i.Xf);return function(t,n){var i=t.Lh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ws(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.xh.length>0)return t.xh.push(u),xa(i);if("closed"===i.$f)return Ts(Os(new e(u.buffer,u.byteOffset,0),!0,i.zf.jf));if(t.nh>0){if(!0===ma(t,u)){var o=_a(u);return ba(t),Ts(Os(o,!1,i.zf.jf))}if(!0===t.Ih){var s=new d("Insufficient bytes to fill elements in the given buffer");return Ca(t,s),Es(s)}}t.xh.push(u);var c=xa(i);return ya(t),c}(i.Qf,n)}(this,t)):Es(new d("view must be an array buffer view")):Es(Ba("read"))},t.prototype.releaseLock=function(){if(!Ma(this))throw Ba("releaseLock");if(void 0!==this.Wf){if(this.Mh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ls(this)}},t}();function Ma(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Mh")}function Ba(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ua=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qa(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Da(this,t,r=ys(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=gs(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Zc.prototype),u=vs(n,"pull",0,[e]),o=vs(n,"cancel",1,[]);aa(t,e,function(){return ds(n,"start",[e])},u,o,i,r)}(this,t,r=ys(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ha(this))throw Xa("locked");return ja(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Ha(this)?Es(Xa("cancel")):!0===ja(this)?Es(new d("Cannot cancel a stream that already has a reader")):Wa(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Ha(this))throw Xa("getReader");if(void 0===n)return js(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Fa(t);return i.jf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===Ha(this))throw Xa("pipeThrough");if(!1===hc(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Ha(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Gc(c))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===ja(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===vc(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ds(Qc(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===Ha(this)?Es(Xa("pipeTo")):!1===hc(t)?Es(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Gc(o)?!0===ja(this)?Es(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===vc(t)?Es(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Qc(this,t,r,e,u,o):Es(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Ha(this))throw Xa("tee");var t=function(t,n){var i,r,e,u,o,s=js(t),c=!1,a=!1,f=!1,h=bs(function(t){o=t});function v(){return!0===c?Ts(void 0):(c=!0,Ds(As(Qs(s),function(t){if(c=!1,!0===t.done)return!1===a&&ea(e.Qf),void(!1===f&&ea(u.Qf));var n=t.value,i=n,r=n;!1===a&&ua(e.Qf,i),!1===f&&ua(u.Qf,r)})),Ts(void 0))}function d(){}return e=Va(d,v,function(n){if(a=!0,i=n,!0===f){var e=as([i,r]),u=Wa(t,e);o(u)}return h}),u=Va(d,v,function(n){if(f=!0,r=n,!0===a){var e=as([i,r]),u=Wa(t,e);o(u)}return h}),Cs(s.Dc,function(t){oa(e.Qf,t),oa(u.Qf,t)}),[e,u]}(this);return as(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Ha(this))throw Xa("getIterator");return function(t,n){void 0===n&&(n=!1);var i=js(t),r=l.create(tc);return r.Zf=i,r.th=Boolean(n),r}(this,i)},t}();function Va(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create(Ua.prototype);return qa(u),aa(u,l.create(Zc.prototype),t,n,i,r,e),u}function qa(t){t.$f="readable",t.zf=void 0,t.Xf=void 0,t.Jf=!1}function Ha(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Qf")}function ja(t){return void 0!==t.zf}function Wa(t,n){return t.Jf=!0,"closed"===t.$f?Ts(void 0):"errored"===t.$f?Es(t.Xf):(za(t),As(t.Qf[qs](n),us))}function za(t){t.$f="closed";var n=t.zf;void 0!==n&&(Js(n)&&(n.Kf.forEach(function(t){t.Fn(Os(void 0,!0,n.jf))}),n.Kf=new Ns),Vs(n))}function $a(t,n){t.$f="errored",t.Xf=n;var i=t.zf;void 0!==i&&(Js(i)?(i.Kf.forEach(function(t){t.V(n)}),i.Kf=new Ns):(i.Mh.forEach(function(t){t.V(n)}),i.Mh=new Ns),Us(i,n))}function Xa(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof es.asyncIterator&&l.defineProperty(Ua.prototype,es.asyncIterator,{value:Ua.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ga=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=gs(r);if(void 0===e&&(e=1),e=ys(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=gs(u);void 0===o&&(o=0),o=ys(o),function(t,n,i,r,e,u){function o(){return n}t.Bh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=l.create(cc.prototype);return fc(o),Ac(o,l.create(Cc.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Uh;if(!0===t.fh){var r=t.Vh;return As(r,function(){var r=t.Bh,e=r.$f;if("erroring"===e)throw r.Xf;return ef(i,n)})}return ef(i,n)}(t,n)},function(){return function(t){var n=t.qh,i=t.Uh,r=i.Hh();return nf(i),As(r,function(){if("errored"===n.$f)throw n.Xf;var t=n.Qf;!0===ca(t)&&ea(t)},function(i){throw Ka(t,i),n.Xf})}(t)},function(n){return function(t,n){return Ka(t,n),Ts(void 0)}(t,n)},i,r),t.qh=Va(o,function(){return function(t){return Qa(t,!1),t.Vh}(t)},function(n){return Ja(t,n),Ts(void 0)},e,u),t.fh=void 0,t.Vh=void 0,t.jh=void 0,Qa(t,!0),t.Uh=void 0}(this,bs(function(t){c=t}),e,s,o,a),function(t,n){var i=l.create(Za.prototype),r=function(t){try{return rf(i,t),Ts(void 0)}catch(t){return Es(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ls(e,n,[t,i])}}var u=vs(n,"flush",0,[i]);!function(t,n,i,r){n.Wh=t,t.Uh=n,n.zh=i,n.Hh=r}(t,i,r,u)}(this,t);var f=ds(t,"start",[this.Uh]);c(f)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ya(this))throw of("readable");return this.qh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ya(this))throw of("writable");return this.Bh},enumerable:!0,configurable:!0}),t}();function Ya(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Uh")}function Ka(t,n){oa(t.qh.Qf,n),Ja(t,n)}function Ja(t,n){nf(t.Uh),xc(t.Bh.rh,n),!0===t.fh&&Qa(t,!1)}function Qa(t,n){void 0!==t.Vh&&t.jh(),t.Vh=bs(function(n){t.jh=n}),t.fh=n}var Za=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===tf(this))throw uf("desiredSize");return sa(this.Wh.qh.Qf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===tf(this))throw uf("enqueue");rf(this,t)},t.prototype.error=function(t){if(!1===tf(this))throw uf("error");var n;n=t,Ka(this.Wh,n)},t.prototype.terminate=function(){if(!1===tf(this))throw uf("terminate");!function(t){var n=t.Wh,i=n.qh.Qf;!0===ca(i)&&ea(i);var r=new d("TransformStream terminated");Ja(n,r)}(this)},t}();function tf(t){return!!cs(t)&&!!l.prototype.hasOwnProperty.call(t,"Wh")}function nf(t){t.zh=void 0,t.Hh=void 0}function rf(t,n){var i=t.Wh,r=i.qh.Qf;if(!1===ca(r))throw new d("Readable side is not in a state that permits enqueue");try{ua(r,n)}catch(t){throw Ja(i,t),i.qh.Xf}(function(t){return!0!==ia(t)})(r)!==i.fh&&Qa(i,!0)}function ef(t,n){return As(t.zh(n),void 0,function(n){throw Ka(t.Wh,n),n})}function uf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function of(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var sf,cf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return $(n,t),W(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(sn);function af(t){return n=[t],new Ua({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function ff(t){return af(new p(t))}function hf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new ro,u=function(){o();var t=new Ne;r.cancel(t).catch(L),e.Sc(t)},o=function(){i&&(i.As(u),i=void 0)};i&&(i.bs?u():i.Cs(u));var s=[];return A.resolve(r.read()).then(function t(n){return n.done?(o(),A.resolve(s)):(s.push(n.value),A.resolve(r.read()).then(t))}).then(function(t){o(),e.Ec(t)},function(t){o(),e.Sc(t)}),e.Tc}(t,n).then(function(t){return lu(t).buffer})}function vf(t,n){var i=n,r=new Ga,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.xs()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(L)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(L)}),e}function df(t){return Xu(new p(t))}function lf(t){return Gu(t).buffer}!function(t){t[t.Pf=0]="Pf",t[t.$h=1]="$h"}(sf||(sf={}));var wf="content-type",yf="text/plain;charset=UTF-8",gf=function(){function t(){}var n=t.prototype;return n.Xh=function(t){return this.Gh(t).then(JSON.parse)},n.Yh=function(t,n){switch(t){case ts.Of:return this.Kh(n);case ts.xf:return this.Xh(n);case ts.Pf:return this.Jh();case ts.eu:return this.Gh(n);default:throw new d}},t}();function _f(t,n,i){if(t instanceof gf)return t;if(t instanceof Ua)return function(t,n){return new mf({as:sf.Pf,Jh:t,Qh:pf(n)})}(t,i);var r=pf(i),e=A.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{as:ts.eu,Zh:t,Qh:n||yf};if(t instanceof ArrayBuffer||vu(t))return{as:ts.Of,Zh:If(t),Qh:n};if(at(t)||ot(t))return{as:ts.xf,Zh:t,Qh:n};throw new d("Unsupported BodyInit type")}return{as:ts.eu,Zh:null,Qh:n}}(t,r)});return new mf({as:sf.$h,Tc:e,tv:n})}function pf(t){return(t.get(wf)||"").toLowerCase()}var mf=function(t){function n(n){var i;return(i=t.call(this)||this).nv=!1,i.iv=void 0,i.rv=new ro,i.rv.Tc.catch(L),i.ev(n),i}$(n,t);var i=n.prototype;return i.uv=function(){return this.rv.Tc},i.Gh=function(t){return this.ov(kf,t)},i.Xh=function(t){return this.ov(Tf,t)},i.Kh=function(t){return this.ov(Sf,t)},i.Jh=function(){return this.sv((t=this.iv).as===sf.Pf?t.Jh:vf(t.Tc.then(Rf).then(ff),t.tv));var t},i.ov=function(t,n){if(this.nv)return A.reject(new d("Already used"));this.nv=!0;var i=t(this.iv,n);return this.rv.Ec(i.then(L)),i},i.sv=function(t){if(this.nv)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.nv=!0;var n=new Ga,i=A.resolve(t.pipeTo(n.writable));return this.rv.Ec(i),n.readable},i.ev=function(t){this.iv=t,t.as===sf.$h&&t.Tc.catch(L)},i.cv=function(){if(this.nv)throw new d("Already used");var t=function(t){if(t.as===sf.Pf){var n=t.Jh.tee(),i=n[0],r=n[1];return[{as:t.as,Jh:i,Qh:t.Qh},{as:t.as,Jh:r,Qh:t.Qh}]}var e=t.tv.Ls(),u=e[0],o=e[1];return[{as:t.as,Tc:t.Tc,tv:u},{as:t.as,Tc:t.Tc,tv:o}]}(this.iv),i=t[0],r=t[1];return this.ev(i),new n(r)},W(n,[{key:"av",get:function(){return this.nv}}]),n}(gf);function kf(t,n){return t.as===sf.Pf?hf(t.Jh,n).then(df):(n&&t.tv.Ps(n),Me(t.Tc.then(bf),t.tv))}function bf(t){switch(t.as){case ts.eu:return A.resolve(t.Zh||"");case ts.Of:return A.resolve(t.Zh).then(df);case ts.xf:return A.resolve(t.Zh).then(JSON.stringify)}}function Tf(t,n){return t.as===sf.Pf?kf(t,n).then(JSON.parse):(n&&t.tv.Ps(n),Me(t.Tc.then(Ef),t.tv))}function Ef(t){return t.as===ts.xf?A.resolve(t.Zh):bf(t).then(JSON.parse)}function Sf(t,n){return t.as===sf.Pf?hf(t.Jh,n):(n&&t.tv.Ps(n),Me(t.Tc.then(Rf),t.tv))}function Rf(t){switch(t.as){case ts.Of:return A.resolve(t.Zh);case ts.eu:case ts.xf:return bf(t).then(lf)}}function If(t){return t instanceof ArrayBuffer?t:no(Ju(t)).buffer}function Cf(t){return t.fv>=200&&t.fv<=299||304===t.fv}var Af,Df,Nf,Of,xf=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.hv,u=i.vv,o=i.fv,s=i.dv,c=i.lv):(e=[],u=ts.eu,o=200,s="OK",c=!1);var a=n.wv,f=new ns(n.hv||e),h=n.vv||u,v=n.yv||(i&&i.wv===a?i.yv:a.gv),d=i?i._v:null,l=_f(void 0!==n.xu?n.xu:d,n.tv||new De,f);return(r=t.call(this,l)||this).hv=void 0,r.wv=void 0,r.yv=void 0,r.vv=void 0,r.fv=void 0,r.dv=void 0,r.lv=void 0,r.hv=f,r.wv=a,r.yv=v,r.vv=h,r.fv=void 0!==n.fv?n.fv:o,r.dv=void 0!==n.dv?String(n.dv):s,r.lv=n.lv||c,r}$(n,t);var i=n.prototype;return i.xu=function(t){return this.Yh(this.vv,t)},i._c=function(){return new n({xu:this.cv(),wv:this.wv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this)._v=void 0,i._v=n,i}$(n,t);var i=n.prototype;return i.uv=function(){return this._v.uv()},i.Gh=function(t){return this._v.Gh(t)},i.Xh=function(t){return this._v.Xh(t)},i.Kh=function(t){return this._v.Kh(t)},i.Jh=function(){return this._v.Jh()},i.cv=function(){return this._v.cv()},W(n,[{key:"av",get:function(){return this._v.av}}]),n}(gf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Af||(Af={})),function(t){t.pv="",t.mv="manifest",t.kv="segment",t.bv="content-protection"}(Df||(Df={})),function(t){t.pv="",t.Tv="initialization-segment",t.Ev="fairplay-license",t.Sv="fairplay-certificate",t.Rv="widevine-license",t.Iv="widevine-certificate",t.Cv="playready-license",t.Av="clearkey-license",t.Dv="aes128-key"}(Nf||(Nf={})),function(t){t.pv="",t.Nv="audio",t.Ov="video",t.eu="text",t.xv="image"}(Of||(Of={}));var Pf=function(t,n){this.Zh=void 0,this.hv=void 0,this.Pv=void 0,this.vv=void 0,this.Lv=void 0,this.Fs=void 0,this.as=void 0,this.Fv=void 0,this.Mv=void 0,this.gv=void 0,this.Bv=void 0,this.Uv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.gv;n?(i=n.Zh,r=n.hv,e=n.Pv,u=n.vv,o=n.Lv,s=n.Fs,c=n.as,a=n.Fv,f=n.Mv,h=n.Bv,v=n.Uv):(i=null,r={},e=Af.GET,u=ts.eu,o=0,c=Df.pv,a=Nf.pv,f=Of.pv,h=!1),this.gv=d,this.Zh=t.Zh||i,this.hv=new ns(t.hv||r),this.Pv=t.Pv||e,this.vv=t.vv||u,this.Lv=void 0!==t.Lv?Number(t.Lv)||0:o,this.Fs=t.Fs||s||(new De).Fs,this.as=t.as||c,this.Fv=t.Fv||a,this.Mv=t.Mv||f,this.Bv=void 0!==t.Bv?Boolean(t.Bv):h,this.Uv=t.Uv||v},Lf=function(){function t(){}var n=t.prototype;return n.wv=function(t){var n=function(t){return new xf({xu:null,hv:{},wv:t,yv:t.gv,vv:t.vv,fv:0,dv:Zo.hf})}(new Pf(t));return A.resolve(n)},n.Vv=function(t){},n.sr=function(){},t}();var Ff=function(){function t(t,n){void 0===n&&(n=!0),this.qv=void 0,this.Hv=void 0,this.qv=t,this.Hv=n}var n=t.prototype;return n.wv=function(t){var n=this.jv(t);return this.qv.wv(n)},n.Vv=function(t){return this.qv.Vv(this.Wv(t))},n.jv=function(n){var i=new Pf(n);if(!this.Hv){var r=t.zv(i.gv);i=new Pf({gv:r},i)}return i},n.Wv=function(n){var i=n.gv;return this.Hv||(i=t.zv(i)),{gv:i,Zh:n.Zh}},t.zv=function(t){return N.Wo&&de(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.qv.sr()},W(t,null,[{key:"$v",get:function(){return t.Xv||(t.Xv=new t(new Lf)),t.Xv}}]),t}();function Mf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Bf(t,n){var i=N.Bo(t);return n&&!le(i,"/")&&(i+="/"),i}Ff.Xv=void 0;var Uf,Vf=/cache:(.+)?(?=&|$)/,qf="http://webcache.googleusercontent.com/search?q=cache:";function Hf(t){if(!de(t,qf))return"";var n=N.Mo(t).search.match(Vf);return n&&n.length>1?n[1]:""}!function(t){t.Gv="HttpOpenError",t.Yv="HttpResponseError",t.Kv="HttpTimeoutError"}(Uf||(Uf={}));var jf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Jv=void 0,e.Jv=n,e}return $(n,t),W(n,[{key:"wv",get:function(){return this.Jv}}]),n}(sn);var Wf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.gv+". Invalid URL.",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Gv}}]),n}(jf);var zf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.wv,null!=r?r:function(t){return"Error while loading "+t.wv.gv+", status code "+t.fv}(n),i)||this).Qv=void 0,e.Qv=n,e}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Yv}},{key:"Zv",get:function(){return this.Qv}}]),n}(jf);var $f=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.gv+" timed out after "+t.Lv+" seconds."}(n),i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Uf.Kv}}]),n}(jf),Xf=function(t,n){return(Xf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Gf(t,n){function i(){this.constructor=t}Xf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Yf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Kf=function(){var t=Yf.Blob;if(t)try{return new t,function(t,n){return new Yf.Blob(t,n)}}catch(t){}var n,i=Yf.BlobBuilder||Yf.WebKitBlobBuilder||Yf.MozBlobBuilder||Yf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Jf="function"==typeof Ua?Ua:void 0;function Qf(t){return t&&"function"==typeof t.getReader}function Zf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Qf(i)}catch(t){return!1}}var th=function(){function t(t,n){this.zf=t,this.td=n}return t.prototype.pull=function(t){var n=this;return this.zf.read().then(function(i){n.td&&n.td(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.zf.cancel(t)},t}();function nh(t,n){return n.constructor===t?n:new t(new th(n.getReader()),{highWaterMark:0})}var ih=function(){function t(t,n){this.nd=t,this.yt=n}return t.prototype.pull=function(t){return this.nd().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function rh(t,n,i){return new t(new ih(n,i),{highWaterMark:0})}var eh={searchParams:"URLSearchParams"in Yf,iterable:"Symbol"in Yf&&"iterator"in Symbol,blob:"FileReader"in Yf&&!!Kf,formData:"FormData"in Yf,arrayBuffer:"ArrayBuffer"in Yf,stream:Zf(Jf),streamRequest:"Request"in Yf&&"body"in Yf.Request.prototype,streamResponse:"Response"in Yf&&"body"in Yf.Response.prototype,abort:"AbortController"in Yf&&"Request"in Yf&&"signal"in Yf.Request.prototype,encoding:"TextEncoder"in Yf&&"TextDecoder"in Yf,url:"URL"in Yf&&function(t){try{return new Yf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Yf&&/Firefox\//.test(Yf.navigator.userAgent)};function uh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function oh(t){return"string"!=typeof t&&(t=String(t)),t}function sh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return eh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ch=function(){function t(t){var n=this;this.rs={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return eh.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=uh(t),n=oh(n);var i=t.toLowerCase();if(this.rs.hasOwnProperty(i)){var r=this.rs[i],e=r[1];r[1]=e?e+", "+n:n}else this.rs[i]=[t,n]},t.prototype.delete=function(t){var n=uh(t).toLowerCase();delete this.rs[n]},t.prototype.get=function(t){var n=uh(t).toLowerCase();return this.rs.hasOwnProperty(n)?this.rs[n][1]:null},t.prototype.has=function(t){var n=uh(t).toLowerCase();return this.rs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=uh(t)).toLowerCase();this.rs[i]=[t,oh(n)]},t.prototype.forEach=function(t,n){for(var i in this.rs)this.rs.hasOwnProperty(i)&&t.call(n,this.rs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),sh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),sh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),sh(t)},t.prototype.asList=function(){var t=[];for(var n in this.rs)if(this.rs.hasOwnProperty(n)){var i=this.rs[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ah(){}eh.iterable&&(ch.prototype[Symbol.iterator]=ch.prototype.entries);var fh,hh,vh,dh=w.min,lh=String.fromCharCode,wh=16384;function yh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=wh){var e=dh(r+wh,n);i.push(lh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function gh(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function _h(t,n){return t>>n&63|128}function ph(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(gh(t),n.push(t>>12&15|224),n.push(_h(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(_h(t,12)),n.push(_h(t,6))),n.push(63&t|128)):n.push(t)}function mh(){if(vh>=hh)throw new v("Invalid byte index");var t=255&fh[vh];if(vh++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function kh(){var t,n;if(vh>hh)throw new v("Invalid byte index");if(vh===hh)return!1;if(t=255&fh[vh],vh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|mh())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|mh()<<6|mh())>=2048)return gh(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|mh()<<12|mh()<<6|mh())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var bh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Th(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Eh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Sh(t){return t&&DataView.prototype.isPrototypeOf(t)}var Rh,Ih=ArrayBuffer.isView||function(t){return t&&(bh.indexOf(l.prototype.toString.call(t))>-1||Sh(t))};function Ch(t){if(t.bodyUsed)return A.reject(new d("Already used"));t.bodyUsed=!0}function Ah(t){return new A(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Dh(t){return eh.encoding?new Yf.TextDecoder("utf-8").decode(new p(t)):yh(function(t){hh=(fh=t).length,vh=0;for(var n,i=[];!1!==(n=kh());)i.push(n);return i}(new p(t)))}function Nh(t){return eh.encoding?(new Yf.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,r=t;i<r.length;i++)ph(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Oh(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?A.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function xh(t){return Oh(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new p(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Ph(t){return t.slice?t.slice(0):Lh(new p(t))}function Lh(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Fh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Mh(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.rd===Rh.ed){if(!n.ud.tee)throw new v("could not clone ReadableStream body");var i=n.ud.tee(),r=i[0],e=i[1];return n.body=r,n.ud=r,n.od=r,e}return n.rd===Rh.Of?Ph(n.ud):n.rd===Rh.$h?n.ud.then(Mh):n.od}!function(t){t[t.eu=0]="eu",t[t.sd=1]="sd",t[t.fd=2]="fd",t[t.Of=3]="Of",t[t.ed=4]="ed",t[t.$h=5]="$h"}(Rh||(Rh={}));var Bh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this.od=n||null,n)if("string"==typeof n)this.rd=Rh.eu,this.ud=n;else if((u=n)&&"function"==typeof u.then)this.rd=Rh.$h,this.ud=A.resolve(n).then(function(n){return new t(n,i)}),this.ud.catch(ah);else if(eh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.rd=Rh.sd,this.ud=n;else if(eh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.rd=Rh.fd,this.ud=n;else if(eh.searchParams&&Th(n))this.rd=Rh.eu,this.ud=n.toString();else if(eh.arrayBuffer&&(Eh(n)||Ih(n)))Sh(n)&&(this.od=new p((e=n).buffer,e.byteOffset,e.byteLength)),this.rd=Rh.Of,this.ud=Eh(r=n)?Ph(r):Lh(r);else{if(!eh.stream||!Qf(n))throw new v("unsupported BodyInit type");n=nh(Jf,n),this.rd=Rh.ed,this.ud=n,this.od=n}else this.rd=Rh.eu,this.ud="";this.hd="",i.has("content-type")?this.hd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.hd="text/plain;charset=UTF-8":o.rd===Rh.sd&&o.ud.type?this.hd=o.ud.type:eh.searchParams&&Th(n)&&(this.hd="application/x-www-form-urlencoded;charset=UTF-8"),this.hd&&i.set("content-type",this.hd)),eh.stream&&(null==n?this.body=null:o.rd===Rh.ed?this.body=o.ud:this.body=rh(Jf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ch(this);return r||(this.rd===Rh.sd?(t=this.ud,n=new FileReader,i=Ah(n),n.readAsText(t),i):this.rd===Rh.Of?A.resolve(this.ud).then(Dh):this.rd===Rh.ed?xh(this.ud).then(Dh):this.rd===Rh.$h?this.ud.then(function(t){return t.text()}):this.rd===Rh.fd?A.reject(new v("could not read FormData body as text")):A.resolve(this.ud))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();eh.blob&&(Bh.prototype.blob=function(){var t,n,i=Ch(this);return i||(this.rd===Rh.sd?A.resolve(this.ud):this.rd===Rh.Of?A.resolve(Kf([this.ud],{type:this.hd})):this.rd===Rh.ed?(t=this.ud,n=this.hd,Oh(t).then(function(t){return Kf(t,{type:n||""})})):this.rd===Rh.$h?this.ud.then(function(t){return t.blob()}):this.rd===Rh.fd?A.reject(new v("could not read FormData body as Blob")):A.resolve(Kf([this.ud],{type:this.hd})))}),eh.arrayBuffer&&(Bh.prototype.arrayBuffer=function(){var t,n,i;return this.rd===Rh.Of?Ch(this)||A.resolve(this.ud):this.rd===Rh.sd?Ch(this)||(t=this.ud,n=new FileReader,i=Ah(n),n.readAsArrayBuffer(t),i):this.rd===Rh.ed?xh(this.ud):this.rd===Rh.$h?Ch(this)||this.ud.then(function(t){return t.arrayBuffer()}):this.rd===Rh.fd?A.reject(new v("could not read FormData body as ArrayBuffer")):A.resolve(this.ud).then(Nh)}),eh.formData&&(Bh.prototype.formData=function(){return this.rd===Rh.fd?Ch(this)||A.resolve(this.ud):this.text().then(Fh)});var Uh=[301,302,303,307,308],Vh=function(t){function n(n,i){var r=this,e=new ch((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Gf(n,t),n.prototype.clone=function(){return new n(Mh(this),{status:this.status,statusText:this.statusText,headers:new ch(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Uh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Bh);var qh,Hh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function s(t,n){return(s=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(n,h),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==u?u.createEvent?(t=u.createEvent("Event")).initEvent("abort",!1,!1):(t=u.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(qh=Hh)&&qh.__esModule&&l.prototype.hasOwnProperty.call(qh,"default")&&qh.default;Hh.AbortSignal;var jh=Hh.AbortController,Wh=Yf.DOMException;try{new Wh}catch(t){(Wh=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Wh.prototype.constructor=Wh}var zh=jh;function $h(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Xh(t,n,i){return new A(function(r,e){if(n.signal.aborted)return t.catch(ah),e(Gh());var u=function(){n.signal.removeEventListener("abort",u),e(Gh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Gh(){return new Wh("Aborted","AbortError")}var Yh,Kh="moz-chunked-arraybuffer";function Jh(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Yh||(Yh={}));var Qh=function(){function t(t,n){var i=this;this.vd=!1,this.Jv=t,this.dd=n,this.ld=new m,this.wd=new A(function(t,n){i.yd=t,i.gd=n})}return t.prototype.send=function(){var t=this;return this._d().then(function(n){return t.pd(n,t.dd),t.wd})},t.prototype._d=function(){var t=this.Jv;return t.rd===Rh.ed?t.arrayBuffer():A.resolve(t.od)},t.prototype.md=function(t){this.Jv.onprogress&&this.Jv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.kd=function(t){this.gd(t)},t.prototype.bd=function(){this.kd(new d("Network request failed"))},t.prototype.Td=function(){this.kd(new d("Network request failed"))},t.prototype.Ed=function(){this.kd(Gh())},t.prototype.pd=function(t,n){var i=this,r=this.Jv,e=this.ld,u=function(){return i.Sd()};if(r.signal.aborted)return this.Ed();e.onreadystatechange=function(){if(e.readyState>=Yh.HEADERS_RECEIVED&&!i.vd){var t=function(t){var n=new ch;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.vd=!0,i.Rd(n)}},e.onprogress=function(t){return i.md(t)},e.onload=function(){return i.Id()},e.onerror=function(){return i.bd()},e.ontimeout=function(){return i.Td()},e.onabort=function(){return i.Ed()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Sd=function(){this.Ed(),this.ld.abort()},t}(),Zh=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Cd=void 0,r.Ad=void 0,r}return Gf(n,t),n.prototype.Rd=function(t){var n=this;this.Cd=new A(function(t,i){n.Ad=t,n.Dd=i}),this.yd(new Vh(this.Cd,t))},n.prototype.Id=function(){var t=this.ld.response||this.ld.responseText;this.Ad(t)},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Dd&&this.Dd(n)},n}(Qh),tv=function(t){function n(n){var i=t.call(this,n,Kh)||this;return i.Nd=void 0,i.Od=void 0,i.xd=!1,i}return Gf(n,t),n.prototype.Rd=function(t){var n=this;this.Nd=new Jf({start:function(t){n.Od=t},cancel:function(){n.xd=!0,n.Sd()}}),this.yd(new Vh(this.Nd,t))},n.prototype.md=function(n){this.xd||this.Od.enqueue(new p(this.ld.response)),t.prototype.md.call(this,n)},n.prototype.Id=function(){this.Od.close()},n.prototype.kd=function(n){t.prototype.kd.call(this,n),this.Od&&!this.xd&&(this.xd=!0,this.Od.error(n))},n}(Qh),nv=function(){var t=eh.firefox&&Jh(Kh);return nv=function(){return t},t},iv=function(){var t;return t=eh.arrayBuffer&&Jh("arraybuffer")?"arraybuffer":eh.blob&&Jh("blob")?"blob":"",iv=function(){return t},t};function rv(t){return(eh.stream&&nv()?new tv(t):new Zh(t,iv())).send()}var ev=Yf.fetch,uv=Yf.Request,ov=(Yf.Response,Yf.AbortController);var sv=["http:","https:"];var cv=function(){try{if(eh.streamRequest){var t=new uv("about:blank",{body:"",method:"POST"}).body;if(t&&Zf(t.constructor))return t.constructor}}catch(t){}}();function av(t,n,i){var r;if(eh.stream){var e=void 0;if(eh.streamResponse){var u=t.body;e=u&&nh(Jf,u)}else e=rh(Jf,function(){return Xh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new th(n.getReader(),i),{highWaterMark:0})}(Jf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,fv(t.headers))),r=e}else{var o=Xh(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return A.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,fv(t.headers))),r=o}return new Vh(r,t)}function fv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hv(t){var n=new zh;return t.signal&&$h(n,t.signal),function(t,n){var i,r,e=t;if(i=e.rd===Rh.ed?eh.streamRequest&&cv?A.resolve(nh(cv,e.ud)):Xh(t.arrayBuffer(),n,!1):Xh(A.resolve(t.od),n,!1),eh.abort){var u=new ov;$h(u,n.signal),r=u.signal}return i.then(function(n){return new uv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof ch?i:new ch(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return ev(i).then(function(i){return av(i,n,t.onprogress)})})}var vv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var dv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,v,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,u=i.credentials,r.headers||(o=new ch(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,v=i.onprogress,w||null==i.od||(w=i.od,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,v=null;if(!r.headers&&o||(o=new ch(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return vv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new zh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new d("Body not allowed for GET or HEAD requests");return l}return Gf(n,t),n.prototype.clone=function(){return new n(this,{body:Mh(this)})},n}(Bh),lv="function"==typeof ev&&eh.stream&&eh.streamResponse&&eh.url;function wv(t,n){return new A(function(i){var r=new dv(t,n);i((lv&&function(t){try{return sv.indexOf(new Yf.URL(t,Yf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?hv:rv)(r))})}wv.polyfill=!0;var yv=function(){function t(t){this.Zv=void 0,this.Jv=void 0,this.Pd=new De,this.Qv=void 0,this.Ld=!1,this.Jv=t,this.Pd.Ps(t.Fs),this.Zv=this.Fd()}var n=t.prototype;return n.Fd=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r,e,u,o,s,a,f=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Jv).Lv&&c(function(){f.Ld=!0,f.Pd.xs()},n.Lv),t.prev=2,i=wv(n.gv,{method:n.Pv,headers:n.hv.Lf(),body:n.Zh,credentials:n.Bv?"include":"same-origin",signal:pv(this.Pd.Fs),onprogress:n.Uv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Wf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Oe(e=this.Md(t.t1))&&this.Pd.xs(),e;case 20:if(u=r.url||n.gv,o=0===r.status&&"file:"===(h=u,N.Mo(h).protocol)?200:r.status,s=new gv(this,r,this.Pd),a=new xf({xu:s,wv:n,vv:n.vv,hv:new ns(r.headers.asList()),fv:o,dv:r.statusText,yv:u}),this.Qv=a,!Cf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new zf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Md=function(t){return Oe(t)?this.Ld?new $f(this.Jv):new Ne(t.message,t):this.Qv?new zf(this.Qv,t):new Wf(this.Jv,t)},t}(),gv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.Bd=void 0,e.Pd=void 0,e.rv=new ro,e.Zt=n,e.Bd=i,e.Pd=r,e.rv.Tc.catch(L),e}$(n,t);var i=n.prototype;return i.uv=function(){return this.rv.Tc},i.Gh=function(t){return this.ov(this.Bd.text(),t)},i.Kh=function(t){return this.ov(this.Bd.arrayBuffer(),t)},i.Jh=function(){var t=this.Bd.body;return t?this.sv(t):vf(this.Kh().then(ff),this.Pd)},i.cv=function(){var t=this.Bd.clone(),i=this.Pd.Ls(),r=i[0],e=i[1];return this.Pd=r,new n(this.Zt,t,e)},i.ov=function(t,n){var i=this;n&&this.Pd.Ps(n);var r=A.resolve(t).catch(function(t){throw i.Zt.Md(t)});return r=Me(r,this.Pd),this.rv.Ec(r.then(L)),r},i.sv=function(t){var n=this,i=new Ga,r=A.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Md(t);throw i.writable.abort(r).catch(L),r});return r=Me(r,this.Pd),this.rv.Ec(r.then(L)),i.readable},W(n,[{key:"av",get:function(){return this.Bd.bodyUsed}}]),n}(gf),_v="abort";function pv(t){var n=new zh;if(t.bs)n.abort();else if(!t.Ts){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(_v,i),t.As(i),t.Ns(r)};n.signal.addEventListener(_v,i),t.Cs(i),t.Ds(r)}return n.signal}var mv,kv=function(){function t(){}var n=t.prototype;return n.wv=function(t){return new yv(t).Zv},n.Vv=function(t){if(C&&C.sendBeacon)C.sendBeacon(t.gv,Jo([t.Zh],{type:t.Qh}));else{var n=t.Qh?{"Content-type":t.Qh}:void 0;Ve(this.wv(new Pf({Pv:Af.POST,gv:t.gv,Zh:t.Zh,hv:n})))}},n.sr=function(){},t}(),bv=function(n){function i(){for(var i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(i=n.call.apply(n,[this].concat(e))||this).Ud=void 0,i.Vd=function(){try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.qd=!function(t){if(it.xe||it.Ne){var n=it.De;if(void 0===n||Number(n)<t)return!1}return!0}(56),i.Hd=void 0,i}return $(i,n),W(i,[{key:"Do",get:function(){return this.Ud||(this.Ud=new ke(Xo())),this.Ud}},{key:"jd",get:function(){return this.Vd}},{key:"Wd",get:function(){return this.qd}},{key:"zd",get:function(){return!1}},{key:"$d",get:function(){return Yo.Xa()}},{key:"Xd",get:function(){return{Gd:Qo}}},{key:"Yd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Kd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Jd",get:function(){return this.Hd||(this.Hd=new Ff(new kv)),this.Hd}}]),i}(Ur);x(new bv),function(t){t.Qd="Zd",t.tl="nl"}(mv||(mv={}));mv.Qd,mv.tl;var Tv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).il=void 0,r}return $(n,t),W(n,[{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}}]),n}(Ge);var Ev,Sv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Tv),Rv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ge),Iv=function(t){function n(n){var i;return(i=t.call(this,mv.Qd)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new Cv(this.sl.ul)},n}(Sv),Cv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return $(n,t),n}(Rv),Av=function(t){function n(n){var i;return(i=t.call(this,mv.tl)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new Dv(this.sl.ul)},n}(Sv),Dv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return $(n,t),n}(Rv);!function(t){t.cl="al",t.fl="hl",t.vl="dl",t.ll="wl",t.yl="gl",t._l="pl",t.ml="kl",t.bl="Tl",t.El="Hc",t.Sl="Rl",t.Il="Cl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Ev||(Ev={}));var Nv=function(t){function n(){var n;return(n=t.call(this)||this).Al=[],n.il=void 0,n}$(n,t);var i=n.prototype;return i.Dl=function(t){return this.Al[t]},i.Nl=function(t){return!(!t||Ie(this.Al,t))&&(this.Al.push(t),this.il&&this.il.push(t.ul),t.Hs(Ev._l,this.Vs),this.qs(new Iv(t)),!0)},i.Ol=function(t){if(!t)return!1;var n=this.Al.indexOf(t);return!(n<0)&&(Re(this.Al,n),this.il&&Re(this.il,n),t.$s(Ev._l,this.Vs),this.qs(new Av(t)),!0)},i.xl=function(t){return Ie(this.Al,t)},i.Pl=function(){for(var t=this.Al,n=t.length-1;n>=0;n-=1)this.Ol(t[n])},i.sr=function(){this.Pl(),this.zs()},W(n,[{key:"Ll",get:function(){return this.Al}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"Fl",get:function(){return this.Al.length}}]),n}($e),Ov=function(t){function n(n){var i;return(i=t.call(this,Ev._l)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new xv(this.sl.ul)},n}(Sv),xv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return $(n,t),n}(Rv),Pv=function(t){function n(){var n;return(n=t.call(this)||this).Ml=void 0,n.Bl=function(t){var i=t.sl;n.Nl(i)},n.Ul=function(t){var i=t.sl;n.Ol(i)},n}$(n,t);var i=n.prototype;return i.Vl=function(t){t.Hs(mv.Qd,this.Bl),t.Hs(mv.tl,this.Ul)},i.ql=function(t){t.$s(mv.Qd,this.Bl),t.$s(mv.tl,this.Ul)},i.sr=function(){this.Ml&&this.Ml.sr(),t.prototype.sr.call(this)},W(n,[{key:"Hl",get:function(){return this.Ml},set:function(t){var n=this.Ml;if(t!==n){if(n){this.ql(n);for(var i=0,r=n.Ll;i<r.length;i++){var e=r[i];t&&t.xl(e)||this.Ol(e)}}if(this.Ml=t,t){for(var u=[],o=0,s=t.Ll;o<s.length;o++){var c=s[o];this.Nl(c),this.jl(c)&&u.push(c)}this.Vl(t);for(var a=0;a<u.length;a++){var f=u[a];f.qs(new Ov(f))}}}}}]),n}(Nv),Lv=l.freeze||F;function Fv(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Mv(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Bv(t){if(at(t)){var n={};for(var i in t)rt.call(t,i)&&(n[i]=Bv(t[i]));return n}if(ot(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Bv(t[e]));return r}return t}function Uv(t,n){return t===n||!(!t||!n)&&(!(!ct(t)||!ct(n))&&(st(t)?!!st(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Uv(t[e],n[e]))return!1;return!0}(t,n):!st(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!rt.call(n,u)||!Uv(t[u],n[u]))return!1}return!0}(t,n)))}function Vv(t,n){return t.constructor===n.constructor}function qv(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Hv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wv(t){var n=jv(t);if(_(n))throw new v("Expected a valid number.");return n}function zv(t){return"string"==typeof t?t:""}function $v(t,n){return st(t)?function(t,n){if(!st(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Xv=[mv.Qd,mv.tl,Ev._l];function Gv(t){var n,i=t.Ll.map(function(t){return t.ul});return i.item=function(n){var i=0|n,r=t.Dl(i);return r&&r.ul||void 0},i.addEventListener=function(t,i){n.Hs(t,i)},i.removeEventListener=function(t,i){n.$s(t,i)},n=new Xe(i),t.Hs(Xv,function(t){return n.qs(t.ul)}),i}function Yv(){}function Kv(t){var n,i=[Ev.El,Ev._l,Ev.Sl,Ev.Il,Ev.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Wl&&t.Wl.ul},get enabled(){return t.zl},set enabled(n){t.zl=Hv(n)},get id(){return t.$l},get uid(){return t.Xl},get kind(){return t.Gl},get label(){return t.Yl},set label(n){t.Yl=zv(n)},get language(){return t.Kl},get qualities(){return t.Jl.ul},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Jl.Ll;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.ul===s&&i.push(u)}return i}(t,ot(n)?n:[n]):[]).length>0?t.Ql=i:t.Ql=void 0},get targetQuality(){if(t.Ql)return 1===t.Ql.length?t.Ql[0].ul:t.Ql.map(function(t){return t.ul})},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new Xe(r),t.Hs(i,function(t){return n.qs(t.ul)}),l.defineProperty(r,"constructor",{value:Yv}),r}function Jv(){}function Qv(t){var n=Gv(t);return l.defineProperty(n,"constructor",{value:Jv}),n}var Zv,td,nd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ol=function(){return Qv(this)},i.jl=function(t){return t.zl},n}(Pv);function id(){}function rd(t){var n,i=[Ev._l,Ev.El,Ev.cl,Ev.fl,Ev.vl,Ev.ll,Ev.yl,Ev.ml,Ev.bl],r=[td.Zl],e={get kind(){return t.Gl},get label(){return t.Yl},set label(n){t.Yl=zv(n)},get language(){return t.Kl},get id(){return t.$l},get uid(){return t.Xl},get inBandMetadataTrackDispatchType(){return t.tw},get mode(){return t.nw},set mode(n){n!==Zv.iw&&n!==Zv.rw&&n!==Zv.ew||(t.nw=n)},get type(){return t.as},get readyState(){return od(t.uw)},get cues(){return t.nw===Zv.ew?null:t.ow.ul},get activeCues(){return t.nw===Zv.ew?null:t.sw.ul},get src(){return t.cw||""},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new Xe(t),t.Hs(i,function(t){return n.qs(t.ul)}),t.Hs(r,function(t){return n.qs(t)}),l.defineProperty(e,"constructor",{value:id}),e}function ed(){}function ud(t){var n=Gv(t);return l.defineProperty(n,"constructor",{value:ed}),n}function od(t){return t}!function(t){t.ew="disabled",t.rw="hidden",t.iw="showing"}(Zv||(Zv={})),function(t){t.Zl="error"}(td||(td={}));var sd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ol=function(){return ud(this)},i.jl=function(t){return t.nw===Zv.iw},n}(Pv),cd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Ws=function(n){t.prototype.Ws.call(this,n)},i.Ys=function(n){t.prototype.Ys.call(this,n)},n}($e),ad=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(cd),fd=function(t){function n(){return t.call(this,Zo.uf)||this}return $(n,t),n}(Ge),hd=function(t){function n(n){var i;return(i=t.call(this,Zo.tf)||this).currentSource=n,i}return $(n,t),n}(Ge),vd=function(){function t(){}return t.aw=function(n,i){var r=t.fw(n,i);return r?t.hw(r):0},t.vw=function(){return N.Yd||"default"},t.dw=function(){return N.Kd||"unknown"},t.fw=function(n,i){var r,e=null==(r=N.$d)?void 0:r.fc(i),u=e&&JSON.parse(e);if(u&&u[n])return t.lw(u,n,i)},t.hw=function(t){var n=t.availableBandwidth;return n||0},t.lw=function(n,i,r){if(!t.ww(n,i))return n[i];t.yw(n,i,r)},t.yw=function(t,n,i){var r;delete t[n],null==(r=N.$d)||r.$a(i,JSON.stringify(t))},t.ww=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.gw=function(t,n,i,r){var e;return Hr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t._w=function(n){var i=t.vw();t.pw(i,"theoplayer-stored-network-info",n,tn())},t.pw=function(n,i,r,e){var u,o,s=null==(u=N.$d)?void 0:u.fc(i),c=s?JSON.parse(s):void 0,a=t.gw(c,n,r,e);null==(o=N.$d)||o.$a(i,JSON.stringify(a))},t.mw=function(){var n=t.vw();return t.aw(n,"theoplayer-stored-network-info")},t}();var dd,ld,wd,yd,gd,_d,pd="1ADD53F3";function md(t){return{chromecast:function(t){return{appID:t&&t.appID?zv(t.appID):pd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dd.AUTO;case"manual":return dd.MANUAL;case"disabled":return dd.DISABLED;default:return dd.MANUAL}}(t?t.strategy:void 0)}}function kd(t){var n,i=wd.kw;return(n=t)&&ve(n,"mpd")&&(i=wd.bw),function(t){return!!t&&ve(t,"m3u8")}(t)&&(i=wd.Tw),i}function bd(t){return ct(t)&&ct(t.ssai)&&"google-dai"===t.ssai.integration}function Td(t){return ct(t)&&ft(t.integration)&&"verizon-media"===t.integration}function Ed(t){if(ft(t))return!t;if(Td(t))return!t.id;if(bd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Sd(t){return Boolean(ct(t)&&ft(t.src))}function Rd(t){return ft(t)||Sd(t)||bd(t)||Td(t)}function Id(t){if(t){if(Rd(t))return Ed(t);for(var n=0;n<t.length;n++){if(!Ed(t[n]))return!1}return!0}return!0}function Cd(){return{crossOrigin:ld.Ew,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ad(){return Hr({},Cd(),{src:void 0,type:wd.kw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Dd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:yd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return gd.NONE;case"midroll-and-postroll":default:return gd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Hv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return yd.INSECURE;case"disabled":return yd.DISABLED;case"enabled":default:return yd.ENABLED}}(t.vpaidMode)),ot(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ft)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Hv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Nd(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];at(e)&&n.push(e)}return n}function Od(t){return ft(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dd||(dd={})),function(t){t.Ew="",t.Sw="anonymous",t.Rw="use-credentials"}(ld||(ld={})),function(t){t.bw="application/dash+xml",t.Tw="application/vnd.apple.mpegurl",t.Iw="application/x-mpegurl",t.kw="video/mp4",t.Cw="application/vnd.theoplayer.hesp+json",t.Aw="application/vnd.theo.hesp+json"}(wd||(wd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(yd||(yd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(gd||(gd={})),function(t){t[t.Dw=0]="Dw",t[t.Nw=1]="Nw",t[t.Ow=2]="Ow",t[t.xw=3]="xw",t[t.Pw=4]="Pw"}(_d||(_d={}));var xd,Pd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Dw),(r=t.call(this,Zo.rf)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Ld=function(t){function n(n){var i;return(i=t.call(this,Zo.df)||this).currentTime=n,i}return $(n,t),n}(Ge),Fd=function(t){function n(n){var i;return(i=t.call(this,Zo.lf)||this).currentTime=n,i}return $(n,t),n}(Ge);!function(t){t.Lw="canplay",t.Fw="canplaythrough",t.Mw="loadeddata",t.Bw="loadedmetadata",t.ml="readystatechange",t.Uw="waiting",t.Vw="playing"}(xd||(xd={}));var Md,Bd,Ud=[xd.Lw,xd.Fw,xd.Mw,xd.Bw,xd.ml,xd.Uw,xd.Vw],Vd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Nw),(r=t.call(this,xd.Bw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),qd=function(t){function n(n){var i;return(i=t.call(this,Zo.if)||this).duration=n,i}return $(n,t),n}(Ge),Hd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.yf)||this).currentTime=n,r.playbackRate=i,r}return $(n,t),n}(Ge),jd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.If)||this).currentTime=n,r.currentProgramDateTime=i,r}return $(n,t),n}(Ge),Wd=function(t){function n(n){var i;return(i=t.call(this,Zo.ef)||this).currentTime=n,i}return $(n,t),n}(Ge),zd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Ow),(r=t.call(this,xd.Mw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),$d=function(t){function n(n){var i;return(i=t.call(this,Zo.mf)||this).currentTime=n,i}return $(n,t),n}(Ge),Xd=function(t){function n(n){var i;return(i=t.call(this,Zo.pf)||this).currentTime=n,i}return $(n,t),n}(Ge),Gd=function(t){function n(n,i){var r;return(r=t.call(this,Zo.Cf)||this).currentTime=n,r.volume=i,r}return $(n,t),n}(Ge),Yd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.xw),(r=t.call(this,xd.Lw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Kd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Pw),(r=t.call(this,xd.Fw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Jd=function(t){function n(n,i){var r;return(r=t.call(this,xd.ml)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ge),Qd=function(t){function n(n){var i;return(i=t.call(this,td.Zl)||this).errorObject=n,i}return $(n,t),n.prototype.ol=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv);function Zd(t){switch(t){case Md.ALL:case Md.CONTENT:return t;default:return Md.NONE}}function tl(t){var n,i,r,e=Bv(t||{});return e.libraryLocation&&(e.libraryLocation=Bf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=md(e.cast),e.ads=Dd(e.ads),e.analytics=Nd(e.analytics),e.mutedAutoplay=Zd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=ft(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Bf(t)}catch(t){return void N.bo("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function nl(t){return{qw:t.qw,Hw:t.Hw,jw:t.jw,ic:t.ic,Ww:t.Ww,zw:t.zw,$w:t.$w,Xw:t.Xw,uw:t.uw,Gw:t.Gw,Yw:t.Yw,Kw:t.Kw,Jw:t.Jw}}function il(t,n,i){if(n!==i){var r=n.qw,e=n.Hw,u=n.zw,o=n.$w,s=n.Xw,c=n.uw,a=n.Gw,f=(n.Kw,n.Yw,n.Jw),h=i.qw,v=i.Hw,d=i.jw,l=i.Ww,w=i.zw,y=i.$w,g=i.Xw,p=i.uw,m=i.Gw,k=(i.Kw,i.Yw,i.Jw);c!==_d.Dw&&t.qs(new Pd(h,p)),y&&!o?t.qs(new Ld(h)):!y&&o&&t.qs(new Fd(h)),p>=_d.Nw&&t.qs(new Vd(h,p)),v===e||_(v)&&_(e)||t.qs(new qd(v)),g!==s&&t.qs(new Hd(h,g)),h!==r&&t.qs(new jd(h,void 0)),d&&t.qs(new Wd(h)),p>=_d.Ow&&t.qs(new zd(h,p)),m&&!a?t.qs(new $d(h)):!m&&a&&t.qs(new Xd(h)),k===f&&w===u||t.qs(new Gd(h,k)),p>=_d.xw&&t.qs(new Yd(h,p)),p>=_d.Pw&&t.qs(new Kd(h,p)),p!==c&&t.qs(new Jd(h,p)),l&&t.qs(new Qd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Md||(Md={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Bd||(Bd={}));var rl,el=400,ul={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},ol=sl(.5,ul);function sl(t,n){var i=w.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function cl(){var t;return t="Android"===N.qo.Ho?ol:ul,N.qo.jo?function(t){var n=t;N.qo.jo&&(n=sl((el+250)/1e3,n));return n}(t):t}!function(t){t[t.Qw=0]="Qw",t[t.Zw=1]="Zw",t[t.ty=-1]="ty"}(rl||(rl={}));var al=function(t,n){return(0|t)-(0|n)},fl=function(t,n){return t===n?rl.Qw:t<n?rl.ty:t>n?rl.Zw:_(t)?_(n)?rl.Qw:rl.Zw:rl.ty};function hl(t,n,i){return Qt(t,n,i)?rl.Qw:fl(t,n)}var vl=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Kt||i<w.max(w.abs(t),w.abs(n))*Kt}(t,n)?rl.Qw:fl(t,n)},dl=function(){function t(){}var n=t.prototype;return n.ny=function(t){return this.iy()*t},n.ey=function(t){return this.uy(t)>0},n.oy=function(t){return this.uy(t)>=0},n.sy=function(t,n){return this.hy(t).ay(n)},n.vy=function(t){return 0===this.uy(t)},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.wy=function(){return this.yy()?this.gy():this},n._y=function(t){return this.py(t.gy())},n.hy=function(t){return this._y(t).wy()},t}();function ll(t,n){return t.my()?n.my()?rl.Qw:rl.Zw:n.my()?rl.ty:t.ky()?n.ky()&&t.yy()===n.yy()?rl.Qw:t.yy()?rl.ty:rl.Zw:n.yy()?rl.Zw:rl.ty}var wl=function(){function t(t,n){this.by=void 0,this.Ty=void 0,this.by=t,this.Ty=n}t.Ey=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Sy=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.Ry=function(n,i){if(_(n))return i?t.Iy:t.Cy;if(i){if(n<0)return t.Iy;if(n>=3.402823669209385e38)return t.Ay}else{if(n<=-1.7014118346046923e38)return t.Dy;if(n+1>=1.7014118346046923e38)return t.Ny}return n<0?t.Ry(-n,i).gy():t.Ey(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Oy=function(){return this.Ty.unsigned},n.xy=function(){return this.by.isZero()&&this.Ty.isZero()},n.yy=function(){return this.Ty.isNegative()},n.Py=function(){return this.Oy()?t.Ey(this.by,this.Ty,!1):this},n.Ly=function(){return this.Oy()?this:t.Ey(this.by,this.Ty,!0)},n.Fy=function(){return this.by},n.iy=function(){return this.yy()?-this.gy().iy():0x10000000000000000*this.Ty.toNumber()+this.by.toUnsigned().toNumber()},n.My=function(){return this.by.toInt()},n.vy=function(t){return(this.Oy()===t.Oy()||this.Ty.getHighBits()>>>31!=1||t.Ty.getHighBits()>>>31!=1)&&(this.Ty.toUnsigned().eq(t.Ty.toUnsigned())&&this.by.toUnsigned().eq(t.by.toUnsigned()))},n.uy=function(t){if(this.vy(t))return rl.Qw;var n=this.yy(),i=t.yy();if(n&&!i)return rl.ty;if(!n&&i)return rl.Zw;if(!this.Oy())return this._y(t).yy()?rl.ty:rl.Zw;var r=this.Ly(),e=t.Ly(),u=e.Ty.comp(r.Ty);return u>0||0===u&&e.by.gt(r.by)?rl.ty:rl.Zw},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.By=function(t){return this.uy(t)>0},n.Uy=function(t){return this.uy(t)>=0},n.Vy=function(){return new t(this.by.not(),this.Ty.not())},n.qy=function(n){return new t(this.by.and(n.by),this.Ty.and(n.Ty))},n.Hy=function(n){return new t(this.by.or(n.by),this.Ty.or(n.Ty))},n.jy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shl(i),this.Ty.shl(i).or(this.by.shru(64-i)),this.Oy()):t.Ey(Yt.ZERO,this.by.shl(i-64),this.Oy())},n.Wy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shru(i).or(this.Ty.shl(64-i)),this.Ty.shr(i),this.Oy()):t.Ey(this.Ty.shr(i-64),this.Ty.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.Oy())},n.zy=function(n){var i=127&n;return 0===i?this:i<64?t.Ey(this.by.shru(i).or(this.Ty.shl(64-i)),this.Ty.shru(i),this.Oy()):64===i?t.Ey(this.Ty,Yt.ZERO,this.Oy()):t.Ey(this.Ty.shru(i-64),Yt.ZERO,this.Oy())},n.py=function(n){var i=this.Ty.high>>>16,r=65535&this.Ty.high,e=this.Ty.low>>>16,u=65535&this.Ty.low,o=this.by.high>>>16,s=65535&this.by.high,c=this.by.low>>>16,a=65535&this.by.low,f=n.Ty.high>>>16,h=65535&n.Ty.high,v=n.Ty.low>>>16,d=65535&n.Ty.low,l=n.by.high>>>16,w=65535&n.by.high,y=n.by.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.by.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.Oy(),R=Yt.fromBits(p<<16|m,g<<16|_,S),I=Yt.fromBits(T<<16|E,k<<16|b,S);return t.Ey(I,R,S)},n._y=function(t){return this.py(t.gy())},n.gy=function(){return this.Vy().py(t.$y)},n.Xy=function(n){if(this.xy()||n.xy())return this.Oy()?t.Iy:t.Cy;if(this.yy())return n.yy()?this.gy().Xy(n.gy()):this.gy().Xy(n).gy();if(n.yy())return this.Xy(n.gy()).gy();if(this.Ty.isZero()&&0===this.by.high&&n.Ty.isZero()&&0===n.by.high)return t.Sy(this.by.multiply(n.by));var i=Yt.fromBits(4294967295,0,!0),r=this.by.and(i),e=this.by.shru(32),u=this.Ty.and(i),o=this.Ty.shru(32),s=n.by.and(i),c=n.by.shru(32),a=n.Ty.and(i),f=n.Ty.shru(32),h=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Yt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Ey(w,y,this.Oy())},n.Gy=function(n){var i,r,e=n;if(e.xy())throw new RangeError("division by zero");if(this.xy())return this.Oy()?[t.Iy,t.Iy]:[t.Cy,t.Cy];if(this.Oy()){if(e.Oy()||(e=e.Ly()),e.By(this))return[t.Iy,this];if(e.By(this.zy(1)))return[r=t.Yy,i=this._y(e)];r=t.Iy}else{if(this.vy(t.Dy)){if(e.vy(t.$y)||e.vy(t.Ky))return[t.Dy,t.Cy];if(e.vy(t.Dy))return[t.$y,t.Cy];var u=this.Wy(1).Jy(e).jy(1);return u.vy(t.Cy)?r=e.yy()?t.$y:t.Ky:(i=this._y(e.Xy(u)),r=u.py(i.Jy(e))),[r,i=this._y(e.Xy(r))]}if(e.vy(t.Dy))return this.Oy()?[t.Iy,this]:[t.Cy,this];if(this.yy()){if(e.yy())return this.gy().Gy(e.gy());var o=this.gy().Gy(e);return r=o[0],i=o[1],[r.gy(),i.gy()]}if(e.yy()){var s=this.Gy(e.gy());return r=s[0],i=s[1],[r.gy(),i.gy()]}r=t.Cy}for(i=this;i.Uy(e);){for(var c=w.max(1,w.floor(i.iy()/e.iy())),a=w.ceil(w.log(c)/w.LN2),f=a<=48?1:w.pow(2,a-48),h=t.Ry(c),v=h.Xy(e);v.yy()||v.By(i);)c-=f,v=(h=t.Ry(c,this.Oy())).Xy(e);h.xy()&&(h=t.$y),r=r.py(h),i=i._y(v)}return[r,i]},n.Jy=function(t){return this.Gy(t)[0]},n.Qy=function(t){return this.Gy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.xy())return"0";if(this.yy()){if(this.vy(t.Dy)){var r=t.Ry(i),e=this.Jy(r),u=e.Xy(r)._y(this);return e.toString(i)+u.My().toString(i)}return"-"+this.gy().toString(i)}for(var o=t.Ry(w.pow(i,6),this.Oy()),s=this,c="";;){var a=s.Jy(o),f=(s._y(a.Xy(o)).My()>>>0).toString(i);if((s=a).xy())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();wl.Cy=wl.Sy(Yt.ZERO),wl.Iy=wl.Sy(Yt.UZERO),wl.$y=wl.Sy(Yt.ONE),wl.Yy=wl.Sy(Yt.UONE),wl.Ky=wl.Sy(Yt.NEG_ONE),wl.Ny=wl.Ey(Yt.NEG_ONE,Yt.MAX_VALUE,!1),wl.Ay=wl.Ey(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),wl.Dy=wl.Ey(Yt.ZERO,Yt.MIN_VALUE,!1);var yl=function(){function t(t,n){void 0===n&&(n=1),this.Zy=void 0,this.tg=void 0,this.Zy=t,this.tg=n}t.ng=function(n){return new t(w.ceil(n.Zy),n.tg)},t.ig=function(n){return new t(w.floor(n.Zy),n.tg)},t.rg=function(t,n){return t.oy(n)?t:n},t.eg=function(t,n){return t.ay(n)?t:n};var n=t.prototype;return n.py=function(n){return this.tg>=n.tg?new t(this.Zy+n.ug(this.tg).Zy,this.tg):new t(this.ug(n.tg).Zy+n.Zy,n.tg)},n.ey=function(t){return t.ly(this)},n.oy=function(t){return t.ay(this)},n.hy=function(n){return this.tg>=n.tg?new t(w.abs(this.Zy-n.ug(this.tg).Zy),this.tg):n.hy(this)},n.sy=function(t,n){return this.hy(t).ay(n)},n.uy=function(t){return i=t,(n=this).tg>=i.tg?vl(n.Zy,i.ug(n.tg).Zy):vl(n.ug(i.tg).Zy,i.Zy);var n,i},n.vy=function(t){return 0===this.uy(t)},n.ly=function(t){return this.uy(t)<0},n.ay=function(t){return this.uy(t)<=0},n.ug=function(n){return new t(this.Zy*(n/this.tg),n)},n._y=function(n){return this.tg>=n.tg?new t(this.Zy-n.ug(this.tg).Zy,this.tg):new t(this.ug(n.tg).Zy-n.Zy,n.tg)},n.og=function(n){return new t(this.Zy*n,this.tg)},W(t,[{key:"ky",get:function(){return!isFinite(this.Zy)}},{key:"sg",get:function(){return this.Zy/this.tg}}]),t}();yl.cg=new yl(1/6,1),yl.Cy=new yl(0),yl.ag=new yl(1/0),yl.fg=1e6;var gl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.tg=void 0,r.wu=n.toSigned(),r.tg=i>>>0,r}$(n,t),n.hg=function(t,i){return void 0===i&&(i=1e6),n.Ry(t*i,i)},n.Ry=function(t,i){return _(t)?n.vg:t===1/0?n.dg:t===-1/0?n.lg:new n(Yt.fromNumber(t),i)},n.Sy=function(t,i){return new n(t,i)},n.wg=function(t){return n.hg(t.sg,1e6)},n.yg=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.rg=function(t,n){return t.oy(n)?t:n},n.eg=function(t,n){return t.ay(n)?t:n},n.gg=function(t,i,r){return n.rg(i,n.eg(r,t))};var i=n.prototype;return i.yy=function(){return this.wu.isNegative()},i.xy=function(){return 0!==this.tg&&this.wu.isZero()},i.ky=function(){return 0===this.tg&&!this.wu.isZero()},i.my=function(){return 0===this.tg&&this.wu.isZero()},i.iy=function(){if(0===this.tg)return this.wu.isZero()?NaN:this.wu.isNegative()?-1/0:1/0;var t=this.wu.divide(this.tg),n=this.wu.subtract(t.multiply(this.tg));return t.toNumber()+n.toNumber()/this.tg},i.Fy=function(){if(0===this.tg)throw new v("Failed to convert timestamp");return this.wu},i._g=function(){return new Date(0===this.tg?NaN:this.ug(1e3).wu.toNumber())},i.pg=function(){return new yl(0===this.tg?this.iy():this.wu.toNumber(),this.tg)},i.ug=function(t,i){void 0===i&&(i=ml.mg);var r=this.tg;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.Gy(n),e=r[0],u=r[1];if(u.xy())return e;if(i===ml.mg)return u.yy()?e._y(wl.$y):e;if(i===ml.kg)return u.yy()?e:e.py(wl.$y);var o=u.Xy(wl.Ry(2));return o.yy()?o.gy().ly(n)?e:e._y(wl.$y):o.ly(n)?e:e.py(wl.$y)}(wl.Sy(this.wu).Xy(wl.Ry(t/e)),wl.Ry(r/e),i).Fy(),t)},i.uy=function(t){if(this===t)return rl.Qw;if(0===this.tg||0===t.tg)return ll(this,t);if(this.xy())return t.xy()?rl.Qw:t.yy()?rl.Zw:rl.ty;if(t.xy())return this.yy()?rl.ty:rl.Zw;var n=w.min(this.tg,t.tg),i=this.ug(n,ml.bg).wu,r=t.ug(n,ml.bg).wu;return i.compare(r)},i.gy=function(){return 0===this.tg?_l(this):new n(this.wu.negate(),this.tg)},i.py=function(t){if(0===this.tg||0===t.tg)return pl(this,t);if(this.xy())return t;if(t.xy())return this;var i=w.max(this.tg,t.tg),r=this.ug(i,ml.bg),e=t.ug(i,ml.bg);return new n(r.wu.add(e.wu),i)},i.Xy=function(t){if(this.my()||_(t))return n.vg;if(this.ky()||!isFinite(t)){if(this.xy()||0===t)return n.vg;var i=this.yy()?n.lg:n.dg;return t<0?i.gy():i}return this.xy()?this:new n(0===t?Yt.ZERO:this.wu.multiply(t),this.tg)},i.Jy=function(t){if(this.my()||_(t))return n.vg;if(this.ky())return isFinite(t)?0===t?1/t<0?this.gy():this:t<0?this.gy():this:n.vg;if(!isFinite(t))return new n(Yt.ZERO,this.tg);if(this.xy())return 0===t?n.vg:new n(Yt.ZERO,this.tg);if(0===t){var i=this.yy()?n.lg:n.dg;return 1/t<0?i.gy():i}return new n(this.wu.divide(t),this.tg)},i.Tg=function(){return[this.wu.low,this.wu.high,this.tg]},n}(dl);function _l(t){return t.my()?t:t.yy()?gl.dg:gl.lg}function pl(t,n){return t.my()||n.my()?gl.vg:t.ky()&&n.ky()?t.yy()===n.yy()?t:gl.vg:t.ky()?t:n}gl.Cy=new gl(Yt.ZERO,1e6),gl.vg=new gl(Yt.ZERO,0),gl.dg=new gl(Yt.ONE,0),gl.lg=new gl(Yt.NEG_ONE,0);var ml,kl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.tg=void 0,r.wu=BigInt.asIntN(64,n),r.tg=i>>>0,r}$(n,t),n.hg=function(t,i){return void 0===i&&(i=1e6),n.Ry(t*i,i)},n.Ry=function(t,i){return _(t)?n.vg:t===1/0?n.dg:t===-1/0?n.lg:new n(BigInt(w.floor(t)),i)},n.Sy=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.wg=function(t){return n.hg(t.sg,1e6)},n.yg=function(t){return n.Ry(t.getTime(),1e3)},n.rg=function(t,n){return t.oy(n)?t:n},n.eg=function(t,n){return t.ay(n)?t:n},n.gg=function(t,i,r){return n.rg(i,n.eg(r,t))};var i=n.prototype;return i.yy=function(){return this.wu<BigInt(0)},i.xy=function(){return 0!==this.tg&&this.wu===BigInt(0)},i.ky=function(){return 0===this.tg&&this.wu!==BigInt(0)},i.my=function(){return 0===this.tg&&this.wu===BigInt(0)},i.iy=function(){if(0===this.tg)return this.wu===BigInt(0)?NaN:this.wu<BigInt(0)?-1/0:1/0;var t=this.wu/BigInt(this.tg),n=this.wu-t*BigInt(this.tg);return Number(t)+Number(n)/this.tg},i.Fy=function(){if(0===this.tg)throw new v("Failed to convert timestamp");return this.Eg()},i.Eg=function(){var t=this.wu&BigInt(4294967295),n=this.wu>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i._g=function(){return new Date(0===this.tg?NaN:Number(this.ug(1e3).wu))},i.pg=function(){return new yl(0===this.tg?this.iy():Number(this.wu),this.tg)},i.ug=function(t,i){void 0===i&&(i=ml.mg);var r=this.tg;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ml.mg)return e<BigInt(0)?r-BigInt(1):r;if(i===ml.kg)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.wu*BigInt(t/e),BigInt(r/e),i),t)},i.uy=function(t){if(this===t)return rl.Qw;if(0===this.tg||0===t.tg)return ll(this,t);if(this.xy())return t.xy()?rl.Qw:t.yy()?rl.Zw:rl.ty;if(t.xy())return this.yy()?rl.ty:rl.Zw;var n=w.min(this.tg,t.tg),i=this.ug(n,ml.bg).wu,r=t.ug(n,ml.bg).wu;return i>r?rl.Zw:i<r?rl.ty:rl.Qw},i.gy=function(){return 0===this.tg?bl(this):new n(-this.wu,this.tg)},i.py=function(t){if(0===this.tg||0===t.tg)return Tl(this,t);if(this.xy())return t;if(t.xy())return this;var i=w.max(this.tg,t.tg),r=this.ug(i,ml.bg),e=t.ug(i,ml.bg);return new n(r.wu+e.wu,i)},i.Xy=function(t){if(this.my()||_(t))return n.vg;if(this.ky()||!isFinite(t)){if(this.xy()||0===t)return n.vg;var i=this.yy()?n.lg:n.dg;return t<0?i.gy():i}return this.xy()?this:new n(0===t?BigInt(0):this.wu*BigInt(t),this.tg)},i.Jy=function(t){if(this.my()||_(t))return n.vg;if(this.ky())return isFinite(t)?0===t?1/t<0?this.gy():this:t<0?this.gy():this:n.vg;if(!isFinite(t))return new n(BigInt(0),this.tg);if(this.xy())return 0===t?n.vg:new n(BigInt(0),this.tg);if(0===t){var i=this.yy()?n.lg:n.dg;return 1/t<0?i.gy():i}return new n(this.wu/BigInt(t),this.tg)},i.Tg=function(){var t=this.Eg();return[t.low,t.high,this.tg]},W(n,null,[{key:"Cy",get:function(){return n.Sg||(n.Sg=new n(BigInt(0),1e6)),n.Sg}},{key:"vg",get:function(){return n.Rg||(n.Rg=new n(BigInt(0),0)),n.Rg}},{key:"dg",get:function(){return n.Ig||(n.Ig=new n(BigInt(1),0)),n.Ig}},{key:"lg",get:function(){return n.Cg||(n.Cg=new n(BigInt(-1),0)),n.Cg}}]),n}(dl);function bl(t){return t.my()?t:t.yy()?kl.dg:kl.lg}function Tl(t,n){return t.my()||n.my()?kl.vg:t.ky()&&n.ky()?t.yy()===n.yy()?t:kl.vg:t.ky()?t:n}kl.Sg=void 0,kl.Rg=void 0,kl.Ig=void 0,kl.Cg=void 0,function(t){t[t.mg=0]="mg",t[t.kg=1]="kg",t[t.bg=2]="bg"}(ml||(ml={}));var El,Sl=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?kl:gl;function Rl(t){return{goLive:function(){return t.Ag()},get isLive(){return t.Dg},get currentServerLiveTime(){return t.Ng},get currentLatency(){return t.Og},get latency(){return t.xg},set latency(n){if(!function(t){if(!ct(t))return!1;var n=t,i=ut(n.target)&&"number"==typeof n.target&&ut(n.windowEnd)&&"number"==typeof n.windowEnd&&ut(n.windowStart)&&"number"==typeof n.windowStart&&ut(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.xg=n},get manifest(){return t.Pg},get metrics(){return t.Lg},addEventListener:function(n,i){t.Hs(Cl(n),i)},removeEventListener:function(n,i){t.$s(Cl(n),i)}}}!function(t){t[t.ew=0]="ew",t[t.Fg=1]="Fg",t[t.Mg=2]="Mg"}(El||(El={}));var Il=["analytic","golive","nogolive","bufferedchange"];function Cl(t){var n=$v(t,zv);return(ft(n)?[n]:n).filter(function(t){return n=t,-1!==Il.indexOf(n);var n})}var Al,Dl=function(t){function n(){var n;return(n=t.call(this)||this).Ml=void 0,n.il=void 0,n.Bg=cl(),n.Ml=void 0,n}$(n,t);var i=n.prototype;return i.Vl=function(t){t.Hs(Il,this.Vs)},i.ql=function(t){t.$s(Il,this.Vs)},i.Ag=function(){var t;null==(t=this.Ml)||t.Ag()},i.sr=function(){this.zs(),this.Ml&&this.ql(this.Ml),this.Ml=void 0},W(n,[{key:"Hl",get:function(){return this.Ml},set:function(t){var n=this.Ml;t!==n&&(n&&this.ql(n),t&&this.Vl(t),this.Ml=t,this.Ml&&(this.Ml.xg=this.Bg))}},{key:"ul",get:function(){return this.il||(this.il=Rl(this)),this.il}},{key:"Ng",get:function(){var t;return null==(t=this.Ml)?void 0:t.Ng}},{key:"Og",get:function(){var t;return null==(t=this.Ml)?void 0:t.Og}},{key:"Dg",get:function(){return!!this.Ml&&this.Ml.Dg}},{key:"xg",get:function(){return this.Bg},set:function(t){this.Ml&&(this.Ml.xg=t),this.Bg=t}},{key:"Pg",get:function(){var t;return null==(t=this.Ml)?void 0:t.Pg}},{key:"Lg",get:function(){var t;return null==(t=this.Ml)?void 0:t.Lg}}]),n}($e),Nl=function(t){function n(n){var i;return(i=t.call(this)||this).Ml=void 0,i.Ug=[],i.Vg=!1,i.qg=new nd,i.Hg=new nd,i.jg=new sd,i.Wg=new Dl,i.zg=!1,i.$g(n),n.Ws(i.Vs),i.Ml=n,i.qg.Hl=n.Xg,i.Hg.Hl=n.Gg,i.jg.Hl=n.Yg,i.Wg.Hl=n.Kg,i}$(n,t);var i=n.prototype;return i.tr=function(){this.Ml.tr()},i.nr=function(){this.Ml.nr()},i.Jg=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qe(this.Ug.map(function(t){return t.Jg()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qg=function(){return this.Ml.Qg()},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),t.next=3,this.Ml.Zg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.t_=function(){return this.Hl.t_()},i.n_=function(){this.Hl.n_()},i.i_=function(){this.Hl.i_()},i.hr=function(){if(!this.Vg){for(var t=0,n=this.Ug;t<n.length;t++){n[t].hr()}this.Vg=!0}},i.r_=function(t){this.Ml.r_(t)},i.e_=function(){this.Ml.e_()},i.u_=function(){this.Ml.u_()},i.o_=function(){this.Ml.o_()},i.s_=function(){return this.Ml.s_()},i.c_=function(){return this.Ml.c_()},i.a_=function(){for(var t=[],n=0,i=this.Ug;n<i.length;n++){var r=i[n];t.push.apply(t,r.a_())}return t},i.f_=function(t){for(var n=!1,i=0,r=this.Ug;i<r.length;i++){n=r[i].f_(t)||n}return n},i.qs=function(n){this.f_(n)||t.prototype.qs.call(this,n)},i.$g=function(t){this.Ug.push(t)},i.h_=function(t){Se(this.Ug,t)},i.v_=function(t){if(t!==this.Ml){var n=this.Ml;n.e_(),n.Ys(this.Vs);var i=nl(this),r=this.d_,e=this.c_();this.Ml=t,this.qg.Hl=t.Xg,this.Hg.Hl=t.Gg,this.jg.Hl=t.Yg,this.Wg.Hl=t.Kg,il(this,i,this);var u=this.d_;u!==r&&this.qs(new hd(u)),this.c_()!==e&&this.qs(new fd),t.Ws(this.Vs),t.r_(n)}},i.l_=function(){},i.sr=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zs(),this.Ml.e_(),n=0,i=this.Ug;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.qg.sr(),this.Hg.sr(),this.jg.sr(),this.Wg.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qe(this.Ug.map(function(t){return t.Pl()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Xg",get:function(){return this.qg}},{key:"Yg",get:function(){return this.jg}},{key:"Gg",get:function(){return this.Hg}},{key:"w_",get:function(){return this.Ml.w_}},{key:"y_",get:function(){return this.Ml.y_},set:function(t){this.Ml.y_=t}},{key:"d_",get:function(){return this.Ml.d_}},{key:"qw",get:function(){return this.Ml.qw},set:function(t){this.Ml.qw=t}},{key:"Hw",get:function(){return this.Ml.Hw}},{key:"g_",get:function(){return this.Ml.g_}},{key:"jw",get:function(){return this.Ml.jw}},{key:"ic",get:function(){return this.Ml.ic}},{key:"Ww",get:function(){return this.Ml.Ww}},{key:"Kg",get:function(){return this.Wg}},{key:"__",get:function(){return this.Ml.__}},{key:"Lg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.p_,i+=c.m_,r+=c.k_,e+=c.b_,u+=c.T_,o.amountOfBufferedAudioSegments+=c.E_.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.E_.amountOfBufferedVideoSegments}return{p_:n,m_:i,k_:r,b_:e,T_:u,E_:o}}(this.Ug.map(function(t){return t.Lg}))}},{key:"zw",get:function(){return this.Ml.zw},set:function(t){this.Ml.zw=t}},{key:"S_",get:function(){return this.Ml.S_}},{key:"$w",get:function(){return this.Ml.$w}},{key:"Xw",get:function(){return this.Ml.Xw},set:function(t){this.Ml.Xw=t}},{key:"R_",get:function(){return this.Ml.R_}},{key:"I_",get:function(){return this.Ml.I_},set:function(t){this.Ml.I_=t}},{key:"uw",get:function(){return this.Ml.uw}},{key:"C_",get:function(){return this.Ml.C_}},{key:"Gw",get:function(){return this.Ml.Gw}},{key:"Yw",get:function(){return this.Ml.Yw}},{key:"Kw",get:function(){return this.Ml.Kw}},{key:"Jw",get:function(){return this.Ml.Jw},set:function(t){this.Ml.Jw=t}},{key:"Hl",get:function(){return this.Ml},set:function(t){this.v_(t)}}]),n}(ad),Ol=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return $(n,t),W(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(xo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Al||(Al={}));var xl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(un(u),u.constructor),u}return $(n,t),W(n,[{key:"name",get:function(){return"MediaError"}}]),n}(on);function Pl(t){Fv(t,"MEDIA_ERR_ABORTED",Al.ABORTED),Fv(t,"MEDIA_ERR_NETWORK",Al.NETWORK),Fv(t,"MEDIA_ERR_DECODE",Al.DECODE),Fv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Al.SRC_NOT_SUPPORTED),Fv(t,"MEDIA_ERR_ENCRYPTED",Al.ENCRYPTED)}function Ll(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new xl(Al.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new xl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Al.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Al.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Al.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Al.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Al.NETWORK;if(i===n.ErrorCategory.SOURCE)return Al.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Al.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Al.ENCRYPTED;if(i===n.ErrorCategory.AD)return Al.ADVERTISEMENT_ERROR;return Al.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}Pl(xl),Pl(xl.prototype);var Fl,Ml=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Nl=function(n){return t.prototype.Nl.call(this,n)},i.ol=function(){return Qv(this)},n}(Nv);!function(t){t.Nv="audio",t.Ov="video",t.eu="text",t.xv="image",t.pv="unknown"}(Fl||(Fl={}));var Bl=function(){function t(){this.A_=[],this.il=void 0}var n=t.prototype;return n.py=function(t){this.A_.push(t),this.il&&this.il.push(t.ul)},n.Dl=function(t){return this.A_[t]},n.D_=function(t){return ot(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ie(t,n[i]))return!1;return!0}(this.A_,t):Ie(this.A_,t)},W(t,[{key:"Ll",get:function(){return this.A_}},{key:"Fl",get:function(){return this.A_.length}},{key:"ul",get:function(){var t,n;return this.il||(this.il=((n=(t=this).Ll.map(function(t){return t.ul})).item=function(n){var i=0|n,r=t.Dl(i);return r&&r.ul||void 0},n)),this.il}}]),t}(),Ul=function(t){function n(n){var i;return(i=t.call(this,Ev.El)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new Vl(this.sl.ul)},n}(Sv),Vl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return $(n,t),n}(Rv),ql=0;function Hl(){return ql++}var jl=0;var Wl=0;var zl=0;var $l=function(t){function n(n){var i;return(i=t.call(this)||this).as=Fl.Nv,i.N_=void 0,i.O_=void 0,i.x_=void 0,i.P_=void 0,i.L_=!1,i.A_=void 0,i.il=void 0,i.N_=n,i.P_=Hl(),i.O_=zl+++"",i.x_=n.label,i.A_=new Bl,i.F_(),i}$(n,t);var i=n.prototype;return i.M_=function(t){this.zl=t},i.F_=function(){this.zl=this.B_},W(n,[{key:"Wl",get:function(){}},{key:"zl",get:function(){return this.L_},set:function(t){this.L_!==t&&(this.L_=t,this.B_=t,this.qs(new Ov(this)))}},{key:"B_",get:function(){return!!this.N_.enabled},set:function(t){this.N_.enabled=t}},{key:"ul",get:function(){return this.il||(this.il=Kv(this)),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"Gl",get:function(){return this.N_.kind}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.N_.language}},{key:"nw",get:function(){return this.zl?"enabled":"disabled"}},{key:"U_",get:function(){return this.N_}},{key:"Jl",get:function(){return this.A_}},{key:"Ql",get:function(){},set:function(t){}}]),n}($e),Xl=0;var Gl,Yl,Kl,Jl,Ql,Zl=function(t){function n(n){var i;return(i=t.call(this)||this).as=Fl.Ov,i.N_=void 0,i.O_=void 0,i.P_=void 0,i.L_=!1,i.A_=void 0,i.x_=void 0,i.il=void 0,i.N_=n,i.P_=Hl(),i.O_=Xl+++"",i.A_=new Bl,i.x_=n.label,i.F_(),i}$(n,t);var i=n.prototype;return i.F_=function(){this.zl=this.B_},i.M_=function(t){this.zl=t},W(n,[{key:"Wl",get:function(){}},{key:"zl",get:function(){return this.L_},set:function(t){this.L_!==t&&(this.L_=t,this.B_=t,this.qs(new Ov(this)))}},{key:"B_",get:function(){return!!this.N_.selected},set:function(t){this.N_.selected=t}},{key:"ul",get:function(){return this.il||(this.il=Kv(this)),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"Gl",get:function(){return"main"}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.N_.language}},{key:"nw",get:function(){return this.zl?"enabled":"disabled"}},{key:"U_",get:function(){return this.N_}},{key:"Jl",get:function(){return this.A_}},{key:"Ql",get:function(){},set:function(t){}}]),n}($e),tw=function(t){function n(n){var i;return(i=t.call(this,Zo.Ga)||this).__=n,i}return $(n,t),n}(Ge);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Gl||(Gl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Yl||(Yl={})),function(t){t.V_="cue",t.q_="region",t.H_="stylesheet"}(Kl||(Kl={})),function(t){t.j_="W_",t.z_="X_",t.El="Hc"}(Jl||(Jl={})),function(t){t.j_="enter",t.z_="exit",t.El="update"}(Ql||(Ql={}));var nw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).G_=i,r}return $(n,t),n}(Sv),iw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return $(n,t),n}(Rv);function rw(t){var n,i=[Jl.j_,Jl.z_,Jl.El],r={get track(){return t.sl.ul},get id(){return t.$l},get uid(){return t.Xl},get startTime(){return t.Y_},get endTime(){return t.K_},get content(){return t.J_},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new Xe(r),t.Hs(i,function(t){return n.qs(t.ul)}),r}function ew(){}var uw=.02;var ow=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).P_=void 0,o.O_=void 0,o.Q_=void 0,o.Z_=void 0,o.il=void 0,o.tp=void 0,o.np=!1,o.ip=void 0,o.rp=void 0,o.ep="",o.op=-1,o.P_=Wl++,o.Q_=n,o.Z_=i,o.ip=r,o.rp=Boolean(e),o.O_=null!=u?u:"",o}$(n,t);var i=n.prototype;return i.ol=function(){return rw(this)},i.vy=function(t){return this===t||Vv(this,t)&&(i=t,Qt((n=this).Y_,i.Y_,uw)&&Qt(n.K_,i.K_,uw)&&n.$l===i.$l);var n,i},i.sr=function(){this.zs()},W(n,[{key:"Y_",get:function(){return this.Q_},set:function(t){this.Q_=t}},{key:"K_",get:function(){return this.Z_},set:function(t){this.Z_=t}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"sp",get:function(){return this.np},set:function(t){this.np=t}},{key:"sl",get:function(){return this.tp},set:function(t){this.tp=t}},{key:"J_",get:function(){return this.ip},set:function(t){this.ip=t}},{key:"cp",get:function(){return this.ep},set:function(t){this.ep=t}},{key:"ap",get:function(){return this.rp},set:function(t){this.rp=t}}]),n}($e);var sw=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).fp="auto",o.hp="start",o.vp="auto",o.dp="auto",o.lp=void 0,o.wp=!0,o.lc=100,o.yp="center",o.gp="",o}return $(n,t),n.prototype.vy=function(n){return this===n||Vv(this,n)&&t.prototype.vy.call(this,n)&&(r=n,(i=this).J_===r.J_&&i.fp===r.fp&&i.hp===r.hp&&i.vp===r.vp&&i.dp===r.dp&&i.lp===r.lp&&i.wp===r.wp&&i.lc===r.lc&&i.yp===r.yp&&i.gp===r.gp);var i,r},W(n,[{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get align(){return t.yp},get line(){return t.fp},get lineAlign(){return t.hp},get position(){return t.vp},get positionAlign(){return t.dp},get region(){return t.lp?t.lp.ul:null},get size(){return t.lc},get snapToLines(){return t.wp},get text(){return t.J_},get vertical(){return t.gp}})),this.il}},{key:"as",get:function(){return Kl.V_}}]),n}(ow);var cw,aw,fw,hw,vw=function(){function t(t,n,i,r,e,u,o,s){this.il=void 0,this.$l=t,this.do=n,this._p=i,this.pp=r,this.mp=e,this.kp=u,this.bp=o,this.Tp=s}return W(t,[{key:"ul",get:function(){var t;return this.il||(this.il=(t=this,{get id(){return t.$l},get identifier(){return t.$l},get lines(){return t._p},get regionAnchorX(){return t.pp},get regionAnchorY(){return t.mp},get scrollValue(){return t.Tp},get viewportAnchorX(){return t.kp},get viewportAnchorY(){return t.bp},get width(){return t.do}})),this.il}},{key:"as",get:function(){return Kl.q_}}]),t}(),dw=9e4,lw=w.pow(2,33),ww=(Sl.Ry(lw,dw).Jy(2),{Ep:0,Sp:1/0,Rp:0}),yw=6,gw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],_w=[" ","\t","\n","\f","\r"],pw=/^\d*$/,mw=/.*[0-9]+.*/,kw=/^[\d.-]+$/,bw=/(^\.|\.$)/,Tw=/(\D\.|\.\D)/;function Ew(t,n){void 0===n&&(n=ww);var i={ow:[],Ip:[],Cp:[]},r=Sw(t),e=new io;if(Lw(r),Rw(r,function(t){return"\n"!==t},e),e.pc>=r.length)return i;(e.yc(1),"\n"!==r.charAt(e.pc))?Dw(Iw(r,e,!1,!0,i,n),i):e.yc(1);for(Rw(r,function(t){return"\n"===t},e);e.pc<r.length;){Dw(Iw(r,e,!1,!1,i,n),i),Rw(r,function(t){return"\n"===t},e)}return i}function Sw(t){var n=he(t,"\0"," "),i=he(n,"\r\n","\n");return he(i,"\r","\n")}function Rw(t,n,i){for(var r=i.pc;i.pc<t.length&&n(t.charAt(i.pc));)i.yc(1);return t.substring(r,i.pc)}function Iw(t,n,i,r,e,u){for(var o,s=0,c=n.pc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Rw(t,function(t){return"\n"!==t},n),s++,n.pc>=t.length?f=!0:n.yc(1),ve(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.gc(c);break}h=!0,c=n.pc,v=new sw(0,0,"",!1,a);try{Nw(o,e.Ip,v,u),a=""}catch(t){N.bo(t),v=null}}else{if(""===o)break;r&&de(o,"X-TIMESTAMP-MAP")&&(e.Ap=Cw(o)),r||2!==s||i||(we("STYLE",a.replace(/ /g,""))?(d={as:Kl.H_},a=""):we("REGION",a.replace(/ /g,""))&&(l=new vw("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.pc}if(v)return v.J_=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&ve(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":$w(s,n);break;case"WIDTH":Yw(s,n);break;case"LINES":Gw(s,n);break;case"REGIONANCHOR":var c=zw(s);c&&(n.pp=c[0],n.mp=c[1]);break;case"VIEWPORTANCHOR":var a=zw(s);a&&(n.kp=a[0],n.bp=a[1]);break;case"SCROLL":Xw(s,n)}}}}(a,l),l;return null}function Cw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Aw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Aw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Dp:(i=Number(e.split(/:(.*)/)[1].trim())||0,Sl.Ry(i,dw)),Np:Sl.hg(null!=(n=Pw(u.split(/:(.*)/)[1].trim(),new io))?n:0)}}function Aw(t,n){return de(t,n)}function Dw(t,n){t&&function(t){return t.as===Kl.V_}(t)?n.ow.push(t):t&&function(t){return t.as===Kl.q_}(t)?n.Ip.push(t):t&&function(t){return t.as===Kl.H_}(t)&&n.Cp.push(t)}function Nw(t,n,i,r){var e=new io;if(Fw(t,e),i.Y_=Ow(Pw(t,e),r),Fw(t,e),"--\x3e"!==t.substring(e.pc,e.pc+3))throw v("Something went wrong with parsing a WebVTT Cue");e.yc(3),Fw(t,e),i.K_=Ow(Pw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&ve(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":qw(c,n,i);break;case"VERTICAL":jw(c,n);break;case"D":Ww(c,n);break;case"LINE":case"L":Uw(c,n);break;case"POSITION":case"T":Vw(c,n);break;case"SIZE":case"S":Hw(c,n);break;case"ALIGN":case"A":Bw(c,n)}}}}(t.substring(e.pc,t.length),i,n)}function Ow(t,n){return t+n.Ep}function xw(t){return/^[0-9]$/.test(t)}function Pw(t,n){var i,r,e,u=he(t,",","."),o=!1;if(n.pc>=u.length||!xw(u.charAt(n.pc)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var s=Rw(u,xw,n),c=y(s,10);if((s.length>2||c>59)&&(o=!0),n.pc>=u.length||":"!==u.charAt(n.pc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var a=Rw(u,xw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var f=y(a,10);if(o||n.pc<u.length&&":"===u.charAt(n.pc)){if(n.pc>=u.length||":"!==u.charAt(n.pc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var h=Rw(u,xw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=y(h,10)}else i=0,r=c,e=f;if(n.pc>=u.length||"."!==u.charAt(n.pc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.yc(1);var d=Rw(u,xw,n),l=y(d,10);if(f>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Lw(t){if(t.length<yw)return!1;for(var n=0;n<gw.length;n++){if(de(t,gw[n]))return!0}return!1}function Fw(t,n){for(;n.pc<t.length&&(i=t.charAt(n.pc),Ie(_w,i));)n.yc(1);var i}function Mw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function Bw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.yp=i;break;case"middle":n.yp="center"}}function Uw(t,n){var i=t,r="";if(ve(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),mw.test(i)){var e;if(le(i,"%")){var u=Mw(i);if(null===u)return;e=u}else{if(!kw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Tw.test(t)||bw.test(t))return;if(e=g(t),_(e))return}switch(n.fp=e,n.wp=le(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.hp=r;break;case"middle":n.hp="center"}}}function Vw(t,n){var i=t,r="";ve(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Mw(i);if(null!==e)switch(n.vp=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.dp=r;break;case"start":n.dp="line-left";break;case"middle":n.dp="center";break;case"end":n.dp="line-right"}}function qw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].$l===t)return void(n.lp=i[r])}function Hw(t,n){var i=Mw(t);null!==i&&(n.lc=i)}function jw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.gp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.gp="lr";break;default:n.gp=""}}function Ww(t,n){"VERTICAL"===t.toUpperCase()?n.gp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.gp="lr")}function zw(t){if(t.indexOf(",")>=0){var n=Mw(t.substring(0,t.indexOf(","))),i=Mw(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function $w(t,n){n.$l=t}function Xw(t,n){"up"===t.toLowerCase()&&(n.Tp="up")}function Gw(t,n){pw.test(t)&&(n._p=y(t))}function Yw(t,n){var i=Mw(t);null!==i&&(n.do=i)}!function(t){t.Op="moov",t.xp="mvhd",t.Pp="trak",t.Lp="tkhd",t.Fp="mdia",t.Mp="mdhd",t.Bp="hdlr",t.Up="minf",t.Vp="stbl",t.qp="stsd",t.Hp="stsc",t.jp="mvex",t.Wp="trex",t.zp="avc1",t.$p="avcC",t.Xp="hev1",t.Gp="hvc1",t.Yp="hvcC",t.Kp="pasp",t.Jp="mp4a",t.Qp="esds",t.Zp="wvtt",t.tm="vttC",t.nm="vlab",t.im="enca",t.rm="encv",t.um="moof",t.om="mfhd",t.sm="traf",t.cm="tfhd",t.am="trun",t.fm="tfdt",t.hm="mdat",t.vm="pssh",t.dm="emsg",t.lm="sidx",t.wm="styp",t.ym="ftyp",t.gm="sinf",t._m="frma"}(cw||(cw={})),function(t){t.Ov="vide",t.Nv="soun",t.pm="subt",t.mm="hint",t.km="meta",t.bm="auxv"}(aw||(aw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(fw||(fw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(hw||(hw={}));var Kw=function(){function t(t,n){this.xu=void 0,this.Tm=void 0,this.xu=t,this.Tm=n}var n=t.prototype;return n.Em=function(){return Ru(this.xu,this.Tm)},n.Sm=function(){return Du(this.xu,this.Tm)},n.Rm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.pc,i);return n.yc(2),r}(this.xu,this.Tm)},n.Im=function(){return Ou(this.xu,this.Tm)},n.Cm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.pc,i);return n.yc(4),r}(this.xu,this.Tm)},n.Am=function(){return Pu(this.xu,this.Tm)},n.Dm=function(t){return Cu(this.xu,this.Tm,t)},n.Nm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Ou(t,n));return r}(this.xu,this.Tm,t)},n.Om=function(t){return Mu(this.xu,this.Tm,t)},n.xm=function(){return $u(this.xu,this.Tm)},n.Pm=function(t){this.Tm.yc(t)},n._c=function(){return new t(this.xu,this.Tm._c())},t}(),Jw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lm=n,r.Fm=i,r}return $(n,t),W(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),Qw=function(){function t(){}return t.Mm=function(n){var i=n.xu,r=n.Tm,e=t.Bm(i,r,!1);if(!e.Um)throw new Jw(r.pc,e.Eu);return e.Eu},t.Bm=function(n,i,r){for(var e=[];i.pc<n.byteLength;){var u=t.Vm(n,i,r);if(!u.Um)return{Um:!1,Eu:e};e.push(u.qm)}return{Um:!0,Eu:e}},t.Hm=function(n,i){var r=t.Vm(n,i,!1);if(!r.Um)throw new Jw(i.pc);return r.qm},t.jm=function(n,i){for(var r=n.xu,e=n.Tm;e.pc<r.byteLength;){var u=t.Vm(r,e,!1);if(!u.Um)return;if(u.qm.as===i)return u.qm}},t.Vm=function(n,i,r){var e=i.pc,u=t.Wm(n,i);if(!u.Um)return u;var o=u.zm,s=o.lc;if(0===s){if(r)return i.gc(e),{Um:!1,$m:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.gc(e),{Um:!1,$m:a}}var f,h,v,d={as:o.as,pc:e,xu:new Kw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new io(o.Xm))};return i.gc(c),{Um:!0,qm:d}},t.Wm=function(t,n){var i=n.pc;if(!Au(t,n,8))return{Um:!1,$m:n.pc+8};var r=Ou(t,n),e=Mu(t,n,4);if(1===r){if(!Au(t,n,8)){var u=n.pc+8;return n.gc(i),{Um:!1,$m:u}}r=Pu(t,n).toNumber()}if("uuid"===e){if(!Au(t,n,16)){var o=n.pc+16;return n.gc(i),{Um:!1,$m:o}}e=Mu(t,n,16)}return{Um:!0,zm:{as:e,lc:r,Xm:n.pc-i}}},t.Gm=function(t,n,i){var r=t.xu,e=t.Tm,u=Yu(Ju(r),e.pc,r.byteLength);return i&&(u=no(u)),e.yc(u.byteLength),{as:n,xu:u}},t.Ym=function(n,i,r){var e=iy(n.Im());return{as:i,Km:e.version,Jm:e.flags,xu:t.Gm(n,i,r).xu}},t}();function Zw(t,n){var i=ty(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function ty(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.as===n)return r.xu}}function ny(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.as===n&&i.push(e.xu)}return i}function iy(t){return{version:t>>24,flags:new Su(16777215&t)}}var ry=function(){function t(){}return t.Qm=function(n){for(var i=[],r=Qw.Mm(new Kw(n,new io)),e=0;e<r.length;e++){var u=r[e],o=t.Zm(u);o&&i.push(o)}return i},t.tk=function(t){return Qw.Bm(t,new io,!1).Eu.some(function(t){return t.as===cw.um||t.as===cw.wm})},t.nk=function(n){return ny(Qw.Mm(new Kw(n,new io)),cw.vm).map(t.ik)},t.rk=function(n){return ny(Qw.Mm(n.xu),cw.vm).map(t.ik)},t.Zm=function(n){switch(n.as){case cw.Op:return t.ek(n.xu);case cw.um:return t.uk(n.xu,n.pc);case cw.hm:return t.sk(n.xu);case cw.lm:return t.ck(n.xu);case cw.dm:return t.ak(n.xu)}},t.ek=function(n){var i=Qw.Mm(n),r=Zw(i,cw.xp),e=ny(i,cw.Pp),u=ty(i,cw.jp),o=t.fk(r),s=e.map(t.hk),c=u?t.vk(u):void 0;return{as:cw.Op,zm:o,dk:s,lk:c}},t.fk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im(),s=1===i?t.Am():t.Im(),c=t.Im(),a=t.Sm()>>8;t.Pm(2),t.Pm(8);var f=t.Nm(9);t.Pm(24);var h=t.Im();return{as:cw.xp,Km:i,Jm:r,wk:e,yk:u,tg:o,Hw:s,gk:c,Jw:a,_k:f,pk:h}},t.hk=function(n){var i=Qw.Mm(n),r=Zw(i,cw.Lp),e=Zw(i,cw.Fp),u=t.mk(r),o=t.kk(e);return{as:cw.Pp,zm:u,bk:o}},t.mk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im();t.Pm(4);var s=1===i?t.Am():t.Im();t.Pm(8);var c=t.Rm(),a=t.Rm(),f=t.Rm()/w.pow(2,8);t.Pm(2);var h=t.Nm(9),v=t.Im()/w.pow(2,16),d=t.Im()/w.pow(2,16);return{as:cw.Lp,Tk:r.kc(1),Ek:r.kc(2),Sk:r.kc(4),wk:e,yk:u,Rk:o,Hw:s,Ik:c,Ck:a,Jw:f,_k:h,do:v,Ak:d}},t.kk=function(n){var i=Qw.Mm(n),r=Zw(i,cw.Mp),e=Zw(i,cw.Bp),u=Zw(i,cw.Up),o=t.Dk(r),s=t.Nk(e),c=t.Ok(u);return{as:cw.Fp,zm:o,xk:s,Pk:c}},t.Dk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=1===i?t.Am():t.Im(),u=1===i?t.Am():t.Im(),o=t.Im(),s=1===i?t.Am():t.Im();t.Sm();return t.Pm(2),{as:cw.Mp,Km:i,Jm:r,wk:e,yk:u,tg:o,Hw:s}},t.Nk=function(t){var n=iy(t.Im()),i=n.version,r=n.flags;t.Pm(4);var e=t.Om(4);t.Pm(12);var u=t.xm();return{as:cw.Bp,Km:i,Jm:r,Lk:e,vu:u}},t.Ok=function(n){var i=Zw(Qw.Mm(n),cw.Vp),r=t.Fk(i);return{as:cw.Up,Mk:r}},t.Fk=function(n){var i=Zw(Qw.Mm(n),cw.qp),r=t.Bk(i);return{as:cw.Vp,Uk:r}},t.Bk=function(n){for(var i=iy(n.Im()),r=i.version,e=i.flags,u=(n.Im(),[]),o=Qw.Mm(n),s=0;s<o.length;s++){var c=o[s],a=t.Vk(c.xu,c.as);a&&u.push(a)}return{as:cw.qp,Km:r,Jm:e,qk:u}},t.Vk=function(n,i){var r=t.Hk(n,i);return r||((r=t.jk(n,i))||(i===cw.Zp?t.Wk(n):void 0))},t.Hk=function(n,i){return i===cw.Jp?t.zk(n):i===cw.im?t.$k(n):void 0},t.jk=function(n,i){return i===cw.zp?t.Xk(n):i===cw.Xp||i===cw.Gp?t.Gk(n,i):i===cw.rm?t.Yk(n):void 0},t.Kk=function(t,n){return t.Pm(6),{as:n,Jk:t.Sm()}},t.Qk=function(n,i){var r=t.Kk(n,i);n.Pm(8);var e=n.Sm(),u=n.Sm();return n.Pm(2),n.Pm(2),Hr({},r,{Zk:e,nb:u,ib:n.Im()>>>16})},t.rb=function(n,i){var r=t.Kk(n,i);n.Pm(2),n.Pm(2),n.Pm(12);var e=n.Sm(),u=n.Sm(),o=n.Im(),s=n.Im();n.Pm(4);var c=n.Sm();n.Pm(32);var a=n.Sm();return n.Pm(2),Hr({},r,{do:e,Ak:u,eb:o,ub:s,ob:c,sb:a})},t.zk=function(n){var i=t.Qk(n,cw.Jp),r=Zw(Qw.Mm(n),cw.Qp);return Hr({},i,{cb:t.ab(r)})},t.Wk=function(n){var i=t.Kk(n,cw.Zp),r=Qw.Mm(n),e=Zw(r,cw.tm),u=t.fb(e),o=ty(r,cw.nm);return Hr({},i,{hb:u,vb:o?t.lb(o):o})},t.fb=function(t){return{as:cw.tm,Kc:t.xm()}},t.lb=function(t){return{as:cw.nm,Yl:t.xm()}},t.ab=function(t){return Qw.Ym(t,cw.Qp,!0)},t.Xk=function(n){var i=t.rb(n,cw.zp),r=Qw.Mm(n),e=Zw(r,cw.$p),u=ty(r,cw.Kp);return Hr({},i,{wb:t.yb(e),gb:u?t._b(u):void 0})},t.Gk=function(n,i){var r=t.rb(n,i),e=Zw(Qw.Mm(n),cw.Yp);return Hr({},r,{pb:t.mb(e)})},t.Yk=function(n){var i=n._c(),r=t.rb(n,cw.rm),e=Zw(Qw.Mm(n),cw.gm),u=t.kb(e);return Hr({},r,{bb:t.jk(i,u.Eb.Tb),Sb:u})},t.$k=function(n){var i=n._c(),r=t.Qk(n,cw.im),e=Zw(Qw.Mm(n),cw.gm),u=t.kb(e);return Hr({},r,{bb:t.Hk(i,u.Eb.Tb),Sb:u})},t.kb=function(n){var i=Zw(Qw.Mm(n),cw._m),r=t.Rb(i);return{as:cw.gm,Eb:r}},t.Rb=function(t){var n=t.Om(4);return{as:cw._m,Tb:n}},t.yb=function(t){return Qw.Gm(t,cw.$p,!0)},t.mb=function(t){return Qw.Gm(t,cw.Yp,!0)},t._b=function(t){var n=t.Im(),i=t.Im();return{as:cw.Kp,Ib:n,Cb:i}},t.vk=function(n){var i=ny(Qw.Mm(n),cw.Wp).map(t.Ab);return{as:cw.jp,dk:i}},t.Ab=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im(),u=t.Im(),o=t.Im(),s=t.Im(),c=t.Im();return{as:cw.Wp,Km:i,Jm:r,Rk:e,Db:u,Nb:o,Ob:s,xb:c}},t.uk=function(n,i){var r=Qw.Mm(n),e=Zw(r,cw.om),u=ny(r,cw.sm),o=t.Pb(e),s=u.map(t.Lb);return{as:cw.um,Fb:i,zm:o,dk:s}},t.Pb=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im();return{as:cw.om,Km:i,Jm:r,Mb:e}},t.Lb=function(n){var i=Qw.Mm(n),r=Zw(i,cw.cm),e=ny(i,cw.am),u=ty(i,cw.fm),o=t.Bb(r),s=e.map(function(n){return t.Ub(n,o)}),c=u?t.Vb(u):void 0;return{as:cw.sm,zm:o,qb:s,Hb:c}},t.Bb=function(t){var n=iy(t.Im()),i=n.version,r=n.flags,e=t.Im(),u=r.kc(fw.BASE_DATA_OFFSET_PRESENT)?t.Am():void 0,o=r.kc(fw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Im():void 0,s=r.kc(fw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Im():void 0,c=r.kc(fw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Im():void 0,a=r.kc(fw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Im():void 0;return{as:cw.cm,Km:i,Jm:r,Rk:e,jb:u,Wb:o,Nb:s,Ob:c,xb:a}},t.Ub=function(n,i){for(var r=iy(n.Im()),e=r.version,u=r.flags,o=n.Im(),s=u.kc(hw.DATA_OFFSET_PRESENT)?n.Cm():void 0,c=u.kc(hw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Im():void 0,a=[],f=0;f<o;f++){var h=t.zb(n,u,e,i);0===f&&void 0!==c&&(h.Jm=c),a.push(h)}return{as:cw.am,Km:e,Jm:u,$b:o,Fb:s,Xb:c,Gb:a}},t.zb=function(t,n,i,r){return{Hw:n.kc(hw.SAMPLE_DURATION_PRESENT)?t.Im():r.Nb,lc:n.kc(hw.SAMPLE_SIZE_PRESENT)?t.Im():r.Ob,Jm:n.kc(hw.SAMPLE_FLAGS_PRESENT)?t.Im():r.xb,Yb:n.kc(hw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Im():t.Cm():void 0}},t.ak=function(t){var n=t.xu,i=t.Tm,r=iy(Ou(n,i)),e=r.version,u=r.flags;if(1===e){var o=Ou(n,i),s=Pu(n,i),c=Ou(n,i),a=Ou(n,i),f=Fu(n,i),h=Fu(n,i),v=to(Ju(n),i.pc,n.byteLength);return i.yc(v.byteLength),{as:cw.dm,Km:e,Jm:u,Kb:f,wu:h,tg:o,Jb:s,Qb:c,$l:a,Zb:v}}var d=Fu(n,i),l=Fu(n,i),w=Ou(n,i),y=Ou(n,i),g=Ou(n,i),_=Ou(n,i),p=to(Ju(n),i.pc,n.byteLength);return i.yc(p.byteLength),{as:cw.dm,Jm:u,Km:e,Kb:d,wu:l,tg:w,tT:y,Qb:g,$l:_,Zb:p}},t.sk=function(t){return Qw.Gm(t,cw.hm,!1)},t.ik=function(n){var i=n.xu,r=n.Tm,e=no(Ju(i)).buffer,u=iy(Ou(i,r)),o=u.version,s=u.flags,c=t.nT(i,r),a=[];if(o>0)for(var f=Ou(i,r),h=0;h<f;h++){var v=Cu(i,r,16);a.push(v)}var d=Ou(i,r),l=new p(e,r.pc,d);return r.yc(i.byteLength),{as:cw.vm,Km:o,Jm:s,iT:c,rT:a,eT:d,xu:l,uT:e}},t.nT=function(t,n){for(var i="",r=0;r<4;r++){var e=Ru(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Ru(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Ru(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Ru(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Ru(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.ck=function(t){var n,i,r=t.xu,e=t.Tm,u=iy(Ou(r,e)),o=u.version,s=u.flags,c=Ou(r,e),a=Ou(r,e);0===o?(n=Yt.fromBits(Ou(r,e),0,!0),i=Yt.fromBits(Ou(r,e),0,!0)):(n=Pu(r,e),i=Pu(r,e)),e.yc(2);for(var f=Du(r,e),h=[],v=0;v<f;v+=1){var d=Ou(r,e),l=d>>31&1,w=2147483647&d,y=Ou(r,e),g=Ou(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({oT:l,sT:w,Hw:y,cT:_,aT:p,fT:m})}return{as:cw.lm,Km:o,Jm:s,hT:c,tg:a,vT:n,dT:i,lT:f,wT:h}},t.Vb=function(t){var n,i=t.xu,r=t.Tm,e=iy(Ou(i,r)),u=e.version,o=e.flags;return n=0===u?Yt.fromBits(Ou(i,r),0,!0):Pu(i,r),{as:cw.fm,Km:u,Jm:o,Hb:n}},t}();function ey(t){return t&&"Tu"in t?t.Tu:t}var uy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).yT=void 0,c.gT=void 0,c._T=void 0,c.yT=u,c.gT=o,c._T=s||void 0,c}return $(n,t),n.prototype.vy=function(n){return this===n||!!Vv(this,n)&&(!!t.prototype.vy.call(this,n)&&(!!Uv(this.pT,n.pT)&&(!!Uv(this.Ip,n.Ip)&&(this.mT&&n.mT?!!this.mT.au(n.mT)&&(this.J_&&n.J_?this.J_.au(n.J_):this.J_===n.J_):this.mT===n.mT))))},W(n,[{key:"pT",get:function(){return this.yT}},{key:"Ip",get:function(){return this.gT}},{key:"mT",get:function(){return this._T}},{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get styles(){return t.pT},get regions(){return t.Ip},get metadata(){return ey(t.mT)},get content(){return ey(t.J_)}})),this.il}}]),n}(ow),oy=function(){function t(t,n,i){this.Nh=void 0,this.kT=void 0,this.bT=void 0,this.kT=t,this.bT=n,en(i)?this.Nh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Iu(u)}return i}(0,0,i):this.Nh=i}return W(t,[{key:"TT",get:function(){return this.Nh.fu(!0)}},{key:"Y_",get:function(){return this.kT}},{key:"K_",get:function(){return this.bT}}]),t}();var sy="http://www.w3.org/XML/1998/namespace";function cy(t,n){return function(t,n){var i=t.Eu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Eu)}return r}(t,function(t){return t.mu===n})}function ay(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function fy(t,n){for(var i=t.Nu,r={},e=0;e<i.length;e++)r[ay(i[e].vu,n)]=i[e].wu;return r}var hy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,vy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,dy="http://www.w3.org/ns/ttml";function ly(t,n,i){return void 0===i&&(i=ww),function(t,n,i){var r,e=[];try{r=N.su(t)}catch(t){return e}var u=r.Pu;if("tt"!==u.hu)return e;var o=u&&u.ku(dy,"head")[0],s=u&&u.ku(dy,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.ku(dy,"styling")[0],e=r&&r.ku(dy,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");i[s]=fy(o,n)}return i}(o,c),f=function(t,n){var i=Bv(t),r=_y(n.Su("tts:extent"));if(!r)return i;for(var e=0,u=l.keys(i);e<u.length;e++){var o=u[e],s=_y(i[o].extent);if(s){var c=yy(s[0],r[0]),a=yy(s[1],r[1]);i[o].extent=c+" "+a}var f=_y(i[o].origin);if(f){var h=yy(f[0],r[0]),v=yy(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.ku(dy,"layout")[0],e=r&&r.ku(dy,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");if(s){i[s]=fy(o,n);var c=ky(o,n);for(var a in c)rt.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.ku(dy,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(en(n)){var f,h;u=null!=(f=my(n.Su("begin"),e))?f:u,o=my(n.Su("dur"),0),s=null!=(h=my(n.Su("end"),e))?h:void 0!==o?u+o:s;for(var v=n.pu,d=0;d<v.length;d++)("body"===n.hu||"div"===n.hu)&&v[d].nu>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Y_,u.K_)}r.sort(fl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(Re(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=py(l[w],l[w+1],c);if(y.length<=0&&by(n)){var g=n.fu(!1);a.push(new oy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.fu(!1);y.forEach(function(n){return t.bu(n.TT)}),a.push(new oy(l[w],l[w+1],t))}()}return a}(s,i.Ep,i.Sp,i.Rp),d=0;d<v.length;d++){var w=v[d],y=wy(f,w);e.push(new uy(w.Y_,w.K_,w.TT,!1,a,y,h))}return e}(t,0,i)}function wy(t,n){for(var i=function t(n){var i=[];var r;if(en(n)){(r=n.Su("region"))&&i.push(r);for(var e=n.pu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.TT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function yy(t,n){var i=gy(t),r=gy(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return _(e)||_(u)?t:e/u*100+"%"}return t}function gy(t){return le(t,"px")?"px":le(t,"em")?"em":le(t,"c")?"c":le(t,"%")?"%":void 0}function _y(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function py(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Y_,o=i[e].K_;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function my(t,n){if(t){if(hy.test(t)){var i=hy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*w.pow(.1,o.length):0)-n}if(vy.test(t)){var s=vy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function ky(t,n){for(var i={},r=t._u("style")||[],e=0;e<r.length;e++){var u=fy(r[e],n);for(var o in u)rt.call(u,o)&&(i[o]=u[o])}return i}function by(t){if(en(t)){var n=t.hu.toUpperCase(),i=Boolean(t.Su("smpte:backgroundImage"));return"BR"===n||i}return t.nu===rn.eu}function Ty(t){var n=function(t){try{return N.su(t).Pu}catch(t){}}(t);return"tt"===(null==n?void 0:n.hu)}var Ey,Sy=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Nl=function(n){return t.prototype.Nl.call(this,n)},i.Ol=function(n){var i=t.prototype.Ol.call(this,n);return i&&(n.nw=Zv.ew),i},i.ol=function(){return ud(this)},n}(Nv),Ry=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).dk=new Sy,n.ET=function(t){var i=t.sl;n.ST(i)},n}$(n,t);var i=n.prototype;return i.Nl=function(t){t.Hs(Ev._l,this.ET),this.dk.Nl(t),this.ST(t)},i.Ol=function(t){t.$s(Ev._l,this.ET),t.nw=Zv.ew,this.dk.Ol(t)},i.RT=function(t){},i.IT=function(t){},i.ST=function(t){t.nw!==Zv.ew?this.RT(t):this.IT(t)},i.CT=function(){for(var t=0,n=this.dk.Ll;t<n.length;t++){var i=n[t];i.$s(Ev._l,this.ET),i.sr()}},i.Pl=function(){return this.CT(),this.dk.Pl(),A.resolve()},i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),t.next=3,this.Pl();case 3:this.dk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}($e);!function(t){t.pm="subtitles",t.AT="captions",t.DT="descriptions",t.NT="chapters",t.km="metadata",t.OT="thumbnails"}(Ey||(Ey={}));var Iy=[Ey.pm,Ey.AT,Ey.DT,Ey.NT,Ey.km,Ey.OT];function Cy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ie(Iy,t)}(n)?n:n?Ey.km:Ey.pm}var Ay,Dy=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return $(n,t),n}(xo);function Ny(t,n){return t===Ey.OT||t===Ey.km&&n===Ey.OT}function Oy(t,n,i,r){for(var e=0,u=t.ow.Ll;e<u.length;e++){var o=u[e];if(o.Y_>i)break;n<=o.K_&&r.push(o)}}function xy(t,n){return al(t.Xl,n.Xl)}function Py(t,i){var r=i,e=0;if(t instanceof jf&&t.name===Uf.Gv)r=t.wv.gv;else if(function(t){return t instanceof zf}(t)){var u=t.Zv;if(r=u.yv,0===(e=u.fv))return new Dy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Dy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ly(t,i,r,e){var u=function(t){switch(t){case Yl.WEBVTT:return"WebVTT";case Yl.SRT:return"SRT";case Yl.TTML:return"TTML";default:return""}}(t);return new Dy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,r,e)}function Fy(t){return Lw(Sw(t))?Yl.WEBVTT:Ty(t)?Yl.TTML:Yl.SRT}!function(t){t.xT="vtt",t.Zp="wvtt",t.PT="stpp"}(Ay||(Ay={}));var My=function(t){function n(n){var i;return(i=t.call(this,td.Zl)||this).errorObject=n,i}return $(n,t),n.prototype.ol=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv),By=function(t){function n(n,i){var r;return(r=t.call(this)||this).LT=void 0,r.FT=void 0,r.MT=new De,r.LT=n,r.FT=i,r}$(n,t);var i=n.prototype;return i.BT=function(t){if(t.src){var n=t.kind||Ey.pm,i=this.LT.UT(n,t.id,t.label,t.srclang,t.default);return i.cw=Bf(t.src),this.Nl(i),i}},i.VT=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.uw=Gl.LOADING,r=new Pf({gv:n.cw,vv:ts.eu,Pv:Af.GET,Fs:i}),t.prev=2,t.next=5,this.FT.wv(r);case 5:return o=t.sent,u=o.fv,t.next=9,o.Gh();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Pe(t.t0),n.uw=Gl.ERROR,n.qs(new My(Py(t.t0,n.cw))),t.abrupt("return");case 18:for(t.prev=18,s=Fy(e),n.as=s,c=[],s===Yl.WEBVTT||s===Yl.SRT?(a=Ew(e),c=a.ow):s===Yl.TTML&&(c=ly(e)),f=0,h=c;f<h.length;f++)v=h[f],n.qT(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),Pe(t.t1),n.uw=Gl.ERROR,n.qs(new My(Ly(n.as,n.cw,u,t.t1))),t.abrupt("return");case 32:n.uw=Gl.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.RT=function(t){Ie(this.dk.Ll,t)&&t.uw===Gl.NONE&&this.VT(t,this.MT.Fs).catch(Le)},i.Vc=function(){},i.Pl=function(){var n=A.coroutine(qr.mark(function n(){var i,r,e;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.MT.xs(),this.MT=new De,i=0,r=this.dk.Ll;i<r.length;i++)e=r[i],this.LT.HT(e);return n.next=5,t.prototype.Pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ry);function Uy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Gl===n&&r.jT)return r}}function Vy(t,n){qy(Uy(t.Ll,n))}function qy(t){void 0!==t&&(t.nw=Zv.iw)}function Hy(t,n){qy(Uy(t.Ll,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Gl===n)return r}}(t.Ll,n))}function jy(t){for(var n=0;n<Iy.length;n++){var i=Iy[n];i===Ey.NT?Hy(t,i):Vy(t,i)}}var Wy,zy=function(t){function n(){return t.call(this,Zo._f)||this}return $(n,t),n}(Ge);!function(t){t[t.WT=0]="WT",t[t.zT=1]="zT"}(Wy||(Wy={}));var $y=t,Xy=$y.MediaSource,Gy=$y.WebKitMediaSource,Yy=$y.TextTrack,Ky=u&&u.createElement("video"),Jy=(u&&u.documentElement.style,it.de&&it.He&&it.je<=26),Qy=(it.Ie,!(!Xy&&!Gy)),Zy=!!Yy,tg=(u&&(u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled)||it.Se,it.Be&&it.Ue,Ky&&Ky.canPlayType&&(""!==Ky.canPlayType("application/vnd.apple.mpegURL")||it._e&&!it.Be&&it.pe),Ky&&Ky.canPlayType&&""!==Ky.canPlayType("video/mp4")&&!Jy),ng=Qy&&!it.Ve&&!it.Le&&!it.Pe&&((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ky&&Ky.canPlayType&&""!==Ky.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Qy&&!it.Ve&&(ng||((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported("audio/mpeg"):Ky&&Ky.canPlayType&&Ky.canPlayType("audio/mpeg"))),Qy&&!(it.Me&&it.de)&&(Xy||Gy).isTypeSupported&&(Xy||Gy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),it.Ve||it.Le||it.Pe,it.Fe,it.Ve,it.Le&&it.we&&it.ye;try{e&&e.top!==e.self}catch(t){!0}var ig=function(t){function n(n){var i;return(i=t.call(this,xd.Uw)||this).currentTime=n,i}return $(n,t),n}(Ge),rg=function(t){function n(n){var i;return(i=t.call(this,xd.Vw)||this).currentTime=n,i}return $(n,t),n}(Ge),eg=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).$T=_d.Dw,r.XT=!0,r.GT=!1,r.YT=!1,r.KT=function(t){var n=t.readyState;n!==r.$T&&r.qs(t),n===_d.Dw&&(r.GT=!1,r.YT=!1),r.JT(n),r.QT(n),r.ZT(n),r.maybeDispatchCanPlayThroughEvent(n),r.tE(n),r.nE(n),r.$T=n},r.iE=function(){r.nE(r.$T),r.tE(r.$T),r.XT=r.rE.$w},r.eE=function(){r.XT=r.rE.$w},r.rE=n,r.uE=i,r.rE.Hs(xd.ml,r.KT),r.rE.Hs(Zo.lf,r.iE),r.rE.Hs(Zo.df,r.eE),r.uE&&r.rE.Hs(xd.Vw,r.Vs),r}$(n,t);var i=n.prototype;return i.JT=function(t){!this.YT&&t>=_d.Nw&&(this.YT=!0,this.qs(new Vd(this.rE.qw,t)))},i.QT=function(t){!this.GT&&t>=_d.Ow&&(this.GT=!0,this.qs(new zd(this.rE.qw,t)))},i.tE=function(t){this.uE||(t>=_d.xw&&this.$T<_d.xw&&!this.rE.$w||this.oE&&t>=_d.xw)&&this.qs(new rg(this.rE.qw))},i.nE=function(t){!this.sE(t)||this.rE.jw||this.rE.ic||this.qs(new ig(this.rE.qw))},i.ZT=function(t){this.$T<=_d.Ow&&t>=_d.xw&&this.qs(new Yd(this.rE.qw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===_d.Pw&&this.qs(new Kd(this.rE.qw,t))},i.sE=function(t){var n=!this.rE.$w&&t<=_d.Ow,i=!this.XT&&this.$T<=_d.Ow;return n&&!i},i.Pl=function(){this.$T=_d.Dw,this.XT=!0,this.GT=!1,this.YT=!1},i.sr=function(){this.zs(),this.uE&&this.rE.$s(xd.Vw,this.Vs),this.rE.$s(Zo.lf,this.iE),this.rE.$s(Zo.df,this.eE),this.rE.$s(xd.ml,this.KT)},W(n,[{key:"oE",get:function(){return!this.rE.$w&&this.XT}}]),n}($e),ug="titanium",og="conax",sg="ezdrm",cg="irdeto",ag="vudrm",fg="verimatrix",hg="keyos",vg="drmtoday",dg="expressplay",lg="azure",wg="xstream",yg="vimond",gg="axinom",_g="uplynk",pg="comcast",mg="custom",kg=function(){function t(t,n,i,r,e){this.Yc=void 0,this.cE=void 0,this.aE=void 0,this.fE=void 0,this.FT=void 0,this.hE=void 0,this.vE=void 0,this.Yc=t,this.cE=n,this.aE=i,this.FT=r,this.vE=e,this.fE=this.dE(n)}var i=t.prototype;return i.lE=function(){return this.hE},i.wE=function(t){this.hE=t},i.yE=function(){return this.fE.licenseAcquisitionURL||this.lE()},i.gE=function(t){return A.resolve()},i._E=function(t,n){return A.resolve(void 0)},i.pE=function(){var t=A.coroutine(qr.mark(function t(i,r,e,u){var o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.mE(i,r,e,u)).gv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Jd.wv(o);case 6:return s=t.sent,t.next=9,s.Yh(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Pe(t.t0),t.next=17,this.kE(t.t0,o.gv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.mE=function(t,n,i,r){var e=this.bE().Lf(),u=this.Bv,o={gv:this.TE(),vv:n,hv:e,Zh:t,Bv:u,Pv:Af.POST,Lv:0,Fs:r,as:Df.bv,Fv:i};return new Pf(o)},i.EE=function(t,n){return A.resolve(t)},i.SE=function(t,n,i,r){return A.resolve(t)},i.bE=function(){return new ns(this.fE.headers||{})},i.kE=function(){var t=A.coroutine(qr.mark(function t(i,r,e){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.TE=function(t,n){var i=n,r=this.fE.queryParameters;if(!i){var e=this.yE();if(!e)return"";i=e}if(r||t){var u=N.Mo(i);t&&Mf(u,t),r&&Mf(u,r),i=u.href}return i},i.RE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return A.resolve(new p(bg(t,i)))}(t,this.fE)},i.IE=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.CE(n,r);case 2:return e=t.sent,t.next=5,this.pE(e,this.vE,i,r);case 5:return u=t.sent,t.next=8,this.RE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},W(t,[{key:"Jd",get:function(){return this.FT}},{key:"AE",get:function(){return!1}},{key:"DE",get:function(){var t=this.fE.certificate;if(t)return ft(t)?cu(t):Zu(t)}},{key:"NE",get:function(){return!1}},{key:"Bv",get:function(){return Boolean(this.fE.useCredentials)}}]),t}();function bg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Tg(t,n){var i=no(t).buffer,r=n.licenseRequestProcessor;return A.resolve(bg(i,r))}var Eg,Sg,Rg=function(t){function n(n,i,r,e){return t.call(this,ce,n,i,r,e)||this}$(n,t);var i=n.prototype;return i.dE=function(t){return t.widevine||{}},i.OE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.abrupt("return",this.xE(new p(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xE=function(n,i){return t.prototype.IE.call(this,n,Nf.Rv,i)},n}(kg);function Ig(t,n){if(null==t)return{};var i,r,e={},u=l.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Cg(t){return ut(t.token&&t.deviceId)}function Ag(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ut(i.PreAuthorization)}function Dg(t){var n=t;return Cg(n)&&""!==n.token&&""!==n.deviceId&&!Ag(n)}(Sg=Eg||(Eg={})).PE=!1,Sg.LE=!1,Sg.FE=!1,Sg.ME=!1,Sg.LOG_ADS_DETAILS=!1,Sg.LOG_CHROMECAST_DETAILS=!1,Sg.LOG_CUSTOM_DRM=!1,Sg.LOG_BUFFERING_VIDEO_MAIN=!1,Sg.LOG_BUFFERING_VIDEO_SELECTION=!1,Sg.LOG_BUFFERING_AUDIO_MAIN=!1,Sg.LOG_BUFFERING_AUDIO_SELECTION=!1,Sg.BE=!1,Sg.UE=!1;var Ng,Og=function(){function t(t,n,i){this.VE=t,this.Lc=n,this.qE=i}return t.prototype.HE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.qE.build(t))},W(t,[{key:"jE",get:function(){return this.VE}},{key:"Yc",get:function(){return this.Lc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ng||(Ng={}));var xg=function(){function t(){this.WE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.zE(t,i,r)){case Ng.FAILED:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ng.OVERRIDDEN:var e=Qg(i);N.bo("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Ng.SUCCEEDED:Qg(i);0}},i.zE=function(t,n,i){var r=Qg(n);if(!r)return Ng.FAILED;for(var e=Ng.SUCCEEDED,u=0,o=this.WE.slice();u<o.length;u++){var s=o[u];s.jE===t&&s.Yc===r&&(e=Ng.OVERRIDDEN,Se(this.WE,s))}return this.WE.push(new Og(t,r,i)),e},i.$E=function(t,n){return void 0!==this.XE(t,n)},i.GE=function(t,n,i){var r=this.XE(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.HE(i)},i.XE=function(t,n){for(var i=0,r=this.WE;i<r.length;i++){var e=r[i];if(e.jE===t&&(!n||e.Yc===n))return e}},t}();xg.YE=new xg;var Pg=["customdata"],Lg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Fg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Mg(t){return t&&void 0!==t.licenseAcquisitionURL}var Bg,Ug=Mg,Vg=Mg;function qg(t){if(!t)return!0;if(zg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Fg(n)&&Fg(i)&&Fg(r)&&Fg(e)&&Fg(u)}function Hg(t){var n=Dg(t),i=function(t){var n,i=t;return Ag(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Cg(i)}(t);return(!n||!i)&&(n||i)}function jg(t){return t.integration===cg}function Wg(t){var n=t;if(!n)return!1;if(qg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(zg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Ug(r))return!1;if(e&&!Vg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(xg.YE.$E(n.integration))return!0;switch(n.integration){case ug:if(!function(t){return t.integration===ug&&($g(t)||Xg(t))}(t))return!1;break;case ag:if(!Gg(t))return!1;break;case fg:if(!function(t){return t.integration===fg}(t))return!1;break;case cg:if(!jg(t))return!1;break;case og:if(!Hg(t))return!1;break;case sg:if(!function(t){return t.integration===sg}(t))return!1;break;case hg:if(!zg(t))return!1;break;case vg:if(!function(t){var n=t;return n.integration===vg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case dg:if(!function(t){return t.integration===dg}(t))return!1;break;case wg:if(!Yg(t))return!1;break;case yg:if(!function(t){return t.integration===yg}(t))return!1;break;case gg:if(!Kg(t))return!1;break;case lg:if(!function(t){var n=t;return n.integration===lg&&void 0!==n.token}(t))return!1;break;case _g:if(!function(t){return t.integration===_g}(t))return!1;break;case pg:if(!function(t){var n=t;return n&&ut(n.releasePid)&&ut(n.accountId)&&ut(n.token)}(t))return!1;break;case mg:return!0;default:return!1}}return!0}function zg(t){return t.integration===hg}function $g(t){return void 0!==t.authToken}function Xg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Gg(t){var n=t;return n.integration===ag&&void 0!==n.token}function Yg(t){var n=t;return n&&n.integration===wg&&ft(n.ticketAcquisitionURL)&&ft(n.streamId)}function Kg(t){var n=t;return n.integration===gg&&void 0!==n.token}function Jg(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Lg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=Hr({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return Hr({},Ig(f,Pg),{licenseAcquisitionURL:o,headers:a})}function Qg(t){switch(t.toLowerCase()){case"widevine":case re:return re;case"playready":case ne:return ne;case"fairplay":case ue:return ue}}function Zg(t,i){switch(t){case Qr:return function(t){for(var n={},i=ry.nk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.iT]=e.uT}return n}(i);case Zr:case te:return function(t){var n;return(n={})[ee]=t,n}(i);default:throw new xo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.us="Widevine",t.es="PlayreadyV2",t.KE="PlayreadyV2",t.JE="PlayreadyV3",t.os="Fairplay"}(Bg||(Bg={}));var t_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function n_(t,n){var i,r,e,u,o=t_[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=N.Uo)?void 0:i.Vo,OSVersion:null==(r=N.Uo)?void 0:r.$o,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=N.Uo)?void 0:e.Xo,DeviceModel:null==(u=N.Uo)?void 0:u.Go}}}function i_(t,i){if(!t.accountName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function r_(t,n,i){var r;if($g(t))r={AuthToken:t.authToken,Payload:n};else{if(!Xg(t))throw i_(t,i);r={LatensRegistration:n_(t,i),Payload:n}}return gu(JSON.stringify(r))}function e_(t,n,i){return u_.apply(this,arguments)}function u_(){return(u_=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Zv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.Xh(e);case 7:s=t.sent,c=o_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.wv.gv,o.fv,o.dv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function o_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var s_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ts.xf)||this).QE=void 0,e}$(i,t),i.ZE=function(){return N.Vo.ho?"required":"optional"};var r=i.prototype;return r.kE=function(t,n,i){return e_(t,n,i)},r.gE=function(t){return this.QE?Fe(this.QE.Tc,t):(this.QE=new ro,A.resolve())},r.CE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.cE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=fu(i),t.abrupt("return",r_(e,u,Bg.us));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.RE=function(t){var i;if(!t.license)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=cu(t.license),A.resolve(i)},r.tS=function(t){return A.resolve(new p(t))},r.OE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nS(),t.next=3,this.CE(n,i);case 3:return r=t.sent,t.next=6,this.pE(r,ts.Of,Nf.Iv,i);case 6:return e=t.sent,t.next=9,this.tS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var n=A.coroutine(qr.mark(function n(i,r){var e;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.xE.call(this,i,r);case 2:return e=n.sent,this.nS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.nS=function(){this.QE||(this.QE=new ro),this.QE.Ec()},r.sr=function(){this.QE&&this.QE.xs(),t.prototype.sr.call(this)},i}(Rg),c_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Of)||this).wE("https://widevine-proxy.drm.technology/proxy"),e}return $(i,t),i.prototype.CE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(i,this.fE);case 2:if(e=t.sent,u=this.aE,r=new p(e),o=[].slice.call(r),s=this.iS){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(i,[{key:"iS",get:function(){if(Gg(this.cE))return this.cE.token}}]),i}(Rg);function a_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Hr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Hr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var f_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Of)||this).wE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}$(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.TE=function(n,i){var r=n;return jg(this.cE)&&(r=a_(this.cE,r)),t.prototype.TE.call(this,r,i)},n}(Rg),h_="Conax-Custom-Data";function v_(t,n,i){var r=t&&Hg(t)&&t;if(r&&!i.has(h_)){var e=Dg(r)?r.token:void 0,u=Dg(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(h_,o)}return i}var d_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Of)||this).wE("https://connect.conax.com:8094/license"),e}$(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.bE=function(){var n=t.prototype.bE.call(this);return v_(this.cE,"Widevine",n)},n}(Rg);function l_(t){var n=Hu(new p(t));return cu(JSON.parse(n).license)}function w_(t){return"string"==typeof t.token?t.token:gu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function y_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var g_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ts.Of)||this).wE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}$(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.RE=function(t){return A.resolve(l_(t))},i.bE=function(){return y_(t.prototype.bE.call(this),this.iS,this.cE)},W(n,[{key:"iS",get:function(){return w_(this.cE)}}]),n}(Rg),__=function(t){function n(n,i,r){return t.call(this,n,i,r,ts.Of)||this}$(n,t);var i=n.prototype;return i.CE=function(t,n){return Tg(t,this.fE)},i.bE=function(){var n=t.prototype.bE.call(this),i=this.cE.token;return n.set("Authorization","Bearer "+i),n},n}(Rg);function p_(t,n,i,r){return m_.apply(this,arguments)}function m_(){return(m_=A.coroutine(qr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Yg(i)){t.next=2;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new ns).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={gv:i.ticketAcquisitionURL,vv:ts.xf,hv:o,Pv:Af.POST,Zh:JSON.stringify(f),Fs:u},t.next=13,e.wv(h);case 13:return v=t.sent,t.next=16,v.Xh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var k_=function(t){function n(n,i,r){return t.call(this,n,i,r,ts.xf)||this}$(n,t);var i=n.prototype;return i.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type","application/json"),n},i.CE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=yu(n.buffer),e=this.cE,t.next=4,p_(e,"widevine_modular",this.Jd,i);case 4:return u=t.sent,this.wE(u.licenseServerUrl),o=ju(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Tg(o,this.fE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.RE=function(t){var n=t;return A.resolve(cu(n.license))},n}(Rg),b_=function(t){function i(n,i,r){return t.call(this,n,i,r,ts.Of)||this}$(i,t);var r=i.prototype;return r.CE=function(t,n){return Tg(t,this.fE)},r.bE=function(){if(!Kg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},i}(Rg);function T_(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var E_=function(t){function n(n,i,r){var e;return(e=t.call(this,se,n,i,r,ts.Of)||this).rS=void 0,e}$(n,t);var i=n.prototype;return i.dE=function(t){return t.playready||{}},i.bE=function(){var n=new ns(this.rS);return n.Mf(t.prototype.bE.call(this)),n},i.eS=function(t){return t.length>=1&&t[0].pu.length>0},i._E=function(n){var i=this.cE.playready.customData;if(i){var r=T_(i),e=T_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+fu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return A.resolve({playready:{pa:e}})}return t.prototype._E.call(this,n)},i.CE=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(n,this.fE);case 2:return r=t.sent,t.abrupt("return",this.uS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new io,void 0===(m=!0)&&(m=!1),c=Vu(_,p,m,!0),t.prev=3,a=N.su(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a._u("PlayReadyKeyMessage")[0])?void 0:i._u("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f._u("Challenge"))?r:[],this.eS(h)&&(o=wu(h[0].Ou)),v=new ns,d=null!=(e=null==f?void 0:null==(u=f._u("HttpHeaders")[0])?void 0:u._u("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w._u("name")[0].Ou,g=w._u("value")[0].Ou,v.append(y,g);return this.rS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.OE=function(t,n){return A.resolve(t)},i.xE=function(n,i){return t.prototype.IE.call(this,n,Nf.Cv,i)},n}(kg),S_=function(){function t(n){this.oS=void 0,this.sS=n,this.oS=t.cS(n)}return t.cS=function(t){return"3"===t.version?Bg.JE:Bg.KE},t.prototype.aS=function(){var t={};if(this.oS===Bg.JE){var n={LatensRegistration:n_(this.sS,Bg.JE)};t["X-TITANIUM-DRM-CDATA"]=gu(JSON.stringify(n))}return t},W(t,[{key:"fS",get:function(){return this.oS}},{key:"ua",get:function(){return this.oS===Bg.KE}}]),t}();var R_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).hS=void 0,e.hS=new S_(e.cE),e}$(i,t);var r=i.prototype;return r._E=function(t){var i=this.cE;if(!this.cE)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Xg(i)){var r={};return r.playready={pa:I_(i,this.hS.fS)},A.resolve(r)}return A.reject(i_(i,Bg.es))},r.bE=function(){var n=new ns(this.hS.aS());return n.Mf(t.prototype.bE.call(this)),n},r.kE=function(){var t=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Zv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Kh(e);case 6:c=t.sent,a=Hu(new p(c)),(f=N.su(a))&&(h=cy(f,"CustomData")).length>0&&(o=JSON.parse(h[0].Ou),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.fv,u.dv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.eS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(E_);function I_(t,n){var i=n_(t,n),r=i.DeviceInfo.FormatVersion,e=gu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=zu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return zu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+fu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var C_,A_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://playready-license.drm.technology/rightsmanager.asmx"),e}$(i,t);var r=i.prototype;return r.eS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.TE=function(n,i){var r=Hr({},n||{},{token:this.iS});return t.prototype.TE.call(this,r,i)},W(i,[{key:"iS",get:function(){if(Gg(this.cE))return this.cE.token}}]),i}(E_),D_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return $(n,t),n.prototype.TE=function(n,i){var r=n;return jg(this.cE)&&(r=a_(this.cE,r)),t.prototype.TE.call(this,r,i)},n}(E_),N_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return $(n,t),n.prototype.bE=function(){var n=t.prototype.bE.call(this);return v_(this.cE,"PlayReady",n)},n}(E_),O_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).wE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}$(n,t);var i=n.prototype;return i.RE=function(n){return(de(Hu(new p(n)),"<?xml")?C_.vS:C_.Xh)===C_.Xh?A.resolve(l_(n)):A.resolve(t.prototype.RE.call(this,new p(n)))},i.bE=function(){return y_(t.prototype.bE.call(this),this.iS,this.cE)},W(n,[{key:"iS",get:function(){return w_(this.cE)}}]),n}(E_);!function(t){t[t.vS=0]="vS",t[t.Xh=1]="Xh"}(C_||(C_={}));var x_,P_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).dS=void 0,e}$(n,t);var i=n.prototype;return i.bE=function(){var n=t.prototype.bE.call(this);return this.dS&&n.set("Ticket",this.dS),n.set("Content-Type","text/xml"),n},i.CE=function(){var n=A.coroutine(qr.mark(function n(i,r){var e,u;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.cE,n.next=3,p_(e,"playready",this.Jd,r);case 3:return u=n.sent,this.wE(u.licenseServerUrl),this.dS=u.ticket,n.abrupt("return",t.prototype.CE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(E_),L_=function(t){function i(){return t.apply(this,arguments)||this}return $(i,t),i.prototype.bE=function(){if(!Kg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},i}(E_);!function(t){t.xf="application/json",t.lS="application/x-www-form-urlencoded",t.wS="application/octet-stream",t.eu="text/plain;charset=UTF-8"}(x_||(x_={}));var F_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.Yc,i,r,e,u)||this).yS="",o.gS=void 0,o._S=void 0,o._S=n.pS,o}$(n,t);var i=n.prototype;return i.mS=function(){return this.fE.certificateURL||this.gS},i.kS=function(t){this.gS=t},i.CE=function(t){return A.resolve(this.bS(t,this.yS))},i.bS=function(t,n){return"spc="+encodeURIComponent(fu(t))+"&assetId="+encodeURIComponent(n)},i.dE=function(t){return t.fairplay||{}},i.TS=function(t){var n=t.indexOf("?");if(n>=0)return A.resolve(t.substr(n+1));var i=t.split("/");return A.resolve(i[i.length-1])},i._E=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this._S)?i:Xu(new p(n)),t.next=3,this.TS(r);case 3:return e=t.sent,this.yS=e,(u={}).fairplay={Ra:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type",this.ES),n},i.OE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return t.next=4,this.SS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xE=function(n,i){return t.prototype.IE.call(this,n,Nf.Ev,i)},i.RS=function(t){var n=this.mS(),i=this.bE(),r={gv:n,vv:ts.Of,hv:i,Pv:Af.GET,Bv:!1,Zh:null,Lv:0,Fs:t,as:Df.bv,Fv:Nf.Sv};return new Pf(r)},i.SS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.RS(n),t.next=3,this.Jd.wv(i);case 3:return r=t.sent,t.next=6,r.Kh();case 6:return e=t.sent,t.abrupt("return",new p(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=cu(i)}else n=new p(t);return A.resolve(n)},i.TE=function(n,i){var r=t.prototype.TE.call(this,n,i);return de(r,"skd:")&&(r=r.substr("skd:".length)),r},W(n,[{key:"NE",get:function(){return!0}},{key:"ES",get:function(){return x_.lS}}]),n}(kg),M_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.Of)||this}$(n,t);var i=n.prototype;return i.TS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return A.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return A.resolve(i)},i.CE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return A.resolve(new p(t))},i.TE=function(n,i){var r=n||{};return r.p1=tn(),t.prototype.TE.call(this,r,i)},W(n,[{key:"ES",get:function(){return x_.wS}}]),n}(F_),B_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Of)||this).wE("https://fairplay-license.drm.technology/license"),u.kS("https://fairplay-license.drm.technology/certificate"),u}$(i,t);var r=i.prototype;return r.bS=function(t,n){var i={token:this.iS,contentId:n,payload:fu(t)};return JSON.stringify(i)},r.RE=function(t){return A.resolve(new p(t))},r.bE=function(){var n=t.prototype.bE.call(this);return n.set("x-vudrm-token",this.iS),n},W(i,[{key:"ES",get:function(){return x_.xf}},{key:"iS",get:function(){if(!Gg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.cE.token}}]),i}(F_),U_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",V_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",q_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.Of)||this}return $(i,t),i.prototype.RE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,U_)}if(!i)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,V_);return i}(Hu(new DataView(i)));return t.prototype.RE.call(this,r)},i}(F_);var H_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.xf)||this}$(i,t);var r=i.prototype;return r.CE=function(){var t=A.coroutine(qr.mark(function t(i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.cE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=fu(i),t.abrupt("return",r_(r,e,Bg.os));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RE=function(t){try{var i;if(ft(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=wu(i.license);return A.resolve(new p(e))}return A.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return A.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.kE=function(t,n,i){return e_(t,n,i)},W(i,[{key:"ES",get:function(){return x_.xf}}]),i}(F_),j_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Of)||this).wE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.kS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}$(n,t);var i=n.prototype;return i.mS=function(){var n=t.prototype.mS.call(this);if(!n)return n;var i=N.Mo(n),r=this.cE;return jg(r)&&Mf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.TS=function(n){return jg(this.cE)?A.resolve(this.cE.contentId):t.prototype.TS.call(this,n)},i.CE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return A.resolve(new p(t))},i.TE=function(n,i){var r=n;return jg(this.cE)&&(r=function(t,n){return Hr({},a_(t,n),{KeyId:t.keyId})}(this.cE,r)),t.prototype.TE.call(this,r,i)},W(n,[{key:"ES",get:function(){return x_.wS}}]),n}(F_),W_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,ts.eu)||this,!Hg(r))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.wE("https://connect.conax.com:8097/license"),o}$(i,t);var r=i.prototype;return r.bE=function(){var n=t.prototype.bE.call(this);return v_(this.cE,"FairPlay",n)},r.SS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mS(),r={gv:i,vv:ts.Of,hv:{},Pv:Af.GET,Bv:!1,Zh:null,Lv:0,Fs:n,as:Df.bv,Fv:Nf.Sv},t.next=4,this.Jd.wv(r);case 4:return e=t.sent,t.next=7,e.Kh();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.CE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.TS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),A.resolve(Hu(cu(n)))):A.resolve("unknown")},r.RE=function(t){try{var n=JSON.parse(t);return A.resolve(new p(wu(n.CkcMessage)))}catch(t){return A.reject("CFLRW-66")}},i}(F_),z_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.eu)||this).wE(Lg[Jr.os]),u}$(i,t);var r=i.prototype;return r.TS=function(t){return de(t,"skd://")?A.resolve(t.substring("skd://".length,40)):A.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.bS=function(t,n){return"spc="+fu(t)+"&assetId="+n},i}(F_),$_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.eu)||this).wE("https://lic.drmtoday.com/license-server-fairplay/"),u}$(n,t);var i=n.prototype;return i.bS=function(t,n){var i="spc="+encodeURIComponent(fu(t))+"&"+encodeURI(n);return"persistent"===this.fE.licenseType?i+"&offline=true":i},i.bE=function(){return y_(t.prototype.bE.call(this),this.iS,this.cE)},W(n,[{key:"iS",get:function(){return w_(this.cE)}}]),n}(F_),X_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.Of)||this}$(n,t);var i=n.prototype;return i.TS=function(t){var n=t;return de(n,"skd:")&&(n="http:"+n.substring(4)),de(n,"http:")||de(n,"https:")?A.resolve(N.Mo(n).hostname):A.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.CE=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.RE=function(t){return A.resolve(new p(t))},W(n,[{key:"ES",get:function(){return x_.wS}}]),n}(F_),G_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ts.eu)||this}return $(n,t),n.prototype.bE=function(){var n=t.prototype.bE.call(this),i=this.cE.token;return n.set("Authorization","Bearer "+i),n},n}(F_),Y_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,ts.xf)||this,!Yg(i))throw new v("Invalid Xstream DRM configuration");return u}$(n,t);var i=n.prototype;return i.SS=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mS(),r=this.bE(),e={gv:i,vv:ts.xf,hv:r,Pv:Af.POST,Fs:n,as:Df.bv,Fv:Nf.Sv},t.next=5,this.Jd.wv(e);case 5:return u=t.sent,t.next=8,u.Xh();case 8:return o=t.sent,t.abrupt("return",new p(cu(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xE=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=ts.eu),e=fu(n),u=this.cE,t.next=5,p_(u,"fairplay",this.Jd,i);case 5:return o=t.sent,s=ju(JSON.stringify({spc:e,ticket:o.ticket})),c={gv:this.yE(),vv:ts.xf,hv:this.bE(),Pv:Af.POST,Zh:s,Lv:0,Fs:i,as:Df.bv,Fv:Nf.Ev},t.next=10,this.Jd.wv(c);case 10:return a=t.sent,t.next=13,a.Xh();case 13:return f=t.sent,t.abrupt("return",cu(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(n,[{key:"ES",get:function(){return x_.xf}}]),n}(F_),K_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.eu)||this}$(i,t);var r=i.prototype;return r.bS=function(t,n){return fu(t)},r.RE=function(i){if(0===i.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.RE.call(this,i)},r.bE=function(){var n=t.prototype.bE.call(this);return n.set("Content-Type","text/plain"),n},i}(F_),J_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ts.Of)||this}$(i,t);var r=i.prototype;return r.bS=function(t,n){return t},r.RE=function(t){return A.resolve(new p(t))},r.bE=function(){if(!Kg(this.cE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.bE.call(this);return i.set("X-AxDRM-Message",this.cE.token),i},W(i,[{key:"ES",get:function(){return x_.xf}}]),i}(F_),Q_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.xf)||this).IS=void 0,u}$(i,t);var r=i.prototype;return r.bS=function(t,n){var i={spc:fu(t)};return JSON.stringify(i)},r.TS=function(t){var i=N.Mo(t);return this.IS=t,i.searchParams.has("b")?A.resolve(i.searchParams.get("b")):A.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.TE=function(n,i){var r=this.yE();return!r&&this.IS&&(r=this.IS),r&&(r=r.replace("skd://","https://")),t.prototype.TE.call(this,n,i||r)},r.RE=function(){var t=A.coroutine(qr.mark(function t(i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=ft(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",cu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),W(i,[{key:"ES",get:function(){return x_.eu}}]),i}(F_),Z_=function(){function t(t,n){this.CS=t,this.AS=n}var n=t.prototype;return n.DS=function(t){return this.CS(t)},n.NS=function(t,n){throw new d(n+" must be "+this.AS+". (Received: "+t+")")},t}(),tp=new Z_(dt,"a number"),np=new Z_(ft,"a string"),ip=new Z_(ht,"a boolean");var rp,ep=(rp={responseCode:tp,isException:ip,description:np,title:np,correlationId:np},{DS:function(t){if(!ct(t))return!1;for(var n=0,i=l.keys(rp);n<i.length;n++){var r=i[n];if(!rp[r].DS(t[r]))return!1}return!0},NS:function(t,n){if(!ct(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(rp);i<r.length;i++){var e=r[i],u=rp[e];if(!u.DS(t[e]))return u.NS(t[e],n+"."+e)}throw new d}});function up(t,n,i,r,e){return op.apply(this,arguments)}function op(){return(op=A.coroutine(qr.mark(function t(n,i,r,e,u){var o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=sp(n,i,r,u),t.next=3,cp(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function sp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=N.Mo(t);return Mf(i,n),i.toString()}(i,e)),o=new ns({});o.append("Content-Type","application/json");var s=fu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{gv:u,vv:ts.eu,hv:o,Pv:Af.POST,Zh:JSON.stringify(c),Fs:r,as:Df.bv,Fv:Nf.Ev}}function cp(t,n){return ap.apply(this,arguments)}function ap(){return(ap=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.wv(i);case 2:return e=t.sent,t.next=5,e.Xh();case 5:if(u=t.sent,!ep.DS(u)){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.gv,u.responseCode);case 8:return t.abrupt("return",cu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var fp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ts.Of)||this).OS=void 0,u.OS=i,u}$(n,t);var i=n.prototype;return i.TS=function(n){var i=n.replace("FairPlay",this.OS.releasePid);return t.prototype.TS.call(this,i)},i.xE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,up(n,this.OS,this.yE(),this.Jd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(F_),hp=function(t){function i(n,i,r){return t.call(this,fe,n,i,r,ts.Of)||this}$(i,t);var r=i.prototype;return r.dE=function(t){return t.clearkey||{}},r.CE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.fE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.pE=function(){var i=A.coroutine(qr.mark(function i(r,e,u,o){var s,c;return qr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.fE,!this.yE()){i.next=5;break}return i.abrupt("return",t.prototype.pE.call(this,r,this.vE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",ju(JSON.stringify(c)).buffer);case 10:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.OE=function(t,n){return A.resolve(new p(0))},r.xE=function(n,i){return t.prototype.IE.call(this,n,Nf.Av,i)},i}(kg),vp=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.CE=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.fE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Rg),dp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function lp(t,n,i){return wp.apply(this,arguments)}function wp(){return(wp=A.coroutine(qr.mark(function t(n,i,r){var e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Ap(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(u.call(n,e)),r);case 8:if(!Qu(o=t.sent)){t.next=11;break}return t.abrupt("return",Zu(o));case 11:return t.abrupt("return",Cp(Hr({},dp,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yp(t,n,i,r,e){return gp.apply(this,arguments)}function gp(){return(gp=A.coroutine(qr.mark(function t(n,i,r,e,u){var o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Ip(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Zu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _p(t,n,i,r){return pp.apply(this,arguments)}function pp(){return(pp=A.coroutine(qr.mark(function t(n,i,r,e){var u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Cp(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mp(t,n,i,r,e,u){return kp.apply(this,arguments)}function kp(){return(kp=A.coroutine(qr.mark(function t(n,i,r,e,u,o){var s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Rp(r,u),t.next=3,Ep(n,new p(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",Zu(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bp(t,n,i,r){return Tp.apply(this,arguments)}function Tp(){return(Tp=A.coroutine(qr.mark(function t(n,i,r,e){var u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Rp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",A.resolve(o));case 5:return t.next=8,Fe(A.resolve(u.call(n,o)),e);case 8:if(!Qu(s=t.sent)){t.next=11;break}return t.abrupt("return",Zu(s).buffer);case 11:return t.abrupt("return",Hr({fairplaySkdUrl:void 0},dp,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ep(t,n,i,r,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=A.coroutine(qr.mark(function t(n,i,r,e,u){var o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Ip(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",A.resolve(i));case 5:return t.next=8,Fe(A.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",Zu(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rp(t,n){return Hr({},Ap(t),{fairplaySkdUrl:n})}function Ip(t,n,i){return{url:i.yv,status:i.fv,statusText:i.dv,headers:i.hv.Lf(),body:t,request:n}}function Cp(t){return new Pf({gv:t.url,Pv:t.method,hv:t.headers,Zh:t.body,Bv:t.useCredentials})}function Ap(t){var n;return{url:t.gv,body:null!=(n=Dp(t.Zh))?n:null,headers:t.hv.Lf(),method:t.Pv,useCredentials:t.Bv}}function Dp(t){if(t)return"string"==typeof t?ju(t):t instanceof ArrayBuffer?new p(t):vu(t)?Ju(t):void 0}var Np,Op=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).xS=void 0,u.xS=e,u}$(i,t);var r=i.prototype;return r.OE=function(t,n){return A.resolve(t)},r.xE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uS(no(i).buffer);case 2:return e=t.sent,u=this.mE(e,ts.Of,Nf.Cv,r),t.next=6,_p(this.xS,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(o));case 10:if(""!==o.gv){t.next=12;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Jd.wv(o);case 15:return s=t.sent,t.next=18,s.Kh(r);case 18:return c=t.sent,t.t0=p,t.next=22,mp(this.xS,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Pe(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(E_),xp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,ts.Of)||this).xS=void 0,u.xS=e,u}$(i,t);var r=i.prototype;return r.OE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.mE(i,ts.Of,Nf.Iv,r),t.next=5,lp(this.xS,e,r);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.gv){t.next=11;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Jd.wv(u);case 14:return o=t.sent,t.next=17,o.Kh(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Pe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Rp(e,void 0),t.next=27,yp(this.xS,new p(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mE(i,ts.Of,Nf.Rv,r),t.next=3,_p(this.xS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.gv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Jd.wv(u);case 12:return o=t.sent,t.next=15,o.Kh(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Pe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,mp(this.xS,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(vp),Pp=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,ts.Of)||this).xS=void 0,o.PS=void 0,o.xS=u,o}$(i,t);var r=i.prototype;return r.OE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DE){t.next=2;break}return t.abrupt("return",this.DE);case 2:return e=this.RS(r),t.next=5,lp(this.xS,e,r);case 5:if(u=t.sent,!vu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Jd.wv(u);case 11:return o=t.sent,t.next=14,o.Kh();case 14:return s=t.sent,c=Rp(e,void 0),t.next=18,yp(this.xS,new p(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Pe(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.xE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mE(i,ts.Of,Nf.Ev,r),t.next=3,_p(this.xS,e,this.PS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.gv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Jd.wv(u);case 12:return o=t.sent,t.next=15,o.Kh(r);case 15:return s=t.sent,t.t0=p,t.next=19,mp(this.xS,s,e,o,this.PS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Pe(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.TS=function(n){var i;return this.PS=n,null!=(i=this.xS)&&i.extractFairplayContentId?A.resolve(this.xS.extractFairplayContentId(n)):t.prototype.TS.call(this,n)},i}(F_),Lp=function(){function t(){}var n=t.prototype;return n.LS=function(t,n,i,r){switch(t.Yc.as){case Jr.us:return this.FS(n,i,r);case Jr.es:return this.MS(n,i,r);case Jr.os:return this.BS(t,n,i,r);case Jr.ss:default:return this.US(n,i,r)}},n.FS=function(t,n,i){var r,e=(r=t).integration===mg&&ft(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&xg.YE.$E(e,re)){var u=xg.YE.GE(e,re,t);return new xp(t,n,i,u)}switch(e){case ug:return new s_(t,n,i);case ag:return new c_(t,n,i);case cg:return new f_(t,n,i);case og:return new d_(t,n,i);case vg:return new g_(t,n,i);case lg:return new __(t,n,i);case wg:return new k_(t,n,i);case gg:return new b_(t,n,i);case hg:default:return new vp(t,n,i,ts.Of)}},n.MS=function(t,n,i){var r=t.integration;if(r&&xg.YE.$E(r,ne)){var e=xg.YE.GE(r,ne,t);return new Op(t,n,i,e)}switch(r){case ug:return new R_(t,n,i);case ag:return new A_(t,n,i);case cg:return new D_(t,n,i);case og:return new N_(t,n,i);case vg:return new O_(t,n,i);case wg:return new P_(t,n,i);case gg:return new L_(t,n,i);case hg:default:return new E_(t,n,i)}},n.BS=function(t,n,i,r){var e=n.integration;if(e&&xg.YE.$E(e,ue)){var u=xg.YE.GE(e,ue,n);return new Pp(t,n,i,r,u)}switch(e){case sg:return new M_(t,n,i,r);case ag:return new B_(t,n,i,r);case fg:return new q_(t,n,i,r);case ug:return new H_(t,n,i,r);case cg:return new j_(t,n,i,r);case og:return new W_(t,n,i,r);case hg:return new z_(t,n,i,r);case vg:return new $_(t,n,i,r);case dg:return new X_(t,n,i,r);case lg:return new G_(t,n,i,r);case wg:return new Y_(t,n,i,r);case yg:return new K_(t,n,i,r);case gg:return new J_(t,n,i,r);case _g:return new Q_(t,n,i,r);case pg:return new fp(t,n,i,r);default:return new F_(t,n,i,r,ts.eu)}},n.US=function(t,n,i){return new hp(t,n,i)},n.VS=function(t){return t.as===Jr.es||t.as===Jr.us||t.as===Jr.os||t.as===Jr.ss},n.ua=function(t,n){var i;if(t.as!==Jr.es)return!1;if(ut(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!xg.YE.$E(r,ue))&&(r===ug&&new S_(n).ua)},n.ZE=function(t,n){if(t.as===Jr.us){var i=n.integration;if(!i||!xg.YE.$E(i,ue))return i===ug?s_.ZE():void 0}},t}();!function(t){t[t.qS=0]="qS",t[t.HS=1]="HS",t[t.jS=2]="jS",t[t.WS=3]="WS",t[t.Tw=4]="Tw",t[t.zS=5]="zS",t[t.Aw=6]="Aw",t[t.$S=7]="$S",t[t.XS=8]="XS"}(Np||(Np={}));var Fp,Mp=function(){function t(){}return t.prototype.GS=function(t){},W(t,[{key:"YS",get:function(){return 0}},{key:"KS",get:function(){return 0}}]),t}(),Bp=function(){function t(t,n){void 0===n&&(n=new Lp),this.FT=void 0,this.JS=void 0,this.sS=void 0,this.FT=t,this.JS=n}var n=t.prototype;return n.QS=function(t){this.sS=t},n.ZE=function(t){var n=this.sS;if(void 0!==n)return this.JS.ZE(t,n)},n.ua=function(t){var n=this.sS;return void 0!==n&&this.JS.ua(t,n)},n.ZS=function(t){var n={Yc:t.Yc,tR:t.tR||[],pS:t.pS},i=this.JS.LS(n,this.sS||{},t.aE,this.FT);return new Up(i)},t}(),Up=function(){function t(t){this.nR=void 0,this.nR=t}var n=t.prototype;return n.gE=function(t){return this.nR.gE(t)},n._E=function(t,n,i){return this.nR._E(n,i)},n.NE=function(){return this.nR.NE||void 0!==this.nR.DE},n.OE=function(t,n){return this.nR.OE(t,n)},n.xE=function(t,n,i){return n&&this.nR.wE(n),this.nR.xE(t,i)},n.Is=function(){this.nR.sr()},t}(),Vp=function(t){function n(n){var i;(i=t.call(this)||this).iR=[],i.rR=function(t){i.Nl(t.sl)},i.eR=function(t){var n=t.sl;i.uR(n)||i.Ol(n)};for(var r=0;r<n.length;r++){var e=n[r];i.oR(e)}return i}$(n,t);var i=n.prototype;return i.oR=function(t){this.iR.push(t);for(var n=0,i=t.Ll;n<i.length;n++){var r=i[n];this.Nl(r)}this.sR(t)},i.cR=function(t){Se(this.iR,t),this.aR(t);for(var n=0,i=t.Ll;n<i.length;n++){var r=i[n];this.uR(r)||this.Ol(r)}},i.uR=function(t){for(var n=0,i=this.iR;n<i.length;n++){if(i[n].xl(t))return!0}return!1},i.sR=function(t){t.Hs(mv.Qd,this.rR),t.Hs(mv.tl,this.eR)},i.aR=function(t){t.$s(mv.Qd,this.rR),t.$s(mv.tl,this.eR)},i.sr=function(){for(;this.iR.length>0;)this.cR(this.iR[0]);t.prototype.sr.call(this)},i.ol=function(){return ud(this)},n}(Nv);function qp(){return Fp||(Fp=R&&R.document&&R.document.createElement("video")),Fp}var Hp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Lp),void 0===c&&(c=Xo()),(a=t.call(this)||this).fR=void 0,a.hR=void 0,a.vR=void 0,a.qg=void 0,a.Hg=void 0,a.jg=void 0,a.dR=void 0,a.lR=void 0,a.wR=void 0,a.yR=void 0,a.gR=void 0,a.FT=void 0,a.ys=void 0,a._R=void 0,a.pR=void 0,a.mR=new Mp,a.kR=function(t){var i=t.ic,r=i.code,e=new xo(function(t){switch(t){case Al.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Al.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Al.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Al.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Al.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Al.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Al.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new xl(r,e.message,i.message);a.bR(e,u)},a.TR=function(){a.qs(new jd(a.qw,a.y_))},a.ER=function(t){a.$w||(a.pR=void 0),a.qs(t)},a.SR=function(t){a.pR=void 0,a.qs(t)},a.RR=function(){a.qs(new tw(a.__))},a.IR=function(){a.Kw>0&&a.Yw>0&&a.qs(new zy)},a.CR=function(t){a.qg.Nl(new $l(t.track))},a.AR=function(t){var n=Wp(a.qg,t.track);n&&a.qg.Ol(n)},a.DR=function(){a.NR(a.qg)},a.OR=function(t){a.Hg.Nl(new Zl(t.track))},a.xR=function(t){var n=Wp(a.Hg,t.track);n&&a.Hg.Ol(n)},a.PR=function(){a.NR(a.Hg)},a.LR=function(t){a.qs(t),a.bR(t.errorObject,Ll(t.errorObject))},a.fR=r,a.FT=e,a.ys=c,a.hR=a.fR.Zi(Fl.Ov),a.wR=a.hR.FR.preload,a.yR=new eg(a.hR,!0),a.yR.Hs(Ud,a.Vs),a._R=new Bp(e,s),a.hR.MR=a._R,a.UR(),a.qg=new Ml,a.Hg=new Ml,a.qR(),a.gR=new By(a.hR,a.FT),a.jg=new Vp([a.hR.Yg]),a.u_(),a}$(i,t);var r=i.prototype;return r.o_=function(){this.hR.o_()},r.u_=function(){this.hR.u_()},r.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(r),e={as:Wy.WT,cw:n.src,Qh:n.type,HR:this.jR(n),I_:this.wR,WR:n.crossOrigin,zR:i.metadata&&i.metadata.title},this._R.QS(n.contentProtection),t.next=5,this.hR.Vc(e);case 5:this.vR=t.sent,xe(r),i.textTracks&&this.$R(i.textTracks),jy(this.Yg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.$R=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.hR.XR()&&it.Se&&Zy&&!Ny(i.kind,i.label)&&this.GR(i)){var r,e=null!=(r=i.kind)?r:Ey.pm;this.hR.YR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.gR.BT(i)}}},r.GR=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hR.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.KR){t.next=12;break}return t.next=10,this.hR.Ks(Zo.wf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.hR.nr()},r.t_=function(){return void 0!==this.hR.FR.webkitShowPlaybackTargetPicker},r.n_=function(){this.hR.FR.webkitShowPlaybackTargetPicker&&this.hR.FR.webkitShowPlaybackTargetPicker()},r.i_=function(){this.hR.FR.webkitShowPlaybackTargetPicker&&this.hR.FR.webkitShowPlaybackTargetPicker()},r.s_=function(){return this.hR.FR},r.c_=function(){return this.hR.JR},r.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dR=void 0,this.lR=void 0,this.vR=void 0,t.next=5,this.gR.Pl();case 5:return this.hR.QR(),t.next=8,this.hR.Pl();case 8:this.yR.Pl(),this.I_=this.wR,this.Xg.Pl(),this.Gg.Pl(),this.pR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.ZR(),this.tI(),this.yR.sr(),this.hR.MR=void 0,t.next=9,this.fR.er(this.hR);case 9:return this.qg.sr(),this.Hg.sr(),this.jg.sr(),t.next=14,this.gR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.UR=function(){this.hR.Hs(Zo.lf,this.Vs),this.hR.Hs(Zo.df,this.Vs),this.hR.Hs(Zo.If,this.TR),this.hR.Hs(Zo.wf,this.Vs),this.hR.Hs(Zo.cf,this.Vs),this.hR.Hs(Zo.mf,this.Vs),this.hR.Hs(Zo.pf,this.ER),this.hR.Hs(Zo.ef,this.Vs),this.hR.Hs(Zo.yf,this.Vs),this.hR.Hs(Zo.Cf,this.Vs),this.hR.Hs(Zo.if,this.Vs),this.hR.Hs(Zo._f,this.IR),this.hR.Hs(xd.Vw,this.SR),this.hR.Hs(td.Zl,this.kR),this.hR.Hs(Zo.Za,this.Vs),this.hR.Hs(Zo.Qa,this.LR),this.hR.FR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.RR)},r.ZR=function(){this.hR.$s(Zo.lf,this.Vs),this.hR.$s(Zo.df,this.Vs),this.hR.$s(Zo.If,this.TR),this.hR.$s(Zo.wf,this.Vs),this.hR.$s(Zo.cf,this.Vs),this.hR.$s(Zo.mf,this.Vs),this.hR.$s(Zo.pf,this.ER),this.hR.$s(Zo.ef,this.Vs),this.hR.$s(Zo.yf,this.Vs),this.hR.$s(Zo.Cf,this.Vs),this.hR.$s(Zo.if,this.Vs),this.hR.$s(Zo._f,this.IR),this.hR.$s(xd.Vw,this.SR),this.hR.$s(td.Zl,this.kR),this.hR.$s(Zo.Za,this.Vs),this.hR.$s(Zo.Qa,this.LR),this.hR.FR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.RR)},r.jR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Yc:ae,nI:[{initDataTypes:[ae.hs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.qR=function(){var t=this.hR.FR.audioTracks,n=this.hR.FR.videoTracks;t&&(t.addEventListener("addtrack",this.CR),t.addEventListener("removetrack",this.AR),t.addEventListener("change",this.DR)),n&&(n.addEventListener("addtrack",this.OR),n.addEventListener("removetrack",this.xR),n.addEventListener("change",this.PR))},r.tI=function(){var t=this.hR.FR.audioTracks,n=this.hR.FR.videoTracks;t&&(t.removeEventListener("addtrack",this.CR),t.removeEventListener("removetrack",this.AR),t.removeEventListener("change",this.DR)),n&&(n.removeEventListener("addtrack",this.OR),n.removeEventListener("removetrack",this.xR),n.removeEventListener("change",this.PR))},r.NR=function(t){for(var n=0;n<t.Fl;n++){t.Dl(n).F_()}},r.l_=function(){this.hR.l_()},r.bR=function(t,n){this.dR||(this.dR=n,this.lR=t,this.qs(new Qd(t)))},W(i,[{key:"KR",get:function(){var t=this.hR.w_,n=this.qw;return t.iI(n,.01)}},{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.hR.w_.rI()}},{key:"y_",get:function(){return this.hR.y_},set:function(t){t&&this.hR.eI(t)}},{key:"qw",get:function(){return void 0!==this.pR?this.pR:this.hR.qw},set:function(t){this.__&&(this.pR=t),this.hR.gc(t)}},{key:"Hw",get:function(){return this.hR.Hw}},{key:"jw",get:function(){return this.hR.jw}},{key:"ic",get:function(){return this.dR}},{key:"Ww",get:function(){return this.lR}},{key:"Kg",get:function(){}},{key:"__",get:function(){return this.hR.__}},{key:"Lg",get:function(){return Hr({},{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.hR.uI())}},{key:"zw",get:function(){return this.hR.zw},set:function(t){this.hR.zw=t}},{key:"S_",get:function(){return!0}},{key:"$w",get:function(){return this.hR.$w}},{key:"Xw",get:function(){return this.hR.Xw},set:function(t){this.hR.Xw=t}},{key:"R_",get:function(){return this.hR.FR.played}},{key:"I_",get:function(){return this.wR},set:function(t){this.wR=t,this.vR&&(this.vR.I_=t)}},{key:"uw",get:function(){return this.hR.uw}},{key:"C_",get:function(){return this.hR.C_.rI()}},{key:"Gw",get:function(){return this.hR.Gw}},{key:"oI",get:function(){return this.hR.oI}},{key:"Yg",get:function(){return this.jg}},{key:"Gg",get:function(){return this.Hg}},{key:"Yw",get:function(){return this.hR.Yw}},{key:"Kw",get:function(){return this.hR.Kw}},{key:"Jw",get:function(){return this.hR.Jw},set:function(t){this.hR.Jw=t}},{key:"sI",get:function(){return this.mR}}]),i}(cd);var jp=function(){function t(){this.cI=Np.XS}var n=t.prototype;return n.HE=function(t,n,i,r,e,u){return new Hp(t,n,i,r,e)},n.aI=function(t,n){return function(t){return!t.type||!(!qp().canPlayType||!qp().canPlayType(t.type))}(t)},n.fI=function(){return!1},t}();function Wp(t,n){for(var i=0,r=t.Ll;i<r.length;i++){var e=r[i];if(e.U_===n)return e}}var zp=function(){function t(){this.hI=new jp,this.vI=[]}t.dI=function(){return this.Ze};var n=t.prototype;return n.lI=function(t){this.vI.push(t)},n.HE=function(t,n,i,r,e,u){for(var o=this.hI.HE(t,n,i,r,e,u),s=0,c=this.vI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n.aI=function(t,n){return this.hI.aI(t,n)},n.fI=function(){return!1},W(t,[{key:"cI",get:function(){return this.hI.cI}}]),t}();function $p(t,n){return al(t.cI,n.cI)}zp.Ze=new zp;var Xp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).wI=zp.dI(),n}$(n,t);var i=n.prototype;return i.yI=function(t){this.wI=t},i.gI=function(){return this.wI},i._I=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.pI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{mI:e,kI:u});case 8:r++,t.next=1;break;case 11:o=this.wI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.aI(c,i)){t.next=17;break}return t.abrupt("return",{mI:c,kI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{mI:n[0],kI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.bI=[]}var n=t.prototype;return n.TI=function(t){this.bI.push(t),this.bI.sort($p)},n.pI=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.bI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!vt(o=u.aI(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Xp.Ze=new Xp;var Gp,Yp=function(){function t(t){var n,i;this.EI=void 0,this.EI=R&&R.document&&R.document.createElement("div"),n=this.EI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.EI)}return t.prototype.sr=function(){mr(this.EI)},t}();function Kp(t){switch(t){case Gp.SI:case"":return Gp.SI;case Gp.km:return Gp.km;case Gp.RI:default:return Gp.RI}}!function(t){t.XS="",t.RI="none",t.km="metadata",t.SI="auto"}(Gp||(Gp={}));var Jp=[td.Zl,Zo.rf,Zo.rc,Zo.Nf,Zo.Ga,Zo.uf,Zo.hf,Zo.vf,Zo.bf,Zo.Ef,xd.Lw,xd.Fw,xd.Mw,xd.Bw,xd.ml,xd.Uw,xd.Vw,Zo.Qa,Zo.Za,Zo.if,Zo.ef,Zo.cf,Zo.af,Zo.lf,Zo.wf,Zo.df,Zo.yf,Zo._f,Zo.mf,Zo.pf,Zo.If,Zo.Cf,Zo.gf,Zo.ff,Zo.kf],Qp=function(t){function n(n,i){var r;return(r=t.call(this)||this).II=void 0,r.CI=void 0,r.AI=void 0,r.DI=void 0,r.wR=Gp.RI,r.NI=void 0,r.OI=!0,r.qg=new nd,r.Hg=new nd,r.jg=new sd,r.Wg=new Dl,r.II=n,r.AI=i,r.AI.I_=r.I_,r.xI(),r}$(n,t);var i=n.prototype;return i.nr=function(){this.AI.nr()},i.tr=function(){var t=this.AI.tr();vt(t)&&Ve(t)},i.Jg=function(){return this.Zg(void 0)},i.hr=function(){},i.f_=function(t){return!1},i.xI=function(){this.qg.Hl=this.AI.Xg,this.Hg.Hl=this.AI.Gg,this.jg.Hl=this.AI.Yg,this.Wg.Hl=this.AI.Kg,this.AI.Hs(Jp,this.Vs)},i.LI=function(){this.AI.$s(Jp,this.Vs),this.qg.Hl=void 0,this.Hg.Hl=void 0,this.jg.Hl=void 0,this.Wg.Hl=void 0},i.Qg=function(){return this.NI},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(i),this.NI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Id(r=n.sources.filter(Od))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.II._I(r,n);case 9:if(e=t.sent,xe(i),u=e.mI,o=e.kI,s=this.c_(),c=nl(this),this.CI===o&&!this.ic){t.next=25;break}return this.LI(),t.next=19,this.AI.sr();case 19:xe(i),this.CI=o,this.AI=this.FI(o),Zp(this.AI,c),il(this,c,this),this.xI();case 25:return this.AI.I_=this.I_,this.OI?this.AI.u_():this.AI.o_(),t.next=29,this.AI.Zg(u,n,i);case 29:xe(i),this.MI(u),this.c_()!==s&&this.qs(new fd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MI=function(t){this.DI!==t&&(this.DI=t,this.qs(new hd(t)))},i.t_=function(){return this.AI.t_()},i.n_=function(){this.AI.n_()},i.i_=function(){this.AI.i_()},i.c_=function(){return this.AI.c_()},i.l_=function(){this.AI.l_()},i.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NI=void 0,this.MI(void 0),t.next=4,this.AI.Pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),t.next=3,this.Pl();case 3:return t.next=5,this.AI.sr();case 5:this.qg.sr(),this.Hg.sr(),this.jg.sr(),this.Wg.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.u_=function(){this.OI=!0,this.AI.u_()},i.o_=function(){this.OI=!1,this.AI.o_()},W(n,[{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.AI.w_}},{key:"ic",get:function(){return this.AI.ic}},{key:"Ww",get:function(){return this.AI.Ww}},{key:"y_",get:function(){return this.AI.y_},set:function(t){this.AI.y_=t}},{key:"d_",get:function(){return this.DI}},{key:"qw",get:function(){return this.AI.qw},set:function(t){this.AI.qw=t}},{key:"Hw",get:function(){return this.AI.Hw}},{key:"jw",get:function(){return this.AI.jw}},{key:"Kg",get:function(){return this.Wg}},{key:"__",get:function(){return this.AI.__}},{key:"Lg",get:function(){return this.AI.Lg}},{key:"zw",get:function(){return this.AI.zw},set:function(t){this.AI.zw=t}},{key:"S_",get:function(){return this.AI.S_}},{key:"$w",get:function(){return this.AI.$w}},{key:"Xw",get:function(){return this.AI.Xw},set:function(t){this.AI.Xw=t}},{key:"R_",get:function(){return this.AI.R_}},{key:"I_",get:function(){return this.wR},set:function(t){this.wR=t,this.AI&&(this.AI.I_=this.wR)}},{key:"uw",get:function(){return this.AI.uw}},{key:"C_",get:function(){return this.AI.C_}},{key:"Gw",get:function(){return this.AI.Gw}},{key:"Yg",get:function(){return this.jg}},{key:"Yw",get:function(){return this.AI.Yw}},{key:"Gg",get:function(){return this.Hg}},{key:"Kw",get:function(){return this.AI.Kw}},{key:"Jw",get:function(){return this.AI.Jw},set:function(t){this.AI.Jw=t}},{key:"sI",get:function(){return this.AI.sI}}]),n}($e);function Zp(t,n){t.zw!==n.zw&&(t.zw=n.zw),t.Jw!==n.Jw&&(t.Jw=n.Jw),t.Xw!==n.Xw&&(t.Xw=n.Xw)}var tm,nm=function(t){function n(n,i){var r;return(r=t.call(this)||this).Fl=void 0,r.BI=void 0,r.UI=void 0,r.Fl=n.length>>1,r.BI=n,r.UI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Fl),r}$(n,t);var i=n.prototype;return i.VI=function(t){return this.BI[2*t]},i.qI=function(t){return this.UI[2*t]},i.HI=function(t){return this.BI[2*t+1]},i.jI=function(t){return this.UI[2*t+1]},W(n,[{key:"WI",get:function(){return this.BI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.vy=function(t,n){return 0===this.uy(t,n)},n.By=function(t,n){return this.uy(t,n)>0},n.Uy=function(t,n){return this.uy(t,n)>=0},n.ly=function(t,n){return this.uy(t,n)<0},n.ay=function(t,n){return this.uy(t,n)<=0},n.eg=function(t,n){return this.ly(t,n)?t:n},n.rg=function(t,n){return this.By(t,n)?t:n},n.zI=function(t,n,i){return i?this.ay(t,n):this.ly(t,n)},n.rI=function(){var t=this;return{get length(){return t.Fl},start:function(n){var i=0|n;return t.$I(i),t.XI(t.VI(i))},end:function(n){var i=0|n;return t.$I(i),t.XI(t.HI(i))}}},n.GI=function(){for(var t=new Array(2*this.Fl),n=new Array(2*this.Fl),i=0;i<this.Fl;i++)t[2*i]=this.VI(i),t[2*i+1]=this.HI(i),n[2*i]=!0,n[2*i+1]=!0;return this.YI(t,n)},n.$I=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Fl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Fl+")")},n.KI=function(t){if(0===this.Fl)return this.JI();if(this.iI(t))return t;if(this.ay(t,this.VI(0)))return this.VI(0);if(this.Uy(t,this.HI(this.Fl-1)))return this.HI(this.Fl-1);for(var n,i=this.QI(),r=0;r<this.Fl;r++){var e=this.VI(r),u=this.hy(e,t);this.ly(u,i)&&(n=e,i=u);var o=this.HI(r),s=this.hy(this.HI(r),t);this.ly(s,i)&&(n=o,i=s)}return n},n.ZI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Fl&&i<t.Fl;){var u=this.VI(n),o=this.HI(n),s=this.qI(n),c=this.jI(n),a=t.VI(i),f=t.HI(i),h=t.qI(i),v=t.jI(i),d=this.rg(u,a),l=this.eg(o,f),w=void 0;w=this.vy(u,a)?s&&h:this.vy(d,u)?s:h;var y=void 0;y=this.vy(o,f)?c&&v:this.vy(l,o)?c:v,(this.ly(d,l)||w&&y&&this.vy(d,l))&&(r.push(d,l),e.push(w,y));var g=this.uy(this.HI(n),t.HI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.YI(r,e)},n.tC=function(){var t=this.nC(),n=t.Fl;if(0===n)return this.YI([t.iC(),t.QI()],[!1,!1]);var i=[],r=[],e=t.VI(0);t.vy(e,t.iC())||(i.push(t.iC(),e),r.push(!1,!t.qI(0)));for(var u=0;u<n-1;u++)i.push(t.HI(u),t.VI(u+1)),r.push(!t.jI(u),!t.qI(u+1));var o=t.HI(n-1);return t.vy(o,t.QI())||(i.push(o,t.QI()),r.push(!t.jI(n-1),!1)),t.YI(i,r)},n.rC=function(t){for(var n=0,i=0,r=this.Fl,e=t.Fl,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.VI(n),a=this.HI(n),f=t.VI(i),h=t.HI(i);this.ly(c,f)||this.vy(c,f)&&this.ly(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.qI(n),o[s+1]=this.jI(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.qI(i),o[s+1]=t.jI(i),i++),s+=2}for(;n<r;)u[s]=this.VI(n),u[s+1]=this.HI(n),o[s]=this.qI(n),o[s+1]=this.jI(n),n++,s+=2;for(;i<e;)u[s]=t.VI(i),u[s+1]=t.HI(i),o[s]=t.qI(i),o[s+1]=t.jI(i),i++,s+=2;return this.YI(u,o)},n.eC=function(t){void 0===t&&(t=this.JI());var n=this.Fl;if(n<2)return this;for(var i=[],r=[],e=this.VI(0),u=this.HI(0),o=this.qI(0),s=this.jI(0),c=1;c<n;c++){var a=this.VI(c),f=this.HI(c),h=this.qI(c),v=this.jI(c);this.ly(e,a)&&this.By(u,f)||(this.vy(e,a)&&(o=h=o||h),this.vy(u,f)&&(s=v=s||v),this.zI(a,this.py(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.YI(i,r).nC()},n.nC=function(){for(var t=[],n=[],i=0;i<this.Fl;i++){var r=this.VI(i),e=this.HI(i),u=this.qI(i),o=this.jI(i);this.vy(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.YI(t,n)},n.uC=function(t){return this.Fl?t.Fl?this.rC(t).eC():this:t},n.oC=function(t){var n=this.nC(),i=t.nC(),r=n.tC(),e=i.tC(),u=r.ZI(i),o=e.ZI(n);return u.uC(o)},n.yc=function(t){if(this.vy(t,this.JI()))return this;for(var n=[],i=[],r=0;r<this.Fl;r++){var e=this.py(this.VI(r),t),u=this.py(this.HI(r),t);n.push(e,u),i.push(this.qI(r),this.jI(r))}return this.YI(n,i)},n.sC=function(t){return 0===this.Fl||0===t.Fl?this:this.nC().ZI(t.nC().tC())},n.iI=function(t,n){return this.cC(t,n)>=0},n.aC=function(t,n,i,r,e){return this.fC(t,n,i,r,e)>=0},n.hC=function(t,n,i,r,e){return this.vC(t,n,i,r,e)>=0},n.dC=function(t){if(t.Fl!==this.Fl)return!1;for(var n=0;n<this.Fl;n++)if(!this.vy(this.VI(n),t.VI(n))||!this.vy(this.HI(n),t.HI(n))||this.qI(n)!==t.qI(n)||this.jI(n)!==t.jI(n))return!1;return!0},n.lC=function(t){for(var n=[],i=[],r=0;r<this.Fl;r++){var e=this.VI(r),u=this.HI(r),o=this.qI(r),s=this.jI(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.YI(n,i)},n.vC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.JI());for(var u=this._y(t,e),o=this.py(n,e),s=0;s<this.Fl;s+=1)if(this.zI(this.VI(s),o,!r||this.qI(s))&&this.zI(u,this.HI(s),!i||this.jI(s)))return s;return-1},n.fC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.JI());for(var u=this.py(t,e),o=this._y(n,e),s=0;s<this.Fl;s+=1)if(this.zI(this.VI(s),u,!i||this.qI(s))&&this.zI(o,this.HI(s),!r||this.jI(s)))return s;return-1},n.cC=function(t,n){return this.fC(t,t,!0,!0,n)},n.wC=function(t,n){void 0===n&&(n=this.JI());for(var i=this.py(t,n),r=this.Fl-1;r>=0;r-=1)if(this.zI(this.VI(r),i,this.qI(r)))return r;return-1},n.yC=function(t,n){void 0===n&&(n=this.JI());for(var i=this._y(t,n),r=0;r<this.Fl;r+=1)if(this.zI(i,this.HI(r),this.jI(r)))return r;return-1},n.gC=function(t){return this.$I(t),this.YI([this.VI(t),this.HI(t)],[this.qI(t),this.jI(t)])},n._C=function(t,n){var i=this.cC(t,n);return i<0?void 0:this.gC(i)},W(t,[{key:"pC",get:function(){for(var t=this.JI(),n=0;n<this.Fl;n++){var i=this._y(this.HI(n),this.VI(n));t=this.py(t,i)}return t}}]),t}()),im=function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.uy=function(t,n){return t<n?rl.ty:t===n?rl.Qw:rl.Zw},i.py=function(t,n){return t+n},i._y=function(t,n){return t-n},i.hy=function(t,n){return w.abs(t-n)},i.JI=function(){return 0},i.QI=function(){return 1/0},i.iC=function(){return-1/0},n.mC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.kC=function(t){for(var i=[],r=[],e=0;e<t.Fl;e++)i.push(t.VI(e).sg),i.push(t.HI(e).sg),r.push(t.qI(e)),r.push(t.jI(e));return new n(i,r)},n.bC=function(t){return new n([t,t],[!0,!0])},i.YI=function(t,i){return new n(t,i)},i.XI=function(t){return t},n.TC=function(){return rm},n}(nm),rm=new im([]);!function(t){t._l="fullscreenchange",t.EC="fullscreensupportchange",t.Zl="fullscreenerror"}(tm||(tm={}));var em=function(t){function n(){return t.call(this,tm.Zl)||this}return $(n,t),n}(Ge),um=new(function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.W_=function(){this.qs(new em)},i.X_=function(){},i.sr=function(){this.zs()},W(n,[{key:"SC",get:function(){return!1}},{key:"RC",get:function(){return!1}}]),n}($e)),om=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fR=void 0,n.hR=void 0,n}$(n,t);var i=n.prototype;return i.s_=function(){var t;return null==(t=this.hR)?void 0:t.FR},i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:if(!this.hR){n.next=6;break}return n.next=5,this.fR.er(this.hR);case 5:this.hR=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"IC",set:function(t){this.fR=t,this.hR=t.Zi(Fl.Ov)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).CC=0,n.AC=!1,n.DC=!0,n.NC=1,n.OC=!1,n.xC=1,n.Xg=new Ml,n.w_=im.TC().rI(),n.Hw=NaN,n.jw=!1,n.ic=void 0,n.Ww=void 0,n.Kg=void 0,n.__=!1,n.S_=!0,n.R_=im.TC().rI(),n.I_=Gp.RI,n.uw=_d.Dw,n.C_=im.TC().rI(),n.oI=void 0,n.Yg=new Sy,n.Yw=0,n.Gg=new Ml,n.Kw=0,n.mR=new Mp,n}$(n,t);var i=n.prototype;return i.u_=function(){},i.o_=function(){},i.tr=function(){this.DC&&(this.DC=!1,this.qs(new Fd(this.qw)),this.qs(new ig(this.qw)))},i.nr=function(){this.DC||(this.DC=!0,this.qs(new jd(this.qw,this.y_)),this.qs(new Ld(this.qw)))},i.Zg=function(t,n){return A.resolve()},i.t_=function(){return!1},i.n_=function(){},i.i_=function(){},i.c_=function(){return um},i.l_=function(){},i.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.CC=0,this.OC=!1,this.nr(),this.qs(new Pd(this.CC));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.zs(),this.Xg.sr(),this.Yg.sr(),this.Gg.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"y_",get:function(){},set:function(t){}},{key:"qw",get:function(){return this.CC},set:function(t){this.CC!==t&&(this.CC=t,this.OC=!0,this.qs(new $d(this.qw)))}},{key:"Lg",get:function(){return{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"zw",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.AC=t,this.qs(new Gd(this.qw,this.Jw)))}},{key:"$w",get:function(){return this.DC}},{key:"Xw",get:function(){return this.NC},set:function(t){this.NC!==t&&(this.NC=t,this.qs(new Hd(this.qw,this.Xw)))}},{key:"Gw",get:function(){return this.OC}},{key:"Jw",get:function(){return this.xC},set:function(t){this.xC!==t&&(this.xC=t,this.qs(new Gd(this.qw,this.Jw)))}},{key:"sI",get:function(){return this.mR}}]),n}($e)),sm=function(t){function n(n,i,r,e,u,o){var s,c=new om;return(s=t.call(this,Xp.Ze,c)||this).ma=void 0,s.LC=void 0,s.FC=void 0,s.MC=void 0,s.FT=void 0,s.BC=void 0,s.UC=void 0,s.FC=n,s.ma=i,s.FT=r,s.BC=e,s.MC=o,s.LC=new T(u,s.MC),s.LC.ur(s.FC),c.IC=s.LC,s.UC=new Yp(s.FC),s}$(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.LC.Qi()},i.r_=function(t){var n,i,r,e;n=this,r=(i=t).Jw,e=i.zw,n.Jw=r,n.zw=e},i.e_=function(){},i.FI=function(t){return t.HE(this.FC,this.LC,this.FT,this.ma,this.BC,this.MC)},i.s_=function(){return this.AI.s_()},i.a_=function(){return this.LC.Ji.map(function(t){return t.FR})},i.Ws=function(n){t.prototype.Ws.call(this,n)},i.Ys=function(n){t.prototype.Ys.call(this,n)},i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.LC.sr(),this.UC.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"g_",get:function(){return this.FC}}]),n}(Qp),cm=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FC=void 0,e.VC=void 0,e.qC=void 0,e.HC=void 0,e.jC=void 0,e.FC=n,e.VC=i,e.HC=new Ml,e.jC=new Sy,e.qC=r,e}$(n,t);var i=n.prototype;return i.f_=function(t){return!0},i.o_=function(){},i.tr=function(){throw this.qs(new Qd(this.qC)),this.VC},i.nr=function(){},i.Qg=function(){},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw xe(i),this.qs(new Qd(this.qC)),this.VC;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.u_=function(){},i.Jg=function(){return A.resolve()},i.s_=function(){},i.c_=function(){return um},i.a_=function(){return[]},i.hr=function(){},i.r_=function(t){},i.e_=function(){},i.t_=function(){return!1},i.n_=function(){},i.i_=function(){},i.l_=function(){},i.Pl=function(){return A.resolve()},i.sr=function(){return this.zs(),this.HC.sr(),this.jC.sr(),A.resolve()},W(n,[{key:"Xg",get:function(){return this.HC}},{key:"w_",get:function(){return im.TC().rI()}},{key:"y_",get:function(){return new Date(NaN)},set:function(t){}},{key:"d_",get:function(){}},{key:"qw",get:function(){return 0},set:function(t){}},{key:"Hw",get:function(){return 0}},{key:"g_",get:function(){return this.FC}},{key:"jw",get:function(){return!0}},{key:"ic",get:function(){return this.VC}},{key:"Ww",get:function(){return this.qC}},{key:"Kg",get:function(){}},{key:"Lg",get:function(){return{p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"zw",get:function(){return!1},set:function(t){}},{key:"S_",get:function(){return!0}},{key:"$w",get:function(){return!0}},{key:"Xw",get:function(){return 0},set:function(t){}},{key:"R_",get:function(){return im.TC().rI()}},{key:"I_",get:function(){return Gp.RI},set:function(t){}},{key:"uw",get:function(){return _d.Dw}},{key:"C_",get:function(){return im.TC().rI()}},{key:"Gw",get:function(){return!1}},{key:"Yg",get:function(){return this.jC}},{key:"Yw",get:function(){return 0}},{key:"Gg",get:function(){return this.HC}},{key:"Kw",get:function(){return 0}},{key:"Jw",get:function(){return 1},set:function(t){}},{key:"__",get:function(){return!1}}]),n}(ad);function am(t){if(t&&ct(t))return Hr({},t,{integration:fm(t.integration),fairplay:gm(t.fairplay),widevine:hm(t.widevine),playready:vm(t.playready),clearkey:_m(t.clearkey),aes128:pm(t.aes128),integrationParameters:mm(t.integrationParameters),preferredKeySystems:km(t.preferredKeySystems)})}function fm(t){if(ft(t))return t}function hm(t){if(t&&ct(t))return{persistentState:dm(t.persistentState),distinctiveIdentifier:dm(t.distinctiveIdentifier),audioRobustness:lm(t.audioRobustness),videoRobustness:lm(t.videoRobustness),licenseAcquisitionURL:ft(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:wm(t.licenseType),headers:t.headers,useCredentials:!!ht(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ft(t.certificate)||Qu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:ym(t.certificateRequestProcessor),certificateResponseProcessor:ym(t.certificateResponseProcessor),licenseRequestProcessor:ym(t.licenseRequestProcessor),licenseResponseProcessor:ym(t.licenseResponseProcessor)}}function vm(t){if(t){var n=hm(t);if(n)return Hr({},n,{customData:ft(t.customData)?t.customData:void 0})}}function dm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function lm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function wm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function ym(t){if("function"==typeof t)return t}function gm(t){if(t){var n=hm(t);if(n)return Hr({},n,{certificateURL:ft(t.certificateURL)?t.certificateURL:void 0})}}function _m(t){if(t){var n=hm(t);if(n)return Hr({},n,{keys:ot(t.keys)?t.keys.map(function(t){return function(t){if(!t||!ct(t))return;var n=t.id,i=t.value;if(!ft(n)||!ft(i))return;return{id:n,value:i}}(t)}).filter(ut):void 0})}}function pm(t){if(ct(t))return{useCredentials:ht(t.useCredentials)?t.useCredentials:void 0}}function mm(t){if(ct(t))return t}function km(t){return t&&ot(t)?t.map(function(t){return Qg(t)}).filter(ut):[re,ne,ue]}var bm,Tm=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return $(n,t),n}(Ge),Em=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).WC=[],r.zC=void 0,r.$C=function(t){Ue(function(){r.Vs(t)})},r.zC=i?r.$C:r.Vs,r}$(n,t);var i=n.prototype;return i.XC=function(t){t.Ws(this.zC),this.WC.push(t)},i.GC=function(t){t.Ys(this.zC),Se(this.WC,t)},i.sr=function(){this.zs();for(var t=0,n=this.WC;t<n.length;t++){n[t].Ys(this.zC)}Ce(this.WC)},n}(cd),Sm=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Em);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(bm||(bm={}));var Rm,Im=function(t){function i(n){var i;return(i=t.call(this)||this).YC=void 0,i.KC=void 0,i.JC=!1,i.QC=!1,i.ZC=void 0,i.tA=void 0,i.nA=void 0,i.il=void 0,i.iA=function(){return i.rA()},i.eA=function(){return i.uA()},i.nA=n,i.YC=i.KC=i.ZC=i.tA=bm.INLINE,i.nA.Hs(tm._l,i.iA),i.nA.Hs(tm.Zl,i.eA),i.oA(),i}$(i,t);var r=i.prototype;return r.ol=function(){return t=this,i={get currentMode(){return t.sA()},requestMode:function(n){var i=Am(n);i&&t.cA(i)},supportsMode:function(n){var i=Am(n);return!!i&&t.aA(i)},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},(n=new Em(i,!0)).XC(t),i;var t,n,i},r.cA=function(t){this.fA(t,t)},r.fA=function(t,n){this.KC!==n&&(this.JC=!0,this.YC=t,this.hA(n,this.KC),t!==bm.FULLSCREEN&&(this.ZC=t),this.JC=!1,this.oA())},r.sA=function(){return this.QC?bm.FULLSCREEN:bm.INLINE},r.aA=function(t){switch(t){case bm.FULLSCREEN:return this.nA.RC;case bm.INLINE:return!0}return!1},r.oA=function(){if(!this.JC){var t=this.KC,n=this.sA();this.KC=n,n!==bm.FULLSCREEN&&(this.tA=n),t!==n&&this.qs(new Tm(n))}},r.hA=function(t,n){var i=t===bm.FULLSCREEN;this.QC=i,i!==this.nA.SC&&(i?this.nA.W_():this.nA.X_())},r.rA=function(){if(!this.JC){var t=this.nA.SC;this.QC=t,t?this.fA(bm.FULLSCREEN,bm.FULLSCREEN):t||this.YC!==bm.FULLSCREEN?this.oA():this.fA(this.ZC,this.tA)}},r.uA=function(){this.rA(),this.qs(new Qd(new xo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.nA.sr(),this.zs()},W(i,[{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}}]),i}(cd),Cm={qw:0,Hw:NaN,jw:!1,ic:void 0,Ww:void 0,zw:!1,$w:!0,Xw:1,uw:_d.Dw,Gw:!1,Yw:0,Kw:0,Jw:1};function Am(t){switch(t){case bm.INLINE:case bm.FULLSCREEN:case bm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Rm||(Rm={}));var Dm,Nm,Om,xm,Pm,Lm,Fm,Mm,Bm=function(){function t(){this.vA=[]}var n=t.prototype;return n.dA=function(t){var n=this.lA.filter(function(n){return n.wA(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.yA=function(t){this.vA.push(t)},W(t,[{key:"lA",get:function(){return this.vA}}]),t}();Bm.Ze=new Bm,function(t){t.Vw="PLAYING",t.Mg="PAUSED",t.gA="SEEK",t._A="STALLED",t.pA="FAILED",t.mA="INITIAL_BUFFERING",t.kA="NO_ACCESS"}(Dm||(Dm={})),function(t){t.bA="HTTP_REQUEST_STATUS_CODE_1XX",t.TA="HTTP_REQUEST_STATUS_CODE_2XX",t.EA="HTTP_REQUEST_STATUS_CODE_3XX",t.SA="HTTP_REQUEST_STATUS_CODE_4XX",t.RA="HTTP_REQUEST_STATUS_CODE_5XX",t.IA="BUFFER_LENGTH",t.CA="BYTES_RECEIVED",t.AA="SEGMENT_READ_BITRATE",t.DA="SEGMENT_PROFILE_BITRATE",t.NA="NUMBER_OF_FRAMES_DROPPED",t.OA="PLAYBACK_POSITION",t.xA="NUMBER_OF_FRAMES_DECODED",t.PA="PLAYBACK_DELTA_TO_ORIGIN",t.LA="STREAM_DELTA_TO_ORIGIN",t.FA="ORIGIN_TIMESTAMP"}(Nm||(Nm={})),function(t){t.MA="MANIFEST_URI",t.BA="ASSET_DURATION",t.UA="NUMBER_OF_CONTENT_PROFILES",t.VA="CDN",t.qA="CONTENT_TITLE",t.HA="SERVICE_NAME",t.jA="CONTENT_TYPE",t.WA="CONTENT_DESCRIPTION"}(Om||(Om={})),function(t){t.zA="shutdown_normal_shutdown"}(xm||(xm={})),function(t){t.$A="session/",t.XA="internalError/",t.GA="drmError/",t.YA="caError/",t.KA="networkError/"}(Pm||(Pm={})),function(t){t.JA="userAction",t.QA="endOfStreamReached"}(Lm||(Lm={})),function(t){t.PAUSE="ZA",t.RESUME="tD"}(Fm||(Fm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Mm||(Mm={}));var Um,Vm,qm,Hm,jm,Wm="agama";function zm(t){return function(t){switch(t){case Um.NONE:case Um.HORIZONTAL:case Um.VERTICAL:return!0;default:return!1}}(t)?t:Um.NONE}function $m(t){switch(t){case"":return Um.NONE;case"horizontal":return Um.HORIZONTAL;case"vertical":return Um.VERTICAL;default:throw new d}}function Xm(t){if(!t||!ft(t))return Vm.SI;switch(t){case"always":return Vm.nD;case"never":return Vm.iD;default:return Vm.SI}}function Gm(t){if(!t||!ft(t))return qm.SI;switch(t){case"playlist":return qm.rD;case"media":return qm.eD;default:return qm.SI}}function Ym(t){if(null!==t)return t}function Km(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Ym(t.streamActivityMonitorID),adTagParameters:ct(t.adTagParameters)?t.adTagParameters:{},authToken:Ym(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?Hr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void N.bo("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.bo("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Hr({},i,{availabilityType:"live",assetKey:u}):void N.bo("A Live DAI configuration was provided without valid assetKey which is required.")}N.bo("A DAI configuration was provided without a valid availabilityType which is required.")}function Jm(t){if(!Wg(t)||!t.integration)return t;switch(t.integration){case hg:return n=t,i=Jg(Jr.us,n),r=Jg(Jr.es,n),e=n[Jr.os]&&Jg(Jr.os,n),Hr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function Qm(t){if(!t)return!0;var n,i,r=!(Rd(n=t.sources)||st(n)&&Rd(n[0]))||Id(t.sources),e=!t.ads||(!(i=t.ads)||ot(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function Zm(t){if(t&&t.sources)return function t(n){if(ft(n))return n;if(Sd(n))return n.src;if(st(n)&&n.length>0)return t(n[0]);return}(t.sources)}function tk(t,n,i){return Td(t)?function(t,n,i){var r=Hr({},Cd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Hm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:jm.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,ft(e)?e:st(e)&&ft(e[0])?e:ct(u=e)&&ft(u.userId)&&(st(u.externalId)||ft(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return jm.CHANNEL;case"event":return jm.EVENT;case"asset":default:return jm.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Hv(t.contentProtected));t.assetInfo?r.assetInfo=Hv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!ht(s.adImpressions)&&s.adImpressions,a=!!ht(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=ht(s.linearAdData)?s.linearAdData:o!==jm.ASSET):o!==jm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=ik(r=nk(r,t),n,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Ad(),e=n&&(n.contentProtection||n.drm);if(ft(t)){if(r.src=t,r.type=kd(t),e){var u=am(e);r.contentProtection=Jm(u)}}else if(Sd(t)||bd(t)){r.src=t.src,r.type=t.type||kd(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===wd.Cw||t.type===wd.Aw}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=am(s);r.contentProtection=Jm(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return Km(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=nk(r,t)}return r=ik(r,n,i)}(t,n,i)}function nk(t,n){var i;n.useCredentials?t.crossOrigin=ld.Rw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ld.Sw:case ld.Rw:return t;default:return ld.Ew}}(n.crossOrigin)),ft(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Hv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Hv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Xm(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Gm(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Hv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Hv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function ik(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!ut(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ut(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ld.Ew&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ld.Sw),t.useCredentials=t.crossOrigin===ld.Rw,ft(e)&&!t.timeServer&&(t.timeServer=e),t}function rk(t){var n={src:""};if(t&&t.src){if(n.src=zv(t.src),"default"in t&&(n.default=Hv(t.default)),n.kind=Cy(t.kind),function(t){switch(t){case Yl.DEFAULT:case Yl.SRT:case Yl.TTML:case Yl.WEBVTT:case Yl.EMSG:case Yl.EVENT_STREAM:case Yl.ID3:case Yl.CEA608:case Yl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ek(t,n){if(at(t))try{return n.dA(t).uD(t)}catch(t){return}}function uk(t){return ft(t.sources)&&""!==t.sources||ct(t.sources)&&ft(t.sources.src)}function ok(t){return t.integration===Rm.SPOTX&&!_(t.id)}function sk(t){return"freewheel"===t.integration}function ck(t,n,i){if(void 0===i&&(i=Bm.Ze),Qm(t))return{sources:[Ad()]};var r=Bv(t);if(r.sources=function(t,n,i){if(Rd(t))return[tk(t,n,i)];if(st(t)&&Rd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(tk(u,n,i))}return r}return[Ad()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!st(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=ek(u,n))&&(uk(u)||ok(u)||sk(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Id(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=rk(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=zv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=zm(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?$m(o.stereoMode):Um.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Nd(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Bv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Wm&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Zd(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Um||(Um={})),function(t){t.SI="auto",t.nD="always",t.iD="never"}(Vm||(Vm={})),function(t){t.SI="auto",t.rD="playlist",t.eD="media"}(qm||(qm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Hm||(Hm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(jm||(jm={}));var ak=function(){function t(t){this.oD=t}return t.prototype.sD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.oD.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.oD.indexOf(t.charAt(n))<<18|this.oD.indexOf(t.charAt(n+1))<<12|(u=this.oD.indexOf(t.charAt(n+2)))<<6|(o=this.oD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.cD=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.oD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.oD.charAt(r)+this.oD.charAt(e)+this.oD.charAt(u)+this.oD.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Np=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.aD=new t(t.Np.sD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function fk(t){return"string"==typeof t}function hk(t){return"number"==typeof t}var vk={}.toString;var dk,lk=Array.isArray||function(t){return"[object Array]"===vk.call(t)};function wk(t,n){return lk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(dk||(dk={}));var yk,gk=l.keys(dk).map(function(t){return dk[t]});function _k(t){return-1!==gk.indexOf(t)}function pk(t){try{var n=ak.aD.sD(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=fk(t.key),r=fk(t.customer_id),e=hk(t.generation_date),u=hk(t.expiration_date),o=wk(t.domains_page,fk),s=wk(t.domains_source,fk),c=wk(t.sdks,_k),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function mk(){return yk||(yk={gv:I.href,fD:R.parent&&R.parent!==e,hD:Tk()}),yk}var kk,bk=["http:","https:","ftp:","ws:","wss:"];function Tk(){try{return R.top.location.href}catch(t){return R&&R.document&&R.document.referrer}}!function(t){t[t.vD=0]="vD",t[t.dD=1]="dD",t[t.lD=2]="lD"}(kk||(kk={}));var Ek,Sk=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.wD=t,this.yD=n,this.gD=i,this._D=r,this.pD=e,this.mD=u,this.kD=o,this.bD=s};!function(t){t.dD="expired",t.TD="invaliddomain",t.ED="invalidsource",t.Zl="error"}(Ek||(Ek={}));var Rk=function(){function t(t,n,i){this.SD=void 0,this.RD=t,this.CD=n,this.DD=i,this.SD=Ok(this.DD)}var n=t.prototype;return n.ND=function(t,n){var i=this;if(!Qm(t)&&0!==n.gD.length&&!Ak(n.gD)){var r=[];if(Rd(t.sources)?r=[t.sources]:st(t.sources)&&(r=t.sources),!r.every(function(t){return i.OD(t,n)})){var e=Ek.ED,u=Pk.xD(e);throw new xo(Ik(e),u)}}},n.PD=function(n){return this.LD(n.kD)&&this.FD(n)?t.MD(n._D)?kk.vD:kk.dD:kk.lD},n.LD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.BD(t)})},n.BD=function(t){return"tvos"===function(t){switch(t){case dk.ANDROID:return H.kr;case dk.ANDROIDTV:case dk.FIRETV:return H.br;case dk.IOS:return H.Tr;case dk.TVOS:return H.Er;case dk.CHROMECAST:case dk.CHROMECASTCAF:return H.Sr;default:return H.mr}}(t)},t.MD=function(t){var n=Number(new Date);return!!t&&n<=t},n.FD=function(t){return!(this.SD&&0!==t.yD.length&&!Ak(t.yD))||!!(this.SD&&this.UD(t.yD)&&this.VD(t.yD))},n.UD=function(t){return Dk(this.DD.gv,t)},n.VD=function(t){if(!this.DD.fD)return!0;if(this.RD)return!0;var n=this.qD();return!!n&&Dk(n,t)},n.qD=function(){if(this.DD.fD){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.DD.hD?this.DD.hD:void 0}},n.OD=function(n,i){return!!t.HD(n,i.gD)},t.HD=function(t,n){return Dk(this.jD(t),n)},t.jD=function(t){return ft(t)?t:Sd(t)&&t.src||""},t}();function Ik(t){switch(t){case Ek.TD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ek.ED:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ek.dD:return n.ErrorCode.LICENSE_EXPIRED;case Ek.Zl:return n.ErrorCode.LICENSE_ERROR}}function Ck(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Ak(t){return t.some(function(t){return"*"===t})}function Dk(t,n){var i=N.Mo(t);if(!Nk(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ck(i.hostname,e))return!0;if(Ck(Hf(t),e))return!0}return!1}function Nk(t){return-1!==bk.indexOf(t.protocol)}function Ok(t){var n=N.Mo(t.gv);return Nk(n)&&!Ck(n.hostname,"localhost")&&!function(t){return Ck(t.hostname,"theoplayer.doubleclick.net")}(n)}var xk,Pk=function(){function t(){}return t.xD=function(t){return t===Ek.TD?this.WD:t===Ek.ED?this.zD:t===Ek.dD?this.$D:this.XD},t}();function Lk(t){var n=[t.Mb,t.GD,t.YD];switch(t.GD){case xk.KD:n.push(t.cw);break;case xk.JD:n.push(t.qw),n.push(t.ic);break;case xk.QD:n.push(t.ic)}return n}Pk.XD="The license for this player is invalid.",Pk.$D="The usage license for this video player has expired.",Pk.WD="The current domain is incompatible with the license for this player.",Pk.zD="The provided video source is incompatible with the license for this player.",function(t){t[t.KD=1]="KD",t[t.JD=4]="JD",t[t.QD=5]="QD"}(xk||(xk={}));for(var Fk=new Array(256),Mk=0;Mk<256;Mk+=1)Fk[Mk]=(Mk<16?"0":"")+Mk.toString(16);function Bk(){var t=tn(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return Fk[255&n]+Fk[n>>>8&255]+Fk[n>>>16&255]+Fk[n>>>24&255]+"-"+Fk[255&i]+Fk[i>>>8&255]+"-"+Fk[i>>>16&15|64]+Fk[i>>>24&255]+"-"+Fk[63&r|128]+Fk[r>>>8&255]+"-"+Fk[r>>>16&255]+Fk[r>>>24&255]+Fk[255&e]+Fk[e>>>8&255]+Fk[e>>>16&255]+Fk[e>>>24&255]}var Uk=function(){function t(t){this.oD=void 0,this.oD=t}var n=t.prototype;return n.sD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.oD.indexOf(t.charAt(n))<<18|this.oD.indexOf(t.charAt(n+1))<<12|(u=this.oD.indexOf(t.charAt(n+2)))<<6|(o=this.oD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.cD=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.oD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.oD.charAt(i)+this.oD.charAt(r)+this.oD.charAt(e)+this.oD.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function Vk(){return N.wo()}Uk.Np=new Uk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Uk.aD=new Uk(Uk.Np.sD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var qk,Hk="theoplayer-session-id";function jk(){if(!qk){var t=Yo.fc(Hk);t?qk=t:(qk=Bk(),Yo.$a(Hk,qk))}return qk}var Wk=/[^\x00-\x7E]/g;function zk(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var $k=0,Xk=1,Gk=6e4;function Yk(t){var n,i,r,e,u,o=(n=function(t){return[t.ZD,t.Xc,t.wD,t.Km,t.tN,t.nN,t.iN.map(Lk)]}(t),i=[],r=n,e=function(t,n){if(ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Wk,zk));return Uk.aD.cD(o)}var Kk=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=Uk.Np),void 0===e&&(e=$k),void 0===u&&(u=Xk),this.rN=[],this.eN=null,this.uN=0,this.oN="unknown",this.sN=0,this.cN=function(){Vk()-o.uN>Gk&&o.pr()},this.aN=function(){o.pr(!0)},this.oS=t,this.FT=n,this.fN=i,this.hN=r,this.vN=e,this.dN=u,S.wr(this.aN),f(this.cN,Gk)}var n=t.prototype;return n.lN=function(){return Boolean(this.tN)},n.wN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fN.yN();case 2:if(t.sent.bD){t.next=5;break}return t.abrupt("return");case 5:return i={GD:xk.KD,YD:tn(),cw:n},t.next=8,this.gN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._N=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={GD:xk.JD,YD:tn(),qw:i,ic:n},t.next=3,this.gN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.pN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={GD:xk.QD,YD:tn(),ic:n},t.next=3,this.gN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fN.yN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.hN.cD(i.wD)){t.next=6;break}if(n.GD===xk.QD){t.next=6;break}return t.abrupt("return");case 6:if(n.GD===xk.KD?this.mN():this.lN()||this.mN(),n.Mb=this.sN++,this.rN.push(n),(r=n.GD)!==xk.KD&&r!==xk.QD){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.rN.length>this.vN)){t.next=19;break}return t.next=17,this.kN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.rN.length>0)){t.next=6;break}return t.next=4,this.kN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.bN=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fN.yN();case 2:return i=t.sent,t.abrupt("return",{ZD:tn(),Xc:jk(),wD:this.hN.cD(i.wD)||"dev",Km:this.oS,tN:this.eN,nN:this.oN,iN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.kN=function(){var t=A.coroutine(qr.mark(function t(n){var i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.rN.splice(0,this.dN),t.next=4,this.bN(i);case 4:r=t.sent,n?this.Vv(r):this.TN(r),this.uN=Vk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.TN=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Yk(n),r=new Pf({gv:"https://license.theoplayer.com",Zh:i,Bv:!1,vv:ts.eu,hv:{"Content-Type":x_.lS},Lv:4e3,Pv:Af.POST}),t.prev=2,t.next=5,this.FT.wv(r);case 5:return e=t.sent,t.next=8,e.Kh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Vv=function(t){var n=Yk(t);this.FT.Vv({gv:"https://license.theoplayer.com",Zh:n,Qh:x_.lS})},n.mN=function(){this.lN()&&this.pr(),this.eN=Bk(),this.sN=0},n.sr=function(){S.yr(this.aN),this.pr()},W(t,[{key:"iN",get:function(){return this.rN}},{key:"tN",get:function(){return this.eN}}]),t}();var Jk=!it.Se&&!it.Le;function Qk(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Zk=function(){function t(t){this.kI=void 0,this.il=void 0,this.EN=void 0,this.kI=t}var n=t.prototype;return n.SN=function(t){if(!t||!t.drawImage)return!1;var n=this.kI.s_();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.RN=function(t,n,i,r,e,o){if(!t||!t.texImage2D)return!1;var s=this.kI,c=s.s_();if(!c)return!1;if(!Jk){this.EN||(this.EN=u.createElement("canvas"));var a=this.EN,f=a.getContext("2d"),h=s.Kw,d=s.Yw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===h&&w===d||(a.width=h,a.height=d),f.drawImage(c,0,0,h,d);var y=!1;h>0&&Qk(f,h-1,0)&&(a.width=l,y=!0),d>0&&Qk(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,h,d),c=a}try{t.texImage2D(n,i,r,e,o,c)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},W(t,[{key:"ul",get:function(){return this.il||(this.il=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.SN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.RN(n,i,r,e,u,o)}}));var t}}]),t}(),tb=function(t){function n(n,i){var r;return(r=t.call(this,"IN")||this).do=n,r.Ak=i,r}return $(n,t),n.prototype.ol=function(){return new nb(this.do,this.Ak)},n}(Tv),nb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return $(n,t),n}(Ge),ib=function(t,n){this.g_=void 0,this.CN=void 0,this.g_=t,this.CN=n},rb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).AN=void 0,r.DN=0,r.NN=0,r.ON=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.NN=n.width,r.DN=n.height,r.CN(r.NN,r.DN)}},r.AN=new R.ResizeObserver(r.ON),r.AN.observe(r.g_),r}return $(n,t),n.prototype.sr=function(){this.AN.disconnect()},W(n,[{key:"xN",get:function(){return this.DN}},{key:"PN",get:function(){return this.NN}}]),n}(ib),eb=0;var ub,ob=a,sb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,cb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function ab(){return ub||(ub=R&&R.document&&R.document.createElement("span")),ub}sb&&cb||(sb=function(t){var n=Vk(),i=w.max(0,16-(n-eb)),r=c(function(){return t(n+i)},i);return eb=n+i,r},cb=ob),sb=sb.bind(t),cb=cb.bind(t);var fb=["Webkit","Moz","O","ms"],hb=(function(){var t=!1;try{if(void 0!==R&&"function"==typeof R.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});R.addEventListener("testPassiveEventSupport",L,n),R.removeEventListener("testPassiveEventSupport",L,n)}}catch(t){}}(),Wr());function vb(t){return hb.has(t)||hb.set(t,function(t){var n=ab();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<fb.length;r++){var e=fb[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),hb.get(t)}function db(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function lb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[vb("transition")]="0s"}var wb=function(t){function n(n,i,r){var o;(o=t.call(this,n,i)||this).LN=void 0,o.FN=0,o.NN=NaN,o.DN=NaN,o.MN=void 0,o.BN=void 0,o.UN=void 0,o.VN=void 0,o.qN=void 0,o.Pl=function(){o.BN.style.width=1e5+"px",o.BN.style.height=1e5+"px",o.MN.scrollLeft=1e5,o.MN.scrollTop=1e5,o.UN.scrollLeft=1e5,o.UN.scrollTop=1e5,0===o.UN.scrollTop&&sb(o.Pl)},o.HN=function(){var t=o.PN,n=o.xN;o.CN(t,n),o.NN=t,o.DN=n,o.Pl(),o.FN=0},o.jN=function(){if(!o.FN){var t=o.PN,n=o.xN;t===o.NN&&n===o.DN||(o.FN=sb(o.HN))}},o.WN=function(){o.qN||(o.qN=c(o.zN,66))},o.zN=function(){o.qN=void 0,o.$N()},o.$N=function(){o.jN()};var s=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==s||(n.style.position="relative");var a,f=u.createElement("div");return o.LN=f,o.MN=u.createElement("div"),o.BN=u.createElement("div"),o.UN=u.createElement("div"),o.VN=u.createElement("div"),db(o.MN),db(o.UN),lb(o.BN),lb(a=o.VN),a.style.width="200%",a.style.height="200%",f.appendChild(o.MN),f.appendChild(o.UN),o.MN.appendChild(o.BN),o.UN.appendChild(o.VN),n.appendChild(f),o.MN.addEventListener("scroll",o.jN),o.UN.addEventListener("scroll",o.jN),e&&e.addEventListener("resize",o.WN),o.jN(),o}return $(n,t),n.prototype.sr=function(){cb(this.FN),this.FN=0,this.MN.removeEventListener("scroll",this.jN),this.UN.removeEventListener("scroll",this.jN),mr(this.LN),e&&e.removeEventListener("resize",this.WN)},W(n,[{key:"xN",get:function(){return this.g_.getBoundingClientRect().height||this.DN||0}},{key:"PN",get:function(){return this.g_.getBoundingClientRect().width||this.NN||0}}]),n}(ib),yb=function(t){function n(n){var i;return(i=t.call(this)||this).g_=void 0,i.AN=void 0,i.ON=function(t,n){i.qs(new tb(t,n))},i.g_=n,i}$(n,t);var i=n.prototype;return i.Zc=function(t){this.AN||("function"==typeof R.ResizeObserver?this.AN=new rb(this.g_,this.ON):this.AN=new wb(this.g_,this.ON,t))},i.sr=function(){this.zs(),this.AN&&(this.AN.sr(),this.AN=void 0)},W(n,[{key:"xN",get:function(){return this.AN?this.AN.xN:0}},{key:"PN",get:function(){return this.AN?this.AN.PN:0}}]),n}($e),gb=function(t){function n(){return t.call(this,tm._l)||this}return $(n,t),n}(Ge);!function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{XN:i[0],GN:i[1],YN:i[2],KN:i[3],JN:i[4],QN:i[5]}}}();var _b=function(t){function n(){return t.call(this,tm.EC)||this}return $(n,t),n}(Ge),pb=function(t){function n(n,i){var r;return(r=t.call(this)||this).kI=void 0,r.ZN=void 0,r.tO=void 0,r.nO=!1,r.iO=function(){return r.Hc()},r.iA=function(t){r.nO||r.qs(t)},r.kI=n,r.ZN=i,r.tO=um,r.rO(),r.kI.Hs(Zo.uf,r.iO),r.Hc(),r}$(n,t);var i=n.prototype;return i.W_=function(){this.ZN&&this.tO.W_()},i.X_=function(){this.tO.X_()},i.rO=function(){this.tO.Hs(tm._l,this.iA),this.tO.Hs(tm.Zl,this.Vs)},i.eO=function(){this.tO.$s(tm._l,this.iA),this.tO.$s(tm.Zl,this.Vs)},i.Hc=function(){var t=this.tO,n=this.kI.c_();if(t!==n){this.nO=!0;var i=this.SC,r=this.RC;i&&this.X_(),this.eO(),this.tO=n,this.rO(),i&&!this.SC&&this.RC?this.W_():this.X_(),this.nO=!1,r!==this.RC&&this.qs(new _b),i!==this.SC&&this.qs(new gb)}},i.sr=function(){this.zs(),this.eO(),this.kI.$s(Zo.uf,this.iO)},W(n,[{key:"RC",get:function(){return!!this.ZN&&this.tO.RC}},{key:"SC",get:function(){return this.tO.SC}}]),n}($e);function mb(t){var n;return{get url(){return t.gv},get method(){return t.Pv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},get useCredentials(){return t.Bv},get type(){return Sb(t.as)},get subType(){return Ib(t.Fv)},get mediaType(){return Ab(t.Mv)},get responseType(){return bb(t.vv)}}}function kb(t){switch(t.toLowerCase()){case"arraybuffer":return ts.Of;case"json":return ts.xf;case"stream":return ts.Pf;case"text":default:return ts.eu}}function bb(t){return t}function Tb(t){switch(t.toUpperCase()){case"POST":return Af.POST;case"PUT":return Af.PUT;case"DELETE":return Af.DELETE;case"HEAD":return Af.HEAD;case"OPTIONS":return Af.OPTIONS;case"GET":default:return Af.GET}}function Eb(t){switch(t.toLowerCase()){case"manifest":return Df.mv;case"segment":return Df.kv;case"content-protection":return Df.bv;default:return Df.pv}}function Sb(t){return t}function Rb(t){switch(t.toLowerCase()){case"initialization-segment":return Nf.Tv;case"fairplay-license":return Nf.Ev;case"fairplay-certificate":return Nf.Sv;case"widevine-license":return Nf.Rv;case"widevine-certificate":return Nf.Iv;case"playready-license":return Nf.Cv;case"clearkey-license":return Nf.Av;case"aes128-key":return Nf.Dv;default:return Nf.pv}}function Ib(t){return t}function Cb(t){switch(t.toLowerCase()){case"audio":return Of.Nv;case"video":return Of.Ov;case"text":return Of.eu;case"image":return Of.xv;case"":default:return Of.pv}}function Ab(t){return t}var Db=function(){function t(t,n){this.uO=new ro,this.oO=[],this.il=void 0,this.sO=!1,this.Qv=void 0,this.cO=0,this.aO=t,this.fO=n}var n=t.prototype;return n.Um=function(){this.sO=!0,this.uO.Ec(null)},n.hO=function(){this.uO.Sc(new cf(this.oO))},n.vO=function(t){if(!this.dO)throw new d("Cannot respond more than once");if(!ct(t))throw new d("Expected valid response");this.Qv=this.lO(t),this.Um()},n.wO=function(){try{var t=this.fO(this.ul);t?this.yO(t):this.gO||this._O||this.Um()}catch(t){this.oO.push(t),this.hO()}},n.yO=function(t){if(this._O)throw new v("Request has been redirected or a response already exists");if(vt(t))this.pO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new ro;try{var i=t(function(t){t?n.Sc(t):n.Ec(void 0)});vt(i)&&n.Ec(i)}catch(t){n.Sc(t)}this.pO(n.Tc)}},n.pO=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.cO++,t.next=4,n;case 4:this.cO--,this.gO||this._O||(this.oO.length?this.hO():this.Um()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.cO--,this.oO.push(t.t0),this.gO||this._O||this.hO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),W(t,[{key:"mO",get:function(){return this.uO.Tc}},{key:"ul",get:function(){return this.il||(this.il=this.kO()),this.il}},{key:"_O",get:function(){return this.sO}},{key:"dO",get:function(){return!this.sO}},{key:"gO",get:function(){return this.cO>0}},{key:"Zv",get:function(){return this.Qv}}]),t}(),Nb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).bO=void 0,e.bO=r,e.wO(),e}$(n,t),n.TO=function(t,n,i){var r=void 0===t.body?i:t.body;return new xf({xu:r,wv:n.wv,vv:n.wv.vv,hv:t.headers,fv:t.status,dv:t.statusText,yv:t.url,lv:!0},n)};var i=n.prototype;return i.kO=function(){return i=mb((t=this).wv),{get closed(){return!t.dO},get request(){return i},get url(){return t.gv},get status(){return t.fv},get statusText(){return t.dv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},respondWith:function(n){return t.vO(n)},waitUntil:function(n){return t.yO(n)}};var t,n,i},i.lO=function(t){return n.TO(t,this.aO,this.bO)},W(n,[{key:"Zh",get:function(){return this.bO}},{key:"hv",get:function(){return this.aO.hv}},{key:"wv",get:function(){return this.aO.wv}},{key:"Zv",get:function(){return this.Qv}},{key:"fv",get:function(){return this.aO.fv}},{key:"dv",get:function(){return this.aO.dv}},{key:"gv",get:function(){return this.aO.yv}}]),n}(Db),Ob=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).EO=void 0,e.SO=void 0,e.SO=r,e.wO(),e}$(n,t);var i=n.prototype;return i.kO=function(){return t=this,{get url(){return t.gv},get method(){return t.Pv},get headers(){return n||(n=t.hv.Lf()),n},get body(){return t.Zh},get closed(){return!t.dO},get useCredentials(){return t.Bv},get type(){return Sb(t.as)},get subType(){return Ib(t.Fv)},get mediaType(){return Ab(t.Mv)},get responseType(){return bb(t.vv)},redirect:function(n){return t.RO(n)},respondWith:function(n){return t.vO(n)},waitUntil:function(n){return t.yO(n)}};var t,n},i.lO=function(t){var n=this.aO.Zh,i=new xf({xu:n,hv:{},wv:this.aO,yv:this.aO.gv,vv:this.aO.vv,fv:200,dv:"OK"});return Nb.TO(t,i,n)},i.RO=function(t){if(!this.dO)throw new d("Cannot redirect, already redirected or has a response");var n;n=ft(t)?{url:t}:t,this.EO=function(t,n){return new Pf({gv:void 0===t.url?n.gv:t.url,Pv:void 0!==t.method?Tb(t.method):void 0,hv:t.headers,Zh:t.body,Bv:t.useCredentials,as:void 0!==t.type?Eb(t.type):void 0,Fv:void 0!==t.subType?Rb(t.subType):void 0,Mv:void 0!==t.mediaType?Cb(t.mediaType):void 0,vv:void 0!==t.responseType?kb(t.responseType):void 0},n)}(n,this.aO),this.Um()},W(n,[{key:"Zh",get:function(){return this.aO.Zh}},{key:"dO",get:function(){return this.SO&&!this.sO}},{key:"hv",get:function(){return this.aO.hv}},{key:"Pv",get:function(){return this.aO.Pv}},{key:"IO",get:function(){return this.EO}},{key:"Zv",get:function(){return this.Qv}},{key:"vv",get:function(){return this.aO.vv}},{key:"Lv",get:function(){return this.aO.Lv}},{key:"Fs",get:function(){return this.aO.Fs}},{key:"as",get:function(){return this.aO.as}},{key:"Fv",get:function(){return this.aO.Fv}},{key:"Mv",get:function(){return this.aO.Mv}},{key:"gv",get:function(){return this.aO.gv}},{key:"Bv",get:function(){return this.aO.Bv}},{key:"Uv",get:function(){return this.aO.Uv}}]),n}(Db);var xb,Pb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Lb(n);return(r=t.call(this,e,i)||this).CO=void 0,r.CO=e,r}$(n,t);var i=n.prototype;return i.AO=function(t){this.CO.AO(t)},i.DO=function(t){this.CO.DO(t)},i.NO=function(t){this.CO.NO(t)},i.OO=function(t){this.CO.OO(t)},i.xO=function(t){this.CO.xO(t)},n}(Ff),Lb=function(){function t(t){this.qv=void 0,this.PO=[],this.LO=[],this.qv=t}var n=t.prototype;return n.wv=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.FO(n,n.Fs);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof jf)){t.next=12;break}return t.next=11,this.MO(t.t0,n.Fs);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.BO(i,n.Fs);case 15:if(!Cf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new zf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Vv=function(t){return this.qv.Vv(t)},n.FO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:xe(i),r=n,u=0,o=this.PO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],xe(i),(c=new Ob(r,s,!e))._O){t.next=17;break}return t.prev=8,t.next=11,c.mO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.IO&&!e?r=c.IO:c.Zv&&!e&&(e=c.Zv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.qv.wv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.MO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof zf?n.Zv:new xf({xu:null,wv:n.wv,fv:0,dv:""}),t.next=3,this.BO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Cf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new zf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.BO=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.LO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],xe(i),t.next=7,A.resolve(r._c().xu(i));case 7:if(s=t.sent,(c=new Nb(r,o,s))._O){t.next=19;break}return t.prev=10,t.next=13,c.mO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.Zv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.AO=function(t){this.PO.unshift(t)},n.DO=function(t){this.PO.push(t)},n.NO=function(t){Se(this.PO,t)},n.OO=function(t){this.LO.unshift(t)},n.xO=function(t){Se(this.LO,t)},n.sr=function(){this.qv.sr(),Ce(this.PO),Ce(this.LO)},t}(),Fb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).il=void 0,e.UO=function(t){e.qs(t)},e.VO=function(t){e.qs(t)},e.qO=n,e.FT=i,e.BC=r,e.qO.Hs(Zo.vf,e.UO),e.qO.Hs(Zo.hf,e.VO),e}$(n,t);var i=n.prototype;return i.HO=function(t){this.BC.HO(t)},i.AO=function(t){this.FT.AO(t)},i.NO=function(t){this.FT.NO(t)},i.OO=function(t){this.FT.OO(t)},i.xO=function(t){this.FT.xO(t)},i.sr=function(){this.zs(),this.qO.$s(Zo.vf,this.UO),this.qO.$s(Zo.hf,this.VO)},W(n,[{key:"ul",get:function(){var t;return this.il||(this.il=(t=this,{get online(){return t.S_},get estimator(){return n=t.jO,{get bandwidth(){return n.YS},get roundTripTime(){return n.KS}};var n},setEstimator:function(n){t.HO(function(t){if(t)return{get YS(){return Wv(t.bandwidth)},get KS(){return Wv(t.roundTripTime)},GS:function(n){return function(t){if(t)return{WO:function(n){t.markRequestStart(n)},zO:function(n){t.markResponseStart(n)},$O:function(n,i){t.markResponseData(n,i)},XO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(mb(n)))}}}(n))},addRequestInterceptor:function(n){t.AO(n)},removeRequestInterceptor:function(n){t.NO(n)},addResponseInterceptor:function(n){t.OO(n)},removeResponseInterceptor:function(n){t.xO(n)},addEventListener:function(n,i){t.Hs(n,i)},removeEventListener:function(n,i){t.$s(n,i)}})),this.il}},{key:"S_",get:function(){return this.qO.S_}},{key:"jO",get:function(){return this.BC.jO}}]),n}($e);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(xb||(xb={}));var Mb=30,Bb={type:xb.BANDWIDTH},Ub=20,Vb=60;function qb(t){var n,i,r,e=Bv(Bb);return ft(t)?e.type=Hb(t):ct(t)&&function(t){switch(t){case xb.PERFORMANCE:case xb.QUALITY:case xb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Hb(t.type)),ct(t)&&ct(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=jv(n.bitrate),_(r)||(i.bitrate=r),i)),e}function Hb(t){switch(t){case"bandwidth":return xb.BANDWIDTH;case"performance":return xb.PERFORMANCE;case"quality":return xb.QUALITY}}var jb=function(t){function n(n){var i;return(i=t.call(this,"YO")||this).GO=n,i}return $(n,t),n}(Ge),Wb=function(t){function n(n){var i;return(i=t.call(this,"JO")||this).KO=n,i}return $(n,t),n}(Ge),zb=function(t){function n(n){var i;return(i=t.call(this,"ZO")||this).QO=n,i}return $(n,t),n}(Ge),$b=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).il=(i=un(n),{get strategy(){return{metadata:(t=i.KO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.KO=qb(t)},get targetBuffer(){return i.GO},set targetBuffer(t){var n=jv(t);_(n)||(i.GO=n>Vb?Vb:n)},get bufferLookbackWindow(){return i.QO},set bufferLookbackWindow(t){var n=jv(t);_(n)||(i.QO=n<=0?Mb:n)}}),n.tx=Bb,n.nx=Ub,n.ix=Mb,n.ex=void 0,n.ux=void 0,n}$(n,t);var i=n.prototype;return i.ox=function(t){this.ux=t},i.HO=function(t){this.ex=t},W(n,[{key:"sx",get:function(){switch(this.tx.type){case xb.PERFORMANCE:return 0;case xb.QUALITY:return 1/0;case xb.BANDWIDTH:return this.tx.metadata&&void 0!==this.tx.metadata.bitrate?this.tx.metadata.bitrate:8*vd.mw();default:return 8*vd.mw()}}},{key:"ul",get:function(){return this.il}},{key:"KO",get:function(){return this.tx},set:function(t){this.tx=t,this.qs(new Wb(t))}},{key:"GO",get:function(){return this.nx},set:function(t){this.nx=t,this.qs(new jb(t))}},{key:"QO",get:function(){return this.ix},set:function(t){this.ix=t,this.qs(new zb(t))}},{key:"jO",get:function(){var t;return null!=(t=this.ex)?t:this.ux.sI}}]),n}($e),Xb=function(t){function n(){return t.call(this,"pl")||this}return $(n,t),n.prototype.ol=function(){return new Gb},n}(Tv),Gb=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ge),Yb=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).ax=void 0,r.hx=function(t){var n;n=t,Boolean(n&&n.ul)&&Ue(function(){r.qs(t.ul)})},r.ax=n,r.ax.Ws(r.hx),r}return $(n,t),n.prototype.sr=function(){this.zs(),this.ax.Ys(this.hx)},n}(cd),Kb=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Yb);var Jb=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Q_=0,n.Z_=1/0,n.il=void 0,n}$(n,t);var i=n.prototype;return i.Pl=function(){0===this.Q_&&this.Z_===1/0||(this.Q_=0,this.Z_=1/0,this.qs(new Xb))},i.vx=function(){return new im([this.Y_,this.K_],[!0,!0])},W(n,[{key:"Y_",get:function(){return this.Q_},set:function(t){if(this.K_<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Q_!==t&&(this.Q_=t,this.qs(new Xb))}},{key:"K_",get:function(){return this.Z_},set:function(t){if(t<=this.Y_)throw new v("End time of a clip should be larger than the start time.");this.Z_!==t&&(this.Z_=t,this.qs(new Xb))}},{key:"ul",get:function(){var t,n,i;return this.il||(this.il=(i={get startTime(){return t.Y_},set startTime(n){t.Y_=n},get endTime(){return t.K_},set endTime(n){t.K_=n},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},n=new Yb(t=this,i),i)),this.il}}]),n}(cd),Qb=function(t){function n(n){var i;return(i=t.call(this)||this).lx=function(t){i.wx(t)||i.qs(t)},i.yx=n,i.yx.Ws(i.lx),i}$(n,t);var i=n.prototype;return i.gx=function(){return this.yx.Xg},i.a_=function(){return this.yx.a_()},i._x=function(){return this.yx.w_},i.mx=function(){return this.yx.d_},i.kx=function(){return this.yx.y_},i.bx=function(t){this.yx.y_=t},i.Tx=function(){return this.yx.qw},i.Ex=function(t){this.yx.qw=t},i.Sx=function(){return this.yx.Hw},i.Rx=function(){return this.yx.g_},i.Ix=function(){return this.yx.jw},i.Cx=function(){return this.yx.ic},i.Ax=function(){return this.yx.Ww},i.Dx=function(){return this.yx.__},i.Nx=function(){return this.yx.zw},i.Ox=function(t){this.yx.zw=t},i.xx=function(){return this.yx.S_},i.Px=function(){return this.yx.$w},i.Lx=function(){return this.yx.Xw},i.Fx=function(t){this.yx.Xw=t},i.Mx=function(){return this.yx.R_},i.Bx=function(){return this.yx.I_},i.Ux=function(t){this.yx.I_=t},i.Vx=function(){return this.yx.uw},i.qx=function(){return this.yx.C_},i.Hx=function(){return this.yx.Gw},i.Qg=function(){return this.yx.Qg()},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),t.next=3,this.yx.Zg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jx=function(){return this.yx.Yg},i.Wx=function(){return this.yx.Yw},i.zx=function(){return this.yx.Gg},i.$x=function(){return this.yx.Kw},i.Xx=function(){return this.yx.Jw},i.Gx=function(t){this.yx.Jw=t},i.c_=function(){return this.yx.c_()},i.s_=function(){return this.yx.s_()},i.r_=function(t){this.yx.r_(t)},i.e_=function(){this.yx.e_()},i.o_=function(){this.yx.o_()},i.hr=function(){this.yx.hr()},i.nr=function(){this.yx.nr()},i.tr=function(){this.yx.tr()},i.u_=function(){this.yx.u_()},i.Jg=function(){return this.yx.Jg()},i.t_=function(){return this.yx.t_()},i.n_=function(){this.yx.n_()},i.i_=function(){this.yx.i_()},i.Pl=function(){return this.yx.Pl()},i.sr=function(){return this.yx.sr()},i.l_=function(){this.yx.l_()},i.f_=function(t){return this.yx.f_(t)},i.wx=function(t){return!1},W(n,[{key:"Xg",get:function(){return this.gx()}},{key:"w_",get:function(){return this._x()}},{key:"y_",get:function(){return this.kx()},set:function(t){this.bx(t)}},{key:"d_",get:function(){return this.mx()}},{key:"qw",get:function(){return this.Tx()},set:function(t){this.Ex(t)}},{key:"Hw",get:function(){return this.Sx()}},{key:"g_",get:function(){return this.Rx()}},{key:"jw",get:function(){return this.Ix()}},{key:"ic",get:function(){return this.Cx()}},{key:"Ww",get:function(){return this.Ax()}},{key:"Kg",get:function(){return this.yx.Kg}},{key:"__",get:function(){return this.Dx()}},{key:"Lg",get:function(){return this.yx.Lg}},{key:"zw",get:function(){return this.Nx()},set:function(t){this.Ox(t)}},{key:"S_",get:function(){return this.xx()}},{key:"$w",get:function(){return this.Px()}},{key:"Xw",get:function(){return this.Lx()},set:function(t){this.Fx(t)}},{key:"R_",get:function(){return this.Mx()}},{key:"I_",get:function(){return this.Bx()},set:function(t){this.Ux(t)}},{key:"uw",get:function(){return this.Vx()}},{key:"C_",get:function(){return this.qx()}},{key:"Gw",get:function(){return this.Hx()}},{key:"Yg",get:function(){return this.jx()}},{key:"Yw",get:function(){return this.Wx()}},{key:"Gg",get:function(){return this.zx()}},{key:"Kw",get:function(){return this.$x()}},{key:"Jw",get:function(){return this.Xx()},set:function(t){this.Gx(t)}}]),n}(ad),Zb=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Yx=void 0,e.Kx=!1,e.Jx=void 0,e.Qx=!1,e.Zx=function(){e.tP(),e.nP()},e.TR=function(){e.iP(),e.nP(),e.rP&&e.qw>=e.Yx.K_-n.eP&&!e.jw&&(e.Jx=sb(e.TR))},e.uP=function(){e.Qx=!0},e.oP=function(){e.Qx&&(e.Qx=!1,e.nP())},e.Yx=r,e.Yx.Hs("pl",e.Zx),e.yx.Hs("timeupdate",e.TR),e}$(n,t);var i=n.prototype;return i.Ex=function(n){var i=this.Yx.vx().KI(n);t.prototype.Ex.call(this,i),this.nP()},i.Ix=function(){return t.prototype.Ix.call(this)||this.Kx},i.qx=function(){return im.mC(t.prototype.qx.call(this)).ZI(this.Yx.vx()).rI()},i.tr=function(){this.Ix()?this.Ex(this.sP.start(0)):this.tP(),t.prototype.tr.call(this),this.nP()},i.Zg=function(){var n=A.coroutine(qr.mark(function n(i,r){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe(r),this.Kx=!1,this.Yx.Pl(),n.next=5,t.prototype.Zg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.Yx.$s("pl",this.Zx),this.yx.$s("timeupdate",this.TR),this.iP(),t.prototype.sr.call(this)},i.wx=function(n){switch(n.type){case"seeking":return this.qs(n),this.uP(),!0;case"seeked":case"emptied":return this.qs(n),this.oP(),!0;case"ended":if(this.rP)return!0}return t.prototype.wx.call(this,n)},i.iP=function(){this.Jx&&(cb(this.Jx),this.Jx=void 0)},i.nP=function(){var t=this.qw,i=this.rP&&t>=this.Yx.K_-n.cg;this.Kx&&!i?(this.Kx=!1,this.$w&&this.tr()):this.Kx||!i||this.Gw||this.Qx||(this.Kx=!0,this.qs(new Wd(t)),this.nr())},i.tP=function(){if(this.Hw!==1/0){var t=this.sP,i=im.mC(t).KI(this.qw);Qt(this.qw,i,n.cg)||this.Ex(i)}},W(n,[{key:"sP",get:function(){return this.qx().length?this.qx():this.Yx.vx().rI()}},{key:"rP",get:function(){return this.Yx.K_<this.Hw}}]),n}(Qb);Zb.eP=1,Zb.cg=.001;var tT=function(){function t(){this.cP=void 0,this.cP=!1}return W(t,[{key:"aP",get:function(){return this.cP},set:function(t){this.cP=t}}]),t}(),nT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cP=void 0,r.fP=!1,r.hP=!1,r.cP=i,r}$(n,t);var i=n.prototype;return i.Ix=function(){return!this.cP.aP&&t.prototype.Ix.call(this)},i.nr=function(){this.hP=!0,t.prototype.nr.call(this)},i.tr=function(){this.hP=!1,t.prototype.tr.call(this)},i.wx=function(n){if(this.cP.aP)switch(n.type){case"ended":return this.qw=0,this.hP||(this.Gw?this.fP=!0:this.tr()),!0;case"seeked":this.fP&&(this.fP=!1,this.tr());break;case"pause":if(this.fP||t.prototype.Ix.call(this))return!0}return t.prototype.wx.call(this,n)},n}(Qb);var iT=function(){function t(t){var n;this.il=(n=this,{get currentBandwidthEstimate(){return n.b_},get corruptedVideoFrames(){return n.m_},get droppedVideoFrames(){return n.p_},get totalBytesLoaded(){return n.T_},get bufferedSegments(){return n.E_}}),this.AI=t}return W(t,[{key:"ul",get:function(){return this.il}},{key:"m_",get:function(){return this.AI.vP.Lg.m_}},{key:"b_",get:function(){return this.AI.vP.Lg.b_}},{key:"p_",get:function(){return this.AI.vP.Lg.p_}},{key:"dP",get:function(){throw new v("Not implemented")}},{key:"lP",get:function(){throw new v("Not implemented")}},{key:"T_",get:function(){return this.AI.vP.Lg.T_}},{key:"k_",get:function(){return this.AI.vP.Lg.k_}},{key:"E_",get:function(){return this.AI.vP.Lg.E_}}]),t}(),rT=function(t){function n(){return t.call(this,"wP")||this}return $(n,t),n.prototype.ol=function(){return new eT},n}(Tv),eT=function(t){function n(){return t.call(this,"castingchange")||this}return $(n,t),n}(Ge);var uT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).yP=[],n.il=void 0,n.gP=function(){return n.qs(new rT)},n}$(n,t);var i=n.prototype;return i._P=function(t){this.yP.push(t),t.Hs("statechange",this.gP)},i.sr=function(){var t=this;this.yP.forEach(function(n){n.$s("statechange",t.gP)}),Ce(this.yP)},W(n,[{key:"pP",get:function(){return this.yP.some(function(t){return t.pP})}},{key:"ul",get:function(){var t,n,i;return this.il||(this.il=(i={get casting(){return t.pP},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)}},n=new Kb(t=this,i),i)),this.il}}]),n}(ad),oT=function(){function t(){}return t.mP=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Pf({gv:n,vv:ts.eu,Pv:Af.GET}),t.next=4,i.wv(r);case 4:return e=t.sent,t.next=7,e.xu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Oe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.kP=function(t){try{var i=pk(t);return new Sk(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new xo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.bP=function(t){void 0===t&&(t=Uk.Np),N.bo("The baked-in license is used. Please update the configuration with your license.");var n=t.sD(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.sD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.sD(n)}),e=Number(new Date(Number(t.sD("COD|aHpHa:p3Ceo3Co\"\""))));return new Sk(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Sk(t.wD,t.yD,t.gD,864e13,t.pD,Date.now(),t.kD,t.bD)},t}(),sT=function(){function t(){}return t.Xa=function(){return t.Ze||(t.Ze=cT.oa()?new cT:new Go),t.Ze},t.dc=function(n){t.Xa().dc(n)},t.za=function(){t.Xa().za()},t.fc=function(n){return t.Xa().fc(n)},t.$a=function(n,i){t.Xa().$a(n,i)},t.TP=function(n){var i=t.fc(n);if(void 0!==i)return g(i)},t.EP=function(n){return"true"===t.fc(n)},t}();sT.Ze=void 0;var cT=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.oa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.dc=function(n){t.localStorage.removeItem(n)},r.za=function(){t.localStorage.clear()},r.fc=function(n){return t.localStorage[n]},r.$a=function(n,i){t.localStorage[n]=i},i}(sT),aT=w.floor(14399999*w.random()-72e5),fT=function(){function t(t,n,i,r,e,u){this.SD=void 0,this.FT=t,this.SP=n,this.RP=i,this.fN=r,this.IP=e,this.DD=u,this.SD=Ok(u)}var i=t.prototype;return i.CP=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.AP(this.IP.license,this.IP.licenseUrl);case 2:n=t.sent,this.fN.DP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.AP=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=oT.kP(i):e||(u=oT.bP()),e||(e="https://validate.theoplayer.com/1/"+u.wD),o=this.NP(),!u){t.next=14;break}if((s=this.SP.PD(u))!==kk.vD){t.next=14;break}if(!this.OP(u._D)||!this.OP(null==o?void 0:o._D)){t.next=13;break}return t.next=10,this.xP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.SP.PD(o)!==kk.vD){t.next=24;break}if(!this.OP(null==o?void 0:o._D)){t.next=23;break}return t.next=20,this.xP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:sT.dc("THEOplayer.license");case 25:return t.next=27,oT.mP(e,this.FT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=oT.kP(f),this.SP.PD(h)!==kk.vD){t.next=34;break}return sT.$a("THEOplayer.license",f),t.abrupt("return",h);case 34:sT.dc("THEOplayer.license"),t.next=39;break;case 37:if(this.SD||!u||s!==kk.dD||e!=="https://validate.theoplayer.com/1/"+u.wD){t.next=39;break}return t.abrupt("return",oT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.PP(null!=(v=u)?v:h,new xo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new xo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ND=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fN.yN();case 2:if(i=t.sent,!this.OP(i._D)){t.next=9;break}return e=null!=(r=this.IP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.wD,t.next=7,this.xP(e);case 7:(u=t.sent)&&(this.fN.DP(u),i=u);case 9:if(t.prev=9,(o=this.SP.PD(i))!==kk.lD){t.next=16;break}throw s=Ek.TD,new xo(Ik(s),Pk.xD(s));case 16:if(o!==kk.dD){t.next=19;break}throw c=Ek.dD,new xo(Ik(c),Pk.xD(c));case 19:this.SP.ND(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.LP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.xP=function(){var t=A.coroutine(qr.mark(function t(n){var i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oT.mP(n,this.FT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=oT.kP(i),this.SP.PD(r)!==kk.vD){t.next=11;break}return sT.$a("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.OP=function(t){return!t||Number(new Date)+2592e5+aT>=t},i.NP=function(){var t=sT.fc("THEOplayer.license");if(t)return oT.kP(t)},i.PP=function(t,n){this.fN.DP(t),this.LP(n)},i.LP=function(t){throw bt(t.message),this.RP.pN(t.message),t},t}(),hT=function(){function t(){this.FP=void 0,this.MP=new ro}var n=t.prototype;return n.DP=function(t){this.FP=t,this.MP.Ec()},n.yN=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.FP){t.next=2;break}return t.abrupt("return",A.resolve(this.FP));case 2:return t.next=4,this.MP.Tc;case 4:return t.abrupt("return",this.FP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"BP",get:function(){return this.FP}}]),t}(),vT=function(t){function n(){return t.call(this,"pl")||this}return $(n,t),n.prototype.ol=function(){return new dT},n}(Tv),dT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ge);function lT(t){var n,i={get fontFamily(){return t.UP},set fontFamily(n){t.UP=n},get fontColor(){return t.VP},set fontColor(n){t.VP=n},get fontSize(){return t.qP},set fontSize(n){t.qP=n},get backgroundColor(){return t.HP},set backgroundColor(n){t.HP=n},get windowColor(){return t.jP},set windowColor(n){t.jP=n},get edgeStyle(){return t.WP},set edgeStyle(n){t.WP=n},addEventListener:function(t,i){var r=$v(t,zv);n.Hs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.$s(r,i)}};return n=new Xe(i),t.Hs(["pl"],function(t){return n.qs(t.ul)}),i}var wT,yT,gT={UP:void 0,VP:void 0,qP:void 0,HP:void 0,jP:void 0,WP:void 0,zP:void 0},_T="THEOplayer.textTrackStyle.",pT=function(t){function n(){var i;return(i=t.call(this)||this).$P=void 0,i.il=void 0,i.$P=n.XP(),i}return $(n,t),n.prototype.Hc=function(t){this.$P=Hr({},this.$P,t),n.GP(this.$P),this.qs(new vT)},n.XP=function(){var t=Hr({},gT);return t.UP=sT.fc(_T+"fontFamily")||t.UP,t.VP=sT.fc(_T+"fontColor")||t.VP,t.qP=sT.fc(_T+"fontSize")||t.qP,t.HP=sT.fc(_T+"backgroundColor")||t.HP,t.jP=sT.fc(_T+"windowColor")||t.jP,t.WP=sT.fc(_T+"edgeStyle")||t.WP,t},n.GP=function(t){sT.$a(_T+"fontFamily",t.UP||""),sT.$a(_T+"fontColor",t.VP||""),sT.$a(_T+"fontSize",t.qP||""),sT.$a(_T+"backgroundColor",t.HP||""),sT.$a(_T+"windowColor",t.jP||""),sT.$a(_T+"edgeStyle",t.WP||"")},W(n,[{key:"YP",get:function(){return this.$P}},{key:"UP",get:function(){return this.$P.UP},set:function(t){this.Hc({UP:t})}},{key:"VP",get:function(){return this.$P.VP},set:function(t){this.Hc({VP:t})}},{key:"qP",get:function(){return this.$P.qP},set:function(t){this.Hc({qP:t})}},{key:"HP",get:function(){return this.$P.HP},set:function(t){this.Hc({HP:t})}},{key:"jP",get:function(){return this.$P.jP},set:function(t){this.Hc({jP:t})}},{key:"WP",get:function(){return this.$P.WP},set:function(t){this.Hc({WP:t})}},{key:"zP",get:function(){return this.$P.zP}},{key:"ul",get:function(){return this.il||(this.il=lT(this)),this.il}}]),n}($e),mT=function(t){function n(n,i){var r;(r=t.call(this)||this).KP=void 0,r.Kc=void 0,r.vP=void 0,r.JP=void 0,r.Jd=void 0,r.Yx=void 0,r.cP=void 0,r.QP=void 0,r.ZP=void 0,r.BC=void 0,r.SP=void 0,r.tL=void 0,r.nL=void 0,r.MC=void 0,r.iL=!1,r.Vg=!1,r.P_=void 0,r.rL=!1,r.eL=void 0,r.uL=void 0,r.oL=void 0,r.sL=void 0,r.cL=void 0,r.aL=function(t){if(!r.rL){r.rL=!0;var n=r.KP,i=Ll(t);r.vP.Hl=new cm(r.g_,i,t),Ve(n.sr())}},r.fL=function(t){r.qs(t.ul)},r.hL=function(t){t.type!==Zo.vf&&t.type!==Zo.hf&&r.qs(t)};var e=jv(i.uid);_(e)?r.P_=jl++:r.P_=e,r.Kc=i;var u=N.Jd,o=new hT;r.JP=new Kk("2.90.0",u,o),r.Jd=new Pb(u,i.allowMixedContent),r.BC=new $b,r.SP=new Rk(i.isEmbeddable,"2.90.0",mk()),r.cL=new fT(u,r.SP,r.JP,o,i,mk()),r.cL.CP().catch(r.aL),r.tL=new yb(n),r.tL.Hs("IN",r.fL),r.MC=new pT,r.Yx=new Jb,r.cP=new tT;var s=new sm(n,i,r.Jd,r.BC,r.tL,r.MC);r.BC.ox(s);var c=s;c=new Zb(c,r.vL),c=new nT(c,r.aP),r.KP=c,r.vP=new Nl(r.KP),r.vP.Ws(r.hL),r.sL=new iT(un(r)),r.uL=new Fb(r.vP,r.Jd,r.BC),r.QP=new Zk(un(r)),r.nL=new pb(r.vP,i.allowNativeFullscreen),r.ZP=new Im(r.nL),r.tL.Zc();var a=new T(r.tL,r.MC,1,[Fl.Ov]);return r.eL=new E(a),r.oL=new uT,r}$(n,t);var i=n.prototype;return i.Ox=function(t){this.vP.zw=t,t||this.$w||this.hr()},i.Gx=function(t){this.vP.Jw=t},i.dL=function(){il(this,Cm,this)},i.tr=function(){this.vP.tr()},i.nr=function(){this.vP.nr()},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.cL.ND(n).catch(this.aL),r=kT(n),t.next=5,this.vP.Zg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.Vg||(this.vP.hr(),this.eL.hr(),this.Vg=!0)},i.SC=function(){return this.ZP.sA()===bm.FULLSCREEN},i.u_=function(){this.vP.u_()},i.o_=function(){this.vP.o_()},i.s_=function(){return this.vP.s_()},i.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vP.Jg();case 2:return t.next=4,this.vP.Pl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.oL.sr(),this.Jd.sr(),this.uL.sr(),this.nL.sr(),this.ZP.sr(),this.tL.sr(),this.JP.sr(),this.eL.sr(),t.next=11,this.vP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"lL",get:function(){return this.BC}},{key:"zg",get:function(){return this.iL},set:function(t){this.iL=t,this.vP.zg=t}},{key:"wL",get:function(){return this.eL}},{key:"Xg",get:function(){return this.vP.Xg}},{key:"yL",get:function(){return this.oL}},{key:"gL",get:function(){return this.tL}},{key:"Kg",get:function(){return this.vP.Kg}},{key:"Lg",get:function(){return this.sL}},{key:"_L",get:function(){return this.uL}},{key:"Yg",get:function(){return this.vP.Yg}},{key:"pL",get:function(){return this.MC}},{key:"Gg",get:function(){return this.vP.Gg}},{key:"w_",get:function(){return this.vP.w_}},{key:"vL",get:function(){return this.Yx}},{key:"aP",get:function(){return this.cP}},{key:"qw",get:function(){return this.vP.qw},set:function(t){this.vP.qw=t}},{key:"y_",get:function(){return this.vP.y_},set:function(t){this.vP.y_=t}},{key:"d_",get:function(){return this.vP.d_}},{key:"Hw",get:function(){return this.vP.Hw}},{key:"g_",get:function(){return this.vP.g_}},{key:"jw",get:function(){return this.vP.jw}},{key:"ic",get:function(){return this.vP.ic}},{key:"Ww",get:function(){return this.vP.Ww}},{key:"zw",get:function(){return this.vP.zw},set:function(t){var n=Boolean(t);this.Ox(n)}},{key:"$w",get:function(){return this.vP.$w}},{key:"Xw",get:function(){return this.vP.Xw},set:function(t){this.vP.Xw=t}},{key:"R_",get:function(){return this.vP.R_}},{key:"I_",get:function(){return this.vP.I_},set:function(t){this.vP.I_=Kp(t)}},{key:"uw",get:function(){return this.vP.uw}},{key:"C_",get:function(){return this.vP.C_}},{key:"Gw",get:function(){return this.vP.Gw}},{key:"Xl",get:function(){return this.P_}},{key:"Yw",get:function(){return this.vP.Yw}},{key:"Kw",get:function(){return this.vP.Kw}},{key:"Jw",get:function(){return this.vP.Jw},set:function(t){var n=Jt(Number(t),0,1)||0;this.Gx(n)}}]),n}(ad);function kT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.mL=0]="mL",t[t.kL=1]="kL"}(wT||(wT={})),function(t){t[t.bL=0]="bL"}(yT||(yT={}));var bT={};function TT(t,n){var i=t;if(bT[n])for(var r=0,e=bT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var ET=[];function ST(t){ET.push(t)}var RT=t.CustomEvent;var IT=function(){try{var t=new RT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},CT=function(){function t(t,n){var i=this;this.AI=void 0,this.TL=void 0,this.EL=!1,this.SL=function(t){i.TL._N(t.error,i.qw)},this.RL=function(){i.TL.wN(i.IL),i.AI.removeEventListener("playing",i.RL),i.EL=!1},this.CL=function(){i.EL||(i.AI.addEventListener("playing",i.RL),i.EL=!0)},this.TL=n,this.AI=t,this.AI.addEventListener("error",this.SL),this.AI.addEventListener("sourcechange",this.CL),this.CL()}return t.prototype.Pl=function(){},W(t,[{key:"qw",get:function(){var t=this.AI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"IL",get:function(){return this.AI.src||""}}]),t}();ST(function(t){new CT(t.ul,t.JP)});var AT,DT,NT="theoplayer-stored-volume",OT="theoplayer-stored-mutedstate";AT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=sT.TP(NT);(void 0===e||_(e))&&(e=1);var u=sT.EP(OT)||!1;r.Jw=e,r.zw=u}return r}$(n,t);var i=n.prototype;return i.Ox=function(n){this.Kc.persistVolume&&sT.$a(OT,""+Boolean(n)),t.prototype.Ox.call(this,n)},i.Gx=function(n){this.Kc.persistVolume&&sT.$a(NT,""+Number(n)),t.prototype.Gx.call(this,n)},n}(t)},DT=wT.kL,(bT[DT]||(bT[DT]=[])).push(AT);var xT=new(function(){function t(){this.AL=[],this.il=void 0}var n=t.prototype;return n.Dl=function(t){return this.AL[t]},n.DL=function(t){this.AL.push(t),this.ul.push(t.ul)},n.qc=function(t){var n=this.AL.indexOf(t);n<0||(Re(this.AL,n),this.il&&Re(this.il,n))},n.NL=function(t){for(var n=0,i=this.AL;n<i.length;n++){var r=i[n];if(r.Xl===t)return r}},W(t,[{key:"Fl",get:function(){return this.AL.length}},{key:"ul",get:function(){return this.il||(this.il=function(t){for(var n=[],i=0;i<t.Fl;i++)n[i]=t.Dl(i).ul;return n.getPlayerByUID=function(n){var i=t.NL(n);return i&&i.ul},n}(this)),this.il}}]),t}()),PT=function(){function t(t){var n=this;this.OL=[],this.xL=void 0,this.Pd=new De,this.PL=void 0,this.kn=function(){return 0===n.OL.length?n.PL?LT(n.PL,n.Pd.Fs).then(n.LL,n.LL):n.LL():n.OL.shift()().then(n.kn)},this.LL=function(){if(0!==n.OL.length)return n.kn();n.xL=void 0},this.PL=t}var n=t.prototype;return n.FL=function(t,n){var i=this;return new A(function(r){var e=new De;e.Ps(i.Pd.Fs),n&&e.Ps(n);var u=function(){e.Is()};i.OL.push(function(){var n=LT(t,e.Fs);return r(n),n.then(u,u)}),i.xL||(i.xL=i.kn())})},n.xs=function(){return this.ML(!0)},n.sr=function(){return this.PL=void 0,this.ML(!1)},n.ML=function(t){var n=this.xL;return this.Pd.xs(),t&&(this.Pd=new De),A.resolve(n)},t}();function LT(t,n){return new A(function(i){return i(t(n))})}var FT,MT=function(t){function n(n){var i;return(i=t.call(this,Zo.Rf)||this).source=n,i}return $(n,t),n}(Ge),BT=function(t){function n(){var n;return(n=t.call(this)||this).CC=void 0,n.DC=void 0,n.OC=void 0,n.NC=void 0,n.CC=0,n.DC=!0,n.OC=!1,n.NC=1,n}$(n,t);var i=n.prototype;return i.tr=function(){this.DC&&(this.DC=!1,this.qs(new Fd(this.qw)),this.qs(new ig(this.qw)))},i.nr=function(){this.DC||(this.DC=!0,this.qs(new jd(this.qw,this.y_)),this.qs(new Ld(this.qw)))},i.Pl=function(){this.CC=0,this.OC=!1,this.NC=1,this.nr(),this.qs(new Pd(this.CC))},i.sr=function(){this.zs()},i.o_=function(){},i.u_=function(){},W(n,[{key:"y_",get:function(){},set:function(t){}},{key:"qw",get:function(){return this.CC},set:function(t){this.OC&&this.CC===t||(this.CC=t,this.OC=!0,this.qs(new $d(this.qw)))}},{key:"$w",get:function(){return this.DC}},{key:"Xw",get:function(){return this.NC},set:function(t){this.NC!==t&&(this.NC=t,this.qs(new Hd(this.qw,this.Xw)))}},{key:"uw",get:function(){return _d.Dw}},{key:"Gw",get:function(){return this.OC}}]),n}(cd),UT=function(t){function n(){return t.call(this,Zo.nf)||this}return $(n,t),n}(Ge),VT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},qT={visibility:"hidden"},HT={visibility:"visible"},jT=function(){function t(t){var n,i=this;this.EI=void 0,this.AI=void 0,this.BL=!1,this.UL=void 0,this.VL=void 0,this.qL=function(t){var n;i.BL=!1,i.UL=null==(n=t.source)?void 0:n.poster,i.Hc()},this.iE=function(){i.BL=!0,i.o_()},this.AI=t,this.xI(),this.EI=((n=R&&R.document&&R.document.createElement("div")).className="theoplayer-poster",kr(VT,n),n),t.g_.appendChild(this.EI)}var n=t.prototype;return n.Hc=function(){var t=this.AI.$w,n=this.BL;this.gv?this.EI.style.backgroundImage='url("'+this.gv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.EI.style.backgroundImage="",t&&this.gv&&!n?this.u_():this.o_()},n.u_=function(){kr(qT,this.AI.g_),kr(HT,this.EI)},n.o_=function(){kr(qT,this.EI),kr(HT,this.AI.g_)},n.xI=function(){this.AI.Hs("sourcechange",this.qL),this.AI.Hs("play",this.iE)},n.sr=function(){this.AI.$s("sourcechange",this.qL),this.AI.$s("play",this.iE),mr(this.EI)},W(t,[{key:"gv",get:function(){return void 0!==this.UL?this.UL:void 0!==this.VL?this.VL:void 0}},{key:"HL",set:function(t){this.VL=t,this.Hc()}}]),t}();function WT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).AI=void 0,e.jL=void 0,e.WL=void 0,e.zL=void 0,e.$L=void 0,e.XL=void 0,e.GL=void 0,e.YL=void 0,e.OI=void 0,e.NI=void 0,e.il=void 0,e.KL=function(t){t.type!==Zo.yf&&e.YL.push(t)},e.jL=new t(i,r),e.WL=new BT,e.AI=e.jL,e.zL=new jT(un(e)),e.XL=new PT,e.GL=!1,e.YL=[],e.OI=!0,e.NI=void 0,e.xI(),e}$(i,n);var r=i.prototype;return r.FL=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.XL.FL(n,i).catch(Le));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.JL=function(){var t=A.coroutine(qr.mark(function t(n,i){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(i),this.jL.Ws(this.KL),t.next=4,this.jL.Zg(n,i);case 4:this.jL.Ys(this.KL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.QL=function(){var t=A.coroutine(qr.mark(function t(){var n,i,r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Qg())&&!Qm(n)&&this.zg&&this.$w){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Kc.mutedAutoplay,t.next=6,this.wL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.ZL(),t.abrupt("break",14);case 12:return(this.zw||i===Md.ALL)&&(this.zw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Zg=function(t){var n=this,i=this.NI;i&&!Qm(i)&&this.qs(new Pd(0,0)),this.Pl(),this.NI=t,Ve(this.FL(function(){var i=A.coroutine(qr.mark(function i(r){return qr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return xe(r),i.prev=1,i.next=4,n.JL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.NI=void 0,i.t0;case 10:return i.next=12,n.tF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.tF=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nF(this.jL),this.qs(new MT(this.Qg())),t.next=4,this.QL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ex=function(t){this.AI.qw=t},r.Cx=function(){return this.jL.ic},r.Ax=function(){return this.jL.Ww},r.tr=function(){this.AI.tr()},r.ZL=function(){this.zw||this.hr(),this.tr()},r.hr=function(){this.jL.hr()},r.nr=function(){this.AI.nr()},r.Jg=function(){this.Zg(void 0)},r.u_=function(){this.OI=!0,this.AI.u_()},r.o_=function(){this.OI=!1,this.AI.o_()},r.dL=function(){this.jL.dL()},r.Gx=function(t){this.jL.Gx(t)},r.Ox=function(t){this.jL.Ox(t)},r.iF=function(t){this.$L=t,t.DL(this)},r.SC=function(){return this.jL.SC()},r.Qg=function(){return this.NI},r.s_=function(){return this.jL.s_()},r.Tx=function(){return this.jL.qw},r.Sx=function(){return this.jL.Hw},r._x=function(){return this.jL.w_},r.Mx=function(){return this.jL.R_},r.qx=function(){return this.jL.C_},r.Pl=function(){var t=this;this.NI=void 0,Ce(this.YL),this.WL.Pl(),this.nF(this.WL),this.XL.xs(),Ve(this.XL.FL(function(){var n=A.coroutine(qr.mark(function n(i){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return xe(i),n.next=3,t.jL.Pl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.qs(new UT),this.zL.sr(),this.LI(),this.Pl(),Ve(this.FL(A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.jL.sr();case 2:t.$L&&(t.$L.qc(t),t.$L=void 0),t.XL.sr();case 4:case"end":return n.stop()}},n)})))),this.zs()},r.nF=function(t){if(this.AI!==t){var n=this.AI.$w,i=this.AI.qw,r=this.AI.Xw,e=this.AI.Gw;this.LI(),t===this.jL?((e||t.qw!==i)&&(t.qw=i),t.Xw!==r&&(t.Xw=r),n?t.nr():t.tr()):this.Kc.retainPlaybackRateOnSourceChange?t.Xw=r:1!==r&&this.qs(new Hd(this.Tx(),1)),this.AI=t,this.xI();for(var u=0,o=this.YL;u<o.length;u++){var s=o[u];this.qs(s)}Ce(this.YL),this.OI?t.u_():t.o_()}},r.xI=function(){this.AI.Ws(this.Vs)},r.LI=function(){this.AI.Ys(this.Vs)},r.ol=function(){return t=this,r=function(n){i=n;var r=ck(n,t.Kc);t.Zg(r)},e={get abr(){return t.lL.ul},get audioTracks(){return t.Xg.ul},get autoplay(){return t.zg},set autoplay(n){t.zg=Boolean(n)},get buffered(){return t._x()},get canvas(){return t.QP.ul},get clip(){return t.vL.ul},get currentProgramDateTime(){var n;return null!=(n=t.y_)?n:null},set currentProgramDateTime(n){t.y_=null!=n?n:void 0},get currentTime(){return t.Tx()},set currentTime(n){t.Ex(Number(n))},get duration(){return t.Sx()},get element(){return t.g_},get ended(){return t.jw},get error(){return t.Cx()},get errorObject(){return t.Ax()},get loop(){return t.aP.aP},set loop(n){t.aP.aP=Boolean(n)},get metrics(){return t.Lg.ul},get muted(){return t.zw},set muted(n){t.Ox(n)},get network(){return t._L.ul},get paused(){return t.$w},get playbackRate(){return t.Xw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Xw=i},get played(){return t.Mx()},get poster(){return t.rF},set poster(n){t.rF=zv(n)},get preload(){return t.I_},set preload(n){t.I_=n},get presentation(){return t.ZP.ul},get readyState(){return t.uw},get seekable(){return t.qx()},get seeking(){return t.Gw},get source(){return i},set source(t){r(t)},get src(){return Zm(t.Qg())},set src(t){r({sources:t})},get textTracks(){return t.Yg.ul},get textTrackStyle(){return t.pL.ul},get uid(){return t.Xl},get videoHeight(){return t.Yw},get videoTracks(){return t.Gg.ul},get videoWidth(){return t.Kw},get volume(){return t.Jw},set volume(n){t.Gx(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.ZL()},pause:function(){t.nr()},stop:function(){i=void 0,t.Jg()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Hs(t,i)},removeEventListener:function(t,i){n.$s(t,i)},setSource:function(t){r(t)}},(n=new Sm(e,!0)).XC(t),e;var t,n,i,r,e},W(i,[{key:"JP",get:function(){return this.jL.JP}},{key:"QP",get:function(){return this.jL.QP}},{key:"Kc",get:function(){return this.jL.Kc}},{key:"KP",get:function(){return this.jL.KP}},{key:"Jd",get:function(){return this.jL.Jd}},{key:"JR",get:function(){return this.jL.nL}},{key:"ZP",get:function(){return this.jL.ZP}},{key:"tL",get:function(){return this.jL.tL}},{key:"vP",get:function(){return this.jL.vP}},{key:"lL",get:function(){return this.jL.lL}},{key:"zg",get:function(){return this.jL.zg},set:function(t){this.jL.zg=t,this.QL()}},{key:"wL",get:function(){return this.jL.wL}},{key:"Xg",get:function(){return this.jL.Xg}},{key:"yL",get:function(){return this.jL.yL}},{key:"gL",get:function(){return this.jL.tL}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"Kg",get:function(){return this.jL.Kg}},{key:"Lg",get:function(){return this.jL.Lg}},{key:"_L",get:function(){return this.jL._L}},{key:"Yg",get:function(){return this.jL.Yg}},{key:"pL",get:function(){return this.jL.pL}},{key:"Gg",get:function(){return this.jL.Gg}},{key:"vL",get:function(){return this.jL.vL}},{key:"aP",get:function(){return this.jL.aP}},{key:"y_",get:function(){return this.AI.y_},set:function(t){this.AI.y_=t}},{key:"d_",get:function(){return this.jL.d_}},{key:"g_",get:function(){return this.jL.g_}},{key:"jw",get:function(){return this.jL.jw}},{key:"zw",get:function(){return this.jL.zw},set:function(t){this.jL.zw=t}},{key:"$w",get:function(){return this.AI.$w}},{key:"rF",get:function(){return this.zL.gv||""},set:function(t){this.zL.HL=t}},{key:"Xw",get:function(){return this.jL.Xw},set:function(t){this.AI.Xw=t}},{key:"I_",get:function(){return this.jL.I_},set:function(t){this.jL.I_=Kp(t)}},{key:"uw",get:function(){return this.AI.uw}},{key:"Gw",get:function(){return this.AI.Gw}},{key:"Xl",get:function(){return this.jL.Xl}},{key:"Yw",get:function(){return this.jL.Yw}},{key:"Kw",get:function(){return this.jL.Kw}},{key:"Jw",get:function(){return this.jL.Jw},set:function(t){this.jL.Jw=t}}]),i}(ad)}function zT(t,n){var i=tl(n),r=new(FT||(FT=TT(FT=WT(mT),wT.mL),FT=TT(FT,wT.kL)),FT)(t,i),e=r.ul;return r.dL(),r.iF(xT),l.defineProperty(e,"constructor",{value:zT}),e=Lv(e),function(t){for(var n=0;n<ET.length;n++)(0,ET[n])(t)}(r),e}Ue(function(){t.dispatchEvent&&t.dispatchEvent(IT("theoplayerready"))});var $T={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return fu(t)},n.decode=function(t){return cu(t)},t}())},XT=xT.ul,GT=xg.YE.registerContentProtectionIntegration.bind(xg.YE),YT=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},KT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),JT=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function QT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function ZT(t){return JSON.stringify(t,JT.getSerialize(QT))}var tE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),nE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),iE=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),rE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=tE.isS,r=tE.isChar,e=tE.isNameStartChar,u=tE.isNameChar,o=tE.S_LIST,s=tE.NAME_RE,c=nE.isChar,a=iE.isNCNameStartChar,f=iE.isNCNameChar,h=iE.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:w},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,A=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,At=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==w&&t.fail(`xmlns prefix must be bound to ${w}.`)}switch(i){case w:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>h.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Lt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ca}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ca=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Ct||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new v("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:At(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:At(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?A:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:A}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=A)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(At(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();At(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new v("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Ca=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?w:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=y(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=y(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),eE=function(){function t(){}return t.prototype.su=function(t){var n=new rE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new hE,r=[i];function e(t){r[r.length-1].bu(t)}return n.on("text",function(t){r.length>1&&e(new aE(t))}),n.on("cdata",function(t){e(new fE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new sE({hu:n,du:""===i?void 0:i,eF:""===u?void 0:u}),s=t.attributes,c=0,a=l.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,d=f.uri,w=f.value,y=new uE({hu:v,wu:w,du:""===d?void 0:d,eF:""===h?void 0:h});o.uF(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),uE=function(){function t(t){this.oF=void 0,this.sF=void 0,this.cF=void 0,this.En=void 0,this.oF=t.hu,this.En=t.wu,this.sF=t.du,this.cF=t.eF}var n=t.prototype;return n.au=function(t){return this===t||!!dE(this,t)&&(this.oF===t.oF&&this.sF===t.sF&&this.cF===t.cF&&this.En===t.En)},n.fu=function(){return new t({hu:this.hu,wu:this.wu,du:this.du,eF:this.lu})},W(t,[{key:"nu",get:function(){return rn.ru}},{key:"hu",get:function(){return this.oF}},{key:"vu",get:function(){return void 0===this.cF?this.oF:this.cF+":"+this.oF}},{key:"du",get:function(){return this.sF}},{key:"lu",get:function(){return this.cF}},{key:"wu",get:function(){return this.En}}]),t}(),oE=function(){function t(){this.gu=[]}var n=t.prototype;return n._u=function(t){return this.gu.filter(function(n){return vE(n)&&n.mu===t})},n.ku=function(t,n){return this.gu.filter(function(i){return vE(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.gu.push(t)},W(t,[{key:"pu",get:function(){return this.gu}},{key:"Eu",get:function(){return this.gu.filter(vE)}}]),t}(),sE=function(t){function n(n){var i;return(i=t.call(this)||this).oF=void 0,i.sF=void 0,i.cF=void 0,i.aF=[],i.oF=n.hu,i.sF=n.du,i.cF=n.eF,i}$(n,t);var i=n.prototype;return i.fF=function(t){for(var n=0,i=this.pu;n<i.length;n++){var r=i[n];vE(r)?r.fF(t):t.push(r.xu)}},i.Ru=function(t,n){for(var i=0,r=this.aF;i<r.length;i++){var e=r[i];if(e.hu===n&&e.du===t)return e.wu}},i.Su=function(t){for(var n=0,i=this.aF;n<i.length;n++){var r=i[n];if(r.vu===t)return r.wu}},i.uF=function(t){this.aF.push(t)},i.Iu=function(t){for(var n=0;n<this.aF.length;n++)if(this.aF[n].vu===t)return void this.aF.splice(n,1)},i.Cu=function(t,n){for(var i=0;i<this.aF.length;i++)if(this.aF[i].hu===n&&this.aF[i].du===t)return void this.aF.splice(i,1)},i.Au=function(t,n){this.Iu(t),this.uF(new uE({hu:t,wu:n}))},i.Du=function(t,n,i){this.Iu(n);var r=n.split(":");this.uF(new uE({hu:r[r.length-1],wu:i,du:t,eF:r.length>1?r[0]:void 0}))},i.fu=function(t){var i=new n({hu:this.hu,du:this.du,eF:this.lu});return this.Nu.forEach(function(t){return i.uF(t.fu())}),t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!dE(this,t)&&(this.oF===t.oF&&this.cF===t.cF&&this.sF===t.sF&&(lE(this.Nu,t.Nu)&&lE(this.pu,t.pu)))},W(n,[{key:"nu",get:function(){return rn.iu}},{key:"Nu",get:function(){return this.aF}},{key:"hu",get:function(){return this.oF}},{key:"du",get:function(){return this.sF}},{key:"lu",get:function(){return this.cF}},{key:"mu",get:function(){return void 0===this.cF?this.oF:this.cF+":"+this.oF}},{key:"Ou",get:function(){var t=[];return this.fF(t),t.join("")}}]),n}(oE),cE=function(){function t(t){this.$i=void 0,this.$i=t}return W(t,[{key:"xu",get:function(){return this.$i}}]),t}(),aE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!dE(this,t)&&this.xu===t.xu},W(n,[{key:"nu",get:function(){return rn.eu}}]),n}(cE),fE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!dE(this,t)&&this.xu===t.xu},W(n,[{key:"nu",get:function(){return rn.uu}}]),n}(cE),hE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.fu=function(t){var i=new n;return t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!dE(this,t)&&lE(this.pu,t.pu)},W(n,[{key:"nu",get:function(){return rn.ou}},{key:"Pu",get:function(){return this.Eu[0]}}]),n}(oE);function vE(t){return en(t)}function dE(t,n){return t.nu===n.nu}function lE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].au(n[i]))return!1;return!0}var wE,yE=["adBreak"],gE=["adBreak"];function _E(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Hr({},t,{adBreak:Hr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ig(t,yE)})})})}function pE(t){return void 0===t.ads?t:Hr({},t,{ads:t.ads.map(function(t){t.adBreak;return Ig(t,gE)})})}function mE(t){return"string"==typeof t.date?new Date(t.date):t.date}function kE(t){var n;return t.cue.track?(n=TE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=TE(t.cue,""),n}function bE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function TE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new eE).su(r.firstChild.outerHTML).Pu.Nu.forEach(function(t){e[t.hu]=t.wu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=EE(s);u[o]={type:wE.hF,value:c}}else RE(s)?u[o]={type:wE.vF,value:s}:u[o]={type:wE.dF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=EE(t.scte35Cmd),i.scte35Out=EE(t.scte35Out),i.scte35In=EE(t.scte35In),i.customAttributes=u}var a}(),i}function EE(t){if(void 0!==t)return fu(t)}function SE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(TE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(TE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function RE(t){return"number"==typeof t}!function(t){t.dF="daterange-ca-type_string",t.vF="daterange-ca-type_number",t.hF="daterange-ca-type_arraybuffer"}(wE||(wE={}));var IE={cue:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=kE(t)}return n},textTrack:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=NE().register(t.cue));var i=DE()[OE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=kE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(TE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=NE().register(t)}),n.track=SE(t.track);case"removetrack":case"change":n.track=SE(t.track)}return n},default:function(t){var n={};switch(n.date=mE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Hr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=SE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=pE(t.ad);break;case"adloaded":case"adimpression":n.ad=_E(t.ad);break;case"aderror":t.lF&&(n.lF=t.lF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=_E(t.ad)}return bE(n)},minimizeCueHelper:function(t){var n={};return n.date=mE(t),n.type=t.type,n.cue=kE(t),n.track={uid:t.cue.track.uid},n},adReplacer:_E,adBreakReplacer:pE,removeCircularReferences:bE},CE=function(){this.stringify=ZT,this.minimize=IE};function AE(){return R.self}function DE(){return AE().THEOplayerBridge}function NE(){return AE().THEOCueMirrorMap}function OE(){return AE().THEOplayerGlobalID}function xE(){var t=AE();if(t.THEOplayerBridge){var n=new YT;t.THEOplayerBridge=Mv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new YT;t.THEOplayerUtils||(t.THEOplayerUtils=new CE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new KT)}xE();var PE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new LE(n)},n}(an),LE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},W(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=BE(this.yu.childNodes)),this.gu}},{key:"Pu",get:function(){return new FE(this.yu.documentElement)}}]),n}(yn),FE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.fu=function(t){var i=new n(this.yu.cloneNode(t));return i.Nu.length<1&&this.Nu.length>0&&this.Nu.forEach(function(t){i.Au(t.vu,t.wu)}),i},W(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=BE(this.yu.childNodes)),this.gu}}]),n}(vn);function ME(t){switch(t.nodeType){case rn.iu:return new FE(t)}return _n(t)}function BE(t){for(var n=[],i=0;i<t.length;i++){var r=ME(t.item(i));r&&n.push(r)}return n}x(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).wF=new PE,n}return $(n,t),n.prototype.su=function(t){return this.wF.su(t)},n}(bv)));var UE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return $(n,t),n}(Ge),VE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new UE(t,n))},i.addEventListener=function(t,n){this.Hs(t,n)},i.removeEventListener=function(t,n){this.$s(t,n)},n}(ad);function qE(t,n){return t.Y_<=n&&t.K_>n}function HE(t,n){return function(t,n){return hl(t.Y_,n.Y_,uw)}(t,n)||function(t,n){return hl(t.K_,n.K_,uw)}(t,n)}function jE(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,F,HE,!0);if(i<0)return i;for(;i<t.length&&HE(n,t[i])===rl.Qw;i++)if(t[i].vy(n))return i;return-(i+1)}function WE(t){var n=t.sl;if(!n)return-1;if(t instanceof ow)return n.yF(t);var i=n.ow;if(!i)return-1;var r=jE(i.Ll,t);return r>=0?r:-1}var zE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.j_,n)||this).Zy=i,r}return $(n,t),n.prototype.ol=function(){return new $E(this.G_.ul)},n}(nw),$E=function(t){function n(n){return t.call(this,Ql.j_,n)||this}return $(n,t),n}(iw),XE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.z_,n)||this).Zy=i,r}return $(n,t),n.prototype.ol=function(){return new GE(this.G_.ul)},n}(nw),GE=function(t){function n(n){return t.call(this,Ql.z_,n)||this}return $(n,t),n}(iw),YE=function(t){function n(n){var i;return(i=t.call(this,Ev.vl)||this).G_=n,i}return $(n,t),n.prototype.ol=function(){return new KE(this.G_.ul)},n}(Sv),KE=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return $(n,t),n}(Rv),JE=function(t){function n(n){var i;return(i=t.call(this,Ev.ll)||this).G_=n,i}return $(n,t),n.prototype.ol=function(){return new QE(this.G_.ul)},n}(Sv),QE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return $(n,t),n}(Rv),ZE=function(t){function n(n){var i;return(i=t.call(this,Ev.yl)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new tS(this.sl.ul)},n}(Sv),tS=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return $(n,t),n}(Rv);function nS(t,n){return fl(t.Zy,n.Zy)||function(t,n){return t.sl===n.sl?al(WE(t),WE(n)):xy(t.sl,n.sl)}(t.G_,n.G_)||function(t,n){return t===n?rl.Qw:t===Jl.j_?rl.ty:rl.Zw}(t.type,n.type)}var iS=function(){function t(t,n){var i=this;this.AI=void 0,this.gF=void 0,this.jg=[],this._F=0,this.pF=0,this.mF=[],this.kF=!1,this.bF=!1,this.TF=void 0,this.EF=function(){i._F=0,i.SF(),i.RF()},this.IF=function(){i.SF(),i.RF()},this.CF=function(){i.bF=!0,i.TF=i.AI.qw,i.AF()},this.DF=function(){i.SF(),i.RF()},this.NF=function(){i.OF(),i.SF(),i.RF()},this.xF=function(){i.PF()},this.LF=function(t){Se(i.mF,t.G_),i.PF()},this.gF=n,this.AI=t,t.Hs(Zo.If,this.IF),t.Hs(Zo.lf,this.IF),t.Hs(xd.Vw,this.IF),t.Hs(Zo.df,this.IF),t.Hs(Zo.mf,this.CF),t.Hs(Zo.pf,this.DF),this.PF()}var n=t.prototype;return n.Pl=function(){Ce(this.mF);for(var t=0,n=this.jg.slice();t<n.length;t++){var i=n[t];this.Ol(i)}this.AF(),this._F=0,this.pF=0,this.kF=!1,this.bF=!1,this.TF=void 0},n.Nl=function(t){Ie(this.jg,t)||(this.jg.push(t),t.Hs(Ev.cl,this.xF),t.Hs(Ev.fl,this.LF),t.Hs(Ev._l,this.NF),t.ow.Fl&&this.PF(),this.OF())},n.Ol=function(t){if(Se(this.jg,t)){if(t.$s(Ev.cl,this.xF),t.$s(Ev.fl,this.LF),t.$s(Ev._l,this.NF),t.ow.Fl){for(var n=0,i=t.ow.Ll;n<i.length;n++){var r=i[n];Se(this.mF,r)}this.PF()}this.OF()}},n.OF=function(){this.kF=this.jg.some(function(t){return t.nw!==Zv.ew})},n.RF=function(){this.AI.Gw||this.AI.$w?this.AF():this.PF()},n.PF=function(){this.kF&&(this._F||(this._F=this.gF._r(this.EF)))},n.AF=function(){this._F&&(this.gF.FF(this._F),this._F=0)},n.SF=function(){var t;if(this.kF&&!this.AI.Gw){var n=this.jg,i=this.pF,r=null!=(t=this.TF)?t:this.AI.qw,e=r-i<-.1,u=this.bF||e;u&&r>i&&r-i<.1&&(u=!1),this.bF=!1,this.TF=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.nw!==Zv.ew){a.MF(r,u);for(var f=0,h=a.sw.Ll;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.mF;else{o=[];for(var d=0;d<n.length;d++){var l=n[d];l.nw!==Zv.ew&&Oy(l,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Ie(s,o[y])&&Re(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.Y_>=i&&p.K_<=r&&(g.push(p),Re(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.sp||m.push(new zE(T,T.Y_)),m.push(new XE(T,w.max(T.Y_,T.K_)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.sp&&(m.push(new XE(R,w.max(R.Y_,R.K_))),R.sp=!1)}for(var I=0;I<s.length;I++){var C=s[I];C.sp||(m.push(new zE(C,C.Y_)),C.sp=!0)}m.sort(nS);for(var A=0;A<m.length;A++){var D=m[A],N=D.G_;N.qs(D);var O=N.sl;O&&(D.type===Jl.j_?O.qs(new YE(N)):O.qs(new JE(N)),Ie(k,O)||k.push(O))}k.sort(xy);for(var x=0;x<k.length;x++){var P=k[x];P.qs(new ZE(P))}this.pF=r,this.mF=s}},n.sr=function(){this.Pl(),this.AI.$s(Zo.If,this.IF),this.AI.$s(Zo.lf,this.IF),this.AI.$s(xd.Vw,this.IF),this.AI.$s(Zo.df,this.IF),this.AI.$s(Zo.mf,this.CF),this.AI.$s(Zo.pf,this.DF)},t}(),rS=function(){function t(){}var n=t.prototype;return n._r=function(t){return sb(t)},n.FF=function(t){cb(t)},t}(),eS=new rS,uS=function(t){function n(n,i){return void 0===i&&(i=eS),t.call(this,n,i)||this}return $(n,t),n}(iS),oS=function(t){function n(){return t.call(this,Zo.cf)||this}return $(n,t),n}(Ge),sS=function(t){function n(n){var i;return(i=t.call(this,Zo.wf)||this).currentTime=n,i}return $(n,t),n}(Ge),cS=function(t){function n(n,i){var r;return(r=t.call(this)||this).BF=void 0,r.UF=void 0,r.VF=function(t){r.BF.qF("THEOplayerABRSetTargetBuffer",t.GO),r.qs(t)},r.HF=function(t){r.BF.qF("THEOplayerABRSetStrategy",t.KO),r.qs(t)},r.BF=n,r.UF=i,r.UF.Hs("YO",r.VF),r.UF.Hs("JO",r.HF),r}return $(n,t),W(n,[{key:"sx",get:function(){var t;switch(this.KO.type){case xb.PERFORMANCE:return 1;case xb.QUALITY:return 0;case xb.BANDWIDTH:return null!=(t=this.KO.metadata)&&t.bitrate&&!_(this.KO.metadata.bitrate)?this.KO.metadata.bitrate:0;default:return 0}}},{key:"ul",get:function(){return this.UF.ul}},{key:"KO",get:function(){return this.UF.KO},set:function(t){this.UF.KO=t}},{key:"GO",get:function(){return this.UF.GO},set:function(t){this.UF.GO=t}},{key:"QO",get:function(){return this.UF.QO},set:function(t){this.UF.QO=t}}]),n}($e),aS=function(){function t(t){this.jF=void 0,this.il=void 0,this.jF=t}var n=t.prototype;return n.ol=function(){return function(t){for(var n=[],i=0;i<t.Fl;i++)n[i]=t.fc(i).ul;return n.item=function(n){var i=0|n,r=t.fc(i);return r&&r.ul||void 0},l.defineProperty(n,"constructor",{value:ew}),n}(this)},n.D_=function(t){for(var n=this.jF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.vy(r))return!0}return!1},n.fc=function(t){return this.jF[t]},W(t,[{key:"Ll",get:function(){return this.jF}},{key:"Fl",get:function(){return this.jF.length}},{key:"ul",get:function(){if(this.il){var t=this.jF;this.il.length=t.length;for(var n=0;n<t.length;n++)this.il[n]=t[n].ul}else this.il=this.ol();return this.il}}]),t}(),fS=function(t){function n(n,i){var r;return(r=t.call(this,Ev.ml)||this).sl=n,r.uw=i,r}return $(n,t),n.prototype.ol=function(){return new hS(this.sl.ul,od(this.uw))},n}(Sv),hS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return $(n,t),n}(Rv),vS=function(t){function n(n){var i;return(i=t.call(this,Ev.bl)||this).sl=n,i}return $(n,t),n.prototype.ol=function(){return new dS(this.sl.ul)},n}(Sv),dS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return $(n,t),n}(Rv),lS=function(t){function n(n){var i;return(i=t.call(this,Ev.cl)||this).G_=n,i}return $(n,t),n.prototype.ol=function(){return new wS(this.G_.ul)},n}(Sv),wS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return $(n,t),n}(Rv),yS=function(t){function n(n){var i;return(i=t.call(this,Ev.fl)||this).G_=n,i}return $(n,t),n.prototype.ol=function(){return new gS(this.G_.ul)},n}(Sv),gS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return $(n,t),n}(Rv),_S=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this)||this).il=void 0,c.O_=void 0,c.P_=Hl(),c.WF=!1,c.zF=void 0,c.XF=void 0,c.x_=void 0,c.GF=void 0,c.YC=Zv.ew,c.YF=Gl.NONE,c.KF=void 0,c.Lu=void 0,c.jF=[],c.JF=[],c.QF=void 0,c.ZF=void 0,c.tM=0,c.nM=0,c.O_=i||"",c.zF=s||"",c.XF=n,c.GF=e||"",c.WF=Boolean(u),c.Lu=o||Yl.DEFAULT,c.x_=r||"",c.QF=new aS(c.jF),c.ZF=new aS(c.JF),c}$(n,t);var i=n.prototype;return i.iM=function(t){return Ee(this.QF.Ll,function(n){return n.$l===t})},i.ol=function(){return rd(this)},i.fA=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Zv.ew:case Zv.rw:case Zv.iw:return n}}else if("number"==typeof t)switch(t){case 0:return Zv.ew;case 1:return Zv.rw;case 2:return Zv.iw}return Zv.ew}(t);n!==this.nw&&(this.YC=n,n===Zv.ew&&(this.JF.forEach(function(t){t.sp=!1}),Ce(this.JF),this.nM=0))},i.qT=function(t){if(t&&!t.sl){var n=jE(this.ow.Ll,t);if(!(n>=0)){t.sl=this;var i=-(n+1);this.jF.splice(i,0,t),this.rM(i),t.op=i,i<this.nM&&(this.nM=i),this.qs(new lS(t))}}},i.eM=function(t){if(t&&t.sl===this){var n=this.yF(t);if(!(n<0)){t.sp=!1;var i=this.JF,r=jE(i,t);r>=0&&Re(i,r),Re(this.jF,n),this.rM(n),t.op=-1,this.nM>n&&--this.nM,this.qs(new yS(t))}}},i.MF=function(t,n){var i=this.JF,r=this.jF,e=this.nM,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){qE(i[o],t)||(u=!0,Re(i,o))}for(;e<r.length&&r[e].Y_<=t;){var s=r[e];if(0===t)break;qE(s,t)&&!Ie(i,s)&&(u=!0,i.push(s)),e++}u&&be(i,HE),this.nM=e},i.yF=function(t){return(-1===t.op||t.op>=this.tM)&&this.uM(),t.op},i.uM=function(){for(var t=this.jF,n=this.tM;n<t.length;n++)t[n].op=n;this.tM=t.length},i.rM=function(t){t<this.tM&&(this.tM=t)},i.sr=function(){this.zs();for(var t=this.jF.slice(),n=0;n<t.length;n++){t[n].sr()}Ce(this.jF),Ce(this.JF)},W(n,[{key:"sw",get:function(){return this.ZF}},{key:"ow",get:function(){return this.QF}},{key:"jT",get:function(){return this.WF},set:function(t){this.WF=t}},{key:"ul",get:function(){return this.il||(this.il=this.ol()),this.il}},{key:"$l",get:function(){return this.O_}},{key:"Xl",get:function(){return this.P_}},{key:"tw",get:function(){return this.zF},set:function(t){this.zF=t}},{key:"Gl",get:function(){return this.XF}},{key:"Yl",get:function(){return this.x_},set:function(t){t!==this.x_&&(this.x_=t,this.qs(new Ul(this)))}},{key:"Kl",get:function(){return this.GF}},{key:"nw",get:function(){return this.YC},set:function(t){this.fA(t),this.qs(new Ov(this))}},{key:"uw",get:function(){return this.YF},set:function(t){this.YF!==t&&(this.YF=t,this.qs(new fS(this,this.YF)))}},{key:"cw",get:function(){return this.KF},set:function(t){this.KF=t}},{key:"as",get:function(){return this.Lu},set:function(t){this.Lu!==t&&(this.Lu=t,this.qs(new vS(this)))}}]),n}($e);function pS(t,n,i){for(var r=t[n].Y_,e=n;e>=0&&t[e].Y_===r;e--)t[e].K_=i}var mS,kS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).oM=void 0,e}return $(n,t),n.prototype.vy=function(n){return this===n||Vv(this,n)&&t.prototype.vy.call(this,n)&&(i=n,this.J_===i.J_);var i},W(n,[{key:"ul",get:function(){return this.il||(this.il=rw(this)),this.il}}]),n}(ow),bS=function(t){function n(n,i,r){return void 0===r&&(r=Yl.DEFAULT),t.call(this,Ey.km,"",i||"","",!1,r,n)||this}return $(n,t),n}(_S),TS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).as=Yl.ID3,r.oM=void 0,r}$(n,t);var i=n.prototype;return i.qT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Y_<t.Y_)pS(n,i,t.Y_);else{var r=n[0];if(r.Y_>t.Y_)t.K_=r.Y_;else{var e=jE(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].Y_<t.Y_&&pS(n,o,t.Y_),u<n.length){var s=n[u];t.K_=s.Y_}}}}}}(n,this.jF),t.prototype.qT.call(this,n)},i.ol=function(){return rd(this)},n}(bS),ES=(Zo.lf,Zo.df,xd.Vw,Zo.If,Zo.wf,Zo.cf,Zo.mf,Zo.pf,Zo.ef,Zo.yf,Zo.Cf,Zo.if,xd.ml,Zo._f,td.Zl,ze.rc,ze.uc,Zo.Za,Zo.Qa,Zo.Af,{sM:!1,cM:50}),SS=function(){function t(t,n,i){this.ma=void 0,this.ys=void 0,this.Oa=void 0,this.Gc=void 0,this.ma=t,this.ys=i,this.Oa=n}var n=t.prototype;return n.HT=function(t){throw new v("Not implemented yet.")},n.aM=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ys.ps(n.fs,i);case 2:return r=t.sent,t.next=5,r.ra();case 5:return e=t.sent,t.next=8,this.fM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.hM=function(t){return!1},n.vM=function(t){return A.resolve(void 0)},n.Is=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.fM=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.dM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dM=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Gc)){t.next=5;break}return t.next=4,i.ta(this.Oa);case 4:this.Gc=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Zc(this.Oa);case 8:this.Gc=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.UT=function(t,n,i){throw new v("Not implemented yet.")},W(t,[{key:"Kc",get:function(){return this.ma}},{key:"I_",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"C_",get:function(){return new im([0,1/0])}},{key:"Yg",get:function(){throw new v("Not implemented yet.")}},{key:"lM",get:function(){throw new v("Not implemented yet")}},{key:"Gg",get:function(){throw new v("Not implemented yet.")}},{key:"wM",get:function(){throw new v("Not implemented yet")}},{key:"yM",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.gM="webkitneedkey",t._M="webkitkeymessage",t.pM="webkitkeyerror"}(mS||(mS={}));var RS,IS,CS=function(t){function n(n,i){var r;return(r=t.call(this,mS.gM)||this).initData=n,r.sessionId=i,r}return $(n,t),n}(Ge),AS=function(t){function n(n,i){var r;return(r=t.call(this,mS._M)||this).message=n,r.destinationURL=i,r}return $(n,t),n}(Ge),DS=function(t){function n(){return t.call(this,mS.pM)||this}return $(n,t),n}(Ge),NS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).sa=new ro,o.ka=void 0,o.fa=new iu,o.Ta=new ro,o.mM=function(t){o.ka?(o.ka.Sc(void 0),o.ka=void 0):o.wa("internal-error"),o.qs(new Ze)},o.kM=function(t){o.ka&&(o.ka.Ec(void 0),o.ka=void 0),o.qs(new Qe(un(o),"license-request",no(t.message).buffer,t.destinationURL||void 0))},o.ga=n,o.Lc=i,o.bM=r,o.Da=e,o.Sa=u,o}$(n,t);var i=n.prototype;return i.Uc=function(){var t=A.coroutine(qr.mark(function t(n,i,r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ra){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.TM(Zu(i),e);case 5:this.wa("usable"),this.Ta.Ec(),this.Ta=new ro;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Hc=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Zu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.ka=new ro,this.bM.Hc(this.Da,i),t.next=7,this.ka.Tc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ta;case 2:return this.bM.$s(mS._M,this.kM),this.bM.$s(mS.pM,this.mM),this.Ta.xs(),this.sa.Ec(void 0),t.abrupt("return",this.sa.Tc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.TM=function(){var t=A.coroutine(qr.mark(function t(n,i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Oo(n,i,this.Sa),this.bM.Hs(mS._M,this.kM),this.bM.Hs(mS.pM,this.mM),this.bM.EM(this.Da,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wa=function(t){this.fa.dc(),this.fa.vc(nu,t),this.qs(new Je(this))},W(n,[{key:"Xc",get:function(){return this.Da}},{key:"zc",get:function(){return NaN}},{key:"Wc",get:function(){return this.sa.Tc}},{key:"$c",get:function(){return this.fa}}]),n}($e),OS=function(){function t(t,n,i){this.SM=void 0,this.Da=void 0,this.Sa=void 0,this.bM=void 0,this.Lc=void 0,this.ma=void 0,this.ga=void 0,this.bM=t,this.Lc=n,this.ma=i;var r=go(i)||"video/mp4";this.ga=lo(r)}var i=t.prototype;return i.Jc=function(){var t=A.coroutine(qr.mark(function t(i){var r;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Sa){t.next=2;break}throw new xo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new NS(this.ga,this.Lc,this.bM,this.Da,this.Sa),this.SM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(t){return this.Sa=Zu(t),A.resolve(!0)},i.Zc=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ta=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},W(t,[{key:"Yc",get:function(){return this.Lc}},{key:"Kc",get:function(){return this.ma}},{key:"sessionId",set:function(t){this.Da=t}}]),t}(),xS=function(){function t(t,n,i){this.RM=t,this.Lc=n,this.ma=i}var n=t.prototype;return n.ea=function(){return this.ma},n.ra=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new OS(this.RM,this.Lc,this.ma));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"Yc",get:function(){return this.Lc}}]),t}(),PS=function(){function t(t){this.RM=void 0,this.RM=t}return t.prototype.ps=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=wo(LS,Ke,n,e))){t.next=6;break}return t.abrupt("return",new xS(this.RM,n,u));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function LS(t,n){return t===oe}!function(t){t.QA="IM"}(RS||(RS={})),function(t){t.CM="AM"}(IS||(IS={}));var FS,MS,BS;IS.CM;!function(t){t[t.DM=0]="DM",t[t.Pf=1]="Pf",t[t.NM=2]="NM"}(FS||(FS={})),function(t){t.OM="xM"}(MS||(MS={})),function(t){t[t.PM=0]="PM",t[t.LM=1]="LM",t[t.FM=2]="FM"}(BS||(BS={}));var US;it.Ne&&it.Oe,it.Ve,Zo.lf,Zo.df,Zo.mf,Zo.pf,Zo.ef,Zo.yf,xd.ml,td.Zl,it.Pe||it.Le;!function(t){t.MM="closed",t.Gv="open",t.ef="ended"}(US||(US={}));var VS,qS;Zo.Cf,Zo.yf,Zo.mf,Zo.lf,Zo.df,xd.ml,Zo.lf,Zo.df,Zo.mf,Zo.pf,Zo.ef,td.Zl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(VS||(VS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(qS||(qS={}));var HS=function(t){function n(n){var i;return(i=t.call(this,0,n.J_)||this).BM=void 0,i.BM=n,i.K_=i.BM.Y_,i}return $(n,t),W(n,[{key:"$l",get:function(){return this.BM.$l}},{key:"ap",get:function(){return this.BM.ap},set:function(t){this.BM.ap=t}},{key:"cp",get:function(){return this.BM.cp},set:function(t){this.BM.cp=t}}]),n}(kS);function jS(t){return void 0===t.oM&&(t.oM=new HS(t)),t.oM}var WS=function(t){function n(n,i){var r;(r=t.call(this,n.tw,n.Yl)||this).UM=void 0,r.VM=void 0,r.qM=void 0,r.as=Yl.ID3,r.HM=function(t){r.jM(t.G_)},r.WM=function(t){var n=t.G_;if(void 0!==n.oM){var i=n.oM;n.oM=void 0,r.eM(i),i.sr()}},r.zM=function(t){var n=jS(t.G_);n.sp||r.$M(n),r.XM(n)},r.GM=function(t){var n=t.G_,i=jS(n);r.VM.qw<n.Y_&&r.$M(i)},r.YM=function(){var t=r.qM,n=r.nw;if(r.qM=n,n===Zv.ew)r.JF.forEach(function(t){return t.sp=!1}),Ce(r.JF);else if(t===Zv.ew)for(var i=r.VM.qw,e=0,u=r.jF;e<u.length;e++){var o=u[e];i<o.K_&&r.$M(o)}},r.VM=i,r.UM=n,r.qM=n.nw,n.Hs(Ev.cl,r.HM),n.Hs(Ev.fl,r.WM),n.Hs(Ev.vl,r.zM),n.Hs(Ev.ll,r.GM),n.Hs(Ev._l,r.YM);for(var e=0,u=r.UM.ow.Ll;e<u.length;e++){var o=u[e];r.jM(o)}return r}$(n,t);var i=n.prototype;return i.$M=function(t){var n=jE(this.JF,t);if(!(n>=0)){var i=-(n+1);this.JF.splice(i,0,t),t.sp=!0,t.qs(new zE(t,this.VM.qw)),this.qs(new YE(t)),this.qs(new ZE(this))}},i.XM=function(t){var n=jE(this.JF,t);n>=0&&Re(this.JF,n),t.sp=!1,t.qs(new XE(t,this.VM.qw)),this.qs(new JE(t)),this.qs(new ZE(this))},i.sr=function(){this.UM.$s(Ev.cl,this.HM),this.UM.$s(Ev.fl,this.WM),this.UM.$s(Ev.vl,this.zM),this.UM.$s(Ev.ll,this.GM),this.UM.$s(Ev._l,this.YM),t.prototype.sr.call(this)},i.jM=function(t){var n=jS(t);(this.qT(n),this.nw!==Zv.ew)&&(this.VM.qw<n.K_&&this.$M(n))},W(n,[{key:"Gl",get:function(){return this.UM.Gl}},{key:"Yl",get:function(){return this.UM.Yl},set:function(t){this.UM.Yl=t}},{key:"Kl",get:function(){return this.UM.Kl}},{key:"$l",get:function(){return this.UM.$l}},{key:"Xl",get:function(){return this.UM.Xl}},{key:"tw",get:function(){return this.UM.tw}},{key:"nw",get:function(){return this.UM.nw},set:function(t){this.UM.nw=t}},{key:"uw",get:function(){return this.UM.uw}},{key:"cw",get:function(){return this.UM.cw}}]),n}(bS),zS=function(t){function n(n){var i;return(i=t.call(this)||this).VM=void 0,i.VM=n,i}$(n,t);var i=n.prototype;return i.Nl=function(n){if(n.as===Yl.ID3){var i=n;return i.oM||(i.oM=new WS(i,this.VM)),t.prototype.Nl.call(this,i.oM)}return t.prototype.Nl.call(this,n)},i.Ol=function(n){if(n.as===Yl.ID3){var i=n;return!!i.oM&&t.prototype.Ol.call(this,i.oM)}return t.prototype.Ol.call(this,n)},n}(sd),$S=function(t){function n(n,i){var r;return(r=t.call(this)||this).KM=new Kr,r.rR=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.sl).as){t.next=4;break}return t.next=4,i.Ks(Ev.bl);case 4:if(i.as===Yl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.ow.Fl){t.next=11;break}return t.next=9,i.Ks(Ev.cl);case 9:t.next=6;break;case 11:r.JM(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.eR=function(t){var n=t.sl;if(n.as===Yl.ID3&&r.KM.has(n.Xl)){var i=r.KM.get(n.Xl);r.Ol(i),r.LT.HT(i),n.$s(Ev.cl,r.jM)}},r.jM=function(t){XS(t.G_)&&r.QM(t.G_)},r.LT=n,r.ZM=i,r.tB(),r}$(n,t);var i=n.prototype;return i.tB=function(){this.ZM.Hs(mv.Qd,this.rR),this.ZM.Hs(mv.tl,this.eR)},i.nB=function(){this.ZM.$s(mv.Qd,this.rR),this.ZM.$s(mv.tl,this.eR)},i.JM=function(t){var n=t.ow.Ll[0];if(XS(n)){var i=function(t){var n=t.match(GS);if(!n)return;return{sl:n[1],Kl:n[2]}}(n.J_.description),r=i.sl,e=i.Kl;if(!this.iB(r,e)){var u=this.LT.UT(Ey.pm,t.$l,r,e,!1,Yl.TTML);this.Nl(u),this.KM.set(t.Xl,u);for(var o=0,s=t.ow.Ll;o<s.length;o++){var c=s[o];XS(c)&&this.QM(c)}t.Hs(Ev.cl,this.jM)}}},i.iB=function(t,n){return!!Ee(this.dk.Ll,function(i){return i.Yl===t&&i.Kl===n})},i.QM=function(t){if(t.sl)for(var n=this.KM.get(t.sl.Xl),i=ly(t.J_.text,0,{Ep:0,Sp:1/0,Rp:-t.K_}),r=0;r<i.length;r++){var e=i[r];n.qT(e)}},i.Pl=function(){var n=A.coroutine(qr.mark(function n(){var i,r,e,u,o;return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.ZM.Ll;i<r.length;i++)r[i].$s(Ev.cl,this.jM);for(e=0,u=this.dk.Ll;e<u.length;e++)o=u[e],this.LT.HT(o);return this.KM.clear(),n.next=5,t.prototype.Pl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.nB(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ry);function XS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.J_)&&GS.test(n.description);var n}var GS=/^Track:(.+),Lang:(.+)$/;var YS,KS;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).il=void 0,n}return $(n,t),W(n,[{key:"ul",get:function(){return this.il||(this.il=lT(this)),this.il}},{key:"UP",get:function(){}},{key:"VP",get:function(){}},{key:"qP",get:function(){}},{key:"HP",get:function(){}},{key:"jP",get:function(){}},{key:"WP",get:function(){}},{key:"zP",get:function(){}}]),n}($e));!function(t){t.rB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.eB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.uB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.oB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(YS||(YS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(KS||(KS={}));var JS,QS;zr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),zr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),KS.WHITE,KS.TRANSPARENT,KS.TRANSPARENT;!function(t){t.sB="Data",t.cB="Tag",t.aB="StartTag",t.fB="StartTagClass",t.hB="StartTagAnnotation",t.vB="CharRefInAnnotation",t.dB="EndTag",t.lB="TimestampTag"}(JS||(JS={})),function(t){t.dF="string",t.wB="starttag",t.yB="endtag",t.gB="timestamp"}(QS||(QS={}));var ZS,tR;KS.WHITE,KS.TRANSPARENT;!function(t){t[t._B=0]="_B",t[t.pB=1]="pB",t[t.mB=2]="mB",t[t.kB=3]="kB",t[t.bB=4]="bB",t[t.TB=5]="TB"}(ZS||(ZS={})),function(t){t[t.EB=0]="EB",t[t.SB=1]="SB",t[t.RB=2]="RB",t[t.IB=3]="IB"}(tR||(tR={}));var nR,iR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.RI=0]="RI",t[t.CB=1]="CB",t[t.AB=2]="AB",t[t.DB=3]="DB",t[t.eu=4]="eu"}(nR||(nR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(iR||(iR={}));var rR;KS.WHITE,YS.uB,KS.BLACK,iR.FONT_REGULAR,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.GREEN,iR.FONT_REGULAR,KS.GREEN,iR.FONT_UNDERLINE,KS.BLUE,iR.FONT_REGULAR,KS.BLUE,iR.FONT_UNDERLINE,KS.CYAN,iR.FONT_REGULAR,KS.CYAN,iR.FONT_UNDERLINE,KS.RED,iR.FONT_REGULAR,KS.RED,iR.FONT_UNDERLINE,KS.YELLOW,iR.FONT_REGULAR,KS.YELLOW,iR.FONT_UNDERLINE,KS.MAGENTA,iR.FONT_REGULAR,KS.MAGENTA,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_ITALICS,KS.WHITE,iR.FONT_UNDERLINE_ITALICS,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE,KS.WHITE,iR.FONT_REGULAR,KS.WHITE,iR.FONT_UNDERLINE;!function(t){t.NB="HELLO",t.OB="HI_THERE",t.xB="INITIALIZE",t.PB="APPEND_INIT",t.LB="APPEND_DATA",t.FB="ACK",t.MB="REMOVE",t.BB="DESTROY_SESSION"}(rR||(rR={}));var eR=yl.Cy,uR=new yl(-1/0),oR=yl.ag,sR=new(function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.uy=function(t,n){return t.ly(n)?rl.ty:t.vy(n)?rl.Qw:rl.Zw},i.py=function(t,n){return t.py(n)},i._y=function(t,n){return t._y(n)},i.hy=function(t,n){return t.hy(n)},i.JI=function(){return eR},i.QI=function(){return oR},i.iC=function(){return uR},n.mC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new yl(t.start(r)),new yl(t.end(r)));return new n(i)},n.UB=function(t){for(var i=[],r=[],e=0;e<t.Fl;e++)i.push(new yl(t.VI(e))),i.push(new yl(t.HI(e))),r.push(t.qI(e)),r.push(t.jI(e));return new n(i,r)},n.bC=function(t){return new n([t,t],[!0,!0])},i.YI=function(t,i){return new n(t,i)},i.XI=function(t){return t.sg},n.TC=function(){return sR},n}(nm))([]),cR=(Fl.Nv,Fl.Ov,function(t){function n(n){var i;return(i=t.call(this,Zo.Qa)||this).errorObject=void 0,i.errorObject=n,i}return $(n,t),W(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ge)),aR=function(t){function n(){return t.call(this,Zo.Za)||this}return $(n,t),n}(Ge),fR=function(t){function n(n){var i;return(i=t.call(this,"Df")||this).VB=n,i}return $(n,t),n}(Ge),hR=new PT,vR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Wc=void 0,u.Pi=!1,u.qB=!1,u.Pd=new De,u.Pc=function(t){switch(t.tc){case"license-request":u.EE(t.Zs,t.nc).catch(function(t){return u.da(t)});break;default:u.da(new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.tc))}},u.HB=function(t){u.jB.$c.hc(function(t,n){switch(t){case"usable":N.So(function(){u.qB=!0,u.qs(new aR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.qs(new fR(n))}})},u.WB=function(t){u.da(new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.jB=i,u.zB=r,u.$B=e,i.Hs("Zs",u.Pc),i.Hs("Qs",u.HB),i.Hs("ic",u.WB),u.Wc=i.Wc.then(function(){return u.XB()}),u}$(i,t);var r=i.prototype;return r.Uc=function(){var t=this;return this.Pi=!0,hR.FL(function(n){return t.GB(n)},this.Pd.Fs)},r.GB=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,xe(i),t.next=4,this.zB.gE(i);case 4:return t.next=6,this.zB._E(this.$B.hs,this.$B.sc,i);case 6:return r=t.sent,t.next=9,this.jB.Uc(this.$B.hs,this.$B.sc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),Pe(t.t0),e=t.t0 instanceof co?t.t0.Ic:void 0,u=new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.da(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(){var t=A.coroutine(qr.mark(function t(i,r){var e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!uo(i)){t.next=7;break}return t.next=4,this.zB.OE(new p(i),this.Pd.Fs);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.zB.xE(new p(i),r,this.Pd.Fs);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Oe(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.jB.Hc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof co?t.t1.Ic:void 0,new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.da=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new cR(i)),this.Bc()},r.XB=function(){this.jB.$s("Zs",this.Pc),this.jB.$s("Qs",this.HB),this.jB.$s("ic",this.WB),this.qB=!1,this.Pd.xs()},r.Bc=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.XB(),t.next=4,this.jB.Bc().catch(L);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}($e),dR=[Zo.Za,Zo.Qa,Zo.Af],lR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Lc=void 0,e.Gc=void 0,e.YB=void 0,e.KB=[],e.JB=void 0,e.QB=[],e.Lc=n,e.Gc=i,e.YB=r,e}$(n,t);var i=n.prototype;return i.NE=function(){return this.YB.NE()},i.ZB=function(t){return this.JB||(this.JB=this.tU(t)),this.JB},i.tU=function(){var t=A.coroutine(qr.mark(function t(n){var i;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return xe(n),t.next=3,this.YB.OE(new p(eo()),n);case 3:return i=t.sent,xe(n),t.next=7,this.Gc.Qc(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.EM=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.QB.push(n),t.next=4,this.Gc.Jc("temporary");case 4:return i=t.sent,r=new vR(i,this.YB,n),this.KB.push(r),r.Hs(dR,this.Vs),r.Wc.then(function(){return e.nU(r)}),t.abrupt("return",r);case 10:return t.prev=10,Se(this.QB,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.iU=function(t){if(t.rU)return!1;for(var n=0,i=this.KB;n<i.length;n++){if(wR(i[n].$B,t))return!0}for(var r=0,e=this.QB;r<e.length;r++){if(wR(e[r],t))return!0}return!1},i.nU=function(t){t.$s(dR,this.Vs),Se(this.KB,t)},i.sr=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),n=this.KB.slice(),Ce(this.KB),t.next=5,A.all(n.map(function(t){return t.Bc()}));case 5:this.YB.Is();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Yc",get:function(){return this.Lc}}]),n}($e);function wR(t,n){return!t.rU&&t.hs===n.hs&&du(t.sc,n.sc)}var yR=function(t){function i(n){var i;return(i=t.call(this)||this).hR=void 0,i.Pd=new De,i.XL=new PT,i.ma=void 0,i.YB=void 0,i.vR=void 0,i.Lc=void 0,i.eU=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.uU(n.hs,n.sc,i.Pd.Fs);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Oe(t.t0)||i.da(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.hR=n,i.hR.Hs(ze.rc,i.eU),i}$(i,t);var r=i.prototype;return r.Vc=function(t,n){this.vR=t,this.vM(n)},r.vM=function(t){this.ma=t,this.oU(this.Pd.Fs).catch(Le)},r.oU=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!N.Vo.ao){t.next=5;break}return t.next=3,this.sU(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.ma||!this.ma.cU){t.next=9;break}return t.next=8,this.aU(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.sU=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.ma)?void 0:i.HR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this.ma)?void 0:s.HR)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.tR)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.uU(c.Yc.hs,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),Pe(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.uU=function(){var t=A.coroutine(qr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.ma&&this.ma.HR.length){t.next=5;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Qr||i===te||i===Zr){t.next=8;break}return t.abrupt("return");case 8:u=Zg(i,r),o=this.ma.HR,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],xe(e),(f=u[a.Yc.vs])&&a.Yc.hs===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.fU(a,e);case 20:if(!(h=t.sent).NE()){t.next=24;break}return t.next=24,h.ZB();case 24:if(v=this.hR.__,d={hs:a.Yc.hs,sc:f,rU:v},!this.hU(h,d)){t.next=32;break}return t.next=29,h.EM(d);case 29:return l=t.sent,t.next=32,l.Uc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Pe(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.Ao();case 44:if(!t.sent){t.next=48;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.aU=function(){var t=A.coroutine(qr.mark(function t(n){var i,r,e,u,o;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.ma)?void 0:i.HR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],xe(n),t.prev=7,t.next=10,this.fU(u,n);case 10:if(!(o=t.sent).NE()){t.next=14;break}return t.next=14,o.ZB();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Pe(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.hU=function(t,n){return N.Vo.co||!t.iU(n)},r.fU=function(t,n){var i=this;return this.XL.FL(function(n){return i.vU(t,n)},n)},r.vU=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(xe(i),this.ma&&this.YB&&this.vR){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Lc){t.next=7;break}if(this.Lc.Yc===n.Yc){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Lc);case 7:return r=this.YB,e=Hr({},n,{nI:n.nI.map(function(t){var i;return Hr({},t,{persistentState:null!=(i=t.persistentState)?i:r.ZE(n.Yc),ua:t.ua||r.ua(n.Yc)})})}),t.next=11,this.vR.aM(e.Yc,e.nI);case 11:return u=t.sent,o=r.ZS(e),(s=new lR(e.Yc,u,o)).Hs([Zo.Za,Zo.Qa,Zo.Af],this.Vs),this.Lc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.da=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.qs(new cR(i))},r.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vR=void 0,this.ma=void 0,this.Pd.xs(),this.Pd=new De,t.next=6,this.dU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.dU=function(){var t=A.coroutine(qr.mark(function t(){var n;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.XL.xs();case 2:if(!(n=this.Lc)){t.next=8;break}return n.$s(Zo.Af,this.Vs),this.Lc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Is=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zs(),this.hR.$s(ze.rc,this.eU),t.next=4,this.Pl();case 4:return t.next=6,this.XL.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(i,[{key:"lU",get:function(){var t;return null==(t=this.Lc)?void 0:t.Yc}},{key:"MR",get:function(){return this.YB},set:function(t){this.YB=t}}]),i}($e);it.Pe||it.Le,it.Qe,it.Ve;var gR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.hU=function(t,n){return!0},n}(yR),_R=function(t){function n(n,i,r){var e;return void 0===r&&(r=new PS(i)),(e=t.call(this)||this).vR=void 0,e.ys=void 0,e.wU=void 0,e.yU=new PT,e.gU=void 0,e.RM=void 0,e._U=!1,e.Da=void 0,e.Ea=null,e.pU={p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.mU=function(t){"boolean"==typeof t.detail.casting&&(e._U=t.detail.casting,e.qs(new tw(e._U)))},e.kU=function(t){e.Da=t.sessionId,e.Ea&&(e.Ea.sessionId=e.Da);var n=t.initData;if(n){var i=function(t){try{var n=Ku(t),i=new io;return ju(Wu(Cu(n,i,Ou(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.qs(new tu(te,i))}else e.qs(new tu(te,new ArrayBuffer(0)))},e.gU=n,e.RM=i,e.RM.Hs(mS.gM,e.kU),e.ys=r,e.wU=new gR(un(e)),e.bU(),e}$(n,t);var i=n.prototype;return i.TU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.as===Wy.WT)return i}},i.Is=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.EU(),this.RM.$s(mS.gM,this.kU),t.next=7,this.wU.Is();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.o_=function(){throw new v("Not implemented yet")},i.UT=function(t,n,i,r,e,u,o){throw new v("Not implemented yet")},i.XR=function(){return!1},i.YR=function(t,n,i,r){throw new v("Not implemented yet")},i.HT=function(t){throw new v("Not implemented yet")},i.QR=function(){throw new v("Not implemented yet")},i.Vc=function(){var t=A.coroutine(qr.mark(function t(n){var i=this;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.yU.FL(function(){var t=A.coroutine(qr.mark(function t(r){var e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.as!==Wy.WT){t.next=8;break}return xe(r),e=new SS(n,i,i.ys),i.vR=e,i.wU.Vc(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new v("Not implemented yet")},i.tr=function(){throw new v("Not implemented yet")},i.Pl=function(){var t=this;return this.yU.xs(),this.yU.FL(A.coroutine(qr.mark(function n(){return qr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.vR){n.next=4;break}return n.next=3,t.vR.Is();case 3:t.vR=void 0;case 4:return n.next=6,t.wU.Pl();case 6:case"end":return n.stop()}},n)})))},i.gc=function(t,n){throw new v("Not implemented yet")},i.eI=function(t){throw new v("Not implemented yet")},i.u_=function(){throw new v("Not implemented yet")},i.uI=function(){return this.pU},i.bU=function(){this.gU.addEventListener("airPlayIsCasting",this.mU)},i.EU=function(){this.gU.removeEventListener("airPlayIsCasting",this.mU)},i.webkitSetMediaKeys=function(t){this.Ea=t||null,this.Ea&&(this.Ea.sessionId=this.Da)},i.SU=function(){},i.RU=function(){throw new v("Not implemented yet")},i.IU=function(){throw new v("Not implemented yet")},W(n,[{key:"y_",get:function(){throw new v("Not implemented yet")}},{key:"w_",get:function(){throw new v("Not implemented yet")}},{key:"qw",get:function(){throw new v("Not implemented yet")}},{key:"gL",get:function(){throw new v("Not implemented yet")}},{key:"Hw",get:function(){throw new v("Not implemented yet")}},{key:"jw",get:function(){throw new v("Not implemented yet")}},{key:"ic",get:function(){throw new v("Not implemented yet")}},{key:"Ak",get:function(){throw new v("Not implemented yet")}},{key:"__",get:function(){return this._U}},{key:"zw",get:function(){throw new v("Not implemented yet")}},{key:"$w",get:function(){throw new v("Not implemented yet")}},{key:"Xw",get:function(){throw new v("Not implemented yet")}},{key:"R_",get:function(){throw new v("Not implemented yet")}},{key:"uw",get:function(){throw new v("Not implemented yet")}},{key:"C_",get:function(){throw new v("Not implemented yet")}},{key:"Gw",get:function(){throw new v("Not implemented yet")}},{key:"CU",get:function(){throw new v("Not implemented yet")}},{key:"Jw",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"do",get:function(){throw new v("Not implemented yet")}},{key:"JR",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Ea}},{key:"AU",get:function(){return ES}},{key:"Yg",get:function(){throw new v("Not implemented yet")}},{key:"pL",get:function(){throw new v("Not implemented yet")}},{key:"oI",get:function(){throw new v("Not implemented yet")}},{key:"DU",get:function(){return!0}},{key:"MR",get:function(){return this.wU.MR},set:function(t){this.wU.MR=t}},{key:"lU",get:function(){return this.wU.lU}}]),n}(cd),pR=function(t){function n(n){var i;return(i=t.call(this,Zo.Nf)||this).pU=n,i}return $(n,t),n}(Ge);var mR=function(t){function n(n){return t.call(this,Jl.El,n)||this}return $(n,t),n.prototype.ol=function(){return new kR(this.G_.ul)},n}(nw),kR=function(t){function n(n){return t.call(this,Ql.El,n)||this}return $(n,t),n}(iw),bR=function(t){function n(n,i){var r,e=TR(i,n.Hw,n.oI,n.NU);return(r=t.call(this,i,e,void 0,!1,n.$l)||this).OU=void 0,r.xU=void 0,r.PU=void 0,r.LU=void 0,r.FU=void 0,r.MU=void 0,r.BU=void 0,r.UU=void 0,r.VU=void 0,r.qU=void 0,r.OU=n.HU,r.xU=n.oI,r.PU=n.NU,r.LU=n.Hw,r.FU=n.jU,r.MU=Boolean(n.WU),r.BU=n.zU||{},r.UU=n.$U,r.VU=n.XU,r.qU=n.GU,r.YU(),r.KU(),r}$(n,t);var i=n.prototype;return i.Hc=function(t){var n=!1;void 0===this.OU&&void 0!==t.HU&&(n=!0,this.OU=t.HU),void 0===this.PU&&void 0!==t.NU&&(n=!0,this.PU=t.NU),void 0===this.LU&&void 0!==t.Hw&&(n=!0,this.LU=t.Hw),void 0===this.FU&&void 0!==t.jU&&(n=!0,this.FU=t.jU),!this.MU&&t.WU&&(n=!0,this.MU=t.WU),n=this.updateCustomAttributes(t,n),void 0===this.UU&&void 0!==t.$U&&(n=!0,this.UU=t.$U),void 0===this.VU&&void 0!==t.XU&&(n=!0,this.VU=t.XU),void 0===this.qU&&void 0!==t.GU&&(n=!0,this.qU=t.GU),this.YU(),this.KU(),this.JU(),n&&this.qs(new mR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.zU)for(var r=0,e=l.keys(t.zU);r<e.length;r++){var u=e[r];void 0===this.BU[u]&&(i=!0,this.BU[u]=t.zU[u])}return i},i.YU=function(){this.LU&&!this.PU&&(this.PU=new Date(this.xU.getTime()+1e3*this.LU))},i.KU=function(){this.PU&&!this.LU&&(this.LU=nn(this.PU.getTime()-this.xU.getTime()))},i.JU=function(){this.Z_===1/0&&(this.PU||this.LU)&&(this.Z_=TR(this.Q_,this.LU,this.xU,this.PU))},W(n,[{key:"ul",get:function(){var t;return this.il||(this.il=Mv(rw(t=this),{get content(){return t.J_},get class(){return t.HU},get startDate(){return t.oI},get endDate(){return t.NU},get duration(){return t.Hw},get plannedDuration(){return t.jU},get endOnNext(){return t.WU},get scte35Cmd(){return t.$U},get scte35Out(){return t.XU},get scte35In(){return t.GU},get customAttributes(){return t.zU}})),this.il}},{key:"HU",get:function(){return this.OU}},{key:"oI",get:function(){return this.xU}},{key:"NU",get:function(){return this.PU}},{key:"Hw",get:function(){return this.LU}},{key:"jU",get:function(){return this.FU}},{key:"WU",get:function(){return this.MU}},{key:"$U",get:function(){return this.UU}},{key:"XU",get:function(){return this.VU}},{key:"GU",get:function(){return this.qU}},{key:"zU",get:function(){return this.BU}}]),n}(ow);function TR(t,n,i,r){return ut(n)?t+n:r?t+(nn(r.getTime())-nn(i.getTime())):1/0}var ER,SR=function(t){function n(){return t.call(this,void 0,void 0,Yl.DATE_RANGE)||this}$(n,t);var i=n.prototype;return i.Hc=function(t,n){for(var i=this,r=function(t){for(var n=Wr(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.$l)){var u=n.get(e.$l),o=Hr({},u,qv(e),{zU:Hr({},u.zU,e.zU)});n.set(e.$l,o)}else n.set(e.$l,e),i.push(e.$l)}return i.map(function(t){return n.get(t)})}(t),e=this.ow.Ll,u=function(t){var n=e[t],u=Ee(r,function(t){return t.$l===n.$l});u?n.Hc(u):i.eM(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.oI;if(void 0!==a&&!this.iM(c.$l)){var f=n(a);this.qT(new bR(c,f))}}},i.qT=function(n){this.QU(n),t.prototype.qT.call(this,n)},i.QU=function(t){var n=this.jF.filter(function(n){return n.HU===t.HU}).pop();n&&n.WU&&n.Hc({$l:n.$l,NU:t.oI})},n}(bS);function RR(t){switch(t.type){case ER.dF:return t.value;case ER.vF:return jv(t.value);case ER.hF:return cu(t.value);default:return}}function IR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.dF="daterange-ca-type_string",t.vF="daterange-ca-type_number",t.hF="daterange-ca-type_arraybuffer"}(ER||(ER={}));var CR,AR,DR,NR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).AS=void 0,o.ZU=void 0,o.AS=n,o.ZU=u,o}return $(n,t),W(n,[{key:"name",get:function(){return this.AS}},{key:"timestamp",get:function(){return this.ZU}}]),n}(xo),OR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return $(n,t),n}(NR),xR=function(){function t(t,n){this.jg=void 0,this.tV=void 0,this.jg=new Sy,this.tV=new iS(t,n)}var n=t.prototype;return n.UT=function(t,n,i,r,e,u){var o=new _S(t,n,i,r,e,u);return this.jg.Nl(o),this.tV.Nl(o),o},n.HT=function(t){this.jg.Ol(t),this.tV.Ol(t),t.sr()},n.Pl=function(){for(var t=0,n=this.jg.Ll.slice();t<n.length;t++){n[t].sr()}this.jg.Pl(),this.tV.Pl()},n.sr=function(){this.Pl(),this.jg.sr(),this.tV.sr()},W(t,[{key:"Yg",get:function(){return this.jg}}]),t}(),PR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).CC=0,o.nV=!1,o.dR=void 0,o.lR=void 0,o.iV=void 0,o.DC=!0,o.NC=1,o.qg=void 0,o.Hg=void 0,o.rV=void 0,o.eV=void 0,o.uV=void 0,o.jg=void 0,o.LT=void 0,o.LU=void 0,o.oV=im.TC(),o.sV=im.TC(),o.AC=!1,o.cV=im.TC(),o.OC=void 0,o.aV=void 0,o.fV=void 0,o.YF=_d.Dw,o.$T=_d.Dw,o.gU=void 0,o.tV=void 0,o.gR=void 0,o.BF=void 0,o.hV=void 0,o.BC=void 0,o.hR=void 0,o._R=void 0,o.RM=void 0,o.pU={p_:0,m_:0,k_:0,b_:0,T_:0,E_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.vR=void 0,o.vV=void 0,o.mR=new Mp,o.setCurrentTime=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.C_.length){t.next=4;break}return o.CC=n,t.next=4,o.gU.Ks("seekablechange");case 4:o.CC=o.updateCurrentTime(n),o.BF.qF("THEOplayerSetCurrentTime",o.CC),o.OC=!0,o.qs(new $d(o.CC));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.dV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.oV=new im(i),o.qs(new sS(o.qw))}},o.lV=function(t){o.YF=t.detail.readyState,o.qs(new Yd(+t.detail.currentTime,o.uw)),o.wV()},o.yV=function(t){o.YF=t.detail.readyState,o.qs(new Kd(+t.detail.currentTime,o.uw)),o.wV()},o.gV=function(t){if(t.detail){var n=+t.detail.duration;o.LU=n,o.qs(new qd(o.Hw))}},o._V=function(t){t.detail&&(o.nV=!0,o.qs(new Wd(+t.detail.currentTime)))},o.kR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);IR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.lR=new OR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.dR=Ll(o.lR),o.qs(new Qd(o.lR))):IR(i)&&(o.lR=new NR(i.name,i.message,void 0,i.code,i.timestamp),o.dR=Ll(o.lR),o.qs(new Qd(o.lR)))}},o.pV=function(t){o.qs(new oS)},o.mV=function(t){o.YF=t.detail.readyState,o.qs(new zd(+t.detail.currentTime,o.uw)),o.wV()},o.kV=function(){var t=A.coroutine(qr.mark(function t(n){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.C_.length){t.next=3;break}return t.next=3,o.gU.Ks("seekablechange");case 3:o.YF=n.detail.readyState,o.qs(new Vd(+n.detail.currentTime,o.uw)),o.wV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.bV=function(t){t.detail&&o.qs(new Fd(+t.detail.currentTime))},o.TV=function(t){t.detail&&(o.DC||(o.DC=!0,o.qs(new Ld(+t.detail.currentTime))))},o.EV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.cV=new im(i).eC(.05)}},o.SV=function(t){t.detail&&o.qs(new rg(+t.detail.currentTime))},o.RV=function(t){t.detail&&(o.NC=t.detail.playbackRate,o.qs(new Hd(+t.detail.currentTime,o.NC)))},o.IV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.sV=new im(i)}},o.CV=function(t){t.detail&&(o.CC=+t.detail.currentTime,o.OC=!1,o.qs(new jd(o.CC,o.iV)),o.qs(new Xd(o.CC)))},o.AV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.LU&&(o.nV=!1),o.OC=!0,o.qs(new $d(n))}},o.DV=function(t){t.detail&&(t.detail.currentDate&&(o.iV=new Date(1e3*t.detail.currentDate)),o.CC=+t.detail.currentTime,o.qs(new jd(o.CC,o.iV)))},o.NV=function(t){o.aV=t.detail.height,o.fV=t.detail.width},o.OV=function(t){t.detail&&o.qs(new ig(+t.detail.currentTime))},o.xV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Xg.Nl(new $l(n))},o.PV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.qg.Fl;u++){var s=o.Xg.Dl(u);s.Kl==r&&s.Yl==e?i=o.qg.Dl(u):1==s.zl&&(n=o.qg.Dl(u))}i&&n&&(i.zl=!0,n.zl=!1)},o.LV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Gg.Nl(new Zl(n))},o.FV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Ey.km&&r===Yl.ID3?(n=new TS("",t.detail.label)).nw=Zv.rw:i===Ey.km&&r===Yl.DATE_RANGE?(n=new SR,o.vV=n):n=new _S(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.rV.Nl(n),o.tV.Nl(n)},o.MV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new kS(jv(r.startTime),u,r.uid),c=o.BV();c&&c.qT(s)}},o.UV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new sw(jv(e.startTime),jv(e.endTime),e.content,!1),s=null!=(r=o.VV(Ey.pm))?r:o.VV(Ey.AT);s&&(s.as=Yl.WEBVTT,s.qT(u))}},o.qV=function(t){t.type===Zo.Qa&&(o.dR=Ll(t.errorObject)),o.Vs(t)},o.HV=function(t){t.detail&&(o.pU.m_=t.detail.corruptedVideoFrames,o.pU.p_=t.detail.droppedVideoFrames,o.qs(new pR(o.Lg)))},o.jV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={$l:t.id};if(void 0!==t.startDate&&(n.oI=new Date(t.startDate)),void 0!==t.endDate&&(n.NU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=RR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.zU=r}void 0!==t.scte35Cmd&&(n.$U=cu(t.scte35Cmd)),void 0!==t.scte35In&&(n.GU=cu(t.scte35In)),void 0!==t.scte35Out&&(n.XU=cu(t.scte35Out)),void 0!==t.startTime&&(n.Y_=t.startTime),n.HU=t.class,n.Hw=jv(t.duration),n.jU=jv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Y_?t.Y_:(new Date).getTime(),r=new bR(t,i);o.vV.qT(r),o.vV.Hc(n,i)})};var s=e.uid;o.BF=o.getSdkBridge(s),o.gU=new VE,DE()[s].sdkEventBus=o.gU,o.qg=new Ml,o.Hg=new Ml;var c=o.WV(r);return o.LT=new xR(un(o),new rS),o.tV=new uS(un(o)),o.gR=new By(o.LT,c),o.rV=new Sy,o.eV=new zS(un(o)),o.eV.Hl=o.rV,o.uV=new $S(o.LT,o.eV),o.jg=new Vp([o.rV,o.gR.dk,o.uV.dk]),o.RM=o.getFairPlayControllerBridge(o.BF),o.hR=new _R(o.gU,o.RM),o._R=new Bp(c),o.hR.MR=o._R,o.observeMediaElement(),o.qR(),o.BC=new cS(o.BF,u),o.BC.Hs("YO",function(){o.BF.qF("THEOplayerSetPreferredForwardBufferDuration",o.BC.GO)}),o}$(n,t);var i=n.prototype;return i.c_=function(){return um},i.u_=function(){this.BF.qF("THEOplayerShow",{})},i.o_=function(){this.BF.qF("THEOplayerHide",{})},i.zV=function(){var t=this;this.BF.qF("THEOplayerSetInitialPreferredPeakBitRate",this.BC.sx);this.Hs("playing",function n(){t.BF.qF("THEOplayerSetInitialPreferredPeakBitRate",0),t.$s("playing",n)})},i.Zg=function(){var t=A.coroutine(qr.mark(function t(n,i){var r,e,u;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hV=n,r=Hr({},i,{sources:{src:n.src,type:wd.Tw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.BF.qF("THEOplayerSourceChange",r),e={as:Wy.WT,cw:n.src,Qh:n.type,HR:this.jR(n),WR:n.crossOrigin,zR:i.metadata&&i.metadata.title},this._R.QS(n.contentProtection),t.next=7,this.hR.Vc(e);case 7:this.vR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Yl.WEBVTT})).length>0&&this.$R(u),jy(this.Yg),this.zV();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.jR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Yc:ae,nI:[{initDataTypes:[ae.hs],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this.DC=!1,this.qs(new Fd(this.qw)),this.BF.qF("THEOplayerPlay",{})},i.nr=function(){this.DC=!0,this.qs(new Ld(this.qw)),this.BF.qF("THEOplayerPause",{})},i.s_=function(){},i.Pl=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.CC=0,this.nV=!1,this.dR=void 0,this.lR=void 0,this.DC=!0,this.NC=1,this.LU=void 0,this.sV=im.TC(),this.oV=im.TC(),this.aV=void 0,this.fV=void 0,this.YF=_d.Dw,this.$T=_d.Dw,this.qg.Pl(),this.Hg.Pl(),this.rV.Pl(),this.jg.Pl(),t.next=19,this.uV.Pl();case 19:return this.eV.Pl(),t.next=22,this.gR.Pl();case 22:return this.LT.Pl(),this.tV.Pl(),this.hV=void 0,t.next=27,this.hR.Pl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.n_=function(){this.BF.qF("THEOplayerShowAirPlayPicker",{})},i.i_=function(){this.BF.qF("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Lg.m_=t.m_,this.Lg.p_=t.p_},i.sr=function(){var t=A.coroutine(qr.mark(function t(){return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Pl();case 2:return this.zs(),this.unobserveMediaElement(),this.tI(),this.hR.MR=void 0,t.next=8,this.hR.Is();case 8:return this.qg.sr(),this.Hg.sr(),this.rV.sr(),this.jg.sr(),this.eV.sr(),t.next=15,this.uV.sr();case 15:return t.next=17,this.gR.sr();case 17:this.LT.sr(),this.tV.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$R=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gR.BT(i)}},i.wV=function(){var t=this.$T,n=this.YF;t!==n&&(this.$T=n,this.qs(new Jd(this.qw,n)))},i.observeMediaElement=function(){this.hR.Hs(Zo.Ga,this.Vs),this.hR.Hs([Zo.Za,Zo.Qa],this.qV),this.gU.addEventListener("play",this.bV),this.gU.addEventListener("pause",this.TV),this.gU.addEventListener("seeking",this.AV),this.gU.addEventListener("seeked",this.CV),this.gU.addEventListener("ratechange",this.RV),this.gU.addEventListener("durationchange",this.gV),this.gU.addEventListener("timeupdate",this.DV),this.gU.addEventListener("waiting",this.OV),this.gU.addEventListener("playing",this.SV),this.gU.addEventListener("ended",this._V),this.gU.addEventListener("loadedmetadata",this.kV),this.gU.addEventListener("loadeddata",this.mV),this.gU.addEventListener("loadstart",this.pV),this.gU.addEventListener("canplay",this.lV),this.gU.addEventListener("canplaythrough",this.yV),this.gU.addEventListener("error",this.kR),this.gU.addEventListener("seekablechange",this.IV),this.gU.addEventListener("videosizechange",this.NV),this.gU.addEventListener("bufferedchange",this.dV),this.gU.addEventListener("playedchange",this.EV),this.gU.addEventListener("metricschange",this.HV),this.gU.addEventListener("addDateRangeCues",this.jV)},i.unobserveMediaElement=function(){this.hR.$s(Zo.Ga,this.Vs),this.hR.$s([Zo.Za,Zo.Qa],this.qV),this.gU.removeEventListener("play",this.bV),this.gU.removeEventListener("pause",this.TV),this.gU.removeEventListener("seeking",this.AV),this.gU.removeEventListener("seeked",this.CV),this.gU.removeEventListener("ratechange",this.RV),this.gU.removeEventListener("durationchange",this.gV),this.gU.removeEventListener("timeupdate",this.DV),this.gU.removeEventListener("waiting",this.OV),this.gU.removeEventListener("playing",this.SV),this.gU.removeEventListener("ended",this._V),this.gU.removeEventListener("loadedmetadata",this.kV),this.gU.removeEventListener("loadeddata",this.mV),this.gU.removeEventListener("loadstart",this.pV),this.gU.removeEventListener("canplay",this.lV),this.gU.removeEventListener("canplaythrough",this.yV),this.gU.removeEventListener("error",this.kR),this.gU.removeEventListener("seekablechange",this.IV),this.gU.removeEventListener("videosizechange",this.NV),this.gU.removeEventListener("bufferedchange",this.dV),this.gU.removeEventListener("playedchange",this.EV),this.gU.removeEventListener("metricschange",this.HV),this.gU.removeEventListener("addDateRangeCues",this.jV)},i.updateCurrentTime=function(t){var n=this.C_.start(0),i=this.C_.end(0);return w.min(w.max(t,n),i)},i.BV=function(){for(var t=0,n=this.jg.Ll;t<n.length;t++){var i=n[t];if(i.Gl===Ey.km&&i.as===Yl.ID3)return i}},i.VV=function(t){for(var n=0,i=this.jg.Ll;n<i.length;n++){var r=i[n],e=r.nw===Zv.iw,u=r.Gl===t;if(e&&u)return r}},i.qR=function(){this.gU.addEventListener("addaudiotrack",this.xV),this.gU.addEventListener("enableaudiotrack",this.PV),this.gU.addEventListener("addvideotrack",this.LV),this.gU.addEventListener("addtexttrack",this.FV),this.gU.addEventListener("addtexttrackid3cues",this.MV),this.gU.addEventListener("addtexttrackcues",this.UV)},i.tI=function(){this.gU.removeEventListener("addaudiotrack",this.xV),this.gU.removeEventListener("enableaudiotrack",this.PV),this.gU.removeEventListener("addvideotrack",this.LV),this.gU.removeEventListener("addtexttrack",this.FV),this.gU.removeEventListener("addtexttrackid3cues",this.MV),this.gU.removeEventListener("addtexttrackcues",this.$V)},i.l_=function(){},W(n,[{key:"Xg",get:function(){return this.qg}},{key:"w_",get:function(){return this.oV.rI()}},{key:"y_",get:function(){return this.iV?this.iV:null},set:function(t){this.BF.qF("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.iV=t}},{key:"qw",get:function(){return this.CC},set:function(t){this.setCurrentTime(t)}},{key:"Hw",get:function(){return this.LU}},{key:"jw",get:function(){return this.nV}},{key:"ic",get:function(){return this.dR}},{key:"Ww",get:function(){return this.lR}},{key:"Kg",get:function(){}},{key:"__",get:function(){return this.hR.__}},{key:"Lg",get:function(){return this.pU}},{key:"zw",get:function(){return this.AC},set:function(t){this.AC!==t&&(this.BF.qF("THEOplayerSetMuted",t),this.AC=t,this.qs(new Gd(this.qw,t?0:1)))}},{key:"$w",get:function(){return this.DC}},{key:"Xw",get:function(){return this.NC},set:function(t){this.BF.qF("THEOplayerSetPlaybackRate",t),this.NC=t}},{key:"R_",get:function(){return this.cV.rI()}},{key:"I_",get:function(){return Gp.RI},set:function(t){}},{key:"uw",get:function(){return this.YF}},{key:"C_",get:function(){return this.sV.rI()}},{key:"Gw",get:function(){return this.OC}},{key:"oI",get:function(){}},{key:"Yg",get:function(){return this.jg}},{key:"Yw",get:function(){return this.aV}},{key:"Kw",get:function(){return this.fV}},{key:"Jw",get:function(){return 1},set:function(t){}},{key:"Gg",get:function(){return this.Hg}},{key:"sI",get:function(){return this.mR}},{key:"S_",get:function(){return!0}}]),n}(cd),LR=function(){function t(){this.cI=Np.zS}var n=t.prototype;return n.aI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((r=n.type)&&de(r.toLowerCase(),wd.bw))return!1;var r,e=n.contentProtection;if(e&&!qg(e)){if(!Wg(e))return!1;if(!t.XV(e))return!1}return!0},t.XV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.fI=function(){return!1},t}(),FR=function(){function n(t){this.playerID=t}return n.prototype.qF=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),MR=function(t){function n(n){var i;return(i=t.call(this)||this).BF=void 0,i.gU=void 0,i.GV=function(t){var n=cu(t.detail.initData),r=t.detail.sessionId;i.qs(new CS(n,r))},i.YV=function(t){var n=new p(wu(t.detail.message)),r=t.detail.destinationURL;i.qs(new AS(n,r))},i.KV=function(t){i.qs(new DS)},i.BF=n,i.gU=new VE,DE().fairplayController={sdkEventBus:i.gU},i.JV(),i}$(n,t);var i=n.prototype;return i.JV=function(){this.gU.addEventListener(mS.gM,this.GV),this.gU.addEventListener(mS._M,this.YV),this.gU.addEventListener(mS.pM,this.KV)},i.EM=function(t,n){var i={playerId:OE(),data:yu(n.buffer),sessionId:t};this.BF.qF("THEOplayerCreateKeySession",i)},i.Hc=function(t,n){var i={playerId:OE(),data:yu(n.buffer),sessionId:t};this.BF.qF("THEOplayerUpdateKey",i)},n}(cd),BR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.wv=function(n){if(Qu(n.Zh)){var i=Zu(n.Zh);n.Zh=Hu(i)}return t.prototype.wv.call(this,n)},n}(function(){function t(t){this.FT=void 0,this.FT=t}var n=t.prototype;return n.wv=function(t){return this.FT.wv(t)},n.Vv=function(t){this.FT.Vv(t)},n.sr=function(){this.FT.sr()},t}()),UR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}$(n,t);var i=n.prototype;return i.t_=function(){return!1},i.getSdkBridge=function(t){return new FR(t)},i.getFairPlayControllerBridge=function(t){return AR||(AR=new MR(t)),AR},i.WV=function(t){return new BR(t)},n}(PR);CR=new(function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.HE=function(t,n,i,r,e,u){return new UR(t,n,i,r,e)},n}(LR)),Xp.Ze.yI(CR),function(t){t.Qd="addtrack",t.tl="removetrack",t._l="change",t.El="update"}(DR||(DR={}));var VR=function(t,n,i){this.type=DR._l,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},qR=function(t,n){this.type=DR.Qd,this.mediaType=t,this.mediaTrack=n},HR=function(t,n){this.type=DR.tl,this.mediaType=t,this.mediaTrack=n},jR=function(t,n){this.type=DR.El,this.mediaType=t,this.mediaTrack=n},WR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.QV=function(t){var n=new VR(r.type,t.track,r.mediaTracks);r.messageDispatcher.ZV(n)},this.tq=function(t){var n=new qR(r.type,t.track);r.messageDispatcher.ZV(n),t.track.addEventListener("update",r.nq)},this.iq=function(t){var n=new HR(r.type,t.track);r.messageDispatcher.ZV(n)},this.nq=function(t){var n=new jR(r.type,t.track);r.messageDispatcher.ZV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.JV()}return t.prototype.JV=function(){this.mediaTracks.addEventListener("change",this.QV),this.mediaTracks.addEventListener("addtrack",this.tq),this.mediaTracks.addEventListener("removetrack",this.iq)},t}(),zR=function(){function t(t){this.rq=void 0,this.rq=new FR(t)}return t.prototype.ZV=function(t){this.rq.qF(t.type,ZT(t))},t}();ST(function(t){if(t.ul.audioTracks){var n=new zR(t.Xl);new WR("audio",t.ul.audioTracks,n)}if(t.ul.videoTracks){var i=new zR(t.Xl);new WR("video",t.ul.videoTracks,i)}});var $R,XR,GR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $R.uq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.qs(new YR(i));break;default:0}},n}(VE),YR=function(t){function n(n){var i;return(i=t.call(this,$R.uq)||this).detail=n,i}return $(n,t),n}(Ge);!function(t){t.uq="registerContentProtectionIntegration"}($R||($R={})),function(t){t.oq="certifiateRequest",t.sq="certifiateResponse",t.cq="licenseRequest",t.aq="licenseResponse",t.fq="extractFairplayContentId",t.hq="buildContentProtection",t.vq="registerContentProtectionCallback"}(XR||(XR={}));var KR,JR=function(t,n){this.type=XR.vq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(KR||(KR={}));var QR,ZR=function(t,n){this.type=XR.hq,this.value=t,this.integrationId=n},tI=function(t,n){this.type=XR.oq,this.value=t,this.integrationId=n},nI=function(t,n){this.type=XR.sq,this.value=t,this.integrationId=n},iI=function(t,n){this.type=XR.fq,this.value=t,this.integrationId=n},rI=function(t,n){this.type=XR.cq,this.value=t,this.integrationId=n},eI=function(t,n){this.type=XR.aq,this.value=t,this.integrationId=n},uI=function(){function t(t,n){this.dq=void 0,this.jE=void 0,this.dq=t,this.jE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new tI(r,this.jE),t.prev=2,t.next=5,this.dq.lq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.wq(o)){t.next=13;break}return s=Hr({},o),t.abrupt("return",s);case 13:if(!this.yq(o)){t.next=16;break}return c=new p(o),t.abrupt("return",c);case 16:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new nI(e,this.jE),t.next=5,this.dq.lq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new p(s));case 11:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c,a;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new rI(e,this.jE),t.prev=3,t.next=6,this.dq.lq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.wq(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new p(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.yq(s)){t.next=17;break}return a=new p(s),t.abrupt("return",a);case 17:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=A.coroutine(qr.mark(function t(i){var r,e,u,o,s,c;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Hr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new eI(u,this.jE),t.next=6,this.dq.lq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new p(c));case 12:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=A.coroutine(qr.mark(function t(i){var r,e;return qr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new iI(i,this.jE),t.next=3,this.dq.lq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",A.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.wq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.yq=function(t){return!!new p(t)},t}(),oI=function(){function t(t){this.dq=void 0,this.dq=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new uI(this.dq,t.integration),i=new ZR({drmConfiguration:t},t.integration);return this.dq.lq(i),n},t}(),sI=function(){var t=this;this.gU=void 0,this.gq=function(n){var i=new oI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:xg.YE.zE(e,u,i)};t.messageDispatcher.lq(new JR(o,e))},this.gU=new GR,DE().contentProtectionIntegration={sdkEventBus:this.gU},this.gU.addEventListener($R.uq,this.gq)},cI="nativePromiseCallback",aI=function(t){function n(n){var i;return(i=t.call(this,cI)||this).detail=n,i}return $(n,t),n}(Ge);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(QR||(QR={}));var fI=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.qs(new aI(n))},i.addEventListener=function(t,n){this.Hs(t,n)},i.removeEventListener=function(t,n){this.$s(t,n)},n}(VE),hI=function(){function t(){var t=this;this.rq=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case QR.RESOLVE:i.Ec(n.detail.data);break;case QR.REJECT:i.Sc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new fI;DE().nativePromise={sdkEventBus:n},n.addEventListener(cI,this.handleNativePromiseEvent)}return t.prototype.lq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Hr({},n,{promiseId:r}),u=new ro;return this.promisesMap[r]=u,null==(i=this.rq)||i.qF(n.type,JT(e)),u.Tc},t}();hI.messageIdTracker=-1;var vI=function(t){function n(n){var i;return(i=t.call(this)||this).rq=new FR(n),i}return $(n,t),n}(hI),dI=function(t){function n(n){var i;return(i=t.call(this)||this).dq=void 0,i.dq=new vI(n),i}return $(n,t),W(n,[{key:"messageDispatcher",get:function(){return this.dq}}]),n}(sI);ST(function(t){new dI(t.ul.uid)}),n.ChromelessPlayer=zT,n.Player=zT,n.createGlobals=xE,n.features=[],n.getCueMirrorMap=NE,n.getGlobalId=OE,n.getSdkEventBridge=DE,n.playerSuiteVersion="2021.4.0",n.players=XT,n.registerContentProtectionIntegration=GT,n.utils=$T,n.version="2.90.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
